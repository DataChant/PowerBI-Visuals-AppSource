var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,i){void 0===t&&(t=[]);var r=t;return n(r),e&&(r.identityFields=e),i&&(r.source=i),r}function n(t,e){t.grouped=e?function(){return e}:function(){return i(t)}}function i(t){for(var e,n=[],i=0,r=t.length;r>i;i++){var s=t[i];if(!e||e.identity!==s.identity){if(e={values:[]},s.identity){e.identity=s.identity;var a=s.source;void 0!==a.groupName?e.name=a.groupName:a.displayName&&(e.name=a.displayName)}n.push(e)}e.values.push(s)}return n}t.createValueColumns=e,t.setGrouped=n,t.groupValues=i}(e=t.DataViewTransform||(t.DataViewTransform={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e){if(!t||!t.length)return-1;var n=t[0];if(n.values&&n.values.length>0)for(var r=0,s=n.values.length;s>r;++r){var a=n.values[r];if(a&&a.source&&i(a.source,e))return r}return-1}function n(t,e){if(t&&t.length)for(var n=0,r=t.length;r>n;n++)if(i(t[n].source,e))return n;return-1}function i(t,e){var n=t.roles;return n&&n[e]}function r(t,e){return null!=t&&null!=t.metadata&&t.metadata.columns&&t.metadata.columns.some(function(t){return t.roles&&void 0!==t.roles[e]})}function s(t,e){return t&&t.source&&t.source.roles&&t.source.roles[e]===!0}t.getMeasureIndexOfRole=e,t.getCategoryIndexOfRole=n,t.hasRole=i,t.hasRoleInDataView=r,t.hasRoleInValueColumn=s}(e=t.DataRoleHelper||(t.DataRoleHelper={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,n){if(!t)return n;var i=t[e];return void 0===i?n:i}function n(t,n,i){var r=e(t,n);return r&&r.solid?r.solid.color:i}t.getValue=e,t.getFillColorByPropertyName=n}(e=t.DataViewObject||(t.DataViewObject={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){function n(e,n,i){return e?t.DataViewObject.getValue(e[n.objectName],n.propertyName,i):i}function i(t,e,n){return t&&t[e]?t[e]:n}function r(t,e,i){var r=n(t,e);return r&&r.solid?r.solid.color:i}function s(t,e,i){var r=n(t,e,i);return r&&r.solid?r.solid.color:void 0===r||null===r||"object"==typeof r&&!r.solid?i:r}e.getValue=n,e.getObject=i,e.getFillColor=r,e.getCommonValue=s}(e=t.DataViewObjects||(t.DataViewObjects={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){var n,i=t.extensibility.utils.dataview.DataRoleHelper;!function(t){function e(t,e,n){if(t.categories&&t.categories.length>0){var r=t.categories[0];return r.source&&i.hasRole(r.source,e)&&i.hasRole(r.source,n)}return!1}function n(t){return void 0!==t.groupName?t.groupName:t.queryName}function r(t){var e=a(t);return null!=e&&e.imageUrl===!0}function s(t){var e=a(t);return null!=e&&e.webUrl===!0}function a(t){return t&&t.type&&t.type.misc}function o(t){return t&&t.metadata&&t.metadata.columns&&t.metadata.columns.length?t.metadata.columns.some(function(t){return r(t)===!0}):!1}t.categoryIsAlsoSeriesRole=e,t.getSeriesName=n,t.isImageUrlColumn=r,t.isWebUrlColumn=s,t.getMiscellaneousTypeDescriptor=a,t.hasImageUrlColumn=o}(n=e.converterHelper||(e.converterHelper={}))}(n=e.dataview||(e.dataview={}))}(n=e.utils||(e.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){}return e.getDefault=function(){return new this},e.createPropertyIdentifier=function(t,e){return{objectName:t,propertyName:e}},e.parse=function(e){var n,i=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return i;n=i.getProperties();for(var r in n)for(var s in n[r]){var a=i[r][s];i[r][s]=t.DataViewObjects.getCommonValue(e.metadata.objects,n[r][s],a)}return i},e.isPropertyEnumerable=function(t){return!e.InnumerablePropertyPrefix.test(t)},e.enumerateObjectInstances=function(t,e){var n=t&&t[e.objectName];if(!n)return[];var i={objectName:e.objectName,selector:null,properties:{}};for(var r in n)n.hasOwnProperty(r)&&(i.properties[r]=n[r]);return{instances:[i]}},e.prototype.getProperties=function(){var t=this,n={},i=Object.keys(this);return i.forEach(function(i){if(e.isPropertyEnumerable(i)){var r=Object.keys(t[i]);n[i]={},r.forEach(function(t){e.isPropertyEnumerable(i)&&(n[i][t]=e.createPropertyIdentifier(i,t))})}}),n},e}();e.InnumerablePropertyPrefix=/^_/,t.DataViewObjectsParser=e}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){"use strict";function e(){a=0}function n(){return 0===a}function i(t,e){var n=[];if(t&&t.hasChildNodes()){for(var i=t.children,s=0;s<i.length;s++){var a=void 0;a="script"===i.item(s).nodeName.toLowerCase()?r(i.item(s)):i.item(s).cloneNode(!0),e.appendChild(a),n.push(a)}return n}}function r(t){for(var e=document.createElement("script"),n=t.attributes,i=0;i<n.length;i++)e.setAttribute(n[i].name,n[i].textContent),"src"===n[i].name.toLowerCase()&&(a++,e.onload=function(){a--});return e.innerHTML=t.innerHTML,e}function s(){var t=window.setInterval(function(){n()&&(window.clearInterval(t),window.hasOwnProperty("HTMLWidgets")&&window.HTMLWidgets.staticRender&&window.HTMLWidgets.staticRender())},100)}var a=0;t.ResetInjector=e,t.injectorReady=n,t.ParseElement=i,t.RunHTMLWidgetRenderer=s}(e=t.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work||(t.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work={}))}(e=t.visual||(t.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){"use strict";function n(t,e,n){return e>t?e:t>n?n:t}var i=t.extensibility.utils.dataview.DataViewObjectsParser;e.inMinMax=n;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.settings_forecastPlot_params=new s,e.settings_conf_params=new a,e.settings_graph_params=new o,e.settings_additional_params=new u,e.settings_export_params=new c,e}return __extends(e,t),e}(i);e.VisualSettings=r;var s=function(){function t(){this.forecastLength=10,this.seasonType="Automatic",this.errorType="Automatic",this.trendType="Automatic",this.dampingType="Automatic",this.targetSeason="Automatic"}return t}();e.SettingsForecastPlotParams=s;var a=function(){function t(){this.show=!0,this.confInterval1="0.8",this.confInterval2="0.95"}return t}();e.SettingsConfParams=a;var o=function(){function t(){this.dataCol="orange",this.forecastCol="red",this.percentile=40,this.weight=10}return t}();e.SettingsGraphParams=o;var u=function(){function t(){this.showInfo=!0,this.textSize=10}return t}();e.SettingsAdditionalParams=u;var c=function(){function t(){this.show=!1,this.limitExportSize="10000",this.method="copy"}return t}();e.SettingsExportParams=c}(n=e.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work||(e.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work={}))}(n=e.visual||(e.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){"use strict";var n=!1,i=[t.VisualUpdateType.Resize,t.VisualUpdateType.ResizeEnd,t.VisualUpdateType.Resize+t.VisualUpdateType.ResizeEnd],r=function(){function t(t){t&&t.element&&(this.rootElement=t.element),this.headNodes=[],this.bodyNodes=[]}return t.prototype.update=function(e){if(e&&e.type&&e.viewport&&e.dataViews&&0!==e.dataViews.length&&e.dataViews[0]){var n=e.dataViews[0];this.settings=t.parseSettings(n);var r=null;n.scriptResult&&n.scriptResult.payloadBase64&&(r=n.scriptResult.payloadBase64),-1===i.indexOf(e.type)?r&&this.injectCodeFromPayload(r):this.onResizing(e.viewport)}},t.prototype.onResizing=function(t){},t.prototype.injectCodeFromPayload=function(t){if(e.ResetInjector(),t){var i=document.createElement("html");try{i.innerHTML=window.atob(t)}catch(r){return}if(n||0===this.headNodes.length){for(;this.headNodes.length>0;){var s=this.headNodes.pop();document.head.removeChild(s)}var a=i.getElementsByTagName("head");if(a&&a.length>0){var o=a[0];this.headNodes=e.ParseElement(o,document.head)}}for(;this.bodyNodes.length>0;){var s=this.bodyNodes.pop();this.rootElement.removeChild(s)}var u=i.getElementsByTagName("body");if(u&&u.length>0){var c=u[0];this.bodyNodes=e.ParseElement(c,this.rootElement)}e.RunHTMLWidgetRenderer()}},t.parseSettings=function(t){return e.VisualSettings.parse(t)},t.prototype.enumerateObjectInstances=function(t){var n=t.objectName,i=[];switch(n){case"settings_forecastPlot_params":"None"!==this.settings.settings_forecastPlot_params.trendType?i.push({objectName:n,properties:{forecastLength:Math.round(e.inMinMax(this.settings.settings_forecastPlot_params.forecastLength,1,12e3)),trendType:this.settings.settings_forecastPlot_params.trendType,dampingType:this.settings.settings_forecastPlot_params.dampingType,errorType:this.settings.settings_forecastPlot_params.errorType,seasonType:this.settings.settings_forecastPlot_params.seasonType,targetSeason:this.settings.settings_forecastPlot_params.targetSeason},selector:null}):i.push({objectName:n,properties:{forecastLength:Math.round(e.inMinMax(this.settings.settings_forecastPlot_params.forecastLength,1,1e5)),trendType:this.settings.settings_forecastPlot_params.trendType,errorType:this.settings.settings_forecastPlot_params.errorType,seasonType:this.settings.settings_forecastPlot_params.seasonType},selector:null});break;case"settings_conf_params":i.push({objectName:n,properties:{show:this.settings.settings_conf_params.show,confInterval1:this.settings.settings_conf_params.confInterval1,confInterval2:this.settings.settings_conf_params.confInterval2},selector:null});break;case"settings_graph_params":i.push({objectName:n,properties:{dataCol:this.settings.settings_graph_params.dataCol,forecastCol:this.settings.settings_graph_params.forecastCol,percentile:this.settings.settings_graph_params.percentile,weight:e.inMinMax(this.settings.settings_graph_params.weight,1,50)},selector:null});break;case"settings_additional_params":this.settings.settings_additional_params.showInfo===!0?i.push({objectName:n,properties:{showInfo:this.settings.settings_additional_params.showInfo,textSize:this.settings.settings_additional_params.textSize},selector:null}):i.push({objectName:n,properties:{showInfo:this.settings.settings_additional_params.showInfo},selector:null});break;case"settings_export_params":i.push({objectName:n,properties:{show:this.settings.settings_export_params.show,limitExportSize:this.settings.settings_export_params.limitExportSize,method:this.settings.settings_export_params.method},selector:null})}return i},t}();e.Visual=r}(n=e.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work||(e.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work={}))}(n=e.visual||(e.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){e.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work={name:"PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work",displayName:"Forecasting","class":"Visual",version:"1.0.4",apiVersion:"1.10.0",create:function(e){return new t.extensibility.visual.PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21F_HTML_work.Visual(e)},custom:!0}}(n=e.plugins||(e.plugins={}))}(e=t.visuals||(t.visuals={}))}(powerbi||(powerbi={}));