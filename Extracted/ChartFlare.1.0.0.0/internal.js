var ChartFlare;(()=>{"use strict";var t={3401:(t,e,n)=>{n.d(e,{Z:()=>i,w:()=>h});var i,r=n(706),a=r.Zb,s=r.Hn;!function(t){t.Right="legendPositionsTypeRight",t.Left="legendPositionsTypeLeft",t.TopColumn="legendPositionsTypeTopColumn",t.TopRow="legendPositionsTypeTopRow",t.BottomColumn="legendPositionsTypeBottomColumn",t.BottomRow="legendPositionsTypeBottomRow"}(i||(i={}));const o=[{value:i.Right,displayName:"Right"},{value:i.Left,displayName:"Left"},{value:i.TopColumn,displayName:"Top - column"},{value:i.TopRow,displayName:"Top - row"},{value:i.BottomColumn,displayName:"Bottom - column"},{value:i.BottomRow,displayName:"Bottom - row"}];class l extends a{constructor(){super(...arguments),this.color0=new r.zH({name:"color-0",displayName:"Color 0",value:{value:"#00478a"}}),this.color1=new r.zH({name:"color-1",displayName:"Color 1",value:{value:"#337fc6"}}),this.color2=new r.zH({name:"color-2",displayName:"Color 2",value:{value:"#00d8ff"}}),this.ringLabelsColor=new r.zH({name:"ringLabelsColor",displayName:"Ring Labels Color",value:{value:"#ffffff"}}),this.fitRings=new r.Zh({name:"fitRings",displayName:"Fit Rings",value:!0}),this.showLegend=new r.Zh({name:"showLegend",displayName:"Show Legend",value:!0}),this.legendPosition=new r.zt({name:"legendPosition",displayName:"Legend Position",items:o,value:o[0]}),this.decimalPlaces=new r.L_({name:"decimalPlaces",displayName:"Decimal Places",value:2,options:{minValue:{type:0,value:0},maxValue:{type:1,value:10}}}),this.ringFontSize=new r.L_({name:"ringFontSize",value:16}),this.ringFontFamily=new r.xp({name:"ringFontFamily",value:"wf_standard-font, helvetica, arial, sans-serif"}),this.ringFontBold=new r.Zh({name:"ringFontBold",value:!1}),this.ringFontItalic=new r.Zh({name:"ringFontItalic",value:!1}),this.ringFontUnderline=new r.Zh({name:"ringFontUnderline",value:!1}),this.ringFontControl=new r.v5({name:"ringFontControl",displayName:"Ring Font Control",fontFamily:this.ringFontFamily,fontSize:this.ringFontSize,bold:this.ringFontBold,italic:this.ringFontItalic,underline:this.ringFontUnderline}),this.legendFontSize=new r.L_({name:"legendFontSize",value:12}),this.legendFontFamily=new r.xp({name:"legendFontFamily",value:"wf_standard-font, helvetica, arial, sans-serif"}),this.legendFontBold=new r.Zh({name:"legendFontBold",value:!1}),this.legendFontItalic=new r.Zh({name:"legendFontItalic",value:!1}),this.legendFontUnderline=new r.Zh({name:"legendFontUnderline",value:!1}),this.legendFontControl=new r.v5({name:"legendFontControl",displayName:"Legend Font Control",fontFamily:this.legendFontFamily,fontSize:this.legendFontSize,bold:this.legendFontBold,italic:this.legendFontItalic,underline:this.legendFontUnderline}),this.legendLabelsColor=new r.zH({name:"legendLabelsColor",displayName:"Legend Labels Color",value:{value:"#605e5c"}}),this.name="ChartFlareProperties",this.displayName="Chart Flare Properties",this.slices=[this.color0,this.color1,this.color2,this.ringLabelsColor,this.fitRings,this.showLegend,this.legendPosition,this.decimalPlaces,this.ringFontControl,this.legendLabelsColor,this.legendFontControl]}}class h extends s{constructor(){super(...arguments),this.visualizationSettings=new l,this.cards=[this.visualizationSettings]}}},7546:(t,e,n)=>{n.d(e,{u:()=>d});var i=n(4261),r=n(3838),a=n(6348),s=n(3399),o=n(8063),l=n(2839),h=n(3401),u=n(8401);class d{constructor(t){this.tau=2*Math.PI,this.gap=2,this.animationDuration=1e3,this.defaultColors=["#00478a","#337fc6","#00d8ff"],this.defaultTextColor="#ffffff",this.defaultLegendTextColor="#605e5c",this.legendMargin=20,this.defaultRingFontSize=16,this.defaultRingFontFamily="wf_standard-font, helvetica, arial, sans-serif",this.defaultLegendFontSize=12,this.defaultLegendFontFamily="wf_standard-font, helvetica, arial, sans-serif",this.graphHeight=0,this.graphWidth=0,this.legendHeight=0,this.legendWidth=0,this.legendPosition=h.Z.Right,this.values=[],this.previousValues=[],this.colors=[],this.selectedIndex=null,this.isFitRings=!0,this.isShowLegend=!0,this.decimalPlaces=2,this.ringFontSize=16,this.ringFontFamily="wf_standard-font, helvetica, arial, sans-serif",this.isRingFontBold=!1,this.isRingFontItalic=!1,this.isRingFontUnderline=!1,this.legendFontSize=12,this.legendFontFamily="wf_standard-font, helvetica, arial, sans-serif",this.isLegendFontBold=!1,this.isLegendFontItalic=!1,this.isLegendFontUnderline=!1,this.isLandingPage=!0,this.highlightsData=[],this.host=t.host,this.formattingSettingsService=new i.Z,this.tooltipServiceWrapper=(0,u.p)(this.host.tooltipService,t.element),this.selectionManager=this.host.createSelectionManager(),this.selectionManager.clear(),this.selectionManager.registerOnSelectCallback((()=>{this.selectionManager.clear(),this.updateGraphSelected(null)})),this.target=t.element,this.setDimensions(t.element.clientHeight,t.element.clientWidth),this.colors=[...this.defaultColors],this.drawLandingPage(),this.handleContextMenu()}update(t){var e,n,i,r;this.formattingSettings=this.formattingSettingsService.populateFormattingSettingsModel(h.w,t.dataViews);const a=Number(t.viewport.height.toFixed(0)),s=Number(t.viewport.width.toFixed(0)),o=(null===(n=null===(e=t.dataViews[0].categorical)||void 0===e?void 0:e.values)||void 0===n?void 0:n.filter((t=>t.source.roles.Values)))||[];if(0===o.length)this.isViewportChanged(a,s)&&this.setDimensions(a,s),this.drawLandingPage();else{this.isLandingPage&&(this.isLandingPage=!1,this.drawGraph());const e=t.dataViews[0].categorical.categories?t.dataViews[0].categorical.categories[0]:null,n=(null===(i=t.dataViews[0].categorical.values.find((t=>t.source.roles.Targets)))||void 0===i?void 0:i.values)||[],l=this.getCurrentData(o,n,e),h=t.dataViews[0].metadata.objects,u=t.dataViews[0].categorical.values[2];this.tooltipFieldData=u?{displayName:u.source.displayName,values:u.values}:{displayName:"",values:[]};const d=null===(r=t.dataViews[0].categorical.values.find((t=>t.source.roles.Values)))||void 0===r?void 0:r.highlights;if(this.handleHighlight(d),this.isViewportChanged(a,s)&&(this.setDimensions(a,s),this.drawGraph()),this.isValuesChanged(l)&&(this.setDimensions(a,s),this.values=JSON.parse(JSON.stringify(l)),this.updateGraphValues()),this.isMetadataChanged(h)){if(h)for(let t=0;t<Object.keys(h.ChartFlareProperties).length;t++)this.isFitRingsChanged(h.ChartFlareProperties.fitRings)?this.setFitRings(h):this.isShowLegendChanged(h.ChartFlareProperties.showLegend)?this.setShowLegend(h):this.isLegendPositionChanged(h.ChartFlareProperties.legendPosition)?this.setLegendPosition(h):this.isDecimalPlacesChanged(h.ChartFlareProperties.decimalPlaces)?this.setDecimalPlaces(h):this.isRingFontSizeChanged(h.ChartFlareProperties.ringFontSize)?this.setRingFontSize(h):this.isRingFontFamilyChanged(h.ChartFlareProperties.ringFontFamily)?this.setRingFontFamily(h):this.isRingFontBoldChanged(h.ChartFlareProperties.ringFontBold)?this.setRingFontBold(h):this.isRingFontItalicChanged(h.ChartFlareProperties.ringFontItalic)?this.setRingFontItalic(h):this.isRingFontUnderlineChanged(h.ChartFlareProperties.ringFontUnderline)?this.setRingFontUnderline(h):this.isLegendFontSizeChanged(h.ChartFlareProperties.legendFontSize)?this.setLegendFontSize(h):this.isLegendFontFamilyChanged(h.ChartFlareProperties.legendFontFamily)?this.setLegendFontFamily(h):this.isLegendFontBoldChanged(h.ChartFlareProperties.legendFontBold)?this.setLegendFontBold(h):this.isLegendFontItalicChanged(h.ChartFlareProperties.legendFontItalic)?this.setLegendFontItalic(h):this.isLegendFontUnderlineChanged(h.ChartFlareProperties.legendFontUnderline)&&this.setLegendFontUnderline(h);else this.resetGraph();this.drawGraph(),this.setGraphColors(h),this.updateGraphColors()}this.handleWarnings(),this.handleContextMenu()}}getFormattingModel(){return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}updateGraphValues(){0!==this.previousValues.length&&JSON.stringify(this.previousValues)===JSON.stringify(this.values)||(this.previousValues=JSON.parse(JSON.stringify(this.values)),this.drawGraph()),(0,s.eR)().each((()=>{const t=this.getRingsData();this.graph.selectAll("path.value").data(t).transition().duration(1.5*this.animationDuration).ease(l._D).attrTween("d",(t=>{const e=(0,o.Z)(Number(t.previousValue),Number(t.value));return n=>(t.value=e(n),this.valueArc(t))})),this.values.some((t=>null!==t.secondValue))&&this.graph.selectAll("path.secondValue").data(t).transition().duration(1.5*this.animationDuration).ease(l._D).attrTween("d",(t=>{const e=(0,o.Z)(Number(t.previousSecondValue),Number(t.secondValue));return n=>(t.secondValue=e(n),this.secondValueArc(t))}))}))}updateGraphColors(){const t=this.getRingsData();(0,s.eR)().each((()=>{this.graph.selectAll(".label").transition().duration(.5*this.animationDuration).style("fill",this.ringLabelsColor?this.ringLabelsColor:this.defaultTextColor),this.graph.selectAll("path.value").data(t).transition().duration(.5*this.animationDuration).style("fill",(t=>t.color)),this.graph.selectAll("path.bg").data(t).transition().duration(.5*this.animationDuration).style("fill",(t=>t.color))})),this.isShowLegend&&this.drawLegend(t)}updateGraphSelected(t){[{selector:"path.value",opacity:.25},{selector:"path.secondValue",opacity:.5}].forEach((e=>{this.rings.selectAll(e.selector).transition().duration(.25*this.animationDuration).style("opacity",(n=>t===n.index||null===t?1:e.opacity))})),this.rings.selectAll(".label-middle").transition().duration(.25*this.animationDuration).style("opacity",(e=>t!==e.index||null===t?0:1)),this.legendItems.transition().duration(.25*this.animationDuration).style("opacity",(e=>t===e.index||null===t?1:.4))}drawGraph(){this.removeGraphIfExist();const t=this.getRingsData();this.valueArc=(0,a.Z)().startAngle(0).endAngle((t=>t.value/100*this.tau)).innerRadius((e=>this.getInnerRadius(t.length,e.index))).outerRadius((e=>this.getOuterRadius(t.length,e.index))).cornerRadius(0),this.secondValueArc=(0,a.Z)().startAngle(0).endAngle((t=>t.secondValue/100*this.tau)).innerRadius((e=>this.getInnerRadius(t.length,e.index))).outerRadius((e=>this.getOuterRadius(t.length,e.index))).cornerRadius(0);const e=(0,a.Z)().startAngle(0).endAngle(this.tau).innerRadius((e=>this.getInnerRadius(t.length,e.index))).outerRadius((e=>this.getOuterRadius(t.length,e.index)));this.svg=(0,r.Z)(this.target).append("svg").attr("class","ChartFlare").attr("width",this.width).attr("height",this.height);const n=this.svg.append("rect").attr("width",this.width).attr("height",this.height).attr("opacity",0);t.length>0&&this.isShowLegend?this.drawLegend(t):(this.graphHeight=Math.min(this.height,this.width),this.graphWidth=this.graphHeight),this.graph=this.svg.append("g").attr("class","ChartFlare_Graph").attr("width",this.graphWidth).attr("height",this.graphHeight).attr("transform",this.getGraphTranslateDependOnLegend()),this.rings=this.graph.selectAll("g").data(t).enter().append("g").attr("class","ring"),this.rings.append("path").attr("class","bg").style("fill",(t=>t.color)).style("opacity",.2).attr("d",e),this.rings.append("path").attr("class","ring value").style("fill",(t=>t.color)).attr("d",this.valueArc).each(((t,e,n)=>{this.tooltipServiceWrapper.addTooltip((0,r.Z)(n[e]),(()=>this.getTooltipData(t,this.tooltipFieldData)),(()=>null))})),this.svg.append("defs").append("pattern").attr("id","stripes").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("path").attr("d","M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2").attr("stroke","#000000").attr("stroke-width",.75),this.rings.append("path").attr("class","ring secondValue").attr("fill","url(#stripes)").attr("d",this.secondValueArc),this.rings.selectAll(".ring").each((function(t,e){t.value<t.secondValue&&0===e&&(0,r.Z)(this).raise()})),this.isFitRings||this.drawLabelsInRings(),this.drawLabelsForRings(t.length),this.addInteractionsToGraph(n)}drawLegend(t){var e,n;const i=this.svg.select(".ChartFlare_Legend");if(i.empty()||i.remove(),this.legend=(0,r.Z)(this.target).select("svg").append("g").attr("class","ChartFlare_Legend"),this.legendItems=this.legend.selectAll("g").data(t).enter().append("g").attr("class","ChartFlare_LegendItem"),this.legendPosition===h.Z.TopRow||this.legendPosition===h.Z.BottomRow){this.legendItems.append("circle").attr("cx",10).attr("cy",8).attr("r",5).style("fill",(t=>t.color)),this.legendItems.append("text").attr("class","legendText").attr("x",18).attr("y",10).text((t=>t.name)).style("font-size",`${this.legendFontSize}px`).style("font-family",this.legendFontFamily).style("font-weight",this.isLegendFontBold?"bold":"normal").style("font-style",this.isLegendFontItalic?"italic":"normal").style("text-decoration",this.isLegendFontUnderline?"underline":"none").attr("alignment-baseline","middle").style("fill",this.legendLabelsColor?this.legendLabelsColor:this.defaultLegendTextColor);let t=0;this.legendItems.attr("transform",(function(){const e=t;return t+=this.getBBox().width+10,`translate(${e},0)`}))}else this.legendItems.append("circle").attr("cx",10).attr("cy",(t=>25*t.index+8)).attr("r",5).style("fill",(t=>t.color)),this.legendItems.append("text").attr("class","legendText").attr("x",18).attr("y",(t=>25*t.index+10)).text((t=>t.name)).style("font-size",`${this.legendFontSize}px`).style("font-family",this.legendFontFamily).style("font-weight",this.isLegendFontBold?"bold":"normal").style("font-style",this.isLegendFontItalic?"italic":"normal").style("text-decoration",this.isLegendFontUnderline?"underline":"none").attr("alignment-baseline","middle").style("fill",this.legendLabelsColor?this.legendLabelsColor:this.defaultLegendTextColor);this.legendItems.on("click",((t,e)=>{this.selectedIndex=this.selectedIndex===e.index?null:e.index,null===this.selectedIndex?this.selectionManager.clear():(this.selectionManager.clear(),this.selectionManager.select(e.selectionId)),this.updateGraphSelected(this.selectedIndex)})),this.legendHeight=null===(e=this.legend)||void 0===e?void 0:e.node().getBBox().height,this.legendWidth=null===(n=this.legend)||void 0===n?void 0:n.node().getBBox().width,this.legendPosition!==h.Z.TopColumn&&this.legendPosition!==h.Z.TopRow||(this.graphHeight=Math.min(this.height-this.legendHeight-this.legendMargin,this.width),this.graphWidth=this.graphHeight,this.legend.attr("transform",`translate(${this.width/2-this.legendWidth/2},0)`)),this.legendPosition!==h.Z.BottomColumn&&this.legendPosition!==h.Z.BottomRow||(this.graphHeight=Math.min(this.height-this.legendHeight-2*this.legendMargin,this.width),this.graphWidth=this.graphHeight,this.legend.attr("transform",`translate(${this.width/2-this.legendWidth/2},${this.graphHeight+this.legendMargin})`)),this.legendPosition===h.Z.Left&&(this.graphWidth=Math.min(this.height,this.width-this.legendWidth-this.legendMargin),this.graphHeight=this.graphWidth,this.legend.attr("transform",`translate(${this.legendWidth-this.legendMargin},${this.graphHeight/2-this.legendHeight/2})`)),this.legendPosition===h.Z.Right&&(this.graphWidth=Math.min(this.height,this.width-this.legendWidth-2*this.legendMargin),this.graphHeight=this.graphWidth,this.legend.attr("transform",`translate(${this.graphWidth+this.legendMargin},${this.graphHeight/2-this.legendHeight/2})`))}drawLabelsInRings(){const t=this.graphHeight/10,e=this.rings.append("g").attr("class","label-middle").attr("opacity",0);e.append("text").attr("fill","black").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size",`${this.ringFontSize}px`).style("font-family",this.ringFontFamily).style("font-weight",this.isRingFontBold?"bold":"normal").style("font-style",this.isRingFontItalic?"italic":"normal").style("text-decoration",this.isRingFontUnderline?"underline":"none").text((t=>t.label.toFixed(this.decimalPlaces))),this.values.every((t=>Boolean(t.target)))&&e.append("text").attr("fill","black").attr("font-size",`${this.ringFontSize}px`).style("font-family",this.ringFontFamily).style("font-weight",this.isRingFontBold?"bold":"normal").style("font-style",this.isRingFontItalic?"italic":"normal").style("text-decoration",this.isRingFontUnderline?"underline":"none").attr("text-anchor","middle").text((t=>`/ ${t.target.toFixed(this.decimalPlaces)}`)).attr("transform",(()=>`translate(0,${t/2+5})`))}drawLabelsForRings(t){const e=this.rings.append("g").attr("class",(t=>`label labelIndex${t.index}`)).style("fill",this.ringLabelsColor?this.ringLabelsColor:this.defaultTextColor).attr("transform",(e=>this.getTextTranslate(t,e.index)));if(e.append("text").attr("class","label-value").style("font-size",`${this.ringFontSize}px`).style("font-family",this.ringFontFamily).style("font-weight",this.isRingFontBold?"bold":"normal").style("font-style",this.isRingFontItalic?"italic":"normal").style("text-decoration",this.isRingFontUnderline?"underline":"none").text((t=>t.label.toFixed(this.decimalPlaces))),this.values.every((t=>Boolean(t.target)))){const t=t=>t.node().getBBox().width+3;e.append("text").attr("class","label-target").style("font-size",`${this.ringFontSize}px`).style("font-family",this.ringFontFamily).style("font-weight",this.isRingFontBold?"bold":"normal").style("font-style",this.isRingFontItalic?"italic":"normal").style("text-decoration",this.isRingFontUnderline?"underline":"none").text((t=>`/ ${t.target.toFixed(this.decimalPlaces)}`)).attr("transform",(e=>`translate(${t(this.svg.select(`.labelIndex${e.index}`).select(".label-value"))},0)`)),e.each((function(){const t=(0,r.Z)(this),e=t.select(".label-value"),n=t.select(".label-target"),i=e.node().getBBox(),a=n.node().getBBox(),s=i.width+a.width+12;t.insert("rect","text.label-target").attr("class","label-background").attr("x",i.x-6).attr("y",Math.min(i.y,a.y)-3).attr("width",s).attr("height",Math.max(i.height,a.height)+6).attr("rx",12).attr("ry",12).attr("fill","#FFFFFF").attr("opacity",.3).lower()}))}}drawLandingPage(){let t,e;this.isLandingPage=!0,this.removeGraphIfExist(),this.svg=(0,r.Z)(this.target).append("svg").attr("class","ChartFlare_LandingPage").attr("width",this.width).attr("height",this.height),.75*this.width<this.height?(t=this.width,e=.75*t):(e=this.height,t=1.25*e),this.svg.append("rect").attr("class","background").attr("x",this.width/2-t/2).attr("y",this.height/2-e/2).attr("width",t).attr("height",e),this.graphHeight=.75*Math.min(e,t),this.graphWidth=this.graphHeight,this.lineWidth=Math.min(this.graphHeight,this.graphWidth)/13.5;const n=(0,a.Z)().startAngle(0).endAngle(((t,e)=>25*(e+1)/100*this.tau)).innerRadius(((t,e)=>this.getInnerRadius(3,e,!0))).outerRadius(((t,e)=>this.getOuterRadius(3,e,!0))).cornerRadius(0),i=(0,a.Z)().startAngle(0).endAngle(this.tau).innerRadius(((t,e)=>this.getInnerRadius(3,e,!0))).outerRadius(((t,e)=>this.getOuterRadius(3,e,!0))),s=this.svg.selectAll("g").data(["#929497","#A6A8AB","#D0D2D3"]).enter().append("g").attr("class","ring").attr("height",this.graphHeight).attr("width",this.graphWidth).attr("transform",`translate(${this.width/2},${this.height/2})`);s.append("path").attr("fill",(t=>t)).attr("opacity",.2).attr("d",i),s.append("path").attr("fill",(t=>t)).attr("d",n);const o=this.svg.append("g").attr("transform","translate(15,16)");o.append("circle").attr("r",5.5).attr("fill","transparent").attr("stroke","#252423"),o.append("text").attr("color","#252423").attr("font-size",8).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform","translate(0,1)").text("i"),this.svg.append("text").attr("x",30).attr("y",20).text("Select or drag the fields to fill this visualization").call(this.handleTextWrap,this.width-30)}addInteractionsToGraph(t){this.rings.selectAll("path").on("click",((t,e)=>{this.selectedIndex=this.selectedIndex===e.index?null:e.index,null===this.selectedIndex?this.selectionManager.clear():(this.selectionManager.clear(),this.selectionManager.select(e.selectionId)),this.updateGraphSelected(this.selectedIndex)})),t.on("click",(()=>{this.selectedIndex=null,this.selectionManager.clear(),this.updateGraphSelected(this.selectedIndex)})),null!==this.selectedIndex&&this.updateGraphSelected(this.selectedIndex)}resetGraph(){this.previousMetadata=void 0,this.colors=[...this.defaultColors],this.ringLabelsColor=this.defaultTextColor,this.legendLabelsColor=this.defaultLegendTextColor,this.legendPosition=h.Z.Right,this.ringFontFamily=this.defaultRingFontFamily,this.ringFontSize=this.defaultRingFontSize,this.isRingFontBold=!1,this.isRingFontItalic=!1,this.isRingFontUnderline=!1,this.legendFontFamily=this.defaultLegendFontFamily,this.legendFontSize=this.defaultLegendFontSize,this.isLegendFontBold=!1,this.isLegendFontItalic=!1,this.isLegendFontUnderline=!1,this.decimalPlaces=2,this.isShowLegend=!0,this.isFitRings=!0,this.drawGraph()}removeGraphIfExist(){this.svg&&(0,r.Z)(this.target).select("svg").remove()}isViewportChanged(t,e){return this.width!==e||this.height!==t}isValuesChanged(t){return JSON.stringify(t)!==JSON.stringify(this.values)}isMetadataChanged(t){return JSON.stringify(t)!==JSON.stringify(this.previousMetadata)}isFitRingsChanged(t){return void 0!==t&&t!==this.isFitRings}isShowLegendChanged(t){return void 0!==t&&t!==this.isShowLegend}isLegendPositionChanged(t){return t&&t!==this.legendPosition}isDecimalPlacesChanged(t){return void 0!==t&&t!==this.decimalPlaces}isRingFontSizeChanged(t){return t&&t!==this.ringFontSize}isRingFontFamilyChanged(t){return t&&t!==this.ringFontFamily}isRingFontBoldChanged(t){return void 0!==t&&t!==this.isRingFontBold}isRingFontItalicChanged(t){return void 0!==t&&t!==this.isRingFontItalic}isRingFontUnderlineChanged(t){return void 0!==t&&t!==this.isRingFontUnderline}isLegendFontSizeChanged(t){return t&&t!==this.legendFontSize}isLegendFontFamilyChanged(t){return t&&t!==this.legendFontFamily}isLegendFontBoldChanged(t){return void 0!==t&&t!==this.isLegendFontBold}isLegendFontItalicChanged(t){return void 0!==t&&t!==this.isLegendFontItalic}isLegendFontUnderlineChanged(t){return void 0!==t&&t!==this.isLegendFontUnderline}setDimensions(t,e){this.height=t,this.width=e,this.lineWidth=Math.min(this.graphHeight,this.graphWidth)/13.5}setFitRings(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isFitRings=!!t.ChartFlareProperties.fitRings}setShowLegend(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isShowLegend=!!t.ChartFlareProperties.showLegend}setLegendPosition(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.legendPosition=t.ChartFlareProperties.legendPosition}setDecimalPlaces(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.decimalPlaces=t.ChartFlareProperties.decimalPlaces}setRingFontSize(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.ringFontSize=t.ChartFlareProperties.ringFontSize}setRingFontFamily(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.ringFontFamily=t.ChartFlareProperties.ringFontFamily}setRingFontBold(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isRingFontBold=!!t.ChartFlareProperties.ringFontBold}setRingFontItalic(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isRingFontItalic=!!t.ChartFlareProperties.ringFontItalic}setRingFontUnderline(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isRingFontUnderline=!!t.ChartFlareProperties.ringFontUnderline}setLegendFontSize(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.legendFontSize=t.ChartFlareProperties.legendFontSize}setLegendFontFamily(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.legendFontFamily=t.ChartFlareProperties.legendFontFamily}setLegendFontBold(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isLegendFontBold=!!t.ChartFlareProperties.legendFontBold}setLegendFontItalic(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isLegendFontItalic=!!t.ChartFlareProperties.legendFontItalic}setLegendFontUnderline(t){this.previousMetadata=JSON.parse(JSON.stringify(t)),this.isLegendFontUnderline=!!t.ChartFlareProperties.legendFontUnderline}setGraphColors(t){this.previousMetadata=JSON.parse(JSON.stringify(t));const e=t.ChartFlareProperties;this.defaultColors.forEach(((t,n)=>{this.colors[n]=e[`color-${n}`]?e[`color-${n}`].solid.color:this.defaultColors[n]})),this.ringLabelsColor=e.ringLabelsColor?e.ringLabelsColor.solid.color:this.defaultTextColor,this.legendLabelsColor=e.legendLabelsColor?e.legendLabelsColor.solid.color:this.defaultLegendTextColor}getCurrentData(t,e,n){var i,r;const a=null===(i=t[0])||void 0===i?void 0:i.values,s=null===(r=t[1])||void 0===r?void 0:r.values;return a.map(((t,i)=>({value:Number(a[i]),secondValue:s?Number(s[i]):null,category:String(null==n?void 0:n.values[i]),target:Number(e[i]),selectionId:n?this.host.createSelectionIdBuilder().withCategory(n,i).createSelectionId():null})))}getRingsData(){return 0===this.values.length?[{index:0,name:"",label:0,value:0,previousValue:0,secondValue:null,previousSecondValue:null,target:100,previousTarget:100,color:"transparent",selectionId:null}]:this.values.map(((t,e)=>({index:e,name:`${t.category||""}`,label:t.value,value:t.target?t.value/t.target*100:t.value,previousValue:void 0===this.previousValues[e].value?t.value:this.previousValues[e].value,secondValue:t.target?t.secondValue/t.target*100:t.secondValue,previousSecondValue:void 0===this.previousValues[e].secondValue?t.secondValue:this.previousValues[e].secondValue,target:t.target||100,previousTarget:void 0===this.previousValues[e].target?t.target:this.previousValues[e].target,color:this.colors[e],selectionId:t.selectionId})))}getGraphTranslateDependOnLegend(){return this.isShowLegend?this.legendPosition===h.Z.BottomColumn||this.legendPosition===h.Z.BottomRow?`translate(${this.width/2},${this.graphHeight/2})`:this.legendPosition===h.Z.TopColumn||this.legendPosition===h.Z.TopRow?`translate(${this.width/2},${this.graphHeight/2+this.legendHeight+this.legendMargin})`:this.legendPosition===h.Z.Right?`translate(${this.graphWidth/2},${this.graphHeight/2})`:this.legendPosition===h.Z.Left?`translate(${this.width/2+this.legendWidth},${this.graphHeight/2})`:void 0:`translate(${this.width/2},${this.height/2})`}getOuterRadius(t,e,n=!1){return this.isFitRings||n?Math.min(this.graphHeight,this.graphWidth)/2-e*(this.lineWidth*(5/t)+this.gap):Math.min(this.graphHeight,this.graphWidth)/2-e*(this.lineWidth+this.gap)}getInnerRadius(t,e,n=!1){return this.isFitRings||n?Math.min(this.graphHeight,this.graphWidth)/2-this.lineWidth*(5/t)-e*(this.lineWidth*(5/t)+this.gap):Math.min(this.graphHeight,this.graphWidth)/2-this.lineWidth-e*(this.lineWidth+this.gap)}getTextTranslate(t,e){const n=2*this.lineWidth+2*this.gap;return 6===t&&this.isFitRings?`translate(7.5,${n/3.25-Math.min(this.graphHeight,this.graphWidth)/2+e*(n/2.35)})`:5===t&&this.isFitRings?`translate(10,${n/3.25-Math.min(this.graphHeight,this.graphWidth)/2+e*(n/1.95)})`:4===t&&this.isFitRings?`translate(12.5,${n/2.65-Math.min(this.graphHeight,this.graphWidth)/2+e*(n/1.6)})`:3===t&&this.isFitRings?`translate(15,${n/2-Math.min(this.graphHeight,this.graphWidth)/2+e*(n/1.2)})`:2===t&&this.isFitRings?`translate(15,${n/1.4-Math.min(this.graphHeight,this.graphWidth)/2+e*n*1.3})`:1===t&&this.isFitRings?`translate(15,${-Math.min(this.graphHeight,this.graphWidth)/3.5})`:`translate(7.5,${n/3-Math.min(this.graphHeight,this.graphWidth)/2+e*(n/2)+e*(this.gap/2)})`}handleHighlight(t){t&&(this.selectedIndex=t.findIndex((t=>null!==t)),this.updateGraphSelected(this.selectedIndex),this.highlightsData=t),void 0!==t||this.selectionManager.hasSelection()||(this.selectedIndex=null,this.selectionManager.clear(),this.updateGraphSelected(this.selectedIndex))}handleWarnings(){this.values.every((t=>null===t.target))&&this.host.displayWarningIcon("No targets value","If there are no target values, the Values are treated as percentages."),(this.values.some((t=>t.value<0))||this.values.some((t=>t.target<0)))&&this.host.displayWarningIcon("Negative values","Negative values are not supported and may cause display errors."),this.values.some((t=>null===t.target))&&this.host.displayWarningIcon("No target value","The lack of a target can result in misleading values.")}handleTextWrap(t,e){t.each((function(){const t=(0,r.Z)(this),n=t.text().split(/\s+/).reverse();let i,a=[],s=0;const o=t.attr("x"),l=t.attr("y");let h=t.text(null).append("tspan").attr("x",o).attr("y",l).attr("dy","0em");for(;i=n.pop();)a.push(i),h.text(a.join(" ")),h.node().getComputedTextLength()>e&&(a.pop(),h.text(a.join(" ")),a=[i],h=t.append("tspan").attr("x",o).attr("y",l).attr("dy",1.1*++s+0+"em").text(i))}))}handleContextMenu(){this.svg.on("contextmenu",(t=>{const e=t.target,n=(0,r.Z)(e).datum();this.selectionManager.showContextMenu(n?n.selectionId:{},{x:t.clientX,y:t.clientY}),t.preventDefault()}))}getTooltipData(t,e){return console.log(this.selectionManager.hasSelection()),[{displayName:"Name",value:t.name},{displayName:"Value",value:t.label.toFixed(this.decimalPlaces).toString()},{displayName:"Target",value:t.target.toFixed(this.decimalPlaces).toString()},{displayName:this.checkHighlightsNotEmpty(t)&&t.index===this.selectedIndex?"Highlighted":"",value:this.checkHighlightsNotEmpty(t)&&t.index===this.selectedIndex?this.highlightsData[t.index].toFixed(this.decimalPlaces).toString():""},{displayName:this.checkTooltipDataNotEmpty()?e.displayName:"",value:this.checkTooltipDataNotEmpty()?e.values[t.index].toString():""}]}checkTooltipDataNotEmpty(){return 0!==this.tooltipFieldData.values.length}checkHighlightsNotEmpty(t){return 0!=this.highlightsData.length&&null!=this.highlightsData[t.index]}}},706:(t,e,n)=>{n.d(e,{Hn:()=>a,L_:()=>u,Zb:()=>s,Zh:()=>l,v5:()=>p,xp:()=>c,zH:()=>h,zt:()=>d});var i=n(3827);class r{}class a{}class s extends r{getFormattingCard(t,e,n){return{displayName:n&&this.displayNameKey?n.getDisplayName(this.displayNameKey):this.displayName,description:n&&this.descriptionKey?n.getDisplayName(this.descriptionKey):this.description,groups:[e],uid:t,analyticsPane:this.analyticsPane}}}class o extends r{constructor(t){super(),Object.assign(this,t)}getFormattingSlice(t,e){const n=this.type,i=this.name,r={displayName:e&&this.displayNameKey?e.getDisplayName(this.displayNameKey):this.displayName,description:e&&this.descriptionKey?e.getDisplayName(this.descriptionKey):this.description,uid:t+"-"+i};return Object.assign(Object.assign({},r),{control:{type:n,properties:this.getFormattingComponent(t,e)}})}getFormattingComponent(t,e){return{descriptor:i.B(t,this),value:this.value}}getRevertToDefaultDescriptor(t){return[{objectName:t,propertyName:this.name}]}setPropertiesValues(t,e){var n;let r=null===(n=null==t?void 0:t[e])||void 0===n?void 0:n[this.name];this.value=i.S(this,r,this.value)}}class l extends o{constructor(t){super(t),this.type="ToggleSwitch"}}class h extends o{constructor(t){super(t),this.type="ColorPicker"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}class u extends o{constructor(t){super(t),this.type="NumUpDown"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{options:this.options})}}class d extends o{constructor(t){super(t),this.type="Dropdown"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{items:this.items})}}class c extends o{constructor(){super(...arguments),this.type="FontPicker"}}class g extends r{constructor(t){super(),Object.assign(this,t)}getFormattingSlice(t){const e=this.type,n=this.name,i={displayName:this.displayName,description:this.description,uid:t+"-"+n};return Object.assign(Object.assign({},i),{control:{type:e,properties:this.getFormattingComponent(t)}})}}class p extends g{constructor(t){super(t),this.type="FontControl"}getFormattingComponent(t){var e,n,i;return{fontFamily:this.fontFamily.getFormattingComponent(t),fontSize:this.fontSize.getFormattingComponent(t),bold:null===(e=this.bold)||void 0===e?void 0:e.getFormattingComponent(t),italic:null===(n=this.italic)||void 0===n?void 0:n.getFormattingComponent(t),underline:null===(i=this.underline)||void 0===i?void 0:i.getFormattingComponent(t)}}getRevertToDefaultDescriptor(t){return this.fontFamily.getRevertToDefaultDescriptor(t).concat(this.fontSize.getRevertToDefaultDescriptor(t)).concat(this.bold?this.bold.getRevertToDefaultDescriptor(t):[]).concat(this.italic?this.italic.getRevertToDefaultDescriptor(t):[]).concat(this.underline?this.underline.getRevertToDefaultDescriptor(t):[])}setPropertiesValues(t,e){var n,i,r;this.fontFamily.setPropertiesValues(t,e),this.fontSize.setPropertiesValues(t,e),null===(n=this.bold)||void 0===n||n.setPropertiesValues(t,e),null===(i=this.italic)||void 0===i||i.setPropertiesValues(t,e),null===(r=this.underline)||void 0===r||r.setPropertiesValues(t,e)}}},4261:(t,e,n)=>{n.d(e,{Z:()=>i});const i=class{constructor(t){this.localizationManager=t}populateFormattingSettingsModel(t,e){var n,i,r;let a=new t,s=null===(i=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.metadata)||void 0===i?void 0:i.objects;return s&&(null===(r=a.cards)||void 0===r||r.forEach((t=>{var e,n,i;null===(e=null==t?void 0:t.slices)||void 0===e||e.forEach((e=>{null==e||e.setPropertiesValues(s,t.name)})),null===(i=null===(n=null==t?void 0:t.container)||void 0===n?void 0:n.containerItems)||void 0===i||i.forEach((e=>{var n;null===(n=null==e?void 0:e.slices)||void 0===n||n.forEach((e=>{null==e||e.setPropertiesValues(s,t.name)}))}))}))),a}buildFormattingModel(t){var e;let n={cards:[]};return null===(e=t.cards)||void 0===e||e.forEach((t=>{if(!t)return;const e=t.name,i=t.name+"-group";let r={displayName:void 0,slices:[],uid:i},a=t.getFormattingCard(e,r,this.localizationManager);n.cards.push(a);const s={};if(t.container){const n=t.container,o=i+"-container",l={displayName:this.localizationManager&&n.displayNameKey?this.localizationManager.getDisplayName(n.displayNameKey):n.displayName,description:this.localizationManager&&n.descriptionKey?this.localizationManager.getDisplayName(n.descriptionKey):n.description,containerItems:[],uid:o};n.containerItems.forEach((t=>{const n=t.displayNameKey?t.displayNameKey:t.displayName,i=o+n;let r={displayName:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,slices:[],uid:i};this.buildFormattingSlices(t.slices,e,s,a,r.slices),l.containerItems.push(r)})),r.container=l}t.slices&&this.buildFormattingSlices(t.slices,e,s,a,r.slices),a.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(t)})),n}buildFormattingSlices(t,e,n,i,r){null==t||t.forEach((t=>{let a=null==t?void 0:t.getFormattingSlice(e,this.localizationManager);a&&(void 0===n[t.name]?n[t.name]=0:(n[t.name]++,a.uid=`${a.uid}-${n[t.name]}`),t.topLevelToggle?(a.suppressDisplayName=!0,i.topLevelToggle=a):r.push(a))}))}getRevertToDefaultDescriptor(t){var e,n;const i={};let r=[],a=this.getSlicesRevertToDefaultDescriptor(t.name,t.slices,i),s=[];return null===(n=null===(e=t.container)||void 0===e?void 0:e.containerItems)||void 0===n||n.forEach((e=>{s=s.concat(this.getSlicesRevertToDefaultDescriptor(t.name,e.slices,i))})),r=a.concat(s),r}getSlicesRevertToDefaultDescriptor(t,e,n){let i=[];return null==e||e.forEach((e=>{e&&!n[e.name]&&(n[e.name]=!0,i=i.concat(e.getRevertToDefaultDescriptor(t)))})),i}}},3827:(t,e,n)=>{function i(t,e){return{objectName:t,propertyName:e.name,selector:e.selector,altConstantValueSelector:e.altConstantSelector,instanceKind:e.instanceKind}}function r(t,e,n){return null==e||"object"==typeof e&&!e.solid?n:e.solid?{value:null==e?void 0:e.solid.color}:(null==t?void 0:t.items)?t.items.find((t=>t.value==e)):e}n.d(e,{B:()=>i,S:()=>r})},8297:(t,e,n)=>{n.d(e,{a:()=>i});const i=500},8401:(t,e,n)=>{n.d(e,{p:()=>i.p});var i=n(9472)},9472:(t,e,n)=>{n.d(e,{p:()=>s});var i=n(4264),r=n(8297),a=n(6738);function s(t,e,n=r.a){return new o({tooltipService:t,handleTouchDelay:n})}class o{constructor(t){this.visualHostTooltipService=t.tooltipService,this.handleTouchDelay=t.handleTouchDelay}addTooltip(t,e,n,r){if(!t||!this.visualHostTooltipService.enabled())return;const s=(0,i.Z)(t.nodes()),o=(t,e,n,i)=>{const r=[e.clientX,e.clientY];t.call(this.visualHostTooltipService,{coordinates:r,isTouchEvent:"touch"===e.pointerType,dataItems:n,identities:i})};s.on("pointerover",((t,i)=>{const r=e(i);if(null==r)return;const s=n?[n(i)]:[];"mouse"===t.pointerType&&o(this.visualHostTooltipService.show,t,r,s),"touch"===t.pointerType&&(this.handleTouchTimeoutId=a.setTimeout((()=>{o(this.visualHostTooltipService.show,t,r,s),this.handleTouchTimeoutId=void 0}),this.handleTouchDelay))})),s.on("pointerout",(t=>{"mouse"===t.pointerType&&this.visualHostTooltipService.hide({isTouchEvent:!1,immediately:!1}),"touch"===t.pointerType&&this.cancelTouchTimeoutEvents()})),s.on("pointermove",((t,i)=>{if("mouse"===t.pointerType){let a;if(r&&(a=e(i),null==a))return;const s=n?[n(i)]:[];o(this.visualHostTooltipService.move,t,a,s)}}))}cancelTouchTimeoutEvents(){this.handleTouchTimeoutId&&clearTimeout(this.handleTouchTimeoutId)}hide(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})}}},6738:t=>{t.exports=Function("return this")()},4447:(t,e,n)=>{n.d(e,{B8:()=>Z,ZP:()=>_});var i=n(9531);function r(){}var a=.7,s=1/a,o="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,d=new RegExp(`^rgb\\(${o},${o},${o}\\)$`),c=new RegExp(`^rgb\\(${h},${h},${h}\\)$`),g=new RegExp(`^rgba\\(${o},${o},${o},${l}\\)$`),p=new RegExp(`^rgba\\(${h},${h},${h},${l}\\)$`),f=new RegExp(`^hsl\\(${l},${h},${h}\\)$`),v=new RegExp(`^hsla\\(${l},${h},${h},${l}\\)$`),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function _(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?F(e):3===n?new b(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?x(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=d.exec(t))?new b(e[1],e[2],e[3],1):(e=c.exec(t))?new b(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=g.exec(t))?x(e[1],e[2],e[3],e[4]):(e=p.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=f.exec(t))?P(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?P(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?F(m[t]):"transparent"===t?new b(NaN,NaN,NaN,0):null}function F(t){return new b(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,i){return i<=0&&(t=e=n=NaN),new b(t,e,n,i)}function Z(t,e,n,i){return 1===arguments.length?((a=t)instanceof r||(a=_(a)),a?new b((a=a.rgb()).r,a.g,a.b,a.opacity):new b):new b(t,e,n,null==i?1:i);var a}function b(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function S(){return`#${R(this.r)}${R(this.g)}${R(this.b)}`}function C(){const t=N(this.opacity);return`${1===t?"rgb(":"rgba("}${M(this.r)}, ${M(this.g)}, ${M(this.b)}${1===t?")":`, ${t})`}`}function N(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function M(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function R(t){return((t=M(t))<16?"0":"")+t.toString(16)}function P(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new T(t,e,n,i)}function $(t){if(t instanceof T)return new T(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=_(t)),!t)return new T;if(t instanceof T)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,a=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,l=s-a,h=(s+a)/2;return l?(o=e===s?(n-i)/l+6*(n<i):n===s?(i-e)/l+2:(e-n)/l+4,l/=h<.5?s+a:2-s-a,o*=60):l=h>0&&h<1?0:o,new T(o,l,h,t.opacity)}function T(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function L(t){return(t=(t||0)%360)<0?t+360:t}function I(t){return Math.max(0,Math.min(1,t||0))}function A(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}(0,i.Z)(r,_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $(this).formatHsl()},formatRgb:w,toString:w}),(0,i.Z)(b,Z,(0,i.l)(r,{brighter(t){return t=null==t?s:Math.pow(s,t),new b(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?a:Math.pow(a,t),new b(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new b(M(this.r),M(this.g),M(this.b),N(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatHex8:function(){return`#${R(this.r)}${R(this.g)}${R(this.b)}${R(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:C,toString:C})),(0,i.Z)(T,(function(t,e,n,i){return 1===arguments.length?$(t):new T(t,e,n,null==i?1:i)}),(0,i.l)(r,{brighter(t){return t=null==t?s:Math.pow(s,t),new T(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?a:Math.pow(a,t),new T(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new b(A(t>=240?t-240:t+120,r,i),A(t,r,i),A(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new T(L(this.h),I(this.s),I(this.l),N(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=N(this.opacity);return`${1===t?"hsl(":"hsla("}${L(this.h)}, ${100*I(this.s)}%, ${100*I(this.l)}%${1===t?")":`, ${t})`}`}}))},9531:(t,e,n)=>{function i(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function r(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}n.d(e,{Z:()=>i,l:()=>r})},6057:(t,e,n)=>{n.d(e,{Z:()=>l});var i={value:()=>{}};function r(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new a(i)}function a(t){this._=t}function s(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function o(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}a.prototype=r.prototype={constructor:a,on:function(t,e){var n,i,r=this._,a=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),l=-1,h=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++l<h;)if(n=(t=a[l]).type)r[n]=o(r[n],t.name,e);else if(null==e)for(n in r)r[n]=o(r[n],t.name,null);return this}for(;++l<h;)if((n=(t=a[l]).type)&&(n=s(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new a(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};const l=r},2067:(t,e,n)=>{function i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.d(e,{tw:()=>i})},2839:(t,e,n)=>{n.d(e,{_D:()=>a});var i=n(5227),r=2*Math.PI,a=(function t(e,n){var a=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function s(t){return e*(0,i.N)(- --t)*Math.sin((a-t)/n)}return s.amplitude=function(e){return t(e,n*r)},s.period=function(n){return t(e,n)},s}(1,.3),function t(e,n){var a=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function s(t){return 1-e*(0,i.N)(t=+t)*Math.sin((t+a)/n)}return s.amplitude=function(e){return t(e,n*r)},s.period=function(n){return t(e,n)},s}(1,.3));!function t(e,n){var a=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function s(t){return((t=2*t-1)<0?e*(0,i.N)(-t)*Math.sin((a-t)/n):2-e*(0,i.N)(t)*Math.sin((a+t)/n))/2}return s.amplitude=function(e){return t(e,n*r)},s.period=function(n){return t(e,n)},s}(1,.3)},5227:(t,e,n)=>{function i(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}n.d(e,{N:()=>i})},7265:(t,e,n)=>{function i(t,e,n,i,r){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*i+s*r)/6}function r(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],s=t[r+1],o=r>0?t[r-1]:2*a-s,l=r<e-1?t[r+2]:2*s-a;return i((n-r/e)*e,o,a,s,l)}}n.d(e,{Z:()=>r,t:()=>i})},6068:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(7265);function r(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],s=t[r%e],o=t[(r+1)%e],l=t[(r+2)%e];return(0,i.t)((n-r/e)*e,a,s,o,l)}}},8280:(t,e,n)=>{n.d(e,{ZP:()=>a,yi:()=>r});var i=n(2954);function r(t){return 1==(t=+t)?a:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):(0,i.Z)(isNaN(e)?n:e)}}function a(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):(0,i.Z)(isNaN(t)?e:t)}},2954:(t,e,n)=>{n.d(e,{Z:()=>i});const i=t=>()=>t},8063:(t,e,n)=>{function i(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}n.d(e,{Z:()=>i})},6354:(t,e,n)=>{n.d(e,{ZP:()=>o});var i=n(4447),r=n(7265),a=n(6068),s=n(8280);const o=function t(e){var n=(0,s.yi)(e);function r(t,e){var r=n((t=(0,i.B8)(t)).r,(e=(0,i.B8)(e)).r),a=n(t.g,e.g),o=n(t.b,e.b),l=(0,s.ZP)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=o(e),t.opacity=l(e),t+""}}return r.gamma=t,r}(1);function l(t){return function(e){var n,r,a=e.length,s=new Array(a),o=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=(0,i.B8)(e[n]),s[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return s=t(s),o=t(o),l=t(l),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=l(t),r+""}}}l(r.Z),l(a.Z)},6773:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(8063),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(r.source,"g");function s(t,e){var n,s,o,l=r.lastIndex=a.lastIndex=0,h=-1,u=[],d=[];for(t+="",e+="";(n=r.exec(t))&&(s=a.exec(e));)(o=s.index)>l&&(o=e.slice(l,o),u[h]?u[h]+=o:u[++h]=o),(n=n[0])===(s=s[0])?u[h]?u[h]+=s:u[++h]=s:(u[++h]=null,d.push({i:h,x:(0,i.Z)(n,s)})),l=a.lastIndex;return l<e.length&&(o=e.slice(l),u[h]?u[h]+=o:u[++h]=o),u.length<2?d[0]?function(t){return function(e){return t(e)+""}}(d[0].x):function(t){return function(){return t}}(e):(e=d.length,function(t){for(var n,i=0;i<e;++i)u[(n=d[i]).i]=n.x(t);return u.join("")})}},8569:(t,e,n)=>{n.d(e,{Z:()=>a,y:()=>r});var i=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a(t,e,n,r,a,s){var o,l,h;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,h/=l),t*r<e*n&&(t=-t,e=-e,h=-h,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(e,t)*i,skewX:Math.atan(h)*i,scaleX:o,scaleY:l}}},3465:(t,e,n)=>{n.d(e,{Y:()=>s,w:()=>o});var i=n(8063),r=n(5821);function a(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(s,o){var l=[],h=[];return s=t(s),o=t(o),function(t,r,a,s,o,l){if(t!==a||r!==s){var h=o.push("translate(",null,e,null,n);l.push({i:h-4,x:(0,i.Z)(t,a)},{i:h-2,x:(0,i.Z)(r,s)})}else(a||s)&&o.push("translate("+a+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,l,h),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(a(n)+"rotate(",null,r)-2,x:(0,i.Z)(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(s.rotate,o.rotate,l,h),function(t,e,n,s){t!==e?s.push({i:n.push(a(n)+"skewX(",null,r)-2,x:(0,i.Z)(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(s.skewX,o.skewX,l,h),function(t,e,n,r,s,o){if(t!==n||e!==r){var l=s.push(a(s)+"scale(",null,",",null,")");o.push({i:l-4,x:(0,i.Z)(t,n)},{i:l-2,x:(0,i.Z)(e,r)})}else 1===n&&1===r||s.push(a(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,l,h),s=o=null,function(t){for(var e,n=-1,i=h.length;++n<i;)l[(e=h[n]).i]=e.x(t);return l.join("")}}}var s=a(r.z,"px, ","px)","deg)"),o=a(r.X,", ",")",")")},5821:(t,e,n)=>{n.d(e,{X:()=>s,z:()=>a});var i,r=n(8569);function a(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?r.y:(0,r.Z)(e.a,e.b,e.c,e.d,e.e,e.f)}function s(t){return null==t?r.y:(i||(i=document.createElementNS("http://www.w3.org/2000/svg","g")),i.setAttribute("transform",t),(t=i.transform.baseVal.consolidate())?(t=t.matrix,(0,r.Z)(t.a,t.b,t.c,t.d,t.e,t.f)):r.y)}},9906:(t,e,n)=>{n.d(e,{y$:()=>l});const i=Math.PI,r=2*i,a=1e-6,s=r-a;function o(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class l{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?o:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return o;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,a){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+a}`}arcTo(t,e,n,r,s){if(t=+t,e=+e,n=+n,r=+r,(s=+s)<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,h=n-t,u=r-e,d=o-t,c=l-e,g=d*d+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(g>a)if(Math.abs(c*h-u*d)>a&&s){let p=n-o,f=r-l,v=h*h+u*u,m=p*p+f*f,y=Math.sqrt(v),w=Math.sqrt(g),_=s*Math.tan((i-Math.acos((v+g-m)/(2*y*w)))/2),F=_/w,x=_/y;Math.abs(F-1)>a&&this._append`L${t+F*d},${e+F*c}`,this._append`A${s},${s},0,0,${+(c*p>d*f)},${this._x1=t+x*h},${this._y1=e+x*u}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,o,l,h){if(t=+t,e=+e,h=!!h,(n=+n)<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(o),d=n*Math.sin(o),c=t+u,g=e+d,p=1^h,f=h?o-l:l-o;null===this._x1?this._append`M${c},${g}`:(Math.abs(this._x1-c)>a||Math.abs(this._y1-g)>a)&&this._append`L${c},${g}`,n&&(f<0&&(f=f%r+r),f>s?this._append`A${n},${n},0,1,${p},${t-u},${e-d}A${n},${n},0,1,${p},${this._x1=c},${this._y1=g}`:f>a&&this._append`A${n},${n},0,${+(f>=i)},${p},${this._x1=t+n*Math.cos(l)},${this._y1=e+n*Math.sin(l)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}},9898:(t,e,n)=>{function i(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}n.d(e,{Z:()=>i})},364:(t,e,n)=>{function i(t){return function(){return t}}n.d(e,{Z:()=>i})},4708:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(1663),r=n(1226);function a(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r.P&&e.documentElement.namespaceURI===r.P?e.createElement(t):e.createElementNS(n,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(t){var e=(0,i.Z)(t);return(e.local?s:a)(e)}},4421:(t,e,n)=>{function i(t){return function(){return this.matches(t)}}function r(t){return function(e){return e.matches(t)}}n.d(e,{P:()=>r,Z:()=>i})},1663:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1226);function r(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.Z.hasOwnProperty(e)?{space:i.Z[e],local:t}:t}},1226:(t,e,n)=>{n.d(e,{P:()=>i,Z:()=>r});var i="http://www.w3.org/1999/xhtml";const r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},3838:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8390);function r(t){return"string"==typeof t?new i.Y1([[document.querySelector(t)]],[document.documentElement]):new i.Y1([[t]],i.Jz)}},4264:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(9898),r=n(8390);function a(t){return"string"==typeof t?new r.Y1([document.querySelectorAll(t)],[document.documentElement]):new r.Y1([(0,i.Z)(t)],r.Jz)}},7911:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(4708);function r(t){var e="function"==typeof t?t:(0,i.Z)(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}},7405:(t,e,n)=>{n.d(e,{Z:()=>u});var i=n(1663);function r(t){return function(){this.removeAttribute(t)}}function a(t){return function(){this.removeAttributeNS(t.space,t.local)}}function s(t,e){return function(){this.setAttribute(t,e)}}function o(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function l(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function h(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function u(t,e){var n=(0,i.Z)(t);if(arguments.length<2){var u=this.node();return n.local?u.getAttributeNS(n.space,n.local):u.getAttribute(n)}return this.each((null==e?n.local?a:r:"function"==typeof e?n.local?h:l:n.local?o:s)(n,e))}},5772:(t,e,n)=>{function i(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}n.d(e,{Z:()=>i})},5016:(t,e,n)=>{function i(t){return t.trim().split(/^|\s+/)}function r(t){return t.classList||new a(t)}function a(t){this._node=t,this._names=i(t.getAttribute("class")||"")}function s(t,e){for(var n=r(t),i=-1,a=e.length;++i<a;)n.add(e[i])}function o(t,e){for(var n=r(t),i=-1,a=e.length;++i<a;)n.remove(e[i])}function l(t){return function(){s(this,t)}}function h(t){return function(){o(this,t)}}function u(t,e){return function(){(e.apply(this,arguments)?s:o)(this,t)}}function d(t,e){var n=i(t+"");if(arguments.length<2){for(var a=r(this.node()),s=-1,o=n.length;++s<o;)if(!a.contains(n[s]))return!1;return!0}return this.each(("function"==typeof e?u:e?l:h)(n,e))}n.d(e,{Z:()=>d}),a.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}}},5122:(t,e,n)=>{function i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function r(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function a(t){return this.select(t?r:i)}n.d(e,{Z:()=>a})},4764:(t,e,n)=>{n.d(e,{Z:()=>h});var i=n(8390),r=n(2270),a=n(364);function s(t,e,n,i,a,s){for(var o,l=0,h=e.length,u=s.length;l<u;++l)(o=e[l])?(o.__data__=s[l],i[l]=o):n[l]=new r.F(t,s[l]);for(;l<h;++l)(o=e[l])&&(a[l]=o)}function o(t,e,n,i,a,s,o){var l,h,u,d=new Map,c=e.length,g=s.length,p=new Array(c);for(l=0;l<c;++l)(h=e[l])&&(p[l]=u=o.call(h,h.__data__,l,e)+"",d.has(u)?a[l]=h:d.set(u,h));for(l=0;l<g;++l)u=o.call(t,s[l],l,s)+"",(h=d.get(u))?(i[l]=h,h.__data__=s[l],d.delete(u)):n[l]=new r.F(t,s[l]);for(l=0;l<c;++l)(h=e[l])&&d.get(p[l])===h&&(a[l]=h)}function l(t){return t.__data__}function h(t,e){if(!arguments.length)return Array.from(this,l);var n=e?o:s,r=this._parents,h=this._groups;"function"!=typeof t&&(t=(0,a.Z)(t));for(var d=h.length,c=new Array(d),g=new Array(d),p=new Array(d),f=0;f<d;++f){var v=r[f],m=h[f],y=m.length,w=u(t.call(v,v&&v.__data__,f,r)),_=w.length,F=g[f]=new Array(_),x=c[f]=new Array(_);n(v,m,F,x,p[f]=new Array(y),w,e);for(var Z,b,S=0,C=0;S<_;++S)if(Z=F[S]){for(S>=C&&(C=S+1);!(b=x[C])&&++C<_;);Z._next=b||null}}return(c=new i.Y1(c,r))._enter=g,c._exit=p,c}function u(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}},5667:(t,e,n)=>{function i(t){return arguments.length?this.property("__data__",t):this.node().__data__}n.d(e,{Z:()=>i})},3790:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(9920);function r(t,e,n){var r=(0,i.Z)(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function a(t,e){return function(){return r(this,t,e)}}function s(t,e){return function(){return r(this,t,e.apply(this,arguments))}}function o(t,e){return this.each(("function"==typeof e?s:a)(t,e))}},6347:(t,e,n)=>{function i(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],s=0,o=a.length;s<o;++s)(r=a[s])&&t.call(r,r.__data__,s,a);return this}n.d(e,{Z:()=>i})},7844:(t,e,n)=>{function i(){return!this.node()}n.d(e,{Z:()=>i})},2270:(t,e,n)=>{n.d(e,{F:()=>s,Z:()=>a});var i=n(1586),r=n(8390);function a(){return new r.Y1(this._enter||this._groups.map(i.Z),this._parents)}function s(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},6790:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(1586),r=n(8390);function a(){return new r.Y1(this._exit||this._groups.map(i.Z),this._parents)}},5777:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(8390),r=n(4421);function a(t){"function"!=typeof t&&(t=(0,r.Z)(t));for(var e=this._groups,n=e.length,a=new Array(n),s=0;s<n;++s)for(var o,l=e[s],h=l.length,u=a[s]=[],d=0;d<h;++d)(o=l[d])&&t.call(o,o.__data__,d,l)&&u.push(o);return new i.Y1(a,this._parents)}},655:(t,e,n)=>{function i(){this.innerHTML=""}function r(t){return function(){this.innerHTML=t}}function a(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function s(t){return arguments.length?this.each(null==t?i:("function"==typeof t?a:r)(t)):this.node().innerHTML}n.d(e,{Z:()=>s})},8390:(t,e,n)=>{n.d(e,{Jz:()=>O,Y1:()=>H,ZP:()=>z});var i=n(486),r=n(6932),a=n(4735),s=n(467),o=n(5777),l=n(4764),h=n(2270),u=n(6790),d=n(1474),c=n(6359),g=n(4729),p=n(9548),f=n(5772),v=n(426),m=n(838),y=n(6909),w=n(7844),_=n(6347),F=n(7405),x=n(2627),Z=n(9714),b=n(5016),S=n(8386),C=n(655),N=n(1903),M=n(6017),R=n(7911),P=n(2504),$=n(8349),T=n(5122),L=n(5667),I=n(2017),A=n(3790),D=n(3536),O=[null];function H(t,e){this._groups=t,this._parents=e}function V(){return new H([[document.documentElement]],O)}H.prototype=V.prototype={constructor:H,select:i.Z,selectAll:r.Z,selectChild:a.Z,selectChildren:s.Z,filter:o.Z,data:l.Z,enter:h.Z,exit:u.Z,join:d.Z,merge:c.Z,selection:function(){return this},order:g.Z,sort:p.Z,call:f.Z,nodes:v.Z,node:m.Z,size:y.Z,empty:w.Z,each:_.Z,attr:F.Z,style:x.Z,property:Z.Z,classed:b.Z,text:S.Z,html:C.Z,raise:N.Z,lower:M.Z,append:R.Z,insert:P.Z,remove:$.Z,clone:T.Z,datum:L.Z,on:I.Z,dispatch:A.Z,[Symbol.iterator]:D.Z};const z=V},2504:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(4708),r=n(3010);function a(){return null}function s(t,e){var n="function"==typeof t?t:(0,i.Z)(t),s=null==e?a:"function"==typeof e?e:(0,r.Z)(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)}))}},3536:(t,e,n)=>{function*i(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,s=r.length;a<s;++a)(i=r[a])&&(yield i)}n.d(e,{Z:()=>i})},1474:(t,e,n)=>{function i(t,e,n){var i=this.enter(),r=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r}n.d(e,{Z:()=>i})},6017:(t,e,n)=>{function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r(){return this.each(i)}n.d(e,{Z:()=>r})},6359:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8390);function r(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),h=0;h<o;++h)for(var u,d=n[h],c=r[h],g=d.length,p=l[h]=new Array(g),f=0;f<g;++f)(u=d[f]||c[f])&&(p[f]=u);for(;h<a;++h)l[h]=n[h];return new i.Y1(l,this._parents)}},838:(t,e,n)=>{function i(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null}n.d(e,{Z:()=>i})},426:(t,e,n)=>{function i(){return Array.from(this)}n.d(e,{Z:()=>i})},2017:(t,e,n)=>{function i(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function r(t,e,n){return function(){var i,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function a(t,e,n){var a,s,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),l=o.length;if(!(arguments.length<2)){for(h=e?r:i,a=0;a<l;++a)this.each(h(o[a],e,n));return this}var h=this.node().__on;if(h)for(var u,d=0,c=h.length;d<c;++d)for(a=0,u=h[d];a<l;++a)if((s=o[a]).type===u.type&&s.name===u.name)return u.value}n.d(e,{Z:()=>a})},4729:(t,e,n)=>{function i(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,s=r[a];--a>=0;)(i=r[a])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this}n.d(e,{Z:()=>i})},9714:(t,e,n)=>{function i(t){return function(){delete this[t]}}function r(t,e){return function(){this[t]=e}}function a(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function s(t,e){return arguments.length>1?this.each((null==e?i:"function"==typeof e?a:r)(t,e)):this.node()[t]}n.d(e,{Z:()=>s})},1903:(t,e,n)=>{function i(){this.nextSibling&&this.parentNode.appendChild(this)}function r(){return this.each(i)}n.d(e,{Z:()=>r})},8349:(t,e,n)=>{function i(){var t=this.parentNode;t&&t.removeChild(this)}function r(){return this.each(i)}n.d(e,{Z:()=>r})},486:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(8390),r=n(3010);function a(t){"function"!=typeof t&&(t=(0,r.Z)(t));for(var e=this._groups,n=e.length,a=new Array(n),s=0;s<n;++s)for(var o,l,h=e[s],u=h.length,d=a[s]=new Array(u),c=0;c<u;++c)(o=h[c])&&(l=t.call(o,o.__data__,c,h))&&("__data__"in o&&(l.__data__=o.__data__),d[c]=l);return new i.Y1(a,this._parents)}},6932:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(8390),r=n(9898),a=n(9701);function s(t){t="function"==typeof t?function(t){return function(){return(0,r.Z)(t.apply(this,arguments))}}(t):(0,a.Z)(t);for(var e=this._groups,n=e.length,s=[],o=[],l=0;l<n;++l)for(var h,u=e[l],d=u.length,c=0;c<d;++c)(h=u[c])&&(s.push(t.call(h,h.__data__,c,u)),o.push(h));return new i.Y1(s,o)}},4735:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(4421),r=Array.prototype.find;function a(){return this.firstElementChild}function s(t){return this.select(null==t?a:function(t){return function(){return r.call(this.children,t)}}("function"==typeof t?t:(0,i.P)(t)))}},467:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(4421),r=Array.prototype.filter;function a(){return Array.from(this.children)}function s(t){return this.selectAll(null==t?a:function(t){return function(){return r.call(this.children,t)}}("function"==typeof t?t:(0,i.P)(t)))}},6909:(t,e,n)=>{function i(){let t=0;for(const e of this)++t;return t}n.d(e,{Z:()=>i})},9548:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8390);function r(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=a);for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var l,h=n[o],u=h.length,d=s[o]=new Array(u),c=0;c<u;++c)(l=h[c])&&(d[c]=l);d.sort(e)}return new i.Y1(s,this._parents).order()}function a(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},1586:(t,e,n)=>{function i(t){return new Array(t.length)}n.d(e,{Z:()=>i})},2627:(t,e,n)=>{n.d(e,{S:()=>l,Z:()=>o});var i=n(9920);function r(t){return function(){this.style.removeProperty(t)}}function a(t,e,n){return function(){this.style.setProperty(t,e,n)}}function s(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function o(t,e,n){return arguments.length>1?this.each((null==e?r:"function"==typeof e?s:a)(t,e,null==n?"":n)):l(this.node(),t)}function l(t,e){return t.style.getPropertyValue(e)||(0,i.Z)(t).getComputedStyle(t,null).getPropertyValue(e)}},8386:(t,e,n)=>{function i(){this.textContent=""}function r(t){return function(){this.textContent=t}}function a(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function s(t){return arguments.length?this.each(null==t?i:("function"==typeof t?a:r)(t)):this.node().textContent}n.d(e,{Z:()=>s})},3010:(t,e,n)=>{function i(){}function r(t){return null==t?i:function(){return this.querySelector(t)}}n.d(e,{Z:()=>r})},9701:(t,e,n)=>{function i(){return[]}function r(t){return null==t?i:function(){return this.querySelectorAll(t)}}n.d(e,{Z:()=>r})},9920:(t,e,n)=>{function i(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}n.d(e,{Z:()=>i})},6348:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(309),r=n(1978),a=n(8229);function s(t){return t.innerRadius}function o(t){return t.outerRadius}function l(t){return t.startAngle}function h(t){return t.endAngle}function u(t){return t&&t.padAngle}function d(t,e,n,i,a,s,o){var l=t-n,h=e-i,u=(o?s:-s)/(0,r._b)(l*l+h*h),d=u*h,c=-u*l,g=t+d,p=e+c,f=n+d,v=i+c,m=(g+f)/2,y=(p+v)/2,w=f-g,_=v-p,F=w*w+_*_,x=a-s,Z=g*v-f*p,b=(_<0?-1:1)*(0,r._b)((0,r.Fp)(0,x*x*F-Z*Z)),S=(Z*_-w*b)/F,C=(-Z*w-_*b)/F,N=(Z*_+w*b)/F,M=(-Z*w+_*b)/F,R=S-m,P=C-y,$=N-m,T=M-y;return R*R+P*P>$*$+T*T&&(S=N,C=M),{cx:S,cy:C,x01:-d,y01:-c,x11:S*(a/x-1),y11:C*(a/x-1)}}function c(){var t=s,e=o,n=(0,i.Z)(0),c=null,g=l,p=h,f=u,v=null,m=(0,a.d)(y);function y(){var i,a,s=+t.apply(this,arguments),o=+e.apply(this,arguments),l=g.apply(this,arguments)-r.ou,h=p.apply(this,arguments)-r.ou,u=(0,r.Wn)(h-l),y=h>l;if(v||(v=i=m()),o<s&&(a=o,o=s,s=a),o>r.Ho)if(u>r.BZ-r.Ho)v.moveTo(o*(0,r.mC)(l),o*(0,r.O$)(l)),v.arc(0,0,o,l,h,!y),s>r.Ho&&(v.moveTo(s*(0,r.mC)(h),s*(0,r.O$)(h)),v.arc(0,0,s,h,l,y));else{var w,_,F=l,x=h,Z=l,b=h,S=u,C=u,N=f.apply(this,arguments)/2,M=N>r.Ho&&(c?+c.apply(this,arguments):(0,r._b)(s*s+o*o)),R=(0,r.VV)((0,r.Wn)(o-s)/2,+n.apply(this,arguments)),P=R,$=R;if(M>r.Ho){var T=(0,r.ZR)(M/s*(0,r.O$)(N)),L=(0,r.ZR)(M/o*(0,r.O$)(N));(S-=2*T)>r.Ho?(Z+=T*=y?1:-1,b-=T):(S=0,Z=b=(l+h)/2),(C-=2*L)>r.Ho?(F+=L*=y?1:-1,x-=L):(C=0,F=x=(l+h)/2)}var I=o*(0,r.mC)(F),A=o*(0,r.O$)(F),D=s*(0,r.mC)(b),O=s*(0,r.O$)(b);if(R>r.Ho){var H,V=o*(0,r.mC)(x),z=o*(0,r.O$)(x),B=s*(0,r.mC)(Z),E=s*(0,r.O$)(Z);if(u<r.pi)if(H=function(t,e,n,i,a,s,o,l){var h=n-t,u=i-e,d=o-a,c=l-s,g=c*h-d*u;if(!(g*g<r.Ho))return[t+(g=(d*(e-s)-c*(t-a))/g)*h,e+g*u]}(I,A,B,E,V,z,D,O)){var k=I-H[0],W=A-H[1],U=V-H[0],J=z-H[1],j=1/(0,r.O$)((0,r.Kh)((k*U+W*J)/((0,r._b)(k*k+W*W)*(0,r._b)(U*U+J*J)))/2),G=(0,r._b)(H[0]*H[0]+H[1]*H[1]);P=(0,r.VV)(R,(s-G)/(j-1)),$=(0,r.VV)(R,(o-G)/(j+1))}else P=$=0}C>r.Ho?$>r.Ho?(w=d(B,E,I,A,o,$,y),_=d(V,z,D,O,o,$,y),v.moveTo(w.cx+w.x01,w.cy+w.y01),$<R?v.arc(w.cx,w.cy,$,(0,r.fv)(w.y01,w.x01),(0,r.fv)(_.y01,_.x01),!y):(v.arc(w.cx,w.cy,$,(0,r.fv)(w.y01,w.x01),(0,r.fv)(w.y11,w.x11),!y),v.arc(0,0,o,(0,r.fv)(w.cy+w.y11,w.cx+w.x11),(0,r.fv)(_.cy+_.y11,_.cx+_.x11),!y),v.arc(_.cx,_.cy,$,(0,r.fv)(_.y11,_.x11),(0,r.fv)(_.y01,_.x01),!y))):(v.moveTo(I,A),v.arc(0,0,o,F,x,!y)):v.moveTo(I,A),s>r.Ho&&S>r.Ho?P>r.Ho?(w=d(D,O,V,z,s,-P,y),_=d(I,A,B,E,s,-P,y),v.lineTo(w.cx+w.x01,w.cy+w.y01),P<R?v.arc(w.cx,w.cy,P,(0,r.fv)(w.y01,w.x01),(0,r.fv)(_.y01,_.x01),!y):(v.arc(w.cx,w.cy,P,(0,r.fv)(w.y01,w.x01),(0,r.fv)(w.y11,w.x11),!y),v.arc(0,0,s,(0,r.fv)(w.cy+w.y11,w.cx+w.x11),(0,r.fv)(_.cy+_.y11,_.cx+_.x11),y),v.arc(_.cx,_.cy,P,(0,r.fv)(_.y11,_.x11),(0,r.fv)(_.y01,_.x01),!y))):v.arc(0,0,s,b,Z,y):v.lineTo(D,O)}else v.moveTo(0,0);if(v.closePath(),i)return v=null,i+""||null}return y.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+g.apply(this,arguments)+ +p.apply(this,arguments))/2-r.pi/2;return[(0,r.mC)(i)*n,(0,r.O$)(i)*n]},y.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.Z)(+e),y):t},y.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.Z)(+t),y):e},y.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:(0,i.Z)(+t),y):n},y.padRadius=function(t){return arguments.length?(c=null==t?null:"function"==typeof t?t:(0,i.Z)(+t),y):c},y.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:(0,i.Z)(+t),y):g},y.endAngle=function(t){return arguments.length?(p="function"==typeof t?t:(0,i.Z)(+t),y):p},y.padAngle=function(t){return arguments.length?(f="function"==typeof t?t:(0,i.Z)(+t),y):f},y.context=function(t){return arguments.length?(v=null==t?null:t,y):v},y}},309:(t,e,n)=>{function i(t){return function(){return t}}n.d(e,{Z:()=>i})},1978:(t,e,n)=>{n.d(e,{BZ:()=>g,Fp:()=>s,Ho:()=>u,Kh:()=>p,O$:()=>l,VV:()=>o,Wn:()=>i,ZR:()=>f,_b:()=>h,fv:()=>r,mC:()=>a,ou:()=>c,pi:()=>d});const i=Math.abs,r=Math.atan2,a=Math.cos,s=Math.max,o=Math.min,l=Math.sin,h=Math.sqrt,u=1e-12,d=Math.PI,c=d/2,g=2*d;function p(t){return t>1?0:t<-1?d:Math.acos(t)}function f(t){return t>=1?c:t<=-1?-c:Math.asin(t)}},8229:(t,e,n)=>{n.d(e,{d:()=>r});var i=n(9906);function r(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new i.y$(e)}},6084:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1739);function r(t,e,n){var r=new i.B7;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}},1739:(t,e,n)=>{n.d(e,{B7:()=>m,HT:()=>y,zO:()=>f});var i,r,a=n(6738),s=0,o=0,l=0,h=1e3,u=0,d=0,c=0,g="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof a&&a.requestAnimationFrame?a.requestAnimationFrame.bind(a):function(t){setTimeout(t,17)};function f(){return d||(p(v),d=g.now()+c)}function v(){d=0}function m(){this._call=this._time=this._next=null}function y(t,e,n){var i=new m;return i.restart(t,e,n),i}function w(){d=(u=g.now())+c,s=o=0;try{!function(){f(),++s;for(var t,e=i;e;)(t=d-e._time)>=0&&e._call.call(void 0,t),e=e._next;--s}()}finally{s=0,function(){for(var t,e,n=i,a=1/0;n;)n._call?(a>n._time&&(a=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,F(a)}(),d=0}}function _(){var t=g.now(),e=t-u;e>h&&(c-=e,u=t)}function F(t){s||(o&&(o=clearTimeout(o)),t-d>24?(t<1/0&&(o=setTimeout(w,t-g.now()-c)),l&&(l=clearInterval(l))):(l||(u=g.now(),l=setInterval(_,h)),s=1,p(w)))}m.prototype=y.prototype={constructor:m,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?f():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,F()},stop:function(){this._call&&(this._call=null,this._time=1/0,F())}}},3399:(t,e,n)=>{n.d(e,{eR:()=>i.ZP}),n(5781);var i=n(6365)},8640:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(9882);function r(t,e){var n,r,a,s=t.__transition,o=!0;if(s){for(a in e=null==e?null:e+"",s)(n=s[a]).name===e?(r=n.state>i.KE&&n.state<i.wS,n.state=i.Ku,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[a]):o=!1;o&&delete t.__transition}}},5781:(t,e,n)=>{var i=n(8390),r=n(1689),a=n(7207);i.ZP.prototype.interrupt=r.Z,i.ZP.prototype.transition=a.Z},1689:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8640);function r(t){return this.each((function(){(0,i.Z)(this,t)}))}},7207:(t,e,n)=>{n.d(e,{Z:()=>h});var i=n(6365),r=n(9882),a=n(2067),s=n(1739),o={time:null,delay:0,duration:250,ease:a.tw};function l(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function h(t){var e,n;t instanceof i.uT?(e=t._id,t=t._name):(e=(0,i.pZ)(),(n=o).time=(0,s.zO)(),t=null==t?null:t+"");for(var a=this._groups,h=a.length,u=0;u<h;++u)for(var d,c=a[u],g=c.length,p=0;p<g;++p)(d=c[p])&&(0,r.ZP)(d,t,e,p,c,n||l(d,e));return new i.uT(a,this._parents,t,e)}},5114:(t,e,n)=>{n.d(e,{Z:()=>g});var i=n(3465),r=n(1663),a=n(9040),s=n(4548);function o(t){return function(){this.removeAttribute(t)}}function l(t){return function(){this.removeAttributeNS(t.space,t.local)}}function h(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttribute(t);return s===a?null:s===i?r:r=e(i=s,n)}}function u(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===i?r:r=e(i=s,n)}}function d(t,e,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l));this.removeAttribute(t)}}function c(t,e,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l));this.removeAttributeNS(t.space,t.local)}}function g(t,e){var n=(0,r.Z)(t),g="transform"===n?i.w:s.Z;return this.attrTween(t,"function"==typeof e?(n.local?c:d)(n,g,(0,a.x)(this,"attr."+t,e)):null==e?(n.local?l:o)(n):(n.local?u:h)(n,g,e))}},8061:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(1663);function r(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function a(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function s(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var s=(0,i.Z)(t);return this.tween(n,(s.local?r:a)(s,e))}},6882:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(9882);function r(t,e){return function(){(0,i.S1)(this,t).delay=+e.apply(this,arguments)}}function a(t,e){return e=+e,function(){(0,i.S1)(this,t).delay=e}}function s(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?r:a)(e,t)):(0,i.U2)(this.node(),e).delay}},4786:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(9882);function r(t,e){return function(){(0,i.t8)(this,t).duration=+e.apply(this,arguments)}}function a(t,e){return e=+e,function(){(0,i.t8)(this,t).duration=e}}function s(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?r:a)(e,t)):(0,i.U2)(this.node(),e).duration}},3353:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(9882);function r(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){(0,i.t8)(this,t).ease=e}}(e,t)):(0,i.U2)(this.node(),e).ease}},5778:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(9882);function r(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;(0,i.t8)(this,t).ease=n}}(this._id,t))}},5355:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(9882);function r(){var t,e,n=this,r=n._id,a=n.size();return new Promise((function(s,o){var l={value:o},h={value:function(){0==--a&&s()}};n.each((function(){var n=(0,i.t8)(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),n.on=e})),0===a&&s()}))}},9579:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(4421),r=n(6365);function a(t){"function"!=typeof t&&(t=(0,i.Z)(t));for(var e=this._groups,n=e.length,a=new Array(n),s=0;s<n;++s)for(var o,l=e[s],h=l.length,u=a[s]=[],d=0;d<h;++d)(o=l[d])&&t.call(o,o.__data__,d,l)&&u.push(o);return new r.uT(a,this._parents,this._name,this._id)}},6365:(t,e,n)=>{n.d(e,{ZP:()=>C,pZ:()=>N,uT:()=>S});var i=n(8390),r=n(5114),a=n(8061),s=n(6882),o=n(4786),l=n(3353),h=n(5778),u=n(9579),d=n(9858),c=n(7349),g=n(9935),p=n(4417),f=n(5174),v=n(3836),m=n(8508),y=n(5109),w=n(5699),_=n(4987),F=n(4085),x=n(9040),Z=n(5355),b=0;function S(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function C(t){return(0,i.ZP)().transition(t)}function N(){return++b}var M=i.ZP.prototype;S.prototype=C.prototype={constructor:S,select:p.Z,selectAll:f.Z,selectChild:M.selectChild,selectChildren:M.selectChildren,filter:u.Z,merge:d.Z,selection:v.Z,transition:F.Z,call:M.call,nodes:M.nodes,node:M.node,size:M.size,empty:M.empty,each:M.each,on:c.Z,attr:r.Z,attrTween:a.Z,style:m.Z,styleTween:y.Z,text:w.Z,textTween:_.Z,remove:g.Z,tween:x.Z,delay:s.Z,duration:o.Z,ease:l.Z,easeVarying:h.Z,end:Z.Z,[Symbol.iterator]:M[Symbol.iterator]}},4548:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(4447),r=n(8063),a=n(6354),s=n(6773);function o(t,e){var n;return("number"==typeof e?r.Z:e instanceof i.ZP?a.ZP:(n=(0,i.ZP)(e))?(e=n,a.ZP):s.Z)(t,e)}},9858:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(6365);function r(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var h,u=e[l],d=n[l],c=u.length,g=o[l]=new Array(c),p=0;p<c;++p)(h=u[p]||d[p])&&(g[p]=h);for(;l<r;++l)o[l]=e[l];return new i.uT(o,this._parents,this._name,this._id)}},7349:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(9882);function r(t,e){var n=this._id;return arguments.length<2?(0,i.U2)(this.node(),n).on.on(t):this.each(function(t,e,n){var r,a,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?i.S1:i.t8;return function(){var i=s(this,t),o=i.on;o!==r&&(a=(r=o).copy()).on(e,n),i.on=a}}(n,t,e))}},9935:(t,e,n)=>{function i(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}n.d(e,{Z:()=>i})},9882:(t,e,n)=>{n.d(e,{KE:()=>u,Ku:()=>p,S1:()=>v,U2:()=>y,ZP:()=>f,t8:()=>m,wS:()=>g});var i=n(6057),r=n(1739),a=n(6084),s=(0,i.Z)("start","end","cancel","interrupt"),o=[],l=0,h=1,u=2,d=3,c=4,g=5,p=6;function f(t,e,n,i,f,v){var m=t.__transition;if(m){if(n in m)return}else t.__transition={};!function(t,e,n){var i,s=t.__transition;function o(r){var g,v,m,y;if(n.state!==h)return f();for(g in s)if((y=s[g]).name===n.name){if(y.state===d)return(0,a.Z)(o);y.state===c?(y.state=p,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete s[g]):+g<e&&(y.state=p,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete s[g])}if((0,a.Z)((function(){n.state===d&&(n.state=c,n.timer.restart(l,n.delay,n.time),l(r))})),n.state=u,n.on.call("start",t,t.__data__,n.index,n.group),n.state===u){for(n.state=d,i=new Array(m=n.tween.length),g=0,v=-1;g<m;++g)(y=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(i[++v]=y);i.length=v+1}}function l(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(f),n.state=g,1),a=-1,s=i.length;++a<s;)i[a].call(t,r);n.state===g&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){for(var i in n.state=p,n.timer.stop(),delete s[e],s)return;delete t.__transition}s[e]=n,n.timer=(0,r.HT)((function(t){n.state=h,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:f,on:s,tween:o,time:v.time,delay:v.delay,duration:v.duration,ease:v.ease,timer:null,state:l})}function v(t,e){var n=y(t,e);if(n.state>l)throw new Error("too late; already scheduled");return n}function m(t,e){var n=y(t,e);if(n.state>d)throw new Error("too late; already running");return n}function y(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}},4417:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(3010),r=n(6365),a=n(9882);function s(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,i.Z)(t));for(var s=this._groups,o=s.length,l=new Array(o),h=0;h<o;++h)for(var u,d,c=s[h],g=c.length,p=l[h]=new Array(g),f=0;f<g;++f)(u=c[f])&&(d=t.call(u,u.__data__,f,c))&&("__data__"in u&&(d.__data__=u.__data__),p[f]=d,(0,a.ZP)(p[f],e,n,f,p,(0,a.U2)(u,n)));return new r.uT(l,this._parents,e,n)}},5174:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(9701),r=n(6365),a=n(9882);function s(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,i.Z)(t));for(var s=this._groups,o=s.length,l=[],h=[],u=0;u<o;++u)for(var d,c=s[u],g=c.length,p=0;p<g;++p)if(d=c[p]){for(var f,v=t.call(d,d.__data__,p,c),m=(0,a.U2)(d,n),y=0,w=v.length;y<w;++y)(f=v[y])&&(0,a.ZP)(f,e,n,y,v,m);l.push(v),h.push(d)}return new r.uT(l,h,e,n)}},3836:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8390).ZP.prototype.constructor;function r(){return new i(this._groups,this._parents)}},8508:(t,e,n)=>{n.d(e,{Z:()=>h});var i=n(3465),r=n(2627),a=n(9882),s=n(9040),o=n(4548);function l(t){return function(){this.style.removeProperty(t)}}function h(t,e,n){var h="transform"==(t+="")?i.Y:o.Z;return null==e?this.styleTween(t,function(t,e){var n,i,a;return function(){var s=(0,r.S)(this,t),o=(this.style.removeProperty(t),(0,r.S)(this,t));return s===o?null:s===n&&o===i?a:a=e(n=s,i=o)}}(t,h)).on("end.style."+t,l(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,a,s;return function(){var o=(0,r.S)(this,t),l=n(this),h=l+"";return null==l&&(this.style.removeProperty(t),h=l=(0,r.S)(this,t)),o===h?null:o===i&&h===a?s:(a=h,s=e(i=o,l))}}(t,h,(0,s.x)(this,"style."+t,e))).each(function(t,e){var n,i,r,s,o="style."+e,h="end."+o;return function(){var u=(0,a.t8)(this,t),d=u.on,c=null==u.value[o]?s||(s=l(e)):void 0;d===n&&r===c||(i=(n=d).copy()).on(h,r=c),u.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,a,s=n+"";return function(){var o=(0,r.S)(this,t);return o===s?null:o===i?a:a=e(i=o,n)}}(t,h,e),n).on("end.style."+t,null)}},5109:(t,e,n)=>{function i(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function a(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,a,n)),i}return a._value=e,a}(t,e,null==n?"":n))}n.d(e,{Z:()=>i})},5699:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(9040);function r(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}((0,i.x)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},4987:(t,e,n)=>{function i(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))}n.d(e,{Z:()=>i})},4085:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(6365),r=n(9882);function a(){for(var t=this._name,e=this._id,n=(0,i.pZ)(),a=this._groups,s=a.length,o=0;o<s;++o)for(var l,h=a[o],u=h.length,d=0;d<u;++d)if(l=h[d]){var c=(0,r.U2)(l,e);(0,r.ZP)(l,t,n,d,h,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new i.uT(a,this._parents,t,n)}},9040:(t,e,n)=>{n.d(e,{Z:()=>s,x:()=>o});var i=n(9882);function r(t,e){var n,r;return function(){var a=(0,i.t8)(this,t),s=a.tween;if(s!==n)for(var o=0,l=(r=n=s).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}a.tween=r}}function a(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var s=(0,i.t8)(this,t),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:e,value:n},h=0,u=a.length;h<u;++h)if(a[h].name===e){a[h]=l;break}h===u&&a.push(l)}s.tween=a}}function s(t,e){var n=this._id;if(t+="",arguments.length<2){for(var s,o=(0,i.U2)(this.node(),n).tween,l=0,h=o.length;l<h;++l)if((s=o[l]).name===t)return s.value;return null}return this.each((null==e?r:a)(n,t,e))}function o(t,e,n){var r=t._id;return t.each((function(){var t=(0,i.t8)(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return(0,i.U2)(t,r).value[e]}}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{n.r(i),n.d(i,{default:()=>a});var t=n(7546),e=n(6738).powerbi,r={name:"ChartFlare",displayName:"Chart Flare",class:"Visual",apiVersion:"5.1.0",create:e=>{if(t.u)return new t.u(e);throw"Visual instance not found"},createModalDialog:(t,e,n)=>{const i=globalThis.dialogRegistry;t in i&&new i[t](e,n)},custom:!0};void 0!==e&&(e.visuals=e.visuals||{},e.visuals.plugins=e.visuals.plugins||{},e.visuals.plugins.ChartFlare=r);const a=r})(),ChartFlare=i})();