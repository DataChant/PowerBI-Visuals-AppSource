var powerbi;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(e,t,n){void 0===e&&(e=[]);var s=e;return i(s),t&&(s.identityFields=t),n&&(s.source=n),s}function i(e,t){e.grouped=t?function(){return t}:function(){return n(e)}}function n(e){for(var t,i=[],n=0,s=e.length;s>n;n++){var a=e[n];if(!t||t.identity!==a.identity){if(t={values:[]},a.identity){t.identity=a.identity;var r=a.source;void 0!==r.groupName?t.name=r.groupName:r.displayName&&(t.name=r.displayName)}i.push(t)}t.values.push(a)}return i}e.createValueColumns=t,e.setGrouped=i,e.groupValues=n}(t=e.DataViewTransform||(e.DataViewTransform={}))}(t=e.dataview||(e.dataview={}))}(t=e.utils||(e.utils={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(e,t){if(!e||!e.length)return-1;var i=e[0];if(i.values&&i.values.length>0)for(var s=0,a=i.values.length;a>s;++s){var r=i.values[s];if(r&&r.source&&n(r.source,t))return s}return-1}function i(e,t){if(e&&e.length)for(var i=0,s=e.length;s>i;i++)if(n(e[i].source,t))return i;return-1}function n(e,t){var i=e.roles;return i&&i[t]}function s(e,t){return null!=e&&null!=e.metadata&&e.metadata.columns&&e.metadata.columns.some(function(e){return e.roles&&void 0!==e.roles[t]})}function a(e,t){return e&&e.source&&e.source.roles&&e.source.roles[t]===!0}e.getMeasureIndexOfRole=t,e.getCategoryIndexOfRole=i,e.hasRole=n,e.hasRoleInDataView=s,e.hasRoleInValueColumn=a}(t=e.DataRoleHelper||(e.DataRoleHelper={}))}(t=e.dataview||(e.dataview={}))}(t=e.utils||(e.utils={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(e,t,i){if(!e)return i;var n=e[t];return void 0===n?i:n}function i(e,i,n){var s=t(e,i);return s&&s.solid?s.solid.color:n}e.getValue=t,e.getFillColorByPropertyName=i}(t=e.DataViewObject||(e.DataViewObject={}))}(t=e.dataview||(e.dataview={}))}(t=e.utils||(e.utils={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(t){function i(t,i,n){return t?e.DataViewObject.getValue(t[i.objectName],i.propertyName,n):n}function n(e,t,i){return e&&e[t]?e[t]:i}function s(e,t,n){var s=i(e,t);return s&&s.solid?s.solid.color:n}function a(e,t,n){var s=i(e,t,n);return s&&s.solid?s.solid.color:void 0===s||null===s||"object"==typeof s&&!s.solid?n:s}t.getValue=i,t.getObject=n,t.getFillColor=s,t.getCommonValue=a}(t=e.DataViewObjects||(e.DataViewObjects={}))}(t=e.dataview||(e.dataview={}))}(t=e.utils||(e.utils={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(t){var i;!function(t){var i;!function(t){var i,n=e.extensibility.utils.dataview.DataRoleHelper;!function(e){function t(e,t,i){if(e.categories&&e.categories.length>0){var s=e.categories[0];return s.source&&n.hasRole(s.source,t)&&n.hasRole(s.source,i)}return!1}function i(e){return void 0!==e.groupName?e.groupName:e.queryName}function s(e){var t=r(e);return null!=t&&t.imageUrl===!0}function a(e){var t=r(e);return null!=t&&t.webUrl===!0}function r(e){return e&&e.type&&e.type.misc}function o(e){return e&&e.metadata&&e.metadata.columns&&e.metadata.columns.length?e.metadata.columns.some(function(e){return s(e)===!0}):!1}e.categoryIsAlsoSeriesRole=t,e.getSeriesName=i,e.isImageUrlColumn=s,e.isWebUrlColumn=a,e.getMiscellaneousTypeDescriptor=r,e.hasImageUrlColumn=o}(i=t.converterHelper||(t.converterHelper={}))}(i=t.dataview||(t.dataview={}))}(i=t.utils||(t.utils={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.getDefault=function(){return new this},t.createPropertyIdentifier=function(e,t){return{objectName:e,propertyName:t}},t.parse=function(t){var i,n=this.getDefault();if(!t||!t.metadata||!t.metadata.objects)return n;i=n.getProperties();for(var s in i)for(var a in i[s]){var r=n[s][a];n[s][a]=e.DataViewObjects.getCommonValue(t.metadata.objects,i[s][a],r)}return n},t.isPropertyEnumerable=function(e){return!t.InnumerablePropertyPrefix.test(e)},t.enumerateObjectInstances=function(e,t){var i=e&&e[t.objectName];if(!i)return[];var n={objectName:t.objectName,selector:null,properties:{}};for(var s in i)i.hasOwnProperty(s)&&(n.properties[s]=i[s]);return{instances:[n]}},t.prototype.getProperties=function(){var e=this,i={},n=Object.keys(this);return n.forEach(function(n){if(t.isPropertyEnumerable(n)){var s=Object.keys(e[n]);i[n]={},s.forEach(function(e){t.isPropertyEnumerable(n)&&(i[n][e]=t.createPropertyIdentifier(n,e))})}}),i},t}();t.InnumerablePropertyPrefix=/^_/,e.DataViewObjectsParser=t}(t=e.dataview||(e.dataview={}))}(t=e.utils||(e.utils={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";function t(){r=0}function i(){return 0===r}function n(e,t){var i=[];if(e&&e.hasChildNodes()){for(var n=e.children,a=0;a<n.length;a++){var r=void 0;r="script"===n.item(a).nodeName.toLowerCase()?s(n.item(a)):n.item(a).cloneNode(!0),t.appendChild(r),i.push(r)}return i}}function s(e){for(var t=document.createElement("script"),i=e.attributes,n=0;n<i.length;n++)t.setAttribute(i[n].name,i[n].textContent),"src"===i[n].name.toLowerCase()&&(r++,t.onload=function(){r--});return t.innerHTML=e.innerHTML,t}function a(){var e=window.setInterval(function(){i()&&(window.clearInterval(e),window.hasOwnProperty("HTMLWidgets")&&window.HTMLWidgets.staticRender&&window.HTMLWidgets.staticRender())},100)}var r=0;e.ResetInjector=t,e.injectorReady=i,e.ParseElement=n,e.RunHTMLWidgetRenderer=a}(t=e.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958||(e.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958={}))}(t=e.visual||(e.visual={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(e,t,i,n){if(e){var s=e[t];if(s){var a=s[i];if(void 0!==a)return a}}return n}function i(e,t,i,n,s){var a=e.objects;if(a){var r=a[t];if(r){var o=r[i];if(o){var l=o[n];if(void 0!==l)return l}}}return s}e.getValue=t,e.getCategoricalObjectValue=i}(t=e.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958||(e.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958={}))}(t=e.visual||(e.visual={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(t){var i;!function(t){var i;!function(t){"use strict";var i=!1,n=[e.VisualUpdateType.Resize,e.VisualUpdateType.ResizeEnd,e.VisualUpdateType.Resize+e.VisualUpdateType.ResizeEnd],s=function(){function e(e){e&&e.element&&(this.rootElement=e.element),this.headNodes=[],this.bodyNodes=[]}return e.prototype.update=function(e){if(e&&e.type&&e.viewport&&e.dataViews&&0!==e.dataViews.length&&e.dataViews[0]){var t=e.dataViews[0];this.updateObjects(t.metadata.objects);var i=null;t.scriptResult&&t.scriptResult.payloadBase64&&(i=t.scriptResult.payloadBase64),-1===n.indexOf(e.type)?i&&this.injectCodeFromPayload(i):this.onResizing(e.viewport)}},e.prototype.onResizing=function(e){},e.prototype.injectCodeFromPayload=function(e){if(t.ResetInjector(),e){var n=document.createElement("html");try{n.innerHTML=window.atob(e)}catch(s){return}if(i||0===this.headNodes.length){for(;this.headNodes.length>0;){var a=this.headNodes.pop();document.head.removeChild(a)}var r=n.getElementsByTagName("head");if(r&&r.length>0){var o=r[0];this.headNodes=t.ParseElement(o,document.head)}}for(;this.bodyNodes.length>0;){var a=this.bodyNodes.pop();this.rootElement.removeChild(a)}var l=n.getElementsByTagName("body");if(l&&l.length>0){var u=l[0];this.bodyNodes=t.ParseElement(u,this.rootElement)}t.RunHTMLWidgetRenderer()}},e.prototype.updateObjects=function(e){var i=t.getValue(e,"settings","units",10);i=0>=i?10:t.getValue(e,"settings","units",10);var n=parseFloat(t.getValue(e,"settings","decay","0.009")),s=parseFloat(t.getValue(e,"settings","maxitr","200")),a=parseFloat(t.getValue(e,"settings","epochs","8")),r=parseFloat(t.getValue(e,"settings","size","20")),o=parseFloat(t.getValue(e,"settings","confLevel","0.8")),l=t.getValue(e,"xaxisSettings","xGridWidth",.1);l=.1>l?.1:l>5?.1:t.getValue(e,"xaxisSettings","xGridWidth",.1);var u=t.getValue(e,"xaxisSettings","xAxisBaseLineWidth",4);u=1>u?4:u>11?4:t.getValue(e,"xaxisSettings","xAxisBaseLineWidth",4);var c=t.getValue(e,"yaxisSettings","yGridWidth",.1);c=.1>c?.1:c>5?.1:t.getValue(e,"yaxisSettings","yGridWidth",.1);var g=t.getValue(e,"yaxisSettings","yAxisBaseLineWidth",4);g=1>g?4:g>11?4:t.getValue(e,"yaxisSettings","yAxisBaseLineWidth",4),this.isettings={parameterSettings:t.getValue(e,"settings","parameterSettings","Auto"),units:i,decay:n,maxitr:s,epochs:a,size:r,confLevel:o,confInterval:t.getValue(e,"settings","confInterval",!1)},this.plotSettings={plotColor:t.getValue(e,"plotSettings","plotColor","#FFFFFF"),fline:t.getValue(e,"plotSettings","fline","#F2C80F"),hline:t.getValue(e,"plotSettings","hline","#01B8AA"),flineText:t.getValue(e,"plotSettings","flineText","Prediction"),hlineText:t.getValue(e,"plotSettings","hlineText","Observed"),confCol:t.getValue(e,"plotSettings","confCol","Gray95"),confText:t.getValue(e,"plotSettings","confText","Confidence")},this.xaxisSettings={xTitle:t.getValue(e,"xaxisSettings","xTitle",""),xZeroline:t.getValue(e,"xaxisSettings","xZeroline",!0),xLabels:t.getValue(e,"xaxisSettings","xLabels",!0),xGrid:t.getValue(e,"xaxisSettings","xGrid",!0),xGridCol:t.getValue(e,"xaxisSettings","xGridCol","#BFC4C5"),xGridWidth:l,xAxisBaseLine:t.getValue(e,"xaxisSettings","xAxisBaseLine",!0),xAxisBaseLineCol:t.getValue(e,"xaxisSettings","xAxisBaseLineCol","#000000"),xAxisBaseLineWidth:u},this.yaxisSettings={yTitle:t.getValue(e,"yaxisSettings","yTitle",""),yZeroline:t.getValue(e,"yaxisSettings","yZeroline",!0),yLabels:t.getValue(e,"yaxisSettings","yLabels",!0),yGrid:t.getValue(e,"yaxisSettings","yGrid",!0),yGridCol:t.getValue(e,"yaxisSettings","yGridCol","#BFC4C5"),yGridWidth:c,yAxisBaseLine:t.getValue(e,"yaxisSettings","yAxisBaseLine",!0),yAxisBaseLineCol:t.getValue(e,"yaxisSettings","yAxisBaseLineCol","#000000"),yAxisBaseLineWidth:g}},e.prototype.enumerateObjectInstances=function(e){var t;t=e.objectName;var i;i=[];var n;switch(t){case"settings":n={},n.parameterSettings=this.isettings.parameterSettings,"Auto"===this.isettings.parameterSettings?n.units=this.isettings.units:(n.decay=this.isettings.decay,n.maxitr=this.isettings.maxitr,n.units=this.isettings.units,n.epochs=this.isettings.epochs,n.size=this.isettings.size),n.confInterval=this.isettings.confInterval,this.isettings.confInterval&&(n.confLevel=this.isettings.confLevel),i.push({objectName:t,properties:n,selector:null});break;case"plotSettings":i.push({objectName:t,properties:{plotColor:this.plotSettings.plotColor,fline:this.plotSettings.fline,hline:this.plotSettings.hline,flineText:this.plotSettings.flineText,hlineText:this.plotSettings.hlineText,confCol:this.plotSettings.confCol,confText:this.plotSettings.confText},selector:null});break;case"xaxisSettings":n={},n.xTitle=this.xaxisSettings.xTitle,n.xZeroline=this.xaxisSettings.xZeroline,n.xLabels=this.xaxisSettings.xLabels,n.xGrid=this.xaxisSettings.xGrid,this.xaxisSettings.xGrid&&(n.xGridCol=this.xaxisSettings.xGridCol,n.xGridWidth=this.xaxisSettings.xGridWidth),n.xAxisBaseLine=this.xaxisSettings.xAxisBaseLine,this.xaxisSettings.xAxisBaseLine&&(n.xAxisBaseLineCol=this.xaxisSettings.xAxisBaseLineCol,n.xAxisBaseLineWidth=this.xaxisSettings.xAxisBaseLineWidth),i.push({objectName:t,properties:n,selector:null});break;case"yaxisSettings":n={},n.yTitle=this.yaxisSettings.yTitle,n.yZeroline=this.yaxisSettings.yZeroline,n.yLabels=this.yaxisSettings.yLabels,n.yGrid=this.yaxisSettings.yGrid,this.yaxisSettings.yGrid&&(n.yGridCol=this.yaxisSettings.yGridCol,n.yGridWidth=this.yaxisSettings.yGridWidth),n.yAxisBaseLine=this.yaxisSettings.yAxisBaseLine,this.yaxisSettings.yAxisBaseLine&&(n.yAxisBaseLineCol=this.yaxisSettings.yAxisBaseLineCol,n.yAxisBaseLineWidth=this.yaxisSettings.yAxisBaseLineWidth),i.push({objectName:t,properties:n,selector:null})}return i},e}();t.ForecastingUsingNN=s}(i=t.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958||(t.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958={}))}(i=t.visual||(t.visual={}))}(t=e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){var t;!function(t){var i;!function(t){t.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958={name:"ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958",displayName:"Forecast using Neural Network by MAQ Software","class":"ForecastingUsingNN",version:"3.0.6",apiVersion:"2.1.0",create:function(t){return new e.extensibility.visual.ForecastUsingNeuralNetworkC3FF19A2F6084F9DB72C16B27773958.ForecastingUsingNN(t)},custom:!0}}(i=t.plugins||(t.plugins={}))}(t=e.visuals||(e.visuals={}))}(powerbi||(powerbi={}));