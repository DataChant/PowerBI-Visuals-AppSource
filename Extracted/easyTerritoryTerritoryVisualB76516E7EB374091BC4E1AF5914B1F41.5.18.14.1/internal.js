/*! For license information please see visual.js.LICENSE.txt */
var easyTerritoryTerritoryVisualB76516E7EB374091BC4E1AF5914B1F41;(()=>{var e,t,r={28602:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,l)),u=0,d=l>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===l&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},38875:(e,t,r)=>{"use strict";const n=r(28602),i=r(60575),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=s(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const i=function(e){if(l.isBuffer(e)){const t=0|m(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|m(e))}function h(e){const t=e.length<0?0:0|m(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function m(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function M(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(J(n))return a;e[r+a]=n}return a}function x(e,t,r,n){return B(H(t,e.length-r),e,r,n)}function S(e,t,r,n){return B(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return B(U(t),e,r,n)}function _(e,t,r,n){return B(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))i+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):f.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<s;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return M(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function L(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Q[e[n]];return i}function Z(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function E(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function z(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function G(e,t,r,n,i){j(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function P(e,t,r,n,i){j(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function A(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,n,o){return t=+t,r>>>=0,o||A(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return t=+t,r>>>=0,o||A(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=q((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=q((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=q((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=q((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||z(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||z(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=q((function(e,t=0){return G(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=q((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);z(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);z(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=q((function(e,t=0){return G(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=q((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const X={};function O(e,t,r){X[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function j(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new X.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){Y(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,o)}function Y(e,t){if("number"!=typeof e)throw new X.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw Y(e,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}O("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),O("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),O("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function q(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},60575:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,m=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=m,a/=256,c-=8);e[r+p-m]|=128*y}},16826:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);const i=e=>n.createElement("li",{className:"autoCompleteLi",onClick:()=>e.onSelectAutoComplete(e.key,e.name,e.lat,e.lon),id:e.name},e.name)},71881:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540),i=r(86382);const o=e=>{const t={background:e.highlighted?e.gradient:"rgb(179, 176, 173)",border:"1px solid "+e.borderColor,opacity:e.opacity};let r=e.layerType===i.RG.territories?"iPolygons":"iPoints";r=e.levelType===i.RG.territories?"iPolygons":"iPoints";const o=e.exact||n.createElement("br",null);return n.createElement("li",{className:"sideMenuClassify",key:e.key,id:e.key},e.dataUri?n.createElement("div",{className:"symbolTitle"},n.createElement("div",{className:"symbolContainer"},n.createElement("img",{src:e.dataUri,style:{height:"20px",opacity:e.opacity}})),o):n.createElement(n.Fragment,null,n.createElement("i",{className:r,style:t,id:e.key}),o))}},11645:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);const i=e=>{const t=e.gradient,r=e.value,i=2*e.size,o=i+4,a=e.opacity,s=e.valueFormatter,l=e.maxHeight,c=s?s.format(r):r;let u=null;return u=e.svg?n.createElement("img",{src:e.svg,style:{height:i+"px",width:i+"px",opacity:a}}):n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i+"px",height:i+"px",viewBox:"0 0 512 512"},n.createElement("circle",{cx:"256",cy:"256",r:"240",fill:t,opacity:a}),n.createElement("path",{d:"M256 16a240 240 0 1 1 0 480 240 240 0 1 1 0-480zm0 496A256 256 0 1 0 256 0a256 256 0 1 0 0 512z",opacity:a})),n.createElement("li",{className:"sideMenuClassify",style:{lineHeight:o+"px",display:"flex",marginRight:"0px",paddingBottom:"2px"},key:e.key,id:r.toString()},n.createElement("div",{style:{width:l+"px",display:"flex",justifyContent:"center",alignItems:"center"}},u),n.createElement("div",{style:{paddingLeft:"6px"}},c))}},99587:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540),i=r(86382);const o=e=>{const t={background:e.highlighted?e.gradient:"rgb(179, 176, 173)",border:"1px solid "+e.borderColor,opacity:e.opacity},r=e.dataUri?{display:"flex"}:{};let o=e.layerType===i.RG.territories?"iPolygons":"iPoints";return o=e.levelType===i.RG.territories?"iPolygons":"iPoints",n.createElement("li",{className:"sideMenuClassify",key:e.key,id:e.gradient,style:r},e.dataUri?n.createElement("div",{style:{height:"20px"}},n.createElement("img",{src:e.dataUri,style:{height:"20px",width:"20px",marginRight:"8px"}})):n.createElement("i",{className:o,style:t}),e.rangeMin+""+e.rangeMax)}},31887:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});const n={img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNDlwdCIgaGVpZ2h0PSI0N3B0IiB2aWV3Qm94PSIwIDAgMTQ5IDQ3IiB2ZXJzaW9uPSIxLjEiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2ZpbGw6cmdiKDkyLjk0MTE3NiUsMTAuOTgwMzkyJSwxNC4xMTc2NDclKTtmaWxsLW9wYWNpdHk6MC40MzEzNzM7c3Ryb2tlLXdpZHRoOjEwOC45NTQ7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlOnJnYig5Mi45NDExNzYlLDEwLjk4MDM5MiUsMTQuMTE3NjQ3JSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDo0OyIgZD0iTSAyMTUuOTgxNjY1IDEwNTMuMDUxNDgzIEwgNjYxLjk3ODE1NyAzMzcuOTk0MjIyIEwgMTY1OC45Nzc5MTIgMjAzLjAxNzEyMiBMIDEwOTIuMDA1ODc5IDkzNy45OTk1NzMgTCAxNDQzLjk2NDA1MSAxNzM5Ljk4ODUxNCBaIE0gMjE1Ljk4MTY2NSAxMDUzLjA1MTQ4MyAiIHRyYW5zZm9ybT0ibWF0cml4KDAuMDI0MjE3MiwwLDAsMC4wMjQzMDk3LDAsMC4wMDIyMTg5MykiLz48cGF0aCBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbDpyZ2IoMTAwJSwxMDAlLDEwMCUpO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDoxMDguOTU0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZTpyZ2IoOTIuOTQxMTc2JSwxMC45ODAzOTIlLDE0LjExNzY0NyUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6NDsiIGQ9Ik0gODIzLjkyNDA4MSAzMzcuOTk0MjIyIEMgODIzLjkyNDA4MSAyNTUuNzIyNDY2IDc1MS41MDAwNTcgMTg5LjAzNzM1IDY2MS45NzgxNTcgMTg5LjAzNzM1IEMgNTcyLjQ1NjI1OCAxODkuMDM3MzUgNTAwLjAzMjIzNCAyNTUuNzIyNDY2IDUwMC4wMzIyMzQgMzM3Ljk5NDIyMiBDIDUwMC4wMzIyMzQgNDIwLjI2NTk3OSA1NzIuNDU2MjU4IDQ4Ni45NTEwOTQgNjYxLjk3ODE1NyA0ODYuOTUxMDk0IEMgNzUxLjUwMDA1NyA0ODYuOTUxMDk0IDgyMy45MjQwODEgNDIwLjI2NTk3OSA4MjMuOTI0MDgxIDMzNy45OTQyMjIgWiBNIDgyMy45MjQwODEgMzM3Ljk5NDIyMiAiIHRyYW5zZm9ybT0ibWF0cml4KDAuMDI0MjE3MiwwLDAsMC4wMjQzMDk3LDAsMC4wMDIyMTg5MykiLz48cGF0aCBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbDpyZ2IoMTAwJSwxMDAlLDEwMCUpO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDoxMDguOTU0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZTpyZ2IoOTIuOTQxMTc2JSwxMC45ODAzOTIlLDE0LjExNzY0NyUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6NDsiIGQ9Ik0gMTgyMC45MjM4MzUgMjAzLjAxNzEyMiBDIDE4MjAuOTIzODM1IDEyMC43NDUzNjUgMTc0OC40OTk4MTIgNTQuMDYwMjUgMTY1OC45Nzc5MTIgNTQuMDYwMjUgQyAxNTY5LjQ1NjAxMiA1NC4wNjAyNSAxNDk3LjAzMTk4OCAxMjAuNzQ1MzY1IDE0OTcuMDMxOTg4IDIwMy4wMTcxMjIgQyAxNDk3LjAzMTk4OCAyODUuMjg4ODc4IDE1NjkuNDU2MDEyIDM1MS45NzM5OTQgMTY1OC45Nzc5MTIgMzUxLjk3Mzk5NCBDIDE3NDguNDk5ODEyIDM1MS45NzM5OTQgMTgyMC45MjM4MzUgMjg1LjI4ODg3OCAxODIwLjkyMzgzNSAyMDMuMDE3MTIyIFogTSAxODIwLjkyMzgzNSAyMDMuMDE3MTIyICIgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjQyMTcyLDAsMCwwLjAyNDMwOTcsMCwwLjAwMjIxODkzKSIvPjxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtmaWxsOnJnYigxMDAlLDEwMCUsMTAwJSk7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEwOC45NTQ7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlOnJnYig5Mi45NDExNzYlLDEwLjk4MDM5MiUsMTQuMTE3NjQ3JSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDo0OyIgZD0iTSAzNzcuOTI3NTg4IDEwNTMuMDUxNDgzIEMgMzc3LjkyNzU4OCA5NzAuNzc5NzI2IDMwNS41MDM1NjUgOTAzLjkzMzkyNCAyMTUuOTgxNjY1IDkwMy45MzM5MjQgQyAxMjYuNDU5NzY1IDkwMy45MzM5MjQgNTQuMDM1NzQxIDk3MC43Nzk3MjYgNTQuMDM1NzQxIDEwNTMuMDUxNDgzIEMgNTQuMDM1NzQxIDExMzUuMzIzMjM5IDEyNi40NTk3NjUgMTIwMi4wMDgzNTUgMjE1Ljk4MTY2NSAxMjAyLjAwODM1NSBDIDMwNS41MDM1NjUgMTIwMi4wMDgzNTUgMzc3LjkyNzU4OCAxMTM1LjMyMzIzOSAzNzcuOTI3NTg4IDEwNTMuMDUxNDgzIFogTSAzNzcuOTI3NTg4IDEwNTMuMDUxNDgzICIgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjQyMTcyLDAsMCwwLjAyNDMwOTcsMCwwLjAwMjIxODkzKSIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbDpyZ2IoMTAwJSwxMDAlLDEwMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAzOC43NDYwOTQgNDIuMTU2MjUgQyAzOC43NDYwOTQgNDAuMTU2MjUgMzYuOTkyMTg4IDM4LjUzMTI1IDM0LjgyNDIxOSAzOC41MzEyNSBDIDMyLjY1NjI1IDM4LjUzMTI1IDMwLjkwMjM0NCA0MC4xNTYyNSAzMC45MDIzNDQgNDIuMTU2MjUgQyAzMC45MDIzNDQgNDQuMTU2MjUgMzIuNjU2MjUgNDUuNzc3MzQ0IDM0LjgyNDIxOSA0NS43NzczNDQgQyAzNi45OTIxODggNDUuNzc3MzQ0IDM4Ljc0NjA5NCA0NC4xNTYyNSAzOC43NDYwOTQgNDIuMTU2MjUgWiBNIDM4Ljc0NjA5NCA0Mi4xNTYyNSAiLz48cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDoxMDguOTU0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZTpyZ2IoOTIuOTQxMTc2JSwxMC45ODAzOTIlLDE0LjExNzY0NyUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6NDsiIGQ9Ik0gMTQ0MS4wNjA2MzggMTU4Ni4wNTAzNDQgQyAxNTE4LjAwMTA4MiAxNTkxLjk5NTc2NCAxNTc4LjAwNDk1IDE2NTcuMDc0MDA5IDE1NzguMDA0OTUgMTczNC4wNDMwOTQgQyAxNTc4LjAwNDk1IDE4MTUuOTkzNDc2IDE1MTEuMDY1MTUxIDE4ODIuOTk5OTY2IDE0MjguOTYzMDg0IDE4ODIuOTk5OTY2IEMgMTM0Ny4wMjIzMTggMTg4Mi45OTk5NjYgMTI3OS45MjEyMTggMTgxNS45OTM0NzYgMTI3OS45MjEyMTggMTczNC4wNDMwOTQgQyAxMjgyLjk4NTkzMiAxNjUwLjk2NzkwMiAxMzUyLjAyMjY0IDE1ODQuOTI1NTM1IDE0MzQuOTMxMjExIDE1ODQuOTI1NTM1IEMgMTQzNy4wMjgxMiAxNTg0LjkyNTUzNSAxNDM4Ljk2MzcyOSAxNTg0LjkyNTUzNSAxNDQxLjA2MDYzOCAxNTg2LjA1MDM0NCBaIE0gMTQ0MS4wNjA2MzggMTU4Ni4wNTAzNDQgIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjAyNDIxNzIsMCwwLDAuMDI0MzA5NywwLDAuMDAyMjE4OTMpIi8+PHBhdGggc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2ZpbGw6cmdiKDEwMCUsMTAwJSwxMDAlKTtmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MTA4Ljk1NDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2U6cmdiKDkyLjk0MTE3NiUsMTAuOTgwMzkyJSwxNC4xMTc2NDclKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjQ7IiBkPSJNIDEyNjEuMDQ5MDM0IDk0My45NDQ5OTMgQyAxMjYxLjA0OTAzNCA4NjEuNjczMjM2IDExODguNDYzNzEgNzk0Ljk4ODEyMSAxMDk4Ljk0MTgxIDc5NC45ODgxMjEgQyAxMDA5LjU4MTIxIDc5NC45ODgxMjEgOTM2Ljk5NTg4NiA4NjEuNjczMjM2IDkzNi45OTU4ODYgOTQzLjk0NDk5MyBDIDkzNi45OTU4ODYgMTAyNi4yMTY3NDkgMTAwOS41ODEyMSAxMDkzLjA2MjU1MiAxMDk4Ljk0MTgxIDEwOTMuMDYyNTUyIEMgMTE4OC40NjM3MSAxMDkzLjA2MjU1MiAxMjYxLjA0OTAzNCAxMDI2LjIxNjc0OSAxMjYxLjA0OTAzNCA5NDMuOTQ0OTkzIFogTSAxMjYxLjA0OTAzNCA5NDMuOTQ0OTkzICIgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjQyMTcyLDAsMCwwLjAyNDMwOTcsMCwwLjAwMjIxODkzKSIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA0NC4wMjczNDQgMjcuOTEwMTU2IEwgMzYuNDQ1MzEyIDI3LjkxMDE1NiBMIDM2LjQ0NTMxMiAxOC40MDYyNSBMIDQzLjczNDM3NSAxOC40MDYyNSBMIDQzLjczNDM3NSAxOS43NDIxODggTCAzOC42OTkyMTkgMTkuNzQyMTg4IEwgMzguNjk5MjE5IDIyLjQ0MTQwNiBMIDQzLjM0NzY1NiAyMi40NDE0MDYgTCA0My4zNDc2NTYgMjMuNzc3MzQ0IEwgMzguNjk5MjE5IDIzLjc3NzM0NCBMIDM4LjY5OTIxOSAyNi41OTc2NTYgTCA0NC4wMjczNDQgMjYuNTk3NjU2IFogTSA0NC4wMjczNDQgMjcuOTEwMTU2ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA1My42NDA2MjUgMjcuOTEwMTU2IEwgNTEuNTExNzE5IDI3LjkxMDE1NiBMIDUxLjUxMTcxOSAyNi44NjMyODEgTCA1MS40ODQzNzUgMjYuODYzMjgxIEMgNTAuODA4NTk0IDI3LjY2Nzk2OSA0OS44Mzk4NDQgMjguMDc4MTI1IDQ4LjU1NDY4OCAyOC4wNzgxMjUgQyA0Ny41ODU5MzggMjguMDc4MTI1IDQ2Ljg1OTM3NSAyNy44ODY3MTkgNDYuMzA0Njg4IDI3LjU0Njg3NSBDIDQ1Ljc2OTUzMSAyNy4xNzk2ODggNDUuNTAzOTA2IDI2LjY5NTMxMiA0NS41MDM5MDYgMjYuMDg1OTM4IEMgNDUuNTAzOTA2IDI0LjgyNDIxOSA0Ni41NzAzMTIgMjQuMDcwMzEyIDQ4LjY1MjM0NCAyMy44NTE1NjIgTCA1MS41MzUxNTYgMjMuNTU4NTk0IEMgNTEuNTM1MTU2IDIyLjYwOTM3NSA1MC44Nzg5MDYgMjIuMTI1IDQ5LjU3NDIxOSAyMi4xMjUgQyA0OC40MTAxNTYgMjIuMTI1IDQ3LjM2NzE4OCAyMi4zOTA2MjUgNDYuNDQ5MjE5IDIyLjk0OTIxOSBMIDQ2LjQ0OTIxOSAyMS42MTMyODEgQyA0Ny40NjQ4NDQgMjEuMTc1NzgxIDQ4LjY1MjM0NCAyMC45ODA0NjkgNDkuOTg0Mzc1IDIwLjk4MDQ2OSBDIDUyLjQwNjI1IDIwLjk4MDQ2OSA1My42NDA2MjUgMjEuODA4NTk0IDUzLjY0MDYyNSAyMy41MDc4MTIgWiBNIDUxLjUzNTE1NiAyNC41NzgxMjUgTCA0OS41IDI0Ljc3MzQzOCBDIDQ4Ljg3MTA5NCAyNC44NDc2NTYgNDguMzg2NzE5IDI0Ljk0NTMxMiA0OC4wNzAzMTIgMjUuMTEzMjgxIEMgNDcuNzU3ODEyIDI1LjI2MTcxOSA0Ny42MDkzNzUgMjUuNTI3MzQ0IDQ3LjYwOTM3NSAyNS45NDE0MDYgQyA0Ny42MDkzNzUgMjYuMjA3MDMxIDQ3Ljc1NzgxMiAyNi40NDkyMTkgNDguMDQ2ODc1IDI2LjY0NDUzMSBDIDQ4LjMzNTkzOCAyNi44MTY0MDYgNDguNzI2NTYyIDI2LjkxNDA2MiA0OS4yMTA5MzggMjYuOTE0MDYyIEMgNDkuODg2NzE5IDI2LjkxNDA2MiA1MC40NDUzMTIgMjYuNzQyMTg4IDUwLjg1NTQ2OSAyNi40MjU3ODEgQyA1MS4zMTY0MDYgMjYuMDg1OTM4IDUxLjUzNTE1NiAyNS42NzE4NzUgNTEuNTM1MTU2IDI1LjE2NDA2MiBaIE0gNTEuNTM1MTU2IDI0LjU3ODEyNSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDI5LjQxMTc2NSUsMjkuNDExNzY1JSwzMC4xOTYwNzglKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gNTUuNzIyNjU2IDI3LjcxNDg0NCBMIDU1LjcyMjY1NiAyNi4yODEyNSBDIDU2LjU0Njg3NSAyNi43MTg3NSA1Ny40NDE0MDYgMjYuOTM3NSA1OC40Mzc1IDI2LjkzNzUgQyA1OS43Njk1MzEgMjYuOTM3NSA2MC40MjE4NzUgMjYuNjcxODc1IDYwLjQyMTg3NSAyNi4xMDkzNzUgQyA2MC40MjE4NzUgMjUuOTY0ODQ0IDYwLjM3NSAyNS44MjAzMTIgNjAuMjUzOTA2IDI1LjcyMjY1NiBDIDYwLjEzMjgxMiAyNS42MjUgNTkuOTg0Mzc1IDI1LjUyNzM0NCA1OS43OTI5NjkgMjUuNDI5Njg4IEMgNTkuNTk3NjU2IDI1LjM1NTQ2OSA1OS4zNzg5MDYgMjUuMjg1MTU2IDU5LjExMzI4MSAyNS4yMTA5MzggQyA1OC44NDc2NTYgMjUuMTM2NzE5IDU4LjU1ODU5NCAyNS4wNjY0MDYgNTguMjQyMTg4IDI0Ljk5MjE4OCBDIDU3Ljg1NTQ2OSAyNC44NzEwOTQgNTcuNDkyMTg4IDI0Ljc1IDU3LjE3NTc4MSAyNC42Mjg5MDYgQyA1Ni44NjMyODEgMjQuNTA3ODEyIDU2LjU5Mzc1IDI0LjM1OTM3NSA1Ni4zNzg5MDYgMjQuMjE0ODQ0IEMgNTYuMTYwMTU2IDI0LjA0Mjk2OSA1Ni4wMTU2MjUgMjMuODc1IDU1Ljg5NDUzMSAyMy42Nzk2ODggQyA1NS43OTY4NzUgMjMuNDg0Mzc1IDU1Ljc0NjA5NCAyMy4yNDIxODggNTUuNzQ2MDk0IDIyLjk3NjU2MiBDIDU1Ljc0NjA5NCAyMi42NjAxNTYgNTUuODQzNzUgMjIuMzY3MTg4IDU2LjA2MjUgMjIuMTI1IEMgNTYuMzA0Njg4IDIxLjg1NTQ2OSA1Ni41OTM3NSAyMS42NjQwNjIgNTYuOTU3MDMxIDIxLjQ5MjE4OCBDIDU3LjMyMDMxMiAyMS4zMjAzMTIgNTcuNzU3ODEyIDIxLjE3NTc4MSA1OC4yMTg3NSAyMS4xMDE1NjIgQyA1OC43MDMxMjUgMjEuMDAzOTA2IDU5LjE4NzUgMjAuOTgwNDY5IDU5LjY3MTg3NSAyMC45ODA0NjkgQyA2MC41NjY0MDYgMjAuOTgwNDY5IDYxLjM2NzE4OCAyMS4wNTQ2ODggNjIuMDcwMzEyIDIxLjI1IEwgNjIuMDcwMzEyIDIyLjYwOTM3NSBDIDYxLjM5MDYyNSAyMi4yNjk1MzEgNjAuNjE3MTg4IDIyLjEwMTU2MiA1OS43NDIxODggMjIuMTAxNTYyIEMgNTkuNDUzMTI1IDIyLjEwMTU2MiA1OS4yMTA5MzggMjIuMTI1IDU4Ljk5MjE4OCAyMi4xNzE4NzUgQyA1OC43NzM0MzggMjIuMTk1MzEyIDU4LjU4MjAzMSAyMi4yNjk1MzEgNTguNDEwMTU2IDIyLjM0Mzc1IEMgNTguMjY1NjI1IDIyLjQxNDA2MiA1OC4xNDQ1MzEgMjIuNDg4MjgxIDU4LjA0Njg3NSAyMi41ODU5MzggQyA1Ny45NzY1NjIgMjIuNjgzNTk0IDU3LjkyNTc4MSAyMi44MDQ2ODggNTcuOTI1NzgxIDIyLjkyNTc4MSBDIDU3LjkyNTc4MSAyMy4wNzAzMTIgNTcuOTc2NTYyIDIzLjE5NTMxMiA1OC4wNDY4NzUgMjMuMjg5MDYyIEMgNTguMTQ0NTMxIDIzLjM4NjcxOSA1OC4yNjU2MjUgMjMuNDg0Mzc1IDU4LjQzNzUgMjMuNTU4NTk0IEMgNTguNjA1NDY5IDIzLjYzMjgxMiA1OC44MjQyMTkgMjMuNzAzMTI1IDU5LjA2NjQwNiAyMy43NzczNDQgQyA1OS4zMDg1OTQgMjMuODI0MjE5IDU5LjU3NDIxOSAyMy44OTg0MzggNTkuOTE0MDYyIDIzLjk3MjY1NiBDIDYwLjMyNDIxOSAyNC4wOTM3NSA2MC42ODc1IDI0LjIxNDg0NCA2MS4wMjczNDQgMjQuMzM1OTM4IEMgNjEuMzQzNzUgMjQuNDU3MDMxIDYxLjYzMjgxMiAyNC42MDU0NjkgNjEuODUxNTYyIDI0Ljc3MzQzOCBDIDYyLjA5Mzc1IDI0LjkxNzk2OSA2Mi4yNjE3MTkgMjUuMTEzMjgxIDYyLjQwNjI1IDI1LjMwODU5NCBDIDYyLjUyNzM0NCAyNS41MjczNDQgNjIuNTc4MTI1IDI1Ljc2OTUzMSA2Mi41NzgxMjUgMjYuMDM5MDYyIEMgNjIuNTc4MTI1IDI2LjM3ODkwNiA2Mi40ODA0NjkgMjYuNjk1MzEyIDYyLjIzODI4MSAyNi45Mzc1IEMgNjIuMDE5NTMxIDI3LjIwMzEyNSA2MS43MzA0NjkgMjcuNDIxODc1IDYxLjM0Mzc1IDI3LjU5Mzc1IEMgNjAuOTUzMTI1IDI3LjczODI4MSA2MC41NDI5NjkgMjcuODg2NzE5IDYwLjAzNTE1NiAyNy45NTcwMzEgQyA1OS41NTA3ODEgMjguMDMxMjUgNTkuMDE1NjI1IDI4LjA3ODEyNSA1OC40ODQzNzUgMjguMDc4MTI1IEMgNTcuNDE3OTY5IDI4LjA3ODEyNSA1Ni41IDI3Ljk1NzAzMSA1NS43MjI2NTYgMjcuNzE0ODQ0IFogTSA1NS43MjI2NTYgMjcuNzE0ODQ0ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA3My4wNjI1IDIxLjEyODkwNiBMIDY4LjcwMzEyNSAyOS4wMDM5MDYgQyA2Ny43ODUxNTYgMzAuNDE0MDYyIDY2LjUyMzQzOCAzMS4xMTcxODggNjQuOTAyMzQ0IDMxLjExNzE4OCBDIDY0LjQ0MTQwNiAzMS4xMTcxODggNjQuMDU0Njg4IDMxLjA5Mzc1IDYzLjczODI4MSAzMS4wMTk1MzEgTCA2My43MzgyODEgMjkuNzU3ODEyIEMgNjQuMDc4MTI1IDI5LjgzMjAzMSA2NC4zOTQ1MzEgMjkuODc4OTA2IDY0LjY4MzU5NCAyOS44Nzg5MDYgQyA2NS41MDc4MTIgMjkuODc4OTA2IDY2LjExMzI4MSAyOS41ODU5MzggNjYuNTIzNDM4IDI5LjAyNzM0NCBMIDY3LjE1MjM0NCAyNy45MTAxNTYgTCA2My4zMjgxMjUgMjEuMTI4OTA2IEwgNjUuNzUgMjEuMTI4OTA2IEwgNjguMDUwNzgxIDI2LjA2MjUgQyA2OC4wNzQyMTkgMjYuMTM2NzE5IDY4LjEyMTA5NCAyNi4yODEyNSA2OC4yMTg3NSAyNi41NDY4NzUgTCA2OC4yNjk1MzEgMjYuNTQ2ODc1IEMgNjguMjkyOTY5IDI2LjQ0OTIxOSA2OC4zNjMyODEgMjYuMjgxMjUgNjguNDM3NSAyNi4wODU5MzggTCA3MC44NTkzNzUgMjEuMTI4OTA2IFogTSA3My4wNjI1IDIxLjEyODkwNiAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDI5LjQxMTc2NSUsMjkuNDExNzY1JSwzMC4xOTYwNzglKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gODQuNzEwOTM4IDE5Ljc0MjE4OCBMIDgwLjgzNTkzOCAxOS43NDIxODggTCA4MC44MzU5MzggMjcuOTEwMTU2IEwgNzguNTg1OTM4IDI3LjkxMDE1NiBMIDc4LjU4NTkzOCAxOS43NDIxODggTCA3NC43MTA5MzggMTkuNzQyMTg4IEwgNzQuNzEwOTM4IDE4LjQwNjI1IEwgODQuNzEwOTM4IDE4LjQwNjI1IFogTSA4NC43MTA5MzggMTkuNzQyMTg4ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA5Mi43NzczNDQgMjQuOTQ1MzEyIEwgODYuMTg3NSAyNC45NDUzMTIgQyA4Ni4yMTQ4NDQgMjUuNTc0MjE5IDg2LjUwMzkwNiAyNi4wNjI1IDg3LjAxMTcxOSAyNi40MDIzNDQgQyA4Ny41NDY4NzUgMjYuNzQyMTg4IDg4LjI3MzQzOCAyNi45MTQwNjIgODkuMTkxNDA2IDI2LjkxNDA2MiBDIDkwLjIxMDkzOCAyNi45MTQwNjIgOTEuMTUyMzQ0IDI2LjY5NTMxMiA5Mi4wMjM0MzggMjYuMjU3ODEyIEwgOTIuMDIzNDM4IDI3LjQ5NjA5NCBDIDkxLjE1MjM0NCAyNy44ODY3MTkgODkuOTkyMTg4IDI4LjA3ODEyNSA4OC41MzkwNjIgMjguMDc4MTI1IEMgODcuMTA5Mzc1IDI4LjA3ODEyNSA4NS45OTYwOTQgMjcuNzY1NjI1IDg1LjE5NTMxMiAyNy4xNTYyNSBDIDg0LjM5ODQzOCAyNi41NDY4NzUgODMuOTg0Mzc1IDI1LjY3MTg3NSA4My45ODQzNzUgMjQuNTU0Njg4IEMgODMuOTg0Mzc1IDIzLjQ4NDM3NSA4NC40MjE4NzUgMjIuNjMyODEyIDg1LjMxNjQwNiAyMS45NzY1NjIgQyA4Ni4yMTQ4NDQgMjEuMjk2ODc1IDg3LjMwNDY4OCAyMC45ODA0NjkgODguNjM2NzE5IDIwLjk4MDQ2OSBDIDg5Ljk0MTQwNiAyMC45ODA0NjkgOTAuOTYwOTM4IDIxLjI3MzQzOCA5MS42ODc1IDIxLjg1NTQ2OSBDIDkyLjQxNDA2MiAyMi40NjQ4NDQgOTIuNzc3MzQ0IDIzLjI4OTA2MiA5Mi43NzczNDQgMjQuMzU5Mzc1IFogTSA5MC42Njc5NjkgMjMuODUxNTYyIEMgOTAuNjY3OTY5IDIzLjI4OTA2MiA5MC40NzY1NjIgMjIuODc4OTA2IDkwLjExMzI4MSAyMi41NjI1IEMgODkuNzUgMjIuMjY5NTMxIDg5LjI0MjE4OCAyMi4xMDE1NjIgODguNjA5Mzc1IDIyLjEwMTU2MiBDIDg3Ljk4MDQ2OSAyMi4xMDE1NjIgODcuNDQ5MjE5IDIyLjI2OTUzMSA4Ny4wMTE3MTkgMjIuNTg1OTM4IEMgODYuNTc4MTI1IDIyLjkwMjM0NCA4Ni4zMDg1OTQgMjMuMzM5ODQ0IDg2LjE4NzUgMjMuODUxNTYyIFogTSA5MC42Njc5NjkgMjMuODUxNTYyICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMDAuNSAyMi41ODU5MzggQyAxMDAuMjM0Mzc1IDIyLjQ0MTQwNiA5OS44NDc2NTYgMjIuMzY3MTg4IDk5LjM2MzI4MSAyMi4zNjcxODggQyA5OC43MTA5MzggMjIuMzY3MTg4IDk4LjE3NTc4MSAyMi41ODU5MzggOTcuNzQyMTg4IDIzIEMgOTcuMzA0Njg4IDIzLjQxNDA2MiA5Ny4wODU5MzggMjMuOTcyNjU2IDk3LjA4NTkzOCAyNC42NzU3ODEgTCA5Ny4wODU5MzggMjcuOTEwMTU2IEwgOTQuOTA2MjUgMjcuOTEwMTU2IEwgOTQuOTA2MjUgMjEuMTI4OTA2IEwgOTcuMDg1OTM4IDIxLjEyODkwNiBMIDk3LjA4NTkzOCAyMi41MzkwNjIgTCA5Ny4xMDkzNzUgMjIuNTM5MDYyIEMgOTcuMzI4MTI1IDIyLjA1MDc4MSA5Ny42Njc5NjkgMjEuNjg3NSA5OC4xMDU0NjkgMjEuNDE3OTY5IEMgOTguNTM5MDYyIDIxLjE1MjM0NCA5OS4wNDY4NzUgMjEuMDAzOTA2IDk5LjU4MjAzMSAyMS4wMDM5MDYgQyA5OS45OTIxODggMjEuMDAzOTA2IDEwMC4yODUxNTYgMjEuMDU0Njg4IDEwMC41IDIxLjEyODkwNiBaIE0gMTAwLjUgMjIuNTg1OTM4ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMDcuNjY3OTY5IDIyLjU4NTkzOCBDIDEwNy40MDIzNDQgMjIuNDQxNDA2IDEwNy4wMzkwNjIgMjIuMzY3MTg4IDEwNi41MzEyNSAyMi4zNjcxODggQyAxMDUuODc4OTA2IDIyLjM2NzE4OCAxMDUuMzQzNzUgMjIuNTg1OTM4IDEwNC45MTAxNTYgMjMgQyAxMDQuNDcyNjU2IDIzLjQxNDA2MiAxMDQuMjUzOTA2IDIzLjk3MjY1NiAxMDQuMjUzOTA2IDI0LjY3NTc4MSBMIDEwNC4yNTM5MDYgMjcuOTEwMTU2IEwgMTAyLjA3NDIxOSAyNy45MTAxNTYgTCAxMDIuMDc0MjE5IDIxLjEyODkwNiBMIDEwNC4yNTM5MDYgMjEuMTI4OTA2IEwgMTA0LjI1MzkwNiAyMi41MzkwNjIgTCAxMDQuMzA0Njg4IDIyLjUzOTA2MiBDIDEwNC41MTk1MzEgMjIuMDUwNzgxIDEwNC44MzU5MzggMjEuNjg3NSAxMDUuMjk2ODc1IDIxLjQxNzk2OSBDIDEwNS43MzA0NjkgMjEuMTUyMzQ0IDEwNi4yMTQ4NDQgMjEuMDAzOTA2IDEwNi43NzM0MzggMjEuMDAzOTA2IEMgMTA3LjE2MDE1NiAyMS4wMDM5MDYgMTA3LjQ3NjU2MiAyMS4wNTQ2ODggMTA3LjY2Nzk2OSAyMS4xMjg5MDYgWiBNIDEwNy42Njc5NjkgMjIuNTg1OTM4ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMTAuMzU5Mzc1IDE5LjY5MTQwNiBDIDEwOS45OTYwOTQgMTkuNjkxNDA2IDEwOS43MDMxMjUgMTkuNjIxMDk0IDEwOS40Mzc1IDE5LjQ0OTIxOSBDIDEwOS4xOTUzMTIgMTkuMzA0Njg4IDEwOS4wNTA3ODEgMTkuMDg1OTM4IDEwOS4wNTA3ODEgMTguODQzNzUgQyAxMDkuMDUwNzgxIDE4LjU3NDIxOSAxMDkuMTk1MzEyIDE4LjM3ODkwNiAxMDkuNDM3NSAxOC4yMTA5MzggQyAxMDkuNzAzMTI1IDE4LjAzOTA2MiAxMDkuOTk2MDk0IDE3Ljk0MTQwNiAxMTAuMzU5Mzc1IDE3Ljk0MTQwNiBDIDExMC43MjI2NTYgMTcuOTQxNDA2IDExMS4wMzUxNTYgMTguMDM5MDYyIDExMS4zMDA3ODEgMTguMjEwOTM4IEMgMTExLjU3MDMxMiAxOC4zNzg5MDYgMTExLjY5MTQwNiAxOC41NzQyMTkgMTExLjY5MTQwNiAxOC44NDM3NSBDIDExMS42OTE0MDYgMTkuMDYyNSAxMTEuNTcwMzEyIDE5LjI4MTI1IDExMS4zMDA3ODEgMTkuNDQ5MjE5IEMgMTExLjAzNTE1NiAxOS42MjEwOTQgMTEwLjcyMjY1NiAxOS42OTE0MDYgMTEwLjM1OTM3NSAxOS42OTE0MDYgWiBNIDExMS40NDkyMTkgMjcuOTEwMTU2IEwgMTA5LjI0MjE4OCAyNy45MTAxNTYgTCAxMDkuMjQyMTg4IDIxLjEyODkwNiBMIDExMS40NDkyMTkgMjEuMTI4OTA2IFogTSAxMTEuNDQ5MjE5IDI3LjkxMDE1NiAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDI5LjQxMTc2NSUsMjkuNDExNzY1JSwzMC4xOTYwNzglKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gMTE5LjQxNDA2MiAyNy44MzU5MzggQyAxMTkuMDAzOTA2IDI4LjAwNzgxMiAxMTguNDIxODc1IDI4LjA3ODEyNSAxMTcuNzQyMTg4IDI4LjA3ODEyNSBDIDExNS44NTU0NjkgMjguMDc4MTI1IDExNC45MzM1OTQgMjcuNDQ5MjE5IDExNC45MzM1OTQgMjYuMTgzNTk0IEwgMTE0LjkzMzU5NCAyMi4zNDM3NSBMIDExMy4zMTI1IDIyLjM0Mzc1IEwgMTEzLjMxMjUgMjEuMTI4OTA2IEwgMTE0LjkzMzU5NCAyMS4xMjg5MDYgTCAxMTQuOTMzNTk0IDE5LjU0Njg3NSBMIDExNy4xMTMyODEgMTkuMTA5Mzc1IEwgMTE3LjExMzI4MSAyMS4xMjg5MDYgTCAxMTkuNDE0MDYyIDIxLjEyODkwNiBMIDExOS40MTQwNjIgMjIuMzQzNzUgTCAxMTcuMTEzMjgxIDIyLjM0Mzc1IEwgMTE3LjExMzI4MSAyNS43MjI2NTYgQyAxMTcuMTEzMjgxIDI2LjEzNjcxOSAxMTcuMjEwOTM4IDI2LjQyNTc4MSAxMTcuNDI5Njg4IDI2LjU5NzY1NiBDIDExNy42MjEwOTQgMjYuNzY1NjI1IDExNy45ODQzNzUgMjYuODM5ODQ0IDExOC40Njg3NSAyNi44Mzk4NDQgQyAxMTguODMyMDMxIDI2LjgzOTg0NCAxMTkuMTQ4NDM4IDI2Ljc2NTYyNSAxMTkuNDE0MDYyIDI2LjYyMTA5NCBaIE0gMTE5LjQxNDA2MiAyNy44MzU5MzggIi8+PHBhdGggc3R5bGU9IiBzdHJva2U6bm9uZTtmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYigyOS40MTE3NjUlLDI5LjQxMTc2NSUsMzAuMTk2MDc4JSk7ZmlsbC1vcGFjaXR5OjE7IiBkPSJNIDEyNS41MTk1MzEgMjguMDc4MTI1IEMgMTI0LjAxNTYyNSAyOC4wNzgxMjUgMTIyLjgyODEyNSAyNy43NjU2MjUgMTIxLjkzMzU5NCAyNy4xMzI4MTIgQyAxMjEuMDYyNSAyNi41IDEyMC42MDE1NjIgMjUuNjQ4NDM4IDEyMC42MDE1NjIgMjQuNjA1NDY5IEMgMTIwLjYwMTU2MiAyMy40NjA5MzggMTIxLjA2MjUgMjIuNTYyNSAxMjIuMDA3ODEyIDIxLjkyOTY4OCBDIDEyMi45MjU3ODEgMjEuMjk2ODc1IDEyNC4xNjAxNTYgMjAuOTgwNDY5IDEyNS43MzQzNzUgMjAuOTgwNDY5IEMgMTI3LjI2MTcxOSAyMC45ODA0NjkgMTI4LjQyMTg3NSAyMS4yNzM0MzggMTI5LjI2OTUzMSAyMS45MDYyNSBDIDEzMC4xMTcxODggMjIuNTM5MDYyIDEzMC41MzEyNSAyMy4zODY3MTkgMTMwLjUzMTI1IDI0LjUwNzgxMiBDIDEzMC41MzEyNSAyNS41NzQyMTkgMTMwLjA3MDMxMiAyNi40NDkyMTkgMTI5LjE3NTc4MSAyNy4xMDkzNzUgQyAxMjguMjUzOTA2IDI3Ljc2NTYyNSAxMjcuMDQyOTY5IDI4LjA3ODEyNSAxMjUuNTE5NTMxIDI4LjA3ODEyNSBaIE0gMTI1LjYxMzI4MSAyMi4xOTUzMTIgQyAxMjQuNzY1NjI1IDIyLjE5NTMxMiAxMjQuMDg5ODQ0IDIyLjQxNDA2MiAxMjMuNTgyMDMxIDIyLjgyODEyNSBDIDEyMy4wOTc2NTYgMjMuMjQyMTg4IDEyMi44MjgxMjUgMjMuODI0MjE5IDEyMi44MjgxMjUgMjQuNTU0Njg4IEMgMTIyLjgyODEyNSAyNS4yODUxNTYgMTIzLjA5NzY1NiAyNS44NDM3NSAxMjMuNjA1NDY5IDI2LjIzMDQ2OSBDIDEyNC4wODk4NDQgMjYuNjQ0NTMxIDEyNC43NjU2MjUgMjYuODYzMjgxIDEyNS42MTMyODEgMjYuODYzMjgxIEMgMTI2LjQ2MDkzOCAyNi44NjMyODEgMTI3LjE0MDYyNSAyNi42NDQ1MzEgMTI3LjYwMTU2MiAyNi4yNTc4MTIgQyAxMjguMDU4NTk0IDI1Ljg0Mzc1IDEyOC4yNzczNDQgMjUuMjg1MTU2IDEyOC4yNzczNDQgMjQuNTMxMjUgQyAxMjguMjc3MzQ0IDIzLjgwMDc4MSAxMjguMDU4NTk0IDIzLjIxODc1IDEyNy42MDE1NjIgMjIuODA0Njg4IEMgMTI3LjE0MDYyNSAyMi4zOTA2MjUgMTI2LjQ2MDkzOCAyMi4xOTUzMTIgMTI1LjYxMzI4MSAyMi4xOTUzMTIgWiBNIDEyNS42MTMyODEgMjIuMTk1MzEyICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMzguNDAyMzQ0IDIyLjU4NTkzOCBDIDEzOC4xMzY3MTkgMjIuNDQxNDA2IDEzNy43NDYwOTQgMjIuMzY3MTg4IDEzNy4yMzgyODEgMjIuMzY3MTg4IEMgMTM2LjYwOTM3NSAyMi4zNjcxODggMTM2LjA1MDc4MSAyMi41ODU5MzggMTM1LjYxNzE4OCAyMyBDIDEzNS4yMDMxMjUgMjMuNDE0MDYyIDEzNC45ODgyODEgMjMuOTcyNjU2IDEzNC45ODgyODEgMjQuNjc1NzgxIEwgMTM0Ljk4ODI4MSAyNy45MTAxNTYgTCAxMzIuNzgxMjUgMjcuOTEwMTU2IEwgMTMyLjc4MTI1IDIxLjEyODkwNiBMIDEzNC45ODgyODEgMjEuMTI4OTA2IEwgMTM0Ljk4ODI4MSAyMi41MzkwNjIgTCAxMzUuMDExNzE5IDIyLjUzOTA2MiBDIDEzNS4yMzA0NjkgMjIuMDUwNzgxIDEzNS41NjY0MDYgMjEuNjg3NSAxMzYuMDAzOTA2IDIxLjQxNzk2OSBDIDEzNi40NDE0MDYgMjEuMTUyMzQ0IDEzNi45NDkyMTkgMjEuMDAzOTA2IDEzNy40ODA0NjkgMjEuMDAzOTA2IEMgMTM3Ljg2NzE4OCAyMS4wMDM5MDYgMTM4LjE4MzU5NCAyMS4wNTQ2ODggMTM4LjQwMjM0NCAyMS4xMjg5MDYgWiBNIDEzOC40MDIzNDQgMjIuNTg1OTM4ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMjkuNDExNzY1JSwyOS40MTE3NjUlLDMwLjE5NjA3OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxNDkuMTA1NDY5IDIxLjEyODkwNiBMIDE0NC43NDYwOTQgMjkuMDAzOTA2IEMgMTQzLjg1MTU2MiAzMC40MTQwNjIgMTQyLjU2NjQwNiAzMS4xMTcxODggMTQwLjk0NTMxMiAzMS4xMTcxODggQyAxNDAuNDg0Mzc1IDMxLjExNzE4OCAxNDAuMDk3NjU2IDMxLjA5Mzc1IDEzOS43ODEyNSAzMS4wMTk1MzEgTCAxMzkuNzgxMjUgMjkuNzU3ODEyIEMgMTQwLjE0NDUzMSAyOS44MzIwMzEgMTQwLjQ2MDkzOCAyOS44Nzg5MDYgMTQwLjcyNjU2MiAyOS44Nzg5MDYgQyAxNDEuNTUwNzgxIDI5Ljg3ODkwNiAxNDIuMTU2MjUgMjkuNTg1OTM4IDE0Mi41NjY0MDYgMjkuMDI3MzQ0IEwgMTQzLjIxODc1IDI3LjkxMDE1NiBMIDEzOS4zNzEwOTQgMjEuMTI4OTA2IEwgMTQxLjc5Mjk2OSAyMS4xMjg5MDYgTCAxNDQuMDkzNzUgMjYuMDYyNSBDIDE0NC4xMTcxODggMjYuMTM2NzE5IDE0NC4xODc1IDI2LjI4MTI1IDE0NC4yNjE3MTkgMjYuNTQ2ODc1IEwgMTQ0LjMwODU5NCAyNi41NDY4NzUgQyAxNDQuMzU5Mzc1IDI2LjQ0OTIxOSAxNDQuNDA2MjUgMjYuMjgxMjUgMTQ0LjQ4MDQ2OSAyNi4wODU5MzggTCAxNDYuOTAyMzQ0IDIxLjEyODkwNiBaIE0gMTQ5LjEwNTQ2OSAyMS4xMjg5MDYgIi8+PC9nPjwvc3ZnPg=="}},91316:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540),i=r(31887);const o=e=>(n.useEffect((()=>{e.redeployMap&&e.redeployMapControl()})),n.createElement("div",{className:"Splash"},n.createElement("img",{className:"SplashImg",src:i.b.img,alt:"EasyTerritory"})))},37764:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);const i=e=>n.createElement("button",{id:"menuButton"},n.createElement("img",{id:"menuButtonIcon",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjRwdCIgaGVpZ2h0PSIyNHB0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSI+PGcgaWQ9InN1cmZhY2U3Njc1MzA0Ij48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDQwJSw0MCUsNDAlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gMiAxMSBMIDIyIDExIEwgMjIgMTMgTCAyIDEzIFogTSAyIDUgTCAyMiA1IEwgMjIgNyBMIDIgNyBaIE0gMiAxNyBMIDIyIDE3IEwgMjIgMTkgTCAyIDE5IFogTSAyIDE3ICIvPjwvZz48L3N2Zz4=",alt:"Menu Button",onClick:e.showMenu}))},21739:(e,t,r)=>{"use strict";r.d(t,{r:()=>n,u:()=>i});const n="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjaGV2cm9uLXVwIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtY2hldnJvbi11cCBmYS13LTE0IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQ0OCA1MTIiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTI0MC45NzEgMTMwLjUyNGwxOTQuMzQzIDE5NC4zNDNjOS4zNzMgOS4zNzMgOS4zNzMgMjQuNTY5IDAgMzMuOTQxbC0yMi42NjcgMjIuNjY3Yy05LjM1NyA5LjM1Ny0yNC41MjIgOS4zNzUtMzMuOTAxLjA0TDIyNCAyMjcuNDk1IDY5LjI1NSAzODEuNTE2Yy05LjM3OSA5LjMzNS0yNC41NDQgOS4zMTctMzMuOTAxLS4wNGwtMjIuNjY3LTIyLjY2N2MtOS4zNzMtOS4zNzMtOS4zNzMtMjQuNTY5IDAtMzMuOTQxTDIwNy4wMyAxMzAuNTI1YzkuMzcyLTkuMzczIDI0LjU2OC05LjM3MyAzMy45NDEtLjAwMXoiPjwvcGF0aD48L3N2Zz4=",i="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjaGV2cm9uLWRvd24iIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1jaGV2cm9uLWRvd24gZmEtdy0xNCIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0yMDcuMDI5IDM4MS40NzZMMTIuNjg2IDE4Ny4xMzJjLTkuMzczLTkuMzczLTkuMzczLTI0LjU2OSAwLTMzLjk0MWwyMi42NjctMjIuNjY3YzkuMzU3LTkuMzU3IDI0LjUyMi05LjM3NSAzMy45MDEtLjA0TDIyNCAyODQuNTA1bDE1NC43NDUtMTU0LjAyMWM5LjM3OS05LjMzNSAyNC41NDQtOS4zMTcgMzMuOTAxLjA0bDIyLjY2NyAyMi42NjdjOS4zNzMgOS4zNzMgOS4zNzMgMjQuNTY5IDAgMzMuOTQxTDI0MC45NzEgMzgxLjQ3NmMtOS4zNzMgOS4zNzItMjQuNTY5IDkuMzcyLTMzLjk0MiAweiI+PC9wYXRoPjwvc3ZnPg=="},62392:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540),i=r(73868);const o=e=>{const t=e.dataView.dataPoints,r=e.columnMetadata;let o=null,a=null,s=null,l=null,c=null,u=null,d=null,h=null;const p=e.doesShow?"sideMenu sideMenuOpen":"sideMenu sideMenuClose",m=r.nameColName;if(e.classes){const t="bubble"!==e.settings.eztPointOptions.pointSymbolType;a=(0,i.EC)(r,e,a,m,e.getImageTemplate,t,e.valueFormatter1,e.format)}else o=(0,i.tA)(e,m,t,e.settings,e.getImageTemplate);if(e.mapLayerDefs.length&&(u=(0,i.YU)(e),s=(0,i.J6)(e),l=(0,i.x7)(e),c=(0,i._9)(e)),e.refLayers&&(e.refLayers.pointRefLayers.layers.length||e.refLayers.territoryRefLayers.layers.length)){const t=e.legendSectionsCollapse.pointReferenceLayer;h=(0,i.K7)(e.refLayers.pointRefLayers,t,e);const r=e.legendSectionsCollapse.terrReferenceLayer;d=(0,i.K7)(e.refLayers.territoryRefLayers,r,e)}return n.createElement("div",{className:p,style:{overflowX:"hidden"}},h,a,o,d,u,s,l,c)}},73868:(e,t,r)=>{"use strict";r.d(t,{EC:()=>g,J6:()=>M,K7:()=>_,YU:()=>w,_9:()=>S,tA:()=>b,x7:()=>x});var n=r(96540),i=r(99587),o=r(71881),a=r(11645),s=r(2624),l=r(53152),c=r(61356),u=r(86382),d=r(1484),h=r(21739),p=r(66362),m=r(11847),y=r(31520),f=r(2514);function g(e,t,r,a,s,l,c,p){const f=e.aggregatedColName,g=t.settings.eztPointOptions,b=t.layerType==u.RG.territories,M=t.settings.eztTerritoriesOptions,x=t.dataView.levelType;let S=b&&x===u.RG.territories?M.territoryOpacity:g.pointOpacity;const w=b&&x===u.RG.territories?M.territoryBorderColor:g.pointBorderColor;let _=!1,I=null;const C=x===u.RG.points?d.Dp.pointsLayerId:d.Dp.territoriesLayerId,k=t.legendSectionsCollapse.classify,L=t.doesShow;let N=null,Z=null;if(t.mapLayerDefs.length){const e=t.mapLayerDefs.find((e=>e.id===C));e&&(_=e.visible)}const E=[];if(L&&!k&&c){let e=null;if(t.classes.length>0&&"Range"==t.classes[0].type&&p&&t.settings.eztClassification.applyLegendDataLabels){const r=t.settings.eztClassification.legendDataLabelsPrecision;e=m.G2.create({value:0,precision:r,format:p,formatSingleValues:!0,displayUnitSystemType:y.DisplayUnitSystemType.DataLabels})}let r=!1;t.settings.eztMapSettings.layerType==u.RG.points&&"custom"===t.settings.eztClassification.eztColorGradExact&&"exact"==t.settings.eztClassification.eztClassifyMode&&(r=!0),t.classes.forEach(((a,u)=>{let d="";if(l&&a.symbolId){Z=s(a.symbolType);const e=Z.replace(/{color}/g,a.gradient).replace(/{secondaryColor}/g,"black").replace(/{text}/,"");d="data:image/svg+xml;base64,"+btoa(e)}if("Range"===a.type){let r="0";if(a.rangeMin)if(null===e){const e=Number(a.rangeMin);r=c.format(e)}else{const t=Number(a.rangeMin);r=e.format(t)}let o=" +";if(a.rangeMax){if(null===e){const e=Number(a.rangeMax);o=c.format(e)}else{const t=Number(a.rangeMax);o=e.format(t)}o=" to "+o}1==t.classes.length&&a.rangeMin==a.rangeMax?o="":u===t.classes.length-1&&a.rangeMin==a.rangeMax&&(o=" or more"),E.push(n.createElement(i.A,{key:a.gradient,rangeMin:r,rangeMax:o,gradient:a.gradient,layerType:t.layerType,levelType:t.dataView.levelType,highlighted:!0,dataUri:d,opacity:S,borderColor:w}))}else r&&(S=a.opacity),E.push(n.createElement(o.A,{key:a.exact,exact:""==a.exact?"[Blank]":a.exact,gradient:a.gradient,opacity:S,layerType:t.layerType,levelType:t.dataView.levelType,highlighted:!0,dataUri:d,borderColor:w}))}))}let z="legendUlClassify",G={display:"flex",alignItems:"center"},P=h.r;k&&(z="legendUlClassifyHide",G={display:"none"},P=h.u),L||(P=h.u),L&&!k&&t.layerType==u.RG.points&&t.mapLayerDefs.find((e=>e.id==d.Dp.territoriesLayerId))&&t.relatedTerritoryLayer&&t.relatedTerritoryLayer.dataPoints.length&&(I=v(t,t.settings,t.legendSectionsCollapse.primaryDataSource));const A=t.settings.eztTerritoriesOptions,R=t.columnMetadata.pointSizeColName;if(L&&!k&&R&&(t.dataView.levelType==u.RG.territories&&A.centerPointEnable||t.dataView.levelType==u.RG.points))if(t.settings.eztMapSettings.layerType==u.RG.points&&t.settings.eztClassification.eztClassifyOn&&Z){if(e.aggregatedisNumeric||!e.aggregatedisNumeric&&"custom"!=t.settings.eztClassification.eztColorGradExact){const r=Z.replace(/{color}/g,"#ffffff").replace(/{secondaryColor}/g,"black").replace(/{text}/,"");let n="data:image/svg+xml;base64,"+btoa(r);const i=t.settings.eztClassification.eztClassifyOn;N=T(t,G,a,e,z,t.dataView.levelType,n,i)}}else{const r=t.settings.eztClassification.eztClassify&&t.dataView.levelType==u.RG.points;N=T(t,G,a,e,z,t.dataView.levelType,null,r)}const D=t.settings.eztMapSettings.displayLegendHeader;return n.createElement("section",{className:"classifySection"},n.createElement("div",{style:{display:"flex",alignItems:"center",width:"205px"}},n.createElement("input",{type:"checkbox",id:C,style:{verticalAlign:"middle"},checked:_,onClick:t.toggleLayerVisibility}),n.createElement("h3",{className:"legendSectionHeader"},D?"Power BI Data Layer":n.createElement(n.Fragment,null,a,n.createElement("span",{style:{color:"#a0a0a0"}},"(",f,")"))),n.createElement("img",{src:P,className:"chevronIcon",onClick:t.toggleTerritorySection,id:"classifySection"})),D?n.createElement("div",{style:G},n.createElement("h2",{className:"legendSectionHeader2"},n.createElement("span",{style:{color:"black",height:"auto"}},`${a}  `)," (",f,")")):null,n.createElement("ul",{className:z},E),N,I)}function b(e,t,r,i,o){let a=null,c=null,p=[],m=null,y=null,f=t;const g=e.legendSectionsCollapse.primaryDataSource,b=e.settings.eztTerritoriesOptions,M=e.columnMetadata.pointSizeColName;let x=d.Dp.pointsLayerId,S="legendUlPoints",w=null;const _=e.settings.eztMapSettings.displayLegendHeader;if(e.layerType===u.RG.territories&&e.dataView.levelType===u.RG.territories){x=d.Dp.territoriesLayerId,S="legendUlTerritories";let t=h.r;!e.legendSectionsCollapse.primaryDataSource&&e.doesShow||(S="legendUlHide",t=h.u),w=n.createElement("img",{src:t,className:"chevronIcon",id:"territorySection",onClick:e.toggleTerritorySection})}else if(e.layerType===u.RG.points){let t=h.r;e.legendSectionsCollapse.primaryDataSource&&(S="legendUlHide",t=h.u),w=n.createElement("img",{src:t,className:"chevronIcon",id:"territorySection",onClick:e.toggleTerritorySection})}let I="";if(e.settings.eztMapSettings.layerType===u.RG.points&&"bubble"!==e.settings.eztPointOptions.pointSymbolType){const t=o(e.settings.eztPointOptions.pointSymbolType).replace(/{color}/g,e.settings.eztPointOptions.fill).replace(/{secondaryColor}/g,"black").replace(/{text}/,"");I="data:image/svg+xml;base64,"+btoa(t)}if((e.layerType===u.RG.points||e.dataView.levelType===u.RG.points)&&!M){const r=e.settings.eztPointOptions.pointOpacity||1,i=0===e.settings.eztPointOptions.pointOpacity?"#FFFFFF":e.settings.eztPointOptions.fill,o=e.settings.eztPointOptions.pointBorderColor||"black";p.push(n.createElement(l.A,{name:t,color:i,opacity:r,borderColor:o,layerType:"points",dataUri:I}));let a=null,s={paddingTop:"2px"};_&&(a=n.createElement("li",{className:"sideMenuClassify",style:{marginLeft:"4px"}},t),s=null),c=n.createElement("ul",{className:S,style:s},a,p)}if(e.dataView.levelType===u.RG.territories){const o=i.eztTerritoriesOptions.territoryColors,a=i.eztTerritoriesOptions.territoryOpacity;if(o&&0!==a)!e.doesShow&&e.legendSectionsCollapse.primaryDataSource||(p=function(e,t,r){for(let i=0;i<e.length;i++){const o=e[i];let a={background:o.color,opacity:r.settings.eztTerritoriesOptions.territoryOpacity,border:"1px solid "+r.settings.eztTerritoriesOptions.territoryBorderColor};const l=o.name?o.name.toString():"";t.push(n.createElement(s.A,{key:l,name:l,styled:a,singleItem:!1,layerType:r.layerType}))}return t}(r,p,e));else{const r=0===a?i.eztTerritoriesOptions.territoryBorderColor:"#000000",o=0!==a?i.eztTerritoriesOptions.territoryOpacity:1,l={background:0===i.eztTerritoriesOptions.territoryOpacity?"#FFFFFF":i.eztTerritoriesOptions.color,opacity:o,border:"1px solid "+r};p.push(n.createElement(s.A,{name:t,key:t,styled:l,layerType:e.layerType,singleItem:!0}))}let l=null,u={paddingTop:"4px"};_&&(l=n.createElement("li",{className:"sideMenuClassify",style:{marginLeft:"4px"}},t),u=null),c=n.createElement("ul",{className:S,style:u},l,p)}let C=!0;if(e.mapLayerDefs.length){const t=e.mapLayerDefs.find((e=>e.id===x));t&&(C=t.visible)}return e.layerType==u.RG.points&&e.mapLayerDefs.find((e=>e.id==d.Dp.territoriesLayerId))&&e.relatedTerritoryLayer&&e.relatedTerritoryLayer.dataPoints.length&&(m=v(e,e.settings,e.legendSectionsCollapse.primaryDataSource)),e.doesShow&&!g&&M&&(e.dataView.levelType===u.RG.territories&&b.centerPointEnable||e.dataView.levelType===u.RG.points)&&(e.dataView.dataPoints.length,y=T(e,{},t,e.columnMetadata,S,e.dataView.levelType,I,!1)),a=n.createElement("section",{className:"primaryLayerSection"},n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("input",{type:"checkbox",id:x,style:{verticalAlign:"middle"},checked:C,onClick:e.toggleLayerVisibility}),n.createElement("h3",{className:"legendSectionHeader"},_?"Power BI Data Layer":f),w),c,y,m),a}function v(e,t,r){let i=r?{paddingLeft:"10px",display:"none"}:{paddingLeft:"10px"};const o=e.dataView.relatedDataSource.dataPoints;let a=[];const s=e.settings.eztTerritoriesOptions.territoryOpacity;let l={};if(t.eztTerritoriesOptions.territoryColors&&0!==s)for(let r=0;r<o.length;r++)a.push(n.createElement(c.A,{key:o[r].nameValue,name:o[r].nameCol,value:o[r].nameValue,color:o[r].color,opacity:e.settings.eztTerritoriesOptions.territoryOpacity,borderWidth:t.eztTerritoriesOptions.territoryBorderWidth,borderColor:t.eztTerritoriesOptions.territoryBorderColor,highlighted:!0}));else{l={height:"18px"};const r=0===e.settings.eztTerritoriesOptions.territoryOpacity?1:e.settings.eztTerritoriesOptions.territoryOpacity,i=0===e.settings.eztTerritoriesOptions.territoryOpacity?"#FFFFFF":t.eztTerritoriesOptions.color;a.push(n.createElement(c.A,{key:"relatedTerr",name:"relatedTerr",value:null,color:i,opacity:r,borderWidth:t.eztTerritoriesOptions.territoryBorderWidth,borderColor:t.eztTerritoriesOptions.territoryBorderColor,highlighted:!0}))}let u=!0;return e.mapLayerDefs.length&&(u=e.mapLayerDefs.find((e=>e.id===d.Dp.territoriesLayerId)).visible),n.createElement("section",{style:i},n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("input",{type:"checkbox",style:{verticalAlign:"middle"},id:"EZT Territory Layer",checked:u,onClick:e.toggleLayerVisibility}),n.createElement("h3",{className:"legendSectionHeader"},e.relatedTerritoryLayer.dataPoints[0].nameCol)),n.createElement("ul",{className:"sideMenuUlTerrOverlay",style:l},a))}function M(e){let t=e.mapLayerDefs.filter((e=>e.type==d.pl.mdnTile)).reverse();if(!t.length)return null;const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=o.id,s=o.catalogName,l="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzg5cHgiIGhlaWdodD0iMzg5cHgiIHZpZXdCb3g9IjAgMCAzODkgMzg5IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzODkgMzg5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PGc+PGc+PHBhdGggZD0iTTM3OSwzMjYuMDM1aC0xOC44NTJjLTUuNTIyLDAtMTAsNC40NzctMTAsMTB2MTQuMTExaC0xNC4xMTNjLTUuNTIyLDAtMTAsNC40NzctMTAsMTBWMzc5YzAsNS41MjMsNC40NzgsMTAsMTAsMTBIMzc5YzUuNTIyLDAsMTAtNC40NzcsMTAtMTB2LTQyLjk2NUMzODksMzMwLjUxMiwzODQuNTIyLDMyNi4wMzUsMzc5LDMyNi4wMzV6Ii8+PHBhdGggZD0iTTE2Ni45MjcsMzUwLjE0NmgtNTguODEzYy01LjUyMiwwLTEwLDQuNDc3LTEwLDEwVjM3OWMwLDUuNTIzLDQuNDc4LDEwLDEwLDEwaDU4LjgxM2M1LjUyMiwwLDEwLTQuNDc3LDEwLTEwdi0xOC44NTRDMTc2LjkyNywzNTQuNjIzLDE3Mi40NDksMzUwLjE0NiwxNjYuOTI3LDM1MC4xNDZ6Ii8+PHBhdGggZD0iTTI4MC44ODcsMzUwLjE0NmgtNTguODEyYy01LjUyMywwLTEwLDQuNDc3LTEwLDEwVjM3OWMwLDUuNTIzLDQuNDc3LDEwLDEwLDEwaDU4LjgxMmM1LjUyMiwwLDEwLTQuNDc3LDEwLTEwdi0xOC44NTRDMjkwLjg4NywzNTQuNjIzLDI4Ni40MDksMzUwLjE0NiwyODAuODg3LDM1MC4xNDZ6Ii8+PHBhdGggZD0iTTUyLjk2NSwzNTAuMTQ2SDM4Ljg1MnYtMTQuMTExYzAtNS41MjMtNC40NzgtMTAtMTAtMTBIMTBjLTUuNTIyLDAtMTAsNC40NzctMTAsMTBWMzc5YzAsNS41MjMsNC40NzgsMTAsMTAsMTBoNDIuOTY1YzUuNTIxLDAsMTAtNC40NzcsMTAtMTB2LTE4Ljg1NEM2Mi45NjUsMzU0LjYyMyw1OC40ODYsMzUwLjE0Niw1Mi45NjUsMzUwLjE0NnoiLz48cGF0aCBkPSJNMTAsMjkwLjg4NmgxOC44NTJjNS41MjIsMCwxMC00LjQ3NywxMC0xMHYtNTguODEyYzAtNS41MjMtNC40NzgtMTAtMTAtMTBIMTBjLTUuNTIyLDAtMTAsNC40NzctMTAsMTB2NTguODEyQzAsMjg2LjQwOSw0LjQ3OCwyOTAuODg2LDEwLDI5MC44ODZ6Ii8+PHBhdGggZD0iTTEwLDE3Ni45MjZoMTguODUyYzUuNTIyLDAsMTAtNC40NzcsMTAtMTB2LTU4LjgxMmMwLTUuNTIzLTQuNDc4LTEwLTEwLTEwSDEwYy01LjUyMiwwLTEwLDQuNDc3LTEwLDEwdjU4LjgxMkMwLDE3Mi40NDksNC40NzgsMTc2LjkyNiwxMCwxNzYuOTI2eiIvPjxwYXRoIGQ9Ik01Mi45NjUsMEgxMEM0LjQ3OCwwLDAsNC40NzcsMCwxMHY0Mi45NjdjMCw1LjUyMyw0LjQ3OCwxMCwxMCwxMGgxOC44NTJjNS41MjIsMCwxMC00LjQ3NywxMC0xMFYzOC44NTRoMTQuMTEzYzUuNTIxLDAsMTAtNC40NzcsMTAtMTBWMTBDNjIuOTY1LDQuNDc4LDU4LjQ4NiwwLDUyLjk2NSwweiIvPjxwYXRoIGQ9Ik0yODAuODg3LDBoLTU4LjgxMmMtNS41MjIsMC0xMCw0LjQ3Ny0xMCwxMHYxOC44NTRjMCw1LjUyMyw0LjQ3OCwxMCwxMCwxMGg1OC44MTJjNS41MjIsMCwxMC00LjQ3NywxMC0xMFYxMEMyOTAuODg3LDQuNDc4LDI4Ni40MDksMCwyODAuODg3LDB6Ii8+PHBhdGggZD0iTTEwOC4xMTMsMzguODU0aDU4LjgxM2M1LjUyMiwwLDEwLTQuNDc3LDEwLTEwVjEwYzAtNS41MjMtNC40NzgtMTAtMTAtMTBoLTU4LjgxM2MtNS41MjIsMC0xMCw0LjQ3Ny0xMCwxMHYxOC44NTRDOTguMTEzLDM0LjM3NywxMDIuNTkxLDM4Ljg1NCwxMDguMTEzLDM4Ljg1NHoiLz48cGF0aCBkPSJNMzc5LDBoLTQyLjk2NWMtNS41MjIsMC0xMCw0LjQ3Ny0xMCwxMHYxOC44NTRjMCw1LjUyMyw0LjQ3OCwxMCwxMCwxMGgxNC4xMTN2MTQuMTEzYzAsNS41MjMsNC40NzgsMTAsMTAsMTBIMzc5YzUuNTIyLDAsMTAtNC40NzcsMTAtMTBWMTBDMzg5LDQuNDc4LDM4NC41MjIsMCwzNzksMHoiLz48cGF0aCBkPSJNMzc5LDIxMi4wNzRoLTE4Ljg1MmMtNS41MjIsMC0xMCw0LjQ3Ny0xMCwxMHY1OC44MTJjMCw1LjUyMiw0LjQ3OCwxMCwxMCwxMEgzNzljNS41MjIsMCwxMC00LjQ3OCwxMC0xMHYtNTguODEyQzM4OSwyMTYuNTUxLDM4NC41MjIsMjEyLjA3NCwzNzksMjEyLjA3NHoiLz48cGF0aCBkPSJNMzc5LDk4LjExNGgtMTguODUyYy01LjUyMiwwLTEwLDQuNDc3LTEwLDEwdjU4LjgxMmMwLDUuNTIzLDQuNDc4LDEwLDEwLDEwSDM3OWM1LjUyMiwwLDEwLTQuNDc3LDEwLTEwdi01OC44MTJDMzg5LDEwMi41OTEsMzg0LjUyMiw5OC4xMTQsMzc5LDk4LjExNHoiLz48L2c+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=",c={height:"18px",width:"18px",padding:"3px 10px 0px 10px"},u={display:"inline-grid",paddingBottom:i==t.length-1?"0px":"4px"},h={background:"#FFFFFF",border:o.mdnTileIconStyle===p.vC.dashed?"1px dashed #464646":"1px solid #464646"};r.push(n.createElement("section",{className:"sideMenuSectionZip",style:u,key:"sideMenuSection"+a},n.createElement("div",{style:{display:"flex",alignItems:"center"},onClick:e.toggleLayerVisibility},n.createElement("input",{type:"radio",id:a,checked:o.visible,style:{marginTop:"0px"},"data-checked":o.visible}),n.createElement("span",{className:"legendSectionHeader"}," ",s," ")),o.type===d.pl.mdnTile?n.createElement("i",{className:"iMdnTileIcon",style:h}):n.createElement("img",{src:l,style:c})))}const i=e.legendSectionsCollapse.mdnLayer?h.u:h.r,o=e.legendSectionsCollapse.mdnLayer?{display:"none"}:{display:"grid"},a=e.mapLayerDefs.find((e=>e.type==d.pl.mdnTile&&e.visible));return n.createElement("section",{className:"refLayerSection"},n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("input",{type:"checkbox",id:"tileLayerCheckbox",style:{verticalAlign:"middle"},checked:!!a,onClick:e.toggleLayerVisibility}),n.createElement("h3",{className:"legendSectionHeader"},"Tile Layers"),n.createElement("img",{src:i,className:"chevronIcon",onClick:e.toggleTerritorySection,id:"mdnLayerSection"})),n.createElement("ul",{className:"legendEztTileLayers",id:"mdnLayers",style:o},r))}function x(e){let t=e.mapLayerDefs.filter((e=>"Weather Radar"==e.id||"Weather Infrared"==e.id)).reverse();if(!t.length)return null;const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=o.id,s=o.catalogName,l="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTE4NC43NDMgOTUuMTc5YzguMjg0IDAgMTUtNi43MTYgMTUtMTV2LTMwLjIwNWMwLTguMjg0LTYuNzE2LTE1LTE1LTE1cy0xNSA2LjcxNi0xNSAxNXYzMC4yMDVjMCA4LjI4NCA2LjcxNiAxNSAxNSAxNXoiLz48cGF0aCBkPSJtNDguNjYxIDE1MC4wODYtMjYuMTU5LTE1LjEwM2MtNy4xNzUtNC4xNDQtMTYuMzQ5LTEuNjg0LTIwLjQ5IDUuNDktNC4xNDIgNy4xNzUtMS42ODQgMTYuMzQ5IDUuNDkgMjAuNDlsMjYuMTU5IDE1LjEwM2M3LjE1OCA0LjEzNCAxNi4zMzkgMS43MDEgMjAuNDktNS40OSA0LjE0Mi03LjE3NSAxLjY4NC0xNi4zNDktNS40OS0yMC40OXoiLz48cGF0aCBkPSJtMzMuNjYxIDMxNS44ODEtMjYuMTU5IDE1LjEwMmMtNy4xNzQgNC4xNDItOS42MzIgMTMuMzE1LTUuNDkgMjAuNDkgNC4xNjMgNy4yMSAxMy4zNSA5LjYxNCAyMC40OSA1LjQ5bDI2LjE1OS0xNS4xMDNjNy4xNzQtNC4xNDIgOS42MzItMTMuMzE1IDUuNDktMjAuNDktNC4xNDItNy4xNzMtMTMuMzE0LTkuNjM0LTIwLjQ5LTUuNDg5eiIvPjxwYXRoIGQ9Im0zMzUuODI0IDE3Ni4wNjYgMjYuMTU5LTE1LjEwM2M3LjE3NC00LjE0MiA5LjYzMi0xMy4zMTUgNS40OS0yMC40OS00LjE0Mi03LjE3NC0xMy4zMTQtOS42MzQtMjAuNDktNS40OWwtMjYuMTU5IDE1LjEwM2MtNy4xNzQgNC4xNDItOS42MzIgMTMuMzE1LTUuNDkgMjAuNDkgNC4xNjMgNy4yMSAxMy4zNSA5LjYxNCAyMC40OSA1LjQ5eiIvPjxwYXRoIGQ9Im0zOTguOTA2IDI2Ny4yNjhjLTE3LjE3MS00Mi40MzItNTguODIzLTcwLjQ4OC0xMDQuNjQ1LTcwLjI5LTE4Ljc3Ny00MS44MDktNjAuNzk2LTcxLjAwNS0xMDkuNTE5LTcxLjAwNS02Ni4xNjggMC0xMTkuOTk5IDUzLjgzMi0xMTkuOTk5IDEyMCAwIDQyLjQ1MSAyMi4xNjggNzkuODA5IDU1LjUyNSAxMDEuMTQ3LTM1LjU2NyA1Ni4xODggNC44NzMgMTI5Ljg1MyA3MS40MSAxMjkuODUzIDIzNi4wMTItLjI0NiAyMjMuMDk4LjYwNCAyMjcuMjA4LS42NzIgNTIuNDI3LTUuOTEzIDkzLjExNC01MC4zNzkgOTMuMTE0LTEwNC4zMjcgMC02MS42MDctNTIuNjQyLTEwOS40NDEtMTEzLjA5NC0xMDQuNzA2em0tMzA0LjE2My0yMS4yOTRjMC00OS42MjYgNDAuMzc0LTkwIDkwLTkwIDMzLjQ2NSAwIDYyLjcwNSAxOC4zNyA3OC4yMTEgNDUuNTQ3LTQ3LjM5OSAxMy44ODktODAuMzEgNTcuMTYyLTgwLjgzOCAxMDYuODEtMTQuOSAxLjYzNS0yOC45NDkgNy4yMDItNDEuMDQ5IDE2LjMwMS0yNy42MDUtMTUuMzg5LTQ2LjMyNC00NC44NzQtNDYuMzI0LTc4LjY1OHptMzE4LjQ2OSAyMDAuNzQyYy01LjM0My40MzQtMTQxLjQ2NC4xODItMjIxLjUzNC4yNTgtNDkuNDYxIDAtNzMuNTY0LTYxLjMxLTM2Ljc2My05NC45MTYgMTEuMDQ2LTEwLjA4NyAyNS43NTUtMTUuNDU0IDQxLjc4My0xMy45OTYgOS42NjkuODcyIDE3LjU0OC03LjQ5MyAxNi4yMTMtMTcuMDItNi45NTQtNDkuNjMxIDMxLjQ3OS05NC4wNjggODEuNjg5LTk0LjA2OCAzNy4xNDQgMCA2OS44ODIgMjUuMDAyIDc5LjYxMiA2MC44MDEgMi4wOCA3LjY0OSA5Ljc1MyAxMi4zNTYgMTcuNTEyIDEwLjc1NSA0Ni43NTMtOS42NjkgOTAuMjc2IDI2LjA3MSA5MC4yNzYgNzMuNDQ0IDAgMzguNzU2LTMwLjIxNSA3MS41ODctNjguNzg4IDc0Ljc0MnoiLz48L2c+PC9zdmc+",c={height:"24px",width:"24px",padding:"2px 10px 0px 7px"},u={display:"inline-grid"},h={background:"#FFFFFF",border:"1px solid #464646"};r.push(n.createElement("section",{className:"sideMenuSectionZip",style:u,key:"sideMenuSection"+a},n.createElement("div",{style:{display:"flex",alignItems:"center"},onClick:e.toggleLayerVisibility},n.createElement("input",{type:"checkbox",id:a,checked:o.visible,style:{marginTop:"0px"},"data-checked":o.visible}),n.createElement("span",{className:"legendSectionHeader"}," ",s," ")),o.type===d.pl.mdnTile?n.createElement("i",{className:"iMdnTileIcon",style:h}):n.createElement("img",{src:l,style:c})))}const i=e.legendSectionsCollapse.weatherLayer?h.u:h.r,o=e.legendSectionsCollapse.weatherLayer?{display:"none"}:{display:"grid"},a=e.mapLayerDefs.find((e=>e.type==d.pl.azureTile&&"WmsTileLayer"!==e.catalogName&&e.visible));return n.createElement("section",{className:"refLayerSection"},n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("input",{type:"checkbox",id:"weatherLayerCheckbox",style:{verticalAlign:"middle"},checked:!!a,onClick:e.toggleLayerVisibility}),n.createElement("h3",{className:"legendSectionHeader"},"Weather Layers"),n.createElement("img",{src:i,className:"chevronIcon",onClick:e.toggleTerritorySection,id:"weatherLayerSection"})),n.createElement("ul",{className:"legendEztTileLayers",id:"weatherLayers",style:o},r))}function S(e){let t=e.mapLayerDefs.filter((e=>"WmsTileLayer"==e.catalogName)).reverse();if(!t.length)return null;const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=o.id,s={display:"inline-grid",height:"auto"};r.push(n.createElement("section",{className:"sideMenuSectionZip",style:s,key:"sideMenuSection"+a},n.createElement("div",{style:{display:"flex",alignItems:"center"},onClick:e.toggleLayerVisibility},n.createElement("input",{type:"checkbox",id:a,checked:o.visible,style:{marginTop:"0px"},"data-checked":o.visible}),n.createElement("span",{className:"legendSectionHeader"}," ",a," "))))}const i=e.legendSectionsCollapse.wmsTileLayer?h.u:h.r,o=e.legendSectionsCollapse.wmsTileLayer?{display:"none"}:{display:"grid"},a=e.mapLayerDefs.find((e=>e.type==d.pl.azureTile&&"WmsTileLayer"==e.catalogName&&e.visible));return n.createElement("section",{className:"refLayerSection"},n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("input",{type:"checkbox",id:"wmsTileLayerCheckbox",style:{verticalAlign:"middle"},checked:!!a,onClick:e.toggleLayerVisibility}),n.createElement("h3",{className:"legendSectionHeader"},"WMS Tile Layer"),n.createElement("img",{src:i,className:"chevronIcon",onClick:e.toggleTerritorySection,id:"wmsTileLayerSection"})),n.createElement("ul",{className:"legendEztTileLayers",id:"wmsLayers",style:o},r))}function w(e){if(e.travelRing&&e.travelRing.origin&&e.travelRing.renderPoly){const t=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];return n.createElement("section",{className:"sideMenuTravelRingSection",key:"sideMenuSectionTravelRings"},n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("input",{type:"checkbox",id:"travelRing",checked:e.travelRing.visible,onClick:e.toggleTravelRingVisibility}),n.createElement("h3",{className:"legendSectionHeader"}," ","Travel Ring"," ")),n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("h2",{className:"legendSectionHeader2"},e.travelRing.origin)),e.travelRing.polygon?n.createElement("ul",{className:"lengendTraveRingUl"},n.createElement("li",{className:"legendTravelRing",id:e.travelRing.origin},n.createElement("i",{className:"iTravelRing",style:{background:e.travelRing.color,opacity:t[e.travelRing.opacity],border:"1px solid black"}}),e.travelRing.queryName)):null)}}function _(e,t,r){const i=e.layers;if(!i.length)return null;const o=r.doesShow&&!t?i.map((e=>{const{name:t,id:o,dataUri:a,columns:l,stylizers:c,shapeType:u}=e,d=i.find((e=>e.id==o)),h=function(e,t,r,i){const o=[],a=t.filter((e=>"color"==e.styleType||"fillColor"==e.styleType)),l=t.filter((e=>"symbol"==e.styleType));return e.forEach((e=>{if(e.dataDescription){const l=e.dataDescription,c=l.exactValuesToFilterCol,u="range"==l.constraintType;c.length&&c.forEach((t=>{a.forEach(((a,l)=>{if(e.id==a.dataColumnId&&t.value==a.condition.exactValue){if(0==l){const t=e.label;"color"==a.styleType&&o.push(n.createElement("li",null,n.createElement("h2",{className:"legendSectionHeader2",style:{color:"black"}},t)))}const c=a.symbologies.find((e=>e.descriptor="fillColor"));if(c){const e={background:c.value,opacity:r.symbology.fillOpacity,border:"1px solid "+r.symbology.lineColor};"POLYGON"==r.shapeType?o.push(n.createElement(s.A,{key:t.label,name:t.label,styled:e,singleItem:!1,layerType:i.layerType})):"POINT"==r.shapeType&&c&&o.push(n.createElement("li",{className:"sideMenuClassify",style:{display:"flex",paddingLeft:"4px"}},n.createElement("div",{style:{height:"20px",paddingLeft:"4px"}},n.createElement("img",{src:a.dataUri,style:{height:"18px",width:"18px",marginRight:"10px"}})),t.label))}}}))})),u&&a.forEach(((a,l)=>{if("color"==a.styleType&&e.id==a.dataColumnId&&(a.condition.rangeMin||a.condition.rangeMax)){if(0==l){const t=e.label;o.push(n.createElement("li",null,n.createElement("h2",{className:"legendSectionHeader2",style:{color:"black"}},t)))}const c={background:a.symbologies.find((e=>e.descriptor="fillColor")).value,opacity:r.symbology.fillOpacity,border:"1px solid "+r.symbology.lineColor},u=a.condition.rangeMin,d=a.condition.rangeMax,h=`${u||"Up"} to ${!(t.length-1==l)&&d||"Above"}`;"POLYGON"==r.shapeType?o.push(n.createElement(s.A,{key:h+l,name:h,styled:c,singleItem:!1,layerType:i.layerType})):"POINT"==r.shapeType&&"color"==a.styleType&&o.push(n.createElement("li",{className:"sideMenuClassify",style:{display:"flex",paddingLeft:"4px"}},n.createElement("div",{style:{height:"20px",paddingLeft:"4px"}},n.createElement("img",{src:a.dataUri,style:{height:"18px",width:"18px",marginRight:"10px"}})),h))}}))}})),e.forEach((e=>{if(e.dataDescription){const a=e.dataDescription,c=a.exactValuesToFilterCol,u="range"==a.constraintType;c.length&&c.forEach((t=>{l.forEach(((a,l)=>{if(e.id==a.dataColumnId&&t.value==a.condition.exactValue){if(0==l){const t=e.label;o.push(n.createElement("li",null,n.createElement("h2",{className:"legendSectionHeader2",style:{color:"black"}},t)))}const c=a.symbologies.find((e=>e.descriptor="fillColor"));if(c){const e={background:c.value,opacity:r.symbology.fillOpacity,border:"1px solid "+r.symbology.lineColor};"POLYGON"==r.shapeType?o.push(n.createElement(s.A,{key:t.label,name:t.label,styled:e,singleItem:!1,layerType:i.layerType})):"POINT"==r.shapeType&&c&&o.push(n.createElement("li",{className:"sideMenuClassify",style:{display:"flex",paddingLeft:"4px"}},n.createElement("div",{style:{height:"20px",paddingLeft:"4px"}},n.createElement("img",{src:a.dataUri,style:{height:"18px",width:"18px",marginRight:"10px"}})),t.label))}}}))})),u&&l.forEach(((a,l)=>{if(e.id==a.dataColumnId&&(a.condition.rangeMin||a.condition.rangeMax)){if(0==l){const t=e.label;o.push(n.createElement("li",null,n.createElement("h2",{className:"legendSectionHeader2",style:{color:"black"}},t)))}const c={background:a.symbologies.find((e=>e.descriptor="fillColor")).value,opacity:r.symbology.fillOpacity,border:"1px solid "+r.symbology.lineColor},u=a.condition.rangeMin,d=a.condition.rangeMax,h=`${u||"Up"} to ${!(t.length-1==l)&&d||"Above"}`;"POLYGON"==r.shapeType?o.push(n.createElement(s.A,{key:h+l,name:h,styled:c,singleItem:!1,layerType:i.layerType})):"POINT"==r.shapeType&&o.push(n.createElement("li",{className:"sideMenuClassify",style:{display:"flex",paddingLeft:"4px"}},n.createElement("div",{style:{height:"20px",paddingLeft:"4px"}},n.createElement("img",{src:a.dataUri,style:{height:"18px",width:"18px",marginRight:"10px"}})),h))}}))}})),o}(l,c,e,r),p="POLYGON"==u?{paddingLeft:"0",display:"inline-block"}:{paddingLeft:"0"};return n.createElement("ul",{key:o,style:p},n.createElement("li",{className:"refLayerLi"},n.createElement("input",{type:"checkbox",id:o,style:{verticalAlign:"middle"},checked:d.visible,onClick:e=>r.toggleRefLayerVisibility(e,r.map)}),t),h.length?h:"POLYGON"==u?n.createElement(s.A,{key:o,name:t,styled:{background:e.symbology.fillColor,opacity:e.symbology.fillOpacity,border:"1px solid "+e.symbology.lineColor,marginTop:"2px"},singleItem:!0,layerType:r.layerType}):n.createElement("li",{className:"sideMenuClassify",style:{display:"flex",paddingLeft:"4px",paddingTop:"1px"}},n.createElement("div",{style:{height:"20px",paddingLeft:"4px"}},n.createElement("img",{src:a,style:{height:"18px",width:"18px",marginRight:"10px"}}))))})):null,a=t?h.u:h.r,l=t?{display:"none"}:null;return n.createElement("section",{className:"refLayerSection"},n.createElement("div",{style:{display:"flex",alignItems:"center"}},n.createElement("input",{type:"checkbox",id:"POINT"==e.type?"Point_RefLayer_Section":"Terr_RefLayer_Section",style:{verticalAlign:"middle"},checked:e.visible,onClick:e=>r.toggleRefLayerVisibility(e,r.map)}),n.createElement("h3",{className:"legendSectionHeader"},"Reference Layers"),n.createElement("img",{src:a,className:"chevronIcon",onClick:r.toggleTerritorySection,id:"POINT"==e.type?"pointRefLayerSection":"terrRefLayerSection"})),n.createElement("ul",{className:"legendUlPoints",style:l},o))}function T(e,t,r,i,o,s,l,c){const d=e.dataView.pointRangeMin,h=e.dataView.pointRangeMax;let p,g,b;s==u.RG.territories?(p=e.settings.eztTerritoriesOptions.centerPointSize,g=e.settings.eztTerritoriesOptions.centerPointColor,b=e.settings.eztTerritoriesOptions.centerPointOpacity):(p=e.settings.eztPointOptions.sizeClassify,g=e.settings.eztPointOptions.fill,b=e.settings.eztPointOptions.pointOpacity);const v=e.columnMetadata.pointSizeColFormat,M=v?m.G2.create({value:0,format:v,formatSingleValues:!0,displayUnitSystemType:y.DisplayUnitSystemType.DataLabels}):null,x=(0,f.KB)(d,h),S=[],w=e.dataView.dataPoints.length,_=c?"#ffffff":g;let T,I;w>1?(T=(0,f.Y7)(d,h,p,d),I=(0,f.Y7)(d,h,p,h)):T=p;const C=n.createElement(a.A,{maxHeight:2*I,key:0,valueFormatter:M,size:T,value:d,gradient:_,opacity:b,svg:l});if(S.push(C),w>1){const e=(0,f.Y7)(d,h,p,x[0]),t=n.createElement(a.A,{maxHeight:2*I,key:1,valueFormatter:M,size:e,value:x[0],gradient:_,opacity:b,svg:l}),r=(0,f.Y7)(d,h,p,x[1]),i=n.createElement(a.A,{maxHeight:2*I,key:2,valueFormatter:M,size:r,value:x[1],gradient:_,opacity:b,svg:l}),o=(0,f.Y7)(d,h,p,x[2]),s=n.createElement(a.A,{maxHeight:2*I,key:3,valueFormatter:M,size:o,value:x[2],gradient:_,opacity:b,svg:l}),c=n.createElement(a.A,{maxHeight:2*I,key:4,valueFormatter:M,size:I,value:h,gradient:_,opacity:b,svg:l});S.push(t,i,s,c)}return n.createElement(n.Fragment,null,n.createElement("div",{style:t},n.createElement("h2",{className:"legendSectionHeader2",style:{paddingBottom:"5px"}},n.createElement("span",{style:{color:"black",height:"auto"}},`${r}  `),"(",i.pointSizeColName,")")),n.createElement("ul",{className:o},S))}},82615:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540),i=r(86382);const o=e=>{let t=[],r=null,o="messageConsole";return e.configState&&!e.loadingData&&(t=function(e){let t=[];if(e.configState){const r="messageConsoleLi";e.configState.primaryDataColName||(e.configState.layerType==i.RG.territories?t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 3:")," Set the 'Territory' field from the 'Territory Hierarchy' table as the 'Name' field in the Data panel.")):t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 1:")," Set 'Name' field in the Data panel. (e.g. Account Name)"))),e.configState.layerType!==i.RG.territories||e.configState.primaryKeysColName||t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 4:")," Set the 'Primary Keys' field in the Data panel.  Use the Primary Keys field from the Territory Hierarchy table from imported in Step 2.")),e.configState.layerType!==i.RG.points||e.configState.latCol&&e.configState.lonCol||t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 2:")," Set 'Latitude' and 'Longitude' in the Fields panel.")),e.configState.layerType!==i.RG.points||e.configState.urlSetInFormatPanel?e.configState.layerType!==i.RG.territories||e.configState.urlSetInFormatPanel||(t.unshift(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 2:")," Download the EasyTerritory Data Connector ",n.createElement("span",{style:{textDecoration:"underline",cursor:"pointer",color:"#0000EE"},title:"https://downloads.easyterritory.com/power-bi-data/EasyTerritoryConnector/EasyTerritoryConnector.zip",onClick:()=>{e.pbiHost.launchUrl("https://downloads.easyterritory.com/power-bi-data/EasyTerritoryConnector/EasyTerritoryConnector.zip")}},"here")," and load the 'Territory Hierarchy' table into the data model.")),t.unshift(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 1:")," To unlock the advanced territory boundary mapping and geocoding features of this visual, please register for access to the EasyTerritory web portal ",n.createElement("span",{style:{textDecoration:"underline",cursor:"pointer",color:"#0000EE"},title:"https://www.easyterritory.com/free-trial/?utm_source=visual&utm_medium=website&utm_campaign=registration&utm_id=powerbi",onClick:()=>{e.pbiHost.launchUrl("https://www.easyterritory.com/free-trial/?utm_source=visual&utm_medium=website&utm_campaign=registration&utm_id=powerbi")}},"here"),". Using the EasyTerritory web portal, build and publish your territories following these ",n.createElement("span",{style:{textDecoration:"underline",cursor:"pointer",color:"#0000EE"},title:"https://www.easyterritory.com/documentation/power-bi-integration/configuring-the-easyterritory-territory-visual-for-power-bi/",onClick:()=>{e.pbiHost.launchUrl("https://www.easyterritory.com/documentation/power-bi-integration/configuring-the-easyterritory-territory-visual-for-power-bi/")}},"instructions"),".")),t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 5:")," Set the EasyTerritory Web portal URL in 'EasyTerritory URL' field in the Format panel.  Example format: https://apps.easyterritory.com/","{","CUSTOMERID","}","/app."))):(t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 3:")," If you already have access to the EasyTerritory web portal, you can enter the URL into 'EasyTerritory URL' in the Format panel.")),t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 4:")," For acess to the EasyTerritory web portal and to unlock the advanced territory boundary mapping and geocoding features of this visual, please register ",n.createElement("span",{style:{textDecoration:"underline",cursor:"pointer",color:"#0000EE"},title:"https://www.easyterritory.com/free-trial/?utm_source=visual&utm_medium=website&utm_campaign=registration&utm_id=powerbi",onClick:()=>{e.pbiHost.launchUrl("https://www.easyterritory.com/free-trial/?utm_source=visual&utm_medium=website&utm_campaign=registration&utm_id=powerbi")}},"here"),"."))),e.configState.layerType!==i.RG.territories||e.configState.eztProjectId&&"Enter your EasyTerritory project id"!==e.configState.eztProjectId||e.columnMetadata.multiProjectidsSet||t.push(n.createElement("li",{className:r},n.createElement("span",{className:"messageConsoleTitle"},"Step 6:")," Set 'EasyTerritory project ID' field in the Format panel using the project ID configured in the EasyTerritory web portal in Step 1.")),e.configState.layerType||t.push(n.createElement("li",{className:r},"Set 'Data Type' in Format Panel.")),e.configState.layerType===i.RG.points&&e.configState.relatedTerrColName&&!e.configState.eztUrl&&t.push(n.createElement("li",{className:r},"Set 'EasyTerritory URL' and 'EasyTerritory project ID' in Format Panel to overlay territories.")),e.configState.layerType===i.RG.points&&e.configState.relatedTerrColName&&!e.configState.eztProjectId&&t.push(n.createElement("li",{className:r},"Set 'Project ID' in Format Panel to overlay territories.")),e.configState.layerType===i.RG.points&&e.configState.relatedTerrColName&&!e.configState.primaryKeysColName&&t.push(n.createElement("li",{className:r},"Set 'Primary Keys column' in Fields Panel to overlay territories."))}return t}(e),t.length&&e.configState.layerType==i.RG.points?r=n.createElement("p",{className:"messageConsoleTitle",style:{color:"#4B4B4D"}},"Configuring Point Data:"):t.length&&(r=n.createElement("p",{className:"messageConsoleTitle",style:{color:"#4B4B4D"}},"Configuring Territory (polygon) Data:")),e.columnMetadata)&&e.columnMetadata.relatedTerrColName&&e.columnMetadata.aggregatedColName&&(t=function(e){let t=[];return e.relatedTerrColName||t.push(n.createElement("li",{className:"messageConsoleLi messageConsoleDash"},"To display related territories, set 'Related data source name' in Fields Panel.")),e.aggregatedColName||t.push(n.createElement("li",{className:"messageConsoleLi messageConsoleDash"},"To display related territories, set 'Color classification column' in Fields Panel.")),t}(e.columnMetadata)),e.logger&&e.open?(o="messageConsole2",t.push(n.createElement("li",{style:{color:"red"},className:"messageConsoleLi"},e.logger))):e.error?(o="messageConsole",t.push(n.createElement("li",{style:{color:"red"},className:"messageConsoleLi"},e.error))):"fixedLabels"===e.settings.eztTerritoriesOptions.territoryLabels&&!1===e.labelsExist&&t.push(n.createElement("li",{className:"messagConsoleLi"},"Fixed labels not found.")),n.createElement("div",{className:o},r,n.createElement("ul",{className:"messageConsoleUl"},t),e.logger&&e.open?n.createElement("div",{className:"close",onClick:()=>e.closeConsole()}," "):null)}},53152:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);const i=e=>{const t=e.opacity,r={background:e.color,opacity:t,border:`1px solid ${e.borderColor}`};return n.createElement("li",{className:"pointsLi",key:e.name,style:{paddingLeft:"6px",height:"18px"}},e.dataUri?n.createElement("img",{src:e.dataUri,style:{height:"20px",width:"20px",opacity:t}}):n.createElement("i",{className:"iPoints",style:r}))}},61356:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);const i=e=>{const t={background:e.highlighted?e.color:"rgb(179, 176, 173)",opacity:e.opacity,border:"1px solid "+e.borderColor};return n.createElement("li",{className:"sideMenuTerrOverlay",key:e.key,id:e.value},n.createElement("i",{className:"iPolygons",style:t}),e.value)}},2624:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);const i=e=>{const t=e.name?e.name:n.createElement("br",null);return n.createElement("li",{className:"legendLiTerrs",style:{paddingLeft:"8px"},key:e.key,id:e.name},n.createElement("i",{className:"iPolygons",style:e.styled}),e.singleItem?null:t)}},65276:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var n=r(96540),i=r(1484),o=r(91316),a=r(82615);const s={azureMapsCdnLoaded:!1,columnMetadata:null,viewModel:null,settings:null,toolTip:null,configState:null,classifyRange:null,updateCheck:{shapes:!1,referenceLayers:!1,components:!1},pbiHost:null,mapLayerDefs:[],localStorage:null,cameraBounds:[],sessionGuid:null,showLegend:!1,legendSectionsCollapse:{classify:!1,primaryDataSource:!1,relatedDataSource:!1,pointReferenceLayer:!1,terrReferenceLayer:!1,mdnLayer:!1,weatherLayer:!1,wmsTileLayer:!1},error:null,logger:null,redeployMap:!1,reAuthenticate:!1,hasError:!1,loadingData:!1,consoleOpen:!0,travelRing:{opacity:0,openModal:!1,polygon:null,origin:null,lat:0,lon:0,boundingBox:[],renderPoly:!1,color:null,queryName:null,visible:!1,id:null},distanceLine:{openModal:!1,points:[],targetId:"",targetPos:[]},refLayers:null,viewPort:null,updateMapScale:!1,mdnTileLayerChecked:null};class l extends n.Component{constructor(){super(...arguments),this.state=s,this.renderMapOrSplash=()=>{let e=null;return e=!this.state.azureMapsCdnLoaded||!this.state.azureKey||this.state.redeployMap||this.state.reAuthenticate||this.state.error?n.createElement(o.A,{pbiHost:this.props.pbiHost,configState:this.state.configState,columnMetada:this.state.columnMetadata,redeployMap:this.state.redeployMap,redeployMapControl:this.redeployMapControl,badAzureKey:this.state.reAuthenticate}):n.createElement(i.Sk,{viewModel:this.state.viewModel,columnMetadata:this.state.columnMetadata,terrGeometry:this.state.terrGeometry,azureKey:this.state.azureKey,settings:this.state.settings,toolTip:this.state.toolTip,configState:this.state.configState,classifyRange:this.state.classifyRange,mapLayerDefs:this.state.mapLayerDefs,updateCheck:this.state.updateCheck,pbiHost:this.state.pbiHost,localStorage:this.state.localStorage,cameraBounds:this.state.cameraBounds,sessionGuid:this.state.sessionGuid,showLegend:this.state.showLegend,logger:this.state.logger,openCloseLegend:this.openCloseLegend,toggleLayerVisibility:this.toggleLayerVisibility,toggleTerritorySection:this.toggleTerritorySection,legendSectionCollapse:this.state.legendSectionsCollapse,mapErrorHandler:this.displayMapError,travelRing:this.state.travelRing,openTravelRingModal:this.openTravelRingModal,distanceLine:this.state.distanceLine,openDistLineModal:this.openDistLineModal,closeTravelRingModal:this.closeTravelRingModal,highlightShapesInTravelRing:this.highlightShapesInTravelRing,removeTravelRing:this.removeTravelRing,toggleTravelRingVisibility:this.toggleTravelRingVisibility,toggleRefLayerVisibility:this.toggleRefLayerVisibility,selectionManager:this.state.selectionManager,loadingData:this.state.loadingData,startDrawingTool:this.clearMaxSelectionMess,refLayers:this.state.refLayers,viewPort:this.state.viewPort,updateMapScale:this.state.updateMapScale,drillableRoles:this.state.drillableRoles}),e},this.renderMessageConsole=()=>{let e=null;if(this.state.configState){const t=this.state.terrGeometry?this.state.terrGeometry.labelsExist:null;e=n.createElement(a.A,{configState:this.state.configState,columnMetadata:this.state.columnMetadata,logger:this.state.logger,error:this.state.error,loadingData:this.state.loadingData,pbiHost:this.state.pbiHost,closeConsole:this.closeConsole,settings:this.state.settings,open:this.state.consoleOpen,labelsExist:t})}return e},this.openCloseLegend=()=>{const e={shapes:!1,components:!0};this.setState((t=>({showLegend:!t.showLegend,updateCheck:e})))},this.toggleTerritorySection=e=>{const t={shapes:!1,components:!0},r=e.target.id;this.setState((e=>{const n=Object.assign({},e.legendSectionsCollapse);return"classifySection"===r?n.classify=!n.classify:"territorySection"===r?n.primaryDataSource=!n.primaryDataSource:"terrOverlaySection"===r?n.relatedDataSource=!n.relatedDataSource:"pointRefLayerSection"===r?n.pointReferenceLayer=!n.pointReferenceLayer:"terrRefLayerSection"===r?n.terrReferenceLayer=!n.terrReferenceLayer:"mdnLayerSection"===r?n.mdnLayer=!n.mdnLayer:"weatherLayerSection"===r?n.weatherLayer=!n.weatherLayer:"wmsTileLayerSection"===r&&(n.wmsTileLayer=!n.wmsTileLayer),{legendSectionsCollapse:n,updateCheck:t}}))},this.toggleLayerVisibility=e=>{const t=e.target.id,r=e.target.checked,n={shapes:!1,components:!0};this.setState((e=>{const o=[...e.mapLayerDefs];let a=!1,s=null;return o.forEach((e=>{e.id===t&&(e.visible=r,e.type==i.pl.mdnTile&&r&&(a=!0,s=e.id)),e.id===i.Dp.lineLayerId&&t==i.Dp.territoriesLayerId&&(e.visible=r),e.id===i.Dp.symbolLayerId&&t==i.Dp.territoriesLayerId&&(e.visible=r),"tileLayerCheckbox"===t&&e.type==i.pl.mdnTile&&(e.visible=r),"weatherLayerCheckbox"===t&&e.type==i.pl.azureTile&&"WmsTileLayer"!==e.catalogName&&(e.visible=r),"wmsTileLayerCheckbox"===t&&e.type==i.pl.azureTile&&"WmsTileLayer"===e.catalogName&&(e.visible=r)})),o.filter((e=>e.type==i.pl.mdnTile&&e.visible)).length>=2&&o.forEach((n=>{n.type==i.pl.mdnTile&&n.id!=t&&("tileLayerCheckbox"==t&&r&&e.mdnTileLayerChecked==n.id?n.visible=!0:n.visible=!1)})),a?{mapLayerDefs:o,updateCheck:n,mdnTileLayerChecked:s}:{mapLayerDefs:o,updateCheck:n}}))},this.toggleRefLayerVisibility=(e,t)=>{let r=e.target.id;const n=e.target.checked,o=this.state.refLayers?Object.assign({},this.state.refLayers):null;if("Point_RefLayer_Section"===r||"Terr_RefLayer_Section"===r)"Point_RefLayer_Section"===r?(o.pointRefLayers.visible=n,o.pointRefLayers.layers.forEach((e=>{e.visible=n}))):(o.territoryRefLayers.visible=n,o.territoryRefLayers.layers.forEach((e=>{e.visible=n})));else{let e=!1,t=o.pointRefLayers.layers.find((e=>e.id===r)),i=o.territoryRefLayers.layers.find((e=>e.id===r));t?(o.pointRefLayers.layers.forEach((t=>{t.id===r&&(t.visible=n),t.visible&&(e=!0)})),o.pointRefLayers.visible=e):i&&(o.territoryRefLayers.layers.forEach((t=>{t.id===r&&(t.visible=n),t.visible&&(e=!0)})),o.territoryRefLayers.visible=e)}this.setState({refLayers:o,updateCheck:{shapes:!1,components:!0}},(()=>{try{const e=t.layers.getLayerById(i.Dp.terrRefLayer),a=t.layers.getLayerById(i.Dp.terrRefLineLayer),s=t.layers.getLayerById(i.Dp.refPointLayer),l=t.layers.getLayerById(i.Dp.terrRefSymbolLayer);if("Point_RefLayer_Section"===r||"Terr_RefLayer_Section"===r){if("Terr_RefLayer_Section"===r&&e){const t=e.getOptions();t.visible=n,t.filter=["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"],["==",["geometry-type"],"GeometryCollection"]]],e.setOptions(t);const r=a.getOptions();r.visible=n,r.filter=["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"],["==",["geometry-type"],"GeometryCollection"]]],a.setOptions(r);const i=l.getOptions();i.visible=!!this.state.settings.eztRefLayers.labelsOn&&n,i.filter=["all",["==",["geometry-type"],"Point"]],l.setOptions(i)}if("Point_RefLayer_Section"===r&&s){const e=s.getOptions();e.visible=n,e.filter=null,s.setOptions(e)}}else{let t=o.pointRefLayers.layers.find((e=>e.id==r));if(t||(t=o.territoryRefLayers.layers.find((e=>e.id==r))),"POINT"==t.shapeType){if(s){const e=s.getOptions();let t=e.filter;if(n)if(t){const e=t.findIndex((e=>"!="==e[0]&&e[2]==r));-1!=e&&t.splice(e,1)}else t=["all"],o.pointRefLayers.layers.forEach((e=>{e.id!=r&&t.push(["!=",["get","layerId"],e.id])}));else t?t.push(["!=",["get","layerId"],r]):t=["all",["!=",["get","layerId"],r]];e.visible=!0,e.filter=t,s.setOptions(e)}}else if(e){const t=e.getOptions();let i=t.filter;if(n){const e=i.findIndex((e=>"!="==e[0]&&e[2]==r));-1!=e?i.splice(e,1):o.territoryRefLayers.layers.forEach((e=>{e.id!=r&&i.push(["!=",["get","layerId"],e.id])}))}else i.push(["!=",["get","layerId"],r]);t.visible=!0,t.filter=i,e.setOptions(t);const s=a.getOptions();if(s.visible=!0,s.filter=i,a.setOptions(s),l){const e=l.getOptions();e.visible=!0;let t=e.filter;if(n){const e=t.findIndex((e=>"!="==e[0]&&e[2]==r));-1!=e?t.splice(e,1):o.territoryRefLayers.layers.forEach((e=>{e.id!=r&&t.push(["!=",["get","layerId"],e.id])}))}else t.push(["!=",["get","layerId"],r]);e.filter=t,l.setOptions(e)}}}}catch(e){console.log("EasyTerritory Power BI Visual Error: Could not toggle reference layers!",e)}}))},this.redeployMapControl=()=>{this.setState({redeployMap:!1})},this.displayMapError=(e,t=null)=>{let r=!0;t||(t={id:null,queryName:null,renderPoly:!1,lat:0,lon:0,origin:null,polygon:null,visible:!1,color:null,opacity:0,openModal:!1,boundingBox:[]},r=!1),this.setState({logger:e,error:null,consoleOpen:!0,travelRing:t,updateCheck:{components:!0,shapes:r}})},this.closeConsole=()=>{const e=Object.assign({},this.state.settings);e.eztMapSettings.mapZoom=!1,this.setState({consoleOpen:!1,settings:e,updateCheck:{shapes:!1,components:!1}})},this.openDistLineModal=(e,t,r)=>{const n=Object.assign({},this.state.distanceLine),i=Object.assign({},this.state.travelRing);i.openModal=!1,i.origin="";const o=r.reduce(((e,t)=>{const r=t.getOptions().content;return"point"===r.dataset.type&&e.push({id:r.id,position:t.recordLatLon}),e}),[]);o.length>1&&o.sort(((t,r)=>t.id!==e&&r.id===e?-1:t.id===e&&r.id!==e?1:void 0)),n.openModal=!0,n.points=o,n.targetId=e,n.targetPos=t,this.setState({distanceLine:n,travelRing:i,updateCheck:{components:!0,shapes:!1}})},this.openTravelRingModal=(e,t,r)=>{const n=Object.assign({},this.state.travelRing),i=Object.assign({},this.state.distanceLine);i.openModal=!1,i.targetId="",n.openModal=!0,n.lat=e,n.lon=t,n.origin=r,this.setState({travelRing:n,distanceLine:i,updateCheck:{components:!0,shapes:!1}})},this.closeTravelRingModal=()=>{this.setState((e=>{const t=Object.assign({},e.travelRing),r=Object.assign({},e.distanceLine);return t.openModal=!1,r.openModal=!1,r.points=[],r.targetId="",r.targetPos=[],{travelRing:t,distanceLine:r,updateCheck:{components:!0,shapes:!1}}}))},this.toggleTravelRingVisibility=e=>{const t={shapes:!1,components:!0};this.setState((r=>{const n=Object.assign({},r.travelRing);return n.visible=e.target.checked,{travelRing:n,updateCheck:t}}))},this.highlightShapesInTravelRing=(e,t,r)=>{this.setState((n=>{const i=Object.assign({},n.viewModel),o=i.dataPoints,a=[];for(let e=0;e<o.length;e++){const r=o[e];let n=!1;for(let e=0;e<t.length;e++){const i=t[e];r.name==i.name&&(n=!0,r.relatedTerr&&!a.find((e=>e===r.relatedTerr))&&a.push(r.relatedTerr))}r.highlighted=n}if(a.length&&i.relatedDataSource&&i.relatedDataSource.dataPoints.length){const e=[...i.relatedDataSource.dataPoints];for(let t=0;t<e.length;t++){let r=!1;const n=e[t];for(let e=0;e<a.length;e++){const t=a[e];n.nameValue===t&&(r=!0)}n.highlighted=r}i.relatedDataSource.dataPoints=e}return i.dataPoints=o,{travelRing:e,updateCheck:{components:!0,shapes:!0},viewModel:i,consoleOpen:!!r,logger:r}}))},this.removeTravelRing=()=>{const e=Object.assign({},this.state.travelRing);e.openModal=!1,e.origin=null,e.polygon=null,e.lat=0,e.lon=0,e.queryName=null,e.origin=null,e.id=null,e.renderPoly=!1,this.state.localStorage.remove("EztTravelRingState_"+this.state.sessionGuid),this.setState({travelRing:e,updateCheck:{components:!0,shapes:!1},logger:null})},this.clearMaxSelectionMess=()=>{this.setState((e=>e.logger?{logger:null,updateCheck:{shapes:!1,components:!1}}:null))}}static update(e){"function"==typeof l.updateCallback&&l.updateCallback(e)}componentWillMount(){l.updateCallback=e=>{this.setState(e)}}componentWillUnmount(){l.updateCallback=null}componentDidCatch(e,t){console.log("EasyTerritory Power BI Visual Error: "+e+" "+t),this.setState({error:"Something went wrong. Please reload visual.  "+e+" "+t,logger:null})}render(){const e=this.renderMapOrSplash(),t=this.renderMessageConsole();return n.createElement("div",{className:"eztMapContainer"},t,e)}}l.updateCallback=null},1484:(e,t,r)=>{"use strict";r.d(t,{Dp:()=>N,Sk:()=>E,pl:()=>L});var n=r(96540),i=r(66002),o=r(55082),a=r(50441),s=r(80676),l=r(62392),c=r(95281),u=r(4832),d=r(86382),h=r(80123),p=r(4706),m=r(74074),y=r(47703),f=r(41827),g=r(32166),b=r(22608),v=r(95475),M=r(44678),x=r(2514),S=r(22908),w=r(54931),_=r(60046),T=r(39028),I=r(30327),C=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};let k="";var L,N,Z;!function(e){e.mdnTile="mdnTile",e.azureTile="azureTile",e.baseLayer="baseLayer",e.travelRing="travelRing",e.refLayer="referenceLayer"}(L||(L={})),function(e){e.territoriesLayerId="EZT Territory Layer",e.pointsLayerId="EZT Point Layer",e.lineLayerId="EZT Territory Line Layer",e.symbolLayerId="EZT Symbol Layer",e.clusterPoint="EZT Cluster Layer",e.popupLeader="EZT Popup Leader Line Layer",e.refPointLayer="EZT Ref Layer",e.terrRefLayer="EZT Terr Ref Layer",e.clusterSymbol="EZT-Cluster-Symbol",e.rangePointLayer="EZT Range Layer",e.terrRefSymbolLayer="EZT Terr Ref Symbol Layer",e.terrRefLineLayer="EZT Terr Ref Line Layer"}(N||(N={})),function(e){e.azureMapsKeyError="Azure Maps Key Error",e.parseWktError="Parsing WKT Error"}(Z||(Z={}));class E extends n.Component{constructor(){super(...arguments),this.state={map:null,datasource:null,shapeLayers:[],terrLayerDatasource:null,secondaryDatasource:null,symbolLayerDatasource:null,drawingManager:null,drawingToolbar:null,polygonLayer:null,pointLayer:null,weatherInterval:0,superCluster:null},this.searchAddressAction=(e,t,r,n)=>{if(this.props.settings.eztMapSettings.geospatialSearch){const e=this.state.datasource.getShapes();this.props.viewModel.layerType===d.RG.territories&&this.props.viewModel.levelType===d.RG.territories?(0,m.U)(r,n,e,this.state.map,this.props.settings,this.props.settings.eztCallouts):this.props.viewModel.levelType!==d.RG.points&&this.props.viewModel.layerType!==d.RG.points||(0,m.Y)(r,n,e,this.state.map,this.props.settings,this.props.settings.eztCallouts)}else{const o=(0,g.tY)(t,this.props.settings.eztCallouts,(()=>this.props.openTravelRingModal(r,n,t)),(()=>this.props.openDistLineModal(t,[n,r],this.state.map.popups.getPopups()))),a=new i.Popup({closeButton:!0});a.setOptions({content:o,fillColor:this.props.settings.eztCallouts.background,position:[n,r]});const s=a.getPopupContainer();(0,g.cJ)(s,this.props.settings.eztCallouts),a.recordLatLon=[n,r],a.id=e,a.isOpen()||a.open(this.state.map),this.state.map.events.addOnce("close",a,(e=>a.remove()));const l=this.state.map.getCamera().zoom;this.state.map.setCamera({center:[n,r],zoom:l,type:"fly"})}},this.travelRingAction=(e,t)=>{I.atlas||I.window.atlas;const r=e.polygon,n=this.state.superCluster?this.state.superCluster.points:this.state.datasource.getShapes(),i=[];for(let t=0;t<n.length;t++){const o=n[t];if(this.props.viewModel.levelType===d.RG.points){const t="getCoordinates"in o?o.getCoordinates():o.geometry.coordinates,n=t[1],a=t[0];if(!(0,M.s)([a,n],e.polygon.properties.boundingBox))continue;if((0,b.A)([a,n],r)){const e="getProperties"in o?o.getProperties():o.properties;i.push(e)}}else if((0,v.A)(r,o.data)){const e=o.getProperties();i.push(e)}}const o=this.state.secondaryDatasource;if(t){e.renderPoly=!0,o.setShapes(e.polygon);const t=this.state.map.layers.getLayerById("travelRing"),r=t.getOptions();r.visible||(r.visible=!0,t.setOptions(r));const n=this.state.map.popups.getPopups();if(n.length){const e=n.filter((e=>"line"==e.getOptions().content.dataset.type));e.length&&this.state.map.popups.remove(e)}}else o.getShapes().length&&o.clear(),e.renderPoly=!1;if(i.length&&i.length<this.props.settings.eztMapSettings.maxSelection)this.checkShapesAndHighlight(i,e,null);else if(i.length&&i.length>this.props.settings.eztMapSettings.maxSelection){const t="Max selection reached. Only selected top "+this.props.settings.eztMapSettings.maxSelection+" records. Create a travel ring of "+this.props.settings.eztMapSettings.maxSelection+" or less records";this.checkShapesAndHighlight(i.slice(0,this.props.settings.eztMapSettings.maxSelection),e,t)}else this.props.highlightShapesInTravelRing(e,i,null)},this.updateBtnControls=e=>{if(e.settings.eztMapSettings.mapDisplaySettingsBtn!=this.props.settings.eztMapSettings.mapDisplaySettingsBtn)if(this.props.settings.eztMapSettings.mapDisplaySettingsBtn){const e=new T.n({mapStyle:this.props.settings.eztMapSettings.mapStyle,isShowLabels:this.props.settings.eztMapSettings.mapDisplayLabels}),t=this.state.map.controls.getControls(),r=[];for(let n=0;n<t.length;n++){const i=t[n];3==n&&r.push(e),r.push(i)}this.state.map.controls.remove(t),this.state.map.controls.add(r,{position:i.ControlPosition.TopRight})}else{const e=this.state.map.controls.getControls().find((e=>e.id&&"mapSettingsControl"==e.id));e&&this.state.map.controls.remove(e)}const t=this.state.map.controls.getControls().find((e=>e.id&&"drillControl"==e.id));if(this.props.drillableRoles.eztTerritoryData&&this.props.drillableRoles.eztTerritoryData.length)if(t)t.updateDrillable(this.props.drillableRoles);else{const e=new _.V({pbiHost:this.props.pbiHost,drillableRoles:this.props.drillableRoles}),t=this.state.map.controls.getControls(),r=[];for(let n=0;n<t.length;n++){const i=t[n];4==n&&r.push(e),r.push(i)}this.state.map.controls.remove(t),this.state.map.controls.add(r,{position:i.ControlPosition.TopRight})}else t&&this.state.map.controls.remove(t);const r=e.settings.eztTerritoriesOptions.territoryOpacity,n=this.props.settings.eztTerritoriesOptions.territoryOpacity,o=e.settings.eztPointOptions.pointOpacity,a=this.props.settings.eztPointOptions.pointOpacity;r==n&&o==a||this.state.map.controls.getControls().find((e=>e.id&&"eraseControl"==e.id)).updateResources(this.props)},this.distanceLineAction=e=>{const t=I.atlas||I.window.atlas;this.state.secondaryDatasource.add(e.feature);const r=this.state.map.layers.getLayerById("distanceLine"),n=r.getOptions();n.visible||(n.visible=!0,r.setOptions(n)),this.props.settings.eztMapSettings.mapZoom&&this.state.map.setCamera({bounds:e.boundingBox,type:this.props.settings.eztMapSettings.mapZoomAnimationType,padding:60});const i=new t.Popup({closeButton:!1}),o=(0,g.uF)(e.id,e.props,this.state.secondaryDatasource,this.state.map,this.props.settings.eztCallouts);i.setOptions({content:o,fillColor:this.props.settings.eztCallouts.background,close:!1,position:e.center});const a=i.getPopupContainer();(0,g.cJ)(a,this.props.settings.eztCallouts),i.open(this.state.map),this.props.closeTravelRingModal()},this.checkShapesAndHighlight=(e,t,r)=>{const n=this.props.selectionManager.getSelectionIds();if(e.every((e=>n.some((t=>t.includes(e.selectionId))))))this.props.highlightShapesInTravelRing(t,e,r);else{const n=e.map((e=>e.selectionId));this.props.selectionManager.select(n).then((n=>{this.props.highlightShapesInTravelRing(t,e,r)}))}}}componentDidMount(){const e=I.atlas||I.window.atlas;let t=this.props.azureKey;(0,u.us)(this.props.viewPort,null);const r=new e.Map("eztMap",{renderWorldCopies:this.props.settings.eztMapSettings.mapWrap,minzoom:1,center:[-95,37],language:"en-US",authOptions:{authType:e.AuthenticationType.subscriptionKey,subscriptionKey:t},dragRotateInteraction:!1,showLogo:!1,autoResize:!0,showFeedbackLink:!1,style:this.props.settings.eztMapSettings.mapStyle,progressiveLoading:!0,showLabels:this.props.settings.eztMapSettings.mapDisplayLabels,touchRotate:!1});r.events.add("error",(e=>{401===e.error.status&&this.props.mapErrorHandler("Invalid Azure Maps key. Please check your key and refresh visual.")})),r.events.add("ready",(()=>C(this,void 0,void 0,(function*(){const t=new e.control.ZoomControl({zoomDelta:1,style:e.ControlStyle.light}),n=new e.control.DrawingToolbar({buttons:["draw-polygon","draw-circle","draw-rectangle"],position:"top-right",style:"light",numColumns:3,visible:!1}),i=[t,new S.F({drawingToolbar:n})];if(this.props.settings.eztMapSettings.mapDisplaySettingsBtn){const e=new T.n({mapStyle:this.props.settings.eztMapSettings.mapStyle,isShowLabels:this.props.settings.eztMapSettings.mapDisplayLabels});i.push(e)}if(this.props.drillableRoles.eztTerritoryData.length){const e=new _.V({pbiHost:this.props.pbiHost,drillableRoles:this.props.drillableRoles});i.push(e)}const s=new w.O;i.push(s),r.controls.add(i,{position:e.ControlPosition.TopRight});const l=new e.drawing.DrawingManager(r,{toolbar:n});let m=null;this.props.settings.eztMapSettings.layerType===d.RG.points&&(!this.props.settings.eztPointOptions.clusterPoints||this.props.settings.eztPointOptions.clusterPieChart||this.props.settings.eztPointOptions.clusterLatLon||(m={cluster:!0,clusterRadius:this.props.settings.eztPointOptions.clusterRadius,clusterMaxZoom:this.props.settings.eztPointOptions.clusterMaxZoom}));const y=new e.source.DataSource("EztPrimaryDatasource",m),f=new e.source.DataSource("EztSecondaryDatasource"),g=new e.source.DataSource("EztSymbolDatasource"),b=new e.source.DataSource("LeaderLineDatasource");let v,M=null;r.sources.add([y,f,g,b]);let x=[];const I=(0,c.YN)(this.props.mapLayerDefs);let L=0,Z=null,E=null,z=null;const G=[],P=(0,p.DW)(f),A=(0,p.t_)(f),R=(0,p.XK)(b);if(this.props.viewModel.layerType===d.RG.territories){Z=(0,p.A2)(y,I);const e=(0,p.wx)(y,I,this.props.settings);E=(0,p.Cf)(y,this.props.settings.eztPointOptions.expandCalloutByDefault),x.push(P,Z,R,e,E,A),r.events.add("mousemove",Z,(e=>(0,u.Sg)(e,r,y,this.props.toolTip,this.props.pbiHost,l))),r.events.add("mouseleave",Z,(e=>{this.props.toolTip.hide(),"idle"===l.getOptions().mode&&(r.getCanvas().style.cursor="grab")})),r.events.add("contextmenu",(e=>{let t=null;if(e.shapes[0].dataSource&&"EztPrimaryDatasource"===e.shapes[0].dataSource.getId()){const r=(0,c.EU)(e.shapes[0],y);t=r.selectionId,k=r.name}const r=document.getElementsByClassName("eztMapContainer")[0],n=Number(r.dataset.powerbiScale);let i=e.pixel;1!=n&&(i=[i[0]*n,i[1]*n]),this.props.selectionManager.showContextMenu(t||{},{x:i[0],y:i[1]})})),r.events.add("mousemove",E,(e=>{(0,u.Sg)(e,r,y,this.props.toolTip,this.props.pbiHost,l)})),r.events.add("mouseleave",E,(e=>{this.props.toolTip.hide(!0),"idle"===l.getOptions().mode&&(r.getCanvas().style.cursor="grab")})),r.events.add("click",E,(e=>{if("idle"===l.getOptions().mode){let t=!1;e.originalEvent.ctrlKey&&(t=!0);const n=(0,c.D9)(e);if(this.props.settings.eztPointOptions.travelRingOnClick&&((0,u.so)(n,this.props,l,r,y,!1,this.props.settings.eztCallouts),this.props.distanceLine.openModal)){const t=Object.assign({},this.props.distanceLine),r=e.map.popups.getPopups();this.props.openDistLineModal(t.targetId,t.targetPos,r)}let i=(0,c.EU)(e.shapes[0],y);(0,u.Or)(i,this.props.selectionManager,y,k,t,this.props.settings,d.RG.points,E,this.props.viewModel.isHighlighted),k=i.name}})),G.push(Z,e,E),this.props.viewModel.levelType===d.RG.territories?this.props.terrGeometry&&(v=(0,c.ed)(this.props.viewModel.dataPoints,this.props.settings,this.props.viewModel.hierarchyType,this.props.terrGeometry),y.add(v.geoJson)):this.props.viewModel.levelType===d.RG.points&&(v=(0,c.$_)(this.props.viewModel.dataPoints,!1,this.props.settings,[],this.props.selectionManager.hasSelection()),y.add(v.geoJson))}else if(this.props.viewModel.layerType===d.RG.points){if(M=new e.source.DataSource,v=(0,c.$_)(this.props.viewModel.dataPoints,!1,this.props.settings,this.props.viewModel.uniqueVals,this.props.selectionManager.hasSelection()),this.props.configState.relatedTerrFieldsSet&&this.props.terrGeometry){let e=(0,c.nu)(this.props.viewModel.relatedDataSource.dataPoints,this.props.settings,this.props.terrGeometry,this.props.viewModel.relatedDataSource.hierarchyType);M.add(e)}if("bubble"!=this.props.settings.eztPointOptions.pointSymbolType){const e=this.props.settings.eztPointOptions.pointSymbolType;try{let t;if(this.props.classifyRange){if(t=this.props.classifyRange.map((e=>{const t=e.gradient,n=e.symbolId,i=e.symbolType;return r.imageSprite.createFromTemplate(n,i,t,"black")})),"range"==this.props.settings.eztClassification.eztClassifyMode&&"custom"===this.props.settings.eztClassification.eztClassifyBreakType){const e=this.props.settings.eztPointOptions.pointSymbolType,n=r.imageSprite.createFromTemplate("fall-back-icon",e,"black","black");t.push(n)}yield Promise.all(t)}else{const t=this.props.settings.eztPointOptions.fill,n=e+"-"+t;yield r.imageSprite.createFromTemplate(n,e,t,"black")}E=(0,p.uH)(y,this.props.settings)}catch(e){console.log("EZT Power BI Custom Visual Error: Post to image sprite failed!",e),this.props.mapErrorHandler("Point symbols failed to load, please try another 'Symbol type' selection!")}}"bubble"===this.props.settings.eztPointOptions.pointSymbolType&&(E=(0,p.SY)(y,I,this.props.settings)),this.props.settings.eztPointOptions.clusterPoints&&!this.props.settings.eztPointOptions.clusterPieChart?y.add(v.geoJson):this.props.settings.eztPointOptions.clusterPoints||y.add(v.geoJson),r.sources.add(M);const t=(0,p.A2)(M,I),n=(0,p.wx)(M,I,this.props.settings);if(x.push(P,t,n,R,E,A),r.events.add("click",E,(e=>{if("idle"===l.getOptions().mode){const t=(0,c.D9)(e);if(this.props.settings.eztPointOptions.travelRingOnClick&&((0,u.so)(t,this.props,l,r,y,!1,this.props.settings.eztCallouts),this.props.distanceLine.openModal)){const t=Object.assign({},this.props.distanceLine),r=e.map.popups.getPopups();this.props.openDistLineModal(t.targetId,t.targetPos,r)}let n=!1;e.originalEvent.ctrlKey&&(n=!0),(0,u.aX)(t,this.props.selectionManager,y,n,this.state.terrLayerDatasource,this.props.settings,E,this.props.viewModel.isHighlighted)}})),r.events.add("mousemove",E,(e=>{(0,u.Sg)(e,r,y,this.props.toolTip,this.props.pbiHost,l)})),r.events.add("mouseleave",E,(e=>{this.props.toolTip.hide(!0),"idle"===l.getOptions().mode&&(r.getCanvas().style.cursor="grab")})),r.events.add("contextmenu",(e=>{let t=null;if(e.shapes[0].dataSource&&"EztPrimaryDatasource"===e.shapes[0].dataSource.getId()){const r=e.shapes[0];t=(0,c.EU)(r,y).selectionId}const r=document.getElementsByClassName("eztMapContainer")[0],n=Number(r.dataset.powerbiScale);let i=e.pixel;1!=n&&(i=[i[0]*n,i[1]*n]),this.props.selectionManager.showContextMenu(t||{},{x:i[0],y:i[1]})})),this.props.settings.eztPointOptions.clusterPoints)if(this.props.settings.eztPointOptions.clusterPieChart||this.props.settings.eztPointOptions.clusterLatLon){if(this.props.settings.eztPointOptions.clusterPieChart){z=new o.A({radius:this.props.settings.eztPointOptions.clusterRadius,maxZoom:this.props.settings.eztPointOptions.clusterMaxZoom}),z.load(v.geoJson.features);const t="bubble"==this.props.settings.eztPointOptions.pointSymbolType?this.props.settings.eztPointOptions.pointBorderColor:"#000000";(0,c.T6)(r,z,e,y,M,this.props.toolTip,this.props.columnMetadata.nameColName,this.props.columnMetadata.aggregatedColName,this.props.columnMetadata.aggregatedisNumeric,l,this.props.openTravelRingModal,this.props.openDistLineModal,this.props.settings,t,this.props.viewModel.valueFormatter1,this.props.viewModel.format,this.props.settings.eztClassification.applyLegendDataLabels,this.props.settings.eztClassification.legendDataLabelsPrecision,this.props.selectionManager,this.props.mapErrorHandler,this.props.classifyRange,this.props.viewModel.isHighlighted),r.events.add("moveend",(()=>C(this,void 0,void 0,(function*(){(0,c.T6)(r,z,e,y,M,this.props.toolTip,this.props.columnMetadata.nameColName,this.props.columnMetadata.aggregatedColName,this.props.columnMetadata.aggregatedisNumeric,l,this.props.openTravelRingModal,this.props.openDistLineModal,this.props.settings,t,this.props.viewModel.valueFormatter1,this.props.viewModel.format,this.props.settings.eztClassification.applyLegendDataLabels,this.props.settings.eztClassification.legendDataLabelsPrecision,this.props.selectionManager,this.props.mapErrorHandler,this.props.classifyRange,this.props.viewModel.isHighlighted),this.props.toolTip.isVisible&&this.props.toolTip.hide(!0)}))))}else if(this.props.settings.eztPointOptions.clusterLatLon){const t="bubble"==this.props.settings.eztPointOptions.pointSymbolType?this.props.settings.eztPointOptions.pointBorderColor:"#000000";(0,c.H5)(r,e,this.props.viewModel.uniqueVals,this.props.settings.eztPointOptions.pointOpacity,t,this.props.viewModel.valueFormatter2,this.props.toolTip,this.props.settings,l,this.props.openTravelRingModal,this.props.openDistLineModal,this.props.mapErrorHandler)}}else{const e=(0,p.ot)(y,this.props.settings),t=(0,p.t0)(y);x.push(e),x.push(t),r.events.add("click",e,(e=>C(this,void 0,void 0,(function*(){const t=e.shapes[0];let n=!1;e.originalEvent.ctrlKey&&(n=!0);const i=yield y.getClusterLeaves(Number(t.id),1/0,0);if((0,u.aX)(i,this.props.selectionManager,y,n,this.state.terrLayerDatasource,this.props.settings,E,this.props.viewModel.isHighlighted),this.props.settings.eztPointOptions.travelRingOnClick&&"idle"===l.getOptions().mode){if(t.properties.point_count>10)return void this.props.mapErrorHandler("To display popups, zoom in to a cluster that contains 10 or fewer points.");const e=yield y.getClusterLeaves(Number(t.id),1/0,0);(0,u.Us)(t.id,e,this.props.openTravelRingModal,l,r,this.props.openDistLineModal,this.props.settings.eztCallouts)}}))))}}x=(0,p.zC)(this.props.mapLayerDefs,x),r.layers.add(x,"labels"),L=setInterval((()=>{(0,u.Ne)(r)}),3e5),r.events.add("drawingstarted",l,(()=>{this.props.startDrawingTool()})),r.events.add("drawingcomplete",l,(e=>{(0,h.r)(r,e,l,this.props.viewModel.levelType,y,this.props.selectionManager,this.props.settings,M,z,this.props.mapErrorHandler)})),r.events.add("click",(e=>(0,u.hF)(e,r,this.props,l,y,M))),64==this.props.pbiHost.hostEnv&&r.events.add("moveend",(e=>{this.props.toolTip.isVisible()&&this.props.toolTip.hide()}));const D=this.props.refLayers;if(D&&(D.pointRefLayers.layers.length||D.territoryRefLayers.layers.length)){const t=new e.source.DataSource("EZT-Ref-Datasource");if(r.sources.add(t),D.pointRefLayers.layers.length){const e=yield(0,c.O2)(D,r,this.props.mapErrorHandler);t.add(e)}let n=[];D.territoryRefLayers.layers.length&&(n=(0,c.Y$)(D,this.props.mapErrorHandler),t.add(n));const i=D.pointRefLayers.layers.length,o=D.territoryRefLayers.layers,s=o.length;let h=null,m=null;const f=r.layers.getLayerById(N.clusterPoint),g=this.props.settings.eztMapSettings.layerType===d.RG.points?N.pointsLayerId:N.territoriesLayerId;if(s){h=(0,p.UB)(t),m=(0,p.KP)(t);const i=this.props.settings.eztRefLayers,a=new e.source.DataSource("EZT-Ref-Symbol-Datasource");if(r.sources.add(a),o.find((e=>e.hasLabels))){(0,c.gX)(n,a);const e=[(0,p.vy)(a,i),h,m];r.layers.add(e,g)}else{const e=[h,m];r.layers.add(e,g)}}let b=null;i&&(b=(0,p.N2)(t),f?r.layers.add(b,N.clusterPoint):r.layers.add(b)),h&&(r.events.add("mouseover",h,(()=>{"idle"===l.getOptions().mode&&(r.getCanvas().style.cursor="pointer")})),r.events.add("mouseleave",h,(()=>{"idle"===l.getOptions().mode&&(r.getCanvas().style.cursor="grab")}))),b&&(r.events.add("click",b,(e=>{if("idle"===l.getOptions().mode){if(!this.props.settings.eztPointOptions.travelRingOnClick)return;this.props.pbiHost.tooltipService.hide({isTouchEvent:!1,immediately:!0});const t=(0,c.D9)(e);if((0,u.so)(t,this.props,l,r,y,!0,this.props.settings.eztCallouts),this.props.distanceLine.openModal){const t=Object.assign({},this.props.distanceLine),r=e.map.popups.getPopups();this.props.openDistLineModal(t.targetId,t.targetPos,r)}}})),r.events.add("mouseover",b,(()=>{"idle"===l.getOptions().mode&&(r.getCanvas().style.cursor="pointer")})),r.events.add("mousemove",b,(e=>{if(this.props.toolTip.isVisible()){if(this.props.toolTip.getShapeType()==a.IO.clusterShape||this.props.toolTip.getShapeType()==a.IO.clusterCircle)return;this.props.toolTip.hide()}(0,c.LB)(e,this.props.toolTip)}),0,!1,this.props.toolTip),r.events.add("mouseleave",b,(e=>{this.props.toolTip.hide(),"idle"===l.getOptions().mode&&(r.getCanvas().style.cursor="grab")})))}if(this.props.viewModel.layerType===d.RG.territories&&r.events.add("click",Z,(e=>{if("idle"===l.getOptions().mode){if(this.props.refLayers&&this.props.refLayers.territoryRefLayers.layers.length&&r.popups.getPopups().find((e=>"isRefLayer"in e&&e.isRefLayer)))return;let t=(0,c.EU)(e.shapes[0],y),n=!1;e.originalEvent.ctrlKey&&(n=!0),(0,u.Or)(t,this.props.selectionManager,this.state.datasource,k,n,this.props.settings,d.RG.territories,Z,this.props.viewModel.isHighlighted),k=t.name}})),v&&v.geoJson&&!this.props.cameraBounds.length){let t=e.data.BoundingBox.fromData(v.geoJson);const n=this.props.settings.eztMapSettings.mapZoomPadding;let i;if(i=this.props.showLegend?{top:n,right:n,bottom:n,left:n+224}:n,t&&!isNaN(t[0])&&!isNaN(t[1])&&!isNaN(t[2])&&!isNaN(t[3]))try{r.setCamera({bounds:t,type:this.props.settings.eztMapSettings.mapZoomAnimationType,duration:this.props.settings.eztMapSettings.mapZoomDuration,padding:i})}catch(e){console.log("EZT Power BI Custom Visual Error: Could not compute bounding box")}}this.props.travelRing&&this.props.travelRing.queryName&&(f.getShapes().length&&f.clear(),f.add(this.props.travelRing.polygon)),s.addResources(y,f,this.props,l,M),this.setState({map:r,datasource:y,terrLayerDatasource:M,secondaryDatasource:f,symbolLayerDatasource:g,shapeLayers:G,drawingManager:l,drawingToolbar:n,polygonLayer:Z,lineLayer:null,pointLayer:E,weatherInterval:L,superCluster:z})}))))}componentDidUpdate(e){if(!this.state.map)return;if(this.props.updateMapScale&&(e.viewPort.scale==this.props.viewPort.scale&&e.viewPort.height==this.props.viewPort.height&&e.viewPort.width==this.props.viewPort.width||(0,u.us)(this.props.viewPort,this.state.map)),this.props.updateCheck.shapes){const t=this.props.viewModel;if(this.props.settings.eztMapSettings.mapZoom&&this.props.travelRing&&this.props.travelRing.queryName&&this.props.travelRing.id!==e.travelRing.id){const e=this.props.settings.eztMapSettings.mapZoomPadding;let t;return t=this.props.showLegend?{top:e,right:e,bottom:e,left:e+224}:e,void this.state.map.setCamera({bounds:this.props.travelRing.boundingBox,type:this.props.settings.eztMapSettings.mapZoomAnimationType,duration:this.props.settings.eztMapSettings.mapZoomDuration,padding:t})}if(this.props.viewModel.layerType===d.RG.territories){if(this.props.viewModel.levelType===d.RG.territories){if(this.state.map.layers.getLayerById(N.pointsLayerId)){const e=this.state.pointLayer.getOptions();e.visible&&(e.visible=!1,this.state.pointLayer.setOptions(e))}(0,c.zG)(t.dataPoints,this.state.datasource,this.state.map,t.mapZoom,this.props.settings,this.props.viewModel.hierarchyType,this.props.terrGeometry,this.props.showLegend,this.state.polygonLayer);const e=this.state.polygonLayer.getOptions();e.visible||(e.visible=!0,this.state.polygonLayer.setOptions(e))}else if(this.props.viewModel.levelType===d.RG.points){const t=this.state.datasource.getShapes(),r=[];for(let e=0;e<t.length;e++){const n=t[e],i=n.getProperties();"Polygon"!==n.getType()&&"MultiPolygon"!==n.getType()||(k&&i.name==k?(i.fillOpacity=0,n.setProperties(i),r.push(n)):k||(i.fillOpacity=0,n.setProperties(i),r.push(n)))}const n=(0,c.$_)(this.props.viewModel.dataPoints,this.props.viewModel.mapZoom,this.props.settings,[],this.props.selectionManager.hasSelection());if(this.props.viewModel.mapZoom&&e.viewModel.levelType===d.RG.territories&&(0,u.Tr)(this.state.map,n,this.props.settings,this.props.viewModel,this.props.showLegend),this.state.datasource.setShapes(n.geoJson),this.state.datasource.add(r),this.state.map.layers.getLayerById(N.territoriesLayerId)&&this.state.polygonLayer){const e=this.state.polygonLayer.getOptions();e.visible=!1,this.state.polygonLayer.setOptions(e)}}else 0===this.props.viewModel.dataPoints.length&&this.state.datasource.clear();k=""}else if(this.props.viewModel.layerType===d.RG.points){const r=(0,c.$_)(t.dataPoints,this.props.viewModel.mapZoom,this.props.settings,this.props.viewModel.uniqueVals,this.props.selectionManager.hasSelection());if(this.props.viewModel.mapZoom&&(0,u.W1)(r,this.props.settings,this.state.pointLayer,this.state.map,this.props.viewModel,this.props.showLegend),this.props.configState.relatedTerrFieldsSet&&this.props.terrGeometry?((0,c.AG)(t.relatedDataSource,this.state.terrLayerDatasource,this.props.settings),(0,c.NW)(t.relatedDataSource,this.state.terrLayerDatasource,this.props.settings,this.props.terrGeometry,this.props.viewModel.relatedDataSource.hierarchyType)):this.state.terrLayerDatasource.getShapes().length&&this.state.terrLayerDatasource.clear(),this.props.settings.eztPointOptions.clusterPoints&&!this.props.settings.eztPointOptions.clusterPieChart){if(this.state.datasource.setShapes(r.geoJson),!this.props.settings.eztPointOptions.clusterLatLon&&(e.settings.eztPointOptions.fill!=this.props.settings.eztPointOptions.fill||e.settings.eztPointOptions.pointOpacity!=this.props.settings.eztPointOptions.pointOpacity)){const e=this.state.map.layers.getLayerById(N.clusterPoint),t=e.getOptions();t.color=this.props.settings.eztPointOptions.fill;const r=this.props.settings.eztPointOptions.pointOpacity;t.opacity=r,e.setOptions(t)}}else this.props.settings.eztPointOptions.clusterPoints||this.state.datasource.setShapes(r.geoJson);if("bubble"!==this.props.settings.eztPointOptions.pointSymbolType){const t=e.settings.eztPointOptions.pointSymbolType;"bubble"===t&&this.state.map.layers.remove(N.pointsLayerId);const r=e.settings.eztPointOptions.pointSymbolType,n=this.props.settings.eztPointOptions.pointSymbolType,i=e.settings.eztPointOptions.pointRenderMinZoom,o=this.props.settings.eztPointOptions.pointRenderMinZoom,a=this.props.settings.eztPointOptions.fill,s=e.settings.eztPointOptions.fill,l=e.settings.eztClassification.eztClassify,c=this.props.settings.eztClassification.eztClassify,u=e.settings.eztClassification.eztColorGrad,d=this.props.settings.eztClassification.eztColorGrad,h=e.settings.eztClassification.eztClassifyOn,m=this.props.settings.eztClassification.eztClassifyOn,y=e.settings.eztClassification.eztColorGradExact,f=this.props.settings.eztClassification.eztColorGradExact,g=this.props.settings.eztClassification.eztClassifyMode,b=e.settings.eztClassification.eztClassifyMode,v=this.props.settings.eztClassification.eztClassifyBreakType,M=e.settings.eztClassification.eztClassifyBreakType,S=e.columnMetadata.aggregatedColName,w=this.props.columnMetadata.aggregatedColName;let _=!1;if("bubble"!==n&&m&&"range"===g&&"custom"===v&&l===c&&(_=(0,x.Qr)(e.classifyRange,this.props.classifyRange)),"bubble"===t||r!==n||i!==o||s!==a||l!==c||u!==d||M!==v||h!==m||g!==b||_||"custom"===this.props.settings.eztClassification.eztColorGradExact&&JSON.stringify(this.props.settings.eztClassification)!==JSON.stringify(e.settings.eztClassification)||y!==f||m&&S!==w){const e=this.state.map.imageSprite.getImageIds();e&&e.forEach((e=>{e.startsWith("ezt-refLayer-")||this.state.map.imageSprite.remove(e)}));const t=this.props.settings.eztPointOptions.pointSymbolType;try{let e;if(this.props.classifyRange){if(e=this.props.classifyRange.map((e=>{const t=e.gradient,r=e.symbolId,n=e.symbolType;return this.state.map.imageSprite.createFromTemplate(r,n,t,"black")})),"range"==this.props.settings.eztClassification.eztClassifyMode&&"custom"===this.props.settings.eztClassification.eztClassifyBreakType){const t=this.props.settings.eztPointOptions.pointSymbolType,r=this.state.map.imageSprite.createFromTemplate("fall-back-icon",t,"black","black");e.push(r)}Promise.all(e).then((e=>{const t=this.state.map.layers.getLayers().find((e=>e.getId()===N.pointsLayerId));if(t){const e=t.getOptions();e.iconOptions.image=["get","entityType"],e.minZoom=o,t.setOptions(e)}else{const e=(0,p.uH)(this.state.datasource,this.props.settings);this.state.map.layers.add(e)}})).catch((e=>{console.log("EZT Power BI Custom Visual Error: Post to image sprite failed!",e),this.props.mapErrorHandler("Point symbols failed to load, please try another 'Symbol type' selection!")}))}else{const e=this.props.settings.eztPointOptions.fill,r=t+"-"+e;this.state.map.imageSprite.createFromTemplate(r,t,e,"black").then((e=>{const t=this.state.map.layers.getLayers().find((e=>e.getId()===N.pointsLayerId));if(t){const e=t.getOptions();e.iconOptions.image=["get","entityType"],e.minZoom=o,t.setOptions(e)}else{const e=(0,p.uH)(this.state.datasource,this.props.settings);this.state.map.layers.add(e)}})).catch((e=>{console.log("EZT Power BI Custom Visual Error: Post to image sprite failed!",e),this.props.mapErrorHandler("Point symbols failed to load, please try another 'Symbol type' selection!")}))}}catch(e){console.log("EZT Power BI Custom Visual Error: Post to image sprite failed!",e),this.props.mapErrorHandler("Point symbols failed to load, please try another 'Symbol type' selection!")}}}else if("bubble"!==e.settings.eztPointOptions.pointSymbolType){const e=(0,p.SY)(this.state.datasource,!0,this.props.settings);this.state.map.layers.remove(N.pointsLayerId),this.state.map.layers.add(e)}if(this.props.settings.eztPointOptions.clusterPoints&&this.props.settings.eztPointOptions.clusterPieChart&&!this.props.settings.eztPointOptions.clusterLatLon){this.state.superCluster.load(r.geoJson.features),this.state.map.markers.clear();const e="bubble"==this.props.settings.eztPointOptions.pointSymbolType?this.props.settings.eztPointOptions.pointBorderColor:"#000000";(0,c.T6)(this.state.map,this.state.superCluster,i,this.state.datasource,this.state.terrLayerDatasource,this.props.toolTip,this.props.columnMetadata.nameColName,this.props.columnMetadata.aggregatedColName,this.props.columnMetadata.aggregatedisNumeric,this.state.drawingManager,this.props.openTravelRingModal,this.props.openDistLineModal,this.props.settings,e,this.props.viewModel.valueFormatter1,this.props.viewModel.format,this.props.settings.eztClassification.applyLegendDataLabels,this.props.settings.eztClassification.legendDataLabelsPrecision,this.props.selectionManager,this.props.mapErrorHandler,this.props.classifyRange,this.props.viewModel.isHighlighted)}else if(this.props.settings.eztPointOptions.clusterPoints&&this.props.settings.eztPointOptions.clusterLatLon){const e="bubble"==this.props.settings.eztPointOptions.pointSymbolType?this.props.settings.eztPointOptions.pointBorderColor:"#000000";(0,c.H5)(this.state.map,i,this.props.viewModel.uniqueVals,this.props.settings.eztPointOptions.pointOpacity,e,this.props.viewModel.valueFormatter1,this.props.toolTip,this.props.settings,this.state.drawingManager,this.props.openTravelRingModal,this.props.openDistLineModal,this.props.mapErrorHandler)}}const r=e.settings.eztPointOptions.expandCalloutByDefault,n=this.props.settings.eztPointOptions.expandCalloutByDefault;if(r!=n){const e=this.state.map.layers.getLayerById(N.pointsLayerId);e&&(e.metadata.calloutExpanded=n)}}e.settings.eztTerritoriesOptions.territoryBorderWidth==this.props.settings.eztTerritoriesOptions.territoryBorderWidth&&e.settings.eztTerritoriesOptions.territoryBorderColor==this.props.settings.eztTerritoriesOptions.territoryBorderColor&&e.settings.eztTerritoriesOptions.territoryColors==this.props.settings.eztTerritoriesOptions.territoryColors||(0,c.ce)(this.state.map,this.props.settings),(0,c.do)(this.props.mapLayerDefs,this.state.map,this.state.weatherInterval,this.props.settings);const t=this.props.viewModel.layerType===d.RG.territories?this.state.datasource:this.state.terrLayerDatasource,r=e.settings.eztTerritoriesOptions.territoryLabels;(0,c.J_)(this.state.map,t,this.state.symbolLayerDatasource,this.props.mapLayerDefs,this.props.settings,r,this.props.columnMetadata);const n=this.props.settings.eztRefLayers;if(this.props.refLayers&&(this.props.refLayers.territoryRefLayers.layers.length||this.props.refLayers.pointRefLayers.layers.length)){const t=e.settings.eztRefLayers;if(n.fill!=t.fill||n.size!=t.size||n.maxZoom!=t.maxZoom||n.minZoom!=t.minZoom||n.labelsOn!=t.labelsOn){const e=this.state.map.layers.getLayerById(N.terrRefSymbolLayer);if(e){const t=e.getOptions();t.textOptions.size=n.size,t.textOptions.color=n.fill,t.maxZoom=n.maxZoom,t.minZoom=n.minZoom,t.visible=n.labelsOn,e.setOptions(t)}}}if((this.props.viewModel.layerType===d.RG.points||this.props.viewModel.levelType===d.RG.points)&&"bubble"===this.props.settings.eztPointOptions.pointSymbolType){const e=this.state.map.layers.getLayerById(N.pointsLayerId);if(e){const t=e.getOptions();t.strokeColor===this.props.settings.eztPointOptions.pointBorderColor&&t.strokeWidth===this.props.settings.eztPointOptions.pointBorderSize&&t.minZoom==this.props.settings.eztPointOptions.pointRenderMinZoom||(t.strokeColor=this.props.settings.eztPointOptions.pointBorderColor,t.strokeWidth=this.props.settings.eztPointOptions.pointBorderSize,t.minZoom=this.props.settings.eztPointOptions.pointRenderMinZoom,e.setOptions(t))}}if(e.settings.eztMapSettings.mapWrap==this.props.settings.eztMapSettings.mapWrap&&e.settings.eztMapSettings.mapStyle==this.props.settings.eztMapSettings.mapStyle&&e.settings.eztMapSettings.mapDisplayLabels==this.props.settings.eztMapSettings.mapDisplayLabels||this.state.map.setStyle({renderWorldCopies:this.props.settings.eztMapSettings.mapWrap,style:this.props.settings.eztMapSettings.mapStyle,showLabels:this.props.settings.eztMapSettings.mapDisplayLabels}),this.props.travelRing&&this.props.travelRing.queryName&&this.props.travelRing.renderPoly){const e=this.state.map.layers.getLayerById("travelRing"),t=e.getOptions();t.visible=this.props.travelRing.visible,e.setOptions(t)}this.updateBtnControls(e)}shouldComponentUpdate(e,t){let r=!1;return e.updateCheck.components&&(r=!0),!!r}render(){return this.props.viewPort,n.createElement(n.Fragment,null,n.createElement(s.A,{showLegend:this.props.openCloseLegend,azureKey:this.props.azureKey,addressSearch:this.searchAddressAction,pbiHost:this.props.pbiHost,settings:this.props.settings,map:this.state.map}),n.createElement("div",{id:"eztMap"},this.props.viewModel?n.createElement(l.A,{map:this.state.map,dataView:this.props.viewModel,columnMetadata:this.props.columnMetadata,doesShow:!!this.props.settings.eztMapSettings.displayLegendBtn&&this.props.showLegend,layerType:this.props.viewModel.layerType,toggleTerritorySection:this.props.toggleTerritorySection,classes:this.props.classifyRange,legendSectionsCollapse:this.props.legendSectionCollapse,relatedTerritoryLayer:this.props.viewModel.relatedDataSource,toggleLayerVisibility:this.props.toggleLayerVisibility,mapLayerDefs:this.props.mapLayerDefs,settings:this.props.settings,travelRing:this.props.travelRing,toggleTravelRingVisibility:this.props.toggleTravelRingVisibility,toggleRefLayerVisibility:this.props.toggleRefLayerVisibility,visualHeight:this.props.configState.visualHeight,getImageTemplate:i.getImageTemplate,refLayers:this.props.refLayers,valueFormatter1:this.props.viewModel.valueFormatter1,format:this.props.viewModel.format}):null,this.props.travelRing&&this.props.travelRing.openModal?n.createElement(y.A,{viewport:this.props.viewPort,azureKey:this.props.azureKey,pbiHost:this.props.pbiHost,travelRing:this.props.travelRing,travelRingAction:this.travelRingAction,travelRingCancel:this.props.closeTravelRingModal}):null,this.props.distanceLine&&this.props.distanceLine.openModal?n.createElement(f.A,{viewport:this.props.viewPort,azureKey:this.props.azureKey,pbiHost:this.props.pbiHost,distanceLine:this.props.distanceLine,distanceLineAction:this.distanceLineAction,travelRingCancel:this.props.closeTravelRingModal}):null))}}},41827:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n=r(96540),i=r(18498),o=r(56727),a=r(12558),s=r(97059),l=r(43894),c=r(32339),u=r(54976),d=r(56110),h=r(53038),p=r(79213),m=r(6377),y=r(89415);const f=(new Date).toTimeString().split(" ")[0].split(":");class g extends n.Component{constructor(){super(...arguments),this.state={startName:this.props.distanceLine.targetId,startPos:this.props.distanceLine.targetPos,endName:this.props.distanceLine.points[0].id,endPos:this.props.distanceLine.points[0].position,traffic:!1,leaveDate:(new Date).toISOString().split("T")[0],leaveTime:f[0]+":"+f[1],displayMoreOptions:!1,displayAvoidOptions:!1,avoidOptions:{borderCrossings:!1,carpools:!1,ferries:!1,motorways:!1,tollRoads:!1,unpavedRoads:!1},color:"#118DFF",opacity:8,width:8,id:"",loading:!1,errorMessage:null,dragPosY:8,dragPosX:null},this.draggingManager=new y.s(((e,t)=>{this.setState({dragPosX:e,dragPosY:t})})),this.modalRef=n.createRef(),this.handleMouseDown=e=>{this.draggingManager.handleMouseDown(e)},this.startLocationChange=(e,t)=>{const r=this.props.distanceLine.points;if(e===this.state.endName){let n=null,i="";for(let t=0;t<r.length;t++){const o=r[t];if(e!==o.id){i=o.id,n=o.position;break}}this.setState({endName:i,endPos:n,startName:e,startPos:t})}else this.setState({startName:e,startPos:t})},this.endLocationChange=(e,t)=>{const r=this.props.distanceLine.points;if(e===this.state.startName){let n=null,i="";for(let t=0;t<r.length;t++){const o=r[t];if(e!==o.id){i=o.id,n=o.position;break}}this.setState({endName:e,endPos:t,startName:i,startPos:n})}else this.setState({endName:e,endPos:t})},this.trafficChange=e=>this.setState({traffic:e.target.checked}),this.avoidOptionsChange=()=>this.setState((e=>({displayAvoidOptions:!e.displayAvoidOptions}))),this.leaveDateChange=e=>this.setState({leaveDate:e.target.value}),this.leaveTimeChange=e=>this.setState({leaveTime:e.target.value}),this.colorChange=e=>this.setState({color:e.target.value}),this.opacityChange=e=>{this.setState({opacity:Number(e.target.value)})},this.widthChange=e=>{this.setState({width:Number(e.target.value)})},this.moreOptionsChange=()=>this.setState((e=>({displayMoreOptions:!e.displayMoreOptions}))),this.handleAvoidOptions=e=>{this.setState((t=>{const r=Object.assign({},t.avoidOptions),n=e.target.value,i=e.target.checked;return r[n]=i,{avoidOptions:r}}))},this.guidGenerator=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),this.getDistLine=()=>{this.setState({loading:!0,errorMessage:null}),(0,u.hK)(this.state,this.props.azureKey,((e,t,r)=>{e?this.props.distanceLineAction(t):this.setState({loading:!1,errorMessage:r.message})}))},this.cancelDistanceLine=()=>this.props.travelRingCancel()}componentDidMount(){this.draggingManager.setElement(this.modalRef.current),this.setState({dragPosX:(0,p.P)(this.props.viewport)})}componentDidUpdate(e){"scale"in this.props.viewport&&"scale"in e.viewport&&this.props.viewport.scale!==e.viewport.scale&&this.setState({dragPosX:(0,p.P)(this.props.viewport)})}componentWillUnmount(){this.draggingManager.cleanup()}render(){var e;const t={justifyContent:"left",border:a.L.borderRadiusNone,padding:"0px",background:a.L.colorTransparentBackground,color:s.o.colorNeutralForeground1},r=(0,p.Z)(this.props.viewport);return n.createElement(o.q,{theme:s.o},n.createElement("div",{className:"modalContainer",ref:this.modalRef,style:{position:"absolute",top:`${this.state.dragPosY}px`,left:`${null!==(e=this.state.dragPosX)&&void 0!==e?e:(0,p.P)(this.props.viewport)}px`},onMouseDown:this.handleMouseDown},n.createElement(m.w,{title:"Create distance line"}),n.createElement("div",{className:"modalBody",style:{maxHeight:`${r}px`}},n.createElement("div",{className:"modalBodyInner"},n.createElement("div",{className:"modalRow"},n.createElement(d.$,{id:"startLocation",label:"Start location",value:this.state.startName,options:this.props.distanceLine.points,onChange:this.startLocationChange})),n.createElement("div",{className:"modalRow"},n.createElement(d.$,{id:"endLocation",label:"End location",value:this.state.endName,options:this.props.distanceLine.points,onChange:this.endLocationChange})),n.createElement("div",{className:"modalRow"},n.createElement(h.$,{style:t,"aria-expanded":"false","aria-label":"More options",icon:this.state.displayMoreOptions?n.createElement(l.LKJ,{color:s.o.colorNeutralForeground1}):n.createElement(l.yuG,{color:s.o.colorNeutralForeground1}),iconPosition:"after",onClick:this.moreOptionsChange},"Options")),this.state.displayMoreOptions?n.createElement(n.Fragment,null,n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel"},"Traffic"),n.createElement("input",{type:"checkbox",className:"modalCheckBox",title:"Traffic",checked:this.state.traffic,onChange:this.trafficChange}))),this.state.traffic?n.createElement(n.Fragment,null,n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel"},"Leave at"),n.createElement("input",{className:"input-date",type:"date",title:"Leave at date",min:(new Date).toISOString().split("T")[0],value:this.state.leaveDate,onChange:this.leaveDateChange})),n.createElement("div",{className:"modalRow input-time-row"},n.createElement("input",{className:"input-time",type:"time",step:"300",title:"Leave at time",value:this.state.leaveTime,onChange:this.leaveTimeChange})))):null,n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel"},"Line color"),n.createElement("input",{type:"color",className:"modalColorPicker",title:"Distance line color",value:this.state.color,onChange:this.colorChange}))),n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel line-Settings"},"Line opacity"),n.createElement(c.A,{title:"Distance line opacity",id:"distance-line-opacity",min:0,max:10,value:this.state.opacity,onChange:this.opacityChange}))),n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel line-Settings"},"Line width"),n.createElement(c.A,{title:"Distance line opacity",id:"distance-line-width",min:0,max:10,value:this.state.width,onChange:this.widthChange}))),n.createElement("div",{className:"modalRow"},n.createElement(h.$,{style:t,"aria-expanded":"false","aria-label":"Toggle avoid options",icon:this.state.displayAvoidOptions?n.createElement(l.LKJ,{color:s.o.colorNeutralForeground1}):n.createElement(l.yuG,{color:s.o.colorNeutralForeground1}),iconPosition:"after",onClick:this.avoidOptionsChange},"Avoid")),this.state.displayAvoidOptions?n.createElement(n.Fragment,null,n.createElement("div",{className:"modalOptionsRowAvoid"},n.createElement("div",{className:"modalOptionsCol1"},n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"borderCrossings",alt:"Border crossings",title:"Border crossings",checked:this.state.avoidOptions.borderCrossings,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Border crossings")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"carpools",alt:"Carpools",title:"Carpools",checked:this.state.avoidOptions.carpools,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Carpools")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"ferries",alt:"Ferries",title:"Ferries",checked:this.state.avoidOptions.ferries,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Ferries"))),n.createElement("div",{className:"modalOptionsCol2"},n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"motorways",alt:"Motorways",title:"Motorways",checked:this.state.avoidOptions.motorways,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Motorways")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"tollRoads",alt:"Toll roads",title:"Toll roads",checked:this.state.avoidOptions.tollRoads,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Toll roads")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"unpavedRoads",alt:"Unpaved roads",title:"Unpaved roads",checked:this.state.avoidOptions.unpavedRoads,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Unpaved roads"))))):null):null,n.createElement("div",{className:"modal-buttons"},n.createElement(h.$,{title:"Search",onClick:this.getDistLine,appearance:"primary"},"Search"),n.createElement(h.$,{title:"Cancel",onClick:this.cancelDistanceLine,appearance:"secondary"},"Cancel")),this.state.loading?n.createElement("div",{className:"modalLogging"},"Calculating distance..."):null,!this.state.loading&&this.state.errorMessage?n.createElement("div",{className:"modalLogging error-text"},"Request failed. Please try again."):null))))}}const b=g},56110:(e,t,r)=>{"use strict";r.d(t,{$:()=>u});var n=r(96540),i=r(18498),o=r(53038),a=r(43894),s=r(30419),l=r(56727),c=r(97059);const u=({id:e,label:t,value:r,options:u,onChange:d})=>{const[h,p]=(0,n.useState)(!1),m=(0,n.useRef)(null);(0,n.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const y={color:c.o.colorNeutralForeground1,gridTemplateColumns:t?"40% 60%":"100%"},f={border:`1px solid ${c.o.colorNeutralStroke1}`,borderBottom:`1px solid ${c.o.colorNeutralForeground1}`};return n.createElement(l.q,{theme:c.o},n.createElement("div",{className:"dropdown-root",style:y,ref:m},t&&n.createElement(i.J,{htmlFor:e},t),n.createElement("div",{className:"dropdown-container"},n.createElement(o.$,{id:e,style:f,onClick:()=>p(!h),className:"dropdown-trigger",icon:n.createElement(a.yuG,{color:c.o.colorNeutralForeground1}),iconPosition:"after"},r?n.createElement("div",{className:"dropdown-option-value",title:r},r):"Select"),h&&n.createElement("div",{className:"dropdown-listbox",role:"listbox",tabIndex:0},u.map((e=>{const t={"aria-selected":r===e.id?"true":"false"};return n.createElement("div",{className:"dropdown-option-container",key:e.id},n.createElement("div",Object.assign({key:e.id,title:e.id,role:"option"},t,{"aria-label":e.id,className:"dropdown-option",onClick:()=>{d(e.id,e.position),p(!1)}}),n.createElement("div",{className:"dropdown-option-content"},n.createElement(s.N5_,{color:c.o.colorNeutralForeground1,className:r===e.id?"check-icon":"check-icon-hidden"}),n.createElement("span",null,e.id))))}))))))}},6377:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(96540),i=r(97059),o=r(12558);const a=({title:e,subTitle:t})=>n.createElement("div",{className:"modalHeader"},n.createElement("h4",{className:"modalTitle",style:{color:i.o.colorNeutralForeground1,fontSize:o.L.fontSizeBase400,fontWeight:o.L.fontWeightSemibold}},e,t&&": ",t&&n.createElement("span",{style:{color:i.o.colorNeutralForeground2,fontSize:o.L.fontSizeBase300}},t)))},89415:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});class n{constructor(e){this.isDragging=!1,this.dragStartOffset={x:0,y:0},this.element=null,this.onPositionChange=e,this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}setElement(e){this.element=e}getTransformScale(){if(!this.element)return{scaleX:1,scaleY:1};const e=this.element.getBoundingClientRect(),{offsetWidth:t,offsetHeight:r}=this.element;return{scaleX:0===t?1:e.width/t,scaleY:0===r?1:e.height/r}}handleMouseDown(e){const t=e.target,r=t.tagName.toLowerCase();if(!this.element||"input"===r||"button"===r||"select"===r||t.closest("button"))return;this.isDragging=!0;const n=this.element.getBoundingClientRect(),{scaleX:i,scaleY:o}=this.getTransformScale();this.dragStartOffset={x:(e.clientX-n.left)/i,y:(e.clientY-n.top)/o},document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),e.preventDefault()}handleMouseMove(e){var t;if(!this.isDragging||!this.element||!this.element.offsetParent)return;const{scaleX:r,scaleY:n}=this.getTransformScale(),i=this.element.offsetParent.getBoundingClientRect(),o=e.clientX-this.dragStartOffset.x*r,a=e.clientY-this.dragStartOffset.y*n,s=(o-i.left)/r,l=(a-i.top)/n,c=this.keepInViewport(s,l);null===(t=this.onPositionChange)||void 0===t||t.call(this,c.x,c.y)}handleMouseUp(){this.isDragging=!1,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}cleanup(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}keepInViewport(e,t){if(!this.element||!this.element.offsetParent)return{x:e,y:t};const r=this.element.offsetWidth,n=this.element.offsetHeight,i=this.element.offsetParent.clientWidth-r,o=this.element.offsetParent.clientHeight-n;return{x:Math.max(0,Math.min(e,i)),y:Math.max(0,Math.min(t,o))}}}},79213:(e,t,r)=>{"use strict";r.d(t,{P:()=>i,Z:()=>n});const n=e=>e.height*(e.scale||1)-38-8-60,i=e=>e.width*(e.scale||1)-334-50},47703:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var n=r(96540),i=r(18498),o=r(56727),a=r(12558),s=r(97059),l=r(43894),c=r(32339),u=r(56110),d=r(54976),h=r(95281),p=r(53038),m=r(79213),y=r(6377),f=r(89415);const g=(new Date).toTimeString().split(" ")[0].split(":");class b extends n.Component{constructor(){super(...arguments),this.state={travelType:"Time",travelTime:15,travelTraffic:!1,travelLeaveDate:(new Date).toISOString().split("T")[0],travelLeaveTime:g[0]+":"+g[1],displayMoreOptions:!1,displayAvoidOptions:!1,avoidOptions:{borderCrossings:!1,carpools:!1,ferries:!1,motorways:!1,tollRoads:!1,unpavedRoads:!1},travelDistanceMetric:"Miles",travelDistanceNumber:30,displayTravelRing:!0,travelRingColor:"#e66465",travelRingOpacity:4,loading:!1,errorMessage:null,dragPosX:null,dragPosY:8},this.draggingManager=new f.s(((e,t)=>{this.setState({dragPosX:e,dragPosY:t})})),this.modalRef=n.createRef(),this.handleMouseDown=e=>{this.draggingManager.handleMouseDown(e)},this.handleTravelTypeChange=e=>this.setState({travelType:e}),this.handleTravelTimeChange=e=>this.setState({travelTime:e.target.value}),this.handleTravelTraffic=e=>this.setState({travelTraffic:e.target.checked}),this.handleDisplayAvoidOptions=()=>this.setState((e=>({displayAvoidOptions:!e.displayAvoidOptions}))),this.travelDistanceMetric=e=>this.setState({travelDistanceMetric:e}),this.travelDistanceNumberChange=e=>this.setState({travelDistanceNumber:e.target.value}),this.travelLeaveDateChange=e=>this.setState({travelLeaveDate:e.target.value}),this.travelLeaveTimeChange=e=>this.setState({travelLeaveTime:e.target.value}),this.travelRingColorChange=e=>this.setState({travelRingColor:e.target.value}),this.travelRingOpacityChange=e=>{this.setState({travelRingOpacity:Number(e.target.value)})},this.displayTravelRingChange=e=>this.setState({displayTravelRing:e.target.checked}),this.handleMoreOptions=()=>this.setState((e=>({displayMoreOptions:!e.displayMoreOptions}))),this.handleAvoidOptions=e=>{this.setState((t=>{const r=Object.assign({},t.avoidOptions),n=e.target.value,i=e.target.checked;return r[n]=i,{avoidOptions:r}}))},this.guidGenerator=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),this.getTravelRing=()=>{this.setState({loading:!0,errorMessage:null}),(0,d.z1)(this.props.travelRing.lat.toString(),this.props.travelRing.lon.toString(),this.state,this.props.azureKey,((e,t,r)=>{if(e){let e=null;e="Time"===this.state.travelType?this.state.travelTime+" minutes":this.state.travelDistanceNumber+" "+this.state.travelDistanceMetric;const r=this.state.travelRingColor,n=this.state.travelRingOpacity,i=(0,h.p5)(e,r,n,t),o={id:this.guidGenerator(),openModal:!1,lat:0,lon:0,polygon:i,color:r,opacity:n,boundingBox:i.properties.boundingBox,visible:!0,queryName:e,origin:this.props.travelRing.origin,renderPoly:!0};this.props.travelRingAction(o,this.state.displayTravelRing)}else this.setState({loading:!1,errorMessage:r.message})}))},this.cancelTravelRing=()=>this.props.travelRingCancel()}componentDidMount(){this.draggingManager.setElement(this.modalRef.current),this.setState({dragPosX:(0,m.P)(this.props.viewport)})}componentDidUpdate(e){"scale"in this.props.viewport&&"scale"in e.viewport&&this.props.viewport.scale!==e.viewport.scale&&this.setState({dragPosX:(0,m.P)(this.props.viewport)})}componentWillUnmount(){this.draggingManager.cleanup()}render(){var e;const t={justifyContent:"left",border:a.L.borderRadiusNone,padding:"0px",background:a.L.colorTransparentBackground,color:s.o.colorNeutralForeground1};let r=null;r="Time"===this.state.travelType?n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner travel-time-row"},n.createElement(i.J,{className:"modalLabel travel-time-label"},"Travel time"),n.createElement("input",{type:"number",id:"travel-time-minutes",className:"modal-Input",value:this.state.travelTime,onChange:this.handleTravelTimeChange,min:"1",max:"1440",title:"Travel time (minutes)"}),n.createElement("div",{className:"travel-time-min"},"Minutes"))):n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner distance-Row"},n.createElement(i.J,{className:"modalLabel distance-label"},"Distance"),n.createElement("div",{className:"distance-input-container"},n.createElement("input",{type:"number",className:"modal-Input",id:"travel-time-Distance",value:this.state.travelDistanceNumber,onChange:this.travelDistanceNumberChange,min:"1",max:"1000",alt:"Distance",title:"Distance"}),n.createElement("div",{className:"distance-metric-container"},n.createElement(u.$,{id:"distanceMetric",label:"",value:this.state.travelDistanceMetric,options:[{id:"Miles"},{id:"Kilometers"},{id:"Yards"},{id:"Meters"}],onChange:this.travelDistanceMetric})))));let d=null,h=null;"Time"===this.state.travelType&&(d=n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel"},"Traffic"),n.createElement("input",{type:"checkbox",className:"modalCheckBox",title:"Traffic",checked:this.state.travelTraffic,onChange:this.handleTravelTraffic}))),this.state.travelTraffic&&(h=n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel"},"Leave at"),n.createElement("input",{className:"input-date",type:"date",title:"Leave at date",min:(new Date).toISOString().split("T")[0],value:this.state.travelLeaveDate,onChange:this.travelLeaveDateChange})),n.createElement("div",{className:"modalRow input-time-row"},n.createElement("input",{className:"input-time",type:"time",step:"300",title:"Leave at time",value:this.state.travelLeaveTime,onChange:this.travelLeaveTimeChange})))));let f=n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel"},"Display travel ring"),n.createElement("input",{type:"checkbox",className:"modalCheckBox",title:"Check if you want to display travel ring. Uncheck if you only want to filter data within travel ring",checked:this.state.displayTravelRing,onChange:this.displayTravelRingChange}))),g=null;this.state.displayTravelRing&&(g=n.createElement(n.Fragment,null,n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel"},"Color"),n.createElement("input",{type:"color",className:"modalColorPicker",title:"Travel ring color",value:this.state.travelRingColor,onChange:this.travelRingColorChange}))),n.createElement("div",{className:"modalRow"},n.createElement("div",{className:"modalRowInner"},n.createElement(i.J,{className:"modalLabel line-Settings"},"Opacity"),n.createElement(c.A,{title:"Travel ring opacity",id:"travel-time-opacity",min:0,max:10,value:this.state.travelRingOpacity,onChange:this.travelRingOpacityChange})))));let b=n.createElement("div",{className:"modalRow"},n.createElement(p.$,{style:t,"aria-expanded":"false","aria-label":"Toggle avoid options",icon:this.state.displayAvoidOptions?n.createElement(l.LKJ,{color:s.o.colorNeutralForeground1}):n.createElement(l.yuG,{color:s.o.colorNeutralForeground1}),iconPosition:"after",onClick:this.handleDisplayAvoidOptions},"Avoid")),v=null;this.state.displayAvoidOptions&&(v=n.createElement("div",{className:"modalOptionsRowAvoid"},n.createElement("div",{className:"modalOptionsCol1"},n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"borderCrossings",alt:"Border crossings",title:"Border crossings",checked:this.state.avoidOptions.borderCrossings,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Border crossings")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"carpools",alt:"Carpools",title:"Carpools",checked:this.state.avoidOptions.carpools,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Carpools")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"ferries",alt:"Ferries",title:"Ferries",checked:this.state.avoidOptions.ferries,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Ferries"))),n.createElement("div",{className:"modalOptionsCol2"},n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"motorways",alt:"Motorways",title:"Motorways",checked:this.state.avoidOptions.motorways,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Motorways")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"tollRoads",alt:"Toll roads",title:"Toll roads",checked:this.state.avoidOptions.tollRoads,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Toll roads")),n.createElement("div",{className:"avoidOptionsInner"},n.createElement("input",{type:"checkbox",className:"modalCheckBox",value:"unpavedRoads",alt:"Unpaved roads",title:"Unpaved roads",checked:this.state.avoidOptions.unpavedRoads,onChange:this.handleAvoidOptions}),n.createElement(i.J,null,"Unpaved roads")))));const M=(0,m.Z)(this.props.viewport);return n.createElement(o.q,{theme:s.o},n.createElement("div",{className:"modalContainer",ref:this.modalRef,style:{position:"absolute",top:`${this.state.dragPosY}px`,left:`${null!==(e=this.state.dragPosX)&&void 0!==e?e:(0,m.P)(this.props.viewport)}px`},onMouseDown:this.handleMouseDown},n.createElement(y.w,{title:"Travel Ring",subTitle:this.props.travelRing.origin}),n.createElement("div",{className:"modalBody",style:{maxHeight:`${M}px`}},n.createElement("div",{className:"modalBodyInner"},n.createElement("div",{className:"modalRow"},n.createElement(u.$,{id:"Travel Type",label:"Travel type",value:this.state.travelType,options:[{id:"Distance"},{id:"Time"}],onChange:this.handleTravelTypeChange})),r,n.createElement("div",{className:"modalRow"},n.createElement(p.$,{style:t,"aria-expanded":"false","aria-label":"More options",icon:this.state.displayMoreOptions?n.createElement(l.LKJ,{color:s.o.colorNeutralForeground1}):n.createElement(l.yuG,{color:s.o.colorNeutralForeground1}),iconPosition:"after",onClick:this.handleMoreOptions},"Options")),this.state.displayMoreOptions?n.createElement(n.Fragment,null,d,h,f,g,b,v):null,n.createElement("div",{className:"modal-buttons"},n.createElement(p.$,{title:"Search",onClick:this.getTravelRing,appearance:"primary"},"Search"),n.createElement(p.$,{title:"Cancel",onClick:this.cancelTravelRing,appearance:"secondary"},"Cancel")),this.state.loading?n.createElement("div",{className:"modalLogging"},"Creating ring..."):null,!this.state.loading&&this.state.errorMessage?n.createElement("div",{className:"modalLogging error-text"},"Request failed. Please try again."):null))))}}const v=b},80676:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(96540),i=r(74692),o=r(37764),a=r(9108),s=r(16826),l=null;class c extends n.Component{constructor(){var e,t;super(...arguments),this.state={input:"",autoComplete:[],error:!1},this.onInput=e=>{e.target.value.length>3?this.setState({input:e.target.value,error:!1},(()=>this.debounceGeocode())):e.target.value.length?this.setState({input:e.target.value,error:!1}):this.setState({input:e.target.value,error:!1,autoComplete:[]})},this.geocodeAddress=()=>{this.state.error&&this.setState({error:!1});const e=encodeURIComponent(this.state.input.trim());l&&4!==l.readyState&&l.abort();const t="https://atlas.microsoft.com/search/address/json?typeahead=true&subscription-key="+this.props.azureKey+"&api-version=1&query="+e+"&view=Auto";let r=t;if(this.props.map)try{const t=this.props.map.getCamera();if(t&&t.center){const n=t.center[0],i=t.center[1];0!=i&&0!=n&&(r="https://atlas.microsoft.com/search/address/json?typeahead=true&subscription-key="+this.props.azureKey+"&api-version=1&lat="+i+"&lon="+n+"&query="+e+"&view=Auto")}}catch(e){r=t}l=(0,i.ajax)({url:r,dataType:"json"}).done((e=>{if(e.results&&e.results[0]&&e.results[0].position){const r=[],i=e.results;for(var t=0;t<i.length;t++)r.push(n.createElement(s.A,{key:i[t].id,name:i[t].address.freeformAddress,lat:i[t].position.lat,lon:i[t].position.lon,onSelectAutoComplete:this.onSelectedAutoComplete}));this.setState({error:!1,autoComplete:r})}else this.setState({error:!0})})).fail(((e,t,r)=>{"abort"!==t&&"abort"!==r?console.log("EZT Power BI Visual - Geocode Call Canceled! "+e.status+" "+r):(console.log("EZT Power BI Visual - Geocode Call Failed! "+e.status+" "+r),this.setState({error:!0}))}))},this.enterPressed=e=>{"Enter"===e.key&&this.geocodeAddress()},this.onSelectedAutoComplete=(e,t,r,n)=>{this.setState({input:"",autoComplete:[]},(()=>this.props.addressSearch(e,t,r,n)))},this.debounceGeocode=(e=this.geocodeAddress,function(){var r=this,n=arguments;clearTimeout(t),t=setTimeout((function(){t=null,e.apply(r,n)}),850)})}render(){const e=this.props.settings.eztMapSettings.displayLegendBtn,t=this.props.settings.eztMapSettings.displaySearchBar;let r="InputBox",i="Enter an address to geocode.";this.state.error&&(r="InputBoxError",i="Could not geocode address. Please try again.");let s="AutoComplete";e||(s+=" ACNoLegendBtn",r+=" IBNoLegend");let l=null;return t&&(l=n.createElement(n.Fragment,null,n.createElement("input",{className:r,type:"text",placeholder:"Search Address",onChange:this.onInput,value:this.state.input,title:i,onKeyDown:e=>this.enterPressed(e)}),n.createElement("button",{id:"InputButton",type:"submit",onClick:()=>this.geocodeAddress()},n.createElement("img",{className:"searchImg",src:a.A.inputButton,alt:"Search Button"})))),n.createElement("header",{className:"EztHeader"},n.createElement("div",{className:"EztHeaderDiv"},e?n.createElement(o.A,{showMenu:this.props.showLegend}):null,l,n.createElement("div",{className:"EztHeaderLogo"},n.createElement("img",{className:"EztLogo",src:a.A.eztImage,alt:"EztLogo",onClick:()=>{this.props.pbiHost.launchUrl("https://www.easyterritory.com/configure-easyterritory-power-bi-visual")}}))),this.state.autoComplete.length&&t?n.createElement("ul",{className:s},this.state.autoComplete):null)}}const u=c},9108:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={eztImage:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI3NnB0IiBoZWlnaHQ9IjI0cHQiIHZpZXdCb3g9IjAgMCA3NiAyNCIgdmVyc2lvbj0iMS4xIj48ZyBpZD0ic3VyZmFjZTEiPjxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYigxMDAlLDEwMCUsMTAwJSk7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEuNTc0ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2U6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSAzLjEwMTQ2IDE1LjE5ODU2OCBMIDkuNjAxNzE3IDQuODk5MDg5IEwgMjQuMDAyMDA1IDIuODk4NDM4IEwgMTUuODAwMDYyIDEzLjQ5ODY5OCBMIDIwLjkwMDU0NSAyNS4xMDE1NjIgWiBNIDMuMTAxNDYgMTUuMTk4NTY4ICIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NTM5MzMsMCwwLDAuODU3MTQzLDAsMCkiLz48cGF0aCBzdHlsZT0iZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMTAwJSwxMDAlLDEwMCUpO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDoxLjU3NDg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlOnJnYig3OC40MzEzNzMlLDc4LjQzMTM3MyUsNzguNDMxMzczJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIGQ9Ik0gMTEuODk4MDc4IDQuODk5MDg5IEMgMTEuODk4MDc4IDMuNjg2ODQ5IDEwLjg2ODgzMiAyLjY5NzkxNyA5LjYwMTcxNyAyLjY5NzkxNyBDIDguMzMwMDI3IDIuNjk3OTE3IDcuMzAwNzgxIDMuNjg2ODQ5IDcuMzAwNzgxIDQuODk5MDg5IEMgNy4zMDA3ODEgNi4xMTU4ODUgOC4zMzAwMjcgNy4xMDAyNiA5LjYwMTcxNyA3LjEwMDI2IEMgMTAuODY4ODMyIDcuMTAwMjYgMTEuODk4MDc4IDYuMTE1ODg1IDExLjg5ODA3OCA0Ljg5OTA4OSBaIE0gMTEuODk4MDc4IDQuODk5MDg5ICIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NTM5MzMsMCwwLDAuODU3MTQzLDAsMCkiLz48cGF0aCBzdHlsZT0iZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMTAwJSwxMDAlLDEwMCUpO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDoxLjU3NDg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlOnJnYig3OC40MzEzNzMlLDc4LjQzMTM3MyUsNzguNDMxMzczJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIGQ9Ik0gMjYuMjk4MzY2IDIuODk4NDM4IEMgMjYuMjk4MzY2IDEuNjg2MTk4IDI1LjI2OTEyIDAuNzAxODIzIDI0LjAwMjAwNSAwLjcwMTgyMyBDIDIyLjczMDMxNSAwLjcwMTgyMyAyMS43MDEwNjkgMS42ODYxOTggMjEuNzAxMDY5IDIuODk4NDM4IEMgMjEuNzAxMDY5IDQuMTE1MjM0IDIyLjczMDMxNSA1LjA5OTYwOSAyNC4wMDIwMDUgNS4wOTk2MDkgQyAyNS4yNjkxMiA1LjA5OTYwOSAyNi4yOTgzNjYgNC4xMTUyMzQgMjYuMjk4MzY2IDIuODk4NDM4IFogTSAyNi4yOTgzNjYgMi44OTg0MzggIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg1MzkzMywwLDAsMC44NTcxNDMsMCwwKSIvPjxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYigxMDAlLDEwMCUsMTAwJSk7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEuNTc0ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2U6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSA1LjM5NzgyMSAxNS4xOTg1NjggQyA1LjM5NzgyMSAxMy45ODYzMjggNC4zNjg1NzUgMTMuMDAxOTUzIDMuMTAxNDYgMTMuMDAxOTUzIEMgMS44Mjk3NyAxMy4wMDE5NTMgMC44MDA1MjQgMTMuOTg2MzI4IDAuODAwNTI0IDE1LjE5ODU2OCBDIDAuODAwNTI0IDE2LjQxNTM2NSAxLjgyOTc3IDE3LjM5OTc0IDMuMTAxNDYgMTcuMzk5NzQgQyA0LjM2ODU3NSAxNy4zOTk3NCA1LjM5NzgyMSAxNi40MTUzNjUgNS4zOTc4MjEgMTUuMTk4NTY4IFogTSA1LjM5NzgyMSAxNS4xOTg1NjggIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg1MzkzMywwLDAsMC44NTcxNDMsMCwwKSIvPjxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYigxMDAlLDEwMCUsMTAwJSk7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEuNTc0ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2U6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSAyMC43OTk5MDcgMjIuOTAwMzkxIEMgMjEuODk3NzY5IDIzLjAwMDY1MSAyMi43OTg5MzEgMjMuODk4NDM4IDIyLjc5ODkzMSAyNS4wMDEzMDIgQyAyMi43OTg5MzEgMjYuMTk5ODcgMjEuODAxNzA2IDI3LjE5NzkxNyAyMC41OTg2MzMgMjcuMTk3OTE3IEMgMTkuNDAwMTM0IDI3LjE5NzkxNyAxOC4zOTgzMzUgMjYuMTk5ODcgMTguMzk4MzM1IDI1LjAwMTMwMiBDIDE4LjQ5ODk3MiAyMy44OTg0MzggMTkuNTAwNzcxIDIyLjkwMDM5MSAyMC43OTk5MDcgMjIuOTAwMzkxIFogTSAyMC43OTk5MDcgMjIuOTAwMzkxICIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NTM5MzMsMCwwLDAuODU3MTQzLDAsMCkiLz48cGF0aCBzdHlsZT0iZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMTAwJSwxMDAlLDEwMCUpO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDoxLjU3NDg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlOnJnYig3OC40MzEzNzMlLDc4LjQzMTM3MyUsNzguNDMxMzczJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIGQ9Ik0gMTguMjAxNjM0IDEzLjU5ODk1OCBDIDE4LjIwMTYzNCAxMi4zODY3MTkgMTcuMTcyMzg5IDExLjM5Nzc4NiAxNS45MDA2OTkgMTEuMzk3Nzg2IEMgMTQuNjI5MDA5IDExLjM5Nzc4NiAxMy41OTk3NjQgMTIuMzg2NzE5IDEzLjU5OTc2NCAxMy41OTg5NTggQyAxMy41OTk3NjQgMTQuODE1NzU1IDE0LjYyOTAwOSAxNS44MDAxMyAxNS45MDA2OTkgMTUuODAwMTMgQyAxNy4xNzIzODkgMTUuODAwMTMgMTguMjAxNjM0IDE0LjgxNTc1NSAxOC4yMDE2MzQgMTMuNTk4OTU4IFogTSAxOC4yMDE2MzQgMTMuNTk4OTU4ICIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NTM5MzMsMCwwLDAuODU3MTQzLDAsMCkiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gMjIuNDU3MDMxIDE0LjIzMDQ2OSBMIDE4LjYxNzE4OCAxNC4yMzA0NjkgTCAxOC42MTcxODggOS4zNDM3NSBMIDIyLjM3MTA5NCA5LjM0Mzc1IEwgMjIuMzcxMDk0IDEwLjAyNzM0NCBMIDE5LjgxMjUgMTAuMDI3MzQ0IEwgMTkuODEyNSAxMS4zOTg0MzggTCAyMi4yMDMxMjUgMTEuMzk4NDM4IEwgMjIuMjAzMTI1IDEyLjA4NTkzOCBMIDE5LjgxMjUgMTIuMDg1OTM4IEwgMTkuODEyNSAxMy41NDI5NjkgTCAyMi41NDI5NjkgMTMuNTQyOTY5IEwgMjIuNTQyOTY5IDE0LjIzMDQ2OSBaIE0gMjIuNDU3MDMxIDE0LjIzMDQ2OSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gMjcuMzI0MjE5IDE0LjIzMDQ2OSBMIDI2LjIxNDg0NCAxNC4yMzA0NjkgTCAyNi4yMTQ4NDQgMTMuNzE0ODQ0IEMgMjUuODc1IDE0LjE0NDUzMSAyNS4zNjMyODEgMTQuMzEyNSAyNC43NjU2MjUgMTQuMzEyNSBDIDI0LjI1IDE0LjMxMjUgMjMuOTEwMTU2IDE0LjIzMDQ2OSAyMy42NTIzNDQgMTQuMDU4NTk0IEMgMjMuMzk4NDM4IDEzLjg4NjcxOSAyMy4yMjY1NjIgMTMuNjI4OTA2IDIzLjIyNjU2MiAxMy4yODUxNTYgQyAyMy4yMjY1NjIgMTIuNjAxNTYyIDIzLjczODI4MSAxMi4yNTc4MTIgMjQuODQ3NjU2IDEyLjE3MTg3NSBMIDI2LjMwMDc4MSAxMiBDIDI2LjMwMDc4MSAxMS40ODQzNzUgMjUuOTYwOTM4IDExLjIzMDQ2OSAyNS4yNzczNDQgMTEuMjMwNDY5IEMgMjQuNjc5Njg4IDExLjIzMDQ2OSAyNC4xNjc5NjkgMTEuMzk4NDM4IDIzLjY1MjM0NCAxMS42NTYyNSBMIDIzLjY1MjM0NCAxMC45NzI2NTYgQyAyNC4xNjc5NjkgMTAuNzE0ODQ0IDI0Ljc2NTYyNSAxMC42Mjg5MDYgMjUuNDQ1MzEyIDEwLjYyODkwNiBDIDI2LjY0NDUzMSAxMC42Mjg5MDYgMjcuMzI0MjE5IDExLjA1ODU5NCAyNy4zMjQyMTkgMTEuOTE0MDYyIFogTSAyNi4zMDA3ODEgMTIuNTE1NjI1IEwgMjUuMjc3MzQ0IDEyLjYwMTU2MiBDIDI0LjkzMzU5NCAxMi42MDE1NjIgMjQuNjc5Njg4IDEyLjY4NzUgMjQuNTA3ODEyIDEyLjc2OTUzMSBDIDI0LjMzNTkzOCAxMi44NTU0NjkgMjQuMjUgMTIuOTQxNDA2IDI0LjI1IDEzLjE5OTIxOSBDIDI0LjI1IDEzLjM3MTA5NCAyNC4zMzU5MzggMTMuNDU3MDMxIDI0LjUwNzgxMiAxMy41NDI5NjkgQyAyNC42Nzk2ODggMTMuNjI4OTA2IDI0Ljg0NzY1NiAxMy43MTQ4NDQgMjUuMTA1NDY5IDEzLjcxNDg0NCBDIDI1LjQ0NTMxMiAxMy43MTQ4NDQgMjUuNzAzMTI1IDEzLjYyODkwNiAyNS45NjA5MzggMTMuNDU3MDMxIEMgMjYuMjE0ODQ0IDEzLjI4NTE1NiAyNi4zMDA3ODEgMTMuMTEzMjgxIDI2LjMwMDc4MSAxMi43Njk1MzEgWiBNIDI2LjMwMDc4MSAxMi41MTU2MjUgIi8+PHBhdGggc3R5bGU9IiBzdHJva2U6bm9uZTtmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYig3OC40MzEzNzMlLDc4LjQzMTM3MyUsNzguNDMxMzczJSk7ZmlsbC1vcGFjaXR5OjE7IiBkPSJNIDI4LjQzNzUgMTQuMTQ0NTMxIEwgMjguNDM3NSAxMy4zNzEwOTQgQyAyOC44NjMyODEgMTMuNjI4OTA2IDI5LjI4OTA2MiAxMy43MTQ4NDQgMjkuODAwNzgxIDEzLjcxNDg0NCBDIDMwLjQ4NDM3NSAxMy43MTQ4NDQgMzAuODI4MTI1IDEzLjU0Mjk2OSAzMC44MjgxMjUgMTMuMjg1MTU2IEMgMzAuODI4MTI1IDEzLjE5OTIxOSAzMC44MjgxMjUgMTMuMTEzMjgxIDMwLjc0MjE4OCAxMy4xMTMyODEgQyAzMC42NTYyNSAxMy4wMjczNDQgMzAuNTcwMzEyIDEzLjAyNzM0NCAzMC40ODQzNzUgMTIuOTQxNDA2IEMgMzAuMzk4NDM4IDEyLjk0MTQwNiAzMC4zMTY0MDYgMTIuODU1NDY5IDMwLjE0NDUzMSAxMi44NTU0NjkgQyAyOS45NzI2NTYgMTIuODU1NDY5IDI5Ljg4NjcxOSAxMi43Njk1MzEgMjkuNzE4NzUgMTIuNzY5NTMxIEMgMjkuNTQ2ODc1IDEyLjY4NzUgMjkuMzc1IDEyLjY4NzUgMjkuMjAzMTI1IDEyLjYwMTU2MiBDIDI5LjAzNTE1NiAxMi41MTU2MjUgMjguOTQ5MjE5IDEyLjQyOTY4OCAyOC43NzczNDQgMTIuNDI5Njg4IEMgMjguNjkxNDA2IDEyLjM0Mzc1IDI4LjYwNTQ2OSAxMi4yNTc4MTIgMjguNTE5NTMxIDEyLjE3MTg3NSBDIDI4LjQzNzUgMTIuMDg1OTM4IDI4LjQzNzUgMTEuOTE0MDYyIDI4LjQzNzUgMTEuODI4MTI1IEMgMjguNDM3NSAxMS42NTYyNSAyOC41MTk1MzEgMTEuNDg0Mzc1IDI4LjYwNTQ2OSAxMS4zOTg0MzggQyAyOC42OTE0MDYgMTEuMjMwNDY5IDI4Ljg2MzI4MSAxMS4xNDQ1MzEgMjkuMDM1MTU2IDExLjA1ODU5NCBDIDI5LjIwMzEyNSAxMC45NzI2NTYgMjkuNDYwOTM4IDEwLjg4NjcxOSAyOS43MTg3NSAxMC44ODY3MTkgQyAyOS45NzI2NTYgMTAuODAwNzgxIDMwLjIzMDQ2OSAxMC44MDA3ODEgMzAuNDg0Mzc1IDEwLjgwMDc4MSBDIDMwLjkxNDA2MiAxMC44MDA3ODEgMzEuMzM5ODQ0IDEwLjgwMDc4MSAzMS42Nzk2ODggMTAuOTcyNjU2IEwgMzEuNjc5Njg4IDExLjY1NjI1IEMgMzEuMzM5ODQ0IDExLjQ4NDM3NSAzMC45MTQwNjIgMTEuMzk4NDM4IDMwLjQ4NDM3NSAxMS4zOTg0MzggQyAzMC4zMTY0MDYgMTEuMzk4NDM4IDMwLjIzMDQ2OSAxMS4zOTg0MzggMzAuMTQ0NTMxIDExLjM5ODQzOCBDIDMwLjA1ODU5NCAxMS4zOTg0MzggMjkuOTcyNjU2IDExLjQ4NDM3NSAyOS44ODY3MTkgMTEuNDg0Mzc1IEMgMjkuODAwNzgxIDExLjQ4NDM3NSAyOS43MTg3NSAxMS41NzAzMTIgMjkuNzE4NzUgMTEuNTcwMzEyIEMgMjkuNzE4NzUgMTEuNjU2MjUgMjkuNjMyODEyIDExLjY1NjI1IDI5LjYzMjgxMiAxMS43NDIxODggQyAyOS42MzI4MTIgMTEuODI4MTI1IDI5LjYzMjgxMiAxMS45MTQwNjIgMjkuNzE4NzUgMTEuOTE0MDYyIEMgMjkuODAwNzgxIDEyIDI5LjgwMDc4MSAxMiAyOS44ODY3MTkgMTIuMDg1OTM4IEMgMjkuOTcyNjU2IDEyLjA4NTkzOCAzMC4wNTg1OTQgMTIuMTcxODc1IDMwLjIzMDQ2OSAxMi4xNzE4NzUgQyAzMC4zMTY0MDYgMTIuMTcxODc1IDMwLjQ4NDM3NSAxMi4yNTc4MTIgMzAuNjU2MjUgMTIuMjU3ODEyIEMgMzAuODI4MTI1IDEyLjM0Mzc1IDMxLjA4MjAzMSAxMi4zNDM3NSAzMS4yNTM5MDYgMTIuNDI5Njg4IEMgMzEuNDI1NzgxIDEyLjUxNTYyNSAzMS41OTM3NSAxMi42MDE1NjIgMzEuNjc5Njg4IDEyLjY4NzUgQyAzMS43NjU2MjUgMTIuNzY5NTMxIDMxLjg1MTU2MiAxMi44NTU0NjkgMzEuOTM3NSAxMi45NDE0MDYgQyAzMi4wMjM0MzggMTMuMDI3MzQ0IDMyLjAyMzQzOCAxMy4xOTkyMTkgMzIuMDIzNDM4IDEzLjI4NTE1NiBDIDMyLjAyMzQzOCAxMy40NTcwMzEgMzEuOTM3NSAxMy42Mjg5MDYgMzEuODUxNTYyIDEzLjcxNDg0NCBDIDMxLjc2NTYyNSAxMy44ODY3MTkgMzEuNTkzNzUgMTMuOTcyNjU2IDMxLjQyNTc4MSAxNC4wNTg1OTQgQyAzMS4yNTM5MDYgMTQuMTQ0NTMxIDMwLjk5NjA5NCAxNC4yMzA0NjkgMzAuNzQyMTg4IDE0LjIzMDQ2OSBDIDMwLjQ4NDM3NSAxNC4yMzA0NjkgMzAuMjMwNDY5IDE0LjMxMjUgMjkuOTcyNjU2IDE0LjMxMjUgQyAyOS4yODkwNjIgMTQuMzEyNSAyOC43NzczNDQgMTQuMjMwNDY5IDI4LjQzNzUgMTQuMTQ0NTMxIFogTSAyOC40Mzc1IDE0LjE0NDUzMSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gMzcuMjMwNDY5IDEwLjgwMDc4MSBMIDM1LjAxMTcxOSAxNC43NDIxODggQyAzNC41ODU5MzggMTUuNDI5Njg4IDMzLjkwMjM0NCAxNS44NTU0NjkgMzMuMDQ2ODc1IDE1Ljg1NTQ2OSBDIDMyLjc4OTA2MiAxNS44NTU0NjkgMzIuNjIxMDk0IDE1Ljg1NTQ2OSAzMi40NDkyMTkgMTUuNzY5NTMxIEwgMzIuNDQ5MjE5IDE1LjA4NTkzOCBDIDMyLjYyMTA5NCAxNS4wODU5MzggMzIuNzg5MDYyIDE1LjE3MTg3NSAzMi45NjA5MzggMTUuMTcxODc1IEMgMzMuMzkwNjI1IDE1LjE3MTg3NSAzMy43MzA0NjkgMTUgMzMuOTAyMzQ0IDE0Ljc0MjE4OCBMIDM0LjI0MjE4OCAxNC4xNDQ1MzEgTCAzMi4yNzczNDQgMTAuNzE0ODQ0IEwgMzMuNDcyNjU2IDEwLjcxNDg0NCBMIDM0LjY2Nzk2OSAxMy4xOTkyMTkgQyAzNC42Njc5NjkgMTMuMTk5MjE5IDM0LjY2Nzk2OSAxMy4yODUxNTYgMzQuNzUzOTA2IDEzLjQ1NzAzMSBDIDM0Ljc1MzkwNiAxMy4zNzEwOTQgMzQuODM5ODQ0IDEzLjI4NTE1NiAzNC44Mzk4NDQgMTMuMTk5MjE5IEwgMzYuMDM1MTU2IDEwLjcxNDg0NCBMIDM3LjIzMDQ2OSAxMC43MTQ4NDQgWiBNIDM3LjIzMDQ2OSAxMC44MDA3ODEgIi8+PHBhdGggc3R5bGU9IiBzdHJva2U6bm9uZTtmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYig3OC40MzEzNzMlLDc4LjQzMTM3MyUsNzguNDMxMzczJSk7ZmlsbC1vcGFjaXR5OjE7IiBkPSJNIDQzLjIxMDkzOCAxMC4wMjczNDQgTCA0MS4yNDYwOTQgMTAuMDI3MzQ0IEwgNDEuMjQ2MDk0IDE0LjIzMDQ2OSBMIDQwLjEzNjcxOSAxNC4yMzA0NjkgTCA0MC4xMzY3MTkgMTAuMDI3MzQ0IEwgMzguMTcxODc1IDEwLjAyNzM0NCBMIDM4LjE3MTg3NSA5LjM0Mzc1IEwgNDMuMjkyOTY5IDkuMzQzNzUgTCA0My4yOTI5NjkgMTAuMDI3MzQ0IFogTSA0My4yMTA5MzggMTAuMDI3MzQ0ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoNzguNDMxMzczJSw3OC40MzEzNzMlLDc4LjQzMTM3MyUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA0Ny4zMDg1OTQgMTIuNjg3NSBMIDQzLjk3NjU2MiAxMi42ODc1IEMgNDMuOTc2NTYyIDEzLjAyNzM0NCA0NC4xNDg0MzggMTMuMjg1MTU2IDQ0LjQwNjI1IDEzLjQ1NzAzMSBDIDQ0LjY2MDE1NiAxMy42Mjg5MDYgNDUuMDg1OTM4IDEzLjcxNDg0NCA0NS41MTU2MjUgMTMuNzE0ODQ0IEMgNDYuMDI3MzQ0IDEzLjcxNDg0NCA0Ni41MzkwNjIgMTMuNjI4OTA2IDQ2Ljk2NDg0NCAxMy4zNzEwOTQgTCA0Ni45NjQ4NDQgMTMuOTcyNjU2IEMgNDYuNTM5MDYyIDE0LjE0NDUzMSA0NS45NDE0MDYgMTQuMjMwNDY5IDQ1LjE3MTg3NSAxNC4yMzA0NjkgQyA0NC40MDYyNSAxNC4yMzA0NjkgNDMuODkwNjI1IDE0LjA1ODU5NCA0My40NjQ4NDQgMTMuODAwNzgxIEMgNDMuMDM5MDYyIDEzLjQ1NzAzMSA0Mi44NjcxODggMTMuMDI3MzQ0IDQyLjg2NzE4OCAxMi41MTU2MjUgQyA0Mi44NjcxODggMTIgNDMuMTI1IDExLjU3MDMxMiA0My41NTA3ODEgMTEuMjMwNDY5IEMgNDMuOTc2NTYyIDEwLjg4NjcxOSA0NC41NzQyMTkgMTAuNzE0ODQ0IDQ1LjI1NzgxMiAxMC43MTQ4NDQgQyA0NS45NDE0MDYgMTAuNzE0ODQ0IDQ2LjQ1MzEyNSAxMC44ODY3MTkgNDYuNzk2ODc1IDExLjE0NDUzMSBDIDQ3LjEzNjcxOSAxMS40ODQzNzUgNDcuMzk0NTMxIDExLjkxNDA2MiA0Ny4zOTQ1MzEgMTIuNDI5Njg4IEwgNDcuMzk0NTMxIDEyLjY4NzUgWiBNIDQ2LjE5OTIxOSAxMi4xNzE4NzUgQyA0Ni4xOTkyMTkgMTEuOTE0MDYyIDQ2LjExMzI4MSAxMS42NTYyNSA0NS45NDE0MDYgMTEuNDg0Mzc1IEMgNDUuNzY5NTMxIDExLjMxMjUgNDUuNTE1NjI1IDExLjIzMDQ2OSA0NS4xNzE4NzUgMTEuMjMwNDY5IEMgNDQuODMyMDMxIDExLjIzMDQ2OSA0NC41NzQyMTkgMTEuMzEyNSA0NC4zMjAzMTIgMTEuNDg0Mzc1IEMgNDQuMDYyNSAxMS42NTYyNSA0My45NzY1NjIgMTEuODI4MTI1IDQzLjg5MDYyNSAxMi4xNzE4NzUgWiBNIDQ2LjE5OTIxOSAxMi4xNzE4NzUgIi8+PHBhdGggc3R5bGU9IiBzdHJva2U6bm9uZTtmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYig3OC40MzEzNzMlLDc4LjQzMTM3MyUsNzguNDMxMzczJSk7ZmlsbC1vcGFjaXR5OjE7IiBkPSJNIDUxLjIzNDM3NSAxMS40ODQzNzUgQyA1MS4wNjY0MDYgMTEuMzk4NDM4IDUwLjg5NDUzMSAxMS4zOTg0MzggNTAuNjM2NzE5IDExLjM5ODQzOCBDIDUwLjI5Njg3NSAxMS4zOTg0MzggNTAuMDM5MDYyIDExLjQ4NDM3NSA0OS43ODUxNTYgMTEuNzQyMTg4IEMgNDkuNTI3MzQ0IDExLjkxNDA2MiA0OS40NDE0MDYgMTIuMjU3ODEyIDQ5LjQ0MTQwNiAxMi42MDE1NjIgTCA0OS40NDE0MDYgMTQuMjMwNDY5IEwgNDguMzMyMDMxIDE0LjIzMDQ2OSBMIDQ4LjMzMjAzMSAxMC44MDA3ODEgTCA0OS40NDE0MDYgMTAuODAwNzgxIEwgNDkuNDQxNDA2IDExLjQ4NDM3NSBDIDQ5LjUyNzM0NCAxMS4yMzA0NjkgNDkuNjk5MjE5IDExLjA1ODU5NCA0OS45NTMxMjUgMTAuODg2NzE5IEMgNTAuMjEwOTM4IDEwLjcxNDg0NCA1MC40Njg3NSAxMC43MTQ4NDQgNTAuNzIyNjU2IDEwLjcxNDg0NCBDIDUwLjg5NDUzMSAxMC43MTQ4NDQgNTEuMDY2NDA2IDEwLjcxNDg0NCA1MS4xNTIzNDQgMTAuODAwNzgxIEwgNTEuMTUyMzQ0IDExLjQ4NDM3NSBaIE0gNTEuMjM0Mzc1IDExLjQ4NDM3NSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gNTQuOTA2MjUgMTEuNDg0Mzc1IEMgNTQuNzM4MjgxIDExLjM5ODQzOCA1NC41NjY0MDYgMTEuMzk4NDM4IDU0LjMwODU5NCAxMS4zOTg0MzggQyA1My45Njg3NSAxMS4zOTg0MzggNTMuNzEwOTM4IDExLjQ4NDM3NSA1My40NTcwMzEgMTEuNzQyMTg4IEMgNTMuMTk5MjE5IDExLjkxNDA2MiA1My4xMTMyODEgMTIuMjU3ODEyIDUzLjExMzI4MSAxMi42MDE1NjIgTCA1My4xMTMyODEgMTQuMjMwNDY5IEwgNTIuMDAzOTA2IDE0LjIzMDQ2OSBMIDUyLjAwMzkwNiAxMC44MDA3ODEgTCA1My4xMTMyODEgMTAuODAwNzgxIEwgNTMuMTEzMjgxIDExLjQ4NDM3NSBDIDUzLjE5OTIxOSAxMS4yMzA0NjkgNTMuMzcxMDk0IDExLjA1ODU5NCA1My42Mjg5MDYgMTAuODg2NzE5IEMgNTMuODgyODEyIDEwLjcxNDg0NCA1NC4wNTQ2ODggMTAuNzE0ODQ0IDU0LjM5NDUzMSAxMC43MTQ4NDQgQyA1NC41NjY0MDYgMTAuNzE0ODQ0IDU0LjczODI4MSAxMC43MTQ4NDQgNTQuODI0MjE5IDEwLjgwMDc4MSBMIDU0LjgyNDIxOSAxMS40ODQzNzUgWiBNIDU0LjkwNjI1IDExLjQ4NDM3NSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gNTYuMjczNDM4IDEwLjAyNzM0NCBDIDU2LjEwMTU2MiAxMC4wMjczNDQgNTUuOTMzNTk0IDEwLjAyNzM0NCA1NS44NDc2NTYgOS45NDE0MDYgQyA1NS43NjE3MTkgOS44NTU0NjkgNTUuNjc1NzgxIDkuNzY5NTMxIDU1LjY3NTc4MSA5LjYwMTU2MiBDIDU1LjY3NTc4MSA5LjQyOTY4OCA1NS43NjE3MTkgOS4zNDM3NSA1NS44NDc2NTYgOS4yNTc4MTIgQyA1Ni4wMTk1MzEgOS4xNzE4NzUgNTYuMTAxNTYyIDkuMDg1OTM4IDU2LjI3MzQzOCA5LjA4NTkzOCBDIDU2LjQ0NTMxMiA5LjA4NTkzOCA1Ni42MTcxODggOS4xNzE4NzUgNTYuNzg1MTU2IDkuMjU3ODEyIEMgNTYuOTU3MDMxIDkuMzQzNzUgNTYuOTU3MDMxIDkuNDI5Njg4IDU2Ljk1NzAzMSA5LjYwMTU2MiBDIDU2Ljk1NzAzMSA5LjY4NzUgNTYuODcxMDk0IDkuODU1NDY5IDU2Ljc4NTE1NiA5Ljk0MTQwNiBDIDU2LjYxNzE4OCAxMC4wMjczNDQgNTYuNDQ1MzEyIDEwLjAyNzM0NCA1Ni4yNzM0MzggMTAuMDI3MzQ0IFogTSA1Ni43ODUxNTYgMTQuMjMwNDY5IEwgNTUuNjc1NzgxIDE0LjIzMDQ2OSBMIDU1LjY3NTc4MSAxMC44MDA3ODEgTCA1Ni43ODUxNTYgMTAuODAwNzgxIFogTSA1Ni43ODUxNTYgMTQuMjMwNDY5ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoNzguNDMxMzczJSw3OC40MzEzNzMlLDc4LjQzMTM3MyUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA2MC44ODY3MTkgMTQuMjMwNDY5IEMgNjAuNzE0ODQ0IDE0LjMxMjUgNjAuMzcxMDk0IDE0LjMxMjUgNjAuMDMxMjUgMTQuMzEyNSBDIDU5LjA5Mzc1IDE0LjMxMjUgNTguNTc4MTI1IDEzLjk3MjY1NiA1OC41NzgxMjUgMTMuMzcxMDk0IEwgNTguNTc4MTI1IDExLjM5ODQzOCBMIDU3LjcyNjU2MiAxMS4zOTg0MzggTCA1Ny43MjY1NjIgMTAuODAwNzgxIEwgNTguNTc4MTI1IDEwLjgwMDc4MSBMIDU4LjU3ODEyNSAxMC4wMjczNDQgTCA1OS42OTE0MDYgOS43Njk1MzEgTCA1OS42OTE0MDYgMTAuODAwNzgxIEwgNjAuODg2NzE5IDEwLjgwMDc4MSBMIDYwLjg4NjcxOSAxMS4zOTg0MzggTCA1OS42OTE0MDYgMTEuMzk4NDM4IEwgNTkuNjkxNDA2IDEzLjExMzI4MSBDIDU5LjY5MTQwNiAxMy4yODUxNTYgNTkuNzczNDM4IDEzLjQ1NzAzMSA1OS44NTkzNzUgMTMuNTQyOTY5IEMgNTkuOTQ1MzEyIDEzLjYyODkwNiA2MC4xMTcxODggMTMuNjI4OTA2IDYwLjM3MTA5NCAxMy42Mjg5MDYgQyA2MC41NDI5NjkgMTMuNjI4OTA2IDYwLjcxNDg0NCAxMy42Mjg5MDYgNjAuODg2NzE5IDEzLjU0Mjk2OSBaIE0gNjAuODg2NzE5IDE0LjIzMDQ2OSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gNjMuOTYwOTM4IDE0LjMxMjUgQyA2My4xOTE0MDYgMTQuMzEyNSA2Mi41OTM3NSAxNC4xNDQ1MzEgNjIuMTY3OTY5IDEzLjgwMDc4MSBDIDYxLjczODI4MSAxMy40NTcwMzEgNjEuNDg0Mzc1IDEzLjAyNzM0NCA2MS40ODQzNzUgMTIuNTE1NjI1IEMgNjEuNDg0Mzc1IDExLjkxNDA2MiA2MS43MzgyODEgMTEuNDg0Mzc1IDYyLjE2Nzk2OSAxMS4xNDQ1MzEgQyA2Mi41OTM3NSAxMC44MDA3ODEgNjMuMjc3MzQ0IDEwLjYyODkwNiA2NC4wNDY4NzUgMTAuNjI4OTA2IEMgNjQuODEyNSAxMC42Mjg5MDYgNjUuNDEwMTU2IDEwLjgwMDc4MSA2NS44Mzk4NDQgMTEuMDU4NTk0IEMgNjYuMjY1NjI1IDExLjM5ODQzOCA2Ni41MTk1MzEgMTEuODI4MTI1IDY2LjUxOTUzMSAxMi4zNDM3NSBDIDY2LjUxOTUzMSAxMi44NTU0NjkgNjYuMjY1NjI1IDEzLjM3MTA5NCA2NS44Mzk4NDQgMTMuNjI4OTA2IEMgNjUuMzI0MjE5IDE0LjE0NDUzMSA2NC43MjY1NjIgMTQuMzEyNSA2My45NjA5MzggMTQuMzEyNSBaIE0gNjQuMDQ2ODc1IDExLjMxMjUgQyA2My42MTcxODggMTEuMzEyNSA2My4yNzczNDQgMTEuMzk4NDM4IDYzLjAxOTUzMSAxMS42NTYyNSBDIDYyLjc2NTYyNSAxMS44MjgxMjUgNjIuNjc5Njg4IDEyLjE3MTg3NSA2Mi42Nzk2ODggMTIuNTE1NjI1IEMgNjIuNjc5Njg4IDEyLjg1NTQ2OSA2Mi44NDc2NTYgMTMuMTk5MjE5IDYzLjEwNTQ2OSAxMy4zNzEwOTQgQyA2My4zNjMyODEgMTMuNTQyOTY5IDYzLjcwMzEyNSAxMy43MTQ4NDQgNjQuMTI4OTA2IDEzLjcxNDg0NCBDIDY0LjU1ODU5NCAxMy43MTQ4NDQgNjQuODk4NDM4IDEzLjYyODkwNiA2NS4xNTYyNSAxMy4zNzEwOTQgQyA2NS40MTAxNTYgMTMuMTk5MjE5IDY1LjQ5NjA5NCAxMi44NTU0NjkgNjUuNDk2MDk0IDEyLjUxNTYyNSBDIDY1LjQ5NjA5NCAxMi4xNzE4NzUgNjUuNDEwMTU2IDExLjgyODEyNSA2NS4xNTYyNSAxMS42NTYyNSBDIDY0LjgxMjUgMTEuMzk4NDM4IDY0LjQ3MjY1NiAxMS4zMTI1IDY0LjA0Njg3NSAxMS4zMTI1IFogTSA2NC4wNDY4NzUgMTEuMzEyNSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gNzAuNTM1MTU2IDExLjQ4NDM3NSBDIDcwLjM2MzI4MSAxMS4zOTg0MzggNzAuMTkxNDA2IDExLjM5ODQzOCA2OS45Mzc1IDExLjM5ODQzOCBDIDY5LjU5Mzc1IDExLjM5ODQzOCA2OS4zMzk4NDQgMTEuNDg0Mzc1IDY5LjA4MjAzMSAxMS43NDIxODggQyA2OC45MTQwNjIgMTEuOTE0MDYyIDY4Ljc0MjE4OCAxMi4yNTc4MTIgNjguNzQyMTg4IDEyLjYwMTU2MiBMIDY4Ljc0MjE4OCAxNC4yMzA0NjkgTCA2Ny42MzI4MTIgMTQuMjMwNDY5IEwgNjcuNjMyODEyIDEwLjgwMDc4MSBMIDY4Ljc0MjE4OCAxMC44MDA3ODEgTCA2OC43NDIxODggMTEuNDg0Mzc1IEMgNjguODI4MTI1IDExLjIzMDQ2OSA2OC45OTYwOTQgMTEuMDU4NTk0IDY5LjI1MzkwNiAxMC44ODY3MTkgQyA2OS41MTE3MTkgMTAuNzE0ODQ0IDY5Ljc2NTYyNSAxMC43MTQ4NDQgNzAuMDIzNDM4IDEwLjcxNDg0NCBDIDcwLjE5MTQwNiAxMC43MTQ4NDQgNzAuMzYzMjgxIDEwLjcxNDg0NCA3MC40NDkyMTkgMTAuODAwNzgxIEwgNzAuNDQ5MjE5IDExLjQ4NDM3NSBaIE0gNzAuNTM1MTU2IDExLjQ4NDM3NSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDc4LjQzMTM3MyUsNzguNDMxMzczJSw3OC40MzEzNzMlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gNzYgMTAuODAwNzgxIEwgNzMuNzgxMjUgMTQuODI4MTI1IEMgNzMuMzUxNTYyIDE1LjUxNTYyNSA3Mi42Njc5NjkgMTUuOTQxNDA2IDcxLjgxNjQwNiAxNS45NDE0MDYgQyA3MS41NTg1OTQgMTUuOTQxNDA2IDcxLjM5MDYyNSAxNS45NDE0MDYgNzEuMjE4NzUgMTUuODU1NDY5IEwgNzEuMjE4NzUgMTUuMTcxODc1IEMgNzEuMzkwNjI1IDE1LjE3MTg3NSA3MS41NTg1OTQgMTUuMjU3ODEyIDcxLjczMDQ2OSAxNS4yNTc4MTIgQyA3Mi4xNTYyNSAxNS4yNTc4MTIgNzIuNSAxNS4wODU5MzggNzIuNjY3OTY5IDE0LjgyODEyNSBMIDczLjAxMTcxOSAxNC4yMzA0NjkgTCA3MS4wNDY4NzUgMTAuODAwNzgxIEwgNzIuMjQyMTg4IDEwLjgwMDc4MSBMIDczLjQzNzUgMTMuMjg1MTU2IEMgNzMuNDM3NSAxMy4yODUxNTYgNzMuNTIzNDM4IDEzLjM3MTA5NCA3My41MjM0MzggMTMuNTQyOTY5IEMgNzMuNTIzNDM4IDEzLjQ1NzAzMSA3My42MDkzNzUgMTMuMzcxMDk0IDczLjYwOTM3NSAxMy4yODUxNTYgTCA3NC44MDQ2ODggMTAuODAwNzgxIFogTSA3NiAxMC44MDA3ODEgIi8+PC9nPjwvc3ZnPg==",inputButton:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxMDAwcHgiIGhlaWdodD0iMTAyN3B4IiB2ZXJzaW9uPSIxLjEiIHN0eWxlPSJzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyB0ZXh0LXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IGltYWdlLXJlbmRlcmluZzpvcHRpbWl6ZVF1YWxpdHk7IGZpbGwtcnVsZTpldmVub2RkOyBjbGlwLXJ1bGU6ZXZlbm9kZCIgdmlld0JveD0iMCAwIDY1MCA2NjkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWy5maWwwIHtmaWxsOiM2NjY2NjY7ZmlsbC1ydWxlOm5vbnplcm99XV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9IkxheWVyX3gwMDIwXzEiPjxtZXRhZGF0YSBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIi8+PHBhdGggY2xhc3M9ImZpbDAiIGQ9Ik0zNDAgMzQ1bDAgMCAxIC0xYzEyLC0xMiAyMiwtMjYgMjksLTQyIDYsLTE1IDEwLC0zMiAxMCwtNTAgMCwtMzYgLTE0LC02OCAtMzgsLTkxIC0yMywtMjMgLTU2LC0zOCAtOTEsLTM4IC0zNiwwIC02OCwxNCAtOTEsMzggLTIzLDIzIC0zOCw1NiAtMzgsOTEgMCwzNiAxNCw2OCAzOCw5MSAyMywyMyA1NiwzOCA5MSwzOCAxNywwIDMzLC0zIDQ4LC05IDE1LC02IDI5LC0xNSA0MSwtMjZ6bTEyNCA0MWwxNzAgMTc5YzIzLDI0IDIyLDYzIC0yLDg3IC0yNCwyMyAtNjMsMjIgLTg3LC0ybC0xNzAgLTE3OWMtMTAsNSAtMjAsMTAgLTMwLDE1IC0yOSwxMiAtNjEsMTggLTkzLDE4IC02OSwwIC0xMzIsLTI4IC0xNzgsLTc0IC00NiwtNDYgLTc0LC0xMDggLTc0LC0xNzggMCwtNjkgMjgsLTEzMiA3NCwtMTc4IDQ2LC00NiAxMDgsLTc0IDE3OCwtNzQgNjksMCAxMzIsMjggMTc4LDc0IDQ2LDQ2IDc0LDEwOCA3NCwxNzggMCwzNSAtNyw2OCAtMjAsOTggLTUsMTMgLTEyLDI1IC0xOSwzN3oiLz48L2c+PC9zdmc+"}},22908:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});class n{constructor(e){this._options={drawingToolbar:null},this.id="drawingToolsControl",this._options=Object.assign(Object.assign({},this._options),e)}onAdd(e,t){return this._container=document.createElement("div"),this._container.classList.add("azure-maps-control-container"),this._container.setAttribute("aria-label","Drawing Tools"),this._button=document.createElement("button"),this._button.classList.add("customControlBtn"),this._button.classList.add("drawingToolsBtnImg"),this._button.setAttribute("title","Select a drawing tool"),this._button.setAttribute("alt","Select a drawing tool"),this._button.setAttribute("type","button"),this._button.addEventListener("mouseover",(e=>{this._showBtns(e)})),this._container.addEventListener("mouseleave",(e=>{this._hideBtns(e)})),this._container.appendChild(this._button),this._container}onRemove(){this._container&&this._container.remove()}_showBtns(e){const t=document.createElement("div");t.setAttribute("id","eztDrawingToolBtns"),this._container.insertBefore(t,this._button);var r=this._options.drawingToolbar;const n=r.getOptions();n.visible=!0,n.containerId="eztDrawingToolBtns",r.setOptions(n)}_hideBtns(e){var t=this._options.drawingToolbar;const r=t.getOptions();r.visible=!1,r.containerId=null,t.setOptions(r);const n=this._container.firstChild;this._container.removeChild(n)}}},60046:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});class n{constructor(e){this._options={pbiHost:null,drillableRoles:null},this._drillDownDisabled=!1,this._drillUpDisabled=!1,this.id="drillControl",this._options=Object.assign(Object.assign({},this._options),e)}onAdd(e,t){return this._options.drillableRoles.eztTerritoryData.length?(this._container=document.createElement("div"),this._container.classList.add("azure-maps-control-container"),this._container.setAttribute("aria-label","Drill"),this._button=document.createElement("button"),this._button.classList.add("customControlBtn"),this._button.classList.add("eztDrillBtnImg"),this._button.setAttribute("title","Drill up or down in hierarchy"),this._button.setAttribute("alt","Drill up or down in hierarchy"),this._button.setAttribute("type","button"),this._button.addEventListener("mouseover",(e=>{this._showBtns(e)})),this._container.addEventListener("mouseleave",(e=>{this._hideBtns(e)})),this._container.appendChild(this._button),this._container):null}onRemove(){this._container&&this._container.remove()}updateDrillable(e){if(this._drillUpBtn&&this._drillDownBtn&&this._drillUpBtn.classList&&this._drillDownBtn.classList){this._options=Object.assign(Object.assign({},this._options),{drillableRoles:e});const t=this._options.drillableRoles.eztTerritoryData;this._drillDownDisabled=-1==t.indexOf(2)&&-1==t.indexOf(3),this._drillUpDisabled=-1==t.indexOf(1),t.length&&(this._drillUpDisabled?this._drillUpBtn.classList.contains("eztDrillUpBtnImg")&&this._drillUpBtn.classList.replace("eztDrillUpBtnImg","eztDrillUpBtnImgDisabled"):this._drillUpBtn.classList.contains("eztDrillUpBtnImgDisabled")&&this._drillUpBtn.classList.replace("eztDrillUpBtnImgDisabled","eztDrillUpBtnImg"),this._drillDownDisabled?this._drillDownBtn.classList.contains("eztDrillDownBtnImg")&&this._drillDownBtn.classList.replace("eztDrillDownBtnImg","eztDrillDownBtnImgDisabled"):this._drillDownBtn.classList.contains("eztDrillDownBtnImgDisabled")&&this._drillDownBtn.classList.replace("eztDrillDownBtnImgDisabled","eztDrillDownBtnImg"))}}_showBtns(e){if(this._container.children.length>1)return;const t=this._options.drillableRoles.eztTerritoryData;this._drillDownDisabled=-1==t.indexOf(2)&&-1==t.indexOf(3),this._drillUpDisabled=-1==t.indexOf(1),this._drillUpBtn=document.createElement("button"),this._drillUpBtn.classList.add("customControlBtn"),this._drillUpDisabled?this._drillUpBtn.classList.add("eztDrillUpBtnImgDisabled"):this._drillUpBtn.classList.add("eztDrillUpBtnImg"),this._drillUpBtn.setAttribute("type","button"),this._drillUpBtn.setAttribute("title","Drill up"),this._drillUpBtn.addEventListener("click",(e=>{this._drillUp(e)})),this._drillDownBtn=document.createElement("button"),this._drillDownBtn.classList.add("customControlBtn"),this._drillDownDisabled?this._drillDownBtn.classList.add("eztDrillDownBtnImgDisabled"):this._drillDownBtn.classList.add("eztDrillDownBtnImg"),this._drillDownBtn.setAttribute("type","button"),this._drillDownBtn.setAttribute("title","Go to next level in hierarchy"),this._drillDownBtn.addEventListener("click",(e=>{this._drillDown(e)})),this._container.insertBefore(this._drillUpBtn,this._button),this._container.insertBefore(this._drillDownBtn,this._button)}_hideBtns(e){this._container.removeChild(this._drillUpBtn),this._container.removeChild(this._drillDownBtn)}_drillUp(e){this._options.pbiHost.drill({roleName:"eztTerritoryData",drillType:1})}_drillDown(e){this._options.pbiHost.drill({roleName:"eztTerritoryData",drillType:3})}}},54931:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(4832);class i{constructor(e){this._options={props:null,drawingManager:null},this._datasource=null,this._secondaryDatasource=null,this._props=null,this._drawingManager=null,this._terrLayerDatasource=null,this.id="eraseControl",this._options=Object.assign(Object.assign({},this._options),e)}onAdd(e,t){return this._map=e,this._container=document.createElement("div"),this._container.classList.add("azure-maps-control-container"),this._container.setAttribute("aria-label","Clear"),this._button=document.createElement("button"),this._button.classList.add("customControlBtn"),this._button.classList.add("eztEraseBtnImg"),this._button.setAttribute("title","Clear all travel rings, distance lines, selections and callouts on map"),this._button.setAttribute("alt","Clear all"),this._button.setAttribute("type","button"),this._button.addEventListener("click",(e=>{this._clear(e)})),this._container.appendChild(this._button),this._container}onRemove(){this._container&&this._container.remove()}addResources(e,t,r,n,i){this._datasource=e,this._secondaryDatasource=t,this._props=r,this._drawingManager=n,this._terrLayerDatasource=i}updateResources(e){this._props=e}_clear(e){const{settings:t,selectionManager:r,viewModel:i,removeTravelRing:o}=this._props,a=this._drawingManager,s=this._datasource,l=this._secondaryDatasource,c=this._terrLayerDatasource;l.getShapes().length&&l.clear();const u=this._map.layers.getLayerById("travelRing"),d=this._map.layers.getLayerById("distanceLine");if(u||d)if(u){const e=u.getOptions();e.visible=!1,u.setOptions(e)}else if(d){const e=d.getOptions();e.visible=!1,d.setOptions(e)}const h=this._map.popups.getPopups();h.length&&(this._map.popups.remove(h),this._map.sources.getById("LeaderLineDatasource").clear()),r.hasSelection&&(0,n.hF)(null,this._map,this._props,a,s,c),o()}}},39028:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=r(7001);class i{constructor(e){this._options={isShowLabels:!1,mapStyle:"road"},this.id="mapSettingsControl",this._options=Object.assign(Object.assign({},this._options),e)}onAdd(e,t){return this._map=e,this._container=document.createElement("div"),this._container.classList.add("azure-maps-control-container"),this._container.setAttribute("aria-label","Drill"),this._button=document.createElement("button"),this._button.classList.add("customControlBtn"),this._button.classList.add("eztMapSettingsBtnImg"),this._button.style.backgroundColor="white",this._button.setAttribute("title","Map settings"),this._button.setAttribute("alt","Map settings"),this._button.setAttribute("type","button"),this._button.addEventListener("mouseover",(e=>{this._showBtns(e)})),this._container.addEventListener("mouseleave",(e=>{this._hideBtns(e)})),this._container.appendChild(this._button),this._container}onRemove(){this._container&&this._container.remove()}updateMapSettings(e,t){this._options=Object.assign(Object.assign({},this._options),{showLabels:e,mapStyle:t})}_showBtns(e){this._container.children.length>1||(this._addMapStyleBtn(),this._addMapLabelsBtn())}_hideBtns(e){this._container.removeChild(this._container.firstChild),this._container.removeChild(this._container.firstChild)}_showMapStyleOpts(e,t){if(t.src=n.UY,1==this._mapStyleContainer.childNodes.length){const e=this._map.getStyle().style;n.Ec.forEach((t=>{const r=document.createElement("button");r.setAttribute("id","eztMapStyleBtn-"+t.id),r.classList.add("customControlBtn","eztMapStyleBtnImg"),t.id==e?(r.style.borderStyle="solid",r.style.borderColor="#31ACCE"):(r.style.borderStyle="solid",r.style.borderColor="#FFFFFF"),r.setAttribute("type","button"),r.setAttribute("title",t.id),r.addEventListener("click",(e=>{this._changeMapStyle(e,t)}));const n=document.createElement("img");n.src=t.dataUri,r.appendChild(n),this._mapStyleContainer.append(r)}))}}_hideMapStyleOpts(e,t){t.src=n.u,this._mapStyleContainer.querySelectorAll("button").forEach((e=>{"eztMapStyleBtn-selected"!=e.id&&e.remove()}))}_changeMapStyle(e,t){if(this._options.mapStyle!=t.id){const e=this._map.getStyle();e.style=t.id,this._map.setStyle(e),this._options=Object.assign(Object.assign({},this._options),{mapStyle:t.id}),this._mapStyleBtnImg.src=t.dataUri,this._mapStyleContainer.querySelectorAll("button").forEach((e=>{e.id=="eztMapStyleBtn-"+t.id?(e.style.borderStyle="solid",e.style.borderColor="#31ACCE"):(e.style.borderStyle="solid",e.style.borderColor="#FFFFFF")}))}}_toggleMapLabels(e){const t=!this._options.isShowLabels,r=this._map.getStyle();r.showLabels=t,this._map.setStyle(r),t?(this._mapLabelsBtn.classList.replace("eztMapShowLablsFalseBtnImg","eztMapShowLablsTrueBtnImg"),this._mapLabelsBtn.setAttribute("title","Hide map labels")):(this._mapLabelsBtn.classList.replace("eztMapShowLablsTrueBtnImg","eztMapShowLablsFalseBtnImg"),this._mapLabelsBtn.setAttribute("title","Show map labels")),this._options=Object.assign(Object.assign({},this._options),{isShowLabels:t})}_addMapStyleBtn(){this._mapStyleContainer=document.createElement("div"),this._mapStyleContainer.setAttribute("class","eztMapStyleContainer"),this._mapStyleBtn=document.createElement("button"),this._mapStyleBtn.classList.add("customControlBtn","eztMapStyleBtnImg"),this._mapStyleBtn.setAttribute("id","eztMapStyleBtn-selected"),this._mapStyleBtn.setAttribute("type","button"),this._mapStyleBtn.setAttribute("title","Change map style"),this._mapStyleBtn.setAttribute("alt","Change map style");const e=this._map.getStyle(),t=n.Ec.find((t=>t.id==e.style))||n.Ec[0];this._mapStyleBtnImg=document.createElement("img"),this._mapStyleBtnImg.src=t.dataUri;const r=document.createElement("img");r.src=n.u,r.style.position="absolute",this._mapStyleBtn.append(r,this._mapStyleBtnImg),this._mapStyleBtn.addEventListener("mousemove",(e=>{this._showMapStyleOpts(e,r)})),this._mapStyleContainer.addEventListener("mouseleave",(e=>{this._hideMapStyleOpts(e,r)})),this._mapStyleContainer.appendChild(this._mapStyleBtn),this._container.insertBefore(this._mapStyleContainer,this._button)}_addMapLabelsBtn(){this._mapLabelsBtn=document.createElement("button");const e=this._map.getStyle().showLabels,t=e?"eztMapShowLablsTrueBtnImg":"eztMapShowLablsFalseBtnImg";this._mapLabelsBtn.classList.add("customControlBtn",t),this._mapLabelsBtn.setAttribute("type","button");const r=e?"Hide map labels":"Show map labels";this._mapLabelsBtn.setAttribute("title",r),this._mapLabelsBtn.setAttribute("alt",r),this._mapLabelsBtn.addEventListener("mousemove",(e=>{})),this._mapLabelsBtn.addEventListener("click",(e=>{this._toggleMapLabels(e)})),this._container.insertBefore(this._mapLabelsBtn,this._button)}}},7001:(e,t,r)=>{"use strict";r.d(t,{Ec:()=>n,UY:()=>o,u:()=>i});const n=[{id:"road",displayName:"Road",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAACeVBMVEWSx+b29vfw8PHUzsis5bf29vbz8/Px8fKTx+b09PX63sz19fbw8fLy8vOTyOa42Ovz8/SZyui14r624r/p8Ov54NCw5rro8Orx8PCt5bjN69P09fXw8fHR79f39/f19fWZy+jz8fDO7NT44dPq8OzL6tH54dK/6Mf54dH63s3E6cvz7enT7NjG3uzP4u6cy+eXyeeo0em72euv1Oqu0+q/2+zj6/DX5u/h6vCWyebY+OLf6fDs8u/m9Ov4+Pm11+rq7vHv8vHh8eXV79vz9PTO7tW21+vM1Nf29/eZyufb3Nuuytmz47343cqw5bvw8vHi8ebV79rU7dnd3dywytjI68/d8OH08O7738zx8/PJ7NCw1OrZ793x7++56MLH6s7W5e/x9PP5386zytfN6tPa3d3Q7Nau5Lnz8O/74tG448Hv8PL54M+358C1y9b07enVzsfY3N234r/y7+/c7t/Q69W147776Nz449bz6OKfzei+6cfe697z7+zy7+224r7l7+jT29+Yyufz4taUyOfAzNKYyujR3OG9zNO21ebSzsnu8PK7zNTs7/KUx+TV3N6v5rm4y9Xj5ebY0szY7d305t2y5rzx8fH238y86MTF6szF6czw5dfy7uvO69T56d/Q7NXn48/47uj25dvR7Nf16uLu8e/d6df63sv53svi7uX47OXq8ezc7eDp5dTu38jj7eL16OHs8O744tX538/M69LU7Nnb7d/q7+vo48686MW358Hi7uT06eHJ6Mvk7+fZ69ux5rv5383a7t605r7h7+TV7drd7uH05tzh7uTm7+i15r/L6tLV5szs7OT1597138zy7uz449UxAma/AAABrklEQVQoz2Pg44ABfXYoYAURVjbs7AwcDDDAD5PkBhG2jiiSxlA5Xm52Xl42EECSNIFKCshxc9txAkEikqQpVJIRZu1WJEldiBynAFRymySSpB5CI1CyYRcLC5KkOVhOnhdERkpJshw5hiRpgfCkvyqLpNTxk0iS1jBJkdCgCbsPHz2lhZDkc4BYKRIvlhY3b7+4qtgZhCQ0gBhzWaYsEV+mc1rqnBpCMgEasNWz1ogs0DpwgktDm0FB0FNQQbCtqSqbCQiAwcOusnb5HE3N8xLAsHX3Ck4t7G9sn1SboagYnl85fzPXCuWNQBn2i5cYvEOS8yb2dLQ2K4vmiKpVLF6tDTJcZcfeQxfOwuzk64VH5qZVG9bN4Nq576A6TLKlGyJXvGjh+pVbptYoKW3fo8PADAQFzF2TNUSTuLh8IzLLl85lny5ekqI+DR62fZ11sSBHsDPJl86eKcYCBOllwjBjo2FphDFLqL5IWFhIyMcvCibpBpP0CAiLCZR1lXV2coGnIXuYJCeE5AESMjBJfjRJdmRJIyySPDBJQ1RJaRRJAzNsOqHZwRKmUxpJCQBdt2Upn6PrJAAAAABJRU5ErkJggg=="},{id:"road_shaded_relief",displayName:"Earth",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAADAFBMVEW9zr2Mxeufydugytuwwa7G1sS/y7q8zrrC0sHK0sOuvq62xbPE0L3Bzb3Ezr+/x7avvKy5xbfEy7u3uZ231dSv0NKkvbrL2cLE1b+oyMnI1sfHz8DBz77Ey6+2xrS7yrvCzr+NwuGvv7K+xbSLx/LH07vE1cO6yrm4ybertKOlsaHM1cW+yba+1M3P2MbH3tvAx7WVxt6xyMSjx86Sx+e3xLXE08S+z728yru5yrbB0r3I18CXyePH18OsvKzAzry1xLKkzdrM3MjK1bjD07+OxeqQyOmyw7DAzsCquqm3x7e6xrSwwK7Byr2+zLu6yLmqt6TA0r/D07yTx+SQxueLxOy7yrm+zr++zL60xLSwwLGywrO2xbTA0sPK1cO8yLetzc7I1cfN1siJxO3Bzb3Az8DH08TG077D0MHFzcHCx7fFzL28zbnG1Lq90MHC1cC/z7qfytu1w7W3yrnG1cWJxe/P3MS9yry40MW+y7q6xri6y722wrHF0MHG0re20MjI0MG2wK++xrSwvq27ybW6xa6qt6i4xLK1xbfL18CUyuqKxOrL2sW8zrvN2srA0byt0de1yLeAw/XN2Lyizt+ozdOcyNvF0LDC0sCltKPS2tCkytSGxPHC1MPAzbWuva6yyL7U28yv09zK0sTc4deZyeC40s3P0cXK2MbL0MGywLDDy7y1va2/yre8x7LR3s7b5trE2tGvvKqvuqeNxuyks6Gy0NHK07unyMnDyrm5wKbC0bXE1cCz0MzT3MC+ya/L07HJ2Misx8K009LBxLXZ29XA18q3v7CQx+ufrpzg49zU3dG6wbS6v661wqydqZu0zMatv7HV2MmNyPC2zcOswripsqDB0smYqJe6w6qmwb3E0LmPyO+bwMiYvMe40MCTxt/AxaSqwK2mtaamzt3M0b+WyeavzcjV3seyu6q0uam/xqHN1MvF1MGerZ6utqawupylvLWlvK7e6dScu7zS6eagvLu419mcvcC0uZOq0+WTsbKbs62Dyf6QzvqywasQSdX8AAAANHRSTlPy8vny8vLy8vLy8vLy8vn58vLy8vL58vLy8vLy8vLy8vLy8vLy8vLl8vLy8vLy8vLy8vLl9hVHrAAAAzdJREFUKM8BLAPT/AAz2xQyMAkTFi8SCSkJEhsJBioQKywWLS4RDSAaAAFB/6a3UPv6aLW5XF+CgmtpsodkZ9WxrWZrS3MAMbTduPn8/UG6g0xkUF+BamtQZ6/Z2tC5Zkg24gABNNxG+N7+3taqW6qqaIZeSz4/rti4oF5oXV2IAAFjU0bTyNza8D7OUIRPn2WRULrRttd5OHRldFgAFJRjNDQ0i5SMxud/ePKHhLP2YPewhTg/NTZXcgAd26VFNDRUisOQw8axtn979KL116x5eTVbN0g+AArO2zxFNFRGkEOXZ3aMsdTU87dQcndoWZ9dW1sABY87PGNTNFVxYH9Db2dtQqhIOE5mT2J8Wo5YiAAQQIXCikY0U1SSyERDO0LBZUdcfYBpp8dcrWJ7AAtMmeFgdTQ0VHGLPL47QnJzNrBpzKmnx4eAT2EACFGRQ3iLRTRVpqKlbahYXERmTc9N0s3WQId5rwAAZU6EP0E8Y1NubGc7btFKqF/YWrDvs1g4d46AAAxOaF+goEGS0Je/k3aNkVxQsrI4Pu5Oy5qkgIAAIrrZhdWFbrSb3zpDOm89Pah0ZE+GYZh6xadqoQAh3fFM68JBpVVFPJWNj4xCSkeYWE9laE2kzM2pACTTtKWbVHU0NDScinCPPXNJSTXjn0p8a8rsa+oAA2N1nJJjVEVVRVNRQ2+MbI/tTzVojUw1Tcqk6QAltkGVkOTmlpucpXhuUlI7jDc5X0taW5qa5WppAAWTnn636J2vO2BSYJbAOWw6jUpMVns5msXEx7kACDc2VoM4rUTtfpd/VJVtvDo3R1l0XndkgsR8TAAEPlY/d3p9OGhJR3B4VUE7Ojo5XIg1endLgUlJAB5KN2JpNV6ArMlZOsCWlLtEXo42SVlbWHp8g0oAJu1aTU1Io6yDtUA9nnG9u1E5c1aYWlp0ZmJf7QAoXDZASUijZLWZqD1scb1tRHA3wUg4Nstmq6x8AAd0QElYdzWGz42dcETgppPtPZhXSnuhaoRiuYIACEBbZU+DmclHXZFXfriQkzo5Tko4P7mzP9JqhwAnNwUECxwKBAcAAAcHGQMXGAcACB8MBhENIyksXCdcDMqXF5wAAAAASUVORK5CYII="},{id:"grayscale_light",displayName:"Grayscale Light",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAArlBMVEWvr7T29va8vMDj4+T19fXx8fH39/fy8vL09PTz8/Pw8PDk5OX5+fnZ2duwsLXp6erBwcXU1NbV1dfh4ePi4uS2tru/v8Ph4eLq6urLy820tLnFxcjt7e2+vsKwsLS6ur7c3N3NzdDAwMTMzM79/f3Q0NLY2NnQ0NO7u7+5ub2zs7jc3N62trrf3+Cysraxsbbg4OG1tbrFxcnn5+jMzM/k5ObIyMvo6OnT09bU1NdnMEGsAAAA/ElEQVQoz33SiXKCMBAG4KTskt3grbW1l9q7WrVae73/izVmoxBg+GeAGT42SxaUKubcGh8Gf1Fx2oKaa7BzI5iausqLgJISXp4qdaXyDqUlycoxXuUtqzjN3xUq2DsVsnuAY7wPyC6GKcYHQT4oUWnZ7rGSiNhgZK9heATESFqrt/fFZtvb//b/BoOMfMCwBm0sqvZyNfz6/MmSZJQx+KTAFtEgqbM83ygBN6fDqtFWdtLSgl8ViVQSMhp+dN2HAN16bGnjGhMWttJZ9611fwJa+Q1KE3oJN1OWREN4Dgh+P+4o4lNAOp6KOBPDWpwHhDocN+FtE1434aSM/zRjEgNus0C1AAAAAElFTkSuQmCC"},{id:"grayscale_dark",displayName:"Grayscale Dark",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAACTFBMVEU2PEQ5PkU3PUU7QEc8UFA5P0Y4PkUSLUQ7QEY6QEc4PUU9UlE3PURBTE81O0MVLkQxOkQTLUQZMEQ6P0Y6Sk01O0Q5REpGSk8pNkQ+RU1LTVA5Q0w9SEw4Q0k0O0RqXFQ9Tk89S01STUw+TE4+TlA7S00+S047TE4/TlA6SEs8T09BS09BSk47TU4wOkQtOEQsOEQkNUQdMkQYL0QTLkQ2O0M6R0w5R0w3P0Y5PkY0OkE1O0I1PENQT1E0QEs6SE1tYFhzY1lyYllxYllCSE5CR04aMUQeM0U1PEQcMUQ8Q0g8QUg9REk9RUpuYFh0ZFohNEU+RElPT1E8QkhUUlI1QEs6QEYdMUR2ZlslNkYoOEdYVFMwPkozO0R2ZVs+Q0ksOkgvPEksO0k9TU5yY1p1ZVtBRElERUpJR0lnWlNrX1dgVVA8UVFMSUo8UlE/TVA7RUpUTkxUTk1VT05oXVdBTFA7SEo5P0M4Rkc2PEBlYVdqXlc0PD9OTU48TU5fVVA5RUhKVlJJSEU2PUU8UVBFSklwYFZHTk09R0w3QUdDREg9T1BNSko9Q0lVWlQ5RUp8Zlg2PUR9Z1lvYVg+TU9+alt/bVxBTlBATlBFRklrXFROS0twX1VtX1VsXlVTTUw7R0t3ZFc8Rks/SkxFTk6AaVo9QEZCS05DREd3aFpATU+AbFxOVlJGSEpaVVNkXVVzYVZWT006SUw8S01/aFk6P0V+Z1lASU2AalpAR01/aVo4P0ZASk55Zlp3ZVpERUhMT1BmW1M6RUmDbV3+fhmYAAABnElEQVQoz2NghwNBBgYGCzFZTnMzBhhASPKD+UysDAw4JVmZsEoag7hWnAwMNlgk2QWAXGugpJg9pqSJKIjPyQA0lwlsNheyTrCkt3AwKyurorKymmIBuoM4eYB6GTRZtERU1SuQJIUgpjJwdupqaXZo81aWI0l6AuWEGRgmyrKILNKe0t7UUIYkGQ7S2Ny/SX2BjsbieRO6WmuQJCVAkqoih3auWjJ36fwVk6pYEJKCcgwMPL17th9Yv2vh7GWzpjWqlDI4OTo7+PlHxKWmZJVUT967bcuGjVv3z1ndp8Kbz8IgJOTmHhAZlZCYrlSk1DOTZ/fagztWrpnBq5HHzc1gKyXuKikdGpOUlpFbWN829fC+dct5pytw57CwsDDYSUu6iEsFhUTLy2dmF9fqqG3WZWnh5k6W8fXxQjgoFhwGdd1AHQoygYwMPKxIAS8HkmRmZBWOD2Nj4IDEOlzSAyTJgcBcyJIC6JKWSJIS6JKMSJL6aJJsyJJ6+CQN0CXZkCQNkSWZ0SSN0CQZkSUFQX5h5uPj4zCFSHIxAAAUeVdYzZo61gAAAABJRU5ErkJggg=="},{id:"satellite",displayName:"Satellite",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAADAFBMVEUtPSwvPC8qPi0tOy4tOysvPS0wPDItPCwvOzIsPSwsQC8uPi8vOzAhLREqNBkgKxJOTycrLBErPi0nMRkoMRc1NRdybkYtPy8wPjAsPCsjKA8fJQ48QCQ6OyBYWTFBPhpfXzNtaEVUVC5STyyPimo8OxtISSU5PRgrNyYiLhS8sJJ+fWCFeFxBQiJdWjN0c1c9QhZCRCNdXDY/Qx1nXz1YUjNCRBlUUyROSh5ZWC1eWDNCQB5WUSt8dUyinX0sOikqPi4mNB0rNCIwOB4hLhd+cFa0o4NdWi1za0VRUyZuZEtKTSMyNxpkXzg4NyVOUC5CQh1jYCpERSlubD9JSyFSUDFWVTxWVjY/Qy03ORVJRihWVihTWh5bVDlqaTNSTyVmXzNIShk4PBRPUzo8QBhaWTovLxSUkXIoJxBubkqZk3E7OhVGSB2emnuoo4MsNSMrNyN2alE0MiCqnHxYXSElLBM+PShgZEWUjW54a0pDRyFGRy8qLhNsaDw1MxxiXTdJTR9IRhtXUCdhYztFQx5FRSFlZUN2cVJYYUJQTS5KTC1aWCFIRyNbWDBRTx08NxZYXCpeWzxAPyMtNBNgXUQ9PSBxblGzq41hYihPTCNnZDlDQiVMTxxLSSRybjwuMg2jnIJPUxs4ORqalHZMRCJpZT14dU1jYjSFa0g6QRszMRhLTiowNBJtb0JmYylbXTwpKhZjWy+Mgl5lZS9pZEKqp4lpZkqgmneLh2d5dFdCWEo2PiRXUTpOSTMmMxpxZk11dV0nLw9PTzhraE5jZ0ssMRZQVCtvYkScfFFDSx1+cExdVTBMSTNMSzBcTS2ooYdqYz1KTj9sZDd1cDI7QB89UDR2dD8/STB7dkUjHw85Nx8eHQpfX0llQiY0Nx5iblM9PyCAe01MRS93b0g/UDlqZE58bEd8d1VRRR2Be0ual3VWUxx2fUeGdExmYUBSVxp7eUWRe1lnakx8Yz2Zfl2JhWFvakKGhVtQUh1BSSdVWjtwWkOamHqspoaooHxgW0HJvtGgAAADCUlEQVQoz2NgZ+AW52bj4OFgc9QMUk1doaO/XvFjyEZdmWqpCAZ2CXEuLgk2Rg42J80a9czHlp/Wb/oS9HqJ6KT5ugzs3FziXBISbGxsTrxTJsTER7/5sNZ0wwsz88B13Qzs4hLcEhIcjBwc+bwyJ2OabJ5s/vzWxkKu4773fAZ2Rm5uRqA+kORBs5LeOGOBbFXru+liKkpLGNhZQUCCg4OjgG/ysQ6duIW1ytbWAWKKsxdFMbAwgCR5mDnYCjRnWx4/Vd+gHDDTwlv31m01GQZ2BgZWBlYeRgk2DefDnkcq4/vCRftPtyv03NR9BJIESjMC/anBa+ge4TFnhpzRcoVJsqsyBFdBJJl5gP7U4AsNTq6s9QhRCivLqEnLVhcES7KzM/NwSLDyHvWU6Z038cFsQcGklqVbUi0hOhkgxkobhKspqYomrcnxfWceF1nDwMfHJyIiIgwCvLJpnWoCk7Pjlz9f+327ypYUBhGRmlIpIJAGAnWxGZtDc2w3ZWUtrviqv6GGQUfH1dW1sHC/l5fX023bpu3cYWdnl5fVlpksqqrEUOzmVuymBQTTp2/dmrfALvfvP5Xt2snqAspr1BnCDlWX7d1TVOTn5xcR+zvs/5SdKumZCrPUUvoSFzJM09fXVqnQPrDg/OL0V7l5uX92/Pq50kw+O3F5sAKDi4sLv/NufiAoXbli7sZ1YnN+xLw3mKA0NSFYmYGFHQgYmJkZ7EUsTRStvi2bWWVrZCJmNbWzvQssCQojdkk+91i9eS9tE3Ke6cnfsZqb+k4WGGUMnAycQAVc/FVBas1yDwN9ogLMDeqBus+AdXJyCrE7cGnKRgZckLtxL80iWiBBV1RAr5OBBaQLqJeJiy9F1qc16VqNvM31K7G1ck2zzjGwSDKzg+SEuIRlyquMEy9fDV9mKtql5G+leBGok1kICJiYHPb5tJxo7A41FDAyjLRWizKdqMxgL8nIzgQGjs4l2p7NtvEN5fKq5r5nG6OtwXZKcgrtcmBy5PU2aNPzDxFQDHT38DU1u9QKAANE6I+euUkbAAAAAElFTkSuQmCC"},{id:"satellite_road_labels",displayName:"Satellite with Roads",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAADAFBMVEUrNygrNiwfKRImLiYsOCwrNi4sOCksNygqNScpNigqNycpNyknMiUqNipAQCAnMyYyNRQqNSwbJhEnLxgjKhY2NR4bIQ1eWzksOSspNiUlKxUnNCIeHQ9ZUzI8OxpKSx82OBRubVt4dmQoNycrNi8hJBAiLRYiKQ5LSCMdJRE6OSgvLh0pLg5JRy9NSzY/QClERiIrLBXSnmcoKBdLRyk7PR8vMxpdVzZMTjFIRSA7OyC4hUxJSit8e2l0cmKHhW7OmFwmMCYkMycrOC0mNycmOCpBOiMjKxIlMx8cKQ9UWR8tNx1EPxwdJA1hWTZiYUCygkrKn2xPUSgxNR8+PSKtfEU/QRVoZkJPUS1FSR4zMRpWUDtNSydAQRukeUVgWzBTUTBCRB1gXkBrX0g7ORxIRChFRitzbl7JkVYiIQ+Kh2dzck1QSyp3dlxIRyQuLhGDgWg+Ph43Oh2BfmRYVC6LiXBiXzWBgWZEQSRDRxU6PBNuclwpOSyEakZ8ZUUiMBtISzF1YklvYUrXpGwlJg5TVTpKTh02NRhVYjo9PhhwaUI6PxpiYjl9elpOTjVcOyNUTi0qKRBSTyRLTi1mYkFNTC16eFfYqHIwMBc/QysuLBZdYChtXUKsi12ObTdbViRpYDxfWD2haCw/PRc6Pi1ZVTvVoWnarXxwb15ydGBERTNTVihpa0RbVyhoWkVeYURlY1FaWUDQm2B1cEuOjW1sZkCsqpWadEW6lmoiMSR4akh2dkcxPTBabkZzbllLQy9XV0RWRig+PCk4PhVJUiBHTDUgHwqDeFBlWT5ZXThPViqZgmSAb0xjYEZrYEJFTS5jWEDIl2JuZlNcWjY2MyVOT0LWpHExLhbCkFmamYKpoYbGjVNZRBW2ilerpY6PgFKwiluamotOOhd9Vi6Rj3aGfVp6cF2Chmx2eGA2RypbWDSIgWKfjWZrbFWAdVFWVSvLp3vOmmGgk3yMinm8h0ywlmrEtZafnYdXUjGZlnRCRBPNo3O8pICNbkS9ilPdtIniqWyBAAADFklEQVQoz2NgZmZ2dGQGAzFNmeB9+/UO9DU1Hkpxm6Ulw8AhUVMjIcEi4awiyOQt6mXg1zNFXHxOy3w5Pg1RoCSLhIQEKwuLCiPTTH8vrxiNvbt3+YX4hHV0mDJwgOQkWJ2dWVmZPNV1jvjkCSccnKDhk9t6Vguok42NQYKFlZWVkcnzcNvJ47NjxTsVDPuzwnuBkuxsDGxsjLyCQGODU/V1T0TKR5i08/GFNBwDOoidnYGBQZCXF2jsUVmL02fig6bqxE/ik+eT0WbgAOpjZ2Bk5HVmdfc2ORVtHhY0WaAlb9plm1nGIJ1AvWyCrKwS7sKyBnqybWWt/uFJUcbGmRBj2dlBxkq465ufv3CuKylnqZ6hqqFAYjBYJwPQXEHWPWqapp26kV26M6wydRQ0ikufMXBwATWyc3EJqrCqaRoqJHXbXFcQELDsLe2Z95hBSlgKCNxFgIDJ7LpVnmmazmL57JvT7mc8WMcgJSWiqqrq6+srJibm++r97PiZMa/v3Zp7++7TuH6G2tq6usam5ORL6enpdnZKtp+3ffvg4DA3ad6iR6sYdgQGGhk1Ny+fPn3ZMiOjjw4ZDoFfs94ELLqzvmAJQ4WbaJRotLb2FS39VdHrkjcunfM39Evcu/IXFvLaDNvjQgOsMwJCL167YW1t/e/38v9/7KvX2yxWqApXYhASEtIUbhDy1NRkcjdZUFE2X/xXVWVl1Rp7xWxbBn4GBi5JDklpaWkmfdkp5j+2bqsu/56rtLlA1ESJgYOTk5MDGDEcXGppQQtLtm7ekpP3Sbyi2t6qzxYYKxxAOU4GBu564Rhdg9VlP9cWlfIV5pdbTlAEGssBDFoGdm7XerPE/Jw15luKojbIr7ZcYTVViYGfk5MbKMuh7Orh3m4cwhdpn5n/donAwly5EkWQJC8wKXBwu3p4F12NLQzLmiGnmGZmscLC0g4kyQmMGaB+abVuv7WVk56/zH6SKmq20iYCIgmUVXZxkRaWWyAbW2JbIbBSYGJhcUqqIoMjDwg4OTs57dQ0jdiYkFBgMPlhCp94sZ7pBgB+yeyCkIpIHAAAAABJRU5ErkJggg=="},{id:"night",displayName:"Night",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAABYlBMVEUxOEE4PkY3PUUzOUIyOUI4PkUBHS4AHC0AHS46P0Y5P0YxOUEyOEE9QkhBRksyOUE1O0M+Q0k9Qkk7QEc7QEYeLzs0OkMwN0EEHi4IIDA5PkYzOkIBHS0MIzI0O0MJITEjMz04PUUlND5ARUo6QEc/REo3PUQhMT0KIjEwOEEQJTMPJDMRJTQnMj06QEYCHS4GHy8tNT8RJjQuNj47QUcwOEAaKzgNJTMuOkMSJjQPJTQUJzUpNkAsOEEqN0EhMTwRJzUTKTYTKDYWKjcVKjcoNT8mND8YKzgaLTkXKTYZKjc+QkgXKzg7QUg/REkaLDkdLjohMDwkMz49QkctNj80O0I/Q0o+Q0pDR0wBHC1DR009QUc8QEcqNkA/Q0kcLjozPUQgMDwTJzU8QUcdLzouOUIbLTogMDsgMTwfMDwiMj04P0Y2PkY6QUcmNT85QEc6P0cZLDgqN0A3PEQ2PERCRkwy1gvBAAABS0lEQVQoz33TBY+DMBQH8FdouZUNhkxu293Nt3N3d3d3d9fvf8iEkmUvaZvwy/+1lACCp1SC0AgY+zHGCGNvH8bgqXFWG5ilNBhTD7iwNmwhh63FneyyMUp6EUJRV9IyEAGIsXhZjNhBviLWm+ZDUBG7i0HwGSPG4hAUQiaLlMXlMiYDPPsqR7tFTAZCIf2PQes8QAmlOTGbFnkYnU9MBLfOLl9fPt5upJOdlfW0pMrZzxDgDEzNLixuBq/yidT7t6buH6iSShQj/yvJOtSVu8btYxJoQJqs5RQKg2Pjc6nt/NPt/dcDR5C4psnHh/I5pfQHw8Dw5PTM6sZF8PH5TtczIkckovBWC+aGrottC7fAOfdcsh9Ss06NsedMjhSwNDmx34U+J7a60O/EznAVjFRLtriQ+WTN1TDuQh6E0r8gdDRhs9rNKWCM2D81zSlCbuGsRAAAAABJRU5ErkJggg=="},{id:"high_contrast_light",displayName:"High Contrast Light",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAACfFBMVEX////6+vrw8PAZoRX8/Pz7+/v5+fkANIf4+Pj39/f9/f329vYXRZDs7Ozr6+v+/v7n5+ft7e3v7+/u7u7o6Ojz8/P09PQmUJX6+flohLP19fXy8vLx8fFohLLl5eXq6uorpyclUJUhTJIZR5H8+/ucr88uqCo+ZaPi4uLm5ubp6ektpykhox1duFr09fSqu9YtpyocohgipB4ppiUeoxr+/f0GOInu8fY0XJ2ars8sVplZea739/YzXJ0kUJY7YqA8Y6E6YJ/N1OCTpsdDaKRshrJLbqhohrdnhLNlg7MsVZlEaaQhTZQPP4xcfLBMb6hjgbLs7OsFN4cBNIdUdawjTpNAZaFMcKpHaqRce64hTpZcfbKd0pzy8fHi7+FOtEtDrz+R0I+13rRbe7CSzpBct1k5rjY0qjBet1uxvtUmUZeAmsPz8vKfr8kdohl2kL39/PwboRg0W5vv9e/w9fDp6Oh+mMI6YKBSc6pceqz8/PtUc6clpSIlpSH5+fiZrMwRQY7m6+Vvi7r7+/ro7ueFncX5+fs2qjK4w9TZ69j7+/2737ry8vFng7K7yN3O5c36+vnX6ten1aZUtlHp6eiMy4orVZmBmL7u9e74+fvR59Bffa5phbFOcKdjgLHO5s3w8/fg7uD5+vng5e+UqczV6NTz9vNuvmwcoRhtibYxWZuiscrq8umc0prk8uTS6NIxqi7a7dmk2aO95LwvqCuh058mpiKAy34jpB82rDNTtVE8rDn4/Phnu2TT69MxqS4spygrpyg3qjRWt1OHzYUyqS9LtEj7/fqr26piuWBFr0JYuVX7/fuh15+h1p+h2KBlu2JfuVxrvGgqpyYLztTlAAACLUlEQVQoz03SZZPbMBAG4JUtKZJds5Pmktwlx8xXZmZmZmZmZmZmZmZm5vYPVblpY7+jL5pnR7vSCAL/c/zKpbMgmYxHgVEEABEbUrj/2OUzJOZqGBSk2wIl08PAkaPljqYzjMMUY0JIDvfhtgMnFUdjCKskB6tMVHi4cOP2Q2BrAAYDx2ERDnc8nLxo9WbRJ9iLEilkM6nsx33fsdMWABToIYNtVSlDz9/Lsg8HzxDjxwBhx4Cvb2vkmhc+HJgP2MIKA/jw8Y0sv3ryyYdtcgG70hr+9Nuj6kTV65+PH/ow0AiSuXFTrn757lnpnwfXfVi/QS1uqbr7+fevL7cPcg51UmlST1EUEl67496177c4p5RC9749urRs2Lh5q3atmzKmRngIcc4EESDQLysrs3OzFm3bdyKMi3oWVMM7wwootGw0dMvumlk3mUFhJEKwKvoSyoePGj8Bevf5N88QcE3DIEQVB7A5QyeOKx0JPTumpaeJlT6JJ0PUVbv3XdizYZYs+59vymJce5VdFRXFicSykuK8PA/nZ+goZhI4fFGWKytLlk4fMdbDXDu0vDCkEn76/NVT505smjsTUrhkXchEWDeDHKIQU0lcM6UUriwPFujMkZhqFBHdRE7ctlI4e0UwI54ciAEy7L0YFwYzUpidv54qljtMIDWYhW0JvJ79x4iNZYkfzeYR3cWawzRv2gEGhiJRzhSJuBwTi7gedqAWBaQAwzpEp2JNQtpfOCJsTxHu8PEAAAAASUVORK5CYII="},{id:"high_contrast_dark",displayName:"High Contrast Dark",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAACH1BMVEUAAAAFBgYJCQpJl0BCmDcLDAwJCgowbf8KCwsFBQUGBgY5cfQvYNQODw8CAgIBAQEGBwcHBwdJl0EEBAQICAgKCgoDAwMNDg4KCgscQZcMDQ0HCAgICQkeRhlIlz8sZSUtX9Y+iDVHlz4uYt4hRJcePYcfQI8uXikPIU0bPpEXNHkoWtITK2QgSKgBAQMKGDcoXNcsZOshTLEECBMFCxsEBQUCBQsWMnQHBwgGDSADBAQcP5MvbPwcQJUMHEIYOIIODg8GCAYPEBIbPY4wbf41aeEICAkREhIaLBgCAwMdNW8ybvwuYCglQiIRExMQERIbN3oTFBQqWMYXJkoQFxAfOR0uZCgxXS0fQRwuXig0Yy8TJBE4bjJKl0EYJhgybPYgPB1BlTZJk0E7dTUbKxoqTCdEgz5Hlz1DmDgbNXEVLxEfJiAeMh0UIhQpUiQgRRw0dSwuXygsWic9gTUZMm0wZipEij0rYiQbPxcKCww+jzQ0bi1GmDwvXioxcik/jzVLl0JCljcPHw0MFQtLl0NJkUIJCQkHDwVEmDkoUCQlQ4YxaiokS6crW84LCwszcCw4ejBDlzgxbCoaMRkuYCk2di4aNXQiR58LCwwxae85fDAmV8sOEA8tYNkkRyEUHxMbNncybSsYLxYcOn8cOX8xae4rWMEwZuYbNngwZudEmDopWSQMFAwiSR4uYSkaNBdBlDc9hjRCmDg5gy8xayocVc/vAAABxUlEQVQoz2NghwNtBiiQgDEYEJKaUBFORiySkjBJATFTTjBAktQFSohycHBIyVgwsoHkHJEktSAa+UFWcoBYskiSOhBJaWGoZFYikqQGRCNYEwdDuzwLC5KkPlhSEKSRga2iioVFDknShIEBZltIHQtLR0MxkqQlg5goIycbA0NcTAsLC3NZUTVC0sYM5EdOjpTkDCGlmtba0kZ5hKQtxLGpQE1ySVGF9eVNbQhJO4hkXnpsWnhkgWyzCNsMBm4ocHXiBQK/wOychIj8aGlWrj5RAYagXgXl5UvndgVzgIAbhz+jACubICsHmxgfF0PPdBU11cUrplWyggAbFyuHOBubDB8DpyDregYeCFjGBAFs7pxAi7m4WNes3bwB5qDZsCgUZ+RiY+VatHqLuvo6Bq/MBUtU1VRKGBlBoqxSvBxz5k+eN2Wh4iZg2Lp4x89cqawQAJTk5AOGQqjiRBYIUBJiQEsGDL7MECAktGojTNIZFOKCrJwMHj5h3f1TZ02Y1JnLBJO0ZxDh4BDncODg8ASlEFZOTn4GeBqyZuAT4YNHGYSES5ozMFixgcKICYukEcxB2HQaGEPTHhsWSUM9iKSwAJIkAIjzTN+6ROWuAAAAAElFTkSuQmCC"},{id:"blank",displayName:"Blank",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcAQMAAABIw03XAAAAA1BMVEX///+nxBvIAAAADElEQVQI12NgGDwAAACMAAFT0mTUAAAAAElFTkSuQmCC"},{id:"blank_accessible",displayName:"Blank with Transparent Layers",dataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcAQMAAABIw03XAAAAA1BMVEX///+nxBvIAAAADElEQVQI12NgGDwAAACMAAFT0mTUAAAAAElFTkSuQmCC"}],i="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiPjwhLS0hIEZvbnQgQXdlc29tZSBGcmVlIDYuNC4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48c3R5bGU+c3Zne2ZpbGw6IzUxNTQ1N308L3N0eWxlPjxwYXRoIGQ9Ik0yNTYgMGEyNTYgMjU2IDAgMSAwIDAgNTEyQTI1NiAyNTYgMCAxIDAgMjU2IDB6TTEzNSAyNDFjLTkuNC05LjQtOS40LTI0LjYgMC0zMy45czI0LjYtOS40IDMzLjkgMGw4NyA4NyA4Ny04N2M5LjQtOS40IDI0LjYtOS40IDMzLjkgMHM5LjQgMjQuNiAwIDMzLjlMMjczIDM0NWMtOS40IDkuNC0yNC42IDkuNC0zMy45IDBMMTM1IDI0MXoiLz48L3N2Zz4",o="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiPjwhLS0hIEZvbnQgQXdlc29tZSBGcmVlIDYuNC4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48c3R5bGU+c3Zne2ZpbGw6IzMxQUNDRX08L3N0eWxlPjxwYXRoIGQ9Ik0yNTYgMGEyNTYgMjU2IDAgMSAwIDAgNTEyQTI1NiAyNTYgMCAxIDAgMjU2IDB6TTEzNSAyNDFjLTkuNC05LjQtOS40LTI0LjYgMC0zMy45czI0LjYtOS40IDMzLjkgMGw4NyA4NyA4Ny04N2M5LjQtOS40IDI0LjYtOS40IDMzLjkgMHM5LjQgMjQuNiAwIDMzLjlMMjczIDM0NWMtOS40IDkuNC0yNC42IDkuNC0zMy45IDBMMTM1IDI0MXoiLz48L3N2Zz4"},83413:(e,t,r)=>{"use strict";r.d(t,{Mb:()=>i});var n=r(93116).P;class i extends n{constructor(){super(...arguments),this.eztMapSettings=new o,this.eztClassification=new s,this.eztTerritoriesOptions=new l,this.eztPointOptions=new c,this.eztTileLayers=new d,this.eztInstanceSettings=new a,this.eztDrillDown=new u,this.eztRefLayers=new h,this.eztHyperlinks=new p,this.eztCallouts=new m}}class o{constructor(){this.layerType="points",this.ezturl="",this.eztProjectId="",this.geospatialSearch=!1,this.mapStyle="road",this.mapDisplayLabels=!0,this.mapDisplaySettingsBtn=!0,this.mapWrap=!0,this.mapZoom=!0,this.mapZoomAnimationType="fly",this.mapZoomDuration=1e3,this.mapZoomPadding=20,this.mapZoomScale=12,this.displayLegend=!1,this.displayLegendBtn=!0,this.displaySearchBar=!0,this.maxSelection=1500,this.displayLegendHeader=!0,this.disableMapZoomAfterSelection=!1,this.clearFilterAfterSelection=!1}}class a{constructor(){this.key="",this.sessionGuid=""}}class s{constructor(){this.eztClassifyOn=!1,this.eztClassify="2",this.eztColorGrad="red",this.eztClassifyType="static",this.eztClassifyMode="range",this.eztClassifyBreakType="equalInterval",this.eztColorGradExact="multicolor",this.applyLegendDataLabels=!1,this.legendDataLabelsPrecision=2,this.customColor1="#118DFF",this.customColor2="#12239E",this.customColor3="#E66C37",this.customColor4="#6B007B",this.customColor5="#E044A7",this.customColor6="#744EC2",this.customColor7="#D9B300",this.customColor8="#D64550",this.customColor9="#197278",this.customColor10="#1AAB40",this.customColor11="#15C6F4",this.customColor12="#4092FF",this.customColor13="#FFA058",this.customColor14="#BE5DC9",this.customColor15="#F472D0",this.customColor16="#B5A1FF",this.customColor17="#C4A200",this.customColor18="#FF8080",this.customColor19="#00DBBC",this.customColor20="#5BD667",this.customColorOther="#000000",this.customSymbol1="marker",this.customSymbol2="flag",this.customSymbol3="hexagon",this.customSymbol4="triangle",this.customSymbol5="pin",this.customSymbol6="car",this.customSymbol7="marker",this.customSymbol8="flag",this.customSymbol9="hexagon",this.customSymbol10="triangle",this.customSymbol11="pin",this.customSymbol12="car",this.customSymbol13="marker",this.customSymbol14="flag",this.customSymbol15="triangle",this.customSymbol16="pin",this.customSymbol17="car",this.customSymbol18="marker",this.customSymbol19="flag",this.customSymbol20="triangle",this.customSymbolOther="pin",this.customRange1a="",this.customRange1b="",this.customRange2a="",this.customRange2b="",this.customRange3a="",this.customRange3b="",this.customRange4a="",this.customRange4b="",this.customRange5a="",this.customRange5b="",this.customRange6a="",this.customRange6b="",this.customRange7a="",this.customRange7b="",this.customRange8a="",this.customRange8b="",this.customRange9a="",this.customRange9b="",this.customOpacity1=.8,this.customOpacity2=.8,this.customOpacity3=.8,this.customOpacity4=.8,this.customOpacity5=.8,this.customOpacity6=.8,this.customOpacity7=.8,this.customOpacity8=.8,this.customOpacity9=.8,this.customOpacity10=.8,this.customOpacity11=.8,this.customOpacity12=.8,this.customOpacity13=.8,this.customOpacity14=.8,this.customOpacity15=.8,this.customOpacity16=.8,this.customOpacity17=.8,this.customOpacity18=.8,this.customOpacity19=.8,this.customOpacity20=.8,this.customOpacityOther=.8}}class l{constructor(){this.territoryColors=!0,this.color="#0000FF",this.territoryOpacity=.8,this.territoryDeselectOpacityEnable=!1,this.territoryDeselectOpacity=.4,this.territoryBorderWidth=1,this.territoryBorderColor="#000000",this.territoryLabels="noLabels",this.size=12,this.fill="#000000",this.maxZoom=14,this.minZoom=1,this.centerPointEnable=!1,this.centerPointSize=12,this.centerPointOpacity=.6,this.centerPointColor="grey"}}class c{constructor(){this.pointSymbolType="bubble",this.pointRenderMinZoom=0,this.fill="#FF0000",this.size=8,this.sizeClassify=12,this.pointOpacity=.8,this.pointDeselectOpacityEnable=!1,this.pointDeselectOpacity=.4,this.pointBorderColor="#000000",this.pointBorderSize=1,this.travelRingOnClick=!1,this.expandCalloutByDefault=!0,this.clusterPoints=!1,this.clusterRadius=45,this.clusterMaxZoom=15,this.clusterPieChart=!1,this.isClusterPieChartGrouping=!1,this.clusterLatLon=!1}}class u{constructor(){this.groupLevel6="Group6",this.groupLevel5="Group5",this.groupLevel4="Group4",this.groupLevel3="Group3",this.groupLevel2="Group2",this.groupLevel1="Group1",this.groupLevel="Group",this.territoryLevel="Territory",this.partLevel="Part"}}class d{constructor(){this.opacity=.5,this.WeatherRadar=!1,this.WeatherInfrared=!1,this.WmsLayerName="",this.WmsLayerUrl="",this.WmsLayerSize=1024,this.UsZipCodes=!1,this.UsZipCodesV2=!1,this.UsCounties=!1,this.CanadianFSA=!1,this.CanadianFSAV2=!1,this.CanadianFSAV3=!1,this.UkPostalCodeAreas=!1,this.UkPostalCodeDistricts=!1,this.UkPostalCodeSectors=!1,this.AustraliaPostalCodes=!1,this.BelgiumPostalCodes=!1,this.BrazilPostalCodes=!1,this.NetherlandsPostalCodes=!1,this.NorwayPostalCodes=!1,this.GermanPostalCode=!1,this.FrancePostalCodes=!1,this.SwitzerlandPostalCodes=!1,this.MexicoPostalCodes=!1,this.GlobalStateBoundaries=!1,this.GlobalCountryBoundaries=!1}}class h{constructor(){this.labelsOn=!1,this.RefGuid="",this.refTerrSimplication=1e4,this.fill="#000000",this.size=12,this.maxZoom=14,this.minZoom=1}}class p{constructor(){this.hyperlinkTargetCol1="",this.hyperlinkLabelCol1="",this.hyperlinkTargetCol2="",this.hyperlinkLabelCol2=""}}class m{constructor(){this.fontFamily="Segoe UI",this.fontSize=10,this.bold=!1,this.italic=!1,this.underline=!1,this.labelColor="#252423",this.valueColor="#252423",this.background="#FFFFFF",this.transparency=0}}},50441:(e,t,r)=>{"use strict";r.d(t,{C7:()=>s,IO:()=>n,KD:()=>c}),r(55108);var n,i=r(11847),o=r(30327);!function(e){e.clusterShape="cluster_shape",e.clusterCircle="cluster_circle",e.refShape="reference_shae",e.primeShape="primary_shape",e.distanceLine="distance_line",e.travelRing="travel_ring",e.none="none"}(n||(n={}));const a=1e3;function s(e,t,r=a){return new l(e,t,r)}class l{constructor(e,t,r){this.visualHostTooltipService=e,this.handleTouchDelay=r,this.rootElement=t,this.tooltipEventArgs=null,this.tooltipInfo=null,this.visible=!1,this.shapeName="",this.handleTouchTimeoutId=void 0,this.isTouchEvent=!1,this.shapeType=n.none}addTooltip(e,t,r,i,a,s,l,c,u){if(!e||!this.visualHostTooltipService.enabled())return;if(r==n.clusterCircle)return this.visible=!0,void(this.shapeType=n.clusterCircle);const d=this.rootElement;d.style.cursor="-webkit-grab",d.style.cursor="grab";const h="getProperties"in t?t.getProperties().name:t.id,p=document.getElementsByClassName("eztMapContainer")[0];if(s||(i=[i[0]+2,i[1]+38]),!s&&p){const e=Number(p.dataset.powerbiScale);1!=e&&(i=[i[0]*e,i[1]*e])}const m=(e,t,r,n)=>{e.call(this.visualHostTooltipService,{coordinates:t,isTouchEvent:!0,dataItems:r,identities:n})};h===this.shapeName&&h?a?(this.isTouchEvent=!0,this.handleTouchTimeoutId=o.setTimeout((()=>{m(this.visualHostTooltipService.show,this.tooltipEventArgs.coordinates,this.tooltipInfo,this.selectionIds),this.handleTouchTimeoutId=void 0}),0)):this.visualHostTooltipService.show({coordinates:i,isTouchEvent:!1,dataItems:this.tooltipInfo,identities:this.selectionIds}):(this.tooltipEventArgs=this.makeTooltipEventArgs(t,i),this.tooltipInfo=l(this.tooltipEventArgs),"getProperties"in t&&(this.selectionIds=this.getSelectionIds(this.tooltipEventArgs,c)),a?(this.isTouchEvent=!0,this.cancelTouchTimeoutEvents(),this.handleTouchTimeoutId=o.setTimeout((()=>{m(this.visualHostTooltipService.show,this.tooltipEventArgs.coordinates,this.tooltipInfo,this.selectionIds),this.handleTouchTimeoutId=void 0}),0)):this.visualHostTooltipService.show({coordinates:this.tooltipEventArgs.coordinates,isTouchEvent:!1,dataItems:this.tooltipInfo,identities:this.selectionIds})),this.visible=!0,this.shapeName=h,this.shapeType=r}getSelectionIds(e,t){const r=t?t(e):null;return r?[r]:[]}cancelTouchTimeoutEvents(){this.handleTouchTimeoutId&&clearTimeout(this.handleTouchTimeoutId)}hide(e=!1){const t=this.rootElement;t.style.cursor="-webkit-grab",t.style.cursor="grab",this.shapeName="",this.shapeType=n.none,this.visible=!1,this.isTouchEvent&&this.cancelTouchTimeoutEvents(),this.visualHostTooltipService.hide({isTouchEvent:!1,immediately:!0})}makeTooltipEventArgs(e,t){let r=null;try{let n;n="getProperties"in e?e.getProperties():e.properties;const o=n.callOutProperties.map((e=>{let t=e.value;return e.format&&(t=i.G2.create({formatSingleValues:!0,format:e.format}).format(e.value)),{key:e.category,value:t}}));o.selectionId=n.selectionId,r={data:o,coordinates:t,color:n.fillColor,isTouchEvent:!1}}finally{return r}}move(e){const t=this.rootElement;t.style.cursor="-webkit-grab",t.style.cursor="grab";const r=e.pixel[0]-5,n=e.pixel[1]+35,i=e.shapes[0].getProperties().selectionId;this.visualHostTooltipService.move({coordinates:[r,n],isTouchEvent:!1,identities:[i]})}isVisible(){return this.visible}getShapeType(){return this.shapeType}}function c(e,t,r){return e.map((e=>"distanceLine"===r?{displayName:e.key,value:e.value?e.value.toString():"",header:"Distance line"}:"travelRing"===r?{displayName:e.key,value:e.value?e.value.toString():"",header:"Travel ring"}:r?{displayName:e.key,value:e.value?e.value.toString():"",header:r}:{displayName:e.key,value:e.value?e.value.toString():""}))}},80123:(e,t,r)=>{"use strict";r.d(t,{r:()=>u});var n=r(65624),i=r(66002),o=r(44678),a=r(22608),s=r(95475),l=r(86382),c=r(95281);function u(e,t,r,u,p,m,y,f,g,b){r.setOptions({mode:n.pW.DrawingMode.idle});var v=t.isCircle()?t.circlePolygon:t.toJson();let M=i.data.BoundingBox.fromData(v);if(u===l.RG.points){let t=y.eztPointOptions.pointOpacity,n=(0,c.zR)(y,t);const i=y.eztTerritoriesOptions.territoryOpacity,s=(0,c.EY)(y,i),l=p.getShapes(),u=[];if(y.eztPointOptions.clusterPoints&&(y.eztPointOptions.clusterPieChart||y.eztPointOptions.clusterLatLon)&&e.markers.getMarkers().forEach((e=>{"id"in e&&u.push(e)})),M.length>2){const e=[],c=[];for(let t=0;t<l.length;t++){const r=l[t],n=r.getCoordinates(),i=n[1],s=n[0];let u=(0,o.s)([s,i],M);if(u&&(u=(0,a.A)([Number(s),Number(i)],v),u)){const t=r.getProperties();e.push(t.selectionId),t.relatedTerr&&(c.find((e=>e===t.relatedTerr))||c.push(t.relatedTerr))}}for(let t=0;t<u.length;t++){const r=u[t],n=r.getOptions().position,i=n[1],s=n[0];let l=(0,o.s)([s,i],M);if(l&&(l=(0,a.A)([Number(s),Number(i)],v),l))if(y.eztPointOptions.clusterPieChart){const t=g.getLeaves(r.id,1/0,0);for(let r=0;r<t.length;r++){const n=t[r].properties;e.push(n.selectionId),n.relatedTerr&&(c.find((e=>e===n.relatedTerr))||c.push(n.relatedTerr))}}else y.eztPointOptions.clusterLatLon&&r.metadata.forEach((t=>{e.push(t.selectionId),t.relatedTerr&&(c.find((e=>e===t.relatedTerr))||c.push(t.relatedTerr))}))}if(e.length&&e.length>y.eztMapSettings.maxSelection){const o="Max selection reached. Only selected top "+y.eztMapSettings.maxSelection+" records. Use drawing tool to select "+y.eztMapSettings.maxSelection+" or less records.";h(m,e.slice(0,y.eztMapSettings.maxSelection),p,t,n,c,f,i,s,r,o,b)}else{if(!e.length)return r.getSource().clear(),[];h(m,e,p,t,n,c,f,i,s,r,null,null)}}}else if(u===l.RG.territories){const e=y.eztTerritoriesOptions.territoryOpacity,t=(0,c.EY)(y,e),n=p.getShapes(),i=[];for(let e=0;e<n.length;e++){const t=n[e];if((0,s.A)(v,t.data)){const e=t.getProperties();i.push(e.selectionId)}}if(i.length&&i.length>y.eztMapSettings.maxSelection){const n="Max selection reached. Only selected top "+y.eztMapSettings.maxSelection+" territories. Use drawing tool to select "+y.eztMapSettings.maxSelection+" or less territories.";d(m,i.slice(0,y.eztMapSettings.maxSelection),p,e,t,r,n,b)}else i.length?d(m,i,p,e,t,r,null,null):r.getSource().clear()}}function d(e,t,r,n,i,o,a,s){e.select(t,!1).then((e=>{const t=r.getShapes();for(let r=0;r<t.length;r++){const o=t[r],a=o.getProperties();let s=!1;if(e.length){for(let t=0;t<e.length;t++)if(e[t].getKey()==a.selectionId.key){s=!0;break}s&&a.fillOpacity!=n?o.addProperty("fillOpacity",n):s||a.fillOpacity==i||o.addProperty("fillOpacity",i)}else a.fillOpacity!=n&&o.addProperty("fillOpacity",n)}})).finally((()=>{o.getSource().clear(),a&&s(a)}))}function h(e,t,r,n,i,o,a,s,l,c,u,d){e.select(t,!1).then((e=>{const t=r.getShapes();for(let r=0;r<t.length;r++){const o=t[r],a=o.getProperties();let s=!1;if(e.length){for(let t=0;t<e.length;t++)if(e[t].getKey()==a.selectionId.key){s=!0;break}s?"customPointOpacityDefault"in a||a.fillOpacity==n?"customPointOpacityDefault"in a&&a.fillOpacity!=a.customPointOpacityDefault&&o.addProperty("fillOpacity",a.customPointOpacityDefault):o.addProperty("fillOpacity",n):s||("customPointOpacityDeSelect"in a||a.fillOpacity==i?"customPointOpacityDeSelect"in a&&a.fillOpacity!=a.customPointOpacityDeSelect&&o.addProperty("fillOpacity",a.customPointOpacityDeSelect):o.addProperty("fillOpacity",i))}else"customPointOpacityDeSelect"in a||a.fillOpacity==i?"customPointOpacityDeSelect"in a&&a.fillOpacity!=a.customPointOpacityDeSelect&&o.addProperty("fillOpacity",a.customPointOpacityDeSelect):o.addProperty("fillOpacity",i)}let c=[];if(o.length){c=a.getShapes();for(let e=0;e<c.length;e++){const t=c[e],r=t.getProperties();let n=!1;for(let e=0;e<o.length;e++){const r=o[e];t.getId()===r&&(n=!0)}n&&r.fillOpacity!==s?t.addProperty("fillOpacity",s):n||r.fillOpacity===l||t.addProperty("fillOpacity",l)}}})).finally((()=>{c.getSource().clear(),u&&d(u)}))}},4706:(e,t,r)=>{"use strict";r.d(t,{$F:()=>b,A2:()=>u,Cf:()=>f,DW:()=>T,KP:()=>w,N2:()=>x,SY:()=>h,Tv:()=>g,UB:()=>S,XK:()=>I,az:()=>m,ot:()=>v,t0:()=>M,t_:()=>_,uH:()=>p,vy:()=>y,wx:()=>d,zC:()=>c});var n=r(66002),i=r(1484),o=r(1582),a=r(44678),s=r(66362),l=r(30327);function c(e,t){const r=l.atlas||l.window.atlas,n=[];if(e.forEach((e=>{let a=null;if("Weather Radar"===e.id||"Weather Infrared"===e.id||"WmsTileLayer"===e.catalogName){const n=(0,o.R)(),s="Weather Radar"===e.id?"microsoft.weather.radar.main":"microsoft.weather.infrared.main";let l="",c=256;"WmsTileLayer"===e.catalogName?(l=e.url,c=e.size):l="Weather Radar"===e.id?"https://{azMapsDomain}/map/tile?api-version=2.0&tilesetId="+s+"&zoom={z}&x={x}&y={y}&timeStamp="+n:"https://{azMapsDomain}/map/tile?api-version=2.0&tilesetId="+s+"&zoom={z}&x={x}&y={y}",a=new r.layer.TileLayer({tileUrl:l,minSourceZoom:1,maxSourceZoom:24,tileSize:c,visible:e.visible,opacity:e.opacity},e.id),a.metadata={type:i.pl.azureTile},t.push(a)}else e.type===i.pl.mdnTile&&e.visible&&n.push({name:e.id,opacity:1,visible:e.visible})})),n.length){const e=n.map((e=>e.name)).join(",1,")+",1,",o=n.map((e=>e.name)),a="https://powerbi.easyterritory.com/mdn/REST/9.0/Map/EasyTerritory/Image/Qkey/{quadkey}/png8/?BleedRatio=1.1&MapBackgroundColor=00000000&MapCacheOption=ReadWrite&LayerVisibility="+e+"&tag=f31889fa-89e4-4178-fd31-231df7db31b6",s=new r.layer.TileLayer({tileUrl:a,minSourceZoom:1,maxSourceZoom:24,tileSize:256,visible:!0,opacity:1},"MDN Layer");s.metadata={type:i.pl.mdnTile,layerIds:o},t.unshift(s)}return t}function u(e,t){const r=new(l.atlas||l.window.atlas).layer.PolygonLayer(e,i.Dp.territoriesLayerId,{fillColor:["get","fillColor"],fillOpacity:["get","fillOpacity"],visible:t.terrLayerVisible,filter:["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"],["==",["geometry-type"],"GeometryCollection"]]});return r.metadata={type:i.pl.baseLayer},r}function d(e,t,r){const n=new(l.atlas||l.window.atlas).layer.LineLayer(e,i.Dp.lineLayerId,{strokeColor:r.eztTerritoriesOptions.territoryBorderColor,strokeWidth:r.eztTerritoriesOptions.territoryBorderWidth,visible:t.lineLayerVisible,strokeOpacity:.8,filter:["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]]});return n.metadata={type:i.pl.baseLayer},n}function h(e,t,r){const n=l.atlas||l.window.atlas,o=r.eztPointOptions,a=new n.layer.BubbleLayer(e,i.Dp.pointsLayerId,{minZoom:o.pointRenderMinZoom,opacity:["get","fillOpacity"],radius:["get","radius"],strokeColor:o.pointBorderColor,strokeWidth:o.pointBorderSize,strokeOpacity:["get","fillOpacity"],color:["get","fillColor"],visible:t.bubbleLayerVisible,filter:["all",["==",["geometry-type"],"Point"],["!",["has","point_count"]]]});return a.metadata={type:i.pl.baseLayer,calloutExpanded:o.expandCalloutByDefault},a}function p(e,t){const r=l.atlas||l.window.atlas,n=t.eztPointOptions,o=s.nx.find((e=>e.name===n.pointSymbolType)),a=new r.layer.SymbolLayer(e,i.Dp.pointsLayerId,{minZoom:n.pointRenderMinZoom,iconOptions:{allowOverlap:!0,anchor:o?o.anchor:"center",ignorePlacement:!0,size:["/",["get","radius"],10],opacity:["get","fillOpacity"],image:["get","entityType"]},filter:["all",["==",["geometry-type"],"Point"]]});return a.metadata={type:i.pl.baseLayer,calloutExpanded:n.expandCalloutByDefault},a}function m(e,t,r){const n=l.atlas||l.window.atlas,o=t.eztTerritoriesOptions,a={textField:["get","id"],size:o.size,color:o.fill,allowOverlap:!0,ignorePlacement:!0,optional:!0};let s=null;s="fixedLabels"===o.territoryLabels?["==",["geometry-type"],"Point"]:["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]];const c=new n.layer.SymbolLayer(e,i.Dp.symbolLayerId,{iconOptions:{image:"none"},textOptions:a,visible:r.symbolLayerVisible,maxZoom:o.maxZoom,minZoom:o.minZoom,filter:s});return c.metadata={type:i.pl.baseLayer},c}function y(e,t){const r=l.atlas||l.window.atlas;let n=null;n=["all",["==",["geometry-type"],"Point"]];const o={textField:["get","name"],size:t.size,color:t.fill,maxZoom:t.maxZoom,minZoom:t.minZoom,allowOverlap:!0,ignorePlacement:!0,optional:!0},a=new r.layer.SymbolLayer(e,i.Dp.terrRefSymbolLayer,{iconOptions:{image:"none"},textOptions:o,visible:t.labelsOn,maxZoom:t.maxZoom,minZoom:t.minZoom,filter:n});return a.metadata={type:i.pl.baseLayer},a}function f(e,t){const r=new(l.atlas||l.window.atlas).layer.BubbleLayer(e,i.Dp.pointsLayerId,{opacity:["get","fillOpacity"],radius:["get","radius"],strokeColor:"black",strokeOpacity:["get","fillOpacity"],strokeWidth:.25,color:["get","fillColor"],visible:!0,filter:["all",["==",["geometry-type"],"Point"],["==",["get","pointType"],"dataPoint"]]});return r.metadata={type:i.pl.baseLayer,calloutExpanded:t},r}function g(e,t){const r=new(l.atlas||l.window.atlas).layer.BubbleLayer(e,i.Dp.rangePointLayer,{opacity:t.eztTerritoriesOptions.centerPointOpacity,radius:["get","radius"],strokeColor:"black",strokeWidth:.25,color:t.eztTerritoriesOptions.centerPointColor,visible:!0,filter:["==",["geometry-type"],"Point"]});return r.metadata={type:i.pl.baseLayer},r}function b(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r].getProperties(),o=i.labelPoint,s=i.radius;if(o){const e=JSON.parse(o),r=(0,a.G)(e[0],e[1]),l=r.lon,c=r.lat,u=new n.data.Point(new n.data.Position(l,c));t.push(new n.data.Feature(u,{id:i.id,pointType:"terrSymbol",radius:s}))}}return new n.data.FeatureCollection(t)}function v(e,t){const r=l.atlas||l.window.atlas,n=t.eztPointOptions.pointOpacity;return new r.layer.BubbleLayer(e,i.Dp.clusterPoint,{radius:["step",["get","point_count"],20,100,30,750,40],opacity:n,color:t.eztPointOptions.fill,strokeColor:"black",strokeWidth:.25,filter:["has","point_count"]})}function M(e){return new(l.atlas||l.window.atlas).layer.SymbolLayer(e,i.Dp.clusterSymbol,{iconOptions:{allowOverlap:!0,ignorePlacement:!0,image:"none"},textOptions:{textField:["get","point_count_abbreviated"],offset:[0,.4]}})}function x(e){const t=new(l.atlas||l.window.atlas).layer.SymbolLayer(e,i.Dp.refPointLayer,{iconOptions:{allowOverlap:!0,ignorePlacement:!0,image:["get","entityType"],size:["/",["get","size"],80],opacity:["get","fillOpacity"],anchor:"center"},visible:!0});return t.metadata={type:i.pl.refLayer},t}function S(e){const t=new(l.atlas||l.window.atlas).layer.PolygonLayer(e,i.Dp.terrRefLayer,{fillColor:["get","fillColor"],fillOpacity:["get","fillOpacity"],visible:!0,filter:["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"],["==",["geometry-type"],"GeometryCollection"]]]});return t.metadata={type:i.pl.refLayer},t}function w(e){const t=new(l.atlas||l.window.atlas).layer.LineLayer(e,i.Dp.terrRefLineLayer,{strokeColor:["get","lineColor"],strokeWidth:["get","lineWidth"],strokeOpacity:["get","lineOpacity"],visible:!0,filter:["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"],["==",["geometry-type"],"GeometryCollection"]]]});return t.metadata={type:i.pl.refLayer},t}function _(e){return new(l.atlas||l.window.atlas).layer.LineLayer(e,"distanceLine",{strokeColor:["get","fillColor"],strokeWidth:["get","width"],visible:!1,strokeOpacity:["get","opacity"],filter:["==",["geometry-type"],"LineString"]})}function T(e){return new(l.atlas||l.window.atlas).layer.PolygonLayer(e,"travelRing",{fillColor:["get","fillColor"],fillOpacity:["get","fillOpacity"],visible:!1,filter:["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"],["==",["geometry-type"],"GeometryCollection"]]})}function I(e){return new(l.atlas||l.window.atlas).layer.LineLayer(e,"EZT Leader Line",{visible:!1})}},66362:(e,t,r)=>{"use strict";var n;r.d(t,{SS:()=>i,nx:()=>o,vC:()=>n}),function(e){e.dashed="dashed",e.solid="solid"}(n||(n={}));const i=[{PowerBiName:"UsCounties",CatalogLayerName:"US Counties",MdnLayerName:"US Counties",Line:n.solid},{PowerBiName:"GlobalStateBoundaries",CatalogLayerName:"Global State Boundaries",MdnLayerName:"OSM Global State Boundaries",Line:n.dashed},{PowerBiName:"GlobalCountryBoundaries",CatalogLayerName:"Global Country Boundaries",MdnLayerName:"OSM Global Country Boundaries",Line:n.solid},{PowerBiName:"UkPostalCodeAreas",CatalogLayerName:"UK Postal Code Areas",MdnLayerName:"UK Areas",Line:n.solid},{PowerBiName:"UkPostalCodeDistricts",CatalogLayerName:"UK Postal Code Districts",MdnLayerName:"UK Districts",Line:n.dashed},{PowerBiName:"UkPostalCodeSectors",CatalogLayerName:"UK Postal Code Sectors",MdnLayerName:"UK Sectors",Line:n.dashed},{PowerBiName:"GermanPostalCode",CatalogLayerName:"German Postal Codes",MdnLayerName:"German Postal Codes",Line:n.dashed},{PowerBiName:"UsZipCodes",CatalogLayerName:"US ZIP Codes",MdnLayerName:"US ZIP Codes",Line:n.dashed},{PowerBiName:"UsZipCodesV2",CatalogLayerName:"US ZIP Codes v2",MdnLayerName:"US ZIP Codes 2022",Line:n.dashed},{PowerBiName:"FrancePostalCodes",CatalogLayerName:"France Postal Codes",MdnLayerName:"France Postal Codes",Line:n.dashed},{PowerBiName:"SwitzerlandPostalCodes",CatalogLayerName:"Switzerland Postal Codes",MdnLayerName:"Switzerland Postal Codes",Line:n.dashed},{PowerBiName:"MexicoPostalCodes",CatalogLayerName:"Mexico Postal Codes",MdnLayerName:"Mexico Postal Codes",Line:n.dashed},{PowerBiName:"ChinaDistricts",CatalogLayerName:"China Districts",MdnLayerName:"China Districts",Line:n.solid},{PowerBiName:"ItalyComunes",CatalogLayerName:"Italy Comunes",MdnLayerName:"Italy Comunes",Line:n.solid},{PowerBiName:"ItalyProvinces",CatalogLayerName:"Italy Provinces",MdnLayerName:"Italy Provinces",Line:n.solid},{PowerBiName:"ItalyRegions",CatalogLayerName:"Italy Regions",MdnLayerName:"Italy Regions",Line:n.solid},{PowerBiName:"ItalyMacroregions",CatalogLayerName:"Italy Macroregions",MdnLayerName:"Italy Macroregions",Line:n.solid},{PowerBiName:"CanadianFSA",CatalogLayerName:"Canada FSA",MdnLayerName:"Canadian FSA",Line:n.dashed},{PowerBiName:"CanadianFSAV2",CatalogLayerName:"Canada FSA v2",MdnLayerName:"Canada FSA v2",Line:n.dashed},{PowerBiName:"CanadianFSAV3",CatalogLayerName:"Canada FSA v3",MdnLayerName:"Canada FSA v3",Line:n.dashed},{PowerBiName:"NetherlandsPostalCodes",CatalogLayerName:"Netherlands Postal Codes",MdnLayerName:"Netherlands Postal Codes",Line:n.dashed},{PowerBiName:"NorwayPostalCodes",CatalogLayerName:"Norway Postal Codes",MdnLayerName:"Norway Postal Codes",Line:n.dashed},{PowerBiName:"AustraliaPostalCodes",CatalogLayerName:"Australia Postal Codes",MdnLayerName:"Australia Postal Codes",Line:n.dashed},{PowerBiName:"BelgiumPostalCodes",CatalogLayerName:"Belgium Postal Codes",MdnLayerName:"Belgium Postal Codes",Line:n.dashed},{PowerBiName:"BrazilPostalCodes",CatalogLayerName:"Brazil Postal Codes",MdnLayerName:"Brazil Postal Codes",Line:n.dashed}],o=[{name:"marker",anchor:"bottom",pixelSize:24,calloutOffset:[0,-24]},{name:"marker-thick",anchor:"bottom",pixelSize:24,calloutOffset:[0,-24]},{name:"marker-circle",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"marker-flat",anchor:"bottom",pixelSize:24,calloutOffset:[0,-24]},{name:"marker-square",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"marker-square-cluster",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"marker-arrow",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"marker-ball-pin",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"marker-square-rounded",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"marker-square-rounded-cluster",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"flag",anchor:"bottom-left",pixelSize:28,calloutOffset:[0,-28]},{name:"flag-triangle",anchor:"bottom-left",pixelSize:28,calloutOffset:[0,-28]},{name:"triangle",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"triangle-thick",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"triangle-arrow-up",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"triangle-arrow-left",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"hexagon",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"hexagon-thick",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"hexagon-rounded",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"hexagon-rounded-thick",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"pin",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"pin-round",anchor:"bottom",pixelSize:18,calloutOffset:[0,-18]},{name:"rounded-square",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"rounded-square-thick",anchor:"center",pixelSize:18,calloutOffset:[0,0]},{name:"car",anchor:"center",pixelSize:18,calloutOffset:[0,0]}]},89703:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});const n=[{id:"circle",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke= "blue" stroke-width="0" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z"/></svg>'},{id:"square",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" shape-rendering="geometricPrecision" d="M0 0H512V512H0V0z"/></svg>'},{id:"triangle",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" stroke-linejoin="round" d="M0 480L256 32 512 480H0z"/></svg>'},{id:"invertedTriangle",svg:'<svg transform="scale(1 -1)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" stroke-linejoin="round" d="M0 480L256 32 512 480H0z"/></svg>'},{id:"diamond",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M0 256L256 0 512 256 256 512 0 256z"/></svg>'},{id:"solidpin",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M384 192c0 112-192 320-192 320S0 304 0 192C0 86 86 0 192 0S384 86 384 192z"/></svg>'},{id:"circle2",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-160c-53 0-96-43-96-96s43-96 96-96s96 43 96 96s-43 96-96 96z"/></svg>'},{id:"square2",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M464 48V464H48V48H464zM48 0H0V48 464v48H48 464h48V464 48 0H464 48z"/></svg>'},{id:"triangle2",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M0 480l27.4-48L228.4 80.4 256 32l27.6 48.4L484.6 432 512 480H456.7 55.3 0zM256 128.7L82.7 432H429.3L256 128.7z"/></svg>'},{id:"invertedTriangle2",svg:'<svg transform="scale(1 -1)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" >\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M0 480l27.4-48L228.4 80.4 256 32l27.6 48.4L484.6 432 512 480H456.7 55.3 0zM256 128.7L82.7 432H429.3L256 128.7z"/></svg>'},{id:"diamond2",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M0 256l33.9 33.9L222.1 478.1 256 512l33.9-33.9L478.1 289.9 512 256l-33.9-33.9L289.9 33.9 256 0 222.1 33.9 33.9 222.1 0 256zM256 444.1L67.9 256 256 67.9 444.1 256 256 444.1z"/></svg>'},{id:"pin",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M80 144a96 96 0 1 1 192 0A96 96 0 1 1 80 144zM200 286c68.1-11.4 120-70.7 120-142C320 64.5 255.5 0 176 0S32 64.5 32 144c0 71.4 51.9 130.6 120 142V488v24h48V488 286z"/></svg>'},{id:"star4",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M298.7 330.7l95.7-47.8L448 256l-53.7-26.8-95.7-47.8L250.8 85.7 224 32 197.2 85.7l-47.8 95.7L53.7 229.2 0 256l53.7 26.8 95.7 47.8 47.8 95.7L224 480l26.8-53.7 47.8-95.7zm-74.7 42l-31.7-63.5-7.2-14.3-14.3-7.2L107.3 256l63.5-31.7 14.3-7.2 7.2-14.3L224 139.3l31.7 63.5 7.2 14.3 14.3 7.2L340.7 256l-63.5 31.7-14.3 7.2-7.2 14.3L224 372.7z"/></svg>'},{id:"star",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M288.1 0l86.5 164 182.7 31.6L428 328.5 454.4 512 288.1 430.2 121.7 512l26.4-183.5L18.9 195.6 201.5 164 288.1 0z"/></svg>'},{id:"star6",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm42.3-314.2L256 112l-42.3 85.8L119 211.5l68.5 66.7-16.2 94.2L256 328l84.6 44.5-16.2-94.2L393 211.5l-94.6-13.8z"/></svg>'},{id:"superstar",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M226.5 32.7L256 57.2l29.5-24.6L324.6 0l17.6 47.9 13.2 36 37.8-6.6 50.2-8.7-8.7 50.2-6.6 37.8 36 13.2L512 187.4l-32.7 39.1L454.8 256l24.6 29.5L512 324.6l-47.9 17.6-36 13.2 6.6 37.8 8.7 50.2-50.2-8.7-37.8-6.6-13.2 36L324.6 512l-39.1-32.7L256 454.8l-29.5 24.6L187.4 512l-17.6-47.9-13.2-36-37.8 6.6-50.2 8.7 8.7-50.2 6.6-37.8-36-13.2L0 324.6l32.7-39.1L57.2 256 32.7 226.5 0 187.4l47.9-17.6 36-13.2-6.6-37.8L68.6 68.6l50.2 8.7 37.8 6.6 13.2-36L187.4 0l39.1 32.7zM209 80.5l-7.3 19.9L187.9 138l-39.5-6.8-20.9-3.6 3.6 20.9 6.8 39.5-37.6 13.8L80.5 209l13.6 16.3L119.7 256 94.1 286.7 80.5 303l19.9 7.3L138 324.1l-6.8 39.5-3.6 20.9 20.9-3.6 39.5-6.8 13.8 37.6 7.3 19.9 16.3-13.6L256 392.3l30.7 25.7L303 431.5l7.3-19.9L324.1 374l39.5 6.8 20.9 3.6-3.6-20.9L374 324.1l37.6-13.8 19.9-7.3-13.6-16.3L392.3 256l25.7-30.7L431.5 209l-19.9-7.3L374 187.9l6.8-39.5 3.6-20.9-20.9 3.6L324.1 138l-13.8-37.6L303 80.5 286.7 94.1 256 119.7 225.3 94.1 209 80.5z"/></svg>'},{id:"paintswath",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M279.6 161.7l22-87.8L320 0 259.1 45.7 0 240v48l68.2 9.1 47.9 6.4-11.7 46.9-22 87.8L64 512l60.9-45.7L384 272V224l-68.2-9.1-47.9-6.4 11.7-46.9zm36 101.7L143.4 392.5l19.3-77.4 13-52.1-53.3-7.1-54.1-7.2L240.6 119.5l-19.3 77.4-13 52.1 53.3 7.1 54.1 7.2z"/></svg>'},{id:"solidsquarepin",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M64 0H32V64H64 93.5L82.1 212.1C23.7 240.7 0 293 0 320v32H384V320c0-22.5-23.7-76.5-82.1-106.7L290.5 64H320h32V0H320 64zm96 480v32h64V480 384H160v96z"/></svg>'},{id:"user",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>'},{id:"vehicle",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">\x3c!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M0 0H416V96h64 13.3l9.4 9.4 96 96 9.4 9.4V224v32 32 64h32v64H608 576c0 53-43 96-96 96s-96-43-96-96H256c0 53-43 96-96 96s-96-43-96-96H0V0zM544 237.3L466.7 160H464 416v96H544V240v-2.7zM208 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm272 48a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"/></svg>'},{id:"residence",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M511.8 287.6H576V240L288.4 0 0 240v47.6H64.1V512H224V352H352V512H512.8l-1-224.4z"/></svg>'},{id:"gear",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M302.7 0h-96l-7 55.7c-16.8 4.7-32.7 11.5-47.5 20L107.6 41 39.7 108.9l35 45c-8.3 14.7-14.8 30.4-19.4 47L-1.3 208 0 304l55.3 7c4.5 16.6 11.1 32.4 19.4 47.1l-35 45L107.6 471l44.6-34.7c14.8 8.5 30.7 15.3 47.5 20l7 55.7h96l6.9-55c17.2-4.6 33.6-11.3 48.7-19.9L401.8 471l67.9-67.9L436.2 360c8.8-15.3 15.8-31.8 20.6-49.3l54-6.7V208l-54-6.7c-4.7-17.4-11.7-34-20.6-49.3l33.5-43.1L401.8 41 358.3 74.9c-15.2-8.6-31.5-15.3-48.7-19.9L302.7 0zM256 176a80 80 0 1 1 0 160 80 80 0 1 1 0-160z"/></svg>'},{id:"tower",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M64 96L256 0 448 96v32H416V256H379.1l32 192H480h32v64H480 384.5c-.4 0-.8 0-1.1 0H128.6c-.4 0-.8 0-1.1 0H32 0V448H32h68.9l32-192H96V128H64V96zM314.5 448L256 399.2 197.5 448h117zM193.1 284.3L256 336.8l62.9-52.5L314.2 256H197.8l-4.7 28.3zm-9.1 54.9l-11.2 67L218.5 368l-34.6-28.8zM293.5 368l45.8 38.1-11.2-67L293.5 368zM352 128H160v32H352V128z"/></svg>'},{id:"squarepin",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path fill="red" stroke="blue" stroke-width="0" d="M264.6 218.2l17.8 13c18.8 13.8 32.7 32.1 41.9 49.6c5.1 9.7 8 17.7 9.7 23.2H216V216 192H168v24 88H49.4c.2-1 .5-2.1 .9-3.2c1.9-6.5 4.9-14.4 9.4-22.9c9-17 22.6-34.5 41.2-47.6l18.6-13 1.7-22.6L132.4 48H251.6L263 196.2l1.7 22zM216 352H336h48V312c0-2.3-.2-4.9-.7-8c-4.1-25.8-26-77.6-72.5-111.5L299.7 48H328h24V0H328 296 88 56 32V48H56 84.3l-11 143C26.1 224.1 4.2 275.6 .6 304c-.4 2.9-.6 5.6-.6 8v40H48 168V488v24h48V488 352z"/></svg>'}]},32166:(e,t,r)=>{"use strict";r.d(t,{cJ:()=>c,qO:()=>i,tX:()=>o,tY:()=>a,uF:()=>s});var n=r(11847);function i(e,t,r){const i=document.createElement("div");i.setAttribute("class","table-div"),i.style.padding="12px 10px 8px 10px",t?(i.setAttribute("data-type","point"),i.setAttribute("id",e.id)):i.setAttribute("data-type","polygon");const o=document.createElement("table");return o.setAttribute("class","callout-table"),i.appendChild(o),e.callOutProperties.forEach((function(e,t){let i=document.createElement("tr"),a=document.createElement("td");if(a.textContent=e.category,a.style.color=r.labelColor,o.appendChild(i),i.appendChild(a),"object"!=typeof e.value){const r=document.createElement("td");0===t&&r.setAttribute("class","callout-tableName"),r.style.textAlign="left";let o=e.value;e.format&&(o=n.G2.create({formatSingleValues:!0,format:e.format}).format(e.value)),r.textContent=o,i.appendChild(r)}})),i}function o(e,t,r,i,o,a,s,c,u){const d=t;let h,p,m;if("getProperties"in d)h=d.getProperties(),p=h.callOutProperties,m=h.hyperlinks;else if("callOutProperties"in d.properties&&"string"==typeof d.properties.callOutProperties)try{h=d.properties,p=JSON.parse(d.properties.callOutProperties),m=d.properties.hyperlinks?JSON.parse(d.properties.hyperlinks):void 0}catch(e){h=d.properties,p=h.callOutProperties,m=h.hyperlinks}else h=d.properties,p=h.callOutProperties,m=h.hyperlinks;const y=document.createElement("div");y.setAttribute("class","table-div"),y.setAttribute("id",h.id),y.setAttribute("data-type","point");const f=document.createElement("div");if(s){f.setAttribute("class","callout-header draggable");const e=document.createElement("div");e.setAttribute("class","move-popup move-icon"),f.appendChild(e)}else f.setAttribute("class","callout-header");const g=document.createElement("div");g.setAttribute("class","callout-expand-div");const b=document.createElement("button");r?b.setAttribute("class","callout-header-btn arrow-up"):b.setAttribute("class","callout-header-btn arrow-down"),g.appendChild(b),f.appendChild(g),y.appendChild(f);const v=document.createElement("table");v.setAttribute("class","callout-table"),y.appendChild(v),v.style.display=r?"block":"none";const M=document.createElement("div");M.setAttribute("class","callout-title");const x=document.createElement("span");x.style.margin="12px",r?M.style.display="none":(M.style.padding="6px 0 6px 0",M.style.display="inline-block");let S=h.id;x.textContent=S,M.appendChild(x),y.appendChild(M);let w=[];p.forEach((function(e,t){let r=e.category,i=document.createElement("tr"),a=document.createElement("td");if(a.style.color=o.labelColor,a.textContent=r,v.appendChild(i),i.appendChild(a),"object"!=typeof e.value){const o=document.createElement("td");0===t&&o.setAttribute("class","callout-tableName"),o.style.textAlign="left";let a=e.value;if(e.format&&(a=n.G2.create({formatSingleValues:!0,format:e.format}).format(e.value)),m&&m.length){const e=m.findIndex((e=>e.targetCol==r));-1!=e&&(o.onclick=()=>u.launchUrl(m[e].value),o.style.textDecoration="underline",o.style.color="#0000EE",o.style.cursor="pointer",w.push(e))}o.textContent=a,i.appendChild(o)}})),m&&m.length&&m.forEach((function(e,t){if(-1==w.findIndex((e=>e==t))){let r=document.createElement("tr"),n=document.createElement("td");n.textContent=e.category,n.style.color=o.labelColor,v.appendChild(r),r.appendChild(n);const i=document.createElement("td");0===t&&i.setAttribute("class","callout-tableName"),i.style.textAlign="left",i.style.textDecoration="underline",i.style.color="#0000EE",i.style.cursor="pointer",i.onclick=()=>u.launchUrl(e.value);let a=e.label||e.value;i.textContent=a,r.appendChild(i)}}));const _=document.createElement("div");_.setAttribute("class","footer-div"),_.style.display=r?"block":"none";const T=document.createElement("button");T.setAttribute("class","tRing-btn"),T.textContent="Travel ring",T.onclick=()=>i();const I=document.createElement("button");I.setAttribute("class","eztDistanceLineBtn"),y.appendChild(_);const C=document.createElement("button");if(C.setAttribute("class","eztDistanceLineBtn"),C.textContent="Filter",C.onclick=()=>c(),y.appendChild(_),a)if(I.textContent="Distance",I.onclick=()=>a(),I.style.paddingRight="4px",e.popups.getPopups().length>0){_.append(I,T);const t=e.popups.getPopups();if(1===t.length){const e=h.id,r=t.find((t=>{if(t.getOptions().content.id!=e)return t}));if(r){const e=r.getOptions(),t=e.content,n=t.getElementsByClassName("eztDistanceLineBtn");if(n.length){const i=n[0];i.disabled=!1,i.style.cursor="pointer",i.title="Create a distance line based on two data points.",e.content=t,r.setOptions(e)}}}}else I.disabled=!0,I.style.cursor="not-allowed",I.title="Please select additional data point to enable.",_.append(I,T);else i&&_.appendChild(T),c&&_.appendChild(C);return b.addEventListener("click",l(M,b,v,_)),y}function a(e,t,r,n){const i=document.createElement("div");i.setAttribute("class","address-callout"),i.setAttribute("id",e),i.setAttribute("data-type","point");const o=document.createElement("div");o.style.textAlign="center",o.textContent=e;const a=document.createElement("div");a.setAttribute("class","footer-div");const s=document.createElement("button");s.setAttribute("class","tRing-btn"),s.title="Create a travel ring based on time or distance from this location.",s.textContent="Travel ring",s.onclick=()=>r(),i.appendChild(o),i.appendChild(a);const l=document.createElement("button");return l.setAttribute("class","eztDistanceLineBtn"),l.title="Create a distance line based on two data points.",l.textContent="Distance",l.onclick=()=>n(),l.style.paddingRight="4px",a.append(l,s),i}function s(e,t,r,n,i){const o=document.createElement("div");o.setAttribute("class","table-div"),o.setAttribute("id",t.id),o.setAttribute("data-type","line");const a=document.createElement("div");a.setAttribute("class","callout-expand-div"),a.style.justifyContent="right",a.style.paddingRight="4px",a.style.paddingTop="4px";const s=document.createElement("button");s.setAttribute("class","callout-header-btn arrow-down"),a.appendChild(s),o.appendChild(a);const c=t.callOutProperties.Distance,u=document.createElement("div");u.setAttribute("class","callout-title"),u.style.display="inline-block";const d=document.createElement("span");d.style.margin="12px",d.textContent=c,u.appendChild(d),o.appendChild(u);const h=document.createElement("table");h.setAttribute("class","callout-table"),h.style.display="none",o.appendChild(h),Object.keys(t.callOutProperties).forEach((function(e,r){let n=document.createElement("tr"),o=document.createElement("td");if(o.textContent=e,h.appendChild(n),n.appendChild(o),o.style.color=i.labelColor,"object"!=typeof t.callOutProperties[e]){const i=document.createElement("td");0===r&&i.setAttribute("class","callout-tableName"),i.style.textAlign="left",i.textContent=t.callOutProperties[e],n.appendChild(i)}}));const p=document.createElement("div");p.setAttribute("class","footer-div"),p.style.textAlign="right",p.style.display="none";const m=document.createElement("button");return m.setAttribute("class","remove-btn"),m.title="Clear distance line.",m.textContent="Clear",s.addEventListener("click",l(u,s,h,p)),m.onclick=()=>{const t=n.popups.getPopups().find((t=>e===t.getOptions().content.id));n.popups.remove(t),r.removeById(e)},o.appendChild(p),p.appendChild(m),o}function l(e,t,r,n){return i=>{"inline-block"===e.style.display?(e.style.display="none",e.style.padding="0",t.setAttribute("class","callout-header-btn arrow-up")):(e.style.display="inline-block",e.style.padding="6px 0 6px 0",t.setAttribute("class","callout-header-btn arrow-down")),"none"===r.style.display?(r.style.display="block",n.style.display="block"):(r.style.display="none",n.style.display="none")}}const c=(e,t)=>{e.style.fontSize=1.33333*t.fontSize+"px",e.style.fontFamily=t.fontFamily,e.style.color=t.valueColor,t.bold&&(e.style.fontWeight="bold"),t.underline&&(e.style.textDecoration="underline"),t.italic&&(e.style.fontStyle="italic"),e.style.opacity=((100-t.transparency)/100).toString()}},2514:(e,t,r)=>{"use strict";r.d(t,{Jm:()=>s,KB:()=>d,Mj:()=>o,Q:()=>a,Qr:()=>c,Y7:()=>u,bT:()=>l,qj:()=>i});var n=r(20400);function i(e,t){let r=!1,n=null,i=null;return e.forEach((e=>{null!=e.rangeMax?t<=e.rangeMax&&!r&&(n=e.gradient,i=e.symbolId,r=!0):t>=e.rangeMin&&!r&&(n=e.gradient,i=e.symbolId,r=!0)})),{colorGradient:n,symbolId:i}}function o(e,t){let r=!1,n=null,i=!1,o=null,a=null,s=null;if(e.forEach(((e,l,c)=>{t!==e.exact||r||(n=e.gradient,r=!0,i=!0,o=e.symbolId,a=e.opacity,s=e.deSelectOpacity)})),i)return{colorGradient:n,symbolId:o,opacity:a,deSelectOpacity:s};{const t=e[e.length-1];return{colorGradient:t.gradient,symbolId:t.symbolId,opacity:t.opacity,deSelectOpacity:t.deSelectOpacity}}}function a(e,t,r,i,o,a,s,l){let c=n.$;var u=[];if("range"===e){if("equalInterval"===o){var d=Number(r);g=t.values.length<d?t.values.length:d;const e=Math.ceil(Number(t.maxLocal)),n=Math.floor(Number(t.minLocal));var h=e-n;c.forEach((e=>{"colorGradient_"+i+"_"+g==e.name&&(x=e.colors)}));var p,m=h/g;for(p=0;p<g;p++){var y=n+p*m,f=n+(p+1)*m-.01;(b={rangeMin:null,rangeMax:null,gradient:null,highlighted:!0,type:"Range",isCustom:!1,symbolId:"",symbolType:""}).rangeMin=p>0?y:n,b.rangeMax=p<g-1?f:e,b.gradient=x[p],b.symbolId=s&&s+"-"+x[p],b.symbolType=s,u.push(b)}}else if("quantile"===o){var g;d=Number(r),g=t.values.length<d?t.values.length:d;const e=Math.ceil(Number(t.maxLocal)),n=Math.floor(Number(t.minLocal)),o=[];let l={},h=0;for(let e=0;e<a.length;e++){let t=a[e];null!=t&&null!=t&&(t in l||(l[t]=!0,o.push(t),h++))}o.sort(((e,t)=>parseFloat(Number(e).toFixed(2))-parseFloat(Number(t).toFixed(2)))),c.forEach((e=>{"colorGradient_"+i+"_"+g==e.name&&(x=e.colors)}));const S=o.length,w=Math.floor(S/g);for(p=0;p<g;p++){var b={rangeMin:null,rangeMax:null,gradient:null,highlighted:!0,type:"Range",isCustom:!1,symbolId:"",symbolType:""},v=p*w,M=Math.min((p+1)*w,S-1);y=parseFloat(Number(o[v]).toFixed(2)),m=(f=parseFloat(Number(o[M]).toFixed(2)))-y,b.rangeMin=p>0?y:n,b.rangeMax=p<g-1?f-m/1e6:e,b.gradient=x[p],b.symbolId=s&&s+"-"+x[p],b.symbolType=s,u.push(b)}}else if("custom"===o){let e=1;const t=Number(r);for(let r=0;r<t;r++){const t=`customRange${e}b`,n=`customColor${e}`,i=`customOpacity${e}`;let o=l[`customRange${e}a`],a=l[t],c=l[n];const d=s&&s+"-"+c[r];if(o||(o=0),o=Number(o),a){a=Number(a);let e={rangeMin:o,rangeMax:a,gradient:c,highlighted:!0,type:"Range",isCustom:!0,symbolId:d,symbolType:s,opacity:i};u.push(e)}else{let e={rangeMin:o,gradient:c,highlighted:!0,type:"Range",symbolId:d,symbolType:s};u.push(e)}e++}}}else{const e=t.values.filter(((e,t,r)=>r.indexOf(e)===t));let r=e.length;const n=r>=9;var x;n&&(r=9),c.forEach((e=>{"colorGradient_"+i+"_"+r==e.name&&(x=e.colors)})),n?x.forEach(((t,n,i)=>{e.forEach(((e,o)=>{n!==r-1&&n===o?u.push({exact:e,gradient:t,highlighted:!0,type:"Exact",symbolType:s,symbolId:s&&s+"-"+t}):n===o&&u.push({exact:"Other",gradient:i[r-1],highlighted:!0,type:"Exact",symbolType:s,symbolId:s&&s+"-"+t})}))})):x.forEach(((t,r)=>{e.forEach(((e,n)=>{if(r===n){var i={exact:e,gradient:t,highlighted:!0,type:"Exact",symbolType:s,symbolId:s&&s+"-"+t};u.push(i)}}))}))}return u}function s(e,t,r){const i=e.categorical.values[0].values,o=[],a=[];let s,l="";"bubble"!==r.eztPointOptions.pointSymbolType&&"multicolor"===r.eztClassification.eztColorGradExact&&(l=r.eztPointOptions.pointSymbolType);for(let e of i){if(a.length>150)break;let t=!1;for(let r of a)if(e===r){t=!0;break}t||a.push(e)}const c=a.length;if(c>=20){let e=0;for(let t=0;t<20;t++){const i=a[t];if(t<=20){let t=n.O[e];"custom"===r.eztClassification.eztColorGradExact&&(t=r.eztClassification[`customColor${e+1}`],l=r.eztClassification[`customSymbol${e+1}`],s=r.eztClassification[`customOpacity${e+1}`]),o.push({exact:i,type:"Exact",gradient:t,symbolType:l,symbolId:l&&l+"-"+t,opacity:s,deSelectOpacity:s/2,customColorName:`customColor${e+1}`,customSymbolName:`customSymbol${e+1}`,customOpacityName:`customOpacity${e+1}`}),e++}}let t="#000000";"custom"===r.eztClassification.eztColorGradExact&&(t=r.eztClassification.customColorOther,l=r.eztClassification.customSymbolOther,s=r.eztClassification.customOpacityOther),o.sort(((e,t)=>""==e.exact?1:""==t.exact?-1:e.exact>t.exact?1:-1)),o.push({exact:"Other",type:"Exact",gradient:t,symbolType:l,symbolId:l&&l+"-"+t,opacity:s,deSelectOpacity:s/2,customColorName:"customColorOther",customSymbolName:"customSymbolOther",customOpacityName:"customOpacityOther"})}else{const e=Math.round(150/c);let i=0;for(let t=0;t<c;t++){let c=n.O[i];"custom"===r.eztClassification.eztColorGradExact&&(c=r.eztClassification[`customColor${i+1}`],l=r.eztClassification[`customSymbol${i+1}`],s=r.eztClassification[`customOpacity${i+1}`]),o.push({exact:a[t],type:"Exact",gradient:c,symbolType:l,symbolId:l&&l+"-"+c,opacity:s,deSelectOpacity:s/2,customColorName:`customColor${i+1}`,customSymbolName:`customSymbol${i+1}`,customOpacityName:`customOpacity${i+1}`}),"custom"===r.eztClassification.eztColorGradExact?i++:i+=e}if(o.sort(((e,t)=>""==e.exact?1:""==t.exact?-1:e.exact>t.exact?1:-1)),"static"===t){let e="#000000";"custom"===r.eztClassification.eztColorGradExact&&(e=r.eztClassification.customColorOther,l=r.eztClassification.customSymbolOther,s=r.eztClassification.customOpacityOther),o.push({exact:"Other",type:"Exact",gradient:e,symbolType:l,symbolId:l&&l+"-"+e,opacity:s,deselectOpacity:s/2,customColorName:"customColorOther",customSymbolName:"customSymbolOther",customOpacityName:"customOpacityOther"})}}return o}function l(e,t,r){let i=n.$;var o;const a=Number(e);i.forEach((r=>{"colorGradient_"+t+"_"+e==r.name&&(o=r.colors)}));const s=[];for(let e=1;e<a+1;e++)s.push({rangeMin:r[`customClass${e}A`],rangeMax:r[`customClass${e}B`],gradient:o[e-1],highlighted:!0,type:"Range"});return s}function c(e,t){let r=!1;try{for(let n=0;n<t.length;n++){const i=t[n],o=e[n];if(i.gradient!=o.gradient){r=!0;break}}return r}catch(e){return!1}}function u(e,t,r,n){const i=r<=14?4:6,o=(n-e)*(r-i)/(t-e)+i;return Number.isNaN(o)?r:o}function d(e,t){const r=(t-e)/4,n=[];for(let t=1;t<=3;t++){const i=Math.round(e+t*r);n.push(i)}return n}r(86382)},20400:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,O:()=>i});const n=[{name:"colorGradient_red_1",colors:["#fc9272"]},{name:"colorGradient_red_2",colors:["#fc9272","#de2d26"]},{name:"colorGradient_red_3",colors:["#fee0d2","#fc9272","#de2d26"]},{name:"colorGradient_red_4",colors:["#fee5d9","#fcae91","#fb6a4a","#cb181d"]},{name:"colorGradient_red_5",colors:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"]},{name:"colorGradient_red_6",colors:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"]},{name:"colorGradient_red_7",colors:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"]},{name:"colorGradient_red_8",colors:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"]},{name:"colorGradient_red_9",colors:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},{name:"colorGradient_green_1",colors:["#a1d99b"]},{name:"colorGradient_green_2",colors:["#a1d99b","#31a354"]},{name:"colorGradient_green_3",colors:["#e5f5e0","#a1d99b","#31a354"]},{name:"colorGradient_green_4",colors:["#edf8e9","#bae4b3","#74c476","#238b45"]},{name:"colorGradient_green_5",colors:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"]},{name:"colorGradient_green_6",colors:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"]},{name:"colorGradient_green_7",colors:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"]},{name:"colorGradient_green_8",colors:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"]},{name:"colorGradient_green_9",colors:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},{name:"colorGradient_blue_1",colors:["#9ecae1"]},{name:"colorGradient_blue_2",colors:["#9ecae1","#3182bd"]},{name:"colorGradient_blue_3",colors:["#deebf7","#9ecae1","#3182bd"]},{name:"colorGradient_blue_4",colors:["#eff3ff","#bdd7e7","#6baed6","#2171b5"]},{name:"colorGradient_blue_5",colors:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"]},{name:"colorGradient_blue_6",colors:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"]},{name:"colorGradient_blue_7",colors:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"]},{name:"colorGradient_blue_8",colors:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"]},{name:"colorGradient_blue_9",colors:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},{name:"colorGradient_purple_1",colors:["#bcbddc"]},{name:"colorGradient_purple_2",colors:["#bcbddc","#756bb1"]},{name:"colorGradient_purple_3",colors:["#efedf5","#bcbddc","#756bb1"]},{name:"colorGradient_purple_4",colors:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"]},{name:"colorGradient_purple_5",colors:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"]},{name:"colorGradient_purple_6",colors:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"]},{name:"colorGradient_purple_7",colors:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"]},{name:"colorGradient_purple_8",colors:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"]},{name:"colorGradient_purple_9",colors:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},{name:"colorGradient_grey_1",colors:["#bdbdbd"]},{name:"colorGradient_grey_2",colors:["#bdbdbd","#636363"]},{name:"colorGradient_grey_3",colors:["#f0f0f0","#bdbdbd","#636363"]},{name:"colorGradient_grey_4",colors:["#f7f7f7","#cccccc","#969696","#525252"]},{name:"colorGradient_grey_5",colors:["#f7f7f7","#cccccc","#969696","#636363","#252525"]},{name:"colorGradient_grey_6",colors:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"]},{name:"colorGradient_grey_7",colors:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"]},{name:"colorGradient_grey_8",colors:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"]},{name:"colorGradient_grey_9",colors:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},{name:"colorGradient_multi_1",colors:["#fc9272"]},{name:"colorGradient_multi_2",colors:["#fc9272","#a1d99b"]},{name:"colorGradient_multi_3",colors:["#fc9272","#a1d99b","#9ecae1"]},{name:"colorGradient_multi_4",colors:["#fc9272","#a1d99b","#9ecae1","#756bb1"]},{name:"colorGradient_multi_5",colors:["#fc9272","#a1d99b","#9ecae1","#756bb1","#bcbddc"]},{name:"colorGradient_multi_6",colors:["#fc9272","#a1d99b","#9ecae1","#756bb1","#bcbddc","#e6550d"]},{name:"colorGradient_multi_7",colors:["#fc9272","#a1d99b","#9ecae1","#756bb1","#bcbddc","#e6550d","#f5e050"]},{name:"colorGradient_multi_8",colors:["#fc9272","#a1d99b","#9ecae1","#756bb1","#bcbddc","#e6550d","#f5e050","#ffc0cb"]},{name:"colorGradient_multi_9",colors:["#fc9272","#a1d99b","#9ecae1","#756bb1","#bcbddc","#e6550d","#f5e050","#ffc0cb","#333333"]},{name:"colorGradient_diverging_1",colors:["#fc8d59"]},{name:"colorGradient_diverging_2",colors:["#fc8d59","#91cf60"]},{name:"colorGradient_diverging_3",colors:["#fc8d59","#ffffbf","#91cf60"]},{name:"colorGradient_diverging_4",colors:["#d7191c","#fdae61","#a6d96a","#1a9641"]},{name:"colorGradient_diverging_5",colors:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"]},{name:"colorGradient_diverging_6",colors:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"]},{name:"colorGradient_diverging_7",colors:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"]},{name:"colorGradient_diverging_8",colors:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"]},{name:"colorGradient_diverging_9",colors:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"]}],i=["#118DFF","#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550","#197278","#1AAB40","#15C6F4","#4092FF","#FFA058","#BE5DC9","#F472D0","#B5A1FF","#C4A200","#FF8080","#00DBBC","#5BD667","#0091D5","#4668C5","#FF6300","#99008A","#EC008C","#533285","#99700A","#FF4141","#1F9A85","#25891C","#0057A2","#002050","#C94F0F","#450F54","#B60064","#34124F","#6A5A29","#1AAB40","#BA141A","#0C3D37","#0B511F","#373D49","#FDB15D","#AAF20F","#5F646D","#8AA3EB","#FEE266","#A6687A","#3557B8","#DFCFBF","#4A91C5","#5F646D","#FBBF81","#C9F459","#7F838A","#A4B8EE","#FDE489","#B68794","#28428A","#A79B8F","#165889","#292E37","#BB824A","#8DB525","#474A52","#6A7CB0","#BDA750","#7B4F5A","#1B2C5C","#706860","#0F3C5C","#1C1E25","#7D5731","#5D7918","#303237","#475375","#7E6F36","#52343D","#0D152E","#544E48","#010EB8","#393749","#F9FD5D","#38F20F","#615F6D","#A08AEB","#CEFE66","#A67668","#5435B8","#DFDFBF","#4A53C5","#615F6D","#FAFB81","#7CF459","#807F8A","#B5A4EE","#DBFD89","#B69087","#3F288A","#A7A78F","#161F89","#2A2937","#BBBB4A","#45B525","#494752","#7A6AB0","#9CBD50","#7B594F","#291B5C","#707060","#0F155C","#1E1C25","#7C7D31","#2D7918","#303037","#514775","#697E36","#523B34","#140D2E","#545448","#4E01B8","#423749","#A9FD5D","#0FF256","#675F6D","#D18AEB","#82FE66","#A69468","#9535B8","#CFDFBF","#7D4AC5","#675F6D","#BCFB81","#59F484","#857F8A","#DAA4EE","#A1FD89","#B6A887","#6F288A","#9BA78F","#461689","#322937","#82BB4A","#25B54C","#4E4752","#9E6AB0","#65BD50","#7B6E4F","#4A1B5C","#687060","#2E0F5C","#221C25","#567D31","#187934","#343037","#684775","#457E36","#524934","#250D2E","#4E5448","#AA01B8","#493746","#5DFD62","#0FF2C7","#6D5F6B","#EB8AD3","#66FE96","#99A668","#B83598","#BFDFBF","#BA4AC5","#6D5F6B","#81FB82","#59F4D1","#8A7F89","#EEA4DD","#89FDAA","#ACB687","#8A2873","#8FA78F","#801689","#372934","#4ABB4A","#25B594","#524750","#B06A9F","#50BD70","#717B4F","#5C1B4D","#607060","#540F5C","#251C22","#317D32","#187964","#373036","#75476A","#367E4A","#4C5234","#2E0D26","#485448","#B8016A","#49373D","#5DFDB1","#0FAAF2","#6D5F64","#EB8AA3","#66FEE2","#7AA668","#B83557","#BFDFCF","#C54A91","#6D5F64","#81FBBF","#59C9F4","#8A7F83","#EEA4B8","#89FDE5","#94B687","#8A2842","#8FA79B","#891658","#37292E","#4ABB82","#258DB5","#52474A","#B06A7C","#50BDA7","#5B7B4F","#5C1B2C","#607068","#5C0F3C","#251C1E","#317D58","#185D79","#373032","#754752","#367E6F","#3D5234","#2E0D15","#48544E","#B8010E","#493937","#5DF9FD","#0F38F2","#6D615F","#EBA08A","#66CEFE","#68A676","#B85435","#BFDFDF","#C54A53","#6D615F","#81FAFB","#597CF4","#8A807F","#EEB5A4","#89DBFD","#87B691","#8A3F28","#8FA7A7","#89161E","#372A29","#4ABBBB","#2545B5","#524947","#B07A6A","#509CBD","#4F7B58","#5C291B","#607070","#5C0F15","#251E1C","#317C7D","#182D79","#373030","#755147","#36687E","#34523B","#2E140D","#485454","#B84E01","#494337","#5DA9FD","#560FF2","#6D685F","#EBD18A","#6681FE","#68A694","#B89535","#BFCFDF","#C57D4A","#6D685F","#81BCFB","#8459F4","#8A857F","#EEDAA4","#89A1FD","#87B6A8","#8A7028","#8F9BA7","#894616","#373229","#4A82BB","#4D25B5","#524E47","#B09E6A","#5065BD","#4F7B6F","#5C4A1B","#606870","#5C2E0F","#25221C","#31567D","#341879","#373430","#756947","#36447E","#345249","#2E250D","#484E54","#B8A901","#464937","#615DFD","#C70FF2","#6B6D5F","#D4EB8A","#9666FE","#6898A6","#99B835","#BFBFDF","#C5BA4A","#6B6D5F","#8181FB","#D159F4","#898A7F","#DDEEA4","#AA89FD","#87ACB6","#738A28","#8F8FA7","#897F16","#353729","#4A4ABB","#9425B5","#505247","#9FB06A","#7050BD","#4F717B","#4D5C1B","#606070","#5C540F","#23251C","#31317D","#641879","#363730","#6A7547","#4B367E","#344C52","#262E0D","#484854","#6AB801","#3D4937","#B15DFD","#F20FAA","#646D5F","#A3EB8A","#E266FE","#687AA6","#57B835","#CFBFDF","#91C54A","#646D5F","#BF81FB","#F459C9","#838A7F","#B7EEA4","#E589FD","#8794B6","#428A28","#9B8FA7","#588916","#2E3729","#824ABB","#B5258D","#4A5247","#7CB06A","#A750BD","#4F5B7B","#2C5C1B","#686070","#3C5C0F","#1E251C","#57317D","#79185D","#323730","#537547","#6F367E","#343D52","#152E0D","#4E4854","#0FB801","#37493A","#FD5DF9","#F20F39","#5F6D61","#8AEBA1","#FE66CE","#7568A6","#35B854","#DFBFDF","#54C54A","#5F6D61","#FB81FA","#F4597C","#7F8A80","#A4EEB5","#FD89DB","#9187B6","#288A3F","#A78FA7","#1F8916","#29372B","#BB4ABB","#B52544","#475249","#6AB07B","#BD509B","#594F7B","#1B5C2A","#706070","#155C0F","#1C251E","#7D317B","#79182D","#303731","#477552","#7E3668","#3B3452","#0D2E14","#544854","#01B84E","#374942","#FD5DA9","#F2560F","#5F6D67","#8AEBD1","#FE6682","#9468A6","#35B895","#DFBFCF","#4AC57D","#5F6D67","#FB81BD","#F48459","#7F8A85","#A4EEDA","#FD89A1","#A887B6","#288A6F","#A78F9B","#168946","#293732","#BB4A82","#B54C25","#47524E","#6AB09D","#BD5065","#6E4F7B","#1B5C4A","#706068","#0F5C2E","#1C2522","#7D3156","#793418","#303734","#477568","#7E3644","#493452","#0D2E25","#54484E"]},95281:(e,t,r)=>{"use strict";r.d(t,{$_:()=>x,AG:()=>w,D9:()=>R,EU:()=>X,EY:()=>V,G6:()=>U,H5:()=>P,J_:()=>k,LB:()=>A,NW:()=>_,O2:()=>j,Pm:()=>E,T6:()=>G,Y$:()=>Y,YN:()=>C,ce:()=>L,do:()=>I,ed:()=>M,gX:()=>O,nu:()=>S,or:()=>W,p5:()=>N,s1:()=>K,xw:()=>D,zG:()=>T,zR:()=>H});var n,i,o=r(66002),a=r(45829),s=r(86382),l=r(44678),c=r(1484),u=r(4706),d=r(89703),h=r(4832),p=r(37278),m=r(50441),y=r(11847),f=r(31520),g=r(30327);!function(e){e[e.polygonFillOpacityDeSelect=.25]="polygonFillOpacityDeSelect",e[e.polygonFillOpacitySelect=.8]="polygonFillOpacitySelect",e[e.pointFillOpacityDeSelect=.2]="pointFillOpacityDeSelect",e[e.pointFillOpacitySelect=1]="pointFillOpacitySelect"}(n||(n={})),function(e){e[e.point=0]="point",e[e.polyline=1]="polyline",e[e.polygon=2]="polygon",e[e.unknown=3]="unknown"}(i||(i={}));let b=[],v=[];function M(e,t,r,n){const i=[],s=[],c=/[-]{0,1}[\d]*[.]{0,1}[\d]+\s[-]{0,1}[\d]*[.]{0,1}[\d]*/g,u=t.eztTerritoriesOptions.territoryOpacity,d=V(t,u);for(let t=0;t<e.length;t++){const h=e[t];if(!h.primaryKeyJson)continue;const p=JSON.parse(h.primaryKeyJson.toString());let m=null,y=null;const{primeKey:f,hierType:g}=F(p,r);for(let e=0;e<n[g].length;e++){const t=n[g][e];if(t.primaryKey===f){m=t.wkt,"labelPoint"in t&&(y=t.labelPoint);break}}if(!m)continue;const b=m.replace(c,(function(e){var t=e.split(" "),r=(0,l.G)(t[0],t[1]);return r.lon+" "+r.lat})),v=a.io.ogc.WKT.read(b);if(!v){i.push(h.name);continue}const M=[];for(let e=0;e<h.properties.length;e++){const t={},r=h.properties[e];t.category=r.category,t.value=r.value,t.format=r.format,M.push(t)}const x=e[t].name?e[t].name.toString():"",S={name:h.name,id:x,fillOpacity:h.highlighted?u:d,fillColor:h.color,selectionId:h.selectionId,highlighted:h.highlighted,measureValue:h.measureValue,callOutProperties:M,labelPoint:y,radius:h.radius};if(v.length<2)s.push(new o.data.Feature(v[0],S,x));else if(v.length>=2){let e=[],t=[];if(v.forEach((r=>{"Polygon"===r.type&&(t.push(r),e.push(r.coordinates))})),t.length<2)s.push(new o.data.Feature(t[0],S,x));else if(t.length>=2){const t=new o.data.MultiPolygon(e);s.push(new o.data.Feature(t,S,x))}}}let h="";return i.length&&(h="EZT Power BI Visual: Error parsing wkt column for records "+i.toString(),console.log(h)),b=s,{geoJson:new o.data.FeatureCollection(s),errors:h}}function x(e,t,r,n,i){const a=[],s=[],l=H(r,r.eztPointOptions.pointOpacity);for(let c=0;c<e.length;c++){if(n.length&&n[0].dataPoints){let t=!1;for(let r=0;r<n.length;r++){const i=n[r];for(let r=0;r<i.dataPoints.length;r++)if(i.dataPoints[r].name===e[c].name){t=!0;break}if(t)break}if(t)continue}const u=e[c].latitude,d=e[c].longitude,h=new o.data.Point(new o.data.Position(d,u)),p=[];for(let t=0,r=e[c].properties.length;t<r;t++)if(e[c].properties[t].category){let r=new Object;r.category=e[c].properties[t].category,r.value=e[c].properties[t].value,r.format=e[c].properties[t].format,p.push(r)}const m=e[c].name?e[c].name.toString():"",y=e[c].customPointOpacityDefault,f="customPointOpacityDeSelect"in e[c]?e[c].customPointOpacityDeSelect:null;let g=l;null!=f&&(g=f);const b={name:e[c].name,id:m,fillOpacity:e[c].highlighted?e[c].opacity:g,selectionId:e[c].selectionId,highlighted:e[c].highlighted,fillColor:e[c].color,measureValue:e[c].measureValue,callOutProperties:p,relatedTerr:e[c].relatedTerr?e[c].relatedTerr:"",radius:e[c].radius,entityType:e[c].entityType,pointType:"dataPoint"};null!=y&&null!=f&&(b.customPointOpacityDefault=y,b.customPointOpacityDeSelect=f),e[c].hyperlinks.length&&(b.hyperlinks=e[c].hyperlinks);const v=new o.data.Feature(h,b,m);a.push(v),t&&r.eztMapSettings.mapZoom&&(e[c].highlighted||i)&&e[c].latitude&&e[c].longitude&&s.push(v)}let c=[-154.79,-9.1,-41.52,74.89];if(t&&r.eztMapSettings.mapZoom){const e=s.length?s:a;c=o.data.BoundingBox.fromData(e)}return{geoJson:new o.data.FeatureCollection(a),boundingBox:c,errors:""}}function S(e,t,r,n){const i=[],c=/[-]{0,1}[\d]*[.]{0,1}[\d]+\s[-]{0,1}[\d]*[.]{0,1}[\d]*/g,u=t.eztTerritoriesOptions.territoryOpacity,d=V(t,u);for(let t=0;t<e.length;t++){const n=e[t];let h=null;for(let e=0;e<v.length;e++){const t=v[e];t.id==n.nameValue&&(h=t)}if(h){const e=n.nameValue?n.nameValue.toString():"",t={name:n.nameValue,id:e,fillOpacity:n.highlighted?u:d,fillColor:n.color,callOutProperties:{category:[n.nameCol],value:n.nameValue,format:""}};h.properties=t,i.push(h)}else{const e=JSON.parse(n.primaryKeys),{primeKey:t,hierType:h}=F(e,s.p9.territory);let p=null;for(let e=0;e<r[h].length;e++){const n=r[h][e];if(n.primaryKey==t){p=n.wkt;break}}const m=p.replace(c,(function(e){var t=e.split(" "),r=(0,l.G)(t[0],t[1]);return r.lon+" "+r.lat})),y=a.io.ogc.WKT.read(m),f=n.nameValue?n.nameValue.toString():"",g={name:n.nameValue,id:f,fillOpacity:n.highlighted?u:d,fillColor:n.color,callOutProperties:{category:[n.nameCol],value:n.nameValue,format:""}};if(y.length<2)i.push(new o.data.Feature(y[0],g,f));else if(y.length>=2){let e=[],t=[];if(y.forEach((r=>{"Polygon"===r.type&&(t.push(r),e.push(r.coordinates))})),t.length<2){const e=new o.data.Feature(t[0],g,f);i.push(e),v.push(e)}else if(t.length>=2){const t=new o.data.MultiPolygon(e),r=new o.data.Feature(t,g,f);i.push(r),v.push(r)}}}}return new o.data.FeatureCollection(i)}function w(e,t,r){let n=t.getShapes();const i=r.eztTerritoriesOptions.territoryOpacity,o=V(r,i);for(let r=0;r<n.length;r++){const a=n[r];let s=!1;for(let t=0;t<e.dataPoints.length;t++){const r=e.dataPoints[t],n=r.nameValue;if(a.getId()===n){s=!0;const e=r.highlighted?i:o,t=a.getProperties();e!==t.fillOpacity&&a.addProperty("fillOpacity",e),r.color!=t.fillColor&&a.addProperty("fillColor",r.color)}}s||t.remove(a)}}function _(e,t,r,n,i){let o=t.getShapes(),a=[];for(let t=0;t<e.dataPoints.length;t++){const r=e.dataPoints[t];let n=!1;for(let e=0;e<o.length;e++){const t=o[e];r.nameValue===t.getId()&&(n=!0)}n||a.push(r)}const s=S(a,r,n);t.add(s)}function T(e,t,r,n,i,s,c,u,d){try{const h=i.eztTerritoriesOptions.territoryOpacity,p=V(i,h),m=[],y=[];for(let t=0;t<e.length;t++){const r=e[t];let n=null;for(let e=0;e<b.length;e++){const t=b[e];if(t.id==r.name){n=t;break}}if(n){const i=[];for(let e=0;e<r.properties.length;e++){const t={},n=r.properties[e];t.category=n.category,t.value=n.value,t.format=n.format,i.push(t)}const o=e[t].name?e[t].name.toString():"",a={name:r.name,id:o,fillOpacity:r.highlighted?h:p,fillColor:r.color,selectionId:r.selectionId,highlighted:r.highlighted,measureValue:r.measureValue,callOutProperties:i,labelPoint:n.properties.labelPoint,radius:r.radius};n.properties=a,y.push(n)}else{const n=/[-]{0,1}[\d]*[.]{0,1}[\d]+\s[-]{0,1}[\d]*[.]{0,1}[\d]*/g;if(!r.primaryKeyJson)continue;const i=JSON.parse(r.primaryKeyJson.toString());let u=null,d=null;const{primeKey:f,hierType:g}=F(i,s);for(let e=0;e<c[g].length;e++){const t=c[g][e];if(t.primaryKey===f){"labelPoint"in t&&(d=t.labelPoint),u=t.wkt;break}}if(!u)continue;const v=u.replace(n,(function(e){var t=e.split(" "),r=(0,l.G)(t[0],t[1]);return r.lon+" "+r.lat})),M=a.io.ogc.WKT.read(v);if(!M){m.push(r.name);continue}const x=[];for(let e=0;e<r.properties.length;e++){const t={},n=r.properties[e];t.category=n.category,t.value=n.value,t.format=n.format,x.push(t)}const S=e[t].name?e[t].name.toString():"",w={name:r.name,id:S,fillOpacity:r.highlighted?h:p,fillColor:r.color,selectionId:r.selectionId,highlighted:r.highlighted,measureValue:r.measureValue,callOutProperties:x,labelPoint:d,radius:r.radius};if(M.length<2)y.push(new o.data.Feature(M[0],w,S));else if(M.length>=2){let e=[],t=[];M.forEach((r=>{"Polygon"===r.type&&(t.push(r),e.push(r.coordinates))}));let r=null;if(t.length<2)r=new o.data.Feature(t[0],w,S),b.push(r),y.push(r);else if(t.length>=2){const t=new o.data.MultiPolygon(e);r=new o.data.Feature(t,w,S),b.push(r),y.push(r)}}}}if(t.setShapes(y),n&&y.length)if(!i.eztMapSettings.disableMapZoomAfterSelection||i.eztMapSettings.disableMapZoomAfterSelection&&!d.metadata.isSelectionCleared){const e=i.eztMapSettings.mapZoomPadding;let n;n=u?{top:e,right:e,bottom:e,left:e+224}:e,r.setCamera({bounds:o.data.BoundingBox.fromData(t.toJson()),type:i.eztMapSettings.mapZoomAnimationType,duration:i.eztMapSettings.mapZoomDuration,padding:n})}else i.eztMapSettings.disableMapZoomAfterSelection&&d.metadata.isSelectionCleared&&(d.metadata.isSelectionCleared=!1)}catch(e){console.log("EZT Power BI Custom Visual Error: Could not add territories to map ",e)}}function I(e,t,r,n){const i=g.atlas||g.window.atlas,o=t.layers.getLayers(),a=e.filter((e=>e.type==c.pl.mdnTile)),s=e.filter((e=>e.type==c.pl.azureTile)),l=[];s.forEach((e=>{let t=!1;o.forEach((r=>{e.id===r.getId()&&(t=!0)})),t||l.push(e)}));const u=o.filter((function(t){if(t.metadata&&t.metadata.type==c.pl.azureTile)return!e.find((function(e){return t.getId()===e.id}))}));u.length&&u.forEach((e=>{t.layers.getLayerById(e.getId())&&t.layers.remove(e),"Weather Radar"===e.getId()&&clearInterval(r)})),l.length&&l.forEach((e=>{if(!t.layers.getLayerById(e.id)){let r="",n=256;const o="Weather Radar"===e.id?"microsoft.weather.radar.main":"microsoft.weather.infrared.main";"WmsTileLayer"==e.catalogName?(r=e.url,n=e.size):r="https://{azMapsDomain}/map/tile?api-version=2.0&tilesetId="+o+"&zoom={z}&x={x}&y={y}";const a=new i.layer.TileLayer({tileUrl:r,minSourceZoom:1,maxSourceZoom:24,tileSize:n,opacity:e.opacity},e.id);a.metadata={type:c.pl.azureTile};let l="labels";if("Weather Radar"===e.id||"Weather Infrared"===e.id){const e=s.find((e=>"WmsTileLayer"==e.catalogName));e&&(l=e.id)}t.layers.add(a,l)}})),o.filter((e=>e.metadata&&(e.metadata.type==c.pl.baseLayer||e.metadata.type==c.pl.azureTile))).forEach((r=>{e.forEach((e=>{if(r.getId()==e.id){const i=r.getOptions();if(i.visible!=e.visible&&(i.visible=e.visible,r.setOptions(i),r.id==c.Dp.pointsLayerId)){const r=n.eztPointOptions;if(r.clusterPoints&&(r.clusterPieChart||r.clusterLatLon))t.markers.getMarkers().forEach((t=>{if("id"in t){const r=t.getOptions();r.visible=e.visible,t.setOptions(r)}}));else if(r.clusterPoints){const r=t.layers.getLayerById(c.Dp.clusterPoint);if(r){const n=r.getOptions();n.visible=e.visible,r.setOptions(n);const i=t.layers.getLayerById(c.Dp.clusterSymbol),o=i.getOptions();o.visible=e.visible,i.setOptions(o)}}}"WmsTileLayer"===e.catalogName?i.tileSize==e.size&&i.tilUrl==e.url||(i.tileSize=e.size,i.tileUrl=e.url,r.setOptions(i)):e.type==c.pl.azureTile&&i.opacity!=e.opacity&&(i.opacity=e.opacity,r.setOptions(i))}}))}));const d=o.find((e=>e.metadata&&e.metadata.type==c.pl.mdnTile));if(d){let e=d.metadata.layerIds;const t=a.filter((function(e){if(!e.visible)return e}));let r=a.filter((e=>{if(e.visible)return e}));const n=[];r.forEach((t=>{let r=!1;e.forEach((e=>{t.id===e&&(r=!0)})),r||n.push(t.id)}));const i=[];if(t.forEach((t=>{e.forEach((e=>{t.id===e&&i.push(t.id)}))})),e.forEach((e=>{let t=!1;r.forEach((r=>{e===r.id&&(t=!0)})),t||i.push(e)})),n.length||i.length){if(n.length&&(e=e.concat(n)),i.length){const t=[];e.forEach((e=>{let r=!1;i.forEach((t=>{e===t&&(r=!0)})),r||t.push(e)})),e=t}const t=d.getOptions(),r=e.length?e.join(",1,")+",1":"",o="https://powerbi.easyterritory.com/mdn/REST/9.0/Map/EasyTerritory/Image/Qkey/{quadkey}/png8/?BleedRatio=1.1&MapBackgroundColor=00000000&MapCacheOption=ReadWrite&LayerVisibility="+r+"&tag=f31889fa-89e4-4178-fd31-231df7db31b6";t.tileUrl=o,t.visible=!!r,d.setOptions(t),d.metadata.layerIds=e}}else{const e=a.filter((e=>e.type==c.pl.mdnTile&&e.visible));if(e.length){const r=e.map((e=>e.id)),n="https://powerbi.easyterritory.com/mdn/REST/9.0/Map/EasyTerritory/Image/Qkey/{quadkey}/png8/?BleedRatio=1.1&MapBackgroundColor=00000000&MapCacheOption=ReadWrite&LayerVisibility="+r.join(",1,")+",1,&tag=f31889fa-89e4-4178-fd31-231df7db31b6",a=new i.layer.TileLayer({tileUrl:n,minSourceZoom:1,maxSourceZoom:24,tileSize:256,visible:!0,opacity:1},"MDN Layer");a.metadata={type:c.pl.mdnTile,layerIds:r};const s=o.find((e=>e.getId().startsWith("EZT")));t.layers.add(a,s)}}}function C(e){let t=!0,r=!0,n=!0,i=!0;for(let o=0;o<e.length;o++){const a=e[o];a.id!==c.Dp.territoriesLayerId||a.visible?a.id!==c.Dp.pointsLayerId||a.visible?a.id!==c.Dp.symbolLayerId||a.visible||(i=!1):n=!1:(t=!1,r=!1)}return{terrLayerVisible:t,lineLayerVisible:r,bubbleLayerVisible:n,symbolLayerVisible:i}}function k(e,t,r,n,i,o,a){const s=e.layers.getLayers().find((e=>e.getId()===c.Dp.symbolLayerId)),l=e.layers.getLayers().find((e=>e.getId()===c.Dp.rangePointLayer)),d=n.find((e=>e.id===c.Dp.territoriesLayerId)),h=i.eztTerritoriesOptions,p=a.pointSizeColName&&i.eztTerritoriesOptions.centerPointEnable;if(d&&("noLabels"!=h.territoryLabels||p)){let n=null,m=null;if("fixedLabels"==h.territoryLabels||p){const e=t.getShapes(),n=(0,u.$F)(e);r.setShapes(n)}if(!s||o!=h.territoryLabels||!l&&a.pointSizeColName){s&&e.layers.remove(s.getId());const o=[];if("fixedLabels"==h.territoryLabels&&(n=(0,u.az)(r,i,d.visible),o.push(n)),"dynamicLabels"==h.territoryLabels&&(n=(0,u.az)(t,i,d.visible),o.push(n)),!l&&p)m=(0,u.Tv)(r,i),o.unshift(m);else if(l&&p){const e=l.getOptions();d.visible==e.visible&&e.color==i.eztTerritoriesOptions.centerPointColor&&e.opacity==i.eztTerritoriesOptions.centerPointOpacity||(e.visible=d.visible,e.color=i.eztTerritoriesOptions.centerPointColor,e.opacity=i.eztTerritoriesOptions.centerPointOpacity,l.setOptions(e),l.setOptions(e))}o.length&&(s&&!l?e.layers.add(o,c.Dp.symbolLayerId):e.layers.add(o))}else{const t=l&&a.pointSizeColName&&i.eztTerritoriesOptions.centerPointEnable,r=s.getOptions();if(r.textOptions.size=i.eztTerritoriesOptions.size,r.textOptions.color=i.eztTerritoriesOptions.fill,r.visible=d.visible,r.maxZoom=i.eztTerritoriesOptions.maxZoom,r.minZoom=i.eztTerritoriesOptions.minZoom,s.setOptions(r),t){const e=l.getOptions();e.visible==d.visible&&e.color==i.eztTerritoriesOptions.centerPointColor&&e.opacity==i.eztTerritoriesOptions.centerPointOpacity||(e.visible=d.visible,e.color=i.eztTerritoriesOptions.centerPointColor,e.opacity=i.eztTerritoriesOptions.centerPointOpacity,l.setOptions(e))}else l&&e.layers.remove(l.getId())}}else s&&e.layers.remove(s.getId()),l&&e.layers.remove(l.getId())}function L(e,t){const r=e.layers.getLayerById(c.Dp.lineLayerId);if(r){const e=t.eztTerritoriesOptions.territoryBorderWidth;let n=t.eztTerritoriesOptions.territoryBorderColor;const i=r.getOptions();e==i.strokeWidth&&n==i.strokeColor||(i.strokeWidth=e,i.strokeColor=n,r.setOptions(i))}}function N(e,t,r,n){var i=[];for(let e=0;e<n.boundary.length;e++){var a=[];a.push(n.boundary[e].longitude),a.push(n.boundary[e].latitude),i.push(a)}var s=new o.data.Polygon(i),l={name:e,id:"travelRing",fillColor:t,fillOpacity:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1][r],boundingBox:o.data.BoundingBox.fromData(s)};return new o.data.Feature(s,l,"travelRing")}function Z(e,t){const{Values:r,ShapeWkt:n,Fields:i}=e.json,s=e.columns,c=e.symbology,u=e.stylizers,d=i.map(((e,t)=>{let r=null,n=0;for(let t=0;t<s.length;t++)if(s[t].sqlColumnName==e){r=s[t],n=t;break}let i=e,o=!1,a=!1,l=!1,c=!1,d=!1,h=null,p=null,m=null,y=null,f=null,g=[];if(r&&(h=r.id,i=r.label,r.flags.forEach((e=>{"callout"===e&&(d=!0),"name"===e&&(l=!0),"id"===e&&(a=!0),"primarykey"===e&&(o=!0),"geolongitude"===e&&(m=!0),"geolatitude"===e&&(y=!0),"dynamiclabels"==e&&(c=!0),"hyperlink"==e&&(f={displayFormatter:r.displayFormatter,linkFormatter:r.linkFormatter})})),p=r.dataDescription,p)){if("exact"==p.constraintType){const e=p.exactValuesToFilterCol;if(e.length)for(let t=0;t<e.length;t++){const r=e[t],n=r.value,i=r.label;for(let e=0;e<u.length;e++){const t=u[e];if(t.dataColumnId==h&&t.condition.exactValue==n){let e=null,r=null;if(t.symbologies&&(e=t.symbologies.find((e=>"fillColor"==e.descriptor)),r=t.symbologies.find((e=>"symbol"==e.descriptor))),e){const t=e.value;g.push({type:"exact",value:n,label:i,fillColor:t})}else if(r){const e=r.value;g.push({type:"exact",value:n,label:i,symbol:e})}break}}}}if("range"==p.constraintType)for(let e=0;e<u.length;e++){const t=u[e];if(t.dataColumnId==h){const e=t.condition.rangeMin,r=t.condition.rangeMax;if(e||r){let n=null,i=null;if(t.symbologies&&(n=t.symbologies.find((e=>"fillColor"==e.descriptor)),i=t.symbologies.find((e=>"symbol"==e.descriptor))),n){const t=n.value;g.push({type:"range",rangeMin:e,rangeMax:r,fillColor:t})}else if(i){const t=i.value;g.push({type:"range",rangeMin:e,rangeMax:r,symbol:t})}}}}}return{index:t,order:n,callout:d,label:i,columnId:h,name:l,id:a,primarykey:o,geolatitude:y,geolongitude:m,dynamiclabels:c,hyperlink:f,filterMetadatas:g}}));for(let i=0;i<r.length;i++){const s=r[i],u=n[i];let h=c.fillColor,p=null,m="",y="",f="",g=[],b=0,v=0,M=null,x=[],S="",w="";for(let e=0;e<s.length;e++){const t=s[e],r=d[e];if(r.callout&&null==r.hyperlink){const e=r.label,n=r.order;g.push({key:e,value:t,order:n})}if(r.id&&(m=t),r.name&&(y=t),r.geolongitude&&(v=t),r.geolatitude&&(b=t),r.filterMetadatas.length){const e=r.filterMetadatas;for(let r=0;r<e.length;r++){const n=e[r];if("exact"==n.type&&n.value==t&&(n.fillColor?(h=n.fillColor,w=n.fillColor):n.symbol&&(S=n.symbol)),"range"==n.type){const e=n.rangeMin||0,r=n.rangeMax;e<=t&&(null!=r?r>=t&&(n.fillColor?(h=n.fillColor,w=n.fillColor):n.symbol&&(S=n.symbol)):n.fillColor?(h=n.fillColor,w=h):n.symbol&&(S=n.symbol))}}}if(r.dynamiclabels&&(M=t),r.primarykey&&(f=t),null!=r.hyperlink){let e=t;r.hyperlink.linkFormatter&&(e=r.hyperlink.linkFormatter.replace("{0}",t)),x.push({value:e,label:r.hyperlink.displayFormatter||r.label,category:r.label,targetCol:null})}}g.sort(((e,t)=>e.order-t.order));const _=[];g.forEach((e=>{const t={};t.category=e.key,t.value=e.value,_.push(t)}));const T=(m||y)+"_"+e.id+"_"+i;if("POINT"==e.shapeType){const r=u.replace("POINT","").replace("(","").replace(")","").trim().split(" "),n=(0,l.G)(r[0],r[1]),i=new o.data.Point(new o.data.Position(n.lon,n.lat));let a=`ezt-refLayer-${e.id}`;(w||S)&&(w&&!S?a=`ezt-refLayer-${e.id}-${w}`:w&&S?a=`ezt-refLayer-${e.id}-${w}-${S}`:!w&&S&&(a=`ezt-refLayer-${e.id}-${S}`)),p=new o.data.Feature(i,{id:y||f,name:y,fillOpacity:Number(c.fillOpacity),size:Number(c.size),entityType:a,layerLabel:e.name,layerId:e.id,hyperlinks:x,callOutProperties:_},T),t.push(p)}else if("POLYGON"==e.shapeType){const r=/[-]{0,1}[\d]*[.]{0,1}[\d]+\s[-]{0,1}[\d]*[.]{0,1}[\d]*/g,n=u.replace(r,(function(e){const t=e.split(" "),r=(0,l.G)(t[0],t[1]);return r.lon+" "+r.lat})),i=a.io.ogc.WKT.read(n),s={id:y||f,name:y,dynamicLabel:M,fillOpacity:Number(c.fillOpacity),fillColor:h,lineColor:c.lineColor,lineOpacity:Number(c.lineOpacity),lineWidth:Number(c.lineWidth),layerId:e.id,hyperlinks:x,callOutProperties:_};if(e.hasLabels&&v&&b&&(s.centerPoint=new o.data.Point([v,b])),i.length<2)p=new o.data.Feature(i[0],s,T),t.push(p);else if(i.length>=2){let e=[],r=[];if(i.forEach((t=>{"Polygon"===t.type&&(r.push(t),e.push(t.coordinates))})),r.length<2)p=new o.data.Feature(r[0],s,T),t.push(p);else if(r.length>=2){const r=new o.data.MultiPolygon(e);p=new o.data.Feature(r,s,T),t.push(p)}}}}}function E(e){const t=[],r=[];return e.filter((e=>"CustomLayer:#Client.REST.DataModel"==e.layer.__type&&e.layer.json)).forEach((e=>{try{const o=e.layer,a=JSON.parse(o.json);let s=a.FeatureClass==i.polygon?"POLYGON":a.FeatureClass==i.point?"POINT":"NotSupported";if("NotSupported"!=s){const i=e.stylizers,l=e.minLabelingZoomLevel;let c=!1;const u=o.label,h=o.description;let p={};o.defaultClassification.symbologies.forEach((e=>{const t=e.descriptor,r=e.value;p[t]=r}));let m=Number(p.lineWidth),y=30*m/2;m*=30;const f=p.fillColor,g=p.lineColor;var n=new DOMParser;const b=d.N.find((e=>e.id===p.symbol));let v=null,M=null,x=[];if(b){const{svgTemplate:e,path:t}=z(b,n,y,m,f,g);M=e.documentElement.outerHTML,v="data:image/svg+xml;base64,"+btoa(M),i.forEach((r=>{let o=null,a=null;if(r.symbologies&&(o=r.symbologies.find((e=>"fillColor"==e.descriptor)),a=r.symbologies.find((e=>"symbol"==e.descriptor))),o){t.setAttribute("fill",o.value);const n=e.documentElement.outerHTML,i="data:image/svg+xml;base64,"+btoa(n);r.svg=n,r.dataUri=i,r.styleType="color"}if(a){const e=d.N.find((e=>e.id===a.value)),{svgTemplate:t,path:o}=z(e,n,y,m,f,g),s=t.documentElement.outerHTML;r.svg=s;const l="data:image/svg+xml;base64,"+btoa(s);r.dataUri=l,r.styleType="symbol";const c=i.filter((e=>e.symbologies&&e.symbologies.find((e=>"fillColor"==e.descriptor))));c&&c.length&&c.forEach((e=>{const n=e.symbologies.find((e=>"fillColor"==e.descriptor));t.documentElement.getElementsByTagName("path")[0].setAttribute("fill",n.value);const i=t.documentElement.outerHTML;x.push({colorColumnId:e.dataColumnId,color:n.value,symbol:a.value,symbolColumnId:r.dataColumnId,colorId:e.id,symbolId:r.id,svg:i})}))}}))}"POLYGON"==s&&i.forEach((e=>{if("DynamicLabeling:#Client.REST.DataModel"==e.__type&&(c=!0),e.symbologies){const t=e.symbologies.find((e=>"fillColor"==e.descriptor));t&&(e.styleType="color")}}));const S={id:o.id,visible:!0,name:u,description:h,shapeType:s,json:a,columns:o.columns,symbology:p,stylizers:i,hasLabels:c,minLabelZoomLevel:l,svg:M,colorSymbolCombinedSvgs:x,dataUri:v};"POINT"==s?t.push(S):r.push(S)}}catch(e){console.log("EZT Power BI Custom Visual Error: failed to parse reference layer",e)}})),{pointRefLayers:{visible:!0,type:"POINT",layers:t},territoryRefLayers:{visible:!0,type:"POLYGON",layers:r}}}function z(e,t,r,n,i,o){const a=e.svg,s=t.parseFromString(a,"image/svg+xml"),l=s.documentElement.getElementsByTagName("path")[0],c=s.documentElement.getAttribute("viewBox"),[u,d,h,p]=c.split(" "),m=`${Number(u)-r} ${Number(d)-r} ${Number(h)+n} ${Number(p)+n}`;return s.documentElement.setAttribute("viewBox",m),l.setAttribute("fill",i),l.setAttribute("stroke",o),l.setAttribute("stroke-width",n.toString()),{svgTemplate:s,path:l}}function G(e,t,r,n,i,o,a,s,l,u,d,g,b,v,M,x,S,w,_,T,I,C){const k=b.eztPointOptions.travelRingOnClick,L=b.eztPointOptions.pointOpacity,N=b.eztPointOptions.isClusterPieChartGrouping&&s,Z=e.layers.getLayerById(c.Dp.pointsLayerId);let E=!0;Z&&(E=Z.getOptions().visible);const z=L.toString(),G=e.getCamera(),P=e.markers.getMarkers(),A=t.getClusters(G.bounds,Math.round(G.zoom)),R=[],D=[];if(N){const e=y.G2.create({value:0,precision:w,format:x,formatSingleValues:!0,displayUnitSystemType:S?f.DisplayUnitSystemType.DataLabels:f.DisplayUnitSystemType.Verbose});for(let t=0;t<I.length;t++){const r=I[t],n=e.format(r.rangeMax),i=e.format(r.rangeMin);r.label=`${i} to ${n}`}}for(let c=0;c<A.length;c++){const y=A[c];if(y.properties.cluster){let c=null;for(let e=0;e<P.length;e++){const t=P[e];if(t.id==y.id){c=t;break}}if(c){R.push(c);continue}const f=y.properties.point_count>1e3?50:y.properties.point_count>100?40:y.properties.point_count>10?30:20;let x,S;try{x=t.getLeaves(y.id,1/0,0)}catch(e){x=[]}N||(l?x.sort(((e,t)=>e.properties.measureValue-t.properties.measureValue)):s&&x.sort(((e,t)=>e.properties.measureValue.toLowerCase().localeCompare(t.properties.measureValue.toLowerCase()))));const w=[];if(N){for(let e=0;e<x.length;e++){const t=x[e];let r=!1;for(let e=0;e<w.length;e++){const n=w[e];if(I&&t.properties.fillColor==n.properties.fillColor||t.properties.measureValue==n.properties.measureCol){r=!0,n.properties.callOutProperties[0].value++,n.properties.measureValueCount++,I?n.properties.measureValueAgregateCount+=t.properties.measureValue:n.properties.measureValueAgregateCount++;break}}if(!r){let e;if(l&&I){const r=I.find((e=>e.gradient==t.properties.fillColor));e=r?`${r.label}`:"Other"}else e=t.properties.measureValue;w.push({properties:{measureCol:t.properties.measureValue,measureValueCount:1,measureValueAgregateCount:I?t.properties.measureValue:1,fillColor:t.properties.fillColor,fillOpacity:t.properties.fillOpacity,total:x.length,callOutProperties:[{category:e,value:1}]}})}}l?w.sort(((e,t)=>e.properties.measureCol-t.properties.measureCol)):s&&w.sort(((e,t)=>e.properties.measureCol.toLowerCase().localeCompare(t.properties.measureCol.toLowerCase()))),S=new p.l({shapes:w,grouping:!0,radius:f,fillColor:"white",strokeWidth:0,strokeColor:"white",outlineColor:v,innerRadius:.5*f,text:y.properties.cluster?y.properties.point_count_abbreviated:""})}else S=new p.l({shapes:x,grouping:!1,radius:f,fillColor:"white",strokeWidth:0,strokeColor:"white",outlineColor:v,innerRadius:.5*f,text:y.properties.cluster?y.properties.point_count_abbreviated:""});const L=S.getElement();L.dataset.id=y.id.toString(),L.dataset.ismouseover="false",L.style.opacity=z;const G=L.childNodes[0];G.querySelector("path")?(G.querySelectorAll("path").forEach(((t,r)=>{const n=t;n.onmousemove=t=>{n.style.fill="#F2C811";let i=x[r],a={id:`${L.dataset.id}_slice_${r}`,valueFormatter:M,properties:{callOutProperties:i.properties.callOutProperties}};if(N){i=w[r];const e=i.properties.measureValueCount/i.properties.total*100,t=Number.isInteger(e)?e:e.toFixed(2),n=[{category:`${I?i.properties.callOutProperties[0].category:M.format(i.properties.callOutProperties[0].category)}`,value:`${B(i.properties.callOutProperties[0].value)} (${t}%)`,format:null}];if(l&&i.properties.measureValueAgregateCount&&I){const e=Number.isInteger(i.properties.measureValueAgregateCount)?i.properties.measureValueAgregateCount:i.properties.measureValueAgregateCount.toFixed(2);n.push({category:`${s}`,value:M.format(e),format:null})}a={id:`${L.dataset.id}_slice_${r}`,valueFormatter:M,properties:{callOutProperties:n}}}o.addTooltip(e,a,m.IO.clusterShape,[t.x,t.y],!1,!0,(e=>m.KD(e.data,e.color)),(e=>e.data.selectionId))},n.onmouseleave=e=>{w.length?n.style.fill=w[r].properties.fillColor:n.style.fill=x[r].properties.fillColor}})),G.querySelectorAll("text")[0].onmousemove=t=>{const r=x.length,n=[{category:`${a} (count)`,value:r,format:M}];if(N){if(I){let e=0;for(let t=0;t<w.length;t++){const r=w[t],i=r.properties.measureValueCount/r.properties.total*100;e+=r.properties.measureValueAgregateCount;const o=Number.isInteger(i)?i:i.toFixed(2),a=B(r.properties.callOutProperties[0].value),s={category:r.properties.callOutProperties[0].category.toString(),value:`${a} (${o}%)`,format:null};n.push(s)}if(l){const t=Number.isInteger(e)?e:e.toFixed(2),r={category:s,value:M.format(t),format:null};n.push(r)}}}else if(s&&l){let e=0;for(let t=0;t<x.length;t++)e+=x[t].properties.measureValue;n.push({category:`${s} (total)`,value:e,format:M})}else if(s&&!l){const e=[];for(let t=0;t<x.length;t++){const r=x[t].properties.measureValue;let n=!1;for(let t=0;t<e.length;t++){const i=e[t];if(i.name==r){i.count++,n=!0;break}}n||e.push({name:r,count:1})}for(let t=0;t<e.length;t++){const r=e[t],i=r.count/x.length*100,o=Math.round(10*i)/10,a=r.count;n.push({category:`${r.name}`,value:`${a} (${o}%)`,format:null})}}const i={id:`${L.dataset.id}_center`,valueFormatter:M,properties:{callOutProperties:n}};o.addTooltip(e,i,m.IO.clusterShape,[t.x,t.y],!1,!0,(e=>m.KD(e.data,e.color)),(e=>e.data.selectionId))}):G.onmousemove=t=>{let r=x[0],n={id:`${L.dataset.id}_center`,valueFormatter:M,properties:r.properties.callOutProperties};if(b.eztPointOptions.isClusterPieChartGrouping){r=w[0];const e=r.properties.measureValueCount/r.properties.total*100,t=Number.isInteger(e)?e:e.toFixed(2),i=[{category:I?r.properties.callOutProperties[0].category:M.format(r.properties.callOutProperties[0].category),value:`${B(r.properties.callOutProperties[0].value)} (${t}%)`,format:null}];if(l&&r.properties.measureValueAgregateCount){const e=Number.isInteger(r.properties.measureValueAgregateCount)?r.properties.measureValueAgregateCount:r.properties.measureValueAgregateCount.toFixed(2);i.push({category:`${s}`,value:`${M.format(e)}`,format:null})}n={id:`${L.dataset.id}_slice_0`,valueFormatter:M,properties:{callOutProperties:i}}}o.addTooltip(e,n,m.IO.clusterShape,[t.x,t.y],!1,!0,(e=>m.KD(e.data,e.color)),(e=>e.data.selectionId))},L.onmouseover=()=>{L.dataset.ismouseover="true"},L.onmouseleave=()=>{o.hide(!0),L.dataset.ismouseover="false"},L.onclick=r=>{const o=Number(L.dataset.id),a=t.getLeaves(o,1/0,0);let s=!1;r.ctrlKey&&(s=!0),(0,h.aX)(a,_,n,s,i,b,Z,C),k&&(y.properties.point_count>10?T("To display popups, zoom in to a cluster that contains 10 or fewer points."):(0,h.Us)(o,a,d,u,e,g,b.eztCallouts))};var X=new r.HtmlMarker({position:y.geometry.coordinates,anchor:"center",htmlContent:L,visible:E});X.id=y.id,R.push(X)}else{const e=n.getShapeById(y.properties.name);if(e){const t=e.getProperties().fillOpacity;y.properties.fillOpacity=t}D.push(y)}}e.markers.clear(),R.length&&e.markers.add(R),n.setShapes(D)}function P(e,t,r,n,i,o,a,s,l,u,d,y){const f=e.layers.getLayerById(c.Dp.pointsLayerId);let g=!0;const b=s.eztPointOptions.travelRingOnClick;f&&(g=f.getOptions().visible);const v=n.toString(),M=[];for(let n=0;n<r.length;n++){const c=r[n],f=c.count>1e3?50:c.count>100?40:c.count>10?30:20,S=new p.l({position:[0,0],shapes:c.dataPoints.map((e=>({properties:{fillColor:e.color}}))),radius:f,fillColor:"white",strokeWidth:1,strokeColor:"white",outlineColor:i,innerRadius:.5*f,text:c.count.toString(),textClassName:"myClass"}).getElement();S.dataset.id=c.id;const w=S.childNodes[0];w.querySelector("path")&&(w.querySelectorAll("path").forEach(((t,r)=>{t.onmousemove=t=>{const n=c.dataPoints[r].properties,i={id:`${S.dataset.id}_slice_${r}`,valueFormatter:o,properties:{callOutProperties:n}};a.addTooltip(e,i,m.IO.clusterShape,[t.x,t.y],!1,!0,(e=>m.KD(e.data,e.color)),(e=>e.data.selectionId))}})),w.querySelectorAll("text")[0].onmousemove=t=>{const r={id:`${S.dataset.id}_center`,valueFormatter:o,properties:{}};a.addTooltip(e,r,m.IO.clusterCircle,[t.x,t.y],!1,!0,(e=>m.KD(e.data,e.color)),(e=>e.data.selectionId))}),S.onmouseleave=e=>{a.hide(!0)},S.onclick=r=>{if(!b)return;if(c.count>10)return void y("To display popups, click a cluster that contains 10 or fewer points.");const n=Number(S.dataset.id),i=c.dataPoints.map((e=>new t.data.Feature(new t.data.Position(e.longitude,e.latitude),{id:e.name,callOutProperties:e.properties},e.name))).reverse();(0,h.Us)(n,i,u,l,e,d,s.eztCallouts)},S.style.opacity=v;var x=new t.HtmlMarker({position:[c.lon,c.lat],anchor:"center",htmlContent:S,visible:g});const _=c.dataPoints.map((e=>({selectionId:e.selectionId,relatedTerr:e.relatedTerr})));x.id="ezt-latLon-cluster"+c.id,x.metadata=_,M.push(x)}e.markers.clear(),M.length&&e.markers.add(M)}const A=(e,t)=>{const r=e.shapes[0],n=r.getProperties(),i=e.pixel;t.addTooltip(e.map,r,m.IO.refShape,i,!1,!1,(e=>m.KD(e.data,e.color,n.layerLabel)),(e=>null))},R=e=>{let t;if(e.shapes.length>1){const r=e.shapes[0].getCoordinates();t=e.shapes.filter((e=>{const t=e.getCoordinates();return r[0]===t[0]&&r[1]===t[1]}))}else t=e.shapes;return t},D=e=>{try{const t=[];for(let r=0;r<e.length;r++){const n=e[r];n.leaderLine&&t.push(n.leaderLine)}return t}catch(e){return[]}},X=(e,t)=>{let r;if("getProperties"in e){const n=e.getProperties().id;r=t.getShapeById(n).getProperties()}else{const n=e.properties.id,i=t.getShapeById(n);r=i?i.getProperties():e.properties}return r},O=(e,t)=>{const r=g.atlas||g.window.atlas,n=[];for(let t=0;t<e.length;t++){const i=e[t];if("getType"in i){if("Point"!=i.getType()){const e=i.getProperties(),o=e.centerPoint,a=e.id,s=e.dynamicLabel,l=e.layerId;if(o){const e=new r.data.Feature(o,{id:a,layerId:l,name:s},`${a}-${t}`);n.push(e)}}}else if("Point"!=i.geometry.type){const e=i.properties,o=e.centerPoint,a=e.id,s=e.dynamicLabel,l=e.layerId;if(o){const e=new r.data.Feature(o,{id:a,name:s,layerId:l},`${a}-${t}`);n.push(e)}}}t.add(n)},W=(e,t)=>{if(e.length==t.length){let r=!0;for(let n=0;n<e.length;n++){const i=e[n];for(let e=0;e<t.length;e++)if(i==!t[e]){r=!1;break}if(!r)break}return r}return!1},j=(e,t,r)=>{return n=void 0,i=void 0,a=function*(){const n=[],i=[],o=e.pointRefLayers.layers;for(let e=0;e<o.length;e++){const r=o[e],a=t.imageSprite.add(`ezt-refLayer-${r.id}`,r.svg);if(i.push(a),r.stylizers.length&&r.stylizers.forEach((e=>{if(e.symbologies){const n=e.symbologies.find((e=>"fillColor"==e.descriptor));if(n){const o=t.imageSprite.add(`ezt-refLayer-${r.id}-${n.value}`,e.svg);i.push(o)}const o=e.symbologies.find((e=>"symbol"==e.descriptor));if(o){const n=t.imageSprite.add(`ezt-refLayer-${r.id}-${o.value}`,e.svg);i.push(n)}}})),r.colorSymbolCombinedSvgs.length){const e=r.colorSymbolCombinedSvgs;for(let n=0;n<e.length;n++){const{svg:o,color:a,symbol:s}=e[n],l=t.imageSprite.add(`ezt-refLayer-${r.id}-${a}-${s}`,o);i.push(l)}}Z(r,n)}try{return yield Promise.all(i),n}catch(e){console.log("EZT Power BI Custom Visual Error: Post to image sprite failed!",e),r("Point symbols failed to load, please try another 'Symbol type' selection!")}},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,s)}l((a=a.apply(n,i||[])).next())}));var n,i,o,a},Y=(e,t)=>{const r=[],n=e.territoryRefLayers.layers;try{for(let e=0;e<n.length;e++)Z(n[e],r);return r}catch(e){console.log("EZT Power BI Custom Visual Error: Processing territory reference layer failed!",e),t("Territory reference failed to load, please check configuration!")}};function F(e,t){let r,n;return 2==e.length?(r=t===s.p9.group?e[0]:e[1],n=t===s.p9.group?"groups":"territories"):t===s.p9.group?(r=e[6],n="groups"):t===s.p9.group1?(r=e[5],n="groups"):t===s.p9.group2?(r=e[4],n="groups"):t===s.p9.group3?(r=e[3],n="groups"):t===s.p9.group4?(r=e[2],n="groups"):t===s.p9.group5?(r=e[1],n="groups"):t===s.p9.group6?(r=e[0],n="groups"):(r=e[7],n="territories"),{primeKey:r,hierType:n}}function V(e,t){const r=e.eztTerritoriesOptions.territoryDeselectOpacity;return e.eztTerritoriesOptions.territoryDeselectOpacityEnable?r:t/2}function H(e,t){const r=e.eztPointOptions.pointDeselectOpacity;return e.eztPointOptions.pointDeselectOpacityEnable?r:t/2}function U(e){let t=!1;for(let r=0;r<e.length;r++)if("true"==e[r].getElement().dataset.ismouseover){t=!0;break}return t}function B(e){if("number"==typeof e){let t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}return e}const K=(e,t)=>{let r=new Set(e);return t.filter((e=>!r.has(e)))}},4832:(e,t,r)=>{"use strict";r.d(t,{Ne:()=>b,Or:()=>v,Sg:()=>g,Tr:()=>x,Us:()=>m,W1:()=>I,aX:()=>M,hF:()=>w,so:()=>p,us:()=>_});var n=r(66002),i=r(50441),o=r(86382),a=r(1582),s=r(32166),l=r(1484),c=r(95281),u=r(44678),d=r(22608),h=r(30327);function p(e,t,r,n,i,o,a){const s=n.layers.getLayerById(l.Dp.pointsLayerId).metadata;if("idle"===r.getOptions().mode){t.toolTip.isVisible()&&t.toolTip.hide();const r=n.popups.getPopups(),l=e[0];let c=null;if("getProperties"in l)c=l.getProperties();else{const e=l,t=i.getShapeById(e.properties.id);c=t.getProperties()}r.length<1?y(n,e,t.openTravelRingModal,s.calloutExpanded,o,a,t.openDistLineModal,t.pbiHost):r.find((e=>e.getOptions().content.id===c.id))||y(n,e,t.openTravelRingModal,s.calloutExpanded,o,a,t.openDistLineModal,t.pbiHost)}}function m(e,t,r,n,i,o,a){if("idle"===n.getOptions().mode){const n=i.layers.getLayerById(l.Dp.pointsLayerId).metadata,s=i.popups.getPopups(),c=t[0],u="getProperties"in c?c.getProperties():c.properties;if(s.length<1)y(i,t,r,n.calloutExpanded,!1,a,o,null,e);else{const l=s.find((e=>e.getOptions().content.id===u.id)),c=[];for(let e=0;e<t.length;e++){const r=t[e],n="getProperties"in r?r.getProperties():r.properties,i=s.find((e=>e.id===n.id));i&&c.push(i)}c.length&&i.popups.remove(c),l?(i.sources.getById("LeaderLineDatasource").clear(),i.popups.getPopups(),i.popups.remove(l),y(i,t,r,n.calloutExpanded,!1,a,o,null,e)):y(i,t,r,n.calloutExpanded,!1,a,o,null,e)}}}function y(e,t,r,n,i,o,a,l,c){const u=h.atlas||h.window.atlas;e.getCamera().zoom;let d=0;for(let h=0;h<t.length;h++){const p=t[h],m="getProperties"in p?p.getProperties():p.properties,y="getCoordinates"in p?p.getCoordinates():"coordinates"in p.geometry?p.geometry.coordinates:p.geometry;let g=null;g=a?(0,s.tX)(e,p,n,(()=>r(y[1],y[0],m.name)),o,(()=>a(m.id,y,e.popups.getPopups())),!0,null,l):(0,s.tX)(e,p,n,(()=>r(y[1],y[0],m.name)),o,null,!0,null,l);const b=new u.Popup({closeButton:!0}),v=t.length>1?f(e,y,h,d):y;if(1&h&&(d+=2),o){b.setOptions({content:g,fillColor:o.background,position:v,pixelOffset:[0,0],draggable:!0});const e=b.getPopupContainer();(0,s.cJ)(e,o)}else b.setOptions({content:g,fillColor:"#FFFFFF",position:v,pixelOffset:[0,0],draggable:!0});C(e,u,y,v,b,c,i,p)}}function f(e,t,r,i){const o=e.positionsToPixels([t]),a=Number(o[0][0]);let s,l=1&r?a+40*r:a+-40*(r+1),c=Number(o[0][1])+(8*i-40);const u=new n.Pixel(l,c);return s=e.pixelsToPositions([u])[0],s}function g(e,t,r,n,o,a){if("idle"===a.getOptions().mode){if("pointer"!=t.getCanvas().style.cursor&&(t.getCanvas().style.cursor="pointer"),n.getShapeType()==i.IO.refShape)return;let a=e.shapes[0];if("getType"in a&&"Point"===a.getType()){if(t.popups.getPopups().find((e=>a.getId()===e.getOptions().content.id)))return}else if(!("getProperties"in a)){const e=a.properties.id;a=r.getShapeById(e)}const s=e.pixel,l=64==o.hostEnv;n.addTooltip(t,a,i.IO.primeShape,s,l,!1,(e=>i.KD(e.data,e.color)),(e=>e.data.selectionId))}}function b(e){const t=e.layers.getLayerById("Weather Radar");if(t){const e="https://{azMapsDomain}/map/tile?api-version=2.0&tilesetId=microsoft.weather.radar.main&zoom={z}&x={x}&y={y}&timeStamp="+(0,a.R)(),r=t.getOptions();r.tileUrl=e,t.setOptions(r)}}function v(e,t,r,n,i,a,s,l,u=!1){let d=e.selectionId;e.name;let h=0,p=0;s==o.RG.territories?(h=a.eztTerritoriesOptions.territoryOpacity,p=(0,c.EY)(a,h)):(h=a.eztPointOptions.pointOpacity,p=(0,c.zR)(a,h));const m=t.hasSelection();t.select(d,i).then((e=>{const n=r.getShapes();for(let t=0;t<n.length;t++){const r=n[t],i=r.getProperties();let o=!1;if(e.length){for(let t=0;t<e.length;t++)if(e[t].equals(i.selectionId)){o=!0;break}o&&i.fillOpacity!=h?r.addProperty("fillOpacity",h):o||i.fillOpacity==p||r.addProperty("fillOpacity",p)}else i.fillOpacity!=h&&r.addProperty("fillOpacity",h)}k(a,m,u,t,l)}))}function M(e,t,r,n,i,o,a,s=!1){let l=e.map((e=>(0,c.EU)(e,r).selectionId));const u=o.eztPointOptions.pointOpacity,d=(0,c.zR)(o,u),h=o.eztTerritoriesOptions.territoryOpacity,p=(0,c.EY)(o,h),m=t.hasSelection();t.select(l,n).then((e=>{const n=r.getShapes(),l=i.getShapes(),c=[];let y=!1;for(let t=0;t<n.length;t++){const r=n[t],i=r.getProperties();let o=!1;if(e.length){for(let t=0;t<e.length;t++)if(e[t].equals(i.selectionId)){o=!0;break}o&&i.fillOpacity!=i.customPointOpacityDefault?"customPointOpacityDefault"in i||i.fillOpacity==u?"customPointOpacityDefault"in i&&i.fillOpacity!=i.customPointOpacityDefault&&r.addProperty("fillOpacity",i.customPointOpacityDefault):r.addProperty("fillOpacity",u):o||("customPointOpacityDeSelect"in i||i.fillOpacity==d?"customPointOpacityDeSelect"in i&&i.fillOpacity!=i.customPointOpacityDeSelect&&r.addProperty("fillOpacity",i.customPointOpacityDeSelect):r.addProperty("fillOpacity",d)),o&&l.length&&i.relatedTerr&&c.push(i.relatedTerr)}else"customPointOpacityDefault"in i||i.fillOpacity==u?"customPointOpacityDefault"in i&&i.fillOpacity!=i.customPointOpacityDefault&&r.addProperty("fillOpacity",i.customPointOpacityDefault):r.addProperty("fillOpacity",u),y=!0}for(let e=0;e<l.length;e++){const t=l[e],r=t.getProperties();if(y)r.fillOpacity!=h&&t.addProperty("fillOpacity",h);else if(!y&&c.length){let e=!1;for(let n=0;n<c.length;n++){const i=c[n];r.name==i&&(r.fillOpacity!=h&&t.addProperty("fillOpacity",h),e=!0)}e||r.fillOpacity==p||t.addProperty("fillOpacity",p)}}k(o,m,s,t,a)}))}function x(e,t,r,n,i){try{const o=r.eztMapSettings.mapZoomPadding;let a;if(a=i?{top:o,right:o,bottom:o,left:o+224}:o,1===n.dataPoints.length){const t=n.dataPoints[0].latitude,o=n.dataPoints[0].longitude;if(isNaN(t)||isNaN(o))console.log("EZT Power BI Visual Error: Could not compute map center");else{const n=[o,t],a=r.eztMapSettings.mapZoomScale;i?e.setCamera({center:n,centerOffset:[-100,0],zoom:a,type:r.eztMapSettings.mapZoomAnimationType,duration:r.eztMapSettings.mapZoomDuration}):e.setCamera({center:n,zoom:a,type:r.eztMapSettings.mapZoomAnimationType,duration:r.eztMapSettings.mapZoomDuration})}}else t.boundingBox&&e.setCamera({bounds:t.boundingBox,type:r.eztMapSettings.mapZoomAnimationType,duration:r.eztMapSettings.mapZoomDuration,padding:a})}catch(e){console.log("EZT Power BI Visual Error: Could not compute bounding box")}}function S(e){var t,r;e.target.leaderLine&&((r=(t=e.target).leaderLine.getCoordinates())[1]=t.getOptions().position,t.leaderLine.setCoordinates(r))}function w(e,t,r,n,i,a){const s=r.selectionManager,l=r.viewModel,u=r.settings;let d=0,h=0;if(u.eztMapSettings.layerType==o.RG.territories&&l.levelType==o.RG.territories?d=u.eztTerritoriesOptions.territoryOpacity:(h=u.eztTerritoriesOptions.territoryOpacity,d=u.eztPointOptions.pointOpacity),"idle"===n.getOptions().mode){let n=!1,p=!1;if(e){let t=e;for(let e=0;e<t.shapes.length;e++){const r=t.shapes[e];if("dataSource"in r){if("EztPrimaryDatasource"===r.dataSource.id){n=!0;break}"EZT-Ref-Datasource"===r.dataSource.id&&"Point"!=r.getType()&&(p=!0)}else if("source"in r){if("EztPrimaryDatasource"===r.source){n=!0;break}"EZT-Ref-Datasource"===r.source&&"Point"!=r.getType()&&(p=!0)}}}if(!n&&u.eztMapSettings.layerType==o.RG.points&&u.eztPointOptions.clusterPieChart){const e=t.markers.getMarkers();if(n=(0,c.G6)(e),!n){const t=u.eztPointOptions.pointOpacity.toString();for(let r=0;r<e.length;r++){const n=e[r].getElement();n.style.opacity!=t&&(n.style.opacity=t)}}}if(n)return;if(s.getSelectionIds().length){s.clear();let e=i.getShapes();for(let t=0;t<e.length;t++){const r=e[t],n=r.getProperties();"Polygon"===r.getType()||"MultiPolygon"==r.getType()&&n.fillOpacity!=d?r.addProperty("fillOpacity",d):"Point"===r.getType()&&("customPointOpacityDefault"in n||n.fillOpacity==d?"customPointOpacityDefault"in n&&n.fillOpacity!=n.customPointOpacityDefault&&r.addProperty("fillOpacity",n.customPointOpacityDefault):r.addProperty("fillOpacity",d))}if(l.layerType==o.RG.points){const e=a.getShapes();if(e.length)for(let t=0;t<e.length;t++){const r=e[t];r.getProperties().fillOpacity!=h&&r.addProperty("fillOpacity",h)}}}if(p){const t=u.eztPointOptions.pointOpacity,n=(0,c.zR)(u,t),o=e.shapes.find((e=>"dataSource"in e&&"EZT-Ref-Datasource"==e.dataSource.id));"Point"!=o.getType()&&T(o,i,e.map,e.position,s,t,n,r.mapErrorHandler,r.pbiHost,r.settings.eztCallouts)}}}function _(e,t){if("scale"in e){const r=document.getElementsByClassName("eztMapContainer")[0],n=e.width,i=e.height,o=e.scale||1,a=n*o,s=1/o;let l=i*o;if(r.style.height=`${l}px`,r.style.width=`${a}px`,r.style.transform=`scale(${s})`,r.style.transformOrigin="left top",r.style.position="absolute",r.style.visibility="visible",r.style.marginTop="0px",r.dataset.powerbiScale=`${s}`,l-=38,t)t.resize(l,a);else{const e=document.getElementById("eztMap");e.style.height=`${l}px`,e.style.width=`${a}px`}}}const T=(e,t,r,n,i,o,a,l,p,m)=>{const y=h.atlas||h.window.atlas,f=r.popups.getPopups(),g="getId"in e?e.getId():e.id,b=f.find((e=>e.id==g));let v=null;if(b){const e=b.getOptions();e.position=n;const t=b.leaderLine;var M=t.getCoordinates();M[1]=n,M[0]=n,t.setCoordinates(M),b.setOptions(e)}else{const h=()=>{const n=e.getBounds(),s=t.getShapes(),h=[];if("MultiPolygon"==e.getType())e.getCoordinates().forEach((e=>{const t=y.data.BoundingBox.fromLatLngs(e[0]),r={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:e},properties:{name:"Sample Polygon"}}]};for(let e=0;e<s.length;e++){const n=s[e],i=n.getCoordinates(),o=i[1],a=i[0];if((0,u.s)(i,t)&&(0,d.A)([a,o],r.features[0])){const e=n.getProperties();h.push(e.selectionId)}}}));else{const t=e.toJson();for(let e=0;e<s.length;e++){const r=s[e],i=r.getCoordinates(),o=i[1],a=i[0];if((0,u.s)(i,n)&&(0,d.A)([a,o],t)){const e=r.getProperties();h.push(e.selectionId)}}}const p=r.popups.getPopups().find((e=>e.id==g));if(p.remove(),r.sources.getById("LeaderLineDatasource").remove(v.leaderLine),r.events.remove("drag",v,S),0==h.length)return void l("Points not found in territory!");const m=i.getSelectionIds();(0,c.or)(m,h)||i.select(h,!1).then((e=>{for(let t=0;t<s.length;t++){const r=s[t],n=r.getProperties();let i=!1;for(let t=0;t<e.length;t++)if(e[t].getKey()==n.selectionId.key){i=!0;break}i?"customPointOpacityDefault"in n||n.fillOpacity==o?"customPointOpacityDefault"in n&&n.fillOpacity!=n.customPointOpacityDefault&&r.addProperty("fillOpacity",n.customPointOpacityDefault):r.addProperty("fillOpacity",o):i||("customPointOpacityDeSelect"in n||n.fillOpacity==a?"customPointOpacityDeSelect"in n&&n.fillOpacity!=n.customPointOpacityDeSelect&&r.addProperty("fillOpacity",n.customPointOpacityDeSelect):r.addProperty("fillOpacity",a))}}))},f=(0,s.tX)(r,e,!0,null,m,null,!0,h,p);v=new y.Popup({closeButton:!0}),v.setOptions({content:f,fillColor:m.background,position:n,pixelOffset:[0,0],draggable:!0});const b=v.getPopupContainer();(0,s.cJ)(b,m),v.id=g,v.isOpen()||v.open(r),C(r,y,n,n,v,null,!1,e)}},I=(e,t,r,n,i,o)=>{!t.eztMapSettings.disableMapZoomAfterSelection||t.eztMapSettings.disableMapZoomAfterSelection&&!r.metadata.isSelectionCleared?x(n,e,t,i,o):t.eztMapSettings.disableMapZoomAfterSelection&&r.metadata.isSelectionCleared&&(r.metadata.isSelectionCleared=!1)};function C(e,t,r,n,i,o,a,s){const l=e.sources.getById("LeaderLineDatasource"),u=e.layers.getLayerById("EZT Leader Line"),d=e.getCamera().zoom,h=u.getOptions();h.visible||(h.visible=!0,u.setOptions(h));const p=new t.Shape(new t.data.LineString([r,n])),m=e.popups.getPopups();if(m.length){const e=(0,c.xw)(m);e.length?(e.push(p),l.setShapes(e)):l.setShapes(p)}else l.setShapes(p);i.recordLatLon=r,i.leaderLine=p,i.clusterId=o,i.initialZoom=d,i.isRefLayer=a,i.id="getId"in s?s.getId():s.id,e.events.add("drag",i,S),i.isOpen()||i.open(e),e.events.addOnce("close",i,(t=>{l.remove(i.leaderLine),e.events.remove("drag",i,S),i.remove()}))}function k(e,t,r,n,i){(e.eztMapSettings.clearFilterAfterSelection||e.eztMapSettings.disableMapZoomAfterSelection)&&!t&&r&&(e.eztMapSettings.clearFilterAfterSelection&&n.clear(),e.eztMapSettings.disableMapZoomAfterSelection&&(i.metadata.isSelectionCleared=!0))}},54976:(e,t,r)=>{"use strict";r.d(t,{CN:()=>h,Rv:()=>p,_K:()=>S,hK:()=>f,qh:()=>m,z1:()=>y});var n=r(74692),i=r(22268),o=r(86382),a=r(66002),s=r(95281);function l(e,t){(0,n.ajax)({url:e+"/REST/GetOpenMetadata",contentType:"application/json"}).done((function(e){if(e&&e.mapKey)t(null,{call:"azureKey",response:atob(e.mapKey)});else{console.log("EZT Power BI Visual - Freemium Azure key from EasyTerritory not found");const e=new Error("Freemium Azure key from EasyTerritory not found");e.name="getAzureKeyError",t(e,{call:"azureKey",response:[]})}})).fail((function(e,r,n){const i=new Error("Call to retrieve Azure key from EasyTerritory failed");i.name="getAzureKeyError",console.log("EZT Power BI Visual - "+i.message,i.stack,e),t(i,{call:"azureKey",response:[]})}))}function c(e){(0,n.ajax)({url:"https://powerbi.easyterritory.com/azureMapsControl/atlas.min.js",dataType:"script"}).done((function(){(0,n.ajax)({url:"https://powerbi.easyterritory.com/azureMapsDrawingTools/atlas.drawing.min.js",dataType:"script"}).done((function(){e(null,{value:{call:"cdn",response:"success"}})})).fail((function(t,r,n){const i=new Error("Call to Azure maps drawing tools CDN failed. Please reload visual: "+t.status+", "+r);i.name="getCdnError",console.log("EZT Power BI Visual - "+i.message,i.stack,t),e(i,{call:"cdnError",response:[]})}))})).fail((function(t,r,n){const i=new Error("Call to Azure maps CDN failed. Please reload visual: "+t.status+", "+r);i.name="getCdnError",console.log("EZT Power BI Visual - "+i.message,i.stack,t),e(i,{call:"cdnError",response:[]})}))}function u(e,t,r){let i="";i=t.startsWith("https://")?t:e+"/rest/markup/"+t,(0,n.ajax)({url:i,dataType:"json"}).done((function(e){const t=e.groups,n=[],i=[];let o=!1;for(let e=0;e<t.length;e++){const r=t[e],i=r.pk,a=r.wkt;if("lblPt"in r){o=!0;const e=r.lblPt;n.push({primaryKey:i,wkt:a,labelPoint:e})}else n.push({primaryKey:i,wkt:a})}const a=e.territories;for(let e=0;e<a.length;e++){const t=a[e],r=t.pk,n=t.wkt;if("lblPt"in t){o=!0;const e=t.lblPt;i.push({primaryKey:r,wkt:n,labelPoint:e})}else i.push({primaryKey:r,wkt:n})}r(null,{value:{call:"wkt",response:{groups:n,territories:i,labelsExist:o}}})})).fail((function(e,t,n){const i=new Error("Call to EasyTerritory markup definitions failed: "+t+". Please check 'EasyTerritory URL' and 'EasyTerritory Project ID' values in format panel. Lastly, confirm your EasyTerritory instance allows connections from Power BI.");i.name="getWktnError",console.log("EZT Power BI Visual - "+i.message,i.stack,e),r(i,{call:"wktError",response:[]})}))}function d(e,t,r,i){(0,n.ajax)({url:e+"/REST/ProjectLayers/"+r+"?simplifyMeters="+t.toString(),dataType:"json"}).done((function(e){const t=(0,s.Pm)(e);i(null,{value:{call:"refLayer",response:t}})})).fail((function(e,t,r){const n=new Error("Call to EasyTerritory reference layer failed: "+t+". Please check EasyTerritory reference layers project GUID.");n.name="getRefLayerError",console.log("EZT Power BI Visual - "+n.message,n.stack,e),i(n,{call:"refLayerError",response:[]})}))}function h(e,t,r,n,a,s){const h=[],p=g(e.eztMapSettings.ezturl);if(p.error)return void s(!1,null,null,null,null,p.error,null,null,null,null);let m=e.eztMapSettings.eztProjectId;const y=a.multiProjectProjectIds;e.eztMapSettings.layerType==o.RG.territories&&(t.isFormatAndFieldPanelSet||y.length)?0==y.length?h.push(i.Bb(u,p.eztUrl,m)):(y.forEach((e=>{h.push(i.Bb(u,p.eztUrl,e))})),m=y):e.eztMapSettings.layerType==o.RG.points&&t.relatedTerrFieldsSet&&h.push(i.Bb(u,p.eztUrl,e.eztMapSettings.eztProjectId)),e.eztRefLayers.RefGuid&&h.push(i.Bb(d,p.eztUrl,e.eztRefLayers.refTerrSimplication,e.eztRefLayers.RefGuid)),t.urlSetInFormatPanel&&p.eztUrl&&h.unshift(i.E4(i.Bb(l,p.eztUrl))),n||h.unshift(c),i._7(h,(function(n,i){let o=[],a=null,l=null,c=null,u=null,d=null;if(!n&&i&&i){for(let e=0;e<i.length;e++){const t=i[e];"cameraBounds"===t.value.call?o=t.value.response:"layerState"===t.value.call&&t.value.response.length?r=t.value.response:"travelRingState"===t.value.call?u=t.value.response:"azureKey"===t.value.call?t.value.response.length?a=t.value.response:l=t.error:"wkt"==t.value.call?c=null==c?t.value.response:S(c,t.value.response):"refLayer"===t.value.call&&(d=t.value.response)}!l&&t.urlSetInFormatPanel?s(!0,a,o,r,e,null,c,u,d,m):s(!1,null,null,null,null,l,null,null,d,null)}else s(!1,null,null,null,null,n,null,null,null,null)}))}function p(e,t,r,n,a,s){const c=g(e.eztMapSettings.ezturl);if(c.error)return void a(!1,null,null,null,null,c.error,null);const h=[];r.urlSetInFormatPanel&&c.eztUrl&&h.push(i.E4(i.Bb(l,c.eztUrl)));let p=e.eztMapSettings.eztProjectId;const m=t.multiProjectProjectIds;e.eztMapSettings.layerType==o.RG.territories&&(r.isFormatAndFieldPanelSet||m.length)?0==m.length?h.push(i.Bb(u,c.eztUrl,p)):(m.forEach((e=>{h.push(i.Bb(u,c.eztUrl,e))})),p=m):e.eztMapSettings.layerType==o.RG.points&&r.relatedTerrFieldsSet&&h.push(i.Bb(u,c.eztUrl,e.eztMapSettings.eztProjectId)),e.eztRefLayers.RefGuid&&h.push(i.Bb(d,c.eztUrl,e.eztRefLayers.refTerrSimplication,e.eztRefLayers.RefGuid)),i._7(h,(function(e,t){let r=null,i=null,o=null,s=null;if(!e&&t&&t){for(let e=0;e<t.length;e++){const n=t[e];"azureKey"===n.value.call?n.value.response.length?r=n.value.response:i=n.error:"wkt"==n.value.call?null==o?o=n.value.response:S(o,n.value.response):"refLayer"===n.value.call&&(s=n.value.response)}i?a(!1,null,null,null,null,i,null):a(!0,o,r,s,n,null,p)}else a(!1,null,null,null,null,e,null)}))}function m(e,t,r){const n=g(e),o=[];"string"==typeof t?o.push(i.Bb(u,n.eztUrl,t)):t.forEach((e=>{o.push(i.Bb(u,n.eztUrl,e))})),i._7(o,(function(e,t){if(!e&&t&&t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];"wkt"==n.value.call&&(null==e?e=n.value.response:e&&S(e,n.value.response))}r(null,e)}else r(e,null)}))}function y(e,t,r,i,o,a){const s=function(e){let t="&travelMode=car";if("Time"===e.travelType)t+="&timeBudgetInSec="+60*e.travelTime,e.travelTraffic&&(t+="&traffic=true");else if("Distance"===e.travelType){let r=0;r="Miles"===e.travelDistanceMetric?1609.344*e.travelDistanceNumber:"Yards"===e.travelDistanceMetric?.9144*e.travelDistanceNumber:"Kilometers"===e.travelDistanceMetric?1e3*e.travelDistanceNumber:e.travelDistanceNumber,t+="&distanceBudgetInMeters="+r}if(e.avoidOptions.borderCrossings&&(t+="&avoid=borderCrossings"),e.avoidOptions.carpools&&(t+="&avoid=carpools"),e.avoidOptions.ferries&&(t+="&avoid=ferries"),e.avoidOptions.motorways&&(t+="&avoid=motorways"),e.avoidOptions.tollRoads&&(t+="&avoid=tollRoads"),e.avoidOptions.unpavedRoads&&(t+="&avoid=unpavedRoads"),e.travelTraffic&&(t+="&traffic=true",e.travelLeaveDate&&e.travelLeaveTime)){let r=e.travelLeaveTime;1===r.match(/:/g).length&&(r+=":00"),t+="&departAt="+e.travelLeaveDate+"T"+r}return t}(r);(0,n.ajax)({url:"https://atlas.microsoft.com/route/range/json?subscription-key="+i+"&api-version=1.0&query="+e+","+t+s,contentType:"application/json"}).done((function(e){if(e.reachableRange&&e.reachableRange.boundary.length)o(!0,e.reachableRange,null);else{const e=new Error("Could not calculate a travel ring. Try another location.");o(!1,null,e)}})).fail((function(e,t,r){const n=new Error("Request failed. Please try again."+e.status+", "+t);console.log("EZT Power BI Visual - Call to Azure route range service failed: "+n.message,n.stack,e),o(!1,null,n)}))}function f(e,t,r){const i=`https://atlas.microsoft.com/route/directions/json?subscription-key=${t}&api-version=1.0&query=${e.startPos[1].toString()},${e.startPos[0].toString()}:${e.endPos[1].toString()},${e.endPos[0].toString()}${function(e){let t="";if(e.avoidOptions.borderCrossings&&(t+="&avoid=borderCrossings"),e.avoidOptions.carpools&&(t+="&avoid=carpools"),e.avoidOptions.ferries&&(t+="&avoid=ferries"),e.avoidOptions.motorways&&(t+="&avoid=motorways"),e.avoidOptions.tollRoads&&(t+="&avoid=tollRoads"),e.avoidOptions.unpavedRoads&&(t+="&avoid=unpavedRoads"),e.traffic&&(t+="&traffic=true",e.leaveDate&&e.leaveTime)){let r=e.leaveTime;1===r.match(/:/g).length&&(r+=":00"),t+="&departAt="+new Date(e.leaveDate+"T"+r).toISOString()}return t}(e)}`;(0,n.ajax)({url:i,contentType:"application/json"}).done((function(t){if(t.routes&&t.routes[0].legs.length){const n=[],i=t.routes[0].legs[0],o=i.summary,s=Math.round(100*(o.lengthInMeters/1609.344+Number.EPSILON))/100,l=v(o.trafficDelayInSeconds),c=M(o.travelTimeInSeconds),u=b(o.departureTime),d=b(o.arrivalTime),h=e.color,p=x(),m={callOutProperties:e.traffic?{Distance:s<1&&s%1==0?`${s} mile`:`${s} miles`,"Depart time":u,"Arrive time":d,"Traffic delay":l,"Travel time":c}:{Distance:s<1&&s%1==0?`${s} mile`:`${s} miles`,"Travel time":c},miles:s<1&&s%1==0?`${s} mile`:`${s} miles`,name:`${e.startName} to ${e.endName}`,center:[0,0],fillColor:h,width:e.width,opacity:e.opacity/10,id:p},y=i.points;for(let e=0;e<y.length;e++)n.push([y[e].longitude,y[e].latitude]);const f=new a.data.LineString(n),g=new a.data.Feature(f,m,p),S=new a.data.BoundingBox(a.data.BoundingBox.fromPositions(n)),w=g.geometry.coordinates[Math.floor(g.geometry.coordinates.length/2)];g.properties.center=w,r(!0,{name:`${e.startName} to ${e.endName}`,miles:s,feature:g,id:p,center:w,color:h,opacity:e.opacity/10,visible:!0,strokeWidth:e.width,boundingBox:S,props:m},null)}})).fail((function(e,t,n){const i=new Error("Request failed. Please try again."+e.status+", "+t);console.log("EZT Power BI Visual - Call to Azure route directions service failed: "+i.message,i.stack,e),r(!1,null,i)}))}function g(e){try{let t=new URL(e);return"https"!==t.protocol&&(t.protocol="https"),t.href.endsWith("/index.aspx")?t.href=t.href.split("/index.aspx")[0]:t.href.endsWith("/index.html")?t.href=t.href.split("/index.html")[0]:t.href.endsWith("/")&&(t.href=t.href.slice(0,-1)),{eztUrl:e=t.href,error:null}}catch(e){const t=new Error("Please enter a valid EasyTerritory URL");return t.name="getAzureKeyError",{eztUrl:null,error:t}}}const b=e=>{const t=new Date(e),r=t.toLocaleTimeString(),n=(new Date).toLocaleDateString(),i=t.toLocaleDateString();let o=r;return n!=i&&(o+=` ${i}`),o},v=e=>{let t="";if(e<60)t=0===e?"0":1===e?`${Math.round(e)} second`:`${Math.round(e)} seconds`;else if(e>=60){const r=e/60,n=Math.round(r);if(1===n)t=`${n} minute`;else if(n>1&&n<60)t=`${n} minutes`;else if(n>60){const e=n/60;if(e<2){t=`${Math.trunc(e)} hour`;const r=Math.round(e%1*100);0!==r&&(t+=1===r?` ${r} minute`:` ${r} minutes`)}else if(e>2){t=`${Math.trunc(e)} hours`;const r=Math.round(e%1*100);0!==r&&(t+=1===r?` ${r} minute`:` ${r} minutes`)}}}return t},M=e=>{const t=new Date(1e3*e).toISOString().substring(11,19).split(":"),r=Number(t[0]),n=Number(t[1]);let i="";return r&&(i+=r>1?`${r} hours `:`${r} hour `),n&&(i+=n>1?`${n} minutes`:`${n} minute`),i},x=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),S=(e,t)=>{e||(e={groups:[],territories:[],labelsExist:!!t&&t.labelsExist});const r=e.groups,n=e.territories,i=t.groups,o=t.territories;for(let e=0,t=Math.max(i.length,o.length);e<t;e++){const t=i[e],a=o[e];t&&r.push(t),a&&n.push(a)}return e}},74074:(e,t,r)=>{"use strict";r.d(t,{U:()=>s,Y:()=>l});var n=r(44678),i=r(22608),o=r(66002),a=r(32166);function s(e,t,r,s,l,c){for(let u=0;u<r.length;u++){const d=r[u],h=d.toJson(),p=o.data.BoundingBox.fromData(h);if((0,n.s)([t,e],p)&&(0,i.A)([t,e],h)){s.setCamera({bounds:p,type:l.eztMapSettings.mapZoomAnimationType,padding:l.eztMapSettings.mapZoomPadding,duration:l.eztMapSettings.mapZoomDuration});const r=(0,a.qO)(d.getProperties(),!1,c),n=new o.Popup({closeButton:!0});n.setOptions({content:r,fillColor:c.background,position:[t,e]});const i=n.getPopupContainer();(0,a.cJ)(i,c),n.isOpen()||n.open(s),s.events.addOnce("close",n,(e=>n.remove()));break}}{const r=s.getCamera().zoom;s.setCamera({center:[t,e],zoom:r,type:"fly"})}}function l(e,t,r,n,i,s){let l=[],c={};for(let n=0;n<r.length;n++){const i=r[n],a=i.getCoordinates();"Point"==i.getType()&&(void 0===a[0]&&void 0===a[1]||(l.push(i),c[i.getId()]=Math.round(100*o.math.getDistanceTo([t,e],[a[0],a[1]],"miles"))/100))}if(c){if(!l.length)return;l.sort((function(e,t){return c[e.getId()]-c[t.getId()]}));const e=l[0].getCoordinates(),t=(0,a.qO)(l[0].getProperties(),!0,s),r=new o.Popup({closeButton:!0});r.recordLatLon=e,r.setOptions({content:t,fillColor:s.background,position:e});const u=r.getPopupContainer();(0,a.cJ)(u,s),r.isOpen()||r.open(n),n.events.addOnce("close",r,(e=>r.remove()));const d=n.getCamera().zoom;n.setCamera({center:e,zoom:d,type:i.eztMapSettings.mapZoomAnimationType,duration:i.eztMapSettings.mapZoomDuration})}}},83819:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(86382);function i(e,t){if(!e||!e.length)return{nameColName:"",aggregatedColName:"",aggregatedisNumeric:!1,wktCols:{regionWktColName:"",territoryWktColName:"",zipWktColName:""},latColName:"",lonColName:"",relatedTerrColName:"",relatedTerrWktName:"",relatedTerrHierType:null,isHierarchy:!1,drillDownGroupLevel:"",drillDownTerritoryLevel:"",drillDownPartLevel:"",territoryLevel:null,primaryKeysColName:"",pointSizeColName:"",pointSizeColFormat:"",hyperlinks:[],multiProjectidsSet:!1};const r=e[0].metadata.columns;let i,o,a,s,l,c,u,d,h,p,m,y,f=!1,g=null,b=null,v=null,M=[],x=!1;for(let e=0,S=r.length;e<S;e++){if(r[e].roles.eztTerritoryData){i=r[e].displayName;const o=r[e].expr;o&&o.arg&&o.arg.hierarchy&&t.eztMapSettings.layerType===n.RG.territories?(f=!0,t.eztDrillDown.groupLevel===i?p=i:t.eztDrillDown.territoryLevel===i?m=i:t.eztDrillDown.partLevel===i&&(y=i)):t.eztDrillDown.groupLevel===i?g=n.p9.group:t.eztDrillDown.territoryLevel===i?g=n.p9.territory:t.eztDrillDown.partLevel===i&&(g=n.p9.part)}else r[e].roles.zipWkt?s=r[e].displayName:r[e].roles.pointLat?l=r[e].displayName:r[e].roles.pointLon?c=r[e].displayName:r[e].roles.relatedDataName?(u=r[e].displayName,t.eztMapSettings.layerType==n.RG.points&&(v=t.eztDrillDown.groupLevel==u?n.p9.group:n.p9.territory)):r[e].roles.eztPrimaryKey&&(b=r[e].displayName);r[e].roles.eztPointSize&&(d=r[e].displayName,h=r[e].format),r[e].roles.eztAggregatedData&&(o=r[e].displayName,a=r[e].type.numeric),r[e].roles.hyperlinks&&M.push(r[e].displayName),r[e].roles.projectIds&&(x=!0)}return{nameColName:i,aggregatedColName:o,aggregatedisNumeric:a,wktCols:{regionWktColName:void 0,territoryWktColName:void 0,zipWktColName:s},latColName:l,lonColName:c,relatedTerrColName:u,relatedTerrWktName:void 0,isHierarchy:f,drillDownGroupLevel:p,drillDownTerritoryLevel:m,drillDownPartLevel:y,territoryLevel:g,primaryKeysColName:b,relatedTerrHierType:v,pointSizeColName:d,pointSizeColFormat:h,hyperlinks:M,multiProjectidsSet:x}}},6338:(e,t,r)=>{"use strict";function n(e,t,r,n,i){let o=e.objects;if(o){let e=o[t];if(e){let t=e[r];if(t){let e=t[n];if(void 0!==e)return e}}}return i}r.d(t,{x:()=>n})},86382:(e,t,r)=>{"use strict";r.d(t,{RG:()=>c,p9:()=>l,pv:()=>u});var n=r(11847),i=r(6338),o=r(2514),a=r(31520);const s=[];var l,c;function u(e,t,r,u,h,p,m){let y=e.dataViews;if(!(y&&y[0]&&y[0].categorical&&y[0].categorical.categories&&y[0].categorical.categories[0].source&&y[0].categorical.values))return{dataPoints:[],dataMax:0,dataMin:0,queryName:null,groupingColName:null,mapZoom:!1,uniqueVals:[],format:null,pointRangeMax:0,pointRangeMin:0,valueFormatter1:null,valueFormatter2:null,multiProjectProjectIds:[],isHighlighted:!1};let f,g,b,v,M,x,S,w,_=y[0].categorical,T=_.categories[0],I=_.values[0],C=I.source.format,k=[],L=null,N=null,Z=null,E=t.colorPalette,z="";const G=[];let P="",A=null,R=r.eztPointOptions.pointOpacity,D=null,X=null,O=!1;r.eztMapSettings.layerType==c.points&&"custom"===r.eztClassification.eztColorGradExact&&(O=!0);const W=m.getSelectionIds(),j=r.eztMapSettings.layerType==c.points&&(r.eztPointOptions.clusterPoints&&r.eztPointOptions.clusterPieChart&&!r.eztClassification.eztClassifyOn||r.eztPointOptions.clusterLatLon),Y="highlights"in I;let F=[],V=[];for(let e=0,n=Math.max(T.values.length,I.values.length);e<n;e++){if(0===e){const e=d(p,T,r);L=e.levelType,N=e.hierarchyType}if(I.highlights&&null===I.highlights[e])continue;let n;if("bubble"!==r.eztPointOptions.pointSymbolType&&(z=`${r.eztPointOptions.pointSymbolType}-${r.eztPointOptions.fill}`),u){let t;if("range"===h)t=(0,o.qj)(u,Number(I.values[e])),"bubble"!==r.eztPointOptions.pointSymbolType&&(z=t.symbolId?t.symbolId:"fall-back-icon");else if("exact"===h){let n;n=null===I.values[e]?I.values[e]:I.values[e].toString(),t=(0,o.Mj)(u,n),"bubble"!==r.eztPointOptions.pointSymbolType&&(z=t.symbolId),O&&(R=t.opacity,D=t.opacity,X=t.deSelectOpacity)}n=t.colorGradient}else r.eztMapSettings.layerType===c.territories&&r.eztTerritoriesOptions.territoryColors?n=E.getColor(`${T.values[e]}`).value:r.eztMapSettings.layerType!==c.territories||r.eztTerritoriesOptions.territoryColors?r.eztMapSettings.layerType===c.points&&(n=r.eztPointOptions.fill):n=r.eztTerritoriesOptions.color;const a=t.createSelectionIdBuilder().withCategory(T,e).createSelectionId();let m=[];m.push({category:T.source.displayName,value:T.values[e],format:T.source.format});let y,f="",g="",C="",Y=[];for(let t=0,n=_.values.length;t<n;t++){const n=_.values[t];if(n.source.roles.eztPointSize){x=Number(n.values[e]),S=Number(n.minLocal),w=Number(n.maxLocal);const t=r.eztMapSettings.layerType==c.territories?p.drillDownPartLevel?r.eztPointOptions.sizeClassify:r.eztTerritoriesOptions.centerPointSize:r.eztPointOptions.sizeClassify;x=(0,o.Y7)(S,w,t,x)}if(n.source.roles.eztAggregatedData&&!n.source.roles.Tooltips)continue;if(n.source.roles.relatedDataName&&n.values[e]){if(f=n.values[e].toString(),g=n.source.displayName,r.eztTerritoriesOptions.territoryColors){for(let e=0;e<s.length;e++){const t=s[e];if(t.name===f){y=t.color;break}}y=E.getColor(T.values[e]).value}else y=r.eztTerritoriesOptions.color,s.length=0;continue}if(n.source.roles.eztPrimaryKey&&n.values[e])C=n.values[e].toString(),P=c.territories,A=p.relatedTerrHierType;else{if(p.isHierarchy&&T.source.displayName.includes(r.eztDrillDown.partLevel)&&(n.source.roles.pointLat||n.source.roles.pointLon)&&n.values[e]){N=l.part,L=c.points,n.source.roles.pointLat?b=Number(n.values[e]):n.source.roles.pointLon&&(v=Number(n.values[e]));continue}if(n.source.roles.pointLat&&n.values[e]){b=Number(n.values[e]);continue}if(n.source.roles.pointLon&&n.values[e]){v=Number(n.values[e]);continue}}if(n.source.roles.eztPrimaryKey&&n.values[e]){Z=n.values[e];continue}if(n.source.roles.eztPrimaryKey||n.source.roles.zipWkt)continue;if(n.source.roles.hyperlinks&&n.values[e]){let t="",i="";0==p.hyperlinks.findIndex((e=>e==n.source.displayName))?(t=r.eztHyperlinks.hyperlinkLabelCol1,i=r.eztHyperlinks.hyperlinkTargetCol1):(t=r.eztHyperlinks.hyperlinkLabelCol2,i=r.eztHyperlinks.hyperlinkTargetCol2),Y.push({category:n.source.displayName,label:t,targetCol:i,value:n.values[e]});continue}if(n.source.roles.projectIds&&n.values[e]){const t=n.values[e];F.find((e=>e==t))||F.push(t);continue}let i=n.values[e];m.push({category:n.source.displayName,value:i,format:n.source.format})}let H=!1;if(H=!W.length||W.some((e=>e.includes(a))),C){let e=!1;for(let t=0;t<G.length;t++)if(G[t].nameValue===f){e=!0,e&&H&&!G[t].highlighted&&(G[t].highlighted=!0);break}e||G.push({nameValue:f,nameCol:g,highlighted:H,primaryKeys:C,color:y})}const U={solid:{color:n}};let B=null;r.eztMapSettings.layerType==c.territories?L===c.territories?B=(0,i.x)(T,e,"eztTerritoriesColors","fill",U).solid.color:L===c.points&&(B=u?n:r.eztPointOptions.fill):B=n;let K=I.values[e];if(j){let t=!1;if(r.eztPointOptions.clusterLatLon){for(let n=0;n<V.length;n++)if(b==V[n].lat&&v==V[n].lon){V[n].count++,V[n].dataPoints.push({name:T.values[e],category:`${T.values[e]}`,measureValue:K,latitude:b,longitude:v,wkt:M,primaryKeyJson:Z,properties:m,relatedTerr:f,color:B,highlighted:H,selectionId:a,radius:null==x?r.eztPointOptions.size:x,opacity:R,entityType:z}),t=!0;break}if(!t){const t={name:T.values[e],category:`${T.values[e]}`,measureValue:K,latitude:b,longitude:v,wkt:M,primaryKeyJson:Z,properties:m,relatedTerr:f,color:B,highlighted:H,selectionId:a,radius:null==x?r.eztPointOptions.size:x,opacity:R,customPointOpacityDefault:D,customPointOpacityDeSelect:X,entityType:z};V.push({lat:b,lon:v,id:[v,b].toString(),count:1,dataPoints:[t]})}}}k.push({name:T.values[e],category:`${T.values[e]}`,measureValue:K,latitude:b,longitude:v,wkt:M,primaryKeyJson:Z,properties:m,relatedTerr:f,color:B,highlighted:H,selectionId:a,radius:null==x?r.eztPointOptions.size:x,opacity:R,customPointOpacityDefault:D,customPointOpacityDeSelect:X,entityType:z,hyperlinks:Y})}const H={type:P,dataPoints:G,hierarchyType:A};f=I.maxLocal,g=I.minLocal;const U=T.source.queryName.substring(0,T.source.queryName.indexOf(".")),B=T.source.displayName,K=n.G2.create({value:0,format:C,formatSingleValues:!0,displayUnitSystemType:a.DisplayUnitSystemType.Verbose}),J=n.G2.create({value:0,format:C,formatSingleValues:!0,precision:0,displayUnitSystemType:a.DisplayUnitSystemType.Verbose});let Q=[];if(r.eztPointOptions.clusterLatLon)for(let e=0;e<V.length;e++){const t=V[e];t.count>=2&&Q.push(t)}return V=Q,{dataPoints:k,dataMax:f,dataMin:g,levelType:L,hierarchyType:N,queryName:U,groupingColName:B,relatedDataSource:H,mapZoom:!1,uniqueVals:V,format:C,pointRangeMin:S,pointRangeMax:w,valueFormatter1:K,valueFormatter2:J,multiProjectProjectIds:F,isHighlighted:Y}}function d(e,t,r){let n=null,i=null;return e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.territoryLevel)?(n=c.territories,i=l.territory):e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.groupLevel)?(n=c.territories,i=l.group):e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.groupLevel1)?(n=c.territories,i=l.group1):e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.groupLevel2)?(n=c.territories,i=l.group2):e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.groupLevel3)?(n=c.territories,i=l.group3):e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.groupLevel4)?(n=c.territories,i=l.group4):e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.groupLevel5)?(n=c.territories,i=l.group5):e.isHierarchy&&t.source.displayName.endsWith(r.eztDrillDown.groupLevel6)?(n=c.territories,i=l.group6):e.isHierarchy||(n=c.territories,e.territoryLevel===l.group?i=l.group:e.territoryLevel===l.territory?i=l.territory:e.territoryLevel===l.part?(i=l.part,n=c.points):r.eztMapSettings.layerType==c.points&&(n=c.points)),{levelType:n,hierarchyType:i}}!function(e){e.group6="group6",e.group5="group5",e.group4="group4",e.group3="group3",e.group2="group2",e.group1="group1",e.group="group",e.territory="territory",e.part="part"}(l||(l={})),function(e){e.territories="territories",e.points="points"}(c||(c={}))},37278:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(66002);class i extends n.HtmlMarker{constructor(e){super(e),this._options={radius:40,shapes:[],grouping:!1,fillColor:"transparent",strokeWidth:0,strokeColor:"#666666",outlineColor:"#FFFFFF",innerRadius:0,textClassName:""},this._total=0,this.properties={},super.setOptions({htmlContent:document.createElement("div"),pixelOffset:[0,0],anchor:"center"}),this.setOptions(e)}getTotalValue(){return this._total}getSliceValue(e){const t=this._options.shapes;return e>=0&&e<t.length?t[e]:0}getSlicePercentage(e){return this._total>0?Math.round(1/this._total*1e4)/100:0}getOptions(){return Object.assign({},super.getOptions(),this._options)}setOptions(e){const t=this._options;t.radius=e.radius,t.innerRadius=e.innerRadius,t.shapes=e.shapes,t.grouping=e.grouping,t.fillColor=e.fillColor,t.strokeColor=e.strokeColor,t.outlineColor=e.outlineColor,t.strokeWidth=e.strokeWidth,t.text=e.text,super.setOptions({text:e.text}),this._render(),super.setOptions(e)}_render(){const e=this,t=e._options,r=t.shapes,n=t.radius,i=t.grouping;let o=0,a=0;if(r){if(i){e._total=0;for(let t=0;t<r.length;t++)e._total+=r[t].properties.measureValueCount}else e._total=r.length;const s=Math.random,l=Math.round,c=n+t.strokeWidth,u=[`<svg xmlns="http://www.w3.org/2000/svg" width="${2*c}px" height="${2*c}px">`];let d="",h="";if(t.innerRadius>0&&t.innerRadius<=t.radius&&(h="piechart-innercircle-"+l(1e7*s()),u.push(`<defs><mask id="${h}"><rect width="100%" height="100%" fill="white"/><circle r="${t.innerRadius}" cx="${c}" cy="${c}" fill="black"/></mask></defs>`)),e._total>0){let t=2*Math.PI/e._total;for(let s=0;s<r.length;s++){a=i?t*r[s].properties.measureValueCount:1*t;const l=r[s].properties.fillColor;u.push(e._createSlice(c,c,n,o,a,l,d,h)),o+=a}}const p=e.getOptions().text;u.push(`<circle r="${t.innerRadius}" cx="${c}" cy="${c}" style="fill:${t.fillColor};stroke:${t.outlineColor};stroke-width:1px;cursor:pointer;"/>\n            <text x="${c}" y="${c+7}" style="font-size:16px;font-family:arial;fill:#000;font-weight:bold;cursor:pointer;" class="${t.textClassName||""}" text-anchor="middle">${p}</text>`),u.push(`<circle r="${2*t.innerRadius-.5}" cx="${c}" cy="${c}" style="fill:none;stroke:${t.outlineColor};stroke-width:1px;cursor:pointer;"/>`),u.push("</svg>"),super.getOptions().htmlContent.innerHTML=u.join("")}}_createSlice(e,t,r,n,i,o,a,s){const l=this._options,c=Math.PI;let u="";if(s&&(u=` mask="url(#${s}"`),i>2*c*.99)return`<circle r="${r}" cx="${e}" cy="${t}" style="fill:${o};stroke:${l.strokeColor};stroke-width:${l.strokeWidth}px;cursor:pointer;"${u}><title>${a}</title></circle>`;const d=Math.sin,h=Math.cos;let p=0;return i>c&&(p=1),`<path d="M${e} ${t} L ${e+r*d(n)} ${t-r*h(n)} A ${r},${r} 0 ${p} 1 ${e+r*d(n+i)} ${t-r*h(n+i)}z" class="pie-chart-slice" style="fill:${o};stroke:${l.strokeColor};stroke-width:${l.strokeWidth}px;cursor:pointer;"${u}><title>${a}</title></path>`}}i._moreColors=[]},44678:(e,t,r)=>{"use strict";function n(e,t){var r=e[0],n=e[1];return r>=t[0]&&r<=t[2]&&n>=t[1]&&n<=t[3]}function i(e,t){var r=6378136.98,n=r*Math.PI,i=Math.exp(2*t/r);return{lon:e/n*180,lat:Math.asin((i-1)/(i+1))/Math.PI*180}}r.d(t,{G:()=>i,s:()=>n})},1582:(e,t,r)=>{"use strict";function n(){return(new Date).toISOString()}r.d(t,{R:()=>n})},13820:(e,t,r)=>{"use strict";r.d(t,{b:()=>f}),r(91210);var n,i=r(96540),o=r(40961),a=r(50441),s=r(83413),l=r(1484),c=r(65276),u=r(54976),d=r(86382),h=r(2514),p=r(83819),m=r(66362),y=r(95281);!function(e){e.range="range",e.exact="exact"}(n||(n={}));class f{constructor(e){this.host=e.host;const t=i.createElement(c.H,{pbiHost:this.host});this.toolTip=a.C7(this.host.tooltipService,e.element,0),this.cdnInjected=!1,this.azureKeyReceived=!1,this.classifications=null,this.classifyMode="",this.prevConfigState=null,this.storage=e.host.storageService,this.sessionGuid="",this.ajaxCallsInFlight=!1,this.prevSettings=null,this.dataView=[],this.columnMetadata=null,this.selectionManager=this.host.createSelectionManager(),this.relTerrReceived=!1,this.multiProjectIdsReceived={ids:[],wkt:null},this.selectionManager.registerOnSelectCallback((e=>{})),o.render(t,e.element)}update(e){var t,r,i,o;if(2!==e.type&&510!==e.type)return void("36"!=e.type.toString()&&"32"!=e.type.toString()||c.H.update({viewPort:e.viewport,updateMapScale:!0}));this.settings=f.parseSettings(e&&e.dataViews&&e.dataViews[0]);let a=!this.prevSettings||this.prevSettings===JSON.stringify(this.settings),s=null,l=!1,m=!0;if(a){if(this.dataView=e.dataViews,e.dataViews.length&&e.dataViews[0].metadata.segment){if(this.host.fetchMoreData(!0))return l=!0,void c.H.update({loadingData:l,updateMapScale:!1});s="Fetched data total of 100 MB exceeded. Data has been trunicated.",console.log("EasyTerritory Power BI Visual Error: Max number of dataViews has been received"),this.host.displayWarningIcon("Fetched data exceeded","Fetched data total of 100 MB exceeded. Data has been trunicated.")}m=!!this.settings.eztMapSettings.mapZoom}else e.dataViews=this.dataView,m=!1;this.prevSettings=JSON.stringify(this.settings),this.sessionGuid=this.settings.eztInstanceSettings.sessionGuid||this.host.instanceId,this.columnMetadata=(0,p.O)(e.dataViews,this.settings);const g=e.viewport.height-64;let b=null;e.dataViews[0]&&"categorical"in e.dataViews[0]&&e.dataViews[0].categorical.values&&(b=e.dataViews[0].categorical.values[0],this.classifyMode="maxLocal"in b&&"minLocal"in b?n.range:n.exact,this.settings.eztClassification.eztClassifyMode=this.classifyMode);const v=this.interrogateSettingsAndColumns(this.settings,this.columnMetadata,this.prevConfigState,g);let M=!(!this.prevConfigState||!(this.prevConfigState.layerType!==v.layerType||this.prevConfigState.eztProjectId!==v.eztProjectId||this.prevConfigState.eztUrl!==v.eztUrl||this.prevConfigState.clusterProps!==v.clusterProps||this.prevConfigState.refLayer!==v.refLayer||v.refLayer&&this.prevConfigState.refTerrSimplication!=v.refTerrSimplication||v.multipProjectIdsSet!=this.prevConfigState.multipProjectIdsSet)),x=!1;if(M&&(this.prevConfigState.eztProjectId!==v.eztProjectId||this.prevConfigState.eztUrl!=v.eztUrl||v.layerType!=this.prevConfigState.layerType||v.refLayer!=this.prevConfigState.refLayer||v.refLayer&&this.prevConfigState.refTerrSimplication!=v.refTerrSimplication||v.multipProjectIdsSet!=this.prevConfigState.multipProjectIdsSet)&&(x=!0),this.settings.eztClassification.eztClassifyOn&&!this.classifications&&this.columnMetadata.aggregatedColName){const t=this.settings.eztClassification.eztClassifyBreakType;if(this.classifyMode!=n.range||"equalInterval"!==t&&"quantile"!==t&&"custom"!=t)this.classifyMode==n.exact?(this.classifications=(0,h.Jm)(this.dataView[0],this.settings.eztClassification.eztClassifyType,this.settings),this.classifications.sort(((e,t)=>e.exact-t.exact))):this.classifications=(0,h.bT)(this.settings.eztClassification.eztClassify,this.settings.eztClassification.eztColorGrad,this.settings.eztClassification);else{const t=e.dataViews[0].categorical.values[0].values;this.classifications=(0,h.Q)(this.classifyMode,b,this.settings.eztClassification.eztClassify,this.settings.eztClassification.eztColorGrad,this.settings.eztClassification.eztClassifyBreakType,t,"bubble"!==this.settings.eztPointOptions.pointSymbolType?this.settings.eztPointOptions.pointSymbolType:"",this.settings.eztClassification)}}const S=(0,d.pv)(e,this.host,this.settings,this.classifications,this.classifyMode,this.columnMetadata,this.selectionManager);let w=this.parseEztMapLayers(v,S.levelType);S.layerType=v.layerType,S.mapZoom=m;let _=null;if(S.layerType===d.RG.territories&&S.levelType===d.RG.territories&&S.dataPoints.length>1e3&&(_=new Error("Too many territories. Please limit 'Name column' to 1000 groupings for territory map.")),v.urlSetInFormatPanel&&!this.ajaxCallsInFlight)if(this.cdnInjected||this.azureKeyReceived)if(this.prevConfigState&&!x&&(this.prevConfigState.mapLayers!==JSON.stringify(w.layerDetails)||S.multiProjectProjectIds.length||this.multiProjectIdsReceived.ids.length)){let t=!1,r=this.settings.eztMapSettings.eztProjectId;if(S.multiProjectProjectIds.length){const e=(0,y.s1)(this.multiProjectIdsReceived.ids,S.multiProjectProjectIds);e.length&&(t=!0,r=e)}this.layerVisibilityCheck(w),this.settings.eztMapSettings.layerType==d.RG.points&&!this.relTerrReceived&&v.relatedTerrFieldsSet||this.settings.eztMapSettings.layerType==d.RG.territories&&t?u.qh(this.settings.eztMapSettings.ezturl,r,((t,n)=>{let i=null;t||(S.multiProjectProjectIds.length&&"object"==typeof r?(i=u._K(this.multiProjectIdsReceived.wkt,n),r.forEach((e=>{this.multiProjectIdsReceived.ids.push(e)})),this.multiProjectIdsReceived.wkt=i):i=n),c.H.update({viewModel:S,terrGeometry:i,columnMetadata:this.columnMetadata,settings:this.settings,toolTip:this.toolTip,azureMapsCdnLoaded:!0,configState:v,classifyRange:this.classifications,updateCheck:{components:!0,referenceLayers:!1,shapes:!0},mapLayerDefs:w.layerDetails,redeployMap:M,logger:s,error:t?t.message:null,loadingData:l,selectionManager:this.selectionManager,viewPort:e.viewport,updateMapScale:!1,drillableRoles:e.dataViews[0].metadata.dataRoles.drillableRoles})})):c.H.update({viewModel:S,columnMetadata:this.columnMetadata,settings:this.settings,toolTip:this.toolTip,azureMapsCdnLoaded:!0,configState:v,classifyRange:this.classifications,updateCheck:{components:!0,referenceLayers:!1,shapes:!0},mapLayerDefs:w.layerDetails,logger:s,error:_?_.message:null,redeployMap:M,loadingData:l,updateMapScale:!1,drillableRoles:e.dataViews[0].metadata.dataRoles.drillableRoles})}else x?u.Rv(this.settings,S,v,w.layerDetails,((t,r,n,i,o,a,u)=>{t?("object"==typeof u&&(this.multiProjectIdsReceived={ids:u,wkt:r}),c.H.update({viewModel:S,azureKey:n,terrGeometry:r,columnMetadata:this.columnMetadata,settings:this.settings,toolTip:this.toolTip,azureMapsCdnLoaded:!0,configState:v,classifyRange:this.classifications,updateCheck:{components:!0,referenceLayers:!1,shapes:!0},redeployMap:M,logger:s,error:a?a.message:null,loadingData:l,selectionManager:this.selectionManager,refLayers:i,mapLayerDefs:o,updateMapScale:!1,drillableRoles:e.dataViews[0].metadata.dataRoles.drillableRoles})):c.H.update({viewModel:S,columnMetadata:this.columnMetadata,settings:this.settings,toolTip:this.toolTip,azureMapsCdnLoaded:!0,configState:v,classifyRange:this.classifications,updateCheck:{components:!0,referenceLayers:!1,shapes:!0},redeployMap:M,logger:s,error:a.message,loadingData:l,mapLayerDefs:w.layerDetails,viewPort:e.viewport,updateMapScale:!1,drillableRoles:e.dataViews[0].metadata.dataRoles.drillableRoles})})):c.H.update({viewModel:S,columnMetadata:this.columnMetadata,settings:this.settings,toolTip:this.toolTip,azureMapsCdnLoaded:!0,configState:v,classifyRange:this.classifications,updateCheck:{components:!0,referenceLayers:!1,shapes:!0},redeployMap:M,logger:s,error:_?_.message:null,loadingData:l,viewPort:e.viewport,updateMapScale:!1,drillableRoles:e.dataViews[0].metadata.dataRoles.drillableRoles});else this.ajaxCallsInFlight=!0,u.CN(this.settings,v,w.layerDetails,this.cdnInjected,S,((t,r,n,i,o,a,u,h,p,m)=>{var y;this.ajaxCallsInFlight=!1,t?(this.cdnInjected=!0,v.urlSetInFormatPanel&&r&&(this.azureKeyReceived=!0),this.settings.eztMapSettings.layerType==d.RG.points&&u&&(this.relTerrReceived=!0),"object"==typeof m&&(this.multiProjectIdsReceived={ids:m,wkt:u}),c.H.update({viewModel:S,terrGeometry:u,azureKey:r,columnMetadata:this.columnMetadata,settings:o,toolTip:this.toolTip,azureMapsCdnLoaded:!0,configState:v,classifyRange:this.classifications,pbiHost:this.host,updateCheck:{components:!0,referenceLayers:!1,shapes:!1},mapLayerDefs:i,logger:s,error:a?a.message:null,localStorage:this.storage,cameraBounds:n,sessionGuid:this.sessionGuid,showLegend:this.settings.eztMapSettings.displayLegend,selectionManager:this.selectionManager,travelRing:h,loadingData:l,refLayers:p,viewPort:e.viewport,updateMapScale:!1,drillableRoles:e.dataViews[0].metadata.dataRoles.drillableRoles})):(this.azureKeyReceived="getAzureKeyError"!==a.name,c.H.update({azureMapsCdnLoaded:"getCdnError"!==a.name,viewModel:S,columnMetadata:null!==(y=this.columnMetadata)&&void 0!==y?y:null,settings:this.settings,configState:v,pbiHost:this.host,localStorage:this.storage,error:a.message,logger:null,loadingData:l,refLayers:p,updateMapScale:!1}))}));else v.urlSetInFormatPanel||c.H.update({azureMapsCdnLoaded:!1,viewModel:S,columnMetadata:null!==(t=this.columnMetadata)&&void 0!==t?t:null,settings:this.settings,configState:v,pbiHost:this.host,localStorage:this.storage,loadingData:l,updateMapScale:!1,drillableRoles:null===(o=null===(i=null===(r=e.dataViews[0])||void 0===r?void 0:r.metadata)||void 0===i?void 0:i.dataRoles)||void 0===o?void 0:o.drillableRoles});v.mapLayers=JSON.stringify(w.layerDetails),v.eztClassification=JSON.stringify(this.settings.eztClassification),this.prevConfigState=v}interrogateSettingsAndColumns(e,t,r,i){let o={runCdnScript:!1,createMap:!1,layerType:null,isFormatAndFieldPanelSet:!1,urlSetInFormatPanel:!1,eztUrl:this.settings.eztMapSettings.ezturl||null,eztProjectId:this.settings.eztMapSettings.eztProjectId||null,primaryDataColName:t?t.nameColName:null,primaryKeysColName:t?t.primaryKeysColName:null,aggregatedColName:t?t.aggregatedColName:null,latCol:t?t.latColName:null,lonCol:t?t.lonColName:null,wktCol:t?t.wktCols.regionWktColName:null,classify:this.settings.eztClassification.eztClassify,clasifyGrad:this.settings.eztClassification.eztColorGrad,classifyType:this.settings.eztClassification.eztClassifyType,classifyBreakType:this.settings.eztClassification.eztClassifyBreakType,relatedTerrColName:t?t.relatedTerrColName:null,relatedTerrFieldsSet:!1,mapLayers:"",exactColorType:this.settings.eztClassification.eztColorGradExact,visualHeight:i,pointSymbolType:this.settings.eztPointOptions.pointSymbolType,clusterProps:this.settings.eztPointOptions.clusterMaxZoom+""+this.settings.eztPointOptions.clusterPoints+this.settings.eztPointOptions.clusterRadius+this.settings.eztPointOptions.clusterPieChart+this.settings.eztPointOptions.clusterLatLon,refLayer:this.settings.eztRefLayers.RefGuid,mapStyle:this.settings.eztMapSettings.mapStyle,refTerrSimplication:this.settings.eztRefLayers.refTerrSimplication,multipProjectIdsSet:this.columnMetadata.multiProjectidsSet};if("points"===e.eztMapSettings.layerType?o.layerType=d.RG.points:"territories"===e.eztMapSettings.layerType&&(o.layerType=d.RG.territories),e.eztMapSettings&&e.eztMapSettings.ezturl&&"Enter your EasyTerritory URL"!==e.eztMapSettings.ezturl&&(o.urlSetInFormatPanel=!0,this.prevConfigState&&e.eztMapSettings.ezturl!=this.prevConfigState.eztUrl&&(this.azureKeyReceived=!1)),e.eztInstanceSettings&&!e.eztInstanceSettings.sessionGuid)try{this.storage.remove("EztCameraBounds"),this.storage.remove("EztLayersState")}catch(e){}return(t&&"territories"===o.layerType&&o.eztProjectId&&"Enter your EasyTerritory project id"!=o.eztProjectId||t&&"points"===o.layerType)&&(o.isFormatAndFieldPanelSet=!0),o.isFormatAndFieldPanelSet&&t.relatedTerrColName&&t.primaryKeysColName&&o.eztProjectId&&o.urlSetInFormatPanel&&(o.relatedTerrFieldsSet=!0),this.cdnInjected||(o.runCdnScript=!0),"dynamic"!==e.eztClassification.eztClassifyType&&this.settings.eztClassification.eztClassifyOn?e.eztClassification.eztClassifyOn&&r&&(e.eztClassification.eztClassify==r.classify&&e.eztClassification.eztColorGrad==r.clasifyGrad||(this.classifications=""),o.aggregatedColName!=r.aggregatedColName&&(this.classifications=""),e.eztClassification.eztClassifyType!=r.classifyType&&(this.classifications=""),e.eztClassification.eztClassifyBreakType!=r.classifyBreakType&&(this.classifications=""),"custom"===e.eztClassification.eztColorGradExact&&r.eztClassification!=JSON.stringify(this.settings.eztClassification)&&(this.classifications=""),e.eztClassification.eztColorGradExact!=r.exactColorType&&(this.classifications=""),e.eztPointOptions.pointSymbolType!=r.pointSymbolType&&(this.classifications=""),e.eztClassification.eztClassifyMode==n.range&&"custom"==e.eztClassification.eztClassifyBreakType&&r.eztClassification!=JSON.stringify(this.settings.eztClassification)&&(this.classifications="")):this.classifications="",o}parseEztMapLayers(e,t){let r=[];e.layerType===d.RG.territories&&t===d.RG.territories?(r.push({id:l.Dp.territoriesLayerId,visible:!0,type:l.pl.baseLayer,opacity:this.settings.eztTerritoriesOptions.territoryOpacity},{id:l.Dp.lineLayerId,visible:!0,type:l.pl.baseLayer,strokeWidth:this.settings.eztTerritoriesOptions.territoryBorderWidth,opacity:this.settings.eztTerritoriesOptions.territoryOpacity}),"noLabels"!=this.settings.eztTerritoriesOptions.territoryLabels&&r.push({id:l.Dp.symbolLayerId,visible:!0,type:l.pl.baseLayer,opacity:this.settings.eztTerritoriesOptions.size})):e.layerType!==d.RG.points&&t!==d.RG.points||(e.relatedTerrFieldsSet&&(r.push({id:l.Dp.territoriesLayerId,visible:!0,type:l.pl.baseLayer,opacity:1},{id:l.Dp.lineLayerId,visible:!0,type:l.pl.baseLayer,opacity:1}),"noLabels"!=this.settings.eztTerritoriesOptions.territoryLabels&&r.push({id:l.Dp.symbolLayerId,visible:!0,type:l.pl.baseLayer,opacity:this.settings.eztTerritoriesOptions.size})),r.push({id:l.Dp.pointsLayerId,visible:!0,type:l.pl.baseLayer,opacity:1}));const n=this.settings.eztTileLayers;let i=0;return Object.keys(n).forEach((e=>{if("opacity"!==e&&"tileLayers"!==e&&"eztCustomLayersOn"!==e&&"WmsLayerName"!==e&&"WmsLayerUrl"!==e&&"WmsLayerSize"!==e&&n[e])if("WeatherRadar"===e)r.push({catalogName:"Weather Radar",id:"Weather Radar",visible:!0,type:l.pl.azureTile,opacity:this.settings.eztTileLayers.opacity});else if("WeatherInfrared"===e)r.push({catalogName:"Weather Infrared",id:"Weather Infrared",visible:!0,type:l.pl.azureTile,opacity:this.settings.eztTileLayers.opacity});else{const t=m.SS.find((t=>t.PowerBiName===e));let n=!1;0==i&&(n=!0),r.unshift({id:t.MdnLayerName,catalogName:t.CatalogLayerName,visible:n,type:l.pl.mdnTile,opacity:1,mdnTileIconStyle:t.Line}),i++}})),n.WmsLayerName&&n.WmsLayerUrl&&r.push({catalogName:"WmsTileLayer",id:n.WmsLayerName,visible:!0,type:l.pl.azureTile,opacity:1,url:n.WmsLayerUrl,size:n.WmsLayerSize}),{layerDetails:r,error:null}}layerVisibilityCheck(e){const t=document.getElementsByClassName("legendEztTileLayers");if(t.length){if("mdnLayers"===t[0].id){const r=e.layerDetails.filter((e=>"mdnTile"==e.type));if(t[0].childNodes.length<r.length)return}e.layerDetails.forEach((e=>{for(var r=0;r<t.length;r++){const n=t[r].getElementsByTagName("section");for(let t=0;t<n.length;t++){const r=n[t].getElementsByTagName("input")[0];if("checked"in r.dataset){const t=r.dataset.checked;if("false"===t&&r.id==e.id){e.visible=!1;break}if("true"===t&&r.id==e.id){e.visible=!0;break}}}}}))}}static parseSettings(e){return s.Mb.parse(e)}getFormattingModel(){if(!this.dataView||!this.dataView.length)return{cards:[]};let e={displayName:"EasyTerritory map",uid:"eztMapSettings_uid",groups:[],revertToDefaultDescriptors:[{objectName:"eztMapSettings",propertyName:"layerType"},{objectName:"eztMapSettings",propertyName:"mapStyle"}]},{layerType:t,ezturl:r,eztProjectId:i,mapStyle:o,mapWrap:a,mapDisplayLabels:s,mapDisplaySettingsBtn:l,displayLegend:c,geospatialSearch:u,maxSelection:h,mapZoom:p,mapZoomAnimationType:m,mapZoomDuration:y,mapZoomPadding:f,mapZoomScale:g,displayLegendHeader:b,displayLegendBtn:v,displaySearchBar:M,disableMapZoomAfterSelection:x,clearFilterAfterSelection:S}=this.settings.eztMapSettings,{fill:w,pointRenderMinZoom:_,pointOpacity:T,pointDeselectOpacityEnable:I,pointDeselectOpacity:C,size:k,sizeClassify:L,pointBorderColor:N,pointBorderSize:Z,travelRingOnClick:E,expandCalloutByDefault:z,clusterPoints:G,clusterPieChart:P,clusterRadius:A,clusterMaxZoom:R,isClusterPieChartGrouping:D,clusterLatLon:X}=this.settings.eztPointOptions;const{territoryColors:O,color:W,territoryOpacity:j,territoryDeselectOpacityEnable:Y,territoryDeselectOpacity:F,territoryBorderWidth:V,territoryBorderColor:H,territoryLabels:U,fill:B,size:K,maxZoom:J,minZoom:Q,centerPointEnable:q,centerPointColor:$,centerPointOpacity:ee,centerPointSize:te}=this.settings.eztTerritoriesOptions;let re=this.settings.eztClassification,{eztClassifyOn:ne,eztClassifyBreakType:ie,eztClassifyType:oe,eztClassify:ae,eztColorGrad:se,eztColorGradExact:le,applyLegendDataLabels:ce,legendDataLabelsPrecision:ue}=re,de=this.settings.eztCallouts,he={displayName:"Data type",uid:"eztMapSettings_dataType_group_uid",slices:[{uid:"eztMapSettings_dataType_layerType_uid",displayName:"Primary layer",description:"Select from the dropdown whether you would like territories or points as the primary data source into the visual. Territories are only available with EasyTerritory Enterprise. Visit easyterritory.com or contact sales@easyterritory.com for more info.",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"layerType"},value:t}}}]},pe="territories"===t,me={displayName:"Instance details",uid:"eztMapSettings_instanceDetails_group_uid",slices:[{displayName:"EasyTerritory URL",uid:"eztMapSettings_instanceDetails_ezurl_uid",description:"Add your EasyTerritory URL.",control:{type:"TextInput",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"ezturl"},placeholder:"",value:r}}},{displayName:"EasyTerritory project ID",uid:"eztMapSettings_instanceDetails_projectId_uid",description:"For Territories add your project ID.",control:{type:"TextInput",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"eztProjectId"},placeholder:"",value:i}}}]},ye={displayName:"Map settings",uid:"eztMapSettings_mapConfiguration_group_uid",slices:[{uid:"eztMapSettings_mapConfiguration_mapStyle_uid",displayName:"Map Style",description:"Define the base map style that persists when map is reloaded.",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapStyle"},value:o}}},{uid:"eztMapSettings_mapConfiguration_mapDisplayLabels_uid",displayName:"Show map labels by default",description:"Turn on/off map labels.",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapDisplayLabels"},value:s}}},{uid:"eztMapSettings_mapConfiguration_mapDisplaySettingsBtn_uid",displayName:"Display map settings button",description:"Display or hide the map settings button in visual.",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapDisplaySettingsBtn"},value:l}}},{uid:"eztMapSettings_mapConfiguration_mapWrap_uid",displayName:"Render multiple world copies",description:"Toggle on to display multiple copies of the world when zoomed out completely.",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapWrap"},value:a}}},{uid:"eztMapSettings_mapConfiguration_displayLegend_uid",displayName:"Display legend",description:"Define if legend is displayed each time visual is reloaded.",disabled:!v,control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"displayLegend"},value:!!v&&c}}},{uid:"eztMapSettings_mapConfiguration_displayLegendBtn_uid",displayName:"Display legend button",description:"Define if legend button is displayed.",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"displayLegendBtn"},value:v}}},{uid:"eztMapSettings_mapConfiguration_displaySearchBar_uid",displayName:"Display search bar",description:"Define if search bar is displayed.",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"displaySearchBar"},value:M}}},{uid:"eztMapSettings_mapConfiguration_geospatialSearch_uid",displayName:"Geospatial search on layer",description:"Optionally turn 'On' to do geospatial searches from the input box on this visual. If this visual loaded territories on the map, the geospatial search will return a territory that your search address falls in. If this visual loaded points, the geospatial search will return the closest point from your searched address.",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"geospatialSearch"},value:u}}},{uid:"eztMapSettings_mapConfiguration_displayLegendHeader_uid",displayName:"Display legend header",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"displayLegendHeader"},value:b}}},{uid:"eztMapSettings_mapConfiguration_maxSelection_uid",displayName:"Max selection",description:"Max selection count on drawing tool or travel ring.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"maxSelection"},value:h}}},{uid:"eztMapSettings_clearFilterAfterSelection_uid",displayName:"Clear selection on click",description:"Clear the selection created by another visual in report when clicking on territory or point",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"clearFilterAfterSelection"},value:S}}}]},fe={displayName:"Map zoom",description:"Zoom and/or change the map camera to a selected feature on map when user clicks on a data point.",uid:"eztMapSettings_mapZoom_group_uid",topLevelToggle:{suppressDisplayName:!0,uid:"eztMapSettings_mapZoom_uid",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapZoom"},value:p}}},slices:[{uid:"eztMapSettings_mapZoom_mapZoomAnimationType_uid",displayName:"Zoom animation type",description:"Define the animation when map camera zooms. 'Fly' is a gradual change of the camera's settings following an arc resembling flight, 'Ease' is a gradual change of the camera's settings, 'Jump' is an immediate change",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapZoomAnimationType"},value:m}}},{uid:"eztMapSettings_mapZoom_mapZoomDuration_uid",displayName:"Zoom duration in milliseconds",description:"Define a number between 0 and 1000 to set for the transition time of map's camera.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapZoomDuration"},value:y,options:{maxValue:{type:1,value:1e3},minValue:{type:0,value:0}}}}},{uid:"eztMapSettings_mapZoom_mapZoomPadding_uid",displayName:"Zoom padding",description:"Define a number between 0 and 75 (in pixels) to set for the space around the feature on zoom.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapZoomPadding"},value:f,options:{maxValue:{type:1,value:75},minValue:{type:0,value:0}}}}},{uid:"eztMapSettings_mapZoom_mapZoomScale_uid",displayName:"Zoom scale of single point layer selection",description:"Define a number between 1 and 20 to set for the zoom scale for a single point selection on point layer. The lower the number the more the map is zoomed out",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"mapZoomScale"},value:g}}},{uid:"eztMapSettings_disableMapZoomAfterSelection_uid",displayName:"Disable zoom-out",description:"Disable zoom-out after clicking on a point or territory",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztMapSettings",propertyName:"disableMapZoomAfterSelection"},value:x}}}]};e.groups.push(he),e.groups.push(me),e.groups.push(ye),e.groups.push(fe);let ge={displayName:"EasyTerritory territories",description:"Settings for defining territory options.",uid:"eztTerritoriesOptions_uid",groups:[]},be={displayName:"Territory settings",uid:"eztTerritoriesOptions_group_uid",slices:[{uid:"eztTerritoriesOptions_territoryColors_uid",displayName:"Territory multicolors",description:ne?"Turn off 'Classification' under 'EasyTerritory color classification' to configure territory colors.":"Optionally turn 'On' to synchronize data point colors between this visual and other visuals in your report. You must also have the same field in 'Aggregated Field Column' in this visual as the 'Values' fields column in out-of-the-box Power BI Visuals.",disabled:ne,control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"territoryColors"},value:O}}},{uid:"eztTerritoriesOptions_territoryColor_uid",displayName:"Territory color",disabled:O||ne,description:ne?"Turn off 'Classification' under 'EasyTerritory color classification' to configure territory colors.":O?"Turn off 'Territory multicolors' to configure a color to assign all territories.":"Set the color of all territories.",control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"color"},value:{value:W}}}},{uid:"eztTerritoriesOptions_territoryOpacity_uid",displayName:"Territory opacity",description:"Define a number between 0 and 1 to set the opacity of territories displayed. The lower the number the more transparent the territory becomes.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"territoryOpacity"},value:j,options:{maxValue:{type:1,value:1},minValue:{type:0,value:0}}}}},{uid:"eztTerritoriesOptions_territoryDeselectOpacityEnable_uid",displayName:"Set territory deselect opacity",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"territoryDeselectOpacityEnable"},value:Y}}},{uid:"eztTerritoriesOptions_territoryDeselectOpacity_uid",displayName:"Territory deselect opacity",description:"Set a decimal number between 0 and 1 to define the deselect opacity of the territory layer. The lower the number the more transparent the point becomes.",disabled:!Y,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"territoryDeselectOpacity"},value:F,options:{maxValue:{type:1,value:1},minValue:{type:0,value:0}}}}},{uid:"eztTerritoriesOptions_territoryBorderWidth_uid",displayName:"Territory border width",description:"Define a number between 0 and 4 to set the size of the territory border.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"territoryBorderWidth"},value:V,options:{maxValue:{type:1,value:4},minValue:{type:0,value:0}}}}},{uid:"eztTerritoriesOptions_territoryBorderColor_uid",displayName:"Territory border color",description:"Define the color of the territory border if 'Territory multicolor' is turned off.",control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"territoryBorderColor"},value:{value:H}}}},{uid:"eztTerritoriesOptions_centerPointEnable_uid",displayName:"Enable center point",description:this.columnMetadata.pointSizeColName?"Turn on to create a classification based on 'Point size' column in fields panel":"Add a field from your data set to the 'Point size' input field in the format panel.",disabled:!this.columnMetadata.pointSizeColName,control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"centerPointEnable"},value:!!this.columnMetadata.pointSizeColName&&q}}},{uid:"eztTerritoriesOptions_centerPointSize_uid",displayName:"Center point size",description:"",disabled:!this.columnMetadata.pointSizeColName||!q,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"centerPointSize"},value:te,options:{maxValue:{type:1,value:20},minValue:{type:0,value:0}}}}},{uid:"eztTerritoriesOptions_centerPointColor_uid",displayName:"Center point color",description:"",disabled:!this.columnMetadata.pointSizeColName||!q,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"centerPointColor"},value:{value:$}}}},{uid:"eztTerritoriesOptions_centerPointOpacity_uid",displayName:"Center point opacity",description:"",disabled:!this.columnMetadata.pointSizeColName||!q,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"centerPointOpacity"},value:ee,options:{maxValue:{type:1,value:1},minValue:{type:0,value:0}}}}}]},ve="noLabels"!==U,Me={displayName:"Territory labels",uid:"eztTerritoriesOptions_group2_uid",slices:[{uid:"eztTerritoriesOptions_territoryLabels_uid",displayName:"Territory labels",description:"Select from the dropdown to define dynamic or fixed labels on top of your territories. Dynamic labels change position based on zoom level. Fixed labels are static and are positioned based on label positions from your EasyTerritory project. For fixed labels you must have visible labels enabled, saved (with plugin executed) in your EasyTerritory project.",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"territoryLabels"},value:U}}},{uid:"eztTerritoriesOptions_territoryLabelsColor_uid",displayName:"Territory label colors",description:ve?"Define the color of the territory labels displayed on map.":"Select 'dynamic' or 'fixed' in the 'Territory labels' setting to define the color of the territory labels dispalyed on  map.",disabled:!ve,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"fill"},value:{value:B}}}},{uid:"eztTerritoriesOptions_territoryLabelSize_uid",displayName:"Territory label size",description:ve?"Define the size of the territory labels displayed on map.":"Select 'dynamic' or 'fixed' in the 'Territory labels' setting to define the size of the territory labels dispalyed on  map.",disabled:!ve,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"size"},value:K}}},{uid:"eztTerritoriesOptions_territoryLabelMaxZoom_uid",displayName:"Territory labels max zoom",description:ve?"Define a number between 0 and 24 to define the maximum zoom level the labels will be visible on map. 0 - map zoomed out completely, 24 - map zoomed in completely.":"Select 'dynamic' or 'fixed' in the 'Territory labels' setting to to define the maximum zoom level the labels will be visible on map.",disabled:!ve,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"maxZoom"},value:J,options:{maxValue:{type:1,value:24},minValue:{type:0,value:0}}}}},{uid:"eztTerritoriesOptions_territoryLabelMinZoom_uid",displayName:"Territory label min zoom",description:ve?"Define a number between 0 and 24 to define the minimum zoom level the labels will be visible on map. 0 - map is zoomed out completely, 24 - map zoomed in completely.":"Select 'dynamic' or 'fixed' in the 'Territory labels' setting to to define the minimum zoom level the labels will be visible on map.",disabled:!ve,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTerritoriesOptions",propertyName:"minZoom"},value:Q,options:{maxValue:{type:1,value:24},minValue:{type:0,value:0}}}}}]};ge.groups.push(be),ge.groups.push(Me);let xe={displayName:"EasyTerritory points",description:"Settings for defining point options.",uid:"eztPointOptions_uid",groups:[]},Se=this.columnMetadata.pointSizeColName?{uid:"eztPointOptions_sizeClassify_uid",displayName:"Point size",description:"Define a number between 1 and 50 to be set point radius.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"sizeClassify"},value:L,options:{maxValue:{type:1,value:50},minValue:{type:0,value:1}}}}}:{uid:"eztPointOptions_size_uid",displayName:"Point size",description:"Define a number between 1 and 50 to be set point radius.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"size"},value:k,options:{maxValue:{type:1,value:50},minValue:{type:0,value:1}}}}};pe&&(this.settings.eztPointOptions.pointSymbolType="bubble");let we="bubble"===this.settings.eztPointOptions.pointSymbolType,_e={displayName:"Point settings",uid:"eztPointOptions_group1_uid",slices:[{uid:"eztPointOptions_pointSymbolType_uid",displayName:"Symbol type",description:pe?"Configuring symbology is not supported when 'Primary Layer' is Territories":"Define the symbology of point layer you would like to be display on map.",disabled:pe,control:{type:"Dropdown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"pointSymbolType"},value:this.settings.eztPointOptions.pointSymbolType}}},{uid:"eztPointOptions_pointRenderMinZoom_uid",displayName:"Point Render Min Zoom",description:"Set the minimum zoom level to display points at. The default is 0.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"pointRenderMinZoom"},value:_}}},{uid:"eztPointOptions_fill_uid",displayName:"Point color",description:"Define the color you would like to be set for the circle symbol on the point layer.",disabled:this.settings.eztClassification.eztClassifyOn,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"fill"},value:{value:w}}}},{uid:"eztPointOptions_pointOpacity_uid",displayName:"Point opacity",description:"Set a decimal number between 0 and 1 to define the opacity of the point layer. The lower the number the more transparent the point becomes.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"pointOpacity"},value:T,options:{maxValue:{type:1,value:1},minValue:{type:0,value:0}}}}},{uid:"eztPointOptions_pointDeselectOpacityEnable_uid",displayName:"Set point deselect opacity",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"pointDeselectOpacityEnable"},value:I}}},{uid:"eztPointOptions_pointDeselectOpacity_uid",displayName:"Point deselect opacity",description:"Set a decimal number between 0 and 1 to define the deselect opacity of the point layer. The lower the number the more transparent the point becomes.",disabled:!I,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"pointDeselectOpacity"},value:C,options:{maxValue:{type:1,value:1},minValue:{type:0,value:0}}}}},Se,{uid:"eztPointOptions_pointBorderColor_uid",displayName:"Border color",description:"Set a border color for point layer",disabled:!we,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"pointBorderColor"},value:{value:we?N:"#000000"}}}},{uid:"eztPointOptions_pointBorderSize_uid",displayName:"Border width",description:"Set a border width for your point layer.",disabled:!we,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"pointBorderSize"},value:we?Z:2,options:{maxValue:{type:1,value:20},minValue:{type:0,value:0}}}}},{uid:"eztPointOptions_travelRingOnClick_uid",displayName:"Open callout on click",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"travelRingOnClick"},value:E}}},{uid:"expandCalloutByDefault_uid",displayName:"Expand callout by default",disabled:!E,control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"expandCalloutByDefault"},value:z}}}]},Te={displayName:"Point clustering",uid:"eztPointOptions_group2_uid",description:pe?"Point clustering is only supported when 'Primary layer' is 'Points'.":"Cluster your points on the map.",topLevelToggle:{disabled:!!pe,suppressDisplayName:!0,uid:"eztPointOptions_clusterPoints_uid",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"clusterPoints"},value:!pe&&G}}},slices:[{uid:"eztPointOptions_clusterPieChart_uid",displayName:"Clustered pie chart",description:"Display cluster points as a pie chart",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"clusterPieChart"},value:P}}},{uid:"eztPointOptions_isClusterPieChartGrouping_uid",displayName:"Group pie chart slices",description:this.columnMetadata.aggregatedColName?"Group pie chart slices by color classification column.":"Set 'Color Classification Column' to enable this setting.",disabled:!this.columnMetadata.aggregatedColName||!P,control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"isClusterPieChartGrouping"},value:!!this.columnMetadata.aggregatedColName&&D}}},{uid:"eztPointOptions_clusterRadius_uid",displayName:"Cluster radius",description:"",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"clusterRadius"},value:A}}},{uid:"eztPointOptions_clusterMaxZoom_uid",displayName:"Cluster max zoom",description:"",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"clusterLatLon"},value:R}}},{uid:"eztPointOptions_clusterLatLon_uid",displayName:"Cluster Lat and Lon",description:"Cluster points based on records with same latitude and longitude values.",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztPointOptions",propertyName:"clusterLatLon"},value:X}}}]};xe.groups.push(_e),xe.groups.push(Te);let Ie=this.columnMetadata.aggregatedColName,Ce={displayName:"EasyTerritory color classification",uid:"eztClassification_uid",groups:[]},ke={uid:"eztClassification_eztClassifyType_uid",displayName:"State",disabled:!1,description:"Set to 'static' for classification classes to persist regardless of filters or slicers on report. Set to 'dynamic' to modify the classification classes based on the filtering or slicing the source data.",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztClassification",propertyName:"eztClassifyType"},value:oe}}},Le=this.classifyMode==n.range?[ke,{uid:"eztClassification_eztClassify_uid",displayName:"Number of classes",description:"Select how many number of classes or groups you would like to divide the 'Aggregated Field Column' values into. Cannot exceed the number of class breaks available in your data",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztClassification",propertyName:"eztClassify"},value:ae}}},{uid:"eztClassification_eztColorGrad_uid",displayName:"Color",disabled:"custom"==re.eztClassifyBreakType,description:"Select what color you would like the color gradient to be.",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztClassification",propertyName:"eztColorGrad"},value:se}}},{uid:"eztClassification_eztClassifyBreakType_uid",displayName:"Break type",description:"Set to 'equal-interval' for value ranges in each classification to be equal in size. Set to 'quantile' for equal number of points or territoires in each classification.",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztClassification",propertyName:"eztClassifyBreakType"},value:ie}}}]:[ke,{uid:"eztClassification_eztColorGradExact_uid",displayName:"Color",description:"Select what color you would like the color gradient to be.",control:{type:"Dropdown",properties:{descriptor:{objectName:"eztClassification",propertyName:"eztColorGradExact"},value:le}}}];if("exact"===re.eztClassifyMode&&"custom"===re.eztColorGradExact)for(let e=0;e<this.classifications.length;e++){const t=this.classifications[e],r=t.customColorName,n=t.customSymbolName,i=t.customOpacityName;let o=t.exact;if(null!==o&&o&&0!==o.length||(o="[Blank]"),"Other"!==t.exact){let e;this.settings.eztMapSettings.layerType==d.RG.points&&"bubble"!==this.settings.eztPointOptions.pointSymbolType&&(e={uid:`eztClassification_${n}_uid`,displayName:o,control:{type:"Dropdown",properties:{descriptor:{objectName:"eztClassification",propertyName:n},value:re[n]}}});let t={uid:`eztClassification_${r}_uid`,suppressDisplayName:!0,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztClassification",propertyName:r},value:{value:re[r]}}}},a={uid:`eztClassification_${i}_uid`,suppressDisplayName:!0,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztClassification",propertyName:i},value:re[i],options:{maxValue:{value:1,type:1},minValue:{value:0,type:0}}}}};e?Le.push(e,t,a):(t.suppressDisplayName=!1,t.displayName=o,this.settings.eztMapSettings.layerType==d.RG.points?Le.push(t,a):Le.push(t))}else{let e;this.settings.eztMapSettings.layerType==d.RG.points&&"bubble"!==this.settings.eztPointOptions.pointSymbolType&&(e={uid:"eztClassification_symbol_other_uid",displayName:o,control:{type:"Dropdown",properties:{descriptor:{objectName:"eztClassification",propertyName:"customSymbolOther"},value:re.customSymbolOther}}});let t={uid:"eztClassification_color_ other_uid",suppressDisplayName:!0,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztClassification",propertyName:"customColorOther"},value:{value:re.customColorOther}}}};const r={uid:"eztClassification_customOpacityOther_uid",suppressDisplayName:!0,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztClassification",propertyName:"customOpacityOther"},value:re.customOpacityOther,options:{maxValue:{value:1,type:1},minValue:{value:0,type:0}}}}};e?Le.push(e,t,r):(t.suppressDisplayName=!1,t.displayName="Other",this.settings.eztMapSettings.layerType==d.RG.points?Le.push(t,r):Le.push(t))}}else if("range"===re.eztClassifyMode&&"custom"==re.eztClassifyBreakType)for(let e=0;e<this.classifications.length;e++){const t=this.classifications[e],r=e+1,n=`customRange${r}a`,i=`customRange${r}b`,o=`customColor${r}`;let a={uid:`eztClassification_${n}_uid`,displayName:`Custom Range ${r}`,description:"Set a minimum number value in first input box and a maximum number in second input box. Leave second input box blank if you would not like to set a max.",control:{type:"TextInput",properties:{descriptor:{objectName:"eztClassification",propertyName:n},placeholder:"",value:re[n]}}},s={uid:`eztClassification_${i}_uid`,suppressDisplayName:!0,control:{type:"TextInput",properties:{descriptor:{objectName:"eztClassification",propertyName:i},placeholder:"",value:re[i]}}},l={uid:`eztClassification_${o}_uid`,suppressDisplayName:!0,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztClassification",propertyName:o},value:{value:t.gradient}}}};Le.push(a,s,l)}"range"===re.eztClassifyMode&&Le.push({uid:"eztClassification_applyLegendDataLabels_uid",displayName:"Data label values",description:"range"===re.eztClassifyMode?"Turn on data label abbreviations for legend classification values":"To enable, add a numeric column to 'Color classification column' in fields panel",disabled:"range"!==re.eztClassifyMode,control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztClassification",propertyName:"applyLegendDataLabels"},value:ce}}},{uid:"eztClassification_legendDataLabelsPrecision_uid",displayName:"Data label value precision",description:"range"===re.eztClassifyMode?"Set the precision of the data label abbreviations for legend classification values":"To enable, add a numeric column to 'Color classification column' in fields panel",disabled:"range"!==re.eztClassifyMode,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztClassification",propertyName:"legendDataLabelsPrecision"},value:ue}}});let Ne={displayName:"Classification",uid:"eztClassification_group1_uid",description:null!=Ie?"Settings for defining classification options.":"Set 'Color classification column' to define classificaiton options.",topLevelToggle:{disabled:!Ie,suppressDisplayName:!0,uid:"eztClassification_eztClassifyOn_uid",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztClassification",propertyName:"eztClassifyOn"},value:!!Ie&&ne}}},slices:Le};Ce.groups.push(Ne);let{groupLevel6:Ze,groupLevel5:Ee,groupLevel4:ze,groupLevel3:Ge,groupLevel2:Pe,groupLevel1:Ae,groupLevel:Re,territoryLevel:De,partLevel:Xe}=this.settings.eztDrillDown,Oe={displayName:"Territory table configuration",description:"",uid:"eztDrillDown_uid",groups:[]},We={displayName:"Territory table configuration",uid:"eztDrillDown_group_uid",slices:[{uid:"eztDrillDown_groupLevel6_uid",displayName:"Group level 6 column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"groupLevel6"},placeholder:"",value:Ze}}},{uid:"eztDrillDown_groupLevel5_uid",displayName:"Group level 5 column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"groupLevel5"},placeholder:"",value:Ee}}},{uid:"eztDrillDown_groupLevel4_uid",displayName:"Group level 4 column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"groupLevel4"},placeholder:"",value:ze}}},{uid:"eztDrillDown_groupLevel3_uid",displayName:"Group level 3 column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"groupLevel3"},placeholder:"",value:Ge}}},{uid:"eztDrillDown_groupLevel2_uid",displayName:"Group level 2 column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"groupLevel2"},placeholder:"",value:Pe}}},{uid:"eztDrillDown_groupLevel1_uid",displayName:"Group level 1 column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"groupLevel1"},placeholder:"",value:Ae}}},{uid:"eztDrillDown_groupLevel_uid",displayName:"Group level column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"groupLevel"},placeholder:"",value:Re}}},{uid:"eztDrillDown_territoryLevel_uid",displayName:"Territory level column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"territoryLevel"},placeholder:"",value:De}}},{uid:"eztMapSettings_partLevel_uid",displayName:"Part level column name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztDrillDown",propertyName:"partLevel"},placeholder:"",value:Xe}}}]};Oe.groups.push(We);let{opacity:je,WeatherRadar:Ye,WeatherInfrared:Fe,WmsLayerName:Ve,WmsLayerUrl:He,WmsLayerSize:Ue}=this.settings.eztTileLayers,Be={displayName:"EasyTerritory tile layers",description:"",uid:"eztTileLayers_uid",groups:[]},Ke={displayName:"Weather",uid:"eztTileLayers_group1_uid",slices:[{uid:"eztDrillDown_weatherOpacity_uid",displayName:"Weather opacity",description:"Set a decimal number between 0 and 1 to define the layer's opacity. The lower the number the more transparent the layer becomes.",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"opacity"},value:je,options:{maxValue:{type:1,value:1},minValue:{type:0,value:0}}}}},{uid:"eztDrillDown_weatherRadar_uid",displayName:"Weather radar",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"WeatherRadar"},value:Ye}}},{uid:"eztDrillDown_weatherInfrared_uid",displayName:"Weather infrared",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"WeatherInfrared"},value:Fe}}}]},Je={displayName:"WMS",uid:"eztTileLayers_group3_uid",slices:[{uid:"eztTileLayers_WmsLayerName_uid",displayName:"WMS tile layer name",control:{type:"TextInput",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"WmsLayerName"},placeholder:"",value:Ve}}},{uid:"eztTileLayers_WmsLayerUrl_uid",displayName:"WMS tile layer url",control:{type:"TextInput",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"WmsLayerUrl"},placeholder:"",value:He}}},{uid:"eztTileLayers_WmsLayerSize_uid",displayName:"WMS tile layer size",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"WmsLayerSize"},value:Ue}}}]},{UsZipCodes:Qe,UsZipCodesV2:qe,UsCounties:$e,CanadianFSAV3:et,CanadianFSAV2:tt,CanadianFSA:rt,UkPostalCodeAreas:nt,UkPostalCodeDistricts:it,UkPostalCodeSectors:ot,GermanPostalCode:at,FrancePostalCodes:st,SwitzerlandPostalCodes:lt,MexicoPostalCodes:ct,GlobalStateBoundaries:ut,GlobalCountryBoundaries:dt,AustraliaPostalCodes:ht,BelgiumPostalCodes:pt,BrazilPostalCodes:mt,NorwayPostalCodes:yt,NetherlandsPostalCodes:ft}=this.settings.eztTileLayers,gt={displayName:"Geographic boundaries",uid:"eztTileLayers_group2_uid",slices:[{uid:"eztTileLayers_UsZipCodesV2_uid",displayName:"US ZIP Codes v2",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"UsZipCodesV2"},value:qe}}},{uid:"eztTileLayers_UsZipCodes_uid",displayName:"US ZIP Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"UsZipCodes"},value:Qe}}},{uid:"eztTileLayers_UsCounties_uid",displayName:"US Counties",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"UsCounties"},value:$e}}},{uid:"eztTileLayers_CanadianFSAV3_uid",displayName:"Canada FSAs v3",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"CanadianFSAV3"},value:et}}},{uid:"eztTileLayers_CanadianFSAV2_uid",displayName:"Canada FSA v2",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"CanadianFSAV2"},value:tt}}},{uid:"eztTileLayers_CanadianFSA_uid",displayName:"Canada FSA",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"CanadianFSA"},value:rt}}},{uid:"eztTileLayers_UkPostalCodeAreas_uid",displayName:"UK Postal Code Areas",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"UkPostalCodeAreas"},value:nt}}},{uid:"eztTileLayers_UkPostalCodeDistricts_uid",displayName:"UK Postal Code Districts",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"UkPostalCodeDistricts"},value:it}}},{uid:"eztTileLayers_UkPostalCodeSectors_uid",displayName:"UK Postal Code Sectors",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"UkPostalCodeSectors"},value:ot}}},{uid:"eztTileLayers_AustraliaPostalCodes_uid",displayName:"Australia Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"AustraliaPostalCodes"},value:ht}}},{uid:"eztTileLayers_BelgiumPostalCodes_uid",displayName:"Belgium Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"BelgiumPostalCodes"},value:pt}}},{uid:"eztTileLayers_BrazilPostalCode_uid",displayName:"Brazil Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"BrazilPostalCodes"},value:mt}}},{uid:"eztTileLayers_FrancePostalCodes_uid",displayName:"France Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"FrancePostalCodes"},value:st}}},{uid:"eztTileLayers_GermanPostalCode_uid",displayName:"German Postal Code",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"GermanPostalCode"},value:at}}},{uid:"eztTileLayers_MexicoPostalCodes_uid",displayName:"Mexico Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"MexicoPostalCodes"},value:ct}}},{uid:"eztTileLayers_NetherlandsPostalCodes_uid",displayName:"Netherlands Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"NetherlandsPostalCodes"},value:ft}}},{uid:"eztTileLayers_NorwayPostalCodes_uid",displayName:"Norway Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"NorwayPostalCodes"},value:yt}}},{uid:"eztTileLayers_SwitzerlandPostalCodes_uid",displayName:"Switzerland Postal Codes",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"SwitzerlandPostalCodes"},value:lt}}},{uid:"eztTileLayers_GlobalStateBoundaries_uid",displayName:"Global State Boundaries",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"GlobalStateBoundaries"},value:ut}}},{uid:"eztTileLayers_GlobalCountryBoundaries_uid",displayName:"Global Country Boundaries",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztTileLayers",propertyName:"GlobalCountryBoundaries"},value:dt}}}]};Be.groups.push(Ke,gt,Je);let bt={displayName:"EasyTerritory reference layers",uid:"eztRefLayers_uid",groups:[]};const vt=this.settings.eztRefLayers;let Mt={displayName:"Reference layers",uid:"eztRefLayers_group1_uid",slices:[{uid:"eztRefLayers_RefGuid_uid",displayName:"Reference layers project GUID",control:{type:"TextInput",properties:{descriptor:{objectName:"eztRefLayers",propertyName:"RefGuid"},value:vt.RefGuid,placeholder:""}}},{uid:"eztRefLayers_refTerrSimplication_uid",displayName:"Territory layers simplification",description:"Set vertice simplification (in meters) for territory layers",control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztRefLayers",propertyName:"refTerrSimplication"},value:vt.refTerrSimplication}}}]},xt={displayName:"Reference labels",uid:"eztRefLayers_group2_uid",topLevelToggle:{suppressDisplayName:!0,uid:"eztRefLayers_labelsOn_uid",control:{type:"ToggleSwitch",properties:{descriptor:{objectName:"eztRefLayers",propertyName:"labelsOn"},value:vt.labelsOn}}},slices:[{uid:"eztRefLayers_territoryLabelsColor_uid",displayName:"Territory label colors",description:"Select 'dynamic' or 'fixed' in the 'Territory labels' setting to define the color of the territory labels dispalyed on  map.",disabled:!1,control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztRefLayers",propertyName:"fill"},value:{value:vt.fill}}}},{uid:"eztRefLayers_territoryLabelSize_uid",displayName:"Territory label size",description:"Select 'dynamic' or 'fixed' in the 'Territory labels' setting to define the size of the territory labels dispalyed on  map.",disabled:!1,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztRefLayers",propertyName:"size"},value:vt.size}}},{uid:"eztRefLayers_maxZoom_uid",displayName:"Territory label max zoom",disabled:!1,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztRefLayers",propertyName:"maxZoom"},value:vt.maxZoom}}},{uid:"eztRefLayers_minZoom_uid",displayName:"Territory label min zoom",disabled:!1,control:{type:"NumUpDown",properties:{descriptor:{objectName:"eztRefLayers",propertyName:"minZoom"},value:vt.minZoom}}}]};bt.groups.push(Mt,xt);let St={displayName:"EasyTerritory hyperlinks",uid:"eztHyperlinks_uid",groups:[]},{hyperlinkTargetCol1:wt,hyperlinkLabelCol1:_t,hyperlinkTargetCol2:Tt,hyperlinkLabelCol2:It}=this.settings.eztHyperlinks,Ct={displayName:"Hyperlinks 1",uid:"eztHyperlinks_group1_uid",slices:[{uid:"eztHyperlinks_hyperlinkTargetCol1_uid",displayName:"Hyperlink target column",control:{type:"TextInput",properties:{descriptor:{objectName:"eztHyperlinks",propertyName:"hyperlinkTargetCol1"},value:wt,placeholder:""}}},{uid:"eztHyperlinks_hyperlinkLabelCol1_uid",displayName:"Hyperlink label",control:{type:"TextInput",properties:{descriptor:{objectName:"eztHyperlinks",propertyName:"hyperlinkLabelCol1"},value:_t,placeholder:""}}}]},kt={displayName:"Hyperlinks 2",uid:"eztHyperlinks_group2_uid",slices:[{uid:"eztHyperlinks_hyperlinkTargetCol2_uid",displayName:"Hyperlink target column",control:{type:"TextInput",properties:{descriptor:{objectName:"eztHyperlinks",propertyName:"hyperlinkTargetCol2"},value:Tt,placeholder:""}}},{uid:"eztHyperlinks_hyperlinkLabelCol2_uid",displayName:"Hyperlink label",control:{type:"TextInput",properties:{descriptor:{objectName:"eztHyperlinks",propertyName:"hyperlinkLabelCol2"},value:It,placeholder:""}}}]};St.groups.push(Ct,kt);let Lt={displayName:"EasyTerritory pin callouts",uid:"eztCallouts_uid",groups:[],revertToDefaultDescriptors:[{objectName:"eztCallouts",propertyName:"fontFamily"},{objectName:"eztCallouts",propertyName:"fontSize"},{objectName:"eztCallouts",propertyName:"fontBold"},{objectName:"eztCallouts",propertyName:"fontItalic"},{objectName:"eztCallouts",propertyName:"fontUnderline"},{objectName:"eztCallouts",propertyName:"labelColor"},{objectName:"eztCallouts",propertyName:"valueColor"},{objectName:"eztCallouts",propertyName:"background"},{objectName:"eztCallouts",propertyName:"opacity"}]},Nt={displayName:"Text",uid:"eztCallouts_fontControl_group_uid",slices:[{uid:"eztCallouts_font_control_slice_uid",displayName:"Font",control:{type:"FontControl",properties:{fontFamily:{descriptor:{objectName:"eztCallouts",propertyName:"fontFamily"},value:de.fontFamily},fontSize:{descriptor:{objectName:"eztCallouts",propertyName:"fontSize"},value:de.fontSize},bold:{descriptor:{objectName:"eztCallouts",propertyName:"bold"},value:de.bold},italic:{descriptor:{objectName:"eztCallouts",propertyName:"italic"},value:de.italic},underline:{descriptor:{objectName:"eztCallouts",propertyName:"underline"},value:de.underline}}}},{uid:"eztCallouts_labelColor_uid",displayName:"Label Color",control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztCallouts",propertyName:"labelColor"},value:{value:de.labelColor}}}},{uid:"eztCallouts_valueColor_uid",displayName:"Value Color",control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztCallouts",propertyName:"valueColor"},value:{value:de.valueColor}}}}]},Zt={displayName:"Background",uid:"eztCallouts_background_group_uid",slices:[{uid:"eztCallouts_background_uid",displayName:"Background",control:{type:"ColorPicker",properties:{descriptor:{objectName:"eztCallouts",propertyName:"background"},value:{value:de.background}}}},{uid:"eztCallouts_transparency_uid",control:{type:"Slider",properties:{descriptor:{objectName:"eztCallouts",propertyName:"transparency"},value:de.transparency}}}]};return Lt.groups.push(Nt,Zt),{cards:[e,ge,xe,Ce,Oe,Be,bt,St,Lt]}}}},35137:(e,t,r)=>{"use strict";function n(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}r.d(t,{A:()=>n})},59482:(e,t,r)=>{"use strict";r.d(t,{$xS:()=>i,xyI:()=>n});const n="Enter",i=" "},77450:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var n=r(59482),i=r(74215);function o(e,t){const{disabled:r,disabledFocusable:o=!1,"aria-disabled":a,onClick:s,onKeyDown:l,onKeyUp:c,...u}=null!=t?t:{},d="string"==typeof a?"true"===a:a,h=r||o||d,p=(0,i.D)((e=>{h?(e.preventDefault(),e.stopPropagation()):null==s||s(e)})),m=(0,i.D)((e=>{if(null==l||l(e),e.isDefaultPrevented())return;const t=e.key;if(h&&(t===n.xyI||t===n.$xS))return e.preventDefault(),void e.stopPropagation();t!==n.$xS?t===n.xyI&&(e.preventDefault(),e.currentTarget.click()):e.preventDefault()})),y=(0,i.D)((e=>{if(null==c||c(e),e.isDefaultPrevented())return;const t=e.key;if(h&&(t===n.xyI||t===n.$xS))return e.preventDefault(),void e.stopPropagation();t===n.$xS&&(e.preventDefault(),e.currentTarget.click())}));if("button"===e||void 0===e)return{...u,disabled:r&&!o,"aria-disabled":!!o||d,onClick:o?void 0:p,onKeyUp:o?void 0:c,onKeyDown:o?void 0:l};{const t=!!u.href;let n=t?void 0:"button";!n&&h&&(n="link");const i={role:n,tabIndex:o||!t&&!r?0:void 0,...u,onClick:p,onKeyUp:y,onKeyDown:m,"aria-disabled":h};return"a"===e&&h&&(i.href=void 0),i}}r(96540)},53038:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var n=r(96540),i=r(94246),o=r(82227),a=r(99805),s=r(68909);const l=n.forwardRef(((e,t)=>{const r=(0,o.P)(e,t);return(0,a.B)(r),(0,s.$e)("useButtonStyles_unstable")(r),(0,i.e)(r)}));l.displayName="Button"},94246:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var n=r(40098),i=r(82222);const o=e=>{(0,i.C)(e);const{iconOnly:t,iconPosition:r}=e;return(0,n.FD)(e.root,{children:["after"!==r&&e.icon&&(0,n.Y)(e.icon,{}),!t&&e.root.children,"after"===r&&e.icon&&(0,n.Y)(e.icon,{})]})}},82227:(e,t,r)=>{"use strict";r.d(t,{P:()=>s}),r(96540);var n=r(77450),i=r(56257),o=r(62416),a=r(82488);const s=(e,t)=>{const{size:r}=(0,a.j)(),{appearance:s="secondary",as:l="button",disabled:c=!1,disabledFocusable:u=!1,icon:d,iconPosition:h="before",shape:p="rounded",size:m=(null!=r?r:"medium")}=e,y=i.lq(d,{elementType:"span"});return{appearance:s,disabled:c,disabledFocusable:u,iconPosition:h,shape:p,size:m,iconOnly:Boolean((null==y?void 0:y.children)&&!e.children),components:{root:"button",icon:"span"},root:i.Gk((0,o.g)(l,(0,n.F)(e.as,e)),{elementType:"button",defaultProps:{ref:t,type:"button"===l?"button":void 0}}),icon:y}}},99805:(e,t,r)=>{"use strict";r.d(t,{B:()=>p});var n=r(31338),i=r(99159),o=r(20677);const a=(0,n.y)("r1alrhcs",null,{r:[".r1alrhcs{align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;text-decoration-line:none;vertical-align:middle;margin:0;overflow:hidden;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);font-family:var(--fontFamilyBase);outline-style:none;padding:5px var(--spacingHorizontalM);min-width:96px;border-radius:var(--borderRadiusMedium);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);transition-duration:var(--durationFaster);transition-property:background,border,color;transition-timing-function:var(--curveEasyEase);}",".r1alrhcs:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover);color:var(--colorNeutralForeground1Hover);cursor:pointer;}",".r1alrhcs:hover:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed);color:var(--colorNeutralForeground1Pressed);outline-style:none;}",".r1alrhcs[data-fui-focus-visible]{border-color:var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);border-width:1px;outline:var(--strokeWidthThick) solid var(--colorTransparentStroke);box-shadow:0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;z-index:1;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1alrhcs{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1alrhcs:focus{border-color:ButtonText;}.r1alrhcs:hover{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}.r1alrhcs:hover:active{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}}","@supports (-moz-appearance:button){.r1alrhcs[data-fui-focus-visible]{box-shadow:0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),s=(0,n.y)("rywnvv2",null,[".rywnvv2{align-items:center;display:inline-flex;justify-content:center;font-size:20px;height:20px;width:20px;--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}"]),l=(0,i.X)({outline:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",iro3zm:"fwiml72"},primary:{De3pzq:"ffp7eso",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"f1phragk",Jwef8y:"f15wkkf3",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f1rq72xc",iro3zm:"fnp9lpt",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1d6v5y2",Bsw6fvg:"f1rirnrt",Bjwas2f:"f1uu00uk",Bn1d65q:["fkvaka8","f9a0qzu"],Bxeuatn:"f1ux7til",n51gp8:["f9a0qzu","fkvaka8"],Bbusuzp:"f1lkg8j3",ycbfsm:"fkc42ay",Bqrx1nm:"fq7113v",pgvf35:"ff1wgvm",Bh7lczh:["fiob0tu","f1x4h75k"],dpv3f4:"f1j6scgf",Bpnjhaq:["f1x4h75k","fiob0tu"],ze5xyy:"f4xjyn1",g2kj27:"fbgcvur",Bf756sw:"f1ks1yx8",Bow2dr7:["f1o6qegi","fmxjhhp"],Bvhedfk:"fcnxywj",Gye4lf:["fmxjhhp","f1o6qegi"],pc6evw:"f9ddjv3"},secondary:{},subtle:{De3pzq:"fhovq9v",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"f1t94bn6",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"fnwyq0v",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bbdnnc7:"fy5bs14",iro3zm:"fsv2rcd",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1omzyqd",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",x3br3k:"fj8yq94",ze5xyy:"f4xjyn1",Bx3q9su:"f1et0tmh",pc6evw:"f9ddjv3",xd2cci:"f1wi8ngl"},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"fjxutwb",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f139oj5f",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",iro3zm:"fwiml72",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1fg1p5m",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",Bqrx1nm:"f1tme0vf",ze5xyy:"f4xjyn1",g2kj27:"f18onu3q",pc6evw:"f9ddjv3"},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"},rounded:{},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},small:{Bf4jedk:"fh7ncta",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fneth5b",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},smallWithIcon:{Byoj8tv:"f1brlhvm",z8tnut:"f1sl3k7w"},medium:{},large:{Bf4jedk:"f14es27b",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f4db1ww",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},largeWithIcon:{Byoj8tv:"fy7v416",z8tnut:"f1a1bwwz"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".fh7ncta{min-width:64px;}",[".fneth5b{padding:3px var(--spacingHorizontalS);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1brlhvm{padding-bottom:1px;}",".f1sl3k7w{padding-top:1px;}",".f14es27b{min-width:96px;}",[".f4db1ww{padding:8px var(--spacingHorizontalL);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fy7v416{padding-bottom:7px;}",".f1a1bwwz{padding-top:7px;}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".fwiml72:hover:active{background-color:var(--colorTransparentBackgroundPressed);}",".f15wkkf3:hover{background-color:var(--colorBrandBackgroundHover);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1rq72xc:hover{color:var(--colorNeutralForegroundOnBrand);}",".fnp9lpt:hover:active{background-color:var(--colorBrandBackgroundPressed);}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}",".f1d6v5y2:hover:active{color:var(--colorNeutralForegroundOnBrand);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".ft1hn21:hover .fui-Icon-filled{display:inline;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fy5bs14:hover .fui-Button__icon{color:var(--colorNeutralForeground2BrandHover);}",".fsv2rcd:hover:active{background-color:var(--colorSubtleBackgroundPressed);}",".f1omzyqd:hover:active{color:var(--colorNeutralForeground2Pressed);}",".f1dfjoow:hover:active .fui-Icon-filled{display:inline;}",".f1j98vj9:hover:active .fui-Icon-regular{display:none;}",".fj8yq94:hover:active .fui-Button__icon{color:var(--colorNeutralForeground2BrandPressed);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f1fg1p5m:hover:active{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1uu00uk{border-top-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9a0qzu{border-left-color:HighlightText;}.fkvaka8{border-right-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ux7til{border-bottom-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lkg8j3{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkc42ay{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fq7113v:hover{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff1wgvm:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1x4h75k:hover{border-left-color:Highlight;}.fiob0tu:hover{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1j6scgf:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4xjyn1:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbgcvur:hover:active{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ks1yx8:hover:active{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1o6qegi:hover:active{border-right-color:Highlight;}.fmxjhhp:hover:active{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcnxywj:hover:active{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9ddjv3:hover:active{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1et0tmh:hover .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wi8ngl:hover:active .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1tme0vf:hover{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18onu3q:hover:active{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}]]}),c=(0,i.X)({base:{De3pzq:"f1bg9a2p",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bfinmwp:"f15x8b5r",Jwef8y:"f1falr9n",Bgoe8wy:"f12mpcsy",Bwzppfd:["f1gwvigk","f18rmfxp"],oetu4i:"f1jnshp0",gg5e9n:["f18rmfxp","f1gwvigk"],Bi91k9c:"fvgxktp",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bbdnnc7:"f1al02dq",iro3zm:"f1t6o4dc",b661bw:"f10ztigi",Bk6r4ia:["f1ft5sdu","f1gzf82w"],B9zn80p:"f12zbtn2",Bpld233:["f1gzf82w","f1ft5sdu"],B2d53fq:"fcvwxyo",c3iz72:"f8w4c43",em6i61:"f1ol4fw6",vm6p8p:"f1q1lw4e",x3br3k:"f1dwjv2g"},highContrast:{Bsw6fvg:"f4lkoma",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bbusuzp:"f1dcs8yz",Bm2fdqk:"fuigjrg",G867l3:"fjwq6ea",gdbnj:["f1lr3nhc","f1mbxvi6"],mxns5l:"fn5gmvv",o3nasb:["f1mbxvi6","f1lr3nhc"],Bqrx1nm:"f1vmkb5g",pgvf35:"f53ppgq",Bh7lczh:["f1663y11","f80fkiy"],dpv3f4:"f18v5270",Bpnjhaq:["f80fkiy","f1663y11"],ze5xyy:"f1kc2mi9",Bx3q9su:"f4dhi0o",g2kj27:"f1y0svfh",Bf756sw:"fihuait",Bow2dr7:["fnxhupq","fyd6l6x"],Bvhedfk:"fx507ft",Gye4lf:["fyd6l6x","fnxhupq"],pc6evw:"fb3rf2x",xd2cci:"fequ9m0"},outline:{De3pzq:"f1c21dwh",Jwef8y:"f9ql6rf",iro3zm:"f3h1zc4"},primary:{g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},secondary:{},subtle:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]}},{d:[".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f15x8b5r .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}"],h:[".f1falr9n:hover{background-color:var(--colorNeutralBackgroundDisabled);}",".f12mpcsy:hover{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1gwvigk:hover{border-right-color:var(--colorNeutralStrokeDisabled);}",".f18rmfxp:hover{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1jnshp0:hover{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1al02dq:hover .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1t6o4dc:hover:active{background-color:var(--colorNeutralBackgroundDisabled);}",".f10ztigi:hover:active{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ft5sdu:hover:active{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1gzf82w:hover:active{border-left-color:var(--colorNeutralStrokeDisabled);}",".f12zbtn2:hover:active{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f8w4c43:hover:active{cursor:not-allowed;}",".f1ol4fw6:hover:active .fui-Icon-filled{display:none;}",".f1q1lw4e:hover:active .fui-Icon-regular{display:inline;}",".f1dwjv2g:hover:active .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".f3h1zc4:hover:active{background-color:var(--colorTransparentBackground);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}"],m:[["@media (forced-colors: active){.f4lkoma{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fuigjrg .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fjwq6ea:focus{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lr3nhc:focus{border-right-color:GrayText;}.f1mbxvi6:focus{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fn5gmvv:focus{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1vmkb5g:hover{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f53ppgq:hover{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1663y11:hover{border-right-color:GrayText;}.f80fkiy:hover{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18v5270:hover{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4dhi0o:hover .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1y0svfh:hover:active{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fihuait:hover:active{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnxhupq:hover:active{border-right-color:GrayText;}.fyd6l6x:hover:active{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fx507ft:hover:active{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fb3rf2x:hover:active{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fequ9m0:hover:active .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),u=(0,i.X)({circular:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1062rbf"},rounded:{},square:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fj0ryk1"},primary:{B8q5s1w:"f17t0x8g",Bci5o5g:["f194v5ow","fk7jm04"],n8qw10:"f1qgg65p",Bdrgwmp:["fk7jm04","f194v5ow"],j6ew2k:["fhgccpy","fjo7pq6"],he4mth:"f32wu9k",Byr4aka:"fu5nqqq",lks7q5:["f13prjl2","f1nl83rv"],Bnan3qt:"f1czftr5",k1dn9:["f1nl83rv","f13prjl2"],Boium3a:["f12k37oa","fdnykm2"],tm8e47:"fr96u23"},small:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fazmxh"},medium:{},large:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1b6alqh"}},{d:[[".f1062rbf[data-fui-focus-visible]{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".fj0ryk1[data-fui-focus-visible]{border-radius:var(--borderRadiusNone);}",{p:-1}],".f17t0x8g[data-fui-focus-visible]{border-top-color:var(--colorStrokeFocus2);}",".f194v5ow[data-fui-focus-visible]{border-right-color:var(--colorStrokeFocus2);}",".fk7jm04[data-fui-focus-visible]{border-left-color:var(--colorStrokeFocus2);}",".f1qgg65p[data-fui-focus-visible]{border-bottom-color:var(--colorStrokeFocus2);}",".fhgccpy[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".fjo7pq6[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".f32wu9k[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;}",".fu5nqqq[data-fui-focus-visible]:hover{border-top-color:var(--colorStrokeFocus2);}",".f13prjl2[data-fui-focus-visible]:hover{border-right-color:var(--colorStrokeFocus2);}",".f1nl83rv[data-fui-focus-visible]:hover{border-left-color:var(--colorStrokeFocus2);}",".f1czftr5[data-fui-focus-visible]:hover{border-bottom-color:var(--colorStrokeFocus2);}",[".fazmxh[data-fui-focus-visible]{border-radius:var(--borderRadiusSmall);}",{p:-1}],[".f1b6alqh[data-fui-focus-visible]{border-radius:var(--borderRadiusLarge);}",{p:-1}]],t:["@supports (-moz-appearance:button){.f12k37oa[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}.fdnykm2[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}}","@supports (-moz-appearance:button){.fr96u23[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),d=(0,i.X)({small:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fu97m5z",Bf4jedk:"f17fgpbq",B2u0y6b:"f1jt17bm"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f18ktai2",Bf4jedk:"fwbmr0d",B2u0y6b:"f44c6la"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1hbd1aw",Bf4jedk:"f12clzc2",B2u0y6b:"fjy1crr"}},{d:[[".fu97m5z{padding:1px;}",{p:-1}],".f17fgpbq{min-width:24px;}",".f1jt17bm{max-width:24px;}",[".f18ktai2{padding:5px;}",{p:-1}],".fwbmr0d{min-width:32px;}",".f44c6la{max-width:32px;}",[".f1hbd1aw{padding:7px;}",{p:-1}],".f12clzc2{min-width:40px;}",".fjy1crr{max-width:40px;}"]}),h=(0,i.X)({small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3",Bqrlyyl:"fbaiahx"},medium:{},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun",Bqrlyyl:"f1exjqw5"},before:{t21cq0:["f1nizpg2","f1a695kz"]},after:{Frg6f3:["f1a695kz","f1nizpg2"]}},{d:[".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".fbaiahx{--fui-Button__icon--spacing:var(--spacingHorizontalXS);}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".f1exjqw5{--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}",".f1nizpg2{margin-right:var(--fui-Button__icon--spacing);}",".f1a695kz{margin-left:var(--fui-Button__icon--spacing);}"]}),p=e=>{const t=a(),r=s(),n=l(),i=c(),p=u(),m=d(),y=h(),{appearance:f,disabled:g,disabledFocusable:b,icon:v,iconOnly:M,iconPosition:x,shape:S,size:w}=e;return e.root.className=(0,o.z)("fui-Button",t,f&&n[f],n[w],v&&"small"===w&&n.smallWithIcon,v&&"large"===w&&n.largeWithIcon,n[S],(g||b)&&i.base,(g||b)&&i.highContrast,f&&(g||b)&&i[f],"primary"===f&&p.primary,p[w],p[S],M&&m[w],e.root.className),e.icon&&(e.icon.className=(0,o.z)("fui-Button__icon",r,!!e.root.children&&y[x],y[w],e.icon.className)),e}},82488:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(96540);const i=n.createContext(void 0),o={},a=(i.Provider,()=>{var e;return null!==(e=n.useContext(i))&&void 0!==e?e:o})},19364:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var n=r(96540);const i=n.createContext(void 0),o=(i.Provider,()=>n.useContext(i))},14067:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});var n=r(19364);function i(e,t){return function(e,t,r){if(!e)return t;t={...t};const{generatedControlId:n,hintId:i,labelFor:o,labelId:a,required:s,validationMessageId:l,validationState:c}=e;var u,d,h,p,m,y,f,g,b,v,M,x,S;(n&&(null!==(d=(u=t).id)&&void 0!==d||(u.id=n)),!a||(null==r?void 0:r.supportsLabelFor)&&o===t.id||null!==(m=(h=t)[p="aria-labelledby"])&&void 0!==m||(h[p]=a),(l||i)&&(t["aria-describedby"]=[l,i,null==t?void 0:t["aria-describedby"]].filter(Boolean).join(" ")),"error"===c&&(null!==(f=(y=t)["aria-invalid"])&&void 0!==f||(y["aria-invalid"]=!0)),s)&&((null==r?void 0:r.supportsRequired)?null!==(M=(v=t).required)&&void 0!==M||(v.required=!0):null!==(S=(x=t)["aria-required"])&&void 0!==S||(x["aria-required"]=!0));return(null==r?void 0:r.supportsSize)&&(null!==(b=(g=t).size)&&void 0!==b||(g.size=e.size)),t}((0,n.o)(),e,t)}},93700:(e,t,r)=>{"use strict";r.d(t,{F:()=>a,U:()=>s});var n=r(96540);const i=n.createContext(void 0),o={},a=i.Provider,s=()=>n.useContext(i)?n.useContext(i):o},43894:(e,t,r)=>{"use strict";r.d(t,{LKJ:()=>o,yuG:()=>i});var n=r(11987);const i=(0,n.U)("ChevronDownRegular","1em",["M15.85 7.65c.2.2.2.5 0 .7l-5.46 5.49a.55.55 0 0 1-.78 0L4.15 8.35a.5.5 0 1 1 .7-.7L10 12.8l5.15-5.16c.2-.2.5-.2.7 0Z"]),o=(0,n.U)("ChevronUpRegular","1em",["M4.15 12.35a.5.5 0 0 1 0-.7L9.6 6.16a.55.55 0 0 1 .78 0l5.46 5.49a.5.5 0 0 1-.7.7L10 7.2l-5.15 5.16a.5.5 0 0 1-.7 0Z"])},30419:(e,t,r)=>{"use strict";r.d(t,{N5_:()=>n});const n=(0,r(11987).U)("Checkmark16Regular","16",["M13.86 3.66a.5.5 0 0 1-.02.7l-7.93 7.48a.6.6 0 0 1-.84-.02L2.4 9.1a.5.5 0 0 1 .72-.7l2.4 2.44 7.65-7.2a.5.5 0 0 1 .7.02Z"])},11987:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(96540),i=r(54407);const o=(e,t,r,o)=>{const a="1em"===t?"20":t,s=n.forwardRef(((e,s)=>{const l={...(0,i.Q)(e,{flipInRtl:null==o?void 0:o.flipInRtl}),ref:s,width:t,height:t,viewBox:`0 0 ${a} ${a}`,xmlns:"http://www.w3.org/2000/svg"};return n.createElement("svg",l,...r.map((e=>n.createElement("path",{d:e,fill:l.fill}))))}));return s.displayName=e,s}},54407:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(93700),i=r(99159),o=r(20677);const a=(0,i.X)({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in",ycbfsm:"fg4l7m0"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1);}"],t:["@media (forced-colors: active){.fg4l7m0{forced-color-adjust:auto;}}"]}),s=(e,t)=>{const{title:r,primaryFill:i="currentColor",...s}=e,l={...s,title:void 0,fill:i},c=a(),u=(0,n.U)();return l.className=(0,o.z)(c.root,(null==t?void 0:t.flipInRtl)&&"rtl"===(null==u?void 0:u.textDirection)&&c.rtl,l.className),r&&(l["aria-label"]=r),l["aria-label"]||l["aria-labelledby"]?l.role="img":l["aria-hidden"]=!0,l}},40098:(e,t,r)=>{"use strict";r.d(t,{FD:()=>l,Y:()=>s});var n=r(28545),i=r(11741),o=r(77592),a=r(45796);r(96540);const s=(0,n.q)(a.v.jsx,i.O),l=(0,n.q)(a.v.jsxs,o.J)},28545:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});var n=r(41429),i=(r(96540),r(60405)),o=r(55306);function a(e,t){return function(r,a,s,l,c){return(0,n.R)(a)?t((0,i.Q)(r,a),null,s,l,c):(0,n.R)(r)?t(r,a,s,l,c):((0,o.X)(r),e(r,a,s,l,c))}}},11741:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(96540),i=r(2950),o=r(45796);const a=(e,t,r)=>{const{elementType:a,renderFunction:s,props:l}=(0,i.$)(e),c={...l,...t};return s?o.v.jsx(n.Fragment,{children:s(a,c)},r):o.v.jsx(a,c,r)}},77592:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(96540),i=r(2950),o=r(45796);const a=(e,t,r)=>{const{elementType:a,renderFunction:s,props:l}=(0,i.$)(e),c={...l,...t};return s?o.v.jsx(n.Fragment,{children:s(a,{...c,children:o.v.jsxs(n.Fragment,{children:c.children},void 0)})},r):o.v.jsxs(a,c,r)}},45796:(e,t,r)=>{"use strict";var n;r.d(t,{v:()=>o});var i=r(74848);const o=n||(n=r.t(i,2))},60405:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i}),r(96540);var n=r(86800);function i(e,t){return{...t,[n.on]:e}}},2950:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(86800);function i(e){const{as:t,[n.b9]:r,[n.on]:i,[n.Y9]:o,...a}=e,s=a,l="string"==typeof i&&null!=t?t:i;return"string"!=typeof l&&t&&(s.as=t),{elementType:l,props:s,renderFunction:o}}},55306:(e,t,r)=>{"use strict";function n(e){}r.d(t,{X:()=>n}),r(96540),r(44363)},18498:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(96540),i=r(82825),o=r(53578),a=r(93003),s=r(68909);const l=n.forwardRef(((e,t)=>{const r=(0,i.J)(e,t);return(0,a.j)(r),(0,s.$e)("useLabelStyles_unstable")(r),(0,o.m)(r)}));l.displayName="Label"},53578:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(40098),i=r(82222);const o=e=>((0,i.C)(e),(0,n.FD)(e.root,{children:[e.root.children,e.required&&(0,n.Y)(e.required,{})]}))},82825:(e,t,r)=>{"use strict";r.d(t,{J:()=>o}),r(96540);var n=r(56257),i=r(62416);const o=(e,t)=>{const{disabled:r=!1,required:o=!1,weight:a="regular",size:s="medium"}=e;return{disabled:r,required:n.lq(!0===o?"*":o||void 0,{defaultProps:{"aria-hidden":"true"},elementType:"span"}),weight:a,size:s,components:{root:"label",required:"span"},root:n.Gk((0,i.g)("label",{ref:t,...e}),{elementType:"label"})}}},93003:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(99159),i=r(20677);const o=(0,n.X)({root:{Bahqtrf:"fk6fouc",sj55zd:"f19n0e5"},disabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},required:{sj55zd:"f1whyuy6",uwmqm3:["fruq291","f7x41pl"]},small:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},medium:{Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi"},large:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k",Bhrd7zp:"fl43uef"},semibold:{Bhrd7zp:"fl43uef"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1whyuy6{color:var(--colorPaletteRedForeground3);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),a=e=>{const t=o();return e.root.className=(0,i.z)("fui-Label",t.root,e.disabled&&t.disabled,t[e.size],"semibold"===e.weight&&t.semibold,e.root.className),e.required&&(e.required.className=(0,i.z)("fui-Label__required",t.required,e.disabled&&t.disabled,e.required.className)),e}},56727:(e,t,r)=>{"use strict";r.d(t,{q:()=>l});var n=r(96540),i=r(32275),o=r(14242),a=r(88002),s=r(96785);const l=n.forwardRef(((e,t)=>{const r=(0,o.I)(e,t);(0,a.K)(r);const n=(0,s.r)(r);return(0,i.t)(r,n)}));l.displayName="FluentProvider"},93070:(e,t,r)=>{"use strict";function n(e,t){return t?`${e} { ${Object.keys(t).reduce(((e,r)=>`${e}--${r}: ${t[r]}; `),"")} }`:`${e} {}`}r.d(t,{d:()=>n})},32275:(e,t,r)=>{"use strict";r.d(t,{t:()=>m});var n=r(40098),i=r(82222),o=r(40206),a=r(56004),s=r(97073),l=r(57991),c=r(29),u=r(68909),d=r(2999),h=r(78631),p=r(93700);const m=(e,t)=>((0,i.C)(e),(0,n.Y)(s.K,{value:t.provider,children:(0,n.Y)(l.N,{value:t.theme,children:(0,n.Y)(c.I,{value:t.themeClassName,children:(0,n.Y)(u.gH,{value:t.customStyleHooks_unstable,children:(0,n.Y)(d.J,{value:t.tooltip,children:(0,n.Y)(a.e,{dir:t.textDirection,children:(0,n.Y)(p.F,{value:t.iconDirection,children:(0,n.Y)(h.Nv,{value:t.overrides_unstable,children:(0,n.FD)(e.root,{children:[(0,o.S)()?null:(0,n.Y)("style",{dangerouslySetInnerHTML:{__html:e.serverStyleProps.cssRule},...e.serverStyleProps.attributes}),e.root.children]})})})})})})})})}))},14242:(e,t,r)=>{"use strict";r.d(t,{I:()=>f});var n=r(31531),i=r(4651),o=r(97073),a=r(78631),s=r(68909),l=r(57991),c=r(56257),u=r(62416),d=r(85532),h=r(96540),p=r(58458);const m={},y={},f=(e,t)=>{const r=(0,o.Y)(),f=h.useContext(l.D),b=(0,a.Pv)(),v=h.useContext(s.k7)||m,{applyStylesToPortals:M=!0,customStyleHooks_unstable:x,dir:S=r.dir,targetDocument:w=r.targetDocument,theme:_,overrides_unstable:T={}}=e,I=g(f,_),C=g(b,T),k=g(v,x),L=(0,n.J)();var N;const{styleTagId:Z,rule:E}=(0,p.V)({theme:I,targetDocument:w,rendererAttributes:null!==(N=L.styleElementAttributes)&&void 0!==N?N:y});return{applyStylesToPortals:M,customStyleHooks_unstable:k,dir:S,targetDocument:w,theme:I,overrides_unstable:C,themeClassName:Z,components:{root:"div"},root:c.Gk((0,u.g)("div",{...e,dir:S,ref:(0,d.a)(t,(0,i.Y)({targetDocument:w}))}),{elementType:"div"}),serverStyleProps:{cssRule:E,attributes:{...L.styleElementAttributes,id:Z}}}};function g(e,t){return e&&t?{...e,...t}:e||t}},96785:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(96540);function i(e){const{applyStylesToPortals:t,customStyleHooks_unstable:r,dir:i,root:o,targetDocument:a,theme:s,themeClassName:l,overrides_unstable:c}=e,u=n.useMemo((()=>({dir:i,targetDocument:a})),[i,a]),[d]=n.useState((()=>({}))),h=n.useMemo((()=>({textDirection:i})),[i]);return{customStyleHooks_unstable:r,overrides_unstable:c,provider:u,textDirection:i,iconDirection:h,tooltip:d,theme:s,themeClassName:t?o.className:l}}},88002:(e,t,r)=>{"use strict";r.d(t,{K:()=>l,m:()=>a});var n=r(58413),i=r(20677),o=r(31531);const a={root:"fui-FluentProvider"},s=(0,n.X)({root:{sj55zd:"f19n0e5",De3pzq:"fxugw4r",fsow6f:["f1o700av","fes3tcz"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"}},{d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1o700av{text-align:left;}",".fes3tcz{text-align:right;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}"]}),l=e=>{const t=(0,o.J)(),r=s({dir:e.dir,renderer:t});return e.root.className=(0,i.z)(a.root,e.themeClassName,r.root,e.root.className),e}},58458:(e,t,r)=>{"use strict";var n;r.d(t,{V:()=>u});var i=r(3808),o=r(33079),a=r(96540),s=r(93070),l=r(88002);const c=(n||(n=r.t(a,2))).useInsertionEffect?(n||(n=r.t(a,2))).useInsertionEffect:i.E,u=e=>{const{targetDocument:t,theme:r,rendererAttributes:n}=e,i=a.useRef(),u=(0,o.Bi)(l.m.root),d=n,h=a.useMemo((()=>(0,s.d)(`.${u}`,r)),[r,u]);return function(e,t){a.useState((()=>{if(!e)return;const r=e.getElementById(t);r&&e.head.append(r)}))}(t,u),c((()=>{const e=null==t?void 0:t.getElementById(u);return e?i.current=e:(i.current=((e,t)=>{if(!(null==e?void 0:e.head))return;const r=e.createElement("style");return Object.keys(t).forEach((e=>{r.setAttribute(e,t[e])})),e.head.appendChild(r),r})(t,{...d,id:u}),i.current&&((e,t)=>{const r=e.sheet;r&&(r.cssRules.length>0&&r.deleteRule(0),r.insertRule(t,0))})(i.current,h)),()=>{var e;null===(e=i.current)||void 0===e||e.remove()}}),[u,t,h,d]),{styleTagId:u,rule:h}}},68909:(e,t,r)=>{"use strict";r.d(t,{$e:()=>s,gH:()=>a,k7:()=>i});var n=r(96540);const i=n.createContext(void 0),o=()=>{},a=i.Provider,s=e=>{var t,r;return null!==(r=null===(t=n.useContext(i))||void 0===t?void 0:t[e])&&void 0!==r?r:o}},78631:(e,t,r)=>{"use strict";r.d(t,{Nv:()=>o,Pv:()=>a});var n=r(96540);const i=n.createContext(void 0),o=i.Provider;function a(){var e;return null!==(e=n.useContext(i))&&void 0!==e?e:{}}},97073:(e,t,r)=>{"use strict";r.d(t,{K:()=>a,Y:()=>s});var n=r(96540);const i=n.createContext(void 0),o={targetDocument:"object"==typeof document?document:void 0,dir:"ltr"},a=i.Provider;function s(){var e;return null!==(e=n.useContext(i))&&void 0!==e?e:o}},29:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});const n=r(96540).createContext(void 0).Provider},57991:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,N:()=>i});const n=r(96540).createContext(void 0),i=n.Provider},2999:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});const n=r(96540).createContext(void 0).Provider},32339:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(96540),i=r(20626),o=r(3515),a=r(21010),s=r(68909);const l=n.forwardRef(((e,t)=>{const r=(0,i.i)(e,t);return(0,a.ec)(r),(0,s.$e)("useSliderStyles_unstable")(r),(0,o.T)(r)}));l.displayName="Slider"},3515:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var n=r(40098),i=r(82222);const o=e=>((0,i.C)(e),(0,n.FD)(e.root,{children:[(0,n.Y)(e.input,{}),(0,n.Y)(e.rail,{}),(0,n.Y)(e.thumb,{})]}))},20626:(e,t,r)=>{"use strict";r.d(t,{i:()=>u}),r(96540);var n=r(14067),i=r(94653),o=r(56257),a=r(33079),s=r(85532),l=r(59885),c=r(59282);const u=(e,t)=>{e=(0,n.c)(e,{supportsLabelFor:!0});const r=(0,i.n)({props:e,primarySlotTagName:"input",excludedPropNames:["onChange","size"]}),{disabled:u,vertical:d,size:h="medium",root:p,input:m,rail:y,thumb:f}=e,g={disabled:u,size:h,vertical:d,components:{input:"input",rail:"div",root:"div",thumb:"div"},root:o.Gk(p,{defaultProps:r.root,elementType:"div"}),input:o.Gk(m,{defaultProps:{id:(0,a.Bi)("slider-",e.id),ref:t,...r.primary,type:"range",orient:d?"vertical":void 0},elementType:"input"}),rail:o.Gk(y,{elementType:"div"}),thumb:o.Gk(f,{elementType:"div"})};return g.root.ref=(0,s.a)(g.root.ref,(0,c.R)()),(0,l.z)(g,e),g}},59885:(e,t,r)=>{"use strict";r.d(t,{z:()=>d}),r(96540);var n=r(98572),i=r(49315),o=r(74215),a=r(97073),s=r(21010);const{sliderStepsPercentVar:l,sliderProgressVar:c,sliderDirectionVar:u}=s.nf,d=(e,t)=>{const{min:r=0,max:s=100,step:d}=t,{dir:h}=(0,a.Y)(),[p,m]=(0,n.i)({state:t.value,defaultState:t.defaultValue,initialState:0}),y=(0,i.q)(p,r,s),f=((e,t,r)=>r===t?0:(e-t)/(r-t)*100)(y,r,s),g=e.input.onChange,b=t.onChange,v=(0,o.D)((e=>{const t=Number(e.target.value);m((0,i.q)(t,r,s)),g&&g!==b?g(e):b&&b(e,{value:t})})),M={[u]:e.vertical?"0deg":"ltr"===h?"90deg":"270deg",[l]:d&&d>0?100*d/(s-r)+"%":"",[c]:`${f}%`};return e.root.style={...M,...e.root.style},e.input.value=y,e.input.onChange=v,e}},21010:(e,t,r)=>{"use strict";r.d(t,{ec:()=>v,nf:()=>o});var n=r(99159),i=r(20677);const o={sliderDirectionVar:"--fui-Slider--direction",sliderInnerThumbRadiusVar:"--fui-Slider__inner-thumb--radius",sliderProgressVar:"--fui-Slider--progress",sliderProgressColorVar:"--fui-Slider__progress--color",sliderRailSizeVar:"--fui-Slider__rail--size",sliderRailColorVar:"--fui-Slider__rail--color",sliderStepsPercentVar:"--fui-Slider--steps-percent",sliderThumbColorVar:"--fui-Slider__thumb--color",sliderThumbSizeVar:"--fui-Slider__thumb--size"},{sliderDirectionVar:a,sliderInnerThumbRadiusVar:s,sliderProgressVar:l,sliderProgressColorVar:c,sliderRailSizeVar:u,sliderRailColorVar:d,sliderStepsPercentVar:h,sliderThumbColorVar:p,sliderThumbSizeVar:m}=o,y=(0,n.X)({root:{qhf8xq:"f10pi13n",mc9l5x:"fwk3njj",lpbzjs:"f1sdsnyy",Bt984gj:"f122n59",B7hvi0a:"f1oiokrs"},small:{Bi64ftq:"f1agqo6f",Bslxy2k:"f1mmvox9",Ba19x4e:"f1i7ztpd",sshi5w:"f1pha7fy"},medium:{Bi64ftq:"f1a78h9h",Bslxy2k:"fh1udnr",Ba19x4e:"fuok0yf",sshi5w:"f1nxs5xn"},horizontal:{Bf4jedk:"fyvtabn",wkccdc:"fgfd48t",Budl1dq:"f4t5rw1"},vertical:{sshi5w:"f1pzv1zu",wkccdc:"fktlcaf",Budl1dq:"fiadc6h"},enabled:{B7wi8oa:"f4l8x3l",B250r6j:"f671q34",Bpmy4es:"fvfzmw5",Buw9y6v:"faw1t00",Bq939m0:"fxdgx5",gjzr1t:"fii04fa",tg7hqu:"f36hzz8",ypdvl1:"f1volkfw",Bw5jdd4:"f1xddb6",Bdjie01:"fcdikl",Bvh9j6m:"fhpzgm6",Bvsvvpo:"f1q6pm3h"},disabled:{Bpmy4es:"foojseg",B7wi8oa:"f1lgdqhv",B250r6j:"f1veetlj",ypdvl1:"fu12m3e",Bw5jdd4:"fi9guym",Bdjie01:"fcdjl4u"},focusIndicatorHorizontal:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",Bssx7fj:"f1b1k54r",uh7if5:["f4ne723","fqqcjud"],clntm0:"fh7aioi",Dlk2r6:["fqqcjud","f4ne723"],Bm3wd5j:"f1k55ka9",Bbrhkcr:["fgclinu","f16pcs8n"],f1oku:"fycbxed",aywvf2:["f16pcs8n","fgclinu"],B2j2mmj:"ffht0p2",wigs8:"f1p0ul1q",pbfy6t:"f1c901ms",B0v4ure:"f1alokd7",Byrf0fs:0,Bsiemmq:0,Bwckmig:0,skfxo0:0,Iidy0u:0,B98u21t:0,Bvwlmkc:0,jo1ztg:0,Ba1iezr:0,Blmvk6g:0,B24cy0v:0,Bil7v7r:0,Br3gin4:0,nr063g:0,ghq09:0,Bbgo44z:0,Bseh09z:"fmj8fco",az1dzo:0,Ba3ybja:0,B6352mv:0,vppk2z:0,Biaj6j7:"f1iwowo3",B2pnrqr:"f1pffoy2",B29w5g4:["f1bmyog6","f15fv2gd"],Bhhzhcn:"fs6b7xr",Bec0n69:["f15fv2gd","f1bmyog6"]},focusIndicatorVertical:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",Bssx7fj:"f1b1k54r",uh7if5:["f4ne723","fqqcjud"],clntm0:"fh7aioi",Dlk2r6:["fqqcjud","f4ne723"],Bm3wd5j:"f1k55ka9",Bbrhkcr:["fgclinu","f16pcs8n"],f1oku:"fycbxed",aywvf2:["f16pcs8n","fgclinu"],B2j2mmj:"ffht0p2",wigs8:"f1p0ul1q",pbfy6t:"f1c901ms",B0v4ure:"f1alokd7",Byrf0fs:0,Bsiemmq:0,Bwckmig:0,skfxo0:0,Iidy0u:0,B98u21t:0,Bvwlmkc:0,jo1ztg:0,Ba1iezr:0,Blmvk6g:0,B24cy0v:0,Bil7v7r:0,Br3gin4:0,nr063g:0,ghq09:0,Bbgo44z:0,Bseh09z:"fmj8fco",az1dzo:0,Ba3ybja:0,B6352mv:0,vppk2z:0,Biaj6j7:"f1iwowo3",B2pnrqr:"f1hxpdv8",B29w5g4:["fm5xmfm","femsgmt"],Bhhzhcn:"f1dmxpeg",Bec0n69:["femsgmt","fm5xmfm"]}},{d:[".f10pi13n{position:relative;}",".fwk3njj{display:inline-grid;}",".f1sdsnyy{touch-action:none;}",".f122n59{align-items:center;}",".f1oiokrs{justify-items:center;}",".f1agqo6f{--fui-Slider__thumb--size:16px;}",".f1mmvox9{--fui-Slider__inner-thumb--radius:5px;}",".f1i7ztpd{--fui-Slider__rail--size:2px;}",".f1pha7fy{min-height:24px;}",".f1a78h9h{--fui-Slider__thumb--size:20px;}",".fh1udnr{--fui-Slider__inner-thumb--radius:6px;}",".fuok0yf{--fui-Slider__rail--size:4px;}",".f1nxs5xn{min-height:32px;}",".fyvtabn{min-width:120px;}",".fgfd48t{grid-template-rows:1fr var(--fui-Slider__thumb--size) 1fr;}",".f4t5rw1{grid-template-columns:1fr calc(100% - var(--fui-Slider__thumb--size)) 1fr;}",".f1pzv1zu{min-height:120px;}",".fktlcaf{grid-template-rows:1fr calc(100% - var(--fui-Slider__thumb--size)) 1fr;}",".fiadc6h{grid-template-columns:1fr var(--fui-Slider__thumb--size) 1fr;}",".f4l8x3l{--fui-Slider__rail--color:var(--colorNeutralStrokeAccessible);}",".f671q34{--fui-Slider__progress--color:var(--colorCompoundBrandBackground);}",".fvfzmw5{--fui-Slider__thumb--color:var(--colorCompoundBrandBackground);}",".foojseg{--fui-Slider__thumb--color:var(--colorNeutralForegroundDisabled);}",".f1lgdqhv{--fui-Slider__rail--color:var(--colorNeutralBackgroundDisabled);}",".f1veetlj{--fui-Slider__progress--color:var(--colorNeutralForegroundDisabled);}",".f1b1k54r[data-fui-focus-within]:focus-within{border-top-color:transparent;}",".f4ne723[data-fui-focus-within]:focus-within{border-right-color:transparent;}",".fqqcjud[data-fui-focus-within]:focus-within{border-left-color:transparent;}",".fh7aioi[data-fui-focus-within]:focus-within{border-bottom-color:transparent;}",'.ffht0p2[data-fui-focus-within]:focus-within::after{content:"";}',".f1p0ul1q[data-fui-focus-within]:focus-within::after{position:absolute;}",".f1c901ms[data-fui-focus-within]:focus-within::after{pointer-events:none;}",".f1alokd7[data-fui-focus-within]:focus-within::after{z-index:1;}",[".fmj8fco[data-fui-focus-within]:focus-within::after{border:2px solid var(--colorStrokeFocus2);}",{p:-2}],[".f1iwowo3[data-fui-focus-within]:focus-within::after{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1pffoy2[data-fui-focus-within]:focus-within::after{top:calc(0px - 2px - -2px);}",".f1bmyog6[data-fui-focus-within]:focus-within::after{right:calc(0px - 2px - 8px);}",".f15fv2gd[data-fui-focus-within]:focus-within::after{left:calc(0px - 2px - 8px);}",".fs6b7xr[data-fui-focus-within]:focus-within::after{bottom:calc(0px - 2px - -2px);}",[".fmj8fco[data-fui-focus-within]:focus-within::after{border:2px solid var(--colorStrokeFocus2);}",{p:-2}],[".f1iwowo3[data-fui-focus-within]:focus-within::after{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1hxpdv8[data-fui-focus-within]:focus-within::after{top:calc(0px - 2px - 6px);}",".fm5xmfm[data-fui-focus-within]:focus-within::after{right:calc(0px - 2px - 4px);}",".femsgmt[data-fui-focus-within]:focus-within::after{left:calc(0px - 2px - 4px);}",".f1dmxpeg[data-fui-focus-within]:focus-within::after{bottom:calc(0px - 2px - 6px);}"],h:[".faw1t00:hover{--fui-Slider__thumb--color:var(--colorCompoundBrandBackgroundHover);}",".fxdgx5:hover{--fui-Slider__progress--color:var(--colorCompoundBrandBackgroundHover);}"],a:[".fii04fa:active{--fui-Slider__thumb--color:var(--colorCompoundBrandBackgroundPressed);}",".f36hzz8:active{--fui-Slider__progress--color:var(--colorCompoundBrandBackgroundPressed);}"],m:[["@media (forced-colors: active){.f1volkfw{--fui-Slider__rail--color:CanvasText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1xddb6{--fui-Slider__thumb--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcdikl{--fui-Slider__progress--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fhpzgm6:hover{--fui-Slider__thumb--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1q6pm3h:hover{--fui-Slider__progress--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fu12m3e{--fui-Slider__rail--color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fi9guym{--fui-Slider__thumb--color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcdjl4u{--fui-Slider__progress--color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1k55ka9[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f16pcs8n[data-fui-focus-within]:focus-within::after{border-left-color:Highlight;}.fgclinu[data-fui-focus-within]:focus-within::after{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fycbxed[data-fui-focus-within]:focus-within::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}]],f:[".ftqa4ok:focus{outline-style:none;}"],i:[".f2hkw1w:focus-visible{outline-style:none;}"]}),f=(0,n.X)({rail:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1kijzfu",Bkecrkj:"f1aehjj5",Ijaq50:"faunodf",nk6f5a:"f88nxoq",Br312pm:"fd46tj4",Bw0ie65:"f1e2fz10",qhf8xq:"f10pi13n",Bvjb7m6:"fdgv6k0",Bcmaq0h:"fizngqt",Bpd4iqm:"fpvhumw",oeaueh:"f1yog68k",Bw0xxkn:"f13sgyd8",Ftih45:"fzhtfnv",Brfgrao:"f1j7ml58",Bbn5juq:"fx36ao7",Brdvuy1:"fux3rle"},horizontal:{a9b677:"fly5x3f",Bqenvij:"f1cy86ho",Fbdkly:["f1heqfse","fkh49vu"],mdwyqc:["fkh49vu","f1heqfse"],Baz25je:"f16tdq4e"},vertical:{a9b677:"fqxfnkd",Bqenvij:"f1l02sjl",Ccq8qp:"f1rik0od",Bciustq:"f14xwovp",lawp4y:"fdehrcx"}},{d:[[".f1kijzfu{border-radius:var(--borderRadiusXLarge);}",{p:-1}],".f1aehjj5{pointer-events:none;}",".faunodf{grid-row-start:2;}",".f88nxoq{grid-row-end:2;}",".fd46tj4{grid-column-start:2;}",".f1e2fz10{grid-column-end:2;}",".f10pi13n{position:relative;}",".fdgv6k0{forced-color-adjust:none;}",".fizngqt{background-image:linear-gradient(\n      var(--fui-Slider--direction),\n      var(--fui-Slider__progress--color) 0%,\n      var(--fui-Slider__progress--color) var(--fui-Slider--progress),\n      var(--fui-Slider__rail--color) var(--fui-Slider--progress)\n    );}",".fpvhumw{outline-width:1px;}",".f1yog68k{outline-style:solid;}",".f13sgyd8{outline-color:var(--colorTransparentStroke);}",".fzhtfnv::before{content:'';}",".f1j7ml58::before{position:absolute;}",".fx36ao7::before{background-image:repeating-linear-gradient(\n        var(--fui-Slider--direction),\n        #0000 0%,\n        #0000 calc(var(--fui-Slider--steps-percent) - 1px),\n        var(--colorNeutralBackground1) calc(var(--fui-Slider--steps-percent) - 1px),\n        var(--colorNeutralBackground1) var(--fui-Slider--steps-percent)\n      );}",".fly5x3f{width:100%;}",".f1cy86ho{height:var(--fui-Slider__rail--size);}",".f1heqfse::before{left:-1px;}",".fkh49vu::before{right:-1px;}",".f16tdq4e::before{height:var(--fui-Slider__rail--size);}",".fqxfnkd{width:var(--fui-Slider__rail--size);}",".f1l02sjl{height:100%;}",".f1rik0od::before{width:var(--fui-Slider__rail--size);}",".f14xwovp::before{top:-1px;}",".fdehrcx::before{bottom:-1px;}"],m:[["@media (forced-colors: active){.fux3rle::before{background-image:repeating-linear-gradient(\n          var(--fui-Slider--direction),\n          #0000 0%,\n          #0000 calc(var(--fui-Slider--steps-percent) - 1px),\n          HighlightText calc(var(--fui-Slider--steps-percent) - 1px),\n          HighlightText var(--fui-Slider--steps-percent)\n        );}}",{m:"(forced-colors: active)"}]]}),g=(0,n.X)({thumb:{B2lzsem:"ftx3jue",Ijaq50:"faunodf",nk6f5a:"f88nxoq",Br312pm:"fd46tj4",Bw0ie65:"f1e2fz10",qhf8xq:"f1euv43f",a9b677:"f174ca62",Bqenvij:"f1yfdkfd",Bkecrkj:"f1aehjj5",oeaueh:"f1s6fcnf",Bvjb7m6:"fdgv6k0",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9",E5pizo:"fof7hq0",De3pzq:"foksa45",Brfgrao:"f1j7ml58",Bciustq:"f14u7mkt",Fbdkly:["f5zrw40","f1ks5ppg"],lawp4y:"fto0uou",mdwyqc:["f1ks5ppg","f5zrw40"],r59vdv:0,Budzafs:0,ck0cow:0,n07z76:0,Gng75u:"fielpny",Bcvre1j:"fyl8oag",Ftih45:"fzhtfnv",Bcgcnre:0,Bqjgrrk:0,qa3bma:0,y0oebl:0,Biqmznv:0,Bm6vgfq:0,Bbv0w2i:0,uvfttm:0,eqrjj:0,Bk5zm6e:0,m598lv:0,B4f6apu:0,ydt019:0,Bq4z7u6:0,Bdkvgpv:0,B0qfbqy:0,kj8mxx:"f1fsco4d"},disabled:{Bcgcnre:0,Bqjgrrk:0,qa3bma:0,y0oebl:0,Biqmznv:0,Bm6vgfq:0,Bbv0w2i:0,uvfttm:0,eqrjj:0,Bk5zm6e:0,m598lv:0,B4f6apu:0,ydt019:0,Bq4z7u6:0,Bdkvgpv:0,B0qfbqy:0,kj8mxx:"f1pv9hn4"},horizontal:{Bz10aip:["f13gfj74","f1nfknbn"],oyh7mz:["foa2ioz","fjmilum"]},vertical:{Bz10aip:"f5cv5a3",B5kzvoi:"f1k2fpdo"}},{d:[".ftx3jue{--fui-Slider__thumb--position:clamp(var(--fui-Slider__inner-thumb--radius), var(--fui-Slider--progress), calc(100% - var(--fui-Slider__inner-thumb--radius)));}",".faunodf{grid-row-start:2;}",".f88nxoq{grid-row-end:2;}",".fd46tj4{grid-column-start:2;}",".f1e2fz10{grid-column-end:2;}",".f1euv43f{position:absolute;}",".f174ca62{width:var(--fui-Slider__thumb--size);}",".f1yfdkfd{height:var(--fui-Slider__thumb--size);}",".f1aehjj5{pointer-events:none;}",".f1s6fcnf{outline-style:none;}",".fdgv6k0{forced-color-adjust:none;}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],".fof7hq0{box-shadow:0 0 0 calc(var(--fui-Slider__thumb--size) * .2) var(--colorNeutralBackground1) inset;}",".foksa45{background-color:var(--fui-Slider__thumb--color);}",".f1j7ml58::before{position:absolute;}",".f14u7mkt::before{top:0px;}",".f5zrw40::before{left:0px;}",".f1ks5ppg::before{right:0px;}",".fto0uou::before{bottom:0px;}",[".fielpny::before{border-radius:var(--borderRadiusCircular);}",{p:-1}],".fyl8oag::before{box-sizing:border-box;}",".fzhtfnv::before{content:'';}",[".f1fsco4d::before{border:calc(var(--fui-Slider__thumb--size) * .05) solid var(--colorNeutralStroke1);}",{p:-2}],[".f1pv9hn4::before{border:calc(var(--fui-Slider__thumb--size) * .05) solid var(--colorNeutralForegroundDisabled);}",{p:-2}],".f13gfj74{transform:translateX(-50%);}",".f1nfknbn{transform:translateX(50%);}",".foa2ioz{left:var(--fui-Slider__thumb--position);}",".fjmilum{right:var(--fui-Slider__thumb--position);}",".f5cv5a3{transform:translateY(50%);}",".f1k2fpdo{bottom:var(--fui-Slider__thumb--position);}"]}),b=(0,n.X)({input:{Bceei9c:"f1k6fduh",abs64n:"fk73vx1",Ijaq50:"f16hsg94",nk6f5a:"f1nzqi2z",Br312pm:"fwpfdsa",Bw0ie65:"fuur7zz",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1mk8lai",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao"},disabled:{Bceei9c:"f158kwzp"},horizontal:{Bqenvij:"f1yfdkfd",a9b677:"fly5x3f"},vertical:{Bqenvij:"f1l02sjl",a9b677:"f174ca62",fsx8h0:"f1mm7lwf",B0wtrmc:["fdkxjay","f6bzpni"],B5laz1p:"f1ry0dy"}},{d:[".f1k6fduh{cursor:pointer;}",".fk73vx1{opacity:0;}",".f16hsg94{grid-row-start:1;}",".f1nzqi2z{grid-row-end:-1;}",".fwpfdsa{grid-column-start:1;}",".fuur7zz{grid-column-end:-1;}",[".f1mk8lai{padding:0;}",{p:-1}],[".f1s184ao{margin:0;}",{p:-1}],".f158kwzp{cursor:default;}",".f1yfdkfd{height:var(--fui-Slider__thumb--size);}",".fly5x3f{width:100%;}",".f1l02sjl{height:100%;}",".f174ca62{width:var(--fui-Slider__thumb--size);}"],t:["@supports (writing-mode: sideways-lr){.f1mm7lwf{writing-mode:vertical-lr;}}","@supports (writing-mode: sideways-lr){.f6bzpni{direction:ltr;}.fdkxjay{direction:rtl;}}","@supports not (writing-mode: sideways-lr){.f1ry0dy{-webkit-appearance:slider-vertical;}}"]}),v=e=>{const t=y(),r=f(),n=g(),o=b(),a=e.vertical;return e.root.className=(0,i.z)("fui-Slider",t.root,a?t.focusIndicatorVertical:t.focusIndicatorHorizontal,t[e.size],a?t.vertical:t.horizontal,e.disabled?t.disabled:t.enabled,e.root.className),e.rail.className=(0,i.z)("fui-Slider__rail",r.rail,a?r.vertical:r.horizontal,e.rail.className),e.thumb.className=(0,i.z)("fui-Slider__thumb",n.thumb,a?n.vertical:n.horizontal,e.disabled&&n.disabled,e.thumb.className),e.input.className=(0,i.z)("fui-Slider__input",o.input,a?o.vertical:o.horizontal,e.disabled&&o.disabled,e.input.className),e}},42259:(e,t,r)=>{"use strict";r.d(t,{A7:()=>n,BV:()=>i});const n="data-fui-focus-visible",i="data-fui-focus-within"},57485:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(96631),i=r(27621),o=r(42259);function a(e,t){if(s(e))return()=>{};const r={current:void 0},a=(0,i.SQ)(t);function l(e){a.isNavigatingWithKeyboard()&&(0,n.s)(e)&&(r.current=e,e.setAttribute(o.A7,""))}function c(){r.current&&(r.current.removeAttribute(o.A7),r.current=void 0)}a.subscribe((e=>{e?l(t.document.activeElement):c()}));const u=e=>{c(),l(e.composedPath()[0])},d=t=>{(!t.relatedTarget||(0,n.s)(t.relatedTarget)&&!e.contains(t.relatedTarget))&&c()};return e.addEventListener(i.Oy,u),e.addEventListener("focusout",d),e.focusVisible=!0,e.contains(t.document.activeElement)&&l(t.document.activeElement),()=>{c(),e.removeEventListener(i.Oy,u),e.removeEventListener("focusout",d),delete e.focusVisible,(0,i.bd)(a)}}function s(e){return!!e&&(!!e.focusVisible||s(null==e?void 0:e.parentElement))}},75350:(e,t,r)=>{"use strict";r.d(t,{R:()=>o});var n=r(27621),i=r(42259);function o(e,t){const r=(0,n.SQ)(t);r.subscribe((t=>{t||a(e)}));const o=t=>{r.isNavigatingWithKeyboard()&&s(t.target)&&e.setAttribute(i.BV,"")},l=t=>{(!t.relatedTarget||s(t.relatedTarget)&&!e.contains(t.relatedTarget))&&a(e)};return e.addEventListener(n.Oy,o),e.addEventListener("focusout",l),()=>{e.removeEventListener(n.Oy,o),e.removeEventListener("focusout",l),(0,n.bd)(r)}}function a(e){e.removeAttribute(i.BV)}function s(e){return!!e&&Boolean(e&&"object"==typeof e&&"classList"in e&&"contains"in e)}},4651:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(96540),i=r(97073),o=r(57485);function a(e={}){const t=(0,i.Y)(),r=n.useRef(null);var a;const s=null!==(a=e.targetDocument)&&void 0!==a?a:t.targetDocument;return n.useEffect((()=>{if((null==s?void 0:s.defaultView)&&r.current)return(0,o.y)(r.current,s.defaultView)}),[r,s]),r}},59282:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(96540),i=r(97073),o=r(75350);function a(){const{targetDocument:e}=(0,i.Y)(),t=n.useRef(null);return n.useEffect((()=>{if((null==e?void 0:e.defaultView)&&t.current)return(0,o.R)(t.current,e.defaultView)}),[t,e]),t}},82222:(e,t,r)=>{"use strict";function n(e){}r.d(t,{C:()=>n}),r(96540)},86800:(e,t,r)=>{"use strict";r.d(t,{Y9:()=>n,b9:()=>o,on:()=>i});const n=Symbol.for("fui.slotRenderFunction"),i=Symbol.for("fui.slotElementType"),o=Symbol.for("fui.slotClassNameProp")},62416:(e,t,r)=>{"use strict";r.d(t,{g:()=>i}),r(96540);var n=r(94653);const i=(e,t,r)=>{var i;return(0,n._)(null!==(i=t.as)&&void 0!==i?i:e,t,r)}},41429:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=r(86800);function i(e){return Boolean(null==e?void 0:e.hasOwnProperty(n.on))}},56257:(e,t,r)=>{"use strict";r.d(t,{Gk:()=>o,lq:()=>a});var n=r(96540),i=r(86800);function o(e,t){const{defaultProps:r,elementType:o}=t,a=function(e){return"string"==typeof e||"number"==typeof e||Array.isArray(e)||n.isValidElement(e)?{children:e}:e}(e),s={...r,...a,[i.on]:o,[i.b9]:null==a?void 0:a.className};return a&&"function"==typeof a.children&&(s[i.Y9]=a.children,s.children=null==r?void 0:r.children),s}function a(e,t){if(null!==e&&(void 0!==e||t.renderByDefault))return o(e,t)}},98572:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(96540);const i=e=>{const[t,r]=n.useState((()=>void 0===e.defaultState?e.initialState:"function"==typeof e.defaultState?e.defaultState():e.defaultState)),i=n.useRef(e.state);n.useEffect((()=>{i.current=e.state}),[e.state]);const a=n.useCallback((e=>{(function(e){return"function"==typeof e})(e)&&e(i.current)}),[]);return o(e.state)?[e.state,a]:[t,r]},o=e=>{const[t]=n.useState((()=>void 0!==e));return t}},74215:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var n=r(96540),i=r(3808);const o=e=>{const t=n.useRef((()=>{throw new Error("Cannot call an event handler while rendering")}));return(0,i.E)((()=>{t.current=e}),[e]),n.useCallback(((...e)=>(0,t.current)(...e)),[t])}},33079:(e,t,r)=>{"use strict";var n;r.d(t,{Bi:()=>s});var i=r(96540),o=r(86398);const a=i.createContext(void 0);function s(e="fui-",t){const s=(0,o.LM)(),l=i.useContext(a)||"",c=(n||(n=r.t(i,2))).useId;if(c){const r=c(),n=i.useMemo((()=>r.replace(/:/g,"")),[r]);return t||`${l}${e}${n}`}return i.useMemo((()=>t||`${l}${e}${++s.current}`),[l,e,t,s])}a.Provider},3808:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(96540);const i=(0,r(40206).S)()?n.useLayoutEffect:n.useEffect},85532:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=r(96540);function i(...e){const t=n.useCallback((r=>{t.current=r;for(const t of e)"function"==typeof t?t(r):t&&(t.current=r)}),[...e]);return t}},86398:(e,t,r)=>{"use strict";r.d(t,{LM:()=>a});var n=r(96540);const i={current:0},o=n.createContext(void 0);function a(){var e;return null!==(e=n.useContext(o))&&void 0!==e?e:i}},40206:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(30327);function i(){return void 0!==n&&!(!n.document||!n.document.createElement)}},49315:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});const n=(e,t,r)=>Math.max(t,Math.min(r,e||0))},94653:(e,t,r)=>{"use strict";r.d(t,{_:()=>o,n:()=>a}),r(96540);var n=r(67819);const i={label:n.q6,audio:n.Sg,video:n.Fo,ol:n.p3,li:n.P4,a:n.t0,button:n.uw,input:n.QQ,textarea:n.Sh,select:n.Cq,option:n.tK,table:n.al,tr:n.g0,th:n.cr,td:n.k3,colGroup:n.lA,col:n.Qf,fieldset:n.GI,form:n.Gp,iframe:n.Cs,img:n.xM,time:n.li,dialog:n.g$};function o(e,t,r){const o=e&&i[e]||n.vt;return o.as=1,(0,n.G1)(t,o,r)}const a=({primarySlotTagName:e,props:t,excludedPropNames:r})=>({root:{style:t.style,className:t.className},primary:o(e,t,[...r||[],"style","className"])})},96631:(e,t,r)=>{"use strict";function n(e,t){var r;const n=e;var i;return Boolean((null==n||null===(r=n.ownerDocument)||void 0===r?void 0:r.defaultView)&&n instanceof n.ownerDocument.defaultView[null!==(i=null==t?void 0:t.constructorName)&&void 0!==i?i:"HTMLElement"])}r.d(t,{s:()=>n})},67819:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>b,Cs:()=>k,Fo:()=>u,G1:()=>Z,GI:()=>I,Gp:()=>C,P4:()=>h,QQ:()=>f,Qf:()=>T,Sg:()=>c,Sh:()=>g,al:()=>M,cr:()=>S,g$:()=>N,g0:()=>x,k3:()=>w,lA:()=>_,li:()=>m,p3:()=>d,q6:()=>l,t0:()=>p,tK:()=>v,uw:()=>y,vt:()=>s,xM:()=>L});const n=(...e)=>{const t={};for(const r of e){const e=Array.isArray(r)?r:Object.keys(r);for(const r of e)t[r]=1}return t},i=n(["onAuxClick","onAnimationEnd","onAnimationStart","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),o=n(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),a=n(["itemID","itemProp","itemRef","itemScope","itemType"]),s=n(o,i,a),l=n(s,["form"]),c=n(s,["height","loop","muted","preload","src","width"]),u=n(c,["poster"]),d=n(s,["start"]),h=n(s,["value"]),p=n(s,["download","href","hrefLang","media","rel","target","type"]),m=n(s,["dateTime"]),y=n(s,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),f=n(y,["accept","alt","autoCorrect","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),g=n(y,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),b=n(y,["form","multiple","required"]),v=n(s,["selected","value"]),M=n(s,["cellPadding","cellSpacing"]),x=s,S=n(s,["colSpan","rowSpan","scope"]),w=n(s,["colSpan","headers","rowSpan","scope"]),_=n(s,["span"]),T=n(s,["span"]),I=n(s,["disabled","form"]),C=n(s,["acceptCharset","action","encType","encType","method","noValidate","target"]),k=n(s,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),L=n(s,["alt","crossOrigin","height","src","srcSet","useMap","width"]),N=n(s,["open","onCancel","onClose"]);function Z(e,t,r){const n=Array.isArray(t),i={},o=Object.keys(e);for(const a of o)!(!n&&t[a]||n&&t.indexOf(a)>=0||0===a.indexOf("data-")||0===a.indexOf("aria-"))||r&&-1!==(null==r?void 0:r.indexOf(a))||(i[a]=e[a]);return i}},26010:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(54118);const i=e=>({colorNeutralForeground1:n.Oh[14],colorNeutralForeground1Hover:n.Oh[14],colorNeutralForeground1Pressed:n.Oh[14],colorNeutralForeground1Selected:n.Oh[14],colorNeutralForeground2:n.Oh[26],colorNeutralForeground2Hover:n.Oh[14],colorNeutralForeground2Pressed:n.Oh[14],colorNeutralForeground2Selected:n.Oh[14],colorNeutralForeground2BrandHover:e[80],colorNeutralForeground2BrandPressed:e[70],colorNeutralForeground2BrandSelected:e[80],colorNeutralForeground3:n.Oh[38],colorNeutralForeground3Hover:n.Oh[26],colorNeutralForeground3Pressed:n.Oh[26],colorNeutralForeground3Selected:n.Oh[26],colorNeutralForeground3BrandHover:e[80],colorNeutralForeground3BrandPressed:e[70],colorNeutralForeground3BrandSelected:e[80],colorNeutralForeground4:n.Oh[44],colorNeutralForegroundDisabled:n.Oh[74],colorNeutralForegroundInvertedDisabled:n.c8[40],colorBrandForegroundLink:e[70],colorBrandForegroundLinkHover:e[60],colorBrandForegroundLinkPressed:e[40],colorBrandForegroundLinkSelected:e[70],colorNeutralForeground2Link:n.Oh[26],colorNeutralForeground2LinkHover:n.Oh[14],colorNeutralForeground2LinkPressed:n.Oh[14],colorNeutralForeground2LinkSelected:n.Oh[14],colorCompoundBrandForeground1:e[80],colorCompoundBrandForeground1Hover:e[70],colorCompoundBrandForeground1Pressed:e[60],colorBrandForeground1:e[80],colorBrandForeground2:e[70],colorBrandForeground2Hover:e[60],colorBrandForeground2Pressed:e[30],colorNeutralForeground1Static:n.Oh[14],colorNeutralForegroundStaticInverted:n.ON,colorNeutralForegroundInverted:n.ON,colorNeutralForegroundInvertedHover:n.ON,colorNeutralForegroundInvertedPressed:n.ON,colorNeutralForegroundInvertedSelected:n.ON,colorNeutralForegroundInverted2:n.ON,colorNeutralForegroundOnBrand:n.ON,colorNeutralForegroundInvertedLink:n.ON,colorNeutralForegroundInvertedLinkHover:n.ON,colorNeutralForegroundInvertedLinkPressed:n.ON,colorNeutralForegroundInvertedLinkSelected:n.ON,colorBrandForegroundInverted:e[100],colorBrandForegroundInvertedHover:e[110],colorBrandForegroundInvertedPressed:e[100],colorBrandForegroundOnLight:e[80],colorBrandForegroundOnLightHover:e[70],colorBrandForegroundOnLightPressed:e[50],colorBrandForegroundOnLightSelected:e[60],colorNeutralBackground1:n.ON,colorNeutralBackground1Hover:n.Oh[96],colorNeutralBackground1Pressed:n.Oh[88],colorNeutralBackground1Selected:n.Oh[92],colorNeutralBackground2:n.Oh[98],colorNeutralBackground2Hover:n.Oh[94],colorNeutralBackground2Pressed:n.Oh[86],colorNeutralBackground2Selected:n.Oh[90],colorNeutralBackground3:n.Oh[96],colorNeutralBackground3Hover:n.Oh[92],colorNeutralBackground3Pressed:n.Oh[84],colorNeutralBackground3Selected:n.Oh[88],colorNeutralBackground4:n.Oh[94],colorNeutralBackground4Hover:n.Oh[98],colorNeutralBackground4Pressed:n.Oh[96],colorNeutralBackground4Selected:n.ON,colorNeutralBackground5:n.Oh[92],colorNeutralBackground5Hover:n.Oh[96],colorNeutralBackground5Pressed:n.Oh[94],colorNeutralBackground5Selected:n.Oh[98],colorNeutralBackground6:n.Oh[90],colorNeutralBackgroundInverted:n.Oh[16],colorNeutralBackgroundStatic:n.Oh[20],colorNeutralBackgroundAlpha:n.c8[50],colorNeutralBackgroundAlpha2:n.c8[80],colorSubtleBackground:"transparent",colorSubtleBackgroundHover:n.Oh[96],colorSubtleBackgroundPressed:n.Oh[88],colorSubtleBackgroundSelected:n.Oh[92],colorSubtleBackgroundLightAlphaHover:n.c8[70],colorSubtleBackgroundLightAlphaPressed:n.c8[50],colorSubtleBackgroundLightAlphaSelected:"transparent",colorSubtleBackgroundInverted:"transparent",colorSubtleBackgroundInvertedHover:n.Q1[10],colorSubtleBackgroundInvertedPressed:n.Q1[30],colorSubtleBackgroundInvertedSelected:n.Q1[20],colorTransparentBackground:"transparent",colorTransparentBackgroundHover:"transparent",colorTransparentBackgroundPressed:"transparent",colorTransparentBackgroundSelected:"transparent",colorNeutralBackgroundDisabled:n.Oh[94],colorNeutralBackgroundInvertedDisabled:n.c8[10],colorNeutralStencil1:n.Oh[90],colorNeutralStencil2:n.Oh[98],colorNeutralStencil1Alpha:n.Q1[10],colorNeutralStencil2Alpha:n.Q1[5],colorBackgroundOverlay:n.Q1[40],colorScrollbarOverlay:n.Q1[50],colorBrandBackground:e[80],colorBrandBackgroundHover:e[70],colorBrandBackgroundPressed:e[40],colorBrandBackgroundSelected:e[60],colorCompoundBrandBackground:e[80],colorCompoundBrandBackgroundHover:e[70],colorCompoundBrandBackgroundPressed:e[60],colorBrandBackgroundStatic:e[80],colorBrandBackground2:e[160],colorBrandBackground2Hover:e[150],colorBrandBackground2Pressed:e[130],colorBrandBackground3Static:e[60],colorBrandBackground4Static:e[40],colorBrandBackgroundInverted:n.ON,colorBrandBackgroundInvertedHover:e[160],colorBrandBackgroundInvertedPressed:e[140],colorBrandBackgroundInvertedSelected:e[150],colorNeutralCardBackground:n.Oh[98],colorNeutralCardBackgroundHover:n.ON,colorNeutralCardBackgroundPressed:n.Oh[96],colorNeutralCardBackgroundSelected:n.Oh[92],colorNeutralCardBackgroundDisabled:n.Oh[94],colorNeutralStrokeAccessible:n.Oh[38],colorNeutralStrokeAccessibleHover:n.Oh[34],colorNeutralStrokeAccessiblePressed:n.Oh[30],colorNeutralStrokeAccessibleSelected:e[80],colorNeutralStroke1:n.Oh[82],colorNeutralStroke1Hover:n.Oh[78],colorNeutralStroke1Pressed:n.Oh[70],colorNeutralStroke1Selected:n.Oh[74],colorNeutralStroke2:n.Oh[88],colorNeutralStroke3:n.Oh[94],colorNeutralStrokeSubtle:n.Oh[88],colorNeutralStrokeOnBrand:n.ON,colorNeutralStrokeOnBrand2:n.ON,colorNeutralStrokeOnBrand2Hover:n.ON,colorNeutralStrokeOnBrand2Pressed:n.ON,colorNeutralStrokeOnBrand2Selected:n.ON,colorBrandStroke1:e[80],colorBrandStroke2:e[140],colorBrandStroke2Hover:e[120],colorBrandStroke2Pressed:e[80],colorBrandStroke2Contrast:e[140],colorCompoundBrandStroke:e[80],colorCompoundBrandStrokeHover:e[70],colorCompoundBrandStrokePressed:e[60],colorNeutralStrokeDisabled:n.Oh[88],colorNeutralStrokeInvertedDisabled:n.c8[40],colorTransparentStroke:"transparent",colorTransparentStrokeInteractive:"transparent",colorTransparentStrokeDisabled:"transparent",colorNeutralStrokeAlpha:n.Q1[5],colorNeutralStrokeAlpha2:n.c8[20],colorStrokeFocus1:n.ON,colorStrokeFocus2:n.Ql,colorNeutralShadowAmbient:"rgba(0,0,0,0.12)",colorNeutralShadowKey:"rgba(0,0,0,0.14)",colorNeutralShadowAmbientLighter:"rgba(0,0,0,0.06)",colorNeutralShadowKeyLighter:"rgba(0,0,0,0.07)",colorNeutralShadowAmbientDarker:"rgba(0,0,0,0.20)",colorNeutralShadowKeyDarker:"rgba(0,0,0,0.24)",colorBrandShadowAmbient:"rgba(0,0,0,0.30)",colorBrandShadowKey:"rgba(0,0,0,0.25)"})},64131:(e,t,r)=>{"use strict";r.d(t,{h:()=>l,m:()=>c});var n=r(25392),i=r(11888),o=r(87757);const a=i.TQ.reduce(((e,t)=>{const r=t.slice(0,1).toUpperCase()+t.slice(1),i={[`colorPalette${r}Background1`]:n.yd[t].tint60,[`colorPalette${r}Background2`]:n.yd[t].tint40,[`colorPalette${r}Background3`]:n.yd[t].primary,[`colorPalette${r}Foreground1`]:n.yd[t].shade10,[`colorPalette${r}Foreground2`]:n.yd[t].shade30,[`colorPalette${r}Foreground3`]:n.yd[t].primary,[`colorPalette${r}BorderActive`]:n.yd[t].primary,[`colorPalette${r}Border1`]:n.yd[t].tint40,[`colorPalette${r}Border2`]:n.yd[t].primary};return Object.assign(e,i)}),{});a.colorPaletteYellowForeground1=n.yd.yellow.shade30,a.colorPaletteRedForegroundInverted=n.yd.red.tint20,a.colorPaletteGreenForegroundInverted=n.yd.green.tint20,a.colorPaletteYellowForegroundInverted=n.yd.yellow.tint40;const s=i.dt.reduce(((e,t)=>{const r=t.slice(0,1).toUpperCase()+t.slice(1),i={[`colorPalette${r}Background2`]:n.cc[t].tint40,[`colorPalette${r}Foreground2`]:n.cc[t].shade30,[`colorPalette${r}BorderActive`]:n.cc[t].primary};return Object.assign(e,i)}),{}),l={...a,...s},c=Object.entries(o.s).reduce(((e,[t,r])=>{const i=t.slice(0,1).toUpperCase()+t.slice(1),o={[`colorStatus${i}Background1`]:n.Ul[r].tint60,[`colorStatus${i}Background2`]:n.Ul[r].tint40,[`colorStatus${i}Background3`]:n.Ul[r].primary,[`colorStatus${i}Foreground1`]:n.Ul[r].shade10,[`colorStatus${i}Foreground2`]:n.Ul[r].shade30,[`colorStatus${i}Foreground3`]:n.Ul[r].primary,[`colorStatus${i}ForegroundInverted`]:n.Ul[r].tint30,[`colorStatus${i}BorderActive`]:n.Ul[r].primary,[`colorStatus${i}Border1`]:n.Ul[r].tint40,[`colorStatus${i}Border2`]:n.Ul[r].primary};return Object.assign(e,o)}),{});c.colorStatusDangerBackground3Hover=n.Ul[o.s.danger].shade10,c.colorStatusDangerBackground3Pressed=n.Ul[o.s.danger].shade20,c.colorStatusWarningForeground1=n.Ul[o.s.warning].shade20,c.colorStatusWarningForeground3=n.Ul[o.s.warning].shade20,c.colorStatusWarningBorder2=n.Ul[o.s.warning].shade20},23362:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});const n={borderRadiusNone:"0",borderRadiusSmall:"2px",borderRadiusMedium:"4px",borderRadiusLarge:"6px",borderRadiusXLarge:"8px",borderRadiusCircular:"10000px"}},75173:(e,t,r)=>{"use strict";r.d(t,{oZ:()=>n});const n={10:"#061724",20:"#082338",30:"#0a2e4a",40:"#0c3b5e",50:"#0e4775",60:"#0f548c",70:"#115ea3",80:"#0f6cbd",90:"#2886de",100:"#479ef5",110:"#62abf5",120:"#77b7f7",130:"#96c6fa",140:"#b4d6fa",150:"#cfe4fa",160:"#ebf3fc"}},25392:(e,t,r)=>{"use strict";r.d(t,{Ul:()=>a,cc:()=>o,yd:()=>i});var n=r(54118);const i={red:n.wv,green:n.wL,darkOrange:n.je,yellow:n.D9,berry:n.pT,lightGreen:n.EM,marigold:n.KK},o={darkRed:n.ik,cranberry:n.jF,pumpkin:n.Vv,peach:n.WB,gold:n.bK,brass:n.YA,brown:n.Xk,forest:n.CE,seafoam:n.$T,darkGreen:n.AV,lightTeal:n.JW,teal:n.$S,steel:n.s$,blue:n.z1,royalBlue:n.Os,cornflower:n.um,navy:n.Z,lavender:n.Us,purple:n.Zp,grape:n.QH,lilac:n.qn,pink:n.Vu,magenta:n.GC,plum:n.t1,beige:n.Zz,mink:n.QJ,platinum:n.X1,anchor:n.Y3},a={cranberry:n.jF,green:n.wL,orange:n.T_}},54118:(e,t,r)=>{"use strict";r.d(t,{$S:()=>I,$T:()=>x,AV:()=>_,CE:()=>M,D9:()=>f,EM:()=>S,GC:()=>D,JW:()=>T,KK:()=>y,ON:()=>a,Oh:()=>n,Os:()=>L,Q1:()=>o,QH:()=>G,QJ:()=>W,Ql:()=>s,T_:()=>p,Us:()=>E,Vu:()=>R,Vv:()=>h,WB:()=>m,X1:()=>j,Xk:()=>v,Y3:()=>Y,YA:()=>b,Z:()=>Z,Zp:()=>z,Zz:()=>O,bK:()=>g,c8:()=>i,ik:()=>l,jF:()=>c,je:()=>d,pT:()=>P,qn:()=>A,s$:()=>C,t1:()=>X,um:()=>N,wL:()=>w,wv:()=>u,z1:()=>k});const n={2:"#050505",4:"#0a0a0a",6:"#0f0f0f",8:"#141414",10:"#1a1a1a",12:"#1f1f1f",14:"#242424",16:"#292929",18:"#2e2e2e",20:"#333333",22:"#383838",24:"#3d3d3d",26:"#424242",28:"#474747",30:"#4d4d4d",32:"#525252",34:"#575757",36:"#5c5c5c",38:"#616161",40:"#666666",42:"#6b6b6b",44:"#707070",46:"#757575",48:"#7a7a7a",50:"#808080",52:"#858585",54:"#8a8a8a",56:"#8f8f8f",58:"#949494",60:"#999999",62:"#9e9e9e",64:"#a3a3a3",66:"#a8a8a8",68:"#adadad",70:"#b3b3b3",72:"#b8b8b8",74:"#bdbdbd",76:"#c2c2c2",78:"#c7c7c7",80:"#cccccc",82:"#d1d1d1",84:"#d6d6d6",86:"#dbdbdb",88:"#e0e0e0",90:"#e6e6e6",92:"#ebebeb",94:"#f0f0f0",96:"#f5f5f5",98:"#fafafa"},i={5:"rgba(255, 255, 255, 0.05)",10:"rgba(255, 255, 255, 0.1)",20:"rgba(255, 255, 255, 0.2)",30:"rgba(255, 255, 255, 0.3)",40:"rgba(255, 255, 255, 0.4)",50:"rgba(255, 255, 255, 0.5)",60:"rgba(255, 255, 255, 0.6)",70:"rgba(255, 255, 255, 0.7)",80:"rgba(255, 255, 255, 0.8)",90:"rgba(255, 255, 255, 0.9)"},o={5:"rgba(0, 0, 0, 0.05)",10:"rgba(0, 0, 0, 0.1)",20:"rgba(0, 0, 0, 0.2)",30:"rgba(0, 0, 0, 0.3)",40:"rgba(0, 0, 0, 0.4)",50:"rgba(0, 0, 0, 0.5)",60:"rgba(0, 0, 0, 0.6)",70:"rgba(0, 0, 0, 0.7)",80:"rgba(0, 0, 0, 0.8)",90:"rgba(0, 0, 0, 0.9)"},a="#ffffff",s="#000000",l={shade50:"#130204",shade40:"#230308",shade30:"#420610",shade20:"#590815",shade10:"#690a19",primary:"#750b1c",tint10:"#861b2c",tint20:"#962f3f",tint30:"#ac4f5e",tint40:"#d69ca5",tint50:"#e9c7cd",tint60:"#f9f0f2"},c={shade50:"#200205",shade40:"#3b0509",shade30:"#6e0811",shade20:"#960b18",shade10:"#b10e1c",primary:"#c50f1f",tint10:"#cc2635",tint20:"#d33f4c",tint30:"#dc626d",tint40:"#eeacb2",tint50:"#f6d1d5",tint60:"#fdf3f4"},u={shade50:"#210809",shade40:"#3f1011",shade30:"#751d1f",shade20:"#9f282b",shade10:"#bc2f32",primary:"#d13438",tint10:"#d7494c",tint20:"#dc5e62",tint30:"#e37d80",tint40:"#f1bbbc",tint50:"#f8dadb",tint60:"#fdf6f6"},d={shade50:"#230900",shade40:"#411200",shade30:"#7a2101",shade20:"#a62d01",shade10:"#c43501",primary:"#da3b01",tint10:"#de501c",tint20:"#e36537",tint30:"#e9835e",tint40:"#f4bfab",tint50:"#f9dcd1",tint60:"#fdf6f3"},h={shade50:"#200d03",shade40:"#3d1805",shade30:"#712d09",shade20:"#9a3d0c",shade10:"#b6480e",primary:"#ca5010",tint10:"#d06228",tint20:"#d77440",tint30:"#df8e64",tint40:"#efc4ad",tint50:"#f7dfd2",tint60:"#fdf7f4"},p={shade50:"#271002",shade40:"#4a1e04",shade30:"#8a3707",shade20:"#bc4b09",shade10:"#de590b",primary:"#f7630c",tint10:"#f87528",tint20:"#f98845",tint30:"#faa06b",tint40:"#fdcfb4",tint50:"#fee5d7",tint60:"#fff9f5"},m={shade50:"#291600",shade40:"#4d2a00",shade30:"#8f4e00",shade20:"#c26a00",shade10:"#e67e00",primary:"#ff8c00",tint10:"#ff9a1f",tint20:"#ffa83d",tint30:"#ffba66",tint40:"#ffddb3",tint50:"#ffedd6",tint60:"#fffaf5"},y={shade50:"#251a00",shade40:"#463100",shade30:"#835b00",shade20:"#b27c00",shade10:"#d39300",primary:"#eaa300",tint10:"#edad1c",tint20:"#efb839",tint30:"#f2c661",tint40:"#f9e2ae",tint50:"#fcefd3",tint60:"#fefbf4"},f={shade50:"#282400",shade40:"#4c4400",shade30:"#817400",shade20:"#c0ad00",shade10:"#e4cc00",primary:"#fde300",tint10:"#fde61e",tint20:"#fdea3d",tint30:"#feee66",tint40:"#fef7b2",tint50:"#fffad6",tint60:"#fffef5"},g={shade50:"#1f1900",shade40:"#3a2f00",shade30:"#6c5700",shade20:"#937700",shade10:"#ae8c00",primary:"#c19c00",tint10:"#c8a718",tint20:"#d0b232",tint30:"#dac157",tint40:"#ecdfa5",tint50:"#f5eece",tint60:"#fdfbf2"},b={shade50:"#181202",shade40:"#2e2103",shade30:"#553e06",shade20:"#745408",shade10:"#89640a",primary:"#986f0b",tint10:"#a47d1e",tint20:"#b18c34",tint30:"#c1a256",tint40:"#e0cea2",tint50:"#efe4cb",tint60:"#fbf8f2"},v={shade50:"#170e07",shade40:"#2b1a0e",shade30:"#50301a",shade20:"#6c4123",shade10:"#804d29",primary:"#8e562e",tint10:"#9c663f",tint20:"#a97652",tint30:"#bb8f6f",tint40:"#ddc3b0",tint50:"#edded3",tint60:"#faf7f4"},M={shade50:"#0c1501",shade40:"#162702",shade30:"#294903",shade20:"#376304",shade10:"#427505",primary:"#498205",tint10:"#599116",tint20:"#6ba02b",tint30:"#85b44c",tint40:"#bdd99b",tint50:"#dbebc7",tint60:"#f6faf0"},x={shade50:"#002111",shade40:"#003d20",shade30:"#00723b",shade20:"#009b51",shade10:"#00b85f",primary:"#00cc6a",tint10:"#19d279",tint20:"#34d889",tint30:"#5ae0a0",tint40:"#a8f0cd",tint50:"#cff7e4",tint60:"#f3fdf8"},S={shade50:"#031a02",shade40:"#063004",shade30:"#0b5a08",shade20:"#0e7a0b",shade10:"#11910d",primary:"#13a10e",tint10:"#27ac22",tint20:"#3db838",tint30:"#5ec75a",tint40:"#a7e3a5",tint50:"#cef0cd",tint60:"#f2fbf2"},w={shade50:"#031403",shade40:"#052505",shade30:"#094509",shade20:"#0c5e0c",shade10:"#0e700e",primary:"#107c10",tint10:"#218c21",tint20:"#359b35",tint30:"#54b054",tint40:"#9fd89f",tint50:"#c9eac9",tint60:"#f1faf1"},_={shade50:"#021102",shade40:"#032003",shade30:"#063b06",shade20:"#085108",shade10:"#0a5f0a",primary:"#0b6a0b",tint10:"#1a7c1a",tint20:"#2d8e2d",tint30:"#4da64d",tint40:"#9ad29a",tint50:"#c6e7c6",tint60:"#f0f9f0"},T={shade50:"#001d1f",shade40:"#00373a",shade30:"#00666d",shade20:"#008b94",shade10:"#00a5af",primary:"#00b7c3",tint10:"#18bfca",tint20:"#32c8d1",tint30:"#58d3db",tint40:"#a6e9ed",tint50:"#cef3f5",tint60:"#f2fcfd"},I={shade50:"#001516",shade40:"#012728",shade30:"#02494c",shade20:"#026467",shade10:"#037679",primary:"#038387",tint10:"#159195",tint20:"#2aa0a4",tint30:"#4cb4b7",tint40:"#9bd9db",tint50:"#c7ebec",tint60:"#f0fafa"},C={shade50:"#000f12",shade40:"#001b22",shade30:"#00333f",shade20:"#004555",shade10:"#005265",primary:"#005b70",tint10:"#0f6c81",tint20:"#237d92",tint30:"#4496a9",tint40:"#94c8d4",tint50:"#c3e1e8",tint60:"#eff7f9"},k={shade50:"#001322",shade40:"#002440",shade30:"#004377",shade20:"#005ba1",shade10:"#006cbf",primary:"#0078d4",tint10:"#1a86d9",tint20:"#3595de",tint30:"#5caae5",tint40:"#a9d3f2",tint50:"#d0e7f8",tint60:"#f3f9fd"},L={shade50:"#000c16",shade40:"#00172a",shade30:"#002c4e",shade20:"#003b6a",shade10:"#00467e",primary:"#004e8c",tint10:"#125e9a",tint20:"#286fa8",tint30:"#4a89ba",tint40:"#9abfdc",tint50:"#c7dced",tint60:"#f0f6fa"},N={shade50:"#0d1126",shade40:"#182047",shade30:"#2c3c85",shade20:"#3c51b4",shade10:"#4760d5",primary:"#4f6bed",tint10:"#637cef",tint20:"#778df1",tint30:"#93a4f4",tint40:"#c8d1fa",tint50:"#e1e6fc",tint60:"#f7f9fe"},Z={shade50:"#00061d",shade40:"#000c36",shade30:"#001665",shade20:"#001e89",shade10:"#0023a2",primary:"#0027b4",tint10:"#173bbd",tint20:"#3050c6",tint30:"#546fd2",tint40:"#a3b2e8",tint50:"#ccd5f3",tint60:"#f2f4fc"},E={shade50:"#120f25",shade40:"#221d46",shade30:"#3f3682",shade20:"#5649b0",shade10:"#6656d1",primary:"#7160e8",tint10:"#8172eb",tint20:"#9184ee",tint30:"#a79cf1",tint40:"#d2ccf8",tint50:"#e7e4fb",tint60:"#f9f8fe"},z={shade50:"#0f0717",shade40:"#1c0e2b",shade30:"#341a51",shade20:"#46236e",shade10:"#532982",primary:"#5c2e91",tint10:"#6b3f9e",tint20:"#7c52ab",tint30:"#9470bd",tint40:"#c6b1de",tint50:"#e0d3ed",tint60:"#f7f4fb"},G={shade50:"#160418",shade40:"#29072e",shade30:"#4c0d55",shade20:"#671174",shade10:"#7a1589",primary:"#881798",tint10:"#952aa4",tint20:"#a33fb1",tint30:"#b55fc1",tint40:"#d9a7e0",tint50:"#eaceef",tint60:"#faf2fb"},P={shade50:"#1f091d",shade40:"#3a1136",shade30:"#6d2064",shade20:"#932b88",shade10:"#af33a1",primary:"#c239b3",tint10:"#c94cbc",tint20:"#d161c4",tint30:"#da7ed0",tint40:"#edbbe7",tint50:"#f5daf2",tint60:"#fdf5fc"},A={shade50:"#1c0b1f",shade40:"#35153a",shade30:"#63276d",shade20:"#863593",shade10:"#9f3faf",primary:"#b146c2",tint10:"#ba58c9",tint20:"#c36bd1",tint30:"#cf87da",tint40:"#e6bfed",tint50:"#f2dcf5",tint60:"#fcf6fd"},R={shade50:"#24091b",shade40:"#441232",shade30:"#80215d",shade20:"#ad2d7e",shade10:"#cd3595",primary:"#e43ba6",tint10:"#e750b0",tint20:"#ea66ba",tint30:"#ef85c8",tint40:"#f7c0e3",tint50:"#fbddf0",tint60:"#fef6fb"},D={shade50:"#1f0013",shade40:"#390024",shade30:"#6b0043",shade20:"#91005a",shade10:"#ac006b",primary:"#bf0077",tint10:"#c71885",tint20:"#ce3293",tint30:"#d957a8",tint40:"#eca5d1",tint50:"#f5cee6",tint60:"#fcf2f9"},X={shade50:"#13000c",shade40:"#240017",shade30:"#43002b",shade20:"#5a003b",shade10:"#6b0045",primary:"#77004d",tint10:"#87105d",tint20:"#98246f",tint30:"#ad4589",tint40:"#d696c0",tint50:"#e9c4dc",tint60:"#faf0f6"},O={shade50:"#141313",shade40:"#252323",shade30:"#444241",shade20:"#5d5958",shade10:"#6e6968",primary:"#7a7574",tint10:"#8a8584",tint20:"#9a9594",tint30:"#afabaa",tint40:"#d7d4d4",tint50:"#eae8e8",tint60:"#faf9f9"},W={shade50:"#0f0e0e",shade40:"#1c1b1a",shade30:"#343231",shade20:"#474443",shade10:"#54514f",primary:"#5d5a58",tint10:"#706d6b",tint20:"#84817e",tint30:"#9e9b99",tint40:"#cecccb",tint50:"#e5e4e3",tint60:"#f8f8f8"},j={shade50:"#111314",shade40:"#1f2426",shade30:"#3b4447",shade20:"#505c60",shade10:"#5f6d71",primary:"#69797e",tint10:"#79898d",tint20:"#89989d",tint30:"#a0adb2",tint40:"#cdd6d8",tint50:"#e4e9ea",tint60:"#f8f9fa"},Y={shade50:"#090a0b",shade40:"#111315",shade30:"#202427",shade20:"#2b3135",shade10:"#333a3f",primary:"#394146",tint10:"#4d565c",tint20:"#626c72",tint30:"#808a90",tint40:"#bcc3c7",tint50:"#dbdfe1",tint60:"#f6f7f8"}},76546:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});const n={curveAccelerateMax:"cubic-bezier(0.9,0.1,1,0.2)",curveAccelerateMid:"cubic-bezier(1,0,1,1)",curveAccelerateMin:"cubic-bezier(0.8,0,0.78,1)",curveDecelerateMax:"cubic-bezier(0.1,0.9,0.2,1)",curveDecelerateMid:"cubic-bezier(0,0,0,1)",curveDecelerateMin:"cubic-bezier(0.33,0,0.1,1)",curveEasyEaseMax:"cubic-bezier(0.8,0,0.2,1)",curveEasyEase:"cubic-bezier(0.33,0,0.67,1)",curveLinear:"cubic-bezier(0,0,1,1)"}},34009:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});const n={durationUltraFast:"50ms",durationFaster:"100ms",durationFast:"150ms",durationNormal:"200ms",durationGentle:"250ms",durationSlow:"300ms",durationSlower:"400ms",durationUltraSlow:"500ms"}},2478:(e,t,r)=>{"use strict";r.d(t,{GR:()=>n,NM:()=>o,aI:()=>a,lm:()=>i});const n={fontSizeBase100:"10px",fontSizeBase200:"12px",fontSizeBase300:"14px",fontSizeBase400:"16px",fontSizeBase500:"20px",fontSizeBase600:"24px",fontSizeHero700:"28px",fontSizeHero800:"32px",fontSizeHero900:"40px",fontSizeHero1000:"68px"},i={lineHeightBase100:"14px",lineHeightBase200:"16px",lineHeightBase300:"20px",lineHeightBase400:"22px",lineHeightBase500:"28px",lineHeightBase600:"32px",lineHeightHero700:"36px",lineHeightHero800:"40px",lineHeightHero900:"52px",lineHeightHero1000:"92px"},o={fontWeightRegular:400,fontWeightMedium:500,fontWeightSemibold:600,fontWeightBold:700},a={fontFamilyBase:"'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif",fontFamilyMonospace:"Consolas, 'Courier New', Courier, monospace",fontFamilyNumeric:"Bahnschrift, 'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif"}},8336:(e,t,r)=>{"use strict";r.d(t,{F:()=>u,b:()=>c});const n="10px",i="12px",o="16px",a="20px",s="24px",l="32px",c={spacingHorizontalNone:"0",spacingHorizontalXXS:"2px",spacingHorizontalXS:"4px",spacingHorizontalSNudge:"6px",spacingHorizontalS:"8px",spacingHorizontalMNudge:n,spacingHorizontalM:i,spacingHorizontalL:o,spacingHorizontalXL:a,spacingHorizontalXXL:s,spacingHorizontalXXXL:l},u={spacingVerticalNone:"0",spacingVerticalXXS:"2px",spacingVerticalXS:"4px",spacingVerticalSNudge:"6px",spacingVerticalS:"8px",spacingVerticalMNudge:n,spacingVerticalM:i,spacingVerticalL:o,spacingVerticalXL:a,spacingVerticalXXL:s,spacingVerticalXXXL:l}},119:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});const n={strokeWidthThin:"1px",strokeWidthThick:"2px",strokeWidthThicker:"3px",strokeWidthThickest:"4px"}},11888:(e,t,r)=>{"use strict";r.d(t,{TQ:()=>n,dt:()=>i});const n=["red","green","darkOrange","yellow","berry","lightGreen","marigold"],i=["darkRed","cranberry","pumpkin","peach","gold","brass","brown","forest","seafoam","darkGreen","lightTeal","teal","steel","blue","royalBlue","cornflower","navy","lavender","purple","grape","lilac","pink","magenta","plum","beige","mink","platinum","anchor"]},87757:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});const n={success:"green",warning:"orange",danger:"cranberry"}},97059:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var n=r(72719),i=r(75173);const o=(0,n.a)(i.oZ)},12558:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});const n={colorNeutralForeground1:"var(--colorNeutralForeground1)",colorNeutralForeground1Hover:"var(--colorNeutralForeground1Hover)",colorNeutralForeground1Pressed:"var(--colorNeutralForeground1Pressed)",colorNeutralForeground1Selected:"var(--colorNeutralForeground1Selected)",colorNeutralForeground2:"var(--colorNeutralForeground2)",colorNeutralForeground2Hover:"var(--colorNeutralForeground2Hover)",colorNeutralForeground2Pressed:"var(--colorNeutralForeground2Pressed)",colorNeutralForeground2Selected:"var(--colorNeutralForeground2Selected)",colorNeutralForeground2BrandHover:"var(--colorNeutralForeground2BrandHover)",colorNeutralForeground2BrandPressed:"var(--colorNeutralForeground2BrandPressed)",colorNeutralForeground2BrandSelected:"var(--colorNeutralForeground2BrandSelected)",colorNeutralForeground3:"var(--colorNeutralForeground3)",colorNeutralForeground3Hover:"var(--colorNeutralForeground3Hover)",colorNeutralForeground3Pressed:"var(--colorNeutralForeground3Pressed)",colorNeutralForeground3Selected:"var(--colorNeutralForeground3Selected)",colorNeutralForeground3BrandHover:"var(--colorNeutralForeground3BrandHover)",colorNeutralForeground3BrandPressed:"var(--colorNeutralForeground3BrandPressed)",colorNeutralForeground3BrandSelected:"var(--colorNeutralForeground3BrandSelected)",colorNeutralForeground4:"var(--colorNeutralForeground4)",colorNeutralForegroundDisabled:"var(--colorNeutralForegroundDisabled)",colorBrandForegroundLink:"var(--colorBrandForegroundLink)",colorBrandForegroundLinkHover:"var(--colorBrandForegroundLinkHover)",colorBrandForegroundLinkPressed:"var(--colorBrandForegroundLinkPressed)",colorBrandForegroundLinkSelected:"var(--colorBrandForegroundLinkSelected)",colorNeutralForeground2Link:"var(--colorNeutralForeground2Link)",colorNeutralForeground2LinkHover:"var(--colorNeutralForeground2LinkHover)",colorNeutralForeground2LinkPressed:"var(--colorNeutralForeground2LinkPressed)",colorNeutralForeground2LinkSelected:"var(--colorNeutralForeground2LinkSelected)",colorCompoundBrandForeground1:"var(--colorCompoundBrandForeground1)",colorCompoundBrandForeground1Hover:"var(--colorCompoundBrandForeground1Hover)",colorCompoundBrandForeground1Pressed:"var(--colorCompoundBrandForeground1Pressed)",colorNeutralForegroundOnBrand:"var(--colorNeutralForegroundOnBrand)",colorNeutralForegroundInverted:"var(--colorNeutralForegroundInverted)",colorNeutralForegroundInvertedHover:"var(--colorNeutralForegroundInvertedHover)",colorNeutralForegroundInvertedPressed:"var(--colorNeutralForegroundInvertedPressed)",colorNeutralForegroundInvertedSelected:"var(--colorNeutralForegroundInvertedSelected)",colorNeutralForegroundInverted2:"var(--colorNeutralForegroundInverted2)",colorNeutralForegroundStaticInverted:"var(--colorNeutralForegroundStaticInverted)",colorNeutralForegroundInvertedLink:"var(--colorNeutralForegroundInvertedLink)",colorNeutralForegroundInvertedLinkHover:"var(--colorNeutralForegroundInvertedLinkHover)",colorNeutralForegroundInvertedLinkPressed:"var(--colorNeutralForegroundInvertedLinkPressed)",colorNeutralForegroundInvertedLinkSelected:"var(--colorNeutralForegroundInvertedLinkSelected)",colorNeutralForegroundInvertedDisabled:"var(--colorNeutralForegroundInvertedDisabled)",colorBrandForeground1:"var(--colorBrandForeground1)",colorBrandForeground2:"var(--colorBrandForeground2)",colorBrandForeground2Hover:"var(--colorBrandForeground2Hover)",colorBrandForeground2Pressed:"var(--colorBrandForeground2Pressed)",colorNeutralForeground1Static:"var(--colorNeutralForeground1Static)",colorBrandForegroundInverted:"var(--colorBrandForegroundInverted)",colorBrandForegroundInvertedHover:"var(--colorBrandForegroundInvertedHover)",colorBrandForegroundInvertedPressed:"var(--colorBrandForegroundInvertedPressed)",colorBrandForegroundOnLight:"var(--colorBrandForegroundOnLight)",colorBrandForegroundOnLightHover:"var(--colorBrandForegroundOnLightHover)",colorBrandForegroundOnLightPressed:"var(--colorBrandForegroundOnLightPressed)",colorBrandForegroundOnLightSelected:"var(--colorBrandForegroundOnLightSelected)",colorNeutralBackground1:"var(--colorNeutralBackground1)",colorNeutralBackground1Hover:"var(--colorNeutralBackground1Hover)",colorNeutralBackground1Pressed:"var(--colorNeutralBackground1Pressed)",colorNeutralBackground1Selected:"var(--colorNeutralBackground1Selected)",colorNeutralBackground2:"var(--colorNeutralBackground2)",colorNeutralBackground2Hover:"var(--colorNeutralBackground2Hover)",colorNeutralBackground2Pressed:"var(--colorNeutralBackground2Pressed)",colorNeutralBackground2Selected:"var(--colorNeutralBackground2Selected)",colorNeutralBackground3:"var(--colorNeutralBackground3)",colorNeutralBackground3Hover:"var(--colorNeutralBackground3Hover)",colorNeutralBackground3Pressed:"var(--colorNeutralBackground3Pressed)",colorNeutralBackground3Selected:"var(--colorNeutralBackground3Selected)",colorNeutralBackground4:"var(--colorNeutralBackground4)",colorNeutralBackground4Hover:"var(--colorNeutralBackground4Hover)",colorNeutralBackground4Pressed:"var(--colorNeutralBackground4Pressed)",colorNeutralBackground4Selected:"var(--colorNeutralBackground4Selected)",colorNeutralBackground5:"var(--colorNeutralBackground5)",colorNeutralBackground5Hover:"var(--colorNeutralBackground5Hover)",colorNeutralBackground5Pressed:"var(--colorNeutralBackground5Pressed)",colorNeutralBackground5Selected:"var(--colorNeutralBackground5Selected)",colorNeutralBackground6:"var(--colorNeutralBackground6)",colorNeutralBackgroundInverted:"var(--colorNeutralBackgroundInverted)",colorNeutralBackgroundStatic:"var(--colorNeutralBackgroundStatic)",colorNeutralBackgroundAlpha:"var(--colorNeutralBackgroundAlpha)",colorNeutralBackgroundAlpha2:"var(--colorNeutralBackgroundAlpha2)",colorSubtleBackground:"var(--colorSubtleBackground)",colorSubtleBackgroundHover:"var(--colorSubtleBackgroundHover)",colorSubtleBackgroundPressed:"var(--colorSubtleBackgroundPressed)",colorSubtleBackgroundSelected:"var(--colorSubtleBackgroundSelected)",colorSubtleBackgroundLightAlphaHover:"var(--colorSubtleBackgroundLightAlphaHover)",colorSubtleBackgroundLightAlphaPressed:"var(--colorSubtleBackgroundLightAlphaPressed)",colorSubtleBackgroundLightAlphaSelected:"var(--colorSubtleBackgroundLightAlphaSelected)",colorSubtleBackgroundInverted:"var(--colorSubtleBackgroundInverted)",colorSubtleBackgroundInvertedHover:"var(--colorSubtleBackgroundInvertedHover)",colorSubtleBackgroundInvertedPressed:"var(--colorSubtleBackgroundInvertedPressed)",colorSubtleBackgroundInvertedSelected:"var(--colorSubtleBackgroundInvertedSelected)",colorTransparentBackground:"var(--colorTransparentBackground)",colorTransparentBackgroundHover:"var(--colorTransparentBackgroundHover)",colorTransparentBackgroundPressed:"var(--colorTransparentBackgroundPressed)",colorTransparentBackgroundSelected:"var(--colorTransparentBackgroundSelected)",colorNeutralBackgroundDisabled:"var(--colorNeutralBackgroundDisabled)",colorNeutralBackgroundInvertedDisabled:"var(--colorNeutralBackgroundInvertedDisabled)",colorNeutralStencil1:"var(--colorNeutralStencil1)",colorNeutralStencil2:"var(--colorNeutralStencil2)",colorNeutralStencil1Alpha:"var(--colorNeutralStencil1Alpha)",colorNeutralStencil2Alpha:"var(--colorNeutralStencil2Alpha)",colorBackgroundOverlay:"var(--colorBackgroundOverlay)",colorScrollbarOverlay:"var(--colorScrollbarOverlay)",colorBrandBackground:"var(--colorBrandBackground)",colorBrandBackgroundHover:"var(--colorBrandBackgroundHover)",colorBrandBackgroundPressed:"var(--colorBrandBackgroundPressed)",colorBrandBackgroundSelected:"var(--colorBrandBackgroundSelected)",colorCompoundBrandBackground:"var(--colorCompoundBrandBackground)",colorCompoundBrandBackgroundHover:"var(--colorCompoundBrandBackgroundHover)",colorCompoundBrandBackgroundPressed:"var(--colorCompoundBrandBackgroundPressed)",colorBrandBackgroundStatic:"var(--colorBrandBackgroundStatic)",colorBrandBackground2:"var(--colorBrandBackground2)",colorBrandBackground2Hover:"var(--colorBrandBackground2Hover)",colorBrandBackground2Pressed:"var(--colorBrandBackground2Pressed)",colorBrandBackground3Static:"var(--colorBrandBackground3Static)",colorBrandBackground4Static:"var(--colorBrandBackground4Static)",colorBrandBackgroundInverted:"var(--colorBrandBackgroundInverted)",colorBrandBackgroundInvertedHover:"var(--colorBrandBackgroundInvertedHover)",colorBrandBackgroundInvertedPressed:"var(--colorBrandBackgroundInvertedPressed)",colorBrandBackgroundInvertedSelected:"var(--colorBrandBackgroundInvertedSelected)",colorNeutralCardBackground:"var(--colorNeutralCardBackground)",colorNeutralCardBackgroundHover:"var(--colorNeutralCardBackgroundHover)",colorNeutralCardBackgroundPressed:"var(--colorNeutralCardBackgroundPressed)",colorNeutralCardBackgroundSelected:"var(--colorNeutralCardBackgroundSelected)",colorNeutralCardBackgroundDisabled:"var(--colorNeutralCardBackgroundDisabled)",colorNeutralStrokeAccessible:"var(--colorNeutralStrokeAccessible)",colorNeutralStrokeAccessibleHover:"var(--colorNeutralStrokeAccessibleHover)",colorNeutralStrokeAccessiblePressed:"var(--colorNeutralStrokeAccessiblePressed)",colorNeutralStrokeAccessibleSelected:"var(--colorNeutralStrokeAccessibleSelected)",colorNeutralStroke1:"var(--colorNeutralStroke1)",colorNeutralStroke1Hover:"var(--colorNeutralStroke1Hover)",colorNeutralStroke1Pressed:"var(--colorNeutralStroke1Pressed)",colorNeutralStroke1Selected:"var(--colorNeutralStroke1Selected)",colorNeutralStroke2:"var(--colorNeutralStroke2)",colorNeutralStroke3:"var(--colorNeutralStroke3)",colorNeutralStrokeSubtle:"var(--colorNeutralStrokeSubtle)",colorNeutralStrokeOnBrand:"var(--colorNeutralStrokeOnBrand)",colorNeutralStrokeOnBrand2:"var(--colorNeutralStrokeOnBrand2)",colorNeutralStrokeOnBrand2Hover:"var(--colorNeutralStrokeOnBrand2Hover)",colorNeutralStrokeOnBrand2Pressed:"var(--colorNeutralStrokeOnBrand2Pressed)",colorNeutralStrokeOnBrand2Selected:"var(--colorNeutralStrokeOnBrand2Selected)",colorBrandStroke1:"var(--colorBrandStroke1)",colorBrandStroke2:"var(--colorBrandStroke2)",colorBrandStroke2Hover:"var(--colorBrandStroke2Hover)",colorBrandStroke2Pressed:"var(--colorBrandStroke2Pressed)",colorBrandStroke2Contrast:"var(--colorBrandStroke2Contrast)",colorCompoundBrandStroke:"var(--colorCompoundBrandStroke)",colorCompoundBrandStrokeHover:"var(--colorCompoundBrandStrokeHover)",colorCompoundBrandStrokePressed:"var(--colorCompoundBrandStrokePressed)",colorNeutralStrokeDisabled:"var(--colorNeutralStrokeDisabled)",colorNeutralStrokeInvertedDisabled:"var(--colorNeutralStrokeInvertedDisabled)",colorTransparentStroke:"var(--colorTransparentStroke)",colorTransparentStrokeInteractive:"var(--colorTransparentStrokeInteractive)",colorTransparentStrokeDisabled:"var(--colorTransparentStrokeDisabled)",colorNeutralStrokeAlpha:"var(--colorNeutralStrokeAlpha)",colorNeutralStrokeAlpha2:"var(--colorNeutralStrokeAlpha2)",colorStrokeFocus1:"var(--colorStrokeFocus1)",colorStrokeFocus2:"var(--colorStrokeFocus2)",colorNeutralShadowAmbient:"var(--colorNeutralShadowAmbient)",colorNeutralShadowKey:"var(--colorNeutralShadowKey)",colorNeutralShadowAmbientLighter:"var(--colorNeutralShadowAmbientLighter)",colorNeutralShadowKeyLighter:"var(--colorNeutralShadowKeyLighter)",colorNeutralShadowAmbientDarker:"var(--colorNeutralShadowAmbientDarker)",colorNeutralShadowKeyDarker:"var(--colorNeutralShadowKeyDarker)",colorBrandShadowAmbient:"var(--colorBrandShadowAmbient)",colorBrandShadowKey:"var(--colorBrandShadowKey)",colorPaletteRedBackground1:"var(--colorPaletteRedBackground1)",colorPaletteRedBackground2:"var(--colorPaletteRedBackground2)",colorPaletteRedBackground3:"var(--colorPaletteRedBackground3)",colorPaletteRedBorderActive:"var(--colorPaletteRedBorderActive)",colorPaletteRedBorder1:"var(--colorPaletteRedBorder1)",colorPaletteRedBorder2:"var(--colorPaletteRedBorder2)",colorPaletteRedForeground1:"var(--colorPaletteRedForeground1)",colorPaletteRedForeground2:"var(--colorPaletteRedForeground2)",colorPaletteRedForeground3:"var(--colorPaletteRedForeground3)",colorPaletteRedForegroundInverted:"var(--colorPaletteRedForegroundInverted)",colorPaletteGreenBackground1:"var(--colorPaletteGreenBackground1)",colorPaletteGreenBackground2:"var(--colorPaletteGreenBackground2)",colorPaletteGreenBackground3:"var(--colorPaletteGreenBackground3)",colorPaletteGreenBorderActive:"var(--colorPaletteGreenBorderActive)",colorPaletteGreenBorder1:"var(--colorPaletteGreenBorder1)",colorPaletteGreenBorder2:"var(--colorPaletteGreenBorder2)",colorPaletteGreenForeground1:"var(--colorPaletteGreenForeground1)",colorPaletteGreenForeground2:"var(--colorPaletteGreenForeground2)",colorPaletteGreenForeground3:"var(--colorPaletteGreenForeground3)",colorPaletteGreenForegroundInverted:"var(--colorPaletteGreenForegroundInverted)",colorPaletteDarkOrangeBackground1:"var(--colorPaletteDarkOrangeBackground1)",colorPaletteDarkOrangeBackground2:"var(--colorPaletteDarkOrangeBackground2)",colorPaletteDarkOrangeBackground3:"var(--colorPaletteDarkOrangeBackground3)",colorPaletteDarkOrangeBorderActive:"var(--colorPaletteDarkOrangeBorderActive)",colorPaletteDarkOrangeBorder1:"var(--colorPaletteDarkOrangeBorder1)",colorPaletteDarkOrangeBorder2:"var(--colorPaletteDarkOrangeBorder2)",colorPaletteDarkOrangeForeground1:"var(--colorPaletteDarkOrangeForeground1)",colorPaletteDarkOrangeForeground2:"var(--colorPaletteDarkOrangeForeground2)",colorPaletteDarkOrangeForeground3:"var(--colorPaletteDarkOrangeForeground3)",colorPaletteYellowBackground1:"var(--colorPaletteYellowBackground1)",colorPaletteYellowBackground2:"var(--colorPaletteYellowBackground2)",colorPaletteYellowBackground3:"var(--colorPaletteYellowBackground3)",colorPaletteYellowBorderActive:"var(--colorPaletteYellowBorderActive)",colorPaletteYellowBorder1:"var(--colorPaletteYellowBorder1)",colorPaletteYellowBorder2:"var(--colorPaletteYellowBorder2)",colorPaletteYellowForeground1:"var(--colorPaletteYellowForeground1)",colorPaletteYellowForeground2:"var(--colorPaletteYellowForeground2)",colorPaletteYellowForeground3:"var(--colorPaletteYellowForeground3)",colorPaletteYellowForegroundInverted:"var(--colorPaletteYellowForegroundInverted)",colorPaletteBerryBackground1:"var(--colorPaletteBerryBackground1)",colorPaletteBerryBackground2:"var(--colorPaletteBerryBackground2)",colorPaletteBerryBackground3:"var(--colorPaletteBerryBackground3)",colorPaletteBerryBorderActive:"var(--colorPaletteBerryBorderActive)",colorPaletteBerryBorder1:"var(--colorPaletteBerryBorder1)",colorPaletteBerryBorder2:"var(--colorPaletteBerryBorder2)",colorPaletteBerryForeground1:"var(--colorPaletteBerryForeground1)",colorPaletteBerryForeground2:"var(--colorPaletteBerryForeground2)",colorPaletteBerryForeground3:"var(--colorPaletteBerryForeground3)",colorPaletteMarigoldBackground1:"var(--colorPaletteMarigoldBackground1)",colorPaletteMarigoldBackground2:"var(--colorPaletteMarigoldBackground2)",colorPaletteMarigoldBackground3:"var(--colorPaletteMarigoldBackground3)",colorPaletteMarigoldBorderActive:"var(--colorPaletteMarigoldBorderActive)",colorPaletteMarigoldBorder1:"var(--colorPaletteMarigoldBorder1)",colorPaletteMarigoldBorder2:"var(--colorPaletteMarigoldBorder2)",colorPaletteMarigoldForeground1:"var(--colorPaletteMarigoldForeground1)",colorPaletteMarigoldForeground2:"var(--colorPaletteMarigoldForeground2)",colorPaletteMarigoldForeground3:"var(--colorPaletteMarigoldForeground3)",colorPaletteLightGreenBackground1:"var(--colorPaletteLightGreenBackground1)",colorPaletteLightGreenBackground2:"var(--colorPaletteLightGreenBackground2)",colorPaletteLightGreenBackground3:"var(--colorPaletteLightGreenBackground3)",colorPaletteLightGreenBorderActive:"var(--colorPaletteLightGreenBorderActive)",colorPaletteLightGreenBorder1:"var(--colorPaletteLightGreenBorder1)",colorPaletteLightGreenBorder2:"var(--colorPaletteLightGreenBorder2)",colorPaletteLightGreenForeground1:"var(--colorPaletteLightGreenForeground1)",colorPaletteLightGreenForeground2:"var(--colorPaletteLightGreenForeground2)",colorPaletteLightGreenForeground3:"var(--colorPaletteLightGreenForeground3)",colorPaletteAnchorBackground2:"var(--colorPaletteAnchorBackground2)",colorPaletteAnchorBorderActive:"var(--colorPaletteAnchorBorderActive)",colorPaletteAnchorForeground2:"var(--colorPaletteAnchorForeground2)",colorPaletteBeigeBackground2:"var(--colorPaletteBeigeBackground2)",colorPaletteBeigeBorderActive:"var(--colorPaletteBeigeBorderActive)",colorPaletteBeigeForeground2:"var(--colorPaletteBeigeForeground2)",colorPaletteBlueBackground2:"var(--colorPaletteBlueBackground2)",colorPaletteBlueBorderActive:"var(--colorPaletteBlueBorderActive)",colorPaletteBlueForeground2:"var(--colorPaletteBlueForeground2)",colorPaletteBrassBackground2:"var(--colorPaletteBrassBackground2)",colorPaletteBrassBorderActive:"var(--colorPaletteBrassBorderActive)",colorPaletteBrassForeground2:"var(--colorPaletteBrassForeground2)",colorPaletteBrownBackground2:"var(--colorPaletteBrownBackground2)",colorPaletteBrownBorderActive:"var(--colorPaletteBrownBorderActive)",colorPaletteBrownForeground2:"var(--colorPaletteBrownForeground2)",colorPaletteCornflowerBackground2:"var(--colorPaletteCornflowerBackground2)",colorPaletteCornflowerBorderActive:"var(--colorPaletteCornflowerBorderActive)",colorPaletteCornflowerForeground2:"var(--colorPaletteCornflowerForeground2)",colorPaletteCranberryBackground2:"var(--colorPaletteCranberryBackground2)",colorPaletteCranberryBorderActive:"var(--colorPaletteCranberryBorderActive)",colorPaletteCranberryForeground2:"var(--colorPaletteCranberryForeground2)",colorPaletteDarkGreenBackground2:"var(--colorPaletteDarkGreenBackground2)",colorPaletteDarkGreenBorderActive:"var(--colorPaletteDarkGreenBorderActive)",colorPaletteDarkGreenForeground2:"var(--colorPaletteDarkGreenForeground2)",colorPaletteDarkRedBackground2:"var(--colorPaletteDarkRedBackground2)",colorPaletteDarkRedBorderActive:"var(--colorPaletteDarkRedBorderActive)",colorPaletteDarkRedForeground2:"var(--colorPaletteDarkRedForeground2)",colorPaletteForestBackground2:"var(--colorPaletteForestBackground2)",colorPaletteForestBorderActive:"var(--colorPaletteForestBorderActive)",colorPaletteForestForeground2:"var(--colorPaletteForestForeground2)",colorPaletteGoldBackground2:"var(--colorPaletteGoldBackground2)",colorPaletteGoldBorderActive:"var(--colorPaletteGoldBorderActive)",colorPaletteGoldForeground2:"var(--colorPaletteGoldForeground2)",colorPaletteGrapeBackground2:"var(--colorPaletteGrapeBackground2)",colorPaletteGrapeBorderActive:"var(--colorPaletteGrapeBorderActive)",colorPaletteGrapeForeground2:"var(--colorPaletteGrapeForeground2)",colorPaletteLavenderBackground2:"var(--colorPaletteLavenderBackground2)",colorPaletteLavenderBorderActive:"var(--colorPaletteLavenderBorderActive)",colorPaletteLavenderForeground2:"var(--colorPaletteLavenderForeground2)",colorPaletteLightTealBackground2:"var(--colorPaletteLightTealBackground2)",colorPaletteLightTealBorderActive:"var(--colorPaletteLightTealBorderActive)",colorPaletteLightTealForeground2:"var(--colorPaletteLightTealForeground2)",colorPaletteLilacBackground2:"var(--colorPaletteLilacBackground2)",colorPaletteLilacBorderActive:"var(--colorPaletteLilacBorderActive)",colorPaletteLilacForeground2:"var(--colorPaletteLilacForeground2)",colorPaletteMagentaBackground2:"var(--colorPaletteMagentaBackground2)",colorPaletteMagentaBorderActive:"var(--colorPaletteMagentaBorderActive)",colorPaletteMagentaForeground2:"var(--colorPaletteMagentaForeground2)",colorPaletteMinkBackground2:"var(--colorPaletteMinkBackground2)",colorPaletteMinkBorderActive:"var(--colorPaletteMinkBorderActive)",colorPaletteMinkForeground2:"var(--colorPaletteMinkForeground2)",colorPaletteNavyBackground2:"var(--colorPaletteNavyBackground2)",colorPaletteNavyBorderActive:"var(--colorPaletteNavyBorderActive)",colorPaletteNavyForeground2:"var(--colorPaletteNavyForeground2)",colorPalettePeachBackground2:"var(--colorPalettePeachBackground2)",colorPalettePeachBorderActive:"var(--colorPalettePeachBorderActive)",colorPalettePeachForeground2:"var(--colorPalettePeachForeground2)",colorPalettePinkBackground2:"var(--colorPalettePinkBackground2)",colorPalettePinkBorderActive:"var(--colorPalettePinkBorderActive)",colorPalettePinkForeground2:"var(--colorPalettePinkForeground2)",colorPalettePlatinumBackground2:"var(--colorPalettePlatinumBackground2)",colorPalettePlatinumBorderActive:"var(--colorPalettePlatinumBorderActive)",colorPalettePlatinumForeground2:"var(--colorPalettePlatinumForeground2)",colorPalettePlumBackground2:"var(--colorPalettePlumBackground2)",colorPalettePlumBorderActive:"var(--colorPalettePlumBorderActive)",colorPalettePlumForeground2:"var(--colorPalettePlumForeground2)",colorPalettePumpkinBackground2:"var(--colorPalettePumpkinBackground2)",colorPalettePumpkinBorderActive:"var(--colorPalettePumpkinBorderActive)",colorPalettePumpkinForeground2:"var(--colorPalettePumpkinForeground2)",colorPalettePurpleBackground2:"var(--colorPalettePurpleBackground2)",colorPalettePurpleBorderActive:"var(--colorPalettePurpleBorderActive)",colorPalettePurpleForeground2:"var(--colorPalettePurpleForeground2)",colorPaletteRoyalBlueBackground2:"var(--colorPaletteRoyalBlueBackground2)",colorPaletteRoyalBlueBorderActive:"var(--colorPaletteRoyalBlueBorderActive)",colorPaletteRoyalBlueForeground2:"var(--colorPaletteRoyalBlueForeground2)",colorPaletteSeafoamBackground2:"var(--colorPaletteSeafoamBackground2)",colorPaletteSeafoamBorderActive:"var(--colorPaletteSeafoamBorderActive)",colorPaletteSeafoamForeground2:"var(--colorPaletteSeafoamForeground2)",colorPaletteSteelBackground2:"var(--colorPaletteSteelBackground2)",colorPaletteSteelBorderActive:"var(--colorPaletteSteelBorderActive)",colorPaletteSteelForeground2:"var(--colorPaletteSteelForeground2)",colorPaletteTealBackground2:"var(--colorPaletteTealBackground2)",colorPaletteTealBorderActive:"var(--colorPaletteTealBorderActive)",colorPaletteTealForeground2:"var(--colorPaletteTealForeground2)",colorStatusSuccessBackground1:"var(--colorStatusSuccessBackground1)",colorStatusSuccessBackground2:"var(--colorStatusSuccessBackground2)",colorStatusSuccessBackground3:"var(--colorStatusSuccessBackground3)",colorStatusSuccessForeground1:"var(--colorStatusSuccessForeground1)",colorStatusSuccessForeground2:"var(--colorStatusSuccessForeground2)",colorStatusSuccessForeground3:"var(--colorStatusSuccessForeground3)",colorStatusSuccessForegroundInverted:"var(--colorStatusSuccessForegroundInverted)",colorStatusSuccessBorderActive:"var(--colorStatusSuccessBorderActive)",colorStatusSuccessBorder1:"var(--colorStatusSuccessBorder1)",colorStatusSuccessBorder2:"var(--colorStatusSuccessBorder2)",colorStatusWarningBackground1:"var(--colorStatusWarningBackground1)",colorStatusWarningBackground2:"var(--colorStatusWarningBackground2)",colorStatusWarningBackground3:"var(--colorStatusWarningBackground3)",colorStatusWarningForeground1:"var(--colorStatusWarningForeground1)",colorStatusWarningForeground2:"var(--colorStatusWarningForeground2)",colorStatusWarningForeground3:"var(--colorStatusWarningForeground3)",colorStatusWarningForegroundInverted:"var(--colorStatusWarningForegroundInverted)",colorStatusWarningBorderActive:"var(--colorStatusWarningBorderActive)",colorStatusWarningBorder1:"var(--colorStatusWarningBorder1)",colorStatusWarningBorder2:"var(--colorStatusWarningBorder2)",colorStatusDangerBackground1:"var(--colorStatusDangerBackground1)",colorStatusDangerBackground2:"var(--colorStatusDangerBackground2)",colorStatusDangerBackground3:"var(--colorStatusDangerBackground3)",colorStatusDangerBackground3Hover:"var(--colorStatusDangerBackground3Hover)",colorStatusDangerBackground3Pressed:"var(--colorStatusDangerBackground3Pressed)",colorStatusDangerForeground1:"var(--colorStatusDangerForeground1)",colorStatusDangerForeground2:"var(--colorStatusDangerForeground2)",colorStatusDangerForeground3:"var(--colorStatusDangerForeground3)",colorStatusDangerForegroundInverted:"var(--colorStatusDangerForegroundInverted)",colorStatusDangerBorderActive:"var(--colorStatusDangerBorderActive)",colorStatusDangerBorder1:"var(--colorStatusDangerBorder1)",colorStatusDangerBorder2:"var(--colorStatusDangerBorder2)",borderRadiusNone:"var(--borderRadiusNone)",borderRadiusSmall:"var(--borderRadiusSmall)",borderRadiusMedium:"var(--borderRadiusMedium)",borderRadiusLarge:"var(--borderRadiusLarge)",borderRadiusXLarge:"var(--borderRadiusXLarge)",borderRadiusCircular:"var(--borderRadiusCircular)",fontFamilyBase:"var(--fontFamilyBase)",fontFamilyMonospace:"var(--fontFamilyMonospace)",fontFamilyNumeric:"var(--fontFamilyNumeric)",fontSizeBase100:"var(--fontSizeBase100)",fontSizeBase200:"var(--fontSizeBase200)",fontSizeBase300:"var(--fontSizeBase300)",fontSizeBase400:"var(--fontSizeBase400)",fontSizeBase500:"var(--fontSizeBase500)",fontSizeBase600:"var(--fontSizeBase600)",fontSizeHero700:"var(--fontSizeHero700)",fontSizeHero800:"var(--fontSizeHero800)",fontSizeHero900:"var(--fontSizeHero900)",fontSizeHero1000:"var(--fontSizeHero1000)",fontWeightRegular:"var(--fontWeightRegular)",fontWeightMedium:"var(--fontWeightMedium)",fontWeightSemibold:"var(--fontWeightSemibold)",fontWeightBold:"var(--fontWeightBold)",lineHeightBase100:"var(--lineHeightBase100)",lineHeightBase200:"var(--lineHeightBase200)",lineHeightBase300:"var(--lineHeightBase300)",lineHeightBase400:"var(--lineHeightBase400)",lineHeightBase500:"var(--lineHeightBase500)",lineHeightBase600:"var(--lineHeightBase600)",lineHeightHero700:"var(--lineHeightHero700)",lineHeightHero800:"var(--lineHeightHero800)",lineHeightHero900:"var(--lineHeightHero900)",lineHeightHero1000:"var(--lineHeightHero1000)",shadow2:"var(--shadow2)",shadow4:"var(--shadow4)",shadow8:"var(--shadow8)",shadow16:"var(--shadow16)",shadow28:"var(--shadow28)",shadow64:"var(--shadow64)",shadow2Brand:"var(--shadow2Brand)",shadow4Brand:"var(--shadow4Brand)",shadow8Brand:"var(--shadow8Brand)",shadow16Brand:"var(--shadow16Brand)",shadow28Brand:"var(--shadow28Brand)",shadow64Brand:"var(--shadow64Brand)",strokeWidthThin:"var(--strokeWidthThin)",strokeWidthThick:"var(--strokeWidthThick)",strokeWidthThicker:"var(--strokeWidthThicker)",strokeWidthThickest:"var(--strokeWidthThickest)",spacingHorizontalNone:"var(--spacingHorizontalNone)",spacingHorizontalXXS:"var(--spacingHorizontalXXS)",spacingHorizontalXS:"var(--spacingHorizontalXS)",spacingHorizontalSNudge:"var(--spacingHorizontalSNudge)",spacingHorizontalS:"var(--spacingHorizontalS)",spacingHorizontalMNudge:"var(--spacingHorizontalMNudge)",spacingHorizontalM:"var(--spacingHorizontalM)",spacingHorizontalL:"var(--spacingHorizontalL)",spacingHorizontalXL:"var(--spacingHorizontalXL)",spacingHorizontalXXL:"var(--spacingHorizontalXXL)",spacingHorizontalXXXL:"var(--spacingHorizontalXXXL)",spacingVerticalNone:"var(--spacingVerticalNone)",spacingVerticalXXS:"var(--spacingVerticalXXS)",spacingVerticalXS:"var(--spacingVerticalXS)",spacingVerticalSNudge:"var(--spacingVerticalSNudge)",spacingVerticalS:"var(--spacingVerticalS)",spacingVerticalMNudge:"var(--spacingVerticalMNudge)",spacingVerticalM:"var(--spacingVerticalM)",spacingVerticalL:"var(--spacingVerticalL)",spacingVerticalXL:"var(--spacingVerticalXL)",spacingVerticalXXL:"var(--spacingVerticalXXL)",spacingVerticalXXXL:"var(--spacingVerticalXXXL)",durationUltraFast:"var(--durationUltraFast)",durationFaster:"var(--durationFaster)",durationFast:"var(--durationFast)",durationNormal:"var(--durationNormal)",durationGentle:"var(--durationGentle)",durationSlow:"var(--durationSlow)",durationSlower:"var(--durationSlower)",durationUltraSlow:"var(--durationUltraSlow)",curveAccelerateMax:"var(--curveAccelerateMax)",curveAccelerateMid:"var(--curveAccelerateMid)",curveAccelerateMin:"var(--curveAccelerateMin)",curveDecelerateMax:"var(--curveDecelerateMax)",curveDecelerateMid:"var(--curveDecelerateMid)",curveDecelerateMin:"var(--curveDecelerateMin)",curveEasyEaseMax:"var(--curveEasyEaseMax)",curveEasyEase:"var(--curveEasyEase)",curveLinear:"var(--curveLinear)",zIndexBackground:"var(--zIndexBackground, 0)",zIndexContent:"var(--zIndexContent, 1)",zIndexOverlay:"var(--zIndexOverlay, 1000)",zIndexPopup:"var(--zIndexPopup, 2000)",zIndexMessages:"var(--zIndexMessages, 3000)",zIndexFloating:"var(--zIndexFloating, 4000)",zIndexPriority:"var(--zIndexPriority, 5000)",zIndexDebug:"var(--zIndexDebug, 6000)"}},72719:(e,t,r)=>{"use strict";r.d(t,{a:()=>h});var n=r(64131),i=r(26010),o=r(23362),a=r(2478),s=r(119),l=r(74729),c=r(34009),u=r(76546),d=r(8336);const h=e=>{const t=(0,i.N)(e);return{...o.V,...a.GR,...a.lm,...a.aI,...a.NM,...s.k,...d.b,...d.F,...c.S,...u.L,...t,...n.h,...n.m,...(0,l.t)(t.colorNeutralShadowAmbient,t.colorNeutralShadowKey),...(0,l.t)(t.colorBrandShadowAmbient,t.colorBrandShadowKey,"Brand")}}},74729:(e,t,r)=>{"use strict";function n(e,t,r=""){return{[`shadow2${r}`]:`0 0 2px ${e}, 0 1px 2px ${t}`,[`shadow4${r}`]:`0 0 2px ${e}, 0 2px 4px ${t}`,[`shadow8${r}`]:`0 0 2px ${e}, 0 4px 8px ${t}`,[`shadow16${r}`]:`0 0 2px ${e}, 0 8px 16px ${t}`,[`shadow28${r}`]:`0 0 8px ${e}, 0 14px 28px ${t}`,[`shadow64${r}`]:`0 0 8px ${e}, 0 32px 64px ${t}`}}r.d(t,{t:()=>n})},36500:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(53864);function i(e,t,r,i=n.A){const o=i();return function(n){const{dir:i,renderer:a}=n,s="ltr"===i?e:t||e;return o(a,Array.isArray(r)?{r}:r),s}}},58413:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(53864),i=r(87294);function o(e,t,r=n.A){const o=r();let a=null,s=null;return function(r){const{dir:n,renderer:l}=r,c="ltr"===n;return c?null===a&&(a=(0,i.N)(e,n)):null===s&&(s=(0,i.N)(e,n)),o(l,t),c?a:s}}},45614:(e,t,r)=>{"use strict";r.d(t,{AX:()=>y,EJ:()=>c,FS:()=>m,ed:()=>l,ez:()=>u,fj:()=>d,k1:()=>s,uq:()=>h,wn:()=>p});var n=r(30327);const i=void 0===n?r.g:n,o="@griffel/";function a(e,t){return i[Symbol.for(o+e)]||(i[Symbol.for(o+e)]=t),i[Symbol.for(o+e)]}const s=a("DEFINITION_LOOKUP_TABLE",{}),l="data-make-styles-bucket",c="data-priority",u=7,d="___",h="_",p=d.length+u,m=0,y=1},53864:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=()=>{const e={};return function(t,r){void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}}},20677:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var n=r(45614),i=r(29255),o=r(87294);const a={};function s(){let e=null,t="",r="";const s=new Array(arguments.length);for(let e=0;e<arguments.length;e++){const i=arguments[e];if("string"==typeof i&&""!==i){const o=i.indexOf(n.fj);if(-1===o)t+=i+" ";else{const a=i.substr(o,n.wn);o>0&&(t+=i.slice(0,o)),r+=a,s[e]=a}}}if(""===r)return t.slice(0,-1);const l=a[r];if(void 0!==l)return t+l;const c=[];for(let t=0;t<arguments.length;t++){const r=s[t];if(r){const t=n.k1[r];t&&(c.push(t[n.FS]),e=t[n.AX])}}const u=Object.assign.apply(Object,[{}].concat(c)),[d,h]=(0,o.z)(u,e),p=(0,i.G)(h,e,s),m=p+" "+d;return a[r]=m,n.k1[p]=[u,e],t+m}},62114:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(50178),i=r(97246),o=r(21737);let a=0;const s=(e,t)=>e<t?-1:e>t?1:0;function l(e=("undefined"==typeof document?void 0:document),t={}){const{classNameHashSalt:r,unstable_filterCSSRule:l,insertionPoint:c,styleElementAttributes:u,compareMediaQueries:d=s}=t,h={classNameHashSalt:r,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(u),compareMediaQueries:d,id:"d"+a++,insertCSSRules(t){for(const r in t){const a=t[r];for(let t=0,s=a.length;t<s;t++){const[s,u]=(0,n.$)(a[t]),d=(0,i.IH)(r,e,c||null,h,u);h.insertionCache[s]||(h.insertionCache[s]=r,l?l(s)&&(0,o.D)(d,s):(0,o.D)(d,s))}}}};return h}},12406:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(45614);function i(e,t,r,i){const o=[];if(i[n.ed]=t,i[n.EJ]=String(r),e)for(const t in i)e.setAttribute(t,i[t]);return{elementAttributes:i,insertRule:function(t){return(null==e?void 0:e.sheet)?e.sheet.insertRule(t,e.sheet.cssRules.length):o.push(t)},element:e,bucketName:t,cssRules:()=>(null==e?void 0:e.sheet)?Array.from(e.sheet.cssRules).map((e=>e.cssText)):o}}},97246:(e,t,r)=>{"use strict";r.d(t,{IH:()=>a});var n=r(45614),i=r(12406);const o=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"].reduce(((e,t,r)=>(e[t]=r,e)),{});function a(e,t,r,a,s={}){var l,c;const u="m"===e,d=null!==(l=s.m)&&void 0!==l?l:"0",h=null!==(c=s.p)&&void 0!==c?c:0,p=function(e,t,r){return("m"===e?e+t:e)+r}(e,d,h);if(!a.stylesheets[p]){const l=t&&t.createElement("style"),c=(0,i.W)(l,e,h,Object.assign({},a.styleElementAttributes,u&&{media:d}));a.stylesheets[p]=c,(null==t?void 0:t.head)&&l&&t.head.insertBefore(l,function(e,t,r,i,a={}){var s,l;const c=o[r],u=null!==(s=a.m)&&void 0!==s?s:"",d=null!==(l=a.p)&&void 0!==l?l:0;let h=e=>c-o[e.getAttribute(n.ed)],p=e.head.querySelectorAll(`[${n.ed}]`);if("m"===r){const t=e.head.querySelectorAll(`[${n.ed}="${r}"]`);t.length&&(p=t,h=e=>i.compareMediaQueries(u,e.media))}const m=p.length;let y=m-1;for(;y>=0;){const e=p.item(y);if((function(e,t,r){var i,o;return t+(null!==(i=r.m)&&void 0!==i?i:"")===e.getAttribute(n.ed)+(null!==(o=e.media)&&void 0!==o?o:"")}(f=e,r,a)?d-Number(f.getAttribute("data-priority")):h(f))>0)return e.nextSibling;y--}var f;return m>0?p.item(0):t?t.nextSibling:null}(t,r,e,a,s))}return a.stylesheets[p]}},21737:(e,t,r)=>{"use strict";function n(e,t){try{e.insertRule(t)}catch(e){}}r.d(t,{D:()=>n})},87294:(e,t,r)=>{"use strict";r.d(t,{N:()=>a,z:()=>o});var n=r(45614),i=r(29255);function o(e,t){let r="",n="";for(const i in e){const o=e[i];if(0===o){n+=i+" ";continue}const a=Array.isArray(o),s="rtl"===t?(a?o[1]:o)+" ":(a?o[0]:o)+" ";r+=s,n+=s}return[r.slice(0,-1),n.slice(0,-1)]}function a(e,t){const r={};for(const a in e){const[s,l]=o(e[a],t);if(""===l){r[a]="";continue}const c=(0,i.G)(l,t),u=c+(""===s?"":" "+s);n.k1[c]=[e[a],t],r[a]=u}return r}},29255:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var n=r(35137),i=r(45614);function o(e,t,r=[]){return i.fj+function(e){const t=e.length;if(t===i.ez)return e;for(let r=t;r<i.ez;r++)e+="0";return e}((0,n.A)(e+t))}},50178:(e,t,r)=>{"use strict";function n(e){return Array.isArray(e)?e:[e]}r.d(t,{$:()=>n})},31531:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(62114),i=r(96540);const o=i.createContext((0,n.I)());function a(){return i.useContext(o)}},56004:(e,t,r)=>{"use strict";r.d(t,{e:()=>o,m:()=>a});var n=r(96540);const i=n.createContext("ltr"),o=({children:e,dir:t})=>n.createElement(i.Provider,{value:t},e);function a(){return n.useContext(i)}},31338:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(36500),i=r(99862),o=r(31531),a=r(56004);function s(e,t,r){const s=(0,n.y)(e,t,r,i.A);return function(){const e=(0,a.m)(),t=(0,o.J)();return s({dir:e,renderer:t})}}},99159:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(58413),i=r(99862),o=r(31531),a=r(56004);function s(e,t){const r=(0,n.X)(e,t,i.A);return function(){const e=(0,a.m)(),t=(0,o.J)();return r({dir:e,renderer:t})}}},99862:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(26468),i=r(10894);const o=()=>{const e={};return function(t,r){i.I&&(0,n.S)()?(0,i.I)((()=>{t.insertCSSRules(r)}),[t,r]):void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}}},10894:(e,t,r)=>{"use strict";var n;r.d(t,{I:()=>o});var i=r(96540);const o=(n||(n=r.t(i,2))).useInsertionEffect?(n||(n=r.t(i,2))).useInsertionEffect:void 0},26468:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(30327);function i(){return void 0!==n&&!(!n.document||!n.document.createElement)}},66002:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthenticationType:()=>td,ControlPosition:()=>s,ControlStyle:()=>l,HtmlMarker:()=>Qu,Map:()=>MX,Pixel:()=>Ts,Popup:()=>Uu,PopupTemplate:()=>wX,Shape:()=>Nl,_getAssetDomain:()=>fh,_getDomain:()=>gh,_hasMaxParallelImageRequests:()=>hh,_hasSetAuthenticationOptions:()=>sh,_hasSetDomain:()=>lh,_hasSetLanguage:()=>ph,_hasSetSessionId:()=>mh,_hasSetStyleDefinitionsPath:()=>ch,_hasSetStyleDefinitionsVersion:()=>uh,_hasSetView:()=>yh,_hasWorkerCount:()=>dh,addImageTemplate:()=>rh,clearPrewarmedResources:()=>ah,control:()=>tc,data:()=>jl,default:()=>TX,getAllImageTemplateNames:()=>ih,getAuthenticationOptions:()=>Ld,getDomain:()=>Zd,getImageTemplate:()=>nh,getLanguage:()=>Rd,getMaxParallelImageRequests:()=>Ad,getSessionId:()=>Dd,getStaticAssetsDomain:()=>Nd,getStyleAPIVersion:()=>Gd,getStyleDefinitionsPath:()=>Ed,getStyleDefinitionsVersion:()=>zd,getSubscriptionKey:()=>Xd,getUserRegion:()=>Od,getVersion:()=>jd,getView:()=>Wd,getWorkerCount:()=>Pd,internal:()=>X,isSupported:()=>Yd,layer:()=>Du,math:()=>Jl,prewarm:()=>oh,setAuthenticationOptions:()=>Fd,setDomain:()=>Vd,setLanguage:()=>Qd,setMaxParallelImageRequests:()=>Jd,setSessionId:()=>qd,setStyleAPIVersion:()=>Bd,setStyleDefinitionsPath:()=>Hd,setStyleDefinitionsVersion:()=>Ud,setSubscriptionKey:()=>$d,setUserRegion:()=>eh,setView:()=>th,setWorkerCount:()=>Kd,source:()=>Zc});var n=r(30327),i=r(65606),o="undefined"!=typeof globalThis?globalThis:void 0!==n?n:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s,l,c={exports:{}},u=(function(){var e;e=function(){var e,t,r;function i(i,o){var a,s;e?t?(a="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",e(s={}),r=o(s),void 0!==n&&(r.workerUrl=n.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))):t=o:e=o}return i(0,(function(e){function t(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x;return t*t+(e=e.y-this.y)*e},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y;return e=e[2]*this.x+e[3]*this.y,this.x=t,this.y=e,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=(e=Math.sin(e),t*this.x-e*this.y);return e=e*this.x+t*this.y,this.x=r,this.y=e,this},_rotateAround:function(e,t){var r=Math.cos(e),n=(e=Math.sin(e),t.x+r*(this.x-t.x)-e*(this.y-t.y));return e=t.y+e*(this.x-t.x)+r*(this.y-t.y),this.x=n,this.y=e,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o||!Array.isArray(e)?e:new o(e[0],e[1])};var a=r(i),s=l;function l(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}l.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(1<e)return 1;for(var r=e,n=0;n<8;n++){var i=this.sampleCurveX(r)-e;if(Math.abs(i)<t)return r;var o=this.sampleCurveDerivativeX(r);if(Math.abs(o)<1e-6)break;r-=i/o}var a=0,s=1;for(r=e,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-e)<t));n++)i<e?a=r:s=r,r=.5*(s-a)+a;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var c=r(s);let u,d;function h(){return u=null==u?"undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap:u}function p(){if(null==d&&(d=!1,h())){var e=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(e){for(let r=0;r<25;r++){var t=4*r;e.fillStyle=`rgb(${t},${1+t},${2+t})`,e.fillRect(r%5,Math.floor(r/5),1,1)}var r=e.getImageData(0,0,5,5).data;for(let e=0;e<100;e++)if(e%4!=3&&r[e]!==e){d=!0;break}}}return d||!1}function m(e,t,r,n){const i=new c(e,t,r,n);return function(e){return i.solve(e)}}function y(e,t,r){return Math.min(r,Math.max(t,e))}function f(e,t,r){var n=r-t;return(e=((e-t)%n+n)%n+t)===t?r:e}function g(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}s=m(.25,.1,.25,1);let b=1;function v(e,t,r){var n={};for(const i in e)n[i]=t.call(r||this,e[i],i,e);return n}function M(e,t,r){var n={};for(const i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function x(e){return Array.isArray(e)?e.map(x):"object"==typeof e&&e?v(e,x):e}const S={};function w(e){S[e]||("undefined"!=typeof console&&console.warn(e),S[e]=!0)}function _(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function T(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}let I=null;function C(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function L(e,r,n,i,o){return t(this,void 0,void 0,(function*(){if("undefined"==typeof VideoFrame)throw new Error("VideoFrame not supported");var t,a,s,l,c,u,d,h,p,m=new VideoFrame(e,{timestamp:0});try{var y=null==m?void 0:m.format;if(!y||!y.startsWith("BGR")&&!y.startsWith("RGB"))throw new Error("Unrecognized format "+y);var f=y.startsWith("BGR"),g=new Uint8ClampedArray(i*o*4);if(yield m.copyTo(g,(t=e,a=r,s=n,l=i,c=o,u=4*Math.max(-a,0),u=(Math.max(0,s)-s)*l*4+u,d=4*l,h=Math.max(0,a),p=Math.max(0,s),{rect:{x:h,y:p,width:Math.min(t.width,a+l)-h,height:Math.min(t.height,s+c)-p},layout:[{offset:u,stride:d}]})),f)for(let e=0;e<g.length;e+=4){var b=g[e];g[e]=g[e+2],g[e+2]=b}return g}finally{m.close()}}))}let N,Z,E,z;const G={now:Ht="undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e){const t=requestAnimationFrame(e);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(e,t=0){return this.getImageCanvasContext(e).getImageData(-t,-t,e.width+2*t,e.height+2*t)},getImageCanvasContext(e){var t=n.document.createElement("canvas"),r=t.getContext("2d",{willReadFrequently:!0});if(r)return t.width=e.width,t.height=e.height,r.drawImage(e,0,0,e.width,e.height),r;throw new Error("failed to create canvas 2d context")},resolveURL:e=>((E=E||document.createElement("a")).href=e,E.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(z=null==z?matchMedia("(prefers-reduced-motion: reduce)"):z).matches}},P={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class A extends Error{constructor(e,t,r,n){super(`AJAXError: ${t} (${e}): `+r),this.status=e,this.statusText=t,this.url=r,this.body=n}}const R=T()?()=>self.worker&&self.worker.referrer:()=>("blob:"===n.location.protocol?n.parent:n).location.href,D=e=>P.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))];function X(e,t){const r=new AbortController,n=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,cache:e.cache,referrer:R(),signal:r.signal});let i=!1,o=!1;"json"===e.type&&n.headers.set("Accept","application/json");return o||fetch(n).then((r=>r.ok?(r=>{("arrayBuffer"===e.type||"image"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((e=>{o||(i=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((e=>{o||t(new Error(e.message))}))})(r):r.blob().then((n=>t(new A(r.status,r.statusText,e.url,n)))))).catch((e=>{20!==e.code&&t(new Error(e.message))})),{cancel:()=>{o=!0,i||r.abort()}}}function O(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(T()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!T())return(D(e.url)||X)(e,t)}if(!(e=>/^file:/.test(e)||/^file:/.test(R())&&!/^\w+:/.test(e))(e.url)){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return X(e,t);if(T()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}{var r=e,n=t;const i=new XMLHttpRequest;i.open(r.method||"GET",r.url,!0),"arrayBuffer"!==r.type&&"image"!==r.type||(i.responseType="arraybuffer");for(const e in r.headers)i.setRequestHeader(e,r.headers[e]);return"json"===r.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===r.credentials,i.onerror=()=>{n(new Error(i.statusText))},i.onload=()=>{if((200<=i.status&&i.status<300||0===i.status)&&null!==i.response){let t=i.response;if("json"===r.type)try{t=JSON.parse(i.response)}catch(e){return n(e)}n(null,t,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else{var e=new Blob([i.response],{type:i.getResponseHeader("Content-Type")});n(new A(i.status,i.statusText,r.url,e))}},i.send(r.body),{cancel:()=>i.abort()}}}const W=function(e,t){return O(g(e,{type:"arrayBuffer"}),t)};function j(e){var t;return!e||e.indexOf("://")<=0||0===e.indexOf("data:image/")||0===e.indexOf("blob:")||(e=new URL(e),t=n.location,e.protocol===t.protocol&&e.host===t.host)}function Y(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function F(e,t,r){r&&r[e]&&-1!==(t=r[e].indexOf(t))&&r[e].splice(t,1)}class V{constructor(e,t={}){g(this,t),this.type=e}}class H extends V{constructor(e,t={}){super("error",g({error:e},t))}}class U{on(e,t){return this._listeners=this._listeners||{},Y(e,t,this._listeners),this}off(e,t){return F(e,t,this._listeners),F(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Y(e,t,this._oneTimeListeners),this):new Promise((t=>this.once(e,t)))}fire(e,t){var r=(e="string"==typeof e?new V(e,t||{}):e).type;if(this.listens(r)){for(const t of(e.target=this)._listeners&&this._listeners[r]?this._listeners[r].slice():[])t.call(this,e);for(const t of this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[])F(r,t,this._oneTimeListeners),t.call(this,e);(t=this._eventedParent)&&(g(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),t.fire(e))}else e instanceof H&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&0<this._listeners[e].length||this._oneTimeListeners&&this._oneTimeListeners[e]&&0<this._oneTimeListeners[e].length||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var B={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const K=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function J(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return;for(let r=0;r<e.length;r++)if(!J(e[r],t[r]))return;return 1}if("object"!=typeof e||null===e||null===t)return e===t;if("object"==typeof t&&Object.keys(e).length===Object.keys(t).length){for(const r in e)if(!J(e[r],t[r]))return;return 1}}const Q={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function q(e,t,r){r.push({command:Q.addSource,args:[e,t[e]]})}function $(e,t,r){t.push({command:Q.removeSource,args:[e]}),r[e]=!0}function ee(e,t,r,n,i,o){let a;for(a in t=t||{},e=e||{})!Object.prototype.hasOwnProperty.call(e,a)||J(e[a],t[a])||r.push({command:o,args:[n,a,t[a],i]});for(a in t)!Object.prototype.hasOwnProperty.call(t,a)||Object.prototype.hasOwnProperty.call(e,a)||J(e[a],t[a])||r.push({command:o,args:[n,a,t[a],i]})}function te(e){return e.id}function re(e,t){return e[t.id]=t,e}class ne{constructor(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function ie(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}class oe extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ae{constructor(e,t=[]){for(var[r,n]of(this.parent=e,this.bindings={},t))this.bindings[r]=n}concat(e){return new ae(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const se={kind:"null"},le={kind:"number"},ce={kind:"string"},ue={kind:"boolean"},de={kind:"color"},he={kind:"object"},pe={kind:"value"},me={kind:"collator"},ye={kind:"formatted"},fe={kind:"padding"},ge={kind:"resolvedImage"},be={kind:"variableAnchorOffsetCollection"};function ve(e,t){return{kind:"array",itemType:e,N:t}}function Me(e){var t;return"array"===e.kind?(t=Me(e.itemType),"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`):e.kind}const xe=[se,le,ce,ue,de,ye,he,ve(pe),fe,ge,be];function Se(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Se(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of xe)if(!Se(e,t))return null}return`Expected ${Me(e)} but found ${Me(t)} instead.`}function we(e,t){return t.some((t=>t.kind===e.kind))}function _e(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}function Te(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}const Ie=.96422,Ce=.82521,ke=4/29,Le=6/29,Ne=3*Le*Le,Ze=Le*Le*Le,Ee=Math.PI/180,ze=180/Math.PI;function Ge(e){return(e%=360)<0&&(e+=360),e}function Pe([e,t,r,n]){let i,o;var a=Re((.2225045*(e=Ae(e))+.7168786*(t=Ae(t))+.0606169*(r=Ae(r)))/1);return[(e===t&&t===r?i=o=a:(i=Re((.4360747*e+.3850649*t+.1430804*r)/Ie),o=Re((.0139322*e+.0971045*t+.7141733*r)/Ce)),(e=116*a-16)<0?0:e),500*(i-a),200*(a-o),n]}function Ae(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Re(e){return e>Ze?Math.pow(e,1/3):e/Ne+ke}function De([e,t,r,n]){return e=(e+16)/116,t=isNaN(t)?e:e+t/500,r=isNaN(r)?e:e-r/200,e=1*Oe(e),[Xe(3.1338561*(t=Ie*Oe(t))-1.6168667*e-.4906146*(r=Ce*Oe(r))),Xe(-.9787684*t+1.9161415*e+.033454*r),Xe(.0719453*t-.2289914*e+1.4052427*r),n]}function Xe(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:1<e?1:e}function Oe(e){return e>Le?e*e*e:Ne*(e-ke)}function We(e){return parseInt(e.padEnd(2,e),16)/255}function je(e,t){return Ye(t?e/100:e,0,1)}function Ye(e,t,r){return Math.min(Math.max(t,e),r)}function Fe(e){return!e.some(Number.isNaN)}const Ve={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class He{constructor(e,t,r,n=1,i=!0){this.r=e,this.g=t,this.b=r,this.a=n,i||(this.r*=n,this.g*=n,this.b*=n,n)||this.overwriteGetter("rgb",[e,t,r,n])}static parse(e){return e instanceof He?e:"string"==typeof e&&(e=function(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];var t,r,n,i;if(i=Ve[e])return[i,a,o]=i,[i/255,a/255,o/255,1];if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e))return i=e.length<6?1:2,[We(e.slice(a=1,a+=i)),We(e.slice(a,a+=i)),We(e.slice(a,a+=i)),We(e.slice(a,a+i)||"ff")];if(e.startsWith("rgb")&&(o=e.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/))){var o,[,a,i,o,s,l,c,u,d,h,p,m]=o;return("  "===(o=[o||" ",c||" ",h].join(""))||"  /"===o||",,"===o||",,,"===o)&&(h="%%%"===(c=[i,l,d].join(""))?100:""===c?255:0)&&Fe(o=[Ye(+a/h,0,1),Ye(+s/h,0,1),Ye(+u/h,0,1),p?je(+p,m):1])?o:void 0}if(i=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/)){var m,[,l,d,c,a,s,u,h,p]=i;if(("  "===(m=[d||" ",a||" ",u].join(""))||"  /"===m||",,"===m||",,,"===m)&&Fe(o=[+l,Ye(+c,0,100),Ye(+s,0,100),h?je(+h,p):1]))return[t,r,n,e]=[o][0],t=Ge(t),r/=100,n/=100,[y(0),y(8),y(4),e]}function y(e){e=(e+t/30)%12;var i=r*Math.min(n,1-n);return n-i*Math.max(-1,Math.min(e-3,9-e,1))}}(e))?new He(...e,!1):void 0}get rgb(){var{r:e,g:t,b:r,a:n}=this,i=n||1/0;return this.overwriteGetter("rgb",[e/i,t/i,r/i,n])}get hcl(){return this.overwriteGetter("hcl",function(e){var[e,t,r,n]=Pe(e),i=Math.sqrt(t*t+r*r);return[Math.round(1e4*i)?Ge(Math.atan2(r,t)*ze):NaN,i,e,n]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Pe(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){var[e,t,r,n]=this.rgb;return`rgba(${[e,t,r].map((e=>Math.round(255*e))).join(",")},${n})`}}He.black=new He(0,0,0,1),He.white=new He(1,1,1,1),He.transparent=new He(0,0,0,0),He.red=new He(1,0,0,1);class Ue{constructor(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale||[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale||[]).resolvedOptions().locale}}class Be{constructor(e,t,r,n,i){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i}}class Ke{constructor(e){this.sections=e}static fromString(e){return new Ke([new Be(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof Ke?e:Ke.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}}class Je{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Je)return e;if("number"==typeof e)return new Je([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||4<e.length)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new Je(e)}}toString(){return JSON.stringify(this.values)}}const Qe=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class qe{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof qe)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let n=0;n<e.length;n+=2){var t=e[n],r=e[n+1];if("string"!=typeof t||!Qe.has(t))return;if(!Array.isArray(r)||2!==r.length||"number"!=typeof r[0]||"number"!=typeof r[1])return}return new qe(e)}}toString(){return JSON.stringify(this.values)}}class $e{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new $e({name:e,available:!1}):null}}function et(e,t,r,n){return"number"==typeof e&&0<=e&&e<=255&&"number"==typeof t&&0<=t&&t<=255&&"number"==typeof r&&0<=r&&r<=255?void 0===n||"number"==typeof n&&0<=n&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function tt(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof He||e instanceof Ue||e instanceof Ke||e instanceof Je||e instanceof qe||e instanceof $e)return 1;if(Array.isArray(e)){for(const t of e)if(!tt(t))return;return 1}if("object"==typeof e){for(const t in e)if(!tt(e[t]))return;return 1}}function rt(e){if(null===e)return se;if("string"==typeof e)return ce;if("boolean"==typeof e)return ue;if("number"==typeof e)return le;if(e instanceof He)return de;if(e instanceof Ue)return me;if(e instanceof Ke)return ye;if(e instanceof Je)return fe;if(e instanceof qe)return be;if(e instanceof $e)return ge;if(Array.isArray(e)){var t=e.length;let n;for(const t of e){var r=rt(t);if(n){if(n!==r){n=pe;break}}else n=r}return ve(n||pe,t)}return he}function nt(e){var t=typeof e;return null===e?"":"string"==t||"number"==t||"boolean"==t?String(e):e instanceof He||e instanceof Ke||e instanceof Je||e instanceof qe||e instanceof $e?e.toString():JSON.stringify(e)}class it{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!tt(e[1]))return t.error("invalid value");let r=rt(e=e[1]);return t=t.expectedType,"array"!==r.kind||0!==r.N||!t||"array"!==t.kind||"number"==typeof t.N&&0!==t.N||(r=t),new it(r,e)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ot{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const at={string:ce,number:le,boolean:ue,object:he};class st{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r,n=1;var i=e[0];if("array"===i){let i,o;if(2<e.length){const r=e[1];if("string"!=typeof r||!(r in at)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=at[r],n++}else i=pe;if(3<e.length){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=ve(i,o)}else{if(!at[i])throw new Error("Types doesn't contain name = "+i);r=at[i]}for(var o=[];n<e.length;n++){var a=t.parse(e[n],n,pe);if(!a)return null;o.push(a)}return new st(r,o)}evaluate(e){for(let r=0;r<this.args.length;r++){var t=this.args[r].evaluate(e);if(!Se(this.type,rt(t)))return t;if(r===this.args.length-1)throw new ot(`Expected value to be of type ${Me(this.type)}, but found ${Me(rt(t))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const lt={"to-boolean":ue,"to-color":de,"to-number":le,"to-string":ce};class ct{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(!lt[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");r=lt[r];var n=[];for(let r=1;r<e.length;r++){var i=t.parse(e[r],r,pe);if(!i)return null;n.push(i)}return new ct(r,n)}evaluate(e){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(e));case"color":{let r,n;for(const i of this.args){if(r=i.evaluate(e),n=null,r instanceof He)return r;if("string"==typeof r){var t=e.parseColor(r);if(t)return t}else if(Array.isArray(r)&&!(n=r.length<3||4<r.length?`Invalid rbga value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.`:et(r[0],r[1],r[2],r[3])))return new He(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new ot(n||`Could not parse color from value '${"string"==typeof r?r:JSON.stringify(r)}'`)}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);var r=Je.parse(t);if(r)return r}throw new ot(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const r of this.args){t=r.evaluate(e);var n=qe.parse(t);if(n)return n}throw new ot(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const r of this.args){if(null===(t=r.evaluate(e)))return 0;var i=Number(t);if(!isNaN(i))return i}throw new ot(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Ke.fromString(nt(this.args[0].evaluate(e)));case"resolvedImage":return $e.fromString(nt(this.args[0].evaluate(e)));default:return nt(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const ut=["Unknown","Point","LineString","Polygon"];class dt{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ut[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){return this._parseColorCache[e]||(this._parseColorCache[e]=He.parse(e))}}class ht{constructor(e,t,r=[],n,i=new ae,o=[]){this.registry=e,this.path=r,this.key=r.map((e=>`[${e}]`)).join(""),this.scope=i,this.errors=o,this.expectedType=n,this._isConstant=t}parse(e,t,r,n,i={}){return(t?this.concat(t,r,n):this)._parse(e,i)}_parse(e,t){function r(e,t,r){return"assert"===r?new st(t,[e]):"coerce"===r?new ct(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;if(i=this.registry[n]){let a=i.parse(e,this);if(!a)return null;if(this.expectedType){var i=this.expectedType,o=a.type;if("string"!==i.kind&&"number"!==i.kind&&"boolean"!==i.kind&&"object"!==i.kind&&"array"!==i.kind||"value"!==o.kind)if("color"!==i.kind&&"formatted"!==i.kind&&"resolvedImage"!==i.kind||"value"!==o.kind&&"string"!==o.kind)if("padding"!==i.kind||"value"!==o.kind&&"number"!==o.kind&&"array"!==o.kind)if("variableAnchorOffsetCollection"!==i.kind||"value"!==o.kind&&"array"!==o.kind){if(this.checkSubtype(i,o))return null}else a=r(a,i,t.typeAnnotation||"coerce");else a=r(a,i,t.typeAnnotation||"coerce");else a=r(a,i,t.typeAnnotation||"coerce");else a=r(a,i,t.typeAnnotation||"assert")}if(!(a instanceof it)&&"resolvedImage"!==a.type.kind&&this._isConstant(a)){o=new dt;try{a=new it(a.type,a.evaluate(o))}catch(n){return this.error(n.message),null}}return a}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){return e="number"==typeof e?this.path.concat(e):this.path,r=r?this.scope.concat(r):this.scope,new ht(this.registry,this._isConstant,e,t||null,r,this.errors)}error(e,...t){t=""+this.key+t.map((e=>`[${e}]`)).join(""),this.errors.push(new oe(t,e))}checkSubtype(e,t){return(e=Se(e,t))&&this.error(e),e}}class pt{constructor(e,t,r){this.type=me,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");if("object"!=typeof(e=e[1])||Array.isArray(e))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==e["case-sensitive"]&&e["case-sensitive"],1,ue);if(!r)return null;var n=t.parse(void 0!==e["diacritic-sensitive"]&&e["diacritic-sensitive"],1,ue);if(!n)return null;let i=null;return e.locale&&!(i=t.parse(e.locale,1,ce))?null:new pt(r,n,i)}evaluate(e){return new Ue(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}const mt=8192;function yt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function ft(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function gt(e,t){var r=(180+e[0])/360;return e=e[1],e=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360,t=Math.pow(2,t.z),[Math.round(r*t*mt),Math.round(e*t*mt)]}function bt(e,t){let r=!1;for(let c=0,u=t.length;c<u;c++){var n=t[c];for(let t=0,c=n.length;t<c-1;t++){if(i=e,o=n[t],a=n[t+1],l=s=void 0,s=i[0]-o[0],o=i[1]-o[1],l=i[0]-a[0],s*(i=i[1]-a[1])-l*o==0&&s*l<=0&&o*i<=0)return;a=e,s=n[t],l=n[t+1],s[1]>a[1]!=l[1]>a[1]&&a[0]<(l[0]-s[0])*(a[1]-s[1])/(l[1]-s[1])+s[0]&&(r=!r)}}var i,o,a,s,l;return r}function vt(e,t,r,n){var i=e[0]-r[0],o=(e=e[1]-r[1],t[0]-r[0]),a=(t=t[1]-r[1],n[0]-r[0]);return r=i*(n=n[1]-r[1])-a*e,i=o*n-a*t,0<r&&i<0||r<0&&0<i}function Mt(e,t,r){for(const c of r)for(let r=0;r<c.length-1;++r)if(n=e,i=t,o=c[r],a=c[r+1],s=[i[0]-n[0],i[1]-n[1]],0!=(l=[a[0]-o[0],a[1]-o[1]])[0]*s[1]-l[1]*s[0]&&vt(n,i,o,a)&&vt(o,a,n,i))return 1;var n,i,o,a,s,l}function xt(e,t){for(let r=0;r<e.length;++r)if(!bt(e[r],t))return;for(let r=0;r<e.length-1;++r)if(Mt(e[r],e[r+1],t))return;return 1}function St(e,t,r){var n=[];for(let a=0;a<e.length;a++){var i=[];for(let n=0;n<e[a].length;n++){var o=gt(e[a][n],r);yt(t,o),i.push(o)}n.push(i)}return n}function wt(e,t,r){var n=[];for(let o=0;o<e.length;o++){var i=St(e[o],t,r);n.push(i)}return n}function _t(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var i=.5*n;let t=e[0]-r[0]>i?-n:r[0]-e[0]>i?n:0;0===t&&(t=e[0]-r[2]>i?-n:r[2]-e[0]>i?n:0),e[0]+=t}yt(t,e)}function Tt(e,t,r,n){var i=Math.pow(2,n.z)*mt,o=[n.x*mt,n.y*mt],a=[];for(const n of e)for(const e of n){var s=[e.x+o[0],e.y+o[1]];_t(s,t,r,i),a.push(s)}return a}function It(e,t,r,n){var i=Math.pow(2,n.z)*mt,o=[n.x*mt,n.y*mt],a=[];for(const r of e){var s=[];for(const e of r){var l=[e.x+o[0],e.y+o[1]];yt(t,l),s.push(l)}a.push(s)}if(t[2]-t[0]<=i/2){(n=t)[0]=n[1]=1/0,n[2]=n[3]=-1/0;for(const e of a)for(const n of e)_t(n,t,r,i)}return a}class Ct{constructor(e,t){this.type=ue,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(tt(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(let e=0;e<r.features.length;++e){var n=r.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new Ct(r,r.features[e].geometry)}else if("Feature"===r.type){if("Polygon"===(e=r.geometry.type)||"MultiPolygon"===e)return new Ct(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new Ct(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=St(t.coordinates,n,i),a=Tt(e.geometry(),r,n,i);if(!ft(r,n))return!1;for(const e of a)if(!bt(e,o))return!1}if("MultiPolygon"===t.type){var s=wt(t.coordinates,n,i);if(a=Tt(e.geometry(),r,n,i),!ft(r,n))return!1;for(const e of a)if(!function(e,t){for(let r=0;r<t.length;r++)if(bt(e,t[r]))return 1}(e,s))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=St(t.coordinates,n,i),a=It(e.geometry(),r,n,i);if(!ft(r,n))return!1;for(const e of a)if(!xt(e,o))return!1}if("MultiPolygon"===t.type){var s=wt(t.coordinates,n,i);if(a=It(e.geometry(),r,n,i),!ft(r,n))return!1;for(const e of a)if(!function(e,t){for(let r=0;r<t.length;r++)if(xt(e,t[r]))return 1}(e,s))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class kt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){return 2!==e.length||"string"!=typeof e[1]?t.error("'var' expression requires exactly one string literal argument."):(e=e[1],t.scope.has(e)?new kt(e,t.scope.get(e)):t.error(`Unknown variable "${e}". Make sure "${e}" has been bound in an enclosing "let" expression before using it.`,1))}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class Lt{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){var r=e[0];if(!(o=Lt.definitions[r]))return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);var n,i,o,a=Array.isArray(o)?o[0]:o.type,s=(o=Array.isArray(o)?[[o[1],o[2]]]:o.overloads).filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let l=null;for([n,i]of s){l=new ht(t.registry,Nt,t.path,null,t.scope);var c=[];let o=!1;for(let t=1;t<e.length;t++){var u=e[t],d=Array.isArray(n)?n[t-1]:n.type;if(!(u=l.parse(u,1+c.length,d))){o=!0;break}c.push(u)}if(!o)if(Array.isArray(n)&&n.length!==c.length)l.error(`Expected ${n.length} arguments, but found ${c.length} instead.`);else{for(let e=0;e<c.length;e++){var h=Array.isArray(n)?n[e]:n.type,p=c[e];l.concat(e+1).checkSubtype(h,p.type)}if(0===l.errors.length)return new Lt(r,a,i,c)}}if(1===s.length)t.errors.push(...l.errors);else{s=(s.length?s:o).map((([e])=>function(e){return Array.isArray(e)?`(${e.map(Me).join(", ")})`:`(${Me(e.type)}...)`}(e))).join(" | ");var m=[];for(let r=1;r<e.length;r++){var y=t.parse(e[r],1+m.length);if(!y)return null;m.push(Me(y.type))}t.error(`Expected arguments of type ${s}, but found (${m.join(", ")}) instead.`)}return null}static register(e,t){for(const r in Lt.definitions=t)e[r]=Lt}}function Nt(e){if(e instanceof kt)return Nt(e.boundExpression);if(e instanceof Lt&&"error"===e.name)return!1;if(e instanceof pt)return!1;if(e instanceof Ct)return!1;const t=e instanceof ct||e instanceof st;let r=!0;return e.eachChild((e=>{r=t?r&&Nt(e):r&&e instanceof it})),!!r&&Zt(e)&&zt(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Zt(e){if(e instanceof Lt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Ct)return!1;let t=!0;return e.eachChild((e=>{t&&!Zt(e)&&(t=!1)})),t}function Et(e){if(!(e instanceof Lt&&"feature-state"===e.name)){let t=!0;return e.eachChild((e=>{t&&!Et(e)&&(t=!1)})),t}}function zt(e,t){if(e instanceof Lt&&0<=t.indexOf(e.name))return!1;let r=!0;return e.eachChild((e=>{r&&!zt(e,t)&&(r=!1)})),r}function Gt(e,t){var r=e.length-1;let n=0,i=r;for(var o,a,s;n<=i;)if(a=e[o=Math.floor((n+i)/2)],s=e[o+1],a<=t){if(o===r||t<s)return o;n=o+1}else{if(!(t<a))throw new ot("Input is not a number.");i=o-1}return 0}class Pt{constructor(e,t,r){for(var[n,i]of(this.type=e,this.input=t,this.labels=[],this.outputs=[],r))this.labels.push(n),this.outputs.push(i)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,le);if(!r)return null;var n=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let r=1;r<e.length;r+=2){var o=1===r?-1/0:e[r],a=e[r+1],s=r,l=r+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);if(!(s=t.parse(a,l,i)))return null;i=i||s.type,n.push([o,s])}return new Pt(i,r,n)}evaluate(e){var t,r,n=this.labels,i=this.outputs;return(1===n.length||(t=this.input.evaluate(e))<=n[0]?i[0]:t>=n[(r=n.length)-1]?i[r-1]:i[Gt(n,t)]).evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function At(e,t,r){return e+r*(t-e)}function Rt(e,t,r){return e.map(((e,n)=>At(e,t[n],r)))}const Dt={number:At,color:function(e,t,r,n="rgb"){switch(n){case"rgb":var[i,o,a,s]=Rt(e.rgb,t.rgb,r);return new He(i,o,a,s,!1);case"hcl":{var[i,o,a,s]=e.hcl,[l,c,u,d]=t.hcl;let n,h;if(isNaN(i)||isNaN(l))isNaN(i)?isNaN(l)?n=NaN:(n=l,1!==a&&0!==a||(h=c)):(n=i,1!==u&&0!==u||(h=o));else{let e=l-i;i<l&&180<e?e-=360:l<i&&180<i-l&&(e+=360),n=i+r*e}[l,i,o,c]=[n,null!=h?h:At(o,c,r),At(a,u,r),At(s,d,r)],l=isNaN(l)?0:l*Ee;var[a,u,s,d]=De([o,Math.cos(l)*i,Math.sin(l)*i,c]);return new He(a,u,s,d,!1)}case"lab":var[l,c,a,u]=De(Rt(e.lab,t.lab,r));return new He(l,c,a,u,!1)}},array:Rt,padding:function(e,t,r){return new Je(Rt(e.values,t.values,r))},variableAnchorOffsetCollection:function(e,t,r){var n=e.values,i=t.values;if(n.length!==i.length)throw new ot(`Cannot interpolate values of different length. from: ${e.toString()}, to: `+t.toString());var o=[];for(let e=0;e<n.length;e+=2){if(n[e]!==i[e])throw new ot(`Cannot interpolate values containing mismatched anchors. from[${e}]: ${n[e]}, to[${e}]: `+i[e]);o.push(n[e]);var[a,s]=n[e+1],[l,c]=i[e+1];o.push([At(a,l,r),At(s,c,r)])}return new qe(o)}};class Xt{constructor(e,t,r,n,i){for(var[o,a]of(this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[],i))this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,r,n){let i=0;return"exponential"===e.name?i=Ot(t,e.base,r,n):"linear"===e.name?i=Ot(t,1,r,n):"cubic-bezier"===e.name&&(e=e.controlPoints,i=(e=new c(e[0],e[1],e[2],e[3])).solve(Ot(t,1,r,n))),i}static parse(e,t){let[r,n,i,...o]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var a=n[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:a}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);if(4!==(a=n.slice(1)).length||a.some((e=>"number"!=typeof e||e<0||1<e)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:a}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,le)))return null;var s=[];let l=null;"interpolate-hcl"===r||"interpolate-lab"===r?l=de:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(let e=0;e<o.length;e+=2){var c=o[e],u=o[e+1],d=e+3,h=e+4;if("number"!=typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(s.length&&s[s.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);if(!(d=t.parse(u,h,l)))return null;l=l||d.type,s.push([c,d])}return Te(l,le)||Te(l,de)||Te(l,fe)||Te(l,be)||Te(l,ve(le))?new Xt(l,r,n,i,s):t.error(`Type ${Me(l)} is not interpolatable.`)}evaluate(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);if(n>=t[(i=t.length)-1])return r[i-1].evaluate(e);var i,o=t[i=Gt(t,n)],a=(t=t[i+1],Xt.interpolationFactor(this.interpolation,n,o,t)),s=r[i].evaluate(e),l=r[i+1].evaluate(e);switch(this.operator){case"interpolate":return Dt[this.type.kind](s,l,a);case"interpolate-hcl":return Dt.color(s,l,a,"hcl");case"interpolate-lab":return Dt.color(s,l,a,"lab")}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function Ot(e,t,r,n){return e-=r,0==(n-=r)?0:1===t?e/n:(Math.pow(t,e)-1)/(Math.pow(t,n)-1)}class Wt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const n=t.expectedType;n&&"value"!==n.kind&&(r=n);var i=[];for(const n of e.slice(1)){var o=t.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!o)return null;r=r||o.type,i.push(o)}if(r)return n&&i.some((e=>Se(n,e.type)))?new Wt(pe,i):new Wt(r,i);throw new Error("No output type")}evaluate(e){let t,r=null,n=0;for(const i of this.args)if(n++,null!==(r=(r=i.evaluate(e))&&r instanceof $e&&!r.available&&(t=t||r.name,r=null,n===this.args.length)?t:r))break;return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}class jt{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);var r=[];for(let o=1;o<e.length-1;o+=2){var n=e[o];if("string"!=typeof n)return t.error(`Expected string, but found ${typeof n} instead.`,o);if(/[^a-zA-Z0-9_]/.test(n))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);var i=t.parse(e[o+1],o+1);if(!i)return null;r.push([n,i])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return o?new jt(r,o):null}outputDefined(){return this.result.outputDefined()}}function Yt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Ft(e,t,r,n){return 0===n.compare(t,r)}function Vt(e,t,r){const n="=="!==e&&"!="!==e;return class i{constructor(e,t,r){this.type=ue,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0];let o=t.parse(e[1],1,pe);if(!o)return null;if(!Yt(r,o.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${Me(o.type)}'.`);let a=t.parse(e[2],2,pe);if(!a)return null;if(!Yt(r,a.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${Me(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${Me(o.type)}' and '${Me(a.type)}'.`);n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new st(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new st(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,me)))return null}return new i(o,a,s)}evaluate(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=rt(o),l=rt(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new ot(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${s.kind}, ${l.kind}) instead.`)}return this.collator&&!n&&this.hasUntypedArgument&&(s=rt(o),l=rt(a),"string"!==s.kind||"string"!==l.kind)?t(i,o,a):this.collator?r(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}var Ht=Vt("==",(function(e,t,r){return t===r}),Ft),Ut=Vt("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!Ft(0,t,r,n)})),Bt=Vt("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),Kt=Vt(">",(function(e,t,r){return r<t}),(function(e,t,r,n){return 0<n.compare(t,r)})),Jt=Vt("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Qt=Vt(">=",(function(e,t,r){return r<=t}),(function(e,t,r,n){return 0<=n.compare(t,r)}));class qt{constructor(e){this.type=ye,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");var n=[];let i=!1;for(let r=1;r<=e.length-1;++r){var o=e[r];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&!(e=t.parse(o["font-scale"],1,le)))return null;let r=null;if(o["text-font"]&&!(r=t.parse(o["text-font"],1,ve(ce))))return null;let a=null;if(o["text-color"]&&!(a=t.parse(o["text-color"],1,de)))return null;(o=n[n.length-1]).scale=e,o.font=r,o.textColor=a}else{if(!(o=t.parse(e[r],1,pe)))return null;var a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:o,scale:null,font:null,textColor:null})}}return new qt(n)}evaluate(e){return new Ke(this.sections.map((t=>{var r=t.content.evaluate(e);return rt(r)===ge?new Be("",r,null,null,null):new Be(nt(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}}const $t={"==":Ht,"!=":Ut,">":Kt,"<":Bt,">=":Qt,"<=":Jt,array:st,at:class e{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(t,r){var n;return 3!==t.length?r.error(`Expected 2 arguments, but found ${t.length-1} instead.`):(n=r.parse(t[1],1,le),t=r.parse(t[2],2,ve(r.expectedType||pe)),n&&t?(r=t.type,new e(r.itemType,n,t)):null)}evaluate(e){var t=this.index.evaluate(e);if(e=this.input.evaluate(e),t<0)throw new ot(`Array index out of bounds: ${t} < 0.`);if(t>=e.length)throw new ot(`Array index out of bounds: ${t} > ${e.length-1}.`);if(t!==Math.floor(t))throw new ot(`Array index must be an integer, but found ${t} instead.`);return e[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}},boolean:st,case:class e{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(t,r){if(t.length<4)return r.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return r.error("Expected an odd number of arguments.");let n;r.expectedType&&"value"!==r.expectedType.kind&&(n=r.expectedType);var i=[];for(let e=1;e<t.length-1;e+=2){var o=r.parse(t[e],e,ue);if(!o)return null;var a=r.parse(t[e+1],e+1,n);if(!a)return null;i.push([o,a]),n=n||a.type}var s=r.parse(t[t.length-1],t.length-1,n);if(!s)return null;if(n)return new e(n,i,s);throw new Error("Can't infer output type")}evaluate(e){for(var[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(var[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every((([,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}},coalesce:Wt,collator:pt,format:qt,image:class e{constructor(e){this.type=ge,this.input=e}static parse(t,r){return 2!==t.length?r.error("Expected two arguments."):(t=r.parse(t[1],1,ce))?new e(t):r.error("No image name provided.")}evaluate(e){var t=this.input.evaluate(e),r=$e.fromString(t);return r&&e.availableImages&&(r.available=-1<e.availableImages.indexOf(t)),r}eachChild(e){e(this.input)}outputDefined(){return!1}},in:class e{constructor(e,t){this.type=ue,this.needle=e,this.haystack=t}static parse(t,r){var n;return 3!==t.length?r.error(`Expected 2 arguments, but found ${t.length-1} instead.`):(n=r.parse(t[1],1,pe),t=r.parse(t[2],2,pe),n&&t?we(n.type,[ue,ce,le,se,pe])?new e(n,t):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Me(n.type)} instead`):null)}evaluate(e){var t=this.needle.evaluate(e);if(!(e=this.haystack.evaluate(e)))return!1;if(!_e(t,["boolean","string","number","null"]))throw new ot(`Expected first argument to be of type boolean, string, number or null, but found ${Me(rt(t))} instead.`);if(_e(e,["string","array"]))return 0<=e.indexOf(t);throw new ot(`Expected second argument to be of type array or string, but found ${Me(rt(e))} instead.`)}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}},"index-of":class e{constructor(e,t,r){this.type=le,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(t,r){var n,i;return t.length<=2||5<=t.length?r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`):(n=r.parse(t[1],1,pe),i=r.parse(t[2],2,pe),n&&i?we(n.type,[ue,ce,le,se,pe])?4===t.length?(t=r.parse(t[3],3,le))?new e(n,i,t):null:new e(n,i):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Me(n.type)} instead`):null)}evaluate(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!_e(t,["boolean","string","number","null"]))throw new ot(`Expected first argument to be of type boolean, string, number or null, but found ${Me(rt(t))} instead.`);if(_e(r,["string","array"]))return this.fromIndex?(e=this.fromIndex.evaluate(e),r.indexOf(t,e)):r.indexOf(t);throw new ot(`Expected second argument to be of type array or string, but found ${Me(rt(r))} instead.`)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}},interpolate:Xt,"interpolate-hcl":Xt,"interpolate-lab":Xt,length:class e{constructor(e){this.type=le,this.input=e}static parse(t,r){return 2!==t.length?r.error(`Expected 1 argument, but found ${t.length-1} instead.`):(t=r.parse(t[1],1))?"array"!==t.type.kind&&"string"!==t.type.kind&&"value"!==t.type.kind?r.error(`Expected argument of type string or array, but found ${Me(t.type)} instead.`):new e(t):null}evaluate(e){if("string"==typeof(e=this.input.evaluate(e)))return e.length;if(Array.isArray(e))return e.length;throw new ot(`Expected value to be of type string or array, but found ${Me(rt(e))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}},let:jt,literal:it,match:class e{constructor(e,t,r,n,i,o){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o}static parse(t,r){if(t.length<5)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return r.error("Expected an even number of arguments.");let n,i;r.expectedType&&"value"!==r.expectedType.kind&&(i=r.expectedType);var o={},a=[];for(let e=2;e<t.length-1;e+=2){let c=t[e];var s=t[e+1],l=(Array.isArray(c)||(c=[c]),r.concat(e));if(0===c.length)return l.error("Expected at least one branch label.");for(const e of c){if("number"!=typeof e&&"string"!=typeof e)return l.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return l.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,rt(e)))return null}else n=rt(e);if(void 0!==o[String(e)])return l.error("Branch labels must be unique.");o[String(e)]=a.length}if(!(s=r.parse(s,e,i)))return null;i=i||s.type,a.push(s)}var c,u=r.parse(t[1],1,pe);return!u||!(c=r.parse(t[t.length-1],t.length-1,i))||"value"!==u.type.kind&&r.concat(1).checkSubtype(n,u.type)?null:new e(n,i,u,o,a,c)}evaluate(e){var t=this.input.evaluate(e);return(rt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}},number:st,"number-format":class e{constructor(e,t,r,n,i){this.type=ce,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i}static parse(t,r){if(3!==t.length)return r.error("Expected two arguments.");var n=r.parse(t[1],1,le);if(!n)return null;if("object"!=typeof(t=t[2])||Array.isArray(t))return r.error("NumberFormat options argument must be an object.");let i=null;if(t.locale&&!(i=r.parse(t.locale,1,ce)))return null;let o=null;if(t.currency&&!(o=r.parse(t.currency,1,ce)))return null;let a=null;if(t["min-fraction-digits"]&&!(a=r.parse(t["min-fraction-digits"],1,le)))return null;let s=null;return t["max-fraction-digits"]&&!(s=r.parse(t["max-fraction-digits"],1,le))?null:new e(n,i,o,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}},object:st,slice:class e{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(t,r){var n,i;return t.length<=2||5<=t.length?r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`):(n=r.parse(t[1],1,pe),i=r.parse(t[2],2,le),n&&i?we(n.type,[ve(pe),ce,pe])?4===t.length?(t=r.parse(t[3],3,le))?new e(n.type,n,i,t):null:new e(n.type,n,i):r.error(`Expected first argument to be of type array or string, but found ${Me(n.type)} instead`):null)}evaluate(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(_e(t,["string","array"]))return this.endIndex?(e=this.endIndex.evaluate(e),t.slice(r,e)):t.slice(r);throw new ot(`Expected first argument to be of type array or string, but found ${Me(rt(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}},step:Pt,string:st,"to-boolean":ct,"to-color":ct,"to-number":ct,"to-string":ct,var:kt,within:Ct};function er(e,[t,r,n,i]){if(e=et(t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e),i=i?i.evaluate(e):1))throw new ot(e);return new He(t/255,r/255,n/255,i,!1)}function tr(e,t){return void 0===(t=t[e])?null:t}function rr(e){return{type:e}}function nr(e){return{result:"success",value:e}}function ir(e){return{result:"error",value:e}}function or(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function ar(e){return e.expression&&-1<e.expression.parameters.indexOf("zoom")}function sr(e){return e.expression&&e.expression.interpolated}function lr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function cr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function ur(e){return e}function dr(e,t){var r="color"===t.type,n=e.stops&&"object"==typeof e.stops[0][0],i=n||void 0!==e.property,o=(i=n||!i,e.type||(sr(t)?"exponential":"interval"));if(r||"padding"===t.type){const n=(r?He:Je).parse;(e=ie({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],n(e[1])]))),e.default?e.default=n(e.default):e.default=n(t.default)}if(e.colorSpace&&"rgb"!==(r=e.colorSpace)&&"hcl"!==r&&"lab"!==r)throw new Error(`Unknown color space: "${e.colorSpace}"`);let a,s,l;if("exponential"===o)a=yr;else if("interval"===o)a=mr;else if("categorical"===o){a=pr,s=Object.create(null);for(const t of e.stops)s[t[0]]=t[1];l=typeof e.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);a=fr}if(n){var c={},u=[];for(let t=0;t<e.stops.length;t++){var d=e.stops[t],h=d[0].zoom;void 0===c[h]&&(c[h]={zoom:h,type:e.type,property:e.property,default:e.default,stops:[]},u.push(h)),c[h].stops.push([d[0].value,d[1]])}const n=[];for(const e of u)n.push([c[e].zoom,dr(c[e],t)]);return{kind:"composite",interpolationType:r={name:"linear"},interpolationFactor:Xt.interpolationFactor.bind(void 0,r),zoomStops:n.map((e=>e[0])),evaluate:({zoom:r},i)=>yr({stops:n,base:e.base},t,r).evaluate(r,i)}}return i?{kind:"camera",interpolationType:n="exponential"===o?{name:"exponential",base:void 0!==e.base?e.base:1}:null,interpolationFactor:Xt.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:r})=>a(e,t,r,s,l)}:{kind:"source",evaluate:(r,n)=>void 0===(n=n&&n.properties?n.properties[e.property]:void 0)?hr(e.default,t.default):a(e,t,n,s,l)}}function hr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function pr(e,t,r,n,i){return hr(typeof r===i?n[r]:void 0,e.default,t.default)}function mr(e,t,r){return"number"!==lr(r)?hr(e.default,t.default):(1===(t=e.stops.length)||r<=e.stops[0][0]?e.stops[0]:r>=e.stops[t-1][0]?e.stops[t-1]:(t=Gt(e.stops.map((e=>e[0])),r),e.stops[t]))[1]}function yr(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==lr(r))return hr(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];i=Gt(e.stops.map((e=>e[0])),r);const o=function(e,t,r,n){return e-=r,0==(n-=r)?0:1===t?e/n:(Math.pow(t,e)-1)/(Math.pow(t,n)-1)}(r,n,e.stops[i][0],e.stops[i+1][0]),a=e.stops[i][1],s=e.stops[i+1][1],l=Dt[t.type]||ur;return"function"==typeof a.evaluate?{evaluate(...t){var r=a.evaluate.apply(void 0,t);if(t=s.evaluate.apply(void 0,t),void 0!==r&&void 0!==t)return l(r,t,o,e.colorSpace)}}:l(a,s,o,e.colorSpace)}function fr(e,t,r){switch(t.type){case"color":r=He.parse(r);break;case"formatted":r=Ke.fromString(r.toString());break;case"resolvedImage":r=$e.fromString(r.toString());break;case"padding":r=Je.parse(r);break;default:lr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0)}return hr(r,e.default,t.default)}Lt.register($t,{error:[{kind:"error"},[ce],(e,[t])=>{throw new ot(t.evaluate(e))}],typeof:[ce,[pe],(e,[t])=>Me(rt(t.evaluate(e)))],"to-rgba":[ve(le,4),[de],(e,[t])=>{var[t,e,r,n]=t.evaluate(e).rgb;return[255*t,255*e,255*r,n]}],rgb:[de,[le,le,le],er],rgba:[de,[le,le,le,le],er],has:{type:ue,overloads:[[[ce],(e,[t])=>t.evaluate(e)in e.properties()],[[ce,he],(e,[t,r])=>t.evaluate(e)in r.evaluate(e)]]},get:{type:pe,overloads:[[[ce],(e,[t])=>tr(t.evaluate(e),e.properties())],[[ce,he],(e,[t,r])=>tr(t.evaluate(e),r.evaluate(e))]]},"feature-state":[pe,[ce],(e,[t])=>tr(t.evaluate(e),e.featureState||{})],properties:[he,[],e=>e.properties()],"geometry-type":[ce,[],e=>e.geometryType()],id:[pe,[],e=>e.id()],zoom:[le,[],e=>e.globals.zoom],"heatmap-density":[le,[],e=>e.globals.heatmapDensity||0],"line-progress":[le,[],e=>e.globals.lineProgress||0],accumulated:[pe,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[le,rr(le),(e,t)=>{let r=0;for(const n of t)r+=n.evaluate(e);return r}],"*":[le,rr(le),(e,t)=>{let r=1;for(const n of t)r*=n.evaluate(e);return r}],"-":{type:le,overloads:[[[le,le],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[le],(e,[t])=>-t.evaluate(e)]]},"/":[le,[le,le],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[le,[le,le],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[le,[],()=>Math.LN2],pi:[le,[],()=>Math.PI],e:[le,[],()=>Math.E],"^":[le,[le,le],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[le,[le],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[le,[le],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[le,[le],(e,[t])=>Math.log(t.evaluate(e))],log2:[le,[le],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[le,[le],(e,[t])=>Math.sin(t.evaluate(e))],cos:[le,[le],(e,[t])=>Math.cos(t.evaluate(e))],tan:[le,[le],(e,[t])=>Math.tan(t.evaluate(e))],asin:[le,[le],(e,[t])=>Math.asin(t.evaluate(e))],acos:[le,[le],(e,[t])=>Math.acos(t.evaluate(e))],atan:[le,[le],(e,[t])=>Math.atan(t.evaluate(e))],min:[le,rr(le),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[le,rr(le),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[le,[le],(e,[t])=>Math.abs(t.evaluate(e))],round:[le,[le],(e,[t])=>(t=t.evaluate(e))<0?-Math.round(-t):Math.round(t)],floor:[le,[le],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[le,[le],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[ue,[ce,pe],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[ue,[pe],(e,[t])=>e.id()===t.value],"filter-type-==":[ue,[ce],(e,[t])=>e.geometryType()===t.value],"filter-<":[ue,[ce,pe],(e,[t,r])=>typeof(e=e.properties()[t.value])==typeof(t=r.value)&&e<t],"filter-id-<":[ue,[pe],(e,[t])=>typeof(e=e.id())==typeof(t=t.value)&&e<t],"filter->":[ue,[ce,pe],(e,[t,r])=>typeof(e=e.properties()[t.value])==typeof(t=r.value)&&t<e],"filter-id->":[ue,[pe],(e,[t])=>typeof(e=e.id())==typeof(t=t.value)&&t<e],"filter-<=":[ue,[ce,pe],(e,[t,r])=>typeof(e=e.properties()[t.value])==typeof(t=r.value)&&e<=t],"filter-id-<=":[ue,[pe],(e,[t])=>typeof(e=e.id())==typeof(t=t.value)&&e<=t],"filter->=":[ue,[ce,pe],(e,[t,r])=>typeof(e=e.properties()[t.value])==typeof(t=r.value)&&t<=e],"filter-id->=":[ue,[pe],(e,[t])=>typeof(e=e.id())==typeof(t=t.value)&&t<=e],"filter-has":[ue,[pe],(e,[t])=>t.value in e.properties()],"filter-has-id":[ue,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[ue,[ve(ce)],(e,[t])=>0<=t.value.indexOf(e.geometryType())],"filter-id-in":[ue,[ve(pe)],(e,[t])=>0<=t.value.indexOf(e.id())],"filter-in-small":[ue,[ce,ve(pe)],(e,[t,r])=>0<=r.value.indexOf(e.properties()[t.value])],"filter-in-large":[ue,[ce,ve(pe)],(e,[t,r])=>{for(var n=e.properties()[t.value],i=r.value,o=0,a=r.value.length-1;o<=a;){var s=o+a>>1;if(i[s]===n)return!0;i[s]>n?a=s-1:o=1+s}return!1}],all:{type:ue,overloads:[[[ue,ue],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[rr(ue),(e,t)=>{for(const r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:ue,overloads:[[[ue,ue],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[rr(ue),(e,t)=>{for(const r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[ue,[ue],(e,[t])=>!t.evaluate(e)],"is-supported-script":[ue,[ce],(e,[t])=>{var r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[ce,[ce],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[ce,[ce],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[ce,rr(pe),(e,t)=>t.map((t=>nt(t.evaluate(e)))).join("")],"resolved-locale":[ce,[me],(e,[t])=>t.evaluate(e).resolvedLocale()]});class gr{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new dt,this._defaultValue=t?function(e){return"color"===e.type&&cr(e.default)?new He(0,0,0,0):"color"===e.type?He.parse(e.default)||null:"padding"===e.type?Je.parse(e.default)||null:"variableAnchorOffsetCollection"===e.type?qe.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(!this._enumValues||a in this._enumValues)return a;throw new ot(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(a)} instead.`)}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function br(e){return Array.isArray(e)&&0<e.length&&"string"==typeof e[0]&&e[0]in $t}function vr(e,t){var r=new ht($t,Nt,[],t?(r={color:de,string:ce,number:le,enum:ce,boolean:ue,formatted:ye,padding:fe,resolvedImage:ge,variableAnchorOffsetCollection:be},"array"!==(n=t).type?r[n.type]:ve(r[n.value]||pe,n.length)):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?nr(new gr(n,t)):ir(r.errors)}class Mr{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Et(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}}class xr{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Et(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}interpolationFactor(e,t,r){return this.interpolationType?Xt.interpolationFactor(this.interpolationType,e,t,r):0}}function Sr(e,t){var r,n,i;return"error"===(e=vr(e,t)).result?e:(r=Zt(n=e.value.expression))||or(t)?(i=zt(n,["zoom"]))||ar(t)?(n=function e(t){let r=null;if(t instanceof jt)r=e(t.result);else if(t instanceof Wt){for(const n of t.args)if(r=e(n))break}else(t instanceof Pt||t instanceof Xt)&&t.input instanceof Lt&&"zoom"===t.input.name&&(r=t);return r instanceof oe||t.eachChild((t=>{const n=e(t);n instanceof oe?r=n:!r&&n?r=new oe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new oe("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r}(n))||i?n instanceof oe?ir([n]):n instanceof Xt&&!sr(t)?ir([new oe("",'"interpolate" expressions cannot be used with this property')]):n?(i=n instanceof Xt?n.interpolation:void 0,nr(new xr(r?"camera":"composite",e.value,n.labels,i))):nr(new Mr(r?"constant":"source",e.value)):ir([new oe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]):ir([new oe("","zoom expressions not supported")]):ir([new oe("","data expressions not supported")])}class wr{constructor(e,t){this._parameters=e,this._specification=t,ie(this,dr(this._parameters,this._specification))}static deserialize(e){return new wr(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function _r(e){if(!0===e||!1===e)return 1;if(Array.isArray(e)&&0!==e.length)switch(e[0]){case"has":return 2<=e.length&&"$id"!==e[1]&&"$type"!==e[1];case"in":return 3<=e.length&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!_r(t)&&"boolean"!=typeof t)return;return 1;default:return 1}}const Tr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ir(e){if(null==e)return{filter:()=>!0,needGeometry:!1};const t=vr(e=_r(e)?e:kr(e),Tr);if("error"===t.result)throw new Error(t.value.map((e=>e.key+": "+e.message)).join(", "));return{filter:(e,r,n)=>t.value.evaluate(e,r,{},n),needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(e)}}function Cr(e,t){return e<t?-1:t<e?1:0}function kr(e){var t,r;return!e||(t=e[0],e.length<=1?"any"!==t:"=="===t?Lr(e[1],e[2],"=="):"!="===t?Er(Lr(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Lr(e[1],e[2],t):"any"===t?(r=e.slice(1),["any"].concat(r.map(kr))):"all"===t?["all"].concat(e.slice(1).map(kr)):"none"===t?["all"].concat(e.slice(1).map(kr).map(Er)):"in"===t?Nr(e[1],e.slice(2)):"!in"===t?Er(Nr(e[1],e.slice(2))):"has"===t?Zr(e[1]):"!has"===t?Er(Zr(e[1])):"within"!==t||e)}function Lr(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Nr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return 200<t.length&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Cr)]]:["filter-in-small",e,["literal",t]]}}function Zr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Er(e){return["!",e]}function zr(e){let t="";for(const r of K)t+="/"+function e(t){var r=typeof t;if("number"==r||"boolean"==r||"string"==r||null==t)return JSON.stringify(t);if(Array.isArray(t)){let r="[";for(const n of t)r+=e(n)+",";return r+"]"}var n=Object.keys(t).sort();let i="{";for(let r=0;r<n.length;r++)i+=`${JSON.stringify(n[r])}:${e(t[n[r]])},`;return i+"}"}(e[r]);return t}function Gr(e){var t=e.key;return(e=e.value)?[new ne(t,e,"constants have been deprecated as of v8")]:[]}function Pr(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Ar(e){if(Array.isArray(e))return e.map(Ar);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(const r in e)t[r]=Ar(e[r]);return t}return Pr(e)}function Rr(e){var t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=e.validateSpec;let l=[];if("object"!==(e=lr(r)))return[new ne(t,r,`object expected, ${e} found`)];for(const e in r){var c=e.split(".")[0],u=n[c]||n["*"];let d;if(i[c])d=i[c];else if(n[c])d=s;else if(i["*"])d=i["*"];else{if(!n["*"]){l.push(new ne(t,r[e],`unknown property "${e}"`));continue}d=s}l=l.concat(d({key:(t&&t+".")+e,value:r[e],valueSpec:u,style:o,styleSpec:a,object:r,objectKey:e,validateSpec:s},r))}for(const e in n)i[e]||n[e].required&&void 0===n[e].default&&void 0===r[e]&&l.push(new ne(t,r,`missing required property "${e}"`));return l}function Dr(e){var t=e.value,r=e.valueSpec,n=e.validateSpec,i=e.style,o=e.styleSpec,a=e.key,s=e.arrayElementValidator||n;if("array"!==lr(t))return[new ne(a,t,`array expected, ${lr(t)} found`)];if(r.length&&t.length!==r.length)return[new ne(a,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new ne(a,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let l={type:r.value,values:r.values},c=(o.$version<7&&(l.function=r.function),"object"===lr(r.value)&&(l=r.value),[]);for(let r=0;r<t.length;r++)c=c.concat(s({array:t,arrayIndex:r,value:t[r],valueSpec:l,validateSpec:e.validateSpec,style:i,styleSpec:o,key:`${a}[${r}]`}));return c}function Xr(e){var t=e.key,r=e.value;e=e.valueSpec;let n=lr(r);return"number"!==(n="number"===n&&r!=r?"NaN":n)?[new ne(t,r,`number expected, ${n} found`)]:"minimum"in e&&r<e.minimum?[new ne(t,r,r+" is less than the minimum value "+e.minimum)]:"maximum"in e&&r>e.maximum?[new ne(t,r,r+" is greater than the maximum value "+e.maximum)]:[]}function Or(e){const t=e.valueSpec,r=Pr(e.value.type);let n,i,o,a={};var s="categorical"!==r&&void 0===e.value.property,l=!s;const c="array"===lr(e.value.stops)&&"array"===lr(e.value.stops[0])&&"object"===lr(e.value.stops[0][0]);var u=Rr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===r)return[new ne(e.key,e.value,'identity function may not have a "stops" property')];let t=[];var n=e.value;return t=t.concat(Dr({key:e.key,value:n,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===lr(n)&&0===n.length&&t.push(new ne(e.key,n,"array must have at least one stop")),t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===r&&s&&u.push(new ne(e.key,e.value,'missing required property "property"')),"identity"===r||e.value.stops||u.push(new ne(e.key,e.value,'missing required property "stops"')),"exponential"===r&&e.valueSpec.expression&&!sr(e.valueSpec)&&u.push(new ne(e.key,e.value,"exponential functions not supported")),8<=e.styleSpec.$version&&(l&&!or(e.valueSpec)?u.push(new ne(e.key,e.value,"property functions not supported")):s&&!ar(e.valueSpec)&&u.push(new ne(e.key,e.value,"zoom functions not supported"))),"categorical"!==r&&!c||void 0!==e.value.property||u.push(new ne(e.key,e.value,'"property" property is required')),u;function d(e){let r=[];var n=e.value,s=e.key;if("array"!==lr(n))return[new ne(s,n,`array expected, ${lr(n)} found`)];if(2!==n.length)return[new ne(s,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==lr(n[0]))return[new ne(s,n,`object expected, ${lr(n[0])} found`)];if(void 0===n[0].zoom)return[new ne(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new ne(s,n,"object stop key must have value")];if(o&&o>Pr(n[0].zoom))return[new ne(s,n[0].zoom,"stop zoom values must appear in ascending order")];Pr(n[0].zoom)!==o&&(o=Pr(n[0].zoom),i=void 0,a={}),r=r.concat(Rr({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Xr,value:h}}))}else r=r.concat(h({key:s+"[0]",value:n[0],valueSpec:{},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},n));return br(Ar(n[1]))?r.concat([new ne(s+"[1]",n[1],"expressions are not allowed in function stops.")]):r.concat(e.validateSpec({key:s+"[1]",value:n[1],valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function h(e,o){var s=lr(e.value),l=Pr(e.value);if(o=null!==e.value?e.value:o,n){if(s!==n)return[new ne(e.key,o,s+" stop domain type must match previous stop domain type "+n)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new ne(e.key,o,"stop domain value must be a number, string, or boolean")];if("number"===s||"categorical"===r)return"categorical"!==r||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===s&&void 0!==i&&l<i?[new ne(e.key,o,"stop domain values must appear in ascending order")]:(i=l,"categorical"===r&&l in a?[new ne(e.key,o,"stop domain values must be unique")]:(a[l]=!0,[])):[new ne(e.key,o,"integer expected, found "+l)];{let n=`number expected, ${s} found`;return or(t)&&void 0===r&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ne(e.key,o,n)]}}}function Wr(e){var t=("property"===e.expressionContext?Sr:vr)(Ar(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new ne(""+e.key+t.key,e.value,t.message)));if(t=t.value.expression||t.value._styleExpression.expression,"property"===e.expressionContext&&"text-font"===e.propertyKey&&!t.outputDefined())return[new ne(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Et(t))return[new ne(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Et(t))return[new ne(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!zt(t,["zoom","feature-state"]))return[new ne(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Zt(t))return[new ne(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function jr(e){var t=e.key,r=e.value,n=(e=e.valueSpec,[]);return Array.isArray(e.values)?-1===e.values.indexOf(Pr(r))&&n.push(new ne(t,r,`expected one of [${e.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(e.values).indexOf(Pr(r))&&n.push(new ne(t,r,`expected one of [${Object.keys(e.values).join(", ")}], ${JSON.stringify(r)} found`)),n}function Yr(e){return _r(Ar(e.value))?Wr(ie({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){const r=t.value,n=t.key;if("array"!==lr(r))return[new ne(n,r,`array expected, ${lr(r)} found`)];const i=t.styleSpec;let o,a=[];if(r.length<1)return[new ne(n,r,"filter array must have at least 1 element")];switch(a=a.concat(jr({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),Pr(r[0])){case"<":case"<=":case">":case">=":2<=r.length&&"$type"===Pr(r[1])&&a.push(new ne(n,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":3!==r.length&&a.push(new ne(n,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":2<=r.length&&"string"!==(o=lr(r[1]))&&a.push(new ne(n+"[1]",r[1],`string expected, ${o} found`));for(let e=2;e<r.length;e++)o=lr(r[e]),"$type"===Pr(r[1])?a=a.concat(jr({key:`${n}[${e}]`,value:r[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new ne(`${n}[${e}]`,r[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let i=1;i<r.length;i++)a=a.concat(e({key:`${n}[${i}]`,value:r[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=lr(r[1]),2!==r.length?a.push(new ne(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new ne(n+"[1]",r[1],`string expected, ${o} found`));break;case"within":o=lr(r[1]),2!==r.length?a.push(new ne(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"object"!==o&&a.push(new ne(n+"[1]",r[1],`object expected, ${o} found`))}return a}(e)}function Fr(e,t){var r=e.key,n=e.validateSpec,i=e.style,o=e.styleSpec,a=e.value,s=e.objectKey,l=o[t+"_"+e.layerType];if(!l)return[];var c=s.match(/^(.*)-transition$/);if("paint"===t&&c&&l[c[1]]&&l[c[1]].transition)return n({key:r,value:a,valueSpec:o.transition,style:i,styleSpec:o});if(!(c=e.valueSpec||l[s]))return[new ne(r,a,`unknown property "${s}"`)];let u;return"string"===lr(a)&&or(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(a))?[new ne(r,a,`"${s}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)]:(l=[],"symbol"===e.layerType&&("text-field"===s&&i&&!i.glyphs&&l.push(new ne(r,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===s)&&cr(Ar(a))&&"identity"===Pr(a.type)&&l.push(new ne(r,a,'"text-font" does not support identity functions')),l.concat(n({key:e.key,value:a,valueSpec:c,style:i,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:s})))}function Vr(e){return Fr(e,"paint")}function Hr(e){return Fr(e,"layout")}function Ur(e){let t=[];const r=e.value,n=e.key;var i,o,a=e.style;const s=e.styleSpec;r.type||r.ref||t.push(new ne(n,r,'either "type" or "ref" is required'));let l=Pr(r.type);const c=Pr(r.ref);if(r.id){var u=Pr(r.id);for(let i=0;i<e.arrayIndex;i++){var d=a.layers[i];Pr(d.id)===u&&t.push(new ne(n,r.id,`duplicate layer id "${r.id}", previously used at line `+d.id.__line__))}}if("ref"in r){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in r&&t.push(new ne(n,r[e],`"${e}" is prohibited for ref layers`))})),a.layers.forEach((t=>{Pr(t.id)===c&&(e=t)})),e?e.ref?t.push(new ne(n,r.ref,"ref cannot reference another ref layer")):l=Pr(e.type):t.push(new ne(n,r.ref,`ref layer "${c}" not found`))}else"background"!==l&&(r.source?(o=(i=a.sources&&a.sources[r.source])&&Pr(i.type),i?"vector"===o&&"raster"===l?t.push(new ne(n,r.source,`layer "${r.id}" requires a raster source`)):"raster-dem"!==o&&"hillshade"===l?t.push(new ne(n,r.source,`layer "${r.id}" requires a raster-dem source`)):"raster"===o&&"raster"!==l?t.push(new ne(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==o||r["source-layer"]?"raster-dem"===o&&"hillshade"!==l?t.push(new ne(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==l||!r.paint||!r.paint["line-gradient"]||"geojson"===o&&i.lineMetrics||t.push(new ne(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new ne(n,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new ne(n,r.source,`source "${r.source}" not found`))):t.push(new ne(n,r,'missing required property "source"')));return t=t.concat(Rr({key:n,value:r,valueSpec:s.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":()=>[],type:()=>e.validateSpec({key:n+".type",value:r.type,valueSpec:s.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:r,objectKey:"type"}),filter:Yr,layout:e=>Rr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>Hr(ie({layerType:l},e))}}),paint:e=>Rr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>Vr(ie({layerType:l},e))}})}}))}function Br(e){var t=e.value,r=(e=e.key,lr(t));return"string"!==r?[new ne(e,t,`string expected, ${r} found`)]:[]}const Kr={promoteId:function({key:e,value:t}){if("string"===lr(t))return Br({key:e,value:t});var r=[];for(const n in t)r.push(...Br({key:e+"."+n,value:t[n]}));return r}};function Jr(e){var t=e.value,r=e.key,n=e.styleSpec,i=e.style,o=e.validateSpec;if(!t.type)return[new ne(r,t,'"type" is required')];var a=Pr(t.type);let s;switch(a){case"vector":case"raster":return Rr({key:r,value:t,valueSpec:n["source_"+a.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:Kr,validateSpec:o});case"raster-dem":return function(e){var t=null!=(s=e.sourceName)?s:"",r=e.value,n=e.styleSpec,i=n.source_raster_dem,o=e.style;let a=[];var s=lr(r);if(void 0!==r)if("object"!==s)a.push(new ne("source_raster_dem",r,`object expected, ${s} found`));else{var l="custom"===Pr(r.encoding),c=["redFactor","greenFactor","blueFactor","baseShift"],u=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const s in r)!l&&c.includes(s)?a.push(new ne(s,r[s],`In "${t}": "${s}" is only valid when "encoding" is set to "custom". ${u} encoding found`)):i[s]?a=a.concat(e.validateSpec({key:s,value:r[s],valueSpec:i[s],validateSpec:e.validateSpec,style:o,styleSpec:n})):a.push(new ne(s,r[s],`unknown property "${s}"`))}return a}({sourceName:r,value:t,style:e.style,styleSpec:n,validateSpec:o});case"geojson":if(s=Rr({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,validateSpec:o,objectElementValidators:Kr}),t.cluster)for(const e in t.clusterProperties){var[l,c]=t.clusterProperties[e],l="string"==typeof l?[l,["accumulated"],["get",e]]:l;s.push(...Wr({key:`${r}.${e}.map`,value:c,validateSpec:o,expressionContext:"cluster-map"})),s.push(...Wr({key:`${r}.${e}.reduce`,value:l,validateSpec:o,expressionContext:"cluster-reduce"}))}return s;case"video":return Rr({key:r,value:t,valueSpec:n.source_video,style:i,validateSpec:o,styleSpec:n});case"image":return Rr({key:r,value:t,valueSpec:n.source_image,style:i,validateSpec:o,styleSpec:n});case"canvas":return[new ne(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return jr({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:n})}}function Qr(e){var t=e.value,r=e.styleSpec,n=r.light,i=e.style;let o=[];var a=lr(t);if(void 0!==t){if("object"!==a)return o.concat([new ne("light",t,`object expected, ${a} found`)]);for(const a in t){var s=a.match(/^(.*)-transition$/);o=s&&n[s[1]]&&n[s[1]].transition?o.concat(e.validateSpec({key:a,value:t[a],valueSpec:r.transition,validateSpec:e.validateSpec,style:i,styleSpec:r})):n[a]?o.concat(e.validateSpec({key:a,value:t[a],valueSpec:n[a],validateSpec:e.validateSpec,style:i,styleSpec:r})):o.concat([new ne(a,t[a],`unknown property "${a}"`)])}}return o}function qr(e){var t=e.value,r=e.styleSpec,n=r.terrain,i=e.style;let o=[];var a=lr(t);if(void 0!==t){if("object"!==a)return o.concat([new ne("terrain",t,`object expected, ${a} found`)]);for(const a in t)o=n[a]?o.concat(e.validateSpec({key:a,value:t[a],valueSpec:n[a],validateSpec:e.validateSpec,style:i,styleSpec:r})):o.concat([new ne(a,t[a],`unknown property "${a}"`)])}return o}function $r(e){let t=[];var r=e.value,n=e.key;if(Array.isArray(r)){var i=[],o=[];for(const a in r)r[a].id&&i.includes(r[a].id)&&t.push(new ne(n,r,`all the sprites' ids must be unique, but ${r[a].id} is duplicated`)),i.push(r[a].id),r[a].url&&o.includes(r[a].url)&&t.push(new ne(n,r,`all the sprites' URLs must be unique, but ${r[a].url} is duplicated`)),o.push(r[a].url),t=t.concat(Rr({key:`${n}[${a}]`,value:r[a],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:e.validateSpec}));return t}return Br({key:n,value:r})}const en={"*":()=>[],array:Dr,boolean:function(e){var t=e.value,r=(e=e.key,lr(t));return"boolean"!==r?[new ne(e,t,`boolean expected, ${r} found`)]:[]},number:Xr,color:function(e){var t=e.key,r=lr(e=e.value);return"string"!==r?[new ne(t,e,`color expected, ${r} found`)]:He.parse(String(e))?[]:[new ne(t,e,`color expected, "${e}" found`)]},constants:Gr,enum:jr,filter:Yr,function:Or,layer:Ur,object:Rr,source:Jr,light:Qr,terrain:qr,string:Br,formatted:function(e){return 0===Br(e).length?[]:Wr(e)},resolvedImage:function(e){return 0===Br(e).length?[]:Wr(e)},padding:function(e){var t=e.key,r=e.value;if("array"!==lr(r))return Xr({key:t,value:r,valueSpec:{}});{if(r.length<1||4<r.length)return[new ne(t,r,`padding requires 1 to 4 values; ${r.length} values found`)];var n={type:"number"};let i=[];for(let o=0;o<r.length;o++)i=i.concat(e.validateSpec({key:`${t}[${o}]`,value:r[o],validateSpec:e.validateSpec,valueSpec:n}));return i}},variableAnchorOffsetCollection:function(e){var t=e.key,r=e.value,n=lr(r),i=e.styleSpec;if("array"!==n||r.length<1||r.length%2!=0)return[new ne(t,r,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let n=0;n<r.length;n+=2)o=(o=o.concat(jr({key:`${t}[${n}]`,value:r[n],valueSpec:i.layout_symbol["text-anchor"]}))).concat(Dr({key:`${t}[${n+1}]`,value:r[n+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o},sprite:$r};function tn(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return e.validateSpec=tn,r.expression&&cr(Pr(t))?Or(e):r.expression&&br(Ar(t))?Wr(e):r.type&&en[r.type]?en[r.type](e):Rr(ie({},e,{valueSpec:r.type?n[r.type]:r}))}function rn(e){var t=e.value,r=e.key;return(e=Br(e)).length||(-1===t.indexOf("{fontstack}")&&e.push(new ne(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&e.push(new ne(r,t,'"glyphs" url must include a "{range}" token'))),e}function nn(e,t=B){let r=[];return r=r.concat(tn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:tn,objectElementValidators:{glyphs:rn,"*":()=>[]}})),an(r=e.constants?r.concat(Gr({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:tn})):r)}function on(e){return function(t){return e({...t,validateSpec:tn})}}function an(e){return[].concat(e).sort(((e,t)=>e.line-t.line))}function sn(e){return function(...t){return an(e.apply(this,t))}}nn.source=sn(on(Jr)),nn.sprite=sn(on($r)),nn.glyphs=sn(on(rn)),nn.light=sn(on(Qr)),nn.terrain=sn(on(qr)),nn.layer=sn(on(Ur)),nn.filter=sn(on(Yr)),nn.paintProperty=sn(on(Vr)),nn.layoutProperty=sn(on(Hr));const ln=nn;Ht=ln.light;const cn=ln.paintProperty,un=ln.layoutProperty;function dn(e,t){let r=!1;if(t&&t.length)for(const n of t)e.fire(new H(new Error(n.message))),r=!0;return r}class hn{constructor(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],t=i[1],r=i[2],this.d=t+2*r;for(let e=0;e<this.d*this.d;e++){var o=i[3+e],a=i[3+e+1];n.push(o===a?null:i.subarray(o,a))}var s=i[3+n.length],l=i[3+n.length+1];this.keys=i.subarray(s,l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*r;for(let e=0;e<this.d*this.d;e++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0,s=r/t*e,this.min=-s,this.max=e+s}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,r,n,i,o){this.cells[i].push(o)}query(e,t,r,n,i){var o=this.min,a=this.max;return e<=o&&t<=o&&a<=r&&a<=n&&!i?Array.prototype.slice.call(this.keys):(this._forEachCell(e,t,r,n,this._queryCell,o=[],{},i),o)}_queryCell(e,t,r,n,i,o,a,s){var l=this.cells[i];if(null!==l){var c=this.keys,u=this.bboxes;for(let i=0;i<l.length;i++){var d,h=l[i];void 0===a[h]&&(d=4*h,(s?s(u[0+d],u[1+d],u[2+d],u[3+d]):e<=u[2+d]&&t<=u[3+d]&&r>=u[0+d]&&n>=u[1+d])?(a[h]=!0,o.push(c[h])):a[h]=!1)}}}_forEachCell(e,t,r,n,i,o,a,s){var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(r),d=this._convertToCellCoord(n);for(let p=l;p<=u;p++)for(let l=c;l<=d;l++){var h=this.d*l+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(l),this._convertFromCellCoord(p+1),this._convertFromCellCoord(l+1)))&&i.call(this,e,t,r,n,h,o,a,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;var e=this.cells,t=3+this.cells.length+1+1;let r=0;for(let e=0;e<this.cells.length;e++)r+=this.cells[e].length;var n=new Int32Array(t+r+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;let i=t;for(let t=0;t<e.length;t++){var o=e[t];n[3+t]=i,n.set(o,i),i+=o.length}return n[3+e.length]=i,n.set(this.keys,i),i+=this.keys.length,n[3+e.length+1]=i,n.set(this.bboxes,i),i+=this.bboxes.length,n.buffer}static serialize(e,t){return e=e.toArrayBuffer(),t&&t.push(e),{buffer:e}}static deserialize(e){return new hn(e.buffer)}}const pn={};function mn(e,t,r={}){if(pn[e])throw new Error(e+" is already registered.");Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),pn[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}mn("Object",Object),mn("TransferableGridIndex",hn),mn("Color",He),mn("Error",Error),mn("AJAXError",A),mn("ResolvedImage",$e),mn("StylePropertyFunction",wr),mn("StyleExpression",gr,{omit:["_evaluator"]}),mn("ZoomDependentExpression",xr),mn("ZoomConstantExpression",Mr),mn("CompoundExpression",Lt,{omit:["_evaluate"]});for(const e in $t)$t[e]._classRegistryKey||mn("Expression_"+e,$t[e]);function yn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function fn(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(yn(e))return t&&t.push(e),e;if(C(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e))return n=e,t&&t.push(n.buffer),n;if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){var r=[];for(const n of e)r.push(fn(n,t));return r}if("object"!=typeof e)throw new Error("can't serialize object of type "+typeof e);var n=e.constructor,i=n._classRegistryKey;if(!i)throw new Error("can't serialize object of unregistered class");if(!pn[i])throw new Error(i+" is not registered.");var o,a=n.serialize?n.serialize(e,t):{};if(n.serialize){if(t&&a===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const r in e)!e.hasOwnProperty(r)||0<=pn[i].omit.indexOf(r)||(o=e[r],a[r]=0<=pn[i].shallow.indexOf(r)?o:fn(o,t));e instanceof Error&&(a.message=e.message)}if(a.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==i&&(a.$name=i),a}function gn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||yn(e)||C(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(gn);if("object"!=typeof e)throw new Error("can't deserialize object of type "+typeof e);var t=e.$name||"Object";if(!pn[t])throw new Error("can't deserialize unregistered class "+t);var r=pn[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);var n,i=Object.create(r.prototype);for(const r of Object.keys(e))"$name"!==r&&(n=e[r],i[r]=0<=pn[t].shallow.indexOf(r)?n:gn(n));return i}class bn{constructor(){this.first=!0}update(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))}}const vn={"Latin-1 Supplement":e=>128<=e&&e<=255,Arabic:e=>1536<=e&&e<=1791,"Arabic Supplement":e=>1872<=e&&e<=1919,"Arabic Extended-A":e=>2208<=e&&e<=2303,"Hangul Jamo":e=>4352<=e&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>5120<=e&&e<=5759,Khmer:e=>6016<=e&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>6320<=e&&e<=6399,"General Punctuation":e=>8192<=e&&e<=8303,"Letterlike Symbols":e=>8448<=e&&e<=8527,"Number Forms":e=>8528<=e&&e<=8591,"Miscellaneous Technical":e=>8960<=e&&e<=9215,"Control Pictures":e=>9216<=e&&e<=9279,"Optical Character Recognition":e=>9280<=e&&e<=9311,"Enclosed Alphanumerics":e=>9312<=e&&e<=9471,"Geometric Shapes":e=>9632<=e&&e<=9727,"Miscellaneous Symbols":e=>9728<=e&&e<=9983,"Miscellaneous Symbols and Arrows":e=>11008<=e&&e<=11263,"CJK Radicals Supplement":e=>11904<=e&&e<=12031,"Kangxi Radicals":e=>12032<=e&&e<=12255,"Ideographic Description Characters":e=>12272<=e&&e<=12287,"CJK Symbols and Punctuation":e=>12288<=e&&e<=12351,Hiragana:e=>12352<=e&&e<=12447,Katakana:e=>12448<=e&&e<=12543,Bopomofo:e=>12544<=e&&e<=12591,"Hangul Compatibility Jamo":e=>12592<=e&&e<=12687,Kanbun:e=>12688<=e&&e<=12703,"Bopomofo Extended":e=>12704<=e&&e<=12735,"CJK Strokes":e=>12736<=e&&e<=12783,"Katakana Phonetic Extensions":e=>12784<=e&&e<=12799,"Enclosed CJK Letters and Months":e=>12800<=e&&e<=13055,"CJK Compatibility":e=>13056<=e&&e<=13311,"CJK Unified Ideographs Extension A":e=>13312<=e&&e<=19903,"Yijing Hexagram Symbols":e=>19904<=e&&e<=19967,"CJK Unified Ideographs":e=>19968<=e&&e<=40959,"Yi Syllables":e=>40960<=e&&e<=42127,"Yi Radicals":e=>42128<=e&&e<=42191,"Hangul Jamo Extended-A":e=>43360<=e&&e<=43391,"Hangul Syllables":e=>44032<=e&&e<=55215,"Hangul Jamo Extended-B":e=>55216<=e&&e<=55295,"Private Use Area":e=>57344<=e&&e<=63743,"CJK Compatibility Ideographs":e=>63744<=e&&e<=64255,"Arabic Presentation Forms-A":e=>64336<=e&&e<=65023,"Vertical Forms":e=>65040<=e&&e<=65055,"CJK Compatibility Forms":e=>65072<=e&&e<=65103,"Small Form Variants":e=>65104<=e&&e<=65135,"Arabic Presentation Forms-B":e=>65136<=e&&e<=65279,"Halfwidth and Fullwidth Forms":e=>65280<=e&&e<=65519};function Mn(e){for(const t of e)if(Sn(t.charCodeAt(0)))return!0;return!1}function xn(e){for(const r of e)if(t=r.charCodeAt(0),vn.Arabic(t)||vn["Arabic Supplement"](t)||vn["Arabic Extended-A"](t)||vn["Arabic Presentation Forms-A"](t)||vn["Arabic Presentation Forms-B"](t))return;var t;return 1}function Sn(e){return 746===e||747===e||!(e<4352)&&(vn["Bopomofo Extended"](e)||vn.Bopomofo(e)||vn["CJK Compatibility Forms"](e)&&!(65097<=e&&e<=65103)||vn["CJK Compatibility Ideographs"](e)||vn["CJK Compatibility"](e)||vn["CJK Radicals Supplement"](e)||vn["CJK Strokes"](e)||!(!vn["CJK Symbols and Punctuation"](e)||12296<=e&&e<=12305||12308<=e&&e<=12319||12336===e)||vn["CJK Unified Ideographs Extension A"](e)||vn["CJK Unified Ideographs"](e)||vn["Enclosed CJK Letters and Months"](e)||vn["Hangul Compatibility Jamo"](e)||vn["Hangul Jamo Extended-A"](e)||vn["Hangul Jamo Extended-B"](e)||vn["Hangul Jamo"](e)||vn["Hangul Syllables"](e)||vn.Hiragana(e)||vn["Ideographic Description Characters"](e)||vn.Kanbun(e)||vn["Kangxi Radicals"](e)||vn["Katakana Phonetic Extensions"](e)||vn.Katakana(e)&&12540!==e||!(!vn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||65306<=e&&e<=65310||65339===e||65341===e||65343===e||65371<=e&&e<=65503||65507===e||65512<=e&&e<=65519)||!(!vn["Small Form Variants"](e)||65112<=e&&e<=65118||65123<=e&&e<=65126)||vn["Unified Canadian Aboriginal Syllabics"](e)||vn["Unified Canadian Aboriginal Syllabics Extended"](e)||vn["Vertical Forms"](e)||vn["Yijing Hexagram Symbols"](e)||vn["Yi Syllables"](e)||!!vn["Yi Radicals"](e))}function wn(e){return!(Sn(e)||vn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||vn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||vn["Letterlike Symbols"](e)||vn["Number Forms"](e)||vn["Miscellaneous Technical"](e)&&(8960<=e&&e<=8967||8972<=e&&e<=8991||8996<=e&&e<=9e3||9003===e||9085<=e&&e<=9114||9150<=e&&e<=9165||9167===e||9169<=e&&e<=9179||9186<=e&&e<=9215)||vn["Control Pictures"](e)&&9251!==e||vn["Optical Character Recognition"](e)||vn["Enclosed Alphanumerics"](e)||vn["Geometric Shapes"](e)||vn["Miscellaneous Symbols"](e)&&!(9754<=e&&e<=9759)||vn["Miscellaneous Symbols and Arrows"](e)&&(11026<=e&&e<=11055||11088<=e&&e<=11097||11192<=e&&e<=11243)||vn["CJK Symbols and Punctuation"](e)||vn.Katakana(e)||vn["Private Use Area"](e)||vn["CJK Compatibility Forms"](e)||vn["Small Form Variants"](e)||vn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||9984<=e&&e<=10087||10102<=e&&e<=10131||65532===e||65533===e)}function _n(e){return 1424<=e&&e<=2303||vn["Arabic Presentation Forms-A"](e)||vn["Arabic Presentation Forms-B"](e)}const Tn="deferred",In="loading",Cn="loaded";let kn=null,Ln="unavailable",Nn=null;const Zn=function(e){e&&"string"==typeof e&&-1<e.indexOf("NetworkError")&&(Ln="error"),kn&&kn(e)};function En(){Gn.fire(new V("pluginStateChange",{pluginStatus:Ln,pluginURL:Nn}))}function zn(){return Ln}const Gn=new U;function Pn(){if(Ln!==Tn||!Nn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ln=In,En(),Nn&&W({url:Nn},(e=>{e?Zn(e):(Ln=Cn,En())}))}const An={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ln===Cn||null!=An.applyArabicShaping,isLoading:()=>Ln===In,setState(e){if(!T())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Ln=e.pluginStatus,Nn=e.pluginURL},isParsed(){if(T())return null!=An.applyArabicShaping&&null!=An.processBidirectionalText&&null!=An.processStyledBidirectionalText;throw new Error("rtl-text-plugin is only parsed on the worker-threads")},getPluginURL(){if(T())return Nn;throw new Error("rtl-text-plugin url can only be queried from the worker threads")}};class Rn{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new bn,this.transition={})}isSupportedScript(e){return function(e,t){for(const n of e)if(r=n.charCodeAt(0),!t&&_n(r)||2304<=r&&r<=3583||3840<=r&&r<=4255||vn.Khmer(r))return!1;var r;return!0}(e,An.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}}}class Dn{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(cr(e))return new wr(e,t);if(br(e)){var r=Sr(e,t);if("error"===r.result)throw new Error(r.value.map((e=>e.key+": "+e.message)).join(", "));return r.value}{let r=e;return"color"===t.type&&"string"==typeof e?r=He.parse(e):"padding"!==t.type||"number"!=typeof e&&!Array.isArray(e)?"variableAnchorOffsetCollection"===t.type&&Array.isArray(e)&&(r=qe.parse(e)):r=Je.parse(e),{kind:"constant",evaluate:()=>r}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)}}class Xn{constructor(e){this.property=e,this.value=new Dn(e,void 0)}transitioned(e,t){return new Wn(this.property,this.value,t,g({},e.transition,this.transition),e.now)}untransitioned(){return new Wn(this.property,this.value,null,{},0)}}class On{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return x(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Xn(this._values[e].property)),this._values[e].value=new Dn(this._values[e].property,null===t?void 0:x(t))}getTransition(e){return x(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Xn(this._values[e].property)),this._values[e].transition=x(t)||void 0}serialize(){var e={};for(const r of Object.keys(this._values)){var t;void 0!==(void 0!==(t=this.getValue(r))&&(e[r]=t),t=this.getTransition(r))&&(e[r+"-transition"]=t)}return e}transitioned(e,t){var r=new jn(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(e,t._values[n]);return r}untransitioned(){var e=new jn(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Wn{constructor(e,t,r,n,i){this.property=e,this.value=t,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)}possiblyEvaluate(e,t,r){var n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),o=this.prior;return o?n>this.end||this.value.isDataDriven()?(this.prior=null,i):n<this.begin?o.possiblyEvaluate(e,t,r):(n=(n-this.begin)/(this.end-this.begin),this.property.interpolate(o.possiblyEvaluate(e,t,r),i,function(e){var t,r;return e<=0?0:1<=e?1:(r=(t=e*e)*e,4*(e<.5?r:3*(e-t)+r-.75))}(n))):i}}class jn{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,r){var n=new Vn(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Yn{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}hasValue(e){return void 0!==this._values[e].value}getValue(e){return x(this._values[e].value)}setValue(e,t){this._values[e]=new Dn(this._values[e].property,null===t?void 0:x(t))}serialize(){var e={};for(const r of Object.keys(this._values)){var t=this.getValue(r);void 0!==t&&(e[r]=t)}return e}possiblyEvaluate(e,t,r){var n=new Vn(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}}class Fn{constructor(e,t,r){this.property=e,this.value=t,this.parameters=r}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)}}class Vn{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class Hn{constructor(e){this.specification=e}possiblyEvaluate(e,t){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(t)}interpolate(e,t,r){var n=this.specification.type;return(n=Dt[n])?n(e,t,r):e}}class Un{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,r,n){return"constant"===e.expression.kind||"camera"===e.expression.kind?new Fn(this,{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)},t):new Fn(this,e.expression,t)}interpolate(e,t,r){var n;return"constant"!==e.value.kind||"constant"!==t.value.kind?e:void 0===e.value.value||void 0===t.value.value?new Fn(this,{kind:"constant",value:void 0},e.parameters):(n=this.specification.type,(n=Dt[n])?(n=n(e.value.value,t.value.value,r),new Fn(this,{kind:"constant",value:n},e.parameters)):e)}evaluate(e,t,r,n,i,o){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,o)}}class Bn extends Un{possiblyEvaluate(e,t,r,n){return void 0===e.value?new Fn(this,{kind:"constant",value:void 0},t):"constant"===e.expression.kind?(r=e.expression.evaluate(t,null,{},r,n),n="resolvedImage"===e.property.specification.type&&"string"!=typeof r?r.name:r,r=this._calculate(n,n,n,t),new Fn(this,{kind:"constant",value:r},t)):"camera"===e.expression.kind?(n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t),new Fn(this,{kind:"constant",value:n},t)):new Fn(this,e.expression,t)}evaluate(e,t,r,n,i,o){return"source"===e.kind?(i=e.evaluate(t,r,n,i,o),this._calculate(i,i,i,t)):"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class Kn{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){if(void 0!==e.value)return"constant"===e.expression.kind?(r=e.expression.evaluate(t,null,{},r,n),this._calculate(r,r,r,t)):this._calculate(e.expression.evaluate(new Rn(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Rn(Math.floor(t.zoom),t)),e.expression.evaluate(new Rn(Math.floor(t.zoom+1),t)),t)}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class Jn{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)}interpolate(){return!1}}class Qn{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const n in e){var t=((r=e[n]).specification.overridable&&this.overridableProperties.push(n),this.defaultPropertyValues[n]=new Dn(r,void 0)),r=this.defaultTransitionablePropertyValues[n]=new Xn(r);this.defaultTransitioningPropertyValues[n]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=t.possiblyEvaluate({})}}}mn("DataDrivenProperty",Un),mn("DataConstantProperty",Hn),mn("CrossFadedDataDrivenProperty",Bn),mn("CrossFadedProperty",Kn),mn("ColorRampProperty",Jn);const qn="-transition";class $n extends U{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Yn(t.layout)),t.paint)){this._transitionablePaint=new On(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Vn(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,r={}){if(null!=t){var n=`layers.${this.id}.layout.`+e;if(this._validate(un,n,e,t,r))return}"visibility"===e?this.visibility=t:this._unevaluatedLayout.setValue(e,t)}getPaintProperty(e){return e.endsWith(qn)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,r={}){if(null!=t){var n=`layers.${this.id}.paint.`+e;if(this._validate(cn,n,e,t,r))return!1}var i;return e.endsWith(qn)?(this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1):(r="cross-faded-data-driven"===(n=this._transitionablePaint._values[e]).property.specification["property-type"],i=n.value.isDataDriven(),n=n.value,this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e),(t=this._transitionablePaint._values[e].value).isDataDriven()||i||r||this._handleOverridablePaintPropertyUpdate(e,n,t))}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,r){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),M(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,r,n,i={}){return(!i||!1!==i.validate)&&dn(this,e.call(ln,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:B,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){var e=this.paint.get(t);if(e instanceof Fn&&or(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1}}const ei={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ti{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ri{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){e>this.capacity&&(this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement),e=this.uint8,this._refreshViews(),e)&&this.uint8.set(e)}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ni(e,t=1){let r=0,n=0;return{members:e.map((e=>{i=e.type;var i=ei[i].BYTES_PER_ELEMENT,o=r=ii(r,Math.max(t,i)),a=e.components||1;return n=Math.max(n,i),r+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:ii(r,Math.max(n,t)),alignment:t}}function ii(e,t){return Math.ceil(e/t)*t}class oi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){var n=2*e;return this.int16[0+n]=t,this.int16[1+n]=r,e}}oi.prototype.bytesPerElement=4,mn("StructArrayLayout2i4",oi);class ai extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){var i=3*e;return this.int16[0+i]=t,this.int16[1+i]=r,this.int16[2+i]=n,e}}ai.prototype.bytesPerElement=6,mn("StructArrayLayout3i6",ai);class si extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){var o=4*e;return this.int16[0+o]=t,this.int16[1+o]=r,this.int16[2+o]=n,this.int16[3+o]=i,e}}si.prototype.bytesPerElement=8,mn("StructArrayLayout4i8",si);class li extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){var s=6*e;return this.int16[0+s]=t,this.int16[1+s]=r,this.int16[2+s]=n,this.int16[3+s]=i,this.int16[4+s]=o,this.int16[5+s]=a,e}}li.prototype.bytesPerElement=12,mn("StructArrayLayout2i4i12",li);class ci extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){var s=4*e,l=8*e;return this.int16[0+s]=t,this.int16[1+s]=r,this.uint8[4+l]=n,this.uint8[5+l]=i,this.uint8[6+l]=o,this.uint8[7+l]=a,e}}ci.prototype.bytesPerElement=8,mn("StructArrayLayout2i4ub8",ci);class ui extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){var n=2*e;return this.float32[0+n]=t,this.float32[1+n]=r,e}}ui.prototype.bytesPerElement=8,mn("StructArrayLayout2f8",ui);class di extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,o,a,s,l,c)}emplace(e,t,r,n,i,o,a,s,l,c,u){var d=10*e;return this.uint16[0+d]=t,this.uint16[1+d]=r,this.uint16[2+d]=n,this.uint16[3+d]=i,this.uint16[4+d]=o,this.uint16[5+d]=a,this.uint16[6+d]=s,this.uint16[7+d]=l,this.uint16[8+d]=c,this.uint16[9+d]=u,e}}di.prototype.bytesPerElement=20,mn("StructArrayLayout10ui20",di);class hi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,d){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,r,n,i,o,a,s,l,c,u,d)}emplace(e,t,r,n,i,o,a,s,l,c,u,d,h){var p=12*e;return this.int16[0+p]=t,this.int16[1+p]=r,this.int16[2+p]=n,this.int16[3+p]=i,this.uint16[4+p]=o,this.uint16[5+p]=a,this.uint16[6+p]=s,this.uint16[7+p]=l,this.int16[8+p]=c,this.int16[9+p]=u,this.int16[10+p]=d,this.int16[11+p]=h,e}}hi.prototype.bytesPerElement=24,mn("StructArrayLayout4i4ui4i24",hi);class pi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){var i=3*e;return this.float32[0+i]=t,this.float32[1+i]=r,this.float32[2+i]=n,e}}pi.prototype.bytesPerElement=12,mn("StructArrayLayout3f12",pi);class mi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[+e+0]=t,e}}mi.prototype.bytesPerElement=4,mn("StructArrayLayout1ul4",mi);class yi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,r,n,i,o,a,s,l)}emplace(e,t,r,n,i,o,a,s,l,c){var u=10*e,d=5*e;return this.int16[0+u]=t,this.int16[1+u]=r,this.int16[2+u]=n,this.int16[3+u]=i,this.int16[4+u]=o,this.int16[5+u]=a,this.uint32[3+d]=s,this.uint16[8+u]=l,this.uint16[9+u]=c,e}}yi.prototype.bytesPerElement=20,mn("StructArrayLayout6i1ul2ui20",yi);class fi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){var s=6*e;return this.int16[0+s]=t,this.int16[1+s]=r,this.int16[2+s]=n,this.int16[3+s]=i,this.int16[4+s]=o,this.int16[5+s]=a,e}}fi.prototype.bytesPerElement=12,mn("StructArrayLayout2i2i2i12",fi);class gi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)}emplace(e,t,r,n,i,o){var a=4*e,s=8*e;return this.float32[0+a]=t,this.float32[1+a]=r,this.float32[2+a]=n,this.int16[6+s]=i,this.int16[7+s]=o,e}}gi.prototype.bytesPerElement=16,mn("StructArrayLayout2f1f2i16",gi);class bi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){var o=12*e,a=3*e;return this.uint8[0+o]=t,this.uint8[1+o]=r,this.float32[1+a]=n,this.float32[2+a]=i,e}}bi.prototype.bytesPerElement=12,mn("StructArrayLayout2ub2f12",bi);class vi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){var i=3*e;return this.uint16[0+i]=t,this.uint16[1+i]=r,this.uint16[2+i]=n,e}}vi.prototype.bytesPerElement=6,mn("StructArrayLayout3ui6",vi);class Mi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f){var g=this.length;return this.resize(g+1),this.emplace(g,e,t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f)}emplace(e,t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g){var b=24*e,v=12*e,M=48*e;return this.int16[0+b]=t,this.int16[1+b]=r,this.uint16[2+b]=n,this.uint16[3+b]=i,this.uint32[2+v]=o,this.uint32[3+v]=a,this.uint32[4+v]=s,this.uint16[10+b]=l,this.uint16[11+b]=c,this.uint16[12+b]=u,this.float32[7+v]=d,this.float32[8+v]=h,this.uint8[36+M]=p,this.uint8[37+M]=m,this.uint8[38+M]=y,this.uint32[10+v]=f,this.int16[22+b]=g,e}}Mi.prototype.bytesPerElement=48,mn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Mi);class xi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S,w,_,T,I,C){var k=this.length;return this.resize(k+1),this.emplace(k,e,t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S,w,_,T,I,C)}emplace(e,t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S,w,_,T,I,C,k){var L=32*e,N=16*e;return this.int16[0+L]=t,this.int16[1+L]=r,this.int16[2+L]=n,this.int16[3+L]=i,this.int16[4+L]=o,this.int16[5+L]=a,this.int16[6+L]=s,this.int16[7+L]=l,this.uint16[8+L]=c,this.uint16[9+L]=u,this.uint16[10+L]=d,this.uint16[11+L]=h,this.uint16[12+L]=p,this.uint16[13+L]=m,this.uint16[14+L]=y,this.uint16[15+L]=f,this.uint16[16+L]=g,this.uint16[17+L]=b,this.uint16[18+L]=v,this.uint16[19+L]=M,this.uint16[20+L]=x,this.uint16[21+L]=S,this.uint16[22+L]=w,this.uint32[12+N]=_,this.float32[13+N]=T,this.float32[14+N]=I,this.uint16[30+L]=C,this.uint16[31+L]=k,e}}xi.prototype.bytesPerElement=64,mn("StructArrayLayout8i15ui1ul2f2ui64",xi);class Si extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[+e+0]=t,e}}Si.prototype.bytesPerElement=4,mn("StructArrayLayout1f4",Si);class wi extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){var i=3*e;return this.uint16[0+6*e]=t,this.float32[1+i]=r,this.float32[2+i]=n,e}}wi.prototype.bytesPerElement=12,mn("StructArrayLayout1ui2f12",wi);class _i extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){var i=4*e;return this.uint32[0+2*e]=t,this.uint16[2+i]=r,this.uint16[3+i]=n,e}}_i.prototype.bytesPerElement=8,mn("StructArrayLayout1ul2ui8",_i);class Ti extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){var n=2*e;return this.uint16[0+n]=t,this.uint16[1+n]=r,e}}Ti.prototype.bytesPerElement=4,mn("StructArrayLayout2ui4",Ti);class Ii extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[+e+0]=t,e}}Ii.prototype.bytesPerElement=2,mn("StructArrayLayout1ui2",Ii);class Ci extends ri{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){var o=4*e;return this.float32[0+o]=t,this.float32[1+o]=r,this.float32[2+o]=n,this.float32[3+o]=i,e}}Ci.prototype.bytesPerElement=16,mn("StructArrayLayout4f16",Ci);class ki extends ti{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new a(this.anchorPointX,this.anchorPointY)}}ki.prototype.size=20;class Li extends yi{get(e){return new ki(this,e)}}mn("CollisionBoxArray",Li);class Ni extends ti{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ni.prototype.size=48;class Zi extends Mi{get(e){return new Ni(this,e)}}mn("PlacedSymbolArray",Zi);class Ei extends ti{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ei.prototype.size=64;class zi extends xi{get(e){return new Ei(this,e)}}mn("SymbolInstanceArray",zi);class Gi extends Si{getoffsetX(e){return this.float32[+e+0]}}mn("GlyphOffsetArray",Gi);class Pi extends ai{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}mn("SymbolLineVertexArray",Pi);class Ai extends ti{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ai.prototype.size=12;class Ri extends wi{get(e){return new Ai(this,e)}}mn("TextAnchorOffsetArray",Ri);class Di extends ti{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Di.prototype.size=8;class Xi extends _i{get(e){return new Di(this,e)}}mn("FeatureIndexArray",Xi);class Oi extends oi{}class Wi extends oi{}class ji extends oi{}class Yi extends li{}class Fi extends ci{}class Vi extends ui{}class Hi extends di{}class Ui extends hi{}class Bi extends pi{}class Ki extends mi{}class Ji extends fi{}class Qi extends bi{}class qi extends vi{}class $i extends Ti{}const eo=ni([{name:"a_pos",components:2,type:"Int16"}],4).members;class to{constructor(e=[]){this.segments=e}prepareSegment(e,t,r,n){let i=this.segments[this.segments.length-1];return e>to.MAX_VERTEX_ARRAY_LENGTH&&w(`Max vertices per segment is ${to.MAX_VERTEX_ARRAY_LENGTH}: bucket requested `+e),(!i||i.vertexLength+e>to.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,r,n){return new to([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}function ro(e,t){return 256*(e=y(Math.floor(e),0,255))+y(Math.floor(t),0,255)}to.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,mn("SegmentVector",to);const no=ni([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);Ut={exports:{}},Kt={exports:{},exports:function(e,t){for(var r,n,i=3&e.length,o=e.length-i,a=t,s=3432918353,l=461845907,c=0;c<o;)n=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,a=27492+(65535&(r=5*(65535&(a=(a^=n=(65535&(n=(n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*l+(((n>>>16)*l&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(n=0,i){case 3:n^=(255&e.charCodeAt(c+2))<<16;case 2:n^=(255&e.charCodeAt(c+1))<<8;case 1:a^=n=(65535&(n=(n=(65535&(n^=255&e.charCodeAt(c)))*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*l+(((n>>>16)*l&65535)<<16)&4294967295}return a=2246822507*(65535&(a=(a^=e.length)^a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}},Bt={exports:{},exports:function(e,t){for(var r,n=e.length,i=t^n,o=0;4<=n;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}},Qt=Kt.exports,Jt=Bt.exports,Ut.exports=Qt,Ut.exports.murmur3=Qt,Ut.exports.murmur2=Jt;var io=r(Ut.exports);class oo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,r,n){this.ids.push(ao(e)),this.positions.push(t,r,n)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");var t=ao(e);let r=0,n=this.ids.length-1;for(;r<n;){var i=r+n>>1;this.ids[i]>=t?n=i:r=1+i}for(var o=[];this.ids[r]===t;){var a=this.positions[3*r],s=this.positions[3*r+1],l=this.positions[3*r+2];o.push({index:a,start:s,end:l}),r++}return o}static serialize(e,t){var r=new Float64Array(e.ids);return so(r,e=new Uint32Array(e.positions),0,r.length-1),t&&t.push(r.buffer,e.buffer),{ids:r,positions:e}}static deserialize(e){var t=new oo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function ao(e){var t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:io(String(e))}function so(e,t,r,n){for(;r<n;){var i=e[r+n>>1];let o=r-1,a=n+1;for(;;){for(;e[++o]<i;);for(;e[--a]>i;);if(o>=a)break;lo(e,o,a),lo(t,3*o,3*a),lo(t,3*o+1,3*a+1),lo(t,3*o+2,3*a+2)}a-r<n-a?(so(e,t,r,a),r=a+1):(so(e,t,a+1,n),n=a)}}function lo(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}mn("FeaturePositionMap",oo);class co{constructor(e,t){this.gl=e.gl,this.location=t}}class uo extends co{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class ho extends co{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class po extends co{constructor(e,t){super(e,t),this.current=He.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const mo=new Float32Array(16);function yo(e){return[ro(255*e.r,255*e.g),ro(255*e.b,255*e.a)]}class fo{constructor(e,t,r){this.value=e,this.uniformNames=t.map((e=>"u_"+e)),this.type=r}setUniform(e,t,r){e.set(r.constantOr(this.value))}getBinding(e,t,r){return new("color"===this.type?po:uo)(e,t)}}class go{constructor(e,t){this.uniformNames=t.map((e=>"u_"+e)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,r,n){(n="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null)&&e.set(n)}getBinding(e,t,r){return new("u_pattern"===r.substr(0,9)?ho:uo)(e,t)}}class bo{constructor(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}))),this.paintVertexArray=new n}populatePaintArray(e,t,r,n,i){var o=this.paintVertexArray.length;t=this.expression.evaluate(new Rn(0),t,{},n,[],i),this.paintVertexArray.resize(e),this._setPaintValue(o,e,t)}updatePaintArray(e,t,r,n){r=this.expression.evaluate({zoom:0},r,n),this._setPaintValue(e,t,r)}_setPaintValue(e,t,r){if("color"===this.type){var n=yo(r);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n[0],n[1])}else{for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class vo{constructor(e,t,r,n,i,o){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}))),this.paintVertexArray=new o}populatePaintArray(e,t,r,n,i){var o=this.expression.evaluate(new Rn(this.zoom),t,{},n,[],i);t=this.expression.evaluate(new Rn(this.zoom+1),t,{},n,[],i),n=this.paintVertexArray.length,this.paintVertexArray.resize(e),this._setPaintValue(n,e,o,t)}updatePaintArray(e,t,r,n){var i=this.expression.evaluate({zoom:this.zoom},r,n);r=this.expression.evaluate({zoom:this.zoom+1},r,n),this._setPaintValue(e,t,i,r)}_setPaintValue(e,t,r,n){if("color"===this.type){var i=yo(r),o=yo(n);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){t=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,t=y(this.expression.interpolationFactor(t,this.zoom,this.zoom+1),0,1),e.set(t)}getBinding(e,t,r){return new uo(e,t)}}class Mo{constructor(e,t,r,n,i,o){this.expression=e,this.type=t,this.useIntegerZoom=r,this.zoom=n,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}populatePaintArray(e,t,r){var n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)}updatePaintArray(e,t,r,n,i){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],i)}_setPaintValues(e,t,r,n){if(n&&r){var{min:r,mid:i,max:o}=r,a=n[r],s=n[i],l=n[o];if(a&&s&&l)for(let r=e;r<t;r++)this.zoomInPaintVertexArray.emplace(r,s.tl[0],s.tl[1],s.br[0],s.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],s.pixelRatio,a.pixelRatio),this.zoomOutPaintVertexArray.emplace(r,s.tl[0],s.tl[1],s.br[0],s.br[1],l.tl[0],l.tl[1],l.br[0],l.br[1],s.pixelRatio,l.pixelRatio)}}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,no.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,no.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class xo{constructor(e,t,r){this.binders={},this._buffers=[];var n,i,o,a,s,l,c=[];for(const u in e.paint._values)r(u)&&(l=e.paint.get(u))instanceof Fn&&or(l.property.specification)&&(n=wo(u,e.type),i=l.value,o=l.property.specification.type,a=l.property.useIntegerZoom,l="cross-faded"===(l=l.property.specification["property-type"])||"cross-faded-data-driven"===l,"constant"===i.kind?(this.binders[u]=l?new go(i.value,n):new fo(i.value,n,o),c.push("/u_"+u)):"source"===i.kind||l?(s=_o(u,o,"source"),this.binders[u]=l?new Mo(i,o,a,t,s,e.id):new bo(i,n,o,s),c.push("/a_"+u)):(l=_o(u,o,"composite"),this.binders[u]=new vo(i,n,o,a,t,l),c.push("/z_"+u)));this.cacheKey=c.sort().join("")}getMaxValue(e){return(e=this.binders[e])instanceof bo||e instanceof vo?e.maxValue:0}populatePaintArrays(e,t,r,n,i){for(const a in this.binders){var o=this.binders[a];(o instanceof bo||o instanceof vo||o instanceof Mo)&&o.populatePaintArray(e,t,r,n,i)}}setConstantPatternPositions(e,t){for(const n in this.binders){var r=this.binders[n];r instanceof go&&r.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,r,n,i){let o=!1;for(const c in e)for(const u of t.getPositions(c)){var a=r.feature(u.index);for(const t in this.binders){var s,l=this.binders[t];(l instanceof bo||l instanceof vo||l instanceof Mo)&&!0===l.expression.isStateDependent&&(s=n.paint.get(t),l.expression=s.value,l.updatePaintArray(u.start,u.end,a,e[c],i),o=!0)}}return o}defines(){var e=[];for(const r in this.binders){var t=this.binders[r];(t instanceof fo||t instanceof go)&&e.push(...t.uniformNames.map((e=>"#define HAS_UNIFORM_"+e)))}return e}getBinderAttributes(){var e=[];for(const r in this.binders){var t=this.binders[r];if(t instanceof bo||t instanceof vo)for(let r=0;r<t.paintVertexAttributes.length;r++)e.push(t.paintVertexAttributes[r].name);else if(t instanceof Mo)for(let t=0;t<no.members.length;t++)e.push(no.members[t].name)}return e}getBinderUniforms(){var e=[];for(const r in this.binders){var t=this.binders[r];if(t instanceof fo||t instanceof go||t instanceof vo)for(const r of t.uniformNames)e.push(r)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){var r=[];for(const o in this.binders){var n,i=this.binders[o];if(i instanceof fo||i instanceof go||i instanceof vo)for(const a of i.uniformNames)t[a]&&(n=i.getBinding(e,t[a],a),r.push({name:a,property:o,binding:n}))}return r}setUniforms(e,t,r,n){for(var{name:i,property:o,binding:a}of t)this.binders[o].setUniform(a,n,r.get(o),i)}updatePaintBuffers(e){this._buffers=[];for(const n in this.binders){var t,r=this.binders[n];e&&r instanceof Mo?(t=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer)&&this._buffers.push(t):(r instanceof bo||r instanceof vo)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}upload(e){for(const r in this.binders){var t=this.binders[r];(t instanceof bo||t instanceof vo||t instanceof Mo)&&t.upload(e)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){var e=this.binders[t];(e instanceof bo||e instanceof vo||e instanceof Mo)&&e.destroy()}}}class So{constructor(e,t,r=()=>!0){this.programConfigurations={};for(const n of e)this.programConfigurations[n.id]=new xo(n,t,r);this.needsUpload=!1,this._featureMap=new oo,this._bufferOffset=0}populatePaintArrays(e,t,r,n,i,o){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(e,t,n,i,o);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,r,n){for(const i of r)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,n)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function wo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function _o(e,t,r){var n={color:{source:ui,composite:Ci},number:{source:Si,composite:ui}};return(e={"line-pattern":{source:Hi,composite:Hi},"fill-pattern":{source:Hi,composite:Hi},"fill-extrusion-pattern":{source:Hi,composite:Hi}}[e])&&e[r]||n[t][r]}mn("ConstantBinder",fo),mn("CrossFadedConstantBinder",go),mn("SourceExpressionBinder",bo),mn("CrossFadedCompositeBinder",Mo),mn("CompositeExpressionBinder",vo),mn("ProgramConfiguration",xo,{omit:["_buffers"]}),mn("ProgramConfigurationSet",So);const To=8192,Io=Math.pow(2,14)-1,Co=-Io-1;function ko(e){var t=To/e.extent,r=e.loadGeometry();for(let e=0;e<r.length;e++){var n=r[e];for(let e=0;e<n.length;e++){var i=n[e],o=Math.round(i.x*t),a=Math.round(i.y*t);i.x=y(o,Co,Io),i.y=y(a,Co,Io),(o<i.x||o>i.x+1||a<i.y||a>i.y+1)&&w("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r}function Lo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?ko(e):[]}}function No(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}class Zo{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Wi,this.indexArray=new qi,this.segments=new to,this.programConfigurations=new So(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){var n,i,o,a,s=this.layers[0],l=[];let c=null,u=!1;for({feature:n,id:i,index:o,sourceLayerIndex:a}of("circle"===s.type&&(c=s.layout.get("circle-sort-key"),u=!c.isConstant()),e)){var d,h=this.layers[0]._featureFilter.needGeometry,p=Lo(n,h);this.layers[0]._featureFilter.filter(new Rn(this.zoom),p,r)&&(d=u?c.evaluate(p,{},r):void 0,h={id:i,properties:n.properties,type:n.type,sourceLayerIndex:a,index:o,geometry:h?p.geometry:ko(n),patterns:{},sortKey:d},l.push(h))}u&&l.sort(((e,t)=>e.sortKey-t.sortKey));for(const n of l){var{geometry:m,index:y,sourceLayerIndex:f}=n,g=e[y].feature;this.addFeature(n,m,y,r),t.featureIndex.insert(g,m,y,f,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,eo),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,r,n){for(const r of t)for(const t of r){var i=t.x,o=t.y;if(!(i<0||i>=To||o<0||o>=To)){var a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey);const t=a.vertexLength;No(this.layoutVertexArray,i,o,-1,-1),No(this.layoutVertexArray,i,o,1,-1),No(this.layoutVertexArray,i,o,1,1),No(this.layoutVertexArray,i,o,-1,1),this.indexArray.emplaceBack(t,t+1,t+2),this.indexArray.emplaceBack(t,t+3,t+2),a.vertexLength+=4,a.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n)}}function Eo(e,t){for(let r=0;r<e.length;r++)if(Xo(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(Xo(e,t[r]))return!0;return!!Po(e,t)}function zo(e,t,r){return Xo(e,t)||!!Ao(t,e,r)}function Go(e,t){if(1===e.length)return Do(t,e[0]);for(let n=0;n<t.length;n++){var r=t[n];for(let t=0;t<r.length;t++)if(Xo(e,r[t]))return!0}for(let r=0;r<e.length;r++)if(Do(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(Po(e,t[r]))return!0;return!1}function Po(e,t){var r,n;if(0!==e.length&&0!==t.length)for(let l=0;l<e.length-1;l++){var i=e[l],o=e[l+1];for(let e=0;e<t.length-1;e++){var a=t[e],s=t[e+1];if(n=o,_(r=i,a,s)!==_(n,a,s)&&_(r,n,a)!==_(r,n,s))return 1}}}function Ao(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(let r=1;r<t.length;r++)if(Ro(e,t[r-1],t[r])<n)return 1}function Ro(e,t,r){var n=t.distSqr(r);return 0===n||(n=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n)<0?e.distSqr(t):1<n?e.distSqr(r):e.distSqr(r.sub(t)._mult(n)._add(t))}function Do(e,t){let r,n,i,o=!1;for(let a=0;a<e.length;a++)for(let s=0,l=(r=e[a]).length-1;s<r.length;l=s++)n=r[s],i=r[l],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(o=!o);return o}function Xo(e,t){let r=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){var n=e[o],i=e[a];n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(r=!r)}return r}function Oo(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function Wo(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function jo(e,t,r,n,i){if(!t[0]&&!t[1])return e;var o=a.convert(t)._mult(i),s=("viewport"===r&&o._rotate(-n),[]);for(let t=0;t<e.length;t++){var l=e[t];s.push(l.sub(o))}return s}let Yo,Fo;mn("CircleBucket",Zo,{omit:["layers"]});var Vo={get paint(){return Fo=Fo||new Qn({"circle-radius":new Un(B.paint_circle["circle-radius"]),"circle-color":new Un(B.paint_circle["circle-color"]),"circle-blur":new Un(B.paint_circle["circle-blur"]),"circle-opacity":new Un(B.paint_circle["circle-opacity"]),"circle-translate":new Hn(B.paint_circle["circle-translate"]),"circle-translate-anchor":new Hn(B.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Hn(B.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Hn(B.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Un(B.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Un(B.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Un(B.paint_circle["circle-stroke-opacity"])})},get layout(){return Yo=Yo||new Qn({"circle-sort-key":new Un(B.layout_circle["circle-sort-key"])})}},Ho=1e-6,Uo="undefined"!=typeof Float32Array?Float32Array:Array;function Bo(){var e=new Uo(9);return Uo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Ko(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Jo(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],m=t[11],y=t[12],f=t[13],g=t[14],b=(t=t[15],r[0]),v=r[1],M=r[2],x=r[3];return e[0]=b*n+v*s+M*d+x*y,e[1]=b*i+v*l+M*h+x*f,e[2]=b*o+v*c+M*p+x*g,e[3]=b*a+v*u+M*m+x*t,b=r[4],v=r[5],M=r[6],x=r[7],e[4]=b*n+v*s+M*d+x*y,e[5]=b*i+v*l+M*h+x*f,e[6]=b*o+v*c+M*p+x*g,e[7]=b*a+v*u+M*m+x*t,b=r[8],v=r[9],M=r[10],x=r[11],e[8]=b*n+v*s+M*d+x*y,e[9]=b*i+v*l+M*h+x*f,e[10]=b*o+v*c+M*p+x*g,e[11]=b*a+v*u+M*m+x*t,b=r[12],v=r[13],M=r[14],x=r[15],e[12]=b*n+v*s+M*d+x*y,e[13]=b*i+v*l+M*h+x*f,e[14]=b*o+v*c+M*p+x*g,e[15]=b*a+v*u+M*m+x*t,e}function Qo(){var e=new Uo(3);return Uo!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function qo(e,t,r){var n=new Uo(3);return n[0]=e,n[1]=t,n[2]=r,n}function $o(e,t,r){var n=t[0],i=t[1],o=t[2];return t=t[3],e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*t,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*t,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*t,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*t,e}function ea(){var e=new Uo(4);return Uo!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),Kt=Jo,Qo(),Bt=new Uo(4),Uo!=Float32Array&&(Bt[0]=0,Bt[1]=0,Bt[2]=0,Bt[3]=0),Qo(),qo(1,0,0),qo(0,1,0),ea(),ea(),Bo(),Qt=new Uo(2),Uo!=Float32Array&&(Qt[0]=0,Qt[1]=0);class ta extends $n{constructor(e){super(e,Vo)}createBucket(e){return new Zo(e)}queryRadius(e){return Oo("circle-radius",this,e)+Oo("circle-stroke-width",this,e)+Wo(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,r,n,i,o,a,s){e=jo(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),t=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r);var l="map"===this.paint.get("circle-pitch-alignment"),c=l?e:function(e,t){return e.map((e=>ra(e,t)))}(e,s),u=l?t*a:t;for(const e of n)for(const t of e){var d=l?t:ra(t,s);let e=u;var h=$o([],[t.x,t.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?e*=h[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(e*=o.cameraToCenterDistance/h[3]),zo(c,d,e))return!0}return!1}}function ra(e,t){return e=$o([],[e.x,e.y,0,1],t),new a(e[0]/e[3],e[1]/e[3])}class na extends Zo{}let ia;mn("HeatmapBucket",na,{omit:["layers"]});var oa={get paint(){return ia=ia||new Qn({"heatmap-radius":new Un(B.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Un(B.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Hn(B.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Jn(B.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Hn(B.paint_heatmap["heatmap-opacity"])})}};function aa(e,{width:t,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*r*n)throw new RangeError(`mismatched image size. expected: ${i.length} but got: `+t*r*n)}else i=new Uint8Array(t*r*n);return e.width=t,e.height=r,e.data=i,e}function sa(e,{width:t,height:r},n){var i;t===e.width&&r===e.height||(la(e,i=aa({},{width:t,height:r},n),{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,r)},n),e.width=t,e.height=r,e.data=i.data)}function la(e,t,r,n,i,o){if(0!==i.width&&0!==i.height){if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");var a=e.data,s=t.data;if(a===s)throw new Error("srcData equals dstData, so image is already copied");for(let u=0;u<i.height;u++){var l=((r.y+u)*e.width+r.x)*o,c=((n.y+u)*t.width+n.x)*o;for(let e=0;e<i.width*o;e++)s[c+e]=a[l+e]}}}class ca{constructor(e,t){aa(this,e,1,t)}resize(e){sa(this,e,1)}clone(){return new ca({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){la(e,t,r,n,i,1)}}class ua{constructor(e,t){aa(this,e,4,t)}resize(e){sa(this,e,4)}replace(e,t){t?this.data.set(e):e instanceof Uint8ClampedArray?this.data=new Uint8Array(e.buffer):this.data=e}clone(){return new ua({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){la(e,t,r,n,i,4)}}function da(e){const t={};var r=e.resolution||256,n=e.clips?e.clips.length:1;const i=e.image||new ua({width:r,height:n});if(Math.log(r)/Math.LN2%1!=0)throw new Error("width is not a power of 2 - "+r);var o=(r,n,o)=>{t[e.evaluationKey]=o,o=e.expression.evaluate(t),i.data[r+n+0]=Math.floor(255*o.r/o.a),i.data[r+n+1]=Math.floor(255*o.g/o.a),i.data[r+n+2]=Math.floor(255*o.b/o.a),i.data[r+n+3]=Math.floor(255*o.a)};if(e.clips)for(let t=0,i=0;t<n;++t,i+=4*r)for(let n=0,c=0;n<r;n++,c+=4){var a=n/(r-1),{start:s,end:l}=e.clips[t];o(i,c,s*(1-a)+l*a)}else for(let e=0,t=0;e<r;e++,t+=4)o(0,t,e/(r-1));return i}mn("AlphaImage",ca),mn("RGBAImage",ua);class ha extends $n{createBucket(e){return new na(e)}constructor(e){super(e,oa),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=da({expression:e,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let pa;var ma={get paint(){return pa=pa||new Qn({"hillshade-illumination-direction":new Hn(B.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Hn(B.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Hn(B.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Hn(B.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Hn(B.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Hn(B.paint_hillshade["hillshade-accent-color"])})}};class ya extends $n{constructor(e){super(e,ma)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const fa=ni([{name:"a_pos",components:2,type:"Int16"}],4).members;function ga(e,t,r){r=r||2;var n,i,o,a,s,l=t&&t.length,c=l?t[0]*r:e.length,u=ba(e,0,c,r,!0),d=[];if(u&&u.next!==u.prev){if(l&&(u=function(e,t,r,n){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=ba(e,a=t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(function(e){for(var t=e,r=e;(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),(t=t.next)!==e;);return r}(a));for(s.sort(xa),i=0;i<s.length;i++)r=function(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&a<s&&(a=s,r=n.x<n.next.x?n:n.next,s===i))return r}}while((n=n.next)!==t);if(!r)return null;var l,c=r,u=r.x,d=r.y,h=1/0;for(n=r;i>=n.x&&n.x>=u&&i!==n.x&&wa(o<d?i:a,o,u,d,o<d?a:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),La(n,e))&&(l<h||l===h&&(n.x>r.x||n.x===r.x&&function(e,t){return _a(e.prev,e,t.prev)<0&&_a(t.next,e,e.next)<0}(r,n)))&&(r=n,h=l),(n=n.next)!==c;);return r}(e,t);return r?(va(e=Na(r,e),e.next),va(r,r.next)):t}(s[i],r);return r}(e,t,u,r)),e.length>80*r){for(var h=n=e[0],p=i=e[1],m=r;m<c;m+=r)(o=e[m])<h&&(h=o),(a=e[m+1])<p&&(p=a),n<o&&(n=o),i<a&&(i=a);s=0!==(s=Math.max(n-h,i-p))?32767/s:0}Ma(u,d,r,h,p,s,0)}return d}function ba(e,t,r,n,i){var o,a;if(i===0<Ga(e,t,r,n))for(o=t;o<r;o+=n)a=Za(o,e[o],e[o+1],a);else for(o=r-n;t<=o;o-=n)a=Za(o,e[o],e[o+1],a);return a&&Ta(a,a.next)&&(Ea(a),a=a.next),a}function va(e,t){if(!e)return e;t=t||e;var r,n=e;do{if(r=!1,n.steiner||!Ta(n,n.next)&&0!==_a(n.prev,n,n.next))n=n.next;else{if(Ea(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Ma(e,t,r,n,i,o,a){if(e){if(!a&&o){for(var s=e,l=n,c=i,u=o,d=s;0===d.z&&(d.z=Sa(d.x,d.y,l,c,u)),d.prevZ=d.prev,d.nextZ=d.next,(d=d.next)!==s;);d.prevZ.nextZ=null,d.prevZ=null;var h,p,m,y,f,g,b,v,M=d,x=1;do{for(p=M,f=M=null,g=0;p;){for(g++,m=p,h=b=0;h<x&&(b++,m=m.nextZ);h++);for(v=x;0<b||0<v&&m;)0!==b&&(0===v||!m||p.z<=m.z)?(p=(y=p).nextZ,b--):(m=(y=m).nextZ,v--),f?f.nextZ=y:M=y,y.prevZ=f,f=y;p=m}}while(f.nextZ=null,x*=2,1<g)}for(var S,w,_=e;e.prev!==e.next;)if(S=e.prev,w=e.next,o?function(e,t,r,n){var i=e.prev,o=e,a=e.next;if(!(0<=_a(i,o,a))){for(var s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,h=a.y,p=s<l?s<c?s:c:l<c?l:c,m=u<d?u<h?u:h:d<h?d:h,y=l<s?c<s?s:c:c<l?l:c,f=d<u?h<u?u:h:h<d?d:h,g=Sa(p,m,t,r,n),b=Sa(y,f,t,r,n),v=e.prevZ,M=e.nextZ;v&&v.z>=g&&M&&M.z<=b;){if(v.x>=p&&v.x<=y&&v.y>=m&&v.y<=f&&v!==i&&v!==a&&wa(s,u,l,d,c,h,v.x,v.y)&&0<=_a(v.prev,v,v.next))return;if(v=v.prevZ,M.x>=p&&M.x<=y&&M.y>=m&&M.y<=f&&M!==i&&M!==a&&wa(s,u,l,d,c,h,M.x,M.y)&&0<=_a(M.prev,M,M.next))return;M=M.nextZ}for(;v&&v.z>=g;){if(v.x>=p&&v.x<=y&&v.y>=m&&v.y<=f&&v!==i&&v!==a&&wa(s,u,l,d,c,h,v.x,v.y)&&0<=_a(v.prev,v,v.next))return;v=v.prevZ}for(;M&&M.z<=b;){if(M.x>=p&&M.x<=y&&M.y>=m&&M.y<=f&&M!==i&&M!==a&&wa(s,u,l,d,c,h,M.x,M.y)&&0<=_a(M.prev,M,M.next))return;M=M.nextZ}return 1}}(e,n,i,o):function(e){var t=e.prev,r=e;if(!(0<=_a(t,r,e=e.next))){for(var n=t.x,i=r.x,o=e.x,a=t.y,s=r.y,l=e.y,c=n<i?n<o?n:o:i<o?i:o,u=a<s?a<l?a:l:s<l?s:l,d=i<n?o<n?n:o:o<i?i:o,h=s<a?l<a?a:l:l<s?s:l,p=e.next;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=u&&p.y<=h&&wa(n,a,i,s,o,l,p.x,p.y)&&0<=_a(p.prev,p,p.next))return;p=p.next}return 1}}(e))t.push(S.i/r|0),t.push(e.i/r|0),t.push(w.i/r|0),Ea(e),e=w.next,_=w.next;else if((e=w)===_){a?1===a?Ma(e=function(e,t,r){var n=e;do{var i=n.prev,o=n.next.next}while(!Ta(i,o)&&Ia(i,n,n.next,o)&&La(i,o)&&La(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),Ea(n),Ea(n.next),n=e=o),(n=n.next)!==e);return va(n)}(va(e),t,r),t,r,n,i,o,2):2===a&&function(e,t,r,n,i,o){var a=e;do{for(var s,l=a.next.next;l!==a.prev;){if(a.i!==l.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Ia(r,r.next,e,t))return 1}while((r=r.next)!==e)}(e,t)&&(La(e,t)&&La(t,e)&&function(e,t){for(var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),(r=r.next)!==e;);return n}(e,t)&&(_a(e.prev,e,t.prev)||_a(e,t.prev,t))||Ta(e,t)&&0<_a(e.prev,e,e.next)&&0<_a(t.prev,t,t.next))}(a,l))return s=Na(a,l),a=va(a,a.next),s=va(s,s.next),Ma(a,t,r,n,i,o,0),Ma(s,t,r,n,i,o,0);l=l.next}}while((a=a.next)!==e)}(e,t,r,n,i,o):Ma(va(e),t,r,n,i,o,1);break}}}function xa(e,t){return e.x-t.x}function Sa(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function wa(e,t,r,n,i,o,a,s){return(e-a)*(o-s)<=(i-a)*(t-s)&&(r-a)*(t-s)<=(e-a)*(n-s)&&(i-a)*(n-s)<=(r-a)*(o-s)}function _a(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Ta(e,t){return e.x===t.x&&e.y===t.y}function Ia(e,t,r,n){var i=ka(_a(e,t,r)),o=ka(_a(e,t,n)),a=ka(_a(r,n,e)),s=ka(_a(r,n,t));return i!==o&&a!==s||0===i&&Ca(e,r,t)||0===o&&Ca(e,n,t)||0===a&&Ca(r,e,n)||!(0!==s||!Ca(r,t,n))}function Ca(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function ka(e){return 0<e?1:e<0?-1:0}function La(e,t){return _a(e.prev,e,e.next)<0?0<=_a(e,t,e.next)&&0<=_a(e,e.prev,t):_a(e,t,e.prev)<0||_a(e,e.next,t)<0}function Na(e,t){var r=new za(e.i,e.x,e.y),n=new za(t.i,t.x,t.y),i=e.next,o=t.prev;return(e.next=t).prev=e,(r.next=i).prev=r,(n.next=r).prev=n,(o.next=n).prev=o,n}function Za(e,t,r,n){return e=new za(e,t,r),n?(e.next=n.next,(e.prev=n).next.prev=e,n.next=e):(e.prev=e).next=e,e}function Ea(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function za(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ga(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(Jt={exports:{}}).exports=ga,(Jt.exports.default=ga).deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(Ga(e,0,o,r));if(i)for(var s=0,l=t.length;s<l;s++){var c=t[s]*r,u=s<l-1?t[s+1]*r:e.length;a-=Math.abs(Ga(e,c,u,r))}var d=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,m=n[s+2]*r;d+=Math.abs((e[h]-e[m])*(e[1+p]-e[1+h])-(e[h]-e[p])*(e[1+m]-e[1+h]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},ga.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);0<i&&(n+=e[i-1].length,r.holes.push(n))}return r};var Pa=r(Jt.exports);function Aa(e,t,r,n,i){!function e(t,r,n,i,o){for(;n<i;){600<i-n&&(a=i-n+1,c=r-n+1,l=Math.log(a),s=.5*Math.exp(2*l/3),l=.5*Math.sqrt(l*s*(a-s)/a)*(c-a/2<0?-1:1),e(t,r,Math.max(n,Math.floor(r-c*s/a+l)),c=Math.min(i,Math.floor(r+(a-c)*s/a+l)),o));var a,s,l,c,u=t[r],d=n,h=i;for(Ra(t,n,r),0<o(t[i],u)&&Ra(t,n,i);d<h;){for(Ra(t,d,h),d++,h--;o(t[d],u)<0;)d++;for(;0<o(t[h],u);)h--}0===o(t[n],u)?Ra(t,n,h):Ra(t,++h,i),h<=r&&(n=h+1),r<=h&&(i=h-1)}}(e,t,r||0,n||e.length-1,i||Da)}function Ra(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Da(e,t){return e<t?-1:t<e?1:0}function Xa(e,t){var r=e.length;if(r<=1)return[e];var n=[];let i,o;for(let t=0;t<r;t++){var a=function(e){let t=0;for(let r,n,i=0,o=e.length,a=o-1;i<o;a=i++)r=e[i],n=e[a],t+=(n.x-r.x)*(r.y+n.y);return t}(e[t]);0!==a&&(e[t].area=Math.abs(a),(o=void 0===o?a<0:o)===a<0?(i&&n.push(i),i=[e[t]]):i.push(e[t]))}if(i&&n.push(i),1<t)for(let e=0;e<n.length;e++)n[e].length<=t||(Aa(n[e],t,1,n[e].length-1,Oa),n[e]=n[e].slice(0,t));return n}function Oa(e,t){return t.area-e.area}function Wa(e,t,r){var n=r.patternDependencies;let i=!1;for(const r of t){var o;(o=r.paint.get(e+"-pattern")).isConstant()||(i=!0),(o=o.constantOr(null))&&(i=!0,n[o.to]=!0,n[o.from]=!0)}return i}function ja(e,t,r,n,i){var o=i.patternDependencies;for(const c of t){var a,s,l=c.paint.get(e+"-pattern").value;"constant"!==l.kind&&(a=l.evaluate({zoom:n-1},r,{},i.availableImages),s=l.evaluate({zoom:n},r,{},i.availableImages),l=l.evaluate({zoom:n+1},r,{},i.availableImages),a=a&&a.name?a.name:a,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[a]=!0,o[s]=!0,o[l]=!0,r.patterns[c.id]={min:a,mid:s,max:l})}return r}class Ya{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ji,this.indexArray=new qi,this.indexArray2=new $i,this.programConfigurations=new So(e.layers,e.zoom),this.segments=new to,this.segments2=new to,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){this.hasPattern=Wa("fill",this.layers,t);var n,i,o,a,s=this.layers[0].layout.get("fill-sort-key"),l=!s.isConstant(),c=[];for({feature:n,id:i,index:o,sourceLayerIndex:a}of e){var u,d=this.layers[0]._featureFilter.needGeometry,h=Lo(n,d);this.layers[0]._featureFilter.filter(new Rn(this.zoom),h,r)&&(u=l?s.evaluate(h,{},r,t.availableImages):void 0,d={id:i,properties:n.properties,type:n.type,sourceLayerIndex:a,index:o,geometry:d?h.geometry:ko(n),patterns:{},sortKey:u},c.push(d))}l&&c.sort(((e,t)=>e.sortKey-t.sortKey));for(const n of c){var{geometry:p,index:m,sourceLayerIndex:y}=n,f=(this.hasPattern?(f=ja("fill",this.layers,n,this.zoom,t),this.patternFeatures.push(f)):this.addFeature(n,p,m,r,{}),e[m].feature);t.featureIndex.insert(f,p,m,y,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}addFeatures(e,t,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fa),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,r,n,i){for(const e of Xa(t,500)){let t=0;for(const r of e)t+=r.length;var o=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),a=o.vertexLength,s=[],l=[];for(const t of e)if(0!==t.length){t!==e[0]&&l.push(s.length/2);var c=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),u=c.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(u+t.length-1,u),s.push(t[0].x),s.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(u+e-1,u+e),s.push(t[e].x),s.push(t[e].y);c.vertexLength+=t.length,c.primitiveLength+=t.length}var d=Pa(s,l);for(let e=0;e<d.length;e+=3)this.indexArray.emplaceBack(a+d[e],a+d[e+1],a+d[e+2]);o.vertexLength+=t,o.primitiveLength+=d.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}}let Fa,Va;mn("FillBucket",Ya,{omit:["layers","patternFeatures"]});var Ha={get paint(){return Va=Va||new Qn({"fill-antialias":new Hn(B.paint_fill["fill-antialias"]),"fill-opacity":new Un(B.paint_fill["fill-opacity"]),"fill-color":new Un(B.paint_fill["fill-color"]),"fill-outline-color":new Un(B.paint_fill["fill-outline-color"]),"fill-translate":new Hn(B.paint_fill["fill-translate"]),"fill-translate-anchor":new Hn(B.paint_fill["fill-translate-anchor"]),"fill-pattern":new Bn(B.paint_fill["fill-pattern"])})},get layout(){return Fa=Fa||new Qn({"fill-sort-key":new Un(B.layout_fill["fill-sort-key"])})}};class Ua extends $n{constructor(e){super(e,Ha)}recalculate(e,t){super.recalculate(e,t),"constant"===(e=this.paint._values["fill-outline-color"]).value.kind&&void 0===e.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new Ya(e)}queryRadius(){return Wo(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,r,n,i,o,a){return Go(jo(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),n)}isTileClipped(){return!0}}Ut=ni([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4);const Ba=ni([{name:"a_centroid",components:2,type:"Int16"}],4),Ka=Ut.members;var Ja={},Qa=i;function qa(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields($a,this,t)}function $a(e,t,r){if(1==e)t.id=r.readVarint();else if(2==e)for(var n=r,i=t,o=n.readVarint()+n.pos;n.pos<o;){var a=i._keys[n.readVarint()],s=i._values[n.readVarint()];i.properties[a]=s}else 3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}Bt=qa,qa.types=["Unknown","Point","LineString","Polygon"],qa.prototype.loadGeometry=function(){for(var e,t,r=this._pbf,n=(r.pos=this._geometry,r.readVarint()+r.pos),i=1,o=0,a=0,s=0,l=[];r.pos<n;)if(o<=0&&(i=7&(t=r.readVarint()),o=t>>3),o--,1===i||2===i)a+=r.readSVarint(),s+=r.readSVarint(),1===i&&(e&&l.push(e),e=[]),e.push(new Qa(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}return e&&l.push(e),l},qa.prototype.bbox=function(){for(var e,t=this._pbf,r=(t.pos=this._geometry,t.readVarint()+t.pos),n=1,i=0,o=0,a=0,s=1/0,l=-1/0,c=1/0,u=-1/0;t.pos<r;)if(i<=0&&(n=7&(e=t.readVarint()),i=e>>3),i--,1===n||2===n)(o+=t.readSVarint())<s&&(s=o),l<o&&(l=o),(a+=t.readSVarint())<c&&(c=a),u<a&&(u=a);else if(7!==n)throw new Error("unknown command "+n);return[s,c,l,u]},qa.prototype.toGeoJSON=function(e,t,r){var n,i=this.extent*Math.pow(2,r),o=this.extent*e,a=this.extent*t,s=this.loadGeometry();function l(e){for(var t=0;t<e.length;t++){var r=e[t],n=180-360*(r.y+a)/i;e[t]=[360*(r.x+o)/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(r=qa.types[this.type],this.type){case 1:for(var c=[],u=0;u<s.length;u++)c[u]=s[u][0];l(s=c);break;case 2:for(u=0;u<s.length;u++)l(s[u]);break;case 3:for(s=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],o=0;o<t;o++){var a=function(e){for(var t,r,n=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n+=((r=e[a]).x-t.x)*(t.y+r.y);return n}(e[o]);0!==a&&((n=void 0===n?a<0:n)===a<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}return r&&i.push(r),i}(s),u=0;u<s.length;u++)for(n=0;n<s[u].length;n++)l(s[u][n])}return 1===s.length?s=s[0]:r="Multi"+r,e={type:"Feature",geometry:{type:r,coordinates:s},properties:this.properties},"id"in this&&(e.id=this.id),e};var es=Bt;function ts(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(rs,this,t),this.length=this._features.length}function rs(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1==n?e.readString():2==n?e.readFloat():3==n?e.readDouble():4==n?e.readVarint64():5==n?e.readVarint():6==n?e.readSVarint():7==n?e.readBoolean():null}return t}(r))}Qt=ts,ts.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");return this._pbf.pos=this._features[e],e=this._pbf.readVarint()+this._pbf.pos,new es(this._pbf,e,this.extent,this._keys,this._values)};var ns=Qt;function is(e,t,r){3===e&&(e=new ns(r,r.readVarint()+r.pos)).length&&(t[e.name]=e)}Ja.VectorTile=function(e,t){this.layers=e.readFields(is,{},t)},Ja.VectorTileFeature=Bt,Ja.VectorTileLayer=Qt;const os=Ja.VectorTileFeature.types,as=Math.pow(2,13);function ss(e,t,r,n,i,o,a,s){e.emplaceBack(t,r,2*Math.floor(n*as)+a,i*as*2,o*as*2,Math.round(s))}class ls{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Yi,this.centroidVertexArray=new Oi,this.indexArray=new qi,this.programConfigurations=new So(e.layers,e.zoom),this.segments=new to,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){for(var{feature:n,id:i,index:o,sourceLayerIndex:a}of(this.features=[],this.hasPattern=Wa("fill-extrusion",this.layers,t),e)){var s=this.layers[0]._featureFilter.needGeometry,l=Lo(n,s);this.layers[0]._featureFilter.filter(new Rn(this.zoom),l,r)&&(i={id:i,sourceLayerIndex:a,index:o,geometry:s?l.geometry:ko(n),properties:n.properties,type:n.type,patterns:{}},this.hasPattern?this.features.push(ja("fill-extrusion",this.layers,i,this.zoom,t)):this.addFeature(i,i.geometry,o,r,{}),t.featureIndex.insert(n,i.geometry,o,a,this.index,!0))}}addFeatures(e,t,r){for(const e of this.features){var n=e.geometry;this.addFeature(e,n,e.index,t,r)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ka),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Ba.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,t,r,n,i){var o={x:0,y:0,vertexCount:0};for(const r of Xa(t,500)){let t=0;for(const e of r)t+=e.length;let n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const e of r)if(0!==e.length&&!us(e)){let t=0;for(let r=0;r<e.length;r++){var a,s,l,c=e[r];1<=r&&(cs(c,a=e[r-1])||(n.vertexLength+4>to.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)),s=c.sub(a)._perp()._unit(),32768<t+(l=a.dist(c))&&(t=0),ss(this.layoutVertexArray,c.x,c.y,s.x,s.y,0,0,t),ss(this.layoutVertexArray,c.x,c.y,s.x,s.y,0,1,t),o.x+=2*c.x,o.y+=2*c.y,o.vertexCount+=2,t+=l,ss(this.layoutVertexArray,a.x,a.y,s.x,s.y,0,0,t),ss(this.layoutVertexArray,a.x,a.y,s.x,s.y,0,1,t),o.x+=2*a.x,o.y+=2*a.y,o.vertexCount+=2,c=n.vertexLength,this.indexArray.emplaceBack(c,c+2,c+1),this.indexArray.emplaceBack(c+1,c+2,c+3),n.vertexLength+=4,n.primitiveLength+=2))}}if(n.vertexLength+t>to.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"===os[e.type]){var u=[],d=[],h=n.vertexLength;for(const e of r)if(0!==e.length){e!==r[0]&&d.push(u.length/2);for(let t=0;t<e.length;t++){var p=e[t];ss(this.layoutVertexArray,p.x,p.y,0,0,1,1,0),o.x+=p.x,o.y+=p.y,o.vertexCount+=1,u.push(p.x),u.push(p.y)}}var m=Pa(u,d);for(let e=0;e<m.length;e+=3)this.indexArray.emplaceBack(h+m[e],h+m[e+2],h+m[e+1]);n.primitiveLength+=m.length/3,n.vertexLength+=t}}for(let e=0;e<o.vertexCount;e++)this.centroidVertexArray.emplaceBack(Math.floor(o.x/o.vertexCount),Math.floor(o.y/o.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}}function cs(e,t){return e.x===t.x&&(e.x<0||e.x>To)||e.y===t.y&&(e.y<0||e.y>To)}function us(e){return e.every((e=>e.x<0))||e.every((e=>e.x>To))||e.every((e=>e.y<0))||e.every((e=>e.y>To))}let ds;mn("FillExtrusionBucket",ls,{omit:["layers","features"]});var hs={get paint(){return ds=ds||new Qn({"fill-extrusion-opacity":new Hn(B["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Un(B["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Hn(B["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Hn(B["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Bn(B["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Un(B["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Un(B["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Hn(B["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ps extends $n{constructor(e){super(e,hs)}createBucket(e){return new ls(e)}queryRadius(){return Wo(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(e,t,r,n,i,o,s,l){return e=jo(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),s=this.paint.get("fill-extrusion-height").evaluate(t,r),t=this.paint.get("fill-extrusion-base").evaluate(t,r),r=function(e,t){var r=[];for(const i of e){var n=[i.x,i.y,0,1];$o(n,n,t),r.push(new a(n[0]/n[3],n[1]/n[3]))}return r}(e,l),e=function(e,t,r,n){var i=[],o=[],s=n[8]*t,l=n[9]*t,c=n[10]*t,u=n[11]*t,d=n[8]*r,h=n[9]*r,p=n[10]*r,m=n[11]*r;for(const t of e){var y=[],f=[];for(const e of t){var g=e.x,b=e.y,v=n[0]*g+n[4]*b+n[12],M=n[1]*g+n[5]*b+n[13],x=n[2]*g+n[6]*b+n[14],S=(g=n[3]*g+n[7]*b+n[15],b=x+c,g+u),w=v+d,_=M+h;x+=p,g+=m,((v=new a((v+s)/S,(M+l)/S)).z=b/S,y.push(v),M=new a(w/g,_/g)).z=x/g,f.push(M)}i.push(y),o.push(f)}return[i,o]}(n,t,s,l),function(e,t,r){let n=1/0;Go(r,t)&&(n=ys(r,t[0]));for(let c=0;c<t.length;c++){var i=t[c],o=e[c];for(let e=0;e<i.length-1;e++){var a=i[e],s=i[e+1],l=o[e];Eo(r,s=[a,s,o[e+1],l,a])&&(n=Math.min(n,ys(r,s)))}}return n!==1/0&&n}(e[0],e[1],r)}}function ms(e,t){return e.x*t.x+e.y*t.y}function ys(e,t){if(1===e.length){let u=0;var r=t[u++];let d;for(;!d||r.equals(d);)if(!(d=t[u++]))return 1/0;for(;u<t.length;u++){var n=t[u],i=e[0],o=d.sub(r),a=n.sub(r),s=(i=i.sub(r),ms(o,o)),l=ms(o,a),c=((c=ms(a,a))*(o=ms(i,o))-l*(i=ms(i,a)))/(a=s*c-l*l);if(s=(s*i-l*o)/a,i=r.z*(1-c-s)+d.z*c+n.z*s,isFinite(i))return i}return 1/0}{let e=1/0;for(const r of t)e=Math.min(e,r.z);return e}}const fs=ni([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,gs=ni([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,bs=Ja.VectorTileFeature.types,vs=Math.cos(Math.PI/180*37.5),Ms=Math.pow(2,14)/.5;class xs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new Fi,this.layoutVertexArray2=new Vi,this.indexArray=new qi,this.programConfigurations=new So(e.layers,e.zoom),this.segments=new to,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){this.hasPattern=Wa("line",this.layers,t);var n,i,o,a,s=this.layers[0].layout.get("line-sort-key"),l=!s.isConstant(),c=[];for({feature:n,id:i,index:o,sourceLayerIndex:a}of e){var u,d=this.layers[0]._featureFilter.needGeometry,h=Lo(n,d);this.layers[0]._featureFilter.filter(new Rn(this.zoom),h,r)&&(u=l?s.evaluate(h,{},r):void 0,d={id:i,properties:n.properties,type:n.type,sourceLayerIndex:a,index:o,geometry:d?h.geometry:ko(n),patterns:{},sortKey:u},c.push(d))}l&&c.sort(((e,t)=>e.sortKey-t.sortKey));for(const n of c){var{geometry:p,index:m,sourceLayerIndex:y}=n,f=(this.hasPattern?(f=ja("line",this.layers,n,this.zoom,t),this.patternFeatures.push(f)):this.addFeature(n,p,m,r,{}),e[m].feature);t.featureIndex.insert(f,p,m,y,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}addFeatures(e,t,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,gs)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,r,n,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const r of t)this.addLine(r,e,a,s,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}addLine(e,t,r,n,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}var a="Polygon"===bs[t.type];let s=e.length;for(;2<=s&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(!(s<(a?3:2))){"bevel"===r&&(i=1.05);var c,u=this.overscaling<=16?15*To/(512*this.overscaling):0,d=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let t,S,w,_;this.e1=this.e2=-1,a&&(t=e[s-2],_=e[l].sub(t)._unit()._perp());for(let T=l;T<s;T++)if(!(c=T===s-1?a?e[l+1]:void 0:e[T+1])||!e[T].equals(c)){_&&(w=_),t&&(S=t),t=e[T],_=c?c.sub(t)._unit()._perp():w;let I=(w=w||_).add(_);0===I.x&&0===I.y||I._unit();var h=w.x*_.x+w.y*_.y,p=0!=(y=I.x*_.x+I.y*_.y)?1/y:1/0,m=2*Math.sqrt(2-2*y),y=y<vs&&S&&c,f=0<w.x*_.y-w.y*_.x,g=(y&&T>l&&2*u<(g=t.dist(S))&&(g=t.sub(t.sub(S)._mult(u/g)._round()),this.updateDistance(S,g),this.addCurrentVertex(g,w,0,0,d),S=g),S&&c);let C=g?r:a?"butt":n;if(g&&"round"===C&&(p<o?C="miter":p<=2&&(C="fakeround")),"bevel"===(C="miter"===C&&i<p?"bevel":C)&&(2<p&&(C="flipbevel"),p<i)&&(C="miter"),S&&this.updateDistance(S,t),"miter"===C)I._mult(p),this.addCurrentVertex(t,I,0,0,d);else if("flipbevel"===C)100<p?I=_.mult(-1):(b=p*w.add(_).mag()/w.sub(_).mag(),I._perp()._mult(b*(f?-1:1))),this.addCurrentVertex(t,I,0,0,d),this.addCurrentVertex(t,I.mult(-1),0,0,d);else if("bevel"===C||"fakeround"===C){var b=-Math.sqrt(p*p-1),v=(p=f?b:0,f?0:b);if(S&&this.addCurrentVertex(t,w,p,v,d),"fakeround"===C){var M=Math.round(180*m/Math.PI/20);for(let e=1;e<M;e++){let r=e/M;.5!==r&&(r+=r*(x=r-.5)*(r-1)*((1.0904+h*(h*(3.55645-1.43519*h)-3.2452))*x*x+(.848013+h*(.215638*h-1.06021))));var x=_.sub(w)._mult(r)._add(w)._unit()._mult(f?-1:1);this.addHalfVertex(t,x.x,x.y,!1,f,0,d)}}c&&this.addCurrentVertex(t,_,-p,-v,d)}else"butt"===C?this.addCurrentVertex(t,I,0,0,d):"square"===C?(m=S?1:-1,this.addCurrentVertex(t,I,m,m,d)):"round"===C&&(S&&(this.addCurrentVertex(t,w,0,0,d),this.addCurrentVertex(t,w,1,1,d,!0)),c)&&(this.addCurrentVertex(t,_,-1,-1,d,!0),this.addCurrentVertex(t,_,0,0,d));y&&T<s-1&&2*u<(p=t.dist(c))&&(v=t.add(c.sub(t)._mult(u/p)._round()),this.updateDistance(t,v),this.addCurrentVertex(v,_,0,0,d),t=v)}}}addCurrentVertex(e,t,r,n,i,o=!1){var a=t.x+t.y*r,s=t.y-t.x*r,l=-t.x+t.y*n,c=-t.y-t.x*n;this.addHalfVertex(e,a,s,o,!1,r,i),this.addHalfVertex(e,l,c,o,!0,-n,i),this.distance>Ms/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(e,t,r,n,i,o))}addHalfVertex({x:e,y:t},r,n,i,o,a,s){var l=.5*(this.lineClips?this.scaledDistance*(Ms-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(o?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&(e=this.scaledDistance-this.lineClips.start,i=this.lineClips.end-this.lineClips.start,this.layoutVertexArray2.emplaceBack(e/i,this.lineClipsArray.length)),t=s.vertexLength++,0<=this.e1&&0<=this.e2&&(this.indexArray.emplaceBack(this.e1,this.e2,t),s.primitiveLength++),o?this.e2=t:this.e1=t}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}let Ss,ws;mn("LineBucket",xs,{omit:["layers","patternFeatures"]});var _s={get paint(){return ws=ws||new Qn({"line-opacity":new Un(B.paint_line["line-opacity"]),"line-color":new Un(B.paint_line["line-color"]),"line-translate":new Hn(B.paint_line["line-translate"]),"line-translate-anchor":new Hn(B.paint_line["line-translate-anchor"]),"line-width":new Un(B.paint_line["line-width"]),"line-gap-width":new Un(B.paint_line["line-gap-width"]),"line-offset":new Un(B.paint_line["line-offset"]),"line-blur":new Un(B.paint_line["line-blur"]),"line-dasharray":new Kn(B.paint_line["line-dasharray"]),"line-pattern":new Bn(B.paint_line["line-pattern"]),"line-gradient":new Jn(B.paint_line["line-gradient"])})},get layout(){return Ss=Ss||new Qn({"line-cap":new Hn(B.layout_line["line-cap"]),"line-join":new Un(B.layout_line["line-join"]),"line-miter-limit":new Hn(B.layout_line["line-miter-limit"]),"line-round-limit":new Hn(B.layout_line["line-round-limit"]),"line-sort-key":new Un(B.layout_line["line-sort-key"])})}};class Ts extends Un{possiblyEvaluate(e,t){return t=new Rn(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,r,n){return t=g({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,r,n)}}let Is;class Cs extends $n{constructor(e){super(e,_s),this.gradientVersion=0,Is||((Is=new Ts(_s.paint.properties["line-width"].specification)).useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(e){"line-gradient"===e&&(function(e){return void 0!==e._styleExpression}(e=this.gradientExpression())?this.stepInterpolant=e._styleExpression.expression instanceof Pt:this.stepInterpolant=!1,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Is.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new xs(e)}queryRadius(e){var t=ks(Oo("line-width",this,e),Oo("line-gap-width",this,e));return e=Oo("line-offset",this,e),t/2+Math.abs(e)+Wo(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,r,n,i,o,s){return e=jo(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),o=s/2*ks(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),function(e,t,r){for(let i=0;i<t.length;i++){var n=t[i];if(3<=e.length)for(let t=0;t<n.length;t++)if(Xo(e,n[t]))return!0;if(function(e,t,r){if(1<e.length){if(Po(e,t))return 1;for(let n=0;n<t.length;n++)if(Ao(t[n],e,r))return 1}for(let n=0;n<e.length;n++)if(Ao(e[n],t,r))return 1}(e,n,r))return!0}return!1}(e,n=(t=this.paint.get("line-offset").evaluate(t,r))?function(e,t){var r=[];for(let c=0;c<e.length;c++){var n=e[c],i=[];for(let e=0;e<n.length;e++){var o=n[e-1],s=n[e],l=n[e+1];o=0===e?new a(0,0):s.sub(o)._unit()._perp(),l=e===n.length-1?new a(0,0):l.sub(s)._unit()._perp(),0!=(l=(o=o._add(l)._unit()).x*l.x+o.y*l.y)&&o._mult(1/l),i.push(o._mult(t)._add(s))}r.push(i)}return r}(n,t*s):n,o)}isTileClipped(){return!0}}function ks(e,t){return 0<t?t+2*e:e}const Ls=ni([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ns=ni([{name:"a_projected_pos",components:3,type:"Float32"}],4),Zs=(ni([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ni([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Es=(ni([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ni([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4));function zs(e,t,r){return e.sections.forEach((e=>{var n,i;e.text=(e=e.text,i=r,"uppercase"===(n=(n=t).layout.get("text-transform").evaluate(i,{}))?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),e=An.applyArabicShaping?An.applyArabicShaping(e):e)})),e}Jt=ni([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4),ni([{name:"triangle",components:3,type:"Uint16"}]),ni([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ni([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ni([{type:"Float32",name:"offsetX"}]),ni([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ni([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Gs={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Ps=24,As=(Ut={read:function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1;for(i=e[t+d],d+=h,o=i&(1<<-u)-1,i>>=-u,u+=s;0<u;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;0<u;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,n),o-=c}return(i?-1:1)*a*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var a,s,l=8*o-i-1,c=(1<<l)-1,u=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-a))<1&&(a--,n*=2),2<=(t+=1<=a+u?d/n:d*Math.pow(2,1-u))*n&&(a++,n/=2),c<=a+u?(s=0,a=c):1<=a+u?(s=(t*n-1)*Math.pow(2,i),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));8<=i;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;e[r+h]=255&a,h+=p,a/=256,l-=8);e[r+h-p]|=128*o}},Bt=Rs,Ut);function Rs(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Rs.Varint=0,Rs.Fixed64=1,Rs.Bytes=2,Rs.Fixed32=5;var Ds=4294967296,Xs=1/Ds,Os="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ws(e){return e.type===Rs.Bytes?e.readVarint()+e.pos:e.pos+1}function js(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Ys(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;e<=i;i--)r.buf[i+n]=r.buf[i]}function Fs(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Vs(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Hs(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Us(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function Bs(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Ks(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Js(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Qs(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function qs(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function $s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function el(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function tl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Rs.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=$s(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=tl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=$s(this.buf,this.pos)+$s(this.buf,this.pos+4)*Ds;return this.pos+=8,e},readSFixed64:function(){var e=$s(this.buf,this.pos)+tl(this.buf,this.pos+4)*Ds;return this.pos+=8,e},readFloat:function(){var e=As.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=As.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=127&(i=(o=this.buf)[this.pos++]);if(i<128)return t;if(t|=(127&(i=o[this.pos++]))<<7,i<128)return t;if(t|=(127&(i=o[this.pos++]))<<14,i<128)return t;if(t|=(127&(i=o[this.pos++]))<<21,i<128)return t;var r,n,i=t|=(15&o[this.pos])<<28,o=e;if(r=(112&(n=(e=(t=this).buf)[t.pos++]))>>4,n<128)return js(i,r,o);if(r|=(127&(n=e[t.pos++]))<<3,n<128)return js(i,r,o);if(r|=(127&(n=e[t.pos++]))<<10,n<128)return js(i,r,o);if(r|=(127&(n=e[t.pos++]))<<17,n<128)return js(i,r,o);if(r|=(127&(n=e[t.pos++]))<<24,n<128)return js(i,r,o);if(r|=(1&(n=e[t.pos++]))<<31,n<128)return js(i,r,o);throw new Error("Expected varint not more than 10 bytes")},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;if(12<=(this.pos=e)-t&&Os)return r=this.buf,Os.decode(r.subarray(t,e));for(var r,n,i,o,a=this.buf,s=e,l="",c=t;c<s;){var u=a[c],d=null,h=239<u?4:223<u?3:191<u?2:1;if(s<c+h)break;1===h?u<128&&(d=u):2===h?128==(192&(n=a[c+1]))&&(d=(31&u)<<6|63&n)<=127&&(d=null):3===h?(n=a[c+1],i=a[c+2],128==(192&n)&&128==(192&i)&&((d=(15&u)<<12|(63&n)<<6|63&i)<=2047||55296<=d&&d<=57343)&&(d=null)):4===h&&(n=a[c+1],i=a[c+2],o=a[c+3],128==(192&n))&&128==(192&i)&&128==(192&o)&&((d=(15&u)<<18|(63&n)<<12|(63&i)<<6|63&o)<=65535||1114112<=d)&&(d=null),null===d?(d=65533,h=1):65535<d&&(d-=65536,l+=String.fromCharCode(d>>>10&1023|55296),d=56320|1023&d),l+=String.fromCharCode(d),c+=h}return l},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Rs.Bytes)return e.push(this.readVarint(t));var r=Ws(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Rs.Bytes)return e.push(this.readSVarint());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Rs.Bytes)return e.push(this.readBoolean());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Rs.Bytes)return e.push(this.readFloat());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Rs.Bytes)return e.push(this.readDouble());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Rs.Bytes)return e.push(this.readFixed32());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Rs.Bytes)return e.push(this.readSFixed32());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Rs.Bytes)return e.push(this.readFixed64());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Rs.Bytes)return e.push(this.readSFixed64());var t=Ws(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){if((e&=7)===Rs.Varint)for(;127<this.buf[this.pos++];);else if(e===Rs.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Rs.Fixed32)this.pos+=4;else{if(e!==Rs.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t,r=this.length||16;r<this.pos+e;)r*=2;r!==this.length&&((t=new Uint8Array(r)).set(this.buf),this.buf=t,this.length=r)},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),el(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),el(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),el(this.buf,-1&e,this.pos),el(this.buf,Math.floor(e*Xs),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),el(this.buf,-1&e,this.pos),el(this.buf,Math.floor(e*Xs),this.pos+4),this.pos+=8},writeVarint:function(e){if(268435455<(e=+e||0)||e<0){var t=this;if(0<=(r=e)?(n=r%4294967296|0,i=r/4294967296|0):(i=~(-r/4294967296),4294967295^(n=~(-r%4294967296))?n=n+1|0:i=i+1|(n=0)),0x10000000000000000<=r||r<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10);var r=n,n=t,i=(n.buf[n.pos++]=127&r|128,r>>>=7,n.buf[n.pos++]=127&r|128,r>>>=7,n.buf[n.pos++]=127&r|128,r>>>=7,n.buf[n.pos++]=127&r|128,r>>>=7,n.buf[n.pos]=127&r,r=i,t);t=(7&r)<<4,i.buf[i.pos++]|=t|((r>>>=3)?128:0),r&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r)&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r)&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r)&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r)&&(i.buf[i.pos++]=127&r)}else this.realloc(4),this.buf[this.pos++]=127&e|(127<e?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0),e<=127)||(this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0),e<=127)||(this.buf[this.pos++]=e>>>7&127)},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if(55295<(n=t.charCodeAt(o))&&n<57344){if(!i){56319<n||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos),128<=(e=this.pos-t)&&Ys(t,e,this),this.pos=t-1,this.writeVarint(e),this.pos+=e},writeFloat:function(e){this.realloc(4),As.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),As.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;128<=(e(t,this),e=this.pos-r)&&Ys(r,e,this),this.pos=r-1,this.writeVarint(e),this.pos+=e},writeMessage:function(e,t,r){this.writeTag(e,Rs.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Fs,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Vs,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Bs,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Hs,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Us,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Ks,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Js,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Qs,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,qs,t)},writeBytesField:function(e,t){this.writeTag(e,Rs.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Rs.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Rs.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Rs.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Rs.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Rs.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Rs.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Rs.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Rs.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Rs.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var rl,nl=r(Bt);function il(e,t,r){1===e&&r.readMessage(ol,t)}function ol(e,t,r){var n,i,o,a,s;3===e&&(({id:e,bitmap:r,width:n,height:i,left:o,top:a,advance:s}=r.readMessage(al,{})),t.push({id:e,bitmap:new ca({width:n+6,height:i+6},r),metrics:{width:n,height:i,left:o,top:a,advance:s}}))}function al(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function sl(e){let t=0,r=0;for(const n of e)t+=n.w*n.h,r=Math.max(r,n.w);e.sort(((e,t)=>t.h-e.h));var n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}];let i=0,o=0;for(const t of e)for(let e=n.length-1;0<=e;e--){var a,s=n[e];if(!(t.w>s.w||t.h>s.h)){t.x=s.x,t.y=s.y,o=Math.max(o,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===s.w&&t.h===s.h?(a=n.pop(),e<n.length&&(n[e]=a)):t.h===s.h?(s.x+=t.w,s.w-=t.w):(t.w!==s.w&&n.push({x:s.x+t.w,y:s.y,w:s.w-t.w,h:t.h}),s.y+=t.h,s.h-=t.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}(Qt=rl=rl||{}).none="none",Qt.height="height",Qt.width="width";class ll{constructor(e,{pixelRatio:t,version:r,stretchX:n,stretchY:i,content:o,contentMatch:a}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=n,this.stretchY=i,this.content=o,this.version=r,this.contentMatch=a}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class cl{constructor(e,t){var r={},n={},i=(this.haveRenderCallbacks=[],[]);this.addImages(e,r,i),this.addImages(t,n,i);const{w:o,h:a}=sl(i);var s=new ua({width:o||1,height:a||1});for(const t in e){var l=e[t],c=r[t].paddedRect;ua.copy(l.data,s,{x:0,y:0},{x:c.x+1,y:c.y+1},l.data)}for(const e in t){var u=t[e],d=n[e].paddedRect;const r=d.x+1,i=d.y+1,o=u.data.width,a=u.data.height;ua.copy(u.data,s,{x:0,y:0},{x:r,y:i},u.data),ua.copy(u.data,s,{x:0,y:a-1},{x:r,y:i-1},{width:o,height:1}),ua.copy(u.data,s,{x:0,y:0},{x:r,y:i+a},{width:o,height:1}),ua.copy(u.data,s,{x:o-1,y:0},{x:r-1,y:i},{width:1,height:a}),ua.copy(u.data,s,{x:0,y:0},{x:r+o,y:i},{width:1,height:a})}this.image=s,this.iconPositions=r,this.patternPositions=n}addImages(e,t,r){for(const o in e){var n=e[o],i={x:0,y:0,w:n.data.width+2,h:n.data.height+2};r.push(i),t[o]=new ll(i,n),n.hasRenderCallback&&this.haveRenderCallbacks.push(o)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r in e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)}patchUpdatedImage(e,t,r){var n;e&&t&&e.version!==t.version&&(e.version=t.version,[e,n]=e.tl,r.update(t.data,void 0,{x:e,y:n}))}}mn("ImagePosition",ll),mn("ImageAtlas",cl),e.WritingMode=void 0,(Ut=e.WritingMode||(e.WritingMode={}))[Ut.none=0]="none",Ut[Ut.horizontal=1]="horizontal",Ut[Ut.vertical=2]="vertical",Ut[Ut.horizontalOnly=3]="horizontalOnly";const ul=-17;class dl{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){var r=new dl;return r.scale=e||1,r.fontStack=t,r}static forImage(e){var t=new dl;return t.imageName=e,t}}class hl{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){var r=new hl;for(let i=0;i<e.sections.length;i++){var n=e.sections[i];n.image?r.addImageSection(n):r.addTextSection(n,t)}return r}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let i=0;i<e.length;i++){var r=e.charCodeAt(i+1)||null,n=e.charCodeAt(i-1)||null;r&&wn(r)&&!Gs[e[i+1]]||n&&wn(n)&&!Gs[e[i-1]]||!Gs[e[i]]?t+=e[i]:t+=Gs[e[i]]}return t}(this.text)}trim(){let e=0;for(let t=0;t<this.text.length&&ml[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let r=this.text.length-1;0<=r&&r>=e&&ml[this.text.charCodeAt(r)];r--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){var r=new hl;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(dl.forText(e.scale,e.fontStack||t));var r=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(r)}addImageSection(e){var t;0===(e=e.image?e.image.name:"").length?w("Can't add FormattedSection with an empty image."):(t=this.getNextImageSectionCharCode())?(this.text+=String.fromCharCode(t),this.sections.push(dl.forImage(e)),this.sectionIndex.push(this.sections.length-1)):w("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?63743<=this.imageSectionID?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function pl(t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f){var g=hl.fromFeature(t,o);let b;h===e.WritingMode.vertical&&g.verticalizePunctuation();var{processBidirectionalText:t,processStyledBidirectionalText:o}=An;if(t&&1===g.sections.length){b=[];for(const e of t(g.toString(),vl(g,u,a,r,i,m,y))){var v=new hl;v.text=e,v.sections=g.sections;for(let t=0;t<e.length;t++)v.sectionIndex.push(0);b.push(v)}}else if(o){b=[];for(const e of o(g.text,g.sectionIndex,vl(g,u,a,r,i,m,y))){var M=new hl;M.text=e[0],M.sectionIndex=e[1],M.sections=g.sections,b.push(M)}}else b=function(e,t){var r=[],n=e.text;let i=0;for(const n of t)r.push(e.substring(i,n)),i=n;return i<n.length&&r.push(e.substring(i,n.length)),r}(g,vl(g,u,a,r,i,m,y));o={positionedLines:t=[],text:g.toString(),top:d[1],bottom:d[1],left:d[0],right:d[0],writingMode:h,iconsInText:!1,verticalizable:!1};{var x=o,S=r,w=n,_=i,T=(a=b,s),I=(m=l,y=c,h),C=u,k=p,L=f;let t=0,g=ul,v=0,M=0;var N="right"===y?1:"left"===y?0:.5;let $=0;for(const r of a){r.trim();var Z=r.getMaxScale(),E=(Z-1)*Ps,z={positionedGlyphs:[],lineOffset:0},G=(x.positionedLines[$]=z).positionedGlyphs;let n=0;if(r.length()){for(let i=0;i<r.length();i++){var P=r.getSection(i),A=r.getSectionIndex(i),R=r.getCharCode(i);let o=0,a=null,s=null,l=null,c=Ps;var D=!(I===e.WritingMode.horizontal||!k&&!Sn(R)||k&&(ml[R]||function(e){return vn.Arabic(e)||vn["Arabic Supplement"](e)||vn["Arabic Extended-A"](e)||vn["Arabic Presentation Forms-A"](e)||vn["Arabic Presentation Forms-B"](e)}(R)));if(P.imageName){if(!(O=_[P.imageName]))continue;l=P.imageName,x.iconsInText=x.iconsInText||!0,s=O.paddedRect;var X,O=O.displaySize;0<(o=E+(P.scale=P.scale*Ps/L,a={width:O[0],height:O[1],left:1,top:-3,advance:D?O[1]:O[0]},X=Ps-O[1]*P.scale),c=a.advance,X=D?O[0]*P.scale-Ps*Z:O[1]*P.scale-Ps*Z)&&X>n&&(n=X)}else{if((X=(O=w[P.fontStack])&&O[R])&&X.rect)s=X.rect,a=X.metrics;else{var W;if(!(W=(W=S[P.fontStack])&&W[R]))continue;a=W.metrics}o=(Z-P.scale)*Ps}D?(x.verticalizable=!0,G.push({glyph:R,imageName:l,x:t,y:g+o,vertical:D,scale:P.scale,fontStack:P.fontStack,sectionIndex:A,metrics:a,rect:s}),t+=c*P.scale+C):(G.push({glyph:R,imageName:l,x:t,y:g+o,vertical:D,scale:P.scale,fontStack:P.fontStack,sectionIndex:A,metrics:a,rect:s}),t+=a.advance*P.scale+C)}0!==G.length&&(j=t-C,v=Math.max(j,v),function(e,t,r,n,i){if(n||i){var o=(o=e[r]).metrics.advance*o.scale,a=(e[r].x+o)*n;for(let t=0;t<=r;t++)e[t].x-=a,e[t].y+=i}}(G,0,G.length-1,N,n)),t=0;var j=T*Z+n;z.lineOffset=Math.max(n,E),g+=j,M=Math.max(j,M)}else g+=T;++$}y=g-ul;var{horizontalAlign:m,verticalAlign:d}=Ml(m);{var Y=x.positionedLines,F=N,V=m,H=d,U=v,B=M,K=T,J=y,Q=a.length,q=(F-V)*U;let e=0;e=B!==K?-J*H-ul:(-H*Q+.5)*K;for(const t of Y)for(const r of t.positionedGlyphs)r.x+=q,r.y+=e}x.top+=-d*y,x.bottom=x.top+y,x.left+=-m*v,x.right=x.left+v}return!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return;return 1}(t)&&o}const ml={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yl={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function fl(e,t,r,n,i,o){return t.imageName?(n=n[t.imageName])?n.displaySize[0]*t.scale*Ps/o+i:0:(o=(n=r[t.fontStack])&&n[e])?o.metrics.advance*t.scale+i:0}function gl(e,t,r,n){var i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function bl(e,t,r,n,i,o){let a=null,s=gl(t,r,i,o);for(const e of n){var l=gl(t-e.x,r,i,o)+e.badness;l<=s&&(a=e,s=l)}return{index:e,x:t,priorBreak:a,badness:s}}function vl(e,t,r,n,i,o,a){if("point"!==o)return[];if(!e)return[];var s=[],l=function(e,t,r,n,i,o){let a=0;for(let r=0;r<e.length();r++){var s=e.getSection(r);a+=fl(e.getCharCode(r),s,n,i,t,o)}return a/Math.max(1,Math.ceil(a/r))}(e,t,r,n,i,a),c=0<=e.text.indexOf("");let u=0;for(let r=0;r<e.length();r++){var d,h=e.getSection(r),p=e.getCharCode(r);ml[p]||(u+=fl(p,h,n,i,t,a)),r<e.length()-1&&(d=!((d=p)<11904||!vn["Bopomofo Extended"](d)&&!(vn.Bopomofo(d)||vn["CJK Compatibility Forms"](d)||vn["CJK Compatibility Ideographs"](d)||vn["CJK Compatibility"](d)||vn["CJK Radicals Supplement"](d)||vn["CJK Strokes"](d)||vn["CJK Symbols and Punctuation"](d)||vn["CJK Unified Ideographs Extension A"](d)||vn["CJK Unified Ideographs"](d)||vn["Enclosed CJK Letters and Months"](d)||vn["Halfwidth and Fullwidth Forms"](d)||vn.Hiragana(d)||vn["Ideographic Description Characters"](d)||vn["Kangxi Radicals"](d)||vn["Katakana Phonetic Extensions"](d)||vn.Katakana(d)||vn["Vertical Forms"](d)||vn["Yi Radicals"](d)||vn["Yi Syllables"](d))),yl[p]||d||h.imageName)&&s.push(bl(r+1,u,l,s,function(e,t,r){let n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}(p,e.getCharCode(r+1),d&&c),!1))}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(bl(e.length(),u,l,s,0,!0))}function Ml(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function xl(e){let t=e.left,r=e.top,n=e.right-t,i=e.bottom-r;var o=e.image.content[2]-e.image.content[0],a=e.image.content[3]-e.image.content[1];return 0!=a&&0!==n&&0!==i&&(o/=a,e.image.contentMatch===rl.height?n/i<o&&(t*=(a=i*o)/n,n=a):e.image.contentMatch===rl.width&&0!=o&&n/i>o&&(r*=(a=n/o)/a,i=a)),{x1:t,y1:r,x2:t+n,y2:r+i}}function Sl(e,t,r,n,i,o){let a;(e=e.image).content&&(s=e.content,l=e.pixelRatio||1,a=[s[0]/l,s[1]/l,e.displaySize[0]-s[2]/l,e.displaySize[1]-s[3]/l]);var s=t.left*o,l=t.right*o;let c,u,d,h;return u="width"===r||"both"===r?(h=i[0]+s-n[3],i[0]+l+n[1]):(h=i[0]+(s+l-e.displaySize[0])/2)+e.displaySize[0],s=t.top*o,l=t.bottom*o,d="height"===r||"both"===r?(c=i[1]+s-n[0],i[1]+l+n[2]):(c=i[1]+(s+l-e.displaySize[1])/2)+e.displaySize[1],{image:e,top:c,right:u,bottom:d,left:h,collisionPadding:a}}const wl=128,_l=32640;function Tl(e,t){if("constant"===(t=t.expression).kind)return{kind:"constant",layoutSize:t.evaluate(new Rn(e+1))};if("source"===t.kind)return{kind:"source"};{var{zoomStops:r,interpolationType:n}=t;let a=0;for(;a<r.length&&r[a]<=e;)a++;let s=a=Math.max(0,a-1);for(;s<r.length&&r[s]<e+1;)s++;s=Math.min(r.length-1,s);var i=r[a],o=r[s];return"composite"===t.kind?{kind:"composite",minZoom:i,maxZoom:o,interpolationType:n}:{kind:"camera",minZoom:i,maxZoom:o,minSize:t.evaluate(new Rn(i)),maxSize:t.evaluate(new Rn(o)),interpolationType:n}}}function Il(e,t,r){let n="never";return(t=e.get(t))?n=t:e.get(r)&&(n="always"),n}const Cl=Ja.VectorTileFeature.types,kl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ll(e,t,r,n,i,o,a,s,l,c,u,d,h){var p=s?Math.min(_l,Math.round(s[0])):0;s=s?Math.min(_l,Math.round(s[1])):0,e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),o,a,(p<<1)+(l?1:0),s,16*c,16*u,256*d,256*h)}function Nl(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function Zl(e){for(const t of e.sections)if(function(e){for(const t of e)if(_n(t.charCodeAt(0)))return 1}(t.text))return 1}class El{constructor(e){this.layoutVertexArray=new Ui,this.indexArray=new qi,this.programConfigurations=e,this.segments=new to,this.dynamicLayoutVertexArray=new Bi,this.opacityVertexArray=new Ki,this.hasVisibleVertices=!1,this.placedSymbolArray=new Zi}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,r,n){!this.isEmpty()&&(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ls.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Ns.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,kl,!0),this.opacityVertexBuffer.itemSize=1),r||n)&&this.programConfigurations.upload(e)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}mn("SymbolBuffers",El);class zl{constructor(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new to,this.collisionVertexArray=new Qi}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Zs.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}mn("CollisionBuffers",zl);class Gl{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ko([]),this.placementViewportMatrix=Ko([]);var r=this.layers[0]._unevaluatedLayout._values,n=(this.textSizeData=Tl(this.zoom,r["text-size"]),this.iconSizeData=Tl(this.zoom,r["icon-size"]),r=this.layers[0].layout).get("symbol-sort-key"),i=r.get("symbol-z-order");this.canOverlap="never"!==Il(r,"text-overlap","text-allow-overlap")||"never"!==Il(r,"icon-overlap","icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&!n.isConstant(),n="viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey,this.sortFeaturesByY=n&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((t=>e.WritingMode[t]))),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=t.sourceID}createArrays(){this.text=new El(new So(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new El(new So(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new Gi,this.lineVertexArray=new Pi,this.symbolInstances=new zi,this.textAnchorOffsets=new Ri}calculateGlyphDependencies(e,t,r,n,i){for(let a=0;a<e.length;a++){var o;t[e.charCodeAt(a)]=!0,(r||n)&&i&&(o=Gs[e.charAt(a)])&&(t[o.charCodeAt(0)]=!0)}}populate(t,r,n){var i=this.layers[0],o=i.layout,a=o.get("text-font"),s=o.get("text-field"),l=o.get("icon-image"),c=("constant"!==s.value.kind||s.value.value instanceof Ke&&!s.value.value.isEmpty()||0<s.value.value.toString().length)&&("constant"!==a.value.kind||0<a.value.value.length),u="constant"!==l.value.kind||!!l.value.value||0<Object.keys(l.parameters).length,d=o.get("symbol-sort-key");if(this.features=[],c||u){var h,p,m,y,f=r.iconDependencies,g=r.glyphDependencies,b=r.availableImages,v=new Rn(this.zoom);for({feature:h,id:p,index:m,sourceLayerIndex:y}of t){var M=i._featureFilter.needGeometry,x=Lo(h,M);if(i._featureFilter.filter(v,x,n)){let t,r;if(M||(x.geometry=ko(h)),c&&(M=i.getValueAndResolveTokens("text-field",x,n,b),Zl(M=Ke.factory(M))&&(this.hasRTLText=!0),!this.hasRTLText||"unavailable"===zn()||this.hasRTLText&&An.isParsed())&&(t=zs(M,i,x)),u&&(r=(M=i.getValueAndResolveTokens("icon-image",x,n,b))instanceof $e?M:$e.fromString(M)),(t||r)&&(M=this.sortFeaturesByKey?d.evaluate(x,{},n):void 0,M={id:p,text:t,icon:r,index:m,sourceLayerIndex:y,geometry:x.geometry,properties:h.properties,type:Cl[h.type],sortKey:M},this.features.push(M),r&&(f[r.name]=!0),t)){var S,w,_=a.evaluate(x,{},n).join(","),T="viewport"!==o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&0<=this.writingModes.indexOf(e.WritingMode.vertical);for(const e of t.sections)e.image?f[e.image.name]=!0:(S=Mn(t.toString()),w=g[w=e.fontStack||_]=g[w]||{},this.calculateGlyphDependencies(e.text,w,T,this.allowVerticalPlacement,S))}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},r={},n=[];let i=0;function o(t){n.push(e[t]),i++}function a(e,t,i){var o=r[e];return delete r[e],r[t]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(i[0]),o}function s(e,r,i){var o=t[r];return delete t[r],t[e]=o,n[o].geometry[0].shift(),n[o].geometry[0]=i[0].concat(n[o].geometry[0]),o}function l(e,t,r){return`${e}:${(r=r?t[0][t[0].length-1]:t[0][0]).x}:`+r.y}for(let y=0;y<e.length;y++){var c,u,d,h,p,m=(p=e[y]).geometry;(p=p.text?p.text.toString():null)?(c=l(p,m),u=l(p,m,!0),c in r&&u in t&&r[c]!==t[u]?(d=s(c,u,m),h=a(c,u,n[d].geometry),delete t[c],delete r[u],r[l(p,n[h].geometry,!0)]=h,n[d].geometry=null):c in r?a(c,u,m):u in t?s(c,u,m):(o(y),t[c]=i-1,r[u]=i-1)):o(y)}return n.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}}update(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){let r=e.dist(t[e.segment+1]),o=e.dist(t[e.segment]);var n={};for(let i=e.segment+1;i<t.length;i++)n[i]={x:t[i].x,y:t[i].y,tileUnitDistanceFromAnchor:r},i<t.length-1&&(r+=t[i+1].dist(t[i]));for(let r=e.segment||0;0<=r;r--)n[r]={x:t[r].x,y:t[r].y,tileUnitDistanceFromAnchor:o},0<r&&(o+=t[r-1].dist(t[r]));for(let e=0;e<t.length;e++){var i=n[e];this.lineVertexArray.emplaceBack(i.x,i.y,i.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(t,r,n,i,o,a,s,l,c,u,d,h){var p=t.indexArray,m=t.layoutVertexArray,y=t.segments.prepareSegment(4*r.length,m,p,this.canOverlap?a.sortKey:void 0),f=this.glyphOffsetArray.length,g=y.vertexLength,b=this.allowVerticalPlacement&&s===e.WritingMode.vertical?Math.PI/2:0,v=a.text&&a.text.sections;for(let e=0;e<r.length;e++){var{tl:M,tr:x,bl:S,br:w,tex:_,pixelOffsetTL:T,pixelOffsetBR:I,minFontScaleX:C,minFontScaleY:k,glyphOffset:L,isSDF:N,sectionIndex:Z}=r[e],E=y.vertexLength,z=L[1];Ll(m,l.x,l.y,M.x,z+M.y,_.x,_.y,n,N,T.x,T.y,C,k),Ll(m,l.x,l.y,x.x,z+x.y,_.x+_.w,_.y,n,N,I.x,T.y,C,k),Ll(m,l.x,l.y,S.x,z+S.y,_.x,_.y+_.h,n,N,T.x,I.y,C,k),Ll(m,l.x,l.y,w.x,z+w.y,_.x+_.w,_.y+_.h,n,N,I.x,I.y,C,k),Nl(t.dynamicLayoutVertexArray,l,b),p.emplaceBack(E,E+1,E+2),p.emplaceBack(E+1,E+2,E+3),y.vertexLength+=4,y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(L[0]),e!==r.length-1&&Z===r[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(m.length,a,a.index,{},h,v&&v[Z])}t.placedSymbolArray.emplaceBack(l.x,l.y,f,this.glyphOffsetArray.length-f,g,c,u,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],s,0,!1,0,d)}_addCollisionDebugVertex(e,t,r,n,i,o){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,i,Math.round(o.x),Math.round(o.y))}addCollisionDebugVertices(e,t,r,n,i,o,s){var l=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),c=l.vertexLength,u=i.layoutVertexArray,d=i.collisionVertexArray,h=s.anchorX;s=s.anchorY,(this._addCollisionDebugVertex(u,d,o,h,s,new a(e,t)),this._addCollisionDebugVertex(u,d,o,h,s,new a(r,t)),this._addCollisionDebugVertex(u,d,o,h,s,new a(r,n)),this._addCollisionDebugVertex(u,d,o,h,s,new a(e,n)),l.vertexLength+=4,t=i.indexArray).emplaceBack(c,c+1),t.emplaceBack(c+1,c+2),t.emplaceBack(c+2,c+3),t.emplaceBack(c+3,c),l.primitiveLength+=4}addDebugCollisionBoxes(e,t,r,n){for(let c=e;c<t;c++){var i=this.collisionBoxArray.get(c),o=i.x1,a=i.y1,s=i.x2,l=i.y2;this.addCollisionDebugVertices(o,a,s,l,n?this.textCollisionBox:this.iconCollisionBox,i.anchorPoint,r)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new zl(Ji,Es.members,$i),this.iconCollisionBox=new zl(Ji,Es.members,$i);for(let t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}}_deserializeCollisionBoxesForSymbol(e,t,r,n,i,o,a,s,l){var c={};for(let n=t;n<r;n++){var u=e.get(n);c.textBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY},c.textFeatureIndex=u.featureIndex;break}for(let t=n;t<i;t++){var d=e.get(t);c.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},c.verticalTextFeatureIndex=d.featureIndex;break}for(let t=o;t<a;t++){var h=e.get(t);c.iconBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},c.iconFeatureIndex=h.featureIndex;break}for(let t=s;t<l;t++){var p=e.get(t);c.verticalIconBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},c.verticalIconFeatureIndex=p.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let r=0;r<this.symbolInstances.length;r++){var t=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,t.textBoxStartIndex,t.textBoxEndIndex,t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t.iconBoxStartIndex,t.iconBoxEndIndex,t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex))}}hasTextData(){return 0<this.text.segments.get().length}hasIconData(){return 0<this.icon.segments.get().length}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&0<this.textCollisionBox.segments.get().length}hasIconCollisionBoxData(){return this.hasDebugData()&&0<this.iconCollisionBox.segments.get().length}addIndicesForPlacedSymbol(e,t){var r=(t=e.placedSymbolArray.get(t)).vertexStartIndex+4*t.numGlyphs;for(let n=t.vertexStartIndex;n<r;n+=4)e.indexArray.emplaceBack(n,n+1,n+2),e.indexArray.emplaceBack(n+1,n+2,n+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;var t=Math.sin(e),r=Math.cos(e);const n=[],i=[];var o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);var a=this.symbolInstances.get(e);n.push(0|Math.round(t*a.anchorX+r*a.anchorY)),i.push(a.featureIndex)}return o.sort(((e,t)=>n[e]-n[t]||i[t]-i[e])),o}addToSortKeyRanges(e,t){var r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(1<this.text.segments.get().length||1<this.icon.segments.get().length)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){var t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach(((e,t,r)=>{0<=e&&r.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)})),0<=t.verticalPlacedTextSymbolIndex&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),0<=t.placedIconSymbolIndex&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),0<=t.verticalPlacedIconSymbolIndex&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Pl,Al;mn("SymbolBucket",Gl,{omit:["layers","collisionBoxArray","features","compareText"]}),Gl.MAX_GLYPHS=65535,Gl.addDynamicAttributes=Nl;var Rl={get paint(){return Al=Al||new Qn({"icon-opacity":new Un(B.paint_symbol["icon-opacity"]),"icon-color":new Un(B.paint_symbol["icon-color"]),"icon-halo-color":new Un(B.paint_symbol["icon-halo-color"]),"icon-halo-width":new Un(B.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Un(B.paint_symbol["icon-halo-blur"]),"icon-translate":new Hn(B.paint_symbol["icon-translate"]),"icon-translate-anchor":new Hn(B.paint_symbol["icon-translate-anchor"]),"text-opacity":new Un(B.paint_symbol["text-opacity"]),"text-color":new Un(B.paint_symbol["text-color"],{runtimeType:de,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Un(B.paint_symbol["text-halo-color"]),"text-halo-width":new Un(B.paint_symbol["text-halo-width"]),"text-halo-blur":new Un(B.paint_symbol["text-halo-blur"]),"text-translate":new Hn(B.paint_symbol["text-translate"]),"text-translate-anchor":new Hn(B.paint_symbol["text-translate-anchor"])})},get layout(){return Pl=Pl||new Qn({"symbol-placement":new Hn(B.layout_symbol["symbol-placement"]),"symbol-spacing":new Hn(B.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Hn(B.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Un(B.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Hn(B.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Hn(B.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Hn(B.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Hn(B.layout_symbol["icon-ignore-placement"]),"icon-optional":new Hn(B.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Hn(B.layout_symbol["icon-rotation-alignment"]),"icon-size":new Un(B.layout_symbol["icon-size"]),"icon-text-fit":new Hn(B.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Hn(B.layout_symbol["icon-text-fit-padding"]),"icon-image":new Un(B.layout_symbol["icon-image"]),"icon-rotate":new Un(B.layout_symbol["icon-rotate"]),"icon-padding":new Un(B.layout_symbol["icon-padding"]),"icon-keep-upright":new Hn(B.layout_symbol["icon-keep-upright"]),"icon-offset":new Un(B.layout_symbol["icon-offset"]),"icon-anchor":new Un(B.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Hn(B.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Hn(B.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Hn(B.layout_symbol["text-rotation-alignment"]),"text-field":new Un(B.layout_symbol["text-field"]),"text-font":new Un(B.layout_symbol["text-font"]),"text-size":new Un(B.layout_symbol["text-size"]),"text-max-width":new Un(B.layout_symbol["text-max-width"]),"text-line-height":new Hn(B.layout_symbol["text-line-height"]),"text-letter-spacing":new Un(B.layout_symbol["text-letter-spacing"]),"text-justify":new Un(B.layout_symbol["text-justify"]),"text-radial-offset":new Un(B.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Hn(B.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Un(B.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Un(B.layout_symbol["text-anchor"]),"text-max-angle":new Hn(B.layout_symbol["text-max-angle"]),"text-writing-mode":new Hn(B.layout_symbol["text-writing-mode"]),"text-rotate":new Un(B.layout_symbol["text-rotate"]),"text-padding":new Hn(B.layout_symbol["text-padding"]),"text-keep-upright":new Hn(B.layout_symbol["text-keep-upright"]),"text-transform":new Un(B.layout_symbol["text-transform"]),"text-offset":new Un(B.layout_symbol["text-offset"]),"text-allow-overlap":new Hn(B.layout_symbol["text-allow-overlap"]),"text-overlap":new Hn(B.layout_symbol["text-overlap"]),"text-ignore-placement":new Hn(B.layout_symbol["text-ignore-placement"]),"text-optional":new Hn(B.layout_symbol["text-optional"])})}};class Dl{constructor(e){if(void 0===e.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:se,this.defaultValue=e}evaluate(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}mn("FormatSectionOverride",Dl,{omit:["defaultValue"]});class Xl extends $n{constructor(e){super(e,Rl)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement"))if(e=this.layout.get("text-writing-mode")){var r=[];for(const t of e)r.indexOf(t)<0&&r.push(t);this.layout._values["text-writing-mode"]=r}else this.layout._values["text-writing-mode"]=["horizontal"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,r,n){return r=this.layout.get(e).evaluate(t,{},r,n),(n=this._unevaluatedLayout._values[e]).isDataDriven()||br(n.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,((t,r)=>e&&r in e?String(e[r]):""))}(t.properties,r)}createBucket(e){return new Gl(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const r of Rl.paint.overridableProperties)if(Xl.hasPaintOverride(this.layout,r)){var e=this.paint.get(r),t=new Dl(e);t=new gr(t,e.property.specification);let n=null;n="constant"===e.value.kind||"source"===e.value.kind?new Mr("source",t):new xr("composite",t,e.value.zoomStops),this.paint._values[r]=new Fn(e.property,n,e.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&Xl.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){e=e.get("text-field");const r=Rl.paint.properties[t];let n=!1;const i=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(n=!0)};if("constant"===e.value.kind&&e.value.value instanceof Ke)i(e.value.value.sections);else if("source"===e.value.kind){const r=e=>{var t;n||(e instanceof it&&rt(e.value)===ye?(t=e.value,i(t.sections)):e instanceof qt?i(e.sections):e.eachChild(r))};(t=e.value)._styleExpression&&r(t._styleExpression.expression)}return n}}let Ol;var Wl={get paint(){return Ol=Ol||new Qn({"background-color":new Hn(B.paint_background["background-color"]),"background-pattern":new Kn(B.paint_background["background-pattern"]),"background-opacity":new Hn(B.paint_background["background-opacity"])})}};class jl extends $n{constructor(e){super(e,Wl)}}let Yl;var Fl={get paint(){return Yl=Yl||new Qn({"raster-opacity":new Hn(B.paint_raster["raster-opacity"]),"raster-hue-rotate":new Hn(B.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Hn(B.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Hn(B.paint_raster["raster-brightness-max"]),"raster-saturation":new Hn(B.paint_raster["raster-saturation"]),"raster-contrast":new Hn(B.paint_raster["raster-contrast"]),"raster-resampling":new Hn(B.paint_raster["raster-resampling"]),"raster-fade-duration":new Hn(B.paint_raster["raster-fade-duration"])})}};class Vl extends $n{constructor(e){super(e,Fl)}}class Hl extends $n{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Ul{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const Bl=6371008.8;class Kl{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,90<this.lat||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Kl(f(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){var t=Math.PI/180,r=this.lat*t,n=e.lat*t;return r=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t),Bl*Math.acos(Math.min(r,1))}static convert(e){if(e instanceof Kl)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Kl(Number(e[0]),Number(e[1]));if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]");return new Kl(Number("lng"in e?e.lng:e.lon),Number(e.lat))}}const Jl=2*Math.PI*Bl;function Ql(e){return Jl*Math.cos(e*Math.PI/180)}function ql(e){return(180+e)/360}function $l(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function ec(e,t){return e/Ql(t)}function tc(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class rc{constructor(e,t,r=0){this.x=+e,this.y=+t,this.z=+r}static fromLngLat(e,t=0){return e=Kl.convert(e),new rc(ql(e.lng),$l(e.lat),ec(t,e.lat))}toLngLat(){return new Kl(function(e){return 360*e-180}(this.x),tc(this.y))}toAltitude(){return function(e,t){return e*Ql(tc(t))}(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Jl*function(e){return 1/Math.cos(e*Math.PI/180)}(tc(this.y))}}function nc(e,t,r){return[e*(r=2*Math.PI*6378137/256/Math.pow(2,r))-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}class ic{constructor(e,t,r){if(e<0||25<e||r<0||r>=Math.pow(2,e)||t<0||t>=Math.pow(2,e))throw new Error(`x=${t}, y=${r}, z=${e} outside of bounds. 0<=x<${Math.pow(2,e)}, 0<=y<${Math.pow(2,e)} 0<=z<=25 `);this.z=e,this.x=t,this.y=r,this.key=sc(0,e,e,t,r)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,r){var n=function(e,t,r){var n=nc(256*e,256*(t=Math.pow(2,r)-t-1),r);return e=nc(256*(e+1),256*(t+1),r),n[0]+","+n[1]+","+e[0]+","+e[1]}(this.x,this.y,this.z),i=function(e,t,r){let n,i="";for(let o=e;0<o;o--)n=1<<o-1,i+=(t&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===r?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,1<t?"@2x":"").replace(/{quadkey}/g,i).replace(/{bbox-epsg-3857}/g,n)}isChildOf(e){var t=this.z-e.z;return 0<t&&e.x===this.x>>t&&e.y===this.y>>t}getTilePoint(e){var t=Math.pow(2,this.z);return new a((e.x*t-this.x)*To,(e.y*t-this.y)*To)}toString(){return`${this.z}/${this.x}/`+this.y}}class oc{constructor(e,t){this.wrap=e,this.canonical=t,this.key=sc(e,t.z,t.z,t.x,t.y)}}class ac{constructor(e,t,r,n,i){if(e<r)throw new Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = `+r);this.overscaledZ=e,this.wrap=t,this.canonical=new ic(r,+n,+i),this.key=sc(t,e,r,n,i)}clone(){return new ac(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = `+this.overscaledZ);var t=this.canonical.z-e;return e>this.canonical.z?new ac(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ac(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = `+this.overscaledZ);var r=this.canonical.z-e;return e>this.canonical.z?sc(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):sc(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)}isChildOf(e){var t;return e.wrap===this.wrap&&(t=this.canonical.z-e.canonical.z,0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t)}children(e){var t,r;return this.overscaledZ>=e?[new ac(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)]:(e=this.canonical.z+1,t=2*this.canonical.x,r=2*this.canonical.y,[new ac(e,this.wrap,e,t,r),new ac(e,this.wrap,e,1+t,r),new ac(e,this.wrap,e,t,1+r),new ac(e,this.wrap,e,1+t,1+r)])}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new ac(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new ac(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new oc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/`+this.canonical.y}getTilePoint(e){return this.canonical.getTilePoint(new rc(e.x-this.wrap,e.y))}}function sc(e,t,r,n,i){var o=1<<r;return(o*o*(e=(e*=2)<0?-1*e-1:e)+o*i+n).toString(36)+r.toString(36)+t.toString(36)}mn("CanonicalTileID",ic),mn("OverscaledTileID",ac,{omit:["posMatrix"]});class lc{constructor(e,t,r,n=1,i=1,o=1,a=0){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&!["mapbox","terrarium","custom"].includes(r))w(`"${r}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);else{this.stride=t.height;var s=this.dim=t.height-2;switch(this.data=new Uint32Array(t.data.buffer),r){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=n,this.greenFactor=i,this.blueFactor=o,this.baseShift=a;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let e=0;e<s;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(s,e)]=this.data[this._idx(s-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,s)]=this.data[this._idx(e,s-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(s,-1)]=this.data[this._idx(s-1,0)],this.data[this._idx(-1,s)]=this.data[this._idx(0,s-1)],this.data[this._idx(s,s)]=this.data[this._idx(s-1,s-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let e=0;e<s;e++)for(let t=0;t<s;t++){var l=this.get(e,t);l>this.max&&(this.max=l),l<this.min&&(this.min=l)}}}get(e,t){var r=new Uint8Array(this.data.buffer);return e=4*this._idx(e,t),this.unpack(r[e],r[1+e],r[2+e])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}unpack(e,t,r){return e*this.redFactor+t*this.greenFactor+r*this.blueFactor-this.baseShift}getPixels(){return new ua({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let n=t*this.dim,i=t*this.dim+this.dim,o=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:o=a-1;break;case 1:a=o+1}var s=-t*this.dim,l=-r*this.dim;for(let t=o;t<a;t++)for(let r=n;r<i;r++)this.data[this._idx(r,t)]=e.data[this._idx(r+s,t+l)]}}mn("DEMData",lc);class cc{constructor(e){this._stringToNumber={},this._numberToString=[];for(let r=0;r<e.length;r++){var t=e[r];this._stringToNumber[t]=r,this._numberToString[r]=t}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length `+this._numberToString.length);return this._numberToString[e]}}class uc{constructor(e,t,r,n,i){this.type="Feature",(this._vectorTileFeature=e)._z=t,e._x=r,e._y=n,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){var e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class dc{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new hn(To,16,0),this.grid3D=new hn(To,16,0),this.featureIndexArray=new Xi,this.promoteId=t}insert(e,t,r,n,i,o){var a=this.featureIndexArray.length,s=(this.featureIndexArray.emplaceBack(r,n,i),o?this.grid3D:this.grid);for(let e=0;e<t.length;e++){var l=t[e],c=[1/0,1/0,-1/0,-1/0];for(let e=0;e<l.length;e++){var u=l[e];c[0]=Math.min(c[0],u.x),c[1]=Math.min(c[1],u.y),c[2]=Math.max(c[2],u.x),c[3]=Math.max(c[3],u.y)}c[0]<To&&c[1]<To&&0<=c[2]&&0<=c[3]&&s.insert(a,c[0],c[1],c[2],c[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ja.VectorTile(new nl(this.rawTileData)).layers,this.sourceLayerCoder=new cc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,r,n){this.loadVTLayers();const i=e.params||{},o=To/e.tileSize/e.scale,s=Ir(i.filter),l=e.queryGeometry,c=e.queryPadding*o;var u=pc(l),d=this.grid.query(u.minX-c,u.minY-c,u.maxX+c,u.maxY+c);u=pc(e.cameraQueryGeometry);for(const t of this.grid3D.query(u.minX-c,u.minY-c,u.maxX+c,u.maxY+c,((t,r,n,i)=>function(e,t,r,n,i){for(const o of e)if(t<=o.x&&r<=o.y&&n>=o.x&&i>=o.y)return!0;var o=[new a(t,r),new a(t,i),new a(n,i),new a(n,r)];if(2<e.length)for(const t of o)if(Xo(e,t))return!0;for(let t=0;t<e.length-1;t++)if(function(e,t,r){var n=r[0],i=r[2];if(!(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y))return(n=_(e,t,r[0]))!==_(e,t,r[1])||n!==_(e,t,r[2])||n!==_(e,t,r[3])}(e[t],e[t+1],o))return!0;return!1}(e.cameraQueryGeometry,t-c,r-c,n+c,i+c))))d.push(t);d.sort(mc);var h={};let p;for(let a=0;a<d.length;a++){var m=d[a];if(m!==p){p=m,m=this.featureIndexArray.get(m);let a=null;this.loadMatchingFeature(h,m.bucketIndex,m.sourceLayerIndex,m.featureIndex,s,i.layers,i.availableImages,t,r,n,((t,r,n)=>(a=a||ko(t),r.queryIntersectsFeature(l,t,n,a,this.z,e.transform,o,e.pixelPosMatrix))))}}return h}loadMatchingFeature(e,t,r,n,i,o,a,s,l,c,u){var d=this.bucketLayerIDs[t];if(!o||function(e,t){for(let r=0;r<e.length;r++)if(0<=t.indexOf(e[r]))return 1}(o,d)){t=this.sourceLayerCoder.decode(r);var h=this.vtLayers[t].feature(n);if(i.needGeometry){if(r=Lo(h,!0),!i.filter(new Rn(this.tileID.overscaledZ),r,this.tileID.canonical))return}else if(!i.filter(new Rn(this.tileID.overscaledZ),h))return;var p=this.getId(h,t);for(let t=0;t<d.length;t++){var m=d[t];if(!(o&&o.indexOf(m)<0)&&(y=s[m])){let t={};p&&c&&(t=c.getState(y.sourceLayer||"_geojsonTileLayer",p));var y,f=g({},l[m]);if(f.paint=hc(f.paint,y.paint,h,t,a),f.layout=hc(f.layout,y.layout,h,t,a),y=!u||u(h,y,t)){var b=new uc(h,this.z,this.x,this.y,p);b.layer=f;let t=e[m];(t=void 0===t?e[m]=[]:t).push({featureIndex:n,feature:b,intersectionZ:y})}}}}}lookupSymbolFeatures(e,t,r,n,i,o,a,s){var l={},c=(this.loadVTLayers(),Ir(i));for(const i of e)this.loadMatchingFeature(l,r,n,i,c,o,a,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const r of t)if(e===r)return!0;return!1}getId(e,t){let r=e.id;return this.promoteId&&(t="string"==typeof this.promoteId?this.promoteId:this.promoteId[t],"boolean"==typeof(r=e.properties[t]))?Number(r):r}}function hc(e,t,r,n,i){return v(e,((e,o)=>(o=t instanceof Vn?t.get(o):null)&&o.evaluate?o.evaluate(r,n,i):o))}function pc(e){let t=1/0,r=1/0,n=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),r=Math.min(r,o.y),n=Math.max(n,o.x),i=Math.max(i,o.y);return{minX:t,minY:r,maxX:n,maxY:i}}function mc(e,t){return t-e}function yc(e,t,r,n,i){var o=[];for(let l=0;l<e.length;l++){var s=e[l];let c;for(let e=0;e<s.length-1;e++){let l=s[e],u=s[e+1];l.x<t&&u.x<t||(l.x<t?l=new a(t,l.y+(u.y-l.y)*((t-l.x)/(u.x-l.x)))._round():u.x<t&&(u=new a(t,l.y+(u.y-l.y)*((t-l.x)/(u.x-l.x)))._round()),l.y<r&&u.y<r)||(l.y<r?l=new a(l.x+(u.x-l.x)*((r-l.y)/(u.y-l.y)),r)._round():u.y<r&&(u=new a(l.x+(u.x-l.x)*((r-l.y)/(u.y-l.y)),r)._round()),l.x>=n&&u.x>=n)||(l.x>=n?l=new a(n,l.y+(u.y-l.y)*((n-l.x)/(u.x-l.x)))._round():u.x>=n&&(u=new a(n,l.y+(u.y-l.y)*((n-l.x)/(u.x-l.x)))._round()),l.y>=i&&u.y>=i)||(l.y>=i?l=new a(l.x+(u.x-l.x)*((i-l.y)/(u.y-l.y)),i)._round():u.y>=i&&(u=new a(l.x+(u.x-l.x)*((i-l.y)/(u.y-l.y)),i)._round()),c&&l.equals(c[c.length-1])||(c=[l],o.push(c)),c.push(u))}}return o}mn("FeatureIndex",dc,{omit:["rawTileData","sourceLayerCoder"]});class fc extends a{constructor(e,t,r,n){super(e,t),this.angle=r,void 0!==n&&(this.segment=n)}clone(){return new fc(this.x,this.y,this.angle,this.segment)}}function gc(e,t,r,n,i){if(void 0!==t.segment&&0!==r){let c=t,u=t.segment+1,d=0;for(;d>-r/2;){if(--u<0)return;d-=e[u].dist(c),c=e[u]}d+=e[u].dist(e[u+1]),u++;var o=[];let h=0;for(;d<r/2;){var a=e[u-1],s=e[u],l=e[u+1];if(!l)return;for(a=a.angleTo(s)-s.angleTo(l),a=Math.abs((a+3*Math.PI)%(2*Math.PI)-Math.PI),o.push({distance:d,angleDelta:a}),h+=a;d-o[0].distance>n;)h-=o.shift().angleDelta;if(h>i)return;u++,d+=s.dist(l)}}return 1}function bc(e){let t=0;for(let r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function vc(e,t,r){return e?.6*t*r:0}function Mc(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function xc(e,t,r,n,i,o,a,s,l){var c=vc(n,o,a),u=(i=(n=Mc(n,i))*a,0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l);return t-i<t/4&&(t=i+t/4),o*=2,function e(t,r,n,i,o,a,s,l,c){const u=a/2,d=bc(t);let h=0,p=r-n,m=[];for(let e=0;e<t.length-1;e++){const r=t[e],s=t[e+1],l=r.dist(s),y=s.angleTo(r);for(;p+n<h+l;){const f=((p+=n)-h)/l,g=Dt.number(r.x,s.x,f),b=Dt.number(r.y,s.y,f);if(0<=g&&g<c&&0<=b&&b<c&&0<=p-u&&p+u<=d){const r=new fc(g,b,y,e);r._round(),i&&!gc(t,r,a,i,o)||m.push(r)}}h+=l}return l||m.length||s||(m=e(t,h/2,n,i,o,a,s,!0,c)),m}(e,u?t/2*s%t:(n/2+o)*a*s%t,t,c,r,i,u,!1,l)}function Sc(e,t,r,n){var i=[];const o=e.image,s=o.pixelRatio;var l=o.paddedRect.w-2,c=o.paddedRect.h-2;let u={x1:e.left,y1:e.top,x2:e.right,y2:e.bottom};var d=o.stretchX||[[0,l]],h=o.stretchY||[[0,c]],p=(e,t)=>e+t[1]-t[0];const m=d.reduce(p,0),y=h.reduce(p,0);var f,g,b,v=c-y;let M=0,x=m,S=0,w=y,_=0,T=p=l-m,I=0,C=v;o.content&&n&&(g=(f=o.content)[2]-f[0],b=f[3]-f[1],o.contentMatch&&o.content&&(u=xl(e)),M=wc(d,0,f[0]),S=wc(h,0,f[1]),x=wc(d,f[0],f[2]),w=wc(h,f[1],f[3]),_=f[0]-M,I=f[1]-S,T=g-x,C=b-w);const k=u.x1,L=u.y1,N=u.x2-k,Z=u.y2-L;var E=(e,n,i,l)=>{var c=(e.stretch-M)/x*N+k,u=e.fixed-_-T*e.stretch/m,d=(n.stretch-S)/w*Z+L,h=n.fixed-I-C*n.stretch/y,p=(i.stretch-M)/x*N+k,f=i.fixed-_-T*i.stretch/m,g=(l.stretch-S)/w*Z+L,b=l.fixed-I-C*l.stretch/y,v=new a(c,d);return d=new a(p,d),p=new a(p,g),c=new a(c,g),g=new a(u/s,h/s),u=new a(f/s,b/s),(h=t*Math.PI/180)&&(f=Math.sin(h),b=Math.cos(h),v._matMult(h=[b,-f,f,b]),d._matMult(h),c._matMult(h),p._matMult(h)),f=e.stretch+e.fixed,b=i.stretch+i.fixed,h=n.stretch+n.fixed,e=l.stretch+l.fixed,{tl:v,tr:d,bl:c,br:p,tex:{x:o.paddedRect.x+1+f,y:o.paddedRect.y+1+h,w:b-f,h:e-h},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:g,pixelOffsetBR:u,minFontScaleX:T/s/N,minFontScaleY:C/s/Z,isSDF:r}};if(n&&(o.stretchX||o.stretchY)){var z=_c(d,p,m),G=_c(h,v,y);for(let e=0;e<z.length-1;e++){var P=z[e],A=z[e+1];for(let e=0;e<G.length-1;e++){var R=G[e],D=G[e+1];i.push(E(P,R,A,D))}}}else i.push(E({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:1+l},{fixed:0,stretch:1+c}));return i}function wc(e,t,r){let n=0;for(const i of e)n+=Math.max(t,Math.min(r,i[1]))-Math.max(t,Math.min(r,i[0]));return n}function _c(e,t,r){var n,i,o=[{fixed:-1,stretch:0}];for([n,i]of e){var a=o[o.length-1];o.push({fixed:n-a.stretch,stretch:a.stretch}),o.push({fixed:n-a.stretch,stretch:a.stretch+(i-n)})}return o.push({fixed:t+1,stretch:r}),o}mn("Anchor",fc);class Tc{constructor(e,t,r,n,i,o,s,l,c,u){if(this.boxStartIndex=e.length,c){let e=o.top,t=o.bottom;0<((c=o.collisionPadding)&&(e-=c[1],t+=c[3]),c=t-e)&&(c=Math.max(10,c),this.circleDiameter=c)}else{var d;(c=null!=(c=o.image)&&c.contentMatch&&o.image.content?xl(o):{x1:o.left,y1:o.top,x2:o.right,y2:o.bottom}).y1=c.y1*s-l[0],c.x2=c.x2*s+l[1],c.y2=c.y2*s+l[2],c.x1=c.x1*s-l[3],(l=o.collisionPadding)&&(c.x1-=l[0]*s,c.y1-=l[1]*s,c.x2+=l[2]*s,c.y2+=l[3]*s),u&&(o=new a(c.x1,c.y1),l=new a(c.x2,c.y1),s=new a(c.x1,c.y2),d=new a(c.x2,c.y2),u=u*Math.PI/180,o._rotate(u),l._rotate(u),s._rotate(u),d._rotate(u),c.x1=Math.min(o.x,l.x,s.x,d.x),c.x2=Math.max(o.x,l.x,s.x,d.x),c.y1=Math.min(o.y,l.y,s.y,d.y),c.y2=Math.max(o.y,l.y,s.y,d.y)),e.emplaceBack(t.x,t.y,c.x1,c.y1,c.x2,c.y2,r,n,i)}this.boxEndIndex=e.length}}class Ic{constructor(e=[],t=Cc){if(this.data=e,this.length=this.data.length,this.compare=t,0<this.length)for(let e=(this.length>>1)-1;0<=e;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){var e,t;if(0!==this.length)return e=this.data[0],t=this.data.pop(),this.length--,0<this.length&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){for(var{data:t,compare:r}=this,n=t[e];0<e;){var i=e-1>>1,o=t[i];if(0<=r(n,o))break;t[e]=o,e=i}t[e]=n}_down(e){for(var{data:t,compare:r}=this,n=this.length>>1,i=t[e];e<n;){let n=1+(e<<1),a=t[n];var o=n+1;if(o<this.length&&r(t[o],a)<0&&(n=o,a=t[o]),0<=r(a,i))break;t[e]=a,e=n}t[e]=i}}function Cc(e,t){return e<t?-1:t<e?1:0}function kc(e,t=1,r=!1){let n=1/0,i=1/0,o=-1/0,s=-1/0;var l=e[0];for(let e=0;e<l.length;e++){var c=l[e];(!e||c.x<n)&&(n=c.x),(!e||c.y<i)&&(i=c.y),(!e||c.x>o)&&(o=c.x),(!e||c.y>s)&&(s=c.y)}var u=o-n,d=s-i,h=Math.min(u,d);let p=h/2;var m=new Ic([],Lc);if(0===h)return new a(n,i);for(let t=n;t<o;t+=h)for(let r=i;r<s;r+=h)m.push(new Nc(t+p,r+p,p,e));let y=function(e){let t=0,r=0,n=0;var i=e[0];for(let e=0,l=i.length,c=l-1;e<l;c=e++){var o=i[e],a=i[c],s=o.x*a.y-a.x*o.y;r+=(o.x+a.x)*s,n+=(o.y+a.y)*s,t+=3*s}return new Nc(r/t,n/t,0,e)}(e),f=m.length;for(;m.length;){var g=m.pop();(g.d>y.d||!y.d)&&(y=g,r)&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,f),g.max-y.d<=t||(p=g.h/2,m.push(new Nc(g.p.x-p,g.p.y-p,p,e)),m.push(new Nc(g.p.x+p,g.p.y-p,p,e)),m.push(new Nc(g.p.x-p,g.p.y+p,p,e)),m.push(new Nc(g.p.x+p,g.p.y+p,p,e)),f+=4)}return r&&(console.log("num probes: "+f),console.log("best distance: "+y.d)),y.p}function Lc(e,t){return t.max-e.max}function Nc(e,t,r,n){this.p=new a(e,t),this.h=r,this.d=function(e,t){let r=!1,n=1/0;for(let s=0;s<t.length;s++){var i=t[s];for(let t=0,s=i.length,l=s-1;t<s;l=t++){var o=i[t],a=i[l];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(r=!r),n=Math.min(n,Ro(e,o,a))}}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}e.TextAnchorEnum=void 0,(Qt=e.TextAnchorEnum||(e.TextAnchorEnum={}))[Qt.center=1]="center",Qt[Qt.left=2]="left",Qt[Qt.right=3]="right",Qt[Qt.top=4]="top",Qt[Qt.bottom=5]="bottom",Qt[Qt["top-left"]=6]="top-left",Qt[Qt["top-right"]=7]="top-right",Qt[Qt["bottom-left"]=8]="bottom-left",Qt[Qt["bottom-right"]=9]="bottom-right";const Zc=Number.POSITIVE_INFINITY;function Ec(e,t){if(t[1]!==Zc){var r=e,n=t[0],i=t[1];let o=0,a=0;switch(n=Math.abs(n),i=Math.abs(i),r){case"top-right":case"top-left":case"top":a=i-7;break;case"bottom-right":case"bottom-left":case"bottom":a=7-i}switch(r){case"top-right":case"bottom-right":case"right":o=-n;break;case"top-left":case"bottom-left":case"left":o=n}return[o,a]}{r=e;var o=t[0];let n=0,i=0;var a=(o=o<0?0:o)/Math.SQRT2;switch(r){case"top-right":case"top-left":i=a-7;break;case"bottom-right":case"bottom-left":i=7-a;break;case"bottom":i=7-o;break;case"top":i=o-7}switch(r){case"top-right":case"bottom-right":n=-a;break;case"top-left":case"bottom-left":n=a;break;case"left":n=o;break;case"right":n=-o}return[n,i]}}function zc(e,t,r){var n=e.layout,i=null==(i=n.get("text-variable-anchor-offset"))?void 0:i.evaluate(t,{},r);if(i){var o=i.values,a=[];for(let e=0;e<o.length;e+=2){var s=a[e]=o[e],l=o[e+1].map((e=>e*Ps));s.startsWith("top")?l[1]-=7:s.startsWith("bottom")&&(l[1]+=7),a[e+1]=l}return new qe(a)}if(i=n.get("text-variable-anchor")){let o;var c=(o=void 0!==(e=e._unevaluatedLayout).getValue("text-radial-offset")?[n.get("text-radial-offset").evaluate(t,{},r)*Ps,Zc]:n.get("text-offset").evaluate(t,{},r).map((e=>e*Ps)),[]);for(const e of i)c.push(e,Ec(e,o));return new qe(c)}return null}function Gc(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Pc(e,t,r,n,i,o,s,l,c,u,d,h,p,m,y){r=function(e,t,r,n,i,o,s,l){var c=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=[];for(const e of t.positionedLines)for(const n of e.positionedGlyphs)if(n.rect){var d=n.rect||{};let o=4,S=!0,w=1,_=0;var h,p=(i||l)&&n.vertical,m=n.metrics.advance*n.scale/2,y=(l&&t.verticalizable&&(y=(n.scale-1)*Ps,h=(Ps-n.metrics.width*n.scale)/2,_=e.lineOffset/2-(n.imageName?-h:y)),n.imageName&&(S=(h=s[n.imageName]).sdf,w=h.pixelRatio,o=1/w),i?[n.x+m,n.y]:[0,0]);let T=i?[0,0]:[n.x+m+r[0],n.y+r[1]-_],I=[0,0];p&&(I=T,T=[0,0]);var f=n.metrics.isDoubleResolution?2:1,g=(n.metrics.left-o)*n.scale-m+T[0],b=(-n.metrics.top-o)*n.scale+T[1],v=g+d.w/f*n.scale/w,M=(f=b+d.h/f*n.scale/w,new a(g,b)),x=(b=new a(v,b),g=new a(g,f),v=new a(v,f),p&&(f=new a(-m,m-ul),p=-Math.PI/2,m=12-m,x=n.imageName?m:0,m=new a(22-m,-x),x=new a(...I),M._rotateAround(p,f)._add(m)._add(x),b._rotateAround(p,f)._add(m)._add(x),g._rotateAround(p,f)._add(m)._add(x),v._rotateAround(p,f)._add(m)._add(x)),c&&(p=Math.sin(c),f=Math.cos(c),M._matMult(m=[f,-p,p,f]),b._matMult(m),g._matMult(m),v._matMult(m)),new a(0,0));p=new a(0,0),u.push({tl:M,tr:b,bl:g,br:v,tex:d,writingMode:t.writingMode,glyphOffset:y,sectionIndex:n.sectionIndex,isSDF:S,pixelOffsetTL:x,pixelOffsetBR:p,minFontScaleX:0,minFontScaleY:0})}return u}(0,r,l,i,o,s,n,e.allowVerticalPlacement);let f=null;"source"===(n=e.textSizeData).kind?(f=[wl*i.layout.get("text-size").evaluate(s,{})])[0]>_l&&w(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`):"composite"===n.kind&&((f=[wl*m.compositeTextSizes[0].evaluate(s,{},y),wl*m.compositeTextSizes[1].evaluate(s,{},y)])[0]>_l||f[1]>_l)&&w(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`),e.addSymbols(e.text,r,f,l,o,s,u,t,c.lineStartIndex,c.lineLength,p,y);for(const t of d)h[t]=e.text.placedSymbolArray.length-1;return 4*r.length}function Ac(e){for(const t in e)return e[t];return null}const Rc=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];function Dc(e,t,r,n,i,o){var a;i-n<=r||(function e(t,r,n,i,o,a){for(;i<o;){if(600<o-i){const s=o-i+1,l=n-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-l*u/s+d)),Math.min(o,Math.floor(n+(s-l)*u/s+d)),a)}const s=r[2*n+a];let l=i,c=o;for(Xc(t,r,i,n),r[2*o+a]>s&&Xc(t,r,i,o);l<c;){for(Xc(t,r,l,c),l++,c--;r[2*l+a]<s;)l++;for(;r[2*c+a]>s;)c--}r[2*i+a]===s?Xc(t,r,i,c):(c++,Xc(t,r,c,o)),c<=n&&(i=c+1),n<=c&&(o=c-1)}}(e,t,a=n+i>>1,n,i,o),Dc(e,t,r,n,a-1,1-o),Dc(e,t,r,1+a,i,1-o))}function Xc(e,t,r,n){Oc(e,r,n),Oc(t,2*r,2*n),Oc(t,2*r+1,2*n+1)}function Oc(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Wc(e,t,r,n){return(e-=r)*e+(r=t-n)*r}e.PerformanceMarkers=void 0,(Ut=e.PerformanceMarkers||(e.PerformanceMarkers={})).create="create",Ut.load="load",Ut.fullLoad="fullLoad";let jc=null,Yc=[];const Fc=1e3/60,Vc="loadTime",Hc="fullLoadTime";Qt={mark(e){performance.mark(e)},frame(e){var t;null!=jc&&(t=e-jc,Yc.push(t)),jc=e},clearMetrics(){jc=null,Yc=[],performance.clearMeasures(Vc),performance.clearMeasures(Hc);for(const t in e.PerformanceMarkers)performance.clearMarks(e.PerformanceMarkers[t])},getPerformanceMetrics(){performance.measure(Vc,e.PerformanceMarkers.create,e.PerformanceMarkers.load),performance.measure(Hc,e.PerformanceMarkers.create,e.PerformanceMarkers.fullLoad);var t=performance.getEntriesByName(Vc)[0].duration,r=performance.getEntriesByName(Hc)[0].duration,n=Yc.length,i=1/(Yc.reduce(((e,t)=>e+t),0)/n/1e3),o=Yc.filter((e=>e>Fc)).reduce(((e,t)=>e+(t-Fc)/Fc),0);return{loadTime:t,fullLoadTime:r,fps:i,percentDroppedFrames:o/(n+o)*100,totalFrames:n}}},e.AJAXError=A,e.Actor=class{constructor(e,t,r){this.receive=e=>{var t,r=(e=e.data).id;!r||e.targetMapId&&this.mapId!==e.targetMapId||("<cancel>"===e.type?(delete this.tasks[r],t=this.cancelCallbacks[r],delete this.cancelCallbacks[r],t&&t()):T()||e.mustQueue?(this.tasks[r]=e,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,e))},this.process=()=>{var e,t;this.taskQueue.length&&(e=this.taskQueue.shift(),t=this.tasks[e],delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t)&&this.processTask(e,t)},this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Ul(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=T()?e:n}send(e,t,r,n,i=!1){const o=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[o]=r);var a=[];return e={id:o,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:fn(t,a)},this.target.postMessage(e,{transfer:a}),{cancel:()=>{r&&delete this.callbacks[o];var e={id:o,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId};this.target.postMessage(e)}}}processTask(e,t){if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(gn(t.error)):r(null,gn(t.data)))}else{let o=!1;const a=[];r=t.hasCallback?(t,r)=>{o=!0,delete this.cancelCallbacks[e],t={id:e,type:"<response>",sourceMapId:this.mapId,error:t?fn(t):null,data:fn(r,a)},this.target.postMessage(t,{transfer:a})}:e=>{o=!0};let s=null;var n,i=gn(t.data);this.parent[t.type]?s=this.parent[t.type](t.sourceMapId,i,r):"getWorkerSource"in this.parent?(n=t.type.split("."),s=this.parent.getWorkerSource(t.sourceMapId,n[0],i.source)[n[1]](i,r)):r(new Error("Could not find function "+t.type)),!o&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.AlphaImage=ca,e.CanonicalTileID=ic,e.CollisionBoxArray=Li,e.CollisionCircleLayoutArray=class extends gi{},e.Color=He,e.DEMData=lc,e.DataConstantProperty=Hn,e.DictionaryCoder=cc,e.EXTENT=To,e.ErrorEvent=H,e.EvaluationParameters=Rn,e.Event=V,e.Evented=U,e.FeatureIndex=dc,e.FillBucket=Ya,e.FillExtrusionBucket=ls,e.GeoJSONFeature=uc,e.ImageAtlas=cl,e.ImagePosition=ll,e.KDBush=class e{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var r,[n,i]=new Uint8Array(t,0,2);if(219!==n)throw new Error("Data does not appear to be in a KDBush format.");if(1!=(n=i>>4))throw new Error(`Got v${n} data when expected v1.`);if(n=Rc[15&i])return[i]=new Uint16Array(t,2,1),[r]=new Uint32Array(t,4,1),new e(r,i,n,t);throw new Error("Unrecognized array type.")}constructor(e,t=64,r=Float64Array,n){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=Rc.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-a%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+a+s),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Dc(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:a}=this,s=[0,i.length-1,0],l=[];s.length;){var c=s.pop()||0,u=s.pop()||0,d=s.pop()||0;if(u-d<=a)for(let a=d;a<=u;a++){var h=o[2*a],p=o[2*a+1];e<=h&&h<=r&&t<=p&&p<=n&&l.push(i[a])}else{var m=d+u>>1,y=o[2*m],f=o[2*m+1];e<=y&&y<=r&&t<=f&&f<=n&&l.push(i[m]),(0===c?e<=y:t<=f)&&(s.push(d),s.push(m-1),s.push(1-c)),(0===c?y<=r:f<=n)&&(s.push(1+m),s.push(u),s.push(1-c))}}return l}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:n,coords:i,nodeSize:o}=this,a=[0,n.length-1,0],s=[],l=r*r;a.length;){var c=a.pop()||0,u=a.pop()||0,d=a.pop()||0;if(u-d<=o)for(let r=d;r<=u;r++)Wc(i[2*r],i[2*r+1],e,t)<=l&&s.push(n[r]);else{var h=d+u>>1,p=i[2*h],m=i[2*h+1];Wc(p,m,e,t)<=l&&s.push(n[h]),(0===c?e-r<=p:t-r<=m)&&(a.push(d),a.push(h-1),a.push(1-c)),(0===c?p<=e+r:m<=t+r)&&(a.push(1+h),a.push(u),a.push(1-c))}}return s}},e.LineBucket=xs,e.LineStripIndexArray=class extends Ii{},e.LngLat=Kl,e.MercatorCoordinate=rc,e.ONE_EM=Ps,e.OverscaledTileID=ac,e.PerformanceUtils=Qt,e.Point=a,e.Pos3dArray=class extends ai{},e.PosArray=Oi,e.Properties=Qn,e.Protobuf=nl,e.QuadTriangleArray=class extends vi{},e.RGBAImage=ua,e.RasterBoundsArray=class extends si{},e.RequestPerformance=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.SegmentVector=to,e.SymbolBucket=Gl,e.Transitionable=On,e.TriangleIndexArray=qi,e.Uniform1f=uo,e.Uniform1i=class extends co{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.Uniform2f=class extends co{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.Uniform3f=class extends co{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.Uniform4f=ho,e.UniformColor=po,e.UniformMatrix4f=class extends co{constructor(e,t){super(e,t),this.current=mo}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);else for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.UnwrappedTileID=oc,e.ValidationError=ne,e.ZoomHistory=bn,e.__awaiter=t,e.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},e.addDynamicAttributes=Nl,e.arrayBufferToImage=function(e,t){const r=new Image;r.onload=()=>{t(null,r),URL.revokeObjectURL(r.src),r.onload=null,n.requestAnimationFrame((()=>{r.src=k}))},r.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));var i=new Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?URL.createObjectURL(i):k},e.arrayBufferToImageBitmap=function(e,t){e=new Blob([new Uint8Array(e)],{type:"image/png"}),createImageBitmap(e).then((e=>{t(null,e)})).catch((e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))},e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);let n=e.length;const i=new Array(e.length);let o=null;e.forEach(((e,a)=>{t(e,((e,t)=>{e&&(o=e),i[a]=t,0==--n&&r(o,i)}))}))},e.bezier=m,e.browser=G,e.clamp=y,e.clipLine=yc,e.clone=function(e){var t=new Uo(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=x,e.clone$2=function(e){var t=new Uo(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Jt,e.config=P,e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.create=function(){var e=new Uo(16);return Uo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=Bo,e.create$2=function(){var e=new Uo(4);return Uo!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createExpression=vr,e.createFilter=Ir,e.createLayout=ni,e.createStyleLayer=function(e){if("custom"===e.type)return new Hl(e);switch(e.type){case"background":return new jl(e);case"circle":return new ta(e);case"fill":return new Ua(e);case"fill-extrusion":return new ps(e);case"heatmap":return new ha(e);case"hillshade":return new ya(e);case"line":return new Cs(e);case"raster":return new Vl(e);case"symbol":return new Xl(e)}},e.cross=function(e,t,r){var n=t[0],i=t[1],o=(t=t[2],r[0]),a=r[1];return r=r[2],e[0]=i*r-t*a,e[1]=t*o-n*r,e[2]=n*a-i*o,e},e.deepEqual=function e(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1}else{if("object"!=typeof t||null===t||null===r)return t===r;if("object"!=typeof r)return!1;if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(!e(t[n],r[n]))return!1}return!0},e.defaultEasing=s,e.derefLayers=function(e){e=e.slice();var t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=function(e,t){const r={};for(const t in e)"ref"!==t&&(r[t]=e[t]);return K.forEach((e=>{e in t&&(r[e]=t[e])})),r}(e[r],t[e[r].ref]));return e},e.diffStyles=function(e,t){if(!e)return[{command:Q.setStyle,args:[t]}];let r=[];try{if(!J(e.version,t.version))return[{command:Q.setStyle,args:[t]}];J(e.center,t.center)||r.push({command:Q.setCenter,args:[t.center]}),J(e.zoom,t.zoom)||r.push({command:Q.setZoom,args:[t.zoom]}),J(e.bearing,t.bearing)||r.push({command:Q.setBearing,args:[t.bearing]}),J(e.pitch,t.pitch)||r.push({command:Q.setPitch,args:[t.pitch]}),J(e.sprite,t.sprite)||r.push({command:Q.setSprite,args:[t.sprite]}),J(e.glyphs,t.glyphs)||r.push({command:Q.setGlyphs,args:[t.glyphs]}),J(e.transition,t.transition)||r.push({command:Q.setTransition,args:[t.transition]}),J(e.light,t.light)||r.push({command:Q.setLight,args:[t.light]});const p={};var n=[];!function(e,t,r,n){let i;for(i in t=t||{},e=e||{})!Object.prototype.hasOwnProperty.call(e,i)||Object.prototype.hasOwnProperty.call(t,i)||$(i,r,n);for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?J(e[i],t[i])||("geojson"===e[i].type&&"geojson"===t[i].type&&function(e,t,r){let n;for(n in e[r])if(Object.prototype.hasOwnProperty.call(e[r],n)&&"data"!==n&&!J(e[r][n],t[r][n]))return;for(n in t[r])if(Object.prototype.hasOwnProperty.call(t[r],n)&&"data"!==n&&!J(e[r][n],t[r][n]))return;return 1}(e,t,i)?r.push({command:Q.setGeoJSONSourceData,args:[i,t[i].data]}):(a=t,$(o=i,s=r,n),q(o,a,s))):q(i,t,r));var o,a,s}(e.sources,t.sources,n,p);const m=[];e.layers&&e.layers.forEach((e=>{p[e.source]?r.push({command:Q.removeLayer,args:[e.id]}):m.push(e)})),r=r.concat(n);{var i=m,o=t.layers,a=r;o=o||[];var s=(i=i||[]).map(te),l=o.map(te),c=i.reduce(re,{}),u=o.reduce(re,{}),d=s.slice(),h=Object.create(null);let e,n,p,y,f,g,b;for(e=0,n=0;e<s.length;e++)p=s[e],Object.prototype.hasOwnProperty.call(u,p)?n++:(a.push({command:Q.removeLayer,args:[p]}),d.splice(d.indexOf(p,n),1));for(e=0,n=0;e<l.length;e++)p=l[l.length-1-e],d[d.length-1-e]!==p&&(Object.prototype.hasOwnProperty.call(c,p)?(a.push({command:Q.removeLayer,args:[p]}),d.splice(d.lastIndexOf(p,d.length-n),1)):n++,g=d[d.length-e],a.push({command:Q.addLayer,args:[u[p],g]}),d.splice(d.length-e,0,p),h[p]=!0);for(e=0;e<l.length;e++)if(y=c[p=l[e]],f=u[p],!h[p]&&!J(y,f))if(J(y.source,f.source)&&J(y["source-layer"],f["source-layer"])&&J(y.type,f.type)){for(b in ee(y.layout,f.layout,a,p,null,Q.setLayoutProperty),ee(y.paint,f.paint,a,p,null,Q.setPaintProperty),J(y.filter,f.filter)||a.push({command:Q.setFilter,args:[p,f.filter]}),J(y.minzoom,f.minzoom)&&J(y.maxzoom,f.maxzoom)||a.push({command:Q.setLayerZoomRange,args:[p,f.minzoom,f.maxzoom]}),y)Object.prototype.hasOwnProperty.call(y,b)&&"layout"!==b&&"paint"!==b&&"filter"!==b&&"metadata"!==b&&"minzoom"!==b&&"maxzoom"!==b&&(0===b.indexOf("paint.")?ee(y[b],f[b],a,p,b.slice(6),Q.setPaintProperty):J(y[b],f[b])||a.push({command:Q.setLayerProperty,args:[p,b,f[b]]}));for(b in f)Object.prototype.hasOwnProperty.call(f,b)&&!Object.prototype.hasOwnProperty.call(y,b)&&"layout"!==b&&"paint"!==b&&"filter"!==b&&"metadata"!==b&&"minzoom"!==b&&"maxzoom"!==b&&(0===b.indexOf("paint.")?ee(y[b],f[b],a,p,b.slice(6),Q.setPaintProperty):J(y[b],f[b])||a.push({command:Q.setLayerProperty,args:[p,b,f[b]]}))}else a.push({command:Q.removeLayer,args:[p]}),g=d[d.lastIndexOf(p)+1],a.push({command:Q.addLayer,args:[f,g]})}}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Q.setStyle,args:[t]}]}return r},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.earthRadius=Bl,e.emitValidationErrors=dn,e.emptyStyle=function(){var e={},t=B.$version;for(const n in B.$root){var r=B.$root[n];if(r.required){let i=null;null!=(i="version"===n?t:"array"===r.type?[]:{})&&(e[n]=i)}}return e},e.equals=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],p=e[11],m=e[12],y=e[13],f=e[14],g=(e=e[15],t[0]),b=t[1],v=t[2],M=t[3],x=t[4],S=t[5],w=t[6],_=t[7],T=t[8],I=t[9],C=t[10],k=t[11],L=t[12],N=t[13],Z=t[14];return t=t[15],Math.abs(r-g)<=Ho*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-b)<=Ho*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-v)<=Ho*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(o-M)<=Ho*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(a-x)<=Ho*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-S)<=Ho*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-w)<=Ho*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(c-_)<=Ho*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(u-T)<=Ho*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(d-I)<=Ho*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(h-C)<=Ho*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-k)<=Ho*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(m-L)<=Ho*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(y-N)<=Ho*Math.max(1,Math.abs(y),Math.abs(N))&&Math.abs(f-Z)<=Ho*Math.max(1,Math.abs(f),Math.abs(Z))&&Math.abs(e-t)<=Ho*Math.max(1,Math.abs(e),Math.abs(t))},e.evaluateSizeForFeature=function(e,{uSize:t,uSizeT:r},{lowerSize:n,upperSize:i}){return"source"===e.kind?n/wl:"composite"===e.kind?Dt.number(n/wl,i/wl,r):t},e.evaluateSizeForZoom=function(e,t){let r=0,n=0;var i,o,a;return"constant"===e.kind?n=e.layoutSize:"source"!==e.kind&&(({interpolationType:a,minZoom:i,maxZoom:o}=e),a=a?y(Xt.interpolationFactor(a,t,i,o),0,1):0,"camera"===e.kind?n=Dt.number(e.minSize,e.maxSize,a):r=a),{uSizeT:r,uSize:n}},e.evented=Gn,e.extend=g,e.filterObject=M,e.findLineIntersection=function(e,t,r,n){var i=t.y-e.y,o=(t=t.x-e.x,n.y-r.y),s=o*t-(n=n.x-r.x)*i;return 0==s?null:(n=(n*(e.y-r.y)-o*(e.x-r.x))/s,new a(e.x+n*t,e.y+n*i))},e.fromRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=0,e[3]=-r,e[4]=t,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.getAnchorAlignment=Ml,e.getAnchorJustification=Gc,e.getArrayBuffer=W,e.getDefaultExportFromCjs=r,e.getImageData=function(e,r,n,i,o){return t(this,void 0,void 0,(function*(){if(p())try{return yield L(e,r,n,i,o)}catch(t){}return a=r,s=n,l=i,c=o,u=(t=e).width,d=t.height,N&&Z||(N=new OffscreenCanvas(u,d),Z=N.getContext("2d",{willReadFrequently:!0})),N.width=u,N.height=d,Z.drawImage(t,0,0,u,d),t=Z.getImageData(a,s,l,c),Z.clearRect(0,0,u,d),t.data;var t,a,s,l,c,u,d}))},e.getJSON=function(e,t){return O(g(e,{type:"json"}),t)},e.getOverlapMode=Il,e.getProtocolAction=D,e.getRTLTextPluginStatus=zn,e.getReferrer=R,e.getVideo=function(e,t){const r=n.document.createElement("video");r.muted=!0,r.onloadstart=function(){t(null,r)};for(let t=0;t<e.length;t++){var i=n.document.createElement("source");j(e[t])||(r.crossOrigin="Anonymous"),i.src=e[t],r.appendChild(i)}return{cancel:()=>{}}},e.groupByLayout=function(e,t){var r={};for(let i=0;i<e.length;i++){var n=t&&t[e[i].id]||zr(e[i]);t&&(t[e[i].id]=n);let o=r[n];(o=o||(r[n]=[])).push(e[i])}var i=[];for(const e in r)i.push(r[e]);return i},e.identity=Ko,e.interpolate=Dt,e.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],m=t[12],y=t[13],f=t[14],g=r*s-n*a,b=r*l-i*a,v=r*c-o*a,M=n*l-i*s,x=n*c-o*s,S=i*c-o*l,w=u*y-d*m,_=u*f-h*m,T=u*(t=t[15])-p*m,I=d*f-h*y,C=d*t-p*y,k=h*t-p*f,L=g*k-b*C+v*I+M*T-x*_+S*w;return L?(e[0]=(s*k-l*C+c*I)*(L=1/L),e[1]=(i*C-n*k-o*I)*L,e[2]=(y*S-f*x+t*M)*L,e[3]=(h*x-d*S-p*M)*L,e[4]=(l*T-a*k-c*_)*L,e[5]=(r*k-i*T+o*_)*L,e[6]=(f*v-m*S-t*b)*L,e[7]=(u*S-h*v+p*b)*L,e[8]=(a*C-s*T+c*w)*L,e[9]=(n*T-r*C-o*w)*L,e[10]=(m*x-y*v+t*g)*L,e[11]=(d*v-u*x-p*g)*L,e[12]=(s*_-a*I-l*w)*L,e[13]=(r*I-n*_+i*w)*L,e[14]=(y*b-m*M-f*g)*L,e[15]=(u*M-d*b+h*g)*L,e):null},e.isImageBitmap=C,e.isOffscreenCanvasDistorted=p,e.isSafari=function(e){var t;return null==I&&(t=e.navigator?e.navigator.userAgent:null,I=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))),I},e.isWorker=T,e.keysDifference=function(e,t){var r=[];for(const n in e)n in t||r.push(n);return r},e.lazyLoadRTLTextPlugin=function(){An.isLoading()||An.isLoaded()||"deferred"!==Ln||Pn()},e.makeRequest=O,e.mapObject=v,e.mercatorXfromLng=ql,e.mercatorYfromLat=$l,e.mercatorZfromAltitude=ec,e.mul=Kt,e.mul$1=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e},e.multiply=Jo,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var r=t[0],n=t[1],i=t[2];return 0<(r=r*r+n*n+i*i)&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},e.offscreenCanvasSupported=h,e.operations=Q,e.ortho=function(e,t,r,n,i,o,a){var s=1/(t-r),l=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(a+o)*c,e[15]=1,e},e.parseCacheControl=function(e){const t={};return e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,r,n,i)=>(n=n||i,t[r]=!n||n.toLowerCase(),""))),t["max-age"]&&(e=parseInt(t["max-age"],10),isNaN(e)?delete t["max-age"]:t["max-age"]=e),t},e.parseGlyphPbf=function(e){return new nl(e).readFields(il,[])},e.pbf=Bt,e.performSymbolLayout=function(t){t.bucket.createArrays();var r,n,i=512*t.bucket.overscaling,o=(t.bucket.tilePixelRatio=To/i,t.bucket.compareText={},t.bucket.iconsNeedLinear=!1,t.bucket.layers[0]),a=o.layout,s={layoutIconSize:(i=o._unevaluatedLayout._values)["icon-size"].possiblyEvaluate(new Rn(t.bucket.zoom+1),t.canonical),layoutTextSize:i["text-size"].possiblyEvaluate(new Rn(t.bucket.zoom+1),t.canonical),textMaxSize:i["text-size"].possiblyEvaluate(new Rn(18))};"composite"===t.bucket.textSizeData.kind&&(({minZoom:r,maxZoom:n}=t.bucket.textSizeData),s.compositeTextSizes=[i["text-size"].possiblyEvaluate(new Rn(r),t.canonical),i["text-size"].possiblyEvaluate(new Rn(n),t.canonical)]),"composite"===t.bucket.iconSizeData.kind&&(({minZoom:r,maxZoom:n}=t.bucket.iconSizeData),s.compositeIconSizes=[i["icon-size"].possiblyEvaluate(new Rn(r),t.canonical),i["icon-size"].possiblyEvaluate(new Rn(n),t.canonical)]);const l=a.get("text-line-height")*Ps;var c="viewport"!==a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement"),u=a.get("text-keep-upright"),d=a.get("text-size");for(const r of t.bucket.features){const n=a.get("text-font").evaluate(r,{},t.canonical).join(","),i=d.evaluate(r,{},t.canonical),b=s.layoutTextSize.evaluate(r,{},t.canonical);var h=s.layoutIconSize.evaluate(r,{},t.canonical);const v={horizontal:{},vertical:void 0},M=r.text;let x=[0,0];if(M){const s=M.toString();var p=a.get("text-letter-spacing").evaluate(r,{},t.canonical)*Ps;const d=xn(s)?p:0,h=a.get("text-anchor").evaluate(r,{},t.canonical);var m=zc(o,r,t.canonical);m||(p=a.get("text-radial-offset").evaluate(r,{},t.canonical),x=p?Ec(h,[p*Ps,Zc]):a.get("text-offset").evaluate(r,{},t.canonical).map((e=>e*Ps)));let S=c?"center":a.get("text-justify").evaluate(r,{},t.canonical);const w=a.get("symbol-placement"),_="point"===w?a.get("text-max-width").evaluate(r,{},t.canonical)*Ps:0;if(p=()=>{t.bucket.allowVerticalPlacement&&Mn(s)&&(v.vertical=pl(M,t.glyphMap,t.glyphPositions,t.imagePositions,n,_,l,h,"left",d,x,e.WritingMode.vertical,!0,w,b,i))},!c&&m){var y,f=new Set;if("auto"===S)for(let e=0;e<m.values.length;e+=2)f.add(Gc(m.values[e]));else f.add(S);let r=!1;for(const o of f)v.horizontal[o]||(r?v.horizontal[o]=v.horizontal[0]:(y=pl(M,t.glyphMap,t.glyphPositions,t.imagePositions,n,_,l,"center",o,d,x,e.WritingMode.horizontal,!1,w,b,i))&&(v.horizontal[o]=y,r=1===y.positionedLines.length));p()}else{"auto"===S&&(S=Gc(h));var g=pl(M,t.glyphMap,t.glyphPositions,t.imagePositions,n,_,l,h,S,d,x,e.WritingMode.horizontal,!1,w,b,i);g&&(v.horizontal[S]=g),p(),Mn(s)&&c&&u&&(v.vertical=pl(M,t.glyphMap,t.glyphPositions,t.imagePositions,n,_,l,h,S,d,x,e.WritingMode.vertical,!1,w,b,i))}}let S,_=!1;r.icon&&r.icon.name&&(g=t.imageMap[r.icon.name])&&(S=function(e,t,r){var{horizontalAlign:r,verticalAlign:n}=Ml(r),i=t[0];return t=t[1],r=(i-=e.displaySize[0]*r)+e.displaySize[0],{image:e,top:t-=e.displaySize[1]*n,bottom:t+e.displaySize[1],left:i,right:r}}(t.imagePositions[r.icon.name],a.get("icon-offset").evaluate(r,{},t.canonical),a.get("icon-anchor").evaluate(r,{},t.canonical)),_=!!g.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=_:t.bucket.sdfIcons!==_&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),g.pixelRatio!==t.bucket.pixelRatio||0!==a.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0),p=Ac(v.horizontal)||v.vertical,t.bucket.iconsInText=!!p&&p.iconsInText,(p||S)&&function(t,r,n,i,o,a,s,l,c,u,d){let h=a.textMaxSize.evaluate(r,{});void 0===h&&(h=s);const p=t.layers[0].layout,m=p.get("icon-offset").evaluate(r,{},d),y=Ac(n.horizontal),f=s/24,g=t.tilePixelRatio*f,b=t.tilePixelRatio*h/24,v=t.tilePixelRatio*l,M=t.tilePixelRatio*p.get("symbol-spacing"),x=p.get("text-padding")*t.tilePixelRatio,S=function(e,t,r,n=1){return[(t=(e=e.get("icon-padding").evaluate(t,{},r))&&e.values)[0]*n,t[1]*n,t[2]*n,t[3]*n]}(p,r,d,t.tilePixelRatio),_=p.get("text-max-angle")/180*Math.PI,T="viewport"!==p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),I="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),C=p.get("symbol-placement"),k=M/2,L=p.get("icon-text-fit");let N;i&&"none"!==L&&(t.allowVerticalPlacement&&n.vertical&&(N=Sl(i,n.vertical,L,p.get("icon-text-fit-padding"),m,f)),y)&&(i=Sl(i,y,L,p.get("icon-text-fit-padding"),m,f));var Z=(l,h)=>{if(!(h.x<0||h.x>=To||h.y<0||h.y>=To)){var p=t,y=h;h=l;var f=n;l=i;var b=o,M=N,_=t.layers[0],C=t.collisionBoxArray,k=r.index,L=r.sourceLayerIndex,Z=t.index,E=g,z=[x,x,x,x],G=T,P=c,A=v,R=S,D=I,X=m,O=r,W=a,j=u,Y=d,F=s,V=p.addToLineVertexArray(y,h);let $,ee,te,re,ne=0,ie=0,oe=0,ae=0,se=-1,le=-1;var H={};let ce=io("");if(p.allowVerticalPlacement&&f.vertical&&(h=_.layout.get("text-rotate").evaluate(O,{},Y)+90,U=f.vertical,te=new Tc(C,y,k,L,Z,U,E,z,G,h),M)&&(re=new Tc(C,y,k,L,Z,M,A,R,G,h)),l){var U=_.layout.get("icon-rotate").evaluate(O,{}),B=Sc(l,U,j,h="none"!==_.layout.get("icon-text-fit"));M=M?Sc(M,U,j,h):void 0;let t=null;"source"===(ee=new Tc(C,y,k,L,Z,l,A,R,!1,U),ne=4*B.length,j=p.iconSizeData).kind?(t=[wl*_.layout.get("icon-size").evaluate(O,{})])[0]>_l&&w(`${p.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`):"composite"===j.kind&&((t=[wl*W.compositeIconSizes[0].evaluate(O,{},Y),wl*W.compositeIconSizes[1].evaluate(O,{},Y)])[0]>_l||t[1]>_l)&&w(`${p.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`),p.addSymbols(p.icon,B,t,X,D,O,e.WritingMode.none,y,V.lineStartIndex,V.lineLength,-1,Y),se=p.icon.placedSymbolArray.length-1,M&&(ie=4*M.length,p.addSymbols(p.icon,M,t,X,D,O,e.WritingMode.vertical,y,V.lineStartIndex,V.lineLength,-1,Y),le=p.icon.placedSymbolArray.length-1)}var K=Object.keys(f.horizontal);for(const t of K){var J=f.horizontal[t],Q=($||(ce=io(J.text),Q=_.layout.get("text-rotate").evaluate(O,{},Y),$=new Tc(C,y,k,L,Z,J,E,z,G,Q)),1===J.positionedLines.length);if(oe+=Pc(p,y,J,b,_,G,O,P,V,f.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,Q?K:[t],H,se,W,Y),Q)break}f.vertical&&(ae+=Pc(p,y,f.vertical,b,_,G,O,P,V,e.WritingMode.vertical,["vertical"],H,le,W,Y)),h=$?$.boxStartIndex:p.collisionBoxArray.length,l=$?$.boxEndIndex:p.collisionBoxArray.length,A=te?te.boxStartIndex:p.collisionBoxArray.length,R=te?te.boxEndIndex:p.collisionBoxArray.length,j=ee?ee.boxStartIndex:p.collisionBoxArray.length,B=ee?ee.boxEndIndex:p.collisionBoxArray.length,M=re?re.boxStartIndex:p.collisionBoxArray.length,X=re?re.boxEndIndex:p.collisionBoxArray.length;let ue=-1;D=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t,ue=D($,ue),ue=D(te,ue),ue=D(ee,ue),(D=-1<(ue=D(re,ue))?1:0)&&(ue*=F/Ps),p.glyphOffsetArray.length>=Gl.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==O.sortKey&&p.addToSortKeyRanges(p.symbolInstances.length,O.sortKey),F=zc(_,O,Y);var[F,q]=function(t,r){var n=t.length,i=null==r?void 0:r.values;if(0<(null==i?void 0:i.length))for(let r=0;r<i.length;r+=2){var o=e.TextAnchorEnum[i[r]],a=i[r+1];t.emplaceBack(o,a[0],a[1])}return[n,t.length]}(p.textAnchorOffsets,F);p.symbolInstances.emplaceBack(y.x,y.y,0<=H.right?H.right:-1,0<=H.center?H.center:-1,0<=H.left?H.left:-1,H.vertical||-1,se,le,ce,h,l,A,R,j,B,M,X,k,oe,ae,ne,ie,D,0,E,ue,F,q)}};if("line"===C)for(const e of yc(r.geometry,0,0,To,To))for(const r of xc(e,M,_,n.vertical||y,i,24,b,t.overscaling,To))y&&function(e,t,r,n){if(t in(e=e.compareText)){var i=e[t];for(let e=i.length-1;0<=e;e--)if(n.dist(i[e])<r)return 1}else e[t]=[];return e[t].push(n),0}(t,y.text,k,r)||Z(e,r);else if("line-center"===C)for(const e of r.geometry){var E;1<e.length&&(E=function(e,t,r,n,i,o){var a=vc(r,24,o),s=Mc(r,n)*o;let l=0;var c=bc(e)/2;for(let r=0;r<e.length-1;r++){var u,d,h=e[r],p=e[r+1],m=h.dist(p);if(l+m>c)return u=(c-l)/m,d=Dt.number(h.x,p.x,u),u=Dt.number(h.y,p.y,u),(d=new fc(d,u,p.angleTo(h),r))._round(),!a||gc(e,d,s,a,t)?d:void 0;l+=m}}(e,_,n.vertical||y,i,0,b))&&Z(e,E)}else if("Polygon"===r.type)for(const e of Xa(r.geometry,0)){var z=kc(e,16);Z(e[0],new fc(z.x,z.y,0))}else if("LineString"===r.type)for(const e of r.geometry)Z(e,new fc(e[0].x,e[0].y,0));else if("Point"===r.type)for(const e of r.geometry)for(const t of e)Z([t],new fc(t.x,t.y,0))}(t.bucket,r,v,S,t.imageMap,s,b,h,x,_,t.canonical)}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,i){return t=1/Math.tan(t/2),e[0]=t/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(r=1/(n-i)),e[14]=2*i*n*r):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){var r={};for(let i=0;i<t.length;i++){var n=t[i];n in e&&(r[n]=e[n])}return r},e.plugin=An,e.pointGeometry=i,e.polygonIntersectsPolygon=Eo,e.potpack=sl,e.readImageUsingVideoFrame=L,e.register=mn,e.registerForPluginStateChange=function(e){return e({pluginStatus:Ln,pluginURL:Nn}),Gn.on("pluginStateChange",e),e},e.renderColorRamp=da,e.renderStyleImage=function(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)},e.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=(t=t[3],Math.sin(r));return r=Math.cos(r),e[0]=n*r+o*a,e[1]=i*r+t*a,e[2]=n*-a+o*r,e[3]=i*-a+t*r,e},e.rotateX=function(e,t,r){var n=Math.sin(r),i=(r=Math.cos(r),t[4]),o=t[5],a=t[6],s=t[7],l=t[8],c=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*r+l*n,e[5]=o*r+c*n,e[6]=a*r+u*n,e[7]=s*r+d*n,e[8]=l*r-i*n,e[9]=c*r-o*n,e[10]=u*r-a*n,e[11]=d*r-s*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),i=(r=Math.cos(r),t[0]),o=t[1],a=t[2],s=t[3],l=t[4],c=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r+l*n,e[1]=o*r+c*n,e[2]=a*r+u*n,e[3]=s*r+d*n,e[4]=l*r-i*n,e[5]=c*r-o*n,e[6]=u*r-a*n,e[7]=d*r-s*n,e},e.sameOrigin=j,e.scale=function(e,t,r){var n=r[0],i=r[1];return r=r[2],e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},e.setRTLTextPlugin=function(e,t,r=!1){if(Ln===Tn||Ln===In||Ln===Cn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Nn=G.resolveURL(e),Ln=Tn,kn=t,En(),r||Pn()},e.sphericalToCartesian=function([e,t,r]){return t=(t+=90)*(Math.PI/180),r*=Math.PI/180,{x:e*Math.cos(t)*Math.sin(r),y:e*Math.sin(t)*Math.sin(r),z:e*Math.cos(r)}},e.sqrLen=function(e){var t=e[0];return t*t+(e=e[1])*e},e.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},e.toEvaluationFeature=Lo,e.transformMat3=function(e,t,r){var n=t[0],i=t[1];return t=t[2],e[0]=n*r[0]+i*r[3]+t*r[6],e[1]=n*r[1]+i*r[4]+t*r[7],e[2]=n*r[2]+i*r[5]+t*r[8],e},e.transformMat4=$o,e.transformMat4$1=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[4]*t+r[12],e[1]=r[1]*n+r[5]*t+r[13],e},e.translate=function(e,t,r){var n,i,o,a,s,l,c,u,d,h,p,m,y=r[0],f=r[1];return r=r[2],t===e?(e[12]=t[0]*y+t[4]*f+t[8]*r+t[12],e[13]=t[1]*y+t[5]*f+t[9]*r+t[13],e[14]=t[2]*y+t[6]*f+t[10]*r+t[14],e[15]=t[3]*y+t[7]*f+t[11]*r+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],m=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=h,e[10]=p,e[11]=m,e[12]=n*y+s*f+d*r+t[12],e[13]=i*y+l*f+h*r+t[13],e[14]=o*y+c*f+p*r+t[14],e[15]=a*y+u*f+m*r+t[15]),e},e.triggerPluginCompletionEvent=Zn,e.unicodeBlockLookup=vn,e.uniqueId=function(){return b++},e.v8Spec=B,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:`layers.${r}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${r}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateLight=Ht,e.validateStyle=ln,e.vectorTile=Ja,e.warnOnce=w,e.wrap=f})),i(0,(function(e){class t{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,r){for(const r of t){this._layerConfigs[r.id]=r;var n=this._layers[r.id]=e.createStyleLayer(r);n._featureFilter=e.createFilter(n.filter),this.keyCache[r.id]&&delete this.keyCache[r.id]}for(const e of r)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};for(const t of e.groupByLayout(Object.values(this._layerConfigs),this.keyCache)){var i=t.map((e=>this._layers[e.id])),o=i[0];if("none"!==o.visibility){var a=o.source||"";let e=this.familiesBySource[a];e=e||(this.familiesBySource[a]={});let t=e[a=o.sourceLayer||"_geojsonTileLayer"];(t=t||(e[a]=[])).push(i)}}}}class r{constructor(t){var r={},n=[];for(const e in t){var i=t[e],o=r[e]={};for(const e in i){var a,s=i[+e];s&&0!==s.bitmap.width&&0!==s.bitmap.height&&(a={x:0,y:0,w:s.bitmap.width+2,h:s.bitmap.height+2},n.push(a),o[e]={rect:a,metrics:s.metrics})}}var{w:l,h:c}=e.potpack(n),u=new e.AlphaImage({width:l||1,height:c||1});for(const n in t){var d=t[n];for(const t in d){var h,p=d[+t];p&&0!==p.bitmap.width&&0!==p.bitmap.height&&(h=r[n][t].rect,e.AlphaImage.copy(p.bitmap,u,{x:0,y:0},{x:h.x+1,y:h.y+1},p.bitmap))}}this.image=u,this.positions=r}}e.register("GlyphAtlas",r);class n{constructor(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(t,n,o,a,s){this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort());const c=new e.FeatureIndex(this.tileID,this.promoteId),u=(c.bucketLayerIDs=[],{}),d={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:o};var h=n.familiesBySource[this.source];for(const r in h){var p=t.layers[r];if(p){1===p.version&&e.warnOnce(`Vector tile source "${this.source}" layer "${r}" does not use vector tile spec v2 and therefore may have some rendering errors.`);var m=l.encode(r),y=[];for(let e=0;e<p.length;e++){var f=p.feature(e),g=c.getId(f,r);y.push({feature:f,id:g,index:e,sourceLayerIndex:m})}for(const t of h[r]){var b=t[0];b.source!==this.source&&e.warnOnce(`layer.source = ${b.source} does not equal this.source = `+this.source),b.minzoom&&this.zoom<Math.floor(b.minzoom)||b.maxzoom&&this.zoom>=b.maxzoom||"none"!==b.visibility&&(i(t,this.zoom,o),(u[b.id]=b.createBucket({index:c.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:m,sourceID:this.source})).populate(y,d,this.tileID.canonical),c.bucketLayerIDs.push(t.map((e=>e.id))))}}}let v,M,x,S;n=e.mapObject(d.glyphDependencies,(e=>Object.keys(e).map(Number))),this.inFlightDependencies.forEach((e=>null==e?void 0:e.cancel())),this.inFlightDependencies=[];const w=++this.dependencySentinel;function _(){if(v)return s(v);if(M&&x&&S){var t=new r(M),n=new e.ImageAtlas(x,S);for(const r in u){var a=u[r];a instanceof e.SymbolBucket?(i(a.layers,this.zoom,o),e.performSymbolLayout({bucket:a,glyphMap:M,glyphPositions:t.positions,imageMap:x,imagePositions:n.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):a.hasPattern&&(a instanceof e.LineBucket||a instanceof e.FillBucket||a instanceof e.FillExtrusionBucket)&&(i(a.layers,this.zoom,o),a.addFeatures(d,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:Object.values(u).filter((e=>!e.isEmpty())),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?M:null,iconMap:this.returnDependencies?x:null,glyphPositions:this.returnDependencies?t.positions:null})}}Object.keys(n).length?this.inFlightDependencies.push(a.send("getGlyphs",{uid:this.uid,stacks:n,source:this.source,tileID:this.tileID,type:"glyphs"},((e,t)=>{w!==this.dependencySentinel||v||(v=e,M=t,_.call(this))}))):M={},(n=Object.keys(d.iconDependencies)).length?this.inFlightDependencies.push(a.send("getImages",{icons:n,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{w!==this.dependencySentinel||v||(v=e,x=t,_.call(this))}))):x={},(n=Object.keys(d.patternDependencies)).length?this.inFlightDependencies.push(a.send("getImages",{icons:n,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{w!==this.dependencySentinel||v||(v=e,S=t,_.call(this))}))):S={},_.call(this)}}function i(t,r,n){var i=new e.EvaluationParameters(r);for(const e of t)e.recalculate(i,n)}function o(t,r){const n=e.getArrayBuffer(t.request,((n,i,o,a)=>{if(n)r(n);else if(i)try{var s=new e.vectorTile.VectorTile(new e.Protobuf(i));r(null,{vectorTile:s,rawData:i,cacheControl:o,expires:a})}catch(o){s=31===(n=new Uint8Array(i))[0]&&139===n[1];let e=`Unable to parse the tile at ${t.request.url}, `;e+=s?"please make sure the data is not gzipped and that you have configured the relevant header in the server":"got error: "+o.messge,r(new Error(e))}}));return()=>{n.cancel(),r()}}class a{constructor(e,t,r,n){this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=n||o,this.fetching={},this.loading={},this.loaded={}}loadTile(t,r){const i=t.uid,o=(this.loading||(this.loading={}),!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request)),a=this.loading[i]=new n(t);a.abort=this.loadVectorData(t,((t,n)=>{if(delete this.loading[i],t||!n)return a.status="done",this.loaded[i]=a,r(t);const s=n.rawData,l={},c=(n.expires&&(l.expires=n.expires),n.cacheControl&&(l.cacheControl=n.cacheControl),{});o&&(t=o.finish())&&(c.resourceTiming=JSON.parse(JSON.stringify(t))),a.vectorTile=n.vectorTile,a.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,n)=>{if(delete this.fetching[i],t||!n)return r(t);r(null,e.extend({rawTileData:s.slice(0)},n,l,c))})),this.loaded=this.loaded||{},this.loaded[i]=a,this.fetching[i]={rawTileData:s,cacheControl:l,resourceTiming:c}}))}reloadTile(t,r){var n=this.loaded;const i=t.uid;n&&n[i]&&((n=n[i]).showCollisionBoxes=t.showCollisionBoxes,"parsing"===n.status?n.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,n)=>{if(t||!n)return r(t,n);let o;var a,s;o=this.fetching[i]?(({rawTileData:t,cacheControl:a,resourceTiming:s}=this.fetching[i]),delete this.fetching[i],e.extend({rawTileData:t.slice(0)},n,a,s)):n,r(null,o)})):"done"===n.status&&(n.vectorTile?n.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,r):r()))}abortTile(e,t){var r=this.loading;e=e.uid,r&&r[e]&&r[e].abort&&(r[e].abort(),delete r[e]),t()}removeTile(e,t){var r=this.loaded;e=e.uid,r&&r[e]&&delete r[e],t()}}class s{constructor(){this.loaded={}}loadTile(t,r){return e.__awaiter(this,void 0,void 0,(function*(){var{uid:n,encoding:i,rawImageData:o,redFactor:a,greenFactor:s,blueFactor:l,baseShift:c}=t,u=o.width+2,d=o.height+2;u=e.isImageBitmap(o)?new e.RGBAImage({width:u,height:d},yield e.getImageData(o,-1,-1,u,d)):o,d=new e.DEMData(n,u,i,a,s,l,c),this.loaded=this.loaded||{},this.loaded[n]=d,r(null,d)}))}removeTile(e){var t=this.loaded;e=e.uid,t&&t[e]&&delete t[e]}}function l(e,t){if(0!==e.length){c(e[0],t);for(var r=1;r<e.length;r++)c(e[r],!t)}}function c(e,t){for(var r=0,n=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=r+s;n+=Math.abs(r)>=Math.abs(s)?r-l+s:s-l+r,r=l}0<=r+n!=!!t&&e.reverse()}var u=e.getDefaultExportFromCjs((function e(t,r){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)l(t.coordinates,r);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)l(t.coordinates[n],r);return t}));const d=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;let h=class{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){var t=[];for(const r of this._feature.geometry)t.push([new e.Point(r[0],r[1])]);return t}var r=[];for(const t of this._feature.geometry){var n=[];for(const r of t)n.push(new e.Point(r[0],r[1]));r.push(n)}return r}toGeoJSON(e,t,r){return d.call(this,e,t,r)}},p=class{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new h(this._features[e])}};var m={exports:{}},y=e.pointGeometry,f=e.vectorTile.VectorTileFeature,g=b;function b(e,t){this.options=t||{},this.features=e,this.length=e.length}function v(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}b.prototype.feature=function(e){return new v(this.features[e],this.options.extent)},v.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],n=[],i=0;i<r.length;i++)n.push(new y(r[i][0],r[i][1]));this.geometry.push(n)}return this.geometry},v.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[t,n,r,i]},v.prototype.toGeoJSON=f.prototype.toGeoJSON;var M=e.pbf,x=g;function S(e){var t,r=new M,n=e,i=r;for(t in n.layers)i.writeMessage(3,w,n.layers[t]);return r.finish()}function w(e,t){t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);for(var r={keys:[],values:[],keycache:{},valuecache:{}},n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,_,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,L,o[n])}function _(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,T,e),t.writeVarintField(3,r.type),t.writeMessage(4,k,r)}function T(e,t){var r,n=e.feature,i=e.keys,o=e.values,a=e.keycache,s=e.valuecache;for(r in n.properties){var l,c=n.properties[r],u=a[r];null!==c&&(void 0===u&&(i.push(r),u=i.length-1,a[r]=u),t.writeVarint(u),void 0===(l=s[u=(u=typeof c)+":"+(c="string"!=u&&"boolean"!=u&&"number"!=u?JSON.stringify(c):c)])&&(o.push(c),l=o.length-1,s[u]=l),t.writeVarint(l))}}function I(e,t){return(t<<3)+(7&e)}function C(e){return e<<1^e>>31}function k(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,o=0,a=r.length,s=0;s<a;s++){for(var l=r[s],c=1,u=(1===n&&(c=l.length),t.writeVarint(I(1,c)),3===n?l.length-1:l.length),d=0;d<u;d++){1===d&&1!==n&&t.writeVarint(I(2,u-1));var h=l[d].x-i,p=l[d].y-o;t.writeVarint(C(h)),t.writeVarint(C(p)),i+=h,o+=p}3===n&&t.writeVarint(15)}}function L(e,t){var r=typeof e;"string"==r?t.writeStringField(1,e):"boolean"==r?t.writeBooleanField(7,e):"number"==r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}m.exports=S,m.exports.fromVectorTileJs=S,m.exports.fromGeojsonVt=function(e,t){t=t||{};var r,n={};for(r in e)n[r]=new x(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return S({layers:n})},m.exports.GeoJSONWrapper=x;var N,Z=e.getDefaultExportFromCjs(m.exports);const E={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},z=Math.fround||(N=new Float32Array(1),e=>(N[0]=+e,N[0]));class G{constructor(e){this.options=Object.assign(Object.create(E),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:r,maxZoom:n}=this.options,i=(t&&console.time("total time"),`prepare ${e.length} points`),o=(t&&console.time(i),this.points=e,[]);for(let t=0;t<e.length;t++){var a,s=e[t];s.geometry&&([s,a]=s.geometry.coordinates,s=z(R(s)),a=z(D(a)),o.push(s,a,1/0,t,-1,1),this.options.reduce)&&o.push(0)}let l=this.trees[n+1]=this._createTree(o);t&&console.timeEnd(i);for(let e=n;e>=r;e--){var c=+Date.now();l=this.trees[e]=this._createTree(this._cluster(l,e)),t&&console.log("z%d: %d clusters in %dms",e,l.numItems,+Date.now()-c)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;var n=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;var o=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])r=-180,i=180;else if(r>i)return e=this.getClusters([r,n,180,o],t),a=this.getClusters([-180,n,i,o],t),e.concat(a);var a=(e=this.trees[this._limitZoom(t)]).range(R(r),D(o),R(i),D(n)),s=e.data,l=[];for(const e of a){var c=this.stride*e;l.push(1<s[c+5]?P(s,c,this.clusterProps):this.points[s[c+3]])}return l}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var o=i.data;if(t*this.stride>=o.length)throw new Error(n);r=this.options.radius/(this.options.extent*Math.pow(2,r-1));var a=o[t*this.stride],s=(t=o[t*this.stride+1],[]);for(const n of i.within(a,t,r)){var l=n*this.stride;o[4+l]===e&&s.push(1<o[l+5]?P(o,l,this.clusterProps):this.points[o[l+3]])}if(0===s.length)throw new Error(n);return s}getLeaves(e,t,r){var n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n}getTile(e,t,r){var n,i=this.trees[this._limitZoom(e)],{extent:o,radius:n}=(e=Math.pow(2,e),this.options),o=(r-(n/=o))/e,a=(r+1+n)/e,s={features:[]};return this._addTileFeatures(i.range((t-n)/e,o,(t+1+n)/e,a),i.data,t,r,e,s),0===t&&this._addTileFeatures(i.range(1-n/e,o,1,a),i.data,e,r,e,s),t===e-1&&this._addTileFeatures(i.range(0,o,n/e,a),i.data,-1,r,e,s),s.features.length?s:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,n,i){for(const a of this.getChildren(t)){var o=a.properties;if(o&&o.cluster?i+o.point_count<=n?i+=o.point_count:i=this._appendLeaves(e,o.cluster_id,r,n,i):i<n?i++:e.push(a),e.length===r)break}return i}_createTree(t){var r=new e.KDBush(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)r.add(t[e],t[e+1]);return r.finish(),r.data=t,r}_addTileFeatures(e,t,r,n,i,o){for(const u of e){var a,s=u*this.stride,l=1<t[s+5];let e,d,h;h=l?(e=A(t,s,this.clusterProps),d=t[s],t[1+s]):(c=this.points[t[s+3]],[c,a]=(e=c.properties,c.geometry.coordinates),d=R(c),D(a));var c={type:1,geometry:[[Math.round(this.options.extent*(d*i-r)),Math.round(this.options.extent*(h*i-n))]],tags:e};let p;void 0!==(p=l||this.options.generateId?t[s+3]:this.points[t[s+3]].id)&&(c.id=p),o.features.push(c)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){var{radius:r,extent:n,reduce:i,minPoints:o}=this.options,a=r/(n*Math.pow(2,t)),s=e.data,l=[],c=this.stride;for(let r=0;r<s.length;r+=c)if(!(s[r+2]<=t)){s[r+2]=t;var u=s[r],d=s[r+1],h=e.within(s[r],s[r+1],a),p=s[r+5];let n=p;for(const e of h){var m=e*c;s[2+m]>t&&(n+=s[m+5])}if(n>p&&n>=o){let e,o=u*p,a=d*p,m=-1;var y=(r/c<<5)+(t+1)+this.points.length;for(const n of h){var f,g=n*c;s[2+g]<=t||(s[2+g]=t,f=s[g+5],o+=s[g]*f,a+=s[1+g]*f,s[4+g]=y,i&&(e||(e=this._map(s,r,!0),m=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(s,g))))}s[r+4]=y,l.push(o/n,a/n,1/0,y,-1,n),i&&l.push(m)}else{for(let e=0;e<c;e++)l.push(s[r+e]);if(1<n)for(const e of h){var b=e*c;if(!(s[2+b]<=t)){s[2+b]=t;for(let e=0;e<c;e++)l.push(s[b+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){var n;return 1<e[t+5]?(n=this.clusterProps[e[t+6]],r?Object.assign({},n):n):(n=this.points[e[t+3]].properties,e=this.options.map(n),r&&e===n?Object.assign({},e):e)}}function P(e,t,r){return{type:"Feature",id:e[t+3],properties:A(e,t,r),geometry:{type:"Point",coordinates:[360*(e[t]-.5),function(e){return e=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(e))/Math.PI-90}(e[t+1])]}}}function A(e,t,r){var n=e[t+5],i=1e4<=n?Math.round(n/1e3)+"k":1e3<=n?Math.round(n/100)/10+"k":n,o=e[t+6];return r=-1===o?{}:Object.assign({},r[o]),Object.assign(r,{cluster:!0,cluster_id:e[t+3],point_count:n,point_count_abbreviated:i})}function R(e){return e/360+.5}function D(e){return e=Math.sin(e*Math.PI/180),(e=.5-.25*Math.log((1+e)/(1-e))/Math.PI)<0?0:1<e?1:e}function X(e,t,r,n){for(var i,o=n,a=r-t>>1,s=r-t,l=e[t],c=e[t+1],u=e[r],d=e[r+1],h=t+3;h<r;h+=3){var p=function(e,t,r,n,i,o){var a,s=i-r,l=o-n;return 0==s&&0==l||(1<(a=((e-r)*s+(t-n)*l)/(s*s+l*l))?(r=i,n=o):0<a&&(r+=s*a,n+=l*a)),(s=e-r)*s+(l=t-n)*l}(e[h],e[h+1],l,c,u,d);o<p?(i=h,o=p):p===o&&(p=Math.abs(h-a))<s&&(i=h,s=p)}n<o&&(3<i-t&&X(e,t,i,n),e[i+2]=o,3<r-i)&&X(e,i,r,n)}function O(e,t,r,n){var i=e={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},o=i.geometry;if("Point"===(t=i.type)||"MultiPoint"===t||"LineString"===t)W(i,o);else if("Polygon"===t||"MultiLineString"===t)for(var a=0;a<o.length;a++)W(i,o[a]);else if("MultiPolygon"===t)for(a=0;a<o.length;a++)for(var s=0;s<o[a].length;s++)W(i,o[a][s]);return e}function W(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function j(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===o)Y(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)Y(i[c],s);else if("LineString"===o)F(i,s,a,!1);else if("MultiLineString"===o){if(r.lineMetrics){for(c=0;c<i.length;c++)F(i[c],s=[],a,!1),e.push(O(l,"LineString",s,t.properties));return}V(i,s,a,!1)}else if("Polygon"===o)V(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"!==o)throw new Error("Input data is not a valid GeoJSON object.");for(c=0;c<t.geometry.geometries.length;c++)j(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},r,n);return}for(c=0;c<i.length;c++){var u=[];V(i[c],u,a,!0),s.push(u)}}e.push(O(l,o,s,t.properties))}}function Y(e,t){t.push(H(e[0])),t.push(U(e[1])),t.push(0)}function F(e,t,r,n){for(var i,o,a=0,s=0;s<e.length;s++){var l=H(e[s][0]),c=U(e[s][1]);t.push(l),t.push(c),t.push(0),0<s&&(a+=n?(i*c-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(c-o,2))),i=l,o=c}var u=t.length-3;t[2]=1,X(t,0,u,r),t[2+u]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function V(e,t,r,n){for(var i=0;i<e.length;i++){var o=[];F(e[i],o,r,n),t.push(o)}}function H(e){return e/360+.5}function U(e){return e=Math.sin(e*Math.PI/180),(e=.5-.25*Math.log((1+e)/(1-e))/Math.PI)<0?0:1<e?1:e}function B(e,t,r,n,i,o,a,s){if(n/=t,(r/=t)<=o&&a<n)return e;if(a<r||n<=o)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,h=u.type,p=0===i?u.minX:u.minY,m=0===i?u.maxX:u.maxY;if(r<=p&&m<n)l.push(u);else if(!(m<r||n<=p)){var y=[];if("Point"===h||"MultiPoint"===h){S=x=g=void 0;for(var f=d,g=y,b=r,v=n,M=i,x=0;x<f.length;x+=3){var S=f[x+M];b<=S&&S<=v&&(g.push(f[x]),g.push(f[x+1]),g.push(f[x+2]))}}else if("LineString"===h)K(d,y,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===h)Q(d,y,r,n,i,!1);else if("Polygon"===h)Q(d,y,r,n,i,!0);else if("MultiPolygon"===h)for(var w=0;w<d.length;w++){var _=[];Q(d[w],_,r,n,i,!0),_.length&&y.push(_)}if(y.length)if(s.lineMetrics&&"LineString"===h)for(w=0;w<y.length;w++)l.push(O(u.id,h,y[w],u.tags));else"LineString"!==h&&"MultiLineString"!==h||(1===y.length?(h="LineString",y=y[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===y.length?"Point":"MultiPoint"),l.push(O(u.id,h,y,u.tags))}}return l.length?l:null}function K(e,t,r,n,i,o,a){for(var s,l,c=J(e),u=0===i?$:ee,d=e.start,h=0;h<e.length-3;h+=3){var p=e[h],m=e[h+1],y=e[h+2],f=e[h+3],g=e[h+4],b=0===i?p:m,v=0===i?f:g,M=!1;a&&(s=Math.sqrt(Math.pow(p-f,2)+Math.pow(m-g,2))),b<r?r<v&&(l=u(c,p,m,f,g,r),a)&&(c.start=d+s*l):n<b?v<n&&(l=u(c,p,m,f,g,n),a)&&(c.start=d+s*l):q(c,p,m,y),v<r&&r<=b&&(l=u(c,p,m,f,g,r),M=!0),n<v&&b<=n&&(l=u(c,p,m,f,g,n),M=!0),!o&&M&&(a&&(c.end=d+s*l),t.push(c),c=J(e)),a&&(d+=s)}var x=e.length-3;p=e[x],m=e[1+x],y=e[2+x],r<=(b=0===i?p:m)&&b<=n&&q(c,p,m,y),x=c.length-3,o&&3<=x&&(c[x]!==c[0]||c[1+x]!==c[1])&&q(c,c[0],c[1],c[2]),c.length&&t.push(c)}function J(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function Q(e,t,r,n,i,o){for(var a=0;a<e.length;a++)K(e[a],t,r,n,i,o,!1)}function q(e,t,r,n){e.push(t),e.push(r),e.push(n)}function $(e,t,r,n,i,o){return n=(o-t)/(n-t),e.push(o),e.push(r+(i-r)*n),e.push(1),n}function ee(e,t,r,n,i,o){return i=(o-r)/(i-r),e.push(t+(n-t)*i),e.push(o),e.push(1),i}function te(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=i.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)a=re(i.geometry,t);else if("MultiLineString"===o||"Polygon"===o)for(var a=[],s=0;s<i.geometry.length;s++)a.push(re(i.geometry[s],t));else if("MultiPolygon"===o)for(a=[],s=0;s<i.geometry.length;s++){for(var l=[],c=0;c<i.geometry[s].length;c++)l.push(re(i.geometry[s][c],t));a.push(l)}r.push(O(i.id,o,a,i.tags))}return r}function re(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function ne(e,t){if(!e.transformed){for(var r,n=1<<e.z,i=e.x,o=e.y,a=0;a<e.features.length;a++){var s=e.features[a],l=s.geometry,c=s.type;if(s.geometry=[],1===c)for(r=0;r<l.length;r+=2)s.geometry.push(ie(l[r],l[r+1],t,n,i,o));else for(r=0;r<l.length;r++){for(var u=[],d=0;d<l[r].length;d+=2)u.push(ie(l[r][d],l[r][d+1],t,n,i,o));s.geometry.push(u)}}e.transformed=!0}return e}function ie(e,t,r,n,i,o){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-o))]}function oe(e,t,r,n,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,v=b=g=f=y=m=d=l=void 0;var l=a,c=e[s],u=o,d=i,h=c.geometry,p=c.type,m=[];if("Point"===p||"MultiPoint"===p)for(var y=0;y<h.length;y+=3)m.push(h[y]),m.push(h[y+1]),l.numPoints++,l.numSimplified++;else if("LineString"===p)ae(m,h,l,u,!1,!1);else if("MultiLineString"===p||"Polygon"===p)for(y=0;y<h.length;y++)ae(m,h[y],l,u,"Polygon"===p,0===y);else if("MultiPolygon"===p)for(var f=0;f<h.length;f++){var g=h[f];for(y=0;y<g.length;y++)ae(m,g[y],l,u,!0,0===y)}if(m.length){var b=c.tags||null;if("LineString"===p&&d.lineMetrics){for(var v in b={},c.tags)b[v]=c.tags[v];b.mapbox_clip_start=h.start/h.size,b.mapbox_clip_end=h.end/h.size}d={geometry:m,type:"Polygon"===p||"MultiPolygon"===p?3:"LineString"===p||"MultiLineString"===p?2:1,tags:b},null!==c.id&&(d.id=c.id),l.features.push(d)}d=e[s].minX;var M=e[s].minY,x=e[s].maxX,S=e[s].maxY;d<a.minX&&(a.minX=d),M<a.minY&&(a.minY=M),a.maxX<x&&(a.maxX=x),a.maxY<S&&(a.maxY=S)}return a}function ae(e,t,r,n,i,o){var a=n*n;if(0<n&&t.size<(i?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;if(i){for(var c=s,u=(i=o,0),d=0,h=c.length,p=h-2;d<h;p=d,d+=2)u+=(c[d]-c[p])*(c[d+1]+c[p+1]);if(0<u===i)for(d=0,h=c.length;d<h/2;d+=2){var m=c[d],y=c[d+1];c[d]=c[h-2-d],c[d+1]=c[h-1-d],c[h-2-d]=m,c[h-1-d]=y}}e.push(s)}}function se(e,t){var r,n,i,o,a,s=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(s&&console.time("preprocess data"),t.maxZoom<0||24<t.maxZoom)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");e=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)j(r,e.features[n],t,n);else"Feature"===e.type?j(r,e,t):j(r,{geometry:e},t);return r}(e,t),this.tiles={},this.tileCoords=[],s&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=B(i=r=e,1,-1-(n=t.buffer/t.extent),n,0,-1,2,t),a=B(r,1,1-n,2+n,0,-1,2,t),(e=i=(o||a)&&(i=B(r,1,-n,1+n,0,-1,2,t)||[],o&&(i=te(o,1).concat(i)),a)?i.concat(te(a,-1)):i).length&&this.splitTile(e,0,0,0),s&&(e.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function le(e,t,r){return 32*((1<<e)*r+t)+e}function ce(e,t){return t?e.properties[t]:e.id}function ue(e,t){if(null==e)return 1;if("Feature"===e.type)return null!=ce(e,t);if("FeatureCollection"===e.type){var r=new Set;for(const i of e.features){var n=ce(i,t);if(null==n)return;if(r.has(n))return;r.add(n)}return 1}}function de(e,t){var r=new Map;if(null!=e)if("Feature"===e.type)r.set(ce(e,t),e);else for(const n of e.features)r.set(ce(n,t),n);return r}se.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},se.prototype.splitTile=function(e,t,r,n,i,o,a){for(var s=[e,t,r,n],l=this.options,c=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var u,d,h,p,m,y,f,g,b,v=1<<t,M=le(t,r,n),x=this.tiles[M];if(x||(1<c&&console.time("creation"),x=this.tiles[M]=oe(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),c&&(1<c&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,x.numFeatures,x.numPoints,x.numSimplified),console.timeEnd("creation")),this.stats[M="z"+t]=(this.stats[M]||0)+1,this.total++)),x.source=e,i){if(t===l.maxZoom||t===i)continue;if(M=1<<i-t,r!==Math.floor(o/M)||n!==Math.floor(a/M))continue}else if(t===l.indexMaxZoom||x.numPoints<=l.indexMaxPoints)continue;x.source=null,0!==e.length&&(1<c&&console.time("clipping"),u=.5-(M=.5*l.buffer/l.extent),h=1+M,f=p=m=y=null,g=B(e,v,r-M,r+(d=.5+M),0,x.minX,x.maxX,l),b=B(e,v,r+u,r+h,0,x.minX,x.maxX,l),e=null,g&&(f=B(g,v,n-M,n+d,1,x.minY,x.maxY,l),p=B(g,v,n+u,n+h,1,x.minY,x.maxY,l),g=null),b&&(m=B(b,v,n-M,n+d,1,x.minY,x.maxY,l),y=B(b,v,n+u,n+h,1,x.minY,x.maxY,l),b=null),1<c&&console.timeEnd("clipping"),s.push(f||[],t+1,2*r,2*n),s.push(p||[],t+1,2*r,2*n+1),s.push(m||[],t+1,2*r+1,2*n),s.push(y||[],t+1,2*r+1,2*n+1))}},se.prototype.getTile=function(e,t,r){var n=(i=this.options).extent,i=i.debug;if(e<0||24<e)return null;var o=le(e,t=(t%(o=1<<e)+o)%o,r);if(this.tiles[o])return ne(this.tiles[o],n);1<i&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var a,s=e,l=t,c=r;!a&&0<s;)s--,l=Math.floor(l/2),c=Math.floor(c/2),a=this.tiles[le(s,l,c)];return a&&a.source&&(1<i&&console.log("found parent tile z%d-%d-%d",s,l,c),1<i&&console.time("drilling down"),this.splitTile(a.source,s,l,c,e,t,r),1<i&&console.timeEnd("drilling down"),this.tiles[o])?ne(this.tiles[o],n):null};class he extends a{constructor(t,r,n,i){super(t,r,n),this._dataUpdateable=new Map,this.loadGeoJSON=(t,r)=>{const n=t.promoteId;if(t.request)return e.getJSON(t.request,((e,t,i,o)=>{this._dataUpdateable=ue(t,n)?de(t,n):void 0,r(e,t,i,o)}));if("string"==typeof t.data)try{var i=JSON.parse(t.data);this._dataUpdateable=ue(i,n)?de(i,n):void 0,r(null,i)}catch(i){r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}else t.dataDiff?this._dataUpdateable?(function(e,t,r){if(t.removeAll&&e.clear(),t.remove)for(const r of t.remove)e.delete(r);if(t.add)for(const i of t.add){var n=ce(i,r);null!=n&&e.set(n,i)}if(t.update)for(const r of t.update){let t=e.get(r.id);if(null!=t){var i=r.newGeometry||r.removeAllProperties,o=!r.removeAllProperties&&(0<(null==(o=r.removeProperties)?void 0:o.length)||0<(null==(o=r.addOrUpdateProperties)?void 0:o.length));if((i||o)&&(t=Object.assign({},t),e.set(r.id,t),o)&&(t.properties=Object.assign({},t.properties)),r.newGeometry&&(t.geometry=r.newGeometry),r.removeAllProperties)t.properties={};else if(0<(null==(i=r.removeProperties)?void 0:i.length))for(const e of r.removeProperties)Object.prototype.hasOwnProperty.call(t.properties,e)&&delete t.properties[e];if(0<(null==(i=r.addOrUpdateProperties)?void 0:i.length))for(var{key:a,value:s}of r.addOrUpdateProperties)t.properties[a]=s}}}(this._dataUpdateable,t.dataDiff,n),r(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):r(new Error("Cannot update existing geojson data in "+t.source)):r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,i&&(this.loadGeoJSON=i)}loadGeoJSONTile(e,t){if(e=e.tileID.canonical,!this._geoJSONIndex)return t(null,null);if(!(e=this._geoJSONIndex.getTile(e.z,e.x,e.y)))return t(null,null);e=new p(e.features);let r=Z(e);t(null,{vectorTile:e,rawData:(r=0===r.byteOffset&&r.byteLength===r.buffer.byteLength?r:new Uint8Array(r)).buffer})}loadData(t,r){var n;null!=(n=this._pendingRequest)&&n.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request);this._pendingCallback=r,this._pendingRequest=this.loadGeoJSON(t,((n,o)=>{if(delete this._pendingCallback,delete this._pendingRequest,n||!o)return r(n);if("object"!=typeof o)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));u(o,!0);try{if(t.filter){const r=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===r.result)throw new Error(r.value.map((e=>e.key+": "+e.message)).join(", "));o={type:"FeatureCollection",features:o.features.filter((e=>r.value.evaluate({zoom:0},e)))}}this._geoJSONIndex=t.cluster?new G(function({superclusterOptions:t,clusterProperties:r}){if(r&&t){const o={},a={},s={accumulated:null,zoom:0},l={properties:null},c=Object.keys(r);for(const t of c){var[n,i]=r[t],i=e.createExpression(i),n=e.createExpression("string"==typeof n?[n,["accumulated"],["get",t]]:n);o[t]=i.value,a[t]=n.value}t.map=e=>{l.properties=e;var t={};for(const e of c)t[e]=o[e].evaluate(s,l);return t},t.reduce=(e,t)=>{l.properties=t;for(const t of c)s.accumulated=e[t],e[t]=a[t].evaluate(s,l)}}return t}(t)).load(o.features):function(e,t){return new se(e,t)}(o,t.geojsonVtOptions)}catch(n){return r(n)}var a;this.loaded={},o={},i&&(a=i.finish())&&(o.resourceTiming={},o.resourceTiming[t.source]=JSON.parse(JSON.stringify(a))),r(null,o)}))}reloadTile(e,t){var r=this.loaded,n=e.uid;return r&&r[n]?super.reloadTile(e,t):this.loadTile(e,t)}removeSource(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class pe{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:a,geojson:he},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}setReferrer(e,t){this.referrer=t}setImages(e,t,r){this.availableImages[e]=t;for(const r in this.workerSources[e]){var n=this.workerSources[e][r];for(const e in n)n[e].availableImages=t}r()}setLayers(e,t,r){this.getLayerIndex(e).replace(t),r()}updateLayers(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()}loadTile(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)}loadDEMTile(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)}reloadTile(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)}removeDEMTile(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}removeSource(e,t,r){var n;this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]&&(n=this.workerSources[e][t.type][t.source],delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r())}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}}syncRTLPluginState(t,r,n){try{e.plugin.setState(r);var i,o=e.plugin.getPluginURL();e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=o&&(this.self.importScripts(o),n((i=e.plugin.isParsed())?void 0:new Error("RTL Text Plugin failed to import scripts from "+o),i))}catch(t){n(t.toString())}}getAvailableImages(e){return this.availableImages[e]||[]}getLayerIndex(e){return this.layerIndexes[e]||(this.layerIndexes[e]=new t)}getWorkerSource(e,t,r){return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][r]||(this.workerSources[e][t][r]=new this.workerSourceTypes[t]({send:(t,r,n)=>{this.actor.send(t,r,n,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][r]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new s),this.demWorkerSources[e][t]}}return e.isWorker()&&(self.worker=new pe(self)),pe})),i(0,(function(e){var t,r,i="3.6.1";class o{static testProp(e){if(o.docStyle)for(let t=0;t<e.length;t++)if(e[t]in o.docStyle)return e[t];return e[0]}static create(e,t,r){return e=n.document.createElement(e),void 0!==t&&(e.className=t),r&&r.appendChild(e),e}static createNS(e,t){return n.document.createElementNS(e,t)}static disableDrag(){o.docStyle&&o.selectProp&&(o.userSelect=o.docStyle[o.selectProp],o.docStyle[o.selectProp]="none")}static enableDrag(){o.docStyle&&o.selectProp&&(o.docStyle[o.selectProp]=o.userSelect)}static setTransform(e,t){e.style[o.transformProp]=t}static addEventListener(e,t,r,n={}){"passive"in n?e.addEventListener(t,r,n):e.addEventListener(t,r,n.capture)}static removeEventListener(e,t,r,n={}){"passive"in n?e.removeEventListener(t,r,n):e.removeEventListener(t,r,n.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),n.removeEventListener("click",o.suppressClickInternal,!0)}static suppressClick(){n.addEventListener("click",o.suppressClickInternal,!0),n.setTimeout((()=>{n.removeEventListener("click",o.suppressClickInternal,!0)}),0)}static getScale(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}static mousePos(t,r){var n,i;return t?(i=(n=o.getScale(t)).boundingClientRect,new e.Point((r.clientX-i.left)/n.x-t.clientLeft,(r.clientY-i.top)/n.y-t.clientTop)):new e.Point(r.clientX,r.clientY)}static touchPos(t,r){var n=t.getBoundingClientRect(),i=[];for(let o=0;o<r.length;o++)i.push(new e.Point(r[o].clientX-n.left-t.clientLeft,r[o].clientY-n.top-t.clientTop));return i}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}o.docStyle=void 0!==n&&n.document&&n.document.documentElement.style,o.selectProp=o.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),o.transformProp=o.testProp(["transform","WebkitTransform"]);const a={supported:!1,testSupport:function(e){!c&&l&&(u?d(e):s=e)}};let s,l,c=!1,u=!1;function d(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l),e.isContextLost())return;a.supported=!0}catch(e){}e.deleteTexture(t),c=!0}"undefined"!=typeof document&&((l=document.createElement("img")).onload=function(){s&&d(s),s=null,u=!0},l.onerror=function(){c=!0,s=null},l.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");{let r,n,i,o;(Ke=t=t||{}).resetRequestQueue=()=>{r=[],n=0,i=0,o={}},Ke.addThrottleControl=e=>{var t=i++;return o[t]=e,t},Ke.removeThrottleControl=e=>{delete o[e],l()},Ke.getImage=(e,t,i=!0)=>{a.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*");const o={requestParameters:e,supportImageRefresh:i,callback:t,cancelled:!1,completed:!1,cancel:()=>{o.completed||o.cancelled||(o.cancelled=!0,o.innerRequest&&(o.innerRequest.cancel(),n--),l())}};return r.push(o),l(),o};const s=(t,r,i,o,a,s)=>{i?r(i):o instanceof HTMLImageElement||e.isImageBitmap(o)?r(null,o):o&&(i=o,o=(e,t)=>{null!=e?r(e):null!=t&&r(null,t,{cacheControl:a,expires:s})},"function"==typeof createImageBitmap?e.arrayBufferToImageBitmap(i,o):e.arrayBufferToImage(i,o)),t.cancelled||(t.completed=!0,n--,l())},l=()=>{var t=(()=>{var e=Object.keys(o);let t=!1;if(0<e.length)for(const r of e)if(t=o[r]())break;return t})()?e.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:e.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let o=n;o<t&&0<r.length;o++){var i,a=r.shift();a.cancelled?o--:(i=(t=>{const{requestParameters:r,supportImageRefresh:n,callback:i}=t;return e.extend(r,{type:"image"}),(!1!==n||e.isWorker()||e.getProtocolAction(r.url)||r.headers&&!Object.keys(r.headers).reduce(((e,t)=>e&&"accept"===t),!0)?e.makeRequest:c)(r,((e,r,n,o)=>{s(t,i,e,r,n,o)}))})(a),n++,a.innerRequest=i)}},c=(t,r)=>{const n=new Image;var i=t.url;let o=!1;return(t=t.credentials)&&"include"===t?n.crossOrigin="use-credentials":(t&&"same-origin"===t||!e.sameOrigin(i))&&(n.crossOrigin="anonymous"),n.fetchPriority="high",n.onload=()=>{r(null,n),n.onerror=n.onload=null},n.onerror=()=>{o||r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),n.onerror=n.onload=null},n.src=i,{cancel:()=>{o=!0,n.src=""}}}}t.resetRequestQueue(),(Ke=r=r||{}).Glyphs="Glyphs",Ke.Image="Image",Ke.Source="Source",Ke.SpriteImage="SpriteImage",Ke.SpriteJSON="SpriteJSON",Ke.Style="Style",Ke.Tile="Tile",Ke.Unknown="Unknown";class h{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeSpriteURL(e,t,r){return e=function(e){var t=e.match(p);if(t)return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]};throw new Error(`Unable to parse URL "${e}"`)}(e),e.path+=""+t+r,function(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}(e)}setTransformRequest(e){this._transformRequestFn=e}}const p=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function m(e){var t=[];if("string"==typeof e)t.push({id:"default",url:e});else if(e&&0<e.length){var r,n,i=[];for({id:r,url:n}of e){var o=""+r+n;-1===i.indexOf(o)&&(i.push(o),t.push({id:r,url:n}))}}return t}function y(t,r,n,i,o){if(i)t(i);else if(o===Object.values(r).length&&o===Object.values(n).length){var a={};for(const t in r){a[t]={};var s=e.browser.getImageCanvasContext(n[t]),l=r[t];for(const e in l){var{width:c,height:u,x:d,y:h,sdf:p,pixelRatio:m,stretchX:y,stretchY:f,content:g,contentMatch:b}=l[e];a[t][e]={data:null,pixelRatio:m,sdf:p,stretchX:y,stretchY:f,content:g,spriteData:{width:c,height:u,x:d,y:h,context:s},contentMatch:b}}}t(null,a)}}class f{constructor(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)}update(t,r,n){var{width:i,height:o}=t,a=!(this.size&&this.size[0]===i&&this.size[1]===o||n),s=this.context,l=s.gl;this.useMipmap=Boolean(r&&r.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!r||!1!==r.premultiply)),a?(this.size=[i,o],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,i,o,0,this.format,l.UNSIGNED_BYTE,t.data)):(({x:s,y:r}=n||{x:0,y:0}),t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texSubImage2D(l.TEXTURE_2D,0,s,r,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,s,r,i,o,l.RGBA,l.UNSIGNED_BYTE,t.data)),this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(e,t,r){var n;(n=(n=this.context).gl).bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){this.context.gl.deleteTexture(this.texture),this.texture=null}}class g extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e)){for(var{ids:t,callback:r}of this.requestors)this._notify(t,r);this.requestors=[]}}getImage(t){var r;return(t=this.images[t])&&!t.data&&t.spriteData&&(r=t.spriteData,t.data=new e.RGBAImage({width:r.width,height:r.height},r.context.getImageData(r.x,r.y,r.width,r.height).data),t.spriteData=null),t}addImage(e,t){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,t)&&(this.images[e]=t)}_validate(t,r){let n=!0;var i=r.data||r.spriteData;return this._validateStretch(r.stretchX,i&&i.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),n=!1),this._validateStretch(r.stretchY,i&&i.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(e){let r=0;for(const n of e){if(n[0]<r||n[1]<n[0]||t<n[1])return!1;r=n[1]}}return!0}_validateContent(e,t){var r,n;return!e||4===e.length&&(r=(n=t.spriteData)&&n.width||t.data.width,n=n&&n.height||t.data.height,!(e[0]<0||r<e[0]||e[1]<0||n<e[1]||e[2]<0||r<e[2]||e[3]<0||n<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t,r=!0){var n=this.getImage(e);if(r&&(n.data.width!==t.data.width||n.data.height!==t.data.height))throw new Error(`size mismatch between old image (${n.data.width}x${n.data.height}) and new image (${t.data.width}x${t.data.height}).`);t.version=n.version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let r=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(r=!1);this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,r){var n={};for(const r of t){let t=this.getImage(r);t||(this.fire(new e.Event("styleimagemissing",{id:r})),t=this.getImage(r)),t?n[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,contentMatch:t.contentMatch,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}r(null,n)}getPixelSize(){var{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){var r=this.patterns[t],n=this.getImage(t);return n?(r&&r.position.version===n.version?r:(r?r.position.version=n.version:(r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},n=new e.ImagePosition(r,n),this.patterns[t]={bin:r,position:n}),this._updatePatternAtlas(),this.patterns[t])).position:null}bind(e){var t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){var t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:r,h:n}=e.potpack(t);var i=this.atlasImage;i.resize({width:r||1,height:n||1});for(const t in this.patterns){var o=(a=this.patterns[t].bin).x+1,a=a.y+1,s=this.getImage(t).data;const r=s.width,n=s.height;e.RGBAImage.copy(s,i,{x:0,y:0},{x:o,y:a},{width:r,height:n}),e.RGBAImage.copy(s,i,{x:0,y:n-1},{x:o,y:a-1},{width:r,height:1}),e.RGBAImage.copy(s,i,{x:0,y:0},{x:o,y:a+n},{width:r,height:1}),e.RGBAImage.copy(s,i,{x:r-1,y:0},{x:o-1,y:a},{width:1,height:n}),e.RGBAImage.copy(s,i,{x:0,y:0},{x:o+r,y:a},{width:1,height:n})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const n of t){var r;this.callbackDispatchedThisFrame[n]||(this.callbackDispatchedThisFrame[n]=!0,(r=this.getImage(n))||e.warnOnce(`Image with ID: "${n}" was not found`),e.renderStyleImage(r)&&this.updateImage(n,r))}}}const b=1e20;function v(e,t,r,n,i,o,a,s,l){for(let c=t;c<t+n;c++)M(e,r*o+c,o,i,a,s,l);for(let c=r;c<r+i;c++)M(e,c*o+t,1,n,a,s,l)}function M(e,t,r,n,i,o,a){a[o[0]=0]=-b,a[1]=b,i[0]=e[t];for(let c=1,u=0,d=0;c<n;c++){i[c]=e[t+c*r];var s=c*c;do{var l=o[u];d=(i[c]-i[l]+s-l*l)/(c-l)/2}while(d<=a[u]&&-1<--u);o[++u]=c,a[u]=d,a[u+1]=b}for(let s=0,l=0;s<n;s++){for(;a[l+1]<s;)l++;var c=o[l],u=s-c;e[t+s*r]=i[c]+u*u}}class x{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(t,r){var n=[];for(const e in t)for(const r of t[e])n.push({stack:e,id:r});e.asyncAll(n,(({stack:e,id:t},r)=>{let n=this.entries[e];var i=(n=n||(this.entries[e]={glyphs:{},requests:{},ranges:{}})).glyphs[t];if(void 0!==i)r(null,{stack:e,id:t,glyph:i});else if(i=this._tinySDF(n,e,t))n.glyphs[t]=i,r(null,{stack:e,id:t,glyph:i});else{const o=Math.floor(t/256);if(65535<256*o)r(new Error("glyphs > 65535 not supported"));else if(n.ranges[o])r(null,{stack:e,id:t,glyph:i});else if(this.url){let i=n.requests[o];i||(i=n.requests[o]=[],x.loadGlyphRange(e,o,this.url,this.requestManager,((e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(n.glyphs[+e]=t[+e]);n.ranges[o]=!0}for(const r of i)r(e,t);delete n.requests[o]}))),i.push(((n,i)=>{n?r(n):i&&r(null,{stack:e,id:t,glyph:i[t]||null})}))}else r(new Error("glyphsUrl is not set"))}}),((e,t)=>{if(e)r(e);else if(t){var n,i,o,a={};for({stack:n,id:i,glyph:o}of t)(a[n]||(a[n]={}))[i]=o&&{id:o.id,bitmap:o.bitmap.clone(),metrics:o.metrics};r(null,a)}}))}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&(e.unicodeBlockLookup["CJK Unified Ideographs"](t)||e.unicodeBlockLookup["Hangul Syllables"](t)||e.unicodeBlockLookup.Hiragana(t)||e.unicodeBlockLookup.Katakana(t))}_tinySDF(t,r,n){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(n)){let o=t.tinySDF;if(!o){let e="400";/bold/i.test(r)?e="900":/medium/i.test(r)?e="500":/light/i.test(r)&&(e="200"),o=t.tinySDF=new x.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:i,fontWeight:e})}return r=o.draw(String.fromCharCode(n)),{id:n,bitmap:new e.AlphaImage({width:r.width||60,height:r.height||60},r.data),metrics:{width:r.glyphWidth/2||24,height:r.glyphHeight/2||24,left:r.glyphLeft/2+.5||0,top:r.glyphTop/2-27.5||-8,advance:r.glyphAdvance/2||24,isDoubleResolution:!0}}}}}x.loadGlyphRange=function(t,n,i,o,a){var s=255+(n*=256);o=o.transformRequest(i.replace("{fontstack}",t).replace("{range}",n+"-"+s),r.Glyphs),e.getArrayBuffer(o,((t,r)=>{if(t)a(t);else if(r){var n={};for(const t of e.parseGlyphPbf(r))n[t.id]=t;a(null,n)}}))},x.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:r=8,cutoff:n=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=n,this.radius=r,n=this.size=e+4*t,r=this._createCanvas(n),(t=this.ctx=r.getContext("2d",{willReadFrequently:!0})).font=a+` ${o} ${e}px `+i,t.textBaseline="alphabetic",t.textAlign="left",t.fillStyle="black",this.gridOuter=new Float64Array(n*n),this.gridInner=new Float64Array(n*n),this.f=new Float64Array(n),this.z=new Float64Array(n+1),this.v=new Uint16Array(n)}_createCanvas(e){var t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){var{width:t,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(e),r=Math.ceil(r),a=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-i))),s=Math.min(this.size-this.buffer,r+Math.ceil(n)),l=a+2*this.buffer,o=s+2*this.buffer,c=Math.max(l*o,0),u=new Uint8ClampedArray(c),i={data:u,width:l,height:o,glyphWidth:a,glyphHeight:s,glyphTop:r,glyphLeft:0,glyphAdvance:t};if(0!==a&&0!==s){var{ctx:n,buffer:d,gridInner:h,gridOuter:p}=this,m=(n.clearRect(d,d,a,s),n.fillText(e,d,d+r),n.getImageData(d,d,a,s));p.fill(b,0,c),h.fill(0,0,c);for(let e=0;e<s;e++)for(let t=0;t<a;t++){var y,f=m.data[4*(e*a+t)+3]/255;0!=f&&(y=(e+d)*l+t+d,1==f?(p[y]=0,h[y]=b):(p[y]=0<(f=.5-f)?f*f:0,h[y]=f<0?f*f:0))}v(p,0,0,l,o,l,this.f,this.v,this.z),v(h,d,d,a,s,l,this.f,this.v,this.z);for(let e=0;e<c;e++){var g=Math.sqrt(p[e])-Math.sqrt(h[e]);u[e]=Math.round(255-255*(g/this.radius+this.cutoff))}}return i}};class S{constructor(){this.specification=e.v8Spec.light.position}possiblyEvaluate(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))}interpolate(t,r,n){return{x:e.interpolate.number(t.x,r.x,n),y:e.interpolate.number(t.y,r.y,n),z:e.interpolate.number(t.z,r.z,n)}}}let w;class _ extends e.Evented{constructor(t){super(),w=w||new e.Properties({anchor:new e.DataConstantProperty(e.v8Spec.light.anchor),position:new S,color:new e.DataConstantProperty(e.v8Spec.light.color),intensity:new e.DataConstantProperty(e.v8Spec.light.intensity)}),this._transitionable=new e.Transitionable(w),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,r={}){if(!this._validate(e.validateLight,t,r))for(const e in t){var n=t[e];e.endsWith("-transition")?this._transitionable.setTransition(e.slice(0,-11),n):this._transitionable.setValue(e,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.v8Spec})))}}class T{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){var r=e.join(",")+String(t);return this.dashEntry[r]||(this.dashEntry[r]=this.addDash(e,t)),this.dashEntry[r]}getDashRanges(e,t,r){var n=[],i=e.length%2==1?-e[e.length-1]*r:0,o=e[0]*r;let a=!0,s=(n.push({left:i,right:o,isDash:a,zeroLength:0===e[0]}),e[0]);for(let t=1;t<e.length;t++){a=!a;var l=e[t];i=s*r,o=(s+=l)*r,n.push({left:i,right:o,isDash:a,zeroLength:0===l})}return n}addRoundDash(e,t,r){var n=t/2;for(let t=-r;t<=r;t++){var i=this.nextRow+r+t,o=this.width*i;let c=0,u=e[c];for(let i=0;i<this.width;i++){1<i/u.right&&(u=e[++c]);var a=Math.abs(i-u.left),s=Math.abs(i-u.right);let d;var l;a=Math.min(a,s),s=t/r*(1+n),d=u.isDash?(l=n-Math.abs(s),Math.sqrt(a*a+l*l)):n-Math.sqrt(a*a+s*s),this.data[o+i]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(e){for(let n=e.length-1;0<=n;--n){var t=e[n],r=e[n+1];t.zeroLength?e.splice(n,1):r&&r.isDash===t.isDash&&(r.left=t.left,e.splice(n,1))}var n=e[0],i=e[e.length-1],o=(n.isDash===i.isDash&&(n.left=i.left-this.width,i.right=n.right+this.width),this.width*this.nextRow);let a=0,s=e[a];for(let t=0;t<this.width;t++){1<t/s.right&&(s=e[++a]);var l=Math.abs(t-s.left),c=Math.abs(t-s.right);l=Math.min(l,c),c=s.isDash?l:-l,this.data[o+t]=Math.max(0,Math.min(255,c+128))}}addDash(t,r){var n,i,o=r?7:0,a=2*o+1;if(this.nextRow+a>this.height)return e.warnOnce("LineAtlas out of space"),null;let s=0;for(let e=0;e<t.length;e++)s+=t[e];return 0!==s&&(n=this.width/s,i=this.getDashRanges(t,this.width,n),r?this.addRoundDash(i,n,o):this.addRegularDash(i)),r={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:s},this.nextRow+=a,this.dirty=!0,r}bind(e){e=e.gl,this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))}}class I{constructor(t,r,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=n;var i=this.workerPool.acquire(n);for(let t=0;t<i.length;t++){var o=i[t];(o=new e.Actor(o,r,n)).name="Worker "+t,this.actors.push(o)}if(!this.actors.length)throw new Error("No actors found")}broadcast(t,r,n){e.asyncAll(this.actors,((e,n)=>{e.send(t,r,n)}),n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach((e=>{e.remove()})),this.actors=[],e&&this.workerPool.release(this.id)}}function C(t,n,i){function o(r,n){if(r)return i(r);n&&(r=e.pick(e.extend(n,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]),n.vector_layers&&(r.vectorLayers=n.vector_layers,r.vectorLayerIds=r.vectorLayers.map((e=>e.id))),i(null,r))}return t.url?e.getJSON(n.transformRequest(t.url,r.Source),o):e.browser.frame((()=>o(null,t)))}class k{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(t){return this._ne=t instanceof e.LngLat?new e.LngLat(t.lng,t.lat):e.LngLat.convert(t),this}setSouthWest(t){return this._sw=t instanceof e.LngLat?new e.LngLat(t.lng,t.lat):e.LngLat.convert(t),this}extend(t){var r,n=this._sw,i=this._ne;let o,a;if(t instanceof e.LngLat)o=t,a=t;else{if(!(t instanceof k))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?(r=t,this.extend(k.convert(r))):this.extend(e.LngLat.convert(t)):t&&("lng"in t||"lon"in t)&&"lat"in t?this.extend(e.LngLat.convert(t)):this;if(o=t._sw,a=t._ne,!o||!a)return this}return n||i?(n.lng=Math.min(o.lng,n.lng),n.lat=Math.min(o.lat,n.lat),i.lng=Math.max(a.lng,i.lng),i.lat=Math.max(a.lat,i.lat)):(this._sw=new e.LngLat(o.lng,o.lat),this._ne=new e.LngLat(a.lng,a.lat)),this}getCenter(){return new e.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new e.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new e.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){var{lng:t,lat:r}=e.LngLat.convert(t),r=this._sw.lat<=r&&r<=this._ne.lat;let n=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=t&&t>=this._ne.lng),r&&n}static convert(e){return e instanceof k?e:e&&new k(e)}static fromLngLat(t,r=0){var n=(r=360*r/40075017)/Math.cos(Math.PI/180*t.lat);return new k(new e.LngLat(t.lng-n,t.lat-r),new e.LngLat(t.lng+n,t.lat+r))}}class L{constructor(e,t,r){this.bounds=k.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=r||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){var r=Math.pow(2,t.z);const n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<o&&t.y>=i&&t.y<a}}class N extends e.Evented{constructor(t,r,n,i){if(super(),this.load=()=>{this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,((t,r)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),t?this.fire(new e.ErrorEvent(t)):r&&(e.extend(this,r),r.bounds&&(this.tileBounds=new L(r.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},this.serialize=()=>e.extend({},this._options),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(e,t){var n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function i(r,n){return delete e.request,e.aborted?t(null):r&&404!==r.status?t(r):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&n&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}(n={request:this.map._requestManager.transformRequest(n,r.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId}).request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=t:e.request=e.actor.send("reloadTile",n,i.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",n,i.bind(this)))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Z extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,((t,r)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(e.extend(this,r),r.bounds&&(this.tileBounds=new L(r.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,n){var i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.request=t.getImage(this.map._requestManager.transformRequest(i,r.Tile),((t,r,i)=>{delete e.request,e.aborted?(e.state="unloaded",n(null)):t?(e.state="errored",n(t)):r&&(this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),i=(t=this.map.painter.context).gl,e.texture=this.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new f(t,r,i.RGBA,{useMipmap:!0}),e.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),t.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax)),e.state="loaded",n(null))}),this.map._refreshExpiredTiles)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}class E extends Z{constructor(t,r,n,i){super(t,r,n,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox",this.redFactor=r.redFactor,this.greenFactor=r.greenFactor,this.blueFactor=r.blueFactor,this.baseShift=r.baseShift}loadTile(n,i){var o=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function a(e,t){e&&(n.state="errored",i(e)),t&&(n.dem=t,n.needsHillshadePrepare=!0,n.needsTerrainPrepare=!0,n.state="loaded",i(null))}o=this.map._requestManager.transformRequest(o,r.Tile),n.neighboringTiles=this._getNeighboringTiles(n.tileID),n.request=t.getImage(o,((t,r,o)=>e.__awaiter(this,void 0,void 0,(function*(){var s;delete n.request,n.aborted?(n.state="unloaded",i(null)):t?(n.state="errored",i(t)):r&&(this.map._refreshExpiredTiles&&n.setExpiryData(o),s=e.isImageBitmap(r)&&e.offscreenCanvasSupported()?r:yield function(t){return e.__awaiter(this,void 0,void 0,(function*(){if("undefined"!=typeof VideoFrame&&e.isOffscreenCanvasDistorted()){var r=t.width+2,n=t.height+2;try{return new e.RGBAImage({width:r,height:n},yield e.readImageUsingVideoFrame(t,-1,-1,r,n))}catch(r){}}return e.browser.getImageData(t,1)}))}(r),s={uid:n.uid,coord:n.tileID,source:this.id,rawImageData:s,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift},n.actor&&"expired"!==n.state||(n.actor=this.dispatcher.getActor(),n.actor.send("loadDEMTile",s,a)))}))),this.map._refreshExpiredTiles)}_getNeighboringTiles(t){var r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,o=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},0<r.y&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}class z extends e.Evented{constructor(t,r,n,i){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>e.extend({},this._options,{type:this.type,data:this._data}),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=n.getActor(),this.setEventedParent(i),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId,t=e.EXTENT/this.tileSize,this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*t,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*t,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*t,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(void 0!==e.clusterRadius&&(this.workerOptions.superclusterOptions.radius=e.clusterRadius),void 0!==e.clusterMaxZoom)&&(this.workerOptions.superclusterOptions.maxZoom=e.clusterMaxZoom),this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this}_updateWorkerData(t){var n=e.extend({},this.workerOptions);t?n.dataDiff=t:"string"==typeof this._data?(n.request=this.map._requestManager.transformRequest(e.browser.resolveURL(this._data),r.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new e.Event("dataloading",{dataType:"source"})),this.actor.send(this.type+".loadData",n,((t,r)=>{if(this._pendingLoads--,this._removed||r&&r.abandoned)this.fire(new e.Event("dataabort",{dataType:"source"}));else{let n=null;r&&r.resourceTiming&&r.resourceTiming[this.id]&&(n=r.resourceTiming[this.id].slice(0)),t?this.fire(new e.ErrorEvent(t)):(r={dataType:"source"},this._collectResourceTiming&&n&&0<n.length&&e.extend(r,{resourceTiming:n}),this.fire(new e.Event("data",Object.assign(Object.assign({},r),{sourceDataType:"metadata"}))),this.fire(new e.Event("data",Object.assign(Object.assign({},r),{sourceDataType:"content"}))))}}))}loaded(){return 0===this._pendingLoads}loadTile(e,t){const r=e.actor?"reloadTile":"loadTile";e.actor=this.actor;var n={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(r,n,((n,i)=>{if(delete e.request,e.unloadVectorData(),!e.aborted){if(n)return t(n);e.loadVectorData(i,this.map.painter,"reloadTile"==r)}return t(null)}))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var G=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class P extends e.Evented{constructor(n,i,o,a){super(),this.load=(n,i)=>{this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=t.getImage(this.map._requestManager.transformRequest(this.url,r.Image),((t,r)=>{this._request=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(this.image=r,n&&(this.coordinates=n),i&&i(),this._finishLoading())}))},this.prepare=()=>{if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new f(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));let i=!1;for(const e in this.tiles){var n=this.tiles[e];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture,i=!0)}i&&this.fire(new e.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=n,this.dispatcher=o,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(a),this.options=i}loaded(){return this._loaded}updateImage(e){return e.url&&(this._request&&(this._request.cancel(),this._request=null),this.options.url=e.url,this.load(e.coordinates,(()=>{this.texture=null}))),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(t){return t=(this.coordinates=t).map(e.MercatorCoordinate.fromLngLat),this.tileID=function(t){let r=1/0,n=1/0,i=-1/0,o=-1/0;for(const e of t)r=Math.min(r,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y);t=i-r;var a=o-n;return t=Math.max(t,a),a=Math.max(0,Math.floor(-Math.log(t)/Math.LN2)),t=Math.pow(2,a),new e.CanonicalTileID(a,Math.floor((r+i)/2*t),Math.floor((n+o)/2*t))}(t),this.minzoom=this.maxzoom=this.tileID.z,t=t.map((e=>this.tileID.getTilePoint(e)._round())),this._boundsArray=new e.RasterBoundsArray,this._boundsArray.emplaceBack(t[0].x,t[0].y,0,0),this._boundsArray.emplaceBack(t[1].x,t[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(t[3].x,t[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(t[2].x,t[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e).buckets={}:e.state="errored",t(null)}hasTransition(){return!1}}class A extends P{constructor(t,n,i,o){super(t,n,i,o),this.load=()=>{this._loaded=!1;var t=this.options;this.urls=[];for(const e of t.urls)this.urls.push(this.map._requestManager.transformRequest(e,r.Source).url);e.getVideo(this.urls,((t,r)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(this.video=r,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))},this.prepare=()=>{if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new f(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));let i=!1;for(const e in this.tiles){var n=this.tiles[e];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture,i=!0)}i&&this.fire(new e.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=n}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){var r;this.video&&(t<(r=this.video.seekable).start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=t)}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class R extends P{constructor(t,r,n,i){super(t,r,n,i),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f(r,this.canvas,n.RGBA,{premultiply:!0});let o=!1;for(const e in this.tiles){var i=this.tiles[e];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture,o=!0)}o&&this.fire(new e.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const D={},X=e=>{switch(e){case"geojson":return z;case"image":return P;case"raster":return Z;case"raster-dem":return E;case"vector":return N;case"video":return A;case"canvas":return R}return D[e]};function O(t,r,n,i,o,a){var s,l,c,u=function(e,t,r){if(e)for(const i of e){var n=t[i];if(n&&n.source===r&&"fill-extrusion"===n.type)return!0}else for(const e in t){var i=t[e];if(i.source===r&&"fill-extrusion"===i.type)return!0}return!1}(o&&o.layers,r,t.id),d=a.maxPitchScaleFactor(),h=((i=t.tilesIn(i,d,u)).sort(W),[]);for(const u of i)h.push({wrappedTileID:u.tileID.wrapped().key,queryResults:u.tile.queryRenderedFeatures(r,n,t._state,u.queryGeometry,u.cameraQueryGeometry,u.scale,o,a,d,(s=t.transform,l=u.tileID,c=e.create(),e.translate(c,c,[1,1,0]),e.scale(c,c,[.5*s.width,.5*s.height,1]),e.multiply(c,c,s.calculatePosMatrix(l.toUnwrapped()))))});var p=function(e){var t={},r={};for(const c of e){var n=c.queryResults,i=c.wrappedTileID,o=r[i]=r[i]||{};for(const e in n){var a=n[e],s=o[e]=o[e]||{},l=t[e]=t[e]||[];for(const e of a)s[e.featureIndex]||(s[e.featureIndex]=!0,l.push(e))}}return t}(h);for(const e in p)p[e].forEach((e=>{e=e.feature;var r=t.getFeatureState(e.layer["source-layer"],e.id);e.source=e.layer.source,e.layer["source-layer"]&&(e.sourceLayer=e.layer["source-layer"]),e.state=r}));return p}function W(e,t){return e=e.tileID,t=t.tileID,e.overscaledZ-t.overscaledZ||e.canonical.y-t.canonical.y||e.wrap-t.wrap||e.canonical.x-t.canonical.x}class j{constructor(t,r){this.timeAdded=0,this.fadeEndTime=0,this.tileID=t,this.uid=e.uniqueId(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){(e+=this.timeAdded)<this.fadeEndTime||(this.fadeEndTime=e)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(t,r,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){var r={};if(t)for(const n of e){const e=n.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){n.layers=e,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)r[t.id]=n}}return r}(t.buckets,r.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){var i=this.buckets[t];if(i instanceof e.SymbolBucket){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){var o=this.buckets[t];if(o instanceof e.SymbolBucket&&o.hasRTLText){this.hasRTLText=!0,e.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const e in this.buckets){var a=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(e).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.CollisionBoxArray}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const r in this.buckets){var t=this.buckets[r];t.uploadPending()&&t.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new f(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new f(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,r,n,i,o,a,s,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:a,queryPadding:this.queryPadding*l},e,t,r):{}}querySourceFeatures(t,r){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var i=n.loadVTLayers(),o=r&&r.sourceLayer?r.sourceLayer:"",a=i._geojsonTileLayer||i[o];if(a){var s=e.createFilter(r&&r.filter),{z:l,x:c,y:u}=this.tileID.canonical,d={z:l,x:c,y:u};for(let r=0;r<a.length;r++){var h=a.feature(r);if(s.needGeometry){var p=e.toEvaluationFeature(h,!0);if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),h))continue;p=n.getId(h,o),(h=new e.GeoJSONFeature(h,l,c,u,p)).tile=d,t.push(h)}}}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){var r=this.expirationTime;if(t.cacheControl?(n=e.parseCacheControl(t.cacheControl))["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"]):t.expires&&(this.expirationTime=new Date(t.expires).getTime()),this.expirationTime){var n=Date.now();let e=!1;this.expirationTime>n?e=!1:!r||this.expirationTime<r||!(t=this.expirationTime-r)?e=!0:this.expirationTime=n+Math.max(t,3e4),e?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r,n,i,o=this.latestFeatureIndex.loadVTLayers();for(const a in this.buckets)t.style.hasLayer(a)&&(n=o[i=(r=this.buckets[a]).layers[0].sourceLayer||"_geojsonTileLayer"],i=e[i],n)&&i&&0!==Object.keys(i).length&&(r.update(i,n,this.imageAtlas&&this.imageAtlas.patternPositions||{}),i=t&&t.style&&t.style.getLayer(a))&&(this.queryPadding=Math.max(this.queryPadding,i.queryRadius(r)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=e.browser.now()+t}setDependencies(e,t){var r={};for(const e of t)r[e]=!0;this.dependencies[e]=r}hasDependency(e,t){for(const n of e){var r=this.dependencies[n];if(r)for(const e of t)if(r[e])return!0}return!1}}class Y{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,r){var n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const i={value:t,timeout:void 0};return void 0!==r&&(i.timeout=setTimeout((()=>{this.remove(e,i)}),r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max&&(t=this._getAndRemoveByKey(this.order[0]))&&this.onRemove(t),this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){return(e=this.data[e])?e[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){var r;return this.has(e)&&(e=e.wrapped().key,t=void 0===t?0:this.data[e].indexOf(t),r=this.data[e][t],this.data[e].splice(t,1),r.timeout&&clearTimeout(r.timeout),0===this.data[e].length&&delete this.data[e],this.onRemove(r.value),this.order.splice(this.order.indexOf(e),1)),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}filter(e){var t=[];for(const r in this.data)for(const n of this.data[r])e(n.value)||t.push(n);for(const e of t)this.remove(e.value.tileID,e)}}class F{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,r,n){var i=String(r);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},e.extend(this.stateChanges[t][i],n),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==i&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][i]){this.deletedStates[t][i]={};for(const e in this.state[t][i])n[e]||(this.deletedStates[t][i][e]=null)}else for(const e in n)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][e]&&delete this.deletedStates[t][i][e]}removeFeatureState(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}}getState(t,r){var n=String(r),i=this.state[t]||{},o=this.stateChanges[t]||{},a=e.extend({},i[n],o[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){if(null===(i=this.deletedStates[t][r]))return{};for(const e in i)delete a[e]}return a}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(t,r){var n={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};var i={};for(const r in this.stateChanges[t])this.state[t][r]||(this.state[t][r]={}),e.extend(this.state[t][r],this.stateChanges[t][r]),i[r]=this.state[t][r];n[t]=i}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};var o={};if(null===this.deletedStates[t])for(const e in this.state[t])o[e]={},this.state[t][e]={};else for(const e in this.deletedStates[t]){if(null===this.deletedStates[t][e])this.state[t][e]={};else for(const r of Object.keys(this.deletedStates[t][e]))delete this.state[t][e][r];o[e]=this.state[t][e]}n[t]=n[t]||{},e.extend(n[t],o)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const e in t)t[e].setFeatureState(n,r)}}class V extends e.Evented{constructor(e,t,r){super(),this.id=e,this.dispatcher=r,this.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)})),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((e,t,r,n)=>{if((t=new(X(t.type))(e,t,r,n)).id!==e)throw new Error(`Expected Source id to be ${e} instead of `+t.id);return t})(e,t,r,this),this._tiles={},this._cache=new Y(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new F,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(!this._sourceErrored){if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;if(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain){if(!this._updated)return!1;for(const t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}}}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){var e;this._paused&&(e=this._shouldReloadOnResume,this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform)&&this.update(this.transform,this.terrain)}_loadTile(e,t){return this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(t){this._source.abortTile&&this._source.abortTile(t,(()=>{})),this._source.fire(new e.Event("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const r in this._tiles){var t=this._tiles[r];t.upload(e),t.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(H).map((e=>e.key))}getRenderableIds(t){var r=[];for(const e in this._tiles)this._isIdRenderable(e,t)&&r.push(this._tiles[e]);return t?r.sort(((t,r)=>{t=t.tileID,r=r.tileID;var n=new e.Point(t.canonical.x,t.canonical.y)._rotate(this.transform.angle),i=new e.Point(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return t.overscaledZ-r.overscaledZ||i.y-n.y||i.x-n.x})).map((e=>e.tileID.key)):r.map((e=>e.tileID)).sort(H).map((e=>e.key))}hasRenderableParent(e){return!!(e=this.findLoadedParent(e,0))&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}}_reloadTile(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))}_tileLoaded(t,r,n,i){i?(t.state="errored",404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform,this.terrain)):(t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID})))}_backfillDEM(e){var t=this.getRenderableIds();for(let i=0;i<t.length;i++){var r=t[i];e.neighboringTiles&&e.neighboringTiles[r]&&(n(e,r=this.getTileByID(r)),n(r,e))}function n(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let r=t.tileID.canonical.x-e.tileID.canonical.x;var n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===r&&0==n||1<Math.abs(n)||(1<Math.abs(r)&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles)&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,r,n){for(const o in this._tiles){let a=this._tiles[o];if(!(n[o]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>r)){let r=a.tileID;for(;a&&a.tileID.overscaledZ>t+1;){var i=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[i.key])&&a.hasData()&&(r=i)}let o=r;for(;o.overscaledZ>t;)if(e[(o=o.scaledTo(o.overscaledZ-1)).key]){n[r.key]=r;break}}}}findLoadedParent(e,t){var r;if(e.key in this._loadedParentTiles)return(r=this._loadedParentTiles[e.key])&&r.tileID.overscaledZ>=t?r:null;for(let r=e.overscaledZ-1;r>=t;r--){var n=e.scaledTo(r);if(n=this._getLoadedTile(n))return n}}_getLoadedTile(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(t){var r=Math.ceil(t.width/this._source.tileSize)+1,n=(t=Math.ceil(t.height/this._source.tileSize)+1,null===this._maxTileCacheZoomLevels?e.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels);r=Math.floor(r*t*n),t="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r,this._cache.setMaxSize(t)}handleWrapJump(e){var t=void 0===this._prevLng?e:this._prevLng,r=Math.round((e-t)/360);if(this._prevLng=e,r){var n={};for(const e in this._tiles){var i=this._tiles[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+r),n[i.tileID.key]=i}this._tiles=n;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles){var o=this._tiles[e];this._setTileReloadTimer(e,o)}}}update(t,r){if(this.transform=t,this.terrain=r,this._sourceLoaded&&!this._paused){let v;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(v=t.coveringTiles({tileSize:(this.usedForTerrain?this:this._source).tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:r}),this._source.hasTile&&(v=v.filter((e=>this._source.hasTile(e))))):v=[],t=t.coveringZoomLevel(this._source);var n=Math.max(t-V.maxOverzooming,this._source.minzoom),i=Math.max(t+V.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){var o,a={};for(const e of v)e.canonical.z>this._source.minzoom&&(a[(o=e.scaledTo(e.canonical.z-1)).key]=o,a[(o=e.scaledTo(Math.max(this._source.minzoom,Math.min(e.canonical.z,5)))).key]=o);v=v.concat(Object.values(a))}var s=0===v.length&&!this._updated&&this._didEmitContent,l=(this._updated=!0,s&&this.fire(new e.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id})),this._updateRetainedTiles(v,t));if(U(this._source.type)){var c={},u={},d=(s=Object.keys(l),e.browser.now());for(const e of s){var h=l[e],p=this._tiles[e];!p||0!==p.fadeEndTime&&p.fadeEndTime<=d||((p=this.findLoadedParent(h,n))&&(this._addTile(p.tileID),c[p.tileID.key]=p.tileID),u[e]=h)}this._retainLoadedChildren(u,t,i,l);for(const e in c)l[e]||(this._coveredTiles[e]=!0,l[e]=c[e]);if(r){var m={},y={};for(const e of v)this._tiles[e.key].hasData()?m[e.key]=e:y[e.key]=e;for(const e in y){var f=y[e].children(this._source.maxzoom);this._tiles[f[0].key]&&this._tiles[f[1].key]&&this._tiles[f[2].key]&&this._tiles[f[3].key]&&(m[f[0].key]=l[f[0].key]=f[0],m[f[1].key]=l[f[1].key]=f[1],m[f[2].key]=l[f[2].key]=f[2],m[f[3].key]=l[f[3].key]=f[3],delete y[e])}for(const e in y){var g=this.findLoadedParent(y[e],this._source.minzoom);if(g){m[g.tileID.key]=l[g.tileID.key]=g.tileID;for(const e in m)m[e].isChildOf(g.tileID)&&delete m[e]}}for(const e in this._tiles)m[e]||(this._coveredTiles[e]=!0)}}for(const e in l)this._tiles[e].clearFadeHold();for(const t of e.keysDifference(this._tiles,l)){var b=this._tiles[t];b.hasSymbolBuckets&&!b.holdingForFade()?b.setHoldDuration(this.map._fadeDuration):b.hasSymbolBuckets&&!b.symbolFadeFinished()||this._removeTile(t)}this._updateLoadedParentTileCache()}}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){var r={},n={},i=Math.max(t-V.maxOverzooming,this._source.minzoom),o=Math.max(t+V.maxUnderzooming,this._source.minzoom),a={};for(const n of e){var s=this._addTile(n);r[n.key]=n,s.hasData()||t<this._source.maxzoom&&(a[n.key]=n)}this._retainLoadedChildren(a,t,o,r);for(const o of e){let e=this._tiles[o.key];if(!e.hasData()){if(t+1>this._source.maxzoom){var l=o.children(this._source.maxzoom)[0],c=this.getTile(l);if(c&&c.hasData()){r[l.key]=l;continue}}else if(r[(c=o.children(this._source.maxzoom))[0].key]&&r[c[1].key]&&r[c[2].key]&&r[c[3].key])continue;let a=e.wasRequested();for(let t=o.overscaledZ-1;t>=i;--t){var u=o.scaledTo(t);if(n[u.key])break;if(n[u.key]=!0,e=!(e=this.getTile(u))&&a?this._addTile(u):e){var d=e.hasData();if((a||d)&&(r[u.key]=u),a=e.wasRequested(),d)break}}}}return r}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){var e=[];let n,i=this._tiles[r].tileID;for(;0<i.overscaledZ;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}e.push(i.key);var t=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(t))break;i=t}for(const t of e)this._loadedParentTiles[t]=n}}_addTile(t){let r=this._tiles[t.key];var n;return r||((r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key])&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)),(n=r)||(r=new j(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r.uses++,this._tiles[t.key]=r,n)||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]),(t=t.getExpiryTimeout())&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),t))}_removeTile(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),0<t.uses||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(t,r,n){var i=[];const o=this.transform;if(o){n=n?o.getCameraQueryGeometry(t):t;var a=t.map((e=>o.pointCoordinate(e,this.terrain))),s=n.map((e=>o.pointCoordinate(e,this.terrain))),l=this.getIds();let p=1/0,m=1/0,y=-1/0,f=-1/0;for(const e of s)p=Math.min(p,e.x),m=Math.min(m,e.y),y=Math.max(y,e.x),f=Math.max(f,e.y);for(let t=0;t<l.length;t++){var c=this._tiles[l[t]];if(!c.holdingForFade()){const t=c.tileID;var u=Math.pow(2,o.zoom-c.tileID.overscaledZ),d=r*c.queryPadding*e.EXTENT/c.tileSize/u,h=[t.getTilePoint(new e.MercatorCoordinate(p,m)),t.getTilePoint(new e.MercatorCoordinate(y,f))];h[0].x-d<e.EXTENT&&h[0].y-d<e.EXTENT&&0<=h[1].x+d&&0<=h[1].y+d&&(h=a.map((e=>t.getTilePoint(e))),d=s.map((e=>t.getTilePoint(e))),i.push({tile:c,tileID:t,queryGeometry:h,cameraQueryGeometry:d,scale:u}))}}}return i}getVisibleCoordinates(e){e=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const t of e)t.posMatrix=this.transform.calculatePosMatrix(t.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return!0;if(U(this._source.type)){var t=e.browser.now();for(const e in this._tiles)if(this._tiles[e].fadeEndTime>=t)return!0}return!1}setFeatureState(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)}removeFeatureState(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,r){(e=this._tiles[e])&&e.setDependencies(t,r)}reloadTilesForDependencies(e,t){for(const r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter((r=>!r.hasDependency(e,t)))}}function H(e,t){var r=Math.abs(2*e.wrap)-(e.wrap<0),n=Math.abs(2*t.wrap)-(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function U(e){return"raster"===e||"image"===e||"video"===e}V.maxOverzooming=10,V.maxUnderzooming=3;const B="mapboxgl_preloaded_worker_pool";class K{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<K.workerCount;)this.workers.push(new Worker(e.config.WORKER_URL));return this.active[t]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[B]}numActive(){return Object.keys(this.active).length}}let J;function Q(){return J=J||new K}Ke=Math.floor(e.browser.hardwareConcurrency/2),K.workerCount=e.isSafari(globalThis)?Math.max(Math.min(Ke,3),1):1;class q{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let r=1,n=this._distances[r];for(var i=t*this.paddedLength+this.padding;n<i&&r<this._distances.length;)n=this._distances[++r];t=r-1;var o=n-(a=this._distances[t]),a=0<o?(i-a)/o:0;return this.points[t].mult(1-a).add(this.points[r].mult(a))}}function $(e,t){return"always"===e||"never"!==e&&"never"!==t}class ee{constructor(e,t,r){var n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(let e=0;e<this.xCellCount*this.yCellCount;e++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}insertCircle(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)}_insertBoxCell(e,t,r,n,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,r,n,i,o){this.circleCells[i].push(o)}_query(e,t,r,n,i,o,a){if(r<0||e>this.width||n<0||t>this.height)return[];var s=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return[{key:null,x1:e,y1:t,x2:r,y2:n}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){var l=this.circles[3*e],c=this.circles[3*e+1],u=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:l-u,y1:c-u,x2:l+u,y2:c+u})}}else this._forEachCell(e,t,r,n,this._queryCell,s,{hitTest:i,overlapMode:o,seenUids:{box:{},circle:{}}},a);return s}query(e,t,r,n){return this._query(e,t,r,n,!1,null)}hitTest(e,t,r,n,i,o){return 0<this._query(e,t,r,n,!0,i,o).length}hitTestCircle(e,t,r,n,i){var o=e-r,a=e+r,s=t-r,l=t+r;return!(a<0||o>this.width||l<0||s>this.height)&&(this._forEachCell(o,s,a,l,this._queryCellCircle,o=[],{hitTest:!0,overlapMode:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),0<o.length)}_queryCell(e,t,r,n,i,o,a,s){var{seenUids:l,hitTest:c,overlapMode:u}=a;if(null!==(a=this.boxCells[i])){var d=this.bboxes;for(const i of a)if(!l.box[i]){l.box[i]=!0;var h=4*i,p=this.boxKeys[i];if(e<=d[2+h]&&t<=d[3+h]&&r>=d[0+h]&&n>=d[1+h]&&(!s||s(p))&&(!c||!$(u,p.overlapMode))&&(o.push({key:p,x1:d[h],y1:d[1+h],x2:d[2+h],y2:d[3+h]}),c))return!0}}if(null!==(a=this.circleCells[i])){var m=this.circles;for(const i of a)if(!l.circle[i]){l.circle[i]=!0;var y=3*i,f=this.circleKeys[i];if(this._circleAndRectCollide(m[y],m[1+y],m[2+y],e,t,r,n)&&(!s||s(f))&&(!c||!$(u,f.overlapMode))){var g=m[y],b=m[1+y];if(y=m[2+y],o.push({key:f,x1:g-y,y1:b-y,x2:g+y,y2:b+y}),c)return!0}}}return!1}_queryCellCircle(e,t,r,n,i,o,a,s){var{circle:l,seenUids:c,overlapMode:u}=a;if(null!==(a=this.boxCells[i])){var d=this.bboxes;for(const e of a)if(!c.box[e]){c.box[e]=!0;var h=4*e,p=this.boxKeys[e];if(this._circleAndRectCollide(l.x,l.y,l.radius,d[0+h],d[1+h],d[2+h],d[3+h])&&(!s||s(p))&&!$(u,p.overlapMode))return o.push(!0),!0}}if(null!==(a=this.circleCells[i])){var m=this.circles;for(const e of a)if(!c.circle[e]){c.circle[e]=!0;var y=3*e,f=this.circleKeys[e];if(this._circlesCollide(m[y],m[1+y],m[2+y],l.x,l.y,l.radius)&&(!s||s(f))&&!$(u,f.overlapMode))return o.push(!0),!0}}}_forEachCell(e,t,r,n,i,o,a,s){var l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(r),d=this._convertToYCellCoord(n);for(let p=l;p<=u;p++)for(let l=c;l<=d;l++){var h=this.xCellCount*l+p;if(i.call(this,e,t,r,n,h,o,a,s))return}}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,r,n,i,o){return(n-=e)*n+(e=i-t)*e<(i=r+o)*i}_circleAndRectCollide(e,t,r,n,i,o,a){return!((o=(o-n)/2)+r<(e=Math.abs(e-(n+o)))||(n=(a-i)/2)+r<(a=Math.abs(t-(i+n)))||!(e<=o||a<=n||(t=e-o)*t+(i=a-n)*i<=r*r))}}function te(t,r,n,i,o){var a=e.create();return r?(e.scale(a,a,[1/o,1/o,1]),n||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function re(t,r,n,i,o){return r?(r=e.clone(t),e.scale(r,r,[o,o,1]),n||e.rotateZ(r,r,-i.angle),r):i.glCoordMatrix}function ne(t,r,n){let i;return n?(i=[t.x,t.y,n(t.x,t.y),1],e.transformMat4(i,i,r)):me(i=[t.x,t.y,0,1],i,r),n=i[3],{point:new e.Point(i[0]/n,i[1]/n),signedDistanceFromCamera:n}}function ie(e,t){return.5+e/t*.5}function oe(e,t,r,n,i,o,a,s,l,c,u,d,h){var p=s.glyphStartIndex+s.numGlyphs,m=s.lineStartIndex,y=s.lineStartIndex+s.lineLength,f=t.getoffsetX(s.glyphStartIndex);return t=t.getoffsetX(p-1),(p=de(e*f,r,n,i,o,a,s.segment,m,y,l,c,u,d,h))&&(f=de(e*t,r,n,i,o,a,s.segment,m,y,l,c,u,d,h))?{first:p,last:f}:null}function ae(t,r,n,i){if(t===e.WritingMode.horizontal){var o=Math.abs(n.y-r.y);if(Math.abs(n.x-r.x)*i<o)return{useVertical:!0}}return(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function se(t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f){var g=r/24,b=t.lineOffsetX*g,v=t.lineOffsetY*g;let M;if(1<t.numGlyphs){var x=t.glyphStartIndex+t.numGlyphs,S=t.lineStartIndex,w=t.lineStartIndex+t.lineLength;if(!(r=oe(g,l,b,v,n,d,h,t,c,a,p,y,f)))return{notEnoughRoom:!0};var _=ne(r.first.point,s,f).point;if(s=ne(r.last.point,s,f).point,i&&!n&&(_=ae(t.writingMode,_,s,m)))return _;M=[r.first];for(let e=t.glyphStartIndex+1;e<x-1;e++)M.push(de(g*l.getoffsetX(e),b,v,n,d,h,t.segment,S,w,c,a,p,y,f));M.push(r.last)}else{if(i&&!n&&(s=ne(h,o,f).point,_=t.lineStartIndex+t.segment+1,_=0<(i=ne(r=new e.Point(c.getx(_),c.gety(_)),o,f)).signedDistanceFromCamera?i.point:le(h,r,s,1,o,f),i=ae(t.writingMode,s,_,m)))return i;if(!(r=de(g*l.getoffsetX(t.glyphStartIndex),b,v,n,d,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,p,y,f)))return{notEnoughRoom:!0};M=[r]}for(const t of M)e.addDynamicAttributes(u,t.point,t.angle);return{}}function le(e,t,r,n,i,o){return e=ne(e.add(e.sub(t)._unit()),i,o).point,t=r.sub(e),r.add(t._mult(n/t.mag()))}function ce(t,r){var n,i,{projectionCache:r,lineVertexArray:o,labelPlaneMatrix:a,tileAnchorPoint:s,distanceFromAnchor:l,getElevation:c,previousVertex:u,direction:d,absOffsetX:h}=r;return r.projections[t]||(0<(i=ne(n=new e.Point(o.getx(t),o.gety(t)),a,c)).signedDistanceFromCamera?(r.projections[t]=i.point,i.point):(r=t-d,le(0===l?s:new e.Point(o.getx(r),o.gety(r)),n,u,h-l+1,a,c)))}function ue(e,t,r){return e._unit()._perp()._mult(t*r)}function de(t,r,n,i,o,a,s,l,c,u,d,h,p,m){let y,f,g=0<(t=i?t-r:t+r)?1:-1,b=0,v=(i&&(g*=-1,b=Math.PI),g<0&&(b+=Math.PI),0<g?l+s:l+s+1),M=o,x=o,S=0,w=0;var _=Math.abs(t),T=[];let I;for(;S+w<=_;){if((v+=g)<l||v>=c)return null;S+=w,x=M,f=y;var C={projectionCache:h,lineVertexArray:u,labelPlaneMatrix:d,tileAnchorPoint:a,distanceFromAnchor:S,getElevation:m,previousVertex:x,direction:g,absOffsetX:_};if(M=ce(v,C),0===n)T.push(x),I=M.sub(x);else{let t;var k=M.sub(x);t=0===k.mag()?ue(ce(v+g,C).sub(M),n,g):ue(k,n,g),f=f||x.add(t),y=function(t,r,n,i,o,a,s,l){var{projectionCache:c,direction:u}=l;if(!c.offsets[t]){if(r=n.add(r),t+u<i||o<=t+u)return c.offsets[t]=r;o=ue((i=ce(t+u,l)).sub(n),s,u),l=n.add(o),s=i.add(o),c.offsets[t]=e.findLineIntersection(a,r,l,s)||r}return c.offsets[t]}(v,t,M,l,c,f,n,C),T.push(f),I=y.sub(f)}w=I.mag()}return r=(_-S)/w,i=I._mult(r)._add(f||x),s=b+Math.atan2(M.y-x.y,M.x-x.x),T.push(i),{point:i,angle:p?s:0,path:T}}const he=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function pe(e,t){for(let n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(he,3*r)}}function me(e,t,r){var n=t[0];t=t[1],e[0]=r[0]*n+r[4]*t+r[12],e[1]=r[1]*n+r[5]*t+r[13],e[3]=r[3]*n+r[7]*t+r[15]}class ye{constructor(e,t=new ee(e.width+200,e.height+200,25),r=new ee(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,t,r,n,i,o){o=r*(n=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY,o)).perspectiveRatio,r=e.x1*o+n.point.x;var a=e.y1*o+n.point.y,s=e.x2*o+n.point.x;return e=e.y2*o+n.point.y,!this.isInsideGrid(r,a,s,e)||"always"!==t&&this.grid.hitTest(r,a,s,e,t,i)||n.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[r,a,s,e],offscreen:this.isOffscreen(r,a,s,e)}}placeCollisionCircles(t,r,n,i,o,a,s,l,c,u,d,h,p,m){var y=[],f=new e.Point(r.anchorX,r.anchorY);a=ne(f,a,m),a=ie(this.transform.cameraToCenterDistance,a.signedDistanceFromCamera),u=(u?o/a:o*a)/e.ONE_EM,o=ne(f,s,m).point;let g=!1,b=!1,v=!0;if(i=oe(u,i,r.lineOffsetX*u,r.lineOffsetY*u,!1,o,f,r,n,s,{projections:{},offsets:{}},!1,m)){var M=.5*h*a+p,x=(u=new e.Point(-100,-100),o=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),new q),S=i.first,w=i.last;let r=[];for(let e=S.path.length-1;1<=e;e--)r.push(S.path[e]);for(let e=1;e<w.path.length;e++)r.push(w.path[e]);var _=2.5*M;l&&(f=r.map((e=>ne(e,l,m))),r=f.some((e=>e.signedDistanceFromCamera<=0))?[]:f.map((e=>e.point)));let n=[];if(0<r.length){var T=r[0].clone(),I=r[0].clone();for(let e=1;e<r.length;e++)T.x=Math.min(T.x,r[e].x),T.y=Math.min(T.y,r[e].y),I.x=Math.max(I.x,r[e].x),I.y=Math.max(I.y,r[e].y);n=T.x>=u.x&&I.x<=o.x&&T.y>=u.y&&I.y<=o.y?[r]:I.x<u.x||T.x>o.x||I.y<u.y||T.y>o.y?[]:e.clipLine([r],u.x,u.y,o.x,o.y)}for(const e of n){x.reset(e,.25*M);let r=0;r=x.length<=.5*M?1:Math.ceil(x.paddedLength/_)+1;for(let e=0;e<r;e++){var C=e/Math.max(r-1,1),k=(C=x.lerp(C)).x+100,L=(C=C.y+100,y.push(k,C,M,0),k-M),N=C-M,Z=k+M,E=C+M;if(v=v&&this.isOffscreen(L,N,Z,E),b=b||this.isInsideGrid(L,N,Z,E),"always"!==t&&this.grid.hitTestCircle(k,C,M,t,d)&&(g=!0,!c))return{circles:[],offscreen:!1,collisionDetected:g}}}}return{circles:!c&&g||!b||a<this.perspectiveRatioCutoff?[]:y,offscreen:v,collisionDetected:g}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var r=[];let n=1/0,i=1/0,o=-1/0,a=-1/0;for(const l of t){var s=new e.Point(l.x+100,l.y+100);n=Math.min(n,s.x),i=Math.min(i,s.y),o=Math.max(o,s.x),a=Math.max(a,s.y),r.push(s)}var l={},c={};for(const t of this.grid.query(n,i,o,a).concat(this.ignoredGrid.query(n,i,o,a))){var u,d=t.key;void 0===l[d.bucketInstanceId]&&(l[d.bucketInstanceId]={}),l[d.bucketInstanceId][d.featureIndex]||(u=[new e.Point(t.x1,t.y1),new e.Point(t.x2,t.y1),new e.Point(t.x2,t.y2),new e.Point(t.x1,t.y2)],e.polygonIntersectsPolygon(r,u)&&(l[d.bucketInstanceId][d.featureIndex]=!0,void 0===c[d.bucketInstanceId]&&(c[d.bucketInstanceId]=[]),c[d.bucketInstanceId].push(d.featureIndex)))}return c}insertCollisionBox(e,t,r,n,i,o){(r?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:o,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,r,n,i,o){var a=r?this.ignoredGrid:this.grid,s={bucketInstanceId:n,featureIndex:i,collisionGroupID:o,overlapMode:t};for(let t=0;t<e.length;t+=4)a.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,r,n,i){let o;return i?(o=[r,n,i(r,n),1],e.transformMat4(o,o,t)):me(o=[r,n,0,1],o,t),{point:new e.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}}isOffscreen(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary}isInsideGrid(e,t,r,n){return 0<=r&&e<this.gridRightBoundary&&0<=n&&t<this.gridBottomBoundary}getViewportMatrix(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function fe(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}class ge{constructor(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r}isHidden(){return 0===this.opacity&&!this.placed}}class be{constructor(e,t,r,n,i){this.text=new ge(e?e.text:null,t,r,i),this.icon=new ge(e?e.icon:null,t,n,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ve{constructor(e,t,r){this.text=e,this.icon=t,this.skipFade=r}}class Me{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class xe{constructor(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i}}class Se{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function we(t,r,n,i,o){var{horizontalAlign:t,verticalAlign:a}=e.getAnchorAlignment(t);return new e.Point(-(t-.5)*r+i[0]*o,-(a-.5)*n+i[1]*o)}function _e(t,r,n,i,o,a){var{x1:t,x2:s,y1:l,y2:c,anchorPointX:u,anchorPointY:d}=t;return r=new e.Point(r,n),i&&r._rotate(o?a:-a),{x1:t+r.x,y1:l+r.y,x2:s+r.x,y2:c+r.y,anchorPointX:u,anchorPointY:d}}class Te{constructor(e,t,r,n,i){this.transform=e.clone(),this.terrain=t,this.collisionIndex=new ye(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=r,this.retainedQueryData={},this.collisionGroups=new Se(n),this.collisionCircleArrays={},(this.prevPlacement=i)&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,r,n,i){var o=n.getBucket(r),a=n.latestFeatureIndex;if(o&&a&&r.id===o.layerIds[0]){r=n.collisionBoxArray;var s=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/e.EXTENT,u=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),d="map"===s.get("text-pitch-alignment"),h="map"===s.get("text-rotation-alignment"),p=fe(n,1,this.transform.zoom),m=te(u,d,h,this.transform,p);let v=null;d&&(d=re(u,d,h,this.transform,p),v=e.multiply([],this.transform.labelPlaneMatrix,d)),this.retainedQueryData[o.bucketInstanceId]=new xe(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID);var y={bucket:o,layout:s,posMatrix:u,textLabelPlaneMatrix:m,labelToScreenMatrix:v,scale:l,textPixelRatio:c,holdingForFade:n.holdingForFade(),collisionBoxArray:r,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(const e of o.sortKeyRanges){var{sortKey:f,symbolInstanceStart:g,symbolInstanceEnd:b}=e;t.push({sortKey:f,symbolInstanceStart:g,symbolInstanceEnd:b,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}}attemptAnchorPlacement(t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f){var g=e.TextAnchorEnum[t.textAnchor],b=we(g,n,i,t=[t.textOffset0,t.textOffset1],o);if(r=this.collisionIndex.placeCollisionBox(_e(r,b.x,b.y,a,s,this.transform.angle),d,l,c,u.predicate,f),(!y||0!==this.collisionIndex.placeCollisionBox(_e(y,b.x,b.y,a,s,this.transform.angle),d,l,c,u.predicate,f).box.length)&&0<r.box.length){let e;if(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(e=this.prevPlacement.variableOffsets[h.crossTileID].anchor),0===h.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[h.crossTileID]={textOffset:t,width:n,height:i,anchor:g,textBoxScale:o,prevAnchor:e},this.markUsedJustification(p,g,h,m),p.allowVerticalPlacement&&(this.markUsedOrientation(p,m,h),this.placedOrientations[h.crossTileID]=m),{shift:b,placedGlyphBoxes:r}}}placeLayerBucketPart(t,r,n){const{bucket:i,layout:o,posMatrix:a,textLabelPlaneMatrix:s,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:h,collisionGroup:p}=t.parameters,m=o.get("text-optional"),y=o.get("icon-optional"),f=e.getOverlapMode(o,"text-overlap","text-allow-overlap"),g="always"===f,b=e.getOverlapMode(o,"icon-overlap","icon-allow-overlap");var v="always"===b;const M="map"===o.get("text-rotation-alignment"),x="map"===o.get("text-pitch-alignment"),S="none"!==o.get("icon-text-fit");var w="viewport-y"===o.get("symbol-z-order");const _=g&&(v||!i.hasIconData()||y),T=v&&(g||!i.hasTextData()||m),I=(!i.collisionArrays&&d&&i.deserializeCollisionBoxes(d),this.retainedQueryData[i.bucketInstanceId].tileID),C=this.terrain?(e,t)=>this.terrain.getElevation(I,e,t):null;var k=(t,d)=>{if(!r[t.crossTileID])if(u)this.placements[t.crossTileID]=new ve(!1,!1,!1);else{let u=!1,N=!1,Z=!0,E=null,z={box:null,offscreen:null},G={box:null,offscreen:null},P=null,A=null,R=0,D=0,X=0;d.textFeatureIndex?R=d.textFeatureIndex:t.useRuntimeCollisionCircles&&(R=t.featureIndex),d.verticalTextFeatureIndex&&(D=d.verticalTextFeatureIndex);const O=d.textBox;if(O){var v=r=>{let n=e.WritingMode.horizontal;return i.allowVerticalPlacement&&!r&&this.prevPlacement&&(r=this.prevPlacement.placedOrientations[t.crossTileID])&&(this.placedOrientations[t.crossTileID]=r,n=r,this.markUsedOrientation(i,n,t)),n},w=(r,n)=>{if(i.allowVerticalPlacement&&0<t.numVerticalGlyphVertices&&d.verticalTextBox){for(const t of i.writingModes)if(t===e.WritingMode.vertical?(z=n(),G=z):z=r(),z&&z.box&&z.box.length)break}else z=r()};const r=t.textAnchorOffsetStartIndex,n=t.textAnchorOffsetEndIndex;if(n===r){const r=(e,r)=>((e=this.collisionIndex.placeCollisionBox(e,f,c,a,p.predicate,C))&&e.box&&e.box.length&&(this.markUsedOrientation(i,r,t),this.placedOrientations[t.crossTileID]=r),e);w((()=>r(O,e.WritingMode.horizontal)),(()=>{var n=d.verticalTextBox;return i.allowVerticalPlacement&&0<t.numVerticalGlyphVertices&&n?r(n,e.WritingMode.vertical):{box:null,offscreen:null}})),v(z&&z.box&&z.box.length)}else{let o=e.TextAnchorEnum[null==(I=null==(I=this.prevPlacement)?void 0:I.variableOffsets[t.crossTileID])?void 0:I.anchor];const s=(e,s,l)=>{var d=e.x2-e.x1,h=e.y2-e.y1,m=t.textBoxScale,y=S&&"never"===b?s:null;let g={box:[],offscreen:!1},v="never"===f?1:2,w="never";o&&v++;for(let s=0;s<v;s++){for(let s=r;s<n;s++){var _=i.textAnchorOffsets.get(s);if((!o||_.textAnchor===o)&&(_=this.attemptAnchorPlacement(_,e,d,h,m,M,x,c,a,p,w,t,i,l,y,C))&&(g=_.placedGlyphBoxes)&&g.box&&g.box.length)return u=!0,E=_.shift,g}o?o=null:w=f}return g};w((()=>s(O,d.iconBox,e.WritingMode.horizontal)),(()=>{var r=d.verticalTextBox,n=z&&z.box&&z.box.length;return i.allowVerticalPlacement&&!n&&0<t.numVerticalGlyphVertices&&r?s(r,d.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),z&&(u=z.box,Z=z.offscreen);var I=v(z&&z.box);!u&&this.prevPlacement&&(w=this.prevPlacement.variableOffsets[t.crossTileID])&&(this.variableOffsets[t.crossTileID]=w,this.markUsedJustification(i,w.anchor,t,I))}}u=(v=z)&&v.box&&0<v.box.length,Z=v&&v.offscreen,t.useRuntimeCollisionCircles&&(w=i.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),I=e.evaluateSizeForFeature(i.textSizeData,h,w),L=o.get("text-padding"),k=t.collisionCircleDiameter,(P=this.collisionIndex.placeCollisionCircles(f,w,i.lineVertexArray,i.glyphOffsetArray,I,a,s,l,n,x,p.predicate,k,L,C)).circles.length&&P.collisionDetected&&!n&&e.warnOnce("Collisions detected, but collision boxes are not shown"),u=g||0<P.circles.length&&!P.collisionDetected,Z=Z&&P.offscreen),d.iconFeatureIndex&&(X=d.iconFeatureIndex),d.iconBox&&(w=e=>(e=S&&E?_e(e,E.x,E.y,M,x,this.transform.angle):e,this.collisionIndex.placeCollisionBox(e,b,c,a,p.predicate,C)),N=0<(A=G&&G.box&&G.box.length&&d.verticalIconBox?w(d.verticalIconBox):w(d.iconBox)).box.length,Z=Z&&A.offscreen),I=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices;var k=y||0===t.numIconVertices;if(I||k?k?I||(N=N&&u):u=N&&u:N=u=N&&u,u&&v&&v.box&&(G&&G.box&&D?this.collisionIndex.insertCollisionBox(v.box,f,o.get("text-ignore-placement"),i.bucketInstanceId,D,p.ID):this.collisionIndex.insertCollisionBox(v.box,f,o.get("text-ignore-placement"),i.bucketInstanceId,R,p.ID)),N&&A&&this.collisionIndex.insertCollisionBox(A.box,b,o.get("icon-ignore-placement"),i.bucketInstanceId,X,p.ID),P&&(u&&this.collisionIndex.insertCollisionCircles(P.circles,f,o.get("text-ignore-placement"),i.bucketInstanceId,R,p.ID),n)){var L=i.bucketInstanceId;let e=this.collisionCircleArrays[L];void 0===e&&(e=this.collisionCircleArrays[L]=new Me);for(let t=0;t<P.circles.length;t+=4)e.circles.push(P.circles[t+0]),e.circles.push(P.circles[t+1]),e.circles.push(P.circles[t+2]),e.circles.push(P.collisionDetected?1:0)}if(0===t.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===i.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[t.crossTileID]=new ve(u||_,N||T,Z||i.justReloaded),r[t.crossTileID]=!0}};if(w){if(0!==t.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");var L=i.getSortedSymbolIndexes(this.transform.angle);for(let e=L.length-1;0<=e;--e){var N=L[e];k(i.symbolInstances.get(N),i.collisionArrays[N])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)k(i.symbolInstances.get(e),i.collisionArrays[e]);n&&i.bucketInstanceId in this.collisionCircleArrays&&(v=this.collisionCircleArrays[i.bucketInstanceId],e.invert(v.invProjMatrix,a),v.viewportMatrix=this.collisionIndex.getViewportMatrix()),i.justReloaded=!1}markUsedJustification(t,r,n,i){var o={left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex};let a;a=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:o[e.getAnchorJustification(r)];for(const e of[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex])0<=e&&(t.text.placedSymbolArray.get(e).crossTileID=0<=a&&e!==a?0:n.crossTileID)}markUsedOrientation(t,r,n){var i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0;r=r===e.WritingMode.vertical?r:0;for(const e of[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex])t.text.placedSymbolArray.get(e).placedOrientation=i;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=r)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement;let r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){var s=this.placements[e],l=i[e];r=l?(this.opacities[e]=new be(l,n,s.text,s.icon),r||s.text!==l.text.placed||s.icon!==l.icon.placed):(this.opacities[e]=new be(null,n,s.text,s.icon,s.skipFade),r||s.text||s.icon)}for(const e in i){var c,u=i[e];this.opacities[e]||(c=new be(u,n,!1,!1)).isHidden()||(this.opacities[e]=c,r=r||u.text.placed||u.icon.placed)}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){var r={};for(const i of t){var n=i.getBucket(e);n&&i.latestFeatureIndex&&e.id===n.layerIds[0]&&this.updateBucketOpacities(n,r,i.collisionBoxArray)}}updateBucketOpacities(t,r,n){t.hasTextData()&&(t.text.opacityVertexArray.clear(),t.text.hasVisibleVertices=!1),t.hasIconData()&&(t.icon.opacityVertexArray.clear(),t.icon.hasVisibleVertices=!1),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var i=t.layers[0],o=i.layout,a=new be(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),l=o.get("icon-allow-overlap"),c=i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"),u="map"===o.get("text-rotation-alignment"),d="map"===o.get("text-pitch-alignment"),h="none"!==o.get("icon-text-fit"),p=new be(null,0,s&&(l||!t.hasIconData()||o.get("icon-optional")),l&&(s||!t.hasTextData()||o.get("text-optional")),!0),m=(!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n),(e,t,r)=>{for(let n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r);e.hasVisibleVertices=e.hasVisibleVertices||r!==Pe});for(let n=0;n<t.symbolInstances.length;n++){var y=t.symbolInstances.get(n),{numHorizontalGlyphVertices:f,numVerticalGlyphVertices:g,crossTileID:b}=y,v=r[b];let i=this.opacities[b];v?i=a:i||(i=p,this.opacities[b]=i),r[b]=!0,v=0<y.numIconVertices;var M=this.placedOrientations[y.crossTileID];const o=M===e.WritingMode.vertical;var x=M===e.WritingMode.horizontal||M===e.WritingMode.horizontalOnly;if(0<f||0<g){var S=Ge(i.text),w=o?Pe:S,f=(m(t.text,f,w),x?Pe:S);m(t.text,g,f);const e=i.text.isHidden();[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((r=>{0<=r&&(t.text.placedSymbolArray.get(r).hidden=e||o?1:0)})),0<=y.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(y.verticalPlacedTextSymbolIndex).hidden=e||x?1:0),(w=this.variableOffsets[y.crossTileID])&&this.markUsedJustification(t,w.anchor,y,M),(S=this.placedOrientations[y.crossTileID])&&(this.markUsedJustification(t,"left",y,S),this.markUsedOrientation(t,S,y))}if(v&&(g=Ge(i.icon),f=!(h&&y.verticalPlacedIconSymbolIndex&&o),0<=y.placedIconSymbolIndex&&(w=f?g:Pe,m(t.icon,y.numIconVertices,w),t.icon.placedSymbolArray.get(y.placedIconSymbolIndex).hidden=i.icon.isHidden()),0<=y.verticalPlacedIconSymbolIndex)&&(M=f?Pe:g,m(t.icon,y.numVerticalIconVertices,M),t.icon.placedSymbolArray.get(y.verticalPlacedIconSymbolIndex).hidden=i.icon.isHidden()),(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&(S=t.collisionArrays[n])){let r=new e.Point(0,0);if(S.textBox||S.verticalTextBox){let e=!0;c&&((v=this.variableOffsets[b])?(r=we(v.anchor,v.width,v.height,v.textOffset,v.textBoxScale),u&&r._rotate(d?this.transform.angle:-this.transform.angle)):e=!1),S.textBox&&Ie(t.textCollisionBox.collisionVertexArray,i.text.placed,!e||o,r.x,r.y),S.verticalTextBox&&Ie(t.textCollisionBox.collisionVertexArray,i.text.placed,!e||x,r.x,r.y)}f=Boolean(!x&&S.verticalIconBox),S.iconBox&&Ie(t.iconCollisionBox.collisionVertexArray,i.icon.placed,f,h?r.x:0,h?r.y:0),S.verticalIconBox&&Ie(t.iconCollisionBox.collisionVertexArray,i.icon.placed,!f,h?r.x:0,h?r.y:0)}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.text.opacityVertexArray.length!==t.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${t.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${t.text.layoutVertexArray.length}) / 4`);if(t.icon.opacityVertexArray.length!==t.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${t.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${t.icon.layoutVertexArray.length}) / 4`);t.bucketInstanceId in this.collisionCircleArrays&&(i=this.collisionCircleArrays[t.bucketInstanceId],t.placementInvProjMatrix=i.invProjMatrix,t.placementViewportMatrix=i.viewportMatrix,t.collisionCircleArray=i.circles,delete this.collisionCircleArrays[t.bucketInstanceId])}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){var r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e}setStale(){this.stale=!0}}function Ie(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}const Ce=Math.pow(2,25),ke=Math.pow(2,24),Le=Math.pow(2,17),Ne=Math.pow(2,16),Ze=Math.pow(2,9),Ee=Math.pow(2,8),ze=Math.pow(2,1);function Ge(e){var t;return 0!==e.opacity||e.placed?1===e.opacity&&e.placed?4294967295:(t=e.placed?1:0,(e=Math.floor(127*e.opacity))*Ce+t*ke+e*Le+t*Ne+e*Ze+t*Ee+e*ze+t):0}const Pe=0;class Ae{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,r,n,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;){var a=e[this._currentTileIndex];if(t.getBucketParts(o,n,a,this._sortAcrossTiles),this._currentTileIndex++,i())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<o.length;){var s=o[this._currentPartIndex];if(t.placeLayerBucketPart(s,this._seenCrossTileIDs,r),this._currentPartIndex++,i())return!0}return!1}}class Re{constructor(e,t,r,n,i,o,a,s){this.placement=new Te(e,t,o,a,s),this._currentPlacementIndex=r.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,r,n){const i=e.browser.now();for(var o=()=>!this._forceFullPlacement&&2<e.browser.now()-i;0<=this._currentPlacementIndex;){var a=r[t[this._currentPlacementIndex]],s=this.placement.collisionIndex.transform.zoom;if("symbol"===a.type&&(!a.minzoom||a.minzoom<=s)&&(!a.maxzoom||a.maxzoom>s)){if(this._inProgressLayer||(this._inProgressLayer=new Ae(a)),this._inProgressLayer.continuePlacement(n[a.source],this.placement,this._showCollisionBoxes,a,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const De=512/e.EXTENT/2;class Xe{constructor(t,r,n){this.tileID=t,this.bucketInstanceId=n,this._symbolsByKey={};var i,o,a=new Map;for(let e=0;e<r.length;e++){var s=r.get(e),l=s.key,c=a.get(l);c?c.push(s):a.set(l,[s])}for([i,o]of a){var u={positions:o.map((e=>({x:Math.floor(e.anchorX*De),y:Math.floor(e.anchorY*De)}))),crossTileIDs:o.map((e=>e.crossTileID))};if(128<u.positions.length){var d,h,p=new e.KDBush(u.positions.length,16,Uint16Array);for({x:d,y:h}of u.positions)p.add(d,h);p.finish(),delete u.positions,u.index=p}this._symbolsByKey[i]=u}}getScaledCoordinates(t,r){var{x:n,y:i,z:o}=this.tileID.canonical,{x:r,y:a,z:s}=r.canonical,o=(s-=o,De/Math.pow(2,s)),s=(r*e.EXTENT+t.anchorX)*o,a=(r=(a*e.EXTENT+t.anchorY)*o,n*e.EXTENT*De);return t=i*e.EXTENT*De,{x:Math.floor(s-a),y:Math.floor(r-t)}}findMatches(e,t,r){var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let u=0;u<e.length;u++){var i=e.get(u);if(!i.crossTileID){var o=this._symbolsByKey[i.key];if(o){var a=this.getScaledCoordinates(i,t);if(o.index)for(const e of o.index.range(a.x-n,a.y-n,a.x+n,a.y+n).sort()){var s=o.crossTileIDs[e];if(!r[s]){r[s]=!0,i.crossTileID=s;break}}else if(o.positions)for(let e=0;e<o.positions.length;e++){var l=o.positions[e],c=o.crossTileIDs[e];if(Math.abs(l.x-a.x)<=n&&Math.abs(l.y-a.y)<=n&&!r[c]){r[c]=!0,i.crossTileID=c;break}}}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:e})=>e))}}class Oe{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class We{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){var r=this.indexes[e],n={};for(const e in r){var i=r[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}this.indexes[e]=n}this.lng=e}addBucket(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var n=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){var i=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in i){var o=i[r];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,n)}else{var a=i[e.scaledTo(Number(r)).key];a&&a.findMatches(t.symbolInstances,e,n)}}for(let e=0;e<t.symbolInstances.length;e++){var s=t.symbolInstances.get(e);s.crossTileID||(s.crossTileID=r.generate(),n[s.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Xe(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const r of t.getCrossTileIDsLists())for(const t of r)delete this.usedCrossTileIDs[e][t]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){var r=this.indexes[n];for(const i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}class je{constructor(){this.layerIndexes={},this.crossTileIDs=new Oe,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,r){let n=this.layerIndexes[e.id],i=!1;var o={};(n=void 0===n?this.layerIndexes[e.id]=new We:n).handleWrapJump(r);for(const r of t){var a=r.getBucket(e);a&&e.id===a.layerIds[0]&&(a.bucketInstanceId||(a.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(r.tileID,a,this.crossTileIDs)&&(i=!0),o[a.bucketInstanceId]=!0)}return!!n.removeStaleBuckets(o)||i}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const Ye=(t,r)=>e.emitValidationErrors(t,r&&r.filter((e=>"source.canvas"!==e.identifier))),Fe=e.pick(e.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Ve=e.pick(e.operations,["setCenter","setZoom","setBearing","setPitch"]),He=e.emptyStyle();class Ue extends e.Evented{constructor(t,r={}){super(),this.map=t,this.dispatcher=new I(Q(),this,t._getMapId()),this.imageManager=new g,this.imageManager.setEventedParent(this),this.glyphManager=new x(t._requestManager,r.localIdeographFontFamily),this.lineAtlas=new T(256,512),this.crossTileSymbolIndex=new je,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const n=this;this._rtlTextPluginCallback=Ue.registerForPluginStateChange((t=>{t={pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},n.dispatcher.broadcast("syncRTLPluginState",t,((t,r)=>{if(e.triggerPluginCompletionEvent(t),r&&r.every((e=>e)))for(const e in n.sourceCaches){var i=n.sourceCaches[e].getSource().type;"vector"!==i&&"geojson"!==i||n.sourceCaches[e].reload()}}))})),this.on("data",(e=>{if("source"===e.dataType&&"metadata"===e.sourceDataType&&(e=this.sourceCaches[e.sourceId])){var t=e.getSource();if(t&&t.vectorLayerIds)for(const e in this._layers){var r=this._layers[e];r.source===t.id&&this._validateLayer(r)}}}))}loadURL(t,n={},i){this.fire(new e.Event("dataloading",{dataType:"style"})),n.validate="boolean"!=typeof n.validate||n.validate,t=this.map._requestManager.transformRequest(t,r.Style),this._request=e.getJSON(t,((t,r)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):r&&this._load(r,n,i)}))}loadJSON(t,r={},n){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((()=>{this._request=null,r.validate=!1!==r.validate,this._load(t,r,n)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(He,{validate:!1})}_load(t,r,n){var i=r.transformStyle?r.transformStyle(n,t):t;if(!r.validate||!Ye(this,e.validateStyle(i))){this._loaded=!0;for(const e in(this.stylesheet=i).sources)this.addSource(e,i.sources[e],{validate:!1});i.sprite?this._loadSprite(i.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(i.glyphs),this._createLayers(),this.light=new _(this.stylesheet.light),this.map.setTerrain(null!=(n=this.stylesheet.terrain)?n:null),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}}_createLayers(){var t=e.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",t),this._order=t.map((e=>e.id)),this._layers={},this._serializedLayers=null;for(const n of t){var r=e.createStyleLayer(n);r.setEventedParent(this,{layer:{id:n.id}}),this._layers[n.id]=r}}_loadSprite(n,i=!1,o=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(n,i,o,a){const s=(n=m(n)).length;var l=1<o?"@2x":"";const c={},u={},d={};for(const{id:o,url:p}of n){var h=i.transformRequest(i.normalizeSpriteURL(p,l,".json"),r.SpriteJSON);const n=o+"_"+h.url;c[n]=e.getJSON(h,((e,t)=>{delete c[n],u[o]=t,y(a,u,d,e,s)})),h=i.transformRequest(i.normalizeSpriteURL(p,l,".png"),r.SpriteImage);const m=o+"_"+h.url;c[m]=t.getImage(h,((e,t)=>{delete c[m],d[o]=t,y(a,u,d,e,s)}))}return{cancel(){for(const e of Object.values(c))e.cancel()}}}(n,this.map._requestManager,this.map.getPixelRatio(),((t,r)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(r)for(const e in r){this._spritesImagesIds[e]=[];for(const t of this._spritesImagesIds[e]?this._spritesImagesIds[e].filter((e=>!(e in r))):[])this.imageManager.removeImage(t),this._changedImages[t]=!0;for(const t in r[e]){var n="default"===e?t:e+":"+t;this._spritesImagesIds[e].push(n),n in this.imageManager.images?this.imageManager.updateImage(n,r[e][t],!1):this.imageManager.addImage(n,r[e][t]),i&&(this._changedImages[n]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),i&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"})),o&&o(t)}))}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}_validateLayer(t){var r,n=this.sourceCaches[t.source];n&&(r=t.sourceLayer)&&("geojson"===(n=n.getSource()).type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${r}" does not exist on source "${n.id}" as specified by style layer "${t.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e){var t=this._serializedAllLayers();if(!e||0===e.length)return Object.values(t);var r=[];for(const n of e)t[n]&&r.push(t[n]);return r}_serializedAllLayers(){var e=this._serializedLayers;if(!e){e=this._serializedLayers={};for(const r of Object.keys(this._layers)){var t=this._layers[r];"custom"!==t.type&&(e[r]=t.serialize())}}return e}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(n.length||i.length)&&this._updateWorkerLayers(n,i);for(const e in this._updatedSources){var o=this._updatedSources[e];if("reload"===o)this._reloadSource(e);else{if("clear"!==o)throw new Error("Invalid action "+o);this._clearSource(e)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var a={};for(const e in this.sourceCaches){var s=this.sourceCaches[e];a[e]=s.used,s.used=!1}for(const e of this._order){var l=this._layers[e];l.recalculate(t,this._availableImages),!l.isHidden(t.zoom)&&l.source&&(this.sourceCaches[l.source].used=!0)}for(const t in a){var c=this.sourceCaches[t];a[t]!==c.used&&c.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t}))}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}}_updateTilesForChangedImages(){var e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(t,r={}){this._checkLoaded();var n=this.serialize();if(t=r.transformStyle?r.transformStyle(n,t):t,Ye(this,e.validateStyle(t)))return!1;if((t=e.clone$1(t)).layers=e.derefLayers(t.layers),0===(r=e.diffStyles(n,t).filter((e=>!(e.command in Ve)))).length)return!1;if(n=r.filter((e=>!(e.command in Fe))),0<n.length)throw new Error(`Unimplemented: ${n.map((e=>e.command)).join(", ")}.`);for(const e of r)"setTransition"!==e.command&&this[e.command].apply(this,e.args);return this.stylesheet=t,!(this._serializedLayers=null)}addImage(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" already exists.`)));this.imageManager.addImage(t,r),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" does not exist.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,r,n={}){if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error(`Source "${t}" already exists.`);if(!r.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(r).join(", ")}.`);if(!(0<=["vector","raster","geojson","video","image"].indexOf(r.type)&&this._validate(e.validateStyle.source,"sources."+t,r,null,n))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);const e=this.sourceCaches[t]=new V(t,r,this.dispatcher);e.style=this,e.setEventedParent(this,(()=>({isSourceLoaded:e.loaded(),source:e.serialize(),sourceId:t}))),e.onAdd(this.map),this._changed=!0}}removeSource(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${r}" is using it.`)));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID="+e);if("geojson"!==(e=this.sourceCaches[e].getSource()).type)throw new Error(`geojsonSource.type is ${e.type}, which is !== 'geojson`);e.setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(t,r,n={}){this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error(`Layer "${i}" already exists on this map.`)));else{let o;if("custom"===t.type){if(Ye(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("source"in t&&"object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},n))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}})}n=r?this._order.indexOf(r):this._order.length,r&&-1===n?this.fire(new e.ErrorEvent(new Error(`Cannot add layer "${i}" before non-existing layer "${r}".`))):(this._order.splice(n,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type&&(t=this._removedLayers[i],delete this._removedLayers[i],t.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())),this._updateLayer(o),o.onAdd&&o.onAdd(this.map))}}moveLayer(t,r){var n;this._checkLoaded(),this._changed=!0,this._layers[t]?t!==r&&(n=this._order.indexOf(t),this._order.splice(n,1),n=r?this._order.indexOf(r):this._order.length,r&&-1===n?this.fire(new e.ErrorEvent(new Error(`Cannot move layer "${t}" before non-existing layer "${r}".`))):(this._order.splice(n,0,t),this._layerOrderChanged=!0)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)))}removeLayer(t){this._checkLoaded();var r,n=this._layers[t];n?(n.setEventedParent(null),r=this._order.indexOf(t),this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],this._serializedLayers&&delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)):this.fire(new e.ErrorEvent(new Error(`Cannot remove non-existing layer "${t}".`)))}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(t,r,n){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))}setFilter(t,r,n={}){this._checkLoaded();var i=this.getLayer(t);i?e.deepEqual(i.filter,r)||(null==r?(i.filter=void 0,this._updateLayer(i)):this._validate(e.validateStyle.filter,`layers.${i.id}.filter`,r,null,n)||(i.filter=e.clone$1(r),this._updateLayer(i))):this.fire(new e.ErrorEvent(new Error(`Cannot filter non-existing layer "${t}".`)))}getFilter(t){return e.clone$1(this.getLayer(t).filter)}setLayoutProperty(t,r,n,i={}){this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(r),n)||(o.setLayoutProperty(r,n,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getLayoutProperty(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error(`Cannot get style of non-existing layer "${t}".`)))}setPaintProperty(t,r,n,i={}){this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(r),n)||(o.setPaintProperty(r,n,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,r){this._checkLoaded();var n=t.source,i=t.sourceLayer,o=this.sourceCaches[n];void 0===o?this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`))):"geojson"===(n=o.getSource().type)&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==n||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,r)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,r){this._checkLoaded();var n,i=t.source,o=this.sourceCaches[i];void 0===o?this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`))):(n="vector"===(i=o.getSource().type)?t.sourceLayer:void 0,"vector"!==i||n?r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):o.removeFeatureState(n,t.id,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))))}getFeatureState(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,i=this.sourceCaches[r];if(void 0===i)this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)));else{if("vector"!==i.getSource().type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){var t,r,n,i;if(this._loaded)return t=e.mapObject(this.sourceCaches,(e=>e.serialize())),r=this._serializeByIds(this._order),n=this.map.getTerrain()||void 0,i=this.stylesheet,e.filterObject({version:i.version,name:i.name,metadata:i.metadata,light:i.light,center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch,sprite:i.sprite,glyphs:i.glyphs,transition:i.transition,sources:t,layers:r,terrain:n},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){var t=e=>"fill-extrusion"===this._layers[e].type,r={},n=[];for(let a=this._order.length-1;0<=a;a--){var i=this._order[a];if(t(i)){r[i]=a;for(const t of e){var o=t[i];if(o)for(const e of o)n.push(e)}}}n.sort(((e,t)=>t.intersectionZ-e.intersectionZ));var a=[];for(let i=this._order.length-1;0<=i;i--){var s=this._order[i];if(t(s))for(let e=n.length-1;0<=e;e--){var l=n[e].feature;if(r[l.layer.id]<i)break;a.push(l),n.pop()}else for(const t of e){var c=t[s];if(c)for(const e of c)a.push(e.feature)}}return a}queryRenderedFeatures(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);var i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of r.layers){var o=this._layers[t];if(!o)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[o.source]=!0}}var a=[],s=(r.availableImages=this._availableImages,this._serializedAllLayers());for(const e in this.sourceCaches)r.layers&&!i[e]||a.push(O(this.sourceCaches[e],this._layers,s,t,r,n));return this.placement&&a.push(function(e,t,r,n,i,o,a){var s={},l=o.queryRenderedSymbols(n),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(W);for(const r of c){var u=r.featureIndex.lookupSymbolFeatures(l[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in u){var d=s[e]=s[e]||[],h=u[e];h.sort(((e,t)=>{var n,i=r.featureSortOrder;return i?(n=i.indexOf(e.featureIndex),i.indexOf(t.featureIndex)-n):t.featureIndex-e.featureIndex}));for(const e of h)d.push(e)}}for(const t in s)s[t].forEach((n=>{n=n.feature;var i=e[t];i=r[i.source].getFeatureState(n.layer["source-layer"],n.id),n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i}));return s}(this._layers,s,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(a)}querySourceFeatures(t,r){return r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r),(t=this.sourceCaches[t])?function(e,t){var r=e.getRenderableIds().map((t=>e.getTileByID(t))),n=[],i={};for(let e=0;e<r.length;e++){var o=r[e],a=o.tileID.canonical.key;i[a]||(i[a]=!0,o.querySourceFeatures(n,t))}return n}(t,r):[]}addSourceType(e,t,r){return X(e)?r(new Error(`A source type called "${e}" already exists.`)):(((e,t)=>{D[e]=t})(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))}getLight(){return this.light.getLight()}setLight(t,r={}){this._checkLoaded();var n,i=this.light.getLight();let o=!1;for(const r in t)if(!e.deepEqual(t[r],i[r])){o=!0;break}o&&(n={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)},this.light.setLight(t,r),this.light.updateTransitions(n))}_validate(t,r,n,i,o={}){return(!o||!1!==o.validate)&&Ye(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.v8Spec},i)))}_remove(t=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){var r=this.sourceCaches[e];r.setEventedParent(null),r.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(t)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(t,r,n,i,o=!1){let a=!1,s=!1;var l={};for(const e of this._order){var c=this._layers[e];if("symbol"===c.type){if(!l[c.source]){const e=this.sourceCaches[c.source];l[c.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}c=this.crossTileSymbolIndex.addLayer(c,l[c.source],t.center.lng),a=a||c}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Re(t,this.map.terrain,this._order,o,r,n,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){var u=this._layers[e];"symbol"===u.type&&this.placement.updateLayerOpacities(u,l[u.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages(),(r=this.sourceCaches[t.source])&&r.setDependencies(t.tileID.key,t.type,t.icons)}getGlyphs(e,t,r){this.glyphManager.getGlyphs(t.stacks,r),(r=this.sourceCaches[t.source])&&r.setDependencies(t.tileID.key,t.type,[""])}getResource(t,r,n){return e.makeRequest(r,n)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(t,r={}){this._checkLoaded(),t&&this._validate(e.validateStyle.glyphs,"glyphs",t,null,r)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=t,this.glyphManager.entries={},this.glyphManager.setURL(t))}addSprite(t,r,n={},i){this._checkLoaded(),t=[{id:t,url:r}],r=[...m(this.stylesheet.sprite),...t],this._validate(e.validateStyle.sprite,"sprite",r,null,n)||(this.stylesheet.sprite=r,this._loadSprite(t,!0,i))}removeSprite(t){this._checkLoaded();var r=m(this.stylesheet.sprite);if(r.find((e=>e.id===t))){if(this._spritesImagesIds[t])for(const e of this._spritesImagesIds[t])this.imageManager.removeImage(e),this._changedImages[e]=!0;r.splice(r.findIndex((e=>e.id===t)),1),this.stylesheet.sprite=0<r.length?r:void 0,delete this._spritesImagesIds[t],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}else this.fire(new e.ErrorEvent(new Error(`Sprite "${t}" doesn't exists on this map.`)))}getSprite(){return m(this.stylesheet.sprite)}setSprite(t,r={},n){this._checkLoaded(),t&&this._validate(e.validateStyle.sprite,"sprite",t,null,r)||((this.stylesheet.sprite=t)?this._loadSprite(t,!0,n):(this._unloadSprite(),n&&n(null)))}}Ue.registerForPluginStateChange=e.registerForPluginStateChange;var Be=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ke="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Je={prelude:Qe("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:Qe("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Qe("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Qe("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:Qe("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Qe("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:Qe("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Qe("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Qe("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Qe("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Qe("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:Qe("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:Qe("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:Qe("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:Qe("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:Qe("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:Qe("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Qe("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Qe("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:Qe("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:Qe("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:Qe("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:Qe("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Qe("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:Qe("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Qe("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:Qe("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Ke),terrainDepth:Qe("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Ke),terrainCoords:Qe("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Ke)};function Qe(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=(o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g))?o.concat(i):i;const a={};return{fragmentSource:e=e.replace(r,((e,t,r,n,i)=>(a[i]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nvarying ${r} ${n} ${i};\n#else\nuniform ${r} ${n} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${r} ${n} ${i} = u_${i};\n#endif\n`))),vertexSource:t=t.replace(r,((e,t,r,n,i)=>{var o="float"===n?"vec2":"vec4",s=i.match(/color/)?"color":o;return a[i]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${r} ${o} a_${i};\nvarying ${r} ${n} ${i};\n#else\nuniform ${r} ${n} u_${i};\n#endif\n`:"vec4"==s?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${s}(a_${i}, u_${i}_t);\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${r} ${o} a_${i};\n#else\nuniform ${r} ${n} u_${i};\n#endif\n`:"vec4"==s?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${r} ${n} ${i} = a_${i};\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${r} ${n} ${i} = unpack_mix_${s}(a_${i}, u_${i}_t);\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`})),staticAttributes:n,staticUniforms:o}}class qe{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,r,n,i,o,a,s,l){this.context=e;let c=this.boundPaintVertexBuffers.length!==n.length;for(let e=0;!c&&e<n.length;e++)this.boundPaintVertexBuffers[e]!==n[e]&&(c=!0);!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||c||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s||this.boundDynamicVertexBuffer3!==l?this.freshBind(t,r,n,i,o,a,s,l):(e.bindVertexArray.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind(),l&&l.bind())}freshBind(e,t,r,n,i,o,a,s){var l=e.numAttributes,c=this.context,u=c.gl;this.vao&&this.destroy(),this.vao=c.createVertexArray(),c.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a,this.boundDynamicVertexBuffer3=s,t.enableAttributes(u,e);for(const t of r)t.enableAttributes(u,e);o&&o.enableAttributes(u,e),a&&a.enableAttributes(u,e),s&&s.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);for(const t of r)t.bind(),t.setVertexAttribPointers(u,e,i);o&&(o.bind(),o.setVertexAttribPointers(u,e,i)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,e,i)),s&&(s.bind(),s.setVertexAttribPointers(u,e,i)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function $e(e){var t,r=[];for(let n=0;n<e.length;n++)null!==e[n]&&(t=e[n].split(" "),r.push(t.pop()));return r}class et{constructor(t,r,n,i,o,a){var s=t.gl,l=(this.program=s.createProgram(),$e(r.staticAttributes)),c=n?n.getBinderAttributes():[],u=l.concat(c),d=(l=Je.prelude.staticUniforms?$e(Je.prelude.staticUniforms):[],c=r.staticUniforms?$e(r.staticUniforms):[],n?n.getBinderUniforms():[]),h=[];for(const e of l.concat(c).concat(d))h.indexOf(e)<0&&h.push(e);if(l=n?n.defines():[],o&&l.push("#define OVERDRAW_INSPECTOR;"),a&&l.push("#define TERRAIN3D;"),c=l.concat(Je.prelude.fragmentSource,r.fragmentSource).join("\n"),d=l.concat(Je.prelude.vertexSource,r.vertexSource).join("\n"),o=s.createShader(s.FRAGMENT_SHADER),s.isContextLost())this.failedToCreate=!0;else{if(s.shaderSource(o,c),s.compileShader(o),!s.getShaderParameter(o,s.COMPILE_STATUS))throw new Error("Could not compile fragment shader: "+s.getShaderInfoLog(o));if(s.attachShader(this.program,o),a=s.createShader(s.VERTEX_SHADER),s.isContextLost())this.failedToCreate=!0;else{if(s.shaderSource(a,d),s.compileShader(a),!s.getShaderParameter(a,s.COMPILE_STATUS))throw new Error("Could not compile vertex shader: "+s.getShaderInfoLog(a));s.attachShader(this.program,a),this.attributes={};var p={};this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);if(s.linkProgram(this.program),!s.getProgramParameter(this.program,s.LINK_STATUS))throw new Error("Program failed to link: "+s.getProgramInfoLog(this.program));s.deleteShader(a),s.deleteShader(o);for(let e=0;e<h.length;e++){var m,y=h[e];y&&!p[y]&&(m=s.getUniformLocation(this.program,y))&&(p[y]=m)}this.fixedUniforms=i(t,p),this.terrainUniforms=((t,r)=>({u_depth:new e.Uniform1i(t,r.u_depth),u_terrain:new e.Uniform1i(t,r.u_terrain),u_terrain_dim:new e.Uniform1f(t,r.u_terrain_dim),u_terrain_matrix:new e.UniformMatrix4f(t,r.u_terrain_matrix),u_terrain_unpack:new e.Uniform4f(t,r.u_terrain_unpack),u_terrain_exaggeration:new e.Uniform1f(t,r.u_terrain_exaggeration)}))(t,p),this.binderUniforms=n?n.getUniforms(t,p):[]}}}draw(e,t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g){var b=e.gl;if(!this.failedToCreate){if(e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(o),s){e.activeTexture.set(b.TEXTURE2),b.bindTexture(b.TEXTURE_2D,s.depthTexture),e.activeTexture.set(b.TEXTURE3),b.bindTexture(b.TEXTURE_2D,s.texture);for(const e in this.terrainUniforms)this.terrainUniforms[e].set(s[e])}for(const e in this.fixedUniforms)this.fixedUniforms[e].set(a[e]);m&&m.setUniforms(e,this.binderUniforms,h,{zoom:p});let M=0;switch(t){case b.LINES:M=2;break;case b.TRIANGLES:M=3;break;case b.LINE_STRIP:M=1}for(const r of d.get()){var v=r.vaos||(r.vaos={});(v[l]||(v[l]=new qe)).bind(e,this,c,m?m.getPaintVertexBuffers():[],u,r.vertexOffset,y,f,g),b.drawElements(t,r.primitiveLength*M,b.UNSIGNED_SHORT,r.primitiveOffset*M*2)}}}}function tt(e,t,r){var n=1/fe(r,1,t.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ);return i=(t=r.tileSize*Math.pow(2,t.transform.tileZoom)/i)*(r.tileID.canonical.x+r.tileID.wrap*i),t*=r.tileID.canonical.y,{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[i>>16,t>>16],u_pixel_coord_lower:[65535&i,65535&t]}}const rt=(t,r,n,i)=>{var o=r.style.light,a=[(a=o.properties.get("position")).x,a.y,a.z],s=e.create$1();return"viewport"===o.properties.get("anchor")&&e.fromRotation(s,-r.transform.angle),e.transformMat3(a,a,s),r=o.properties.get("color"),{u_matrix:t,u_lightpos:a,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[r.r,r.g,r.b],u_vertical_gradient:+n,u_opacity:i}},nt=(t,r,n,i,o,a,s)=>e.extend(rt(t,r,n,i),tt(a,r,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8}),it=e=>({u_matrix:e}),ot=(t,r,n,i)=>e.extend(it(t),tt(n,r,i)),at=(e,t)=>({u_matrix:e,u_world:t}),st=(t,r,n,i,o)=>e.extend(ot(t,r,n,i),{u_world:o}),lt=(e,t,r)=>{var n=fe(r,1,t.zoom),i=Math.pow(2,t.zoom-r.tileID.overscaledZ);return r=r.tileID.overscaleFactor(),{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*i),t.pixelsToGLUnits[1]/(n*i)],u_overscale_factor:r}},ct=(e,t,r)=>({u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:r.cameraToCenterDistance,u_viewport_size:[r.width,r.height]}),ut=(e,t,r=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:r}),dt=e=>({u_matrix:e}),ht=(t,r,n,i)=>{var o=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),s=n.paint.get("hillshade-accent-color");let l=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(l-=t.transform.angle);var c=!t.options.moving;return{u_matrix:i?i.posMatrix:t.transform.calculatePosMatrix(r.tileID.toUnwrapped(),c),u_image:0,u_latrange:(i=r.tileID,t=Math.pow(2,i.canonical.z),i=i.canonical.y,[new e.MercatorCoordinate(0,i/t).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/t).toLngLat().lat]),u_light:[n.paint.get("hillshade-exaggeration"),l],u_shadow:o,u_highlight:a,u_accent:s}},pt=(t,r)=>{var n=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.getUnpackVector()}},mt=(e,t,r,n)=>{var i=e.transform;return{u_matrix:ft(e,t,r,n),u_ratio:1/fe(t,1,i.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}};function yt(e,t){return 1/fe(e,1,t.tileZoom)}function ft(e,t,r,n){return e.translatePosMatrix((n||t.tileID).posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}const gt=(e,t,r,n,i)=>({u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:0<(e=i.paint.get("raster-saturation"))?1-1/(1.001-e):-e,u_contrast_factor:0<(t=i.paint.get("raster-contrast"))?1/(1-t):1+t,u_spin_weights:(r=i.paint.get("raster-hue-rotate"),r*=Math.PI/180,n=Math.sin(r),[(2*(r=Math.cos(r))+1)/3,(-Math.sqrt(3)*n-r+1)/3,(Math.sqrt(3)*n-r+1)/3])}),bt=(e,t,r,n,i,o,a,s,l,c)=>{var u=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:u.width/u.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},vt=(t,r,n,i,o,a,s,l,c,u,d)=>{var h=o.transform;return e.extend(bt(t,r,n,i,o,a,s,l,c,u),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:o.pixelRatio,u_is_halo:+d})},Mt=(t,r,n,i,o,a,s,l,c,u)=>e.extend(vt(t,r,n,i,o,a,s,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1}),xt=(t,r,n,i,o,a)=>e.extend(function(e,t,r,n){var i=r.imageManager.getPattern(e.from.toString()),{width:o,height:a}=(e=r.imageManager.getPattern(e.to.toString()),r.imageManager.getPixelSize()),s=Math.pow(2,n.tileID.overscaledZ),l=(s=(l=n.tileSize*Math.pow(2,r.transform.tileZoom)/s)*(n.tileID.canonical.x+n.tileID.wrap*s),l*n.tileID.canonical.y);return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:e.tl,u_pattern_br_b:e.br,u_texsize:[o,a],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:e.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/fe(n,1,r.transform.tileZoom),u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}(i,a,n,o),{u_matrix:t,u_opacity:r}),St={fillExtrusion:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}),fillExtrusionPattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}),fill:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),fillPattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}),fillOutline:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}),fillOutlinePattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}),circle:(t,r)=>({u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),collisionBox:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}),collisionCircle:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,r.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,r.u_viewport_size)}),debug:(t,r)=>({u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_overlay:new e.Uniform1i(t,r.u_overlay),u_overlay_scale:new e.Uniform1f(t,r.u_overlay_scale)}),clippingMask:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),heatmap:(t,r)=>({u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),heatmapTexture:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}),hillshade:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}),hillshadePrepare:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}),line:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels)}),lineGradient:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image),u_image_height:new e.Uniform1f(t,r.u_image_height)}),linePattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}),lineSDF:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}),raster:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}),symbolIcon:(t,r)=>({u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}),symbolSDF:(t,r)=>({u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}),symbolTextAndIcon:(t,r)=>({u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}),background:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}),backgroundPattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}),terrain:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texture:new e.Uniform1i(t,r.u_texture),u_ele_delta:new e.Uniform1f(t,r.u_ele_delta)}),terrainDepth:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ele_delta:new e.Uniform1f(t,r.u_ele_delta)}),terrainCoords:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texture:new e.Uniform1i(t,r.u_texture),u_terrain_coords_id:new e.Uniform1f(t,r.u_terrain_coords_id),u_ele_delta:new e.Uniform1f(t,r.u_ele_delta)})};class wt{constructor(e,t,r){var n=(this.context=e).gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){var t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)}}const _t={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Tt{constructor(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,r=(this.context=e).gl,this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of `+this.length);var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){var r=this.attributes[n];void 0!==(r=t.attributes[r.name])&&e.enableVertexAttribArray(r)}}setVertexAttribPointers(e,t,r){for(let o=0;o<this.attributes.length;o++){var n=this.attributes[o],i=t.attributes[n.name];void 0!==i&&e.vertexAttribPointer(i,n.components,e[_t[n.type]],!1,this.itemSize,n.offset+this.itemSize*(r||0))}}destroy(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)}}const It=new WeakMap;function Ct(e){var t;return It.has(e)?It.get(e):(t=null==(t=e.getParameter(e.VERSION))?void 0:t.startsWith("WebGL 2.0"),It.set(e,t),t)}class kt{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Lt extends kt{getDefault(){return e.Color.transparent}set(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a&&!this.dirty||(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Nt extends kt{getDefault(){return 1}set(e){e===this.current&&!this.dirty||(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Zt extends kt{getDefault(){return 0}set(e){e===this.current&&!this.dirty||(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Et extends kt{getDefault(){return[!0,!0,!0,!0]}set(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&!this.dirty||(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class zt extends kt{getDefault(){return!0}set(e){e===this.current&&!this.dirty||(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Gt extends kt{getDefault(){return 255}set(e){e===this.current&&!this.dirty||(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Pt extends kt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){var t=this.current;e.func===t.func&&e.ref===t.ref&&e.mask===t.mask&&!this.dirty||(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class At extends kt{getDefault(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&!this.dirty||(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Rt extends kt{getDefault(){return!1}set(e){var t;e===this.current&&!this.dirty||(t=this.gl,e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1)}}class Dt extends kt{getDefault(){return[0,1]}set(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&!this.dirty||(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Xt extends kt{getDefault(){return!1}set(e){var t;e===this.current&&!this.dirty||(t=this.gl,e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1)}}class Ot extends kt{getDefault(){return this.gl.LESS}set(e){e===this.current&&!this.dirty||(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Wt extends kt{getDefault(){return!1}set(e){var t;e===this.current&&!this.dirty||(t=this.gl,e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1)}}class jt extends kt{getDefault(){var e=this.gl;return[e.ONE,e.ZERO]}set(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&!this.dirty||(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class Yt extends kt{getDefault(){return e.Color.transparent}set(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a&&!this.dirty||(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Ft extends kt{getDefault(){return this.gl.FUNC_ADD}set(e){e===this.current&&!this.dirty||(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class Vt extends kt{getDefault(){return!1}set(e){var t;e===this.current&&!this.dirty||(t=this.gl,e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1)}}class Ht extends kt{getDefault(){return this.gl.BACK}set(e){e===this.current&&!this.dirty||(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class Ut extends kt{getDefault(){return this.gl.CCW}set(e){e===this.current&&!this.dirty||(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class Bt extends kt{getDefault(){return null}set(e){e===this.current&&!this.dirty||(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class Kt extends kt{getDefault(){return this.gl.TEXTURE0}set(e){e===this.current&&!this.dirty||(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class Jt extends kt{getDefault(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&!this.dirty||(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Qt extends kt{getDefault(){return null}set(e){var t;e===this.current&&!this.dirty||((t=this.gl).bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1)}}class qt extends kt{getDefault(){return null}set(e){var t;e===this.current&&!this.dirty||((t=this.gl).bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1)}}class $t extends kt{getDefault(){return null}set(e){var t;e===this.current&&!this.dirty||((t=this.gl).bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1)}}class er extends kt{getDefault(){return null}set(e){var t;e===this.current&&!this.dirty||((t=this.gl).bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1)}}class tr extends kt{getDefault(){return null}set(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class rr extends kt{getDefault(){return null}set(e){var t;e===this.current&&!this.dirty||(Ct(t=this.gl)?t.bindVertexArray(e):null!=(t=t.getExtension("OES_vertex_array_object"))&&t.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class nr extends kt{getDefault(){return 4}set(e){var t;e===this.current&&!this.dirty||((t=this.gl).pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1)}}class ir extends kt{getDefault(){return!1}set(e){var t;e===this.current&&!this.dirty||((t=this.gl).pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1)}}class or extends kt{getDefault(){return!1}set(e){var t;e===this.current&&!this.dirty||((t=this.gl).pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1)}}class ar extends kt{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class sr extends ar{setDirty(){this.dirty=!0}set(e){var t;e===this.current&&!this.dirty||(this.context.bindFramebuffer.set(this.parent),(t=this.gl).framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1)}}class lr extends ar{set(e){var t;e===this.current&&!this.dirty||(this.context.bindFramebuffer.set(this.parent),(t=this.gl).framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1)}}class cr extends ar{set(e){var t;e===this.current&&!this.dirty||(this.context.bindFramebuffer.set(this.parent),(t=this.gl).framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1)}}class ur{constructor(e,t,r,n,i){if(this.context=e,this.width=t,this.height=r,t=e.gl,r=this.framebuffer=t.createFramebuffer(),this.colorAttachment=new sr(e,r),n)this.depthAttachment=new(i?cr:lr)(e,r);else if(i)throw new Error("Stencil cannot be setted without depth");if(t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t),this.depthAttachment&&(t=this.depthAttachment.get())&&e.deleteRenderbuffer(t),e.deleteFramebuffer(this.framebuffer)}}class dr{constructor(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r}}dr.Replace=[1,0],dr.disabled=new dr(dr.Replace,e.Color.transparent,[!1,!1,!1,!1]),dr.unblended=new dr(dr.Replace,e.Color.transparent,[!0,!0,!0,!0]),dr.alphaBlended=new dr([1,771],e.Color.transparent,[!0,!0,!0,!0]);class hr{constructor(e){var t,r;this.gl=e,this.clearColor=new Lt(this),this.clearDepth=new Nt(this),this.clearStencil=new Zt(this),this.colorMask=new Et(this),this.depthMask=new zt(this),this.stencilMask=new Gt(this),this.stencilFunc=new Pt(this),this.stencilOp=new At(this),this.stencilTest=new Rt(this),this.depthRange=new Dt(this),this.depthTest=new Xt(this),this.depthFunc=new Ot(this),this.blend=new Wt(this),this.blendFunc=new jt(this),this.blendColor=new Yt(this),this.blendEquation=new Ft(this),this.cullFace=new Vt(this),this.cullFaceSide=new Ht(this),this.frontFace=new Ut(this),this.program=new Bt(this),this.activeTexture=new Kt(this),this.viewport=new Jt(this),this.bindFramebuffer=new Qt(this),this.bindRenderbuffer=new qt(this),this.bindTexture=new $t(this),this.bindVertexBuffer=new er(this),this.bindElementBuffer=new tr(this),this.bindVertexArray=new rr(this),this.pixelStoreUnpack=new nr(this),this.pixelStoreUnpackPremultiplyAlpha=new ir(this),this.pixelStoreUnpackFlipY=new or(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),Ct(e)?(this.HALF_FLOAT=e.HALF_FLOAT,t=e.getExtension("EXT_color_buffer_half_float"),this.RGBA16F=null!=(r=e.RGBA16F)?r:null==t?void 0:t.RGBA16F_EXT,this.RGB16F=null!=(r=e.RGB16F)?r:null==t?void 0:t.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")):(e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear"),r=e.getExtension("OES_texture_half_float"),this.HALF_FLOAT=null==r?void 0:r.HALF_FLOAT_OES)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new wt(this,e,t)}createVertexBuffer(e,t,r){return new Tt(this,e,t,r)}createRenderbuffer(e,t,r){var n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,r,n){return new ur(this,e,t,r,n)}clear({color:e,depth:t,stencil:r}){var n=this.gl;let i=0;e&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==r&&(i|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),n.clear(i)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(t){e.deepEqual(t.blendFunction,dr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}createVertexArray(){var e;return Ct(this.gl)?this.gl.createVertexArray():null==(e=this.gl.getExtension("OES_vertex_array_object"))?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var t;return Ct(this.gl)?this.gl.deleteVertexArray(e):null==(t=this.gl.getExtension("OES_vertex_array_object"))?void 0:t.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}class pr{constructor(e,t,r){this.func=e,this.mask=t,this.range=r}}pr.ReadOnly=!1,pr.ReadWrite=!0,pr.disabled=new pr(519,pr.ReadOnly,[0,1]);class mr{constructor(e,t,r,n,i,o){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=o}}mr.disabled=new mr({func:519,mask:0},0,0,7680,7680,7680);class yr{constructor(e,t,r){this.enable=e,this.mode=t,this.frontFace=r}}let fr;function gr(t,r,n,i,o,a,s){var l=t.context,c=l.gl,u=t.useProgram("collisionBox"),d=[];let h=0,p=0;for(let x=0;x<i.length;x++){var m=i[x],y=r.getTile(m),f=y.getBucket(n);if(f){let r=m.posMatrix;0===o[0]&&0===o[1]||(r=t.translatePosMatrix(m.posMatrix,y,o,a));var g,b,v=s?f.textCollisionBox:f.iconCollisionBox,M=f.collisionCircleArray;0<M.length&&(g=e.create(),b=r,e.mul(g,f.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(g,g,f.placementViewportMatrix),d.push({circleArray:M,circleOffset:p,transform:b,invTransform:g,coord:m}),h+=M.length/4,p=h),v&&u.draw(l,c.LINES,pr.disabled,mr.disabled,t.colorModeForRenderPass(),yr.disabled,lt(r,t.transform,y),t.style.map.terrain&&t.style.map.terrain.getTerrainData(m),n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,null,t.transform.zoom,null,null,v.collisionVertexBuffer)}}if(s&&d.length){var x=t.useProgram("collisionCircle"),S=new e.CollisionCircleLayoutArray;S.resize(4*h),S._trim();let r=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){var w=4*t,_=e.circleArray[0+w],T=e.circleArray[1+w],I=e.circleArray[2+w];w=e.circleArray[3+w],S.emplace(r++,_,T,I,w,0),S.emplace(r++,_,T,I,w,1),S.emplace(r++,_,T,I,w,2),S.emplace(r++,_,T,I,w,3)}(!fr||fr.length<2*h)&&(fr=function(t){var r=2*t,n=new e.QuadTriangleArray;n.resize(r),n._trim();for(let e=0;e<r;e++){var i=6*e;n.uint16[0+i]=4*e+0,n.uint16[1+i]=4*e+1,n.uint16[2+i]=4*e+2,n.uint16[3+i]=4*e+2,n.uint16[4+i]=4*e+3,n.uint16[5+i]=4*e+0}return n}(h));var C=l.createIndexBuffer(fr,!0),k=l.createVertexBuffer(S,e.collisionCircleLayout.members,!0);for(const r of d){var L=ct(r.transform,r.invTransform,t.transform);x.draw(l,c.TRIANGLES,pr.disabled,mr.disabled,t.colorModeForRenderPass(),yr.disabled,L,t.style.map.terrain&&t.style.map.terrain.getTerrainData(r.coord),n.id,k,C,e.SegmentVector.simpleSegment(0,2*r.circleOffset,r.circleArray.length,r.circleArray.length/2),null,t.transform.zoom,null,null,null)}k.destroy(),C.destroy()}}yr.disabled=new yr(!1,1029,2305),yr.backCCW=new yr(!0,1029,2305);const br=e.identity(new Float32Array(16));function vr(t,r,n,i,o,a,s,l,c,u,d,h){var p=t.context,m=p.gl,y=t.transform,f="map"===l,g="map"===c,b="viewport"!==l&&"point"!==n.layout.get("symbol-placement"),v=f&&!g&&!b,M=!n.layout.get("symbol-sort-key").isConstant();let x=!1;var S=t.depthModeForSublayer(0,pr.ReadOnly),w=n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset"),_=[];for(const l of i){var T=r.getTile(l),I=T.getBucket(n);if(I){var C=o?I.text:I.icon;if(C&&C.segments.get().length&&C.hasVisibleVertices){var k=C.programConfigurations.get(n.id),L=o||I.sdfIcons,N=o?I.textSizeData:I.iconSizeData,Z=g||0!==y.pitch,E=t.useProgram((z=L,E=o,I.iconsInText&&E?"symbolTextAndIcon":z?"symbolSDF":"symbolIcon"),k),z=e.evaluateSizeForZoom(N,y.zoom),G=t.style.map.terrain&&t.style.map.terrain.getTerrainData(l);let r,i,c,d,h=[0,0],p=null;o?(i=T.glyphAtlasTexture,c=m.LINEAR,r=T.glyphAtlasTexture.size,I.iconsInText&&(h=T.imageAtlasTexture.size,p=T.imageAtlasTexture,k="composite"===N.kind||"camera"===N.kind,d=Z||t.options.rotating||t.options.zooming||k?m.LINEAR:m.NEAREST)):(k=1!==n.layout.get("icon-size").constantOr(0)||I.iconsNeedLinear,i=T.imageAtlasTexture,c=L||t.options.rotating||t.options.zooming||k||Z?m.LINEAR:m.NEAREST,r=T.imageAtlasTexture.size),k=fe(T,1,t.transform.zoom),Z=te(l.posMatrix,g,f,t.transform,k),k=re(l.posMatrix,g,f,t.transform,k);var P=w&&I.hasTextData();if(P="none"!==n.layout.get("icon-text-fit")&&P&&I.hasIconData(),b){var A=t.style.map.terrain?(e,r)=>t.style.map.terrain.getElevation(l,e,r):null,R="map"===n.layout.get("text-rotation-alignment");{W=void 0,U=void 0,Q=void 0,$=void 0,de=void 0,ae=void 0,le=void 0,oe=void 0,ce=void 0,ue=void 0;var D=I,X=l.posMatrix,O=t,W=o,j=Z,Y=k,F=g,V=u,H=R,U=A,B=W?D.textSizeData:D.iconSizeData,K=e.evaluateSizeForZoom(B,O.transform.zoom),J=[256/O.width*2+1,256/O.height*2+1],Q=(W?D.text:D.icon).dynamicLayoutVertexArray,q=(Q.clear(),D.lineVertexArray),$=(W?D.text:D.icon).placedSymbolArray,ee=O.transform.width/O.transform.height;let r=!1;for(let t=0;t<$.length;t++){var oe,ae,le,ce,ue,de=$.get(t);if(de.hidden||de.writingMode===e.WritingMode.vertical&&!r)pe(de.numGlyphs,Q);else{let t;r=!1,U?(t=[de.anchorX,de.anchorY,U(de.anchorX,de.anchorY),1],e.transformMat4(t,t,X)):me(t=[de.anchorX,de.anchorY,0,1],t,X),ae=J,oe=void 0,oe=(le=t)[0]/le[3],le=le[1]/le[3],(!(oe>=-ae[0]&&oe<=ae[0]&&le>=-ae[1]&&le<=ae[1])||(oe=t[3],le=ie(O.transform.cameraToCenterDistance,oe),ae=e.evaluateSizeForFeature(B,K,de),oe=F?ae/le:ae*le,le=ne(ae=new e.Point(de.anchorX,de.anchorY),j,U).point,r=(ue=se(de,oe,!(ce={projections:{},offsets:{}}),V,X,j,Y,D.glyphOffsetArray,q,Q,le,ae,ce,ee,H,U)).useVertical,ue.notEnoughRoom)||r||ue.needsFlipping&&se(de,oe,!0,V,X,j,Y,D.glyphOffsetArray,q,Q,le,ae,ce,ee,H,U).notEnoughRoom)&&pe(de.numGlyphs,Q)}}(W?D.text:D.icon).dynamicLayoutVertexBuffer.updateData(Q)}}let S;R=t.translatePosMatrix(l.posMatrix,T,a,s),A=b||o&&w||P?br:Z,W=t.translatePosMatrix(k,T,a,s,!0),P=L&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);var he={program:E,buffers:C,uniformValues:S=L?I.iconsInText?Mt(N.kind,z,v,g,t,R,A,W,r,h):vt(N.kind,z,v,g,t,R,A,W,o,r,!0):bt(N.kind,z,v,g,t,R,A,W,o,r),atlasTexture:i,atlasTextureIcon:p,atlasInterpolation:c,atlasInterpolationIcon:d,isSDF:L,hasHalo:P};if(M&&I.canOverlap){x=!0;for(const t of C.segments.get())_.push({segments:new e.SegmentVector([t]),sortKey:t.sortKey,state:he,terrainData:G})}else _.push({segments:C.segments,sortKey:0,state:he,terrainData:G})}}}x&&_.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of _){var ye,ge=e.state;p.activeTexture.set(m.TEXTURE0),ge.atlasTexture.bind(ge.atlasInterpolation,m.CLAMP_TO_EDGE),ge.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),ge.atlasTextureIcon)&&ge.atlasTextureIcon.bind(ge.atlasInterpolationIcon,m.CLAMP_TO_EDGE),ge.isSDF&&(ye=ge.uniformValues,ge.hasHalo&&(ye.u_is_halo=1,Mr(ge.buffers,e.segments,n,t,ge.program,S,d,h,ye,e.terrainData)),ye.u_is_halo=0),Mr(ge.buffers,e.segments,n,t,ge.program,S,d,h,ge.uniformValues,e.terrainData)}}function Mr(e,t,r,n,i,o,a,s,l,c){var u=n.context,d=u.gl;i.draw(u,d.TRIANGLES,o,a,s,yr.disabled,l,c,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function xr(e,t,r,n,i){if(r&&n&&n.imageAtlas){let o=(n=n.imageAtlas.patternPositions)[r.to.toString()],a=n[r.from.toString()];o&&a||(o=n[r=i.getPaintProperty(t)],a=n[r]),o&&a&&e.setConstantPatternPositions(o,a)}}function Sr(e,t,r,n,i,o,a){var s=e.context.gl,l="fill-pattern",c=r.paint.get(l),u=c&&c.constantOr(1),d=r.getCrossfadeParameters();let h,p,m,y,f;h=a?(p=u&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s.LINES):(p=u?"fillPattern":"fill",s.TRIANGLES);var g=c.constantOr(null);for(const c of n){var b,v,M,x,S,w,_=t.getTile(c);u&&!_.patternsLoaded()||(b=_.getBucket(r))&&(v=b.programConfigurations.get(r.id),M=e.useProgram(p,v),x=e.style.map.terrain&&e.style.map.terrain.getTerrainData(c),u&&(e.context.activeTexture.set(s.TEXTURE0),_.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),v.updatePaintBuffers(d)),xr(v,l,g,_,r),S=((x?c:null)||c).posMatrix,S=e.translatePosMatrix(S,_,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor")),m=a?(y=b.indexBuffer2,f=b.segments2,w=[s.drawingBufferWidth,s.drawingBufferHeight],"fillOutlinePattern"===p&&u?st(S,e,d,_,w):at(S,w)):(y=b.indexBuffer,f=b.segments,u?ot(S,e,d,_):it(S)),M.draw(e.context,h,i,e.stencilModeForClipping(c),o,yr.disabled,m,x,r.id,b.layoutVertexBuffer,y,f,r.paint,e.transform.zoom,v))}}function wr(e,t,r,n,i,o,a){var s=e.context,l=s.gl,c="fill-extrusion-pattern",u=r.paint.get(c),d=u.constantOr(1),h=r.getCrossfadeParameters(),p=r.paint.get("fill-extrusion-opacity"),m=u.constantOr(null);for(const u of n){var y,f,g,b,v,M=t.getTile(u),x=M.getBucket(r);x&&(y=e.style.map.terrain&&e.style.map.terrain.getTerrainData(u),f=x.programConfigurations.get(r.id),g=e.useProgram(d?"fillExtrusionPattern":"fillExtrusion",f),d&&(e.context.activeTexture.set(l.TEXTURE0),M.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),f.updatePaintBuffers(h)),xr(f,c,m,M,r),b=e.translatePosMatrix(u.posMatrix,M,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),v=r.paint.get("fill-extrusion-vertical-gradient"),M=d?nt(b,e,v,p,u,h,M):rt(b,e,v,p),g.draw(s,s.gl.TRIANGLES,i,o,a,yr.backCCW,M,y,r.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,r.paint,e.transform.zoom,f,e.style.map.terrain&&x.centroidVertexBuffer))}}const _r=new e.Color(1,0,0,1),Tr=new e.Color(0,1,0,1),Ir=new e.Color(0,0,1,1),Cr=new e.Color(1,0,1,1),kr=new e.Color(0,1,1,1);function Lr(e,t,r,n){Zr(e,0,t+r/2,e.transform.width,r,n)}function Nr(e,t,r,n){Zr(e,t-r/2,0,r,e.transform.height,n)}function Zr(e,t,r,n,i,o){var a=e.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,r*e.pixelRatio,n*e.pixelRatio,i*e.pixelRatio),a.clear({color:o}),s.disable(s.SCISSOR_TEST)}function Er(e,t,r){var n=e.context,i=n.gl,o=e.colorModeForRenderPass(),a=new pr(i.LEQUAL,pr.ReadWrite,e.depthRangeFor3D),s=e.useProgram("terrain"),l=t.getTerrainMesh();n.bindFramebuffer.set(null),n.viewport.set([0,0,e.width,e.height]);for(const d of r){var c=e.renderToTexture.getTexture(d),u=t.getTerrainData(d.tileID);c={u_matrix:(n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,c.texture),c=e.transform.calculatePosMatrix(d.tileID.toUnwrapped())),u_texture:0,u_ele_delta:t.getMeshFrameDelta(e.transform.zoom)},s.draw(n,i.TRIANGLES,a,mr.disabled,o,yr.backCCW,c,u,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}}class zr{constructor(t,r){this.context=new hr(t),this.transform=r,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:e.create(),renderTime:0},this.setup(),this.numSublayers=V.maxUnderzooming+V.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new je}resize(e,t,r){if(this.width=Math.floor(e*r),this.height=Math.floor(t*r),this.pixelRatio=r,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style._order)this.style._layers[e].resize()}setup(){var t,r=this.context;((((((t=new e.PosArray).emplaceBack(0,0),t.emplaceBack(e.EXTENT,0),t.emplaceBack(0,e.EXTENT),t.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=r.createVertexBuffer(t,Be.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2),t=new e.PosArray).emplaceBack(0,0),t.emplaceBack(e.EXTENT,0),t.emplaceBack(0,e.EXTENT),t.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=r.createVertexBuffer(t,Be.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5),t=new e.RasterBoundsArray).emplaceBack(0,0,0,0),t.emplaceBack(e.EXTENT,0,e.EXTENT,0),t.emplaceBack(0,e.EXTENT,0,e.EXTENT),t.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=r.createVertexBuffer(t,G.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2),t=new e.PosArray).emplaceBack(0,0),t.emplaceBack(1,0),t.emplaceBack(0,1),t.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(t,Be.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2),t=new e.LineStripIndexArray).emplaceBack(0),t.emplaceBack(1),t.emplaceBack(3),t.emplaceBack(2),t.emplaceBack(0),this.tileBorderIndexBuffer=r.createIndexBuffer(t),t=new e.TriangleIndexArray).emplaceBack(0,1,2),t.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(t),r=this.context.gl,this.stencilClearMode=new mr({func:r.ALWAYS,mask:0},0,255,r.ZERO,r.ZERO,r.ZERO)}clearStencil(){var t=this.context,r=t.gl,n=(this.nextStencilID=1,this.currentStencilSource=void 0,e.create());e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,pr.disabled,this.stencilClearMode,dr.disabled,yr.disabled,dt(n),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var r=this.context,n=r.gl,i=(256<this.nextStencilID+t.length&&this.clearStencil(),r.setColorMode(dr.disabled),r.setDepthMode(pr.disabled),this.useProgram("clippingMask"));this._tileClippingMaskIDs={};for(const e of t){var o=this._tileClippingMaskIDs[e.key]=this.nextStencilID++,a=this.style.map.terrain&&this.style.map.terrain.getTerrainData(e);i.draw(r,n.TRIANGLES,pr.disabled,new mr({func:n.ALWAYS,mask:0},o,255,n.KEEP,n.KEEP,n.REPLACE),dr.disabled,yr.disabled,dt(e.posMatrix),a,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}}stencilModeFor3D(){this.currentStencilSource=void 0,256<this.nextStencilID+1&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new mr({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){var t=this.context.gl;return new mr({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){var t=this.context.gl,r=(e=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),e[e.length-1].overscaledZ),n=e[0].overscaledZ-r+1;if(1<n){this.currentStencilSource=void 0,256<this.nextStencilID+n&&this.clearStencil();var i={};for(let e=0;e<n;e++)i[e+r]=new mr({func:t.GEQUAL,mask:255},e+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=n,[i,e]}return[{[r]:mr.disabled},e]}colorModeForRenderPass(){var t=this.context.gl;return this._showOverdrawInspector?new dr([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?dr.unblended:dr.alphaBlended}depthModeForSublayer(e,t,r){return this.opaquePassEnabledForLayer()?(e=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,new pr(r||this.context.gl.LEQUAL,t,[e,e])):pr.disabled}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,r){this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var n,i=this.style._order,o=this.style.sourceCaches,a={},s={},l={};for(const e in o){var c=o[e];c.used&&c.prepare(this.context),a[e]=c.getVisibleCoordinates(),s[e]=a[e].slice().reverse(),l[e]=c.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<i.length;e++){var u=i[e];if(this.style._layers[u].is3D()){this.opaquePassCutoff=e;break}}this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0,n=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime),!this.terrainFacilitator.dirty&&e.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)&&!n.length||(e.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(t,r){var n=t.context,i=n.gl,o=dr.unblended,a=new pr(i.LEQUAL,pr.ReadWrite,[0,1]),s=r.getTerrainMesh(),l=r.sourceCache.getRenderableTiles(),c=t.useProgram("terrainDepth");n.bindFramebuffer.set(r.getFramebuffer("depth").framebuffer),n.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),n.clear({color:e.Color.transparent,depth:1});for(const e of l){var u=r.getTerrainData(e.tileID),d={u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped()),u_ele_delta:r.getMeshFrameDelta(t.transform.zoom)};c.draw(n,i.TRIANGLES,a,mr.disabled,o,yr.backCCW,d,u,"terrain",s.vertexBuffer,s.indexBuffer,s.segments)}n.bindFramebuffer.set(null),n.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain),function(t,r){var n=t.context,i=n.gl,o=dr.unblended,a=new pr(i.LEQUAL,pr.ReadWrite,[0,1]),s=r.getTerrainMesh(),l=r.getCoordsTexture(),c=r.sourceCache.getRenderableTiles(),u=t.useProgram("terrainCoords");n.bindFramebuffer.set(r.getFramebuffer("coords").framebuffer),n.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),n.clear({color:e.Color.transparent,depth:1}),r.coordsIndex=[];for(const e of c){var d=r.getTerrainData(e.tileID),h={u_matrix:(n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture),h=t.transform.calculatePosMatrix(e.tileID.toUnwrapped())),u_terrain_coords_id:(255-r.coordsIndex.length)/255,u_texture:0,u_ele_delta:r.getMeshFrameDelta(t.transform.zoom)};u.draw(n,i.TRIANGLES,a,mr.disabled,o,yr.backCCW,h,d,"terrain",s.vertexBuffer,s.indexBuffer,s.segments),r.coordsIndex.push(e.tileID.key)}n.bindFramebuffer.set(null),n.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain))),this.renderPass="offscreen";for(const e of i){var d,h=this.style._layers[e];h.hasOffscreenPass()&&!h.isHidden(this.transform.zoom)&&(d=s[h.source],"custom"===h.type||d.length)&&this.renderLayer(this,o[h.source],h,d)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=i.length-1;0<=this.currentLayer;this.currentLayer--){var p=this.style._layers[i[this.currentLayer]],m=o[p.source],y=a[p.source];this._renderTileClippingMasks(p,y),this.renderLayer(this,m,p,y)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var f,g=this.style._layers[i[this.currentLayer]],b=o[g.source];this.renderToTexture&&this.renderToTexture.renderLayer(g)||(f=("symbol"===g.type?l:s)[g.source],this._renderTileClippingMasks(g,a[g.source]),this.renderLayer(this,b,g,f))}this.options.showTileBoundaries&&(n=function(e,t){let r=null;var n=(i=Object.values(e._layers).flatMap((r=>r.source&&!r.isHidden(t)?[e.sourceCaches[r.source]]:[]))).filter((e=>"vector"===e.getSource().type)),i=i.filter((e=>"vector"!==e.getSource().type));const o=e=>{(!r||r.getSource().maxzoom<e.getSource().maxzoom)&&(r=e)};return n.forEach((e=>o(e))),r||i.forEach((e=>o(e))),r}(this.style,this.transform.zoom))&&function(t,r,n){for(let f=0;f<n.length;f++){i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,y=void 0;var i=t,o=r,a=n[f],s=i.context,l=s.gl,c=a.posMatrix,u=i.useProgram("debug"),d=pr.disabled,h=mr.disabled,p=i.colorModeForRenderPass(),m=i.style.map.terrain&&i.style.map.terrain.getTerrainData(a),y=(s.activeTexture.set(l.TEXTURE0),(y=o.getTileByID(a.key).latestRawTileData)&&y.byteLength||0);y=Math.floor(y/1024),o=o.getTile(a).tileSize,o=512/Math.min(o,512)*(a.overscaledZ/i.transform.zoom)*.5;let g=a.canonical.toString();a.overscaledZ!==a.canonical.z&&(g+=" => "+a.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(i,a=g+` ${y}kB`),u.draw(s,l.TRIANGLES,d,h,dr.alphaBlended,yr.disabled,ut(c,e.Color.transparent,o),null,"$debug",i.debugBuffer,i.quadTriangleIndexBuffer,i.debugSegments),u.draw(s,l.LINE_STRIP,d,h,p,yr.disabled,ut(c,e.Color.red),m,"$debug",i.debugBuffer,i.tileBorderIndexBuffer,i.debugSegments)}}(this,n,n.getVisibleCoordinates()),this.options.showPadding&&function(e){var t,r,n=e.transform.padding;Zr(t=e,(r=(Lr(e,e.transform.height-(n.top||0),3,_r),Lr(e,n.bottom||0,3,Tr),Nr(e,n.left||0,3,Ir),Nr(e,e.transform.width-(n.right||0),3,Cr),n=e.transform.centerPoint).x)-1,(e=e.transform.height-n.y)-10,2,20,n=kr),Zr(t,r-10,e-1,20,2,n)}(this),this.context.setDefault()}renderLayer(t,r,n,i){if(!n.isHidden(this.transform.zoom)&&("background"===n.type||"custom"===n.type||(i||[]).length))switch(this.id=n.id,n.type){case"symbol":!function(t,r,n,i,o){if("translucent"===t.renderPass){var a=mr.disabled,s=t.colorModeForRenderPass();if(n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset")){var l=i,c=t,u=n,d=r,h=n.layout.get("text-rotation-alignment"),p=n.layout.get("text-pitch-alignment"),m=o,y=c.transform,f="map"===h,g="map"===p;for(const t of l){var b,v,M,x,S=d.getTile(t),w=S.getBucket(u);w&&w.text&&w.text.segments.get().length&&(b=w.textSizeData,b=e.evaluateSizeForZoom(b,y.zoom),v=fe(S,1,c.transform.zoom),v=te(t.posMatrix,g,f,c.transform,v),M="none"!==u.layout.get("icon-text-fit")&&w.hasIconData(),b)&&(S=Math.pow(2,y.zoom-S.tileID.overscaledZ),x=c.style.map.terrain?(e,r)=>c.style.map.terrain.getElevation(t,e,r):null,function(t,r,n,i,o,a,s,l,c,u,d){var h=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,m=t.icon.dynamicLayoutVertexArray,y={};p.clear();for(let m=0;m<h.length;m++){var f=h.get(m),g=t.allowVerticalPlacement&&!f.placedOrientation;if(g=f.hidden||!f.crossTileID||g?null:i[f.crossTileID]){var b=new e.Point(f.anchorX,f.anchorY),v=ne(b,n?s:a,d),M=ie(o.cameraToCenterDistance,v.signedDistanceFromCamera);let i=e.evaluateSizeForFeature(t.textSizeData,c,f)*M/e.ONE_EM;n&&(i*=t.tilePixelRatio/l);var{width:M,height:g,anchor:x,textOffset:S,textBoxScale:w}=g,x=function(t,r,n,i,o,a){var{horizontalAlign:t,verticalAlign:s}=e.getAnchorAlignment(t);return t=-(t-.5)*r,r=-(s-.5)*n,new e.Point((t/o+i[0])*a,(r/o+i[1])*a)}(x,M,g,S,w,i),_=n?ne(b.add(x),a,d).point:v.point.add(r?x.rotate(-o.angle):x),T=t.allowVerticalPlacement&&f.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<f.numGlyphs;t++)e.addDynamicAttributes(p,_,T);u&&0<=f.associatedIconIndex&&(y[f.associatedIconIndex]={shiftedAnchor:_,angle:T})}else pe(f.numGlyphs,p)}if(u){m.clear();var I=t.icon.placedSymbolArray;for(let t=0;t<I.length;t++){var C=I.get(t);if(C.hidden)pe(C.numGlyphs,m);else{var k=y[t];if(k)for(let t=0;t<C.numGlyphs;t++)e.addDynamicAttributes(m,k.shiftedAnchor,k.angle);else pe(C.numGlyphs,m)}}t.icon.dynamicLayoutVertexBuffer.updateData(m)}t.text.dynamicLayoutVertexBuffer.updateData(p)}(w,f,g,m,y,v,t.posMatrix,S,b,M,x))}}0!==n.paint.get("icon-opacity").constantOr(1)&&vr(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&vr(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),r.map.showCollisionBoxes&&(gr(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),gr(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}}(t,r,n,i,this.style.placement.variableOffsets);break;case"circle":!function(t,r,n,i){if("translucent"===t.renderPass){var o=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=!n.layout.get("circle-sort-key").isConstant();if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){var c=t.context,u=c.gl,d=t.depthModeForSublayer(0,pr.ReadOnly),h=mr.disabled,p=t.colorModeForRenderPass(),m=[];for(let o=0;o<i.length;o++){var y=i[o],f=r.getTile(y),g=f.getBucket(n);if(g){var b=g.programConfigurations.get(n.id),v=t.useProgram("circle",b),M=g.layoutVertexBuffer,x=g.indexBuffer,S=t.style.map.terrain&&t.style.map.terrain.getTerrainData(y),w={programConfiguration:b,program:v,layoutVertexBuffer:M,indexBuffer:x,uniformValues:((e,t,r,n)=>{var i,o=e.transform;let a,s;return s="map"===n.paint.get("circle-pitch-alignment")?(a=!0,[i=fe(r,1,o.zoom),i]):(a=!1,o.pixelsToGLUnits),{u_camera_to_center_distance:o.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,r,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:s}})(t,y,f,n),terrainData:S};if(l)for(const t of g.segments.get())m.push({segments:new e.SegmentVector([t]),sortKey:t.sortKey,state:w});else m.push({segments:g.segments,sortKey:0,state:w})}}l&&m.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of m){var{programConfiguration:_,program:T,layoutVertexBuffer:I,indexBuffer:C,uniformValues:k,terrainData:L}=e.state,N=e.segments;T.draw(c,u.TRIANGLES,d,h,p,yr.disabled,k,L,n.id,I,C,N,n.paint,t.transform.zoom,_)}}}}(t,r,n,i);break;case"heatmap":!function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=mr.disabled,l=new dr([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);{var c=t,u=n,d=(v=o).gl;v.activeTexture.set(d.TEXTURE1),v.viewport.set([0,0,c.width/4,c.height/4]);let e=u.heatmapFbo;e?(d.bindTexture(d.TEXTURE_2D,e.colorAttachment.get()),v.bindFramebuffer.set(e.framebuffer)):(M=d.createTexture(),d.bindTexture(d.TEXTURE_2D,M),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),e=u.heatmapFbo=v.createFramebuffer(c.width/4,c.height/4,!1,!1),function(e,t,r,n){var i=e.gl,o=null!=(o=e.HALF_FLOAT)?o:i.UNSIGNED_BYTE;e=null!=(e=e.RGBA16F)?e:i.RGBA,i.texImage2D(i.TEXTURE_2D,0,e,t.width/4,t.height/4,0,i.RGBA,o,null),n.colorAttachment.set(r)}(v,c,M,e))}o.clear({color:e.Color.transparent});for(let e=0;e<i.length;e++){var h,p,m,y,g,b=i[e];r.hasRenderableParent(b)||(p=(h=r.getTile(b)).getBucket(n))&&(m=p.programConfigurations.get(n.id),y=t.useProgram("heatmap",m),g=t.transform.zoom,y.draw(o,a.TRIANGLES,pr.disabled,s,l,yr.disabled,(y=b.posMatrix,b=h,h=g,g=n.paint.get("heatmap-intensity"),{u_matrix:y,u_extrude_scale:fe(b,1,h),u_intensity:g}),null,n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,n.paint,t.transform.zoom,m))}o.viewport.set([0,0,t.width,t.height])}else if("translucent"===t.renderPass){t.context.setColorMode(t.colorModeForRenderPass()),u=n,c=(v=(d=t).context).gl;var v,M=u.heatmapFbo;if(M){v.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,M.colorAttachment.get()),v.activeTexture.set(c.TEXTURE1);let t=u.colorRampTexture;(t=t||(u.colorRampTexture=new f(v,u.colorRamp,c.RGBA))).bind(c.LINEAR,c.CLAMP_TO_EDGE),d.useProgram("heatmapTexture").draw(v,c.TRIANGLES,pr.disabled,mr.disabled,d.colorModeForRenderPass(),yr.disabled,((t,r)=>{var n=e.create();return{u_matrix:n,u_world:[(e.ortho(n,0,t.width,t.height,0,0,1),t=t.context.gl).drawingBufferWidth,t.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:r.paint.get("heatmap-opacity")}})(d,u),null,u.id,d.viewportBuffer,d.quadTriangleIndexBuffer,d.viewportSegments,u.paint,d.transform.zoom)}}}(t,r,n,i);break;case"line":!function(t,r,n,i){if("translucent"===t.renderPass){var o=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s,l,c,u,d,h,p,m,y,g,b=t.depthModeForSublayer(0,pr.ReadOnly),v=t.colorModeForRenderPass(),M=n.paint.get("line-dasharray"),x=n.paint.get("line-pattern"),S=x.constantOr(1),w=n.paint.get("line-gradient"),_=n.getCrossfadeParameters(),T=S?"linePattern":M?"lineSDF":w?"lineGradient":"line",I=t.context,C=I.gl;let o=!0;for(const a of i){var k=r.getTile(a);if(!S||k.patternsLoaded()){var L=k.getBucket(n);if(L){var N,Z,E=L.programConfigurations.get(n.id),z=t.context.program.get(),G=t.useProgram(T,E),P=(z=o||G.program!==z,t.style.map.terrain&&t.style.map.terrain.getTerrainData(a)),A=((A=x.constantOr(null))&&k.imageAtlas&&(N=(Z=k.imageAtlas).patternPositions[A.to.toString()],Z=Z.patternPositions[A.from.toString()],N)&&Z&&E.setConstantPatternPositions(N,Z),P?a:null),R=S?(Z=n,p=_,m=A,g=y=void 0,g=yt(N=k,y=(h=t).transform),{u_matrix:ft(h,N,Z,m),u_texsize:N.imageAtlasTexture.size,u_ratio:1/fe(N,1,y.zoom),u_device_pixel_ratio:h.pixelRatio,u_image:0,u_scale:[g,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}):M?(m=k,h=n,g=M,p=_,y=A,d=u=R=u=l=c=l=void 0,l=(s=t).transform,c=s.lineAtlas,l=yt(m,l),u="round"===h.layout.get("line-cap"),R=c.getDash(g.from,u),g=c.getDash(g.to,u),u=R.width*p.fromScale,d=g.width*p.toScale,e.extend(mt(s,m,h,y),{u_patternscale_a:[l/u,-R.height/2],u_patternscale_b:[l/d,-g.height/2],u_sdfgamma:c.width/(256*Math.min(u,d)*s.pixelRatio)/2,u_image:0,u_tex_y_a:R.y,u_tex_y_b:g.y,u_mix:p.t})):w?(l=t,c=k,u=n,d=L.lineClipsArray.length,s=A,e.extend(mt(l,c,u,s),{u_image:0,u_image_height:d})):mt(t,k,n,A);if(S)I.activeTexture.set(C.TEXTURE0),k.imageAtlasTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE),E.updatePaintBuffers(_);else if(M&&(z||t.lineAtlas.dirty))I.activeTexture.set(C.TEXTURE0),t.lineAtlas.bind(I);else if(w){let i=(A=L.gradients[n.id]).texture;if(n.gradientVersion!==A.version){let o=256;n.stepInterpolant&&(k=r.getSource().maxzoom,z=a.canonical.z===k?Math.ceil(1<<t.transform.maxZoom-a.canonical.z):1,k=L.maxLineLength/e.EXTENT,o=e.clamp(e.nextPowerOfTwo(1024*k*z),256,I.maxTextureSize)),A.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:o,image:A.gradient||void 0,clips:L.lineClipsArray}),A.texture?A.texture.update(A.gradient):A.texture=new f(I,A.gradient,C.RGBA),A.version=n.gradientVersion,i=A.texture}I.activeTexture.set(C.TEXTURE0),i.bind(n.stepInterpolant?C.NEAREST:C.LINEAR,C.CLAMP_TO_EDGE)}G.draw(I,C.TRIANGLES,b,t.stencilModeForClipping(a),v,yr.disabled,R,P,n.id,L.layoutVertexBuffer,L.indexBuffer,L.segments,n.paint,t.transform.zoom,E,L.layoutVertexBuffer2),o=!1}}}}}}(t,r,n,i);break;case"fill":!function(t,r,n,i){var o,a,s=n.paint.get("fill-color"),l=n.paint.get("fill-opacity");0!==l.constantOr(1)&&(o=t.colorModeForRenderPass(),a=n.paint.get("fill-pattern"),a=t.opaquePassEnabledForLayer()&&!a.constantOr(1)&&1===s.constantOr(e.Color.transparent).a&&1===l.constantOr(0)?"opaque":"translucent",t.renderPass===a&&(s=t.depthModeForSublayer(1,"opaque"===t.renderPass?pr.ReadWrite:pr.ReadOnly),Sr(t,r,n,i,s,o,!1)),"translucent"===t.renderPass)&&n.paint.get("fill-antialias")&&(l=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,pr.ReadOnly),Sr(t,r,n,i,l,o,!0))}(t,r,n,i);break;case"fill-extrusion":!function(e,t,r,n){var i,o=r.paint.get("fill-extrusion-opacity");0!==o&&"translucent"===e.renderPass&&(i=new pr(e.context.gl.LEQUAL,pr.ReadWrite,e.depthRangeFor3D),1!==o||r.paint.get("fill-extrusion-pattern").constantOr(1)?(wr(e,t,r,n,i,mr.disabled,dr.disabled),wr(e,t,r,n,i,e.stencilModeFor3D(),e.colorModeForRenderPass())):(o=e.colorModeForRenderPass(),wr(e,t,r,n,i,mr.disabled,o)))}(t,r,n,i);break;case"hillshade":!function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){var i=e.context,o=e.depthModeForSublayer(0,pr.ReadOnly),a=e.colorModeForRenderPass(),[s,n]="translucent"===e.renderPass?e.stencilConfigForOverlap(n):[{},n];for(const i of n){var l=t.getTile(i);if(void 0!==l.needsHillshadePrepare&&l.needsHillshadePrepare&&"offscreen"===e.renderPass){x=M=v=b=g=y=m=p=h=d=u=c=void 0;var c=e,u=l,d=r,h=o,p=mr.disabled,m=a,y=c.context,g=y.gl,b=u.dem;if(b&&b.data){var v=b.dim,M=b.stride,x=b.getPixels();y.activeTexture.set(g.TEXTURE1),y.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||c.getTileTexture(M),(u.demTexture?((M=u.demTexture).update(x,{premultiply:!1}),M):(u.demTexture=new f(y,x,g.RGBA,{premultiply:!1}),u.demTexture)).bind(g.NEAREST,g.CLAMP_TO_EDGE),y.activeTexture.set(g.TEXTURE0);let e=u.fbo;e||((M=new f(y,{width:v,height:v,data:null},g.RGBA)).bind(g.LINEAR,g.CLAMP_TO_EDGE),(e=u.fbo=y.createFramebuffer(v,v,!0,!1)).colorAttachment.set(M.texture)),y.bindFramebuffer.set(e.framebuffer),y.viewport.set([0,0,v,v]),c.useProgram("hillshadePrepare").draw(y,g.TRIANGLES,h,p,m,yr.disabled,pt(u.tileID,b),null,d.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),u.needsHillshadePrepare=!1}}else"translucent"===e.renderPass&&(x=e,M=i,v=l,y=r,g=o,h=s[i.overscaledZ],p=a,u=c=d=b=m=void 0,b=(m=x.context).gl,d=v.fbo)&&(c=x.useProgram("hillshade"),u=x.style.map.terrain&&x.style.map.terrain.getTerrainData(M),m.activeTexture.set(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,d.colorAttachment.get()),d=u?M:null,c.draw(m,b.TRIANGLES,g,h,p,yr.disabled,ht(x,v,y,d),u,y.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments))}i.viewport.set([0,0,e.width,e.height])}}(t,r,n,i);break;case"raster":!function(t,r,n,i){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&i.length){var o=t.context,a=o.gl,s=r.getSource(),l=t.useProgram("raster"),c=t.colorModeForRenderPass(),[u,i]=s instanceof P?[{},i]:t.stencilConfigForOverlap(i),d=i[i.length-1].overscaledZ,h=!t.options.moving;for(const b of i){var p=t.depthModeForSublayer(b.overscaledZ-d,1===n.paint.get("raster-opacity")?pr.ReadWrite:pr.ReadOnly,a.LESS),m=((g=r.getTile(b)).registerFadeDuration(n.paint.get("raster-fade-duration")),r.findLoadedParent(b,0)),y=function(t,r,n,i,o,a){var s;return i=i.paint.get("raster-fade-duration"),!a&&0<i?(s=((a=e.browser.now())-t.timeAdded)/i,a=r?(a-r.timeAdded)/i:-1,i=n.getSource(),n=o.coveringZoomLevel({tileSize:i.tileSize,roundZoom:i.roundZoom}),i=(o=!r||Math.abs(r.tileID.overscaledZ-n)>Math.abs(t.tileID.overscaledZ-n))&&t.refreshedUponExpiration?1:e.clamp(o?s:1-a,0,1),t.refreshedUponExpiration&&1<=s&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-i}:{opacity:i,mix:0}):{opacity:1,mix:0}}(g,m,r,n,t.transform,t.style.map.terrain);let i,v;var f="nearest"===n.paint.get("raster-resampling")?a.NEAREST:a.LINEAR,g=(o.activeTexture.set(a.TEXTURE0),g.texture.bind(f,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(a.TEXTURE1),m?(m.texture.bind(f,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i=Math.pow(2,m.tileID.overscaledZ-g.tileID.overscaledZ),v=[g.tileID.canonical.x*i%1,g.tileID.canonical.y*i%1]):g.texture.bind(f,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),f=(g=(m=t.style.map.terrain&&t.style.map.terrain.getTerrainData(b))?b:null)?g.posMatrix:t.transform.calculatePosMatrix(b.toUnwrapped(),h),gt(f,v||[0,0],i||1,y,n));s instanceof P?l.draw(o,a.TRIANGLES,p,mr.disabled,c,yr.disabled,g,m,n.id,s.boundsBuffer,t.quadTriangleIndexBuffer,s.boundsSegments):l.draw(o,a.TRIANGLES,p,u[b.overscaledZ],c,yr.disabled,g,m,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}}(t,r,n,i);break;case"background":!function(e,t,r,n){var i=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var a=e.context,s=a.gl,l=e.transform,c=l.tileSize,u=r.paint.get("background-pattern");if(!e.isPatternMissing(u)){var d=!u&&1===i.a&&1===o&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===d){var h=mr.disabled,p=e.depthModeForSublayer(0,"opaque"==d?pr.ReadWrite:pr.ReadOnly),m=e.colorModeForRenderPass(),y=e.useProgram(u?"backgroundPattern":"background"),f=(d=n||l.coveringTiles({tileSize:c,terrain:e.style.map.terrain}),u&&(a.activeTexture.set(s.TEXTURE0),e.imageManager.bind(e.context)),r.getCrossfadeParameters());for(const t of d){var g=n?t.posMatrix:e.transform.calculatePosMatrix(t.toUnwrapped()),b=(g=u?xt(g,o,e,u,{tileID:t,tileSize:c},f):{u_matrix:g,u_opacity:o,u_color:i},e.style.map.terrain&&e.style.map.terrain.getTerrainData(t));y.draw(a,s.TRIANGLES,p,h,m,yr.disabled,g,b,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}}(t,0,n,i);break;case"custom":!function(e,t,r){var n,i=e.context;r=r.implementation,"offscreen"===e.renderPass?(n=r.prerender)&&(e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),n.call(r,i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState()):"translucent"===e.renderPass&&(e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),i.setStencilMode(mr.disabled),n="3d"===r.renderingMode?new pr(e.context.gl.LEQUAL,pr.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,pr.ReadOnly),i.setDepthMode(n),r.render(i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState(),i.bindFramebuffer.set(null))}(t,0,n)}}translatePosMatrix(t,r,n,i,o){var a;return n[0]||n[1]?((i=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0)&&(a=Math.sin(i),i=Math.cos(i),n=[n[0]*i-n[1]*a,n[0]*a+n[1]*i]),a=[o?n[0]:fe(r,n[0],this.transform.zoom),o?n[1]:fe(r,n[1],this.transform.zoom),0],i=new Float32Array(16),e.translate(i,t,a),i):t}saveTileTexture(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){return(e=this._tileTextures[e])&&0<e.length?e.pop():null}isPatternMissing(e){var t;return!(!e||e.from&&e.to&&(t=this.imageManager.getPattern(e.from.toString()),e=this.imageManager.getPattern(e.to.toString()),t)&&e)}useProgram(e,t){this.cache=this.cache||{};var r=e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[r]||(this.cache[r]=new et(this.context,Je[e],t,St[e],this._showOverdrawInspector,this.style.map.terrain)),this.cache[r]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){var e;null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,e=this.context.gl,this.debugOverlayTexture=new f(this.context,this.debugOverlayCanvas,e.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){var{drawingBufferWidth:e,drawingBufferHeight:t}=this.context.gl;return this.width!==e||this.height!==t}}class Gr{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(t,r,n){const i=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>{var o=1/(n=e.transformMat4([],n,t))[3]/r*i;return e.mul$1(n,n,[o,o,1/n[3],o])}));return n=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{var r=e.sub([],o[t[0]],o[t[1]]),n=e.sub([],o[t[2]],o[t[1]]);return r=e.normalize([],e.cross([],r,n)),n=-e.dot(r,o[t[1]]),r.concat(n)})),new Gr(o,n)}}class Pr{constructor(t,r){this.min=t,this.max=r,this.center=e.scale$1([],e.add([],this.min,this.max),.5)}quadrant(t){var r=[t%2==0,t<2],n=e.clone$2(this.min),i=e.clone$2(this.max);for(let e=0;e<r.length;e++)n[e]=(r[e]?this.min:this.center)[e],i[e]=(r[e]?this.center:this.max)[e];return i[2]=this.max[2],new Pr(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersects(t){var r=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let n=!0;for(let o=0;o<t.planes.length;o++){var i=t.planes[o];let a=0;for(let t=0;t<r.length;t++)0<=e.dot$1(i,r[t])&&a++;if(0===a)return 0;a!==r.length&&(n=!1)}if(n)return 2;for(let e=0;e<3;e++){let r=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){var o=t.points[i][e]-this.min[e];r=Math.min(r,o),n=Math.max(n,o)}if(n<0||r>this.max[e]-this.min[e])return 0}return 1}}class Ar{constructor(e=0,t=0,r=0,n=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n}interpolate(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.interpolate.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.interpolate.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.interpolate.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.interpolate.number(t.right,r.right,n)),this}getCenter(t,r){return t=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+r-this.bottom)/2,0,r),new e.Point(t,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Ar(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Rr{constructor(t,r,n,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||!!o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ar,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){var e=new Rr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.apply(this),e}apply(e){this.tileSize=e.tileSize,this.latRange=e.latRange,this.width=e.width,this.height=e.height,this._center=e._center,this._elevation=e._elevation,this._minEleveationForCurrentTile=e._minEleveationForCurrentTile,this.zoom=e.zoom,this.angle=e.angle,this._fov=e._fov,this._pitch=e._pitch,this._unmodified=e._unmodified,this._edgeInsets=e._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){t=-e.wrap(t,-180,180)*Math.PI/180,this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){t=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI,this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){e=Math.min(Math.max(e,this.minZoom),this.maxZoom),this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.tileZoom=Math.max(0,Math.floor(e)),this.scale=this.zoomScale(e),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){return e=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize)),Math.max(0,e)}getVisibleUnwrappedCoordinates(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies){var n=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,i.x,o.x,a.x)),l=Math.floor(Math.max(n.x,i.x,o.x,a.x));for(let n=s-1;n<=l+1;n++)0!==n&&r.push(new e.UnwrappedTileID(n,t))}return r}coveringTiles(t){let r=this.coveringZoomLevel(t);var n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var i=this.pointCoordinate(this.getCameraPoint()),o=e.MercatorCoordinate.fromLngLat(this.center);const a=Math.pow(2,r);var s=[a*i.x,a*i.y,0],l=[a*o.x,a*o.y,0],c=Gr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r);let u=t.minzoom||0;!t.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(u=r);var d=t.terrain?2/Math.min(this.tileSize,t.tileSize)*this.tileSize:3,h=e=>({aabb:new Pr([e*a,0,0],[(e+1)*a,a,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),p=[],m=[],y=r,f=t.reparseOverscaled?n:r;if(this._renderWorldCopies)for(let e=1;e<=3;e++)p.push(h(-e)),p.push(h(e));for(p.push(h(0));0<p.length;){var g=p.pop(),b=g.x,v=g.y;let r=g.fullyVisible;if(!r){if(0===(M=g.aabb.intersects(c)))continue;r=2===M}var M=t.terrain?s:l,x=g.aabb.distanceX(M),S=g.aabb.distanceY(M);if(x=Math.max(Math.abs(x),Math.abs(S)),S=d+(1<<y-g.zoom)-2,g.zoom===y||S<x&&g.zoom>=u)S=y-g.zoom,x=s[0]-.5-(b<<S),S=s[1]-.5-(v<<S),m.push({tileID:new e.OverscaledTileID(g.zoom===y?f:g.zoom,g.wrap,g.zoom,b,v),distanceSq:e.sqrLen([l[0]-.5-b,l[1]-.5-v]),tileDistanceToCamera:Math.sqrt(x*x+S*S)});else for(let n=0;n<4;n++){var w,_,T=(b<<1)+n%2,I=(v<<1)+(n>>1),C=g.zoom+1;let i=g.aabb.quadrant(n);t.terrain&&(_=new e.OverscaledTileID(C,g.wrap,C,T,I),w=null!=(w=(_=t.terrain.getMinMaxElevation(_)).minElevation)?w:this.elevation,_=null!=(_=_.maxElevation)?_:this.elevation,i=new Pr([i.min[0],i.min[1],w],[i.max[0],i.max[1],_])),p.push({aabb:i,zoom:C,x:T,y:I,wrap:g.wrap,fullyVisible:r})}}return m.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)}unproject(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(t){var r,n,i,o,a=this.pointLocation(this.centerPoint,t);t=t.getElevationForLngLatZoom(a,this.tileZoom),this.elevation-t&&(n=this.getCameraPosition(),n=e.MercatorCoordinate.fromLngLat(n.lngLat,n.altitude),i=e.MercatorCoordinate.fromLngLat(a,t),o=n.x-i.x,r=n.y-i.y,n=n.z-i.z,i=Math.sqrt(o*o+r*r+n*n),o=this.scaleZoom(this.cameraToCenterDistance/i/this.tileSize),this._elevation=t,this._center=a,this.zoom=o)}setLocationAtPoint(t,r){r=this.pointCoordinate(r);var n=this.pointCoordinate(this.centerPoint);t=this.locationCoordinate(t),t=new e.MercatorCoordinate(t.x-(r.x-n.x),t.y-(r.y-n.y)),this.center=this.coordinateLocation(t),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e,t){return t?this.coordinatePoint(this.locationCoordinate(e),t.getElevationForLngLatZoom(e,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e,t){return this.coordinateLocation(this.pointCoordinate(e,t))}locationCoordinate(t){return e.MercatorCoordinate.fromLngLat(t)}coordinateLocation(e){return e&&e.toLngLat()}pointCoordinate(t,r){if(r&&null!=(r=r.pointCoordinate(t)))return r;r=[t.x,t.y,0,1],t=[t.x,t.y,1,1];var n=(e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(t,t,this.pixelMatrixInverse),r[3]),i=t[3],o=r[1]/n,a=t[1]/i,s=r[2]/n,l=s==(l=t[2]/i)?0:(0-s)/(l-s);return new e.MercatorCoordinate(e.interpolate.number(r[0]/n,t[0]/i,l)/this.worldSize,e.interpolate.number(o,a,l)/this.worldSize)}coordinatePoint(t,r=0,n=this.pixelMatrix){return t=[t.x*this.worldSize,t.y*this.worldSize,r,1],e.transformMat4(t,t,n),new e.Point(t[0]/t[3],t[1]/t[3])}getBounds(){var t=Math.max(0,this.height/2-this.getHorizon());return(new k).extend(this.pointLocation(new e.Point(0,t))).extend(this.pointLocation(new e.Point(this.width,t))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new k([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(t,r=!1){var n,i,o,a=t.key,s=r?this._alignedPosMatrixCache:this._posMatrixCache;return s[a]||(n=t.canonical,i=this.worldSize/this.zoomScale(n.z),t=n.x+Math.pow(2,n.z)*t.wrap,o=e.identity(new Float64Array(16)),e.translate(o,o,[t*i,n.y*i,0]),e.scale(o,o,[i/e.EXTENT,i/e.EXTENT,1]),e.multiply(o,r?this.alignedProjMatrix:this.projMatrix,o),s[a]=new Float32Array(o)),s[a]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;let a,s,l,c,u=-90,d=90,h=-180,p=180;var t,r=this.size,n=this._unmodified,i=(this.latRange&&(i=this.latRange,u=e.mercatorYfromLat(i[1])*this.worldSize,d=e.mercatorYfromLat(i[0])*this.worldSize,a=d-u<r.y?r.y/(d-u):0),this.lngRange&&(i=this.lngRange,h=e.wrap(e.mercatorXfromLng(i[0])*this.worldSize,0,this.worldSize),(p=e.wrap(e.mercatorXfromLng(i[1])*this.worldSize,0,this.worldSize))<h&&(p+=this.worldSize),s=p-h<r.x?r.x/(p-h):0),this.point),o=Math.max(s||0,a||0);o?(this.center=this.unproject(new e.Point(s?(p+h)/2:i.x,a?(d+u)/2:i.y)),this.zoom+=this.scaleZoom(o)):(this.latRange&&((o=i.y)-(t=r.y/2)<u&&(c=u+t),o+t>d)&&(c=d-t),void 0===(l=this.lngRange&&(o=(h+p)/2,(t=e.wrap(i.x,o-this.worldSize/2,o+this.worldSize/2))-(o=r.x/2)<h&&(l=h+o),t+o>p)?p-o:l)&&void 0===c||(this.center=this.unproject(new e.Point(void 0!==l?l:i.x,void 0!==c?c:i.y)).wrap())),this._unmodified=n,this._constraining=!1}}_calcMatrices(){if(this.height){var t=this._fov/2,r=this.centerOffset,n=this.point.x,i=this.point.y;this.cameraToCenterDistance=.5/Math.tan(t)*this.height,this._pixelPerMeter=e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let l=e.identity(new Float64Array(16));e.scale(l,l,[this.width/2,-this.height/2,1]),e.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=e.identity(new Float64Array(16)),e.scale(l,l,[1,-1,1]),e.translate(l,l,[-1,-1,0]),e.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l;var o=(t=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch))-(a=Math.min(this.elevation,this._minEleveationForCurrentTile))*this._pixelPerMeter/Math.cos(this._pitch),a=a<0?o:t,s=(o=Math.PI/2+this._pitch,t=this._fov*(.5+r.y/this.height),t=Math.sin(t)*a/Math.sin(e.clamp(Math.PI-o-t,.01,Math.PI-.01)),this.getHorizon());if(s=2*Math.atan(s/this.cameraToCenterDistance)*(.5+r.y/(2*s)),o=Math.sin(s)*a/Math.sin(e.clamp(Math.PI-o-s,.01,Math.PI-.01)),s=Math.min(t,o),t=1.01*(Math.cos(Math.PI/2-this._pitch)*s+a),o=this.height/50,l=new Float64Array(16),e.perspective(l,this._fov,this.width/this.height,o,t),l[8]=2*-r.x/this.width,l[9]=2*r.y/this.height,e.scale(l,l,[1,-1,1]),e.translate(l,l,[0,0,-this.cameraToCenterDistance]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle),e.translate(l,l,[-n,-i,0]),this.mercatorMatrix=e.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),e.scale(l,l,[1,1,this._pixelPerMeter]),this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,l),e.translate(l,l,[0,0,-this.elevation]),this.projMatrix=l,this.invProjMatrix=e.invert([],l),this.pixelMatrix3D=e.multiply(new Float64Array(16),this.labelPlaneMatrix,l),s=this.width%2/2,a=this.height%2/2,o=Math.cos(this.angle),t=Math.sin(this.angle),r=n-Math.round(n)+o*s+t*a,n=i-Math.round(i)+o*a+t*s,i=new Float64Array(l),e.translate(i,i,[.5<r?r-1:r,.5<n?n-1:n,0]),this.alignedProjMatrix=i,!(l=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}}maxPitchScaleFactor(){var t;return this.pixelMatrixInverse?(t=[(t=this.pointCoordinate(new e.Point(0,0))).x*this.worldSize,t.y*this.worldSize,0,1],e.transformMat4(t,t,this.pixelMatrix)[3]/this.cameraToCenterDistance):1}getCameraPoint(){var t=this._pitch;return t=Math.tan(t)*(this.cameraToCenterDistance||1),this.centerPoint.add(new e.Point(0,t))}getCameraQueryGeometry(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];{let n=r.x,i=r.y,o=r.x,a=r.y;for(const e of t)n=Math.min(n,e.x),i=Math.min(i,e.y),o=Math.max(o,e.x),a=Math.max(a,e.y);return[new e.Point(n,i),new e.Point(o,i),new e.Point(o,a),new e.Point(n,a),new e.Point(n,i)]}}}function Dr(e,t){let r,n,i=!1,o=null;const a=()=>{o=null,i&&(e.apply(r,n),o=setTimeout(a,t),i=!1)};return(...e)=>(i=!0,r=this,n=e,o||a(),o)}class Xr{constructor(e){this._getCurrentHash=()=>{var e=n.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")},this._onHashChange=()=>{var e,t=this._getCurrentHash();return 3<=t.length&&!t.some((e=>isNaN(e)))&&(e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing(),this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0)},this._updateHashUnthrottled=()=>{var e=n.location.href.replace(/(#.+)?$/,this.getHashString());try{n.history.replaceState(n.history.state,null,e)}catch(e){}},this._updateHash=Dr(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){var t=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=(i=Math.pow(10,i),Math.round(t.lng*i)/i),a=(t=Math.round(t.lat*i)/i,i=this._map.getBearing(),this._map.getPitch());let s="";if(s+=e?`/${o}/${t}/`+r:r+`/${t}/`+o,(i||a)&&(s+="/"+Math.round(10*i)/10),a&&(s+="/"+Math.round(a)),this._hashName){const t=this._hashName;let r=!1;return e=n.location.hash.slice(1).split("&").map((e=>{var n=e.split("=")[0];return n===t?(r=!0,n+"="+s):e})).filter((e=>e)),r||e.push(t+"="+s),"#"+e.join("&")}return"#"+s}}Ke={linearity:.3,easing:e.bezier(0,0,.3,1)};const Or=e.extend({deceleration:2500,maxSpeed:1400},Ke),Wr=e.extend({deceleration:20,maxSpeed:1400},Ke),jr=e.extend({deceleration:1e3,maxSpeed:360},Ke),Yr=e.extend({deceleration:1e3,maxSpeed:90},Ke);class Fr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})}_drainInertiaBuffer(){for(var t=this._inertiaBuffer,r=e.browser.now();0<t.length&&160<r-t[0].time;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var r,n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0};for({settings:r}of this._inertiaBuffer)n.zoom+=r.zoomDelta||0,n.bearing+=r.bearingDelta||0,n.pitch+=r.pitchDelta||0,r.panDelta&&n.pan._add(r.panDelta),r.around&&(n.around=r.around),r.pinchAround&&(n.pinchAround=r.pinchAround);var i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,o={};return n.pan.mag()&&(t=Hr(n.pan.mag(),i,e.extend({},Or,t||{})),o.offset=n.pan.mult(t.amount/n.pan.mag()),o.center=this._map.transform.center,Vr(o,t)),n.zoom&&(t=Hr(n.zoom,i,Wr),o.zoom=this._map.transform.zoom+t.amount,Vr(o,t)),n.bearing&&(t=Hr(n.bearing,i,jr),o.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),Vr(o,t)),n.pitch&&(t=Hr(n.pitch,i,Yr),o.pitch=this._map.transform.pitch+t.amount,Vr(o,t)),(o.zoom||o.bearing)&&(o.around=(i=void 0===n.pinchAround?n.around:n.pinchAround)?this._map.unproject(i):this._map.getCenter()),this.clear(),e.extend(o,{noMoveStart:!0})}}}function Vr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Hr(t,r,n){var{maxSpeed:i,linearity:o,deceleration:a}=n;return t=e.clamp(t*o/(r/1e3),-i,i),r=Math.abs(t)/(a*o),{easing:n.easing,duration:1e3*r,amount:t*(r/2)}}class Ur extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,r,n,i={}){var a=o.mousePos(r.getCanvasContainer(),n),s=r.unproject(a);super(t,e.extend({point:a,lngLat:s,originalEvent:n},i)),this._defaultPrevented=!1,this.target=r}}class Br extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,r,n){var i="touchend"===t?n.changedTouches:n.touches,a=(i=o.touchPos(r.getCanvasContainer(),i)).map((e=>r.unproject(e))),s=i.reduce(((e,t,r,n)=>e.add(t.div(n.length))),new e.Point(0,0));super(t,{points:i,point:s,lngLats:a,lngLat:r.unproject(s),originalEvent:n}),this._defaultPrevented=!1}}class Kr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,r){super(e,{originalEvent:r}),this._defaultPrevented=!1}}class Jr{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new Kr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new Ur(e.type,this._map,e))}mouseup(e){this._map.fire(new Ur(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Ur(e.type,this._map,e))}dblclick(e){return this._firePreventable(new Ur(e.type,this._map,e))}mouseover(e){this._map.fire(new Ur(e.type,this._map,e))}mouseout(e){this._map.fire(new Ur(e.type,this._map,e))}touchstart(e){return this._firePreventable(new Br(e.type,this._map,e))}touchmove(e){this._map.fire(new Br(e.type,this._map,e))}touchend(e){this._map.fire(new Br(e.type,this._map,e))}touchcancel(e){this._map.fire(new Br(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Qr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new Ur(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ur("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new Ur(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class qr{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(t){return this.transform.pointLocation(e.Point.convert(t),this._map.terrain)}}class $r{constructor(e,t){this._map=e,this._tr=new qr(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(o.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){var r,n,i;!this._active||this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance||(i=this._startPos,this._lastPos=t,this._box||(this._box=o.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e)),e=Math.min(i.x,t.x),r=Math.max(i.x,t.x),n=Math.min(i.y,t.y),i=Math.max(i.y,t.y),o.setTransform(this._box,`translate(${e}px,${n}px)`),this._box.style.width=r-e+"px",this._box.style.height=i-n+"px")}mouseupWindow(t,r){if(this._active&&0===t.button){const n=this._startPos,i=r;if(this.reset(),o.suppressClick(),n.x!==i.x||n.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(n,i,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(o.remove(this._box),this._box=null),o.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))}}function en(e,t){if(e.length!==t.length)throw new Error(`The number of touches and points are not equal - touches ${e.length}, points `+t.length);var r={};for(let n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}class tn{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){var r=new e.Point(0,0);for(const e of t)r._add(e);return r.div(t.length)}(r),this.touches=en(n,r)))}touchmove(e,t,r){if(!this.aborted&&this.centroid){var n=en(r,t);for(const e in this.touches){var i=this.touches[e],o=n[e];(!o||30<o.dist(i))&&(this.aborted=!0)}}}touchend(e,t,r){if((!this.centroid||500<e.timeStamp-this.startTime)&&(this.aborted=!0),0===r.length&&(e=!this.aborted&&this.centroid,this.reset(),e))return e}}class rn{constructor(e){this.singleTap=new tn(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,r){this.singleTap.touchstart(e,t,r)}touchmove(e,t,r){this.singleTap.touchmove(e,t,r)}touchend(e,t,r){if(t=this.singleTap.touchend(e,t,r)){r=e.timeStamp-this.lastTime<500;var n=!this.lastTap||this.lastTap.dist(t)<30;if(r&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=t,this.count===this.numTaps)return this.reset(),t}}}class nn{constructor(e){this._tr=new qr(e),this._zoomIn=new rn({numTouches:1,numTaps:2}),this._zoomOut=new rn({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)}touchmove(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)}touchend(e,t,r){const n=this._zoomIn.touchend(e,t,r),i=this._zoomOut.touchend(e,t,r),o=this._tr;return n?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom+1,around:o.unproject(n)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom-1,around:o.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class on{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){if((e=this._moveFunction(...e)).bearingDelta||e.pitchDelta||e.around||e.panDelta)return this._active=!0,e}dragStart(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=t.length?t[0]:t,this._activateOnStart)&&this._lastPoint&&(this._active=!0)}dragMove(e,t){if(this.isEnabled()){var r=this._lastPoint;if(r)if(e.preventDefault(),this._moveStateManager.isValidMoveEvent(e)){if(t=t.length?t[0]:t,this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)}else this.reset(e)}}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&o.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const an={0:1,2:2};class sn{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){e=o.mouseButton(e),this._eventButton=e}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(e,t){return t=an[t],void 0===e.buttons||(e.buttons&t)!==t}(e,this._eventButton)}isValidEndEvent(e){return o.mouseButton(e)===this._eventButton}}class ln{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return 1===e.targetTouches.length}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){e=e.targetTouches[0].identifier,this._firstTouch=e}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}const cn=e=>{e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=function(e){e.preventDefault()}},un=({enable:e,clickTolerance:t,bearingDegreesPerPixelMoved:r=.8})=>{var n=new sn({checkCorrectEvent:e=>0===o.mouseButton(e)&&e.ctrlKey||2===o.mouseButton(e)});return new on({clickTolerance:t,move:(e,t)=>({bearingDelta:(t.x-e.x)*r}),moveStateManager:n,enable:e,assignEvents:cn})},dn=({enable:e,clickTolerance:t,pitchDegreesPerPixelMoved:r=-.5})=>{var n=new sn({checkCorrectEvent:e=>0===o.mouseButton(e)&&e.ctrlKey||2===o.mouseButton(e)});return new on({clickTolerance:t,move:(e,t)=>({pitchDelta:(t.y-e.y)*r}),moveStateManager:n,enable:e,assignEvents:cn})};class hn{constructor(e,t){this._minTouches=e.cooperativeGestures?2:1,this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.Point(0,0),setTimeout((()=>{this._cancelCooperativeMessage=!1}),200)}touchstart(e,t,r){return this._calculateTransform(e,t,r)}touchmove(e,t,r){if(this._map._cooperativeGestures&&(2===this._minTouches&&r.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(e,!1,r.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(r.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,r)}touchend(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,r,n){0<n.length&&(this._active=!0);var i=en(n,r),o=new e.Point(0,0),a=new e.Point(0,0);let s=0;for(const e in i){var l=i[e],c=this._touches[e];c&&(o._add(l),a._add(l.sub(c)),s++,i[e]=l)}if(this._touches=i,!(s<this._minTouches)&&a.mag()&&(n=a.div(s),this._sum._add(n),!(this._sum.mag()<this._clickTolerance)))return{around:o.div(s),panDelta:n}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class pn{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,r){if(this._firstTwoTouches){e.preventDefault();var[n,i]=this._firstTwoTouches,n=mn(r,t,n);if(r=mn(r,t,i),n&&r)return t=this._aroundCenter?null:n.add(r).div(2),this._move([n,r],t,e)}}touchend(e,t,r){var n,i;this._firstTwoTouches&&([i,n]=this._firstTwoTouches,i=mn(r,t,i),r=mn(r,t,n),i&&r||(this._active&&o.suppressClick(),this.reset()))}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function mn(e,t,r){for(let n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function yn(e,t){return Math.log(e/t)/Math.LN2}class fn extends pn{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){var r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(yn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:yn(this._distance,r),pinchAround:t}}}function gn(e,t){return 180*e.angleWith(t)/Math.PI}class bn extends pn{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){var r=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:gn(this._vector,r),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360;return e=gn(e,this._startVector),Math.abs(e)<t}}function vn(e){return Math.abs(e.y)>Math.abs(e.x)}class Mn extends pn{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,r){super.touchstart(e,t,r),this._currentTouchCount=r.length}_start(e){vn((this._lastPoints=e)[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,r){if(!(this._map._cooperativeGestures&&this._currentTouchCount<3)){var n=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,i,r.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+i.y)/2*-.5}}}gestureBeginsVertically(e,t,r){var n,i;return void 0!==this._valid?this._valid:(i=2<=e.mag(),n=2<=t.mag(),i||n?i&&n?(i=0<e.y==0<t.y,vn(e)&&vn(t)&&i):(void 0===this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0):void 0)}}const xn={panStep:100,bearingStep:15,pitchStep:10};class Sn{constructor(e){this._tr=new qr(e),e=xn,this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){let t=0,r=0,n=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?n=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,n=0),{cameraAnimation:a=>{var s=this._tr;a.easeTo({duration:300,easeId:"keyboardHandler",easing:wn,zoom:t?Math.round(s.zoom)+t*(e.shiftKey?2:1):s.zoom,bearing:s.bearing+r*this._bearingStep,pitch:s.pitch+n*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:s.center},{originalEvent:e})}}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function wn(e){return e*(2-e)}const _n=4.000244140625;class Tn{constructor(e,t){this._onTimeout=e=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},this._map=e,this._tr=new qr(e),this._el=e.getCanvasContainer(),this._triggerRenderFrame=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(this.isEnabled()){if(this._map._cooperativeGestures){if(!t[this._map._metaKey])return;t.preventDefault()}let i=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;var r=e.browser.now(),n=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==i&&i%_n==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":400<n?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(n*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault()}}_start(t){var r;this._delta&&(this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout),t=o.mousePos(this._el,t),r=this._tr,this._around=e.LngLat.convert(this._aroundCenter?r.center:r.unproject(t)),this._aroundPoint=r.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame()))}renderFrame(){if(this._frameId&&(this._frameId=null,this.isActive())){var t=this._tr.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>_n?this._wheelZoomRate:this._defaultZoomRate;let e=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==e&&(e=1/e),r="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale,this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*e))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}r="number"==typeof this._targetZoom?this._targetZoom:t.zoom;var n,i=this._startZoom,o=this._easing;let a,s=!1;return"wheel"===this._type&&i&&o?(n=o(o=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1)),a=e.interpolate.number(i,r,n),o<1?this._frameId||(this._frameId=!0):s=!0):(a=r,s=!0),this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}}_smoothOutEasing(t){let r=e.defaultEasing;var n,i;return this._prevEase&&(i=this._prevEase,n=(e.browser.now()-i.start)/i.duration,i=i.easing(.01+n)-i.easing(n),n=.27/Math.sqrt(i*i+1e-4)*.01,i=Math.sqrt(.0729-n*n),r=e.bezier(n,i,.25,1)),this._prevEase={start:e.browser.now(),duration:t,easing:r},r}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class In{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Cn{constructor(e){this._tr=new qr(e),this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:r=>{r.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kn{constructor(){this._tap=new rn({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,t,r){var n,i,o;this._swipePoint||(this._tapTime?(n=t[0],i=e.timeStamp-this._tapTime<500,o=this._tapPoint.dist(n)<30,i&&o?0<r.length&&(this._swipePoint=n,this._swipeTouch=r[0].identifier):this.reset()):this._tap.touchstart(e,t,r))}touchmove(e,t,r){var n,i;if(this._tapTime){if(this._swipePoint&&r[0].identifier===this._swipeTouch)return i=(n=t[0]).y-this._swipePoint.y,this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}else this._tap.touchmove(e,t,r)}touchend(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():(t=this._tap.touchend(e,t,r))&&(this._tapTime=e.timeStamp,this._tapPoint=t)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ln{constructor(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Nn{constructor(e,t,r){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=r}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Zn{constructor(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const En=e=>e.zoom||e.drag||e.pitch||e.rotate;class zn extends e.Event{}function Gn(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Pn{constructor(e,t){var r,i,a;for([r,i,a]of(this.handleWindowEvent=e=>{this.handleEvent(e,e.type+"Window")},this.handleEvent=(e,t)=>{if("blur"===e.type)this.stop(!0);else{this._updatingCamera=!0;var r,n,i,a="renderFrame"===e.type?void 0:e,s={needsRenderFrame:!1},l={},c={},u=e.touches,d=u?this._getMapTouches(u):void 0,h=d?o.touchPos(this._el,d):o.mousePos(this._el,e);for({handlerName:r,handler:n,allowed:i}of this._handlers)if(n.isEnabled()){let o;this._blockedByActive(c,i,r)?n.reset():n[t||e.type]&&(o=n[t||e.type](e,h,d),this.mergeHandlerResult(s,l,o,r,a),o)&&o.needsRenderFrame&&this._triggerRenderFrame(),(o||n.isActive())&&(c[r]=n)}var p={};for(const e in this._previousActiveHandlers)c[e]||(p[e]=a);this._previousActiveHandlers=c,(Object.keys(p).length||Gn(s))&&(this._changes.push([s,l,p]),this._triggerRenderFrame()),(Object.keys(c).length||Gn(s))&&this._map._stop(!0),this._updatingCamera=!1,(u=s.cameraAnimation)&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Fr(e),this._bearingSnap=t.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(t),e=this._el,this._listeners=[[e,"touchstart",{passive:!0}],[e,"touchmove",{passive:!1}],[e,"touchend",void 0],[e,"touchcancel",void 0],[e,"mousedown",void 0],[e,"mousemove",void 0],[e,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[e,"mouseover",void 0],[e,"mouseout",void 0],[e,"dblclick",void 0],[e,"click",void 0],[e,"keydown",{capture:!1}],[e,"keyup",void 0],[e,"wheel",{passive:!1}],[e,"contextmenu",void 0],[n,"blur",void 0]],this._listeners))o.addEventListener(r,i,r===document?this.handleWindowEvent:this.handleEvent,a)}destroy(){for(var[e,t,r]of this._listeners)o.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,r)}_addDefaultHandlers(e){var t=this._map,r=t.getCanvasContainer(),n=(this._add("mapEvent",new Jr(t,e)),t.boxZoom=new $r(t,e)),i=(this._add("boxZoom",n),e.interactive&&e.boxZoom&&n.enable(),n=new nn(t),new Cn(t)),a=(t.doubleClickZoom=new In(i,n),this._add("tapZoom",n),this._add("clickZoom",i),e.interactive&&e.doubleClickZoom&&t.doubleClickZoom.enable(),n=new kn,this._add("tapDragZoom",n),i=t.touchPitch=new Mn(t),this._add("touchPitch",i),e.interactive&&e.touchPitch&&t.touchPitch.enable(e.touchPitch),i=un(e),dn(e));t.dragRotate=new Nn(e,i,a),this._add("mouseRotate",i,["mousePitch"]),this._add("mousePitch",a,["mouseRotate"]),e.interactive&&e.dragRotate&&t.dragRotate.enable(),i=(({enable:e,clickTolerance:t})=>{var r=new sn({checkCorrectEvent:e=>0===o.mouseButton(e)&&!e.ctrlKey});return new on({clickTolerance:t,move:(e,t)=>({around:t,panDelta:t.sub(e)}),activateOnStart:!0,moveStateManager:r,enable:e,assignEvents:cn})})(e),a=new hn(e,t),t.dragPan=new Ln(r,i,a),this._add("mousePan",i),this._add("touchPan",a,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&t.dragPan.enable(e.dragPan),i=new bn,a=new fn,t.touchZoomRotate=new Zn(r,a,i,n),this._add("touchRotate",i,["touchPan","touchZoom"]),this._add("touchZoom",a,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&t.touchZoomRotate.enable(e.touchZoomRotate),r=t.scrollZoom=new Tn(t,(()=>this._triggerRenderFrame())),this._add("scrollZoom",r,["mousePan"]),e.interactive&&e.scrollZoom&&t.scrollZoom.enable(e.scrollZoom),n=t.keyboard=new Sn(t),this._add("keyboard",n),e.interactive&&e.keyboard&&t.keyboard.enable(),this._add("blockableMapEvent",new Qr(t))}_add(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(var{handler:t}of this._handlers)t.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(var{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(En(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,r){for(const n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1}_getMapTouches(e){var t=[];for(const n of e){var r=n.target;this._el.contains(r)&&t.push(n)}return t}mergeHandlerResult(t,r,n,i,o){n&&(e.extend(t,n),t={handlerName:i,originalEvent:n.originalEvent||o},void 0!==n.zoomDelta&&(r.zoom=t),void 0!==n.panDelta&&(r.drag=t),void 0!==n.pitchDelta&&(r.pitch=t),void 0!==n.bearingDelta)&&(r.rotate=t)}_applyChanges(){var t,r,n,i={},o={},a={};for([t,r,n]of this._changes)t.panDelta&&(i.panDelta=(i.panDelta||new e.Point(0,0))._add(t.panDelta)),t.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+t.zoomDelta),t.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+t.bearingDelta),t.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+t.pitchDelta),void 0!==t.around&&(i.around=t.around),void 0!==t.pinchAround&&(i.pinchAround=t.pinchAround),t.noInertia&&(i.noInertia=t.noInertia),e.extend(o,r),e.extend(a,n);this._updateMapTransform(i,o,a),this._changes=[]}_updateMapTransform(e,t,r){const n=this._map,i=n._getTransformForUpdate();var o=n.terrain;if(!(Gn(e)||o&&this._terrainMovement))return this._fireEvents(t,r,!0);let{panDelta:a,zoomDelta:s,bearingDelta:l,pitchDelta:c,around:u,pinchAround:d}=e;void 0!==d&&(u=d),n._stop(!0),u=u||n.transform.centerPoint;var h=i.pointLocation(a?u.sub(a):u);l&&(i.bearing+=l),c&&(i.pitch+=c),s&&(i.zoom+=s),o?this._terrainMovement||!t.drag&&!t.zoom?t.drag&&this._terrainMovement?i.center=i.pointLocation(i.centerPoint.sub(a)):i.setLocationAtPoint(h,u):(this._terrainMovement=!0,this._map._elevationFreeze=!0,i.setLocationAtPoint(h,u),this._map.once("moveend",(()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,i.recalculateZoom(n.terrain)}))):i.setLocationAtPoint(h,u),n._applyUpdatedTransform(i),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,r,!0)}_fireEvents(t,r,n){var i=En(this._eventsInProgress),o=En(t),a={};for(const e in t){var s=t[e].originalEvent;this._eventsInProgress[e]||(a[e+"start"]=s),this._eventsInProgress[e]=t[e]}!i&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){var l=t[e].originalEvent;this._fireEvent(e,l)}var c={};let u;for(const e in this._eventsInProgress){var{handlerName:d,originalEvent:h}=this._eventsInProgress[e];this._handlersById[d].isActive()||(delete this._eventsInProgress[e],u=r[d]||h,c[e+"end"]=u)}for(const e in c)this._fireEvent(e,c[e]);var p=En(this._eventsInProgress);n&&(i||o)&&!p&&(this._updatingCamera=!0,n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap,!(i=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions))||!i.essential&&e.browser.prefersReducedMotion?(this._map.fire(new e.Event("moveend",{originalEvent:u})),n(this._map.getBearing())&&this._map.resetNorth()):(n(i.bearing||this._map.getBearing())&&(i.bearing=0),i.freezeElevation=!0,this._map.easeTo(i,{originalEvent:u})),this._updatingCamera=!1)}_fireEvent(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new zn("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class An extends e.Evented{constructor(t,r){super(),this._renderFrameCallback=()=>{var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=r.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)}panTo(t,r,n){return this.easeTo(e.extend({center:t},r),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)}resetNorth(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this}resetNorthPitch(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(e,t){e=k.convert(e);var r=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,t)}_cameraForBoxAndBearing(t,r,n,i){var o={top:0,bottom:0,right:0,left:0},a=("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding&&(a=i.padding,i.padding={top:a,bottom:a,right:a,left:a}),i.padding=e.extend(o,i.padding),this.transform),s=(o=a.padding,t=a.project(e.LngLat.convert(t)),r=a.project(e.LngLat.convert(r)),t.rotate(-n*Math.PI/180)),l=r.rotate(-n*Math.PI/180),c=new e.Point(Math.max(s.x,l.x),Math.max(s.y,l.y));if(s=new e.Point(Math.min(s.x,l.x),Math.min(s.y,l.y)),l=c.sub(s),c=(a.width-(o.left+o.right+i.padding.left+i.padding.right))/l.x,!((s=(a.height-(o.top+o.bottom+i.padding.top+i.padding.bottom))/l.y)<0||c<0))return o=Math.min(a.scaleZoom(a.scale*Math.min(c,s)),i.maxZoom),l=e.Point.convert(i.offset),c=(i.padding.left-i.padding.right)/2,s=(i.padding.top-i.padding.bottom)/2,i=new e.Point(c,s).rotate(n*Math.PI/180),c=l.add(i).mult(a.scale/a.zoomScale(o)),{center:a.unproject(t.add(r).div(2).sub(c)),zoom:o,bearing:n};e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}fitBounds(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)}fitScreenCoordinates(t,r,n,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,i),i,o)}_fitInternal(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this}jumpTo(t,r){this.stop();var n=this._getTransformForUpdate();let i=!1,o=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this._applyUpdatedTransform(n),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),o&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))}calculateCameraOptionsFromTo(t,r,n,i=0){t=e.MercatorCoordinate.fromLngLat(t,r),n=(r=e.MercatorCoordinate.fromLngLat(n,i)).x-t.x,i=r.y-t.y,t=r.z-t.z;var o=Math.hypot(n,i,t);if(0===o)throw new Error("Can't calculate camera options with same From and To");var a=Math.hypot(n,i),s=this.transform.scaleZoom(this.transform.cameraToCenterDistance/o/this.transform.tileSize);return n=180*Math.atan2(n,-i)/Math.PI,i=180*Math.acos(a/o)/Math.PI,i=t<0?90-i:90+i,{center:r.toLngLat(),zoom:s,pitch:i,bearing:n}}easeTo(t,r){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.defaultEasing},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);const n=this._getTransformForUpdate(),i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,d=("padding"in t?t:n).padding,h=e.Point.convert(t.offset);let p=n.centerPoint.add(h);var m=n.pointLocation(p),y=e.LngLat.convert(t.center||m);this._normalizeCenter(y);const f=n.project(m),g=n.project(y).sub(f),b=n.zoomScale(l-i);let v,M;return t.around&&(v=e.LngLat.convert(t.around),M=n.locationPoint(v)),m={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching},this._zooming=this._zooming||l!==i,this._rotating=this._rotating||o!==c,this._pitching=this._pitching||u!==a,this._padding=!n.isPaddingEqual(d),this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,m),this.terrain&&this._prepareElevation(y),this._ease((m=>{var y,x;this._zooming&&(n.zoom=e.interpolate.number(i,l,m)),this._rotating&&(n.bearing=e.interpolate.number(o,c,m)),this._pitching&&(n.pitch=e.interpolate.number(a,u,m)),this._padding&&(n.interpolatePadding(s,d,m),p=n.centerPoint.add(h)),this.terrain&&!t.freezeElevation&&this._updateElevation(m),v?n.setLocationAtPoint(v,M):(y=n.zoomScale(n.zoom-i),x=l>i?Math.min(2,b):Math.max(.5,b),x=Math.pow(x,1-m),m=n.unproject(f.add(g.mult(m*x)).mult(y)),n.setLocationAtPoint(n.renderWorldCopies?m.wrap():m,p)),this._applyUpdatedTransform(n),this._fireMoveEvents(r)}),(e=>{this.terrain&&this._finalizeElevation(),this._afterEase(r,e)}),t),this}_prepareEase(t,r,n={}){this._moving=!0,r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(t){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);var r,n,i=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);t<1&&i!==this._elevationTarget&&(n=(i-((r=this._elevationTarget-this._elevationStart)*t+this._elevationStart))/(1-t),this._elevationStart+=t*(r-n),this._elevationTarget=i),this.transform.elevation=e.interpolate.number(this._elevationStart,this._elevationTarget,t)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(e){var t,r,n,i,o;this.transformCameraUpdate&&(e=e.clone(),({center:t,zoom:r,pitch:n,bearing:i,elevation:o}=this.transformCameraUpdate(e)),t&&(e.center=t),void 0!==r&&(e.zoom=r),void 0!==n&&(e.pitch=n),void 0!==i&&(e.bearing=i),void 0!==o&&(e.elevation=o),this.transform.apply(e))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,r){var n,i;this._easeId&&r&&this._easeId===r||(delete this._easeId,this.fire(new e.Event("freezeElevation",{freeze:!1})),r=this._zooming,n=this._rotating,i=this._pitching,this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),n&&this.fire(new e.Event("rotateend",t)),i&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t)))}flyTo(t,r){if(!t.essential&&e.browser.prefersReducedMotion)return h=e.pick(t,["center","zoom","bearing","pitch","around"]),this.jumpTo(h,r);this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.defaultEasing},t);const n=this._getTransformForUpdate(),i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,n.minZoom,n.maxZoom):i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,d=("padding"in t?t:n).padding;var h=n.zoomScale(l-i);const p=e.Point.convert(t.offset);let m=n.centerPoint.add(p);var y=n.pointLocation(m);const f=e.LngLat.convert(t.center||y),g=(this._normalizeCenter(f),n.project(y)),b=n.project(f).sub(g);let v=t.curve;const M=Math.max(n.width,n.height),x=M/h,S=b.mag(),w=("minZoom"in t&&(y=e.clamp(Math.min(t.minZoom,i,l),n.minZoom,n.maxZoom),h=M/n.zoomScale(y-i),v=Math.sqrt(h/S*2)),v*v);function _(e){return e=(x*x-M*M+(e?-1:1)*w*w*S*S)/(2*(e?x:M)*w*S),Math.log(Math.sqrt(e*e+1)-e)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function I(e){return(Math.exp(e)+Math.exp(-e))/2}const C=_(!1);let k=function(e){return I(C)/I(C+v*e)},L=function(e){return M*((I(C)*(T(e=C+v*e)/I(e))-T(C))/w)/S},N=(_(!0)-C)/v;if(Math.abs(S)<1e-6||!isFinite(N)){if(Math.abs(M-x)<1e-6)return this.easeTo(t,r);const e=x<M?-1:1;N=Math.abs(Math.log(x/M))/v,L=function(){return 0},k=function(t){return Math.exp(e*v*t)}}return"duration"in t?t.duration=+t.duration:(y="screenSpeed"in t?+t.screenSpeed/v:+t.speed,t.duration=1e3*N/y),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=o!==c,this._pitching=u!==a,this._padding=!n.isPaddingEqual(d),this._prepareEase(r,!1),this.terrain&&this._prepareElevation(f),this._ease((h=>{var y=h*N,v=1/k(y);n.zoom=1===h?l:i+n.scaleZoom(v),this._rotating&&(n.bearing=e.interpolate.number(o,c,h)),this._pitching&&(n.pitch=e.interpolate.number(a,u,h)),this._padding&&(n.interpolatePadding(s,d,h),m=n.centerPoint.add(p)),this.terrain&&!t.freezeElevation&&this._updateElevation(h),h=1===h?f:n.unproject(g.add(b.mult(L(y))).mult(v)),n.setLocationAtPoint(n.renderWorldCopies?h.wrap():h,m),this._applyUpdatedTransform(n),this._fireMoveEvents(r)}),(()=>{this.terrain&&this._finalizeElevation(),this._afterEase(r)}),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){var r;return this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd&&(r=this._onEaseEnd,delete this._onEaseEnd,r.call(this,t)),e||(r=this.handlers)&&r.stop(!1),this}_ease(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t}_normalizeCenter(e){var t=this.transform;t.renderWorldCopies&&!t.lngRange&&(t=e.lng-t.center.lng,e.lng+=180<t?-360:t<-180?360:0)}queryTerrainElevation(t){return this.terrain?this.terrain.getElevationForLngLatZoom(e.LngLat.convert(t),this.transform.tileZoom)-this.transform.elevation:null}}class Rn{constructor(e={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=e=>{!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=o.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=o.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){o.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){t=this._map._getUIString("AttributionControl."+t),e.title=t,e.setAttribute("aria-label",t)}_updateAttributions(){if(this._map.style){let n=[];this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?n=n.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&n.push(this.options.customAttribution)),this._map.style.stylesheet&&(r=this._map.style.stylesheet,this.styleOwner=r.owner,this.styleId=r.id);var e=this._map.style.sourceCaches;for(const r in e){var t=e[r];(t.used||t.usedForTerrain)&&(t=t.getSource()).attribution&&n.indexOf(t.attribution)<0&&n.push(t.attribution)}(n=n.filter((e=>String(e).trim()))).sort(((e,t)=>e.length-t.length));var r=(n=n.filter(((e,t)=>{for(let r=t+1;r<n.length;r++)if(0<=n[r].indexOf(e))return!1;return!0}))).join(" | ");r!==this._attribHTML&&(this._attribHTML=r,n.length?(this._innerContainer.innerHTML=r,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}}class Dn{constructor(e={}){this._updateCompact=()=>{var e=this._container.children;e.length&&(e=e[0],this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&e.classList.add("maplibregl-compact"):e.classList.remove("maplibregl-compact"))},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=o.create("div","maplibregl-ctrl"),(e=o.create("a","maplibregl-ctrl-logo")).target="_blank",e.rel="noopener nofollow",e.href="https://maplibre.org/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){o.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Xn{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){var t=this._currentlyRunning;for(const r of t?this._queue.concat(t):this._queue)if(r.id===e)return void(r.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");var t=this._currentlyRunning=this._queue;this._queue=[];for(const r of t)if(!r.cancelled&&(r.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const On={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Wn=e.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class jn extends e.Evented{constructor(e){super(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,e.usedForTerrain=!0,e.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(t,r){this.sourceCache.update(t,r),this._renderableTilesKeys=[];var n={};for(const i of t.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:r}))n[i.key]=!0,this._renderableTilesKeys.push(i.key),this._tiles[i.key]||(i.posMatrix=new Float64Array(16),e.ortho(i.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),this._tiles[i.key]=new j(i,this.tileSize));for(const e in this._tiles)n[e]||delete this._tiles[e]}freeRtt(e){for(const r in this._tiles){var t=this._tiles[r];(!e||t.tileID.equals(e)||t.tileID.isChildOf(e)||e.isChildOf(t.tileID))&&(t.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((e=>this.getTileByID(e)))}getTileByID(e){return this._tiles[e]}getTerrainCoords(t){var r={};for(const c of this._renderableTilesKeys){var n,i,o,a,s,l=this._tiles[c].tileID;l.canonical.equals(t.canonical)?((n=t.clone()).posMatrix=new Float64Array(16),e.ortho(n.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),r[c]=n):l.canonical.isChildOf(t.canonical)?((n=t.clone()).posMatrix=new Float64Array(16),a=l.canonical.z-t.canonical.z,i=l.canonical.x-(l.canonical.x>>a<<a),o=l.canonical.y-(l.canonical.y>>a<<a),a=e.EXTENT>>a,e.ortho(n.posMatrix,0,a,0,a,0,1),e.translate(n.posMatrix,n.posMatrix,[-i*a,-o*a,0]),r[c]=n):t.canonical.isChildOf(l.canonical)&&((i=t.clone()).posMatrix=new Float64Array(16),o=t.canonical.z-l.canonical.z,a=t.canonical.x-(t.canonical.x>>o<<o),l=t.canonical.y-(t.canonical.y>>o<<o),s=e.EXTENT>>o,e.ortho(i.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),e.translate(i.posMatrix,i.posMatrix,[a*s,l*s,0]),e.scale(i.posMatrix,i.posMatrix,[1/2**o,1/2**o,0]),r[c]=i)}return r}getSourceTile(e,t){var r=this.sourceCache._source;let n=e.overscaledZ-this.deltaZoom;if((n=n>r.maxzoom?r.maxzoom:n)<r.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(n).key);let i=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!i||!i.dem)&&t)for(;n>=r.minzoom&&(!i||!i.dem);)i=this.sourceCache.getTileByID(e.scaledTo(n--).key);return i}tilesAfterTime(e=Date.now()){return Object.values(this._tiles).filter((t=>t.timeAdded>=e))}}class Yn{constructor(e,t,r){this.painter=e,this.sourceCache=new jn(t),this.options=r,this.exaggeration="number"==typeof r.exaggeration?r.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(t,r,n,i=e.EXTENT){var o;return 0<=r&&r<i&&0<=n&&n<i&&(o=null==(o=(t=this.getTerrainData(t)).tile)?void 0:o.dem)?(n=[(r=e.transformMat4$1([],[r/i*e.EXTENT,n/i*e.EXTENT],t.u_terrain_matrix))[0]*o.dim,r[1]*o.dim],i=Math.floor(n[0]),t=Math.floor(n[1]),r=n[0]-i,n=n[1]-t,o.get(i,t)*(1-r)*(1-n)+o.get(i+1,t)*r*(1-n)+o.get(i,t+1)*(1-r)*n+o.get(i+1,t+1)*r*n):0}getElevationForLngLatZoom(t,r){var{tileID:t,mercatorX:r,mercatorY:n}=this._getOverscaledTileIDFromLngLatZoom(t,r);return this.getElevation(t,r%e.EXTENT,n%e.EXTENT,e.EXTENT)}getElevation(t,r,n,i=e.EXTENT){return this.getDEMElevation(t,r,n,i)*this.exaggeration}getTerrainData(t){this._emptyDemTexture||(n=this.painter.context,r=new e.RGBAImage({width:1,height:1},new Uint8Array(4)),this._emptyDepthTexture=new f(n,r,n.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new f(n,new e.RGBAImage({width:1,height:1}),n.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(n.gl.NEAREST,n.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=e.identity([]));var r=this.sourceCache.getSourceTile(t,!0),n=(r&&r.dem&&(!r.demTexture||r.needsTerrainPrepare)&&(n=this.painter.context,r.demTexture=this.painter.getTileTexture(r.dem.stride),r.demTexture?r.demTexture.update(r.dem.getPixels(),{premultiply:!1}):r.demTexture=new f(n,r.dem.getPixels(),n.gl.RGBA,{premultiply:!1}),r.demTexture.bind(n.gl.NEAREST,n.gl.CLAMP_TO_EDGE),r.needsTerrainPrepare=!1),r&&r+r.tileID.key+t.key);if(n&&!this._demMatrixCache[n]){var i=this.sourceCache.sourceCache._source.maxzoom;let n=t.canonical.z-r.tileID.canonical.z;t.overscaledZ>t.canonical.z&&(t.canonical.z>=i?n=t.canonical.z-i:e.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom")),i=t.canonical.x-(t.canonical.x>>n<<n);var o=t.canonical.y-(t.canonical.y>>n<<n),a=e.fromScaling(new Float64Array(16),[1/(e.EXTENT<<n),1/(e.EXTENT<<n),0]);e.translate(a,a,[i*e.EXTENT,o*e.EXTENT,0]),this._demMatrixCache[t.key]={matrix:a,coord:t}}return{u_depth:2,u_terrain:3,u_terrain_dim:r&&r.dem&&r.dem.dim||1,u_terrain_matrix:n?this._demMatrixCache[t.key].matrix:this._emptyDemMatrix,u_terrain_unpack:r&&r.dem&&r.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(r&&r.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:r}}getFramebuffer(e){var t=this.painter,r=t.width/devicePixelRatio,n=t.height/devicePixelRatio;return!this._fbo||this._fbo.width===r&&this._fbo.height===n||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new f(t.context,{width:r,height:n,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new f(t.context,{width:r,height:n,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=t.context.createFramebuffer(r,n,!0,!1),this._fbo.depthAttachment.set(t.context.createRenderbuffer(t.context.gl.DEPTH_COMPONENT16,r,n))),this._fbo.colorAttachment.set(("coords"===e?this._fboCoordsTexture:this._fboDepthTexture).texture),this._fbo}getCoordsTexture(){var t=this.painter.context;if(this._coordsTexture)return this._coordsTexture;var r=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e=0,t=0;e<this._coordsTextureSize;e++)for(let n=0;n<this._coordsTextureSize;n++,t+=4)r[t+0]=255&n,r[t+1]=255&e,r[t+2]=n>>8<<4|e>>8,r[t+3]=0;var n=new e.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(r.buffer));return(n=new f(t,n,t.gl.RGBA,{premultiply:!1})).bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._coordsTexture=n}pointCoordinate(t){var r,n,i=new Uint8Array(4),o=(n=this.painter.context).gl;return n.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),o.readPixels(t.x,this.painter.height/devicePixelRatio-t.y-1,1,1,o.RGBA,o.UNSIGNED_BYTE,i),n.bindFramebuffer.set(null),t=i[0]+(i[2]>>4<<8),o=i[1]+((15&i[2])<<8),(i=(n=this.coordsIndex[255-i[3]])&&this.sourceCache.getTileByID(n))?(n=this._coordsTextureSize,r=(1<<i.tileID.canonical.z)*n,new e.MercatorCoordinate((i.tileID.canonical.x*n+t)/r,(i.tileID.canonical.y*n+o)/r,this.getElevation(i.tileID,t,o,n))):null}getTerrainMesh(){if(!this._mesh){var t=this.painter.context,r=new e.Pos3dArray,n=new e.TriangleIndexArray,i=this.meshSize,o=e.EXTENT/i,a=i*i;for(let e=0;e<=i;e++)for(let t=0;t<=i;t++)r.emplaceBack(t*o,e*o,0);for(let e=0;e<a;e+=i+1)for(let t=0;t<i;t++)n.emplaceBack(t+e,i+t+e+1,i+t+e+2),n.emplaceBack(t+e,i+t+e+2,t+e+1);var s=r.length,l=s+2*(i+1);for(const t of[0,1])for(let n=0;n<=i;n++)for(const i of[0,1])r.emplaceBack(n*o,t*e.EXTENT,i);for(let e=0;e<2*i;e+=2)n.emplaceBack(l+e,l+e+1,l+e+3),n.emplaceBack(l+e,l+e+3,l+e+2),n.emplaceBack(s+e,s+e+3,s+e+1),n.emplaceBack(s+e,s+e+2,s+e+3);var c=r.length,u=c+2*(i+1);for(const t of[0,1])for(let n=0;n<=i;n++)for(const i of[0,1])r.emplaceBack(t*e.EXTENT,n*o,i);for(let e=0;e<2*i;e+=2)n.emplaceBack(c+e,c+e+1,c+e+3),n.emplaceBack(c+e,c+e+3,c+e+2),n.emplaceBack(u+e,u+e+3,u+e+1),n.emplaceBack(u+e,u+e+2,u+e+3);this._mesh={indexBuffer:t.createIndexBuffer(n),vertexBuffer:t.createVertexBuffer(r,Wn.members),segments:e.SegmentVector.simpleSegment(0,0,r.length,n.length)}}return this._mesh}getMeshFrameDelta(t){return 2*Math.PI*e.earthRadius/Math.pow(2,t)/5}getMinTileElevationForLngLatZoom(e,t){return e=this._getOverscaledTileIDFromLngLatZoom(e,t).tileID,null!=(t=this.getMinMaxElevation(e).minElevation)?t:0}getMinMaxElevation(e){var t={minElevation:null,maxElevation:null};return(e=this.getTerrainData(e).tile)&&e.dem&&(t.minElevation=e.dem.min*this.exaggeration,t.maxElevation=e.dem.max*this.exaggeration),t}_getOverscaledTileIDFromLngLatZoom(t,r){t=e.MercatorCoordinate.fromLngLat(t.wrap());var n=(1<<r)*e.EXTENT,i=t.x*n,o=(t=t.y*n,n=Math.floor(i/e.EXTENT),Math.floor(t/e.EXTENT));return{tileID:new e.OverscaledTileID(r,0,r,n,o),mercatorX:i,mercatorY:t}}}class Fn{constructor(e,t,r){this._context=e,this._size=t,this._tileSize=r,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){var t=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),r=new f(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return r.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),t.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),t.colorAttachment.set(r.texture),{id:e,fbo:t,texture:r,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((t=>e.id!==t)),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const e of this._recentlyUsed)if(!this._objects[e].inUse)return this._objects[e];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");var e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some((e=>!e.inUse))}}const Vn={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Hn{constructor(e,t){this.painter=e,this.terrain=t,this.pool=new Fn(e.context,30,t.sourceCache.tileSize*t.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,t){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter((r=>!e._layers[r].isHidden(t))),this._coordsDescendingInv={};for(const t in e.sourceCaches){this._coordsDescendingInv[t]={};for(const n of e.sourceCaches[t].getVisibleCoordinates()){var r=this.terrain.sourceCache.getTerrainCoords(n);for(const e in r)this._coordsDescendingInv[t][e]||(this._coordsDescendingInv[t][e]=[]),this._coordsDescendingInv[t][e].push(r[e])}}this._coordsDescendingInvStr={};for(const t of e._order){var n=e._layers[t],i=n.source;if(Vn[n.type]&&!this._coordsDescendingInvStr[i]){this._coordsDescendingInvStr[i]={};for(const e in this._coordsDescendingInv[i])this._coordsDescendingInvStr[i][e]=this._coordsDescendingInv[i][e].map((e=>e.key)).sort().join()}}for(const e of this._renderableTiles)for(const t in this._coordsDescendingInvStr){var o=this._coordsDescendingInvStr[t][e.tileID.key];o&&o!==e.rttCoords[t]&&(e.rtt=[])}}renderLayer(t){if(!t.isHidden(this.painter.transform.zoom)){var r=t.type,n=this.painter,i=this._renderableLayerIds[this._renderableLayerIds.length-1]===t.id;if(Vn[r]&&(this._prevType&&Vn[this._prevType]||this._stacks.push([]),this._prevType=r,this._stacks[this._stacks.length-1].push(t.id),!i))return!0;if(Vn[this._prevType]||Vn[r]&&i){this._prevType=r;var o=this._stacks.length-1,a=this._stacks[o]||[];for(const t of this._renderableTiles){if(this.pool.isFull()&&(Er(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(t),t.rtt[o]){var s=this.pool.getObjectForId(t.rtt[o].id);if(s.stamp===t.rtt[o].stamp){this.pool.useObject(s);continue}}var l=this.pool.getOrCreateFreeObject();this.pool.useObject(l),this.pool.stampObject(l),t.rtt[o]={id:l.id,stamp:l.stamp},n.context.bindFramebuffer.set(l.fbo.framebuffer),n.context.clear({color:e.Color.transparent,stencil:0}),n.currentStencilSource=void 0;for(let e=0;e<a.length;e++){const r=n.style._layers[a[e]];var c=r.source?this._coordsDescendingInv[r.source][t.tileID.key]:[t.tileID];n.context.viewport.set([0,0,l.fbo.width,l.fbo.height]),n._renderTileClippingMasks(r,c),n.renderLayer(n,n.style.sourceCaches[r.source],r,c),r.source&&(t.rttCoords[r.source]=this._coordsDescendingInvStr[r.source][t.tileID.key])}}return Er(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Vn[r]}}return!1}}const Un=i,Bn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:e.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]};Ke=class extends An{constructor(r){if(e.PerformanceUtils.mark(e.PerformanceMarkers.create),null!=(r=e.extend({},Bn,r)).minZoom&&null!=r.maxZoom&&r.minZoom>r.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=r.minPitch&&null!=r.maxPitch&&r.minPitch>r.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=r.minPitch&&r.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=r.maxPitch&&85<r.maxPitch)throw new Error("maxPitch must be less than or equal to 85");if(super(new Rr(r.minZoom,r.maxZoom,r.minPitch,r.maxPitch,r.renderWorldCopies),{bearingSnap:r.bearingSnap}),this._cooperativeGesturesOnWheel=e=>{this._onCooperativeGesture(e,e[this._metaKey],1)},this._contextLost=t=>{t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},this._contextRestored=t=>{this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},this._onMapScroll=e=>{if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=r.interactive,this._cooperativeGestures=r.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=r.maxTileCacheSize,this._maxTileCacheZoomLevels=r.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=r.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=r.preserveDrawingBuffer,this._antialias=r.antialias,this._trackResize=r.trackResize,this._bearingSnap=r.bearingSnap,this._refreshExpiredTiles=r.refreshExpiredTiles,this._fadeDuration=r.fadeDuration,this._crossSourceCollisions=r.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=r.collectResourceTiming,this._renderTaskQueue=new Xn,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},On,r.locale),this._clickTolerance=r.clickTolerance,this._overridePixelRatio=r.pixelRatio,this._maxCanvasSize=r.maxCanvasSize,this.transformCameraUpdate=r.transformCameraUpdate,this._imageQueueHandle=t.addThrottleControl((()=>this.isMoving())),this._requestManager=new h(r.transformRequest),"string"==typeof r.container){if(this._container=document.getElementById(r.container),!this._container)throw new Error(`Container '${r.container}' not found.`)}else{if(!(r.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=r.container}if(r.maxBounds&&this.setMaxBounds(r.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),void 0!==n){addEventListener("online",this._onWindowOnline,!1);let e=!1;const t=Dr((e=>{this._trackResize&&!this._removed&&this.resize(e)._update()}),50);this._resizeObserver=new ResizeObserver((r=>{e?t(r):e=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Pn(this,r),this._cooperativeGestures&&this._setupCooperativeGestures();var i="string"==typeof r.hash&&r.hash||void 0;this._hash=r.hash&&new Xr(i).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch}),r.bounds&&(this.resize(),this.fitBounds(r.bounds,e.extend({},r.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=r.localIdeographFontFamily,this._validateStyle=r.validateStyle,r.style&&this.setStyle(r.style,{localIdeographFontFamily:r.localIdeographFontFamily}),r.attributionControl&&this.addControl(new Rn({customAttribution:r.customAttribution})),r.maplibreLogo&&this.addControl(new Dn,r.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(t=>{this.fire(new e.Event(t.dataType+"dataloading",t))})),this.on("dataabort",(t=>{this.fire(new e.Event("sourcedataabort",t))}))}_getMapId(){return this._mapId}addControl(t,r){var n;return void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),t&&t.onAdd?(n=t.onAdd(this),this._controls.push(t),t=this._controlPositions[r],-1!==r.indexOf("bottom")?t.insertBefore(n,t.firstChild):t.appendChild(n),this):this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")))}removeControl(t){var r;return t&&t.onRemove?(-1<(r=this._controls.indexOf(t))&&this._controls.splice(r,1),t.onRemove(this),this):this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")))}hasControl(e){return-1<this._controls.indexOf(e)}calculateCameraOptionsFromTo(e,t,r,n){return null==n&&this.terrain&&(n=this.terrain.getElevationForLngLatZoom(r,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(e,t,r,n)}resize(t){var r=(n=this._containerDimensions())[0],n=n[1];const i=this._getClampedPixelRatio(r,n);if(this._resizeCanvas(r,n,i),this.painter.resize(r,n,i),this.painter.overLimit()){var o=this.painter.context.gl;this._maxCanvasSize=[o.drawingBufferWidth,o.drawingBufferHeight];const e=this._getClampedPixelRatio(r,n);this._resizeCanvas(r,n,e),this.painter.resize(r,n,e)}return this.transform.resize(r,n),null!=(o=this._requestedCameraState)&&o.resize(r,n),(o=!this._moving)&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this}_getClampedPixelRatio(e,t){var{0:r,1:n}=this._maxCanvasSize,i=this.getPixelRatio();return e*=i,t*=i,Math.min(r<e?r/e:1,n<t?n/t:1)*i}getPixelRatio(){var e;return null!=(e=this._overridePixelRatio)?e:devicePixelRatio}setPixelRatio(e){this._overridePixelRatio=e,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(k.convert(e)),this._update()}setMinZoom(e){if(-2<=(e=null==e?-2:e)&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(0<=e&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if(85<(e=null==e?60:e))throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(e){return this._cooperativeGestures=e,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(t){return this.transform.locationPoint(e.LngLat.convert(t),this.style&&this.terrain)}unproject(t){return this.transform.pointLocation(e.Point.convert(t),this.terrain)}isMoving(){var e;return this._moving||(null==(e=this.handlers)?void 0:e.isMoving())}isZooming(){var e;return this._zooming||(null==(e=this.handlers)?void 0:e.isZooming())}isRotating(){var e;return this._rotating||(null==(e=this.handlers)?void 0:e.isRotating())}_createDelegatedListener(e,t,r){if("mouseenter"===e||"mouseover"===e){let n=!1;return{layer:t,listener:r,delegates:{mousemove:i=>{var o=this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[];o.length?n||(n=!0,r.call(this,new Ur(e,this,i.originalEvent,{features:o}))):n=!1},mouseout:()=>{n=!1}}}}if("mouseleave"!==e&&"mouseout"!==e)return{layer:t,listener:r,delegates:{[e]:e=>{var n=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(this,e),delete e.features)}}};{let n=!1;return{layer:t,listener:r,delegates:{mousemove:i=>{(this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?n=!0:n&&(n=!1,r.call(this,new Ur(e,this,i.originalEvent)))},mouseout:t=>{n&&(n=!1,r.call(this,new Ur(e,this,t.originalEvent)))}}}}}on(e,t,r){if(void 0===r)return super.on(e,t);var n=this._createDelegatedListener(e,t,r);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n);for(const e in n.delegates)this.on(e,n.delegates[e]);return this}once(e,t,r){if(void 0===r)return super.once(e,t);var n=this._createDelegatedListener(e,t,r);for(const e in n.delegates)this.once(e,n.delegates[e]);return this}off(e,t,r){return void 0===r?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(()=>{var n=this._delegatedListeners[e];for(let e=0;e<n.length;e++){var i=n[e];if(i.layer===t&&i.listener===r){for(const e in i.delegates)this.off(e,i.delegates[e]);return n.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,r){if(!this.style)return[];let n;var i=t instanceof e.Point||Array.isArray(t),o=i?t:[[0,0],[this.transform.width,this.transform.height]];return r=r||(i?{}:t)||{},n=o instanceof e.Point||"number"==typeof o[0]?[e.Point.convert(o)]:(i=e.Point.convert(o[0]),t=e.Point.convert(o[1]),[i,new e.Point(t.x,i.y),t,new e.Point(i.x,t.y),i]),this.style.queryRenderedFeatures(n,r,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){var t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){var r;if(!t.transformStyle||!this.style||this.style._loaded)return r=this.style&&t.transformStyle?this.style.serialize():void 0,this.style&&(this.style.setEventedParent(null),this.style._remove(!e)),e?(this.style=new Ue(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e,t,r):this.style.loadJSON(e,t,r)):delete this.style,this;this.style.once("style.load",(()=>this._updateStyle(e,t)))}_lazyInitEmptyStyle(){this.style||(this.style=new Ue(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){var i;"string"==typeof t?(i=this._requestManager.transformRequest(t,r.Style),e.getJSON(i,((t,r)=>{t?this.fire(new e.ErrorEvent(t)):r&&this._updateDiff(r,n)}))):"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,r){try{this.style.setState(t,r)&&this._update(!0)}catch(n){e.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(t,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`)))}setTerrain(t){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),t){var r=this.style.sourceCaches[t.source];if(!r)throw new Error("cannot load terrain, because there exists no source with ID: "+t.source);for(const r in this.style._layers){var n=this.style._layers[r];"hillshade"===n.type&&n.source===t.source&&e.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Yn(this.painter,r,t),this.painter.renderToTexture=new Hn(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=e=>{"style"===e.dataType?this.terrain.sourceCache.freeRtt():"source"===e.dataType&&e.tile&&(e.sourceId!==t.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(e.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new e.Event("terrain",{terrain:t})),this}getTerrain(){var e;return null!=(e=null==(e=this.terrain)?void 0:e.options)?e:null}areTilesLoaded(){var e=this.style&&this.style.sourceCaches;for(const n in e){var t=e[n]._tiles;for(const e in t){var r=t[e];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0}addSourceType(e,t,r){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,r,n={}){var i,o,a,s,{pixelRatio:n=1,sdf:l=!1,stretchX:c,stretchY:u,content:d,contentMatch:h}=n;if(this._lazyInitEmptyStyle(),!(r instanceof HTMLImageElement||e.isImageBitmap(r)))return void 0===r.width||void 0===r.height?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):(({width:i,height:o,data:a}=r),s=r,this.style.addImage(t,{data:new e.RGBAImage({width:i,height:o},new Uint8Array(a)),pixelRatio:n,stretchX:c,stretchY:u,content:d,contentMatch:h,sdf:l,version:0,userImage:s}),s.onAdd&&s.onAdd(this,t),this);({width:i,height:o,data:a}=e.browser.getImageData(r)),this.style.addImage(t,{data:new e.RGBAImage({width:i,height:o},a),pixelRatio:n,stretchX:c,stretchY:u,content:d,contentMatch:h,sdf:l,version:0})}updateImage(t,r){var n,i,o,a=this.style.getImage(t);return a?(({width:o,height:n,data:i}=r instanceof HTMLImageElement||e.isImageBitmap(r)?e.browser.getImageData(r):r),void 0===o||void 0===n?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==a.data.width||n!==a.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(o=!(r instanceof HTMLImageElement||e.isImageBitmap(r)),a.data.replace(i,o),this.style.updateImage(t,a),this)):this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")))}getImage(e){return this.style.getImage(e)}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(e,n){t.getImage(this._requestManager.transformRequest(e,r.Image),n)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)}setFilter(e,t,r={}){return this.style.setFilter(e,t,r),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,r,n={}){return this.style.setPaintProperty(e,t,r,n),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,r,n={}){return this.style.setLayoutProperty(e,t,r,n),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setGlyphs(e,t={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(e,t),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(e,t,r={}){return this._lazyInitEmptyStyle(),this.style.addSprite(e,t,r,(e=>{e||this._update(!0)})),this}removeSprite(e){return this._lazyInitEmptyStyle(),this.style.removeSprite(e),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(e,t={}){return this._lazyInitEmptyStyle(),this.style.setSprite(e,t,(e=>{e||this._update(!0)})),this}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){var e=this._container,t=(e.classList.add("maplibregl-map"),this._canvasContainer=o.create("div","maplibregl-canvas-container",e)),r=(this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=o.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region"),t=this._containerDimensions(),this._getClampedPixelRatio(t[0],t[1]));this._resizeCanvas(t[0],t[1],r);const n=this._controlContainer=o.create("div","maplibregl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{i[e]=o.create("div",`maplibregl-ctrl-${e} `,n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){var e=this._container;this._cooperativeGesturesScreen=o.create("div","maplibregl-cooperative-gesture-screen",e);let t="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(t="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),e="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map",this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${t}</div>\n            <div class="maplibregl-mobile-message">${e}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){o.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(e,t,r){this._canvas.width=Math.floor(r*e),this._canvas.height=Math.floor(r*t),this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"}_setupPainter(){const e={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let t=null;this._canvas.addEventListener("webglcontextcreationerror",(r=>{t={requestedAttributes:e},r&&(t.statusMessage=r.statusMessage,t.type=r.type)}),{once:!0});var r,n=this._canvas.getContext("webgl2",e)||this._canvas.getContext("webgl",e);if(!n)throw r="Failed to initialize WebGL",t?(t.message=r,new Error(JSON.stringify(t))):new Error(r);this.painter=new zr(n,this.transform),a.testSupport(n)}_onCooperativeGesture(e,t,r){return!t&&r<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout((()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")}),100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style&&this.style._loaded&&(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint()),this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(t){var r=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){let i=!1;this.style&&this._styleDirty&&(this._styleDirty=!1,t=this.transform.zoom,n=e.browser.now(),this.style.zoomHistory.update(t,n),1===(n=(t=new e.EvaluationParameters(t,{now:n,fadeDuration:r,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()})).crossFadingFactor())&&n===this._crossFadingFactor||(i=!0,this._crossFadingFactor=n),this.style.update(t)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,r,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:r,showPadding:this.showPadding}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.load),this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||i)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();var n=this._sourcesDirty||this._styleDirty||this._placementDirty;return n||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||n||(this._fullyLoaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.fullLoad)),this}}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==n&&removeEventListener("online",this._onWindowOnline,!1),t.removeThrottleControl(this._imageQueueHandle),null!=(r=this._resizeObserver)&&r.disconnect();var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),o.remove(this._canvasContainer),o.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),e.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=e.browser.frame((t=>{e.PerformanceUtils.frame(t),this._frame=null,this._render(t)})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&((this._showCollisionBoxes=e)?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get version(){return Un}getCameraTargetElevation(){return this.transform.elevation}};const Kn=e=>{e.touchstart=e.dragStart,e.touchmoveWindow=e.dragMove,e.touchend=e.dragEnd},Jn={showCompass:!0,showZoom:!0,visualizePitch:!1};class Qn{constructor(t,r,i=!1){this.mousedown=t=>{this.startMouse(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),o.mousePos(this.element,t)),o.addEventListener(n,"mousemove",this.mousemove),o.addEventListener(n,"mouseup",this.mouseup)},this.mousemove=e=>{this.moveMouse(e,o.mousePos(this.element,e))},this.mouseup=e=>{this.mouseRotate.dragEnd(e),this.mousePitch&&this.mousePitch.dragEnd(e),this.offTemp()},this.touchstart=e=>{1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.startTouch(e,this._startPos),o.addEventListener(n,"touchmove",this.touchmove,{passive:!1}),o.addEventListener(n,"touchend",this.touchend))},this.touchmove=e=>{1!==e.targetTouches.length?this.reset():(this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.moveTouch(e,this._lastPos))},this.touchend=e=>{0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;var a=t.dragRotate._mouseRotate.getClickTolerance(),s=t.dragRotate._mousePitch.getClickTolerance();this.element=r,this.mouseRotate=un({clickTolerance:a,enable:!0}),this.touchRotate=(({enable:e,clickTolerance:t,bearingDegreesPerPixelMoved:r=.8})=>{var n=new ln;return new on({clickTolerance:t,move:(e,t)=>({bearingDelta:(t.x-e.x)*r}),moveStateManager:n,enable:e,assignEvents:Kn})})({clickTolerance:a,enable:!0}),this.map=t,i&&(this.mousePitch=dn({clickTolerance:s,enable:!0}),this.touchPitch=(({enable:e,clickTolerance:t,pitchDegreesPerPixelMoved:r=-.5})=>{var n=new ln;return new on({clickTolerance:t,move:(e,t)=>({pitchDelta:(t.y-e.y)*r}),moveStateManager:n,enable:e,assignEvents:Kn})})({clickTolerance:s,enable:!0})),o.addEventListener(r,"mousedown",this.mousedown),o.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),o.addEventListener(r,"touchcancel",this.reset)}startMouse(e,t){this.mouseRotate.dragStart(e,t),this.mousePitch&&this.mousePitch.dragStart(e,t),o.disableDrag()}startTouch(e,t){this.touchRotate.dragStart(e,t),this.touchPitch&&this.touchPitch.dragStart(e,t),o.disableDrag()}moveMouse(e,t){var r=this.map,n=(this.mouseRotate.dragMove(e,t)||{}).bearingDelta;n&&r.setBearing(r.getBearing()+n),this.mousePitch&&(n=(this.mousePitch.dragMove(e,t)||{}).pitchDelta)&&r.setPitch(r.getPitch()+n)}moveTouch(e,t){var r=this.map,n=(this.touchRotate.dragMove(e,t)||{}).bearingDelta;n&&r.setBearing(r.getBearing()+n),this.touchPitch&&(n=(this.touchPitch.dragMove(e,t)||{}).pitchDelta)&&r.setPitch(r.getPitch()+n)}off(){var e=this.element;o.removeEventListener(e,"mousedown",this.mousedown),o.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),o.removeEventListener(n,"touchmove",this.touchmove,{passive:!1}),o.removeEventListener(n,"touchend",this.touchend),o.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){o.enableDrag(),o.removeEventListener(n,"mousemove",this.mousemove),o.removeEventListener(n,"mouseup",this.mouseup),o.removeEventListener(n,"touchmove",this.touchmove,{passive:!1}),o.removeEventListener(n,"touchend",this.touchend)}}let qn;function $n(t,r,n){var i,o,a;for(t=new e.LngLat(t.lng,t.lat),r&&(i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(r),n.locationPoint(i).distSqr(r)<a?t=i:n.locationPoint(o).distSqr(r)<a&&(t=o));180<Math.abs(t.lng-n.center.lng);){var s=n.locationPoint(t);if(0<=s.x&&0<=s.y&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}const ei={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ti(e,t,r){var n=e.classList;for(const e in ei)n.remove(`maplibregl-${r}-anchor-`+e);n.add(`maplibregl-${r}-anchor-`+t)}class ri extends e.Evented{constructor(t){if(super(),this._onKeyPress=e=>{var t=e.code;e=e.charCode||e.keyCode,"Space"!==t&&"Enter"!==t&&32!==e&&13!==e||this.togglePopup()},this._onMapClick=e=>{e=e.originalEvent.target;var t=this._element;this._popup&&(e===t||t.contains(e))&&this.togglePopup()},this._update=e=>{if(this._map){var t=this._map.loaded()&&!this._map.isMoving();"terrain"!==(null==e?void 0:e.type)&&("render"!==(null==e?void 0:e.type)||t)||this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=$n(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let r="",n=("viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?r=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(r=`rotateZ(${this._rotation-this._map.getBearing()}deg)`),"");"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),o.setTransform(this._element,`${ei[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${n} `+r),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout((()=>{var e=this._map.unproject(this._pos),t=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=e.distanceTo(this._lngLat)>20*t?"0.2":"1.0",this._opacityTimeout=null}),100))}},this._onMove=t=>{var r;this._isDragging||(r=this._clickTolerance||this._map._clickTolerance,this._isDragging=t.point.dist(this._pointerdownPos)>=r),this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},this._addDragHandler=e=>{this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.Point.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o.create("div"),this._element.setAttribute("aria-label","Map marker");var r,n=o.createNS("http://www.w3.org/2000/svg","svg"),i=(((n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height","41px"),n.setAttributeNS(null,"width","27px"),n.setAttributeNS(null,"viewBox","0 0 27 41"),r=o.createNS("http://www.w3.org/2000/svg","g")).setAttributeNS(null,"stroke","none"),r.setAttributeNS(null,"stroke-width","1"),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"fill-rule","evenodd"),r=o.createNS("http://www.w3.org/2000/svg","g")).setAttributeNS(null,"fill-rule","nonzero"),o.createNS("http://www.w3.org/2000/svg","g")),a=(i.setAttributeNS(null,"transform","translate(3.0, 29.0)"),i.setAttributeNS(null,"fill","#000000"),[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}]);for(const e of a){var s=o.createNS("http://www.w3.org/2000/svg","ellipse");s.setAttributeNS(null,"opacity","0.04"),s.setAttributeNS(null,"cx","10.5"),s.setAttributeNS(null,"cy","5.80029008"),s.setAttributeNS(null,"rx",e.rx),s.setAttributeNS(null,"ry",e.ry),i.appendChild(s)}var l,c,u=((((((a=o.createNS("http://www.w3.org/2000/svg","g")).setAttributeNS(null,"fill",this._color),l=o.createNS("http://www.w3.org/2000/svg","path")).setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),a.appendChild(l),l=o.createNS("http://www.w3.org/2000/svg","g")).setAttributeNS(null,"opacity","0.25"),l.setAttributeNS(null,"fill","#000000"),c=o.createNS("http://www.w3.org/2000/svg","path")).setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),l.appendChild(c),c=o.createNS("http://www.w3.org/2000/svg","g")).setAttributeNS(null,"transform","translate(6.0, 7.0)"),c.setAttributeNS(null,"fill","#FFFFFF"),o.createNS("http://www.w3.org/2000/svg","g")),d=(u.setAttributeNS(null,"transform","translate(8.0, 8.0)"),o.createNS("http://www.w3.org/2000/svg","circle")),h=(d.setAttributeNS(null,"fill","#000000"),d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"cx","5.5"),d.setAttributeNS(null,"cy","5.5"),d.setAttributeNS(null,"r","5.4999962"),o.createNS("http://www.w3.org/2000/svg","circle"));h.setAttributeNS(null,"fill","#FFFFFF"),h.setAttributeNS(null,"cx","5.5"),h.setAttributeNS(null,"cy","5.5"),h.setAttributeNS(null,"r","5.4999962"),u.appendChild(d),u.appendChild(h),r.appendChild(i),r.appendChild(a),r.appendChild(l),r.appendChild(c),r.appendChild(u),n.appendChild(r),n.setAttributeNS(null,"height",41*this._scale+"px"),n.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(n),this._offset=e.Point.convert(t&&t.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()})),ti(this._element,this._anchor,"marker"),t&&t.className)for(const e of t.className.split(" "))this._element.classList.add(e);this._popup=null}addTo(e){return this.remove(),(this._map=e).getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),o.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){var t;return this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e&&("offset"in e.options||(t=Math.abs(13.5)/Math.SQRT2,e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset),this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)),this}getPopup(){return this._popup}togglePopup(){var e=this._popup;return e&&(e.isOpen()?e.remove():e.addTo(this._map)),this}getOffset(){return this._offset}setOffset(t){return this._offset=e.Point.convert(t),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const ni={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ii=0,oi=!1;class ai extends e.Evented{constructor(t){super(),this._onSuccess=t=>{if(this._map){if(this._isOutOfMapMaxBounds(t))this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker();else{if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error("Unexpected watchState "+this._watchState)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t))}this._finish()}},this._updateCamera=t=>{var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=(t=t.coords.accuracy,this._map.getBearing());n=e.extend({bearing:n},this.options.fitBoundsOptions),r=k.fromLngLat(r,t),this._map.fitBounds(r,n,{geolocateSource:!0})},this._updateMarker=t=>{var r;t?(r=new e.LngLat(t.coords.longitude,t.coords.latitude),this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()):(this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove())},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=t=>{if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&oi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=t=>{this._map&&(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=o.create("button","maplibregl-ctrl-geolocate",this._container),o.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),!(this._geolocateButton.type="button")===t?(e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled."),t=this._map._getUIString("GeolocateControl.LocationNotAvailable"),this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)):(t=this._map._getUIString("GeolocateControl.FindMyLocation"),this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new ri({element:this._dotElement}),this._circleElement=o.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ri({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation)&&this._map.on("movestart",(t=>{var r=t.originalEvent&&"resize"===t.originalEvent.type;t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||r||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))},this.options=e.extend({},ni,t)}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(e,t=!1){void 0===qn||t?void 0!==n.navigator.permissions?n.navigator.permissions.query({name:"geolocation"}).then((t=>{qn="denied"!==t.state,e(qn)})).catch((()=>{qn=!!n.navigator.geolocation,e(qn)})):(qn=!!n.navigator.geolocation,e(qn)):e(qn)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(n.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),o.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ii=0,oi=!1}_isOutOfMapMaxBounds(e){var t=this._map.getMaxBounds();return e=e.coords,t&&(e.longitude<t.getWest()||e.longitude>t.getEast()||e.latitude<t.getSouth()||e.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error("Unexpected watchState "+this._watchState)}}_updateCircleRadius(){var e=(t=this._map.getBounds()).getSouthEast(),t=t.getNorthEast();e=e.distanceTo(t),t=this._map._container.clientHeight,e=Math.ceil(this._accuracy/(e/t)*2),this._circleElement.style.width=e+"px",this._circleElement.style.height=e+"px"}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ii--,oi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"));break;default:throw new Error("Unexpected watchState "+this._watchState)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error("Unexpected watchState "+this._watchState)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ii++,oi=1<ii?(e={maximumAge:6e5,timeout:0},!0):(e=this.options.positionOptions,!1),this._geolocationWatchID=n.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else n.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){n.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}const si={maxWidth:100,unit:"metric"};function li(e,t,r){var n=r&&r.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]);i=e.unproject([n,i]),o=o.distanceTo(i),r&&"imperial"===r.unit?5280<(i=3.2808*o)?ci(t,n,i/5280,e._getUIString("ScaleControl.Miles")):ci(t,n,i,e._getUIString("ScaleControl.Feet")):r&&"nautical"===r.unit?ci(t,n,o/1852,e._getUIString("ScaleControl.NauticalMiles")):1e3<=o?ci(t,n,o/1e3,e._getUIString("ScaleControl.Kilometers")):ci(t,n,o,e._getUIString("ScaleControl.Meters"))}function ci(e,t,r,n){var i=function(e){var t=Math.pow(10,(""+Math.floor(e)).length-1);return e=10<=(e/=t)?10:5<=e?5:3<=e?3:2<=e?2:1<=e?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(e),t*e}(r);e.style.width=t*(i/r)+"px",e.innerHTML=i+"&nbsp;"+n}class ui extends e.Evented{constructor(t={}){super(),this._onFullscreenChange=()=>{(n.document.fullscreenElement||n.document.mozFullScreenElement||n.document.webkitFullscreenElement||n.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){o.remove(this._controlContainer),this._map=null,n.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){var e=this._fullscreenButton=o.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);o.create("span","maplibregl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new e.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new e.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){n.document.exitFullscreen?n.document.exitFullscreen():n.document.mozCancelFullScreen?n.document.mozCancelFullScreen():n.document.msExitFullscreen?n.document.msExitFullscreen():n.document.webkitCancelFullScreen?n.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}}const di={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},hi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");class pi extends e.Evented{constructor(t){super(),this.remove=()=>(this._content&&o.remove(this._content),this._container&&(o.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{var t=this._lngLat||this._trackPointer;if(this._map&&t&&this._content){if(!this._container){if(this._container=o.create("div","maplibregl-popup",this._map.getContainer()),this._tip=o.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const e of this.options.className.split(" "))this._container.classList.add(e);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=$n(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e){t=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);let i=this.options.anchor;if(e=mi(this.options.offset),!i){var r=this._container.offsetWidth,n=this._container.offsetHeight;let o;o=t.y+e.bottom.y<n?["top"]:t.y>this._map.transform.height-n?["bottom"]:[],t.x<r/2?o.push("left"):t.x>this._map.transform.width-r/2&&o.push("right"),i=0===o.length?"bottom":o.join("-")}n=t.add(e[i]).round(),o.setTransform(this._container,`${ei[i]} translate(${n.x}px,${n.y}px)`),ti(this._container,i,"popup")}}},this._onClose=()=>{this.remove()},this.options=e.extend(Object.create(di),t)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){var t,r=document.createDocumentFragment(),n=document.createElement("body");for(n.innerHTML=e;t=n.firstChild;)r.appendChild(t);return this.setDOMContent(r)}getMaxWidth(){var e;return null==(e=this._container)?void 0:e.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=o.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=o.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){var e;this.options.focusAfterOpen&&this._container&&(e=this._container.querySelector(hi))&&e.focus()}}function mi(t){var r;return t?"number"==typeof t?(r=Math.round(Math.abs(t)/Math.SQRT2),{center:new e.Point(0,0),top:new e.Point(0,t),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-t),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(t,0),right:new e.Point(-t,0)}):t instanceof e.Point||Array.isArray(t)?{center:r=e.Point.convert(t),top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}:{center:e.Point.convert(t.center||[0,0]),top:e.Point.convert(t.top||[0,0]),"top-left":e.Point.convert(t["top-left"]||[0,0]),"top-right":e.Point.convert(t["top-right"]||[0,0]),bottom:e.Point.convert(t.bottom||[0,0]),"bottom-left":e.Point.convert(t["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(t["bottom-right"]||[0,0]),left:e.Point.convert(t.left||[0,0]),right:e.Point.convert(t.right||[0,0])}:mi(new e.Point(0,0))}const yi=i;class fi{static get version(){return yi}static get workerCount(){return K.workerCount}static set workerCount(e){K.workerCount=e}static get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t}static get workerUrl(){return e.config.WORKER_URL}static set workerUrl(t){e.config.WORKER_URL=t}static addProtocol(t,r){e.config.REGISTERED_PROTOCOLS[t]=r}static removeProtocol(t){delete e.config.REGISTERED_PROTOCOLS[t]}}return fi.Map=Ke,fi.NavigationControl=class{constructor(t){this._updateZoomButtons=()=>{var e=(t=this._map.getZoom())===this._map.getMaxZoom(),t=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=t,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",t.toString())},this._rotateCompassArrow=()=>{var e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=e},this._setButtonTitle=(e,t)=>{t=this._map._getUIString("NavigationControl."+t),e.title=t,e.setAttribute("aria-label",t)},this.options=e.extend({},Jn,t),this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})})),this._compassIcon=o.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Qn(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){o.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){return(e=o.create("button",e,this._container)).type="button",e.addEventListener("click",t),e}},fi.GeolocateControl=ai,fi.AttributionControl=Rn,fi.LogoControl=Dn,fi.ScaleControl=class{constructor(t){this._onMove=()=>{li(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,li(this._map,this._container,this.options)},this.options=e.extend({},si,t)}getDefaultPosition(){return"bottom-left"}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){o.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},fi.FullscreenControl=ui,fi.TerrainControl=class{constructor(e){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=e}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=o.create("button","maplibregl-ctrl-terrain",this._container),o.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){o.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},fi.Popup=pi,fi.Marker=ri,fi.Style=Ue,fi.LngLat=e.LngLat,fi.LngLatBounds=k,fi.Point=e.Point,fi.MercatorCoordinate=e.MercatorCoordinate,fi.Evented=e.Evented,fi.AJAXError=e.AJAXError,fi.config=e.config,fi.CanvasSource=R,fi.GeoJSONSource=z,fi.ImageSource=P,fi.RasterDEMTileSource=E,fi.RasterTileSource=Z,fi.VectorTileSource=N,fi.VideoSource=A,fi.setRTLTextPlugin=e.setRTLTextPlugin,fi.getRTLTextPluginStatus=e.getRTLTextPluginStatus,fi.prewarm=function(){Q().acquire(B)},fi.clearPrewarmedResources=function(){var e=J;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(B),J=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},function(t,...r){e.extend(t,...r)}(fi,{isSafari:e.isSafari,getPerformanceMetrics:e.PerformanceUtils.getPerformanceMetrics}),fi})),r},c.exports=e()}(),c.exports),d=a(u),h={domain:"atlas.microsoft.com",staticAssetsDomain:"atlas.microsoft.com",stylePath:"styling",styleDefinitionsVersion:"2023-01-01",appInsightsKey:"e96cb745-c6f5-409c-a775-c4313e468c1d",aadInstance:"https://login.microsoftonline.com/"},p="api-version",m="Authorization",y="{{azMapsDomain}}",f="{azMapsDomain}",g="{{azMapsView}}",b="{{azMapsLanguage}}",v="{{azMapsStylingPath}}",M="{{azMapsStylePath}}",x="styling",S="styles",w="x-ms-client-id",_=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},T=function(){function e(){}return e.prototype.merge=function(){for(var t,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var a=_(i),s=a.next();!s.done;s=a.next()){var l=s.value;if(l)for(var c in l)l.hasOwnProperty(c)&&this.hasOwnProperty(c)&&(void 0!==l[c]&&null!=l[c]?this[c]instanceof e?this[c].merge(l[c]):this[c]=l[c]:(n=n||new(Object.getPrototypeOf(this).constructor),this[c]=n[c]))}}catch(r){t={error:r}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this},e}(),I=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.domain=void 0,t.headers={},t.path="",t.protocol="https",t.queryParams={},t.subdomain="",t}return I(t,e),t}(T),L=function(){function e(e){this.options=(new k).merge(e)}return e.prototype.get=function(){return fetch(this.toString(),{method:"GET",mode:"cors",headers:new Headers(this.options.headers)}).then((function(e){if(e.ok)return e.json();throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText))}))},e.prototype.toString=function(){var t=Object.entries(this.options.queryParams).map((function(e){var t=(e=C(e,2))[0];return e=e[1],"".concat(t,"=").concat(e)})).join("&"),r=[],n=this.options.path||"";return e.protoRegEx.test(n)?r.push(n):(this.options.domain&&(e.protoRegEx.test(this.options.domain)||(r.push("".concat(this.options.protocol,"://")),r.push(this.options.subdomain?"".concat(this.options.subdomain,"."):"")),r.push(this.options.domain)),r.push(this.options.path?"/".concat(n):"")),r.push(t?"?".concat(t):""),r.join("")},e.protoRegEx=new RegExp(/^(((file|http|https):\/\/)|blob:)/i),e}(),N="3.1.2",Z=function(){function e(){}return e.getFullVersion=function(){return N},e.getEndpointVersion=function(){var e=N.indexOf(".");return-1===(e=N.indexOf(".",e+1))?N:N.substring(0,e)},e}(),E=function(e){var t=document.createElement("span");return t.innerText=e,t.classList.add("tooltiptext"),-1!=navigator.userAgent.indexOf("Edg")?t.classList.add("edge"):-1!=navigator.userAgent.indexOf("Chrome")?t.classList.add("chrome"):-1!=navigator.userAgent.indexOf("Safari")?t.classList.add("safari"):-1!=navigator.userAgent.indexOf("Firefox")&&t.classList.add("firefox"),-1!=navigator.userAgent.indexOf("Windows")?t.classList.add("win"):-1!=navigator.userAgent.indexOf("Macintosh")&&t.classList.add("mac"),t},z=function(e,t,r){function i(i){var o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),s=o.x+a.width>n.innerWidth?n.innerWidth-a.width:o.x;a=o.y+o.height+a.height+4>n.innerHeight?o.y-a.height-4:o.y+o.height+4,r&&t.parentElement&&(o=t.parentElement?t.parentElement.getBoundingClientRect():null,e.style.position="absolute",s-=o.x,a-=o.y),e.style.transform="translate(".concat(s,"px, ").concat(a,"px)"),e.style.display="block"}void 0===r&&(r=!1),t.addEventListener("mouseover",i),t.addEventListener("focusin",i),t.addEventListener("keydown",(function(t){"Escape"!==t.key&&"Esc"!==t.key||"block"!==e.style.display||(t.stopPropagation(),e.style.display="none")}))},G=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),P=(function(e){e.TopLeft="top-left",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomRight="bottom-right",e.NonFixed="non-fixed"}(s=s||{}),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=s.NonFixed,t}return G(t,e),t}(T)),A=function(){function e(e){var t;e&&(t=void 0,3<=(t="string"==typeof e?this.getRBGA(e):e).length)&&(this.r=t[0],this.g=t[1],this.b=t[2],3<t.length)&&(this.a=t[3])}return e.prototype.getLuminosity=function(){for(var e=[this.r,this.g,this.b],t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((.055+n)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},e.prototype.getRBGA=function(e){var t=document.createElement("canvas").getContext("2d");return[(t.globalAlpha=1,t.fillStyle=e,t.fillRect(0,0,1,1),e=t.getImageData(0,0,1,1).data)[0],e[1],e[2],e[3]]},e}(),R=(function(e){e.light="light",e.dark="dark",e.auto="auto"}(l=l||{}),Map),D=function(){function e(){this.listeners=new R}return e.prototype._addEventListener=function(e,t,r){this.listeners.has(e)||this.listeners.set(e,new R),this.listeners.get(e).set(t,r)},e.prototype._removeEventListener=function(e,t){this.listeners.has(e)&&this.listeners.get(e).delete(t)},e.prototype._invokeEvent=function(e,t){var r=this;this.listeners.has(e)&&this.listeners.get(e).forEach((function(n,i){n&&r._removeEventListener(e,i);try{i(t)}catch(n){console.error(n)}}))},e}(),X=Object.freeze({__proto__:null,EventEmitter:D}),O=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onStyleChange=function(){t._map.getStyle().style.toLowerCase().startsWith("blank")?t._observer||(t._onBackgroundChange(),t._observer=new MutationObserver(t._onBackgroundChange),t._observer.observe(t._map.getMapContainer(),{attributes:!0,attributeFilter:["style"]})):(t._observer&&(t._observer.disconnect(),delete t._observer),t._map.styles.getThemeAsync(t._map.getStyle()).then((function(e){t._setTheme(e)})))},t._onBackgroundChange=function(){var e=new A(t._map.getMapContainer().style.backgroundColor).getLuminosity();e=isNaN(e)||.5<e?l.light:l.dark,t._setTheme(e)},t}return O(t,e),t.prototype.onRemove=function(){this._container&&(this._container.remove(),delete this._container),this._map&&(this._map.events.remove("stylechanged",this._onStyleChange),delete this._map),this._observer&&(this._observer.disconnect(),delete this._observer),delete this._theme},t.prototype.buildContainer=function(e,t,r,n){return this._map=e,this._container=document.createElement(n||"div"),this._container.classList.add("azure-maps-control-container"),"string"==typeof r&&this._container.setAttribute("aria-label",r),t.toLowerCase()===l.auto?this._map&&this._map.events.add("stylechanged",this._onStyleChange):this._container.classList.add(t),this._container},t.prototype._setTheme=function(e){this._theme!==e&&(this._container.classList.remove(this._theme),this._container.classList.add(e),this._theme=e)},t.activateClickDelay=100,t}(D),j=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rotationDegreesDelta=15,t.style=l.light,t.inverted=!1,t}return j(t,e),t}(T),F=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),V=function(e){function t(t){var r=e.call(this)||this;return r.hasMouse=!1,r.hasFocus=!1,r.options=(new Y).merge(t),r}return F(t,e),t.prototype.onAdd=function(e,r){var n=this,i=this.buildContainer(e,this.options.style,"Rotation Control"),o=this.constructRotationButton(e),a=this.constructRotationGrid(e,r),s=E("Reset to Default Rotation");return i.addEventListener("mouseover",(function(e){n.lastActiveTime=n.lastActiveTime||e.timeStamp,n.hasMouse=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("focusin",(function(e){n.lastActiveTime=n.lastActiveTime||e.timeStamp,n.hasFocus=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("mouseleave",(function(){n.hasMouse=!1,n.hasFocus||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),i.addEventListener("focusout",(function(e){e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(n.hasFocus=!1,n.hasMouse)||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),a.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||(e.stopPropagation(),o.focus(),i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),o.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||null==i||!i.classList.contains("in-use")||"none"!==(null==s?void 0:s.style.display)||(e.stopPropagation(),i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),r&&t.InvertOrderPositions.includes(r.position)?(i.appendChild(a),i.appendChild(o),i.appendChild(s),z(s,o)):(i.appendChild(o),i.appendChild(s),z(s,o),i.appendChild(a)),i},t.prototype.constructRotationGrid=function(e,r){var n=document.createElement("div"),i=(n.classList.add("sub-container"),n.classList.add("hidden-accessible-element"),this.constructRightRotationButton(e)),o=(e=this.constructLeftRotationButton(e),E("Rotate Left")),a=E("Rotate Right");return r&&t.InvertOrderPositions.includes(r.position)?(n.appendChild(i),n.appendChild(a),z(a,i),n.appendChild(e),n.appendChild(o),z(o,e)):(n.appendChild(e),n.appendChild(o),z(o,e),n.appendChild(i),n.appendChild(a),z(a,i)),n},t.prototype.constructRotationButton=function(e){var r=this,n=document.createElement("button"),i=(n.classList.add("azure-maps-control-button"),n.classList.add("rotation"),n.setAttribute("aria-label","Reset to Default Rotation"),n.setAttribute("alt","Reset to Default Rotation"),n.setAttribute("type","button"),document.createElement("div"));return n.appendChild(i),n.addEventListener("click",(function(n){n.timeStamp-r.lastActiveTime>W.activateClickDelay&&e.setCamera({bearing:t.DefaultRotation},!0)})),e.events.add("rotate",(function(e){i.style.transform="rotate(".concat(-e.map.getCamera().bearing,"deg)")})),n},t.prototype.constructRightRotationButton=function(e){var r=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("rotation-right"),n.setAttribute("aria-label","Rotate Right"),n.setAttribute("alt","Rotate Right"),n.setAttribute("type","button"),n.addEventListener("click",(function(){e.setCamera({bearing:e.getCamera().bearing-(r.options.inverted?-1:1)*r.options.rotationDegreesDelta,duration:t.RotationDuration,type:"ease"},!0)})),n},t.prototype.constructLeftRotationButton=function(e){var r=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("rotation-left"),n.setAttribute("aria-label","Rotate Left"),n.setAttribute("alt","Rotate Left"),n.setAttribute("type","button"),n.addEventListener("click",(function(){e.setCamera({bearing:e.getCamera().bearing+(r.options.inverted?-1:1)*r.options.rotationDegreesDelta,duration:t.RotationDuration,type:"ease"},!0)})),n},t.DefaultRotation=0,t.RotationDuration=100,t.InvertOrderPositions=[s.BottomRight,s.TopRight],t}(W),H=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pitchDegreesDelta=10,t.style=l.light,t.inverted=!1,t}return H(t,e),t}(T),B=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(e){function t(t){var r=e.call(this)||this;return r.container=null,r.map=null,r.pitchButton=null,r.pitchIncrementButton=null,r.pitchDecrementButton=null,r.hasMouse=!1,r.hasFocus=!1,r.pitchChanged=function(e){return r.updatePitchButtonsState()},r.updatePitchButtonsState=function(){var e=r.map.getCamera().pitch<=0,t=60<=r.map.getCamera().pitch;r.hasFocus&&r.pitchButton&&(e||t)&&r.pitchButton.focus(),r.options.inverted?(r.pitchIncrementButton&&r.pitchIncrementButton.disabled!=e&&(r.pitchIncrementButton.disabled=e),r.pitchDecrementButton&&r.pitchDecrementButton.disabled!=t&&(r.pitchDecrementButton.disabled=t)):(r.pitchIncrementButton&&r.pitchIncrementButton.disabled!=t&&(r.pitchIncrementButton.disabled=t),r.pitchDecrementButton&&r.pitchDecrementButton.disabled!=e&&(r.pitchDecrementButton.disabled=e))},r.options=(new U).merge(t),r}return B(t,e),t.prototype.onAdd=function(e,r){var n=this,i=this.buildContainer(e,this.options.style,"Pitch Control"),o=this.constructPitchButton(e),a=this.constructPitchGrid(e,r),s=E("Reset to Default Pitch");return i.addEventListener("mouseover",(function(e){n.lastActiveTime=n.lastActiveTime||e.timeStamp,n.hasMouse=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("focusin",(function(e){n.lastActiveTime=n.lastActiveTime||e.timeStamp,n.hasFocus=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("mouseleave",(function(){n.hasMouse=!1,n.hasFocus||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),i.addEventListener("focusout",(function(e){e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(n.hasFocus=!1,n.hasMouse)||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),a.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||(e.stopPropagation(),o.focus(),i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),o.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||null==i||!i.classList.contains("in-use")||"none"!==(null==s?void 0:s.style.display)||(e.stopPropagation(),i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),r&&t.INVERT_ORDER_POSITIONS.includes(r.position)?(i.appendChild(a),i.appendChild(o),i.appendChild(s),z(s,i)):(i.appendChild(o),i.appendChild(s),z(s,i),i.appendChild(a)),this.map=e,this.container=i,this.pitchButton=o,e.events.add("pitch",this.pitchChanged),this.updatePitchButtonsState(),i},t.prototype.onRemove=function(){this.container&&(this.container.remove(),this.container=null,this.pitchButton=null,this.pitchIncrementButton=null,this.pitchDecrementButton=null),this.map&&(this.map.events.remove("pitch",this.pitchChanged),this.map=null)},t.prototype.constructPitchGrid=function(e,r){var n=document.createElement("div"),i=(n.classList.add("sub-container"),n.classList.add("hidden-accessible-element"),this.pitchIncrementButton=this.constructPitchIncrementButton(e),this.pitchDecrementButton=this.constructPitchDecrementButton(e),e=E("Increase Pitch"),E("Decrease Pitch"));return r&&t.INVERT_ORDER_POSITIONS.includes(r.position)?(n.appendChild(this.pitchDecrementButton),n.appendChild(i),z(i,this.pitchDecrementButton),n.appendChild(this.pitchIncrementButton),n.appendChild(e),z(e,this.pitchIncrementButton)):(n.appendChild(this.pitchIncrementButton),n.appendChild(e),z(e,this.pitchIncrementButton),n.appendChild(this.pitchDecrementButton),n.appendChild(i),z(i,this.pitchDecrementButton)),n},t.prototype.constructPitchButton=function(e){var r=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("pitch"),n.setAttribute("aria-label","Reset to Default Pitch"),n.setAttribute("alt","Reset to Default Pitch"),n.setAttribute("type","button"),n.addEventListener("click",(function(){event.timeStamp-r.lastActiveTime>W.activateClickDelay&&e.setCamera({pitch:t.DEFAULT_PITCH},!0)})),n},t.prototype.constructPitchDecrementButton=function(e){var r=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("pitch-down"),n.setAttribute("aria-label","Decrease Pitch"),n.setAttribute("alt","Decrease Pitch"),n.setAttribute("type","button"),n.addEventListener("click",(function(){e.setCamera({pitch:e.getCamera().pitch-(r.options.inverted?-1:1)*r.options.pitchDegreesDelta,duration:t.PITCH_DURATION_MS,type:"ease"},!0)})),n},t.prototype.constructPitchIncrementButton=function(e){var r=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("pitch-up"),n.setAttribute("aria-label","Increase Pitch"),n.setAttribute("alt","Increase Pitch"),n.setAttribute("type","button"),n.addEventListener("click",(function(){e.setCamera({pitch:e.getCamera().pitch+(r.options.inverted?-1:1)*r.options.pitchDegreesDelta,duration:t.PITCH_DURATION_MS,type:"ease"},!0)})),n},t.PITCH_DURATION_MS=100,t.DEFAULT_PITCH=0,t.INVERT_ORDER_POSITIONS=[s.BottomRight,s.TopRight],t}(W),J=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q=function(e){function t(t){var r=e.call(this)||this;return r.map=null,r.control=new d.ScaleControl({maxWidth:null==t?void 0:t.maxWidth,unit:null==t?void 0:t.unit}),r}return J(t,e),t.prototype.onAdd=function(e,t){this.map=e,null!=(r=null==(r=this.map)?void 0:r._getMap())&&r.addControl(this.control);var r=this.buildContainer(e,l.auto,"Scale Bar");return r.appendChild(null==(e=this.control)?void 0:e._container),r},t.prototype.onRemove=function(){var t;e.prototype.onRemove.call(this),null!=(t=null==(t=this.map)?void 0:t._getMap())&&t.removeControl(this.control),this.map=null},t.prototype.setUnit=function(e){var t;null!=(t=this.control)&&t.setUnit(e)},t}(W),q=function(e,t){return e===t||e!=e&&t!=t},$=q,ee=function(e,t){for(var r=e.length;r--;)if($(e[r][0],t))return r;return-1},te=ee,re=Array.prototype.splice;var ne=ee;var ie=ee;var oe=ee;var ae=function(){this.__data__=[],this.size=0},se=function(e){var t=this.__data__;return!((e=te(t,e))<0||(e==t.length-1?t.pop():re.call(t,e,1),--this.size,0))},le=function(e){var t=this.__data__;return(e=ne(t,e))<0?void 0:t[e][1]},ce=function(e){return-1<ie(this.__data__,e)},ue=function(e,t){var r=this.__data__,n=oe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function de(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}de.prototype.clear=ae,de.prototype.delete=se,de.prototype.get=le,de.prototype.has=ce,de.prototype.set=ue;var he=de,pe=he,me="object"==typeof o&&o&&o.Object===Object&&o,ye=me,fe="object"==typeof self&&self&&self.Object===Object&&self,ge=ye||fe||Function("return this")(),be=ge.Symbol,ve=be,Me=Object.prototype,xe=Me.hasOwnProperty,Se=Me.toString,we=ve?ve.toStringTag:void 0,_e=Object.prototype.toString;var Te=function(e){var t=xe.call(e,we),r=e[we];try{var n=!(e[we]=void 0)}catch(e){}var i=Se.call(e);return n&&(t?e[we]=r:delete e[we]),i},Ie=function(e){return _e.call(e)},Ce=be?be.toStringTag:void 0,ke=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(Ce&&Ce in Object(e)?Te:Ie)(e)},Le=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ne=ke,Ze=Le,Ee=function(e){return!!Ze(e)&&("[object Function]"==(e=Ne(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},ze=ge["__core-js_shared__"],Ge=function(){var e=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pe=Function.prototype.toString,Ae=function(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Re=Ee,De=function(e){return!!Ge&&Ge in e},Xe=Le,Oe=Ae,We=/^\[object .+?Constructor\]$/,je=Function.prototype,Ye=Object.prototype,Fe=je.toString,Ve=Ye.hasOwnProperty,He=RegExp("^"+Fe.call(Ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ue=function(e){return!(!Xe(e)||De(e))&&(Re(e)?He:We).test(Oe(e))},Be=function(e,t){return null==e?void 0:e[t]},Ke=function(e,t){return e=Be(e,t),Ue(e)?e:void 0},Je=Ke(ge,"Map"),Qe=Ke(Object,"create"),qe=Qe,$e=Qe,et=Object.prototype.hasOwnProperty,tt=Qe,rt=Object.prototype.hasOwnProperty;var nt=Qe;var it=function(){this.__data__=qe?qe(null):{},this.size=0},ot=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},at=function(e){var t,r=this.__data__;return $e?"__lodash_hash_undefined__"===(t=r[e])?void 0:t:et.call(r,e)?r[e]:void 0},st=function(e){var t=this.__data__;return tt?void 0!==t[e]:rt.call(t,e)},lt=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nt&&void 0===t?"__lodash_hash_undefined__":t,this};function ct(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ct.prototype.clear=it,ct.prototype.delete=ot,ct.prototype.get=at,ct.prototype.has=st,ct.prototype.set=lt;var ut=ct,dt=he,ht=Je;var pt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};function mt(e,t){return e=e.__data__,pt(t)?e["string"==typeof t?"string":"hash"]:e.map}var yt=mt;var ft=mt;var gt=mt;var bt=mt;var vt=function(){this.size=0,this.__data__={hash:new ut,map:new(ht||dt),string:new ut}},Mt=function(e){return e=yt(this,e).delete(e),this.size-=e?1:0,e},xt=function(e){return ft(this,e).get(e)},St=function(e){return gt(this,e).has(e)},wt=function(e,t){var r=bt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function _t(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_t.prototype.clear=vt,_t.prototype.delete=Mt,_t.prototype.get=xt,_t.prototype.has=St,_t.prototype.set=wt;var Tt=_t,It=he,Ct=Je,kt=Tt;var Lt=he,Nt=function(){this.__data__=new pe,this.size=0},Zt=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Et=function(e){return this.__data__.get(e)},zt=function(e){return this.__data__.has(e)},Gt=function(e,t){var r=this.__data__;if(r instanceof It){var n=r.__data__;if(!Ct||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new kt(n)}return r.set(e,t),this.size=r.size,this};function Pt(e){e=this.__data__=new Lt(e),this.size=e.size}Pt.prototype.clear=Nt,Pt.prototype.delete=Zt,Pt.prototype.get=Et,Pt.prototype.has=zt,Pt.prototype.set=Gt;var At=Pt,Rt=Ke,Dt=function(){try{var e=Rt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Xt=Dt,Ot=Xt,Wt=function(e,t,r){"__proto__"==t&&Ot?Ot(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},jt=Wt,Yt=q,Ft=Object.prototype.hasOwnProperty,Vt=function(e,t,r){var n=e[t];Ft.call(e,t)&&Yt(n,r)&&(void 0!==r||t in e)||jt(e,t,r)},Ht=Vt,Ut=Wt,Bt=function(e,t,r,n){for(var i=!r,o=(r=r||{},-1),a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),(i?Ut:Ht)(r,s,l)}return r},Kt=function(e){return null!=e&&"object"==typeof e},Jt=ke,Qt=Kt;var qt=function(e){return Qt(e)&&"[object Arguments]"==Jt(e)},$t=Kt,er=Object.prototype,tr=er.hasOwnProperty,rr=er.propertyIsEnumerable,nr=qt(function(){return arguments}())?qt:function(e){return $t(e)&&tr.call(e,"callee")&&!rr.call(e,"callee")},ir=nr,or=Array.isArray,ar={exports:{}},sr=function(){return!1},lr=(function(e,t){var r;t=(r=(r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&r.exports===t?ge.Buffer:void 0)?r.isBuffer:void 0,e.exports=t||sr}(ar,ar.exports),ar.exports),cr=/^(?:0|[1-9]\d*)$/,ur=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&cr.test(e))&&-1<e&&e%1==0&&e<t},dr=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},hr=ke,pr=dr,mr=Kt,yr={};yr["[object Float32Array]"]=yr["[object Float64Array]"]=yr["[object Int8Array]"]=yr["[object Int16Array]"]=yr["[object Int32Array]"]=yr["[object Uint8Array]"]=yr["[object Uint8ClampedArray]"]=yr["[object Uint16Array]"]=yr["[object Uint32Array]"]=!0,yr["[object Arguments]"]=yr["[object Array]"]=yr["[object ArrayBuffer]"]=yr["[object Boolean]"]=yr["[object DataView]"]=yr["[object Date]"]=yr["[object Error]"]=yr["[object Function]"]=yr["[object Map]"]=yr["[object Number]"]=yr["[object Object]"]=yr["[object RegExp]"]=yr["[object Set]"]=yr["[object String]"]=yr["[object WeakMap]"]=!1;var fr=function(e){return function(t){return e(t)}},gr={exports:{}},br=(function(e,t){var r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,n=r&&r.exports===t&&me.process;t=function(){try{return r&&r.require&&r.require("util").types||n&&n.binding&&n.binding("util")}catch(e){}}(),e.exports=t}(gr,gr.exports),gr.exports),vr=function(e){return mr(e)&&pr(e.length)&&!!yr[hr(e)]},Mr=fr,xr=br&&br.isTypedArray,Sr=xr?Mr(xr):vr,wr=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},_r=ir,Tr=or,Ir=lr,Cr=ur,kr=Sr,Lr=Object.prototype.hasOwnProperty,Nr=function(e,t){var r,n=Tr(e),i=!n&&_r(e),o=!n&&!i&&Ir(e),a=!n&&!i&&!o&&kr(e),s=n||i||o||a,l=s?wr(e.length,String):[],c=l.length;for(r in e)!t&&!Lr.call(e,r)||s&&("length"==r||o&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||Cr(r,c))||l.push(r);return l},Zr=Object.prototype,Er=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Zr)},zr=function(e,t){return function(r){return e(t(r))}},Gr=zr(Object.keys,Object),Pr=Er,Ar=Gr,Rr=Object.prototype.hasOwnProperty;var Dr=Ee,Xr=dr,Or=function(e){return null!=e&&Xr(e.length)&&!Dr(e)},Wr=Nr,jr=function(e){if(!Pr(e))return Ar(e);var t,r=[];for(t in Object(e))Rr.call(e,t)&&"constructor"!=t&&r.push(t);return r},Yr=Or,Fr=function(e){return(Yr(e)?Wr:jr)(e)},Vr=Bt,Hr=Fr;var Ur=Le,Br=Er,Kr=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Jr=Object.prototype.hasOwnProperty;var Qr=Nr,qr=function(e){if(!Ur(e))return Kr(e);var t,r=Br(e),n=[];for(t in e)("constructor"!=t||!r&&Jr.call(e,t))&&n.push(t);return n},$r=Or,en=function(e){return $r(e)?Qr(e,!0):qr(e)},tn=Bt,rn=en,nn={exports:{}},on=(function(e,t){var r,n=(r=(r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&r.exports===t?ge.Buffer:void 0)?r.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=n?n(t):new e.constructor(t),e.copy(t),t)}}(nn,nn.exports),nn.exports),an=function(e,t){var r=-1,n=e.length;for(t=t||Array(n);++r<n;)t[r]=e[r];return t};var sn=function(){return[]},ln=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o},cn=sn,un=Object.prototype.propertyIsEnumerable,dn=Object.getOwnPropertySymbols,hn=dn?function(e){return null==e?[]:(e=Object(e),ln(dn(e),(function(t){return un.call(e,t)})))}:cn,pn=hn,mn=Bt,yn=pn,fn=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},gn=zr(Object.getPrototypeOf,Object),bn=fn,vn=gn,Mn=pn,xn=sn,Sn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)bn(t,Mn(e)),e=vn(e);return t}:xn,wn=Bt,_n=Sn,Tn=fn,In=or;function Cn(e,t,r){return t=t(e),In(e)?t:Tn(t,r(e))}var kn=Cn,Ln=pn,Nn=Fr,Zn=function(e){return kn(e,Nn,Ln)},En=Cn,zn=Sn,Gn=en,Pn=Ke(ge,"DataView"),An=Je,Rn=Ke(ge,"Promise"),Dn=Ke(ge,"Set"),Xn=Ke(ge,"WeakMap"),On=ke,Wn=Ae,jn="[object Map]",Yn="[object Promise]",Fn="[object Set]",Vn="[object WeakMap]",Hn="[object DataView]",Un=Wn(Pn),Bn=Wn(An),Kn=Wn(Rn),Jn=Wn(Dn),Qn=Wn(Xn),qn=On,$n=qn=Pn&&qn(new Pn(new ArrayBuffer(1)))!=Hn||An&&qn(new An)!=jn||Rn&&qn(Rn.resolve())!=Yn||Dn&&qn(new Dn)!=Fn||Xn&&qn(new Xn)!=Vn?function(e){var t=On(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?Wn(e):"")switch(e){case Un:return Hn;case Bn:return jn;case Kn:return Yn;case Jn:return Fn;case Qn:return Vn}return t}:qn,ei=Object.prototype.hasOwnProperty,ti=ge.Uint8Array,ri=ti,ni=function(e){var t=new e.constructor(e.byteLength);return new ri(t).set(new ri(e)),t},ii=ni,oi=/\w*$/,ai=be?be.prototype:void 0,si=ai?ai.valueOf:void 0;var li=ni,ci=function(e,t){return t=t?li(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},ui=ni,di=function(e,t){return t=t?ii(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength)},hi=function(e){var t=new e.constructor(e.source,oi.exec(e));return t.lastIndex=e.lastIndex,t},pi=function(e){return si?Object(si.call(e)):{}},mi=ci,yi=Le,fi=Object.create,gi=function(){function e(){}return function(t){return yi(t)?fi?fi(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),bi=gi,vi=gn,Mi=Er,xi=function(e){return"function"!=typeof e.constructor||Mi(e)?{}:bi(vi(e))},Si=$n,wi=Kt;var _i=function(e){return wi(e)&&"[object Map]"==Si(e)},Ti=fr,Ii=br&&br.isMap,Ci=Ii?Ti(Ii):_i,ki=$n,Li=Kt;var Ni=function(e){return Li(e)&&"[object Set]"==ki(e)},Zi=fr,Ei=br&&br.isSet,zi=Ei?Zi(Ei):Ni,Gi=At,Pi=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Ai=Vt,Ri=function(e,t){return e&&Vr(t,Hr(t),e)},Di=function(e,t){return e&&tn(t,rn(t),e)},Xi=on,Oi=an,Wi=function(e,t){return mn(e,yn(e),t)},ji=function(e,t){return wn(e,_n(e),t)},Yi=Zn,Fi=function(e){return En(e,Gn,zn)},Vi=$n,Hi=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ei.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Ui=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return ui(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return di(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mi(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return hi(e);case"[object Symbol]":return pi(e)}},Bi=xi,Ki=or,Ji=lr,Qi=Ci,qi=Le,$i=zi,eo=Fr,to=en,ro="[object Arguments]",no="[object Function]",io="[object Object]",oo={};oo[ro]=oo["[object Array]"]=oo["[object ArrayBuffer]"]=oo["[object DataView]"]=oo["[object Boolean]"]=oo["[object Date]"]=oo["[object Float32Array]"]=oo["[object Float64Array]"]=oo["[object Int8Array]"]=oo["[object Int16Array]"]=oo["[object Int32Array]"]=oo["[object Map]"]=oo["[object Number]"]=oo[io]=oo["[object RegExp]"]=oo["[object Set]"]=oo["[object String]"]=oo["[object Symbol]"]=oo["[object Uint8Array]"]=oo["[object Uint8ClampedArray]"]=oo["[object Uint16Array]"]=oo["[object Uint32Array]"]=!0,oo["[object Error]"]=oo[no]=oo["[object WeakMap]"]=!1;var ao=function e(t,r,n,i,o,a){var s,l=1&r,c=2&r,u=4&r;if(void 0===(s=n?o?n(t,i,o,a):n(t):s)){if(!qi(t))return t;if(i=Ki(t)){if(s=Hi(t),!l)return Oi(t,s)}else{var d=Vi(t),h=d==no||"[object GeneratorFunction]"==d;if(Ji(t))return Xi(t,l);if(d==io||d==ro||h&&!o){if(s=c||h?{}:Bi(t),!l)return c?ji(t,Di(s,t)):Wi(t,Ri(s,t))}else{if(!oo[d])return o?t:{};s=Ui(t,d,l)}}if(h=(a=a||new Gi).get(t))return h;a.set(t,s),$i(t)?t.forEach((function(i){s.add(e(i,r,n,i,t,a))})):Qi(t)&&t.forEach((function(i,o){s.set(o,e(i,r,n,o,t,a))}));var p=i?void 0:(u?c?Fi:Yi:c?to:eo)(t);Pi(p||t,(function(i,o){p&&(i=t[o=i]),Ai(s,o,e(i,r,n,o,t,a))}))}return s},so=ao;var lo=a((function(e){return so(e,5)})),co=Wt,uo=q,ho=function(e,t,r){(void 0===r||uo(e[t],r))&&(void 0!==r||t in e)||co(e,t,r)};var po,mo=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[po?a:++n];if(!1===t(i[s],s,i))break}return e},yo=Or,fo=Kt,go=ke,bo=gn,vo=Kt,Mo=Function.prototype,xo=Object.prototype,So=Mo.toString,wo=xo.hasOwnProperty,_o=So.call(Object),To=function(e){return!(!vo(e)||"[object Object]"!=go(e))&&(null===(e=bo(e))||"function"==typeof(e=wo.call(e,"constructor")&&e.constructor)&&e instanceof e&&So.call(e)==_o)};function Io(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Co=Bt,ko=en;var Lo=ho,No=on,Zo=ci,Eo=an,zo=xi,Go=ir,Po=or,Ao=function(e){return fo(e)&&yo(e)},Ro=lr,Do=Ee,Xo=Le,Oo=To,Wo=Sr,jo=Io,Yo=function(e){return Co(e,ko(e))};var Fo=At,Vo=ho,Ho=mo,Uo=function(e,t,r,n,i,o,a){var s,l,c,u=jo(e,r),d=jo(t,r),h=a.get(d);h||((t=void 0===(h=o?o(u,d,r+"",e,t,a):void 0))&&(l=!(s=Po(d))&&Ro(d),c=!s&&!l&&Wo(d),h=d,s||l||c?h=Po(u)?u:Ao(u)?Eo(u):l?No(d,!(t=!1)):c?Zo(d,!(t=!1)):[]:Oo(d)||Go(d)?Go(h=u)?h=Yo(u):Xo(u)&&!Do(u)||(h=zo(d)):t=!1),t&&(a.set(d,h),i(h,d,n,o,a),a.delete(d))),Lo(e,r,h)},Bo=Le,Ko=en,Jo=Io,Qo=function(e){return e};var qo=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},$o=Math.max;var ea=function(e){return function(){return e}},ta=Xt,ra=ta?function(e,t){return ta(e,"toString",{configurable:!0,enumerable:!1,value:ea(t),writable:!0})}:Qo,na=ra,ia=Date.now;var oa=function(e){var t=0,r=0;return function(){var n=ia(),i=16-(n-r);if(r=n,0<i){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(na),aa=Qo,sa=function(e,t,r){return t=$o(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=$o(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),qo(e,this,s)}},la=oa;var ca=q,ua=Or,da=ur,ha=Le;var pa=function(e,t){return la(sa(e,t,aa),e+"")},ma=function(e,t,r){var n;return!!ha(r)&&!!("number"==(n=typeof t)?ua(r)&&da(t,r.length):"string"==n&&t in r)&&ca(r[t],e)};var ya,fa=function e(t,r,n,i,o){t!==r&&Ho(r,(function(a,s){var l;o=o||new Fo,Bo(a)?Uo(t,r,s,n,e,i,o):(l=i?i(Jo(t,s),a,s+"",t,r,o):void 0,Vo(t,s,l=void 0===l?a:l))}),Ko)},ga=(ya=function(e,t,r){fa(e,t,r)},pa((function(e,t){var r=-1,n=t.length,i=1<n?t[n-1]:void 0,o=2<n?t[2]:void 0;for(i=3<ya.length&&"function"==typeof i?(n--,i):void 0,o&&ma(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&ya(e,a,r,i)}return e}))),ba=a(ga),va=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ma=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layout="icons",t.mapStyles=["road","grayscale_light","grayscale_dark","night","road_shaded_relief"],t.style=l.light,t.autoSelectionMode=!0,t}return va(t,e),t}(T),xa=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sa=n&&n.__awaiter||function(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},wa=n&&n.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var c=[s,l];if(r)throw new TypeError("Generator is already executing.");for(;o=a&&c[a=0]?0:o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(l){c=[6,l],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},_a=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Ta=function(e){function t(t){var r=e.call(this)||this;return r.styleOpsGrid=null,r.hasMouse=!1,r.hasFocus=!1,r.styleButtons=new R,r.styleIcons=new R,r.thumbnailCache={assumedConfiguration:void 0,response:new R,blob:new R},r.onStyleChange=function(){var e;r.options.autoSelectionMode&&(e=r.map.getStyle().style,r.setSelectedStyle(e))},r.onMapConfigurationChange=function(e){!r.styleOpsGrid||0<r.styleOpsGrid.children.length&&r.thumbnailCache.assumedConfiguration===e||(r.thumbnailCache.assumedConfiguration=e,Array.from(r.styleOpsGrid.children).forEach((function(e){return e.remove()})),r.styleButtons.clear(),r.populateOpsGridFromDefinitions(e))},r.mapToFriendlyStyleName=function(e,t){return(null==(t=t.configurations.find((function(t){return t.name===e})))?void 0:t.displayName)||e},r.options=(new Ma).merge(lo(t)),r}return xa(t,e),t.prototype.onAdd=function(e,r){var n=this,i=(this.map=e,this.buildContainer(e,this.options.style,"Map Style Control")),o=this.buildStyleOpsGrid(),a=(this.styleOpsGrid=o,this.buildCurrStyleBtn());return e=E("Select Style"),o.classList.add(r&&r.position||"top-right"),i.addEventListener("mouseover",(function(){n.hasMouse=!0,i.classList.add(t.Css.inUse),o.classList.remove("hidden-accessible-element")})),i.addEventListener("focusin",(function(){n.hasFocus=!0,i.classList.add(t.Css.inUse),o.classList.remove("hidden-accessible-element")})),i.addEventListener("mouseleave",(function(){n.hasMouse=!1,n.hasFocus||(i.classList.remove(t.Css.inUse),o.classList.add("hidden-accessible-element"))})),i.addEventListener("focusout",(function(e){e.target===a&&Array.from(o.children).forEach((function(e){return e.removeAttribute("tabIndex")})),e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(n.hasFocus=!1,n.hasMouse)||(i.classList.remove(t.Css.inUse),o.classList.add("hidden-accessible-element"))})),o.addEventListener("keydown",(function(e){27===e.keyCode&&(e.stopPropagation(),a.focus(),Array.from(o.children).forEach((function(e){return e.setAttribute("tabIndex","-1")})),i.classList.contains(t.Css.inUse))&&(i.classList.remove(t.Css.inUse),o.classList.add("hidden-accessible-element"))})),a.addEventListener("click",(function(e){i.classList.contains(t.Css.inUse)?(i.classList.remove(t.Css.inUse),o.classList.add("hidden-accessible-element")):(i.classList.add(t.Css.inUse),o.classList.remove("hidden-accessible-element"),o.firstElementChild&&o.firstElementChild.focus())})),r&&t.InvertOrderPositions.includes(r.position)?(i.appendChild(o),i.appendChild(a),i.appendChild(e),z(e,a)):(i.appendChild(a),i.appendChild(e),z(e,a),i.appendChild(o)),i},t.prototype.onRemove=function(){e.prototype.onRemove.call(this),this.styleOpsGrid=null,this.styleButtons.clear(),this.thumbnailCache.response.clear(),this.thumbnailCache.blob.clear(),this.thumbnailCache.assumedConfiguration=void 0,this.map.events.remove("stylechanged",this.onStyleChange),this.map.events.remove("mapconfigurationchanged",this.onMapConfigurationChange)},t.prototype.setSelectedStyle=function(e){var t,r,n=this;this.styleIcons.has(e)&&(t=this.currStyleImage,r=this.styleIcons.get(e),t.src!==r&&(t.src=r),Object.entries(this.styleButtons).forEach((function(t){var r=(t=_a(t,2))[0];return t[1].setAttribute("aria-current",r===e?"true":"false")})),this.map.styles.definitions().then((function(r){r=n.mapToFriendlyStyleName(e,r),t.alt!==r&&(t.alt=r),t.parentElement.lastChild instanceof Text&&(t.parentElement.lastChild.textContent=r)})))},t.prototype.disableStyle=function(e){(e=this.styleButtons[e])&&e.setAttribute("disabled","true")},t.prototype.enableStyle=function(e){(e=this.styleButtons[e])&&e.removeAttribute("disabled")},t.prototype.buildSelectStyleBtn=function(e,r,n){var i=this,o=document.createElement("button"),a=this.mapToFriendlyStyleName(e,r),s=(o.setAttribute("aria-label",a),o.setAttribute("type","button"),new Image);return n.then((function(e){var t;return i.thumbnailCache.blob.has(e.url)?i.thumbnailCache.blob.get(e.url):(t=e.clone().blob(),i.thumbnailCache.blob.set(e.url,t),t)})).then((function(t){t=URL.createObjectURL(t),s.src=t,e===i.map.getStyle().style&&(i.currStyleImage.src=t,i.currStyleImage.alt=a,i.currStyleImage.parentElement.lastChild.nodeType==Node.TEXT_NODE?i.currStyleImage.parentElement.lastChild.textContent=a:i.currStyleImage.parentElement.appendChild(document.createTextNode(a))),i.styleIcons.set(e,t)})),s.setAttribute("aria-hidden","true"),o.appendChild(s),"icons"===this.options.layout?o.classList.add(t.Css.button):(o.classList.add(t.Css.listButton),o.classList.add(t.Css.expanded),o.appendChild(document.createTextNode(a))),o.addEventListener("click",(function(){i.hasMouse=!1,i.hasFocus=!1;var t=i.styleButtons[e];t&&!t.hasAttribute("disabled")&&(i._invokeEvent("styleselected",e),i.options.autoSelectionMode&&i.map.setStyle({style:e}),Object.entries(i.styleButtons).forEach((function(t){var r=(t=_a(t,2))[0];return t[1].setAttribute("aria-current",r===e?"true":"false")})))})),(r=document.createElement("div")).classList.add("selected-icon"),o.appendChild(r),o},t.prototype.buildCurrStyleBtn=function(){var e=document.createElement("button"),r=("icons"==this.options.layout?e.classList.add(t.Css.button):e.classList.add(t.Css.listButton),e.classList.add(t.Css.currentStyle),e.setAttribute("aria-label","Select Style"),e.setAttribute("tabindex","-1"),this.currStyleImage=new Image,e.appendChild(this.currStyleImage),document.createElement("div"));return r.classList.add("icon"),e.appendChild(r),e},t.prototype.buildStyleOpsGrid=function(){var e=this,r=document.createElement("div");return r.classList.add(t.Css.styleOptions),"icons"===this.options.layout?r.classList.add(this.options.layout):r.classList.add(t.Css.dropdown),r.setAttribute("aria-label","Style Options"),r.classList.add("hidden-accessible-element"),this.map.styles.definitions().then((function(t){return Sa(e,void 0,void 0,(function(){return wa(this,(function(e){return this.onMapConfigurationChange(t),this.map.events.add("stylechanged",this.onStyleChange),[2]}))}))})),this.map.events.add("mapconfigurationchanged",this.onMapConfigurationChange),r},t.prototype.populateOpsGridFromDefinitions=function(e){var t,r,n=this;this.styleOpsGrid&&(t=e.configurations,(t=Array.isArray(this.options.mapStyles)?t.filter((function(e){return n.options.mapStyles.includes(e.name.split("_indoor")[0])})):t).forEach((function(t){var r,i={url:t.thumbnail},o=((t.thumbnail&&n.map.styles._transformStyleRequest(t.thumbnail,i),o=n.map.getServiceOptions()).transformRequest&&ba(i,o.transformRequest(i.url,"Thumbnail")),n.thumbnailCache.response.has(i.url)?r=Promise.resolve(n.thumbnailCache.response.get(i.url)):(r=fetch(i.url,{headers:i.headers}),n.thumbnailCache.response.set(i.url,r)),n.buildSelectStyleBtn(t.name,e,r));n.styleOpsGrid.appendChild(o),n.styleButtons[t.name]=o,"icons"===n.options.layout&&(i=E(n.mapToFriendlyStyleName(t.name,e)),n.styleOpsGrid.appendChild(i),z(i,o))})),r=this.map.getStyle().style,Object.entries(this.styleButtons).forEach((function(e){var t=(e=_a(e,2))[0];return e[1].setAttribute("aria-current",t===r?"true":"false")})))},t.InvertOrderPositions=[s.TopRight,s.BottomRight],t.Css={button:"azure-maps-control-button",listButton:"azure-maps-control-list-button",expanded:"expanded",currentStyle:"curr-style",inUse:"in-use",styleOptions:"style-options",dropdown:"azure-maps-control-dropdown"},t}(W),Ia=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flow="none",t.incidents=!1,t}return Ia(t,e),t}(T),ka=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),La=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=!1,t.style=l.light,t}return ka(t,e),t}(Ca),Na=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Za=function(e){function t(t){var r,n=this;return(n=e.call(this)||this).hasMouse=!1,n.hasFocus=!1,n.options=(new Ca).merge({flow:"relative",incidents:!0}),n.style=l.light,n.container=null,n.trafficButton=null,n.map=null,t&&(n.initIsActive=null!=(r=t.isActive)&&r,n.options.flow=t.flow||"relative",n.options.incidents=null==(r=t.incidents)||r,n.style=t.style||l.light),n}return Na(t,e),Object.defineProperty(t.prototype,"isActive",{get:function(){var e;return!!this.map&&("none"!==(e=this.map.getTraffic()).flow||e.incidents)},set:function(e){this.map&&this.map.setTraffic({flow:e?this.options.flow:"none",incidents:!!e&&this.options.incidents})},enumerable:!1,configurable:!0}),t.prototype.onAdd=function(e){(this.map=e).getTraffic(),void 0!==this.initIsActive&&(this.isActive=this.initIsActive),this.container=this.buildContainer(e,this.style,"Traffic Control"),this.container.style.flexDirection="column",e=this.constructTrafficButton(e);var t=(this.container.appendChild(e),E("Toggle Traffic Display"));return this.container.appendChild(t),z(t,e),this.container},t.prototype.onRemove=function(){e.prototype.onRemove.call(this),this.map=null},t.prototype.getOptions=function(){return(new La).merge({isActive:this.isActive,flow:this.options.flow,incidents:this.options.incidents,style:this.style})},t.prototype.updateButtonState=function(){this.trafficButton&&(this.isActive?(this.container.classList.add("in-use"),this.trafficButton.setAttribute("aria-description","Traffic is displayed")):(this.container.classList.remove("in-use"),this.trafficButton.removeAttribute("aria-description")),this.trafficButton.setAttribute("aria-pressed",this.isActive?"true":"false"))},t.prototype.constructTrafficButton=function(e){var t=this,r=document.createElement("button");return r.classList.add("azure-maps-control-button"),r.classList.add("traffic"),r.setAttribute("aria-label","Toggle Traffic Display"),r.setAttribute("alt","Toggle Traffic Display"),r.setAttribute("type","button"),this.trafficButton=r,this.updateButtonState(),r.addEventListener("click",(function(){t.isActive=!t.isActive})),r},t}(W),Ea=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),za=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ga=function(e){function t(){var t=e.call(this)||this;return t.table=["Fast",["green","yellow","red","dark-red"],"Slow"],t.map=null,t.syncHiddenState=null,t}return Ea(t,e),t.prototype.onAdd=function(e){this.map=e;var t=this.buildContainer(e,l.auto,"Traffic Legend");return e=this.buildTrafficLegendDiv(e),t.setAttribute("role","definition"),t.appendChild(e),t},t.prototype.onRemove=function(){e.prototype.onRemove.call(this),this.syncHiddenState&&(this.map.events.remove("styledata",this.syncHiddenState),this.syncHiddenState=null),this.map=null},t.prototype.buildTrafficLegendDiv=function(e){var t,r,n,i,o=document.createElement("div"),a=(o.classList.add("traffic-legend","hidden"),o.setAttribute("alt","Traffic Legend"),document.createElement("table")),s=document.createElement("tr"),l=document.createElement("td"),c=(l.setAttribute("alt","Traffic"),l.appendChild(document.createTextNode("Traffic")),E("Traffic")),u=(l.classList.add("traffic-legend-title"),l.colSpan=6,s.appendChild(l),s.appendChild(c),z(c,l),a.appendChild(s),document.createElement("tr"));try{for(var d=za(this.table),h=d.next();!h.done;h=d.next()){var p=h.value,m=document.createElement("td");if("Fast"===p||"Slow"===p)m.setAttribute("alt",p),m.appendChild(document.createTextNode(p)),m.classList.add("traffic-legend-text");else{m.classList.add("traffic-legend-colors"),m.setAttribute("aria-label","Traffic Legend"),m.setAttribute("role","img");try{n=void 0;for(var y=za(p),f=y.next();!f.done;f=y.next()){var g=f.value,b=document.createElement("div");b.classList.add(g),m.appendChild(b)}}catch(r){n={error:r}}finally{try{f&&!f.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}}u.appendChild(m);var v=E(p instanceof Array?"Traffic Legend":p);u.appendChild(v),z(v,m)}}catch(r){t={error:r}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}return a.appendChild(u),o.appendChild(a),this.syncHiddenState=function(t){"style"===t.dataType&&((t=e.getTraffic()).flow&&"none"!==t.flow?o.classList.remove("hidden"):o.classList.add("hidden"))},this.syncHiddenState({dataType:"style"}),e.events.add("styledata",this.syncHiddenState),o},t}(W);var Pa=Tt,Aa=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ra=function(e){return this.__data__.has(e)};function Da(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Pa;++t<r;)this.add(e[t])}Da.prototype.add=Da.prototype.push=Aa,Da.prototype.has=Ra;var Xa=Da,Oa=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},Wa=function(e,t){return e.has(t)},ja=function(e,t,r,n,i,o){var a=1&r,s=e.length;if(s!=(l=t.length)&&!(a&&s<l))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var u=-1,d=!0,h=2&r?new Xa:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p,m=e[u],y=t[u];if(void 0!==(p=n?a?n(y,m,u,t,e,o):n(m,y,u,e,t,o):p)){if(p)continue;d=!1;break}if(h){if(!Oa(t,(function(e,t){if(!Wa(h,t)&&(m===e||i(m,e,r,n,o)))return h.push(t)}))){d=!1;break}}else if(m!==y&&!i(m,y,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d};var Ya=ti,Fa=q,Va=ja,Ha=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Ua=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Ba=be?be.prototype:void 0,Ka=Ba?Ba.valueOf:void 0,Ja=Zn,Qa=Object.prototype.hasOwnProperty;var qa=At,$a=ja,es=function(e,t,r,n,i,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ya(e),new Ya(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Fa(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ha;case"[object Set]":if(s=s||Ua,e.size!=t.size&&!(1&n))return!1;var l=a.get(e);return l?l==t:(n|=2,a.set(e,t),l=Va(s(e),s(t),n,i,o,a),a.delete(e),l);case"[object Symbol]":if(Ka)return Ka.call(e)==Ka.call(t)}return!1},ts=function(e,t,r,n,i,o){var a=1&r,s=Ja(e),l=s.length;if(l!=Ja(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Qa.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;for(var p=!0,m=(o.set(e,t),o.set(t,e),a);++c<l;){var y,f=e[u=s[c]],g=t[u];if(!(void 0===(y=n?a?n(g,f,u,t,e,o):n(f,g,u,e,t,o):y)?f===g||i(f,g,r,n,o):y)){p=!1;break}m=m||"constructor"==u}return p&&!m&&(d=e.constructor)!=(h=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof h&&h instanceof h)&&(p=!1),o.delete(e),o.delete(t),p},rs=$n,ns=or,is=lr,os=Sr,as="[object Arguments]",ss="[object Array]",ls="[object Object]",cs=Object.prototype.hasOwnProperty;var us=function(e,t,r,n,i,o){var a=ns(e),s=ns(t),l=a?ss:rs(e),c=(s=s?ss:rs(t),(l=l==as?ls:l)==ls),u=(s=s==as?ls:s)==ls;if((s=l==s)&&is(e)){if(!is(t))return!1;c=!(a=!0)}return s&&!c?(o=o||new qa,a||os(e)?$a(e,t,r,n,i,o):es(e,t,l,r,n,i,o)):1&r||(a=c&&cs.call(e,"__wrapped__"),l=u&&cs.call(t,"__wrapped__"),!a&&!l)?s&&(o=o||new qa,ts(e,t,r,n,i,o)):i(a?e.value():e,l?t.value():t,r,n,o=o||new qa)},ds=Kt;var hs=function e(t,r,n,i,o){return t===r||(null==t||null==r||!ds(t)&&!ds(r)?t!=t&&r!=r:us(t,r,n,i,e,o))};var ps,ms,ys,fs,gs,bs=a((function(e,t){return hs(e,t)})),vs={exports:{}},Ms=function(e){var t,r;return e.__esModule?e:("function"==typeof(t=e.default)?(r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)}).prototype=t.prototype:r={},Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r)}(Object.freeze({__proto__:null,default:{}})),xs=(function(e){for(var t,r,i=0,o=[],a=0;a<256;a++)o[a]=(a+256).toString(16).substr(1);function s(){e=16,(!t||l.BUFFER_SIZE<i+e)&&(i=0,t=l.randomBytes(l.BUFFER_SIZE));var e=t.slice(i,i+=e);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e}function l(){var e=s();return o[e[0]]+o[e[1]]+o[e[2]]+o[e[3]]+"-"+o[e[4]]+o[e[5]]+"-"+o[e[6]]+o[e[7]]+"-"+o[e[8]]+o[e[9]]+"-"+o[e[10]]+o[e[11]]+o[e[12]]+o[e[13]]+o[e[14]]+o[e[15]]}l.BUFFER_SIZE=4096,l.bin=s,l.clearBuffer=function(){t=null,i=0},l.test=function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},"undefined"!=typeof crypto?r=crypto:void 0!==n&&void 0!==n.msCrypto&&(r=n.msCrypto),r=r||Ms,e.exports=l,l.randomBytes=function(){if(r){if(r.randomBytes)return r.randomBytes;if(r.getRandomValues)return"function"!=typeof Uint8Array.prototype.slice?function(e){return e=new Uint8Array(e),r.getRandomValues(e),Array.from(e)}:function(e){return e=new Uint8Array(e),r.getRandomValues(e),e}}return function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t}}()}(vs),vs.exports),Ss=a(xs),ws=function(){function e(t,r,n,i){this.type="Feature",this.type=e.TYPE,this.properties=r||{},this.id=n,this.geometry=t,this.bbox=i}return e.TYPE="Feature",e}(),_s=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ts=function(e){function t(t,r){return e.call(this,t,r)||this}return _s(t,e),t.fromData=function(e){var r=NaN,n=NaN,i=new Set(["y"]),o=new Set(["x"]);return Object.keys(e).forEach((function(t){var a=t.toLowerCase();isNaN(r)&&i.has(a)&&"number"==typeof e[t]?r=e[t]:isNaN(n)&&o.has(a)&&"number"==typeof e[t]&&(n=e[t])})),isNaN(r)||isNaN(n)?null:new t(r,n)},t.getX=function(e){return 0<e.length?e[0]:NaN},t.getY=function(e){return 1<e.length?e[1]:NaN},t.getDestination=function(e,r,n){return new t(t.getX(e)+n*Math.cos((r+270)*Math.PI/180),t.getY(e)+n*Math.sin((r+270)*Math.PI/180))},t.getDistance=function(e,r){var n=t.getX(e)-t.getX(r);return e=t.getY(e)-t.getY(r),Math.sqrt(n*n+e*e)},t.getHeading=function(e,r){var n=t.getX(r)-t.getX(e);return e=t.getY(e)-t.getY(r),180*(2.5*Math.PI-Math.atan2(e,n))/Math.PI%360},t}(Array),Is=function(){function e(t){this.type="Point",this.type=e.TYPE,this.coordinates=t}return e.TYPE="Point",e}(),Cs=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},ks=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ls=6378137,Ns=Math.PI/180,Zs=180/Math.PI,Es=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],zs=85.0511;function Gs(e){return e*Ns}function Ps(e){return e*Zs}function As(e,t,r){return Math.min(Math.max(e,t),r)}function Rs(e,t){var r=Gs(t[1]-e[1]),n=Gs(t[0]-e[0]);return r=Math.pow(Math.sin(r/2),2)+Math.cos(Gs(e[1]))*Math.cos(Gs(t[1]))*Math.pow(Math.sin(n/2),2),e=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),Math.round(Ls*e*100)/100}function Ds(e){if(e)switch(e.toLowerCase()){case"feet":case"foot":case"ft":return ms.feet;case"kilometers":case"kilometer":case"kilometres":case"kilometre":case"km":case"kms":return ms.kilometers;case"miles":case"mile":case"mi":return ms.miles;case"nauticalmiles":case"nauticalmile":case"nms":case"nm":return ms.nauticalMiles;case"yards":case"yard":case"yds":case"yrd":case"yrds":return ms.yards;default:return ms.meters}return ms.meters}function Xs(e){if(e)switch(e.toLowerCase()){case"milespersecondsquared":case"milepersecondsquared":case"mi/s^2":case"mi/s2":return gs.milesPerSecondSquared;case"kilometerspersecondsquared":case"kilometrespersecondsquared":case"kilometerpersecondsquared":case"kilometrepersecondsquared":case"km/s^2":case"km/s2":return gs.kilometersPerSecondSquared;case"knotspersecond":case"knotpersecond":case"knts/s":case"kn/s":case"kt/s":return gs.knotsPerSecond;case"standardgravity":case"g":return gs.standardGravity;case"feetpersecondsquared":case"footpersecondsquared":case"ft/s^2":case"ft/s2":return gs.feetPerSecondSquared;case"yardspersecondsquared":case"yardpersecondsquared":case"yds/s^2":case"yds/s2":case"yd/s^2":case"yd/s2":return gs.yardsPerSecondSquared;case"milesperhoursecond":case"mileperhoursecond":case"milesperhourseconds":case"mileperhourseconds":case"mi/h/s":return gs.milesPerHourSecond;case"kilometersperhoursecond":case"kilometrespersoursecond":case"kilometerperhoursecond":case"kilometrepersoursecond":case"kilometersperhourssecond":case"kilometrespersourssecond":case"kilometerperhourssecond":case"kilometrepersourssecond":case"kmhs":case"km/h/s":return gs.kilometersPerHourSecond;default:return gs.metersPerSecondSquared}return gs.metersPerSecondSquared}function Os(e){if(e)switch(e){case"acres":case"ac":return ps.acres;case"hectares":case"ha":return ps.hectares;case"squareFeet":case"ft^2":case"ft2":return ps.squareFeet;case"squareYards":case"squareYard":case"yds^2":case"yds2":case"yd^2":case"yd2":return ps.squareYards;case"squareKilometers":case"squareKilometres":case"squareKilometer":case"squareKilometre":case"km^2":case"km2":return ps.squareKilometers;case"squareMiles":case"squareMile":case"mi^2":case"mi2":return ps.squareMiles;default:return ps.squareMeters}return ps.squareMeters}function Ws(e){if(e)switch(e.toLowerCase()){case"feetpersecond":case"footsecond":case"ftps":case"ft/s":return fs.feetPerSecond;case"milesperhour":case"mileperhour":case"mph":case"mi/hr":case"mi/h":return fs.milesPerHour;case"knots":case"knot":case"knts":case"knt":case"kn":case"kt":return fs.knots;case"mach":case"m":return fs.mach;case"kilometersperhour":case"kilometresperhour":case"kmperhour":case"kmph":case"km/hr":case"km/h":return fs.kilometersPerHour;default:return fs.metersPerSecond}return fs.metersPerSecond}function js(e){if(e)switch(e.toLowerCase()){case"milliseconds":case"ms":return ys.ms;case"minutes":case"minute":case"mins":case"min":return ys.minutes;case"hours":case"hour":case"hr":case"h":return ys.hours;case"days":case"day":case"d":return ys.days;default:return ys.seconds}return ys.seconds}function Ys(e){var t=0;if(e&&0<e.length){t=Math.abs(Fs(e[0]));for(var r=1,n=e.length;r<n;r++)t-=Math.abs(Fs(e[r]))}return t}function Fs(e){var t=0;if(3<=e.length){for(var r=void 0,n=void 0,i=0,o=e.length;i<o;i++)t+=(Gs(e[i===o-2?(r=o-2,n=o-1,0):i===o-1?(r=o-1,n=0,1):(n=(r=i)+1,i+2)][0])-Gs(e[r][0]))*Math.sin(Gs(e[n][1]));t=t*Ls*Ls/2}return t}function Vs(e,t,r){return(e[0]-r[0])*(t[1]-r[1])-(e[1]-r[1])*(t[0]-r[0])}function Hs(e,t,r){if(2<=r.length){for(var n,i,o,a=1/0,s=null,l=hl(r,22),c=0,u=l.length-1;c<u;c++)i=Us(t,l[c],l[c+1]),(n=Ts.getDistance(t,i))<a&&(a=n,s=i);if(s)return o=dl([s],22)[0],new ws(new Is(o),{distance:Qs(e,o)})}else if(1===r.length)return new ws(new Is(r[0]),{distance:Qs(e,r[0])});return null}function Us(e,t,r){var n,i;return t[0]===r[0]&&t[1]===r[1]||(i=e[0]-t[0],e=e[1]-t[1],(e=((n=r[0]-t[0])*i+(i=r[1]-t[1])*e)/(n*n+i*i))<0)?t:1<e?r:[t[0]+n*e,t[1]+i*e]}function Bs(e,t){var r;return!isNaN(e)&&"number"==typeof t&&0<=t&&(r=t<Es.length?Es[t]:Math.pow(10,t),e=Math.round(e*r)/r),e}function Ks(e,t,r,n){switch(Ds(t)){case ms.meters:e/=1e3;break;case ms.feet:e/=3280.8399;break;case ms.miles:e/=.62137119;break;case ms.yards:e/=1093.6133;break;case ms.nauticalMiles:e/=.5399568;case ms.kilometers:}switch(Ds(r)){case ms.meters:e*=1e3;break;case ms.feet:e*=3280.8399;break;case ms.miles:e*=.62137119;break;case ms.yards:e*=1093.6133;break;case ms.nauticalMiles:e*=.5399568;case ms.kilometers:}return"number"==typeof n&&0<=n&&(t=Math.pow(10,n),e=Math.round(e*t)/t),e}function Js(e,t,r,n){n=n||"meters",e=Sl(e),n=qs(n);var i=Gs(e[1]);return e=Gs(e[0]),t=Gs(t),r/=n,n=Math.asin(Math.sin(i)*Math.cos(r)+Math.cos(i)*Math.sin(r)*Math.cos(t)),e+=Math.atan2(Math.sin(t)*Math.sin(r)*Math.cos(i),Math.cos(r)-Math.sin(i)*Math.sin(n)),t=As(ll(Ps(n)),-85,85),[cl(Ps(e)),t]}function Qs(e,t,r){return e=Rs(e=Sl(e),t=Sl(t)),"meters"===r?e:Ks(e,"meters",r||"meters")}function qs(e){return e=Ds(e),Ks(Ls,ms.meters,e)}function $s(e,t,r){for(var n=[],i=Gs(e[1]),o=Gs(e[0]),a=Gs(t[1]),s=Gs(t[0]),l=2*Math.asin(Math.sqrt(Math.pow(Math.sin((i-a)/2),2)+Math.cos(i)*Math.cos(a)*Math.pow(Math.sin((o-s)/2),2))),c=0;c<=r;c++){var u=c/r,d=Math.sin((1-u)*l)/Math.sin(l),h=(u=Math.sin(u*l)/Math.sin(l),d*Math.cos(i)*Math.cos(o)+u*Math.cos(a)*Math.cos(s)),p=d*Math.cos(i)*Math.sin(o)+u*Math.cos(a)*Math.sin(s);d=d*Math.sin(i)+u*Math.sin(a),u=Math.atan2(d,Math.sqrt(Math.pow(h,2)+Math.pow(p,2))),d=Math.atan2(p,h),u=As(Ps(u),-85,85),d=Ps(d),n.push([d,u])}return n}function el(e){return(Array.isArray(e)?e:e.coordinates).reduce((function(e,t){var r=0<e.length?e[e.length-1]:null;return r&&180<Math.abs(t[0]-r[0])?(r=r[0]<0?t[0]-360:t[0]+360,e.push([r,t[1]])):e.push(t),e}),[])}function tl(e){for(var t,r,n,i,o,a=Array.isArray(e)?e:e.coordinates,s=[],l=[],c=0;c<a.length;c++)s.push(a[c]),c+1>=a.length||(t=(r=Cs(a[c],2))[0],r=r[1],i=(o=Cs(a[c+1],2))[0],o=o[1],180<Math.abs(i-t)&&(n=0<t?180:-180,i=Math.abs((0<t?i+360:i-360)-t),o=r+(o-r)*(Math.abs(n-t)/i),s.push([n,o]),l.push(s),s=[[-n,o]]));return l.push(s),l}function rl(e,t){var r,n;return e=Sl(e),t=Sl(t),e&&2<=e.length&&t&&2<=t.length?(n=Gs(e[1]),r=Gs(t[1]),t=Gs(t[0]-e[0]),e=Math.sin(t)*Math.cos(r),n=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(t),(Ps(Math.atan2(e,n))+360)%360):NaN}function nl(e,t){var r,n=0;Array.isArray(e)?r=e:e.type&&"LineString"===e.type&&(r=e.coordinates);for(var i=0,o=r.length-1;i<o;i++)n+=Rs(r[i],r[i+1]);return Ks(n,"meters",t||"meters")}function il(e,t,r){r=r||"meters";var n,i=0;if(Array.isArray(e)?n=e:e.type&&"LineString"===e.type&&(n=e.coordinates),2<=n.length){for(var o,a,s=n.length,l=1;l<s;l++){if(t<=i+(a=Qs(n[l-1],n[l],r)))return o=rl(n[l-1],n[l]),Js(n[l-1],o,t-i,r);i+=a}return i<=t?n[s-1]:n[0]}return null}function ol(e,t,r,n,i){n=n||"meters",i=i||0,e=Sl(e);for(var o=[],a=360/r,s=0;s<=r;s++)o.push(Js(e,(s*a+i)%360,t,n));return o}function al(e,t,r,n,i){return el(ol(e,t,r,n,i))}function sl(e,t,r){r=void 0===r?.5:r;var n=Qs(e=Sl(e),t=Sl(t),"kilometers");return Js(e,rl(e,t),n*r,"kilometers")}function ll(e){return 90<e?180<(e=(e+90)%360)?90-(e-180):e-90:e<-90?(e=(e-90)%360)<-180?-90-(e+180):e+90:e}function cl(e){return 180<e?(e+180)%360-180:e<-180?(e-180)%360+180:e}function ul(e,t,r){if(0===r)return Object.assign({},e);t=Sl(t);for(var n,i,o=[],a=0,s=e.length;a<s;a++)n=Qs(t,e[a]),i=rl(t,e[a]),o.push(Js(t,i+r,n));return o}function dl(e,t){for(var r,n,i=512*Math.pow(2,t),o=[],a=0,s=e.length;a<s;a++)r=e[a][0]/i-.5,n=.5-e[a][1]/i,o.push([360*r,90-360*Math.atan(Math.exp(2*-n*Math.PI))/Math.PI]);return o}function hl(e,t){for(var r,n,i=512*Math.pow(2,t),o=[],a=0,s=e.length;a<s;a++)n=Math.sin(e[a][1]*Math.PI/180),r=(e[a][0]+180)/360,n=.5-Math.log((1+n)/(1-n))/(4*Math.PI),o.push([Math.round(r*i),Math.round(n*i)]);return o}function pl(e,t,r,n){switch(Xs(t)){case gs.kilometersPerHourSecond:e/=3.6;break;case gs.milesPerHourSecond:e/=2.236936292054;break;case gs.knotsPerSecond:e/=1.943844492441;break;case gs.standardGravity:e/=.1019716212978;break;case gs.kilometersPerSecondSquared:e/=.001;break;case gs.milesPerSecondSquared:e/=.000621371192;break;case gs.feetPerSecondSquared:e/=3.280839895012;break;case gs.yardsPerSecondSquared:e/=1.093613298338;case gs.metersPerSecondSquared:}switch(Xs(r)){case gs.kilometersPerHourSecond:e*=3.6;break;case gs.milesPerHourSecond:e*=2.236936292054;break;case gs.knotsPerSecond:e*=1.943844492441;break;case gs.standardGravity:e*=.1019716212978;break;case gs.kilometersPerSecondSquared:e*=.001;break;case gs.milesPerSecondSquared:e*=.000621371192;break;case gs.feetPerSecondSquared:e*=3.280839895012;break;case gs.yardsPerSecondSquared:e*=1.093613298338;case gs.metersPerSecondSquared:}return Bs(e,n)}function ml(e,t,r,n){switch(Os(t)){case ps.acres:e*=4046.8564224;break;case ps.hectares:e*=1e4;break;case ps.squareFeet:e*=.09290304;break;case ps.squareKilometers:e*=1e6;break;case ps.squareMiles:e*=259e4;break;case ps.squareYards:e*=.83612736;case ps.squareMeters:}switch(Os(r)){case ps.acres:e/=4046.8564224;break;case ps.hectares:e/=1e4;break;case ps.squareFeet:e/=.09290304;break;case ps.squareKilometers:e/=1e6;break;case ps.squareMiles:e/=259e4;break;case ps.squareYards:e/=.83612736;case ps.squareMeters:}return Bs(e,n)}function yl(e,t,r,n){switch(Ws(t)){case fs.feetPerSecond:e*=1.09728;break;case fs.milesPerHour:e*=1.6093;break;case fs.knots:e*=1.852;break;case fs.metersPerSecond:e*=3.6;break;case fs.mach:e*=1234.8;case fs.kilometersPerHour:}switch(Ws(r)){case fs.feetPerSecond:e/=1.09728;break;case fs.milesPerHour:e/=1.6093;break;case fs.knots:e/=1.852;break;case fs.metersPerSecond:e/=3.6;break;case fs.mach:e/=1234.8;case fs.kilometersPerHour:}return Bs(e,n)}function fl(e,t,r,n){switch(js(t)){case ys.ms:e/=1e3;break;case ys.hours:e*=3600;break;case ys.minutes:e*=60;break;case ys.days:e*=86400;case ys.seconds:}switch(js(r)){case ys.ms:e*=1e3;break;case ys.hours:e/=3600;break;case ys.minutes:e/=60;break;case ys.days:e/=86400;case ys.seconds:}return Bs(e,n)}function gl(e,t,r,n,i,o,a,s){return t=Ks(t,i,ms.meters),i=fl(r,o,ys.seconds),pl(2*(t-yl(e,n,fs.metersPerSecond)*i)/(i*i),gs.metersPerSecondSquared,a,s)}function bl(e,t,r,n,i,o,a){return e=yl(e,n,fs.metersPerSecond),pl((yl(t,n,fs.metersPerSecond)-e)/fl(r,i,ys.seconds),gs.metersPerSecondSquared,o,a)}function vl(e,t,r,n){return e=Ml(e),t=Ml(t),null!=e&&null!=t?fl(t.getTime()-e.getTime(),ys.ms,r,n):NaN}function Ml(e){if("[object Date]"===Object.prototype.toString.call(e))return e;if("string"==typeof e){var t=Date.parse(e);if(!isNaN(t))return new Date(t);if(0<=e.indexOf("Date("))return t=(t=0)<(e=e.replace("/Date(","").replace(")/","")).indexOf("+")?parseInt(e.substr(0,e.indexOf("+")),10):0<e.indexOf("-")?parseInt(e.substr(0,e.indexOf("-")),10):parseInt(e,10),new Date(t)}else if("number"==typeof e)return new Date(e);return null}function xl(e){var t=[],r=null,n=null;if(Array.isArray(e)&&0<e.length)if(Array.isArray(e[0])&&"number"==typeof e[0][0])t=e;else for(var i=e.length,o=0;o<i;o++)t=t.concat(xl(e[o]));else if(e.type)switch(e.type){case"Point":t=[e.coordinates];break;case"LineString":case"MultiPoint":t=e.coordinates;break;case"Polygon":case"MultiLineString":r=e.coordinates;break;case"MultiPolygon":n=e.coordinates;break;case"Feature":var a=e;t=Nl._isCircle(a)?Nl._getCirclePositions(a):xl(a.geometry);break;case"FeatureCollection":t=xl(e.features);break;case"GeometryCollection":t=xl(e.geometries)}else if(e instanceof Nl)return xl(e.toJson());if(r)for(i=r.length,o=0;o<i;o++)t=t.concat(r[o]);else if(n){var s=n.length;for(o=0;o<s;o++)for(var l=n[o].length,c=0;c<l;c++)t=t.concat(n[o][c])}return t}function Sl(e){if(Array.isArray(e)&&"number"==typeof e[0])return e;if(e.type){if("Point"===e.type)return e.coordinates;if("Feature"===e.type&&"Point"===e.geometry.type)return e.geometry.coordinates}else if(e instanceof Nl&&"Point"===e.getType())return e.getCoordinates();return null}function wl(e,t,r){r=r||"meters";var n,i=0;if(Array.isArray(e)?n=e:e.type&&"LineString"===e.type&&(n=e.coordinates),2<=n.length){for(var o,a,s,l=n.length,c=1;c<l;c++){if(t<=i+(s=Qs(n[c-1],n[c],r)))return o=rl(n[c-1],n[c]),a=Js(n[c-1],o,t-i,r),new ws(new Is(a),{heading:o});i+=s}return i<=t?new ws(new Is(n[l-1]),{heading:rl(n[l-2],n[l-1])}):new ws(new Is(n[0]),{heading:rl(n[0],n[1])})}return null}function _l(e,t,r,n){var i,o=Sl(e),a=hl([o],22)[0],s=null,l=1/0;switch((t=t instanceof Nl?t.toJson():t).type){case"Feature":return _l(e,t.geometry,r);case"Point":m=[[t.coordinates]];break;case"MultiPoint":for(var c,u=t.coordinates,d=0,h=u.length;d<h;d++)(c=Qs(o,u[d]))<l&&(l=c,s=new ws(new Is(u[d]),{distance:c}));break;case"LineString":m=[t.coordinates];break;case"Polygon":case"MultiLineString":m=t.coordinates;break;case"MultiPolygon":var p=t.coordinates;if(0<p.length){var m=p[0];for(d=1,h=p.length;d<h;d++)m=m.concat(p[d])}}if(m)for(d=0,h=m.length;d<h;d++)(i=Hs(o,a,m[d]))&&i.properties.distance<l&&(l=i.properties.distance,s=i);return s&&(s.properties.distance=Ks(s.properties.distance,"meters",r,n)),s}!function(e){e.squareMeters="squareMeters",e.acres="acres",e.hectares="hectares",e.squareFeet="squareFeet",e.squareKilometers="squareKilometers",e.squareMiles="squareMiles",e.squareYards="squareYards"}(ps=ps||{}),function(e){e.meters="meters",e.kilometers="kilometers",e.feet="feet",e.miles="miles",e.nauticalMiles="nauticalMiles",e.yards="yards"}(ms=ms||{}),function(e){e.seconds="seconds",e.hours="hours",e.ms="ms",e.minutes="minutes",e.days="days"}(ys=ys||{}),function(e){e.metersPerSecond="metersPerSecond",e.kilometersPerHour="kilometersPerHour",e.feetPerSecond="feetPerSecond",e.milesPerHour="milesPerHour",e.knots="knots",e.mach="mach"}(fs=fs||{}),function(e){e.milesPerSecondSquared="milesPerSecondSquared",e.kilometersPerSecondSquared="kilometersPerSecondSquared",e.knotsPerSecond="knotsPerSecond",e.standardGravity="standardGravity",e.feetPerSecondSquared="feetPerSecondSquared",e.yardsPerSecondSquared="yardsPerSecondSquared",e.milesPerHourSecond="milesPerHourSecond",e.kilometersPerHourSecond="kilometersPerHourSecond",e.metersPerSecondSquared="metersPerSecondSquared"}(gs=gs||{});var Tl=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Il=function(e){function t(t,r,n){return n?e.call(this,t,r,n)||this:e.call(this,t,r)||this}return Tl(t,e),t.fromPosition=function(e){return 2===e.length?new t(e[0],e[1]):2<e.length?new t(e[0],e[1],e[2]):null},t.areEqual=function(e,t,r){var n,i;return void 0===r&&(r=6),!!(e&&2<=e.length&&t&&2<=t.length)&&(r=Math.pow(10,r),i=ll(e[1]),n=ll(t[1]),e=cl(e[0]),t=cl(t[0]),0==Math.round((i-n)*r)/r)&&(0==(i=Math.round((e-t)*r)/r)||360==i)},t.fromLatLng=function(e,t,r){var n,i,o,a,s,l,c=[];return"number"==typeof e?(c.push(e),"number"==typeof t&&c.push(t),"number"==typeof r&&c.push(r)):Array.isArray(e)?2<=e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&(3<=e.length&&"number"==typeof e[2]?c.push(e[0],e[1],e[2]):c.push(e[0],e[1])):"object"==typeof e&&(n=["lat","latitude","y"],i=["lng","longitude","lon","x"],o=["elv","elevation","alt","altitude","z"],l=s=a=NaN,Object.keys(e).forEach((function(t,r,c){var u=t.toLowerCase();isNaN(a)&&0<=n.indexOf(u)&&"number"==typeof e[t]?a=e[t]:isNaN(s)&&0<=i.indexOf(u)&&"number"==typeof e[t]?s=e[t]:isNaN(l)&&0<=o.indexOf(u)&&"number"==typeof e[t]&&(l=e[t])})),isNaN(a)||isNaN(s)||(c.push(s,a),isNaN(l))||c.push(l)),2<=c.length?c:null},t.fromLatLngs=function(e){var r=[];if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var o=t.fromLatLng(e[n]);o&&r.push(o)}return r},t._getDimensions=function(e){for(var t=0;Array.isArray(e);)e=e[0],t++;return"number"==typeof e&&t--,t},t}(Array),Cl=function(){function e(t,r){this.type="Polygon",this.type=e.TYPE,1===Il._getDimensions(t)?this.coordinates=[t]:this.coordinates=t,this.bbox=r}return e.TYPE="Polygon",e}(),kl=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ll=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nl=function(e){function t(r,n,i){var o,a,s=e.call(this)||this;return"Feature"===r.type?(a=lo((o=r).geometry),i=o.properties?lo(o.properties):{},n=null==o.id||""===o.id?Ss():o.id):(a=lo(r),n=null==n||""===n?Ss():n,i=i?lo(i):{}),i[t._shapeIdPropName]=n,s.data=new ws(a,i,n),s._handleCircle(),s}return kl(t,e),t.prototype.addProperty=function(e,t){bs(this.data.properties[e],t)||(this.data.properties[e]=lo(t),"subType"!==e&&"radius"!==e||this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},t.prototype.getBounds=function(){var e,t,r,n,i,o=this.getCoordinates(),a=this.getType();if("Point"===a)i=this.circlePolygon?(s=this.circlePolygon.geometry.coordinates,zl.fromPositions(s[0])):new zl(s=o,s);else if("MultiPoint"===a||"LineString"===a){var s=o;i=zl.fromPositions(s)}else if("Polygon"===a)s=o,i=zl.fromPositions(s[0]);else if("MultiLineString"===a){s=o;try{for(var l=Ll(s),c=l.next();!c.done;c=l.next()){var u=c.value;i=zl.merge(i,zl.fromPositions(u))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}}else if("MultiPolygon"===a){s=o;try{for(var d=Ll(s),h=d.next();!h.done;h=d.next()){var p=h.value;i=zl.merge(i,zl.fromPositions(p[0]))}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}return i},t.prototype.getCoordinates=function(){return lo(this.data.geometry.coordinates)},t.prototype.getCircleCoordinates=function(){return this.circlePolygon?lo(this.circlePolygon.geometry.coordinates[0]):null},t.prototype.getId=function(){return this.data.id},t.prototype.getProperties=function(){return lo(this.data.properties)},t.prototype.getType=function(){return this.data.geometry.type},t.prototype.isCircle=function(){return t._isCircle(this.data)},t.prototype.isRectangle=function(){return t._isRectangle(this.data)},t.prototype.setCoordinates=function(e){e="Polygon"===this.getType()&&1===Il._getDimensions(e)?[e]:e,bs(this.data.geometry.coordinates,e)||(this.data.geometry.coordinates=lo(e),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},t.prototype.setProperties=function(e){e[t._shapeIdPropName]=this.data.id,bs(this.data.properties,e)||(this.data.properties=lo(e),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},t.prototype.toJson=function(){return JSON.parse(JSON.stringify(this.data))},t.prototype._toJson=function(){return this.circlePolygon||this.data},t.prototype._setDataSource=function(e){void 0===e||null==e?delete this.dataSource:this.dataSource=e},t.prototype._handleCircle=function(){var e;this.isCircle()?(e=t._getCirclePositions(this.data),this.circlePolygon=new ws(new Cl([e]),this.data.properties,this.data.id),this.data.properties.subType="Circle"):delete this.circlePolygon},t._isCircle=function(e){return e&&e.geometry&&"Point"===e.geometry.type&&e.geometry.coordinates&&e.properties&&"string"==typeof e.properties.subType&&"circle"===e.properties.subType.toLowerCase()&&"number"==typeof e.properties.radius},t._isRectangle=function(e){if("Polygon"===e.geometry.type&&e.geometry.coordinates&&"string"==typeof e.properties.subType&&"rectangle"===e.properties.subType.toLowerCase()&&1===(e=e.geometry.coordinates).length){if(5===(e=e[0]).length)return e[0][0]===e[4][0]&&e[0][1]===e[4][1];if(4===e.length)return!0}return!1},t._getCirclePositions=function(e){return al(e.geometry.coordinates,e.properties.radius,72,"meters")},t._shapeIdPropName="_azureMapsShapeId",t}(D),Zl=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),El=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zl=function(e){function t(t,r){var n,i=this;return t&&r?i=(n=t)[2]&&r[2]?e.call(this,n[0],n[1],n[2]||0,r[0],r[1],r[2]||0)||this:e.call(this,n[0],n[1],r[0],r[1])||this:t&&(n=t)&&(4===n.length?i=e.call(this,n[0],n[1],n[2],n[3])||this:6<=n.length&&(i=e.call(this,n[0],n[1],n[2],n[3],n[4],n[5])||this)),i}return Zl(t,e),t.fromBoundingBox=function(e){var r=t.getWest(e),n=t.getSouth(e),i=t.getEast(e);return e=t.getNorth(e),new t([r,n,i,e])},t.fromDimensions=function(e,r,n){var i=e[0],o=(e=e[1],Math.min(Math.max(e+n/2,-85.5),85.5));return e=Math.min(Math.max(e-n/2,-85.5),85.5),n=cl(i+r/2),new t([cl(i-r/2),e,n,o])},t.fromEdges=function(e,r,n,i){return new t([e,r,n,i])},t.containsPosition=function(e,r){var n=t.getCenter(e),i=Math.abs(n[1]-r[1]);return 180<(n=Math.abs(n[0]-r[0]))&&(n=360-n),r=t.getHeight(e),e=t.getWidth(e),i<=r/2+1e-8&&n<=e/2+1e-8},t.containsBoundingBox=function(e,r){var n=e&&4===e.length,i=r&&4===r.length;return!(!n||!i)&&t.getWest(e)<t.getWest(r)&&t.getWest(r)<t.getEast(e)&&t.getWest(e)<t.getEast(r)&&t.getEast(r)<t.getEast(e)&&t.getSouth(e)<t.getSouth(r)&&t.getSouth(r)<t.getNorth(e)&&t.getSouth(e)<t.getNorth(r)&&t.getNorth(r)<t.getNorth(e)},t.crossesAntimeridian=function(e){return cl(t.getEast(e))-cl(t.getWest(e))<0||t.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe(e)||t.isBoundingBoxWithLessThanSixElementsLargerThanGlobe(e)},t.getCenter=function(e){var r=((n=cl(t.getEast(e)))<(r=cl(t.getWest(e)))&&(n+=360),cl((r+n)/2)),n=ll(t.getSouth(e));return e=ll(t.getNorth(e)),[r,ll((n+e)/2)]},t.getHeight=function(e){return e=ll(t.getNorth(e))-ll(t.getSouth(e)),isNaN(e)?0:e},t.getWidth=function(e){return e=cl(t.getEast(e))-cl(t.getWest(e)),isNaN(e)?0:e<0?e+360:e},t.getSouthWest=function(e){var t=this.getSouth(e);return e=this.getWest(e),isNaN(t)||isNaN(e)?null:[e,t]},t.getNorthEast=function(e){var t=this.getNorth(e);return e=this.getEast(e),isNaN(t)||isNaN(e)?null:[e,t]},t.getNorthWest=function(e){var t=this.getNorth(e);return e=this.getWest(e),isNaN(t)||isNaN(e)?null:[e,t]},t.getSouthEast=function(e){var t=this.getSouth(e);return e=this.getEast(e),isNaN(t)||isNaN(e)?null:[e,t]},t.getSouth=function(e){return e&&4<=e.length?Number(e[1]):NaN},t.getWest=function(e){return e&&4<=e.length?Number(e[0]):NaN},t.getNorth=function(e){if(e){if(4===e.length)return Number(e[3]);if(6===e.length)return Number(e[4])}return NaN},t.getEast=function(e){if(e){if(4===e.length)return Number(e[2]);if(6===e.length)return Number(e[3])}return NaN},t.intersect=function(e,r){var n=t.getCenter(e),i=t.getCenter(r),o=Math.abs(n[1]-i[1]),a=(180<(n=Math.abs(n[0]-i[0]))&&(n=360-n),i=t.getHeight(e),e=t.getWidth(e),t.getHeight(r));return r=t.getWidth(r),o<=i/2+a/2&&n<=e/2+r/2},t.merge=function(e,r){var n=e&&4===e.length,i=r&&4===r.length;if(n&&!i)return e;if(i&&!n)return r;if(!n&&!i)return null;n=Math.max(ll(t.getNorth(e)),ll(t.getNorth(r))),i=Math.min(ll(t.getSouth(e)),ll(t.getSouth(r)));var o=[e,r],a=[],s=0;for(s=0;s<o.length;s++){var l=o[s],c=cl(t.getWest(l)),u=cl(t.getEast(l));t.crossesAntimeridian(l)?(a.push([c,180]),a.push([-180,u])):a.push([c,u])}a.sort((function(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}));var d=[],h=a[0];for(s=1;s<a.length;){var p=a[s];h[1]>=p[0]?h[1]=Math.max(h[1],p[1]):(d.push(h),h=p),s++}d.push(h);var m=d.length,y=d[0][0]+360-d[m-1][1],f=[d[m-1][1],d[0][0]];for(s=1;s<m;s++){var g=d[s][0]-d[s-1][1];y<g&&(y=g,f=[d[s-1][1],d[s][0]])}return new t([f[1],i],[f[0],n])},t.fromPositions=function(e){for(var r,n,i=NaN,o=NaN,a=NaN,s=NaN,l=e.length,c=new Array(l),u=0;l--;)(n=e[l])&&2<=n.length&&(r=ll(n[1]),i=isNaN(i)?r:Math.max(i,r),o=isNaN(o)?r:Math.min(o,r),c[u++]=cl(n[0]));if(u){c.length=u,c.sort((function(e,t){return e-t}));var d=c[0]+360-c[u-1],h=0;for(l=1;l<u;l++){var p=c[l]-c[l-1];d<p&&(d=p,h=l)}a=c[h],s=c[(h||u)-1]}return isNaN(a)||isNaN(o)||isNaN(s)||isNaN(i)?null:new t([a,o,s,i])},t.fromLatLngs=function(e){return t.fromPositions(Il.fromLatLngs(e))},t.fromData=function(e){var r,n,i=null;if(Array.isArray(e)&&0<e.length){try{for(var o=El(e),a=o.next();!a.done;a=o.next()){var s,l=a.value;null!=(s=t.fromData(l))&&(i=null===i?s:t.merge(i,s))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}if(e instanceof Nl)return e.getBounds();if(e&&e.type){var c=e;if(c.bbox&&4===c.bbox.length)return c.bbox;switch(c.type){case"FeatureCollection":return t.fromData(c.features);case"Feature":return Nl._isCircle(c)?t.fromPositions(Nl._getCirclePositions(c)):t.fromData(c.geometry);case"GeometryCollection":return t.fromData(c.geometries);case"Point":var u=c.coordinates;if(u&&2<=u.length)return[u[0],u[1],u[0],u[1]];break;case"LineString":case"MultiPoint":return t.fromPositions(c.coordinates);case"Polygon":case"MultiLineString":var d=c.coordinates;if(d&&0<d.length){for(var h=0,p=d.length;h<p;h++)null!=(s=t.fromPositions(d[h]))&&(i=null===i?s:t.merge(i,s));if(null!=i)return i}break;case"MultiPolygon":var m=c.coordinates;if(m&&0<m.length){for(h=0,p=m.length;h<p;h++)for(var y=0,f=m[h].length;y<f;y++)null!=(s=t.fromPositions(m[h][y]))&&(i=null===i?s:t.merge(i,s));return i}}}return null},t.splitOnAntimeridian=function(e){var r,n,i,o,a,s,l=[];return t.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe(e)?[[-180,e[1],e[2],180,e[4],e[5]]]:t.isBoundingBoxWithLessThanSixElementsLargerThanGlobe(e)?[[-180,e[1],180,e[3]]]:(t.crossesAntimeridian(e)?(r=void 0,n=cl(t.getWest(e)),i=cl(t.getEast(e)),o=ll(t.getNorth(e)),a=ll(t.getSouth(e)),s=6<=e.length?(r=[n,a,e[2],180,o,e[5]],[-180,a,e[2],i,o,e[5]]):(r=[n,a,180,o],[-180,a,i,o]),l.push(r,s)):l.push(e),l)},t.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe=function(e){return 6<=e.length&&360<e[3]-e[0]},t.isBoundingBoxWithLessThanSixElementsLargerThanGlobe=function(e){return e.length<6&&360<e[2]-e[0]},t}(Array),Gl=function(){function e(t,r){this.type="FeatureCollection",this.type=e.TYPE,this.features=t,this.bbox=r}return e.TYPE="FeatureCollection",e}(),Pl=function(){function e(t){this.type="GeometryCollection",this.type=e.TYPE,this.geometries=t}return e.TYPE="GeometryCollection",e}(),Al=function(){function e(t,r){this.type="LineString",this.type=e.TYPE,this.coordinates=t,this.bbox=r}return e.TYPE="LineString",e}(),Rl=function(){function e(t,r){this.type="MultiLineString",this.type=e.TYPE,this.coordinates=t,this.bbox=r}return e.TYPE="MultiLineString",e}(),Dl=function(){function e(t,r){this.type="MultiPoint",this.type=e.TYPE,this.coordinates=t,this.bbox=r}return e.TYPE="MultiPoint",e}(),Xl=function(){function e(t,r){this.type="MultiPolygon",this.type=e.TYPE,this.coordinates=t,this.bbox=r}return e.TYPE="MultiPolygon",e}(),Ol=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wl=function(e){function t(t,r,n){return e.call(this,t,r,n||0)||this}return Ol(t,e),t.fromPosition=function(e){return 2<=e.length?new t((180+e[0])/360,t._latToMercatorY(e[1]),3<=e.length?t._altitudeToMercatorZ(e[2],e[1]):0):[0,0,0]},t.fromPositions=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t.push(this.fromPosition(e[r]));return t},t.toFloat32Array=function(e){for(var r=new Float32Array(3*e.length),n=0,i=e.length;n<i;n++){var o=3*n,a=e[n];r[o]=(180+a[0])/360,r[1+o]=t._latToMercatorY(a[1]),r[2+o]=3<=a.length?t._altitudeToMercatorZ(a[2],a[1]):0}return r},t.toPosition=function(e){var r;return 2<=e.length?(r=360/Math.PI*Math.atan(Math.exp((180-360*e[1])*Math.PI/180))-90,new Il(360*e[0]-180,r,3<=e.length?t._mercatorZToAltitude(e[2],e[1]):0)):[0,0,0]},t.toPositions=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t.push(this.toPosition(e[r]));return t},t.mercatorScale=function(e){return 1/Math.cos(e*Math.PI/180)},t.meterInMercatorUnits=function(e){return 1/t.earthCircumference*t.mercatorScale(t._latToMercatorY(e))},t._circumferenceAtLatitude=function(e){return t.earthCircumference*Math.cos(e*Math.PI/180)},t._altitudeToMercatorZ=function(e,r){return e/t._circumferenceAtLatitude(r)},t._mercatorZToAltitude=function(e,r){return e*t._circumferenceAtLatitude(t._latToMercatorY(r))},t._latToMercatorY=function(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360},t.earthCircumference=2*Math.PI*qs(),t}(Array),jl=Object.freeze({__proto__:null,BoundingBox:zl,Feature:ws,FeatureCollection:Gl,GeometryCollection:Pl,LineString:Al,MercatorPoint:Wl,MultiLineString:Rl,MultiPoint:Dl,MultiPolygon:Xl,Point:Is,Polygon:Cl,Position:Il});function Yl(e,t){return e*e+t*t}function Fl(e,t){return Yl(e[0]-t[0],e[1]-t[1])}function Vl(e,t,r){var n,i=t[0],o=(t=t[1],r[0]-i),a=r[1]-t;return 0==o&&0==a||(1<(n=((e[0]-i)*o+(e[1]-t)*a)/Yl(o,a))?(i=r[0],t=r[1]):0<n&&(i+=o*n,t+=a*n)),Yl(e[0]-i,e[1]-t)}function Hl(e,t,r,n,i){for(var o,a=n,s=t+1;s<r;s++){var l=Vl(e[s],e[t],e[r]);a<l&&(o=s,a=l)}n<a&&(1<o-t&&Hl(e,t,o,n,i),i.push(e[o]),1<r-o)&&Hl(e,o,r,n,i)}function Ul(e,t){var r=e.length-1,n=[e[0]];return Hl(e,0,r,t,n),n.push(e[r]),n}var Bl=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kl=function(){function e(t,r){this.M=e._calculateAffineTransform(t,r),this.inverseM=e._calculateAffineTransform(r,t)}return e.prototype.toTarget=function(e,t){return this.transformArray(e,this.M,t)},e.prototype.toSource=function(e,t){return this.transformArray(e,this.inverseM,t)},e.prototype.transformArray=function(e,t,r){var n,i;if(e&&Array.isArray(e)&&Array.isArray(e[0])){var o=[];try{for(var a=Bl(e),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this.transform(l,t,r))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}return null},e.prototype.transform=function(e,t,r){var n=e[0]*t[0][3]+e[1]*t[1][3]+t[2][3];return e=e[0]*t[0][4]+e[1]*t[1][4]+t[2][4],"number"==typeof r&&0<=r?[Bs(n,r),Bs(e,r)]:[Bs(n,6),Bs(e,6)]},e._calculateAffineTransform=function(e,t){if(e.length!==t.length||e.length<1)throw new Error("Error: source and target arrays must have the same length.");var r=Math.min(e[0].length,t[0].length),n=r+1;if(e.length<r)throw new Error("Erorr: At least "+r+" reference points required.");for(var i=[],o=[],a=0;a<n;a++){o[a]=[];for(var s=0;s<n;s++){s<r&&(i[s]=0);for(var l=o[a][s]=0;l<e.length;l++)s<r&&(i[s]+=a<r?e[l][a]*t[l][s]:t[l][s]),o[a][s]+=r<=a&&r<=s?1:r<=a?e[l][s]:r<=s?e[l][a]:e[l][a]*e[l][s]}o[a]=o[a].concat(i)}if(this._gaussJordanElimination(o))return o;throw new Error("Error: Singular matrix. Points are likely coplanar.")},e._gaussJordanElimination=function(e){for(var t,r=e.length,n=2*r-1,i=0;i<r;i++){for(var o=i,a=i+1;a<r;a++)Math.abs(e[a][i])>Math.abs(e[o][i])&&(o=a);if(t=e[o],e[o]=e[i],e[i]=t,Math.abs(e[i][i])<=1e-12)return!1;for(var s=i+1;s<r;s++)for(var l=e[s][i]/e[i][i],c=i;c<n;c++)e[s][c]-=e[i][c]*l}for(i=r-1;-1<i;i--){for(l=e[i][i],a=0;a<i;a++)for(var u=n-1;i-1<u;u--)e[a][u]-=e[i][u]*e[a][i]/l;e[i][i]/=l;for(var d=r;d<n;d++)e[i][d]/=l}return!0},e}(),Jl=Object.freeze({__proto__:null,get AccelerationUnits(){return gs},AffineTransform:Kl,get AreaUnits(){return ps},get DistanceUnits(){return ms},get SpeedUnits(){return fs},get TimeUnits(){return ys},WEBMERCATOR_MAXLAT:zs,_precision:Bs,boundingBoxToPolygon:function(e){var t=cl(zl.getWest(e)),r=cl(zl.getEast(e)),n=ll(zl.getNorth(e)),i=[[t,n],[t,i=ll(zl.getSouth(e))],[(e=zl.getCenter(e))[0],i],[r,i],[r,n],[e[0],n],[t,n]];return new Cl([i])},convertAcceleration:pl,convertArea:ml,convertDistance:Ks,convertSpeed:yl,convertTimespan:fl,getAcceleration:gl,getAccelerationFromFeatures:function(e,t,r,n,i,o,a){if("string"==typeof r&&"Feature"===e.type&&"Point"===e.geometry.type&&"Feature"===t.type&&"Point"===t.geometry.type&&(r=vl(e.properties[r],t.properties[r],ys.seconds),!isNaN(r))){var s=0;if(n&&"string"==typeof n){var l=e.properties[n];if(n=t.properties[n],"number"==typeof l&&(s=l,"number"==typeof n))return bl(l,n,r,i,ys.seconds,o,a)}return gl(s,Qs(e.geometry.coordinates,t.geometry.coordinates,ms.meters),r,i,ms.meters,ys.seconds,o,a)}return NaN},getAccelerationFromSpeeds:bl,getArea:function e(t,r,n){if(t){var i=0;switch((t=t instanceof Nl?t.toJson():t).type){case"Feature":var o=t;if(o.geometry)return e(o.geometry,r,n);break;case"Polygon":(o=t).coordinates&&(i=Ys(o.coordinates));break;case"MultiPolygon":var a=t;if(a.coordinates)for(var s=0,l=a.coordinates.length;s<l;s++)i+=Ys(a.coordinates[s])}return ml(i,ps.squareMeters,r,n)}return 0},getCardinalSpline:function(e,t,r,n){if(!e||e.length<=2)return l;"number"!=typeof t&&(t=.5),("number"!=typeof r||r<=0)&&(r=15);var i,o,a,s=e.length,l=e.slice(0),c=(n?(Il.areEqual(l[0],l[s-1])&&(l.pop(),s--),l.unshift(e[s-1]),l.push(e[0]),l.push(e[1]),s++):(l.unshift(e[0]),l.push(e[s-1])),[]);c.push([1,0,0,0]);for(var u=1;u<r-1;u++)c.push([2*(a=(i=u/r)*(o=i*i))-3*o+1,-2*a+3*o,a-2*o+i,a-o]);c.push([0,1,0,0]);var d,h,p,m,y,f,g=[];for(u=1;u<s;u++)for(d=t*(l[u+1][0]-l[u-1][0]),h=t*(l[u+1][1]-l[u-1][1]),p=t*(l[u+2][0]-l[u][0]),m=t*(l[u+2][1]-l[u][1]),i=0;i<r;i++)f=(y=c[i])[0]*l[u][0]+y[1]*l[u+1][0]+y[2]*d+y[3]*p,y=As(y[0]*l[u][1]+y[1]*l[u+1][1]+y[2]*h+y[3]*m,-85,85),g.push([f,y]);return g},getClosestPointOnGeometry:_l,getConvexHull:function(e){var t,r,n=xl(e).map((function(e){return[cl(e[0]),ll(e[1])]})),i=(n.sort((function(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]})),[]);try{for(var o=ks(n),a=o.next();!a.done;a=o.next()){for(var s=a.value;2<=i.length&&Vs(i[i.length-2],i[i.length-1],s)<=0;)i.pop();i.push(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}for(var l=[],c=n.length-1;0<=c;c--){for(;2<=l.length&&Vs(l[l.length-2],l[l.length-1],n[c])<=0;)l.pop();l.push(n[c])}return new Cl([i.concat(l)])},getDestination:Js,getDistanceTo:Qs,getEarthRadius:qs,getGeodesicPath:function(e,t){(!t||t<=0)&&(t=15),Array.isArray(e)?r=e:e.type&&"LineString"===e.type&&(r=e.coordinates);for(var r,n=r.length-1,i=[],o=0;o<n;o++)i=i.concat($s(r[o],r[o+1],t));return el(i)},getGeodesicPaths:function(e,t){(!t||t<=0)&&(t=15),Array.isArray(e)?r=e:e.type&&"LineString"===e.type&&(r=e.coordinates);for(var r,n=r.length-1,i=[],o=[],a=0;a<n;a++)for(var s,l,c,u,d,h=$s(r[a],r[a+1],t),p=0;p<h.length;p++)i.push(h[p]),p+1>=h.length||(s=(l=Cs(h[p],2))[0],l=l[1],u=(d=Cs(h[p+1],2))[0],d=d[1],180<Math.abs(u-s)&&(c=0<s?180:-180,u=Math.abs((0<s?u+360:u-360)-s),d=l+(d-l)*(Math.abs(c-s)/u),i.push([c,d]),o.push(i),i=[[-c,d]]));return o.push(i),o},getHeading:rl,getLengthOfPath:nl,getPathDenormalizedAtAntimerian:el,getPathSplitByAntimeridian:tl,getPixelHeading:function(e,t){e=Sl(e),t=Sl(t),t=(e=Cs(hl([e,t],21),2))[0];var r=(e=e[1])[0]-t[0];return t=t[1]-e[1],(2.5*Math.PI-Math.atan2(t,r))*Zs%360},getPointWithHeadingAlongPath:wl,getPointsWithHeadingsAlongPath:function(e,t){if(t<=0)return[];for(var r=[],n=nl(e,ms.meters)/(t-1),i=0;i<t;i++){var o=wl(e,n*i,ms.meters);null!=o&&r.push(o)}return r},getPosition:Sl,getPositionAlongPath:il,getPositions:xl,getPositionsAlongPath:function(e,t){if(t<2)return[];for(var r=[],n=nl(e,ms.meters)/(t-1),i=0;i<t;i++){var o=il(e,n*i,ms.meters);null!=o&&r.push(o)}return r},getRegularPolygonPath:al,getRegularPolygonPaths:function(e,t,r,n,i){return tl(ol(e,t,r,n,i))},getSpeed:function(e,t,r,n,i,o){return e=Sl(e),t=Sl(t),e&&t?(r=fl(r,n,ys.seconds),yl(Qs(e,t,ms.meters)/r,fs.metersPerSecond,i,o)):0},getSpeedFromFeatures:function(e,t,r,n,i){return"string"!=typeof r||"Feature"!==e.type||"Point"!==e.geometry.type||"Feature"!==t.type||"Point"!==t.geometry.type||(r=vl(e.properties[r],t.properties[r],ys.seconds),isNaN(r))?NaN:yl(Qs(e.geometry.coordinates,t.geometry.coordinates,ms.meters)/r,fs.metersPerSecond,n,i)},getTimespan:vl,getTravelDistance:function(e,t,r,n,i,o,a,s){return t=fl(t,i,ys.seconds),i=(r=yl(r,o,fs.metersPerSecond))*t,"number"==typeof n&&(i+=.5*pl(n,a,gs.metersPerSecondSquared)*t*t),Ks(i,ms.meters,e,s)},interpolate:sl,mercatorPixelsToPositions:dl,mercatorPositionsToPixels:hl,normalizeLatitude:ll,normalizeLongitude:cl,parseTimestamp:Ml,rotatePositions:ul,simplify:function(e,t){return function(e,t,r){return void 0===t&&(t=1),void 0===r&&(r=!1),e.length<=2||(t*=t,e=Ul(e=r?e:function(e,t){for(var r,n=e[0],i=[n],o=1,a=e.length;o<a;o++)Fl(r=e[o],n)>t&&(i.push(r),n=r);return n!==r&&i.push(r),i}(e,t),t)),e}(e,t,!0)}}),Ql=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ql=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zoomDelta=1,t.style=l.light,t}return Ql(t,e),t}(T),$l=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ec=function(e){function t(t){var r=e.call(this)||this;return r.container=null,r.zoomInButton=null,r.zoomOutButton=null,r.zoomChanged=function(e){return r.updateZoomButtonsState()},r.minZoomChanged=function(e){return r.updateZoomButtonsState()},r.maxZoomChanged=function(e){return r.updateZoomButtonsState()},r.options=(new ql).merge(t),r}return $l(t,e),t.prototype.onAdd=function(e){this.container=this.buildContainer(e,this.options.style,"Zoom Control"),this.container.style.flexDirection="column",this.zoomInButton=this.constructZoomInButton(e),this.zoomOutButton=this.constructZoomOutButton(e);var t=E("Zoom In"),r=E("Zoom Out");return this.container.appendChild(this.zoomInButton),this.container.appendChild(t),this.container.appendChild(this.zoomOutButton),this.container.appendChild(r),z(t,this.zoomInButton),z(r,this.zoomOutButton),e.events.add("zoom",this.zoomChanged),e.events.add("minzoomchanged",this.minZoomChanged),e.events.add("maxzoomchanged",this.maxZoomChanged),this.map=e,this.container},t.prototype.onRemove=function(){e.prototype.onRemove.call(this),this.map&&(this.map.events.remove("zoom",this.zoomChanged),this.map.events.remove("minzoomchanged",this.minZoomChanged),this.map.events.remove("maxzoomchanged",this.maxZoomChanged),this.map=null),this.container&&(this.container.remove(),this.container=null,this.zoomInButton=null,this.zoomOutButton=null)},t.prototype.updateZoomButtonsState=function(){var e=this.map.getCamera().zoom>=this.map._getMap().getMaxZoom(),t=zl.getSouth(this.map.getCamera().bounds)<=-85.0511&&zl.getNorth(this.map.getCamera().bounds)>=zs;t=this.map.getCamera().zoom<=this.map._getMap().getMinZoom()||t,this.zoomInButton&&this.zoomInButton.disabled!=e&&(this.zoomInButton.disabled=e,this.zoomInButton.setAttribute("aria-label",e?"Zoom In disabled":"Zoom In")),this.zoomOutButton&&this.zoomOutButton.disabled!=t&&(this.zoomOutButton.disabled=t,this.zoomOutButton.setAttribute("aria-label",e?"Zoom Out disabled":"Zoom Out"))},t.prototype.constructZoomInButton=function(e){var r=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("zoom-in"),n.setAttribute("aria-label","Zoom In"),n.setAttribute("alt","Zoom In"),n.setAttribute("type","button"),n.addEventListener("click",(function(){var n;e.setCamera({maxBounds:null==(n=e._getMap().getMaxBounds())?void 0:n.toArray().flat(),zoom:e.getCamera().zoom+r.options.zoomDelta,duration:t.ZOOM_DURATION_MS,type:"ease"},!0)})),n},t.prototype.constructZoomOutButton=function(e){var r=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("zoom-out"),n.setAttribute("aria-label","Zoom Out"),n.setAttribute("alt","Zoom Out"),n.setAttribute("type","button"),n.addEventListener("click",(function(){var n;e.setCamera({maxBounds:null==(n=e._getMap().getMaxBounds())?void 0:n.toArray().flat(),zoom:e.getCamera().zoom-r.options.zoomDelta,duration:t.ZOOM_DURATION_MS,type:"ease"},!0)})),n},t.ZOOM_DURATION_MS=200,t}(W),tc=Object.freeze({__proto__:null,CompassControl:V,ControlBase:W,PitchControl:K,ScaleControl:Q,StyleControl:Ta,TrafficControl:Za,TrafficLegendControl:Ga,ZoomControl:ec}),rc=ao;var nc=a((function(e,t){return rc(e,5,t="function"==typeof t?t:void 0)})),ic=function(){function e(t){var r=this;this.attach=function(e){r.map!==e&&(r.map&&r.detachFromCurrentMap(),r.map=e,r.map.indicators._getCollectionDiv().appendChild(r.element),r.map.indicators.add(r))},this.remove=function(){r.detachFromCurrentMap(),r.element.remove()},this.getElement=function(){return r.element},this.detachFromCurrentMap=function(){r.map&&(r.map.indicators.remove(r),delete r.map)},this.element=document.createElement("div"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("role","option"),null!=t&&t.setSize&&this.element.setAttribute("aria-setsize",t.setSize.toString()),null!=t&&t.positionInSet&&this.element.setAttribute("aria-posinset",t.positionInSet.toString()),this.element.setAttribute("aria-label","data point"),this.element.classList.add(e.Css.hidden)}return e.Css={hidden:"hidden-accessible-element"},e}(),oc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ac=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buffer=128,t.maxZoom=18,t.cluster=!1,t.clusterRadius=50,t.clusterMaxZoom=void 0,t.clusterProperties=void 0,t.lineMetrics=!1,t.tolerance=.375,t.clusterMinPoints=2,t.generateId=!1,t.promoteId=void 0,t.filter=void 0,t}return oc(t,e),t}(T),sc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lc=function(e){function t(t){var r=e.call(this)||this;return r.id=t||Ss(),r}return sc(t,e),t.prototype.getId=function(){return this.id},t.prototype._setMap=function(e,t){var r;void 0===t&&(t=!0),null==e||void 0===e?(r=this.map,delete this.map,t&&(this._invokeEvent("sourceremoved",this),r)&&r.events.invoke("sourceremoved",this)):(this.map=e,t&&(this._invokeEvent("sourceadded",this),this.map.events.invoke("sourceadded",this)))},t}(D),cc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),uc=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dc=function(e){function t(t,r){return(t=e.call(this,t)||this).requestId=void 0,t.options=(new ac).merge(lo(r)),t.shapes=[],t.shapesMap=new R,t}return cc(t,e),t.prototype.add=function(e,t){this._addNoUpdate(e,t),this._updateSource()},t.prototype.clear=function(){this._clearNoUpdate(),this._updateSource()},t.prototype.dispose=function(){this.options=null,this.shapes=null,this.shapesMap=null,this.map=null},t.prototype.getClusterExpansionZoom=function(e){var t=this;return new Promise((function(r,n){var i;t.map?(i=t.map._getMap().getSource(t.getId()))&&"geojson"===i.type&&i.getClusterExpansionZoom(e,(function(e,t){e?n(e):"number"==typeof t&&r(t)})):n("The DataSource hasn't been added to a map.")}))},t.prototype.getClusterChildren=function(e){var t=this;return new Promise((function(r,n){var i;t.map?(i=t.map._getMap().getSource(t.getId()))&&"geojson"===i.type&&i.getClusterChildren(e,(function(e,i){e?n(e):i&&r(t.map.sources._mapFeaturesToShapes(i,!1,t))})):n("The DataSource hasn't been added to a map.")}))},t.prototype.getClusterLeaves=function(e,t,r){var n=this;return new Promise((function(i,o){var a;n.map?(a=n.map._getMap().getSource(n.getId()))&&"geojson"===a.type&&a.getClusterLeaves(e,t,r,(function(e,t){e?o(e):t&&i(n.map.sources._mapFeaturesToShapes(t,!1,n))})):o("The DataSource hasn't been added to a map.")}))},t.prototype.getOptions=function(){return lo(this.options)},t.prototype.getShapes=function(){return Array.from(this.shapes)},t.prototype.importDataFromUrl=function(e){var t=this;return fetch(e,{method:"GET",mode:"cors"}).then((function(e){if(e.ok)return e.json();throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText))})).then((function(e){t.add(e)}))},t.prototype.getShapeById=function(e){return this.shapes[this.shapesMap.get(e)]||null},t.prototype.remove=function(e){var t,r;e=Array.isArray(e)?e:[e];try{for(var n=uc(e),i=n.next();!i.done;i=n.next()){var o=i.value;"number"==typeof o?this._removeByIndex(o):this._removeById(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}this._updateSource()},t.prototype.removeById=function(e){var t,r;e=Array.isArray(e)?e:[e];try{for(var n=uc(e),i=n.next();!i.done;i=n.next()){var o=i.value;this._removeById(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}this._updateSource()},t.prototype.setOptions=function(e){e=(new ac).merge(this.options,lo(e)),bs(this.options,e)||(this._invokeEvent("datasourceupdated",this),this.options=e,this.map&&this.map._rebuildStyle())},t.prototype.setShapes=function(e){this._clearNoUpdate(),this.add(e)},t.prototype.toJson=function(){return new Gl(this.shapes.map((function(e){return e.toJson()})))},t.prototype._toJson=function(){return new Gl(this.shapes.map((function(e){return e._toJson()})))},t.prototype._buildSource=function(){var e={type:"geojson",data:this._toJson(),maxzoom:this.options.maxZoom,cluster:this.options.cluster,clusterRadius:this.options.clusterRadius,tolerance:this.options.tolerance,lineMetrics:this.options.lineMetrics,clusterProperties:this.options.clusterProperties,buffer:this.options.buffer,clusterMinPoints:this.options.clusterMinPoints,generateId:this.options.generateId,promoteId:this.options.promoteId,filter:this.options.filter};return"number"==typeof this.options.clusterMaxZoom&&(e.clusterMaxZoom=this.options.clusterMaxZoom),e},t.prototype._isDeepEqual=function(e){var t;return this.constructor===e.constructor&&(t=this._buildSource(),e=e._buildSource(),t.type===e.type)&&t.maxzoom===e.maxzoom&&t.cluster===e.cluster&&t.clusterRadius===e.clusterRadius&&t.tolerance===e.tolerance&&t.lineMetrics===e.lineMetrics&&JSON.stringify(t.clusterProperties)===JSON.stringify(e.clusterProperties)&&t.buffer===e.buffer&&t.clusterMinPoints===e.clusterMinPoints&&t.generateId===e.generateId&&t.promoteId===e.promoteId&&t.filter===e.filter},t.prototype._addNoUpdate=function(e,t){var r;e instanceof Nl?(this._addToSources(e,t),r=[e]):Array.isArray(e)?(r=e.map((function(e){return e instanceof Nl?e:new Nl(e)})),this._addToSources(r,t)):"FeatureCollection"===e.type?(r=e.features.map((function(e){return new Nl(e)})),this._addToSources(r,t)):"GeometryCollection"===e.type?(r=e.geometries.map((function(e){return new Nl(e)})),this._addToSources(r,t)):(e=new Nl(e),this._addToSources(e,t),r=[e]),this._invokeEvent("dataadded",r)},t.prototype._clearNoUpdate=function(){var e=this.shapes;this.shapes=[],this.shapesMap=new R,e&&0<e.length&&this._invokeEvent("dataremoved",e)},t.prototype._updateSource=function(){var e=this;void 0===this.requestId&&(this.requestId=requestAnimationFrame((function(){e._updateMboxSource(),e.requestId=void 0})))},t.prototype._addToSources=function(e,t){var r,n,i,o;if(e=Array.isArray(e)?e:[e],"number"!=typeof t)try{for(var a=uc(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.shapes.push(l),this.shapesMap.set(l.getId(),this.shapes.length-1)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}else for(var c=e.length-1;0<=c;c--)this.shapes.splice(t,0,e[c]),this._updateShapesMap(t);try{for(var u=uc(e),d=u.next();!d.done;d=u.next())(l=d.value)._setDataSource(this)}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},t.prototype._removeById=function(e){e=e instanceof Nl?e.getId():"string"==typeof e||"number"==typeof e?e:e.id;var t=this.shapes[this.shapesMap.get(e)];t&&(t._setDataSource(null),this.shapes.splice(this.shapesMap.get(e),1),this._updateShapesMap(this.shapesMap.get(e)),this.shapesMap.delete(e),this._invokeEvent("dataremoved",[t]))},t.prototype._removeByIndex=function(e){var t;if(e>=this.shapes.length)throw new Error("The specified remove index '".concat(e,"' ")+"is greater than the maximum possible index '".concat(this.shapes.length-1,"'"));t=this.shapes[e],this.shapesMap.delete(t.getId()),t._setDataSource(null),this.shapes.splice(e,1),this._updateShapesMap(e),this._invokeEvent("dataremoved",[t])},t.prototype._updateShapesMap=function(e){for(var t=e;t<this.shapes.length;t++)this.shapesMap.set(this.shapes[t].getId(),t)},t.prototype._updateMboxSource=function(){var e;this.map&&this.map._getMap()&&(e=this.map._getMap().getSource(this.getId()))&&"geojson"===e.type&&e.setData(this._toJson())},t}(lc),hc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bounds=void 0,t.minZoom=0,t.maxZoom=22,t.isTMS=!1,t.tiles=void 0,t.url=void 0,t}return hc(t,e),t}(T),mc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yc=function(e){function t(t,r){return(t=e.call(this,t)||this).options=(new pc).merge(lo(r)),t}return mc(t,e),t.prototype.getOptions=function(){return lo(this.options)},t.prototype.getShape=function(e,t){return this.map._getMap().querySourceFeatures(this.getId(),{sourceLayer:e,filter:t})},t.prototype._buildSource=function(){var e={type:"vector"};return this.options.bounds&&(e.bounds=this.options.bounds),this.options.tiles?(e.tiles=this.options.tiles,e.minzoom=this.options.minZoom,e.maxzoom=this.options.maxZoom):this.options.url&&(e.url=this.options.url),this.options.isTMS&&(e.scheme="tms"),e},t.prototype._isDeepEqual=function(e){var t,r;return this.constructor===e.constructor&&(t=this._buildSource(),r=e._buildSource(),t.type===r.type)&&t.url===r.url&&(void 0===t.tiles&&void 0===r.tiles||t.tiles&&r.tiles&&t.tiles.length===r.tiles.length&&t.tiles.every((function(e,t){return e===r.tiles[t]})))&&t.minzoom===r.minzoom&&t.maxzoom===r.maxzoom&&t.bounds===r.bounds&&t.attribution===r.attribution&&t.promoteId===r.promoteId&&t.scheme===r.scheme},t}(lc),fc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gc=function(e){function t(t,r,n){return(t=e.call(this,t)||this).source=r,t}return fc(t,e),t.prototype._isDeepEqual=function(e){var t;return this.constructor===e.constructor&&(t=this.source,e=e.source,t.type===e.type)&&t.canvas===e.canvas&&JSON.stringify(t.coordinates)===JSON.stringify(e.coordinates)&&t.animate===e.animate},t.prototype._buildSource=function(){return this.source},t}(lc),bc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vc=function(e){function t(t,r,n){return(t=e.call(this,t)||this).source=r,t}return bc(t,e),t.prototype._isDeepEqual=function(e){var t;return this.constructor===e.constructor&&(t=this.source,e=e.source,t.type===e.type)},t.prototype._buildSource=function(){return this.source},t}(lc),Mc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xc=function(e){function t(t,r,n){return(t=e.call(this,t)||this).source=r,t}return Mc(t,e),t.prototype._isDeepEqual=function(e){var t;return this.constructor===e.constructor&&(t=this.source,e=e.source,t.type===e.type)&&JSON.stringify(t.coordinates)===JSON.stringify(e.coordinates)&&t.url===e.url},t.prototype._buildSource=function(){return this.source},t}(lc),Sc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wc=function(e){function t(t,r,n){return(t=e.call(this,t)||this).source=r,t}return Sc(t,e),t.prototype._isDeepEqual=function(e){var t;return this.constructor===e.constructor&&(t=this.source,e=e.source,t.type===e.type)&&JSON.stringify(t.coordinates)===JSON.stringify(e.coordinates)&&t.urls===e.urls},t.prototype._buildSource=function(){return this.source},t}(lc),_c=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tileSize=512,t}return _c(t,e),t}(pc),Ic=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.encoding=void 0,t}return Ic(t,e),t}(Tc),kc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lc=n&&n.__assign||function(){return(Lc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Nc=function(e){function t(t,r){return(t=e.call(this,t)||this).options=(new Cc).merge(lo(r)),t}return kc(t,e),t.prototype.getOptions=function(){return lo(this.options)},t.prototype._buildSource=function(){return Lc({type:"raster-dem",bounds:this.options.bounds,minzoom:this.options.minZoom,maxzoom:this.options.maxZoom,tileSize:this.options.tileSize,encoding:this.options.encoding},this.options.tiles?{tiles:this.options.tiles}:{url:this.options.url})},t.prototype._isDeepEqual=function(e){return this.constructor===e.constructor&&(e=e.getOptions(),this.options.url===e.url)&&this.options.tiles===e.tiles&&this.options.bounds===e.bounds&&this.options.minZoom===e.minZoom&&this.options.maxZoom===e.maxZoom&&this.options.tileSize===e.tileSize&&this.options.encoding===e.encoding},t}(lc),Zc=Object.freeze({__proto__:null,CanvasSource:gc,DataSource:dc,ElevationTileSource:Nc,ImageSource:xc,Source:lc,UnknownSource:vc,VectorTileSource:yc,VideoSource:wc}),Ec=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zc=function(e){function t(t){var r=e.call(this)||this;return r.id=t||Ss(),r}return Ec(t,e),t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.map||null},t.prototype.onAdd=function(e){this.map=e,this._invokeEvent("layeradded",this),this.map.events.invoke("layeradded",this)},t.prototype.onRemove=function(){var e=this.map;delete this.map,this._invokeEvent("layerremoved",this),e&&e.events.invoke("layerremoved",this)},t._isMBoxEvent=function(e){return!this.LayerEvents.hasOwnProperty(e)},t.prototype._updateBaseProperties=function(e,t){this._updateFilter(e.filter,t.filter),this._updateZoomRange(e.minZoom,t.minZoom,e.maxZoom,t.maxZoom),this._updateLayoutProperty("visibility",e.visible,t.visible,e.visible?"visible":"none")},t.prototype._updateFilter=function(e,t){bs(e,t)||this.map._getMap().setFilter(this.id,e)},t.prototype._updatePaintProperty=function(e,t,r,n){bs(t,r)||this.map._getMap().setPaintProperty(this.id,e,n||t)},t.prototype._updateLayoutProperty=function(e,t,r,n){bs(t,r)||this.map._getMap().setLayoutProperty(this.id,e,n||t)},t.prototype._updateZoomRange=function(e,t,r,n){e===t&&n===r||this.map._getMap().setLayerZoomRange(this.id,e,r)},t.LayerEvents={layeradded:void 0,layerremoved:void 0,focusin:void 0,focusout:void 0},t}(D),Gc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.filter=void 0,t.minZoom=0,t.maxZoom=24,t.visible=!0,t}return Gc(t,e),t._cloneCustomizer=function(e){if(e instanceof lc)return e},t}(T),Ac=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.color="#1A73AA",t.blur=0,t.opacity=1,t.strokeColor="#FFFFFF",t.strokeOpacity=1,t.strokeWidth=2,t.pitchAlignment="viewport",t.radius=8,t.createIndicators=!1,t.accessibilityIdKey=void 0,t}return Ac(t,e),t}(Pc),Dc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xc=n&&n.__awaiter||function(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},Oc=n&&n.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var c=[s,l];if(r)throw new TypeError("Generator is already executing.");for(;o=a&&c[a=0]?0:o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(l){c=[6,l],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},Wc=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},jc=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Yc=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i.accessibleIndicator=[],i._setAccessibleIndicator=function(){return Xc(i,void 0,void 0,(function(){var e,t,r,n,i,o,a=this;return Oc(this,(function(s){return this.accessibleIndicator.forEach((function(e){return e.remove()})),this.accessibleIndicator=[],e=this.map.layers.getRenderedShapes(this.map.getCamera().bounds,this),t=this.options.accessibilityIdKey||(this._getDataSource()?Nl._shapeIdPropName:void 0),r=function(e,s){var l=e[s],c=l instanceof Nl?l.toJson():l,u=new ic({positionInSet:s+1,setSize:e.length}),d=u.getElement(),h=Wc(a.map.positionsToPixels([a.getFirstCoordinate(c.geometry.coordinates)]),1)[0];return d.addEventListener("focusin",(function(p){a.accessibleIndicator.filter((function(e){return e!==u})).forEach((function(e){return e.remove()})),0<=s-1&&n(u,r(e,s-1)),s+1<e.length&&o(r(e,s+1)),2<=s&&s==e.length-1&&i(r(e,0)),0==s&&2<=e.length&&o(r(e,e.length-1)),void 0!==t&&a.map._getMap().setPaintProperty(a.id,"circle-stroke-color",["case",["==",["get",t],c.properties[t]],"#000000",a.options.strokeColor]),p={target:d,type:"focusin",map:a.map,shape:l,originalEvent:p,pixel:h},a._invokeEvent("focusin",p)})),d.addEventListener("focusout",(function(e){void 0!==t&&a.map._getMap().setPaintProperty(a.id,"circle-stroke-color",["case",["==",["get",t],c.properties[t]],a.options.strokeColor,a.options.strokeColor]),e={target:d,type:"focusout",map:a.map,shape:l,originalEvent:e,pixel:h},a._invokeEvent("focusout",e)})),a.accessibleIndicator.push(u),u},n=function(e,t){t.attach(a.map),t=t.getElement(),(e=e.getElement()).parentElement.insertBefore(t,e)},i=function(e){e.attach(a.map);var t=(e=e.getElement()).parentElement;t.insertBefore(e,t.firstElementChild)},o=function(e){e.attach(a.map)},0<e.length&&o(r(e,0)),1<e.length&&o(r(e,e.length-1)),[2]}))}))},i.options=(new Rc).merge(nc(n,Rc._cloneCustomizer)),i.options.source=t||i.options.source,i}return Dc(t,e),t.prototype.getOptions=function(){return nc(this.options,Rc._cloneCustomizer)},t.prototype.getSource=function(){return this.options.source},t.prototype.setOptions=function(e){if(e=(new Rc).merge(this.options,nc(e,Rc._cloneCustomizer)),this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("circle-blur",e.blur,this.options.blur),this._updatePaintProperty("circle-color",e.color,this.options.color),this._updatePaintProperty("circle-opacity",e.opacity,this.options.opacity),this._updatePaintProperty("circle-radius",e.radius,this.options.radius),this._updatePaintProperty("circle-stroke-color",e.strokeColor,this.options.strokeColor),this._updatePaintProperty("circle-stroke-opacity",e.strokeOpacity,this.options.strokeOpacity),this._updatePaintProperty("circle-stroke-width",e.strokeWidth,this.options.strokeWidth),this._updatePaintProperty("circle-pitch-alignment",e.pitchAlignment,this.options.pitchAlignment)}this.options=e},t.prototype.onAdd=function(t){var r,n,i=this;e.prototype.onAdd.call(this,t),this.options.createIndicators&&(t.events.addOnce("idle",this._setAccessibleIndicator),t.events.add("moveend",this._setAccessibleIndicator),(r=this._getDataSource())?t.events.add("dataadded",r,(function(){t.events.addOnce("idle",i._setAccessibleIndicator)})):(n="string"==typeof this.options.source?this.options.source:this.options.source.getId(),t.events.add("sourcedata",(function(e){(null==(e=e.source)?void 0:e.getId())===n&&t._getMap().isSourceLoaded(n)&&(e=i._getSourceDataEventCacheKey())!==i.sourceDataEventCacheKey&&(i._setAccessibleIndicator(),i.sourceDataEventCacheKey=e)}))))},t.prototype.onRemove=function(){var t;this.options.createIndicators&&(this.map.events.remove("idle",this._setAccessibleIndicator),this.map.events.remove("moveend",this._setAccessibleIndicator),(t=this._getDataSource())?this.map.events.remove("dataadded",t,this._setAccessibleIndicator):this.map.events.remove("sourcedata",this._setAccessibleIndicator)),e.prototype.onRemove.call(this)},t.prototype._getSourceDataEventCacheKey=function(){var e;if(this.map)return e=this.map.getServiceOptions().mapConfiguration,jc(jc([],Wc(this.map.getCamera().bounds),!1),[this.map.getCamera().zoom,this.map.getCamera().pitch,this.map.getStyle().style,e instanceof Object?e.id:e],!1).join(",")},t.prototype._getDataSource=function(){var e="string"==typeof this.options.source?this.map.sources.getById(this.options.source):this.options.source;if(e instanceof dc)return e},t.prototype._buildLayers=function(){var e={id:this.id,type:"circle",source:this.options.source instanceof lc?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"circle-color":this.options.color,"circle-blur":this.options.blur,"circle-opacity":this.options.opacity,"circle-stroke-color":this.options.strokeColor,"circle-stroke-opacity":this.options.strokeOpacity,"circle-stroke-width":this.options.strokeWidth,"circle-pitch-alignment":this.options.pitchAlignment,"circle-radius":this.options.radius},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(e.filter=this.options.filter),this.options.sourceLayer&&(e["source-layer"]=this.options.sourceLayer),[e]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._getSourceIds=function(){var e=new Set;return this.options.source instanceof lc?e.add(this.options.source.getId()):e.add(this.options.source),e},t.prototype.getFirstCoordinate=function(e){return Array.isArray(e[0])?this.getFirstCoordinate(e[0]):e},t}(zc),Fc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.color=["interpolate",["linear"],["heatmap-density"],0,"rgba(0,0, 255,0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],t.intensity=1,t.opacity=1,t.radius=30,t.weight=1,t}return Fc(t,e),t._cloneCustomizer=function(e){if(e instanceof lc)return e},t}(Pc),Hc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uc=function(e){function t(t,r,n){return(r=e.call(this,r)||this).options=(new Vc).merge(nc(n,Vc._cloneCustomizer)),r.options.source=t||r.options.source,r}return Hc(t,e),t.prototype.getOptions=function(){return nc(this.options,Vc._cloneCustomizer)},t.prototype.getSource=function(){return this.options.source},t.prototype.setOptions=function(e){if(e=(new Vc).merge(this.options,nc(e,Vc._cloneCustomizer)),this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("heatmap-color",e.color,this.options.color),this._updatePaintProperty("heatmap-intensity",e.intensity,this.options.intensity),this._updatePaintProperty("heatmap-opacity",e.opacity,this.options.opacity),this._updatePaintProperty("heatmap-radius",e.radius,this.options.radius),this._updatePaintProperty("heatmap-weight",e.weight,this.options.weight)}this.options=e},t.prototype._buildLayers=function(){var e={id:this.id,type:"heatmap",source:this.options.source instanceof lc?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"heatmap-color":this.options.color,"heatmap-intensity":this.options.intensity,"heatmap-opacity":this.options.opacity,"heatmap-radius":this.options.radius,"heatmap-weight":this.options.weight},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(e.filter=this.options.filter),this.options.sourceLayer&&(e["source-layer"]=this.options.sourceLayer),[e]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._getSourceIds=function(){var e=new Set;return this.options.source instanceof lc?e.add(this.options.source.getId()):e.add(this.options.source),e},t}(zc),Bc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contrast=0,t.fadeDuration=300,t.hueRotation=0,t.maxBrightness=1,t.minBrightness=0,t.opacity=1,t.saturation=0,t}return Bc(t,e),t}(Pc),Jc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.url=void 0,t.coordinates=void 0,t}return Jc(t,e),t._cloneCustomizer=function(e){if(e instanceof lc)return e},t}(Kc),qc=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qc(t,e),t.prototype._getSourceIds=function(){var e=new Set;return e.add(this._getSourceId()),e},t.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t)},t}(zc),eu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tu=function(e){function t(t,r){return(r=e.call(this,r)||this).isLoading=!1,r.options=(new Qc).merge(nc(t,Qc._cloneCustomizer)),r.img=new Image,r.reloadImage(),r}return eu(t,e),t.prototype.getOptions=function(){return nc(this.options,Qc._cloneCustomizer)},t.prototype.setOptions=function(e){var t,r=(new Qc).merge(this.options,nc(e,Qc._cloneCustomizer)),n="string"==typeof e.url&&e.url!==this.getOptions().url;e=void 0!==e.coordinates&&e.coordinates!==this.getOptions().coordinates,this.map&&(this._updateBaseProperties(r,this.options),this._updatePaintProperty("raster-contrast",r.contrast,this.options.contrast),this._updatePaintProperty("raster-fade-duration",r.fadeDuration,this.options.fadeDuration),this._updatePaintProperty("raster-hue-rotate",r.hueRotation,this.options.hueRotation),this._updatePaintProperty("raster-brightness-max",r.maxBrightness,this.options.maxBrightness),this._updatePaintProperty("raster-opacity",r.opacity,this.options.opacity),this._updatePaintProperty("raster-saturation",r.saturation,this.options.saturation),t=this.map._getMap().getSource(this._getSourceId()))&&t.updateImage(r),this.options=r,n?this.reloadImage():e&&this.updateTransform()},t.prototype.getPositions=function(e){return this.transform.then((function(t){return t.toTarget(e)}))},t.prototype.getPixels=function(e){return this.transform.then((function(t){return t.toSource(e)}))},t.getCoordinatesFromRefPoints=function(e,t,r,n){return new Kl(r,n).toTarget([[0,0],[e,0],[e,t],[0,t]])},t.getCoordinatesFromEdges=function(e,t,r,n,i){return"number"!=typeof i&&(i=0),t=[Math.min(n,r),t,Math.max(n,r),e],n=zl.getCenter(t),ul([zl.getNorthWest(t),zl.getNorthEast(t),zl.getSouthEast(t),zl.getSouthWest(t)],n,i)},t.prototype._buildLayers=function(){var e={id:this.id,type:"raster",source:this._getSourceId(),layout:{visibility:this.options.visible?"visible":"none"},paint:{"raster-opacity":this.options.opacity,"raster-hue-rotate":this.options.hueRotation,"raster-brightness-min":this.options.minBrightness,"raster-brightness-max":this.options.maxBrightness,"raster-saturation":this.options.saturation,"raster-contrast":this.options.contrast,"raster-fade-duration":this.options.fadeDuration},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(e.filter=this.options.filter),[e]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._buildSource=function(){return{type:"image",url:this.options.url,coordinates:this.options.coordinates}},t.prototype._getSourceId=function(){return"".concat(this.getId(),"-ImageSource")},t.prototype.reloadImage=function(){var e=this;this.options.url&&(this.transform=new Promise((function(t,r){e.img.onload=function(){var r=[[0,0],[e.img.width,0],[e.img.width,e.img.height],[0,e.img.height]];t(new Kl(r,e.options.coordinates)),e.isLoading=!1},e.img.onerror=e.img.onabort=function(){r("Failed to load image")},e.isLoading=!0,e.img.src=e.options.url})))},t.prototype.updateTransform=function(){var e;this.isLoading||(e=[[0,0],[this.img.width,0],[this.img.width,this.img.height],[0,this.img.height]],this.transform=Promise.resolve(new Kl(e,this.options.coordinates)))},t.prototype._getSourceWrapper=function(){var e=this._getSourceId(),t=this._buildSource();return new xc(e,t)},t}($c),ru=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.lineCap="round",t.lineJoin="round",t.blur=0,t.strokeColor="#1E90FF",t.strokeDashArray=void 0,t.strokeGradient=void 0,t.offset=0,t.strokeOpacity=1,t.translate=new Ts(0,0),t.translateAnchor="map",t.strokeWidth=2,t}return ru(t,e),t}(Pc),iu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ou=n&&n.__assign||function(){return(ou=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},au=function(e){function t(t,r,n){return(r=e.call(this,r)||this).options=(new nu).merge(nc(n,nu._cloneCustomizer)),r.options.source=t||r.options.source,r}return iu(t,e),t.prototype.getOptions=function(){return nc(this.options,nu._cloneCustomizer)},t.prototype.getSource=function(){return this.options.source},t.prototype.setOptions=function(e){if(e=(new nu).merge(this.options,nc(e,nu._cloneCustomizer)),this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("line-blur",e.blur,this.options.blur),this._updateLayoutProperty("line-cap",e.lineCap,this.options.lineCap),this._updateLayoutProperty("line-join",e.lineJoin,this.options.lineJoin),this._updatePaintProperty("line-offset",e.offset,this.options.offset),this._updatePaintProperty("line-color",e.strokeColor,this.options.strokeColor),this._updatePaintProperty("line-dasharray",e.strokeDashArray,this.options.strokeDashArray),this._updatePaintProperty("line-gradient",e.strokeGradient,this.options.strokeGradient),this._updatePaintProperty("line-opacity",e.strokeOpacity,this.options.strokeOpacity),this._updatePaintProperty("line-width",e.strokeWidth,this.options.strokeWidth),this._updatePaintProperty("line-translate",e.translate,this.options.translate),this._updatePaintProperty("line-translate-anchor",e.translateAnchor,this.options.translateAnchor)}this.options=e},t.prototype._buildLayers=function(){return[ou(ou(ou(ou({id:this.id,type:"line"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof lc?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none","line-cap":this.options.lineCap,"line-join":this.options.lineJoin},paint:ou(ou(ou({"line-blur":this.options.blur,"line-color":this.options.strokeColor},this.options.strokeDashArray?{"line-dasharray":this.options.strokeDashArray}:{}),this.options.strokeGradient?{"line-gradient":this.options.strokeGradient}:{}),{"line-offset":this.options.offset,"line-opacity":this.options.strokeOpacity,"line-translate":this.options.translate,"line-translate-anchor":this.options.translateAnchor,"line-width":this.options.strokeWidth})}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._getSourceIds=function(){var e=new Set;return this.options.source instanceof lc?e.add(this.options.source.getId()):e.add(this.options.source),e},t}(zc),su=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.base=0,t.fillColor="#1E90FF",t.height=0,t.fillOpacity=1,t.fillPattern=void 0,t.translate=new Ts(0,0),t.translateAnchor="map",t.verticalGradient=!0,t}return su(t,e),t}(Pc),cu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),uu=n&&n.__assign||function(){return(uu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},du=function(e){function t(t,r,n){return(r=e.call(this,r)||this).options=(new lu).merge(nc(n,lu._cloneCustomizer)),r.options.source=t||r.options.source,r}return cu(t,e),t.prototype.getOptions=function(){return nc(this.options,lu._cloneCustomizer)},t.prototype.getSource=function(){return this.options.source},t.prototype.setOptions=function(e){if(e=(new lu).merge(this.options,nc(e,lu._cloneCustomizer)),this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("fill-extrusion-base",e.base,this.options.base),this._updatePaintProperty("fill-extrusion-color",e.fillColor,this.options.fillColor),this._updatePaintProperty("fill-extrusion-height",e.height,this.options.height),this._updatePaintProperty("fill-extrusion-opacity",e.fillOpacity,this.options.fillOpacity),this._updatePaintProperty("fill-extrusion-pattern",e.fillPattern,this.options.fillPattern),this._updatePaintProperty("fill-extrusion-translate",e.translate,this.options.translate),this._updatePaintProperty("fill-extrusion-translate-anchor",e.translateAnchor,this.options.translateAnchor),this._updatePaintProperty("fill-extrusion-vertical-gradient",e.verticalGradient,this.options.verticalGradient)}this.options=e},t.prototype._buildLayers=function(){return[uu(uu(uu(uu({id:this.id,type:"fill-extrusion"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof lc?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:uu(uu({"fill-extrusion-base":this.options.base,"fill-extrusion-height":this.options.height,"fill-extrusion-opacity":this.options.fillOpacity},this.options.fillPattern?{"fill-extrusion-pattern":this.options.fillPattern}:{"fill-extrusion-color":this.options.fillColor}),{"fill-extrusion-translate":this.options.translate,"fill-extrusion-translate-anchor":this.options.translateAnchor,"fill-extrusion-vertical-gradient":this.options.verticalGradient})}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._getSourceIds=function(){var e=new Set;return this.options.source instanceof lc?e.add(this.options.source.getId()):e.add(this.options.source),e},t}(zc),hu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.fillColor="#1E90FF",t.fillOpacity=.5,t.fillPattern=void 0,t.fillAntialias=!0,t}return hu(t,e),t}(Pc),mu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yu=function(e){function t(t,r,n){return(r=e.call(this,r)||this).options=(new pu).merge(nc(n,pu._cloneCustomizer)),r.options.source=t||r.options.source,r}return mu(t,e),t.prototype.getOptions=function(){return nc(this.options,pu._cloneCustomizer)},t.prototype.getSource=function(){return this.options.source},t.prototype.setOptions=function(e){if(e=(new pu).merge(this.options,nc(e,pu._cloneCustomizer)),this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("fill-color",e.fillColor,this.options.fillColor),this._updatePaintProperty("fill-opacity",e.fillOpacity,this.options.fillOpacity),this._updatePaintProperty("fill-pattern",e.fillPattern,this.options.fillPattern),this._updatePaintProperty("fill-antialias",e.fillAntialias,this.options.fillAntialias)}this.options=e},t.prototype._buildLayers=function(){var e={id:this.id,type:"fill",source:this.options.source instanceof lc?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"fill-opacity":this.options.fillOpacity,"fill-antialias":this.options.fillAntialias},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(e.filter=this.options.filter),this.options.sourceLayer&&(e["source-layer"]=this.options.sourceLayer),this.options.fillPattern?e.paint["fill-pattern"]=this.options.fillPattern:e.paint["fill-color"]=this.options.fillColor,[e]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._getSourceIds=function(){var e=new Set;return this.options.source instanceof lc?e.add(this.options.source.getId()):e.add(this.options.source),e},t}(zc),fu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowOverlap=!1,t.anchor="bottom",t.ignorePlacement=!1,t.image="marker-blue",t.offset=new Ts(0,0),t.optional=!1,t.padding=2,t.pitchAlignment="auto",t.rotation=0,t.rotationAlignment="auto",t.size=1,t.opacity=1,t}return fu(t,e),t}(T),bu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowOverlap=!1,t.anchor="center",t.textField=void 0,t.font=["StandardFont-Regular"],t.ignorePlacement=!1,t.justify="center",t.offset=new Ts(0,0),t.optional=!1,t.padding=2,t.pitchAlignment="auto",t.radialOffset=void 0,t.rotation=0,t.rotationAlignment="auto",t.variableAnchor=void 0,t.size=16,t.color="#000000",t.haloBlur=0,t.haloColor="rgba(0,0,0,0)",t.haloWidth=0,t.opacity=1,t}return bu(t,e),t}(T),Mu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.iconOptions=new gu,t.textOptions=new vu,t.placement="point",t.sortKey=void 0,t.zOrder="auto",t.lineSpacing=250,t}return Mu(t,e),t}(Pc),Su=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wu=n&&n.__assign||function(){return(wu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_u=function(e){function t(t,r,n){return(r=e.call(this,r)||this).options=(new xu).merge(nc(n,xu._cloneCustomizer)),r.options.source=t||r.options.source,r}return Su(t,e),t.prototype.getOptions=function(){return nc(this.options,xu._cloneCustomizer)},t.prototype.getSource=function(){return this.options.source},t.prototype.setOptions=function(e){if(e=(new xu).merge(this.options,nc(e,xu._cloneCustomizer)),this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);var t=this.options,r=e.iconOptions,n=t.iconOptions,i=e.textOptions,o=t.textOptions;this._updateBaseProperties(e,t),this._updateLayoutProperty("symbol-spacing",e.lineSpacing,t.lineSpacing),this._updateLayoutProperty("symbol-placement",e.placement,t.placement),this._updateLayoutProperty("symbol-sort-key",e.sortKey,t.sortKey),this._updateLayoutProperty("symbol-z-order",e.zOrder,t.zOrder),this._updateLayoutProperty("icon-allow-overlap",r.allowOverlap,n.allowOverlap),this._updateLayoutProperty("icon-anchor",r.anchor,n.anchor),this._updateLayoutProperty("icon-ignore-placement",r.ignorePlacement,n.ignorePlacement),this._updateLayoutProperty("icon-image",r.image,n.image),this._updateLayoutProperty("icon-offset",r.offset,n.offset),this._updatePaintProperty("icon-opacity",r.opacity,n.opacity),this._updateLayoutProperty("icon-optional",r.optional,n.optional),this._updateLayoutProperty("icon-padding",r.padding,n.padding),this._updateLayoutProperty("icon-pitch-alignment",r.pitchAlignment,n.pitchAlignment),this._updateLayoutProperty("icon-rotate",r.rotation,n.rotation),this._updateLayoutProperty("icon-rotation-alignment",r.rotationAlignment,n.rotationAlignment),this._updateLayoutProperty("icon-size",r.size,n.size),this._updateLayoutProperty("text-allow-overlap",i.allowOverlap,o.allowOverlap),this._updateLayoutProperty("text-anchor",i.anchor,o.anchor),this._updatePaintProperty("text-color",i.color,o.color),this._updateLayoutProperty("text-font",i.font,o.font),this._updateLayoutProperty("text-ignore-placement",i.ignorePlacement,o.ignorePlacement),this._updateLayoutProperty("text-justify",i.justify,o.justify),this._updatePaintProperty("text-halo-blur",i.haloBlur,o.haloBlur),this._updatePaintProperty("text-halo-color",i.haloColor,o.haloColor),this._updatePaintProperty("text-halo-width",i.haloWidth,o.haloWidth),this._updateLayoutProperty("text-offset",i.offset,o.offset),this._updatePaintProperty("text-opacity",i.opacity,o.opacity),this._updateLayoutProperty("text-optional",i.optional,o.optional),this._updateLayoutProperty("text-padding",i.padding,o.padding),this._updateLayoutProperty("text-pitch-alignment",i.pitchAlignment,o.pitchAlignment),this._updateLayoutProperty("text-radial-offset",i.radialOffset,o.radialOffset),this._updateLayoutProperty("text-rotate",i.rotation,o.rotation),this._updateLayoutProperty("text-rotation-alignment",i.rotationAlignment,o.rotationAlignment),this._updateLayoutProperty("text-size",i.size,o.size),this._updateLayoutProperty("text-variable-anchor",i.variableAnchor,o.variableAnchor),this._updateLayoutProperty("text-field",i.textField,o.textField)}this.options=e},t.prototype._buildLayers=function(){var e=wu(wu(wu(wu({id:this.id,type:"symbol"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof lc?this.options.source.getId():this.options.source,layout:wu(wu({visibility:this.options.visible?"visible":"none","symbol-placement":this.options.placement,"symbol-spacing":this.options.lineSpacing,"symbol-z-order":this.options.zOrder,"text-allow-overlap":this.options.textOptions.allowOverlap,"text-anchor":this.options.textOptions.anchor},this.options.textOptions.textField&&{"text-field":this.options.textOptions.textField}),{"text-font":this.options.textOptions.font,"text-ignore-placement":this.options.textOptions.ignorePlacement,"text-justify":this.options.textOptions.justify,"text-offset":this.options.textOptions.offset,"text-optional":this.options.textOptions.optional,"text-padding":this.options.textOptions.padding,"text-pitch-alignment":this.options.textOptions.pitchAlignment,"text-rotate":this.options.textOptions.rotation,"text-rotation-alignment":this.options.textOptions.rotationAlignment,"text-size":this.options.textOptions.size,"icon-allow-overlap":this.options.iconOptions.allowOverlap,"icon-anchor":this.options.iconOptions.anchor,"icon-ignore-placement":this.options.iconOptions.ignorePlacement,"icon-image":this.options.iconOptions.image,"icon-offset":this.options.iconOptions.offset,"icon-optional":this.options.iconOptions.optional,"icon-padding":this.options.iconOptions.padding,"icon-pitch-alignment":this.options.iconOptions.pitchAlignment,"icon-rotate":this.options.iconOptions.rotation,"icon-rotation-alignment":this.options.iconOptions.rotationAlignment,"icon-size":this.options.iconOptions.size}),paint:{"text-color":this.options.textOptions.color,"text-halo-blur":this.options.textOptions.haloBlur,"text-halo-color":this.options.textOptions.haloColor,"text-halo-width":this.options.textOptions.haloWidth,"text-opacity":this.options.textOptions.opacity,"icon-opacity":this.options.iconOptions.opacity}}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom});return void 0!==this.options.sortKey&&(e.layout["symbol-sort-key"]=this.options.sortKey),void 0!==this.options.textOptions.radialOffset&&(e.layout["text-radial-offset"]=this.options.textOptions.radialOffset),void 0!==this.options.textOptions.variableAnchor&&(e.layout["text-variable-anchor"]=this.options.textOptions.variableAnchor),[e]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._getSourceIds=function(){var e=new Set;return this.options.source instanceof lc?e.add(this.options.source.getId()):e.add(this.options.source),e},t}(zc),Tu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Iu=n&&n.__assign||function(){return(Iu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Cu=function(e){function t(t,r,n){return(t=e.call(this,t)||this).source=t._modifySource(r,n),t}return Tu(t,e),t.prototype._buildSource=function(){return this.source},t.prototype._isDeepEqual=function(e){var t,r,n,i;return this.constructor===e.constructor&&(i=this.source,t=e.source,e=i.type===t.type&&i.url===t.url&&(void 0===i.tiles&&void 0===t.tiles||i.tiles&&t.tiles&&i.tiles.length===t.tiles.length&&i.tiles.every((function(e,r){return e===t.tiles[r]})))&&i.minzoom===t.minzoom&&i.maxzoom===t.maxzoom&&i.bounds===t.bounds&&i.attribution===t.attribution,r="raster"!==i.type||"raster"===i.type&&i.type===t.type&&i.tileSize===t.tileSize&&i.scheme===t.scheme,n="raster-dem"!==i.type||"raster-dem"===i.type&&i.type===t.type&&i.tileSize===t.tileSize&&i.encoding===t.encoding,i="vector"!==i.type||"vector"===i.type&&i.type===t.type&&i.promoteId===t.promoteId&&i.scheme===t.scheme,e)&&r&&n&&i},t.prototype._modifySource=function(e,t){if("raster"!==e.type&&"raster-dem"!==e.type&&"vector"!==e.type||!e.tiles){if("raster"!==e.type&&"raster-dem"!==e.type&&"vector"!==e.type||!e.url)throw new Error("Source definition must define a TileJSON 'url' or a 'tiles' array.");e.url="string"==typeof e.url?e.url:new L({domain:y,path:e.url.path,queryParams:Iu(Iu({},t),e.url.queryParams)}).toString()}else{var r=e.tiles.map((function(e){return"string"==typeof e?e:new L({domain:y,path:e.path,queryParams:Iu(Iu({},t),e.queryParams)}).toString()}));e.tiles=r}return e},t}(lc),ku=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bounds=[-180,-85.0511,180,85.0511],t.minSourceZoom=0,t.maxSourceZoom=22,t.tileSize=512,t.isTMS=!1,t.subdomains=void 0,t.tileUrl=void 0,t}return ku(t,e),t}(Kc),Nu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zu=n&&n.__assign||function(){return(Zu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Eu=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zu=function(e){function t(t,r){return r=e.call(this,r)||this,t&&r.setOptions(t),r}return Nu(t,e),t.prototype.getOptions=function(){return nc(this.options,Lu._cloneCustomizer)},t.prototype.setOptions=function(e){if(e=(new Lu).merge(this.options,nc(e,Lu._cloneCustomizer)),this.map){if(!bs(e.bounds,this.options.bounds)||e.isTMS!==this.options.isTMS||e.maxSourceZoom!==this.options.maxSourceZoom||e.minSourceZoom!==this.options.minSourceZoom||!bs(e.subdomains,this.options.subdomains)||e.tileSize!==this.options.tileSize||e.tileUrl!==this.options.tileUrl)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("raster-contrast",e.contrast,this.options.contrast),this._updatePaintProperty("raster-fade-duration",e.fadeDuration,this.options.fadeDuration),this._updatePaintProperty("raster-hue-rotate",e.hueRotation,this.options.hueRotation),this._updatePaintProperty("raster-brightness-max",e.maxBrightness,this.options.maxBrightness),this._updatePaintProperty("raster-opacity",e.opacity,this.options.opacity),this._updatePaintProperty("raster-saturation",e.saturation,this.options.saturation)}this.options=e},t.prototype._setOptionsNoUpdate=function(e){this.options=(new Lu).merge(this.options,nc(e,Lu._cloneCustomizer))},t.prototype._buildLayers=function(){return[Zu(Zu({id:this.id,type:"raster",source:this._getSourceId(),layout:{visibility:this.options.visible?"visible":"none"},paint:{"raster-contrast":this.options.contrast,"raster-fade-duration":this.options.fadeDuration,"raster-hue-rotate":this.options.hueRotation,"raster-brightness-max":this.options.maxBrightness,"raster-brightness-min":this.options.minBrightness,"raster-opacity":this.options.opacity,"raster-saturation":this.options.saturation}},this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._buildSource=function(){var e,t;if(this.options.tileUrl){if(-1===this.options.tileUrl.indexOf("{"))return{type:"raster",url:this.options.tileUrl};if(-1!==this.options.tileUrl.indexOf("{subdomain}")){if(!(this.options.subdomains&&0<this.options.subdomains.length))throw new Error("The {subdomain} placeholder was included in the tileUrl but no subdomains were specified");var r=[];try{for(var n=Eu(this.options.subdomains),i=n.next();!i.done;i=n.next()){var o=i.value;r.push(this.options.tileUrl.replace(/{subdomain}/g,o))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}t=r}else t=[this.options.tileUrl]}return Zu({type:"raster",bounds:this.options.bounds,maxzoom:this.options.maxSourceZoom,minzoom:this.options.minSourceZoom,scheme:this.options.isTMS?"tms":"xyz",tileSize:this.options.tileSize},t&&{tiles:t})},t.prototype._getSourceId=function(){return"".concat(this.getId(),"-RasterSource")},t.prototype._getSourceWrapper=function(){var e=this._getSourceId(),t=this._buildSource();return new Cu(e,{name:e,tiles:t.tiles,type:t.type,url:t.url})},t}($c),Gu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderer=void 0,t}return Gu(t,e),t}(Pc),Au=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ru=function(e){function t(t,r){var n=e.call(this,t)||this;return n._onStyleChange=function(){var e,t;n.map._getMap().getLayer(n.id)||(e=n.map,t=null==(t=n.map.layers._getUserLayers().find((function(e){return e.layer.getId()==n.id})))?void 0:t.before,e.layers.remove(n),e.layers.add(n,t))},n.options=(new Pu).merge(nc(r,Pu._cloneCustomizer)),n.source=new dc,n}return Au(t,e),t.prototype.getOptions=function(){return nc(this.options,Pu._cloneCustomizer)},t.prototype.setOptions=function(e){e=(new Pu).merge(this.options,nc(e,Pu._cloneCustomizer)),this.map&&this.map.triggerRepaint(),this.options=e},t.prototype.onAdd=function(t){var r,n;e.prototype.onAdd.call(this,t),this.map.events.add("stylechanged",this._onStyleChange),this.options.renderer&&this.glContext&&null!=(n=(r=this.options.renderer).onAdd)&&n.call(r,t,this.glContext)},t.prototype.onRemove=function(){var t,r;this.options.renderer&&this.glContext&&null!=(r=(t=this.options.renderer).onRemove)&&r.call(t,this.map,this.glContext),this.map.events.remove("stylechanged",this._onStyleChange),this.glContext=null,e.prototype.onRemove.call(this)},t.prototype._buildLayers=function(){var e=this;if(this.options.renderer)return[{id:this.id,type:"custom",renderingMode:this.options.renderer.renderingMode,onAdd:function(t,r){e.glContext=r},onRemove:function(e,t){},prerender:function(t,r){var n,i;e._shouldRender()&&null!=(i=(n=e.options.renderer).prerender)&&i.call(n,t,r)},render:function(t,r){e._shouldRender()&&e.options.renderer.render(t,r)}}];throw new Error("Cannot build the WebGL layer because renderer was not set.")},t.prototype._getLayerIds=function(){return[this.id]},t.prototype._getSourceIds=function(){return(new Set).add(this.source.getId())},t.prototype._shouldRender=function(){var e;return!!this.map&&(e=this.map.getCamera().zoom,this.options.visible)&&this.options.minZoom<=e&&this.options.maxZoom>e},t}(zc),Du=Object.freeze({__proto__:null,BubbleLayer:Yc,HeatMapLayer:Uc,ImageLayer:tu,Layer:zc,LineLayer:au,PolygonExtrusionLayer:du,PolygonLayer:yu,SymbolLayer:_u,TileLayer:zu,WebGLLayer:Ru}),Xu=function(){function e(){}return e.convertHtmlString=function(e){var t;return"string"==typeof e?((t=document.createElement("div")).innerHTML=e,t):e},e.parseWithFilter=function(e,t,r,n){var i=this;if(void 0===t&&(t=function(e){return!0}),void 0===r&&(r=function(e){return e}),void 0===n&&(n=function(){return document.createElement("div")}),"string"==typeof e){if(0==(a=(new DOMParser).parseFromString(e,"text/html").body).children.length)return r(a.innerHTML);var o,a=1==a.children.length&&1==a.childNodes.length?a.children[0]:(o=n(),Array.from(a.childNodes).map((function(e){return o.append(e)})),o)}else a=e;return Array.from(a.children).forEach((function(e){return i.parseWithFilter(e,t,r)})),t(a)?r(a):(a.parentNode&&a.parentNode.removeChild(a),null)},e}(),Ou=Kt,Wu=To;var ju=a((function(e){return Ou(e)&&1===e.nodeType&&!Wu(e)})),Yu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anchor="none",t.draggable=!1,t.closeButton=!0,t.content=document.createElement("span"),t.fillColor="#FFFFFF",t.pixelOffset=new Ts(0,0),t.position=new Il(0,0),t.showPointer=!0,t}return Yu(t,e),t._cloneCustomizer=function(e){if(ju(e))return e},t}(T),Vu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hu=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Uu=function(e){function t(r){var n=e.call(this)||this;return n.attach=function(e){n.map!==e&&(n.map&&n.remove(),n.map=e,n.marker=n._createMarker(n.options),n.marker.addTo(n.map._getMap()),n.map.popups._getCollectionDiv().appendChild(n.containerDiv),n.map.popups.add(n))},n.open=function(e){if(!e&&!n.map)throw new Error("Must specify a map to open on or attach to a map in advance");n.attach(e||n.map),n.containerDiv.classList.remove(t.Css.hidden),n.map.events.add("move",n._onMove),n._onMove(),n._invokeEvent("open",{target:n,type:"open"})},n.close=function(){n.map&&n.map.events.remove("move",n._onMove),n.containerDiv.classList.add(t.Css.hidden),n._invokeEvent("close",{target:n,type:"close"})},n.remove=function(){n.map&&(n.marker.remove(),n.containerDiv.classList.remove(n.autoAnchor||n.options.anchor),n.map.events.remove("move",n._onMove),n.map.popups.remove(n),delete n.map,delete n.marker,delete n.autoAnchor)},n.isOpen=function(){return n.map&&!n.containerDiv.classList.contains(t.Css.hidden)},n._onMove=function(){var e=n._getAutoAnchor(n.map,n.options);e!==n.autoAnchor&&(n._replaceMarker(n.map,n.options,e),n.map.events.add("move",n._onMove))},n._onDown=function(e){n.map.popups._addDraggedPopup(n);var t=Hu(n.map.positionsToPixels([n.options.position]),1)[0];"mousedown"===e.type?n.dragOffset=[t[0]-e.clientX,t[1]-e.clientY]:"touchstart"===e.type&&(n.dragOffset=[t[0]-e.touches[0].clientX,t[1]-e.touches[0].clientY])},n._onDragStart=function(e){e.preventDefault()},n.options=(new Fu).merge(nc(r,Fu._cloneCustomizer)),n.containerDiv=n._createContainerDiv(n.options),n.contentDiv=n._createContentDiv(n.options),n.containerDiv.appendChild(n.contentDiv),n.options.showPointer&&(n.arrowDiv=n._createArrowDiv(),n.containerDiv.appendChild(n.arrowDiv)),n.options.closeButton&&(n.closeBtn=n._createCloseButton(),n.contentDiv.appendChild(n.closeBtn),r=E("close"),n.contentDiv.appendChild(r),z(r,n.closeBtn,!0)),n}return Vu(t,e),t.prototype.setPopupOptions=function(e){this.setOptions(e)},t.prototype.setOptions=function(e){var t;(e=(new Fu).merge(this.options,nc(e,Fu._cloneCustomizer))).content!==this.options.content?(this.htmlContent.remove(),this.htmlContent=this._createHtmlContent(e),this.contentDiv.prepend(this.htmlContent)):e.draggable!==this.options.draggable&&this._setDraggable(this.htmlContent,e.draggable),e.closeButton&&!this.closeBtn?(this.closeBtn=this._createCloseButton(),this.contentDiv.appendChild(this.closeBtn),t=E("close"),this.contentDiv.appendChild(t),z(t,this.closeBtn,!0)):!e.closeButton&&this.closeBtn&&(this.contentDiv.removeChild(this.closeBtn),delete this.closeBtn),e.showPointer&&!this.arrowDiv?(this.arrowDiv=this._createArrowDiv(),this.containerDiv.appendChild(this.arrowDiv)):!e.showPointer&&this.arrowDiv&&(this.containerDiv.removeChild(this.arrowDiv),delete this.arrowDiv),e.fillColor!==this.options.fillColor&&(this.containerDiv.style.borderColor=e.fillColor,this.contentDiv.style.backgroundColor=e.fillColor),this.marker&&(e.anchor!==this.options.anchor?"none"===this.options.anchor?(this.autoAnchor!==e.anchor&&this._replaceMarker(this.map,e),this.map.events.remove("move",this._onMove),delete this.autoAnchor):(this._replaceMarker(this.map,e),"none"===e.anchor&&this.map.events.add("move",this._onMove)):(bs(e.position,this.options.position)||this.marker.setLngLat(e.position),bs(e.pixelOffset,this.options.pixelOffset)||this.marker.setOffset(e.pixelOffset))),this.options=e},t.prototype.getPopupOptions=function(){return this.getOptions()},t.prototype.getOptions=function(){return nc(this.options,Fu._cloneCustomizer)},t.prototype.getPopupContainer=function(){return this.containerDiv},t.prototype._dragToPixel=function(e){this.dragging||(this.dragging=!0,this.contentDiv.style.pointerEvents="none",this._invokeEvent("dragstart",{type:"dragstart",target:this})),e=[e[0]+this.dragOffset[0],e[1]+this.dragOffset[1]],e=Hu(this.map.pixelsToPositions([e]),1)[0],this.options.position=e,this.marker.setLngLat(this.options.position),this._invokeEvent("drag",{type:"drag",target:this})},t.prototype._onUp=function(){this.dragging&&(this.contentDiv.style.pointerEvents="",this._invokeEvent("dragend",{type:"dragend",target:this}),"none"===this.options.anchor)&&this._onMove(),delete this.dragOffset,delete this.dragging},t.prototype._createContainerDiv=function(e){var r=this,n=document.createElement("div"),i=(n.classList.add(t.Css.container),n.classList.add(t.Css.hidden),n.style.borderColor=e.fillColor,n.setAttribute("role","dialog"),n.setAttribute("aria-label","Map Information Window"),!1);return n.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key&&"Esc"!==e.key||(i=!0)})),n.addEventListener("keyup",(function(e){"Tab"!==e.key&&"Escape"!==e.key&&"Esc"!==e.key||(i=!1)})),n.addEventListener("focusin",(function(e){r.map&&!r.isOpen()&&(r.open(r.map),e.target instanceof HTMLElement)&&e.target.focus()})),n.addEventListener("focusout",(function(e){i&&e.relatedTarget instanceof Node&&!n.contains(e.relatedTarget)&&(i=!1,r.isOpen())&&r.close()})),n},t.prototype._createContentDiv=function(e){var r=document.createElement("div");return r.classList.add(t.Css.content),r.style.backgroundColor=e.fillColor,r.setAttribute("tabindex","0"),this.htmlContent=this._createHtmlContent(e),r.appendChild(this.htmlContent),r},t.prototype._createArrowDiv=function(){var e=document.createElement("div");return e.classList.add(t.Css.arrow),e},t.prototype._createCloseButton=function(){var e=document.createElement("button");return e.addEventListener("click",this.close),e.classList.add(t.Css.close),e.setAttribute("aria-label","close"),e.setAttribute("tabindex","0"),e.innerHTML="&times;",e},t.prototype._createHtmlContent=function(e){var t=Xu.convertHtmlString(e.content);return e.draggable&&this._setDraggable(t,e.draggable),t},t.prototype._createMarker=function(e,t){var r=this.marker?this.marker.getLngLat():e.position;return("none"===e.anchor?(this.autoAnchor=t||"bottom",this.containerDiv.classList.add(this.autoAnchor),new d.Marker({anchor:this.autoAnchor,element:this.containerDiv,offset:e.pixelOffset})):(this.containerDiv.classList.add(e.anchor),new d.Marker({anchor:e.anchor,element:this.containerDiv,offset:e.pixelOffset}))).setLngLat(r)},t.prototype._getAutoAnchor=function(e,t){var r,n,i=this.containerDiv.offsetWidth,o=this.containerDiv.offsetHeight,a=[];return(n=this.marker?(r=(n=e._getMap().project(this.marker.getLngLat())).x,n.y):(n=Hu(e.positionsToPixels([t.position]),1),r=(t=Hu(n[0],2))[0],t[1]))<o?a.push("top"):n>e.getCanvas().offsetHeight-o&&a.push("bottom"),r<i/2?a.push("left"):r>e.getCanvas().offsetWidth-i/2&&a.push("right"),0<a.length?a.join("-"):"bottom"},t.prototype._replaceMarker=function(e,t,r){var n=this.containerDiv.nextElementSibling;this.marker.remove(),this.containerDiv.classList.remove(this.autoAnchor||this.options.anchor),this.marker=this._createMarker(t,r),this.marker.addTo(e._getMap()),e.popups._getCollectionDiv().insertBefore(this.containerDiv,n||null)},t.prototype._setDraggable=function(e,t){t?(e.addEventListener("mousedown",this._onDown),e.addEventListener("touchstart",this._onDown),e.addEventListener("dragstart",this._onDragStart)):(e.removeEventListener("mousedown",this._onDown),e.removeEventListener("touchstart",this._onDown),e.removeEventListener("dragstart",this._onDragStart))},t.Css={arrow:"popup-arrow",close:"popup-close",container:"popup-container",content:"popup-content-container",hidden:"hidden-accessible-element"},t}(D),Bu=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ku=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anchor="bottom",t.color="#1A73AA",t.draggable=!1,t.htmlContent='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.5 36.5" id="marker_'.concat(Ss(),'" width="24.5" height="36.5" display="block"><path d="M12.25.25a12.2543,12.2543,0,0,0-12,12.4937c0,6.4436,6.4879,12.1093,11.059,22.5641.5493,1.2563,1.3327,1.2563,1.882,0C17.7621,24.8529,24.25,19.1857,24.25,12.7437A12.2543,12.2543,0,0,0,12.25.25Z"   fill="{color}" stroke="{secondaryColor}" stroke-width="0.5"/><text style="font-family: Arial, Helvetica, sans-serif; font-size: 14px; fill: white;" text-anchor="middle" x="12" y="18">{text}</text></svg>'),t.pixelOffset=new Ts(0,0),t.position=new Il(0,0),t.popup=void 0,t.secondaryColor="white",t.text=void 0,t.visible=!0,t}return Bu(t,e),t._cloneCustomizer=function(e){if(e instanceof Uu||ju(e))return e},t}(T),Ju=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qu=function(e){function t(t){var r=e.call(this)||this;return r._onDrag=function(){var e=r.marker.getLngLat().wrap();r.options.position=new Il(e.lng,e.lat),r._invokeEvent("drag",{type:"drag",target:r})},r._onDragStart=function(){r._invokeEvent("dragstart",{type:"dragstart",target:r})},r._onDragEnd=function(){r._invokeEvent("dragend",{type:"dragend",target:r})},r._bubbleElementEvent=function(e){r._invokeEvent(e.type,{type:e.type,target:r})},r._onEleDragStart=function(e){e.preventDefault()},r.options=(new Ku).merge(nc(t,Ku._cloneCustomizer)),r._buildMarker(r.options),r}return Ju(t,e),t.prototype.getOptions=function(){return nc(this.options,Ku._cloneCustomizer)},t.prototype.getElement=function(){return this.marker.getElement()},t.prototype.setOptions=function(e){e=(new Ku).merge(this.options,nc(e,Ku._cloneCustomizer)),bs(e.htmlContent,this.options.htmlContent)&&e.anchor===this.options.anchor?("string"!=typeof e.htmlContent||e.color===this.options.color&&e.text===this.options.text&&e.secondaryColor===this.options.secondaryColor||(this.element.innerHTML=this._getSubbedHtmlString(e)||""),e.draggable!==this.options.draggable&&(this._setDraggable(e.draggable),this.marker.setDraggable(e.draggable)),bs(e.pixelOffset,this.options.pixelOffset)||this.marker.setOffset(e.pixelOffset),bs(e.position,this.options.position)||this.marker.setLngLat(e.position),e.visible!==this.options.visible&&(e.visible?this.element.classList.remove(t.hiddenClass):this.element.classList.add(t.hiddenClass))):(this.marker.remove(),this._buildMarker(e),this.map&&(this.marker.addTo(this.map._getMap()),this._getCollectionContainer().appendChild(this.element))),this.options=e},t.prototype.togglePopup=function(){if(this.options.popup)if(this.options.popup.isOpen())this.options.popup.close();else{if(!this.map)throw new Error("The marker must be added to a map before calling togglePopup().");this.options.popup.setOptions({position:this.options.position}),this.options.popup.open(this.map)}},t.prototype._addToMap=function(e,t){this.map&&this.map!==e&&this._removeFromMap(),t&&(this.options.position=lo(t),this.marker.setLngLat(this.options.position)),this.map!==e&&(this.map=e,this.marker.addTo(e._getMap()),this._getCollectionContainer().appendChild(this.element))},t.prototype._removeFromMap=function(){this.map&&(this.marker.remove(),delete this.map)},t.prototype._getId=function(){if(this.element)return("string"==typeof this.options.htmlContent?this.element.firstChild:this.element).id},t.prototype._buildMarker=function(e){var r;"string"==typeof e.htmlContent?(r=this._getSubbedHtmlString(e)||"",this.element=Xu.convertHtmlString(r)):this.element=e.htmlContent,this.element.classList.add(t.containerClass),e.draggable&&this._setDraggable(!0),e.visible||this.element.classList.add(t.hiddenClass),this.marker=new d.Marker({element:this.element,offset:e.pixelOffset,draggable:e.draggable,anchor:e.anchor}).setLngLat(e.position),this.marker.on("drag",this._onDrag),this.marker.on("dragstart",this._onDragStart),this.marker.on("dragend",this._onDragEnd),this.element.addEventListener("click",this._bubbleElementEvent),this.element.addEventListener("dblclick",this._bubbleElementEvent),this.element.addEventListener("contextmenu",this._bubbleElementEvent),this.element.addEventListener("keydown",this._bubbleElementEvent),this.element.addEventListener("keypress",this._bubbleElementEvent),this.element.addEventListener("keyup",this._bubbleElementEvent),this.element.addEventListener("mousedown",this._bubbleElementEvent),this.element.addEventListener("mouseenter",this._bubbleElementEvent),this.element.addEventListener("mouseleave",this._bubbleElementEvent),this.element.addEventListener("mousemove",this._bubbleElementEvent),this.element.addEventListener("mouseout",this._bubbleElementEvent),this.element.addEventListener("mouseover",this._bubbleElementEvent),this.element.addEventListener("mouseup",this._bubbleElementEvent)},t.prototype._getSubbedHtmlString=function(e){return"string"==typeof e.htmlContent?e.htmlContent.replace(/{color}/gi,e.color||"").replace(/{secondaryColor}/gi,e.secondaryColor||"").replace(/{text}/gi,e.text||""):null},t.prototype._getCollectionContainer=function(){var e=this.map.getCanvasContainer().querySelector(".".concat(t.collectionContainerClass));return e||((e=document.createElement("div")).classList.add(t.collectionContainerClass),this.map.getCanvasContainer().appendChild(e)),e},t.prototype._setDraggable=function(e){e?this.element.addEventListener("dragstart",this._onEleDragStart):this.element.removeEventListener("dragstart",this._onEleDragStart)},t.collectionContainerClass="marker-collection-container",t.hiddenClass="hidden-accessible-element",t.containerClass="marker-container",t}(D),qu=$u;function $u(e){return!function(e){return void 0!==n&&"undefined"!=typeof document?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in n&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in n&&"Blob"in n&&"URL"in n))return!1;var e,t,r=new Blob([""],{type:"text/javascript"});r=URL.createObjectURL(r);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in n?ArrayBuffer.isView?function(){var e=document.createElement("canvas"),t=(e.width=e.height=1,e.getContext("2d"));return!!t&&(t=t.getImageData(0,0,1,1))&&t.width===e.width}()?function(e){return void 0===ed[e]&&(ed[e]=function(e){var t;if(e=function(e){var t=document.createElement("canvas"),r=Object.create($u.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e),!e)return!1;try{t=e.createShader(e.VERTEX_SHADER)}catch(e){return!1}return!(!t||e.isContextLost())&&(e.shaderSource(t,"void main() {}"),e.compileShader(t),!0===e.getShaderParameter(t,e.COMPILE_STATUS))}(e)),ed[e]}(e&&e.failIfMajorPerformanceCaveat)?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser"}(e)}var ed={};$u.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var td,rd,nd=function(){function e(){}return e.parse=function(e){var t=(e=e.toLowerCase()).lastIndexOf("-");return-1!==t?{code:e,language:e.substring(0,t),region:e.substring(t+1)}:{code:e,language:e}},e}(),id={localizationsPath:"locs/mapcontrol/2019-3-12",sensitiveUserRegions:["il","kr","pk","in","cn","ar","bh","eg","jo","sa","kw","om","qa","ma","ae"],locales:{defaultLanguage:{defaultRegion:{code:"NGT",strings:"en/resource.json"},latn:{code:"NGT-Latn",strings:"en/resource.json"}},ar:{defaultRegion:{code:"ar",strings:"ar-sa/resource.json"}},bg:{defaultRegion:{code:"bg-BG",strings:"bg-bg/resource.json"}},cs:{defaultRegion:{code:"cs-CZ",strings:"cs-cz/resource.json"}},da:{defaultRegion:{code:"da-DK",strings:"da-dk/resource.json"}},de:{defaultRegion:{code:"de-DE",strings:"de-de/resource.json"}},el:{defaultRegion:{code:"el-GR",strings:"el-gr/resource.json"}},en:{defaultRegion:{code:"en",strings:"en/resource.json"},us:{code:"en-US",strings:"en/resource.json"},au:{code:"en-AU",strings:"en/resource.json"},gb:{code:"en-GB",strings:"en/resource.json"},nz:{code:"en-NZ",strings:"en/resource.json"}},es:{defaultRegion:{code:"es-ES",strings:"es-es/resource.json"},mx:{code:"es-MX",strings:"es-mx/resource.json"}},fi:{defaultRegion:{code:"fi-FI",strings:"fi-fi/resource.json"}},fr:{defaultRegion:{code:"fr-FR",strings:"fr-fr/resource.json"}},hu:{defaultRegion:{code:"hu-HU",strings:"hu-hu/resource.json"}},id:{defaultRegion:{code:"id-ID",strings:"id-id/resource.json"}},it:{defaultRegion:{code:"it-IT",strings:"it-it/resource.json"}},ko:{defaultRegion:{code:"ko-KR",strings:"ko-kr/resource.json"}},lt:{defaultRegion:{code:"lt-LT",strings:"lt-lt/resource.json"}},ms:{defaultRegion:{code:"ms-MY",strings:"ms-my/resource.json"}},nb:{defaultRegion:{code:"nb-NO",strings:"nb-no/resource.json"}},nl:{defaultRegion:{code:"nl-NL",strings:"nl-nl/resource.json"}},pl:{defaultRegion:{code:"pl-PL",strings:"pl-pl/resource.json"}},pt:{defaultRegion:{code:"pt-PT",strings:"pt-pt/resource.json"},br:{code:"pt-BR",strings:"pt-br/resource.json"}},ru:{defaultRegion:{code:"ru-RU",strings:"ru-ru/resource.json"}},sk:{defaultRegion:{code:"sk-SK",strings:"sk-sk/resource.json"}},sl:{defaultRegion:{code:"sl-SL",strings:"sl-sl/resource.json"}},sv:{defaultRegion:{code:"sv-SE",strings:"sv-se/resource.json"}},th:{defaultRegion:{code:"th-TH",strings:"th-th/resource.json"}},tr:{defaultRegion:{code:"tr-TR",strings:"tr-tr/resource.json"}},zh:{defaultRegion:{code:"zh",strings:"en/resource.json"}},"zh-hans":{defaultRegion:{code:"zh-Hans",strings:"zh-cn/resource.json"},cn:{code:"zh-Hans-CN",strings:"zh-cn/resource.json"}},"zh-hant":{defaultRegion:{code:"zh-Hant",strings:"en/resource.json"},tw:{code:"zh-Hant-TW",strings:"zh-tw/resource.json"}}}},od=function(){this.Unknown="Unknown",this.Accident="Accident",this.Fog="Fog",this.Danger="Danger",this.Rain="Rain",this.Ice="Ice",this.Jam="Jam",this.LaneClosed="Lane Closed",this.RoadClosed="Road Closed",this.RoadWorks="Road Works",this.Wind="Wind",this.Flood="Flood",this.Detour="Detour"},ad=function(){function e(){}return e.getCode=function(e){var t=nd.parse(e);return-1===id.sensitiveUserRegions.indexOf(t.region)?this.getLocaleData(t).code:e},e.getStrings=function(e){return e=this.getLocaleData(e),id.locales.defaultLanguage.defaultRegion.code===e.code?new Promise((function(e){e(new od)})):new L({domain:h.staticAssetsDomain,path:"".concat(id.localizationsPath,"/").concat(e.strings)}).get().then((function(e){return e}),(function(){return new od}))},e.getLocaleData=function(e){if("string"==typeof e&&(e=nd.parse(e)),id.locales[e.code])return id.locales[e.code].defaultRegion;var t;if(id.locales[e.language])t=id.locales[e.language];else{if(-1!==e.language.indexOf("-"))return this.getLocaleData(e.language);t=id.locales.defaultLanguage}return e.region&&t[e.region]?t[e.region]:t.defaultRegion},e}(),sd=function(){function e(){}return e.getEdgeOrIEVersion=function(){var e=n.navigator.userAgent,t=e.indexOf("MSIE ");return 0<t?parseInt(e.substring(t+5,e.indexOf(".",t)),10):0<e.indexOf("Trident/")?(t=e.indexOf("rv:"),parseInt(e.substring(t+3,e.indexOf(".",t)),10)):0<(t=e.indexOf("Edge/"))?parseInt(e.substring(t+5,e.indexOf(".",t)),10):-1},e.isEdgeOrIE=function(){return-1!==this.getEdgeOrIEVersion()},e.isIE=function(){var e=this.getEdgeOrIEVersion();return-1!==e&&e<=11},e}(),ld=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cd=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},ud=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},dd=(function(e){e.subscriptionKey="subscriptionKey",e.aad="aad",e.anonymous="anonymous",e.sas="sas"}(td=td||{}),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.authType=void 0,t.subscriptionKey=void 0,t.clientId=void 0,t.aadAppId=void 0,t.aadTenant=void 0,t.aadInstance=void 0,t.getToken=void 0,t.sasToken=void 0,t.authContext=void 0,t}return ld(t,e),t.prototype.setSubscriptionKey=function(e){this.authType=td.subscriptionKey,this.subscriptionKey=e},t.prototype.setAadProperties=function(e,t,r,n,i){this.authType=td.aad,this.authContext=i||this.authContext,this.aadInstance=n||this.aadInstance,this.clientId=e,this.aadAppId=t,this.aadTenant=r},t.prototype.setTokenCallbackFunction=function(e){this.authType=td.anonymous,this.getToken=e},t.prototype.setSasCallbackFunction=function(e){this.authType=td.sas,this.getToken=e},t.prototype.merge=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=e.prototype.merge.apply(this,ud([],cd(t),!1));return n.authType===td.subscriptionKey?n.authContext=n.aadAppId=n.getToken=void 0:n.authType===td.aad?n.subscriptionKey=n.getToken=void 0:n.authType===td.anonymous?n.subscriptionKey=n.authContext=n.aadAppId=void 0:n.authType===td.sas&&(n.authContext=n.subscriptionKey=n.aadAppId=void 0),n},t}(T)),hd="NGT",pd=Ss(),md=h.domain,yd=h.staticAssetsDomain,fd=h.stylePath,gd=h.styleDefinitionsVersion,bd="2.0",vd=new dd,Md=!1,xd=!1,Sd=!1,wd=!1,_d=!1,Td=!1,Id=!1,Cd=!1,kd=!1;function Ld(){return Object.assign({},vd)}function Nd(){return yd}function Zd(){return md}function Ed(){return fd}function zd(){return gd}function Gd(){return bd}function Pd(){return d.workerCount}function Ad(){return d.maxParallelImageRequests}function Rd(){return hd}function Dd(){return pd}function Xd(){return vd.authType===td.subscriptionKey?vd.subscriptionKey:void 0}function Od(){return rd}function Wd(){return rd}function jd(){return Z.getFullVersion()}function Yd(e){return!sd.isIE()&&qu({failIfMajorPerformanceCaveat:e})&&null!==document.createElement("canvas").getContext("webgl2")}function Fd(e){vd=(new dd).merge(vd,e),kd=!0}function Vd(e){md=e,xd=!0}function Hd(e){fd=e,Sd=!0}function Ud(e){gd=e,wd=!0}function Bd(e){bd=e}function Kd(e){0<e&&(d.workerCount=e,_d=!0)}function Jd(e){0<e&&(d.maxParallelImageRequests=e,Td=!0)}function Qd(e){hd=ad.getCode(e),Id=!0}function qd(e){pd=e,Cd=!0}function $d(e){vd.setSubscriptionKey(e),kd=!0}function eh(e){rd=e,Md=!0}function th(e){rd=e,Md=!0}function rh(e,t,r){!r&&bh[e.toLowerCase()]||(bh[e.toLowerCase()]=t)}function nh(e,t){if(t=Math.abs(t||1),"string"==typeof e&&bh[e.toLowerCase()]){for(var r=bh[e.toLowerCase()],n=/calc\(([0-9.]+)[px]*\s*\*\s*\{scale\}\)/gi,i=r,o=n.exec(r);o;)i=i.replace(o[0],parseFloat(o[1])*t+""),o=n.exec(r);return i.replace("{scale}",t+"")}throw new Error("Invalid templateName.")}function ih(){return Object.keys(bh)}function oh(){d.prewarm()}function ah(){d.clearPrewarmedResources()}function sh(){return kd}function lh(){return xd}function ch(){return Sd}function uh(){return wd}function dh(){return _d}function hh(){return Td}function ph(){return Id}function mh(){return Cd}function yh(){return Md}function fh(){return h.domain}function gh(){return Zd()}var bh={marker:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 26 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:1"/><text x="12.5" y="17.5" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 27 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:2"/><text x="12.5" y="18.5" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-circle":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 27 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:1"/><circle cx="12.5" cy="12.5" r="9" fill="{secondaryColor}"/><text x="12" y="17.5" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',pin:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(24 * {scale})" height="calc(28 * {scale})" viewBox="0 0 24 28"><path d="m11.988 16.615a5.15 5.15 0 0 1-2.268-.525 4.909 4.909 0 0 1-2.805-4.442 5.019 5.019 0 0 1 5.072-4.936h.012a5.03 5.03 0 0 1 5.085 4.961 4.907 4.907 0 0 1-.549 2.224 5.114 5.114 0 0 1-4.548 2.718zm0-8.06a3.173 3.173 0 0 0-3.226 3.099 3.081 3.081 0 0 0 1.77 2.782 3.299 3.299 0 0 0 4.365-1.386 3.049 3.049 0 0 0 .342-1.381 3.184 3.184 0 0 0-3.239-3.114h-.012z" fill="{secondaryColor}"/><path d="m11.999.922a10.908 10.908 0 0 0-11.076 10.732 10.639 10.639 0 0 0 4.418 8.598l6.658 6.464 6.658-6.463a10.537 10.537 0 0 0 2.198-15.041 11.182 11.182 0 0 0-8.856-4.289zm1.873 14.341a4.221 4.221 0 0 1-5.589-1.789 3.945 3.945 0 0 1-.445-1.8 4.164 4.164 0 0 1 8.323-.037 4.028 4.028 0 0 1-2.289 3.626Z" fill="{color}"/><path d="m11.999 28-7.256-7.044a11.611 11.611 0 0 1-4.743-9.303 11.844 11.844 0 0 1 11.988-11.652.102 .102 0 0 1 .02 0 12.164 12.164 0 0 1 9.577 4.647 11.357 11.357 0 0 1 2.299 8.614 11.521 11.521 0 0 1-4.63 7.695zm-.01-26.157a9.997 9.997 0 0 0-10.143 9.812 9.769 9.769 0 0 0 4.04 7.853l.099.083 6.014 5.838 6.113-5.922a9.7 9.7 0 0 0 3.945-6.505 9.533 9.533 0 0 0-1.933-7.229 10.305 10.305 0 0 0-8.116-3.931h-.021zm.021 14.772a5.11 5.11 0 0 1-4.547-2.718 4.868 4.868 0 0 1 .932-5.743 5.118 5.118 0 0 1 3.58-1.46h.024a5.031 5.031 0 0 1 5.084 4.938 4.92 4.92 0 0 1-2.805 4.457h0a5.152 5.152 0 0 1-2.269.525zm-.011-8.079h-.015a3.277 3.277 0 0 0-2.295.933 3.029 3.029 0 0 0-.587 3.58 3.297 3.297 0 0 0 4.364 1.386h0a3.092 3.092 0 0 0 1.772-2.795 3.185 3.185 0 0 0-3.239-3.105z" fill="{secondaryColor}"/><text x="12" y="17" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',"pin-round":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(25 * {scale})" height="calc(25 * {scale})" viewBox="0 0 25 25"><g transform="translate(0 1)"><circle cx="12.25" cy="11.5833" r="11" fill="{color}"/><path d="m12.25 23.583a12 12 0 1 1 12-12 12 12 0 0 1-12 12zm0-22a10 10 0 1 0 10 10 10 10 0 0 0-10-10z" fill="{secondaryColor}"/><circle cx="12.25" cy="11.5833" r="4.2386" fill="{secondaryColor}"/></g><text x="12.5" y="17" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',"marker-flat":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(42.8 * {scale})"  viewBox="0 0 1600 2570"><g fill="{color}"><path d="M691 2419c-409-575-641-1086-683-1504-10-106-10-136 5-224 31-188 105-330 241-458 129-124 270-190 453-214 69-9 113-10 182-1 373 46 655 326 703 698 40 308-120 801-424 1309-134 224-348 535-369 535-4 0-53-63-108-141z"/></g><g fill="rgba(0,0,0,0.15)" style="transform:scale(-1,1);transform-origin:center"><path d="M691 2419c-407-571-639-1083-682-1498-14-139-3-249 37-371 69-208 254-402 459-481 68-27 217-59 271-59h24v160 180 940 635c0 349-2 635-5 635-2 0-49-63-104-141z"/></g><circle cx="800" cy="800" r="600" fill="{secondaryColor}"/><text x="800" y="1100" style="font-size:800px;fill:#000;text-anchor:middle">{text}</text></svg>',"marker-arrow":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(25.47 * {scale})" height="calc(35.18 * {scale})" viewBox="0 0 4330 5980"><g fill="{color}"><path d="m2080 5969c-49-20-93-63-115-113-25-55-1928-5486-1953-5573-40-138 67-282 210-283 36 0 246 73 987 345 518 190 947 345 955 345 8 0 438-155 955-345 615-226 954-345 979-345 87 0 165 47 204 123 46 91 107-95-957 2942-537 1535-986 2805-997 2823-11 18-43 46-72 62-41 24-62 30-111 29-33 0-71-5-85-10z"/></g><g fill="{secondaryColor}"><path d="m2200 1600c-36 10-83 2-484-84-243-53-451-94-461-91-11 4-22 18-25 31-5 19 114 371 436 1292 244 697 448 1273 454 1281 19 24 50 30 71 12z"/><path d="m2200 1600c-36 10-83 2-484-84-243-53-451-94-461-91-11 4-22 18-25 31-5 19 114 371 436 1292 244 697 448 1273 454 1281 19 24 50 30 71 12z" style="transform:scale(-1,1);transform-origin:center"/></g><g fill="rgba(0,0,0,0.2)" ><path d="m2165 685c8 0 438-155 955-345 615-226 954-345 979-345 87 0 165 47 204 123 46 91 107-95-957 2942-537 1535-986 2805-997 2823-11 18-43 46-72 62-41 24-62 30-111 29z"/></g><text x="2165" y="3300" style="font-size:2500px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-ball-pin":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15.67 * {scale})" height="calc(33.33 * {scale})" viewBox="0 0 235 452"><g transform="translate(-135 10)"><path fill="{secondaryColor}" d="m256 442 0 0c-13 0-18-11-18-24l-6-323c0-13 11-24 24-24h0c13 0 24 11 24 24l-6 323c0 13-5 24-18 24z"/><circle style="fill:{color};stroke-width:10;stroke:{secondaryColor}" cx="256" cy="112" r="111"/><ellipse transform="matrix(0.834 0.5518 -0.5518 0.834 65.7916 -97.18)" fill="rgba(255,255,255,0.3)" cx="194.399" cy="60.749" rx="19.076" ry="32.428"/></g><text x="117.5" y="160" style="font-size:160px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(26.67 * {scale})" height="calc(32.27 * {scale})" viewBox="0 0 2000 2420"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="M845 2152c-22-37-58-95-80-129-22-35-62-99-90-143l-50-80-312 0-313 0 0-900 0-900 900 0 900 0 0 900 0 900-313 0-313 0-34 58c-19 31-38 59-42 60-5 2-8 8-8 12 0 9-69 123-88 145-5 6-11 15-13 21-16 39-77 123-89 124-8 0-33-31-55-68z"/></g><text x="1000" y="1300" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-cluster":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(33.33 * {scale})" height="calc(38.8 * {scale})" viewBox="0 0 2500 2910"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="m866 2652c-17-31-37-68-46-82-9-14-32-54-51-90-19-36-50-92-70-125l-36-60-332-3-331-2 0-905 0-905 660 0 660 0 0-38c0-71 50-196 102-258 71-85 189-164 244-164 12 0 26-4 29-10 8-13 222-13 230 0 3 6 17 10 30 10 25 0 117 45 154 76 130 107 191 232 191 392 0 155-63 284-190 386-36 29-129 76-150 76-11 0-22 5-25 10-3 6-31 10-61 10l-54 0 0 660 0 660-332 2-332 3-29 50c-17 28-48 84-70 125-22 41-47 86-56 100-9 14-30 51-46 83-17 32-36 57-45 57-8 0-28-25-44-58z"/></g><text x="1650" y="900" style="font-size:1000px;fill:#fff">+</text><text x="1000" y="1800" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-rounded":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(26.8 * {scale})" height="calc(32.27 * {scale})" viewBox="0 0 2010 2410"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="M856 2155c-20-30-36-59-36-65 0-5-4-10-10-10-5 0-10-5-10-11 0-5-18-37-40-69-22-32-40-64-40-69 0-6-4-11-10-11-5 0-10-5-10-10 0-6-15-33-32-60l-33-50-127 0c-74 0-129-4-133-10-3-5-17-10-30-10-25 0-116-45-155-76-87-69-142-151-178-265-15-46-17-1075-2-1084 5-3 10-17 10-30 0-13 5-27 10-30 6-3 10-13 10-22 0-22 83-135 122-168 57-46 62-50 112-75l50-25 585 0 586 0 63 34c84 46 169 133 212 218l35 68 0 565 0 565-28 59c-32 69-100 157-139 180-15 9-33 22-40 29-23 22-99 57-123 57-13 0-27 5-30 10-4 6-60 10-135 10l-128 0-128 205c-84 136-133 205-144 205-10 0-33-24-54-55z"/></g><text x="1000" y="1300" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-rounded-cluster":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(33.33 * {scale})" height="calc(32.13 * {scale})" viewBox="0 0 2500 2900"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="m874 2669c-9-18-26-49-37-68-11-20-30-55-43-78-13-24-36-64-51-90-14-27-38-69-52-95l-26-48-142 0c-84 0-144-4-148-10-3-5-17-10-30-10-25 0-118-46-154-76-91-76-136-142-175-254-13-38-16-119-16-554 0-358 3-520 12-545 40-125 106-219 195-278 127-84 116-83 646-83l467 0 0-42c0-46 11-87 45-163 54-121 169-220 306-264 46-14 232-14 278 0 165 53 284 175 340 350 19 61 14 204-10 273-32 91-94 178-169 240-38 31-130 76-155 76-13 0-27 5-30 10-3 6-28 10-56 10l-49 0 0 462c0 446-1 464-21 522-32 91-94 178-169 240-38 31-130 76-155 76-13 0-27 5-30 10-4 6-65 10-149 10-138 0-143 1-154 23-12 23-62 114-112 202-16 28-44 79-63 115-42 77-67 88-93 39z"/></g><text x="1650" y="900" style="font-size:1000px;fill:#fff">+</text><text x="1000" y="1800" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',flag:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(23.5 * {scale})" height="calc(40 * {scale})" viewBox="34 28 198 308"><path style="stroke:{secondaryColor};stroke-width:15;stroke-linecap:round;" d="M42 327l0 -291"/><path style="fill:{color};stroke:{secondaryColor};stroke-width:10;stroke-linejoin:round;" d="M49 50c70 30 104 28 178 2-21 42-21 74 0 116-72 25-101 25-178 0l0-118z"/><text x="130" y="165" style="font-size:100px;fill:#fff;text-anchor:middle">{text}</text></svg>',"flag-triangle":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(35.33 * {scale})" viewBox="0 0 40.5 53"><g transform="translate(-31 -20)"><path fill="{secondaryColor}" d="M34.7,73.3V48.4l34.6-10.1c0.7-0.2,1.2-0.8,1.2-1.5s-0.4-1.4-1-1.7L33.7,20.5c-0.5-0.2-1.1-0.2-1.6,0.2 c-0.5,0.3-0.7,0.8-0.7,1.4v51.2H34.7z"/><polygon points="34.7,24.5 66,36.5 34.7,45 34.7,10" fill="{color}"/></g><text x="11" y="21" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"rounded-square":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(34 * {scale})" height="calc(34 * {scale})" viewBox="0 0 34 34"><g transform="translate(2 2)"><rect x="0" y="0" rx="8" ry="8" width="30" height="30" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17" y="22" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"rounded-square-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(38 * {scale})" height="calc(38 * {scale})" viewBox="0 0 38 38"><g transform="translate(4 4)"><rect x="0" y="0" rx="8" ry="8" width="30" height="30" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19" y="24" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',triangle:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(36 * {scale})" height="calc(36 * {scale})" viewBox="0 0 36 36"><g transform="translate(2 2)"><polygon points="16,0 32,32 0,32 16,0" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17.5" y="30" style="font-size:12px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 40 40"><g transform="translate(4 4)"><polygon points="16,0 32,32 0,32 16,0" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19.5" y="32" style="font-size:12px;fill:#fff;text-anchor:middle">{text}</text></svg>',hexagon:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(35 * {scale})" height="calc(40 * {scale})" viewBox="0 0 35 40"><g transform="translate(2 2)"><path d="M31 9 15.5 0 0 9 0 27 15.5 36 31 27 31 9Z" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17.5" y="25" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(39 * {scale})" height="calc(44 * {scale})" viewBox="0 0 39 44"><g transform="translate(4 4)"><path d="M31 9 15.5 0 0 9 0 27 15.5 36 31 27 31 9Z" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19.5" y="27" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-rounded":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 1100 1100"><g transform="translate(50 50)"><path style="stroke:{secondaryColor};stroke-width:50;fill:{color}" d="M881 210 561 25c-33-19-88-19-121 0L119 210c-33 19-61 67-61 105v370c0 39 27 86 61 105l321 185c33 19 88 19 122 0l321-185c33-19 61-67 61-105V315C942 276 915 229 881 210z"/></g><text x="550" y="700" style="font-size:400px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-rounded-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 1200 1200"><g transform="translate(100 100)"><path style="stroke:{secondaryColor};stroke-width:100;fill:{color}" d="M881 210 561 25c-33-19-88-19-121 0L119 210c-33 19-61 67-61 105v370c0 39 27 86 61 105l321 185c33 19 88 19 122 0l321-185c33-19 61-67 61-105V315C942 276 915 229 881 210z"/></g><text x="600" y="750" style="font-size:400px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(28 * {scale})" viewBox="0 0 28 28"><g transform="translate(2 2)"><polygon points="12,0 0,24 12,17 24,24" stroke-width="2" stroke="{secondaryColor}" fill="{color}"/></g><text x="14" y="17" style="font-size:8px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-arrow-left":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(28 * {scale})" viewBox="0 0 28 28"><g transform="translate(2 2)"><polygon points="24,12 0,0 7,12 0,24" stroke-width="2" stroke="{secondaryColor}" fill="{color}"/></g><text x="14" y="16.5" style="font-size:8px;fill:#fff;text-anchor:middle">{text}</text></svg>',"arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(12.16 * {scale})" height="calc(30.1 * {scale})" viewBox="0 0 902 364"><g fill="{color}" transform="matrix(0,2.4,-2.4,0,897,-930)"><polygon points="902,222 233,222 233,364 0,182 233,0 233,141 902,141 902,222"/></g><text x="450" y="700" style="font-size:900px;fill:#000;text-anchor:middle">{text}</text></svg>',"arrow-up-thin":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(33.33 * {scale})" viewBox="0 0 12 25"><g transform="translate(-136.91823 -751.91998)"><path fill="{color}" d="m148.271 760.71c-1.641-.547-3.186-1.47-4.633-2.769l0 18.07-1.675 0 0-18.07c-1.447 1.299-2.986 2.222-4.616 2.769l0-1.231c2.325-1.596 4.006-3.812 5.043-6.65l.838 0c1.037 2.838 2.718 5.055 5.043 6.65l0 1.231z"/></g><text x="6" y="20" style="font-size:10px;fill:#000;text-anchor:middle">{text}</text></svg>',car:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(21.93 * {scale})" height="calc(40.9 * {scale})" viewBox="0 0 6580 12270"><g transform="translate(0 12270) rotate(-90)"><path fill="{secondaryColor}" d="M7045 6566c-42-13-105-44-105-51 0-2 23-105 50-228 28-123 50-230 50-236 0-8-241-11-907-11-855 0-1145 6-1513 30-85 6-189 13-230 15-41 3-133 10-205 15-286 21-430 32-705 50-953 63-1459 18-2335-205-304-77-746-209-799-238-131-72-221-408-285-1062-34-345-42-532-48-1130-16-1557 108-2532 336-2649 32-17 469-149 676-205 409-110 819-191 1205-238 116-14 224-18 540-18 395 1 494 5 1140 50 1124 79 1224 82 2496 78l641-3-53-237c-29-131-52-238-51-239 1-1 31-14 66-29 56-23 76-26 142-23 67 3 83 7 120 33 23 17 50 41 61 55 10 14 51 117 91 230l73 205 674 3 675 2 90-39c98-43 198-72 315-93 122-21 829-18 990 5 321 45 626 143 849 270 293 168 516 378 704 662 266 402 416 893 467 1527 15 174 8 882-9 998-6 41-18 127-27 190-69 502-253 969-523 1325-79 105-262 284-381 374-189 142-355 229-574 300-336 110-526 139-952 148-457 9-685-23-887-124l-47-24-678-6-678-6-64 179c-79 224-92 253-121 284-67 70-177 97-274 66zm-2752-5073c-23-2-64-2-90 0-26 2-7 3 42 3 50 0 71-1 48-3zm395 0c-21-2-55-2-75 0-21 2-4 4 37 4 41 0 58-2 38-4z"/><path fill="{color}" d="M7043 6498c-13-6-23-19-23-28 0-9 23-117 50-240 28-123 50-230 50-237 0-22-2126-13-2465 10-132 10-400 28-595 42-661 47-824 55-1160 62-435 7-656-8-1040-73-415-70-865-183-1447-365-168-53-272-556-325-1569-16-319-16-1311 0-1630 45-872 129-1366 257-1518 22-26 51-39 172-77 557-177 1122-310 1563-369 271-36 351-40 690-40 361 1 463 6 1165 54 1122 78 1288 83 2337 79 460-2 840-7 843-11 4-4-17-117-47-252l-55-245 39-16c76-30 180-8 224 47 10 13 54 124 98 246l79 222 709 0 709 0 47-24c74-37 219-83 322-101 122-22 606-32 802-16 374 29 658 102 933 238 124 62 271 155 361 230l61 51 6 100c19 278 103 497 247 643 88 89 173 136 278 152l70 11 41 131c116 369 159 673 168 1170 10 584-38 984-167 1397l-40 126-70 12c-193 33-348 175-441 405-56 139-89 302-89 445 0 43-3 47-58 91-290 235-644 384-1068 450-191 29-796 39-974 16-135-18-263-54-368-102l-75-35-701 0-701 0-79 223c-82 232-102 267-163 293-38 16-138 17-170 2zm-2023-820c332-15 1155-12 1835 6 308 8 563 12 566 8 4-4 10-21 13-38 7-30 6-31-92-77-518-244-1197-396-2112-474-295-25-1282-25-1579 0-231 20-473 46-479 51-6 7 49 110 93 171 160 226 416 335 855 365 142 10 539 5 900-12zm3304-263c525-111 899-887 934-1935 19-557-37-1023-172-1435-186-563-521-900-896-899-81 0-158 14-525 92-426 91-431 92-540 146-195 96-287 207-306 368-12 104-11 2985 1 3078 22 170 135 291 365 389 49 21 191 55 480 115 226 47 419 87 430 89 45 10 164 6 229-8zm-5570-485c112-43 197-156 216-291 12-83 13-2623 1-2706-23-158-125-273-270-304-44-9-100-1-542 75-272 47-514 91-539 98-266 68-487 424-594 958-56 280-70 548-40 800 56 484 207 878 414 1081 115 114 122 116 702 218 277 49 524 90 550 90 26 1 72-8 102-19zm2111-3440c1023-44 1884-213 2462-486l113-53-7-33c-3-18-8-35-10-37-2-3-236 1-521 7-993 24-1271 26-1708 11-541-18-1128-18-1249-1-377 56-588 181-734 437-32 55-41 79-32 84 12 8 246 32 491 51 356 28 815 36 1195 20z"/></g><text x="3250" y="8250" style="font-size:3000px;fill:#fff;text-anchor:middle">{text}</text></svg>',checker:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(16 * {scale})" viewBox="0 0 16 16"><pattern id="p" x="0" y="0" width="16" height="16" patternUnits="userSpaceOnUse"><rect fill="{color}" x="0" width="8" height="8" y="0"/><rect fill="{color}" x="8" width="8" height="8" y="8"/></pattern><rect x="0" y="0" width="16" height="16" fill="{secondaryColor}"/><rect x="0" y="0" width="16" height="16" fill="url(#p)"/></svg>',"checker-rotated":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(16 * {scale})" viewBox="0 0 60 60"><rect width="60" height="60" fill="{secondaryColor}"/><rect width="42.42" height="42.42" transform="translate(30 0) rotate(45)" fill="{color}"/></svg>',"zig-zag":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15 * {scale})" height="calc(15 * {scale})" viewBox="0 0 120 120"><rect x="0" y="0" width="120" height="120" fill="{secondaryColor}"/><polygon fill="{color}" points="120 120 60 120 90 90 120 60 120 0 120 0 60 60 0 0 0 60 30 90 60 120 120 120"/></svg>',"zig-zag-vertical":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15 * {scale})" height="calc(15 * {scale})" viewBox="0 0 120 120"><rect x="0" y="0" width="120" height="120" fill="{secondaryColor}"/><polygon fill="{color}" points="120 0 120 60 90 30 60 0 0 0 0 0 60 60 0 120 60 120 90 90 120 60 120 0"/></svg>',"circles-spaced":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 20 20"><defs><pattern id="p" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="2" stroke="none" fill="{color}"/></pattern></defs><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><rect x="0" y="0" width="100" height="100" fill="url(#p)"/></svg>',circles:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(7 * {scale})" height="calc(7 * {scale})" viewBox="0 0 20 20"><defs><pattern id="p" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="6" stroke="none" fill="{color}"/></pattern></defs><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><rect x="0" y="0" width="100" height="100" fill="url(#p)"/></svg>',"diagonal-lines-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"diagonal-lines-down":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(90 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"diagonal-stripes-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"diagonal-stripes-down":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g transform="rotate(90 20 20)" fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"grid-lines":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(14 * {scale})" height="calc(14 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(45 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g><g fill="{color}" transform="rotate(-45 3 3)"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"rotated-grid-lines":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(90 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g><g fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"rotated-grid-stripes":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g transform="rotate(90 20 20)" fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g><g fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"x-fill":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="45.3" height="45.3" fill="{secondaryColor}"/><g fill="{color}"><path d="M0 38.59l2.83-2.83 1.41 1.41L1.41 40H0v-1.41zM0 1.4l2.83 2.83 1.41-1.41L1.41 0H0v1.41zM38.59 40l-2.83-2.83 1.41-1.41L40 38.59V40h-1.41zM40 1.41l-2.83 2.83-1.41-1.41L38.59 0H40v1.41zM20 18.6l2.83-2.83 1.41 1.41L21.41 20l2.83 2.83-1.41 1.41L20 21.41l-2.83 2.83-1.41-1.41L18.59 20l-2.83-2.83 1.41-1.41L20 18.59z"/></g></svg>',dots:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(13 * {scale})" height="calc(13 * {scale})" viewBox="0 0 20 20"><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><g fill="{color}"><circle cx="3" cy="3" r="3"/><circle cx="13" cy="13" r="3"/></g></svg>'},vh=function(){function e(){}return e.getHighContrastMode=function(){return matchMedia("(-ms-high-contrast: white-on-black)").matches?"dark":matchMedia("(-ms-high-contrast: black-on-white)").matches?"light":matchMedia("(-ms-high-contrast: active)").matches?"dark":matchMedia("(inverted-colors: inverted)").matches?"invert":null},e}(),Mh=void 0,xh=null,Sh="boolean",wh="function",_h="number",Th="object",Ih="prototype",Ch="__proto__",kh="string",Lh="undefined",Nh="constructor",Zh="Symbol",Eh="indexOf",zh="length",Gh="done",Ph="value",Ah="name",Rh="slice",Dh="call",Xh=Object,Oh=Xh[Ih],Wh=String,jh=Wh[Ih],Yh=Math,Fh=Array,Vh=Fh[Ih];function Hh(e,t){try{t=e()}catch(e){}return t}var Uh=[kh,_h,Sh,Lh,"symbol","bigint"];function Bh(e){return function(t){return typeof t===e}}function Kh(e){var t="[object "+e+"]";return function(e){return!(!e||Jh(e)!==t)}}function Jh(e){return Oh.toString[Dh](e)}function Qh(e){return typeof e===Lh||e===Lh}function qh(e){return e===xh||Qh(e)}function $h(e){return!!e||e!==Mh}var ep=Bh(kh),tp=Bh(wh);function rp(e){return!(!e&&qh(e)||!e||typeof e!==Th)}var np=Fh.isArray,ip=Kh("Date"),op=Bh(_h),ap=Bh(Sh),sp=Kh("Error");function lp(e){return!!(e&&e.then&&tp(e.then))}function cp(e){return!(!e||Hh((function(){return!(e&&0+e)}),!e))}var up=Xh.getOwnPropertyDescriptor;function dp(e,t){return e&&Oh.hasOwnProperty[Dh](e,t)}var hp=Xh.hasOwn||function(e,t){return dp(e,t)||!!up(e,t)};function pp(e,t,r){if(e&&rp(e))for(var n in e)if(hp(e,n)&&-1===t[Dh](r||e,n,e[n]))break}function mp(e,t,r,n){var i={};return pp(e,(function(e,n){i[e]=t?n:e,i[n]=r?n:e})),n(i)}function yp(e){throw new Error(e)}function fp(e){throw new TypeError(e)}var gp=Xh.freeze,bp=Xh.assign;function vp(e){return rp(e)&&e!==xh||fp("objKeys called on non-object"),Xh.keys(e)}function Mp(e){return gp&&pp(e,(function(e,t){(np(t)||rp(t))&&gp(t)})),wp(e)}var xp,Sp,wp=gp||function(e){return e},_p=Xh.getPrototypeOf||function(e){return e[Ch]||xh},Tp=mp({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12},0,0,Mp),Ip=Wh,Cp="__tsUtils$gblCfg";function kp(){var e;return(e=(e=(e=typeof globalThis!==Lh?globalThis:e)||typeof self===Lh?e:self)||typeof n===Lh?e:n)||typeof r.g===Lh?e:r.g}function Lp(){var e;return xp||(e=kp()||{},xp=e[Cp]=e[Cp]||{}),xp}function Np(e,t){var r="";if(sp(e))r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'";else try{r=JSON.stringify(e,xh,t?op(t)?t:4:Mh)}catch(e){r=" - "+Np(e,t)}return Jh(e)+": "+r}function Zp(e,t){fp("'"+Ip(e)+"' not defined for "+Np(t))}function Ep(e,t){Sp=Sp||Vh[Rh];var r=t&&t[e];return function(t){var n=t&&t[e]||r;if(n)return n.apply(t,Sp[Dh](arguments,1));Zp(e,t)}}function zp(e,t,r){Sp=Sp||Vh[Rh];var n=t&&t[e];return function(t){var i,o=t&&t[e]||n;if(o||r)return i=arguments,(o||r).apply(t,o?Sp[Dh](i,1):i);Zp(e,t)}}var Gp=Yh.max,Pp=Ep(Rh,jh),Ap=Ep("substring",jh),Rp=zp("substr",jh,(function(e,t,r){return qh(e)&&fp("'polyStrSubstr called with invalid "+Np(e)),r<0?"":((t=t||0)<0&&(t=Gp(t+e[zh],0)),Qh(r)?Pp(e,t):Pp(e,t,t+r))}));function Dp(e,t){return Ap(e,0,t)}var Xp,Op,Wp="_urid";function jp(e){return{description:Ip(e),toString:function(){return Zh+"("+e+")"},_polyfill:!0}}function Yp(e){var t,r,n=function(){var e;return Xp||(e=Lp(),Xp=e.gblSym=e.gblSym||{k:{},s:{}}),Xp}();return hp(n.k,e)||(t=jp(e),r=vp(n.s).length,t[Wp]=function(){return r+"_"+t.toString()},n.k[e]=t,n.s[t[Wp]()]=Ip(e)),n.k[e]}var Fp,Vp={e:"enumerable",c:"configurable",v:Ph,w:"writable",g:"get",s:"set"},Hp=Xh.defineProperty;function Up(e,t,r){return Hp(e,t,function(e){var t,r={};return r[Vp.c]=!0,r[Vp.e]=!0,e.l&&(r.get=function(){return e.l.v},t=up(e.l,"v"))&&t.set&&(r.set=function(t){e.l.v=t}),pp(e,(function(e,t){r[Vp[e]]=Qh(t)?r[Vp[e]]:t})),r}(r))}var Bp=function(){Fp=Lp(),Bp=xh};function Kp(e){var t={};return Bp&&Bp(),t.b=Fp.lzy,Hp(t,"v",{configurable:!0,get:function(){var r=e();return Fp.lzy||(Hp(t,"v",{value:r}),t.b&&delete t.b),Fp.lzy&&t.b!==Fp.lzy&&(t.b=Fp.lzy),r}}),t}function Jp(e,t){return Kp((function(){return Hh(e,t)}))}var Qp,qp,$p,em,tm,rm,nm,im,om,am,sm="window";function lm(e){return Jp((function(){return um(e)||Mh}),Mh)}function cm(e){return(Qp=!Qp||!1===e||Fp&&Fp.lzy&&!Qp.b?Jp(kp,xh):Qp).v}function um(e,t){return(t=Qp&&!1!==t?Qp.v:cm(t))&&t[e]?t[e]:e===sm&&qp?qp.v:xh}function dm(){return!!hm()}function hm(){return($p=!$p||Fp&&Fp.lzy&&!$p.b?lm("document"):$p).v}function pm(){return!!mm()}function mm(){return(qp=!qp||Fp&&Fp.lzy&&!qp.b?lm(sm):qp).v}function ym(){return(em=!em||Fp&&Fp.lzy&&!em.b?lm("navigator"):em).v}function fm(){return(tm=!tm||Fp&&Fp.lzy&&!tm.b?lm("history"):tm).v}function gm(){return(rm=rm||Jp((function(){return!!(self&&self instanceof WorkerGlobalScope)}),!1)).v}function bm(){var e=!im||Fp&&Fp.lzy&&!im.b;return e&&(im=lm(Zh)),om&&!e||(om=Jp((function(){return im.v?im.v.for:Mh}),Mh)),im.v}function vm(e,t){var r=Tp[e];return im&&(!Fp.lzy||im.b)||bm(),im.v?im.v[r||e]:t?Mh:function(e){return Op=Op||{},(e=Tp[e])?Op[e]=Op[e]||jp(Zh+"."+e):undefined}(e)}function Mm(e,t){return im&&(!Fp.lzy||im.b)||bm(),im.v?im.v(e):t?xh:jp(e)}function xm(e){return om&&(!Fp.lzy||im.b)||bm(),(om.v||Yp)(e)}function Sm(e){return!!e&&tp(e.next)}var wm=(Sp=Sp||Vh[Rh],function(e){return e.apply.apply(e,Sp[Dh](arguments,1))});function _m(e,t){return!Qh(t)&&e&&(np(t)?wm(e.push,e,t):Sm(t)||function(e){return!function(e){return e===xh||!$h(e)}(e)&&tp(e[vm(3)])}(t)?function(e,t){if(e&&(Sm(e)||(e=e[(am=am||Kp((function(){return vm(3)}))).v]?e[am.v]():null),Sm(e))){var r=void 0,n=void 0;try{for(var i=0;!(n=e.next())[Gh]&&-1!==t[Dh](e,n[Ph],i,e);)i++}catch(t){r={e:t},e.throw&&(n=null,e.throw(r))}finally{try{n&&!n[Gh]&&e.return&&e.return(n)}finally{if(r)throw r.e}}}}(t,(function(t){e.push(t)})):e.push(t)),e}function Tm(e,t,r){if(e)for(var n=e[zh]>>>0,i=0;i<n&&(!(i in e)||-1!==t[Dh](r||e,e[i],i,e));i++);}var Im,Cm,km=Ep(Eh,Vh),Lm=Ep("map",Vh),Nm=Ep(Rh,Vh),Zm=Ep("reduce",Vh),Em=Xh.create||function(e){if(!e)return{};var t=typeof e;if(t!==Th&&t!==wh)throw new TypeError("Prototype must be an Object or function: "+Np(e));function r(){}return r[Ih]=e,new r};function zm(e,t){return(Xh.setPrototypeOf||function(e,t){(Im=Im||Kp((function(){var e={};return e[Ch]=[],e instanceof Array}))).v?e[Ch]=t:pp(t,(function(t,r){return e[t]=r}))})(e,t)}function Gm(e,t){try{t&&(e[Ah]=t)}catch(e){}}function Pm(e,t){try{Up(e,Ah,{v:t,c:!0,e:!1})}catch(e){}}function Am(e,t,r){var n=r||Error,i=n[Ih][Ah],o=Error.captureStackTrace;return function(e,t,r){function n(){this.constructor=t,Pm(this,e)}return Pm(t,e),(t=zm(t,r))[Ih]=r===xh?Em(r):(n[Ih]=r[Ih],new n),t}(e,(function(){try{Gm(n,e);var r,a=wm(n,this,Nm(arguments))||this;return a!==this&&(r=_p(this))!==_p(a)&&zm(a,r),o&&o(a,this[Nh]),t&&t(a,arguments),a}finally{Gm(n,i)}}),n)}function Rm(){return(Date.now||Dm)()}function Dm(){return(new Date).getTime()}var Xm,Om,Wm,jm=function(e){return function(t){return qh(t)&&fp("strTrim called ["+Np(t)+"]"),t&&t.replace?t.replace(e,""):t}}(/^\s+|(?=\s)\s+$/g),Ym=zp("trim",jh,jm);function Fm(e){if(!e||typeof e!==Th)return!1;var t=!1;if(e!==(Wm=Wm||!pm()||mm())){Om||(Xm=Function[Ih].toString,Om=Xm[Dh](Xh));try{var r=_p(e);t=(t=!r)||(r=dp(r,Nh)?r[Nh]:r)&&typeof r===wh&&Xm[Dh](r)===Om}catch(e){}}return t}var Vm=function(e){return e.value&&Km(e),!0},Hm=[function(e){var t,r=e.value;return!!np(r)&&((t=e.result=[]).length=r.length,e.copyTo(t,r),!0)},Km,function(e){return e.type===wh},function(e){var t=e.value;return!!ip(t)&&(e.result=new Date(t.getTime()),!0)}];function Um(e,t,r,n){var i=r.handler,o=(n=r.path?n?r.path.concat(n):r.path:[],{handler:r.handler,src:r.src,path:n}),a=typeof t,s=!1,l=!1,c=(t&&a===Th?s=Fm(t):l=t===xh||function(e){return e!==Th&&-1!==Uh.indexOf(e)}(a),{type:a,isPrim:l,isPlain:s,value:t,result:t,path:n,origin:r.src,copy:function(t,n){return Um(e,t,n?o:r,n)},copyTo:function(t,r){return Bm(e,t,r,o)}});return c.isPrim?i&&i[Dh](r,c)?c.result:t:function(e,t,r,n){var i;return Tm(e,(function(e){if(e.k===t)return i=e,-1})),i||(i={k:t,v:t},e.push(i),n(i)),i.v}(e,t,0,(function(e){Up(c,"result",{g:function(){return e.v},s:function(t){e.v=t}});for(var t=0,n=i;!(n||(t<Hm.length?Hm[t++]:Vm))[Dh](r,c);)n=xh}))}function Bm(e,t,r,n){if(!qh(r))for(var i in r)t[i]=Um(e,r[i],n,i);return t}function Km(e){var t,r=e.value;return!(!r||!e.isPlain||(t=e.result={},e.copyTo(t,r),0))}function Jm(e,t){return Tm(t,(function(t){!function(e,t){Bm([],e,t,{handler:void 0,src:t,path:[]})}(e,t)})),e}function Qm(e,t,r,n,i,o,a){return Jm(function(e){return Um([],e,{handler:void 0,src:e})}(e)||{},Nm(arguments))}var qm,$m=function(e){return function(t){return t[e]}}(zh);function ey(){return(qm=!qm||!qm.b&&Fp&&Fp.lzy?lm("performance"):qm).v}var ty=Ep("split",jh);function ry(e,t,r){var n;e&&t&&(n=(t=ty(t,".")).pop(),Tm(t,(function(t){qh(e[t])&&(e[t]={}),e=e[t]})),e[n]=r)}var ny=zp("endsWith",jh,(function(e,t,r){ep(e)||fp("'"+Np(e)+"' is not a string");var n=(t=ep(t)?t:Ip(t))[zh],i=e[zh];return r=!Qh(r)&&r<i?r:i,Ap(e,r-n,r)===t})),iy=Ep(Eh,jh),oy="ref",ay="un"+oy,sy="hasRef",ly="enabled";function cy(e,t,r,n){var i=np(r),o=i?r.length:0,a=(0<o?r[0]:i?Mh:r)||setTimeout,s=(1<o?r[1]:Mh)||clearTimeout,l=n[0],c=(n[0]=function(){c.dn(),wm(l,e,Nm(arguments))},function(e,t,r){function n(){return s=!1,l&&l[ay]&&l[ay](),a}function i(){return l=t(l),s||n(),a}function o(){l&&r(l),l=xh}var a,s=!0,l=e?t(xh):xh;return(e={cancel:o,refresh:i})[sy]=function(){return l&&l[sy]?l[sy]():s},e[oy]=function(){return s=!0,l&&l[oy]&&l[oy](),a},e[ay]=n,e[ly]=!1,Hp(a=e,ly,{get:function(){return!!l},set:function(e){!e&&l&&o(),e&&!l&&i()}}),{h:a,dn:function(){l=xh}}}(t,(function(t){if(t){if(t.refresh)return t.refresh(),t;wm(s,e,[t])}return wm(a,e,n)}),(function(t){wm(s,e,[t])})));return c.h}function uy(e,t){return cy(this,!0,Mh,Nm(arguments))}var dy,hy,py="toLowerCase",my="blkVal",yy="length",fy="rdOnly",gy="notify",by="warnToConsole",vy="throwInternal",My="setDf",xy="watch",Sy="logger",wy="apply",_y="push",Ty="splice",Iy="hdlr",Cy="cancel",ky="initialize",Ly="identifier",Ny="isInitialized",Zy="getPlugin",Ey="pollInternalLogs",zy="name",Gy="time",Py="processNext",Ay="getProcessTelContext",Ry="getNotifyMgr",Dy="addNotificationListener",Xy="removeNotificationListener",Oy="enabled",Wy="stopPollingInternalLogs",jy="unload",Yy="onComplete",Fy="version",Vy="loggingLevelConsole",Hy="createNew",Uy="teardown",By="messageId",Ky="message",Jy="isAsync",Qy="diagLog",qy="_doTeardown",$y="update",ef="getNext",tf="setNextPlugin",rf="userAgent",nf="split",of="nodeType",af="replace",sf="logInternalMessage",lf="type",cf="handler",uf="isChildEvt",df="getCtx",hf="setCtx",pf="complete",mf="traceId",yf="spanId",ff="traceFlags",gf="function",bf="object",vf="undefined",Mf="prototype",xf=Object,Sf=xf[Mf],wf=((cm()||{}).Symbol,(cm()||{}).Reflect,"hasOwnProperty"),_f=bp||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Sf[wf].call(t,i)&&(e[i]=t[i]);return e},Tf=function(e,t){return(Tf=xf.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)t[wf](r)&&(e[r]=t[r])}))(e,t)};function If(e,t){function r(){this.constructor=e}typeof t!==gf&&null!==t&&fp("Class extends value "+String(t)+" is not a constructor or null"),Tf(e,t),e[Mf]=null===t?Em(t):(r[Mf]=t[Mf],new r)}function Cf(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}var kf="constructor",Lf="prototype",Nf="function",Zf="_dynInstFuncs",Ef="_isDynProxy",zf="_dynClass",Gf="_dynInstChk",Pf=Gf,Af="_dfOpts",Rf="_unknown_",Df="__proto__",Xf="_dyn"+Df,Of="__dynProto$Gbl",Wf="_dynInstProto",jf="useBaseInst",Yf="setInstFuncs",Ff=Object,Vf=Ff.getPrototypeOf,Hf=Ff.getOwnPropertyNames,Uf=cm(),Bf=Uf[Of]||(Uf[Of]={o:((hy={})[Yf]=!0,hy[jf]=!0,hy),n:1e3});function Kf(e){return e&&(e===Ff[Lf]||e===Array[Lf])}function Jf(e){return Kf(e)||e===Function[Lf]}function Qf(e){if(e){if(Vf)return Vf(e);var t=e[Df]||e[Lf]||(e[kf]?e[kf][Lf]:null),r=e[Xf]||t;dp(e,Xf)||(delete e[Wf],r=e[Xf]=e[Wf]||e[Xf],e[Wf]=t)}return r}function qf(e,t){var r=[];if(Hf)r=Hf(e);else for(var n in e)"string"==typeof n&&dp(e,n)&&r.push(n);if(r&&0<r.length)for(var i=0;i<r.length;i++)t(r[i])}function $f(e,t,r){return t!==kf&&typeof e[t]===Nf&&(r||dp(e,t))&&t!==Df&&t!==Lf}function eg(e){fp("DynamicProto: "+e)}function tg(e,t){for(var r=e.length-1;0<=r;r--)if(e[r]===t)return!0;return!1}function rg(e,t){return dp(e,Lf)?e.name||t||Rf:((e||{})[kf]||{}).name||t||Rf}function ng(e,t,r,n){dp(e,Lf)||eg("theClass is an invalid class definition.");var i=e[Lf],o=(function(e,t){if(Vf){for(var r=[],n=Qf(t);n&&!Jf(n)&&!tg(r,n);){if(n===e)return!0;r.push(n),n=Qf(n)}return!1}return!0}(i,t)||eg("["+rg(e)+"] not in hierarchy of ["+rg(t)+"]"),null),a=!!(dp(i,zf)?o=i[zf]:(o="_dynCls$"+rg(e,"_")+"$"+Bf.n,Bf.n++,i[zf]=o),e=ng[Af])[jf],s=(a&&n&&void 0!==n[jf]&&(a=!!n[jf]),function(e){var t=Em(null);return qf(e,(function(r){!t[r]&&$f(e,r,!1)&&(t[r]=e[r])})),t}(t));r(t,function(e,t,r,n){function i(e,t,r){var i,o=t[r];return o[Ef]&&n&&!1!==(i=e[Zf]||{})[Pf]&&(o=(i[t[zf]]||{})[r]||o),function(){return o.apply(e,arguments)}}for(var o=Em(null),a=(qf(r,(function(e){o[e]=i(t,r,e)})),Qf(e)),s=[];a&&!Jf(a)&&!tg(s,a);)qf(a,(function(e){!o[e]&&$f(a,e,!Vf)&&(o[e]=i(t,a,e))})),s.push(a),a=Qf(a);return o}(i,t,s,a)),function(e,t,r,n,i){var o,a;Kf(e)||Kf(o=r[Zf]=r[Zf]||Em(null))||(a=o[t]=o[t]||Em(null),!1!==o[Pf]&&(o[Pf]=!!i),Kf(a))||qf(r,(function(t){function i(){return(function(e,t,r,n){var i=null;if(e&&dp(r,zf)){var o=e[Zf]||Em(null);if((i=(o[r[zf]]||Em(null))[t])||eg("Missing ["+t+"] "+Nf),!i[Gf]&&!1!==o[Pf]){for(var a=!dp(e,t),s=Qf(e),l=[];a&&s&&!Jf(s)&&!tg(l,s);){var c=s[t];if(c){a=c===n;break}l.push(s),s=Qf(s)}try{a&&(e[t]=i),i[Gf]=1}catch(e){o[Pf]=!1}}}return i}(this,s,o,i)||function(e,t,r){var n=t[e];return typeof(n=n===r?Qf(t)[e]:n)!==Nf&&eg("["+e+"] is not a "+Nf),n}(s,o,i)).apply(this,arguments)}var o,s;$f(r,t,!1)&&r[t]!==n[t]&&(a[t]=r[t],delete r[t],dp(e,t)&&(!e[t]||e[t][Ef])||(e[t]=(o=e,s=t,i[Ef]=1,i)))}))}(i,o,t,s,!1!==(r=(r=!!Vf&&!!e[Yf])&&n?!!n[Yf]:r))}function ig(e,t){return og(e,(function(e){return t?t({value:e,rejected:!1}):e}),(function(e){return t?t({rejected:!0,reason:e}):e}))}function og(e,t,r,n){var i=e;return lp(e)?(t||r)&&(i=e.then(t,r)):t&&(i=t(e)),n&&function(e,t){t&&(lp(e)?e.finally?e.finally(t):e.then((function(e){return t(),e}),(function(e){throw t(),e})):t())}(i,n),i}ng[Af]=Bf.o;var ag,sg,lg,cg,ug=["pending","resolving","resolved","rejected"],dg="dispatchEvent",hg="Promise",pg="unhandledRejection",mg=pg.toLowerCase();function yg(e){return tp(e)?e.toString():Np(e)}function fg(e,t){return function(e,t,r){function n(t,r){return m=!0,y&&y.cancel(),y=null,e((function(e,n){p.push((function(){try{var i=2===d?t:r,o=Qh(i)?c:tp(i)?i(c):i;lp(o)?o.then(e,n):(i||3!==d?e:n)(o)}catch(i){n(i)}})),h&&a()}),u)}function o(){return ug[d]}function a(){var e;0<p.length&&(e=p.slice(),p=[],m=!0,t(e),y&&y.cancel(),y=null)}function s(e,t){return function(r){d===t&&(2===e&&lp(r)?(d=1,r.then(s(2,1),s(3,1))):(d=e,h=!0,c=r,a(),m||3!==e||(y=y||uy(l,10))))}}function l(){m||((nm=nm||Jp((function(){return!(!i||!(i.versions||{}).node)}),!1)).v?i.emit(pg,c,f):function(e,t,r,n){var i=hm();n=(ag=ag||Jp((function(){var e;return!!(e=i&&i.createEvent?i.createEvent("Event"):e)&&e.initEvent}),null)).v?i.createEvent("Event"):n?new Event(t):{},r&&r(n),ag.v&&n.initEvent(t,!1,!0),n&&e[dg]?e[dg](n):(r=e["on"+t])?r(n):(e=um("console"))&&(e.error||e.log)(t,Np(n))}(mm()||cm(),mg,(function(e){return Up(e,"promise",{g:function(){return f}}),e.reason=c,e}),!!sg.v))}var c,u=Nm(arguments,3),d=0,h=!1,p=[],m=!1,y=null,f=(sg=sg||lm(hg+"RejectionEvent"),{then:n,catch:function(e){return n(void 0,e)},finally:function(e){var t=e,r=e;return tp(e)&&(t=function(t){return e&&e(),t},r=function(t){throw e&&e(),t}),n(t,r)}}),g=(Hp(f,"state",{get:o}),!!bm()&&(f[vm(11)]="IPromise"),f.toString=function(){return"IPromise "+o()+(h?" - "+yg(c):"")},tp(r)||fp(hg+": executor is not a function - "+yg(r)),s(3,0));try{r.call(f,s(2,0),g)}catch(e){g(e)}return f}(fg,function(e){var t=op(e)?e:0;return function(e){uy((function(){!function(e){Tm(e,(function(e){try{e()}catch(e){}}))}(e)}),t)}}(t),e,t)}function gg(e,t){var r=(lg=lg||lm(hg)).v;if(!r)return fg(e);tp(e)||fp(hg+": executor is not a function - "+Np(e));var n=0;return r=new r((function(t,r){e((function(e){n=2,t(e)}),(function(e){n=3,r(e)}))})),Hp(r,"state",{get:function(){return ug[n]}}),r}function bg(e,t){return(cg=cg||Kp((function(){return gg}))).v.call(this,e,t)}var vg=function(e){return function(t){var r=Nm(arguments,1);return e((function(e,r){try{var n=[],i=1;Tm(t,(function(t,o){t&&(i++,og(t,(function(t){n[o]=t,0==--i&&e(n)}),r))})),0==--i&&e(n)}catch(e){r(e)}}),r)}}(bg),Mg=void 0,xg="",Sg="channels",wg="core",_g="createPerfMgr",Tg="disabled",Ig="extensionConfig",Cg="extensions",kg="processTelemetry",Lg="priority",Ng="eventsSent",Zg="eventsDiscarded",Eg="eventsSendRequest",zg="perfEvent",Gg="getPerfMgr",Pg="domain",Ag="path",Rg=/-([a-z])/g,Dg=/([^\w\d_$])/g,Xg=/^(\d+[\w\d_$])/,Og=Object.getPrototypeOf;function Wg(e){return!qh(e)}function jg(e){return e&&ep(e)?(e=(e=e[af](Rg,(function(e,t){return t.toUpperCase()})))[af](Dg,"_"))[af](Xg,(function(e,t){return"_"+t})):e}function Yg(e,t){return!(!e||!t)&&-1!==iy(e,t)}function Fg(e){return e&&e.toISOString()||""}function Vg(e){return sp(e)?e[zy]:xg}function Hg(e,t,r,n,i){var o=r;return!e||(o=e[t])===r||i&&!i(o)||n&&!n(r)||(e[t]=o=r),o}function Ug(e,t,r){var n;return e?!(n=e[t])&&qh(n)&&(n=Qh(r)?{}:r,e[t]=n):n=Qh(r)?{}:r,n}function Bg(e,t){var r=null,n=null;return tp(e)?r=e:n=e,function(){var e=arguments;if(n=r?r():n)return n[t][wy](n,e)}}function Kg(e,t,r,n,i){e&&t&&r&&(!1===i&&!Qh(e[t])||(e[t]=Bg(r,n)))}function Jg(e,t,r,n){return e&&t&&rp(e)&&np(r)&&Tm(r,(function(r){ep(r)&&Kg(e,r,t,r,n)})),e}function Qg(e){return e&&bp?xf(bp({},e)):e}function qg(e,t,r,n,i,o){var a=arguments,s=a[0]||{},l=a[yy],c=!1,u=1;for(0<l&&ap(s)&&(c=s,s=a[u]||{},u++),rp(s)||(s={});u<l;u++){var d,h,p,m,y=a[u],f=np(y),g=rp(y);for(d in y)(f&&d in y||g&&hp(y,d))&&(h=y[d],p=void 0,c&&h&&((p=np(h))||Fm(h))&&(m=s[d],p?np(m)||(m=[]):Fm(m)||(m={}),h=qg(c,m,h)),void 0!==h)&&(s[d]=h)}return s}function $g(e,t){return t=t&&t.featureOptIn&&t.featureOptIn[e],!(!e||!t)&&(3==(e=t.mode)||1==e)}var eb="JSON",tb="msie",rb="trident/",nb="XMLHttpRequest",ib=null,ob=null,ab=null,sb=null;function lb(e,t){var r,n=!1;if(e){try{(n=t in e)||(r=e[Mf])&&(n=t in r)}catch(e){}if(!n)try{n=!Qh((new e)[t])}catch(e){}}return n}function cb(e){return typeof location===bf&&location?location:um("location")}function ub(){return Boolean(typeof JSON===bf&&JSON||null!==um(eb))}function db(){return ub()?JSON||um(eb):null}function hb(){var e=ym();return!e||e[rf]===ob&&null!==ib||(e=((ob=e[rf])||xg)[py](),ib=Yg(e,tb)||Yg(e,rb)),ib}function pb(e){var t=((e=(e=void 0===e?null:e)?e:(t=ym()||{})?(t.userAgent||xg)[py]():xg)||xg)[py]();return Yg(t,tb)?(e=hm()||{},Math.max(parseInt(t[nf](tb)[1]),e.documentMode||0)):Yg(t,rb)&&(e=parseInt(t[nf](rb)[1]))?e+4:null}function mb(e){return sb=null!==sb&&!1!==e?sb:!!ym()&&Boolean(ym().sendBeacon)}function yb(e){var t=!1;try{t=!!um("fetch");var r=um("Request");t&&e&&r&&(t=lb(r,"keepalive"))}catch(e){}return t}function fb(){var e=!1;try{e=!!um(nb)}catch(e){}return e}var gb=4294967296,bb=4294967295,vb=123456789,Mb=987654321,xb=!1,Sb=vb,wb=Mb;function _b(e){var t=0,r=um("crypto")||um("msCrypto");return 0===(t=r&&r.getRandomValues?r.getRandomValues(new Uint32Array(1))[0]&bb:t)&&hb()&&(xb||function(){try{var e=2147483647&Rm();!function(e){e<0&&(e>>>=0),Sb=vb+e&bb,wb=Mb-e&bb,xb=!0}((Math.random()*gb^e)+e)}catch(e){}}(),t=function(){var e=((wb=36969*(65535&wb)+(wb>>16)&bb)<<16)+(65535&(Sb=18e3*(65535&Sb)+(Sb>>16)&bb))>>>0&bb;return e>>>=0}()&bb),0===t&&(t=Math.floor(gb*Math.random()|0)),e||(t>>>=0),t}function Tb(e){void 0===e&&(e=22);for(var t=_b()>>>0,r=0,n=xg;n[yy]<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(_b()<<2&4294967295|3&t)>>>0,r=0);return n}var Ib="3.0.7",Cb="."+Tb(6),kb=0;function Lb(e){return 1===e[of]||9===e[of]||!+e[of]}function Nb(e,t){return jg(e+kb+++((t=void 0!==t&&t)?"."+Ib:xg)+Cb)}function Zb(e){var t={id:Nb("_aiData-"+(e||xg)+"."+Ib),accept:function(e){return Lb(e)},get:function(e,r,n,i){var o=e[t.id];return o?o[jg(r)]:(i&&((o=function(e,t){var r=t[e.id];if(!r){r={};try{Lb(t)&&Up(t,e.id,{e:!1,v:r})}catch(e){}}return r}(t,e))[jg(r)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}function Eb(e){return e&&rp(e)&&(e.isVal||e.fb||hp(e,"v")||hp(e,"mrg")||hp(e,"ref")||e.set)}function zb(e,t,r){var n,i=r.dfVal||$h;if(t&&r.fb){var o=r.fb;np(o)||(o=[o]);for(var a=0;a<o[yy];a++){var s=o[a],l=t[s];if(i(l)?n=l:e&&(i(l=e.cfg[s])&&(n=l),e.set(e.cfg,Ip(s),l)),i(n))break}}return!i(n)&&i(r.v)?r.v:n}function Gb(e,t,r){var n,i=r;return(i=r&&Eb(r)?zb(e,t,r):i)&&(Eb(i)&&(i=Gb(e,t,i)),np(i)?(n=[])[yy]=i[yy]:Fm(i)&&(n={}),n)&&(pp(i,(function(r,i){i&&Eb(i)&&(i=Gb(e,t,i)),n[r]=i})),i=n),i}function Pb(e,t,r,n){var i,o,a,s,l,c,u=Eb(u=n)?(i=u.isVal,o=u.set,l=u[fy],d=u[my],a=u.mrg,!(s=u.ref)&&Qh(s)&&(s=!!a),zb(e,t,u)):n,d=(d&&e[my](t,r),n=!0,t[r]);!d&&qh(d)||(c=d,n=!1,i&&c!==u&&!i(c)&&(c=u,n=!0),o&&(n=(c=o(c,u,t))===u)),n?c=u&&Gb(e,t,u):(Fm(c)||np(u))&&a&&u&&(Fm(u)||np(u))&&pp(u,(function(t,r){Pb(e,c,t,r)})),e.set(t,r,c),s&&e.ref(t,r),l&&e[fy](t,r)}var Ab=xm("[[ai_dynCfg_1]]"),Rb=xm("[[ai_blkDynCfg_1]]"),Db=xm("[[ai_frcDynCfg_1]]");function Xb(e){var t;return e&&(np(e)?(t=[])[yy]=e[yy]:Fm(e)&&(t={}),t)?(pp(e,(function(e,r){t[e]=Xb(r)})),t):e}function Ob(e,t,r){var n=!1;return!r||e[t.blkVal]||(n=r[Db])||r[Rb]?n:Fm(r)||np(r)}function Wb(e){fp("InvalidAccess:"+e)}var jb=["push","pop","shift","unshift","splice"],Yb=function(e,t,r,n){e&&e[vy](3,108,"".concat(r," [").concat(t,"] failed - ")+Np(n))};function Fb(e,t){return(e=up(e,t))&&e.get}function Vb(e,t,r,n){var i;return t&&((i=Fb(t,r))&&i[e.prop]?t[r]=n:function(e,t,r,n){var i={n:r,h:[],trk:function(t){t&&t.fn&&(-1===km(i.h,t)&&i.h[_y](t),e.trk(t,i))},clr:function(e){-1!==(e=km(i.h,e))&&i.h[Ty](e,1)}},o=!0,a=!1;function s(){o&&(a=a||Ob(s,e,n),n&&!n[Ab]&&a&&(n=Ub(e,n,r,"Converting")),o=!1);var t=e.act;return t&&i.trk(t),n}s[e.prop]={chng:function(){e.add(i)}},Up(t,i.n,{g:s,s:function(l){if(n!==l){s[e.ro]&&!e.upd&&Wb("["+r+"] is read-only:"+Np(t)),o&&(a=a||Ob(s,e,n),o=!1);var c,u=a&&s[e.rf];if(a)if(u){pp(n,(function(e){n[e]=l?l[e]:Mg}));try{pp(l,(function(t,r){Vb(e,n,t,r)})),l=n}catch(c){Yb((e.hdlr||{})[Sy],r,"Assigning",c),a=!1}}else n&&n[Ab]&&pp(n,(function(t){(t=Fb(n,t))&&(t=t[e.prop])&&t.chng()}));l!==n&&(c=l&&Ob(s,e,l),!u&&c&&(l=Ub(e,l,r,"Converting")),n=l,a=c),e.add(i)}}})}(e,t,r,n)),t}function Hb(e,t,r,n){if(t){var i=Fb(t,r),o=i&&!!i[e.prop],a=n&&n[0],s=n&&n[1];if(n=n&&n[2],!o){if(n)try{!function(e){if(e&&(Fm(e)||np(e)))try{e[Rb]=!0}catch(e){}}(t)}catch(t){Yb((e.hdlr||{})[Sy],r,"Blocking",t)}try{Vb(e,t,r,t[r]),i=Fb(t,r)}catch(t){Yb((e.hdlr||{})[Sy],r,"State",t)}}a&&(i[e.rf]=a),s&&(i[e.ro]=s),n&&(i[e.blkVal]=!0)}return t}function Ub(e,t,r,n){try{pp(t,(function(r,n){Vb(e,t,r,n)})),t[Ab]||(Hp(t,Ab,{get:function(){return e[Iy]}}),function(e,t,r){np(t)&&Tm(jb,(function(n){var i=t[n];t[n]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=i[wy](this,n);return Ub(e,t,r,"Patching"),a}}))}(e,t,r))}catch(t){Yb((e.hdlr||{})[Sy],r,n,t)}return t}var Bb="[[ai_",Kb="]]";function Jb(e,t,r){var n,i,o=function(e){if(e){var t=e[Ab]||e;if(t.cfg&&(t.cfg===e||t.cfg[Ab]===t))return t}return null}(t);return o||(o=Nb("dyncfg",!0),(t={uid:null,cfg:r=t&&!1!==r?t:Xb(t)})[Sy]=e,t[gy]=function(){n[gy]()},t.set=function(t,r,i){try{t=Vb(n,t,r,i)}catch(t){Yb(e,r,"Setting value",t)}return t[r]},t[My]=function(e,t){return t&&pp(t,(function(t,r){Pb(i,e,t,r)})),e},t[xy]=function(e){return function(e,t){var r={fn:t,rm:function(){r.fn=null,t=e=null}};return e.use(r,t),r}(n,e)},t.ref=function(e,t){return Hb(n,e,t,((e={})[0]=!0,e))[t]},t[fy]=function(e,t){return Hb(n,e,t,((e={})[1]=!0,e))[t]},t[my]=function(e,t){return Hb(n,e,t,((e={})[2]=!0,e))[t]},t._block=function(e,t){n.use(null,(function(r){var i=n.upd;try{Qh(t)||(n.upd=t),e(r)}finally{n.upd=i}}))},Up(i=t,"uid",{c:!1,e:!1,w:!1,v:o}),Ub(n=function(e){var t,r=Mm(Bb+"get"+e.uid+Kb),n=Mm(Bb+"ro"+e.uid+Kb),i=Mm(Bb+"rf"+e.uid+Kb),o=Mm(Bb+"blkVal"+e.uid+Kb),a=Mm(Bb+"dtl"+e.uid+Kb),s=null,l=null;function c(r,n){var i=t.act;try{(t.act=r)&&r[a]&&(Tm(r[a],(function(e){e.clr(r)})),r[a]=[]),n({cfg:e.cfg,set:e.set.bind(e),setDf:e[My].bind(e),ref:e.ref.bind(e),rdOnly:e[fy].bind(e)})}catch(n){var o=e[Sy];throw o&&o[vy](1,107,Np(n)),n}finally{t.act=i||null}}function u(){if(s){var e=s,t=(s=null,l&&l[Cy](),l=null,[]);if(Tm(e,(function(e){if(e&&(e[a]&&(Tm(e[a],(function(t){t.clr(e)})),e[a]=null),e.fn))try{c(e,e.fn)}catch(e){t[_y](e)}})),s)try{u()}catch(e){t[_y](e)}0<t[yy]&&function(e,t){dy=dy||Am("AggregationError",(function(e,t){1<t[yy]&&(e.errors=t[1])}));var r="Watcher error(s): ";throw Tm(t,(function(e,t){r+="\n".concat(t," > ").concat(Np(e))})),new dy(r,t||[])}(0,t)}}return(r={prop:r,ro:n,rf:i})[my]=o,r[Iy]=e,r.add=function(e){if(e&&0<e.h[yy]){s=s||[],l=l||uy((function(){l=null,u()}),0);for(var t=0;t<e.h[yy];t++){var r=e.h[t];r&&-1===km(s,r)&&s[_y](r)}}},r[gy]=u,r.use=c,r.trk=function(e,t){e&&(e=e[a]=e[a]||[],-1===km(e,t))&&e[_y](t)},t=r}(i),r,"config","Creating"),i)}function Qb(e,t,r,n){return r=Jb(r,e||{},n),t&&r[My](r.cfg,t),r}function qb(e,t,r){var n=e[Ab]||e;return(!n.cfg||n.cfg!==e&&n.cfg[Ab]!==n?(function(e,t){e?(e[by](t),e[vy](2,108,t)):Wb(t)}(r,"Not dynamic - "+Np(e)),Qb(e,null,r)):n)[xy](t)}function $b(e,t){if(e&&e[jy])return e[jy](t)}function ev(e,t,r){var n;return r||(n=bg((function(e){r=e}))),e&&0<$m(e)?ig($b(e[0],t),(function(){ev(Nm(e,1),t,r)})):r(),n}function tv(e,t,r){return!e&&qh(e)?t:ap(e)?e:"true"===Ip(e)[py]()}function rv(e){return{mrg:!0,v:e}}function nv(e,t){return{set:e,v:t}}function iv(e,t,r){return{fb:r,isVal:e,v:t}}function ov(e,t){return{fb:t,set:tv,v:!!e}}var av,sv,lv=[Ng,Zg,Eg,zg],cv=null;function uv(e,t){return function(){var r=arguments,n=dv(t);n&&(n=n.listener)&&n[e]&&n[e][wy](n,r)}}function dv(e){var t=cv;return(t=t||!0===e.disableDbgExt?t:cv||function(){var e=um("Microsoft");return cv=e?e.ApplicationInsights:cv}())?t.ChromeDbgExt:null}var hv="warnToConsole",pv={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},mv=((sv={})[0]=null,sv[1]="errorToConsole",sv[2]=hv,sv[3]="debugToConsole",sv);function yv(e){return e?'"'+e[af](/\"/g,xg)+'"':xg}function fv(e,t){var r,n=typeof console!==vf?console:um("console");n&&(r="log",n[e]&&(r=e),tp(n[r]))&&n[r](t)}var gv=function(){function e(e,t,r,n){void 0===r&&(r=!1),this[By]=e,this[Ky]=(r?"AI: ":"AI (Internal): ")+e,r=xg,ub()&&(r=db().stringify(n)),e=(t?" message:"+yv(t):xg)+(n?" props:"+yv(r):xg),this[Ky]+=e}return e.dataType="MessageData",e}();function bv(e,t){return(e||{})[Sy]||new xv(t)}var vv,Mv,xv=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r,n,i,o,a,s=0,l={};ng(e,this,(function(e){function c(t,r){var o,a;i<=s||(a=!0,o="AITR_"+r[By],l[o]?a=!1:l[o]=!0,a&&(t<=n&&(e.queue[_y](r),s++,u(1===t?"error":"warn",r)),s===i)&&(a=new gv(23,o="Internal events throttle limit per PageView reached for this app.",!1),e.queue[_y](a),1===t?e.errorToConsole(o):e[by](o)))}function u(e,r){var n=dv(t||{});n&&n[Qy]&&n[Qy](e,r)}a=qb(Qb(t||{},pv,e).cfg,(function(e){e=e.cfg,r=e[Vy],n=e.loggingLevelTelemetry,i=e.maxMessageLimit,o=e.enableDebug})),e.consoleLoggingLevel=function(){return r},e[vy]=function(t,n,i,a,s){if(n=new gv(n,i,s=void 0!==s&&s,a),o)throw Np(n);i=mv[t]||hv,Qh(n[Ky])?u("throw"+(1===t?"Critical":"Warning"),n):(s?(a=+n[By],!l[a]&&t<=r&&(e[i](n[Ky]),l[a]=!0)):t<=r&&e[i](n[Ky]),c(t,n))},e.debugToConsole=function(e){fv("debug",e),u("warning",e)},e[by]=function(e){fv("warn",e),u("warning",e)},e.errorToConsole=function(e){fv("error",e),u("error",e)},e.resetInternalMessageCount=function(){s=0,l={}},e[sf]=c,e[jy]=function(e){a&&a.rm(),a=null}}))}return e.__ieDyn=1,e}();function Sv(e){return e||new xv}function wv(e,t,r,n,i,o){void 0===o&&(o=!1),Sv(e)[vy](t,r,n,i,o)}function _v(e,t){Sv(e)[by](t)}var Tv,Iv="toGMTString",Cv="toUTCString",kv="cookie",Lv="expires",Nv="isCookieUseDisabled",Zv="disableCookiesUsage",Ev="_ckMgr",zv=null,Gv=null,Pv=null,Av={},Rv={},Dv=((vv={cookieCfg:rv(((Mv={})[Pg]={fb:"cookieDomain",dfVal:Wg},Mv.path={fb:"cookiePath",dfVal:Wg},Mv.enabled=Mg,Mv.ignoreCookies=Mg,Mv.blockedCookies=Mg,Mv)),cookieDomain:Mg,cookiePath:Mg})[Zv]=Mg,vv);function Xv(){Tv=Tv||Kp((function(){return hm()}))}function Ov(e){return!e||e.isEnabled()}function Wv(e,t){return!!(t&&e&&np(e.ignoreCookies))&&-1!==km(e.ignoreCookies,t)}function jv(e,t){var r;return qh(t=t[Oy])&&(r=void 0,Qh(e[Nv])||(r=!e[Nv]),t=r=Qh(e[Zv])?r:!e[Zv]),t}function Yv(e,t){var r,n;return e?n=e.getCookieMgr():t&&(n=(r=t.cookieCfg)&&r[Ev]?r[Ev]:Fv(t)),n||function(e,t){var r=Fv[Ev]||Rv[Ev];return r||(r=Fv[Ev]=Fv(e,t),Rv[Ev]=r),r}(t,(e||{})[Sy])}function Fv(e,t){e=Qb(e||Rv,null,t).cfg,a=qb(e,(function(t){t[My](t.cfg,Dv),n=t.ref(t.cfg,"cookieCfg"),i=n[Ag]||"/",o=n[Pg],s=!1!==jv(e,n),l=n.getCookie||Kv,c=n.setCookie||Jv,u=n.delCookie||Jv}),t),(r={isEnabled:function(){var r=!1!==jv(e,n)&&s&&Vv(t),i=Rv[Ev];return r&&i&&d!==i?Ov(i):r},setEnabled:function(e){s=!1!==e,n[Oy]=e},set:function(e,t,r,a,s){var l,u,h,p=!1;return Ov(d)&&!function(e,t){return!!(t&&e&&np(e.blockedCookies)&&-1!==km(e.blockedCookies,t))||Wv(e,t)}(n,e)&&(l={},u=Ym(t||xg),-1!==(h=iy(u,";"))&&(u=Ym(Dp(t,h)),l=Hv(Ap(t,h+1))),Hg(l,Pg,a||o,cp,Qh),qh(r)||(t=hb(),Qh(l[Lv])&&0<(h=Rm()+1e3*r)&&((a=new Date).setTime(h),Hg(l,Lv,Uv(a,t?Iv:Cv)||Uv(a,t?Iv:Cv)||xg,cp)),t)||Hg(l,"max-age",xg+r,null,Qh),(h=cb())&&"https:"===h.protocol&&(Hg(l,"secure",null,null,Qh),Gv=null===Gv?!function(e){return!(!ep(e)||!Yg(e,"CPU iPhone OS 12")&&!Yg(e,"iPad; CPU OS 12")&&!(Yg(e,"Macintosh; Intel Mac OS X 10_14")&&Yg(e,"Version/")&&Yg(e,"Safari"))&&(!Yg(e,"Macintosh; Intel Mac OS X 10_14")||!ny(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!Yg(e,"Chrome/5")&&!Yg(e,"Chrome/6")&&(!Yg(e,"UnrealEngine")||Yg(e,"Chrome"))&&!Yg(e,"UCBrowser/12")&&!Yg(e,"UCBrowser/11"))}((ym()||{})[rf]):Gv)&&Hg(l,"SameSite","None",null,Qh),Hg(l,Ag,s||i,null,Qh),c(e,Bv(u,l)),p=!0),p},get:function(e){return Ov(d)&&!Wv(n,e)?l(e):""},del:function(e,t){return!!Ov(d)&&d.purge(e,t)},purge:function(e,r){var n,i=!1;return Vv(t)&&((n={})[Ag]=r||"/",n[Lv]="Thu, 01 Jan 1970 00:00:01 GMT",r=n,hb()||(r["max-age"]="0"),u(e,Bv(xg,r)),i=!0),i}})[jy]=function(e){a&&a.rm(),a=null};var r,n,i,o,a,s,l,c,u,d=r;return d[Ev]=d}function Vv(e){if(null===zv){zv=!1,Tv||Xv();try{var t=Tv.v||{};zv=void 0!==t[kv]}catch(t){wv(e,2,68,"Cannot access document.cookie - "+Vg(t),{exception:Np(t)})}}return zv}function Hv(e){var t={};return e&&e[yy]&&Tm(Ym(e)[nf](";"),(function(e){var r;(e=Ym(e||xg))&&(-1===(r=iy(e,"="))?t[e]=null:t[Ym(Dp(e,r))]=Ym(Ap(e,r+1)))})),t}function Uv(e,t){return tp(e[t])?e[t]():null}function Bv(e,t){var r=e||xg;return pp(t,(function(e,t){r+="; "+e+(qh(t)?xg:"="+t)})),r}function Kv(e){var t,r=xg;return Tv||Xv(),Tv.v&&(t=Tv.v[kv]||xg,Pv!==t&&(Av=Hv(t),Pv=t),r=Ym(Av[e]||xg)),r}function Jv(e,t){Tv||Xv(),Tv.v&&(Tv.v[kv]=e+"="+t)}var Qv={perfEvtsSendAll:!1};function qv(e,t,r,n){Tm(e,(function(e){if(e&&e[t])if(r)uy((function(){return n(e)}),0);else try{n(e)}catch(e){}}))}var $v=function(){function e(t){this.listeners=[];var r,n=[],i=Qb(t,Qv)[xy]((function(e){r=!!e.cfg.perfEvtsSendAll}));ng(e,this,(function(e){Up(e,"listeners",{g:function(){return n}}),e[Dy]=function(e){n[_y](e)},e[Xy]=function(e){for(var t=km(n,e);-1<t;)n[Ty](t,1),t=km(n,e)},e[Ng]=function(e){qv(n,Ng,!0,(function(t){t[Ng](e)}))},e[Zg]=function(e,t){qv(n,Zg,!0,(function(r){r[Zg](e,t)}))},e[Eg]=function(e,t){qv(n,Eg,t,(function(r){r[Eg](e,t)}))},e[zg]=function(e){!e||!r&&e[uf]()||qv(n,zg,!1,(function(t){e[Jy]?uy((function(){return t[zg](e)}),0):t[zg](e)}))},e[jy]=function(e){function t(){i&&i.rm(),i=null,n=[]}var r;if(qv(n,"unload",!1,(function(t){(t=t[jy](e))&&(r=r||[])[_y](t)})),r)return bg((function(e){return ig(vg(r),(function(){t(),e()}))}));t()}}))}return e.__ieDyn=1,e}(),eM="ctx",tM="ParentContextKey",rM="ChildrenContextKey",nM=function(){function e(t,r,n){var i,o=this;o.start=Rm(),o[zy]=t,o[Jy]=n,o[uf]=function(){return!1},tp(r)&&Up(o,"payload",{g:function(){return!i&&tp(r)&&(i=r(),r=null),i}}),o[df]=function(t){return t?(t===e[tM]||t===e[rM]?o:o[eM]||{})[t]:null},o[hf]=function(t,r){t&&(t===e[tM]?(o[t]||(o[uf]=function(){return!0}),o[t]=r):t===e[rM]?o[t]=r:(o[eM]=o[eM]||{})[t]=r)},o[pf]=function(){var t=0,r=o[df](e[rM]);if(np(r))for(var n=0;n<r[yy];n++){var i=r[n];i&&(t+=i[Gy])}o[Gy]=Rm()-o.start,o.exTime=o[Gy]-t,o[pf]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),iM=function(){function e(t){this.ctx={},ng(e,this,(function(e){e.create=function(e,t,r){return new nM(e,t,r)},e.fire=function(e){e&&(e[pf](),t)&&tp(t[zg])&&t[zg](e)},e[hf]=function(t,r){t&&((e[eM]=e[eM]||{})[t]=r)},e[df]=function(t){return(e[eM]||{})[t]}}))}return e.__ieDyn=1,e}(),oM="CoreUtils.doPerf";function aM(e,t,r,n,i){if(e&&(e=e[Gg]?e[Gg]():e)){var o,a=void 0,s=e[df](oM);try{if(a=e.create(t(),n,i))return s&&a[hf]&&(a[hf](nM[tM],s),s[df])&&s[hf]&&((o=s[df](nM[rM]))||(o=[],s[hf](nM[rM],o)),o[_y](a)),e[hf](oM,a),r(a)}catch(e){a&&a[hf]&&a[hf]("exception",e)}finally{a&&e.fire(a),e[hf](oM,s)}}return r()}function sM(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=xg,n=0;n<4;n++)r+=t[15&(e=_b())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&_b())|0];return Rp(r,0,8)+Rp(r,9,4)+"4"+Rp(r,13,3)+i+Rp(r,16,3)+Rp(r,19,12)}var lM="00",cM="00000000000000000000000000000000",uM="0000000000000000";function dM(e,t,r){return!(!e||e[yy]!==t||e===r||!e.match(/^[\da-f]*$/i))}function hM(e,t,r){return dM(e,t)?e:r}function pM(e,t,r,n){var i={};return i[Fy]=dM(n,2,"ff")?n:lM,i[mf]=mM(e)?e:sM(),i[yf]=yM(t)?t:Dp(sM(),16),i.traceFlags=0<=r&&r<=255?r:1,i}function mM(e){return dM(e,32,cM)}function yM(e){return dM(e,16,uM)}function fM(e){var t,r;return e?(dM(t=function(e){for(var t=(e=isNaN(e)||e<0||255<e?1:e).toString(16);t[yy]<2;)t="0"+t;return t}(e[ff]),2)||(t="01"),r=e[Fy]||lM,"".concat((r="00"!==r&&"ff"!==r?lM:r).toLowerCase(),"-").concat(hM(e.traceId,32,cM).toLowerCase(),"-").concat(hM(e.spanId,16,uM).toLowerCase(),"-").concat(t.toLowerCase())):""}var gM=Zb("plugin");function bM(e){return gM.get(e,"state",{},!0)}function vM(e,t){for(var r=[],n=null,i=e[ef]();i;){var o,a,s=i[Zy]();s&&(n&&n[tf]&&s[kg]&&n[tf](s),a=!!(o=bM(s))[Ny],(a=s[Ny]?s[Ny]():a)||r[_y](s),n=s,i=i[ef]())}Tm(r,(function(r){var n=e[wg]();r[ky](e.getCfg(),n,t,e[ef]()),o=bM(r),r[wg]||o[wg]||(o[wg]=n),o[Ny]=!0,delete o[Uy]}))}function MM(e){return e.sort((function(e,t){var r,n=0;return t?(r=t[kg],e[kg]?n=r?e[Lg]-t[Lg]:1:r&&(n=-1)):n=e?1:-1,n}))}var xM,SM="_hasRun",wM="_getTelCtx",_M=0;function TM(e,t,r,n){var i=null,o=[],a=(t=t||Qb({},null,r[Sy]),null!==n&&(i=n?function(e,t,r){for(;e;){if(e[Zy]()===r)return e;e=e[ef]()}return LM([r],t.config||{},t)}(e,r,n):e),{_next:function(){var e,t=i;return i=t?t[ef]():null,t||(e=o)&&0<e[yy]&&(Tm(e,(function(e){try{e.func.call(e.self,e.args)}catch(e){wv(r[Sy],2,73,"Unexpected Exception during onComplete - "+Np(e))}})),o=[]),t},ctx:{core:function(){return r},diagLog:function(){return bv(r,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,r){var n=s(e,!0);return r&&pp(r,(function(e,r){var i;!qh(n[e])||!(i=t.cfg[e])&&qh(i)||(n[e]=i),Pb(t,n,e,r)})),t[My](n,r)},getConfig:function(e,r,n){void 0===n&&(n=!1),e=s(e,!1);var i,o=t.cfg;return!e||!e[r]&&qh(e[r])?!o[r]&&qh(o[r])||(i=o[r]):i=e[r],i||!qh(i)?i:n},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(;t=a._next();){var t=t[Zy]();t&&e(t)}},onComplete:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e&&o[_y]({func:e,self:Qh(t)?a.ctx:t,args:r})}}});function s(e,r){var n,i=null,o=t.cfg;return o&&e&&(n=o[Ig],o[Ig]=n=!n&&r?{}:n,n=t.ref(o,Ig))&&(i=n[e],n[e]=i=!i&&r?{}:i,i=t.ref(n,e)),i}return a}function IM(e,t,r,n){var i=Qb(t),o=TM(e,i,r,n),a=o.ctx;return a[Py]=function(e){var t=o._next();return t&&t[kg](e,a),!t},a[Hy]=function(e,t){return IM((e=np(e=void 0===e?null:e)?LM(e,i.cfg,r,t):e)||a[ef](),i.cfg,r,t)},a}function CM(e,t,r){var n=Qb(t.config),i=TM(e,n,t,r),o=i.ctx;return o[Py]=function(e){var t=i._next();return t&&t[jy](o,e),!t},o[Hy]=function(e,r){return CM((e=np(e=void 0===e?null:e)?LM(e,n.cfg,t,r):e)||o[ef](),t,r)},o}function kM(e,t,r){var n=Qb(t.config),i=TM(e,n,t,r).ctx;return i[Py]=function(e){return i.iterate((function(t){tp(t[$y])&&t[$y](i,e)}))},i[Hy]=function(e,r){return kM((e=np(e=void 0===e?null:e)?LM(e,n.cfg,t,r):e)||i[ef](),t,r)},i}function LM(e,t,r,n){var i,o=null,a=!n;return np(e)&&0<e[yy]&&(i=null,Tm(e,(function(e){(a=!a&&n===e||a)&&e&&tp(e[kg])&&(e=function(e,t,r){var n=null,i=tp(e[kg]),o=tp(e[tf]),a=e?e[Ly]+"-"+e[Lg]+"-"+_M++:"Unknown-0-"+_M++,s={getPlugin:function(){return e},getNext:function(){return n},processTelemetry:function(a,c){l(c=c||function(){var n;return e&&tp(e[wM])&&(n=e[wM]()),n||IM(s,t,r)}(),(function(t){var r;return!(!e||!i||(r=bM(e))[Uy]||r[Tg]||(o&&e[tf](n),e[kg](a,t),0))}),"processTelemetry",(function(){return{item:a}}),!a.sync)||c[Py](a)},unload:function(t,r){l(t,(function(){var n,i,o=!1;return e&&(n=bM(e),i=e[wg]||n[wg],!e||i&&i!==t.core()||n[Uy]||(n[wg]=null,n[Uy]=!0,n[Ny]=!1,e[Uy]&&!0===e[Uy](t,r)&&(o=!0))),o}),"unload",(function(){}),r[Jy])||t[Py](r)},update:function(t,r){l(t,(function(){var n,i,o=!1;return e&&(n=bM(e),i=e[wg]||n[wg],!e||i&&i!==t.core()||n[Uy]||e[$y]&&!0===e[$y](t,r)&&(o=!0)),o}),"update",(function(){}),!1)||t[Py](r)},_id:a,_setNext:function(e){n=e}};function l(t,r,i,o,s){var l=!1,c=e?e[Ly]:"TelemetryPluginChain",u=(u=t[SM])||(t[SM]={});return t.setNext(n),e&&aM(t[wg](),(function(){return c+":"+i}),(function(){u[a]=!0;try{var e=n?n._id:xg;e&&(u[e]=!1),l=r(t)}catch(r){(e=!n||u[n._id])&&(l=!0),n&&e||wv(t[Qy](),1,73,"Plugin ["+c+"] failed during "+i+" - "+Np(r)+", run flags: "+Np(u))}}),o,s),l}return wp(s)}(e,t,r),o=o||e,i&&i._setNext(e),i=e)}))),n&&!o?LM([n],t,r):o}function NM(){var e=[];return{add:function(t){t&&e[_y](t)},run:function(t,r){Tm(e,(function(e){try{e(t,r)}catch(e){wv(t[Qy](),2,73,"Unexpected error calling unload handler - "+Np(e))}})),e=[]}}}function ZM(){var e=[];return{run:function(t){var r=e;e=[],Tm(r,(function(e){try{(e.rm||e.remove).call(e)}catch(e){wv(t,2,73,"Unloading:"+Np(e))}}))},add:function(t){t&&_m(e,t)}}}var EM,zM="getPlugin",GM=((xM={})[Ig]={isVal:Wg,v:{}},xM),PM=function(){function e(){var t,r,n,i,o,a=this;function s(e){var t;return(e=e=void 0===e?null:e)||(t=r||IM(null,{},a[wg]),e=n&&n[zM]?t[Hy](null,n[zM]):t[Hy](null,n)),e}function l(e,t,i){Qb(e,GM,bv(t)),!i&&t&&(i=t[Ay]()[ef]());var o=n;n&&n[zM]&&(o=n[zM]()),a[wg]=t,r=IM(i,e,t,o)}function c(){t=!1,a[wg]=null,n=r=null,o=ZM(),i=NM()}c(),ng(e,a,(function(e){e[ky]=function(e,r,n,i){l(e,r,i),t=!0},e[Uy]=function(t,r){var a,s,l,u,d=e[wg];if(d&&(!t||d===t[wg]()))return s=!1,l=t||CM(null,d,n&&n[zM]?n[zM]():n),u=r||((t={reason:0})[Jy]=!1,t),e[qy]&&!0===e[qy](l,u,h)?a=!0:h(),a;function h(){s||(s=!0,i.run(l,r),o.run(l[Qy]()),!0===a&&l[Py](u),c())}},e[$y]=function(t,r){var i,o,a,s=e[wg];if(s&&(!t||s===t[wg]()))return o=!1,a=t||kM(null,s,n&&n[zM]?n[zM]():n),e._doUpdate&&!0===e._doUpdate(a,r||{reason:0},c)?i=!0:c(),i;function c(){o||(o=!0,l(a.getCfg(),a.core(),a[ef]()))}},Kg(e,"_addUnloadCb",(function(){return i}),"add"),Kg(e,"_addHook",(function(){return o}),"add"),Up(e,"_unloadHooks",{g:function(){return o}})})),a[Qy]=function(e){return s(e)[Qy]()},a[Ny]=function(){return t},a.setInitialized=function(e){t=e},a[tf]=function(e){n=e},a[Py]=function(e,t){t?t[Py](e):n&&tp(n[kg])&&n[kg](e,null)},a._getTelCtx=s}return e.__ieDyn=1,e}(),AM=function(e){function t(){var r,n,i=e.call(this)||this;function o(){r=0,n=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,o(),ng(t,i,(function(e,t){e.addTelemetryInitializer=function(e){return function(e,t,r){var n={id:t,fn:r};return _m(e,n),{remove:function(){Tm(e,(function(t,r){if(t.id===n.id)return e[Ty](r,1),-1}))}}}(n,r++,e)},e[kg]=function(t,r){(function(e,t,r){for(var n=!1,i=e[yy],o=0;o<i;++o){var a=e[o];if(a)try{if(!1===a.fn[wy](null,[t])){n=!0;break}}catch(e){wv(r,2,64,"Telemetry initializer failed: "+Vg(e),{exception:Np(e)},!0)}}return!n})(n,t,(r||e)[Qy]())&&e[Py](t,r)},e[qy]=function(){o()}})),i}return If(t,e),t.__ieDyn=1,t}(PM),RM="Plugins must provide initialize method",DM="SDK is still unloading...",XM=Mp(((EM={cookieCfg:{}})[Cg]={rdOnly:!0,ref:!0,v:[]},EM[Sg]={rdOnly:!0,ref:!0,v:[]},EM[Ig]={ref:!0,v:{}},EM[_g]=Mg,EM.loggingLevelConsole=0,EM.diagnosticLogInterval=Mg,EM));function OM(e,t){return new iM(t)}function WM(e,t){var r=!1;return Tm(t,(function(t){if(t===e)return r=!0,-1})),r}function jM(e,t,r,n){r&&pp(r,(function(r,i){n&&Fm(i)&&Fm(t[r])&&jM(e,t[r],i,n),n&&Fm(i)&&Fm(t[r])?jM(e,t[r],i,n):e.set(t,r,i)}))}function YM(e,t){var r=null,n=-1;return Tm(e,(function(e,i){if(e.w===t)return r=e,n=i,-1})),{i:n,l:r}}var FM=function(){function e(){var t,r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S,w,_,T,I,C,k;ng(e,this,(function(e){function L(e){return I&&I[Oy]||k||(e||n&&0<n.queue[yy])&&(C||(C=!0,j(t[xy]((function(e){var t=((e=e.cfg.diagnosticLogInterval)&&0<e||(e=1e4),!1);I&&(t=I[Oy],I[Cy]()),(I=function(e,t){return cy(this,!1,Mh,Nm(arguments))}(R,e)).unref(),I[Oy]=t})))),I[Oy]=!0),I}function N(){function e(e){e&&Tm(e,(function(e){var r;e[Ly]&&e[Fy]&&!t[e.identifier]&&(r=e[Ly]+"="+e[Fy],_[_y](r),t[e.identifier]=e)}))}var t={};_=[],e(h),d&&Tm(d,(function(t){e(t)})),e(u)}function Z(){r=!1,(t=Qb({},XM,e[Sy])).cfg[Vy]=1,Up(e,"config",{g:function(){return t.cfg},s:function(t){e.updateCfg(t,!1)}}),Up(e,"pluginVersionStringArr",{g:function(){return _||N(),_}}),Up(e,"pluginVersionString",{g:function(){return T||(_||N(),T=_.join(";")),T||xg}}),Up(e,"logger",{g:function(){return n||(n=new xv(t.cfg),t[Sy]=n),n},s:function(e){t[Sy]=e,n!==e&&($b(n,!1),n=e)}}),e[Sy]=new xv(t.cfg),w=[];var v=e.config[Cg]||[];v.splice(0,v[yy]),_m(v,w),m=new AM,$b(o,!(i=[])),s=a=o=null,$b(l,!1),p=!(u=[]),f=Nb("AIBaseCore",!(y=h=d=c=l=null)),g=NM(),x=M=null,b=ZM(),_=T=null,k=!(S=[])}function E(){var r=IM(P(),t.cfg,e);return r[Yy](L),r}function z(t){var r=function(e,t,r){var n=[],i=[],o={};return Tm(r,(function(t){(qh(t)||qh(t[ky]))&&yp(RM);var r=t[Lg],a=t[Ly];t&&r&&(qh(o[r])?o[r]=a:_v(e,"Two extensions have same priority #"+r+" - "+o[r]+", "+a)),(!r||r<500?n:i)[_y](t)})),(r={})[wg]=n,r[Sg]=i,r}(e[Sy],0,u),n=(_=T=c=null,h=MM(_m(h=(d||[])[0]||[],r[Sg])),r=_m(MM(r[wg]),h),(w=wp(r),n=e.config[Cg]||[]).splice(0,n[yy]),_m(n,w),E());h&&0<h[yy]&&vM(n[Hy](h),r),vM(n,r),t&&X(t)}function G(e){var t=null,r=[];return Tm(w,(function(n){if(n[Ly]===e&&n!==m)return t=n,-1;n.getChannel&&r[_y](n)})),!t&&0<r[yy]&&Tm(r,(function(r){if(!(t=r.getChannel(e)))return-1})),t?{plugin:t,setEnabled:function(e){bM(t)[Tg]=!e},isEnabled:function(){var e=bM(t);return!e[Uy]&&!e[Tg]},remove:function(e,r){var n,i=[t];(n={reason:1})[Jy]=e=void 0===e||e,A(i,n,(function(e){e&&z({reason:32,removed:i}),r&&r(e)}))}}:null}function P(){var r;return c||(r=(w||[]).slice(),-1===km(r,m)&&r[_y](m),c=LM(MM(r),t.cfg,e)),c}function A(r,n,i){var o;r&&0<r[yy]?((o=CM(LM(r,t.cfg,e),e))[Yy]((function(){var e=!1,t=[],n=(Tm(u,(function(n,i){WM(n,r)?e=!0:t[_y](n)})),u=t,_=T=null,[]);d&&(Tm(d,(function(t,i){var o=[];Tm(t,(function(t){WM(t,r)?e=!0:o[_y](t)})),n[_y](o)})),d=n),i&&i(e),L()})),o[Py](n)):i(!1)}function R(){var t;n&&n.queue&&(t=n.queue.slice(0),n.queue[yy]=0,Tm(t,(function(t){var r;(r={})[zy]=y||"InternalMessageId: "+t[By],r.iKey=x,r[Gy]=Fg(new Date),r.baseType=gv.dataType,r.baseData={message:t[Ky]},t=r,e.track(t)})))}function D(e,t,r,n){var i=1,o=!1,a=null;function s(){i--,o&&0===i&&(a&&a[Cy](),a=null,t&&t(o),t=null)}return n=n||5e3,h&&0<h[yy]&&E()[Hy](h).iterate((function(t){var o;t.flush&&(i++,o=!1,t.flush(e,(function(){o=!0,s()}),r)||o||(e&&null==a?a=uy((function(){a=null,s()}),n):s()))})),o=!0,s(),!0}function X(t){var r=kM(P(),e);r[Yy](L),e._updateHook&&!0===e._updateHook(r,t)||r[Py](t)}function O(t){var r=e[Sy];r?(wv(r,2,73,t),L()):yp(t)}function W(t){var r=e[Ry]();r&&r[Zg]([t],2)}function j(e){b.add(e)}Z(),e._getDbgPlgTargets=function(){return[w]},e[Ny]=function(){return r},e[ky]=function(i,a,l,c){p&&yp(DM),e[Ny]()&&yp("Core cannot be initialized more than once"),i=(t=Qb(i,XM,l||e[Sy],!1)).cfg,j(t[xy]((function(e){x=e.cfg.instrumentationKey;var t=e.ref(e.cfg,Ig);pp(t,(function(r){e.ref(t,r)})),qh(x)&&yp("Please provide instrumentation key")}))),(o=c)||e[Ry](),j(t[xy]((function(e){var t=e.cfg.disableDbgExt;!0===t&&v&&(o[Xy](v),v=null),o&&!v&&!0!==t&&(v=function(e){if(!av){av={};for(var t=0;t<lv[yy];t++)av[lv[t]]=uv(lv[t],e)}return av}(e.cfg),o[Dy](v))}))),j(t[xy]((function(e){var t=e.cfg.enablePerfMgr;t||(s=s&&null),t&&Ug(e.cfg,_g,OM)}))),e[Sy]=l,c=i[Cg],(u=[])[_y].apply(u,Cf(Cf([],a),c)),d=i[Sg],z(null),h&&0!==h[yy]||yp("No "+Sg+" available"),d&&1<d[yy]&&((l=e[Zy]("TeeChannelController"))&&l.plugin||wv(n,1,28,"TeeChannel required")),function(e,t,r){Tm(t,(function(t){var n=qb(e,t.w,r);delete t.w,t.rm=function(){n.rm()}}))}(i,S,n),r=!(S=null),e.releaseQueue(),e[Ey]()},e.getChannels=function(){var e=[];return h&&Tm(h,(function(t){e[_y](t)})),wp(e)},e.track=function(t){aM(e[Gg](),(function(){return"AppInsightsCore:track"}),(function(){null===t&&(W(t),yp("Invalid telemetry item")),!t[zy]&&qh(t[zy])&&(W(t),yp("telemetry name required")),t.iKey=t.iKey||x,t[Gy]=t[Gy]||Fg(new Date),t.ver=t.ver||"4.0",!p&&e[Ny]()?E()[Py](t):i[_y](t)}),(function(){return{item:t}}),!t.sync)},e[Ay]=E,e[Ry]=function(){return o||(o=new $v(t.cfg),e._notificationManager=o),o},e[Dy]=function(t){e[Ry]()[Dy](t)},e[Xy]=function(e){o&&o[Xy](e)},e.getCookieMgr=function(){return l=l||Fv(t.cfg,e[Sy])},e.setCookieMgr=function(e){l!==e&&($b(l,!1),l=e)},e[Gg]=function(){return a||s||j(t[xy]((function(t){t.cfg.enablePerfMgr&&(t=t.cfg[_g],tp(t))&&(s=t(e,e[Ry]()))}))),a||s||null},e.setPerfMgr=function(e){a=e},e.eventCnt=function(){return i[yy]},e.releaseQueue=function(){var e;r&&0<i[yy]&&(e=i,i=[],Tm(e,(function(e){E()[Py](e)})))},e[Ey]=function(e){return y=e||null,k=!1,I&&I[Cy](),L(!0)},e[Wy]=function(){k=!0,I&&I[Cy](),R()},Jg(e,(function(){return m}),["addTelemetryInitializer"]),e[jy]=function(t,i,a){void 0===t&&(t=!0),r||yp("SDK is not initialized"),p&&yp(DM),(s={reason:50})[Jy]=t,s.flushComplete=!1;var s,c,u=s,d=(t&&!i&&(c=bg((function(e){i=e}))),CM(P(),e));return d[Yy]((function(){b.run(e[Sy]),ev([l,o,n],t,(function(){Z(),i&&i(u)}))}),e),R(),D(t,(function(t){u.flushComplete=t,p=!0,g.run(d,u),e[Wy](),d[Py](u)}),6,a),c},e[Zy]=G,e.addPlugin=function(e,t,r,n){var i,o,a;function s(){u[_y](e),o.added=[e],z(o),n&&n(!0)}e?(i=G(e[Ly]))&&!t?(n&&n(!1),O("Plugin ["+e[Ly]+"] is already loaded!")):(o={reason:16},i?A(a=[i.plugin],{reason:2,isAsync:!!r},(function(e){e?(o.removed=a,o.reason|=32,s()):n&&n(!1)})):s()):(n&&n(!1),O(RM))},e.updateCfg=function(r,n){var i,o;void 0===n&&(n=!0),e[Ny]()&&(i={reason:1,cfg:t.cfg,oldCfg:Qm({},t.cfg),newConfig:Qm({},r),merge:n},r=i.newConfig,o=t.cfg,r[Cg]=o[Cg],r[Sg]=o[Sg]),t._block((function(e){var t=e.cfg;jM(e,t,r,n),n||pp(t,(function(n){hp(r,n)||e.set(t,n,Mg)})),e[My](t,XM)}),!0),t[gy](),i&&X(i)},e.evtNamespace=function(){return f},e.flush=D,e.getTraceCtx=function(e){return M=M||function(){var e={};return{getName:function(){return e[zy]},setName:function(t){e[zy]=t},getTraceId:function(){return e[mf]},setTraceId:function(t){mM(t)&&(e[mf]=t)},getSpanId:function(){return e[yf]},setSpanId:function(t){yM(t)&&(e[yf]=t)},getTraceFlags:function(){return e[ff]},setTraceFlags:function(t){e[ff]=t}}}()},e.setTraceCtx=function(e){M=e||null},e.addUnloadHook=j,Kg(e,"addUnloadCb",(function(){return g}),"add"),e.onCfgChange=function(n){var i=r?qb(t.cfg,n,e[Sy]):function(e,t){var r=YM(e,t).l;return r||e[_y](r={w:t,rm:function(){var r=YM(e,t);-1!==r.i&&e[Ty](r.i,1)}}),r}(S,n);return{rm:function(){i.rm()}}},e.getWParam=function(){return dm()||t.cfg.enableWParam?0:-1}}))}return e.__ieDyn=1,e}(),VM="attachEvent",HM="addEventListener",UM="detachEvent",BM="removeEventListener",KM="events",JM="visibilitychange",QM="pagehide",qM="unload",$M="beforeunload",ex=Nb("aiEvtPageHide"),tx=(Nb("aiEvtPageShow"),/\.[\.]+/g),rx=/[\.]+$/,nx=1,ix=Zb("events"),ox=/^([^.]*)(?:\.(.+)|)/;function ax(e){return e&&e[af]?e[af](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,xg):e}function sx(e,t){var r;return t&&(r=xg,np(t)?(r=xg,Tm(t,(function(e){(e=ax(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=ax(t),r)&&("."!==r[0]&&(r="."+r),e=(e||xg)+r),t=ox.exec(e||xg)||[],(e={})[lf]=t[1],e.ns=(t[2]||xg).replace(tx,".").replace(rx,xg)[nf](".").sort().join("."),e}function lx(e,t,r){return(e=ix.get(e,KM,{},r=void 0===r||r))[t]||(e[t]=[])}function cx(e,t,r,n){e&&t&&t[lf]&&(e[BM]?e[BM](t[lf],r,n):e[UM]&&e[UM]("on"+t[lf],r))}function ux(e,t,r,n){for(var i=t[yy];i--;){var o=t[i];!o||r.ns&&r.ns!==o.evtName.ns||n&&!n(o)||(cx(e,o.evtName,o[cf],o.capture),t[Ty](i,1))}}function dx(e,t){var r=t?sx("xx",r=np(t)?[e].concat(t):[e,t]).ns[nf]("."):e;return r}function hx(e,t,r,n,i){void 0===i&&(i=!1);var o,a=!1;if(e)try{var s,l=sx(t,n);(a=function(e,t,r,n){var i=!1;return e&&t&&t[lf]&&r&&(e[HM]?(e[HM](t[lf],r,n),i=!0):e[VM]&&(e[VM]("on"+t[lf],r),i=!0)),i}(e,l,r,i))&&ix.accept(e)&&((o={guid:nx++,evtName:l})[cf]=r,o.capture=i,s=o,lx(e,l.type)[_y](s))}catch(e){}return a}function px(e,t,r,n,i){if(void 0===i&&(i=!1),e)try{var o=sx(t,n),a=!1;(function(e,t,r){var n;t[lf]?ux(e,lx(e,t[lf]),t,r):(pp(n=ix.get(e,KM,{}),(function(n,i){ux(e,i,t,r)})),0===vp(n)[yy]&&ix.kill(e,KM))})(e,o,(function(e){return!((!o.ns||r)&&e[cf]!==r)&&(a=!0)})),a||cx(e,o,r,i)}catch(e){}}function mx(e,t,r,n){var i=!1;return t&&e&&0<e[yy]&&Tm(e,(function(e){!e||r&&-1!==km(r,e)||(i=function(e,t,r){var n,i=!1;return(n=mm())&&(i=hx(n,e,t,r),i=hx(n.body,e,t,r)||i),(n=hm())&&hx(n,e,t,r)||i}(e,t,n)||i)})),i}function yx(e,t,r){e&&np(e)&&Tm(e,(function(e){e&&function(e,t,r){var n;(n=mm())&&(px(n,e,t,r),px(n.body,e,t,r)),(n=hm())&&px(n,e,t,r)}(e,t,r)}))}function fx(e,t,r){var n=dx(ex,r),i=mx([QM],e,t,n);return!(i=t&&-1!==km(t,JM)?i:mx([JM],(function(t){var r=hm();e&&r&&"hidden"===r.visibilityState&&e(t)}),t,n)||i)&&t?fx(e,null,r):i}var gx="_aiHooks",bx=["req","rsp","hkErr","fnErr"];function vx(e,t){if(e)for(var r=0;r<e[yy]&&!t(e[r],r);r++);}function Mx(e,t,r,n,i){0<=i&&i<=2&&vx(e,(function(e,o){var a=(e=e.cbks)[bx[i]];if(a){t.ctx=function(){return n[o]=n[o]||{}};try{a[wy](t.inst,r)}catch(o){a=t.err;try{var s=e[bx[2]];s&&(t.err=o,s[wy](t.inst,r))}catch(o){}finally{t.err=a}}}}))}function xx(e,t,r,n){var i=null;return e&&(dp(e,t)?i=e:r&&(i=xx(Og(e),t,n,!1))),i}function Sx(e,t,r,n){var i,o=r&&r[gx];return o||((i=o={i:0,n:t,f:r,h:[]},r=function(){var e=arguments,t=i.h,r=((n={})[zy]=i.n,n.inst=this,n.ctx=null,n.set=function(t,n){(e=a([],e))[t]=n,o=a([r],e)},n),n=[],o=a([r],e);function a(e,t){return vx(t,(function(t){e[_y](t)})),e}r.evt=um("event"),Mx(t,r,o,n,0);var s=i.f;if(s)try{r.rslt=s[wy](this,e)}catch(s){throw r.err=s,Mx(t,r,o,n,3),s}return Mx(t,r,o,n,1),r.rslt})[gx]=o,e[t]=r),e={id:o.i,cbks:n,rm:function(){var e=this.id;vx(o.h,(function(t,r){if(t.id===e)return o.h[Ty](r,1),1}))}},o.i++,o.h[_y](e),e}function wx(e,t,r,n,i){return void 0===n&&(n=!0),e&&t&&r&&(e=xx(e,t,n,i))&&typeof(n=e[t])===gf?Sx(e,t,n,r):null}function _x(e,t,r,n,i){return e&&t&&r&&(n=xx(e,t,n,i)||e)?Sx(n,t,n[t],r):null}var Tx="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ix="sampleRate",Cx="ProcessLegacy",kx="http.method",Lx="https://dc.services.visualstudio.com",Nx="/v2/track",Zx="not_specified",Ex="iKey",zx=function(e){return function(e){var t={};return pp(e,(function(e,r){t[e]=r[1],t[r[0]]=r[1]})),Mp(t)}(e)}({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Gx="split",Px="length",Ax="toLowerCase",Rx="ingestionendpoint",Dx="toString",Xx="removeItem",Ox="name",Wx="message",jx="count",Yx="preTriggerDate",Fx="disabled",Vx="interval",Hx="daysOfMonth",Ux="date",Bx="getUTCDate",Kx="stringify",Jx="pathname",Qx="correlationHeaderExcludePatterns",qx="exceptions",$x="parsedStack",eS="properties",tS="measurements",rS="sizeInBytes",nS="typeName",iS="severityLevel",oS="problemGroup",aS="isManual",sS="CreateFromInterface",lS="assembly",cS="fileName",uS="hasFullStack",dS="level",hS="method",pS="line",mS="duration",yS="receivedResponse";function fS(e,t,r){var n=t[Px],i=function(e,t){var r;return t&&150<(t=Ym(Ip(t)))[Px]&&(r=Ap(t,0,150),wv(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}(e,t);if(i[Px]!==n){for(var o=0,a=i;void 0!==r[a];)o++,a=Ap(i,0,147)+wS(o);i=a}return i}function gS(e,t,r){var n;return void 0===r&&(r=1024),t&&(r=r||1024,(t=Ym(Ip(t)))[Px]>r)&&(n=Ap(t,0,r),wv(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0)),n||t}function bS(e,t){return SS(e,t,2048,66)}function vS(e,t){var r;return t&&32768<t[Px]&&(r=Ap(t,0,32768),wv(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}function MS(e,t){var r;return t&&(r={},pp(t,(function(t,n){if(rp(n)&&ub())try{n=db()[Kx](n)}catch(t){wv(e,2,49,"custom property is not valid",{exception:t},!0)}n=gS(e,n,8192),t=fS(e,t,r),r[t]=n})),t=r),t}function xS(e,t){var r;return t&&(r={},pp(t,(function(t,n){t=fS(e,t,r),r[t]=n})),t=r),t}function SS(e,t,r,n){var i;return t&&(t=Ym(Ip(t)))[Px]>r&&(i=Ap(t,0,r),wv(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),i||t}function wS(e){return Rp(e="00"+e,e[Px]-3)}var _S=hm()||{},TS=0,IS=[null,null,null,null,null];function CS(e){var t=TS,r=IS,n=r[t];return _S.createElement?r[t]||(n=r[t]=_S.createElement("a")):n={host:kS(e,!0)},n.href=e,++t>=r[Px]&&(t=0),TS=t,n}function kS(e,t){return(e=LS(e,t)||"")&&null!=(t=e.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i))&&3<t[Px]&&ep(t[2])&&0<t[2][Px]?t[2]+(t[3]||""):e}function LS(e,t){var r=null;return e&&null!=(e=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i))&&2<e[Px]&&ep(e[2])&&0<e[2][Px]&&(r=e[2]||"",t)&&2<e[Px]&&(t=(e[1]||"")[Ax](),e=e[3]||"",r+=e="http"===t&&":80"===e||"https"===t&&":443"===e?"":e),r}var NS=[Lx+Nx,"https://breeze.aimon.applicationinsights.io"+Nx,"https://dc-int.services.visualstudio.com"+Nx];function ZS(e){return-1!==km(NS,e[Ax]())}function ES(e,t,r){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[Qx])for(var n=0;n<e.correlationHeaderExcludePatterns[Px];n++)if(e[Qx][n].test(t))return!1;var i,o=CS(t).host[Ax]();if(!o||-1===iy(o,":443")&&-1===iy(o,":80")||(o=(LS(t,!0)||"")[Ax]()),(!e||!e.enableCorsCorrelation)&&o&&o!==r)return!1;if((r=e&&e.correlationHeaderDomains)&&(Tm(r,(function(e){e=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")),i=i||e.test(o)})),!i))return!1;var a=e&&e.correlationHeaderExcludedDomains;if(!a||0===a[Px])return!0;for(n=0;n<a[Px];n++)if(new RegExp(a[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(o))return!1;return o&&0<o[Px]}function zS(e){if(e&&(e=function(e,t){if(e)for(var r=e[Gx](","),n=0;n<r[Px];++n){var i=r[n][Gx]("=");if(2===i[Px]&&i[0]===t)return i[1]}}(e,zx[1]),e&&"cid-v1:"!==e))return e}function GS(){var e=ey();return e&&e.now&&e.timing&&0<(e=e.now()+e.timing.navigationStart)?e:Rm()}function PS(e,t){return 0===e||0===t||qh(e)||qh(t)?null:t-e}function AS(e,t){var r=e||{};return{getName:function(){return r[Ox]},setName:function(e){t&&t.setName(e),r[Ox]=e},getTraceId:function(){return r.traceID},setTraceId:function(e){t&&t.setTraceId(e),mM(e)&&(r.traceID=e)},getSpanId:function(){return r.parentID},setSpanId:function(e){t&&t.setSpanId(e),yM(e)&&(r.parentID=e)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),r.traceFlags=e}}}var RS=function(e){return mp(e,1,0,Mp)}({LocalStorage:0,SessionStorage:1}),DS=void 0,XS=void 0,OS="";function WS(){return US()?jS(RS.LocalStorage):null}function jS(e){try{if(qh(cm()))return null;var t=(new Date)[Dx](),r=um(e===RS.LocalStorage?"localStorage":"sessionStorage"),n=OS+t,i=(r.setItem(n,t),r.getItem(n)!==t);if(r[Xx](n),!i)return r}catch(e){}return null}function YS(){return JS()?jS(RS.SessionStorage):null}function FS(){XS=DS=!1}function VS(e){OS=e||""}function HS(){DS=US(!0),XS=JS(!0)}function US(e){return DS=e||void 0===DS?!!jS(RS.LocalStorage):DS}function BS(e,t){var r=WS();if(null!==r)try{return r.getItem(t)}catch(t){DS=!1,wv(e,2,1,"Browser failed read of local storage. "+Vg(t),{exception:Np(t)})}return null}function KS(e,t,r){var n=WS();if(null!==n)try{return n.setItem(t,r),!0}catch(t){DS=!1,wv(e,2,3,"Browser failed write to local storage. "+Vg(t),{exception:Np(t)})}return!1}function JS(e){return XS=e||void 0===XS?!!jS(RS.SessionStorage):XS}function QS(e,t){var r=YS();if(null!==r)try{return r.getItem(t)}catch(t){XS=!1,wv(e,2,2,"Browser failed read of session storage. "+Vg(t),{exception:Np(t)})}return null}function qS(e,t,r){var n=YS();if(null!==n)try{return n.setItem(t,r),!0}catch(t){XS=!1,wv(e,2,4,"Browser failed write to session storage. "+Vg(t),{exception:Np(t)})}return!1}var $S=function(e,t){var r,n,i,o,a,s,l,c=this,u=!1,d=!1;function h(e,t,i,o){if(u){if(!function(e){try{var t=p(e);return function(e){return Math.floor(_b()/bb*(e+1))>>>0}(1e6)<=t.limit.samplingRate}catch(e){}return!1}(e))return;var s=p(e),l=M(e),c=y(s,r,l),d=!1,h=0,m=x(e);try{c&&!m?(h=Math.min(s.limit.maxSendNumber,l[jx]+1),d=!(l[jx]=0),a[e]=!0,l[Yx]=new Date):(a[e]=c,l[jx]+=1);var g=f(e);b(n,g,l);for(var v=0;v<h;v++)wv(n,i||1,e,t)}catch(e){}return{isThrottled:d,throttleNum:h}}return o&&S(e).push({msgID:e,message:t,severity:i}),null}function p(e){return i[e]||i[109]}function m(e,t){var r,n;try{var o=t||{},a={},s=(a[Fx]=!!o[Fx],o[Vx]||{}),l=(d=(null===s?void 0:s.daysOfMonth)&&0<(null===s?void 0:s.daysOfMonth[Px]),a[Vx]=function(e){var t=null==(e=e||{})?void 0:e.monthInterval,r=null==e?void 0:e.dayInterval;return qh(t)&&qh(r)&&(e.monthInterval=3,d||(e[Hx]=[28],d=!0)),{monthInterval:null==e?void 0:e.monthInterval,dayInterval:null==e?void 0:e.dayInterval,daysOfMonth:null==e?void 0:e.daysOfMonth}}(s),{samplingRate:(null==(r=o.limit)?void 0:r.samplingRate)||100,maxSendNumber:(null==(n=o.limit)?void 0:n.maxSendNumber)||1});a.limit=l,i[e]=a}catch(e){}}function y(e,t,r){var n,i;return!(!e||e[Fx]||!t||!Wg(r))&&(t=g(),r=r[Ux],n=1,null!=(e=e[Vx])&&e.monthInterval&&(i=12*(t.getUTCFullYear()-r.getUTCFullYear())+t.getUTCMonth()-r.getUTCMonth(),n=v(e.monthInterval,0,i)),i=1,d?i=km(e[Hx],t[Bx]()):null!=e&&e.dayInterval&&(t=Math.floor((t.getTime()-r.getTime())/864e5),i=v(e.dayInterval,0,t)),0<=n)&&0<=i}function f(e,t){return t=Wg(t)?t:"",e?"appInsightsThrottle"+t+"-"+e:null}function g(e){try{if(!e)return new Date;var t=new Date(e);if(!isNaN(t.getDate()))return t}catch(e){}return null}function b(e,t,r){try{return KS(e,t,Ym(JSON[Kx](r)))}catch(e){}}function v(e,t,r){return e<=0?1:t<=r&&(r-t)%e==0?Math.floor((r-t)/e)+1:-1}function M(e){try{var t,r=o[e];return r||(t=f(e,s),r=function(e,t,r){try{var n,i={date:g(),count:0};return e?{date:g((n=JSON.parse(e))[Ux])||i[Ux],count:n[jx]||i[jx],preTriggerDate:n.preTriggerDate?g(n[Yx]):void 0}:(b(t,r,i),i)}catch(e){}return null}(BS(n,t),n,t),o[e]=r),o[e]}catch(e){}return null}function x(e){var t,r=a[e];return qh(r)&&(r=!1,(t=M(e))&&(r=function(e){try{var t;if(e)return t=new Date,e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e[Bx]()===t[Bx]()}catch(e){}return!1}(t[Yx])),a[e]=r),a[e]}function S(e){return qh((l=l||{})[e])&&(l[e]=[]),l[e]}n=bv(e),a={},o={},l={},i={},m(109),s=Wg(t)?t:"",e.addUnloadHook(qb(e.config,(function(e){e=e.cfg,r=US(),pp(e.throttleMgrCfg||{},(function(e,t){m(parseInt(e),t)}))}))),c._getDbgPlgTargets=function(){return[l]},c.getConfig=function(){return i},c.canThrottle=function(e){var t=M(e);return y(p(e),r,t)},c.isTriggered=x,c.isReady=function(){return u},c.flush=function(e){try{var t,r=S(e);if(r&&0<r[Px])return t=r.slice(0),l[e]=[],Tm(t,(function(e){h(e.msgID,e[Wx],e.severity,!1)})),!0}catch(e){}return!1},c.flushAll=function(){try{var e;if(l)return e=!0,pp(l,(function(t){t=c.flush(parseInt(t)),e=e&&t})),e}catch(e){}return!1},c.onReadyState=function(e,t){return void 0===t&&(t=!0),(u=!!qh(e)||e)&&t?c.flushAll():null},c.sendMessage=function(e,t,r){return h(e,t,r,!0)}},ew=function(e,t,r){var n=this;this.ver=1,this.sampleRate=100,this.tags={},this[Ox]=gS(e,r)||Zx,this.data=t,this.time=Fg(new Date),this.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===n.sampleRate?4:1},tags:1,data:1}},tw=function(){function e(e,t,r,n){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this[Ox]=gS(e,t)||Zx,this[eS]=MS(e,r),this[tS]=xS(e,n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),rw="error",nw="stack",iw="stackDetails",ow="errorSrc",aw="message",sw="description";function lw(e,t){var r=e;return r&&!ep(r)&&(JSON&&JSON[Kx]?(r=JSON[Kx](e),!t||r&&"{}"!==r||(r=tp(e[Dx])?e[Dx]():""+e)):r=e+" - (Missing JSON.stringify)"),r||""}function cw(e,t){var r=e;return e&&((r=r&&!ep(r)&&(e[aw]||e[sw])||r)&&!ep(r)&&(r=lw(r,!0)),e.filename)&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?")),(r=t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===iy(r||"",t)?t+": "+r:r)||""}function uw(e){return e&&e.src&&ep(e.src)&&e.obj&&np(e.obj)}function dw(e){var t=(e=ep(e=e||"")?e:ep(e[nw])?e[nw]:""+e)[Gx]("\n");return{src:e,obj:t}}function hw(e){var t,r=null;if(e)try{e[nw]?r=dw(e[nw]):e[rw]&&e[rw][nw]?r=dw(e[rw][nw]):e.exception&&e.exception[nw]?r=dw(e.exception[nw]):uw(e)?r=e:uw(e[iw])?r=e[iw]:mm()&&mm().opera&&e[aw]?r=function(e){for(var t=[],r=e[Gx]("\n"),n=0;n<r[Px];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),t.push(i)}return{src:e,obj:t}}(e[Wx]):e.reason&&e.reason[nw]?r=dw(e.reason[nw]):ep(e)?r=dw(e):(t=e[aw]||e[sw]||"",ep(e[ow])&&(t&&(t+="\n"),t+=" from "+e[ow]),t&&(r=dw(t)))}catch(e){r=dw(e)}return r||{src:"",obj:null}}function pw(e){var t="";if(e&&!(t=e.typeName||e[Ox]||""))try{var r=/function (.{1,200})\(/.exec(e.constructor[Dx]());t=r&&1<r[Px]?r[1]:""}catch(e){}return t}function mw(e){if(e)try{var t,r;if(!ep(e))return t=pw(e),(r=lw(e,!1))&&"{}"!==r||(e[rw]&&(t=pw(e=e[rw])),r=lw(e,!0)),0!==iy(r,t)&&"String"!==t?t+":"+r:r}catch(e){}return""+(e||"")}var yw=function(){function e(e,t,r,n,i,o){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,function(e){try{if(rp(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(a[qx]=t[qx]||[],a[eS]=t[eS],a[tS]=t[tS],t[iS]&&(a[iS]=t[iS]),t.id&&(a.id=t.id),t[oS]&&(a[oS]=t[oS]),qh(t[aS])||(a[aS]=t[aS])):(a[qx]=[new fw(e,t,r=r||{})],a[eS]=MS(e,r),a[tS]=xS(e,n),i&&(a[iS]=i),o&&(a.id=o))}return e.CreateAutoException=function(e,t,r,n,i,o,a,s){var l=pw(i||o||e),c={};return c[Wx]=cw(e,l),c.url=t,c.lineNumber=r,c.columnNumber=n,c.error=mw(i||o||e),c.evt=mw(o||e),c[nS]=l,c.stackDetails=hw(a||i||o),c.errorSrc=s,c},e.CreateFromInterface=function(t,r,n,i){var o=r[qx]&&Lm(r[qx],(function(e){return fw[sS](t,e)}));return new e(t,_f(_f({},r),{exceptions:o}),n,i)},e.prototype.toInterface=function(){var e=this.exceptions,t=this.properties,r=this.measurements,n=this.severityLevel,i=this.problemGroup,o=this.id,a=this.isManual,s=(e=e instanceof Array&&Lm(e,(function(e){return e.toInterface()}))||void 0,{ver:"4.0"});return s[qx]=e,s.severityLevel=n,s.properties=t,s.measurements=r,s.problemGroup=i,s.id=o,s.isManual=a,s},e.CreateSimpleException=function(e,t,r,n,i,o){var a;return{exceptions:[((a={})[uS]=!0,a.message=e,a.stack=i,a.typeName=t,a)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=mw,e}(),fw=function(){function e(e,t,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var n,i,o=this;!function(e){try{if(rp(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t)?(i=(n=t)&&n.evt,sp(n)||(n=n[rw]||i||n),o[nS]=gS(e,pw(n))||Zx,o[Wx]=vS(e,cw(t||n,o[nS]))||Zx,i=t[iw]||hw(t),o[$x]=function(e){if((e=e.obj)&&0<e[Px]){var t=[],r=0,n=0;if(Tm(e,(function(e){e=e[Dx](),gw.regex.test(e)&&(e=new gw(e,r++),n+=e[rS],t.push(e))})),32768<n)for(var i=0,o=t[Px]-1,a=0,s=i,l=o;i<o;){if(32768<(a+=t[i][rS]+t[o][rS])){t.splice(s,l-s+1);break}s=i,l=o,i++,o--}}return t}(i),np(o[$x])&&Lm(o[$x],(function(t){t[lS]=gS(e,t[lS]),t[cS]=gS(e,t[cS])})),o[nw]=function(e,t){var r,n;return t&&32768<(n=""+t)[Px]&&(r=Ap(n,0,32768),wv(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0)),r||t}(e,function(e){var t="";return e&&(e.obj?Tm(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(i)),o.hasFullStack=np(o.parsedStack)&&0<o.parsedStack[Px],r&&(r[nS]=r[nS]||o[nS])):(o[nS]=t[nS],o[Wx]=t[Wx],o[nw]=t[nw],o[$x]=t[$x]||[],o[uS]=t[uS])}return e.prototype.toInterface=function(){var e,t=this[$x]instanceof Array&&Lm(this[$x],(function(e){return e.toInterface()}));return(e={id:this.id,outerId:this.outerId,typeName:this[nS],message:this[Wx],hasFullStack:this[uS],stack:this[nw]})[$x]=t||void 0,e},e.CreateFromInterface=function(t,r){var n=r[$x]instanceof Array&&Lm(r[$x],(function(e){return gw[sS](e)}))||r[$x];return new e(t,_f(_f({},r),{parsedStack:n}))},e}(),gw=function(){function e(t,r){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n,i=this;i[rS]=0,"string"==typeof t?(n=t,i[dS]=r,i[hS]="<no_method>",i[lS]=Ym(n),i[cS]="",i[pS]=0,(r=n.match(e.regex))&&5<=r[Px]&&(i[hS]=Ym(r[2])||i[hS],i[cS]=Ym(r[4]),i[pS]=parseInt(r[5])||0)):(i[dS]=t[dS],i[hS]=t[hS],i[lS]=t[lS],i[cS]=t[cS],i[pS]=t[pS],i[rS]=0),i.sizeInBytes+=i.method[Px],i.sizeInBytes+=i.fileName[Px],i.sizeInBytes+=i.assembly[Px],i[rS]+=e.baseSize,i.sizeInBytes+=i.level.toString()[Px],i.sizeInBytes+=i.line.toString()[Px]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){return{level:this[dS],method:this[hS],assembly:this[lS],fileName:this[cS],line:this[pS]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(),bw=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},vw=function(){function e(e,t,r,n,i,o,a,s,l){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var c=new bw;c[jx]=0<n?n:void 0,c.max=isNaN(o)||null===o?void 0:o,c.min=isNaN(i)||null===i?void 0:i,c[Ox]=gS(e,t)||Zx,c.value=r,c.stdDev=isNaN(a)||null===a?void 0:a,this.metrics=[c],this[eS]=MS(e,s),this[tS]=xS(e,l)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}();function Mw(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,r=""+Math.floor(e/1e3)%60,n=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24;return(0<(e=Math.floor(e/864e5))?e+".":"")+(i[Px]<2?"0"+i:i)+":"+(n[Px]<2?"0"+n:n)+":"+(r[Px]<2?"0"+r:r)+"."+(1===t[Px]?"00"+t:2===t[Px]?"0"+t:t)}var xw=function(){function e(e,t,r,n,i,o,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},this.ver=2,this.id=function(e,t){return t&&SS(e,t,128,69)[Dx]()}(e,a),this.url=bS(e,r),this[Ox]=gS(e,t)||Zx,isNaN(n)||(this[mS]=Mw(n)),this[eS]=MS(e,i),this[tS]=xS(e,o)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),Sw=function(){function e(e,t,r,n,i,o,a,s,l,c,u,d){void 0===l&&(l="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var h=this;h.ver=2,h.id=t,h[mS]=Mw(i),h.success=o,h.resultCode=a+"",h.type=gS(e,l),t=function(e,t,r,n){var i,o,a,s=n,l=n;return s=t&&0<t[Px]?(a=(i=CS(t)).host,s||(null!=i[Jx]?("/"!==(o=0===i.pathname[Px]?"/":i[Jx]).charAt(0)&&(o="/"+o),l=i[Jx],gS(e,r?r+" "+o:o)):gS(e,t))):a=n,{target:a,name:s,data:l}}(e,r,s,n),h.data=bS(e,n)||t.data,h.target=gS(e,t.target),c&&(h.target="".concat(h.target," | ").concat(c)),h[Ox]=gS(e,t[Ox]),h[eS]=MS(e,u),h[tS]=xS(e,d)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),ww=function(){function e(e,t,r,n,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},this.ver=2,this[Wx]=vS(e,t=t||Zx),this[eS]=MS(e,n),this[tS]=xS(e,i),r&&(this[iS]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),_w=function(){function e(e,t,r,n,i,o,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=bS(e,r),s[Ox]=gS(e,t)||Zx,s[eS]=MS(e,i),s[tS]=xS(e,o),a&&(s.domProcessing=a.domProcessing,s[mS]=a[mS],s.networkConnect=a.networkConnect,s.perfTotal=a.perfTotal,s[yS]=a[yS],s.sentRequest=a.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),Tw=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t};function Iw(e){var t="ai."+e+".";return function(e){return t+e}}var Cw=Iw("application"),kw=Iw("device"),Lw=Iw("location"),Nw=Iw("operation"),Zw=Iw("session"),Ew=Iw("user"),zw=Iw("cloud"),Gw=Iw("internal"),Pw=function(e){function t(){return e.call(this)||this}return If(t,e),t}(function(e){return function(){var t=this;e&&pp(e,(function(e,r){t[e]=r}))}}({applicationVersion:Cw("ver"),applicationBuild:Cw("build"),applicationTypeId:Cw("typeId"),applicationId:Cw("applicationId"),applicationLayer:Cw("layer"),deviceId:kw("id"),deviceIp:kw("ip"),deviceLanguage:kw("language"),deviceLocale:kw("locale"),deviceModel:kw("model"),deviceFriendlyName:kw("friendlyName"),deviceNetwork:kw("network"),deviceNetworkName:kw("networkName"),deviceOEMName:kw("oemName"),deviceOS:kw("os"),deviceOSVersion:kw("osVersion"),deviceRoleInstance:kw("roleInstance"),deviceRoleName:kw("roleName"),deviceScreenResolution:kw("screenResolution"),deviceType:kw("type"),deviceMachineName:kw("machineName"),deviceVMName:kw("vmName"),deviceBrowser:kw("browser"),deviceBrowserVersion:kw("browserVersion"),locationIp:Lw("ip"),locationCountry:Lw("country"),locationProvince:Lw("province"),locationCity:Lw("city"),operationId:Nw("id"),operationName:Nw("name"),operationParentId:Nw("parentId"),operationRootId:Nw("rootId"),operationSyntheticSource:Nw("syntheticSource"),operationCorrelationVector:Nw("correlationVector"),sessionId:Zw("id"),sessionIsFirst:Zw("isFirst"),sessionIsNew:Zw("isNew"),userAccountAcquisitionDate:Ew("accountAcquisitionDate"),userAccountId:Ew("accountId"),userAgent:Ew("userAgent"),userId:Ew("id"),userStoreRegion:Ew("storeRegion"),userAuthUserId:Ew("authUserId"),userAnonymousUserAcquisitionDate:Ew("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ew("authUserAcquisitionDate"),cloudName:zw("name"),cloudRole:zw("role"),cloudRoleVer:zw("roleVer"),cloudRoleInstance:zw("roleInstance"),cloudEnvironment:zw("environment"),cloudLocation:zw("location"),cloudDeploymentUnit:zw("deploymentUnit"),internalNodeName:Gw("nodeName"),internalSdkVersion:Gw("sdkVersion"),internalAgentVersion:Gw("agentVersion"),internalSnippet:Gw("snippet"),internalSdkSrc:Gw("sdkSrc")}));function Aw(e,t,r,n,i,o){r=gS(n,r)||Zx,(qh(e)||qh(t)||qh(r))&&yp("Input doesn't contain all required fields"),n="";var a,s=(e[Ex]&&(n=e[Ex],delete e[Ex]),(a={})[Ox]=r,a.time=Fg(new Date),a.iKey=n,a.ext=o||{},a.tags=[],a.data={},a.baseType=t,a.baseData=e,a);return qh(i)||pp(i,(function(e,t){s.data[e]=t})),s}var Rw="user",Dw="device",Xw="trace",Ow=new Pw;function Ww(e){var t,r=null;return tp(Event)?r=new Event(e):(t=hm())&&t.createEvent&&(r=t.createEvent("Event")).initEvent(e,!0,!0),r}var jw="AppInsightsPropertiesPlugin",Yw="AppInsightsChannelPlugin",Fw="ApplicationInsightsAnalytics",Vw="toString",Hw="isStorageUseDisabled",Uw="_addHook",Bw="core",Kw="dataType",Jw="envelopeType",Qw="diagLog",qw="track",$w="trackPageView",e_="trackPreviousPageVisit",t_="sendPageViewInternal",r_="startTime",n_="properties",i_="duration",o_="sendPageViewPerformanceInternal",a_="populatePageViewPerformanceEvent",s_="href",l_="sendExceptionInternal",c_="exception",u_="error",d_="_onerror",h_="errorSrc",p_="lineNumber",m_="columnNumber",y_="message",f_="CreateAutoException",g_="addTelemetryInitializer",b_="autoTrackPageVisitTime",v_="isBrowserLinkTrackingEnabled",M_="length",x_="enableAutoRouteTracking",S_="enableUnhandledPromiseRejectionTracking",w_="autoUnhandledPromiseInstrumented",__="getEntriesByType",T_="isPerformanceTimingSupported",I_="getPerformanceTiming",C_="navigationStart",k_="shouldCollectDuration",L_="isPerformanceTimingDataReady",N_="responseStart",Z_="loadEventEnd",E_="responseEnd",z_="connectEnd",G_="pageVisitStartTime",P_=function(){function e(t,r,n,i){ng(e,this,(function(e){var o,a=null,s=[],l=!1,c=!1;function u(e){n&&n.flush(e,(function(){}))}function d(e){s.push(e),function e(){a=a||uy((function(){a=null;var t=s.slice(0),r=!1;s=[],Tm(t,(function(e){e()?r=!0:s.push(e)})),0<s[M_]&&e(),r&&u(!0)}),100)}()}n&&(o=n.logger),e[$w]=function(e,n){var a,s,h,p,m,y,f=e.name,g=(!qh(f)&&"string"==typeof f||(s=hm(),f=e.name=s&&s.title||""),e.uri);!qh(g)&&"string"==typeof g||(s=cb(),g=e.uri=s&&s[s_]||""),c||((a=(s=ey())&&s[__]&&s[__]("navigation"))&&a[0]&&!Qh(s.timeOrigin)?(a=a[0].loadEventStart,e[r_]=new Date(s.timeOrigin+a)):(s=(n||e[n_]||{})[i_]||0,e[r_]=new Date((new Date).getTime()-s)),c=!0),i[T_]()?(h=!1,0<(m=i[I_]()[C_])&&(p=PS(m,+new Date),i[k_](p)||(p=void 0)),qh(n)||qh(n[i_])||(y=n[i_]),!r&&isNaN(y)||(isNaN(y)&&((n=n||{})[i_]=p),t[t_](e,n),u(!0),h=!0),n=n||{},d((function(){var r,a=!1;try{i[L_]()?(a=!0,r={name:f,uri:g},i[a_](r),r.isValid||h?(h||(n[i_]=r.durationMs,t[t_](e,n)),l||(t[o_](r,n),l=!0)):(n[i_]=p,t[t_](e,n))):0<m&&6e4<PS(m,+new Date)&&(a=!0,h||(n[i_]=6e4,t[t_](e,n)))}catch(r){wv(o,1,38,"trackPageView failed on page load calculation: "+Vg(r),{exception:Np(r)})}return a}))):(t[t_](e,n),u(!0),gm()||wv(o,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info."))},e.teardown=function(e,t){var r;a&&(a.cancel(),a=null,r=s.slice(0),s=[],Tm(r,(function(e){e()})))}}))}return e.__ieDyn=1,e}(),A_=["googlebot","adsbot-google","apis-google","mediapartners-google"];function R_(){var e=ey();return e&&!!e.timing}function D_(){var e;return(e=(e=ey())?e.timing:0)&&0<e.domainLookupStart&&0<e[C_]&&0<e[N_]&&0<e.requestStart&&0<e[Z_]&&0<e[E_]&&0<e[z_]&&0<e.domLoading}function X_(){return R_()?ey().timing:null}function O_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(ym()||{}).userAgent,n=!1;if(r)for(var i=0;i<A_[M_];i++)n=n||-1!==iy(r.toLowerCase(),A_[i]);if(n)return!1;for(i=0;i<e[M_];i++)if(e[i]<0||36e5<=e[i])return!1;return!0}var W_,j_=function(){function e(t){var r=bv(t);ng(e,this,(function(e){e[a_]=function(t){t.isValid=!1;var n=function(){var e=ey();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation")[M_]}()?ey()[__]("navigation")[0]:null,i=X_(),o=0,a=0,s=0,l=0,c=0;(n||i)&&(c=n?(o=n[i_],a=0===n[r_]?n[z_]:PS(n[r_],n[z_]),s=PS(n.requestStart,n[N_]),l=PS(n[N_],n[E_]),PS(n.responseEnd,n[Z_])):(o=PS(i[C_],i[Z_]),a=PS(i[C_],i[z_]),s=PS(i.requestStart,i[N_]),l=PS(i[N_],i[E_]),PS(i.responseEnd,i[Z_])),0===o?wv(r,2,10,"error calculating page view performance.",{total:o,network:a,request:s,response:l,dom:c}):e[k_](o,a,s,l,c)?o<Math.floor(a)+Math.floor(s)+Math.floor(l)+Math.floor(c)?wv(r,2,8,"client performance math error.",{total:o,network:a,request:s,response:l,dom:c}):(t.durationMs=o,t.perfTotal=t[i_]=Mw(o),t.networkConnect=Mw(a),t.sentRequest=Mw(s),t.receivedResponse=Mw(l),t.domProcessing=Mw(c),t.isValid=!0):wv(r,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:o,network:a,request:s,response:l,dom:c}))},e[I_]=X_,e[T_]=R_,e[L_]=D_,e[k_]=O_}))}return e.__ieDyn=1,e}(),Y_=function(){function e(t,r){var n="prevPageVisitData";ng(e,this,(function(e){e[e_]=function(e,i){try{var o=function(e,r){var i=null;try{var o;i=function(){var e=null;try{var r,i;JS()&&(r=Rm(),i=QS(t,n))&&ub()&&((e=db().parse(i)).pageVisitTime=r-e[G_],function(e,t){var r=YS();if(null!==r)try{return r[Xx](t),!0}catch(t){XS=!1,wv(e,2,6,"Browser failed removal of session storage item. "+Vg(t),{exception:Np(t)})}}(t,n))}catch(r){_v(t,"Stop page visit timer failed: "+Np(r)),e=null}return e}(),JS()&&(null!=QS(t,n)&&yp("Cannot call startPageVisit consecutively without first calling stopPageVisit"),o=db().stringify(new F_(e,r)),qS(t,n,o))}catch(e){_v(t,"Call to restart failed: "+Np(e)),i=null}return i}(e,i);o&&r(o.pageName,o.pageUrl,o.pageVisitTime)}catch(e){_v(t,"Auto track page visit time failed, metric will not be collected: "+Np(e))}},Up(e,"_logger",{g:function(){return t}}),Up(e,"pageVisitTimeTrackingHandler",{g:function(){return r}})}))}return e.__ieDyn=1,e}(),F_=function(e,t){this[G_]=Rm(),this.pageName=e,this.pageUrl=t},V_=function(e,t){var r=this,n={};r.start=function(t){void 0!==n[t]&&wv(e,2,62,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),n[t]=+new Date},r.stop=function(t,i,o,a){var s=n[t];isNaN(s)?wv(e,2,63,"stop was called without a corresponding start.",{name:t,key:t},!0):(s=PS(s,+new Date),r.action(t,i,s,o,a)),delete n[t],n[t]=void 0}};function H_(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var U_=Mp(((W_={sessionRenewalMs:nv(B_,18e5),sessionExpirationMs:nv(B_,864e5),disableExceptionTracking:ov()})[b_]=ov(),W_.overridePageViewDuration=ov(),W_[S_]=ov(),W_[w_]=!1,W_.samplingPercentage=iv((function(e){return!isNaN(e)&&0<e&&e<=100}),100),W_[Hw]=ov(),W_[v_]=ov(),W_[x_]=ov(),W_.namePrefix={isVal:ep,v:Ip(xg)},W_.enableDebug=ov(),W_.disableFlushOnBeforeUnload=ov(),W_.disableFlushOnUnload=ov(!1,"disableFlushOnBeforeUnload"),W_));function B_(e,t){return+(e=(e=e||t)<6e4?6e4:e)}function K_(e){Qh(e[Hw])||(e[Hw]?FS:HS)()}var J_=function(e){function t(){var r,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S=e.call(this)||this;return S.identifier=Fw,S.priority=180,S.autoRoutePVDelay=500,ng(t,S,(function(e,t){var S=t[Uw];function w(t,r,n,i,o){e[Qw]().throwInternal(t,r,n,i,o)}function _(){l=s=a=o=i=r=null;var t=cb(b=f=y=m=p=h=d=u=c=!1);v=t&&t[s_]||"",g=x=M=null,Up(e,"config",{g:function(){return g}})}_(),e.getCookieMgr=function(){return Yv(e[Bw])},e.processTelemetry=function(t,r){e.processNext(t,r)},e.trackEvent=function(t,r){try{var n=Aw(t,tw[Kw],tw[Jw],e[Qw](),r);e[Bw][qw](n)}catch(t){w(2,39,"trackTrace failed, trace will not be collected: "+Vg(t),{exception:Np(t)})}},e.startTrackEvent=function(e){try{r.start(e)}catch(e){w(1,29,"startTrackEvent failed, event will not be collected: "+Vg(e),{exception:Np(e)})}},e.stopTrackEvent=function(e,t,n){try{r.stop(e,void 0,t,n)}catch(e){w(1,30,"stopTrackEvent failed, event will not be collected: "+Vg(e),{exception:Np(e)})}},e.trackTrace=function(t,r){try{var n=Aw(t,ww[Kw],ww[Jw],e[Qw](),r);e[Bw][qw](n)}catch(t){w(2,39,"trackTrace failed, trace will not be collected: "+Vg(t),{exception:Np(t)})}},e.trackMetric=function(t,r){try{var n=Aw(t,vw[Kw],vw[Jw],e[Qw](),r);e[Bw][qw](n)}catch(t){w(1,36,"trackMetric failed, metric will not be collected: "+Vg(t),{exception:Np(t)})}},e[$w]=function(e,t){try{var r=e||{};o[$w](r,_f(_f(_f({},r.properties),r.measurements),t)),b&&s[e_](r.name,r.uri)}catch(e){w(1,37,"trackPageView failed, page view will not be collected: "+Vg(e),{exception:Np(e)})}},e[t_]=function(t,r,n){var i=((i=hm())&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri),qh(t[r_])&&(i=(r||t[n_]||{})[i_]||0,t[r_]=new Date((new Date).getTime()-i)),Aw(t,xw[Kw],xw[Jw],e[Qw](),r,n));e[Bw][qw](i)},e[o_]=function(t,r,n){t=Aw(t,_w[Kw],_w[Jw],e[Qw](),r,n),e[Bw][qw](t)},e.trackPageViewPerformance=function(t,r){t=t||{};try{a[a_](t),e[o_](t,r)}catch(t){w(1,37,"trackPageViewPerformance failed, page view will not be collected: "+Vg(t),{exception:Np(t)})}},e.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=hm())&&t.title||""),i.start(e)}catch(e){w(1,31,"startTrackPage failed, page view may not be collected: "+Vg(e),{exception:Np(e)})}},e.stopTrackPage=function(e,t,r,n){try{var o,a;"string"!=typeof e&&(e=(o=hm())&&o.title||""),"string"!=typeof t&&(t=(a=cb())&&a[s_]||""),i.stop(e,t,r,n),b&&s[e_](e,t)}catch(e){w(1,32,"stopTrackPage failed, page view will not be collected: "+Vg(e),{exception:Np(e)})}},e[l_]=function(t,r,n){var i=t&&(t[c_]||t[u_])||sp(t)&&t||{name:t&&typeof t,message:t||Zx};t=t||{},i=Aw(new yw(e[Qw](),i,t[n_]||r,t.measurements,t.severityLevel,t.id).toInterface(),yw[Kw],yw[Jw],e[Qw](),r,n),e[Bw][qw](i)},e.trackException=function(t,r){t&&!t[c_]&&t[u_]&&(t[c_]=t[u_]);try{e[l_](t,r)}catch(t){w(1,35,"trackException failed, exception will not be collected: "+Vg(t),{exception:Np(t)})}},e[d_]=function(t){var r=t&&t[u_],n=t&&t.evt;try{n||(c=mm())&&(n=c.event);var i,o,a=t&&t.url||(hm()||{}).URL,s=t[h_]||"window.onerror@"+a+":"+(t[p_]||0)+":"+(t[m_]||0),l={errorSrc:s,url:a,lineNumber:t[p_]||0,columnNumber:t[m_]||0,message:t[y_]};!function(e,t,r,n,i){return!i&&ep(e)&&("Script error."===e||"Script error"===e)}(t.message,t.url,t.lineNumber,t.columnNumber,t[u_])?(t[h_]||(t[h_]=s),e.trackException({exception:t,severityLevel:3},l)):(i=yw[f_]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,t[p_]||0,t[m_]||0,r,n,null,s),o=l,i=Aw(i,yw[Kw],yw[Jw],e[Qw](),o),e[Bw][qw](i))}catch(t){var c=r?r.name+", "+r[y_]:"null";w(1,11,"_onError threw exception while logging error, error will not be collected: "+Vg(t),{exception:Np(t),errorString:c})}},e[g_]=function(t){if(e[Bw])return e[Bw][g_](t);(l=l||[]).push(t)},e.initialize=function(n,w,_,T){if(!e.isInitialized()){qh(w)&&yp("Error initializing"),t.initialize(n,w,_,T);try{var I,C;x=dx(Nb(e.identifier),w.evtNamespace&&w.evtNamespace()),l&&(Tm(l,(function(e){w[g_](e)})),l=null),E=n,z=e.identifier,G=e[Bw],e[Uw](qb(E,(function(){var t,r=IM(null,E,G);g=r.getExtCfg(z,U_),b=g[b_],E.storagePrefix&&VS(E.storagePrefix),K_(g),c=g[v_],!u&&c&&(t=["/browserLinkSignalR/","/__browserLink/"],e[Uw](e[g_]((function(e){if(c&&e.baseType===Sw[Kw]){var r=e.baseData;if(r)for(var n=0;n<t[M_];n++)if(r.target&&0<=iy(r.target,t[n]))return!1}return!0}))),u=!0)}))),a=new j_(e[Bw]),o=new P_(e,g.overridePageViewDuration,e[Bw],a),s=new Y_(e[Qw](),(function(t,r,n){var i;i={PageName:t,PageUrl:r},e.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},i)})),(r=new V_(e[Qw](),"trackEvent")).action=function(t,r,n,i,o){o=o||{},(i=i||{}).duration=n[Vw](),e.trackEvent({name:t,properties:i,measurements:o})},(i=new V_(e[Qw](),"trackPageView")).action=function(t,r,n,i,o){(i=qh(i)?{}:i).duration=n[Vw](),e[t_]({name:t,uri:r,properties:i,measurements:o},i)},pm()&&(N=mm(),Z=cb(),e[Uw](qb(g,(function(){(p=g.disableExceptionTracking)||m||g.autoExceptionInstrumented||(S(_x(N,"onerror",{ns:x,rsp:function(t,r,n,i,o,a){p||!0===t.rslt||e[d_](yw[f_](r,n,i,o,a,t.evt))}},!1)),m=!0)}))),I=N,C=Z,e[Uw](qb(g,(function(){y=!0===g[S_],m=m||g[w_],y&&!f&&(S(_x(I,"onunhandledrejection",{ns:x,rsp:function(t,r){y&&!0!==t.rslt&&e[d_](yw[f_](function(e){var t;return e&&e.reason?(t=e.reason,!ep(t)&&tp(t[Vw])?t[Vw]():Np(t)):e||""}(r),C?C[s_]:"",0,0,r,t.evt))}},!1)),g[w_]=f=!0)}))),k=mm(),L=cb(),e[Uw](qb(g,(function(){var t,r,n,i;d=!0===g[x_],k&&d&&!h&&fm()&&(r=fm(),tp(r.pushState))&&tp(r.replaceState)&&typeof Event!==vf&&(t=k,n=L,h||(i=g.namePrefix||"",S(_x(r,"pushState",{ns:x,rsp:function(){d&&(H_(t,Ww(i+"pushState")),H_(t,Ww(i+"locationchange")))}},!0)),S(_x(r,"replaceState",{ns:x,rsp:function(){d&&(H_(t,Ww(i+"replaceState")),H_(t,Ww(i+"locationchange")))}},!0)),hx(t,i+"popstate",(function(){d&&H_(t,Ww(i+"locationchange"))}),x),hx(t,i+"locationchange",(function(){var t,r;M&&(v=M),M=n&&n[s_]||"",d&&((t=function(){var t,r=null;return e[Bw]&&e[Bw].getTraceCtx&&(r=e[Bw].getTraceCtx(!1)),r||(t=e[Bw].getPlugin(jw))&&(t=t.plugin.context)&&(r=AS(t.telemetryTrace)),r}())&&(t.setTraceId(sM()),r="_unknown_",n&&n.pathname&&(r=n.pathname+(n.hash||"")),t.setName(gS(e[Qw](),r))),uy(function(t){e[$w]({refUri:t,properties:{duration:0}})}.bind(e,v),e.autoRoutePVDelay))}),x),h=!0))}))))}catch(n){throw e.setInitialized(!1),n}var k,L,N,Z,E,z,G}},e._doTeardown=function(e,t){o&&o.teardown(e,t),px(n,null,null,x),_()},Up(e,"_pageViewManager",{g:function(){return o}}),Up(e,"_pageViewPerformanceManager",{g:function(){return a}}),Up(e,"_pageVisitTimeManager",{g:function(){return s}}),Up(e,"_evtNamespace",{g:function(){return"."+x}})})),S}return If(t,e),t.Version="3.0.7",t}(PM),Q_="featureOptIn",q_="onCfgChangeReceive",$_="nonOverrideConfigs",eT="scheduleFetchTimeout";function tT(e,t,r,n){try{var i=n<r,o=(i&&(e=null),0==r?function(e,t,r,n,i,o,a){return Jm(e||{},Nm(arguments))}({},e):e);return o&&t&&!i&&pp(o,(function(e){var i=t[e];i&&(rp(o[e])&&rp(i)?o[e]=tT(o[e],i,++r,n):delete o[e])})),o}catch(e){}return e}var rT,nT="featureOptIn.",iT=".mode",oT=".onCfg",aT=".offCfg";var sT=void 0,lT=Mp(((rT={syncMode:1,blkCdnCfg:sT,customEvtName:sT,cfgUrl:sT,overrideSyncFn:sT,overrideFetchFn:sT})[q_]=sT,rT[eT]=18e5,rT[$_]={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},rT)),cT=function(e){function t(){var r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b=e.call(this)||this,v=(b.priority=198,!(b.identifier="AppInsightsCfgSyncPlugin"));return ng(t,b,(function(e,t){function b(){p=g=f=u=h=d=s=m=c=l=a=o=i=n=null}function M(t,r){if(t){if(n=t,r&&!v)return S();if(l&&!v)return e.core.updateCfg(t),!0}return!1}function x(){try{var e=cm();e&&px(e,null,null,o)}catch(e){}}function S(e){try{return g&&tp(g)?g(n,e):function(e,t,r){var n=cm();if(n&&n.CustomEvent)try{return function(e,t){return!!(e&&e.dispatchEvent&&t)&&(e.dispatchEvent(t),!0)}(n,function(e,t){var r,n=null;return t={detail:t||null},tp(CustomEvent)?n=new CustomEvent(e,t):(r=hm())&&r.createEvent&&(n=r.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),n}(e,{cfg:t||null,customDetails:r||null}))}catch(e){}return!1}(i,n,e)}catch(e){}return!1}function w(e){try{if(x(),e&&(i=e,l)){var t=cm();if(t)try{hx(t,i,(function(e){e=e&&e.detail,p&&e?p(e):(e=(e=e&&e.cfg)&&Fm(e)&&function(e){var t=null;try{e&&(t=tT(e,m,0,5))}catch(e){}return t}(e))&&M(e)}),o,!0)}catch(e){}}return!0}catch(e){}return!1}function _(e,t,r){var n=(n=cm())&&n.fetch||null;if(e&&n&&tp(n))try{var i=new Request(e,{method:"GET"});ig(fetch(i),(function(e){var n=e.value;e.rejected?C(t,400):n.ok?ig(n.text(),(function(e){C(t,n.status,e.value,r)})):C(t,n.status,null,r)}))}catch(e){}}function T(e,t,r){try{var n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&C(t,n.status,n.responseText,r)},n.onerror=function(){C(t,400)},n.ontimeout=function(){C(t,400)},n.send()}catch(e){}}function I(t,r,n){try{var i,o;200<=t&&t<400&&r?(h=0,(i=db())&&(o=function(e,t){try{var r,n;return e&&e.enabled?e[Q_]?(r=e[Q_],n=e.config||{},pp(r,(function(r){var i=function(e,t,r){var n,i,o,a,s,l,c,u,d,h;return t&&t.enabled?(n=(t=(t[Q_]||{})[e]||{mode:1}).mode,i=t.onCfg,t=t.offCfg,o=(r=(r||{})[e]||{mode:2}).mode,a=r.onCfg,s=r.offCfg,r=!!r.blockCdnCfg,l=nT+e+oT,c=nT+e+aT,u=o,d=a,h=s,r||(4===n||5===n?(u=4==n?3:2,d=i||a,h=t||s):2===n||2===o?(u=2,d=a||i,h=s||t):3===n?(u=3,d=a||i,h=s||t):1===n&&1===o&&(u=1)),(r={})[nT+e+iT]=u,r[l]=d,r[c]=h,r):null}(r,e,t.config[Q_]);qh(i)||(pp(i,(function(e,t){ry(n,e,t)})),function(e,t,r){var n=t[nT+e+iT],i=t[nT+e+oT];t=t[nT+e+aT],(e=2===n?t:3===n?i:null)&&pp(e,(function(e,t){ry(r,e,t)}))}(r,i,n))})),n):e.config:null}catch(r){}return null}(i.parse(r),e.core))&&M(o,n)):h++,h<3&&k()}catch(t){}}function C(e,t,r,n){try{e(t,r,n)}catch(e){}}function k(){!s&&d&&(s=uy((function(){s=null,y(a,I,c)}),d)).unref()}function L(){s&&s.cancel(),s=null,h=0}b(),e.initialize=function(s,b,v,M){var C,k,N;t.initialize(s,b,v,M),o=dx(Nb(e.identifier),b.evtNamespace&&b.evtNamespace()),C=s,k=e.identifier,N=e.core,e._addHook(qb(C,(function(){var e=IM(null,C,N);r=e.getExtCfg(k,lT),e=u,u=!!r.blkCdnCfg,qh(e)||e===u||(!u&&a?y&&y(a,I,c):L()),qh(l)&&(l=2===r.syncMode),qh(c)&&(c=1===r.syncMode),e=r.customEvtName||"ai_cfgsync",i!==e&&(l?w(e):(x(),i=e)),(a=qh(a)?r.cfgUrl:a)||(n=C,c&&S())}))),g=r.overrideSyncFn,f=r.overrideFetchFn,p=r[q_],m=r[$_],d=r[eT],y=function(){var e=f;return qh(e)&&(yb()?e=_:fb()&&(e=T)),e}(),h=0,a&&!u&&y&&y(a,I,c)},e.getCfg=function(){return n},e.pause=function(){v=!0,L()},e.resume=function(){v=!1,k()},e.setCfg=function(e){return M(e)},e.sync=S,e.updateEventListenerName=w,e._doTeardown=function(e,t){x(),L(),b()},e._getDbgPlgTargets=function(){return[c,l,i,u]},e.processTelemetry=function(t,r){e.processNext(t,r)}})),b}return If(t,e),t.__ieDyn=1,t}(PM),uT="duration",dT="tags",hT="deviceType",pT="data",mT="name",yT="traceID",fT="length",gT="stringify",bT="measurements",vT="dataType",MT="envelopeType",xT="toString",ST="onLine",wT="isOnline",_T="_get",TT="enqueue",IT="count",CT="eventsLimitInMem",kT="push",LT="emitLineDelimitedJson",NT="clear",ZT="batchPayloads",ET="createNew",zT="markAsSent",GT="clearSent",PT="bufferOverride",AT="BUFFER_KEY",RT="SENT_BUFFER_KEY",DT="MAX_BUFFER_SIZE",XT="sendPOST",OT="triggerSend",WT="diagLog",jT="_sender",YT="customHeaders",FT="maxBatchSizeInBytes",VT="onunloadDisableBeacon",HT="isBeaconApiDisabled",UT="alwaysUseXhrOverride",BT="enableSessionStorageBuffer",KT="_buffer",JT="onunloadDisableFetch",QT="disableSendBeaconSplit",qT="instrumentationKey",$T="convertUndefined",eI="maxBatchInterval",tI="baseType",rI="sampleRate",nI="_onError",iI="_onPartialSuccess",oI="_onSuccess",aI="itemsAccepted",sI="oriPayload",lI="setRequestHeader",cI="eventsSendRequest",uI="getSamplingScore",dI="baseType",hI="baseData",pI="properties",mI="true";function yI(e,t,r){return Hg(e,t,r,cp)}function fI(e,t,r){qh(e)||pp(e,(function(e,n){op(n)?r[e]=n:ep(n)?t[e]=n:ub()&&(t[e]=db()[gT](n))}))}function gI(e,t){qh(e)||pp(e,(function(r,n){e[r]=n||t}))}function bI(e,t,r,n){return yI(n=new ew(e,n,t),"sampleRate",r[Ix]),(r[hI]||{}).startTime&&(n.time=Fg(r[hI].startTime)),n.iKey=r.iKey,t=r.iKey.replace(/-/g,""),n[mT]=n[mT].replace("{0}",t),function(e,t,r){for(var n,i=r[dT]=r[dT]||{},o=t.ext=t.ext||{},a=t[dT]=t[dT]||[],s=((n=o.user)&&(yI(i,Ow.userAuthUserId,n.authId),yI(i,Ow.userId,n.id||n.localId)),(n=o.app)&&yI(i,Ow.sessionId,n.sesId),(n=o.device)&&(yI(i,Ow.deviceId,n.id||n.localId),yI(i,Ow[hT],n.deviceClass),yI(i,Ow.deviceIp,n.ip),yI(i,Ow.deviceModel,n.model),yI(i,Ow[hT],n[hT])),(n=t.ext.web)&&(yI(i,Ow.deviceLanguage,n.browserLang),yI(i,Ow.deviceBrowserVersion,n.browserVer),yI(i,Ow.deviceBrowser,n.browser),yI(t=(t=(t=r[pT]=r[pT]||{})[hI]=t[hI]||{})[pI]=t[pI]||{},"domain",n.domain),yI(t,"isManual",n.isManual?mI:null),yI(t,"screenRes",n.screenRes),yI(t,"userConsent",n.userConsent?mI:null)),(t=o.os)&&yI(i,Ow.deviceOS,t[mT]),(n=o.trace)&&(yI(i,Ow.operationParentId,n.parentID),yI(i,Ow.operationName,gS(e,n[mT])),yI(i,Ow.operationId,n[yT])),{}),l=a[fT]-1;0<=l;l--)pp(a[l],(function(e,t){s[e]=t})),a.splice(l,1);pp(a,(function(e,t){s[e]=t})),(t=_f(_f({},i),s))[Ow.internalSdkVersion]||(t[Ow.internalSdkVersion]=gS(e,"javascript:".concat(MI.Version),64)),r[dT]=Qg(t)}(e,r,n),r[dT]=r[dT]||[],Qg(n)}function vI(e,t){qh(t[hI])&&wv(e,1,46,"telemetryItem.baseData cannot be null.")}var MI={Version:"3.0.7"};function xI(e,t,r){vI(e,t);var n={},i={};return t[dI]!==tw[vT]&&(n.baseTypeSource=t[dI]),t[dI]===tw[vT]?(n=t[hI][pI]||{},i=t[hI][bT]||{}):t[hI]&&fI(t[hI],n,i),fI(t[pT],n,i),qh(r)||gI(n,r),r=t[hI][mT],r=new tw(e,r,n,i),n=new Tw(tw[vT],r),bI(e,tw[MT],t,n)}function SI(e,t){px(e,null,null,t)}var wI,_I,TI=function(){function e(t,r){var n=[],i=!1;this[_T]=function(){return n},this._set=function(e){return n=e},ng(e,this,(function(e){e[TT]=function(o){e[IT]()>=r[CT]?i||(wv(t,2,105,"Maximum in-memory buffer size reached: "+e[IT](),!0),i=!0):n[kT](o)},e[IT]=function(){return n[fT]},e.size=function(){for(var e=n[fT],t=0;t<n[fT];t++)e+=n[t][fT];return r[LT]||(e+=2),e},e[NT]=function(){i=!(n=[])},e.getItems=function(){return n.slice(0)},e[ZT]=function(e){return e&&0<e[fT]?r[LT]?e.join("\n"):"["+e.join(",")+"]":null},e[ET]=function(e,r,i){var o=n.slice(0),a=new(i?CI:II)(e=e||t,r=r||{});return Tm(o,(function(e){a[TT](e)})),a}}))}return e.__ieDyn=1,e}(),II=function(e){function t(r,n){return ng(t,r=e.call(this,r,n)||this,(function(e,t){e[zT]=function(e){t[NT]()},e[GT]=function(e){}})),r}return If(t,e),t.__ieDyn=1,t}(TI),CI=function(e){function t(r,n){var i=e.call(this,r,n)||this,o=!1,a=null==n?void 0:n.namePrefix,s=(n=n[PT]||{getItem:QS,setItem:qS}).getItem,l=n.setItem;return ng(t,i,(function(e,n){var i=d(t[AT]),c=d(t[RT]);function u(e,t){var r=[];return Tm(t,(function(t){tp(t)||-1!==km(e,t)||r[kT](t)})),r}function d(e){try{var t=s(r,e=a?a+"_"+e:e);if(t){var n=db().parse(t);if((n=ep(n)?db().parse(n):n)&&np(n))return n}}catch(t){wv(r,1,42," storage key: "+e+", "+Vg(t),{exception:Np(t)})}return[]}function h(e,t){try{e=a?a+"_"+e:e;var n=JSON[gT](t);l(r,e,n)}catch(t){l(r,e,JSON[gT]([])),wv(r,2,41," storage key: "+e+", "+Vg(t)+". Buffer cleared",{exception:Np(t)})}}(i=e._set(i.concat(c)))[fT]>t[DT]&&(i[fT]=t[DT]),h(t[RT],[]),h(t[AT],i),e[TT]=function(i){e[IT]()>=t[DT]?o||(wv(r,2,67,"Maximum buffer size reached: "+e[IT](),!0),o=!0):(n[TT](i),h(t.BUFFER_KEY,e[_T]()))},e[NT]=function(){n[NT](),h(t.BUFFER_KEY,e[_T]()),h(t[RT],[]),o=!1},e[zT]=function(n){h(t[AT],e._set(u(n,e[_T]())));var i=d(t[RT]);i instanceof Array&&n instanceof Array&&((i=i.concat(n))[fT]>t[DT]&&(wv(r,1,67,"Sent buffer reached its maximum size: "+i[fT],!0),i[fT]=t[DT]),h(t[RT],i))},e[GT]=function(e){e=u(e,d(t[RT])),h(t[RT],e)},e[ET]=function(n,i,o){o=!!o;var a=e[_T]().slice(0),s=d(t[RT]).slice(0),l=(n=n||r,i=i||{},e[NT](),new(o?t:II)(n,i));return Tm(a,(function(e){l[TT](e)})),o&&l[zT](s),l}})),i}return If(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(TI),kI=function(){function e(t){ng(e,this,(function(e){function r(e,o){var a="__aiCircularRefCheck",s={};if(e)if(e[a])wv(t,2,50,"Circular reference detected while serializing object",{name:o},!0);else if(e.aiDataContract)e[a]=!0,pp(e.aiDataContract,(function(i,a){var l=tp(a)?1&a():1&a,c=tp(a)?4&a():4&a,u=(a&=2,void 0!==e[i]),d=rp(e[i])&&null!==e[i];!l||u||a?c||(l=void 0)!==(l=d?(a?n:r)(e[i],i):e[i])&&(s[i]=l):wv(t,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:o})})),delete e[a];else if("measurements"===o)s=i(e,"number",o);else if("properties"===o)s=i(e,"string",o);else if("tags"===o)s=i(e,"string",o);else if(np(e))s=n(e,o);else{wv(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{db()[gT](e),s=e}catch(a){wv(t,1,48,a&&tp(a[xT])?a[xT]():"Error serializing object",null,!0)}}else wv(t,1,48,"cannot serialize object because it is null or undefined",{name:o},!0);return s}function n(e,n){if(e)if(np(e))for(var i=[],o=0;o<e[fT];o++){var a=r(e[o],n+"["+o+"]");i[kT](a)}else wv(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:n},!0);return i}function i(e,r,n){var i;return e&&(i={},pp(e,(function(e,o){"string"===r?void 0===o?i[e]="undefined":null===o?i[e]="null":o[xT]?i[e]=o[xT]():i[e]="invalid field: toString() is not defined.":"number"===r?void 0===o?i[e]="undefined":null===o?i[e]="null":(o=parseFloat(o),isNaN(o)?i[e]="NaN":i[e]=o):(i[e]="invalid field: "+n+" is of unknown type.",wv(t,1,i[e],null,!0))}))),i}e.serialize=function(e){e=r(e,"root");try{return db()[gT](e)}catch(e){wv(t,1,48,e&&tp(e[xT])?e[xT]():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),LI=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[fT]<8;)e=e.concat(e);for(var t=5381,r=0;r<e[fT];++r)t=(t<<5)+t+e.charCodeAt(r),t&=t;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),NI=function(){var e=new LI,t=new Pw;this[uI]=function(r){return r[dT]&&r[dT][t.userId]?e.getHashCodeScore(r[dT][t.userId]):r.ext&&r.ext.user&&r.ext.user.id?e.getHashCodeScore(r.ext.user.id):r[dT]&&r[dT][t.operationId]?e.getHashCodeScore(r[dT][t.operationId]):r.ext&&r.ext.telemetryTrace&&r.ext.telemetryTrace[yT]?e.getHashCodeScore(r.ext.telemetryTrace[yT]):100*Math.random()}},ZI=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,t=t||bv(null),(100<e||e<0)&&(t.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[rI]=e,this.samplingScoreGenerator=new NI}return e.prototype.isSampledIn=function(e){var t=this[rI];return null==t||100<=t||e.baseType===vw[vT]||this.samplingScoreGenerator[uI](e)<t},e}(),EI=void 0;function zI(e){try{return e.responseText}catch(e){}return null}var GI=Mp(((wI={endpointUrl:iv(cp,Lx+Nx)})[LT]=ov(),wI[eI]=15e3,wI[FT]=102400,wI.disableTelemetry=ov(),wI[BT]=ov(!0),wI.isRetryDisabled=ov(),wI[HT]=ov(!0),wI[QT]=ov(),wI.disableXhr=ov(),wI[JT]=ov(),wI[VT]=ov(),wI[qT]=EI,wI.namePrefix=EI,wI.samplingPercentage=iv((function(e){return!isNaN(e)&&0<e&&e<=100}),100),wI[YT]=EI,wI[$T]=EI,wI[CT]=1e4,wI[PT]=!1,wI.httpXHROverride={isVal:function(e){return e&&e[XT]},v:EI},wI[UT]=ov(),wI));(_I={})[tw.dataType]=xI,_I[ww.dataType]=function(e,t,r){vI(e,t);var n=t[hI].message,i=t[hI].severityLevel,o=t[hI][pI]||{},a=t[hI][bT]||{};return fI(t[pT],o,a),qh(r)||gI(o,r),r=new ww(e,n,i,o,a),n=new Tw(ww[vT],r),bI(e,ww[MT],t,n)},_I[xw.dataType]=function(e,t,r){vI(e,t);var n,i=(qh(i=t[hI])||qh(i[pI])||qh(i[pI][uT])?qh(t[pT])||qh(t[pT][uT])||(n=t[pT][uT],delete t[pT][uT]):(n=i[pI][uT],delete i[pI][uT]),t[hI]),o=(((t.ext||{}).trace||{})[yT]&&(o=t.ext.trace[yT]),i.id||o),a=i[mT],s=i.uri,l=i[pI]||{},c=i[bT]||{};return qh(i.refUri)||(l.refUri=i.refUri),qh(i.pageType)||(l.pageType=i.pageType),qh(i.isLoggedIn)||(l.isLoggedIn=i.isLoggedIn[xT]()),qh(i[pI])||pp(i[pI],(function(e,t){l[e]=t})),fI(t[pT],l,c),qh(r)||gI(l,r),i=new xw(e,a,s,n,l,c,o),r=new Tw(xw[vT],i),bI(e,xw[MT],t,r)},_I[_w.dataType]=function(e,t,r){vI(e,t);var n=t[hI],i=n[mT],o=n.uri||n.url,a=n[pI]||{},s=n[bT]||{};return fI(t[pT],a,s),qh(r)||gI(a,r),r=new _w(e,i,o,void 0,a,s,n),i=new Tw(_w[vT],r),bI(e,_w[MT],t,i)},_I[yw.dataType]=function(e,t,r){vI(e,t);var n=t[hI][bT]||{},i=t[hI][pI]||{};return fI(t[pT],i,n),qh(r)||gI(i,r),r=t[hI],r=yw.CreateFromInterface(e,r,i,n),i=new Tw(yw[vT],r),bI(e,yw[MT],t,i)},_I[vw.dataType]=function(e,t,r){vI(e,t);var n=(o=t[hI])[pI]||{},i=o[bT]||{},o=(fI(t[pT],n,i),qh(r)||gI(n,r),r=new vw(e,o[mT],o.average,o.sampleCount,o.min,o.max,o.stdDev,n,i),new Tw(vw[vT],r));return bI(e,vw[MT],t,o)},_I[Sw.dataType]=function(e,t,r){vI(e,t);var n,i=t[hI][bT]||{},o=t[hI][pI]||{};return fI(t[pT],o,i),qh(r)||gI(o,r),qh(r=t[hI])?(_v(e,"Invalid input for dependency data"),null):(n=r[pI]&&r[pI][kx]?r[pI][kx]:"GET",n=new Sw(e,r.id,r.target,r[mT],r[uT],r.success,r.responseCode,n,r.type,r.correlationContext,o,i),r=new Tw(Sw[vT],n),bI(e,Sw[MT],t,r))};var PI=_I,AI=function(e){function t(){var r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S,w,_,T,I,C,k,L,N,Z,E=e.call(this)||this,z=(E.priority=1001,E.identifier=Yw,0);return ng(t,E,(function(e,G){function P(e,t){for(var r,n,i=null,o=0;null==i&&o<e[fT];)n=e[o],C||1!==n?2===n&&yb(t)?i=X:mb()&&3===n&&(i=H):(ab=null===ab&&(ab=typeof XDomainRequest!==vf)&&fb()?ab&&!lb(um(nb),"withCredentials"):ab)?i=re:fb()&&(i=U),o++;return i?((r={})[XT]=i,r):null}function A(t,r,n,i){200===r&&t?e._onSuccess(t,t[fT]):i&&e[nI](t,i)}function R(t,r,n,i){void 0===i&&(i=!0);var o=D(r);return(t=t&&t[XT])&&o?(i&&e._buffer[zT](r),t(o,(function(e,t,n){return A(r,e,0,n)}),!n)):null}function D(t){var r,n;return np(t)&&0<t[fT]?(n=e._buffer[ZT](t),(r={})[pT]=n,r.urlString=h,r.headers=l,r.disableXhrSync=C,r.disableFetchKeepAlive=!k,r[sI]=t,r):null}function X(e,t,r){return K(e,t,!1)}function O(t){t=t?t[fT]:0,e[KT].size()+t>m&&(u&&!u[wT]()||e[OT](!0,null,10))}function W(t,n,i,o,a,s){var l=null;e._appId||(l=J(s))&&l.appId&&(e._appId=l.appId),(t<200||300<=t)&&0!==t?(301!==t&&307!==t&&308!==t||j(i))&&!M&&ee(t)?(Q(n),wv(e[WT](),2,40,". Response code "+t+". Will retry to send "+n[fT]+" items.")):e[nI](n,a):u&&!u[wT]()?M||(Q(n,10),wv(e[WT](),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!u.isOnline(),". Will retry to send ").concat(n.length," items."))):(j(i),206===t?(l=l||J(s))&&!M?e[iI](n,l):e[nI](n,a):(r=0,e[oI](n,o)))}function j(e){return!(10<=s||qh(e)||""===e||e===h)&&(h=e,++s,1)}function Y(e,t,r,n){try{e(t,r,n)}catch(e){}}function F(e,t){c?c(e,!1):H(D(e))}function V(t){var r=ym(),n=h,i=e[KT][ZT](t);return i=new Blob([i],{type:"text/plain;charset=UTF-8"}),(r=r.sendBeacon(n,i))&&e._onSuccess(t,t[fT]),r}function H(t,r,n){var i=t&&t[sI];if(np(i)&&0<i[fT]&&!V(i))if(Z)N&&N(i,!0),wv(e[WT](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var o=[],a=0;a<i[fT];a++){var s=i[a];V([s])||o[kT](s)}0<o[fT]&&(N&&N(o,!0),wv(e[WT](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function U(t,r,n){var i,o,a,s=t,c=new XMLHttpRequest,u=h;try{c[Tx]=!0}catch(t){}return c.open("POST",u,!n),c[lI]("Content-type","application/json"),ZS(u)&&c[lI](zx[6],zx[7]),Tm(vp(l),(function(e){c[lI](e,l[e])})),c.onreadystatechange=function(){var t=s[sI];e._xhrReadyStateChange(c,t,t[fT]),4===c.readyState&&o&&o(!0)},c.onerror=function(e){Y(r,400,{},te(c)),a&&a(e)},!n&&T&&(i=bg((function(e,t){o=e,a=t}))),c.send(t[pT]),i}function B(t,r){if(np(t)){for(var n=t[fT],i=0;i<t[fT];i++)n+=t[i][fT];var o=D(t);e._buffer[zT](t),z+n<=65e3?K(o,(function(e,r,n){return A(t,e,0,n)}),!0):mb()?H(o):(N&&N(t,!0),wv(e[WT](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function K(e,t,r){var n,i,o,a=h,s=e,c=(e=s[pT],new Blob([e],{type:"application/json"})),u=new Headers,d=e[fT],p=(e=!1,!1);ZS(a)&&u.append(zx[6],zx[7]),Tm(vp(l),(function(e){u.append(e,l[e])})),(c={method:"POST",headers:u,body:c})[Tx]=!0,r&&(e=c.keepalive=!0,z+=d),a=new Request(a,c);try{a[Tx]=!0}catch(e){}!r&&T&&(n=bg((function(e,t){i=e,o=t})));try{ig(fetch(a),(function(e){var n;r&&(z-=d,d=0),p||(p=!0,e.rejected?(Y(t,400,{},e.reason&&e.reason.message),o&&o(e.reason)):(n=e.value).ok?ig(n.text(),(function(e){var t=s[sI];W(n.status,t,n.url,t[fT],n.statusText,e.value||""),i&&i(!0)})):(Y(t,400,{},n.statusText),i&&i(!1)))}))}catch(e){p||(Y(t,400,{},Np(e)),o&&o(e))}return e&&!p&&(p=!0,Y(t,200,{}),i)&&i(!0),n}function J(t){try{if(t&&""!==t){var r=db().parse(t);if(r&&r.itemsReceived&&r.itemsReceived>=r[aI]&&r.itemsReceived-r.itemsAccepted===r.errors[fT])return r}}catch(r){wv(e[WT](),1,43,"Cannot parse the response. "+Vg(r),{response:t})}return null}function Q(t,i){if(void 0===i&&(i=1),t&&0!==t[fT]){var o=e[KT];o[GT](t),r++;for(var a,s=0,l=t;s<l.length;s++){var c=l[s];o[TT](c)}t=i,t=r<=1?10:(a=(Math.pow(2,r)-1)/2,a=Math.floor(Math.random()*a*10)+1,a*=t,Math.max(Math.min(a,3600),10)),a=Rm()+1e3*t,n=a,q()}}function q(){var t;o||i||(t=n?Math.max(0,n-Rm()):0,t=Math.max(x,t),o=uy((function(){o=null,e[OT](!0,null,1)}),t))}function $(){o&&o.cancel(),n=o=null}function ee(e){return 401===e||403===e||408===e||429===e||500===e||502===e||503===e||504===e}function te(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+zI(e)||0:t}function re(t,r,n){var i=t,o=(t=mm(),new XDomainRequest),a=i[pT];o.onload=function(){var t=i[sI];e._xdrOnLoad(o,t)},o.onerror=function(){Y(r,400,{},ne(o))},t=t&&t.location&&t.location.protocol||"",0!==h.lastIndexOf(t,0)?(wv(e[WT](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),e._buffer[NT]()):(t=h.replace(/^(https?:)/,""),o.open("POST",t),o.send(a))}function ne(e,t){return e?"XDomainRequest,Response:"+zI(e)||0:t}function ie(){e[jT]=null,e[KT]=null,e._appId=null,e._sample=null,m=z=s=r=0,_=v=EI,Z=k=C=M=g=y=i=!(l={}),N=L=S=b=f=p=h=d=c=a=o=n=u=null,Up(e,"_senderConfig",{g:function(){return qg({},GI)}})}ie(),e.pause=function(){$(),i=!0},e.resume=function(){i&&(i=!1,n=null,O(),q())},e.flush=function(t,r,n){if(void 0===t&&(t=!0),!i){$();try{return e[OT](t,null,n||1)}catch(t){wv(e[WT](),1,22,"flush failed, telemetry will not be collected: "+Vg(t),{exception:Np(t)})}}},e.onunloadFlush=function(){if(!i)if(y||I)try{return e[OT](!0,F,2)}catch(t){wv(e[WT](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Vg(t),{exception:Np(t)})}else e.flush(!1)},e.addHeader=function(e,t){l[e]=t},e.initialize=function(t,i,o,z){e.isInitialized()&&wv(e[WT](),1,28,"Sender is already initialized"),G.initialize(t,i,o,z);var A=e.identifier,D=(a=new kI(i.logger),r=0,n=null,e[jT]=null,s=0,e[WT]());d=dx(Nb("Sender"),i.evtNamespace&&i.evtNamespace()),u=function(e){var t,r=hm(),n=ym(),i=!1,o=!0,a=dx(Nb("OfflineListener"),e);try{s(mm())&&(i=!0),(i=!!(r&&(t=r.body||r).ononline&&s(t))||i)&&n&&!qh(n[ST])&&(o=n[ST])}catch(e){i=!1}function s(e){var t=!1;return e&&(t=hx(e,"online",l,a))&&hx(e,"offline",c,a),t}function l(){o=!0}function c(){o=!1}return(e={})[wT]=function(){var e=!0;return i?e=o:n&&!qh(n[ST])&&(e=n[ST]),e},e.isListening=function(){return i},e.unload=function(){var e=mm();e&&i&&(SI(e,a),r&&!Qh((e=r.body||r).ononline)&&SI(e,a),i=!1)},e}(d),e._addHook(qb(t,(function(t){(t=t.cfg).storagePrefix&&VS(t.storagePrefix);var r=IM(null,t,i).getExtCfg(A,GI),n=(Up(e,"_senderConfig",{g:function(){return r}}),p!==r.endpointUrl&&(h=p=r.endpointUrl),f&&f!==r[YT]&&Tm(f,(function(e){delete l[e.header]})),m=r[FT],y=(!1===r[VT]||!1===r[HT])&&mb(),I=r[UT],C=!!r.disableXhr,r[PT]),o=!!r[BT]&&(!!n||JS()),a=r.namePrefix,s=o!==S||o&&_!==a||o&&w!==n;if(e[KT]){if(s)try{e._buffer=e._buffer[ET](D,r,o)}catch(t){wv(e[WT](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Vg(t),{exception:Np(t)})}O()}else e[KT]=new(o?CI:II)(D,r);_=a,S=o,w=n,k=!r[JT]&&yb(!0),Z=!!r[QT],e._sample=new ZI(r.samplingPercentage,D),function(e,t){return!qh(t=t.disableInstrumentationKeyValidation)&&t?1:new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)}(b=r[qT],t)||wv(D,1,100,"Invalid Instrumentation key "+b),f=r[YT],!ZS(h)&&f&&0<f[fT]?Tm(f,(function(e){E.addHeader(e.header,e.value)})):f=null,T=r.enableSendPromise,s=r.httpXHROverride;var u,d=null,z=(d=P([1,2],!1),{sendPOST:U});L=function(e,t){return R(z,e,t)},N=function(e,t){return R(z,e,t,!1)},!r[HT]&&mb()&&(d=P([3],!1)),d=I?s:d||s||z,e[jT]=function(e,t){return R(d,e,t)},k&&(c=B),u=!I&&P([3,1],!0)||s,c=(c=!I&&c||!u?c:function(e,t){return R(u,e,t)})||L,g=r.disableTelemetry,v=r[$T]||EI,M=r.isRetryDisabled,x=r[eI]})))},e.processTelemetry=function(r,n){var i=(n=e._getTelCtx(n))[WT]();try{if(g)return;if(!r)return void wv(i,1,7,"Cannot send empty telemetry");if(r.baseData&&!r[tI])return void wv(i,1,70,"Cannot send telemetry without baseData and baseType");if(r[tI]||(r[tI]="EventData"),!e[jT])return void wv(i,1,28,"Sender was not initialized");if(!e._sample.isSampledIn(r))return void wv(i,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample[rI]});r[Ix]=e._sample[rI];var o=r.iKey||b,s=t.constructEnvelope(r,o,i,v);if(!s)return void wv(i,1,47,"Unable to create an AppInsights envelope");var l=!1;if(r[dT]&&r[dT][Cx]&&(Tm(r[dT][Cx],(function(e){try{e&&!1===e(s)&&(l=!0,_v(i,"Telemetry processor check returns false"))}catch(e){wv(i,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Vg(e),{exception:Np(e)},!0)}})),delete r[dT][Cx]),l)return;var c=a.serialize(s),u=e[KT];O(c),u[TT](c),q()}catch(r){wv(i,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Vg(r),{exception:Np(r)})}e.processNext(r,n)},e._xhrReadyStateChange=function(e,t,r){4===e.readyState&&W(e.status,t,e.responseURL,r,te(e),zI(e)||e.response)},e[OT]=function(t,r,n){var o;if(void 0===t&&(t=!0),!i)try{var a=e[KT];if(g)a[NT]();else if(0<a[IT]()){var s=a.getItems(),l=n||0,c=t,u=function(){var t="getNotifyMgr";return e.core[t]?e.core[t]():e.core._notificationManager}();if(u&&u[cI])try{u[cI](l,c)}catch(t){wv(e[WT](),1,74,"send request notification failed: "+Vg(t),{exception:Np(t)})}o=r?r.call(e,s,t):e[jT](s,t)}$()}catch(t){(!(a=pb())||9<a)&&wv(e[WT](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Vg(t),{exception:Np(t)})}return o},e._doTeardown=function(t,r){e.onunloadFlush(),$b(u,!1),ie()},e[nI]=function(t,r,n){wv(e[WT](),2,26,"Failed to send telemetry.",{message:r}),e._buffer&&e._buffer[GT](t)},e[iI]=function(t,r){for(var n=[],i=[],o=0,a=r.errors.reverse();o<a.length;o++){var s=a[o],l=t.splice(s.index,1)[0];(ee(s.statusCode)?i:n)[kT](l)}0<t[fT]&&e[oI](t,r[aI]),0<n[fT]&&e[nI](n,te(null,["partial success",r[aI],"of",r.itemsReceived].join(" "))),0<i[fT]&&(Q(i),wv(e[WT](),2,40,"Partial success. Delivered: "+t[fT]+", Failed: "+n[fT]+". Will retry to send "+i[fT]+" our of "+r.itemsReceived+" items"))},e[oI]=function(t,r){e._buffer&&e._buffer[GT](t)},e._xdrOnLoad=function(t,n){var i=zI(t);!t||i+""!="200"&&""!==i?(i=J(i))&&i.itemsReceived&&i.itemsReceived>i[aI]&&!M?e[iI](n,i):e[nI](n,ne(t)):(r=0,e[oI](n,0))}})),E}return If(t,e),t.constructEnvelope=function(e,t,r,n){return e=t===e.iKey||qh(t)?e:_f(_f({},e),{iKey:t}),(PI[e.baseType]||xI)(r,e,n)},t}(PM),RI="duration",DI="properties",XI="requestUrl",OI="inst",WI="length",jI="traceID",YI="spanID",FI="traceFlags",VI="context",HI="aborted",UI="traceId",BI="spanId",KI="_addHook",JI="core",QI="includeCorrelationHeaders",qI="getAbsoluteUrl",$I="headers",eC="requestHeaders",tC="setRequestHeader",rC="trackDependencyDataInternal",nC="startTime",iC="toLowerCase",oC="enableRequestHeaderTracking",aC="enableAjaxErrorStatusText",sC="enableAjaxPerfTracking",lC="maxAjaxCallsPerView",cC="excludeRequestFromAutoTrackingPatterns",uC="addRequestContext",dC="disableAjaxTracking",hC="ajaxPerfLookupDelay",pC="disableFetchTracking",mC="enableResponseHeaderTracking",yC="status",fC="statusText",gC="headerMap",bC="openDone",vC="sendDone",MC="requestSentTime",xC="abortDone",SC="getTraceId",wC="getTraceFlags",_C="method",TC="errorStatusText",IC="stateChangeAttached",CC="responseText",kC="responseFinishedTime",LC="CreateTrackItem",NC="response",ZC="getAllResponseHeaders",EC="getPartAProps",zC="perfMark",GC="name",PC="perfTiming",AC="exception",RC="ajaxDiagnosticsMessage",DC="correlationContext",XC="ajaxTotalDuration",OC="eventTraceCtx";function WC(e,t,r){return t=e[t],e=e[r],t&&e?PS(t,e):0}function jC(e,t,r,n,i){return(r=WC(r,n,i))?YC(e,t,Mw(r)):0}function YC(e,t,r){var n=0;return e&&t&&r&&((e.ajaxPerf=e.ajaxPerf||{})[t]=r,n=1),n}var FC,VC=function(){this[bC]=!1,this.setRequestHeaderDone=!1,this[vC]=!1,this[xC]=!1,this[IC]=!1},HC=function(){function e(t,r,n,i){var o=this,a=n;o[zC]=null,o.completed=!1,o.requestHeadersSize=null,o[eC]=null,o.responseReceivingDuration=null,o.callbackDuration=null,o[XC]=null,o[HI]=0,o.pageUrl=null,o[XI]=null,o.requestSize=0,o[_C]=null,o[yC]=null,o[MC]=null,o.responseStartedTime=null,o[kC]=null,o.callbackFinishedTime=null,o.endTime=null,o.xhrMonitoringState=new VC,o.clientFailure=0,o[jI]=t,o[YI]=r,o[FI]=null==i?void 0:i.getTraceFlags(),o[OC]=i?((n={})[UI]=i[SC](),n[BI]=i.getSpanId(),n[FI]=i[wC](),n):null,ng(e,o,(function(e){e.getAbsoluteUrl=function(){return e[XI]?function(e){return(e=CS(e))?e.href:undefined}(e[XI]):null},e.getPathName=function(){return e[XI]?bS(a,function(e,t){return e?e.toUpperCase()+" "+t:t}(e[_C],e[XI])):null},e[LC]=function(t,r,n){var i;return e.ajaxTotalDuration=Math.round(1e3*PS(e.requestSentTime,e.responseFinishedTime))/1e3,e[XC]<0?null:((i={id:"|"+e[jI]+"."+e[YI],target:e[qI]()})[GC]=e.getPathName(),i.type=t,i[nC]=null,i.duration=e[XC],i.success=200<=+e[yC]&&+e[yC]<400,i.responseCode=+e[yC],i[DI]={HttpMethod:e[_C]},i=(t=i)[DI],e[HI]&&(i[HI]=!0),e[MC]&&(t[nC]=new Date,t[nC].setTime(e[MC])),function(e,t){var r,n=e[PC],i=t[DI]||{},o=0,a="domainLookup",s="connect",l="request",c="response",u=s+"End",d=l+(d="Start"),h=c+"End",p="transferSize",m="encodedBodySize",y="decodedBodySize",f="serverTiming";n?(o=(o=(o=(o=(o=(o=(o|=jC(i,"End",n,"redirectStart","End"))|jC(i,a,n,"domainLookupStart","domainLookupEnd"))|jC(i,s,n,"connectStart",u))|jC(i,l,n,d,"requestEnd"))|jC(i,c,n,"responseStart",h))|jC(i,"networkConnect",n,"startTime",u))|jC(i,"sentRequest",n,d,h),a=(a=n[RI])||WC(n,"startTime",h)||0,o=(o|=YC(i,RI,a))|YC(i,"perfTotal",a),(s=n[f])&&(r={},Tm(s,(function(e,t){t=jg(e.name||""+t);var n=r[t]||{};pp(e,(function(e,t){!("name"!==e&&ep(t)||op(t))||!(t=n[e]?n[e]+";"+t:t)&&ep(t)||(n[e]=t)})),r[t]=n})),o|=YC(i,f,r)),o=(o=(o|=YC(i,p,n[p]))|YC(i,m,n[m]))|YC(i,y,n[y])):e[zC]&&(o|=YC(i,"missing",e.perfAttempts)),o&&(t[DI]=i)}(e,t),r&&0<vp(e.requestHeaders)[WI]&&(i[eC]=e[eC]),n&&(r=n())&&((n=r[DC])&&(t.correlationContext=n),r[gC]&&0<vp(r.headerMap)[WI]&&(i.responseHeaders=r[gC]),e[TC])&&(400<=e[yC]?(""!==(n=r.type)&&"text"!==n||(i.responseText=r.responseText?r[fC]+" - "+r.responseText:r[fC]),"json"===n&&(i.responseText=r.response?r[fC]+" - "+JSON.stringify(r[NC]):r[fC])):0===e[yC]&&(i.responseText=r[fC]||"")),t)},e[EC]=function(){var t,r=null,n=e[OC];return n&&(n[UI]||n[BI])&&(t=(r={})[Xw]=((t={})[jI]=n[UI],t.parentID=n[BI],t),qh(n[FI])||(t[FI]=n[FI])),r}}))}return e.__ieDyn=1,e}(),UC="ai.ajxmn.",BC="diagLog",KC="_ajaxData",JC="fetch",QC="Failed to monitor XMLHttpRequest",qC=", monitoring data for this ajax call ",$C=qC+"may be incorrect.",ek=qC+"won't be sent.",tk="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",rk="Failed to add custom defined request context as configured call back may missing a null check.",nk="Failed to calculate the duration of the ",ik=0,ok=function(e,t){return e&&t&&e[KC]?(e[KC].i||{})[t]:null},ak=function(e,t){var r=!1;return e&&(e=(e[KC]||{}).xh)&&Tm(e,(function(e){if(e.n===t)return r=!0,-1})),r};function sk(e,t){var r="";try{var n=ok(e,t);n&&n[XI]&&(r+="(url: '"+n[XI]+"')")}catch(e){}return r}function lk(e,t,r,n,i){wv(e[BC](),1,t,r,n,i)}function ck(e,t,r,n,i){wv(e[BC](),2,t,r,n,i)}function uk(e,t,r){return function(n){var i;lk(e,t,r,((i={ajaxDiagnosticsMessage:sk(n[OI],e._ajaxDataId)})[AC]=Np(n.err),i))}}function dk(e,t){return e&&t?iy(e,t):-1}function hk(e,t,r){var n={id:t,fn:r};return e.push(n),{remove:function(){Tm(e,(function(t,r){if(t.id===n.id)return e.splice(r,1),-1}))}}}function pk(e,t,r,n){var i=!0;return Tm(t,(function(t,o){try{!1===t.fn.call(null,r)&&(i=!1)}catch(t){wv(e&&e.logger,1,64,"Dependency "+n+" [#"+o+"] failed: "+Vg(t),{exception:Np(t)},!0)}})),i}var mk="*.blob.core.",yk=wp([mk+"windows.net",mk+"chinacloudapi.cn",mk+"cloudapi.de",mk+"usgovcloudapi.net"]),fk=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],gk=wp(((FC={})[lC]=500,FC[dC]=!1,FC[pC]=!1,FC[cC]=void 0,FC.disableCorrelationHeaders=!1,FC.distributedTracingMode=1,FC.correlationHeaderExcludedDomains=yk,FC.correlationHeaderDomains=void 0,FC.correlationHeaderExcludePatterns=void 0,FC.appId=void 0,FC.enableCorsCorrelation=!1,FC[oC]=!1,FC[mC]=!1,FC[aC]=!1,FC[sC]=!1,FC.maxAjaxPerfLookupAttempts=3,FC[hC]=25,FC.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],FC[uC]=void 0,FC.addIntEndpoints=!0,FC)),bk=function(e){function t(){var r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S,w,_,T,I,C,k,L,N,Z,E=e.call(this)||this;return E.identifier=t.identifier,E.priority=120,ng(t,E,(function(e,E){var z=E[KI];function G(){var t=cb();Z=n=r=!1,i=t&&t.host&&t.host[iC](),y=p=d=u=s=a=!1,b=g=!(f={}),x=M=v=h=c=o=null,w=m=l=0,_=[],T=[],S=Nb("ajaxData"),e._ajaxDataId=S,L=k=C=1,N=I=null}function P(e){var t=!0;return(e||I)&&Tm(I,(function(r){if(r[iC]()===e[iC]())return t=!1,-1})),t}function A(e,t,r){z(function(e,t,r){return e?wx(e[Mf],t,r,!1):null}(e,t,r))}function R(e,t,r){var n,i,o=!1,a=((ep(t)?t:(t||{}).url||"")||"")[iC]();return Tm(v,(function(e){var t=e;ep(e)&&(t=new RegExp(e)),o=o||t.test(a)})),o||(n=dk(a,"?"),i=dk(a,"#"),-1!==(n=-1===n||-1!==i&&i<n?i:n)&&(a=a.substring(0,n)),qh(e)?qh(t)||(o="object"==typeof t&&!0===t[Tx]||!!r&&!0===r[Tx]):o=!0===e[Tx]||!0===a[Tx],(o=!(o||!a||!ZS(a))||o)?f[a]||(f[a]=1):f[a]&&(o=!0)),o}function D(e,t,r){var i=!0,o=n;return qh(e)||(i=!0===r||!qh(t)),o&&i}function X(){var t=null;return!(t=e[JI]&&e[JI].getTraceCtx?e[JI].getTraceCtx(!1):t)&&c&&c.telemetryTrace?AS(c.telemetryTrace):t}function O(e,t){var r;t[XI]&&h&&p&&(r=ey())&&tp(r.mark)&&(e=h+e+"#"+ ++ik,r.mark(e),r=r.getEntriesByName(e))&&1===r[WI]&&(t[zC]=r[0])}function W(e,t,r,n){var i=t[zC],o=ey(),a=C,s=k,l=t[XI],c=0;!function u(){try{if(o&&i){c++;for(var d=null,h=o.getEntries(),p=h[WI]-1;0<=p;p--){var m=h[p];if(m){if("resource"===m.entryType)m.initiatorType!==e||-1===dk(m[GC],l)&&-1===dk(l,m[GC])||(d=m);else if("mark"===m.entryType&&m[GC]===i[GC]){t[PC]=d;break}if(m[nC]<i[nC]-1e3)break}}}!i||t[PC]||a<=c||!1===t.async?(i&&tp(o.clearMarks)&&o.clearMarks(i[GC]),t.perfAttempts=c,r()):uy(u,s)}catch(u){n(u)}}()}function j(t){var r="";try{qh(t)||(r+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){lk(e,15,"Failed to grab failed fetch diagnostics message",{exception:Np(t)})}return r}function Y(t,r,n,i,o,s){function l(t,r,i){(i=i||{}).fetchDiagnosticsMessage=j(n),r&&(i.exception=Np(r)),ck(e,t,nk+"fetch call"+ek,i)}o&&(o[kC]=GS(),o[yC]=r,W(JC,o,(function(){var t,c=o[LC]("Fetch",a,s);try{M&&(t=M({status:r,request:n,response:i}))}catch(t){ck(e,104,rk)}c?(void 0!==t&&(c[DI]=_f(_f({},c.properties),t)),t=o[EC](),F(T,e[JI],o,c,null,t)):l(14,null,{requestSentTime:o[MC],responseFinishedTime:o[kC]})}),(function(e){l(18,e,null)})))}function F(t,r,n,i,o,a){var s,l=!0;0<t[WI]&&((s={item:i})[DI]=o,s.sysProperties=a,s.context=n?n[VI]:null,s.aborted=!!n&&!!n[HI],l=pk(r,t,s,"initializer")),l&&e[rC](i,o,a)}G(),e.initialize=function(i,l,f,w){var _,G;!e.isInitialized()&&(E.initialize(i,l,f,w),x=dx(Nb("ajax"),l&&l.evtNamespace&&l.evtNamespace()),e[KI](qb(i,(function(r){var n=IM(null,r=r.cfg,e[JI]);o=n.getExtCfg(t.identifier,gk),L=o.distributedTracingMode,a=o[oC],s=o[aC],p=o[sC],m=o[lC],v=[].concat(o[cC]||[],!1!==o.addIntEndpoints?fk:[]),M=o[uC],d=0===L||1===L,u=1===L||2===L,p&&(n=r.instrumentationKey||"unkwn",h=5<n[WI]?UC+Ap(n,n[WI]-5)+".":UC+n+"."),g=!!o[dC],C=o.maxAjaxPerfLookupAttempts,k=o[hC],I=o.ignoreHeaders,N=o.appId}))),function(e,t){var r,n=!1,i=(fb()&&(n=!(qh(i=XMLHttpRequest[Mf])||qh(i.open)||qh(i.send)||qh(i.abort))),pb());if(n=!(i&&i<9)&&n)try{var o=new XMLHttpRequest,a={xh:[],i:((r={})[t]={},r)},s=(o[KC]=a,XMLHttpRequest[Mf].open);XMLHttpRequest[Mf].open=s}catch(t){n=!1,lk(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",((i={})[AC]=Np(t),i))}return n}(e,S)&&e[KI](qb(o,(function(){g=!!o[dC],a=o[oC],g||n||(A(XMLHttpRequest,"open",{ns:x,req:function(t,r,n,i){var o,l,c,u,d,h,p;g||(t=t[OI],o=ok(t,S),!R(t,n)&&D(t,o,!0)&&(o&&o.xhrMonitoringState[bC]||(u=t,h=(d=X())&&d[SC]()||sM(),p=Rp(sM(),0,16),(h=(u=(u=u[KC]=u[KC]||{xh:[],i:{}}).i=u.i||{})[S]=u[S]||new HC(h,p,e[BC](),null==(u=e.core)?void 0:u.getTraceCtx()))[FI]=d&&d[wC](),h[_C]=r,h[XI]=n,h.xhrMonitoringState[bC]=!0,h[eC]={},h.async=i,h[TC]=s,o=h),l=t,(c=o).xhrMonitoringState[IC]=hx(l,"readystatechange",(function(){var t,r,n;try{l&&4===l.readyState&&D(l,c)&&((n=ok(r=l,S))[kC]=GS(),n[yC]=r[yC],W("xmlhttprequest",n,(function(){try{var t,i=n[LC]("Ajax",a,(function(){var t,n,i;return(i={statusText:r[fC]})[gC]=null,i[DC]=function(t){try{var r=t[ZC]();if(null!==r&&-1!==dk(r[iC](),zx[8]))return zS(t.getResponseHeader(zx[0]))}catch(n){ck(e,18,tk,((r={})[RC]=sk(t,S),r[AC]=Np(n),r))}}(r),i.type=r.responseType,i[CC]=function(e){try{var t=e.responseType;if(""===t||"text"===t)return e[CC]}catch(e){}return null}(r),i.response=r[NC],y&&(t=r[ZC]())&&(t=Ym(t).split(/[\r\n]+/),n={},Tm(t,(function(e){var t=(e=e.split(": ")).shift();e=e.join(": "),P(t)&&(n[t]=e)})),i[gC]=n),i})),s=void 0;try{M&&(s=M({status:r[yC],xhr:r}))}catch(t){ck(e,104,rk)}i?(void 0!==s&&(i[DI]=_f(_f({},i.properties),s)),t=n[EC](),F(T,e[JI],n,i,null,t)):o(null,{requestSentTime:n[MC],responseFinishedTime:n[kC]})}finally{try{var l=(r[KC]||{i:{}}).i||{};l[S]&&(l[S]=null)}catch(t){}}}),(function(e){o(e,null)})))}catch(r){var i=Np(r);i&&-1!==dk(i[iC](),"c00c023f")||lk(e,16,QC+" 'readystatechange' event handler"+$C,((t={})[RC]=sk(l,S),t[AC]=i,t))}function o(t,n){(n=n||{}).ajaxDiagnosticsMessage=sk(r,S),t&&(n.exception=Np(t)),ck(e,14,nk+"ajax call"+ek,n)}}),x)))},hkErr:uk(e,15,QC+".open"+$C)}),A(XMLHttpRequest,"send",{ns:x,req:function(t,r){var n;g||D(t=t[OI],n=ok(t,S))&&!n.xhrMonitoringState[vC]&&(O("xhr",n),n[MC]=GS(),e[QI](n,void 0,void 0,t),n.xhrMonitoringState[vC]=!0)},hkErr:uk(e,17,QC+$C)}),A(XMLHttpRequest,"abort",{ns:x,req:function(e){g||D(e=e[OI],e=ok(e,S))&&!e.xhrMonitoringState[xC]&&(e[HI]=1,e.xhrMonitoringState[xC]=!0)},hkErr:uk(e,13,QC+".abort"+$C)}),A(XMLHttpRequest,"setRequestHeader",{ns:x,req:function(e,t,r){var n;g||(e=e[OI],(n=ok(e,S))&&D(e,n)&&(function(e,t,r){e&&(e=(e[KC]||{}).xh)&&e.push({n:t,v:r})}(e,t,r),a)&&P(t)&&n&&(n[eC][t]=r))},hkErr:uk(e,71,QC+".setRequestHeader"+$C)}),n=!0)}))),(f=function(){var e=cm();return!e||qh(e.Request)||qh(e.Request[Mf])||qh(e[JC])?null:e[JC]}())&&(_=cm(),G=f.polyfill,e[KI](qb(o,(function(){b=!!o[pC],y=o[mC],b||r?G&&!Z&&(z(wx(_,JC,{ns:x,req:function(e,t,r){R(null,t,r)}})),Z=!0):(z(wx(_,JC,{ns:x,req:function(t,i,o){var l,c;b||!r||R(null,i,o)||G&&n||(l=t.ctx(),c=function(t,r){var n=X(),i=n&&n[SC]()||sM(),o=Rp(sM(),0,16);(o=new HC(i,o,e[BC](),null==(i=e.core)?void 0:i.getTraceCtx()))[FI]=n&&n[wC](),o[MC]=GS(),o[TC]=s,""===(i=t instanceof Request?(t||{}).url||"":t)&&(n=cb())&&n.href&&(i=ty(n.href,"#")[0]),o[XI]=i,n="GET",r&&r[_C]?n=r[_C]:t&&t instanceof Request&&(n=t[_C]),o[_C]=n;var l={};return a&&new Headers((r?r[$I]:0)||t instanceof Request&&t[$I]||{}).forEach((function(e,t){P(t)&&(l[t]=e)})),o[eC]=l,O(JC,o),o}(i,o),(i=e[QI](c,i,o))!==o&&t.set(1,i),l.data=c)},rsp:function(t,r){var n;b||(n=t.ctx().data)&&(t.rslt=t.rslt.then((function(t){return Y(0,(t||{})[yC],r,t,n,(function(){var r,n;return(n={statusText:(t||{})[fC]})[gC]=null,n[DC]=function(t){if(t&&t[$I])try{return zS(t[$I].get(zx[0]))}catch(r){ck(e,18,tk,((t={fetchDiagnosticsMessage:j(t)})[AC]=Np(r),t))}}(t),y&&t&&(r={},t.headers.forEach((function(e,t){P(t)&&(r[t]=e)})),n[gC]=r),n})),t})).catch((function(e){throw Y(0,0,r,null,n,null,e.message||Np(e)),e})))},hkErr:uk(e,15,"Failed to monitor Window.fetch"+$C)},!0,gm())),r=!0)}))),G)&&(_[JC].polyfill=G),w=e[JI].getPlugin(jw))&&(c=w.plugin[VI])},e._doTeardown=function(){G()},e.trackDependencyData=function(t,r){F(T,e[JI],null,t,r)},e[QI]=function(t,r,n,s){var l,h,p,m,y=e._currentWindowHost||i;return function(e,t,r,n,i,o){var a;0<e[WI]&&((a={})[JI]=t,a.xhr=n,a.input=i,a.init=o,a.traceId=r[jI],a.spanId=r[YI],a.traceFlags=r[FI],a.context=r[VI]||{},a.aborted=!!r[HI],pk(t,e,n=a,"listener"),r[jI]=n[UI],r[YI]=n[BI],r[FI]=n[FI],r[VI]=n[VI])}(_,e[JI],t,s,r,n),r||""===r?(ES(o,t[qI](),y)&&(n=n||{},r=new Headers(n[$I]||r instanceof Request&&r[$I]||{}),d&&(l="|"+t[jI]+"."+t[YI],r.set(zx[3],l),a)&&(t[eC][zx[3]]=l),(h=N||c&&c.appId())&&(r.set(zx[0],zx[2]+h),a)&&(t[eC][zx[0]]=zx[2]+h),u&&(qh(p=t[FI])&&(p=1),m=fM(pM(t[jI],t[YI],p)),r.set(zx[4],m),a)&&(t[eC][zx[4]]=m),n[$I]=r),n):s?(ES(o,t[qI](),y)&&(d&&(ak(s,zx[3])?ck(e,71,"Unable to set ["+zx[3]+"] as it has already been set by another instance"):(l="|"+t[jI]+"."+t[YI],s[tC](zx[3],l),a&&(t[eC][zx[3]]=l))),(h=N||c&&c.appId())&&(ak(s,zx[0])?ck(e,71,"Unable to set ["+zx[0]+"] as it has already been set by another instance"):(s[tC](zx[0],zx[2]+h),a&&(t[eC][zx[0]]=zx[2]+h))),u)&&(qh(p=t[FI])&&(p=1),ak(s,zx[4])?ck(e,71,"Unable to set ["+zx[4]+"] as it has already been set by another instance"):(m=fM(pM(t[jI],t[YI],p)),s[tC](zx[4],m),a&&(t[eC][zx[4]]=m))),s):void 0},e[rC]=function(t,r,n){-1===m||l<m?(2!==L&&1!==L||"string"!=typeof t.id||"."===t.id[t.id[WI]-1]||(t.id+="."),qh(t[nC])&&(t[nC]=new Date),t=Aw(t,Sw.dataType,Sw.envelopeType,e[BC](),r,n),e[JI].track(t)):l===m&&lk(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++l},e.addDependencyListener=function(e){return hk(_,w++,e)},e.addDependencyInitializer=function(e){return hk(T,w++,e)}})),E}return If(t,e),t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.prototype.addDependencyInitializer=function(e){return null},t.identifier="AjaxDependencyPlugin",t}(PM),vk=function(){},Mk=function(){this.id="browser",this.deviceClass="Browser"},xk=function(e,t){var r=this,n=qb(e,(function(){var t=e.sdkExtension;r.sdkVersion=(t?t+"_":"")+"javascript:3.0.7"}));t&&t.add(n)},Sk=function(){},wk="sessionManager",_k="update",Tk="isUserCookieSet",Ik="isNewUser",Ck="getTraceCtx",kk="telemetryTrace",Lk="applySessionContext",Nk="applyApplicationContext",Zk="applyDeviceContext",Ek="applyOperationContext",zk="applyUserContext",Gk="applyOperatingSystemContxt",Pk="applyLocationContext",Ak="applyInternalContext",Rk="accountId",Dk="getSessionId",Xk="namePrefix",Ok="userCookiePostfix",Wk="idLength",jk="getNewId",Yk="length",Fk="automaticSession",Vk="authenticatedId",Hk="acquisitionDate",Uk="renewalDate",Bk="join",Kk="cookieSeparator",Jk="authUserCookieName",Qk=function(){},qk=function(){function e(t,r,n){var i,o,a,s,l=bv(r),c=Yv(r);ng(e,this,(function(e){var r=qb(t=t||{},(function(e){a=t.sessionExpirationMs||864e5,s=t.sessionRenewalMs||18e5;var r=t.sessionCookiePostfix||t[Xk]||"";i="ai_session"+r}));function u(e,r){var n=e[Hk],l=(e[Uk]=r,s),u=n+a-r;e=[e.id,n,r],n=0,n=u<l?u/1e3:l/1e3,u=t.cookieDomain||null,c.set(i,e[Bk]("|"),0<a?n:null,u),o=r}n&&n.add(r),e[Fk]=new Qk,e[_k]=function(){var r,n,d=Rm(),h=!1,p=e[Fk];!(h=p.id?h:!function(e){var t=!1,r=c.get(i);return(r&&tp(r.split)||(r=BS(l,i)))&&(t=function(e,t){var r=!1,n=", session will be reset",i=t.split("|");if(2<=i[Yk])try{var o=+i[1]||0,a=+i[2]||0;isNaN(o)||o<=0?wv(l,2,27,"AI session acquisition date is 0"+n):isNaN(a)||a<=0?wv(l,2,27,"AI session renewal date is 0"+n):i[0]&&(e.id=i[0],e[Hk]=o,e[Uk]=a,r=!0)}catch(e){wv(l,1,9,"Error parsing ai_session value ["+(t||"")+"]"+n+" - "+Vg(e),{exception:Np(e)})}return r}(e,r)),t||e.id}(p))&&0<a&&(r=d-p[Hk],n=d-p[Uk],h=(h=(h=r<0||n<0)||a<r)||s<n),h?(r=d,n=t[jk]||Tb,e.automaticSession.id=n(t[Wk]||22),e[Fk][Hk]=r,u(e[Fk],r),US()||wv(l,2,0,"Browser does not support local storage. Session durations will be inaccurate.")):(!o||6e4<d-o)&&u(p,d)},e.backup=function(){var t,r,n=e[Fk];t=n.id,r=n[Hk],n=n[Uk],KS(l,i,[t,r,n][Bk]("|"))}}))}return e.__ieDyn=1,e}(),$k=function(e,t,r,n){this.traceID=e||sM(),this.parentID=t,e=cb(),!r&&e&&e.pathname&&(r=e.pathname),this.name=gS(n,r)};function eL(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var tL=function(){function e(t,r,n){this.isNewUser=!1,this.isUserCookieSet=!1;var i,o=bv(r),a=Yv(r);ng(e,this,(function(r){Up(r,"config",{g:function(){return t}});var s=qb(t,(function(){var n=t[Ok]||"";i=e.userCookieName+n,(n=a.get(i))&&(r[Ik]=!1,0<(n=n.split(e[Kk]))[Yk])&&(r.id=n[0],r[Tk]=!!r.id),r.id||(r.id=l(),u(c(r.id)[Bk](e[Kk])),n=(t[Xk]||"")+"ai_session",function(e,t){var r=WS();if(null!==r)try{return r[Xx](t),!0}catch(t){DS=!1,wv(e,2,5,"Browser failed removal of local storage item. "+Vg(t),{exception:Np(t)})}}(o,n)),r[Rk]=t[Rk]||void 0,(n=a.get(e[Jk]))&&((n=(n=decodeURI(n)).split(e[Kk]))[0]&&(r[Vk]=n[0]),1<n[Yk])&&n[1]&&(r[Rk]=n[1])}));function l(){var e=t||{};return(e[jk]||Tb)(e[Wk]?t[Wk]:22)}function c(e){var t=Fg(new Date);return r.accountAcquisitionDate=t,r[Ik]=!0,[e,t]}function u(e){r[Tk]=a.set(i,e,31536e3)}n&&n.add(s),r.setAuthenticatedUserContext=function(t,n,i){void 0===i&&(i=!1),!eL(t)||n&&!eL(n)?wv(o,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0):(r[Vk]=t,t=r[Vk],n&&(r[Rk]=n,t=[r[Vk],r.accountId][Bk](e[Kk])),i&&a.set(e[Jk],encodeURI(t)))},r.clearAuthenticatedUserContext=function(){r[Vk]=null,r[Rk]=null,a.del(e[Jk])},r[_k]=function(t){r.id===t&&r[Tk]||u(c(t||l())[Bk](e[Kk]))}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),rL="ext",nL="tags";function iL(e,t){e&&e[t]&&0===vp(e[t])[Yk]&&delete e[t]}function oL(){return null}var aL,sL,lL,cL,uL,dL,hL,pL=function(){function e(t,r,n,i){var o=this,a=t.logger;ng(e,this,(function(e){var s,l,c;e.appId=oL,e[Dk]=oL,e.application=new vk,e.internal=new xk(r,i),pm()&&(e[wk]=new qk(r,t,i),e.device=new Mk,e.location=new Sk,e.user=new tL(r,t,i),l=s=void 0,n&&(s=n.getTraceId(),l=n.getSpanId(),c=n.getName()),e[kk]=new $k(s,l,c,a),e.session=new Qk),e[Dk]=function(){var t=e.session;return t&&ep(t.id)||(t=(e[wk]||{})[Fk])&&ep(t.id)?t.id:null},e[Lk]=function(t,r){Hg(Ug(t.ext,"app"),"sesId",e[Dk](),ep)},e[Gk]=function(t,r){Hg(t.ext,"os",e.os)},e[Nk]=function(t,r){var n=e.application;n&&(Hg(t=Ug(t,nL),Ow.applicationVersion,n.ver,ep),Hg(t,Ow.applicationBuild,n.build,ep))},e[Zk]=function(t,r){var n=e.device;n&&(Hg(t=Ug(Ug(t,rL),Dw),"localId",n.id,ep),Hg(t,"ip",n.ip,ep),Hg(t,"model",n.model,ep),Hg(t,"deviceClass",n.deviceClass,ep))},e[Ak]=function(t,r){var n,i=e.internal;i&&(Hg(n=Ug(t,nL),Ow.internalAgentVersion,i.agentVersion,ep),Hg(n,Ow.internalSdkVersion,gS(a,i.sdkVersion,64),ep),t.baseType!==gv.dataType&&t.baseType!==xw.dataType||(Hg(n,Ow.internalSnippet,i.snippetVer,ep),Hg(n,Ow.internalSdkSrc,i.sdkSrc,ep)))},e[Pk]=function(e,t){var r=o.location;r&&Hg(Ug(e,nL,[]),Ow.locationIp,r.ip,ep)},e[Ek]=function(t,r){var n=e[kk];n&&(Hg(t=Ug(Ug(t,rL),Xw,{traceID:void 0,parentID:void 0}),"traceID",n.traceID,ep,qh),Hg(t,"name",n.name,ep,qh),Hg(t,"parentID",n.parentID,ep,qh))},e.applyWebContext=function(e,t){var r=o.web;r&&Hg(Ug(e,rL),"web",r)},e[zk]=function(t,r){var n=e.user;n&&(Hg(Ug(t,nL,[]),Ow.userAccountId,n[Rk],ep),Hg(t=Ug(Ug(t,rL),Rw),"id",n.id,ep),Hg(t,"authId",n[Vk],ep))},e.cleanUp=function(e,t){(e=e.ext)&&(iL(e,Dw),iL(e,Rw),iL(e,"web"),iL(e,"os"),iL(e,"app"),iL(e,Xw))}}))}return e.__ieDyn=1,e}(),mL=null,yL=Mp(((aL={})[Rk]=mL,aL.sessionRenewalMs=18e5,aL.samplingPercentage=100,aL.sessionExpirationMs=864e5,aL.cookieDomain=mL,aL.sdkExtension=mL,aL.isBrowserLinkTrackingEnabled=!1,aL.appId=mL,aL[Dk]=mL,aL[Xk]=sL,aL.sessionCookiePostfix=sL,aL[Ok]=sL,aL[Wk]=22,aL[jk]=mL,aL)),fL=function(e){function t(){var r,n,i,o,a=e.call(this)||this;return a.priority=110,a.identifier=jw,ng(t,a,(function(e,t){function a(){o=i=n=r=null}a(),Up(e,"context",{g:function(){return o}}),e.initialize=function(a,s,l,c){var u,d,h;t.initialize(a,s,l,c),u=a,d=e.identifier,h=e.core,e._addHook(qb(u,(function(){var t=IM(null,u,h);u.storagePrefix&&VS(u.storagePrefix),r=t.getExtCfg(d,yL),e._extConfig=r}))),i=h[Ck](!1),o=new pL(h,r,i,e._unloadHooks),n=AS(e.context[kk],i),h.setTraceCtx(n),e.context.appId=function(){var e=h.getPlugin(Yw);return e?e.plugin._appId:null}},e.processTelemetry=function(t,r){var n,i,a,s;qh(t)||(r=e._getTelCtx(r),t.name===xw.envelopeType&&r.diagLog().resetInternalMessageCount(),(a=o||{}).session&&"string"!=typeof o.session.id&&a[wk]&&a[wk][_k](),(n=a.user)&&!n[Tk]&&n[_k](a.user.id),a=r,Ug(i=t,"tags",[]),Ug(i,"ext",{}),(s=e.context)[Lk](i,a),s[Nk](i,a),s[Zk](i,a),s[Ek](i,a),s[zk](i,a),s[Gk](i,a),s.applyWebContext(i,a),s[Pk](i,a),s[Ak](i,a),s.cleanUp(i,a),n&&n[Ik]&&(n[Ik]=!1,s=new gv(72,(ym()||{}).userAgent||""),function(e,t,r){Sv(e)[sf](1,r)}(r.diagLog(),0,s)),e.processNext(t,r))},e._doTeardown=function(e,t){(e=(e||{}).core())&&e[Ck]&&e[Ck](!1)===n&&e.setTraceCtx(i),a()}})),a}return If(t,e),t.__ieDyn=1,t}(PM),gL=fL,bL="AuthenticatedUserContext",vL="track",ML="snippet",xL="flush",SL="pollInternalLogs",wL="getPlugin",_L="evtNamespace",TL=vL+"Event",IL=vL+"Trace",CL=vL+"Metric",kL=vL+"PageView",LL=vL+"Exception",NL=vL+"DependencyData",ZL="set"+bL,EL="clear"+bL,zL="version",GL="queue",PL="connectionString",AL="endpointUrl",RL="instrumentationKey",DL="onunloadFlush",XL="context",OL="addHousekeepingBeforeUnload",WL="sendMessage",jL=[ML,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],YL="iKeyUsage",FL="CdnUsage",VL="SdkLoaderVer",HL=void 0,UL={disabled:!0,limit:rv({samplingRate:100,maxSendNumber:1}),interval:rv({monthInterval:3,daysOfMonth:[28]})},BL=((lL={})[PL]=HL,lL[AL]=HL,lL[RL]=HL,lL.diagnosticLogInterval=iv((function(e){return e&&0<e}),1e4),lL.featureOptIn=((cL={})[YL]={mode:2},cL[FL]={mode:2},cL[VL]={mode:2},cL),lL.throttleMgrCfg=rv(((uL={})[109]=rv(UL),uL[106]=rv(UL),uL[111]=rv(UL),uL[110]=rv(UL),uL)),lL),KL=function(){function e(t){var r,n,i,o,a,s,l,c,u,d,h,p,m,y,f=this;ng(e,this,(function(e){b(),Up(e,"config",{g:function(){return c}}),Tm(["pluginVersionStringArr","pluginVersionString"],(function(t){Up(e,t,{g:function(){return l?l[t]:null}})})),o=""+(t.sv||t[zL]||""),t[GL]=t[GL]||[],t[zL]=t[zL]||2;var g=Qb(t.config||{},BL);function b(){a=Nb("AISKU"),h=o=i=n=r=s=null,y=m=p=!1,d=new cT}function v(){s&&(function(e,t){yx([$M,qM,QM],null,t)}(0,s),function(e,t){t=dx(ex,t),yx([QM],null,t),yx([JM],null,t)}(0,s))}function M(e){l.addUnloadHook(e)}c=g.cfg,u=new J_,Up(e,"appInsights",{g:function(){return u}}),n=new gL,r=new bk,i=new AI,l=new FM,Up(e,"core",{g:function(){return l}}),M(qb(g,(function(){var e,t;c[PL]&&(t=(e=function(e){var t;return e?(e=e[Gx](";"),0<vp(e=Zm(e,(function(e,t){var r;return 2===(t=t[Gx]("="))[Px]&&(r=t[0][Ax](),t=t[1],e[r]=t),e}),{}))[Px]&&(e.endpointsuffix&&(t=e.location?e.location+".":"",e[Rx]=e[Rx]||"https://"+t+"dc."+e.endpointsuffix),e[Rx]=e[Rx]||Lx,ny(e[Rx],"/"))&&(e[Rx]=e[Rx].slice(0,-1)),e):{}}(c[PL])).ingestionendpoint,c[AL]=t?t+Nx:c[AL],c[RL]=e.instrumentationkey||c[RL])}))),e[ML]=t,e[xL]=function(e,t){var r;return aM(l,(function(){return"AISKU.flush"}),(function(){function n(){0==--i&&t()}e&&!t&&(r=bg((function(e){t=e})));var i=1;Tm(l.getChannels(),(function(t){t&&(i++,t[xL](e,n))})),n()}),null,e=void 0===e||e),r},e[DL]=function(e){void 0===e&&(e=!0),Tm(l.getChannels(),(function(t){t[DL]?t[DL]():t[xL](e)}))},e.loadAppInsights=function(t,a,s){return(t=void 0!==t&&t)&&function(){throw new(Cm=Cm||Am("UnsupportedError"))("Legacy Mode is no longer supported")}(),aM(e.core,(function(){return"AISKU.loadAppInsights"}),(function(){l.initialize(c,[i,n,r,u,d],a,s),Up(e,"context",{g:function(){return n[XL]}}),h=h||new $S(l);var t,f=function(){if(!dL){var e=null;try{var t=(document||{}).currentScript;t&&(e=t.src)}catch(e){}if(e){try{var r,n=e.toLowerCase();n&&(r="",Tm(["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"],(function(e,t){if(-1!==iy(n,e))return r="cdn"+(t+1),-1===iy(n,"/scripts/")&&(-1!==iy(n,"/next/")?r+="-next":-1!==iy(n,"/beta/")&&(r+="-beta")),dL=r+"",-1})))}catch(e){}dL=e}}return dL}();f&&e[XL]&&(e[XL].internal.sdkSrc=f),(t=e[ML])&&(f="",qh(o)||(f+=o),e[XL]&&e[XL].internal&&(e[XL].internal.snippetVer=f||"-"),pp(e,(function(e,r){ep(e)&&!tp(r)&&e&&"_"!==e[0]&&-1===km(jL,e)&&t[e]!==r&&(t[e]=r)}))),e.emptyQueue(),e[SL](),e[OL](e),M(qb(g,(function(){var t=!1;c.throttleMgrCfg[109]&&(t=!c.throttleMgrCfg[109].disabled),!h.isReady()&&c.extensionConfig&&c.extensionConfig[d.identifier]&&t&&h.onReadyState(!0),p||c[PL]||!$g(YL,c)||(h[WL](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),p=!0),!m&&e[XL].internal.sdkSrc&&-1!=e[XL].internal.sdkSrc.indexOf("az416426")&&$g(FL,c)&&(h[WL](110,"See Cdn support notice at aka.ms/JsActiveCdn"),m=!0),!y&&parseInt(o)<6&&$g(VL,c)&&(h[WL](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),y=!0)})))})),e},e.updateSnippetDefinitions=function(t){!function(e,t,r){if(e&&t&&rp(e)&&rp(t))for(var n in t)!function(n){var i;ep(n)&&(i=t[n],tp(i)?r&&!r(n)||(e[n]=Bg(t,n)):r&&!r(n)||(hp(e,n)&&delete e[n],Up(e,n,{g:function(){return t[n]},s:function(e){t[n]=e}})))}(n)}(t,e,(function(e){return e&&-1===km(jL,e)}))},e.emptyQueue=function(){try{if(np(e.snippet[GL])){for(var t=e.snippet[GL].length,r=0;r<t;r++)(0,e.snippet[GL][r])();e.snippet[GL]=void 0,delete e.snippet[GL]}}catch(t){t&&tp(t.toString)&&t.toString()}},e[OL]=function(t){var r,n;(pm()||dm())&&(n=!(r=function(){var r;t[DL](!1),tp(e.core[wL])&&(r=f.core[wL](jw))&&(r=r.plugin)&&r[XL]&&r[XL]._sessionManager&&r[XL]._sessionManager.backup()}),s=s||dx(a,l[_L]&&l[_L]()),M(qb(c,(function(e){var i=IM(null,e=e.cfg,(i=t.appInsights).core).getExtCfg(i.identifier||Fw);v(),e=e.disablePageUnloadEvents,i.disableFlushOnBeforeUnload||(function(e,t,r){return function(e,t,r,n){var i=!1;return t&&e&&np(e)&&!(i=mx(e,t,r,n))&&r&&0<r[yy]?mx(e,t,null,n):i}([$M,qM,QM],e,t,r)}(r,e,s)&&(n=!0),n=!!fx(r,e,s)||n)||function(){var e=ym();return!(!e||!e.product)&&"ReactNative"===e.product}()||wv(l.logger,1,19,"Could not add handler for beforeunload and pagehide"),n||i.disableFlushOnUnload||fx(r,e,s)}))))},e.getSender=function(){return i},e.unload=function(t,r,n){var i,o=!1;return t&&!r&&(i=bg((function(e){r=e}))),e[DL](t),v(),l.unload&&l.unload(t,(function(e){o||(o=!0,b(),r&&r(e))}),n),i},Jg(e,u,["getCookieMgr",TL,kL,"trackPageViewPerformance",LL,"_onerror",IL,CL,"startTrackPage","stopTrackPage","startTrackEvent","stopTrackEvent"]),Jg(e,(function(){return r}),[NL,"addDependencyListener","addDependencyInitializer"]),Jg(e,l,["addTelemetryInitializer",SL,"stopPollingInternalLogs",wL,"addPlugin",_L,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),Jg(e,(function(){var e=n[XL];return e?e.user:null}),[ZL,EL])}))}return e.prototype.addDependencyInitializer=function(e){return null},e}(),JL=function(){function e(e){this.options=e,!this.options.disableTelemetry&&h.appInsightsKey&&(this.appInsights=new KL({config:{instrumentationKey:h.appInsightsKey,disableExceptionTracking:!0,disableAjaxTracking:!0,isCookieUseDisabled:!0,maxBatchInterval:5e3}}),this.appInsights.loadAppInsights(),this.appInsights.addTelemetryInitializer((function(e){e.tags[Ow.applicationVersion]=Z.getFullVersion()})))}return e.prototype.trackEvent=function(e,t){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.trackEvent(e,t)},e.prototype.setAuthenticatedUserContext=function(e,t){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.setAuthenticatedUserContext(e,t)},e.prototype.trackException=function(e){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.trackException(e)},e.prototype.flush=function(e){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.flush(e)},e}(),QL=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.copyrightMessage=void 0,t.copyrightContent=void 0,t.customAttribution=void 0,t.showFeedbackLink=!0,t.showLogo=!0,t}return QL(t,e),t}(T),$L=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),eN=function(e){function t(r){var n=e.call(this)||this;return n.textAttribution=function(e){return[n.options.copyrightMessage,n.options.customAttribution].filter((function(e){return e})).join("")},n.updateFeedbackLink=function(){var e,r;n.feedbackAnchor&&n.map&&(e=(r=n.map.getCamera()).center,r=r.zoom,n.feedbackAnchor.href="".concat(t.feedbackLink,"&cp=").concat(e[1],"~").concat(e[0],"&lvl=").concat(r+1))},n.options=(new qL).merge(r),n}return $L(t,e),t.prototype.onAdd=function(e){return this.map=e,this.container=this.buildContainer(e,l.auto),this.container.className="map-copyright",this.copyrightDiv=this.buildCopyrightDiv(),this.copyrightDiv.className="azure-map-copyright",this.container.appendChild(this.copyrightDiv),this.options.showLogo&&this.addRemoveLogo(!0),this.options.showFeedbackLink&&this.addRemoveFeedbackDiv(!0),this.container},t.prototype.onRemove=function(){e.prototype.onRemove.call(this),delete this.container},t.prototype.setOptions=function(e){var t,r=this;(e=(new qL).merge(this.options,e)).copyrightMessage===this.options.copyrightMessage&&e.customAttribution===this.options.customAttribution||(this.copyrightDiv.innerText=this.textAttribution(e)),e.copyrightContent!==this.options.copyrightContent&&(this.options.copyrightContent&&(t=Array.from(this.copyrightDiv.children).find((function(e){return e===r.options.copyrightContent})),this.copyrightDiv.removeChild(t)),0<this.copyrightDiv.childNodes.length?this.copyrightDiv.insertBefore(e.copyrightContent,this.copyrightDiv.childNodes[0]):this.copyrightDiv.appendChild(e.copyrightContent),this.options.copyrightContent=e.copyrightContent),!e.showLogo&&this.logoAnchor?this.addRemoveLogo(!1):e.showLogo&&!this.logoAnchor&&this.addRemoveLogo(!0),!e.showFeedbackLink&&this.feedbackAnchor?this.addRemoveFeedbackDiv(!1):e.showFeedbackLink&&!this.feedbackAnchor&&this.addRemoveFeedbackDiv(!0),this.options=e},t.prototype.getDefaultAttributions=function(){var e=(new Date).getFullYear(),t=["".concat(e," TomTom")];return this.options.showLogo||t.push("".concat(e," Microsoft")),t},t.prototype.buildCopyrightDiv=function(){var e=document.createElement("div");return e.innerText=this.textAttribution(this.options)||"",e},t.prototype.buildFeedbackLink=function(){var e=document.createElement("a");return e.setAttribute("alt","Provide Map Data Feedback"),e.setAttribute("aria-label","Provide Map Data Feedback"),e.href=t.feedbackLink,e.target="_blank",e.rel="noopener",e.className="azure-map-feedback",e},t.prototype.addRemoveFeedbackDiv=function(e){e?(this.feedbackAnchor=this.buildFeedbackLink(),this.tooltip=E("Provide Map Data Feedback"),this.container.appendChild(this.feedbackAnchor),this.container.appendChild(this.tooltip),z(this.tooltip,this.feedbackAnchor),null!=(e=null==(e=this.map)?void 0:e.events)&&e.add("moveend",this.updateFeedbackLink)):(this.feedbackAnchor.remove(),this.tooltip.remove(),delete this.tooltip,delete this.feedbackAnchor,null!=(e=null==(e=this.map)?void 0:e.events)&&e.remove("moveend",this.updateFeedbackLink))},t.prototype.addRemoveLogo=function(e){e?(this.logoAnchor=document.createElement("a"),this.logoAnchor.className="azure-map-logo",this.logoAnchor.href="https://aka.ms/azuremaps",this.logoAnchor.setAttribute("aria-label","Visit azure.microsoft.com"),this.logoAnchor.setAttribute("target","_blank"),this.container.appendChild(this.logoAnchor),this.logoTooltip=E("Visit azure.microsoft.com"),this.container.appendChild(this.logoTooltip),z(this.logoTooltip,this.logoAnchor)):(this.logoAnchor.remove(),this.logoTooltip.remove(),delete this.logoAnchor)},t.feedbackLink="https://aka.ms/azuremapsdatafeedback?feedbackep=UrlAzureMapsWebSdk",t}(W),tN=function(){function e(){}return e.throwOnError=function(e,t){function r(e){throw n.off("error",r),e.error}var n=e instanceof MX?e._getMap():e;return n.on("error",r),e=t(),n.off("error",r),e},e.tryCatch=function(e,t,r,n){try{return this.throwOnError(e,t)}catch(e){return r(e)}finally{"function"==typeof n&&n()}},e.tryFinally=function(e,t,r){try{return this.throwOnError(e,t)}finally{r()}},e}(),rN=n&&n.__assign||function(){return(rN=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},nN=function(){function e(e){this.map=e}return e.prototype.request=function(e){var t;return e={domain:this.map.getServiceOptions().domain,path:"reverseGeocode",queryParams:rN({"api-version":"2023-06-01",coordinates:"".concat(cl(e.position[0]),",").concat(ll(e.position[1]))},e.style.view&&{view:e.style.view}),headers:{"Accept-Language":e.style.language}},new L((null==(t=this.map.authentication)?void 0:t.signRequest(e))||e).get()},e}(),iN=function(){function e(){this._labelCache={},this._labelIdx={},this._preloadedCache=new Set}return e.prototype.cache=function(e,t,r,n){n="".concat(e,"_").concat(r[0],"_").concat(r[1],"_").concat(n),this._labelIdx[t.labelType]||(this._labelIdx[t.labelType]=[],this._labelCache[t.labelType]=[]),-1===this._labelIdx[t.labelType].indexOf(n)&&(this._labelCache[t.labelType].push({name:e,radius:t.radius,minZoom:t.minZoom,maxZoom:t.maxZoom||24,position:r}),this._labelIdx[t.labelType].push(n))},e.prototype.getNearestLabel=function(e,t,r){var n=null,i=this._labelCache[e];if(i)for(var o,a=1/0,s=0,l=i.length;s<l;s++)r>=i[s].minZoom&&r<=i[s].maxZoom&&(o=Qs(i[s].position,t))<=i[s].radius&&o<=a&&(a=o,n=i[s]);return n},e.prototype._preloadCache=function(e){if(!this._preloadedCache.has(e)){this._preloadedCache.add(e);var t={source:[],labelType:"water",minZoom:0,radius:395e4,polygonSources:[]},r=e,n=r.indexOf("-");switch(r=-1!==n?r.substr(0,n):r){case"fr":this.cache("Ocan Pacifique",t,[-170,32],e),this.cache("Ocan Pacifique",t,[-138,-27],e),this.cache("Ocan Atlantique",t,[-40,32],e),this.cache("Ocan Atlantique",t,[-17,-29],e);break;case"es":this.cache("Ocan Pacifique",t,[-170,32],e),this.cache("Ocan Pacifique",t,[-138,-27],e),this.cache("Ocano Atlntico",t,[-40,32],e),this.cache("Ocano Atlntico",t,[-17,-29],e);break;case"pt":this.cache("Oceano Pacfico",t,[-170,32],e),this.cache("Oceano Pacfico",t,[-138,-27],e),this.cache("Oceano Atlntico",t,[-40,32],e),this.cache("Oceano Atlntico",t,[-17,-29],e);break;case"ja":this.cache("",t,[-170,32],e),this.cache("",t,[-138,-27],e);break;case"en":this.cache("Pacific Ocean",t,[-170,32],e),this.cache("Pacific Ocean",t,[-138,-27],e),this.cache("Atlantic Ocean",t,[-40,32],e),this.cache("Atlantic Ocean",t,[-17,-29],e),this.cache("Indian Ocean",t,[77,-26],e)}}},e}(),oN=n&&n.__awaiter||function(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},aN=n&&n.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var c=[s,l];if(r)throw new TypeError("Generator is already executing.");for(;o=a&&c[a=0]?0:o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(l){c=[6,l],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},sN=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},lN=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},cN=function(){function e(t,r){var n=this;this._disposed=!1,this._lastHeadingTime=0,this._actionQueue=[],this._pointerUpdateDelay=3e3,this._camUpdateDelay=1e3,this._headUpdateLimit=1e3,this._controlEventDelay=500,this._moveThreshold=25,this._headingThreshold=5,this._pitchThreshold=5,this._roadPixelRadius=120,this._minRoadDistance=25,this._minIntersectionPixelDistance=50,this._labelConfig=[{source:["Ocean label","Ocean name"],labelType:"water",minZoom:0,radius:395e4,polygonSources:["Ocean","Ocean or sea"]},{source:["Sea label"],labelType:"water",minZoom:3,radius:1e6,polygonSources:["Sea","Ocean or sea"]},{source:["Country name"],labelType:"country",minZoom:0,maxZoom:5,radius:3e5},{source:["State name","State name short"],labelType:"state",minZoom:4,maxZoom:7,radius:3e5},{source:["Capital city","Large city"],labelType:"city",minZoom:8,radius:4e4},{source:["Medium city"],labelType:"city",minZoom:8,radius:3e4},{source:["Small city"],labelType:"city",minZoom:8,radius:2e4},{source:["Island label"],labelType:"city",minZoom:8,radius:1e4},{source:["Town"],labelType:"city",minZoom:10,radius:1e4},{source:["Village"],labelType:"neighbourhood",minZoom:12,radius:6e3},{source:["Amusement area label"],labelType:"poi",minZoom:14,radius:2e3,polygonSources:["Amusement park"]},{source:["Hospital label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Hospital"]},{source:["Shopping centre label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Shopping"]},{source:["Stadium label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Stadium"]},{source:["University/School label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["University"]},{source:["Zoo label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Zoo"]},{source:["Airport Label","Airport name","Airport POI"],labelType:"majorPoi",minZoom:11,radius:3e3,polygonSources:["Airport","Runway"]},{source:["National park label"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["National or state park","National park","Forest"]},{source:["Reservation label"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["Reservation"]}],this._labelCache=new Set(["city","state","country","water","majorPoi"]),this._roadLayers=new Set(["Connecting road","Connecting road tunnel","International road","International road tunnel","Local road","Local road tunnel","Major local road","Major local road tunnel","Major road","Major road tunnel","Minor local road","Minor local road tunnel","Motorway","Motorway tunnel","Secondary road","Secondary road tunnel","Toll connecting road","Toll connecting road tunnel","Toll international road","Toll international road tunnel","Toll local road","Toll local road tunnel","Toll major local road","Toll major local road tunnel","Toll major road","Toll major road tunnel","Toll minor local road","Toll minor local road tunnel","Toll motorway","Toll motorway tunnel","Toll secondary road","Toll secondary road tunnel"]),this._returnDetailedDescriptions=!1,this._shortcutListener=function(e){return oN(n,void 0,void 0,(function(){var t,r,n;return aN(this,(function(i){switch(i.label){case 0:return e.altKey&&e.ctrlKey&&68===e.keyCode?(this._returnDetailedDescriptions=!this._returnDetailedDescriptions,n=this._map.getCamera(),r=this._map.getStyle(),t=r.language.toLowerCase(),r=r.style.toLowerCase(),[4,this._getLocDesc(n,t,r)]):[3,2];case 1:n=i.sent(),this._descCallback(n),i.label=2;case 2:return[2]}}))}))},this._onRotate=function(){n._rotateTimeout||(Date.now()-n._lastHeadingTime>=n._headUpdateLimit?n._rotateTimeout=setTimeout(n._updateHeading,V.RotationDuration+25):n._rotateTimeout=setTimeout(n._updateHeading,n._headUpdateLimit-(Date.now()-n._lastHeadingTime)))},this._onMove=function(){n._moveTimeout&&(clearTimeout(n._moveTimeout),delete n._moveTimeout),n._controlTimeout&&(clearTimeout(n._controlTimeout),delete n._controlTimeout)},this._onMoveEnd=function(e){e.fromControl?n._controlTimeout=setTimeout(n._updateCam,n._controlEventDelay):n._updateCam()},this._onStyleData=function(){setTimeout(n._updateStyle)},this._onPointerDown=function(e){n._lastPointerPos=n._getEventPos(e),n._pointerTimeout=setTimeout((function(){return oN(n,void 0,void 0,(function(){var e,t,r;return aN(this,(function(n){switch(n.label){case 0:return t=this._map.getStyle(),e=t.language.toLowerCase(),t=t.style.toLowerCase(),(r=this._map.getCamera()).center=this._map.pixelsToPositions([this._lastPointerPos])[0],[4,this._getLocDesc(r,e,t)];case 1:return r=n.sent(),this._descCallback(r),this._onPointerUp(),[2]}}))}))}),n._pointerUpdateDelay),n._map.getCanvas().addEventListener("mousemove",n._onPointerMove),n._map.getCanvas().addEventListener("touchmove",n._onPointerMove),n._map.getCanvas().addEventListener("mouseup",n._onPointerUp),n._map.getCanvas().addEventListener("touchend",n._onPointerUp)},this._onPointerMove=function(e){e=n._getEventPos(e);var t=n._lastPointerPos[0]-e[0];e=n._lastPointerPos[1]-e[1],Math.sqrt(t*t+e*e)>n._moveThreshold&&n._onPointerUp()},this._onPointerUp=function(){clearTimeout(n._pointerTimeout),delete n._pointerTimeout,n._map.getCanvas().removeEventListener("mousemove",n._onPointerMove),n._map.getCanvas().removeEventListener("touchmove",n._onPointerMove),n._map.getCanvas().removeEventListener("mouseup",n._onPointerUp),n._map.getCanvas().removeEventListener("touchend",n._onPointerUp)},this._updateHeading=function(){var e,t=n._map.getCamera();n._lastHead&&!n._checkHeadingThreshold(t.bearing,n._lastHead)||(e=n._getHeadingDesc(t),n._lastHead=t.bearing,n._descCallback("<p>Map heading ".concat(e,".</p>")),n._lastHeadingTime=Date.now()),delete n._rotateTimeout},this._updateStyle=function(){return oN(n,void 0,void 0,(function(){var t,r,n,i;return aN(this,(function(o){switch(o.label){case 0:return t=this._map.getCamera(),n=this._map.getStyle(),r=n.language.toLowerCase(),n=n.style.toLowerCase(),this._lastLang===r?[3,2]:(e._labelCache._preloadCache(r),[4,this._getLocDesc(t,r,n)]);case 1:return i=o.sent(),[3,4];case 2:return this._lastStyle===n||"blank"!==this._lastStyle?[3,4]:[4,this._getLocDesc(t,r,n)];case 3:i=o.sent(),o.label=4;case 4:return this._lastLang=r,this._lastStyle=n,i&&this._descCallback(i),[2]}}))}))},this._updateCam=function(e){void 0===e&&(e=!1);var t,r,i,o=n._map.getCamera();(!n._lastCam||0<n._actionQueue.length||n._checkThresholds(o,n._lastCam))&&(i=n._map.getStyle(),t=i.language.toLowerCase(),r=i.style.toLowerCase(),(i=n._getActionDesc(o))&&n._actionQueue.push(i),n._lastCam=o,n._moveTimeout&&(clearTimeout(n._moveTimeout),delete n._moveTimeout),n._moveTimeout=setTimeout((function(){return oN(n,void 0,void 0,(function(){var e;return aN(this,(function(n){switch(n.label){case 0:return clearTimeout(this._rotateTimeout),delete this._rotateTimeout,[4,this._getLocDesc(o,t,r)];case 1:return e=n.sent(),0<this._actionQueue.length?(this._descCallback("<p>Map ".concat(this._actionQueue.join(", then "),".</p>").concat(e)),this._actionQueue=[]):this._descCallback(e),[2]}}))}))}),e?0:n._camUpdateDelay))},this._map=t,this._restFallback=t.getServiceOptions().enableAccessibilityLocationFallback,this._descCallback=r,this._reverseSearch=new nN(t),e._labelCache||(e._labelCache=new iN),this._lastLang=this._map.getStyle().language.toLowerCase(),e._labelCache._preloadCache(this._lastLang),this._map.events.addOnce("idle",(function(){var t;n._disposed||(n._updateCam(!0),n._baseVectorTileSourceId=e._baseVectorTileSourceIds.find((function(e){return n._map.sources.getById(e)})),"bing-mvt"===n._baseVectorTileSourceId&&(n._labelConfig=e._labelConfigBing,n._roadLayers=e._roadLayersBing),n._polygonStyleLayer=n._labelConfig.reduce((function(e,t){return t.polygonSources&&e.push.apply(e,lN([],sN(t.polygonSources),!1)),e}),[]),(t=n._map._getMap()).on("move",n._onMove),t.on("moveend",n._onMoveEnd),t.on("styledata",n._onStyleData),t.on("rotate",n._onRotate),(t=n._map.getCanvas()).addEventListener("mousedown",n._onPointerDown),t.addEventListener("touchstart",n._onPointerDown))})),this._map.getMapContainer().addEventListener("keydown",this._shortcutListener)}return e.prototype.dispose=function(){var e;this._disposed=!0,((e=this._map._getMap()).off("move",this._onMove),e.off("moveend",this._onMoveEnd),e.off("styledata",this._onStyleData),e.off("rotate",this._onRotate),e=this._map.getCanvas()).removeEventListener("mousedown",this._onPointerDown),e.removeEventListener("touchstart",this._onPointerDown),this._map.getMapContainer().removeEventListener("keydown",this._shortcutListener)},e.prototype._getEventPos=function(e){var t,r;return"touches"in e?(t=e.touches[0],r=e.target.getBoundingClientRect(),[t.pageX-r.left,t.pageY-r.top]):[e.offsetX,e.offsetY]},e.prototype._checkThresholds=function(e,t){return this._checkZoomThreshold(e.zoom,t.zoom)||this._checkPitchThreshold(e.pitch,t.pitch)||this._checkLocThreshold(e.center,t.center)||this._checkHeadingThreshold(e.bearing,t.bearing)},e.prototype._checkZoomThreshold=function(e,t){return this._round(e)!==this._round(t)},e.prototype._checkPitchThreshold=function(e,t){return Math.abs(e-t)>=this._pitchThreshold},e.prototype._checkLocThreshold=function(e,t){return e=(t=sN(this._map.positionsToPixels([t,e]),2))[0],t=t[1],Ts.getDistance(e,t)>=this._moveThreshold},e.prototype._checkHeadingThreshold=function(e,t){return e<0&&(e+=360),t<0&&(t+=360),(e=180<(e=Math.abs(e-t))?360-e:e)>=this._headingThreshold},e.prototype._getLocDesc=function(t,r,n){return oN(this,void 0,void 0,(function(){var i,o,a,s,l,c,u,d,h,p=this;return aN(this,(function(m){switch(m.label){case 0:return"blank"===n?[3,3]:this._map._getMap().loaded()?[3,2]:[4,new Promise((function(e){return p._map._getMap().once("idle",e)}))];case 1:m.sent(),m.label=2;case 2:for(i={},o=this._map.positionsToPixels([t.center])[0],tN.tryCatch(this._map,(function(){var e=p._map._getMap();a=e.queryRenderedFeatures(o,{layers:p._polygonStyleLayer.filter((function(t){return e.getLayer(t)})),filter:["==",["geometry-type"],"Polygon"]})}),(function(){})),s=null,a&&0<a.length&&(s=a[0]),l=null,c=0,u=this._labelConfig.length;c<u;c++)d=this._labelConfig[c],t.zoom>=d.minZoom?d.polygonSources?s&&-1!==d.polygonSources.indexOf(s.layer["source-layer"])?(l=d.labelType,this._getClosestLabel(d,t,r,i,!1)):this._getClosestLabel(d,t,r,i,!0):this._getClosestLabel(d,t,r,i,!1):this._getClosestLabel(d,t,r,i,!0);return 8<=t.zoom&&this._processRoads(i,t,r),this._labelCache.forEach((function(r){!i[r]&&(h=null,h="water"!==r&&"majorPoi"!==r||r===l?e._labelCache.getNearestLabel(r,t.center,t.zoom):h)&&(i[r]=h.name)})),[2,this._processLocInfo(t,l,i,!0,this._restFallback)];case 3:return[2,this._processLocInfo(t,null,null,!1,!1)]}}))}))},e.prototype._getHeadingDesc=function(e){var t=e.bearing;switch(t<0&&(t+=360),t=this._round(t,this._headingThreshold)){case 0:case 360:return"north";case 45:return"north east";case 90:return"east";case 135:return"south east";case 180:return"south";case 225:return"south west";case 270:return"west";case 315:return"north west";default:return"".concat(t," degrees")}},e.prototype._getClosestLabel=function(t,r,n,i,o){for(var a=t.radius,s=0,l=t.source.length;s<l;s++){var c={sourceLayer:t.source[s],filter:["has","name"]},u=this._map._getMap().querySourceFeatures(this._baseVectorTileSourceId,c),d=null,h=1/0,p=this._labelCache.has(t.labelType);if(!o||p)for(var m=0,y=u.length;m<y;m++){var f,g="Point"===u[m].geometry.type?u[m]:_l(r.center,u[m].geometry);o||(f="Point"===u[m].geometry.type?Qs(r.center,g.geometry.coordinates):g.properties.distance)<h&&(h=f,d=u[m]),p&&e._labelCache.cache(u[m].properties.name,t,g.geometry.coordinates,n)}o||(c=t.labelType+"Dis",d&&h<=a&&("number"!=typeof i[c]||h<=i[c])&&(i[t.labelType]=d.properties.name,i[c]=h))}},e.prototype._processRoads=function(t,r,n,i){var o=this._map._getMap().queryRenderedFeatures(i,{filter:["==",["geometry-type"],"LineString"]});if(o){for(var a,s=void 0,l=void 0,c=void 0,u=void 0,d=0,h=o.length;d<h;d++)this._roadLayers.has(o[d].layer["source-layer"])&&o[d].properties.name&&""!==o[d].properties.name&&(a=_l(r.center,o[d]),!c||a.properties.distance<c.properties.distance)&&(s&&o[d].properties.name===s.properties.name?c=a:s&&o[d].properties.name===s.properties.name?(!u||a.properties.distance<u.properties.distance)&&(u=a,l=o[d]):(u=c,l=s,c=a,s=o[d]));s&&(!t.country&&s.properties.country_code&&(t.country=s.properties.country_code,t.countryDis=0,e._labelCache.cache(t.country,{source:[],labelType:"country",radius:5e3,minZoom:0},c.geometry.coordinates,n)),!t.state&&s.properties.country_subdivision&&(t.state=s.properties.country_subdivision,t.stateDis=0,e._labelCache.cache(t.state,{source:[],labelType:"state",radius:5e3,minZoom:4},c.geometry.coordinates,n)),15<=r.zoom)&&(i=this._map.positionsToPixels([r.center,c.geometry.coordinates]),(Ts.getDistance(i[0],i[1])<this._roadPixelRadius||c.properties.distance<this._minRoadDistance)&&(t.road=s.properties.name),l)&&(n=this._map.positionsToPixels([u.geometry.coordinates]),Ts.getDistance(i[0],n[0])<this._minIntersectionPixelDistance||u.properties.distance<this._minRoadDistance)&&(t.secondRoad=l.properties.name,t.secondRoadDis=u.properties.distance)}},e.prototype._getActionDesc=function(e){var t,r,n;return this._lastCam&&(t=[],this._checkLocThreshold(e.center,this._lastCam.center)&&(n=["panned"],0===(r=Math.round(rl(this._lastCam.center,e.center)))||360===r?n.push("north"):r<90?n.push("north east"):90===r?n.push("east"):r<180?n.push("south east"):180===r?n.push("south"):r<270?n.push("south west"):270===r?n.push("west"):r<360&&n.push("north west"),r=Qs(this._lastCam.center,e.center,ms.meters),n.push(1e3<r?"".concat(Bs(r/1e3,2)," kilometers"):"".concat(Bs(r,2)," meters")),t.push(n.join(" "))),this._checkZoomThreshold(e.zoom,this._lastCam.zoom)&&((n=["zoomed"]).push(this._lastCam.zoom<e.zoom?"in":"out"),1<=(r=Math.abs(this._lastCam.zoom-e.zoom))&&(r=Math.ceil(r),n.push("".concat(r,1<r?" levels":" level"))),this._getCanonicalZoom(this._lastCam.zoom)!==this._getCanonicalZoom(e.zoom)&&n.push("to ".concat(this._getCanonicalZoom(e.zoom)," level")),e.zoom>=e.maxZoom&&n.push("Zoom In button disabled, maximum zoom level reached"),r=zl.getSouth(e.bounds)<=-85.0511&&zl.getNorth(e.bounds)>=zs,(e.zoom<=e.minZoom||r)&&n.push("Zoom Out button disabled, minimum zoom level reached"),t.push(n.join(" "))),this._checkPitchThreshold(e.pitch,this._lastCam.pitch)&&(r=this._round(e.pitch,this._pitchThreshold),t.push("pitched to ".concat(r," degrees")),60!==e.pitch&&0!==e.pitch||(n=60===e.pitch?"maximum":"minimum",t.push("reached ".concat(n," of ").concat(e.pitch," degrees")))),this._checkHeadingThreshold(this._lastCam.bearing,e.bearing)&&t.push("rotated to ".concat(this._getHeadingDesc(e))),t.join(" and "))||null},e.prototype._getCanonicalZoom=function(e){return(e=this._round(e))<2?"world":e<5?"country":e<11?"state province":e<15?"city":"street"},e.prototype._processLocInfo=function(e,t,r,n,i){var o=this;return new Promise((function(a,s){var l=[];if(n){var c=[];if(r&&(t&&("water"===t&&r.water?c.push(r.water):"majorPoi"===t&&r.majorPoi&&c.push(r.majorPoi)),0===c.length)&&(r.majorPoi&&8<=e.zoom?c.push(r.majorPoi):(r.poi&&14<=e.zoom?c.push(r.poi):r.road&&15<=e.zoom&&(r.secondRoad?c.push(r.road+" & "+r.secondRoad):c.push(r.road)),r.neighbourhood&&12<=e.zoom&&c.push(r.neighbourhood),r.city&&6<=e.zoom&&c.push(r.city)),r.state&&4<=e.zoom&&c.push(r.state),0===c.length?r.water?c.push(r.water):r.country&&c.push(r.country):1===c.length&&r.state&&4<=e.zoom&&r.country&&c.push(r.country)),0<c.length)l.push("<p>Location: ",c.join(", "),".</p>");else if(i&&"water"!==t)return void o._reverseGeocodeDescription(e).then((function(e){a(e)}),(function(){s("<p>Location: unknown</p>")}))}o._returnDetailedDescriptions&&(l.push("<p>Zoom: ",Bs(e.zoom,2),".</p>"),l.push("<p>Latitude: ",Bs(e.center[1],5),".</p>"),l.push("<p>Longitude: ",Bs(e.center[0],5),".</p>")),a(l.join(""))}))},e.prototype._reverseGeocodeDescription=function(t){var r=this;return new Promise((function(n){var i=r._map.getStyle();r._reverseSearch.request({position:t.center,style:i}).then((function(o){var a,s={};o&&o.features&&0<o.features.length&&null!=(a=null==(a=o.features[0])?void 0:a.properties)&&a.address&&((a=o.features[0].properties.address).countryRegion&&(s.country=a.countryRegion.name,e._labelCache.cache(s.country,{source:[],labelType:"country",radius:5e3,minZoom:0},t.center,i.language)),a.adminDistricts&&(s.state=null==(o=a.adminDistricts[0])?void 0:o.shortName,e._labelCache.cache(s.state,{source:[],labelType:"state",radius:5e3,minZoom:4},t.center,i.language)),a.locality&&(s.city=a.locality,e._labelCache.cache(s.city,{source:[],labelType:"city",radius:1e3,minZoom:10},t.center,i.language)),a.addressLine)&&(s.road=a.addressLine),r._processLocInfo(t,null,s,!0,!1).then((function(e){n(e)}))}),(function(e){r._processLocInfo(t,null,null,!0,!1).then((function(e){n(e)}))})).catch((function(e){r._processLocInfo(t,null,null,!0,!1).then((function(e){n(e)}))}))}))},e.prototype._round=function(e,t){return void 0===t&&(t=1),Math.round(e/t)*t},e._baseVectorTileSourceIds=["microsoft.base","vectorTiles","bing-mvt"],e._labelConfigBing=[{source:["water_feature"],labelType:"water",minZoom:0,radius:395e4,polygonSources:["generic_water_fill"]},{source:["water_feature"],labelType:"water",minZoom:3,radius:1e6,polygonSources:["generic_water_fill"]},{source:["country_region"],labelType:"country",minZoom:0,maxZoom:5,radius:3e5},{source:["admin_division1"],labelType:"state",minZoom:4,maxZoom:7,radius:3e5},{source:["populated_place"],labelType:"city",minZoom:8,radius:4e4},{source:["neighborhood"],labelType:"neighbourhood",minZoom:12,radius:6e3},{source:["amusement_park"],labelType:"poi",minZoom:14,radius:2e3,polygonSources:["amusement_park_fill"]},{source:["hospital"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["hospital_fill"]},{source:["shopping_center"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["shopping_center_fill"]},{source:["stadium"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["stadium_fill"]},{source:["higher_education_facility","school"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["higher_education_facility_fill","school_fill"]},{source:["zoo"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["zoo_fill"]},{source:["airport","airport_terminal"],labelType:"majorPoi",minZoom:11,radius:3e3,polygonSources:["airport_terminal_fill","airport_fill-merged7","airport_runway_fill"]},{source:["reserve"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["generic_reserve_fill","land_cover_forest_fill"]}],e._roadLayersBing=new Set(["road"]),e}(),uN=function(e){var t=this;this.addToMap=function(){null==t.mapViewDesc&&(t.initializeMapLiveStateInfo(),t.initializeMapStyleInfo(),t.createMapKeyBindingInfo(),t.map.getMapContainer().setAttribute("role","application"),t.map.getMapContainer().setAttribute("aria-label","Map Application"),t.map.getCanvasContainer().setAttribute("aria-live","polite"),t.map.getCanvasContainer().setAttribute("aria-describedby","atlas-map-state atlas-map-style"),t.map.getCanvas().setAttribute("aria-label","Interactive Map"),t.map.getCanvas().setAttribute("aria-describedby","atlas-map-shortcuts"),t.map.getCanvas().setAttribute("alt","Interactive Map"))},this.removeFromMap=function(){null!=t.mapViewDesc&&t.mapViewDesc.dispose(),delete t.mapViewDesc,null!=t.atlasMapKeyBindings&&t.map.getCanvasContainer().removeChild(t.atlasMapKeyBindings),delete t.atlasMapKeyBindings,null!=t.atlasMapLiveStateInfo&&t.map.getCanvasContainer().removeChild(t.atlasMapLiveStateInfo),delete t.atlasMapLiveStateInfo,null!=t.atlasMapStyleInfo&&t.map.getCanvasContainer().removeChild(t.atlasMapStyleInfo),delete t.atlasMapStyleInfo,t.map.getMapContainer().removeAttribute("role"),t.map.getMapContainer().removeAttribute("aria-label"),t.map.getCanvasContainer().removeAttribute("aria-live"),t.map.getCanvasContainer().removeAttribute("aria-describedby"),t.map.getCanvas().removeAttribute("aria-label"),t.map.getCanvas().removeAttribute("aria-describedby"),t.map.getCanvas().removeAttribute("alt"),t.map.events.remove("stylechanged",t.updateMapStyle)},this.createMapKeyBindingInfo=function(){t.atlasMapKeyBindings=document.createElement("div"),t.atlasMapKeyBindings.setAttribute("tabindex","-1"),t.atlasMapKeyBindings.setAttribute("aria-hidden","true"),t.atlasMapKeyBindings.id="atlas-map-shortcuts",t.atlasMapKeyBindings.classList.add("hidden-accessible-element"),t.atlasMapKeyBindings.innerHTML=["Map shortcuts:","Zoom out: hyphen.","Zoom in: plus.","Pan right 100 pixels: right arrow.","Pan left 100 pixels: left arrow.","Pan up 100 pixels: up arrow.","Pan down 100 pixels: down arrow.","Rotate 15 degrees clockwise: shift + right arrow.","Rotate 15 degrees counter clockwise: shift + left arrow.","Increase pitch 10 degrees: shift + up arrow.","Decrease pitch 10 degrees: shift + down arrow.","Jump focus to the map: Escape."].join("\n"),t.map.getCanvasContainer().appendChild(t.atlasMapKeyBindings);var e=[189,187,38,37,39,40],r=t.map._getMap()._canvas;null!=r&&r.addEventListener("keyup",(function(r){e.find((function(e){return r.keyCode===e}))&&(t.atlasMapKeyBindings.innerHTML="")}))},this.initializeMapLiveStateInfo=function(){t.mapViewDesc=new cN(t.map,t.updateMapState),t.atlasMapLiveStateInfo=document.createElement("div"),t.atlasMapLiveStateInfo.setAttribute("tabindex","-1"),t.atlasMapLiveStateInfo.setAttribute("aria-hidden","true"),t.atlasMapLiveStateInfo.id="atlas-map-state",t.atlasMapLiveStateInfo.classList.add("hidden-accessible-element"),t.map.getCanvasContainer().appendChild(t.atlasMapLiveStateInfo)},this.initializeMapStyleInfo=function(){t.atlasMapStyleInfo=document.createElement("div"),t.atlasMapStyleInfo.setAttribute("tabindex","-1"),t.atlasMapStyleInfo.setAttribute("aria-hidden","true"),t.atlasMapStyleInfo.id="atlas-map-style",t.atlasMapStyleInfo.classList.add("hidden-accessible-element"),t.map.events.add("stylechanged",t.updateMapStyle),t.map.getCanvasContainer().appendChild(t.atlasMapStyleInfo)},this.updateMapStyle=function(){t.atlasMapStyleInfo.innerHTML="<p>Map style: ".concat(t.map.getStyle().style,".</p>")},this.updateMapState=function(e){t.atlasMapLiveStateInfo.innerHTML=e},this.map=e},dN=function(e){var t=this;this.listenerEnabled=!1,this.lastFlowMode="none",this.addToMap=function(){if(!t.map._isReady())throw new Error("Traffic flow could not be added to the map because the map is not ready. Please use a ready event listener to guarantee the map is ready before enabling traffic flow.");t.listenerEnabled||(t.map.events.add("styledata",t.addToMap),t.listenerEnabled=!0);var e,r=t.map.getTraffic();"none"!==r.flow&&(e=t.map.layers.getLayerById("traffic_".concat(r.flow)))&&(t.lastFlowMode=r.flow,e._updateLayoutProperty("visibility","visible","none"))},this.removeFromMap=function(){var e;t.map.getTraffic(),"none"!=t.lastFlowMode&&((e=t.map.layers.getLayerById("traffic_".concat(t.lastFlowMode)))&&e._updateLayoutProperty("visibility","none","visible"),t.lastFlowMode="none"),t.listenerEnabled&&(t.map.events.remove("styledata",t.addToMap),t.listenerEnabled=!1)},this.map=e},hN=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pN=function(e){function t(r,n,i){var o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=r.icon_category_12)?o:r.icon_category_11)?o:r.icon_category_10)?o:r.icon_category_9)?o:r.icon_category_8)?o:r.icon_category_7)?o:r.icon_category_6)?o:r.icon_category_5)?o:r.icon_category_4)?o:r.icon_category_3)?o:r.icon_category_2)?o:r.icon_category_1)?o:r.icon_category_0)?o:r.icon_category,a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=null!=(a=r.description_12)?a:r.description_11)?a:r.description_10)?a:r.description_9)?a:r.description_8)?a:r.description_7)?a:r.description_6)?a:r.description_5)?a:r.description_4)?a:r.description_3)?a:r.description_2)?a:r.description_1)?a:r.description_0)?a:r.description;return o={icon:"".concat(t.getSeverityColorName(r.magnitude),"-").concat(t.getIncidentTypeIconName(o)),incidentType:t.getIncidentTypeName(o,i),description:a,delay:r.delay,color:t.getSeverityColorHexCode(r.magnitude),id:r.id},e.call(this,n,o)||this}return hN(t,e),t.getIncidentTypeName=function(e,t){switch(e){case 0:default:return t.Unknown;case 1:return t.Accident;case 2:return t.Fog;case 3:return t.Danger;case 4:return t.Rain;case 5:return t.Ice;case 6:return t.Jam;case 7:return t.LaneClosed;case 8:return t.RoadClosed;case 9:return t.RoadWorks;case 10:return t.Wind;case 11:return t.Flood;case 12:return t.Detour}},t.getIncidentTypeIconName=function(e){switch(e){case 0:default:return"unknown";case 1:return"accident";case 2:return"fog";case 3:return"danger";case 4:return"rain";case 5:return"ice";case 6:return"jam";case 7:return"lane-closed";case 8:return"road-closed";case 9:return"road-work";case 10:return"wind";case 11:return"flood";case 12:return"detour"}},t.getSeverityColorName=function(e){switch(e){case 0:default:return"grey";case 1:return"yellow";case 2:return"orange";case 3:return"red"}},t.getSeverityColorHexCode=function(e){switch(e){case 0:default:return"#B5B6B7";case 1:return"#F4C951";case 2:return"#F4873F";case 3:return"#F04F4E"}},t}(ws),mN=(function(e){e.DELAY="delay",e.LENGTH="length",e.FROM="from",e.TO="to"}(hL=hL||{}),function(){function e(){}return e.build=function(e,t){void 0===t&&(t="en-US");var r,n,i,o=(((n=document.createElement("div")).classList.add("incident-popup-title"),n.classList.add("font-segoeui-b"),n.innerText=e.properties.incidentType,n.setAttribute("aria-label","Incident Type ".concat(e.properties.incidentType)),i=document.createElement("div")).classList.add("incident-popup-subtitle"),i.classList.add("font-segoeui-b"),i.setAttribute("aria-label","Incident Description ".concat(e.properties.description)),i.innerText=e.properties.description,document.createElement("div"));return((o.classList.add("incident-popup-header"),o.style.backgroundColor=e.properties.color,o.appendChild(n),o.appendChild(i),n=document.createElement("div")).classList.add("incident-popup-body"),e.properties.delay&&(i="".concat(Math.floor(e.properties.delay/60)," min"),i=this.createInfoSection(i,hL.DELAY),n.appendChild(i)),e.properties.length&&(i=new Intl.NumberFormat([t,"en-US"],{maximumFractionDigits:2}),r=void 0,r="en-US"===t?(t=Ks(e.properties.length,"meters","miles"),"".concat(i.format(t)," miles")):(t=Ks(e.properties.length,"meters","kilometers"),"".concat(i.format(t)," km")),i=this.createInfoSection(r,hL.LENGTH),n.appendChild(i)),e.properties.from&&(t=this.createInfoSection(e.properties.from,hL.FROM),n.appendChild(t)),e.properties.to&&(r=this.createInfoSection(e.properties.to,hL.TO),n.appendChild(r)),i=document.createElement("div")).classList.add("incident-popup-content"),i.appendChild(o),i.appendChild(n),new Uu({content:i,position:e.geometry.coordinates})},e.createInfoSection=function(e,t){var r=document.createElement("div"),n=(r.classList.add("incident-popup-info"),document.createElement("div")),i=(n.classList.add("icon"),n.classList.add(t),document.createElement("span"));return i.classList.add("message"),i.classList.add("font-segoeui"),i.setAttribute("aria-label","Incident ".concat(t," ").concat(e)),i.innerText=e,r.appendChild(n),r.appendChild(i),r},e}()),yN=n&&n.__awaiter||function(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},fN=n&&n.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var c=[s,l];if(r)throw new TypeError("Generator is already executing.");for(;o=a&&c[a=0]?0:o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(l){c=[6,l],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},gN=function(){function e(e){var t=this;this.incidentLayerName="incidents",this.incidentSourceName="mapcontrol_traffic_incident",this.addToMap=function(){t.map.sources.getById(t.incidentSourceName)||t.map.sources.add(t.vectorTileSource),t.map.layers.getLayerById(t.incidentLayerName)||t.map.layers.add(t.incidentLayer,"labels"),t.clickPopup=new Uu({position:[0,0],pixelOffset:[0,-18]}),t.map.addEventListener("mouseover",t.incidentLayerName,t.cursorToPointer),t.map.addEventListener("mouseleave",t.incidentLayerName,t.cursorToDefault),t.map.addEventListener("click",t.incidentLayerName,t.openIncidentPopup),t.map.events.addOnce("idle",t.setAccessiblePopups),t.map.events.add("moveend",t.setAccessiblePopups)},this.accessiblePopups=[],this.setAccessiblePopups=function(){return yN(t,void 0,void 0,(function(){var e,t,r,n,i,o,a=this;return fN(this,(function(s){switch(s.label){case 0:return this.accessiblePopups.forEach((function(e){return e.remove()})),this.accessiblePopups=[],e=this.map.layers.getRenderedShapes(this.map.getCamera().bounds,this.incidentLayer),[4,this.map._getLocalizedStrings()];case 1:return t=s.sent(),r=function(e,s){var l=(c=e[s]).geometry.coordinates,c=(l=new Is(new Il(l[0],l[1])),new pN(c.properties,l,t)),u=mN.build(c,a.incidentLanguage);return(l=u.getPopupContainer()).addEventListener("focusin",(function(t){a.clickPopup.remove(),a.accessiblePopups.filter((function(e){return e!==u})).forEach((function(e){return e.remove()})),0<=s-1&&n(u,r(e,s-1)),s+1<e.length&&o(r(e,s+1)),2<=s&&s==e.length-1&&i(r(e,0)),0==s&&2<=e.length&&o(r(e,e.length-1))})),s==e.length-1&&l.addEventListener("focusout",(function(e){null===e.relatedTarget&&u.close()})),a.accessiblePopups.push(u),u},n=function(e,t){t.open(a.map),t.close(),t=t.getPopupContainer(),(e=e.getPopupContainer()).parentElement.insertBefore(t,e)},i=function(e){e.open(a.map),e.close();var t=(e=e.getPopupContainer()).parentElement;t.insertBefore(e,t.firstElementChild)},o=function(e){e.open(a.map),e.close()},0<e.length&&o(r(e,0)),1<e.length&&o(r(e,e.length-1)),[2]}}))}))},this.removeFromMap=function(){var e;t.map.removeEventListener("mouseover",t.incidentLayerName,t.cursorToPointer),t.map.removeEventListener("mouseleave",t.incidentLayerName,t.cursorToDefault),t.map.removeEventListener("click",t.incidentLayerName,t.openIncidentPopup),t.map.events.remove("idle",t.setAccessiblePopups),t.map.events.remove("moveend",t.setAccessiblePopups),t.accessiblePopups.forEach((function(e){return e.remove()})),t.accessiblePopups=[],null!=(e=t.clickPopup)&&e.remove(),null!=t.map.layers.getLayerById(t.incidentLayerName)&&t.map.layers.remove(t.incidentLayerName),null!=t.map.sources.getById(t.incidentSourceName)&&t.map.sources.remove(t.incidentSourceName)},this.cursorToPointer=function(e){t.map.getCanvas().style.cursor="pointer"},this.cursorToDefault=function(e){t.map.getCanvas().style.cursor=""},this.openIncidentPopup=function(e){t.clickPopup.remove(),t.accessiblePopups.forEach((function(e){return e.close()}));var r=e.position,n=e.features[0];t.map._getLocalizedStrings().then((function(e){var i=new Is(new Il(r[0],r[1]));i=new pN(n.properties,i,e),t.clickPopup=mN.build(i,t.incidentLanguage),t.clickPopup.open(t.map),t.clickPopup.getPopupContainer().addEventListener("focusout",(function(e){null===e.relatedTarget&&t.clickPopup.close()}))}))},this.map=e,this.vectorTileSource=new yc(this.incidentSourceName,{maxZoom:22,tiles:["https://".concat(y,"/traffic/incident/tile/pbf?api-version=1.0&zoom={z}&x={x}&y={y}")]}),e=this.getIncidentIconImageExpression(),this.incidentLayer=new _u(this.incidentSourceName,this.incidentLayerName,{sourceLayer:"Traffic incident POI",iconOptions:{ignorePlacement:!0,allowOverlap:!0,image:e,size:.75}})}return e.prototype.getIncidentIconImageExpression=function(){return["concat",["let","magnitude",["get","magnitude"],["case",["==",["var","magnitude"],0],"grey",["==",["var","magnitude"],1],"yellow",["==",["var","magnitude"],2],"orange",["==",["var","magnitude"],3],"red",["==",["var","magnitude"],4],"grey","grey"]],"-",["let","category",["coalesce",["get","icon_category_12"],["get","icon_category_11"],["get","icon_category_10"],["get","icon_category_9"],["get","icon_category_8"],["get","icon_category_7"],["get","icon_category_6"],["get","icon_category_5"],["get","icon_category_4"],["get","icon_category_3"],["get","icon_category_2"],["get","icon_category_0"],["get","icon_category"],0],["case",["==",["var","category"],0],"unknown",["==",["var","category"],1],"accident",["==",["var","category"],2],"fog",["==",["var","category"],3],"danger",["==",["var","category"],4],"rain",["==",["var","category"],5],"ice",["==",["var","category"],6],"jam",["==",["var","category"],7],"lane-closed",["==",["var","category"],8],"road-closed",["==",["var","category"],9],"road-work",["==",["var","category"],10],"wind",["==",["var","category"],11],"flood",["==",["var","category"],12],"detour","unknown"]]]},e}(),bN=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.interactive=!0,t.scrollZoomInteraction=!0,t.boxZoomInteraction=!0,t.dragRotateInteraction=!0,t.dragPanInteraction=!0,t.keyboardInteraction=!0,t.dblClickZoomInteraction=!0,t.touchInteraction=!0,t.touchRotate=!0,t.wheelZoomRate=1/450,t}return bN(t,e),t}(T),MN=function(){function e(e){var t=this;this._onKeyDown=function(e){27===e.keyCode&&t.map.getCanvas().focus()},this.map=e}return e.prototype.enable=function(){this.map.getMapContainer().addEventListener("keydown",this._onKeyDown)},e.prototype.disable=function(){this.map.getMapContainer().removeEventListener("keydown",this._onKeyDown)},e}(),xN=function(){function e(e){var t=this;this._onGestureStart=function(e){t.hasTouch||(e.preventDefault(),t.initZoom=t.map.getCamera().zoom)},this._onGestureChange=function(e){t.hasTouch||(e.preventDefault(),t.map.setCamera({zoom:t.initZoom+e.scale-1}))},this._onTouchStart=function(e){t.hasTouch=!0},this._onTouchEnd=function(e){0===e.touches.length&&(t.hasTouch=!1)},this.map=e}return e.prototype.enable=function(){this.map.getCanvasContainer().addEventListener("gesturestart",this._onGestureStart),this.map.getCanvasContainer().addEventListener("gesturechange",this._onGestureChange),this.map.getCanvasContainer().addEventListener("touchstart",this._onTouchStart),this.map.getCanvasContainer().addEventListener("touchend",this._onTouchEnd)},e.prototype.disable=function(){this.map.getCanvasContainer().removeEventListener("gesturestart",this._onGestureStart),this.map.getCanvasContainer().removeEventListener("gesturechange",this._onGestureChange),this.map.getCanvasContainer().removeEventListener("touchstart",this._onTouchStart),this.map.getCanvasContainer().removeEventListener("touchend",this._onTouchEnd)},e}(),SN=function(){function e(e,t){this.added=!1,this.map=e,this.focusShortcut=new MN(e),this.pinchZoom=new xN(e),this.options=(new vN).merge(t)}return e.prototype.addToMap=function(){this.added||(this.added=!0,this._setInteractions(this.options))},e.prototype.removeFromMap=function(){this.added&&(this.added=!1,this._setInteractions({interactive:!1}))},e.prototype.setOptions=function(e){this.options=(new vN).merge(this.options,e),this.added&&this._setInteractions(this.options)},e.prototype.getOptions=function(){return Object.assign({},this.options)},e.prototype._setInteractions=function(e){var t;e.interactive?(e.boxZoomInteraction?this.map._getMap().boxZoom.enable():this.map._getMap().boxZoom.disable(),e.dblClickZoomInteraction?this.map._getMap().doubleClickZoom.enable():this.map._getMap().doubleClickZoom.disable(),e.dragPanInteraction?this.map._getMap().dragPan.enable():this.map._getMap().dragPan.disable(),e.dragRotateInteraction?this.map._getMap().dragRotate.enable():this.map._getMap().dragRotate.disable(),e.keyboardInteraction?(this.map._getMap().keyboard.enable(),this.focusShortcut.enable()):(this.map._getMap().keyboard.disable(),this.focusShortcut.disable()),e.scrollZoomInteraction?(this.map._getMap().scrollZoom.enable(),this.map._getMap().scrollZoom.setWheelZoomRate(e.wheelZoomRate)):this.map._getMap().scrollZoom.disable(),t=this.map._getMap().touchZoomRotate,e.touchInteraction?(t.enable(),e.touchRotate?t.enableRotation():t.disableRotation()):t.disable(),this.pinchZoom.enable()):(this.map._getMap().boxZoom.disable(),this.map._getMap().doubleClickZoom.disable(),this.map._getMap().dragPan.disable(),this.map._getMap().dragRotate.disable(),this.map._getMap().keyboard.disable(),this.focusShortcut.disable(),this.map._getMap().scrollZoom.disable(),this.map._getMap().touchZoomRotate.disable(),this.pinchZoom.disable())},e}();function wN(e,t,r){var n={type:"Feature"};return 0!==(r=void 0===r?{}:r).id&&!r.id||(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function _N(e){return"Feature"===e.type?e.geometry:e}var TN={exports:{}},IN=(TN.exports=function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}var n=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function o(e,t){return e>t?1:e<t?-1:0}function a(e,t,r){for(var i=new n(null,null),o=i,a=i;;){var s=r(e,t.key);if(s<0){if(null===t.left)break;if(r(e,t.left.key)<0){var l=t.left;if(t.left=l.right,l.right=t,null===(t=l).left)break}a.left=t,a=t,t=t.left}else{if(!(s>0))break;if(null===t.right)break;if(r(e,t.right.key)>0&&(l=t.right,t.right=l.left,l.left=t,null===(t=l).right))break;o.right=t,o=t,t=t.right}}return o.right=t.left,a.left=t.right,t.left=i.right,t.right=i.left,t}function s(e,t,r,i){var o=new n(e,t);if(null===r)return o.left=o.right=null,o;var s=i(e,(r=a(e,r,i)).key);return s<0?(o.left=r.left,o.right=r,r.left=null):s>=0&&(o.right=r.right,o.left=r,r.right=null),o}function l(e,t,r){var n=null,i=null;if(t){var o=r((t=a(e,t,r)).key,e);0===o?(n=t.left,i=t.right):o<0?(i=t.right,t.right=null,n=t):(n=t.left,t.left=null,i=t)}return{left:n,right:i}}function c(e,t,r,n,i){if(e){n(t+(r?" ":" ")+i(e)+"\n");var o=t+(r?"    ":"   ");e.left&&c(e.left,o,!1,n,i),e.right&&c(e.right,o,!0,n,i)}}var u=function(){function e(e){void 0===e&&(e=o),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=s(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var r=new n(e,t);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,o=a(e,this._root,i),s=i(e,o.key);return 0===s?this._root=o:(s<0?(r.left=o.left,r.right=o,o.left=null):s>0&&(r.right=o.right,r.left=o,o.right=null),this._size++,this._root=r),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,r){var n;return null===t?null:0===r(e,(t=a(e,t,r)).key)?(null===t.left?n=t.right:(n=a(e,t.left,r)).right=t.right,this._size--,n):t},e.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=a(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return t;t=n<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=a(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return!0;t=n<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){for(var r=this._root,n=[],i=!1;!i;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),e.call(t,r),r=r.right):i=!0;return this},e.prototype.range=function(e,t,r,n){for(var i=[],o=this._comparator,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(o((a=i.pop()).key,t)>0)break;if(o(a.key,e)>=0&&r.call(n,a))return this;a=a.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var r=t.key;return e.push(r)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var r=t.data;return e.push(r)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},e.prototype.at=function(e){for(var t=this._root,r=!1,n=0,i=[];!r;)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),n===e)return t;n++,t=t.right}else r=!0;return null},e.prototype.next=function(e){var t=this._root,r=null;if(e.right){for(r=e.right;r.left;)r=r.left;return r}for(var n=this._comparator;t;){var i=n(e.key,t.key);if(0===i)break;i<0?(r=t,t=t.left):t=t.right}return r},e.prototype.prev=function(e){var t=this._root,r=null;if(null!==e.left){for(r=e.left;r.right;)r=r.right;return r}for(var n=this._comparator;t;){var i=n(e.key,t.key);if(0===i)break;i<0?t=t.left:(r=t,t=t.right)}return r},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(e){for(var t=e,r=[],i=!1,o=new n(null,null),a=o;!i;)t?(r.push(t),t=t.left):r.length>0?t=(t=a=a.next=r.pop()).right:i=!0;return a.next=null,o.next}(this._root)},e.prototype.load=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=!1);var i=e.length,o=this._comparator;if(r&&p(e,t,0,i-1,o),null===this._root)this._root=d(e,t,0,i),this._size=i;else{var a=function(e,t,r){for(var i=new n(null,null),o=i,a=e,s=t;null!==a&&null!==s;)r(a.key,s.key)<0?(o.next=a,a=a.next):(o.next=s,s=s.next),o=o.next;return null!==a?o.next=a:null!==s&&(o.next=s),i.next}(this.toList(),function(e,t){for(var r=new n(null,null),i=r,o=0;o<e.length;o++)i=i.next=new n(e[o],t[o]);return i.next=null,r.next}(e,t),o);i=this._size+i,this._root=h({head:a},0,i)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return c(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,r){var n=this._comparator,i=l(e,this._root,n),o=i.left,c=i.right;n(e,t)<0?c=s(t,r,c,n):o=s(t,r,o,n),this._root=function(e,t,r){return null===t?e:(null===e||((t=a(e.key,t,r)).left=e),t)}(o,c,n)},e.prototype.split=function(e){return l(e,this._root,this._comparator)},e}();function d(e,t,r,i){var o=i-r;if(o>0){var a=r+Math.floor(o/2),s=e[a],l=t[a],c=new n(s,l);return c.left=d(e,t,r,a),c.right=d(e,t,a+1,i),c}return null}function h(e,t,r){var n=r-t;if(n>0){var i=t+Math.floor(n/2),o=h(e,t,i),a=e.head;return a.left=o,e.head=e.head.next,a.right=h(e,i+1,r),a}return null}function p(e,t,r,n,i){if(!(r>=n)){for(var o=e[r+n>>1],a=r-1,s=n+1;;){do{a++}while(i(e[a],o)<0);do{s--}while(i(e[s],o)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}p(e,t,r,s,i),p(e,t,s+1,n,i)}}var m=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},y=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var r=e.ll.x<t.ll.x?t.ll.x:e.ll.x,n=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:r,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:n,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}},f=Number.EPSILON;void 0===f&&(f=Math.pow(2,-52));var g=f*f,b=function(e,t){if(-f<e&&e<f&&-f<t&&t<f)return 0;var r=e-t;return r*r<g*e*t?0:e<t?-1:1},v=function(){function t(){e(this,t),this.reset()}return r(t,[{key:"reset",value:function(){this.xRounder=new M,this.yRounder=new M}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),t}(),M=function(){function t(){e(this,t),this.tree=new u,this.round(0)}return r(t,[{key:"round",value:function(e){var t=this.tree.add(e),r=this.tree.prev(t);if(null!==r&&0===b(t.key,r.key))return this.tree.remove(e),r.key;var n=this.tree.next(t);return null!==n&&0===b(t.key,n.key)?(this.tree.remove(e),n.key):e}}]),t}(),x=new v,S=function(e,t){return e.x*t.y-e.y*t.x},w=function(e,t){return e.x*t.x+e.y*t.y},_=function(e,t,r){var n={x:t.x-e.x,y:t.y-e.y},i={x:r.x-e.x,y:r.y-e.y},o=S(n,i);return b(o,0)},T=function(e){return Math.sqrt(w(e,e))},I=function(e,t,r){var n={x:t.x-e.x,y:t.y-e.y},i={x:r.x-e.x,y:r.y-e.y};return S(i,n)/T(i)/T(n)},C=function(e,t,r){var n={x:t.x-e.x,y:t.y-e.y},i={x:r.x-e.x,y:r.y-e.y};return w(i,n)/T(i)/T(n)},k=function(e,t,r){return 0===t.y?null:{x:e.x+t.x/t.y*(r-e.y),y:r}},L=function(e,t,r){return 0===t.x?null:{x:r,y:e.y+t.y/t.x*(r-e.x)}},N=function(){function t(r,n){e(this,t),void 0===r.events?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=n}return r(t,null,[{key:"compare",value:function(e,r){var n=t.comparePoints(e.point,r.point);return 0!==n?n:(e.point!==r.point&&e.link(r),e.isLeft!==r.isLeft?e.isLeft?1:-1:E.compare(e.segment,r.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),r(t,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,r=0,n=t.length;r<n;r++){var i=t[r];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var r=this.point.events[t];if(void 0===r.segment.consumedBy)for(var n=t+1;n<e;n++){var i=this.point.events[n];void 0===i.consumedBy&&r.otherSE.point.events===i.otherSE.point.events&&r.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,r=this.point.events.length;t<r;t++){var n=this.point.events[t];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&e.push(n)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,r=new Map,n=function(n){var i=n.otherSE;r.set(n,{sine:I(t.point,e.point,i.point),cosine:C(t.point,e.point,i.point)})};return function(e,t){r.has(e)||n(e),r.has(t)||n(t);var i=r.get(e),o=i.sine,a=i.cosine,s=r.get(t),l=s.sine,c=s.cosine;return o>=0&&l>=0?a<c?1:a>c?-1:0:o<0&&l<0?a<c?-1:a>c?1:0:l<o?-1:l>o?1:0}}}]),t}(),Z=0,E=function(){function t(r,n,i,o){e(this,t),this.id=++Z,this.leftSE=r,r.segment=this,r.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=r,this.rings=i,this.windings=o}return r(t,null,[{key:"compare",value:function(e,t){var r=e.leftSE.point.x,n=t.leftSE.point.x,i=e.rightSE.point.x,o=t.rightSE.point.x;if(o<r)return 1;if(i<n)return-1;var a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,c=t.rightSE.point.y;if(r<n){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;var u=e.comparePoint(t.leftSE.point);if(u<0)return 1;if(u>0)return-1;var d=t.comparePoint(e.rightSE.point);return 0!==d?d:-1}if(r>n){if(a<s&&a<c)return-1;if(a>s&&a>c)return 1;var h=t.comparePoint(e.leftSE.point);if(0!==h)return h;var p=e.comparePoint(t.rightSE.point);return p<0?1:p>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(i<o){var m=t.comparePoint(e.rightSE.point);if(0!==m)return m}if(i>o){var y=e.comparePoint(t.rightSE.point);if(y<0)return 1;if(y>0)return-1}if(i!==o){var f=l-a,g=i-r,b=c-s,v=o-n;if(f>g&&b<v)return 1;if(f<g&&b>v)return-1}return i>o?1:i<o||l<c?-1:l>c?1:e.id<t.id?-1:e.id>t.id?1:0}}]),r(t,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(t.x===r.x)return e.x===t.x?0:e.x<t.x?1:-1;var i=(e.y-t.y)/n.y,o=t.x+i*n.x;if(e.x===o)return 0;var a=(e.x-t.x)/n.x,s=t.y+a*n.y;return e.y===s?0:e.y<s?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),r=e.bbox(),n=y(t,r);if(null===n)return null;var i=this.leftSE.point,o=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=m(t,a)&&0===this.comparePoint(a),c=m(r,i)&&0===e.comparePoint(i),u=m(t,s)&&0===this.comparePoint(s),d=m(r,o)&&0===e.comparePoint(o);if(c&&l)return d&&!u?o:!d&&u?s:null;if(c)return u&&i.x===s.x&&i.y===s.y?null:i;if(l)return d&&o.x===a.x&&o.y===a.y?null:a;if(d&&u)return null;if(d)return o;if(u)return s;var h=function(e,t,r,n){if(0===t.x)return L(r,n,e.x);if(0===n.x)return L(e,t,r.x);if(0===t.y)return k(r,n,e.y);if(0===n.y)return k(e,t,r.y);var i=S(t,n);if(0==i)return null;var o={x:r.x-e.x,y:r.y-e.y},a=S(o,t)/i,s=S(o,n)/i;return{x:(e.x+s*t.x+(r.x+a*n.x))/2,y:(e.y+s*t.y+(r.y+a*n.y))/2}}(i,this.vector(),a,e.vector());return null===h?null:m(n,h)?x.round(h.x,h.y):null}},{key:"split",value:function(e){var r=[],n=void 0!==e.events,i=new N(e,!0),o=new N(e,!1),a=this.rightSE;this.replaceRightSE(o),r.push(o),r.push(i);var s=new t(i,a,this.rings.slice(),this.windings.slice());return N.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),N.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(i.checkForConsuming(),o.checkForConsuming()),r}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,r=this.windings.length;t<r;t++)this.windings[t]*=-1}},{key:"consume",value:function(e){for(var r=this,n=e;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var i=t.compare(r,n);if(0!==i){if(i>0){var o=r;r=n,n=o}if(r.prev===n){var a=r;r=n,n=a}for(var s=0,l=n.rings.length;s<l;s++){var c=n.rings[s],u=n.windings[s],d=r.rings.indexOf(c);-1===d?(r.rings.push(c),r.windings.push(u)):r.windings[d]+=u}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var a=this.rings[i],s=this.windings[i],l=t.indexOf(a);-1===l?(t.push(a),r.push(s)):r[l]+=s}for(var c=[],u=[],d=0,h=t.length;d<h;d++)if(0!==r[d]){var p=t[d],m=p.poly;if(-1===u.indexOf(m))if(p.isExterior)c.push(m);else{-1===u.indexOf(m)&&u.push(m);var y=c.indexOf(p.poly);-1!==y&&c.splice(y,1)}}for(var f=0,g=c.length;f<g;f++){var b=c[f].multiPoly;-1===n.indexOf(b)&&n.push(b)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(j.type){case"union":var r=0===e.length,n=0===t.length;this._isInResult=r!==n;break;case"intersection":var i,o;e.length<t.length?(i=e.length,o=t.length):(i=t.length,o=e.length),this._isInResult=o===j.numMultiPolys&&i<o;break;case"xor":var a=Math.abs(e.length-t.length);this._isInResult=a%2==1;break;case"difference":var s=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=s(e)!==s(t);break;default:throw new Error("Unrecognized operation type found ".concat(j.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,r,n){var i,o,a,s=N.comparePoints(e,r);if(s<0)i=e,o=r,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=r,o=e,a=-1}return new t(new N(i,!0),new N(o,!1),[n],[a])}}]),t}(),z=function(){function t(r,n,i){if(e(this,t),!Array.isArray(r)||0===r.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=i,this.segments=[],"number"!=typeof r[0][0]||"number"!=typeof r[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=x.round(r[0][0],r[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var a=o,s=1,l=r.length;s<l;s++){if("number"!=typeof r[s][0]||"number"!=typeof r[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=x.round(r[s][0],r[s][1]);c.x===a.x&&c.y===a.y||(this.segments.push(E.fromRing(a,c,this)),c.x<this.bbox.ll.x&&(this.bbox.ll.x=c.x),c.y<this.bbox.ll.y&&(this.bbox.ll.y=c.y),c.x>this.bbox.ur.x&&(this.bbox.ur.x=c.x),c.y>this.bbox.ur.y&&(this.bbox.ur.y=c.y),a=c)}o.x===a.x&&o.y===a.y||this.segments.push(E.fromRing(a,o,this))}return r(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,r=this.segments.length;t<r;t++){var n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}}]),t}(),G=function(){function t(r,n){if(e(this,t),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new z(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=r.length;i<o;i++){var a=new z(r[i],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=n}return r(t,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,r=this.interiorRings.length;t<r;t++)for(var n=this.interiorRings[t].getSweepEvents(),i=0,o=n.length;i<o;i++)e.push(n[i]);return e}}]),t}(),P=function(){function t(r,n){if(e(this,t),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof r[0][0][0]&&(r=[r])}catch(r){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=r.length;i<o;i++){var a=new G(r[i],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=n}return r(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,r=this.polys.length;t<r;t++)for(var n=this.polys[t].getSweepEvents(),i=0,o=n.length;i<o;i++)e.push(n[i]);return e}}]),t}(),A=function(){function t(r){e(this,t),this.events=r;for(var n=0,i=r.length;n<i;n++)r[n].segment.ringOut=this;this.poly=null}return r(t,null,[{key:"factory",value:function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];if(o.isInResult()&&!o.ringOut){for(var a=null,s=o.leftSE,l=o.rightSE,c=[s],u=s.point,d=[];a=s,s=l,c.push(s),s.point!==u;)for(;;){var h=s.getAvailableLinkedEvents();if(0===h.length){var p=c[0].point,m=c[c.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(m.x,", ").concat(m.y,"]."))}if(1===h.length){l=h[0].otherSE;break}for(var y=null,f=0,g=d.length;f<g;f++)if(d[f].point===s.point){y=f;break}if(null===y){d.push({index:c.length,point:s.point});var b=s.getLeftmostComparator(a);l=h.sort(b)[0].otherSE;break}var v=d.splice(y)[0],M=c.splice(v.index);M.unshift(M[0].otherSE),r.push(new t(M.reverse()))}r.push(new t(c))}}return r}}]),r(t,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],r=1,n=this.events.length-1;r<n;r++){var i=this.events[r].point,o=this.events[r+1].point;0!==_(i,e,o)&&(t.push(i),e=i)}if(1===t.length)return null;var a=t[0],s=t[1];0===_(a,e,s)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:t.length-1,u=this.isExteriorRing()?t.length:-1,d=[],h=c;h!=u;h+=l)d.push([t[h].x,t[h].y]);return d}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,r=this.events.length;t<r;t++){var n=this.events[t];N.compare(e,n)>0&&(e=n)}for(var i=e.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),t}(),R=function(){function t(r){e(this,t),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return r(t,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,r=this.interiorRings.length;t<r;t++){var n=this.interiorRings[t].getGeom();null!==n&&e.push(n)}return e}}]),t}(),D=function(){function t(r){e(this,t),this.rings=r,this.polys=this._composePolys(r)}return r(t,[{key:"getGeom",value:function(){for(var e=[],t=0,r=this.polys.length;t<r;t++){var n=this.polys[t].getGeom();null!==n&&e.push(n)}return e}},{key:"_composePolys",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(!i.poly)if(i.isExteriorRing())t.push(new R(i));else{var o=i.enclosingRing();o.poly||t.push(new R(o)),o.poly.addInterior(i)}}return t}}]),t}(),X=function(){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.compare;e(this,t),this.queue=r,this.tree=new u(n),this.segments=[]}return r(t,[{key:"process",value:function(e){var t=e.segment,r=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),r;var n=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!n)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=n,o=n,a=void 0,s=void 0;void 0===a;)null===(i=this.tree.prev(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);for(;void 0===s;)null===(o=this.tree.next(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);if(e.isLeft){var l=null;if(a){var c=a.getIntersection(t);if(null!==c&&(t.isAnEndpoint(c)||(l=c),!a.isAnEndpoint(c)))for(var u=this._splitSafely(a,c),d=0,h=u.length;d<h;d++)r.push(u[d])}var p=null;if(s){var m=s.getIntersection(t);if(null!==m&&(t.isAnEndpoint(m)||(p=m),!s.isAnEndpoint(m)))for(var y=this._splitSafely(s,m),f=0,g=y.length;f<g;f++)r.push(y[f])}if(null!==l||null!==p){var b=null;b=null===l?p:null===p||N.comparePoints(l,p)<=0?l:p,this.queue.remove(t.rightSE),r.push(t.rightSE);for(var v=t.split(b),M=0,x=v.length;M<x;M++)r.push(v[M])}r.length>0?(this.tree.remove(t),r.push(e)):(this.segments.push(t),t.prev=a)}else{if(a&&s){var S=a.getIntersection(s);if(null!==S){if(!a.isAnEndpoint(S))for(var w=this._splitSafely(a,S),_=0,T=w.length;_<T;_++)r.push(w[_]);if(!s.isAnEndpoint(S))for(var I=this._splitSafely(s,S),C=0,k=I.length;C<k;C++)r.push(I[C])}}this.tree.remove(t)}return r}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var r=e.rightSE;this.queue.remove(r);var n=e.split(t);return n.push(r),void 0===e.consumedBy&&this.tree.insert(e),n}}]),t}(),O=void 0!==i&&i.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,W=void 0!==i&&i.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,j=new(function(){function t(){e(this,t)}return r(t,[{key:"run",value:function(e,t,r){j.type=e,x.reset();for(var n=[new P(t,!0)],i=0,o=r.length;i<o;i++)n.push(new P(r[i],!1));if(j.numMultiPolys=n.length,"difference"===j.type)for(var a=n[0],s=1;s<n.length;)null!==y(n[s].bbox,a.bbox)?s++:n.splice(s,1);if("intersection"===j.type)for(var l=0,c=n.length;l<c;l++)for(var d=n[l],h=l+1,p=n.length;h<p;h++)if(null===y(d.bbox,n[h].bbox))return[];for(var m=new u(N.compare),f=0,g=n.length;f<g;f++)for(var b=n[f].getSweepEvents(),v=0,M=b.length;v<M;v++)if(m.insert(b[v]),m.size>O)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var S=new X(m),w=m.size,_=m.pop();_;){var T=_.key;if(m.size===w){var I=T.segment;throw new Error("Unable to pop() ".concat(T.isLeft?"left":"right"," SweepEvent ")+"[".concat(T.point.x,", ").concat(T.point.y,"] from segment #").concat(I.id," ")+"[".concat(I.leftSE.point.x,", ").concat(I.leftSE.point.y,"] -> ")+"[".concat(I.rightSE.point.x,", ").concat(I.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(m.size>O)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(S.segments.length>W)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var C=S.process(T),k=0,L=C.length;k<L;k++){var Z=C[k];void 0===Z.consumedBy&&m.insert(Z)}w=m.size,_=m.pop()}x.reset();var E=A.factory(S.segments);return new D(E).getGeom()}}]),t}());return{union:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j.run("union",e,r)},intersection:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j.run("intersection",e,r)},xor:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j.run("xor",e,r)},difference:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j.run("difference",e,r)}}}(),TN.exports),CN=a(IN);var kN=function(e){return function(t,r,n){var i=n.value,o=new Map;return n.value=function(){var t=this,r=arguments;!o.get(t)&&(i.apply(t,r),o.set(t,!0),setTimeout((function(){return o.delete(t)}),e))},n}},LN=n&&n.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,r,a):i(t,r))||a);return 3<o&&a&&Object.defineProperty(t,r,a),a},NN=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},ZN=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},EN=["DIV","SPAN","A"],zN=["data-azure-maps-attribution-minzoom","data-azure-maps-attribution-maxzoom","data-azure-maps-attribution-geometry","data-azure-maps-attribution-tileset","data-azure-maps-attribution-order","data-azure-maps-attribution-dynamic"],GN=ZN(["href"],NN(zN),!1),PN=function(){function e(e,t){var r=this;this.lastFetchState={bounds:null,zoom:null},this.getElement=function(){return r.element},this.element=e,this.attributionChangeCallback=t}return e.prototype.equals=function(e){return this.stringRepresentation===e.stringRepresentation},Object.defineProperty(e.prototype,"stringRepresentation",{get:function(){return[void 0!==this.minZoom?"minzoom=".concat(this.minZoom):"",void 0!==this.maxZoom?"maxzoom=".concat(this.maxZoom):"",void 0!==this.geometry?this.element.attributes.getNamedItem("data-azure-maps-attribution-geometry").value:"",void 0!==this.tilesetId?"tilesetId=".concat(this.tilesetId):"",this.dynamic?"dynamic":""].filter((function(e){return 0<e.length})).join(";")},enumerable:!1,configurable:!0}),e.applicable=function(e){return Array.from(e.attributes).map((function(e){return zN.includes(e.name)})).reduce((function(e,t){return e||t}),!1)},Object.defineProperty(e.prototype,"minZoom",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-minzoom");return e&&!isNaN(e.value)?parseInt(e.value):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxZoom",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-maxzoom");return e&&!isNaN(e.value)?parseInt(e.value):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geometry",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-geometry");if(e&&e.value)try{return JSON.parse(e.value)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilesetId",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-tileset");return e&&e.value?e.value:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-order");return e&&!isNaN(e.value)?parseInt(e.value):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dynamic",{get:function(){return null!==this.element.attributes.getNamedItem("data-azure-maps-attribution-dynamic")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidesElement",{get:function(){return"none"==this.element.style.display},enumerable:!1,configurable:!0}),e.prototype.forceHide=function(){this.element.style.display="none"},e.prototype.satisfied=function(e){var t=!this.minZoom||!e.zoom||e.zoom>=this.minZoom,r=!this.maxZoom||!e.zoom||e.zoom<=this.maxZoom,n=!0;return this.geometry&&e.bounds&&(n=null!==function(e,t,r){return void 0===r&&(r={}),e=_N(e),t=_N(t),0===(e=CN.intersection(e.coordinates,t.coordinates)).length?null:1===e.length?function(e,t,r){void 0===r&&(r={});for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return wN({type:"Polygon",coordinates:e},t,r)}(e[0],r.properties):function(e,t,r){return wN({type:"MultiPolygon",coordinates:e},t,r=void 0===r?{}:r)}(e,r.properties)}({type:"Feature",geometry:this.geometry,properties:{}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[zl.getNorthWest(e.bounds),zl.getNorthEast(e.bounds),zl.getSouthEast(e.bounds),zl.getSouthWest(e.bounds),zl.getNorthWest(e.bounds)]]},properties:{}})),t&&r&&n},e.prototype.apply=function(e,t){var r=this,n=(void 0===t&&(t=null),this.satisfied(e.getCamera())),i=this.dynamic&&this.tilesetId,o=this.hidesElement;return t=t&&["dragend","zoomend","pitchend"].includes(t.type),n||o?n&&(o||i)&&(n&&o&&this.element.style.removeProperty("display"),i)&&(t?e.events.addOnce("idle",(function(t){return r.fetchAndApplyDynamicAttribution(e)})):this.fetchAndApplyDynamicAttribution(e)):this.element.style.display="none",n===o},e.prototype.fetchAndApplyDynamicAttribution=function(t){var r,n,i,o=this,a=t.getCamera();this.lastFetchState&&zl.containsBoundingBox(this.lastFetchState.bounds,a.bounds)&&Math.floor(this.lastFetchState.zoom)==Math.floor(a.zoom)||(r=sl(a.center,zl.getSouthWest(a.bounds),e.viewportBufferExpansionRatio),i=((n=sl(a.center,zl.getNorthEast(a.bounds),e.viewportBufferExpansionRatio))[0]<r[0]?[[r[0],r[1],180,n[1]],[-180,r[1],n[0],n[1]]]:[[r[0],r[1],n[0],n[1]]]).map((function(e){e=new URLSearchParams({"api-version":"2.1",tilesetId:o.tilesetId,zoom:void 0!==a.zoom?"".concat(Math.floor(a.zoom)):void 0,bounds:e.join(",")});var r={url:n="".concat("https://{{azMapsDomain}}","/map/attribution"),headers:{}},n=(t._substituteDomainLanguageViewAndSignInRequest(n,r),"".concat(r.url).concat(r.url.includes("?")?"&":"?").concat(e.toString()));return t._sendRequest(n,"Attribution",r.headers).then((function(e){return e.json()}))})),Promise.all(i).then((function(e){o.applyAttributionResponse(e),o.lastFetchState={bounds:new zl([r[0],r[1],n[0],n[1]]),zoom:a.zoom}})).catch((function(e){return console.error(e)})))},e.prototype.applyAttributionResponse=function(e){var t,r,n,i=this;e=e.map((function(e){return e.copyrights||[]})).reduce((function(e,t){return ZN(ZN([],NN(e),!1),NN(t),!1)}),[]),0!=e.length&&(null===(e=Xu.parseWithFilter(e.join(""),(function(e){return!0}),(function(e){return e}),(function(){return i.element.innerHTML="",i.element})))?console.warn("Dynamic attribution is empty after filtering"):(t="string"==typeof e?((t=document.createElement("span")).innerHTML=e,t):e,n=t===this.element?(r=document.createElement("span"),Array.from(this.element.childNodes).forEach((function(e){return r.appendChild(e)})),r):t,Array.from(this.element.attributes).filter((function(e){return zN.includes(e.name)})).forEach((function(e){return n.attributes.setNamedItem(e.cloneNode())})),n.style.display=this.element.style.display,e=this.element.parentElement,this.element.remove(),e.append(n),this.element=n,this.attributionChangeCallback(this)))},e.viewportBufferExpansionRatio=2,LN([kN(1e3)],e.prototype,"fetchAndApplyDynamicAttribution",null),e}(),AN=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},RN=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},DN=[/all rights reserved/gi],XN=function(){function e(e,t,r){var n,i=this;this.rules=[],this.virtualContext=((n=document.createElement("span")).className="azure-map-copyright-context",n),this.renderContext=this.virtualContext.cloneNode(!1),this.addAttributionFromSource=function(e){},this.removeAttributionFromSource=function(e){},this.getMapStyleVisibleSources=function(){var e=i.map._getMap(),t=e.getStyle();return Object.entries(t.sources).filter((function(e){var r=AN(e,1)[0];return t.layers.filter((function(e){return e&&e.source==r})).reduce((function(e,t){return!(t.layout&&"none"===t.layout.visibility||t.paint&&0===t.paint["icon-opacity"]&&0===t.paint["text-opacity"])||e}),!1)})).map((function(t){return t=AN(t,1)[0],e.getSource(t)}))},this.loadAttributionOnceSourcesLoaded=function(){var e=i.getMapStyleVisibleSources();Promise.all(e.map((function(e){return new Promise((function(t,r){var n;"tiles"in e?t(e):((n=e).on("data",(function r(i){"metadata"==i.sourceDataType&&(n.off("data",r),t(e))})),n.on("error",(function e(t){n.off("error",e),r(t)})))})).then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))}))).then((function(e){i.reloadAttribution()}))},this.reloadAttribution=function(){var e=i.getMapStyleVisibleSources(),t=new Set,r={},n=(e=e.filter((function(e){return"attribution"in e&&e.attribution&&"tiles"in e&&e.tiles instanceof Array&&0<e.tiles.length})).map((function(e){return Xu.parseWithFilter(null!=(e=e.attribution)?e:"",(function(e){return EN.includes(e.tagName)&&Array.from(e.attributes).map((function(e){return GN.includes(e.name)})).reduce((function(e,t){return e&&t}),!0)}),(function(e){var n,o=null;return e instanceof HTMLElement&&PN.applicable(e)&&(o=new PN(e,(function(){return i.renderAttribution()})),t.add(o),void 0!==o.order)&&(e.style.order="".concat(o.order)),o&&e instanceof HTMLElement&&(!((n=o.stringRepresentation)in r)||void 0!==o.order&&void 0!==r[n].order&&o.order<r[n].order||void 0!==o.order&&void 0===r[n].order)&&(r[n]=o),e}),(function(){return document.createElement("span")}))})),new Set(Object.values(r))),o=new Set(RN([],AN(t),!1).filter((function(e){return!n.has(e)}))),a=new Set(RN([],AN(o),!1).map((function(e){return e.getElement()}))),s=(RN([],AN(a),!1).filter((function(e){return null!==e.parentElement})).forEach((function(e){return e.parentElement.removeChild(e)})),i.rules=Object.values(r),o=e.filter((function(e){return"string"==typeof e||!a.has(e)})).map((function(e){return"string"==typeof e?new Text(e):e})),document.createElement("span"));0<o.length?o.forEach((function(e){return s.appendChild(e)})):i.getDefaultAttribution().forEach((function(e){return s.appendChild(e)})),i.virtualContext=s,i.copyrightControl.setOptions({copyrightContent:i.renderContext}),i.applyRules(),i.renderAttribution()},this.applyRules=function(e){void 0===e&&(e=null),i.rules.reduce((function(t,r){return r=r.apply(i.map,e),t||r}),!1)&&i.renderAttribution()},this.renderAttribution=function(){var e=function(t){return Array.from("none"!=t.style.display?t.children:[]).map((function(t){return e(t)})).reduce((function(e,t){return RN(RN([],AN(e),!1),AN(t),!1)}),Array.from("none"!=t.style.display?t.childNodes:[]).filter((function(e){return e.nodeType==e.TEXT_NODE})))},t=i.virtualContext.cloneNode(!0),r=e(t);r.forEach((function(e){return e.textContent=RN([],AN(DN),!1).reduce((function(e,t){return e.replace(t,"").trim()}),e.textContent)})),r.reduce((function(e,t){return e.has(t.textContent)?(t.textContent="",t.parentElement&&t.parentElement.removeChild(t)):e.add(t.textContent),e}),new Set),i.renderContext.innerHTML="",Array.from(t.childNodes).forEach((function(e){return i.renderContext.appendChild(e)}))},this.map=e,this.copyrightControl=t,this.options=r}return e.prototype.addToMap=function(){this.map.events.add("stylechanged",this.loadAttributionOnceSourcesLoaded),this.map.events.add("dragend",this.applyRules),this.map.events.add("zoomend",this.applyRules),this.map.events.add("pitchend",this.applyRules)},e.prototype.removeFromMap=function(){this.map.events.remove("stylechanged",this.loadAttributionOnceSourcesLoaded),this.map.events.remove("dragend",this.applyRules),this.map.events.remove("zoomend",this.applyRules),this.map.events.remove("pitchend",this.applyRules)},e.prototype.getDefaultAttribution=function(){return this.copyrightControl.getDefaultAttributions().map((function(e){return(t=document.createElement("a")).textContent=e,t;var t}))},e}(),ON=function(e,t){return(ON=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};function WN(e,t){function r(){this.constructor=e}ON(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var jN=function(){return(jN=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function YN(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function FN(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}function VN(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,(l=i?[2&l[0],i.value]:l)[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3]))o.label=l[1];else if(6===l[0]&&o.label<i[1])o.label=i[1],i=l;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function HN(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function UN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(HN(arguments[t]));return e}var BN=function(e,t){return(BN=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};function KN(e,t){function r(){this.constructor=e}BN(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var JN=function(){return(JN=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function QN(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}function qN(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,(l=i?[2&l[0],i.value]:l)[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3]))o.label=l[1];else if(6===l[0]&&o.label<i[1])o.label=i[1],i=l;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function $N(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}var eZ,tZ,rZ,nZ,iZ,oZ,aZ,sZ,lZ,cZ,uZ,dZ,hZ,pZ,mZ,yZ,fZ,gZ,bZ,vZ,MZ,xZ,SZ,wZ={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},_Z=[wZ.OPENID_SCOPE,wZ.PROFILE_SCOPE,wZ.OFFLINE_ACCESS_SCOPE],TZ=$N(_Z,[wZ.EMAIL_SCOPE]),IZ=(function(e){e.CONTENT_TYPE="Content-Type",e.RETRY_AFTER="Retry-After",e.CCS_HEADER="X-AnchorMailbox",e.WWWAuthenticate="WWW-Authenticate",e.AuthenticationInfo="Authentication-Info",e.X_MS_REQUEST_ID="x-ms-request-id",e.X_MS_HTTP_VERSION="x-ms-httpver"}(eZ=eZ||{}),function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description",e.ACTIVE_ACCOUNT="active-account",e.ACTIVE_ACCOUNT_FILTERS="active-account-filters"}(tZ=tZ||{}),function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(rZ=rZ||{}),function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.X_APP_NAME="x-app-name",e.X_APP_VER="x-app-ver",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci",e.CCS_HEADER="X-AnchorMailbox",e.RETURN_SPA_CODE="return_spa_code",e.NATIVE_BROKER="nativebroker",e.LOGOUT_HINT="logout_hint"}(nZ=nZ||{}),function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(iZ=iZ||{}),{LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"}),CZ=(function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(oZ=oZ||{}),{PLAIN:"plain",S256:"S256"}),kZ=(function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(aZ=aZ||{}),function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(sZ=sZ||{}),function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}(lZ=lZ||{}),function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(cZ=cZ||{}),function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(uZ=uZ||{}),function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(dZ=dZ||{}),"appmetadata"),LZ="1",NZ="authority-metadata",ZZ=(function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network",e.HARDCODED_VALUES="hardcoded_values"}(hZ=hZ||{}),{SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"}),EZ=(function(e){e.BEARER="Bearer",e.POP="pop",e.SSH="ssh-cert"}(pZ=pZ||{}),{DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"}),zZ=(function(e){e.username="username",e.password="password"}(mZ=mZ||{}),function(e){e[e.httpSuccess=200]="httpSuccess",e[e.httpBadRequest=400]="httpBadRequest"}(yZ=yZ||{}),function(e){e.FAILED_AUTO_DETECTION="1",e.INTERNAL_CACHE="2",e.ENVIRONMENT_VARIABLE="3",e.IMDS="4"}(fZ=fZ||{}),function(e){e.CONFIGURED_MATCHES_DETECTED="1",e.CONFIGURED_NO_AUTO_DETECTION="2",e.CONFIGURED_NOT_DETECTED="3",e.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",e.AUTO_DETECTION_REQUESTED_FAILED="5"}(gZ=gZ||{}),function(e){e.NO_CACHE_HIT="0",e.FORCE_REFRESH="1",e.NO_CACHED_ACCESS_TOKEN="2",e.CACHED_ACCESS_TOKEN_EXPIRED="3",e.REFRESH_CACHED_ACCESS_TOKEN="4",e.CLAIMS_REQUESTED_CACHE_SKIPPED="5"}(bZ=bZ||{}),function(e){e.Jwt="JWT",e.Jwk="JWK",e.Pop="pop"}(vZ=vZ||{}),{unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."},postRequestFailed:{code:"post_request_failed",desc:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."}}),GZ=function(e){function t(r,n,i){var o=this;return o=e.call(this,n?r+": "+n:r)||this,Object.setPrototypeOf(o,t.prototype),o.errorCode=r||wZ.EMPTY_STRING,o.errorMessage=n||wZ.EMPTY_STRING,o.subError=i||wZ.EMPTY_STRING,o.name="AuthError",o}return KN(t,e),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(zZ.unexpectedError.code,zZ.unexpectedError.desc+": "+e)},t.createPostRequestFailed=function(e){return new t(zZ.postRequestFailed.code,zZ.postRequestFailed.desc+": "+e)},t}(Error),PZ={createNewGuid:function(){throw GZ.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw GZ.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw GZ.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")}))}))},getPublicKeyThumbprint:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")}))}))},removeTokenBindingKey:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")}))}))},clearKeystore:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")}))}))},signJwt:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Crypto interface - signJwt() has not been implemented")}))}))},hashString:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Crypto interface - hashString() has not been implemented")}))}))}},AZ="client_info_decoding_error",RZ="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",DZ="client_info_empty_error",XZ="The client info was empty. Please review the trace to determine the root cause.",OZ="token_parsing_error",WZ="Token cannot be parsed. Please review stack trace to determine root cause.",jZ="null_or_empty_token",YZ="The token is null or empty. Please review the trace to determine the root cause.",FZ="endpoints_resolution_error",VZ="Error: could not resolve endpoints. Please check network and try again.",HZ="network_error",UZ="Network request failed. Please check network trace to determine root cause.",BZ="openid_config_error",KZ="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",JZ="hash_not_deserialized",QZ="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",qZ="invalid_state",$Z="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",eE="state_mismatch",tE="State mismatch error. Please check your network. Continued requests may cause cache overflow.",rE="state_not_found",nE="State not found",iE="nonce_mismatch",oE="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",aE="nonce_not_found",sE="nonce not found",lE="auth_time_not_found",cE="Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",uE="max_age_transpired",dE="Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",hE="multiple_matching_tokens",pE="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",mE="multiple_matching_accounts",yE="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",fE="multiple_matching_appMetadata",gE="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",bE="request_cannot_be_made",vE="Token request cannot be made without authorization code or refresh token.",ME="cannot_append_empty_scope",xE="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",SE="cannot_remove_empty_scope",wE="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",_E="cannot_append_scopeset",TE="Cannot append ScopeSet due to error.",IE="empty_input_scopeset",CE="Empty input ScopeSet cannot be processed.",kE="device_code_polling_cancelled",LE="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",NE="device_code_expired",ZE="Device code is expired.",EE="device_code_unknown_error",zE="Device code stopped polling for unknown reasons.",GE="no_account_in_silent_request",PE="Please pass an account object, silent flow is not supported without account information",AE="invalid_cache_record",RE="Cache record object was null or undefined.",DE="invalid_cache_environment",XE="Invalid environment when attempting to create cache entry",OE="no_account_found",WE="No account found in cache for given key.",jE="no cache plugin set on CacheManager",YE="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",FE="no_crypto_object",VE="No crypto object detected. This is required for the following operation: ",HE="invalid_cache_type",UE="Invalid cache type",BE="unexpected_account_type",KE="Unexpected account type.",JE="unexpected_credential_type",QE="Unexpected credential type.",qE="invalid_assertion",$E="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",ez="invalid_client_credential",tz="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",rz="token_refresh_required",nz="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",iz="user_timeout_reached",oz="User defined timeout for device code polling reached",az="token_claims_cnf_required_for_signedjwt",sz="Cannot generate a POP jwt if the token_claims are not populated",lz="authorization_code_missing_from_server_response",cz="Server response does not contain an authorization code to proceed",uz="binding_key_not_removed",dz="Could not remove the credential's binding key from storage.",hz="end_session_endpoint_not_supported",pz="Provided authority does not support logout.",mz="key_id_missing",yz="A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",fz="no_network_connectivity",gz="No network connectivity. Check your internet connection.",bz="user_canceled",vz="User canceled the flow.",Mz=function(e){function t(r,n){return(r=e.call(this,r,n)||this).name="ClientAuthError",Object.setPrototypeOf(r,t.prototype),r}return KN(t,e),t.createClientInfoDecodingError=function(e){return new t(AZ,RZ+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(DZ,""+XZ)},t.createTokenParsingError=function(e){return new t(OZ,WZ+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(jZ,YZ+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(FZ,VZ+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(HZ,UZ+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(BZ,KZ+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(JZ,QZ+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(qZ,$Z+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(eE,tE)},t.createStateNotFoundError=function(e){return new t(rE,nE+":  "+e)},t.createNonceMismatchError=function(){return new t(iE,oE)},t.createAuthTimeNotFoundError=function(){return new t(lE,cE)},t.createMaxAgeTranspiredError=function(){return new t(uE,dE)},t.createNonceNotFoundError=function(e){return new t(aE,sE+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(hE,pE+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(mE,yE)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(fE,gE)},t.createTokenRequestCannotBeMadeError=function(){return new t(bE,vE)},t.createAppendEmptyScopeToSetError=function(e){return new t(ME,xE+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(SE,wE+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(_E,TE+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(IE,""+CE)},t.createDeviceCodeCancelledError=function(){return new t(kE,""+LE)},t.createDeviceCodeExpiredError=function(){return new t(NE,""+ZE)},t.createDeviceCodeUnknownError=function(){return new t(EE,""+zE)},t.createNoAccountInSilentRequestError=function(){return new t(GE,""+PE)},t.createNullOrUndefinedCacheRecord=function(){return new t(AE,RE)},t.createInvalidCacheEnvironmentError=function(){return new t(DE,XE)},t.createNoAccountFoundError=function(){return new t(OE,WE)},t.createCachePluginError=function(){return new t(jE,""+YE)},t.createNoCryptoObjectError=function(e){return new t(FE,""+VE+e)},t.createInvalidCacheTypeError=function(){return new t(HE,""+UE)},t.createUnexpectedAccountTypeError=function(){return new t(BE,""+KE)},t.createUnexpectedCredentialTypeError=function(){return new t(JE,""+QE)},t.createInvalidAssertionError=function(){return new t(qE,""+$E)},t.createInvalidCredentialError=function(){return new t(ez,""+tz)},t.createRefreshRequiredError=function(){return new t(rz,nz)},t.createUserTimeoutReachedError=function(){return new t(iz,oz)},t.createTokenClaimsRequiredError=function(){return new t(az,sz)},t.createNoAuthCodeInServerResponseError=function(){return new t(lz,cz)},t.createBindingKeyNotRemovedError=function(){return new t(uz,dz)},t.createLogoutNotSupportedError=function(){return new t(hz,pz)},t.createKeyIdMissingError=function(){return new t(mz,yz)},t.createNoNetworkConnectivityError=function(){return new t(fz,gz)},t.createUserCanceledError=function(){return new t(bz,vz)},t}(GZ),xz=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw Mz.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw Mz.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.isEmptyObj=function(t){if(t&&!e.isEmpty(t))try{var r=JSON.parse(t);return 0===Object.keys(r).length}catch(t){}return!0},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){function t(e){return decodeURIComponent(e.replace(/\+/g," "))}var r={};return(e=e.split("&")).forEach((function(e){var n;e.trim()&&(n=(e=e.split(/=(.+)/g,2))[0],e=e[1],n)&&e&&(r[t(n)]=t(e))})),r},e.trimArrayEntries=function(e){return e.map((function(e){return e.trim()}))},e.removeEmptyStringsFromArray=function(t){return t.filter((function(t){return!e.isEmpty(t)}))},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(e){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}(),Sz=(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(MZ=MZ||{}),function(){function e(t,r,n){this.level=MZ.Info,t=t||e.createDefaultLoggerOptions(),this.localCallback=t.loggerCallback||function(){},this.piiLoggingEnabled=t.piiLoggingEnabled||!1,this.level="number"==typeof t.logLevel?t.logLevel:MZ.Info,this.correlationId=t.correlationId||wZ.EMPTY_STRING,this.packageName=r||wZ.EMPTY_STRING,this.packageVersion=n||wZ.EMPTY_STRING}return e.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:MZ.Info}},e.prototype.clone=function(t,r,n){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},t,r)},e.prototype.logMessage=function(e,t){var r;t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii||(r=(new Date).toUTCString(),r=(xz.isEmpty(t.correlationId)?xz.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+t.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+MZ[t.logLevel]+" - "+e,this.executeCallback(t.logLevel,r,t.containsPii||!1))},e.prototype.executeCallback=function(e,t,r){this.localCallback&&this.localCallback(e,t,r)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:MZ.Error,containsPii:!1,correlationId:t||wZ.EMPTY_STRING})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:MZ.Error,containsPii:!0,correlationId:t||wZ.EMPTY_STRING})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:MZ.Warning,containsPii:!1,correlationId:t||wZ.EMPTY_STRING})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:MZ.Warning,containsPii:!0,correlationId:t||wZ.EMPTY_STRING})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:MZ.Info,containsPii:!1,correlationId:t||wZ.EMPTY_STRING})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:MZ.Info,containsPii:!0,correlationId:t||wZ.EMPTY_STRING})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:MZ.Verbose,containsPii:!1,correlationId:t||wZ.EMPTY_STRING})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:MZ.Verbose,containsPii:!0,correlationId:t||wZ.EMPTY_STRING})},e.prototype.trace=function(e,t){this.logMessage(e,{logLevel:MZ.Trace,containsPii:!1,correlationId:t||wZ.EMPTY_STRING})},e.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:MZ.Trace,containsPii:!0,correlationId:t||wZ.EMPTY_STRING})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}()),wz="@azure/msal-common",_z="13.3.1",Tz=(function(e){e[e.None=0]="None",e.AzurePublic="https://login.microsoftonline.com",e.AzurePpe="https://login.windows-ppe.net",e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureUsGovernment="https://login.microsoftonline.us"}(xZ=xZ||{}),{redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},claimsRequestParsingError:{code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},authorityUriInsecure:{code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},urlParseError:{code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},urlEmptyError:{code:"empty_url_error",desc:"URL was empty or null."},emptyScopesError:{code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},nonArrayScopesError:{code:"nonarray_input_scopes_error",desc:"Scopes cannot be passed as non-array."},clientIdSingleScopeError:{code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},invalidPrompt:{code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},invalidClaimsRequest:{code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},tokenRequestEmptyError:{code:"token_request_empty",desc:"Token request was empty and not found in cache."},logoutRequestEmptyError:{code:"logout_request_empty",desc:"The logout request was null or undefined."},invalidCodeChallengeMethod:{code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},invalidCodeChallengeParams:{code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},invalidCloudDiscoveryMetadata:{code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},invalidAuthorityMetadata:{code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},untrustedAuthority:{code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},invalidAzureCloudInstance:{code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},missingSshJwk:{code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},missingSshKid:{code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},missingNonceAuthenticationHeader:{code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},invalidAuthenticationHeader:{code:"invalid_authentication_header",desc:"Invalid authentication header provided"},authorityMismatch:{code:"authority_mismatch",desc:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."}}),Iz=function(e){function t(r,n){return(r=e.call(this,r,n)||this).name="ClientConfigurationError",Object.setPrototypeOf(r,t.prototype),r}return KN(t,e),t.createRedirectUriEmptyError=function(){return new t(Tz.redirectUriNotSet.code,Tz.redirectUriNotSet.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Tz.postLogoutUriNotSet.code,Tz.postLogoutUriNotSet.desc)},t.createClaimsRequestParsingError=function(e){return new t(Tz.claimsRequestParsingError.code,Tz.claimsRequestParsingError.desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(Tz.authorityUriInsecure.code,Tz.authorityUriInsecure.desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(Tz.urlParseError.code,Tz.urlParseError.desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(Tz.urlEmptyError.code,Tz.urlEmptyError.desc)},t.createEmptyScopesArrayError=function(){return new t(Tz.emptyScopesError.code,""+Tz.emptyScopesError.desc)},t.createClientIdSingleScopeError=function(e){return new t(Tz.clientIdSingleScopeError.code,Tz.clientIdSingleScopeError.desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(Tz.invalidPrompt.code,Tz.invalidPrompt.desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(Tz.invalidClaimsRequest.code,Tz.invalidClaimsRequest.desc)},t.createEmptyLogoutRequestError=function(){return new t(Tz.logoutRequestEmptyError.code,Tz.logoutRequestEmptyError.desc)},t.createEmptyTokenRequestError=function(){return new t(Tz.tokenRequestEmptyError.code,Tz.tokenRequestEmptyError.desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(Tz.invalidCodeChallengeMethod.code,Tz.invalidCodeChallengeMethod.desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(Tz.invalidCodeChallengeParams.code,Tz.invalidCodeChallengeParams.desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(Tz.invalidCloudDiscoveryMetadata.code,Tz.invalidCloudDiscoveryMetadata.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(Tz.invalidAuthorityMetadata.code,Tz.invalidAuthorityMetadata.desc)},t.createUntrustedAuthorityError=function(){return new t(Tz.untrustedAuthority.code,Tz.untrustedAuthority.desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(Tz.invalidAzureCloudInstance.code,Tz.invalidAzureCloudInstance.desc)},t.createMissingSshJwkError=function(){return new t(Tz.missingSshJwk.code,Tz.missingSshJwk.desc)},t.createMissingSshKidError=function(){return new t(Tz.missingSshKid.code,Tz.missingSshKid.desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(Tz.missingNonceAuthenticationHeader.code,Tz.missingNonceAuthenticationHeader.desc)},t.createInvalidAuthenticationHeaderError=function(e,r){return new t(Tz.invalidAuthenticationHeader.code,Tz.invalidAuthenticationHeader.desc+". Invalid header: "+e+". Details: "+r)},t.createAuthorityMismatchError=function(){return new t(Tz.authorityMismatch.code,Tz.authorityMismatch.desc)},t}(Mz),Cz=function(){function e(e){var t=this;e=(e=e?xz.trimArrayEntries($N(e)):[])?xz.removeEmptyStringsFromArray(e):[],this.validateInputScopes(e),this.scopes=new Set,e.forEach((function(e){return t.scopes.add(e)}))}return e.fromString=function(t){return new e((t||wZ.EMPTY_STRING).split(" "))},e.createSearchScopes=function(t){return(t=new e(t)).containsOnlyOIDCScopes()?t.removeScope(wZ.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw Iz.createEmptyScopesArrayError()},e.prototype.containsScope=function(t){var r=new e(this.printScopesLowerCase().split(" "));return!xz.isEmpty(t)&&r.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)}))},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return TZ.forEach((function(r){e.containsScope(r)&&(t+=1)})),this.scopes.size===t},e.prototype.appendScope=function(e){xz.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(e){throw Mz.createAppendScopeSetError(e)}},e.prototype.removeScope=function(e){if(xz.isEmpty(e))throw Mz.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;TZ.forEach((function(t){e.scopes.delete(t)}))},e.prototype.unionScopeSets=function(e){var t;if(e)return t=new Set,e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t;throw Mz.createEmptyInputScopeSetError()},e.prototype.intersectingScopeSets=function(e){if(!e)throw Mz.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),r=(e=e.getScopeCount(),this.getScopeCount());return t.size<r+e},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):wZ.EMPTY_STRING},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}();function kz(e,t){if(xz.isEmpty(e))throw Mz.createClientInfoEmptyError();try{var r=t.base64Decode(e);return JSON.parse(r)}catch(e){throw Mz.createClientInfoDecodingError(e.message)}}function Lz(e){if(xz.isEmpty(e))throw Mz.createClientInfoDecodingError("Home account ID was empty.");return{uid:(e=e.split(cZ.CLIENT_INFO_SEPARATOR,2))[0],utid:e.length<2?wZ.EMPTY_STRING:e[1]}}!function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs",e[e.Dsts=2]="Dsts",e[e.Ciam=3]="Ciam"}(SZ=SZ||{});var Nz=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(cZ.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.generateType=function(){switch(this.authorityType){case lZ.ADFS_ACCOUNT_TYPE:return dZ.ADFS;case lZ.MSAV1_ACCOUNT_TYPE:return dZ.MSA;case lZ.MSSTS_ACCOUNT_TYPE:return dZ.MSSTS;case lZ.GENERIC_ACCOUNT_TYPE:return dZ.GENERIC;default:throw Mz.createUnexpectedAccountTypeError()}},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||wZ.EMPTY_STRING,e.tenantId||wZ.EMPTY_STRING].join(cZ.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,r,n,i,o,a,s,l){var c=new e;if(c.authorityType=lZ.MSSTS_ACCOUNT_TYPE,c.clientInfo=t,c.homeAccountId=r,c.nativeAccountId=l,t=s||i&&i.getPreferredCache())return c.environment=t,c.realm=(null==(r=null==n?void 0:n.claims)?void 0:r.tid)||wZ.EMPTY_STRING,n&&(c.idTokenClaims=n.claims,c.localAccountId=(null==(l=null==n?void 0:n.claims)?void 0:l.oid)||(null==(s=null==n?void 0:n.claims)?void 0:s.sub)||wZ.EMPTY_STRING,t=null==(i=null==n?void 0:n.claims)?void 0:i.preferred_username,l=null!=(r=null==n?void 0:n.claims)&&r.emails?n.claims.emails[0]:null,c.username=t||l||wZ.EMPTY_STRING,c.name=null==(s=null==n?void 0:n.claims)?void 0:s.name),c.cloudGraphHostName=o,c.msGraphHost=a,c;throw Mz.createInvalidCacheEnvironmentError()},e.createGenericAccount=function(t,r,n,i,o,a){var s=new e;if(s.authorityType=n&&n.authorityType===SZ.Adfs?lZ.ADFS_ACCOUNT_TYPE:lZ.GENERIC_ACCOUNT_TYPE,s.homeAccountId=t,s.realm=wZ.EMPTY_STRING,t=a||n&&n.getPreferredCache())return r&&(s.localAccountId=(null==(a=null==r?void 0:r.claims)?void 0:a.oid)||(null==(n=null==r?void 0:r.claims)?void 0:n.sub)||wZ.EMPTY_STRING,s.username=(null==(a=null==r?void 0:r.claims)?void 0:a.upn)||wZ.EMPTY_STRING,s.name=(null==(n=null==r?void 0:r.claims)?void 0:n.name)||wZ.EMPTY_STRING,s.idTokenClaims=null==r?void 0:r.claims),s.environment=t,s.cloudGraphHostName=i,s.msGraphHost=o,s;throw Mz.createInvalidCacheEnvironmentError()},e.generateHomeAccountId=function(e,t,r,n,i){var o=null!=(o=null==i?void 0:i.claims)&&o.sub?i.claims.sub:wZ.EMPTY_STRING;if(t!==SZ.Adfs&&t!==SZ.Dsts){if(e)try{var a=kz(e,n);if(!xz.isEmpty(a.uid)&&!xz.isEmpty(a.utid))return""+a.uid+cZ.CLIENT_INFO_SEPARATOR+a.utid}catch(e){}r.verbose("No client info in response")}return o},e.isAccountEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")},e.accountInfoIsEqual=function(e,t,r){var n,i;return!(!e||!t)&&(i=!0,r&&(r=e.idTokenClaims||{},n=t.idTokenClaims||{},i=r.iat===n.iat&&r.nonce===n.nonce),e.homeAccountId===t.homeAccountId)&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i},e}(),Zz=function(){function e(t,r){if(xz.isEmpty(t))throw Mz.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,r)}return e.extractTokenClaims=function(e,t){e=xz.decodeAuthToken(e);try{var r=e.JWSPayload,n=t.base64Decode(r);return JSON.parse(n)}catch(e){throw Mz.createTokenParsingError(e)}},e.checkMaxAge=function(e,t){if(0===t||Date.now()-3e5>e+t)throw Mz.createMaxAgeTranspiredError()},e}(),Ez=function(){function e(e,t,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(wz,_z)}return e.prototype.getAllAccounts=function(){var e=this,t=this.getAccountKeys();return t.length<1||(t=t.reduce((function(t,r){return(r=e.getAccount(r))&&t.push(r),t}),[])).length<1?[]:t.map((function(t){return e.getAccountInfoFromEntity(t)}))},e.prototype.getAccountInfoFilteredBy=function(e){return 0<(e=this.getAccountsFilteredBy(e)).length?this.getAccountInfoFromEntity(e[0]):null},e.prototype.getAccountInfoFromEntity=function(e){e=e.getAccountInfo();var t=this.getIdToken(e);return t&&(e.idToken=t.secret,e.idTokenClaims=new Zz(t.secret,this.cryptoImpl).claims),e},e.prototype.saveCacheRecord=function(e){return QN(this,void 0,void 0,(function(){return qN(this,(function(t){switch(t.label){case 0:if(e)return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];throw Mz.createNullOrUndefinedCacheRecord();case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}}))}))},e.prototype.saveAccessToken=function(e){return QN(this,void 0,void 0,(function(){var t,r,n,i,o=this;return qN(this,(function(a){switch(a.label){case 0:return t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),n=Cz.fromString(e.target),i=[],r.accessToken.forEach((function(e){var r;o.accessTokenKeyMatchesFilter(e,t,!1)&&(r=o.getAccessTokenCredential(e))&&o.credentialMatchesFilter(r,t)&&Cz.fromString(r.target).intersectingScopeSets(n)&&i.push(o.removeAccessToken(e))})),[4,Promise.all(i)];case 1:return a.sent(),this.setAccessTokenCredential(e),[2]}}))}))},e.prototype.getAccountsFilteredBy=function(e){var t=this,r=this.getAccountKeys(),n=[];return r.forEach((function(r){!t.isAccountKey(r,e.homeAccountId,e.realm)||!(r=t.getAccount(r))||e.homeAccountId&&!t.matchHomeAccountId(r,e.homeAccountId)||e.localAccountId&&!t.matchLocalAccountId(r,e.localAccountId)||e.username&&!t.matchUsername(r,e.username)||e.environment&&!t.matchEnvironment(r,e.environment)||e.realm&&!t.matchRealm(r,e.realm)||e.nativeAccountId&&!t.matchNativeAccountId(r,e.nativeAccountId)||n.push(r)})),n},e.prototype.isAccountKey=function(e,t,r){return!(e.split(cZ.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))},e.prototype.isCredentialKey=function(e){if(e.split(cZ.CACHE_KEY_SEPARATOR).length<6)return!1;if(-1===(e=e.toLowerCase()).indexOf(uZ.ID_TOKEN.toLowerCase())&&-1===e.indexOf(uZ.ACCESS_TOKEN.toLowerCase())&&-1===e.indexOf(uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===e.indexOf(uZ.REFRESH_TOKEN.toLowerCase()))return!1;if(-1<e.indexOf(uZ.REFRESH_TOKEN.toLowerCase())){var t=""+uZ.REFRESH_TOKEN+cZ.CACHE_KEY_SEPARATOR+this.clientId+cZ.CACHE_KEY_SEPARATOR,r=""+uZ.REFRESH_TOKEN+cZ.CACHE_KEY_SEPARATOR+LZ+cZ.CACHE_KEY_SEPARATOR;if(-1===e.indexOf(t.toLowerCase())&&-1===e.indexOf(r.toLowerCase()))return!1}else if(-1===e.indexOf(this.clientId.toLowerCase()))return!1;return!0},e.prototype.credentialMatchesFilter=function(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"==typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===pZ.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var r=this,n=this.getKeys(),i={};return n.forEach((function(n){var o;!r.isAppMetadata(n)||!(o=r.getAppMetadata(n))||e&&!r.matchEnvironment(o,e)||t&&!r.matchClientId(o,t)||(i[n]=o)})),i},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,r=this.getAuthorityMetadataKeys(),n=null;return r.forEach((function(r){t.isAuthorityMetadata(r)&&-1!==r.indexOf(t.clientId)&&(r=t.getAuthorityMetadata(r))&&-1!==r.aliases.indexOf(e)&&(n=r)})),n},e.prototype.removeAllAccounts=function(){return QN(this,void 0,void 0,(function(){var e,t,r=this;return qN(this,(function(n){switch(n.label){case 0:return e=this.getAccountKeys(),t=[],e.forEach((function(e){t.push(r.removeAccount(e))})),[4,Promise.all(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.removeAccount=function(e){return QN(this,void 0,void 0,(function(){var t;return qN(this,(function(r){switch(r.label){case 0:if(t=this.getAccount(e))return[4,this.removeAccountContext(t)];throw Mz.createNoAccountFoundError();case 1:return r.sent(),this.removeItem(e),[2]}}))}))},e.prototype.removeAccountContext=function(e){return QN(this,void 0,void 0,(function(){var t,r,n,i=this;return qN(this,(function(o){switch(o.label){case 0:return t=this.getTokenKeys(),r=e.generateAccountId(),n=[],t.idToken.forEach((function(e){0===e.indexOf(r)&&i.removeIdToken(e)})),t.accessToken.forEach((function(e){0===e.indexOf(r)&&n.push(i.removeAccessToken(e))})),t.refreshToken.forEach((function(e){0===e.indexOf(r)&&i.removeRefreshToken(e)})),[4,Promise.all(n)];case 1:return o.sent(),[2]}}))}))},e.prototype.removeAccessToken=function(e){return QN(this,void 0,void 0,(function(){var t;return qN(this,(function(r){switch(r.label){case 0:if(!(t=this.getAccessTokenCredential(e)))return[2];if(t.credentialType.toLowerCase()!==uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==pZ.POP)return[3,4];if(!(t=t.keyId))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(t)];case 2:return r.sent(),[3,4];case 3:throw r.sent(),Mz.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e)]}}))}))},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t)})),!0},e.prototype.readCacheRecord=function(e,t,r){var n=this.getTokenKeys(),i=this.readAccountFromCache(e),o=this.getIdToken(e,n);return t=this.getAccessToken(e,t,n),e=this.getRefreshToken(e,!1,n),n=this.readAppMetadataFromCache(r),i&&o&&(i.idTokenClaims=new Zz(o.secret,this.cryptoImpl).claims),{account:i,idToken:o,accessToken:t,refreshToken:e,appMetadata:n}},e.prototype.readAccountFromCache=function(e){return e=Nz.generateAccountCacheKey(e),this.getAccount(e)},e.prototype.getIdToken=function(e,t){var r=this;return this.commonLogger.trace("CacheManager - getIdToken called"),e={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:uZ.ID_TOKEN,clientId:this.clientId,realm:e.tenantId},(t=(e=this.getIdTokensByFilter(e,t)).length)<1?(this.commonLogger.info("CacheManager:getIdToken - No token found"),null):1<t?(this.commonLogger.info("CacheManager:getIdToken - Multiple id tokens found, clearing them"),e.forEach((function(e){r.removeIdToken(e.generateCredentialKey())})),null):(this.commonLogger.info("CacheManager:getIdToken - Returning id token"),e[0])},e.prototype.getIdTokensByFilter=function(e,t){var r=this,n=(t=t&&t.idToken||this.getTokenKeys().idToken,[]);return t.forEach((function(t){r.idTokenKeyMatchesFilter(t,JN({clientId:r.clientId},e))&&(t=r.getIdTokenCredential(t))&&r.credentialMatchesFilter(t,e)&&n.push(t)})),n},e.prototype.idTokenKeyMatchesFilter=function(e,t){return e=e.toLowerCase(),!(t.clientId&&-1===e.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===e.indexOf(t.homeAccountId.toLowerCase()))},e.prototype.removeIdToken=function(e){this.removeItem(e)},e.prototype.removeRefreshToken=function(e){this.removeItem(e)},e.prototype.getAccessToken=function(e,t,r){var n=this,i=(this.commonLogger.trace("CacheManager - getAccessToken called"),Cz.createSearchScopes(t.scopes)),o=t.authenticationScheme||pZ.BEARER,a=o&&o.toLowerCase()!==pZ.BEARER.toLowerCase()?uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME:uZ.ACCESS_TOKEN,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:a,clientId:this.clientId,realm:e.tenantId,target:i,tokenType:o,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},l=(a=r&&r.accessToken||this.getTokenKeys().accessToken,[]);return a.forEach((function(e){n.accessTokenKeyMatchesFilter(e,s,!0)&&(e=n.getAccessTokenCredential(e))&&n.credentialMatchesFilter(e,s)&&l.push(e)})),(e=l.length)<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):1<e?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),l.forEach((function(e){n.removeAccessToken(e.generateCredentialKey())})),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),l[0])},e.prototype.accessTokenKeyMatchesFilter=function(e,t,r){var n=e.toLowerCase();if(t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===n.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===n.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===n.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target)for(var i=t.target.asArray(),o=0;o<i.length;o++){if(r&&!n.includes(i[o].toLowerCase()))return!1;if(!r&&n.includes(i[o].toLowerCase()))return!0}return!0},e.prototype.getAccessTokensByFilter=function(e){var t=this,r=this.getTokenKeys(),n=[];return r.accessToken.forEach((function(r){t.accessTokenKeyMatchesFilter(r,e,!0)&&(r=t.getAccessTokenCredential(r))&&t.credentialMatchesFilter(r,e)&&n.push(r)})),n},e.prototype.getRefreshToken=function(e,t,r){var n=this,i=(this.commonLogger.trace("CacheManager - getRefreshToken called"),t=t?LZ:void 0,{homeAccountId:e.homeAccountId,environment:e.environment,credentialType:uZ.REFRESH_TOKEN,clientId:this.clientId,familyId:t}),o=(e=r&&r.refreshToken||this.getTokenKeys().refreshToken,[]);return e.forEach((function(e){n.refreshTokenKeyMatchesFilter(e,i)&&(e=n.getRefreshTokenCredential(e))&&n.credentialMatchesFilter(e,i)&&o.push(e)})),o.length<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),o[0])},e.prototype.refreshTokenKeyMatchesFilter=function(e,t){return e=e.toLowerCase(),!(t.familyId&&-1===e.indexOf(t.familyId.toLowerCase())||!t.familyId&&t.clientId&&-1===e.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===e.indexOf(t.homeAccountId.toLowerCase()))},e.prototype.readAppMetadataFromCache=function(e){e={environment:e,clientId:this.clientId};var t=this.getAppMetadataFilteredBy(e),r=(e=Object.keys(t).map((function(e){return t[e]}))).length;if(r<1)return null;if(1<r)throw Mz.createMultipleMatchingAppMetadataInCacheError();return e[0]},e.prototype.isAppMetadataFOCI=function(e){return!(!(e=this.readAppMetadataFromCache(e))||e.familyId!==LZ)},e.prototype.matchHomeAccountId=function(e,t){return!("string"!=typeof e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchLocalAccountId=function(e,t){return!("string"!=typeof e.localAccountId||t!==e.localAccountId)},e.prototype.matchUsername=function(e,t){return!("string"!=typeof e.username||t.toLowerCase()!==e.username.toLowerCase())},e.prototype.matchUserAssertionHash=function(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)},e.prototype.matchEnvironment=function(e,t){return!!((t=this.getAuthorityMetadataByAlias(t))&&-1<t.aliases.indexOf(e.environment))},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchNativeAccountId=function(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)},e.prototype.matchTarget=function(e,t){return!(e.credentialType!==uZ.ACCESS_TOKEN&&e.credentialType!==uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)&&Cz.fromString(e.target).containsScopeSet(t)},e.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},e.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf(kZ)},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf(NZ)},e.prototype.generateAuthorityMetadataCacheKey=function(e){return NZ+"-"+this.clientId+"-"+e},e.toObject=function(e,t){for(var r in t)e[r]=t[r];return e},e}(),zz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KN(t,e),t.prototype.setAccount=function(){throw GZ.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw GZ.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw GZ.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw GZ.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw GZ.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw GZ.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw GZ.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw GZ.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw GZ.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw GZ.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw GZ.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw GZ.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw GZ.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw GZ.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw GZ.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw GZ.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw GZ.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw GZ.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw GZ.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw GZ.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.getAccountKeys=function(){throw GZ.createUnexpectedError("Storage interface - getAccountKeys() has not been implemented for the cacheStorage interface.")},t.prototype.getTokenKeys=function(){throw GZ.createUnexpectedError("Storage interface - getTokenKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")}))}))},t.prototype.updateCredentialCacheKey=function(){throw GZ.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(Ez),Gz={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Pz={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:MZ.Info,correlationId:wZ.EMPTY_STRING},Az={claimsBasedCachingEnabled:!0},Rz={sendGetRequestAsync:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")}))}))},sendPostRequestAsync:function(){return QN(this,void 0,void 0,(function(){return qN(this,(function(e){throw GZ.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")}))}))}},Dz={sku:wZ.SKU,version:_z,cpu:wZ.EMPTY_STRING,os:wZ.EMPTY_STRING},Xz={clientSecret:wZ.EMPTY_STRING,clientAssertion:void 0},Oz={azureCloudInstance:xZ.None,tenant:""+wZ.DEFAULT_COMMON_TENANT},Wz={application:{appName:"",appVersion:""}};function jz(e){return JN({clientCapabilities:[],azureCloudOptions:Oz,skipAuthorityMetadataCache:!1},e)}var Yz,Fz,Vz,Hz,Uz=function(e){function t(r,n,i){return(r=e.call(this,r,n,i)||this).name="ServerError",Object.setPrototypeOf(r,t.prototype),r}return KN(t,e),t}(GZ),Bz=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return EZ.THROTTLING_PREFIX+"."+JSON.stringify(e)},e.preProcess=function(t,r){r=e.generateThrottlingStorageKey(r);var n,i=t.getThrottlingCache(r);if(i){if(!(i.throttleTime<Date.now()))throw new Uz((null==(n=i.errorCodes)?void 0:n.join(" "))||wZ.EMPTY_STRING,i.errorMessage,i.subError);t.removeItem(r)}},e.postProcess=function(t,r,n){(e.checkResponseStatus(n)||e.checkResponseForRetryAfter(n))&&(n={throttleTime:e.calculateThrottleTime(parseInt(n.headers[eZ.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror},t.setThrottlingCache(e.generateThrottlingStorageKey(r),n))},e.checkResponseStatus=function(e){return 429===e.status||500<=e.status&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&e.headers.hasOwnProperty(eZ.RETRY_AFTER)&&(e.status<200||300<=e.status)},e.calculateThrottleTime=function(e){e=e<=0?0:e;var t=Date.now()/1e3;return Math.floor(1e3*Math.min(t+(e||EZ.DEFAULT_THROTTLE_TIME_SECONDS),t+EZ.DEFAULT_MAX_THROTTLE_TIME_SECONDS))},e.removeThrottle=function(e,t,r,n){t={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:n,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},n=this.generateThrottlingStorageKey(t),e.removeItem(n)},e}(),Kz=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,r){return QN(this,void 0,void 0,(function(){var n,i;return qN(this,(function(o){switch(o.label){case 0:Bz.preProcess(this.cacheManager,e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,r)];case 2:return n=o.sent(),[3,4];case 3:throw(i=o.sent())instanceof GZ?i:Mz.createNetworkError(t,i);case 4:return Bz.postProcess(this.cacheManager,e,n),[2,n]}}))}))},e}(),Jz=(function(e){e.HOME_ACCOUNT_ID="home_account_id",e.UPN="UPN"}(Yz=Yz||{}),function(){function e(){}return e.validateRedirectUri=function(e){if(xz.isEmpty(e))throw Iz.createRedirectUriEmptyError()},e.validatePrompt=function(e){var t,r=[];for(t in IZ)r.push(IZ[t]);if(r.indexOf(e)<0)throw Iz.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(e){throw Iz.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(xz.isEmpty(e)||xz.isEmpty(t))throw Iz.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([CZ.PLAIN,CZ.S256].indexOf(e)<0)throw Iz.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach((function(t,r){e[r]&&delete e[r]})),Object.fromEntries(Object.entries(e).filter((function(e){return""!==e[1]})))):{}},e}()),Qz=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(nZ.RESPONSE_TYPE,encodeURIComponent(wZ.CODE_RESPONSE_TYPE))},e.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(nZ.RESPONSE_TYPE,encodeURIComponent(wZ.TOKEN_RESPONSE_TYPE+" "+wZ.ID_TOKEN_RESPONSE_TYPE))},e.prototype.addResponseMode=function(e){this.parameters.set(nZ.RESPONSE_MODE,encodeURIComponent(e||aZ.QUERY))},e.prototype.addNativeBroker=function(){this.parameters.set(nZ.NATIVE_BROKER,encodeURIComponent("1"))},e.prototype.addScopes=function(e,t){t=(t=void 0===t||t)?$N(e||[],_Z):e||[],e=new Cz(t),this.parameters.set(nZ.SCOPE,encodeURIComponent(e.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(nZ.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){Jz.validateRedirectUri(e),this.parameters.set(nZ.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){Jz.validateRedirectUri(e),this.parameters.set(nZ.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(nZ.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(oZ.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(oZ.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addCcsUpn=function(e){this.parameters.set(eZ.CCS_HEADER,encodeURIComponent("UPN:"+e))},e.prototype.addCcsOid=function(e){this.parameters.set(eZ.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},e.prototype.addSid=function(e){this.parameters.set(oZ.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){e=this.addClientCapabilitiesToClaims(e,t),Jz.validateClaims(e),this.parameters.set(nZ.CLAIMS,encodeURIComponent(e))},e.prototype.addCorrelationId=function(e){this.parameters.set(nZ.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(nZ.X_CLIENT_SKU,e.sku),this.parameters.set(nZ.X_CLIENT_VER,e.version),e.os&&this.parameters.set(nZ.X_CLIENT_OS,e.os),e.cpu&&this.parameters.set(nZ.X_CLIENT_CPU,e.cpu)},e.prototype.addApplicationTelemetry=function(e){null!=e&&e.appName&&this.parameters.set(nZ.X_APP_NAME,e.appName),null!=e&&e.appVersion&&this.parameters.set(nZ.X_APP_VER,e.appVersion)},e.prototype.addPrompt=function(e){Jz.validatePrompt(e),this.parameters.set(""+nZ.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){xz.isEmpty(e)||this.parameters.set(nZ.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(nZ.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(Jz.validateCodeChallengeParams(e,t),!e||!t)throw Iz.createInvalidCodeChallengeParamsError();this.parameters.set(nZ.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(nZ.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(nZ.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(nZ.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(nZ.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(nZ.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(nZ.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){xz.isEmpty(e)||this.parameters.set(nZ.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){xz.isEmpty(e)||this.parameters.set(nZ.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(nZ.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(nZ.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(nZ.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},e.prototype.addExtraQueryParameters=function(e){var t=this,r=Jz.sanitizeEQParams(e,this.parameters);Object.keys(r).forEach((function(r){t.parameters.set(r,e[r])}))},e.prototype.addClientCapabilitiesToClaims=function(e,t){var r;if(e)try{r=JSON.parse(e)}catch(e){throw Iz.createInvalidClaimsRequestError()}else r={};return t&&0<t.length&&(r.hasOwnProperty(iZ.ACCESS_TOKEN)||(r[iZ.ACCESS_TOKEN]={}),r[iZ.ACCESS_TOKEN][iZ.XMS_CC]={values:t}),JSON.stringify(r)},e.prototype.addUsername=function(e){this.parameters.set(mZ.username,encodeURIComponent(e))},e.prototype.addPassword=function(e){this.parameters.set(mZ.password,encodeURIComponent(e))},e.prototype.addPopToken=function(e){xz.isEmpty(e)||(this.parameters.set(nZ.TOKEN_TYPE,pZ.POP),this.parameters.set(nZ.REQ_CNF,encodeURIComponent(e)))},e.prototype.addSshJwk=function(e){xz.isEmpty(e)||(this.parameters.set(nZ.TOKEN_TYPE,pZ.SSH),this.parameters.set(nZ.REQ_CNF,encodeURIComponent(e)))},e.prototype.addServerTelemetry=function(e){this.parameters.set(nZ.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(nZ.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},e.prototype.addThrottling=function(){this.parameters.set(nZ.X_MS_LIB_CAPABILITY,EZ.X_MS_LIB_CAPABILITY_VALUE)},e.prototype.addLogoutHint=function(e){this.parameters.set(nZ.LOGOUT_HINT,encodeURIComponent(e))},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach((function(t,r){e.push(r+"="+t)})),e.join("&")},e}(),qz=function(){function e(e,t){this.config=function(e){var t=e.authOptions,r=e.systemOptions,n=e.loggerOptions,i=e.cacheOptions,o=e.storageInterface,a=e.networkInterface,s=e.cryptoInterface,l=e.clientCredentials,c=e.libraryInfo,u=e.telemetry,d=e.serverTelemetryManager,h=e.persistencePlugin;return e=e.serializableCache,n=JN(JN({},Pz),n),{authOptions:jz(t),systemOptions:JN(JN({},Gz),r),loggerOptions:n,cacheOptions:JN(JN({},Az),i),storageInterface:o||new zz(t.clientId,PZ,new Sz(n)),networkInterface:a||Rz,cryptoInterface:s||PZ,clientCredentials:l||Xz,libraryInfo:JN(JN({},Dz),c),telemetry:JN(JN({},Wz),u),serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:e||null}}(e),this.logger=new Sz(this.config.loggerOptions,wz,_z),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Kz(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}return e.prototype.createTokenRequestHeaders=function(e){var t={};if(t[eZ.CONTENT_TYPE]=wZ.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Yz.HOME_ACCOUNT_ID:try{var r=Lz(e.credential);t[eZ.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Yz.UPN:t[eZ.CCS_HEADER]="UPN: "+e.credential}return t},e.prototype.executePostToTokenEndpoint=function(e,t,r,n){return QN(this,void 0,void 0,(function(){var i;return qN(this,(function(o){switch(o.label){case 0:return[4,this.networkManager.sendPostRequest(n,e,{body:t,headers:r})];case 1:return i=o.sent(),this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,i]}}))}))},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw Mz.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e.prototype.createTokenQueryParameters=function(e){var t=new Qz;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},e}(),$z=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},e.prototype.generateType=function(){switch(this.credentialType){case uZ.ID_TOKEN:return dZ.ID_TOKEN;case uZ.ACCESS_TOKEN:case uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME:return dZ.ACCESS_TOKEN;case uZ.REFRESH_TOKEN:return dZ.REFRESH_TOKEN;default:throw Mz.createUnexpectedCredentialTypeError()}},e.generateCredentialCacheKey=function(e,t,r,n,i,o,a,s,l){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(r,n,i,a),this.generateTargetForCacheKey(o),this.generateClaimsHashForCacheKey(l),this.generateSchemeForCacheKey(s)].join(cZ.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(cZ.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,r,n){return[e,e===uZ.REFRESH_TOKEN&&n||t,r||wZ.EMPTY_STRING].join(cZ.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||wZ.EMPTY_STRING).toLowerCase()},e.generateClaimsHashForCacheKey=function(e){return(e||wZ.EMPTY_STRING).toLowerCase()},e.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==pZ.BEARER.toLowerCase()?e.toLowerCase():wZ.EMPTY_STRING},e}(),eG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KN(t,e),t.createIdTokenEntity=function(e,r,n,i,o){var a=new t;return a.credentialType=uZ.ID_TOKEN,a.homeAccountId=e,a.environment=r,a.clientId=i,a.secret=n,a.realm=o,a},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===uZ.ID_TOKEN},t}($z),tG=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,r){return(Number(t)||0)<e.nowSeconds()+r},e.wasClockTurnedBack=function(t){return Number(t)>e.nowSeconds()},e.delay=function(e,t){return new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))},e}(),rG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KN(t,e),t.createAccessTokenEntity=function(e,r,n,i,o,a,s,l,c,u,d,h,p,m,y){var f,g=new t;if(g.homeAccountId=e,g.credentialType=uZ.ACCESS_TOKEN,g.secret=n,e=tG.nowSeconds(),g.cachedAt=e.toString(),g.expiresOn=s.toString(),g.extendedExpiresOn=l.toString(),u&&(g.refreshOn=u.toString()),g.environment=r,g.clientId=i,g.realm=o,g.target=a,g.userAssertionHash=h,g.tokenType=xz.isEmpty(d)?pZ.BEARER:d,m&&(g.requestedClaims=m,g.requestedClaimsHash=y),(null==(e=g.tokenType)?void 0:e.toLowerCase())!==pZ.BEARER.toLowerCase())switch(g.credentialType=uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case pZ.POP:var b=Zz.extractTokenClaims(n,c);if(null==(f=null==b?void 0:b.cnf)||!f.kid)throw Mz.createTokenClaimsRequiredError();g.keyId=b.cnf.kid;break;case pZ.SSH:g.keyId=p}return g},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===uZ.ACCESS_TOKEN||e.credentialType===uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}($z),nG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KN(t,e),t.createRefreshTokenEntity=function(e,r,n,i,o,a){var s=new t;return s.clientId=i,s.credentialType=uZ.REFRESH_TOKEN,s.environment=r,s.homeAccountId=e,s.secret=n,s.userAssertionHash=a,o&&(s.familyId=o),s},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===uZ.REFRESH_TOKEN},t}($z),iG=["interaction_required","consent_required","login_required"],oG=["message_only","additional_action","basic_action","user_password_expired","consent_required"],aG="no_tokens_found",sG="No refresh token found in the cache. Please sign-in.",lG="native_account_unavailable",cG="The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",uG=function(e){function t(r,n,i,o,a,s,l){return r=e.call(this,r,n,i)||this,Object.setPrototypeOf(r,t.prototype),r.timestamp=o||wZ.EMPTY_STRING,r.traceId=a||wZ.EMPTY_STRING,r.correlationId=s||wZ.EMPTY_STRING,r.claims=l||wZ.EMPTY_STRING,r.name="InteractionRequiredAuthError",r}return KN(t,e),t.isInteractionRequiredError=function(e,t,r){e=!!e&&-1<iG.indexOf(e),r=!!r&&-1<oG.indexOf(r);var n=!!t&&iG.some((function(e){return-1<t.indexOf(e)}));return e||n||r},t.createNoTokensFoundError=function(){return new t(aG,sG)},t.createNativeAccountUnavailableError=function(){return new t(lG,cG)},t}(GZ),dG=function(e,t,r,n,i){this.account=e||null,this.idToken=t||null,this.accessToken=r||null,this.refreshToken=n||null,this.appMetadata=i||null},hG=function(){function e(){}return e.setRequestState=function(t,r,n){return t=e.generateLibraryState(t,n),xz.isEmpty(r)?t:""+t+wZ.RESOURCE_DELIM+r},e.generateLibraryState=function(e,t){var r;if(e)return r={id:e.createNewGuid()},t&&(r.meta=t),t=JSON.stringify(r),e.base64Encode(t);throw Mz.createNoCryptoObjectError("generateLibraryState")},e.parseRequestState=function(e,t){if(!e)throw Mz.createNoCryptoObjectError("parseRequestState");if(xz.isEmpty(t))throw Mz.createInvalidStateError(t,"Null, undefined or empty state");try{var r=t.split(wZ.RESOURCE_DELIM),n=r[0],i=1<r.length?r.slice(1).join(wZ.RESOURCE_DELIM):wZ.EMPTY_STRING,o=e.base64Decode(n),a=JSON.parse(o);return{userRequestState:xz.isEmpty(i)?wZ.EMPTY_STRING:i,libraryState:a}}catch(e){throw Mz.createInvalidStateError(t,e)}},e}(),pG=function(){function e(t){if(this._urlString=t,xz.isEmpty(this._urlString))throw Iz.createUrlEmptyError();xz.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),e.canonicalizeUri=function(e){var t;return e&&(t=e.toLowerCase(),xz.endsWith(t,"?")?t=t.slice(0,-1):xz.endsWith(t,"?/")&&(t=t.slice(0,-2)),xz.endsWith(t,"/")||(t+="/"),t)},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(e){throw Iz.createUrlParseError(e)}if(!e.HostNameAndPort||!e.PathSegments)throw Iz.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Iz.createInsecureAuthorityUriError(this.urlString)},e.appendQueryString=function(e,t){return xz.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var r=this.getUrlComponents(),n=r.PathSegments;return!t||0===n.length||n[0]!==rZ.COMMON&&n[0]!==rZ.ORGANIZATIONS||(n[0]=t),e.constructAuthorityUriFromObject(r)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e,t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?");if(t=this.urlString.match(t))return e=(e=(t={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]}).AbsolutePath.split("/")).filter((function(e){return e&&0<e.length})),t.PathSegments=e,!xz.isEmpty(t.QueryString)&&t.QueryString.endsWith("/")&&(t.QueryString=t.QueryString.substring(0,t.QueryString.length-1)),t;throw Iz.createUrlParseError("Given url string: "+this.urlString)},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)");if(t=e.match(t))return t[2];throw Iz.createUrlParseError("Given url string: "+e)},e.getAbsoluteUrl=function(t,r){return t[0]===wZ.FORWARD_SLASH?(r=new e(r).getUrlComponents()).Protocol+"//"+r.HostNameAndPort+t:t},e.parseHash=function(e){var t=e.indexOf("#"),r=e.indexOf("#/");return-1<r?e.substring(r+2):-1<t?e.substring(t+1):wZ.EMPTY_STRING},e.parseQueryString=function(e){var t=e.indexOf("?"),r=e.indexOf("/?");return-1<r?e.substring(r+2):-1<t?e.substring(t+1):wZ.EMPTY_STRING},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(xz.isEmpty(t))return{};var r=e.parseHash(t);if(t=xz.queryStringToObject(xz.isEmpty(r)?t:r))return t;throw Mz.createHashNotDeserializedError(JSON.stringify(t))},e.getDeserializedQueryString=function(t){if(xz.isEmpty(t))return{};var r=e.parseQueryString(t);if(t=xz.queryStringToObject(xz.isEmpty(r)?t:r))return t;throw Mz.createHashNotDeserializedError(JSON.stringify(t))},e.hashContainsKnownProperties=function(t){return!(xz.isEmpty(t)||t.indexOf("=")<0||!((t=e.getDeserializedHash(t)).code||t.error_description||t.error||t.state))},e}(),mG=(function(e){e.AcquireTokenByCode="acquireTokenByCode",e.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",e.AcquireTokenSilent="acquireTokenSilent",e.AcquireTokenSilentAsync="acquireTokenSilentAsync",e.AcquireTokenPopup="acquireTokenPopup",e.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",e.CryptoOptsSignJwt="cryptoOptsSignJwt",e.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",e.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",e.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",e.SsoSilent="ssoSilent",e.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",e.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",e.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",e.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",e.BrokerHandhshake="brokerHandshake",e.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",e.AcquireTokenByBroker="acquireTokenByBroker",e.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",e.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",e.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",e.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",e.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",e.AcquireTokenFromCache="acquireTokenFromCache",e.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",e.InitializeBaseRequest="initializeBaseRequest",e.InitializeSilentRequest="initializeSilentRequest",e.InitializeClientApplication="initializeClientApplication",e.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",e.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",e.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",e.SilentHandlerLoadFrame="silentHandlerLoadFrame",e.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",e.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",e.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",e.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",e.GetAuthCodeUrl="getAuthCodeUrl",e.HandleCodeResponseFromServer="handleCodeResponseFromServer",e.HandleCodeResponseFromHash="handleCodeResponseFromHash",e.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",e.AuthClientAcquireToken="authClientAcquireToken",e.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",e.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",e.AuthClientCreateQueryString="authClientCreateQueryString",e.PopTokenGenerateCnf="popTokenGenerateCnf",e.PopTokenGenerateKid="popTokenGenerateKid",e.HandleServerTokenResponse="handleServerTokenResponse",e.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",e.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",e.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",e.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",e.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",e.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",e.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",e.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",e.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",e.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",e.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",e.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",e.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",e.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",e.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",e.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",e.NativeMessageHandlerHandshake="nativeMessageHandlerHandshake",e.ClearTokensAndKeysWithClaims="clearTokensAndKeysWithClaims"}(Fz=Fz||{}),function(e){e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(Vz=Vz||{}),new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"])),yG=(function(e){e.SW="sw",e.UHW="uhw"}(Hz=Hz||{}),function(){function e(e,t){this.cryptoUtils=e,this.performanceClient=t}return e.prototype.generateCnf=function(e){var t;return QN(this,void 0,void 0,(function(){var r,n;return qN(this,(function(i){switch(i.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.PopTokenGenerateCnf,e.correlationId),null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.PopTokenGenerateKid,e.correlationId),[4,this.generateKid(e)];case 1:return n=i.sent(),r=this.cryptoUtils.base64Encode(JSON.stringify(n)),n={kid:n.kid,reqCnfString:r},[4,this.cryptoUtils.hashString(r)];case 2:return[2,(n.reqCnfHash=i.sent(),n)]}}))}))},e.prototype.generateKid=function(e){var t;return QN(this,void 0,void 0,(function(){return qN(this,(function(r){switch(r.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.PopTokenGenerateKid,e.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:r.sent(),xms_ksl:Hz.SW}]}}))}))},e.prototype.signPopToken=function(e,t,r){return QN(this,void 0,void 0,(function(){return qN(this,(function(n){return[2,this.signPayload(e,t,r)]}))}))},e.prototype.signPayload=function(e,t,r,n){return QN(this,void 0,void 0,(function(){var i,o,a,s;return qN(this,(function(l){switch(l.label){case 0:return i=r.resourceRequestMethod,s=r.resourceRequestUri,o=r.shrClaims,a=r.shrNonce,s=null==(s=s?new pG(s):void 0)?void 0:s.getUrlComponents(),[4,this.cryptoUtils.signJwt(JN({at:e,ts:tG.nowSeconds(),m:null==i?void 0:i.toUpperCase(),u:null==s?void 0:s.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:null==s?void 0:s.AbsolutePath,q:null!=s&&s.QueryString?[[],s.QueryString]:void 0,client_claims:o||void 0},n),t,r.correlationId)];case 1:return[2,l.sent()]}}))}))},e}()),fG=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return[kZ,e,t].join(cZ.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,r,n){var i=new e;return i.clientId=t,i.environment=r,n&&(i.familyId=n),i},e.isAppMetadataEntity=function(e,t){return!!t&&0===e.indexOf(kZ)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")},e}(),gG=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),e}(),bG=function(){function e(e,t,r,n,i,o,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=i,this.persistencePlugin=o,this.performanceClient=a}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,r){if(!e.state||!t)throw e.state?Mz.createStateNotFoundError("Cached State"):Mz.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw Mz.createStateMismatchError();if(e.error||e.error_description||e.suberror){if(uG.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new uG(e.error||wZ.EMPTY_STRING,e.error_description,e.suberror,e.timestamp||wZ.EMPTY_STRING,e.trace_id||wZ.EMPTY_STRING,e.correlation_id||wZ.EMPTY_STRING,e.claims||wZ.EMPTY_STRING);throw new Uz(e.error||wZ.EMPTY_STRING,e.error_description,e.suberror)}e.client_info&&kz(e.client_info,r)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(uG.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new uG(e.error,e.error_description,e.suberror,e.timestamp||wZ.EMPTY_STRING,e.trace_id||wZ.EMPTY_STRING,e.correlation_id||wZ.EMPTY_STRING,e.claims||wZ.EMPTY_STRING);var t=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new Uz(e.error,t,e.suberror)}},e.prototype.handleServerTokenResponse=function(t,r,n,i,o,a,s,l,c){var u;return QN(this,void 0,void 0,(function(){var d,h,p,m,y;return qN(this,(function(f){switch(f.label){case 0:if(null!=(u=this.performanceClient)&&u.addQueueMeasurement(Fz.HandleServerTokenResponse,t.correlation_id),t.id_token){if(d=new Zz(t.id_token||wZ.EMPTY_STRING,this.cryptoObj),o&&!xz.isEmpty(o.nonce)&&d.claims.nonce!==o.nonce)throw Mz.createNonceMismatchError();if(i.maxAge||0===i.maxAge){if(!(p=d.claims.auth_time))throw Mz.createAuthTimeNotFoundError();Zz.checkMaxAge(p,i.maxAge)}}this.homeAccountIdentifier=Nz.generateHomeAccountId(t.client_info||wZ.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,d),o&&o.state&&(h=hG.parseRequestState(this.cryptoObj,o.state)),t.key_id=t.key_id||i.sshKid||void 0,p=this.generateCacheRecord(t,r,n,i,d,a,o),f.label=1;case 1:return f.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new gG(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(m)]):[3,3];case 2:f.sent(),f.label=3;case 3:return!s||l||!p.account||(y=p.account.generateAccountKey(),this.cacheStorage.getAccount(y))?[4,this.cacheStorage.saveCacheRecord(p)]:(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,r,p,!1,i,d,h,void 0,c)]);case 4:return f.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&m?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(m)]):[3,7];case 6:f.sent(),f.label=7;case 7:return[7];case 8:return[2,e.generateAuthenticationResult(this.cryptoObj,r,p,!1,i,d,h,t,c)]}}))}))},e.prototype.generateCacheRecord=function(e,t,r,n,i,o,a){var s,l,c=t.getPreferredCache();if(xz.isEmpty(c))throw Mz.createInvalidCacheEnvironmentError();!xz.isEmpty(e.id_token)&&i&&(s=eG.createIdTokenEntity(this.homeAccountIdentifier,c,e.id_token||wZ.EMPTY_STRING,this.clientId,i.claims.tid||wZ.EMPTY_STRING),l=this.generateAccountEntity(e,i,t,a)),a=null;var u,d,h,p=(xz.isEmpty(e.access_token)||(u=e.scope?Cz.fromString(e.scope):new Cz(n.scopes||[]),h=(d=r+(("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0))+(("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0),r=(p=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0)&&0<p?r+p:void 0,a=rG.createAccessTokenEntity(this.homeAccountIdentifier,c,e.access_token||wZ.EMPTY_STRING,this.clientId,i?i.claims.tid||wZ.EMPTY_STRING:t.tenant,u.printScopes(),d,h,this.cryptoObj,r,e.token_type,o,e.key_id,n.claims,n.requestedClaimsHash)),null);return xz.isEmpty(e.refresh_token)||(p=nG.createRefreshTokenEntity(this.homeAccountIdentifier,c,e.refresh_token||wZ.EMPTY_STRING,this.clientId,e.foci,o)),i=null,xz.isEmpty(e.foci)||(i=fG.createAppMetadataEntity(this.clientId,c,e.foci)),new dG(l,s,a,p,i)},e.prototype.generateAccountEntity=function(e,t,r,n){var i=r.authorityType,o=n?n.cloud_graph_host_name:wZ.EMPTY_STRING;if(n=n?n.msgraph_host:wZ.EMPTY_STRING,i===SZ.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),Nz.createGenericAccount(this.homeAccountIdentifier,t,r,o,n);if(xz.isEmpty(e.client_info)&&"AAD"===r.protocolMode)throw Mz.createClientInfoEmptyError();return e.client_info?Nz.createAccount(e.client_info,this.homeAccountIdentifier,t,r,o,n):Nz.createGenericAccount(this.homeAccountIdentifier,t,r,o,n)},e.generateAuthenticationResult=function(e,t,r,n,i,o,a,s,l){var c;return QN(this,void 0,void 0,(function(){var u,d,h,p,m,y,f,g;return qN(this,(function(b){switch(b.label){case 0:if(u=wZ.EMPTY_STRING,d=[],h=null,m=wZ.EMPTY_STRING,!r.accessToken)return[3,4];if(r.accessToken.tokenType!==pZ.POP)return[3,2];if(f=new yG(e),y=r.accessToken,g=y.secret,y=y.keyId)return[4,f.signPopToken(g,y,i)];throw Mz.createKeyIdMissingError();case 1:return u=b.sent(),[3,3];case 2:u=r.accessToken.secret,b.label=3;case 3:d=Cz.fromString(r.accessToken.target).asArray(),h=new Date(1e3*Number(r.accessToken.expiresOn)),p=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),b.label=4;case 4:return r.appMetadata&&(m=r.appMetadata.familyId===LZ?LZ:wZ.EMPTY_STRING),f=(null==o?void 0:o.claims.oid)||(null==o?void 0:o.claims.sub)||wZ.EMPTY_STRING,g=(null==o?void 0:o.claims.tid)||wZ.EMPTY_STRING,null!=s&&s.spa_accountid&&r.account&&(r.account.nativeAccountId=null==s?void 0:s.spa_accountid),[2,{authority:t.canonicalAuthority,uniqueId:f,tenantId:g,scopes:d,account:r.account?r.account.getAccountInfo():null,idToken:o?o.rawToken:wZ.EMPTY_STRING,idTokenClaims:o?o.claims:{},accessToken:u,fromCache:n,expiresOn:h,correlationId:i.correlationId,requestId:l||wZ.EMPTY_STRING,extExpiresOn:p,familyId:m,tokenType:(null==(c=r.accessToken)?void 0:c.tokenType)||wZ.EMPTY_STRING,state:a?a.userRequestState:wZ.EMPTY_STRING,cloudGraphHostName:(null==(c=r.account)?void 0:c.cloudGraphHostName)||wZ.EMPTY_STRING,msGraphHost:(null==(c=r.account)?void 0:c.msGraphHost)||wZ.EMPTY_STRING,code:null==s?void 0:s.spa_code,fromNativeBroker:!1}]}}))}))},e}(),vG=function(e){function t(t,r){return(t=e.call(this,t,r)||this).includeRedirectUri=!0,t}return KN(t,e),t.prototype.getAuthCodeUrl=function(e){var t;return QN(this,void 0,void 0,(function(){var r;return qN(this,(function(n){switch(n.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.GetAuthCodeUrl,e.correlationId),null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.AuthClientCreateQueryString,e.correlationId),[4,this.createAuthCodeUrlQueryString(e)];case 1:return r=n.sent(),[2,pG.appendQueryString(this.authority.authorizationEndpoint,r)]}}))}))},t.prototype.acquireToken=function(e,t){var r,n;return QN(this,void 0,void 0,(function(){var i,o,a,s,l,c=this;return qN(this,(function(u){switch(u.label){case 0:if(e&&e.code)return null!=(r=this.performanceClient)&&r.addQueueMeasurement(Fz.AuthClientAcquireToken,e.correlationId),i=null==(r=this.performanceClient)?void 0:r.startMeasurement("AuthCodeClientAcquireToken",e.correlationId),this.logger.info("in acquireToken call in auth-code client"),o=tG.nowSeconds(),null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.AuthClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(this.authority,e)];throw Mz.createTokenRequestCannotBeMadeError();case 1:return a=u.sent(),s=null==(r=a.headers)?void 0:r[eZ.X_MS_REQUEST_ID],(l=null==(n=a.headers)?void 0:n[eZ.X_MS_HTTP_VERSION])&&null!=i&&i.addStaticFields({httpVerAuthority:l}),(l=new bG(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient)).validateTokenResponse(a.body),null!=(n=this.performanceClient)&&n.setPreQueueTime(Fz.HandleServerTokenResponse,e.correlationId),[2,l.handleServerTokenResponse(a.body,this.authority,o,e,t,void 0,void 0,void 0,s).then((function(e){return null!=i&&i.endMeasurement({success:!0}),e})).catch((function(t){throw c.logger.verbose("Error in fetching token in ACC",e.correlationId),null!=i&&i.endMeasurement({errorCode:t.errorCode,subErrorCode:t.subError,success:!1}),t}))]}}))}))},t.prototype.handleFragmentResponse=function(e,t){var r=new bG(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null);if(e=new pG(e),e=pG.getDeserializedHash(e.getHash()),r.validateServerAuthorizationCodeResponse(e,t,this.cryptoUtils),e.code)return JN(JN({},e),{code:e.code});throw Mz.createNoAuthCodeInServerResponseError()},t.prototype.getLogoutUri=function(e){if(e)return e=this.createLogoutUrlQueryString(e),pG.appendQueryString(this.authority.endSessionEndpoint,e);throw Iz.createEmptyLogoutRequestError()},t.prototype.executeTokenRequest=function(e,t){var r;return QN(this,void 0,void 0,(function(){var n,i,o,a,s;return qN(this,(function(l){switch(l.label){case 0:return null!=(r=this.performanceClient)&&r.addQueueMeasurement(Fz.AuthClientExecuteTokenRequest,t.correlationId),null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.AuthClientCreateTokenRequestBody,t.correlationId),n=this.createTokenQueryParameters(t),n=pG.appendQueryString(e.tokenEndpoint,n),[4,this.createTokenRequestBody(t)];case 1:if(i=l.sent(),a=void 0,t.clientInfo)try{o=kz(t.clientInfo,this.cryptoUtils),a={credential:""+o.uid+cZ.CLIENT_INFO_SEPARATOR+o.utid,type:Yz.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}return a=this.createTokenRequestHeaders(a||t.ccsCredential),s={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},[2,this.executePostToTokenEndpoint(n,i,a,s)]}}))}))},t.prototype.createTokenRequestBody=function(e){var t;return QN(this,void 0,void 0,(function(){var r,n,i,o,a,s;return qN(this,(function(l){switch(l.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.AuthClientCreateTokenRequestBody,e.correlationId),(r=new Qz).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):Jz.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(n=this.config.clientCredentials.clientAssertion,r.addClientAssertion(n.assertion),r.addClientAssertionType(n.assertionType)),r.addGrantType(sZ.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme!==pZ.POP?[3,2]:(n=new yG(this.cryptoUtils,this.performanceClient),null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.PopTokenGenerateCnf,e.correlationId),[4,n.generateCnf(e)]);case 1:return i=l.sent(),r.addPopToken(i.reqCnfString),[3,3];case 2:if(e.authenticationScheme===pZ.SSH){if(!e.sshJwk)throw Iz.createMissingSshJwkError();r.addSshJwk(e.sshJwk)}l.label=3;case 3:if(i=e.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(i),(!xz.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&0<this.config.authOptions.clientCapabilities.length)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),o=void 0,e.clientInfo)try{a=kz(e.clientInfo,this.cryptoUtils),o={credential:""+a.uid+cZ.CLIENT_INFO_SEPARATOR+a.utid,type:Yz.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case Yz.HOME_ACCOUNT_ID:try{a=Lz(o.credential),r.addCcsOid(a)}catch(l){this.logger.verbose("Could not parse home account ID for CCS Header: "+l)}break;case Yz.UPN:r.addCcsUpn(o.credential)}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[nZ.RETURN_SPA_CODE]||r.addExtraQueryParameters(((s={})[nZ.RETURN_SPA_CODE]="1",s)),[2,r.createQueryString()]}}))}))},t.prototype.createAuthCodeUrlQueryString=function(e){var t;return QN(this,void 0,void 0,(function(){var r,n,i,o;return qN(this,(function(a){switch(a.label){case 0:if(null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.AuthClientCreateQueryString,e.correlationId),(r=new Qz).addClientId(this.config.authOptions.clientId),n=$N(e.scopes||[],e.extraScopesToConsent||[]),r.addScopes(n),r.addRedirectUri(e.redirectUri),n=e.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(n),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==IZ.SELECT_ACCOUNT)if(e.sid&&e.prompt===IZ.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){if(n=this.extractAccountSid(e.account),o=this.extractLoginHint(e.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(o);try{i=Lz(e.account.homeAccountId),r.addCcsOid(i)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(n&&e.prompt===IZ.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(n);try{i=Lz(e.account.homeAccountId),r.addCcsOid(i)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{i=Lz(e.account.homeAccountId),r.addCcsOid(i)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(!xz.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&0<this.config.authOptions.clientCapabilities.length)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(r.addNativeBroker(),e.authenticationScheme!==pZ.POP?[3,2]:[4,new yG(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:o=a.sent(),r.addPopToken(o.reqCnfString),a.label=2;case 2:return[2,r.createQueryString()]}}))}))},t.prototype.createLogoutUrlQueryString=function(e){var t=new Qz;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.extractAccountSid=function(e){return(null==(e=e.idTokenClaims)?void 0:e.sid)||null},t.prototype.extractLoginHint=function(e){return(null==(e=e.idTokenClaims)?void 0:e.login_hint)||null},t}(qz),MG=function(e){function t(t,r){return e.call(this,t,r)||this}return KN(t,e),t.prototype.acquireToken=function(e){var t,r,n;return QN(this,void 0,void 0,(function(){var i,o,a,s,l,c=this;return qN(this,(function(u){switch(u.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.RefreshTokenClientAcquireToken,e.correlationId),i=null==(t=this.performanceClient)?void 0:t.startMeasurement(Fz.RefreshTokenClientAcquireToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",e.correlationId),o=tG.nowSeconds(),null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.RefreshTokenClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(e,this.authority)];case 1:return a=u.sent(),s=null==(t=a.headers)?void 0:t[eZ.X_MS_HTTP_VERSION],null!=i&&i.addStaticFields({refreshTokenSize:(null==(r=a.body.refresh_token)?void 0:r.length)||0}),s&&null!=i&&i.addStaticFields({httpVerToken:s}),s=null==(r=a.headers)?void 0:r[eZ.X_MS_REQUEST_ID],(l=new bG(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(a.body),null!=(n=this.performanceClient)&&n.setPreQueueTime(Fz.HandleServerTokenResponse,e.correlationId),[2,l.handleServerTokenResponse(a.body,this.authority,o,e,void 0,void 0,!0,e.forceCache,s).then((function(e){return null!=i&&i.endMeasurement({success:!0}),e})).catch((function(t){throw c.logger.verbose("Error in fetching refresh token",e.correlationId),null!=i&&i.endMeasurement({errorCode:t.errorCode,subErrorCode:t.subError,success:!1}),t}))]}}))}))},t.prototype.acquireTokenByRefreshToken=function(e){var t,r;return QN(this,void 0,void 0,(function(){var n,i;return qN(this,(function(o){if(!e)throw Iz.createEmptyTokenRequestError();if(null!=(r=this.performanceClient)&&r.addQueueMeasurement(Fz.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Mz.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(o){if(n=o instanceof uG&&o.errorCode===aG,i=o instanceof Uz&&"invalid_grant"===o.errorCode&&"client_mismatch"===o.subError,n||i)return null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw o}return null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)]}))}))},t.prototype.acquireTokenWithCachedRefreshToken=function(e,t){var r;return QN(this,void 0,void 0,(function(){var n,i;return qN(this,(function(o){if(null!=(r=this.performanceClient)&&r.addQueueMeasurement(Fz.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),n=null==(r=this.performanceClient)?void 0:r.startMeasurement(Fz.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",e.correlationId),i=this.cacheManager.getRefreshToken(e.account,t))return null!=n&&n.endMeasurement({success:!0}),i=JN(JN({},e),{refreshToken:i.secret,authenticationScheme:e.authenticationScheme||pZ.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Yz.HOME_ACCOUNT_ID}}),null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.RefreshTokenClientAcquireToken,e.correlationId),[2,this.acquireToken(i)];throw null!=n&&n.discardMeasurement(),uG.createNoTokensFoundError()}))}))},t.prototype.executeTokenRequest=function(e,t){var r;return QN(this,void 0,void 0,(function(){var n,i,o,a,s;return qN(this,(function(l){switch(l.label){case 0:return null!=(r=this.performanceClient)&&r.addQueueMeasurement(Fz.RefreshTokenClientExecuteTokenRequest,e.correlationId),n=null==(r=this.performanceClient)?void 0:r.startMeasurement(Fz.RefreshTokenClientExecuteTokenRequest,e.correlationId),null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.RefreshTokenClientCreateTokenRequestBody,e.correlationId),i=this.createTokenQueryParameters(e),i=pG.appendQueryString(t.tokenEndpoint,i),[4,this.createTokenRequestBody(e)];case 1:return o=l.sent(),a=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},[2,this.executePostToTokenEndpoint(i,o,a,s).then((function(e){return null!=n&&n.endMeasurement({success:!0}),e})).catch((function(e){throw null!=n&&n.endMeasurement({success:!1}),e}))]}}))}))},t.prototype.createTokenRequestBody=function(e){var t;return QN(this,void 0,void 0,(function(){var r,n,i,o;return qN(this,(function(a){switch(a.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.RefreshTokenClientCreateTokenRequestBody,e.correlationId),i=e.correlationId,r=null==(t=this.performanceClient)?void 0:t.startMeasurement(Fz.BaseClientCreateTokenRequestHeaders,i),(n=new Qz).addClientId(this.config.authOptions.clientId),n.addScopes(e.scopes),n.addGrantType(sZ.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(i),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(i=this.config.clientCredentials.clientAssertion,n.addClientAssertion(i.assertion),n.addClientAssertionType(i.assertionType)),e.authenticationScheme!==pZ.POP?[3,2]:(i=new yG(this.cryptoUtils,this.performanceClient),null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.PopTokenGenerateCnf,e.correlationId),[4,i.generateCnf(e)]);case 1:return i=a.sent(),n.addPopToken(i.reqCnfString),[3,3];case 2:if(e.authenticationScheme===pZ.SSH){if(!e.sshJwk)throw null!=r&&r.endMeasurement({success:!1}),Iz.createMissingSshJwkError();n.addSshJwk(e.sshJwk)}a.label=3;case 3:if((!xz.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&0<this.config.authOptions.clientCapabilities.length)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Yz.HOME_ACCOUNT_ID:try{o=Lz(e.ccsCredential.credential),n.addCcsOid(o)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case Yz.UPN:n.addCcsUpn(e.ccsCredential.credential)}return null!=r&&r.endMeasurement({success:!0}),[2,n.createQueryString()]}}))}))},t}(qz),xG=function(e){function t(t,r){return e.call(this,t,r)||this}return KN(t,e),t.prototype.acquireToken=function(e){return QN(this,void 0,void 0,(function(){var t;return qN(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,r.sent()];case 2:if((t=r.sent())instanceof Mz&&t.errorCode===rz)return[2,new MG(this.config,this.performanceClient).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}}))}))},t.prototype.acquireCachedToken=function(e){var t,r,n;return QN(this,void 0,void 0,(function(){var i;return qN(this,(function(o){switch(o.label){case 0:if(!e)throw Iz.createEmptyTokenRequestError();if(e.forceRefresh)throw null!=(t=this.serverTelemetryManager)&&t.setCacheOutcome(bZ.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),Mz.createRefreshRequiredError();if(!this.config.cacheOptions.claimsBasedCachingEnabled&&!xz.isEmptyObj(e.claims))throw null!=(t=this.serverTelemetryManager)&&t.setCacheOutcome(bZ.CLAIMS_REQUESTED_CACHE_SKIPPED),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because claims-based caching is disabled and claims were requested."),Mz.createRefreshRequiredError();if(!e.account)throw Mz.createNoAccountInSilentRequestError();if(i=e.authority||this.authority.getPreferredCache(),!(i=this.cacheManager.readCacheRecord(e.account,e,i)).accessToken)throw null!=(r=this.serverTelemetryManager)&&r.setCacheOutcome(bZ.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),Mz.createRefreshRequiredError();if(tG.wasClockTurnedBack(i.accessToken.cachedAt)||tG.isTokenExpired(i.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null!=(r=this.serverTelemetryManager)&&r.setCacheOutcome(bZ.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),Mz.createRefreshRequiredError();if(i.accessToken.refreshOn&&tG.isTokenExpired(i.accessToken.refreshOn,0))throw null!=(n=this.serverTelemetryManager)&&n.setCacheOutcome(bZ.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),Mz.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(i,e)];case 1:return[2,o.sent()]}}))}))},t.prototype.generateResultFromCacheRecord=function(e,t){return QN(this,void 0,void 0,(function(){var r,n;return qN(this,(function(i){switch(i.label){case 0:if(e.idToken&&(r=new Zz(e.idToken.secret,this.config.cryptoInterface)),t.maxAge||0===t.maxAge){if(!(n=null==r?void 0:r.claims.auth_time))throw Mz.createAuthTimeNotFoundError();Zz.checkMaxAge(n,t.maxAge)}return[4,bG.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)];case 1:return[2,i.sent()]}}))}))},t}(qz);function SG(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}var wG,_G,TG,IG,CG,kG,LG,NG,ZG,EG,zG,GG,PG,AG,RG,DG={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},XG={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},OG=(function(e){e.AAD="AAD",e.OIDC="OIDC"}(wG=wG||{}),function(){function e(){this.expiresAt=tG.nowSeconds()+86400}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t,this.jwks_uri=e.jwks_uri},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=tG.nowSeconds()+86400},e.prototype.isExpired=function(){return this.expiresAt<=tG.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&0===e.indexOf(NZ)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")},e}()),WG=function(){function e(e,t,r){this.networkInterface=e,this.performanceClient=t,this.correlationId=r}return e.prototype.detectRegion=function(t,r){var n,i;return QN(this,void 0,void 0,(function(){var o,a,s,l;return qN(this,(function(c){switch(c.label){case 0:if(null!=(n=this.performanceClient)&&n.addQueueMeasurement(Fz.RegionDiscoveryDetectRegion,this.correlationId),o=t)return[3,8];a=e.IMDS_OPTIONS,c.label=1;case 1:return c.trys.push([1,6,,7]),null!=(n=this.performanceClient)&&n.setPreQueueTime(Fz.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(wZ.IMDS_VERSION,a)];case 2:return(s=c.sent()).status===yZ.httpSuccess&&(o=s.body,r.region_source=fZ.IMDS),s.status!==yZ.httpBadRequest?[3,5]:(null!=(i=this.performanceClient)&&i.setPreQueueTime(Fz.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(a)]);case 3:return(s=c.sent())?(null!=(i=this.performanceClient)&&i.setPreQueueTime(Fz.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(s,a)]):(r.region_source=fZ.FAILED_AUTO_DETECTION,[2,null]);case 4:(l=c.sent()).status===yZ.httpSuccess&&(o=l.body,r.region_source=fZ.IMDS),c.label=5;case 5:return[3,7];case 6:return c.sent(),r.region_source=fZ.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:r.region_source=fZ.ENVIRONMENT_VARIABLE,c.label=9;case 9:return o||(r.region_source=fZ.FAILED_AUTO_DETECTION),[2,o||null]}}))}))},e.prototype.getRegionFromIMDS=function(e,t){var r;return QN(this,void 0,void 0,(function(){return qN(this,(function(n){return null!=(r=this.performanceClient)&&r.addQueueMeasurement(Fz.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(wZ.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,wZ.IMDS_TIMEOUT)]}))}))},e.prototype.getCurrentVersion=function(e){var t;return QN(this,void 0,void 0,(function(){var r;return qN(this,(function(n){switch(n.label){case 0:null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.RegionDiscoveryGetCurrentVersion,this.correlationId),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(wZ.IMDS_ENDPOINT+"?format=json",e)];case 2:return(r=n.sent()).status===yZ.httpBadRequest&&r.body&&r.body["newest-versions"]&&0<r.body["newest-versions"].length?[2,r.body["newest-versions"][0]]:[2,null];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},e.IMDS_OPTIONS={headers:{Metadata:"true"}},e}(),jG=function(){function e(e,t,r,n,i,o,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=o,this.correlationId=a,this.regionDiscovery=new WG(t,this.performanceClient,this.correlationId)}return e.prototype.getAuthorityType=function(e){if(e.HostNameAndPort.endsWith(wZ.CIAM_AUTH_URL))return SZ.Ciam;if((e=e.PathSegments).length)switch(e[0].toLowerCase()){case wZ.ADFS:return SZ.Adfs;case wZ.DSTS:return SZ.Dsts}return SZ.Default},Object.defineProperty(e.prototype,"authorityType",{get:function(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new pG(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Mz.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Mz.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Mz.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(this.metadata.end_session_endpoint)return this.replacePath(this.metadata.end_session_endpoint);throw Mz.createLogoutNotSupportedError()}throw Mz.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Mz.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jwksUri",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Mz.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),e.prototype.canReplaceTenant=function(t){return 1===t.PathSegments.length&&!e.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===SZ.Default&&this.protocolMode===wG.AAD},e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=this,r=e,n=new pG(this.metadata.canonical_authority).getUrlComponents(),i=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,o){var a=i[o];0===o&&t.canReplaceTenant(n)&&a!==(o=new pG(t.metadata.authorization_endpoint).getUrlComponents().PathSegments[0])&&(t.logger.verbose("Replacing tenant domain name "+a+" with id "+o),a=o),e!==a&&(r=r.replace("/"+a+"/","/"+e+"/"))})),this.replaceTenant(r)},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===SZ.Adfs||this.authorityType===SZ.Dsts||this.protocolMode===wG.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){var e;return QN(this,void 0,void 0,(function(){var t,r,n;return qN(this,(function(i){switch(i.label){case 0:return null!=(e=this.performanceClient)&&e.addQueueMeasurement(Fz.AuthorityResolveEndpointsAsync,this.correlationId),(t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(t=new OG).updateCanonicalAuthority(this.canonicalAuthority),null!=(e=this.performanceClient)&&e.setPreQueueTime(Fz.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(t)];case 1:return r=i.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network),null!=(e=this.performanceClient)&&e.setPreQueueTime(Fz.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(t)];case 2:return n=i.sent(),r!==hZ.CACHE&&n!==hZ.CACHE&&(t.resetExpiresAt(),t.updateCanonicalAuthority(this.canonicalAuthority)),n=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache),this.cacheManager.setAuthorityMetadata(n,t),this.metadata=t,[2]}}))}))},e.prototype.updateEndpointMetadata=function(e){var t,r,n;return QN(this,void 0,void 0,(function(){var i,o;return qN(this,(function(a){switch(a.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.AuthorityUpdateEndpointMetadata,this.correlationId),(i=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(i,!1),[2,hZ.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,hZ.CACHE]:(null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(i=a.sent())?null!=(t=this.authorityOptions.azureRegionConfiguration)&&t.azureRegion?(null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(i)]):[3,3]:[3,4];case 2:i=a.sent(),a.label=3;case 3:return e.updateEndpointMetadata(i,!0),[2,hZ.NETWORK];case 4:return!(o=this.getEndpointMetadataFromHardcodedValues())||this.authorityOptions.skipAuthorityMetadataCache?[3,7]:null!=(r=this.authorityOptions.azureRegionConfiguration)&&r.azureRegion?(null!=(n=this.performanceClient)&&n.setPreQueueTime(Fz.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(o)]):[3,6];case 5:o=a.sent(),a.label=6;case 6:return e.updateEndpointMetadata(o,!1),[2,hZ.HARDCODED_VALUES];case 7:throw Mz.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}}))}))},e.prototype.isAuthoritySameType=function(e){return new pG(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw Iz.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){var e;return QN(this,void 0,void 0,(function(){var t,r;return qN(this,(function(n){switch(n.label){case 0:null!=(e=this.performanceClient)&&e.addQueueMeasurement(Fz.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),t={},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,t)];case 2:return[2,SG((r=n.sent()).body)?r.body:null];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in DG?DG[this.canonicalAuthority]:null},e.prototype.updateMetadataWithRegionalInformation=function(t){var r;return QN(this,void 0,void 0,(function(){var n;return qN(this,(function(i){switch(i.label){case 0:return null!=(r=this.performanceClient)&&r.addQueueMeasurement(Fz.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),(n=null==(r=this.authorityOptions.azureRegionConfiguration)?void 0:r.azureRegion)?n!==wZ.AZURE_REGION_AUTO_DISCOVER_FLAG?(this.regionDiscoveryMetadata.region_outcome=gZ.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,[2,e.replaceWithRegionalInformation(t,n)]):(null!=(r=this.performanceClient)&&r.setPreQueueTime(Fz.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion(null==(r=this.authorityOptions.azureRegionConfiguration)?void 0:r.environmentRegion,this.regionDiscoveryMetadata)]):[3,2];case 1:if(n=i.sent())return this.regionDiscoveryMetadata.region_outcome=gZ.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,[2,e.replaceWithRegionalInformation(t,n)];this.regionDiscoveryMetadata.region_outcome=gZ.AUTO_DETECTION_REQUESTED_FAILED,i.label=2;case 2:return[2,t]}}))}))},e.prototype.updateCloudDiscoveryMetadata=function(e){var t;return QN(this,void 0,void 0,(function(){var r,n;return qN(this,(function(i){switch(i.label){case 0:return null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||wZ.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||wZ.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(e.canonical_authority||wZ.NOT_APPLICABLE)),(r=this.getCloudDiscoveryMetadataFromConfig())?(this.logger.verbose("Found cloud discovery metadata in the config."),e.updateCloudDiscoveryMetadata(r,!1),[2,hZ.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),n=e.isExpired(),this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found metadata in the cache."),[2,hZ.CACHE]):(n&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),null!=(t=this.performanceClient)&&t.setPreQueueTime(Fz.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(r=i.sent())return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),e.updateCloudDiscoveryMetadata(r,!0),[2,hZ.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),(n=this.getCloudDiscoveryMetadataFromHarcodedValues())&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),e.updateCloudDiscoveryMetadata(n,!1),[2,hZ.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),Iz.createUntrustedAuthorityError()}}))}))},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityType===SZ.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(t){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Iz.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var t;return QN(this,void 0,void 0,(function(){var r,n,i,o,a,s;return qN(this,(function(l){switch(l.label){case 0:null!=(t=this.performanceClient)&&t.addQueueMeasurement(Fz.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),r=""+wZ.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",n={},i=null,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(r,n)];case 2:if(s=l.sent(),a=o=void 0,function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(s.body))o=s.body,a=o.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+o.tenant_discovery_endpoint);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(s.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+s.status),(o=s.body).error===wZ.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+o.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+o.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),i=e.getCloudDiscoveryMetadataFromNetworkResponse(a,this.hostnameAndPort),[3,4];case 3:return(s=l.sent())instanceof GZ?this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: "+s.errorCode+"\nError Description: "+s.errorMessage):this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: "+s.name+"\nError Description: "+s.message),[2,null];case 4:return i||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),i=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,i]}}))}))},e.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in XG?XG[this.canonicalAuthority]:null},e.prototype.isInKnownAuthorities=function(){var e=this;return 0<this.authorityOptions.knownAuthorities.filter((function(t){return pG.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length},e.generateAuthority=function(e,t){var r;return t&&t.azureCloudInstance!==xZ.None&&(r=t.tenant||wZ.DEFAULT_COMMON_TENANT,r=t.azureCloudInstance+"/"+r+"/"),r||e},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(-1<n.aliases.indexOf(t))return n}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw Mz.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return-1<this.metadata.aliases.indexOf(e)},e.isPublicCloudAuthority=function(e){return 0<=wZ.KNOWN_PUBLIC_CLOUDS.indexOf(e)},e.buildRegionalAuthorityString=function(e,t,r){var n=t+"."+((e=new pG(e)).validateAsUri(),i=e.getUrlComponents()).HostNameAndPort,i=(this.isPublicCloudAuthority(i.HostNameAndPort)&&(n=t+"."+wZ.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX),pG.constructAuthorityUriFromObject(JN(JN({},e.getUrlComponents()),{HostNameAndPort:n})).urlString);return r?i+"?"+r:i},e.replaceWithRegionalInformation=function(t,r){return t.authorization_endpoint=e.buildRegionalAuthorityString(t.authorization_endpoint,r),t.token_endpoint=e.buildRegionalAuthorityString(t.token_endpoint,r,wZ.REGIONAL_AUTH_NON_MSI_QUERY_STRING),t.end_session_endpoint&&(t.end_session_endpoint=e.buildRegionalAuthorityString(t.end_session_endpoint,r)),t},e.transformCIAMAuthority=function(e){var t=e.endsWith(wZ.FORWARD_SLASH)?e:""+e+wZ.FORWARD_SLASH;return 0===(e=new pG(e).getUrlComponents()).PathSegments.length&&e.HostNameAndPort.endsWith(wZ.CIAM_AUTH_URL)?""+t+e.HostNameAndPort.split(".")[0]+wZ.AAD_TENANT_DOMAIN_SUFFIX:t},e.reservedTenantDomains=new Set(["{tenant}","{tenantid}",rZ.COMMON,rZ.CONSUMERS,rZ.ORGANIZATIONS]),e}(),YG=function(){function e(){}return e.createDiscoveredInstance=function(t,r,n,i,o,a,s){return QN(this,void 0,void 0,(function(){var l,c;return qN(this,(function(u){switch(u.label){case 0:null!=a&&a.addQueueMeasurement(Fz.AuthorityFactoryCreateDiscoveredInstance,s),l=jG.transformCIAMAuthority(t),l=e.createInstance(l,r,n,i,o,a,s),u.label=1;case 1:return u.trys.push([1,3,,4]),null!=a&&a.setPreQueueTime(Fz.AuthorityResolveEndpointsAsync,s),[4,l.resolveEndpointsAsync()];case 2:return u.sent(),[2,l];case 3:throw c=u.sent(),Mz.createEndpointDiscoveryIncompleteError(c);case 4:return[2]}}))}))},e.createInstance=function(e,t,r,n,i,o,a){if(xz.isEmpty(e))throw Iz.createUrlEmptyError();return new jG(e,t,r,n,i,o,a)},e}(),FG=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){e=0===e.indexOf(ZZ.CACHE_KEY);var r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),e&&r},e}(),VG=function(){function e(){}return e.isThrottlingEntity=function(e,t){var r=!1;return e&&(r=0===e.indexOf(EZ.THROTTLING_PREFIX)),e=!0,t&&(e=t.hasOwnProperty("throttleTime")),r&&e},e}(),HG={sendGetRequestAsync:function(){return Promise.reject(GZ.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(GZ.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},UG="missing_kid_error",BG="The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",KG="missing_alg_error",JG="The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided.",QG=function(e){function t(r,n){return(r=e.call(this,r,n)||this).name="JoseHeaderError",Object.setPrototypeOf(r,t.prototype),r}return KN(t,e),t.createMissingKidError=function(){return new t(UG,BG)},t.createMissingAlgError=function(){return new t(KG,JG)},t}(GZ),qG=function(){function e(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}return e.getShrHeaderString=function(t){if(!t.kid)throw QG.createMissingKidError();if(t.alg)return t=new e({typ:t.typ||vZ.Pop,kid:t.kid,alg:t.alg}),JSON.stringify(t);throw QG.createMissingAlgError()},e}(),$G=function(){function e(e,t){this.cacheOutcome=bZ.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||wZ.EMPTY_STRING,this.wrapperVer=e.wrapperVer||wZ.EMPTY_STRING,this.telemetryCacheKey=ZZ.CACHE_KEY+cZ.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+ZZ.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(ZZ.VALUE_SEPARATOR);return e=[e,this.getRegionDiscoveryFields()].join(ZZ.VALUE_SEPARATOR),[ZZ.SCHEMA_VERSION,e,t].join(ZZ.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t),n=t.failedRequests.slice(0,2*r).join(ZZ.VALUE_SEPARATOR),i=t.errors.slice(0,r).join(ZZ.VALUE_SEPARATOR),o=t.errors.length;return r=[o,r<o?ZZ.OVERFLOW_TRUE:ZZ.OVERFLOW_FALSE].join(ZZ.VALUE_SEPARATOR),[ZZ.SCHEMA_VERSION,t.cacheHits,n,i,r].join(ZZ.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=ZZ.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),xz.isEmpty(e.subError)?xz.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(ZZ.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new FG;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t,r=this.getLastRequests(),n=e.maxErrorsToSend(r);n===r.errors.length?this.cacheManager.removeItem(this.telemetryCacheKey):((t=new FG).failedRequests=r.failedRequests.slice(2*n),t.errors=r.errors.slice(n),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t))},e.maxErrorsToSend=function(e){for(var t=0,r=0,n=e.errors.length,i=0;i<n;i++){var o=e.failedRequests[2*i]||wZ.EMPTY_STRING,a=e.failedRequests[2*i+1]||wZ.EMPTY_STRING,s=e.errors[i]||wZ.EMPTY_STRING;if(!((r+=o.toString().length+a.toString().length+s.length+3)<ZZ.MAX_LAST_HEADER_BYTES))break;t+=1}return t},e.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||wZ.EMPTY_STRING),e.push(this.regionSource||wZ.EMPTY_STRING),e.push(this.regionOutcome||wZ.EMPTY_STRING),e.join(",")},e.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},e.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},e}(),eP=function(){function e(e,t,r,n,i,o){this.authority=t,this.libraryName=n,this.libraryVersion=i,this.applicationTelemetry=o,this.clientId=e,this.logger=r,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map}return e.prototype.startPerformanceMeasurement=function(e,t){return{}},e.prototype.startPerformanceMeasuremeant=function(e,t){return{}},e.prototype.getIntFields=function(){return mG},e.prototype.getPreQueueTime=function(e,t){var r=this.preQueueTimeByCorrelationId.get(t);if(r){if(r.name===e)return r.time;this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+e+", unable to add queue measurement")}else this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+t+", unable to add queue measurement")},e.prototype.calculateQueuedTime=function(e,t){return e<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+e),0):t<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+t),0):t<e?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):t-e},e.prototype.addQueueMeasurement=function(e,t,r,n){if(t){if(0===r)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+e+" is "+r);else if(!r)return void this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+e);r={eventName:e,queueTime:r,manuallyCompleted:n},(n=this.queueMeasurements.get(t))?(n.push(r),this.queueMeasurements.set(t,n)):(this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+t+" to queue measurements"),this.queueMeasurements.set(t,[r])),this.preQueueTimeByCorrelationId.delete(t)}else this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+e+", cannot add queue measurement")},e.prototype.startMeasurement=function(e,t){var r=this,n=t||this.generateId(),i=(t||this.logger.info("PerformanceClient: No correlation id provided for "+e+", generating",n),this.logger.trace("PerformanceClient: Performance measurement started for "+e,n),this.startPerformanceMeasuremeant(e,n)),o=(i.startMeasurement(),{eventId:this.generateId(),status:Vz.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:n,appName:null==(t=this.applicationTelemetry)?void 0:t.appName,appVersion:null==(e=this.applicationTelemetry)?void 0:e.appVersion});return this.cacheEventByCorrelationId(o),{endMeasurement:function(e){return r.endMeasurement(JN(JN({},o),e),i)},discardMeasurement:function(){return r.discardMeasurements(o.correlationId)},addStaticFields:function(e){return r.addStaticFields(e,o.correlationId)},increment:function(e){return r.increment(e,o.correlationId)},measurement:i,event:o}},e.prototype.endMeasurement=function(e,t){var r,n,i,o,a,s=this,l=this.eventsByCorrelationId.get(e.correlationId);return l?(n={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0},(r=e.eventId===l.eventId)?(n=this.getQueueInfo(e.correlationId),this.discardCache(l.correlationId)):null!=(i=l.incompleteSubMeasurements)&&i.delete(e.eventId),null!=t&&t.endMeasurement(),(i=null==t?void 0:t.flushMeasurement())?(this.logger.trace("PerformanceClient: Performance measurement ended for "+e.name+": "+i+" ms",e.correlationId),r?(o=JN(JN({},l),e),a=0,null!=(t=o.incompleteSubMeasurements)&&t.forEach((function(t){s.logger.trace("PerformanceClient: Incomplete submeasurement "+t.name+" found for "+e.name,o.correlationId),a++})),o.incompleteSubMeasurements=void 0,o=JN(JN({},o),{durationMs:Math.round(i),queuedTimeMs:n.totalQueueTime,queuedCount:n.totalQueueCount,queuedManuallyCompletedCount:n.manuallyCompletedCount,status:Vz.Completed,incompleteSubsCount:a}),this.truncateIntegralFields(o,this.getIntFields()),this.emitEvents([o],e.correlationId),o):(l[e.name+"DurationMs"]=Math.floor(i),JN({},l))):(this.logger.trace("PerformanceClient: Performance measurement not taken",l.correlationId),null)):(this.logger.trace("PerformanceClient: Measurement not found for "+e.eventId,e.correlationId),null)},e.prototype.addStaticFields=function(e,t){this.logger.trace("PerformanceClient: Updating static fields");var r=this.eventsByCorrelationId.get(t);r?this.eventsByCorrelationId.set(t,JN(JN({},r),e)):this.logger.trace("PerformanceClient: Event not found for",t)},e.prototype.increment=function(e,t){this.logger.trace("PerformanceClient: Updating counters");var r=this.eventsByCorrelationId.get(t);if(r)for(var n in e)r.hasOwnProperty(n)||(r[n]=0),r[n]+=e[n];else this.logger.trace("PerformanceClient: Event not found for",t)},e.prototype.cacheEventByCorrelationId=function(e){var t=this.eventsByCorrelationId.get(e.correlationId);t?(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" added/updated",e.correlationId),t.incompleteSubMeasurements=t.incompleteSubMeasurements||new Map,t.incompleteSubMeasurements.set(e.eventId,{name:e.name,startTimeMs:e.startTimeMs})):(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" started",e.correlationId),this.eventsByCorrelationId.set(e.correlationId,JN({},e)))},e.prototype.getQueueInfo=function(e){var t=this.queueMeasurements.get(e),r=(t||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+e),0),n=0,i=0;return null!=t&&t.forEach((function(e){r+=e.queueTime,n++,i+=e.manuallyCompleted?1:0})),{totalQueueTime:r,totalQueueCount:n,manuallyCompletedCount:i}},e.prototype.discardMeasurements=function(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e)},e.prototype.discardCache=function(e){this.discardMeasurements(e),this.logger.trace("PerformanceClient: QueueMeasurements discarded",e),this.queueMeasurements.delete(e),this.logger.trace("PerformanceClient: Pre-queue times discarded",e),this.preQueueTimeByCorrelationId.delete(e)},e.prototype.addPerformanceCallback=function(e){var t=this.generateId();return this.callbacks.set(t,e),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+t),t},e.prototype.removePerformanceCallback=function(e){var t=this.callbacks.delete(e);return t?this.logger.verbose("PerformanceClient: Performance callback "+e+" removed."):this.logger.verbose("PerformanceClient: Performance callback "+e+" not removed."),t},e.prototype.emitEvents=function(e,t){var r=this;this.logger.verbose("PerformanceClient: Emitting performance events",t),this.callbacks.forEach((function(n,i){r.logger.trace("PerformanceClient: Emitting event to callback "+i,t),n.apply(null,[e])}))},e.prototype.truncateIntegralFields=function(e,t){t.forEach((function(t){t in e&&"number"==typeof e[t]&&(e[t]=Math.floor(e[t]))}))},e}(),tP=function(){function e(){}return e.prototype.startMeasurement=function(){},e.prototype.endMeasurement=function(){},e.prototype.flushMeasurement=function(){return null},e}(),rP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KN(t,e),t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasuremeant=function(){return new tP},t.prototype.startPerformanceMeasurement=function(){return new tP},t.prototype.calculateQueuedTime=function(e,t){return 0},t.prototype.addQueueMeasurement=function(e,t,r){},t.prototype.setPreQueueTime=function(e,t){},t}(eP),nP="pkce_not_created",iP="The PKCE code challenge and verifier could not be generated.",oP="crypto_nonexistent",aP="The crypto object or function is not available.",sP="http_method_not_implemented",lP="The HTTP method given has not been implemented in this library.",cP="empty_navigate_uri",uP="Navigation URI is empty. Please check stack trace for more info.",dP="hash_empty_error",hP="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors.",pP="no_state_in_hash",mP="Hash does not contain state. Please verify that the request originated from msal.",yP="hash_does_not_contain_known_properties",fP="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors.",gP="unable_to_parse_state",bP="Unable to parse state. Please verify that the request originated from msal.",vP="state_interaction_type_mismatch",MP="Hash contains state but the interaction type does not match the caller.",xP="interaction_in_progress",SP="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",wP="popup_window_error",_P="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",TP="empty_window_error",IP="window.open returned null or undefined window object.",CP="user_cancelled",kP="User cancelled the flow.",LP="monitor_window_timeout",NP="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",ZP="monitor_window_timeout",EP="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",zP="redirect_in_iframe",GP="Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",PP="block_iframe_reload",AP="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",RP="block_nested_popups",DP="Request was blocked inside a popup because MSAL detected it was running in a popup.",XP="iframe_closed_prematurely",OP="The iframe being monitored was closed prematurely.",WP="silent_logout_unsupported",jP="Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",YP="no_account_error",FP="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",VP="silent_prompt_value_error",HP="The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",UP="no_token_request_cache_error",BP="No token request found in cache.",KP="unable_to_parse_token_request_cache_error",JP="The cached token request could not be parsed.",QP="no_cached_authority_error",qP="No cached authority found.",$P="auth_request_not_set_error",eA="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",tA="invalid_cache_type",rA="Invalid cache type",nA="non_browser_environment",iA="Login and token requests are not supported in non-browser environments.",oA="database_not_open",aA="Database is not open!",sA="no_network_connectivity",lA="No network connectivity. Check your internet connection.",cA="post_request_failed",uA="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",dA="get_request_failed",hA="Network request failed. Please check the network trace to determine root cause.",pA="failed_to_parse_response",mA="Failed to parse network response. Check network trace.",yA="unable_to_load_token",fA="Error loading token to cache.",gA="crypto_key_not_found",bA="Cryptographic Key or Keypair not found in browser storage.",vA="auth_code_required",MA="An authorization code must be provided (as the `code` property on the request) to this flow.",xA="auth_code_or_nativeAccountId_required",SA="An authorization code or nativeAccountId must be provided to this flow.",wA="spa_code_and_nativeAccountId_present",_A="Request cannot contain both spa code and native account id.",TA="database_unavailable",IA="IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",CA="unable_to_acquire_token_from_native_platform",kA="Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors.",LA="native_handshake_timeout",NA="Timed out while attempting to establish connection to browser extension",ZA="native_extension_not_installed",EA="Native extension is not installed. If you think this is a mistake call the initialize function.",zA="native_connection_not_established",GA="Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors.",PA="native_broker_called_before_initialize",AA="You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors.",RA="native_prompt_not_supported",DA="The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",XA=function(e){function t(r,n){return r=e.call(this,r,n)||this,Object.setPrototypeOf(r,t.prototype),r.name="BrowserAuthError",r}return WN(t,e),t.createPkceNotGeneratedError=function(e){return new t(nP,iP+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(oP,aP+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(sP,lP+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(cP,uP)},t.createEmptyHashError=function(e){return new t(dP,hP+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(pP,mP)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(yP,fP)},t.createUnableToParseStateError=function(){return new t(gP,bP)},t.createStateInteractionTypeMismatchError=function(){return new t(vP,MP)},t.createInteractionInProgressError=function(){return new t(xP,SP)},t.createPopupWindowError=function(e){var r=_P;return r=xz.isEmpty(e)?r:r+" Details: "+e,new t(wP,r)},t.createEmptyWindowCreatedError=function(){return new t(TP,IP)},t.createUserCancelledError=function(){return new t(CP,kP)},t.createMonitorPopupTimeoutError=function(){return new t(LP,NP)},t.createMonitorIframeTimeoutError=function(){return new t(ZP,EP)},t.createRedirectInIframeError=function(e){return new t(zP,GP+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(PP,AP)},t.createBlockAcquireTokenInPopupsError=function(){return new t(RP,DP)},t.createIframeClosedPrematurelyError=function(){return new t(XP,OP)},t.createSilentLogoutUnsupportedError=function(){return new t(WP,jP)},t.createNoAccountError=function(){return new t(YP,FP)},t.createSilentPromptValueError=function(e){return new t(VP,HP+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(KP,JP)},t.createNoTokenRequestCacheError=function(){return new t(UP,BP)},t.createAuthRequestNotSetError=function(){return new t($P,eA)},t.createNoCachedAuthorityError=function(){return new t(QP,qP)},t.createInvalidCacheTypeError=function(){return new t(tA,""+rA)},t.createNonBrowserEnvironmentError=function(){return new t(nA,iA)},t.createDatabaseNotOpenError=function(){return new t(oA,aA)},t.createNoNetworkConnectivityError=function(){return new t(sA,lA)},t.createPostRequestFailedError=function(e,r){return new t(cA,uA+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(dA,hA+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(pA,mA+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(yA,fA+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(gA,bA+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(vA,MA)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(xA,SA)},t.createSpaCodeAndNativeAccountIdPresentError=function(){return new t(wA,_A)},t.createDatabaseUnavailableError=function(){return new t(TA,IA)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(CA,kA)},t.createNativeHandshakeTimeoutError=function(){return new t(LA,NA)},t.createNativeExtensionNotInstalledError=function(){return new t(ZA,EA)},t.createNativeConnectionNotEstablishedError=function(){return new t(zA,GA)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(PA,AA)},t.createNativePromptParameterNotSupportedError=function(){return new t(RA,DA)},t}(GZ),OA="msal",WA="msal.js.browser",jA="53ee284d-920a-4b59-9d30-a60315b26836",YA=(function(e){e.HandshakeRequest="Handshake",e.HandshakeResponse="HandshakeResponse",e.GetToken="GetToken",e.Response="Response"}(_G=_G||{}),function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(TG=TG||{}),function(e){e.GET="GET",e.POST="POST"}(IG=IG||{}),function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status",e.CCS_CREDENTIAL="ccs.credential",e.CORRELATION_ID="request.correlationId",e.NATIVE_REQUEST="request.native",e.REDIRECT_CONTEXT="request.redirect.context"}(CG=CG||{}),function(e){e.ACCOUNT_KEYS="msal.account.keys",e.TOKEN_KEYS="msal.token.keys"}(kG=kG||{}),function(e){e.WRAPPER_SKU="wrapper.sku",e.WRAPPER_VER="wrapper.version"}(LG=LG||{}),function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenByCode=866]="acquireTokenByCode",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(NG=NG||{}),function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(ZG=ZG||{}),function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(EG=EG||{}),{scopes:_Z}),FA="jwk",VA=(function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(zG=zG||{}),"msal.db"),HA=VA+".keys",UA=(function(e){e[e.Default=0]="Default",e[e.AccessToken=1]="AccessToken",e[e.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",e[e.RefreshToken=3]="RefreshToken",e[e.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",e[e.Skip=5]="Skip"}(GG=GG||{}),{redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},storageNotSupportedError:{code:"storage_not_supported",desc:"Given storage configuration option was not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},invalidCallbackObject:{code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},stubPcaInstanceCalled:{code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},inMemRedirectUnavailable:{code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},entropyNotProvided:{code:"entropy_not_provided",desc:"The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option."}}),BA=function(e){function t(r,n){return(r=e.call(this,r,n)||this).name="BrowserConfigurationAuthError",Object.setPrototypeOf(r,t.prototype),r}return WN(t,e),t.createRedirectUriEmptyError=function(){return new t(UA.redirectUriNotSet.code,UA.redirectUriNotSet.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(UA.postLogoutUriNotSet.code,UA.postLogoutUriNotSet.desc)},t.createStorageNotSupportedError=function(e){return new t(UA.storageNotSupportedError.code,UA.storageNotSupportedError.desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(UA.noRedirectCallbacksSet.code,UA.noRedirectCallbacksSet.desc)},t.createStubPcaInstanceCalledError=function(){return new t(UA.stubPcaInstanceCalled.code,UA.stubPcaInstanceCalled.desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(UA.inMemRedirectUnavailable.code,UA.inMemRedirectUnavailable.desc)},t.createEntropyNotProvided=function(){return new t(UA.entropyNotProvided.code,UA.entropyNotProvided.desc)},t}(GZ),KA=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=n[e]}return e.prototype.validateWindowStorage=function(e){if(e!==TG.LocalStorage&&e!==TG.SessionStorage)throw BA.createStorageNotSupportedError(e);if(!n[e])throw BA.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),JA=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach((function(t,r){e.push(r)})),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),QA=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(xz.isEmpty(t))return null;try{return hG.parseRequestState(e,t).libraryState.meta}catch(e){throw Mz.createInvalidStateError(t,e)}},e.parseServerResponseFromHash=function(e){return e?(e=new pG(e),pG.getDeserializedHash(e.getHash())):{}},e}(),qA=function(e){function t(t,r,n,i){return(t=e.call(this,t,n,i)||this).COOKIE_LIFE_MULTIPLIER=864e5,t.cacheConfig=r,t.logger=i,t.internalStorage=new JA,t.browserStorage=t.setupBrowserStorage(t.cacheConfig.cacheLocation),t.temporaryCacheStorage=t.setupTemporaryCacheStorage(t.cacheConfig.temporaryCacheLocation,t.cacheConfig.cacheLocation),r.cacheMigrationEnabled&&(t.migrateCacheEntries(),t.createKeyMaps()),t}return WN(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case TG.LocalStorage:case TG.SessionStorage:try{return new KA(e)}catch(e){this.logger.verbose(e);break}}return this.cacheConfig.cacheLocation=TG.MemoryStorage,new JA},t.prototype.setupTemporaryCacheStorage=function(e,t){switch(t){case TG.LocalStorage:case TG.SessionStorage:try{return new KA(e||TG.SessionStorage)}catch(e){return this.logger.verbose(e),this.internalStorage}case TG.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t=wZ.CACHE_PREFIX+"."+tZ.ID_TOKEN,r=wZ.CACHE_PREFIX+"."+tZ.CLIENT_INFO,n=wZ.CACHE_PREFIX+"."+tZ.ERROR,i=wZ.CACHE_PREFIX+"."+tZ.ERROR_DESC,o=[this.browserStorage.getItem(t),this.browserStorage.getItem(r),this.browserStorage.getItem(n),this.browserStorage.getItem(i)];[tZ.ID_TOKEN,tZ.CLIENT_INFO,tZ.ERROR,tZ.ERROR_DESC].forEach((function(t,r){return e.migrateCacheEntry(t,o[r])}))},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.createKeyMaps=function(){var e=this,t=(this.logger.trace("BrowserCacheManager - createKeyMaps called."),this.getItem(kG.ACCOUNT_KEYS)),r=this.getItem(kG.TOKEN_KEYS+"."+this.clientId);t&&r?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach((function(t){var r;if(e.isCredentialKey(t)&&(r=e.getItem(t))){var n,i,o=e.validateAndParseJson(r);if(o&&o.hasOwnProperty("credentialType"))switch(o.credentialType){case uZ.ID_TOKEN:if(eG.isIdTokenEntity(o))return e.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - idToken with key: "+t+" found, saving key to token key map"),i=Ez.toObject(new eG,o),i=e.updateCredentialCacheKey(t,i),void e.addTokenKey(i,uZ.ID_TOKEN);e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed idToken validation on key: "+t);break;case uZ.ACCESS_TOKEN:case uZ.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(rG.isAccessTokenEntity(o))return e.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - accessToken with key: "+t+" found, saving key to token key map"),n=Ez.toObject(new rG,o),i=e.updateCredentialCacheKey(t,n),void e.addTokenKey(i,uZ.ACCESS_TOKEN);e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed accessToken validation on key: "+t);break;case uZ.REFRESH_TOKEN:if(nG.isRefreshTokenEntity(o))return e.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - refreshToken with key: "+t+" found, saving key to token key map"),n=Ez.toObject(new nG,o),i=e.updateCredentialCacheKey(t,n),void e.addTokenKey(i,uZ.REFRESH_TOKEN);e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: "+t)}}e.isAccountKey(t)&&(r=e.getItem(t))&&(r=e.validateAndParseJson(r))&&Nz.isAccountEntity(r)&&(e.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - account with key: "+t+" found, saving key to account key map"),e.addAccountKeyToMap(t))}))},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(e){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){this.logger.trace("BrowserCacheManager.getAccount called");var t=this.getItem(e);return(t=t&&this.validateAndParseJson(t))&&Nz.isAccountEntity(t)?Ez.toObject(new Nz,t):(this.removeAccountKeyFromMap(e),null)},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)},t.prototype.getAccountKeys=function(){this.logger.trace("BrowserCacheManager.getAccountKeys called");var e=this.getItem(kG.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])},t.prototype.addAccountKeyToMap=function(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: "+e);var t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(kG.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")},t.prototype.removeAccountKeyFromMap=function(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: "+e);var t=this.getAccountKeys();-1<(e=t.indexOf(e))?(t.splice(e,1),this.setItem(kG.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")},t.prototype.removeAccount=function(t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return e.prototype.removeAccount.call(this,t),this.removeAccountKeyFromMap(t),[2]}))}))},t.prototype.removeIdToken=function(t){e.prototype.removeIdToken.call(this,t),this.removeTokenKey(t,uZ.ID_TOKEN)},t.prototype.removeAccessToken=function(t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return e.prototype.removeAccessToken.call(this,t),this.removeTokenKey(t,uZ.ACCESS_TOKEN),[2]}))}))},t.prototype.removeRefreshToken=function(t){e.prototype.removeRefreshToken.call(this,t),this.removeTokenKey(t,uZ.REFRESH_TOKEN)},t.prototype.getTokenKeys=function(){this.logger.trace("BrowserCacheManager.getTokenKeys called");var e=this.getItem(kG.TOKEN_KEYS+"."+this.clientId);if(e){if((e=this.validateAndParseJson(e))&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}},t.prototype.addTokenKey=function(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");var r=this.getTokenKeys();switch(t){case uZ.ID_TOKEN:-1===r.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case uZ.ACCESS_TOKEN:-1===r.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case uZ.REFRESH_TOKEN:-1===r.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: "+t),Mz.createUnexpectedCredentialTypeError()}this.setItem(kG.TOKEN_KEYS+"."+this.clientId,JSON.stringify(r))},t.prototype.removeTokenKey=function(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");var r=this.getTokenKeys();switch(t){case uZ.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: "+e+" from map");var n=r.idToken.indexOf(e);-1<n?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(n,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case uZ.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: "+e+" from map"),-1<(n=r.accessToken.indexOf(e))?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(n,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case uZ.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: "+e+" from map"),-1<(n=r.refreshToken.indexOf(e))?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(n,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: "+t),Mz.createUnexpectedCredentialTypeError()}this.setItem(kG.TOKEN_KEYS+"."+this.clientId,JSON.stringify(r))},t.prototype.getIdTokenCredential=function(e){var t=this.getItem(e);return(t=t&&this.validateAndParseJson(t))&&eG.isIdTokenEntity(t)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),Ez.toObject(new eG,t)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,uZ.ID_TOKEN),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,uZ.ID_TOKEN)},t.prototype.getAccessTokenCredential=function(e){var t=this.getItem(e);return(t=t&&this.validateAndParseJson(t))&&rG.isAccessTokenEntity(t)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),Ez.toObject(new rG,t)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,uZ.ACCESS_TOKEN),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,uZ.ACCESS_TOKEN)},t.prototype.getRefreshTokenCredential=function(e){var t=this.getItem(e);return(t=t&&this.validateAndParseJson(t))&&nG.isRefreshTokenEntity(t)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),Ez.toObject(new nG,t)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,uZ.REFRESH_TOKEN),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,uZ.REFRESH_TOKEN)},t.prototype.getAppMetadata=function(e){var t=this.getItem(e);return(t=t&&this.validateAndParseJson(t))&&fG.isAppMetadataEntity(e,t)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),Ez.toObject(new fG,t)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var t=this.getItem(e);return(t=t&&this.validateAndParseJson(t))&&FG.isServerTelemetryEntity(e,t)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),Ez.toObject(new FG,t)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){var t=this.internalStorage.getItem(e);return t?(t=this.validateAndParseJson(t))&&OG.isAuthorityMetadataEntity(e,t)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),Ez.toObject(new OG,t)):null:(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null)},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))},t.prototype.setWrapperMetadata=function(e,t){this.internalStorage.setItem(LG.WRAPPER_SKU,e),this.internalStorage.setItem(LG.WRAPPER_VER,t)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(LG.WRAPPER_SKU)||wZ.EMPTY_STRING,this.internalStorage.getItem(LG.WRAPPER_VER)||wZ.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(tZ.ACTIVE_ACCOUNT_FILTERS);return(e=this.getItem(e))?(e=this.validateAndParseJson(e))?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:e.homeAccountId,localAccountId:e.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema"),e=this.generateCacheKey(tZ.ACTIVE_ACCOUNT),(e=this.getItem(e))?(e=this.getAccountInfoByFilter({localAccountId:e})[0]||null)?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(e),e):null:(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null))},t.prototype.setActiveAccount=function(e){var t,r=this.generateCacheKey(tZ.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(tZ.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),t={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId},this.browserStorage.setItem(r,JSON.stringify(t)),this.browserStorage.setItem(n,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r),this.browserStorage.removeItem(n))},t.prototype.getAccountInfoByFilter=function(e){var t=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+t.length+" accounts found"),t.filter((function(t){return!(e.username&&e.username.toLowerCase()!==t.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==t.homeAccountId||e.localAccountId&&e.localAccountId!==t.localAccountId||e.tenantId&&e.tenantId!==t.tenantId||e.environment&&e.environment!==t.environment)}))},t.prototype.getAccountInfoByHints=function(e,t){var r=this.getAllAccounts().filter((function(r){var n;return t?(n=r.idTokenClaims&&r.idTokenClaims.sid,t===n):!!e&&e===r.username}));if(1===r.length)return r[0];if(1<r.length)throw Mz.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var t=this.getItem(e);return(t=t&&this.validateAndParseJson(t))&&VG.isThrottlingEntity(e,t)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),Ez.toObject(new VG,t)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){return t=t?this.generateCacheKey(e):e,this.cacheConfig.storeAuthStateInCookie&&(e=this.getItemCookie(t))?(this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e):(e=this.temporaryCacheStorage.getItem(t))?(this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),e):this.cacheConfig.cacheLocation===TG.LocalStorage&&(e=this.browserStorage.getItem(t))?(this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e):(this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null)},t.prototype.setTemporaryCache=function(e,t,r){r=r?this.generateCacheKey(e):e,this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))},t.prototype.removeItem=function(e){this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return UN(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return FN(this,void 0,void 0,(function(){var e=this;return VN(this,(function(t){switch(t.label){case 0:return[4,this.removeAllAccounts()];case 1:return t.sent(),this.removeAppMetadata(),this.getKeys().forEach((function(t){!e.browserStorage.containsKey(t)&&!e.temporaryCacheStorage.containsKey(t)||-1===t.indexOf(wZ.CACHE_PREFIX)&&-1===t.indexOf(e.clientId)||e.removeItem(t)})),this.internalStorage.clear(),[2]}}))}))},t.prototype.clearTokensAndKeysWithClaims=function(){return FN(this,void 0,void 0,(function(){var e,t,r=this;return VN(this,(function(n){switch(n.label){case 0:return this.logger.trace("BrowserCacheManager.clearTokensAndKeysWithClaims called"),e=this.getTokenKeys(),t=[],e.accessToken.forEach((function(e){var n=r.getAccessTokenCredential(e);null!=n&&n.requestedClaimsHash&&e.includes(n.requestedClaimsHash.toLowerCase())&&t.push(r.removeAccessToken(e))})),[4,Promise.all(t)];case 1:return n.sent(),0<t.length&&this.logger.warning(t.length+" access tokens with claims in the cache keys have been removed from the cache."),[2]}}))}))},t.prototype.setItemCookie=function(e,t,r){e=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;SameSite=Lax;",r&&(e+="expires="+this.getCookieExpirationTime(r)+";"),this.cacheConfig.secureCookies&&(e+="Secure;"),document.cookie=e},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return wZ.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,t=wZ.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach((function(r){for(;" "===r.charAt(0);)r=r.substring(1);var n;0===r.indexOf(t)&&(n=r.split("=")[0],e.clearItemCookie(n))}))},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,wZ.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):xz.startsWith(e,wZ.CACHE_PREFIX)||xz.startsWith(e,tZ.ADAL_ID_TOKEN)?e:wZ.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){return e=hG.parseRequestState(this.cryptoImpl,e).libraryState.id,this.generateCacheKey(CG.AUTHORITY+"."+e)},t.prototype.generateNonceKey=function(e){return e=hG.parseRequestState(this.cryptoImpl,e).libraryState.id,this.generateCacheKey(CG.NONCE_IDTOKEN+"."+e)},t.prototype.generateStateKey=function(e){return e=hG.parseRequestState(this.cryptoImpl,e).libraryState.id,this.generateCacheKey(CG.REQUEST_STATE+"."+e)},t.prototype.getCachedAuthority=function(e){return e=this.generateStateKey(e),(e=this.getTemporaryCache(e))?(e=this.generateAuthorityKey(e),this.getTemporaryCache(e)):null},t.prototype.updateCacheEntries=function(e,t,r,n,i){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var o,a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1),a=this.generateNonceKey(e),this.setTemporaryCache(a,t,!1),a=this.generateAuthorityKey(e),this.setTemporaryCache(a,r,!1),i?(o={credential:i.homeAccountId,type:Yz.HOME_ACCOUNT_ID},this.setTemporaryCache(CG.CCS_CREDENTIAL,JSON.stringify(o),!0)):xz.isEmpty(n)||(o={credential:n,type:Yz.UPN},this.setTemporaryCache(CG.CCS_CREDENTIAL,JSON.stringify(o),!0))},t.prototype.resetRequestCache=function(e){var t=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),xz.isEmpty(e)||this.getKeys().forEach((function(r){-1!==r.indexOf(e)&&t.removeItem(r)})),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(CG.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(CG.ORIGIN_URI)),this.removeItem(this.generateCacheKey(CG.URL_HASH)),this.removeItem(this.generateCacheKey(CG.CORRELATION_ID)),this.removeItem(this.generateCacheKey(CG.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(CG.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e&&(e=this.generateStateKey(e),e=this.temporaryCacheStorage.getItem(e),this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+e),this.resetRequestCache(e||wZ.EMPTY_STRING)),this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((function(r){var n;-1!==r.indexOf(CG.REQUEST_STATE)&&(r=t.temporaryCacheStorage.getItem(r))&&(n=QA.extractBrowserRequestState(t.cryptoImpl,r))&&n.interactionType===e&&(t.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+r),t.resetRequestCache(r))})),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called"),t=t.base64Encode(JSON.stringify(e)),this.setTemporaryCache(CG.REQUEST_PARAMS,t,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.trace("BrowserCacheManager.getCachedRequest called");var r=this.getTemporaryCache(CG.REQUEST_PARAMS,!0);if(!r)throw XA.createNoTokenRequestCacheError();if(!(t=this.validateAndParseJson(t.base64Decode(r))))throw XA.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(CG.REQUEST_PARAMS)),xz.isEmpty(t.authority)){if(r=this.generateAuthorityKey(e),!(e=this.getTemporaryCache(r)))throw XA.createNoCachedAuthorityError();t.authority=e}return t},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(CG.NATIVE_REQUEST,!0);return e?this.validateAndParseJson(e)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){var e=wZ.CACHE_PREFIX+"."+CG.INTERACTION_STATUS_KEY;return this.getTemporaryCache(e,!1)},t.prototype.setInteractionInProgress=function(e){var t=wZ.CACHE_PREFIX+"."+CG.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw XA.createInteractionInProgressError();this.setTemporaryCache(t,this.clientId,!1)}else this.getInteractionInProgress()===this.clientId&&this.removeItem(t)},t.prototype.getLegacyLoginHint=function(){var e,t=this.getTemporaryCache(tZ.ADAL_ID_TOKEN);if(t&&(this.browserStorage.removeItem(tZ.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved.")),(e=this.getTemporaryCache(tZ.ID_TOKEN,!0))&&(this.removeItem(this.generateCacheKey(tZ.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved")),e=e||t){if((t=new Zz(e,this.cryptoImpl)).claims&&t.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),t.claims.preferred_username;if(t.claims&&t.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),t.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,t){var r=t.generateCredentialKey();if(e!==r){var n=this.getItem(e);if(n)return this.removeItem(e),this.setItem(r,n),this.logger.verbose("Updated an outdated "+t.credentialType+" cache key"),r;this.logger.error("Attempted to update an outdated "+t.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(CG.REDIRECT_CONTEXT,!0)},t.prototype.setRedirectRequestContext=function(e){this.setTemporaryCache(CG.REDIRECT_CONTEXT,e,!0)},t}(Ez),$A="@azure/msal-browser",eR="2.38.3",tR=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return FN(this,void 0,void 0,(function(){var r,i,o;return VN(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,fetch(e,{method:IG.GET,headers:this.getFetchHeaders(t)})];case 1:return r=a.sent(),[3,3];case 2:throw i=a.sent(),n.navigator.onLine?XA.createGetRequestFailedError(i,e):XA.createNoNetworkConnectivityError();case 3:return a.trys.push([3,5,,6]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(o.body=a.sent(),o.status=r.status,o)];case 5:throw a.sent(),XA.createFailedToParseNetworkResponseError(e);case 6:return[2]}}))}))},e.prototype.sendPostRequestAsync=function(e,t){return FN(this,void 0,void 0,(function(){var r,i,o,a;return VN(this,(function(s){switch(s.label){case 0:r=t&&t.body||wZ.EMPTY_STRING,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(e,{method:IG.POST,headers:this.getFetchHeaders(t),body:r})];case 2:return i=s.sent(),[3,4];case 3:throw o=s.sent(),n.navigator.onLine?XA.createPostRequestFailedError(o,e):XA.createNoNetworkConnectivityError();case 4:return s.trys.push([4,6,,7]),a={headers:this.getHeaderDict(i.headers)},[4,i.json()];case 5:return[2,(a.body=s.sent(),a.status=i.status,a)];case 6:throw s.sent(),XA.createFailedToParseNetworkResponseError(e);case 7:return[2]}}))}))},e.prototype.getFetchHeaders=function(e){var t,r=new Headers;return e&&e.headers&&(t=e.headers,Object.keys(t).forEach((function(e){r.append(e,t[e])}))),r},e.prototype.getHeaderDict=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},e}(),rR=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return[2,this.sendRequestAsync(e,IG.GET,t)]}))}))},e.prototype.sendPostRequestAsync=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return[2,this.sendRequestAsync(e,IG.POST,t)]}))}))},e.prototype.sendRequestAsync=function(e,t,r){var i=this;return new Promise((function(o,a){var s=new XMLHttpRequest;if(s.open(t,e,!0),i.setXhrHeaders(s,r),s.onload=function(){(s.status<200||300<=s.status)&&(t===IG.POST?a(XA.createPostRequestFailedError("Failed with status "+s.status,e)):a(XA.createGetRequestFailedError("Failed with status "+s.status,e)));try{var r=JSON.parse(s.responseText),n={headers:i.getHeaderDict(s),body:r,status:s.status};o(n)}catch(r){a(XA.createFailedToParseNetworkResponseError(e))}},s.onerror=function(){n.navigator.onLine?t===IG.POST?a(XA.createPostRequestFailedError("Failed with status "+s.status,e)):a(XA.createGetRequestFailedError("Failed with status "+s.status,e)):a(XA.createNoNetworkConnectivityError())},t===IG.POST&&r&&r.body)s.send(r.body);else{if(t!==IG.GET)throw XA.createHttpMethodNotImplementedError(t);s.send()}}))},e.prototype.setXhrHeaders=function(e,t){var r;t&&t.headers&&(r=t.headers,Object.keys(r).forEach((function(t){e.setRequestHeader(t,r[t])})))},e.prototype.getHeaderDict=function(e){e=e.getAllResponseHeaders().trim().split(/[\r\n]+/);var t={};return e.forEach((function(e){var r=(e=e.split(": ")).shift();e=e.join(": "),r&&e&&(t[r]=e)})),t},e}(),nR=function(){function e(){}return e.clearHash=function(e){e.location.hash=wZ.EMPTY_STRING,"function"==typeof e.history.replaceState&&e.history.replaceState(null,wZ.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},e.replaceHash=function(e){(e=e.split("#")).shift(),n.location.hash=0<e.length?e.join("#"):wZ.EMPTY_STRING},e.isInIframe=function(){return n.parent!==n},e.isInPopup=function(){return void 0!==n&&!!n.opener&&n.opener!==n&&"string"==typeof n.name&&0===n.name.indexOf(OA+".")},e.getCurrentUri=function(){return n.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new pG(n.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return new(n.fetch&&n.Headers?tR:rR)},e.blockReloadInHiddenIframes=function(){if(pG.hashContainsKnownProperties(n.location.hash)&&e.isInIframe())throw XA.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,r){var n=e.isInIframe();if(t===ZG.Redirect&&n&&!r)throw XA.createRedirectInIframeError(n)},e.blockAcquireTokenInPopups=function(){if(e.isInPopup())throw XA.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw XA.createNonBrowserEnvironmentError()},e.blockNativeBrokerCalledBeforeInitialized=function(e,t){if(e&&!t)throw XA.createNativeBrokerCalledBeforeInitialize()},e.detectIEOrEdge=function(){var e=(r=n.navigator.userAgent).indexOf("MSIE "),t=r.indexOf("Trident/"),r=r.indexOf("Edge/");return 0<e||0<t||0<r},e}(),iR=function(){function e(e,t,r,n,i,o,a,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=o,this.nativeMessageHandler=s,this.correlationId=l||this.browserCrypto.createNewGuid(),this.logger=n.clone(WA,eR,this.correlationId),this.performanceClient=a}return e.prototype.clearCacheOnLogout=function(e){return FN(this,void 0,void 0,(function(){return VN(this,(function(t){switch(t.label){case 0:if(!e)return[3,5];Nz.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(Nz.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}}))}))},e.prototype.initializeBaseRequest=function(e,t){return FN(this,void 0,void 0,(function(){var r,n,i;return VN(this,(function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.InitializeBaseRequest,e.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),r=e.authority||this.config.auth.authority,t?[4,this.validateRequestAuthority(r,t)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(n=UN(e&&e.scopes||[]),(n=jN(jN({},e),{correlationId:this.correlationId,authority:r,scopes:n})).authenticationScheme){if(n.authenticationScheme===pZ.SSH){if(!e.sshJwk)throw Iz.createMissingSshJwkError();if(!e.sshKid)throw Iz.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+n.authenticationScheme+'" as configured in Auth request')}else n.authenticationScheme=pZ.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return this.config.cache.claimsBasedCachingEnabled&&e.claims&&!xz.isEmptyObj(e.claims)?(i=n,[4,this.browserCrypto.hashString(e.claims)]):[3,4];case 3:i.requestedClaimsHash=o.sent(),o.label=4;case 4:return[2,n]}}))}))},e.prototype.getRedirectUri=function(e){return this.logger.verbose("getRedirectUri called"),e=e||this.config.auth.redirectUri||nR.getCurrentUri(),pG.getAbsoluteUrl(e,nR.getCurrentUri())},e.prototype.validateRequestAuthority=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){switch(r.label){case 0:return[4,this.getDiscoveredAuthority(e)];case 1:if(r.sent().isAlias(t.environment))return[2];throw Iz.createAuthorityMismatchError()}}))}))},e.prototype.initializeServerTelemetryManager=function(e,t){return this.logger.verbose("initializeServerTelemetryManager called"),e={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]},new $G(e,this.browserStorage)},e.prototype.getDiscoveredAuthority=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){switch(r.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),t={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,YG.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t,this.logger)]):[3,2];case 1:case 3:return[2,r.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,YG.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t,this.logger)]}}))}))},e}(),oR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WN(t,e),t.prototype.initializeAuthorizationCodeRequest=function(e){return FN(this,void 0,void 0,(function(){var t,r;return VN(this,(function(n){switch(n.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return t=n.sent(),r=jN(jN({},e),{redirectUri:e.redirectUri,code:wZ.EMPTY_STRING,codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod=wZ.S256_CODE_CHALLENGE_METHOD,[2,r]}}))}))},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId);var t,r=jN({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);return e?e.logoutHint?this.logger.verbose("logoutHint has already been set in logoutRequest"):e.account?(t=this.getLogoutHintFromIdTokenClaims(e.account))&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),r.logoutHint=t):this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set"):this.logger.verbose("logoutHint will not be set since no logout request was configured"),e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=pG.getAbsoluteUrl(e.postLogoutRedirectUri,nR.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=pG.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,nR.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=pG.getAbsoluteUrl(nR.getCurrentUri(),nR.getCurrentUri())),r},t.prototype.getLogoutHintFromIdTokenClaims=function(e){if(e=e.idTokenClaims){if(e.login_hint)return e.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,t,r){return FN(this,void 0,void 0,(function(){var n;return VN(this,(function(i){switch(i.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,r)];case 1:return n=i.sent(),[2,new vG(n,this.performanceClient)]}}))}))},t.prototype.getClientConfiguration=function(e,t,r){return FN(this,void 0,void 0,(function(){var n,i;return VN(this,(function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority(t,r)];case 1:return n=o.sent(),i=this.config.system.loggerOptions,[2,{authOptions:{clientId:this.config.auth.clientId,authority:n,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:i.loggerCallback,piiLoggingEnabled:i.piiLoggingEnabled,logLevel:i.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:WA,version:eR,cpu:wZ.EMPTY_STRING,os:wZ.EMPTY_STRING},telemetry:this.config.telemetry}]}}))}))},t.prototype.validateAndExtractStateFromHash=function(e,t,r){if(this.logger.verbose("validateAndExtractStateFromHash called",r),!e.state)throw XA.createHashDoesNotContainStateError();var n=QA.extractBrowserRequestState(this.browserCrypto,e.state);if(!n)throw XA.createUnableToParseStateError();if(n.interactionType!==t)throw XA.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",r),e.state},t.prototype.getDiscoveredAuthority=function(e,t){var r;return FN(this,void 0,void 0,(function(){var n,i,o;return VN(this,(function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),n=null==(r=this.performanceClient)?void 0:r.startMeasurement(Fz.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e||this.config.auth.authority,o=jG.generateAuthority(o,t||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(Fz.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,YG.createDiscoveredInstance(o,this.config.system.networkClient,this.browserStorage,i,this.logger,this.performanceClient,this.correlationId).then((function(e){return n.endMeasurement({success:!0}),e})).catch((function(e){throw n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))];case 1:return[2,a.sent()]}}))}))},t.prototype.initializeAuthorizationRequest=function(e,t){return FN(this,void 0,void 0,(function(){var r,n,i,o,a;return VN(this,(function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),r=this.getRedirectUri(e.redirectUri),n={interactionType:t},n=hG.setRequestState(this.browserCrypto,e&&e.state||wZ.EMPTY_STRING,n),this.performanceClient.setPreQueueTime(Fz.InitializeBaseRequest,this.correlationId),o=[{}],[4,this.initializeBaseRequest(e)];case 1:return i=jN.apply(void 0,[jN.apply(void 0,o.concat([s.sent()])),{redirectUri:r,state:n,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:aZ.FRAGMENT}]),(a=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+a.homeAccountId,this.correlationId),i.account=a),xz.isEmpty(i.loginHint)&&!a&&(a=this.browserStorage.getLegacyLoginHint())&&(i.loginHint=a),[2,i]}}))}))},t}(iR),aR=function(){function e(e,t,r,n,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=n,this.performanceClient=i}return e.prototype.handleCodeResponseFromHash=function(e,t,r,n){return FN(this,void 0,void 0,(function(){var i,o;return VN(this,(function(a){if(this.performanceClient.addQueueMeasurement(Fz.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),xz.isEmpty(e))throw XA.createEmptyHashError(e);if(i=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(i)))throw Mz.createStateNotFoundError("Cached State");try{o=this.authModule.handleFragmentResponse(e,i)}catch(a){throw a instanceof Uz&&a.subError===CP?XA.createUserCancelledError():a}return this.performanceClient.setPreQueueTime(Fz.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(o,t,r,n)]}))}))},e.prototype.handleCodeResponseFromServer=function(e,t,r,n,i){return void 0===i&&(i=!0),FN(this,void 0,void 0,(function(){var o,a,s;return VN(this,(function(l){switch(l.label){case 0:if(this.performanceClient.addQueueMeasurement(Fz.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),o=this.browserStorage.generateStateKey(t),o=this.browserStorage.getTemporaryCache(o))return a=this.browserStorage.generateNonceKey(o),a=this.browserStorage.getTemporaryCache(a),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(Fz.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,r,n)]):[3,2];throw Mz.createStateNotFoundError("Cached State");case 1:l.sent(),l.label=2;case 2:return i&&(e.nonce=a||void 0),e.state=o,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(s=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=s),this.performanceClient.setPreQueueTime(Fz.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return s=l.sent(),this.browserStorage.cleanRequestByState(t),[2,s]}}))}))},e.prototype.updateTokenEndpointAuthority=function(e,t,r){return FN(this,void 0,void 0,(function(){var n;return VN(this,(function(i){switch(i.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),n="https://"+e+"/"+t.tenant+"/",[4,YG.createDiscoveredInstance(n,r,this.browserStorage,t.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return n=i.sent(),this.authModule.updateAuthority(n),[2]}}))}))},e.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(CG.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},e}(),sR=function(e){function t(t,r,n,i,o,a){return(t=e.call(this,t,r,n,i,a)||this).browserCrypto=o,t}return WN(t,e),t.prototype.initiateAuthRequest=function(e,t){return FN(this,void 0,void 0,(function(){var r;return VN(this,(function(n){switch(n.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),xz.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(CG.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(CG.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),r={apiId:NG.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!=typeof t.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,r)])));case 1:case 5:return n.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,r)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),XA.createEmptyNavigationUriError();case 8:return[2]}}))}))},t.prototype.handleCodeResponseFromHash=function(e,t,r,n){return FN(this,void 0,void 0,(function(){var i,o,a,s;return VN(this,(function(l){switch(l.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),xz.isEmpty(e))throw XA.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),i=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(i)))throw Mz.createStateNotFoundError("Cached State");try{o=this.authModule.handleFragmentResponse(e,i)}catch(l){throw l instanceof Uz&&l.subError===CP?XA.createUserCancelledError():l}return a=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(a),this.authCodeRequest.code=o.code,o.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(o.cloud_instance_host_name,r,n)]:[3,2];case 1:l.sent(),l.label=2;case 2:return o.nonce=a||void 0,o.state=i,o.client_info?this.authCodeRequest.clientInfo=o.client_info:(s=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=s),[4,this.authModule.acquireToken(this.authCodeRequest,o)];case 3:return s=l.sent(),this.browserStorage.cleanRequestByState(t),[2,s]}}))}))},t}(aR),lR=(function(e){e.INITIALIZE_START="msal:initializeStart",e.INITIALIZE_END="msal:initializeEnd",e.ACCOUNT_ADDED="msal:accountAdded",e.ACCOUNT_REMOVED="msal:accountRemoved",e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",e.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",e.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd",e.RESTORE_FROM_BFCACHE="msal:restoreFromBFCache"}(PG=PG||{}),function(e){e.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",e.USER_CANCEL="USER_CANCEL",e.NO_NETWORK="NO_NETWORK",e.TRANSIENT_ERROR="TRANSIENT_ERROR",e.PERSISTENT_ERROR="PERSISTENT_ERROR",e.DISABLED="DISABLED",e.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE"}(AG=AG||{}),{extensionError:{code:"ContentError"},userSwitch:{code:"user_switch",desc:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},tokensNotFoundInCache:{code:"tokens_not_found_in_internal_memory_cache",desc:"Tokens not cached in MSAL JS internal memory, please make the WAM request"}}),cR=function(e){function t(r,n,i){return r=e.call(this,r,n)||this,Object.setPrototypeOf(r,t.prototype),r.name="NativeAuthError",r.ext=i,r}return WN(t,e),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==AG.PERSISTENT_ERROR&&this.ext.status!==AG.DISABLED)||this.errorCode===lR.extensionError.code},t.createError=function(e,r,n){if(n&&n.status)switch(n.status){case AG.ACCOUNT_UNAVAILABLE:return uG.createNativeAccountUnavailableError();case AG.USER_INTERACTION_REQUIRED:return new uG(e,r);case AG.USER_CANCEL:return XA.createUserCancelledError();case AG.NO_NETWORK:return XA.createNoNetworkConnectivityError()}return new t(e,r,n)},t.createUserSwitchError=function(){return new t(lR.userSwitch.code,lR.userSwitch.desc)},t.createTokensNotFoundInCacheError=function(){return new t(lR.tokensNotFoundInCache.code,lR.tokensNotFoundInCache.desc)},t}(GZ),uR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WN(t,e),t.prototype.acquireToken=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i;return VN(this,(function(o){switch(o.label){case 0:return t=this.performanceClient.startMeasurement(Fz.SilentCacheClientAcquireToken,e.correlationId),n=this.initializeServerTelemetryManager(NG.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(n,e.authority,e.azureCloudOptions)];case 1:r=o.sent(),this.logger.verbose("Silent auth client created"),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,r.acquireCachedToken(e)];case 3:return n=o.sent(),t.endMeasurement({success:!0,fromCache:!0}),[2,n];case 4:throw(i=o.sent())instanceof XA&&i.errorCode===gA&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),t.endMeasurement({errorCode:i instanceof GZ&&i.errorCode||void 0,subErrorCode:i instanceof GZ&&i.subError||void 0,success:!1}),i;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(XA.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,t,r){return FN(this,void 0,void 0,(function(){var n;return VN(this,(function(i){switch(i.label){case 0:return this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,r)];case 1:return n=i.sent(),[2,new xG(n,this.performanceClient)]}}))}))},t.prototype.initializeSilentRequest=function(e,t){return FN(this,void 0,void 0,(function(){var r;return VN(this,(function(n){switch(n.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(Fz.InitializeBaseRequest,this.correlationId),r=[jN({},e)],[4,this.initializeBaseRequest(e,t)];case 1:return[2,jN.apply(void 0,[jN.apply(void 0,r.concat([n.sent()])),{account:t,forceRefresh:e.forceRefresh||!1}])]}}))}))},t}(oR),dR=function(e){function t(t,r,n,i,o,a,s,l,c,u,d,h){return(r=e.call(this,t,r,n,i,o,a,l,c,h)||this).apiId=s,r.accountId=u,r.nativeMessageHandler=c,r.nativeStorageManager=d,r.silentCacheClient=new uR(t,r.nativeStorageManager,n,i,o,a,l,c,h),r}return WN(t,e),t.prototype.acquireToken=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i,o;return VN(this,(function(a){switch(a.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),t=this.performanceClient.startMeasurement(Fz.NativeInteractionClientAcquireToken,e.correlationId),r=tG.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:n=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,n)];case 3:return i=a.sent(),t.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,i];case 4:return a.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return i={method:_G.GetToken,request:n},[4,this.nativeMessageHandler.sendMessage(i)];case 6:return o=a.sent(),o=this.validateNativeResponse(o),[2,this.handleNativeResponse(o,n,r).then((function(e){return t.endMeasurement({success:!0,isNativeBroker:!0,requestId:e.requestId}),e})).catch((function(e){throw t.endMeasurement({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))]}}))}))},t.prototype.createSilentCacheRequest=function(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Cz.fromString(e.scope).asArray(),account:t,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,t){return FN(this,void 0,void 0,(function(){var r,n;return VN(this,(function(i){switch(i.label){case 0:if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Mz.createNoAccountFoundError();if(!(r=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:e})))throw Mz.createNoAccountFoundError();i.label=1;case 1:return i.trys.push([1,3,,4]),n=this.createSilentCacheRequest(t,r),[4,this.silentCacheClient.acquireToken(n)];case 2:return[2,i.sent()];case 3:throw i.sent();case 4:return[2]}}))}))},t.prototype.acquireTokenRedirect=function(e){return FN(this,void 0,void 0,(function(){var t,r,i,o,a;return VN(this,(function(s){switch(s.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:t=s.sent(),r={method:_G.GetToken,request:t},s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(r)];case 3:return i=s.sent(),this.validateNativeResponse(i),[3,5];case 4:if((i=s.sent())instanceof cR&&i.isFatal())throw i;return[3,5];case 5:return this.browserStorage.setTemporaryCache(CG.NATIVE_REQUEST,JSON.stringify(t),!0),o={apiId:NG.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?n.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(a,o)];case 6:return s.sent(),[2]}}))}))},t.prototype.handleRedirectPromise=function(){return FN(this,void 0,void 0,(function(){var e,t,r,n;return VN(this,(function(i){switch(i.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];t=e.prompt,e=YN(e,["prompt"]),t&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(CG.NATIVE_REQUEST)),t={method:_G.GetToken,request:e},r=tG.nowSeconds(),i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(t)];case 2:return n=i.sent(),this.validateNativeResponse(n),n=this.handleNativeResponse(n,e,r),this.browserStorage.setInteractionInProgress(!1),[2,n];case 3:throw n=i.sent(),this.browserStorage.setInteractionInProgress(!1),n;case 4:return[2]}}))}))},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,t,r){return FN(this,void 0,void 0,(function(){var n,i,o,a;return VN(this,(function(s){switch(s.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==t.accountId)throw cR.createUserSwitchError();return[4,this.getDiscoveredAuthority(t.authority)];case 1:return a=s.sent(),o=a.getPreferredCache(),n=this.createIdTokenObj(e),i=this.createHomeAccountIdentifier(e,n),o=this.createAccountEntity(e,i,n,o),[4,this.generateAuthenticationResult(e,t,n,o,a.canonicalAuthority,r)];case 2:return a=s.sent(),this.cacheAccount(o),this.cacheNativeTokens(e,t,i,o,n,a.accessToken,a.tenantId,r),[2,a]}}))}))},t.prototype.createIdTokenObj=function(e){return new Zz(e.id_token||wZ.EMPTY_STRING,this.browserCrypto)},t.prototype.createHomeAccountIdentifier=function(e,t){return Nz.generateHomeAccountId(e.client_info||wZ.EMPTY_STRING,SZ.Default,this.logger,this.browserCrypto,t)},t.prototype.createAccountEntity=function(e,t,r,n){return Nz.createAccount(e.client_info,t,r,void 0,void 0,void 0,n,e.account.id)},t.prototype.generateScopes=function(e,t){return e.scope?Cz.fromString(e.scope):Cz.fromString(t.scope)},t.prototype.generatePopAccessToken=function(e,t){return FN(this,void 0,void 0,(function(){var r,n;return VN(this,(function(i){switch(i.label){case 0:if(t.tokenType!==pZ.POP)return[3,2];if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),[2,e.shr];if(r=new yG(this.browserCrypto),n={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce},t.keyId)return[4,r.signPopToken(e.access_token,t.keyId,n)];throw Mz.createKeyIdMissingError();case 1:return[2,i.sent()];case 2:return[2,e.access_token]}}))}))},t.prototype.generateAuthenticationResult=function(e,t,r,n,i,o){return FN(this,void 0,void 0,(function(){var a,s,l,c,u,d;return VN(this,(function(h){switch(h.label){case 0:return a=this.addTelemetryFromNativeResponse(e),s=e.scope?Cz.fromString(e.scope):Cz.fromString(t.scope),c=e.account.properties||{},l=c.UID||r.claims.oid||r.claims.sub||wZ.EMPTY_STRING,c=c.TenantId||r.claims.tid||wZ.EMPTY_STRING,[4,this.generatePopAccessToken(e,t)];case 1:return u=h.sent(),d=t.tokenType===pZ.POP?pZ.POP:pZ.BEARER,[2,{authority:i,uniqueId:l,tenantId:c,scopes:s.asArray(),account:n.getAccountInfo(),idToken:e.id_token,idTokenClaims:r.claims,accessToken:u,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:new Date(1e3*Number(o+e.expires_in)),tokenType:d,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}]}}))}))},t.prototype.cacheAccount=function(e){var t=this;this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((function(e){t.logger.error("Error occurred while removing account context from browser storage. "+e)}))},t.prototype.cacheNativeTokens=function(e,t,r,n,i,o,a,s){var l=eG.createIdTokenEntity(r,t.authority,e.id_token||wZ.EMPTY_STRING,t.clientId,i.claims.tid||wZ.EMPTY_STRING);s+=t.tokenType===pZ.POP?wZ.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,e=this.generateScopes(e,t),r=rG.createAccessTokenEntity(r,t.authority,o,t.clientId,i?i.claims.tid||wZ.EMPTY_STRING:a,e.printScopes(),s,0,this.browserCrypto),o=new dG(n,l,r),this.nativeStorageManager.saveCacheRecord(o)},t.prototype.addTelemetryFromNativeResponse=function(e){return(e=this.getMATSFromResponse(e))?(this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:e.broker_version,matsAccountJoinOnStart:e.account_join_on_start,matsAccountJoinOnEnd:e.account_join_on_end,matsDeviceJoin:e.device_join,matsPromptBehavior:e.prompt_behavior,matsApiErrorCode:e.api_error_code,matsUiVisible:e.ui_visible,matsSilentCode:e.silent_code,matsSilentBiSubCode:e.silent_bi_sub_code,matsSilentMessage:e.silent_message,matsSilentStatus:e.silent_status,matsHttpStatus:e.http_status,matsHttpEventCount:e.http_event_count},this.correlationId),e):null},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw cR.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(e){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return void 0===e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i,o,a=this;return VN(this,(function(s){switch(s.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),t=e.authority||this.config.auth.authority,e.account?[4,this.validateRequestAuthority(t,e.account)]:[3,2];case 1:s.sent(),s.label=2;case 2:return(i=new pG(t)).validateAsUri(),o=e.scopes,n=YN(e,["scopes"]),(o=new Cz(o||[])).appendScopes(_Z),r=function(){switch(a.apiId){case NG.ssoSilent:case NG.acquireTokenSilent_silentFlow:return a.logger.trace("initializeNativeRequest: silent request sets prompt to none"),IZ.NONE}if(e.prompt)switch(e.prompt){case IZ.NONE:case IZ.CONSENT:case IZ.LOGIN:return a.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw a.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),XA.createNativePromptParameterNotSupportedError()}else a.logger.trace("initializeNativeRequest: prompt was not provided")},n=jN(jN({},n),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:r(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:jN(jN(jN({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:"MATS"}),extendedExpiryToken:!1}),e.authenticationScheme!==pZ.POP?[3,4]:(i={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new yG(this.browserCrypto).generateCnf(i)]);case 3:o=s.sent(),n.reqCnf=o.reqCnfString,n.keyId=o.kid,s.label=4;case 4:return[2,n]}}))}))},t}(iR),hR=function(){function e(e,t,r,n){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=n,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(Fz.NativeMessageHandlerHandshake)}return e.prototype.sendMessage=function(e){return FN(this,void 0,void 0,(function(){var t,r=this;return VN(this,(function(n){return this.logger.trace("NativeMessageHandler - sendMessage called."),t={channel:jA,extensionId:this.extensionId,responseId:this.responseId++,body:e},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(t)),this.messageChannel.port1.postMessage(t),[2,new Promise((function(e,n){r.resolvers.set(t.responseId,{resolve:e,reject:n})}))]}))}))},e.createProvider=function(t,r,n){return FN(this,void 0,void 0,(function(){var i,o;return VN(this,(function(a){switch(a.label){case 0:t.trace("NativeMessageHandler - createProvider called."),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,(i=new e(t,r,n,"ppnbnpeolgkicgegkbkbjmhlideopiji")).sendHandshakeRequest()];case 2:return a.sent(),[2,i];case 3:return a.sent(),[4,(o=new e(t,r,n)).sendHandshakeRequest()];case 4:return a.sent(),[2,o];case 5:return[2]}}))}))},e.prototype.sendHandshakeRequest=function(){return FN(this,void 0,void 0,(function(){var e,t=this;return VN(this,(function(r){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),n.addEventListener("message",this.windowListener,!1),e={channel:jA,extensionId:this.extensionId,responseId:this.responseId++,body:{method:_G.HandshakeRequest}},this.handshakeEvent.addStaticFields({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=function(e){t.onChannelMessage(e)},n.postMessage(e,n.origin,[this.messageChannel.port2]),[2,new Promise((function(r,i){t.handshakeResolvers.set(e.responseId,{resolve:r,reject:i}),t.timeoutId=n.setTimeout((function(){n.removeEventListener("message",t.windowListener,!1),t.messageChannel.port1.close(),t.messageChannel.port2.close(),t.handshakeEvent.endMeasurement({extensionHandshakeTimedOut:!0,success:!1}),i(XA.createNativeHandshakeTimeoutError()),t.handshakeResolvers.delete(e.responseId)}),t.handshakeTimeoutMs)}))]}))}))},e.prototype.onWindowMessage=function(e){this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==n||!(e=e.data).channel||e.channel!==jA||e.extensionId&&e.extensionId!==this.extensionId||e.body.method===_G.HandshakeRequest&&(this.logger.verbose(e.extensionId?"Extension with id: "+e.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),n.removeEventListener("message",this.windowListener,!1),e=this.handshakeResolvers.get(e.responseId))&&(this.handshakeEvent.endMeasurement({success:!1,extensionInstalled:!1}),e.reject(XA.createNativeExtensionNotInstalledError()))},e.prototype.onChannelMessage=function(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var t=e.data,r=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{var o=t.body.method;if(o===_G.Response){if(r){var a=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(a)),"Success"!==a.status)r.reject(cR.createError(a.code,a.description,a.ext));else{if(!a.result)throw GZ.createUnexpectedError("Event does not contain result.");a.result.code&&a.result.description?r.reject(cR.createError(a.result.code,a.result.description,a.result.ext)):r.resolve(a.result)}this.resolvers.delete(t.responseId)}}else o===_G.HandshakeResponse&&i&&(clearTimeout(this.timeoutId),n.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),this.handshakeEvent.endMeasurement({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId))}catch(t){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+t.toString()),this.logger.errorPii("Unable to parse "+e),r?r.reject(t):i&&i.reject(t)}},e.prototype.getExtensionId=function(){return this.extensionId},e.prototype.getExtensionVersion=function(){return this.extensionVersion},e.isNativeAvailable=function(e,t,r,n){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(n)switch(n){case pZ.BEARER:case pZ.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},e}(),pR=function(e){function t(t,r,n,i,o,a,s,l,c,u){return(t=e.call(this,t,r,n,i,o,a,s,c,u)||this).nativeStorage=l,t}return WN(t,e),t.prototype.acquireToken=function(e){return FN(this,void 0,void 0,(function(){var t,r,i,o,a,s,l,c=this;return VN(this,(function(u){switch(u.label){case 0:return this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,ZG.Redirect)];case 1:t=u.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||wZ.EMPTY_STRING,t.account||null),r=this.initializeServerTelemetryManager(NG.acquireTokenRedirect),i=function(e){e.persisted&&(c.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),c.browserStorage.cleanRequestByState(t.state),c.eventHandler.emitEvent(PG.RESTORE_FROM_BFCACHE,ZG.Redirect))},u.label=2;case 2:return u.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return o=u.sent(),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(r,t.authority,t.azureCloudOptions)];case 4:return s=u.sent(),this.logger.verbose("Auth code client created"),a=new sR(s,this.browserStorage,o,this.logger,this.browserCrypto,this.performanceClient),[4,s.getAuthCodeUrl(jN(jN({},t),{nativeBroker:hR.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return s=u.sent(),l=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+l),n.addEventListener("pageshow",i),[4,a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,u.sent()];case 7:throw(l=u.sent())instanceof GZ&&l.setCorrelationId(this.correlationId),n.removeEventListener("pageshow",i),r.cacheFailedRequest(l),this.browserStorage.cleanRequestByState(t.state),l;case 8:return[2]}}))}))},t.prototype.handleRedirectPromise=function(e){return FN(this,void 0,void 0,(function(){var t,r,i,o,a,s,l,c,u,d;return VN(this,(function(h){switch(h.label){case 0:t=this.initializeServerTelemetryManager(NG.handleRedirectPromise),h.label=1;case 1:if(h.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(r=this.getRedirectResponseHash(e||n.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ZG.Redirect),[2,null];i=void 0;try{o=pG.getDeserializedHash(r),i=this.validateAndExtractStateFromHash(o,ZG.Redirect),this.logger.verbose("State extracted from hash")}catch(h){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+h),this.browserStorage.cleanRequestByInteractionType(ZG.Redirect),[2,null]}return a=this.browserStorage.getTemporaryCache(CG.ORIGIN_URI,!0)||wZ.EMPTY_STRING,s=pG.removeHashFromUrl(a),u=pG.removeHashFromUrl(n.location.href),s===u&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(r,i,t)]):[3,3];case 2:return s=h.sent(),-1<a.indexOf("#")&&nR.replaceHash(a),[2,s];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(r,i,t)]);case 4:return nR.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(CG.URL_HASH,r,!0),l={apiId:NG.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},c=!0,a&&"null"!==a?[3,6]:(u=nR.getHomepage(),this.browserStorage.setTemporaryCache(CG.ORIGIN_URI,u,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(u,l)]));case 5:return c=h.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+a),[4,this.navigationClient.navigateInternal(a,l)];case 7:c=h.sent(),h.label=8;case 8:if(!c)return[2,this.handleHash(r,i,t)];h.label=9;case 9:return[2,null];case 10:throw(d=h.sent())instanceof GZ&&d.setCorrelationId(this.correlationId),t.cacheFailedRequest(d),this.browserStorage.cleanRequestByInteractionType(ZG.Redirect),d;case 11:return[2]}}))}))},t.prototype.getRedirectResponseHash=function(e){return this.logger.verbose("getRedirectResponseHash called"),pG.hashContainsKnownProperties(e)?(nR.clearHash(n),this.logger.verbose("Hash contains known properties, returning response hash")):(e=this.browserStorage.getTemporaryCache(CG.URL_HASH,!0),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(CG.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash")),e},t.prototype.handleHash=function(e,t,r){return FN(this,void 0,void 0,(function(){var n,i,o,a=this;return VN(this,(function(s){switch(s.label){case 0:if(n=this.browserStorage.getCachedRequest(t,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(i=pG.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),this.nativeMessageHandler)return i=new dR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,NG.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,i.accountId,this.nativeStorage,n.correlationId),o=hG.parseRequestState(this.browserCrypto,t).userRequestState,[2,i.acquireToken(jN(jN({},n),{state:o,prompt:void 0})).finally((function(){a.browserStorage.cleanRequestByState(t)}))];throw XA.createNativeConnectionNotEstablishedError()}if(i=this.browserStorage.getCachedAuthority(t))return this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientCreateAuthCodeClient,n.correlationId),[4,this.createAuthCodeClient(r,i)];throw XA.createNoCachedAuthorityError();case 1:return o=s.sent(),this.logger.verbose("Auth code client created"),Bz.removeThrottle(this.browserStorage,this.config.auth.clientId,n),[4,new sR(o,this.browserStorage,n,this.logger,this.browserCrypto,this.performanceClient).handleCodeResponseFromHash(e,t,o.authority,this.networkClient)];case 2:return[2,s.sent()]}}))}))},t.prototype.logout=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i,o;return VN(this,(function(a){switch(a.label){case 0:this.logger.verbose("logoutRedirect called"),t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(NG.logout),a.label=1;case 1:return a.trys.push([1,10,,11]),this.eventHandler.emitEvent(PG.LOGOUT_START,ZG.Redirect,e),[4,this.clearCacheOnLogout(t.account)];case 2:return a.sent(),n={apiId:NG.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientCreateAuthCodeClient,t.correlationId),[4,this.createAuthCodeClient(r,e&&e.authority)];case 3:return i=a.sent(),this.logger.verbose("Auth code client created"),i=i.getLogoutUri(t),this.eventHandler.emitEvent(PG.LOGOUT_SUCCESS,ZG.Redirect,t),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(i)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(i,n)]):[3,7];case 4:return a.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),a.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(i,n)];case 8:return a.sent(),[2];case 9:return[3,11];case 10:throw(o=a.sent())instanceof GZ&&o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o),this.eventHandler.emitEvent(PG.LOGOUT_FAILURE,ZG.Redirect,null,o),this.eventHandler.emitEvent(PG.LOGOUT_END,ZG.Redirect),o;case 11:return this.eventHandler.emitEvent(PG.LOGOUT_END,ZG.Redirect),[2]}}))}))},t.prototype.getRedirectStartPage=function(e){return e=e||n.location.href,pG.getAbsoluteUrl(e,nR.getCurrentUri())},t}(oR),mR=function(e){function t(t,r,n,i,o,a,s,l,c,u){return(t=e.call(this,t,r,n,i,o,a,s,c,u)||this).unloadWindow=t.unloadWindow.bind(t),t.nativeStorage=l,t}return WN(t,e),t.prototype.acquireToken=function(e){try{var t,r=this.generatePopupName(e.scopes||_Z,e.authority||this.config.auth.authority),n=e.popupWindowAttributes||{};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),t=this.openSizedPopup("about:blank",r,n),this.acquireTokenPopupAsync(e,r,n,t))}catch(e){return Promise.reject(e)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var t,r=this.initializeLogoutRequest(e),n=this.generateLogoutPopupName(r),i=e&&e.authority,o=e&&e.mainWindowRedirectUri,a=(null==e?void 0:e.popupWindowAttributes)||{};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,n,a,i,void 0,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),t=this.openSizedPopup("about:blank",n,a),this.logoutPopupAsync(r,n,a,i,t,o))}catch(e){return Promise.reject(e)}},t.prototype.acquireTokenPopupAsync=function(e,t,r,n){return FN(this,void 0,void 0,(function(){var i,o,a,s,l,c,u,d,h,p,m,y=this;return VN(this,(function(f){switch(f.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),i=this.initializeServerTelemetryManager(NG.acquireTokenPopup),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,ZG.Popup)];case 1:o=f.sent(),this.browserStorage.updateCacheEntries(o.state,o.nonce,o.authority,o.loginHint||wZ.EMPTY_STRING,o.account||null),f.label=2;case 2:return f.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(o)];case 3:return a=f.sent(),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(i,o.authority,o.azureCloudOptions)];case 4:return s=f.sent(),this.logger.verbose("Auth code client created"),c=hR.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),l=void 0,c&&(l=this.performanceClient.startMeasurement(Fz.FetchAccountIdWithNativeBroker,e.correlationId)),[4,s.getAuthCodeUrl(jN(jN({},o),{nativeBroker:c}))];case 5:return c=f.sent(),u=new aR(s,this.browserStorage,a,this.logger,this.performanceClient),d={popup:n,popupName:t,popupWindowAttributes:r},d=this.initiateAuthRequest(c,d),this.eventHandler.emitEvent(PG.POPUP_OPENED,ZG.Popup,{popupWindow:d},null),[4,this.monitorPopupForHash(d)];case 6:if(d=f.sent(),m=pG.getDeserializedHash(d),h=this.validateAndExtractStateFromHash(m,ZG.Popup,o.correlationId),Bz.removeThrottle(this.browserStorage,this.config.auth.clientId,a),m.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),l&&l.endMeasurement({success:!0,isNativeBroker:!0}),this.nativeMessageHandler)return m=new dR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,NG.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,m.accountId,this.nativeStorage,o.correlationId),p=hG.parseRequestState(this.browserCrypto,h).userRequestState,[2,m.acquireToken(jN(jN({},o),{state:p,prompt:void 0})).finally((function(){y.browserStorage.cleanRequestByState(h)}))];throw XA.createNativeConnectionNotEstablishedError()}return[4,u.handleCodeResponseFromHash(d,h,s.authority,this.networkClient)];case 7:return[2,f.sent()];case 8:throw m=f.sent(),n&&n.close(),m instanceof GZ&&m.setCorrelationId(this.correlationId),i.cacheFailedRequest(m),this.browserStorage.cleanRequestByState(o.state),m;case 9:return[2]}}))}))},t.prototype.logoutPopupAsync=function(e,t,r,n,i,o){return FN(this,void 0,void 0,(function(){var a,s,l;return VN(this,(function(c){switch(c.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(PG.LOGOUT_START,ZG.Popup,e),a=this.initializeServerTelemetryManager(NG.logoutPopup),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return c.sent(),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(a,n)];case 3:return s=c.sent(),this.logger.verbose("Auth code client created"),s=s.getLogoutUri(e),this.eventHandler.emitEvent(PG.LOGOUT_SUCCESS,ZG.Popup,e),s=this.openPopup(s,{popupName:t,popupWindowAttributes:r,popup:i}),this.eventHandler.emitEvent(PG.POPUP_OPENED,ZG.Popup,{popupWindow:s},null),[4,this.waitForLogoutPopup(s)];case 4:return c.sent(),o?(s={apiId:NG.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=pG.getAbsoluteUrl(o,nR.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+l),this.navigationClient.navigateInternal(l,s)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw l=c.sent(),i&&i.close(),l instanceof GZ&&l.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(PG.LOGOUT_FAILURE,ZG.Popup,null,l),this.eventHandler.emitEvent(PG.LOGOUT_END,ZG.Popup),a.cacheFailedRequest(l),l;case 6:return this.eventHandler.emitEvent(PG.LOGOUT_END,ZG.Popup),[2]}}))}))},t.prototype.initiateAuthRequest=function(e,t){if(xz.isEmpty(e))throw this.logger.error("Navigate url is empty"),XA.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,t)},t.prototype.monitorPopupForHash=function(e){var t=this;return new Promise((function(r,n){var i=t.config.system.windowHashTimeout/t.config.system.pollIntervalMilliseconds,o=0,a=(t.logger.verbose("PopupHandler.monitorPopupForHash - polling started"),setInterval((function(){if(e.closed)t.logger.error("PopupHandler.monitorPopupForHash - window closed"),t.cleanPopup(),clearInterval(a),n(XA.createUserCancelledError());else{var s=wZ.EMPTY_STRING,l=wZ.EMPTY_STRING;try{s=e.location.href,l=e.location.hash}catch(s){}xz.isEmpty(s)||"about:blank"===s||(t.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),o++,l?(t.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(a),t.cleanPopup(e),pG.hashContainsKnownProperties(l)?(t.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),r(l)):(t.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),t.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+l),n(XA.createHashDoesNotContainKnownPropertiesError()))):i<o&&(t.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(a),n(XA.createMonitorPopupTimeoutError())))}}),t.config.system.pollIntervalMilliseconds))}))},t.prototype.waitForLogoutPopup=function(e){var t=this;return new Promise((function(r){t.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var n=setInterval((function(){e.closed&&(t.logger.error("PopupHandler.waitForLogoutPopup - window closed"),t.cleanPopup(),clearInterval(n),r());var i=wZ.EMPTY_STRING;try{i=e.location.href}catch(i){}xz.isEmpty(i)||"about:blank"===i||(t.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(n),t.cleanPopup(e),r())}),t.config.system.pollIntervalMilliseconds)}))},t.prototype.openPopup=function(e,t){try{var r=void 0;if(t.popup?(r=t.popup,this.logger.verbosePii("Navigating popup window to: "+e),r.location.assign(e)):void 0===t.popup&&(this.logger.verbosePii("Opening popup window to: "+e),r=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),r)return r.focus&&r.focus(),this.currentWindow=r,n.addEventListener("beforeunload",this.unloadWindow),r;throw XA.createEmptyWindowCreatedError()}catch(e){throw this.logger.error("error opening popup "+e.message),this.browserStorage.setInteractionInProgress(!1),XA.createPopupWindowError(e.toString())}},t.prototype.openSizedPopup=function(e,t,r){var i=n.screenLeft||n.screenX,o=n.screenTop||n.screenY,a=n.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=n.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=null==(l=r.popupSize)?void 0:l.width,c=null==(c=r.popupSize)?void 0:c.height,u=null==(u=r.popupPosition)?void 0:u.top;return r=null==(r=r.popupPosition)?void 0:r.left,(!l||l<0||a<l)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=483),(!c||c<0||s<c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),c=600),(!u||u<0||s<u)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,s/2-300+o)),(!r||r<0||a<r)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),r=Math.max(0,a/2-241.5+i)),n.open(e,t,"width="+l+", height="+c+", top="+u+", left="+r+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(ZG.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),n.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,t){return OA+"."+this.config.auth.clientId+"."+e.join("-")+"."+t+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){return e=e.account&&e.account.homeAccountId,OA+"."+this.config.auth.clientId+"."+e+"."+this.correlationId},t}(oR),yR=function(){function e(){}return e.prototype.navigateInternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.prototype.navigateExternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.defaultNavigateWindow=function(e,t){return t.noHistory?n.location.replace(e):n.location.assign(e),new Promise((function(e){setTimeout((function(){e(!0)}),t.timeout)}))},e}(),fR=6e3,gR=function(e){function t(t,r,n,i,o,a){return(t=e.call(this,t,r,n,i,a)||this).navigateFrameWait=o.navigateFrameWait,t.pollIntervalMilliseconds=o.pollIntervalMilliseconds,t}return WN(t,e),t.prototype.initiateAuthRequest=function(e){return FN(this,void 0,void 0,(function(){return VN(this,(function(t){switch(t.label){case 0:if(this.performanceClient.addQueueMeasurement(Fz.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),xz.isEmpty(e))throw this.logger.info("Navigate url is empty"),XA.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(Fz.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(e)]):[3,2];case 1:return[2,t.sent()];case 2:return[2,this.loadFrameSync(e)]}}))}))},t.prototype.monitorIframeForHash=function(e,t){var r=this;return this.performanceClient.addQueueMeasurement(Fz.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise((function(i,o){t<fR&&r.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default ("+fR+"ms). This may result in timeouts.");var a=n.performance.now()+t,s=setInterval((function(){if(n.performance.now()>a)r.removeHiddenIframe(e),clearInterval(s),o(XA.createMonitorIframeTimeoutError());else{var t=wZ.EMPTY_STRING,l=e.contentWindow;try{t=l?l.location.href:wZ.EMPTY_STRING}catch(t){}xz.isEmpty(t)||(t=l?l.location.hash:wZ.EMPTY_STRING,pG.hashContainsKnownProperties(t)&&(r.removeHiddenIframe(e),clearInterval(s),i(t)))}}),r.pollIntervalMilliseconds)}))},t.prototype.loadFrame=function(e){var t=this;return this.performanceClient.addQueueMeasurement(Fz.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise((function(r,n){var i=t.createHiddenIframe();setTimeout((function(){i?(i.src=e,r(i)):n("Unable to load iframe")}),t.navigateFrameWait)}))},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(aR),bR=function(e){function t(t,r,n,i,o,a,s,l,c,u,d){return(t=e.call(this,t,r,n,i,o,a,l,u,d)||this).apiId=s,t.nativeStorage=c,t}return WN(t,e),t.prototype.acquireToken=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i;return VN(this,(function(o){switch(o.label){case 0:if(this.performanceClient.addQueueMeasurement(Fz.SilentIframeClientAcquireToken,e.correlationId),this.logger.verbose("acquireTokenByIframe called"),t=this.performanceClient.startMeasurement(Fz.SilentIframeClientAcquireToken,e.correlationId),xz.isEmpty(e.loginHint)&&xz.isEmpty(e.sid)&&(!e.account||xz.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==IZ.NONE&&e.prompt!==IZ.NO_SESSION)throw t.endMeasurement({success:!1}),XA.createSilentPromptValueError(e.prompt);return this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(jN(jN({},e),{prompt:e.prompt||IZ.NONE}),ZG.Silent)];case 1:r=o.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||wZ.EMPTY_STRING,r.account||null),n=this.initializeServerTelemetryManager(this.apiId),o.label=2;case 2:return o.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(n,r.authority,r.azureCloudOptions)];case 3:return i=o.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(Fz.SilentIframeClientTokenHelper,e.correlationId),[4,this.silentTokenHelper(i,r).then((function(e){return t.endMeasurement({success:!0,fromCache:!1,requestId:e.requestId}),e}))];case 4:return[2,o.sent()];case 5:throw(i=o.sent())instanceof GZ&&i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i),this.browserStorage.cleanRequestByState(r.state),t.endMeasurement({errorCode:i instanceof GZ&&i.errorCode||void 0,subErrorCode:i instanceof GZ&&i.subError||void 0,success:!1}),i;case 6:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(XA.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,t){return FN(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,c=this;return VN(this,(function(u){switch(u.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.SilentIframeClientTokenHelper,t.correlationId),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientInitializeAuthorizationCodeRequest,t.correlationId),[4,this.initializeAuthorizationCodeRequest(t)];case 1:return r=u.sent(),this.performanceClient.setPreQueueTime(Fz.GetAuthCodeUrl,t.correlationId),[4,e.getAuthCodeUrl(jN(jN({},t),{nativeBroker:hR.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}))];case 2:return i=u.sent(),n=new gR(e,this.browserStorage,r,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(Fz.SilentHandlerInitiateAuthRequest,t.correlationId),[4,n.initiateAuthRequest(i)];case 3:return i=u.sent(),this.performanceClient.setPreQueueTime(Fz.SilentHandlerMonitorIframeForHash,t.correlationId),[4,n.monitorIframeForHash(i,this.config.system.iframeHashTimeout)];case 4:if(o=u.sent(),s=pG.getDeserializedHash(o),a=this.validateAndExtractStateFromHash(s,ZG.Silent,r.correlationId),s.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),this.nativeMessageHandler)return s=new dR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,s.accountId,this.browserStorage,this.correlationId),l=hG.parseRequestState(this.browserCrypto,a).userRequestState,[2,s.acquireToken(jN(jN({},t),{state:l,prompt:t.prompt||IZ.NONE})).finally((function(){c.browserStorage.cleanRequestByState(a)}))];throw XA.createNativeConnectionNotEstablishedError()}return this.performanceClient.setPreQueueTime(Fz.HandleCodeResponseFromHash,t.correlationId),[2,n.handleCodeResponseFromHash(o,a,e.authority,this.networkClient)]}}))}))},t}(oR),vR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WN(t,e),t.prototype.acquireToken=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i,o,a=this;return VN(this,(function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.SilentRefreshClientAcquireToken,e.correlationId),this.performanceClient.setPreQueueTime(Fz.InitializeBaseRequest,e.correlationId),r=[jN({},e)],[4,this.initializeBaseRequest(e,e.account)];case 1:return t=jN.apply(void 0,r.concat([s.sent()])),n=this.performanceClient.startMeasurement(Fz.SilentRefreshClientAcquireToken,t.correlationId),i=this.initializeServerTelemetryManager(NG.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(i,t.authority,t.azureCloudOptions)];case 2:return o=s.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(Fz.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),[2,o.acquireTokenByRefreshToken(t).then((function(e){return n.endMeasurement({success:!0,fromCache:e.fromCache,requestId:e.requestId}),e})).catch((function(e){throw e instanceof GZ&&e.setCorrelationId(a.correlationId),i.cacheFailedRequest(e),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))]}}))}))},t.prototype.logout=function(){return Promise.reject(XA.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,t,r){return FN(this,void 0,void 0,(function(){var n;return VN(this,(function(i){switch(i.label){case 0:return this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,r)];case 1:return n=i.sent(),[2,new MG(n,this.performanceClient)]}}))}))},t}(oR),MR=function(){function e(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return e.prototype.addEventCallback=function(e){var t;return void 0!==n?(t=this.browserCrypto.createNewGuid(),this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t):null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.enableAccountStorageEvents=function(){void 0!==n&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,n.addEventListener("storage",this.handleAccountCacheChange)))},e.prototype.disableAccountStorageEvents=function(){void 0!==n&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),n.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},e.prototype.emitEvent=function(e,t,r,i){var o,a=this;void 0!==n&&(o={eventType:e,interactionType:t||null,payload:r||null,error:i||null,timestamp:Date.now()},this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach((function(t,r){a.logger.verbose("Emitting event to callback "+r+": "+e),t.apply(null,[o])})))},e.prototype.handleAccountCacheChange=function(e){try{var t,r,n=e.newValue||e.oldValue;n&&"object"==typeof(t=JSON.parse(n))&&Nz.isAccountEntity(t)&&(r=Ez.toObject(new Nz,t).getAccountInfo(),!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(PG.ACCOUNT_ADDED,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(PG.ACCOUNT_REMOVED,void 0,r)))}catch(e){}},e}(),xR=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),SR=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,xR.decimalToHex(e[0])+xR.decimalToHex(e[1])+xR.decimalToHex(e[2])+xR.decimalToHex(e[3])+"-"+xR.decimalToHex(e[4])+xR.decimalToHex(e[5])+"-"+xR.decimalToHex(e[6])+xR.decimalToHex(e[7])+"-"+xR.decimalToHex(e[8])+xR.decimalToHex(e[9])+"-"+xR.decimalToHex(e[10])+xR.decimalToHex(e[11])+xR.decimalToHex(e[12])+xR.decimalToHex(e[13])+xR.decimalToHex(e[14])+xR.decimalToHex(e[15])}catch(e){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",n=0,i=wZ.EMPTY_STRING,o=0;o<36;o++)"-"!==t[o]&&"4"!==t[o]&&(n=16*Math.random()|0),i+="x"===t[o]?r[n]:"y"===t[o]?r[n=3&n|8]:t[o];return i}},e.prototype.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),wR=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,r=0,n=e.length,i=0;i<n;i++)r+=(t=e.charCodeAt(i))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var o=new Uint8Array(r),a=0,s=0;a<r;s++)(t=e.charCodeAt(s))<128?o[a++]=t:(t<2048?o[a++]=192+(t>>>6):(t<65536?o[a++]=224+(t>>>12):(t<2097152?o[a++]=240+(t>>>18):(t<67108864?o[a++]=248+(t>>>24):(o[a++]=252+(t>>>30),o[a++]=128+(t>>>24&63)),o[a++]=128+(t>>>18&63)),o[a++]=128+(t>>>12&63)),o[a++]=128+(t>>>6&63)),o[a++]=128+(63&t));return o},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return t},e.utf8ArrToString=function(e){for(var t,r=wZ.EMPTY_STRING,n=e.length,i=0;i<n;i++)t=e[i],r+=String.fromCharCode(251<t&&t<254&&i+5<n?1073741824*(t-252)+(e[++i]-128<<24)+(e[++i]-128<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:247<t&&t<252&&i+4<n?(t-248<<24)+(e[++i]-128<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:239<t&&t<248&&i+3<n?(t-240<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:223<t&&t<240&&i+2<n?(t-224<<12)+(e[++i]-128<<6)+e[++i]-128:191<t&&t<224&&i+1<n?(t-192<<6)+e[++i]-128:t);return r},e.getSortedObjectString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),_R=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,wZ.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,wZ.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){return e=wR.stringToUtf8Arr(e),this.base64EncArr(e)},e.prototype.base64EncArr=function(e){for(var t,r=(3-e.length%3)%3,n=wZ.EMPTY_STRING,i=e.length,o=0,a=0;a<i;a++)o|=e[a]<<(16>>>(t=a%3)&24),2!=t&&e.length-a!=1||(n+=String.fromCharCode(this.uint6ToB64(o>>>18&63),this.uint6ToB64(o>>>12&63),this.uint6ToB64(o>>>6&63),this.uint6ToB64(63&o)),o=0);return 0==r?n:n.substring(0,n.length-r)+(1==r?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),TR=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}return e=this.base64DecToArr(t),wR.utf8ArrToString(e)},e.prototype.base64DecToArr=function(e,t){for(var r,n=e.replace(/[^A-Za-z0-9\+\/]/g,wZ.EMPTY_STRING),i=n.length,o=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,a=new Uint8Array(o),s=void 0,l=0,c=0,u=0;u<i;u++)if(r=3&u,l|=this.b64ToUint6(n.charCodeAt(u))<<18-6*r,3==r||i-u==1){for(s=0;s<3&&c<o;s++,c++)a[c]=l>>>(16>>>s&24)&255;l=0}return a},e.prototype.b64ToUint6=function(e){return 64<e&&e<91?e-65:96<e&&e<123?e-71:47<e&&e<58?e+4:43===e?62:47===e?63:0},e}(),IR=function(){function e(e){this.base64Encode=new _R,this.cryptoObj=e}return e.prototype.generateCodes=function(){return FN(this,void 0,void 0,(function(){var e,t;return VN(this,(function(r){switch(r.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=r.sent(),[2,{verifier:e,challenge:t}]}}))}))},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(e){throw XA.createPkceNotGeneratedError(e)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=r.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw t=r.sent(),XA.createPkceNotGeneratedError(t);case 3:return[2]}}))}))},e}(),CR=function(){function e(){}return e.prototype.getRandomValues=function(e){return n.crypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(i){return[2,n.crypto.subtle.generateKey(e,t,r)]}))}))},e.prototype.exportKey=function(e){return FN(this,void 0,void 0,(function(){return VN(this,(function(t){return[2,n.crypto.subtle.exportKey(FA,e)]}))}))},e.prototype.importKey=function(e,t,r,i){return FN(this,void 0,void 0,(function(){return VN(this,(function(o){return[2,n.crypto.subtle.importKey(FA,e,t,r,i)]}))}))},e.prototype.sign=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(i){return[2,n.crypto.subtle.sign(e,t,r)]}))}))},e.prototype.digest=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return[2,n.crypto.subtle.digest(e,t)]}))}))},e}(),kR=function(){function e(){}return e.prototype.initPrng=function(e){return n.msrCrypto.initPrng(UN(e))},e.prototype.getRandomValues=function(e){return n.msrCrypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(i){return[2,n.msrCrypto.subtle.generateKey(e,t,r)]}))}))},e.prototype.exportKey=function(e){return FN(this,void 0,void 0,(function(){return VN(this,(function(t){return[2,n.msrCrypto.subtle.exportKey(FA,e)]}))}))},e.prototype.importKey=function(e,t,r,i){return FN(this,void 0,void 0,(function(){return VN(this,(function(o){return[2,n.msrCrypto.subtle.importKey(FA,e,t,r,i)]}))}))},e.prototype.sign=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(i){return[2,n.msrCrypto.subtle.sign(e,t,r)]}))}))},e.prototype.digest=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return[2,n.msrCrypto.subtle.digest(e,t)]}))}))},e}(),LR=function(){function e(){}return e.prototype.getRandomValues=function(e){return n.msCrypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(i){return[2,new Promise((function(i,o){var a=n.msCrypto.subtle.generateKey(e,t,r);a.addEventListener("complete",(function(e){i(e.target.result)})),a.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.exportKey=function(e){return FN(this,void 0,void 0,(function(){return VN(this,(function(t){return[2,new Promise((function(t,r){var i=n.msCrypto.subtle.exportKey(FA,e);i.addEventListener("complete",(function(e){var n=e.target.result;n=wR.utf8ArrToString(new Uint8Array(n)).replace(/\r/g,wZ.EMPTY_STRING).replace(/\n/g,wZ.EMPTY_STRING).replace(/\t/g,wZ.EMPTY_STRING).split(" ").join(wZ.EMPTY_STRING).replace("\0",wZ.EMPTY_STRING);try{t(JSON.parse(n))}catch(e){r(e)}})),i.addEventListener("error",(function(e){r(e)}))}))]}))}))},e.prototype.importKey=function(e,t,r,i){return FN(this,void 0,void 0,(function(){var o,a;return VN(this,(function(s){return o=wR.getSortedObjectString(e),a=wR.stringToArrayBuffer(o),[2,new Promise((function(e,o){var s=n.msCrypto.subtle.importKey(FA,a,t,r,i);s.addEventListener("complete",(function(t){e(t.target.result)})),s.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.sign=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(i){return[2,new Promise((function(i,o){var a=n.msCrypto.subtle.sign(e,t,r);a.addEventListener("complete",(function(e){i(e.target.result)})),a.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.digest=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return[2,new Promise((function(r,i){var o=n.msCrypto.subtle.digest(e,t.buffer);o.addEventListener("complete",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){i(e)}))}))]}))}))},e}(),NR="SHA-256",ZR=new Uint8Array([1,0,1]),ER=function(){function e(e,t){if(this.logger=e,this.cryptoOptions=t,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new CR;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new LR;else{if(!this.hasMsrCrypto()||null==(e=this.cryptoOptions)||!e.useMsrCrypto)throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),XA.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new kR}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),null==(t=this.cryptoOptions)||!t.entropy)throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),BA.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:NR,modulusLength:2048,publicExponent:ZR}}return e.prototype.hasIECrypto=function(){return"msCrypto"in n},e.prototype.hasBrowserCrypto=function(){return"crypto"in n},e.prototype.hasMsrCrypto=function(){return"msrCrypto"in n},e.prototype.sha256Digest=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){return t=wR.stringToUtf8Arr(e),[2,this.subtleCrypto.digest({name:NR},t)]}))}))},e.prototype.getRandomValues=function(e){return this.subtleCrypto.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,e,t)]}))}))},e.prototype.exportJwk=function(e){return FN(this,void 0,void 0,(function(){return VN(this,(function(t){return[2,this.subtleCrypto.exportKey(e)]}))}))},e.prototype.importJwk=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(n){return[2,this.subtleCrypto.importKey(e,this.keygenAlgorithmOptions,t,r)]}))}))},e.prototype.sign=function(e,t){return FN(this,void 0,void 0,(function(){return VN(this,(function(r){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,e,t)]}))}))},e}(),zR=function(){function e(){this.dbName=VA,this.version=1,this.tableName=HA,this.dbOpen=!1}return e.prototype.open=function(){return FN(this,void 0,void 0,(function(){var e=this;return VN(this,(function(t){return[2,new Promise((function(t,r){var i=n.indexedDB.open(e.dbName,e.version);i.addEventListener("upgradeneeded",(function(t){t.target.result.createObjectStore(e.tableName)})),i.addEventListener("success",(function(r){e.db=r.target.result,e.dbOpen=!0,t()})),i.addEventListener("error",(function(){return r(XA.createDatabaseUnavailableError())}))}))]}))}))},e.prototype.closeConnection=function(){var e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)},e.prototype.validateDbIsOpen=function(){return FN(this,void 0,void 0,(function(){return VN(this,(function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}}))}))},e.prototype.getItem=function(e){return FN(this,void 0,void 0,(function(){var t=this;return VN(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(XA.createDatabaseNotOpenError());var i=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);i.addEventListener("success",(function(e){t.closeConnection(),r(e.target.result)})),i.addEventListener("error",(function(e){t.closeConnection(),n(e)}))}))]}}))}))},e.prototype.setItem=function(e,t){return FN(this,void 0,void 0,(function(){var r=this;return VN(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,i){if(!r.db)return i(XA.createDatabaseNotOpenError());var o=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(t,e);o.addEventListener("success",(function(){r.closeConnection(),n()})),o.addEventListener("error",(function(e){r.closeConnection(),i(e)}))}))]}}))}))},e.prototype.removeItem=function(e){return FN(this,void 0,void 0,(function(){var t=this;return VN(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(XA.createDatabaseNotOpenError());var i=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);i.addEventListener("success",(function(){t.closeConnection(),r()})),i.addEventListener("error",(function(e){t.closeConnection(),n(e)}))}))]}}))}))},e.prototype.getKeys=function(){return FN(this,void 0,void 0,(function(){var e=this;return VN(this,(function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise((function(t,r){if(!e.db)return r(XA.createDatabaseNotOpenError());var n=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();n.addEventListener("success",(function(r){e.closeConnection(),t(r.target.result)})),n.addEventListener("error",(function(t){e.closeConnection(),r(t)}))}))]}}))}))},e.prototype.containsKey=function(e){return FN(this,void 0,void 0,(function(){var t=this;return VN(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(XA.createDatabaseNotOpenError());var i=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);i.addEventListener("success",(function(e){t.closeConnection(),r(1===e.target.result)})),i.addEventListener("error",(function(e){t.closeConnection(),n(e)}))}))]}}))}))},e.prototype.deleteDatabase=function(){return FN(this,void 0,void 0,(function(){return VN(this,(function(e){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise((function(e,t){var r=n.indexedDB.deleteDatabase(VA);r.addEventListener("success",(function(){return e(!0)})),r.addEventListener("blocked",(function(){return e(!0)})),r.addEventListener("error",(function(){return t(!1)}))}))]}))}))},e}(),GR=function(){function e(e,t){this.inMemoryCache=new JA,this.indexedDBCache=new zR,this.logger=e,this.storeName=t}return e.prototype.handleDatabaseAccessError=function(e){if(!(e instanceof XA&&e.errorCode===TA))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},e.prototype.getItem=function(e){return FN(this,void 0,void 0,(function(){var t,r;return VN(this,(function(n){switch(n.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,n.sent()];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}}))}))},e.prototype.setItem=function(e,t){return FN(this,void 0,void 0,(function(){var r;return VN(this,(function(n){switch(n.label){case 0:this.inMemoryCache.setItem(e,t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}}))}))},e.prototype.removeItem=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}}))}))},e.prototype.getKeys=function(){return FN(this,void 0,void 0,(function(){var e,t;return VN(this,(function(r){switch(r.label){case 0:if(0!==(e=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype.containsKey=function(e){return FN(this,void 0,void 0,(function(){var t,r;return VN(this,(function(n){switch(n.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,n.sent()];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}}))}))},e.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},e.prototype.clearPersistent=function(){return FN(this,void 0,void 0,(function(){var e;return VN(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(e=t.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,e];case 2:return e=t.sent(),this.handleDatabaseAccessError(e),[2,!1];case 3:return[2]}}))}))},e}(),PR=(function(e){e.asymmetricKeys="asymmetricKeys",e.symmetricKeys="symmetricKeys"}(RG=RG||{}),function(){function e(e){this.logger=e,this.asymmetricKeys=new GR(this.logger,RG.asymmetricKeys),this.symmetricKeys=new GR(this.logger,RG.symmetricKeys)}return e.prototype.clear=function(){return FN(this,void 0,void 0,(function(){var e;return VN(this,(function(t){switch(t.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return t.sent(),[2,!0];case 3:return(e=t.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+e.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}}))}))},e}()),AR=function(){function e(e,t,r){this.logger=e,this.browserCrypto=new ER(this.logger,r),this.b64Encode=new _R,this.b64Decode=new TR,this.guidGenerator=new SR(this.browserCrypto),this.pkceGenerator=new IR(this.browserCrypto),this.cache=new PR(this.logger),this.performanceClient=t}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return FN(this,void 0,void 0,(function(){return VN(this,(function(e){return[2,this.pkceGenerator.generateCodes()]}))}))},e.prototype.getPublicKeyThumbprint=function(t){var r;return FN(this,void 0,void 0,(function(){var n,i,o,a,s;return VN(this,(function(l){switch(l.label){case 0:return n=null==(r=this.performanceClient)?void 0:r.startMeasurement(Fz.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return i=l.sent(),[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return a={e:(a=l.sent()).e,kty:a.kty,n:a.n},a=wR.getSortedObjectString(a),[4,this.hashString(a)];case 3:return o=l.sent(),[4,this.browserCrypto.exportJwk(i.privateKey)];case 4:return a=l.sent(),[4,this.browserCrypto.importJwk(a,!1,["sign"])];case 5:return s=l.sent(),[4,this.cache.asymmetricKeys.setItem(o,{privateKey:s,publicKey:i.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return l.sent(),n&&n.endMeasurement({success:!0}),[2,o]}}))}))},e.prototype.removeTokenBindingKey=function(e){return FN(this,void 0,void 0,(function(){return VN(this,(function(t){switch(t.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return t.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!t.sent()]}}))}))},e.prototype.clearKeystore=function(){return FN(this,void 0,void 0,(function(){return VN(this,(function(e){switch(e.label){case 0:return[4,this.cache.clear()];case 1:return[2,e.sent()]}}))}))},e.prototype.signJwt=function(e,t,r){var n;return FN(this,void 0,void 0,(function(){var i,o,a,s,l,c;return VN(this,(function(u){switch(u.label){case 0:return i=null==(n=this.performanceClient)?void 0:n.startMeasurement(Fz.CryptoOptsSignJwt,r),[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(o=u.sent())return[4,this.browserCrypto.exportJwk(o.publicKey)];throw XA.createSigningKeyNotFoundInStorageError(t);case 2:return l=u.sent(),a=wR.getSortedObjectString(l),s=this.b64Encode.urlEncode(JSON.stringify({kid:t})),s=qG.getShrHeaderString({kid:s,alg:l.alg}),l=this.b64Encode.urlEncode(s),e.cnf={jwk:JSON.parse(a)},s=this.b64Encode.urlEncode(JSON.stringify(e)),a=l+"."+s,l=wR.stringToArrayBuffer(a),[4,this.browserCrypto.sign(o.privateKey,l)];case 3:return s=u.sent(),l=this.b64Encode.urlEncodeArr(new Uint8Array(s)),c=a+"."+l,i&&i.endMeasurement({success:!0}),[2,c]}}))}))},e.prototype.hashString=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){switch(r.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=r.sent(),t=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(t)]}}))}))},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e}(),RR=function(){function e(t,r){this.correlationId=r,this.measureName=e.makeMeasureName(t,r),this.startMark=e.makeStartMark(t,r),this.endMark=e.makeEndMark(t,r)}return e.makeMeasureName=function(e,t){return"msal.measure."+e+"."+t},e.makeStartMark=function(e,t){return"msal.start."+e+"."+t},e.makeEndMark=function(e,t){return"msal.end."+e+"."+t},e.supportsBrowserPerformance=function(){return void 0!==n&&void 0!==n.performance&&"function"==typeof n.performance.mark&&"function"==typeof n.performance.measure&&"function"==typeof n.performance.clearMarks&&"function"==typeof n.performance.clearMeasures&&"function"==typeof n.performance.getEntriesByName},e.flushMeasurements=function(t,r){if(e.supportsBrowserPerformance())try{r.forEach((function(r){r=e.makeMeasureName(r.name,t),0<n.performance.getEntriesByName(r,"measure").length&&(n.performance.clearMeasures(r),n.performance.clearMarks(e.makeStartMark(r,t)),n.performance.clearMarks(e.makeEndMark(r,t)))}))}catch(r){}},e.prototype.startMeasurement=function(){if(e.supportsBrowserPerformance())try{n.performance.mark(this.startMark)}catch(e){}},e.prototype.endMeasurement=function(){if(e.supportsBrowserPerformance())try{n.performance.mark(this.endMark),n.performance.measure(this.measureName,this.startMark,this.endMark)}catch(e){}},e.prototype.flushMeasurement=function(){if(e.supportsBrowserPerformance())try{var t,r=n.performance.getEntriesByName(this.measureName,"measure");if(0<r.length)return t=r[0].duration,n.performance.clearMeasures(this.measureName),n.performance.clearMarks(this.startMark),n.performance.clearMarks(this.endMark),t}catch(t){}return null},e}(),DR=function(e){function t(t,r,n,i,o,a,s){return(t=e.call(this,t,r,n,i,o,a)||this).browserCrypto=new ER(t.logger,s),t.guidGenerator=new SR(t.browserCrypto),t}return WN(t,e),t.prototype.startPerformanceMeasuremeant=function(e,t){return new RR(e,t)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null==(e=document.visibilityState)?void 0:e.toString())||null},t.prototype.deleteIncompleteSubMeasurements=function(e){var t=this.eventsByCorrelationId.get(e.event.correlationId),r=t&&t.eventId===e.event.eventId,n=[];r&&null!=t&&t.incompleteSubMeasurements&&t.incompleteSubMeasurements.forEach((function(e){n.push(jN({},e))})),0<n.length&&RR.flushMeasurements(e.event.correlationId,n)},t.prototype.supportsBrowserPerformanceNow=function(){return void 0!==n&&void 0!==n.performance&&"function"==typeof n.performance.now},t.prototype.startMeasurement=function(t,r){var n=this,i=this.getPageVisibility(),o=e.prototype.startMeasurement.call(this,t,r);return jN(jN({},o),{endMeasurement:function(e){return e=o.endMeasurement(jN({startPageVisibility:i,endPageVisibility:n.getPageVisibility()},e)),n.deleteIncompleteSubMeasurements(o),e},discardMeasurement:function(){o.discardMeasurement(),n.deleteIncompleteSubMeasurements(o),o.measurement.flushMeasurement()}})},t.prototype.setPreQueueTime=function(e,t){var r;this.supportsBrowserPerformanceNow()?t?((r=this.preQueueTimeByCorrelationId.get(t))&&(this.logger.trace("BrowserPerformanceClient: Incomplete pre-queue "+r.name+" found",t),this.addQueueMeasurement(r.name,t,void 0,!0)),this.preQueueTimeByCorrelationId.set(t,{name:e,time:n.performance.now()})):this.logger.trace("BrowserPerformanceClient: correlationId for "+e+" not provided, unable to set telemetry queue time"):this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+e)},t.prototype.addQueueMeasurement=function(t,r,i,o){if(this.supportsBrowserPerformanceNow())if(r){var a,s=e.prototype.getPreQueueTime.call(this,t,r);if(s)return a=n.performance.now(),i=i||e.prototype.calculateQueuedTime.call(this,s,a),e.prototype.addQueueMeasurement.call(this,t,r,i,o)}else this.logger.trace("BrowserPerformanceClient: correlationId for "+t+" not provided, unable to add queue measurement");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+t)},t}(eP),XR=function(){function e(e,t,r,i){this.isBrowserEnvironment=void 0!==n,this.config=e,this.storage=t,this.logger=r,this.cryptoObj=i}return e.prototype.loadExternalTokens=function(e,t,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw XA.createUnableToLoadTokenError("Please ensure server response includes id token.");var n=new Zz(t.id_token,this.cryptoObj);if(e.account)var i=this.loadAccount(n,e.account.environment,void 0,void 0,e.account.homeAccountId),o=new dG(i,this.loadIdToken(n,i.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,t,i.homeAccountId,e.account.environment,e.account.tenantId,r),this.loadRefreshToken(e,t,i.homeAccountId,e.account.environment));else{if(!e.authority)throw XA.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var a=jG.generateAuthority(e.authority,e.azureCloudOptions),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(a=new jG(a,this.config.system.networkClient,this.storage,s,this.logger),r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),i=this.loadAccount(n,a.hostnameAndPort,r.clientInfo,a.authorityType);else{if(!t.client_info)throw XA.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),i=this.loadAccount(n,a.hostnameAndPort,t.client_info,a.authorityType)}o=new dG(i,this.loadIdToken(n,i.homeAccountId,a.hostnameAndPort,a.tenant),this.loadAccessToken(e,t,i.homeAccountId,a.hostnameAndPort,a.tenant,r),this.loadRefreshToken(e,t,i.homeAccountId,a.hostnameAndPort))}return this.generateAuthenticationResult(e,n,o,a)},e.prototype.loadAccount=function(e,t,r,n,i){var o;if(i?o=i:void 0!==n&&r&&(o=Nz.generateHomeAccountId(r,n,this.logger,this.cryptoObj,e)),!o)throw XA.createUnableToLoadTokenError("Unexpected missing homeAccountId");if(i=r?Nz.createAccount(r,o,e,void 0,void 0,void 0,t):Nz.createGenericAccount(o,e,void 0,void 0,void 0,t),this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(i),i;throw XA.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadIdToken=function(e,t,r,n){if(t=eG.createIdTokenEntity(t,r,e.rawToken,this.config.auth.clientId,n),this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(t),t;throw XA.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadAccessToken=function(e,t,r,n,i,o){if(!t.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!t.expires_in)throw XA.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!o.extendedExpiresOn)throw XA.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");e=new Cz(e.scopes).printScopes();var a=o.expiresOn||t.expires_in+(new Date).getTime()/1e3;if(o=o.extendedExpiresOn,r=rG.createAccessTokenEntity(r,n,t.access_token,this.config.auth.clientId,i,e,a,o,this.cryptoObj),this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(r),r;throw XA.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadRefreshToken=function(e,t,r,n){if(!t.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;if(r=nG.createRefreshTokenEntity(r,n,t.refresh_token,this.config.auth.clientId),this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(r),r;throw XA.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.generateAuthenticationResult=function(e,t,r,n){var i,o=wZ.EMPTY_STRING,a=[],s=null,l=(null!=r&&r.accessToken&&(o=r.accessToken.secret,a=Cz.fromString(r.accessToken.target).asArray(),s=new Date(1e3*Number(r.accessToken.expiresOn)),i=new Date(1e3*Number(r.accessToken.extendedExpiresOn))),(null==t?void 0:t.claims.oid)||(null==t?void 0:t.claims.sub)||wZ.EMPTY_STRING),c=(null==t?void 0:t.claims.tid)||wZ.EMPTY_STRING;return{authority:n?n.canonicalAuthority:wZ.EMPTY_STRING,uniqueId:l,tenantId:c,scopes:a,account:null!=r&&r.account?r.account.getAccountInfo():null,idToken:t?t.rawToken:wZ.EMPTY_STRING,idTokenClaims:t?t.claims:{},accessToken:o,fromCache:!0,expiresOn:s,correlationId:e.correlationId||wZ.EMPTY_STRING,requestId:wZ.EMPTY_STRING,extExpiresOn:i,familyId:wZ.EMPTY_STRING,tokenType:(null==(n=null==r?void 0:r.accessToken)?void 0:n.tokenType)||wZ.EMPTY_STRING,state:wZ.EMPTY_STRING,cloudGraphHostName:(null==(l=null==r?void 0:r.account)?void 0:l.cloudGraphHostName)||wZ.EMPTY_STRING,msGraphHost:(null==(c=null==r?void 0:r.account)?void 0:c.msGraphHost)||wZ.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},e}(),OR=function(e){function t(t){return(t=e.call(this,t)||this).includeRedirectUri=!1,t}return WN(t,e),t}(vG),WR=function(e){function t(t,r,n,i,o,a,s,l,c,u){return(t=e.call(this,t,r,n,i,o,a,l,c,u)||this).apiId=s,t}return WN(t,e),t.prototype.acquireToken=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i;return VN(this,(function(o){switch(o.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),e.code)return this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,ZG.Silent)];throw XA.createAuthCodeRequiredError();case 1:t=o.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||wZ.EMPTY_STRING,t.account||null),r=this.initializeServerTelemetryManager(this.apiId),o.label=2;case 2:return o.trys.push([2,4,,5]),n=jN(jN({},t),{code:e.code}),this.performanceClient.setPreQueueTime(Fz.StandardInteractionClientGetClientConfiguration,e.correlationId),[4,this.getClientConfiguration(r,t.authority)];case 3:return i=o.sent(),i=new OR(i),this.logger.verbose("Auth code client created"),[2,new gR(i,this.browserStorage,n,this.logger,this.config.system,this.performanceClient).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t.state,i.authority,this.networkClient,!1)];case 4:throw(i=o.sent())instanceof GZ&&i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i),this.browserStorage.cleanRequestByState(t.state),i;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(XA.createSilentLogoutUnsupportedError())},t}(oR),jR=function(){function e(e){this.isBrowserEnvironment=void 0!==n,this.config=function(e,t){var r=e.auth,n=e.cache,i=e.system,o=(e=e.telemetry,{clientId:wZ.EMPTY_STRING,authority:""+wZ.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:wZ.EMPTY_STRING,authorityMetadata:wZ.EMPTY_STRING,redirectUri:wZ.EMPTY_STRING,postLogoutRedirectUri:wZ.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:wG.AAD,azureCloudOptions:{azureCloudInstance:xZ.None,tenant:wZ.EMPTY_STRING},skipAuthorityMetadataCache:!1}),a={cacheLocation:TG.SessionStorage,temporaryCacheLocation:TG.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!n||n.cacheLocation!==TG.LocalStorage),claimsBasedCachingEnabled:!0},s={loggerCallback:function(){},logLevel:MZ.Info,piiLoggingEnabled:!1};return t=jN(jN({},Gz),{loggerOptions:s,networkClient:t?nR.getBrowserNetworkClient():HG,navigationClient:new yR,loadFrameTimeout:0,windowHashTimeout:(null==i?void 0:i.loadFrameTimeout)||6e4,iframeHashTimeout:(null==i?void 0:i.loadFrameTimeout)||fR,navigateFrameWait:t&&nR.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(null==i?void 0:i.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:30,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),i=jN(jN({},i),{loggerOptions:(null==i?void 0:i.loggerOptions)||s}),s={application:{appName:wZ.EMPTY_STRING,appVersion:wZ.EMPTY_STRING}},{auth:jN(jN({},o),r),cache:jN(jN({},a),n),system:jN(jN({},t),i),telemetry:jN(jN({},s),e)}}(e,this.isBrowserEnvironment),this.initialized=!1,this.logger=new Sz(this.config.system.loggerOptions,$A,eR),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new DR(this.config.auth.clientId,this.config.auth.authority,this.logger,$A,eR,this.config.telemetry.application,this.config.system.cryptoOptions):new rP(this.config.auth.clientId,this.config.auth.authority,this.logger,$A,eR,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new AR(this.logger,this.performanceClient,this.config.system.cryptoOptions):PZ,this.eventHandler=new MR(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new qA(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(e,t){var r={cacheLocation:TG.MemoryStorage,temporaryCacheLocation:TG.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0};return new qA(e,r,PZ,t)}(this.config.auth.clientId,this.logger),e={cacheLocation:TG.MemoryStorage,temporaryCacheLocation:TG.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0},this.nativeInternalStorage=new qA(this.config.auth.clientId,e,this.browserCrypto,this.logger),this.tokenCache=new XR(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return e.prototype.initialize=function(){return FN(this,void 0,void 0,(function(){var e,t,r,n,i;return VN(this,(function(o){switch(o.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(e=this.config.system.allowNativeBroker,t=this.performanceClient.startMeasurement(Fz.InitializeClientApplication),this.eventHandler.emitEvent(PG.INITIALIZE_START),!e)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),r=this,[4,hR.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)];case 2:return r.nativeExtensionProvider=o.sent(),[3,4];case 3:return n=o.sent(),this.logger.verbose(n),[3,4];case 4:return this.config.cache.claimsBasedCachingEnabled?[3,6]:(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),i=this.performanceClient.startMeasurement(Fz.ClearTokensAndKeysWithClaims),[4,this.browserStorage.clearTokensAndKeysWithClaims()]);case 5:o.sent(),i.endMeasurement({success:!0}),o.label=6;case 6:return this.initialized=!0,this.eventHandler.emitEvent(PG.INITIALIZE_END),t.endMeasurement({allowNativeBroker:e,success:!0}),[2]}}))}))},e.prototype.handleRedirectPromise=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i,o,a=this;return VN(this,(function(s){return this.logger.verbose("handleRedirectPromise called"),nR.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t=this.getAllAccounts(),this.isBrowserEnvironment?(r=e||wZ.EMPTY_STRING,void 0===(n=this.redirectResponse.get(r))?(this.eventHandler.emitEvent(PG.HANDLE_REDIRECT_START,ZG.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),i=void 0,i=o&&hR.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),new dR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,NG.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId).handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),o=this.browserStorage.getTemporaryCache(CG.CORRELATION_ID,!0)||wZ.EMPTY_STRING,this.createRedirectClient(o).handleRedirectPromise(e)),n=i.then((function(e){return e&&(t.length<a.getAllAccounts().length?(a.eventHandler.emitEvent(PG.LOGIN_SUCCESS,ZG.Redirect,e),a.logger.verbose("handleRedirectResponse returned result, login success")):(a.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_SUCCESS,ZG.Redirect,e),a.logger.verbose("handleRedirectResponse returned result, acquire token success"))),a.eventHandler.emitEvent(PG.HANDLE_REDIRECT_END,ZG.Redirect),e})).catch((function(e){throw 0<t.length?a.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_FAILURE,ZG.Redirect,null,e):a.eventHandler.emitEvent(PG.LOGIN_FAILURE,ZG.Redirect,null,e),a.eventHandler.emitEvent(PG.HANDLE_REDIRECT_END,ZG.Redirect),e})),this.redirectResponse.set(r,n)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,n]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])}))}))},e.prototype.acquireTokenRedirect=function(e){return FN(this,void 0,void 0,(function(){var t,r,n=this;return VN(this,(function(i){return t=this.getRequestCorrelationId(e),this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(ZG.Redirect),(r=0<this.getAllAccounts().length)?this.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_START,ZG.Redirect,e):this.eventHandler.emitEvent(PG.LOGIN_START,ZG.Redirect,e),[2,(this.nativeExtensionProvider&&this.canUseNative(e)?new dR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,NG.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireTokenRedirect(e).catch((function(t){if(t instanceof cR&&t.isFatal())return n.nativeExtensionProvider=void 0,n.createRedirectClient(e.correlationId).acquireToken(e);if(t instanceof uG)return n.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),n.createRedirectClient(e.correlationId).acquireToken(e);throw n.browserStorage.setInteractionInProgress(!1),t})):this.createRedirectClient(e.correlationId).acquireToken(e)).catch((function(e){throw r?n.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_FAILURE,ZG.Redirect,null,e):n.eventHandler.emitEvent(PG.LOGIN_FAILURE,ZG.Redirect,null,e),e}))]}))}))},e.prototype.acquireTokenPopup=function(e){var t=this,r=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Fz.AcquireTokenPopup,r);try{this.logger.verbose("acquireTokenPopup called",r),this.preflightBrowserEnvironmentCheck(ZG.Popup)}catch(r){return Promise.reject(r)}var i=this.getAllAccounts();return 0<i.length?this.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_START,ZG.Popup,e):this.eventHandler.emitEvent(PG.LOGIN_START,ZG.Popup,e),(this.canUseNative(e)?this.acquireTokenNative(e,NG.acquireTokenPopup).then((function(e){return t.browserStorage.setInteractionInProgress(!1),n.endMeasurement({success:!0,isNativeBroker:!0,requestId:e.requestId}),e})).catch((function(r){if(r instanceof cR&&r.isFatal())return t.nativeExtensionProvider=void 0,t.createPopupClient(e.correlationId).acquireToken(e);if(r instanceof uG)return t.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createPopupClient(e.correlationId).acquireToken(e);throw t.browserStorage.setInteractionInProgress(!1),r})):this.createPopupClient(e.correlationId).acquireToken(e)).then((function(e){return i.length<t.getAllAccounts().length?t.eventHandler.emitEvent(PG.LOGIN_SUCCESS,ZG.Popup,e):t.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_SUCCESS,ZG.Popup,e),n.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),n.endMeasurement({success:!0,requestId:e.requestId}),e})).catch((function(e){return 0<i.length?t.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_FAILURE,ZG.Popup,null,e):t.eventHandler.emitEvent(PG.LOGIN_FAILURE,ZG.Popup,null,e),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),Promise.reject(e)}))},e.prototype.trackPageVisibilityWithMeasurement=function(){var e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))},e.prototype.ssoSilent=function(e){var t;return FN(this,void 0,void 0,(function(){var r,n,i=this;return VN(this,(function(o){return r=this.getRequestCorrelationId(e),n=jN(jN({},e),{prompt:e.prompt,correlationId:r}),this.preflightBrowserEnvironmentCheck(ZG.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Fz.SsoSilent,r),null!=(t=this.ssoSilentMeasurement)&&t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(PG.SSO_SILENT_START,ZG.Silent,n),[2,(this.canUseNative(n)?this.acquireTokenNative(n,NG.ssoSilent).catch((function(e){if(e instanceof cR&&e.isFatal())return i.nativeExtensionProvider=void 0,i.createSilentIframeClient(n.correlationId).acquireToken(n);throw e})):this.createSilentIframeClient(n.correlationId).acquireToken(n)).then((function(e){var t;return i.eventHandler.emitEvent(PG.SSO_SILENT_SUCCESS,ZG.Silent,e),null!=(t=i.ssoSilentMeasurement)&&t.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),null!=(t=i.ssoSilentMeasurement)&&t.endMeasurement({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw i.eventHandler.emitEvent(PG.SSO_SILENT_FAILURE,ZG.Silent,null,e),null!=(t=i.ssoSilentMeasurement)&&t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",i.trackPageVisibilityWithMeasurement)}))]}))}))},e.prototype.acquireTokenByCode=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i,o=this;return VN(this,(function(a){t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(ZG.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_BY_CODE_START,ZG.Silent,e),r=this.performanceClient.startMeasurement(Fz.AcquireTokenByCode,e.correlationId);try{if(e.code&&e.nativeAccountId)throw XA.createSpaCodeAndNativeAccountIdPresentError();if(e.code)return n=e.code,(i=this.hybridAuthCodeResponses.get(n))?(this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId),r.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync(jN(jN({},e),{correlationId:t})).then((function(e){return o.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ZG.Silent,e),o.hybridAuthCodeResponses.delete(n),r.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),r.endMeasurement({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){throw o.hybridAuthCodeResponses.delete(n),o.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_BY_CODE_FAILURE,ZG.Silent,null,e),r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})),this.hybridAuthCodeResponses.set(n,i)),[2,i];if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return[2,this.acquireTokenNative(e,NG.acquireTokenByCode,e.nativeAccountId).catch((function(e){throw e instanceof cR&&e.isFatal()&&(o.nativeExtensionProvider=void 0),e}))];throw XA.createUnableToAcquireTokenFromNativePlatformError()}throw XA.createAuthCodeOrNativeAccountIdRequiredError()}catch(a){throw this.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_BY_CODE_FAILURE,ZG.Silent,null,a),r.endMeasurement({errorCode:a instanceof GZ&&a.errorCode||void 0,subErrorCode:a instanceof GZ&&a.subError||void 0,success:!1}),a}return[2]}))}))},e.prototype.acquireTokenByCodeAsync=function(e){var t;return FN(this,void 0,void 0,(function(){var r=this;return VN(this,(function(n){switch(n.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Fz.AcquireTokenByCodeAsync,e.correlationId),null!=(t=this.acquireTokenByCodeAsyncMeasurement)&&t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),[4,this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then((function(e){var t;return null!=(t=r.acquireTokenByCodeAsyncMeasurement)&&t.endMeasurement({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw null!=(t=r.acquireTokenByCodeAsyncMeasurement)&&t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",r.trackPageVisibilityWithMeasurement)}))];case 1:return[2,n.sent()]}}))}))},e.prototype.acquireTokenFromCache=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(n){switch(this.performanceClient.addQueueMeasurement(Fz.AcquireTokenFromCache,t.correlationId),r.cacheLookupPolicy){case GG.Default:case GG.AccessToken:case GG.AccessTokenAndRefreshToken:return[2,e.acquireToken(t)];default:throw Mz.createRefreshRequiredError()}return[2]}))}))},e.prototype.acquireTokenByRefreshToken=function(e,t){return FN(this,void 0,void 0,(function(){var r;return VN(this,(function(n){switch(this.performanceClient.addQueueMeasurement(Fz.AcquireTokenByRefreshToken,e.correlationId),t.cacheLookupPolicy){case GG.Default:case GG.AccessTokenAndRefreshToken:case GG.RefreshToken:case GG.RefreshTokenAndNetwork:return r=this.createSilentRefreshClient(e.correlationId),this.performanceClient.setPreQueueTime(Fz.SilentRefreshClientAcquireToken,e.correlationId),[2,r.acquireToken(e)];default:throw Mz.createRefreshRequiredError()}return[2]}))}))},e.prototype.acquireTokenBySilentIframe=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){return this.performanceClient.addQueueMeasurement(Fz.AcquireTokenBySilentIframe,e.correlationId),t=this.createSilentIframeClient(e.correlationId),this.performanceClient.setPreQueueTime(Fz.SilentIframeClientAcquireToken,e.correlationId),[2,t.acquireToken(e)]}))}))},e.prototype.logout=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){return t=this.getRequestCorrelationId(e),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),[2,this.logoutRedirect(jN({correlationId:t},e))]}))}))},e.prototype.logoutRedirect=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){return t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(ZG.Redirect),[2,this.createRedirectClient(t).logout(e)]}))}))},e.prototype.logoutPopup=function(e){try{var t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(ZG.Popup),this.createPopupClient(t).logout(e)}catch(e){return Promise.reject(e)}},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){var t;return this.logger.trace("getAccountByUsername called"),e?(t=this.browserStorage.getAccountInfoFilteredBy({username:e}))?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: "+e),t):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null):(this.logger.warning("getAccountByUsername: No username provided"),null)},e.prototype.getAccountByHomeId=function(e){var t;return this.logger.trace("getAccountByHomeId called"),e?(t=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:e}))?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: "+e),t):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null):(this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null)},e.prototype.getAccountByLocalId=function(e){var t;return this.logger.trace("getAccountByLocalId called"),e?(t=this.browserStorage.getAccountInfoFilteredBy({localAccountId:e}))?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: "+e),t):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null):(this.logger.warning("getAccountByLocalId: No localAccountId provided"),null)},e.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},e.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},e.prototype.preflightBrowserEnvironmentCheck=function(e,t){if(void 0===t&&(t=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),nR.blockNonBrowserEnvironment(this.isBrowserEnvironment),nR.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),nR.blockReloadInHiddenIframes(),nR.blockAcquireTokenInPopups(),nR.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e===ZG.Redirect&&this.config.cache.cacheLocation===TG.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw BA.createInMemoryRedirectUnavailableError();e!==ZG.Redirect&&e!==ZG.Popup||this.preflightInteractiveRequest(t)},e.prototype.preflightInteractiveRequest=function(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),nR.blockReloadInHiddenIframes(),e&&this.browserStorage.setInteractionInProgress(!0)},e.prototype.acquireTokenNative=function(e,t,r){return FN(this,void 0,void 0,(function(){return VN(this,(function(n){if(this.logger.trace("acquireTokenNative called"),this.nativeExtensionProvider)return[2,new dR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)];throw XA.createNativeConnectionNotEstablishedError()}))}))},e.prototype.canUseNative=function(e,t){if(this.logger.trace("canUseNative called"),!hR.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case IZ.NONE:case IZ.CONSENT:case IZ.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+e.prompt+" is not compatible with native flow, returning false"),!1}return!(!t&&!this.getNativeAccountId(e)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))},e.prototype.getNativeAccountId=function(e){return(e=e.account||this.browserStorage.getAccountInfoByHints(e.loginHint,e.sid)||this.getActiveAccount())&&e.nativeAccountId||""},e.prototype.createPopupClient=function(e){return new mR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createRedirectClient=function(e){return new pR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentIframeClient=function(e){return new bR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,NG.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentCacheClient=function(e){return new uR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentRefreshClient=function(e){return new vR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentAuthCodeClient=function(e){return new WR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,NG.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},e.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},e.prototype.addPerformanceCallback=function(e){return this.performanceClient.addPerformanceCallback(e)},e.prototype.removePerformanceCallback=function(e){return this.performanceClient.removePerformanceCallback(e)},e.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},e.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},e.prototype.getTokenCache=function(){return this.tokenCache},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e.prototype.getConfiguration=function(){return this.config},e.prototype.getRequestCorrelationId=function(e){return null!=e&&e.correlationId?e.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():wZ.EMPTY_STRING},e}(),YR=function(e){function t(t){return(t=e.call(this,t)||this).astsAsyncMeasurement=void 0,t.activeSilentTokenRequests=new Map,t.trackPageVisibility=t.trackPageVisibility.bind(t),t}return WN(t,e),t.prototype.loginRedirect=function(e){return FN(this,void 0,void 0,(function(){var t;return VN(this,(function(r){return t=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",t),[2,this.acquireTokenRedirect(jN({correlationId:t},e||YA))]}))}))},t.prototype.loginPopup=function(e){var t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(jN({correlationId:t},e||YA))},t.prototype.acquireTokenSilent=function(e){return FN(this,void 0,void 0,(function(){var t,r,n,i,o,a=this;return VN(this,(function(s){if(t=this.getRequestCorrelationId(e),(r=this.performanceClient.startMeasurement(Fz.AcquireTokenSilent,t)).addStaticFields({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(ZG.Silent),this.logger.verbose("acquireTokenSilent called",t),o=e.account||this.getActiveAccount())return i={clientId:this.config.auth.clientId,authority:e.authority||wZ.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:o.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},n=JSON.stringify(i),void 0===(i=this.activeSilentTokenRequests.get(n))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t),this.performanceClient.setPreQueueTime(Fz.AcquireTokenSilentAsync,t),o=this.acquireTokenSilentAsync(jN(jN({},e),{correlationId:t}),o).then((function(t){return a.activeSilentTokenRequests.delete(n),r.addStaticFields({accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),r.endMeasurement({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId}),t})).catch((function(e){throw a.activeSilentTokenRequests.delete(n),r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})),this.activeSilentTokenRequests.set(n,o),[2,o]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),r.discardMeasurement(),[2,i]);throw XA.createNoAccountError()}))}))},t.prototype.trackPageVisibility=function(){this.astsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},t.prototype.acquireTokenSilentAsync=function(e,t){var r;return FN(this,void 0,void 0,(function(){var n,i,o,a,s=this;return VN(this,(function(l){switch(l.label){case 0:return this.performanceClient.addQueueMeasurement(Fz.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_START,ZG.Silent,e),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(Fz.AcquireTokenSilentAsync,e.correlationId),null!=(r=this.astsAsyncMeasurement)&&r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),hR.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&t.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),n=jN(jN({},e),{account:t}),n=this.acquireTokenNative(n,NG.acquireTokenSilent_silentFlow).catch((function(t){return FN(s,void 0,void 0,(function(){return VN(this,(function(r){if(t instanceof cR&&t.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw t}))}))})),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),i=this.createSilentCacheClient(e.correlationId),this.performanceClient.setPreQueueTime(Fz.InitializeSilentRequest,e.correlationId),[4,i.initializeSilentRequest(e,t)];case 2:o=l.sent(),a=jN(jN({},e),{cacheLookupPolicy:e.cacheLookupPolicy||GG.Default}),this.performanceClient.setPreQueueTime(Fz.AcquireTokenFromCache,o.correlationId),n=this.acquireTokenFromCache(i,o,a).catch((function(t){if(a.cacheLookupPolicy===GG.AccessToken)throw t;return nR.blockReloadInHiddenIframes(),s.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_NETWORK_START,ZG.Silent,o),s.performanceClient.setPreQueueTime(Fz.AcquireTokenByRefreshToken,o.correlationId),s.acquireTokenByRefreshToken(o,a).catch((function(t){var r=t instanceof Uz,n=t instanceof uG,i=t.errorCode===aG,l="invalid_grant"===t.errorCode;if(r&&l&&!n&&a.cacheLookupPolicy!==GG.AccessTokenAndRefreshToken&&a.cacheLookupPolicy!==GG.RefreshToken||a.cacheLookupPolicy===GG.Skip||i)return s.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",e.correlationId),s.performanceClient.setPreQueueTime(Fz.AcquireTokenBySilentIframe,o.correlationId),s.acquireTokenBySilentIframe(o);throw t}))})),l.label=3;case 3:return[2,n.then((function(e){var t;return s.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_SUCCESS,ZG.Silent,e),null!=(t=s.astsAsyncMeasurement)&&t.endMeasurement({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw s.eventHandler.emitEvent(PG.ACQUIRE_TOKEN_FAILURE,ZG.Silent,null,e),null!=(t=s.astsAsyncMeasurement)&&t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",s.trackPageVisibility)}))]}}))}))},t}(jR);function FR(e){this.message=e}FR.prototype=new Error,FR.prototype.name="InvalidCharacterError";var VR=void 0!==n&&n.atob&&n.atob.bind(n)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new FR("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,o=0,a="";n=t.charAt(o++);~n&&(r=i%4?64*r+n:n,i++%4)&&(a+=String.fromCharCode(255&r>>(-2*i&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a};function HR(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(VR(t).replace(/(.)/g,(function(e,t){return"%"+((t=t.charCodeAt(0).toString(16).toUpperCase()).length<2?"0"+t:t)})))}catch(e){return VR(t)}}function UR(e){this.message=e}function BR(e,t){if("string"!=typeof e)throw new UR("Invalid token specified");t=!0===(t=t||{}).header?0:1;try{return JSON.parse(HR(e.split(".")[t]))}catch(e){throw new UR("Invalid token specified: "+e.message)}}UR.prototype=new Error,UR.prototype.name="InvalidTokenError";var KR=function(){function e(t){var r=this,n=(this.fallbackStorage={},this._triggerTokenFetch=function(t){return void 0===t&&(t=!1),new Promise((function(n,i){"function"!=typeof r.options.getToken?i(new Error("Token cannot be ".concat(t?"fetched":"renewed"," because getToken was not set or is not a function."))):r.options.getToken((function(t){try{var o=r._getTokenExpiry(t)-e.constants.tokenRefreshClockSkew;r._storeToken(t),r._setTimeoutTokenFetch(o),n()}catch(t){i(new Error("Invalid token returned by getToken function"))}}),(function(e){i(e)}),r.map)}))},this._setTimeoutTokenFetch=function(e){clearTimeout(r.tokenTimeOutHandle),r.tokenTimeOutHandle=setTimeout(r._triggerTokenFetch,Math.min(1e3*e,2147483647))},t.getServiceOptions());this.options=n.authOptions,this.sessionId=n.sessionId,this.map=t}return e.prototype.initialize=function(){var t=this;return this.initPromise||(this.initPromise=new Promise((function(r,n){if(t.options.authType===td.subscriptionKey)r();else if(t.options.authType===td.aad)t.options.authContext=t.options.authContext||e.getDefaultAuthContext(t.options),t.options.authContext.handleRedirectPromise().then((function(){setTimeout((function(){return t._loginAndAcquireTokenForAAD(r,n)}))})).catch((function(e){n(new Error("Error logging in the AAD users: "+e))}));else if(t.options.authType===td.anonymous)r(t._triggerTokenFetch(!0));else if(t.options.authType===td.sas){if(t.options.sasToken){var i=-1;try{i=t._getTokenExpiry(t.options.sasToken)}catch(r){return void n(new Error("An invalid sasToken was provided."))}if(i>e.constants.tokenRefreshClockSkew)return t._storeToken(t.options.sasToken),t._setTimeoutTokenFetch(i-e.constants.tokenRefreshClockSkew),void r()}r(t._triggerTokenFetch())}else n(new Error("An invalid authentication type was specified."))}))),this.initPromise},e.prototype.dispose=function(){this.tokenTimeOutHandle&&(clearTimeout(this.tokenTimeOutHandle),this.tokenTimeOutHandle=null)},e.getDefaultAuthContext=function(e){if(!e.aadAppId)throw new Error("No AAD app ID was specified.");if(e.aadTenant)return this.defaultAuthContext||(this.defaultAuthContext=new YR({auth:{authority:"".concat(e.aadInstance||h.aadInstance).concat(e.aadTenant),clientId:e.aadAppId},cache:{cacheLocation:this.constants.preferredCacheLocation}})),this.defaultAuthContext;throw new Error("No AAD tenant was specified.")},e.prototype._loginAndAcquireTokenForAAD=function(e,t){var r=(null==(r=this.options.authContext)?void 0:r.getAllAccounts())||[];0===r.length?(this.options.authContext.loginRedirect(),e()):(this.options.authContext.setActiveAccount(r[0]),this._acquireTokenForAAD(e,t))},e.prototype._acquireTokenForAAD=function(t,r){var n=this,i={scopes:["https://atlas.microsoft.com/.default"]};this.options.authContext.acquireTokenSilent(i).then((function(r){n._saveItem(e.constants.storage.tokenKey,r.accessToken);var i={map:n.map,type:e.constants.events.tokenAcquired};n.map.events.invoke(e.constants.events.tokenAcquired,i),clearTimeout(n.tokenTimeOutHandle),i=new Date(r.expiresOn).getTime()-Date.now(),n.tokenTimeOutHandle=setTimeout((function(){return n._acquireTokenForAAD()}),i),null!=t&&t()})).catch((function(e){if(e instanceof uG)return n.options.authContext.acquireTokenRedirect(i),null==t?void 0:t();null!=r&&r(e)}))},e.prototype.getAuthType=function(){return this.options.authType},e.prototype.getClientId=function(){return this.options.clientId},e.prototype.getToken=function(){if(this.options.authType===td.aad)return this._getItem(e.constants.storage.tokenKey);if(this.options.authType!==td.anonymous&&this.options.authType!==td.sas)return this.options.authType===td.subscriptionKey?this.options.subscriptionKey:void 0;var t=this._getItem(e.constants.storage.tokenKey);if(t){var r=this._getTokenExpiry(t);if(r<300&&0<r)this._triggerTokenFetch();else if(r<=0)throw this._saveItem(e.constants.storage.tokenKey,""),new Error(e.constants.errors.tokenExpired)}else this._triggerTokenFetch();return t},e.prototype._getTokenExpiry=function(e){e=BR(e).exp;var t=this._getCurrentTime();return 0<e-t?e-t:-1},e.prototype._storeToken=function(t){this._saveItem(e.constants.storage.tokenKey,t),t={map:this.map,type:e.constants.events.tokenAcquired},this.map.events.invoke(e.constants.events.tokenAcquired,t)},e.prototype._saveItem=function(e,t){return this._supportsLocalStorage()?localStorage.setItem(e,t):this._supportsSessionStorage()?sessionStorage.setItem(e,t):this.fallbackStorage[e]=t,!0},e.prototype._getItem=function(e){return this._supportsLocalStorage()?localStorage.getItem(e):this._supportsSessionStorage()?sessionStorage.getItem(e):e in this.fallbackStorage?this.fallbackStorage[e]:null},e.prototype._supportsLocalStorage=function(){try{return!!n.localStorage&&(n.localStorage.setItem(e.constants.storage.testStorageKey,"A"),"A"===n.localStorage.getItem(e.constants.storage.testStorageKey)&&(n.localStorage.removeItem(e.constants.storage.testStorageKey),!n.localStorage.getItem(e.constants.storage.testStorageKey)))}catch(e){return!1}},e.prototype._supportsSessionStorage=function(){try{return!!n.sessionStorage&&(n.sessionStorage.setItem(e.constants.storage.testStorageKey,"A"),"A"===n.sessionStorage.getItem(e.constants.storage.testStorageKey)&&(n.sessionStorage.removeItem(e.constants.storage.testStorageKey),!n.sessionStorage.getItem(e.constants.storage.testStorageKey)))}catch(e){return!1}},e.prototype._getCurrentTime=function(){return Math.round((new Date).getTime()/1e3)},e.prototype.signRequest=function(e){e.headers=e.headers||{},e.headers["Session-Id"]=this.sessionId,e.headers["Ms-Am-Request-Origin"]="MapControl",e.headers["Map-Agent"]="MapControl/".concat(N," (Web)");var t=this.getToken();switch(this.options.authType){case td.aad:case td.anonymous:e.headers[w]=this.options.clientId,e.headers[m]="Bearer "+t;break;case td.sas:e.headers[m]="jwt-sas "+t;break;case td.subscriptionKey:e.headers["subscription-key"]=t;break;default:throw new Error("An invalid authentication type was specified")}return e},e.constants={preferredCacheLocation:"localStorage",storage:{tokenKey:"access.token.key",testStorageKey:"testStorage"},events:{tokenAcquired:"tokenacquired"},tokenExpiresIn:3599,tokenRefreshClockSkew:300,errors:{tokenExpired:"Token Expired, Try again"}},e}(),JR=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},QR=function(){function e(e){for(var t in this.map=e,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("atlas-control-container"),s){var r;s.hasOwnProperty(t)&&((r=document.createElement("div")).classList.add(s[t]),r.classList.add("subcontrol-container"),this.controlContainer.appendChild(r))}this.map.getMapContainer().appendChild(this.controlContainer),this.controls=new Set}return e.prototype.add=function(e,t){var r,n;if(Array.isArray(e))try{for(var i=JR(e),o=i.next();!o.done;o=i.next()){var a=o.value;this._add(a,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}else this._add(e,t)},e.prototype.getControls=function(){return Array.from(this.controls)},e.prototype.remove=function(e){var t,r;if(Array.isArray(e))try{for(var n=JR(e),i=n.next();!i.done;i=n.next()){var o=i.value;this._remove(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}else this._remove(e)},e.prototype._add=function(e,t){this.controls.add(e);var r=(new P).merge(t);if(e=e.onAdd(this.map,t),!(0<(t=this.controlContainer.getElementsByClassName(r.position)).length))throw new Error("Control position ".concat(r.position," does not exist."));t.item(0).appendChild(e)},e.prototype._remove=function(e){e.onRemove(),this.controls.delete(e)},e}(),qR=n&&n.__assign||function(){return(qR=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$R=function(){function e(e){this.callbacks=new R,this.map=e}return e.prototype.addCallback=function(e,t,r,n,i){var o,a,s=this;if(n)o=function(e){var t=e.lngLat?new Il(e.lngLat.lng,e.lngLat.lat):void 0,n=e.point?[e.point.x,e.point.y]:void 0,i=e.features?e.features.map((function(e){return new ws(e.geometry,e.properties,e.id)})):[];e={type:e.type,originalEvent:e.originalEvent,position:t,coordinate:n,features:i},r(e)};else switch(e){case"data":case"sourcedata":case"styledata":o=function(n){n=qR(qR({dataType:n.dataType},"source"===n.dataType&&qR(qR(qR({isSourceLoaded:n.isSourceLoaded},n.sourceDataType&&{sourceDataType:n.sourceDataType}),{source:s.map.sources.getById(n.sourceId)}),n.tile&&{tile:{id:{x:n.tile.tileID.canonical.x,y:n.tile.tileID.canonical.y,z:n.tile.tileID.canonical.z},size:n.tile.tileSize,state:n.tile.state}})),{map:s.map,type:n.type}),i&&s.map.events._removeListener(e,t,r),r(n)};break;case"error":o=function(n){n={error:n.error,map:s.map,type:n.type},i&&s.map.events._removeListener(e,t,r),r(n)};break;case"touchstart":case"touchend":case"touchmove":case"touchcancel":o=function(n){if(n.originalEvent){if(n.originalEvent===a)return;a=n.originalEvent}var o=n.point?new Ts(n.point.x,n.point.y):void 0,l=n.points?n.points.map((function(e){return new Ts(e.x,e.y)})):[],c=n.lngLat?new Il(n.lngLat.lng,n.lngLat.lat):void 0,u=n.lngLats?n.lngLats.map((function(e){return new Il(e.lng,e.lat)})):[],d=c?s.map.layers.getRenderedShapes(new Is(c),t?[t]:void 0):[];o={map:s.map,originalEvent:n.originalEvent,pixel:o,pixels:l,position:c,positions:u,shapes:d,layerId:t||void 0,preventDefault:function(){return n.preventDefault()},type:n.type},i&&s.map.events._removeListener(e,t,r),r(o)};break;case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"click":case"dblclick":case"mouseout":case"mouseenter":case"mouseleave":case"contextmenu":o=function(n){if(n.originalEvent){if(n.originalEvent===a)return;a=n.originalEvent}var o=n.lngLat?new Il(n.lngLat.lng,n.lngLat.lat):void 0,l=n.point?new Ts(n.point.x,n.point.y):void 0,c=o?s.map.layers.getRenderedShapes(new Is(o),t?[t]:void 0):[];o={map:s.map,originalEvent:n.originalEvent,position:o,pixel:l,preventDefault:function(){return n.preventDefault()},shapes:c,layerId:t||void 0,type:n.type},i&&s.map.events._removeListener(e,t,r),r(o)};break;case"styleimagemissing":o=function(n){i&&s.map.events._removeListener(e,t,r),r(n.id)};break;case"wheel":o=function(n){if(n.originalEvent){if(n.originalEvent===a)return;a=n.originalEvent}var o={map:s.map,originalEvent:n.originalEvent,preventDefault:function(){return n.preventDefault()},type:n.type};i&&s.map.events._removeListener(e,t,r),r(o)};break;case"resize":o=function(n){var o,a={map:s.map,type:n.type};for(o in n)"type"!==o&&"target"!==o&&(a[o]=n[o]);i&&s.map.events._removeListener(e,t,r),r(a)};break;default:o=function(n){var o={map:s.map,type:n.type};n.originalEvent&&(o.originalEvent=n.originalEvent),i&&s.map.events._removeListener(e,t,r),r(o)}}this.callbacks.has(t)||this.callbacks.set(t,new R),this.callbacks.get(t).has(e)||this.callbacks.get(t).set(e,new Map),this.callbacks.get(t).get(e).set(r,[o,i])},e.prototype.removeCallback=function(e,t,r){this.callbacks.has(t)&&this.callbacks.get(t).has(e)&&this.callbacks.get(t).get(e).has(r)&&this.callbacks.get(t).get(e).delete(r)},e.prototype.getModifiedCallback=function(e,t,r){if(this.callbacks.has(t)&&this.callbacks.get(t).has(e)&&this.callbacks.get(t).get(e).has(r))return this.callbacks.get(t).get(e).get(r)[0]},e.prototype.getLayerCallbacks=function(e){if(this.callbacks.has(e))return this.callbacks.get(e)},e.prototype.getEventCallbacks=function(e,t){if(this.callbacks.has(t)&&(t=this.callbacks.get(t)).has(e))return t.get(e)},e}(),eD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tD=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},rD=["maxzoomchanged","minzoomchanged","mapconfigurationchanged"],nD=function(){function e(e){this.map=e,this.mapCallbackHandler=new $R(this.map)}return e.prototype.add=function(e,t,r){var n,i;if("function"==typeof t)this._addGlobalListener(e,t,!1,!1);else{t=Array.isArray(t)?t:[t];try{for(var o=eD(t),a=o.next();!a.done;a=o.next()){var s=a.value;s instanceof zc&&zc._isMBoxEvent(e)?this._addLayerListener(e,s,r,!1,!1):s._addEventListener(e,r,!1)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.addOnce=function(e,t,r){"function"==typeof t?this._addGlobalListener(e,t,!1,!0):t instanceof zc&&zc._isMBoxEvent(e)?this._addLayerListener(e,t,r,!1,!0):t._addEventListener(e,r,!0)},e.prototype._addLegacy=function(e,t,r){"function"==typeof t?this._addGlobalListener(e,t,!0,!1):this._addLayerListener(e,t,r,!0,!1)},e.prototype._addLayerListener=function(e,t,r,n,i){t=t instanceof zc?t.getId():t;var o,a,s,l,c=this.map.layers.getLayerById(t),u=this.mapCallbackHandler.getModifiedCallback(e,t,r);if(u&&c)try{for(var d=eD(c._getLayerIds()),h=d.next();!h.done;h=d.next()){var p=h.value;this.map._getMap().off(e,p,u)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}if(this.mapCallbackHandler.addCallback(e,t,r,n,i),c){u=this.mapCallbackHandler.getModifiedCallback(e,t,r);try{for(var m=eD(c._getLayerIds()),y=m.next();!y.done;y=m.next())p=y.value,this.map._getMap().on(e,p,u)}catch(e){s={error:e}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}},e.prototype._addGlobalListener=function(e,t,r,n){var i,o,a,s;rD.includes(e)?this.map._addEventListener(e,t,n):(i=this.mapCallbackHandler.getModifiedCallback(e,"",t),this.mapCallbackHandler.addCallback(e,"",t,r,n),o=this.mapCallbackHandler.getModifiedCallback(e,"",t),"load"===e&&this.map._isLoaded()?(a={type:"load",map:this.map},setTimeout((function(){return o(a)}))):"ready"===e?this.map._isReady()&&(s={type:"ready",map:this.map},setTimeout((function(){return o(s)}))):(i&&this.map._getMap().off(e,i),this.map._getMap().on(e,o)))},e.prototype.invoke=function(e,t,r){if(void 0===r)this._invokeListeners(e,"",t);else if(t instanceof zc&&zc._isMBoxEvent(e))this._invokeListeners(e,t.getId(),r);else{if(!(t instanceof D))throw new Error("The invoke target is invalid.");t._invokeEvent(e,r)}},e.prototype._invokeListeners=function(e,t,r){var n=this,i=new R(this.mapCallbackHandler.getEventCallbacks(e,t));i?i.forEach((function(i,o){(i=tD(i,2))[0],i[1]&&n._removeListener(e,t,o),o(r)})):"error"===e&&console.error("error"in r?r.error:r)},e.prototype.remove=function(e,t,r){var n,i;if("function"==typeof t)this._removeListener(e,"",t);else{t=Array.isArray(t)?t:[t];try{for(var o=eD(t),a=o.next();!a.done;a=o.next()){var s=a.value;s instanceof zc&&zc._isMBoxEvent(e)?this._removeListener(e,s,r):null!=s&&s._removeEventListener(e,r)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype._removeLegacy=function(e,t,r){"function"==typeof t?this._removeListener(e,"",t):this._removeListener(e,t,r)},e.prototype._removeListener=function(e,t,r){var n,i;if(rD.includes(e))this.map._removeEventListener(e,r);else{t=t instanceof zc?t.getId():t;var o=this.mapCallbackHandler.getModifiedCallback(e,t,r);if(o)if(t){var a=this.map.layers.getLayerById(t);if(a)try{for(var s=eD(a._getLayerIds()),l=s.next();!l.done;l=s.next()){var c=l.value;this.map._getMap().off(e,c,o)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}else this.map._getMap().off(e,o);this.mapCallbackHandler.removeCallback(e,t,r)}},e.prototype._enableLayerEvents=function(e){var t=this,r=this.mapCallbackHandler.getLayerCallbacks(e.getId());r&&r.forEach((function(r,n){r.forEach((function(r){var i,o,a=tD(r,1)[0];try{for(var s=eD(e._getLayerIds()),l=s.next();!l.done;l=s.next()){var c=l.value;t.map._getMap().on(n,c,a)}}catch(r){i={error:r}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}))}))},e.prototype._disableLayerEvents=function(e){var t=this,r=this.mapCallbackHandler.getLayerCallbacks(e.getId());r&&r.forEach((function(r,n){r.forEach((function(r){var i,o,a=tD(r,1)[0];try{for(var s=eD(e._getLayerIds()),l=s.next();!l.done;l=s.next()){var c=l.value;t.map._getMap().off(n,c,a)}}catch(r){i={error:r}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}))}))},e}(),iD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oD=function(){function e(e){this.markers=new Set,this.map=e}return e.prototype.add=function(e,t){var r,n;if(Array.isArray(e))try{for(var i=iD(e),o=i.next();!o.done;o=i.next()){var a=o.value;this._addMarker(a,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}else this._addMarker(e,t)},e.prototype._addMarker=function(e,t){e._addToMap(this.map,t),this.markers.add(e)},e.prototype.getMarkers=function(){return Array.from(this.markers)},e.prototype.remove=function(e){var t,r;if(Array.isArray(e))try{for(var n=iD(e),i=n.next();!i.done;i=n.next()){var o=i.value;this._removeMarker(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}else this._removeMarker(e)},e.prototype._removeMarker=function(e){var t=this;e instanceof Qu?(e._removeFromMap(),this.markers.delete(e)):this.markers.forEach((function(r){r._getId()===e&&(r._removeFromMap(),t.markers.delete(r))}))},e.prototype.clear=function(){var e=this;this.markers.forEach((function(t){t._removeFromMap(),e.markers.delete(t)}))},e}(),aD=function(){function e(e){this.userImages=new R,this.imageLoadTimeout=5e3,this.map=e}return e.prototype.add=function(e,t,r){var i=this;return new Promise((function(o,a){var s,l,c;i.userImages.has(e)?o():t instanceof HTMLImageElement||t instanceof ImageData?(i.map._getMap().addImage(e,t,r),i.userImages.set(e,{image:t,meta:r}),o()):"string"==typeof t&&(l=/<svg/i.test(t)&&!/^data:/i.test(t)?"data:image/svg+xml;base64,"+n.btoa(t):t,c=!1,i.map._sendRequest(l,"Image").then((function(e){return c?void 0:e.blob()})).then((function(t){var n;!c&&t&&(clearTimeout(s),(n=new Image).onload=function(){i.map._getMap().addImage(e,n,r),i.userImages.set(e,{image:n,meta:r}),o()},n.onerror=n.onabort=function(){a("Failed to load image into HTML element.")},n.src=URL.createObjectURL(t))})).catch((function(){c||(clearTimeout(s),a("Failed to load image into HTML element."))})),s=setTimeout((function(){c=!0,a("Failed to load image within specified timeout: ".concat(i.imageLoadTimeout," ms."))}),i.imageLoadTimeout))}))},e.prototype.clear=function(){var e=this;this.userImages.forEach((function(t,r){e.map._getMap().removeImage(r)})),this.userImages.clear()},e.prototype.getImageIds=function(){var e=[];return this.userImages.forEach((function(t,r){e.push(r)})),e},e.prototype.createFromTemplate=function(e,t,r,n,i){return r=r||"#1A73AA",n=n||"#fff",t=(t=nh(t,i)).replace(/{color}/g,r).replace(/{secondaryColor}/g,n).replace(/{text}/g,""),this.add(e,t)},e.prototype.hasImage=function(e){return this.userImages.has(e)},e.prototype.remove=function(e){this.map._getMap().removeImage(e),this.userImages.delete(e)},e.prototype._restoreImages=function(){var e=this;this.userImages.forEach((function(t,r){e.map._getMap().hasImage(r)||e.map._getMap().addImage(r,t.image,t.meta)}))},e}(),sD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cD=function(e){function t(t,r){return(r=e.call(this,r)||this).layers=t,r}return sD(t,e),t.prototype._buildLayers=function(){return this.layers},t.prototype._getLayerIds=function(){return this.layers.map((function(e){return e.id}))},t.prototype._getSourceIds=function(){var e,t,r=new Set;try{for(var n=lD(this.layers),i=n.next();!i.done;i=n.next()){var o=i.value;"source"in o&&"string"==typeof o.source?r.add(o.source):"source"in o&&o.source&&r.add(o.id)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},t.prototype._updateLayoutProperty=function(e,t,r,n){var i;bs(t,r)||(i=this.map._getMap(),this.layers.forEach((function(r){i.getLayer(r.id)?i.setLayoutProperty(r.id,e,n||t):console.warn("Could not update layout property ".concat(e," for layer ").concat(r.id," to ").concat(n||t))})))},t}(zc),uD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dD=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},hD=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},pD=function(){function e(e){this.layerIndex=[],this.userLayers=[],this.map=e}return e.prototype.add=function(e,t){var r,n,i=t instanceof zc?t.getId():t;if(Array.isArray(e))try{for(var o=uD(e),a=o.next();!a.done;a=o.next()){var s=a.value;this._addLayer(s,i)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}else this._addLayer(e,i)},e.prototype._addLayer=function(e,t){if(!(this.map._isReady()||e instanceof cD))throw new Error("The layer '".concat(e.getId(),"' could not be added to the map because ")+"the map is not ready. Please use a ready event listener to guarantee the map is ready before adding a layer to it.");var r,n,i,o;t!==e.getId()&&this.layerIndex.find((function(e){return t===e.getId()}))?this._getMapboxLayerExists(e)?(n=this.layerIndex.findIndex((function(t){return t.getId()===e.getId()})),i=this.userLayers.findIndex((function(t){return t.layer.getId()===e.getId()})),this._removeMapboxLayers(e),this._addMapboxLayers(e,t),(o=this.layerIndex[n])&&this.map.events._disableLayerEvents(o),this.map.events._enableLayerEvents(e),this.layerIndex.splice(n,1),r=this.layerIndex.findIndex((function(e){return e.getId()===t})),this.layerIndex.splice(r,0,e),e instanceof cD||(this.userLayers[i]={layer:e,before:t}),o&&o.onRemove()):(this._addMapboxLayers(e,t),this.map.events._enableLayerEvents(e),r=this.layerIndex.findIndex((function(e){return e.getId()===t})),this.layerIndex.splice(r,0,e),e instanceof cD||this.userLayers.push({layer:e,before:t})):(n=this.layerIndex.findIndex((function(t){return t.getId()===e.getId()})),i=this.userLayers.findIndex((function(t){return t.layer.getId()===e.getId()})),0<=n&&0<=i?(o=this.layerIndex[n],this._removeMapboxLayers(o),this._addMapboxLayers(e,n+1),this.map.events._disableLayerEvents(o),this.map.events._enableLayerEvents(e),(this.layerIndex[n]=e)instanceof cD||(this.userLayers[i]={layer:e,before:void 0}),o.onRemove()):(this._addMapboxLayers(e),this.map.events._enableLayerEvents(e),this.layerIndex.push(e),e instanceof cD||this.userLayers.push({layer:e,before:t}))),e.onAdd(this.map)},e.prototype._addMapboxLayers=function(e,t){var r,n;if(!(e instanceof zu)||e.getOptions().tileUrl){if(!(e instanceof cD)){e instanceof $c&&(this.map._getMap().addSource(e._getSourceId(),e._buildSource()),this.map.sources.setSourceState(e._getSourceWrapper()));var i=this._getMapboxBefore(t);try{for(var o=uD(e._buildLayers()),a=o.next();!a.done;a=o.next()){var s=a.value;this.map._getMap().addLayer(s,i)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}this.map.events._enableLayerEvents(e)}},e.prototype._removeMapboxLayers=function(e,t){var r,n;if(e instanceof cD&&!t)this.map.events._disableLayerEvents(e);else{try{for(var i=uD(e._getLayerIds()),o=i.next();!o.done;o=i.next()){var a=o.value;this.map._getMap().getLayer(a)&&this.map._getMap().removeLayer(a)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}this.map.events._disableLayerEvents(e),e instanceof $c&&this.map._getMap().getSource(e._getSourceId())&&this.map._getMap().removeSource(e._getSourceId())}},e.prototype._getMapboxLayerExists=function(e){var t=this,r=!1;return"string"==typeof e?!!(e=this.layerIndex.find((function(t){return t.getId()===e}))):(e._getLayerIds().forEach((function(e){t.map._getMap().getLayer(e)&&(r=!0)})),r)},e.prototype._getMapboxBefore=function(e){var t,r,n,i;if("string"==typeof e){var o=this.layerIndex.find((function(t){return t.getId()===e}));if(!o)return;try{for(var a=uD(o._getLayerIds()),s=a.next();!s.done;s=a.next()){var l=s.value;if(this.map._getMap().getLayer(l))return l}}catch(r){t={error:r}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}e=this.layerIndex.findIndex((function(t){return t.getId()===e}))+1}for(var c=e;c<this.layerIndex.length;c++)try{n=void 0;for(var u=uD(this.layerIndex[c]._getLayerIds()),d=u.next();!d.done;d=u.next())if(l=d.value,this.map._getMap().getLayer(l))return l}catch(r){n={error:r}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}},e.prototype.clear=function(){for(var e=this.layerIndex.length-1;0<=e;e--){var t=this.layerIndex[e];t&&(this._removeMapboxLayers(t,!0),this.layerIndex.splice(e,1),t.onRemove())}this.userLayers=[]},e.prototype.getLayerById=function(e){var t=this.layerIndex.find((function(t){return t.getId()===e}));if(t)return t},e.prototype.getLayers=function(){return this.layerIndex.slice(0)},e.prototype._getSourceIds=function(){var e,t,r=new Set;try{for(var n=uD(this.layerIndex),i=n.next();!i.done;i=n.next())i.value._getSourceIds().forEach((function(e){return r.add(e)}))}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype._getUserLayers=function(){return Array.from(this.userLayers)},e.prototype.move=function(e,t){var r=e instanceof zc?e.getId():e,n=t instanceof zc?t.getId():t;if(!this.layerIndex.find((function(e){return e.getId()===r})))throw new Error("The layer '".concat(r,"' has not been added to the map and cannot be moved."));t=this.layerIndex.findIndex((function(e){return e.getId()===r})),this._moveMapboxLayers(this.layerIndex[t],n),e=this.layerIndex[t],this.layerIndex.splice(t,1),t=this.layerIndex.findIndex((function(e){return e.getId()===n})),-1<t?this.layerIndex.splice(t,0,e):this.layerIndex.push(e),t=this.userLayers.find((function(e){return e.layer.getId()===r})),t&&(t.before=n)},e.prototype._moveMapboxLayers=function(e,t){var r,n,i=this._getMapboxBefore(t);try{for(var o=uD(e._getLayerIds()),a=o.next();!a.done;a=o.next()){var s=a.value;this.map._getMap().moveLayer(s,i)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.getRenderedShapes=function(e,t,r){var n,i,o,a=this;if(e=e||[-180,-85.0511,180,85.0511],Array.isArray(e)?4===e.length||6===e.length?o=this.map.positionsToPixels([zl.getSouthWest(e),zl.getNorthEast(e)]):2!==e.length&&3!==e.length||(o=this.map.positionsToPixels([e])[0]):o=this.map.positionsToPixels([e.coordinates])[0],t){t=Array.isArray(t)?t:[t];var s=[],l=this;try{for(var c=uD(t),u=c.next();!u.done;u=c.next())!function(e){var t=e instanceof zc?e.getId():e;if(!(-1<(e=l.layerIndex.findIndex((function(e){return e.getId()===t})))))throw new Error("The layer '".concat(t,"' has not been added to the map ")+"and its rendered features cannot be retrieved.");s.push.apply(s,hD([],dD(l.layerIndex[e]._getLayerIds().filter((function(e){return!!a.map._getMap().getLayer(e)}))),!1))}(u.value)}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}return e=this.map._getMap().queryRenderedFeatures(o,{layers:s,filter:r}),this.map.sources._mapFeaturesToShapes(e)},e.prototype.remove=function(e){var t,r;if(Array.isArray(e))try{for(var n=uD(e),i=n.next();!i.done;i=n.next()){var o=i.value;this._removeLayer(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}else this._removeLayer(e)},e.prototype._removeLayer=function(e){var t=e instanceof zc?e.getId():e,r=this.layerIndex.findIndex((function(e){return e.getId()===t}));if(-1==r)throw new Error("The layer '".concat(t,"' has not been added to the map and cannot be removed."));var n=this.layerIndex[r];this._removeMapboxLayers(n),this.layerIndex.splice(r,1),r=this.userLayers.findIndex((function(e){return e.layer.getId()===t})),-1!=r&&this.userLayers.splice(r,1),e instanceof $c&&this.map.sources.unsetSourceState(e._getSourceId()),n.onRemove()},e}(),mD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yD=function(){function e(e){var t=this;this._onDrag=function(e){var r,n;"mousemove"===e.type?(r=e.clientX,n=e.clientY):"touchmove"===e.type&&(r=e.touches[0].clientX,n=e.touches[0].clientY),t.draggedPopups.forEach((function(e){e._dragToPixel([r,n])}))},this._onUp=function(){t.map.getMapContainer().removeEventListener("mousemove",t._onDrag),t.map.getMapContainer().removeEventListener("touchmove",t._onDrag),t.map.getMapContainer().removeEventListener("mouseup",t._onUp),t.map.getMapContainer().removeEventListener("touchend",t._onUp),t.draggedPopups.forEach((function(e){t.draggedPopups.delete(e),e._onUp()}))},this.map=e,this.popups=new Set,this.draggedPopups=new Set}return e.prototype.add=function(e){var t,r;e=Array.isArray(e)?e:[e];try{for(var n=mD(e),i=n.next();!i.done;i=n.next()){var o=i.value;this.popups.has(o)||(this.popups.add(o),o.attach(this.map))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.clear=function(){var e=this;this.popups.forEach((function(t){e.popups.delete(t),t.remove()}))},e.prototype.remove=function(e){var t,r;e=Array.isArray(e)?e:[e];try{for(var n=mD(e),i=n.next();!i.done;i=n.next()){var o=i.value;this.popups.has(o)&&(this.popups.delete(o),o.remove())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.getPopups=function(){return Array.from(this.popups)},e.prototype._getCollectionDiv=function(){var t=this.map.getMapContainer().querySelector(".".concat(e.Css.collection));return t||((t=document.createElement("div")).classList.add(e.Css.collection),t.setAttribute("aria-label","Map Information"),this.map.getMapContainer().appendChild(t)),t},e.prototype._addDraggedPopup=function(e){0===this.draggedPopups.size&&(this.map.getMapContainer().addEventListener("mousemove",this._onDrag),this.map.getMapContainer().addEventListener("touchmove",this._onDrag),this.map.getMapContainer().addEventListener("mouseup",this._onUp),this.map.getMapContainer().addEventListener("touchend",this._onUp)),this.draggedPopups.add(e)},e.Css={collection:"popup-collection-container"},e}(),fD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gD=function(){function e(e){this.map=e,this.sources=new R}return e.prototype.add=function(e,t){var r,n;if(void 0===t&&(t=!0),Array.isArray(e))try{for(var i=fD(e),o=i.next();!o.done;o=i.next()){var a=o.value;this._addSource(a,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}else this._addSource(e,t)},e.prototype.getRenderedShapes=function(e,t,r){return e="string"==typeof e?e:e.getId(),r=this.map._getMap().querySourceFeatures(e,{sourceLayer:r,filter:t}),this.map.sources._mapFeaturesToShapes(r,!0,this.sources.get(e))},e.prototype.getFeatureState=function(e,t,r){return e="string"==typeof e?e:e instanceof Nl?e.getId():e.id,t="string"==typeof t?t:t.getId(),this.map._getMap().getFeatureState({id:e,source:t,sourceLayer:r})},e.prototype.removeFeatureState=function(e,t,r,n){e="string"==typeof e?e:e instanceof Nl?e.getId():e.id,t="string"==typeof t?t:t.getId(),this.map._getMap().removeFeatureState({id:e,source:t,sourceLayer:r},n)},e.prototype.setFeatureState=function(e,t,r,n){e="string"==typeof e?e:e instanceof Nl?e.getId():e.id,t="string"==typeof t?t:t.getId(),this.map._getMap().setFeatureState({id:e,source:t,sourceLayer:n},r)},e.prototype._buildSources=function(){var e={};return this.sources.forEach((function(t){e[t.getId()]=t._buildSource()})),e},e.prototype.clear=function(){var e=this;this.sources.forEach((function(t){e.remove(t)}))},e.prototype.getById=function(e){return this.sources.get(e)},e.prototype.getSources=function(){return Array.from(this.sources.values())},e.prototype.isSourceLoaded=function(e){return e=e instanceof lc?e.getId():e,this.map._getMap().isSourceLoaded(e)},e.prototype.remove=function(e,t){var r,n;if(void 0===t&&(t=!0),Array.isArray(e))try{for(var i=fD(e),o=i.next();!o.done;o=i.next()){var a=o.value;this._removeSource(a,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}else this._removeSource(e,t)},e.prototype.setSourceState=function(e,t){void 0===t&&(t=!0),this.sources.set(e.getId(),e),e._setMap(this.map,t)},e.prototype.unsetSourceState=function(e){this.sources.has(e)&&(this.sources.get(e)._setMap(null),this.sources.delete(e))},e.prototype._removeSource=function(e,t){if(e=e instanceof lc?e.getId():e,!this.sources.has(e))throw new Error("'".concat(e,"' is not added to the map"));if(this.map._getMap().getSource(e)&&t&&this.map._getMap().removeSource(e),this.map._getMap().getSource(e)&&t)throw new Error("One or more layers have a dependency on the source '".concat(e,"'"));this.unsetSourceState(e)},e.prototype._addSource=function(e,t){if(this.sources.has(e.getId())){if(t)throw new Error("'".concat(e.getId(),"' is already added to the map"));this.unsetSourceState(e.getId())}if(t){if(!this.map._isReady())throw new Error("The source '".concat(e.getId(),"' could not be added to the map because ")+"the map is not ready. Please use a ready event listener to guarantee the map is ready before adding a source to it.");this.map._getMap().addSource(e.getId(),e._buildSource())}this.setSourceState(e)},e.prototype._mapFeaturesToShapes=function(e,t,r){var n,i,o=[];try{for(var a=fD(e),s=a.next();!s.done;s=a.next()){var l=s.value;if((r||"string"==typeof l.source)&&"string"==typeof l.properties[Nl._shapeIdPropName]){var c=r||this.sources.get(l.source);if(c instanceof dc){var u=c.getShapeById(l.properties[Nl._shapeIdPropName]);if(u instanceof Nl){o.push(u);continue}}}t||o.push(l)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},e.prototype._syncSources=function(e){var t=this;e?(Object.keys(e).map((function(t){var r,n=e[t];switch(n.type){case"vector":case"raster":case"raster-dem":r=new Cu(t,{name:t,tiles:n.tiles,type:n.type,url:n.url,tileSize:"tileSize"in n?n.tileSize:void 0});break;case"canvas":r=new gc(t,n);break;case"geojson":var i=new dc(t,{maxZoom:n.maxzoom,cluster:n.cluster,clusterRadius:n.clusterRadius,tolerance:n.tolerance,lineMetrics:n.lineMetrics,clusterProperties:n.clusterProperties,buffer:n.buffer,clusterMinPoints:n.clusterMinPoints,generateId:n.generateId,promoteId:n.promoteId,filter:n.filter});"string"!=typeof n.data&&void 0!==n.data&&i._addNoUpdate(n.data),r=i;break;case"image":r=new xc(t,n);break;case"video":r=new wc(t,n);break;default:r=new vc(t,n)}return r})).forEach((function(e){var r=t.sources.get(e.getId()),n=r&&e._isDeepEqual(r);!n&&r&&t.unsetSourceState(r.getId()),t.setSourceState(e,!n)})),Array.from(this.sources.keys()).filter((function(t){return!(t in e)})).forEach((function(e){return t.unsetSourceState(e)}))):console.warn("syncSources called with no style sources which is unexpected.")},e}(),bD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.duration=1e3,t.type="jump",t}return bD(t,e),t}(T),MD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bottom=0,t.left=0,t.right=0,t.top=0,t}return MD(t,e),t}(T),SD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_D=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},TD=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},ID=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bounds=[-180,-89,180,90],t.maxBounds=void 0,t.maxZoom=20,t.offset=new Ts(0,0),t.padding=new xD,t}return SD(t,e),t.prototype.merge=function(){for(var t,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=wD(n),a=o.next();!a.done;a=o.next()){var s=a.value;s&&"number"==typeof s.padding&&(s.padding={top:s.padding,bottom:s.padding,left:s.padding,right:s.padding})}}catch(r){t={error:r}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return e.prototype.merge.apply(this,TD([],_D(n),!1))},t}(T),CD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zoom=1,t.center=new Il(0,0),t.centerOffset=new Ts(0,0),t.bearing=0,t.pitch=0,t.minZoom=1,t.maxZoom=20,t.minPitch=0,t.maxPitch=60,t.maxBounds=void 0,t}return CD(t,e),t}(T),LD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ND=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=void 0,t.before=void 0,t.minZoom=1,t.maxZoom=20,t.overwrite=!1,t.opacity=1,t}return LD(t,e),t}(T),ZD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ED=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.color="rgba(0,0,0,.5)",t.outlineColor="#000",t.radius=1,t.outlineWidth=5,t.name="default-circles",t}return ZD(t,e),t}(ND),zD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),GD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cap="butt",t.join="miter",t.name="default-linestrings",t.color="#000",t.width=1,t}return zD(t,e),t}(ND),PD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),AD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSize=1,t.fontSize=14,t.fontColor="#000",t.textFont="SegoeUi-Regular",t.cluster=!0,t.clusterIcon=void 0,t.textOffset=[0,0],t.name="default-pins",t.icon="pin-darkblue",t.title="",t}return PD(t,e),t}(ND),RD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),DD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.color="rgba(0,0,0,.5)",t.outlineColor="#000",t.name="default-polygons",t}return RD(t,e),t}(ND),XD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),OD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="default-raster",t}return XD(t,e),t}(ND),WD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anchor="map",t.color="#FFFFFF",t.intensity=.5,t.position=[1.15,210,30],t}return WD(t,e),t}(T),YD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),FD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VD=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},HD=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},UD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.antialias=void 0,t.autoResize=!0,t.language=Rd(),t.light=new jD,t.preserveDrawingBuffer=!1,t.progressiveLoading=!1,t.progressiveLoadingInitialLayerGroups=["base"],t.renderWorldCopies=!0,t.showBuildingModels=!1,t.showFeedbackLink=!0,t.showLogo=!0,t.showLabels=!0,t.customAttribution=void 0,t.showTileBoundaries=!1,t.style=void 0,t.view=Wd(),t.userRegion=t.view,t.customStyleTransform=void 0,t}return YD(t,e),t.prototype.merge=function(){for(var t,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=FD(n),a=o.next();!a.done;a=o.next()){var s=a.value;s&&(s.hasOwnProperty("view")?s.userRegion=s.view:s.hasOwnProperty("userRegion")&&(s.view=s.userRegion),"string"==typeof s.language)&&(s.language=ad.getCode(s.language))}}catch(r){t={error:r}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return e.prototype.merge.apply(this,HD([],VD(n),!1))},t}(T),BD=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),KD=n&&n.__assign||function(){return(KD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},JD=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},QD=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},qD=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},$D=function(e){return 0==e.length?void 0:e.slice(1).reduce((function(e,t){return function(r,n){return r=e(r,n),KD(KD({},r),t(r.url,n))}}),e[0])},eX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.authOptions=Ld(),t.disableTelemetry="atlas.azure.us"===Zd(),t["disable-telemetry"]=t.disableTelemetry,t.domain=Zd(),t.staticAssetsDomain=Nd(),t.styleDefinitionsPath=Ed(),t.styleDefinitionsVersion=zd(),t.styleAPIVersion=Gd(),t.mapConfiguration=void 0,t.styleSet=void 0,t.enableAccessibility=!0,t["enable-accessibility"]=t.enableAccessibility,t.enableAccessibilityLocationFallback=!0,t.maxParallelImageRequests=Ad(),t.refreshExpiredTiles=!0,t.subscriptionKey=Xd(),t["subscription-key"]=t.subscriptionKey,t.sessionId=Dd(),t["session-id"]=t.sessionId,t._transformers=[],t.transformRequest=void 0,t.workerCount=Pd(),t.fadeDuration=300,t.localIdeographFontFamily="sans-serif",t.validateStyle=!1,t}return BD(t,e),t.prototype.merge=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.styleDefinitionsVersion;try{for(var i=JD(t),o=i.next();!o.done;o=i.next()){var a=o.value;a&&(a.authOptions?"string"==typeof a.authOptions.subscriptionKey&&(a.subscriptionKey=a["subscription-key"]=a.authOptions.subscriptionKey):"string"==typeof a.subscriptionKey?(a["subscription-key"]=a.subscriptionKey,a.authOptions={authType:td.subscriptionKey,subscriptionKey:a.subscriptionKey}):"string"==typeof a["subscription-key"]&&(a.subscriptionKey=a["subscription-key"],a.authOptions={authType:td.subscriptionKey,subscriptionKey:a["subscription-key"]}),"string"==typeof a.sessionId?a["session-id"]=a.sessionId:"string"==typeof a["session-id"]&&(a.sessionId=a["session-id"]),"boolean"==typeof a.disableTelemetry?a["disable-telemetry"]=a.disableTelemetry:"boolean"==typeof a["disable-telemetry"]&&(a.disableTelemetry=a["disable-telemetry"]),"boolean"==typeof a.enableAccessibility?a["enable-accessibility"]=a.enableAccessibility:"boolean"==typeof a["enable-accessibility"]&&(a.enableAccessibility=a["enable-accessibility"]))}}catch(t){c={error:t}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(c)throw c.error}}var s=this._transformers,l=t?t.filter((function(e){return void 0!==e})).reduce((function(e,t){return qD(qD([],QD(e),!1),QD(t._transformers||[]),!1)}),[]):[],c=e.prototype.merge.apply(this,qD([],QD(t),!1)),u=(c.authOptions.authType!==td.subscriptionKey&&(c["subscription-key"]=c.subscriptionKey=void 0),void 0!==c.styleSet&&void 0===c.mapConfiguration&&(c.mapConfiguration=c.styleSet),c.mapConfiguration&&"string"!=typeof c.mapConfiguration&&(c.mapConfiguration=KD(KD({},c.mapConfiguration),{defaultConfiguration:c.mapConfiguration.defaultConfiguration||c.mapConfiguration.defaultStyle,configurations:c.mapConfiguration.configurations||c.mapConfiguration.styles})),this._transformers=qD(qD([],QD(s||[]),!1),QD(l.filter((function(e){return!s.includes(e)}))),!1),this.transformRequest&&!this._transformers.includes(this.transformRequest)&&this._transformers.push(this.transformRequest),l=new Date(Date.UTC(2023,0)),new Date(this.styleDefinitionsVersion));return(isNaN(u.getTime())||u.getTime()<l.getTime())&&(console.warn("Style definition version ".concat(this.styleDefinitionsVersion," is invalid or deprecated, style definition version is unchanged (").concat(n,")")),this.styleDefinitionsVersion=n),this.transformRequest=$D(this._transformers),c},t.prototype.addTransformer=function(e){this._transformers||(this._transformers=[]),this._transformers.push(e),this.transformRequest=$D(this._transformers)},t.prototype.removeTransformer=function(e){this._transformers&&(this._transformers=this._transformers.filter((function(t){return e!==t})),this.transformRequest=$D(this._transformers))},t._cloneCustomizer=function(e){if("object"==typeof e)return Object.assign({},e)},t}(T),tX=function(){function e(){}return e.getLayerGroup=function(e){return"string"!=typeof e&&e.metadata&&e.metadata["microsoft.maps:layerGroup"]?e.metadata["microsoft.maps:layerGroup"]:(e="string"!=typeof e?e.id:e).startsWith("microsoft.")&&4<=(e=e.split(".")).length?e[3]:void 0},e}(),rX=function(){function e(e){var t=this;this.isHijacked=function(){return void 0!==t._hijackedToResolve||void 0!==t._hijackedToReject},this.isResolved=function(){return void 0!==t._hijackedToResolve||void 0!==t._toResolve},this.isRejected=function(){return void 0!==t._hijackedToReject||void 0!==t._toReject},this.resultIfResolved=function(){return t._hijackedToResolve||t._toResolve},this.errorIfRejected=function(){return t._hijackedToReject||t._toReject},this._thenResolver=function(e,r){var n;t._hijackedToResolve?e(t._hijackedToResolve):t._hijackedToReject?r(t._hijackedToReject):(n=t.origin,t.origin.then((function(i){t.isHijacked()||(n!==t.origin?t._thenResolver(e,r):(t._toResolve=i,e(i)))})).catch((function(i){t.isHijacked()||(n!==t.origin?t._thenResolver(e,r):(t._toReject=i,r(i)))})))},this.origin=e,this[Symbol.toStringTag]=this.origin[Symbol.toStringTag]}return e.resolve=function(t){return new e(Promise.resolve(t))},e.reject=function(t){return new e(Promise.reject(t))},e.prototype.then=function(e,t){var r=this;return new Promise((function(e,t){r._resolve=e,r._reject=t,r._thenResolver(e,t)})).then(e,t)},e.prototype.catch=function(e){var t=this;return new Promise((function(e,r){t._resolve=e,t._reject=r,t._thenResolver(e,r)})).catch(e)},e.prototype.finally=function(e){var t=this;return new Promise((function(e,r){t._resolve=e,t._reject=r,t._thenResolver(e,r)})).finally(e)},e.prototype.hijackAndResolve=function(e){this._hijackedToResolve=e,this._resolve&&this._resolve(e)},e.prototype.hijackAndReject=function(e){this._hijackedToReject=e,this._reject&&this._reject(e)},e.prototype.switchWith=function(e){this.origin=e,this._toResolve=void 0,this._toReject=void 0},e}(),nX={road:"Road",satellite:"Satellite",satellite_road_labels:"Hybrid",grayscale_dark:"Grayscale (Dark)",grayscale_light:"Grayscale (Light)",night:"Night",road_shaded_relief:"Terra",blank:"Blank",blank_accessible:"Blank (Accessible)",high_contrast_dark:"High contrast (Dark)",high_contrast_light:"High contrast (Light)"},iX=n&&n.__assign||function(){return(iX=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},oX=n&&n.__awaiter||function(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},aX=n&&n.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var c=[s,l];if(r)throw new TypeError("Generator is already executing.");for(;o=a&&c[a=0]?0:o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(l){c=[6,l],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},sX=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},lX=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},cX=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uX=function(){function e(e,t){var r=this;this.definitions=function(){return r.initPromise||r.initStyleset()},this.indoorState=void 0,this.preservedPreindoorMapConfiguration=void 0,this._progressiveLoadingState={mapStyle:void 0,pendingVisibilityChange:void 0},this._deferLayerGroupVisibilities=function(e,t){var n,i,o,a,s=t.filter((function(t){return t in e}));0!==s.length&&(n=r.map._getMap(),i=n.getZoom(),o=r.map.getStyle().style,r._progressiveLoadingState.pendingVisibilityChange&&(r.map.events.remove("load",r._progressiveLoadingState.pendingVisibilityChange),r._progressiveLoadingState.pendingVisibilityChange=null),r._progressiveLoadingState.mapStyle=o,(a=Object.entries(e).reduce((function(e,t){var r=(t=sX(t,2))[0],n=(t=t[1],s.includes(r));return lX(lX([],sX(e),!1),sX(t.filter((function(e){if("custom"===e.type)return!1;if(n)if("number"==typeof e.maxzoom&&"number"==typeof e.minzoom){if(i<=e.maxzoom&&i>=e.minzoom)return!1}else if("number"==typeof e.minzoom){if(i>=e.minzoom)return!1}else{if("number"!=typeof e.maxzoom)return!1;if(i<=e.maxzoom)return!1}return"none"!==(null==(e=e.layout)?void 0:e.visibility)}))),!1)}),[])).forEach((function(e){e.layout=e.layout||{},e.layout.visibility="none"})),r._progressiveLoadingState.pendingVisibilityChange=function(){r._progressiveLoadingState.pendingVisibilityChange=null;var e=r.map.getStyle().style;o===e&&(a.forEach((function(e){e.layout.visibility="visible",n.setLayoutProperty(e.id,"visibility","visible")})),null!=(e=r.map.copyrightDelegate))&&e.reloadAttribution()},r.map.events.addOnce("load",r._progressiveLoadingState.pendingVisibilityChange))},this._onStyleData=function(e){r.map.events.invoke("stylechanged",{style:e.name,map:r.map,type:"stylechanged"})},this._lookUp=function(e){var t,n,i=(a=r.definitions()).errorIfRejected(),o=a.resultIfResolved();if(i||!o)return null;var a=o.configurations,s=void 0;try{for(var l=cX(a),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.name===e.style)return u;u.name===o.defaultConfiguration&&(s=s||u)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s||a[0]},this._lookUpAsync=function(e){return oX(r,void 0,void 0,(function(){var t;return aX(this,(function(r){switch(r.label){case 0:return[4,this.definitions()];case 1:return[2,(t=r.sent()).configurations.find((function(r){return r.name===(e.style||t.defaultConfiguration)}))||t.configurations.find((function(e){return e.name===t.defaultConfiguration}))||t.configurations[0]]}}))}))},this.map=e,this.serviceOptions=t}return e.prototype.updateIndoorState=function(e,t){var r,n,i=this,o=this.map.styles.getMapConfiguration();o?(this.preservedPreindoorMapConfiguration=o,r=this.map.getStyle().style?"".concat(this.map.getStyle().style,"_indoor").concat("dark"===e?"_dark":"","_tileset_").concat(t):void 0,this.map.styles.setMapConfiguration("defaultIndoor_".concat(t),"microsoft-maps:default"===o?r:void 0)):(n=(null==(o=this.indoorState)?void 0:o.tilesetId)!==t,this.indoorState={tilesetId:t,theme:e},this.initStyleset(),this.definitions().then((function(e){var t=(i.map.getStyle().style||e.defaultConfiguration).replace("_indoor_dark","").replace("_indoor",""),r="".concat(t,"_indoor");t=e.configurations.find((function(e){return e.name.startsWith(r)})),t&&i.map.setStyle({style:t.name},!n)})))},e.prototype.unsetIndoorState=function(){var e=this,t=this.preservedPreindoorMapConfiguration;t?this.map.styles.setMapConfiguration(t):(this.indoorState=void 0,this.initStyleset(),this.definitions().then((function(t){var r=e.map.getStyle().style;r.includes("_indoor")&&r.split("_indoor")[0]?e.map.setStyle({style:r.split("_indoor")[0]}):e.map.setStyle({style:void 0})})))},e.prototype.initStyleset=function(){var e,t=this;return e=this.serviceOptions.mapConfiguration?"string"==typeof this.serviceOptions.mapConfiguration?(e=this.map.authentication?this.map.authentication.initialize():Promise.resolve(),new rX(e.then((function(){return t._request(t.serviceOptions.domain,"".concat(S,"/mapconfigurations/metadata/").concat(t.serviceOptions.mapConfiguration),"StyleDefinitions").then((function(e){return iX(iX({},e),{defaultConfiguration:e.defaultConfiguration||e.defaultStyle,configurations:e.configurations||e.styles})}))})))):rX.resolve(this.serviceOptions.mapConfiguration):(e=this.map.authentication?this.map.authentication.initialize():Promise.resolve(),new rX(e.then((function(){return t._request(t.serviceOptions.staticAssetsDomain,"".concat(x,"/").concat(S),"StyleDefinitions",{version:t.serviceOptions.styleDefinitionsVersion,mcv:N.replace(/\./g,"")}).then((function(e){return{version:isNaN(e.version)?0:parseFloat(e.version),defaultConfiguration:e.defaultStyle,configurations:e.styles.filter((function(e){return t.indoorState?"auto"===t.indoorState.theme?e.name.endsWith("dark"===e.theme?"_indoor_dark":"_indoor"):e.name.endsWith("dark"===t.indoorState.theme?"_indoor_dark":"_indoor"):!e.name.includes("indoor")})).map((function(r){return{copyright:r.copyright.join(" "),name:r.name,displayName:function(e){return(e=t.indoorState&&e.includes("_indoor")?e.split("_indoor")[0]:e)in nX?nX[e]:e}(r.name),theme:r.theme,thumbnail:new L({domain:t.serviceOptions.staticAssetsDomain,path:r.thumbnail,protocol:"https"}).toString(),url:new L({domain:t.serviceOptions.staticAssetsDomain,path:"".concat(x,"/").concat(S,"/").concat(r.name),queryParams:{styleVersion:void 0!==e.version&&null!==e.version?e.version:t.serviceOptions.styleDefinitionsVersion,mcv:N.replace(/\./g,"")},protocol:"https"}).toString()}}))}}))})))),this.initPromise&&this.initPromise.switchWith(e),this.initPromise=e,this.initPromise.then((function(e){return t.map._invokeEvent("mapconfigurationchanged",e)})),this.initPromise},e.prototype.getStyle=function(e){if(!(e=this._lookUp(e)))throw Error("Style definition is not available.");if(e.url)return e.url;if(e.style)return e.style;throw Error("Style definition neither contains URL nor style object.")},e.prototype.deriveNewStyleAndLayerGroups=function(e,t){for(var r,n,i=this.map.getStyle(),o=this.map.getTraffic(),a={},s=0;s<t.layers.length;s++){var l=t.layers[s],c=tX.getLayerGroup(l);c?(a[c]||(a[c]=[]),a[c].push(l),i.showBuildingModels||"fill-extrusion"!==l.type?"fill-extrusion"===l.type&&(l.layout=null!=(r=l.layout)?r:{},l.layout.visibility="visible"):(l.layout=null!=(r=l.layout)?r:{},l.layout.visibility="none"),"none"!==o.flow&&c&&c==="traffic_".concat(o.flow)&&"line"==l.type&&(l.layout=null!=(n=l.layout)?n:{},l.layout.visibility="visible"),"labels"!==c&&"labels_places"!==c&&"labels_indoor"!==c||"symbol"!==l.type||(i.showLabels&&"none"!==(null==(n=l.layout)?void 0:n.visibility)?(l.layout=null!=(c=l.layout)?c:{},l.layout.visibility="visible"):(l.layout=null!=(c=l.layout)?c:{},l.layout.visibility="none"))):a[l.id]=[l]}return[t,a]},e.prototype.injectUserLayersIntoStyle=function(e,t,r){return e?this.map.layers._getUserLayers().reduce((function(n,i){var o,a,s,l;return i.layer instanceof Ru||(o=(null==(a=null==(a=null==r?void 0:r[i.before])?void 0:a[0])?void 0:a.id)||i.before,a=e.layers.find((function(e){return e.id===i.layer.getId()})),-1<(s=t.layers.findIndex((function(e){return e.id===i.layer.getId()})))&&t.layers.splice(s,1),a&&(s=new Set(Array.from(i.layer._getSourceIds()).map((function(t){return e.sources[t]?{source:e.sources[t],id:t}:void 0})).filter((function(e){return void 0!==e}))),-1<(l=o?n.layers.findIndex((function(e){return e.id===o})):-1)?n.layers.splice(l,0,a):n.layers.push(a),s.forEach((function(e){var t=e.source;e=e.id,n.sources[e]=t})))),n}),iX({},t)):t},e.prototype.setStyle=function(e,t){var r=this,n=(void 0===t&&(t=!0),this._lookUp(e));if(!n)throw Error("Style definition ".concat(e.style," is not available."));if(!n.url&&!n.style)throw Error("Style definition neither contains URL nor style object.");var i=function(){return r._onStyleData(n)},o=function(){r.map.events.remove("styledata",i),r.map.events.addOnce("styledata",i)},a=e&&e.customStyleTransform?function(t,r){return t=e.customStyleTransform(t,r),o(),t}:function(t,n){var i=iX(iX({},n),{layers:lX([],sX(n.layers),!1),sources:iX({},n.sources)}),a=(i=((a=e.progressiveLoading&&!r.map._isLoaded())&&Array.isArray(null==n?void 0:n.layers)&&((i=iX({},n)).layers=i.layers.map((function(e){var t=iX({},e);return e.layout&&(t.layout=iX({},e.layout)),t}))),n=sX(r.deriveNewStyleAndLayerGroups(t,i),2))[0],n=n[1],a&&(a=e.progressiveLoadingInitialLayerGroups,Array.isArray(a))&&0<a.length&&r._deferLayerGroupVisibilities(n,a),r.injectUserLayersIntoStyle(t,i,n));return t=Object.entries(n).map((function(e){var t=(e=sX(e,2))[0];return e=e[1],r._buildFundamentalLayerFrom(e,t)})),i=r.map.layers._getUserLayers().reduce((function(e,t){var r=t.before?e.findIndex((function(e){return e.getId()===t.before})):-1;return-1<r?e.splice(r,0,t.layer):e.push(t.layer),e}),t),r.map.layers.layerIndex=i,r.map.sources._syncSources(a.sources),o(),a};this.map._getMap().setStyle(n.url||n.style,{diff:t,validate:this.serviceOptions.validateStyle,transformStyle:a})},e.prototype.getTheme=function(e){if(e=this._lookUp(e))return e.theme.toLowerCase()},e.prototype.getThemeAsync=function(e){return oX(this,void 0,void 0,(function(){return aX(this,(function(t){switch(t.label){case 0:return[4,this._lookUpAsync(e)];case 1:return[2,t.sent().theme]}}))}))},e.prototype.setMapConfiguration=function(e,t){var r=this;"string"==typeof(this.serviceOptions.mapConfiguration=e)?this.initStyleset():this.initPromise?this.initPromise.hijackAndResolve(e):this.initPromise=rX.resolve(e),this.definitions().then((function(e){var n=e.defaultConfiguration;e.configurations.find((function(e){return e.name===t}))&&(n=t),r.map.setStyle({style:n})}))},e.prototype.getMapConfiguration=function(){return this.serviceOptions.mapConfiguration},e.prototype.setStyleSet=function(e){this.updateIndoorState("indoor_dark"===e?"dark":"light",null)},e.prototype.getStyleSet=function(){return void 0!==this.indoorState?"dark"===this.indoorState.theme?"indoor_dark":"indoor":"base"},e.prototype.clearStyleSet=function(){this.unsetIndoorState()},e.prototype._buildFundamentalLayerFrom=function(e,t){if(e&&0<e.length)return(e=new cD(e,t)).onAdd(this.map),e;throw new Error("Unable to construct fundamental map layer for ID: ".concat(t,"."))},e.prototype._transformStyleRequest=function(e,t){e.includes(y)&&(t.url=t.url.replace(y,this.serviceOptions.domain)),e.includes(v)&&(t.url=t.url.replace(v,x)),e.includes(M)&&(t.url=t.url.replace(M,S)),(t.url.toLocaleLowerCase().includes(this.serviceOptions.domain.toLocaleLowerCase())||t.url.toLocaleLowerCase().includes(this.serviceOptions.staticAssetsDomain.toLocaleLowerCase()))&&((e=new URL(t.url)).searchParams.get(p)||(e.searchParams.set(p,this.serviceOptions.styleAPIVersion),t.url=e.href),null!=(e=this.map.authentication)&&e.signRequest(t),this._deleteAuthTokenForStaticAssets(t))},e.prototype._request=function(e,t,r,n){var i;return void 0===n&&(n={}),oX(this,void 0,void 0,(function(){var o,a;return aX(this,(function(s){switch(s.label){case 0:return a={url:new L({protocol:"https",domain:e,path:t,queryParams:iX(((a={})[p]=this.serviceOptions.styleAPIVersion,a),n)}).toString()},"function"==typeof this.serviceOptions.transformRequest&&r&&(a=this.serviceOptions.transformRequest(a.url,r)),null!=(i=this.map.authentication)&&i.signRequest(a),this._deleteAuthTokenForStaticAssets(a),o={method:"GET",mode:"cors"},a.credentials&&(o.credentials=a.credentials),a.headers&&(o.headers=a.headers),[4,fetch(a.url,o).then((function(e){if(e.ok)return e.json();throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText," "))}))];case 1:return[2,s.sent()]}}))}))},e.prototype._deleteAuthTokenForStaticAssets=function(e){e.url.startsWith("https://".concat(this.serviceOptions.staticAssetsDomain,"/").concat(x))&&(delete e.headers[w],delete e.headers[m])},e}(),dX=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hX=function(){function e(e){this.map=e,this.indicators=new Set}return e.prototype.add=function(e){var t,r;e=Array.isArray(e)?e:[e];try{for(var n=dX(e),i=n.next();!i.done;i=n.next()){var o=i.value;this.indicators.has(o)||(this.indicators.add(o),o.attach(this.map))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.clear=function(){var e=this;this.indicators.forEach((function(t){e.indicators.delete(t),t.remove()}))},e.prototype.remove=function(e){var t,r;e=Array.isArray(e)?e:[e];try{for(var n=dX(e),i=n.next();!i.done;i=n.next()){var o=i.value;this.indicators.has(o)&&(this.indicators.delete(o),o.remove())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.getIndicators=function(){return Array.from(this.indicators)},e.prototype._getCollectionDiv=function(){var t=this.map.getMapContainer().querySelector(".".concat(e.Css.collection));return t||((t=document.createElement("div")).setAttribute("aria-label","map data"),t.setAttribute("role","listbox"),t.classList.add(e.Css.collection),this.map.getMapContainer().appendChild(t)),t},e.Css={collection:"accessible-indicator-collection-container"},e}(),pX=n&&n.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mX=n&&n.__assign||function(){return(mX=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},yX=n&&n.__awaiter||function(e,t,r,n){return new(r=r||Promise)((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},fX=n&&n.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var c=[s,l];if(r)throw new TypeError("Generator is already executing.");for(;o=a&&c[a=0]?0:o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(l){c=[6,l],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},gX=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},bX=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},vX=n&&n.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MX=function(e){function t(r,i){var o,a,l=e.call(this)||this,c=(l.removed=!1,l.loaded=!1,l.ready=!1,l._windowResizeCallback=function(){return l.resize()},!0);l._updateGlobalDefaults(i),l.serviceOptions=(new eX).merge(i),l.styleOptions=(new UD).merge(i),l.trafficOptions=new Ca,l.styles=new uX(l,l.serviceOptions),l.insights=new JL(l.serviceOptions),l.serviceOptions.authOptions.subscriptionKey&&(l.serviceOptions.authOptions.subscriptionKey=encodeURIComponent(l.serviceOptions.authOptions.subscriptionKey)),o=l.serviceOptions.authOptions.clientId||(l.serviceOptions.authOptions.subscriptionKey?l.serviceOptions.authOptions.subscriptionKey.replace(/.(?=.{3,}$)/g,"*"):"invalid-setting"),l.insights&&l.insights.setAuthenticatedUserContext(l.serviceOptions.sessionId,o),arguments[2]&&"ENVIRONMENT"in n&&n.ENVIRONMENT.hmr?(a=arguments[2],l.ready=!0,l.loaded=!0):(o={antialias:l.styleOptions.antialias,attributionControl:!1,container:r,fadeDuration:l.serviceOptions.fadeDuration,localIdeographFontFamily:l.serviceOptions.localIdeographFontFamily,preserveDrawingBuffer:l.styleOptions.preserveDrawingBuffer,refreshExpiredTiles:l.serviceOptions.refreshExpiredTiles,renderWorldCopies:l.styleOptions.renderWorldCopies,trackResize:!1,transformRequest:function(e,t){var r={url:e};return"Tile"===t||"Source"===t?(e.includes(f)&&l.insights&&l.insights.trackEvent({name:"TileLoad"}),l._substituteDomainLanguageViewAndSignInRequest(e,r)):"Style"!==t&&"SpriteJSON"!==t&&"SpriteImage"!==t&&"Glyphs"!==t||l.styles._transformStyleRequest(e,r),l.serviceOptions.transformRequest&&ba(r,l.serviceOptions.transformRequest(r.url,t)),r}},a=new d.Map(o));try{l.map=a,l.authentication=new KR(l),l.controls=new QR(l),l.events=new nD(l),l.imageSprite=new aD(l),l.layers=new pD(l),l.markers=new oD(l),l.sources=new gD(l),l.popups=new yD(l),l.indicators=new hX(l),l.map.getContainer().classList.add(t.Css.container),l.map.getCanvasContainer().classList.add(t.Css.canvasContainer),l.map.getCanvas().classList.add(t.Css.canvas),l._detectHighContrast(),l.copyrightControl=new eN({showFeedbackLink:l.styleOptions.showFeedbackLink,showLogo:l.styleOptions.showLogo,customAttribution:l.styleOptions.customAttribution}),l.controls.add(l.copyrightControl,{position:s.NonFixed});var u=l.authentication?l.authentication.initialize():Promise.resolve();if(l.removed)return l;var h=function(){l.loaded=!0,l.map.off("load",h)},p=(l.map.on("load",h),function(){l.ready=!0,l.map.off("styledata",p),l.events.invoke("ready",{map:l,type:"ready"})});l.map.on("styledata",p),l._setAutoResize(l.styleOptions.autoResize),l.map.showTileBoundaries=l.styleOptions.showTileBoundaries,l.localizedStringsPromise=ad.getStrings(l.styleOptions.language),u.then((function(){return l.styles.definitions()})).then((function(e){if(!l.removed){if(l.authentication&&!l.authentication.getToken())throw new Error("AuthenticationManager finished initializing, but no token is available");l.serviceOptions["enable-accessibility"]&&l.accessibleMapDelegate.addToMap(),l._setStyleComponents(l.styleOptions),l.copyrightDelegate&&l.copyrightDelegate.addToMap()}})).catch((function(e){e=e instanceof Error?e:new Error(e),l.insights.trackException({error:e}),e={map:l,type:"error",error:e},l.events.invoke("error",e)})),l.setCamera(mX(mX({minZoom:1},i),{type:"jump",duration:0})),l.incidentDelegate=new gN(l),l.flowDelegate=new dN(l),l.accessibleMapDelegate=new uN(l),l.userInteractionDelegate=new SN(l,i),l.userInteractionDelegate.addToMap(),l.copyrightDelegate=new XN(l,l.copyrightControl,l.styleOptions)}catch(r){throw c=!1,l.insights.trackException({error:r instanceof Error?r:new Error(r)}),r}finally{l.insights.trackEvent({name:"MapLoad"},{success:c,supported:qu(),supportedWithPerformance:qu({failIfMajorPerformanceCaveat:!0})}),l.insights.flush()}return l}return pX(t,e),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.removed},enumerable:!1,configurable:!0}),t.prototype.getCanvas=function(){return this.map.getCanvas()},t.prototype.getCanvasContainer=function(){return this.map.getCanvasContainer()},t.prototype.getMapContainer=function(){return this.map.getContainer()},t.prototype.getServiceOptions=function(){return nc(this.serviceOptions,eX._cloneCustomizer)},t.prototype.setServiceOptions=function(e){this.serviceOptions=(new eX).merge(this.serviceOptions,e),this.serviceOptions["enable-accessibility"]?this.accessibleMapDelegate.addToMap():this.accessibleMapDelegate.removeFromMap(),e=this.styles.serviceOptions.mapConfiguration!==this.serviceOptions.mapConfiguration||this.styles.serviceOptions.staticAssetsDomain!==this.serviceOptions.staticAssetsDomain||this.styles.serviceOptions.styleDefinitionsVersion!==this.serviceOptions.styleDefinitionsVersion||this.styles.serviceOptions.domain!==this.serviceOptions.domain||this.styles.serviceOptions.styleAPIVersion!==this.serviceOptions.styleAPIVersion,this.styles.serviceOptions=this.serviceOptions,e&&(this.styles.initPromise=null,this.setStyle({}))},t.prototype.addRequestTransformer=function(e){this.serviceOptions.addTransformer(e)},t.prototype.removeRequestTransformer=function(e){this.serviceOptions.removeTransformer(e)},t.prototype.setCamera=function(e,t){if(void 0===t&&(t=!1),"padding"in e||"offset"in e||"bounds"in e){var r,n=(new ID).merge({maxZoom:this.getCamera().maxZoom},e),i=this._generateSafeBounds(n.bounds),o={padding:n.padding,offset:n.offset,maxZoom:n.maxZoom};if(!(r=this.map.cameraForBounds(i,o)))throw a={message:"The map cannot be fit to the current canvas with the given CameraBoundsOptions.",containerWidth:null==(a=null==(a=this.map)?void 0:a.getContainer())?void 0:a.clientWidth,containerHeight:null==a?void 0:a.clientHeight,safeBounds:i,cameraForBoundsOptions:o},new Error(JSON.stringify(a));"pitch"in e&&(r.pitch=e.pitch),"bearing"in e&&(r.bearing=e.bearing),"minPitch"in e&&this.map.setMinPitch(e.minPitch),"maxPitch"in e&&this.map.setMaxPitch(e.maxPitch),this.map.setMaxZoom(n.maxZoom),this._invokeEvent("maxzoomchanged",this.map.getMaxZoom()),i=this._generateSafeBounds(n.maxBounds)}else(o=(new kD).merge(this.getCamera(),e)).centerOffset&&2<=o.centerOffset.length&&(a=o.centerOffset,(n=hl([o.center],o.zoom))[0][0]+=a[0],n[0][1]+=a[1],o.center=dl(n,o.zoom)[0]),r={center:o.center,zoom:o.zoom,bearing:o.bearing,pitch:o.pitch,around:void 0},this.map.setMinZoom(o.minZoom),this.map.setMaxZoom(o.maxZoom),o.minPitch&&this.map.setMinPitch(o.minPitch),o.maxPitch&&this.map.setMaxPitch(o.maxPitch),this._invokeEvent("minzoomchanged",this.map.getMinZoom()),this._invokeEvent("maxzoomchanged",this.map.getMaxZoom()),i=this._generateSafeBounds(o.maxBounds);i?this.map.setMaxBounds(i):this.map.setMaxBounds(null);var a=(new vD).merge(e);n={duration:a.duration,easing:function(e){return e},offset:[0,0],animate:!0},o={fromControl:t},"jump"===a.type?this.map.jumpTo(r,o):"ease"===a.type?this.map.easeTo(mX(mX({},r),n),o):"fly"===a.type&&this.map.flyTo(mX(mX({},r),n),o)},t.prototype.setCameraBounds=function(e){this.setCamera(e)},t.prototype.getCamera=function(){var e=this.map.getBounds().getSouthWest().toArray(),t=this.map.getBounds().getNorthEast().toArray();return{zoom:this.map.getZoom(),center:this.map.getCenter().toArray(),bearing:this.map.getBearing(),pitch:this.map.getPitch(),bounds:new zl(e,t),minZoom:this.map.getMinZoom(),maxZoom:this.map.getMaxZoom()}},t.prototype.setStyle=function(e,t){void 0===t&&(t=!0),delete e.preserveDrawingBuffer,(e=(new UD).merge(this.styleOptions,e)).autoResize!==this.styleOptions.autoResize&&this._setAutoResize(e.autoResize),e.language!==this.styleOptions.language&&(this.localizedStringsPromise=ad.getStrings(e.language)),e.renderWorldCopies!==this.styleOptions.renderWorldCopies&&this.map.setRenderWorldCopies(e.renderWorldCopies),e.showFeedbackLink!==this.styleOptions.showFeedbackLink&&this.copyrightControl.setOptions({showFeedbackLink:e.showFeedbackLink}),e.customAttribution!==this.styleOptions.customAttribution&&this.copyrightControl.setOptions({customAttribution:e.customAttribution}),e.showLogo!==this.styleOptions.showLogo&&this.copyrightControl.setOptions({showLogo:e.showLogo}),e.showTileBoundaries!==this.styleOptions.showTileBoundaries&&(this.map.showTileBoundaries=e.showTileBoundaries),e.showBuildingModels&&console.warn("showBuildingModels is deprecated."),t=t&&this.styleOptions.language===e.language&&this.styleOptions.view===e.view,this.styleOptions=e,this._setStyleComponents(e,t)},t.prototype.getStyle=function(){return lo(this.styleOptions)},t.prototype.addIcon=function(e,t){this.imageSprite.add(e,t)},t.prototype.addPins=function(e,t){t=(new AD).merge(t);var r=this.layers.getLayerById(t.name),n=!1;if(r||(n=!0,r=new _u("".concat(t.name,"-source"),t.name,{source:"".concat(t.name,"-source"),minZoom:t.minZoom,maxZoom:t.maxZoom,iconOptions:{anchor:"center",size:t.iconSize,image:["case",["has","icon"],["get","icon"],t.icon],ignorePlacement:!t.cluster,opacity:t.opacity},textOptions:{anchor:"center",textField:["case",["has","point_count"],["to-string",["get","point_count"]],["has","title"],["to-string",["get","title"]],t.title],font:["case",["has","point_count"],["literal",["StandardFontCondensed-Bold"]],["literal",[t.textFont]]],size:["case",["has","point_count"],20,t.fontSize],ignorePlacement:!t.cluster,opacity:t.opacity,offset:["case",["has","point_count"],["literal",[.5,-.45]],["literal",[t.textOffset[0]/16,t.textOffset[1]/16]]],color:t.fontColor}})),!(r instanceof _u))throw new Error("A layer with name '".concat(t.name,"' already exists but it is not a SymbolLayer.")+"A SymbolLayer should be used for rendering pins.");var i=r.getSource(),o=("string"==typeof i?(a=i,i=this.sources.getById(a)):a=i.getId(),!1);if(i||(o=!0,i=new dc(a,{cluster:t.cluster})),!(i instanceof dc))throw new Error("The source with name '".concat(a,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");o&&this.sources.add(i),n&&this.layers.add(r,t.before);var a=new Gl(e);t.overwrite?i.setShapes(a):i.add(a)},t.prototype.addCircles=function(e,t){t=(new ED).merge(t);var r=this.layers.getLayerById(t.name),n=!1;if(r||(n=!0,r=new Yc("".concat(t.name,"-source"),t.name,{source:"".concat(t.name,"-source"),minZoom:t.minZoom,maxZoom:t.maxZoom,opacity:t.opacity,radius:["case",["has","radius"],["get","radius"],t.radius],color:["case",["has","color"],["get","color"],t.color],strokeColor:["case",["has","outlineColor"],["get","outlineColor"],t.outlineColor],strokeWidth:["case",["has","outlineWidth"],["get","outlineWidth"],t.outlineWidth]})),!(r instanceof Yc))throw new Error("A layer with name '".concat(t.name,"' already exists but it is not a BubbleLayer.")+"A BubbleLayer should be used for rendering circles.");var i=r.getSource(),o=("string"==typeof i?(a=i,i=this.sources.getById(a)):a=i.getId(),!1);if(i||(o=!0,i=new dc(a)),!(i instanceof dc))throw new Error("The source with name '".concat(a,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");o&&this.sources.add(i),n&&this.layers.add(r,t.before);var a=new Gl(e);t.overwrite?i.setShapes(a):i.add(a)},t.prototype.addLinestrings=function(e,t){t=(new GD).merge(t);var r=this.layers.getLayerById(t.name),n=!1;if(r||(n=!0,r=new au("".concat(t.name,"-source"),t.name,{source:"".concat(t.name,"-source"),minZoom:t.minZoom,maxZoom:t.maxZoom,lineCap:t.cap,lineJoin:t.join,strokeOpacity:t.opacity,strokeColor:["case",["has","color"],["get","color"],t.color],strokeWidth:["case",["has","width"],["get","width"],t.width]})),!(r instanceof au))throw new Error("A layer with name '".concat(t.name,"' already exists but it is not a LineLayer.")+"A LineLayer should be used for rendering linestrings.");var i=r.getSource(),o=("string"==typeof i?(a=i,i=this.sources.getById(a)):a=i.getId(),!1);if(i||(o=!0,i=new dc(a)),!(i instanceof dc))throw new Error("The source with name '".concat(a,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");o&&this.sources.add(i),n&&this.layers.add(r,t.before);var a=new Gl(e);t.overwrite?i.setShapes(a):i.add(a)},t.prototype.addPolygons=function(e,t){t=(new DD).merge(t);var r=this.layers.getLayerById(t.name),n=!1;if(r||(n=!0,r=new yu("".concat(t.name,"-source"),t.name,{source:"".concat(t.name,"-source"),minZoom:t.minZoom,maxZoom:t.maxZoom,fillOpacity:t.opacity,fillColor:["case",["has","color"],["get","color"],t.color]})),!(r instanceof yu))throw new Error("A layer with name '".concat(t.name,"' already exists but it is not a PolygonLayer.")+"A PolygonLayer should be used for rendering linestrings.");var i=r.getSource(),o=("string"==typeof i?(a=i,i=this.sources.getById(a)):a=i.getId(),!1);if(i||(o=!0,i=new dc(a)),!(i instanceof dc))throw new Error("The source with name '".concat(a,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");o&&this.sources.add(i),n&&this.layers.add(r,t.before);var a=new Gl(e);t.overwrite?i.setShapes(a):i.add(a)},t.prototype.addRaster=function(e,t){t=(new OD).merge(t);var r,n=this.layers.getLayerById(t.name);if(!((n=n||new zu({maxZoom:t.maxZoom,minZoom:t.minZoom,opacity:t.opacity,tileSize:256,tileUrl:"{subdomain}"},t.name))instanceof zu))throw new Error("A layer with name '".concat(t.name,"' already exists but it is not a TileLayer.")+"A TileLayer should be used for rendering raster images.");if("{subdomain}"!==n.getOptions().tileUrl)throw new Error("A TileLayer with name '".concat(t.name,"' already exists but was configured ")+"for a single tile url [default for new TileLayer(...)].");(r=!t.overwrite&&n.getOptions().subdomains||[]).push.apply(r,bX([],gX(e),!1)),n._setOptionsNoUpdate({subdomains:r}),this.layers.add(n,t.before)},t.prototype.getLayers=function(){return this.layers.getLayers().map((function(e){return e.getId()}))},t.prototype.removeLayers=function(e){var t,r;try{for(var n=vX(e),i=n.next();!i.done;i=n.next()){var o,a=i.value;this.layers.getLayerById(a)&&(this.layers.remove(a),o="".concat(a,"-source"),this.sources.getById(o))&&this.sources.remove(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},t.prototype.addHtml=function(e,t){e.id||(e.id="marker_".concat(Ss()));var r=new Qu({htmlContent:e});return this.markers.add(r,t),e.id},t.prototype.removeHtml=function(e){this.markers.remove(e)},t.prototype.addEventListener=function(e,t,r){this.events._addLegacy(e,t,r)},t.prototype.removeEventListener=function(e,t,r){this.events._removeLegacy(e,t,r)},t.prototype.setUserInteraction=function(e){this.userInteractionDelegate.setOptions(e)},t.prototype.getUserInteraction=function(){return this.userInteractionDelegate.getOptions()},t.prototype.addControl=function(e,t){this.controls.add(e,t)},t.prototype.removeControl=function(e){this.controls.remove(e)},t.prototype.setTraffic=function(e){var t=this.trafficOptions.incidents,r=this.trafficOptions.flow;if(this.trafficOptions=(new Ca).merge(this.trafficOptions,e),this.controls.getControls().filter((function(e){return e instanceof Za})).forEach((function(e){return e.updateButtonState()})),this.incidentDelegate&&(this.trafficOptions.incidents?t||this.incidentDelegate.addToMap():this.incidentDelegate.removeFromMap()),this.trafficOptions.flow&&"none"!==this.trafficOptions.flow){["absolute","relative-delay"].includes(this.trafficOptions.flow)&&console.warn("The 'absolute' and 'relative-delay' flow options are deprecated. Please use 'relative' instead.");try{this.trafficOptions.flow!==r&&this.flowDelegate.addToMap()}catch(e){throw this.trafficOptions.flow=r,e}}else this.flowDelegate.removeFromMap()},t.prototype.getTraffic=function(){return lo(this.trafficOptions)},t.prototype.remove=function(){this.dispose()},t.prototype.clear=function(){this.popups.clear(),this.layers.clear(),this.sources.clear(),this.markers.clear(),this.indicators.clear()},t.prototype.dispose=function(){var e;for(this.clear(),this.map.remove(),null!=(e=this.authentication)&&e.dispose(),this.removed=!0,n.removeEventListener("resize",this._windowResizeCallback);this.getMapContainer().firstChild;){var t=this.getMapContainer().firstChild;this.getMapContainer().removeChild(t)}},t.prototype.resize=function(e,t,r){"number"!=typeof e&&"string"!=typeof e||"number"!=typeof t&&"string"!=typeof t?r=e:(this.getMapContainer().style.height="number"==typeof e?"".concat(e,"px"):e,this.getMapContainer().style.width="number"==typeof t?"".concat(t,"px"):t),e=this.getMapContainer().style.overflow,this.getMapContainer().style.overflow="hidden",this.map.resize(r),this.getMapContainer().style.overflow=e},t.prototype.pixelsToPositions=function(e){var t,r,n=[];try{for(var i=vX(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.map.unproject(a);n.push(new Il(s.lng,s.lat))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},t.prototype.positionsToPixels=function(e){var t,r,n=[];try{for(var i=vX(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.map.project(a);n.push(new Ts(s.x,s.y))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},t.prototype.areTilesLoaded=function(){return this.map.areTilesLoaded()},t.prototype.stop=function(){this.map.stop()},t.prototype.triggerRepaint=function(){this.map.triggerRepaint()},t.prototype.enableElevation=function(e,t){this.map.setTerrain("string"==typeof e?{source:e,exaggeration:t}:{source:e.getId(),exaggeration:t})},t.prototype.disableElevation=function(){this.map.setTerrain(null)},t.prototype._getMap=function(){return this.map},t.prototype._rebuildStyle=function(e){return void 0===e&&(e=!0),yX(this,void 0,void 0,(function(){return fX(this,(function(t){return this.styles.setStyle(this.styleOptions,e),this.imageSprite._restoreImages(),[2]}))}))},t.prototype._isLoaded=function(){return this.loaded},t.prototype._isReady=function(){return this.ready},t.prototype._getLocalizedStrings=function(){return this.localizedStringsPromise},t.prototype._sendRequest=function(e,t,r){var n;return(n="function"==typeof this.serviceOptions.transformRequest?this.serviceOptions.transformRequest(e,t):n)?fetch(n.url||e,{credentials:n.credentials,headers:mX(mX({},r),n.headers),method:"GET",mode:"cors"}):fetch(e,{headers:r,method:"GET",mode:"cors"})},t.prototype._substituteDomainLanguageViewAndSignInRequest=function(e,t){var r;(e.includes(f)||e.includes(y))&&(r=new RegExp("[^{]".concat(f,"[^}]")),e.match(r)&&(t.url=t.url.replace(f,y)),L.protoRegEx.test(this.serviceOptions.domain)?(r=t.url.indexOf(y),t.url=this.serviceOptions.domain+t.url.substring(r+16)):t.url=t.url.replace(y,this.serviceOptions.domain)),(t.url.toLocaleLowerCase().includes(this.serviceOptions.domain.toLocaleLowerCase())||t.url.toLocaleLowerCase().includes(this.serviceOptions.staticAssetsDomain.toLocaleLowerCase()))&&null!=(r=this.authentication)&&r.signRequest(t),e.includes(b)&&(t.url=t.url.replace(b,this.styleOptions.language)),e.includes(g)&&(t.url=this.styleOptions.view?t.url.replace(g,this.styleOptions.view):t.url.replace(g,"").replace("&".concat("view","="),""))},t.prototype._setAutoResize=function(e){e?n.addEventListener("resize",this._windowResizeCallback):n.removeEventListener("resize",this._windowResizeCallback)},t.prototype._setStyleComponents=function(e,t){var r=this;void 0===t&&(t=!0),this.removed||this.styles.definitions().then((function(n){var i,o,a=!0;if(r.styleOptions.style)try{for(var s=vX(n.configurations),l=s.next();!l.done;l=s.next()){var c=l.value;if(r.styleOptions.style===c.name){a=!1;break}}}catch(n){i={error:n}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a&&(r.styleOptions.style=n.defaultConfiguration),r.styleOptions=e,r._rebuildStyle(t)}))},t.prototype._updateGlobalDefaults=function(e){e&&(e.authOptions&&!sh()&&Fd(e.authOptions),e.domain&&!lh()&&Vd(e.domain),e.styleDefinitionsPath&&!ch()&&Hd(e.styleDefinitionsPath),e.workerCount&&!dh()&&Kd(e.workerCount),e.maxParallelImageRequests&&!hh()&&Jd(e.maxParallelImageRequests),!e.subscriptionKey&&!e["subscription-key"]||sh()||$d(e.subscriptionKey||e["subscription-key"]),!e.sessionId&&!e["session-id"]||mh()||qd(e.sessionId||e["session-id"]),e.language&&!ph()&&Qd(e.language),!e.userRegion&&!e.view||yh()||eh(e.userRegion||e.view))},t.prototype._generateSafeBounds=function(e){if(e){var t=zl.getSouth(e),r=zl.getWest(e),n=zl.getNorth(e),i=zl.getEast(e);if(!(isFinite(t)&&isFinite(r)&&isFinite(n)&&isFinite(i)))throw new Error("The bounds specified are invalid: [".concat(e,"]"));for(;i<r;)i+=360;return new zl([r,t,i,n])}return e},t.prototype._detectHighContrast=function(){var e,r;switch(vh.getHighContrastMode()){case"invert":case"light":e=t.Css.hcLight,r="high_contrast_light";break;case"dark":e=t.Css.hcDark,r="high_contrast_dark"}e&&this.map.getContainer().classList.add(e),r&&"road"===this.styleOptions.style&&(this.styleOptions.style=r)},t.Css={canvasContainer:"atlas-map-canvas-container",canvas:"atlas-map-canvas",container:"atlas-map",hcDark:"high-contrast-dark",hcLight:"high-contrast-light"},t}(D),xX=n&&n.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},SX=n&&n.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},wX=function(){function e(){this.detectHyperlinks=!0,this.parsePropertyPaths=!0}return e.applyTemplate=function(t,r){var n,i,o,a=this,s=document.createElement("div");return s.classList.add(e.Css.template),t&&("boolean"!=typeof(r=r||{}).singleDescription&&(r.singleDescription=!0),r.sandboxContent="boolean"!=typeof r.sandboxContent||r.sandboxContent,r.title&&"string"==typeof r.content&&(r.content.includes("{title}")||r.content.includes("{name}"))||(t.title?r.title="{title}":t.name&&(r.title="{name}")),"boolean"!=typeof r.detectHyperlinks&&(r.detectHyperlinks=!0),"boolean"!=typeof r.parsePropertyPaths&&(r.parsePropertyPaths=!0),r.textColor&&(s.style.color=r.textColor),r.fillColor&&(s.style.backgroundColor=r.fillColor),r.title&&((o=this._applyStringTemplate(t,r.title,r)).innerText=o.textContent||o.innerText||"",this._appendChild(s,o,e.Css.title)),(n=document.createElement("div")).classList.add(e.Css.content),Array.isArray(r.content)?0<r.content.length&&r.content[0].propertyPath?this._appendChild(n,this._generateContent(t,r.content,r),e.Css.item):r.content.forEach((function(i){a._appendChild(n,a._generateContent(t,i,r),e.Css.item)})):(i=0,o=void(t.description&&Object.keys(t).forEach((function(e){a._ignoreProperty(e,t[e])||i++}))),1===i||r.singleDescription&&t.description||2===i&&t.Snippet?(o=document.createElement("div")).innerHTML=t.description:o=this._generateContent(t,r.content,r),this._appendChild(n,o,e.Css.item)),""!==n.innerHTML)&&(r.sandboxContent?s.appendChild(e._createSandboxedIframe(n,r)):s.appendChild(n)),s},e._createSandboxedIframe=function(t,r){var n=document.createElement("iframe"),i=(n.sandbox.add("allow-popups"),t=t.innerHTML,!1),o=100,a=550,s=10,l=(document.body.scrollWidth<=340&&(a=300,o=50),t.split(/<(tr|div|br|li|h[0-9]|p>)/)),c=Math.max.apply(Math,SX([],xX(l.map((function(e){return e.replace(/<[a-zA-Z0-9\s=\/]+>/g,"").length}))),!1))-1,u=Math.ceil(3.5*c);return u<a&&(a=u,o=c),t.includes("<img")||t.includes("<video")?(i=!0,n.width="550px"):(u=-1<t.indexOf(e.Css.table)?25:20,s+=Math.max(.5*l.length*u,Math.ceil(t.replace(/<[a-zA-Z0-9\s=\/]+>/g,"").length/o)*u)),n.width=a+"px",n.height=i||280<s?"280px":s+"px",c=r.textColor?"color:".concat(r.textColor,";"):"",l=r.fillColor?"background-color:".concat(r.fillColor,";"):"",o='<html><head><title></title><meta charset="utf-8" /><meta http-equiv="x-ua-compatible" content="IE=Edge" />'+'<link rel="stylesheet" href="'.concat(e._cssUrl,'" type="text/css"/>')+"<style>html, body{margin:0;padding:0;".concat(c).concat(l,"}</style></head>")+'<body><div class="'.concat(e.Css.template,'" style="padding:0;width:').concat(a-20,'px">').concat(t,"</div></body></html>"),void 0===n.srcdoc?n.src="data:text/html;charset=utf-8,"+encodeURI(o):n.srcdoc=o,n},e._appendChild=function(e,t,r){t&&(r&&(t.className=(t.className?t.className+" ":"")+r),e.appendChild(t))},e._generateContent=function(e,t,r){return t?Array.isArray(t)?this._generatePropertyInfoTable(e,t,r):this._applyStringTemplate(e,t,r):(t=this._generateDynamicTableHtml(e,null,r))?((e=document.createElement("div")).innerHTML=t,e):null},e._applyStringTemplate=function(e,t,r){if(t){for(var n,i,o=t,a=this._placeholderRx.exec(t);a;)2<=a.length&&(n=this._getPropertyValue(e,a[1],r),o=o.replace(a[0],n)),a=this._placeholderRx.exec(t);if(o)return(o=o.trim()).includes("<")&&(o=o.replace(/[\r\n]+/g,"<br/>")),(i=document.createElement("div")).innerHTML=o,i}return null},e._getPropertyValue=function(e,t,r,n){var i=r.parsePropertyPaths?t.split("/"):[t],o=i.length;if(0<o&&e){var a=i[0],s=e[a];if(r.detectHyperlinks&&"link"===t&&(!n||n.hyperlinkFormat)){var l,c,u,d=[];if(Array.isArray(s)?s.forEach((function(e){e.href?d.push(e):"string"==typeof e&&d.push({href:e})})):s.href&&d.push(s),0<d.length)return n&&n.hyperlinkFormat?l=n.hyperlinkFormat:r&&r.hyperlinkFormat&&(l=r.hyperlinkFormat),c=l&&l.target?l.target:"_blank",u=[],d.forEach((function(e){e.title||l&&l.label||!e.rel||u.push(e.rel," - "),u.push('<a href="',e.href,'" target="',c,'">'),e.title?u.push(e.title):l&&l.label?u.push(l.label):u.push(e.href),u.push("</a>","<br/>")})),u.pop(),u.join("")}if(null!=s){var h=void 0;for(h=1;h<o&&(s=s[i[h]],a=i[h],null!=s);h++);if(h===o&&null!=s){if(e=void 0,(e=void 0!==s.value?s.value:s)instanceof Date)return n&&n.dateFormat?e.toLocaleString(void 0,n.dateFormat):r.dateFormat?e.toLocaleString(void 0,r.dateFormat):e.toISOString();if("object"==typeof e)return(p=this._generateDynamicTableHtml(e,i.slice(1),r))||"";if("number"==typeof e){if(n){if(n.dateFormat)return new Date(e).toLocaleString(void 0,n.dateFormat);if(n.numberFormat)return e.toLocaleString(void 0,n.numberFormat)}else if(/(timestamp|date)/gi.test(a))return new Date(e).toISOString();return e.toLocaleString(void 0,r.numberFormat)}if("string"==typeof e&&""!==e&&!/[\n\r<>\s]/g.test(e)&&(r.detectHyperlinks||n&&n.hyperlinkFormat)){e=e.trim(),t=this._isUrlRx.test(e)||n&&n.hyperlinkFormat;var p,m=this._isImageUrlRx.test(e)&&(t||e.startsWith("data:image")),y=this._emailRx.test(e);if(t||m||y)return t=void 0,p=void(n&&n.hyperlinkFormat?t=n.hyperlinkFormat:r&&r.hyperlinkFormat&&(t=r.hyperlinkFormat)),p=t&&t.target?' target="'.concat(t.target,'"'):' target="_blank"',n="".concat(t&&t.label?t.label:e),t&&t.scheme?e=t.scheme+e:y&&(e="mailto:"+e),r=t&&t.label?' alt="'.concat(t.label,'"'):"",(t&&t.isImage||m)&&(n='<img src="'.concat(e,'" style="max-width:100%"').concat(r,'"/>')),'<a href="'.concat(e,'"').concat(p,">").concat(n,"</a>")}return e.toString()}}}return""},e._generatePropertyInfoTable=function(e,t,r){var n,i;return e&&t&&0<t.length?((n=[]).push('<table class="'.concat((i=this).Css.table,'">')),t.forEach((function(t){var o=i._getPropertyValue(e,t.propertyPath,r,t);t.hideLabel?n.push('<tr><td colspan="2">',o,"</td></tr>"):(t=t.label||t.propertyPath.split("/")[0],n.push("<tr><th>",t,"</th><td>",o,"</td></tr>"))})),n.push("</table>"),(t=document.createElement("div")).innerHTML=n.join(""),t):null},e._generateDynamicTableHtml=function(e,t,r){var n,i,o,a,s=this;return e&&((n=[]).push('<table class="'.concat((i=this).Css.table,'">')),o=t&&0<t.length?t.join("/")+"/":"",a=0,Object.keys(e).forEach((function(t){s._ignoreProperty(t,e[t])||(n.push("<tr><th>",t,"</th><td>",i._getPropertyValue(e,o+t,r),"</td></tr>"),a++)})),0!==a)?(n.push("</table>"),n.join("")):null},e._ignoreProperty=function(e,t){switch(e){case"title":case"name":case"base":case"popupTemplate":case"anchor":case"icon":case"image":case"imageUrl":case"rotation":case"color":case"size":case"offset":case"strokeColor":case"strokeWidth":case"strokeOpacity":case"subType":case"fillColor":case"fillOpacity":case"visibility":case"visible":return!0;default:if(0===e.indexOf("_")||null==t||""===t)return!0}return!1},e._placeholderRx=/\{([a-zA-Z0-9_\/\s]+)\}/gi,e._isUrlRx=/^(http|https|ftp|tel|mailto):\/\//i,e._isImageUrlRx=/(^data:image|.png$|.jpg$|.jpeg$|.gif$|.bmp$|.svg|.tif|.tiff$)/i,e._emailRx=/^[^\.\s@:](?:[^\s@:]*[^\s@:\.])?@[^\.\s@]+(?:\.[^\.\s@]+)*$/,e._cssUrl=new L({domain:h.staticAssetsDomain,path:"sdk/javascript/mapcontrol/".concat(Z.getEndpointVersion(),"/atlas.min.css")}).toString(),e.Css={template:"azure-maps-control-popup-template",title:"azure-maps-control-popup-template-title",content:"azure-maps-control-popup-template-content",item:"azure-maps-control-popup-template-content-item",table:"azure-maps-control-popup-template-table"},e}(),_X=new L({domain:h.staticAssetsDomain,path:"sdk/javascript/mapcontrol/".concat(Z.getEndpointVersion(),"/mapbox-gl-rtl-text.min.js")}),TX=(d.setRTLTextPlugin(_X.toString(),(function(e){e&&console.warn(e)}),!0),Object.freeze({__proto__:null,get AuthenticationType(){return td},get ControlPosition(){return s},get ControlStyle(){return l},HtmlMarker:Qu,Map:MX,Pixel:Ts,Popup:Uu,PopupTemplate:wX,Shape:Nl,_getAssetDomain:fh,_getDomain:gh,_hasMaxParallelImageRequests:hh,_hasSetAuthenticationOptions:sh,_hasSetDomain:lh,_hasSetLanguage:ph,_hasSetSessionId:mh,_hasSetStyleDefinitionsPath:ch,_hasSetStyleDefinitionsVersion:uh,_hasSetView:yh,_hasWorkerCount:dh,addImageTemplate:rh,clearPrewarmedResources:ah,control:tc,data:jl,getAllImageTemplateNames:ih,getAuthenticationOptions:Ld,getDomain:Zd,getImageTemplate:nh,getLanguage:Rd,getMaxParallelImageRequests:Ad,getSessionId:Dd,getStaticAssetsDomain:Nd,getStyleAPIVersion:Gd,getStyleDefinitionsPath:Ed,getStyleDefinitionsVersion:zd,getSubscriptionKey:Xd,getUserRegion:Od,getVersion:jd,getView:Wd,getWorkerCount:Pd,internal:X,isSupported:Yd,layer:Du,math:Jl,prewarm:oh,setAuthenticationOptions:Fd,setDomain:Vd,setLanguage:Qd,setMaxParallelImageRequests:Jd,setSessionId:qd,setStyleAPIVersion:Bd,setStyleDefinitionsPath:Hd,setStyleDefinitionsVersion:Ud,setSubscriptionKey:$d,setUserRegion:eh,setView:th,setWorkerCount:Kd,source:Zc}))},65624:(e,t,r)=>{"use strict";var n,i,o=r(30327),a=r(66002),s=(n=a,i=Object.create(null),n&&Object.keys(n).forEach((function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(n,e),Object.defineProperty(i,e,t.get?t:{enumerable:!0,get:function(){return n[e]}}))})),i.default=n,Object.freeze(i)),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(){function e(){}return e.merge=function(e,t){for(var n=o||r.g,i=0,a=e.split(".");i<a.length;i++){var s=a[i];if(!n[s])return t;n=n[s]}return l(l({},n),t)},e}(),u="undefined"!=typeof globalThis?globalThis:void 0!==o?o:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h=function(e,t){return e===t||e!=e&&t!=t},p=h,m=function(e,t){for(var r=e.length;r--;)if(p(e[r][0],t))return r;return-1},y=m,f=Array.prototype.splice;var g=m;var b=m;var v=m;var M=function(){this.__data__=[],this.size=0},x=function(e){var t=this.__data__;return!((e=y(t,e))<0||(e==t.length-1?t.pop():f.call(t,e,1),--this.size,0))},S=function(e){var t=this.__data__;return(e=g(t,e))<0?void 0:t[e][1]},w=function(e){return-1<b(this.__data__,e)},_=function(e,t){var r=this.__data__,n=v(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function T(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}T.prototype.clear=M,T.prototype.delete=x,T.prototype.get=S,T.prototype.has=w,T.prototype.set=_;var I=T,C=I,k="object"==typeof u&&u&&u.Object===Object&&u,L=k,N="object"==typeof self&&self&&self.Object===Object&&self,Z=L||N||Function("return this")(),E=Z.Symbol,z=E,G=Object.prototype,P=G.hasOwnProperty,A=G.toString,R=z?z.toStringTag:void 0,D=Object.prototype.toString;var X,O=function(e){var t=P.call(e,R),r=e[R];try{var n=!(e[R]=void 0)}catch(e){}var i=A.call(e);return n&&(t?e[R]=r:delete e[R]),i},W=function(e){return D.call(e)},j=E?E.toStringTag:void 0,Y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(j&&j in Object(e)?O:W)(e)},F=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},V=Y,H=F,U=function(e){return!!H(e)&&("[object Function]"==(e=V(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},B=Z["__core-js_shared__"],K=(X=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",J=Function.prototype.toString,Q=function(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""},q=U,$=function(e){return!!K&&K in e},ee=F,te=Q,re=/^\[object .+?Constructor\]$/,ne=Function.prototype,ie=Object.prototype,oe=ne.toString,ae=ie.hasOwnProperty,se=RegExp("^"+oe.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var le=function(e){return!(!ee(e)||$(e))&&(q(e)?se:re).test(te(e))},ce=function(e,t){return null==e?void 0:e[t]},ue=function(e,t){return t=ce(e,t),le(t)?t:void 0},de=ue(Z,"Map"),he=ue(Object,"create"),pe=he,me=he,ye=Object.prototype.hasOwnProperty,fe=he,ge=Object.prototype.hasOwnProperty;var be=he;var ve=function(){this.__data__=pe?pe(null):{},this.size=0},Me=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},xe=function(e){var t=this.__data__;if(me){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ye.call(t,e)?t[e]:void 0},Se=function(e){var t=this.__data__;return fe?void 0!==t[e]:ge.call(t,e)},we=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=be&&void 0===t?"__lodash_hash_undefined__":t,this};function _e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_e.prototype.clear=ve,_e.prototype.delete=Me,_e.prototype.get=xe,_e.prototype.has=Se,_e.prototype.set=we;var Te=_e,Ie=I,Ce=de;var ke=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};function Le(e,t){return e=e.__data__,ke(t)?e["string"==typeof t?"string":"hash"]:e.map}var Ne=Le;var Ze=Le;var Ee=Le;var ze=Le;var Ge=function(){this.size=0,this.__data__={hash:new Te,map:new(Ce||Ie),string:new Te}},Pe=function(e){return e=Ne(this,e).delete(e),this.size-=e?1:0,e},Ae=function(e){return Ze(this,e).get(e)},Re=function(e){return Ee(this,e).has(e)},De=function(e,t){var r=ze(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Xe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xe.prototype.clear=Ge,Xe.prototype.delete=Pe,Xe.prototype.get=Ae,Xe.prototype.has=Re,Xe.prototype.set=De;var Oe=Xe,We=I,je=de,Ye=Oe;var Fe=I,Ve=function(){this.__data__=new C,this.size=0},He=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Ue=function(e){return this.__data__.get(e)},Be=function(e){return this.__data__.has(e)},Ke=function(e,t){var r=this.__data__;if(r instanceof We){var n=r.__data__;if(!je||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ye(n)}return r.set(e,t),this.size=r.size,this};function Je(e){e=this.__data__=new Fe(e),this.size=e.size}Je.prototype.clear=Ve,Je.prototype.delete=He,Je.prototype.get=Ue,Je.prototype.has=Be,Je.prototype.set=Ke;var Qe=Je,qe=ue,$e=function(){try{var e=qe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),et=$e,tt=function(e,t,r){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},rt=tt,nt=h,it=Object.prototype.hasOwnProperty,ot=function(e,t,r){var n=e[t];it.call(e,t)&&nt(n,r)&&(void 0!==r||t in e)||rt(e,t,r)},at=ot,st=tt,lt=function(e,t,r,n){var i=!r;r=r||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),(i?st:at)(r,s,l)}return r},ct=function(e){return null!=e&&"object"==typeof e},ut=Y,dt=ct;var ht=function(e){return dt(e)&&"[object Arguments]"==ut(e)},pt=ct,mt=Object.prototype,yt=mt.hasOwnProperty,ft=mt.propertyIsEnumerable,gt=ht(function(){return arguments}())?ht:function(e){return pt(e)&&yt.call(e,"callee")&&!ft.call(e,"callee")},bt=gt,vt=Array.isArray,Mt={exports:{}},xt=function(){return!1};!function(e,t){var r=(r=(t=(r=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&t.exports===r?Z.Buffer:void 0)?r.isBuffer:void 0;e.exports=r||xt}(Mt,Mt.exports);var St=Mt.exports,wt=/^(?:0|[1-9]\d*)$/,_t=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},Tt=Y,It=_t,Ct=ct,kt={};kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Arguments]"]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object Boolean]"]=kt["[object DataView]"]=kt["[object Date]"]=kt["[object Error]"]=kt["[object Function]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object WeakMap]"]=!1;var Lt=function(e){return function(t){return e(t)}},Nt={exports:{}};!function(e,t){var r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,n=r&&r.exports===t&&k.process;t=function(){try{return r&&r.require&&r.require("util").types||n&&n.binding&&n.binding("util")}catch(e){}}(),e.exports=t}(Nt,Nt.exports);var Zt=Nt.exports,Et=function(e){return Ct(e)&&It(e.length)&&!!kt[Tt(e)]},zt=Lt,Gt=Zt&&Zt.isTypedArray,Pt=Gt?zt(Gt):Et,At=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Rt=bt,Dt=vt,Xt=St,Ot=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&wt.test(e))&&-1<e&&e%1==0&&e<t},Wt=Pt,jt=Object.prototype.hasOwnProperty,Yt=function(e,t){var r,n=Dt(e),i=!n&&Rt(e),o=!n&&!i&&Xt(e),a=!n&&!i&&!o&&Wt(e),s=n||i||o||a,l=s?At(e.length,String):[],c=l.length;for(r in e)!t&&!jt.call(e,r)||s&&("length"==r||o&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||Ot(r,c))||l.push(r);return l},Ft=Object.prototype,Vt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ft)},Ht=function(e,t){return function(r){return e(t(r))}},Ut=Ht(Object.keys,Object),Bt=Vt,Kt=Ut,Jt=Object.prototype.hasOwnProperty;var Qt=U,qt=_t,$t=function(e){return null!=e&&qt(e.length)&&!Qt(e)},er=Yt,tr=function(e){if(!Bt(e))return Kt(e);var t,r=[];for(t in Object(e))Jt.call(e,t)&&"constructor"!=t&&r.push(t);return r},rr=$t,nr=function(e){return(rr(e)?er:tr)(e)},ir=lt,or=nr;var ar=F,sr=Vt,lr=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},cr=Object.prototype.hasOwnProperty;var ur=Yt,dr=function(e){if(!ar(e))return lr(e);var t,r=sr(e),n=[];for(t in e)("constructor"!=t||!r&&cr.call(e,t))&&n.push(t);return n},hr=$t,pr=function(e){return hr(e)?ur(e,!0):dr(e)},mr=lt,yr=pr,fr={exports:{}};!function(e,t){var r,n=(r=(t=(r=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&t.exports===r?Z.Buffer:void 0)?r.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=n?n(t):new e.constructor(t),e.copy(t),t)}}(fr,fr.exports);var gr=fr.exports;var br=function(){return[]},vr=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o},Mr=br,xr=Object.prototype.propertyIsEnumerable,Sr=Object.getOwnPropertySymbols,wr=Sr?function(e){return null==e?[]:(e=Object(e),vr(Sr(e),(function(t){return xr.call(e,t)})))}:Mr,_r=wr,Tr=lt,Ir=_r,Cr=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},kr=Ht(Object.getPrototypeOf,Object),Lr=Cr,Nr=kr,Zr=_r,Er=br,zr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Lr(t,Zr(e)),e=Nr(e);return t}:Er,Gr=lt,Pr=zr,Ar=Cr,Rr=vt;function Dr(e,t,r){return t=t(e),Rr(e)?t:Ar(t,r(e))}var Xr=Dr,Or=_r,Wr=nr,jr=function(e){return Xr(e,Wr,Or)},Yr=Dr,Fr=zr,Vr=pr,Hr=ue(Z,"DataView"),Ur=de,Br=ue(Z,"Promise"),Kr=ue(Z,"Set"),Jr=ue(Z,"WeakMap"),Qr=Y,qr=Q,$r="[object Map]",en="[object Promise]",tn="[object Set]",rn="[object WeakMap]",nn="[object DataView]",on=qr(Hr),an=qr(Ur),sn=qr(Br),ln=qr(Kr),cn=qr(Jr),un=Qr,dn=un=Hr&&un(new Hr(new ArrayBuffer(1)))!=nn||Ur&&un(new Ur)!=$r||Br&&un(Br.resolve())!=en||Kr&&un(new Kr)!=tn||Jr&&un(new Jr)!=rn?function(e){var t=Qr(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?qr(e):"")switch(e){case on:return nn;case an:return $r;case sn:return en;case ln:return tn;case cn:return rn}return t}:un,hn=Object.prototype.hasOwnProperty,pn=Z.Uint8Array,mn=pn,yn=function(e){var t=new e.constructor(e.byteLength);return new mn(t).set(new mn(e)),t},fn=yn,gn=/\w*$/,bn=E?E.prototype:void 0,vn=bn?bn.valueOf:void 0;var Mn=yn;var xn=yn,Sn=function(e,t){return t=t?fn(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength)},wn=function(e){var t=new e.constructor(e.source,gn.exec(e));return t.lastIndex=e.lastIndex,t},_n=function(e){return vn?Object(vn.call(e)):{}},Tn=function(e,t){return t=t?Mn(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},In=F,Cn=Object.create,kn=function(){function e(){}return function(t){return In(t)?Cn?Cn(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),Ln=kn,Nn=kr,Zn=Vt,En=dn,zn=ct;var Gn=function(e){return zn(e)&&"[object Map]"==En(e)},Pn=Lt,An=Zt&&Zt.isMap,Rn=An?Pn(An):Gn,Dn=dn,Xn=ct;var On=function(e){return Xn(e)&&"[object Set]"==Dn(e)},Wn=Lt,jn=Zt&&Zt.isSet,Yn=jn?Wn(jn):On,Fn=Qe,Vn=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Hn=ot,Un=function(e,t){return e&&ir(t,or(t),e)},Bn=function(e,t){return e&&mr(t,yr(t),e)},Kn=gr,Jn=function(e,t){var r=-1,n=e.length;for(t=t||Array(n);++r<n;)t[r]=e[r];return t},Qn=function(e,t){return Tr(e,Ir(e),t)},qn=function(e,t){return Gr(e,Pr(e),t)},$n=jr,ei=function(e){return Yr(e,Vr,Fr)},ti=dn,ri=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&hn.call(e,"index")&&(r.index=e.index,r.input=e.input),r},ni=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return xn(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Sn(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Tn(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return wn(e);case"[object Symbol]":return _n(e)}},ii=function(e){return"function"!=typeof e.constructor||Zn(e)?{}:Ln(Nn(e))},oi=vt,ai=St,si=Rn,li=F,ci=Yn,ui=nr,di=pr,hi="[object Arguments]",pi="[object Function]",mi="[object Object]",yi={};yi[hi]=yi["[object Array]"]=yi["[object ArrayBuffer]"]=yi["[object DataView]"]=yi["[object Boolean]"]=yi["[object Date]"]=yi["[object Float32Array]"]=yi["[object Float64Array]"]=yi["[object Int8Array]"]=yi["[object Int16Array]"]=yi["[object Int32Array]"]=yi["[object Map]"]=yi["[object Number]"]=yi[mi]=yi["[object RegExp]"]=yi["[object Set]"]=yi["[object String]"]=yi["[object Symbol]"]=yi["[object Uint8Array]"]=yi["[object Uint8ClampedArray]"]=yi["[object Uint16Array]"]=yi["[object Uint32Array]"]=!0,yi["[object Error]"]=yi[pi]=yi["[object WeakMap]"]=!1;var fi=function e(t,r,n,i,o,a){var s,l=1&r,c=2&r,u=4&r;if(void 0!==(s=n?o?n(t,i,o,a):n(t):s))return s;if(!li(t))return t;var d=oi(t);if(d){if(s=ri(t),!l)return Jn(t,s)}else{var h=ti(t);if(i=h==pi||"[object GeneratorFunction]"==h,ai(t))return Kn(t,l);if(h==mi||h==hi||i&&!o){if(s=c||i?{}:ii(t),!l)return c?qn(t,Bn(s,t)):Qn(t,Un(s,t))}else{if(!yi[h])return o?t:{};s=ni(t,h,l)}}if(l=(a=a||new Fn).get(t))return l;a.set(t,s),ci(t)?t.forEach((function(i){s.add(e(i,r,n,i,t,a))})):si(t)&&t.forEach((function(i,o){s.set(o,e(i,r,n,o,t,a))}));var p=d?void 0:(u?c?ei:$n:c?di:ui)(t);return Vn(p||t,(function(i,o){p&&(i=t[o=i]),Hn(s,o,e(i,r,n,o,t,a))})),s},gi=fi;var bi=d((function(e){return gi(e,5)}));var vi=Oe,Mi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},xi=function(e){return this.__data__.has(e)};function Si(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new vi;++t<r;)this.add(e[t])}Si.prototype.add=Si.prototype.push=Mi,Si.prototype.has=xi;var wi=Si,_i=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},Ti=function(e,t){return e.has(t)},Ii=function(e,t,r,n,i,o){var a=1&r,s=e.length;if(s!=(c=t.length)&&!(a&&s<c))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var u=-1,d=!0,h=2&r?new wi:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p,m=e[u],y=t[u];if(void 0!==(p=n?a?n(y,m,u,t,e,o):n(m,y,u,e,t,o):p)){if(p)continue;d=!1;break}if(h){if(!_i(t,(function(e,t){if(!Ti(h,t)&&(m===e||i(m,e,r,n,o)))return h.push(t)}))){d=!1;break}}else if(m!==y&&!i(m,y,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d};var Ci=pn,ki=h,Li=Ii,Ni=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Zi=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Ei=E?E.prototype:void 0,zi=Ei?Ei.valueOf:void 0,Gi=jr,Pi=Object.prototype.hasOwnProperty;var Ai=Qe,Ri=Ii,Di=function(e,t,r,n,i,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ci(e),new Ci(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ki(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ni;case"[object Set]":if(s=s||Zi,e.size!=t.size&&!(1&n))return!1;var l=a.get(e);return l?l==t:(n|=2,a.set(e,t),s=Li(s(e),s(t),n,i,o,a),a.delete(e),s);case"[object Symbol]":if(zi)return zi.call(e)==zi.call(t)}return!1},Xi=function(e,t,r,n,i,o){var a=1&r,s=Gi(e),l=s.length;if(l!=Gi(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Pi.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var m=a;++c<l;){var y,f=e[u=s[c]],g=t[u];if(!(void 0===(y=n?a?n(g,f,u,t,e,o):n(f,g,u,e,t,o):y)?f===g||i(f,g,r,n,o):y)){p=!1;break}m=m||"constructor"==u}return!p||m||(d=e.constructor)!=(h=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof h&&h instanceof h)&&(p=!1),o.delete(e),o.delete(t),p},Oi=dn,Wi=vt,ji=St,Yi=Pt,Fi="[object Arguments]",Vi="[object Array]",Hi="[object Object]",Ui=Object.prototype.hasOwnProperty;var Bi=function(e,t,r,n,i,o){var a=Wi(e),s=Wi(t),l=a?Vi:Oi(e),c=s?Vi:Oi(t),u=(l=l==Fi?Hi:l)==Hi;if(s=(c=c==Fi?Hi:c)==Hi,(c=l==c)&&ji(e)){if(!ji(t))return!1;u=!(a=!0)}return c&&!u?(o=o||new Ai,a||Yi(e)?Ri(e,t,r,n,i,o):Di(e,t,l,r,n,i,o)):1&r||(u=u&&Ui.call(e,"__wrapped__"),s=s&&Ui.call(t,"__wrapped__"),!u&&!s)?!!c&&(o=o||new Ai,Xi(e,t,r,n,i,o)):i(u?e.value():e,s?t.value():t,r,n,o=o||new Ai)},Ki=ct;var Ji=function e(t,r,n,i,o){return t===r||(null==t||null==r||!Ki(t)&&!Ki(r)?t!=t&&r!=r:Bi(t,r,n,i,e,o))};var Qi,qi=d((function(e,t){return Ji(e,t)}));!function(e){e.drawPoint="draw-point",e.drawLine="draw-line",e.drawPolygon="draw-polygon",e.drawCircle="draw-circle",e.drawRectangle="draw-rectangle",e.editGeometry="edit-geometry",e.eraseGeometry="erase-geometry",e.idle="idle"}(Qi=Qi||{});var $i=function(){return($i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eo=function(){function e(){}return e.prototype.merge=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=o[i];if(a)for(var s in a)a.hasOwnProperty(s)&&this.hasOwnProperty(s)&&(void 0!==a[s]&&null!=a[s]?this[s]instanceof e?this[s].merge(a[s]):this[s]="dragHandleStyle"===s||"secondaryDragHandleStyle"===s?$i($i({},this[s]),a[s]):a[s]:(t=t||new(Object.getPrototypeOf(this).constructor),this[s]=t[s]))}return this},e}(),to=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ro=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.containerId=void 0,t.position=s.ControlPosition.NonFixed,t.buttons=[Qi.drawPoint,Qi.drawLine,Qi.drawPolygon,Qi.drawCircle,Qi.drawRectangle,Qi.editGeometry,Qi.eraseGeometry],t.numColumns=1/0,t.style="light",t.visible=!0,t}return to(t,e),t}(eo),no=function(){function e(t){var r=this;this._updateStyle=function(){r._setStyle(r.options)},this._updateMode=function(t){for(var n=0;n<r.toolbar.children.length;n++){var i=r.toolbar.children.item(n);i.dataset.mode===t?i.classList.add(e.Css.active):i.classList.remove(e.Css.active)}},this.options=(new ro).merge(bi(t))}return e.prototype.getOptions=function(){return bi(this.options)},e.prototype.setOptions=function(t){var r=(new ro).merge(this.options,bi(t));if(this.toolbar){if(r.visible!==this.options.visible&&(r.visible?this.toolbar.classList.remove(e.Css.hide):this.toolbar.classList.add(e.Css.hide)),r.containerId!==this.options.containerId)if(r.containerId){if(!(t=document.getElementById(r.containerId)))throw new Error("There is no container with ID '".concat(this.options.containerId," ")+"to add the toolbar to.");this.map.controls.remove(this),t.appendChild(this.toolbar)}else this.toolbar.remove(),r.position!==s.ControlPosition.NonFixed&&this._constructControl(),this.map.controls.add(this,{position:r.position});else r.containerId||r.position===this.options.position||(this.map.controls.remove(this),r.position!==s.ControlPosition.NonFixed&&this._constructControl(),this.map.controls.add(this,{position:r.position}));if(r.style!==this.options.style&&(this._setStyle(r),"auto"===r.style?this.map.events.add("styledata",this._updateStyle):this.map.events.remove("styledata",this._updateStyle)),qi(r.buttons,this.options.buttons)){if(r.numColumns!==this.options.numColumns)for(var n=this.toolbar.children,i=0;i<n.length;i++){var o=n.item(i);(i+1)%r.numColumns!=0?o.style.cssFloat="left":o.style.cssFloat=null}}else{for(;this.toolbar.firstChild;)this.toolbar.removeChild(this.toolbar.firstChild);this._addButtons(this.drawMgr,r)}}this.options=r},e.prototype.onAdd=function(){if(!this.toolbar)throw new Error("The toolbar cannot be added directly to the map, it must be passed to a DrawingManager");return this.control||this.toolbar},e.prototype.onRemove=function(){(this.control||this.toolbar).remove(),delete this.control},e.prototype._open=function(e,t){if(this.toolbar)throw new Error("The toolbar is already opened, it cannot be opened again.");if(this.map=t,this.drawMgr=e,this.options.containerId){var r=document.getElementById(this.options.containerId);if(!r)throw new Error("There is no container with ID '".concat(this.options.containerId," to add the toolbar to."));this._constructToolbar(e,t),r.appendChild(this.toolbar)}else this._constructToolbar(e,t),this.options.position!==s.ControlPosition.NonFixed&&this._constructControl(),t.controls.add(this,{position:this.options.position})},e.prototype._close=function(){if(!this.toolbar)throw new Error("Cannot close the toolbar, it has not been opened yet.");this.options.containerId?this.toolbar.remove():this.map.controls.remove(this),this.map.events.remove("drawingmodechanged",this.drawMgr,this._updateMode),this.map.events.remove("styledata",this._updateStyle),delete this.toolbar,delete this.drawMgr,delete this.map},e.prototype._isOpen=function(){return!!this.toolbar},e.prototype._dispose=function(){this._close()},e.prototype._constructToolbar=function(t,r){this.toolbar=document.createElement("div"),this.toolbar.classList.add(e.Css.toolbar),this._setStyle(this.options),"auto"===this.options.style&&r.events.add("styledata",this._updateStyle),this.options.visible||this.toolbar.classList.add(e.Css.hide),r.events.add("drawingmodechanged",t,this._updateMode),this._addButtons(t,this.options)},e.prototype._addButtons=function(t,r){for(var n=t.getOptions().mode,i=0;i<r.buttons.length;i++){var o=r.buttons[i],a=document.createElement("button");a.type="button",a.dataset.mode=o,a.setAttribute("aria-label",o),a.setAttribute("title",o),a.classList.add(e.Css.button,o),a.addEventListener("click",this._getBtnCallback(a,t)),(i+1)%r.numColumns!=0&&(a.style.cssFloat="left"),n===o&&a.classList.add(e.Css.active),this.toolbar.appendChild(a)}},e.prototype._getBtnCallback=function(e,t){switch(e.dataset.mode){case Qi.drawPoint:case Qi.drawLine:case Qi.drawPolygon:case Qi.drawCircle:case Qi.drawRectangle:case Qi.editGeometry:case Qi.eraseGeometry:return function(){var r=t.getOptions().mode;e.dataset.mode===r?t.setOptions({mode:Qi.idle}):t.setOptions({mode:e.dataset.mode})};default:throw new Error("Invalid button type specified '".concat(e.dataset.mode,"'."))}},e.prototype._constructControl=function(){this.control=document.createElement("div"),this.control.classList.add(e.Css.control),this.control.appendChild(this.toolbar)},e.prototype._setStyle=function(t){for(var r=0,n=Object.keys(e.Css.styles);r<n.length;r++){var i=n[r];this.toolbar.classList.remove(e.Css.styles[i])}if("auto"===t.style)this.toolbar.classList.add(e.Css.styles.light);else{if(!e.Css.styles.hasOwnProperty(t.style))throw new Error("An invalid style '".concat(t.style,"' was specified for the toolbar."));this.toolbar.classList.add(e.Css.styles[t.style])}},e.Css={active:"active",button:"azure-maps-drawtoolbar-button",container:"azure-maps-drawtoolbar-container",control:"azure-maps-control-container",hide:"hidden-accessible-element",styles:{dark:"dark",light:"light"},toolbar:"azure-maps-drawtoolbar"},e}(),io=Object.freeze({__proto__:null,DrawingToolbar:no}),oo=fi;var ao,so=d((function(e,t){return oo(e,5,t="function"==typeof t?t:void 0)})),lo=function(){},co=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),uo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=void 0,t.backgroundColor="rgba(0, 0, 0, 0.3)",t.style="light",t}return co(t,e),t}(eo),ho=function(){function e(e){this.options=(new uo).merge(Object.assign({},e)),this._constructDialog(this.options)}return e.prototype.close=function(){},e.prototype.edit=function(e){if(this.shape!==e){this._clearProps(),this.shape=e,this.tempProps=e.getProperties();for(var t=0,r=Object.keys(this.tempProps);t<r.length;t++){var n=r[t];n.startsWith("_azureMaps")||this._addProp(n,this.tempProps[n])}}if(!this.container.parentElement)if("string"==typeof this.options.container){if(!(e=document.getElementById(this.options.container)))throw new Error("There is no element with ID '".concat(this.options.container," to add the editor to."));e.appendChild(this.container)}else this.options.container,s.Map},e.prototype.getOptions=function(){return Object.assign({},this.options)},e.prototype.save=function(){this.close()},e.prototype.setOptions=function(e){e=(new uo).merge(this.options,Object.assign({},e)),this.options=e},e.prototype._constructDialog=function(t){var r=this;this.container=document.createElement("div"),this.container.classList.add(e.Css.container),this.container.style.backgroundColor=t.backgroundColor,this.dialog=document.createElement("div"),this.dialog.classList.add(e.Css.dialog),this._updateStyle(t),this.container.appendChild(this.dialog);var n=document.createElement("label");n.classList.add(e.Css.labels.base,e.Css.labels.property),n.innerHTML="Property",this.dialog.appendChild(n),(t=document.createElement("label")).classList.add(e.Css.labels.base,e.Css.labels.type),t.innerHTML="Type",this.dialog.appendChild(t),(n=document.createElement("label")).classList.add(e.Css.labels.base,e.Css.labels.value),n.innerHTML="Value",this.dialog.appendChild(n),(t=document.createElement("hr")).classList.add(e.Css.labels.base,e.Css.labels.bar),this.dialog.appendChild(t),this.propsList=document.createElement("ul"),this.propsList.classList.add(e.Css.table.base,e.Css.table.list),this.dialog.appendChild(this.propsList),(n=document.createElement("button")).classList.add(e.Css.buttons.base,e.Css.buttons.add),n.addEventListener("click",(function(){return r._addProp()})),this.dialog.appendChild(n),t=document.createElement("div"),n.appendChild(t),this.addPropLbl=document.createElement("label"),n.appendChild(this.addPropLbl),this.cancelBtn=document.createElement("button"),this.cancelBtn.classList.add(e.Css.buttons.base,e.Css.buttons.cancel),this.cancelBtn.addEventListener("click",(function(){return r.close()})),this.dialog.appendChild(this.cancelBtn),this.saveBtn=document.createElement("button"),this.saveBtn.classList.add(e.Css.buttons.base,e.Css.buttons.save),this.saveBtn.addEventListener("click",(function(){return r.save()})),this.dialog.appendChild(this.saveBtn),this._setLocalizedText()},e.prototype._addProp=function(t,r){var n=this,i=document.createElement("div");i.classList.add(e.Css.table.base,e.Css.table.row),this.propsList.appendChild(i);var o=document.createElement("input");o.classList.add(e.Css.table.base,e.Css.table.name),o.type="text",o.value=t||"",i.appendChild(o);var a=document.createElement("select");a.classList.add(e.Css.table.base,e.Css.table.type),i.appendChild(a);for(var s=0,l=e.Types;s<l.length;s++){var c=l[s],u=document.createElement("option");u.value=c,u.innerText=c,a.add(u),(r&&typeof r===c||!r&&"string"===c)&&(u.selected=!0)}var d=document.createElement("div");d.classList.add(e.Css.table.base,e.Css.table.value),d.addEventListener("keydown",(function(e){return n._constrainSize(a,d,e)})),d.innerText=r?JSON.stringify(r,null,2):"",d.contentEditable="true",i.appendChild(d),(o=document.createElement("button")).classList.add(e.Css.table.base,e.Css.table.delete),o.addEventListener("click",(function(){return n.propsList.removeChild(i)})),i.appendChild(o)},e.prototype._clearProps=function(){for(delete this.tempProps;this.propsList.firstChild;)this.propsList.removeChild(this.propsList.firstChild)},e.prototype._constrainSize=function(e,t,r){"object"!==e.value&&13===r.keyCode&&r.preventDefault()},e.prototype._updateStyle=function(t){for(var r=0,n=Object.keys(e.Css.styles);r<n.length;r++){var i=n[r];this.dialog.classList.remove(e.Css.styles[i])}if("auto"===t.style)this.dialog.classList.add(e.Css.styles.light);else{if(!e.Css.styles.hasOwnProperty(t.style))throw new Error("An invalid style '".concat(t.style,"' was specified for the editor."));this.dialog.classList.add(e.Css.styles[t.style])}},e.prototype._setLocalizedText=function(){this.saveBtn.innerText="Save",this.cancelBtn.innerText="Cancel",this.addPropLbl.innerText="Add property"},e._countLines=function(e){return(e=e.match(this.LineCountRegEx))?e.length+1:1},e.Css={buttons:{add:"add",base:"azure-maps-propedit-button",cancel:"cancel",save:"save"},container:"azure-maps-propedit-container",dialog:"azure-maps-propedit-dialog",hide:"hidden-accessible-element",labels:{bar:"bar",base:"azure-maps-propedit-label",property:"prop",type:"type",value:"value"},styles:{dark:"dark",light:"light"},table:{base:"azure-maps-propedit-table",delete:"delete",list:"list",name:"name",row:"row",type:"type",value:"value"}},e.Types=["boolean","number","object","string"],e.LineCountRegEx=new RegExp("\r*\n","g"),e.Render=document.createElement("canvas").getContext("2d"),e}();!function(e){e.hybrid="hybrid",e.freehand="freehand",e.click="click"}(ao=ao||{});var po,mo=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragHandleStyle={anchor:"center",draggable:!0,htmlContent:"<svg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'> <circle class='dragHandleCircle' cx = '6' cy = '6' r = '5.5' fill='#FFFFFF' stroke='#4E4C4C'/> </svg>"},t.freehandInterval=3,t.interactionType=ao.hybrid,t.mode=Qi.idle,t.secondaryDragHandleStyle={anchor:"center",draggable:!0,htmlContent:"<svg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'> <circle class='dragHandleCircle' cx = '6' cy = '6' r = '5.5' fill='#A6A6A6' stroke='#4E4C4C'/> </svg>"},t.shapeDraggingEnabled=!0,t.shapeRotationEnabled=!0,t.source=void 0,t.toolbar=void 0,t}return mo(t,e),t._cloneCustomizer=function(e){if(e instanceof no||e instanceof s.source.DataSource||e instanceof ho)return e},t}(eo),fo=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},go=function(){function e(e,t){var r=this;this.options={},this.strokeColor="#2266E3",this.parentIdProp="parent_id",this.outlineProp="outline",this.addCoord=function(e,t){r.options.mode===Qi.drawPoint&&(r.finalShape=new s.Shape(new s.data.Point([])),r.activeShape=new s.Shape(new s.data.Point(e.position)),r.activeShape.addProperty(r.parentIdProp,r.finalShape.getId()),r.drawMgr._invokeEvent("drawingstarted",null),r.finish()),r.options.mode!==Qi.drawLine&&r.options.mode!==Qi.drawPolygon||("click"!==e.type&&!t||r.options.interactionType!==ao.click&&r.options.interactionType!==ao.hybrid?!r.isMouseDown||"mousemove"!==e.type&&"touchmove"!==e.type||r.options.interactionType!==ao.freehand&&r.options.interactionType!==ao.hybrid||(r.previewShape&&(r.previewSource.remove(r.previewShape),r.previewShape=null,r.previewShapeCoordinates=[]),r.activeShape||(r.activeShape=new s.Shape(new s.data.LineString([])),r.options.mode===Qi.drawPolygon?(r.finalShape=new s.Shape(new s.data.Polygon([])),r.activeShape.addProperty(r.outlineProp,!0)):r.finalShape=new s.Shape(new s.data.LineString([])),r.activeShape.addProperty(r.parentIdProp,r.finalShape.getId()),r.options.source.add(r.activeShape)),t=r.map.positionsToPixels(r.activeShapeCoordinates)[0],(0===r.activeShapeCoordinates.length||r.pixelDifference(t,e.pixel)>r.options.freehandInterval)&&r.updateActiveShape(e)):(r.activeShape||(r.activeShape=new s.Shape(new s.data.LineString([])),r.options.mode===Qi.drawPolygon?(r.finalShape=new s.Shape(new s.data.Polygon([])),r.activeShape.addProperty(r.outlineProp,!0)):r.finalShape=new s.Shape(new s.data.LineString([])),r.activeShape.addProperty(r.parentIdProp,r.finalShape.getId()),r.options.source.add(r.activeShape)),r.previewShape||r.updateActiveShape(e),r.previewShape&&(r.activeShapeCoordinates.push(e.position),r.activeShape.setCoordinates(r.activeShapeCoordinates),r.drawMgr._invokeEvent("drawingchanged",r.activeShape),r.previewSource.remove(r.previewShape),r.previewShape=null,r.previewShapeCoordinates=[]))),r.options.mode===Qi.drawRectangle&&(!r.isMouseDown||"mousemove"!==e.type&&"touchmove"!==e.type||(r.activeShape?(r.activeShapeCoordinates=[r.firstRectangleCorner,[e.position[0],r.firstRectangleCorner[1]],e.position,[r.firstRectangleCorner[0],e.position[1]],r.firstRectangleCorner],r.activeShape.setCoordinates(r.activeShapeCoordinates),r.drawMgr._invokeEvent("drawingchanging",r.activeShape)):(r.finalShape=new s.Shape(new s.data.Polygon([])),r.activeShape=new s.Shape(new s.data.Polygon([])),r.activeShape.addProperty(r.parentIdProp,r.finalShape.getId()),r.activeShape.addProperty("subType","Rectangle"),r.options.source.add(r.activeShape),r.firstRectangleCorner=e.position,r.drawMgr._invokeEvent("drawingstarted",null)))),r.options.mode===Qi.drawCircle&&(!r.isMouseDown||"mousemove"!==e.type&&"touchmove"!==e.type||(r.activeShape?(r.activeShape.addProperty("radius",s.math.getDistanceTo(r.circleCenterPosition,e.position)),r.drawMgr._invokeEvent("drawingchanging",r.activeShape)):(r.finalShape=new s.Shape(new s.data.Point([])),r.activeShape=new s.Shape(new s.data.Point(e.position)),r.activeShape.addProperty(r.parentIdProp,r.finalShape.getId()),r.activeShape.addProperty("subType","Circle"),r.activeShape.addProperty("radius",1),r.options.source.add(r.activeShape),r.circleCenterPosition=e.position,r.drawMgr._invokeEvent("drawingstarted",null))))},this.previewCoord=function(e){r.isMouseDown||!r.activeShape||r.options.mode!==Qi.drawLine&&r.options.mode!==Qi.drawPolygon||r.options.interactionType!==ao.click&&r.options.interactionType!==ao.hybrid||(r.previewShape||(r.previewShapeCoordinates=[r.activeShapeCoordinates[r.activeShapeCoordinates.length-1]],r.previewShape=new s.Shape(new s.data.LineString(r.previewShapeCoordinates)),r.previewSource.add(r.previewShape)),r.previewShapeCoordinates[1]=e.position,r.previewShape.setCoordinates(r.previewShapeCoordinates),e=fo(fo([],r.activeShapeCoordinates,!0),[e.position],!1),(e=new s.Shape(new s.data.LineString(e))).addProperty(r.parentIdProp,r.finalShape.getId()),r.drawMgr._invokeEvent("drawingchanging",e))},this.finish=function(e){e&&e.preventDefault();var t=!1;r.activeShape&&(r.options.mode!==Qi.drawCircle&&r.options.mode!==Qi.drawRectangle||r.drawMgr._invokeEvent("drawingchanged",r.activeShape),r.options.mode===Qi.drawPolygon?0<r.activeShapeCoordinates.length&&(r.activeShapeCoordinates.push(r.activeShapeCoordinates[0]),r.finalShape.setCoordinates(r.activeShapeCoordinates)):r.finalShape.setCoordinates(r.activeShape.getCoordinates()),delete(e=r.activeShape.getProperties())[r.parentIdProp],delete e[r.outlineProp],r.options.source.getShapeById(r.activeShape.getId())&&r.options.source.remove(r.activeShape),r.finalShape.setProperties(e),r.options.source.add(r.finalShape),t=!(r.activeShape=null)),r.activeShapeCoordinates=[],r.previewShape&&r.previewSource.remove(r.previewShape),r.previewShapeCoordinates=[],r.previewShape=null,r.isMouseDown=!1,t&&(t=!1,r.drawMgr._invokeEvent("drawingcomplete",r.finalShape))},this.cancel=function(){r.activeShape&&(r.options.source.remove(r.activeShape),r.activeShapeCoordinates=[],r.activeShape=null,r.previewShape&&(r.previewSource.remove(r.previewShape),r.previewShapeCoordinates=[],r.previewShape=null),r.isMouseDown=!1)},this.setMouseDown=function(){r.isMouseDown=!0},this.setMouseUp=function(){r.isMouseDown=!1,r.options.interactionType===ao.freehand&&r.finish()},this.getPreviewLayers=function(){return r.previewLayers},this.drawMgr=t,this.map=e,this.previewLayers=new lo,this.previewSource=new s.source.DataSource,this.map.sources.add(this.previewSource),this.previewLayers.pointLayer=new s.layer.SymbolLayer(this.previewSource,null,{filter:["==",["geometry-type"],"Point"]}),this.previewLayers.lineLayer=new s.layer.LineLayer(this.previewSource,null,{filter:["all",["==",["geometry-type"],"LineString"],["!",["has",this.outlineProp]]],strokeColor:this.strokeColor}),this.previewLayers.polygonLayer=new s.layer.PolygonLayer(this.previewSource,null,{filter:["==",["geometry-type"],"Polygon"],strokeColor:this.strokeColor}),this.previewLayers.polygonOutlineLayer=new s.layer.LineLayer(this.previewSource,null,{filter:["all",["==",["geometry-type"],"LineString"],["has",this.outlineProp]],strokeColor:this.strokeColor}),this.map.layers.add([this.previewLayers.polygonLayer,this.previewLayers.polygonOutlineLayer,this.previewLayers.lineLayer,this.previewLayers.pointLayer]),this.activeShapeCoordinates=[],this.previewShapeCoordinates=[]}return e.prototype.dispose=function(){this.previewLayers&&(this.map.layers.remove(this.previewLayers.lineLayer),this.map.layers.remove(this.previewLayers.polygonLayer),this.map.layers.remove(this.previewLayers.polygonOutlineLayer),this.map.layers.remove(this.previewLayers.pointLayer)),this.map=null,this.options=null,this.previewLayers=null},e.prototype.setOptions=function(e){this.options.mode!==e.mode&&this.finish(),this.options=e},e.prototype.pixelDifference=function(e,t){var r=e[0]-t[0];return t=e[1]-t[1],Math.sqrt(r*r+t*t)},e.prototype.updateActiveShape=function(e){var t=this.activeShapeCoordinates[this.activeShapeCoordinates.length-1];0<this.activeShapeCoordinates.length?t[0]===e.position[0]&&t[1]===e.position[1]||(this.activeShapeCoordinates.push(e.position),this.activeShape.setCoordinates(this.activeShapeCoordinates),this.drawMgr._invokeEvent("drawingchanged",this.activeShape)):(this.activeShapeCoordinates.push(e.position),this.activeShape.setCoordinates(this.activeShapeCoordinates),this.drawMgr._invokeEvent("drawingstarted",null))},e}();!function(e){e.primary="primary",e.secondary="secondary",e.rotational="rotational"}(po=po||{});var bo=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vo=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.promoteHandle=function(e){s.getHandleType()===po.secondary&&s.editHelper.promoteHandle(s,s.index,e)},s.moveHandle=function(){s.editHelper.moveHandle(s,s.index)},s.showHandles=function(){s.getHandleType()===po.primary&&s.editHelper.showHandles(s,s.index)},s.primaryHtmlContent=a.dragHandleStyle.htmlContent,s.secondaryHtmlContent=a.secondaryDragHandleStyle.htmlContent,s.mp=r,s.editHelper=n,s.handleType=i,s.index=o,s.mp.events.add("dragend",s,s.promoteHandle),s.mp.events.add("dragend",s,s.showHandles),s.mp.events.add("drag",s,s.moveHandle),s}return bo(t,e),t.prototype.setStyle=function(e){this.style=e,this.setOptions(this.style)},t.prototype.setState=function(e){this.handleType=e,this.handleType===po.primary?this.setOptions({htmlContent:this.primaryHtmlContent}):this.handleType===po.secondary&&this.setOptions({htmlContent:this.secondaryHtmlContent})},t.prototype.setIndex=function(e){this.index=e},t.prototype.setPosition=function(e){this.setOptions({position:e})},t.prototype.getPosition=function(){return this.getOptions().position},t.prototype.getHandleType=function(){return this.handleType},t.prototype.getIndex=function(){return this.index},t}(a.HtmlMarker),Mo=function(){function e(e,t,r,n,i){var o=this;this.options={},this.trackMousePosition=function(e){o.mouseEvent=e},this.fKeyPressed=function(e){70!==e.keyCode&&102!==e.keyCode||o.drawingHelper.addCoord(o.mouseEvent,!0)},this.cKeyPressed=function(e){67!==e.keyCode&&99!==e.keyCode||(o.drawingHelper.finish(),o.editHelper.finish())},this.deleteKeyPressed=function(e){46!==e.keyCode&&8!==e.keyCode||o.editHelper.erase()},this.escKeyPressed=function(e){27===e.keyCode&&(o.drawingHelper.cancel(),o.editHelper.finish())},this.setMouseCursorToMove=function(){o.map.getCanvas().style.cursor="move"},this.setMouseCursorToPointer=function(){o.map.getCanvas().style.cursor="default"},this.setMouseCursorToCrossHair=function(){o.map.getCanvas().style.cursor="crosshair"},this.setMouseCursorToGrab=function(){o.map.getCanvas().style.cursor="grab"},this.map=e,this.layers=r,this.editHelper=i,this.drawingHelper=n,this.setOptions(this.options)}return e.prototype.setOptions=function(t){if(this.options.mode!==t.mode||this.options.freehandInterval!==t.freehandInterval||this.options.interactionType!==t.interactionType)switch(this.options=t,this.options.mode===Qi.editGeometry&&this.options.shapeDraggingEnabled?(this.map.events.remove("mouseover",Object.values(this.layers),this.setMouseCursorToPointer),this.map.events.remove("mouseout",Object.values(this.layers),this.setMouseCursorToGrab),this.map.events.add("mouseover",Object.values(this.layers),this.setMouseCursorToMove),this.map.events.add("mouseout",Object.values(this.layers),this.setMouseCursorToGrab)):this.options.mode===Qi.eraseGeometry?(this.map.events.remove("mouseover",Object.values(this.layers),this.setMouseCursorToMove),this.map.events.remove("mouseout",Object.values(this.layers),this.setMouseCursorToGrab),this.map.events.add("mouseover",Object.values(this.layers),this.setMouseCursorToPointer),this.map.events.add("mouseout",Object.values(this.layers),this.setMouseCursorToGrab)):(this.map.events.remove("mouseover",Object.values(this.layers),this.setMouseCursorToMove),this.map.events.remove("mouseover",Object.values(this.layers),this.setMouseCursorToPointer),this.map.events.remove("mouseout",Object.values(this.layers),this.setMouseCursorToGrab),this.options.mode===Qi.idle?this.setMouseCursorToGrab():this.setMouseCursorToCrossHair()),this.options.mode){case Qi.drawPoint:this._clear(),this.map.events.add("click",this.drawingHelper.addCoord),this.map.events.add("touchstart",this.drawingHelper.addCoord),this.map.events.add("mousemove",this.trackMousePosition),this.map.getMapContainer().addEventListener("keypress",this.fKeyPressed),this.map.getMapContainer().addEventListener("keypress",this.cKeyPressed),this.map.getMapContainer().addEventListener("keydown",this.escKeyPressed);break;case Qi.drawLine:case Qi.drawPolygon:this._clear(),e.lockMap(this.map),this.options.interactionType!==ao.click&&this.options.interactionType!==ao.hybrid||(this.map.events.add("click",this.drawingHelper.addCoord),this.map.events.add("mousemove",this.drawingHelper.previewCoord)),this.options.interactionType!==ao.freehand&&this.options.interactionType!==ao.hybrid||(this.map.events.add("mousedown",this.drawingHelper.setMouseDown),this.map.events.add("mousemove",this.drawingHelper.addCoord),this.map.events.add("mouseup",this.drawingHelper.setMouseUp),this.map.events.add("touchstart",this.drawingHelper.setMouseDown),this.map.events.add("touchmove",this.drawingHelper.addCoord),this.map.events.add("touchend",this.drawingHelper.finish)),this.map.events.add("dblclick",this.drawingHelper.finish),this.map.events.add("mousemove",this.trackMousePosition),this.map.getMapContainer().addEventListener("keypress",this.fKeyPressed),this.map.getMapContainer().addEventListener("keypress",this.cKeyPressed),this.map.getMapContainer().addEventListener("keydown",this.escKeyPressed);break;case Qi.drawCircle:case Qi.drawRectangle:this._clear(),e.lockMap(this.map),this.map.events.add("mousedown",this.drawingHelper.setMouseDown),this.map.events.add("mousemove",this.drawingHelper.addCoord),this.map.events.add("mouseup",this.drawingHelper.finish),this.map.events.add("touchstart",this.drawingHelper.setMouseDown),this.map.events.add("touchmove",this.drawingHelper.addCoord),this.map.events.add("touchend",this.drawingHelper.finish),this.map.events.add("mousemove",this.trackMousePosition),this.map.getMapContainer().addEventListener("keypress",this.fKeyPressed),this.map.getMapContainer().addEventListener("keypress",this.cKeyPressed),this.map.getMapContainer().addEventListener("keydown",this.escKeyPressed);break;case Qi.editGeometry:e.unLockMap(this.map),this.map.events.add("click",this.editHelper.selectShape),this.map.events.add("touchstart",this.editHelper.selectShape),this.map.events.add("mousedown",this.editHelper.setMouseDown),this.map.events.add("mouseup",this.editHelper.setMouseUp),this.map.events.add("touchstart",this.editHelper.setMouseDown),this.map.events.add("touchend",this.editHelper.setMouseUp),this.map.getMapContainer().addEventListener("keydown",this.escKeyPressed),this.map.getMapContainer().addEventListener("keydown",this.deleteKeyPressed);break;case Qi.eraseGeometry:e.unLockMap(this.map),this.map.events.add("click",this.editHelper.selectShape),this.map.events.add("touchstart",this.editHelper.selectShape),this.map.events.add("mousedown",this.editHelper.setMouseDown),this.map.events.add("mouseup",this.editHelper.setMouseUp),this.map.events.add("touchstart",this.editHelper.setMouseDown),this.map.events.add("touchend",this.editHelper.setMouseUp),this.map.getMapContainer().addEventListener("keydown",this.deleteKeyPressed);break;default:e.unLockMap(this.map),this._clear()}},e.prototype._clear=function(){this.drawingHelper.finish(),this.editHelper.finish(),this.map.events.remove("click",this.drawingHelper.addCoord),this.map.events.remove("touchstart",this.drawingHelper.addCoord),this.map.events.remove("drag",this.drawingHelper.addCoord),this.map.events.remove("mousemove",this.drawingHelper.previewCoord),this.map.events.remove("mousemove",this.drawingHelper.addCoord),this.map.events.remove("mouseup",this.drawingHelper.finish),this.map.events.remove("mouseup",this.drawingHelper.addCoord),this.map.events.remove("mouseup",this.drawingHelper.setMouseUp),this.map.events.remove("mousedown",this.drawingHelper.setMouseDown),this.map.events.remove("dblclick",this.drawingHelper.finish),this.map.events.remove("mousemove",this.trackMousePosition),this.map.events.remove("touchstart",this.drawingHelper.setMouseDown),this.map.events.remove("touchmove",this.drawingHelper.addCoord),this.map.events.remove("touchend",this.drawingHelper.finish),this.map.events.remove("click",this.editHelper.selectShape),this.map.events.remove("touchstart",this.editHelper.selectShape),this.map.events.remove("mousedown",this.editHelper.setMouseDown),this.map.events.remove("mouseup",this.editHelper.setMouseUp),this.map.events.remove("touchstart",this.editHelper.setMouseDown),this.map.events.remove("touchend",this.editHelper.setMouseUp),this.map.getMapContainer().removeEventListener("keypress",this.fKeyPressed),this.map.getMapContainer().removeEventListener("keypress",this.cKeyPressed),this.map.getMapContainer().removeEventListener("keydown",this.deleteKeyPressed),this.map.getMapContainer().removeEventListener("keydown",this.escKeyPressed)},e.lockMap=function(e){e.setUserInteraction({dblClickZoomInteraction:!1,dragPanInteraction:!1}),e.getMapContainer().style.touchAction="none"},e.unLockMap=function(e){e.setUserInteraction({dblClickZoomInteraction:!0,dragPanInteraction:!0}),e.getMapContainer().style.touchAction=null},e}(),xo=function(){function e(e,t,r,n){var i=this;this.editedPointStyle="marker-blue",this.isDragging=!1,this.erase=function(){i.shape&&(i.options.source.remove(i.shape),i.selectedShapeCoordinates=[],i._clearHandlesAndListeners(),i.drawMgr._invokeEvent("drawingerased",i.shape),i.shape=null,i.isMouseDown=!1)},this.selectShape=function(e){var t,r;e.originalEvent.target===i.map.getCanvas()&&(t=[e.pixel[0]-3,e.pixel[1]+3],r=[e.pixel[0]+3,e.pixel[1]-3],t=i.map.pixelsToPositions([t])[0],r=i.map.pixelsToPositions([r])[0],r=new s.data.BoundingBox(t,r),(r=i.map.layers.getRenderedShapes(r,Object.values(i.layers)))&&0<r.length&&(r=r[0])&&(i.options.mode===Qi.eraseGeometry?(i.shape=r,i.erase(),i.drawMgr.setOptions({mode:Qi.idle})):i.edit(r)),e.originalEvent.stopImmediatePropagation())},this.setMouseDown=function(){i.isMouseDown=!0},this.setMouseUp=function(){i.isMouseDown=!1},this._startDragAndRotate=function(e){i.isEventShapeSameAsSelectedShape(e)&&(i.options.shapeDraggingEnabled&&(i.rotateHandle&&i.rotateHandle.setOptions({visible:!1}),i.isDragging=!0),i._freezeMap(i.shape,e))},this._dragAndRotate=function(e){if(i.shape&&i.isMouseDown){if(i.isDragging){var t=s.Pixel.getX(i.currentReferencedPixel)-s.Pixel.getX(e.pixel),r=s.Pixel.getY(i.currentReferencedPixel)-s.Pixel.getY(e.pixel);if(t*t+r*r<=25)return;i.map.markers.remove(i.primaryHandles),i.map.markers.remove(i.secondaryHandles),i.primaryHandles=[],i.secondaryHandles=[],i._pixelAccurateUpdate(e)}i.isRotating&&(e=i.map.positionsToPixels([i.initCentroid,e.position]),e=a.Pixel.getHeading(e[0],e[1])-i.initHeading+180,i._showOrHideDragHandles(!1),i.rotateShape(i.shape,i.initCoordinates,i.initCentroid,e))}},this._endDragAndRotate=function(e){var t;Mo.unLockMap(i.map),i.isDragging&&(i.isDragging=!1,i.shape&&"Point"===i.shape.getType()&&!i.shape.isCircle()&&(delete(t=i.shape.getProperties())._azureMapsMarker,i.shape.setProperties(t)),i.rotateHandle&&i.rotateHandle.setOptions({visible:!0})),i.isRotating&&(i.isRotating=!1,i._showOrHideDragHandles(!0)),i.edit(i.shape)},this._handleMouseDownOnRotateHandle=function(e){var t=i.map.positionsToPixels([i.rotateInitHandlePosition,i.initCentroid]);i.initHeading=a.Pixel.getHeading(t[0],t[1]),i.map.setUserInteraction({dragPanInteraction:!1}),i.isRotating=!0},this._startRotate=function(e){i._freezeMap(i.shape,e)},this.removeRotateHandle=function(){i.rotateHandle&&(i.map.events.remove("mousedown",i.rotateHandle,i._handleMouseDownOnRotateHandle),i.map.markers.remove(i.rotateHandle),i.rotateHandle=null)},this.map=e,this.options=t,this.primaryHandles=[],this.secondaryHandles=[],this.layers=r,this.drawMgr=n,this.defaultPointStyle=this.layers.pointLayer?this.layers.pointLayer.getOptions().iconOptions.image:"marker-black"}return e.prototype.setOptions=function(e){this.finish(),this.options=e},e.prototype.finish=function(){this._clearHandlesAndListeners();var e=this.shape;this.shape=null,e&&this.drawMgr._invokeEvent("drawingcomplete",e),this.currentReferencedPixel=null,Mo.unLockMap(this.map)},e.prototype.edit=function(e){this.shape&&this.drawMgr._invokeEvent("drawingcomplete",this.shape),this.drawMgr._invokeEvent("drawingstarted",e),this._disableShapeDragAndRotate(),this._clearHandlesAndListeners(),this.shape=e,this.selectedShapeCoordinates=this.shape.getCoordinates(),"Point"!==this.shape.getType()||this.shape.isCircle()?0===this.primaryHandles.length&&(this.shape.isCircle()?this._generateDragHandles(this.selectedShapeCoordinates):this.shape.isRectangle()?this._generateDragHandles(this.selectedShapeCoordinates[0]):"LineString"===this.shape.getType()?this._generateDragHandles(this.selectedShapeCoordinates):"Polygon"===this.shape.getType()&&this._generateDragHandles(this.selectedShapeCoordinates[0])):this.shape.addProperty("_azureMapsMarker",this.editedPointStyle),this._enableShapeDragAndRotate()},e.prototype.promoteHandle=function(e,t,r){this.isSecondaryHandleMoving=!1,e.setOptions({visible:!0});var n=e.getPosition(),i=this.primaryHandles.length;"LineString"===this.shape.getType()?s=(a=t)+1:"Polygon"===this.shape.getType()&&(a=0===t?i-1:t-1,s=t===i-1?0:t+1),i=this.primaryHandles[a];var o,a=this.primaryHandles[s],s=this._getMidPosition(n,i.getPosition());for(i=this._getMidPosition(n,a.getPosition()),n=new vo(this.options.secondaryDragHandleStyle,this.map,this,po.secondary,t,this.options),a=new vo(this.options.secondaryDragHandleStyle,this.map,this,po.secondary,t+1,this.options),n.setPosition(s),a.setPosition(i),e.setState(po.primary),e.setIndex(t+1),e.setStyle(this.options.dragHandleStyle),this.secondaryHandles[t]=n,this.secondaryHandles.splice(t+1,0,a),this.primaryHandles.splice(t+1,0,e),o=t+2;o<this.secondaryHandles.length;o++)this.primaryHandles[o].setIndex(o),this.secondaryHandles[o].setIndex(o);"LineString"===this.shape.getType()&&this.primaryHandles[o].setIndex(o),this.map.markers.add([n,a])},e.prototype.moveHandle=function(e,t){this.drawMgr._invokeEvent("drawingchanged",this.shape),this._disableShapeDragAndRotate();var r,n,i,o,a,l=e.getPosition();this.shape.isCircle()?(o=this.selectedShapeCoordinates,this.shape.setProperties({radius:s.math.getDistanceTo(o,e.getPosition()),subType:"Circle"}),this.primaryHandles.forEach((function(e){e.setOptions({visible:!1})}))):this.shape.isRectangle()?(e.setOptions({visible:!1}),r=void 0,(a=this.selectedShapeCoordinates[0])[t]=l,n=0===t?(r=this.primaryHandles.length-1,t+1):(r=t-1,t===this.primaryHandles.length-1?0:t+1),i=this.primaryHandles[r],o=this.primaryHandles[n],0===t||2===t?(a[r][0]=l[0],a[n][1]=l[1]):1!==t&&3!==t||(a[r][1]=l[1],a[n][0]=l[0]),i.setPosition(a[r]),o.setPosition(a[n]),i.setOptions({visible:!1}),o.setOptions({visible:!1}),a[a.length-1]=a[0],this.shape.setCoordinates([a])):"LineString"===this.shape.getType()?(e.setOptions({visible:!1}),e.getHandleType()===po.primary&&((a=this.selectedShapeCoordinates)[t]=l,this.shape.setCoordinates(a),0<t&&this.secondaryHandles[t-1].setOptions({visible:!1}),t<this.primaryHandles.length-1&&this.secondaryHandles[t].setOptions({visible:!1})),e.getHandleType()===po.secondary&&(a=this.selectedShapeCoordinates,this.isSecondaryHandleMoving?a[t+1]=l:(a.splice(t+1,0,l),this.isSecondaryHandleMoving=!0),this.shape.setCoordinates(a))):"Polygon"===this.shape.getType()&&(e.setOptions({visible:!1}),e.getHandleType()===po.primary&&((a=this.selectedShapeCoordinates[0])[t]=l,0===t?(this.secondaryHandles[t].setOptions({visible:!1}),this.secondaryHandles[this.secondaryHandles.length-1].setOptions({visible:!1})):(0<t&&this.secondaryHandles[t-1].setOptions({visible:!1}),t<this.primaryHandles.length&&this.secondaryHandles[t].setOptions({visible:!1})),a[a.length-1]=a[0],this.shape.setCoordinates([a])),e.getHandleType()===po.secondary&&(a=this.selectedShapeCoordinates[0],this.isSecondaryHandleMoving?a[t+1]=l:(a.splice(t+1,0,l),this.isSecondaryHandleMoving=!0),this.shape.setCoordinates([a])))},e.prototype.showHandles=function(e,t){var r,n,i,o,a,l,c,u,d;this.shape.isCircle()?(r=this.selectedShapeCoordinates,n=this.shape.getProperties().radius,i=0,this.primaryHandles.forEach((function(e){e.setPosition(s.math.getDestination(r,i+=90,n)),e.setOptions({visible:!0})}))):(o=e.getPosition(),a=this.primaryHandles.length,d=c=u=l=void 0,"LineString"===this.shape.getType()?(l=0<t?t-1:null,u=t<a-1?t+1:null,c=t-1,d=t):"Polygon"===this.shape.getType()&&(u=t===a-1?0:t+1,c=l=0===t?a-1:t-1,d=t),null!=l&&(l=this.primaryHandles[l],this.shape.isRectangle()?l.setOptions({visible:!0}):(l=this._getMidPosition(o,l.getPosition()),(c=this.secondaryHandles[c]).setPosition(l),this.map.markers.add(c),c.setOptions({visible:!0}))),null!=u&&(u=this.primaryHandles[u],this.shape.isRectangle()?u.setOptions({visible:!0}):(u=this._getMidPosition(o,u.getPosition()),(d=this.secondaryHandles[d]).setPosition(u),this.map.markers.add(d),d.setOptions({visible:!0})))),e.setOptions({visible:!0}),this._enableShapeDragAndRotate()},e.prototype._generateDragHandles=function(e){if(this.shape.isCircle())for(var t=e,r=this.shape.getProperties().radius,n=0,i=0;i<4;i++){var o=s.math.getDestination(t,n+=90,r);(a=new vo(this.options.dragHandleStyle,this.map,this,po.primary,i,this.options)).setPosition(o),this.map.markers.add(a),this.primaryHandles.push(a)}else{var a,l,c;for(i=0;i<e.length;i++)(a=new vo(this.options.dragHandleStyle,this.map,this,po.primary,i,this.options)).setPosition(e[i]),this.primaryHandles.push(a),this.map.markers.add(a),this.shape.isRectangle()||i<e.length-1&&(l=this._getMidPosition(e[i],e[i+1]),(c=new vo(this.options.secondaryDragHandleStyle,this.map,this,po.secondary,i,this.options)).setPosition(l),this.map.markers.add(c),this.secondaryHandles.push(c));"Polygon"===this.shape.getType()&&this.map.markers.remove(this.primaryHandles.pop())}},e.prototype._getMidPosition=function(e,t){return e=this.map.positionsToPixels([e])[0],t=this.map.positionsToPixels([t])[0],t=[(e[0]+t[0])/2,(e[1]+t[1])/2],this.map.pixelsToPositions([t])[0]},e.prototype._clearHandlesAndListeners=function(){this.map.markers.remove(this.primaryHandles),this.map.markers.remove(this.secondaryHandles),this.primaryHandles=[],this.secondaryHandles=[],this._disableShapeDragAndRotate(),this.removeRotateHandle(),this.shape&&"Point"===this.shape.getType()&&!this.shape.isCircle()&&this.shape.addProperty("_azureMapsMarker",this.defaultPointStyle)},e.prototype._enableShapeDragAndRotate=function(){this._dragOrRotateEnabled()&&(this.map.events.add("mousedown",this._startDragAndRotate),this.map.events.add("mousemove",this._dragAndRotate),this.map.events.add("mouseup",this._endDragAndRotate),this._shouldRotate()&&(this._unselectShapeForRotate(),this.initCentroid=a.data.BoundingBox.getCenter(a.data.BoundingBox.fromData(this.shape)),this.initCoordinates=this.shape.getCoordinates(),this.initHeading=null,this.rotateInitHandlePosition=this.getInitHandlePosition(this.shape),this.rotateHandle=new s.HtmlMarker({position:this.rotateInitHandlePosition,htmlContent:'<div class="rotateHandleIcon" />'}),this.map.markers.add(this.rotateHandle),this.map.events.add("mousedown",this.rotateHandle,this._handleMouseDownOnRotateHandle)))},e.prototype._dragOrRotateEnabled=function(){return this.options&&(this.options.shapeDraggingEnabled||this.options.shapeRotationEnabled)},e.prototype._shouldRotate=function(){return this.options&&this.options.shapeRotationEnabled&&"Point"!==this.shape.getType()&&!this.shape.isCircle()},e.prototype._disableShapeDragAndRotate=function(){this._dragOrRotateEnabled()&&(this.map.events.remove("mousedown",this._startDragAndRotate),this.map.events.remove("mousemove",this._dragAndRotate),this.map.events.remove("mouseup",this._endDragAndRotate))},e.prototype.isEventShapeSameAsSelectedShape=function(e){var t;return(t=(e=e.shapes&&e.shapes.filter((function(e){return e&&e.getProperties})))&&0<e.length?e[0]:t)&&this.shape&&this.shape.getId()===t.getId()},e.prototype._freezeMap=function(e,t){this.shape=e,Mo.lockMap(this.map),this.currentReferencedPixel=t.pixel},e.prototype._pixelAccurateUpdate=function(e){var t=s.Pixel.getX(this.currentReferencedPixel)-s.Pixel.getX(e.pixel),r=s.Pixel.getY(this.currentReferencedPixel)-s.Pixel.getY(e.pixel);if("Point"===this.shape.getType()){var n=this.shape.getCoordinates();this.shape.setCoordinates(this._pixelShiftLocations(n,t,r))}else{var i=void 0;"Polygon"===this.shape.getType()?i=this.shape.getCoordinates()[0]:"LineString"===this.shape.getType()&&(i=this.shape.getCoordinates());for(var o=0,a=i.length;o<a;o++)i[o]=this._pixelShiftLocations(i[o],t,r);this.shape.setCoordinates(i)}this.currentReferencedPixel=e.pixel},e.prototype._pixelShiftLocations=function(e,t,r){return(e=this.map.positionsToPixels([e])[0])[0]-=t,e[1]-=r,this.map.pixelsToPositions([e])[0]},e.prototype._showOrHideDragHandles=function(e){this.primaryHandles.forEach((function(t){t.setOptions({visible:e})})),this.secondaryHandles.forEach((function(t){t.setOptions({visible:e})}))},e.prototype._unselectShapeForRotate=function(){this.initCentroid=null,this.initCoordinates=null,this.initHeading=null,this.isRotating=!1,this.removeRotateHandle()},e.prototype.rotateShape=function(e,t,r,n){switch(e.getType()){case"LineString":case"MultiPoint":e.setCoordinates(s.math.rotatePositions(t,r,n));break;case"Polygon":case"MultiLineString":var i=t.map((function(e){return s.math.rotatePositions(e,r,n)}));e.setCoordinates(i);break;case"MultiPolygon":i=t.map((function(e){return e.map((function(e){return s.math.rotatePositions(e,r,n)}))})),e.setCoordinates(i)}this.rotateHandle&&this.rotateHandle.setOptions({position:s.math.rotatePositions([this.rotateInitHandlePosition],r,n)[0]})},e.prototype.getInitHandlePosition=function(e){return e=e.getCoordinates(),s.math.getPositions(e)[0]},e}(),So=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wo=function(e){function t(t,r){var n=e.call(this)||this;return n.map=t,n.options=(new yo).merge(so(r,yo._cloneCustomizer)),n.drawingLayers=new lo,n.drawingHelper=new go(n.map,n),n.editHelper=new xo(n.map,r,n.drawingLayers,n),n.inputHelper=new Mo(n.map,n.options,n.drawingLayers,n.drawingHelper,n.editHelper),n.setOptions(n.options),n}return So(t,e),t.prototype.dispose=function(){this.options.toolbar&&this.options.toolbar._dispose(),this.drawingLayers&&(this.map.layers.remove(this.drawingLayers.lineLayer),this.map.layers.remove(this.drawingLayers.polygonLayer),this.map.layers.remove(this.drawingLayers.polygonOutlineLayer),this.map.layers.remove(this.drawingLayers.pointLayer)),this.drawingHelper&&this.drawingHelper.dispose(),this.map=null,this.options=null,this.drawingLayers=null,this.source=null,this.drawingHelper=null,this.editHelper=null,this.inputHelper=null},t.prototype.edit=function(e){e&&(this.source&&!this.source.getShapeById(e.getId())&&this.source.add(e),this.setOptions({mode:Qi.editGeometry}),this.editHelper.edit(e))},t.prototype.getOptions=function(){return this.options},t.prototype.getLayers=function(){return this.drawingLayers},t.prototype.getPreviewLayers=function(){return this.drawingHelper.getPreviewLayers()},t.prototype.getSource=function(){return this.source},t.prototype.setOptions=function(e){(e=(new yo).merge(this.options,so(e,yo._cloneCustomizer))).dragHandleStyle.draggable=!0,e.secondaryDragHandleStyle.draggable=!0,e.source=e.source||this.options.source,this.options.toolbar!==e.toolbar?(this.options.toolbar&&this.options.toolbar._close(),this.options.toolbar=e.toolbar,this.options.toolbar&&this.options.toolbar._open(this,this.map)):this.options.toolbar&&!this.options.toolbar._isOpen()&&this.options.toolbar._open(this,this.map),this.options.source?this.options.source!==e.source&&(this.source=this.options.source,e.mode=Qi.idle,this._setLayerSources()):(this.source=new s.source.DataSource,this.map.sources.add(this.source),this._setLayerSources()),this.options.mode!==e.mode&&this._invokeEvent("drawingmodechanged",e.mode),this.options=e,this.options.source=this.source,this.editHelper.setOptions(this.options),this.inputHelper.setOptions(this.options),this.drawingHelper.setOptions(this.options),this.inputHelper.setOptions(this.options)},t.prototype._getMap=function(){return this.map},t.prototype._setLayerSources=function(){this.drawingLayers.polygonLayer?this.drawingLayers.polygonLayer.setOptions({filter:["==",["geometry-type"],"Polygon"],source:this.source}):(this.drawingLayers.polygonLayer=new s.layer.PolygonLayer(this.source,null,{fillColor:"rgba(0, 0, 0, 0.12)",filter:["all",["==",["geometry-type"],"Polygon"],["!",["has","_incomplete"]]]}),this.map.layers.add(this.drawingLayers.polygonLayer)),this.drawingLayers.polygonOutlineLayer?this.drawingLayers.polygonOutlineLayer.setOptions({filter:["any",["==",["geometry-type"],"Polygon"],["all",["==",["geometry-type"],"LineString"],["has","_outline"]]],source:this.source}):(this.drawingLayers.polygonOutlineLayer=new s.layer.LineLayer(this.source,null,{filter:["any",["==",["geometry-type"],"Polygon"],["all",["==",["geometry-type"],"LineString"],["has","_outline"]]],strokeColor:"#000000"}),this.map.layers.add(this.drawingLayers.polygonOutlineLayer)),this.drawingLayers.lineLayer?this.drawingLayers.lineLayer.setOptions({filter:["all",["==",["geometry-type"],"LineString"],["!",["has","_outline"]]],source:this.source}):(this.drawingLayers.lineLayer=new s.layer.LineLayer(this.source,null,{filter:["all",["==",["geometry-type"],"LineString"],["!",["has","_outline"]]],strokeColor:"#000000"}),this.map.layers.add(this.drawingLayers.lineLayer)),this.drawingLayers.pointLayer?this.drawingLayers.pointLayer.setOptions({filter:["==",["geometry-type"],"Point"],source:this.source}):(this.drawingLayers.pointLayer=new s.layer.SymbolLayer(this.source,null,{filter:["==",["geometry-type"],"Point"],iconOptions:{allowOverlap:!0,ignorePlacement:!0,image:["case",["has","_azureMapsMarker"],["get","_azureMapsMarker"],"marker-black"],size:.5}}),this.map.layers.add(this.drawingLayers.pointLayer))},t}(s.internal.EventEmitter),_o=function(){function e(e,t){var r=this;this._options={resolution:15,showGrid:!1,removeDuplicates:!0,enabled:!0,simplify:!0},this._mapSize24=512*Math.pow(2,24),this._updateGrid=function(){var e=r,t=e._map.getCamera(),n=Math.round(t.zoom),i=e._options.resolution*Math.pow(2,24-n),o=s.data.BoundingBox,a=e._mapSize24,l=e.clip,c=(t=r.splitOnAntimeridian(t.bounds),[]);t.forEach((function(t){t=(r=e.fastPositionsToPixels([o.getNorthWest(t),o.getSouthEast(t)],!1,!1,i))[0];for(var r=r[1],n=l(t[0]-t[0]%i-i,0,a),u=l(r[0]-r[0]%i+i,0,a),d=l(t[1]-t[1]%i-i,0,a),h=l(r[1]-r[1]%i+i,0,a),p=d;p<h;p+=i)c.push(new s.data.LineString(e.fastPixelsToPositions([[n,p],[u,p]])));for(var m=n;m<u;m+=i)c.push(new s.data.LineString(e.fastPixelsToPositions([[m,d],[m,h]])))})),e._source.setShapes(c)};var n=this;n._map=e,n._source=new s.source.DataSource,e.sources.add(n._source),n._layer=new s.layer.LineLayer(n._source,null,{strokeColor:"#c3a77e",strokeWidth:1,visible:!1}),e.layers.add(n._layer,"transit"),n.setOptions(t||{})}return e.prototype.dispose=function(){var e=this;e._map.events.remove("move",e._updateGrid),e._map.events.remove("resize",e._updateGrid),Object.keys(e).forEach((function(t){e[t]=null}))},e.prototype.getOptions=function(){return Object.assign({},this._options)},e.prototype.getGridLayer=function(){return this._layer},e.simplify=function(e,t){return s.math.simplify(e,t)},e.prototype.snapPositions=function(e,t){var r=this._options;if(!r.enabled)return e;t="number"==typeof t?Math.round(Math.abs(t)):Math.round(this._map.getCamera().zoom);for(var n,i,o=r.resolution*Math.pow(2,24-t),a=this.fastPositionsToPixels(e,r.removeDuplicates,r.simplify,o),s=0,l=a.length;s<l;s++){.5*o<=(i=(n=a[s])[0]%o)&&(i-=o);var c=n[1]%o;.5*o<=c&&(c-=o),n[0]-=i,n[1]-=c}return this.fastPixelsToPositions(a)},e.prototype.snapShape=function(e,t){var r;this._options.enabled&&(e instanceof s.Shape?(r=e.toJson(),this.snapFeature(r,t),e.setCoordinates(r.geometry.coordinates)):"Feature"===e.type&&this.snapFeature(e,t))},e.prototype.setOptions=function(e){var t,r,n,i;e&&(r=(t=this)._map,n=t._options,i=!1,"boolean"==typeof e.removeDuplicates&&e.removeDuplicates!==n.removeDuplicates&&(n.removeDuplicates=e.removeDuplicates),"boolean"==typeof e.simplify&&e.simplify!==n.simplify&&(n.simplify=e.simplify),"boolean"==typeof e.enabled&&e.enabled!==n.enabled&&(n.enabled=e.enabled),"number"==typeof e.resolution&&0<e.resolution&&(n.resolution=e.resolution,i=!0),"boolean"==typeof e.showGrid&&e.showGrid!==n.showGrid&&(n.showGrid=e.showGrid,n.showGrid?(r.events.add("move",t._updateGrid),r.events.add("resize",t._updateGrid),i=!0):(r.events.remove("move",t._updateGrid),r.events.remove("resize",t._updateGrid)),t._layer.setOptions({visible:n.showGrid})),i&&(t._source.clear(),t._updateGrid()))},e.prototype.snapFeature=function(e,t){var r=this,n=e.geometry;switch(n.type){case"Point":n.coordinates=r.snapPositions([n.coordinates],t)[0];break;case"LineString":case"MultiPoint":n.coordinates=r.snapPositions(n.coordinates,t);break;case"Polygon":case"MultiLineString":n.coordinates=n.coordinates.map((function(e){return r.snapPositions(e,t)}));break;case"MultiPolygon":n.coordinates=n.coordinates.map((function(e){return e.map((function(e){return r.snapPositions(e,t)}))}))}},e.prototype.fastPositionsToPixels=function(e,t,r,n){for(var i,o,a=[],l=this._mapSize24,c=0,u=e.length;c<u;c++){var d=Math.sin(e[c][1]*Math.PI/180),h=Math.round((s.math.normalizeLongitude(e[c][0])+180)/360*l);d=Math.round((.5-Math.log((1+d)/(1-d))/(4*Math.PI))*l),0!==c&&t&&i===h&&o===d||a.push([h,d]),i=h,o=d}return r&&1<a.length?s.math.simplify(a,.5*n):a},e.prototype.fastPixelsToPositions=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t.push(this.fastPixelToPosition(e[r]));return t},e.prototype.fastPixelToPosition=function(e){var t=this._mapSize24;return[360*(e[0]/t-.5),90-360*Math.atan(Math.exp(2*-(.5-e[1]/t)*Math.PI))/Math.PI]},e.prototype.clip=function(e,t,r){return Math.max(Math.min(e,r),t)},e.prototype.splitOnAntimeridian=function(e){var t,r,n,i,o,a,l=[];return 6<=e.length&&360<e[3]-e[0]?[[-180,e[1],e[2],180,e[4],e[5]]]:e.length<6&&360<e[2]-e[0]?[[-180,e[1],180,e[3]]]:(this.crossesAntimeridian(e)?(t=void 0,r=s.math.normalizeLongitude(s.data.BoundingBox.getWest(e)),n=s.math.normalizeLongitude(s.data.BoundingBox.getEast(e)),i=s.math.normalizeLatitude(s.data.BoundingBox.getNorth(e)),o=s.math.normalizeLatitude(s.data.BoundingBox.getSouth(e)),a=6<=e.length?(t=[r,o,e[2],180,i,e[5]],[-180,o,e[2],n,i,e[5]]):(t=[r,o,180,i],[-180,o,n,i]),l.push(t,a)):l.push(e),l)},e.prototype.crossesAntimeridian=function(e){return s.math.normalizeLongitude(s.data.BoundingBox.getEast(e))-s.math.normalizeLongitude(s.data.BoundingBox.getWest(e))<0||6<=e.length&&360<e[3]-e[0]||e.length<6&&360<e[2]-e[9]},e}(),To=Object.freeze({__proto__:null,SnapGridManager:_o}),Io=Object.freeze({__proto__:null,get DrawingInteractionType(){return ao},DrawingManager:wo,get DrawingMode(){return Qi},SnapGridManager:_o}),Co=(c.merge("atlas.control",io),c.merge("atlas.drawing",Io));c.merge("atlas.drawing",To);t.pW=Co},45829:(e,t,r)=>{"use strict";var n,i=r(30327),o=r(38875).hp,a=r(65606),s=function(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}(r(66002)),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},c=function(){function e(){}return e.merge=function(e,t){var n,o,a=i||r.g,s=e.split(".");try{for(var c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),u=c.next();!u.done;u=c.next()){var d=u.value;if(!a[d])return t;a=a[d]}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return l(l({},a),t)},e}(),u=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});!function(e){function t(t,r){return e.call(this,t,r)||this}u(t,e),t.fromData=function(e){var r=NaN,n=NaN,i=new Set(["y"]),o=new Set(["x"]);return Object.keys(e).forEach((function(t){var a=t.toLowerCase();isNaN(r)&&i.has(a)&&"number"==typeof e[t]?r=e[t]:isNaN(n)&&o.has(a)&&"number"==typeof e[t]&&(n=e[t])})),isNaN(r)||isNaN(n)?null:new t(r,n)},t.getX=function(e){return e.length>0?e[0]:NaN},t.getY=function(e){return e.length>1?e[1]:NaN},t.getDestination=function(e,r,n){return new t(t.getX(e)+n*Math.cos((r+270)*Math.PI/180),t.getY(e)+n*Math.sin((r+270)*Math.PI/180))},t.getDistance=function(e,r){var n=t.getX(e)-t.getX(r),i=t.getY(e)-t.getY(r);return Math.sqrt(n*n+i*i)},t.getHeading=function(e,r){var n=t.getX(r)-t.getX(e),i=t.getY(e)-t.getY(r);return 180*(2.5*Math.PI-Math.atan2(i,n))/Math.PI%360}}(Array);var d="undefined"!=typeof globalThis?globalThis:void 0!==i?i:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p=function(e,t){return e===t||e!=e&&t!=t},m=p,y=function(e,t){for(var r=e.length;r--;)if(m(e[r][0],t))return r;return-1},f=y,g=Array.prototype.splice,b=y,v=y,M=y;function x(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}x.prototype.clear=function(){this.__data__=[],this.size=0},x.prototype.delete=function(e){var t=this.__data__,r=f(t,e);return!(r<0||(r==t.length-1?t.pop():g.call(t,r,1),--this.size,0))},x.prototype.get=function(e){var t=this.__data__,r=b(t,e);return r<0?void 0:t[r][1]},x.prototype.has=function(e){return v(this.__data__,e)>-1},x.prototype.set=function(e,t){var r=this.__data__,n=M(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var S,w=x,_=w,T="object"==typeof d&&d&&d.Object===Object&&d,I=T,C="object"==typeof self&&self&&self.Object===Object&&self,k=I||C||Function("return this")(),L=k.Symbol,N=L,Z=Object.prototype,E=Z.hasOwnProperty,z=Z.toString,G=N?N.toStringTag:void 0,P=Object.prototype.toString,A=L?L.toStringTag:void 0,R=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":A&&A in Object(e)?function(e){var t=E.call(e,G),r=e[G];try{e[G]=void 0;var n=!0}catch(e){}var i=z.call(e);return n&&(t?e[G]=r:delete e[G]),i}(e):function(e){return P.call(e)}(e)},D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},X=R,O=D,W=function(e){if(!O(e))return!1;var t=X(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},j=k["__core-js_shared__"],Y=(S=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",F=Function.prototype.toString,V=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""},H=W,U=D,B=V,K=/^\[object .+?Constructor\]$/,J=Function.prototype,Q=Object.prototype,q=J.toString,$=Q.hasOwnProperty,ee=RegExp("^"+q.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=function(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!U(e)||function(e){return!!Y&&Y in e}(e))&&(H(e)?ee:K).test(B(e))}(r)?r:void 0},re=te(k,"Map"),ne=te(Object,"create"),ie=ne,oe=ne,ae=Object.prototype.hasOwnProperty,se=ne,le=Object.prototype.hasOwnProperty,ce=ne;function ue(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ue.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},ue.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ue.prototype.get=function(e){var t=this.__data__;if(oe){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ae.call(t,e)?t[e]:void 0},ue.prototype.has=function(e){var t=this.__data__;return se?void 0!==t[e]:le.call(t,e)},ue.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ce&&void 0===t?"__lodash_hash_undefined__":t,this};var de=ue,he=w,pe=re,me=function(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map},ye=me,fe=me,ge=me,be=me;function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ve.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(pe||he),string:new de}},ve.prototype.delete=function(e){var t=ye(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return fe(this,e).get(e)},ve.prototype.has=function(e){return ge(this,e).has(e)},ve.prototype.set=function(e,t){var r=be(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};var Me=ve,xe=w,Se=re,we=Me,_e=w;function Te(e){var t=this.__data__=new _e(e);this.size=t.size}Te.prototype.clear=function(){this.__data__=new _,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var r=this.__data__;if(r instanceof xe){var n=r.__data__;if(!Se||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new we(n)}return r.set(e,t),this.size=r.size,this};var Ie=Te,Ce=te,ke=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Le=function(e,t,r){"__proto__"==t&&ke?ke(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Ne=Le,Ze=p,Ee=Object.prototype.hasOwnProperty,ze=function(e,t,r){var n=e[t];Ee.call(e,t)&&Ze(n,r)&&(void 0!==r||t in e)||Ne(e,t,r)},Ge=ze,Pe=Le,Ae=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?Pe(r,s,l):Ge(r,s,l)}return r},Re=function(e){return null!=e&&"object"==typeof e},De=R,Xe=Re,Oe=function(e){return Xe(e)&&"[object Arguments]"==De(e)},We=Re,je=Object.prototype,Ye=je.hasOwnProperty,Fe=je.propertyIsEnumerable,Ve=Oe(function(){return arguments}())?Oe:function(e){return We(e)&&Ye.call(e,"callee")&&!Fe.call(e,"callee")},He=Array.isArray,Ue={exports:{}},Be=function(){return!1};!function(e,t){var r=k,n=Be,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=(a?a.isBuffer:void 0)||n;e.exports=s}(Ue,Ue.exports);var Ke=Ue.exports,Je=/^(?:0|[1-9]\d*)$/,Qe=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},qe=R,$e=Qe,et=Re,tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object Boolean]"]=tt["[object DataView]"]=tt["[object Date]"]=tt["[object Error]"]=tt["[object Function]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object WeakMap]"]=!1;var rt=function(e){return function(t){return e(t)}},nt={exports:{}};!function(e,t){var r=T,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n&&r.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}(nt,nt.exports);var it=nt.exports,ot=rt,at=it&&it.isTypedArray,st=at?ot(at):function(e){return et(e)&&$e(e.length)&&!!tt[qe(e)]},lt=Ve,ct=He,ut=Ke,dt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Je.test(e))&&e>-1&&e%1==0&&e<t},ht=st,pt=Object.prototype.hasOwnProperty,mt=function(e,t){var r=ct(e),n=!r&&lt(e),i=!r&&!n&&ut(e),o=!r&&!n&&!i&&ht(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var c in e)!t&&!pt.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||dt(c,l))||s.push(c);return s},yt=Object.prototype,ft=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yt)},gt=function(e,t){return function(r){return e(t(r))}},bt=gt(Object.keys,Object),vt=ft,Mt=bt,xt=Object.prototype.hasOwnProperty,St=W,wt=Qe,_t=function(e){return null!=e&&wt(e.length)&&!St(e)},Tt=mt,It=_t,Ct=function(e){return It(e)?Tt(e):function(e){if(!vt(e))return Mt(e);var t=[];for(var r in Object(e))xt.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)},kt=Ae,Lt=Ct,Nt=D,Zt=ft,Et=Object.prototype.hasOwnProperty,zt=mt,Gt=_t,Pt=function(e){return Gt(e)?zt(e,!0):function(e){if(!Nt(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Zt(e),r=[];for(var n in e)("constructor"!=n||!t&&Et.call(e,n))&&r.push(n);return r}(e)},At=Ae,Rt=Pt,Dt={exports:{}};!function(e,t){var r=k,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}(Dt,Dt.exports);var Xt=Dt.exports,Ot=function(){return[]},Wt=Ot,jt=Object.prototype.propertyIsEnumerable,Yt=Object.getOwnPropertySymbols,Ft=Yt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a)&&(o[i++]=a)}return o}(Yt(e),(function(t){return jt.call(e,t)})))}:Wt,Vt=Ae,Ht=Ft,Ut=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},Bt=gt(Object.getPrototypeOf,Object),Kt=Ut,Jt=Bt,Qt=Ft,qt=Ot,$t=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Kt(t,Qt(e)),e=Jt(e);return t}:qt,er=Ae,tr=$t,rr=Ut,nr=He,ir=function(e,t,r){var n=t(e);return nr(e)?n:rr(n,r(e))},or=ir,ar=Ft,sr=Ct,lr=function(e){return or(e,sr,ar)},cr=ir,ur=$t,dr=Pt,hr=te(k,"DataView"),pr=re,mr=te(k,"Promise"),yr=te(k,"Set"),fr=te(k,"WeakMap"),gr=R,br=V,vr="[object Map]",Mr="[object Promise]",xr="[object Set]",Sr="[object WeakMap]",wr="[object DataView]",_r=br(hr),Tr=br(pr),Ir=br(mr),Cr=br(yr),kr=br(fr),Lr=gr;(hr&&Lr(new hr(new ArrayBuffer(1)))!=wr||pr&&Lr(new pr)!=vr||mr&&Lr(mr.resolve())!=Mr||yr&&Lr(new yr)!=xr||fr&&Lr(new fr)!=Sr)&&(Lr=function(e){var t=gr(e),r="[object Object]"==t?e.constructor:void 0,n=r?br(r):"";if(n)switch(n){case _r:return wr;case Tr:return vr;case Ir:return Mr;case Cr:return xr;case kr:return Sr}return t});var Nr=Lr,Zr=Object.prototype.hasOwnProperty,Er=k.Uint8Array,zr=Er,Gr=function(e){var t=new e.constructor(e.byteLength);return new zr(t).set(new zr(e)),t},Pr=Gr,Ar=/\w*$/,Rr=L?L.prototype:void 0,Dr=Rr?Rr.valueOf:void 0,Xr=Gr,Or=Gr,Wr=D,jr=Object.create,Yr=function(){function e(){}return function(t){if(!Wr(t))return{};if(jr)return jr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Fr=Bt,Vr=ft,Hr=Nr,Ur=Re,Br=rt,Kr=it&&it.isMap,Jr=Kr?Br(Kr):function(e){return Ur(e)&&"[object Map]"==Hr(e)},Qr=Nr,qr=Re,$r=rt,en=it&&it.isSet,tn=en?$r(en):function(e){return qr(e)&&"[object Set]"==Qr(e)},rn=Ie,nn=ze,on=Xt,an=lr,sn=function(e){return cr(e,dr,ur)},ln=Nr,cn=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Or(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function(e,t){var r=t?Pr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?Xr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,Ar.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return Dr?Object(Dr.call(e)):{}}(e)}},un=He,dn=Ke,hn=Jr,pn=D,mn=tn,yn=Ct,fn=Pt,gn="[object Arguments]",bn="[object Function]",vn="[object Object]",Mn={};Mn[gn]=Mn["[object Array]"]=Mn["[object ArrayBuffer]"]=Mn["[object DataView]"]=Mn["[object Boolean]"]=Mn["[object Date]"]=Mn["[object Float32Array]"]=Mn["[object Float64Array]"]=Mn["[object Int8Array]"]=Mn["[object Int16Array]"]=Mn["[object Int32Array]"]=Mn["[object Map]"]=Mn["[object Number]"]=Mn[vn]=Mn["[object RegExp]"]=Mn["[object Set]"]=Mn["[object String]"]=Mn["[object Symbol]"]=Mn["[object Uint8Array]"]=Mn["[object Uint8ClampedArray]"]=Mn["[object Uint16Array]"]=Mn["[object Uint32Array]"]=!0,Mn["[object Error]"]=Mn[bn]=Mn["[object WeakMap]"]=!1;var xn=function e(t,r,n,i,o,a){var s,l=1&r,c=2&r,u=4&r;if(n&&(s=o?n(t,i,o,a):n(t)),void 0!==s)return s;if(!pn(t))return t;var d=un(t);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Zr.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(t),!l)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(t,s)}else{var h=ln(t),p=h==bn||"[object GeneratorFunction]"==h;if(dn(t))return on(t,l);if(h==vn||h==gn||p&&!o){if(s=c||p?{}:function(e){return"function"!=typeof e.constructor||Vr(e)?{}:Yr(Fr(e))}(t),!l)return c?function(e,t){return er(e,tr(e),t)}(t,function(e,t){return e&&At(t,Rt(t),e)}(s,t)):function(e,t){return Vt(e,Ht(e),t)}(t,function(e,t){return e&&kt(t,Lt(t),e)}(s,t))}else{if(!Mn[h])return o?t:{};s=cn(t,h,l)}}a||(a=new rn);var m=a.get(t);if(m)return m;a.set(t,s),mn(t)?t.forEach((function(i){s.add(e(i,r,n,i,t,a))})):hn(t)&&t.forEach((function(i,o){s.set(o,e(i,r,n,o,t,a))}));var y=d?void 0:(u?c?sn:an:c?fn:yn)(t);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););}(y||t,(function(i,o){y&&(i=t[o=i]),nn(s,o,e(i,r,n,o,t,a))})),s},Sn=h((function(e){return xn(e,5)})),wn=Me;function _n(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new wn;++t<r;)this.add(e[t])}_n.prototype.add=_n.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},_n.prototype.has=function(e){return this.__data__.has(e)};var Tn=_n,In=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},Cn=function(e,t){return e.has(t)},kn=function(e,t,r,n,i,o){var a=1&r,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=2&r?new Tn:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],y=t[d];if(n)var f=a?n(y,m,d,t,e,o):n(m,y,d,e,t,o);if(void 0!==f){if(f)continue;h=!1;break}if(p){if(!In(t,(function(e,t){if(!Cn(p,t)&&(m===e||i(m,e,r,n,o)))return p.push(t)}))){h=!1;break}}else if(m!==y&&!i(m,y,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Ln=Er,Nn=p,Zn=kn,En=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},zn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Gn=L?L.prototype:void 0,Pn=Gn?Gn.valueOf:void 0,An=lr,Rn=Object.prototype.hasOwnProperty,Dn=Ie,Xn=kn,On=Nr,Wn=He,jn=Ke,Yn=st,Fn="[object Arguments]",Vn="[object Array]",Hn="[object Object]",Un=Object.prototype.hasOwnProperty,Bn=function(e,t,r,n,i,o){var a=Wn(e),s=Wn(t),l=a?Vn:On(e),c=s?Vn:On(t),u=(l=l==Fn?Hn:l)==Hn,d=(c=c==Fn?Hn:c)==Hn,h=l==c;if(h&&jn(e)){if(!jn(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Dn),a||Yn(e)?Xn(e,t,r,n,i,o):function(e,t,r,n,i,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ln(e),new Ln(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Nn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=En;case"[object Set]":var l=1&n;if(s||(s=zn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=2,a.set(e,t);var u=Zn(s(e),s(t),n,i,o,a);return a.delete(e),u;case"[object Symbol]":if(Pn)return Pn.call(e)==Pn.call(t)}return!1}(e,t,l,r,n,i,o);if(!(1&r)){var p=u&&Un.call(e,"__wrapped__"),m=d&&Un.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,f=m?t.value():t;return o||(o=new Dn),i(y,f,r,n,o)}}return!!h&&(o||(o=new Dn),function(e,t,r,n,i,o){var a=1&r,s=An(e),l=s.length;if(l!=An(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Rn.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var m=a;++c<l;){var y=e[u=s[c]],f=t[u];if(n)var g=a?n(f,y,u,t,e,o):n(y,f,u,e,t,o);if(!(void 0===g?y===f||i(y,f,r,n,o):g)){p=!1;break}m||(m="constructor"==u)}if(p&&!m){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,n,i,o))},Kn=Re,Jn=function e(t,r,n,i,o){return t===r||(null==t||null==r||!Kn(t)&&!Kn(r)?t!=t&&r!=r:Bn(t,r,n,i,e,o))},Qn=h((function(e,t){return Jn(e,t)}));function qn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $n,ei={exports:{}},ti=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}(Object.freeze({__proto__:null,default:{}}));$n=ei,function(){var e,t,r,n=0,o=[];for(t=0;t<256;t++)o[t]=(t+256).toString(16).substr(1);function a(){var t=((!e||n+16>s.BUFFER_SIZE)&&(n=0,e=s.randomBytes(s.BUFFER_SIZE)),e.slice(n,n+=16));return t[6]=15&t[6]|64,t[8]=63&t[8]|128,t}function s(){var e=a();return o[e[0]]+o[e[1]]+o[e[2]]+o[e[3]]+"-"+o[e[4]]+o[e[5]]+"-"+o[e[6]]+o[e[7]]+"-"+o[e[8]]+o[e[9]]+"-"+o[e[10]]+o[e[11]]+o[e[12]]+o[e[13]]+o[e[14]]+o[e[15]]}s.BUFFER_SIZE=4096,s.bin=a,s.clearBuffer=function(){e=null,n=0},s.test=function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},"undefined"!=typeof crypto?r=crypto:void 0!==i&&void 0!==i.msCrypto&&(r=i.msCrypto),r=r||ti,$n.exports=s,s.randomBytes=function(){if(r){if(r.randomBytes)return r.randomBytes;if(r.getRandomValues)return"function"!=typeof Uint8Array.prototype.slice?function(e){var t=new Uint8Array(e);return r.getRandomValues(t),Array.from(t)}:function(e){var t=new Uint8Array(e);return r.getRandomValues(t),t}}return function(e){var t,r=[];for(t=0;t<e;t++)r.push(Math.floor(256*Math.random()));return r}}()}();var ri,ni,ii,oi,ai,si,li=h(ei.exports),ci=(si=function(e,t){return si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},si(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}si(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ui=function(e){function t(t,r,n){return n?e.call(this,t,r,n)||this:e.call(this,t,r)||this}return ci(t,e),t.fromPosition=function(e){return 2===e.length?new t(e[0],e[1]):e.length>2?new t(e[0],e[1],e[2]):null},t.areEqual=function(e,t,r){if(void 0===r&&(r=6),e&&e.length>=2&&t&&t.length>=2){var n=Math.pow(10,r),i=Ci(e[1]),o=Ci(t[1]),a=ki(e[0]),s=ki(t[0]);if(0!=Math.round((i-o)*n)/n)return!1;var l=Math.round((a-s)*n)/n;return 0===l||360===l}return!1},t.fromLatLng=function(e,t,r){var n=[];if("number"==typeof e)n.push(e),"number"==typeof t&&n.push(t),"number"==typeof r&&n.push(r);else if(Array.isArray(e))e.length>=2&&"number"==typeof e[0]&&"number"==typeof e[1]&&(e.length>=3&&"number"==typeof e[2]?n.push(e[0],e[1],e[2]):n.push(e[0],e[1]));else if("object"==typeof e){var i=["lat","latitude","y"],o=["lng","longitude","lon","x"],a=["elv","elevation","alt","altitude","z"],s=NaN,l=NaN,c=NaN;Object.keys(e).forEach((function(t,r,n){var u=t.toLowerCase();isNaN(s)&&i.indexOf(u)>=0&&"number"==typeof e[t]?s=e[t]:isNaN(l)&&o.indexOf(u)>=0&&"number"==typeof e[t]?l=e[t]:isNaN(c)&&a.indexOf(u)>=0&&"number"==typeof e[t]&&(c=e[t])})),isNaN(s)||isNaN(l)||(n.push(l,s),isNaN(c)||n.push(c))}return n.length>=2?n:null},t.fromLatLngs=function(e){var r=[];if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var o=t.fromLatLng(e[n]);o&&r.push(o)}return r},t._getDimensions=function(e){for(var t=0;Array.isArray(e);)e=e[0],t++;return"number"==typeof e&&t--,t},t}(Array),di=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hi=function(e){function t(t,r){var n=this;if(t&&r){var i=t;n=i[2]&&r[2]?e.call(this,i[0],i[1],i[2]||0,r[0],r[1],r[2]||0)||this:e.call(this,i[0],i[1],r[0],r[1])||this}else if(t){var o=t;o&&(4===o.length?n=e.call(this,o[0],o[1],o[2],o[3])||this:o.length>=6&&(n=e.call(this,o[0],o[1],o[2],o[3],o[4],o[5])||this))}return n}return di(t,e),t.fromBoundingBox=function(e){var r=t.getWest(e),n=t.getSouth(e),i=t.getEast(e),o=t.getNorth(e);return new t([r,n,i,o])},t.fromDimensions=function(e,r,n){var i=e[0],o=e[1],a=Math.min(Math.max(o+n/2,-85.5),85.5),s=Math.min(Math.max(o-n/2,-85.5),85.5),l=ki(i+r/2);return new t([ki(i-r/2),s,l,a])},t.fromEdges=function(e,r,n,i){return new t([e,r,n,i])},t.containsPosition=function(e,r){var n=t.getCenter(e),i=Math.abs(n[1]-r[1]),o=Math.abs(n[0]-r[0]);o>180&&(o=360-o);var a=t.getHeight(e),s=t.getWidth(e);return i<=a/2+1e-8&&o<=s/2+1e-8},t.containsBoundingBox=function(e,r){var n=e&&4===e.length,i=r&&4===r.length;return!(!n||!i)&&t.getWest(e)<t.getWest(r)&&t.getWest(r)<t.getEast(e)&&t.getWest(e)<t.getEast(r)&&t.getEast(r)<t.getEast(e)&&t.getSouth(e)<t.getSouth(r)&&t.getSouth(r)<t.getNorth(e)&&t.getSouth(e)<t.getNorth(r)&&t.getNorth(r)<t.getNorth(e)},t.crossesAntimeridian=function(e){return ki(t.getEast(e))-ki(t.getWest(e))<0||t.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe(e)||t.isBoundingBoxWithLessThanSixElementsLargerThanGlobe(e)},t.getCenter=function(e){var r=ki(t.getEast(e)),n=ki(t.getWest(e));n>r&&(r+=360);var i=ki((n+r)/2),o=Ci(t.getSouth(e)),a=Ci(t.getNorth(e));return[i,Ci((o+a)/2)]},t.getHeight=function(e){var r=Ci(t.getNorth(e))-Ci(t.getSouth(e));return isNaN(r)?0:r},t.getWidth=function(e){var r=ki(t.getEast(e))-ki(t.getWest(e));return isNaN(r)?0:r<0?r+=360:r},t.getSouthWest=function(e){var t=this.getSouth(e),r=this.getWest(e);return isNaN(t)||isNaN(r)?null:[r,t]},t.getNorthEast=function(e){var t=this.getNorth(e),r=this.getEast(e);return isNaN(t)||isNaN(r)?null:[r,t]},t.getNorthWest=function(e){var t=this.getNorth(e),r=this.getWest(e);return isNaN(t)||isNaN(r)?null:[r,t]},t.getSouthEast=function(e){var t=this.getSouth(e),r=this.getEast(e);return isNaN(t)||isNaN(r)?null:[r,t]},t.getSouth=function(e){return e&&e.length>=4?Number(e[1]):NaN},t.getWest=function(e){return e&&e.length>=4?Number(e[0]):NaN},t.getNorth=function(e){if(e){if(4===e.length)return Number(e[3]);if(6===e.length)return Number(e[4])}return NaN},t.getEast=function(e){if(e){if(4===e.length)return Number(e[2]);if(6===e.length)return Number(e[3])}return NaN},t.intersect=function(e,r){var n=t.getCenter(e),i=t.getCenter(r),o=Math.abs(n[1]-i[1]),a=Math.abs(n[0]-i[0]);a>180&&(a=360-a);var s=t.getHeight(e),l=t.getWidth(e),c=t.getHeight(r),u=t.getWidth(r);return o<=s/2+c/2&&a<=l/2+u/2},t.merge=function(e,r){var n=e&&4===e.length,i=r&&4===r.length;if(n&&!i)return e;if(i&&!n)return r;if(!n&&!i)return null;var o=Math.max(Ci(t.getNorth(e)),Ci(t.getNorth(r))),a=Math.min(Ci(t.getSouth(e)),Ci(t.getSouth(r))),s=[e,r],l=[],c=0;for(c=0;c<s.length;c++){var u=s[c],d=ki(t.getWest(u)),h=ki(t.getEast(u));t.crossesAntimeridian(u)?(l.push([d,180]),l.push([-180,h])):l.push([d,h])}l.sort((function(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}));var p=[],m=l[0];for(c=1;c<l.length;){var y=l[c];m[1]>=y[0]?m[1]=Math.max(m[1],y[1]):(p.push(m),m=y),c++}p.push(m);var f=p.length,g=p[0][0]+360-p[f-1][1],b=[p[f-1][1],p[0][0]];for(c=1;c<f;c++){var v=p[c][0]-p[c-1][1];v>g&&(g=v,b=[p[c-1][1],p[c][0]])}return new t([b[1],a],[b[0],o])},t.fromPositions=function(e){for(var r,n=NaN,i=NaN,o=NaN,a=NaN,s=e.length,l=new Array(s),c=0;s--;)if((r=e[s])&&r.length>=2){var u=Ci(r[1]);n=isNaN(n)?u:Math.max(n,u),i=isNaN(i)?u:Math.min(i,u),l[c++]=ki(r[0])}if(c){l.length=c,l.sort((function(e,t){return e-t}));var d=l[0]+360-l[c-1],h=0;for(s=1;s<c;s++){var p=l[s]-l[s-1];p>d&&(d=p,h=s)}o=l[h],a=l[(h||c)-1]}return isNaN(o)||isNaN(i)||isNaN(a)||isNaN(n)?null:new t([o,i,a,n])},t.fromLatLngs=function(e){return t.fromPositions(ui.fromLatLngs(e))},t.fromData=function(e){var r,n,i,o=null;if(Array.isArray(e)&&e.length>0){try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=a.next();!s.done;s=a.next()){var l=s.value;null!=(i=t.fromData(l))&&(o=null===o?i:t.merge(o,i))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}if(e instanceof vi)return e.getBounds();if(e&&e.type){var c=e;if(c.bbox&&4===c.bbox.length)return c.bbox;switch(c.type){case"FeatureCollection":return t.fromData(c.features);case"Feature":return vi._isCircle(c)?t.fromPositions(vi._getCirclePositions(c)):t.fromData(c.geometry);case"GeometryCollection":return t.fromData(c.geometries);case"Point":var u=c.coordinates;if(u&&u.length>=2)return[u[0],u[1],u[0],u[1]];break;case"LineString":case"MultiPoint":return t.fromPositions(c.coordinates);case"Polygon":case"MultiLineString":var d=c.coordinates;if(d&&d.length>0){for(var h=0,p=d.length;h<p;h++)null!=(i=t.fromPositions(d[h]))&&(o=null===o?i:t.merge(o,i));if(null!=o)return o}break;case"MultiPolygon":var m=c.coordinates;if(m&&m.length>0){for(h=0,p=m.length;h<p;h++)for(var y=0,f=m[h].length;y<f;y++)null!=(i=t.fromPositions(m[h][y]))&&(o=null===o?i:t.merge(o,i));return o}}}return null},t.splitOnAntimeridian=function(e){var r=[];if(t.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe(e))return[[-180,e[1],e[2],180,e[4],e[5]]];if(t.isBoundingBoxWithLessThanSixElementsLargerThanGlobe(e))return[[-180,e[1],180,e[3]]];if(t.crossesAntimeridian(e)){var n=void 0,i=void 0,o=ki(t.getWest(e)),a=ki(t.getEast(e)),s=Ci(t.getNorth(e)),l=Ci(t.getSouth(e));e.length>=6?(n=[o,l,e[2],180,s,e[5]],i=[-180,l,e[2],a,s,e[5]]):(n=[o,l,180,s],i=[-180,l,a,s]),r.push(n,i)}else r.push(e);return r},t.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe=function(e){return e.length>=6&&e[3]-e[0]>360},t.isBoundingBoxWithLessThanSixElementsLargerThanGlobe=function(e){return e.length<6&&e[2]-e[0]>360},t}(Array),pi=function(){function e(t,r,n,i){this.type="Feature",this.type=e.TYPE,this.properties=r||{},this.id=n,this.geometry=t,this.bbox=i}return e.TYPE="Feature",e}(),mi=function(){function e(t,r){this.type="Polygon",this.type=e.TYPE,1===ui._getDimensions(t)?this.coordinates=[t]:this.coordinates=t,this.bbox=r}return e.TYPE="Polygon",e}(),yi=Map,fi=function(){function e(){this.listeners=new yi}return e.prototype._addEventListener=function(e,t,r){this.listeners.has(e)||this.listeners.set(e,new yi),this.listeners.get(e).set(t,r)},e.prototype._removeEventListener=function(e,t){this.listeners.has(e)&&this.listeners.get(e).delete(t)},e.prototype._invokeEvent=function(e,t){var r=this;this.listeners.has(e)&&this.listeners.get(e).forEach((function(n,i){n&&r._removeEventListener(e,i);try{i(t)}catch(e){console.error(e)}}))},e}(),gi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bi=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vi=function(e){function t(r,n,i){var o,a=e.call(this)||this;if("Feature"===r.type){var s=r;o=Sn(s.geometry),i=s.properties?Sn(s.properties):{},n=null==s.id||""===s.id?li():s.id}else o=Sn(r),n=null==n||""===n?li():n,i=i?Sn(i):{};return i[t._shapeIdPropName]=n,a.data=new pi(o,i,n),a._handleCircle(),a}return gi(t,e),t.prototype.addProperty=function(e,t){Qn(this.data.properties[e],t)||(this.data.properties[e]=Sn(t),"subType"!==e&&"radius"!==e||this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},t.prototype.getBounds=function(){var e,t,r,n,i,o=this.getCoordinates(),a=this.getType();if("Point"===a)if(this.circlePolygon){var s=this.circlePolygon.geometry.coordinates;i=hi.fromPositions(s[0])}else i=new hi(s=o,s);else if("MultiPoint"===a||"LineString"===a)s=o,i=hi.fromPositions(s);else if("Polygon"===a)s=o,i=hi.fromPositions(s[0]);else if("MultiLineString"===a){s=o;try{for(var l=bi(s),c=l.next();!c.done;c=l.next()){var u=c.value;i=hi.merge(i,hi.fromPositions(u))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}}else if("MultiPolygon"===a){s=o;try{for(var d=bi(s),h=d.next();!h.done;h=d.next()){var p=h.value;i=hi.merge(i,hi.fromPositions(p[0]))}}catch(e){r={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}return i},t.prototype.getCoordinates=function(){return Sn(this.data.geometry.coordinates)},t.prototype.getCircleCoordinates=function(){return this.circlePolygon?Sn(this.circlePolygon.geometry.coordinates[0]):null},t.prototype.getId=function(){return this.data.id},t.prototype.getProperties=function(){return Sn(this.data.properties)},t.prototype.getType=function(){return this.data.geometry.type},t.prototype.isCircle=function(){return t._isCircle(this.data)},t.prototype.isRectangle=function(){return t._isRectangle(this.data)},t.prototype.setCoordinates=function(e){var t;t="Polygon"===this.getType()&&1===ui._getDimensions(e)?[e]:e,Qn(this.data.geometry.coordinates,t)||(this.data.geometry.coordinates=Sn(t),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},t.prototype.setProperties=function(e){e[t._shapeIdPropName]=this.data.id,Qn(this.data.properties,e)||(this.data.properties=Sn(e),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},t.prototype.toJson=function(){return JSON.parse(JSON.stringify(this.data))},t.prototype._toJson=function(){return this.circlePolygon||this.data},t.prototype._setDataSource=function(e){void 0===e||null==e?delete this.dataSource:this.dataSource=e},t.prototype._handleCircle=function(){if(this.isCircle()){var e=t._getCirclePositions(this.data);this.circlePolygon=new pi(new mi([e]),this.data.properties,this.data.id),this.data.properties.subType="Circle"}else delete this.circlePolygon},t._isCircle=function(e){return e&&e.geometry&&"Point"===e.geometry.type&&e.geometry.coordinates&&e.properties&&"string"==typeof e.properties.subType&&"circle"===e.properties.subType.toLowerCase()&&"number"==typeof e.properties.radius},t._isRectangle=function(e){if("Polygon"===e.geometry.type&&e.geometry.coordinates&&"string"==typeof e.properties.subType&&"rectangle"===e.properties.subType.toLowerCase()){var t=e.geometry.coordinates;if(1===t.length){var r=t[0];if(5===r.length)return r[0][0]===r[4][0]&&r[0][1]===r[4][1];if(4===r.length)return!0}}return!1},t._getCirclePositions=function(e){return t=function(e,t,r,n,i){n=n||"meters",i=i||0,e=Ni(e);for(var o=[],a=0;a<=72;a++)o.push(Ii(e,(5*a+i)%360,t,n));return o}(e.geometry.coordinates,e.properties.radius,0,"meters",void 0),(Array.isArray(t)?t:t.coordinates).reduce((function(e,t){var r=e.length>0?e[e.length-1]:null;if(r&&Math.abs(t[0]-r[0])>180){var n=r[0]<0?t[0]-360:t[0]+360;e.push([n,t[1]])}else e.push(t);return e}),[]);var t},t._shapeIdPropName="_azureMapsShapeId",t}(fi),Mi=6378137,xi=Math.PI/180,Si=180/Math.PI;function wi(e){return e*xi}function _i(e){return e*Si}function Ti(e){if(e)switch(e.toLowerCase()){case"feet":case"foot":case"ft":return ni.feet;case"kilometers":case"kilometer":case"kilometres":case"kilometre":case"km":case"kms":return ni.kilometers;case"miles":case"mile":case"mi":return ni.miles;case"nauticalmiles":case"nauticalmile":case"nms":case"nm":return ni.nauticalMiles;case"yards":case"yard":case"yds":case"yrd":case"yrds":return ni.yards;default:return ni.meters}return ni.meters}function Ii(e,t,r,n){n=n||"meters",e=Ni(e);var i,o=function(e){var t=Ti(e);return function(e,t,r){switch(Ti(t)){case ni.meters:e/=1e3;break;case ni.feet:e/=3280.8399;break;case ni.miles:e/=.62137119;break;case ni.yards:e/=1093.6133;break;case ni.nauticalMiles:e/=.5399568;case ni.kilometers:}switch(Ti(r)){case ni.meters:e*=1e3;break;case ni.feet:e*=3280.8399;break;case ni.miles:e*=.62137119;break;case ni.yards:e*=1093.6133;break;case ni.nauticalMiles:e*=.5399568;case ni.kilometers:}return e}(Mi,ni.meters,t)}(n),a=wi(e[1]),s=wi(e[0]),l=wi(t),c=r/o,u=Math.asin(Math.sin(a)*Math.cos(c)+Math.cos(a)*Math.sin(c)*Math.cos(l)),d=s+Math.atan2(Math.sin(l)*Math.sin(c)*Math.cos(a),Math.cos(c)-Math.sin(a)*Math.sin(u)),h=(i=Ci(_i(u)),Math.min(Math.max(i,-85),85));return[ki(_i(d)),h]}function Ci(e){return e>90?(e=(e+90)%360)>180?90-(e-180):e-90:e<-90?(e=(e-90)%360)<-180?-90-(e+180):e+90:e}function ki(e){return e>180?(e+180)%360-180:e<-180?(e-180)%360+180:e}function Li(e){if("[object Date]"===Object.prototype.toString.call(e))return e;if("string"==typeof e){var t,r=Date.parse(e);if(!isNaN(r))return new Date(r);if(e.indexOf("Date(")>=0)return t=(e=e.replace("/Date(","").replace(")/","")).indexOf("+")>0?parseInt(e.substr(0,e.indexOf("+")),10):e.indexOf("-")>0?parseInt(e.substr(0,e.indexOf("-")),10):parseInt(e,10),new Date(t)}else if("number"==typeof e)return new Date(e);return null}function Ni(e){if(Array.isArray(e)&&"number"==typeof e[0])return e;if(e.type){if("Point"===e.type)return e.coordinates;if("Feature"===e.type&&"Point"===e.geometry.type)return e.geometry.coordinates}else if(e instanceof vi&&"Point"===e.getType())return e.getCoordinates();return null}!function(e){e.squareMeters="squareMeters",e.acres="acres",e.hectares="hectares",e.squareFeet="squareFeet",e.squareKilometers="squareKilometers",e.squareMiles="squareMiles",e.squareYards="squareYards"}(ri||(ri={})),function(e){e.meters="meters",e.kilometers="kilometers",e.feet="feet",e.miles="miles",e.nauticalMiles="nauticalMiles",e.yards="yards"}(ni||(ni={})),function(e){e.seconds="seconds",e.hours="hours",e.ms="ms",e.minutes="minutes",e.days="days"}(ii||(ii={})),function(e){e.metersPerSecond="metersPerSecond",e.kilometersPerHour="kilometersPerHour",e.feetPerSecond="feetPerSecond",e.milesPerHour="milesPerHour",e.knots="knots",e.mach="mach"}(oi||(oi={})),function(e){e.milesPerSecondSquared="milesPerSecondSquared",e.kilometersPerSecondSquared="kilometersPerSecondSquared",e.knotsPerSecond="knotsPerSecond",e.standardGravity="standardGravity",e.feetPerSecondSquared="feetPerSecondSquared",e.yardsPerSecondSquared="yardsPerSecondSquared",e.milesPerHourSecond="milesPerHourSecond",e.kilometersPerHourSecond="kilometersPerHourSecond",e.metersPerSecondSquared="metersPerSecondSquared"}(ai||(ai={}));var Zi,Ei=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zi=function(){function e(){this.type="FeatureCollection",this.bbox=null,this.features=[],this.groundOverlays=[],this.properties={},this.stats=null,this.icons={},this._groundOverlayOptions=[]}return e.enrich=function(t){if(t.properties&&!t.properties.title&&t.properties.name&&(t.properties.title=t.properties.name),e.getBounds(t),!t.stats)try{e.computeStats(t)}catch(e){t.stats={}}},e.merge=function(t,r){if(r){t.properties?r.properties||Object.keys(r.properties).forEach((function(e){t.properties[e]||"bounds"===e||(t.properties[e]=r.properties[e])})):t.properties=r.properties,r.features&&r.features.length>0&&(t.features&&t.features.length>0?t.features=t.features.concat(r.features):t.features=r.features),r._groundOverlayOptions&&r._groundOverlayOptions.length>0&&(t._groundOverlayOptions&&t._groundOverlayOptions.length>0?t._groundOverlayOptions=t._groundOverlayOptions.concat(r._groundOverlayOptions):t._groundOverlayOptions=r._groundOverlayOptions),r.groundOverlays&&r.groundOverlays.length>0&&(t.groundOverlays&&t.groundOverlays.length>0?t.groundOverlays=t.groundOverlays.concat(r.groundOverlays):t.groundOverlays=r.groundOverlays),r.icons&&(t.icons=Object.assign(t.icons||{},r.icons)),r.stats&&(t.stats?(t.stats.numPoints+=r.stats.numPoints,t.stats.numLineStrings+=r.stats.numLineStrings,t.stats.numPolygons+=r.stats.numPolygons,t.stats.numGroundOverlays+=r.stats.numGroundOverlays,t.stats.numNetworkLinks+=r.stats.numNetworkLinks,t.stats.numPositions+=r.stats.numPositions,t.stats.numCharacters+=r.stats.numCharacters):t.stats=r.stats);var n=t.bbox,i=r.bbox;n||(n=e.getBounds(t)),i||(i=e.getBounds(t)),null!==n&&null!==i?t.bbox=hi.merge(n,i):null!==i&&(t.bbox=i),t.properties&&t.properties.bounds&&(t.properties.bounds=void 0)}},e.computeStats=function(e){var t,r,n,i,o,a,s,l,c,u;if(e){var d={};if(e.stats&&(d={numCharacters:e.stats.numCharacters||0,numNetworkLinks:e.stats.numNetworkLinks||0,processingTime:0}),e.stats={numGroundOverlays:0,numLineStrings:0,numPoints:0,numPolygons:0,numPositions:0},Object.assign(e.stats,d),e._groundOverlayOptions&&e._groundOverlayOptions.length>0&&(e.stats.numGroundOverlays+=e._groundOverlayOptions.length,e.stats.numPositions+=4*e._groundOverlayOptions.length),e.features&&e.features.length>0)try{for(var h=Ei(e.features),p=h.next();!p.done;p=h.next()){var m=p.value.geometry;if(m)switch(m.type){case"Point":e.stats.numPoints++,e.stats.numPositions++;break;case"LineString":e.stats.numLineStrings++,e.stats.numPositions+=m.coordinates.length;break;case"Polygon":e.stats.numPolygons++;var y=m.coordinates;try{for(var f=(n=void 0,Ei(y)),g=f.next();!g.done;g=f.next()){var b=g.value;e.stats.numPositions+=b.length}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}break;case"MultiPoint":e.stats.numPoints+=m.coordinates.length,e.stats.numPositions+=m.coordinates.length;break;case"MultiLineString":e.stats.numLineStrings+=m.coordinates.length;var v=m.coordinates;try{for(var M=(o=void 0,Ei(v)),x=M.next();!x.done;x=M.next()){var S=x.value;e.stats.numPositions+=S.length}}catch(e){o={error:e}}finally{try{x&&!x.done&&(a=M.return)&&a.call(M)}finally{if(o)throw o.error}}break;case"MultiPolygon":e.stats.numPolygons+=m.coordinates.length;var w=m.coordinates;try{for(var _=(s=void 0,Ei(w)),T=_.next();!T.done;T=_.next()){var I=T.value;try{for(var C=(c=void 0,Ei(I)),k=C.next();!k.done;k=C.next())b=k.value,e.stats.numPositions+=b.length}catch(e){c={error:e}}finally{try{k&&!k.done&&(u=C.return)&&u.call(C)}finally{if(c)throw c.error}}}}catch(e){s={error:e}}finally{try{T&&!T.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}}}}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}}},e.getBounds=function(e){var t,r;if(e.bbox)return e.bbox;if(e.properties&&Array.isArray(e.properties.bounds)){var n=e.properties.bounds;return e.bbox=n,n}var i=null;if(e.features&&e.features.length>0&&(i=hi.fromData(e.features)),e._groundOverlayOptions&&e._groundOverlayOptions.length>0)try{for(var o=Ei(e._groundOverlayOptions),a=o.next();!a.done;a=o.next()){var s=a.value,l=s.bounds;!l&&s.coordinates&&(l=hi.fromPositions(s.coordinates)),l&&(i=i?hi.merge(i,l):l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return e.bbox=i,i},e}(),Gi=function(){function e(){}return e.prototype.merge=function(){for(var t,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=a.next();!s.done;s=a.next()){var l=s.value;if(l)for(var c in l)l.hasOwnProperty(c)&&this.hasOwnProperty(c)&&(void 0!==l[c]&&null!=l[c]?this[c]instanceof e?this[c].merge(l[c]):this[c]=l[c]:(n||(n=new(Object.getPrototypeOf(this).constructor)),this[c]=n[c]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this},e}(),Pi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ai=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showPointTitles=!1,t.enablePopups=!0,t.allowExtrusions=!0,t.visible=!0,t.popupTemplate=void 0,t.bubbleRadiusFactor=8,t}return Pi(t,e),t}(Gi),Ri=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Di=function(e){function t(t,r){var n,i=this;(i=e.call(this)||this)._options={},i._popup=new s.Popup,i._dataSourceUpdated=function(){i.closePopup()},i._mouseClick=function(e){var t,r;if(e&&e.shapes&&e.shapes.length>0){var n=e.shapes,o=void 0;try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),l=a.next();!l.done;l=a.next()){var c=l.value;if(c instanceof s.Shape){var u=c.getId(),d=i._datasource.getShapeById(u);if(d){o=d;break}}else if("Feature"===c.type&&c.layer&&c.layer.id&&(u=c.layer.id,i._layers.bubbleLayer.getId()===u||i._layers.extrudedPolygonLayer.getId()===u||i._layers.lineLayer.getId()===u||i._layers.polygonLayer.getId()===u||i._layers.symbolLayer.getId()===u)){o=c;break}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}o&&(o instanceof s.Shape||!o.properties||!o.properties.cluster?i._options.enablePopups&&i._showPopup(o,e.position):i._datasource.getClusterExpansionZoom(o.properties.cluster_id).then(i._getZoomClusterHandler(o)))}},i._mouseEnter=function(e){var t;e&&e.shapes&&e.shapes.length>0&&!(e.shapes[0]instanceof s.Shape)&&(t=e.shapes[0]),(i._options.enablePopups||t&&t.properties.cluster)&&(i.map.getCanvas().style.cursor="pointer")},i._mouseLeave=function(e){0===e.shapes.length&&(i.map.getCanvas().style.cursor="")},i._datasource=t;var o=null!==(n=null==r?void 0:r.bubbleRadiusFactor)&&void 0!==n?n:8;return i._layers={bubbleLayer:new s.layer.BubbleLayer(i._datasource,null,{color:["case",["has","color"],["get","color"],["has","marker-color"],["get","marker-color"],["has","point_count"],["step",["get","point_count"],"rgb(181,226,140)",10,"rgb(241,211,87)",100,"rgb(253,156,115)"],"#1A73AA"],filter:["all",["!",["has","image"]],["any",["==",["geometry-type"],"Point"],["==",["geometry-type"],"MultiPoint"]]],radius:["case",["has","size"],["*",["get","size"],o],["has","marker-size"],["match",["get","marker-size"],"small",6,"medium",8,"large",12,1],["has","scale"],["*",["get","scale"],o],["has","point_count"],2*o,o],strokeColor:["case",["has","point_count"],["step",["get","point_count"],"rgba(181,226,140,0.6)",10,"rgba(241,211,87,0.6)",100,"rgba(253,156,115,0.6)"],"white"]}),extrudedPolygonLayer:new s.layer.PolygonExtrusionLayer(i._datasource,null,{base:["case",["has","base"],["get","base"],0],fillColor:["case",["has","fillColor"],["get","fillColor"],["has","fill"],["get","fill"],"#1e90ff"],filter:["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]],["all",["has","height"],["!=",["get","height"],0]]],height:["get","height"]}),lineLayer:new s.layer.LineLayer(i._datasource,null,{filter:["any",["==",["geometry-type"],"LineString"],["==",["geometry-type"],"MultiLineString"],["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]],lineCap:"round",lineJoin:"round",strokeColor:["case",["has","strokeColor"],["get","strokeColor"],["has","stroke"],["get","stroke"],"#1e90ff"],strokeOpacity:["case",["has","strokeOpacity"],["get","strokeOpacity"],["has","stroke-opacity"],["get","stroke-opacity"],1],strokeWidth:["case",["has","strokeWidth"],["get","strokeWidth"],["has","stroke-width"],["get","stroke-width"],["has","stroke-thickness"],["get","stroke-thickness"],3]}),polygonLayer:new s.layer.PolygonLayer(i._datasource,null,{fillColor:["case",["has","fillColor"],["get","fillColor"],["has","fill"],["get","fill"],"#1e90ff"],fillOpacity:["case",["has","fillOpacity"],["get","fillOpacity"],["has","fill-opacity"],["get","fill-opacity"],.5],filter:["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]],["any",["!",["has","height"]],["==",["get","height"],0]]]}),symbolLayer:new s.layer.SymbolLayer(i._datasource,null,{filter:["all",["any",["==",["geometry-type"],"Point"],["==",["geometry-type"],"MultiPoint"]]],iconOptions:{allowOverlap:!0,anchor:["case",["has","anchor"],["match",["get","anchor"],["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],["get","anchor"],"bottom"],"bottom"],ignorePlacement:!0,image:["case",["has","image"],["get","image"],"none"],offset:["case",["has","offset"],["get","offset"],["literal",[0,0]]],rotation:["case",["has","rotation"],["get","rotation"],0],size:["case",["has","size"],["get","size"],["has","marker-size"],["match",["get","marker-size"],"small",.5,"medium",1,"large",2,1],1]},textOptions:{offset:["case",["has","image"],["literal",[0,1.2]],["has","point_count_abbreviated"],["literal",[0,.4]],["literal",[0,2]]],textField:["format",["case",["has","point_count_abbreviated"],["get","point_count_abbreviated"],""],{}]}})},i.setOptions(r),i}return Ri(t,e),t.prototype.closePopup=function(){this._popup.setOptions({content:""}),this._popup.close()},t.prototype.dispose=function(){this.onRemove(),delete this._popup,delete this._options},t.prototype.getLayers=function(){return Object.assign({},this._layers)},t.prototype.getOptions=function(){return Sn(this._options)},t.prototype.setOptions=function(e){var t=(new Ai).merge(this._options,Sn(e));this._options.enablePopups&&!t.enablePopups?this.closePopup():Qn(this._options.popupTemplate,t.popupTemplate)||this.closePopup(),this._options.allowExtrusions!==t.allowExtrusions&&(t.allowExtrusions?(this._layers.extrudedPolygonLayer.setOptions({filter:["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]],["all",["has","height"],["!=",["get","height"],0]]],visible:this._options.visible}),this._layers.polygonLayer.setOptions({filter:["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]],["any",["!",["has","height"]],["==",["get","height"],0]]]})):(this._layers.extrudedPolygonLayer.setOptions({visible:!1}),this._layers.polygonLayer.setOptions({filter:["all",["any",["==",["geometry-type"],"Polygon"],["==",["geometry-type"],"MultiPolygon"]]]}))),this._options.showPointTitles!==t.showPointTitles&&(t.showPointTitles?this._layers.symbolLayer.setOptions({textOptions:{textField:["format",["case",["has","title"],["get","title"],["has","name"],["get","name"],["has","point_count_abbreviated"],["get","point_count_abbreviated"],""],{}]}}):this._layers.symbolLayer.setOptions({textOptions:{textField:["format",["case",["has","point_count_abbreviated"],["get","point_count_abbreviated"],""],{}]}})),this._options.bubbleRadiusFactor!==t.bubbleRadiusFactor&&this._layers.bubbleLayer.setOptions({radius:["case",["has","size"],["*",["get","size"],t.bubbleRadiusFactor],["has","marker-size"],["match",["get","marker-size"],"small",6,"medium",8,"large",12,1],["has","scale"],["*",["get","scale"],t.bubbleRadiusFactor],["has","point_count"],2*t.bubbleRadiusFactor,t.bubbleRadiusFactor]}),this._options.visible!==t.visible&&(this._layers.polygonLayer.setOptions({visible:t.visible}),this._layers.lineLayer.setOptions({visible:t.visible}),this._layers.extrudedPolygonLayer.setOptions({visible:t.visible&&t.allowExtrusions}),this._layers.bubbleLayer.setOptions({visible:t.visible}),this._layers.symbolLayer.setOptions({visible:t.visible})),this._options=t},t.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t),this.closePopup(),this._popup.attach(this.map),this.map.layers.add([this._layers.polygonLayer,this._layers.lineLayer,this._layers.extrudedPolygonLayer],"labels"),this.map.layers.add([this._layers.bubbleLayer,this._layers.symbolLayer]),this.map.events.add("mouseleave",this,this._mouseLeave),this.map.events.add("mouseenter",this,this._mouseEnter),this.map.events.add("click",this._mouseClick),this.map.events.add("datasourceupdated",this._datasource,this._dataSourceUpdated),this.map.events.add("dataremoved",this._datasource,this._dataSourceUpdated)},t.prototype.onRemove=function(){var t=this;this._popup.remove(),this.map.events.remove("mouseleave",this,this._mouseLeave),this.map.events.remove("mouseenter",this,this._mouseEnter),this.map.events.remove("datasourceupdated",this._datasource,this._dataSourceUpdated),this.map.events.remove("dataremoved",this._datasource,this._dataSourceUpdated),this.map.layers.remove(Object.values(this._layers).filter((function(e){return!!t.map.layers.getLayerById(e.getId())}))),e.prototype.onRemove.call(this)},t.prototype._buildLayers=function(){return[]},t.prototype._getLayerIds=function(){var e;return(e=new Array).concat.apply(e,function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(Object.values(this._layers).map((function(e){return e._getLayerIds()}))),!1))},t.prototype._getSourceIds=function(){return new Set([this._datasource.getId()])},t.prototype._getZoomClusterHandler=function(e){var t=this;return function(r){t.map.setCamera({center:e.geometry.coordinates,duration:200,type:"ease",zoom:r})}},t.prototype._showPopup=function(e,t){var r=e instanceof s.Shape?e.getProperties():e.properties,n=this._options.popupTemplate;r.popupTemplate&&(n=r.popupTemplate);var i=t,o=[0,0],a=!1;e instanceof s.Shape&&"Point"===e.getType()?(i=e.getCoordinates(),a=!0):e instanceof s.Shape||"Point"!==e.type||(i=e.geometry.coordinates,a=!0),a&&r.image&&"center"!==r.anchor&&(o=[0,-18]);var l=s.PopupTemplate.applyTemplate(r,n);l&&(this._popup.setOptions({content:l,fillColor:n?n.fillColor:void 0,pixelOffset:o,position:i}),this._popup.open(this.map))},t}(s.layer.Layer),Xi=function(){return Xi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xi.apply(this,arguments)},Oi=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wi=function(){function e(){}return e.addAttributesToObject=function(e,t){if(e&&e.attributes){var r=e.attributes;Object.keys(r).forEach((function(e){"gml:id"===e?t.id=r[e]:e.startsWith("xmlns")||e.startsWith("xsi")||e.startsWith("_")||(e.includes(":")?t[e.substr(e.indexOf(":")+1)]=r[e]:t[e]=r[e])}))}},e.ajaxGetAsync=function(t,r,n,i,o){return function(e,t,r,n){return new(r||(r=Promise))((function(t,i){function o(e){try{s(n.next(e))}catch(e){i(e)}}function a(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}))}(this,0,void 0,(function(){var a,s,l,c,u,d,h,p;return function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(m){switch(m.label){case 0:a="string"==typeof t?this.parseURL(t):t,t=a.absolutePath,e.isValidString(r)&&(t=r+encodeURIComponent(t)),o=o||"SpatialIoRequest",s={Origin:"*"},m.label=1;case 1:return m.trys.push([1,18,,19]),l=void 0,n?"function"!=typeof n?[3,3]:(c=n(t,o)||{},[4,fetch(c.url||t,{credentials:c.credentials,headers:Xi(Xi({},s),c.headers)})]):[3,6];case 2:return l=m.sent(),[3,5];case 3:return[4,n._sendRequest(t,o,s)];case 4:l=m.sent(),m.label=5;case 5:return[3,8];case 6:return[4,fetch(t,{headers:s})];case 7:l=m.sent(),m.label=8;case 8:return l.ok?i?(u=l.headers.get("Content-Type"),this.isCompressedContentType(u)?[4,l.arrayBuffer()]:[3,10]):[3,13]:[3,16];case 9:return[2,m.sent()];case 10:return[4,l.arrayBuffer()];case 11:return d=m.sent(),h=this.arrayBufferToString(d,10),!u&&/^(PK|PNG|JPEG|JPG|BMP|GIF)/.test(h)?[2,d]:[2,this.arrayBufferToString(d)];case 12:return[3,15];case 13:return[4,l.text()];case 14:return[2,m.sent()];case 15:return[3,17];case 16:throw new Error("Error downloading file. Status code: ".concat(l.status));case 17:return[3,19];case 18:if((p=m.sent())&&"Failed to fetch"===p.message)throw new Error("Failed to fetch. Ensure that the resource you are trying to access is on a CORs enabled endpoint.");throw p;case 19:return[2]}}))}))},e.arrayBufferToString=function(e,t){var r,n,i,o,a,s=new Uint8Array(e),l=[];for(n=t>0?Math.min(t,s.length):s.length,r=0;r<n;)switch((i=s[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l.push(String.fromCharCode(i));break;case 12:case 13:o=s[r++],l.push(String.fromCharCode((31&i)<<6|63&o));break;case 14:o=s[r++],a=s[r++],l.push(String.fromCharCode((15&i)<<12|(63&o)<<6|63&a))}return l.join("")},e.closeRing=function(e){e.length>=2&&!ui.areEqual(e[0],e[e.length-1],6)&&e.push(e[0])},e.colorToHex=function(e){var t;return"#"+("0"+(t=Array.isArray(e)?e:this.colorToRgbaArray(e))[0].toString(16)).slice(-2)+("0"+t[1].toString(16)).slice(-2)+("0"+t[2].toString(16)).slice(-2)},e.colorToRgba=function(t){var r;if(Array.isArray(t))r=t;else{if(t.includes("rgba(")||t.includes("rgb("))return t;e.isValidString(t)&&(r=this.colorToRgbaArray(t))}r.length>=4&&r[3]>1&&(r[3]/=255),r||(r=[]);for(var n=0;n<4;n++)r.length<n-1?r.push(0):r[n]<0&&(r[n]=0);return"rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"},e.colorToRgbaArray=function(t){if(e.isValidString(t)){var r=void 0;if((t=t.toLowerCase()).includes("rgba(")||t.includes("rgb(")){var n=(t=t.replace("rgba(","").replace("rgb(","").replace(")","")).split(/\s*,\s*/);if(n.length>=3){r=[];for(var i=0;i<n.length;i++)if(n[i].includes("%")){var o=parseInt(n[i])/100;3===i?r.push(o):r.push(255*o)}else r.push(parseInt(n[i]));return 3===r.length?r.push(1):r.length>=4&&r[3]>1&&(r[3]=r[3]/255),r}return[0,0,0,0]}if(r=this.cssColorNames[t])return r;t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n}));var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1]:[0,0,0,0]}},e.createPosition=function(t,r,n,i){if(e.isValidNumber(t)&&e.isValidNumber(r)){var o=[t,r];return e.isValidNumber(n)&&o.push(n),i&&(o[0]=ki(o[0]),o[1]=Ci(o[1])),o}},e.docHasData=function(e){return e&&e.root&&e.root.childNodes&&e.root.childNodes.length>0},e.doesElementContainTagName=function(e,t){var r,n;if(e&&t&&t.childNodes)try{for(var i=Oi(t.childNodes),o=i.next();!o.done;o=i.next())if(o.value.tagName===e)return!0}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e.escapeHtml=function(e){return e?(e.includes("&lt;")&&e.includes("&gt;")&&e.includes("&quot;")&&e.includes("&apos;")&&e.includes("&amp;")||(e=e.replace(/&/g,"&amp;")),e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")):null},e.getElementByTagName=function(e,t){var r,n;if(e&&t&&t.childNodes)try{for(var i=Oi(t.childNodes),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.tagName===e)return a}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null},e.ignoreProperty=function(e,t){if(e)switch(e){case"title":case"name":case"base":case"popupTemplate":case"anchor":case"image":case"imageUrl":case"rotation":case"color":case"size":case"offset":case"strokeColor":case"strokeWidth":case"strokeOpacity":case"fillColor":case"fillOpacity":case"visibility":case"visible":return!0;default:if(e.startsWith("_"))return!0}return null==t||""===t},e.isBinaryData=function(e){return 67324752===new Int32Array(e,0,1)[0]},e.isCompressedContentType=function(e){return"application/vnd.google-earth.kmz"===e||"application/zip"===e||"application/octet-stream"===e||e.startsWith("image/")},e.isUrl=function(t){return t&&"string"==typeof t&&(t.startsWith("data:image")||e.protocolRx.test(t))},e.isValidNumber=function(e){return!isNaN(e)&&null!==e&&"number"==typeof e},e.isValidString=function(e){return e&&"string"==typeof e&&""!==e},e.matchFirstPreference=function(e,t){var r,n;try{for(var i=Oi(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.includes(a))return a}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null},e.parseBoolean=function(e){try{if(e=e.trim())switch(e.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;default:return Boolean(e)}}catch(e){}return!1},e.parseQueryStringParams=function(e,t,r){r&&(e=e.replace(/&amp;/gi,"&"));var n=e.indexOf("?");if(n>=0){var i=e.substring(n+1);if(i)return i.split("&").map((function(e){return e.split("=")})).reduce((function(e,r){var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(r,2),i=n[0],o=n[1];return e[t?i.toLowerCase():i]=decodeURI(o),e}),{})}return{}},e.parseURL=function(e,t){var r=e.match(this._urlParseRx),n={fileName:null,hash:r[10]||"",host:r[3]||"",hostname:r[6]||"",href:r[0]||"",origin:r[1]||"",password:r[5]||"",pathname:r[8]||(r[1]?"/":""),port:r[7]||"",protocol:r[2]||"",search:r[9]||"",username:r[4]||""};if(2===n.protocol.length&&(n.protocol="file:///"+n.protocol.toUpperCase(),n.origin=n.protocol+"//"+n.host),n.href=n.origin+n.pathname+n.search+n.hash,n.pathname&&!n.pathname.endsWith("/")&&(n.fileName=n.pathname.replace(/^.*[\\\/]/,"")),!this.protocolRx.test(e)&&!e.startsWith("data:")&&t&&t.host&&n.host!==t.host){var i=t.protocol+"//"+t.host;e.startsWith("/")||(i+="/",t.fileName?i+=t.pathName.substring(0,t.pathName.indexOf(t.fileName)):i+=t.pathName+"/"),i+=e,n.href=i}return{absolutePath:n.href,fileName:n.fileName,host:n.host,hostName:n.hostname,pathName:n.pathname,protocol:n.protocol,queryString:n.search}},e.replaceNewlines=function(e){return e.includes("<")?e.replace(/<p><\/p>/g,"").replace(/(\r\n|\n|\r){2,}/g,"\n"):e.replace(/(\r\n|\r|\n)/g,"<br/>")},e.roundBBox=function(e,t){return e.length>=6?[this.roundToPrecision(e[0],t),this.roundToPrecision(e[1],t),e[2],this.roundToPrecision(e[3],t),this.roundToPrecision(e[4],t),e[5]]:[this.roundToPrecision(e[0],t),this.roundToPrecision(e[1],t),this.roundToPrecision(e[2],t),this.roundToPrecision(e[3],t)]},e.roundPosition=function(e,t){var r=[this.roundToPrecision(e[0],t),this.roundToPrecision(e[1],t)];return e.length>2&&r.push(r[2]),r},e.roundToPrecision=function(e,t){t<0&&(t=0),t>10&&(t=10);var r=this._powerFactor[t];return Math.round(e*r+1e-14)/r},e.sanitizeTypeName=function(e){if(e){if(e.startsWith("gml:"))return e;var t=e.toLowerCase();if(t.includes(":")){var r=t.split(":");r.length>1&&(t=r[1])}switch(t){case"byte":case"int":case"uint":case"usignedint":case"usignedlong":case"usignedshort":case"usignedbyte":case"integer":case"negativeinteger":case"positiveinteger":case"nonnegativeinteger":case"nonpositiveinteger":case"short":case"long":case"decimal":case"double":case"float":return"number";case"boolean":case"bool":return"boolean";case"date":case"datetime":return"date"}}return e},e.simplifyXmlNode=function(e){var t,r;if(e&&(e.attributes||e.childNodes)){var n={};if(this.addAttributesToObject(e,n),e.childNodes)try{for(var i=Oi(e.childNodes),o=i.next();!o.done;o=i.next()){var a=o.value;a.value?n[a.tagName]=a.value:a.childNodes&&a.childNodes.length>0&&(n[a.tagName]=this.simplifyXmlNode(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return e.value&&void 0===n.value&&(n.value=e.value),n}return null},e.tryCastObject=function(t,r){if(r)try{switch(r){case"number":var n=parseFloat(t);if(e.isValidNumber(n))return n;break;case"boolean":return e.parseBoolean(t);case"date":return Li(t)}}catch(e){}return t},e.unescapeHTML=function(e){return e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&nbsp;/g," ").replace(/&amp;/g,"&"):null},e._powerFactor=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],e._urlParseRx=/^(([^:\/?#]+:)?(?:\/\/((?:([^\/?#:]*):([^\/?#:]*)@)?([^\/?#:]*)(?::([^\/?#:]*))?)))?([^?#]*)(\?[^#]*)?(#.*)?$/,e.containsHtmlRx=/<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[\^'">\s]+))?)+\s*|\s*)\/?>/,e.containsSpecialCharRx=/[&<>"']/,e.cssColorNames={aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],transparent:[0,0,0,0],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1],grn:[0,128,0,1],ltblu:[173,216,230,1],wht:[255,255,255,1],ylw:[255,255,0,1],modis_00_to_06hr_fire:[139,0,0,1],modis_06_to_12hr_fire:[255,0,0,1],modis_12_to_24hr_fire:[255,165,0,1],modis_prev_6_days_fire:[255,255,0,1]},e.mmPerPixelGpx=3.7795275591,e.protocolRx=/^(?:[a-zA-Z]+:)?\/\//,e}(),ji=function(){function e(e){this._position=0,this._parseNamespaces=!0,this._letterRx=/[a-zA-Z]/,this._attributeStartRx=/[a-zA-Z'">]/,this._nameTerminator=new Set("\r\n\t>/= "),this._namespacePrefixRx=/^xmlns(:|$)/i,"boolean"==typeof e&&(this._parseNamespaces=e)}return e.prototype.parse=function(e){this._position=0,this._namespaces={};var t=this._parseChildren(e);return 1===t.length?{namespaces:this._namespaces,root:t[0]}:null},e.prototype._parseChildren=function(e){for(var t,r,n=[];e[this._position];){if("<"===e[this._position]){switch(e[this._position+1]){case"/":return this._advancePositionToSubstring(e,">"),n;case"!":case"?":switch(this._position+=2,e[this._position]){case"-":this._advancePositionToSubstring(e,"--\x3e");break;case"[":this._position+=7,r=this._position,this._advancePositionToSubstring(e,"]]>"),this._position>r&&(t=e.substring(r,this._position-2))&&t.trim().length>0&&n.push(t);break;default:this._advancePositionToSubstring(e,">")}this._position++;continue}n.push(this._parseNode(e))}else r=this._position,this._position=e.indexOf("<",this._position)-1,-2===this._position&&(this._position=e.length),(t=e.substring(r,this._position+1))&&t.trim().length>0&&n.push(t);this._position++}return n},e.prototype._parseNode=function(e){this._position++;var t,r=this._parseName(e);if(this._parseNamespaces&&r.includes(":")){var n=r.split(":");2===n.length&&(t=n[0],r=n[1])}var i={attributes:this._parseAttributes(e),nsPrefix:t,tagName:r};if("/"!==e[this._position-1]){this._position++;var o=this._parseChildren(e);1===o.length&&"string"==typeof o[0]?i.value=o[0]:i.childNodes=o}return i},e.prototype._parseAttributes=function(e){for(var t,r,n,i,o=null,a=e[this._position];">"!==a;){if(this._letterRx.test(a)){for(o||(o={}),t=this._parseName(e),a=e[this._position];!this._attributeStartRx.test(a);)this._position++,a=e[this._position];if("'"===a||'"'===a?(i=e[this._position],n=++this._position,this._position=e.indexOf(i,n),r=e.substring(n,this._position)):(r=null,this._position--),o[t]=r,this._parseNamespaces&&this._namespacePrefixRx.test(t))if(t.includes(":")){var s=t.split(":");2===s.length&&(this._namespaces[s[1]]=r)}else this._namespaces[t]=r}this._position++,a=e[this._position]}return o},e.prototype._parseName=function(e){for(var t=this._position;!this._nameTerminator.has(e[this._position]);)this._position++;return e.substring(t,this._position)},e.prototype._advancePositionToSubstring=function(e,t){this._position=e.indexOf(t,this._position)-1,-1===this._position?this._position=e.length:this._position+=t.length},e}(),Yi=h({exports:{}}.exports=function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){if(!s&&qn)return qn(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,r,n)}return r[a].exports}for(var o=qn,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){var n=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,a,s,l,c,u=[],d=0,h=e.length,p=h,m="string"!==n.getTypeOf(e);d<e.length;)p=h-d,i=m?(t=e[d++],r=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),r=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|r>>4,l=1<p?(15&r)<<2|i>>6:64,c=2<p?63&i:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return u.join("")},r.decode=function(e){var t,r,n,a,s,l,c=0,u=0;if("data:"===e.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,r=(15&a)<<4|(s=o.indexOf(e.charAt(c++)))>>2,n=(3&s)<<6|(l=o.indexOf(e.charAt(c++))),d[u++]=t,64!==s&&(d[u++]=r),64!==l&&(d[u++]=n);return d}},{"./support":30,"./utils":32}],2:[function(e,t,r){var n=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){var n=e("./utils"),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r){var n=i,o=0+r;e^=-1;for(var a=0;a<o;a++)e=e>>>8^n[255&(e^t[a])];return~e}(0|t,e,e.length):function(e,t,r){var n=i,o=0+r;e^=-1;for(var a=0;a<o;a++)e=e>>>8^n[255&(e^t.charCodeAt(a))];return~e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function i(e,t,r,i,a,u){var d,h,p=e.file,m=e.compression,y=u!==s.utf8encode,f=o.transformTo("string",u(p.name)),g=o.transformTo("string",s.utf8encode(p.name)),b=p.comment,v=o.transformTo("string",u(b)),M=o.transformTo("string",s.utf8encode(b)),x=g.length!==p.name.length,S=M.length!==b.length,w="",_="",T="",I=p.dir,C=p.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var L=0;t&&(L|=8),y||!x&&!S||(L|=2048);var N=0,Z=0;I&&(N|=16),"UNIX"===a?(Z=798,N|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(p.unixPermissions,I)):(Z=20,N|=function(e){return 63&(e||0)}(p.dosPermissions)),d=C.getUTCHours(),d<<=6,d|=C.getUTCMinutes(),d<<=5,d|=C.getUTCSeconds()/2,h=C.getUTCFullYear()-1980,h<<=4,h|=C.getUTCMonth()+1,h<<=5,h|=C.getUTCDate(),x&&(_=n(1,1)+n(l(f),4)+g,w+="up"+n(_.length,2)+_),S&&(T=n(1,1)+n(l(v),4)+M,w+="uc"+n(T.length,2)+T);var E="";return E+="\n\0",E+=n(L,2),E+=m.magic,E+=n(d,2),E+=n(h,2),E+=n(k.crc32,4),E+=n(k.compressedSize,4),E+=n(k.uncompressedSize,4),E+=n(f.length,2),E+=n(w.length,2),{fileRecord:c.LOCAL_FILE_HEADER+E+f+w,dirRecord:c.CENTRAL_FILE_HEADER+n(Z,2)+E+n(v.length,2)+"\0\0\0\0"+n(N,4)+n(i,4)+f+w+v}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,r,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=function(e,t,r,i,a){var s=o.transformTo("string",a(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){var n=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var o=new i(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var i=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,c=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){var n=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new i.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var o=0;o<n.length;o++)r.push(c(n[o]));return i.Promise.all(r)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],l=s.fileNameStr,c=n.resolve(s.fileNameStr);r.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(r.file(c).unsafeOriginalName=l)}return i.zipComment.length&&(r.comment=i.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){var n=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),r&&r(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){t.exports={isNode:void 0!==o,newBufferFrom:function(e,t){if(o.from&&o.from!==Uint8Array.from)return o.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new o(e,t)},allocBuffer:function(e){if(o.alloc)return o.alloc(e);var t=new o(e);return t.fill(0),t},isBuffer:function(e){return o.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){function n(e,t,r){var n,i=o.getTypeOf(t),s=o.extend(r||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=y(e)),s.createFolders&&(n=m(e))&&f.call(this,n,!0);var d,g="string"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!g),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string"),d=t instanceof c||t instanceof a?t:h.isNode&&h.isStream(t)?new p(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var b=new u(e,d,s);this.files[e]=b}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},y=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},f=function(e,t){return t=void 0!==t?t:l.createFolders,e=y(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=f.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=d.generateWorker(this,r,n)}catch(e){(t=new a("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){var n=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){var n=e("./GenericWorker"),i=e("../utils");function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){var n=e("./GenericWorker"),i=e("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){var n=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),s=e("../base64"),l=e("../support"),c=e("../external"),u=null;if(l.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t,r){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=r,n.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return function(e,t){return new c.Promise((function(r,i){var a=[],l=e._internalType,c=e._outputType,u=e._mimeType;e.on("data",(function(e,r){a.push(e),t&&t(r)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return n.transformTo(e,t)}}(c,function(e,t){var r,n=0,i=null,a=0;for(r=0;r<t.length;r++)a+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return o.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,a),u);r(e)}catch(e){i(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==o,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){for(var n=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,r,n,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=a=0;a<l;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,o,a=e.length,l=new Array(2*a);for(t=r=0;t<a;)if((i=e[t++])<128)l[r++]=i;else if(4<(o=s[i]))l[r++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(c,a),c.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:r.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,n.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){var n=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],i=0,o=e.length;if(o<=r)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,o)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=u;var h={};h.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},h.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return h[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."===i||""===i&&0!==n&&n!==t.length-1||(".."===i?r.pop():r.push(i))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&o.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,o,s,c){return a.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var u=r.getTypeOf(t);return u?("arraybuffer"===u?t=r.transformTo("uint8array",t):"string"===u&&(c?t=i.decode(t):o&&!0!==s&&(t=function(e){return l(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){var n=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){var n=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)n.prototype[c[d]]=u;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,r=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||r()}}).call(this,void 0!==d?d:"undefined"!=typeof self?self:void 0!==i?i:{})},{}],37:[function(e,t,r){var n=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return o.reject(e,n)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function n(t){r||(r=!0,o.reject(e,t))}function i(t){r||(r=!0,o.resolve(e,t))}var a=m((function(){t(i,n)}));"error"===a.status&&n(a.value)}function m(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(i);return this.state!==l?d(r,this.state===s?e:t,this.outcome):this.queue.push(new u(r,e,t)),r},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var r=m(h,t);if("error"===r.status)return o.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,c=new this(i);++l<r;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==r||n||(n=!0,o.resolve(c,a))}),(function(e){n||(n=!0,o.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,a=-1,s=new this(i);++a<t;)n=e[a],this.resolve(n).then((function(e){r||(r=!0,o.resolve(s,e))}),(function(e){r||(r=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,r){var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){var n=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(a[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,u)))throw new Error(a[r]);this._dict_set=!0}}function u(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}c.prototype.push=function(e,t){var r,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),!(s.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=c,r.deflate=u,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){var n=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function h(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,l,c,d,h,p=this.strm,m=this.options.chunkSize,y=this.options.dictionary,f=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(m),p.next_out=0,p.avail_out=m),(r=n.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&y&&(h="string"==typeof y?o.string2buf(y):"[object ArrayBuffer]"===u.call(y)?new Uint8Array(y):y,r=n.inflateSetDictionary(this.strm,h)),r===a.Z_BUF_ERROR&&!0===f&&(r=a.Z_OK,f=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&r!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),c=p.next_out-l,d=o.buf2string(p.output,l),p.next_out=c,p.avail_out=m-c,c&&i.arraySet(p.output,p.output,l,c,0),this.onData(d)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(f=!0)}while((0<p.avail_in||0===p.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=d,r.inflate=h,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},r.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],42:[function(e,t,r){var n=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),o=a=0;a<l;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,o,s=t||e.length,c=new Array(2*s);for(r=n=0;r<s;)if((i=e[r++])<128)c[n++]=i;else if(4<(o=a[i]))c[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&r<s;)i=i<<6|63&e[r++],o--;1<o?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return l(c,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){t.exports=function(e,t,r,n){for(var i=65535&e,o=e>>>16&65535,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;o=o+(i=i+t[n++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16}},{}],44:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var o=n,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return~e}},{}],46:[function(e,t,r){var n,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=-2,u=258,d=262,h=113;function p(e,t){return e.msg=l[t],t}function m(e){return(e<<1)-(4<e?9:0)}function y(e){for(var t=e.length;0<=--t;)e[t]=0}function f(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function g(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function b(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function M(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,c=e.window,h=e.w_mask,p=e.prev,m=e.strstart+u,y=c[o+a-1],f=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+a]===f&&c[r+a-1]===y&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<m);if(n=u-(m-o),o=m-u,a<n){if(e.match_start=t,s<=(a=n))break;y=c[o+a-1],f=c[o+a]}}}while((t=p[t&h])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function x(e){var t,r,n,o,l,c,u,h,p,m,y=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=y+(y-d)){for(i.arraySet(e.window,e.window,y,y,0),e.match_start-=y,e.strstart-=y,e.block_start-=y,t=r=e.hash_size;n=e.head[--t],e.head[t]=y<=n?n-y:0,--r;);for(t=r=y;n=e.prev[--t],e.prev[t]=y<=n?n-y:0,--r;);o+=y}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,h=e.strstart+e.lookahead,m=void 0,(p=o)<(m=c.avail_in)&&(m=p),r=0===m?0:(c.avail_in-=m,i.arraySet(u,c.input,c.next_in,m,h),1===c.state.wrap?c.adler=a(c.adler,u,m,h):2===c.state.wrap&&(c.adler=s(c.adler,u,m,h)),c.next_in+=m,c.total_in+=m,m),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function S(e,t){for(var r,n;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-d&&(e.match_length=M(e,r)),e.match_length>=3)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function w(e,t){for(var r,n,i;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-d&&(e.match_length=M(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function _(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:h,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):p(e,c)}function C(e){var t=I(e);return 0===t&&function(e){e.window_size=2*e.w_size,y(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function k(e,t,r,n,o,a){if(!e)return c;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),o<1||9<o||8!==r||n<8||15<n||t<0||9<t||a<0||4<a)return p(e,c);8===n&&(n=9);var l=new T;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,C(e)}n=[new _(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,g(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(g(e,!1),e.strm.avail_out),1)})),new _(4,4,8,4,S),new _(4,5,16,8,S),new _(4,6,32,32,S),new _(4,4,16,16,w),new _(8,16,32,32,w),new _(8,16,128,128,w),new _(8,32,128,256,w),new _(32,128,258,1024,w),new _(32,258,258,4096,w)],r.deflateInit=function(e,t){return k(e,t,8,15,8,0)},r.deflateInit2=k,r.deflateReset=C,r.deflateResetKeep=I,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},r.deflate=function(e,t){var r,i,a,l;if(!e||!e.state||5<t||t<0)return e?p(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return p(e,0===e.avail_out?-5:c);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,b(i,31),b(i,139),b(i,8),i.gzhead?(b(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),b(i,255&i.gzhead.time),b(i,i.gzhead.time>>8&255),b(i,i.gzhead.time>>16&255),b(i,i.gzhead.time>>24&255),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(b(i,255&i.gzhead.extra.length),b(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(b(i,0),b(i,0),b(i,0),b(i,0),b(i,0),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,3),i.status=h);else{var d=8+(i.w_bits-8<<4)<<8;d|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=h,v(i,d),0!==i.strstart&&(v(i,e.adler>>>16),v(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),f(e),a=i.pending,i.pending!==i.pending_buf_size));)b(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),f(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,b(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),f(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,b(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(e),i.pending+2<=i.pending_buf_size&&(b(i,255&e.adler),b(i,e.adler>>8&255),e.adler=0,i.status=h)):i.status=h),0!==i.pending){if(f(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&m(t)<=m(r)&&4!==t)return p(e,-5);if(666===i.status&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var M=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=u){if(x(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+u;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=u-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==M&&4!==M||(i.status=666),1===M||3===M)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===M&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(y(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(b(i,255&e.adler),b(i,e.adler>>8&255),b(i,e.adler>>16&255),b(i,e.adler>>24&255),b(i,255&e.total_in),b(i,e.total_in>>8&255),b(i,e.total_in>>16&255),b(i,e.total_in>>24&255)):(v(i,e.adler>>>16),v(i,65535&e.adler)),f(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==h&&666!==t?p(e,c):(e.state=null,t===h?p(e,-3):0):c},r.deflateSetDictionary=function(e,t){var r,n,o,s,l,u,d,h,p=t.length;if(!e||!e.state)return c;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return c;for(1===s&&(e.adler=a(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(y(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,t,p-r.w_size,r.w_size,0),t=h,p=r.w_size),l=e.avail_in,u=e.next_in,d=e.input,e.avail_in=p,e.next_in=0,e.input=t,x(r);r.lookahead>=3;){for(n=r.strstart,o=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--o;);r.strstart=n,r.lookahead=2,x(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=d,e.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){t.exports=function(e,t){var r,n,i,o,a,s,l,c,u,d,h,p,m,y,f,g,b,v,M,x,S,w,_,T,I;r=e.state,n=e.next_in,T=e.input,i=n+(e.avail_in-5),o=e.next_out,I=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=r.dmax,c=r.wsize,u=r.whave,d=r.wnext,h=r.window,p=r.hold,m=r.bits,y=r.lencode,f=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{m<15&&(p+=T[n++]<<m,m+=8,p+=T[n++]<<m,m+=8),v=y[p&g];t:for(;;){if(p>>>=M=v>>>24,m-=M,0==(M=v>>>16&255))I[o++]=65535&v;else{if(!(16&M)){if(!(64&M)){v=y[(65535&v)+(p&(1<<M)-1)];continue t}if(32&M){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}x=65535&v,(M&=15)&&(m<M&&(p+=T[n++]<<m,m+=8),x+=p&(1<<M)-1,p>>>=M,m-=M),m<15&&(p+=T[n++]<<m,m+=8,p+=T[n++]<<m,m+=8),v=f[p&b];r:for(;;){if(p>>>=M=v>>>24,m-=M,!(16&(M=v>>>16&255))){if(!(64&M)){v=f[(65535&v)+(p&(1<<M)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(S=65535&v,m<(M&=15)&&(p+=T[n++]<<m,(m+=8)<M&&(p+=T[n++]<<m,m+=8)),l<(S+=p&(1<<M)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(p>>>=M,m-=M,(M=o-a)<S){if(u<(M=S-M)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(_=h,(w=0)===d){if(w+=c-M,M<x){for(x-=M;I[o++]=h[w++],--M;);w=o-S,_=I}}else if(d<M){if(w+=c+d-M,(M-=d)<x){for(x-=M;I[o++]=h[w++],--M;);if(w=0,d<x){for(x-=M=d;I[o++]=h[w++],--M;);w=o-S,_=I}}}else if(w+=d-M,M<x){for(x-=M;I[o++]=h[w++],--M;);w=o-S,_=I}for(;2<x;)I[o++]=_[w++],I[o++]=_[w++],I[o++]=_[w++],x-=3;x&&(I[o++]=_[w++],1<x&&(I[o++]=_[w++]))}else{for(w=o-S;I[o++]=I[w++],I[o++]=I[w++],I[o++]=I[w++],2<(x-=3););x&&(I[o++]=I[w++],1<x&&(I[o++]=I[w++]))}break}}break}}while(n<i&&o<s);n-=x=m>>3,p&=(1<<(m-=x<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<s?s-o+257:257-(o-s),r.hold=p,r.bits=m}},{}],49:[function(e,t,r){var n=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=-2;function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):l}function p(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,h(e))):l}function m(e,t){var r,n;return e?(n=new u,(e.state=n).window=null,0!==(r=p(e,t))&&(e.state=null),r):l}var y,f,g=!0;function b(e){if(g){var t;for(y=new n.Buf32(512),f=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,f,0,e.work,{bits:5}),g=!1}e.lencode=y,e.lenbits=9,e.distcode=f,e.distbits=5}function v(e,t,r,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),n.arraySet(a.window,t,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}r.inflateReset=h,r.inflateReset2=p,r.inflateResetKeep=d,r.inflateInit=function(e){return m(e,15)},r.inflateInit2=m,r.inflate=function(e,t){var r,u,d,h,p,m,y,f,g,M,x,S,w,_,T,I,C,k,L,N,Z,E,z,G,P=0,A=new n.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(r=e.state).mode&&(r.mode=13),p=e.next_out,d=e.output,y=e.avail_out,h=e.next_in,u=e.input,m=e.avail_in,f=r.hold,g=r.bits,M=m,x=y,E=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;g<16;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(2&r.wrap&&35615===f){A[r.check=0]=255&f,A[1]=f>>>8&255,r.check=o(r.check,A,2,0),g=f=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&f)){e.msg="unknown compression method",r.mode=30;break}if(g-=4,Z=8+(15&(f>>>=4)),0===r.wbits)r.wbits=Z;else if(Z>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<Z,e.adler=r.check=1,r.mode=512&f?10:12,g=f=0;break;case 2:for(;g<16;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(r.flags=f,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,r.check=o(r.check,A,2,0)),g=f=0,r.mode=3;case 3:for(;g<32;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}r.head&&(r.head.time=f),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,A[2]=f>>>16&255,A[3]=f>>>24&255,r.check=o(r.check,A,4,0)),g=f=0,r.mode=4;case 4:for(;g<16;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,r.check=o(r.check,A,2,0)),g=f=0,r.mode=5;case 5:if(1024&r.flags){for(;g<16;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,r.check=o(r.check,A,2,0)),g=f=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(m<(S=r.length)&&(S=m),S&&(r.head&&(Z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,u,h,S,Z)),512&r.flags&&(r.check=o(r.check,u,S,h)),m-=S,h+=S,r.length-=S),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===m)break e;for(S=0;Z=u[h+S++],r.head&&Z&&r.length<65536&&(r.head.name+=String.fromCharCode(Z)),Z&&S<m;);if(512&r.flags&&(r.check=o(r.check,u,S,h)),m-=S,h+=S,Z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===m)break e;for(S=0;Z=u[h+S++],r.head&&Z&&r.length<65536&&(r.head.comment+=String.fromCharCode(Z)),Z&&S<m;);if(512&r.flags&&(r.check=o(r.check,u,S,h)),m-=S,h+=S,Z)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;g<16;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(f!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}g=f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;g<32;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}e.adler=r.check=c(f),g=f=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=p,e.avail_out=y,e.next_in=h,e.avail_in=m,r.hold=f,r.bits=g,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){f>>>=7&g,g-=7&g,r.mode=27;break}for(;g<3;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}switch(r.last=1&f,g-=1,3&(f>>>=1)){case 0:r.mode=14;break;case 1:if(b(r),r.mode=20,6!==t)break;f>>>=2,g-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}f>>>=2,g-=2;break;case 14:for(f>>>=7&g,g-=7&g;g<32;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&f,g=f=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(S=r.length){if(m<S&&(S=m),y<S&&(S=y),0===S)break e;n.arraySet(d,u,h,S,p),m-=S,h+=S,y-=S,p+=S,r.length-=S;break}r.mode=12;break;case 17:for(;g<14;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(r.nlen=257+(31&f),f>>>=5,g-=5,r.ndist=1+(31&f),f>>>=5,g-=5,r.ncode=4+(15&f),f>>>=4,g-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;g<3;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}r.lens[R[r.have++]]=7&f,f>>>=3,g-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,z={bits:r.lenbits},E=s(0,r.lens,0,19,r.lencode,0,r.work,z),r.lenbits=z.bits,E){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;I=(P=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,C=65535&P,!((T=P>>>24)<=g);){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(C<16)f>>>=T,g-=T,r.lens[r.have++]=C;else{if(16===C){for(G=T+2;g<G;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(f>>>=T,g-=T,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}Z=r.lens[r.have-1],S=3+(3&f),f>>>=2,g-=2}else if(17===C){for(G=T+3;g<G;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}g-=T,Z=0,S=3+(7&(f>>>=T)),f>>>=3,g-=3}else{for(G=T+7;g<G;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}g-=T,Z=0,S=11+(127&(f>>>=T)),f>>>=7,g-=7}if(r.have+S>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;S--;)r.lens[r.have++]=Z}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,z={bits:r.lenbits},E=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,z),r.lenbits=z.bits,E){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,z={bits:r.distbits},E=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,z),r.distbits=z.bits,E){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=m&&258<=y){e.next_out=p,e.avail_out=y,e.next_in=h,e.avail_in=m,r.hold=f,r.bits=g,a(e,x),p=e.next_out,d=e.output,y=e.avail_out,h=e.next_in,u=e.input,m=e.avail_in,f=r.hold,g=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;I=(P=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,C=65535&P,!((T=P>>>24)<=g);){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(I&&!(240&I)){for(k=T,L=I,N=C;I=(P=r.lencode[N+((f&(1<<k+L)-1)>>k)])>>>16&255,C=65535&P,!(k+(T=P>>>24)<=g);){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}f>>>=k,g-=k,r.back+=k}if(f>>>=T,g-=T,r.back+=T,r.length=C,0===I){r.mode=26;break}if(32&I){r.back=-1,r.mode=12;break}if(64&I){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&I,r.mode=22;case 22:if(r.extra){for(G=r.extra;g<G;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;I=(P=r.distcode[f&(1<<r.distbits)-1])>>>16&255,C=65535&P,!((T=P>>>24)<=g);){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(!(240&I)){for(k=T,L=I,N=C;I=(P=r.distcode[N+((f&(1<<k+L)-1)>>k)])>>>16&255,C=65535&P,!(k+(T=P>>>24)<=g);){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}f>>>=k,g-=k,r.back+=k}if(f>>>=T,g-=T,r.back+=T,64&I){e.msg="invalid distance code",r.mode=30;break}r.offset=C,r.extra=15&I,r.mode=24;case 24:if(r.extra){for(G=r.extra;g<G;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===y)break e;if(S=x-y,r.offset>S){if((S=r.offset-S)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}w=S>r.wnext?(S-=r.wnext,r.wsize-S):r.wnext-S,S>r.length&&(S=r.length),_=r.window}else _=d,w=p-r.offset,S=r.length;for(y<S&&(S=y),y-=S,r.length-=S;d[p++]=_[w++],--S;);0===r.length&&(r.mode=21);break;case 26:if(0===y)break e;d[p++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;g<32;){if(0===m)break e;m--,f|=u[h++]<<g,g+=8}if(x-=y,e.total_out+=x,r.total+=x,x&&(e.adler=r.check=r.flags?o(r.check,d,x,p-x):i(r.check,d,x,p-x)),x=y,(r.flags?f:c(f))!==r.check){e.msg="incorrect data check",r.mode=30;break}g=f=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;g<32;){if(0===m)break e;m--,f+=u[h++]<<g,g+=8}if(f!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}g=f=0}r.mode=29;case 29:E=1;break e;case 30:E=-3;break e;case 31:return-4;default:return l}return e.next_out=p,e.avail_out=y,e.next_in=h,e.avail_in=m,r.hold=f,r.bits=g,(r.wsize||x!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,x-e.avail_out)?(r.mode=31,-4):(M-=e.avail_in,x-=e.avail_out,e.total_in+=M,e.total_out+=x,r.total+=x,r.wrap&&x&&(e.adler=r.check=r.flags?o(r.check,d,x,e.next_out-x):i(r.check,d,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==M&&0===x||4===t)&&0===E&&(E=-5),E)},r.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state&&2&(r=e.state).wrap?((r.head=t).done=!1,0):l},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,t,n,0)!==r.check?-3:v(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,c,u,d,h){var p,m,y,f,g,b,v,M,x,S=h.bits,w=0,_=0,T=0,I=0,C=0,k=0,L=0,N=0,Z=0,E=0,z=null,G=0,P=new n.Buf16(16),A=new n.Buf16(16),R=null,D=0;for(w=0;w<=15;w++)P[w]=0;for(_=0;_<l;_++)P[t[r+_]]++;for(C=S,I=15;1<=I&&0===P[I];I--);if(I<C&&(C=I),0===I)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(T=1;T<I&&0===P[T];T++);for(C<T&&(C=T),w=N=1;w<=15;w++)if(N<<=1,(N-=P[w])<0)return-1;if(0<N&&(0===e||1!==I))return-1;for(A[1]=0,w=1;w<15;w++)A[w+1]=A[w]+P[w];for(_=0;_<l;_++)0!==t[r+_]&&(d[A[t[r+_]]++]=_);if(b=0===e?(z=R=d,19):1===e?(z=i,G-=257,R=o,D-=257,256):(z=a,R=s,-1),w=T,g=u,L=_=E=0,y=-1,f=(Z=1<<(k=C))-1,1===e&&852<Z||2===e&&592<Z)return 1;for(;;){for(v=w-L,x=d[_]<b?(M=0,d[_]):d[_]>b?(M=R[D+d[_]],z[G+d[_]]):(M=96,0),p=1<<w-L,T=m=1<<k;c[g+(E>>L)+(m-=p)]=v<<24|M<<16|x,0!==m;);for(p=1<<w-1;E&p;)p>>=1;if(0!==p?(E&=p-1,E+=p):E=0,_++,0==--P[w]){if(w===I)break;w=t[r+d[_]]}if(C<w&&(E&f)!==y){for(0===L&&(L=C),g+=T,N=1<<(k=w-L);k+L<I&&!((N-=P[k+L])<=0);)k++,N<<=1;if(Z+=1<<k,1===e&&852<Z||2===e&&592<Z)return 1;c[y=E&f]=C<<24|k<<16|g-u}}return 0!==E&&(c[g+E]=w-L<<24|64<<16),h.bits=C,0}},{"../utils/common":41}],51:[function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){var n=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var u=new Array(60);i(u);var d=new Array(512);i(d);var h=new Array(256);i(h);var p=new Array(29);i(p);var m,y,f,g=new Array(30);function b(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?d[e]:d[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function w(e,t,r){S(e,r[2*t],r[2*t+1])}function _(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function T(e,t,r){var n,i,o=new Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=_(o[s]++,s))}}function I(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function C(e){8<e.bi_valid?x(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function k(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function L(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&k(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!k(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function N(e,t,r){var n,i,s,l,c=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===n?w(e,i,t):(w(e,(s=h[i])+256+1,t),0!==(l=o[s])&&S(e,i-=p[s],l),w(e,s=M(--n),r),0!==(l=a[s])&&S(e,n-=g[s],l)),c<e.last_lit;);w(e,256,t)}function Z(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==o[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)L(e,o,r);for(i=l;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,L(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,y=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)m<(o=l[2*l[2*(n=e.heap[r])+1]+1]+1)&&(o=m,y++),l[2*n+1]=o,c<n||(e.bl_count[o]++,a=0,p<=n&&(a=h[n-p]),s=l[2*n],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*n+1]+a)));if(0!==y){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,y-=2}while(0<y);for(o=m;0!==o;o--)for(n=e.bl_count[o];0!==n;)c<(i=e.heap[--r])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),n--)}}(e,t),T(o,c,e.bl_count)}function E(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=i,c=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function z(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++s<l&&i===a)){if(s<c)for(;w(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(w(e,i,e.bl_tree),s--),w(e,16,e.bl_tree),S(e,s-3,2)):s<=10?(w(e,17,e.bl_tree),S(e,s-3,3)):(w(e,18,e.bl_tree),S(e,s-11,7));o=i,c=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}i(g);var G=!1;function P(e,t,r,i){S(e,0+(i?1:0),3),function(e,t,r){C(e),x(e,r),x(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}r._tr_init=function(e){G||(function(){var e,t,r,n,i,l=new Array(16);for(n=r=0;n<28;n++)for(p[n]=r,e=0;e<1<<o[n];e++)h[r++]=n;for(h[r-1]=n,n=i=0;n<16;n++)for(g[n]=i,e=0;e<1<<a[n];e++)d[i++]=n;for(i>>=7;n<30;n++)for(g[n]=i<<7,e=0;e<1<<a[n]-7;e++)d[256+i++]=n;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(T(c,287,l),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=_(e,5);m=new b(c,o,257,286,15),y=new b(u,a,0,30,15),f=new b(new Array(0),s,0,19,7)}(),G=!0),e.l_desc=new v(e.dyn_ltree,m),e.d_desc=new v(e.dyn_dtree,y),e.bl_desc=new v(e.bl_tree,f),e.bi_buf=0,e.bi_valid=0,I(e)},r._tr_stored_block=P,r._tr_flush_block=function(e,t,r,n){var i,o,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Z(e,e.l_desc),Z(e,e.d_desc),a=function(e){var t;for(E(e,e.dyn_ltree,e.l_desc.max_code),E(e,e.dyn_dtree,e.d_desc.max_code),Z(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?P(e,t,r,n):4===e.strategy||o===i?(S(e,2+(n?1:0),3),N(e,c,u)):(S(e,4+(n?1:0),3),function(e,t,r,n){var i;for(S(e,t-257,5),S(e,r-1,5),S(e,n-4,4),i=0;i<n;i++)S(e,e.bl_tree[2*l[i]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N(e,e.dyn_ltree,e.dyn_dtree)),I(e),n&&C(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(h[r]+256+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){S(e,2,3),w(e,256,c),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e){if(!e.setImmediate){var t,r,n,i,o=1,s={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,t="[object process]"==={}.toString.call(e.process)?function(e){a.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){n.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var r=new Array(arguments.length-1),n=0;n<r.length;n++)r[n]=arguments[n+1];var i={callback:e,args:r};return s[o]=i,t(o),o++},u.clearImmediate=d}function d(e){delete s[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=s[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==d?d:"undefined"!=typeof self?self:void 0!==i?i:{})},{}]},{},[10])(10)),Fi=function(e){return Zi=Zi||function(){var e=function(e){var t=atob(e);return t}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGUgPSAoZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCXZhciBidW5kbGUgPSB7fTsKCgl2YXIgZT0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBjb21tb25qc0dsb2JhbD9jb21tb25qc0dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiB0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCJkZWZhdWx0Iik/ZS5kZWZhdWx0OmV9ZnVuY3Rpb24gcihlKXtpZihlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9ZS5kZWZhdWx0O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KXt2YXIgcj1mdW5jdGlvbiBlKCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP1JlZmxlY3QuY29uc3RydWN0KHQsYXJndW1lbnRzLHRoaXMuY29uc3RydWN0b3IpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyLnByb3RvdHlwZT10LnByb3RvdHlwZTt9ZWxzZSByPXt9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLHQsbi5nZXQ/bjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVt0XX19KTt9KSkscn1mdW5jdGlvbiBuKGUpe3Rocm93IG5ldyBFcnJvcignQ291bGQgbm90IGR5bmFtaWNhbGx5IHJlcXVpcmUgIicrZSsnIi4gUGxlYXNlIGNvbmZpZ3VyZSB0aGUgZHluYW1pY1JlcXVpcmVUYXJnZXRzIG9yL2FuZCBpZ25vcmVEeW5hbWljUmVxdWlyZXMgb3B0aW9uIG9mIEByb2xsdXAvcGx1Z2luLWNvbW1vbmpzIGFwcHJvcHJpYXRlbHkgZm9yIHRoaXMgcmVxdWlyZSBjYWxsIHRvIHdvcmsuJyl9dmFyIGEsbz10KGZ1bmN0aW9uIGUodCxyLGEpe2Z1bmN0aW9uIGkocyxsKXtpZighcltzXSl7aWYoIXRbc10pe2lmKCFsJiZuKXJldHVybiBuKHMpO2lmKG8pcmV0dXJuIG8ocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgYz1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoYy5leHBvcnRzLChmdW5jdGlvbihlKXtyZXR1cm4gaSh0W3NdWzFdW2VdfHxlKX0pLGMsYy5leHBvcnRzLGUsdCxyLGEpO31yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgbz1uLHM9MDtzPGEubGVuZ3RoO3MrKylpKGFbc10pO3JldHVybiBpfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vdXRpbHMiKSxhPWUoIi4vc3VwcG9ydCIpLGk9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89IjtyLmVuY29kZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscixhLG8scyxsLHUsYz1bXSxoPTAsZj1lLmxlbmd0aCxkPWYscD0ic3RyaW5nIiE9PW4uZ2V0VHlwZU9mKGUpO2g8ZS5sZW5ndGg7KWQ9Zi1oLGE9cD8odD1lW2grK10scj1oPGY/ZVtoKytdOjAsaDxmP2VbaCsrXTowKToodD1lLmNoYXJDb2RlQXQoaCsrKSxyPWg8Zj9lLmNoYXJDb2RlQXQoaCsrKTowLGg8Zj9lLmNoYXJDb2RlQXQoaCsrKTowKSxvPXQ+PjIscz0oMyZ0KTw8NHxyPj40LGw9MTxkPygxNSZyKTw8MnxhPj42OjY0LHU9MjxkPzYzJmE6NjQsYy5wdXNoKGkuY2hhckF0KG8pK2kuY2hhckF0KHMpK2kuY2hhckF0KGwpK2kuY2hhckF0KHUpKTtyZXR1cm4gYy5qb2luKCIiKX0sci5kZWNvZGU9ZnVuY3Rpb24oZSl7dmFyIHQscixuLG8scyxsLHU9MCxjPTAsaD0iZGF0YToiO2lmKGUuc3Vic3RyKDAsaC5sZW5ndGgpPT09aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYmFzZTY0IGlucHV0LCBpdCBsb29rcyBsaWtlIGEgZGF0YSB1cmwuIik7dmFyIGYsZD0zKihlPWUucmVwbGFjZSgvW15BLVphLXowLTkrLz1dL2csIiIpKS5sZW5ndGgvNDtpZihlLmNoYXJBdChlLmxlbmd0aC0xKT09PWkuY2hhckF0KDY0KSYmZC0tLGUuY2hhckF0KGUubGVuZ3RoLTIpPT09aS5jaGFyQXQoNjQpJiZkLS0sZCUxIT0wKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGJhZCBjb250ZW50IGxlbmd0aC4iKTtmb3IoZj1hLnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkoMHxkKTpuZXcgQXJyYXkoMHxkKTt1PGUubGVuZ3RoOyl0PWkuaW5kZXhPZihlLmNoYXJBdCh1KyspKTw8Mnwobz1pLmluZGV4T2YoZS5jaGFyQXQodSsrKSkpPj40LHI9KDE1Jm8pPDw0fChzPWkuaW5kZXhPZihlLmNoYXJBdCh1KyspKSk+PjIsbj0oMyZzKTw8NnwobD1pLmluZGV4T2YoZS5jaGFyQXQodSsrKSkpLGZbYysrXT10LDY0IT09cyYmKGZbYysrXT1yKSw2NCE9PWwmJihmW2MrK109bik7cmV0dXJuIGZ9O30seyIuL3N1cHBvcnQiOjMwLCIuL3V0aWxzIjozMn1dLDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL2V4dGVybmFsIiksYT1lKCIuL3N0cmVhbS9EYXRhV29ya2VyIiksaT1lKCIuL3N0cmVhbS9DcmMzMlByb2JlIiksbz1lKCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmUiKTtmdW5jdGlvbiBzKGUsdCxyLG4sYSl7dGhpcy5jb21wcmVzc2VkU2l6ZT1lLHRoaXMudW5jb21wcmVzc2VkU2l6ZT10LHRoaXMuY3JjMzI9cix0aGlzLmNvbXByZXNzaW9uPW4sdGhpcy5jb21wcmVzc2VkQ29udGVudD1hO31zLnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciBlPW5ldyBhKG4uUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyBvKCJkYXRhX2xlbmd0aCIpKSx0PXRoaXM7cmV0dXJuIGUub24oImVuZCIsKGZ1bmN0aW9uKCl7aWYodGhpcy5zdHJlYW1JbmZvLmRhdGFfbGVuZ3RoIT09dC51bmNvbXByZXNzZWRTaXplKXRocm93IG5ldyBFcnJvcigiQnVnIDogdW5jb21wcmVzc2VkIGRhdGEgc2l6ZSBtaXNtYXRjaCIpfSkpLGV9LGdldENvbXByZXNzZWRXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEobi5Qcm9taXNlLnJlc29sdmUodGhpcy5jb21wcmVzc2VkQ29udGVudCkpLndpdGhTdHJlYW1JbmZvKCJjb21wcmVzc2VkU2l6ZSIsdGhpcy5jb21wcmVzc2VkU2l6ZSkud2l0aFN0cmVhbUluZm8oInVuY29tcHJlc3NlZFNpemUiLHRoaXMudW5jb21wcmVzc2VkU2l6ZSkud2l0aFN0cmVhbUluZm8oImNyYzMyIix0aGlzLmNyYzMyKS53aXRoU3RyZWFtSW5mbygiY29tcHJlc3Npb24iLHRoaXMuY29tcHJlc3Npb24pfX0scy5jcmVhdGVXb3JrZXJGcm9tPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5waXBlKG5ldyBpKS5waXBlKG5ldyBvKCJ1bmNvbXByZXNzZWRTaXplIikpLnBpcGUodC5jb21wcmVzc1dvcmtlcihyKSkucGlwZShuZXcgbygiY29tcHJlc3NlZFNpemUiKSkud2l0aFN0cmVhbUluZm8oImNvbXByZXNzaW9uIix0KX0sdC5leHBvcnRzPXM7fSx7Ii4vZXh0ZXJuYWwiOjYsIi4vc3RyZWFtL0NyYzMyUHJvYmUiOjI1LCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmUiOjI2LCIuL3N0cmVhbS9EYXRhV29ya2VyIjoyN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL3N0cmVhbS9HZW5lcmljV29ya2VyIik7ci5TVE9SRT17bWFnaWM6IlwwXDAiLGNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKCJTVE9SRSBjb21wcmVzc2lvbiIpfSx1bmNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKCJTVE9SRSBkZWNvbXByZXNzaW9uIil9fSxyLkRFRkxBVEU9ZSgiLi9mbGF0ZSIpO30seyIuL2ZsYXRlIjo3LCIuL3N0cmVhbS9HZW5lcmljV29ya2VyIjoyOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL3V0aWxzIiksYT1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PVtdLHI9MDtyPDI1NjtyKyspe2U9cjtmb3IodmFyIG49MDtuPDg7bisrKWU9MSZlPzM5ODgyOTIzODReZT4+PjE6ZT4+PjE7dFtyXT1lO31yZXR1cm4gdH0oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09ZSYmZS5sZW5ndGg/InN0cmluZyIhPT1uLmdldFR5cGVPZihlKT9mdW5jdGlvbihlLHQscixuKXt2YXIgaT1hLG89bityO2VePS0xO2Zvcih2YXIgcz1uO3M8bztzKyspZT1lPj4+OF5pWzI1NSYoZV50W3NdKV07cmV0dXJuIC0xXmV9KDB8dCxlLGUubGVuZ3RoLDApOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWEsbz1uK3I7ZV49LTE7Zm9yKHZhciBzPW47czxvO3MrKyllPWU+Pj44XmlbMjU1JihlXnQuY2hhckNvZGVBdChzKSldO3JldHVybiAtMV5lfSgwfHQsZSxlLmxlbmd0aCwwKTowfTt9LHsiLi91dGlscyI6MzJ9XSw1OltmdW5jdGlvbihlLHQscil7ci5iYXNlNjQ9ITEsci5iaW5hcnk9ITEsci5kaXI9ITEsci5jcmVhdGVGb2xkZXJzPSEwLHIuZGF0ZT1udWxsLHIuY29tcHJlc3Npb249bnVsbCxyLmNvbXByZXNzaW9uT3B0aW9ucz1udWxsLHIuY29tbWVudD1udWxsLHIudW5peFBlcm1pc3Npb25zPW51bGwsci5kb3NQZXJtaXNzaW9ucz1udWxsO30se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1udWxsO249InVuZGVmaW5lZCIhPXR5cGVvZiBQcm9taXNlP1Byb21pc2U6ZSgibGllIiksdC5leHBvcnRzPXtQcm9taXNlOm59O30se2xpZTozN31dLDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgVWludDE2QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgVWludDMyQXJyYXksYT1lKCJwYWtvIiksaT1lKCIuL3V0aWxzIiksbz1lKCIuL3N0cmVhbS9HZW5lcmljV29ya2VyIikscz1uPyJ1aW50OGFycmF5IjoiYXJyYXkiO2Z1bmN0aW9uIGwoZSx0KXtvLmNhbGwodGhpcywiRmxhdGVXb3JrZXIvIitlKSx0aGlzLl9wYWtvPW51bGwsdGhpcy5fcGFrb0FjdGlvbj1lLHRoaXMuX3Bha29PcHRpb25zPXQsdGhpcy5tZXRhPXt9O31yLm1hZ2ljPSJcYlwwIixpLmluaGVyaXRzKGwsbyksbC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGUpe3RoaXMubWV0YT1lLm1ldGEsbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2goaS50cmFuc2Zvcm1UbyhzLGUuZGF0YSksITEpO30sbC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtvLnByb3RvdHlwZS5mbHVzaC5jYWxsKHRoaXMpLG51bGw9PT10aGlzLl9wYWtvJiZ0aGlzLl9jcmVhdGVQYWtvKCksdGhpcy5fcGFrby5wdXNoKFtdLCEwKTt9LGwucHJvdG90eXBlLmNsZWFuVXA9ZnVuY3Rpb24oKXtvLnByb3RvdHlwZS5jbGVhblVwLmNhbGwodGhpcyksdGhpcy5fcGFrbz1udWxsO30sbC5wcm90b3R5cGUuX2NyZWF0ZVBha289ZnVuY3Rpb24oKXt0aGlzLl9wYWtvPW5ldyBhW3RoaXMuX3Bha29BY3Rpb25dKHtyYXc6ITAsbGV2ZWw6dGhpcy5fcGFrb09wdGlvbnMubGV2ZWx8fC0xfSk7dmFyIGU9dGhpczt0aGlzLl9wYWtvLm9uRGF0YT1mdW5jdGlvbih0KXtlLnB1c2goe2RhdGE6dCxtZXRhOmUubWV0YX0pO307fSxyLmNvbXByZXNzV29ya2VyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbCgiRGVmbGF0ZSIsZSl9LHIudW5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbCgiSW5mbGF0ZSIse30pfTt9LHsiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vdXRpbHMiOjMyLHBha286Mzh9XSw4OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQpe3ZhciByLG49IiI7Zm9yKHI9MDtyPHQ7cisrKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoMjU1JmUpLGU+Pj49ODtyZXR1cm4gbn1mdW5jdGlvbiBhKGUsdCxyLGEsbyxjKXt2YXIgaCxmLGQ9ZS5maWxlLHA9ZS5jb21wcmVzc2lvbix5PWMhPT1zLnV0ZjhlbmNvZGUsbT1pLnRyYW5zZm9ybVRvKCJzdHJpbmciLGMoZC5uYW1lKSksZz1pLnRyYW5zZm9ybVRvKCJzdHJpbmciLHMudXRmOGVuY29kZShkLm5hbWUpKSx2PWQuY29tbWVudCxfPWkudHJhbnNmb3JtVG8oInN0cmluZyIsYyh2KSksYj1pLnRyYW5zZm9ybVRvKCJzdHJpbmciLHMudXRmOGVuY29kZSh2KSksdz1nLmxlbmd0aCE9PWQubmFtZS5sZW5ndGgseD1iLmxlbmd0aCE9PXYubGVuZ3RoLGs9IiIsUz0iIixOPSIiLE89ZC5kaXIsQz1kLmRhdGUsUD17Y3JjMzI6MCxjb21wcmVzc2VkU2l6ZTowLHVuY29tcHJlc3NlZFNpemU6MH07dCYmIXJ8fChQLmNyYzMyPWUuY3JjMzIsUC5jb21wcmVzc2VkU2l6ZT1lLmNvbXByZXNzZWRTaXplLFAudW5jb21wcmVzc2VkU2l6ZT1lLnVuY29tcHJlc3NlZFNpemUpO3ZhciBFPTA7dCYmKEV8PTgpLHl8fCF3JiYheHx8KEV8PTIwNDgpO3ZhciBBPTAsaj0wO08mJihBfD0xNiksIlVOSVgiPT09bz8oaj03OTgsQXw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lO3JldHVybiBlfHwocj10PzE2ODkzOjMzMjA0KSwoNjU1MzUmcik8PDE2fShkLnVuaXhQZXJtaXNzaW9ucyxPKSk6KGo9MjAsQXw9ZnVuY3Rpb24oZSl7cmV0dXJuIDYzJihlfHwwKX0oZC5kb3NQZXJtaXNzaW9ucykpLGg9Qy5nZXRVVENIb3VycygpLGg8PD02LGh8PUMuZ2V0VVRDTWludXRlcygpLGg8PD01LGh8PUMuZ2V0VVRDU2Vjb25kcygpLzIsZj1DLmdldFVUQ0Z1bGxZZWFyKCktMTk4MCxmPDw9NCxmfD1DLmdldFVUQ01vbnRoKCkrMSxmPDw9NSxmfD1DLmdldFVUQ0RhdGUoKSx3JiYoUz1uKDEsMSkrbihsKG0pLDQpK2csays9InVwIituKFMubGVuZ3RoLDIpK1MpLHgmJihOPW4oMSwxKStuKGwoXyksNCkrYixrKz0idWMiK24oTi5sZW5ndGgsMikrTik7dmFyIEw9IiI7cmV0dXJuIEwrPSJcblwwIixMKz1uKEUsMiksTCs9cC5tYWdpYyxMKz1uKGgsMiksTCs9bihmLDIpLEwrPW4oUC5jcmMzMiw0KSxMKz1uKFAuY29tcHJlc3NlZFNpemUsNCksTCs9bihQLnVuY29tcHJlc3NlZFNpemUsNCksTCs9bihtLmxlbmd0aCwyKSxMKz1uKGsubGVuZ3RoLDIpLHtmaWxlUmVjb3JkOnUuTE9DQUxfRklMRV9IRUFERVIrTCttK2ssZGlyUmVjb3JkOnUuQ0VOVFJBTF9GSUxFX0hFQURFUituKGosMikrTCtuKF8ubGVuZ3RoLDIpKyJcMFwwXDBcMCIrbihBLDQpK24oYSw0KSttK2srX319dmFyIGk9ZSgiLi4vdXRpbHMiKSxvPWUoIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyIikscz1lKCIuLi91dGY4IiksbD1lKCIuLi9jcmMzMiIpLHU9ZSgiLi4vc2lnbmF0dXJlIik7ZnVuY3Rpb24gYyhlLHQscixuKXtvLmNhbGwodGhpcywiWmlwRmlsZVdvcmtlciIpLHRoaXMuYnl0ZXNXcml0dGVuPTAsdGhpcy56aXBDb21tZW50PXQsdGhpcy56aXBQbGF0Zm9ybT1yLHRoaXMuZW5jb2RlRmlsZU5hbWU9bix0aGlzLnN0cmVhbUZpbGVzPWUsdGhpcy5hY2N1bXVsYXRlPSExLHRoaXMuY29udGVudEJ1ZmZlcj1bXSx0aGlzLmRpclJlY29yZHM9W10sdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PTAsdGhpcy5lbnRyaWVzQ291bnQ9MCx0aGlzLmN1cnJlbnRGaWxlPW51bGwsdGhpcy5fc291cmNlcz1bXTt9aS5pbmhlcml0cyhjLG8pLGMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZXRhLnBlcmNlbnR8fDAscj10aGlzLmVudHJpZXNDb3VudCxuPXRoaXMuX3NvdXJjZXMubGVuZ3RoO3RoaXMuYWNjdW11bGF0ZT90aGlzLmNvbnRlbnRCdWZmZXIucHVzaChlKToodGhpcy5ieXRlc1dyaXR0ZW4rPWUuZGF0YS5sZW5ndGgsby5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMse2RhdGE6ZS5kYXRhLG1ldGE6e2N1cnJlbnRGaWxlOnRoaXMuY3VycmVudEZpbGUscGVyY2VudDpyPyh0KzEwMCooci1uLTEpKS9yOjEwMH19KSk7fSxjLnByb3RvdHlwZS5vcGVuZWRTb3VyY2U9ZnVuY3Rpb24oZSl7dGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PXRoaXMuYnl0ZXNXcml0dGVuLHRoaXMuY3VycmVudEZpbGU9ZS5maWxlLm5hbWU7dmFyIHQ9dGhpcy5zdHJlYW1GaWxlcyYmIWUuZmlsZS5kaXI7aWYodCl7dmFyIHI9YShlLHQsITEsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOnIuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSk7fWVsc2UgdGhpcy5hY2N1bXVsYXRlPSEwO30sYy5wcm90b3R5cGUuY2xvc2VkU291cmNlPWZ1bmN0aW9uKGUpe3RoaXMuYWNjdW11bGF0ZT0hMTt2YXIgdD10aGlzLnN0cmVhbUZpbGVzJiYhZS5maWxlLmRpcixyPWEoZSx0LCEwLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldCx0aGlzLnppcFBsYXRmb3JtLHRoaXMuZW5jb2RlRmlsZU5hbWUpO2lmKHRoaXMuZGlyUmVjb3Jkcy5wdXNoKHIuZGlyUmVjb3JkKSx0KXRoaXMucHVzaCh7ZGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdS5EQVRBX0RFU0NSSVBUT1IrbihlLmNyYzMyLDQpK24oZS5jb21wcmVzc2VkU2l6ZSw0KStuKGUudW5jb21wcmVzc2VkU2l6ZSw0KX0oZSksbWV0YTp7cGVyY2VudDoxMDB9fSk7ZWxzZSBmb3IodGhpcy5wdXNoKHtkYXRhOnIuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSk7dGhpcy5jb250ZW50QnVmZmVyLmxlbmd0aDspdGhpcy5wdXNoKHRoaXMuY29udGVudEJ1ZmZlci5zaGlmdCgpKTt0aGlzLmN1cnJlbnRGaWxlPW51bGw7fSxjLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJ5dGVzV3JpdHRlbix0PTA7dDx0aGlzLmRpclJlY29yZHMubGVuZ3RoO3QrKyl0aGlzLnB1c2goe2RhdGE6dGhpcy5kaXJSZWNvcmRzW3RdLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO3ZhciByPXRoaXMuYnl0ZXNXcml0dGVuLWUsYT1mdW5jdGlvbihlLHQscixhLG8pe3ZhciBzPWkudHJhbnNmb3JtVG8oInN0cmluZyIsbyhhKSk7cmV0dXJuIHUuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKyJcMFwwXDBcMCIrbihlLDIpK24oZSwyKStuKHQsNCkrbihyLDQpK24ocy5sZW5ndGgsMikrc30odGhpcy5kaXJSZWNvcmRzLmxlbmd0aCxyLGUsdGhpcy56aXBDb21tZW50LHRoaXMuZW5jb2RlRmlsZU5hbWUpO3RoaXMucHVzaCh7ZGF0YTphLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO30sYy5wcm90b3R5cGUucHJlcGFyZU5leHRTb3VyY2U9ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuX3NvdXJjZXMuc2hpZnQoKSx0aGlzLm9wZW5lZFNvdXJjZSh0aGlzLnByZXZpb3VzLnN0cmVhbUluZm8pLHRoaXMuaXNQYXVzZWQ/dGhpcy5wcmV2aW91cy5wYXVzZSgpOnRoaXMucHJldmlvdXMucmVzdW1lKCk7fSxjLnByb3RvdHlwZS5yZWdpc3RlclByZXZpb3VzPWZ1bmN0aW9uKGUpe3RoaXMuX3NvdXJjZXMucHVzaChlKTt2YXIgdD10aGlzO3JldHVybiBlLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7dC5wcm9jZXNzQ2h1bmsoZSk7fSkpLGUub24oImVuZCIsKGZ1bmN0aW9uKCl7dC5jbG9zZWRTb3VyY2UodC5wcmV2aW91cy5zdHJlYW1JbmZvKSx0Ll9zb3VyY2VzLmxlbmd0aD90LnByZXBhcmVOZXh0U291cmNlKCk6dC5lbmQoKTt9KSksZS5vbigiZXJyb3IiLChmdW5jdGlvbihlKXt0LmVycm9yKGUpO30pKSx0aGlzfSxjLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gISFvLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKCF0aGlzLnByZXZpb3VzJiZ0aGlzLl9zb3VyY2VzLmxlbmd0aD8odGhpcy5wcmVwYXJlTmV4dFNvdXJjZSgpLCEwKTp0aGlzLnByZXZpb3VzfHx0aGlzLl9zb3VyY2VzLmxlbmd0aHx8dGhpcy5nZW5lcmF0ZWRFcnJvcj92b2lkIDA6KHRoaXMuZW5kKCksITApKX0sYy5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fc291cmNlcztpZighby5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLGUpKXJldHVybiAhMTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0cnl7dFtyXS5lcnJvcihlKTt9Y2F0Y2goZSl7fXJldHVybiAhMH0sYy5wcm90b3R5cGUubG9jaz1mdW5jdGlvbigpe28ucHJvdG90eXBlLmxvY2suY2FsbCh0aGlzKTtmb3IodmFyIGU9dGhpcy5fc291cmNlcyx0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5sb2NrKCk7fSx0LmV4cG9ydHM9Yzt9LHsiLi4vY3JjMzIiOjQsIi4uL3NpZ25hdHVyZSI6MjMsIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyIjoyOCwiLi4vdXRmOCI6MzEsIi4uL3V0aWxzIjozMn1dLDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi9jb21wcmVzc2lvbnMiKSxhPWUoIi4vWmlwRmlsZVdvcmtlciIpO3IuZ2VuZXJhdGVXb3JrZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW5ldyBhKHQuc3RyZWFtRmlsZXMscix0LnBsYXRmb3JtLHQuZW5jb2RlRmlsZU5hbWUpLG89MDt0cnl7ZS5mb3JFYWNoKChmdW5jdGlvbihlLHIpe28rKzt2YXIgYT1mdW5jdGlvbihlLHQpe3ZhciByPWV8fHQsYT1uW3JdO2lmKCFhKXRocm93IG5ldyBFcnJvcihyKyIgaXMgbm90IGEgdmFsaWQgY29tcHJlc3Npb24gbWV0aG9kICEiKTtyZXR1cm4gYX0oci5vcHRpb25zLmNvbXByZXNzaW9uLHQuY29tcHJlc3Npb24pLHM9ci5vcHRpb25zLmNvbXByZXNzaW9uT3B0aW9uc3x8dC5jb21wcmVzc2lvbk9wdGlvbnN8fHt9LGw9ci5kaXIsdT1yLmRhdGU7ci5fY29tcHJlc3NXb3JrZXIoYSxzKS53aXRoU3RyZWFtSW5mbygiZmlsZSIse25hbWU6ZSxkaXI6bCxkYXRlOnUsY29tbWVudDpyLmNvbW1lbnR8fCIiLHVuaXhQZXJtaXNzaW9uczpyLnVuaXhQZXJtaXNzaW9ucyxkb3NQZXJtaXNzaW9uczpyLmRvc1Blcm1pc3Npb25zfSkucGlwZShpKTt9KSksaS5lbnRyaWVzQ291bnQ9bzt9Y2F0Y2goZSl7aS5lcnJvcihlKTt9cmV0dXJuIGl9O30seyIuLi9jb21wcmVzc2lvbnMiOjMsIi4vWmlwRmlsZVdvcmtlciI6OH1dLDEwOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbigpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbjtpZihhcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiVGhlIGNvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycyBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLiIpO3RoaXMuZmlsZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmNvbW1lbnQ9bnVsbCx0aGlzLnJvb3Q9IiIsdGhpcy5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBuO2Zvcih2YXIgdCBpbiB0aGlzKSJmdW5jdGlvbiIhPXR5cGVvZiB0aGlzW3RdJiYoZVt0XT10aGlzW3RdKTtyZXR1cm4gZX07fShuLnByb3RvdHlwZT1lKCIuL29iamVjdCIpKS5sb2FkQXN5bmM9ZSgiLi9sb2FkIiksbi5zdXBwb3J0PWUoIi4vc3VwcG9ydCIpLG4uZGVmYXVsdHM9ZSgiLi9kZWZhdWx0cyIpLG4udmVyc2lvbj0iMy4xMC4xIixuLmxvYWRBc3luYz1mdW5jdGlvbihlLHQpe3JldHVybiAobmV3IG4pLmxvYWRBc3luYyhlLHQpfSxuLmV4dGVybmFsPWUoIi4vZXh0ZXJuYWwiKSx0LmV4cG9ydHM9bjt9LHsiLi9kZWZhdWx0cyI6NSwiLi9leHRlcm5hbCI6NiwiLi9sb2FkIjoxMSwiLi9vYmplY3QiOjE1LCIuL3N1cHBvcnQiOjMwfV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL3V0aWxzIiksYT1lKCIuL2V4dGVybmFsIiksaT1lKCIuL3V0ZjgiKSxvPWUoIi4vemlwRW50cmllcyIpLHM9ZSgiLi9zdHJlYW0vQ3JjMzJQcm9iZSIpLGw9ZSgiLi9ub2RlanNVdGlscyIpO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIG5ldyBhLlByb21pc2UoKGZ1bmN0aW9uKHQscil7dmFyIG49ZS5kZWNvbXByZXNzZWQuZ2V0Q29udGVudFdvcmtlcigpLnBpcGUobmV3IHMpO24ub24oImVycm9yIiwoZnVuY3Rpb24oZSl7cihlKTt9KSkub24oImVuZCIsKGZ1bmN0aW9uKCl7bi5zdHJlYW1JbmZvLmNyYzMyIT09ZS5kZWNvbXByZXNzZWQuY3JjMzI/cihuZXcgRXJyb3IoIkNvcnJ1cHRlZCB6aXAgOiBDUkMzMiBtaXNtYXRjaCIpKTp0KCk7fSkpLnJlc3VtZSgpO30pKX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiB0PW4uZXh0ZW5kKHR8fHt9LHtiYXNlNjQ6ITEsY2hlY2tDUkMzMjohMSxvcHRpbWl6ZWRCaW5hcnlTdHJpbmc6ITEsY3JlYXRlRm9sZGVyczohMSxkZWNvZGVGaWxlTmFtZTppLnV0ZjhkZWNvZGV9KSxsLmlzTm9kZSYmbC5pc1N0cmVhbShlKT9hLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiSlNaaXAgY2FuJ3QgYWNjZXB0IGEgc3RyZWFtIHdoZW4gbG9hZGluZyBhIHppcCBmaWxlLiIpKTpuLnByZXBhcmVDb250ZW50KCJ0aGUgbG9hZGVkIHppcCBmaWxlIixlLCEwLHQub3B0aW1pemVkQmluYXJ5U3RyaW5nLHQuYmFzZTY0KS50aGVuKChmdW5jdGlvbihlKXt2YXIgcj1uZXcgbyh0KTtyZXR1cm4gci5sb2FkKGUpLHJ9KSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHI9W2EuUHJvbWlzZS5yZXNvbHZlKGUpXSxuPWUuZmlsZXM7aWYodC5jaGVja0NSQzMyKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXIucHVzaCh1KG5baV0pKTtyZXR1cm4gYS5Qcm9taXNlLmFsbChyKX0pKS50aGVuKChmdW5jdGlvbihlKXtmb3IodmFyIGE9ZS5zaGlmdCgpLGk9YS5maWxlcyxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzPWlbb10sbD1zLmZpbGVOYW1lU3RyLHU9bi5yZXNvbHZlKHMuZmlsZU5hbWVTdHIpO3IuZmlsZSh1LHMuZGVjb21wcmVzc2VkLHtiaW5hcnk6ITAsb3B0aW1pemVkQmluYXJ5U3RyaW5nOiEwLGRhdGU6cy5kYXRlLGRpcjpzLmRpcixjb21tZW50OnMuZmlsZUNvbW1lbnRTdHIubGVuZ3RoP3MuZmlsZUNvbW1lbnRTdHI6bnVsbCx1bml4UGVybWlzc2lvbnM6cy51bml4UGVybWlzc2lvbnMsZG9zUGVybWlzc2lvbnM6cy5kb3NQZXJtaXNzaW9ucyxjcmVhdGVGb2xkZXJzOnQuY3JlYXRlRm9sZGVyc30pLHMuZGlyfHwoci5maWxlKHUpLnVuc2FmZU9yaWdpbmFsTmFtZT1sKTt9cmV0dXJuIGEuemlwQ29tbWVudC5sZW5ndGgmJihyLmNvbW1lbnQ9YS56aXBDb21tZW50KSxyfSkpfTt9LHsiLi9leHRlcm5hbCI6NiwiLi9ub2RlanNVdGlscyI6MTQsIi4vc3RyZWFtL0NyYzMyUHJvYmUiOjI1LCIuL3V0ZjgiOjMxLCIuL3V0aWxzIjozMiwiLi96aXBFbnRyaWVzIjozM31dLDEyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vdXRpbHMiKSxhPWUoIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyIik7ZnVuY3Rpb24gaShlLHQpe2EuY2FsbCh0aGlzLCJOb2RlanMgc3RyZWFtIGlucHV0IGFkYXB0ZXIgZm9yICIrZSksdGhpcy5fdXBzdHJlYW1FbmRlZD0hMSx0aGlzLl9iaW5kU3RyZWFtKHQpO31uLmluaGVyaXRzKGksYSksaS5wcm90b3R5cGUuX2JpbmRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsodGhpcy5fc3RyZWFtPWUpLnBhdXNlKCksZS5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe3QucHVzaCh7ZGF0YTplLG1ldGE6e3BlcmNlbnQ6MH19KTt9KSkub24oImVycm9yIiwoZnVuY3Rpb24oZSl7dC5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPWU6dC5lcnJvcihlKTt9KSkub24oImVuZCIsKGZ1bmN0aW9uKCl7dC5pc1BhdXNlZD90Ll91cHN0cmVhbUVuZGVkPSEwOnQuZW5kKCk7fSkpO30saS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gISFhLnByb3RvdHlwZS5wYXVzZS5jYWxsKHRoaXMpJiYodGhpcy5fc3RyZWFtLnBhdXNlKCksITApfSxpLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gISFhLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKHRoaXMuX3Vwc3RyZWFtRW5kZWQ/dGhpcy5lbmQoKTp0aGlzLl9zdHJlYW0ucmVzdW1lKCksITApfSx0LmV4cG9ydHM9aTt9LHsiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4LCIuLi91dGlscyI6MzJ9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoInJlYWRhYmxlLXN0cmVhbSIpLlJlYWRhYmxlO2Z1bmN0aW9uIGEoZSx0LHIpe24uY2FsbCh0aGlzLHQpLHRoaXMuX2hlbHBlcj1lO3ZhciBhPXRoaXM7ZS5vbigiZGF0YSIsKGZ1bmN0aW9uKGUsdCl7YS5wdXNoKGUpfHxhLl9oZWxwZXIucGF1c2UoKSxyJiZyKHQpO30pKS5vbigiZXJyb3IiLChmdW5jdGlvbihlKXthLmVtaXQoImVycm9yIixlKTt9KSkub24oImVuZCIsKGZ1bmN0aW9uKCl7YS5wdXNoKG51bGwpO30pKTt9ZSgiLi4vdXRpbHMiKS5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKCl7dGhpcy5faGVscGVyLnJlc3VtZSgpO30sdC5leHBvcnRzPWE7fSx7Ii4uL3V0aWxzIjozMiwicmVhZGFibGUtc3RyZWFtIjoxNn1dLDE0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXtpc05vZGU6InVuZGVmaW5lZCIhPXR5cGVvZiBCdWZmZXIsbmV3QnVmZmVyRnJvbTpmdW5jdGlvbihlLHQpe2lmKEJ1ZmZlci5mcm9tJiZCdWZmZXIuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbSlyZXR1cm4gQnVmZmVyLmZyb20oZSx0KTtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCdUaGUgImRhdGEiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuIG5ldyBCdWZmZXIoZSx0KX0sYWxsb2NCdWZmZXI6ZnVuY3Rpb24oZSl7aWYoQnVmZmVyLmFsbG9jKXJldHVybiBCdWZmZXIuYWxsb2MoZSk7dmFyIHQ9bmV3IEJ1ZmZlcihlKTtyZXR1cm4gdC5maWxsKDApLHR9LGlzQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIoZSl9LGlzU3RyZWFtOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5vbiYmImZ1bmN0aW9uIj09dHlwZW9mIGUucGF1c2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlc3VtZX19O30se31dLDE1OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQscil7dmFyIG4sYT1pLmdldFR5cGVPZih0KSxzPWkuZXh0ZW5kKHJ8fHt9LGwpO3MuZGF0ZT1zLmRhdGV8fG5ldyBEYXRlLG51bGwhPT1zLmNvbXByZXNzaW9uJiYocy5jb21wcmVzc2lvbj1zLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCkpLCJzdHJpbmciPT10eXBlb2Ygcy51bml4UGVybWlzc2lvbnMmJihzLnVuaXhQZXJtaXNzaW9ucz1wYXJzZUludChzLnVuaXhQZXJtaXNzaW9ucyw4KSkscy51bml4UGVybWlzc2lvbnMmJjE2Mzg0JnMudW5peFBlcm1pc3Npb25zJiYocy5kaXI9ITApLHMuZG9zUGVybWlzc2lvbnMmJjE2JnMuZG9zUGVybWlzc2lvbnMmJihzLmRpcj0hMCkscy5kaXImJihlPXkoZSkpLHMuY3JlYXRlRm9sZGVycyYmKG49cChlKSkmJm0uY2FsbCh0aGlzLG4sITApO3ZhciBoPSJzdHJpbmciPT09YSYmITE9PT1zLmJpbmFyeSYmITE9PT1zLmJhc2U2NDtyJiZ2b2lkIDAhPT1yLmJpbmFyeXx8KHMuYmluYXJ5PSFoKSwodCBpbnN0YW5jZW9mIHUmJjA9PT10LnVuY29tcHJlc3NlZFNpemV8fHMuZGlyfHwhdHx8MD09PXQubGVuZ3RoKSYmKHMuYmFzZTY0PSExLHMuYmluYXJ5PSEwLHQ9IiIscy5jb21wcmVzc2lvbj0iU1RPUkUiLGE9InN0cmluZyIpO3ZhciBnPW51bGw7Zz10IGluc3RhbmNlb2YgdXx8dCBpbnN0YW5jZW9mIG8/dDpmLmlzTm9kZSYmZi5pc1N0cmVhbSh0KT9uZXcgZChlLHQpOmkucHJlcGFyZUNvbnRlbnQoZSx0LHMuYmluYXJ5LHMub3B0aW1pemVkQmluYXJ5U3RyaW5nLHMuYmFzZTY0KTt2YXIgdj1uZXcgYyhlLGcscyk7dGhpcy5maWxlc1tlXT12O312YXIgYT1lKCIuL3V0ZjgiKSxpPWUoIi4vdXRpbHMiKSxvPWUoIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiKSxzPWUoIi4vc3RyZWFtL1N0cmVhbUhlbHBlciIpLGw9ZSgiLi9kZWZhdWx0cyIpLHU9ZSgiLi9jb21wcmVzc2VkT2JqZWN0IiksYz1lKCIuL3ppcE9iamVjdCIpLGg9ZSgiLi9nZW5lcmF0ZSIpLGY9ZSgiLi9ub2RlanNVdGlscyIpLGQ9ZSgiLi9ub2RlanMvTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyIikscD1mdW5jdGlvbihlKXsiLyI9PT1lLnNsaWNlKC0xKSYmKGU9ZS5zdWJzdHJpbmcoMCxlLmxlbmd0aC0xKSk7dmFyIHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiAwPHQ/ZS5zdWJzdHJpbmcoMCx0KToiIn0seT1mdW5jdGlvbihlKXtyZXR1cm4gIi8iIT09ZS5zbGljZSgtMSkmJihlKz0iLyIpLGV9LG09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD12b2lkIDAhPT10P3Q6bC5jcmVhdGVGb2xkZXJzLGU9eShlKSx0aGlzLmZpbGVzW2VdfHxuLmNhbGwodGhpcyxlLG51bGwse2RpcjohMCxjcmVhdGVGb2xkZXJzOnR9KSx0aGlzLmZpbGVzW2VdfTtmdW5jdGlvbiBnKGUpe3JldHVybiAiW29iamVjdCBSZWdFeHBdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX12YXIgdj17bG9hZDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS4iKX0sZm9yRWFjaDpmdW5jdGlvbihlKXt2YXIgdCxyLG47Zm9yKHQgaW4gdGhpcy5maWxlcyluPXRoaXMuZmlsZXNbdF0sKHI9dC5zbGljZSh0aGlzLnJvb3QubGVuZ3RoLHQubGVuZ3RoKSkmJnQuc2xpY2UoMCx0aGlzLnJvb3QubGVuZ3RoKT09PXRoaXMucm9vdCYmZShyLG4pO30sZmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHIsbil7ZShyLG4pJiZ0LnB1c2gobik7fSkpLHR9LGZpbGU6ZnVuY3Rpb24oZSx0LHIpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBlPXRoaXMucm9vdCtlLG4uY2FsbCh0aGlzLGUsdCxyKSx0aGlzO2lmKGcoZSkpe3ZhciBhPWU7cmV0dXJuIHRoaXMuZmlsdGVyKChmdW5jdGlvbihlLHQpe3JldHVybiAhdC5kaXImJmEudGVzdChlKX0pKX12YXIgaT10aGlzLmZpbGVzW3RoaXMucm9vdCtlXTtyZXR1cm4gaSYmIWkuZGlyP2k6bnVsbH0sZm9sZGVyOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiB0aGlzO2lmKGcoZSkpcmV0dXJuIHRoaXMuZmlsdGVyKChmdW5jdGlvbih0LHIpe3JldHVybiByLmRpciYmZS50ZXN0KHQpfSkpO3ZhciB0PXRoaXMucm9vdCtlLHI9bS5jYWxsKHRoaXMsdCksbj10aGlzLmNsb25lKCk7cmV0dXJuIG4ucm9vdD1yLm5hbWUsbn0scmVtb3ZlOmZ1bmN0aW9uKGUpe2U9dGhpcy5yb290K2U7dmFyIHQ9dGhpcy5maWxlc1tlXTtpZih0fHwoIi8iIT09ZS5zbGljZSgtMSkmJihlKz0iLyIpLHQ9dGhpcy5maWxlc1tlXSksdCYmIXQuZGlyKWRlbGV0ZSB0aGlzLmZpbGVzW2VdO2Vsc2UgZm9yKHZhciByPXRoaXMuZmlsdGVyKChmdW5jdGlvbih0LHIpe3JldHVybiByLm5hbWUuc2xpY2UoMCxlLmxlbmd0aCk9PT1lfSkpLG49MDtuPHIubGVuZ3RoO24rKylkZWxldGUgdGhpcy5maWxlc1tyW25dLm5hbWVdO3JldHVybiB0aGlzfSxnZW5lcmF0ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS4iKX0sZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbTpmdW5jdGlvbihlKXt2YXIgdCxyPXt9O3RyeXtpZigocj1pLmV4dGVuZChlfHx7fSx7c3RyZWFtRmlsZXM6ITEsY29tcHJlc3Npb246IlNUT1JFIixjb21wcmVzc2lvbk9wdGlvbnM6bnVsbCx0eXBlOiIiLHBsYXRmb3JtOiJET1MiLGNvbW1lbnQ6bnVsbCxtaW1lVHlwZToiYXBwbGljYXRpb24vemlwIixlbmNvZGVGaWxlTmFtZTphLnV0ZjhlbmNvZGV9KSkudHlwZT1yLnR5cGUudG9Mb3dlckNhc2UoKSxyLmNvbXByZXNzaW9uPXIuY29tcHJlc3Npb24udG9VcHBlckNhc2UoKSwiYmluYXJ5c3RyaW5nIj09PXIudHlwZSYmKHIudHlwZT0ic3RyaW5nIiksIXIudHlwZSl0aHJvdyBuZXcgRXJyb3IoIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC4iKTtpLmNoZWNrU3VwcG9ydChyLnR5cGUpLCJkYXJ3aW4iIT09ci5wbGF0Zm9ybSYmImZyZWVic2QiIT09ci5wbGF0Zm9ybSYmImxpbnV4IiE9PXIucGxhdGZvcm0mJiJzdW5vcyIhPT1yLnBsYXRmb3JtfHwoci5wbGF0Zm9ybT0iVU5JWCIpLCJ3aW4zMiI9PT1yLnBsYXRmb3JtJiYoci5wbGF0Zm9ybT0iRE9TIik7dmFyIG49ci5jb21tZW50fHx0aGlzLmNvbW1lbnR8fCIiO3Q9aC5nZW5lcmF0ZVdvcmtlcih0aGlzLHIsbik7fWNhdGNoKGUpeyh0PW5ldyBvKCJlcnJvciIpKS5lcnJvcihlKTt9cmV0dXJuIG5ldyBzKHQsci50eXBlfHwic3RyaW5nIixyLm1pbWVUeXBlKX0sZ2VuZXJhdGVBc3luYzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdlbmVyYXRlSW50ZXJuYWxTdHJlYW0oZSkuYWNjdW11bGF0ZSh0KX0sZ2VuZXJhdGVOb2RlU3RyZWFtOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIChlPWV8fHt9KS50eXBlfHwoZS50eXBlPSJub2RlYnVmZmVyIiksdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKGUpLnRvTm9kZWpzU3RyZWFtKHQpfX07dC5leHBvcnRzPXY7fSx7Ii4vY29tcHJlc3NlZE9iamVjdCI6MiwiLi9kZWZhdWx0cyI6NSwiLi9nZW5lcmF0ZSI6OSwiLi9ub2RlanMvTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyIjoxMiwiLi9ub2RlanNVdGlscyI6MTQsIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4LCIuL3N0cmVhbS9TdHJlYW1IZWxwZXIiOjI5LCIuL3V0ZjgiOjMxLCIuL3V0aWxzIjozMiwiLi96aXBPYmplY3QiOjM1fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgic3RyZWFtIik7fSx7c3RyZWFtOnZvaWQgMH1dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9EYXRhUmVhZGVyIik7ZnVuY3Rpb24gYShlKXtuLmNhbGwodGhpcyxlKTtmb3IodmFyIHQ9MDt0PHRoaXMuZGF0YS5sZW5ndGg7dCsrKWVbdF09MjU1JmVbdF07fWUoIi4uL3V0aWxzIikuaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5ieXRlQXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YVt0aGlzLnplcm8rZV19LGEucHJvdG90eXBlLmxhc3RJbmRleE9mU2lnbmF0dXJlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmNoYXJDb2RlQXQoMCkscj1lLmNoYXJDb2RlQXQoMSksbj1lLmNoYXJDb2RlQXQoMiksYT1lLmNoYXJDb2RlQXQoMyksaT10aGlzLmxlbmd0aC00OzA8PWk7LS1pKWlmKHRoaXMuZGF0YVtpXT09PXQmJnRoaXMuZGF0YVtpKzFdPT09ciYmdGhpcy5kYXRhW2krMl09PT1uJiZ0aGlzLmRhdGFbaSszXT09PWEpcmV0dXJuIGktdGhpcy56ZXJvO3JldHVybiAtMX0sYS5wcm90b3R5cGUucmVhZEFuZENoZWNrU2lnbmF0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKSxyPWUuY2hhckNvZGVBdCgxKSxuPWUuY2hhckNvZGVBdCgyKSxhPWUuY2hhckNvZGVBdCgzKSxpPXRoaXMucmVhZERhdGEoNCk7cmV0dXJuIHQ9PT1pWzBdJiZyPT09aVsxXSYmbj09PWlbMl0mJmE9PT1pWzNdfSxhLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlKXtpZih0aGlzLmNoZWNrT2Zmc2V0KGUpLDA9PT1lKXJldHVybiBbXTt2YXIgdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrZSk7cmV0dXJuIHRoaXMuaW5kZXgrPWUsdH0sdC5leHBvcnRzPWE7fSx7Ii4uL3V0aWxzIjozMiwiLi9EYXRhUmVhZGVyIjoxOH1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vdXRpbHMiKTtmdW5jdGlvbiBhKGUpe3RoaXMuZGF0YT1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuaW5kZXg9MCx0aGlzLnplcm89MDt9YS5wcm90b3R5cGU9e2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKGUpe3RoaXMuY2hlY2tJbmRleCh0aGlzLmluZGV4K2UpO30sY2hlY2tJbmRleDpmdW5jdGlvbihlKXtpZih0aGlzLmxlbmd0aDx0aGlzLnplcm8rZXx8ZTwwKXRocm93IG5ldyBFcnJvcigiRW5kIG9mIGRhdGEgcmVhY2hlZCAoZGF0YSBsZW5ndGggPSAiK3RoaXMubGVuZ3RoKyIsIGFza2VkIGluZGV4ID0gIitlKyIpLiBDb3JydXB0ZWQgemlwID8iKX0sc2V0SW5kZXg6ZnVuY3Rpb24oZSl7dGhpcy5jaGVja0luZGV4KGUpLHRoaXMuaW5kZXg9ZTt9LHNraXA6ZnVuY3Rpb24oZSl7dGhpcy5zZXRJbmRleCh0aGlzLmluZGV4K2UpO30sYnl0ZUF0OmZ1bmN0aW9uKCl7fSxyZWFkSW50OmZ1bmN0aW9uKGUpe3ZhciB0LHI9MDtmb3IodGhpcy5jaGVja09mZnNldChlKSx0PXRoaXMuaW5kZXgrZS0xO3Q+PXRoaXMuaW5kZXg7dC0tKXI9KHI8PDgpK3RoaXMuYnl0ZUF0KHQpO3JldHVybiB0aGlzLmluZGV4Kz1lLHJ9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIG4udHJhbnNmb3JtVG8oInN0cmluZyIsdGhpcy5yZWFkRGF0YShlKSl9LHJlYWREYXRhOmZ1bmN0aW9uKCl7fSxsYXN0SW5kZXhPZlNpZ25hdHVyZTpmdW5jdGlvbigpe30scmVhZEFuZENoZWNrU2lnbmF0dXJlOmZ1bmN0aW9uKCl7fSxyZWFkRGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZEludCg0KTtyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoMTk4MCsoZT4+MjUmMTI3KSwoZT4+MjEmMTUpLTEsZT4+MTYmMzEsZT4+MTEmMzEsZT4+NSY2MywoMzEmZSk8PDEpKX19LHQuZXhwb3J0cz1hO30seyIuLi91dGlscyI6MzJ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vVWludDhBcnJheVJlYWRlciIpO2Z1bmN0aW9uIGEoZSl7bi5jYWxsKHRoaXMsZSk7fWUoIi4uL3V0aWxzIikuaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNoZWNrT2Zmc2V0KGUpO3ZhciB0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtlKTtyZXR1cm4gdGhpcy5pbmRleCs9ZSx0fSx0LmV4cG9ydHM9YTt9LHsiLi4vdXRpbHMiOjMyLCIuL1VpbnQ4QXJyYXlSZWFkZXIiOjIxfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL0RhdGFSZWFkZXIiKTtmdW5jdGlvbiBhKGUpe24uY2FsbCh0aGlzLGUpO31lKCIuLi91dGlscyIpLmluaGVyaXRzKGEsbiksYS5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnplcm8rZSl9LGEucHJvdG90eXBlLmxhc3RJbmRleE9mU2lnbmF0dXJlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEubGFzdEluZGV4T2YoZSktdGhpcy56ZXJvfSxhLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLnJlYWREYXRhKDQpfSxhLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNoZWNrT2Zmc2V0KGUpO3ZhciB0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtlKTtyZXR1cm4gdGhpcy5pbmRleCs9ZSx0fSx0LmV4cG9ydHM9YTt9LHsiLi4vdXRpbHMiOjMyLCIuL0RhdGFSZWFkZXIiOjE4fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL0FycmF5UmVhZGVyIik7ZnVuY3Rpb24gYShlKXtuLmNhbGwodGhpcyxlKTt9ZSgiLi4vdXRpbHMiKS5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2hlY2tPZmZzZXQoZSksMD09PWUpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciB0PXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtlKTtyZXR1cm4gdGhpcy5pbmRleCs9ZSx0fSx0LmV4cG9ydHM9YTt9LHsiLi4vdXRpbHMiOjMyLCIuL0FycmF5UmVhZGVyIjoxN31dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vdXRpbHMiKSxhPWUoIi4uL3N1cHBvcnQiKSxpPWUoIi4vQXJyYXlSZWFkZXIiKSxvPWUoIi4vU3RyaW5nUmVhZGVyIikscz1lKCIuL05vZGVCdWZmZXJSZWFkZXIiKSxsPWUoIi4vVWludDhBcnJheVJlYWRlciIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLmdldFR5cGVPZihlKTtyZXR1cm4gbi5jaGVja1N1cHBvcnQodCksInN0cmluZyIhPT10fHxhLnVpbnQ4YXJyYXk/Im5vZGVidWZmZXIiPT09dD9uZXcgcyhlKTphLnVpbnQ4YXJyYXk/bmV3IGwobi50cmFuc2Zvcm1UbygidWludDhhcnJheSIsZSkpOm5ldyBpKG4udHJhbnNmb3JtVG8oImFycmF5IixlKSk6bmV3IG8oZSl9O30seyIuLi9zdXBwb3J0IjozMCwiLi4vdXRpbHMiOjMyLCIuL0FycmF5UmVhZGVyIjoxNywiLi9Ob2RlQnVmZmVyUmVhZGVyIjoxOSwiLi9TdHJpbmdSZWFkZXIiOjIwLCIuL1VpbnQ4QXJyYXlSZWFkZXIiOjIxfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtyLkxPQ0FMX0ZJTEVfSEVBREVSPSJQSwMEIixyLkNFTlRSQUxfRklMRV9IRUFERVI9IlBLAQIiLHIuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EPSJQSwUGIixyLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0xPQ0FUT1I9IlBLBgciLHIuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EPSJQSwYGIixyLkRBVEFfREVTQ1JJUFRPUj0iUEsHXGIiO30se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9HZW5lcmljV29ya2VyIiksYT1lKCIuLi91dGlscyIpO2Z1bmN0aW9uIGkoZSl7bi5jYWxsKHRoaXMsIkNvbnZlcnRXb3JrZXIgdG8gIitlKSx0aGlzLmRlc3RUeXBlPWU7fWEuaW5oZXJpdHMoaSxuKSxpLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7dGhpcy5wdXNoKHtkYXRhOmEudHJhbnNmb3JtVG8odGhpcy5kZXN0VHlwZSxlLmRhdGEpLG1ldGE6ZS5tZXRhfSk7fSx0LmV4cG9ydHM9aTt9LHsiLi4vdXRpbHMiOjMyLCIuL0dlbmVyaWNXb3JrZXIiOjI4fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL0dlbmVyaWNXb3JrZXIiKSxhPWUoIi4uL2NyYzMyIik7ZnVuY3Rpb24gaSgpe24uY2FsbCh0aGlzLCJDcmMzMlByb2JlIiksdGhpcy53aXRoU3RyZWFtSW5mbygiY3JjMzIiLDApO31lKCIuLi91dGlscyIpLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGUpe3RoaXMuc3RyZWFtSW5mby5jcmMzMj1hKGUuZGF0YSx0aGlzLnN0cmVhbUluZm8uY3JjMzJ8fDApLHRoaXMucHVzaChlKTt9LHQuZXhwb3J0cz1pO30seyIuLi9jcmMzMiI6NCwiLi4vdXRpbHMiOjMyLCIuL0dlbmVyaWNXb3JrZXIiOjI4fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi91dGlscyIpLGE9ZSgiLi9HZW5lcmljV29ya2VyIik7ZnVuY3Rpb24gaShlKXthLmNhbGwodGhpcywiRGF0YUxlbmd0aFByb2JlIGZvciAiK2UpLHRoaXMucHJvcE5hbWU9ZSx0aGlzLndpdGhTdHJlYW1JbmZvKGUsMCk7fW4uaW5oZXJpdHMoaSxhKSxpLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5zdHJlYW1JbmZvW3RoaXMucHJvcE5hbWVdfHwwO3RoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXT10K2UuZGF0YS5sZW5ndGg7fWEucHJvdG90eXBlLnByb2Nlc3NDaHVuay5jYWxsKHRoaXMsZSk7fSx0LmV4cG9ydHM9aTt9LHsiLi4vdXRpbHMiOjMyLCIuL0dlbmVyaWNXb3JrZXIiOjI4fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi91dGlscyIpLGE9ZSgiLi9HZW5lcmljV29ya2VyIik7ZnVuY3Rpb24gaShlKXthLmNhbGwodGhpcywiRGF0YVdvcmtlciIpO3ZhciB0PXRoaXM7dGhpcy5kYXRhSXNSZWFkeT0hMSx0aGlzLmluZGV4PTAsdGhpcy5tYXg9MCx0aGlzLmRhdGE9bnVsbCx0aGlzLnR5cGU9IiIsdGhpcy5fdGlja1NjaGVkdWxlZD0hMSxlLnRoZW4oKGZ1bmN0aW9uKGUpe3QuZGF0YUlzUmVhZHk9ITAsdC5kYXRhPWUsdC5tYXg9ZSYmZS5sZW5ndGh8fDAsdC50eXBlPW4uZ2V0VHlwZU9mKGUpLHQuaXNQYXVzZWR8fHQuX3RpY2tBbmRSZXBlYXQoKTt9KSwoZnVuY3Rpb24oZSl7dC5lcnJvcihlKTt9KSk7fW4uaW5oZXJpdHMoaSxhKSxpLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7YS5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuZGF0YT1udWxsO30saS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuICEhYS5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJighdGhpcy5fdGlja1NjaGVkdWxlZCYmdGhpcy5kYXRhSXNSZWFkeSYmKHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITAsbi5kZWxheSh0aGlzLl90aWNrQW5kUmVwZWF0LFtdLHRoaXMpKSwhMCl9LGkucHJvdG90eXBlLl90aWNrQW5kUmVwZWF0PWZ1bmN0aW9uKCl7dGhpcy5fdGlja1NjaGVkdWxlZD0hMSx0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWR8fCh0aGlzLl90aWNrKCksdGhpcy5pc0ZpbmlzaGVkfHwobi5kZWxheSh0aGlzLl90aWNrQW5kUmVwZWF0LFtdLHRoaXMpLHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITApKTt9LGkucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkKXJldHVybiAhMTt2YXIgZT1udWxsLHQ9TWF0aC5taW4odGhpcy5tYXgsdGhpcy5pbmRleCsxNjM4NCk7aWYodGhpcy5pbmRleD49dGhpcy5tYXgpcmV0dXJuIHRoaXMuZW5kKCk7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJzdHJpbmciOmU9dGhpcy5kYXRhLnN1YnN0cmluZyh0aGlzLmluZGV4LHQpO2JyZWFrO2Nhc2UidWludDhhcnJheSI6ZT10aGlzLmRhdGEuc3ViYXJyYXkodGhpcy5pbmRleCx0KTticmVhaztjYXNlImFycmF5IjpjYXNlIm5vZGVidWZmZXIiOmU9dGhpcy5kYXRhLnNsaWNlKHRoaXMuaW5kZXgsdCk7fXJldHVybiB0aGlzLmluZGV4PXQsdGhpcy5wdXNoKHtkYXRhOmUsbWV0YTp7cGVyY2VudDp0aGlzLm1heD90aGlzLmluZGV4L3RoaXMubWF4KjEwMDowfX0pfSx0LmV4cG9ydHM9aTt9LHsiLi4vdXRpbHMiOjMyLCIuL0dlbmVyaWNXb3JrZXIiOjI4fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUpe3RoaXMubmFtZT1lfHwiZGVmYXVsdCIsdGhpcy5zdHJlYW1JbmZvPXt9LHRoaXMuZ2VuZXJhdGVkRXJyb3I9bnVsbCx0aGlzLmV4dHJhU3RyZWFtSW5mbz17fSx0aGlzLmlzUGF1c2VkPSEwLHRoaXMuaXNGaW5pc2hlZD0hMSx0aGlzLmlzTG9ja2VkPSExLHRoaXMuX2xpc3RlbmVycz17ZGF0YTpbXSxlbmQ6W10sZXJyb3I6W119LHRoaXMucHJldmlvdXM9bnVsbDt9bi5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KCJkYXRhIixlKTt9LGVuZDpmdW5jdGlvbigpe2lmKHRoaXMuaXNGaW5pc2hlZClyZXR1cm4gITE7dGhpcy5mbHVzaCgpO3RyeXt0aGlzLmVtaXQoImVuZCIpLHRoaXMuY2xlYW5VcCgpLHRoaXMuaXNGaW5pc2hlZD0hMDt9Y2F0Y2goZSl7dGhpcy5lbWl0KCJlcnJvciIsZSk7fXJldHVybiAhMH0sZXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuICF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkP3RoaXMuZ2VuZXJhdGVkRXJyb3I9ZToodGhpcy5pc0ZpbmlzaGVkPSEwLHRoaXMuZW1pdCgiZXJyb3IiLGUpLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMuZXJyb3IoZSksdGhpcy5jbGVhblVwKCkpLCEwKX0sb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2VdLnB1c2godCksdGhpc30sY2xlYW5VcDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtSW5mbz10aGlzLmdlbmVyYXRlZEVycm9yPXRoaXMuZXh0cmFTdHJlYW1JbmZvPW51bGwsdGhpcy5fbGlzdGVuZXJzPVtdO30sZW1pdDpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX2xpc3RlbmVyc1tlXSlmb3IodmFyIHI9MDtyPHRoaXMuX2xpc3RlbmVyc1tlXS5sZW5ndGg7cisrKXRoaXMuX2xpc3RlbmVyc1tlXVtyXS5jYWxsKHRoaXMsdCk7fSxwaXBlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZ2lzdGVyUHJldmlvdXModGhpcyl9LHJlZ2lzdGVyUHJldmlvdXM6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzdHJlYW0gJyIrdGhpcysiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuIik7dGhpcy5zdHJlYW1JbmZvPWUuc3RyZWFtSW5mbyx0aGlzLm1lcmdlU3RyZWFtSW5mbygpLHRoaXMucHJldmlvdXM9ZTt2YXIgdD10aGlzO3JldHVybiBlLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7dC5wcm9jZXNzQ2h1bmsoZSk7fSkpLGUub24oImVuZCIsKGZ1bmN0aW9uKCl7dC5lbmQoKTt9KSksZS5vbigiZXJyb3IiLChmdW5jdGlvbihlKXt0LmVycm9yKGUpO30pKSx0aGlzfSxwYXVzZTpmdW5jdGlvbigpe3JldHVybiAhdGhpcy5pc1BhdXNlZCYmIXRoaXMuaXNGaW5pc2hlZCYmKHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5wYXVzZSgpLCEwKX0scmVzdW1lOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZClyZXR1cm4gITE7dmFyIGU9dGhpcy5pc1BhdXNlZD0hMTtyZXR1cm4gdGhpcy5nZW5lcmF0ZWRFcnJvciYmKHRoaXMuZXJyb3IodGhpcy5nZW5lcmF0ZWRFcnJvciksZT0hMCksdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5yZXN1bWUoKSwhZX0sZmx1c2g6ZnVuY3Rpb24oKXt9LHByb2Nlc3NDaHVuazpmdW5jdGlvbihlKXt0aGlzLnB1c2goZSk7fSx3aXRoU3RyZWFtSW5mbzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmV4dHJhU3RyZWFtSW5mb1tlXT10LHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpc30sbWVyZ2VTdHJlYW1JbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuZXh0cmFTdHJlYW1JbmZvKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmV4dHJhU3RyZWFtSW5mbyxlKSYmKHRoaXMuc3RyZWFtSW5mb1tlXT10aGlzLmV4dHJhU3RyZWFtSW5mb1tlXSk7fSxsb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzdHJlYW0gJyIrdGhpcysiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuIik7dGhpcy5pc0xvY2tlZD0hMCx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLmxvY2soKTt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9IldvcmtlciAiK3RoaXMubmFtZTtyZXR1cm4gdGhpcy5wcmV2aW91cz90aGlzLnByZXZpb3VzKyIgLT4gIitlOmV9fSx0LmV4cG9ydHM9bjt9LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uL3V0aWxzIiksYT1lKCIuL0NvbnZlcnRXb3JrZXIiKSxpPWUoIi4vR2VuZXJpY1dvcmtlciIpLG89ZSgiLi4vYmFzZTY0Iikscz1lKCIuLi9zdXBwb3J0IiksbD1lKCIuLi9leHRlcm5hbCIpLHU9bnVsbDtpZihzLm5vZGVzdHJlYW0pdHJ5e3U9ZSgiLi4vbm9kZWpzL05vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXIiKTt9Y2F0Y2goZSl7fWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gbmV3IGwuUHJvbWlzZSgoZnVuY3Rpb24ocixhKXt2YXIgaT1bXSxzPWUuX2ludGVybmFsVHlwZSxsPWUuX291dHB1dFR5cGUsdT1lLl9taW1lVHlwZTtlLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSxyKXtpLnB1c2goZSksdCYmdChyKTt9KSkub24oImVycm9yIiwoZnVuY3Rpb24oZSl7aT1bXSxhKGUpO30pKS5vbigiZW5kIiwoZnVuY3Rpb24oKXt0cnl7dmFyIGU9ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaChlKXtjYXNlImJsb2IiOnJldHVybiBuLm5ld0Jsb2Iobi50cmFuc2Zvcm1UbygiYXJyYXlidWZmZXIiLHQpLHIpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gby5lbmNvZGUodCk7ZGVmYXVsdDpyZXR1cm4gbi50cmFuc2Zvcm1UbyhlLHQpfX0obCxmdW5jdGlvbihlLHQpe3ZhciByLG49MCxhPW51bGwsaT0wO2ZvcihyPTA7cjx0Lmxlbmd0aDtyKyspaSs9dFtyXS5sZW5ndGg7c3dpdGNoKGUpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gdC5qb2luKCIiKTtjYXNlImFycmF5IjpyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSx0KTtjYXNlInVpbnQ4YXJyYXkiOmZvcihhPW5ldyBVaW50OEFycmF5KGkpLHI9MDtyPHQubGVuZ3RoO3IrKylhLnNldCh0W3JdLG4pLG4rPXRbcl0ubGVuZ3RoO3JldHVybiBhO2Nhc2Uibm9kZWJ1ZmZlciI6cmV0dXJuIEJ1ZmZlci5jb25jYXQodCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImNvbmNhdCA6IHVuc3VwcG9ydGVkIHR5cGUgJyIrZSsiJyIpfX0ocyxpKSx1KTtyKGUpO31jYXRjaChlKXthKGUpO31pPVtdO30pKS5yZXN1bWUoKTt9KSl9ZnVuY3Rpb24gaChlLHQscil7dmFyIG89dDtzd2l0Y2godCl7Y2FzZSJibG9iIjpjYXNlImFycmF5YnVmZmVyIjpvPSJ1aW50OGFycmF5IjticmVhaztjYXNlImJhc2U2NCI6bz0ic3RyaW5nIjt9dHJ5e3RoaXMuX2ludGVybmFsVHlwZT1vLHRoaXMuX291dHB1dFR5cGU9dCx0aGlzLl9taW1lVHlwZT1yLG4uY2hlY2tTdXBwb3J0KG8pLHRoaXMuX3dvcmtlcj1lLnBpcGUobmV3IGEobykpLGUubG9jaygpO31jYXRjaChlKXt0aGlzLl93b3JrZXI9bmV3IGkoImVycm9yIiksdGhpcy5fd29ya2VyLmVycm9yKGUpO319aC5wcm90b3R5cGU9e2FjY3VtdWxhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGModGhpcyxlKX0sb246ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiAiZGF0YSI9PT1lP3RoaXMuX3dvcmtlci5vbihlLChmdW5jdGlvbihlKXt0LmNhbGwocixlLmRhdGEsZS5tZXRhKTt9KSk6dGhpcy5fd29ya2VyLm9uKGUsKGZ1bmN0aW9uKCl7bi5kZWxheSh0LGFyZ3VtZW50cyxyKTt9KSksdGhpc30scmVzdW1lOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGVsYXkodGhpcy5fd29ya2VyLnJlc3VtZSxbXSx0aGlzLl93b3JrZXIpLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmtlci5wYXVzZSgpLHRoaXN9LHRvTm9kZWpzU3RyZWFtOmZ1bmN0aW9uKGUpe2lmKG4uY2hlY2tTdXBwb3J0KCJub2Rlc3RyZWFtIiksIm5vZGVidWZmZXIiIT09dGhpcy5fb3V0cHV0VHlwZSl0aHJvdyBuZXcgRXJyb3IodGhpcy5fb3V0cHV0VHlwZSsiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBtZXRob2QiKTtyZXR1cm4gbmV3IHUodGhpcyx7b2JqZWN0TW9kZToibm9kZWJ1ZmZlciIhPT10aGlzLl9vdXRwdXRUeXBlfSxlKX19LHQuZXhwb3J0cz1oO30seyIuLi9iYXNlNjQiOjEsIi4uL2V4dGVybmFsIjo2LCIuLi9ub2RlanMvTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlciI6MTMsIi4uL3N1cHBvcnQiOjMwLCIuLi91dGlscyI6MzIsIi4vQ29udmVydFdvcmtlciI6MjQsIi4vR2VuZXJpY1dvcmtlciI6Mjh9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe2lmKHIuYmFzZTY0PSEwLHIuYXJyYXk9ITAsci5zdHJpbmc9ITAsci5hcnJheWJ1ZmZlcj0idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXksci5ub2RlYnVmZmVyPSJ1bmRlZmluZWQiIT10eXBlb2YgQnVmZmVyLHIudWludDhhcnJheT0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXksInVuZGVmaW5lZCI9PXR5cGVvZiBBcnJheUJ1ZmZlcilyLmJsb2I9ITE7ZWxzZSB7dmFyIG49bmV3IEFycmF5QnVmZmVyKDApO3RyeXtyLmJsb2I9MD09PW5ldyBCbG9iKFtuXSx7dHlwZToiYXBwbGljYXRpb24vemlwIn0pLnNpemU7fWNhdGNoKGUpe3RyeXt2YXIgYT1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTthLmFwcGVuZChuKSxyLmJsb2I9MD09PWEuZ2V0QmxvYigiYXBwbGljYXRpb24vemlwIikuc2l6ZTt9Y2F0Y2goZSl7ci5ibG9iPSExO319fXRyeXtyLm5vZGVzdHJlYW09ISFlKCJyZWFkYWJsZS1zdHJlYW0iKS5SZWFkYWJsZTt9Y2F0Y2goZSl7ci5ub2Rlc3RyZWFtPSExO319LHsicmVhZGFibGUtc3RyZWFtIjoxNn1dLDMxOltmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWUoIi4vdXRpbHMiKSxhPWUoIi4vc3VwcG9ydCIpLGk9ZSgiLi9ub2RlanNVdGlscyIpLG89ZSgiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciIpLHM9bmV3IEFycmF5KDI1NiksbD0wO2w8MjU2O2wrKylzW2xdPTI1Mjw9bD82OjI0ODw9bD81OjI0MDw9bD80OjIyNDw9bD8zOjE5Mjw9bD8yOjE7ZnVuY3Rpb24gdSgpe28uY2FsbCh0aGlzLCJ1dGYtOCBkZWNvZGUiKSx0aGlzLmxlZnRPdmVyPW51bGw7fWZ1bmN0aW9uIGMoKXtvLmNhbGwodGhpcywidXRmLTggZW5jb2RlIik7fXNbMjU0XT1zWzI1NF09MSxyLnV0ZjhlbmNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGEubm9kZWJ1ZmZlcj9pLm5ld0J1ZmZlckZyb20oZSwidXRmLTgiKTpmdW5jdGlvbihlKXt2YXIgdCxyLG4saSxvLHM9ZS5sZW5ndGgsbD0wO2ZvcihpPTA7aTxzO2krKyk1NTI5Nj09KDY0NTEyJihyPWUuY2hhckNvZGVBdChpKSkpJiZpKzE8cyYmNTYzMjA9PSg2NDUxMiYobj1lLmNoYXJDb2RlQXQoaSsxKSkpJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSxpKyspLGwrPXI8MTI4PzE6cjwyMDQ4PzI6cjw2NTUzNj8zOjQ7Zm9yKHQ9YS51aW50OGFycmF5P25ldyBVaW50OEFycmF5KGwpOm5ldyBBcnJheShsKSxpPW89MDtvPGw7aSsrKTU1Mjk2PT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkpKSkmJmkrMTxzJiY1NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChpKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKG4tNTYzMjApLGkrKykscjwxMjg/dFtvKytdPXI6KHI8MjA0OD90W28rK109MTkyfHI+Pj42OihyPDY1NTM2P3RbbysrXT0yMjR8cj4+PjEyOih0W28rK109MjQwfHI+Pj4xOCx0W28rK109MTI4fHI+Pj4xMiY2MyksdFtvKytdPTEyOHxyPj4+NiY2MyksdFtvKytdPTEyOHw2MyZyKTtyZXR1cm4gdH0oZSl9LHIudXRmOGRlY29kZT1mdW5jdGlvbihlKXtyZXR1cm4gYS5ub2RlYnVmZmVyP24udHJhbnNmb3JtVG8oIm5vZGVidWZmZXIiLGUpLnRvU3RyaW5nKCJ1dGYtOCIpOmZ1bmN0aW9uKGUpe3ZhciB0LHIsYSxpLG89ZS5sZW5ndGgsbD1uZXcgQXJyYXkoMipvKTtmb3IodD1yPTA7dDxvOylpZigoYT1lW3QrK10pPDEyOClsW3IrK109YTtlbHNlIGlmKDQ8KGk9c1thXSkpbFtyKytdPTY1NTMzLHQrPWktMTtlbHNlIHtmb3IoYSY9Mj09PWk/MzE6Mz09PWk/MTU6NzsxPGkmJnQ8bzspYT1hPDw2fDYzJmVbdCsrXSxpLS07MTxpP2xbcisrXT02NTUzMzphPDY1NTM2P2xbcisrXT1hOihhLT02NTUzNixsW3IrK109NTUyOTZ8YT4+MTAmMTAyMyxsW3IrK109NTYzMjB8MTAyMyZhKTt9cmV0dXJuIGwubGVuZ3RoIT09ciYmKGwuc3ViYXJyYXk/bD1sLnN1YmFycmF5KDAscik6bC5sZW5ndGg9ciksbi5hcHBseUZyb21DaGFyQ29kZShsKX0oZT1uLnRyYW5zZm9ybVRvKGEudWludDhhcnJheT8idWludDhhcnJheSI6ImFycmF5IixlKSl9LG4uaW5oZXJpdHModSxvKSx1LnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7dmFyIHQ9bi50cmFuc2Zvcm1UbyhhLnVpbnQ4YXJyYXk/InVpbnQ4YXJyYXkiOiJhcnJheSIsZS5kYXRhKTtpZih0aGlzLmxlZnRPdmVyJiZ0aGlzLmxlZnRPdmVyLmxlbmd0aCl7aWYoYS51aW50OGFycmF5KXt2YXIgaT10Oyh0PW5ldyBVaW50OEFycmF5KGkubGVuZ3RoK3RoaXMubGVmdE92ZXIubGVuZ3RoKSkuc2V0KHRoaXMubGVmdE92ZXIsMCksdC5zZXQoaSx0aGlzLmxlZnRPdmVyLmxlbmd0aCk7fWVsc2UgdD10aGlzLmxlZnRPdmVyLmNvbmNhdCh0KTt0aGlzLmxlZnRPdmVyPW51bGw7fXZhciBvPWZ1bmN0aW9uKGUsdCl7dmFyIHI7Zm9yKCh0PXR8fGUubGVuZ3RoKT5lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpLHI9dC0xOzA8PXImJjEyOD09KDE5MiZlW3JdKTspci0tO3JldHVybiByPDB8fDA9PT1yP3Q6citzW2Vbcl1dPnQ/cjp0fSh0KSxsPXQ7byE9PXQubGVuZ3RoJiYoYS51aW50OGFycmF5PyhsPXQuc3ViYXJyYXkoMCxvKSx0aGlzLmxlZnRPdmVyPXQuc3ViYXJyYXkobyx0Lmxlbmd0aCkpOihsPXQuc2xpY2UoMCxvKSx0aGlzLmxlZnRPdmVyPXQuc2xpY2Uobyx0Lmxlbmd0aCkpKSx0aGlzLnB1c2goe2RhdGE6ci51dGY4ZGVjb2RlKGwpLG1ldGE6ZS5tZXRhfSk7fSx1LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3RoaXMubGVmdE92ZXImJnRoaXMubGVmdE92ZXIubGVuZ3RoJiYodGhpcy5wdXNoKHtkYXRhOnIudXRmOGRlY29kZSh0aGlzLmxlZnRPdmVyKSxtZXRhOnt9fSksdGhpcy5sZWZ0T3Zlcj1udWxsKTt9LHIuVXRmOERlY29kZVdvcmtlcj11LG4uaW5oZXJpdHMoYyxvKSxjLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7dGhpcy5wdXNoKHtkYXRhOnIudXRmOGVuY29kZShlLmRhdGEpLG1ldGE6ZS5tZXRhfSk7fSxyLlV0ZjhFbmNvZGVXb3JrZXI9Yzt9LHsiLi9ub2RlanNVdGlscyI6MTQsIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4LCIuL3N1cHBvcnQiOjMwLCIuL3V0aWxzIjozMn1dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9zdXBwb3J0IiksYT1lKCIuL2Jhc2U2NCIpLGk9ZSgiLi9ub2RlanNVdGlscyIpLG89ZSgiLi9leHRlcm5hbCIpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KytyKXRbcl09MjU1JmUuY2hhckNvZGVBdChyKTtyZXR1cm4gdH1lKCJzZXRpbW1lZGlhdGUiKSxyLm5ld0Jsb2I9ZnVuY3Rpb24oZSx0KXtyLmNoZWNrU3VwcG9ydCgiYmxvYiIpO3RyeXtyZXR1cm4gbmV3IEJsb2IoW2VdLHt0eXBlOnR9KX1jYXRjaChyKXt0cnl7dmFyIG49bmV3KHNlbGYuQmxvYkJ1aWxkZXJ8fHNlbGYuV2ViS2l0QmxvYkJ1aWxkZXJ8fHNlbGYuTW96QmxvYkJ1aWxkZXJ8fHNlbGYuTVNCbG9iQnVpbGRlcik7cmV0dXJuIG4uYXBwZW5kKGUpLG4uZ2V0QmxvYih0KX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoIkJ1ZyA6IGNhbid0IGNvbnN0cnVjdCB0aGUgQmxvYi4iKX19fTt2YXIgdT17c3RyaW5naWZ5QnlDaHVuazpmdW5jdGlvbihlLHQscil7dmFyIG49W10sYT0wLGk9ZS5sZW5ndGg7aWYoaTw9cilyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUpO2Zvcig7YTxpOykiYXJyYXkiPT09dHx8Im5vZGVidWZmZXIiPT09dD9uLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUuc2xpY2UoYSxNYXRoLm1pbihhK3IsaSkpKSk6bi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLnN1YmFycmF5KGEsTWF0aC5taW4oYStyLGkpKSkpLGErPXI7cmV0dXJuIG4uam9pbigiIil9LHN0cmluZ2lmeUJ5Q2hhcjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9IiIscj0wO3I8ZS5sZW5ndGg7cisrKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtyXSk7cmV0dXJuIHR9LGFwcGx5Q2FuQmVVc2VkOnt1aW50OGFycmF5OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuLnVpbnQ4YXJyYXkmJjE9PT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpLmxlbmd0aH1jYXRjaChlKXtyZXR1cm4gITF9fSgpLG5vZGVidWZmZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG4ubm9kZWJ1ZmZlciYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxpLmFsbG9jQnVmZmVyKDEpKS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuICExfX0oKX19O2Z1bmN0aW9uIGMoZSl7dmFyIHQ9NjU1MzYsbj1yLmdldFR5cGVPZihlKSxhPSEwO2lmKCJ1aW50OGFycmF5Ij09PW4/YT11LmFwcGx5Q2FuQmVVc2VkLnVpbnQ4YXJyYXk6Im5vZGVidWZmZXIiPT09biYmKGE9dS5hcHBseUNhbkJlVXNlZC5ub2RlYnVmZmVyKSxhKWZvcig7MTx0Oyl0cnl7cmV0dXJuIHUuc3RyaW5naWZ5QnlDaHVuayhlLG4sdCl9Y2F0Y2goZSl7dD1NYXRoLmZsb29yKHQvMik7fXJldHVybiB1LnN0cmluZ2lmeUJ5Q2hhcihlKX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdFtyXT1lW3JdO3JldHVybiB0fXIuYXBwbHlGcm9tQ2hhckNvZGU9Yzt2YXIgZj17fTtmLnN0cmluZz17c3RyaW5nOnMsYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSxuZXcgQXJyYXkoZS5sZW5ndGgpKX0sYXJyYXlidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGYuc3RyaW5nLnVpbnQ4YXJyYXkoZSkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBsKGUsbmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gbChlLGkuYWxsb2NCdWZmZXIoZS5sZW5ndGgpKX19LGYuYXJyYXk9e3N0cmluZzpjLGFycmF5OnMsYXJyYXlidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9LG5vZGVidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkubmV3QnVmZmVyRnJvbShlKX19LGYuYXJyYXlidWZmZXI9e3N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gYyhuZXcgVWludDhBcnJheShlKSl9LGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBoKG5ldyBVaW50OEFycmF5KGUpLG5ldyBBcnJheShlLmJ5dGVMZW5ndGgpKX0sYXJyYXlidWZmZXI6cyx1aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVWludDhBcnJheShlKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gaS5uZXdCdWZmZXJGcm9tKG5ldyBVaW50OEFycmF5KGUpKX19LGYudWludDhhcnJheT17c3RyaW5nOmMsYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSxuZXcgQXJyYXkoZS5sZW5ndGgpKX0sYXJyYXlidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYnVmZmVyfSx1aW50OGFycmF5OnMsbm9kZWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gaS5uZXdCdWZmZXJGcm9tKGUpfX0sZi5ub2RlYnVmZmVyPXtzdHJpbmc6YyxhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gaChlLG5ldyBBcnJheShlLmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gZi5ub2RlYnVmZmVyLnVpbnQ4YXJyYXkoZSkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsbmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpKX0sbm9kZWJ1ZmZlcjpzfSxyLnRyYW5zZm9ybVRvPWZ1bmN0aW9uKGUsdCl7aWYodD10fHwiIiwhZSlyZXR1cm4gdDtyLmNoZWNrU3VwcG9ydChlKTt2YXIgbj1yLmdldFR5cGVPZih0KTtyZXR1cm4gZltuXVtlXSh0KX0sci5yZXNvbHZlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnNwbGl0KCIvIikscj1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBhPXRbbl07Ii4iPT09YXx8IiI9PT1hJiYwIT09biYmbiE9PXQubGVuZ3RoLTF8fCgiLi4iPT09YT9yLnBvcCgpOnIucHVzaChhKSk7fXJldHVybiByLmpvaW4oIi8iKX0sci5nZXRUeXBlT2Y9ZnVuY3Rpb24oZSl7cmV0dXJuICJzdHJpbmciPT10eXBlb2YgZT8ic3RyaW5nIjoiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpPyJhcnJheSI6bi5ub2RlYnVmZmVyJiZpLmlzQnVmZmVyKGUpPyJub2RlYnVmZmVyIjpuLnVpbnQ4YXJyYXkmJmUgaW5zdGFuY2VvZiBVaW50OEFycmF5PyJ1aW50OGFycmF5IjpuLmFycmF5YnVmZmVyJiZlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ImFycmF5YnVmZmVyIjp2b2lkIDB9LHIuY2hlY2tTdXBwb3J0PWZ1bmN0aW9uKGUpe2lmKCFuW2UudG9Mb3dlckNhc2UoKV0pdGhyb3cgbmV3IEVycm9yKGUrIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGxhdGZvcm0iKX0sci5NQVhfVkFMVUVfMTZCSVRTPTY1NTM1LHIuTUFYX1ZBTFVFXzMyQklUUz0tMSxyLnByZXR0eT1mdW5jdGlvbihlKXt2YXIgdCxyLG49IiI7Zm9yKHI9MDtyPChlfHwiIikubGVuZ3RoO3IrKyluKz0iXFx4IisoKHQ9ZS5jaGFyQ29kZUF0KHIpKTwxNj8iMCI6IiIpK3QudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIG59LHIuZGVsYXk9ZnVuY3Rpb24oZSx0LHIpe3NldEltbWVkaWF0ZSgoZnVuY3Rpb24oKXtlLmFwcGx5KHJ8fG51bGwsdHx8W10pO30pKTt9LHIuaW5oZXJpdHM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7fXIucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyByO30sci5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI9e307Zm9yKGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWZvcih0IGluIGFyZ3VtZW50c1tlXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndW1lbnRzW2VdLHQpJiZ2b2lkIDA9PT1yW3RdJiYoclt0XT1hcmd1bWVudHNbZV1bdF0pO3JldHVybiByfSxyLnByZXBhcmVDb250ZW50PWZ1bmN0aW9uKGUsdCxpLHMsdSl7cmV0dXJuIG8uUHJvbWlzZS5yZXNvbHZlKHQpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBuLmJsb2ImJihlIGluc3RhbmNlb2YgQmxvYnx8LTEhPT1bIltvYmplY3QgRmlsZV0iLCJbb2JqZWN0IEJsb2JdIl0uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlUmVhZGVyP25ldyBvLlByb21pc2UoKGZ1bmN0aW9uKHQscil7dmFyIG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWQ9ZnVuY3Rpb24oZSl7dChlLnRhcmdldC5yZXN1bHQpO30sbi5vbmVycm9yPWZ1bmN0aW9uKGUpe3IoZS50YXJnZXQuZXJyb3IpO30sbi5yZWFkQXNBcnJheUJ1ZmZlcihlKTt9KSk6ZX0pKS50aGVuKChmdW5jdGlvbih0KXt2YXIgYz1yLmdldFR5cGVPZih0KTtyZXR1cm4gYz8oImFycmF5YnVmZmVyIj09PWM/dD1yLnRyYW5zZm9ybVRvKCJ1aW50OGFycmF5Iix0KToic3RyaW5nIj09PWMmJih1P3Q9YS5kZWNvZGUodCk6aSYmITAhPT1zJiYodD1mdW5jdGlvbihlKXtyZXR1cm4gbChlLG4udWludDhhcnJheT9uZXcgVWludDhBcnJheShlLmxlbmd0aCk6bmV3IEFycmF5KGUubGVuZ3RoKSl9KHQpKSksdCk6by5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIkNhbid0IHJlYWQgdGhlIGRhdGEgb2YgJyIrZSsiJy4gSXMgaXQgaW4gYSBzdXBwb3J0ZWQgSmF2YVNjcmlwdCB0eXBlIChTdHJpbmcsIEJsb2IsIEFycmF5QnVmZmVyLCBldGMpID8iKSl9KSl9O30seyIuL2Jhc2U2NCI6MSwiLi9leHRlcm5hbCI6NiwiLi9ub2RlanNVdGlscyI6MTQsIi4vc3VwcG9ydCI6MzAsc2V0aW1tZWRpYXRlOjU0fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL3JlYWRlci9yZWFkZXJGb3IiKSxhPWUoIi4vdXRpbHMiKSxpPWUoIi4vc2lnbmF0dXJlIiksbz1lKCIuL3ppcEVudHJ5Iikscz1lKCIuL3N1cHBvcnQiKTtmdW5jdGlvbiBsKGUpe3RoaXMuZmlsZXM9W10sdGhpcy5sb2FkT3B0aW9ucz1lO31sLnByb3RvdHlwZT17Y2hlY2tTaWduYXR1cmU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMucmVhZGVyLnJlYWRBbmRDaGVja1NpZ25hdHVyZShlKSl7dGhpcy5yZWFkZXIuaW5kZXgtPTQ7dmFyIHQ9dGhpcy5yZWFkZXIucmVhZFN0cmluZyg0KTt0aHJvdyBuZXcgRXJyb3IoIkNvcnJ1cHRlZCB6aXAgb3IgYnVnOiB1bmV4cGVjdGVkIHNpZ25hdHVyZSAoIithLnByZXR0eSh0KSsiLCBleHBlY3RlZCAiK2EucHJldHR5KGUpKyIpIil9fSxpc1NpZ25hdHVyZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucmVhZGVyLmluZGV4O3RoaXMucmVhZGVyLnNldEluZGV4KGUpO3ZhciBuPXRoaXMucmVhZGVyLnJlYWRTdHJpbmcoNCk9PT10O3JldHVybiB0aGlzLnJlYWRlci5zZXRJbmRleChyKSxufSxyZWFkQmxvY2tFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLmRpc2tOdW1iZXI9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpck9mZnNldD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuemlwQ29tbWVudExlbmd0aD10aGlzLnJlYWRlci5yZWFkSW50KDIpO3ZhciBlPXRoaXMucmVhZGVyLnJlYWREYXRhKHRoaXMuemlwQ29tbWVudExlbmd0aCksdD1zLnVpbnQ4YXJyYXk/InVpbnQ4YXJyYXkiOiJhcnJheSIscj1hLnRyYW5zZm9ybVRvKHQsZSk7dGhpcy56aXBDb21tZW50PXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUocik7fSxyZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3RoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5yZWFkZXIuc2tpcCg0KSx0aGlzLmRpc2tOdW1iZXI9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpck9mZnNldD10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuemlwNjRFeHRlbnNpYmxlRGF0YT17fTtmb3IodmFyIGUsdCxyLG49dGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemUtNDQ7MDxuOyllPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHI9dGhpcy5yZWFkZXIucmVhZERhdGEodCksdGhpcy56aXA2NEV4dGVuc2libGVEYXRhW2VdPXtpZDplLGxlbmd0aDp0LHZhbHVlOnJ9O30scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXNrV2l0aFppcDY0Q2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5kaXNrc0NvdW50PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksMTx0aGlzLmRpc2tzQ291bnQpdGhyb3cgbmV3IEVycm9yKCJNdWx0aS12b2x1bWVzIHppcCBhcmUgbm90IHN1cHBvcnRlZCIpfSxyZWFkTG9jYWxGaWxlczpmdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKGU9MDtlPHRoaXMuZmlsZXMubGVuZ3RoO2UrKyl0PXRoaXMuZmlsZXNbZV0sdGhpcy5yZWFkZXIuc2V0SW5kZXgodC5sb2NhbEhlYWRlck9mZnNldCksdGhpcy5jaGVja1NpZ25hdHVyZShpLkxPQ0FMX0ZJTEVfSEVBREVSKSx0LnJlYWRMb2NhbFBhcnQodGhpcy5yZWFkZXIpLHQuaGFuZGxlVVRGOCgpLHQucHJvY2Vzc0F0dHJpYnV0ZXMoKTt9LHJlYWRDZW50cmFsRGlyOmZ1bmN0aW9uKCl7dmFyIGU7Zm9yKHRoaXMucmVhZGVyLnNldEluZGV4KHRoaXMuY2VudHJhbERpck9mZnNldCk7dGhpcy5yZWFkZXIucmVhZEFuZENoZWNrU2lnbmF0dXJlKGkuQ0VOVFJBTF9GSUxFX0hFQURFUik7KShlPW5ldyBvKHt6aXA2NDp0aGlzLnppcDY0fSx0aGlzLmxvYWRPcHRpb25zKSkucmVhZENlbnRyYWxQYXJ0KHRoaXMucmVhZGVyKSx0aGlzLmZpbGVzLnB1c2goZSk7aWYodGhpcy5jZW50cmFsRGlyUmVjb3JkcyE9PXRoaXMuZmlsZXMubGVuZ3RoJiYwIT09dGhpcy5jZW50cmFsRGlyUmVjb3JkcyYmMD09PXRoaXMuZmlsZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcCBvciBidWc6IGV4cGVjdGVkICIrdGhpcy5jZW50cmFsRGlyUmVjb3JkcysiIHJlY29yZHMgaW4gY2VudHJhbCBkaXIsIGdvdCAiK3RoaXMuZmlsZXMubGVuZ3RoKX0scmVhZEVuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKGkuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKTtpZihlPDApdGhyb3cgdGhpcy5pc1NpZ25hdHVyZSgwLGkuTE9DQUxfRklMRV9IRUFERVIpP25ldyBFcnJvcigiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkiKTpuZXcgRXJyb3IoIkNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IDogaXMgdGhpcyBhIHppcCBmaWxlID8gSWYgaXQgaXMsIHNlZSBodHRwczovL3N0dWsuZ2l0aHViLmlvL2pzemlwL2RvY3VtZW50YXRpb24vaG93dG8vcmVhZF96aXAuaHRtbCIpO3RoaXMucmVhZGVyLnNldEluZGV4KGUpO3ZhciB0PWU7aWYodGhpcy5jaGVja1NpZ25hdHVyZShpLkNFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2tFbmRPZkNlbnRyYWwoKSx0aGlzLmRpc2tOdW1iZXI9PT1hLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9PT1hLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPT09YS5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPT09YS5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJTaXplPT09YS5NQVhfVkFMVUVfMzJCSVRTfHx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9PT1hLk1BWF9WQUxVRV8zMkJJVFMpe2lmKHRoaXMuemlwNjQ9ITAsKGU9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUoaS5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SKSk8MCl0aHJvdyBuZXcgRXJyb3IoIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgdGhlIFpJUDY0IGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSBsb2NhdG9yIik7aWYodGhpcy5yZWFkZXIuc2V0SW5kZXgoZSksdGhpcy5jaGVja1NpZ25hdHVyZShpLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0xPQ0FUT1IpLHRoaXMucmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yKCksIXRoaXMuaXNTaWduYXR1cmUodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyLGkuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSYmKHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcj10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShpLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPDApKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5Iik7dGhpcy5yZWFkZXIuc2V0SW5kZXgodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyKSx0aGlzLmNoZWNrU2lnbmF0dXJlKGkuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsKCk7fXZhciByPXRoaXMuY2VudHJhbERpck9mZnNldCt0aGlzLmNlbnRyYWxEaXJTaXplO3RoaXMuemlwNjQmJihyKz0yMCxyKz0xMit0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZSk7dmFyIG49dC1yO2lmKDA8bil0aGlzLmlzU2lnbmF0dXJlKHQsaS5DRU5UUkFMX0ZJTEVfSEVBREVSKXx8KHRoaXMucmVhZGVyLnplcm89bik7ZWxzZSBpZihuPDApdGhyb3cgbmV3IEVycm9yKCJDb3JydXB0ZWQgemlwOiBtaXNzaW5nICIrTWF0aC5hYnMobikrIiBieXRlcy4iKX0scHJlcGFyZVJlYWRlcjpmdW5jdGlvbihlKXt0aGlzLnJlYWRlcj1uKGUpO30sbG9hZDpmdW5jdGlvbihlKXt0aGlzLnByZXBhcmVSZWFkZXIoZSksdGhpcy5yZWFkRW5kT2ZDZW50cmFsKCksdGhpcy5yZWFkQ2VudHJhbERpcigpLHRoaXMucmVhZExvY2FsRmlsZXMoKTt9fSx0LmV4cG9ydHM9bDt9LHsiLi9yZWFkZXIvcmVhZGVyRm9yIjoyMiwiLi9zaWduYXR1cmUiOjIzLCIuL3N1cHBvcnQiOjMwLCIuL3V0aWxzIjozMiwiLi96aXBFbnRyeSI6MzR9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vcmVhZGVyL3JlYWRlckZvciIpLGE9ZSgiLi91dGlscyIpLGk9ZSgiLi9jb21wcmVzc2VkT2JqZWN0Iiksbz1lKCIuL2NyYzMyIikscz1lKCIuL3V0ZjgiKSxsPWUoIi4vY29tcHJlc3Npb25zIiksdT1lKCIuL3N1cHBvcnQiKTtmdW5jdGlvbiBjKGUsdCl7dGhpcy5vcHRpb25zPWUsdGhpcy5sb2FkT3B0aW9ucz10O31jLnByb3RvdHlwZT17aXNFbmNyeXB0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5iaXRGbGFnKX0sdXNlVVRGODpmdW5jdGlvbigpe3JldHVybiAyMDQ4PT0oMjA0OCZ0aGlzLmJpdEZsYWcpfSxyZWFkTG9jYWxQYXJ0OmZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZS5za2lwKDIyKSx0aGlzLmZpbGVOYW1lTGVuZ3RoPWUucmVhZEludCgyKSxyPWUucmVhZEludCgyKSx0aGlzLmZpbGVOYW1lPWUucmVhZERhdGEodGhpcy5maWxlTmFtZUxlbmd0aCksZS5za2lwKHIpLC0xPT09dGhpcy5jb21wcmVzc2VkU2l6ZXx8LTE9PT10aGlzLnVuY29tcHJlc3NlZFNpemUpdGhyb3cgbmV3IEVycm9yKCJCdWcgb3IgY29ycnVwdGVkIHppcCA6IGRpZG4ndCBnZXQgZW5vdWdoIGluZm9ybWF0aW9uIGZyb20gdGhlIGNlbnRyYWwgZGlyZWN0b3J5IChjb21wcmVzc2VkU2l6ZSA9PT0gLTEgfHwgdW5jb21wcmVzc2VkU2l6ZSA9PT0gLTEpIik7aWYobnVsbD09PSh0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBsKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHQpJiZsW3RdLm1hZ2ljPT09ZSlyZXR1cm4gbFt0XTtyZXR1cm4gbnVsbH0odGhpcy5jb21wcmVzc2lvbk1ldGhvZCkpKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcCA6IGNvbXByZXNzaW9uICIrYS5wcmV0dHkodGhpcy5jb21wcmVzc2lvbk1ldGhvZCkrIiB1bmtub3duIChpbm5lciBmaWxlIDogIithLnRyYW5zZm9ybVRvKCJzdHJpbmciLHRoaXMuZmlsZU5hbWUpKyIpIik7dGhpcy5kZWNvbXByZXNzZWQ9bmV3IGkodGhpcy5jb21wcmVzc2VkU2l6ZSx0aGlzLnVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMix0LGUucmVhZERhdGEodGhpcy5jb21wcmVzc2VkU2l6ZSkpO30scmVhZENlbnRyYWxQYXJ0OmZ1bmN0aW9uKGUpe3RoaXMudmVyc2lvbk1hZGVCeT1lLnJlYWRJbnQoMiksZS5za2lwKDIpLHRoaXMuYml0RmxhZz1lLnJlYWRJbnQoMiksdGhpcy5jb21wcmVzc2lvbk1ldGhvZD1lLnJlYWRTdHJpbmcoMiksdGhpcy5kYXRlPWUucmVhZERhdGUoKSx0aGlzLmNyYzMyPWUucmVhZEludCg0KSx0aGlzLmNvbXByZXNzZWRTaXplPWUucmVhZEludCg0KSx0aGlzLnVuY29tcHJlc3NlZFNpemU9ZS5yZWFkSW50KDQpO3ZhciB0PWUucmVhZEludCgyKTtpZih0aGlzLmV4dHJhRmllbGRzTGVuZ3RoPWUucmVhZEludCgyKSx0aGlzLmZpbGVDb21tZW50TGVuZ3RoPWUucmVhZEludCgyKSx0aGlzLmRpc2tOdW1iZXJTdGFydD1lLnJlYWRJbnQoMiksdGhpcy5pbnRlcm5hbEZpbGVBdHRyaWJ1dGVzPWUucmVhZEludCgyKSx0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM9ZS5yZWFkSW50KDQpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9ZS5yZWFkSW50KDQpLHRoaXMuaXNFbmNyeXB0ZWQoKSl0aHJvdyBuZXcgRXJyb3IoIkVuY3J5cHRlZCB6aXAgYXJlIG5vdCBzdXBwb3J0ZWQiKTtlLnNraXAodCksdGhpcy5yZWFkRXh0cmFGaWVsZHMoZSksdGhpcy5wYXJzZVpJUDY0RXh0cmFGaWVsZChlKSx0aGlzLmZpbGVDb21tZW50PWUucmVhZERhdGEodGhpcy5maWxlQ29tbWVudExlbmd0aCk7fSxwcm9jZXNzQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMudW5peFBlcm1pc3Npb25zPW51bGwsdGhpcy5kb3NQZXJtaXNzaW9ucz1udWxsO3ZhciBlPXRoaXMudmVyc2lvbk1hZGVCeT4+ODt0aGlzLmRpcj0hISgxNiZ0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXMpLDA9PWUmJih0aGlzLmRvc1Blcm1pc3Npb25zPTYzJnRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcyksMz09ZSYmKHRoaXMudW5peFBlcm1pc3Npb25zPXRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcz4+MTYmNjU1MzUpLHRoaXMuZGlyfHwiLyIhPT10aGlzLmZpbGVOYW1lU3RyLnNsaWNlKC0xKXx8KHRoaXMuZGlyPSEwKTt9LHBhcnNlWklQNjRFeHRyYUZpZWxkOmZ1bmN0aW9uKCl7aWYodGhpcy5leHRyYUZpZWxkc1sxXSl7dmFyIGU9bih0aGlzLmV4dHJhRmllbGRzWzFdLnZhbHVlKTt0aGlzLnVuY29tcHJlc3NlZFNpemU9PT1hLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLnVuY29tcHJlc3NlZFNpemU9ZS5yZWFkSW50KDgpKSx0aGlzLmNvbXByZXNzZWRTaXplPT09YS5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5jb21wcmVzc2VkU2l6ZT1lLnJlYWRJbnQoOCkpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9PT1hLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PWUucmVhZEludCg4KSksdGhpcy5kaXNrTnVtYmVyU3RhcnQ9PT1hLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmRpc2tOdW1iZXJTdGFydD1lLnJlYWRJbnQoNCkpO319LHJlYWRFeHRyYUZpZWxkczpmdW5jdGlvbihlKXt2YXIgdCxyLG4sYT1lLmluZGV4K3RoaXMuZXh0cmFGaWVsZHNMZW5ndGg7Zm9yKHRoaXMuZXh0cmFGaWVsZHN8fCh0aGlzLmV4dHJhRmllbGRzPXt9KTtlLmluZGV4KzQ8YTspdD1lLnJlYWRJbnQoMikscj1lLnJlYWRJbnQoMiksbj1lLnJlYWREYXRhKHIpLHRoaXMuZXh0cmFGaWVsZHNbdF09e2lkOnQsbGVuZ3RoOnIsdmFsdWU6bn07ZS5zZXRJbmRleChhKTt9LGhhbmRsZVVURjg6ZnVuY3Rpb24oKXt2YXIgZT11LnVpbnQ4YXJyYXk/InVpbnQ4YXJyYXkiOiJhcnJheSI7aWYodGhpcy51c2VVVEY4KCkpdGhpcy5maWxlTmFtZVN0cj1zLnV0ZjhkZWNvZGUodGhpcy5maWxlTmFtZSksdGhpcy5maWxlQ29tbWVudFN0cj1zLnV0ZjhkZWNvZGUodGhpcy5maWxlQ29tbWVudCk7ZWxzZSB7dmFyIHQ9dGhpcy5maW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoKCk7aWYobnVsbCE9PXQpdGhpcy5maWxlTmFtZVN0cj10O2Vsc2Uge3ZhciByPWEudHJhbnNmb3JtVG8oZSx0aGlzLmZpbGVOYW1lKTt0aGlzLmZpbGVOYW1lU3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUocik7fXZhciBuPXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlQ29tbWVudCgpO2lmKG51bGwhPT1uKXRoaXMuZmlsZUNvbW1lbnRTdHI9bjtlbHNlIHt2YXIgaT1hLnRyYW5zZm9ybVRvKGUsdGhpcy5maWxlQ29tbWVudCk7dGhpcy5maWxlQ29tbWVudFN0cj10aGlzLmxvYWRPcHRpb25zLmRlY29kZUZpbGVOYW1lKGkpO319fSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5leHRyYUZpZWxkc1syODc4OV07aWYoZSl7dmFyIHQ9bihlLnZhbHVlKTtyZXR1cm4gMSE9PXQucmVhZEludCgxKXx8byh0aGlzLmZpbGVOYW1lKSE9PXQucmVhZEludCg0KT9udWxsOnMudXRmOGRlY29kZSh0LnJlYWREYXRhKGUubGVuZ3RoLTUpKX1yZXR1cm4gbnVsbH0sZmluZEV4dHJhRmllbGRVbmljb2RlQ29tbWVudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZXh0cmFGaWVsZHNbMjU0NjFdO2lmKGUpe3ZhciB0PW4oZS52YWx1ZSk7cmV0dXJuIDEhPT10LnJlYWRJbnQoMSl8fG8odGhpcy5maWxlQ29tbWVudCkhPT10LnJlYWRJbnQoNCk/bnVsbDpzLnV0ZjhkZWNvZGUodC5yZWFkRGF0YShlLmxlbmd0aC01KSl9cmV0dXJuIG51bGx9fSx0LmV4cG9ydHM9Yzt9LHsiLi9jb21wcmVzc2VkT2JqZWN0IjoyLCIuL2NvbXByZXNzaW9ucyI6MywiLi9jcmMzMiI6NCwiLi9yZWFkZXIvcmVhZGVyRm9yIjoyMiwiLi9zdXBwb3J0IjozMCwiLi91dGY4IjozMSwiLi91dGlscyI6MzJ9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0LHIpe3RoaXMubmFtZT1lLHRoaXMuZGlyPXIuZGlyLHRoaXMuZGF0ZT1yLmRhdGUsdGhpcy5jb21tZW50PXIuY29tbWVudCx0aGlzLnVuaXhQZXJtaXNzaW9ucz1yLnVuaXhQZXJtaXNzaW9ucyx0aGlzLmRvc1Blcm1pc3Npb25zPXIuZG9zUGVybWlzc2lvbnMsdGhpcy5fZGF0YT10LHRoaXMuX2RhdGFCaW5hcnk9ci5iaW5hcnksdGhpcy5vcHRpb25zPXtjb21wcmVzc2lvbjpyLmNvbXByZXNzaW9uLGNvbXByZXNzaW9uT3B0aW9uczpyLmNvbXByZXNzaW9uT3B0aW9uc307fXZhciBhPWUoIi4vc3RyZWFtL1N0cmVhbUhlbHBlciIpLGk9ZSgiLi9zdHJlYW0vRGF0YVdvcmtlciIpLG89ZSgiLi91dGY4Iikscz1lKCIuL2NvbXByZXNzZWRPYmplY3QiKSxsPWUoIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiKTtuLnByb3RvdHlwZT17aW50ZXJuYWxTdHJlYW06ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCxyPSJzdHJpbmciO3RyeXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC4iKTt2YXIgbj0ic3RyaW5nIj09PShyPWUudG9Mb3dlckNhc2UoKSl8fCJ0ZXh0Ij09PXI7ImJpbmFyeXN0cmluZyIhPT1yJiYidGV4dCIhPT1yfHwocj0ic3RyaW5nIiksdD10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7dmFyIGk9IXRoaXMuX2RhdGFCaW5hcnk7aSYmIW4mJih0PXQucGlwZShuZXcgby5VdGY4RW5jb2RlV29ya2VyKSksIWkmJm4mJih0PXQucGlwZShuZXcgby5VdGY4RGVjb2RlV29ya2VyKSk7fWNhdGNoKGUpeyh0PW5ldyBsKCJlcnJvciIpKS5lcnJvcihlKTt9cmV0dXJuIG5ldyBhKHQsciwiIil9LGFzeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdHJlYW0oZSkuYWNjdW11bGF0ZSh0KX0sbm9kZVN0cmVhbTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmludGVybmFsU3RyZWFtKGV8fCJub2RlYnVmZmVyIikudG9Ob2RlanNTdHJlYW0odCl9LF9jb21wcmVzc1dvcmtlcjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX2RhdGEgaW5zdGFuY2VvZiBzJiZ0aGlzLl9kYXRhLmNvbXByZXNzaW9uLm1hZ2ljPT09ZS5tYWdpYylyZXR1cm4gdGhpcy5fZGF0YS5nZXRDb21wcmVzc2VkV29ya2VyKCk7dmFyIHI9dGhpcy5fZGVjb21wcmVzc1dvcmtlcigpO3JldHVybiB0aGlzLl9kYXRhQmluYXJ5fHwocj1yLnBpcGUobmV3IG8uVXRmOEVuY29kZVdvcmtlcikpLHMuY3JlYXRlV29ya2VyRnJvbShyLGUsdCl9LF9kZWNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEgaW5zdGFuY2VvZiBzP3RoaXMuX2RhdGEuZ2V0Q29udGVudFdvcmtlcigpOnRoaXMuX2RhdGEgaW5zdGFuY2VvZiBsP3RoaXMuX2RhdGE6bmV3IGkodGhpcy5fZGF0YSl9fTtmb3IodmFyIHU9WyJhc1RleHQiLCJhc0JpbmFyeSIsImFzTm9kZUJ1ZmZlciIsImFzVWludDhBcnJheSIsImFzQXJyYXlCdWZmZXIiXSxjPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLiIpfSxoPTA7aDx1Lmxlbmd0aDtoKyspbi5wcm90b3R5cGVbdVtoXV09Yzt0LmV4cG9ydHM9bjt9LHsiLi9jb21wcmVzc2VkT2JqZWN0IjoyLCIuL3N0cmVhbS9EYXRhV29ya2VyIjoyNywiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vc3RyZWFtL1N0cmVhbUhlbHBlciI6MjksIi4vdXRmOCI6MzF9XSwzNjpbZnVuY3Rpb24odCxyLG4peyhmdW5jdGlvbihlKXt2YXIgdCxuLGE9ZS5NdXRhdGlvbk9ic2VydmVyfHxlLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7aWYoYSl7dmFyIGk9MCxvPW5ldyBhKGMpLHM9ZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7by5vYnNlcnZlKHMse2NoYXJhY3RlckRhdGE6ITB9KSx0PWZ1bmN0aW9uKCl7cy5kYXRhPWk9KytpJTI7fTt9ZWxzZSBpZihlLnNldEltbWVkaWF0ZXx8dm9pZCAwPT09ZS5NZXNzYWdlQ2hhbm5lbCl0PSJkb2N1bWVudCJpbiBlJiYib25yZWFkeXN0YXRlY2hhbmdlImluIGUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik/ZnVuY3Rpb24oKXt2YXIgdD1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7YygpLHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHQ9bnVsbDt9LGUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHQpO306ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGMsMCk7fTtlbHNlIHt2YXIgbD1uZXcgZS5NZXNzYWdlQ2hhbm5lbDtsLnBvcnQxLm9ubWVzc2FnZT1jLHQ9ZnVuY3Rpb24oKXtsLnBvcnQyLnBvc3RNZXNzYWdlKDApO307fXZhciB1PVtdO2Z1bmN0aW9uIGMoKXt2YXIgZSx0O249ITA7Zm9yKHZhciByPXUubGVuZ3RoO3I7KXtmb3IodD11LHU9W10sZT0tMTsrK2U8cjspdFtlXSgpO3I9dS5sZW5ndGg7fW49ITE7fXIuZXhwb3J0cz1mdW5jdGlvbihlKXsxIT09dS5wdXNoKGUpfHxufHx0KCk7fTt9KS5jYWxsKHRoaXMsdm9pZCAwIT09ZT9lOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSk7fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCJpbW1lZGlhdGUiKTtmdW5jdGlvbiBhKCl7fXZhciBpPXt9LG89WyJSRUpFQ1RFRCJdLHM9WyJGVUxGSUxMRUQiXSxsPVsiUEVORElORyJdO2Z1bmN0aW9uIHUoZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dGhpcy5zdGF0ZT1sLHRoaXMucXVldWU9W10sdGhpcy5vdXRjb21lPXZvaWQgMCxlIT09YSYmZCh0aGlzLGUpO31mdW5jdGlvbiBjKGUsdCxyKXt0aGlzLnByb21pc2U9ZSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHRoaXMub25GdWxmaWxsZWQ9dCx0aGlzLmNhbGxGdWxmaWxsZWQ9dGhpcy5vdGhlckNhbGxGdWxmaWxsZWQpLCJmdW5jdGlvbiI9PXR5cGVvZiByJiYodGhpcy5vblJlamVjdGVkPXIsdGhpcy5jYWxsUmVqZWN0ZWQ9dGhpcy5vdGhlckNhbGxSZWplY3RlZCk7fWZ1bmN0aW9uIGgoZSx0LHIpe24oKGZ1bmN0aW9uKCl7dmFyIG47dHJ5e249dChyKTt9Y2F0Y2gobil7cmV0dXJuIGkucmVqZWN0KGUsbil9bj09PWU/aS5yZWplY3QoZSxuZXcgVHlwZUVycm9yKCJDYW5ub3QgcmVzb2x2ZSBwcm9taXNlIHdpdGggaXRzZWxmIikpOmkucmVzb2x2ZShlLG4pO30pKTt9ZnVuY3Rpb24gZihlKXt2YXIgdD1lJiZlLnRoZW47aWYoZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpJiYiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gZnVuY3Rpb24oKXt0LmFwcGx5KGUsYXJndW1lbnRzKTt9fWZ1bmN0aW9uIGQoZSx0KXt2YXIgcj0hMTtmdW5jdGlvbiBuKHQpe3J8fChyPSEwLGkucmVqZWN0KGUsdCkpO31mdW5jdGlvbiBhKHQpe3J8fChyPSEwLGkucmVzb2x2ZShlLHQpKTt9dmFyIG89cCgoZnVuY3Rpb24oKXt0KGEsbik7fSkpOyJlcnJvciI9PT1vLnN0YXR1cyYmbihvLnZhbHVlKTt9ZnVuY3Rpb24gcChlLHQpe3ZhciByPXt9O3RyeXtyLnZhbHVlPWUodCksci5zdGF0dXM9InN1Y2Nlc3MiO31jYXRjaChlKXtyLnN0YXR1cz0iZXJyb3IiLHIudmFsdWU9ZTt9cmV0dXJuIHJ9KHQuZXhwb3J0cz11KS5wcm90b3R5cGUuZmluYWxseT1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSlyZXR1cm4gdGhpczt2YXIgdD10aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiB0LnJlc29sdmUoZSgpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiByfSkpfSksKGZ1bmN0aW9uKHIpe3JldHVybiB0LnJlc29sdmUoZSgpKS50aGVuKChmdW5jdGlvbigpe3Rocm93IHJ9KSl9KSl9LHUucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX0sdS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZ0aGlzLnN0YXRlPT09c3x8ImZ1bmN0aW9uIiE9dHlwZW9mIHQmJnRoaXMuc3RhdGU9PT1vKXJldHVybiB0aGlzO3ZhciByPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGEpO3JldHVybiB0aGlzLnN0YXRlIT09bD9oKHIsdGhpcy5zdGF0ZT09PXM/ZTp0LHRoaXMub3V0Y29tZSk6dGhpcy5xdWV1ZS5wdXNoKG5ldyBjKHIsZSx0KSkscn0sYy5wcm90b3R5cGUuY2FsbEZ1bGZpbGxlZD1mdW5jdGlvbihlKXtpLnJlc29sdmUodGhpcy5wcm9taXNlLGUpO30sYy5wcm90b3R5cGUub3RoZXJDYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKGUpe2godGhpcy5wcm9taXNlLHRoaXMub25GdWxmaWxsZWQsZSk7fSxjLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7aS5yZWplY3QodGhpcy5wcm9taXNlLGUpO30sYy5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7aCh0aGlzLnByb21pc2UsdGhpcy5vblJlamVjdGVkLGUpO30saS5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9cChmLHQpO2lmKCJlcnJvciI9PT1yLnN0YXR1cylyZXR1cm4gaS5yZWplY3QoZSxyLnZhbHVlKTt2YXIgbj1yLnZhbHVlO2lmKG4pZChlLG4pO2Vsc2Uge2Uuc3RhdGU9cyxlLm91dGNvbWU9dDtmb3IodmFyIGE9LTEsbz1lLnF1ZXVlLmxlbmd0aDsrK2E8bzspZS5xdWV1ZVthXS5jYWxsRnVsZmlsbGVkKHQpO31yZXR1cm4gZX0saS5yZWplY3Q9ZnVuY3Rpb24oZSx0KXtlLnN0YXRlPW8sZS5vdXRjb21lPXQ7Zm9yKHZhciByPS0xLG49ZS5xdWV1ZS5sZW5ndGg7KytyPG47KWUucXVldWVbcl0uY2FsbFJlamVjdGVkKHQpO3JldHVybiBlfSx1LnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0aGlzP2U6aS5yZXNvbHZlKG5ldyB0aGlzKGEpLGUpfSx1LnJlamVjdD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcyhhKTtyZXR1cm4gaS5yZWplY3QodCxlKX0sdS5hbGw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigiW29iamVjdCBBcnJheV0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCJtdXN0IGJlIGFuIGFycmF5IikpO3ZhciByPWUubGVuZ3RoLG49ITE7aWYoIXIpcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7Zm9yKHZhciBvPW5ldyBBcnJheShyKSxzPTAsbD0tMSx1PW5ldyB0aGlzKGEpOysrbDxyOyljKGVbbF0sbCk7cmV0dXJuIHU7ZnVuY3Rpb24gYyhlLGEpe3QucmVzb2x2ZShlKS50aGVuKChmdW5jdGlvbihlKXtvW2FdPWUsKytzIT09cnx8bnx8KG49ITAsaS5yZXNvbHZlKHUsbykpO30pLChmdW5jdGlvbihlKXtufHwobj0hMCxpLnJlamVjdCh1LGUpKTt9KSk7fX0sdS5yYWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcigibXVzdCBiZSBhbiBhcnJheSIpKTt2YXIgcj1lLmxlbmd0aCxuPSExO2lmKCFyKXJldHVybiB0aGlzLnJlc29sdmUoW10pO2Zvcih2YXIgbyxzPS0xLGw9bmV3IHRoaXMoYSk7KytzPHI7KW89ZVtzXSx0LnJlc29sdmUobykudGhlbigoZnVuY3Rpb24oZSl7bnx8KG49ITAsaS5yZXNvbHZlKGwsZSkpO30pLChmdW5jdGlvbihlKXtufHwobj0hMCxpLnJlamVjdChsLGUpKTt9KSk7cmV0dXJuIGx9O30se2ltbWVkaWF0ZTozNn1dLDM4OltmdW5jdGlvbihlLHQscil7dmFyIG49e307KDAsIGUoIi4vbGliL3V0aWxzL2NvbW1vbiIpLmFzc2lnbikobixlKCIuL2xpYi9kZWZsYXRlIiksZSgiLi9saWIvaW5mbGF0ZSIpLGUoIi4vbGliL3psaWIvY29uc3RhbnRzIikpLHQuZXhwb3J0cz1uO30seyIuL2xpYi9kZWZsYXRlIjozOSwiLi9saWIvaW5mbGF0ZSI6NDAsIi4vbGliL3V0aWxzL2NvbW1vbiI6NDEsIi4vbGliL3psaWIvY29uc3RhbnRzIjo0NH1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi96bGliL2RlZmxhdGUiKSxhPWUoIi4vdXRpbHMvY29tbW9uIiksaT1lKCIuL3V0aWxzL3N0cmluZ3MiKSxvPWUoIi4vemxpYi9tZXNzYWdlcyIpLHM9ZSgiLi96bGliL3pzdHJlYW0iKSxsPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsdT0wLGM9LTEsaD0wLGY9ODtmdW5jdGlvbiBkKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXJldHVybiBuZXcgZChlKTt0aGlzLm9wdGlvbnM9YS5hc3NpZ24oe2xldmVsOmMsbWV0aG9kOmYsY2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MTUsbWVtTGV2ZWw6OCxzdHJhdGVneTpoLHRvOiIifSxlfHx7fSk7dmFyIHQ9dGhpcy5vcHRpb25zO3QucmF3JiYwPHQud2luZG93Qml0cz90LndpbmRvd0JpdHM9LXQud2luZG93Qml0czp0Lmd6aXAmJjA8dC53aW5kb3dCaXRzJiZ0LndpbmRvd0JpdHM8MTYmJih0LndpbmRvd0JpdHMrPTE2KSx0aGlzLmVycj0wLHRoaXMubXNnPSIiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBzLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDt2YXIgcj1uLmRlZmxhdGVJbml0Mih0aGlzLnN0cm0sdC5sZXZlbCx0Lm1ldGhvZCx0LndpbmRvd0JpdHMsdC5tZW1MZXZlbCx0LnN0cmF0ZWd5KTtpZihyIT09dSl0aHJvdyBuZXcgRXJyb3Iob1tyXSk7aWYodC5oZWFkZXImJm4uZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sdC5oZWFkZXIpLHQuZGljdGlvbmFyeSl7dmFyIHA7aWYocD0ic3RyaW5nIj09dHlwZW9mIHQuZGljdGlvbmFyeT9pLnN0cmluZzJidWYodC5kaWN0aW9uYXJ5KToiW29iamVjdCBBcnJheUJ1ZmZlcl0iPT09bC5jYWxsKHQuZGljdGlvbmFyeSk/bmV3IFVpbnQ4QXJyYXkodC5kaWN0aW9uYXJ5KTp0LmRpY3Rpb25hcnksKHI9bi5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0scCkpIT09dSl0aHJvdyBuZXcgRXJyb3Iob1tyXSk7dGhpcy5fZGljdF9zZXQ9ITA7fX1mdW5jdGlvbiBwKGUsdCl7dmFyIHI9bmV3IGQodCk7aWYoci5wdXNoKGUsITApLHIuZXJyKXRocm93IHIubXNnfHxvW3IuZXJyXTtyZXR1cm4gci5yZXN1bHR9ZC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciByLG8scz10aGlzLnN0cm0sYz10aGlzLm9wdGlvbnMuY2h1bmtTaXplO2lmKHRoaXMuZW5kZWQpcmV0dXJuICExO289dD09PX5+dD90OiEwPT09dD80OjAsInN0cmluZyI9PXR5cGVvZiBlP3MuaW5wdXQ9aS5zdHJpbmcyYnVmKGUpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1sLmNhbGwoZSk/cy5pbnB1dD1uZXcgVWludDhBcnJheShlKTpzLmlucHV0PWUscy5uZXh0X2luPTAscy5hdmFpbF9pbj1zLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09cy5hdmFpbF9vdXQmJihzLm91dHB1dD1uZXcgYS5CdWY4KGMpLHMubmV4dF9vdXQ9MCxzLmF2YWlsX291dD1jKSwxIT09KHI9bi5kZWZsYXRlKHMsbykpJiZyIT09dSlyZXR1cm4gdGhpcy5vbkVuZChyKSwhKHRoaXMuZW5kZWQ9ITApOzAhPT1zLmF2YWlsX291dCYmKDAhPT1zLmF2YWlsX2lufHw0IT09byYmMiE9PW8pfHwoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5vbkRhdGEoaS5idWYyYmluc3RyaW5nKGEuc2hyaW5rQnVmKHMub3V0cHV0LHMubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEoYS5zaHJpbmtCdWYocy5vdXRwdXQscy5uZXh0X291dCkpKTt9d2hpbGUoKDA8cy5hdmFpbF9pbnx8MD09PXMuYXZhaWxfb3V0KSYmMSE9PXIpO3JldHVybiA0PT09bz8ocj1uLmRlZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHIpLHRoaXMuZW5kZWQ9ITAscj09PXUpOjIhPT1vfHwodGhpcy5vbkVuZCh1KSwhKHMuYXZhaWxfb3V0PTApKX0sZC5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGUpe3RoaXMuY2h1bmtzLnB1c2goZSk7fSxkLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihlKXtlPT09dSYmKCJzdHJpbmciPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oIiIpOnRoaXMucmVzdWx0PWEuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPWUsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZzt9LHIuRGVmbGF0ZT1kLHIuZGVmbGF0ZT1wLHIuZGVmbGF0ZVJhdz1mdW5jdGlvbihlLHQpe3JldHVybiAodD10fHx7fSkucmF3PSEwLHAoZSx0KX0sci5nemlwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuICh0PXR8fHt9KS5nemlwPSEwLHAoZSx0KX07fSx7Ii4vdXRpbHMvY29tbW9uIjo0MSwiLi91dGlscy9zdHJpbmdzIjo0MiwiLi96bGliL2RlZmxhdGUiOjQ2LCIuL3psaWIvbWVzc2FnZXMiOjUxLCIuL3psaWIvenN0cmVhbSI6NTN9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vemxpYi9pbmZsYXRlIiksYT1lKCIuL3V0aWxzL2NvbW1vbiIpLGk9ZSgiLi91dGlscy9zdHJpbmdzIiksbz1lKCIuL3psaWIvY29uc3RhbnRzIikscz1lKCIuL3psaWIvbWVzc2FnZXMiKSxsPWUoIi4vemxpYi96c3RyZWFtIiksdT1lKCIuL3psaWIvZ3poZWFkZXIiKSxjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gaChlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBoKSlyZXR1cm4gbmV3IGgoZSk7dGhpcy5vcHRpb25zPWEuYXNzaWduKHtjaHVua1NpemU6MTYzODQsd2luZG93Qml0czowLHRvOiIifSxlfHx7fSk7dmFyIHQ9dGhpcy5vcHRpb25zO3QucmF3JiYwPD10LndpbmRvd0JpdHMmJnQud2luZG93Qml0czwxNiYmKHQud2luZG93Qml0cz0tdC53aW5kb3dCaXRzLDA9PT10LndpbmRvd0JpdHMmJih0LndpbmRvd0JpdHM9LTE1KSksISgwPD10LndpbmRvd0JpdHMmJnQud2luZG93Qml0czwxNil8fGUmJmUud2luZG93Qml0c3x8KHQud2luZG93Qml0cys9MzIpLDE1PHQud2luZG93Qml0cyYmdC53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmdC53aW5kb3dCaXRzKSYmKHQud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IGwsdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciByPW4uaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0LndpbmRvd0JpdHMpO2lmKHIhPT1vLlpfT0spdGhyb3cgbmV3IEVycm9yKHNbcl0pO3RoaXMuaGVhZGVyPW5ldyB1LG4uaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpO31mdW5jdGlvbiBmKGUsdCl7dmFyIHI9bmV3IGgodCk7aWYoci5wdXNoKGUsITApLHIuZXJyKXRocm93IHIubXNnfHxzW3IuZXJyXTtyZXR1cm4gci5yZXN1bHR9aC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciByLHMsbCx1LGgsZixkPXRoaXMuc3RybSxwPXRoaXMub3B0aW9ucy5jaHVua1NpemUseT10aGlzLm9wdGlvbnMuZGljdGlvbmFyeSxtPSExO2lmKHRoaXMuZW5kZWQpcmV0dXJuICExO3M9dD09PX5+dD90OiEwPT09dD9vLlpfRklOSVNIOm8uWl9OT19GTFVTSCwic3RyaW5nIj09dHlwZW9mIGU/ZC5pbnB1dD1pLmJpbnN0cmluZzJidWYoZSk6IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PWMuY2FsbChlKT9kLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmQuaW5wdXQ9ZSxkLm5leHRfaW49MCxkLmF2YWlsX2luPWQuaW5wdXQubGVuZ3RoO2Rve2lmKDA9PT1kLmF2YWlsX291dCYmKGQub3V0cHV0PW5ldyBhLkJ1ZjgocCksZC5uZXh0X291dD0wLGQuYXZhaWxfb3V0PXApLChyPW4uaW5mbGF0ZShkLG8uWl9OT19GTFVTSCkpPT09by5aX05FRURfRElDVCYmeSYmKGY9InN0cmluZyI9PXR5cGVvZiB5P2kuc3RyaW5nMmJ1Zih5KToiW29iamVjdCBBcnJheUJ1ZmZlcl0iPT09Yy5jYWxsKHkpP25ldyBVaW50OEFycmF5KHkpOnkscj1uLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxmKSkscj09PW8uWl9CVUZfRVJST1ImJiEwPT09bSYmKHI9by5aX09LLG09ITEpLHIhPT1vLlpfU1RSRUFNX0VORCYmciE9PW8uWl9PSylyZXR1cm4gdGhpcy5vbkVuZChyKSwhKHRoaXMuZW5kZWQ9ITApO2QubmV4dF9vdXQmJigwIT09ZC5hdmFpbF9vdXQmJnIhPT1vLlpfU1RSRUFNX0VORCYmKDAhPT1kLmF2YWlsX2lufHxzIT09by5aX0ZJTklTSCYmcyE9PW8uWl9TWU5DX0ZMVVNIKXx8KCJzdHJpbmciPT09dGhpcy5vcHRpb25zLnRvPyhsPWkudXRmOGJvcmRlcihkLm91dHB1dCxkLm5leHRfb3V0KSx1PWQubmV4dF9vdXQtbCxoPWkuYnVmMnN0cmluZyhkLm91dHB1dCxsKSxkLm5leHRfb3V0PXUsZC5hdmFpbF9vdXQ9cC11LHUmJmEuYXJyYXlTZXQoZC5vdXRwdXQsZC5vdXRwdXQsbCx1LDApLHRoaXMub25EYXRhKGgpKTp0aGlzLm9uRGF0YShhLnNocmlua0J1ZihkLm91dHB1dCxkLm5leHRfb3V0KSkpKSwwPT09ZC5hdmFpbF9pbiYmMD09PWQuYXZhaWxfb3V0JiYobT0hMCk7fXdoaWxlKCgwPGQuYXZhaWxfaW58fDA9PT1kLmF2YWlsX291dCkmJnIhPT1vLlpfU1RSRUFNX0VORCk7cmV0dXJuIHI9PT1vLlpfU1RSRUFNX0VORCYmKHM9by5aX0ZJTklTSCkscz09PW8uWl9GSU5JU0g/KHI9bi5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLHI9PT1vLlpfT0spOnMhPT1vLlpfU1lOQ19GTFVTSHx8KHRoaXMub25FbmQoby5aX09LKSwhKGQuYXZhaWxfb3V0PTApKX0saC5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGUpe3RoaXMuY2h1bmtzLnB1c2goZSk7fSxoLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihlKXtlPT09by5aX09LJiYoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbigiIik6dGhpcy5yZXN1bHQ9YS5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnO30sci5JbmZsYXRlPWgsci5pbmZsYXRlPWYsci5pbmZsYXRlUmF3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuICh0PXR8fHt9KS5yYXc9ITAsZihlLHQpfSxyLnVuZ3ppcD1mO30seyIuL3V0aWxzL2NvbW1vbiI6NDEsIi4vdXRpbHMvc3RyaW5ncyI6NDIsIi4vemxpYi9jb25zdGFudHMiOjQ0LCIuL3psaWIvZ3poZWFkZXIiOjQ3LCIuL3psaWIvaW5mbGF0ZSI6NDksIi4vemxpYi9tZXNzYWdlcyI6NTEsIi4vemxpYi96c3RyZWFtIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQxNkFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIEludDMyQXJyYXk7ci5hc3NpZ249ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0Lmxlbmd0aDspe3ZhciByPXQuc2hpZnQoKTtpZihyKXtpZigib2JqZWN0IiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihyKyJtdXN0IGJlIG5vbi1vYmplY3QiKTtmb3IodmFyIG4gaW4gcilyLmhhc093blByb3BlcnR5KG4pJiYoZVtuXT1yW25dKTt9fXJldHVybiBlfSxyLnNocmlua0J1Zj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aD09PXQ/ZTplLnN1YmFycmF5P2Uuc3ViYXJyYXkoMCx0KTooZS5sZW5ndGg9dCxlKX07dmFyIGE9e2FycmF5U2V0OmZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodC5zdWJhcnJheSYmZS5zdWJhcnJheSllLnNldCh0LnN1YmFycmF5KHIscituKSxhKTtlbHNlIGZvcih2YXIgaT0wO2k8bjtpKyspZVthK2ldPXRbcitpXTt9LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24oZSl7dmFyIHQscixuLGEsaSxvO2Zvcih0PW49MCxyPWUubGVuZ3RoO3Q8cjt0Kyspbis9ZVt0XS5sZW5ndGg7Zm9yKG89bmV3IFVpbnQ4QXJyYXkobiksdD1hPTAscj1lLmxlbmd0aDt0PHI7dCsrKWk9ZVt0XSxvLnNldChpLGEpLGErPWkubGVuZ3RoO3JldHVybiBvfX0saT17YXJyYXlTZXQ6ZnVuY3Rpb24oZSx0LHIsbixhKXtmb3IodmFyIGk9MDtpPG47aSsrKWVbYStpXT10W3IraV07fSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGUpe3JldHVybiBbXS5jb25jYXQuYXBwbHkoW10sZSl9fTtyLnNldFR5cGVkPWZ1bmN0aW9uKGUpe2U/KHIuQnVmOD1VaW50OEFycmF5LHIuQnVmMTY9VWludDE2QXJyYXksci5CdWYzMj1JbnQzMkFycmF5LHIuYXNzaWduKHIsYSkpOihyLkJ1Zjg9QXJyYXksci5CdWYxNj1BcnJheSxyLkJ1ZjMyPUFycmF5LHIuYXNzaWduKHIsaSkpO30sci5zZXRUeXBlZChuKTt9LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vY29tbW9uIiksYT0hMCxpPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsWzBdKTt9Y2F0Y2goZSl7YT0hMTt9dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSk7fWNhdGNoKGUpe2k9ITE7fWZvcih2YXIgbz1uZXcgbi5CdWY4KDI1Nikscz0wO3M8MjU2O3MrKylvW3NdPTI1Mjw9cz82OjI0ODw9cz81OjI0MDw9cz80OjIyNDw9cz8zOjE5Mjw9cz8yOjE7ZnVuY3Rpb24gbChlLHQpe2lmKHQ8NjU1MzcmJihlLnN1YmFycmF5JiZpfHwhZS5zdWJhcnJheSYmYSkpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuLnNocmlua0J1ZihlLHQpKTtmb3IodmFyIHI9IiIsbz0wO288dDtvKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gcn1vWzI1NF09b1syNTRdPTEsci5zdHJpbmcyYnVmPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYSxpLG8scz1lLmxlbmd0aCxsPTA7Zm9yKGk9MDtpPHM7aSsrKTU1Mjk2PT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkpKSkmJmkrMTxzJiY1NjMyMD09KDY0NTEyJihhPWUuY2hhckNvZGVBdChpKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKGEtNTYzMjApLGkrKyksbCs9cjwxMjg/MTpyPDIwNDg/MjpyPDY1NTM2PzM6NDtmb3IodD1uZXcgbi5CdWY4KGwpLGk9bz0wO288bDtpKyspNTUyOTY9PSg2NDUxMiYocj1lLmNoYXJDb2RlQXQoaSkpKSYmaSsxPHMmJjU2MzIwPT0oNjQ1MTImKGE9ZS5jaGFyQ29kZUF0KGkrMSkpKSYmKHI9NjU1MzYrKHItNTUyOTY8PDEwKSsoYS01NjMyMCksaSsrKSxyPDEyOD90W28rK109cjoocjwyMDQ4P3RbbysrXT0xOTJ8cj4+PjY6KHI8NjU1MzY/dFtvKytdPTIyNHxyPj4+MTI6KHRbbysrXT0yNDB8cj4+PjE4LHRbbysrXT0xMjh8cj4+PjEyJjYzKSx0W28rK109MTI4fHI+Pj42JjYzKSx0W28rK109MTI4fDYzJnIpO3JldHVybiB0fSxyLmJ1ZjJiaW5zdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSxlLmxlbmd0aCl9LHIuYmluc3RyaW5nMmJ1Zj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IG4uQnVmOChlLmxlbmd0aCkscj0wLGE9dC5sZW5ndGg7cjxhO3IrKyl0W3JdPWUuY2hhckNvZGVBdChyKTtyZXR1cm4gdH0sci5idWYyc3RyaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLGkscz10fHxlLmxlbmd0aCx1PW5ldyBBcnJheSgyKnMpO2ZvcihyPW49MDtyPHM7KWlmKChhPWVbcisrXSk8MTI4KXVbbisrXT1hO2Vsc2UgaWYoNDwoaT1vW2FdKSl1W24rK109NjU1MzMscis9aS0xO2Vsc2Uge2ZvcihhJj0yPT09aT8zMTozPT09aT8xNTo3OzE8aSYmcjxzOylhPWE8PDZ8NjMmZVtyKytdLGktLTsxPGk/dVtuKytdPTY1NTMzOmE8NjU1MzY/dVtuKytdPWE6KGEtPTY1NTM2LHVbbisrXT01NTI5NnxhPj4xMCYxMDIzLHVbbisrXT01NjMyMHwxMDIzJmEpO31yZXR1cm4gbCh1LG4pfSxyLnV0Zjhib3JkZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IoKHQ9dHx8ZS5sZW5ndGgpPmUubGVuZ3RoJiYodD1lLmxlbmd0aCkscj10LTE7MDw9ciYmMTI4PT0oMTkyJmVbcl0pOylyLS07cmV0dXJuIHI8MHx8MD09PXI/dDpyK29bZVtyXV0+dD9yOnR9O30seyIuL2NvbW1vbiI6NDF9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9NjU1MzUmZXwwLGk9ZT4+PjE2JjY1NTM1fDAsbz0wOzAhPT1yOyl7Zm9yKHItPW89MmUzPHI/MmUzOnI7aT1pKyhhPWErdFtuKytdfDApfDAsLS1vOyk7YSU9NjU1MjEsaSU9NjU1MjE7fXJldHVybiBhfGk8PDE2fDB9O30se31dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9O30se31dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxyPTA7cjwyNTY7cisrKXtlPXI7Zm9yKHZhciBuPTA7bjw4O24rKyllPTEmZT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbcl09ZTt9cmV0dXJuIHR9KCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBpPW4sbz1hK3I7ZV49LTE7Zm9yKHZhciBzPWE7czxvO3MrKyllPWU+Pj44XmlbMjU1JihlXnRbc10pXTtyZXR1cm4gLTFeZX07fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixhPWUoIi4uL3V0aWxzL2NvbW1vbiIpLGk9ZSgiLi90cmVlcyIpLG89ZSgiLi9hZGxlcjMyIikscz1lKCIuL2NyYzMyIiksbD1lKCIuL21lc3NhZ2VzIiksdT0wLGM9NCxoPTAsZj0tMixkPS0xLHA9NCx5PTIsbT04LGc9OSx2PTI4NixfPTMwLGI9MTksdz0yKnYrMSx4PTE1LGs9MyxTPTI1OCxOPVMraysxLE89NDIsQz0xMTMsUD0xLEU9MixBPTMsaj00O2Z1bmN0aW9uIEwoZSx0KXtyZXR1cm4gZS5tc2c9bFt0XSx0fWZ1bmN0aW9uIE0oZSl7cmV0dXJuIChlPDwxKS0oNDxlPzk6MCl9ZnVuY3Rpb24gVChlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7MDw9LS10OyllW3RdPTA7fWZ1bmN0aW9uIHooZSl7dmFyIHQ9ZS5zdGF0ZSxyPXQucGVuZGluZztyPmUuYXZhaWxfb3V0JiYocj1lLmF2YWlsX291dCksMCE9PXImJihhLmFycmF5U2V0KGUub3V0cHV0LHQucGVuZGluZ19idWYsdC5wZW5kaW5nX291dCxyLGUubmV4dF9vdXQpLGUubmV4dF9vdXQrPXIsdC5wZW5kaW5nX291dCs9cixlLnRvdGFsX291dCs9cixlLmF2YWlsX291dC09cix0LnBlbmRpbmctPXIsMD09PXQucGVuZGluZyYmKHQucGVuZGluZ19vdXQ9MCkpO31mdW5jdGlvbiBJKGUsdCl7aS5fdHJfZmx1c2hfYmxvY2soZSwwPD1lLmJsb2NrX3N0YXJ0P2UuYmxvY2tfc3RhcnQ6LTEsZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0LHQpLGUuYmxvY2tfc3RhcnQ9ZS5zdHJzdGFydCx6KGUuc3RybSk7fWZ1bmN0aW9uIFIoZSx0KXtlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10O31mdW5jdGlvbiBGKGUsdCl7ZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109dD4+PjgmMjU1LGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZ0O31mdW5jdGlvbiBCKGUsdCl7dmFyIHIsbixhPWUubWF4X2NoYWluX2xlbmd0aCxpPWUuc3Ryc3RhcnQsbz1lLnByZXZfbGVuZ3RoLHM9ZS5uaWNlX21hdGNoLGw9ZS5zdHJzdGFydD5lLndfc2l6ZS1OP2Uuc3Ryc3RhcnQtKGUud19zaXplLU4pOjAsdT1lLndpbmRvdyxjPWUud19tYXNrLGg9ZS5wcmV2LGY9ZS5zdHJzdGFydCtTLGQ9dVtpK28tMV0scD11W2krb107ZS5wcmV2X2xlbmd0aD49ZS5nb29kX21hdGNoJiYoYT4+PTIpLHM+ZS5sb29rYWhlYWQmJihzPWUubG9va2FoZWFkKTtkb3tpZih1WyhyPXQpK29dPT09cCYmdVtyK28tMV09PT1kJiZ1W3JdPT09dVtpXSYmdVsrK3JdPT09dVtpKzFdKXtpKz0yLHIrKztkb3t9d2hpbGUodVsrK2ldPT09dVsrK3JdJiZ1WysraV09PT11Wysrcl0mJnVbKytpXT09PXVbKytyXSYmdVsrK2ldPT09dVsrK3JdJiZ1WysraV09PT11Wysrcl0mJnVbKytpXT09PXVbKytyXSYmdVsrK2ldPT09dVsrK3JdJiZ1WysraV09PT11Wysrcl0mJmk8Zik7aWYobj1TLShmLWkpLGk9Zi1TLG88bil7aWYoZS5tYXRjaF9zdGFydD10LHM8PShvPW4pKWJyZWFrO2Q9dVtpK28tMV0scD11W2krb107fX19d2hpbGUoKHQ9aFt0JmNdKT5sJiYwIT0tLWEpO3JldHVybiBvPD1lLmxvb2thaGVhZD9vOmUubG9va2FoZWFkfWZ1bmN0aW9uIEQoZSl7dmFyIHQscixuLGksbCx1LGMsaCxmLGQscD1lLndfc2l6ZTtkb3tpZihpPWUud2luZG93X3NpemUtZS5sb29rYWhlYWQtZS5zdHJzdGFydCxlLnN0cnN0YXJ0Pj1wKyhwLU4pKXtmb3IoYS5hcnJheVNldChlLndpbmRvdyxlLndpbmRvdyxwLHAsMCksZS5tYXRjaF9zdGFydC09cCxlLnN0cnN0YXJ0LT1wLGUuYmxvY2tfc3RhcnQtPXAsdD1yPWUuaGFzaF9zaXplO249ZS5oZWFkWy0tdF0sZS5oZWFkW3RdPXA8PW4/bi1wOjAsLS1yOyk7Zm9yKHQ9cj1wO249ZS5wcmV2Wy0tdF0sZS5wcmV2W3RdPXA8PW4/bi1wOjAsLS1yOyk7aSs9cDt9aWYoMD09PWUuc3RybS5hdmFpbF9pbilicmVhaztpZih1PWUuc3RybSxjPWUud2luZG93LGg9ZS5zdHJzdGFydCtlLmxvb2thaGVhZCxkPXZvaWQgMCwoZj1pKTwoZD11LmF2YWlsX2luKSYmKGQ9Zikscj0wPT09ZD8wOih1LmF2YWlsX2luLT1kLGEuYXJyYXlTZXQoYyx1LmlucHV0LHUubmV4dF9pbixkLGgpLDE9PT11LnN0YXRlLndyYXA/dS5hZGxlcj1vKHUuYWRsZXIsYyxkLGgpOjI9PT11LnN0YXRlLndyYXAmJih1LmFkbGVyPXModS5hZGxlcixjLGQsaCkpLHUubmV4dF9pbis9ZCx1LnRvdGFsX2luKz1kLGQpLGUubG9va2FoZWFkKz1yLGUubG9va2FoZWFkK2UuaW5zZXJ0Pj1rKWZvcihsPWUuc3Ryc3RhcnQtZS5pbnNlcnQsZS5pbnNfaD1lLndpbmRvd1tsXSxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbbCsxXSkmZS5oYXNoX21hc2s7ZS5pbnNlcnQmJihlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbbCtrLTFdKSZlLmhhc2hfbWFzayxlLnByZXZbbCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1sLGwrKyxlLmluc2VydC0tLCEoZS5sb29rYWhlYWQrZS5pbnNlcnQ8aykpOyk7fXdoaWxlKGUubG9va2FoZWFkPE4mJjAhPT1lLnN0cm0uYXZhaWxfaW4pfWZ1bmN0aW9uIFUoZSx0KXtmb3IodmFyIHIsbjs7KXtpZihlLmxvb2thaGVhZDxOKXtpZihEKGUpLGUubG9va2FoZWFkPE4mJnQ9PT11KXJldHVybiBQO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihyPTAsZS5sb29rYWhlYWQ+PWsmJihlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCtrLTFdKSZlLmhhc2hfbWFzayxyPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpLDAhPT1yJiZlLnN0cnN0YXJ0LXI8PWUud19zaXplLU4mJihlLm1hdGNoX2xlbmd0aD1CKGUscikpLGUubWF0Y2hfbGVuZ3RoPj1rKWlmKG49aS5fdHJfdGFsbHkoZSxlLnN0cnN0YXJ0LWUubWF0Y2hfc3RhcnQsZS5tYXRjaF9sZW5ndGgtayksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPD1lLm1heF9sYXp5X21hdGNoJiZlLmxvb2thaGVhZD49ayl7Zm9yKGUubWF0Y2hfbGVuZ3RoLS07ZS5zdHJzdGFydCsrLGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K2stMV0pJmUuaGFzaF9tYXNrLHI9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCwwIT0tLWUubWF0Y2hfbGVuZ3RoOyk7ZS5zdHJzdGFydCsrO31lbHNlIGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTAsZS5pbnNfaD1lLndpbmRvd1tlLnN0cnN0YXJ0XSxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCsxXSkmZS5oYXNoX21hc2s7ZWxzZSBuPWkuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYobiYmKEkoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBQfXJldHVybiBlLmluc2VydD1lLnN0cnN0YXJ0PGstMT9lLnN0cnN0YXJ0OmstMSx0PT09Yz8oSShlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD9BOmopOmUubGFzdF9saXQmJihJKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT9QOkV9ZnVuY3Rpb24gVyhlLHQpe2Zvcih2YXIgcixuLGE7Oyl7aWYoZS5sb29rYWhlYWQ8Til7aWYoRChlKSxlLmxvb2thaGVhZDxOJiZ0PT09dSlyZXR1cm4gUDtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYocj0wLGUubG9va2FoZWFkPj1rJiYoZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQray0xXSkmZS5oYXNoX21hc2sscj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSxlLnByZXZfbGVuZ3RoPWUubWF0Y2hfbGVuZ3RoLGUucHJldl9tYXRjaD1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoPWstMSwwIT09ciYmZS5wcmV2X2xlbmd0aDxlLm1heF9sYXp5X21hdGNoJiZlLnN0cnN0YXJ0LXI8PWUud19zaXplLU4mJihlLm1hdGNoX2xlbmd0aD1CKGUsciksZS5tYXRjaF9sZW5ndGg8PTUmJigxPT09ZS5zdHJhdGVneXx8ZS5tYXRjaF9sZW5ndGg9PT1rJiY0MDk2PGUuc3Ryc3RhcnQtZS5tYXRjaF9zdGFydCkmJihlLm1hdGNoX2xlbmd0aD1rLTEpKSxlLnByZXZfbGVuZ3RoPj1rJiZlLm1hdGNoX2xlbmd0aDw9ZS5wcmV2X2xlbmd0aCl7Zm9yKGE9ZS5zdHJzdGFydCtlLmxvb2thaGVhZC1rLG49aS5fdHJfdGFsbHkoZSxlLnN0cnN0YXJ0LTEtZS5wcmV2X21hdGNoLGUucHJldl9sZW5ndGgtayksZS5sb29rYWhlYWQtPWUucHJldl9sZW5ndGgtMSxlLnByZXZfbGVuZ3RoLT0yOysrZS5zdHJzdGFydDw9YSYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K2stMV0pJmUuaGFzaF9tYXNrLHI9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksMCE9LS1lLnByZXZfbGVuZ3RoOyk7aWYoZS5tYXRjaF9hdmFpbGFibGU9MCxlLm1hdGNoX2xlbmd0aD1rLTEsZS5zdHJzdGFydCsrLG4mJihJKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gUH1lbHNlIGlmKGUubWF0Y2hfYXZhaWxhYmxlKXtpZigobj1pLl90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSkpJiZJKGUsITEpLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tLDA9PT1lLnN0cm0uYXZhaWxfb3V0KXJldHVybiBQfWVsc2UgZS5tYXRjaF9hdmFpbGFibGU9MSxlLnN0cnN0YXJ0KyssZS5sb29rYWhlYWQtLTt9cmV0dXJuIGUubWF0Y2hfYXZhaWxhYmxlJiYobj1pLl90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSksZS5tYXRjaF9hdmFpbGFibGU9MCksZS5pbnNlcnQ9ZS5zdHJzdGFydDxrLTE/ZS5zdHJzdGFydDprLTEsdD09PWM/KEkoZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/QTpqKTplLmxhc3RfbGl0JiYoSShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/UDpFfWZ1bmN0aW9uIEcoZSx0LHIsbixhKXt0aGlzLmdvb2RfbGVuZ3RoPWUsdGhpcy5tYXhfbGF6eT10LHRoaXMubmljZV9sZW5ndGg9cix0aGlzLm1heF9jaGFpbj1uLHRoaXMuZnVuYz1hO31mdW5jdGlvbiBaKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9bSx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgYS5CdWYxNigyKncpLHRoaXMuZHluX2R0cmVlPW5ldyBhLkJ1ZjE2KDIqKDIqXysxKSksdGhpcy5ibF90cmVlPW5ldyBhLkJ1ZjE2KDIqKDIqYisxKSksVCh0aGlzLmR5bl9sdHJlZSksVCh0aGlzLmR5bl9kdHJlZSksVCh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBhLkJ1ZjE2KHgrMSksdGhpcy5oZWFwPW5ldyBhLkJ1ZjE2KDIqdisxKSxUKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBhLkJ1ZjE2KDIqdisxKSxUKHRoaXMuZGVwdGgpLHRoaXMubF9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5sYXN0X2xpdD0wLHRoaXMuZF9idWY9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wO31mdW5jdGlvbiBWKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPyhlLnRvdGFsX2luPWUudG90YWxfb3V0PTAsZS5kYXRhX3R5cGU9eSwodD1lLnN0YXRlKS5wZW5kaW5nPTAsdC5wZW5kaW5nX291dD0wLHQud3JhcDwwJiYodC53cmFwPS10LndyYXApLHQuc3RhdHVzPXQud3JhcD9POkMsZS5hZGxlcj0yPT09dC53cmFwPzA6MSx0Lmxhc3RfZmx1c2g9dSxpLl90cl9pbml0KHQpLGgpOkwoZSxmKX1mdW5jdGlvbiBIKGUpe3ZhciB0PVYoZSk7cmV0dXJuIHQ9PT1oJiZmdW5jdGlvbihlKXtlLndpbmRvd19zaXplPTIqZS53X3NpemUsVChlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9bltlLmxldmVsXS5tYXhfbGF6eSxlLmdvb2RfbWF0Y2g9bltlLmxldmVsXS5nb29kX2xlbmd0aCxlLm5pY2VfbWF0Y2g9bltlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9bltlLmxldmVsXS5tYXhfY2hhaW4sZS5zdHJzdGFydD0wLGUuYmxvY2tfc3RhcnQ9MCxlLmxvb2thaGVhZD0wLGUuaW5zZXJ0PTAsZS5tYXRjaF9sZW5ndGg9ZS5wcmV2X2xlbmd0aD1rLTEsZS5tYXRjaF9hdmFpbGFibGU9MCxlLmluc19oPTA7fShlLnN0YXRlKSx0fWZ1bmN0aW9uIHEoZSx0LHIsbixpLG8pe2lmKCFlKXJldHVybiBmO3ZhciBzPTE7aWYodD09PWQmJih0PTYpLG48MD8ocz0wLG49LW4pOjE1PG4mJihzPTIsbi09MTYpLGk8MXx8ZzxpfHxyIT09bXx8bjw4fHwxNTxufHx0PDB8fDk8dHx8bzwwfHxwPG8pcmV0dXJuIEwoZSxmKTs4PT09biYmKG49OSk7dmFyIGw9bmV3IFo7cmV0dXJuIChlLnN0YXRlPWwpLnN0cm09ZSxsLndyYXA9cyxsLmd6aGVhZD1udWxsLGwud19iaXRzPW4sbC53X3NpemU9MTw8bC53X2JpdHMsbC53X21hc2s9bC53X3NpemUtMSxsLmhhc2hfYml0cz1pKzcsbC5oYXNoX3NpemU9MTw8bC5oYXNoX2JpdHMsbC5oYXNoX21hc2s9bC5oYXNoX3NpemUtMSxsLmhhc2hfc2hpZnQ9fn4oKGwuaGFzaF9iaXRzK2stMSkvayksbC53aW5kb3c9bmV3IGEuQnVmOCgyKmwud19zaXplKSxsLmhlYWQ9bmV3IGEuQnVmMTYobC5oYXNoX3NpemUpLGwucHJldj1uZXcgYS5CdWYxNihsLndfc2l6ZSksbC5saXRfYnVmc2l6ZT0xPDxpKzYsbC5wZW5kaW5nX2J1Zl9zaXplPTQqbC5saXRfYnVmc2l6ZSxsLnBlbmRpbmdfYnVmPW5ldyBhLkJ1ZjgobC5wZW5kaW5nX2J1Zl9zaXplKSxsLmRfYnVmPTEqbC5saXRfYnVmc2l6ZSxsLmxfYnVmPTMqbC5saXRfYnVmc2l6ZSxsLmxldmVsPXQsbC5zdHJhdGVneT1vLGwubWV0aG9kPXIsSChlKX1uPVtuZXcgRygwLDAsMCwwLChmdW5jdGlvbihlLHQpe3ZhciByPTY1NTM1O2ZvcihyPmUucGVuZGluZ19idWZfc2l6ZS01JiYocj1lLnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYoZS5sb29rYWhlYWQ8PTEpe2lmKEQoZSksMD09PWUubG9va2FoZWFkJiZ0PT09dSlyZXR1cm4gUDtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9ZS5zdHJzdGFydCs9ZS5sb29rYWhlYWQsZS5sb29rYWhlYWQ9MDt2YXIgbj1lLmJsb2NrX3N0YXJ0K3I7aWYoKDA9PT1lLnN0cnN0YXJ0fHxlLnN0cnN0YXJ0Pj1uKSYmKGUubG9va2FoZWFkPWUuc3Ryc3RhcnQtbixlLnN0cnN0YXJ0PW4sSShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIFA7aWYoZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0Pj1lLndfc2l6ZS1OJiYoSShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIFB9cmV0dXJuIGUuaW5zZXJ0PTAsdD09PWM/KEkoZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/QTpqKTooZS5zdHJzdGFydD5lLmJsb2NrX3N0YXJ0JiYoSShlLCExKSxlLnN0cm0uYXZhaWxfb3V0KSxQKX0pKSxuZXcgRyg0LDQsOCw0LFUpLG5ldyBHKDQsNSwxNiw4LFUpLG5ldyBHKDQsNiwzMiwzMixVKSxuZXcgRyg0LDQsMTYsMTYsVyksbmV3IEcoOCwxNiwzMiwzMixXKSxuZXcgRyg4LDE2LDEyOCwxMjgsVyksbmV3IEcoOCwzMiwxMjgsMjU2LFcpLG5ldyBHKDMyLDEyOCwyNTgsMTAyNCxXKSxuZXcgRygzMiwyNTgsMjU4LDQwOTYsVyldLHIuZGVmbGF0ZUluaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcShlLHQsbSwxNSw4LDApfSxyLmRlZmxhdGVJbml0Mj1xLHIuZGVmbGF0ZVJlc2V0PUgsci5kZWZsYXRlUmVzZXRLZWVwPVYsci5kZWZsYXRlU2V0SGVhZGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUuc3RhdGU/MiE9PWUuc3RhdGUud3JhcD9mOihlLnN0YXRlLmd6aGVhZD10LGgpOmZ9LHIuZGVmbGF0ZT1mdW5jdGlvbihlLHQpe3ZhciByLGEsbyxsO2lmKCFlfHwhZS5zdGF0ZXx8NTx0fHx0PDApcmV0dXJuIGU/TChlLGYpOmY7aWYoYT1lLnN0YXRlLCFlLm91dHB1dHx8IWUuaW5wdXQmJjAhPT1lLmF2YWlsX2lufHw2NjY9PT1hLnN0YXR1cyYmdCE9PWMpcmV0dXJuIEwoZSwwPT09ZS5hdmFpbF9vdXQ/LTU6Zik7aWYoYS5zdHJtPWUscj1hLmxhc3RfZmx1c2gsYS5sYXN0X2ZsdXNoPXQsYS5zdGF0dXM9PT1PKWlmKDI9PT1hLndyYXApZS5hZGxlcj0wLFIoYSwzMSksUihhLDEzOSksUihhLDgpLGEuZ3poZWFkPyhSKGEsKGEuZ3poZWFkLnRleHQ/MTowKSsoYS5nemhlYWQuaGNyYz8yOjApKyhhLmd6aGVhZC5leHRyYT80OjApKyhhLmd6aGVhZC5uYW1lPzg6MCkrKGEuZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLFIoYSwyNTUmYS5nemhlYWQudGltZSksUihhLGEuZ3poZWFkLnRpbWU+PjgmMjU1KSxSKGEsYS5nemhlYWQudGltZT4+MTYmMjU1KSxSKGEsYS5nemhlYWQudGltZT4+MjQmMjU1KSxSKGEsOT09PWEubGV2ZWw/MjoyPD1hLnN0cmF0ZWd5fHxhLmxldmVsPDI/NDowKSxSKGEsMjU1JmEuZ3poZWFkLm9zKSxhLmd6aGVhZC5leHRyYSYmYS5nemhlYWQuZXh0cmEubGVuZ3RoJiYoUihhLDI1NSZhLmd6aGVhZC5leHRyYS5sZW5ndGgpLFIoYSxhLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksYS5nemhlYWQuaGNyYyYmKGUuYWRsZXI9cyhlLmFkbGVyLGEucGVuZGluZ19idWYsYS5wZW5kaW5nLDApKSxhLmd6aW5kZXg9MCxhLnN0YXR1cz02OSk6KFIoYSwwKSxSKGEsMCksUihhLDApLFIoYSwwKSxSKGEsMCksUihhLDk9PT1hLmxldmVsPzI6Mjw9YS5zdHJhdGVneXx8YS5sZXZlbDwyPzQ6MCksUihhLDMpLGEuc3RhdHVzPUMpO2Vsc2Uge3ZhciBkPW0rKGEud19iaXRzLTg8PDQpPDw4O2R8PSgyPD1hLnN0cmF0ZWd5fHxhLmxldmVsPDI/MDphLmxldmVsPDY/MTo2PT09YS5sZXZlbD8yOjMpPDw2LDAhPT1hLnN0cnN0YXJ0JiYoZHw9MzIpLGQrPTMxLWQlMzEsYS5zdGF0dXM9QyxGKGEsZCksMCE9PWEuc3Ryc3RhcnQmJihGKGEsZS5hZGxlcj4+PjE2KSxGKGEsNjU1MzUmZS5hZGxlcikpLGUuYWRsZXI9MTt9aWYoNjk9PT1hLnN0YXR1cylpZihhLmd6aGVhZC5leHRyYSl7Zm9yKG89YS5wZW5kaW5nO2EuZ3ppbmRleDwoNjU1MzUmYS5nemhlYWQuZXh0cmEubGVuZ3RoKSYmKGEucGVuZGluZyE9PWEucGVuZGluZ19idWZfc2l6ZXx8KGEuZ3poZWFkLmhjcmMmJmEucGVuZGluZz5vJiYoZS5hZGxlcj1zKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctbyxvKSkseihlKSxvPWEucGVuZGluZyxhLnBlbmRpbmchPT1hLnBlbmRpbmdfYnVmX3NpemUpKTspUihhLDI1NSZhLmd6aGVhZC5leHRyYVthLmd6aW5kZXhdKSxhLmd6aW5kZXgrKzthLmd6aGVhZC5oY3JjJiZhLnBlbmRpbmc+byYmKGUuYWRsZXI9cyhlLmFkbGVyLGEucGVuZGluZ19idWYsYS5wZW5kaW5nLW8sbykpLGEuZ3ppbmRleD09PWEuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKGEuZ3ppbmRleD0wLGEuc3RhdHVzPTczKTt9ZWxzZSBhLnN0YXR1cz03MztpZig3Mz09PWEuc3RhdHVzKWlmKGEuZ3poZWFkLm5hbWUpe289YS5wZW5kaW5nO2Rve2lmKGEucGVuZGluZz09PWEucGVuZGluZ19idWZfc2l6ZSYmKGEuZ3poZWFkLmhjcmMmJmEucGVuZGluZz5vJiYoZS5hZGxlcj1zKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctbyxvKSkseihlKSxvPWEucGVuZGluZyxhLnBlbmRpbmc9PT1hLnBlbmRpbmdfYnVmX3NpemUpKXtsPTE7YnJlYWt9bD1hLmd6aW5kZXg8YS5nemhlYWQubmFtZS5sZW5ndGg/MjU1JmEuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChhLmd6aW5kZXgrKyk6MCxSKGEsbCk7fXdoaWxlKDAhPT1sKTthLmd6aGVhZC5oY3JjJiZhLnBlbmRpbmc+byYmKGUuYWRsZXI9cyhlLmFkbGVyLGEucGVuZGluZ19idWYsYS5wZW5kaW5nLW8sbykpLDA9PT1sJiYoYS5nemluZGV4PTAsYS5zdGF0dXM9OTEpO31lbHNlIGEuc3RhdHVzPTkxO2lmKDkxPT09YS5zdGF0dXMpaWYoYS5nemhlYWQuY29tbWVudCl7bz1hLnBlbmRpbmc7ZG97aWYoYS5wZW5kaW5nPT09YS5wZW5kaW5nX2J1Zl9zaXplJiYoYS5nemhlYWQuaGNyYyYmYS5wZW5kaW5nPm8mJihlLmFkbGVyPXMoZS5hZGxlcixhLnBlbmRpbmdfYnVmLGEucGVuZGluZy1vLG8pKSx6KGUpLG89YS5wZW5kaW5nLGEucGVuZGluZz09PWEucGVuZGluZ19idWZfc2l6ZSkpe2w9MTticmVha31sPWEuZ3ppbmRleDxhLmd6aGVhZC5jb21tZW50Lmxlbmd0aD8yNTUmYS5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KGEuZ3ppbmRleCsrKTowLFIoYSxsKTt9d2hpbGUoMCE9PWwpO2EuZ3poZWFkLmhjcmMmJmEucGVuZGluZz5vJiYoZS5hZGxlcj1zKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctbyxvKSksMD09PWwmJihhLnN0YXR1cz0xMDMpO31lbHNlIGEuc3RhdHVzPTEwMztpZigxMDM9PT1hLnN0YXR1cyYmKGEuZ3poZWFkLmhjcmM/KGEucGVuZGluZysyPmEucGVuZGluZ19idWZfc2l6ZSYmeihlKSxhLnBlbmRpbmcrMjw9YS5wZW5kaW5nX2J1Zl9zaXplJiYoUihhLDI1NSZlLmFkbGVyKSxSKGEsZS5hZGxlcj4+OCYyNTUpLGUuYWRsZXI9MCxhLnN0YXR1cz1DKSk6YS5zdGF0dXM9QyksMCE9PWEucGVuZGluZyl7aWYoeihlKSwwPT09ZS5hdmFpbF9vdXQpcmV0dXJuIGEubGFzdF9mbHVzaD0tMSxofWVsc2UgaWYoMD09PWUuYXZhaWxfaW4mJk0odCk8PU0ocikmJnQhPT1jKXJldHVybiBMKGUsLTUpO2lmKDY2Nj09PWEuc3RhdHVzJiYwIT09ZS5hdmFpbF9pbilyZXR1cm4gTChlLC01KTtpZigwIT09ZS5hdmFpbF9pbnx8MCE9PWEubG9va2FoZWFkfHx0IT09dSYmNjY2IT09YS5zdGF0dXMpe3ZhciBwPTI9PT1hLnN0cmF0ZWd5P2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciByOzspe2lmKDA9PT1lLmxvb2thaGVhZCYmKEQoZSksMD09PWUubG9va2FoZWFkKSl7aWYodD09PXUpcmV0dXJuIFA7YnJlYWt9aWYoZS5tYXRjaF9sZW5ndGg9MCxyPWkuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0KyssciYmKEkoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBQfXJldHVybiBlLmluc2VydD0wLHQ9PT1jPyhJKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0P0E6aik6ZS5sYXN0X2xpdCYmKEkoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpP1A6RX0oYSx0KTozPT09YS5zdHJhdGVneT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuLGEsbyxzPWUud2luZG93Ozspe2lmKGUubG9va2FoZWFkPD1TKXtpZihEKGUpLGUubG9va2FoZWFkPD1TJiZ0PT09dSlyZXR1cm4gUDtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYoZS5tYXRjaF9sZW5ndGg9MCxlLmxvb2thaGVhZD49ayYmMDxlLnN0cnN0YXJ0JiYobj1zW2E9ZS5zdHJzdGFydC0xXSk9PT1zWysrYV0mJm49PT1zWysrYV0mJm49PT1zWysrYV0pe289ZS5zdHJzdGFydCtTO2Rve313aGlsZShuPT09c1srK2FdJiZuPT09c1srK2FdJiZuPT09c1srK2FdJiZuPT09c1srK2FdJiZuPT09c1srK2FdJiZuPT09c1srK2FdJiZuPT09c1srK2FdJiZuPT09c1srK2FdJiZhPG8pO2UubWF0Y2hfbGVuZ3RoPVMtKG8tYSksZS5tYXRjaF9sZW5ndGg+ZS5sb29rYWhlYWQmJihlLm1hdGNoX2xlbmd0aD1lLmxvb2thaGVhZCk7fWlmKGUubWF0Y2hfbGVuZ3RoPj1rPyhyPWkuX3RyX3RhbGx5KGUsMSxlLm1hdGNoX2xlbmd0aC1rKSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5zdHJzdGFydCs9ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg9MCk6KHI9aS5fdHJfdGFsbHkoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKyksciYmKEkoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBQfXJldHVybiBlLmluc2VydD0wLHQ9PT1jPyhJKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0P0E6aik6ZS5sYXN0X2xpdCYmKEkoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpP1A6RX0oYSx0KTpuW2EubGV2ZWxdLmZ1bmMoYSx0KTtpZihwIT09QSYmcCE9PWp8fChhLnN0YXR1cz02NjYpLHA9PT1QfHxwPT09QSlyZXR1cm4gMD09PWUuYXZhaWxfb3V0JiYoYS5sYXN0X2ZsdXNoPS0xKSxoO2lmKHA9PT1FJiYoMT09PXQ/aS5fdHJfYWxpZ24oYSk6NSE9PXQmJihpLl90cl9zdG9yZWRfYmxvY2soYSwwLDAsITEpLDM9PT10JiYoVChhLmhlYWQpLDA9PT1hLmxvb2thaGVhZCYmKGEuc3Ryc3RhcnQ9MCxhLmJsb2NrX3N0YXJ0PTAsYS5pbnNlcnQ9MCkpKSx6KGUpLDA9PT1lLmF2YWlsX291dCkpcmV0dXJuIGEubGFzdF9mbHVzaD0tMSxofXJldHVybiB0IT09Yz9oOmEud3JhcDw9MD8xOigyPT09YS53cmFwPyhSKGEsMjU1JmUuYWRsZXIpLFIoYSxlLmFkbGVyPj44JjI1NSksUihhLGUuYWRsZXI+PjE2JjI1NSksUihhLGUuYWRsZXI+PjI0JjI1NSksUihhLDI1NSZlLnRvdGFsX2luKSxSKGEsZS50b3RhbF9pbj4+OCYyNTUpLFIoYSxlLnRvdGFsX2luPj4xNiYyNTUpLFIoYSxlLnRvdGFsX2luPj4yNCYyNTUpKTooRihhLGUuYWRsZXI+Pj4xNiksRihhLDY1NTM1JmUuYWRsZXIpKSx6KGUpLDA8YS53cmFwJiYoYS53cmFwPS1hLndyYXApLDAhPT1hLnBlbmRpbmc/aDoxKX0sci5kZWZsYXRlRW5kPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPyh0PWUuc3RhdGUuc3RhdHVzKSE9PU8mJjY5IT09dCYmNzMhPT10JiY5MSE9PXQmJjEwMyE9PXQmJnQhPT1DJiY2NjYhPT10P0woZSxmKTooZS5zdGF0ZT1udWxsLHQ9PT1DP0woZSwtMyk6aCk6Zn0sci5kZWZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxzLGwsdSxjLGQscD10Lmxlbmd0aDtpZighZXx8IWUuc3RhdGUpcmV0dXJuIGY7aWYoMj09PShzPShyPWUuc3RhdGUpLndyYXApfHwxPT09cyYmci5zdGF0dXMhPT1PfHxyLmxvb2thaGVhZClyZXR1cm4gZjtmb3IoMT09PXMmJihlLmFkbGVyPW8oZS5hZGxlcix0LHAsMCkpLHIud3JhcD0wLHA+PXIud19zaXplJiYoMD09PXMmJihUKHIuaGVhZCksci5zdHJzdGFydD0wLHIuYmxvY2tfc3RhcnQ9MCxyLmluc2VydD0wKSxkPW5ldyBhLkJ1Zjgoci53X3NpemUpLGEuYXJyYXlTZXQoZCx0LHAtci53X3NpemUsci53X3NpemUsMCksdD1kLHA9ci53X3NpemUpLGw9ZS5hdmFpbF9pbix1PWUubmV4dF9pbixjPWUuaW5wdXQsZS5hdmFpbF9pbj1wLGUubmV4dF9pbj0wLGUuaW5wdXQ9dCxEKHIpO3IubG9va2FoZWFkPj1rOyl7Zm9yKG49ci5zdHJzdGFydCxpPXIubG9va2FoZWFkLShrLTEpO3IuaW5zX2g9KHIuaW5zX2g8PHIuaGFzaF9zaGlmdF5yLndpbmRvd1tuK2stMV0pJnIuaGFzaF9tYXNrLHIucHJldltuJnIud19tYXNrXT1yLmhlYWRbci5pbnNfaF0sci5oZWFkW3IuaW5zX2hdPW4sbisrLC0taTspO3Iuc3Ryc3RhcnQ9bixyLmxvb2thaGVhZD1rLTEsRChyKTt9cmV0dXJuIHIuc3Ryc3RhcnQrPXIubG9va2FoZWFkLHIuYmxvY2tfc3RhcnQ9ci5zdHJzdGFydCxyLmluc2VydD1yLmxvb2thaGVhZCxyLmxvb2thaGVhZD0wLHIubWF0Y2hfbGVuZ3RoPXIucHJldl9sZW5ndGg9ay0xLHIubWF0Y2hfYXZhaWxhYmxlPTAsZS5uZXh0X2luPXUsZS5pbnB1dD1jLGUuYXZhaWxfaW49bCxyLndyYXA9cyxofSxyLmRlZmxhdGVJbmZvPSJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpIjt9LHsiLi4vdXRpbHMvY29tbW9uIjo0MSwiLi9hZGxlcjMyIjo0MywiLi9jcmMzMiI6NDUsIi4vbWVzc2FnZXMiOjUxLCIuL3RyZWVzIjo1Mn1dLDQ3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPSIiLHRoaXMuY29tbWVudD0iIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITE7fTt9LHt9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLG4sYSxpLG8scyxsLHUsYyxoLGYsZCxwLHksbSxnLHYsXyxiLHcseCxrLFMsTixPO3I9ZS5zdGF0ZSxuPWUubmV4dF9pbixOPWUuaW5wdXQsYT1uKyhlLmF2YWlsX2luLTUpLGk9ZS5uZXh0X291dCxPPWUub3V0cHV0LG89aS0odC1lLmF2YWlsX291dCkscz1pKyhlLmF2YWlsX291dC0yNTcpLGw9ci5kbWF4LHU9ci53c2l6ZSxjPXIud2hhdmUsaD1yLnduZXh0LGY9ci53aW5kb3csZD1yLmhvbGQscD1yLmJpdHMseT1yLmxlbmNvZGUsbT1yLmRpc3Rjb2RlLGc9KDE8PHIubGVuYml0cyktMSx2PSgxPDxyLmRpc3RiaXRzKS0xO2U6ZG97cDwxNSYmKGQrPU5bbisrXTw8cCxwKz04LGQrPU5bbisrXTw8cCxwKz04KSxfPXlbZCZnXTt0OmZvcig7Oyl7aWYoZD4+Pj1iPV8+Pj4yNCxwLT1iLDA9PShiPV8+Pj4xNiYyNTUpKU9baSsrXT02NTUzNSZfO2Vsc2Uge2lmKCEoMTYmYikpe2lmKDA9PSg2NCZiKSl7Xz15Wyg2NTUzNSZfKSsoZCYoMTw8YiktMSldO2NvbnRpbnVlIHR9aWYoMzImYil7ci5tb2RlPTEyO2JyZWFrIGV9ZS5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsci5tb2RlPTMwO2JyZWFrIGV9dz02NTUzNSZfLChiJj0xNSkmJihwPGImJihkKz1OW24rK108PHAscCs9OCksdys9ZCYoMTw8YiktMSxkPj4+PWIscC09YikscDwxNSYmKGQrPU5bbisrXTw8cCxwKz04LGQrPU5bbisrXTw8cCxwKz04KSxfPW1bZCZ2XTtyOmZvcig7Oyl7aWYoZD4+Pj1iPV8+Pj4yNCxwLT1iLCEoMTYmKGI9Xz4+PjE2JjI1NSkpKXtpZigwPT0oNjQmYikpe189bVsoNjU1MzUmXykrKGQmKDE8PGIpLTEpXTtjb250aW51ZSByfWUubXNnPSJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiLHIubW9kZT0zMDticmVhayBlfWlmKHg9NjU1MzUmXyxwPChiJj0xNSkmJihkKz1OW24rK108PHAsKHArPTgpPGImJihkKz1OW24rK108PHAscCs9OCkpLGw8KHgrPWQmKDE8PGIpLTEpKXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLHIubW9kZT0zMDticmVhayBlfWlmKGQ+Pj49YixwLT1iLChiPWktbyk8eCl7aWYoYzwoYj14LWIpJiZyLnNhbmUpe2UubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsci5tb2RlPTMwO2JyZWFrIGV9aWYoUz1mLChrPTApPT09aCl7aWYoays9dS1iLGI8dyl7Zm9yKHctPWI7T1tpKytdPWZbaysrXSwtLWI7KTtrPWkteCxTPU87fX1lbHNlIGlmKGg8Yil7aWYoays9dStoLWIsKGItPWgpPHcpe2Zvcih3LT1iO09baSsrXT1mW2srK10sLS1iOyk7aWYoaz0wLGg8dyl7Zm9yKHctPWI9aDtPW2krK109ZltrKytdLC0tYjspO2s9aS14LFM9Tzt9fX1lbHNlIGlmKGsrPWgtYixiPHcpe2Zvcih3LT1iO09baSsrXT1mW2srK10sLS1iOyk7az1pLXgsUz1PO31mb3IoOzI8dzspT1tpKytdPVNbaysrXSxPW2krK109U1trKytdLE9baSsrXT1TW2srK10sdy09Mzt3JiYoT1tpKytdPVNbaysrXSwxPHcmJihPW2krK109U1trKytdKSk7fWVsc2Uge2ZvcihrPWkteDtPW2krK109T1trKytdLE9baSsrXT1PW2srK10sT1tpKytdPU9baysrXSwyPCh3LT0zKTspO3cmJihPW2krK109T1trKytdLDE8dyYmKE9baSsrXT1PW2srK10pKTt9YnJlYWt9fWJyZWFrfX13aGlsZShuPGEmJmk8cyk7bi09dz1wPj4zLGQmPSgxPDwocC09dzw8MykpLTEsZS5uZXh0X2luPW4sZS5uZXh0X291dD1pLGUuYXZhaWxfaW49bjxhP2Etbis1OjUtKG4tYSksZS5hdmFpbF9vdXQ9aTxzP3MtaSsyNTc6MjU3LShpLXMpLHIuaG9sZD1kLHIuYml0cz1wO307fSx7fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi91dGlscy9jb21tb24iKSxhPWUoIi4vYWRsZXIzMiIpLGk9ZSgiLi9jcmMzMiIpLG89ZSgiLi9pbmZmYXN0Iikscz1lKCIuL2luZnRyZWVzIiksbD0xLHU9MixjPTAsaD0tMixmPTEsZD04NTIscD01OTI7ZnVuY3Rpb24geShlKXtyZXR1cm4gKGU+Pj4yNCYyNTUpKyhlPj4+OCY2NTI4MCkrKCg2NTI4MCZlKTw8OCkrKCgyNTUmZSk8PDI0KX1mdW5jdGlvbiBtKCl7dGhpcy5tb2RlPTAsdGhpcy5sYXN0PSExLHRoaXMud3JhcD0wLHRoaXMuaGF2ZWRpY3Q9ITEsdGhpcy5mbGFncz0wLHRoaXMuZG1heD0wLHRoaXMuY2hlY2s9MCx0aGlzLnRvdGFsPTAsdGhpcy5oZWFkPW51bGwsdGhpcy53Yml0cz0wLHRoaXMud3NpemU9MCx0aGlzLndoYXZlPTAsdGhpcy53bmV4dD0wLHRoaXMud2luZG93PW51bGwsdGhpcy5ob2xkPTAsdGhpcy5iaXRzPTAsdGhpcy5sZW5ndGg9MCx0aGlzLm9mZnNldD0wLHRoaXMuZXh0cmE9MCx0aGlzLmxlbmNvZGU9bnVsbCx0aGlzLmRpc3Rjb2RlPW51bGwsdGhpcy5sZW5iaXRzPTAsdGhpcy5kaXN0Yml0cz0wLHRoaXMubmNvZGU9MCx0aGlzLm5sZW49MCx0aGlzLm5kaXN0PTAsdGhpcy5oYXZlPTAsdGhpcy5uZXh0PW51bGwsdGhpcy5sZW5zPW5ldyBuLkJ1ZjE2KDMyMCksdGhpcy53b3JrPW5ldyBuLkJ1ZjE2KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wO31mdW5jdGlvbiBnKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPyh0PWUuc3RhdGUsZS50b3RhbF9pbj1lLnRvdGFsX291dD10LnRvdGFsPTAsZS5tc2c9IiIsdC53cmFwJiYoZS5hZGxlcj0xJnQud3JhcCksdC5tb2RlPWYsdC5sYXN0PTAsdC5oYXZlZGljdD0wLHQuZG1heD0zMjc2OCx0LmhlYWQ9bnVsbCx0LmhvbGQ9MCx0LmJpdHM9MCx0LmxlbmNvZGU9dC5sZW5keW49bmV3IG4uQnVmMzIoZCksdC5kaXN0Y29kZT10LmRpc3RkeW49bmV3IG4uQnVmMzIocCksdC5zYW5lPTEsdC5iYWNrPS0xLGMpOmh9ZnVuY3Rpb24gdihlKXt2YXIgdDtyZXR1cm4gZSYmZS5zdGF0ZT8oKHQ9ZS5zdGF0ZSkud3NpemU9MCx0LndoYXZlPTAsdC53bmV4dD0wLGcoZSkpOmh9ZnVuY3Rpb24gXyhlLHQpe3ZhciByLG47cmV0dXJuIGUmJmUuc3RhdGU/KG49ZS5zdGF0ZSx0PDA/KHI9MCx0PS10KToocj0xKyh0Pj40KSx0PDQ4JiYodCY9MTUpKSx0JiYodDw4fHwxNTx0KT9oOihudWxsIT09bi53aW5kb3cmJm4ud2JpdHMhPT10JiYobi53aW5kb3c9bnVsbCksbi53cmFwPXIsbi53Yml0cz10LHYoZSkpKTpofWZ1bmN0aW9uIGIoZSx0KXt2YXIgcixuO3JldHVybiBlPyhuPW5ldyBtLChlLnN0YXRlPW4pLndpbmRvdz1udWxsLChyPV8oZSx0KSkhPT1jJiYoZS5zdGF0ZT1udWxsKSxyKTpofXZhciB3LHgsaz0hMDtmdW5jdGlvbiBTKGUpe2lmKGspe3ZhciB0O2Zvcih3PW5ldyBuLkJ1ZjMyKDUxMikseD1uZXcgbi5CdWYzMigzMiksdD0wO3Q8MTQ0OyllLmxlbnNbdCsrXT04O2Zvcig7dDwyNTY7KWUubGVuc1t0KytdPTk7Zm9yKDt0PDI4MDspZS5sZW5zW3QrK109Nztmb3IoO3Q8Mjg4OyllLmxlbnNbdCsrXT04O2ZvcihzKGwsZS5sZW5zLDAsMjg4LHcsMCxlLndvcmsse2JpdHM6OX0pLHQ9MDt0PDMyOyllLmxlbnNbdCsrXT01O3ModSxlLmxlbnMsMCwzMix4LDAsZS53b3JrLHtiaXRzOjV9KSxrPSExO31lLmxlbmNvZGU9dyxlLmxlbmJpdHM9OSxlLmRpc3Rjb2RlPXgsZS5kaXN0Yml0cz01O31mdW5jdGlvbiBOKGUsdCxyLGEpe3ZhciBpLG89ZS5zdGF0ZTtyZXR1cm4gbnVsbD09PW8ud2luZG93JiYoby53c2l6ZT0xPDxvLndiaXRzLG8ud25leHQ9MCxvLndoYXZlPTAsby53aW5kb3c9bmV3IG4uQnVmOChvLndzaXplKSksYT49by53c2l6ZT8obi5hcnJheVNldChvLndpbmRvdyx0LHItby53c2l6ZSxvLndzaXplLDApLG8ud25leHQ9MCxvLndoYXZlPW8ud3NpemUpOihhPChpPW8ud3NpemUtby53bmV4dCkmJihpPWEpLG4uYXJyYXlTZXQoby53aW5kb3csdCxyLWEsaSxvLnduZXh0KSwoYS09aSk/KG4uYXJyYXlTZXQoby53aW5kb3csdCxyLWEsYSwwKSxvLnduZXh0PWEsby53aGF2ZT1vLndzaXplKTooby53bmV4dCs9aSxvLnduZXh0PT09by53c2l6ZSYmKG8ud25leHQ9MCksby53aGF2ZTxvLndzaXplJiYoby53aGF2ZSs9aSkpKSwwfXIuaW5mbGF0ZVJlc2V0PXYsci5pbmZsYXRlUmVzZXQyPV8sci5pbmZsYXRlUmVzZXRLZWVwPWcsci5pbmZsYXRlSW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gYihlLDE1KX0sci5pbmZsYXRlSW5pdDI9YixyLmluZmxhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgcixkLHAsbSxnLHYsXyxiLHcseCxrLE8sQyxQLEUsQSxqLEwsTSxULHosSSxSLEYsQj0wLEQ9bmV3IG4uQnVmOCg0KSxVPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtpZighZXx8IWUuc3RhdGV8fCFlLm91dHB1dHx8IWUuaW5wdXQmJjAhPT1lLmF2YWlsX2luKXJldHVybiBoOzEyPT09KHI9ZS5zdGF0ZSkubW9kZSYmKHIubW9kZT0xMyksZz1lLm5leHRfb3V0LHA9ZS5vdXRwdXQsXz1lLmF2YWlsX291dCxtPWUubmV4dF9pbixkPWUuaW5wdXQsdj1lLmF2YWlsX2luLGI9ci5ob2xkLHc9ci5iaXRzLHg9dixrPV8sST1jO2U6Zm9yKDs7KXN3aXRjaChyLm1vZGUpe2Nhc2UgZjppZigwPT09ci53cmFwKXtyLm1vZGU9MTM7YnJlYWt9Zm9yKDt3PDE2Oyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYis9ZFttKytdPDx3LHcrPTg7fWlmKDImci53cmFwJiYzNTYxNT09PWIpe0Rbci5jaGVjaz0wXT0yNTUmYixEWzFdPWI+Pj44JjI1NSxyLmNoZWNrPWkoci5jaGVjayxELDIsMCksdz1iPTAsci5tb2RlPTI7YnJlYWt9aWYoci5mbGFncz0wLHIuaGVhZCYmKHIuaGVhZC5kb25lPSExKSwhKDEmci53cmFwKXx8KCgoMjU1JmIpPDw4KSsoYj4+OCkpJTMxKXtlLm1zZz0iaW5jb3JyZWN0IGhlYWRlciBjaGVjayIsci5tb2RlPTMwO2JyZWFrfWlmKDghPSgxNSZiKSl7ZS5tc2c9InVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIixyLm1vZGU9MzA7YnJlYWt9aWYody09NCx6PTgrKDE1JihiPj4+PTQpKSwwPT09ci53Yml0cylyLndiaXRzPXo7ZWxzZSBpZih6PnIud2JpdHMpe2UubXNnPSJpbnZhbGlkIHdpbmRvdyBzaXplIixyLm1vZGU9MzA7YnJlYWt9ci5kbWF4PTE8PHosZS5hZGxlcj1yLmNoZWNrPTEsci5tb2RlPTUxMiZiPzEwOjEyLHc9Yj0wO2JyZWFrO2Nhc2UgMjpmb3IoO3c8MTY7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9aWYoci5mbGFncz1iLDghPSgyNTUmci5mbGFncykpe2UubXNnPSJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCIsci5tb2RlPTMwO2JyZWFrfWlmKDU3MzQ0JnIuZmxhZ3Mpe2UubXNnPSJ1bmtub3duIGhlYWRlciBmbGFncyBzZXQiLHIubW9kZT0zMDticmVha31yLmhlYWQmJihyLmhlYWQudGV4dD1iPj44JjEpLDUxMiZyLmZsYWdzJiYoRFswXT0yNTUmYixEWzFdPWI+Pj44JjI1NSxyLmNoZWNrPWkoci5jaGVjayxELDIsMCkpLHc9Yj0wLHIubW9kZT0zO2Nhc2UgMzpmb3IoO3c8MzI7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9ci5oZWFkJiYoci5oZWFkLnRpbWU9YiksNTEyJnIuZmxhZ3MmJihEWzBdPTI1NSZiLERbMV09Yj4+PjgmMjU1LERbMl09Yj4+PjE2JjI1NSxEWzNdPWI+Pj4yNCYyNTUsci5jaGVjaz1pKHIuY2hlY2ssRCw0LDApKSx3PWI9MCxyLm1vZGU9NDtjYXNlIDQ6Zm9yKDt3PDE2Oyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYis9ZFttKytdPDx3LHcrPTg7fXIuaGVhZCYmKHIuaGVhZC54ZmxhZ3M9MjU1JmIsci5oZWFkLm9zPWI+PjgpLDUxMiZyLmZsYWdzJiYoRFswXT0yNTUmYixEWzFdPWI+Pj44JjI1NSxyLmNoZWNrPWkoci5jaGVjayxELDIsMCkpLHc9Yj0wLHIubW9kZT01O2Nhc2UgNTppZigxMDI0JnIuZmxhZ3Mpe2Zvcig7dzwxNjspe2lmKDA9PT12KWJyZWFrIGU7di0tLGIrPWRbbSsrXTw8dyx3Kz04O31yLmxlbmd0aD1iLHIuaGVhZCYmKHIuaGVhZC5leHRyYV9sZW49YiksNTEyJnIuZmxhZ3MmJihEWzBdPTI1NSZiLERbMV09Yj4+PjgmMjU1LHIuY2hlY2s9aShyLmNoZWNrLEQsMiwwKSksdz1iPTA7fWVsc2Ugci5oZWFkJiYoci5oZWFkLmV4dHJhPW51bGwpO3IubW9kZT02O2Nhc2UgNjppZigxMDI0JnIuZmxhZ3MmJih2PChPPXIubGVuZ3RoKSYmKE89diksTyYmKHIuaGVhZCYmKHo9ci5oZWFkLmV4dHJhX2xlbi1yLmxlbmd0aCxyLmhlYWQuZXh0cmF8fChyLmhlYWQuZXh0cmE9bmV3IEFycmF5KHIuaGVhZC5leHRyYV9sZW4pKSxuLmFycmF5U2V0KHIuaGVhZC5leHRyYSxkLG0sTyx6KSksNTEyJnIuZmxhZ3MmJihyLmNoZWNrPWkoci5jaGVjayxkLE8sbSkpLHYtPU8sbSs9TyxyLmxlbmd0aC09Tyksci5sZW5ndGgpKWJyZWFrIGU7ci5sZW5ndGg9MCxyLm1vZGU9NztjYXNlIDc6aWYoMjA0OCZyLmZsYWdzKXtpZigwPT09dilicmVhayBlO2ZvcihPPTA7ej1kW20rTysrXSxyLmhlYWQmJnomJnIubGVuZ3RoPDY1NTM2JiYoci5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoeikpLHomJk88djspO2lmKDUxMiZyLmZsYWdzJiYoci5jaGVjaz1pKHIuY2hlY2ssZCxPLG0pKSx2LT1PLG0rPU8seilicmVhayBlfWVsc2Ugci5oZWFkJiYoci5oZWFkLm5hbWU9bnVsbCk7ci5sZW5ndGg9MCxyLm1vZGU9ODtjYXNlIDg6aWYoNDA5NiZyLmZsYWdzKXtpZigwPT09dilicmVhayBlO2ZvcihPPTA7ej1kW20rTysrXSxyLmhlYWQmJnomJnIubGVuZ3RoPDY1NTM2JiYoci5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoeikpLHomJk88djspO2lmKDUxMiZyLmZsYWdzJiYoci5jaGVjaz1pKHIuY2hlY2ssZCxPLG0pKSx2LT1PLG0rPU8seilicmVhayBlfWVsc2Ugci5oZWFkJiYoci5oZWFkLmNvbW1lbnQ9bnVsbCk7ci5tb2RlPTk7Y2FzZSA5OmlmKDUxMiZyLmZsYWdzKXtmb3IoO3c8MTY7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9aWYoYiE9PSg2NTUzNSZyLmNoZWNrKSl7ZS5tc2c9ImhlYWRlciBjcmMgbWlzbWF0Y2giLHIubW9kZT0zMDticmVha313PWI9MDt9ci5oZWFkJiYoci5oZWFkLmhjcmM9ci5mbGFncz4+OSYxLHIuaGVhZC5kb25lPSEwKSxlLmFkbGVyPXIuY2hlY2s9MCxyLm1vZGU9MTI7YnJlYWs7Y2FzZSAxMDpmb3IoO3c8MzI7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9ZS5hZGxlcj1yLmNoZWNrPXkoYiksdz1iPTAsci5tb2RlPTExO2Nhc2UgMTE6aWYoMD09PXIuaGF2ZWRpY3QpcmV0dXJuIGUubmV4dF9vdXQ9ZyxlLmF2YWlsX291dD1fLGUubmV4dF9pbj1tLGUuYXZhaWxfaW49dixyLmhvbGQ9YixyLmJpdHM9dywyO2UuYWRsZXI9ci5jaGVjaz0xLHIubW9kZT0xMjtjYXNlIDEyOmlmKDU9PT10fHw2PT09dClicmVhayBlO2Nhc2UgMTM6aWYoci5sYXN0KXtiPj4+PTcmdyx3LT03Jncsci5tb2RlPTI3O2JyZWFrfWZvcig7dzwzOyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYis9ZFttKytdPDx3LHcrPTg7fXN3aXRjaChyLmxhc3Q9MSZiLHctPTEsMyYoYj4+Pj0xKSl7Y2FzZSAwOnIubW9kZT0xNDticmVhaztjYXNlIDE6aWYoUyhyKSxyLm1vZGU9MjAsNiE9PXQpYnJlYWs7Yj4+Pj0yLHctPTI7YnJlYWsgZTtjYXNlIDI6ci5tb2RlPTE3O2JyZWFrO2Nhc2UgMzplLm1zZz0iaW52YWxpZCBibG9jayB0eXBlIixyLm1vZGU9MzA7fWI+Pj49Mix3LT0yO2JyZWFrO2Nhc2UgMTQ6Zm9yKGI+Pj49NyZ3LHctPTcmdzt3PDMyOyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYis9ZFttKytdPDx3LHcrPTg7fWlmKCg2NTUzNSZiKSE9KGI+Pj4xNl42NTUzNSkpe2UubXNnPSJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzIixyLm1vZGU9MzA7YnJlYWt9aWYoci5sZW5ndGg9NjU1MzUmYix3PWI9MCxyLm1vZGU9MTUsNj09PXQpYnJlYWsgZTtjYXNlIDE1OnIubW9kZT0xNjtjYXNlIDE2OmlmKE89ci5sZW5ndGgpe2lmKHY8TyYmKE89diksXzxPJiYoTz1fKSwwPT09TylicmVhayBlO24uYXJyYXlTZXQocCxkLG0sTyxnKSx2LT1PLG0rPU8sXy09TyxnKz1PLHIubGVuZ3RoLT1PO2JyZWFrfXIubW9kZT0xMjticmVhaztjYXNlIDE3OmZvcig7dzwxNDspe2lmKDA9PT12KWJyZWFrIGU7di0tLGIrPWRbbSsrXTw8dyx3Kz04O31pZihyLm5sZW49MjU3KygzMSZiKSxiPj4+PTUsdy09NSxyLm5kaXN0PTErKDMxJmIpLGI+Pj49NSx3LT01LHIubmNvZGU9NCsoMTUmYiksYj4+Pj00LHctPTQsMjg2PHIubmxlbnx8MzA8ci5uZGlzdCl7ZS5tc2c9InRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzIixyLm1vZGU9MzA7YnJlYWt9ci5oYXZlPTAsci5tb2RlPTE4O2Nhc2UgMTg6Zm9yKDtyLmhhdmU8ci5uY29kZTspe2Zvcig7dzwzOyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYis9ZFttKytdPDx3LHcrPTg7fXIubGVuc1tVW3IuaGF2ZSsrXV09NyZiLGI+Pj49Myx3LT0zO31mb3IoO3IuaGF2ZTwxOTspci5sZW5zW1Vbci5oYXZlKytdXT0wO2lmKHIubGVuY29kZT1yLmxlbmR5bixyLmxlbmJpdHM9NyxSPXtiaXRzOnIubGVuYml0c30sST1zKDAsci5sZW5zLDAsMTksci5sZW5jb2RlLDAsci53b3JrLFIpLHIubGVuYml0cz1SLmJpdHMsSSl7ZS5tc2c9ImludmFsaWQgY29kZSBsZW5ndGhzIHNldCIsci5tb2RlPTMwO2JyZWFrfXIuaGF2ZT0wLHIubW9kZT0xOTtjYXNlIDE5OmZvcig7ci5oYXZlPHIubmxlbityLm5kaXN0Oyl7Zm9yKDtBPShCPXIubGVuY29kZVtiJigxPDxyLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSxqPTY1NTM1JkIsISgoRT1CPj4+MjQpPD13KTspe2lmKDA9PT12KWJyZWFrIGU7di0tLGIrPWRbbSsrXTw8dyx3Kz04O31pZihqPDE2KWI+Pj49RSx3LT1FLHIubGVuc1tyLmhhdmUrK109ajtlbHNlIHtpZigxNj09PWope2ZvcihGPUUrMjt3PEY7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9aWYoYj4+Pj1FLHctPUUsMD09PXIuaGF2ZSl7ZS5tc2c9ImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLHIubW9kZT0zMDticmVha316PXIubGVuc1tyLmhhdmUtMV0sTz0zKygzJmIpLGI+Pj49Mix3LT0yO31lbHNlIGlmKDE3PT09ail7Zm9yKEY9RSszO3c8Rjspe2lmKDA9PT12KWJyZWFrIGU7di0tLGIrPWRbbSsrXTw8dyx3Kz04O313LT1FLHo9MCxPPTMrKDcmKGI+Pj49RSkpLGI+Pj49Myx3LT0zO31lbHNlIHtmb3IoRj1FKzc7dzxGOyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYis9ZFttKytdPDx3LHcrPTg7fXctPUUsej0wLE89MTErKDEyNyYoYj4+Pj1FKSksYj4+Pj03LHctPTc7fWlmKHIuaGF2ZStPPnIubmxlbityLm5kaXN0KXtlLm1zZz0iaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCIsci5tb2RlPTMwO2JyZWFrfWZvcig7Ty0tOylyLmxlbnNbci5oYXZlKytdPXo7fX1pZigzMD09PXIubW9kZSlicmVhaztpZigwPT09ci5sZW5zWzI1Nl0pe2UubXNnPSJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2siLHIubW9kZT0zMDticmVha31pZihyLmxlbmJpdHM9OSxSPXtiaXRzOnIubGVuYml0c30sST1zKGwsci5sZW5zLDAsci5ubGVuLHIubGVuY29kZSwwLHIud29yayxSKSxyLmxlbmJpdHM9Ui5iaXRzLEkpe2UubXNnPSJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQiLHIubW9kZT0zMDticmVha31pZihyLmRpc3RiaXRzPTYsci5kaXN0Y29kZT1yLmRpc3RkeW4sUj17Yml0czpyLmRpc3RiaXRzfSxJPXModSxyLmxlbnMsci5ubGVuLHIubmRpc3Qsci5kaXN0Y29kZSwwLHIud29yayxSKSxyLmRpc3RiaXRzPVIuYml0cyxJKXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZXMgc2V0IixyLm1vZGU9MzA7YnJlYWt9aWYoci5tb2RlPTIwLDY9PT10KWJyZWFrIGU7Y2FzZSAyMDpyLm1vZGU9MjE7Y2FzZSAyMTppZig2PD12JiYyNTg8PV8pe2UubmV4dF9vdXQ9ZyxlLmF2YWlsX291dD1fLGUubmV4dF9pbj1tLGUuYXZhaWxfaW49dixyLmhvbGQ9YixyLmJpdHM9dyxvKGUsayksZz1lLm5leHRfb3V0LHA9ZS5vdXRwdXQsXz1lLmF2YWlsX291dCxtPWUubmV4dF9pbixkPWUuaW5wdXQsdj1lLmF2YWlsX2luLGI9ci5ob2xkLHc9ci5iaXRzLDEyPT09ci5tb2RlJiYoci5iYWNrPS0xKTticmVha31mb3Ioci5iYWNrPTA7QT0oQj1yLmxlbmNvZGVbYiYoMTw8ci5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsaj02NTUzNSZCLCEoKEU9Qj4+PjI0KTw9dyk7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9aWYoQSYmMD09KDI0MCZBKSl7Zm9yKEw9RSxNPUEsVD1qO0E9KEI9ci5sZW5jb2RlW1QrKChiJigxPDxMK00pLTEpPj5MKV0pPj4+MTYmMjU1LGo9NjU1MzUmQiwhKEwrKEU9Qj4+PjI0KTw9dyk7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9Yj4+Pj1MLHctPUwsci5iYWNrKz1MO31pZihiPj4+PUUsdy09RSxyLmJhY2srPUUsci5sZW5ndGg9aiwwPT09QSl7ci5tb2RlPTI2O2JyZWFrfWlmKDMyJkEpe3IuYmFjaz0tMSxyLm1vZGU9MTI7YnJlYWt9aWYoNjQmQSl7ZS5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsci5tb2RlPTMwO2JyZWFrfXIuZXh0cmE9MTUmQSxyLm1vZGU9MjI7Y2FzZSAyMjppZihyLmV4dHJhKXtmb3IoRj1yLmV4dHJhO3c8Rjspe2lmKDA9PT12KWJyZWFrIGU7di0tLGIrPWRbbSsrXTw8dyx3Kz04O31yLmxlbmd0aCs9YiYoMTw8ci5leHRyYSktMSxiPj4+PXIuZXh0cmEsdy09ci5leHRyYSxyLmJhY2srPXIuZXh0cmE7fXIud2FzPXIubGVuZ3RoLHIubW9kZT0yMztjYXNlIDIzOmZvcig7QT0oQj1yLmRpc3Rjb2RlW2ImKDE8PHIuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSxqPTY1NTM1JkIsISgoRT1CPj4+MjQpPD13KTspe2lmKDA9PT12KWJyZWFrIGU7di0tLGIrPWRbbSsrXTw8dyx3Kz04O31pZigwPT0oMjQwJkEpKXtmb3IoTD1FLE09QSxUPWo7QT0oQj1yLmRpc3Rjb2RlW1QrKChiJigxPDxMK00pLTEpPj5MKV0pPj4+MTYmMjU1LGo9NjU1MzUmQiwhKEwrKEU9Qj4+PjI0KTw9dyk7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9Yj4+Pj1MLHctPUwsci5iYWNrKz1MO31pZihiPj4+PUUsdy09RSxyLmJhY2srPUUsNjQmQSl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsci5tb2RlPTMwO2JyZWFrfXIub2Zmc2V0PWosci5leHRyYT0xNSZBLHIubW9kZT0yNDtjYXNlIDI0OmlmKHIuZXh0cmEpe2ZvcihGPXIuZXh0cmE7dzxGOyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYis9ZFttKytdPDx3LHcrPTg7fXIub2Zmc2V0Kz1iJigxPDxyLmV4dHJhKS0xLGI+Pj49ci5leHRyYSx3LT1yLmV4dHJhLHIuYmFjays9ci5leHRyYTt9aWYoci5vZmZzZXQ+ci5kbWF4KXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLHIubW9kZT0zMDticmVha31yLm1vZGU9MjU7Y2FzZSAyNTppZigwPT09XylicmVhayBlO2lmKE89ay1fLHIub2Zmc2V0Pk8pe2lmKChPPXIub2Zmc2V0LU8pPnIud2hhdmUmJnIuc2FuZSl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixyLm1vZGU9MzA7YnJlYWt9Qz1PPnIud25leHQ/KE8tPXIud25leHQsci53c2l6ZS1PKTpyLnduZXh0LU8sTz5yLmxlbmd0aCYmKE89ci5sZW5ndGgpLFA9ci53aW5kb3c7fWVsc2UgUD1wLEM9Zy1yLm9mZnNldCxPPXIubGVuZ3RoO2ZvcihfPE8mJihPPV8pLF8tPU8sci5sZW5ndGgtPU87cFtnKytdPVBbQysrXSwtLU87KTswPT09ci5sZW5ndGgmJihyLm1vZGU9MjEpO2JyZWFrO2Nhc2UgMjY6aWYoMD09PV8pYnJlYWsgZTtwW2crK109ci5sZW5ndGgsXy0tLHIubW9kZT0yMTticmVhaztjYXNlIDI3OmlmKHIud3JhcCl7Zm9yKDt3PDMyOyl7aWYoMD09PXYpYnJlYWsgZTt2LS0sYnw9ZFttKytdPDx3LHcrPTg7fWlmKGstPV8sZS50b3RhbF9vdXQrPWssci50b3RhbCs9ayxrJiYoZS5hZGxlcj1yLmNoZWNrPXIuZmxhZ3M/aShyLmNoZWNrLHAsayxnLWspOmEoci5jaGVjayxwLGssZy1rKSksaz1fLChyLmZsYWdzP2I6eShiKSkhPT1yLmNoZWNrKXtlLm1zZz0iaW5jb3JyZWN0IGRhdGEgY2hlY2siLHIubW9kZT0zMDticmVha313PWI9MDt9ci5tb2RlPTI4O2Nhc2UgMjg6aWYoci53cmFwJiZyLmZsYWdzKXtmb3IoO3c8MzI7KXtpZigwPT09dilicmVhayBlO3YtLSxiKz1kW20rK108PHcsdys9ODt9aWYoYiE9PSg0Mjk0OTY3Mjk1JnIudG90YWwpKXtlLm1zZz0iaW5jb3JyZWN0IGxlbmd0aCBjaGVjayIsci5tb2RlPTMwO2JyZWFrfXc9Yj0wO31yLm1vZGU9Mjk7Y2FzZSAyOTpJPTE7YnJlYWsgZTtjYXNlIDMwOkk9LTM7YnJlYWsgZTtjYXNlIDMxOnJldHVybiAtNDtkZWZhdWx0OnJldHVybiBofXJldHVybiBlLm5leHRfb3V0PWcsZS5hdmFpbF9vdXQ9XyxlLm5leHRfaW49bSxlLmF2YWlsX2luPXYsci5ob2xkPWIsci5iaXRzPXcsKHIud3NpemV8fGshPT1lLmF2YWlsX291dCYmci5tb2RlPDMwJiYoci5tb2RlPDI3fHw0IT09dCkpJiZOKGUsZS5vdXRwdXQsZS5uZXh0X291dCxrLWUuYXZhaWxfb3V0KT8oci5tb2RlPTMxLC00KTooeC09ZS5hdmFpbF9pbixrLT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz14LGUudG90YWxfb3V0Kz1rLHIudG90YWwrPWssci53cmFwJiZrJiYoZS5hZGxlcj1yLmNoZWNrPXIuZmxhZ3M/aShyLmNoZWNrLHAsayxlLm5leHRfb3V0LWspOmEoci5jaGVjayxwLGssZS5uZXh0X291dC1rKSksZS5kYXRhX3R5cGU9ci5iaXRzKyhyLmxhc3Q/NjQ6MCkrKDEyPT09ci5tb2RlPzEyODowKSsoMjA9PT1yLm1vZGV8fDE1PT09ci5tb2RlPzI1NjowKSwoMD09eCYmMD09PWt8fDQ9PT10KSYmST09PWMmJihJPS01KSxJKX0sci5pbmZsYXRlRW5kPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zdGF0ZSlyZXR1cm4gaDt2YXIgdD1lLnN0YXRlO3JldHVybiB0LndpbmRvdyYmKHQud2luZG93PW51bGwpLGUuc3RhdGU9bnVsbCxjfSxyLmluZmxhdGVHZXRIZWFkZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gZSYmZS5zdGF0ZT8wPT0oMiYocj1lLnN0YXRlKS53cmFwKT9oOigoci5oZWFkPXQpLmRvbmU9ITEsYyk6aH0sci5pbmZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByLG49dC5sZW5ndGg7cmV0dXJuIGUmJmUuc3RhdGU/MCE9PShyPWUuc3RhdGUpLndyYXAmJjExIT09ci5tb2RlP2g6MTE9PT1yLm1vZGUmJmEoMSx0LG4sMCkhPT1yLmNoZWNrPy0zOk4oZSx0LG4sbik/KHIubW9kZT0zMSwtNCk6KHIuaGF2ZWRpY3Q9MSxjKTpofSxyLmluZmxhdGVJbmZvPSJwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpIjt9LHsiLi4vdXRpbHMvY29tbW9uIjo0MSwiLi9hZGxlcjMyIjo0MywiLi9jcmMzMiI6NDUsIi4vaW5mZmFzdCI6NDgsIi4vaW5mdHJlZXMiOjUwfV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi91dGlscy9jb21tb24iKSxhPVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0saT1bMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdLG89WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdLHM9WzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbCx1LGMsaCxmKXt2YXIgZCxwLHksbSxnLHYsXyxiLHcseD1mLmJpdHMsaz0wLFM9MCxOPTAsTz0wLEM9MCxQPTAsRT0wLEE9MCxqPTAsTD0wLE09bnVsbCxUPTAsej1uZXcgbi5CdWYxNigxNiksST1uZXcgbi5CdWYxNigxNiksUj1udWxsLEY9MDtmb3Ioaz0wO2s8PTE1O2srKyl6W2tdPTA7Zm9yKFM9MDtTPGw7UysrKXpbdFtyK1NdXSsrO2ZvcihDPXgsTz0xNTsxPD1PJiYwPT09eltPXTtPLS0pO2lmKE88QyYmKEM9TyksMD09PU8pcmV0dXJuIHVbYysrXT0yMDk3MTUyMCx1W2MrK109MjA5NzE1MjAsZi5iaXRzPTEsMDtmb3IoTj0xO048TyYmMD09PXpbTl07TisrKTtmb3IoQzxOJiYoQz1OKSxrPUE9MTtrPD0xNTtrKyspaWYoQTw8PTEsKEEtPXpba10pPDApcmV0dXJuIC0xO2lmKDA8QSYmKDA9PT1lfHwxIT09TykpcmV0dXJuIC0xO2ZvcihJWzFdPTAsaz0xO2s8MTU7aysrKUlbaysxXT1JW2tdK3pba107Zm9yKFM9MDtTPGw7UysrKTAhPT10W3IrU10mJihoW0lbdFtyK1NdXSsrXT1TKTtpZih2PTA9PT1lPyhNPVI9aCwxOSk6MT09PWU/KE09YSxULT0yNTcsUj1pLEYtPTI1NywyNTYpOihNPW8sUj1zLC0xKSxrPU4sZz1jLEU9Uz1MPTAseT0tMSxtPShqPTE8PChQPUMpKS0xLDE9PT1lJiY4NTI8anx8Mj09PWUmJjU5MjxqKXJldHVybiAxO2Zvcig7Oyl7Zm9yKF89ay1FLHc9aFtTXTx2PyhiPTAsaFtTXSk6aFtTXT52PyhiPVJbRitoW1NdXSxNW1QraFtTXV0pOihiPTk2LDApLGQ9MTw8ay1FLE49cD0xPDxQO3VbZysoTD4+RSkrKHAtPWQpXT1fPDwyNHxiPDwxNnx3fDAsMCE9PXA7KTtmb3IoZD0xPDxrLTE7TCZkOylkPj49MTtpZigwIT09ZD8oTCY9ZC0xLEwrPWQpOkw9MCxTKyssMD09LS16W2tdKXtpZihrPT09TylicmVhaztrPXRbcitoW1NdXTt9aWYoQzxrJiYoTCZtKSE9PXkpe2ZvcigwPT09RSYmKEU9QyksZys9TixBPTE8PChQPWstRSk7UCtFPE8mJiEoKEEtPXpbUCtFXSk8PTApOylQKyssQTw8PTE7aWYoais9MTw8UCwxPT09ZSYmODUyPGp8fDI9PT1lJiY1OTI8ailyZXR1cm4gMTt1W3k9TCZtXT1DPDwyNHxQPDwxNnxnLWN8MDt9fXJldHVybiAwIT09TCYmKHVbZytMXT1rLUU8PDI0fDY0PDwxNnwwKSxmLmJpdHM9QywwfTt9LHsiLi4vdXRpbHMvY29tbW9uIjo0MX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsyOiJuZWVkIGRpY3Rpb25hcnkiLDE6InN0cmVhbSBlbmQiLDA6IiIsIi0xIjoiZmlsZSBlcnJvciIsIi0yIjoic3RyZWFtIGVycm9yIiwiLTMiOiJkYXRhIGVycm9yIiwiLTQiOiJpbnN1ZmZpY2llbnQgbWVtb3J5IiwiLTUiOiJidWZmZXIgZXJyb3IiLCItNiI6ImluY29tcGF0aWJsZSB2ZXJzaW9uIn07fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi91dGlscy9jb21tb24iKSxhPTAsaT0xO2Z1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PWUubGVuZ3RoOzA8PS0tdDspZVt0XT0wO312YXIgcz0wLGw9MjksdT0yNTYsYz11KzErbCxoPTMwLGY9MTksZD0yKmMrMSxwPTE1LHk9MTYsbT03LGc9MjU2LHY9MTYsXz0xNyxiPTE4LHc9WzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0seD1bMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10saz1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN10sUz1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0sTj1uZXcgQXJyYXkoMiooYysyKSk7byhOKTt2YXIgTz1uZXcgQXJyYXkoMipoKTtvKE8pO3ZhciBDPW5ldyBBcnJheSg1MTIpO28oQyk7dmFyIFA9bmV3IEFycmF5KDI1Nik7byhQKTt2YXIgRT1uZXcgQXJyYXkobCk7byhFKTt2YXIgQSxqLEwsTT1uZXcgQXJyYXkoaCk7ZnVuY3Rpb24gVChlLHQscixuLGEpe3RoaXMuc3RhdGljX3RyZWU9ZSx0aGlzLmV4dHJhX2JpdHM9dCx0aGlzLmV4dHJhX2Jhc2U9cix0aGlzLmVsZW1zPW4sdGhpcy5tYXhfbGVuZ3RoPWEsdGhpcy5oYXNfc3RyZWU9ZSYmZS5sZW5ndGg7fWZ1bmN0aW9uIHooZSx0KXt0aGlzLmR5bl90cmVlPWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXQ7fWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGU8MjU2P0NbZV06Q1syNTYrKGU+Pj43KV19ZnVuY3Rpb24gUihlLHQpe2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZ0LGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NTt9ZnVuY3Rpb24gRihlLHQscil7ZS5iaV92YWxpZD55LXI/KGUuYmlfYnVmfD10PDxlLmJpX3ZhbGlkJjY1NTM1LFIoZSxlLmJpX2J1ZiksZS5iaV9idWY9dD4+eS1lLmJpX3ZhbGlkLGUuYmlfdmFsaWQrPXIteSk6KGUuYmlfYnVmfD10PDxlLmJpX3ZhbGlkJjY1NTM1LGUuYmlfdmFsaWQrPXIpO31mdW5jdGlvbiBCKGUsdCxyKXtGKGUsclsyKnRdLHJbMip0KzFdKTt9ZnVuY3Rpb24gRChlLHQpe2Zvcih2YXIgcj0wO3J8PTEmZSxlPj4+PTEscjw8PTEsMDwtLXQ7KTtyZXR1cm4gcj4+PjF9ZnVuY3Rpb24gVShlLHQscil7dmFyIG4sYSxpPW5ldyBBcnJheShwKzEpLG89MDtmb3Iobj0xO248PXA7bisrKWlbbl09bz1vK3Jbbi0xXTw8MTtmb3IoYT0wO2E8PXQ7YSsrKXt2YXIgcz1lWzIqYSsxXTswIT09cyYmKGVbMiphXT1EKGlbc10rKyxzKSk7fX1mdW5jdGlvbiBXKGUpe3ZhciB0O2Zvcih0PTA7dDxjO3QrKyllLmR5bl9sdHJlZVsyKnRdPTA7Zm9yKHQ9MDt0PGg7dCsrKWUuZHluX2R0cmVlWzIqdF09MDtmb3IodD0wO3Q8Zjt0KyspZS5ibF90cmVlWzIqdF09MDtlLmR5bl9sdHJlZVsyKmddPTEsZS5vcHRfbGVuPWUuc3RhdGljX2xlbj0wLGUubGFzdF9saXQ9ZS5tYXRjaGVzPTA7fWZ1bmN0aW9uIEcoZSl7ODxlLmJpX3ZhbGlkP1IoZSxlLmJpX2J1Zik6MDxlLmJpX3ZhbGlkJiYoZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109ZS5iaV9idWYpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wO31mdW5jdGlvbiBaKGUsdCxyLG4pe3ZhciBhPTIqdCxpPTIqcjtyZXR1cm4gZVthXTxlW2ldfHxlW2FdPT09ZVtpXSYmblt0XTw9bltyXX1mdW5jdGlvbiBWKGUsdCxyKXtmb3IodmFyIG49ZS5oZWFwW3JdLGE9cjw8MTthPD1lLmhlYXBfbGVuJiYoYTxlLmhlYXBfbGVuJiZaKHQsZS5oZWFwW2ErMV0sZS5oZWFwW2FdLGUuZGVwdGgpJiZhKyssIVoodCxuLGUuaGVhcFthXSxlLmRlcHRoKSk7KWUuaGVhcFtyXT1lLmhlYXBbYV0scj1hLGE8PD0xO2UuaGVhcFtyXT1uO31mdW5jdGlvbiBIKGUsdCxyKXt2YXIgbixhLGksbyxzPTA7aWYoMCE9PWUubGFzdF9saXQpZm9yKDtuPWUucGVuZGluZ19idWZbZS5kX2J1ZisyKnNdPDw4fGUucGVuZGluZ19idWZbZS5kX2J1ZisyKnMrMV0sYT1lLnBlbmRpbmdfYnVmW2UubF9idWYrc10scysrLDA9PT1uP0IoZSxhLHQpOihCKGUsKGk9UFthXSkrdSsxLHQpLDAhPT0obz13W2ldKSYmRihlLGEtPUVbaV0sbyksQihlLGk9SSgtLW4pLHIpLDAhPT0obz14W2ldKSYmRihlLG4tPU1baV0sbykpLHM8ZS5sYXN0X2xpdDspO0IoZSxnLHQpO31mdW5jdGlvbiBxKGUsdCl7dmFyIHIsbixhLGk9dC5keW5fdHJlZSxvPXQuc3RhdF9kZXNjLnN0YXRpY190cmVlLHM9dC5zdGF0X2Rlc2MuaGFzX3N0cmVlLGw9dC5zdGF0X2Rlc2MuZWxlbXMsdT0tMTtmb3IoZS5oZWFwX2xlbj0wLGUuaGVhcF9tYXg9ZCxyPTA7cjxsO3IrKykwIT09aVsyKnJdPyhlLmhlYXBbKytlLmhlYXBfbGVuXT11PXIsZS5kZXB0aFtyXT0wKTppWzIqcisxXT0wO2Zvcig7ZS5oZWFwX2xlbjwyOylpWzIqKGE9ZS5oZWFwWysrZS5oZWFwX2xlbl09dTwyPysrdTowKV09MSxlLmRlcHRoW2FdPTAsZS5vcHRfbGVuLS0scyYmKGUuc3RhdGljX2xlbi09b1syKmErMV0pO2Zvcih0Lm1heF9jb2RlPXUscj1lLmhlYXBfbGVuPj4xOzE8PXI7ci0tKVYoZSxpLHIpO2ZvcihhPWw7cj1lLmhlYXBbMV0sZS5oZWFwWzFdPWUuaGVhcFtlLmhlYXBfbGVuLS1dLFYoZSxpLDEpLG49ZS5oZWFwWzFdLGUuaGVhcFstLWUuaGVhcF9tYXhdPXIsZS5oZWFwWy0tZS5oZWFwX21heF09bixpWzIqYV09aVsyKnJdK2lbMipuXSxlLmRlcHRoW2FdPShlLmRlcHRoW3JdPj1lLmRlcHRoW25dP2UuZGVwdGhbcl06ZS5kZXB0aFtuXSkrMSxpWzIqcisxXT1pWzIqbisxXT1hLGUuaGVhcFsxXT1hKyssVihlLGksMSksMjw9ZS5oZWFwX2xlbjspO2UuaGVhcFstLWUuaGVhcF9tYXhdPWUuaGVhcFsxXSxmdW5jdGlvbihlLHQpe3ZhciByLG4sYSxpLG8scyxsPXQuZHluX3RyZWUsdT10Lm1heF9jb2RlLGM9dC5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsaD10LnN0YXRfZGVzYy5oYXNfc3RyZWUsZj10LnN0YXRfZGVzYy5leHRyYV9iaXRzLHk9dC5zdGF0X2Rlc2MuZXh0cmFfYmFzZSxtPXQuc3RhdF9kZXNjLm1heF9sZW5ndGgsZz0wO2ZvcihpPTA7aTw9cDtpKyspZS5ibF9jb3VudFtpXT0wO2ZvcihsWzIqZS5oZWFwW2UuaGVhcF9tYXhdKzFdPTAscj1lLmhlYXBfbWF4KzE7cjxkO3IrKyltPChpPWxbMipsWzIqKG49ZS5oZWFwW3JdKSsxXSsxXSsxKSYmKGk9bSxnKyspLGxbMipuKzFdPWksdTxufHwoZS5ibF9jb3VudFtpXSsrLG89MCx5PD1uJiYobz1mW24teV0pLHM9bFsyKm5dLGUub3B0X2xlbis9cyooaStvKSxoJiYoZS5zdGF0aWNfbGVuKz1zKihjWzIqbisxXStvKSkpO2lmKDAhPT1nKXtkb3tmb3IoaT1tLTE7MD09PWUuYmxfY291bnRbaV07KWktLTtlLmJsX2NvdW50W2ldLS0sZS5ibF9jb3VudFtpKzFdKz0yLGUuYmxfY291bnRbbV0tLSxnLT0yO313aGlsZSgwPGcpO2ZvcihpPW07MCE9PWk7aS0tKWZvcihuPWUuYmxfY291bnRbaV07MCE9PW47KXU8KGE9ZS5oZWFwWy0tcl0pfHwobFsyKmErMV0hPT1pJiYoZS5vcHRfbGVuKz0oaS1sWzIqYSsxXSkqbFsyKmFdLGxbMiphKzFdPWkpLG4tLSk7fX0oZSx0KSxVKGksdSxlLmJsX2NvdW50KTt9ZnVuY3Rpb24gSyhlLHQscil7dmFyIG4sYSxpPS0xLG89dFsxXSxzPTAsbD03LHU9NDtmb3IoMD09PW8mJihsPTEzOCx1PTMpLHRbMioocisxKSsxXT02NTUzNSxuPTA7bjw9cjtuKyspYT1vLG89dFsyKihuKzEpKzFdLCsrczxsJiZhPT09b3x8KHM8dT9lLmJsX3RyZWVbMiphXSs9czowIT09YT8oYSE9PWkmJmUuYmxfdHJlZVsyKmFdKyssZS5ibF90cmVlWzIqdl0rKyk6czw9MTA/ZS5ibF90cmVlWzIqX10rKzplLmJsX3RyZWVbMipiXSsrLGk9YSx1PShzPTApPT09bz8obD0xMzgsMyk6YT09PW8/KGw9NiwzKToobD03LDQpKTt9ZnVuY3Rpb24gWChlLHQscil7dmFyIG4sYSxpPS0xLG89dFsxXSxzPTAsbD03LHU9NDtmb3IoMD09PW8mJihsPTEzOCx1PTMpLG49MDtuPD1yO24rKylpZihhPW8sbz10WzIqKG4rMSkrMV0sISgrK3M8bCYmYT09PW8pKXtpZihzPHUpZm9yKDtCKGUsYSxlLmJsX3RyZWUpLDAhPS0tczspO2Vsc2UgMCE9PWE/KGEhPT1pJiYoQihlLGEsZS5ibF90cmVlKSxzLS0pLEIoZSx2LGUuYmxfdHJlZSksRihlLHMtMywyKSk6czw9MTA/KEIoZSxfLGUuYmxfdHJlZSksRihlLHMtMywzKSk6KEIoZSxiLGUuYmxfdHJlZSksRihlLHMtMTEsNykpO2k9YSx1PShzPTApPT09bz8obD0xMzgsMyk6YT09PW8/KGw9NiwzKToobD03LDQpO319byhNKTt2YXIgWT0hMTtmdW5jdGlvbiAkKGUsdCxyLGEpe0YoZSwoczw8MSkrKGE/MTowKSwzKSxmdW5jdGlvbihlLHQscixhKXtHKGUpLGEmJihSKGUsciksUihlLH5yKSksbi5hcnJheVNldChlLnBlbmRpbmdfYnVmLGUud2luZG93LHQscixlLnBlbmRpbmcpLGUucGVuZGluZys9cjt9KGUsdCxyLCEwKTt9ci5fdHJfaW5pdD1mdW5jdGlvbihlKXtZfHwoZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixhLGk9bmV3IEFycmF5KHArMSk7Zm9yKG49cj0wO248bC0xO24rKylmb3IoRVtuXT1yLGU9MDtlPDE8PHdbbl07ZSsrKVBbcisrXT1uO2ZvcihQW3ItMV09bixuPWE9MDtuPDE2O24rKylmb3IoTVtuXT1hLGU9MDtlPDE8PHhbbl07ZSsrKUNbYSsrXT1uO2ZvcihhPj49NztuPGg7bisrKWZvcihNW25dPWE8PDcsZT0wO2U8MTw8eFtuXS03O2UrKylDWzI1NithKytdPW47Zm9yKHQ9MDt0PD1wO3QrKylpW3RdPTA7Zm9yKGU9MDtlPD0xNDM7KU5bMiplKzFdPTgsZSsrLGlbOF0rKztmb3IoO2U8PTI1NTspTlsyKmUrMV09OSxlKyssaVs5XSsrO2Zvcig7ZTw9Mjc5OylOWzIqZSsxXT03LGUrKyxpWzddKys7Zm9yKDtlPD0yODc7KU5bMiplKzFdPTgsZSsrLGlbOF0rKztmb3IoVShOLGMrMSxpKSxlPTA7ZTxoO2UrKylPWzIqZSsxXT01LE9bMiplXT1EKGUsNSk7QT1uZXcgVChOLHcsdSsxLGMscCksaj1uZXcgVChPLHgsMCxoLHApLEw9bmV3IFQobmV3IEFycmF5KDApLGssMCxmLG0pO30oKSxZPSEwKSxlLmxfZGVzYz1uZXcgeihlLmR5bl9sdHJlZSxBKSxlLmRfZGVzYz1uZXcgeihlLmR5bl9kdHJlZSxqKSxlLmJsX2Rlc2M9bmV3IHooZS5ibF90cmVlLEwpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wLFcoZSk7fSxyLl90cl9zdG9yZWRfYmxvY2s9JCxyLl90cl9mbHVzaF9ibG9jaz1mdW5jdGlvbihlLHQscixuKXt2YXIgbyxzLGw9MDswPGUubGV2ZWw/KDI9PT1lLnN0cm0uZGF0YV90eXBlJiYoZS5zdHJtLmRhdGFfdHlwZT1mdW5jdGlvbihlKXt2YXIgdCxyPTQwOTM2MjQ0NDc7Zm9yKHQ9MDt0PD0zMTt0Kysscj4+Pj0xKWlmKDEmciYmMCE9PWUuZHluX2x0cmVlWzIqdF0pcmV0dXJuIGE7aWYoMCE9PWUuZHluX2x0cmVlWzE4XXx8MCE9PWUuZHluX2x0cmVlWzIwXXx8MCE9PWUuZHluX2x0cmVlWzI2XSlyZXR1cm4gaTtmb3IodD0zMjt0PHU7dCsrKWlmKDAhPT1lLmR5bl9sdHJlZVsyKnRdKXJldHVybiBpO3JldHVybiBhfShlKSkscShlLGUubF9kZXNjKSxxKGUsZS5kX2Rlc2MpLGw9ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKEsoZSxlLmR5bl9sdHJlZSxlLmxfZGVzYy5tYXhfY29kZSksSyhlLGUuZHluX2R0cmVlLGUuZF9kZXNjLm1heF9jb2RlKSxxKGUsZS5ibF9kZXNjKSx0PWYtMTszPD10JiYwPT09ZS5ibF90cmVlWzIqU1t0XSsxXTt0LS0pO3JldHVybiBlLm9wdF9sZW4rPTMqKHQrMSkrNSs1KzQsdH0oZSksbz1lLm9wdF9sZW4rMys3Pj4+Mywocz1lLnN0YXRpY19sZW4rMys3Pj4+Myk8PW8mJihvPXMpKTpvPXM9cis1LHIrNDw9byYmLTEhPT10PyQoZSx0LHIsbik6ND09PWUuc3RyYXRlZ3l8fHM9PT1vPyhGKGUsMisobj8xOjApLDMpLEgoZSxOLE8pKTooRihlLDQrKG4/MTowKSwzKSxmdW5jdGlvbihlLHQscixuKXt2YXIgYTtmb3IoRihlLHQtMjU3LDUpLEYoZSxyLTEsNSksRihlLG4tNCw0KSxhPTA7YTxuO2ErKylGKGUsZS5ibF90cmVlWzIqU1thXSsxXSwzKTtYKGUsZS5keW5fbHRyZWUsdC0xKSxYKGUsZS5keW5fZHRyZWUsci0xKTt9KGUsZS5sX2Rlc2MubWF4X2NvZGUrMSxlLmRfZGVzYy5tYXhfY29kZSsxLGwrMSksSChlLGUuZHluX2x0cmVlLGUuZHluX2R0cmVlKSksVyhlKSxuJiZHKGUpO30sci5fdHJfdGFsbHk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnBlbmRpbmdfYnVmW2UuZF9idWYrMiplLmxhc3RfbGl0XT10Pj4+OCYyNTUsZS5wZW5kaW5nX2J1ZltlLmRfYnVmKzIqZS5sYXN0X2xpdCsxXT0yNTUmdCxlLnBlbmRpbmdfYnVmW2UubF9idWYrZS5sYXN0X2xpdF09MjU1JnIsZS5sYXN0X2xpdCsrLDA9PT10P2UuZHluX2x0cmVlWzIqcl0rKzooZS5tYXRjaGVzKyssdC0tLGUuZHluX2x0cmVlWzIqKFBbcl0rdSsxKV0rKyxlLmR5bl9kdHJlZVsyKkkodCldKyspLGUubGFzdF9saXQ9PT1lLmxpdF9idWZzaXplLTF9LHIuX3RyX2FsaWduPWZ1bmN0aW9uKGUpe0YoZSwyLDMpLEIoZSxnLE4pLGZ1bmN0aW9uKGUpezE2PT09ZS5iaV92YWxpZD8oUihlLGUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCk6ODw9ZS5iaV92YWxpZCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZlLmJpX2J1ZixlLmJpX2J1Zj4+PTgsZS5iaV92YWxpZC09OCk7fShlKTt9O30seyIuLi91dGlscy9jb21tb24iOjQxfV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9IiIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wO307fSx7fV0sNTQ6W2Z1bmN0aW9uKHQscixuKXsoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCl7aWYoIWUuc2V0SW1tZWRpYXRlKXt2YXIgcixuLGEsaSxvPTEscz17fSxsPSExLHU9ZS5kb2N1bWVudCxjPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2M9YyYmYy5zZXRUaW1lb3V0P2M6ZSxyPSJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwoZS5wcm9jZXNzKT9mdW5jdGlvbihlKXtwcm9jZXNzLm5leHRUaWNrKChmdW5jdGlvbigpe2YoZSk7fSkpO306ZnVuY3Rpb24oKXtpZihlLnBvc3RNZXNzYWdlJiYhZS5pbXBvcnRTY3JpcHRzKXt2YXIgdD0hMCxyPWUub25tZXNzYWdlO3JldHVybiBlLm9ubWVzc2FnZT1mdW5jdGlvbigpe3Q9ITE7fSxlLnBvc3RNZXNzYWdlKCIiLCIqIiksZS5vbm1lc3NhZ2U9cix0fX0oKT8oaT0ic2V0SW1tZWRpYXRlJCIrTWF0aC5yYW5kb20oKSsiJCIsZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZCwhMSk6ZS5hdHRhY2hFdmVudCgib25tZXNzYWdlIixkKSxmdW5jdGlvbih0KXtlLnBvc3RNZXNzYWdlKGkrdCwiKiIpO30pOmUuTWVzc2FnZUNoYW5uZWw/KChhPW5ldyBNZXNzYWdlQ2hhbm5lbCkucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKGUpe2YoZS5kYXRhKTt9LGZ1bmN0aW9uKGUpe2EucG9ydDIucG9zdE1lc3NhZ2UoZSk7fSk6dSYmIm9ucmVhZHlzdGF0ZWNoYW5nZSJpbiB1LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpPyhuPXUuZG9jdW1lbnRFbGVtZW50LGZ1bmN0aW9uKGUpe3ZhciB0PXUuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7dC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtmKGUpLHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbi5yZW1vdmVDaGlsZCh0KSx0PW51bGw7fSxuLmFwcGVuZENoaWxkKHQpO30pOmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZiwwLGUpO30sYy5zZXRJbW1lZGlhdGU9ZnVuY3Rpb24oZSl7ImZ1bmN0aW9uIiE9dHlwZW9mIGUmJihlPW5ldyBGdW5jdGlvbigiIitlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuKzFdO3ZhciBhPXtjYWxsYmFjazplLGFyZ3M6dH07cmV0dXJuIHNbb109YSxyKG8pLG8rK30sYy5jbGVhckltbWVkaWF0ZT1oO31mdW5jdGlvbiBoKGUpe2RlbGV0ZSBzW2VdO31mdW5jdGlvbiBmKGUpe2lmKGwpc2V0VGltZW91dChmLDAsZSk7ZWxzZSB7dmFyIHI9c1tlXTtpZihyKXtsPSEwO3RyeXshZnVuY3Rpb24oZSl7dmFyIHI9ZS5jYWxsYmFjayxuPWUuYXJncztzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDpyKCk7YnJlYWs7Y2FzZSAxOnIoblswXSk7YnJlYWs7Y2FzZSAyOnIoblswXSxuWzFdKTticmVhaztjYXNlIDM6cihuWzBdLG5bMV0sblsyXSk7YnJlYWs7ZGVmYXVsdDpyLmFwcGx5KHQsbik7fX0ocik7fWZpbmFsbHl7aChlKSxsPSExO319fX1mdW5jdGlvbiBkKHQpe3Quc291cmNlPT09ZSYmInN0cmluZyI9PXR5cGVvZiB0LmRhdGEmJjA9PT10LmRhdGEuaW5kZXhPZihpKSYmZigrdC5kYXRhLnNsaWNlKGkubGVuZ3RoKSk7fX0oInVuZGVmaW5lZCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PWU/dGhpczplOnNlbGYpO30pLmNhbGwodGhpcyx2b2lkIDAhPT1lP2U6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KTt9LHt9XX0se30sWzEwXSkoMTApKSxzPShhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dDt9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTt9LGEoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyh0KSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lO31hKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpO30pOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7cmV0dXJuIGUuY2FsbCh0aGlzLHQscil8fHRoaXN9cyh0LGUpLHQuZnJvbURhdGE9ZnVuY3Rpb24oZSl7dmFyIHI9TmFOLG49TmFOLGE9bmV3IFNldChbInkiXSksaT1uZXcgU2V0KFsieCJdKTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG89dC50b0xvd2VyQ2FzZSgpO2lzTmFOKHIpJiZhLmhhcyhvKSYmIm51bWJlciI9PXR5cGVvZiBlW3RdP3I9ZVt0XTppc05hTihuKSYmaS5oYXMobykmJiJudW1iZXIiPT10eXBlb2YgZVt0XSYmKG49ZVt0XSk7fSkpLGlzTmFOKHIpfHxpc05hTihuKT9udWxsOm5ldyB0KHIsbil9LHQuZ2V0WD1mdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGg+MD9lWzBdOk5hTn0sdC5nZXRZPWZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aD4xP2VbMV06TmFOfSx0LmdldERlc3RpbmF0aW9uPWZ1bmN0aW9uKGUscixuKXtyZXR1cm4gbmV3IHQodC5nZXRYKGUpK24qTWF0aC5jb3MoKHIrMjcwKSpNYXRoLlBJLzE4MCksdC5nZXRZKGUpK24qTWF0aC5zaW4oKHIrMjcwKSpNYXRoLlBJLzE4MCkpfSx0LmdldERpc3RhbmNlPWZ1bmN0aW9uKGUscil7dmFyIG49dC5nZXRYKGUpLXQuZ2V0WChyKSxhPXQuZ2V0WShlKS10LmdldFkocik7cmV0dXJuIE1hdGguc3FydChuKm4rYSphKX0sdC5nZXRIZWFkaW5nPWZ1bmN0aW9uKGUscil7dmFyIG49dC5nZXRYKHIpLXQuZ2V0WChlKSxhPXQuZ2V0WShlKS10LmdldFkocik7cmV0dXJuIDE4MCooMi41Kk1hdGguUEktTWF0aC5hdGFuMihhLG4pKS9NYXRoLlBJJTM2MH07fShBcnJheSk7dmFyIGw9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPVtdLHRoaXMuc2l6ZT0wO307dmFyIHU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGUhPWUmJnQhPXR9LGM9dTt2YXIgaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KWlmKGMoZVtyXVswXSx0KSlyZXR1cm4gcjtyZXR1cm4gLTF9LGY9aCxkPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7dmFyIHA9aDt2YXIgeT1oO3ZhciBtPWg7dmFyIGc9bCx2PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX18scj1mKHQsZSk7cmV0dXJuICEocjwwKSYmKHI9PXQubGVuZ3RoLTE/dC5wb3AoKTpkLmNhbGwodCxyLDEpLC0tdGhpcy5zaXplLCEwKX0sXz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLHI9cCh0LGUpO3JldHVybiByPDA/dm9pZCAwOnRbcl1bMV19LGI9ZnVuY3Rpb24oZSl7cmV0dXJuIHkodGhpcy5fX2RhdGFfXyxlKT4tMX0sdz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX19kYXRhX18sbj1tKHIsZSk7cmV0dXJuIG48MD8oKyt0aGlzLnNpemUsci5wdXNoKFtlLHRdKSk6cltuXVsxXT10LHRoaXN9O2Z1bmN0aW9uIHgoZSl7dmFyIHQ9LTEscj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8cjspe3ZhciBuPWVbdF07dGhpcy5zZXQoblswXSxuWzFdKTt9fXgucHJvdG90eXBlLmNsZWFyPWcseC5wcm90b3R5cGUuZGVsZXRlPXYseC5wcm90b3R5cGUuZ2V0PV8seC5wcm90b3R5cGUuaGFzPWIseC5wcm90b3R5cGUuc2V0PXc7dmFyIGs9eCxTPWs7dmFyIE49ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPW5ldyBTLHRoaXMuc2l6ZT0wO307dmFyIE89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxyPXQuZGVsZXRlKGUpO3JldHVybiB0aGlzLnNpemU9dC5zaXplLHJ9O3ZhciBDPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldChlKX07dmFyIFA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGUpfSxFPSJvYmplY3QiPT10eXBlb2YgZSYmZSYmZS5PYmplY3Q9PT1PYmplY3QmJmUsQT1FLGo9Im9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixMPUF8fGp8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCksTT1MLlN5bWJvbCxUPU0sej1PYmplY3QucHJvdG90eXBlLEk9ei5oYXNPd25Qcm9wZXJ0eSxSPXoudG9TdHJpbmcsRj1UP1QudG9TdHJpbmdUYWc6dm9pZCAwO3ZhciBCPWZ1bmN0aW9uKGUpe3ZhciB0PUkuY2FsbChlLEYpLHI9ZVtGXTt0cnl7ZVtGXT12b2lkIDA7dmFyIG49ITA7fWNhdGNoKGUpe312YXIgYT1SLmNhbGwoZSk7cmV0dXJuIG4mJih0P2VbRl09cjpkZWxldGUgZVtGXSksYX0sRD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3ZhciBVPUIsVz1mdW5jdGlvbihlKXtyZXR1cm4gRC5jYWxsKGUpfSxHPU0/TS50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIFo9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/dm9pZCAwPT09ZT8iW29iamVjdCBVbmRlZmluZWRdIjoiW29iamVjdCBOdWxsXSI6RyYmRyBpbiBPYmplY3QoZSk/VShlKTpXKGUpfTt2YXIgVj1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4gbnVsbCE9ZSYmKCJvYmplY3QiPT10fHwiZnVuY3Rpb24iPT10KX0sSD1aLHE9Vjt2YXIgSyxYPWZ1bmN0aW9uKGUpe2lmKCFxKGUpKXJldHVybiAhMTt2YXIgdD1IKGUpO3JldHVybiAiW29iamVjdCBGdW5jdGlvbl0iPT10fHwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0iPT10fHwiW29iamVjdCBBc3luY0Z1bmN0aW9uXSI9PXR8fCJbb2JqZWN0IFByb3h5XSI9PXR9LFk9TFsiX19jb3JlLWpzX3NoYXJlZF9fIl0sJD0oSz0vW14uXSskLy5leGVjKFkmJlkua2V5cyYmWS5rZXlzLklFX1BST1RPfHwiIikpPyJTeW1ib2woc3JjKV8xLiIrSzoiIjt2YXIgSj1mdW5jdGlvbihlKXtyZXR1cm4gISEkJiYkIGluIGV9LFE9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO3ZhciBlZT1mdW5jdGlvbihlKXtpZihudWxsIT1lKXt0cnl7cmV0dXJuIFEuY2FsbChlKX1jYXRjaChlKXt9dHJ5e3JldHVybiBlKyIifWNhdGNoKGUpe319cmV0dXJuICIifSx0ZT1YLHJlPUosbmU9VixhZT1lZSxpZT0vXlxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXF0kLyxvZT1GdW5jdGlvbi5wcm90b3R5cGUsc2U9T2JqZWN0LnByb3RvdHlwZSxsZT1vZS50b1N0cmluZyx1ZT1zZS5oYXNPd25Qcm9wZXJ0eSxjZT1SZWdFeHAoIl4iK2xlLmNhbGwodWUpLnJlcGxhY2UoL1tcXF4kLiorPygpW1xde318XS9nLCJcXCQmIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXCgpfCBmb3IgLis/KD89XFxcXSkvZywiJDEuKj8iKSsiJCIpO3ZhciBoZT1mdW5jdGlvbihlKXtyZXR1cm4gISghbmUoZSl8fHJlKGUpKSYmKHRlKGUpP2NlOmllKS50ZXN0KGFlKGUpKX0sZmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX07dmFyIGRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZmUoZSx0KTtyZXR1cm4gaGUocik/cjp2b2lkIDB9LHBlPWRlKEwsIk1hcCIpLHllPWRlKE9iamVjdCwiY3JlYXRlIiksbWU9eWU7dmFyIGdlPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1tZT9tZShudWxsKTp7fSx0aGlzLnNpemU9MDt9O3ZhciB2ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmhhcyhlKSYmZGVsZXRlIHRoaXMuX19kYXRhX19bZV07cmV0dXJuIHRoaXMuc2l6ZS09dD8xOjAsdH0sX2U9eWUsYmU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgd2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztpZihfZSl7dmFyIHI9dFtlXTtyZXR1cm4gIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18iPT09cj92b2lkIDA6cn1yZXR1cm4gYmUuY2FsbCh0LGUpP3RbZV06dm9pZCAwfSx4ZT15ZSxrZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBTZT15ZTt2YXIgTmU9Z2UsT2U9dmUsQ2U9d2UsUGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztyZXR1cm4geGU/dm9pZCAwIT09dFtlXTprZS5jYWxsKHQsZSl9LEVlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyhlKT8wOjEscltlXT1TZSYmdm9pZCAwPT09dD8iX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyI6dCx0aGlzfTtmdW5jdGlvbiBBZShlKXt2YXIgdD0tMSxyPW51bGw9PWU/MDplLmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrdDxyOyl7dmFyIG49ZVt0XTt0aGlzLnNldChuWzBdLG5bMV0pO319QWUucHJvdG90eXBlLmNsZWFyPU5lLEFlLnByb3RvdHlwZS5kZWxldGU9T2UsQWUucHJvdG90eXBlLmdldD1DZSxBZS5wcm90b3R5cGUuaGFzPVBlLEFlLnByb3RvdHlwZS5zZXQ9RWU7dmFyIGplPUFlLExlPWssTWU9cGU7dmFyIFRlPWZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiAic3RyaW5nIj09dHx8Im51bWJlciI9PXR8fCJzeW1ib2wiPT10fHwiYm9vbGVhbiI9PXQ/Il9fcHJvdG9fXyIhPT1lOm51bGw9PT1lfTt2YXIgemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLl9fZGF0YV9fO3JldHVybiBUZSh0KT9yWyJzdHJpbmciPT10eXBlb2YgdD8ic3RyaW5nIjoiaGFzaCJdOnIubWFwfSxJZT16ZTt2YXIgUmU9emU7dmFyIEZlPXplO3ZhciBCZT16ZTt2YXIgRGU9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBqZSxtYXA6bmV3KE1lfHxMZSksc3RyaW5nOm5ldyBqZX07fSxVZT1mdW5jdGlvbihlKXt2YXIgdD1JZSh0aGlzLGUpLmRlbGV0ZShlKTtyZXR1cm4gdGhpcy5zaXplLT10PzE6MCx0fSxXZT1mdW5jdGlvbihlKXtyZXR1cm4gUmUodGhpcyxlKS5nZXQoZSl9LEdlPWZ1bmN0aW9uKGUpe3JldHVybiBGZSh0aGlzLGUpLmhhcyhlKX0sWmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1CZSh0aGlzLGUpLG49ci5zaXplO3JldHVybiByLnNldChlLHQpLHRoaXMuc2l6ZSs9ci5zaXplPT1uPzA6MSx0aGlzfTtmdW5jdGlvbiBWZShlKXt2YXIgdD0tMSxyPW51bGw9PWU/MDplLmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrdDxyOyl7dmFyIG49ZVt0XTt0aGlzLnNldChuWzBdLG5bMV0pO319VmUucHJvdG90eXBlLmNsZWFyPURlLFZlLnByb3RvdHlwZS5kZWxldGU9VWUsVmUucHJvdG90eXBlLmdldD1XZSxWZS5wcm90b3R5cGUuaGFzPUdlLFZlLnByb3RvdHlwZS5zZXQ9WmU7dmFyIEhlPVZlLHFlPWssS2U9cGUsWGU9SGU7dmFyIFllPWssJGU9TixKZT1PLFFlPUMsZXQ9UCx0dD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX19kYXRhX187aWYociBpbnN0YW5jZW9mIHFlKXt2YXIgbj1yLl9fZGF0YV9fO2lmKCFLZXx8bi5sZW5ndGg8MTk5KXJldHVybiBuLnB1c2goW2UsdF0pLHRoaXMuc2l6ZT0rK3Iuc2l6ZSx0aGlzO3I9dGhpcy5fX2RhdGFfXz1uZXcgWGUobik7fXJldHVybiByLnNldChlLHQpLHRoaXMuc2l6ZT1yLnNpemUsdGhpc307ZnVuY3Rpb24gcnQoZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXz1uZXcgWWUoZSk7dGhpcy5zaXplPXQuc2l6ZTt9cnQucHJvdG90eXBlLmNsZWFyPSRlLHJ0LnByb3RvdHlwZS5kZWxldGU9SmUscnQucHJvdG90eXBlLmdldD1RZSxydC5wcm90b3R5cGUuaGFzPWV0LHJ0LnByb3RvdHlwZS5zZXQ9dHQ7dmFyIG50PXJ0O3ZhciBhdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0tMSxuPW51bGw9PWU/MDplLmxlbmd0aDsrK3I8biYmITEhPT10KGVbcl0scixlKTspO3JldHVybiBlfSxpdD1kZSxvdD1mdW5jdGlvbigpe3RyeXt2YXIgZT1pdChPYmplY3QsImRlZmluZVByb3BlcnR5Iik7cmV0dXJuIGUoe30sIiIse30pLGV9Y2F0Y2goZSl7fX0oKSxzdD1vdDt2YXIgbHQ9ZnVuY3Rpb24oZSx0LHIpeyJfX3Byb3RvX18iPT10JiZzdD9zdChlLHQse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOnIsd3JpdGFibGU6ITB9KTplW3RdPXI7fSx1dD1sdCxjdD11LGh0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGZ0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lW3RdO2h0LmNhbGwoZSx0KSYmY3QobixyKSYmKHZvaWQgMCE9PXJ8fHQgaW4gZSl8fHV0KGUsdCxyKTt9LGR0PWZ0LHB0PWx0O3ZhciB5dD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT0hcjtyfHwocj17fSk7Zm9yKHZhciBpPS0xLG89dC5sZW5ndGg7KytpPG87KXt2YXIgcz10W2ldLGw9bj9uKHJbc10sZVtzXSxzLHIsZSk6dm9pZCAwO3ZvaWQgMD09PWwmJihsPWVbc10pLGE/cHQocixzLGwpOmR0KHIscyxsKTt9cmV0dXJuIHJ9O3ZhciBtdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0tMSxuPUFycmF5KGUpOysrcjxlOyluW3JdPXQocik7cmV0dXJuIG59O3ZhciBndD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmIm9iamVjdCI9PXR5cGVvZiBlfSx2dD1aLF90PWd0O3ZhciBidD1mdW5jdGlvbihlKXtyZXR1cm4gX3QoZSkmJiJbb2JqZWN0IEFyZ3VtZW50c10iPT12dChlKX0sd3Q9Z3QseHQ9T2JqZWN0LnByb3RvdHlwZSxrdD14dC5oYXNPd25Qcm9wZXJ0eSxTdD14dC5wcm9wZXJ0eUlzRW51bWVyYWJsZSxOdD1idChmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP2J0OmZ1bmN0aW9uKGUpe3JldHVybiB3dChlKSYma3QuY2FsbChlLCJjYWxsZWUiKSYmIVN0LmNhbGwoZSwiY2FsbGVlIil9LE90PUFycmF5LmlzQXJyYXksQ3Q9e2V4cG9ydHM6e319O3ZhciBQdD1mdW5jdGlvbigpe3JldHVybiAhMX07IWZ1bmN0aW9uKGUsdCl7dmFyIHI9TCxuPVB0LGE9dCYmIXQubm9kZVR5cGUmJnQsaT1hJiZlJiYhZS5ub2RlVHlwZSYmZSxvPWkmJmkuZXhwb3J0cz09PWE/ci5CdWZmZXI6dm9pZCAwLHM9KG8/by5pc0J1ZmZlcjp2b2lkIDApfHxuO2UuZXhwb3J0cz1zO30oQ3QsQ3QuZXhwb3J0cyk7dmFyIEV0PUN0LmV4cG9ydHMsQXQ9L14oPzowfFsxLTldXGQqKSQvO3ZhciBqdD1mdW5jdGlvbihlLHQpe3ZhciByPXR5cGVvZiBlO3JldHVybiAhISh0PW51bGw9PXQ/OTAwNzE5OTI1NDc0MDk5MTp0KSYmKCJudW1iZXIiPT1yfHwic3ltYm9sIiE9ciYmQXQudGVzdChlKSkmJmU+LTEmJmUlMT09MCYmZTx0fTt2YXIgTHQ9ZnVuY3Rpb24oZSl7cmV0dXJuICJudW1iZXIiPT10eXBlb2YgZSYmZT4tMSYmZSUxPT0wJiZlPD05MDA3MTk5MjU0NzQwOTkxfSxNdD1aLFR0PUx0LHp0PWd0LEl0PXt9O0l0WyJbb2JqZWN0IEZsb2F0MzJBcnJheV0iXT1JdFsiW29iamVjdCBGbG9hdDY0QXJyYXldIl09SXRbIltvYmplY3QgSW50OEFycmF5XSJdPUl0WyJbb2JqZWN0IEludDE2QXJyYXldIl09SXRbIltvYmplY3QgSW50MzJBcnJheV0iXT1JdFsiW29iamVjdCBVaW50OEFycmF5XSJdPUl0WyJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSJdPUl0WyJbb2JqZWN0IFVpbnQxNkFycmF5XSJdPUl0WyJbb2JqZWN0IFVpbnQzMkFycmF5XSJdPSEwLEl0WyJbb2JqZWN0IEFyZ3VtZW50c10iXT1JdFsiW29iamVjdCBBcnJheV0iXT1JdFsiW29iamVjdCBBcnJheUJ1ZmZlcl0iXT1JdFsiW29iamVjdCBCb29sZWFuXSJdPUl0WyJbb2JqZWN0IERhdGFWaWV3XSJdPUl0WyJbb2JqZWN0IERhdGVdIl09SXRbIltvYmplY3QgRXJyb3JdIl09SXRbIltvYmplY3QgRnVuY3Rpb25dIl09SXRbIltvYmplY3QgTWFwXSJdPUl0WyJbb2JqZWN0IE51bWJlcl0iXT1JdFsiW29iamVjdCBPYmplY3RdIl09SXRbIltvYmplY3QgUmVnRXhwXSJdPUl0WyJbb2JqZWN0IFNldF0iXT1JdFsiW29iamVjdCBTdHJpbmddIl09SXRbIltvYmplY3QgV2Vha01hcF0iXT0hMTt2YXIgUnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHp0KGUpJiZUdChlLmxlbmd0aCkmJiEhSXRbTXQoZSldfTt2YXIgRnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfX0sQnQ9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlLHQpe3ZhciByPUUsbj10JiYhdC5ub2RlVHlwZSYmdCxhPW4mJmUmJiFlLm5vZGVUeXBlJiZlLGk9YSYmYS5leHBvcnRzPT09biYmci5wcm9jZXNzLG89ZnVuY3Rpb24oKXt0cnl7dmFyIGU9YSYmYS5yZXF1aXJlJiZhLnJlcXVpcmUoInV0aWwiKS50eXBlcztyZXR1cm4gZXx8aSYmaS5iaW5kaW5nJiZpLmJpbmRpbmcoInV0aWwiKX1jYXRjaChlKXt9fSgpO2UuZXhwb3J0cz1vO30oQnQsQnQuZXhwb3J0cyk7dmFyIER0PUJ0LmV4cG9ydHMsVXQ9UnQsV3Q9RnQsR3Q9RHQmJkR0LmlzVHlwZWRBcnJheSxadD1HdD9XdChHdCk6VXQsVnQ9bXQsSHQ9TnQscXQ9T3QsS3Q9RXQsWHQ9anQsWXQ9WnQsJHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgSnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1xdChlKSxuPSFyJiZIdChlKSxhPSFyJiYhbiYmS3QoZSksaT0hciYmIW4mJiFhJiZZdChlKSxvPXJ8fG58fGF8fGkscz1vP1Z0KGUubGVuZ3RoLFN0cmluZyk6W10sbD1zLmxlbmd0aDtmb3IodmFyIHUgaW4gZSkhdCYmISR0LmNhbGwoZSx1KXx8byYmKCJsZW5ndGgiPT11fHxhJiYoIm9mZnNldCI9PXV8fCJwYXJlbnQiPT11KXx8aSYmKCJidWZmZXIiPT11fHwiYnl0ZUxlbmd0aCI9PXV8fCJieXRlT2Zmc2V0Ij09dSl8fFh0KHUsbCkpfHxzLnB1c2godSk7cmV0dXJuIHN9LFF0PU9iamVjdC5wcm90b3R5cGU7dmFyIGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuY29uc3RydWN0b3I7cmV0dXJuIGU9PT0oImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQucHJvdG90eXBlfHxRdCl9O3ZhciB0cj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZSh0KHIpKX19LHJyPXRyKE9iamVjdC5rZXlzLE9iamVjdCksbnI9ZXIsYXI9cnIsaXI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgb3I9WCxzcj1MdDt2YXIgbHI9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJnNyKGUubGVuZ3RoKSYmIW9yKGUpfSx1cj1KdCxjcj1mdW5jdGlvbihlKXtpZighbnIoZSkpcmV0dXJuIGFyKGUpO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBPYmplY3QoZSkpaXIuY2FsbChlLHIpJiYiY29uc3RydWN0b3IiIT1yJiZ0LnB1c2gocik7cmV0dXJuIHR9LGhyPWxyO3ZhciBmcj1mdW5jdGlvbihlKXtyZXR1cm4gaHIoZSk/dXIoZSk6Y3IoZSl9LGRyPXl0LHByPWZyO3ZhciB5cj1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZkcih0LHByKHQpLGUpfTt2YXIgbXI9Vixncj1lcix2cj1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBPYmplY3QoZSkpdC5wdXNoKHIpO3JldHVybiB0fSxfcj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBicj1KdCx3cj1mdW5jdGlvbihlKXtpZighbXIoZSkpcmV0dXJuIHZyKGUpO3ZhciB0PWdyKGUpLHI9W107Zm9yKHZhciBuIGluIGUpKCJjb25zdHJ1Y3RvciIhPW58fCF0JiZfci5jYWxsKGUsbikpJiZyLnB1c2gobik7cmV0dXJuIHJ9LHhyPWxyO3ZhciBrcj1mdW5jdGlvbihlKXtyZXR1cm4geHIoZSk/YnIoZSwhMCk6d3IoZSl9LFNyPXl0LE5yPWtyO3ZhciBPcj1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZTcih0LE5yKHQpLGUpfSxDcj17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUsdCl7dmFyIHI9TCxuPXQmJiF0Lm5vZGVUeXBlJiZ0LGE9biYmZSYmIWUubm9kZVR5cGUmJmUsaT1hJiZhLmV4cG9ydHM9PT1uP3IuQnVmZmVyOnZvaWQgMCxvPWk/aS5hbGxvY1Vuc2FmZTp2b2lkIDA7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4gZS5zbGljZSgpO3ZhciByPWUubGVuZ3RoLG49bz9vKHIpOm5ldyBlLmNvbnN0cnVjdG9yKHIpO3JldHVybiBlLmNvcHkobiksbn07fShDcixDci5leHBvcnRzKTt2YXIgUHI9Q3IuZXhwb3J0czt2YXIgRXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj0tMSxuPWUubGVuZ3RoO2Zvcih0fHwodD1BcnJheShuKSk7KytyPG47KXRbcl09ZVtyXTtyZXR1cm4gdH07dmFyIEFyPWZ1bmN0aW9uKCl7cmV0dXJuIFtdfSxqcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0tMSxuPW51bGw9PWU/MDplLmxlbmd0aCxhPTAsaT1bXTsrK3I8bjspe3ZhciBvPWVbcl07dChvLHIsZSkmJihpW2ErK109byk7fXJldHVybiBpfSxMcj1BcixNcj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFRyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsenI9VHI/ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/W106KGU9T2JqZWN0KGUpLGpyKFRyKGUpLChmdW5jdGlvbih0KXtyZXR1cm4gTXIuY2FsbChlLHQpfSkpKX06THIsSXI9eXQsUnI9enI7dmFyIEZyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIElyKGUsUnIoZSksdCl9O3ZhciBCcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0tMSxuPXQubGVuZ3RoLGE9ZS5sZW5ndGg7KytyPG47KWVbYStyXT10W3JdO3JldHVybiBlfSxEcj10cihPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KSxVcj1CcixXcj1EcixHcj16cixacj1BcixWcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlOylVcih0LEdyKGUpKSxlPVdyKGUpO3JldHVybiB0fTpacixIcj15dCxxcj1Wcjt2YXIgS3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSHIoZSxxcihlKSx0KX0sWHI9QnIsWXI9T3Q7dmFyICRyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10KGUpO3JldHVybiBZcihlKT9uOlhyKG4scihlKSl9LEpyPSRyLFFyPXpyLGVuPWZyO3ZhciB0bj1mdW5jdGlvbihlKXtyZXR1cm4gSnIoZSxlbixRcil9LHJuPSRyLG5uPVZyLGFuPWtyO3ZhciBvbj1mdW5jdGlvbihlKXtyZXR1cm4gcm4oZSxhbixubil9LHNuPWRlKEwsIkRhdGFWaWV3IiksbG49cGUsdW49ZGUoTCwiUHJvbWlzZSIpLGNuPWRlKEwsIlNldCIpLGhuPWRlKEwsIldlYWtNYXAiKSxmbj1aLGRuPWVlLHBuPSJbb2JqZWN0IE1hcF0iLHluPSJbb2JqZWN0IFByb21pc2VdIixtbj0iW29iamVjdCBTZXRdIixnbj0iW29iamVjdCBXZWFrTWFwXSIsdm49IltvYmplY3QgRGF0YVZpZXddIixfbj1kbihzbiksYm49ZG4obG4pLHduPWRuKHVuKSx4bj1kbihjbiksa249ZG4oaG4pLFNuPWZuOyhzbiYmU24obmV3IHNuKG5ldyBBcnJheUJ1ZmZlcigxKSkpIT12bnx8bG4mJlNuKG5ldyBsbikhPXBufHx1biYmU24odW4ucmVzb2x2ZSgpKSE9eW58fGNuJiZTbihuZXcgY24pIT1tbnx8aG4mJlNuKG5ldyBobikhPWduKSYmKFNuPWZ1bmN0aW9uKGUpe3ZhciB0PWZuKGUpLHI9IltvYmplY3QgT2JqZWN0XSI9PXQ/ZS5jb25zdHJ1Y3Rvcjp2b2lkIDAsbj1yP2RuKHIpOiIiO2lmKG4pc3dpdGNoKG4pe2Nhc2UgX246cmV0dXJuIHZuO2Nhc2UgYm46cmV0dXJuIHBuO2Nhc2Ugd246cmV0dXJuIHluO2Nhc2UgeG46cmV0dXJuIG1uO2Nhc2Uga246cmV0dXJuIGdufXJldHVybiB0fSk7dmFyIE5uPVNuLE9uPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIENuPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoLHI9bmV3IGUuY29uc3RydWN0b3IodCk7cmV0dXJuIHQmJiJzdHJpbmciPT10eXBlb2YgZVswXSYmT24uY2FsbChlLCJpbmRleCIpJiYoci5pbmRleD1lLmluZGV4LHIuaW5wdXQ9ZS5pbnB1dCkscn0sUG49TC5VaW50OEFycmF5LEVuPVBuO3ZhciBBbj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZS5jb25zdHJ1Y3RvcihlLmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgRW4odCkuc2V0KG5ldyBFbihlKSksdH0sam49QW47dmFyIExuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dD9qbihlLmJ1ZmZlcik6ZS5idWZmZXI7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKHIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9LE1uPS9cdyokLzt2YXIgVG49ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoZS5zb3VyY2UsTW4uZXhlYyhlKSk7cmV0dXJuIHQubGFzdEluZGV4PWUubGFzdEluZGV4LHR9LHpuPU0/TS5wcm90b3R5cGU6dm9pZCAwLEluPXpuP3puLnZhbHVlT2Y6dm9pZCAwO3ZhciBSbj1Bbjt2YXIgRm49ZnVuY3Rpb24oZSx0KXt2YXIgcj10P1JuKGUuYnVmZmVyKTplLmJ1ZmZlcjtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IocixlLmJ5dGVPZmZzZXQsZS5sZW5ndGgpfSxCbj1BbixEbj1MbixVbj1UbixXbj1mdW5jdGlvbihlKXtyZXR1cm4gSW4/T2JqZWN0KEluLmNhbGwoZSkpOnt9fSxHbj1Gbjt2YXIgWm49ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuY29uc3RydWN0b3I7c3dpdGNoKHQpe2Nhc2UiW29iamVjdCBBcnJheUJ1ZmZlcl0iOnJldHVybiBCbihlKTtjYXNlIltvYmplY3QgQm9vbGVhbl0iOmNhc2UiW29iamVjdCBEYXRlXSI6cmV0dXJuIG5ldyBuKCtlKTtjYXNlIltvYmplY3QgRGF0YVZpZXddIjpyZXR1cm4gRG4oZSxyKTtjYXNlIltvYmplY3QgRmxvYXQzMkFycmF5XSI6Y2FzZSJbb2JqZWN0IEZsb2F0NjRBcnJheV0iOmNhc2UiW29iamVjdCBJbnQ4QXJyYXldIjpjYXNlIltvYmplY3QgSW50MTZBcnJheV0iOmNhc2UiW29iamVjdCBJbnQzMkFycmF5XSI6Y2FzZSJbb2JqZWN0IFVpbnQ4QXJyYXldIjpjYXNlIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIjpjYXNlIltvYmplY3QgVWludDE2QXJyYXldIjpjYXNlIltvYmplY3QgVWludDMyQXJyYXldIjpyZXR1cm4gR24oZSxyKTtjYXNlIltvYmplY3QgTWFwXSI6Y2FzZSJbb2JqZWN0IFNldF0iOnJldHVybiBuZXcgbjtjYXNlIltvYmplY3QgTnVtYmVyXSI6Y2FzZSJbb2JqZWN0IFN0cmluZ10iOnJldHVybiBuZXcgbihlKTtjYXNlIltvYmplY3QgUmVnRXhwXSI6cmV0dXJuIFVuKGUpO2Nhc2UiW29iamVjdCBTeW1ib2xdIjpyZXR1cm4gV24oZSl9fSxWbj1WLEhuPU9iamVjdC5jcmVhdGUscW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBmdW5jdGlvbih0KXtpZighVm4odCkpcmV0dXJuIHt9O2lmKEhuKXJldHVybiBIbih0KTtlLnByb3RvdHlwZT10O3ZhciByPW5ldyBlO3JldHVybiBlLnByb3RvdHlwZT12b2lkIDAscn19KCksS249RHIsWG49ZXI7dmFyIFluPWZ1bmN0aW9uKGUpe3JldHVybiAiZnVuY3Rpb24iIT10eXBlb2YgZS5jb25zdHJ1Y3Rvcnx8WG4oZSk/e306cW4oS24oZSkpfSwkbj1ObixKbj1ndDt2YXIgUW49ZnVuY3Rpb24oZSl7cmV0dXJuIEpuKGUpJiYiW29iamVjdCBNYXBdIj09JG4oZSl9LGVhPUZ0LHRhPUR0JiZEdC5pc01hcCxyYT10YT9lYSh0YSk6UW4sbmE9Tm4sYWE9Z3Q7dmFyIGlhPWZ1bmN0aW9uKGUpe3JldHVybiBhYShlKSYmIltvYmplY3QgU2V0XSI9PW5hKGUpfSxvYT1GdCxzYT1EdCYmRHQuaXNTZXQsbGE9c2E/b2Eoc2EpOmlhLHVhPW50LGNhPWF0LGhhPWZ0LGZhPXlyLGRhPU9yLHBhPVByLHlhPUVyLG1hPUZyLGdhPUtyLHZhPXRuLF9hPW9uLGJhPU5uLHdhPUNuLHhhPVpuLGthPVluLFNhPU90LE5hPUV0LE9hPXJhLENhPVYsUGE9bGEsRWE9ZnIsQWE9a3IsamE9IltvYmplY3QgQXJndW1lbnRzXSIsTGE9IltvYmplY3QgRnVuY3Rpb25dIixNYT0iW29iamVjdCBPYmplY3RdIixUYT17fTtUYVtqYV09VGFbIltvYmplY3QgQXJyYXldIl09VGFbIltvYmplY3QgQXJyYXlCdWZmZXJdIl09VGFbIltvYmplY3QgRGF0YVZpZXddIl09VGFbIltvYmplY3QgQm9vbGVhbl0iXT1UYVsiW29iamVjdCBEYXRlXSJdPVRhWyJbb2JqZWN0IEZsb2F0MzJBcnJheV0iXT1UYVsiW29iamVjdCBGbG9hdDY0QXJyYXldIl09VGFbIltvYmplY3QgSW50OEFycmF5XSJdPVRhWyJbb2JqZWN0IEludDE2QXJyYXldIl09VGFbIltvYmplY3QgSW50MzJBcnJheV0iXT1UYVsiW29iamVjdCBNYXBdIl09VGFbIltvYmplY3QgTnVtYmVyXSJdPVRhW01hXT1UYVsiW29iamVjdCBSZWdFeHBdIl09VGFbIltvYmplY3QgU2V0XSJdPVRhWyJbb2JqZWN0IFN0cmluZ10iXT1UYVsiW29iamVjdCBTeW1ib2xdIl09VGFbIltvYmplY3QgVWludDhBcnJheV0iXT1UYVsiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iXT1UYVsiW29iamVjdCBVaW50MTZBcnJheV0iXT1UYVsiW29iamVjdCBVaW50MzJBcnJheV0iXT0hMCxUYVsiW29iamVjdCBFcnJvcl0iXT1UYVtMYV09VGFbIltvYmplY3QgV2Vha01hcF0iXT0hMTt2YXIgemE9ZnVuY3Rpb24gZSh0LHIsbixhLGksbyl7dmFyIHMsbD0xJnIsdT0yJnIsYz00JnI7aWYobiYmKHM9aT9uKHQsYSxpLG8pOm4odCkpLHZvaWQgMCE9PXMpcmV0dXJuIHM7aWYoIUNhKHQpKXJldHVybiB0O3ZhciBoPVNhKHQpO2lmKGgpe2lmKHM9d2EodCksIWwpcmV0dXJuIHlhKHQscyl9ZWxzZSB7dmFyIGY9YmEodCksZD1mPT1MYXx8IltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dIj09ZjtpZihOYSh0KSlyZXR1cm4gcGEodCxsKTtpZihmPT1NYXx8Zj09amF8fGQmJiFpKXtpZihzPXV8fGQ/e306a2EodCksIWwpcmV0dXJuIHU/Z2EodCxkYShzLHQpKTptYSh0LGZhKHMsdCkpfWVsc2Uge2lmKCFUYVtmXSlyZXR1cm4gaT90Ont9O3M9eGEodCxmLGwpO319b3x8KG89bmV3IHVhKTt2YXIgcD1vLmdldCh0KTtpZihwKXJldHVybiBwO28uc2V0KHQscyksUGEodCk/dC5mb3JFYWNoKChmdW5jdGlvbihhKXtzLmFkZChlKGEscixuLGEsdCxvKSk7fSkpOk9hKHQpJiZ0LmZvckVhY2goKGZ1bmN0aW9uKGEsaSl7cy5zZXQoaSxlKGEscixuLGksdCxvKSk7fSkpO3ZhciB5PWg/dm9pZCAwOihjP3U/X2E6dmE6dT9BYTpFYSkodCk7cmV0dXJuIGNhKHl8fHQsKGZ1bmN0aW9uKGEsaSl7eSYmKGE9dFtpPWFdKSxoYShzLGksZShhLHIsbixpLHQsbykpO30pKSxzfSxJYT16YTt2YXIgUmE9dCgoZnVuY3Rpb24oZSl7cmV0dXJuIElhKGUsNSl9KSk7dmFyIEZhPUhlLEJhPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldChlLCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fIiksdGhpc30sRGE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGUpfTtmdW5jdGlvbiBVYShlKXt2YXIgdD0tMSxyPW51bGw9PWU/MDplLmxlbmd0aDtmb3IodGhpcy5fX2RhdGFfXz1uZXcgRmE7Kyt0PHI7KXRoaXMuYWRkKGVbdF0pO31VYS5wcm90b3R5cGUuYWRkPVVhLnByb3RvdHlwZS5wdXNoPUJhLFVhLnByb3RvdHlwZS5oYXM9RGE7dmFyIFdhPVVhLEdhPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoOysrcjxuOylpZih0KGVbcl0scixlKSlyZXR1cm4gITA7cmV0dXJuICExfSxaYT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmhhcyh0KX07dmFyIFZhPWZ1bmN0aW9uKGUsdCxyLG4sYSxpKXt2YXIgbz0xJnIscz1lLmxlbmd0aCxsPXQubGVuZ3RoO2lmKHMhPWwmJiEobyYmbD5zKSlyZXR1cm4gITE7dmFyIHU9aS5nZXQoZSksYz1pLmdldCh0KTtpZih1JiZjKXJldHVybiB1PT10JiZjPT1lO3ZhciBoPS0xLGY9ITAsZD0yJnI/bmV3IFdhOnZvaWQgMDtmb3IoaS5zZXQoZSx0KSxpLnNldCh0LGUpOysraDxzOyl7dmFyIHA9ZVtoXSx5PXRbaF07aWYobil2YXIgbT1vP24oeSxwLGgsdCxlLGkpOm4ocCx5LGgsZSx0LGkpO2lmKHZvaWQgMCE9PW0pe2lmKG0pY29udGludWU7Zj0hMTticmVha31pZihkKXtpZighR2EodCwoZnVuY3Rpb24oZSx0KXtpZighWmEoZCx0KSYmKHA9PT1lfHxhKHAsZSxyLG4saSkpKXJldHVybiBkLnB1c2godCl9KSkpe2Y9ITE7YnJlYWt9fWVsc2UgaWYocCE9PXkmJiFhKHAseSxyLG4saSkpe2Y9ITE7YnJlYWt9fXJldHVybiBpLmRlbGV0ZShlKSxpLmRlbGV0ZSh0KSxmfTt2YXIgSGE9UG4scWE9dSxLYT1WYSxYYT1mdW5jdGlvbihlKXt2YXIgdD0tMSxyPUFycmF5KGUuc2l6ZSk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtyWysrdF09W24sZV07fSkpLHJ9LFlhPWZ1bmN0aW9uKGUpe3ZhciB0PS0xLHI9QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyWysrdF09ZTt9KSkscn0sJGE9TT9NLnByb3RvdHlwZTp2b2lkIDAsSmE9JGE/JGEudmFsdWVPZjp2b2lkIDA7dmFyIFFhPWZ1bmN0aW9uKGUsdCxyLG4sYSxpLG8pe3N3aXRjaChyKXtjYXNlIltvYmplY3QgRGF0YVZpZXddIjppZihlLmJ5dGVMZW5ndGghPXQuYnl0ZUxlbmd0aHx8ZS5ieXRlT2Zmc2V0IT10LmJ5dGVPZmZzZXQpcmV0dXJuICExO2U9ZS5idWZmZXIsdD10LmJ1ZmZlcjtjYXNlIltvYmplY3QgQXJyYXlCdWZmZXJdIjpyZXR1cm4gIShlLmJ5dGVMZW5ndGghPXQuYnl0ZUxlbmd0aHx8IWkobmV3IEhhKGUpLG5ldyBIYSh0KSkpO2Nhc2UiW29iamVjdCBCb29sZWFuXSI6Y2FzZSJbb2JqZWN0IERhdGVdIjpjYXNlIltvYmplY3QgTnVtYmVyXSI6cmV0dXJuIHFhKCtlLCt0KTtjYXNlIltvYmplY3QgRXJyb3JdIjpyZXR1cm4gZS5uYW1lPT10Lm5hbWUmJmUubWVzc2FnZT09dC5tZXNzYWdlO2Nhc2UiW29iamVjdCBSZWdFeHBdIjpjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuIGU9PXQrIiI7Y2FzZSJbb2JqZWN0IE1hcF0iOnZhciBzPVhhO2Nhc2UiW29iamVjdCBTZXRdIjp2YXIgbD0xJm47aWYoc3x8KHM9WWEpLGUuc2l6ZSE9dC5zaXplJiYhbClyZXR1cm4gITE7dmFyIHU9by5nZXQoZSk7aWYodSlyZXR1cm4gdT09dDtufD0yLG8uc2V0KGUsdCk7dmFyIGM9S2EocyhlKSxzKHQpLG4sYSxpLG8pO3JldHVybiBvLmRlbGV0ZShlKSxjO2Nhc2UiW29iamVjdCBTeW1ib2xdIjppZihKYSlyZXR1cm4gSmEuY2FsbChlKT09SmEuY2FsbCh0KX1yZXR1cm4gITF9LGVpPXRuLHRpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIHJpPW50LG5pPVZhLGFpPVFhLGlpPWZ1bmN0aW9uKGUsdCxyLG4sYSxpKXt2YXIgbz0xJnIscz1laShlKSxsPXMubGVuZ3RoO2lmKGwhPWVpKHQpLmxlbmd0aCYmIW8pcmV0dXJuICExO2Zvcih2YXIgdT1sO3UtLTspe3ZhciBjPXNbdV07aWYoIShvP2MgaW4gdDp0aS5jYWxsKHQsYykpKXJldHVybiAhMX12YXIgaD1pLmdldChlKSxmPWkuZ2V0KHQpO2lmKGgmJmYpcmV0dXJuIGg9PXQmJmY9PWU7dmFyIGQ9ITA7aS5zZXQoZSx0KSxpLnNldCh0LGUpO2Zvcih2YXIgcD1vOysrdTxsOyl7dmFyIHk9ZVtjPXNbdV1dLG09dFtjXTtpZihuKXZhciBnPW8/bihtLHksYyx0LGUsaSk6bih5LG0sYyxlLHQsaSk7aWYoISh2b2lkIDA9PT1nP3k9PT1tfHxhKHksbSxyLG4saSk6Zykpe2Q9ITE7YnJlYWt9cHx8KHA9ImNvbnN0cnVjdG9yIj09Yyk7fWlmKGQmJiFwKXt2YXIgdj1lLmNvbnN0cnVjdG9yLF89dC5jb25zdHJ1Y3Rvcjt2PT1ffHwhKCJjb25zdHJ1Y3RvciJpbiBlKXx8ISgiY29uc3RydWN0b3IiaW4gdCl8fCJmdW5jdGlvbiI9PXR5cGVvZiB2JiZ2IGluc3RhbmNlb2YgdiYmImZ1bmN0aW9uIj09dHlwZW9mIF8mJl8gaW5zdGFuY2VvZiBffHwoZD0hMSk7fXJldHVybiBpLmRlbGV0ZShlKSxpLmRlbGV0ZSh0KSxkfSxvaT1ObixzaT1PdCxsaT1FdCx1aT1adCxjaT0iW29iamVjdCBBcmd1bWVudHNdIixoaT0iW29iamVjdCBBcnJheV0iLGZpPSJbb2JqZWN0IE9iamVjdF0iLGRpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIHBpPWZ1bmN0aW9uKGUsdCxyLG4sYSxpKXt2YXIgbz1zaShlKSxzPXNpKHQpLGw9bz9oaTpvaShlKSx1PXM/aGk6b2kodCksYz0obD1sPT1jaT9maTpsKT09ZmksaD0odT11PT1jaT9maTp1KT09ZmksZj1sPT11O2lmKGYmJmxpKGUpKXtpZighbGkodCkpcmV0dXJuICExO289ITAsYz0hMTt9aWYoZiYmIWMpcmV0dXJuIGl8fChpPW5ldyByaSksb3x8dWkoZSk/bmkoZSx0LHIsbixhLGkpOmFpKGUsdCxsLHIsbixhLGkpO2lmKCEoMSZyKSl7dmFyIGQ9YyYmZGkuY2FsbChlLCJfX3dyYXBwZWRfXyIpLHA9aCYmZGkuY2FsbCh0LCJfX3dyYXBwZWRfXyIpO2lmKGR8fHApe3ZhciB5PWQ/ZS52YWx1ZSgpOmUsbT1wP3QudmFsdWUoKTp0O3JldHVybiBpfHwoaT1uZXcgcmkpLGEoeSxtLHIsbixpKX19cmV0dXJuICEhZiYmKGl8fChpPW5ldyByaSksaWkoZSx0LHIsbixhLGkpKX0seWk9Z3Q7dmFyIG1pPWZ1bmN0aW9uIGUodCxyLG4sYSxpKXtyZXR1cm4gdD09PXJ8fChudWxsPT10fHxudWxsPT1yfHwheWkodCkmJiF5aShyKT90IT10JiZyIT1yOnBpKHQscixuLGEsZSxpKSl9LGdpPW1pO3ZhciB2aSxfaT10KChmdW5jdGlvbihlLHQpe3JldHVybiBnaShlLHQpfSkpLGJpPXtleHBvcnRzOnt9fSx3aT1yKE9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6e319KSk7dmk9YmksZnVuY3Rpb24oKXt2YXIgZSx0LHIsbj0wLGE9W107Zm9yKHQ9MDt0PDI1Njt0KyspYVt0XT0odCsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7ZnVuY3Rpb24gaSgpe3ZhciB0LHI9KHQ9MTYsKCFlfHxuK3Q+by5CVUZGRVJfU0laRSkmJihuPTAsZT1vLnJhbmRvbUJ5dGVzKG8uQlVGRkVSX1NJWkUpKSxlLnNsaWNlKG4sbis9dCkpO3JldHVybiByWzZdPTE1JnJbNl18NjQscls4XT02MyZyWzhdfDEyOCxyfWZ1bmN0aW9uIG8oKXt2YXIgZT1pKCk7cmV0dXJuIGFbZVswXV0rYVtlWzFdXSthW2VbMl1dK2FbZVszXV0rIi0iK2FbZVs0XV0rYVtlWzVdXSsiLSIrYVtlWzZdXSthW2VbN11dKyItIithW2VbOF1dK2FbZVs5XV0rIi0iK2FbZVsxMF1dK2FbZVsxMV1dK2FbZVsxMl1dK2FbZVsxM11dK2FbZVsxNF1dK2FbZVsxNV1dfW8uQlVGRkVSX1NJWkU9NDA5NixvLmJpbj1pLG8uY2xlYXJCdWZmZXI9ZnVuY3Rpb24oKXtlPW51bGwsbj0wO30sby50ZXN0PWZ1bmN0aW9uKGUpe3JldHVybiAic3RyaW5nIj09dHlwZW9mIGUmJi9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tNFswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KGUpfSwidW5kZWZpbmVkIiE9dHlwZW9mIGNyeXB0bz9yPWNyeXB0bzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93Lm1zQ3J5cHRvJiYocj13aW5kb3cubXNDcnlwdG8pLHI9cnx8d2ksdmkuZXhwb3J0cz1vLG8ucmFuZG9tQnl0ZXM9ZnVuY3Rpb24oKXtpZihyKXtpZihyLnJhbmRvbUJ5dGVzKXJldHVybiByLnJhbmRvbUJ5dGVzO2lmKHIuZ2V0UmFuZG9tVmFsdWVzKXJldHVybiAiZnVuY3Rpb24iIT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2U/ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIHIuZ2V0UmFuZG9tVmFsdWVzKHQpLEFycmF5LmZyb20odCl9OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUpO3JldHVybiByLmdldFJhbmRvbVZhbHVlcyh0KSx0fX1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQscj1bXTtmb3IodD0wO3Q8ZTt0Kyspci5wdXNoKE1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpKTtyZXR1cm4gcn19KCk7fSgpO3ZhciB4aSxraSxTaSxOaSxPaSxDaT10KGJpLmV4cG9ydHMpLFBpPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10O318fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO30sZSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhyKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10O31lKHQsciksdC5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pO319KCksRWk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbil7cmV0dXJuIG4/ZS5jYWxsKHRoaXMsdCxyLG4pfHx0aGlzOmUuY2FsbCh0aGlzLHQscil8fHRoaXN9cmV0dXJuIFBpKHQsZSksdC5mcm9tUG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIDI9PT1lLmxlbmd0aD9uZXcgdChlWzBdLGVbMV0pOmUubGVuZ3RoPjI/bmV3IHQoZVswXSxlWzFdLGVbMl0pOm51bGx9LHQuYXJlRXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXImJihyPTYpLGUmJmUubGVuZ3RoPj0yJiZ0JiZ0Lmxlbmd0aD49Mil7dmFyIG49TWF0aC5wb3coMTAsciksYT0kaShlWzFdKSxpPSRpKHRbMV0pLG89SmkoZVswXSkscz1KaSh0WzBdKTtpZigwIT09TWF0aC5yb3VuZCgoYS1pKSpuKS9uKXJldHVybiAhMTt2YXIgbD1NYXRoLnJvdW5kKChvLXMpKm4pL247cmV0dXJuIDA9PT1sfHwzNjA9PT1sfXJldHVybiAhMX0sdC5mcm9tTGF0TG5nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bXTtpZigibnVtYmVyIj09dHlwZW9mIGUpbi5wdXNoKGUpLCJudW1iZXIiPT10eXBlb2YgdCYmbi5wdXNoKHQpLCJudW1iZXIiPT10eXBlb2YgciYmbi5wdXNoKHIpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlKSllLmxlbmd0aD49MiYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0mJihlLmxlbmd0aD49MyYmIm51bWJlciI9PXR5cGVvZiBlWzJdP24ucHVzaChlWzBdLGVbMV0sZVsyXSk6bi5wdXNoKGVbMF0sZVsxXSkpO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBlKXt2YXIgYT1bImxhdCIsImxhdGl0dWRlIiwieSJdLGk9WyJsbmciLCJsb25naXR1ZGUiLCJsb24iLCJ4Il0sbz1bImVsdiIsImVsZXZhdGlvbiIsImFsdCIsImFsdGl0dWRlIiwieiJdLHM9TmFOLGw9TmFOLHU9TmFOO09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQscixuKXt2YXIgYz10LnRvTG93ZXJDYXNlKCk7aXNOYU4ocykmJmEuaW5kZXhPZihjKT49MCYmIm51bWJlciI9PXR5cGVvZiBlW3RdP3M9ZVt0XTppc05hTihsKSYmaS5pbmRleE9mKGMpPj0wJiYibnVtYmVyIj09dHlwZW9mIGVbdF0/bD1lW3RdOmlzTmFOKHUpJiZvLmluZGV4T2YoYyk+PTAmJiJudW1iZXIiPT10eXBlb2YgZVt0XSYmKHU9ZVt0XSk7fSkpLGlzTmFOKHMpfHxpc05hTihsKXx8KG4ucHVzaChsLHMpLGlzTmFOKHUpfHxuLnB1c2godSkpO31yZXR1cm4gbi5sZW5ndGg+PTI/bjpudWxsfSx0LmZyb21MYXRMbmdzPWZ1bmN0aW9uKGUpe3ZhciByPVtdO2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBuPTAsYT1lLmxlbmd0aDtuPGE7bisrKXt2YXIgaT10LmZyb21MYXRMbmcoZVtuXSk7aSYmci5wdXNoKGkpO31yZXR1cm4gcn0sdC5fZ2V0RGltZW5zaW9ucz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDtBcnJheS5pc0FycmF5KGUpOyllPWVbMF0sdCsrO3JldHVybiAibnVtYmVyIj09dHlwZW9mIGUmJnQtLSx0fSx0fShBcnJheSksQWk9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LHIpe3JldHVybiBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXQ7fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7fSxlKHQscil9O3JldHVybiBmdW5jdGlvbih0LHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXQ7fWUodCxyKSx0LnByb3RvdHlwZT1udWxsPT09cj9PYmplY3QuY3JlYXRlKHIpOihuLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbik7fX0oKSxqaT1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLG49MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmbj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbbisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD8iT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iOiJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIil9LExpPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj10aGlzO2lmKHQmJnIpe3ZhciBhPXQ7bj1hWzJdJiZyWzJdP2UuY2FsbCh0aGlzLGFbMF0sYVsxXSxhWzJdfHwwLHJbMF0sclsxXSxyWzJdfHwwKXx8dGhpczplLmNhbGwodGhpcyxhWzBdLGFbMV0sclswXSxyWzFdKXx8dGhpczt9ZWxzZSBpZih0KXt2YXIgaT10O2kmJig0PT09aS5sZW5ndGg/bj1lLmNhbGwodGhpcyxpWzBdLGlbMV0saVsyXSxpWzNdKXx8dGhpczppLmxlbmd0aD49NiYmKG49ZS5jYWxsKHRoaXMsaVswXSxpWzFdLGlbMl0saVszXSxpWzRdLGlbNV0pfHx0aGlzKSk7fXJldHVybiBufXJldHVybiBBaSh0LGUpLHQuZnJvbUJvdW5kaW5nQm94PWZ1bmN0aW9uKGUpe3ZhciByPXQuZ2V0V2VzdChlKSxuPXQuZ2V0U291dGgoZSksYT10LmdldEVhc3QoZSksaT10LmdldE5vcnRoKGUpO3JldHVybiBuZXcgdChbcixuLGEsaV0pfSx0LmZyb21EaW1lbnNpb25zPWZ1bmN0aW9uKGUscixuKXt2YXIgYT1lWzBdLGk9ZVsxXSxvPU1hdGgubWluKE1hdGgubWF4KGkrbi8yLC04NS41KSw4NS41KSxzPU1hdGgubWluKE1hdGgubWF4KGktbi8yLC04NS41KSw4NS41KSxsPUppKGErci8yKTtyZXR1cm4gbmV3IHQoW0ppKGEtci8yKSxzLGwsb10pfSx0LmZyb21FZGdlcz1mdW5jdGlvbihlLHIsbixhKXtyZXR1cm4gbmV3IHQoW2UscixuLGFdKX0sdC5jb250YWluc1Bvc2l0aW9uPWZ1bmN0aW9uKGUscil7dmFyIG49dC5nZXRDZW50ZXIoZSksYT1NYXRoLmFicyhuWzFdLXJbMV0pLGk9TWF0aC5hYnMoblswXS1yWzBdKTtpPjE4MCYmKGk9MzYwLWkpO3ZhciBvPXQuZ2V0SGVpZ2h0KGUpLHM9dC5nZXRXaWR0aChlKTtyZXR1cm4gYTw9by8yKzFlLTgmJmk8PXMvMisxZS04fSx0LmNvbnRhaW5zQm91bmRpbmdCb3g9ZnVuY3Rpb24oZSxyKXt2YXIgbj1lJiY0PT09ZS5sZW5ndGgsYT1yJiY0PT09ci5sZW5ndGg7cmV0dXJuICEoIW58fCFhKSYmKHQuZ2V0V2VzdChlKTx0LmdldFdlc3QocikmJnQuZ2V0V2VzdChyKTx0LmdldEVhc3QoZSkmJnQuZ2V0V2VzdChlKTx0LmdldEVhc3QocikmJnQuZ2V0RWFzdChyKTx0LmdldEVhc3QoZSkmJnQuZ2V0U291dGgoZSk8dC5nZXRTb3V0aChyKSYmdC5nZXRTb3V0aChyKTx0LmdldE5vcnRoKGUpJiZ0LmdldFNvdXRoKGUpPHQuZ2V0Tm9ydGgocikmJnQuZ2V0Tm9ydGgocik8dC5nZXROb3J0aChlKSl9LHQuY3Jvc3Nlc0FudGltZXJpZGlhbj1mdW5jdGlvbihlKXtyZXR1cm4gSmkodC5nZXRFYXN0KGUpKS1KaSh0LmdldFdlc3QoZSkpPDB8fHQuaXNCb3VuZGluZ0JveFdpdGhTaXhPck1vcmVFbGVtZW50c0xhcmdlclRoYW5HbG9iZShlKXx8dC5pc0JvdW5kaW5nQm94V2l0aExlc3NUaGFuU2l4RWxlbWVudHNMYXJnZXJUaGFuR2xvYmUoZSl9LHQuZ2V0Q2VudGVyPWZ1bmN0aW9uKGUpe3ZhciByPUppKHQuZ2V0RWFzdChlKSksbj1KaSh0LmdldFdlc3QoZSkpO24+ciYmKHIrPTM2MCk7dmFyIGE9SmkoKG4rcikvMiksaT0kaSh0LmdldFNvdXRoKGUpKSxvPSRpKHQuZ2V0Tm9ydGgoZSkpO3JldHVybiBbYSwkaSgoaStvKS8yKV19LHQuZ2V0SGVpZ2h0PWZ1bmN0aW9uKGUpe3ZhciByPSRpKHQuZ2V0Tm9ydGgoZSkpLSRpKHQuZ2V0U291dGgoZSkpO3JldHVybiBpc05hTihyKT8wOnJ9LHQuZ2V0V2lkdGg9ZnVuY3Rpb24oZSl7dmFyIHI9SmkodC5nZXRFYXN0KGUpKS1KaSh0LmdldFdlc3QoZSkpO3JldHVybiBpc05hTihyKT8wOnI8MD9yKz0zNjA6cn0sdC5nZXRTb3V0aFdlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTb3V0aChlKSxyPXRoaXMuZ2V0V2VzdChlKTtyZXR1cm4gaXNOYU4odCl8fGlzTmFOKHIpP251bGw6W3IsdF19LHQuZ2V0Tm9ydGhFYXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Tm9ydGgoZSkscj10aGlzLmdldEVhc3QoZSk7cmV0dXJuIGlzTmFOKHQpfHxpc05hTihyKT9udWxsOltyLHRdfSx0LmdldE5vcnRoV2VzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldE5vcnRoKGUpLHI9dGhpcy5nZXRXZXN0KGUpO3JldHVybiBpc05hTih0KXx8aXNOYU4ocik/bnVsbDpbcix0XX0sdC5nZXRTb3V0aEVhc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTb3V0aChlKSxyPXRoaXMuZ2V0RWFzdChlKTtyZXR1cm4gaXNOYU4odCl8fGlzTmFOKHIpP251bGw6W3IsdF19LHQuZ2V0U291dGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoPj00P051bWJlcihlWzFdKTpOYU59LHQuZ2V0V2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg+PTQ/TnVtYmVyKGVbMF0pOk5hTn0sdC5nZXROb3J0aD1mdW5jdGlvbihlKXtpZihlKXtpZig0PT09ZS5sZW5ndGgpcmV0dXJuIE51bWJlcihlWzNdKTtpZig2PT09ZS5sZW5ndGgpcmV0dXJuIE51bWJlcihlWzRdKX1yZXR1cm4gTmFOfSx0LmdldEVhc3Q9ZnVuY3Rpb24oZSl7aWYoZSl7aWYoND09PWUubGVuZ3RoKXJldHVybiBOdW1iZXIoZVsyXSk7aWYoNj09PWUubGVuZ3RoKXJldHVybiBOdW1iZXIoZVszXSl9cmV0dXJuIE5hTn0sdC5pbnRlcnNlY3Q9ZnVuY3Rpb24oZSxyKXt2YXIgbj10LmdldENlbnRlcihlKSxhPXQuZ2V0Q2VudGVyKHIpLGk9TWF0aC5hYnMoblsxXS1hWzFdKSxvPU1hdGguYWJzKG5bMF0tYVswXSk7bz4xODAmJihvPTM2MC1vKTt2YXIgcz10LmdldEhlaWdodChlKSxsPXQuZ2V0V2lkdGgoZSksdT10LmdldEhlaWdodChyKSxjPXQuZ2V0V2lkdGgocik7cmV0dXJuIGk8PXMvMit1LzImJm88PWwvMitjLzJ9LHQubWVyZ2U9ZnVuY3Rpb24oZSxyKXt2YXIgbj1lJiY0PT09ZS5sZW5ndGgsYT1yJiY0PT09ci5sZW5ndGg7aWYobiYmIWEpcmV0dXJuIGU7aWYoYSYmIW4pcmV0dXJuIHI7aWYoIW4mJiFhKXJldHVybiBudWxsO3ZhciBpPU1hdGgubWF4KCRpKHQuZ2V0Tm9ydGgoZSkpLCRpKHQuZ2V0Tm9ydGgocikpKSxvPU1hdGgubWluKCRpKHQuZ2V0U291dGgoZSkpLCRpKHQuZ2V0U291dGgocikpKSxzPVtlLHJdLGw9W10sdT0wO2Zvcih1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBjPXNbdV0saD1KaSh0LmdldFdlc3QoYykpLGY9SmkodC5nZXRFYXN0KGMpKTt0LmNyb3NzZXNBbnRpbWVyaWRpYW4oYyk/KGwucHVzaChbaCwxODBdKSxsLnB1c2goWy0xODAsZl0pKTpsLnB1c2goW2gsZl0pO31sLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdP2VbMV0tdFsxXTplWzBdLXRbMF19KSk7dmFyIGQ9W10scD1sWzBdO2Zvcih1PTE7dTxsLmxlbmd0aDspe3ZhciB5PWxbdV07cFsxXT49eVswXT9wWzFdPU1hdGgubWF4KHBbMV0seVsxXSk6KGQucHVzaChwKSxwPXkpLHUrKzt9ZC5wdXNoKHApO3ZhciBtPWQubGVuZ3RoLGc9ZFswXVswXSszNjAtZFttLTFdWzFdLHY9W2RbbS0xXVsxXSxkWzBdWzBdXTtmb3IodT0xO3U8bTt1Kyspe3ZhciBfPWRbdV1bMF0tZFt1LTFdWzFdO18+ZyYmKGc9Xyx2PVtkW3UtMV1bMV0sZFt1XVswXV0pO31yZXR1cm4gbmV3IHQoW3ZbMV0sb10sW3ZbMF0saV0pfSx0LmZyb21Qb3NpdGlvbnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciByLG49TmFOLGE9TmFOLGk9TmFOLG89TmFOLHM9ZS5sZW5ndGgsbD1uZXcgQXJyYXkocyksdT0wO3MtLTspaWYoKHI9ZVtzXSkmJnIubGVuZ3RoPj0yKXt2YXIgYz0kaShyWzFdKTtuPWlzTmFOKG4pP2M6TWF0aC5tYXgobixjKSxhPWlzTmFOKGEpP2M6TWF0aC5taW4oYSxjKSxsW3UrK109SmkoclswXSk7fWlmKHUpe2wubGVuZ3RoPXUsbC5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9KSk7dmFyIGg9bFswXSszNjAtbFt1LTFdLGY9MDtmb3Iocz0xO3M8dTtzKyspe3ZhciBkPWxbc10tbFtzLTFdO2Q+aCYmKGg9ZCxmPXMpO31pPWxbZl0sbz1sWyhmfHx1KS0xXTt9cmV0dXJuIGlzTmFOKGkpfHxpc05hTihhKXx8aXNOYU4obyl8fGlzTmFOKG4pP251bGw6bmV3IHQoW2ksYSxvLG5dKX0sdC5mcm9tTGF0TG5ncz1mdW5jdGlvbihlKXtyZXR1cm4gdC5mcm9tUG9zaXRpb25zKEVpLmZyb21MYXRMbmdzKGUpKX0sdC5mcm9tRGF0YT1mdW5jdGlvbihlKXt2YXIgcixuLGEsaT1udWxsO2lmKEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjApe3RyeXtmb3IodmFyIG89amkoZSkscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBsPXMudmFsdWU7bnVsbCE9KGE9dC5mcm9tRGF0YShsKSkmJihpPW51bGw9PT1pP2E6dC5tZXJnZShpLGEpKTt9fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobj1vLnJldHVybikmJm4uY2FsbChvKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBpfWlmKGUgaW5zdGFuY2VvZiBCaSlyZXR1cm4gZS5nZXRCb3VuZHMoKTtpZihlJiZlLnR5cGUpe3ZhciB1PWU7aWYodS5iYm94JiY0PT09dS5iYm94Lmxlbmd0aClyZXR1cm4gdS5iYm94O3N3aXRjaCh1LnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnJldHVybiB0LmZyb21EYXRhKHUuZmVhdHVyZXMpO2Nhc2UiRmVhdHVyZSI6cmV0dXJuIEJpLl9pc0NpcmNsZSh1KT90LmZyb21Qb3NpdGlvbnMoQmkuX2dldENpcmNsZVBvc2l0aW9ucyh1KSk6dC5mcm9tRGF0YSh1Lmdlb21ldHJ5KTtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6cmV0dXJuIHQuZnJvbURhdGEodS5nZW9tZXRyaWVzKTtjYXNlIlBvaW50Ijp2YXIgYz11LmNvb3JkaW5hdGVzO2lmKGMmJmMubGVuZ3RoPj0yKXJldHVybiBbY1swXSxjWzFdLGNbMF0sY1sxXV07YnJlYWs7Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIk11bHRpUG9pbnQiOnJldHVybiB0LmZyb21Qb3NpdGlvbnModS5jb29yZGluYXRlcyk7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6dmFyIGg9dS5jb29yZGluYXRlcztpZihoJiZoLmxlbmd0aD4wKXtmb3IodmFyIGY9MCxkPWgubGVuZ3RoO2Y8ZDtmKyspbnVsbCE9KGE9dC5mcm9tUG9zaXRpb25zKGhbZl0pKSYmKGk9bnVsbD09PWk/YTp0Lm1lcmdlKGksYSkpO2lmKG51bGwhPWkpcmV0dXJuIGl9YnJlYWs7Y2FzZSJNdWx0aVBvbHlnb24iOnZhciBwPXUuY29vcmRpbmF0ZXM7aWYocCYmcC5sZW5ndGg+MCl7Zm9yKGY9MCxkPXAubGVuZ3RoO2Y8ZDtmKyspZm9yKHZhciB5PTAsbT1wW2ZdLmxlbmd0aDt5PG07eSsrKW51bGwhPShhPXQuZnJvbVBvc2l0aW9ucyhwW2ZdW3ldKSkmJihpPW51bGw9PT1pP2E6dC5tZXJnZShpLGEpKTtyZXR1cm4gaX19fXJldHVybiBudWxsfSx0LnNwbGl0T25BbnRpbWVyaWRpYW49ZnVuY3Rpb24oZSl7dmFyIHI9W107aWYodC5pc0JvdW5kaW5nQm94V2l0aFNpeE9yTW9yZUVsZW1lbnRzTGFyZ2VyVGhhbkdsb2JlKGUpKXJldHVybiBbWy0xODAsZVsxXSxlWzJdLDE4MCxlWzRdLGVbNV1dXTtpZih0LmlzQm91bmRpbmdCb3hXaXRoTGVzc1RoYW5TaXhFbGVtZW50c0xhcmdlclRoYW5HbG9iZShlKSlyZXR1cm4gW1stMTgwLGVbMV0sMTgwLGVbM11dXTtpZih0LmNyb3NzZXNBbnRpbWVyaWRpYW4oZSkpe3ZhciBuPXZvaWQgMCxhPXZvaWQgMCxpPUppKHQuZ2V0V2VzdChlKSksbz1KaSh0LmdldEVhc3QoZSkpLHM9JGkodC5nZXROb3J0aChlKSksbD0kaSh0LmdldFNvdXRoKGUpKTtlLmxlbmd0aD49Nj8obj1baSxsLGVbMl0sMTgwLHMsZVs1XV0sYT1bLTE4MCxsLGVbMl0sbyxzLGVbNV1dKToobj1baSxsLDE4MCxzXSxhPVstMTgwLGwsbyxzXSksci5wdXNoKG4sYSk7fWVsc2Ugci5wdXNoKGUpO3JldHVybiByfSx0LmlzQm91bmRpbmdCb3hXaXRoU2l4T3JNb3JlRWxlbWVudHNMYXJnZXJUaGFuR2xvYmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RoPj02JiZlWzNdLWVbMF0+MzYwfSx0LmlzQm91bmRpbmdCb3hXaXRoTGVzc1RoYW5TaXhFbGVtZW50c0xhcmdlclRoYW5HbG9iZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGg8NiYmZVsyXS1lWzBdPjM2MH0sdH0oQXJyYXkpLE1pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixhKXt0aGlzLnR5cGU9IkZlYXR1cmUiLHRoaXMudHlwZT1lLlRZUEUsdGhpcy5wcm9wZXJ0aWVzPXJ8fHt9LHRoaXMuaWQ9bix0aGlzLmdlb21ldHJ5PXQsdGhpcy5iYm94PWE7fXJldHVybiBlLlRZUEU9IkZlYXR1cmUiLGV9KCksVGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7dGhpcy50eXBlPSJQb2x5Z29uIix0aGlzLnR5cGU9ZS5UWVBFLDE9PT1FaS5fZ2V0RGltZW5zaW9ucyh0KT90aGlzLmNvb3JkaW5hdGVzPVt0XTp0aGlzLmNvb3JkaW5hdGVzPXQsdGhpcy5iYm94PXI7fXJldHVybiBlLlRZUEU9IlBvbHlnb24iLGV9KCksemk9TWFwLElpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubGlzdGVuZXJzPW5ldyB6aTt9cmV0dXJuIGUucHJvdG90eXBlLl9hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmxpc3RlbmVycy5oYXMoZSl8fHRoaXMubGlzdGVuZXJzLnNldChlLG5ldyB6aSksdGhpcy5saXN0ZW5lcnMuZ2V0KGUpLnNldCh0LHIpO30sZS5wcm90b3R5cGUuX3JlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLmxpc3RlbmVycy5oYXMoZSkmJnRoaXMubGlzdGVuZXJzLmdldChlKS5kZWxldGUodCk7fSxlLnByb3RvdHlwZS5faW52b2tlRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMubGlzdGVuZXJzLmhhcyhlKSYmdGhpcy5saXN0ZW5lcnMuZ2V0KGUpLmZvckVhY2goKGZ1bmN0aW9uKG4sYSl7biYmci5fcmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGEpO3RyeXthKHQpO31jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpO319KSk7fSxlfSgpLFJpPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10O318fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO30sZSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhyKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10O31lKHQsciksdC5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pO319KCksRmk9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxCaT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHIsbixhKXt2YXIgaSxvPWUuY2FsbCh0aGlzKXx8dGhpcztpZigiRmVhdHVyZSI9PT1yLnR5cGUpe3ZhciBzPXI7aT1SYShzLmdlb21ldHJ5KSxhPXMucHJvcGVydGllcz9SYShzLnByb3BlcnRpZXMpOnt9LG49bnVsbD09cy5pZHx8IiI9PT1zLmlkP0NpKCk6cy5pZDt9ZWxzZSBpPVJhKHIpLG49bnVsbD09bnx8IiI9PT1uP0NpKCk6bixhPWE/UmEoYSk6e307cmV0dXJuIGFbdC5fc2hhcGVJZFByb3BOYW1lXT1uLG8uZGF0YT1uZXcgTWkoaSxhLG4pLG8uX2hhbmRsZUNpcmNsZSgpLG99cmV0dXJuIFJpKHQsZSksdC5wcm90b3R5cGUuYWRkUHJvcGVydHk9ZnVuY3Rpb24oZSx0KXtfaSh0aGlzLmRhdGEucHJvcGVydGllc1tlXSx0KXx8KHRoaXMuZGF0YS5wcm9wZXJ0aWVzW2VdPVJhKHQpLCJzdWJUeXBlIiE9PWUmJiJyYWRpdXMiIT09ZXx8dGhpcy5faGFuZGxlQ2lyY2xlKCksdGhpcy5kYXRhU291cmNlJiZ0aGlzLmRhdGFTb3VyY2UuX3VwZGF0ZVNvdXJjZSgpLHRoaXMuX2ludm9rZUV2ZW50KCJzaGFwZWNoYW5nZWQiLHRoaXMpKTt9LHQucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3ZhciBlLHQscixuLGEsaT10aGlzLmdldENvb3JkaW5hdGVzKCksbz10aGlzLmdldFR5cGUoKTtpZigiUG9pbnQiPT09bylpZih0aGlzLmNpcmNsZVBvbHlnb24pe3ZhciBzPXRoaXMuY2lyY2xlUG9seWdvbi5nZW9tZXRyeS5jb29yZGluYXRlczthPUxpLmZyb21Qb3NpdGlvbnMoc1swXSk7fWVsc2Uge2E9bmV3IExpKHM9aSxzKTt9ZWxzZSBpZigiTXVsdGlQb2ludCI9PT1vfHwiTGluZVN0cmluZyI9PT1vKXtzPWk7YT1MaS5mcm9tUG9zaXRpb25zKHMpO31lbHNlIGlmKCJQb2x5Z29uIj09PW8pe3M9aTthPUxpLmZyb21Qb3NpdGlvbnMoc1swXSk7fWVsc2UgaWYoIk11bHRpTGluZVN0cmluZyI9PT1vKXtzPWk7dHJ5e2Zvcih2YXIgbD1GaShzKSx1PWwubmV4dCgpOyF1LmRvbmU7dT1sLm5leHQoKSl7dmFyIGM9dS52YWx1ZTthPUxpLm1lcmdlKGEsTGkuZnJvbVBvc2l0aW9ucyhjKSk7fX1jYXRjaCh0KXtlPXtlcnJvcjp0fTt9ZmluYWxseXt0cnl7dSYmIXUuZG9uZSYmKHQ9bC5yZXR1cm4pJiZ0LmNhbGwobCk7fWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX19ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW8pe3M9aTt0cnl7Zm9yKHZhciBoPUZpKHMpLGY9aC5uZXh0KCk7IWYuZG9uZTtmPWgubmV4dCgpKXt2YXIgZD1mLnZhbHVlO2E9TGkubWVyZ2UoYSxMaS5mcm9tUG9zaXRpb25zKGRbMF0pKTt9fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtmJiYhZi5kb25lJiYobj1oLnJldHVybikmJm4uY2FsbChoKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fX1yZXR1cm4gYX0sdC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gUmEodGhpcy5kYXRhLmdlb21ldHJ5LmNvb3JkaW5hdGVzKX0sdC5wcm90b3R5cGUuZ2V0Q2lyY2xlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaXJjbGVQb2x5Z29uP1JhKHRoaXMuY2lyY2xlUG9seWdvbi5nZW9tZXRyeS5jb29yZGluYXRlc1swXSk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmlkfSx0LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIFJhKHRoaXMuZGF0YS5wcm9wZXJ0aWVzKX0sdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZ2VvbWV0cnkudHlwZX0sdC5wcm90b3R5cGUuaXNDaXJjbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5faXNDaXJjbGUodGhpcy5kYXRhKX0sdC5wcm90b3R5cGUuaXNSZWN0YW5nbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5faXNSZWN0YW5nbGUodGhpcy5kYXRhKX0sdC5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ7dD0iUG9seWdvbiI9PT10aGlzLmdldFR5cGUoKSYmMT09PUVpLl9nZXREaW1lbnNpb25zKGUpP1tlXTplLF9pKHRoaXMuZGF0YS5nZW9tZXRyeS5jb29yZGluYXRlcyx0KXx8KHRoaXMuZGF0YS5nZW9tZXRyeS5jb29yZGluYXRlcz1SYSh0KSx0aGlzLl9oYW5kbGVDaXJjbGUoKSx0aGlzLmRhdGFTb3VyY2UmJnRoaXMuZGF0YVNvdXJjZS5fdXBkYXRlU291cmNlKCksdGhpcy5faW52b2tlRXZlbnQoInNoYXBlY2hhbmdlZCIsdGhpcykpO30sdC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1mdW5jdGlvbihlKXtlW3QuX3NoYXBlSWRQcm9wTmFtZV09dGhpcy5kYXRhLmlkLF9pKHRoaXMuZGF0YS5wcm9wZXJ0aWVzLGUpfHwodGhpcy5kYXRhLnByb3BlcnRpZXM9UmEoZSksdGhpcy5faGFuZGxlQ2lyY2xlKCksdGhpcy5kYXRhU291cmNlJiZ0aGlzLmRhdGFTb3VyY2UuX3VwZGF0ZVNvdXJjZSgpLHRoaXMuX2ludm9rZUV2ZW50KCJzaGFwZWNoYW5nZWQiLHRoaXMpKTt9LHQucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpfSx0LnByb3RvdHlwZS5fdG9Kc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2lyY2xlUG9seWdvbnx8dGhpcy5kYXRhfSx0LnByb3RvdHlwZS5fc2V0RGF0YVNvdXJjZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lfHxudWxsPT1lP2RlbGV0ZSB0aGlzLmRhdGFTb3VyY2U6dGhpcy5kYXRhU291cmNlPWU7fSx0LnByb3RvdHlwZS5faGFuZGxlQ2lyY2xlPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0NpcmNsZSgpKXt2YXIgZT10Ll9nZXRDaXJjbGVQb3NpdGlvbnModGhpcy5kYXRhKTt0aGlzLmNpcmNsZVBvbHlnb249bmV3IE1pKG5ldyBUaShbZV0pLHRoaXMuZGF0YS5wcm9wZXJ0aWVzLHRoaXMuZGF0YS5pZCksdGhpcy5kYXRhLnByb3BlcnRpZXMuc3ViVHlwZT0iQ2lyY2xlIjt9ZWxzZSBkZWxldGUgdGhpcy5jaXJjbGVQb2x5Z29uO30sdC5faXNDaXJjbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuZ2VvbWV0cnkmJiJQb2ludCI9PT1lLmdlb21ldHJ5LnR5cGUmJmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMmJmUucHJvcGVydGllcyYmInN0cmluZyI9PXR5cGVvZiBlLnByb3BlcnRpZXMuc3ViVHlwZSYmImNpcmNsZSI9PT1lLnByb3BlcnRpZXMuc3ViVHlwZS50b0xvd2VyQ2FzZSgpJiYibnVtYmVyIj09dHlwZW9mIGUucHJvcGVydGllcy5yYWRpdXN9LHQuX2lzUmVjdGFuZ2xlPWZ1bmN0aW9uKGUpe2lmKCJQb2x5Z29uIj09PWUuZ2VvbWV0cnkudHlwZSYmZS5nZW9tZXRyeS5jb29yZGluYXRlcyYmInN0cmluZyI9PXR5cGVvZiBlLnByb3BlcnRpZXMuc3ViVHlwZSYmInJlY3RhbmdsZSI9PT1lLnByb3BlcnRpZXMuc3ViVHlwZS50b0xvd2VyQ2FzZSgpKXt2YXIgdD1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzO2lmKDE9PT10Lmxlbmd0aCl7dmFyIHI9dFswXTtpZig1PT09ci5sZW5ndGgpcmV0dXJuIHJbMF1bMF09PT1yWzRdWzBdJiZyWzBdWzFdPT09cls0XVsxXTtpZig0PT09ci5sZW5ndGgpcmV0dXJuICEwfX1yZXR1cm4gITF9LHQuX2dldENpcmNsZVBvc2l0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdD1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLHI9ZS5wcm9wZXJ0aWVzLnJhZGl1cyxhPWZ1bmN0aW9uKGUsdCxyLG4sYSl7bj1ufHwibWV0ZXJzIixhPWF8fDAsZT10byhlKTtmb3IodmFyIGk9W10sbz0zNjAvcixzPTA7czw9cjtzKyspaS5wdXNoKEtpKGUsKHMqbythKSUzNjAsdCxuKSk7cmV0dXJuIGl9KHQsciw3MiwibWV0ZXJzIixuKSwoQXJyYXkuaXNBcnJheShhKT9hOmEuY29vcmRpbmF0ZXMpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmxlbmd0aD4wP2VbZS5sZW5ndGgtMV06bnVsbDtpZihyJiZNYXRoLmFicyh0WzBdLXJbMF0pPjE4MCl7dmFyIG49clswXTwwP3RbMF0tMzYwOnRbMF0rMzYwO2UucHVzaChbbix0WzFdXSk7fWVsc2UgZS5wdXNoKHQpO3JldHVybiBlfSksW10pO3ZhciB0LHIsbixhO30sdC5fc2hhcGVJZFByb3BOYW1lPSJfYXp1cmVNYXBzU2hhcGVJZCIsdH0oSWkpLERpPTYzNzgxMzcsVWk9TWF0aC5QSS8xODAsV2k9MTgwL01hdGguUEk7ZnVuY3Rpb24gR2koZSl7cmV0dXJuIGUqVWl9ZnVuY3Rpb24gWmkoZSl7cmV0dXJuIGUqV2l9ZnVuY3Rpb24gVmkoZSl7aWYoZSlzd2l0Y2goZS50b0xvd2VyQ2FzZSgpKXtjYXNlImZlZXQiOmNhc2UiZm9vdCI6Y2FzZSJmdCI6cmV0dXJuIGtpLmZlZXQ7Y2FzZSJraWxvbWV0ZXJzIjpjYXNlImtpbG9tZXRlciI6Y2FzZSJraWxvbWV0cmVzIjpjYXNlImtpbG9tZXRyZSI6Y2FzZSJrbSI6Y2FzZSJrbXMiOnJldHVybiBraS5raWxvbWV0ZXJzO2Nhc2UibWlsZXMiOmNhc2UibWlsZSI6Y2FzZSJtaSI6cmV0dXJuIGtpLm1pbGVzO2Nhc2UibmF1dGljYWxtaWxlcyI6Y2FzZSJuYXV0aWNhbG1pbGUiOmNhc2Uibm1zIjpjYXNlIm5tIjpyZXR1cm4ga2kubmF1dGljYWxNaWxlcztjYXNlInlhcmRzIjpjYXNlInlhcmQiOmNhc2UieWRzIjpjYXNlInlyZCI6Y2FzZSJ5cmRzIjpyZXR1cm4ga2kueWFyZHM7ZGVmYXVsdDpyZXR1cm4ga2kubWV0ZXJzfXJldHVybiBraS5tZXRlcnN9ZnVuY3Rpb24gSGkoZSl7dmFyIHQ9SmkoTGkuZ2V0V2VzdChlKSkscj1KaShMaS5nZXRFYXN0KGUpKSxuPSRpKExpLmdldE5vcnRoKGUpKSxhPSRpKExpLmdldFNvdXRoKGUpKSxpPUxpLmdldENlbnRlcihlKSxvPVtbdCxuXSxbdCxhXSxbaVswXSxhXSxbcixhXSxbcixuXSxbaVswXSxuXSxbdCxuXV07cmV0dXJuIG5ldyBUaShbb10pfWZ1bmN0aW9uIHFpKGUsdCxyLG4pe3N3aXRjaChWaSh0KSl7Y2FzZSBraS5tZXRlcnM6ZS89MWUzO2JyZWFrO2Nhc2Uga2kuZmVldDplLz0zMjgwLjgzOTk7YnJlYWs7Y2FzZSBraS5taWxlczplLz0uNjIxMzcxMTk7YnJlYWs7Y2FzZSBraS55YXJkczplLz0xMDkzLjYxMzM7YnJlYWs7Y2FzZSBraS5uYXV0aWNhbE1pbGVzOmUvPS41Mzk5NTY4O2Nhc2Uga2kua2lsb21ldGVyczp9c3dpdGNoKFZpKHIpKXtjYXNlIGtpLm1ldGVyczplKj0xZTM7YnJlYWs7Y2FzZSBraS5mZWV0OmUqPTMyODAuODM5OTticmVhaztjYXNlIGtpLm1pbGVzOmUqPS42MjEzNzExOTticmVhaztjYXNlIGtpLnlhcmRzOmUqPTEwOTMuNjEzMzticmVhaztjYXNlIGtpLm5hdXRpY2FsTWlsZXM6ZSo9LjUzOTk1Njg7Y2FzZSBraS5raWxvbWV0ZXJzOn1pZigibnVtYmVyIj09dHlwZW9mIG4mJm4+PTApe3ZhciBhPU1hdGgucG93KDEwLG4pO2U9TWF0aC5yb3VuZChlKmEpL2E7fXJldHVybiBlfWZ1bmN0aW9uIEtpKGUsdCxyLG4pe249bnx8Im1ldGVycyIsZT10byhlKTt2YXIgYSxpLG8scz1mdW5jdGlvbihlKXt2YXIgdD1WaShlKTtyZXR1cm4gcWkoRGksa2kubWV0ZXJzLHQpfShuKSxsPUdpKGVbMV0pLHU9R2koZVswXSksYz1HaSh0KSxoPXIvcyxmPU1hdGguYXNpbihNYXRoLnNpbihsKSpNYXRoLmNvcyhoKStNYXRoLmNvcyhsKSpNYXRoLnNpbihoKSpNYXRoLmNvcyhjKSksZD11K01hdGguYXRhbjIoTWF0aC5zaW4oYykqTWF0aC5zaW4oaCkqTWF0aC5jb3MobCksTWF0aC5jb3MoaCktTWF0aC5zaW4obCkqTWF0aC5zaW4oZikpLHA9KGE9JGkoWmkoZikpLGk9LTg1LG89ODUsTWF0aC5taW4oTWF0aC5tYXgoYSxpKSxvKSk7cmV0dXJuIFtKaShaaShkKSkscF19ZnVuY3Rpb24gWGkoZSx0LHIpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9R2kodFsxXS1lWzFdKSxuPUdpKHRbMF0tZVswXSksYT1NYXRoLnBvdyhNYXRoLnNpbihyLzIpLDIpK01hdGguY29zKEdpKGVbMV0pKSpNYXRoLmNvcyhHaSh0WzFdKSkqTWF0aC5wb3coTWF0aC5zaW4obi8yKSwyKSxpPTIqTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksTWF0aC5zcXJ0KDEtYSkpO3JldHVybiBNYXRoLnJvdW5kKERpKmkqMTAwKS8xMDB9KGU9dG8oZSksdD10byh0KSk7cmV0dXJuICJtZXRlcnMiPT09cj9uOnFpKG4sIm1ldGVycyIscnx8Im1ldGVycyIpfWZ1bmN0aW9uIFlpKGUsdCl7aWYoZT10byhlKSx0PXRvKHQpLGUmJmUubGVuZ3RoPj0yJiZ0JiZ0Lmxlbmd0aD49Mil7dmFyIHI9R2koZVsxXSksbj1HaSh0WzFdKSxhPUdpKHRbMF0tZVswXSksaT1NYXRoLnNpbihhKSpNYXRoLmNvcyhuKSxvPU1hdGguY29zKHIpKk1hdGguc2luKG4pLU1hdGguc2luKHIpKk1hdGguY29zKG4pKk1hdGguY29zKGEpO3JldHVybiAoWmkoTWF0aC5hdGFuMihpLG8pKSszNjApJTM2MH1yZXR1cm4gTmFOfWZ1bmN0aW9uICRpKGUpe3JldHVybiBlPjkwPyhlPShlKzkwKSUzNjApPjE4MD85MC0oZS0xODApOmUtOTA6ZTwtOTA/KGU9KGUtOTApJTM2MCk8LTE4MD8tOTAtKGUrMTgwKTplKzkwOmV9ZnVuY3Rpb24gSmkoZSl7cmV0dXJuIGU+MTgwPyhlKzE4MCklMzYwLTE4MDplPC0xODA/KGUtMTgwKSUzNjArMTgwOmV9ZnVuY3Rpb24gUWkoZSx0LHIpe2lmKDA9PT1yKXJldHVybiBPYmplY3QuYXNzaWduKHt9LGUpO3Q9dG8odCk7Zm9yKHZhciBuLGEsaT1bXSxvPTAscz1lLmxlbmd0aDtvPHM7bysrKW49WGkodCxlW29dKSxhPVlpKHQsZVtvXSksaS5wdXNoKEtpKHQsYStyLG4pKTtyZXR1cm4gaX1mdW5jdGlvbiBlbyhlKXtpZigiW29iamVjdCBEYXRlXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIGU7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgdD1EYXRlLnBhcnNlKGUpO2lmKCFpc05hTih0KSlyZXR1cm4gbmV3IERhdGUodCk7aWYoZS5pbmRleE9mKCJEYXRlKCIpPj0wKXt2YXIgcj0wO3JldHVybiByPShlPWUucmVwbGFjZSgiL0RhdGUoIiwiIikucmVwbGFjZSgiKS8iLCIiKSkuaW5kZXhPZigiKyIpPjA/cGFyc2VJbnQoZS5zdWJzdHIoMCxlLmluZGV4T2YoIisiKSksMTApOmUuaW5kZXhPZigiLSIpPjA/cGFyc2VJbnQoZS5zdWJzdHIoMCxlLmluZGV4T2YoIi0iKSksMTApOnBhcnNlSW50KGUsMTApLG5ldyBEYXRlKHIpfX1lbHNlIGlmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gbmV3IERhdGUoZSk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gdG8oZSl7aWYoQXJyYXkuaXNBcnJheShlKSYmIm51bWJlciI9PXR5cGVvZiBlWzBdKXJldHVybiBlO2lmKGUudHlwZSl7aWYoIlBvaW50Ij09PWUudHlwZSlyZXR1cm4gZS5jb29yZGluYXRlcztpZigiRmVhdHVyZSI9PT1lLnR5cGUmJiJQb2ludCI9PT1lLmdlb21ldHJ5LnR5cGUpcmV0dXJuIGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXN9ZWxzZSBpZihlIGluc3RhbmNlb2YgQmkmJiJQb2ludCI9PT1lLmdldFR5cGUoKSlyZXR1cm4gZS5nZXRDb29yZGluYXRlcygpO3JldHVybiBudWxsfSFmdW5jdGlvbihlKXtlLnNxdWFyZU1ldGVycz0ic3F1YXJlTWV0ZXJzIixlLmFjcmVzPSJhY3JlcyIsZS5oZWN0YXJlcz0iaGVjdGFyZXMiLGUuc3F1YXJlRmVldD0ic3F1YXJlRmVldCIsZS5zcXVhcmVLaWxvbWV0ZXJzPSJzcXVhcmVLaWxvbWV0ZXJzIixlLnNxdWFyZU1pbGVzPSJzcXVhcmVNaWxlcyIsZS5zcXVhcmVZYXJkcz0ic3F1YXJlWWFyZHMiO30oeGl8fCh4aT17fSkpLGZ1bmN0aW9uKGUpe2UubWV0ZXJzPSJtZXRlcnMiLGUua2lsb21ldGVycz0ia2lsb21ldGVycyIsZS5mZWV0PSJmZWV0IixlLm1pbGVzPSJtaWxlcyIsZS5uYXV0aWNhbE1pbGVzPSJuYXV0aWNhbE1pbGVzIixlLnlhcmRzPSJ5YXJkcyI7fShraXx8KGtpPXt9KSksZnVuY3Rpb24oZSl7ZS5zZWNvbmRzPSJzZWNvbmRzIixlLmhvdXJzPSJob3VycyIsZS5tcz0ibXMiLGUubWludXRlcz0ibWludXRlcyIsZS5kYXlzPSJkYXlzIjt9KFNpfHwoU2k9e30pKSxmdW5jdGlvbihlKXtlLm1ldGVyc1BlclNlY29uZD0ibWV0ZXJzUGVyU2Vjb25kIixlLmtpbG9tZXRlcnNQZXJIb3VyPSJraWxvbWV0ZXJzUGVySG91ciIsZS5mZWV0UGVyU2Vjb25kPSJmZWV0UGVyU2Vjb25kIixlLm1pbGVzUGVySG91cj0ibWlsZXNQZXJIb3VyIixlLmtub3RzPSJrbm90cyIsZS5tYWNoPSJtYWNoIjt9KE5pfHwoTmk9e30pKSxmdW5jdGlvbihlKXtlLm1pbGVzUGVyU2Vjb25kU3F1YXJlZD0ibWlsZXNQZXJTZWNvbmRTcXVhcmVkIixlLmtpbG9tZXRlcnNQZXJTZWNvbmRTcXVhcmVkPSJraWxvbWV0ZXJzUGVyU2Vjb25kU3F1YXJlZCIsZS5rbm90c1BlclNlY29uZD0ia25vdHNQZXJTZWNvbmQiLGUuc3RhbmRhcmRHcmF2aXR5PSJzdGFuZGFyZEdyYXZpdHkiLGUuZmVldFBlclNlY29uZFNxdWFyZWQ9ImZlZXRQZXJTZWNvbmRTcXVhcmVkIixlLnlhcmRzUGVyU2Vjb25kU3F1YXJlZD0ieWFyZHNQZXJTZWNvbmRTcXVhcmVkIixlLm1pbGVzUGVySG91clNlY29uZD0ibWlsZXNQZXJIb3VyU2Vjb25kIixlLmtpbG9tZXRlcnNQZXJIb3VyU2Vjb25kPSJraWxvbWV0ZXJzUGVySG91clNlY29uZCIsZS5tZXRlcnNQZXJTZWNvbmRTcXVhcmVkPSJtZXRlcnNQZXJTZWNvbmRTcXVhcmVkIjt9KE9pfHwoT2k9e30pKTt2YXIgcm89ZnVuY3Rpb24oKXtyZXR1cm4gcm89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxuPWFyZ3VtZW50cy5sZW5ndGg7cjxuO3IrKylmb3IodmFyIGEgaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkmJihlW2FdPXRbYV0pO3JldHVybiBlfSxyby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG5vPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihhLGkpe2Z1bmN0aW9uIG8oZSl7dHJ5e2wobi5uZXh0KGUpKTt9Y2F0Y2goZSl7aShlKTt9fWZ1bmN0aW9uIHMoZSl7dHJ5e2wobi50aHJvdyhlKSk7fWNhdGNoKGUpe2koZSk7fX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KTt9KSkpLnRoZW4obyxzKTt9bCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpO30pKX0sYW89ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBzKHMpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDtpJiYoaT0wLHNbMF0mJihvPTApKSxvOyl0cnl7aWYocj0xLG4mJihhPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYocz1bMiZzWzBdLGEudmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOmE9czticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9by50cnlzLChhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighYXx8c1sxXT5hWzBdJiZzWzFdPGFbM10pKXtvLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJm8ubGFiZWw8YVsxXSl7by5sYWJlbD1hWzFdLGE9czticmVha31pZihhJiZvLmxhYmVsPGFbMl0pe28ubGFiZWw9YVsyXSxvLm9wcy5wdXNoKHMpO2JyZWFrfWFbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLG8pO31jYXRjaChlKXtzPVs2LGVdLG49MDt9ZmluYWxseXtyPWE9MDt9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJuIHt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyxsXSl9fX0saW89ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxvbz1mdW5jdGlvbihlLHQpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgbixhLGk9ci5jYWxsKGUpLG89W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEobj1pLm5leHQoKSkuZG9uZTspby5wdXNoKG4udmFsdWUpO31jYXRjaChlKXthPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSk7fWZpbmFsbHl7aWYoYSl0aHJvdyBhLmVycm9yfX1yZXR1cm4gb30sc289ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmFkZEF0dHJpYnV0ZXNUb09iamVjdD1mdW5jdGlvbihlLHQpe2lmKGUmJmUuYXR0cmlidXRlcyl7dmFyIHI9ZS5hdHRyaWJ1dGVzO09iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJnbWw6aWQiPT09ZT90LmlkPXJbZV06ZS5zdGFydHNXaXRoKCJ4bWxucyIpfHxlLnN0YXJ0c1dpdGgoInhzaSIpfHxlLnN0YXJ0c1dpdGgoIl8iKXx8KGUuaW5jbHVkZXMoIjoiKT90W2Uuc3Vic3RyKGUuaW5kZXhPZigiOiIpKzEpXT1yW2VdOnRbZV09cltlXSk7fSkpO319LGUuYWpheEdldEFzeW5jPWZ1bmN0aW9uKHQscixuLGEsaSl7cmV0dXJuIG5vKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxzLGwsdSxjLGgsZixkO3JldHVybiBhbyh0aGlzLChmdW5jdGlvbihwKXtzd2l0Y2gocC5sYWJlbCl7Y2FzZSAwOm89InN0cmluZyI9PXR5cGVvZiB0P3RoaXMucGFyc2VVUkwodCk6dCx0PW8uYWJzb2x1dGVQYXRoLGUuaXNWYWxpZFN0cmluZyhyKSYmKHQ9citlbmNvZGVVUklDb21wb25lbnQodCkpLGk9aXx8IlNwYXRpYWxJb1JlcXVlc3QiLHM9e09yaWdpbjoiKiJ9LHAubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHAudHJ5cy5wdXNoKFsxLDE4LCwxOV0pLGw9dm9pZCAwLG4/ImZ1bmN0aW9uIiE9dHlwZW9mIG4/WzMsM106KHU9bih0LGkpfHx7fSxbNCxmZXRjaCh1LnVybHx8dCx7Y3JlZGVudGlhbHM6dS5jcmVkZW50aWFscyxoZWFkZXJzOnJvKHJvKHt9LHMpLHUuaGVhZGVycyl9KV0pOlszLDZdO2Nhc2UgMjpyZXR1cm4gbD1wLnNlbnQoKSxbMyw1XTtjYXNlIDM6cmV0dXJuIFs0LG4uX3NlbmRSZXF1ZXN0KHQsaSxzKV07Y2FzZSA0Omw9cC5zZW50KCkscC5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gWzMsOF07Y2FzZSA2OnJldHVybiBbNCxmZXRjaCh0LHtoZWFkZXJzOnN9KV07Y2FzZSA3Omw9cC5zZW50KCkscC5sYWJlbD04O2Nhc2UgODpyZXR1cm4gbC5vaz9hPyhjPWwuaGVhZGVycy5nZXQoIkNvbnRlbnQtVHlwZSIpLHRoaXMuaXNDb21wcmVzc2VkQ29udGVudFR5cGUoYyk/WzQsbC5hcnJheUJ1ZmZlcigpXTpbMywxMF0pOlszLDEzXTpbMywxNl07Y2FzZSA5OnJldHVybiBbMixwLnNlbnQoKV07Y2FzZSAxMDpyZXR1cm4gWzQsbC5hcnJheUJ1ZmZlcigpXTtjYXNlIDExOnJldHVybiBoPXAuc2VudCgpLGY9dGhpcy5hcnJheUJ1ZmZlclRvU3RyaW5nKGgsMTApLCFjJiYvXihQS3xQTkd8SlBFR3xKUEd8Qk1QfEdJRikvLnRlc3QoZik/WzIsaF06WzIsdGhpcy5hcnJheUJ1ZmZlclRvU3RyaW5nKGgpXTtjYXNlIDEyOnJldHVybiBbMywxNV07Y2FzZSAxMzpyZXR1cm4gWzQsbC50ZXh0KCldO2Nhc2UgMTQ6cmV0dXJuIFsyLHAuc2VudCgpXTtjYXNlIDE1OnJldHVybiBbMywxN107Y2FzZSAxNjp0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGRvd25sb2FkaW5nIGZpbGUuIFN0YXR1cyBjb2RlOiAiLmNvbmNhdChsLnN0YXR1cykpO2Nhc2UgMTc6cmV0dXJuIFszLDE5XTtjYXNlIDE4OmlmKChkPXAuc2VudCgpKSYmIkZhaWxlZCB0byBmZXRjaCI9PT1kLm1lc3NhZ2UpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZmV0Y2guIEVuc3VyZSB0aGF0IHRoZSByZXNvdXJjZSB5b3UgYXJlIHRyeWluZyB0byBhY2Nlc3MgaXMgb24gYSBDT1JzIGVuYWJsZWQgZW5kcG9pbnQuIik7dGhyb3cgZDtjYXNlIDE5OnJldHVybiBbMl19fSkpfSkpfSxlLmFycmF5QnVmZmVyVG9TdHJpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvLHM9bmV3IFVpbnQ4QXJyYXkoZSksbD1bXTtmb3Iobj10PjA/TWF0aC5taW4odCxzLmxlbmd0aCk6cy5sZW5ndGgscj0wO3I8bjspc3dpdGNoKChhPXNbcisrXSk+PjQpe2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpjYXNlIDc6bC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYSkpO2JyZWFrO2Nhc2UgMTI6Y2FzZSAxMzppPXNbcisrXSxsLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmYSk8PDZ8NjMmaSkpO2JyZWFrO2Nhc2UgMTQ6aT1zW3IrK10sbz1zW3IrK10sbC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKDE1JmEpPDwxMnwoNjMmaSk8PDZ8KDYzJm8pPDwwKSk7fXJldHVybiBsLmpvaW4oIiIpfSxlLmNsb3NlUmluZz1mdW5jdGlvbihlKXtlLmxlbmd0aD49MiYmIUVpLmFyZUVxdWFsKGVbMF0sZVtlLmxlbmd0aC0xXSw2KSYmZS5wdXNoKGVbMF0pO30sZS5jb2xvclRvSGV4PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAiIyIrKCIwIisodD1BcnJheS5pc0FycmF5KGUpP2U6dGhpcy5jb2xvclRvUmdiYUFycmF5KGUpKVswXS50b1N0cmluZygxNikpLnNsaWNlKC0yKSsoIjAiK3RbMV0udG9TdHJpbmcoMTYpKS5zbGljZSgtMikrKCIwIit0WzJdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSxlLmNvbG9yVG9SZ2JhPWZ1bmN0aW9uKHQpe3ZhciByO2lmKEFycmF5LmlzQXJyYXkodCkpcj10O2Vsc2Uge2lmKHQuaW5jbHVkZXMoInJnYmEoIil8fHQuaW5jbHVkZXMoInJnYigiKSlyZXR1cm4gdDtlLmlzVmFsaWRTdHJpbmcodCkmJihyPXRoaXMuY29sb3JUb1JnYmFBcnJheSh0KSk7fXIubGVuZ3RoPj00JiZyWzNdPjEmJihyWzNdLz0yNTUpLHJ8fChyPVtdKTtmb3IodmFyIG49MDtuPDQ7bisrKXIubGVuZ3RoPG4tMT9yLnB1c2goMCk6cltuXTwwJiYocltuXT0wKTtyZXR1cm4gInJnYmEoIityWzBdKyIsIityWzFdKyIsIityWzJdKyIsIityWzNdKyIpIn0sZS5jb2xvclRvUmdiYUFycmF5PWZ1bmN0aW9uKHQpe2lmKGUuaXNWYWxpZFN0cmluZyh0KSl7dmFyIHI9dm9pZCAwO2lmKCh0PXQudG9Mb3dlckNhc2UoKSkuaW5jbHVkZXMoInJnYmEoIil8fHQuaW5jbHVkZXMoInJnYigiKSl7dmFyIG49KHQ9dC5yZXBsYWNlKCJyZ2JhKCIsIiIpLnJlcGxhY2UoInJnYigiLCIiKS5yZXBsYWNlKCIpIiwiIikpLnNwbGl0KC9ccyosXHMqLyk7aWYobi5sZW5ndGg+PTMpe3I9W107Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspaWYoblthXS5pbmNsdWRlcygiJSIpKXt2YXIgaT1wYXJzZUludChuW2FdKS8xMDA7Mz09PWE/ci5wdXNoKGkpOnIucHVzaCgyNTUqaSk7fWVsc2Ugci5wdXNoKHBhcnNlSW50KG5bYV0pKTtyZXR1cm4gMz09PXIubGVuZ3RoP3IucHVzaCgxKTpyLmxlbmd0aD49NCYmclszXT4xJiYoclszXT1yWzNdLzI1NSkscn1yZXR1cm4gWzAsMCwwLDBdfWlmKHI9dGhpcy5jc3NDb2xvck5hbWVzW3RdKXJldHVybiByO3Q9dC5yZXBsYWNlKC9eIz8oW2EtZlxkXSkoW2EtZlxkXSkoW2EtZlxkXSkkL2ksKGZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0K3QrcityK24rbn0pKTt2YXIgbz0vXiM/KFthLWZcZF17Mn0pKFthLWZcZF17Mn0pKFthLWZcZF17Mn0pJC9pLmV4ZWModCk7cmV0dXJuIG8/W3BhcnNlSW50KG9bMV0sMTYpLHBhcnNlSW50KG9bMl0sMTYpLHBhcnNlSW50KG9bM10sMTYpLDFdOlswLDAsMCwwXX19LGUuY3JlYXRlUG9zaXRpb249ZnVuY3Rpb24odCxyLG4sYSl7aWYoZS5pc1ZhbGlkTnVtYmVyKHQpJiZlLmlzVmFsaWROdW1iZXIocikpe3ZhciBpPVt0LHJdO3JldHVybiBlLmlzVmFsaWROdW1iZXIobikmJmkucHVzaChuKSxhJiYoaVswXT1KaShpWzBdKSxpWzFdPSRpKGlbMV0pKSxpfX0sZS5kb2NIYXNEYXRhPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJvb3QmJmUucm9vdC5jaGlsZE5vZGVzJiZlLnJvb3QuY2hpbGROb2Rlcy5sZW5ndGg+MH0sZS5kb2VzRWxlbWVudENvbnRhaW5UYWdOYW1lPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtpZihlJiZ0JiZ0LmNoaWxkTm9kZXMpdHJ5e2Zvcih2YXIgYT1pbyh0LmNoaWxkTm9kZXMpLGk9YS5uZXh0KCk7IWkuZG9uZTtpPWEubmV4dCgpKXtpZihpLnZhbHVlLnRhZ05hbWU9PT1lKXJldHVybiAhMH19Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihuPWEucmV0dXJuKSYmbi5jYWxsKGEpO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19cmV0dXJuICExfSxlLmVzY2FwZUh0bWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGUuaW5jbHVkZXMoIiZsdDsiKSYmZS5pbmNsdWRlcygiJmd0OyIpJiZlLmluY2x1ZGVzKCImcXVvdDsiKSYmZS5pbmNsdWRlcygiJmFwb3M7IikmJmUuaW5jbHVkZXMoIiZhbXA7Iil8fChlPWUucmVwbGFjZSgvJi9nLCImYW1wOyIpKSxlLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7IikucmVwbGFjZSgvJy9nLCImYXBvczsiKSk6bnVsbH0sZS5nZXRFbGVtZW50QnlUYWdOYW1lPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtpZihlJiZ0JiZ0LmNoaWxkTm9kZXMpdHJ5e2Zvcih2YXIgYT1pbyh0LmNoaWxkTm9kZXMpLGk9YS5uZXh0KCk7IWkuZG9uZTtpPWEubmV4dCgpKXt2YXIgbz1pLnZhbHVlO2lmKG8udGFnTmFtZT09PWUpcmV0dXJuIG99fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYobj1hLnJldHVybikmJm4uY2FsbChhKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBudWxsfSxlLmlnbm9yZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7aWYoZSlzd2l0Y2goZSl7Y2FzZSJ0aXRsZSI6Y2FzZSJuYW1lIjpjYXNlImJhc2UiOmNhc2UicG9wdXBUZW1wbGF0ZSI6Y2FzZSJhbmNob3IiOmNhc2UiaW1hZ2UiOmNhc2UiaW1hZ2VVcmwiOmNhc2Uicm90YXRpb24iOmNhc2UiY29sb3IiOmNhc2Uic2l6ZSI6Y2FzZSJvZmZzZXQiOmNhc2Uic3Ryb2tlQ29sb3IiOmNhc2Uic3Ryb2tlV2lkdGgiOmNhc2Uic3Ryb2tlT3BhY2l0eSI6Y2FzZSJmaWxsQ29sb3IiOmNhc2UiZmlsbE9wYWNpdHkiOmNhc2UidmlzaWJpbGl0eSI6Y2FzZSJ2aXNpYmxlIjpyZXR1cm4gITA7ZGVmYXVsdDppZihlLnN0YXJ0c1dpdGgoIl8iKSlyZXR1cm4gITB9cmV0dXJuIG51bGw9PXR8fCIiPT09dH0sZS5pc0JpbmFyeURhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIDY3MzI0NzUyPT09bmV3IEludDMyQXJyYXkoZSwwLDEpWzBdfSxlLmlzQ29tcHJlc3NlZENvbnRlbnRUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiAiYXBwbGljYXRpb24vdm5kLmdvb2dsZS1lYXJ0aC5rbXoiPT09ZXx8ImFwcGxpY2F0aW9uL3ppcCI9PT1lfHwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIj09PWV8fGUuc3RhcnRzV2l0aCgiaW1hZ2UvIil9LGUuaXNVcmw9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJzdHJpbmciPT10eXBlb2YgdCYmKHQuc3RhcnRzV2l0aCgiZGF0YTppbWFnZSIpfHxlLnByb3RvY29sUngudGVzdCh0KSl9LGUuaXNWYWxpZE51bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4gIWlzTmFOKGUpJiZudWxsIT09ZSYmIm51bWJlciI9PXR5cGVvZiBlfSxlLmlzVmFsaWRTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJzdHJpbmciPT10eXBlb2YgZSYmIiIhPT1lfSxlLm1hdGNoRmlyc3RQcmVmZXJlbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbjt0cnl7Zm9yKHZhciBhPWlvKHQpLGk9YS5uZXh0KCk7IWkuZG9uZTtpPWEubmV4dCgpKXt2YXIgbz1pLnZhbHVlO2lmKGUuaW5jbHVkZXMobykpcmV0dXJuIG99fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYobj1hLnJldHVybikmJm4uY2FsbChhKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBudWxsfSxlLnBhcnNlQm9vbGVhbj1mdW5jdGlvbihlKXt0cnl7aWYoZT1lLnRyaW0oKSlzd2l0Y2goZS50b0xvd2VyQ2FzZSgpKXtjYXNlInRydWUiOmNhc2UieWVzIjpjYXNlIjEiOnJldHVybiAhMDtjYXNlImZhbHNlIjpjYXNlIm5vIjpjYXNlIjAiOnJldHVybiAhMTtkZWZhdWx0OnJldHVybiBCb29sZWFuKGUpfX1jYXRjaChlKXt9cmV0dXJuICExfSxlLnBhcnNlUXVlcnlTdHJpbmdQYXJhbXM9ZnVuY3Rpb24oZSx0LHIpe3ImJihlPWUucmVwbGFjZSgvJmFtcDsvZ2ksIiYiKSk7dmFyIG49ZS5pbmRleE9mKCI/Iik7aWYobj49MCl7dmFyIGE9ZS5zdWJzdHJpbmcobisxKTtpZihhKXJldHVybiBhLnNwbGl0KCImIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgiPSIpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgbj1vbyhyLDIpLGE9blswXSxpPW5bMV07cmV0dXJuIGVbdD9hLnRvTG93ZXJDYXNlKCk6YV09ZGVjb2RlVVJJKGkpLGV9KSx7fSl9cmV0dXJuIHt9fSxlLnBhcnNlVVJMPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tYXRjaCh0aGlzLl91cmxQYXJzZVJ4KSxuPXtmaWxlTmFtZTpudWxsLGhhc2g6clsxMF18fCIiLGhvc3Q6clszXXx8IiIsaG9zdG5hbWU6cls2XXx8IiIsaHJlZjpyWzBdfHwiIixvcmlnaW46clsxXXx8IiIscGFzc3dvcmQ6cls1XXx8IiIscGF0aG5hbWU6cls4XXx8KHJbMV0/Ii8iOiIiKSxwb3J0OnJbN118fCIiLHByb3RvY29sOnJbMl18fCIiLHNlYXJjaDpyWzldfHwiIix1c2VybmFtZTpyWzRdfHwiIn07aWYoMj09PW4ucHJvdG9jb2wubGVuZ3RoJiYobi5wcm90b2NvbD0iZmlsZTovLy8iK24ucHJvdG9jb2wudG9VcHBlckNhc2UoKSxuLm9yaWdpbj1uLnByb3RvY29sKyIvLyIrbi5ob3N0KSxuLmhyZWY9bi5vcmlnaW4rbi5wYXRobmFtZStuLnNlYXJjaCtuLmhhc2gsbi5wYXRobmFtZSYmIW4ucGF0aG5hbWUuZW5kc1dpdGgoIi8iKSYmKG4uZmlsZU5hbWU9bi5wYXRobmFtZS5yZXBsYWNlKC9eLipbXFxcL10vLCIiKSksIXRoaXMucHJvdG9jb2xSeC50ZXN0KGUpJiYhZS5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0JiZ0Lmhvc3QmJm4uaG9zdCE9PXQuaG9zdCl7dmFyIGE9dC5wcm90b2NvbCsiLy8iK3QuaG9zdDtlLnN0YXJ0c1dpdGgoIi8iKXx8KGErPSIvIix0LmZpbGVOYW1lP2ErPXQucGF0aE5hbWUuc3Vic3RyaW5nKDAsdC5wYXRoTmFtZS5pbmRleE9mKHQuZmlsZU5hbWUpKTphKz10LnBhdGhOYW1lKyIvIiksYSs9ZSxuLmhyZWY9YTt9cmV0dXJuIHthYnNvbHV0ZVBhdGg6bi5ocmVmLGZpbGVOYW1lOm4uZmlsZU5hbWUsaG9zdDpuLmhvc3QsaG9zdE5hbWU6bi5ob3N0bmFtZSxwYXRoTmFtZTpuLnBhdGhuYW1lLHByb3RvY29sOm4ucHJvdG9jb2wscXVlcnlTdHJpbmc6bi5zZWFyY2h9fSxlLnJlcGxhY2VOZXdsaW5lcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5pbmNsdWRlcygiPCIpP2UucmVwbGFjZSgvPHA+PFwvcD4vZywiIikucmVwbGFjZSgvKFxyXG58XG58XHIpezIsfS9nLCJcbiIpOmUucmVwbGFjZSgvKFxyXG58XHJ8XG4pL2csIjxici8+Iil9LGUucm91bmRCQm94PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGVuZ3RoPj02P1t0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVswXSx0KSx0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVsxXSx0KSxlWzJdLHRoaXMucm91bmRUb1ByZWNpc2lvbihlWzNdLHQpLHRoaXMucm91bmRUb1ByZWNpc2lvbihlWzRdLHQpLGVbNV1dOlt0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVswXSx0KSx0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVsxXSx0KSx0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVsyXSx0KSx0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVszXSx0KV19LGUucm91bmRQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPVt0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVswXSx0KSx0aGlzLnJvdW5kVG9QcmVjaXNpb24oZVsxXSx0KV07cmV0dXJuIGUubGVuZ3RoPjImJnIucHVzaChyWzJdKSxyfSxlLnJvdW5kVG9QcmVjaXNpb249ZnVuY3Rpb24oZSx0KXt0PDAmJih0PTApLHQ+MTAmJih0PTEwKTt2YXIgcj10aGlzLl9wb3dlckZhY3Rvclt0XTtyZXR1cm4gTWF0aC5yb3VuZChlKnIrMWUtMTQpL3J9LGUuc2FuaXRpemVUeXBlTmFtZT1mdW5jdGlvbihlKXtpZihlKXtpZihlLnN0YXJ0c1dpdGgoImdtbDoiKSlyZXR1cm4gZTt2YXIgdD1lLnRvTG93ZXJDYXNlKCk7aWYodC5pbmNsdWRlcygiOiIpKXt2YXIgcj10LnNwbGl0KCI6Iik7ci5sZW5ndGg+MSYmKHQ9clsxXSk7fXN3aXRjaCh0KXtjYXNlImJ5dGUiOmNhc2UiaW50IjpjYXNlInVpbnQiOmNhc2UidXNpZ25lZGludCI6Y2FzZSJ1c2lnbmVkbG9uZyI6Y2FzZSJ1c2lnbmVkc2hvcnQiOmNhc2UidXNpZ25lZGJ5dGUiOmNhc2UiaW50ZWdlciI6Y2FzZSJuZWdhdGl2ZWludGVnZXIiOmNhc2UicG9zaXRpdmVpbnRlZ2VyIjpjYXNlIm5vbm5lZ2F0aXZlaW50ZWdlciI6Y2FzZSJub25wb3NpdGl2ZWludGVnZXIiOmNhc2Uic2hvcnQiOmNhc2UibG9uZyI6Y2FzZSJkZWNpbWFsIjpjYXNlImRvdWJsZSI6Y2FzZSJmbG9hdCI6cmV0dXJuICJudW1iZXIiO2Nhc2UiYm9vbGVhbiI6Y2FzZSJib29sIjpyZXR1cm4gImJvb2xlYW4iO2Nhc2UiZGF0ZSI6Y2FzZSJkYXRldGltZSI6cmV0dXJuICJkYXRlIn19cmV0dXJuIGV9LGUuc2ltcGxpZnlYbWxOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZSYmKGUuYXR0cmlidXRlc3x8ZS5jaGlsZE5vZGVzKSl7dmFyIG49e307aWYodGhpcy5hZGRBdHRyaWJ1dGVzVG9PYmplY3QoZSxuKSxlLmNoaWxkTm9kZXMpdHJ5e2Zvcih2YXIgYT1pbyhlLmNoaWxkTm9kZXMpLGk9YS5uZXh0KCk7IWkuZG9uZTtpPWEubmV4dCgpKXt2YXIgbz1pLnZhbHVlO28udmFsdWU/bltvLnRhZ05hbWVdPW8udmFsdWU6by5jaGlsZE5vZGVzJiZvLmNoaWxkTm9kZXMubGVuZ3RoPjAmJihuW28udGFnTmFtZV09dGhpcy5zaW1wbGlmeVhtbE5vZGUobykpO319Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPWEucmV0dXJuKSYmci5jYWxsKGEpO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19cmV0dXJuIGUudmFsdWUmJnZvaWQgMD09PW4udmFsdWUmJihuLnZhbHVlPWUudmFsdWUpLG59cmV0dXJuIG51bGx9LGUudHJ5Q2FzdE9iamVjdD1mdW5jdGlvbih0LHIpe2lmKHIpdHJ5e3N3aXRjaChyKXtjYXNlIm51bWJlciI6dmFyIG49cGFyc2VGbG9hdCh0KTtpZihlLmlzVmFsaWROdW1iZXIobikpcmV0dXJuIG47YnJlYWs7Y2FzZSJib29sZWFuIjpyZXR1cm4gZS5wYXJzZUJvb2xlYW4odCk7Y2FzZSJkYXRlIjpyZXR1cm4gZW8odCl9fWNhdGNoKGUpe31yZXR1cm4gdH0sZS51bmVzY2FwZUhUTUw9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC8mbHQ7L2csIjwiKS5yZXBsYWNlKC8mZ3Q7L2csIj4iKS5yZXBsYWNlKC8mcXVvdDsvZywnIicpLnJlcGxhY2UoLyZhcG9zOy9nLCInIikucmVwbGFjZSgvJm5ic3A7L2csIiAiKS5yZXBsYWNlKC8mYW1wOy9nLCImIik6bnVsbH0sZS5fcG93ZXJGYWN0b3I9WzEsMTAsMTAwLDFlMywxZTQsMWU1LDFlNiwxZTcsMWU4LDFlOSwxZTEwXSxlLl91cmxQYXJzZVJ4PS9eKChbXjpcLz8jXSs6KT8oPzpcL1wvKCg/OihbXlwvPyM6XSopOihbXlwvPyM6XSopQCk/KFteXC8/IzpdKikoPzo6KFteXC8/IzpdKikpPykpKT8oW14/I10qKShcP1teI10qKT8oIy4qKT8kLyxlLmNvbnRhaW5zSHRtbFJ4PS88XC8/XHcrKChccytcdysoXHMqPVxzKig/OiIuKj8ifCcuKj8nfFtcXiciPlxzXSspKT8pK1xzKnxccyopXC8/Pi8sZS5jb250YWluc1NwZWNpYWxDaGFyUng9L1smPD4iJ10vLGUuY3NzQ29sb3JOYW1lcz17YWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmVkOlsyNTUsMCwwLDFdLHJvc3licm93bjpbMTg4LDE0MywxNDMsMV0scm95YWxibHVlOls2NSwxMDUsMjI1LDFdLHNhZGRsZWJyb3duOlsxMzksNjksMTksMV0sc2FsbW9uOlsyNTAsMTI4LDExNCwxXSxzYW5keWJyb3duOlsyNDQsMTY0LDk2LDFdLHNlYWdyZWVuOls0NiwxMzksODcsMV0sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4LDFdLHNpZW5uYTpbMTYwLDgyLDQ1LDFdLHNpbHZlcjpbMTkyLDE5MiwxOTIsMV0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzUsMV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1LDFdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDQsMV0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NCwxXSxzbm93OlsyNTUsMjUwLDI1MCwxXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3LDFdLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MCwxXSx0YW46WzIxMCwxODAsMTQwLDFdLHRlYWw6WzAsMTI4LDEyOCwxXSx0aGlzdGxlOlsyMTYsMTkxLDIxNiwxXSx0b21hdG86WzI1NSw5OSw3MSwxXSx0cmFuc3BhcmVudDpbMCwwLDAsMF0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXSxncm46WzAsMTI4LDAsMV0sbHRibHU6WzE3MywyMTYsMjMwLDFdLHdodDpbMjU1LDI1NSwyNTUsMV0seWx3OlsyNTUsMjU1LDAsMV0sbW9kaXNfMDBfdG9fMDZocl9maXJlOlsxMzksMCwwLDFdLG1vZGlzXzA2X3RvXzEyaHJfZmlyZTpbMjU1LDAsMCwxXSxtb2Rpc18xMl90b18yNGhyX2ZpcmU6WzI1NSwxNjUsMCwxXSxtb2Rpc19wcmV2XzZfZGF5c19maXJlOlsyNTUsMjU1LDAsMV19LGUubW1QZXJQaXhlbEdweD0zLjc3OTUyNzU1OTEsZS5wcm90b2NvbFJ4PS9eKD86W2EtekEtWl0rOik/XC9cLy8sZX0oKSxsbz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLG49MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmbj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbbisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD8iT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iOiJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIil9LHVvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudHlwZT0iRmVhdHVyZUNvbGxlY3Rpb24iLHRoaXMuYmJveD1udWxsLHRoaXMuZmVhdHVyZXM9W10sdGhpcy5ncm91bmRPdmVybGF5cz1bXSx0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5zdGF0cz1udWxsLHRoaXMuaWNvbnM9e30sdGhpcy5fZ3JvdW5kT3ZlcmxheU9wdGlvbnM9W107fXJldHVybiBlLmVucmljaD1mdW5jdGlvbih0KXtpZih0LnByb3BlcnRpZXMmJiF0LnByb3BlcnRpZXMudGl0bGUmJnQucHJvcGVydGllcy5uYW1lJiYodC5wcm9wZXJ0aWVzLnRpdGxlPXQucHJvcGVydGllcy5uYW1lKSxlLmdldEJvdW5kcyh0KSwhdC5zdGF0cyl0cnl7ZS5jb21wdXRlU3RhdHModCk7fWNhdGNoKGUpe3Quc3RhdHM9e307fX0sZS5tZXJnZT1mdW5jdGlvbih0LHIpe2lmKHIpe3QucHJvcGVydGllcz9yLnByb3BlcnRpZXN8fE9iamVjdC5rZXlzKHIucHJvcGVydGllcykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wcm9wZXJ0aWVzW2VdfHwiYm91bmRzIj09PWV8fCh0LnByb3BlcnRpZXNbZV09ci5wcm9wZXJ0aWVzW2VdKTt9KSk6dC5wcm9wZXJ0aWVzPXIucHJvcGVydGllcyxyLmZlYXR1cmVzJiZyLmZlYXR1cmVzLmxlbmd0aD4wJiYodC5mZWF0dXJlcyYmdC5mZWF0dXJlcy5sZW5ndGg+MD90LmZlYXR1cmVzPXQuZmVhdHVyZXMuY29uY2F0KHIuZmVhdHVyZXMpOnQuZmVhdHVyZXM9ci5mZWF0dXJlcyksci5fZ3JvdW5kT3ZlcmxheU9wdGlvbnMmJnIuX2dyb3VuZE92ZXJsYXlPcHRpb25zLmxlbmd0aD4wJiYodC5fZ3JvdW5kT3ZlcmxheU9wdGlvbnMmJnQuX2dyb3VuZE92ZXJsYXlPcHRpb25zLmxlbmd0aD4wP3QuX2dyb3VuZE92ZXJsYXlPcHRpb25zPXQuX2dyb3VuZE92ZXJsYXlPcHRpb25zLmNvbmNhdChyLl9ncm91bmRPdmVybGF5T3B0aW9ucyk6dC5fZ3JvdW5kT3ZlcmxheU9wdGlvbnM9ci5fZ3JvdW5kT3ZlcmxheU9wdGlvbnMpLHIuZ3JvdW5kT3ZlcmxheXMmJnIuZ3JvdW5kT3ZlcmxheXMubGVuZ3RoPjAmJih0Lmdyb3VuZE92ZXJsYXlzJiZ0Lmdyb3VuZE92ZXJsYXlzLmxlbmd0aD4wP3QuZ3JvdW5kT3ZlcmxheXM9dC5ncm91bmRPdmVybGF5cy5jb25jYXQoci5ncm91bmRPdmVybGF5cyk6dC5ncm91bmRPdmVybGF5cz1yLmdyb3VuZE92ZXJsYXlzKSxyLmljb25zJiYodC5pY29ucz1PYmplY3QuYXNzaWduKHQuaWNvbnN8fHt9LHIuaWNvbnMpKSxyLnN0YXRzJiYodC5zdGF0cz8odC5zdGF0cy5udW1Qb2ludHMrPXIuc3RhdHMubnVtUG9pbnRzLHQuc3RhdHMubnVtTGluZVN0cmluZ3MrPXIuc3RhdHMubnVtTGluZVN0cmluZ3MsdC5zdGF0cy5udW1Qb2x5Z29ucys9ci5zdGF0cy5udW1Qb2x5Z29ucyx0LnN0YXRzLm51bUdyb3VuZE92ZXJsYXlzKz1yLnN0YXRzLm51bUdyb3VuZE92ZXJsYXlzLHQuc3RhdHMubnVtTmV0d29ya0xpbmtzKz1yLnN0YXRzLm51bU5ldHdvcmtMaW5rcyx0LnN0YXRzLm51bVBvc2l0aW9ucys9ci5zdGF0cy5udW1Qb3NpdGlvbnMsdC5zdGF0cy5udW1DaGFyYWN0ZXJzKz1yLnN0YXRzLm51bUNoYXJhY3RlcnMpOnQuc3RhdHM9ci5zdGF0cyk7dmFyIG49dC5iYm94LGE9ci5iYm94O258fChuPWUuZ2V0Qm91bmRzKHQpKSxhfHwoYT1lLmdldEJvdW5kcyh0KSksbnVsbCE9PW4mJm51bGwhPT1hP3QuYmJveD1MaS5tZXJnZShuLGEpOm51bGwhPT1hJiYodC5iYm94PWEpLHQucHJvcGVydGllcyYmdC5wcm9wZXJ0aWVzLmJvdW5kcyYmKHQucHJvcGVydGllcy5ib3VuZHM9dm9pZCAwKTt9fSxlLmNvbXB1dGVTdGF0cz1mdW5jdGlvbihlKXt2YXIgdCxyLG4sYSxpLG8scyxsLHUsYztpZihlKXt2YXIgaD17fTtpZihlLnN0YXRzJiYoaD17bnVtQ2hhcmFjdGVyczplLnN0YXRzLm51bUNoYXJhY3RlcnN8fDAsbnVtTmV0d29ya0xpbmtzOmUuc3RhdHMubnVtTmV0d29ya0xpbmtzfHwwLHByb2Nlc3NpbmdUaW1lOjB9KSxlLnN0YXRzPXtudW1Hcm91bmRPdmVybGF5czowLG51bUxpbmVTdHJpbmdzOjAsbnVtUG9pbnRzOjAsbnVtUG9seWdvbnM6MCxudW1Qb3NpdGlvbnM6MH0sT2JqZWN0LmFzc2lnbihlLnN0YXRzLGgpLGUuX2dyb3VuZE92ZXJsYXlPcHRpb25zJiZlLl9ncm91bmRPdmVybGF5T3B0aW9ucy5sZW5ndGg+MCYmKGUuc3RhdHMubnVtR3JvdW5kT3ZlcmxheXMrPWUuX2dyb3VuZE92ZXJsYXlPcHRpb25zLmxlbmd0aCxlLnN0YXRzLm51bVBvc2l0aW9ucys9NCplLl9ncm91bmRPdmVybGF5T3B0aW9ucy5sZW5ndGgpLGUuZmVhdHVyZXMmJmUuZmVhdHVyZXMubGVuZ3RoPjApdHJ5e2Zvcih2YXIgZj1sbyhlLmZlYXR1cmVzKSxkPWYubmV4dCgpOyFkLmRvbmU7ZD1mLm5leHQoKSl7dmFyIHA9ZC52YWx1ZS5nZW9tZXRyeTtpZihwKXN3aXRjaChwLnR5cGUpe2Nhc2UiUG9pbnQiOmUuc3RhdHMubnVtUG9pbnRzKyssZS5zdGF0cy5udW1Qb3NpdGlvbnMrKzticmVhaztjYXNlIkxpbmVTdHJpbmciOmUuc3RhdHMubnVtTGluZVN0cmluZ3MrKyxlLnN0YXRzLm51bVBvc2l0aW9ucys9cC5jb29yZGluYXRlcy5sZW5ndGg7YnJlYWs7Y2FzZSJQb2x5Z29uIjplLnN0YXRzLm51bVBvbHlnb25zKys7dmFyIHk9cC5jb29yZGluYXRlczt0cnl7Zm9yKHZhciBtPShuPXZvaWQgMCxsbyh5KSksZz1tLm5leHQoKTshZy5kb25lO2c9bS5uZXh0KCkpe3ZhciB2PWcudmFsdWU7ZS5zdGF0cy5udW1Qb3NpdGlvbnMrPXYubGVuZ3RoO319Y2F0Y2goZSl7bj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2cmJiFnLmRvbmUmJihhPW0ucmV0dXJuKSYmYS5jYWxsKG0pO31maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19YnJlYWs7Y2FzZSJNdWx0aVBvaW50IjplLnN0YXRzLm51bVBvaW50cys9cC5jb29yZGluYXRlcy5sZW5ndGgsZS5zdGF0cy5udW1Qb3NpdGlvbnMrPXAuY29vcmRpbmF0ZXMubGVuZ3RoO2JyZWFrO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjplLnN0YXRzLm51bUxpbmVTdHJpbmdzKz1wLmNvb3JkaW5hdGVzLmxlbmd0aDt2YXIgXz1wLmNvb3JkaW5hdGVzO3RyeXtmb3IodmFyIGI9KGk9dm9pZCAwLGxvKF8pKSx3PWIubmV4dCgpOyF3LmRvbmU7dz1iLm5leHQoKSl7dmFyIHg9dy52YWx1ZTtlLnN0YXRzLm51bVBvc2l0aW9ucys9eC5sZW5ndGg7fX1jYXRjaChlKXtpPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7dyYmIXcuZG9uZSYmKG89Yi5yZXR1cm4pJiZvLmNhbGwoYik7fWZpbmFsbHl7aWYoaSl0aHJvdyBpLmVycm9yfX1icmVhaztjYXNlIk11bHRpUG9seWdvbiI6ZS5zdGF0cy5udW1Qb2x5Z29ucys9cC5jb29yZGluYXRlcy5sZW5ndGg7dmFyIGs9cC5jb29yZGluYXRlczt0cnl7Zm9yKHZhciBTPShzPXZvaWQgMCxsbyhrKSksTj1TLm5leHQoKTshTi5kb25lO049Uy5uZXh0KCkpe3ZhciBPPU4udmFsdWU7dHJ5e2Zvcih2YXIgQz0odT12b2lkIDAsbG8oTykpLFA9Qy5uZXh0KCk7IVAuZG9uZTtQPUMubmV4dCgpKXt2PVAudmFsdWU7ZS5zdGF0cy5udW1Qb3NpdGlvbnMrPXYubGVuZ3RoO319Y2F0Y2goZSl7dT17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e1AmJiFQLmRvbmUmJihjPUMucmV0dXJuKSYmYy5jYWxsKEMpO31maW5hbGx5e2lmKHUpdGhyb3cgdS5lcnJvcn19fX1jYXRjaChlKXtzPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7TiYmIU4uZG9uZSYmKGw9Uy5yZXR1cm4pJiZsLmNhbGwoUyk7fWZpbmFsbHl7aWYocyl0aHJvdyBzLmVycm9yfX19fX1jYXRjaChlKXt0PXtlcnJvcjplfTt9ZmluYWxseXt0cnl7ZCYmIWQuZG9uZSYmKHI9Zi5yZXR1cm4pJiZyLmNhbGwoZik7fWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX19fSxlLmdldEJvdW5kcz1mdW5jdGlvbihlKXt2YXIgdCxyO2lmKGUuYmJveClyZXR1cm4gZS5iYm94O2lmKGUucHJvcGVydGllcyYmQXJyYXkuaXNBcnJheShlLnByb3BlcnRpZXMuYm91bmRzKSl7dmFyIG49ZS5wcm9wZXJ0aWVzLmJvdW5kcztyZXR1cm4gZS5iYm94PW4sbn12YXIgYT1udWxsO2lmKGUuZmVhdHVyZXMmJmUuZmVhdHVyZXMubGVuZ3RoPjAmJihhPUxpLmZyb21EYXRhKGUuZmVhdHVyZXMpKSxlLl9ncm91bmRPdmVybGF5T3B0aW9ucyYmZS5fZ3JvdW5kT3ZlcmxheU9wdGlvbnMubGVuZ3RoPjApdHJ5e2Zvcih2YXIgaT1sbyhlLl9ncm91bmRPdmVybGF5T3B0aW9ucyksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpe3ZhciBzPW8udmFsdWUsbD1zLmJvdW5kczshbCYmcy5jb29yZGluYXRlcyYmKGw9TGkuZnJvbVBvc2l0aW9ucyhzLmNvb3JkaW5hdGVzKSksbCYmKGE9YT9MaS5tZXJnZShhLGwpOmwpO319Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19cmV0dXJuIGUuYmJveD1hLGF9LGV9KCksY289ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxobz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuY3JlYXRlVXJsUmVxdWVzdD1mdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0LmtleXModCk7cmV0dXJuIG49bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10W2VdfSkpLHI/ZSsiPyIrbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCkrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh0W2VdKX0pKS5qb2luKCImIik6ZSsiPyIrbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlKyI9IitlbmNvZGVVUklDb21wb25lbnQodFtlXSl9KSkuam9pbigiJiIpfSxlLmdldEJhc2VVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIHNvLmlzVmFsaWRTdHJpbmcoZSk/KGUuaW5jbHVkZXMoIj8iKSYmKGU9ZS5zdWJzdHIoMCxlLmluZGV4T2YoIj8iKSkpLGUuZW5kc1dpdGgoIi8iKSYmKGU9ZS5zbGljZSgwLC0xKSksZT1lLnJlcGxhY2UoL1wvV01UU0NhcGFiaWxpdGllcy54bWwkL2ksIiIpLnJlcGxhY2UoL1wvMS4wLjAkL2ksIiIpKTpudWxsfSxlLmdldEJCb3hTdHJpbmc9ZnVuY3Rpb24odCxyKXt2YXIgbj1lLmlzU3JpZFN1cHBvcnRlZCh0LCJ3Z3M4NCIpLGE9ZS5pc1NyaWRTdXBwb3J0ZWQodCwiZXh0ZW5kZWQiKSxpPWUuaXNTcmlkU3VwcG9ydGVkKHQsIm1lcmNhdG9yIik7aWYociYmQXJyYXkuaXNBcnJheShyKSk2PT09ci5sZW5ndGgmJihyPVtyWzBdLHJbMV0sclszXSxyWzRdXSk7ZWxzZSBpZihufHxhKXI9ZS53b3JsZEJvdW5kcztlbHNlIGlmKGkpe3ZhciBvPXRoaXMudG9XZWJNZXJjYXRvcihbLTE4MCwtODUuMDUxMTI4NzhdKSxzPXRoaXMudG9XZWJNZXJjYXRvcihbMTgwLDg1LjA1MTEyODc4XSk7cj1MaS5mcm9tRWRnZXMob1swXSxvWzFdLHNbMF0sc1sxXSk7fWlmKCFyfHwhQXJyYXkuaXNBcnJheShyKXx8NCE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBib3VuZGluZyBib3ggc3BlY2lmaWVkLiIpO3N3aXRjaCh0PXQudG9Mb3dlckNhc2UoKSl7Y2FzZSJjcnM6ODQiOmNhc2UiY3JzODQiOnJldHVybiByLmpvaW4oIiwiKTtkZWZhdWx0OnJldHVybiAiIi5jb25jYXQoclsxXSwiLCIpLmNvbmNhdChyWzBdLCIsIikuY29uY2F0KHJbM10sIiwiKS5jb25jYXQoclsyXSl9fSxlLmdldFpvb21SYW5nZT1mdW5jdGlvbihlLHQpe3ZhciByLG47Im51bWJlciIhPXR5cGVvZiB0fHx0PnRoaXMuX21hcFpvb21TY2FsZTUxMlswXT9yPTA6dDx0aGlzLl9tYXBab29tU2NhbGU1MTJbdGhpcy5fbWFwWm9vbVNjYWxlNTEyLmxlbmd0aC0xXSYmKHI9dGhpcy5fbWFwWm9vbVNjYWxlNTEyLmxlbmd0aC0xKSwibnVtYmVyIiE9dHlwZW9mIGV8fGU+dGhpcy5fbWFwWm9vbVNjYWxlNTEyWzBdP249MjQ6ZTx0aGlzLl9tYXBab29tU2NhbGU1MTJbdGhpcy5fbWFwWm9vbVNjYWxlNTEyLmxlbmd0aC0xXSYmKG49dGhpcy5fbWFwWm9vbVNjYWxlNTEyLmxlbmd0aC0xKTt2YXIgYT12b2lkIDA9PT1yLGk9dm9pZCAwPT09bjtpZihhfHxpKWZvcih2YXIgbz12b2lkIDAscz12b2lkIDAsbD0wLHU9dGhpcy5fbWFwWm9vbVNjYWxlNTEyLmxlbmd0aC0xO2w8dSYmKG89dGhpcy5fbWFwWm9vbVNjYWxlNTEyW2xdLHM9dGhpcy5fbWFwWm9vbVNjYWxlNTEyW2wrMV0sYSYmdDw9byYmdD49cyYmKHI9bCsxKSxpJiZlPD1vJiZlPj1zJiYobj1sKSxhPXZvaWQgMD09PXIsKGk9dm9pZCAwPT09bil8fGEpO2wrKyk7cmV0dXJuIGEmJihyPTApLGkmJihuPTI0KSxyPm4mJihyPW4pLFtyLG5dfSxlLmlzRW5kcG9pbnRSZXZlcnNlZD1mdW5jdGlvbihlKXt2YXIgdCxyO2lmKGUpdHJ5e2Zvcih2YXIgbj1jbyh0aGlzLmtub3dSZXZlcnNlZEF4aXNFbmRwb2ludHMpLGE9bi5uZXh0KCk7IWEuZG9uZTthPW4ubmV4dCgpKXt2YXIgaT1hLnZhbHVlO2lmKGUuaW5jbHVkZXMoaSkpcmV0dXJuICEwfX1jYXRjaChlKXt0PXtlcnJvcjplfTt9ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKHI9bi5yZXR1cm4pJiZyLmNhbGwobik7fWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4gITF9LGUuaXNTcmlkQXhpc0xvbkxhdD1mdW5jdGlvbihlKXtyZXR1cm4gISFlJiYoKGU9ZS50b0xvd2VyQ2FzZSgpKSYmZS5pbmNsdWRlcygiY3JzOjg0Iil8fGUuaW5jbHVkZXMoImNyczg0Iil8fHRoaXMuX2NvbnRhaW5zU3JpZChlLHRoaXMuYXhpc09yZGVySXNMb25MYXQpKX0sZS5pc1NyaWRTdXBwb3J0ZWQ9ZnVuY3Rpb24oZSx0KXtpZihlKXt2YXIgcj10aGlzLndnczg0U3JzO3N3aXRjaCh0KXtjYXNlImV4dGVuZGVkIjpyPXRoaXMuZXh0ZW5kZWRTcnNTdXBwb3J0O2JyZWFrO2Nhc2UibWVyY2F0b3IiOnI9dGhpcy5tZXJjYXRvclNyaWRzO31yZXR1cm4gdGhpcy5fY29udGFpbnNTcmlkKGUscil9cmV0dXJuICExfSxlLnBhcnNlV0dTODRCb3VuZGluZ0JveD1mdW5jdGlvbihlKXt2YXIgdD1zby5nZXRFbGVtZW50QnlUYWdOYW1lKCJMb3dlckNvcm5lciIsZSkscj1zby5nZXRFbGVtZW50QnlUYWdOYW1lKCJVcHBlckNvcm5lciIsZSk7aWYodCYmdC52YWx1ZSYmciYmci52YWx1ZSl7dmFyIG49dC52YWx1ZS5zcGxpdCgiICIpLGE9ci52YWx1ZS5zcGxpdCgiICIpO3JldHVybiBuLmxlbmd0aD49MiYmYS5sZW5ndGg+PTI/W3BhcnNlRmxvYXQoblswXSkscGFyc2VGbG9hdChuWzFdKSxwYXJzZUZsb2F0KGFbMF0pLHBhcnNlRmxvYXQoYVsxXSldOm51bGx9fSxlLnRvV2ViTWVyY2F0b3I9ZnVuY3Rpb24oZSl7aWYoZSYmZS5sZW5ndGg+PTIpe3ZhciB0PWVbMF0qdGhpcy5lcHNnMzg1N01heEV4dGVudC8xODAscj1NYXRoLmxvZyhNYXRoLnRhbigoOTArZVsxXSkqTWF0aC5QSS8zNjApKS8oTWF0aC5QSS8xODApLG49W3Qscj1yKnRoaXMuZXBzZzM4NTdNYXhFeHRlbnQvMTgwXTtyZXR1cm4gZS5sZW5ndGg+MiYmbi5wdXNoKGVbMl0pLG59cmV0dXJuIG51bGx9LGUudG9XZ3M4ND1mdW5jdGlvbihlKXtpZihlJiZlLmxlbmd0aD49Mil7dmFyIHQ9WzE4MCplWzBdL3RoaXMuZXBzZzM4NTdNYXhFeHRlbnQsMzYwKk1hdGguYXRhbihNYXRoLmV4cChlWzFdKk1hdGguUEkvdGhpcy5lcHNnMzg1N01heEV4dGVudCkpL01hdGguUEktOTBdO3JldHVybiBlLmxlbmd0aD4yJiZ0LnB1c2goZVsyXSksdH1yZXR1cm4gbnVsbH0sZS5fY29udGFpbnNTcmlkPWZ1bmN0aW9uKGUsdCl7aWYoZSl7dmFyIHI9ZS5tYXRjaCgvWzAtOV17NCx9L2dpKTtpZihyJiYxPT09ci5sZW5ndGgmJnQuaW5jbHVkZXMoclswXSkpcmV0dXJuICEwO2lmKGU9ZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoImNyczoiLCIiKS5yZXBsYWNlKCJjcnMiLCIiKSx0LmluY2x1ZGVzKGUpKXJldHVybiAhMH1yZXR1cm4gITF9LGUuYXhpc09yZGVySXNMb25MYXQ9WyI4NCIsIjQyNTgiXSxlLmVwc2czODU3TWF4RXh0ZW50PTIwMDM3NTA4LjM0LGUuZXh0ZW5kZWRTcnNTdXBwb3J0PVsiNDI2OSIsIjQyODMiLCI0MjU4IiwiNDMwOCIsIjQyMzAiLCI0MjcyIiwiNDI3MSIsIjQyNjciLCI0NjA4IiwiNDY3NCJdLGUua25vd1JldmVyc2VkQXhpc0VuZHBvaW50cz1bImh0dHBzOi8vaGF6YXJkcy5mZW1hLmdvdi9naXMiXSxlLl9tYXBab29tU2NhbGU1MTI9WzU5MTY1NzU1MC41LDI5NTgyODc3NS4zLDE0NzkxNDM4Ny42LDczOTU3MTkzLjgxLDM2OTc4NTk2LjkxLDE4NDg5Mjk4LjQ1LDkyNDQ2NDkuMjI3LDQ2MjIzMjQuNjEzLDIzMTExNjIuMzA3LDExNTU1ODEuMTUzLDU3Nzc5MC41NzY3LDI4ODg5NS4yODgzLDE0NDQ0Ny42NDQyLDcyMjIzLjgyMjA4LDM2MTExLjkxMTA0LDE4MDU1Ljk1NTUyLDkwMjcuOTc3NzYsNDUxMy45ODg4OCwyMjU2Ljk5NDQ0LDExMjguNDk3MjIsNTY0LjI0ODYxLDI4Mi4xMjQzMDUsMTQxLjA2MjE1MjUsNzAuNTMxMDc2MjUsMzUuMjY1NTM4MTNdLGUubWVyY2F0b3JTcmlkcz1bIjM4NTciLCIxMDIxMDAiLCIzNzg1IiwiOTAwOTEzIiwiMTAyMTEzIiwiNDEwMDEiLCI1NDAwNCJdLGUud2dzODRTcnM9WyI4NCIsIjQzMjYiXSxlLkVQU0czODU3PSJFUFNHOjM4NTciLGUuRVBTRzQzMjY9IkVQU0c6NDMyNiIsZS53b3JsZEJvdW5kcz1bLTE4MCwtOTAsMTgwLDkwXSxlfSgpLGZvPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0sbj0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybiB7bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZuPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtuKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0PyJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiI6IlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKX0scG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbigpe2Zvcih2YXIgdCxyLG4sYT1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylhW2ldPWFyZ3VtZW50c1tpXTt0cnl7Zm9yKHZhciBvPWZvKGEpLHM9by5uZXh0KCk7IXMuZG9uZTtzPW8ubmV4dCgpKXt2YXIgbD1zLnZhbHVlO2lmKGwpZm9yKHZhciB1IGluIGwpbC5oYXNPd25Qcm9wZXJ0eSh1KSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSh1KSYmKHZvaWQgMCE9PWxbdV0mJm51bGwhPWxbdV0/dGhpc1t1XWluc3RhbmNlb2YgZT90aGlzW3VdLm1lcmdlKGxbdV0pOnRoaXNbdV09bFt1XToobnx8KG49bmV3KE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcikpLHRoaXNbdV09blt1XSkpO319Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19cmV0dXJuIHRoaXN9LGV9KCkseW89ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LHIpe3JldHVybiBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXQ7fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7fSxlKHQscil9O3JldHVybiBmdW5jdGlvbih0LHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXQ7fWUodCxyKSx0LnByb3RvdHlwZT1udWxsPT09cj9PYmplY3QuY3JlYXRlKHIpOihuLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbik7fX0oKSxtbz1mdW5jdGlvbihlLHQpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgbixhLGk9ci5jYWxsKGUpLG89W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEobj1pLm5leHQoKSkuZG9uZTspby5wdXNoKG4udmFsdWUpO31jYXRjaChlKXthPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSk7fWZpbmFsbHl7aWYoYSl0aHJvdyBhLmVycm9yfX1yZXR1cm4gb30sZ289ZnVuY3Rpb24oZSx0LHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgbixhPTAsaT10Lmxlbmd0aDthPGk7YSsrKSFuJiZhIGluIHR8fChufHwobj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDAsYSkpLG5bYV09dFthXSk7cmV0dXJuIGUuY29uY2F0KG58fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKX0sdm89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5tYXhGZWF0dXJlcz0xLzAsdC5wcm94eVNlcnZpY2U9dm9pZCAwLHR9cmV0dXJuIHlvKHQsZSksdC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyXT1hcmd1bWVudHNbcl07dmFyIG49ZS5wcm90b3R5cGUubWVyZ2UuYXBwbHkodGhpcyxnbyhbXSxtbyh0KSwhMSkpO3JldHVybiBuLm1heEZlYXR1cmVzPDAmJihuLm1heEZlYXR1cmVzPTEvMCksbn0sdH0ocG8pLF9vPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10O318fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO30sZSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhyKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10O31lKHQsciksdC5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pO319KCksYm89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5wYXJzZVN0eWxlcz0hMCx0fXJldHVybiBfbyh0LGUpLHR9KHZvKSx3bz1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dDt9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTt9LGUodCxyKX07cmV0dXJuIGZ1bmN0aW9uKHQscil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcocikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dDt9ZSh0LHIpLHQucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKTt9fSgpLHhvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuaXNBeGlzT3JkZXJMb25MYXQ9dm9pZCAwLHQucHJvcGVydHlUeXBlcz12b2lkIDAsdH1yZXR1cm4gd28odCxlKSx0fShibyksa289ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX3Bvc2l0aW9uPTAsdGhpcy5fcGFyc2VOYW1lc3BhY2VzPSEwLHRoaXMuX2xldHRlclJ4PS9bYS16QS1aXS8sdGhpcy5fYXR0cmlidXRlU3RhcnRSeD0vW2EtekEtWiciPl0vLHRoaXMuX25hbWVUZXJtaW5hdG9yPW5ldyBTZXQoIlxyXG5cdD4vPSAiKSx0aGlzLl9uYW1lc3BhY2VQcmVmaXhSeD0vXnhtbG5zKDp8JCkvaSwiYm9vbGVhbiI9PXR5cGVvZiBlJiYodGhpcy5fcGFyc2VOYW1lc3BhY2VzPWUpO31yZXR1cm4gZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7dGhpcy5fcG9zaXRpb249MCx0aGlzLl9uYW1lc3BhY2VzPXt9O3ZhciB0PXRoaXMuX3BhcnNlQ2hpbGRyZW4oZSk7cmV0dXJuIDE9PT10Lmxlbmd0aD97bmFtZXNwYWNlczp0aGlzLl9uYW1lc3BhY2VzLHJvb3Q6dFswXX06bnVsbH0sZS5wcm90b3R5cGUuX3BhcnNlQ2hpbGRyZW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1bXTtlW3RoaXMuX3Bvc2l0aW9uXTspe2lmKCI8Ij09PWVbdGhpcy5fcG9zaXRpb25dKXtzd2l0Y2goZVt0aGlzLl9wb3NpdGlvbisxXSl7Y2FzZSIvIjpyZXR1cm4gdGhpcy5fYWR2YW5jZVBvc2l0aW9uVG9TdWJzdHJpbmcoZSwiPiIpLG47Y2FzZSIhIjpjYXNlIj8iOnN3aXRjaCh0aGlzLl9wb3NpdGlvbis9MixlW3RoaXMuX3Bvc2l0aW9uXSl7Y2FzZSItIjp0aGlzLl9hZHZhbmNlUG9zaXRpb25Ub1N1YnN0cmluZyhlLCItLVx4M2UiKTticmVhaztjYXNlIlsiOnRoaXMuX3Bvc2l0aW9uKz03LHI9dGhpcy5fcG9zaXRpb24sdGhpcy5fYWR2YW5jZVBvc2l0aW9uVG9TdWJzdHJpbmcoZSwiXV0+IiksdGhpcy5fcG9zaXRpb24+ciYmKHQ9ZS5zdWJzdHJpbmcocix0aGlzLl9wb3NpdGlvbi0yKSkmJnQudHJpbSgpLmxlbmd0aD4wJiZuLnB1c2godCk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9hZHZhbmNlUG9zaXRpb25Ub1N1YnN0cmluZyhlLCI+Iik7fXRoaXMuX3Bvc2l0aW9uKys7Y29udGludWV9bi5wdXNoKHRoaXMuX3BhcnNlTm9kZShlKSk7fWVsc2Ugcj10aGlzLl9wb3NpdGlvbix0aGlzLl9wb3NpdGlvbj1lLmluZGV4T2YoIjwiLHRoaXMuX3Bvc2l0aW9uKS0xLC0yPT09dGhpcy5fcG9zaXRpb24mJih0aGlzLl9wb3NpdGlvbj1lLmxlbmd0aCksKHQ9ZS5zdWJzdHJpbmcocix0aGlzLl9wb3NpdGlvbisxKSkmJnQudHJpbSgpLmxlbmd0aD4wJiZuLnB1c2godCk7dGhpcy5fcG9zaXRpb24rKzt9cmV0dXJuIG59LGUucHJvdG90eXBlLl9wYXJzZU5vZGU9ZnVuY3Rpb24oZSl7dGhpcy5fcG9zaXRpb24rKzt2YXIgdCxyPXRoaXMuX3BhcnNlTmFtZShlKTtpZih0aGlzLl9wYXJzZU5hbWVzcGFjZXMmJnIuaW5jbHVkZXMoIjoiKSl7dmFyIG49ci5zcGxpdCgiOiIpOzI9PT1uLmxlbmd0aCYmKHQ9blswXSxyPW5bMV0pO312YXIgYT17YXR0cmlidXRlczp0aGlzLl9wYXJzZUF0dHJpYnV0ZXMoZSksbnNQcmVmaXg6dCx0YWdOYW1lOnJ9O2lmKCIvIiE9PWVbdGhpcy5fcG9zaXRpb24tMV0pe3RoaXMuX3Bvc2l0aW9uKys7dmFyIGk9dGhpcy5fcGFyc2VDaGlsZHJlbihlKTsxPT09aS5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2YgaVswXT9hLnZhbHVlPWlbMF06YS5jaGlsZE5vZGVzPWk7fXJldHVybiBhfSxlLnByb3RvdHlwZS5fcGFyc2VBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG4sYSxpPW51bGwsbz1lW3RoaXMuX3Bvc2l0aW9uXTsiPiIhPT1vOyl7aWYodGhpcy5fbGV0dGVyUngudGVzdChvKSl7Zm9yKGl8fChpPXt9KSx0PXRoaXMuX3BhcnNlTmFtZShlKSxvPWVbdGhpcy5fcG9zaXRpb25dOyF0aGlzLl9hdHRyaWJ1dGVTdGFydFJ4LnRlc3Qobyk7KXRoaXMuX3Bvc2l0aW9uKyssbz1lW3RoaXMuX3Bvc2l0aW9uXTtpZigiJyI9PT1vfHwnIic9PT1vPyhhPWVbdGhpcy5fcG9zaXRpb25dLG49Kyt0aGlzLl9wb3NpdGlvbix0aGlzLl9wb3NpdGlvbj1lLmluZGV4T2YoYSxuKSxyPWUuc3Vic3RyaW5nKG4sdGhpcy5fcG9zaXRpb24pKToocj1udWxsLHRoaXMuX3Bvc2l0aW9uLS0pLGlbdF09cix0aGlzLl9wYXJzZU5hbWVzcGFjZXMmJnRoaXMuX25hbWVzcGFjZVByZWZpeFJ4LnRlc3QodCkpaWYodC5pbmNsdWRlcygiOiIpKXt2YXIgcz10LnNwbGl0KCI6Iik7Mj09PXMubGVuZ3RoJiYodGhpcy5fbmFtZXNwYWNlc1tzWzFdXT1yKTt9ZWxzZSB0aGlzLl9uYW1lc3BhY2VzW3RdPXI7fXRoaXMuX3Bvc2l0aW9uKyssbz1lW3RoaXMuX3Bvc2l0aW9uXTt9cmV0dXJuIGl9LGUucHJvdG90eXBlLl9wYXJzZU5hbWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX3Bvc2l0aW9uOyF0aGlzLl9uYW1lVGVybWluYXRvci5oYXMoZVt0aGlzLl9wb3NpdGlvbl0pOyl0aGlzLl9wb3NpdGlvbisrO3JldHVybiBlLnN1YnN0cmluZyh0LHRoaXMuX3Bvc2l0aW9uKX0sZS5wcm90b3R5cGUuX2FkdmFuY2VQb3NpdGlvblRvU3Vic3RyaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcG9zaXRpb249ZS5pbmRleE9mKHQsdGhpcy5fcG9zaXRpb24pLTEsLTE9PT10aGlzLl9wb3NpdGlvbj90aGlzLl9wb3NpdGlvbj1lLmxlbmd0aDp0aGlzLl9wb3NpdGlvbis9dC5sZW5ndGg7fSxlfSgpLFNvPWZ1bmN0aW9uKCl7cmV0dXJuIFNvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBhIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoZVthXT10W2FdKTtyZXR1cm4gZX0sU28uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxObz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLG49MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmbj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbbisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD8iT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iOiJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIil9LE9vPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5yZWFkPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7dD0obmV3IHhvKS5tZXJnZSh0KTt2YXIgcj0obmV3IGtvKS5wYXJzZShlKTtpZihzby5kb2NIYXNEYXRhKHIpKXtpZigiTXVsdGlHZW9tZXRyeSI9PT1yLnJvb3QudGFnTmFtZXx8IkZlYXR1cmVDb2xsZWN0aW9uIj09PXIucm9vdC50YWdOYW1lKXJldHVybiB0aGlzLl9wYXJzZUZlYXR1cmVDb2xsZWN0aW9uKHIucm9vdCx0KTt2YXIgbj10aGlzLl9wYXJzZUdlb21ldHJ5KHIucm9vdCx0KTtpZihuKXJldHVybiBTbyhTbyh7fSxuLmJib3gmJntiYm94Om4uYmJveH0pLHtmZWF0dXJlczpbbl0sdHlwZToiRmVhdHVyZUNvbGxlY3Rpb24ifSl9cmV0dXJuIG51bGx9LGUucmVhZEdlb21ldHJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9KG5ldyB4bykubWVyZ2UodCksdGhpcy5fcGFyc2VHZW9tZXRyeShlLHQpfSxlLl9wYXJzZUdlb21ldHJ5PWZ1bmN0aW9uKGUsdCl7aWYoZSlpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciByPShuZXcga28pLnBhcnNlKGUpO3N3aXRjaChyLnJvb3QudGFnTmFtZSl7Y2FzZSJQb2ludCI6Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2ludCI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOmNhc2UiTXVsdGlDdXJ2ZSI6Y2FzZSJNdWx0aVN1cmZhY2UiOmNhc2UiTXVsdGlQb2x5Z29uIjpjYXNlIkZlYXR1cmUiOnJldHVybiB0PXRoaXMuX2FuYWx5emVOb2RlKHIucm9vdCx0KSx0aGlzLl9wYXJzZUdlb21ldHJ5KHIucm9vdCx0KX19ZWxzZSBzd2l0Y2godD10aGlzLl9hbmFseXplTm9kZShlLHQpLGUudGFnTmFtZSl7Y2FzZSJQb2ludCI6cmV0dXJuIHRoaXMuX3BhcnNlUG9pbnQoZSx0KTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiB0aGlzLl9wYXJzZUxpbmVTdHJpbmcoZSx0KTtjYXNlIlBvbHlnb24iOnJldHVybiB0aGlzLl9wYXJzZVBvbHlnb24oZSx0KTtjYXNlIkZlYXR1cmUiOnJldHVybiB0aGlzLl9wYXJzZUZlYXR1cmUoZSx0KTtjYXNlIk11bHRpUG9pbnQiOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpQ3VydmUiOmNhc2UiTXVsdGlTdXJmYWNlIjpjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIHRoaXMuX3BhcnNlTXVsdGlHZW9tZXRyeShlLHQpO2Nhc2Uid2hlcmUiOmNhc2UiZ2VvbWV0cnkiOmlmKGUuY2hpbGROb2Rlcy5sZW5ndGg+PTEpcmV0dXJuIHRoaXMuX3BhcnNlR2VvbWV0cnkoZS5jaGlsZE5vZGVzWzBdLHQpO2JyZWFrO2RlZmF1bHQ6aWYoc28uZG9lc0VsZW1lbnRDb250YWluVGFnTmFtZSgiZ2VvbWV0cnkiLGUpKXJldHVybiB0aGlzLl9wYXJzZUZlYXR1cmUoZSx0KTtpZihlLmNoaWxkTm9kZXMmJjE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiZzby5kb2VzRWxlbWVudENvbnRhaW5UYWdOYW1lKCJnZW9tZXRyeSIsZS5jaGlsZE5vZGVzWzBdKSlyZXR1cm4gdGhpcy5fcGFyc2VGZWF0dXJlKGUuY2hpbGROb2Rlc1swXSx0KX1yZXR1cm4gbnVsbH0sZS5fcGFyc2VGZWF0dXJlQ29sbGVjdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByLG4sYT10aGlzO2lmKGUpc3dpdGNoKGUudGFnTmFtZSl7Y2FzZSJNdWx0aUdlb21ldHJ5IjpjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjppZihlLmNoaWxkTm9kZXMpe3ZhciBpPVtdLG89bnVsbDt0PXRoaXMuX2FuYWx5emVOb2RlKGUsdCk7dmFyIHM9ZnVuY3Rpb24oZSl7c3dpdGNoKGUudGFnTmFtZSl7Y2FzZSJib3VuZGVkQnkiOm89bC5fcGFyc2VFbnZlbG9wZShlLHQpO2JyZWFrO2Nhc2UiZ2VvbWV0cnlNZW1iZXIiOmNhc2UiZmVhdHVyZU1lbWJlciI6Y2FzZSJnZW9tZXRyeU1lbWJlcnMiOmNhc2UiZmVhdHVyZU1lbWJlcnMiOmNhc2UibWVtYmVyIjp2YXIgcj1udWxsLG49e30scz1udWxsO2UuY2hpbGROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigiYm91bmRlZEJ5Ij09PWUudGFnTmFtZSlzPWEuX3BhcnNlRW52ZWxvcGUoZSx0KTtlbHNlIHt2YXIgaT1hLl90cnlQYXJzZUZlYXR1cmUoZSxuLHQpO2kmJihyPWkpO319KSksciYmKHMmJihyLmJib3g9cyksT2JqZWN0LmFzc2lnbihyLnByb3BlcnRpZXMsbiksbi5pZD9yLmlkPW4uaWQ6bi5maWQmJihyLmlkPW4uZmlkKSxpLnB1c2gocikpO31pZihpLmxlbmd0aD49dC5tYXhGZWF0dXJlcylyZXR1cm4gImJyZWFrIn0sbD10aGlzO3RyeXtmb3IodmFyIHU9Tm8oZS5jaGlsZE5vZGVzKSxjPXUubmV4dCgpOyFjLmRvbmU7Yz11Lm5leHQoKSl7aWYoImJyZWFrIj09PXMoYy52YWx1ZSkpYnJlYWt9fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtjJiYhYy5kb25lJiYobj11LnJldHVybikmJm4uY2FsbCh1KTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fWlmKGkubGVuZ3RoPjApe298fChvPUxpLmZyb21EYXRhKGkpKSxpLmxlbmd0aD50Lm1heEZlYXR1cmVzJiYoaT1pLnNwbGljZSgwLHQubWF4RmVhdHVyZXMpKTt2YXIgaD17YmJveDpvLGZlYXR1cmVzOmksdHlwZToiRmVhdHVyZUNvbGxlY3Rpb24ifSxmPXt9O3JldHVybiBzby5hZGRBdHRyaWJ1dGVzVG9PYmplY3QoZSxmKSxPYmplY3Qua2V5cyhmKS5sZW5ndGg+MCYmKGgucHJvcGVydGllcz1mKSxofX19cmV0dXJuIG51bGx9LGUuX3RyeVBhcnNlRmVhdHVyZT1mdW5jdGlvbihlLHQscil7dmFyIG4sYT10aGlzO3N3aXRjaChyPXRoaXMuX2FuYWx5emVOb2RlKGUsciksZS50YWdOYW1lKXtjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aVBvaW50IjpjYXNlIk11bHRpTGluZVN0cmluZyI6Y2FzZSJNdWx0aUN1cnZlIjpjYXNlIk11bHRpU3VyZmFjZSI6Y2FzZSJNdWx0aVBvbHlnb24iOmNhc2UiRmVhdHVyZSI6cmV0dXJuIHRoaXMuX3BhcnNlR2VvbWV0cnkoZSxyKTtjYXNlImdlb21ldHJ5IjpyZXR1cm4gZS5jaGlsZE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPWEuX3RyeVBhcnNlRmVhdHVyZShlLHQscik7aSYmKG49aSk7fSkpLG47Y2FzZSJib3VuZGVkQnkiOmJyZWFrO2RlZmF1bHQ6aWYoZS5hdHRyaWJ1dGVzJiZPYmplY3Qua2V5cyhlLmF0dHJpYnV0ZXMpLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJnbWw6aWQiPT09cj90LmlkPWUuYXR0cmlidXRlc1tyXTpyLnN0YXJ0c1dpdGgoInhtbG5zIil8fHIuaW5jbHVkZXMoIjoiKXx8ci5zdGFydHNXaXRoKCJfIil8fCh0W3JdPWUuYXR0cmlidXRlc1tyXSk7fSkpLGUuY2hpbGROb2RlcyYmMCE9PWUuY2hpbGROb2Rlcy5sZW5ndGgpcmV0dXJuIGUuY2hpbGROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1hLl90cnlQYXJzZUZlYXR1cmUoZSx0LHIpO2kmJihuPWkpO30pKSxuO3RoaXMuX3BhcnNlTWV0YWRhdGEoZSx0LHIpO31yZXR1cm4gbnVsbH0sZS5fcGFyc2VGZWF0dXJlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLGk9e30sbz1udWxsO3Q9dGhpcy5fYW5hbHl6ZU5vZGUoZSx0KTt0cnl7Zm9yKHZhciBzPU5vKGUuY2hpbGROb2RlcyksbD1zLm5leHQoKTshbC5kb25lO2w9cy5uZXh0KCkpe3ZhciB1PWwudmFsdWU7c3dpdGNoKHUudGFnTmFtZSl7Y2FzZSJib3VuZGVkQnkiOm89dGhpcy5fcGFyc2VFbnZlbG9wZSh1LHQpO2JyZWFrO2Nhc2UiZ2VvbWV0cnkiOmE9dGhpcy5fcGFyc2VHZW9tZXRyeSh1LHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5fcGFyc2VNZXRhZGF0YSh1LGksdCk7fX19Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2wmJiFsLmRvbmUmJihuPXMucmV0dXJuKSYmbi5jYWxsKHMpO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19cmV0dXJuIGE/KGUuYXR0cmlidXRlcyYmZS5hdHRyaWJ1dGVzLmlkJiYoYS5pZD1lLmF0dHJpYnV0ZXMuaWQpLGEuYmJveD1vLGEucHJvcGVydGllcz1PYmplY3QuYXNzaWduKGEucHJvcGVydGllcyxpKSxhKTpudWxsfSxlLl9wYXJzZU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCxyKXshci5wYXJzZVN0eWxlcyYmc28uaWdub3JlUHJvcGVydHkoZS50YWdOYW1lLGUudmFsdWUpfHwodFtlLnRhZ05hbWVdPXIucHJvcGVydHlUeXBlcyYmci5wcm9wZXJ0eVR5cGVzW2UudGFnTmFtZV0/c28udHJ5Q2FzdE9iamVjdChlLnZhbHVlLHIucHJvcGVydHlUeXBlc1tlLnRhZ05hbWVdKTplLnZhbHVlKTt9LGUuX3BhcnNlRW52ZWxvcGU9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXRoaXMsYT1zby5nZXRFbGVtZW50QnlUYWdOYW1lKCJFbnZlbG9wZSIsZSk7aWYoYSl7dmFyIGksbztpZih0PXRoaXMuX2FuYWx5emVOb2RlKGEsdCksYS5jaGlsZE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlLnRhZ05hbWUpe2Nhc2UibG93ZXJDb3JuZXIiOihyPW4uX3BhcnNlQ29vcmRpbmF0ZXMoZSx0KSkmJnIubGVuZ3RoPjAmJihpPXJbMF0pO2JyZWFrO2Nhc2UidXBwZXJDb3JuZXIiOihyPW4uX3BhcnNlQ29vcmRpbmF0ZXMoZSx0KSkmJnIubGVuZ3RoPjAmJihvPXJbMF0pO319KSksaSYmbylyZXR1cm4gaS5sZW5ndGg+PTMmJm8ubGVuZ3RoPj0zP1tpWzBdLGlbMV0saVsyXSxvWzBdLG9bMV0sb1syXV06W2lbMF0saVsxXSxvWzBdLG9bMV1dfWVsc2Uge3ZhciBzPXNvLmdldEVsZW1lbnRCeVRhZ05hbWUoIkJveCIsZSk7aWYocyYmcy5jaGlsZE5vZGVzKXt0PXRoaXMuX2FuYWx5emVOb2RlKHMsdCk7dmFyIGw9c28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgiY29vcmRpbmF0ZXMiLHMpO2lmKGwmJmwudmFsdWUmJihyPXRoaXMuX3BhcnNlQ29vcmRpbmF0ZXMobCx0KSkmJnIubGVuZ3RoPj0yKXJldHVybiBbclswXVswXSxyWzBdWzFdLHJbMV1bMF0sclsxXVsxXV19fXJldHVybiBudWxsfSxlLl9wYXJzZVBvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtpZihlLmNoaWxkTm9kZXMpe3ZhciBhPXZvaWQgMCxpPXt9O3RyeXtmb3IodmFyIG89Tm8oZS5jaGlsZE5vZGVzKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTtzd2l0Y2gobC50YWdOYW1lKXtjYXNlInBvcyI6Y2FzZSJjb29yZGluYXRlcyI6dmFyIHU9dGhpcy5fcGFyc2VDb29yZGluYXRlcyhsLHQpO3UmJnUubGVuZ3RoPjAmJihhPXVbMF0pO2JyZWFrO2RlZmF1bHQ6dGhpcy5fcGFyc2VNZXRhZGF0YShsLGksdCk7fX19Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihuPW8ucmV0dXJuKSYmbi5jYWxsKG8pO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19aWYoYSlyZXR1cm4ge2dlb21ldHJ5Ontjb29yZGluYXRlczphLHR5cGU6IlBvaW50In0scHJvcGVydGllczppLHR5cGU6IkZlYXR1cmUifX1yZXR1cm4gbnVsbH0sZS5fcGFyc2VMaW5lU3RyaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtpZihlLmNoaWxkTm9kZXMpe3ZhciBhPXZvaWQgMCxpPXt9O3RyeXtmb3IodmFyIG89Tm8oZS5jaGlsZE5vZGVzKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTtzd2l0Y2gobC50YWdOYW1lKXtjYXNlInBvcyI6Y2FzZSJwb3NMaXN0IjpjYXNlImNvb3JkaW5hdGVzIjphPXRoaXMuX3BhcnNlQ29vcmRpbmF0ZXMobCx0KTticmVhaztkZWZhdWx0OnRoaXMuX3BhcnNlTWV0YWRhdGEobCxpLHQpO319fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobj1vLnJldHVybikmJm4uY2FsbChvKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fWlmKGEmJmEubGVuZ3RoPj0yKXJldHVybiB7Z2VvbWV0cnk6e2Nvb3JkaW5hdGVzOmEsdHlwZToiTGluZVN0cmluZyJ9LHByb3BlcnRpZXM6aSx0eXBlOiJGZWF0dXJlIn19cmV0dXJuIG51bGx9LGUuX3BhcnNlUG9seWdvbj1mdW5jdGlvbihlLHQpe3ZhciByLG4sYT10aGlzO2lmKGUuY2hpbGROb2Rlcyl7dmFyIGksbz1bXSxzPXt9O3RyeXtmb3IodmFyIGw9Tm8oZS5jaGlsZE5vZGVzKSx1PWwubmV4dCgpOyF1LmRvbmU7dT1sLm5leHQoKSl7dmFyIGM9dS52YWx1ZTtzd2l0Y2goYy50YWdOYW1lKXtjYXNlIm91dGVyQm91bmRhcnlJcyI6Y2FzZSJpbm5lckJvdW5kYXJ5SXMiOmNhc2UiZXh0ZXJpb3IiOmNhc2UiaW50ZXJpb3IiOmMuY2hpbGROb2RlcyYmYy5jaGlsZE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJMaW5lYXJSaW5nIj09PWUudGFnTmFtZSYmZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoPjAmJihpPWEuX3BhcnNlQ29vcmRpbmF0ZXMoZS5jaGlsZE5vZGVzWzBdLHQpKS5sZW5ndGg+PTMmJihzby5jbG9zZVJpbmcoaSksby5wdXNoKGkpKTt9KSk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9wYXJzZU1ldGFkYXRhKGMscyx0KTt9fX1jYXRjaChlKXtyPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7dSYmIXUuZG9uZSYmKG49bC5yZXR1cm4pJiZuLmNhbGwobCk7fWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1pZihvLmxlbmd0aD49MSlyZXR1cm4ge2dlb21ldHJ5Ontjb29yZGluYXRlczpvLHR5cGU6IlBvbHlnb24ifSxwcm9wZXJ0aWVzOnMsdHlwZToiRmVhdHVyZSJ9fXJldHVybiBudWxsfSxlLl9wYXJzZU11bHRpR2VvbWV0cnk9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvLHMsbCx1LGMsaCxmLGQscD1bXSx5PXt9O3RyeXtmb3IodmFyIG09Tm8oZS5jaGlsZE5vZGVzKSxnPW0ubmV4dCgpOyFnLmRvbmU7Zz1tLm5leHQoKSl7dmFyIHY9Zy52YWx1ZTtzd2l0Y2godi50YWdOYW1lKXtjYXNlInBvaW50TWVtYmVyIjpjYXNlInBvaW50TWVtYmVycyI6Y2FzZSJsaW5lU3RyaW5nTWVtYmVyIjpjYXNlImxpbmVTdHJpbmdNZW1iZXJzIjpjYXNlInBvbHlnb25NZW1iZXIiOmNhc2UicG9seWdvbk1lbWJlcnMiOmNhc2UiY3VydmVNZW1iZXIiOmNhc2UiY3VydmVNZW1iZXJzIjpjYXNlInN1cmZhY2VNZW1iZXIiOmNhc2Uic3VyZmFjZU1lbWJlcnMiOnRyeXtmb3IodmFyIF89KGE9dm9pZCAwLE5vKHYuY2hpbGROb2RlcykpLGI9Xy5uZXh0KCk7IWIuZG9uZTtiPV8ubmV4dCgpKXt2YXIgdz1iLnZhbHVlOyhmPXRoaXMuX3BhcnNlR2VvbWV0cnkodyx0KSkmJnAucHVzaChmLmdlb21ldHJ5KTt9fWNhdGNoKGUpe2E9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtiJiYhYi5kb25lJiYoaT1fLnJldHVybikmJmkuY2FsbChfKTt9ZmluYWxseXtpZihhKXRocm93IGEuZXJyb3J9fWJyZWFrO2RlZmF1bHQ6dGhpcy5fcGFyc2VNZXRhZGF0YSh2LHksdCk7fX19Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2cmJiFnLmRvbmUmJihuPW0ucmV0dXJuKSYmbi5jYWxsKG0pO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dmFyIHg9W107c3dpdGNoKGUudGFnTmFtZSl7Y2FzZSJNdWx0aVBvaW50Ijp0cnl7Zm9yKHZhciBrPU5vKHApLFM9ay5uZXh0KCk7IVMuZG9uZTtTPWsubmV4dCgpKXsiUG9pbnQiPT09KEU9Uy52YWx1ZSkudHlwZT94LnB1c2goRS5jb29yZGluYXRlcyk6Ik11bHRpUG9pbnQiPT09RS50eXBlJiYoeD14LmNvbmNhdChFLmNvb3JkaW5hdGVzKSk7fX1jYXRjaChlKXtvPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7UyYmIVMuZG9uZSYmKHM9ay5yZXR1cm4pJiZzLmNhbGwoayk7fWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX14Lmxlbmd0aD4wJiYoZD17Y29vcmRpbmF0ZXM6eCx0eXBlOiJNdWx0aVBvaW50In0pO2JyZWFrO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpQ3VydmUiOnRyeXtmb3IodmFyIE49Tm8ocCksTz1OLm5leHQoKTshTy5kb25lO089Ti5uZXh0KCkpeyJMaW5lU3RyaW5nIj09PShFPU8udmFsdWUpLnR5cGU/eC5wdXNoKEUuY29vcmRpbmF0ZXMpOiJNdWx0aUxpbmVTdHJpbmciPT09RS50eXBlJiYoeD14LmNvbmNhdChFLmNvb3JkaW5hdGVzKSk7fX1jYXRjaChlKXtsPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7TyYmIU8uZG9uZSYmKHU9Ti5yZXR1cm4pJiZ1LmNhbGwoTik7fWZpbmFsbHl7aWYobCl0aHJvdyBsLmVycm9yfX14Lmxlbmd0aD4wJiYoZD17Y29vcmRpbmF0ZXM6eCx0eXBlOiJNdWx0aUxpbmVTdHJpbmcifSk7YnJlYWs7Y2FzZSJNdWx0aVN1cmZhY2UiOmNhc2UiTXVsdGlQb2x5Z29uIjp0cnl7Zm9yKHZhciBDPU5vKHApLFA9Qy5uZXh0KCk7IVAuZG9uZTtQPUMubmV4dCgpKXt2YXIgRTsiUG9seWdvbiI9PT0oRT1QLnZhbHVlKS50eXBlP3gucHVzaChFLmNvb3JkaW5hdGVzKToiTXVsdGlQb2x5Z29uIj09PUUudHlwZSYmKHg9eC5jb25jYXQoRS5jb29yZGluYXRlcykpO319Y2F0Y2goZSl7Yz17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e1AmJiFQLmRvbmUmJihoPUMucmV0dXJuKSYmaC5jYWxsKEMpO31maW5hbGx5e2lmKGMpdGhyb3cgYy5lcnJvcn19eC5sZW5ndGg+MCYmKGQ9e2Nvb3JkaW5hdGVzOngsdHlwZToiTXVsdGlQb2x5Z29uIn0pO31yZXR1cm4gZD97Z2VvbWV0cnk6ZCxwcm9wZXJ0aWVzOnksdHlwZToiRmVhdHVyZSJ9Om51bGx9LGUuX2FuYWx5emVOb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHx7fSxlJiZlLmF0dHJpYnV0ZXMpe3ZhciByPWUuYXR0cmlidXRlcy5kaW1lbnNpb258fGUuYXR0cmlidXRlcy5zcnNEaW1lbnNpb247ciYmKHQuZGltZW5zaW9uPXIpO3ZhciBuPWUuYXR0cmlidXRlcy5zcnNOYW1lO2lmKCJib29sZWFuIiE9dHlwZW9mIHQuaXNNZXJjYXRvciYmaG8uaXNTcmlkU3VwcG9ydGVkKG4sIm1lcmNhdG9yIikmJih0LmlzTWVyY2F0b3I9ITApLCJib29sZWFuIiE9dHlwZW9mIHQuaXNBeGlzT3JkZXJMb25MYXQpaWYoaG8uaXNTcmlkQXhpc0xvbkxhdChuKSl0LmlzQXhpc09yZGVyTG9uTGF0PSEwO2Vsc2UgaWYoZS5hdHRyaWJ1dGVzLnNjaGVtYUxvY2F0aW9uKXt2YXIgYT1lLmF0dHJpYnV0ZXMuc2NoZW1hTG9jYXRpb24udG9Mb3dlckNhc2UoKTsoYS5pbmNsdWRlcygic2VydmljZT13ZnMiKSYmYS5pbmNsdWRlcygidmVyc2lvbj0xLjAuMCIpfHxhLmluY2x1ZGVzKCIvd2ZzLzEuMC4wLyIpfHxoby5pc0VuZHBvaW50UmV2ZXJzZWQoYSkpJiYodC5pc0F4aXNPcmRlckxvbkxhdD0hMCk7fX1yZXR1cm4gdH0sZS5fcGFyc2VDb29yZGluYXRlcz1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHI9W107aWYoZSYmdGhpcy5fY29vcmRpbmF0ZVRhZ3MuaGFzKGUudGFnTmFtZSkpe3ZhciBuPXZvaWQgMCxhPXZvaWQgMCxpPXZvaWQgMCxvPWUudmFsdWUscz0hMSxsPXRoaXMuX2Nvb3JkaW5hdGUyUng7aWYoIjMiPT09dC5kaW1lbnNpb24mJihsPXRoaXMuX2Nvb3JkaW5hdGUzUngpLGUuYXR0cmlidXRlcyYmKCgiMyIhPT10LmRpbWVuc2lvbiYmIjMiPT09ZS5hdHRyaWJ1dGVzLmRpbWVuc2lvbnx8IjMiPT09ZS5hdHRyaWJ1dGVzLnNyc0RpbWVuc2lvbikmJihsPXRoaXMuX2Nvb3JkaW5hdGUzUngpLCJjb29yZGluYXRlcyI9PT1lLnRhZ05hbWUpKXt2YXIgdT0iLiIsYz0iLCIsaD0iICI7ZS5hdHRyaWJ1dGVzLmRlY2ltYWwmJiIuIiE9PSh1PWUuYXR0cmlidXRlcy5kZWNpbWFsKSYmKG89by5yZXBsYWNlKG5ldyBSZWdFeHAodSwiZyIpLCJYIikpLGUuYXR0cmlidXRlcy5jcyYmIiwiIT09KGM9ZS5hdHRyaWJ1dGVzLmNzKSYmKG89by5yZXBsYWNlKG5ldyBSZWdFeHAoYywiZyIpLCIsIikpLGUuYXR0cmlidXRlcy50cyYmIiAiIT09KGg9ZS5hdHRyaWJ1dGVzLnRzKSYmKG89by5yZXBsYWNlKG5ldyBSZWdFeHAoaCwiZyIpLCIgIikpLCIuIiE9PXUmJihvPW8ucmVwbGFjZSgvWC9nLCIuIikpO31mb3Iobj1sLmV4ZWMobyk7bjspe2lmKG4ubGVuZ3RoPj0zJiYoYT1wYXJzZUZsb2F0KG5bMV0pLGk9cGFyc2VGbG9hdChuWzJdKSxzby5pc1ZhbGlkTnVtYmVyKGEpJiZzby5pc1ZhbGlkTnVtYmVyKGkpKSl7dmFyIGY9bnVsbDtpZihuLmxlbmd0aD49NCYmKGY9cGFyc2VGbG9hdChuWzNdKSxzby5pc1ZhbGlkTnVtYmVyKGYpfHwoZj1udWxsKSksdC5pc01lcmNhdG9yKXt2YXIgZD1bYSxpXTt0LmlzQXhpc09yZGVyTG9uTGF0JiYoZD1baSxhXSksbnVsbCE9PWYmJmQucHVzaChmKSxyLnB1c2goaG8udG9XZ3M4NChkKSk7fWVsc2Uge2lmKCJib29sZWFuIiE9dHlwZW9mIHQuaXNBeGlzT3JkZXJMb25MYXQmJih0LmlzQXhpc09yZGVyTG9uTGF0PShhPj05MHx8YTw9LTkwKSYmaTw9OTAmJmk+PS05MCx0LmlzQXhpc09yZGVyTG9uTGF0JiZyLmxlbmd0aD4wKSl7cz0hMDticmVha310LmlzQXhpc09yZGVyTG9uTGF0P3IucHVzaChzby5jcmVhdGVQb3NpdGlvbihhLGksZiwhMCkpOnIucHVzaChzby5jcmVhdGVQb3NpdGlvbihpLGEsZiwhMCkpO319bj1sLmV4ZWMobyk7fWlmKHMpcmV0dXJuIHRoaXMuX3BhcnNlQ29vcmRpbmF0ZXMoZSx0KX1yZXR1cm4gcn0sZS5fY29vcmRpbmF0ZTJSeD0vKC0/WzAtOV0rWy4wLTlFXSopWyxcc10rKC0/WzAtOV0rWy4wLTlFXSopW1xzXHJcblx0XSovZyxlLl9jb29yZGluYXRlM1J4PS8oLT9bMC05XStbLjAtOUVdKilbLFxzXSsoLT9bMC05XStbLjAtOUVdKilbLFxzXSsoLT9bMC05XStbLjAtOUVdKilbXHNcclxuXHRdKi9nLGUuX2Nvb3JkaW5hdGVUYWdzPW5ldyBTZXQoWyJwb3MiLCJjb29yZGluYXRlcyIsInBvc0xpc3QiLCJsb3dlckNvcm5lciIsInVwcGVyQ29ybmVyIl0pLGV9KCksQ289ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LHIpe3JldHVybiBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXQ7fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7fSxlKHQscil9O3JldHVybiBmdW5jdGlvbih0LHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXQ7fWUodCxyKSx0LnByb3RvdHlwZT1udWxsPT09cj9PYmplY3QuY3JlYXRlKHIpOihuLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbik7fX0oKSxQbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LmNhcHR1cmVQYXRoV2F5cG9pbnRzPSExLHR9cmV0dXJuIENvKHQsZSksdH0oYm8pLEVvPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10O318fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO30sZSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhyKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10O31lKHQsciksdC5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pO319KCksQW89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5pZ25vcmVWaXNpYmlsaXR5PSEwLHQubWF4TmV0d29ya0xpbmtzPTEwLHQubWF4TmV0d29ya0xpbmtEZXB0aD0zLHQuZXh0cnVkZVBvbHlnb25zPSEwLHR9cmV0dXJuIEVvKHQsZSksdH0oYm8pLGpvPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10O318fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO30sZSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhyKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10O31lKHQsciksdC5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pO319KCksTG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5oZWFkZXI9dm9pZCAwLHQuZHluYW1pY1R5cGluZz0hMSx0LmRlbGltaXRlcj0iYXV0byIsdH1yZXR1cm4gam8odCxlKSx0fSh2byksTW89ZnVuY3Rpb24oKXtyZXR1cm4gTW89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxuPWFyZ3VtZW50cy5sZW5ndGg7cjxuO3IrKylmb3IodmFyIGEgaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkmJihlW2FdPXRbYV0pO3JldHVybiBlfSxNby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LFRvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBuLGEsaT1yLmNhbGwoZSksbz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShuPWkubmV4dCgpKS5kb25lOylvLnB1c2gobi52YWx1ZSk7fWNhdGNoKGUpe2E9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKTt9ZmluYWxseXtpZihhKXRocm93IGEuZXJyb3J9fXJldHVybiBvfSx6bz1mdW5jdGlvbihlLHQscil7aWYocnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuLGE9MCxpPXQubGVuZ3RoO2E8aTthKyspIW4mJmEgaW4gdHx8KG58fChuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxhKSksblthXT10W2FdKTtyZXR1cm4gZS5jb25jYXQobnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfSxJbz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0LHIsbixhPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWFbaV09YXJndW1lbnRzW2ldO3JldHVybiBNbyhNbyhNbyhNbyh7fSwoZT1uZXcgeG8pLm1lcmdlLmFwcGx5KGUsem8oW10sVG8oYSksITEpKSksKHQ9bmV3IFBvKS5tZXJnZS5hcHBseSh0LHpvKFtdLFRvKGEpLCExKSkpLChyPW5ldyBBbykubWVyZ2UuYXBwbHkocix6byhbXSxUbyhhKSwhMSkpKSwobj1uZXcgTG8pLm1lcmdlLmFwcGx5KG4sem8oW10sVG8oYSksITEpKSl9LFJvPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihhLGkpe2Z1bmN0aW9uIG8oZSl7dHJ5e2wobi5uZXh0KGUpKTt9Y2F0Y2goZSl7aShlKTt9fWZ1bmN0aW9uIHMoZSl7dHJ5e2wobi50aHJvdyhlKSk7fWNhdGNoKGUpe2koZSk7fX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KTt9KSkpLnRoZW4obyxzKTt9bCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpO30pKX0sRm89ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBzKHMpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDtpJiYoaT0wLHNbMF0mJihvPTApKSxvOyl0cnl7aWYocj0xLG4mJihhPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYocz1bMiZzWzBdLGEudmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOmE9czticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9by50cnlzLChhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighYXx8c1sxXT5hWzBdJiZzWzFdPGFbM10pKXtvLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJm8ubGFiZWw8YVsxXSl7by5sYWJlbD1hWzFdLGE9czticmVha31pZihhJiZvLmxhYmVsPGFbMl0pe28ubGFiZWw9YVsyXSxvLm9wcy5wdXNoKHMpO2JyZWFrfWFbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLG8pO31jYXRjaChlKXtzPVs2LGVdLG49MDt9ZmluYWxseXtyPWE9MDt9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJuIHt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyxsXSl9fX0sQm89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5faW1hZ2VzPVtdLHRoaXMuX2lkTG9va3VwPXt9LHRoaXMuX2ZhaWxlZFVybHM9bmV3IFNldDt9cmV0dXJuIGUucHJvdG90eXBlLmFkZEltYWdlPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiBSbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksbyxzO3JldHVybiBGbyh0aGlzLChmdW5jdGlvbihsKXtzd2l0Y2gobC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0JiYodD10LnJlcGxhY2UoInJvb3Q6Ly8iLCIiKS5yZXBsYWNlKC8mYW1wOy9nLCImIikpP3RoaXMuX2ZhaWxlZFVybHMuaGFzKHQpP1syLG51bGxdOihpPXZvaWQgMCxuP1szLDZdOihyJiYoaT10aGlzLmdldEltYWdlKHIpKSxpfHwoaT10aGlzLmdldEltYWdlKHQpKT9bMixpXTp0LnN0YXJ0c1dpdGgoImRhdGE6Iik/WzQsZS5fdHJ5TG9hZEltYWdlKHQpXTpbMywyXSkpOlszLDddO2Nhc2UgMTpyZXR1cm4gaT1sLnNlbnQoKSxbMyw2XTtjYXNlIDI6cmV0dXJuIG89c28ucGFyc2VVUkwodCksIiI9PT0ocz1vLnByb3RvY29sK28uaG9zdE5hbWUpP1szLDZdOmUuX25vQ29yc0RvbWFpbnMuaGFzKHMpP1szLDRdOls0LGUuX3RyeUxvYWRJbWFnZSh0KV07Y2FzZSAzOihpPWwuc2VudCgpKSYmaS5ub0NvcnMmJihlLl9ub0NvcnNEb21haW5zLmFkZChzKSxpPW51bGwpLGwubGFiZWw9NDtjYXNlIDQ6cmV0dXJuICFpJiZvLnByb3RvY29sJiYiIiE9PW8ucHJvdG9jb2wmJmE/WzQsZS5fdHJ5TG9hZEltYWdlKHQsYSldOlszLDZdO2Nhc2UgNTppPWwuc2VudCgpLGwubGFiZWw9NjtjYXNlIDY6aWYoaXx8KGk9ZS5fdHJ5R2V0RmFsbGJhY2tDb2xvcih0KSxyJiYoaXx8KGk9ZS5fdHJ5R2V0RmFsbGJhY2tDb2xvcihyKSksdGhpcy5faWRMb29rdXBbcl09dGhpcy5faW1hZ2VzLmxlbmd0aCxpJiYoaS5pZD1yKSkpLGkpcmV0dXJuIGkudXJsJiYocj9pLmlkPXI6cj1pLnVybCksdGhpcy5faWRMb29rdXBbcl09dGhpcy5faW1hZ2VzLmxlbmd0aCxyIT09aS5pZCYmKHRoaXMuX2lkTG9va3VwW2kuaWRdPXRoaXMuX2lkTG9va3VwW3JdKSx0aGlzLl9pbWFnZXMucHVzaChpKSxbMixpXTt0aGlzLl9mYWlsZWRVcmxzLmFkZCh0KSxsLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBbMixudWxsXX19KSl9KSl9LGUucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKCJyb290Oi8vIiwiIik7dmFyIHQ9dGhpcy5faWRMb29rdXBbZV07cmV0dXJuIHQ+PTA/dGhpcy5faW1hZ2VzW3RdOm51bGx9LGUucHJvdG90eXBlLmdldEljb25zPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHRoaXMuX2ltYWdlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmlzSWNvbiYmdC51cmwmJihlW3QuaWRdPXQudXJsKTt9KSksZX0sZS5wcm90b3R5cGUuZ2V0QWxsSW1hZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlc30sZS5wcm90b3R5cGUuaXNDb3JzRW5hYmxlZERvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4gUm8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuIEZvKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6aWYoIXNvLmlzVmFsaWRTdHJpbmcoZSkpcmV0dXJuIFszLDhdO24ubGFiZWw9MTtjYXNlIDE6aWYobi50cnlzLnB1c2goWzEsNywsOF0pLHQ9c28ucGFyc2VVUkwoZSksIiI9PT0ocj10LnByb3RvY29sK3QuaG9zdE5hbWUpfHx0aGlzLl9mYWlsZWRVcmxzLmhhcyhyKSlyZXR1cm4gWzMsNl07bi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gbi50cnlzLnB1c2goWzIsNCwsNV0pLFs0LHNvLmFqYXhHZXRBc3luYyhlLG51bGwsbnVsbCwhMCwiaW1hZ2UiKV07Y2FzZSAzOnJldHVybiBuLnNlbnQoKT9bMiwhMF06WzMsNV07Y2FzZSA0OnJldHVybiBuLnNlbnQoKSxbMyw1XTtjYXNlIDU6dGhpcy5fZmFpbGVkVXJscy5hZGQociksbi5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gWzMsOF07Y2FzZSA3OnJldHVybiBuLnNlbnQoKSxbMyw4XTtjYXNlIDg6cmV0dXJuIFsyLCExXX19KSl9KSl9LGUuX3RyeUxvYWRJbWFnZT1mdW5jdGlvbihlLHQpe3JldHVybiBSbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbixhLGksbyxzO3JldHVybiBGbyh0aGlzLChmdW5jdGlvbihsKXtzd2l0Y2gobC5sYWJlbCl7Y2FzZSAwOnJldHVybiBsLnRyeXMucHVzaChbMCw4LCw5XSkscj17aWQ6ZSx1cmw6dD90K2VuY29kZVVSSUNvbXBvbmVudChlKTplfSxbNCxzby5hamF4R2V0QXN5bmMoZSx0LG51bGwsITAsImltYWdlIildO2Nhc2UgMTppZighKChuPWwuc2VudCgpKWluc3RhbmNlb2YgQXJyYXlCdWZmZXImJmNyZWF0ZUltYWdlQml0bWFwKSlyZXR1cm4gWzMsNl07bC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gbC50cnlzLnB1c2goWzIsNCwsNV0pLChhPXNvLmFycmF5QnVmZmVyVG9TdHJpbmcobiwxMCkudG9Mb3dlckNhc2UoKSkuc3RhcnRzV2l0aCgicG5nIik/ci50eXBlPSJQTkciOmEuc3RhcnRzV2l0aCgianBnIil8fGEuc3RhcnRzV2l0aCgianBlZyIpP3IudHlwZT0iSlBHIjphLnN0YXJ0c1dpdGgoImJtcCIpP3IudHlwZT0iQk1QIjphLnN0YXJ0c1dpdGgoImdpZiIpJiYoci50eXBlPSJHSUYiKSxbNCxjcmVhdGVJbWFnZUJpdG1hcChuZXcgQmxvYihbbl0pKV07Y2FzZSAzOnJldHVybiBpPWwuc2VudCgpLHIuaGVpZ2h0PWkuaGVpZ2h0LHIud2lkdGg9aS53aWR0aCxbMyw1XTtjYXNlIDQ6cmV0dXJuIGwuc2VudCgpLFszLDVdO2Nhc2UgNTpyZXR1cm4gWzMsN107Y2FzZSA2OnJldHVybiBbMixudWxsXTtjYXNlIDc6cmV0dXJuIFsyLHJdO2Nhc2UgODpyZXR1cm4gbz1sLnNlbnQoKSxzPXZvaWQgMCwic3RyaW5nIj09dHlwZW9mIG8/cz1vOm8gaW5zdGFuY2VvZiBFcnJvciYmKHM9by5tZXNzYWdlKSxzJiZzLmluY2x1ZGVzKCJDT1JzIik/WzIse25vQ29yczohMH1dOlsyLG51bGxdO2Nhc2UgOTpyZXR1cm4gWzJdfX0pKX0pKX0sZS5fdHJ5R2V0RmFsbGJhY2tDb2xvcj1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD1zby5wYXJzZVVSTChlKTtpZih0LmZpbGVOYW1lKXt2YXIgcj10LmZpbGVOYW1lLnRvTG93ZXJDYXNlKCk7ci5pbmRleE9mKCIuIik+MCYmKHI9ci5zdWJzdHIoMCxyLmxhc3RJbmRleE9mKCIuIikpKTt2YXIgbj1zby5jc3NDb2xvck5hbWVzW3JdO2lmKCFuKXt2YXIgYT1yLmluZGV4T2YoIi0iKSxpPTE7aWYoLTE9PT1hJiYoYT1yLmluZGV4T2YoIiwgIiksaT0yKSxhPi0xJiZhPHIubGVuZ3RoLWkpe3ZhciBvPXIuc3Vic3RyKDAsYSkscz1yLnN1YnN0cihhK2kpOyhuPXNvLmNzc0NvbG9yTmFtZXNbb10pfHwobj1zby5jc3NDb2xvck5hbWVzW3NdKTt9fWlmKG4pcmV0dXJuIHtjb2xvcjpufX19cmV0dXJuIG51bGx9LGUuX25vQ29yc0RvbWFpbnM9bmV3IFNldCxlfSgpLERvPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihhLGkpe2Z1bmN0aW9uIG8oZSl7dHJ5e2wobi5uZXh0KGUpKTt9Y2F0Y2goZSl7aShlKTt9fWZ1bmN0aW9uIHMoZSl7dHJ5e2wobi50aHJvdyhlKSk7fWNhdGNoKGUpe2koZSk7fX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KTt9KSkpLnRoZW4obyxzKTt9bCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpO30pKX0sVW89ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBzKHMpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDtpJiYoaT0wLHNbMF0mJihvPTApKSxvOyl0cnl7aWYocj0xLG4mJihhPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYocz1bMiZzWzBdLGEudmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOmE9czticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9by50cnlzLChhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighYXx8c1sxXT5hWzBdJiZzWzFdPGFbM10pKXtvLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJm8ubGFiZWw8YVsxXSl7by5sYWJlbD1hWzFdLGE9czticmVha31pZihhJiZvLmxhYmVsPGFbMl0pe28ubGFiZWw9YVsyXSxvLm9wcy5wdXNoKHMpO2JyZWFrfWFbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLG8pO31jYXRjaChlKXtzPVs2LGVdLG49MDt9ZmluYWxseXtyPWE9MDt9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJuIHt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyxsXSl9fX0sV289ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxHbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9udW1OZXR3b3JrTGlua3M9MCx0JiYodGhpcy5fYmFzZVVybD10KSx0aGlzLl9pbWFnZU1hbmFnZXI9bmV3IEJvLHRoaXMuX29wdGlvbnM9SW8oZSk7fXJldHVybiBlLl9nZXRFbnJpY2hlZERhdGFTZXQ9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBEbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGEsaSxvLHMsbCx1LGMsaDtyZXR1cm4gVW8odGhpcywoZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDooYT1uZXcgZShuKSkuX2luaXRSZWFkKHQpLGEuX2FkZEZlYXR1cmVzKHIpLGYubGFiZWw9MTtjYXNlIDE6Zi50cnlzLnB1c2goWzEsOSwxMCwxMV0pLGk9V28ociksbz1pLm5leHQoKSxmLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBvLmRvbmU/WzMsOF06IShzPW8udmFsdWUpLmdlb21ldHJ5fHwiUG9pbnQiIT09cy5nZW9tZXRyeS50eXBlJiYiTXVsdGlQb2ludCIhPT1zLmdlb21ldHJ5LnR5cGU/WzMsN106KGw9dm9pZCAwLHMucHJvcGVydGllcy5pbWFnZVVybD9bNCxhLl9pbWFnZU1hbmFnZXIuYWRkSW1hZ2Uocy5wcm9wZXJ0aWVzLmltYWdlVXJsLHMucHJvcGVydGllcy5pbWFnZSxudWxsLG4ucHJveHlTZXJ2aWNlKV06WzMsNF0pO2Nhc2UgMzpyZXR1cm4gbD1mLnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuIHMucHJvcGVydGllcy5pY29uP1s0LGEuX2ltYWdlTWFuYWdlci5hZGRJbWFnZShzLnByb3BlcnRpZXMuaWNvbixzLnByb3BlcnRpZXMuaW1hZ2UsbnVsbCxuLnByb3h5U2VydmljZSldOlszLDZdO2Nhc2UgNTpsPWYuc2VudCgpLGYubGFiZWw9NjtjYXNlIDY6bCYmKGwudXJsfHxsLmNvbG9yKT8obC5pc0ljb249ITAsbC51cmw/KHMucHJvcGVydGllcy5pbWFnZT1sLmlkLHMucHJvcGVydGllcy5pbWFnZVVybD1sLnVybCk6cy5wcm9wZXJ0aWVzLmNvbG9yPWwuY29sb3IpOihzLnByb3BlcnRpZXMuaW1hZ2U9dm9pZCAwLHMucHJvcGVydGllcy5pbWFnZVVybD12b2lkIDApLGYubGFiZWw9NztjYXNlIDc6cmV0dXJuIG89aS5uZXh0KCksWzMsMl07Y2FzZSA4OnJldHVybiBbMywxMV07Y2FzZSA5OnJldHVybiB1PWYuc2VudCgpLGM9e2Vycm9yOnV9LFszLDExXTtjYXNlIDEwOnRyeXtvJiYhby5kb25lJiYoaD1pLnJldHVybikmJmguY2FsbChpKTt9ZmluYWxseXtpZihjKXRocm93IGMuZXJyb3J9cmV0dXJuIFs3XTtjYXNlIDExOnJldHVybiBhLl9jb21wbGV0ZVJlYWQoKSxbMixhLl9nZXRQYXJzZWREYXRhU2V0KCldfX0pKX0pKX0sZS5wcm90b3R5cGUuX2luaXRSZWFkPWZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiTm8gWE1MIGRhdGEgd2FzIHBhc3NlZCBpbiB0byByZWFkLiIpO3RoaXMuX3BhcnNlZERhdGE9bmV3IHVvLHRoaXMuX251bUNoYXJhY3RlcnM9ZT9lLmxlbmd0aDowO30sZS5wcm90b3R5cGUuX2NvbXBsZXRlUmVhZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2ltYWdlTWFuYWdlci5nZXRJY29ucygpO3RoaXMuX3BhcnNlZERhdGEuaWNvbnM/dGhpcy5fcGFyc2VkRGF0YS5pY29ucz1PYmplY3QuYXNzaWduKHRoaXMuX3BhcnNlZERhdGEuaWNvbnMsZSk6dGhpcy5fcGFyc2VkRGF0YS5pY29ucz1lLHVvLmVucmljaCh0aGlzLl9wYXJzZWREYXRhKSx0aGlzLl9oYXNUaW1lc3RhbXAmJnRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMmJnRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMubGVuZ3RoPjAmJnRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMuc29ydCh0aGlzLl9mZWF0dXJlVGltZXN0YW1wU29ydGVyKSxPYmplY3QuYXNzaWduKHRoaXMuX3BhcnNlZERhdGEuc3RhdHMse251bUNoYXJhY3RlcnM6dGhpcy5fbnVtQ2hhcmFjdGVycyxudW1OZXR3b3JrTGlua3M6dGhpcy5fbnVtTmV0d29ya0xpbmtzfSk7fSxlLnByb3RvdHlwZS5fYWRkRmVhdHVyZXM9ZnVuY3Rpb24oZSl7MD09PXRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMubGVuZ3RoP3RoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXM9ZTp0aGlzLl9wYXJzZWREYXRhLmZlYXR1cmVzPXRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMuY29uY2F0KGUpO30sZS5wcm90b3R5cGUuX2dldFBhcnNlZERhdGFTZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyc2VkRGF0YX0sZS5wcm90b3R5cGUuX2ZlYXR1cmVUaW1lc3RhbXBTb3J0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gKGUucHJvcGVydGllcy5fdGltZXN0YW1wP2UucHJvcGVydGllcy5fdGltZXN0YW1wOjApLSh0LnByb3BlcnRpZXMuX3RpbWVzdGFtcD90LnByb3BlcnRpZXMuX3RpbWVzdGFtcDowKX0sZX0oKSxabz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLG49MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmbj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbbisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD8iT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iOiJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIil9LFZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5yZWFkPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhPVtdO3R8fCh0PVswLDBdKTt2YXIgaT0obmV3IGtvKS5wYXJzZShlKTtpZihzby5kb2NIYXNEYXRhKGkpJiYiRmVhdHVyZUluZm9SZXNwb25zZSI9PT1pLnJvb3QudGFnTmFtZSl0cnl7Zm9yKHZhciBvPVpvKGkucm9vdC5jaGlsZE5vZGVzKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTtzd2l0Y2gobC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2UiZmllbGRzIjphLnB1c2goe2dlb21ldHJ5Ontjb29yZGluYXRlczp0LHR5cGU6IlBvaW50In0scHJvcGVydGllczppLnJvb3QuY2hpbGROb2Rlc1swXS5hdHRyaWJ1dGVzfHx7fSx0eXBlOiJGZWF0dXJlIn0pO2JyZWFrO2Nhc2UiZmVhdHVyZWluZm9jb2xsZWN0aW9uIjp2YXIgdT1sLmF0dHJpYnV0ZXMubGF5ZXJuYW1lO2lmKGwuY2hpbGROb2RlcyYmbC5jaGlsZE5vZGVzLmxlbmd0aD4wJiYiRmVhdHVyZUluZm8iPT09bC5jaGlsZE5vZGVzWzBdLnRhZ05hbWUpe3ZhciBjPXRoaXMuX3BhcnNlRmVhdHVyZUluZm8odSxsLmNoaWxkTm9kZXNbMF0sdCk7YyYmYS5wdXNoKGMpO319fX1jYXRjaChlKXtyPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKG49by5yZXR1cm4pJiZuLmNhbGwobyk7fWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1yZXR1cm4ge2ZlYXR1cmVzOmEsdHlwZToiRmVhdHVyZUNvbGxlY3Rpb24ifX0sZS5fcGFyc2VGZWF0dXJlSW5mbz1mdW5jdGlvbihlLHQscil7dmFyIG4sYSxpLG87aWYodCl7dmFyIHM9e30sbD12b2lkIDA7dHJ5e2Zvcih2YXIgdT1abyh0LmNoaWxkTm9kZXMpLGM9dS5uZXh0KCk7IWMuZG9uZTtjPXUubmV4dCgpKXt2YXIgaD1jLnZhbHVlO2lmKCJGaWVsZCI9PT1oLnRhZ05hbWUpe3ZhciBmPXZvaWQgMCxkPXZvaWQgMCxwPXZvaWQgMDt0cnl7Zm9yKHZhciB5PShpPXZvaWQgMCxabyhoLmNoaWxkTm9kZXMpKSxtPXkubmV4dCgpOyFtLmRvbmU7bT15Lm5leHQoKSl7dmFyIGc9bS52YWx1ZTtzd2l0Y2goZy50YWdOYW1lKXtjYXNlIkZpZWxkTmFtZSI6ZD1nLnZhbHVlO2JyZWFrO2Nhc2UiRmllbGRWYWx1ZSI6cD1nLnZhbHVlO2JyZWFrO2Nhc2UiRmllbGRHZW9tZXRyeSI6Zj10aGlzLl9wYXJzZUdlb21ldHJ5KGcpO319fWNhdGNoKGUpe2k9e2Vycm9yOmV9O31maW5hbGx5e3RyeXttJiYhbS5kb25lJiYobz15LnJldHVybikmJm8uY2FsbCh5KTt9ZmluYWxseXtpZihpKXRocm93IGkuZXJyb3J9fWY/bD1mOmQmJnAmJihzW2RdPXApO319fWNhdGNoKGUpe249e2Vycm9yOmV9O31maW5hbGx5e3RyeXtjJiYhYy5kb25lJiYoYT11LnJldHVybikmJmEuY2FsbCh1KTt9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fWlmKE9iamVjdC5rZXlzKHMpLmxlbmd0aD4wfHxsKXJldHVybiB7Z2VvbWV0cnk6bHx8e2Nvb3JkaW5hdGVzOnIsdHlwZToiUG9pbnQifSxsYXllck5hbWU6ZSxwcm9wZXJ0aWVzOnMsdHlwZToiRmVhdHVyZSJ9fXJldHVybiBudWxsfSxlLl9wYXJzZUdlb21ldHJ5PWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLGk9dGhpcztpZihlJiZlLmNoaWxkTm9kZXMubGVuZ3RoPjApe3ZhciBvPXZvaWQgMCxzPVtdLGw9ZnVuY3Rpb24oZSl7aWYob3x8KG89ZS50YWdOYW1lKSxvPT09ZS50YWdOYW1lfHwiUG9pbnQiPT09byYmIk11bHRpcG9pbnQiPT09ZS50YWdOYW1lKXN3aXRjaChlLnRhZ05hbWUpe2Nhc2UiUG9pbnQiOnZhciB0PXUuX3BhcnNlUG9zaXRpb24oZSk7dCYmcy5wdXNoKHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6dH0pO2JyZWFrO2Nhc2UiTXVsdGlwb2ludCI6bz0iUG9pbnQiO3ZhciByPXUuX3BhcnNlUG9zaXRpb25zKGUpO3IubGVuZ3RoPjAmJnIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cy5wdXNoKHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6ZX0pO30pKTticmVhaztjYXNlIlBvbHlsaW5lIjplLmNoaWxkTm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIlBhdGgiPT09ZS50YWdOYW1lKXt2YXIgdD1pLl9wYXJzZVBvc2l0aW9ucyhlKTt0Lmxlbmd0aD4wJiZzLnB1c2goe3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9KTt9fSkpO2JyZWFrO2Nhc2UiUG9seWdvbiI6dmFyIG49W107ZS5jaGlsZE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJSaW5nIj09PWUudGFnTmFtZSl7dmFyIHQ9aS5fcGFyc2VQb3NpdGlvbnMoZSk7dC5sZW5ndGg+MCYmbi5wdXNoKHQpO319KSksbi5sZW5ndGg+MCYmcy5wdXNoKHt0eXBlOiJQb2x5Z29uIixjb29yZGluYXRlczpufSk7fX0sdT10aGlzO3RyeXtmb3IodmFyIGM9Wm8oZS5jaGlsZE5vZGVzKSxoPWMubmV4dCgpOyFoLmRvbmU7aD1jLm5leHQoKSl7bChoLnZhbHVlKTt9fWNhdGNoKGUpe3Q9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtoJiYhaC5kb25lJiYocj1jLnJldHVybikmJnIuY2FsbChjKTt9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fWlmKHMubGVuZ3RoPjApe2lmKDE9PT1zLmxlbmd0aClyZXR1cm4gc1swXTt2YXIgZj1bXTt0cnl7Zm9yKHZhciBkPVpvKHMpLHA9ZC5uZXh0KCk7IXAuZG9uZTtwPWQubmV4dCgpKXt2YXIgeT1wLnZhbHVlO2YucHVzaCh5LmNvb3JkaW5hdGVzKTt9fWNhdGNoKGUpe249e2Vycm9yOmV9O31maW5hbGx5e3RyeXtwJiYhcC5kb25lJiYoYT1kLnJldHVybikmJmEuY2FsbChkKTt9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXN3aXRjaChvKXtjYXNlIlBvaW50IjpyZXR1cm4ge3R5cGU6Ik11bHRpUG9pbnQiLGNvb3JkaW5hdGVzOmZ9O2Nhc2UiUG9seWxpbmUiOnJldHVybiB7dHlwZToiTXVsdGlMaW5lU3RyaW5nIixjb29yZGluYXRlczpmfTtjYXNlIlBvbHlnb24iOnJldHVybiB7dHlwZToiTXVsdGlQb2x5Z29uIixjb29yZGluYXRlczpmfX19fXJldHVybiBudWxsfSxlLl9wYXJzZVBvc2l0aW9uPWZ1bmN0aW9uKGUpe2lmKGUmJmUudmFsdWUpe3ZhciB0PWUudmFsdWUuc3BsaXQoIiwiKTtpZih0Lmxlbmd0aD49Mil7dmFyIHI9cGFyc2VGbG9hdCh0WzBdKSxuPXBhcnNlRmxvYXQodFsxXSksYT12b2lkIDA7dC5sZW5ndGg+PTMmJihhPXBhcnNlRmxvYXQodFsyXSkpLHNvLmNyZWF0ZVBvc2l0aW9uKHIsbixhKTt9fXJldHVybiBudWxsfSxlLl9wYXJzZVBvc2l0aW9ucz1mdW5jdGlvbihlKXt2YXIgdCxyO2lmKGUpe3ZhciBuPVtdO3RyeXtmb3IodmFyIGE9Wm8oZS5jaGlsZE5vZGVzKSxpPWEubmV4dCgpOyFpLmRvbmU7aT1hLm5leHQoKSl7dmFyIG89aS52YWx1ZSxzPXRoaXMuX3BhcnNlUG9zaXRpb24obyk7cyYmbi5wdXNoKHMpO319Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPWEucmV0dXJuKSYmci5jYWxsKGEpO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19cmV0dXJuIG59cmV0dXJuIG51bGx9LGV9KCksSG89bHQscW89dTt2YXIgS289ZnVuY3Rpb24oZSx0LHIpeyh2b2lkIDAhPT1yJiYhcW8oZVt0XSxyKXx8dm9pZCAwPT09ciYmISh0IGluIGUpKSYmSG8oZSx0LHIpO307dmFyIFhvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7Zm9yKHZhciBhPS0xLGk9T2JqZWN0KHQpLG89bih0KSxzPW8ubGVuZ3RoO3MtLTspe3ZhciBsPW9bZT9zOisrYV07aWYoITE9PT1yKGlbbF0sbCxpKSlicmVha31yZXR1cm4gdH19KCksWW89bHIsJG89Z3Q7dmFyIEpvPWZ1bmN0aW9uKGUpe3JldHVybiAkbyhlKSYmWW8oZSl9LFFvPVosZXM9RHIsdHM9Z3QscnM9RnVuY3Rpb24ucHJvdG90eXBlLG5zPU9iamVjdC5wcm90b3R5cGUsYXM9cnMudG9TdHJpbmcsaXM9bnMuaGFzT3duUHJvcGVydHksb3M9YXMuY2FsbChPYmplY3QpO3ZhciBzcz1mdW5jdGlvbihlLHQpe2lmKCgiY29uc3RydWN0b3IiIT09dHx8ImZ1bmN0aW9uIiE9dHlwZW9mIGVbdF0pJiYiX19wcm90b19fIiE9dClyZXR1cm4gZVt0XX0sbHM9eXQsdXM9a3I7dmFyIGNzPUtvLGhzPVByLGZzPUZuLGRzPUVyLHBzPVluLHlzPU50LG1zPU90LGdzPUpvLHZzPUV0LF9zPVgsYnM9Vix3cz1mdW5jdGlvbihlKXtpZighdHMoZSl8fCJbb2JqZWN0IE9iamVjdF0iIT1RbyhlKSlyZXR1cm4gITE7dmFyIHQ9ZXMoZSk7aWYobnVsbD09PXQpcmV0dXJuICEwO3ZhciByPWlzLmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4gImZ1bmN0aW9uIj09dHlwZW9mIHImJnIgaW5zdGFuY2VvZiByJiZhcy5jYWxsKHIpPT1vc30seHM9WnQsa3M9c3MsU3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGxzKGUsdXMoZSkpfTt2YXIgTnM9bnQsT3M9S28sQ3M9WG8sUHM9ZnVuY3Rpb24oZSx0LHIsbixhLGksbyl7dmFyIHM9a3MoZSxyKSxsPWtzKHQsciksdT1vLmdldChsKTtpZih1KWNzKGUscix1KTtlbHNlIHt2YXIgYz1pP2kocyxsLHIrIiIsZSx0LG8pOnZvaWQgMCxoPXZvaWQgMD09PWM7aWYoaCl7dmFyIGY9bXMobCksZD0hZiYmdnMobCkscD0hZiYmIWQmJnhzKGwpO2M9bCxmfHxkfHxwP21zKHMpP2M9czpncyhzKT9jPWRzKHMpOmQ/KGg9ITEsYz1ocyhsLCEwKSk6cD8oaD0hMSxjPWZzKGwsITApKTpjPVtdOndzKGwpfHx5cyhsKT8oYz1zLHlzKHMpP2M9U3Mocyk6YnMocykmJiFfcyhzKXx8KGM9cHMobCkpKTpoPSExO31oJiYoby5zZXQobCxjKSxhKGMsbCxuLGksbyksby5kZWxldGUobCkpLGNzKGUscixjKTt9fSxFcz1WLEFzPWtyLGpzPXNzO3ZhciBMcz1mdW5jdGlvbiBlKHQscixuLGEsaSl7dCE9PXImJkNzKHIsKGZ1bmN0aW9uKG8scyl7aWYoaXx8KGk9bmV3IE5zKSxFcyhvKSlQcyh0LHIscyxuLGUsYSxpKTtlbHNlIHt2YXIgbD1hP2EoanModCxzKSxvLHMrIiIsdCxyLGkpOnZvaWQgMDt2b2lkIDA9PT1sJiYobD1vKSxPcyh0LHMsbCk7fX0pLEFzKTt9O3ZhciBNcz1mdW5jdGlvbihlKXtyZXR1cm4gZX07dmFyIFRzPWZ1bmN0aW9uKGUsdCxyKXtzd2l0Y2goci5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gZS5jYWxsKHQpO2Nhc2UgMTpyZXR1cm4gZS5jYWxsKHQsclswXSk7Y2FzZSAyOnJldHVybiBlLmNhbGwodCxyWzBdLHJbMV0pO2Nhc2UgMzpyZXR1cm4gZS5jYWxsKHQsclswXSxyWzFdLHJbMl0pfXJldHVybiBlLmFwcGx5KHQscil9LHpzPU1hdGgubWF4O3ZhciBJcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9enModm9pZCAwPT09dD9lLmxlbmd0aC0xOnQsMCksZnVuY3Rpb24oKXtmb3IodmFyIG49YXJndW1lbnRzLGE9LTEsaT16cyhuLmxlbmd0aC10LDApLG89QXJyYXkoaSk7KythPGk7KW9bYV09blt0K2FdO2E9LTE7Zm9yKHZhciBzPUFycmF5KHQrMSk7KythPHQ7KXNbYV09blthXTtyZXR1cm4gc1t0XT1yKG8pLFRzKGUsdGhpcyxzKX19O3ZhciBScz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19LEZzPW90LEJzPUZzP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIEZzKGUsInRvU3RyaW5nIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWU6UnModCksd3JpdGFibGU6ITB9KX06TXMsRHM9RGF0ZS5ub3c7dmFyIFVzPWZ1bmN0aW9uKGUpe3ZhciB0PTAscj0wO3JldHVybiBmdW5jdGlvbigpe3ZhciBuPURzKCksYT0xNi0obi1yKTtpZihyPW4sYT4wKXtpZigrK3Q+PTgwMClyZXR1cm4gYXJndW1lbnRzWzBdfWVsc2UgdD0wO3JldHVybiBlLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfX0oQnMpLFdzPU1zLEdzPUlzLFpzPVVzO3ZhciBWcz11LEhzPWxyLHFzPWp0LEtzPVY7dmFyIFhzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFpzKEdzKGUsdCxXcyksZSsiIil9LFlzPWZ1bmN0aW9uKGUsdCxyKXtpZighS3MocikpcmV0dXJuICExO3ZhciBuPXR5cGVvZiB0O3JldHVybiAhISgibnVtYmVyIj09bj9IcyhyKSYmcXModCxyLmxlbmd0aCk6InN0cmluZyI9PW4mJnQgaW4gcikmJlZzKHJbdF0sZSl9O3ZhciAkcz1McyxKcz10KGZ1bmN0aW9uKGUpe3JldHVybiBYcygoZnVuY3Rpb24odCxyKXt2YXIgbj0tMSxhPXIubGVuZ3RoLGk9YT4xP3JbYS0xXTp2b2lkIDAsbz1hPjI/clsyXTp2b2lkIDA7Zm9yKGk9ZS5sZW5ndGg+MyYmImZ1bmN0aW9uIj09dHlwZW9mIGk/KGEtLSxpKTp2b2lkIDAsbyYmWXMoclswXSxyWzFdLG8pJiYoaT1hPDM/dm9pZCAwOmksYT0xKSx0PU9iamVjdCh0KTsrK248YTspe3ZhciBzPXJbbl07cyYmZSh0LHMsbixpKTt9cmV0dXJuIHR9KSl9KChmdW5jdGlvbihlLHQscil7JHMoZSx0LHIpO30pKSksUXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxlbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucmVhZENvbnRlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZTtpZihlLmF0dHJpYnV0ZXMmJmUuYXR0cmlidXRlcy50eXBlKXN3aXRjaChlLmF0dHJpYnV0ZXMudHlwZSl7Y2FzZSJodG1sIjpjYXNlInhodG1sIjpyZXR1cm4gZS52YWx1ZX1yZXR1cm4gdH0sZS53cml0ZUF1dGhvcj1mdW5jdGlvbihlLHQscil7dmFyIG4sYTtpZihlKXt2YXIgaT0iIjtpZihyJiYoaT0iYXRvbToiKSxBcnJheS5pc0FycmF5KGUpKXRyeXtmb3IodmFyIG89UXMoZSkscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBsPXMudmFsdWU7dGhpcy53cml0ZUF1dGhvcihsLHQscik7fX1jYXRjaChlKXtuPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKGE9by5yZXR1cm4pJiZhLmNhbGwobyk7fWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1lbHNlIHNvLmlzVmFsaWRTdHJpbmcoZSk/dC53cml0ZVN0YXJ0RWxlbWVudChpKyJhdXRob3IiKS53cml0ZUVsZW1lbnQoaSsibmFtZSIsZSkud3JpdGVFbmRFbGVtZW50KCk6KHQud3JpdGVTdGFydEVsZW1lbnQoaSsiYXV0aG9yIiksZS5uYW1lJiZ0LndyaXRlRWxlbWVudChpKyJuYW1lIixlLm5hbWUpLGUudXJpJiZ0LndyaXRlRWxlbWVudChpKyJ1cmkiLGUudXJpKSxlLmVtYWlsJiZ0LndyaXRlRWxlbWVudChpKyJlbWFpbCIsZS5lbWFpbCksdC53cml0ZUVuZEVsZW1lbnQoKSk7fX0sZS53cml0ZUNhdGVnb3J5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhO2lmKGUpe3ZhciBpPSIiO2lmKHImJihpPSJhdG9tOiIpLEFycmF5LmlzQXJyYXkoZSkpdHJ5e2Zvcih2YXIgbz1RcyhlKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTt0aGlzLndyaXRlQ2F0ZWdvcnkobCx0LHIpO319Y2F0Y2goZSl7bj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihhPW8ucmV0dXJuKSYmYS5jYWxsKG8pO31maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19ZWxzZSBzby5pc1ZhbGlkU3RyaW5nKGUpP3Qud3JpdGVTdGFydEVsZW1lbnQoaSsiY2F0ZWdvcnkiLHt0ZXJtOmV9LCEwKTpzby5pc1ZhbGlkU3RyaW5nKGUudGVybSkmJnQud3JpdGVTdGFydEVsZW1lbnQoaSsiY2F0ZWdvcnkiLGUsITApO319LGUud3JpdGVDb250cmlidXRvcj1mdW5jdGlvbihlLHQscil7dmFyIG4sYTtpZihlKXt2YXIgaT0iIjtpZihyJiYoaT0iYXRvbToiKSxBcnJheS5pc0FycmF5KGUpKXRyeXtmb3IodmFyIG89UXMoZSkscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBsPXMudmFsdWU7dGhpcy53cml0ZUNvbnRyaWJ1dG9yKGwsdCxyKTt9fWNhdGNoKGUpe249e2Vycm9yOmV9O31maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYoYT1vLnJldHVybikmJmEuY2FsbChvKTt9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fWVsc2Ugc28uaXNWYWxpZFN0cmluZyhlKT90LndyaXRlU3RhcnRFbGVtZW50KGkrImNvbnRyaWJ1dG9yIikud3JpdGVFbGVtZW50KGkrIm5hbWUiLGUpLndyaXRlRW5kRWxlbWVudCgpOih0LndyaXRlU3RhcnRFbGVtZW50KGkrImNvbnRyaWJ1dG9yIiksZS5uYW1lJiZ0LndyaXRlRWxlbWVudChpKyJuYW1lIixlLm5hbWUpLGUudXJpJiZ0LndyaXRlRWxlbWVudChpKyJ1cmkiLGUudXJpKSxlLmVtYWlsJiZ0LndyaXRlRWxlbWVudChpKyJlbWFpbCIsZS5lbWFpbCksdC53cml0ZUVuZEVsZW1lbnQoKSk7fX0sZS53cml0ZUxpbms9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGE7aWYoZSl7dmFyIGk9IiI7aWYociYmKGk9ImF0b206IiksQXJyYXkuaXNBcnJheShlKSl0cnl7Zm9yKHZhciBvPVFzKGUpLHM9by5uZXh0KCk7IXMuZG9uZTtzPW8ubmV4dCgpKXt2YXIgbD1zLnZhbHVlO3RoaXMud3JpdGVMaW5rKGwsdCxyKTt9fWNhdGNoKGUpe249e2Vycm9yOmV9O31maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYoYT1vLnJldHVybikmJmEuY2FsbChvKTt9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fWVsc2Ugc28uaXNWYWxpZFN0cmluZyhlKT90LndyaXRlU3RhcnRFbGVtZW50KGkrImxpbmsiLHtocmVmOmV9LCEwKTpzby5pc1ZhbGlkU3RyaW5nKGUuaHJlZikmJnQud3JpdGVTdGFydEVsZW1lbnQoaSsibGluayIsZSwhMCk7fX0sZX0oKSx0bD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dDt9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTt9LGUodCxyKX07cmV0dXJuIGZ1bmN0aW9uKHQscil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcocikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dDt9ZSh0LHIpLHQucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKTt9fSgpLHJsPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihhLGkpe2Z1bmN0aW9uIG8oZSl7dHJ5e2wobi5uZXh0KGUpKTt9Y2F0Y2goZSl7aShlKTt9fWZ1bmN0aW9uIHMoZSl7dHJ5e2wobi50aHJvdyhlKSk7fWNhdGNoKGUpe2koZSk7fX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KTt9KSkpLnRoZW4obyxzKTt9bCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpO30pKX0sbmw9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBzKHMpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDtpJiYoaT0wLHNbMF0mJihvPTApKSxvOyl0cnl7aWYocj0xLG4mJihhPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYocz1bMiZzWzBdLGEudmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOmE9czticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9by50cnlzLChhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighYXx8c1sxXT5hWzBdJiZzWzFdPGFbM10pKXtvLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJm8ubGFiZWw8YVsxXSl7by5sYWJlbD1hWzFdLGE9czticmVha31pZihhJiZvLmxhYmVsPGFbMl0pe28ubGFiZWw9YVsyXSxvLm9wcy5wdXNoKHMpO2JyZWFrfWFbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLG8pO31jYXRjaChlKXtzPVs2LGVdLG49MDt9ZmluYWxseXtyPWE9MDt9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJuIHt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyxsXSl9fX0sYWw9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxpbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQsbnVsbCl8fHRoaXM7cmV0dXJuIHIuX2Nvb3JkaW5hdGVSeD0vKC0/WzAtOV0rWy4wLTlFXSopW1xzXHJcblx0XSsoLT9bMC05XStbLjAtOUVdKilbXHNcclxuXHRdKi9nLHIuX2NpcmNsZVJ4PS8oLT9bMC05XStbLjAtOUVdKilbXHNcclxuXHRdKygtP1swLTldK1suMC05RV0qKVtcc1xyXG5cdF0rKC0/WzAtOV0rWy4wLTlFXSopKi9nLHJ9cmV0dXJuIHRsKHQsZSksdC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtyZXR1cm4gcmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByO3JldHVybiBubCh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiBlLnByb3RvdHlwZS5faW5pdFJlYWQuY2FsbCh0aGlzLHQpLHI9KG5ldyBrbykucGFyc2UodCksc28uZG9jSGFzRGF0YShyKT8odGhpcy5fbmFtZXNwYWNlcz1yLm5hbWVzcGFjZXMsImZlZWQiIT09ci5yb290LnRhZ05hbWU/WzMsMl06WzQsdGhpcy5fcGFyc2VHZW9Sc3NEb2Moci5yb290KV0pOlszLDRdO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIFsyLG4uc2VudCgpXTtjYXNlIDI6cmV0dXJuICJyc3MiIT09ci5yb290LnRhZ05hbWV8fCJjaGFubmVsIiE9PXIucm9vdC5jaGlsZE5vZGVzWzBdLnRhZ05hbWU/WzMsNF06WzQsdGhpcy5fcGFyc2VHZW9Sc3NEb2Moci5yb290LmNoaWxkTm9kZXNbMF0pXTtjYXNlIDQ6dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gcmVhZCBHZW9SU1MgZG9jdW1lbnQuIil9fSkpfSkpfSx0LnByb3RvdHlwZS5fcGFyc2VHZW9Sc3NEb2M9ZnVuY3Rpb24oZSl7cmV0dXJuIHJsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxpLG8scyxsO3JldHVybiBubCh0aGlzLChmdW5jdGlvbih1KXtzd2l0Y2godS5sYWJlbCl7Y2FzZSAwOmlmKCFlLmNoaWxkTm9kZXMpcmV0dXJuIFszLDExXTt1LmxhYmVsPTE7Y2FzZSAxOnUudHJ5cy5wdXNoKFsxLDksMTAsMTFdKSx0PWFsKGUuY2hpbGROb2Rlcykscj10Lm5leHQoKSx1LmxhYmVsPTI7Y2FzZSAyOmlmKHIuZG9uZSlyZXR1cm4gWzMsOF07c3dpdGNoKG49ci52YWx1ZSxuLnRhZ05hbWUpe2Nhc2UiZW50cnkiOmNhc2UiaXRlbSI6cmV0dXJuIFszLDNdO2Nhc2UiYm94IjpyZXR1cm4gWzMsNV19cmV0dXJuIFszLDZdO2Nhc2UgMzpyZXR1cm4gWzQsdGhpcy5fcGFyc2VHZW9Sc3NJdGVtKG4pXTtjYXNlIDQ6cmV0dXJuIChhPXUuc2VudCgpKSYmKHRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMucHVzaChhKSx0aGlzLl9wYXJzZWREYXRhLmZlYXR1cmVzLmxlbmd0aCx0aGlzLl9vcHRpb25zLm1heEZlYXR1cmVzKSxbMyw3XTtjYXNlIDU6cmV0dXJuIChpPXRoaXMuX3BhcnNlR2VvUnNzQm94KG4pKSYmTGkubWVyZ2UodGhpcy5fcGFyc2VkRGF0YS5iYm94LGkpLFszLDddO2Nhc2UgNjpyZXR1cm4gdGhpcy5fcGFyc2VNZXRhZGF0YShuLHRoaXMuX3BhcnNlZERhdGEucHJvcGVydGllcyksWzMsN107Y2FzZSA3OnJldHVybiByPXQubmV4dCgpLFszLDJdO2Nhc2UgODpyZXR1cm4gWzMsMTFdO2Nhc2UgOTpyZXR1cm4gbz11LnNlbnQoKSxzPXtlcnJvcjpvfSxbMywxMV07Y2FzZSAxMDp0cnl7ciYmIXIuZG9uZSYmKGw9dC5yZXR1cm4pJiZsLmNhbGwodCk7fWZpbmFsbHl7aWYocyl0aHJvdyBzLmVycm9yfXJldHVybiBbN107Y2FzZSAxMTpyZXR1cm4gdGhpcy5fY29tcGxldGVSZWFkKCksWzIsdGhpcy5fcGFyc2VkRGF0YV19fSkpfSkpfSx0LnByb3RvdHlwZS5fcGFyc2VHZW9Sc3NJdGVtPWZ1bmN0aW9uKGUpe3JldHVybiBybCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixuLGEsaSxvLHMsbCx1LGMsaCxmLGQscCx5LG0sZztyZXR1cm4gbmwodGhpcywoZnVuY3Rpb24odil7c3dpdGNoKHYubGFiZWwpe2Nhc2UgMDpyPXt9LGk9bnVsbCxvPU5hTjt0cnl7Zm9yKHU9YWwoZS5jaGlsZE5vZGVzKSxjPXUubmV4dCgpOyFjLmRvbmU7Yz11Lm5leHQoKSlpZihoPWMudmFsdWUsdGhpcy5fbmFtZXNwYWNlcyYmdGhpcy5fbmFtZXNwYWNlc1tlLm5zUHJlZml4XSYmdGhpcy5fbmFtZXNwYWNlc1tlLm5zUHJlZml4XS5pbmNsdWRlcygiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiKSkoZj1Pby5yZWFkR2VvbWV0cnkoaCx0aGlzLl9vcHRpb25zKSkmJih0PWYuZ2VvbWV0cnksZi5wcm9wZXJ0aWVzJiYocj1KcyhyLGYucHJvcGVydGllcykpKTtlbHNlIHN3aXRjaChoLnRhZ05hbWUpe2Nhc2UicG9pbnQiOmw9dGhpcy5fcGFyc2VHZW9Sc3NQb2ludChoKTticmVhaztjYXNlImxpbmUiOnQ9dGhpcy5fcGFyc2VHZW9Sc3NMaW5lKGgpO2JyZWFrO2Nhc2UicG9seWdvbiI6dD10aGlzLl9wYXJzZUdlb1Jzc1BvbHlnb24oaCk7YnJlYWs7Y2FzZSJ3aGVyZSI6Y2FzZSJwb3NpdGlvbiI6aC5jaGlsZE5vZGVzJiZoLmNoaWxkTm9kZXMubGVuZ3RoPjA/KGY9T28ucmVhZEdlb21ldHJ5KGgsdGhpcy5fb3B0aW9ucykpJiYodD1mLmdlb21ldHJ5LGYucHJvcGVydGllcyYmKHI9SnMocixmLnByb3BlcnRpZXMpKSk6dGhpcy5fcGFyc2VNZXRhZGF0YShoLHIpO2JyZWFrO2Nhc2UiY2lyY2xlIjpkPXRoaXMuX3BhcnNlR2VvUnNzQ2lyY2xlKGgpLHQ9ZC5nZW9tZXRyeSxyPUpzKHIsZC5wcm9wZXJ0aWVzKTticmVhaztjYXNlImJveCI6KHM9dGhpcy5fcGFyc2VHZW9Sc3NCb3goaCkpJiYhdCYmKHQ9SGkocyksci5zdWJUeXBlPSJSZWN0YW5nbGUiKTticmVhaztjYXNlImxhdCI6Y2FzZSJsYXRpdHVkZSI6bj1wYXJzZUZsb2F0KGgudmFsdWUpO2JyZWFrO2Nhc2UibG9uIjpjYXNlImxvbmciOmNhc2UibG9uZ2l0dWRlIjphPXBhcnNlRmxvYXQoaC52YWx1ZSk7YnJlYWs7Y2FzZSJyYWRpdXMiOm89cGFyc2VGbG9hdChoLnZhbHVlKTticmVhaztjYXNlImVsZXYiOmk9cGFyc2VGbG9hdChoLnZhbHVlKTticmVhaztjYXNlImljb24iOmgudmFsdWUmJnRoaXMuX29wdGlvbnMucGFyc2VTdHlsZXMmJihyLmljb249aC52YWx1ZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9wYXJzZU1ldGFkYXRhKGgscik7fX1jYXRjaChlKXttPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7YyYmIWMuZG9uZSYmKGc9dS5yZXR1cm4pJiZnLmNhbGwodSk7fWZpbmFsbHl7aWYobSl0aHJvdyBtLmVycm9yfX1yZXR1cm4gIWwmJnNvLmlzVmFsaWROdW1iZXIobikmJnNvLmlzVmFsaWROdW1iZXIoYSk/bD1bYSxuXTp0JiYiUG9pbnQiPT09dC50eXBlJiYiQ2lyY2xlIj09PXIuc3ViVHlwZSYmKGw9dC5jb29yZGluYXRlcyksbCYmKHNvLmlzVmFsaWROdW1iZXIoaSkmJmwucHVzaChpKSx0fHwodD17dHlwZToiUG9pbnQiLGNvb3JkaW5hdGVzOmx9KSksdD8oci5uYW1lJiYhci50aXRsZSYmKHIudGl0bGU9ci5uYW1lKSwhdGhpcy5fb3B0aW9ucy5wYXJzZVN0eWxlc3x8IXIuaWNvbnx8IlBvaW50IiE9PXQudHlwZSYmIk11bHRpUG9pbnQiIT09dC50eXBlP1szLDJdOls0LHRoaXMuX2ltYWdlTWFuYWdlci5hZGRJbWFnZShyLmljb24sbnVsbCxudWxsLHRoaXMuX29wdGlvbnMucHJveHlTZXJ2aWNlKV0pOlszLDNdO2Nhc2UgMToocD12LnNlbnQoKSkmJihwLnVybHx8cC5jb2xvcikmJihwLmlzSWNvbj0hMCxwLnVybD8oci5pbWFnZT1wLmlkLHIuaW1hZ2VVcmw9cC51cmwpOnIuY29sb3J8fChyLmNvbG9yPXAuY29sb3IpKSx2LmxhYmVsPTI7Y2FzZSAyOnJldHVybiAiUG9pbnQiPT09dC50eXBlJiZzby5pc1ZhbGlkTnVtYmVyKG8pJiYhci5zdWJUeXBlJiYoci5zdWJUeXBlPSJDaXJjbGUiKSx5PXtnZW9tZXRyeTp0LHByb3BlcnRpZXM6cix0eXBlOiJGZWF0dXJlIn0sci5pZD8oeS5pZD1yLmlkLGRlbGV0ZSByLmlkKTpyLmd1aWQmJih5LmlkPXIuZ3VpZCxkZWxldGUgci5ndWlkKSxzJiYoeS5iYm94PXMpLFsyLHldO2Nhc2UgMzpyZXR1cm4gWzIsbnVsbF19fSkpfSkpfSx0LnByb3RvdHlwZS5fcGFyc2VNZXRhZGF0YT1mdW5jdGlvbihlLHQpe3ZhciByLG47aWYoZSYmdClzd2l0Y2goZS50YWdOYW1lKXtjYXNlInRpdGxlIjpjYXNlInN1YnRpdGxlIjpjYXNlIm5hbWUiOmNhc2UiaWQiOmNhc2UibGFuZ3VhZ2UiOmNhc2UiZG9jcyI6Y2FzZSJtYW5hZ2luZ0VkaXRvciI6Y2FzZSJ3ZWJNYXN0ZXIiOmNhc2UiY29weXJpZ2h0IjpjYXNlImNvbW1lbnRzIjpjYXNlInJhdGluZyI6Y2FzZSJsb2dvIjpjYXNlInJpZ2h0cyI6Y2FzZSJmZWF0dXJldHlwZXRhZyI6Y2FzZSJyZWxhdGlvbnNoaXB0YWciOmNhc2UiZmVhdHVyZW5hbWUiOnRbZS50YWdOYW1lXT1lLnZhbHVlO2JyZWFrO2Nhc2UiZGVzY3JpcHRpb24iOmNhc2Uic3VtbWFyeSI6ZS52YWx1ZSYmKHRbZS50YWdOYW1lXT1zby5yZXBsYWNlTmV3bGluZXMoZS52YWx1ZSkpO2JyZWFrO2Nhc2UiY29udGVudCI6dmFyIGE9ZWwucmVhZENvbnRlbnQoZSk7YSYmKHQuZGVzY3JpcHRpb258fCh0LmRlc2NyaXB0aW9uPWEpLHRbZS50YWdOYW1lXT1hKTticmVhaztjYXNlImd1aWQiOnQuaWR8fCh0LmlkPWUudmFsdWUpLHRbZS50YWdOYW1lXT1lLnZhbHVlO2JyZWFrO2Nhc2UidHRsIjpjYXNlInNraXBIb3VycyI6Y2FzZSJmbG9vciI6aWYoZS52YWx1ZSl7dmFyIGk9cGFyc2VJbnQoZS52YWx1ZSk7c28uaXNWYWxpZE51bWJlcihpKSYmKHRbZS50YWdOYW1lXT1pKTt9YnJlYWs7Y2FzZSJza2lwRGF5cyI6aWYoZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoPjApe3ZhciBvPVtdO3RyeXtmb3IodmFyIHM9YWwoZS5jaGlsZE5vZGVzKSxsPXMubmV4dCgpOyFsLmRvbmU7bD1zLm5leHQoKSl7dmFyIHU9bC52YWx1ZTsiZGF5Ij09PXUudGFnTmFtZSYmdS52YWx1ZSYmby5wdXNoKHUudmFsdWUpO319Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2wmJiFsLmRvbmUmJihuPXMucmV0dXJuKSYmbi5jYWxsKHMpO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19by5sZW5ndGg+MCYmKHRbZS50YWdOYW1lXT1vKTt9YnJlYWs7Y2FzZSJhdXRob3IiOmNhc2UibGluayI6Y2FzZSJjYXRlZ29yeSI6Y2FzZSJjb250cmlidXRvciI6dmFyIGM9dm9pZCAwO2UuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aD4wfHxlLmF0dHJpYnV0ZXMmJk9iamVjdC5rZXlzKGUuYXR0cmlidXRlcykubGVuZ3RoPjA/Yz1zby5zaW1wbGlmeVhtbE5vZGUoZSk6ZS52YWx1ZSYmKGM9ZS52YWx1ZSksYyYmKEFycmF5LmlzQXJyYXkodFtlLnRhZ05hbWVdKT90W2UudGFnTmFtZV0ucHVzaChjKTp0W2UudGFnTmFtZV09W2NdKTticmVhaztjYXNlInVwZGF0ZWQiOmNhc2UibGFzdEJ1aWxkRGF0ZSI6aWYoZS52YWx1ZSkoaD1EYXRlLnBhcnNlKGUudmFsdWUpKSYmKHRbZS50YWdOYW1lXT1uZXcgRGF0ZShoKSx0Ll90aW1lc3RhbXA9aCx0aGlzLl9oYXNUaW1lc3RhbXA9ITApO2JyZWFrO2Nhc2UicHViRGF0ZSI6Y2FzZSJwdWJsaXNoZWQiOnZhciBoO2lmKGUudmFsdWUpKGg9RGF0ZS5wYXJzZShlLnZhbHVlKSkmJih0W2UudGFnTmFtZV09bmV3IERhdGUoaCksdC5fdGltZXN0YW1wfHwodC5fdGltZXN0YW1wPWgsdGhpcy5faGFzVGltZXN0YW1wPSEwKSk7YnJlYWs7Y2FzZSJjbG91ZCI6Y2FzZSJlbmNsb3N1cmUiOmNhc2UidGV4dElucHV0IjpjYXNlImltYWdlIjpjYXNlInNvdXJjZSI6ZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoPjB8fGUuYXR0cmlidXRlcyYmT2JqZWN0LmtleXMoZS5hdHRyaWJ1dGVzKS5sZW5ndGg+MD90W2UudGFnTmFtZV09c28uc2ltcGxpZnlYbWxOb2RlKGUpOmUudmFsdWUmJih0W2UudGFnTmFtZV09ZS52YWx1ZSk7YnJlYWs7Y2FzZSJyYWRpdXMiOmNhc2UiZWxldiI6dmFyIGY9cGFyc2VGbG9hdChlLnZhbHVlKTtzby5pc1ZhbGlkTnVtYmVyKGYpJiYodFtlLnRhZ05hbWVdPWYpO2JyZWFrO2RlZmF1bHQ6c28uaWdub3JlUHJvcGVydHkoZS50YWdOYW1lLGUudmFsdWUpfHwoZS52YWx1ZT90W2UudGFnTmFtZV09ZS52YWx1ZTp0W2UudGFnTmFtZV09c28uc2ltcGxpZnlYbWxOb2RlKGUpKTt9fSx0LnByb3RvdHlwZS5fcGFyc2VHZW9Sc3NQb2ludD1mdW5jdGlvbihlKXt2YXIgdCxyO2lmKGUmJmUuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aD49Mil7dmFyIG49dm9pZCAwLGE9dm9pZCAwO3RyeXtmb3IodmFyIGk9YWwoZS5jaGlsZE5vZGVzKSxvPWkubmV4dCgpOyFvLmRvbmU7bz1pLm5leHQoKSl7dmFyIHM9by52YWx1ZTtzd2l0Y2gocy50YWdOYW1lKXtjYXNlImxhdCI6Y2FzZSJsYXRpdHVkZSI6bj1wYXJzZUZsb2F0KHMudmFsdWUpO2JyZWFrO2Nhc2UibG9uIjpjYXNlImxvbmciOmNhc2UibG9uZ2l0dWRlIjphPXBhcnNlRmxvYXQocy52YWx1ZSk7fX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19dmFyIGw9c28uY3JlYXRlUG9zaXRpb24oYSxuKTtpZihsKXJldHVybiBsfXZhciB1PXRoaXMuX3BhcnNlQ29vcmRpbmF0ZXMoZSk7cmV0dXJuIHUmJnUubGVuZ3RoPjA/dVswXTpudWxsfSx0LnByb3RvdHlwZS5fcGFyc2VHZW9Sc3NMaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcnNlQ29vcmRpbmF0ZXMoZSk7cmV0dXJuIHQubGVuZ3RoPj0yP3tjb29yZGluYXRlczp0LHR5cGU6IkxpbmVTdHJpbmcifTpudWxsfSx0LnByb3RvdHlwZS5fcGFyc2VHZW9Sc3NQb2x5Z29uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcnNlQ29vcmRpbmF0ZXMoZSk7cmV0dXJuIHQubGVuZ3RoPj0zPyhzby5jbG9zZVJpbmcodCkse2Nvb3JkaW5hdGVzOlt0XSx0eXBlOiJQb2x5Z29uIn0pOm51bGx9LHQucHJvdG90eXBlLl9wYXJzZUdlb1Jzc0NpcmNsZT1mdW5jdGlvbihlKXtpZihlJiZlLnZhbHVlKXt2YXIgdD10aGlzLl9jaXJjbGVSeC5leGVjKGUudmFsdWUpO2lmKHQpe3ZhciByPXNvLmNyZWF0ZVBvc2l0aW9uKHBhcnNlRmxvYXQodFsyXSkscGFyc2VGbG9hdCh0WzFdKSksbj1wYXJzZUZsb2F0KHRbM10pLGE9e307cmV0dXJuIG4+MCYmKGE9e3JhZGl1czpuLHN1YlR5cGU6IkNpcmNsZSJ9KSx7Z2VvbWV0cnk6e2Nvb3JkaW5hdGVzOnIsdHlwZToiUG9pbnQifSxwcm9wZXJ0aWVzOmEsdHlwZToiRmVhdHVyZSJ9fX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX3BhcnNlR2VvUnNzQm94PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcnNlQ29vcmRpbmF0ZXMoZSk7cmV0dXJuIHQubGVuZ3RoPj0yP0xpLmZyb21FZGdlcyh0WzBdWzBdLHRbMF1bMV0sdFsxXVswXSx0WzFdWzFdKTpudWxsfSx0LnByb3RvdHlwZS5fcGFyc2VDb29yZGluYXRlcz1mdW5jdGlvbihlKXtpZihlJiZlLnZhbHVlKXtmb3IodmFyIHQ9W10scj12b2lkIDAsbj10aGlzLl9jb29yZGluYXRlUnguZXhlYyhlLnZhbHVlKTtuOykocj1zby5jcmVhdGVQb3NpdGlvbihwYXJzZUZsb2F0KG5bMl0pLHBhcnNlRmxvYXQoblsxXSkpKSYmdC5wdXNoKHIpLG49dGhpcy5fY29vcmRpbmF0ZVJ4LmV4ZWMoZS52YWx1ZSk7cmV0dXJuIHR9cmV0dXJuIG51bGx9LHR9KEdvKSxvbD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dDt9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTt9LGUodCxyKX07cmV0dXJuIGZ1bmN0aW9uKHQscil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcocikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dDt9ZSh0LHIpLHQucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKTt9fSgpLHNsPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihhLGkpe2Z1bmN0aW9uIG8oZSl7dHJ5e2wobi5uZXh0KGUpKTt9Y2F0Y2goZSl7aShlKTt9fWZ1bmN0aW9uIHMoZSl7dHJ5e2wobi50aHJvdyhlKSk7fWNhdGNoKGUpe2koZSk7fX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KTt9KSkpLnRoZW4obyxzKTt9bCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpO30pKX0sbGw9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBzKHMpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDtpJiYoaT0wLHNbMF0mJihvPTApKSxvOyl0cnl7aWYocj0xLG4mJihhPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYocz1bMiZzWzBdLGEudmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOmE9czticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9by50cnlzLChhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighYXx8c1sxXT5hWzBdJiZzWzFdPGFbM10pKXtvLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJm8ubGFiZWw8YVsxXSl7by5sYWJlbD1hWzFdLGE9czticmVha31pZihhJiZvLmxhYmVsPGFbMl0pe28ubGFiZWw9YVsyXSxvLm9wcy5wdXNoKHMpO2JyZWFrfWFbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLG8pO31jYXRjaChlKXtzPVs2LGVdLG49MDt9ZmluYWxseXtyPWE9MDt9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJuIHt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyxsXSl9fX0sdWw9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxjbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx0LG51bGwpfHx0aGlzfXJldHVybiBvbCh0LGUpLHQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHNsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gbGwodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZS5wcm90b3R5cGUuX2luaXRSZWFkLmNhbGwodGhpcyx0KSwocj0obmV3IGtvKS5wYXJzZSh0KSkmJnIucm9vdCYmci5yb290LnRhZ05hbWUmJiJncHgiPT09ci5yb290LnRhZ05hbWU/WzQsdGhpcy5fcGFyc2VHcHhEb2Moci5yb290KV06WzMsMl07Y2FzZSAxOnJldHVybiBbMixuLnNlbnQoKV07Y2FzZSAyOnRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHJlYWQgR1BYIGRvY3VtZW50LiIpfX0pKX0pKX0sdC5wcm90b3R5cGUuX3BhcnNlR3B4RG9jPWZ1bmN0aW9uKGUpe3JldHVybiBzbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixuLGEsaSxvLHMsbCx1LGMsaCxmLGQ7cmV0dXJuIGxsKHRoaXMsKGZ1bmN0aW9uKHApe3N3aXRjaChwLmxhYmVsKXtjYXNlIDA6aWYoIWUuY2hpbGROb2RlcylyZXR1cm4gWzMsMThdO3AubGFiZWw9MTtjYXNlIDE6cC50cnlzLnB1c2goWzEsMTYsMTcsMThdKSx0PXVsKGUuY2hpbGROb2Rlcykscj10Lm5leHQoKSxwLmxhYmVsPTI7Y2FzZSAyOmlmKHIuZG9uZSlyZXR1cm4gWzMsMTVdO3N3aXRjaChuPXIudmFsdWUsbi50YWdOYW1lKXtjYXNlIm1ldGFkYXRhIjpyZXR1cm4gWzMsM107Y2FzZSJydGUiOmNhc2UidHJrIjpjYXNlIndwdCI6cmV0dXJuIFszLDExXX1yZXR1cm4gWzMsMTNdO2Nhc2UgMzpwLnRyeXMucHVzaChbMyw4LDksMTBdKSxmPXZvaWQgMCxhPXVsKG4uY2hpbGROb2RlcyksaT1hLm5leHQoKSxwLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBpLmRvbmU/WzMsN106KG89aS52YWx1ZSxbNCx0aGlzLl9wYXJzZU1ldGFkYXRhKG8sdGhpcy5fcGFyc2VkRGF0YS5wcm9wZXJ0aWVzKV0pO2Nhc2UgNTpwLnNlbnQoKSxwLmxhYmVsPTY7Y2FzZSA2OnJldHVybiBpPWEubmV4dCgpLFszLDRdO2Nhc2UgNzpyZXR1cm4gWzMsMTBdO2Nhc2UgODpyZXR1cm4gcz1wLnNlbnQoKSxmPXtlcnJvcjpzfSxbMywxMF07Y2FzZSA5OnRyeXtpJiYhaS5kb25lJiYoZD1hLnJldHVybikmJmQuY2FsbChhKTt9ZmluYWxseXtpZihmKXRocm93IGYuZXJyb3J9cmV0dXJuIFs3XTtjYXNlIDEwOnJldHVybiBbMywxNF07Y2FzZSAxMTpyZXR1cm4gWzQsdGhpcy5fcGFyc2VTaGFwZShuKV07Y2FzZSAxMjpyZXR1cm4gKGw9cC5zZW50KCkpJiYodGhpcy5fcGFyc2VkRGF0YS5mZWF0dXJlcy5wdXNoKGwpLHRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMubGVuZ3RoLHRoaXMuX29wdGlvbnMubWF4RmVhdHVyZXMpLFszLDE0XTtjYXNlIDEzOnJldHVybiBbMywxNF07Y2FzZSAxNDpyZXR1cm4gcj10Lm5leHQoKSxbMywyXTtjYXNlIDE1OnJldHVybiBbMywxOF07Y2FzZSAxNjpyZXR1cm4gdT1wLnNlbnQoKSxjPXtlcnJvcjp1fSxbMywxOF07Y2FzZSAxNzp0cnl7ciYmIXIuZG9uZSYmKGg9dC5yZXR1cm4pJiZoLmNhbGwodCk7fWZpbmFsbHl7aWYoYyl0aHJvdyBjLmVycm9yfXJldHVybiBbN107Y2FzZSAxODpyZXR1cm4gdGhpcy5fY29tcGxldGVSZWFkKCksWzIsdGhpcy5fcGFyc2VkRGF0YV19fSkpfSkpfSx0LnByb3RvdHlwZS5fcGFyc2VNZXRhZGF0YT1mdW5jdGlvbihlLHQpe3JldHVybiBzbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbixhLGksbyxzLGwsdSxjLGgsZixkLHA7cmV0dXJuIGxsKHRoaXMsKGZ1bmN0aW9uKHkpe3N3aXRjaCh5LmxhYmVsKXtjYXNlIDA6aWYoIWV8fCF0KXJldHVybiBbMywyXTtzd2l0Y2gocj12b2lkIDAsZS50YWdOYW1lKXtjYXNlIm5hbWUiOnQudGl0bGU9ZS52YWx1ZSx0W2UudGFnTmFtZV09ZS52YWx1ZTticmVhaztjYXNlInN5bSI6cj1lLnZhbHVlO2JyZWFrO2Nhc2UiY210IjpjYXNlInNyYyI6Y2FzZSJ0eXBlIjpjYXNlImtleXdvcmRzIjpjYXNlImZpeCI6dFtlLnRhZ05hbWVdPWUudmFsdWU7YnJlYWs7Y2FzZSJkZXNjIjplLnZhbHVlJiYodFtlLnRhZ05hbWVdPXNvLnJlcGxhY2VOZXdsaW5lcyhlLnZhbHVlKSx0LmRlc2NyaXB0aW9uPXRbZS50YWdOYW1lXSk7YnJlYWs7Y2FzZSJib3VuZHMiOm49cGFyc2VGbG9hdChlLmF0dHJpYnV0ZXMubWF4TGF0KSxhPXBhcnNlRmxvYXQoZS5hdHRyaWJ1dGVzLm1pbkxhdCksaT1wYXJzZUZsb2F0KGUuYXR0cmlidXRlcy5tYXhMb24pLG89cGFyc2VGbG9hdChlLmF0dHJpYnV0ZXMubWluTG9uKSxzby5pc1ZhbGlkTnVtYmVyKG4pJiZzby5pc1ZhbGlkTnVtYmVyKGEpJiZzby5pc1ZhbGlkTnVtYmVyKGkpJiZzby5pc1ZhbGlkTnVtYmVyKG8pJiYocz1bbyxuXSxsPVtpLGFdLHQuYm91bmRzPUxpLmZyb21Qb3NpdGlvbnMoW3MsbF0pKTticmVhaztjYXNlImVsZSI6Y2FzZSJtYWd2YXIiOmNhc2UiZ2VvaWRoZWlnaHQiOmNhc2UiaGRvcCI6Y2FzZSJ2ZG9wIjpjYXNlInBkb3AiOmNhc2UiYWdlb2ZkZ3BzZGF0YSI6dT1wYXJzZUZsb2F0KGUudmFsdWUpLHNvLmlzVmFsaWROdW1iZXIodSkmJih0W2UudGFnTmFtZV09dSk7YnJlYWs7Y2FzZSJzYXQiOmNhc2UiZGdwc2lkIjpjPXBhcnNlSW50KGUudmFsdWUpLHNvLmlzVmFsaWROdW1iZXIoYykmJih0W2UudGFnTmFtZV09Yyk7YnJlYWs7Y2FzZSJ0aW1lIjplLnZhbHVlJiYoaD1EYXRlLnBhcnNlKGUudmFsdWUpKSYmKHQudGltZT1uZXcgRGF0ZShoKSx0Ll90aW1lc3RhbXA9aCx0aGlzLl9oYXNUaW1lc3RhbXA9ITApO2JyZWFrO2Nhc2UiYXV0aG9yIjooZj1zby5zaW1wbGlmeVhtbE5vZGUoZSkpPyhmLmxpbmsmJmYubGluay50ZXh0JiYhZi5saW5rLnRpdGxlJiYoZi5saW5rLnRpdGxlPWYubGluay50ZXh0KSx0W2UudGFnTmFtZV09Zik6c28uaXNWYWxpZFN0cmluZyhlLnZhbHVlKSYmKHRbZS50YWdOYW1lXT1lLnZhbHVlKTticmVhaztjYXNlImxpbmsiOihkPXNvLnNpbXBsaWZ5WG1sTm9kZShlKSk/KGQudGV4dCYmIWQudGl0bGUmJihkLnRpdGxlPWQudGV4dCksdFtlLnRhZ05hbWVdPWQpOnNvLmlzVmFsaWRTdHJpbmcoZS52YWx1ZSkmJih0W2UudGFnTmFtZV09ZS52YWx1ZSk7YnJlYWs7ZGVmYXVsdDpzby5pZ25vcmVQcm9wZXJ0eShlLnRhZ05hbWUsZS52YWx1ZSl8fChlLnZhbHVlP3RbZS50YWdOYW1lXT1lLnZhbHVlOnRbZS50YWdOYW1lXT1zby5zaW1wbGlmeVhtbE5vZGUoZSkpO31yZXR1cm4gc28uaXNWYWxpZFN0cmluZyhyKT8odC5zeW09ciwhdGhpcy5fb3B0aW9ucy5wYXJzZVN0eWxlc3x8dC5jb2xvcj9bMywyXTpbNCx0aGlzLl9pbWFnZU1hbmFnZXIuYWRkSW1hZ2UocixudWxsLCEwKV0pOlszLDJdO2Nhc2UgMToocD15LnNlbnQoKSkmJnAuY29sb3ImJih0LmNvbG9yPXAuY29sb3IpLHkubGFiZWw9MjtjYXNlIDI6cmV0dXJuIFsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9wYXJzZVNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBzbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGxsKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6c3dpdGNoKHQ9bnVsbCxlLnRhZ05hbWUpe2Nhc2Uid3B0IjpyZXR1cm4gWzMsMV07Y2FzZSJydGUiOnJldHVybiBbMywzXTtjYXNlInRyayI6cmV0dXJuIFszLDVdfXJldHVybiBbMyw3XTtjYXNlIDE6cmV0dXJuIFs0LHRoaXMuX3BhcnNlV2F5cG9pbnQoZSldO2Nhc2UgMjpjYXNlIDQ6Y2FzZSA2OnJldHVybiB0PXIuc2VudCgpLFszLDhdO2Nhc2UgMzpyZXR1cm4gWzQsdGhpcy5fcGFyc2VSb3V0ZShlKV07Y2FzZSA1OnJldHVybiBbNCx0aGlzLl9wYXJzZVRyYWNrKGUpXTtjYXNlIDc6cmV0dXJuIFszLDhdO2Nhc2UgODpyZXR1cm4gdCYmdC5wcm9wZXJ0aWVzLmJvdW5kcyYmKHQuYmJveD10LnByb3BlcnRpZXMuYm91bmRzLGRlbGV0ZSB0LnByb3BlcnRpZXMuYm91bmRzKSxbMix0XX19KSl9KSl9LHQucHJvdG90eXBlLl9wYXJzZVdheXBvaW50PWZ1bmN0aW9uKGUpe3JldHVybiBzbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixuLGEsaSxvLHMsbCx1O3JldHVybiBsbCh0aGlzLChmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOmlmKG51bGw9PWUpcmV0dXJuIFszLDEwXTtpZighKHQ9dGhpcy5fcGFyc2VQb3NpdGlvbihlLCExKSkpcmV0dXJuIFszLDEwXTtyPXt9LGMubGFiZWw9MTtjYXNlIDE6Yy50cnlzLnB1c2goWzEsNyw4LDldKSxuPXVsKGUuY2hpbGROb2RlcyksYT1uLm5leHQoKSxjLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBhLmRvbmU/WzMsNl06ImV4dGVuc2lvbnMiIT09KGk9YS52YWx1ZSkudGFnTmFtZT9bMywzXToodGhpcy5fb3B0aW9ucy5wYXJzZVN0eWxlcyYmKG89dGhpcy5fcGFyc2VFeHRlbnNpb25zKGkscikpJiZvLnN0cm9rZUNvbG9yJiYoci5jb2xvcj1vLnN0cm9rZUNvbG9yKSxbMyw1XSk7Y2FzZSAzOnJldHVybiBbNCx0aGlzLl9wYXJzZU1ldGFkYXRhKGkscildO2Nhc2UgNDpjLnNlbnQoKSxjLmxhYmVsPTU7Y2FzZSA1OnJldHVybiBhPW4ubmV4dCgpLFszLDJdO2Nhc2UgNjpyZXR1cm4gWzMsOV07Y2FzZSA3OnJldHVybiBzPWMuc2VudCgpLGw9e2Vycm9yOnN9LFszLDldO2Nhc2UgODp0cnl7YSYmIWEuZG9uZSYmKHU9bi5yZXR1cm4pJiZ1LmNhbGwobik7fWZpbmFsbHl7aWYobCl0aHJvdyBsLmVycm9yfXJldHVybiBbN107Y2FzZSA5OnJldHVybiByLm5hbWUmJihyLnRpdGxlPXIubmFtZSksci5lbGUmJnQucHVzaChyLmVsZSksWzIse2Jib3g6QXJyYXkuaXNBcnJheShyLmJvdW5kcyk/ci5ib3VuZHM6bnVsbCxnZW9tZXRyeTp7Y29vcmRpbmF0ZXM6dCx0eXBlOiJQb2ludCJ9LHByb3BlcnRpZXM6cix0eXBlOiJGZWF0dXJlIn1dO2Nhc2UgMTA6cmV0dXJuIFsyLG51bGxdfX0pKX0pKX0sdC5wcm90b3R5cGUuX3BhcnNlUm91dGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHNsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxpLG8scyxsLHUsYyxoLGY7cmV0dXJuIGxsKHRoaXMsKGZ1bmN0aW9uKGQpe3N3aXRjaChkLmxhYmVsKXtjYXNlIDA6aWYodD17fSxyPVtdLG51bGw9PWUpcmV0dXJuIFszLDE0XTthPXZvaWQgMCxpPXZvaWQgMCx0aGlzLl9vcHRpb25zLmNhcHR1cmVQYXRoV2F5cG9pbnRzJiYodC53YXlwb2ludHM9W10pLGUuYXR0cmlidXRlcyYmKHQubnVtYmVyPWUuYXR0cmlidXRlcy5udW1iZXIpLGQubGFiZWw9MTtjYXNlIDE6ZC50cnlzLnB1c2goWzEsMTIsMTMsMTRdKSxvPXVsKGUuY2hpbGROb2Rlcykscz1vLm5leHQoKSxkLmxhYmVsPTI7Y2FzZSAyOmlmKHMuZG9uZSlyZXR1cm4gWzMsMTFdO3N3aXRjaChsPXMudmFsdWUsbC50YWdOYW1lKXtjYXNlInJ0ZXB0IjpyZXR1cm4gWzMsM107Y2FzZSJleHRlbnNpb25zIjpyZXR1cm4gWzMsN119cmV0dXJuIFszLDhdO2Nhc2UgMzpyZXR1cm4gdGhpcy5fb3B0aW9ucy5jYXB0dXJlUGF0aFdheXBvaW50cz9bNCx0aGlzLl9wYXJzZVdheXBvaW50KGwpXTpbMyw1XTtjYXNlIDQ6cmV0dXJuIChpPWQuc2VudCgpKSYmKHQud2F5cG9pbnRzLnB1c2goaSksci5wdXNoKGkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpKSxbMyw2XTtjYXNlIDU6KGE9dGhpcy5fcGFyc2VQb3NpdGlvbihsLCEwKSkmJigodT1zby5nZXRFbGVtZW50QnlUYWdOYW1lKCJlbGUiLGwpKSYmYS5wdXNoKHBhcnNlRmxvYXQodS52YWx1ZSkpLHIucHVzaChhKSksZC5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gWzMsMTBdO2Nhc2UgNzpyZXR1cm4gbj10aGlzLl9wYXJzZUV4dGVuc2lvbnMobCx0KSxbMywxMF07Y2FzZSA4OnJldHVybiBbNCx0aGlzLl9wYXJzZU1ldGFkYXRhKGwsdCldO2Nhc2UgOTpyZXR1cm4gZC5zZW50KCksWzMsMTBdO2Nhc2UgMTA6cmV0dXJuIHM9by5uZXh0KCksWzMsMl07Y2FzZSAxMTpyZXR1cm4gWzMsMTRdO2Nhc2UgMTI6cmV0dXJuIGM9ZC5zZW50KCksaD17ZXJyb3I6Y30sWzMsMTRdO2Nhc2UgMTM6dHJ5e3MmJiFzLmRvbmUmJihmPW8ucmV0dXJuKSYmZi5jYWxsKG8pO31maW5hbGx5e2lmKGgpdGhyb3cgaC5lcnJvcn1yZXR1cm4gWzddO2Nhc2UgMTQ6cmV0dXJuIHIubGVuZ3RoPj0yPyhuJiZ0aGlzLl9vcHRpb25zLnBhcnNlU3R5bGVzJiYobi5zdHJva2VDb2xvciYmKHQuc3Ryb2tlQ29sb3I9bi5zdHJva2VDb2xvciksbi5zdHJva2VPcGFjaXR5JiYodC5zdHJva2VPcGFjaXR5PW4uc3Ryb2tlT3BhY2l0eSksbi5zdHJva2VXaWR0aCYmKHQuc3Ryb2tlV2lkdGg9bi5zdHJva2VXaWR0aCkpLFsyLHtiYm94OkFycmF5LmlzQXJyYXkodC5ib3VuZHMpP3QuYm91bmRzOm51bGwsZ2VvbWV0cnk6e2Nvb3JkaW5hdGVzOnIsdHlwZToiTGluZVN0cmluZyJ9LHByb3BlcnRpZXM6dCx0eXBlOiJGZWF0dXJlIn1dKTpbMixudWxsXX19KSl9KSl9LHQucHJvdG90eXBlLl9wYXJzZVRyYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBzbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixuLGEsaSxvLHMsbCx1LGMsaCxmLGQscCx5LG0sZyx2LF8sYix3LHgsayxTLE4sTztyZXR1cm4gbGwodGhpcywoZnVuY3Rpb24oQyl7c3dpdGNoKEMubGFiZWwpe2Nhc2UgMDppZihudWxsPT1lKXJldHVybiBbMywyMl07dD17fSxyPVtdLG49W10sYT12b2lkIDAsaT12b2lkIDAsbz12b2lkIDAscz12b2lkIDAsQy5sYWJlbD0xO2Nhc2UgMTpDLnRyeXMucHVzaChbMSwxOSwyMCwyMV0pLGw9dWwoZS5jaGlsZE5vZGVzKSx1PWwubmV4dCgpLEMubGFiZWw9MjtjYXNlIDI6aWYodS5kb25lKXJldHVybiBbMywxOF07c3dpdGNoKGM9dS52YWx1ZSxjLnRhZ05hbWUpe2Nhc2UidHJrc2VnIjpyZXR1cm4gWzMsM107Y2FzZSJleHRlbnNpb25zIjpyZXR1cm4gWzMsMTRdfXJldHVybiBbMywxNV07Y2FzZSAzOmlmKCF0aGlzLl9vcHRpb25zLmNhcHR1cmVQYXRoV2F5cG9pbnRzKXJldHVybiBbMywxMl07bj1bXSxvPVtdLEMubGFiZWw9NDtjYXNlIDQ6Qy50cnlzLnB1c2goWzQsOSwxMCwxMV0pLGs9dm9pZCAwLGg9dWwoYy5jaGlsZE5vZGVzKSxmPWgubmV4dCgpLEMubGFiZWw9NTtjYXNlIDU6cmV0dXJuIGYuZG9uZT9bMyw4XToidHJrcHQiIT09KG09Zi52YWx1ZSkudGFnTmFtZT9bMyw3XTpbNCx0aGlzLl9wYXJzZVdheXBvaW50KG0pXTtjYXNlIDY6KGk9Qy5zZW50KCkpJiYobi5wdXNoKGkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLG8ucHVzaChpKSksQy5sYWJlbD03O2Nhc2UgNzpyZXR1cm4gZj1oLm5leHQoKSxbMyw1XTtjYXNlIDg6cmV0dXJuIFszLDExXTtjYXNlIDk6cmV0dXJuIGQ9Qy5zZW50KCksaz17ZXJyb3I6ZH0sWzMsMTFdO2Nhc2UgMTA6dHJ5e2YmJiFmLmRvbmUmJihTPWgucmV0dXJuKSYmUy5jYWxsKGgpO31maW5hbGx5e2lmKGspdGhyb3cgay5lcnJvcn1yZXR1cm4gWzddO2Nhc2UgMTE6cmV0dXJuIG4ubGVuZ3RoPj0yJiZyLnB1c2gobiksWzMsMTNdO2Nhc2UgMTI6bj1bXTt0cnl7Zm9yKE49dm9pZCAwLHA9dWwoYy5jaGlsZE5vZGVzKSx5PXAubmV4dCgpOyF5LmRvbmU7eT1wLm5leHQoKSkidHJrcHQiPT09KG09eS52YWx1ZSkudGFnTmFtZSYmKGE9dGhpcy5fcGFyc2VQb3NpdGlvbihtLCEwKSkmJigoZz1zby5nZXRFbGVtZW50QnlUYWdOYW1lKCJlbGUiLGMpKSYmYS5wdXNoKHBhcnNlRmxvYXQoZy52YWx1ZSkpLG4ucHVzaChhKSk7fWNhdGNoKGUpe049e2Vycm9yOmV9O31maW5hbGx5e3RyeXt5JiYheS5kb25lJiYoTz1wLnJldHVybikmJk8uY2FsbChwKTt9ZmluYWxseXtpZihOKXRocm93IE4uZXJyb3J9fW4ubGVuZ3RoPj0yJiZyLnB1c2gobiksQy5sYWJlbD0xMztjYXNlIDEzOnJldHVybiBbMywxN107Y2FzZSAxNDpyZXR1cm4gcz10aGlzLl9wYXJzZUV4dGVuc2lvbnMoYyx0KSxbMywxN107Y2FzZSAxNTpyZXR1cm4gWzQsdGhpcy5fcGFyc2VNZXRhZGF0YShjLHQpXTtjYXNlIDE2OnJldHVybiBDLnNlbnQoKSxbMywxN107Y2FzZSAxNzpyZXR1cm4gdT1sLm5leHQoKSxbMywyXTtjYXNlIDE4OnJldHVybiBbMywyMV07Y2FzZSAxOTpyZXR1cm4gdj1DLnNlbnQoKSx3PXtlcnJvcjp2fSxbMywyMV07Y2FzZSAyMDp0cnl7dSYmIXUuZG9uZSYmKHg9bC5yZXR1cm4pJiZ4LmNhbGwobCk7fWZpbmFsbHl7aWYodyl0aHJvdyB3LmVycm9yfXJldHVybiBbN107Y2FzZSAyMTpyZXR1cm4gMD09PShfPXIubGVuZ3RoKT9bMixudWxsXTooYj12b2lkIDAsYj0xPT09Xz97Y29vcmRpbmF0ZXM6clswXSx0eXBlOiJMaW5lU3RyaW5nIn06e2Nvb3JkaW5hdGVzOnIsdHlwZToiTXVsdGlMaW5lU3RyaW5nIn0sdGhpcy5fb3B0aW9ucy5jYXB0dXJlUGF0aFdheXBvaW50cyYmKHQud2F5cG9pbnRzPW8pLHMmJnRoaXMuX29wdGlvbnMucGFyc2VTdHlsZXMmJihzLnN0cm9rZUNvbG9yJiYodC5zdHJva2VDb2xvcj1zLnN0cm9rZUNvbG9yKSxzLnN0cm9rZU9wYWNpdHkmJih0LnN0cm9rZU9wYWNpdHk9cy5zdHJva2VPcGFjaXR5KSxzLnN0cm9rZVdpZHRoJiYodC5zdHJva2VXaWR0aD1zLnN0cm9rZVdpZHRoKSksWzIse2Jib3g6QXJyYXkuaXNBcnJheSh0LmJvdW5kcyk/dC5ib3VuZHM6bnVsbCxnZW9tZXRyeTpiLHByb3BlcnRpZXM6dCx0eXBlOiJGZWF0dXJlIn1dKTtjYXNlIDIyOnJldHVybiBbMixudWxsXX19KSl9KSl9LHQucHJvdG90eXBlLl9wYXJzZVBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9cGFyc2VGbG9hdChlLmF0dHJpYnV0ZXMubGF0KSxuPXBhcnNlRmxvYXQoZS5hdHRyaWJ1dGVzLmxvbik7cmV0dXJuIHNvLmNyZWF0ZVBvc2l0aW9uKG4scixudWxsLHQpfSx0LnByb3RvdHlwZS5fcGFyc2VFeHRlbnNpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtpZihlLmNoaWxkTm9kZXMpe3ZhciBhPXZvaWQgMCxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvPXVsKGUuY2hpbGROb2Rlcykscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBsPXMudmFsdWU7c3dpdGNoKGwudGFnTmFtZSl7Y2FzZSJsaW5lIjppPXRoaXMuX3BhcnNlR3B4TGluZVN0eWxlRXh0ZW5zaW9uKGwpO2JyZWFrO2Nhc2UiV2F5cG9pbnRFeHRlbnNpb24iOmNhc2UiUm91dGVFeHRlbnNpb24iOmNhc2UiVHJhY2tFeHRlbnNpb24iOmE9dGhpcy5fcGFyc2VHcHh4RXh0ZW5zaW9ucyhsLHQpO2JyZWFrO2Nhc2UiRGlzcGxheUNvbG9yIjphPWwudmFsdWU7YnJlYWs7Y2FzZSJmaWxsIjpjYXNlInRleHQiOmNhc2UiYWxpZ24iOmNhc2UidmVydGljYWwtYWxpZ24iOmJyZWFrO2RlZmF1bHQ6c28uaWdub3JlUHJvcGVydHkoZS50YWdOYW1lLGUudmFsdWUpfHwobC52YWx1ZT90W2wudGFnTmFtZV09bC52YWx1ZTp0W2wudGFnTmFtZV09c28uc2ltcGxpZnlYbWxOb2RlKGwpKTt9fX1jYXRjaChlKXtyPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKG49by5yZXR1cm4pJiZuLmNhbGwobyk7fWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1yZXR1cm4gYSYmKGkmJiFpLnN0cm9rZUNvbG9yP2kuc3Ryb2tlQ29sb3I9YTppPXtzdHJva2VDb2xvcjphfSksaX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX3BhcnNlR3B4TGluZVN0eWxlRXh0ZW5zaW9uPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLGk9e307aWYoZSYmZS5jaGlsZE5vZGVzKXRyeXtmb3IodmFyIG89dWwoZS5jaGlsZE5vZGVzKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTtzd2l0Y2gobC50YWdOYW1lKXtjYXNlImNvbG9yIjpzby5pc1ZhbGlkU3RyaW5nKGwudmFsdWUpJiYobj1sLnZhbHVlKTticmVhaztjYXNlIm9wYWNpdHkiOnZhciB1PXBhcnNlRmxvYXQobC52YWx1ZSk7c28uaXNWYWxpZE51bWJlcih1KSYmKGE9dSk7YnJlYWs7Y2FzZSJ3aWR0aCI6dmFyIGM9cGFyc2VGbG9hdChsLnZhbHVlKTtzby5pc1ZhbGlkTnVtYmVyKGMpJiYoaS5zdHJva2VXaWR0aD1NYXRoLnJvdW5kKGMqc28ubW1QZXJQaXhlbEdweCoxMCkvMTApO319fWNhdGNoKGUpe3Q9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKTt9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fWlmKCJudW1iZXIiIT10eXBlb2YgYSYmKGE9MSksbilpZigxIT09YSl7dmFyIGg9c28uY29sb3JUb1JnYmFBcnJheShuKTtoWzNdPWEsaS5zdHJva2VDb2xvcj1zby5jb2xvclRvUmdiYShoKTt9ZWxzZSBpLnN0cm9rZUNvbG9yPW47cmV0dXJuIGl9LHQucHJvdG90eXBlLl9wYXJzZUdweHhFeHRlbnNpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhO2lmKGUmJmUuY2hpbGROb2Rlcyl0cnl7Zm9yKHZhciBpPXVsKGUuY2hpbGROb2Rlcyksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpe3ZhciBzPW8udmFsdWU7aWYoIkRpc3BsYXlDb2xvciI9PT1zLnRhZ05hbWUpc28uaXNWYWxpZFN0cmluZyhzLnZhbHVlKSYmKGE9cy52YWx1ZSk7ZWxzZSBzby5pZ25vcmVQcm9wZXJ0eShlLnRhZ05hbWUsZS52YWx1ZSl8fChzLnZhbHVlP3Rbcy50YWdOYW1lXT1zby5zaW1wbGlmeVhtbE5vZGUocyk6dFtzLnRhZ05hbWVdPXMudmFsdWUpO319Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19cmV0dXJuIGF9LHR9KEdvKSxobD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dDt9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTt9LGUodCxyKX07cmV0dXJuIGZ1bmN0aW9uKHQscil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcocikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dDt9ZSh0LHIpLHQucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKTt9fSgpLGZsPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihhLGkpe2Z1bmN0aW9uIG8oZSl7dHJ5e2wobi5uZXh0KGUpKTt9Y2F0Y2goZSl7aShlKTt9fWZ1bmN0aW9uIHMoZSl7dHJ5e2wobi50aHJvdyhlKSk7fWNhdGNoKGUpe2koZSk7fX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KTt9KSkpLnRoZW4obyxzKTt9bCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpO30pKX0sZGw9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEsaSxvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBzKHMpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDtpJiYoaT0wLHNbMF0mJihvPTApKSxvOyl0cnl7aWYocj0xLG4mJihhPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYocz1bMiZzWzBdLGEudmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOmE9czticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9by50cnlzLChhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighYXx8c1sxXT5hWzBdJiZzWzFdPGFbM10pKXtvLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJm8ubGFiZWw8YVsxXSl7by5sYWJlbD1hWzFdLGE9czticmVha31pZihhJiZvLmxhYmVsPGFbMl0pe28ubGFiZWw9YVsyXSxvLm9wcy5wdXNoKHMpO2JyZWFrfWFbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLG8pO31jYXRjaChlKXtzPVs2LGVdLG49MDt9ZmluYWxseXtyPWE9MDt9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJuIHt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyxsXSl9fX0scGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSx5bD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixuLGEpe3ZhciBpPWUuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIGkuX3N0eWxlcz17fSxpLl9zdHlsZU1hcHM9e30saS5fc2NoZW1hRGF0YT17fSxpLl9jb29yZGluYXRlUng9LygtP1swLTldK1suMC05RV0qKSwoLT9bMC05XStbLjAtOUVdKikoLCgtP1swLTldK1suMC05RV0qKSkqW1xzXHJcblx0XSovZyxpLl9uZXR3b3JrTGlua3NMb2FkZWQ9MCxpLl9jdXJyZW50TmV0d29ya0xpbmtEZXB0aD0wLGkuX3N1cHBvcnRJbWFnZUV4dD0vXC4oanBnfGpwZWd8cG5nfGdpZikkL2ksaS5fa21sQmFsbG9vblN0eWxlUHJvcGVydHlSeD0vXCRcWyhbLWEtekEtWjAtOV9dKykoXC8/KShbLWEtekEtWjAtOV9dKyk/KFwvPykoWy1hLXpBLVowLTlfXSspP1xdL2dpLGkuX2lzU3ViUmVhZGVyPWEsc28uaXNWYWxpZE51bWJlcihuKSYmKGkuX2N1cnJlbnROZXR3b3JrTGlua0RlcHRoPW4pLGl9cmV0dXJuIGhsKHQsZSksdC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtyZXR1cm4gZmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBkbCh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9wYXJlbnRLbXo9bnVsbCxbNCx0aGlzLl9wYXJzZUttbERvYyhlKV07Y2FzZSAxOnJldHVybiBbMix0LnNlbnQoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5yZWFkS216QXN5bmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxpLHMsbCx1LGM7cmV0dXJuIGRsKHRoaXMsKGZ1bmN0aW9uKGgpe3N3aXRjaChoLmxhYmVsKXtjYXNlIDA6aWYoIWUpcmV0dXJuIFszLDEwXTtpZighKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIFszLDVdO2gubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGgudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCwobmV3IG8pLmxvYWRBc3luYyhlKV07Y2FzZSAyOnJldHVybiB0PWguc2VudCgpLHRoaXMuX3BhcmVudEttej10LFszLDRdO2Nhc2UgMzp0aHJvdyBoLnNlbnQoKSxuZXcgRXJyb3IoIlVuYWJsZSB0byBwYXJzZSBLTVogZmlsZS4iKTtjYXNlIDQ6cmV0dXJuIFszLDZdO2Nhc2UgNTplIGluc3RhbmNlb2YgbyYmKHRoaXMuX3BhcmVudEttej1lKSxoLmxhYmVsPTY7Y2FzZSA2OmlmKCF0aGlzLl9wYXJlbnRLbXp8fCF0aGlzLl9wYXJlbnRLbXouZmlsZXMpcmV0dXJuIFszLDEwXTtyPXRoaXMuX3BhcmVudEttei5maWxlc1siZG9jLmttbCJdLG49W107dHJ5e2ZvcihhPXBsKE9iamVjdC5rZXlzKHRoaXMuX3BhcmVudEttei5maWxlcykpLGk9YS5uZXh0KCk7IWkuZG9uZTtpPWEubmV4dCgpKXM9aS52YWx1ZSwhciYmdGhpcy5fcGFyZW50S216LmZpbGVzW3NdLm5hbWUuaW5jbHVkZXMoIi5rbWwiKSYmKHI9dGhpcy5fcGFyZW50S216LmZpbGVzW3NdKSxuLnB1c2godGhpcy5fcHJlbG9hZEVtYmVkZGVkSW1hZ2UocykpO31jYXRjaChlKXt1PXtlcnJvcjplfTt9ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKGM9YS5yZXR1cm4pJiZjLmNhbGwoYSk7fWZpbmFsbHl7aWYodSl0aHJvdyB1LmVycm9yfX1yZXR1cm4gWzQsUHJvbWlzZS5hbGwobildO2Nhc2UgNzpyZXR1cm4gaC5zZW50KCkscj9bNCxyLmFzeW5jKCJ0ZXh0IildOlszLDEwXTtjYXNlIDg6cmV0dXJuIGw9aC5zZW50KCksWzQsdGhpcy5fcGFyc2VLbWxEb2MobCldO2Nhc2UgOTpyZXR1cm4gWzIsaC5zZW50KCldO2Nhc2UgMTA6dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gcGFyc2UgS01aIGZpbGUuIil9fSkpfSkpfSx0LnByb3RvdHlwZS5fcGFyc2VLbWxEb2M9ZnVuY3Rpb24odCl7cmV0dXJuIGZsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixuLGEsaSxvLHMsbCx1LGMsaDtyZXR1cm4gZGwodGhpcywoZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZS5wcm90b3R5cGUuX2luaXRSZWFkLmNhbGwodGhpcyx0KSxyPW5ldyBrbyxuPXIucGFyc2UodCksc28uZG9jSGFzRGF0YShuKT9bNCx0aGlzLl9wYXJzZUNvbnRhaW5lcihuLnJvb3QpXTpbMywyXTtjYXNlIDE6aWYoZi5zZW50KCksdGhpcy5faGFzVW5kZWZpbmVkU3R5bGVzKXRyeXtmb3IoYT1wbCh0aGlzLl9wYXJzZWREYXRhLmZlYXR1cmVzKSxpPWEubmV4dCgpOyFpLmRvbmU7aT1hLm5leHQoKSlvPWkudmFsdWUsKHM9by5wcm9wZXJ0aWVzLnN0eWxlVXJsKSYmKGw9dGhpcy5fZ2V0U3R5bGVCeVVybChzKSxkZWxldGUgby5wcm9wZXJ0aWVzLnN0eWxlVXJsLGwmJih1PSJib29sZWFuIiE9dHlwZW9mIG8ucHJvcGVydGllcy52aXNpYmxlfHxvLnByb3BlcnRpZXMudmlzaWJsZSx0aGlzLl9hcHBseVN0eWxlKG8sbCx1KSkpO31jYXRjaChlKXtjPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKGg9YS5yZXR1cm4pJiZoLmNhbGwoYSk7fWZpbmFsbHl7aWYoYyl0aHJvdyBjLmVycm9yfX10aGlzLl9pc1N1YlJlYWRlcnx8KHRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMmJih0aGlzLl9wYXJzZWREYXRhLmZlYXR1cmVzPXRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMucmV2ZXJzZSgpKSx0aGlzLl9wYXJzZWREYXRhLl9ncm91bmRPdmVybGF5T3B0aW9ucyYmKHRoaXMuX3BhcnNlZERhdGEuX2dyb3VuZE92ZXJsYXlPcHRpb25zPXRoaXMuX3BhcnNlZERhdGEuX2dyb3VuZE92ZXJsYXlPcHRpb25zLnJldmVyc2UoKSksdGhpcy5faGFzRHJhd09yZGVyJiZ0aGlzLl9wYXJzZWREYXRhLl9ncm91bmRPdmVybGF5T3B0aW9ucy5zb3J0KHRoaXMuX292ZXJsYXlEcmF3T3JkZXJTb3J0ZXIpKSxmLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0aGlzLl9jb21wbGV0ZVJlYWQoKSxbMix0aGlzLl9wYXJzZWREYXRhXX19KSl9KSl9LHQucHJvdG90eXBlLl9wYXJzZUNvbnRhaW5lcj1mdW5jdGlvbihlKXtyZXR1cm4gZmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbixhLGksbyxzLGwsdSxjLGgsZjtyZXR1cm4gZGwodGhpcywoZnVuY3Rpb24oZCl7c3dpdGNoKGQubGFiZWwpe2Nhc2UgMDpkLnRyeXMucHVzaChbMCwxOSwyMCwyMV0pLHQ9cGwoZS5jaGlsZE5vZGVzKSxyPXQubmV4dCgpLGQubGFiZWw9MTtjYXNlIDE6aWYoci5kb25lKXJldHVybiBbMywxOF07c3dpdGNoKG49ci52YWx1ZSxuLnRhZ05hbWUpe2Nhc2UiRG9jdW1lbnQiOmNhc2UiRm9sZGVyIjpyZXR1cm4gWzMsMl07Y2FzZSJQbGFjZW1hcmsiOnJldHVybiBbMyw0XTtjYXNlIlN0eWxlIjpyZXR1cm4gWzMsNl07Y2FzZSJTdHlsZU1hcCI6cmV0dXJuIFszLDldO2Nhc2UiU2NoZW1hIjpyZXR1cm4gWzMsMTBdO2Nhc2UiR3JvdW5kT3ZlcmxheSI6cmV0dXJuIFszLDExXTtjYXNlIk5ldHdvcmtMaW5rIjpyZXR1cm4gWzMsMTJdO2Nhc2UiUmVnaW9uIjpyZXR1cm4gWzMsMTRdO2Nhc2UiU2NyZWVuT3ZlcmxheSI6cmV0dXJuIFszLDE1XX1yZXR1cm4gWzMsMTZdO2Nhc2UgMjpyZXR1cm4gWzQsdGhpcy5fcGFyc2VDb250YWluZXIobildO2Nhc2UgMzpyZXR1cm4gZC5zZW50KCksWzMsMTddO2Nhc2UgNDpyZXR1cm4gWzQsdGhpcy5fcGFyc2VQbGFjZW1hcmsobildO2Nhc2UgNTpyZXR1cm4gKGE9ZC5zZW50KCkpJiZhLmxlbmd0aD4wJiYoMT09PWEubGVuZ3RoP3RoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMucHVzaChhWzBdKToodGhpcy5fcGFyc2VkRGF0YS5mZWF0dXJlcy5sZW5ndGgrYS5sZW5ndGg+dGhpcy5fb3B0aW9ucy5tYXhGZWF0dXJlcyYmKGEubGVuZ3RoPXRoaXMuX29wdGlvbnMubWF4RmVhdHVyZXMtdGhpcy5fcGFyc2VkRGF0YS5mZWF0dXJlcy5sZW5ndGgpLHRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXM9dGhpcy5fcGFyc2VkRGF0YS5mZWF0dXJlcy5jb25jYXQoYSkpLHRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMubGVuZ3RoLHRoaXMuX29wdGlvbnMubWF4RmVhdHVyZXMpLFszLDE3XTtjYXNlIDY6cmV0dXJuIG4uYXR0cmlidXRlcyYmdGhpcy5fb3B0aW9ucy5wYXJzZVN0eWxlcyYmKGk9bi5hdHRyaWJ1dGVzLmlkKT8obz10aGlzLl9zdHlsZXMscz1pLFs0LHRoaXMuX3BhcnNlU3R5bGUobildKTpbMyw4XTtjYXNlIDc6b1tzXT1kLnNlbnQoKSxkLmxhYmVsPTg7Y2FzZSA4OnJldHVybiBbMywxN107Y2FzZSA5OnJldHVybiB0aGlzLl9vcHRpb25zLnBhcnNlU3R5bGVzJiZ0aGlzLl9wYXJzZVN0eWxlTWFwKG4pLFszLDE3XTtjYXNlIDEwOnJldHVybiB0aGlzLl9wYXJzZVNjaGVtYShuKSxbMywxN107Y2FzZSAxMTpyZXR1cm4gKGw9dGhpcy5fcGFyc2VHcm91bmRPdmVybGF5KG4pKSYmdGhpcy5fcGFyc2VkRGF0YS5fZ3JvdW5kT3ZlcmxheU9wdGlvbnMucHVzaChsKSxbMywxN107Y2FzZSAxMjpyZXR1cm4gWzQsdGhpcy5fcGFyc2VOZXR3b3JrTGluayhuKV07Y2FzZSAxMzpyZXR1cm4gZC5zZW50KCksWzMsMTddO2Nhc2UgMTQ6cmV0dXJuIHRoaXMuX3BhcnNlZERhdGEuYmJveHx8KHU9dGhpcy5fcGFyc2VSZWdpb24obikpJiYodGhpcy5fcGFyc2VkRGF0YS5iYm94PXUpLFszLDE3XTtjYXNlIDE1OnJldHVybiBbMywxN107Y2FzZSAxNjpyZXR1cm4gdGhpcy5fcGFyc2VGZWF0dXJlTWV0YWRhdGEobix0aGlzLl9wYXJzZWREYXRhLnByb3BlcnRpZXMpLFszLDE3XTtjYXNlIDE3OnJldHVybiByPXQubmV4dCgpLFszLDFdO2Nhc2UgMTg6cmV0dXJuIFszLDIxXTtjYXNlIDE5OnJldHVybiBjPWQuc2VudCgpLGg9e2Vycm9yOmN9LFszLDIxXTtjYXNlIDIwOnRyeXtyJiYhci5kb25lJiYoZj10LnJldHVybikmJmYuY2FsbCh0KTt9ZmluYWxseXtpZihoKXRocm93IGguZXJyb3J9cmV0dXJuIFs3XTtjYXNlIDIxOnJldHVybiBbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fZ2V0U3R5bGVTY2hlbWFOYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGFzdEluZGV4T2YoIiMiKTtyZXR1cm4gLTEhPT10P2Uuc3Vic3RyKHQrMSk6ZX0sdC5wcm90b3R5cGUuX2dldFN0eWxlQnlVcmw9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5fZ2V0U3R5bGVTY2hlbWFOYW1lKGUpLHI9dGhpcy5fc3R5bGVzW3RdO2lmKCFyKXt2YXIgbj10aGlzLl9zdHlsZU1hcHNbdF07biYmKHI9dGhpcy5fc3R5bGVzW25dKTt9aWYocilyZXR1cm4gcn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX2dldFNjaGVtYUJ5VXJsPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuX2dldFN0eWxlU2NoZW1hTmFtZShlKSxyPXRoaXMuX3NjaGVtYURhdGFbdF07aWYocilyZXR1cm4gcn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX3BhcnNlRmVhdHVyZU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUudGFnTmFtZSl7Y2FzZSJuYW1lIjplLnZhbHVlJiYodFtlLnRhZ05hbWVdPWUudmFsdWUsdC50aXRsZT1lLnZhbHVlKTticmVhaztjYXNlImRlc2NyaXB0aW9uIjplLnZhbHVlJiYodFtlLnRhZ05hbWVdPXNvLnJlcGxhY2VOZXdsaW5lcyh0aGlzLl9yZXBsYWNlRW1iZWRkZWRJbWFnZVVybHMoZS52YWx1ZSkpLnJlcGxhY2UoLzxiclwvPz4kL2csIiIpKTticmVhaztjYXNlImFkZHJlc3MiOmNhc2UicGhvbmVOdW1iZXIiOmNhc2UiU25pcHBldCI6ZS52YWx1ZSYmImVtcHR5IiE9PWUudmFsdWUmJih0W2UudGFnTmFtZV09ZS52YWx1ZSk7YnJlYWs7Y2FzZSJ2aXNpYmlsaXR5IjpjYXNlIm9wZW4iOnRbZS50YWdOYW1lXT1zby5wYXJzZUJvb2xlYW4oZS52YWx1ZSk7YnJlYWs7Y2FzZSJhdXRob3IiOmNhc2UibGluayI6Y2FzZSJBZGRyZXNzRGV0YWlscyI6dFtlLnRhZ05hbWVdPXNvLnNpbXBsaWZ5WG1sTm9kZShlKTticmVhaztjYXNlIkV4dGVuZGVkRGF0YSI6dGhpcy5fcGFyc2VFeHRlbmRlZERhdGEoZSx0KTticmVhaztjYXNlIlRpbWVTdGFtcCI6dmFyIHI9c28uc2ltcGxpZnlYbWxOb2RlKGUpO2lmKHImJnIud2hlbikoYT1EYXRlLnBhcnNlKHIud2hlbikpJiYodC5UaW1lU3RhbXA9bmV3IERhdGUoYSksdC5fdGltZXN0YW1wPWEsdGhpcy5faGFzVGltZXN0YW1wPSEwKTticmVhaztjYXNlIlRpbWVTcGFuIjp2YXIgbj1zby5zaW1wbGlmeVhtbE5vZGUoZSk7aWYobil7dmFyIGE7aWYobi5iZWdpbikoYT1EYXRlLnBhcnNlKG4uYmVnaW4pKSYmKG4uYmVnaW49bmV3IERhdGUoYSksdC5fdGltZXN0YW1wfHwodC5fdGltZXN0YW1wPWEsdGhpcy5faGFzVGltZXN0YW1wPSEwKSk7aWYobi5lbmQpKGE9RGF0ZS5wYXJzZShuLmVuZCkpJiYobi5lbmQ9bmV3IERhdGUoYSksdC5fdGltZXN0YW1wfHwodC5fdGltZXN0YW1wPWEsdGhpcy5faGFzVGltZXN0YW1wPSEwKSk7dC5UaW1lU3Bhbj1uO31icmVhaztjYXNlIkNhbWVyYSI6Y2FzZSJMb29rQXQiOmNhc2UiU3R5bGVTZWxlY3RvciI6YnJlYWs7ZGVmYXVsdDpzby5pZ25vcmVQcm9wZXJ0eShlLnRhZ05hbWUsZS52YWx1ZSl8fChlLnZhbHVlP3RbZS50YWdOYW1lXT1lLnZhbHVlOnRbZS50YWdOYW1lXT1zby5zaW1wbGlmeVhtbE5vZGUoZSkpO319LHQucHJvdG90eXBlLl9wYXJzZUV4dGVuZGVkRGF0YT1mdW5jdGlvbihlLHQpe3ZhciByLG47dHJ5e2Zvcih2YXIgYT1wbChlLmNoaWxkTm9kZXMpLGk9YS5uZXh0KCk7IWkuZG9uZTtpPWEubmV4dCgpKXt2YXIgbz1pLnZhbHVlO2lmKCJEYXRhIj09PW8udGFnTmFtZSl7dmFyIHM9by5hdHRyaWJ1dGVzLm5hbWU7cyYmKHRbc109c28uc2ltcGxpZnlYbWxOb2RlKG8pKTt9ZWxzZSBpZigiU2NoZW1hRGF0YSI9PT1vLnRhZ05hbWUpe3ZhciBsPXRoaXMuX2dldFNjaGVtYUJ5VXJsKG8uYXR0cmlidXRlcy5zY2hlbWFVcmwpO2wmJnRoaXMuX3Byb2Nlc3NTY2hlbWEobCxvLmNoaWxkTm9kZXMsdCk7fX19Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihuPWEucmV0dXJuKSYmbi5jYWxsKGEpO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19fSx0LnByb3RvdHlwZS5fcGFyc2VTY2hlbWE9ZnVuY3Rpb24oZSl7dmFyIHQscjtpZihlLmF0dHJpYnV0ZXMpe3ZhciBuPWUuYXR0cmlidXRlcy5pZCxhPWUuYXR0cmlidXRlcy5uYW1lO2lmKG4mJmEpe3ZhciBpPXtmaWVsZHM6e30sbmFtZTphfTt0cnl7Zm9yKHZhciBvPXBsKGUuY2hpbGROb2Rlcykscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBsPXMudmFsdWU7YT1sLmF0dHJpYnV0ZXMubmFtZTt2YXIgdT1sLmF0dHJpYnV0ZXMudHlwZTthJiZ1JiYobC5jaGlsZE5vZGVzJiZsLmNoaWxkTm9kZXMubGVuZ3RoPjAmJiJkaXNwbGF5TmFtZSI9PT1sLmNoaWxkTm9kZXNbMF0udGFnTmFtZT9pLmZpZWxkc1thXT17ZGlzcGxheU5hbWU6bC5jaGlsZE5vZGVzWzBdLnZhbHVlLHR5cGU6dX06aS5maWVsZHNbYV09e3R5cGU6dX0pO319Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19dGhpcy5fc2NoZW1hRGF0YVtuXT1pO319fSx0LnByb3RvdHlwZS5fcHJvY2Vzc1NjaGVtYT1mdW5jdGlvbihlLHQscil7dmFyIG4sYTtpZihlJiZ0JiZyKXRyeXtmb3IodmFyIGk9cGwodCksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpe3ZhciBzPW8udmFsdWUsbD1zLmF0dHJpYnV0ZXMubmFtZTtpZihsKXt2YXIgdT1lLmZpZWxkc1tsXTtpZih1KXt2YXIgYz1zLnZhbHVlO3N3aXRjaCh1LnR5cGUpe2Nhc2UiYm9vbCI6Yz1zby5wYXJzZUJvb2xlYW4oYyk7YnJlYWs7Y2FzZSJpbnQiOmNhc2UidWludCI6Y2FzZSJzaG9ydCI6Y2FzZSJ1c2hvcnQiOmM9cGFyc2VJbnQoYyk7YnJlYWs7Y2FzZSJmbG9hdCI6Y2FzZSJkb3VibGUiOmM9cGFyc2VGbG9hdChjKTt9dS5kaXNwbGF5TmFtZT9yW2xdPXtkaXNwbGF5TmFtZTp1LmRpc3BsYXlOYW1lLHZhbHVlOmN9OnJbbF09Yzt9fX19Y2F0Y2goZSl7bj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihhPWkucmV0dXJuKSYmYS5jYWxsKGkpO31maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19fSx0LnByb3RvdHlwZS5fcGFyc2VTdHlsZT1mdW5jdGlvbihlKXtyZXR1cm4gZmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbixhLGksbyxzLGwsdSxjLGgsZj10aGlzO3JldHVybiBkbCh0aGlzLChmdW5jdGlvbihkKXtzd2l0Y2goZC5sYWJlbCl7Y2FzZSAwOnQ9e2ljb25TdHlsZTp7fSxsaW5lU3R5bGU6e30scG9seVN0eWxlOnt9fSxyPSEwLG49ITAsYT1mdW5jdGlvbihhKXt2YXIgbztyZXR1cm4gZGwodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDpzd2l0Y2goYS50YWdOYW1lKXtjYXNlIkljb25TdHlsZSI6cmV0dXJuIFszLDFdO2Nhc2UiTGluZVN0eWxlIjpyZXR1cm4gWzMsM107Y2FzZSJQb2x5U3R5bGUiOnJldHVybiBbMyw0XTtjYXNlIkJhbGxvb25TdHlsZSI6cmV0dXJuIFszLDVdO2Nhc2UiTGFiZWxTdHlsZSI6cmV0dXJuIFszLDZdO2Nhc2UiTGlzdFN0eWxlIjpyZXR1cm4gWzMsN119cmV0dXJuIFszLDddO2Nhc2UgMTpyZXR1cm4gWzQsaS5fcGFyc2VJY29uU3R5bGUoYSx0KV07Y2FzZSAyOnJldHVybiBzLnNlbnQoKSxbMyw4XTtjYXNlIDM6cmV0dXJuIGkuX3BhcnNlTGluZVN0eWxlKGEsdCksWzMsOF07Y2FzZSA0OnJldHVybiBlLmNoaWxkTm9kZXMmJihhLmNoaWxkTm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c3dpdGNoKGUudGFnTmFtZSl7Y2FzZSJjb2xvciI6aWYoZS52YWx1ZSl7dmFyIGE9Zi5fcGFyc2VLbWxDb2xvcihlLnZhbHVlKTthJiYodC5wb2x5U3R5bGUuZmlsbENvbG9yPXNvLmNvbG9yVG9IZXgoYSksdC5wb2x5U3R5bGUuZmlsbE9wYWNpdHk9YVszXSk7fWJyZWFrO2Nhc2UiZmlsbCI6cj1zby5wYXJzZUJvb2xlYW4oZS52YWx1ZSk7YnJlYWs7Y2FzZSJvdXRsaW5lIjpuPXNvLnBhcnNlQm9vbGVhbihlLnZhbHVlKTt9fSkpLHJ8fCh0LnBvbHlTdHlsZS5maWxsT3BhY2l0eT0wKSxufHwodC5wb2x5U3R5bGUuc3Ryb2tlT3BhY2l0eT0wKSksWzMsOF07Y2FzZSA1OnJldHVybiBhLmNoaWxkTm9kZXMmJmEuY2hpbGROb2Rlcy5sZW5ndGg+MCYmKG89e30sYS5jaGlsZE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlLnRhZ05hbWUpe2Nhc2UidGV4dCI6dmFyIHQ9ZS52YWx1ZTtpZih0KXtmb3IodmFyIHI9Zi5fa21sQmFsbG9vblN0eWxlUHJvcGVydHlSeC5leGVjKGUudmFsdWUpO3I7KXtpZihyLmxlbmd0aD49Nil7dmFyIG49IiI7ImRpc3BsYXlOYW1lIj09PXJbNV0/bj0ieyIuY29uY2F0KHJbM10sIi8iKS5jb25jYXQocls1XSwifSIpOnJbM10mJiIiIT09clszXSYmIi8iIT09clszXT9uPSJkaXNwbGF5TmFtZSI9PT1yWzNdPyJ7Ii5jb25jYXQoclsxXSwiLyIpLmNvbmNhdChyWzNdLCJ9Iik6InsiLmNvbmNhdChyWzNdLCJ9Iik6clszXXx8KG49InsiLmNvbmNhdChyWzFdLCJ9IikpLHQ9dC5yZXBsYWNlKHJbMF0sbik7fXI9Zi5fa21sQmFsbG9vblN0eWxlUHJvcGVydHlSeC5leGVjKGUudmFsdWUpO30iIiE9PSh0PXQucmVwbGFjZSgvXCRcWy9nLCJ7IikucmVwbGFjZSgvXF0vZywifSIpKSYmKG8uY29udGVudD10KTt9YnJlYWs7Y2FzZSJ0ZXh0Q29sb3IiOnZhciBhPWYuX3BhcnNlS21sQ29sb3IoZS52YWx1ZSk7YSYmKG8udGV4dENvbG9yPXNvLmNvbG9yVG9SZ2JhKGEpKTticmVhaztjYXNlImJnQ29sb3IiOnZhciBpPWYuX3BhcnNlS21sQ29sb3IoZS52YWx1ZSk7aSYmKG8uZmlsbENvbG9yPXNvLmNvbG9yVG9SZ2JhKGkpKTt9fSkpLG8uY29udGVudCYmKHQucG9wdXBUZW1wbGF0ZT1vKSksWzMsOF07Y2FzZSA2OmNhc2UgNzpyZXR1cm4gWzMsOF07Y2FzZSA4OnJldHVybiBbMl19fSkpfSxpPXRoaXMsZC5sYWJlbD0xO2Nhc2UgMTpkLnRyeXMucHVzaChbMSw2LDcsOF0pLG89cGwoZS5jaGlsZE5vZGVzKSxzPW8ubmV4dCgpLGQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHMuZG9uZT9bMyw1XToobD1zLnZhbHVlLFs1LGEobCldKTtjYXNlIDM6ZC5zZW50KCksZC5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gcz1vLm5leHQoKSxbMywyXTtjYXNlIDU6cmV0dXJuIFszLDhdO2Nhc2UgNjpyZXR1cm4gdT1kLnNlbnQoKSxjPXtlcnJvcjp1fSxbMyw4XTtjYXNlIDc6dHJ5e3MmJiFzLmRvbmUmJihoPW8ucmV0dXJuKSYmaC5jYWxsKG8pO31maW5hbGx5e2lmKGMpdGhyb3cgYy5lcnJvcn1yZXR1cm4gWzddO2Nhc2UgODpyZXR1cm4gbiYmdC5wb2x5U3R5bGUmJnQubGluZVN0eWxlJiZPYmplY3QuYXNzaWduKHQucG9seVN0eWxlLHQubGluZVN0eWxlKSxbMix0XX19KSl9KSl9LHQucHJvdG90eXBlLl9wYXJzZVN0eWxlTWFwPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1lLmF0dHJpYnV0ZXMuaWQ7aWYobil7dmFyIGE9dm9pZCAwO3RyeXtmb3IodmFyIGk9cGwoZS5jaGlsZE5vZGVzKSxvPWkubmV4dCgpOyFvLmRvbmU7bz1pLm5leHQoKSl7dmFyIHM9by52YWx1ZSxsPXNvLnNpbXBsaWZ5WG1sTm9kZShzKTtpZigoYT1sLmtleSkmJiJub3JtYWwiPT09YSl7YT10aGlzLl9nZXRTdHlsZVNjaGVtYU5hbWUobC5zdHlsZVVybCk7YnJlYWt9fX1jYXRjaChlKXt0PXtlcnJvcjplfTt9ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSk7fWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1hJiYodGhpcy5fc3R5bGVNYXBzW25dPWEpO319LHQucHJvdG90eXBlLl9wYXJzZUljb25TdHlsZT1mdW5jdGlvbihlLHQpe3JldHVybiBmbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbixhLGksbyxzLGwsdSxjLGgsZixkLHAseSxtLGcsdixfLGI7cmV0dXJuIGRsKHRoaXMsKGZ1bmN0aW9uKHcpe3N3aXRjaCh3LmxhYmVsKXtjYXNlIDA6aWYoIWUuY2hpbGROb2RlcylyZXR1cm4gWzMsM107cj17fSxuPXZvaWQgMCxhPXZvaWQgMCxpPXZvaWQgMCxvPXZvaWQgMCxzPXZvaWQgMCxsPTEsdT12b2lkIDAsYz12b2lkIDA7dHJ5e2ZvcihoPXBsKGUuY2hpbGROb2RlcyksZj1oLm5leHQoKTshZi5kb25lO2Y9aC5uZXh0KCkpc3dpdGNoKChkPWYudmFsdWUpLnRhZ05hbWUpe2Nhc2UiY29sb3IiOmQudmFsdWUmJih1PXRoaXMuX3BhcnNlS21sQ29sb3IoZC52YWx1ZSkpO2JyZWFrO2Nhc2UiSWNvbiI6KHA9c28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgiaHJlZiIsZCkpJiYobj1wLnZhbHVlLnJlcGxhY2UoLygmYW1wOykvZywiJiIpKTticmVhaztjYXNlImhvdFNwb3QiOmE9cGFyc2VGbG9hdChkLmF0dHJpYnV0ZXMueCksaT1wYXJzZUZsb2F0KGQuYXR0cmlidXRlcy55KSxzby5pc1ZhbGlkTnVtYmVyKGEpJiZzby5pc1ZhbGlkTnVtYmVyKGkpJiYobz1kLmF0dHJpYnV0ZXMueHVuaXRzLHM9ZC5hdHRyaWJ1dGVzLnl1bml0cyk7YnJlYWs7Y2FzZSJoZWFkaW5nIjp5PXBhcnNlRmxvYXQoZC52YWx1ZSksc28uaXNWYWxpZE51bWJlcih5KSYmKHIucm90YXRpb249eSk7YnJlYWs7Y2FzZSJzY2FsZSI6bD1wYXJzZUZsb2F0KGQudmFsdWUpO2JyZWFrO2Nhc2UiY29sb3JNb2RlIjpjPWQudmFsdWU7fX1jYXRjaChlKXtfPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKGI9aC5yZXR1cm4pJiZiLmNhbGwoaCk7fWZpbmFsbHl7aWYoXyl0aHJvdyBfLmVycm9yfX1yZXR1cm4gdSYmdS5sZW5ndGg+PTQmJihyLmNvbG9yPWMmJiJyYW5kb20iPT09Yz9zby5jb2xvclRvUmdiYShbdVswXSxNYXRoLnJvdW5kKHVbMV0qTWF0aC5yYW5kb20oKSksTWF0aC5yb3VuZCh1WzJdKk1hdGgucmFuZG9tKCkpLE1hdGgucm91bmQodVszXSpNYXRoLnJhbmRvbSgpKV0pOnNvLmNvbG9yVG9SZ2JhKHUpKSwoaXNOYU4obCl8fGw8PTApJiYobD0xKSxtPXZvaWQgMCxuP1s0LHRoaXMuX2ltYWdlTWFuYWdlci5hZGRJbWFnZShuLG51bGwsbnVsbCx0aGlzLl9vcHRpb25zLnByb3h5U2VydmljZSldOlszLDJdO2Nhc2UgMToobT13LnNlbnQoKSkmJihtLnVybHx8bS5jb2xvcikmJihtLmlzSWNvbj0hMCxtLnVybD8oci5pbWFnZT1tLmlkLHIuaW1hZ2VVcmw9bS51cmwpOnIuY29sb3J8fChyLmNvbG9yPW0uY29sb3IpKSx3LmxhYmVsPTI7Y2FzZSAyOm0mJm0udXJsJiYoc28uaXNWYWxpZE51bWJlcihtLndpZHRoKXx8KG0ud2lkdGg9MzIpLHNvLmlzVmFsaWROdW1iZXIobS5oZWlnaHQpfHwobS5oZWlnaHQ9MzIpLGw9TWF0aC5yb3VuZCgzMipsL01hdGgubWF4KG0ud2lkdGgsbS5oZWlnaHQpKjEwMCkvMTAwLHNvLmlzVmFsaWROdW1iZXIoYSkmJnNvLmlzVmFsaWROdW1iZXIoaSkmJihnPSEwLHY9ITEsImZyYWN0aW9uIj09PW8mJihhKj1tLndpZHRoKSwiZnJhY3Rpb24iPT09cyYmKGkqPW0uaGVpZ2h0KSwiaW5zZXRQaXhlbHMiPT09byYmKGE9LWEsZz0hMSksImluc2V0UGl4ZWxzIj09PXMmJihpPS1pLHY9ITApLHNvLmlzVmFsaWROdW1iZXIoYSkmJnNvLmlzVmFsaWROdW1iZXIoaSkmJihyLm9mZnNldD1bLWEqbCxpKmxdLHIuYW5jaG9yPWc/dj8idG9wLWxlZnQiOiJib3R0b20tbGVmdCI6dj8idG9wLXJpZ2h0IjoiYm90dG9tLXJpZ2h0IikpLHNvLmlzVmFsaWROdW1iZXIoYSl8fHNvLmlzVmFsaWROdW1iZXIoaSl8fChyLm9mZnNldD1bMCwwXSxyLmFuY2hvcj0iY2VudGVyIikpLDEhPT1sJiYobD1NYXRoLnJvdW5kKDEwMCpsKS8xMDAsci5zaXplPWwpLE9iamVjdC5hc3NpZ24odC5pY29uU3R5bGUsciksdy5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX3BhcnNlTGluZVN0eWxlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihlLmNoaWxkTm9kZXMpe3ZhciBuPXt9O2UuY2hpbGROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtzd2l0Y2goZS50YWdOYW1lKXtjYXNlImNvbG9yIjppZihlLnZhbHVlKXt2YXIgdD1yLl9wYXJzZUttbENvbG9yKGUudmFsdWUpO3QmJihuLnN0cm9rZUNvbG9yPXNvLmNvbG9yVG9IZXgodCksbi5zdHJva2VPcGFjaXR5PXRbM10pO31icmVhaztjYXNlIndpZHRoIjp2YXIgYT1wYXJzZUZsb2F0KGUudmFsdWUpO3NvLmlzVmFsaWROdW1iZXIoYSkmJihuLnN0cm9rZVdpZHRoPWEpO319KSksT2JqZWN0LmFzc2lnbih0LmxpbmVTdHlsZSxuKTt9fSx0LnByb3RvdHlwZS5fcGFyc2VLbWxDb2xvcj1mdW5jdGlvbihlKXtpZihlKXtpZig4PT09ZS5sZW5ndGgpe3ZhciB0PXBhcnNlSW50KGUuc3Vic3RyKDAsMiksMTYpLHI9cGFyc2VJbnQoZS5zdWJzdHIoMiwyKSwxNiksbj1wYXJzZUludChlLnN1YnN0cig0LDIpLDE2KTtyZXR1cm4gW3BhcnNlSW50KGUuc3Vic3RyKDYsMiksMTYpLG4scix0PU1hdGgucm91bmQodC8yNTUqMTAwKS8xMDBdfWlmKDY9PT1lLmxlbmd0aCl7cj1wYXJzZUludChlLnN1YnN0cigwLDIpLDE2KSxuPXBhcnNlSW50KGUuc3Vic3RyKDIsMiksMTYpO3JldHVybiBbcGFyc2VJbnQoZS5zdWJzdHIoMywyKSwxNiksbixyXX19cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9wYXJzZVBsYWNlbWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gZmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbixhLGksbyxzLGwsdSxjLGgsZixkLHAseT10aGlzO3JldHVybiBkbCh0aGlzLChmdW5jdGlvbihtKXtzd2l0Y2gobS5sYWJlbCl7Y2FzZSAwOmlmKCFlLmNoaWxkTm9kZXMpcmV0dXJuIFszLDE1XTt0PXt9LHI9dm9pZCAwLGk9ITAsbS5sYWJlbD0xO2Nhc2UgMTptLnRyeXMucHVzaChbMSwxMiwxMywxNF0pLHM9cGwoZS5jaGlsZE5vZGVzKSxsPXMubmV4dCgpLG0ubGFiZWw9MjtjYXNlIDI6aWYobC5kb25lKXJldHVybiBbMywxMV07c3dpdGNoKHU9bC52YWx1ZSx1LnRhZ05hbWUpe2Nhc2Uic3R5bGVVcmwiOnJldHVybiBbMywzXTtjYXNlIlN0eWxlIjpyZXR1cm4gWzMsNF07Y2FzZSJ2aXNpYmlsaXR5IjpyZXR1cm4gWzMsN107Y2FzZSJQb2ludCI6Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlHZW9tZXRyeSI6Y2FzZSJMaW5lYXJSaW5nIjpyZXR1cm4gWzMsOF19cmV0dXJuIFszLDldO2Nhc2UgMzpyZXR1cm4gKGM9dGhpcy5fZ2V0U3R5bGVCeVVybCh1LnZhbHVlKSk/bj1jOih0LnN0eWxlVXJsPXUudmFsdWUsdGhpcy5faGFzVW5kZWZpbmVkU3R5bGVzPSEwKSxbMywxMF07Y2FzZSA0OnJldHVybiB0aGlzLl9vcHRpb25zLnBhcnNlU3R5bGVzP1s0LHRoaXMuX3BhcnNlU3R5bGUodSldOlszLDZdO2Nhc2UgNTphPW0uc2VudCgpLG0ubGFiZWw9NjtjYXNlIDY6cmV0dXJuIFszLDEwXTtjYXNlIDc6cmV0dXJuIHRoaXMuX29wdGlvbnMuaWdub3JlVmlzaWJpbGl0eXx8KGk9c28ucGFyc2VCb29sZWFuKHUudmFsdWUpLHQudmlzaWJpbGl0eT1pKSxbMywxMF07Y2FzZSA4OnJldHVybiByPXRoaXMuX3BhcnNlR2VvbWV0cnkodSx0KSxbMywxMF07Y2FzZSA5OnJldHVybiB0aGlzLl9wYXJzZUZlYXR1cmVNZXRhZGF0YSh1LHQpLFszLDEwXTtjYXNlIDEwOnJldHVybiBsPXMubmV4dCgpLFszLDJdO2Nhc2UgMTE6cmV0dXJuIFszLDE0XTtjYXNlIDEyOnJldHVybiBoPW0uc2VudCgpLGQ9e2Vycm9yOmh9LFszLDE0XTtjYXNlIDEzOnRyeXtsJiYhbC5kb25lJiYocD1zLnJldHVybikmJnAuY2FsbChzKTt9ZmluYWxseXtpZihkKXRocm93IGQuZXJyb3J9cmV0dXJuIFs3XTtjYXNlIDE0OmlmKHIpcmV0dXJuIGk9aXx8dGhpcy5fb3B0aW9ucy5pZ25vcmVWaXNpYmlsaXR5LGUuYXR0cmlidXRlcyYmKG89ZS5hdHRyaWJ1dGVzLmlkKSxBcnJheS5pc0FycmF5KHIpPyhmPVtdLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zi5wdXNoKHkuX2NyZWF0ZUZlYXR1cmUoZSxSYSh0KSxvLG4sYSxpKSk7fSkpLFsyLGZdKTpbMixbdGhpcy5fY3JlYXRlRmVhdHVyZShyLHQsbyxuLGEsaSldXTttLmxhYmVsPTE1O2Nhc2UgMTU6cmV0dXJuIFsyLG51bGxdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2NyZWF0ZUZlYXR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhLGkpe2lmKCJQb2x5Z29uIj09PWUudHlwZXx8Ik11bHRpUG9seWdvbiI9PT1lLnR5cGUpe3ZhciBvPWUuaGVpZ2h0O3RoaXMuX29wdGlvbnMuZXh0cnVkZVBvbHlnb25zJiZvJiYodC5oZWlnaHQ9byksZGVsZXRlIGUuaGVpZ2h0O312YXIgcz17Z2VvbWV0cnk6ZSxwcm9wZXJ0aWVzOnQsdHlwZToiRmVhdHVyZSJ9O3JldHVybiBzLmlkPXJ8fENpKCksdGhpcy5fYXBwbHlTdHlsZShzLG4saSksdGhpcy5fYXBwbHlTdHlsZShzLGEsaSksc30sdC5wcm90b3R5cGUuX3BhcnNlR2VvbWV0cnk9ZnVuY3Rpb24oZSx0KXt2YXIgcixuO3N3aXRjaChlLnRhZ05hbWUpe2Nhc2UiUG9pbnQiOnJldHVybiB0aGlzLl9wYXJzZVBvaW50KGUpO2Nhc2UiTGluZVN0cmluZyI6Y2FzZSJMaW5lYXJSaW5nIjpyZXR1cm4gdGhpcy5fcGFyc2VMaW5lU3RyaW5nKGUpO2Nhc2UiUG9seWdvbiI6cmV0dXJuIHRoaXMuX3BhcnNlUG9seWdvbihlKTtjYXNlIk11bHRpR2VvbWV0cnkiOnZhciBhPXZvaWQgMCxpPVtdLG89dm9pZCAwLHM9ITEsbD12b2lkIDAsdT0hMTt0cnl7Zm9yKHZhciBjPXBsKGUuY2hpbGROb2RlcyksaD1jLm5leHQoKTshaC5kb25lO2g9Yy5uZXh0KCkpe3ZhciBmPWgudmFsdWU7aWYoYT10aGlzLl9wYXJzZUdlb21ldHJ5KGYsdCkpe2lmKG98fChvPWEudHlwZSksYS50eXBlPT09b3x8c3x8KHM9ITApLCJQb2x5Z29uIj09PWEudHlwZSYmIXUpe3ZhciBkPWEuaGVpZ2h0O3ZvaWQgMD09PWw/bD1kOmwhPT1kJiYodT0hMSk7fWkucHVzaChhKTt9fX1jYXRjaChlKXtyPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7aCYmIWguZG9uZSYmKG49Yy5yZXR1cm4pJiZuLmNhbGwoYyk7fWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1pZihpLmxlbmd0aD4wKXtpZihzfHx1KXJldHVybiBpO3N3aXRjaChvKXtjYXNlIlBvaW50IjpyZXR1cm4ge2Nvb3JkaW5hdGVzOmkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb29yZGluYXRlc30pKSx0eXBlOiJNdWx0aVBvaW50In07Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4ge2Nvb3JkaW5hdGVzOmkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb29yZGluYXRlc30pKSx0eXBlOiJNdWx0aUxpbmVTdHJpbmcifTtjYXNlIlBvbHlnb24iOnJldHVybiB7Y29vcmRpbmF0ZXM6aS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvb3JkaW5hdGVzfSkpLGhlaWdodDpsLHR5cGU6Ik11bHRpUG9seWdvbiJ9fX19cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9wYXJzZVBvaW50PWZ1bmN0aW9uKGUpe3ZhciB0PXNvLmdldEVsZW1lbnRCeVRhZ05hbWUoImNvb3JkaW5hdGVzIixlKTtpZih0KXt2YXIgcj10aGlzLl9wYXJzZUNvb3JkaW5hdGVzKHQpO2lmKHImJnIubGVuZ3RoPj0xKXJldHVybiB7Y29vcmRpbmF0ZXM6clswXSx0eXBlOiJQb2ludCJ9fXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fcGFyc2VMaW5lU3RyaW5nPWZ1bmN0aW9uKGUpe2lmKGUuY2hpbGROb2Rlcyl7dmFyIHQ9c28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgiY29vcmRpbmF0ZXMiLGUpO2lmKHQpe3ZhciByPXRoaXMuX3BhcnNlQ29vcmRpbmF0ZXModCk7aWYociYmci5sZW5ndGg+PTIpcmV0dXJuICJMaW5lYXJSaW5nIj09PWUudGFnTmFtZSYmc28uY2xvc2VSaW5nKHIpLHtjb29yZGluYXRlczpyLHR5cGU6IkxpbmVTdHJpbmcifX19cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9wYXJzZVBvbHlnb249ZnVuY3Rpb24oZSl7dmFyIHQscixuPVtdLGE9W10saT1bXSxvPSExLHM9MDt0cnl7Zm9yKHZhciBsPXBsKGUuY2hpbGROb2RlcyksdT1sLm5leHQoKTshdS5kb25lO3U9bC5uZXh0KCkpe3ZhciBjPXUudmFsdWU7c3dpdGNoKGMudGFnTmFtZSl7Y2FzZSJvdXRlckJvdW5kYXJ5SXMiOihuPXRoaXMuX3BhcnNlTGluZWFyUmluZyhjLCEwKSkmJm4ubGVuZ3RoPjAmJm5bMF0ubGVuZ3RoPjImJihzPW5bMF1bMl0pO2JyZWFrO2Nhc2UiaW5uZXJCb3VuZGFyeUlzIjooYT10aGlzLl9wYXJzZUxpbmVhclJpbmcoYywhMCkpJiZpLnB1c2goYSk7YnJlYWs7Y2FzZSJleHRydWRlIjpvPXNvLnBhcnNlQm9vbGVhbihjLnZhbHVlKTt9fX1jYXRjaChlKXt0PXtlcnJvcjplfTt9ZmluYWxseXt0cnl7dSYmIXUuZG9uZSYmKHI9bC5yZXR1cm4pJiZyLmNhbGwobCk7fWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4gbj8oaS5zcGxpY2UoMCwwLG4pLHtjb29yZGluYXRlczppLGhlaWdodDpvP3M6MCx0eXBlOiJQb2x5Z29uIn0pOm51bGx9LHQucHJvdG90eXBlLl9wYXJzZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUpe2lmKGUmJmUudmFsdWUpe2Zvcih2YXIgdD1bXSxyPXRoaXMuX2Nvb3JkaW5hdGVSeC5leGVjKGUudmFsdWUpO3I7KXIubGVuZ3RoPj01P3QucHVzaChzby5jcmVhdGVQb3NpdGlvbihwYXJzZUZsb2F0KHJbMV0pLHBhcnNlRmxvYXQoclsyXSkscGFyc2VGbG9hdChyWzRdKSwhMCkpOnQucHVzaChzby5jcmVhdGVQb3NpdGlvbihwYXJzZUZsb2F0KHJbMV0pLHBhcnNlRmxvYXQoclsyXSksbnVsbCwhMCkpLHI9dGhpcy5fY29vcmRpbmF0ZVJ4LmV4ZWMoZS52YWx1ZSk7cmV0dXJuIHR9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9wYXJzZUxpbmVhclJpbmc9ZnVuY3Rpb24oZSx0KXtpZihlLmNoaWxkTm9kZXMmJjE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgcj1lLmNoaWxkTm9kZXNbMF07aWYocil7dmFyIG49dGhpcy5fcGFyc2VDb29yZGluYXRlcyhzby5nZXRFbGVtZW50QnlUYWdOYW1lKCJjb29yZGluYXRlcyIscikpO3JldHVybiB0JiZuJiZuLmxlbmd0aD49MiYmc28uY2xvc2VSaW5nKG4pLG59fXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fcGFyc2VHcm91bmRPdmVybGF5PWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZS5jaGlsZE5vZGVzKXt2YXIgbj17cHJvcGVydGllczp7fX0sYT12b2lkIDA7dHJ5e2Zvcih2YXIgaT1wbChlLmNoaWxkTm9kZXMpLG89aS5uZXh0KCk7IW8uZG9uZTtvPWkubmV4dCgpKXt2YXIgcz1vLnZhbHVlO3N3aXRjaChzLnRhZ05hbWUpe2Nhc2UiSWNvbiI6dmFyIGw9c28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgiaHJlZiIscyk7aWYobCYmbC52YWx1ZSl7dmFyIHU9bC52YWx1ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJyZXF1ZXN0PWdldG1hcCIpLGM9c28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgidmlld1JlZnJlc2hNb2RlIixzKTtpZihuLmlzV01TPWMmJiJvblN0b3AiPT09Yy52YWx1ZXx8dSxuLmlzV01TKW4udXJsPWwudmFsdWUucmVwbGFjZSgvKCZhbXA7KS9nLCImIik7ZWxzZSB7bi51cmw9dGhpcy5fZ2V0R3JvdW5kT3ZlcmxheVVybChsLnZhbHVlKTt2YXIgaD1uLnVybC50b0xvd2VyQ2FzZSgpO2lmKGguZW5kc1dpdGgoIi50aWYiKXx8aC5lbmRzV2l0aCgiLnRpZmYiKXx8aC5lbmRzV2l0aCgiLnN2ZyIpKXJldHVybiBudWxsfX1icmVhaztjYXNlIkxhdExvbkJveCI6aWYoKGE9dGhpcy5fcGFyc2VMYXRMb25Cb3gocykpJiZhLmxlbmd0aD49MCl7dmFyIGY9c28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgicm90YXRpb24iLHMpO2lmKGYpe3ZhciBkPXBhcnNlRmxvYXQoZi52YWx1ZSk7aWYoc28uaXNWYWxpZE51bWJlcihkKSYmMCE9PWQpe2Q9MzYwLWQ7dmFyIHA9TGkuZ2V0Q2VudGVyKGEpLHk9TGkuZ2V0Tm9ydGhXZXN0KGEpLG09TGkuZ2V0Tm9ydGhFYXN0KGEpLGc9TGkuZ2V0U291dGhFYXN0KGEpLHY9TGkuZ2V0U291dGhXZXN0KGEpO24uY29vcmRpbmF0ZXM9UWkoW3ksbSxnLHZdLHAsZCk7fX1uLmNvb3JkaW5hdGVzfHwobi5ib3VuZHM9YSk7fWJyZWFrO2Nhc2UiTGF0TG9uUXVhZCI6KGI9dGhpcy5fcGFyc2VMYXRMb25RdWFkKHMpKSYmYi5sZW5ndGg+PTQmJihuLmNvb3JkaW5hdGVzPWIucmV2ZXJzZSgpKTticmVhaztjYXNlImRyYXdPcmRlciI6cy52YWx1ZSYmIiIhPT1zLnZhbHVlJiYobi5wcm9wZXJ0aWVzLl9kcmF3b3JkZXI9cGFyc2VJbnQocy52YWx1ZSksdGhpcy5faGFzRHJhd09yZGVyPSEwKTticmVhaztjYXNlImNvbG9yIjp2YXIgXz10aGlzLl9wYXJzZUttbENvbG9yKHMudmFsdWUpO18mJihuLm9wYWNpdHk9X1szXSk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9wYXJzZUZlYXR1cmVNZXRhZGF0YShzLG4ucHJvcGVydGllcyk7fX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19aWYodGhpcy5fb3B0aW9ucy5pZ25vcmVWaXNpYmlsaXR5fHwiYm9vbGVhbiIhPXR5cGVvZiBuLnByb3BlcnRpZXMudmlzaWJpbGl5fHwobi52aXNpYmxlPW4ucHJvcGVydGllcy52aXNpYmlsaXR5KSxuLmlzV01TfHxuLmNvb3JkaW5hdGVzfHwoYS5sZW5ndGg+PTY/bi5jb29yZGluYXRlcz1bW2FbMF0sYVs0XV0sW2FbM10sYVs0XV0sW2FbM10sYVsxXV0sW2FbMF0sYVsxXV1dOm4uY29vcmRpbmF0ZXM9W1thWzBdLGFbM11dLFthWzJdLGFbM11dLFthWzJdLGFbMV1dLFthWzBdLGFbMV1dXSksbi5pc1dNUyYmIW4uYm91bmRzKXt2YXIgYj1uLmNvb3JkaW5hdGVzO24uYm91bmRzPVtNYXRoLm1pbihiWzBdWzBdLGJbMl1bMF0pLE1hdGgubWluKGJbMF1bMV0sYlsyXVsxXSksTWF0aC5tYXgoYlswXVswXSxiWzJdWzBdKSxNYXRoLm1heChiWzBdWzFdLGJbMl1bMV0pXTt9aWYoKG4uY29vcmRpbmF0ZXN8fG4uYm91bmRzKSYmbi51cmwpcmV0dXJuIG59cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9wYXJzZVJlZ2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGFyc2VMYXRMb25Cb3goc28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgiTGF0TG9uQm94IixlKSl9LHQucHJvdG90eXBlLl9wYXJzZUxhdExvbkJveD1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD1zby5zaW1wbGlmeVhtbE5vZGUoZSkscj1wYXJzZUZsb2F0KHQubm9ydGgpLG49cGFyc2VGbG9hdCh0LnNvdXRoKSxhPXBhcnNlRmxvYXQodC5lYXN0KSxpPXBhcnNlRmxvYXQodC53ZXN0KTtpZihzby5pc1ZhbGlkTnVtYmVyKHIpJiZzby5pc1ZhbGlkTnVtYmVyKG4pJiZzby5pc1ZhbGlkTnVtYmVyKGEpJiZzby5pc1ZhbGlkTnVtYmVyKGkpKXJldHVybiBbaSwkaShuKSxhLCRpKHIpXX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX3BhcnNlTGF0TG9uUXVhZD1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD1zby5nZXRFbGVtZW50QnlUYWdOYW1lKCJjb29yZGluYXRlcyIsZSk7aWYodClyZXR1cm4gdGhpcy5fcGFyc2VDb29yZGluYXRlcyh0KX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX3BhcnNlTmV0d29ya0xpbms9ZnVuY3Rpb24oZSl7cmV0dXJuIGZsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixuLGEsaSxvLHMsbCx1LGMsaCxmLGQscCx5O3JldHVybiBkbCh0aGlzLChmdW5jdGlvbihtKXtzd2l0Y2gobS5sYWJlbCl7Y2FzZSAwOnI9ITA7dHJ5e2ZvcihhPXBsKGUuY2hpbGROb2RlcyksaT1hLm5leHQoKTshaS5kb25lO2k9YS5uZXh0KCkpc3dpdGNoKChvPWkudmFsdWUpLnRhZ05hbWUpe2Nhc2UidmlzaWJpbGl0eSI6cj1zby5wYXJzZUJvb2xlYW4oby52YWx1ZSk7YnJlYWs7Y2FzZSJMaW5rIjpjYXNlIlVybCI6KHM9c28uZ2V0RWxlbWVudEJ5VGFnTmFtZSgiaHJlZiIsbykpJiYobj1zLnZhbHVlKTt9fWNhdGNoKGUpe3A9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYoeT1hLnJldHVybikmJnkuY2FsbChhKTt9ZmluYWxseXtpZihwKXRocm93IHAuZXJyb3J9fXJldHVybiAocnx8dGhpcy5fb3B0aW9ucy5pZ25vcmVWaXNpYmlsaXR5KSYmbj8obD12b2lkIDAsdT1SYSh0aGlzLl9vcHRpb25zKSx0aGlzLl9vcHRpb25zLm1heEZlYXR1cmVzIT09MS8wJiYodS5tYXhGZWF0dXJlcz10aGlzLl9vcHRpb25zLm1heEZlYXR1cmVzLXRoaXMuX3BhcnNlZERhdGEuZmVhdHVyZXMubGVuZ3RoKSx0aGlzLl9wYXJlbnRLbXomJihjPXRoaXMuX3BhcmVudEttei5maWxlc1tuXSk/WzQsYy5hc3luYygidGV4dCIpXTpbMywzXSk6WzMsOF07Y2FzZSAxOnJldHVybiBoPW0uc2VudCgpLGw9bmV3IHQodSx0aGlzLl9iYXNlVXJsLHRoaXMuX2N1cnJlbnROZXR3b3JrTGlua0RlcHRoLCEwKSxbNCx0aGlzLl9wcm9jZXNzTmV0d29ya0xpbmsobCxoKV07Y2FzZSAyOnJldHVybiBtLnNlbnQoKSxbMl07Y2FzZSAzOmlmKHRoaXMuX2N1cnJlbnROZXR3b3JrTGlua0RlcHRoPnRoaXMuX29wdGlvbnMubWF4TmV0d29ya0xpbmtEZXB0aHx8dGhpcy5fbmV0d29ya0xpbmtzTG9hZGVkPnRoaXMuX29wdGlvbnMubWF4TmV0d29ya0xpbmtzKXJldHVybiBbMl07dGhpcy5fbmV0d29ya0xpbmtzTG9hZGVkKyssdGhpcy5fbnVtTmV0d29ya0xpbmtzKyssZj1zby5wYXJzZVVSTChuLHRoaXMuX2Jhc2VVcmwpLG0ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIG0udHJ5cy5wdXNoKFs0LDcsLDhdKSxbNCxzby5hamF4R2V0QXN5bmMoZix0aGlzLl9vcHRpb25zLnByb3h5U2VydmljZSxudWxsLCEwLCJLTUwiKV07Y2FzZSA1OnJldHVybiBkPW0uc2VudCgpLGw9bmV3IHQodSxmLHRoaXMuX2N1cnJlbnROZXR3b3JrTGlua0RlcHRoKzEsITApLFs0LHRoaXMuX3Byb2Nlc3NOZXR3b3JrTGluayhsLGQpXTtjYXNlIDY6cmV0dXJuIG0uc2VudCgpLHRoaXMuX2N1cnJlbnROZXR3b3JrTGlua0RlcHRoLS0sWzMsOF07Y2FzZSA3OnJldHVybiBtLnNlbnQoKSxbMyw4XTtjYXNlIDg6cmV0dXJuIFsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9wcm9jZXNzTmV0d29ya0xpbms9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLG47cmV0dXJuIGRsKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9bNCxlLnJlYWRLbXpBc3luYyh0KV06WzMsMl07Y2FzZSAxOnJldHVybiByPWEuc2VudCgpLFszLDRdO2Nhc2UgMjpyZXR1cm4gWzQsZS5yZWFkKHQpXTtjYXNlIDM6cj1hLnNlbnQoKSxhLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBlLl9oYXNEcmF3T3JkZXImJih0aGlzLl9oYXNEcmF3T3JkZXI9ZS5faGFzRHJhd09yZGVyKSxyLmZlYXR1cmVzJiZ0aGlzLl9wYXJzZWREYXRhLmZlYXR1cmVzLmxlbmd0aCtyLmZlYXR1cmVzLmxlbmd0aD49dGhpcy5fb3B0aW9ucy5tYXhGZWF0dXJlcyYmKG49dGhpcy5fb3B0aW9ucy5tYXhGZWF0dXJlcy10aGlzLl9wYXJzZWREYXRhLmZlYXR1cmVzLmxlbmd0aCxyLmZlYXR1cmVzPXIuZmVhdHVyZXMuc3BsaWNlKDAsbikpLHVvLm1lcmdlKHRoaXMuX3BhcnNlZERhdGEsciksdGhpcy5fbnVtTmV0d29ya0xpbmtzKz1yLnN0YXRzLm51bU5ldHdvcmtMaW5rcyx0aGlzLl9udW1DaGFyYWN0ZXJzKz1yLnN0YXRzLm51bUNoYXJhY3RlcnMsWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldEdyb3VuZE92ZXJsYXlVcmw9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcGFyZW50S216JiYoIXNvLnByb3RvY29sUngudGVzdChlKXx8ZS5zdGFydHNXaXRoKCJyb290Oi8vIikpKXt2YXIgdD1lLnJlcGxhY2UoInJvb3Q6Ly8iLCIiKSxyPXRoaXMuX2ltYWdlTWFuYWdlci5nZXRJbWFnZSh0KTtpZihyKXJldHVybiByLnVybH12YXIgbj1zby5wYXJzZVVSTChlLHRoaXMuX2Jhc2VVcmwpLmFic29sdXRlUGF0aDtyZXR1cm4gdGhpcy5faW1hZ2VNYW5hZ2VyLmlzQ29yc0VuYWJsZWREb21haW4obik/bjp0aGlzLl9vcHRpb25zLnByb3h5U2VydmljZT90aGlzLl9vcHRpb25zLnByb3h5U2VydmljZStuOm51bGx9LHQucHJvdG90eXBlLl9yZXBsYWNlRW1iZWRkZWRJbWFnZVVybHM9ZnVuY3Rpb24oZSl7dmFyIHQscjtpZihlKXt2YXIgbj10aGlzLl9pbWFnZU1hbmFnZXIuZ2V0QWxsSW1hZ2VzKCk7aWYobi5sZW5ndGg+MCl0cnl7Zm9yKHZhciBhPXBsKG4pLGk9YS5uZXh0KCk7IWkuZG9uZTtpPWEubmV4dCgpKXt2YXIgbz1pLnZhbHVlO2UuaW5jbHVkZXMoby5pZCkmJihlPWUuc3BsaXQoby5pZCkuam9pbihvLnVybCkpO319Y2F0Y2goZSl7dD17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPWEucmV0dXJuKSYmci5jYWxsKGEpO31maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19fXJldHVybiBlfSx0LnByb3RvdHlwZS5fcHJlbG9hZEVtYmVkZGVkSW1hZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGZsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG4sYTtyZXR1cm4gZGwodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDppZighdGhpcy5fcGFyZW50S216fHwhdGhpcy5fc3VwcG9ydEltYWdlRXh0LnRlc3QoZSkpcmV0dXJuIFszLDVdO2lmKHQ9dGhpcy5fcGFyZW50S216LmZpbGVzW2VdLHI9dm9pZCAwLG49dm9pZCAwLChhPXQubmFtZS50b0xvd2VyQ2FzZSgpKS5lbmRzV2l0aCgiLnBuZyIpP3I9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiOmEuZW5kc1dpdGgoIi5qcGciKXx8YS5lbmRzV2l0aCgiLmpwZWciKT9yPSJkYXRhOmltYWdlL2pwZztiYXNlNjQsIjphLmVuZHNXaXRoKCIudGlmIil8fGEuZW5kc1dpdGgoIi50aWYiKT9yPSJkYXRhOmltYWdlL3RpZmY7YmFzZTY0LCI6YS5lbmRzV2l0aCgiLmdpZiIpP3I9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCwiOmEuZW5kc1dpdGgoIi5ibXAiKSYmKHI9ImRhdGE6aW1hZ2UvYm1wO2Jhc2U2NCwiKSwhcilyZXR1cm4gWzMsNV07aS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gaS50cnlzLnB1c2goWzEsNCwsNV0pLG4/WzMsM106WzQsdC5hc3luYygiYmFzZTY0IildO2Nhc2UgMjpuPWkuc2VudCgpLGkubGFiZWw9MztjYXNlIDM6cmV0dXJuIHRoaXMuX2ltYWdlTWFuYWdlci5hZGRJbWFnZShyK24sZSxudWxsLHRoaXMuX29wdGlvbnMucHJveHlTZXJ2aWNlKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIGkuc2VudCgpLFszLDVdO2Nhc2UgNTpyZXR1cm4gWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2FwcGx5U3R5bGU9ZnVuY3Rpb24oZSx0LHIpe2lmKGUucHJvcGVydGllc3x8KGUucHJvcGVydGllcz17fSksdGhpcy5fb3B0aW9ucy5wYXJzZVN0eWxlcyYmdCl7c3dpdGNoKGUuZ2VvbWV0cnkudHlwZSl7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjplLnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbihlLnByb3BlcnRpZXN8fHt9LHQuaWNvblN0eWxlKTticmVhaztjYXNlIkxpbmVTdHJpbmciOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjplLnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbihlLnByb3BlcnRpZXN8fHt9LHQubGluZVN0eWxlKTticmVhaztjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2x5Z29uIjplLnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbihlLnByb3BlcnRpZXN8fHt9LHQucG9seVN0eWxlKTt9dC5wb3B1cFRlbXBsYXRlJiYoZS5wcm9wZXJ0aWVzLnBvcHVwVGVtcGxhdGU9dC5wb3B1cFRlbXBsYXRlKSxyfHwoZS5wcm9wZXJ0aWVzLnZpc2libGU9ITEpO319LHQucHJvdG90eXBlLl9vdmVybGF5RHJhd09yZGVyU29ydGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIChlLnByb3BlcnRpZXMuX2RyYXdvcmRlcj9lLnByb3BlcnRpZXMuX2RyYXdvcmRlcjowKS0odC5wcm9wZXJ0aWVzLl9kcmF3b3JkZXI/dC5wcm9wZXJ0aWVzLl9kcmF3b3JkZXI6MCl9LHR9KEdvKSxtbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe2lmKHRoaXMuRU9TPSExLHRoaXMuRU9MPSExLHRoaXMuX3Bvc2l0aW9uPTAsdGhpcy5fbGVuZ3RoPTAsZSl7aWYodGhpcy5fZGVsaW1pdGVkRGF0YT1lLHRoaXMuX2xlbmd0aD1lLmxlbmd0aCx0aGlzLl9kZWxpbWl0ZXI9dHx8IiwiLCJcXHQiPT09dGhpcy5fZGVsaW1pdGVyKXRoaXMuX2RlbGltaXRlcj0iXHQiO2Vsc2UgaWYoImF1dG8iPT09dGhpcy5fZGVsaW1pdGVyKXt2YXIgbj10aGlzLl9kZWxpbWl0ZWREYXRhLm1hdGNoKC8sL2dpKS5sZW5ndGgsYT10aGlzLl9kZWxpbWl0ZWREYXRhLm1hdGNoKC98L2dpKS5sZW5ndGgsaT10aGlzLl9kZWxpbWl0ZWREYXRhLm1hdGNoKC9cdC9naSkubGVuZ3RoO3RoaXMuX2RlbGltaXRlcj1pPmEmJmk+bj8iXHQiOmE+bj8ifCI6IiwiO310aGlzLl90ZXh0UXVhbGlmaWVyPXJ8fCciJzt9fXJldHVybiBlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5nZXROZXh0Um93KCk7bnVsbCE9dCYmdC5sZW5ndGg+MDspZS5wdXNoKHQpLHQ9dGhpcy5nZXROZXh0Um93KCk7cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldE5leHRSb3c9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLl9nZXROZXh0Q2VsbCgpO251bGwhPXQ7KWUucHVzaCh0KSx0PXRoaXMuX2dldE5leHRDZWxsKCk7cmV0dXJuIGV9LGUucHJvdG90eXBlLl9nZXROZXh0Q2VsbD1mdW5jdGlvbigpe2lmKHRoaXMuRU9MfHx0aGlzLkVPUylyZXR1cm4gdGhpcy5FT0w9ITEsdGhpcy5FT1M9ITEsbnVsbDtmb3IodmFyIGU9ITEsdD0hMCxyPSExLG49IiI7Oyl7dmFyIGE9dGhpcy5fZ2V0Q2hhcighMCk7aWYodGhpcy5FT1MpcmV0dXJuIG4ubGVuZ3RoPjA/bjpudWxsO2lmKChyfHwhZSkmJmE9PT10aGlzLl9kZWxpbWl0ZXIpcmV0dXJuIG47aWYoKHR8fHJ8fCFlKSYmKCJcbiI9PT1hfHwiXHIiPT09YSkpcmV0dXJuIHRoaXMuRU9MPSEwLCJcciI9PT1hJiYiXG4iPT09dGhpcy5fZ2V0Q2hhcighMSkmJihhPXRoaXMuX2dldENoYXIoITApKSxuO3QmJiIgIj09PWF8fCh0JiZhPT09dGhpcy5fdGV4dFF1YWxpZmllcj8oZT0hMCx0PSExKTp0Pyh0PSExLG4rPWEpOmE9PT10aGlzLl90ZXh0UXVhbGlmaWVyJiZlP3RoaXMuX2dldENoYXIoITEpPT09dGhpcy5fdGV4dFF1YWxpZmllcj9uKz10aGlzLl9nZXRDaGFyKCEwKTpyPSEwOm4rPWEpO319LGUucHJvdG90eXBlLl9nZXRDaGFyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wb3NpdGlvbj09PXRoaXMuX2xlbmd0aD8odGhpcy5FT1M9ITAsIlwwIik6KHRoaXMuX3Bvc2l0aW9uPj10aGlzLl9sZW5ndGgmJih0aGlzLl9wb3NpdGlvbj0wKSxlP3RoaXMuX2RlbGltaXRlZERhdGFbdGhpcy5fcG9zaXRpb24rK106dGhpcy5fZGVsaW1pdGVkRGF0YVt0aGlzLl9wb3NpdGlvbl0pfSxlfSgpLGdsPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0sbj0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybiB7bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZuPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtuKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0PyJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiI6IlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKX0sdmw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5fZGVsaW1pdGVyPSIsIix0aGlzLl9kZWxpbWl0ZXI9ZXx8IiwiLHRoaXMuX3RleHRRdWFsaWZpZXI9dHx8JyInLHRoaXMuX3dyaXRlcj1bXTt9cmV0dXJuIGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGVyPVtdLHRoaXMuX251bUNvbHM9bnVsbDt9LGUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZSYmZS5sZW5ndGg+MCYmZVswXS5sZW5ndGg+MCl7dGhpcy5fbnVtQ29sc3x8KHRoaXMuX251bUNvbHM9ZVswXS5sZW5ndGgpO3RyeXtmb3IodmFyIG49Z2woZSksYT1uLm5leHQoKTshYS5kb25lO2E9bi5uZXh0KCkpe3ZhciBpPWEudmFsdWU7dGhpcy5fd3JpdGVSb3coaSk7fX1jYXRjaChlKXt0PXtlcnJvcjplfTt9ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKHI9bi5yZXR1cm4pJiZyLmNhbGwobik7fWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX19fSxlLnByb3RvdHlwZS53cml0ZVJvdz1mdW5jdGlvbihlKXtlJiZlLmxlbmd0aD4wJiYodGhpcy5fbnVtQ29sc3x8KHRoaXMuX251bUNvbHM9ZS5sZW5ndGgpLHRoaXMuX3dyaXRlUm93KGUpKTt9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRlci5qb2luKCJcbiIpfSxlLnByb3RvdHlwZS5fd3JpdGVSb3c9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9TWF0aC5taW4oZS5sZW5ndGgsdGhpcy5fbnVtQ29scyksbj0wO248cjtuKyspdC5wdXNoKHRoaXMuX2dldFN0cmluZ1ZhbHVlKGVbbl0pKTt2YXIgYT1lLmxlbmd0aC1yO2lmKGE+MClmb3IodmFyIGk9MDtpPGE7aSsrKXQucHVzaChudWxsKTt0aGlzLl93cml0ZXIucHVzaCh0LmpvaW4odGhpcy5fZGVsaW1pdGVyKSk7fSxlLnByb3RvdHlwZS5fZ2V0U3RyaW5nVmFsdWU9ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBlJiZ2b2lkIDAhPT1lLnZhbHVlJiZudWxsIT09ZS52YWx1ZSYmKGU9ZS52YWx1ZSksZSBpbnN0YW5jZW9mIERhdGUpZT1lLnRvSVNPU3RyaW5nKCk7ZWxzZSBpZigiYm9vbGVhbiI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGUpcmV0dXJuIGUudG9TdHJpbmcoKTtyZXR1cm4gc28uaXNWYWxpZFN0cmluZyhlKT9lLmluY2x1ZGVzKHRoaXMuX2RlbGltaXRlcik/KGUuaW5jbHVkZXModGhpcy5fdGV4dFF1YWxpZmllcikmJihlPWUucmVwbGFjZSh0aGlzLl90ZXh0UXVhbGlmaWVyLCJcXCIrdGhpcy5fdGV4dFF1YWxpZmllcikpLCIiLmNvbmNhdCh0aGlzLl90ZXh0UXVhbGlmaWVyKS5jb25jYXQoZSkuY29uY2F0KHRoaXMuX3RleHRRdWFsaWZpZXIpKTplOm51bGx9LGV9KCksX2w9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxibD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucmVhZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGFyc2VHZW9tZXRyeShlKX0sZS53cml0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49Njtzby5pc1ZhbGlkTnVtYmVyKHQpJiZuPj0wJiYobj1NYXRoLm1pbihNYXRoLnJvdW5kKG4pLDEyKSkscj1yfHwhMTt2YXIgYT1bXTtyZXR1cm4gdGhpcy5fd3JpdGUoYSxlLE1hdGgucG93KDEwLG4pLHIpLGEubGVuZ3RoPjA/YS5qb2luKCIiKTpudWxsfSxlLl9wYXJzZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLGk9ZS5yZXBsYWNlKC8oXlxzfFxzKyQpL2csIiIpLnNwbGl0KC8sXHMqLyksbz1bXTt0cnl7Zm9yKHZhciBzPV9sKGkpLGw9cy5uZXh0KCk7IWwuZG9uZTtsPXMubmV4dCgpKXt2YXIgdT1sLnZhbHVlO251bGwhPShhPXRoaXMuX3BhcnNlQ29vcmRpbmF0ZSh1LHQpKSYmby5wdXNoKGEpO319Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e2wmJiFsLmRvbmUmJihuPXMucmV0dXJuKSYmbi5jYWxsKHMpO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19cmV0dXJuIG99LGUuX3BhcnNlQ29vcmRpbmF0ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUudHJpbSgpLnNwbGl0KC9ccysvKTtpZihyLmxlbmd0aD4xKXt2YXIgbj1bcGFyc2VGbG9hdChyWzBdKSxwYXJzZUZsb2F0KHJbMV0pXTtyZXR1cm4gdCYmKHIubGVuZ3RoPj0zP24ucHVzaChwYXJzZUZsb2F0KHJbMl0pKTpuLnB1c2goMCkpLG59cmV0dXJuIG51bGx9LGUuX3BhcnNlR2VvbWV0cnk9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSl7aWYoKGU9ZS50b0xvd2VyQ2FzZSgpKS5pbmNsdWRlcygiZW1wdHkiKSlyZXR1cm4gbnVsbDt2YXIgcj1lLnN1YnN0cmluZygwLGUuaW5kZXhPZigiKCIsMCkpO3N3aXRjaChyPXIucmVwbGFjZSgvXHMqL2csIiIpKXtjYXNlInBvaW50Ijp0PXRoaXMuX3BhcnNlUG9pbnQoZSwhMSk7YnJlYWs7Y2FzZSJwb2ludHoiOmNhc2UicG9pbnR6bSI6dD10aGlzLl9wYXJzZVBvaW50KGUsITApO2JyZWFrO2Nhc2UibGluZXN0cmluZyI6dD10aGlzLl9wYXJzZUxpbmVzdHJpbmcoZSwhMSk7YnJlYWs7Y2FzZSJsaW5lc3RyaW5neiI6Y2FzZSJsaW5lc3RyaW5nem0iOnQ9dGhpcy5fcGFyc2VMaW5lc3RyaW5nKGUsITApO2JyZWFrO2Nhc2UicG9seWdvbiI6dD10aGlzLl9wYXJzZVBvbHlnb24oZSwhMSk7YnJlYWs7Y2FzZSJwb2x5Z29ueiI6Y2FzZSJwb2x5Z29uem0iOnQ9dGhpcy5fcGFyc2VQb2x5Z29uKGUsITApO2JyZWFrO2Nhc2UibXVsdGlwb2ludCI6dD10aGlzLl9wYXJzZU11bHRpUG9pbnQoZSwhMSk7YnJlYWs7Y2FzZSJtdWx0aXBvaW50eiI6Y2FzZSJtdWx0aXBvaW50em0iOnQ9dGhpcy5fcGFyc2VNdWx0aVBvaW50KGUsITApO2JyZWFrO2Nhc2UibXVsdGlsaW5lc3RyaW5nIjp0PXRoaXMuX3BhcnNlTXVsdGlMaW5lc3RyaW5nKGUsITEpO2JyZWFrO2Nhc2UibXVsdGlsaW5lc3RyaW5nIjpjYXNlIm11bHRpbGluZXN0cmluZ3oiOmNhc2UibXVsdGlsaW5lc3RyaW5nem0iOnQ9dGhpcy5fcGFyc2VNdWx0aUxpbmVzdHJpbmcoZSwhMCk7YnJlYWs7Y2FzZSJtdWx0aXBvbHlnb24iOnQ9dGhpcy5fcGFyc2VNdWx0aVBvbHlnb24oZSwhMSk7YnJlYWs7Y2FzZSJtdWx0aXBvbHlnb256IjpjYXNlIm11bHRpcG9seWdvbnptIjp0PXRoaXMuX3BhcnNlTXVsdGlQb2x5Z29uKGUsITApO2JyZWFrO2Nhc2UiZ2VvbWV0cnljb2xsZWN0aW9uIjpjYXNlImdlb21ldHJ5Y29sbGVjdGlvbnoiOmNhc2UiZ2VvbWV0cnljb2xsZWN0aW9uem0iOnJldHVybiB0aGlzLl9wYXJzZUdlb21ldHJ5Q29sbGVjdGlvbihlKX19cmV0dXJuIHQ/W3RdOm51bGx9LGUuX3BhcnNlR2VvbWV0cnlDb2xsZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhPVtdLGk9ZS5yZXBsYWNlKC8oZ2VvbWV0cnljb2xsZWN0aW9uXHMqXCh8KFwpXHMqKSQpL2csIiIpLnJlcGxhY2UoLyhcKSkoLFxzKikoW2EtekEtWl0pL2csIiQxfCQzIikuc3BsaXQoInwiKTt0cnl7Zm9yKHZhciBvPV9sKGkpLHM9by5uZXh0KCk7IXMuZG9uZTtzPW8ubmV4dCgpKXt2YXIgbD1zLnZhbHVlOyhuPXRoaXMuX3BhcnNlR2VvbWV0cnkobCkpJiZuLmxlbmd0aD4wJiYoYT1hLmNvbmNhdChuKSk7fX1jYXRjaChlKXt0PXtlcnJvcjplfTt9ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyk7fWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4gYX0sZS5fcGFyc2VQb2ludD1mdW5jdGlvbihlLHQpe2U9ZS5yZXBsYWNlKC8ocG9pbnR8W1woXCldKikvZywiIik7dmFyIHI9dGhpcy5fcGFyc2VDb29yZGluYXRlKGUsdCk7cmV0dXJuIHI/e3R5cGU6IlBvaW50Iixjb29yZGluYXRlczpyfTpudWxsfSxlLl9wYXJzZUxpbmVzdHJpbmc9ZnVuY3Rpb24oZSx0KXtlPWUucmVwbGFjZSgvKGxpbmVzdHJpbmd8W1woXCldKnxeXHMqfFxzJCkvZywiIik7dmFyIHI9dGhpcy5fcGFyc2VDb29yZGluYXRlcyhlLHQpO3JldHVybiByP3t0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczpyfTpudWxsfSxlLl9wYXJzZVBvbHlnb249ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE9ZS5yZXBsYWNlKC8ocG9seWdvbnxcKFwofFwpXCkpL2csIiIpLnNwbGl0KC9cKSxccypcKC8pLGk9W107dHJ5e2Zvcih2YXIgbz1fbChhKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTtpLnB1c2godGhpcy5fcGFyc2VDb29yZGluYXRlcyhsLHQpKTt9fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobj1vLnJldHVybikmJm4uY2FsbChvKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBpLmxlbmd0aD4wP3t0eXBlOiJQb2x5Z29uIixjb29yZGluYXRlczppfTpudWxsfSxlLl9wYXJzZU11bHRpUG9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE9W10saT1lLnJlcGxhY2UoLyhtdWx0aXBvaW50fFtcKFwpXSopL2csIiIpLnNwbGl0KC8sXHMqLyk7dHJ5e2Zvcih2YXIgbz1fbChpKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTthLnB1c2godGhpcy5fcGFyc2VDb29yZGluYXRlKGwsdCkpO319Y2F0Y2goZSl7cj17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihuPW8ucmV0dXJuKSYmbi5jYWxsKG8pO31maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19cmV0dXJuIGEubGVuZ3RoPjA/e3R5cGU6Ik11bHRpUG9pbnQiLGNvb3JkaW5hdGVzOmF9Om51bGx9LGUuX3BhcnNlTXVsdGlMaW5lc3RyaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhPVtdLGk9ZS5yZXBsYWNlKC8obXVsdGlsaW5lc3RyaW5nfFwoXCh8XClcKSkvZywiIikuc3BsaXQoL1wpLFxzKlwoLyk7dHJ5e2Zvcih2YXIgbz1fbChpKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGw9cy52YWx1ZTthLnB1c2godGhpcy5fcGFyc2VDb29yZGluYXRlcyhsLHQpKTt9fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobj1vLnJldHVybikmJm4uY2FsbChvKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBhLmxlbmd0aD4wP3t0eXBlOiJNdWx0aUxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOmF9Om51bGx9LGUuX3BhcnNlTXVsdGlQb2x5Z29uPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLGksbyxzLGw9W10sdT1lLnJlcGxhY2UoLyhtdWx0aXBvbHlnb258XChcKFwofFwpXClcKSkvZywiIikuc3BsaXQoL1wpXCksXHMqXChcKC8pO3RyeXtmb3IodmFyIGM9X2wodSksaD1jLm5leHQoKTshaC5kb25lO2g9Yy5uZXh0KCkpe3M9aC52YWx1ZS5zcGxpdCgvXCksXHMqXCgvKSxvPVtdO3RyeXtmb3IodmFyIGY9KGE9dm9pZCAwLF9sKHMpKSxkPWYubmV4dCgpOyFkLmRvbmU7ZD1mLm5leHQoKSl7dmFyIHA9ZC52YWx1ZTtvLnB1c2godGhpcy5fcGFyc2VDb29yZGluYXRlcyhwLHQpKTt9fWNhdGNoKGUpe2E9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtkJiYhZC5kb25lJiYoaT1mLnJldHVybikmJmkuY2FsbChmKTt9ZmluYWxseXtpZihhKXRocm93IGEuZXJyb3J9fW8ubGVuZ3RoPjAmJmwucHVzaChvKTt9fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXtoJiYhaC5kb25lJiYobj1jLnJldHVybikmJm4uY2FsbChjKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBsLmxlbmd0aD4wP3t0eXBlOiJNdWx0aVBvbHlnb24iLGNvb3JkaW5hdGVzOmx9Om51bGx9LGUuX3dyaXRlQ29vcmRpbmF0ZT1mdW5jdGlvbihlLHQscixuKXtlLnB1c2goKE1hdGgucm91bmQodFswXSpyKS9yKS50b1N0cmluZygpLCIgIiwoTWF0aC5yb3VuZCh0WzFdKnIpL3IpLnRvU3RyaW5nKCkpLG4mJih0Lmxlbmd0aD49Mz9lLnB1c2goIiAiLHRbMl0udG9TdHJpbmcoKSk6ZS5wdXNoKCIgMCIpKTt9LGUuX3dyaXRlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0LHIsbil7ZS5wdXNoKCIoIik7Zm9yKHZhciBhPXQubGVuZ3RoLGk9MDtpPGE7aSsrKXRoaXMuX3dyaXRlQ29vcmRpbmF0ZShlLHRbaV0scixuKSxpPGEtMSYmZS5wdXNoKCIsIik7ZS5wdXNoKCIpIik7fSxlLl93cml0ZVJpbmdzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7ZS5wdXNoKCIoIik7Zm9yKHZhciBpPXQubGVuZ3RoLG89MDtvPGk7bysrKXImJnNvLmNsb3NlUmluZyh0W29dKSx0aGlzLl93cml0ZUNvb3JkaW5hdGVzKGUsdFtvXSxuLGEpLG88aS0xJiZlLnB1c2goIiwiKTtlLnB1c2goIikiKTt9LGUuX3dyaXRlUG9pbnQ9ZnVuY3Rpb24oZSx0LHIsbil7ZS5wdXNoKCJQT0lOVCIsbj8iIFooIjoiKCIpLHRoaXMuX3dyaXRlQ29vcmRpbmF0ZShlLHQuY29vcmRpbmF0ZXMscixuKSxlLnB1c2goIikiKTt9LGUuX3dyaXRlTGluZXN0cmluZz1mdW5jdGlvbihlLHQscixuKXtlLnB1c2goIkxJTkVTVFJJTkciLG4/IiBaIjoiIiksdGhpcy5fd3JpdGVDb29yZGluYXRlcyhlLHQuY29vcmRpbmF0ZXMscixuKTt9LGUuX3dyaXRlUG9seWdvbj1mdW5jdGlvbihlLHQscixuKXtlLnB1c2goIlBPTFlHT04iLG4/IiBaIjoiIiksdGhpcy5fd3JpdGVSaW5ncyhlLHQuY29vcmRpbmF0ZXMsITAscixuKTt9LGUuX3dyaXRlTXVsdGlQb2ludD1mdW5jdGlvbihlLHQscixuKXtlLnB1c2goIk1VTFRJUE9JTlQiLG4/IiBaIjoiIiksdGhpcy5fd3JpdGVDb29yZGluYXRlcyhlLHQuY29vcmRpbmF0ZXMscixuKTt9LGUuX3dyaXRlTXVsdGlMaW5lU3RyaW5nPWZ1bmN0aW9uKGUsdCxyLG4pe2UucHVzaCgiTVVMVElMSU5FU1RSSU5HIixuPyIgWiI6IiIpLHRoaXMuX3dyaXRlUmluZ3MoZSx0LmNvb3JkaW5hdGVzLCExLHIsbik7fSxlLl93cml0ZU11bHRpUG9seWdvbj1mdW5jdGlvbihlLHQscixuKXtlLnB1c2goIk1VTFRJUE9MWUdPTiIsbj8iIFooIjoiKCIpO2Zvcih2YXIgYT10LmNvb3JkaW5hdGVzLmxlbmd0aCxpPTA7aTxhO2krKyl0aGlzLl93cml0ZVJpbmdzKGUsdC5jb29yZGluYXRlc1tpXSwhMCxyLG4pLGk8YS0xJiZlLnB1c2goIiwiKTtlLnB1c2goIikiKTt9LGUuX3dyaXRlR2VvbWV0cnlDb2xsZWN0aW9uPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXQmJnQubGVuZ3RoO2UucHVzaCgiR0VPTUVUUllDT0xMRUNUSU9OIixuPyIgWigiOiIoIik7Zm9yKHZhciBpPTA7aTxhO2krKyl0aGlzLl93cml0ZShlLHRbaV0scixuKSxpPGEtMSYmZS5wdXNoKCIsIik7ZS5wdXNoKCIpIik7fSxlLl93cml0ZT1mdW5jdGlvbihlLHQscixuKXtpZih0KWlmKEFycmF5LmlzQXJyYXkodCkpdGhpcy5fd3JpdGVHZW9tZXRyeUNvbGxlY3Rpb24oZSx0LHIsbik7ZWxzZSBzd2l0Y2godC50eXBlKXtjYXNlIlBvaW50IjpyZXR1cm4gdGhpcy5fd3JpdGVQb2ludChlLHQscixuKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiB0aGlzLl93cml0ZUxpbmVzdHJpbmcoZSx0LHIsbik7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gdGhpcy5fd3JpdGVQb2x5Z29uKGUsdCxyLG4pO2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIHRoaXMuX3dyaXRlTXVsdGlQb2ludChlLHQscixuKTtjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIHRoaXMuX3dyaXRlTXVsdGlMaW5lU3RyaW5nKGUsdCxyLG4pO2Nhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gdGhpcy5fd3JpdGVNdWx0aVBvbHlnb24oZSx0LHIsbik7Y2FzZSJGZWF0dXJlIjpyZXR1cm4gdGhpcy5fd3JpdGUoZSx0Lmdlb21ldHJ5LHIsbil9fSxlfSgpLHdsPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10O318fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO30sZSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhyKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10O31lKHQsciksdC5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pO319KCkseGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5mb3JtYXQ9Ikdlb0pTT04iLHR9cmV0dXJuIHdsKHQsZSksdH0ocG8pLGtsPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10O318fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO30sZSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhyKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10O31lKHQsciksdC5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pO319KCksU2w9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5zcGF0aWFsZm9ybWF0PSJ3a3QiLHQubGF0Q29sTmFtZT0ibGF0Iix0LmxvbkNvbE5hbWU9ImxvbiIsdC5lbHZDb2xOYW1lPSJlbHYiLHQuZ2VvQ29sTmFtZT0iZ2VvIix0LmRlbGltaXRlcj0iLCIsdC50ZXh0UXVhbGlmaWVyPSciJyx0LmluY2x1ZGVUeXBlc0luSGVhZGVyPSExLHR9cmV0dXJuIGtsKHQsZSksdH0oeGwpLE5sPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0sbj0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybiB7bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZuPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtuKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0PyJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiI6IlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKX0sT2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnJlYWQ9ZnVuY3Rpb24oZSx0KXtpZigoIm51bWJlciIhPXR5cGVvZih0PXR8fHttYXhGZWF0dXJlczoxLzB9KS5tYXhGZWF0dXJlc3x8dC5tYXhGZWF0dXJlczw9MCkmJih0Lm1heEZlYXR1cmVzPTEvMCksIXQuZGVsaW1pdGVyfHwiIj09PXQuZGVsaW1pdGVyfHwiYXV0byI9PT10LmRlbGltaXRlcil7dmFyIHI9ZS5pbmRleE9mKCJcbiIpLG49ZS5zdWJzdHJpbmcoMCxyKTtuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYmluZyBzcGF0aWFsIGRhdGEgc2VydmljZXMiKSYmKG49ZS5zdWJzdHJpbmcocixlLmluZGV4T2YoIlxuIixyKzEpKSk7dmFyIGE9KG4ubWF0Y2goLywvZyl8fFtdKS5sZW5ndGgsaT0obi5tYXRjaCgvW3xdL2cpfHxbXSkubGVuZ3RoLG89KG4ubWF0Y2goL1x0L2cpfHxbXSkubGVuZ3RoO2E+PWkmJmE+PW8/dC5kZWxpbWl0ZXI9IiwiOmk+PWEmJmk+PW8/dC5kZWxpbWl0ZXI9InwiOm8+PWEmJm8+PWkmJih0LmRlbGltaXRlcj0iXHQiKTt9dmFyIHMsbD1bXSx1PW5ldyBtbChlLHQuZGVsaW1pdGVyKSxjPXUuZ2V0TmV4dFJvdygpO2lmKG51bGwhPWMmJmMubGVuZ3RoPjApe2NbMF0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJiaW5nIHNwYXRpYWwgZGF0YSBzZXJ2aWNlcyIpJiYoYz11LmdldE5leHRSb3coKSk7dmFyIGg9ITE7aWYodC5oZWFkZXIpcz10LmhlYWRlcixoPSEwO2Vsc2Uge3M9dGhpcy5wYXJzZUhlYWRlcihjKSxjPXUuZ2V0TmV4dFJvdygpO2Zvcih2YXIgZj0wLGQ9MCxwPXMubmFtZXMubGVuZ3RoO2Q8cDtkKyspaWYoInN0cmluZyIhPT1zLnR5cGVzW2RdJiYiZ2VvZ3JhcGh5IiE9PXMudHlwZXNbZF0pe3ZhciB5PXMubmFtZXNbZF0udG9Mb3dlckNhc2UoKTt0aGlzLl9sYXRpdHVkZU5hbWVzLmhhcyh5KXx8dGhpcy5fbG9uZ2l0dWRlTmFtZXMuaGFzKHkpfHx0aGlzLl9lbGV2YXRpb25OYW1lcy5oYXMoeSl8fGYrKzt9Zj4wJiYoaD0hMCk7fWlmKCF0aGlzLnZhbGlkYXRlSGVhZGVyKHMsYykpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gcGFyc2UgaGVhZGVyIik7dmFyIG09ITE7Zm9yKCFoJiZ0LmR5bmFtaWNUeXBpbmcmJihtPSEwKTtudWxsIT1jJiZjLmxlbmd0aD4wOyl7dmFyIGc9dGhpcy5wYXJzZVJvdyhjLHMsbSk7aWYobnVsbCE9ZyYmKCJQb2ludCI9PT1nLmdlb21ldHJ5LnR5cGUmJiJDaXJjbGUiPT09Zy5wcm9wZXJ0aWVzLnN1YlR5cGUmJnNvLmlzVmFsaWROdW1iZXIoZy5wcm9wZXJ0aWVzLnJhZGl1cykmJihnLnByb3BlcnRpZXMucmFkaXVzPXBhcnNlRmxvYXQoZy5wcm9wZXJ0aWVzLnJhZGl1cykpLGwucHVzaChnKSxsLmxlbmd0aD49dC5tYXhGZWF0dXJlcykpYnJlYWs7Yz11LmdldE5leHRSb3coKTt9fXJldHVybiB7dHlwZToiRmVhdHVyZUNvbGxlY3Rpb24iLGZlYXR1cmVzOmx9fSxlLndyaXRlPWZ1bmN0aW9uKHQscil7dmFyIG4sYSxpLG8scyxsLHU9dGhpcztpZih0JiZ0Lmxlbmd0aD4wKXtyPShuZXcgU2wpLm1lcmdlKHIpO3ZhciBjPVtdLGg9W10sZj1SYSh0aGlzLl9pZ25vcmVQcm9wZXJ0aWVzKTsid2t0Ij09PXIuc3BhdGlhbGZvcm1hdD9mLnB1c2goci5nZW9Db2xOYW1lKTooZi5wdXNoKHIubGF0Q29sTmFtZSksZi5wdXNoKHIubG9uQ29sTmFtZSksImxhdGxvbmVsdiI9PT1yLnNwYXRpYWxmb3JtYXQmJmYucHVzaChyLmVsdkNvbE5hbWUpKTt2YXIgZD12b2lkIDAhPT10WzBdLnByb3BlcnRpZXNbci5lbHZDb2xOYW1lXT9yLmVsdkNvbE5hbWU6bnVsbCxwPSExLHk9ZnVuY3Rpb24odCl7bnVsbCE9dC5pZCYmIiIhPT10LmlkJiYocD0hMCksIndrdCIhPT1yLnNwYXRpYWxmb3JtYXQmJiJQb2ludCIhPT10Lmdlb21ldHJ5LnR5cGV8fE9iamVjdC5rZXlzKHQucHJvcGVydGllcykuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYoIXIuc3RhcnRzV2l0aCgiXyIpJiYhYy5pbmNsdWRlcyhyKSYmIXUuX2lnbm9yZVByb3BlcnRpZXMuaW5jbHVkZXMocikpe3ZhciBuPXQucHJvcGVydGllc1tyXTtpZihudWxsIT1uJiYiIiE9PW4pe3ZhciBhPXR5cGVvZiBuO24gaW5zdGFuY2VvZiBEYXRlJiYoYT0iZGF0ZSIpLHUuX2FsbG93ZWRUeXBlcy5oYXMoYSkmJihjLnB1c2gociksaC5wdXNoKGEpKSwhZCYmZS5fZWxldmF0aW9uTmFtZXMuaGFzKHIpJiYoZD1yKTt9fX0pKTt9O3RyeXtmb3IodmFyIG09TmwodCksZz1tLm5leHQoKTshZy5kb25lO2c9bS5uZXh0KCkpe3koTz1nLnZhbHVlKTt9fWNhdGNoKGUpe249e2Vycm9yOmV9O31maW5hbGx5e3RyeXtnJiYhZy5kb25lJiYoYT1tLnJldHVybikmJmEuY2FsbChtKTt9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXZhciB2PW5ldyB2bChyLmRlbGltaXRlcixyLnRleHRRdWFsaWZpZXIpLF89W107aWYocCYmXy5wdXNoKHIuaW5jbHVkZVR5cGVzSW5IZWFkZXI/ImlkKHN0cmluZykiOiJpZCIpLHIuaW5jbHVkZVR5cGVzSW5IZWFkZXIpe2Zvcih2YXIgYj0wLHc9Yy5sZW5ndGg7Yjx3O2IrKylfLnB1c2goIiIuY29uY2F0KGNbYl0sIigiKS5jb25jYXQoaFtiXSwiKSIpKTsid2t0Ij09PXIuc3BhdGlhbGZvcm1hdD9fLnB1c2goIiIuY29uY2F0KHIuZ2VvQ29sTmFtZSwiKGdlb2dyYXBoeSkiKSk6KF8ucHVzaCgiIi5jb25jYXQoci5sYXRDb2xOYW1lLCIobnVtYmVyKSIpKSxfLnB1c2goIiIuY29uY2F0KHIubG9uQ29sTmFtZSwiKG51bWJlcikiKSksImxhdGxvbmVsdiI9PT1yLnNwYXRpYWxmb3JtYXQmJl8ucHVzaCgiIi5jb25jYXQoci5lbHZDb2xOYW1lLCIobnVtYmVyKSIpKSk7fWVsc2UgXz1fLmNvbmNhdChjKSwid2t0Ij09PXIuc3BhdGlhbGZvcm1hdD9fLnB1c2goci5nZW9Db2xOYW1lKTooXy5wdXNoKHIubGF0Q29sTmFtZSksXy5wdXNoKHIubG9uQ29sTmFtZSksImxhdGxvbmVsdiI9PT1yLnNwYXRpYWxmb3JtYXQmJl8ucHVzaChyLmVsdkNvbE5hbWUpKTt2LndyaXRlUm93KF8pO3ZhciB4PXZvaWQgMCxrPXZvaWQgMDt0cnl7Zm9yKHZhciBTPU5sKHQpLE49Uy5uZXh0KCk7IU4uZG9uZTtOPVMubmV4dCgpKXt2YXIgTztpZih4PShPPU4udmFsdWUpLmdlb21ldHJ5LCJ3a3QiPT09ci5zcGF0aWFsZm9ybWF0fHwiUG9pbnQiPT09eC50eXBlKXtfPXA/W08uaWRdOltdLGs9Ty5wcm9wZXJ0aWVzO3RyeXtmb3IodmFyIEM9KHM9dm9pZCAwLE5sKGMpKSxQPUMubmV4dCgpOyFQLmRvbmU7UD1DLm5leHQoKSl7dmFyIEU9UC52YWx1ZTtfLnB1c2goa1tFXSk7fX1jYXRjaChlKXtzPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7UCYmIVAuZG9uZSYmKGw9Qy5yZXR1cm4pJiZsLmNhbGwoQyk7fWZpbmFsbHl7aWYocyl0aHJvdyBzLmVycm9yfX0id2t0Ij09PXIuc3BhdGlhbGZvcm1hdD9fLnB1c2goYmwud3JpdGUoeCkpOihfLnB1c2goeC5jb29yZGluYXRlc1sxXSksXy5wdXNoKHguY29vcmRpbmF0ZXNbMF0pLCJsYXRsb25lbHYiPT09ci5zcGF0aWFsZm9ybWF0JiYoeC5jb29yZGluYXRlcy5sZW5ndGg+PTM/Xy5wdXNoKHguY29vcmRpbmF0ZXNbMl0pOnZvaWQgMCE9PWtbZF0/Xy5wdXNoKGtbZF0pOl8ucHVzaCgwKSkpLHYud3JpdGVSb3coXyk7fX19Y2F0Y2goZSl7aT17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e04mJiFOLmRvbmUmJihvPVMucmV0dXJuKSYmby5jYWxsKFMpO31maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19cmV0dXJuIHYudG9TdHJpbmcoKX1yZXR1cm4gbnVsbH0sZS52YWxpZGF0ZUhlYWRlcj1mdW5jdGlvbihlLHQpe2lmKCFlfHwhZS5uYW1lc3x8MD09PWUubmFtZXMubGVuZ3RoKXJldHVybiAhMTtBcnJheS5pc0FycmF5KGUudHlwZXMpfHwoZS50eXBlcz1bXSk7Zm9yKHZhciByPSExLG49ITEsYT0hMSxpPTAsbz1lLm5hbWVzLmxlbmd0aDtpPG87aSsrKXt2YXIgcz1lLm5hbWVzW2ldLnRvTG93ZXJDYXNlKCk7ZS50eXBlcy5sZW5ndGgtMT5pP2UudHlwZXNbaV09dGhpcy52YWxpZGF0ZVR5cGUoZS50eXBlc1tpXSxzKTplLnR5cGVzLnB1c2godGhpcy52YWxpZGF0ZVR5cGUobnVsbCxzKSksdGhpcy5fbGF0aXR1ZGVOYW1lcy5oYXMocyk/bj0hMDp0aGlzLl9sb25naXR1ZGVOYW1lcy5oYXMocyk/YT0hMDoiZ2VvZ3JhcGh5Ij09PWUudHlwZXNbaV0mJihyPSEwKTt9aWYobiYmYXx8cilyZXR1cm4gITA7aWYodCYmdC5sZW5ndGg+MClmb3Iobz1NYXRoLm1pbihlLm5hbWVzLmxlbmd0aCx0Lmxlbmd0aCksaT0wO2k8bztpKyspaWYodGhpcy5fd2t0UngudGVzdCh0W2ldKSlyZXR1cm4gZS50eXBlc1tpXT0iZ2VvZ3JhcGh5IiwhMDtyZXR1cm4gITF9LGUudmFsaWRhdGVUeXBlPWZ1bmN0aW9uKGUsdCl7dmFyIHI7c3dpdGNoKChlPWV8fCIiKS50b0xvd2VyQ2FzZSgpKXtjYXNlImVkbS5pbnQ2NCI6Y2FzZSJpbnQiOmNhc2UibG9uZyI6Y2FzZSJlZG0uZG91YmxlIjpjYXNlImZsb2F0IjpjYXNlImRvdWJsZSI6Y2FzZSJudW1iZXIiOnI9Im51bWJlciI7YnJlYWs7Y2FzZSJlZG0uYm9vbGVhbiI6Y2FzZSJib29sIjpjYXNlImJvb2xlYW4iOnI9ImJvb2xlYW4iO2JyZWFrO2Nhc2UiZWRtLmRhdGV0aW1lIjpjYXNlImRhdGUiOmNhc2UiZGF0ZXRpbWUiOnI9ImRhdGUiO2JyZWFrO2Nhc2UiZWRtLmdlb2dyYXBoeSI6Y2FzZSJnZW9ncmFwaHkiOnI9Imdlb2dyYXBoeSI7YnJlYWs7ZGVmYXVsdDpyPSJzdHJpbmciO31pZigiZ2VvZ3JhcGh5IiE9PXIpe3ZhciBuPXQudG9Mb3dlckNhc2UoKTsodGhpcy5fbGF0aXR1ZGVOYW1lcy5oYXMobil8fHRoaXMuX2xvbmdpdHVkZU5hbWVzLmhhcyhuKXx8dGhpcy5fZWxldmF0aW9uTmFtZXMuaGFzKG4pKSYmKHI9Im51bWJlciIpO31yZXR1cm4gcn0sZS5wYXJzZUhlYWRlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQscixuPVtdLGE9W10saT0wLG89ZS5sZW5ndGg7aTxvO2krKyl7aWYodD1lW2ldLHI9InN0cmluZyIsaTxvLTEmJmVbaSsxXS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoInByaW1hcnlrZXkpIikpdD10LnN1YnN0cmluZygwLHQuaW5kZXhPZigiKCIpKSwocj1lW2ldLnN1YnN0cmluZyhlW2ldLmluZGV4T2YoIigiKSsxKSkuaW5jbHVkZXMoIiwiKSYmKHI9ci5yZXBsYWNlKCIsIiwiIikpLGkrKztlbHNlIGlmKHRoaXMuX2hlYWRlclJlZ2V4LnRlc3QodCkpe3ZhciBzPXQubWF0Y2godGhpcy5faGVhZGVyUmVnZXgpO3MmJnMubGVuZ3RoPj0zJiYodD1zWzFdLChyPXNbMl0pLmluY2x1ZGVzKCIsIikmJihyPXIuc3Vic3RyaW5nKDAsci5pbmRleE9mKCIsIikpKSk7fSh0PXQudHJpbSgpKS5pbmNsdWRlcygiICIpJiYodD10LnJlcGxhY2UoL1xzL2csIl8iKSksbi5pbmNsdWRlcyh0KT8odD0iQ29sdW1uXyIuY29uY2F0KGkpLG4ucHVzaCh0KSk6bi5wdXNoKHQpLGEucHVzaCh0aGlzLnZhbGlkYXRlVHlwZShyLHQpKTt9cmV0dXJuIHtuYW1lczpuLHR5cGVzOmF9fSxlLnBhcnNlUm93PWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGEsaT1udWxsLG89e30scz1OYU4sbD1OYU4sdT1OYU4sYz1NYXRoLm1pbih0Lmxlbmd0aCxyLm5hbWVzLmxlbmd0aCksaD0wO2g8YztoKyspe3N3aXRjaChhPW51bGwsci50eXBlc1toXSl7Y2FzZSJudW1iZXIiOmlmKGE9cGFyc2VGbG9hdCh0W2hdKSxzby5pc1ZhbGlkTnVtYmVyKGEpKXt2YXIgZj1yLm5hbWVzW2hdLnRvTG93ZXJDYXNlKCk7dGhpcy5fbGF0aXR1ZGVOYW1lcy5oYXMoZik/cz1hOnRoaXMuX2xvbmdpdHVkZU5hbWVzLmhhcyhmKT9sPWE6dGhpcy5fZWxldmF0aW9uTmFtZXMuaGFzKGYpJiYodT1hKTt9ZWxzZSBhPW51bGw7YnJlYWs7Y2FzZSJib29sZWFuIjphPXNvLnBhcnNlQm9vbGVhbih0W2hdKTticmVhaztjYXNlImRhdGUiOmE9ZW8odFtoXSk7YnJlYWs7Y2FzZSJnZW9ncmFwaHkiOmk9YmwucmVhZCh0W2hdKSxhPW51bGw7YnJlYWs7ZGVmYXVsdDppZihuKWlmKGUuX2Jvb2xSZWdleC50ZXN0KHRbaF0pKWE9InRydWUiPT09dFtoXS50b0xvd2VyQ2FzZSgpO2Vsc2UgaWYoZS5fbnVtUngudGVzdCh0W2hdKSl7YT1wYXJzZUZsb2F0KHRbaF0pLChmPXIubmFtZXNbaF0udG9Mb3dlckNhc2UoKSkuaW5jbHVkZXMoImRhdGUiKSYmKGE9bmV3IERhdGUoYSkpO31lbHNlIHt2YXIgZD1lbyh0W2hdKTthPW51bGwhPT1kP2Q6dFtoXTt9ZWxzZSBhPXRbaF07fW51bGwhPWEmJiIiIT09YSYmKG9bci5uYW1lc1toXV09YSk7fWlmKG51bGwhPT1pJiZpLmxlbmd0aD4wKXJldHVybiB7Z2VvbWV0cnk6aVswXSxwcm9wZXJ0aWVzOm8sdHlwZToiRmVhdHVyZSJ9O2lmKHNvLmlzVmFsaWROdW1iZXIocykmJnNvLmlzVmFsaWROdW1iZXIobCkpe3ZhciBwPVtsLHNdO3JldHVybiBzby5pc1ZhbGlkTnVtYmVyKHUpJiZwLnB1c2godSkse2dlb21ldHJ5Ontjb29yZGluYXRlczpwLHR5cGU6IlBvaW50In0scHJvcGVydGllczpvLHR5cGU6IkZlYXR1cmUifX1yZXR1cm4gbnVsbH0sZS5jaGVja0lkcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZS5pZCYmIiIhPT1lLmlkfSkpfSxlLl9sYXRpdHVkZU5hbWVzPW5ldyBTZXQoWyJsYXRpdHVkZSIsImxhdCIsImxhdGRkIiwibGF0X2RkIiwibGF0aXR1ZGU4MyIsImxhdGRlY2RlZyIsInkiLCJ5Y2VudGVyIiwicG9pbnQteSJdKSxlLl9sb25naXR1ZGVOYW1lcz1uZXcgU2V0KFsibG9uZ2l0dWRlIiwibG9uIiwibG5nIiwibG9uZyIsImxvbmdkZCIsImxvbmdfZGQiLCJsb25naXR1ZGU4MyIsImxvbmdkZWNkZWciLCJ4IiwieGNlbnRlciIsInBvaW50LXgiXSksZS5fZWxldmF0aW9uTmFtZXM9bmV3IFNldChbImVsZXZhdGlvbiIsImVsdiIsImFsdGl0dWRlIiwiYWx0IiwieiJdKSxlLl9oZWFkZXJSZWdleD0vXlxzKihbYS16QS1aMC05X10rKVwoKFthLXpBLVowLTlcLixdKylcKVxzKiQvLGUuX2Jvb2xSZWdleD0vXlxzKih0cnVlfGZhbHNlKVxzKiQvaSxlLl9udW1SeD0vXlxzKlswLTldK1xzKiQvLGUuX3drdFJ4PS9eXHMqKHBvaW50fGxpbmVzdHJpbmd8cG9seWdvbnxtdWx0aXBvaW50fG11bHRpbGluZXN0cmluZ3xtdWx0aXBvbHlnb258Z2VvbWV0cnljb2xsZWN0aW9uKVt6XT9bbV0/XHMqXCgvaSxlLl9hbGxvd2VkVHlwZXM9bmV3IFNldChbInN0cmluZyIsIm51bWJlciIsImRhdGUiLCJib29sZWFuIl0pLGUuX2lnbm9yZVByb3BlcnRpZXM9WyJpbWFnZSIsImltYWdlVXJsIl0sZX0oKSxDbD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24oYSxpKXtmdW5jdGlvbiBvKGUpe3RyeXtsKG4ubmV4dChlKSk7fWNhdGNoKGUpe2koZSk7fX1mdW5jdGlvbiBzKGUpe3RyeXtsKG4udGhyb3coZSkpO31jYXRjaChlKXtpKGUpO319ZnVuY3Rpb24gbChlKXt2YXIgdDtlLmRvbmU/YShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCk7fSkpKS50aGVuKG8scyk7fWwoKG49bi5hcHBseShlLHR8fFtdKSkubmV4dCgpKTt9KSl9LFBsPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLGksbz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZhWzBdKXRocm93IGFbMV07cmV0dXJuIGFbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gaT17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihpW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGk7ZnVuY3Rpb24gcyhzKXtyZXR1cm4gZnVuY3Rpb24obCl7cmV0dXJuIGZ1bmN0aW9uKHMpe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLiIpO2Zvcig7aSYmKGk9MCxzWzBdJiYobz0wKSksbzspdHJ5e2lmKHI9MSxuJiYoYT0yJnNbMF0/bi5yZXR1cm46c1swXT9uLnRocm93fHwoKGE9bi5yZXR1cm4pJiZhLmNhbGwobiksMCk6bi5uZXh0KSYmIShhPWEuY2FsbChuLHNbMV0pKS5kb25lKXJldHVybiBhO3N3aXRjaChuPTAsYSYmKHM9WzImc1swXSxhLnZhbHVlXSksc1swXSl7Y2FzZSAwOmNhc2UgMTphPXM7YnJlYWs7Y2FzZSA0OnJldHVybiBvLmxhYmVsKysse3ZhbHVlOnNbMV0sZG9uZTohMX07Y2FzZSA1Om8ubGFiZWwrKyxuPXNbMV0scz1bMF07Y29udGludWU7Y2FzZSA3OnM9by5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShhPW8udHJ5cywoYT1hLmxlbmd0aD4wJiZhW2EubGVuZ3RoLTFdKXx8NiE9PXNbMF0mJjIhPT1zWzBdKSl7bz0wO2NvbnRpbnVlfWlmKDM9PT1zWzBdJiYoIWF8fHNbMV0+YVswXSYmc1sxXTxhWzNdKSl7by5sYWJlbD1zWzFdO2JyZWFrfWlmKDY9PT1zWzBdJiZvLmxhYmVsPGFbMV0pe28ubGFiZWw9YVsxXSxhPXM7YnJlYWt9aWYoYSYmby5sYWJlbDxhWzJdKXtvLmxhYmVsPWFbMl0sby5vcHMucHVzaChzKTticmVha31hWzJdJiZvLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWV9cz10LmNhbGwoZSxvKTt9Y2F0Y2goZSl7cz1bNixlXSxuPTA7fWZpbmFsbHl7cj1hPTA7fWlmKDUmc1swXSl0aHJvdyBzWzFdO3JldHVybiB7dmFsdWU6c1swXT9zWzFdOnZvaWQgMCxkb25lOiEwfX0oW3MsbF0pfX19LEVsPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0sbj0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybiB7bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZuPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtuKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0PyJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiI6IlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKX0sQWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnJlYWQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihhLGkpe2lmKGV8fGEobmV3IHVvKSx0PUlvKHQpLGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciluLl9yZWFkQXJyYXlCdWZmZXIoZSx0LHIpLnRoZW4oYSxpKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBCbG9iKXt2YXIgbz1uZXcgRmlsZVJlYWRlcjtvLm9ubG9hZD1mdW5jdGlvbihlKXtuLl9yZWFkQXJyYXlCdWZmZXIoZS50YXJnZXQucmVzdWx0LHQscikudGhlbihhLGkpO30sby5yZWFkQXNBcnJheUJ1ZmZlcihlKTt9ZWxzZSBuLl9yZWFkU3RyaW5nKGUsdCxyKS50aGVuKGEsaSk7fSkpfSxlLl9yZWFkU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gQ2wodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLGEsaSxvLHMsbCx1LGM7cmV0dXJuIFBsKHRoaXMsKGZ1bmN0aW9uKGgpe3N3aXRjaChoLmxhYmVsKXtjYXNlIDA6aWYoZT1lLnRyaW0oKSwhKChuPWUuc3Vic3RyaW5nKDAsTWF0aC5taW4oZS5sZW5ndGgsNTAwKSkubWF0Y2goLzwoXHcrOik/KFx3KykvKSkmJm4ubGVuZ3RoPj0zKSlyZXR1cm4gWzMsMTJdO3N3aXRjaChhPW5bMl0saT12b2lkIDAsYSl7Y2FzZSJrbWwiOnJldHVybiBbMywxXTtjYXNlImdweCI6cmV0dXJuIFszLDNdO2Nhc2UicnNzIjpjYXNlImZlZWQiOnJldHVybiBbMyw1XTtjYXNlIkZlYXR1cmVJbmZvUmVzcG9uc2UiOnJldHVybiBbMyw3XTtjYXNlIk11bHRpR2VvbWV0cnkiOmNhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOmNhc2UiUG9pbnQiOmNhc2UiTGluZVN0cmluZyI6Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpUG9pbnQiOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpQ3VydmUiOmNhc2UiTXVsdGlTdXJmYWNlIjpjYXNlIk11bHRpUG9seWdvbiI6Y2FzZSJGZWF0dXJlIjpjYXNlIm1zR01MT3V0cHV0IjpyZXR1cm4gWzMsOF19cmV0dXJuIFszLDldO2Nhc2UgMTpyZXR1cm4gWzQsbmV3IHlsKHQscikucmVhZChlKV07Y2FzZSAyOnJldHVybiBbMixoLnNlbnQoKV07Y2FzZSAzOnJldHVybiBbNCxuZXcgY2wodCkucmVhZChlKV07Y2FzZSA0OnJldHVybiBbMixoLnNlbnQoKV07Y2FzZSA1OnJldHVybiBbNCxuZXcgaWwodCkucmVhZChlKV07Y2FzZSA2OnJldHVybiBbMixoLnNlbnQoKV07Y2FzZSA3OnJldHVybiBpPVZvLnJlYWQoZSksWzMsMTBdO2Nhc2UgODpyZXR1cm4gaT1Pby5yZWFkKGUsdCksWzMsMTBdO2Nhc2UgOTpyZXR1cm4gWzMsMTBdO2Nhc2UgMTA6cmV0dXJuIGk/KGkuZmVhdHVyZXMmJmkuZmVhdHVyZXMubGVuZ3RoPnQubWF4RmVhdHVyZXMmJihpLmZlYXR1cmVzPWkuZmVhdHVyZXMuc3BsaWNlKDAsdC5tYXhGZWF0dXJlcykpLFs0LEdvLl9nZXRFbnJpY2hlZERhdGFTZXQoZSxpLmZlYXR1cmVzLHQpXSk6WzMsMTJdO2Nhc2UgMTE6cmV0dXJuIFsyLGguc2VudCgpXTtjYXNlIDEyOmlmKCFlLnN0YXJ0c1dpdGgoInsiKSlyZXR1cm4gWzMsMTZdO2gubGFiZWw9MTM7Y2FzZSAxMzpyZXR1cm4gaC50cnlzLnB1c2goWzEzLDE1LCwxNl0pLFs0LHRoaXMuX3BhcnNlR2VvSnNvblN0cmluZyhlLHQpXTtjYXNlIDE0OnJldHVybiBbMixoLnNlbnQoKV07Y2FzZSAxNTp0aHJvdyBoLnNlbnQoKTtjYXNlIDE2OmlmKCEoZS5sZW5ndGg8PTIwODMpfHwvW1xuXHJdL2cudGVzdChlKSlyZXR1cm4gWzMsMjRdO289c28ucGFyc2VVUkwoZSxyKSxoLmxhYmVsPTE3O2Nhc2UgMTc6cmV0dXJuIGgudHJ5cy5wdXNoKFsxNywyMywsMjRdKSxbNCxzby5hamF4R2V0QXN5bmMobyx0LnByb3h5U2VydmljZSxudWxsLCEwLCJYTUwiKV07Y2FzZSAxODpyZXR1cm4gKHM9aC5zZW50KCkpaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9bNCx0aGlzLl9yZWFkQXJyYXlCdWZmZXIocyx0LG8pXTpbMywyMF07Y2FzZSAxOTpyZXR1cm4gWzIsaC5zZW50KCldO2Nhc2UgMjA6cmV0dXJuIFs0LHRoaXMuX3JlYWRTdHJpbmcocyx0LG8pXTtjYXNlIDIxOnJldHVybiBbMixoLnNlbnQoKV07Y2FzZSAyMjpyZXR1cm4gWzMsMjRdO2Nhc2UgMjM6dGhyb3cgbD1oLnNlbnQoKSxuZXcgRXJyb3IoIlVuYWJsZSB0byByZWFkIGRhdGEgZnJvbSBVUkwuICIrbCk7Y2FzZSAyNDoodT1PYmplY3QuYXNzaWduKHt9LHQpKS5tYXhGZWF0dXJlcz0xLGgubGFiZWw9MjU7Y2FzZSAyNTpyZXR1cm4gaC50cnlzLnB1c2goWzI1LDI4LCwyOV0pLChjPU9sLnJlYWQoZSx1KSk/KGM9T2wucmVhZChlLHQpKSYmYy5mZWF0dXJlcyYmYy5mZWF0dXJlcy5sZW5ndGg+MD9bNCxHby5fZ2V0RW5yaWNoZWREYXRhU2V0KGUsYy5mZWF0dXJlcyx0KV06WzMsMjddOlszLDI3XTtjYXNlIDI2OnJldHVybiBbMixoLnNlbnQoKV07Y2FzZSAyNzpyZXR1cm4gWzMsMjldO2Nhc2UgMjg6cmV0dXJuIGguc2VudCgpLFszLDI5XTtjYXNlIDI5OnRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHJlYWQgZGF0YS4iKX19KSl9KSl9LGUuX3JlYWRBcnJheUJ1ZmZlcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIENsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixhLGkscyxsLHUsYyxoLGYsZCxwLHksbSxnLHY7cmV0dXJuIFBsKHRoaXMsKGZ1bmN0aW9uKF8pe3N3aXRjaChfLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHNvLmlzQmluYXJ5RGF0YShlKT9bNCwobmV3IG8pLmxvYWRBc3luYyhlKV06WzMsMTZdO2Nhc2UgMTpyZXR1cm4gKG49Xy5zZW50KCkpJiZuLmZpbGVzP24uZmlsZXNbImRvYy5rbWwiXT9bNCxuZXcgeWwodCxyKS5yZWFkS216QXN5bmMobildOlszLDNdOlszLDE1XTtjYXNlIDI6cmV0dXJuIFsyLF8uc2VudCgpXTtjYXNlIDM6YT12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsXy5sYWJlbD00O2Nhc2UgNDpfLnRyeXMucHVzaChbNCwxMCwxMSwxMl0pLGw9RWwoT2JqZWN0LmtleXMobi5maWxlcykpLHU9bC5uZXh0KCksXy5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gdS5kb25lP1szLDldOihjPXUudmFsdWUsKGg9bi5maWxlc1tjXS5uYW1lLnRvTG93ZXJDYXNlKCkpLmluY2x1ZGVzKCIua21sIik/WzQsbmV3IHlsKHQscikucmVhZEttekFzeW5jKG4pXTpbMyw3XSk7Y2FzZSA2OnJldHVybiBbMixfLnNlbnQoKV07Y2FzZSA3OmlmKCFhJiZoLmluY2x1ZGVzKCIueG1sIikpcmV0dXJuIGE9YyxbMyw5XTtpfHwhaC5pbmNsdWRlcygiLmdlb2pzb24iKSYmIWguaW5jbHVkZXMoIi5qc29uIik/IXMmJihoLmluY2x1ZGVzKCIuY3N2Iil8fGguaW5jbHVkZXMoIi50c3YiKXx8aC5pbmNsdWRlcygiLnR4dCIpKSYmKHM9Yyk6aT1jLF8ubGFiZWw9ODtjYXNlIDg6cmV0dXJuIHU9bC5uZXh0KCksWzMsNV07Y2FzZSA5OnJldHVybiBbMywxMl07Y2FzZSAxMDpyZXR1cm4gZj1fLnNlbnQoKSxnPXtlcnJvcjpmfSxbMywxMl07Y2FzZSAxMTp0cnl7dSYmIXUuZG9uZSYmKHY9bC5yZXR1cm4pJiZ2LmNhbGwobCk7fWZpbmFsbHl7aWYoZyl0aHJvdyBnLmVycm9yfXJldHVybiBbN107Y2FzZSAxMjpyZXR1cm4gKGQ9YSl8fChpP2Q9aTpzJiYoZD1zKSksZD9bNCxuLmZpbGVzW2RdLmFzeW5jKCJ0ZXh0IildOlszLDE1XTtjYXNlIDEzOnJldHVybiBwPV8uc2VudCgpLFs0LHRoaXMuX3JlYWRTdHJpbmcocCx0LHIpXTtjYXNlIDE0OnJldHVybiBbMixfLnNlbnQoKV07Y2FzZSAxNTpyZXR1cm4gWzMsMTldO2Nhc2UgMTY6cmV0dXJuIHk9bmV3IFRleHREZWNvZGVyLChtPXkuZGVjb2RlKGUpKT9bNCx0aGlzLl9yZWFkU3RyaW5nKG0sdCldOlszLDE4XTtjYXNlIDE3OnJldHVybiBbMixfLnNlbnQoKV07Y2FzZSAxODp0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBwYXJzZSBkYXRhIGZyb20gQXJyYXlCdWZmZXIuIik7Y2FzZSAxOTpyZXR1cm4gWzJdfX0pKX0pKX0sZS5fcGFyc2VHZW9Kc29uU3RyaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIENsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixuO3JldHVybiBQbCh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOmlmKCEocj1KU09OLnBhcnNlKGUpKS50eXBlKXJldHVybiBbMywyXTtzd2l0Y2gobj1bXSxyLnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnIuZmVhdHVyZXMmJkFycmF5LmlzQXJyYXkoci5mZWF0dXJlcykmJihuPXIuZmVhdHVyZXMpO2JyZWFrO2Nhc2UiRmVhdHVyZSI6ci5nZW9tZXRyeSYmQXJyYXkuaXNBcnJheShyLmdlb21ldHJ5LmNvb3JkaW5hdGVzKSYmbi5wdXNoKHIpO2JyZWFrO2Nhc2UiUG9pbnQiOmNhc2UiTGluZVN0cmluZyI6Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpUG9pbnQiOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpUG9seWdvbiI6QXJyYXkuaXNBcnJheShyLmNvb3JkaW5hdGVzKSYmbi5wdXNoKHtmZWF0dXJlczpyLHR5cGU6IkZlYXR1cmUifSk7fXJldHVybiBuLmxlbmd0aD4wPyhuLmxlbmd0aD50Lm1heEZlYXR1cmVzJiYobj1uLnNwbGljZSgwLHQubWF4RmVhdHVyZXMpKSxbNCxHby5fZ2V0RW5yaWNoZWREYXRhU2V0KGUsbix0KV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4gWzIsYS5zZW50KCldO2Nhc2UgMjpyZXR1cm4gWzIsbnVsbF19fSkpfSkpfSxlfSgpO29ubWVzc2FnZT1mdW5jdGlvbihlKXt0cnl7QWwucmVhZChlLmRhdGEuZGF0YSxlLmRhdGEub3B0aW9ucyxlLmRhdGEuYmFzZVVybCkudGhlbigoZnVuY3Rpb24oZSl7cG9zdE1lc3NhZ2UoZSk7fSksKGZ1bmN0aW9uKGUpe3Bvc3RNZXNzYWdlKHtlcnJvcjplfSk7fSkpO31jYXRjaChlKXtwb3N0TWVzc2FnZSh7ZXJyb3I6ZX0pO319OwoKCXJldHVybiBidW5kbGU7Cgp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1idW5kbGUuanMubWFwCgo="),t=e.indexOf("\n",10)+1,r=e.substring(t)+"",n=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(n)}(),new Worker(Zi,e)},Vi=function(){function e(e,t,r){if(this.EOS=!1,this.EOL=!1,this._position=0,this._length=0,e){if(this._delimitedData=e,this._length=e.length,this._delimiter=t||",","\\t"===this._delimiter)this._delimiter="\t";else if("auto"===this._delimiter){var n=this._delimitedData.match(/,/gi).length,i=this._delimitedData.match(/|/gi).length,o=this._delimitedData.match(/\t/gi).length;this._delimiter=o>i&&o>n?"\t":i>n?"|":","}this._textQualifier=r||'"'}}return e.prototype.read=function(){for(var e=[],t=this.getNextRow();null!=t&&t.length>0;)e.push(t),t=this.getNextRow();return e},e.prototype.getNextRow=function(){for(var e=[],t=this._getNextCell();null!=t;)e.push(t),t=this._getNextCell();return e},e.prototype._getNextCell=function(){if(this.EOL||this.EOS)return this.EOL=!1,this.EOS=!1,null;for(var e=!1,t=!0,r=!1,n="";;){var i=this._getChar(!0);if(this.EOS)return n.length>0?n:null;if((r||!e)&&i===this._delimiter)return n;if((t||r||!e)&&("\n"===i||"\r"===i))return this.EOL=!0,"\r"===i&&"\n"===this._getChar(!1)&&(i=this._getChar(!0)),n;t&&" "===i||(t&&i===this._textQualifier?(e=!0,t=!1):t?(t=!1,n+=i):i===this._textQualifier&&e?this._getChar(!1)===this._textQualifier?n+=this._getChar(!0):r=!0:n+=i)}},e.prototype._getChar=function(e){return this._position===this._length?(this.EOS=!0,"\0"):(this._position>=this._length&&(this._position=0),e?this._delimitedData[this._position++]:this._delimitedData[this._position])},e}(),Hi=function(){function e(e,t){this._delimiter=",",this._delimiter=e||",",this._textQualifier=t||'"',this._writer=[]}return e.prototype.clear=function(){this._writer=[],this._numCols=null},e.prototype.write=function(e){var t,r;if(e&&e.length>0&&e[0].length>0){this._numCols||(this._numCols=e[0].length);try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=n.next();!i.done;i=n.next()){var o=i.value;this._writeRow(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}},e.prototype.writeRow=function(e){e&&e.length>0&&(this._numCols||(this._numCols=e.length),this._writeRow(e))},e.prototype.toString=function(){return this._writer.join("\n")},e.prototype._writeRow=function(e){for(var t=[],r=Math.min(e.length,this._numCols),n=0;n<r;n++)t.push(this._getStringValue(e[n]));var i=e.length-r;if(i>0)for(var o=0;o<i;o++)t.push(null);this._writer.push(t.join(this._delimiter))},e.prototype._getStringValue=function(e){if("object"==typeof e&&void 0!==e.value&&null!==e.value&&(e=e.value),e instanceof Date)e=e.toISOString();else if("boolean"==typeof e||"number"==typeof e)return e.toString();return Wi.isValidString(e)?e.includes(this._delimiter)?(e.includes(this._textQualifier)&&(e=e.replace(this._textQualifier,"\\"+this._textQualifier)),"".concat(this._textQualifier).concat(e).concat(this._textQualifier)):e:null},e}(),Ui=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bi=function(){function e(){}return e.read=function(e){return this._parseGeometry(e)},e.write=function(e,t,r){var n=6;Wi.isValidNumber(t)&&n>=0&&(n=Math.min(Math.round(n),12)),r=r||!1;var i=[];return this._write(i,e,Math.pow(10,n),r),i.length>0?i.join(""):null},e._parseCoordinates=function(e,t){var r,n,i,o=e.replace(/(^\s|\s+$)/g,"").split(/,\s*/),a=[];try{for(var s=Ui(o),l=s.next();!l.done;l=s.next()){var c=l.value;null!=(i=this._parseCoordinate(c,t))&&a.push(i)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},e._parseCoordinate=function(e,t){var r=e.trim().split(/\s+/);if(r.length>1){var n=[parseFloat(r[0]),parseFloat(r[1])];return t&&(r.length>=3?n.push(parseFloat(r[2])):n.push(0)),n}return null},e._parseGeometry=function(e){var t;if(e){if((e=e.toLowerCase()).includes("empty"))return null;var r=e.substring(0,e.indexOf("(",0));switch(r=r.replace(/\s*/g,"")){case"point":t=this._parsePoint(e,!1);break;case"pointz":case"pointzm":t=this._parsePoint(e,!0);break;case"linestring":t=this._parseLinestring(e,!1);break;case"linestringz":case"linestringzm":t=this._parseLinestring(e,!0);break;case"polygon":t=this._parsePolygon(e,!1);break;case"polygonz":case"polygonzm":t=this._parsePolygon(e,!0);break;case"multipoint":t=this._parseMultiPoint(e,!1);break;case"multipointz":case"multipointzm":t=this._parseMultiPoint(e,!0);break;case"multilinestring":t=this._parseMultiLinestring(e,!1);break;case"multilinestring":case"multilinestringz":case"multilinestringzm":t=this._parseMultiLinestring(e,!0);break;case"multipolygon":t=this._parseMultiPolygon(e,!1);break;case"multipolygonz":case"multipolygonzm":t=this._parseMultiPolygon(e,!0);break;case"geometrycollection":case"geometrycollectionz":case"geometrycollectionzm":return this._parseGeometryCollection(e)}}return t?[t]:null},e._parseGeometryCollection=function(e){var t,r,n,i=[],o=e.replace(/(geometrycollection\s*\(|(\)\s*)$)/g,"").replace(/(\))(,\s*)([a-zA-Z])/g,"$1|$3").split("|");try{for(var a=Ui(o),s=a.next();!s.done;s=a.next()){var l=s.value;(n=this._parseGeometry(l))&&n.length>0&&(i=i.concat(n))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},e._parsePoint=function(e,t){e=e.replace(/(point|[\(\)]*)/g,"");var r=this._parseCoordinate(e,t);return r?{type:"Point",coordinates:r}:null},e._parseLinestring=function(e,t){e=e.replace(/(linestring|[\(\)]*|^\s*|\s$)/g,"");var r=this._parseCoordinates(e,t);return r?{type:"LineString",coordinates:r}:null},e._parsePolygon=function(e,t){var r,n,i=e.replace(/(polygon|\(\(|\)\))/g,"").split(/\),\s*\(/),o=[];try{for(var a=Ui(i),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this._parseCoordinates(l,t))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o.length>0?{type:"Polygon",coordinates:o}:null},e._parseMultiPoint=function(e,t){var r,n,i=[],o=e.replace(/(multipoint|[\(\)]*)/g,"").split(/,\s*/);try{for(var a=Ui(o),s=a.next();!s.done;s=a.next()){var l=s.value;i.push(this._parseCoordinate(l,t))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i.length>0?{type:"MultiPoint",coordinates:i}:null},e._parseMultiLinestring=function(e,t){var r,n,i=[],o=e.replace(/(multilinestring|\(\(|\)\))/g,"").split(/\),\s*\(/);try{for(var a=Ui(o),s=a.next();!s.done;s=a.next()){var l=s.value;i.push(this._parseCoordinates(l,t))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i.length>0?{type:"MultiLineString",coordinates:i}:null},e._parseMultiPolygon=function(e,t){var r,n,i,o,a,s,l=[],c=e.replace(/(multipolygon|\(\(\(|\)\)\))/g,"").split(/\)\),\s*\(\(/);try{for(var u=Ui(c),d=u.next();!d.done;d=u.next()){s=d.value.split(/\),\s*\(/),a=[];try{for(var h=(i=void 0,Ui(s)),p=h.next();!p.done;p=h.next()){var m=p.value;a.push(this._parseCoordinates(m,t))}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}a.length>0&&l.push(a)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return l.length>0?{type:"MultiPolygon",coordinates:l}:null},e._writeCoordinate=function(e,t,r,n){e.push((Math.round(t[0]*r)/r).toString()," ",(Math.round(t[1]*r)/r).toString()),n&&(t.length>=3?e.push(" ",t[2].toString()):e.push(" 0"))},e._writeCoordinates=function(e,t,r,n){e.push("(");for(var i=t.length,o=0;o<i;o++)this._writeCoordinate(e,t[o],r,n),o<i-1&&e.push(",");e.push(")")},e._writeRings=function(e,t,r,n,i){e.push("(");for(var o=t.length,a=0;a<o;a++)r&&Wi.closeRing(t[a]),this._writeCoordinates(e,t[a],n,i),a<o-1&&e.push(",");e.push(")")},e._writePoint=function(e,t,r,n){e.push("POINT",n?" Z(":"("),this._writeCoordinate(e,t.coordinates,r,n),e.push(")")},e._writeLinestring=function(e,t,r,n){e.push("LINESTRING",n?" Z":""),this._writeCoordinates(e,t.coordinates,r,n)},e._writePolygon=function(e,t,r,n){e.push("POLYGON",n?" Z":""),this._writeRings(e,t.coordinates,!0,r,n)},e._writeMultiPoint=function(e,t,r,n){e.push("MULTIPOINT",n?" Z":""),this._writeCoordinates(e,t.coordinates,r,n)},e._writeMultiLineString=function(e,t,r,n){e.push("MULTILINESTRING",n?" Z":""),this._writeRings(e,t.coordinates,!1,r,n)},e._writeMultiPolygon=function(e,t,r,n){e.push("MULTIPOLYGON",n?" Z(":"(");for(var i=t.coordinates.length,o=0;o<i;o++)this._writeRings(e,t.coordinates[o],!0,r,n),o<i-1&&e.push(",");e.push(")")},e._writeGeometryCollection=function(e,t,r,n){var i=t&&t.length;e.push("GEOMETRYCOLLECTION",n?" Z(":"(");for(var o=0;o<i;o++)this._write(e,t[o],r,n),o<i-1&&e.push(",");e.push(")")},e._write=function(e,t,r,n){if(t)if(Array.isArray(t))this._writeGeometryCollection(e,t,r,n);else switch(t.type){case"Point":return this._writePoint(e,t,r,n);case"LineString":return this._writeLinestring(e,t,r,n);case"Polygon":return this._writePolygon(e,t,r,n);case"MultiPoint":return this._writeMultiPoint(e,t,r,n);case"MultiLineString":return this._writeMultiLineString(e,t,r,n);case"MultiPolygon":return this._writeMultiPolygon(e,t,r,n);case"Feature":return this._write(e,t.geometry,r,n)}},e}(),Ki=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.format="GeoJSON",t}return Ki(t,e),t}(Gi),Qi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spatialformat="wkt",t.latColName="lat",t.lonColName="lon",t.elvColName="elv",t.geoColName="geo",t.delimiter=",",t.textQualifier='"',t.includeTypesInHeader=!1,t}return Qi(t,e),t}(Ji),$i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},eo=function(){function e(){}return e.read=function(e,t){if(("number"!=typeof(t=t||{maxFeatures:1/0}).maxFeatures||t.maxFeatures<=0)&&(t.maxFeatures=1/0),!t.delimiter||""===t.delimiter||"auto"===t.delimiter){var r=e.indexOf("\n"),n=e.substring(0,r);n.toLowerCase().startsWith("bing spatial data services")&&(n=e.substring(r,e.indexOf("\n",r+1)));var i=(n.match(/,/g)||[]).length,o=(n.match(/[|]/g)||[]).length,a=(n.match(/\t/g)||[]).length;i>=o&&i>=a?t.delimiter=",":o>=i&&o>=a?t.delimiter="|":a>=i&&a>=o&&(t.delimiter="\t")}var s,l=[],c=new Vi(e,t.delimiter),u=c.getNextRow();if(null!=u&&u.length>0){u[0].toLowerCase().startsWith("bing spatial data services")&&(u=c.getNextRow());var d=!1;if(t.header)s=t.header,d=!0;else{s=this.parseHeader(u),u=c.getNextRow();for(var h=0,p=0,m=s.names.length;p<m;p++)if("string"!==s.types[p]&&"geography"!==s.types[p]){var y=s.names[p].toLowerCase();this._latitudeNames.has(y)||this._longitudeNames.has(y)||this._elevationNames.has(y)||h++}h>0&&(d=!0)}if(!this.validateHeader(s,u))throw new Error("Unable to parse header");var f=!1;for(!d&&t.dynamicTyping&&(f=!0);null!=u&&u.length>0;){var g=this.parseRow(u,s,f);if(null!=g&&("Point"===g.geometry.type&&"Circle"===g.properties.subType&&Wi.isValidNumber(g.properties.radius)&&(g.properties.radius=parseFloat(g.properties.radius)),l.push(g),l.length>=t.maxFeatures))break;u=c.getNextRow()}}return{type:"FeatureCollection",features:l}},e.write=function(t,r){var n,i,o,a,s,l,c=this;if(t&&t.length>0){r=(new qi).merge(r);var u=[],d=[],h=Sn(this._ignoreProperties);"wkt"===r.spatialformat?h.push(r.geoColName):(h.push(r.latColName),h.push(r.lonColName),"latlonelv"===r.spatialformat&&h.push(r.elvColName));var p=void 0!==t[0].properties[r.elvColName]?r.elvColName:null,m=!1,y=function(t){null!=t.id&&""!==t.id&&(m=!0),"wkt"!==r.spatialformat&&"Point"!==t.geometry.type||Object.keys(t.properties).forEach((function(r){if(!r.startsWith("_")&&!u.includes(r)&&!c._ignoreProperties.includes(r)){var n=t.properties[r];if(null!=n&&""!==n){var i=typeof n;n instanceof Date&&(i="date"),c._allowedTypes.has(i)&&(u.push(r),d.push(i)),!p&&e._elevationNames.has(r)&&(p=r)}}}))};try{for(var f=$i(t),g=f.next();!g.done;g=f.next())y(I=g.value)}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var b=new Hi(r.delimiter,r.textQualifier),v=[];if(m&&v.push(r.includeTypesInHeader?"id(string)":"id"),r.includeTypesInHeader){for(var M=0,x=u.length;M<x;M++)v.push("".concat(u[M],"(").concat(d[M],")"));"wkt"===r.spatialformat?v.push("".concat(r.geoColName,"(geography)")):(v.push("".concat(r.latColName,"(number)")),v.push("".concat(r.lonColName,"(number)")),"latlonelv"===r.spatialformat&&v.push("".concat(r.elvColName,"(number)")))}else v=v.concat(u),"wkt"===r.spatialformat?v.push(r.geoColName):(v.push(r.latColName),v.push(r.lonColName),"latlonelv"===r.spatialformat&&v.push(r.elvColName));b.writeRow(v);var S=void 0,w=void 0;try{for(var _=$i(t),T=_.next();!T.done;T=_.next()){var I;if(S=(I=T.value).geometry,"wkt"===r.spatialformat||"Point"===S.type){v=m?[I.id]:[],w=I.properties;try{for(var C=(s=void 0,$i(u)),k=C.next();!k.done;k=C.next()){var L=k.value;v.push(w[L])}}catch(e){s={error:e}}finally{try{k&&!k.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}"wkt"===r.spatialformat?v.push(Bi.write(S)):(v.push(S.coordinates[1]),v.push(S.coordinates[0]),"latlonelv"===r.spatialformat&&(S.coordinates.length>=3?v.push(S.coordinates[2]):void 0!==w[p]?v.push(w[p]):v.push(0))),b.writeRow(v)}}}catch(e){o={error:e}}finally{try{T&&!T.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}return b.toString()}return null},e.validateHeader=function(e,t){if(!e||!e.names||0===e.names.length)return!1;Array.isArray(e.types)||(e.types=[]);for(var r=!1,n=!1,i=!1,o=0,a=e.names.length;o<a;o++){var s=e.names[o].toLowerCase();e.types.length-1>o?e.types[o]=this.validateType(e.types[o],s):e.types.push(this.validateType(null,s)),this._latitudeNames.has(s)?n=!0:this._longitudeNames.has(s)?i=!0:"geography"===e.types[o]&&(r=!0)}if(n&&i||r)return!0;if(t&&t.length>0)for(a=Math.min(e.names.length,t.length),o=0;o<a;o++)if(this._wktRx.test(t[o]))return e.types[o]="geography",!0;return!1},e.validateType=function(e,t){var r;switch((e=e||"").toLowerCase()){case"edm.int64":case"int":case"long":case"edm.double":case"float":case"double":case"number":r="number";break;case"edm.boolean":case"bool":case"boolean":r="boolean";break;case"edm.datetime":case"date":case"datetime":r="date";break;case"edm.geography":case"geography":r="geography";break;default:r="string"}if("geography"!==r){var n=t.toLowerCase();(this._latitudeNames.has(n)||this._longitudeNames.has(n)||this._elevationNames.has(n))&&(r="number")}return r},e.parseHeader=function(e){for(var t,r,n=[],i=[],o=0,a=e.length;o<a;o++){if(t=e[o],r="string",o<a-1&&e[o+1].toLowerCase().startsWith("primarykey)"))t=t.substring(0,t.indexOf("(")),(r=e[o].substring(e[o].indexOf("(")+1)).includes(",")&&(r=r.replace(",","")),o++;else if(this._headerRegex.test(t)){var s=t.match(this._headerRegex);s&&s.length>=3&&(t=s[1],(r=s[2]).includes(",")&&(r=r.substring(0,r.indexOf(","))))}(t=t.trim()).includes(" ")&&(t=t.replace(/\s/g,"_")),n.includes(t)?(t="Column_".concat(o),n.push(t)):n.push(t),i.push(this.validateType(r,t))}return{names:n,types:i}},e.parseRow=function(t,r,n){for(var i,o=null,a={},s=NaN,l=NaN,c=NaN,u=Math.min(t.length,r.names.length),d=0;d<u;d++){switch(i=null,r.types[d]){case"number":if(i=parseFloat(t[d]),Wi.isValidNumber(i)){var h=r.names[d].toLowerCase();this._latitudeNames.has(h)?s=i:this._longitudeNames.has(h)?l=i:this._elevationNames.has(h)&&(c=i)}else i=null;break;case"boolean":i=Wi.parseBoolean(t[d]);break;case"date":i=Li(t[d]);break;case"geography":o=Bi.read(t[d]),i=null;break;default:if(n)if(e._boolRegex.test(t[d]))i="true"===t[d].toLowerCase();else if(e._numRx.test(t[d]))i=parseFloat(t[d]),(h=r.names[d].toLowerCase()).includes("date")&&(i=new Date(i));else{var p=Li(t[d]);i=null!==p?p:t[d]}else i=t[d]}null!=i&&""!==i&&(a[r.names[d]]=i)}if(null!==o&&o.length>0)return{geometry:o[0],properties:a,type:"Feature"};if(Wi.isValidNumber(s)&&Wi.isValidNumber(l)){var m=[l,s];return Wi.isValidNumber(c)&&m.push(c),{geometry:{coordinates:m,type:"Point"},properties:a,type:"Feature"}}return null},e.checkIds=function(e){return e.some((function(e){return null!=e.id&&""!==e.id}))},e._latitudeNames=new Set(["latitude","lat","latdd","lat_dd","latitude83","latdecdeg","y","ycenter","point-y"]),e._longitudeNames=new Set(["longitude","lon","lng","long","longdd","long_dd","longitude83","longdecdeg","x","xcenter","point-x"]),e._elevationNames=new Set(["elevation","elv","altitude","alt","z"]),e._headerRegex=/^\s*([a-zA-Z0-9_]+)\(([a-zA-Z0-9\.,]+)\)\s*$/,e._boolRegex=/^\s*(true|false)\s*$/i,e._numRx=/^\s*[0-9]+\s*$/,e._wktRx=/^\s*(point|linestring|polygon|multipoint|multilinestring|multipolygon|geometrycollection)[z]?[m]?\s*\(/i,e._allowedTypes=new Set(["string","number","date","boolean"]),e._ignoreProperties=["image","imageUrl"],e}(),to=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ro=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prettyPrint=!0,t.roundPositions=!1,t.newLineChars="\r\n",t.indentChars="\t",t.writeIds=!1,t}return to(t,e),t}(Ji),no=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.includeNamespace=!0,t.customNamespace=void 0,t.srsName="urn:ogc:def:crs:EPSG::4326",t.includeSrsName=!1,t}return no(t,e),t}(ro),oo=function(){function e(e,t,r){this._indentChars="\t",this._indentLevel=0,this._newLineChars="\r\n",this._prettyPrint=!1,this.clear(),"boolean"==typeof e&&(this._prettyPrint=e),Wi.isValidString(t)&&(this._newLineChars=t),Wi.isValidString(r)&&(this._indentChars=r),this._endsWithNewLineIndentRx=new RegExp("(".concat(this._newLineChars,"|").concat(this._indentChars,")$"))}return e.prototype.clear=function(){this._indentLevel=0,this._xmlDocStringBuilder=[],this._tagNameStack=[]},e.prototype.writeStartDocument=function(e,t,r){return("boolean"!=typeof e||e)&&(this._xmlDocStringBuilder.push('<?xml version="1.0" standalone="'.concat(r?"yes":"no",'" ')+'encoding="'.concat(t||"UTF-8",'"?>')),this._prettyPrint&&this._xmlDocStringBuilder.push(this._newLineChars)),this},e.prototype.writeEndDocument=function(e){for(var t=this._tagNameStack.length;t>0;t--)this.writeEndElement();return"boolean"==typeof e&&!e&&this._xmlDocStringBuilder.length>0&&this._xmlDocStringBuilder[this._xmlDocStringBuilder.length-1]===this._newLineChars&&this._xmlDocStringBuilder.length--,this},e.prototype.writeStartElement=function(e,t,r,n){var i=this;return n||(this._indentLevel++,this._writeNewLineAndIndent()),this._xmlDocStringBuilder.push("<".concat(e)),t&&(this._xmlDocStringBuilder.push(" "),Object.keys(t).forEach((function(e){t[e]&&i._xmlDocStringBuilder.push("".concat(e,'="').concat(t[e].toString(),'"')," ")}))," "===this._xmlDocStringBuilder[this._xmlDocStringBuilder.length-1]&&this._xmlDocStringBuilder.pop()),r?(this._xmlDocStringBuilder.push("/>"),n||this._indentLevel--):(this._xmlDocStringBuilder.push(">"),this._tagNameStack.push(e)),this},e.prototype.writeEndElement=function(e){var t=this._tagNameStack.pop();return t&&(e||this._writeNewLineAndIndent(),this._xmlDocStringBuilder.push("</".concat(t,">")),this._indentLevel--),this},e.prototype.writeElement=function(e,t,r){return this.writeStartElement(e,r).writeValue(t).writeEndElement(!0)},e.prototype.writeValue=function(t){var r=this;return"string"==typeof t?t.includes("<![CDATA[")?this._xmlDocStringBuilder.push(t):Wi.containsHtmlRx.test(t)?this._xmlDocStringBuilder.push("<![CDATA[".concat(t,"]]>")):this._xmlDocStringBuilder.push(this._escapeSpecialChars(t)):t instanceof Date?this._xmlDocStringBuilder.push(t.toISOString()):"boolean"==typeof t||"number"==typeof t?this._xmlDocStringBuilder.push(t.toString()):Array.isArray(t)?this._xmlDocStringBuilder.push(t.join(",")):t instanceof e?this._xmlDocStringBuilder.push(t.toString()):t instanceof Object&&Object.keys(t).forEach((function(e){r.writeElement(e,t[e])})),this},e.prototype.writeString=function(e,t){return t?this.writeValue(e):this._xmlDocStringBuilder.push(e),this},e.prototype.writeCDataContent=function(e){return e.includes("<![CDATA[")?this._xmlDocStringBuilder.push(e):this._xmlDocStringBuilder.push("<![CDATA[".concat(e,"]]>")),this},e.prototype.writeComment=function(e){return this._xmlDocStringBuilder.push("\x3c!--".concat(e,"--\x3e")),this},e.prototype.toString=function(){return this.writeEndDocument(),this._xmlDocStringBuilder.join("")},e.prototype._writeNewLineAndIndent=function(){if(this._prettyPrint&&!this._endsWithNewLineIndent()){this._xmlDocStringBuilder.push(this._newLineChars);for(var e=0;e<this._indentLevel;e++)this._xmlDocStringBuilder.push(this._indentChars)}},e.prototype._endsWithNewLineIndent=function(){if(this._xmlDocStringBuilder.length>0){var e=this._xmlDocStringBuilder[this._xmlDocStringBuilder.length-1];return this._endsWithNewLineIndentRx.test(e)}return!1},e.prototype._escapeSpecialChars=function(e){return Wi.containsSpecialCharRx.test(e)&&(e=Wi.escapeHtml(Wi.unescapeHTML(e))),e},e}(),ao=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},so=function(){function e(){}return e.write=function(e,t,r){var n,i,o,a=null,s="gml:",l=!0,c=!1,u=(t=(new io).merge(t)).srsName;if(t.includeSrsName||(u=void 0),r="boolean"==typeof r&&r,t.includeNamespace&&(a={xmlns:"http://www.opengis.net/gml"},s=""),"boolean"==typeof t.prettyPrint&&(l=t.prettyPrint),t.customNamespace){null===a&&(a={});var d=t.customNamespace;d.prefix&&d.namespaceUrl&&d.tagNames&&d.tagNames.length>0&&(d.prefix.includes(":")&&(d.prefix=d.prefix.replace(":","")),a["xmlns:"+d.prefix]=d.namespaceUrl,d.prefix+=":",o=d)}var h=new oo(l,t.newLineChars,t.indentChars);if(h.writeStartDocument(r),"FeatureCollection"===e.type||e.features&&Array.isArray(e.features)){s="gml:";var p=e;h.writeStartElement("gml:FeatureCollection",{"xmlns:gml":"http://www.opengis.net/gml"},null,!0),p.properties&&this._writeMetadata(p.properties,h,s,o),p.bbox&&p.bbox.length>=4&&(h.writeStartElement("gml:boundedBy"),this._writeBBox(p.bbox,h,u,t.roundPositions,!0),h.writeEndElement());try{for(var m=ao(p.features),y=m.next();!y.done;y=m.next()){var f=y.value;h.writeStartElement("gml:featureMember"),this._writeFeature(f,h,s,o,t.writeIds&&f.id?{"gml:id":f.id}:{},!1,c,u),h.writeEndElement()}}catch(e){n={error:e}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}h.writeEndElement()}else"Feature"===e.type?this._writeFeature(e,h,s,o,a,!0,c,u):this._writeGeometry(e,h,s,a,!0,c,null,u);return h.writeEndDocument(r),h.toString()},e._writeGeometry=function(e,t,r,n,i,o,a,s){(n=n||{}).srsName||(n.srsName=s),this._writeGeometryByParts(e.type,e.coordinates,t,r,n,i,o,a)},e._writeBBox=function(e,t,r,n,i){var o={},a="gml:";i||(a="",o.xmlns="http://www.opengis.net/gml"),r&&(o.srsName=r),t.writeStartElement(a+"Envelope",o),n&&(e=Wi.roundBBox(e,6)),t.writeElement(a+"lowerCorner","".concat(e[1].toString()," ").concat(e[0].toString()));var s=e[3],l=e[2];e.length>=6&&(s=e[4],l=e[3]),t.writeElement(a+"upperCorner","".concat(s.toString()," ").concat(l.toString())),t.writeEndElement()},e._writeFeature=function(e,t,r,n,i,o,a,s){n?(t.writeStartElement(n.prefix+n.featureTagName,i),this._writeMetadata(e.properties,t,r,n),t.writeStartElement(n.prefix+n.geometryTagName),this._writeGeometry(e.geometry,t,r,null,o,a,e.properties,s),t.writeEndElement().writeEndElement()):this._writeGeometry(e.geometry,t,r,i,o,a,e.properties,s)},e._writeMetadata=function(e,t,r,n){e&&Object.keys(e).forEach((function(i){var o=e[i];if(Wi.isValidString(o))switch(i){case"name":case"description":case"identifier":t.writeElement(r+i,o);break;case"title":e.name&&""!==e.name||t.writeElement(r+"name",o);break;case"desc":e.description&&""!==e.description||t.writeElement(r+"description",o);break;default:n&&n.tagNames&&n.tagNames.includes(i)&&t.writeElement(n.prefix+i,o)}}))},e._writeGeometryByParts=function(e,t,r,n,i,o,a,l){switch(e){case"Point":if(l&&"Circle"===l.subType&&Wi.isValidNumber(l.radius)&&l.radius>0){var c=s.math.getRegularPolygonPath(t,l.radius,72,"meters");this._writeGeometryByParts("Polygon",[c],r,n,i,o,a)}else this._writePoint(t,r,n,i,o,a);break;case"LineString":this._writeLineString(t,r,n,i,o,a);break;case"Polygon":this._writePolygon(t,r,n,i,o,a);break;case"MultiPoint":case"MultiLineString":case"MultiPolygon":this._writeMultiGeometryByParts(e,t,r,n,i,o,a)}},e._writePoint=function(e,t,r,n,i,o){t.writeStartElement(r+"Point",n,!1,i).writeStartElement(r+"pos"),this._writeCoordinateValue(e,t,o),t.writeEndElement(!0).writeEndElement()},e._writeLineString=function(e,t,r,n,i,o){t.writeStartElement(r+"LineString",n,!1,i),this._writeCoordinates(e,!1,t,r,o),t.writeEndElement()},e._writePolygon=function(e,t,r,n,i,o){if(t.writeStartElement(r+"Polygon",n,!1,i),Wi.closeRing(e[0]),t.writeStartElement(r+"exterior").writeStartElement(r+"LinearRing"),this._writeCoordinates(e[0],!0,t,r,o),t.writeEndElement().writeEndElement(),e.length>1)for(var a=1,s=e.length;a<s;a++)Wi.closeRing(e[a]),t.writeStartElement(r+"interior").writeStartElement(r+"LinearRing"),this._writeCoordinates(e[a],!0,t,r,o),t.writeEndElement().writeEndElement();t.writeEndElement()},e._writeMultiGeometryByParts=function(e,t,r,n,i,o,a){var s,l,c,u;switch(e){case"MultiPoint":r.writeStartElement(n+"MultiPoint",i,!1,o),c=n+"pointMember",u="Point";break;case"MultiLineString":r.writeStartElement(n+"MultiLineString",i,!1,o),c=n+"lineStringMember",u="LineString";break;case"MultiPolygon":r.writeStartElement(n+"MultiPolygon",i,!1,o),c=n+"polygonMember",u="Polygon"}if(u){try{for(var d=ao(t),h=d.next();!h.done;h=d.next()){var p=h.value;r.writeStartElement(c),this._writeGeometryByParts(u,p,r,n,null,!1,a),r.writeEndElement()}}catch(e){s={error:e}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}r.writeEndElement()}},e._writeCoordinateValue=function(e,t,r){r&&(e=Wi.roundPosition(e,6)),t.writeString(e[1].toString()).writeString(" ").writeString(e[0].toString())},e._writeCoordinates=function(e,t,r,n,i){if(null!=e){r.writeStartElement(n+"posList"),t&&e.length>=3&&!s.data.Position.areEqual(e[0],e[e.length-1])&&e.push(e[0]);for(var o=0,a=e.length;o<a;o++)this._writeCoordinateValue(e[o],r,i),o<a-1&&r.writeString(" ");r.writeEndElement(!0)}},e}(),lo=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},co=function(){function e(){}return e.readContent=function(e){var t=e.value;if(e.attributes&&e.attributes.type)switch(e.attributes.type){case"html":case"xhtml":return e.value}return t},e.writeAuthor=function(e,t,r){var n,i;if(e){var o="";if(r&&(o="atom:"),Array.isArray(e))try{for(var a=lo(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.writeAuthor(l,t,r)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else Wi.isValidString(e)?t.writeStartElement(o+"author").writeElement(o+"name",e).writeEndElement():(t.writeStartElement(o+"author"),e.name&&t.writeElement(o+"name",e.name),e.uri&&t.writeElement(o+"uri",e.uri),e.email&&t.writeElement(o+"email",e.email),t.writeEndElement())}},e.writeCategory=function(e,t,r){var n,i;if(e){var o="";if(r&&(o="atom:"),Array.isArray(e))try{for(var a=lo(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.writeCategory(l,t,r)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else Wi.isValidString(e)?t.writeStartElement(o+"category",{term:e},!0):Wi.isValidString(e.term)&&t.writeStartElement(o+"category",e,!0)}},e.writeContributor=function(e,t,r){var n,i;if(e){var o="";if(r&&(o="atom:"),Array.isArray(e))try{for(var a=lo(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.writeContributor(l,t,r)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else Wi.isValidString(e)?t.writeStartElement(o+"contributor").writeElement(o+"name",e).writeEndElement():(t.writeStartElement(o+"contributor"),e.name&&t.writeElement(o+"name",e.name),e.uri&&t.writeElement(o+"uri",e.uri),e.email&&t.writeElement(o+"email",e.email),t.writeEndElement())}},e.writeLink=function(e,t,r){var n,i;if(e){var o="";if(r&&(o="atom:"),Array.isArray(e))try{for(var a=lo(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.writeLink(l,t,r)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else Wi.isValidString(e)?t.writeStartElement(o+"link",{href:e},!0):Wi.isValidString(e.href)&&t.writeStartElement(o+"link",e,!0)}},e}(),uo=function(){function e(){}return e.write=function(e,t){t=(new io).merge(t);var r=new oo(t.prettyPrint,t.newLineChars,t.indentChars);return this._writeGeoRssDoc(e,r,t),r.toString()},e._writeGeoRssDoc=function(e,t,r){if(t.writeStartDocument(!0).writeStartElement("feed",{xmlns:"http://www.w3.org/2000/xmlns/","xmlns:georss":"http://www.georss.org/georss","xmlns:gml":"http://www.opengis.net/gml"},!1,!0),e){e.properties&&Object.keys(e.properties).length>0&&this._writeMetadata(e,t,!1);var n=zi.getBounds(e);n&&this._writeBounds(n,t,r),this._writeShapes(e.features,t,r,e.icons||{})}t.writeEndElement().writeEndDocument()},e._writeShapes=function(e,t,r,n){var i,o;try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=a.next();!s.done;s=a.next()){var l=s.value;this._writeShape(l,t,r,n)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e._writeShape=function(e,t,r,n){t.writeStartElement("entry"),this._writeMetadata(e,t,r.writeIds);var i=e.properties||{};if("Point"===e.geometry.type||"MultiPoint"===e.geometry.type){var o=null;if(Wi.isValidString(i.image)){var a=n[i.image];Wi.isUrl(a)?o=a:Wi.isUrl(i.image)&&(o=i.image)}o||(Wi.isUrl(i.imageUrl)&&Wi.isUrl(i.imageUrl)?o=i.imageUrl:Wi.isUrl(i.icon)&&(o=i.icon)),o&&t.writeElement("icon",o)}var s=!1;switch(e.geometry.type){case"Point":var l=e.geometry.coordinates;e.properties&&"Circle"===e.properties.subType&&Wi.isValidNumber(e.properties.radius)&&e.properties.radius>0?(t.writeStartElement("georss:circle"),this._writeCoordinateValue(l,t,r),t.writeString(" ").writeString(e.properties.radius.toString()),t.writeEndElement(!0)):(t.writeStartElement("georss:point"),this._writeCoordinateValue(l,t,r),t.writeEndElement(!0)),Wi.isValidNumber(i.elev)||(l.length>=3?t.writeElement("georss:elev",i[2]):Wi.isValidNumber(i.ele)?t.writeElement("georss:elev",i.ele):Wi.isValidNumber(i.elevation)&&t.writeElement("georss:elev",i.elevation));break;case"LineString":var c=e.geometry.coordinates;c.length>0&&(2===c[0].length?(t.writeStartElement("georss:line"),this._writeCoordinates(c,t,r),t.writeEndElement(!0)):s=!0);break;case"Polygon":var u=e.geometry.coordinates;if(u.length>0){var d=e.geometry.coordinates[0];d.length>0&&(1===u.length&&2===d[0].length?(Wi.closeRing(d),t.writeStartElement("georss:polygon"),this._writeCoordinates(d,t,r),t.writeEndElement(!0)):s=!0)}break;default:s=!0}s&&(t.writeStartElement("georss:where"),so._writeGeometry(e.geometry,t,"gml:",null,null,null,null,"EPSG:4326"),t.writeEndElement()),t.writeEndElement(!1)},e._writeCoordinateValue=function(e,t,r){e&&e.length>=2&&(r.roundPositions&&(e=Wi.roundPosition(e,6)),t.writeString(e[1].toString()).writeString(" ").writeString(e[0].toString()))},e._writeCoordinates=function(e,t,r){if(null!=e)for(var n=0,i=e.length;n<i;n++)this._writeCoordinateValue(e[n],t,r),n<i-1&&t.writeString(" ")},e._writeMetadata=function(e,t,r){var n=this,i=e.properties;if(i){if(r){var o=e.id;o||(i.id?o=i.id:i.id&&(o=i.guid)),o&&t.writeElement("id",o)}Object.keys(i).forEach((function(e){if("id"!==e&&"guid"!==e){var r=i[e];r&&n._writeMetdataValue(e,r,i,t)}}))}},e._writeMetdataValue=function(e,t,r,n){var i=this;switch(e){case"title":case"content":case"id":case"logo":case"published":case"subtitle":case"summary":case"updated":t&&n.writeElement(e,t);break;case"name":t&&!r.title&&n.writeElement("title",t);break;case"description":t&&!r.content&&n.writeElement("content",t);break;case"desc":!t||r.content||r.description||n.writeElement("content",t);break;case"copyright":t&&!r.rights&&n.writeElement("rights",t);break;case"lastBuildDate":!t||r.timestamp||r.updated||n.writeElement("updated",t);break;case"timestamp":t&&!r.updated&&n.writeElement("updated",t);break;case"pubDate":t&&!r.published&&n.writeElement("published",t);break;case"featuretypetag":case"relationshiptag":case"featurename":case"elev":case"floor":n.writeElement("georss:"+e,t);break;case"radius":"Circle"!==r.subType&&n.writeElement("georss:"+e,t);break;case"author":co.writeAuthor(t,n,!1);break;case"link":co.writeLink(t,n,!1);break;case"category":co.writeCategory(t,n,!1);break;case"contributor":case"managingEditor":co.writeContributor(t,n,!1);break;case"source":n.writeStartElement(e),Wi.isValidString(t.url)?co.writeLink(t.url,n,!1):Object.keys(t).forEach((function(e){i._writeMetdataValue(e,t[e],r,n)})),n.writeEndElement()}},e._writeBounds=function(e,t,r){e&&(r.roundPositions&&(e=Wi.roundBBox(e,6)),t.writeStartElement("georss:box").writeString(s.data.BoundingBox.getSouth(e).toString()).writeString(" ").writeString(s.data.BoundingBox.getWest(e).toString()).writeString(" ").writeString(s.data.BoundingBox.getNorth(e).toString()).writeString(" ").writeString(s.data.BoundingBox.getEast(e).toString()).writeEndElement(!0))},e}(),ho=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},po=function(){function e(){}return e.write=function(e,t){t=(new ro).merge(t);var r=new oo(t.prettyPrint,t.newLineChars,t.indentChars);return this._writeGpxDoc(e,r,t),r.toString()},e._writeGpxDoc=function(e,t,r){t.writeStartDocument(!0).writeStartElement("gpx",{version:"1.1",xmlns:"http://www.topografix.com/GPX/1/1","xmlns:gpx_style":"http://www.topografix.com/GPX/gpx_style/0/2","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd http://www.topografix.com/GPX/gpx_style/0/2 http://www.topografix.com/GPX/gpx_style/0/2/gpx_style.xsd"},!1,!0),e&&(this._writeXmlDocMetadata(e,t,r),this._writeShapes(e.features,t,r)),t.writeEndElement().writeEndDocument()},e._writeXmlDocMetadata=function(e,t,r){if(e&&(e.features&&e.features.length>0||e.properties&&Object.keys(e.properties).length>0)){if(t.writeStartElement("metadata"),!e.properties.bounds)if(e.bbox)e.properties.bounds=e.bbox;else{var n=zi.getBounds(e);n&&this._writeBounds(n,t,r),e.properties.bounds=n}this._writeMetadata(e,t,r),t.writeEndElement()}},e._writeShapes=function(e,t,r){var n,i;if(Array.isArray(e))try{for(var o=ho(e),a=o.next();!a.done;a=o.next()){var s=a.value;this._writeShape(s,t,r)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e._writeShape=function(e,t,r){if(e.geometry)switch(e.geometry.type){case"Point":this._writeWaypoint(e,t,r);break;case"LineString":this._writeRoute(e,t,r);break;case"MultiPoint":this._writeMultiPoint(e,t,r);break;case"MultiLineString":this._writeTrack(e,t,r)}},e._writeWaypoint=function(e,t,r){var n=e.geometry.coordinates;n.length>=2&&(r.roundPositions&&(n=Wi.roundPosition(n,6)),t.writeStartElement("wpt",{lat:n[1],lon:n[0]}),e.properties&&"number"!=typeof e.properties.ele&&n.length>=3&&t.writeElement("ele",n[2]),this._writeMetadata(e,t,r),t.writeEndElement())},e._writeMultiPoint=function(e,t,r){for(var n=e.geometry.coordinates,i=0,o=n.length;i<o;i++)r.roundPositions&&(n[i]=Wi.roundPosition(n[i],6)),t.writeStartElement("wpt",{lat:n[i][1],lon:n[i][0]}),e.properties&&"number"!=typeof e.properties.ele&&n[i].length>=3&&t.writeElement("ele",n[i][2]),this._writeMetadata(e,t,r),t.writeEndElement()},e._writeRoute=function(e,t,r){t.writeStartElement("rte"),this._writeMetadata(e,t,r);var n=e.geometry.coordinates,i=!1;e.properties&&e.properties.waypoints&&e.properties.waypoints.length===n.length&&(i=!0);for(var o=0,a=n.length;o<a;o++)r.roundPositions&&(n[o]=Wi.roundPosition(n[o],6)),t.writeStartElement("rtept",{lat:n[o][1],lon:n[o][0]}),i?("number"!=typeof e.properties.ele&&n[o].length>=3&&t.writeElement("ele",n[2]),this._writeMetadata(e.properties.waypoints[o],t,r)):n[o].length>=3&&t.writeElement("ele",n[o][2]),t.writeEndElement();t.writeEndElement()},e._writeTrack=function(e,t,r){var n,i;t.writeStartElement("trk"),this._writeMetadata(e,t,r);var o=e.geometry.coordinates,a=!1,s=0;try{for(var l=ho(o),c=l.next();!c.done;c=l.next())s+=c.value.length}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}e.properties&&e.properties.waypoints&&s===o.length&&(a=!0);for(var u=0,d=o.length;u<d;u++){t.writeStartElement("trkseg");for(var h=0,p=o[u].length;h<p;h++){var m=o[u][h];r.roundPositions&&(m=Wi.roundPosition(m,6)),t.writeStartElement("trkpt",{lat:m[1],lon:m[0]}),a?("number"!=typeof e.properties.ele&&m.length>=3&&t.writeElement("ele",m[2]),this._writeMetadata(e.properties.waypoints[u],t,r)):m.length>=3&&t.writeElement("ele",m[2]),t.writeEndElement()}t.writeEndElement()}t.writeEndElement()},e._writeMetadata=function(e,t,r){var n=this;if(e){var i=!1,o=e;if("Feature"===o.type&&"Point"===o.geometry.type&&o.geometry.coordinates.length>=3&&(!e.properties||"number"!=typeof e.properties.ele)&&(t.writeElement("ele",o.geometry.coordinates[2]),i=!0),e.properties){var a,s=e.properties;Object.keys(s).forEach((function(e){switch(e.toLowerCase()){case"name":case"desc":case"cmt":case"src":case"sym":case"type":case"keywords":case"fix":Wi.isValidString(s[e])&&t.writeElement(e,s[e]);break;case"description":Wi.isValidString(s.desc)||t.writeElement("desc",s[e]);break;case"title":Wi.isValidString(s.name)||t.writeElement("name",s[e]);break;case"bounds":Array.isArray(s[e])&&n._writeBounds(s[e],t,r);break;case"magvar":case"geoidheight":case"hdop":case"vdop":case"pdop":case"ageofdgpsdata":case"sat":case"dgpsid":case"ele":Wi.isValidNumber(s[e])&&t.writeElement(e,s[e]);break;case"height":!i&&void 0===s.ele&&Wi.isValidNumber(s[e])&&t.writeElement("ele",s[e]);break;case"time":a=s[e],s[e].when&&(a=s[e].when);break;case"timestamp":case"updated":case"lastbuilddate":case"pubdate":case"published":a||(a=s[e],s[e].when&&(a=s[e].when));break;case"author":if(t.writeStartElement("author"),Wi.isValidString(s[e]))t.writeElement("name",s[e]);else{if(s[e].name&&t.writeElement("name",s[e].name),s[e].email)if("string"==typeof s[e].email&&s[e].email.includes("@")){var o=s[e].email.split("@");o.length>=2&&t.writeStartElement("email",{domain:o[1],id:o[0]},!0)}else s[e].email.id&&s[e].email.domain&&t.writeStartElement("email",{domain:s[e].email.domain,id:s[e].email.id},!0);s[e].link&&n._writeLink(s[e].link,t)}t.writeEndElement();break;case"copyright":s.copyright&&(Wi.isValidString(s.copyright)?t.writeStartElement("copyright").writeElement("license",s.copyright).writeEndElement():(s.copyright.author||s.copyright.year||s.copyright.license)&&(s.author?t.writeStartElement("copyright",{author:s.author}):t.writeStartElement("copyright"),s.year&&t.writeElement("year",s.year),s.license&&t.writeElement("license",s.license),t.writeEndElement()));break;case"link":n._writeLink(s[e],t)}}));var l=null;if(Wi.isValidString(a)){var c=Date.parse(a);c&&(l=new Date(c))}else Wi.isValidNumber("number"===a)&&(l=new Date(l));l&&l instanceof Date&&t.writeElement("time",l),"Feature"!==o.type||"LineString"!==o.geometry.type&&"MultiLineString"!==o.geometry.type||this._writeLineStyleExtension(s,t)}}},e._writeLink=function(e,t){e&&(Wi.isValidString(e)?t.writeStartElement("link",{href:e},!0):Wi.isValidString(e.href)&&(t.writeStartElement("link",{href:e.href}),Wi.isValidString(e.text)?t.writeElement("text",e.text):Wi.isValidString(e.title)&&t.writeElement("text",e.title),Wi.isValidString(e.type)&&t.writeElement("type",e.type),t.writeEndElement()))},e._writeBounds=function(e,t,r){e&&(r.roundPositions&&(e=Wi.roundBBox(e,6)),t.writeStartElement("bounds",{maxlat:s.data.BoundingBox.getNorth(e),maxlon:s.data.BoundingBox.getEast(e),minlat:s.data.BoundingBox.getSouth(e),minlon:s.data.BoundingBox.getWest(e)},!0))},e._writeLineStyleExtension=function(e,t){(Wi.isValidString(e.strokeColor)||Wi.isValidNumber(e.strokeWidth))&&(t.writeStartElement("extensions"),t.writeStartElement("gpx_style:line"),""!==e.strokeColor&&this._writeColor(e.strokeColor,t),e.strokeWidth>0&&t.writeElement("gpx_style:width",e.strokeWidth/Wi.mmPerPixelGpx),t.writeEndElement().writeEndElement())},e._writeColor=function(e,t){if(Wi.isValidString(e)){t.writeElement("gpx_style:color",Wi.colorToHex(e));var r=Wi.colorToRgbaArray(e);1!==r[3]&&t.writeElement("gpx_style:opacity",r[3])}},e}(),mo=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},yo=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},fo=function(){function e(){this._images=[],this._idLookup={},this._failedUrls=new Set}return e.prototype.addImage=function(t,r,n,i){return mo(this,void 0,void 0,(function(){var o,a,s;return yo(this,(function(l){switch(l.label){case 0:return t&&(t=t.replace("root://","").replace(/&amp;/g,"&"))?this._failedUrls.has(t)?[2,null]:(o=void 0,n?[3,6]:(r&&(o=this.getImage(r)),o||(o=this.getImage(t))?[2,o]:t.startsWith("data:")?[4,e._tryLoadImage(t)]:[3,2])):[3,7];case 1:return o=l.sent(),[3,6];case 2:return a=Wi.parseURL(t),""===(s=a.protocol+a.hostName)?[3,6]:e._noCorsDomains.has(s)?[3,4]:[4,e._tryLoadImage(t)];case 3:(o=l.sent())&&o.noCors&&(e._noCorsDomains.add(s),o=null),l.label=4;case 4:return!o&&a.protocol&&""!==a.protocol&&i?[4,e._tryLoadImage(t,i)]:[3,6];case 5:o=l.sent(),l.label=6;case 6:if(o||(o=e._tryGetFallbackColor(t),r&&(o||(o=e._tryGetFallbackColor(r)),this._idLookup[r]=this._images.length,o&&(o.id=r))),o)return o.url&&(r?o.id=r:r=o.url),this._idLookup[r]=this._images.length,r!==o.id&&(this._idLookup[o.id]=this._idLookup[r]),this._images.push(o),[2,o];this._failedUrls.add(t),l.label=7;case 7:return[2,null]}}))}))},e.prototype.getImage=function(e){e=e.replace("root://","");var t=this._idLookup[e];return t>=0?this._images[t]:null},e.prototype.getIcons=function(){var e={};return this._images.forEach((function(t){t.isIcon&&t.url&&(e[t.id]=t.url)})),e},e.prototype.getAllImages=function(){return this._images},e.prototype.isCorsEnabledDomain=function(e){return mo(this,void 0,void 0,(function(){var t,r;return yo(this,(function(n){switch(n.label){case 0:if(!Wi.isValidString(e))return[3,8];n.label=1;case 1:if(n.trys.push([1,7,,8]),t=Wi.parseURL(e),""===(r=t.protocol+t.hostName)||this._failedUrls.has(r))return[3,6];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,Wi.ajaxGetAsync(e,null,null,!0,"image")];case 3:return n.sent()?[2,!0]:[3,5];case 4:return n.sent(),[3,5];case 5:this._failedUrls.add(r),n.label=6;case 6:return[3,8];case 7:return n.sent(),[3,8];case 8:return[2,!1]}}))}))},e._tryLoadImage=function(e,t){return mo(this,void 0,void 0,(function(){var r,n,i,o,a,s;return yo(this,(function(l){switch(l.label){case 0:return l.trys.push([0,8,,9]),r={id:e,url:t?t+encodeURIComponent(e):e},[4,Wi.ajaxGetAsync(e,t,null,!0,"image")];case 1:if(!((n=l.sent())instanceof ArrayBuffer&&createImageBitmap))return[3,6];l.label=2;case 2:return l.trys.push([2,4,,5]),(i=Wi.arrayBufferToString(n,10).toLowerCase()).startsWith("png")?r.type="PNG":i.startsWith("jpg")||i.startsWith("jpeg")?r.type="JPG":i.startsWith("bmp")?r.type="BMP":i.startsWith("gif")&&(r.type="GIF"),[4,createImageBitmap(new Blob([n]))];case 3:return o=l.sent(),r.height=o.height,r.width=o.width,[3,5];case 4:return l.sent(),[3,5];case 5:return[3,7];case 6:return[2,null];case 7:return[2,r];case 8:return a=l.sent(),s=void 0,"string"==typeof a?s=a:a instanceof Error&&(s=a.message),s&&s.includes("CORs")?[2,{noCors:!0}]:[2,null];case 9:return[2]}}))}))},e._tryGetFallbackColor=function(e){if(e){var t=Wi.parseURL(e);if(t.fileName){var r=t.fileName.toLowerCase();r.indexOf(".")>0&&(r=r.substr(0,r.lastIndexOf(".")));var n=Wi.cssColorNames[r];if(!n){var i=r.indexOf("-"),o=1;if(-1===i&&(i=r.indexOf(", "),o=2),i>-1&&i<r.length-o){var a=r.substr(0,i),s=r.substr(i+o);(n=Wi.cssColorNames[a])||(n=Wi.cssColorNames[s])}}if(n)return{color:n}}}return null},e._noCorsDomains=new Set,e}(),go=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},bo=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},vo=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Mo=function(){function e(e,t){this._styleIdIndex=0,this._embeddedImageIdx=0,this._embeddedImageMap={},this._schemaInfo={},this._schemaName="CustomSchemaType",this._displayNames={},this._popupTemplatePlaceholder=/\{([-a-zA-Z0-9_]+)((\/?)([-a-zA-Z0-9_]+))*\}/gi,this._options=(new ro).merge(e),this._imageManager=new fo,t&&(this._parentKmz=t)}return e.prototype.write=function(e){return go(this,void 0,void 0,(function(){var t;return bo(this,(function(r){switch(r.label){case 0:return this._styleIdIndex=0,this._styles={},this._styleHashIds={},e?(t=new oo(this._options.prettyPrint,this._options.newLineChars,this._options.indentChars),[4,this._writeKmlDoc(e,t)]):[3,2];case 1:return r.sent(),[2,t.toString()];case 2:return[2,null]}}))}))},e.prototype._writeKmlDoc=function(e,t){return go(this,void 0,void 0,(function(){var r,n;return bo(this,(function(i){switch(i.label){case 0:if(t.writeStartDocument(!0).writeStartElement("kml",{xmlns:"http://www.opengis.net/kml/2.2","xmlns:atom":"http://www.w3.org/2000/xmlns/","xmlns:gx":'http://www.google.com/kml/ext/2.2"'},!1,!0),t.writeStartElement("Document"),!e)return[3,2];if(e.properties&&Object.keys(e.properties).length>0&&this._writeMetadata(e,t),(r=zi.getBounds(e))&&this._writeBounds(r,t),this._icons=e.icons||{},e._groundOverlayOptions&&e._groundOverlayOptions.length>0)for(n=e._groundOverlayOptions.length-1;n>=0;n--)this._writeGroundOverlay(e._groundOverlayOptions[n],t);return e.features&&e.features.length>0?(e.features=e.features.reverse(),[4,this._processStyles(e.features,t)]):[3,2];case 1:i.sent(),this._writeShapes(e.features,t),i.label=2;case 2:return t.writeEndElement().writeEndElement().writeEndDocument(),[2]}}))}))},e.prototype._processStyles=function(e,t){return go(this,void 0,void 0,(function(){var r,n,i,o,a,s;return bo(this,(function(l){switch(l.label){case 0:if(this._combineStylesSchema(e),!this._styles)return[3,8];l.label=1;case 1:l.trys.push([1,6,7,8]),r=vo(Object.keys(this._styles)),n=r.next(),l.label=2;case 2:return n.done?[3,5]:(i=n.value,[4,this._writeStyle(this._styles[i],t,i)]);case 3:l.sent(),l.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return o=l.sent(),a={error:o},[3,8];case 7:try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}return[7];case 8:return this._processSchemaInfo(t),[2]}}))}))},e.prototype._writeShapes=function(e,t){var r,n;try{for(var i=vo(e),o=i.next();!o.done;o=i.next()){var a=o.value;this._writePlacemark(a,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype._writeMetadata=function(e,t){var r=e.properties;if(r){("boolean"==typeof r.visibility&&!r.visibility||"boolean"==typeof r.visible&&!r.visible)&&t.writeElement("visibility","0");var n,i={},o=!1;Object.keys(r).forEach((function(a){var s=r[a];switch(a.toLowerCase()){case"name":s&&t.writeElement("name",s);break;case"title":r.name||t.writeElement("name",s);break;case"description":r.description&&t.writeElement(a,s);break;case"desc":r.description||t.writeElement("description",s);break;case"atom:name":case"address":case"phonenumber":case"snippet":t.writeElement(a,s);break;case"open":0!==s&&!1!==s||t.writeElement(a,"0");break;case"author":co.writeAuthor(s,t,!0);break;case"link":co.writeLink(s,t,!0);break;case"timestamp":s&&""!==s&&(n=s,s.when&&(n=s.when));break;case"time":case"updated":case"lastbuilddate":case"pubdate":case"published":!n&&s&&""!==s&&(n=s,s.when&&(n=s.when));break;case"timespan":s&&(s.begin instanceof Date||s.end instanceof Date)&&(t.writeStartElement("TimeStamp"),s.begin&&t.writeElement("begin",s.begin),s.end&&t.writeElement("end",s.end),t.writeEndElement());break;case"addressdetails":case"id":case"guid":break;case"height":"Polygon"!==e.type&&"MultiPolygon"!==e.type&&(i[a]=s,o=!0);break;default:Wi.ignoreProperty(a,s)||(i[a]=s,o=!0)}}));var a=null;if(Wi.isValidString(n)){var s=Date.parse(n);s&&(a=new Date(s))}else Wi.isValidNumber(n)&&(a=new Date(n));a&&a instanceof Date&&t.writeStartElement("TimeStamp").writeElement("when",a).writeEndElement(),o&&this._writeExtendedData(i,t)}},e.prototype._writeExtendedData=function(e,t){var r=this;if(e){t.writeStartElement("ExtendedData");var n=!1;Object.keys(e).forEach((function(i){if(r._schemaInfo[i]){var o=e[i],a=void 0;o instanceof Object&&!(o instanceof Date)?void 0!==o.value&&(a=o.value):a=o,void 0!==a&&(r._useSchema?(n||(t.writeStartElement("SchemaData",{schemaUrl:"#"+r._schemaName+"Id"}),n=!0),t.writeElement("SimpleData",a,{name:i})):(t.writeStartElement("Data",{name:i}),o.displayName&&t.writeElement("displayName",o.displayName),t.writeElement("value",a).writeEndElement()))}})),n&&t.writeEndElement(),t.writeEndElement()}},e.prototype._writePlacemark=function(e,t){if(null!=e&&e.geometry){var r=void 0;this._options.writeIds&&(e.id?r={id:e.id}:e.properties&&null!=e.properties.id&&(r={id:e.properties.id})),t.writeStartElement("Placemark",r),e.properties&&(this._writeMetadata(e,t),e.properties._KmlStyleId&&(t.writeElement("styleUrl","#"+e.properties._KmlStyleId),delete e.properties._KmlStyleId)),"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type||!e.properties.height||0===e.properties.height||(this._height=e.properties.height),this._writeGeometry(e.geometry,t),this._height=null,t.writeEndElement()}},e.prototype._writeGeometry=function(e,t){if(e)switch(e.type){case"Point":this._writePoint(e,t);break;case"LineString":this._writeLineString(e,t);break;case"Polygon":this._writePolygon(e,t);break;case"MultiPoint":case"MultiLineString":case"MultiPolygon":this._writeMultiGeometry(e,t)}},e.prototype._writePoint=function(e,t){t.writeStartElement("Point").writeStartElement("coordinates"),this._writeCoordinateValue(e.coordinates,t),t.writeEndElement(!0).writeEndElement()},e.prototype._writeLineString=function(e,t){t.writeStartElement("LineString"),this._writeCoordinates(e.coordinates,!1,t),t.writeEndElement()},e.prototype._writePolygon=function(e,t){var r=e.coordinates;if(r.length>0){if(t.writeStartElement("Polygon"),Wi.closeRing(r[0]),t.writeStartElement("outerBoundaryIs").writeStartElement("LinearRing"),this._writeCoordinates(r[0],!0,t),t.writeEndElement().writeEndElement(),r.length>1&&r[0].length>0){var n=!1;3===r[0][0].length&&(n=!0);for(var i=1,o=r.length;i<o;i++)Wi.closeRing(r[i]),t.writeStartElement("innerBoundaryIs").writeStartElement("LinearRing"),n&&t.writeElement("extrude",1),this._writeCoordinates(r[i],!0,t),t.writeEndElement().writeEndElement()}t.writeEndElement()}},e.prototype._writeMultiGeometry=function(e,t){var r,n;if(e.coordinates.length>0){t.writeStartElement("MultiGeometry");try{for(var i=vo(e.coordinates),o=i.next();!o.done;o=i.next()){var a=o.value;switch(e.type){case"MultiPoint":t.writeStartElement("Point").writeStartElement("coordinates"),this._writeCoordinateValue(a,t),t.writeEndElement(!0).writeEndElement();break;case"MultiLineString":t.writeStartElement("LineString"),this._writeCoordinates(a,!1,t),t.writeEndElement();break;case"MultiPolygon":var s=a;if(s.length>0){if(t.writeStartElement("Polygon"),t.writeStartElement("outerBoundaryIs").writeStartElement("LinearRing"),this._writeCoordinates(s[0],!0,t),t.writeEndElement().writeEndElement(),s.length>1)for(var l=1,c=s.length;l<c;l++)t.writeStartElement("innerBoundaryIs").writeStartElement("LinearRing"),this._writeCoordinates(s[l],!0,t),t.writeEndElement().writeEndElement();t.writeEndElement()}}}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.writeEndElement()}},e.prototype._writeCoordinateValue=function(e,t){if(this._options.roundPositions){var r=Wi.roundPosition(e,6);t.writeString(r[0].toString()).writeString(",").writeString(r[1].toString())}else t.writeString(e[0].toString()).writeString(",").writeString(e[1].toString());e.length>=3?t.writeString(",").writeString(e[2].toString()):this._height&&t.writeString(",").writeString(this._height.toString())},e.prototype._writeCoordinates=function(e,t,r){if(null!=e){r.writeStartElement("coordinates"),t&&e.length>=3&&!s.data.Position.areEqual(e[0],e[e.length-1])&&e.push(e[0]);for(var n=0,i=e.length;n<i;n++)this._writeCoordinateValue(e[n],r),n<i-1&&r.writeString(" ");r.writeEndElement(!0)}},e.prototype._writeGroundOverlay=function(e,t){if(Wi.isUrl(e.url)&&(e.bounds||e.coordinates&&e.coordinates.length>=4)){var r=void 0;if(this._options.writeIds&&e.id&&null!=e.id&&(r={id:e.id}),t.writeStartElement("GroundOverlay",r),e.properties&&this._writeMetadata(e.properties,t),this._writeIcon(e.url,t,e.isWMS),e.coordinates&&e.coordinates.length>=4){t.writeStartElement("gx:LatLonQuad").writeStartElement("coordinates");for(var n=e.coordinates.reverse(),i=0;i<4;i++)this._options.roundPositions&&(n[i]=Wi.roundPosition(n[i],6)),t.writeValue(n[i][0]).writeValue(",").writeValue(n[i][1]),i<3&&t.writeValue(" ");t.writeEndElement().writeEndElement()}else if(e.bounds){var o=e.bounds;this._options.roundPositions&&(o=Wi.roundBBox(o,6)),t.writeStartElement("LatLonBox").writeElement("north",s.data.BoundingBox.getNorth(o)).writeElement("south",s.data.BoundingBox.getSouth(o)).writeElement("east",s.data.BoundingBox.getEast(o)).writeElement("west",s.data.BoundingBox.getWest(o)).writeEndElement()}Wi.isValidNumber(e.opacity)&&1!==e.opacity&&this._writeKmlColor("color","#ffffff",t,e.opacity),t.writeEndElement()}},e.prototype._writeIcon=function(e,t,r){if(e&&Wi.isUrl(e)){if(this._parentKmz&&e.startsWith("data:image")){var n=this._embeddedImageMap[e];if(!n){var i=void 0;switch(e.substring(11,e.indexOf(";")).toLowerCase()){case"jpg":case"jpeg":i=".jpg";break;case"png":i=".png";break;case"gif":i=".gif";break;case"bmp":i=".bmp"}n="embeddedImage"+this._embeddedImageIdx+i,this._embeddedImageIdx++,this._embeddedImageMap[e]=n,this._parentKmz.file(n,e.substring(e.indexOf(",")),{base64:!0}),e=n}}t.writeStartElement("Icon").writeElement("href",e,null),r&&t.writeElement("viewRefreshMode","onStop").writeElement("viewRefreshTime",1),t.writeEndElement()}},e.prototype._writeKmlColor=function(e,t,r,n){if(Wi.isValidString(t)){var i=Wi.colorToRgbaArray(t);if(i&&i.length){if(0===i[3])return null;var o="",a=void 0,s=i[3];Wi.isValidNumber(n)&&(s*=n),(a=Math.round(255*s).toString(16)).length<2&&(o+="0"),o+=a,(a=Math.round(i[2]).toString(16)).length<2&&(o+="0"),o+=a,(a=Math.round(i[1]).toString(16)).length<2&&(o+="0"),o+=a,(a=Math.round(i[0]).toString(16)).length<2&&(o+="0"),o+=a,r.writeElement(e,o)}}},e.prototype._writeStyle=function(e,t,r){return go(this,void 0,void 0,(function(){var n,i,o,a,s,l,c,u,d;return bo(this,(function(h){switch(h.label){case 0:return e?(void 0!==r?t.writeStartElement("Style",{id:r}):t.writeStartElement("Style"),(n=e.image&&this._icons[e.image]?this._icons[e.image]:e.imageUrl)?(t.writeStartElement("IconStyle"),this._writeIcon(n,t),[4,this._imageManager.addImage(n)]):[3,2]):[3,3];case 1:if(i=h.sent(),o=i&&i.width?i.width:32,a=i&&i.height?i.height:32,s=Math.max(o,a)/32,l=1,Wi.isValidNumber(e.size)&&1!==e.size&&(l=Math.round(s*e.size*100)/100,t.writeElement("scale",l)),c=0,u=0,e.anchor){switch(e.anchor){case"center":c=.5,u=.5;break;case"left":u=.5;break;case"right":c=1,u=.5;break;case"top":case"bottom":c=.5;break;case"top-right":c=1,u=1;break;case"bottom-right":c=1;break;case"top-left":u=1}c*=o,u*=a}return e.offset&&Array.isArray(e.offset)&&e.offset.length>=2&&(c-=Math.round(e.offset[0]*s/l),u=Math.round(e.offset[1]*s/l)),0===c&&0===u||t.writeStartElement("hotSpot",{x:c,xunits:"pixels",y:u,yunits:"pixels"},!0),e.rotation&&t.writeElement("heading",e.rotation),t.writeEndElement(),[3,3];case 2:e.color&&(t.writeStartElement("IconStyle"),e.color&&this._writeKmlColor("color",e.color,t),e.size&&1!==e.size&&t.writeElement("scale",e.size),t.writeEndElement()),h.label=3;case 3:return!e.strokeColor&&isNaN(e.strokeWidth)||(t.writeStartElement("LineStyle"),e.strokeColor&&this._writeKmlColor("color",e.strokeColor,t,e.strokeOpacity),isNaN(e.strokeWidth)||t.writeElement("width",e.strokeWidth),t.writeEndElement()),e.fillColor&&(t.writeStartElement("PolyStyle"),this._writeKmlColor("color",e.fillColor,t,e.fillOpacity),0===e.fillOpacity&&t.writeElement("fill",0),d=1,0===e.strokeOpacity&&(d=0),t.writeElement("outline",d).writeEndElement()),e.balloonStyle&&(t.writeStartElement("BalloonStyle"),t.writeElement("text",e.balloonStyle.text),e.balloonStyle.textColor&&this._writeKmlColor("textColor",e.balloonStyle.textColor,t),e.balloonStyle.bgColor&&this._writeKmlColor("bgColor",e.balloonStyle.bgColor,t),t.writeEndElement()),t.writeEndElement(),[2]}}))}))},e.prototype._combineStylesSchema=function(e){var t,r;if(Array.isArray(e))try{for(var n=vo(e),i=n.next();!i.done;i=n.next()){var o=i.value;this._extractSchemaInfo(o);var a=this._extractStyle(o),s=this._createStyleHash(a);if(s){var l=this._styleHashIds[s];l||(l="style"+this._styleIdIndex,this._styleHashIds[s]=l,this._styles[l]=a,this._styleIdIndex++),o.properties||(o.properties={}),o.properties._KmlStyleId=l}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype._createStyleHash=function(e){if(e){var t=[];if(t.push("style"),e.imageUrl&&t.push(e.imageUrl),e.anchor&&t.push(e.anchor),Array.isArray(e.offset)&&e.offset.length>=2&&t.push(e.offset[0].toString()),Wi.isValidNumber(e.rotation)&&t.push(e.rotation.toString()),Wi.isValidNumber(e.size)&&t.push(e.size.toString()),e.color&&t.push(e.color),e.strokeColor&&t.push(e.strokeColor),Wi.isValidNumber(e.strokeOpacity)&&t.push(e.strokeOpacity.toString()),Wi.isValidNumber(e.strokeWidth)&&t.push(e.strokeWidth.toString()),e.fillColor&&t.push(e.fillColor),Wi.isValidNumber(e.fillOpacity)&&t.push(e.fillOpacity.toString()),"boolean"!=typeof e.visible||e.visible||t.push(e.visible.toString()),e.balloonStyle&&t.push(JSON.stringify(e.balloonStyle)),t.length>1)return t.join("_")}return null},e.prototype._extractSchemaInfo=function(e){var t,r,n,i,o,a=this,s=e.properties;return s&&Object.keys(s).forEach((function(e){switch(o=s[e],e){case"name":case"title":case"description":case"desc":case"atom:name":case"address":case"phoneNumber":case"Snippet":case"open":case"author":case"link":case"TimeStamp":case"TimeSpan":case"id":case"visibility":case"AddressDetails":i=!1;break;default:i=!Wi.ignoreProperty(e,o)}if(i){switch(o=s[e],t=typeof o,o instanceof Object&&void 0!==o.value&&(t=typeof o.value,o.displayName&&(a._displayNames[e]=o.displayName)),t){case"number":n=Number.isInteger(o),t=n?"int":"float",a._useSchema=!0;break;case"boolean":t="bool",a._useSchema=!0}if(r=a._schemaInfo[e]){if(r!==t&&"string"!==r)switch(t){case"number":"int"===r&&(Number.isInteger(o)||(a._schemaInfo[e]="float"));break;case"string":case"bool":a._schemaInfo[e]="string";break;default:a._schemaInfo[e]=t}}else a._schemaInfo[e]=t}})),null},e.prototype._processSchemaInfo=function(e){var t=this;this._useSchema&&(e.writeStartElement("Schema",{id:this._schemaName+"Id",name:this._schemaName}),Object.keys(this._schemaInfo).forEach((function(r){t._schemaInfo[r]&&(t._displayNames[r]?e.writeStartElement("SimpleField",{name:r,type:t._schemaInfo[r]}).writeElement("displayName",t._displayNames[r]).writeEndElement():e.writeStartElement("SimpleField",{name:r,type:t._schemaInfo[r]},!0))})),e.writeEndElement())},e.prototype._writeBounds=function(e,t){Array.isArray(e)&&e.length>=4&&(t.writeStartElement("Region"),this._options.roundPositions&&(e=Wi.roundBBox(e,6)),t.writeStartElement("LatLonAltBox").writeElement("north",s.data.BoundingBox.getNorth(e).toString()).writeElement("south",s.data.BoundingBox.getSouth(e).toString()).writeElement("east",s.data.BoundingBox.getEast(e).toString()).writeElement("west",s.data.BoundingBox.getWest(e).toString()).writeEndElement().writeEndElement())},e.prototype._extractStyle=function(e){if(e.geometry&&e.properties){var t=e.properties,r={visible:!0};if(t.popupTemplate&&t.popupTemplate.content){var n=this._generateBalloonContent(t.popupTemplate,e);if(Wi.isValidString(n)){r.balloonStyle={text:n};var i=t.popupTemplate.fillColor;Wi.isValidString(i)&&(r.balloonStyle.bgColor=i);var o=t.popupTemplate.textColor;Wi.isValidString(o)&&(r.balloonStyle.textColor=o)}}if("boolean"!=typeof t.visible||t.visible||(r.visible=!1),"Point"===e.geometry.type||"MultiPoint"===e.geometry.type){var a=null;if(Wi.isValidString(t.image)){var s=this._icons[t.image];Wi.isUrl(s)?a=s:Wi.isUrl(t.image)&&(a=t.image)}return a||(Wi.isUrl(t.imageUrl)&&Wi.isUrl(t.imageUrl)?a=t.imageUrl:Wi.isUrl(t.icon)&&(a=t.icon)),a&&(r.imageUrl=a),a&&(Wi.isValidString(t.anchor)&&(r.anchor=t.anchor),Array.isArray(t.offset)&&t.offset.length>=2&&(r.offset=t.offset)),Wi.isValidNumber(t.rotation)&&0!==t.rotation&&(r.rotation=t.rotation),Wi.isValidNumber(t.size)&&t.size>0&&1!==r.size&&(r.size=t.size),!a&&Wi.isValidString(t.color)&&(r.color=t.color),r}return Wi.isValidString(t.strokeColor)&&(r.strokeColor=t.strokeColor),Wi.isValidNumber(t.strokeOpacity)&&1!==t.strokeOpacity&&(r.strokeOpacity=t.strokeOpacity),Wi.isValidNumber(t.strokeWidth)&&t.strokeWidth>=0&&(r.strokeWidth=t.strokeWidth),"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type||(Wi.isValidString(t.fillColor)&&(r.fillColor=t.fillColor),Wi.isValidNumber(t.fillOpacity)&&1!==t.fillOpacity&&(r.fillOpacity=t.fillOpacity)),r}return null},e.prototype._generateBalloonContent=function(e,t){var r=this;if(e){if(Array.isArray(e.content)){var n=[];return e.content.length>0&&e.content[0].propertyPath?this._processPopupPropertyInfo(e.content,t):(e.content.forEach((function(e){Array.isArray(e)?n.push(r._processPopupPropertyInfo(e,t)):n.push(r._processPopupString(e,t))})),n.join("<br/>"))}return this._processPopupString(e.content,t)}return null},e.prototype._processPopupPropertyInfo=function(e,t){var r=this;if(e&&e.length>0){var n=[];return n.push("<table>"),this._useSchema&&this._schemaName,e.forEach((function(e){var i=r._getPlaceholder(e.propertyPath);if(e.hideLabel)n.push('<tr><td colspan="2">',i,"</td></tr>");else{var o=e.label,a=e.propertyPath.split("/")[0];a&&t.properties[a]&&t.properties[a].displayName&&(o=r._useSchema?"$[".concat(r._schemaName,"/").concat(a,"/displayName]"):"$[".concat(a,"/displayName]")),n.push("<tr><th>",o,"</th><td>",i,"</td></tr>")}})),n.push("</table>"),n.join("")}},e.prototype._processPopupString=function(e,t){for(var r=e,n=this._popupTemplatePlaceholder.exec(e);n;){if(n.length>=1){var i=n[0].replace("{","").replace("}","");r=r.replace(n[0],this._getPlaceholder(i))}n=this._popupTemplatePlaceholder.exec(e)}return(r=r.replace(/\{/g,"$[").replace(/\}/g,"]")).trim()},e.prototype._getPlaceholder=function(e){var t=e.split("/"),r="";return 1===t.length?r=this._useSchema?"$[".concat(this._schemaName,"/").concat(t[0],"]"):"$[".concat(t[0],"]"):2===t.length&&"displayName"===t[1]&&(r=this._useSchema?"$[".concat(this._schemaName,"/").concat(t[0],"/displayName]"):"$[".concat(t[0],"/displayName]")),r},e}(),xo=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},So=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},wo=function(){function e(){}return e.write=function(e,t){return xo(this,void 0,void 0,(function(){var r;return So(this,(function(n){switch(n.label){case 0:if(!e)return[3,6];switch(r=void 0,t&&t.format&&(r=t.format),r){case"GeoRSS":return[3,1];case"GPX":return[3,2];case"GML":return[3,3];case"KML":return[3,4]}return[3,4];case 1:return[2,uo.write(e,t)];case 2:return[2,po.write(e,t)];case 3:return[2,so.write({bbox:e.bbox,features:e.features||[],type:"FeatureCollection"},t)];case 4:return[4,new Mo(t).write(e)];case 5:return[2,n.sent()];case 6:return[2,null]}}))}))},e.writeCompressed=function(e,t,r){return xo(this,void 0,void 0,(function(){var n,i,o,a,s,l,c;return So(this,(function(u){switch(u.label){case 0:if(!e)return[3,9];switch(n=void 0,i="doc.xml",o="application/zip",a="KML",r&&(a=r.format),s=new Yi,a){case"GeoRSS":return[3,1];case"GPX":return[3,2];case"KML":return[3,3];case"GML":return[3,5]}return[3,6];case 1:return n=uo.write(e,r),[3,7];case 2:return n=po.write(e,r),[3,7];case 3:return[4,new Mo(r,s).write(e)];case 4:return n=u.sent(),i="doc.kml",o="application/vnd.google-earth.kmz",[3,7];case 5:return n=so.write(e,r),i="doc.gml",[3,7];case 6:return[3,7];case 7:if(!n)return[3,9];switch(s.file(i,n),l="blob",t){case"Base64":l="base64";break;case"ArrayBuffer":l="uint8array"}return[4,s.generateAsync({type:l})];case 8:return c=u.sent(),"base64"===l&&(c="data:"+o+";base64,"+c),[2,c];case 9:return[2,null]}}))}))},e}(),_o=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},To=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function Io(e,t){return new Promise((function(r,n){var o=i.performance.now(),a=Wi.parseURL(i.location.href),l=new Fi;l.onmessage=function(e){if(e.data)if(e.data.error)n(e.data.error);else{var t=e.data;if(t._groundOverlayOptions&&t._groundOverlayOptions.length>0){var a=[];t._groundOverlayOptions.forEach((function(e){e.isWMS?a.push(new Bo(e)):a.push(new s.layer.ImageLayer(e))})),t.groundOverlays=a}delete t._groundOverlayOptions,t.stats.processingTime=i.performance.now()-o,r(t)}else n("Unable to read data.")},l.postMessage({baseUrl:a,data:e,options:t||{}})}))}function Co(e,t){return _o(this,void 0,void 0,(function(){var r,n,i,o,a,s;return To(this,(function(l){switch(l.label){case 0:if(r=new zi,!Array.isArray(e))return[3,9];l.label=1;case 1:l.trys.push([1,6,7,8]),n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=n.next(),l.label=2;case 2:return i.done?[3,5]:[4,ko(i.value,r,t)];case 3:l.sent(),l.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return o=l.sent(),a={error:o},[3,8];case 7:try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 8:return[3,11];case 9:return[4,ko(e,r,t)];case 10:l.sent(),l.label=11;case 11:return r.bbox=null,zi.getBounds(r),[2,r]}}))}))}function ko(e,t,r){return _o(this,void 0,void 0,(function(){var n,i,o,a,l,c,u;return To(this,(function(d){switch(d.label){case 0:return e instanceof s.layer.ImageLayer?(n=e.getOptions(),a={coordinates:n.coordinates,id:e.getId(),isWMS:!1,opacity:n.opacity,properties:e.metadata||{},url:n.url,visible:!0},t._groundOverlayOptions.push(a),r&&(t.groundOverlays||(t.groundOverlays=[]),t.groundOverlays.push(e)),[3,8]):[3,1];case 1:if(!(e instanceof Bo))return[3,7];d.label=2;case 2:return d.trys.push([2,5,,6]),[4,e._client.getCapabilities()];case 3:return i=d.sent(),o=e.getOptions(),a={bounds:i.bounds,id:e.getId(),isWMS:!0,properties:e.metadata||{},visible:!0},l=a,[4,e._client._getTileUrl(i,"EPSG:4326",o.activeLayers,o.styles,!1)];case 4:return l.url=d.sent(),a.opacity=o.opacity,t._groundOverlayOptions.push(a),r&&(t.groundOverlays||(t.groundOverlays=[]),t.groundOverlays.push(e)),[3,6];case 5:return c=d.sent(),console.log(c),[3,6];case 6:return[3,8];case 7:e instanceof s.source.DataSource?t.features=t.features.concat(e.toJson().features):((u=e).features&&u.features.length>0&&(t.features=t.features.concat(u.features)),u._groundOverlayOptions&&u._groundOverlayOptions.length>0&&(t._groundOverlayOptions=t._groundOverlayOptions.concat(u._groundOverlayOptions)),u.groundOverlays&&u.groundOverlays.length>0&&(t.groundOverlays=t.groundOverlays.concat(u.groundOverlays)),u.icons&&Object.assign(t.icons,u.icons),u.type&&"FeatureCollection"!==e.type&&t.features.push(e)),d.label=8;case 8:return[2]}}))}))}function Lo(e,t){if(!e.startsWith("_"))return t}var No=function(){function e(){}return e.prototype.merge=function(){for(var t,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=a.next();!s.done;s=a.next()){var l=s.value;if(l)for(var c in l)l.hasOwnProperty(c)&&this.hasOwnProperty(c)&&(void 0!==l[c]&&null!=l[c]?this[c]instanceof e?this[c].merge(l[c]):this[c]=l[c]:(n||(n=new(Object.getPrototypeOf(this).constructor)),this[c]=n[c]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this},e}(),Zo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.service=void 0,t.url=void 0,t.activeLayers=void 0,t.styles=void 0,t.version=void 0,t.bringIntoView=!1,t.debug=!1,t.dimensions=void 0,t.proxyService=void 0,t.contrast=0,t.fadeDuration=300,t.hueRotation=0,t.maxBrightness=1,t.minBrightness=0,t.opacity=1,t.saturation=0,t.filter=void 0,t.minZoom=0,t.maxZoom=24,t.visible=!0,t}return Zo(t,e),t._cloneCustomizer=function(e){return e instanceof s.source.Source?e:void 0},t}(No),zo=function(){function e(){}return e.createUrlRequest=function(e,t,r){var n=Object.keys(t);return n=n.filter((function(e){return void 0!==t[e]})),r?e+"?"+n.map((function(e){return e.toUpperCase()+"="+encodeURIComponent(t[e])})).join("&"):e+"?"+n.map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")},e.getBaseUrl=function(e){return Wi.isValidString(e)?(e.includes("?")&&(e=e.substr(0,e.indexOf("?"))),e.endsWith("/")&&(e=e.slice(0,-1)),e=e.replace(/\/WMTSCapabilities.xml$/i,"").replace(/\/1.0.0$/i,"")):null},e.getBBoxString=function(t,r){var n=e.isSridSupported(t,"wgs84"),i=e.isSridSupported(t,"extended"),o=e.isSridSupported(t,"mercator");if(r&&Array.isArray(r))6===r.length&&(r=[r[0],r[1],r[3],r[4]]);else if(n||i)r=e.worldBounds;else if(o){var a=this.toWebMercator([-180,-85.05112878]),s=this.toWebMercator([180,85.05112878]);r=hi.fromEdges(a[0],a[1],s[0],s[1])}if(!r||!Array.isArray(r)||4!==r.length)throw new Error("Invalid bounding box specified.");switch(t=t.toLowerCase()){case"crs:84":case"crs84":return r.join(",");default:return"".concat(r[1],",").concat(r[0],",").concat(r[3],",").concat(r[2])}},e.getZoomRange=function(e,t){var r,n;"number"!=typeof t||t>this._mapZoomScale512[0]?r=0:t<this._mapZoomScale512[this._mapZoomScale512.length-1]&&(r=this._mapZoomScale512.length-1),"number"!=typeof e||e>this._mapZoomScale512[0]?n=24:e<this._mapZoomScale512[this._mapZoomScale512.length-1]&&(n=this._mapZoomScale512.length-1);var i=void 0===r,o=void 0===n;if(i||o)for(var a=void 0,s=void 0,l=0,c=this._mapZoomScale512.length-1;l<c&&(a=this._mapZoomScale512[l],s=this._mapZoomScale512[l+1],i&&t<=a&&t>=s&&(r=l+1),o&&e<=a&&e>=s&&(n=l),i=void 0===r,(o=void 0===n)||i);l++);return i&&(r=0),o&&(n=24),r>n&&(r=n),[r,n]},e.isEndpointReversed=function(e){var t,r;if(e)try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.knowReversedAxisEndpoints),i=n.next();!i.done;i=n.next()){var o=i.value;if(e.includes(o))return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!1},e.isSridAxisLonLat=function(e){return!!e&&((e=e.toLowerCase())&&e.includes("crs:84")||e.includes("crs84")||this._containsSrid(e,this.axisOrderIsLonLat))},e.isSridSupported=function(e,t){if(e){var r=this.wgs84Srs;switch(t){case"extended":r=this.extendedSrsSupport;break;case"mercator":r=this.mercatorSrids}return this._containsSrid(e,r)}return!1},e.parseWGS84BoundingBox=function(e){var t=Wi.getElementByTagName("LowerCorner",e),r=Wi.getElementByTagName("UpperCorner",e);if(t&&t.value&&r&&r.value){var n=t.value.split(" "),i=r.value.split(" ");return n.length>=2&&i.length>=2?[parseFloat(n[0]),parseFloat(n[1]),parseFloat(i[0]),parseFloat(i[1])]:null}},e.toWebMercator=function(e){if(e&&e.length>=2){var t=e[0]*this.epsg3857MaxExtent/180,r=Math.log(Math.tan((90+e[1])*Math.PI/360))/(Math.PI/180),n=[t,r=r*this.epsg3857MaxExtent/180];return e.length>2&&n.push(e[2]),n}return null},e.toWgs84=function(e){if(e&&e.length>=2){var t=[180*e[0]/this.epsg3857MaxExtent,360*Math.atan(Math.exp(e[1]*Math.PI/this.epsg3857MaxExtent))/Math.PI-90];return e.length>2&&t.push(e[2]),t}return null},e._containsSrid=function(e,t){if(e){var r=e.match(/[0-9]{4,}/gi);if(r&&1===r.length&&t.includes(r[0]))return!0;if(e=e.toLowerCase().replace("crs:","").replace("crs",""),t.includes(e))return!0}return!1},e.axisOrderIsLonLat=["84","4258"],e.epsg3857MaxExtent=20037508.34,e.extendedSrsSupport=["4269","4283","4258","4308","4230","4272","4271","4267","4608","4674"],e.knowReversedAxisEndpoints=["https://hazards.fema.gov/gis"],e._mapZoomScale512=[591657550.5,295828775.3,147914387.6,73957193.81,36978596.91,18489298.45,9244649.227,4622324.613,2311162.307,1155581.153,577790.5767,288895.2883,144447.6442,72223.82208,36111.91104,18055.95552,9027.97776,4513.98888,2256.99444,1128.49722,564.24861,282.124305,141.0621525,70.53107625,35.26553813],e.mercatorSrids=["3857","102100","3785","900913","102113","41001","54004"],e.wgs84Srs=["84","4326"],e.EPSG3857="EPSG:3857",e.EPSG4326="EPSG:4326",e.worldBounds=[-180,-90,180,90],e}(),Go=function(){function e(e){this._layerIndex={},this._options={},this._tileSize=1024,this._preferredImageFormats=["image/png","image/png32","PNG","PNG8","PNG24","PNG32","image/jpgpng","image/jpeg","JPEG","image/gif","GIF","image/bmp","BMP"],this.setOptions(e)}return e.prototype.setMap=function(e){this._map=e},e.prototype.setOptions=function(e){var t=(new Eo).merge(this._options,e);t.url!==this._options.url&&(t.url=zo.getBaseUrl(t.url),this._capabilities=null,this._tileSize=1024,!t&&t.debug&&console.log("Invalid URL specified for OGC service.")),Wi.isValidString(t.version)&&t.version!==this._options.version?(this._capabilities=null,this._tileSize=1024):t.version=this._options.version,this._options=t},e.prototype._getDefaultStyle=function(e){return e.styles.forEach((function(e){if(e.isDefault)return e})),{id:"default"}},e.prototype._getSublayer=function(e){var t=null;return e&&("string"==typeof e?t=this._capabilities.sublayers.find((function(t){return t.id===e})):e.id&&(t=e),null===t&&this._options.debug&&console.log("Unable to find specified sublayer in capabilities. Defaulting to first layer in capabilities.")),null===t&&(t=this._capabilities.sublayers[0]),t},e._parseStyle=function(e,t){var r={};e.childNodes.forEach((function(e){switch(e.tagName){case"Identifier":case"Name":e.value&&""!==e.value&&(r.id=e.value);break;case"Title":e.value&&""!==e.value&&(r.title=e.value);break;case"LegendURL":var t=Wi.getElementByTagName("OnlineResource",e);t||(t=e),t&&(t.attributes.href||t.attributes["xlink:href"])&&(r.legendUrl=t.attributes.href||t.attributes["xlink:href"])}})),r.id&&(e.attributes&&e.attributes.isDefault&&"true"===e.attributes.isDefault&&(t._defaultStyleId=r.id),t.styles.push(r))},e.prototype._getLayerDetails=function(e){var t,r;if(e&&e.length>0){var n=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),o=i.next();!o.done;o=i.next()){var a=o.value;if("string"==typeof a){var s=this._layerIndex[a];s&&n.push(s)}else a.id&&this._layerIndex[a.id]&&n.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}return this._capabilities.sublayers},e}(),Po=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ao=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},Ro=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Do=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xo=function(e){function t(t){var r=e.call(this,t)||this;return r._supportedInfoFormats=["application/geojson","application/json","application/vnd.esri.wms_raw_xml","text/xml","application/vnd.ogc.wms_xml","application/vnd.esri.wms_featureinfo_xml","XML"],r}return Po(t,e),t.prototype.getCapabilities=function(){var e=this;return new Promise((function(r,n){var i;e._capabilities?r(e._capabilities):(i="1.0.0"===e._options.version?{request:"capabilities",WMTVER:e._options.version}:{request:"GetCapabilities",service:"WMS",version:e._options.version},Wi.ajaxGetAsync(zo.createUrlRequest(e._options.url,i,!0),e._options.proxyService,e._map,!1,"WebMapService").then((function(i){var o=t._parseCapabilities(i);if(o){if(o.version?e._options.version=o.version:o.version=e._options.version,o._getMapTileUrl||(o._getMapTileUrl=e._options.url),e._capabilities=o,o._maxHeight<e._tileSize||o._maxWidth<e._tileSize)for(var a=Math.min(o._maxHeight,o._maxWidth);e._tileSize>a;)e._tileSize*=.5;if(o.sublayers&&o.sublayers.length>0){var l=!1;o.bounds?o.sublayers.forEach((function(t){t._tileSize=e._tileSize,e._layerIndex[t.id]=t,t._queryable&&(l=!0)})):(o.bounds=o.sublayers[0].bounds,o.sublayers.forEach((function(t){t._tileSize=e._tileSize,e._layerIndex[t.id]=t,o.bounds=s.data.BoundingBox.merge(o.bounds,t.bounds),t._queryable&&(l=!0)}))),o._canGetFeatureInfo=l&&null!==Wi.matchFirstPreference(o._featureInfoFormats,e._supportedInfoFormats)}r(o)}else n("Error parsing capabilities.")}),(function(){void 0===e._options.version?(e._options.version="1.0.0",e.getCapabilities().then((function(e){r(e)}),(function(){n("Error parsing capabilities.")}))):n("Error parsing capabilities.")})))}))},t.prototype.getTileLayerOptions=function(e,t,r){return Ao(this,void 0,void 0,(function(){var n,i,o,a,l,c;return Ro(this,(function(u){switch(u.label){case 0:return[4,this.getCapabilities()];case 1:return n=u.sent(),i=this._getLayerDetails(e),o=0,a=24,l=zo.worldBounds,i&&i.length>0&&(o=i[0].minZoom,a=i[0].maxZoom,l=i[0].bounds,i.forEach((function(e){e.minZoom<o&&(o=e.minZoom),e.maxZoom>a&&(a=e.maxZoom),l=s.data.BoundingBox.merge(l,e.bounds)})),l[0]>l[2]&&(l[0]=-180,l[2]=180)),[4,this._getTileUrl(n,zo.EPSG3857,i,t,!0,r)];case 2:return(c=u.sent())?(this._options.proxyService&&(c=this._options.proxyService+c),[2,{_subLayers:i,bounds:l,maxSourceZoom:a,minSourceZoom:o,tileSize:this._tileSize,tileUrl:c}]):[2,null]}}))}))},t.prototype.getFeatureInfo=function(e){return Ao(this,void 0,void 0,(function(){var t,r,n,i,o,a,l,c,u;return Ro(this,(function(d){switch(d.label){case 0:return[4,this.getCapabilities()];case 1:return d.sent()._canGetFeatureInfo&&null!==e.zoom?s.data.BoundingBox.containsPosition(e.tileLayerOptions.bounds,e.position)?(t=Wi.matchFirstPreference(this._capabilities._featureInfoFormats,this._supportedInfoFormats),(r=this._getFeatureInfoUrl(e,t))?[4,Wi.ajaxGetAsync(r,this._options.proxyService,this._map,!1,"WebMapService")]:[3,4]):[3,4]:[2,null];case 2:return[4,Io(d.sent())];case 3:if((n=d.sent())&&n.features&&n.features.length>0&&(n.features[0].geometry||Object.keys(n.features[0].properties).length>0)){if(e.position){i={coordinates:e.position,type:"Point"};try{for(o=Do(n.features),a=o.next();!a.done;a=o.next())(l=a.value).geometry||(l.geometry=i)}catch(e){c={error:e}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(c)throw c.error}}}return[2,{features:n.features,type:"FeatureCollection"}]}d.label=4;case 4:return[2,{features:[],type:"FeatureCollection"}]}}))}))},t.prototype.getFeatureInfoHtml=function(e){return Ao(this,void 0,void 0,(function(){var t,r;return Ro(this,(function(n){switch(n.label){case 0:return[4,this.getCapabilities()];case 1:return n.sent()._canGetHtmlFeatureInfo&&null!==e.zoom?s.data.BoundingBox.containsPosition(e.tileLayerOptions.bounds,e.position)&&(t=this._getFeatureInfoUrl(e,"text/html"))?[4,Wi.ajaxGetAsync(t,this._options.proxyService,this._map,!1,"WebMapService")]:[3,3]:[2,null];case 2:if(""!==(r=n.sent()))return[2,r];n.label=3;case 3:return[2,null]}}))}))},t.prototype._getTileUrl=function(e,t,r,n,i,o){return Ao(this,void 0,void 0,(function(){var e,a,s,l,c,u=this;return Ro(this,(function(d){return(e=Wi.matchFirstPreference(this._capabilities._imageFormats,this._preferredImageFormats))||(e=this._preferredImageFormats[0]),(!r||Array.isArray(r)&&0===r.length)&&(r=this._capabilities.sublayers),n||(n=[]),a=[],s={},l=[],r.forEach((function(e){var t=u._getSublayer(e);t&&(a.push(t.id),t.dimensions&&t.dimensions.forEach((function(e){s[e.id]=e.default})),l.push(t))})),a.length>this._capabilities.layerLimit&&(this._options.debug&&console.log("Too many layers specified in OGC service. "+"Clipped the request to ".concat(this._capabilities.layerLimit," layers.")),l.length=this._capabilities.layerLimit,a.length=this._capabilities.layerLimit),0===a.length?(this._options.debug&&console.log("No layers available for OGC service."),[2,null]):(c={format:e,height:this._tileSize,layers:a.join(","),request:"GetMap",styles:this._getStylesString(l,n),tiled:!0,transparent:"true",width:this._tileSize},"1.0.0"===this._options.version?(c.WMTVER=this._options.version,c.request="map"):(c.version=this._options.version,c.service="WMS"),"1.3.0"===this._options.version?c.crs=t:c.srs=t,Object.keys(s).length>0&&o&&(c=Object.assign(c,s,o)),[2,zo.createUrlRequest(this._capabilities._getMapTileUrl,c,!0)+(i?"&BBOX={bbox-epsg-3857}":"")])}))}))},t.prototype._getFeatureInfoUrl=function(e,t){var r=this;if(!(this._capabilities._canGetFeatureInfo||this._capabilities._canGetHtmlFeatureInfo&&t.indexOf("html")>-1))return this._options.debug&&console.log("Error: Service does not support getting feature info."),null;var n=Wi.matchFirstPreference(this._capabilities._imageFormats,this._preferredImageFormats),i=[],o=24,a=0;if(e.sublayers?e.sublayers.forEach((function(e){var t=r._getSublayer(e);t&&(i.push(t.id),a=t.maxZoom,o=t.minZoom)})):this._capabilities.sublayers&&this._capabilities.sublayers.forEach((function(e){i.push(e.id),e.minZoom<o&&(o=e.minZoom),e.maxZoom>a&&(a=e.maxZoom)})),i.length>this._capabilities.layerLimit&&(this._options.debug&&console.log("Too many layers specified in OGC service. "+"Clipped the request to ".concat(this._capabilities.layerLimit," layers.")),i.length=this._capabilities.layerLimit),0===i.length)return this._options.debug&&console.log("No layers available for OGC service."),null;var l={format:n,height:this._tileSize,info_format:t,layers:i.join(","),query_layers:i.join(","),request:"GetFeatureInfo",transparent:!0,width:this._tileSize};"1.0.0"===this._options.version?(l.WMTVER=this._options.version,l.request="feature_info"):(l.version=this._options.version,l.service="WMS");var c=Math.round(e.zoom);c<5&&(c=o>0?o:a>5?5:a);var u=this._tileSize/512;u<1?c-=1/u/2:u>1&&(c+=u/2);var d=s.math.mercatorPositionsToPixels([e.position],c)[0],h=this._tileSize*Math.pow(2,c),p=Math.floor(Math.min(Math.max(d[0]+.5,0),h-1)/this._tileSize),m=Math.floor(Math.min(Math.max(d[1]+.5,0),h-1)/this._tileSize),y=[p*this._tileSize,m*this._tileSize],f=s.math.mercatorPixelsToPositions([[y[0],y[1]+this._tileSize],[y[0]+this._tileSize,y[1]]],c);return l.bbox=zo.getBBoxString(zo.EPSG4326,new s.data.BoundingBox(f[0],f[1])),"1.3.0"===this._options.version?(l.i=d[0]-y[0],l.j=d[1]-y[1],l.crs=zo.EPSG4326):(l.x=d[0]-y[0],l.y=d[1]-y[1],l.srs=zo.EPSG4326),zo.createUrlRequest(this._options.url,l,!0)},t.prototype._getStylesString=function(e,t){var r=this,n=[];if(t){for(var i=Math.min(e.length,t.length),o=0;o<i;o++)"string"==typeof t[o]?n.push(t[o]):e[o].id?n.push(e[o].id):n.push("");for(o=i;o<e.length;o++)n.push(this._getDefaultStyle(e[o]).id)}else e.length>1&&e.forEach((function(e){n.push(r._getDefaultStyle(e).id)}));return n.join(",")},t._parseCapabilities=function(e){var t,r,n,i,o,a,s=(new ji).parse(e);if(Wi.docHasData(s)){var l={_canGetFeatureInfo:!1,_imageFormats:[],_maxHeight:1024,_maxWidth:1024,bounds:zo.worldBounds,layerLimit:1/0,sublayers:[],version:null};s.root.attributes&&s.root.attributes.version&&(l.version=s.root.attributes.version);try{for(var c=Do(s.root.childNodes),u=c.next();!u.done;u=c.next()){var d=u.value;switch(d.tagName){case"Service":try{for(var h=(n=void 0,Do(d.childNodes)),p=h.next();!p.done;p=h.next())switch((f=p.value).tagName){case"Name":f.value&&(l.title=f.value);break;case"Abstract":f.value&&(l.description=f.value);break;case"MaxWidth":l._maxWidth=parseInt(f.value);break;case"MaxHeight":l._maxHeight=parseInt(f.value);break;case"LayerLimit":l.layerLimit=parseInt(f.value)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}break;case"Capability":try{for(var m=(o=void 0,Do(d.childNodes)),y=m.next();!y.done;y=m.next()){var f;switch((f=y.value).tagName){case"Request":this._parseRequest(f,l);break;case"Layer":this._parseLayerGroup(f,l)}}}catch(e){o={error:e}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return l._canGetHtmlFeatureInfo=l._getFeatureInfoUrl&&l._featureInfoFormats&&l._featureInfoFormats.includes("text/html"),l}return null},t._parseRequest=function(e,t){var r,n;try{for(var i=Do(e.childNodes),o=i.next();!o.done;o=i.next()){var a=o.value;try{var s=Wi.getElementByTagName("DCPType",a).childNodes[0].childNodes[0].childNodes[0];if(s.attributes){var l=zo.getBaseUrl(s.attributes.href||s.attributes["xlink:href"]);if(l)switch(a.tagName){case"GetMap":case"Map":t._imageFormats=this._parseFormats(a),t._getMapTileUrl=l;break;case"GetFeatureInfo":case"FeatureInfo":t._featureInfoFormats=this._parseFormats(a),t._getFeatureInfoUrl=l}}}catch(e){}}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t._parseFormats=function(e){var t=[];return e.childNodes.forEach((function(e){"Format"===e.tagName&&(e.value&&""!==e.value?t.push(e.value):e.childNodes&&e.childNodes.forEach((function(e){t.push(e.tagName)})))})),t},t._parseLayerGroup=function(e,t){var r,n,i=!1;try{for(var o=Do(e.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value;"Layer"===s.tagName&&(this._parseLayer(s,t),i=!0)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}i||this._parseLayer(e,t)},t._parseLayer=function(e,t){var r,n,i,o,a={_queryable:!!e.attributes&&Wi.parseBoolean(e.attributes.queryable),_tileSize:1024,bounds:zo.worldBounds,dimensions:[],maxZoom:24,minZoom:0,styles:[]};try{for(var s=Do(e.childNodes),l=s.next();!l.done;l=s.next()){var c=l.value;switch(c.tagName){case"Name":c.value&&""!==c.value&&(a.id=c.value);break;case"Title":case"Abstract":c.value&&""!==c.value&&(a[c.tagName.toLowerCase()]=c.value);break;case"Layer":this._parseLayer(c,t);break;case"Style":this._parseStyle(c,a);break;case"EX_GeographicBoundingBox":var u=this.parseEX_GeographicBoundingBox(c);u&&(a.bounds=u);break;case"MinScaleDenominator":i=parseFloat(c.value);break;case"MaxScaleDenominator":o=parseFloat(c.value);break;case"ScaleHint":if(c.attributes){var d=parseFloat(c.attributes.min);Wi.isValidNumber(d)&&(i=d);var h=parseFloat(c.attributes.max);Wi.isValidNumber(h)&&(o=h)}break;case"Dimension":if(c.attributes){var p={default:c.attributes.default,id:c.attributes.name};p.value=c.value,p.id&&p.default&&a.dimensions.push(p)}}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}if(a.id){!a._defaultStyleId&&a.styles&&a.styles.length>0&&(a._defaultStyleId=a.styles[0].id);var m=zo.getZoomRange(i,o);a.minZoom=m[0],a.maxZoom=m[1],t.sublayers.push(a)}},t.parseEX_GeographicBoundingBox=function(e){var t,r,n,i,o,a;try{for(var l=Do(e.childNodes),c=l.next();!c.done;c=l.next()){var u=c.value,d=parseFloat(u.value);switch(u.tagName){case"westBoundLongitude":a=d;break;case"eastBoundLongitude":o=d;break;case"southBoundLatitude":i=d;break;case"northBoundLatitude":n=d}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return Wi.isValidNumber(n)&&Wi.isValidNumber(i)&&Wi.isValidNumber(o)&&Wi.isValidNumber(a)?s.data.BoundingBox.fromEdges(a,i,o,n):null},t}(Go),Oo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wo=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},jo=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Yo=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fo=function(e){function t(t){var r=e.call(this,t)||this;return r._supportsKVP=!1,r}return Oo(t,e),t.prototype.getCapabilities=function(){var e=this;return new Promise((function(r,n){e._capabilities?r(e._capabilities):Wi.ajaxGetAsync(zo.createUrlRequest(e._options.url,{request:"GetCapabilities",service:"WMTS",version:"1.0.0"},!0),e._options.proxyService,e._map,!1,"WebMapService").then((function(i){var o=t._parseCapabilities(i);o?(e._capabilities=o,e._supportsKVP=!0,r(o)):n(new Error("Error parsing capabilities."))}),(function(){var i=e._options.url+"/1.0.0/WMTSCapabilities.xml";Wi.ajaxGetAsync(i,e._options.proxyService,e._map,!1,"WebMapService").then((function(i){var o=t._parseCapabilities(i);o?(e._capabilities=o,r(o)):n("Error parsing capabilities.")}),(function(){i=e._options.url+"/WMTSCapabilities.xml",Wi.ajaxGetAsync(i,e._options.proxyService,e._map,!1,"WebMapService").then((function(i){var o=t._parseCapabilities(i);o?(e._capabilities=o,r(o)):n("Error parsing capabilities.")}),(function(e){n("GetCapabilities request failed: "+e)}))}))}))}))},t.prototype.getTileLayerOptions=function(e,t,r){return Wo(this,void 0,void 0,(function(){var n,i,o;return jo(this,(function(a){switch(a.label){case 0:return[4,this.getCapabilities()];case 1:return(n=a.sent())._supportsKVP&&(this._supportsKVP=n._supportsKVP),i=this._getSublayer(e&&e.length>0?e[0]:null),[4,this._getTileUrl(n,null,e,t,!1,r)];case 2:return o=a.sent(),i&&o?(o=o.replace(/{TileMatrix}/gi,"{z}").replace(/{TileRow}/gi,"{y}").replace(/{TileCol}/gi,"{x}"),this._options.proxyService&&(o=this._options.proxyService+o),[2,{_subLayers:[i],bounds:i.bounds,maxSourceZoom:i.maxZoom,minSourceZoom:i.minZoom,tileSize:i._tileSize,tileUrl:o}]):(this._options.debug&&console.log("No sublayers with supported TileMatrixSet listed in capabilities."),[2,null])}}))}))},t.prototype._getTileUrl=function(e,t,r,n,i,o){return Wo(this,void 0,void 0,(function(){var t,i,a,s,l;return jo(this,(function(c){return e.sublayers&&e.sublayers.length>0&&(t=this._getSublayer(r&&r.length>0?r[0]:null),i=this._getStyleName(t,n&&n.length>0?n[0]:null),t._tileMatrixSetName)?(a=null,t._tileUrlTemplate?a=t._tileUrlTemplate:this._supportsKVP?(s=t._imageFormats?Wi.matchFirstPreference(t._imageFormats,this._preferredImageFormats):null,l={format:s,layer:t.id,request:"GetTile",service:"WMTS",style:i,TileMatrixSet:t._tileMatrixSetName,version:"1.0.0"},a=zo.createUrlRequest(e._getMapTileUrl,l,!0),a+="&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}",t.dimensions&&o&&Object.keys(o).forEach((function(e){a+="&".concat(e,"=").concat(o[e])}))):a=e._getMapTileUrl+"/tile/1.0.0/{Layer}/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}",a=a.replace(/\{style\}/gi,i).replace(/\{TileMatrixSet\}/gi,t._tileMatrixSetName),t._idPrepend&&(a=a.replace("{TileMatrix}",t._idPrepend+"{TileMatrix}")),t.dimensions&&(o&&Object.keys(o).forEach((function(e){a=a.replace(new RegExp("{".concat(e,"}"),"gi"),o[e])})),t.dimensions.forEach((function(e){o&&o[e.id]||(a=a.replace(new RegExp("{".concat(e.id,"}"),"gi"),e.default))}))),[2,a]):[2,null]}))}))},t.prototype._getStyleName=function(e,t){if(t&&e.styles&&e.styles.length>0){var r;r="string"==typeof t?t:t.id;for(var n=0,i=e.styles.length;n<i;n++)if(r===e.styles[n].id)return r}return e._defaultStyleId||""},t._getTileMatrixSet=function(e,t){var r,n;if(e._tileMatrixSets&&e._tileMatrixSets.length>0){var i=e._tileMatrixSets.find((function(e){return"GoogleMapsCompatible"===e})),o=t.GoogleMapsCompatible;if(i&&o)return o;try{for(var a=Yo(e._tileMatrixSets),s=a.next();!s.done;s=a.next())if(o=t[s.value])return o}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}return null},t._parseCapabilities=function(e){var r,n,i=this,o=(new ji).parse(e);if(Wi.docHasData(o)){var a={_canGetFeatureInfo:!1,_tileMatrixSets:{},bounds:zo.worldBounds,layerLimit:1,sublayers:[],version:null};try{for(var l=Yo(o.root.childNodes),c=l.next();!c.done;c=l.next()){var u=c.value;switch(u.tagName){case"ServiceIdentification":u.childNodes.forEach((function(e){switch(e.tagName){case"Title":a.title=e.value;break;case"Abstract":a.description=e.value}}));break;case"OperationsMetadata":t._parseOperations(u,a);break;case"Contents":u.childNodes.forEach((function(e){switch(e.tagName){case"TileMatrixSet":t._parseTileMatrixSet(e,a);break;case"Layer":t._parseSublayer(e,a)}}))}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}var d,h=[];return a.sublayers&&(a.sublayers.forEach((function(e){var t=i._getTileMatrixSet(e,a._tileMatrixSets);t&&(d=d?s.data.BoundingBox.merge(d,e.bounds):e.bounds,e=Object.assign(e,{_idPrepend:t.idPrepend,_tileMatrixSetName:t.identifier,_tileSize:t.tileSize,maxZoom:t.maxZoom,minZoom:t.minZoom}),h.push(e))})),d&&(a.bounds=d)),a.sublayers=h,a}return null},t._parseOperations=function(e,t){var r,n,i=!1;try{for(var o=Yo(e.childNodes),a=o.next();!a.done;a=o.next()){var s=a.value;if("Operation"===s.tagName&&s.attributes){var l=s.attributes.name;try{for(var c=0,u=s.childNodes[0].childNodes[0].childNodes.length;c<u;c++){var d=s.childNodes[0].childNodes[0].childNodes[c];if(l&&d.attributes&&"Get"===d.tagName){var h=zo.getBaseUrl(d.attributes.href||d.attributes["xlink:href"]);h&&("GetFeatureInfo"===l?t._getFeatureInfoUrl=h:"GetTile"!==l||i||(t._getMapTileUrl=h,"KVP"===d.childNodes[0].childNodes[0].childNodes[0].value&&(i=!0)))}}}catch(e){}}i&&(t._supportsKVP=!0),t._canGetFeatureInfo=Wi.isValidString(t._getFeatureInfoUrl)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t._parseSublayer=function(e,t){var r,n,i={_imageFormats:[],_infoFormats:[],_tileMatrixSets:[],_tileSize:256,bounds:zo.worldBounds,dimensions:[],maxZoom:24,minZoom:0,styles:[]},o=function(e){switch(e.tagName){case"Identifier":i.id=e.value;break;case"Title":i.title=e.value;break;case"Abstract":i.description=e.value;break;case"WGS84BoundingBox":var t=zo.parseWGS84BoundingBox(e);t&&(i.bounds=t);break;case"Style":a._parseStyle(e,i);break;case"TileMatrixSetLink":var r=Wi.getElementByTagName("TileMatrixSet",e);r&&""!==r.value&&i._tileMatrixSets.push(r.value);break;case"ResourceURL":e.attributes&&e.attributes.resourceType&&e.attributes.template&&("tile"===e.attributes.resourceType?i._tileUrlTemplate?e.attributes.format.toLowerCase().includes("png")&&(i._tileUrlTemplate=e.attributes.template):i._tileUrlTemplate=e.attributes.template:"FeatureInfo"===e.attributes.resourceType&&("application/json"===e.attributes.format?i._getFeatureJsonUrl=e.attributes.template:"text/html"===e.attributes.format&&(i._getFeatureHtmlUrl=e.attributes.template)));break;case"Format":""!==e.value&&i._imageFormats.push(e.value);break;case"InfoFormat":""!==e.value&&i._infoFormats.push(e.value);break;case"Dimension":var n={};e.childNodes.forEach((function(e){switch(e.tagName){case"Identifier":n.id=e.value;break;case"Default":case"Value":n[e.tagName.toLowerCase()]=e.value}})),n.id&&n.default&&i.dimensions.push(n)}},a=this;try{for(var s=Yo(e.childNodes),l=s.next();!l.done;l=s.next())o(l.value)}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}i._defaultStyleId,i._tileMatrixSets.length>0&&t.sublayers.push(i)},t._parseTileMatrixSet=function(e,r){var n,i,o,a,s=NaN,l=NaN,c=256,u=!1,d=!0,h=null;try{for(var p=Yo(e.childNodes),m=p.next();!m.done;m=p.next()){var y=m.value;switch(y.tagName){case"Identifier":o=y.value;break;case"SupportedCRS":zo.isSridSupported(y.value,"mercator")&&(u=!0);break;case"TileMatrix":if(a=t._parseTileMatrix(y)){if(null===h)h=a.idPrepend;else if(h!==a.idPrepend){o=null;break}isNaN(c)&&(c=a.width),c!==a.width&&(d=!1),isNaN(s)&&(s=a.zoom),s=Math.min(s,a.zoom),isNaN(l)&&(l=a.zoom),l=Math.max(l,a.zoom)}}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}o&&d&&u&&Wi.isValidNumber(s)&&Wi.isValidNumber(l)&&(r._tileMatrixSets[o]={identifier:o,idPrepend:h,maxZoom:Math.min(l,24),minZoom:Math.max(s,0),tileSize:c})},t._parseTileMatrix=function(e){for(var t,r={},n=0,i=e.childNodes.length;n<i;n++){var o=e.childNodes[n];switch(o.tagName){case"Identifier":var a=o.value.match(this._tileMatrixIdRx);a&&a.length>=3?(r.idPrepend=a[1],r.zoom=parseInt(a[2])):(1===o.value.length||o.value.length>1&&o.value.startsWith("1"))&&(r.zoom=parseInt(o.value));break;case"TileWidth":r.width=parseInt(o.value);break;case"TileHeight":r.height=parseInt(o.value);break;case"MatrixWidth":r.matrixWidth=parseInt(o.value);break;case"MatrixHeight":r.matrixHeight=parseInt(o.value);break;case"ScaleDenominator":t=parseFloat(o.value)}}if(!Number.isNaN(r.zoom)&&r.width===r.height&&!Number.isNaN(t)&&r.zoom===zo.getZoomRange(t)[1]){var s=Math.pow(2,r.zoom);if(r.matrixHeight===r.matrixWidth&&r.matrixWidth===s)return r}return null},t._tileMatrixIdRx=/^([0-9a-z:]+:)([0-9]+)$/i,t}(Go),Vo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ho=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},Uo=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Bo=function(e){function t(t){var r=e.call(this)||this;return r._isInitialized=!1,r._options={},r.setOptions(t),r}return Vo(t,e),t.prototype.getCapabilities=function(){return Ho(this,void 0,void 0,(function(){return Uo(this,(function(e){switch(e.label){case 0:return this._client?[4,this._client.getCapabilities()]:[3,2];case 1:return[2,e.sent()];case 2:return this._options.debug&&console.log("Service hasn't loaded any capabilities."),[2,null]}}))}))},t.prototype.getOptions=function(){return Object.assign({},this._options,e.prototype.getOptions.call(this))},t.prototype.getFeatureInfo=function(t){return Ho(this,void 0,void 0,(function(){return Uo(this,(function(r){switch(r.label){case 0:return this._client&&this._client instanceof Xo?[4,this._client.getFeatureInfo({position:t,sublayers:this._options.activeLayers,tileLayerOptions:e.prototype.getOptions.call(this),zoom:this.map?this.map.getCamera().zoom:null})]:[3,2];case 1:return[2,r.sent()];case 2:return this._options.debug&&console.log("Service does not support getting features."),[2,null]}}))}))},t.prototype.getFeatureInfoHtml=function(t){return Ho(this,void 0,void 0,(function(){return Uo(this,(function(r){switch(r.label){case 0:return this._client&&this._client instanceof Xo?[4,this._client.getFeatureInfoHtml({position:t,sublayers:this._options.activeLayers,tileLayerOptions:e.prototype.getOptions.call(this),zoom:this.getMap()?this.getMap().getCamera().zoom:null})]:[3,2];case 1:return[2,r.sent()];case 2:return this._options.debug&&console.log("Service does not support getting features."),[2,null]}}))}))},t.prototype.setOptions=function(t){e.prototype.setOptions.call(this,t);var r=(new Eo).merge(this._options,Sn(t)),n=!this._isInitialized,i=!1;if(r.debug!==this._options.debug&&(i=!0),r.proxyService!==this._options.proxyService&&(i=!0,n=!0),!Wi.isValidString(r.service)||r.service===this._options.service||"wmts"!==r.service.toLowerCase()&&"wms"!==r.service.toLowerCase()?r.service=this._options.service:(r.service=r.service.toUpperCase(),i=!0,n=!0),Wi.isValidString(r.url)||(r.url=this._options.url),r.url!==this._options.url){i=!0,n=!0;var o=void 0,a=Wi.parseQueryStringParams(r.url,!0,!0);if(!t.activeLayers&&a.layers&&(r.activeLayers=decodeURIComponent(a.layers).split(",")),!t.styles&&a.styles&&(r.styles=decodeURIComponent(a.styles).split(",")),!Wi.isValidString(t.service)||"wms"!==t.service.toLowerCase()&&"wmts"!==t.service.toLowerCase()){var s=(Wi.isValidString(a.service)?a.service:"").toLowerCase();if("wms"===s?o="WMS":"wmts"===s&&(o="WMTS"),!this._options.service){var l=t.url.toLowerCase(),c=(Wi.isValidString(a.request)?a.request:"").toLowerCase();(Wi.isValidString(a.wmtver)||l.includes("wmsserver")||"capabilities"===c)&&(o="WMS"),o||!l.includes("wmtscapabilities")&&!l.includes("wmts")||(o="WMTS")}r.service=o,r.service!==this._options.service&&(this._client=null,r.debug&&console.log("Service detected as "+o))}}r.version&&r.version!==this._options.version?(i=!0,n=!0):r.version=this._options.version,this._client&&i&&this._options.url&&(this._client.setOptions(r),this._isInitialized=!0),Qn(r.activeLayers,this._options.activeLayers)&&Qn(r.styles,this._options.styles)||(n=!0),this._options=r,this.map&&this._options.url&&(this._updateLayer(n,this._options.bringIntoView),this._options.bringIntoView=!1)},t.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t),this._client&&this._client.setMap(t),this._options.url&&(this._updateLayer(!0,this._options.bringIntoView),this._options.bringIntoView=!1)},t.prototype._updateLayer=function(t,r){var n=this;t&&this._options.url?(this._client||(this._options.service&&"WMS"===this._options.service?this._client=new Xo(this._options):(this._client=new Fo(this._options),!this._options.service&&this._options.debug&&console.log("Unsure of service type, attempting to access it as a WMTS.")),this.map&&this._client.setMap(this.map)),this._client.getTileLayerOptions(this._options.activeLayers,this._options.styles).then((function(i){i?(n._options.activeLayers=i._subLayers,delete i._subLayers,n.map&&r&&i.bounds&&n.map.setCamera({bounds:i.bounds}),e.prototype.setOptions.call(n,i),n.onActiveLayersChanged&&n._client.getCapabilities().then((function(){n.onActiveLayersChanged(n)}))):n._options.service&&"WMTS"!==n._options.service?(n._options.debug&&console.log("Service not reachable."),e.prototype.setOptions.call(n,{tileUrl:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="})):(n._options.debug&&console.log("Service not reachable, or not WMTS, attempting to connect as WMS."),n._options.service="WMS",n._client=null,n._updateLayer(t,r))}),(function(t){n._options.debug&&console.log(t),"WMS"===n._options.service&&e.prototype.setOptions.call(n,{tileUrl:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="})}))):r&&this.map&&this.map.setCamera({bounds:e.prototype.getOptions.call(this).bounds})},t}(s.layer.TileLayer),Ko=Object.freeze({__proto__:null,OgcMapLayer:Bo,SimpleDataLayer:Di}),Jo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maxFeatures=1/0,t.proxyService=void 0,t}return Jo(t,e),t.prototype.merge=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=e.prototype.merge.apply(this,function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(t),!1));return n.maxFeatures<0&&(n.maxFeatures=1/0),n},t}(Gi),qo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parseStyles=!0,t}return qo(t,e),t}(Qo),ea=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ta=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAxisOrderLonLat=void 0,t.propertyTypes=void 0,t}return ea(t,e),t}($o),ra=function(){return ra=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ra.apply(this,arguments)},na=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ia=function(){function e(){}return e.read=function(e,t){if(!e)return null;t=(new ta).merge(t);var r=(new ji).parse(e);if(Wi.docHasData(r)){if("MultiGeometry"===r.root.tagName||"FeatureCollection"===r.root.tagName)return this._parseFeatureCollection(r.root,t);var n=this._parseGeometry(r.root,t);if(n)return ra(ra({},n.bbox&&{bbox:n.bbox}),{features:[n],type:"FeatureCollection"})}return null},e.readGeometry=function(e,t){return t=(new ta).merge(t),this._parseGeometry(e,t)},e._parseGeometry=function(e,t){if(e)if("string"==typeof e){var r=(new ji).parse(e);switch(r.root.tagName){case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiCurve":case"MultiSurface":case"MultiPolygon":case"Feature":return t=this._analyzeNode(r.root,t),this._parseGeometry(r.root,t)}}else switch(t=this._analyzeNode(e,t),e.tagName){case"Point":return this._parsePoint(e,t);case"LineString":return this._parseLineString(e,t);case"Polygon":return this._parsePolygon(e,t);case"Feature":return this._parseFeature(e,t);case"MultiPoint":case"MultiLineString":case"MultiCurve":case"MultiSurface":case"MultiPolygon":return this._parseMultiGeometry(e,t);case"where":case"geometry":if(e.childNodes.length>=1)return this._parseGeometry(e.childNodes[0],t);break;default:if(Wi.doesElementContainTagName("geometry",e))return this._parseFeature(e,t);if(e.childNodes&&1===e.childNodes.length&&Wi.doesElementContainTagName("geometry",e.childNodes[0]))return this._parseFeature(e.childNodes[0],t)}return null},e._parseFeatureCollection=function(e,t){var r,n,i=this;if(e)switch(e.tagName){case"MultiGeometry":case"FeatureCollection":if(e.childNodes){var o=[],a=null;t=this._analyzeNode(e,t);var s=function(e){switch(e.tagName){case"boundedBy":a=l._parseEnvelope(e,t);break;case"geometryMember":case"featureMember":case"geometryMembers":case"featureMembers":case"member":var r=null,n={},s=null;e.childNodes.forEach((function(e){if("boundedBy"===e.tagName)s=i._parseEnvelope(e,t);else{var o=i._tryParseFeature(e,n,t);o&&(r=o)}})),r&&(s&&(r.bbox=s),Object.assign(r.properties,n),n.id?r.id=n.id:n.fid&&(r.id=n.fid),o.push(r))}if(o.length>=t.maxFeatures)return"break"},l=this;try{for(var c=na(e.childNodes),u=c.next();!u.done&&"break"!==s(u.value);u=c.next());}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(o.length>0){a||(a=hi.fromData(o)),o.length>t.maxFeatures&&(o=o.splice(0,t.maxFeatures));var d={bbox:a,features:o,type:"FeatureCollection"},h={};return Wi.addAttributesToObject(e,h),Object.keys(h).length>0&&(d.properties=h),d}}}return null},e._tryParseFeature=function(e,t,r){var n,i=this;switch(r=this._analyzeNode(e,r),e.tagName){case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiCurve":case"MultiSurface":case"MultiPolygon":case"Feature":return this._parseGeometry(e,r);case"geometry":return e.childNodes.forEach((function(e){var o=i._tryParseFeature(e,t,r);o&&(n=o)})),n;case"boundedBy":break;default:if(e.attributes&&Object.keys(e.attributes).forEach((function(r){"gml:id"===r?t.id=e.attributes[r]:r.startsWith("xmlns")||r.includes(":")||r.startsWith("_")||(t[r]=e.attributes[r])})),e.childNodes&&0!==e.childNodes.length)return e.childNodes.forEach((function(e){var o=i._tryParseFeature(e,t,r);o&&(n=o)})),n;this._parseMetadata(e,t,r)}return null},e._parseFeature=function(e,t){var r,n,i,o={},a=null;t=this._analyzeNode(e,t);try{for(var s=na(e.childNodes),l=s.next();!l.done;l=s.next()){var c=l.value;switch(c.tagName){case"boundedBy":a=this._parseEnvelope(c,t);break;case"geometry":i=this._parseGeometry(c,t);break;default:this._parseMetadata(c,o,t)}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i?(e.attributes&&e.attributes.id&&(i.id=e.attributes.id),i.bbox=a,i.properties=Object.assign(i.properties,o),i):null},e._parseMetadata=function(e,t,r){!r.parseStyles&&Wi.ignoreProperty(e.tagName,e.value)||(t[e.tagName]=r.propertyTypes&&r.propertyTypes[e.tagName]?Wi.tryCastObject(e.value,r.propertyTypes[e.tagName]):e.value)},e._parseEnvelope=function(e,t){var r,n=this,i=Wi.getElementByTagName("Envelope",e);if(i){var o,a;if(t=this._analyzeNode(i,t),i.childNodes.forEach((function(e){switch(e.tagName){case"lowerCorner":(r=n._parseCoordinates(e,t))&&r.length>0&&(o=r[0]);break;case"upperCorner":(r=n._parseCoordinates(e,t))&&r.length>0&&(a=r[0])}})),o&&a)return o.length>=3&&a.length>=3?[o[0],o[1],o[2],a[0],a[1],a[2]]:[o[0],o[1],a[0],a[1]]}else{var s=Wi.getElementByTagName("Box",e);if(s&&s.childNodes){t=this._analyzeNode(s,t);var l=Wi.getElementByTagName("coordinates",s);if(l&&l.value&&(r=this._parseCoordinates(l,t))&&r.length>=2)return[r[0][0],r[0][1],r[1][0],r[1][1]]}}return null},e._parsePoint=function(e,t){var r,n;if(e.childNodes){var i=void 0,o={};try{for(var a=na(e.childNodes),s=a.next();!s.done;s=a.next()){var l=s.value;switch(l.tagName){case"pos":case"coordinates":var c=this._parseCoordinates(l,t);c&&c.length>0&&(i=c[0]);break;default:this._parseMetadata(l,o,t)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}if(i)return{geometry:{coordinates:i,type:"Point"},properties:o,type:"Feature"}}return null},e._parseLineString=function(e,t){var r,n;if(e.childNodes){var i=void 0,o={};try{for(var a=na(e.childNodes),s=a.next();!s.done;s=a.next()){var l=s.value;switch(l.tagName){case"pos":case"posList":case"coordinates":i=this._parseCoordinates(l,t);break;default:this._parseMetadata(l,o,t)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}if(i&&i.length>=2)return{geometry:{coordinates:i,type:"LineString"},properties:o,type:"Feature"}}return null},e._parsePolygon=function(e,t){var r,n,i=this;if(e.childNodes){var o,a=[],s={};try{for(var l=na(e.childNodes),c=l.next();!c.done;c=l.next()){var u=c.value;switch(u.tagName){case"outerBoundaryIs":case"innerBoundaryIs":case"exterior":case"interior":u.childNodes&&u.childNodes.forEach((function(e){"LinearRing"===e.tagName&&e.childNodes&&e.childNodes.length>0&&(o=i._parseCoordinates(e.childNodes[0],t)).length>=3&&(Wi.closeRing(o),a.push(o))}));break;default:this._parseMetadata(u,s,t)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(a.length>=1)return{geometry:{coordinates:a,type:"Polygon"},properties:s,type:"Feature"}}return null},e._parseMultiGeometry=function(e,t){var r,n,i,o,a,s,l,c,u,d,h,p,m=[],y={};try{for(var f=na(e.childNodes),g=f.next();!g.done;g=f.next()){var b=g.value;switch(b.tagName){case"pointMember":case"pointMembers":case"lineStringMember":case"lineStringMembers":case"polygonMember":case"polygonMembers":case"curveMember":case"curveMembers":case"surfaceMember":case"surfaceMembers":try{for(var v=(i=void 0,na(b.childNodes)),M=v.next();!M.done;M=v.next()){var x=M.value;(h=this._parseGeometry(x,t))&&m.push(h.geometry)}}catch(e){i={error:e}}finally{try{M&&!M.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}break;default:this._parseMetadata(b,y,t)}}}catch(e){r={error:e}}finally{try{g&&!g.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}var S=[];switch(e.tagName){case"MultiPoint":try{for(var w=na(m),_=w.next();!_.done;_=w.next())"Point"===(L=_.value).type?S.push(L.coordinates):"MultiPoint"===L.type&&(S=S.concat(L.coordinates))}catch(e){a={error:e}}finally{try{_&&!_.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}S.length>0&&(p={coordinates:S,type:"MultiPoint"});break;case"MultiLineString":case"MultiCurve":try{for(var T=na(m),I=T.next();!I.done;I=T.next())"LineString"===(L=I.value).type?S.push(L.coordinates):"MultiLineString"===L.type&&(S=S.concat(L.coordinates))}catch(e){l={error:e}}finally{try{I&&!I.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}S.length>0&&(p={coordinates:S,type:"MultiLineString"});break;case"MultiSurface":case"MultiPolygon":try{for(var C=na(m),k=C.next();!k.done;k=C.next()){var L;"Polygon"===(L=k.value).type?S.push(L.coordinates):"MultiPolygon"===L.type&&(S=S.concat(L.coordinates))}}catch(e){u={error:e}}finally{try{k&&!k.done&&(d=C.return)&&d.call(C)}finally{if(u)throw u.error}}S.length>0&&(p={coordinates:S,type:"MultiPolygon"})}return p?{geometry:p,properties:y,type:"Feature"}:null},e._analyzeNode=function(e,t){if(t=t||{},e&&e.attributes){var r=e.attributes.dimension||e.attributes.srsDimension;r&&(t.dimension=r);var n=e.attributes.srsName;if("boolean"!=typeof t.isMercator&&zo.isSridSupported(n,"mercator")&&(t.isMercator=!0),"boolean"!=typeof t.isAxisOrderLonLat)if(zo.isSridAxisLonLat(n))t.isAxisOrderLonLat=!0;else if(e.attributes.schemaLocation){var i=e.attributes.schemaLocation.toLowerCase();(i.includes("service=wfs")&&i.includes("version=1.0.0")||i.includes("/wfs/1.0.0/")||zo.isEndpointReversed(i))&&(t.isAxisOrderLonLat=!0)}}return t},e._parseCoordinates=function(e,t){t=t||{};var r=[];if(e&&this._coordinateTags.has(e.tagName)){var n=void 0,i=void 0,o=void 0,a=e.value,s=!1,l=this._coordinate2Rx;if("3"===t.dimension&&(l=this._coordinate3Rx),e.attributes&&(("3"!==t.dimension&&"3"===e.attributes.dimension||"3"===e.attributes.srsDimension)&&(l=this._coordinate3Rx),"coordinates"===e.tagName)){var c=".",u=",",d=" ";e.attributes.decimal&&"."!==(c=e.attributes.decimal)&&(a=a.replace(new RegExp(c,"g"),"X")),e.attributes.cs&&","!==(u=e.attributes.cs)&&(a=a.replace(new RegExp(u,"g"),",")),e.attributes.ts&&" "!==(d=e.attributes.ts)&&(a=a.replace(new RegExp(d,"g")," ")),"."!==c&&(a=a.replace(/X/g,"."))}for(n=l.exec(a);n;){if(n.length>=3&&(i=parseFloat(n[1]),o=parseFloat(n[2]),Wi.isValidNumber(i)&&Wi.isValidNumber(o))){var h=null;if(n.length>=4&&(h=parseFloat(n[3]),Wi.isValidNumber(h)||(h=null)),t.isMercator){var p=[i,o];t.isAxisOrderLonLat&&(p=[o,i]),null!==h&&p.push(h),r.push(zo.toWgs84(p))}else{if("boolean"!=typeof t.isAxisOrderLonLat&&(t.isAxisOrderLonLat=(i>=90||i<=-90)&&o<=90&&o>=-90,t.isAxisOrderLonLat&&r.length>0)){s=!0;break}t.isAxisOrderLonLat?r.push(Wi.createPosition(i,o,h,!0)):r.push(Wi.createPosition(o,i,h,!0))}}n=l.exec(a)}if(s)return this._parseCoordinates(e,t)}return r},e._coordinate2Rx=/(-?[0-9]+[.0-9E]*)[,\s]+(-?[0-9]+[.0-9E]*)[\s\r\n\t]*/g,e._coordinate3Rx=/(-?[0-9]+[.0-9E]*)[,\s]+(-?[0-9]+[.0-9E]*)[,\s]+(-?[0-9]+[.0-9E]*)[\s\r\n\t]*/g,e._coordinateTags=new Set(["pos","coordinates","posList","lowerCorner","upperCorner"]),e}(),oa=Object.freeze({__proto__:null,CsvReader:Vi,CsvWriter:Hi,GmlReader:ia,GmlWriter:so,SimpleXmlReader:ji,SimpleXmlWriter:oo}),aa=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},sa=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},la=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ca=function(){function e(e){if(this._options={url:void 0},this._featureDetails={},this._allPropertyTypes={},this._supportedOperations=new Set(["GetCapabilities","GetFeature","DescribeFeatureType"]),e){var t=zo.getBaseUrl(e.url);t&&(this._options.url=t),Wi.isValidString(e.proxyService)&&(this._options.proxyService=e.proxyService),this._options.transformRequest=e.transformRequest}if(!this._options.url)throw new Error("Invalid URL specified for WFS Source.")}return e.prototype.getCapabilities=function(){return aa(this,void 0,void 0,(function(){var e,t,r;return sa(this,(function(n){switch(n.label){case 0:return this._capabilities?[2,this._capabilities]:(e={request:"GetCapabilities",service:"WFS"},[4,Wi.ajaxGetAsync(zo.createUrlRequest(this._options.url,e,!0),this._options.proxyService,this._options.transformRequest,!1,"WFS")]);case 1:if(t=n.sent(),this._checkForExceptions(t),r=this._parseCapabilities(t))return this._capabilities=r,[2,r];throw new Error("Error parsing capabilities.")}}))}))},e.prototype.describeFeatureTypes=function(e){return aa(this,void 0,void 0,(function(){var t,r,n,i,o,a,s=this;return sa(this,(function(l){switch(l.label){case 0:return[4,this.getCapabilities()];case 1:return t=l.sent(),e&&e.length>0?("string"==typeof e&&(e=[e]),r=[],n=[],e.forEach((function(e){var t=e.includes(":")?e.substr(e.indexOf(":")+1):e,i=s._featureDetails[t]?s._featureDetails[t]:s._featureDetails[t+"Type"];i?r.push(i):n.push(e)})),n.length>0?(i={request:"DescribeFeatureType",service:"WFS",version:t.version},o=n.join(","),["1.0.0","1.1.0"].includes(t.version)?i.typeName=o:i.typeNames=o,[4,Wi.ajaxGetAsync(zo.createUrlRequest(this._options.url,i,!0),this._options.proxyService,this._options.transformRequest,!1,"WFS")]):[3,3]):[3,4];case 2:a=l.sent(),this._checkForExceptions(a),a&&this._parseFeatureTypeDescription(a).forEach((function(e){s._featureDetails[e.name]=e,r.push(e)})),l.label=3;case 3:if(r.length>0)return[2,r];l.label=4;case 4:return[2,null]}}))}))},e.prototype.getFeatures=function(e){return aa(this,void 0,void 0,(function(){var t,r,n,i;return sa(this,(function(o){switch(o.label){case 0:return[4,this._queryFeatures(e)];case 1:return t=o.sent(),("1.0.0"===this._capabilities.version||zo.isEndpointReversed(this._options.url))&&(r=!0),[4,Io(t,{isAxisOrderLonLat:r,propertyTypes:this._allPropertyTypes})];case 2:return(n=o.sent())&&n.features&&n.features.length>0?((i=n.bbox)||(i=hi.fromData(n.features)),[2,{bbox:i,features:n.features,type:"FeatureCollection"}]):[2,null]}}))}))},e.prototype.getFeatureInfo=function(e){return aa(this,void 0,void 0,(function(){var t,r,n;return sa(this,(function(i){switch(i.label){case 0:return[4,this._queryFeatures(e)];case 1:return(t=i.sent())&&(r=new ji,(n=r.parse(t)).root)?[2,Wi.simplifyXmlNode(n.root)]:[2,null]}}))}))},e.prototype.getFeatureCount=function(e){return aa(this,void 0,void 0,(function(){var t,r,n;return sa(this,(function(i){switch(i.label){case 0:return[4,this._queryFeatures(e,!0)];case 1:return(t=i.sent())&&(r=(new ji).parse(t))&&r.root&&r.root.attributes&&r.root.attributes.numberOfFeatures&&(n=parseInt(r.root.attributes.numberOfFeatures),Wi.isValidNumber(n))?[2,n]:[2,0]}}))}))},e.prototype._queryFeatures=function(e,t){return aa(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,c,u,d;return sa(this,(function(h){switch(h.label){case 0:return[4,this.getCapabilities()];case 1:if(r=h.sent(),!e.typeNames)throw new Error("Feature types must be specified.");if(n=Array.isArray(e.typeNames)?e.typeNames:[e.typeNames],i={featureID:e.featureId,propertyName:e.propertyNames,request:"GetFeature",service:"WFS",sortBy:e.sortBy,srsName:this._getBestSrsName(n),version:r.version},e.customDimensions&&(i=Object.assign(i,e.customDimensions)),!i.srsName){if(null===e.fallbackSrs)throw new Error("No supported spatial reference identifier found in capabilities.");e.fallbackSrs?i.srsName=e.fallbackSrs:i.srsName="urn:ogc:def:crs:EPSG::4326"}return t&&(i.resultType="hits"),o=n.join(","),[4,this.describeFeatureTypes(n)];case 2:if(h.sent(),["1.0.0","1.1.0"].includes(r.version)?(i.maxFeatures=e.count,i.typeName=o):(i.count=e.count,i.typeNames=o),e.startIndex&&(i.startIndex=e.startIndex),e.bbox&&e.bbox.length>=4&&(a=e.bbox[0],s=e.bbox[1],l=void 0,c=void 0,4===e.bbox.length?(l=e.bbox[2],c=e.bbox[3]):6===e.bbox.length&&(l=e.bbox[3],c=e.bbox[4]),i.bbox="".concat(s.toString(),",").concat(a.toString(),",").concat(c.toString(),",").concat(l.toString(),",").concat(i.srsName),e.filter))throw new Error("bbox and filter request options cannot be used together.");e.filter?i.filter=e.filter.toXml(r.version):e.cql_filter&&(i.cql_filter=e.cql_filter),u=zo.createUrlRequest(this._options.url,i,!0),h.label=3;case 3:return h.trys.push([3,5,,6]),[4,Wi.ajaxGetAsync(u,this._options.proxyService,this._options.transformRequest,!1,"WFS")];case 4:return d=h.sent(),this._checkForExceptions(d),[2,d];case 5:throw h.sent();case 6:return[2]}}))}))},e.prototype._parseCapabilities=function(e){var t,r,n=this,i=(new ji).parse(e);if(Wi.docHasData(i)){var o={featureTypes:[],namespaces:{},operations:[],version:"2.0.0"},a=function(e){if(o.namespaces=i.namespaces,e.childNodes&&e.childNodes.length>0)switch(e.tagName){case"Service":case"ServiceIdentification":e.childNodes.forEach((function(t){var r=t.value&&""!==t.value?t.value:null;if(r)switch(t.tagName){case"Title":o.title=r;break;case"Abstract":o.abstract=r;break;case"ServiceTypeVersion":o.version=r}"Service"===e.tagName&&(o.version="1.0.0")}));break;case"ServiceProvider":var t=Wi.getElementByTagName("ProviderName",e);t&&t.value&&""!==t.value&&(o.providerName=t.value);break;case"OperationsMetadata":e.childNodes.forEach((function(e){if("Operation"===e.tagName&&e.attributes){var t=e.attributes.name;t&&n._supportedOperations.has(t)&&o.operations.push(t)}}));break;case"Capability":var r=Wi.getElementByTagName("Request",e.childNodes[0]);r&&r.childNodes&&r.childNodes.forEach((function(e){e.tagName&&n._supportedOperations.has(e.tagName)&&o.operations.push(e.tagName)}));break;case"FeatureTypeList":e.childNodes.forEach((function(e){if("FeatureType"===e.tagName){var t=n._parseFeatureType(e,o.version);t&&o.featureTypes.push(t)}}))}};try{for(var s=la(i.root.childNodes),l=s.next();!l.done;l=s.next())a(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o}return null},e.prototype._parseFeatureType=function(e,t){var r={otherSrs:[]},n=null,i=[];return e.childNodes.forEach((function(e){var t=e.value;if(t&&""!==t)switch(e.tagName){case"Name":t.includes(":")&&(t=t.substr(t.lastIndexOf(":")+1)),r.name=t;break;case"Title":r.title=t;break;case"Abstract":r.abstract=t;break;case"SRS":case"DefaultCRS":zo.isSridSupported(t,"wgs84")?r.defaultSrs=t:n=zo.isSridSupported(t,"mercator")||zo.isSridSupported(t,"extended")?t:"urn:ogc:def:crs:EPSG::4326";break;case"OtherCRS":zo.isSridSupported(t,"wgs84")?r.otherSrs.push(t):(zo.isSridSupported(t,"mercator")||zo.isSridSupported(t,"extended"))&&i.push(t);break;case"LatLongBoundingBox":r.bounds=s.data.BoundingBox.fromEdges(parseFloat(e.attributes.minx),parseFloat(e.attributes.miny),parseFloat(e.attributes.maxx),parseFloat(e.attributes.maxy));break;case"WGS84BoundingBox":var o=zo.parseWGS84BoundingBox(e);o&&(r.bounds=o)}})),0===r.otherSrs.length&&(n?r.defaultSrs=n:i.length>0&&(r.otherSrs=i)),r.defaultSrs||r.otherSrs.length>0||"1.0.0"!==t&&"1.1.0"!==t?r:null},e.prototype._parseFeatureTypeDescription=function(e){var t,r,n=this,i=[],o={},a=(new ji).parse(e);if(Wi.docHasData(a)){var s=function(e){if(e.childNodes&&e.childNodes.length>0)switch(e.tagName){case"element":if(e.attributes){var t=e.attributes.name,r=e.attributes.type;if(r&&r.includes(":")){var s=r.split(":");s.length>1&&(o[s[1]]={name:t,nsPrefix:s[0]})}else o[r]={name:t,nsPrefix:void 0}}break;case"complexType":var c=e.attributes?e.attributes.name:null;if(c){var u=c,d=Wi.getElementByTagName("complexContent",e);if(d){var h=Wi.getElementByTagName("extension",d);if(h){var p=Wi.getElementByTagName("sequence",h);if(p&&p.childNodes){var m,y,f={};p.childNodes.forEach((function(e){y=e.attributes,"element"===e.tagName&&y&&y.type&&y.name&&(y.type.startsWith("gml:")&&(m=y.name),f[y.name]=Wi.sanitizeTypeName(y.type),n._allPropertyTypes[y.name]=f[y.name])}));var g=void 0,b=void 0,v=o[c];v&&(u=v.name,(b=v.nsPrefix)&&(g=a.namespaces[b])),i.push({capability:l._capabilities.featureTypes.find((function(e){return e.name===c})),geomPropertyName:m,name:u,namespace:g,namespacePrefix:b,propertyTypes:f})}}}}}},l=this;try{for(var c=la(a.root.childNodes),u=c.next();!u.done;u=c.next())s(u.value)}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}}return i},e.prototype._checkForExceptions=function(e){if(e){if(e.includes("ExceptionReport ")){var t=(new ji).parse(e),r=void 0;switch(t.root.tagName){case"ServiceExceptionReport":r=Wi.getElementByTagName("ServiceException",t.root);break;case"ExceptionReport":r=Wi.getElementByTagName("ExceptionText",t.root)}if(r&&r.value&&""!==r.value)throw r.value;throw new Error("WFS server error. Incomplete WFS request.")}if(e.includes("<div "))throw new Error("WFS server error. Incomplete WFS request.")}},e.prototype._getBestSrsName=function(e){var t,r=!0,n=!0,i=!0;return this._capabilities.featureTypes.forEach((function(o){if(e.includes(o.name)){var a=!1;r&&(o.defaultSrs&&zo.isSridSupported(o.defaultSrs,"wgs84")&&(a=!0,t=o.defaultSrs),a||(o.otherSrs?o.otherSrs.forEach((function(e){zo.isSridSupported(e,"wgs84")&&(a=!0,t=o.defaultSrs)})):(a=!0,t="urn:ogc:def:crs:EPSG::4326")),a||(r=a)),n&&(o.defaultSrs&&zo.isSridSupported(o.defaultSrs,"mercator")&&(a=!0,t=o.defaultSrs),a||o.otherSrs&&o.otherSrs.forEach((function(e){zo.isSridSupported(e,"mercator")&&(a=!0,t=o.defaultSrs)})),a||(n=a)),i&&(o.defaultSrs&&zo.isSridSupported(o.defaultSrs,"extended")&&(a=!0,t=o.defaultSrs),a||o.otherSrs&&o.otherSrs.forEach((function(e){zo.isSridSupported(e,"extended")&&(a=!0,t=o.defaultSrs)})),a||(i=a))}})),t},e}(),ua=function(){function e(e){this._name=e}return e.prototype.toXml=function(e){return"<PropertyName>".concat(this._name,"</PropertyName>")},e}(),da=function(){function e(){}return e.prototype.toXml=function(e){return'<Filter xmlns="http://www.opengis.net/ogc" '+'xmlns:gml="http://www.opengis.net/gml">'.concat(this._buildContent(e),"</Filter>")},e._serializeValue=function(t,r,n){if(t instanceof ua)return t.toXml();if(t instanceof e)return t._buildContent(r);if(t instanceof Date)return"<Literal>".concat(t.toISOString(),"</Literal>");if(!Array.isArray(t))return"object"==typeof t?so.write(t,{includeNamespace:!1,prettyPrint:!1,srsName:n}):"<Literal>".concat(t.toString(),"</Literal>");if(t.length>=4){var i=t[0],o=t[1],a=void 0,s=void 0;4===t.length?(a=t[2],s=t[3]):6===t.length&&(a=t[3],s=t[4]);var l=n?' srsName="'.concat(n,'"'):"";return"<gml:Box".concat(l,"><gml:coordinates>").concat(i.toString(),",").concat(o.toString()," ")+"".concat(a.toString(),",").concat(s.toString(),"</gml:coordinates></gml:Box>")}},e}(),ha=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pa=function(e){function t(t){var r=e.call(this)||this;return r._xmlFilter=t.replace(/\n\r/gi,""),r}return ha(t,e),t.prototype._buildContent=function(){return this._xmlFilter},t.prototype.toXml=function(t){return this._xmlFilter&&this._xmlFilter.includes("")?this._xmlFilter:e.prototype.toXml.call(this,t)},t}(da),ma=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ya=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o._options={srsName:"urn:ogc:def:crs:EPSG::4326"},o._isSpatial=!1,"Any"===(i=i||{}).matchAction&&(i.matchAction=void 0),i.matchCase&&(i.matchCase=void 0),Object.assign(o._options,i||{}),o._comparisonType=t,o._value1=r,o._value2=n,o}return ma(t,e),t.prototype._buildContent=function(e){var t=this;if(null!==this._value1&&void 0!==this._value2){var r=["<".concat(this._comparisonType)];return this._options&&Object.keys(this._options).forEach((function(e){r.push(" ",e,'="',t._options[e],'"')})),r.push(">"),null!==this._value1&&r.push(da._serializeValue(this._value1,e,this._options.srsName)),null!==this._value2&&r.push(da._serializeValue(this._value2,e,this._options.srsName)),r.push("</".concat(this._comparisonType,">")),r.join("")}return""},t}(da),fa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ga=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o._options={matchAction:"Any",matchCase:!0},Object.assign(o._options,i||{}),o._upperBoundary=n,o._value=t,o._lowerBoundary=r,o}return fa(t,e),t.prototype._buildContent=function(e){if(this._value&&this._lowerBoundary&&this._upperBoundary){var t=["<PropertyIsBetween"];return this._options&&(this._options.matchCase||t.push(' matchCase="false"'),"Any"!==this._options.matchAction&&t.push(' matchAction="',this._options.matchAction,'"')),t.push(">",da._serializeValue(this._value,e),"<LowerBoundary><Literal>".concat(this._lowerBoundary.toString(),"</Literal></LowerBoundary>"),"<UpperBoundary><Literal>".concat(this._upperBoundary.toString(),"</Literal></UpperBoundary>"),"</PropertyIsBetween>"),t.join("")}return""},t}(da),ba=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),va=function(e){function t(t,r,n){return e.call(this,"PropertyIsEqualTo",t,r,n)||this}return ba(t,e),t}(ya),Ma=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xa=function(e){function t(t,r,n){return e.call(this,"PropertyIsGreaterThan",t,r,n)||this}return Ma(t,e),t}(ya),Sa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wa=function(e){function t(t,r,n){return e.call(this,"PropertyIsGreaterThanOrEqualTo",t,r,n)||this}return Sa(t,e),t}(ya),_a=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ta=function(e){function t(t,r,n){return e.call(this,"PropertyIsLessThan",t,r,n)||this}return _a(t,e),t}(ya),Ia=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ca=function(e){function t(t,r,n){return e.call(this,"PropertyIsLessThanOrEqualTo",t,r,n)||this}return Ia(t,e),t}(ya),ka=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),La=function(e){function t(t,r,n){var i=e.call(this,"PropertyIsLike",t,r,{escapeChar:"\\",singleChar:".",wildCard:"*"})||this;return Object.assign(i._options,n||{}),i}return ka(t,e),t}(ya),Na=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Za=function(e){function t(t,r){return e.call(this,"PropertyIsNil",t,null,r)||this}return Na(t,e),t}(ya),Ea=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),za=function(e){function t(t,r,n){return e.call(this,"PropertyIsNotEqualTo",t,r,n)||this}return Ea(t,e),t}(ya),Ga=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pa=function(e){function t(t,r){return e.call(this,"PropertyIsNull",t,null,r)||this}return Ga(t,e),t}(ya),Aa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ra=function(e){function t(t,r){var n=e.call(this)||this;return n._operator=t,n._filters=r,n}return Aa(t,e),t.prototype._buildContent=function(e){if(this._filters&&this._filters.length>=2){var t=["<",this._operator,">"];return this._filters.forEach((function(r){t.push(r._buildContent(e))})),t.push("</",this._operator,">"),t.join("")}},t}(da),Da=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xa=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.call(this,"And",t)||this}return Da(t,e),t}(Ra),Oa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wa=function(e){function t(t){var r=e.call(this)||this;return r._filter=t,r}return Oa(t,e),t.prototype._buildContent=function(e){return this._filter?"<Not>".concat(this._filter._buildContent(e),"</Not>"):""},t}(da),ja=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ya=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.call(this,"Or",t)||this}return ja(t,e),t}(Ra),Fa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Va=function(e){function t(t,r,n){var i=e.call(this)||this;return i._operator=t,i._value1=r,i._value2=n,i}return Fa(t,e),t.prototype._buildContent=function(e){return["<".concat(this._operator,">"),da._serializeValue(this._value1,e),da._serializeValue(this._value2,e),"</".concat(this._operator,">")].join("")},t}(da),Ha=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ua=function(e){function t(t,r){return e.call(this,"Add",t,r)||this}return Ha(t,e),t}(Va),Ba=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ka=function(e){function t(t,r){return e.call(this,"Div",t,r)||this}return Ba(t,e),t}(Va),Ja=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qa=function(e){function t(t,r){return e.call(this,"Mul",t,r)||this}return Ja(t,e),t}(Va),qa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$a=function(e){function t(t,r){return e.call(this,"Sub",t,r)||this}return qa(t,e),t}(Va),es=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ts=function(e){function t(t){var r=e.call(this)||this;return r._id=t,r}return es(t,e),t.prototype._buildContent=function(e){return e&&"1.1.0"===e?'<GmlObjectId xmlns:gml="http://www.opengis.net/gml" gml:id="'.concat(this._id,'"/>'):'<fes:ResourceId rid="'.concat(this._id,'"/>')},t}(da),rs=Object.freeze({__proto__:null,Add:Ua,And:Xa,BinaryComparisonOpType:ya,CustomFilter:pa,Div:Ka,Filter:da,Id:ts,IsBetween:ga,IsEqual:va,IsGreaterThan:xa,IsGreaterThanOrEqual:wa,IsLessThan:Ta,IsLessThanOrEqual:Ca,IsLike:La,IsNil:Za,IsNotEqual:za,IsNull:Pa,LogicOperatorFilter:Ra,MathOperator:Va,Mul:Qa,Not:Wa,Or:Ya,PropertyName:ua,Sub:$a}),ns=c.merge("atlas.io.ogc.filter",rs),is=Object.freeze({__proto__:null,WKT:Bi,WfsClient:ca,filter:ns}),os=c.merge("atlas.io.core",oa),as=c.merge("atlas.io.ogc",is),ss=Object.freeze({__proto__:null,core:os,ogc:as,read:Io,write:function(e,t){return _o(this,void 0,void 0,(function(){var r;return To(this,(function(n){switch(n.label){case 0:return t=t||{},[4,Co(e,!1)];case 1:switch(r=n.sent(),t.format?t.format.toLowerCase():"geojson"){case"geojson":return[2,JSON.stringify({bbox:r.bbox,features:r.features,type:"FeatureCollection"},Lo,t.prettyPrint?t.indentChars||"\t":null)];case"csv":return[2,eo.write(r.features,t)];default:return[2,wo.write(r,t)]}}}))}))},writeCompressed:function(e,t,r){return _o(this,void 0,void 0,(function(){var n,i,o,a,s,l;return To(this,(function(c){switch(c.label){case 0:return r=r||{},[4,Co(e,!1)];case 1:switch(n=c.sent(),r.format?r.format.toLowerCase():"geojson"){case"geojson":return[3,2];case"csv":return[3,3]}return[3,4];case 2:return i=JSON.stringify({bbox:n.bbox,features:n.features,type:"FeatureCollection"},Lo,r.prettyPrint?r.indentChars||"\t":null),o="doc.json",[3,6];case 3:if(i=eo.write(n.features,r),o="doc.",r.delimiter)switch(r.delimiter){case",":o+="csv";break;case"\t":o+="tsv";break;default:o+="txt"}else o+="csv";return[3,6];case 4:return[4,wo.writeCompressed(n,t,r)];case 5:return[2,c.sent()];case 6:if(!i)return[3,8];switch((a=new Yi).file(o,i),s="blob",t){case"Base64":s="base64";break;case"ArrayBuffer":s="uint8array"}return[4,a.generateAsync({type:s})];case 7:return l=c.sent(),"base64"===s&&(l="data:application/zip;base64,"+l),[2,l];case 8:return[2,null]}}))}))}}),ls=(c.merge("atlas.layer",Ko),c.merge("atlas.io",ss));t.io=ls},29279:(e,t,r)=>{r(63534),r(27727),r(40590),r(68290),r(12619),r(64216),r(2957),r(66195),r(64100),r(53006),r(74910),r(42820),r(36611),r(49576),r(59747),r(69218),r(97755),r(15852),r(36012),r(84095),r(12824),r(75670),r(10678),r(3101),r(67579),r(41412),r(23023),r(65933),r(59250),r(64484),r(7899),r(8240),r(47258),r(4632),r(90345),r(5086),r(8538),r(56582),r(94641),r(99437),r(64189),r(98741),r(37514),r(15195),r(4895),r(92630),r(80115),r(61408),r(23604),r(32982),r(17),r(18636),r(92157),r(41128),r(95755),r(58476),r(47746),r(19693),r(80475),r(94582),r(59581),r(533),r(39958),r(10557),r(14913),r(63555),r(35231),r(68763),r(5941),r(95843),r(79432),r(18665),r(5784),r(67287),r(4657),r(67500),r(43148),r(78636),r(17870),r(3848),r(48825),r(61890),r(40173),r(50785),r(58649),r(54989),r(68329),r(5336),r(70825),r(29979),r(39596),r(34607),r(8915),r(35594),r(69607),r(75193),r(8505),r(53024),r(77249),r(5038),r(34427),r(65987),r(18293),r(79073),r(87136),r(38802),r(6048),r(52231),r(96088),r(94009),r(96943),r(80577),r(4038),r(85365),r(96316),r(42006),r(88844),r(26161),r(11902),r(34867),r(60769),r(48252),r(42799),r(36772),r(75483),r(27956),r(53733),r(49639),r(19570),r(956),r(19323),r(41145),r(59897),r(3212),r(82157),r(1610),r(46097),r(96982),r(15812),r(89560),r(53270),r(42169),r(79389),r(87787),r(31586),r(69193),r(83396),r(7918),r(45708),r(10121),r(70863),r(3446),r(93016),r(1772),r(33734),r(15679),r(53746),r(9513),r(9096),r(46395),r(47950),r(52357),r(95889),r(14758),r(36148),r(66609),r(20861),r(71905),r(85213),r(97182),r(12279),r(39302),r(70147),r(66217),r(97966),r(35186),r(35944),r(44787),r(50632),r(52278),r(14245),r(52492),r(93266),r(37192),r(37220),r(82432),r(32483),r(36696),r(58083),r(67811),r(34606),r(57948),r(60436),r(12091),r(98182),r(92276),r(95031),r(89853),r(94308),r(14912),r(37759),r(27144),e.exports=r(29720)},59085:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},40298:(e,t,r)=>{var n=r(31602),i=r(53105),o=r(21395),a=n("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,i(null)),e.exports=function(e){s[a][e]=!0}},67234:(e,t,r)=>{"use strict";var n=r(13686);e.exports=function(e,t,r){return t+(r?n(e,t,!0).length:1)}},65190:e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},73938:(e,t,r)=>{var n=r(65335);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},85343:(e,t,r)=>{"use strict";var n,i=r(65077),o=r(30200),a=r(65335),s=r(31883),l=r(83062),c=r(21395),u=r(97485),d=r(43610).f,h=r(97970),p=r(39686),m=r(31602),y=r(50665),f=o.DataView,g=f&&f.prototype,b=o.Int8Array,v=b&&b.prototype,M=o.Uint8ClampedArray,x=M&&M.prototype,S=b&&h(b),w=v&&h(v),_=Object.prototype,T=_.isPrototypeOf,I=m("toStringTag"),C=y("TYPED_ARRAY_TAG"),k=!(!o.ArrayBuffer||!o.DataView),L=k&&!!p,N=!1,Z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},E=function(e){return a(e)&&s(Z,l(e))};for(n in Z)o[n]||(L=!1);if((!L||"function"!=typeof S||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},L))for(n in Z)o[n]&&p(o[n],S);if((!L||!w||w===_)&&(w=S.prototype,L))for(n in Z)o[n]&&p(o[n].prototype,w);if(L&&h(x)!==w&&p(x,w),i&&!s(w,I))for(n in N=!0,d(w,I,{get:function(){return a(this)?this[C]:void 0}}),Z)o[n]&&c(o[n],C,n);k&&p&&h(g)!==_&&p(g,_),e.exports={NATIVE_ARRAY_BUFFER:k,NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:N&&C,aTypedArray:function(e){if(E(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(T.call(S,e))return e}else for(var t in Z)if(s(Z,n)){var r=o[t];if(r&&(e===r||T.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportProto:function(e,t,r){if(i){if(r)for(var n in Z){var a=o[n];a&&s(a.prototype,e)&&delete a.prototype[e]}w[e]&&!r||u(w,e,r?t:L&&v[e]||t)}},exportStatic:function(e,t,r){var n,a;if(i){if(p){if(r)for(n in Z)(a=o[n])&&s(a,e)&&delete a[e];if(S[e]&&!r)return;try{return u(S,e,r?t:L&&b[e]||t)}catch(e){}}for(n in Z)!(a=o[n])||a[e]&&!r||u(a,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||s(Z,t)},isTypedArray:E,TypedArray:S,TypedArrayPrototype:w}},24497:(e,t,r)=>{"use strict";var n=r(30200),i=r(65077),o=r(85343).NATIVE_ARRAY_BUFFER,a=r(21395),s=r(13075),l=r(92074),c=r(65190),u=r(7317),d=r(33747),h=r(6283),p=r(64789).f,m=r(43610).f,y=r(27806),f=r(75282),g=r(99206),b=g.get,v=g.set,M="ArrayBuffer",x="DataView",S="prototype",w="Wrong index",_=n[M],T=_,I=n[x],C=n.Math,k=n.RangeError,L=1/0,N=C.abs,Z=C.pow,E=C.floor,z=C.log,G=C.LN2,P=function(e,t,r){var n,i,o,a=new Array(r),s=8*r-t-1,l=(1<<s)-1,c=l>>1,u=23===t?Z(2,-24)-Z(2,-77):0,d=e<0||0===e&&1/e<0?1:0,h=0;for((e=N(e))!=e||e===L?(i=e!=e?1:0,n=l):(n=E(z(e)/G),e*(o=Z(2,-n))<1&&(n--,o*=2),(e+=n+c>=1?u/o:u*Z(2,1-c))*o>=2&&(n++,o/=2),n+c>=l?(i=0,n=l):n+c>=1?(i=(e*o-1)*Z(2,t),n+=c):(i=e*Z(2,c-1)*Z(2,t),n=0));t>=8;a[h++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*d,a},A=function(e,t){var r,n=e.length,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:c?-1/0:L;r+=Z(2,t),u-=a}return(c?-1:1)*r*Z(2,u-t)},R=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},D=function(e){return[255&e]},X=function(e){return[255&e,e>>8&255]},O=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return P(e,23,4)},j=function(e){return P(e,52,8)},Y=function(e,t){m(e[S],t,{get:function(){return b(this)[t]}})},F=function(e,t,r,n){var i=h(+r),o=b(e);if(i+t>o.byteLength)throw k(w);var a=b(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+t);return n?l:l.reverse()},V=function(e,t,r,n,i,o){var a=h(+r),s=b(e);if(a+t>s.byteLength)throw k(w);for(var l=b(s.buffer).bytes,c=a+s.byteOffset,u=n(+i),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]};if(o){if(!l((function(){_(1)}))||!l((function(){new _(-1)}))||l((function(){return new _,new _(1.5),new _(NaN),_.name!=M}))){for(var H,U=(T=function(e){return c(this,T),new _(h(e))})[S]=_[S],B=p(_),K=0;B.length>K;)(H=B[K++])in T||a(T,H,_[H]);U.constructor=T}var J=new I(new T(2)),Q=I[S].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||s(I[S],{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,M);var t=h(e);v(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},I=function(e,t,r){c(this,I,x),c(e,T,x);var n=b(e).byteLength,o=u(t);if(o<0||o>n)throw k("Wrong offset");if(o+(r=void 0===r?n-o:d(r))>n)throw k("Wrong length");v(this,{buffer:e,byteLength:r,byteOffset:o}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=o)},i&&(Y(T,"byteLength"),Y(I,"buffer"),Y(I,"byteLength"),Y(I,"byteOffset")),s(I[S],{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(F(this,4,e,arguments[1]))},getUint32:function(e){return R(F(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return A(F(this,4,e,arguments[1]),23)},getFloat64:function(e){return A(F(this,8,e,arguments[1]),52)},setInt8:function(e,t){V(this,1,e,D,t)},setUint8:function(e,t){V(this,1,e,D,t)},setInt16:function(e,t){V(this,2,e,X,t,arguments[2])},setUint16:function(e,t){V(this,2,e,X,t,arguments[2])},setInt32:function(e,t){V(this,4,e,O,t,arguments[2])},setUint32:function(e,t){V(this,4,e,O,t,arguments[2])},setFloat32:function(e,t){V(this,4,e,W,t,arguments[2])},setFloat64:function(e,t){V(this,8,e,j,t,arguments[2])}});f(T,M),f(I,x),t[M]=T,t[x]=I},29688:(e,t,r)=>{"use strict";var n=r(92612),i=r(6539),o=r(33747);e.exports=[].copyWithin||function(e,t){var r=n(this),a=o(r.length),s=i(e,a),l=i(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:i(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in r?r[s]=r[l]:delete r[s],s+=d,l+=d;return r}},27806:(e,t,r)=>{"use strict";var n=r(92612),i=r(6539),o=r(33747);e.exports=function(e){for(var t=n(this),r=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),l=a>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},10516:(e,t,r)=>{"use strict";var n=r(48533),i=r(15144),o=n(0),a=i("forEach");e.exports=a?function(e){return o(this,e,arguments[1])}:[].forEach},51027:(e,t,r)=>{"use strict";var n=r(39862),i=r(92612),o=r(41332),a=r(99034),s=r(33747),l=r(52057),c=r(51898);e.exports=function(e){var t,r,u,d,h=i(e),p="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,f=void 0!==y,g=0,b=c(h);if(f&&(y=n(y,m>2?arguments[2]:void 0,2)),null==b||p==Array&&a(b))for(r=new p(t=s(h.length));t>g;g++)l(r,g,f?y(h[g],g):h[g]);else for(d=b.call(h),r=new p;!(u=d.next()).done;g++)l(r,g,f?o(d,y,[u.value,g],!0):u.value);return r.length=g,r}},58186:(e,t,r)=>{var n=r(5476),i=r(33747),o=r(6539);e.exports=function(e){return function(t,r,a){var s,l=n(t),c=i(l.length),u=o(a,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},3470:(e,t,r)=>{"use strict";var n=r(5476),i=r(7317),o=r(33747),a=r(15144),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");e.exports=l||c?function(e){if(l)return s.apply(this,arguments)||0;var t=n(this),r=o(t.length),a=r-1;for(arguments.length>1&&(a=Math.min(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:s},45634:(e,t,r)=>{var n=r(92074),i=r(31602)("species");e.exports=function(e){return!n((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},48533:(e,t,r)=>{var n=r(39862),i=r(48664),o=r(92612),a=r(33747),s=r(62998);e.exports=function(e,t){var r=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,p=t||s;return function(t,s,m){for(var y,f,g=o(t),b=i(g),v=n(s,m,3),M=a(b.length),x=0,S=r?p(t,M):l?p(t,0):void 0;M>x;x++)if((h||x in b)&&(f=v(y=b[x],x,g),e))if(r)S[x]=f;else if(f)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:S.push(y)}else if(u)return!1;return d?-1:c||u?u:S}}},52237:(e,t,r)=>{var n=r(59085),i=r(92612),o=r(48664),a=r(33747);e.exports=function(e,t,r,s,l){n(t);var c=i(e),u=o(c),d=a(c.length),h=l?d-1:0,p=l?-1:1;if(r<2)for(;;){if(h in u){s=u[h],h+=p;break}if(h+=p,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=p)h in u&&(s=t(s,u[h],h,c));return s}},62998:(e,t,r)=>{var n=r(65335),i=r(18679),o=r(31602)("species");e.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},39862:(e,t,r)=>{var n=r(59085);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},41332:(e,t,r)=>{var n=r(73938);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},97499:(e,t,r)=>{var n=r(31602)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},18569:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},83062:(e,t,r)=>{var n=r(18569),i=r(31602)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},5959:(e,t,r)=>{"use strict";var n=r(43610).f,i=r(53105),o=r(13075),a=r(39862),s=r(65190),l=r(52929),c=r(45723),u=r(93524),d=r(65077),h=r(82014).fastKey,p=r(99206),m=p.set,y=p.getterFor;e.exports={getConstructor:function(e,t,r,c){var u=e((function(e,n){s(e,u,t),m(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=n&&l(n,e[c],e,r)})),p=y(t),f=function(e,t,r){var n,i,o=p(e),a=g(e,t);return a?a.value=r:(o.last=a={index:i=h(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),d?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},g=function(e,t){var r,n=p(e),i=h(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return o(u.prototype,{clear:function(){for(var e=p(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,r=p(t),n=g(t,e);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),d?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=p(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!g(this,e)}}),o(u.prototype,r?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return f(this,0===e?0:e,t)}}:{add:function(e){return f(this,e=0===e?0:e,e)}}),d&&n(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(e,t,r){var n=t+" Iterator",i=y(t),o=y(n);c(e,t,(function(e,t){m(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),u(t)}}},76784:(e,t,r)=>{"use strict";var n=r(13075),i=r(82014).getWeakData,o=r(73938),a=r(65335),s=r(65190),l=r(52929),c=r(48533),u=r(31883),d=r(99206),h=d.set,p=d.getterFor,m=c(5),y=c(6),f=0,g=function(e){return e.frozen||(e.frozen=new b)},b=function(){this.entries=[]},v=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var r=v(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,c){var d=e((function(e,n){s(e,d,t),h(e,{type:t,id:f++,frozen:void 0}),null!=n&&l(n,e[c],e,r)})),m=p(t),y=function(e,t,r){var n=m(e),a=i(o(t),!0);return!0===a?g(n).set(t,r):a[n.id]=r,e};return n(d.prototype,{delete:function(e){var t=m(this);if(!a(e))return!1;var r=i(e);return!0===r?g(t).delete(e):r&&u(r,t.id)&&delete r[t.id]},has:function(e){var t=m(this);if(!a(e))return!1;var r=i(e);return!0===r?g(t).has(e):r&&u(r,t.id)}}),n(d.prototype,r?{get:function(e){var t=m(this);if(a(e)){var r=i(e);return!0===r?g(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),d}}},92327:(e,t,r)=>{"use strict";var n=r(51605),i=r(30200),o=r(84977),a=r(97485),s=r(82014),l=r(52929),c=r(65190),u=r(65335),d=r(92074),h=r(97499),p=r(75282),m=r(93054);e.exports=function(e,t,r,y,f){var g=i[e],b=g&&g.prototype,v=g,M=y?"set":"add",x={},S=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(f&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return f&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(f&&!u(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(o(e,"function"!=typeof g||!(f||b.forEach&&!d((function(){(new g).entries().next()})))))v=r.getConstructor(t,e,y,M),s.REQUIRED=!0;else if(o(e,!0)){var w=new v,_=w[M](f?{}:-0,1)!=w,T=d((function(){w.has(1)})),I=h((function(e){new g(e)})),C=!f&&d((function(){for(var e=new g,t=5;t--;)e[M](t,t);return!e.has(-0)}));I||((v=t((function(t,r){c(t,v,e);var n=m(new g,t,v);return null!=r&&l(r,n[M],n,y),n}))).prototype=b,b.constructor=v),(T||C)&&(S("delete"),S("has"),y&&S("get")),(C||_)&&S(M),f&&b.clear&&delete b.clear}return x[e]=v,n({global:!0,forced:v!=g},x),p(v,e),f||r.setStrong(v,e,y),v}},84361:(e,t,r)=>{var n=r(31883),i=r(15816),o=r(97632),a=r(43610);e.exports=function(e,t){for(var r=i(t),s=a.f,l=o.f,c=0;c<r.length;c++){var u=r[c];n(e,u)||s(e,u,l(t,u))}}},44177:(e,t,r)=>{var n=r(31602)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},7168:(e,t,r)=>{var n=r(92074);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},19877:(e,t,r)=>{var n=r(71229),i=/"/g;e.exports=function(e,t,r,o){var a=String(n(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}},72147:(e,t,r)=>{"use strict";var n=r(49306).IteratorPrototype,i=r(53105),o=r(66843),a=r(75282),s=r(52228),l=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=i(n,{next:o(1,r)}),a(e,c,!1,!0),s[c]=l,e}},66843:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},52057:(e,t,r)=>{"use strict";var n=r(50874),i=r(43610),o=r(66843);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},38523:(e,t,r)=>{"use strict";var n=r(92074),i=Date.prototype,o=i.getTime,a=i.toISOString,s=function(e){return e>9?e:"0"+e};e.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-50000000000001))}))||!n((function(){a.call(new Date(NaN))}))?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"."+(r>99?r:"0"+s(r))+"Z"}:a},31137:(e,t,r)=>{"use strict";var n=r(73938),i=r(50874);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!==e)}},45723:(e,t,r)=>{"use strict";var n=r(51605),i=r(72147),o=r(97970),a=r(39686),s=r(75282),l=r(21395),c=r(97485),u=r(31602),d=r(6926),h=r(52228),p=r(49306),m=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,f=u("iterator"),g="keys",b="values",v="entries",M=function(){return this};e.exports=function(e,t,r,u,p,x,S){i(r,t,u);var w,_,T,I=function(e){if(e===p&&Z)return Z;if(!y&&e in L)return L[e];switch(e){case g:case b:case v:return function(){return new r(this,e)}}return function(){return new r(this)}},C=t+" Iterator",k=!1,L=e.prototype,N=L[f]||L["@@iterator"]||p&&L[p],Z=!y&&N||I(p),E="Array"==t&&L.entries||N;if(E&&(w=o(E.call(new e)),m!==Object.prototype&&w.next&&(d||o(w)===m||(a?a(w,m):"function"!=typeof w[f]&&l(w,f,M)),s(w,C,!0,!0),d&&(h[C]=M))),p==b&&N&&N.name!==b&&(k=!0,Z=function(){return N.call(this)}),d&&!S||L[f]===Z||l(L,f,Z),h[t]=Z,p)if(_={values:I(b),keys:x?Z:I(g),entries:I(v)},S)for(T in _)(y||k||!(T in L))&&c(L,T,_[T]);else n({target:t,proto:!0,forced:y||k},_);return _}},91272:(e,t,r)=>{var n=r(29720),i=r(31883),o=r(90066),a=r(43610).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},65077:(e,t,r)=>{var n=r(92074);e.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},23262:(e,t,r)=>{var n=r(30200),i=r(65335),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},5549:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},30290:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},23775:(e,t,r)=>{var n=r(91641),i=r(18916),o=r(9304);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},51605:(e,t,r)=>{var n=r(30200),i=r(97632).f,o=r(21395),a=r(97485),s=r(55975),l=r(84361),c=r(84977);e.exports=function(e,t){var r,u,d,h,p,m=e.target,y=e.global,f=e.stat;if(r=y?n:f?n[m]||s(m,{}):(n[m]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(p=i(r,u))&&p.value:r[u],!c(y?u:m+(f?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(r,u,h,e)}}},92074:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},20779:(e,t,r)=>{"use strict";var n=r(21395),i=r(97485),o=r(92074),a=r(31602),s=r(70054),l=a("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var h=a(e),p=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=p&&!o((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[l]=function(){return r}),r[h](""),!t}));if(!p||!m||"replace"===e&&!c||"split"===e&&!u){var y=/./[h],f=r(h,""[e],(function(e,t,r,n,i){return t.exec===s?p&&!i?{done:!0,value:y.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),g=f[0],b=f[1];i(String.prototype,e,g),i(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)}),d&&n(RegExp.prototype[h],"sham",!0)}}},89608:(e,t,r)=>{"use strict";var n=r(18679),i=r(33747),o=r(39862),a=function(e,t,r,s,l,c,u,d){for(var h,p=l,m=0,y=!!u&&o(u,d,3);m<s;){if(m in r){if(h=y?y(r[m],m,t):r[m],c>0&&n(h))p=a(e,t,h,i(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}m++}return p};e.exports=a},57137:(e,t,r)=>{"use strict";var n=r(6926),i=r(30200),o=r(92074);e.exports=n||!o((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},70626:(e,t,r)=>{var n=r(92074);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},44653:(e,t,r)=>{var n=r(92074),i=r(55073);e.exports=function(e){return n((function(){return!!i[e]()||""!=""[e]()||i[e].name!==e}))}},55159:(e,t,r)=>{var n=r(92074);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},38891:(e,t,r)=>{"use strict";var n=r(59085),i=r(65335),o=[].slice,a={};e.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),s=function(){var n=r.concat(o.call(arguments));return this instanceof s?function(e,t,r){if(!(t in a)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";a[t]=Function("C,a","return new C("+n.join(",")+")")}return a[t](e,r)}(t,n.length,n):t.apply(e,n)};return i(t.prototype)&&(s.prototype=t.prototype),s}},3467:(e,t,r)=>{var n=r(50002);e.exports=n("native-function-to-string",Function.toString)},56492:(e,t,r)=>{var n=r(29720),i=r(30200),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},51898:(e,t,r)=>{var n=r(83062),i=r(52228),o=r(31602)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},79526:(e,t,r)=>{var n=r(73938),i=r(51898);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},30200:(e,t,r)=>{var n=r(30327),i="object",o=function(e){return e&&e.Math==Math&&e};e.exports=o(typeof globalThis==i&&globalThis)||o(typeof n==i&&n)||o(typeof self==i&&self)||o(typeof r.g==i&&r.g)||Function("return this")()},31883:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},67708:e=>{e.exports={}},21395:(e,t,r)=>{var n=r(65077),i=r(43610),o=r(66843);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},69778:(e,t,r)=>{var n=r(30200);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},28890:(e,t,r)=>{var n=r(30200).document;e.exports=n&&n.documentElement},87694:(e,t,r)=>{var n=r(65077),i=r(92074),o=r(23262);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},48664:(e,t,r)=>{var n=r(92074),i=r(18569),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},93054:(e,t,r)=>{var n=r(65335),i=r(39686);e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},82014:(e,t,r)=>{var n=r(67708),i=r(65335),o=r(31883),a=r(43610).f,s=r(50665),l=r(55159),c=s("meta"),u=0,d=Object.isExtensible||function(){return!0},h=function(e){a(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!d(e))return"F";if(!t)return"E";h(e)}return e[c].objectID},getWeakData:function(e,t){if(!o(e,c)){if(!d(e))return!0;if(!t)return!1;h(e)}return e[c].weakData},onFreeze:function(e){return l&&p.REQUIRED&&d(e)&&!o(e,c)&&h(e),e}};n[c]=!0},99206:(e,t,r)=>{var n,i,o,a=r(82886),s=r(30200),l=r(65335),c=r(21395),u=r(31883),d=r(25904),h=r(67708),p=s.WeakMap;if(a){var m=new p,y=m.get,f=m.has,g=m.set;n=function(e,t){return g.call(m,e,t),t},i=function(e){return y.call(m,e)||{}},o=function(e){return f.call(m,e)}}else{var b=d("state");h[b]=!0,n=function(e,t){return c(e,b,t),t},i=function(e){return u(e,b)?e[b]:{}},o=function(e){return u(e,b)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},99034:(e,t,r)=>{var n=r(31602),i=r(52228),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},18679:(e,t,r)=>{var n=r(18569);e.exports=Array.isArray||function(e){return"Array"==n(e)}},84977:(e,t,r)=>{var n=r(92074),i=/#|\.prototype\./,o=function(e,t){var r=s[a(e)];return r==c||r!=l&&("function"==typeof t?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},9136:(e,t,r)=>{var n=r(65335),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},65335:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},6926:e=>{e.exports=!1},62449:(e,t,r)=>{var n=r(65335),i=r(18569),o=r(31602)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},52929:(e,t,r)=>{var n=r(73938),i=r(99034),o=r(33747),a=r(39862),s=r(51898),l=r(41332),c={};(e.exports=function(e,t,r,u,d){var h,p,m,y,f,g=a(t,r,u?2:1);if(d)h=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(i(p)){for(m=0,y=o(e.length);y>m;m++)if((u?g(n(f=e[m])[0],f[1]):g(e[m]))===c)return c;return}h=p.call(e)}for(;!(f=h.next()).done;)if(l(h,g,f.value,u)===c)return c}).BREAK=c},49306:(e,t,r)=>{"use strict";var n,i,o,a=r(97970),s=r(21395),l=r(31883),c=r(31602),u=r(6926),d=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(n=i):h=!0),null==n&&(n={}),u||l(n,d)||s(n,d,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},52228:e=>{e.exports={}},76709:e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},94812:(e,t,r)=>{var n=r(51211),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),l=i(2,-126);e.exports=Math.fround||function(e){var t,r,i=Math.abs(e),c=n(e);return i<l?c*(i/l/a+1/o-1/o)*l*a:(r=(t=(1+a/o)*i)-(t-i))>s||r!=r?c*(1/0):c*r}},31855:e=>{e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},51211:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},47462:(e,t,r)=>{var n,i,o,a,s,l,c,u=r(30200),d=r(97632).f,h=r(18569),p=r(74922).set,m=r(56992),y=u.MutationObserver||u.WebKitMutationObserver,f=u.process,g=u.Promise,b="process"==h(f),v=d(u,"queueMicrotask"),M=v&&v.value;M||(n=function(){var e,t;for(b&&(e=f.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},b?a=function(){f.nextTick(n)}:y&&!/(iphone|ipod|ipad).*applewebkit/i.test(m)?(s=!0,l=document.createTextNode(""),new y(n).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):g&&g.resolve?(c=g.resolve(void 0),a=function(){c.then(n)}):a=function(){p.call(u,n)}),e.exports=M||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},61849:(e,t,r)=>{var n=r(92074);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},84516:(e,t,r)=>{var n=r(92074),i=r(31602),o=r(6926),a=i("iterator");e.exports=!n((function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",o&&!e.toJSON||!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash}))},82886:(e,t,r)=>{var n=r(30200),i=r(3467),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(i.call(o))},39836:(e,t,r)=>{"use strict";var n=r(59085),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},11071:(e,t,r)=>{var n=r(30200).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},81688:(e,t,r)=>{"use strict";var n=r(65077),i=r(92074),o=r(91641),a=r(18916),s=r(9304),l=r(92612),c=r(48664),u=Object.assign;e.exports=!u||i((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||o(u({},t)).join("")!=n}))?function(e,t){for(var r=l(e),i=arguments.length,u=1,d=a.f,h=s.f;i>u;)for(var p,m=c(arguments[u++]),y=d?o(m).concat(d(m)):o(m),f=y.length,g=0;f>g;)p=y[g++],n&&!h.call(m,p)||(r[p]=m[p]);return r}:u},53105:(e,t,r)=>{var n=r(73938),i=r(65318),o=r(30290),a=r(67708),s=r(28890),l=r(23262),c=r(25904)("IE_PROTO"),u="prototype",d=function(){},h=function(){var e,t=l("iframe"),r=o.length,n="script",i="java"+n+":";for(t.style.display="none",s.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write("<"+n+">document.F=Object</"+n+">"),e.close(),h=e.F;r--;)delete h[u][o[r]];return h()};e.exports=Object.create||function(e,t){var r;return null!==e?(d[u]=n(e),r=new d,d[u]=null,r[c]=e):r=h(),void 0===t?r:i(r,t)},a[c]=!0},65318:(e,t,r)=>{var n=r(65077),i=r(43610),o=r(73938),a=r(91641);e.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=a(t),s=n.length,l=0;s>l;)i.f(e,r=n[l++],t[r]);return e}},43610:(e,t,r)=>{var n=r(65077),i=r(87694),o=r(73938),a=r(50874),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},97632:(e,t,r)=>{var n=r(65077),i=r(9304),o=r(66843),a=r(5476),s=r(50874),l=r(31883),c=r(87694),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},56509:(e,t,r)=>{var n=r(30327),i=r(5476),o=r(64789).f,a={}.toString,s="object"==typeof n&&n&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(n):[];e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(i(e))}},64789:(e,t,r)=>{var n=r(16347),i=r(30290).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},18916:(e,t)=>{t.f=Object.getOwnPropertySymbols},97970:(e,t,r)=>{var n=r(31883),i=r(92612),o=r(25904),a=r(7168),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},16347:(e,t,r)=>{var n=r(31883),i=r(5476),o=r(58186),a=r(67708),s=o(!1);e.exports=function(e,t){var r,o=i(e),l=0,c=[];for(r in o)!n(a,r)&&n(o,r)&&c.push(r);for(;t.length>l;)n(o,r=t[l++])&&(~s(c,r)||c.push(r));return c}},91641:(e,t,r)=>{var n=r(16347),i=r(30290);e.exports=Object.keys||function(e){return n(e,i)}},9304:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},39686:(e,t,r)=>{var n=r(62876);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r,i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},23172:(e,t,r)=>{var n=r(65077),i=r(91641),o=r(5476),a=r(9304).f;e.exports=function(e,t){for(var r,s=o(e),l=i(s),c=l.length,u=0,d=[];c>u;)r=l[u++],n&&!a.call(s,r)||d.push(t?[r,s[r]]:s[r]);return d}},94972:(e,t,r)=>{"use strict";var n=r(83062),i={};i[r(31602)("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+n(this)+"]"}:i.toString},15816:(e,t,r)=>{var n=r(30200),i=r(64789),o=r(18916),a=r(73938),s=n.Reflect;e.exports=s&&s.ownKeys||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},45175:(e,t,r)=>{var n=r(30200),i=r(69163),o=r(55073),a=n.parseFloat,s=1/a(o+"-0")!=-1/0;e.exports=s?function(e){var t=i(String(e),3),r=a(t);return 0===r&&"-"==t.charAt(0)?-0:r}:a},51880:(e,t,r)=>{var n=r(30200),i=r(69163),o=r(55073),a=n.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");e.exports=l?function(e,t){var r=i(String(e),3);return a(r,t>>>0||(s.test(r)?16:10))}:a},29720:(e,t,r)=>{e.exports=r(30200)},50242:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9803:(e,t,r)=>{var n=r(73938),i=r(65335),o=r(39836);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},51818:e=>{"use strict";var t=2147483647,r=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=Math.floor,a=String.fromCharCode,s=function(e){return e+22+75*(e<26)},l=function(e,t,r){var n=0;for(e=r?o(e/700):e>>1,e+=o(e/t);e>455;n+=36)e=o(e/35);return o(n+36*e/(e+38))},c=function(e){var r=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}(e);var n,c,u=e.length,d=128,h=0,p=72;for(n=0;n<e.length;n++)(c=e[n])<128&&r.push(a(c));var m=r.length,y=m;for(m&&r.push("-");y<u;){var f=t;for(n=0;n<e.length;n++)(c=e[n])>=d&&c<f&&(f=c);var g=y+1;if(f-d>o((t-h)/g))throw RangeError(i);for(h+=(f-d)*g,d=f,n=0;n<e.length;n++){if((c=e[n])<d&&++h>t)throw RangeError(i);if(c==d){for(var b=h,v=36;;v+=36){var M=v<=p?1:v>=p+26?26:v-p;if(b<M)break;var x=b-M,S=36-M;r.push(a(s(M+x%S))),b=o(x/S)}r.push(a(s(b))),p=l(h,g,y==m),h=0,++y}}++h,++d}return r.join("")};e.exports=function(e){var t,i,o=[],a=e.toLowerCase().replace(n,".").split(".");for(t=0;t<a.length;t++)i=a[t],o.push(r.test(i)?"xn--"+c(i):i);return o.join(".")}},13075:(e,t,r)=>{var n=r(97485);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},97485:(e,t,r)=>{var n=r(30200),i=r(50002),o=r(21395),a=r(31883),s=r(55975),l=r(3467),c=r(99206),u=c.get,d=c.enforce,h=String(l).split("toString");i("inspectSource",(function(e){return l.call(e)})),(e.exports=function(e,t,r,i){var l=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||o(r,"name",t),d(r).source=h.join("string"==typeof t?t:"")),e!==n?(l?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=r:o(e,t,r)):c?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||l.call(this)}))},66793:(e,t,r)=>{var n=r(18569),i=r(70054);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var o=r.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},70054:(e,t,r)=>{"use strict";var n,i,o=r(16844),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(n=/a/,i=/b*/g,a.call(n,"a"),a.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,r,n,i,l=this;return u&&(r=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(t=l.lastIndex),n=a.call(l,e),c&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),u&&n&&n.length>1&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=l},16844:(e,t,r)=>{"use strict";var n=r(73938);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},71229:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},54741:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},55975:(e,t,r)=>{var n=r(30200),i=r(21395);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},93524:(e,t,r)=>{"use strict";var n=r(56492),i=r(43610),o=r(31602),a=r(65077),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},75282:(e,t,r)=>{var n=r(43610).f,i=r(31883),o=r(31602)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},25904:(e,t,r)=>{var n=r(50002),i=r(50665),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},50002:(e,t,r)=>{var n=r(30200),i=r(55975),o=r(6926),a="__core-js_shared__",s=n[a]||i(a,{});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.1.3",mode:o?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},15144:(e,t,r)=>{"use strict";var n=r(92074);e.exports=function(e,t){var r=[][e];return!r||!n((function(){r.call(null,t||function(){throw 1},1)}))}},23444:(e,t,r)=>{var n=r(73938),i=r(59085),o=r(31602)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},13686:(e,t,r)=>{var n=r(7317),i=r(71229);e.exports=function(e,t,r){var o,a,s=String(i(e)),l=n(t),c=s.length;return l<0||l>=c?r?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?r?s.charAt(l):o:r?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}},45214:(e,t,r)=>{var n=r(33747),i=r(10140),o=r(71229);e.exports=function(e,t,r,a){var s,l,c=String(o(e)),u=c.length,d=void 0===r?" ":String(r),h=n(t);return h<=u||""==d?c:(s=h-u,(l=i.call(d,Math.ceil(s/d.length))).length>s&&(l=l.slice(0,s)),a?l+c:c+l)}},10140:(e,t,r)=>{"use strict";var n=r(7317),i=r(71229);e.exports="".repeat||function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},69163:(e,t,r)=>{var n=r(71229),i="["+r(55073)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$");e.exports=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(a,"")),e}},74922:(e,t,r)=>{var n,i,o,a=r(30200),s=r(92074),l=r(18569),c=r(39862),u=r(28890),d=r(23262),h=a.location,p=a.setImmediate,m=a.clearImmediate,y=a.process,f=a.MessageChannel,g=a.Dispatch,b=0,v={},M="onreadystatechange",x=function(e){if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},S=function(e){return function(){x(e)}},w=function(e){x(e.data)},_=function(e){a.postMessage(e+"",h.protocol+"//"+h.host)};p&&m||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},m=function(e){delete v[e]},"process"==l(y)?n=function(e){y.nextTick(S(e))}:g&&g.now?n=function(e){g.now(S(e))}:f?(o=(i=new f).port2,i.port1.onmessage=w,n=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(_)?n=M in d("script")?function(e){u.appendChild(d("script"))[M]=function(){u.removeChild(this),x(e)}}:function(e){setTimeout(S(e),0)}:(n=_,a.addEventListener("message",w,!1))),e.exports={set:p,clear:m}},7809:(e,t,r)=>{var n=r(18569);e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},6539:(e,t,r)=>{var n=r(7317),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},6283:(e,t,r)=>{var n=r(7317),i=r(33747);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},5476:(e,t,r)=>{var n=r(48664),i=r(71229);e.exports=function(e){return n(i(e))}},7317:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},33747:(e,t,r)=>{var n=r(7317),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},92612:(e,t,r)=>{var n=r(71229);e.exports=function(e){return Object(n(e))}},73720:(e,t,r)=>{var n=r(7317);e.exports=function(e,t){var r=n(e);if(r<0||r%t)throw RangeError("Wrong offset");return r}},50874:(e,t,r)=>{var n=r(65335);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},43106:(e,t,r)=>{"use strict";var n=r(51605),i=r(30200),o=r(65077),a=r(21328),s=r(85343),l=r(24497),c=r(65190),u=r(66843),d=r(21395),h=r(33747),p=r(6283),m=r(73720),y=r(50874),f=r(31883),g=r(83062),b=r(65335),v=r(53105),M=r(39686),x=r(64789).f,S=r(22180),w=r(48533),_=r(93524),T=r(43610),I=r(97632),C=r(99206),k=C.get,L=C.set,N=T.f,Z=I.f,E=w(0),z=i.RangeError,G=l.ArrayBuffer,P=l.DataView,A=s.NATIVE_ARRAY_BUFFER_VIEWS,R=s.TYPED_ARRAY_TAG,D=s.TypedArray,X=s.TypedArrayPrototype,O=s.aTypedArrayConstructor,W=s.isTypedArray,j="BYTES_PER_ELEMENT",Y="Wrong length",F=function(e,t){for(var r=0,n=t.length,i=new(O(e))(n);n>r;)i[r]=t[r++];return i},V=function(e,t){N(e,t,{get:function(){return k(this)[t]}})},H=function(e){var t;return e instanceof G||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},U=function(e,t){return W(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},B=function(e,t){return U(e,t=y(t,!0))?u(2,e[t]):Z(e,t)},K=function(e,t,r){return!(U(e,t=y(t,!0))&&b(r)&&f(r,"value"))||f(r,"get")||f(r,"set")||r.configurable||f(r,"writable")&&!r.writable||f(r,"enumerable")&&!r.enumerable?N(e,t,r):(e[t]=r.value,e)};o?(A||(I.f=B,T.f=K,V(X,"buffer"),V(X,"byteOffset"),V(X,"byteLength"),V(X,"length")),n({target:"Object",stat:!0,forced:!A},{getOwnPropertyDescriptor:B,defineProperty:K}),e.exports=function(e,t,r,o){var s=e+(o?"Clamped":"")+"Array",l="get"+e,u="set"+e,y=i[s],f=y,g=f&&f.prototype,w={},T=function(e,r){N(e,r,{get:function(){return function(e,r){var n=k(e);return n.view[l](r*t+n.byteOffset,!0)}(this,r)},set:function(e){return function(e,r,n){var i=k(e);o&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.view[u](r*t+i.byteOffset,n,!0)}(this,r,e)},enumerable:!0})};A?a&&(f=r((function(e,r,n,i){return c(e,f,s),b(r)?H(r)?void 0!==i?new y(r,m(n,t),i):void 0!==n?new y(r,m(n,t)):new y(r):W(r)?F(f,r):S.call(f,r):new y(p(r))})),M&&M(f,D),E(x(y),(function(e){e in f||d(f,e,y[e])})),f.prototype=g):(f=r((function(e,r,n,i){c(e,f,s);var o,a,l,u=0,d=0;if(b(r)){if(!H(r))return W(r)?F(f,r):S.call(f,r);o=r,d=m(n,t);var y=r.byteLength;if(void 0===i){if(y%t)throw z(Y);if((a=y-d)<0)throw z(Y)}else if((a=h(i)*t)+d>y)throw z(Y);l=a/t}else l=p(r),o=new G(a=l*t);for(L(e,{buffer:o,byteOffset:d,byteLength:a,length:l,view:new P(o)});u<l;)T(e,u++)})),M&&M(f,D),g=f.prototype=v(X)),g.constructor!==f&&d(g,"constructor",f),R&&d(g,R,s),w[s]=f,n({global:!0,forced:f!=y,sham:!A},w),j in f||d(f,j,t),j in g||d(g,j,t),_(s)}):e.exports=function(){}},22180:(e,t,r)=>{var n=r(92612),i=r(33747),o=r(51898),a=r(99034),s=r(39862),l=r(85343).aTypedArrayConstructor;e.exports=function(e){var t,r,c,u,d,h=n(e),p=arguments.length,m=p>1?arguments[1]:void 0,y=void 0!==m,f=o(h);if(null!=f&&!a(f))for(d=f.call(h),h=[];!(u=d.next()).done;)h.push(u.value);for(y&&p>2&&(m=s(m,arguments[2],2)),r=i(h.length),c=new(l(this))(r),t=0;r>t;t++)c[t]=y?m(h[t],t):h[t];return c}},21328:(e,t,r)=>{var n=r(30200),i=r(92074),o=r(97499),a=r(85343).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},50665:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},56992:(e,t,r)=>{var n=r(30200).navigator;e.exports=n&&n.userAgent||""},62876:(e,t,r)=>{var n=r(65335),i=r(73938);e.exports=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}},42552:(e,t,r)=>{var n=r(62449),i=r(71229);e.exports=function(e,t,r){if(n(t))throw TypeError("String.prototype."+r+" doesn't accept regex");return String(i(e))}},11156:(e,t,r)=>{var n=r(56992);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},31602:(e,t,r)=>{var n=r(30200),i=r(50002),o=r(50665),a=r(61849),s=n.Symbol,l=i("wks");e.exports=function(e){return l[e]||(l[e]=a&&s[e]||(a?s:o)("Symbol."+e))}},55073:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},90066:(e,t,r)=>{t.f=r(31602)},3446:(e,t,r)=>{"use strict";var n=r(51605),i=r(30200),o=r(24497),a=r(93524),s="ArrayBuffer",l=o[s];n({global:!0,forced:i[s]!==l},{ArrayBuffer:l}),a(s)},93016:(e,t,r)=>{var n=r(51605),i=r(85343);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},1772:(e,t,r)=>{"use strict";var n=r(51605),i=r(92074),o=r(24497),a=r(73938),s=r(6539),l=r(33747),c=r(23444),u=o.ArrayBuffer,d=o.DataView,h=u.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(a(this),e);for(var r=a(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),o=new(c(this,u))(l(i-n)),p=new d(this),m=new d(o),y=0;n<i;)m.setUint8(y++,p.getUint8(n++));return o}})},80115:(e,t,r)=>{"use strict";var n=r(51605),i=r(92074),o=r(18679),a=r(65335),s=r(92612),l=r(33747),c=r(52057),u=r(62998),d=r(45634),h=r(31602)("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",y=!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),f=d("concat"),g=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)};n({target:"Array",proto:!0,forced:!y||!f},{concat:function(e){var t,r,n,i,o,a=s(this),d=u(a,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(g(o=-1===t?a:arguments[t])){if(h+(i=l(o.length))>p)throw TypeError(m);for(r=0;r<i;r++,h++)r in o&&c(d,h,o[r])}else{if(h>=p)throw TypeError(m);c(d,h++,o)}return d.length=h,d}})},61408:(e,t,r)=>{var n=r(51605),i=r(29688),o=r(40298);n({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},23604:(e,t,r)=>{"use strict";var n=r(51605),i=r(48533),o=r(15144),a=i(4);n({target:"Array",proto:!0,forced:o("every")},{every:function(e){return a(this,e,arguments[1])}})},32982:(e,t,r)=>{var n=r(51605),i=r(27806),o=r(40298);n({target:"Array",proto:!0},{fill:i}),o("fill")},17:(e,t,r)=>{"use strict";var n=r(51605),i=r(48533),o=r(45634),a=i(2);n({target:"Array",proto:!0,forced:!o("filter")},{filter:function(e){return a(this,e,arguments[1])}})},92157:(e,t,r)=>{"use strict";var n=r(51605),i=r(48533),o=r(40298),a=i(6),s="findIndex",l=!0;s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},18636:(e,t,r)=>{"use strict";var n=r(51605),i=r(48533),o=r(40298),a=i(5),s="find",l=!0;s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},95755:(e,t,r)=>{"use strict";var n=r(51605),i=r(89608),o=r(92612),a=r(33747),s=r(59085),l=r(62998);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=o(this),n=a(r.length);return s(e),(t=l(r,0)).length=i(t,r,r,n,0,1,e,arguments[1]),t}})},41128:(e,t,r)=>{"use strict";var n=r(51605),i=r(89608),o=r(92612),a=r(33747),s=r(7317),l=r(62998);n({target:"Array",proto:!0},{flat:function(){var e=arguments[0],t=o(this),r=a(t.length),n=l(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},58476:(e,t,r)=>{"use strict";var n=r(51605),i=r(10516);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},15195:(e,t,r)=>{var n=r(51605),i=r(51027);n({target:"Array",stat:!0,forced:!r(97499)((function(e){Array.from(e)}))},{from:i})},47746:(e,t,r)=>{"use strict";var n=r(51605),i=r(58186),o=r(40298),a=i(!0);n({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},19693:(e,t,r)=>{"use strict";var n=r(51605),i=r(15144),o=r(58186)(!1),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,l=i("indexOf");n({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?a.apply(this,arguments)||0:o(this,e,arguments[1])}})},4895:(e,t,r)=>{r(51605)({target:"Array",stat:!0},{isArray:r(18679)})},18665:(e,t,r)=>{"use strict";var n=r(5476),i=r(40298),o=r(52228),a=r(99206),s=r(45723),l="Array Iterator",c=a.set,u=a.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},80475:(e,t,r)=>{"use strict";var n=r(51605),i=r(48664),o=r(5476),a=r(15144),s=[].join,l=i!=Object,c=a("join",",");n({target:"Array",proto:!0,forced:l||c},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},94582:(e,t,r)=>{var n=r(51605),i=r(3470);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},59581:(e,t,r)=>{"use strict";var n=r(51605),i=r(48533),o=r(45634),a=i(1);n({target:"Array",proto:!0,forced:!o("map")},{map:function(e){return a(this,e,arguments[1])}})},92630:(e,t,r)=>{"use strict";var n=r(51605),i=r(92074),o=r(52057);n({target:"Array",stat:!0,forced:i((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)o(r,e,arguments[e++]);return r.length=t,r}})},39958:(e,t,r)=>{"use strict";var n=r(51605),i=r(52237);n({target:"Array",proto:!0,forced:r(15144)("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},533:(e,t,r)=>{"use strict";var n=r(51605),i=r(52237);n({target:"Array",proto:!0,forced:r(15144)("reduce")},{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},10557:(e,t,r)=>{"use strict";var n=r(51605),i=r(18679),o=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},14913:(e,t,r)=>{"use strict";var n=r(51605),i=r(65335),o=r(18679),a=r(6539),s=r(33747),l=r(5476),c=r(52057),u=r(45634),d=r(31602)("species"),h=[].slice,p=Math.max;n({target:"Array",proto:!0,forced:!u("slice")},{slice:function(e,t){var r,n,u,m=l(this),y=s(m.length),f=a(e,y),g=a(void 0===t?y:t,y);if(o(m)&&("function"!=typeof(r=m.constructor)||r!==Array&&!o(r.prototype)?i(r)&&null===(r=r[d])&&(r=void 0):r=void 0,r===Array||void 0===r))return h.call(m,f,g);for(n=new(void 0===r?Array:r)(p(g-f,0)),u=0;f<g;f++,u++)f in m&&c(n,u,m[f]);return n.length=u,n}})},63555:(e,t,r)=>{"use strict";var n=r(51605),i=r(48533),o=r(15144),a=i(3);n({target:"Array",proto:!0,forced:o("some")},{some:function(e){return a(this,e,arguments[1])}})},35231:(e,t,r)=>{"use strict";var n=r(51605),i=r(59085),o=r(92612),a=r(92074),s=r(15144),l=[].sort,c=[1,2,3],u=a((function(){c.sort(void 0)})),d=a((function(){c.sort(null)})),h=s("sort");n({target:"Array",proto:!0,forced:u||!d||h},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),i(e))}})},5941:(e,t,r)=>{r(93524)("Array")},68763:(e,t,r)=>{"use strict";var n=r(51605),i=r(6539),o=r(7317),a=r(33747),s=r(92612),l=r(62998),c=r(52057),u=r(45634),d=Math.max,h=Math.min;n({target:"Array",proto:!0,forced:!u("splice")},{splice:function(e,t){var r,n,u,p,m,y,f=s(this),g=a(f.length),b=i(e,g),v=arguments.length;if(0===v?r=n=0:1===v?(r=0,n=g-b):(r=v-2,n=h(d(o(t),0),g-b)),g+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(f,n),p=0;p<n;p++)(m=b+p)in f&&c(u,p,f[m]);if(u.length=n,r<n){for(p=b;p<g-n;p++)y=p+r,(m=p+n)in f?f[y]=f[m]:delete f[y];for(p=g;p>g-n+r;p--)delete f[p-1]}else if(r>n)for(p=g-n;p>b;p--)y=p+r-1,(m=p+n-1)in f?f[y]=f[m]:delete f[y];for(p=0;p<r;p++)f[p+b]=arguments[p+2];return f.length=g-n+r,u}})},79432:(e,t,r)=>{r(40298)("flatMap")},95843:(e,t,r)=>{r(40298)("flat")},33734:(e,t,r)=>{var n=r(51605),i=r(24497);n({global:!0,forced:!r(85343).NATIVE_ARRAY_BUFFER},{DataView:i.DataView})},89560:(e,t,r)=>{r(51605)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},42169:(e,t,r)=>{var n=r(51605),i=r(38523);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},53270:(e,t,r)=>{"use strict";var n=r(51605),i=r(92074),o=r(92612),a=r(50874);n({target:"Date",proto:!0,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=o(this),r=a(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},87787:(e,t,r)=>{var n=r(21395),i=r(31137),o=r(31602)("toPrimitive"),a=Date.prototype;o in a||n(a,o,i)},79389:(e,t,r)=>{var n=r(97485),i=Date.prototype,o="Invalid Date",a="toString",s=i[a],l=i.getTime;new Date(NaN)+""!=o&&n(i,a,(function(){var e=l.call(this);return e==e?s.call(this):o}))},64189:(e,t,r)=>{r(51605)({target:"Function",proto:!0},{bind:r(38891)})},37514:(e,t,r)=>{"use strict";var n=r(65335),i=r(43610),o=r(97970),a=r(31602)("hasInstance"),s=Function.prototype;a in s||i.f(s,a,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},98741:(e,t,r)=>{var n=r(65077),i=r(43610).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,l="name";n&&!(l in o)&&i(o,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},31586:(e,t,r)=>{var n=r(30200);r(75282)(n.JSON,"JSON",!0)},7918:(e,t,r)=>{"use strict";var n=r(92327),i=r(5959);e.exports=n("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),i,!0)},48252:(e,t,r)=>{var n=r(51605),i=r(31855),o=Math.acosh,a=Math.log,s=Math.sqrt,l=Math.LN2;n({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+l:i(e-1+s(e-1)*s(e+1))}})},42799:(e,t,r)=>{var n=r(51605),i=Math.asinh,o=Math.log,a=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):o(t+a(t*t+1)):t}})},36772:(e,t,r)=>{var n=r(51605),i=Math.atanh,o=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:o((1+e)/(1-e))/2}})},75483:(e,t,r)=>{var n=r(51605),i=r(51211),o=Math.abs,a=Math.pow;n({target:"Math",stat:!0},{cbrt:function(e){return i(e=+e)*a(o(e),1/3)}})},27956:(e,t,r)=>{var n=r(51605),i=Math.floor,o=Math.log,a=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-i(o(e+.5)*a):32}})},53733:(e,t,r)=>{var n=r(51605),i=r(76709),o=Math.cosh,a=Math.abs,s=Math.E;n({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(e){var t=i(a(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},49639:(e,t,r)=>{var n=r(51605),i=r(76709);n({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},19570:(e,t,r)=>{r(51605)({target:"Math",stat:!0},{fround:r(94812)})},956:(e,t,r)=>{var n=r(51605),i=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0},{hypot:function(e,t){for(var r,n,a=0,s=0,l=arguments.length,c=0;s<l;)c<(r=i(arguments[s++]))?(a=a*(n=c/r)*n+1,c=r):a+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(a)}})},19323:(e,t,r)=>{var n=r(51605),i=r(92074),o=Math.imul;n({target:"Math",stat:!0,forced:i((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(e,t){var r=65535,n=+e,i=+t,o=r&n,a=r&i;return 0|o*a+((r&n>>>16)*a+o*(r&i>>>16)<<16>>>0)}})},41145:(e,t,r)=>{var n=r(51605),i=Math.log,o=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(e){return i(e)*o}})},59897:(e,t,r)=>{r(51605)({target:"Math",stat:!0},{log1p:r(31855)})},3212:(e,t,r)=>{var n=r(51605),i=Math.log,o=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},82157:(e,t,r)=>{r(51605)({target:"Math",stat:!0},{sign:r(51211)})},1610:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(76709),a=Math.abs,s=Math.exp,l=Math.E;n({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){return a(e=+e)<1?(o(e)-o(-e))/2:(s(e-1)-s(-e-1))*(l/2)}})},46097:(e,t,r)=>{var n=r(51605),i=r(76709),o=Math.exp;n({target:"Math",stat:!0},{tanh:function(e){var t=i(e=+e),r=i(-e);return t==1/0?1:r==1/0?-1:(t-r)/(o(e)+o(-e))}})},96982:(e,t,r)=>{r(75282)(Math,"Math",!0)},15812:(e,t,r)=>{var n=r(51605),i=Math.ceil,o=Math.floor;n({target:"Math",stat:!0},{trunc:function(e){return(e>0?o:i)(e)}})},94009:(e,t,r)=>{"use strict";var n=r(65077),i=r(30200),o=r(84977),a=r(97485),s=r(31883),l=r(18569),c=r(93054),u=r(50874),d=r(92074),h=r(53105),p=r(64789).f,m=r(97632).f,y=r(43610).f,f=r(69163),g="Number",b=i[g],v=b.prototype,M=l(h(v))==g,x="trim"in String.prototype,S=function(e){var t,r,n,i,o,a,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=x?c.trim():f(c,3)).charCodeAt(0))||45===t){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>i)return NaN;return parseInt(o,n)}return+c};if(o(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var w,_=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof _&&(M?d((function(){v.valueOf.call(r)})):l(r)!=g)?c(new b(S(t)),r,_):S(t)},T=n?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;T.length>I;I++)s(b,w=T[I])&&!s(_,w)&&y(_,w,m(b,w));_.prototype=v,v.constructor=_,a(i,g,_)}},96943:(e,t,r)=>{r(51605)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},80577:(e,t,r)=>{r(51605)({target:"Number",stat:!0},{isFinite:r(11071)})},4038:(e,t,r)=>{r(51605)({target:"Number",stat:!0},{isInteger:r(9136)})},85365:(e,t,r)=>{r(51605)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},96316:(e,t,r)=>{var n=r(51605),i=r(9136),o=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},42006:(e,t,r)=>{r(51605)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},88844:(e,t,r)=>{r(51605)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},26161:(e,t,r)=>{var n=r(51605),i=r(45175);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},11902:(e,t,r)=>{var n=r(51605),i=r(51880);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},34867:(e,t,r)=>{"use strict";var n=r(51605),i=r(7317),o=r(7809),a=r(10140),s=r(92074),l=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],d=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*u[r],u[r]=n%1e7,n=c(n/1e7)},h=function(e){for(var t=6,r=0;--t>=0;)r+=u[t],u[t]=c(r/e),r=r%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var r=String(u[e]);t=""===t?r:t+a.call("0",7-r.length)+r}return t},m=function(e,t,r){return 0===t?r:t%2==1?m(e,t-1,r*e):m(e*e,t/2,r)};n({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(e){var t,r,n,s,l=o(this),c=i(e),u="",y="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(u="-",l=-l),l>1e-21)if(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(l*m(2,69,1))-69,r=t<0?l*m(2,-t,1):l/m(2,t,1),r*=4503599627370496,(t=52-t)>0){for(d(0,r),n=c;n>=7;)d(1e7,0),n-=7;for(d(m(10,n,1),0),n=t-1;n>=23;)h(1<<23),n-=23;h(1<<n),d(1,1),h(2),y=p()}else d(0,r),d(1<<-t,0),y=p()+a.call("0",c);return c>0?u+((s=y.length)<=c?"0."+a.call("0",c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c)):u+y}})},60769:(e,t,r)=>{"use strict";var n=r(51605),i=r(92074),o=r(7809),a=1..toPrecision;n({target:"Number",proto:!0,forced:i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))},{toPrecision:function(e){return void 0===e?a.call(o(this)):a.call(o(this),e)}})},69218:(e,t,r)=>{var n=r(51605),i=r(81688);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},97755:(e,t,r)=>{r(51605)({target:"Object",stat:!0,sham:!r(65077)},{create:r(53105)})},8538:(e,t,r)=>{"use strict";var n=r(51605),i=r(65077),o=r(57137),a=r(92612),s=r(59085),l=r(43610);i&&n({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){l.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},36012:(e,t,r)=>{var n=r(51605),i=r(65077);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:r(65318)})},15852:(e,t,r)=>{var n=r(51605),i=r(65077);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:r(43610).f})},56582:(e,t,r)=>{"use strict";var n=r(51605),i=r(65077),o=r(57137),a=r(92612),s=r(59085),l=r(43610);i&&n({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){l.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},84095:(e,t,r)=>{var n=r(51605),i=r(23172);n({target:"Object",stat:!0},{entries:function(e){return i(e,!0)}})},12824:(e,t,r)=>{var n=r(51605),i=r(55159),o=r(92074),a=r(65335),s=r(82014).onFreeze,l=Object.freeze;n({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!i},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},75670:(e,t,r)=>{var n=r(51605),i=r(52929),o=r(52057);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),void 0,!0),t}})},10678:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(5476),a=r(97632).f,s=r(65077),l=i((function(){a(1)}));n({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},3101:(e,t,r)=>{var n=r(51605),i=r(65077),o=r(15816),a=r(5476),s=r(97632),l=r(52057);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=a(e),i=s.f,c=o(n),u={},d=0;c.length>d;)void 0!==(r=i(n,t=c[d++]))&&l(u,t,r);return u}})},67579:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(56509).f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},41412:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(92612),a=r(97970),s=r(7168);n({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},65933:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(65335),a=Object.isExtensible;n({target:"Object",stat:!0,forced:i((function(){a(1)}))},{isExtensible:function(e){return!!o(e)&&(!a||a(e))}})},59250:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(65335),a=Object.isFrozen;n({target:"Object",stat:!0,forced:i((function(){a(1)}))},{isFrozen:function(e){return!o(e)||!!a&&a(e)}})},64484:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(65335),a=Object.isSealed;n({target:"Object",stat:!0,forced:i((function(){a(1)}))},{isSealed:function(e){return!o(e)||!!a&&a(e)}})},23023:(e,t,r)=>{r(51605)({target:"Object",stat:!0},{is:r(54741)})},7899:(e,t,r)=>{var n=r(51605),i=r(92612),o=r(91641);n({target:"Object",stat:!0,forced:r(92074)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},94641:(e,t,r)=>{"use strict";var n=r(51605),i=r(65077),o=r(57137),a=r(92612),s=r(50874),l=r(97970),c=r(97632).f;i&&n({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,r=a(this),n=s(e,!0);do{if(t=c(r,n))return t.get}while(r=l(r))}})},99437:(e,t,r)=>{"use strict";var n=r(51605),i=r(65077),o=r(57137),a=r(92612),s=r(50874),l=r(97970),c=r(97632).f;i&&n({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,r=a(this),n=s(e,!0);do{if(t=c(r,n))return t.set}while(r=l(r))}})},8240:(e,t,r)=>{var n=r(51605),i=r(65335),o=r(82014).onFreeze,a=r(55159),s=r(92074),l=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{preventExtensions:function(e){return l&&i(e)?l(o(e)):e}})},47258:(e,t,r)=>{var n=r(51605),i=r(65335),o=r(82014).onFreeze,a=r(55159),s=r(92074),l=Object.seal;n({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{seal:function(e){return l&&i(e)?l(o(e)):e}})},4632:(e,t,r)=>{r(51605)({target:"Object",stat:!0},{setPrototypeOf:r(39686)})},5086:(e,t,r)=>{var n=r(97485),i=r(94972),o=Object.prototype;i!==o.toString&&n(o,"toString",i,{unsafe:!0})},90345:(e,t,r)=>{var n=r(51605),i=r(23172);n({target:"Object",stat:!0},{values:function(e){return i(e)}})},96088:(e,t,r)=>{var n=r(51605),i=r(45175);n({global:!0,forced:parseFloat!=i},{parseFloat:i})},52231:(e,t,r)=>{var n=r(51605),i=r(51880);n({global:!0,forced:parseInt!=i},{parseInt:i})},83396:(e,t,r)=>{"use strict";var n=r(51605),i=r(56492),o=r(23444),a=r(9803);n({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=o(this,i("Promise")),r="function"==typeof e;return this.then(r?function(r){return a(t,e()).then((function(){return r}))}:e,r?function(r){return a(t,e()).then((function(){throw r}))}:e)}})},69193:(e,t,r)=>{"use strict";var n,i,o,a=r(51605),s=r(6926),l=r(30200),c=r(29720),u=r(13075),d=r(75282),h=r(93524),p=r(65335),m=r(59085),y=r(65190),f=r(18569),g=r(52929),b=r(97499),v=r(23444),M=r(74922).set,x=r(47462),S=r(9803),w=r(69778),_=r(39836),T=r(50242),I=r(56992),C=r(99206),k=r(84977),L=r(31602)("species"),N="Promise",Z=C.get,E=C.set,z=C.getterFor(N),G=l[N],P=l.TypeError,A=l.document,R=l.process,D=l.fetch,X=R&&R.versions,O=X&&X.v8||"",W=_.f,j=W,Y="process"==f(R),F=!!(A&&A.createEvent&&l.dispatchEvent),V="unhandledrejection",H=k(N,(function(){var e=G.resolve(1),t=function(){},r=(e.constructor={})[L]=function(e){e(t,t)};return!((Y||"function"==typeof PromiseRejectionEvent)&&(!s||e.finally)&&e.then(t)instanceof r&&0!==O.indexOf("6.6")&&-1===I.indexOf("Chrome/66"))})),U=H||!b((function(e){G.all(e).catch((function(){}))})),B=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},K=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;x((function(){for(var i=t.value,o=1==t.state,a=0,s=function(r){var n,a,s,l=o?r.ok:r.fail,c=r.resolve,u=r.reject,d=r.domain;try{l?(o||(2===t.rejection&&$(e,t),t.rejection=1),!0===l?n=i:(d&&d.enter(),n=l(i),d&&(d.exit(),s=!0)),n===r.promise?u(P("Promise-chain cycle")):(a=B(n))?a.call(n,c,u):c(n)):u(i)}catch(e){d&&!s&&d.exit(),u(e)}};n.length>a;)s(n[a++]);t.reactions=[],t.notified=!1,r&&!t.rejection&&Q(e,t)}))}},J=function(e,t,r){var n,i;F?((n=A.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},(i=l["on"+e])?i(n):e===V&&w("Unhandled promise rejection",r)},Q=function(e,t){M.call(l,(function(){var r,n=t.value;if(q(t)&&(r=T((function(){Y?R.emit("unhandledRejection",n,e):J(V,e,n)})),t.rejection=Y||q(t)?2:1,r.error))throw r.value}))},q=function(e){return 1!==e.rejection&&!e.parent},$=function(e,t){M.call(l,(function(){Y?R.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},ee=function(e,t,r,n){return function(i){e(t,r,i,n)}},te=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,K(e,t,!0))},re=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw P("Promise can't be resolved itself");var i=B(r);i?x((function(){var n={done:!1};try{i.call(r,ee(re,e,n,t),ee(te,e,n,t))}catch(r){te(e,n,r,t)}})):(t.value=r,t.state=1,K(e,t,!1))}catch(r){te(e,{done:!1},r,t)}}};H&&(G=function(e){y(this,G,N),m(e),n.call(this);var t=Z(this);try{e(ee(re,this,t),ee(te,this,t))}catch(e){te(this,t,e)}},(n=function(e){E(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(G.prototype,{then:function(e,t){var r=z(this),n=W(v(this,G));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=Y?R.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&K(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=Z(e);this.promise=e,this.resolve=ee(re,e,t),this.reject=ee(te,e,t)},_.f=W=function(e){return e===G||e===o?new i(e):j(e)},s||"function"!=typeof D||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(G,D.apply(l,arguments))}})),a({global:!0,wrap:!0,forced:H},{Promise:G}),d(G,N,!1,!0),h(N),o=c[N],a({target:N,stat:!0,forced:H},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),a({target:N,stat:!0,forced:s||H},{resolve:function(e){return S(s&&this===o?G:this,e)}}),a({target:N,stat:!0,forced:U},{all:function(e){var t=this,r=W(t),n=r.resolve,i=r.reject,o=T((function(){var r=m(t.resolve),o=[],a=0,s=1;g(e,(function(e){var l=a++,c=!1;o.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,o[l]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=W(t),n=r.reject,i=T((function(){var i=m(t.resolve);g(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},67811:(e,t,r)=>{var n=r(51605),i=r(30200),o=r(59085),a=r(73938),s=r(92074),l=(i.Reflect||{}).apply,c=Function.apply;n({target:"Reflect",stat:!0,forced:!s((function(){l((function(){}))}))},{apply:function(e,t,r){return o(e),a(r),l?l(e,t,r):c.call(e,t,r)}})},34606:(e,t,r)=>{var n=r(51605),i=r(30200),o=r(53105),a=r(59085),s=r(73938),l=r(65335),c=r(92074),u=r(38891),d=(i.Reflect||{}).construct,h=c((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),p=!c((function(){d((function(){}))})),m=h||p;n({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){a(e),s(t);var r=arguments.length<3?e:a(arguments[2]);if(p&&!h)return d(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var i=r.prototype,c=o(l(i)?i:Object.prototype),m=Function.apply.call(e,c,t);return l(m)?m:c}})},57948:(e,t,r)=>{var n=r(51605),i=r(92074),o=r(43610),a=r(73938),s=r(50874),l=r(65077);n({target:"Reflect",stat:!0,forced:i((function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})})),sham:!l},{defineProperty:function(e,t,r){a(e),t=s(t,!0),a(r);try{return o.f(e,t,r),!0}catch(e){return!1}}})},60436:(e,t,r)=>{var n=r(51605),i=r(97632).f,o=r(73938);n({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=i(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},98182:(e,t,r)=>{var n=r(51605),i=r(97632),o=r(73938);n({target:"Reflect",stat:!0,sham:!r(65077)},{getOwnPropertyDescriptor:function(e,t){return i.f(o(e),t)}})},92276:(e,t,r)=>{var n=r(51605),i=r(97970),o=r(73938);n({target:"Reflect",stat:!0,sham:!r(7168)},{getPrototypeOf:function(e){return i(o(e))}})},12091:(e,t,r)=>{var n=r(51605),i=r(97632),o=r(97970),a=r(31883),s=r(65335),l=r(73938);n({target:"Reflect",stat:!0},{get:function e(t,r){var n,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[r]:(n=i.f(t,r))?a(n,"value")?n.value:void 0===n.get?void 0:n.get.call(u):s(c=o(t))?e(c,r,u):void 0}})},95031:(e,t,r)=>{r(51605)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},89853:(e,t,r)=>{var n=r(51605),i=r(73938),o=Object.isExtensible;n({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),!o||o(e)}})},94308:(e,t,r)=>{r(51605)({target:"Reflect",stat:!0},{ownKeys:r(15816)})},14912:(e,t,r)=>{var n=r(51605),i=r(56492),o=r(73938);n({target:"Reflect",stat:!0,sham:!r(55159)},{preventExtensions:function(e){o(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},27144:(e,t,r)=>{var n=r(51605),i=r(39686),o=r(62876);i&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){o(e,t);try{return i(e,t),!0}catch(e){return!1}}})},37759:(e,t,r)=>{var n=r(51605),i=r(43610),o=r(97632),a=r(97970),s=r(31883),l=r(66843),c=r(73938),u=r(65335);n({target:"Reflect",stat:!0},{set:function e(t,r,n){var d,h,p=arguments.length<4?t:arguments[3],m=o.f(c(t),r);if(!m){if(u(h=a(t)))return e(h,r,n,p);m=l(0)}if(s(m,"value")){if(!1===m.writable||!u(p))return!1;if(d=o.f(p,r)){if(d.get||d.set||!1===d.writable)return!1;d.value=n,i.f(p,r,d)}else i.f(p,r,l(0,n));return!0}return void 0!==m.set&&(m.set.call(p,n),!0)}})},79073:(e,t,r)=>{var n=r(65077),i=r(30200),o=r(84977),a=r(93054),s=r(43610).f,l=r(64789).f,c=r(62449),u=r(16844),d=r(97485),h=r(92074),p=r(93524),m=r(31602)("match"),y=i.RegExp,f=y.prototype,g=/a/g,b=/a/g,v=new y(g)!==g;if(o("RegExp",n&&(!v||h((function(){return b[m]=!1,y(g)!=g||y(b)==b||"/a/i"!=y(g,"i")}))))){for(var M=function(e,t){var r=this instanceof M,n=c(e),i=void 0===t;return!r&&n&&e.constructor===M&&i?e:a(v?new y(n&&!i?e.source:e,t):y((n=e instanceof M)?e.source:e,n&&i?u.call(e):t),r?this:f,M)},x=function(e){e in M||s(M,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},S=l(y),w=0;w<S.length;)x(S[w++]);f.constructor=M,M.prototype=f,d(i,"RegExp",M)}p("RegExp")},87136:(e,t,r)=>{"use strict";var n=r(51605),i=r(70054);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},38802:(e,t,r)=>{var n=r(65077),i=r(43610),o=r(16844);n&&"g"!=/./g.flags&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},6048:(e,t,r)=>{"use strict";var n=r(97485),i=r(73938),o=r(92074),a=r(16844),s="toString",l=/./[s],c=RegExp.prototype,u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&n(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in c)?a.call(e):r)}),{unsafe:!0})},45708:(e,t,r)=>{"use strict";var n=r(92327),i=r(5959);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),i)},39596:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},34607:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("big")},{big:function(){return i(this,"big","","")}})},8915:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("blink")},{blink:function(){return i(this,"blink","","")}})},35594:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("bold")},{bold:function(){return i(this,"b","","")}})},4657:(e,t,r)=>{"use strict";var n=r(51605),i=r(13686);n({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},67500:(e,t,r)=>{"use strict";var n=r(51605),i=r(33747),o=r(42552),a=r(44177),s="endsWith",l=""[s],c=Math.min;n({target:"String",proto:!0,forced:!a(s)},{endsWith:function(e){var t=o(this,e,s),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),a=void 0===r?n:c(i(r),n),u=String(e);return l?l.call(t,u,a):t.slice(a-u.length,a)===u}})},69607:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("fixed")},{fixed:function(){return i(this,"tt","","")}})},75193:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},8505:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},5784:(e,t,r)=>{var n=r(51605),i=r(6539),o=String.fromCharCode,a=String.fromCodePoint;n({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},43148:(e,t,r)=>{"use strict";var n=r(51605),i=r(42552);n({target:"String",proto:!0,forced:!r(44177)("includes")},{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},53024:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("italics")},{italics:function(){return i(this,"i","","")}})},29979:(e,t,r)=>{"use strict";var n=r(13686),i=r(99206),o=r(45723),a="String Iterator",s=i.set,l=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=l(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i,!0),t.index+=e.length,{value:e,done:!1})}))},77249:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("link")},{link:function(e){return i(this,"a","href",e)}})},17870:(e,t,r)=>{"use strict";var n=r(51605),i=r(72147),o=r(71229),a=r(33747),s=r(59085),l=r(73938),c=r(83062),u=r(16844),d=r(21395),h=r(31602),p=r(23444),m=r(67234),y=r(99206),f=r(6926),g=h("matchAll"),b="RegExp String",v=b+" Iterator",M=y.set,x=y.getterFor(v),S=RegExp.prototype,w=S.exec,_=i((function(e,t,r,n){M(this,{type:v,regexp:e,string:t,global:r,unicode:n,done:!1})}),b,(function(){var e=x(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=function(e,t){var r,n=e.exec;if("function"==typeof n){if("object"!=typeof(r=n.call(e,t)))throw TypeError("Incorrect exec result");return r}return w.call(e,t)}(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=m(r,a(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),T=function(e){var t,r,n,i,o,s,c=l(this),d=String(e);return t=p(c,RegExp),void 0===(r=c.flags)&&c instanceof RegExp&&!("flags"in S)&&(r=u.call(c)),n=void 0===r?"":String(r),i=new t(t===RegExp?c.source:c,n),o=!!~n.indexOf("g"),s=!!~n.indexOf("u"),i.lastIndex=a(c.lastIndex),new _(i,d,o,s)};n({target:"String",proto:!0},{matchAll:function(e){var t,r,n,i=o(this);return null!=e&&(void 0===(r=e[g])&&f&&"RegExp"==c(e)&&(r=T),null!=r)?s(r).call(e,i):(t=String(i),n=new RegExp(e,"g"),f?T.call(n,t):n[g](t))}}),f||g in S||d(S,g,T)},78636:(e,t,r)=>{"use strict";var n=r(20779),i=r(73938),o=r(33747),a=r(71229),s=r(67234),l=r(66793);n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=i(e),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;for(var d,h=[],p=0;null!==(d=l(a,c));){var m=String(d[0]);h[p]=m,""===m&&(a.lastIndex=s(c,o(a.lastIndex),u)),p++}return 0===p?null:h}]}))},3848:(e,t,r)=>{"use strict";var n=r(51605),i=r(45214);n({target:"String",proto:!0,forced:r(11156)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},48825:(e,t,r)=>{"use strict";var n=r(51605),i=r(45214);n({target:"String",proto:!0,forced:r(11156)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},67287:(e,t,r)=>{var n=r(51605),i=r(5476),o=r(33747);n({target:"String",stat:!0},{raw:function(e){for(var t=i(e.raw),r=o(t.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(t[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},61890:(e,t,r)=>{r(51605)({target:"String",proto:!0},{repeat:r(10140)})},40173:(e,t,r)=>{"use strict";var n=r(20779),i=r(73938),o=r(92612),a=r(33747),s=r(7317),l=r(71229),c=r(67234),u=r(66793),d=Math.max,h=Math.min,p=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,r){return[function(r,n){var i=l(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,o){var l=r(t,e,this,o);if(l.done)return l.value;var p=i(e),m=String(this),y="function"==typeof o;y||(o=String(o));var f=p.global;if(f){var g=p.unicode;p.lastIndex=0}for(var b=[];;){var v=u(p,m);if(null===v)break;if(b.push(v),!f)break;""===String(v[0])&&(p.lastIndex=c(m,a(p.lastIndex),g))}for(var M,x="",S=0,w=0;w<b.length;w++){v=b[w];for(var _=String(v[0]),T=d(h(s(v.index),m.length),0),I=[],C=1;C<v.length;C++)I.push(void 0===(M=v[C])?M:String(M));var k=v.groups;if(y){var L=[_].concat(I,T,m);void 0!==k&&L.push(k);var N=String(o.apply(void 0,L))}else N=n(_,m,T,I,k,o);T>=S&&(x+=m.slice(S,T)+N,S=T+_.length)}return x+m.slice(S)}];function n(e,r,n,i,a,s){var l=n+e.length,c=i.length,u=y;return void 0!==a&&(a=o(a),u=m),t.call(s,u,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return t;if(u>c){var d=p(u/10);return 0===d?t:d<=c?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):t}s=i[u-1]}return void 0===s?"":s}))}}))},50785:(e,t,r)=>{"use strict";var n=r(20779),i=r(73938),o=r(71229),a=r(54741),s=r(66793);n("search",1,(function(e,t,r){return[function(t){var r=o(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=i(e),l=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var u=s(o,l);return a(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},5038:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("small")},{small:function(){return i(this,"small","","")}})},58649:(e,t,r)=>{"use strict";var n=r(20779),i=r(62449),o=r(73938),a=r(71229),s=r(23444),l=r(67234),c=r(33747),u=r(66793),d=r(70054),h=r(92074),p=[].push,m=Math.min,y=4294967295,f=!h((function(){return!RegExp(y,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(a(this)),o=void 0===r?y:r>>>0;if(0===o)return[];if(void 0===e)return[n];if(!i(e))return t.call(n,e,o);for(var s,l,c,u=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,f=new RegExp(e.source,h+"g");(s=d.call(f,n))&&!((l=f.lastIndex)>m&&(u.push(n.slice(m,s.index)),s.length>1&&s.index<n.length&&p.apply(u,s.slice(1)),c=s[0].length,m=l,u.length>=o));)f.lastIndex===s.index&&f.lastIndex++;return m===n.length?!c&&f.test("")||u.push(""):u.push(n.slice(m)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,r):n.call(String(i),t,r)},function(e,i){var a=r(n,e,this,i,n!==t);if(a.done)return a.value;var d=o(e),h=String(this),p=s(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"y":"g"),v=new p(f?d:"^(?:"+d.source+")",b),M=void 0===i?y:i>>>0;if(0===M)return[];if(0===h.length)return null===u(v,h)?[h]:[];for(var x=0,S=0,w=[];S<h.length;){v.lastIndex=f?S:0;var _,T=u(v,f?h:h.slice(S));if(null===T||(_=m(c(v.lastIndex+(f?0:S)),h.length))===x)S=l(h,S,g);else{if(w.push(h.slice(x,S)),w.length===M)return w;for(var I=1;I<=T.length-1;I++)if(w.push(T[I]),w.length===M)return w;S=x=_}}return w.push(h.slice(x)),w}]}),!f)},54989:(e,t,r)=>{"use strict";var n=r(51605),i=r(33747),o=r(42552),a=r(44177),s="startsWith",l=""[s];n({target:"String",proto:!0,forced:!a(s)},{startsWith:function(e){var t=o(this,e,s),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return l?l.call(t,n,r):t.slice(r,r+n.length)===n}})},34427:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("strike")},{strike:function(){return i(this,"strike","","")}})},65987:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("sub")},{sub:function(){return i(this,"sub","","")}})},18293:(e,t,r)=>{"use strict";var n=r(51605),i=r(19877);n({target:"String",proto:!0,forced:r(70626)("sup")},{sup:function(){return i(this,"sup","","")}})},70825:(e,t,r)=>{"use strict";var n=r(51605),i=r(69163),o=r(44653)("trimEnd"),a=o?function(){return i(this,2)}:"".trimEnd;n({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},5336:(e,t,r)=>{"use strict";var n=r(51605),i=r(69163),o=r(44653)("trimStart"),a=o?function(){return i(this,1)}:"".trimStart;n({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},68329:(e,t,r)=>{"use strict";var n=r(51605),i=r(69163);n({target:"String",proto:!0,forced:r(44653)("trim")},{trim:function(){return i(this,3)}})},27727:(e,t,r)=>{r(91272)("asyncIterator")},40590:(e,t,r)=>{"use strict";var n=r(51605),i=r(65077),o=r(30200),a=r(31883),s=r(65335),l=r(43610).f,c=r(84361),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(h,u);var p=h.prototype=u.prototype;p.constructor=h;var m=p.toString,y="Symbol(test)"==String(u("test")),f=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(a(d,e))return"";var r=y?t.slice(7,-1):t.replace(f,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},68290:(e,t,r)=>{r(91272)("hasInstance")},12619:(e,t,r)=>{r(91272)("isConcatSpreadable")},64216:(e,t,r)=>{r(91272)("iterator")},63534:(e,t,r)=>{"use strict";var n=r(51605),i=r(30200),o=r(31883),a=r(61849),s=r(65077),l=r(6926),c=r(97485),u=r(67708),d=r(92074),h=r(50002),p=r(75282),m=r(50665),y=r(31602),f=r(90066),g=r(91272),b=r(23775),v=r(18679),M=r(73938),x=r(65335),S=r(92612),w=r(5476),_=r(50874),T=r(66843),I=r(53105),C=r(64789),k=r(56509),L=r(97632),N=r(43610),Z=r(9304),E=r(21395),z=r(91641),G=r(18916),P=r(25904),A=r(99206),R=P("hidden"),D="Symbol",X=A.set,O=A.getterFor(D),W=L.f,j=N.f,Y=k.f,F=i.Symbol,V=i.JSON,H=V&&V.stringify,U="prototype",B=y("toPrimitive"),K=Z.f,J=h("symbol-registry"),Q=h("symbols"),q=h("op-symbols"),$=h("wks"),ee=Object[U],te=i.QObject,re=!te||!te[U]||!te[U].findChild,ne=s&&d((function(){return 7!=I(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=W(ee,t);n&&delete ee[t],j(e,t,r),n&&e!==ee&&j(ee,t,n)}:j,ie=function(e,t){var r=Q[e]=I(F[U]);return X(r,{type:D,tag:e,description:t}),s||(r.description=t),r},oe=a&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof F},ae=function(e,t,r){return e===ee&&ae(q,t,r),M(e),t=_(t,!0),M(r),o(Q,t)?(r.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),r=I(r,{enumerable:T(0,!1)})):(o(e,R)||j(e,R,T(1,{})),e[R][t]=!0),ne(e,t,r)):j(e,t,r)},se=function(e,t){M(e);for(var r,n=b(t=w(t)),i=0,o=n.length;o>i;)ae(e,r=n[i++],t[r]);return e},le=function(e){var t=K.call(this,e=_(e,!0));return!(this===ee&&o(Q,e)&&!o(q,e))&&(!(t||!o(this,e)||!o(Q,e)||o(this,R)&&this[R][e])||t)},ce=function(e,t){if(e=w(e),t=_(t,!0),e!==ee||!o(Q,t)||o(q,t)){var r=W(e,t);return!r||!o(Q,t)||o(e,R)&&e[R][t]||(r.enumerable=!0),r}},ue=function(e){for(var t,r=Y(w(e)),n=[],i=0;r.length>i;)o(Q,t=r[i++])||o(u,t)||n.push(t);return n},de=function(e){for(var t,r=e===ee,n=Y(r?q:w(e)),i=[],a=0;n.length>a;)!o(Q,t=n[a++])||r&&!o(ee,t)||i.push(Q[t]);return i};a||(c((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor");var e=void 0===arguments[0]?void 0:String(arguments[0]),t=m(e),r=function(e){this===ee&&r.call(q,e),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),ne(this,t,T(1,e))};return s&&re&&ne(ee,t,{configurable:!0,set:r}),ie(t,e)})[U],"toString",(function(){return O(this).tag})),Z.f=le,N.f=ae,L.f=ce,C.f=k.f=ue,G.f=de,s&&(j(F[U],"description",{configurable:!0,get:function(){return O(this).description}}),l||c(ee,"propertyIsEnumerable",le,{unsafe:!0})),f.f=function(e){return ie(y(e),e)}),n({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:F});for(var he=z($),pe=0;he.length>pe;)g(he[pe++]);n({target:D,stat:!0,forced:!a},{for:function(e){return o(J,e+="")?J[e]:J[e]=F(e)},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");for(var t in J)if(J[t]===e)return t},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!a,sham:!s},{create:function(e,t){return void 0===t?I(e):se(I(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ce}),n({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ue,getOwnPropertySymbols:de}),n({target:"Object",stat:!0,forced:d((function(){G.f(1)}))},{getOwnPropertySymbols:function(e){return G.f(S(e))}}),V&&n({target:"JSON",stat:!0,forced:!a||d((function(){var e=F();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))}))},{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(x(t)||void 0!==e)&&!oe(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!oe(t))return t}),n[1]=t,H.apply(V,n)}}),F[U][B]||E(F[U],B,F[U].valueOf),p(F,D),u[R]=!0},66195:(e,t,r)=>{r(91272)("matchAll")},2957:(e,t,r)=>{r(91272)("match")},64100:(e,t,r)=>{r(91272)("replace")},53006:(e,t,r)=>{r(91272)("search")},74910:(e,t,r)=>{r(91272)("species")},42820:(e,t,r)=>{r(91272)("split")},36611:(e,t,r)=>{r(91272)("toPrimitive")},49576:(e,t,r)=>{r(91272)("toStringTag")},59747:(e,t,r)=>{r(91272)("unscopables")},20861:(e,t,r)=>{"use strict";var n=r(29688),i=r(85343),o=i.aTypedArray;i.exportProto("copyWithin",(function(e,t){return n.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},71905:(e,t,r)=>{"use strict";var n=r(48533),i=r(85343),o=n(4),a=i.aTypedArray;i.exportProto("every",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},85213:(e,t,r)=>{"use strict";var n=r(85343),i=r(27806),o=n.aTypedArray;n.exportProto("fill",(function(e){return i.apply(o(this),arguments)}))},97182:(e,t,r)=>{"use strict";var n=r(23444),i=r(85343),o=r(48533)(2),a=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("filter",(function(e){for(var t=o(a(this),e,arguments.length>1?arguments[1]:void 0),r=n(this,this.constructor),i=0,l=t.length,c=new(s(r))(l);l>i;)c[i]=t[i++];return c}))},39302:(e,t,r)=>{"use strict";var n=r(85343),i=r(48533)(6),o=n.aTypedArray;n.exportProto("findIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},12279:(e,t,r)=>{"use strict";var n=r(85343),i=r(48533)(5),o=n.aTypedArray;n.exportProto("find",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},95889:(e,t,r)=>{r(43106)("Float32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},14758:(e,t,r)=>{r(43106)("Float64",8,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},70147:(e,t,r)=>{"use strict";var n=r(85343),i=r(48533)(0),o=n.aTypedArray;n.exportProto("forEach",(function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},36148:(e,t,r)=>{"use strict";var n=r(21328),i=r(85343),o=r(22180);i.exportStatic("from",o,n)},66217:(e,t,r)=>{"use strict";var n=r(58186),i=r(85343),o=i.aTypedArray,a=n(!0);i.exportProto("includes",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},97966:(e,t,r)=>{"use strict";var n=r(58186),i=r(85343),o=i.aTypedArray,a=n(!1);i.exportProto("indexOf",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},9096:(e,t,r)=>{r(43106)("Int16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},47950:(e,t,r)=>{r(43106)("Int32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},15679:(e,t,r)=>{r(43106)("Int8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},35186:(e,t,r)=>{"use strict";var n=r(30200),i=r(18665),o=r(85343),a=r(31602)("iterator"),s=n.Uint8Array,l=i.values,c=i.keys,u=i.entries,d=o.aTypedArray,h=o.exportProto,p=s&&s.prototype[a],m=!!p&&("values"==p.name||null==p.name),y=function(){return l.call(d(this))};h("entries",(function(){return u.call(d(this))})),h("keys",(function(){return c.call(d(this))})),h("values",y,!m),h(a,y,!m)},35944:(e,t,r)=>{"use strict";var n=r(85343),i=n.aTypedArray,o=[].join;n.exportProto("join",(function(e){return o.apply(i(this),arguments)}))},44787:(e,t,r)=>{"use strict";var n=r(3470),i=r(85343),o=i.aTypedArray;i.exportProto("lastIndexOf",(function(e){return n.apply(o(this),arguments)}))},50632:(e,t,r)=>{"use strict";var n=r(23444),i=r(85343),o=r(48533),a=i.aTypedArray,s=i.aTypedArrayConstructor,l=o(1,(function(e,t){return new(s(n(e,e.constructor)))(t)}));i.exportProto("map",(function(e){return l(a(this),e,arguments.length>1?arguments[1]:void 0)}))},66609:(e,t,r)=>{"use strict";var n=r(21328),i=r(85343),o=i.aTypedArrayConstructor;i.exportStatic("of",(function(){for(var e=0,t=arguments.length,r=new(o(this))(t);t>e;)r[e]=arguments[e++];return r}),n)},14245:(e,t,r)=>{"use strict";var n=r(85343),i=r(52237),o=n.aTypedArray;n.exportProto("reduceRight",(function(e){return i(o(this),e,arguments.length,arguments[1],!0)}))},52278:(e,t,r)=>{"use strict";var n=r(85343),i=r(52237),o=n.aTypedArray;n.exportProto("reduce",(function(e){return i(o(this),e,arguments.length,arguments[1],!1)}))},52492:(e,t,r)=>{"use strict";var n=r(85343),i=n.aTypedArray;n.exportProto("reverse",(function(){for(var e,t=this,r=i(t).length,n=Math.floor(r/2),o=0;o<n;)e=t[o],t[o++]=t[--r],t[r]=e;return t}))},93266:(e,t,r)=>{"use strict";var n=r(33747),i=r(73720),o=r(92612),a=r(85343),s=r(92074),l=a.aTypedArray,c=s((function(){new Int8Array(1).set({})}));a.exportProto("set",(function(e){l(this);var t=i(arguments[1],1),r=this.length,a=o(e),s=n(a.length),c=0;if(s+t>r)throw RangeError("Wrong length");for(;c<s;)this[t+c]=a[c++]}),c)},37192:(e,t,r)=>{"use strict";var n=r(23444),i=r(85343),o=r(92074),a=i.aTypedArray,s=i.aTypedArrayConstructor,l=[].slice,c=o((function(){new Int8Array(1).slice()}));i.exportProto("slice",(function(e,t){for(var r=l.call(a(this),e,t),i=n(this,this.constructor),o=0,c=r.length,u=new(s(i))(c);c>o;)u[o]=r[o++];return u}),c)},37220:(e,t,r)=>{"use strict";var n=r(85343),i=r(48533)(3),o=n.aTypedArray;n.exportProto("some",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},82432:(e,t,r)=>{"use strict";var n=r(85343),i=n.aTypedArray,o=[].sort;n.exportProto("sort",(function(e){return o.call(i(this),e)}))},32483:(e,t,r)=>{"use strict";var n=r(33747),i=r(6539),o=r(23444),a=r(85343),s=a.aTypedArray;a.exportProto("subarray",(function(e,t){var r=s(this),a=r.length,l=i(e,a);return new(o(r,r.constructor))(r.buffer,r.byteOffset+l*r.BYTES_PER_ELEMENT,n((void 0===t?a:i(t,a))-l))}))},36696:(e,t,r)=>{"use strict";var n=r(30200),i=r(92074),o=r(85343),a=n.Int8Array,s=o.aTypedArray,l=[].toLocaleString,c=[].slice,u=!!a&&i((function(){l.call(new a(1))})),d=i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])}));o.exportProto("toLocaleString",(function(){return l.apply(u?c.call(s(this)):s(this),arguments)}),d)},58083:(e,t,r)=>{"use strict";var n=r(30200),i=r(85343),o=r(92074),a=n.Uint8Array,s=a&&a.prototype,l=[].toString,c=[].join;o((function(){l.call({})}))&&(l=function(){return c.call(this)}),i.exportProto("toString",l,(s||{}).toString!=l)},46395:(e,t,r)=>{r(43106)("Uint16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},52357:(e,t,r)=>{r(43106)("Uint32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},53746:(e,t,r)=>{r(43106)("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9513:(e,t,r)=>{r(43106)("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},10121:(e,t,r)=>{"use strict";var n,i=r(30200),o=r(13075),a=r(82014),s=r(92327),l=r(76784),c=r(65335),u=r(99206).enforce,d=r(82886),h=!i.ActiveXObject&&"ActiveXObject"in i,p=Object.isExtensible,m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y=e.exports=s("WeakMap",m,l,!0,!0);if(d&&h){n=l.getConstructor(m,"WeakMap",!0),a.REQUIRED=!0;var f=y.prototype,g=f.delete,b=f.has,v=f.get,M=f.set;o(f,{delete:function(e){if(c(e)&&!p(e)){var t=u(this);return t.frozen||(t.frozen=new n),g.call(this,e)||t.frozen.delete(e)}return g.call(this,e)},has:function(e){if(c(e)&&!p(e)){var t=u(this);return t.frozen||(t.frozen=new n),b.call(this,e)||t.frozen.has(e)}return b.call(this,e)},get:function(e){if(c(e)&&!p(e)){var t=u(this);return t.frozen||(t.frozen=new n),b.call(this,e)?v.call(this,e):t.frozen.get(e)}return v.call(this,e)},set:function(e,t){if(c(e)&&!p(e)){var r=u(this);r.frozen||(r.frozen=new n),b.call(this,e)?M.call(this,e,t):r.frozen.set(e,t)}else M.call(this,e,t);return this}})}},70863:(e,t,r)=>{"use strict";r(92327)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),r(76784),!1,!0)},58379:(e,t,r)=>{var n=r(30200),i=r(5549),o=r(10516),a=r(21395);for(var s in i){var l=n[s],c=l&&l.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(e){c.forEach=o}}},14602:(e,t,r)=>{var n=r(30200),i=r(5549),o=r(18665),a=r(21395),s=r(31602),l=s("iterator"),c=s("toStringTag"),u=o.values;for(var d in i){var h=n[d],p=h&&h.prototype;if(p){if(p[l]!==u)try{a(p,l,u)}catch(e){p[l]=u}if(p[c]||a(p,c,d),i[d])for(var m in o)if(p[m]!==o[m])try{a(p,m,o[m])}catch(e){p[m]=o[m]}}}},75417:(e,t,r)=>{var n=r(30200),i=r(74922),o=!n.setImmediate||!n.clearImmediate;r(51605)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:i.set,clearImmediate:i.clear})},85183:(e,t,r)=>{var n=r(51605),i=r(30200),o=r(47462),a=r(18569),s=i.process,l="process"==a(s);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&s.domain;o(t?t.bind(e):e)}})},18772:(e,t,r)=>{var n=r(51605),i=r(30200),o=r(56992),a=[].slice,s=function(e){return function(t,r){var n=arguments.length>2,i=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},60933:(e,t,r)=>{"use strict";r(18665);var n=r(51605),i=r(84516),o=r(97485),a=r(13075),s=r(75282),l=r(72147),c=r(99206),u=r(65190),d=r(31883),h=r(39862),p=r(73938),m=r(65335),y=r(79526),f=r(51898),g=r(31602)("iterator"),b="URLSearchParams",v=b+"Iterator",M=c.set,x=c.getterFor(b),S=c.getterFor(v),w=/\+/g,_=Array(4),T=function(e){return _[e-1]||(_[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},I=function(e){try{return decodeURIComponent(e)}catch(t){return e}},C=function(e){var t=e.replace(w," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(T(r--),I);return t}},k=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(e){return L[e]},Z=function(e){return encodeURIComponent(e).replace(k,N)},E=function(e,t){if(t)for(var r,n,i=t.split("&"),o=0;o<i.length;)(r=i[o++]).length&&(n=r.split("="),e.push({key:C(n.shift()),value:C(n.join("="))}));return e},z=function(e){this.entries.length=0,E(this.entries,e)},G=function(e,t){if(e<t)throw TypeError("Not enough arguments")},P=l((function(e,t){M(this,{type:v,iterator:y(x(e).entries),kind:t})}),"Iterator",(function(){var e=S(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),A=function(){u(this,A,b);var e,t,r,n,i,o,a,s=arguments.length>0?arguments[0]:void 0,l=[];if(M(this,{type:b,entries:l,updateURL:null,updateSearchParams:z}),void 0!==s)if(m(s))if("function"==typeof(e=f(s)))for(t=e.call(s);!(r=t.next()).done;){if((i=(n=y(p(r.value))).next()).done||(o=n.next()).done||!n.next().done)throw TypeError("Expected sequence with length 2");l.push({key:i.value+"",value:o.value+""})}else for(a in s)d(s,a)&&l.push({key:a,value:s[a]+""});else E(l,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},R=A.prototype;a(R,{append:function(e,t){G(arguments.length,2);var r=x(this);r.entries.push({key:e+"",value:t+""}),r.updateURL&&r.updateURL()},delete:function(e){G(arguments.length,1);for(var t=x(this),r=t.entries,n=e+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;t.updateURL&&t.updateURL()},get:function(e){G(arguments.length,1);for(var t=x(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){G(arguments.length,1);for(var t=x(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){G(arguments.length,1);for(var t=x(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){G(arguments.length,1);for(var r,n=x(this),i=n.entries,o=!1,a=e+"",s=t+"",l=0;l<i.length;l++)(r=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL&&n.updateURL()},sort:function(){var e,t,r,n=x(this),i=n.entries,o=i.slice();for(i.length=0,t=0;t<o.length;t++){for(e=o[t],r=0;r<t;r++)if(i[r].key>e.key){i.splice(r,0,e);break}r===t&&i.push(e)}n.updateURL&&n.updateURL()},forEach:function(e){for(var t,r=x(this).entries,n=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new P(this,"keys")},values:function(){return new P(this,"values")},entries:function(){return new P(this,"entries")}},{enumerable:!0}),o(R,g,R.entries),o(R,"toString",(function(){for(var e,t=x(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(Z(e.key)+"="+Z(e.value));return r.join("&")}),{enumerable:!0}),s(A,b),n({global:!0,forced:!i},{URLSearchParams:A}),e.exports={URLSearchParams:A,getState:x}},30789:(e,t,r)=>{"use strict";r(29979);var n,i=r(51605),o=r(65077),a=r(84516),s=r(30200),l=r(65318),c=r(97485),u=r(65190),d=r(31883),h=r(81688),p=r(51027),m=r(13686),y=r(51818),f=r(75282),g=r(60933),b=r(99206),v=s.URL,M=g.URLSearchParams,x=g.getState,S=b.set,w=b.getterFor("URL"),_=Math.pow,T="Invalid scheme",I="Invalid host",C="Invalid port",k=/[A-Za-z]/,L=/[\d+\-.A-Za-z]/,N=/\d/,Z=/^(0x|0X)/,E=/^[0-7]+$/,z=/^\d+$/,G=/^[\dA-Fa-f]+$/,P=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,A=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,R=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,D=/[\u0009\u000A\u000D]/g,X=function(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return I;if(!(r=W(t.slice(1,-1))))return I;e.host=r}else if(K(e)){if(t=y(t),P.test(t))return I;if(null===(r=O(t)))return I;e.host=r}else{if(A.test(t))return I;for(r="",n=p(t),i=0;i<n.length;i++)r+=U(n[i],Y);e.host=r}},O=function(e){var t,r,n,i,o,a,s,l=e.split(".");if(""==l[l.length-1]&&l.length&&l.pop(),(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=Z.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?z:8==o?E:G).test(i))return e;a=parseInt(i,o)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=_(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*_(256,3-n);return s},W=function(e){var t,r,n,i,o,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=r=0;r<4&&G.test(h());)t=16*t+parseInt(h(),16),d++,r++;if("."==h()){if(0==r)return;if(d-=r,c>6)return;for(n=0;h();){if(i=null,n>0){if(!("."==h()&&n<4))return;d++}if(!N.test(h()))return;for(;N.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!=c)return;return l},j=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=Math.floor(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},Y={},F=h({},Y,{" ":1,'"':1,"<":1,">":1,"`":1}),V=h({},F,{"#":1,"?":1,"{":1,"}":1}),H=h({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),U=function(e,t){var r=m(e,0);return r>32&&r<127&&!d(t,e)?e:encodeURIComponent(e)},B={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},K=function(e){return d(B,e.scheme)},J=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},q=function(e,t){var r;return 2==e.length&&k.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},$=function(e){var t;return e.length>1&&q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ee=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&q(t[0],!0)||t.pop()},te=function(e){return"."===e||"%2e"===e.toLowerCase()},re={},ne={},ie={},oe={},ae={},se={},le={},ce={},ue={},de={},he={},pe={},me={},ye={},fe={},ge={},be={},ve={},Me={},xe={},Se={},we=function(e,t,r,i){var o,a,s,l,c,u=r||re,h=0,m="",y=!1,f=!1,g=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(R,"")),t=t.replace(D,""),o=p(t);h<=o.length;){switch(a=o[h],u){case re:if(!a||!k.test(a)){if(r)return T;u=ie;continue}m+=a.toLowerCase(),u=ne;break;case ne:if(a&&(L.test(a)||"+"==a||"-"==a||"."==a))m+=a.toLowerCase();else{if(":"!=a){if(r)return T;m="",u=ie,h=0;continue}if(r&&(K(e)!=d(B,m)||"file"==m&&(J(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,r)return void(K(e)&&B[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?u=ye:K(e)&&i&&i.scheme==e.scheme?u=oe:K(e)?u=ce:"/"==o[h+1]?(u=ae,h++):(e.cannotBeABaseURL=!0,e.path.push(""),u=Me)}break;case ie:if(!i||i.cannotBeABaseURL&&"#"!=a)return T;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=Se;break}u="file"==i.scheme?ye:se;continue;case oe:if("/"!=a||"/"!=o[h+1]){u=se;continue}u=ue,h++;break;case ae:if("/"==a){u=de;break}u=ve;continue;case se:if(e.scheme=i.scheme,a==n)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&K(e))u=le;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=xe;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=ve;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Se}break;case le:if(!K(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=ve;continue}u=de}else u=ue;break;case ce:if(u=ue,"/"!=a||"/"!=m.charAt(h+1))continue;h++;break;case ue:if("/"!=a&&"\\"!=a){u=de;continue}break;case de:if("@"==a){y&&(m="%40"+m),y=!0,s=p(m);for(var b=0;b<s.length;b++){var v=s[b];if(":"!=v||g){var M=U(v,H);g?e.password+=M:e.username+=M}else g=!0}m=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&K(e)){if(y&&""==m)return"Invalid authority";h-=p(m).length+1,m="",u=he}else m+=a;break;case he:case pe:if(r&&"file"==e.scheme){u=ge;continue}if(":"!=a||f){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&K(e)){if(K(e)&&""==m)return I;if(r&&""==m&&(J(e)||null!==e.port))return;if(l=X(e,m))return l;if(m="",u=be,r)return;continue}"["==a?f=!0:"]"==a&&(f=!1),m+=a}else{if(""==m)return I;if(l=X(e,m))return l;if(m="",u=me,r==pe)return}break;case me:if(!N.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&K(e)||r){if(""!=m){var x=parseInt(m,10);if(x>65535)return C;e.port=K(e)&&x===B[e.scheme]?null:x,m=""}if(r)return;u=be;continue}return C}m+=a;break;case ye:if(e.scheme="file","/"==a||"\\"==a)u=fe;else{if(!i||"file"!=i.scheme){u=ve;continue}if(a==n)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",u=xe;else{if("#"!=a){$(o.slice(h).join(""))||(e.host=i.host,e.path=i.path.slice(),ee(e)),u=ve;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Se}}break;case fe:if("/"==a||"\\"==a){u=ge;break}i&&"file"==i.scheme&&!$(o.slice(h).join(""))&&(q(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=ve;continue;case ge:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&q(m))u=ve;else if(""==m){if(e.host="",r)return;u=be}else{if(l=X(e,m))return l;if("localhost"==e.host&&(e.host=""),r)return;m="",u=be}continue}m+=a;break;case be:if(K(e)){if(u=ve,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(u=ve,"/"!=a))continue}else e.fragment="",u=Se;else e.query="",u=xe;break;case ve:if(a==n||"/"==a||"\\"==a&&K(e)||!r&&("?"==a||"#"==a)){if(".."===(c=(c=m).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(ee(e),"/"==a||"\\"==a&&K(e)||e.path.push("")):te(m)?"/"==a||"\\"==a&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&q(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(a==n||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",u=xe):"#"==a&&(e.fragment="",u=Se)}else m+=U(a,V);break;case Me:"?"==a?(e.query="",u=xe):"#"==a?(e.fragment="",u=Se):a!=n&&(e.path[0]+=U(a,Y));break;case xe:r||"#"!=a?a!=n&&("'"==a&&K(e)?e.query+="%27":e.query+="#"==a?"%23":U(a,Y)):(e.fragment="",u=Se);break;case Se:a!=n&&(e.fragment+=U(a,F))}h++}},_e=function(e){var t,r,n=u(this,_e,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=S(n,{type:"URL"});if(void 0!==i)if(i instanceof _e)t=w(i);else if(r=we(t={},String(i)))throw TypeError(r);if(r=we(s,a,null,t))throw TypeError(r);var l=s.searchParams=new M,c=x(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},o||(n.href=Ie.call(n),n.origin=Ce.call(n),n.protocol=ke.call(n),n.username=Le.call(n),n.password=Ne.call(n),n.host=Ze.call(n),n.hostname=Ee.call(n),n.port=ze.call(n),n.pathname=Ge.call(n),n.search=Pe.call(n),n.searchParams=Ae.call(n),n.hash=Re.call(n))},Te=_e.prototype,Ie=function(){var e=w(this),t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",J(e)&&(c+=r+(n?":"+n:"")+"@"),c+=j(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Ce=function(){var e=w(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&K(e)?t+"://"+j(e.host)+(null!==r?":"+r:""):"null"},ke=function(){return w(this).scheme+":"},Le=function(){return w(this).username},Ne=function(){return w(this).password},Ze=function(){var e=w(this),t=e.host,r=e.port;return null===t?"":null===r?j(t):j(t)+":"+r},Ee=function(){var e=w(this).host;return null===e?"":j(e)},ze=function(){var e=w(this).port;return null===e?"":String(e)},Ge=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Pe=function(){var e=w(this).query;return e?"?"+e:""},Ae=function(){return w(this).searchParams},Re=function(){var e=w(this).fragment;return e?"#"+e:""},De=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(Te,{href:De(Ie,(function(e){var t=w(this),r=String(e),n=we(t,r);if(n)throw TypeError(n);x(t.searchParams).updateSearchParams(t.query)})),origin:De(Ce),protocol:De(ke,(function(e){var t=w(this);we(t,String(e)+":",re)})),username:De(Le,(function(e){var t=w(this),r=p(String(e));if(!Q(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=U(r[n],H)}})),password:De(Ne,(function(e){var t=w(this),r=p(String(e));if(!Q(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=U(r[n],H)}})),host:De(Ze,(function(e){var t=w(this);t.cannotBeABaseURL||we(t,String(e),he)})),hostname:De(Ee,(function(e){var t=w(this);t.cannotBeABaseURL||we(t,String(e),pe)})),port:De(ze,(function(e){var t=w(this);Q(t)||(""==(e=String(e))?t.port=null:we(t,e,me))})),pathname:De(Ge,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",be))})),search:De(Pe,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,xe)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:De(Ae),hash:De(Re,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,Se)):t.fragment=null}))}),c(Te,"toJSON",(function(){return Ie.call(this)}),{enumerable:!0}),c(Te,"toString",(function(){return Ie.call(this)}),{enumerable:!0}),v){var Xe=v.createObjectURL,Oe=v.revokeObjectURL;Xe&&c(_e,"createObjectURL",(function(e){return Xe.apply(v,arguments)})),Oe&&c(_e,"revokeObjectURL",(function(e){return Oe.apply(v,arguments)}))}f(_e,"URL"),i({global:!0,forced:!a,sham:!o},{URL:_e})},58565:(e,t,r)=>{"use strict";r(51605)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},55108:(e,t,r)=>{r(29279),r(73415),r(29720)},73415:(e,t,r)=>{r(58379),r(14602),r(75417),r(85183),r(18772),r(30789),r(58565),r(60933),e.exports=r(29720)},74692:function(e,t,r){var n=r(30327),i=r(60494);!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}(void 0!==n?n:this,(function(e,t){"use strict";var r=[],n=Object.getPrototypeOf,o=r.slice,a=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},s=r.push,l=r.indexOf,c={},u=c.toString,d=c.hasOwnProperty,h=d.toString,p=h.call(Object),m={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},f=function(e){return null!=e&&e===e.window},g=e.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,r){var n,i,o=(r=r||g).createElement("script");if(o.text=e,t)for(n in b)(i=t[n]||t.getAttribute&&t.getAttribute(n))&&o.setAttribute(n,i);r.head.appendChild(o).parentNode.removeChild(o)}function M(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var x="3.7.1",S=/HTML$/i,w=function(e,t){return new w.fn.init(e,t)};function _(e){var t=!!e&&"length"in e&&e.length,r=M(e);return!y(e)&&!f(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},w.extend=w.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(c&&n&&(w.isPlainObject(n)||(i=Array.isArray(n)))?(r=a[t],o=i&&!Array.isArray(r)?[]:i||w.isPlainObject(r)?r:{},i=!1,a[t]=w.extend(c,o,n)):void 0!==n&&(a[t]=n));return a},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==u.call(e)||(t=n(e))&&("function"!=typeof(r=d.call(t,"constructor")&&t.constructor)||h.call(r)!==p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){v(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(_(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,r="",n=0,i=e.nodeType;if(!i)for(;t=e[n++];)r+=w.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:r},makeArray:function(e,t){var r=t||[];return null!=e&&(_(Object(e))?w.merge(r,"string"==typeof e?[e]:e):s.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:l.call(t,e,r)},isXMLDoc:function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!S.test(t||r&&r.nodeName||"HTML")},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,o=e.length,a=!r;i<o;i++)!t(e[i],i)!==a&&n.push(e[i]);return n},map:function(e,t,r){var n,i,o=0,s=[];if(_(e))for(n=e.length;o<n;o++)null!=(i=t(e[o],o,r))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&s.push(i);return a(s)},guid:1,support:m}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=r[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var I=r.pop,C=r.sort,k=r.splice,L="[\\x20\\t\\r\\n\\f]",N=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");w.contains=function(e,t){var r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(e.contains?e.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))};var Z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function E(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}w.escapeSelector=function(e){return(e+"").replace(Z,E)};var z=g,G=s;!function(){var t,n,i,a,s,c,u,h,p,y,f=G,g=w.expando,b=0,v=0,M=ee(),x=ee(),S=ee(),_=ee(),Z=function(e,t){return e===t&&(s=!0),0},E="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",A="\\["+L+"*("+P+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+L+"*\\]",R=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+A+")*)|.*)\\)|)",D=new RegExp(L+"+","g"),X=new RegExp("^"+L+"*,"+L+"*"),O=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),W=new RegExp(L+"|>"),j=new RegExp(R),Y=new RegExp("^"+P+"$"),F={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+A),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+E+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,H=/^h\d$/i,U=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,B=/[+~]/,K=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),J=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},Q=function(){le()},q=he((function(e){return!0===e.disabled&&T(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{f.apply(r=o.call(z.childNodes),z.childNodes),r[z.childNodes.length].nodeType}catch(e){f={apply:function(e,t){G.apply(e,o.call(t))},call:function(e){G.apply(e,o.call(arguments,1))}}}function $(e,t,r,n){var i,o,a,s,l,u,d,y=t&&t.ownerDocument,b=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return r;if(!n&&(le(t),t=t||c,h)){if(11!==b&&(l=U.exec(e)))if(i=l[1]){if(9===b){if(!(a=t.getElementById(i)))return r;if(a.id===i)return f.call(r,a),r}else if(y&&(a=y.getElementById(i))&&$.contains(t,a)&&a.id===i)return f.call(r,a),r}else{if(l[2])return f.apply(r,t.getElementsByTagName(e)),r;if((i=l[3])&&t.getElementsByClassName)return f.apply(r,t.getElementsByClassName(i)),r}if(!(_[e+" "]||p&&p.test(e))){if(d=e,y=t,1===b&&(W.test(e)||O.test(e))){for((y=B.test(e)&&se(t.parentNode)||t)==t&&m.scope||((s=t.getAttribute("id"))?s=w.escapeSelector(s):t.setAttribute("id",s=g)),o=(u=ue(e)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+de(u[o]);d=u.join(",")}try{return f.apply(r,y.querySelectorAll(d)),r}catch(t){_(e,!0)}finally{s===g&&t.removeAttribute("id")}}}return be(e.replace(N,"$1"),t,r,n)}function ee(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function te(e){return e[g]=!0,e}function re(e){var t=c.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ne(e){return function(t){return T(t,"input")&&t.type===e}}function ie(e){return function(t){return(T(t,"input")||T(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var t,r=e?e.ownerDocument||e:z;return r!=c&&9===r.nodeType&&r.documentElement?(u=(c=r).documentElement,h=!w.isXMLDoc(c),y=u.matches||u.webkitMatchesSelector||u.msMatchesSelector,u.msMatchesSelector&&z!=c&&(t=c.defaultView)&&t.top!==t&&t.addEventListener("unload",Q),m.getById=re((function(e){return u.appendChild(e).id=w.expando,!c.getElementsByName||!c.getElementsByName(w.expando).length})),m.disconnectedMatch=re((function(e){return y.call(e,"*")})),m.scope=re((function(){return c.querySelectorAll(":scope")})),m.cssHas=re((function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),m.getById?(n.filter.ID=function(e){var t=e.replace(K,J);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(K,J);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var r,n,i,o=t.getElementById(e);if(o){if((r=o.getAttributeNode("id"))&&r.value===e)return[o];for(i=t.getElementsByName(e),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===e)return[o]}return[]}}),n.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},n.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},p=[],re((function(e){var t;u.appendChild(e).innerHTML="<a id='"+g+"' href='' disabled='disabled'></a><select id='"+g+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+E+")"),e.querySelectorAll("[id~="+g+"-]").length||p.push("~="),e.querySelectorAll("a#"+g+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll(":checked").length||p.push(":checked"),(t=c.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),u.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(t=c.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")")})),m.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),Z=function(e,t){if(e===t)return s=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===r?e===c||e.ownerDocument==z&&$.contains(z,e)?-1:t===c||t.ownerDocument==z&&$.contains(z,t)?1:a?l.call(a,e)-l.call(a,t):0:4&r?-1:1)},c):c}for(t in $.matches=function(e,t){return $(e,null,null,t)},$.matchesSelector=function(e,t){if(le(e),h&&!_[t+" "]&&(!p||!p.test(t)))try{var r=y.call(e,t);if(r||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){_(t,!0)}return $(t,c,null,[e]).length>0},$.contains=function(e,t){return(e.ownerDocument||e)!=c&&le(e),w.contains(e,t)},$.attr=function(e,t){(e.ownerDocument||e)!=c&&le(e);var r=n.attrHandle[t.toLowerCase()],i=r&&d.call(n.attrHandle,t.toLowerCase())?r(e,t,!h):void 0;return void 0!==i?i:e.getAttribute(t)},$.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},w.uniqueSort=function(e){var t,r=[],n=0,i=0;if(s=!m.sortStable,a=!m.sortStable&&o.call(e,0),C.call(e,Z),s){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)k.call(e,r[n],1)}return a=null,e},w.fn.uniqueSort=function(){return this.pushStack(w.uniqueSort(o.apply(this)))},n=w.expr={cacheLength:50,createPseudo:te,match:F,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,J),e[3]=(e[3]||e[4]||e[5]||"").replace(K,J),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||$.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&$.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return F.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&j.test(r)&&(t=ue(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,J).toLowerCase();return"*"===e?function(){return!0}:function(e){return T(e,t)}},CLASS:function(e){var t=M[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&M(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=$.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(D," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,l){var c,u,d,h,p,m=o!==a?"nextSibling":"previousSibling",y=t.parentNode,f=s&&t.nodeName.toLowerCase(),v=!l&&!s,M=!1;if(y){if(o){for(;m;){for(d=t;d=d[m];)if(s?T(d,f):1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?y.firstChild:y.lastChild],a&&v){for(M=(h=(c=(u=y[g]||(y[g]={}))[e]||[])[0]===b&&c[1])&&c[2],d=h&&y.childNodes[h];d=++h&&d&&d[m]||(M=h=0)||p.pop();)if(1===d.nodeType&&++M&&d===t){u[e]=[b,h,M];break}}else if(v&&(M=h=(c=(u=t[g]||(t[g]={}))[e]||[])[0]===b&&c[1]),!1===M)for(;(d=++h&&d&&d[m]||(M=h=0)||p.pop())&&(!(s?T(d,f):1===d.nodeType)||!++M||(v&&((u=d[g]||(d[g]={}))[e]=[b,M]),d!==t)););return(M-=i)===n||M%n==0&&M/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||$.error("unsupported pseudo: "+e);return i[g]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,r){for(var n,o=i(e,t),a=o.length;a--;)e[n=l.call(e,o[a])]=!(r[n]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],r=[],n=ge(e.replace(N,"$1"));return n[g]?te((function(e,t,r,i){for(var o,a=n(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,n(t,null,o,r),t[0]=null,!r.pop()}})),has:te((function(e){return function(t){return $(e,t).length>0}})),contains:te((function(e){return e=e.replace(K,J),function(t){return(t.textContent||w.text(t)).indexOf(e)>-1}})),lang:te((function(e){return Y.test(e||"")||$.error("unsupported lang: "+e),e=e.replace(K,J).toLowerCase(),function(t){var r;do{if(r=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===u},focus:function(e){return e===function(){try{return c.activeElement}catch(e){}}()&&c.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return T(e,"input")&&!!e.checked||T(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return H.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){return T(e,"input")&&"button"===e.type||T(e,"button")},text:function(e){var t;return T(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,r){return[r<0?r+t:r]})),even:ae((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:ae((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:ae((function(e,t,r){var n;for(n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:ae((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ne(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=ie(t);function ce(){}function ue(e,t){var r,i,o,a,s,l,c,u=x[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=n.preFilter;s;){for(a in r&&!(i=X.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=O.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(N," ")}),s=s.slice(r.length)),n.filter)!(i=F[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?$.error(e):x(e,l).slice(0)}function de(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function he(e,t,r){var n=t.dir,i=t.next,o=i||n,a=r&&"parentNode"===o,s=v++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,i);return!1}:function(t,r,l){var c,u,d=[b,s];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(u=t[g]||(t[g]={}),i&&T(t,i))t=t[n]||t;else{if((c=u[o])&&c[0]===b&&c[1]===s)return d[2]=c[2];if(u[o]=d,d[2]=e(t,r,l))return!0}return!1}}function pe(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function me(e,t,r,n,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(r&&!r(o,n,i)||(a.push(o),c&&t.push(s)));return a}function ye(e,t,r,n,i,o){return n&&!n[g]&&(n=ye(n)),i&&!i[g]&&(i=ye(i,o)),te((function(o,a,s,c){var u,d,h,p,m=[],y=[],g=a.length,b=o||function(e,t,r){for(var n=0,i=t.length;n<i;n++)$(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?b:me(b,m,e,s,c);if(r?r(v,p=i||(o?e:g||n)?[]:a,s,c):p=v,n)for(u=me(p,y),n(u,[],s,c),d=u.length;d--;)(h=u[d])&&(p[y[d]]=!(v[y[d]]=h));if(o){if(i||e){if(i){for(u=[],d=p.length;d--;)(h=p[d])&&u.push(v[d]=h);i(null,p=[],u,c)}for(d=p.length;d--;)(h=p[d])&&(u=i?l.call(o,h):m[d])>-1&&(o[u]=!(a[u]=h))}}else p=me(p===a?p.splice(g,p.length):p),i?i(null,a,p,c):f.apply(a,p)}))}function fe(e){for(var t,r,o,a=e.length,s=n.relative[e[0].type],c=s||n.relative[" "],u=s?1:0,d=he((function(e){return e===t}),c,!0),h=he((function(e){return l.call(t,e)>-1}),c,!0),p=[function(e,r,n){var o=!s&&(n||r!=i)||((t=r).nodeType?d(e,r,n):h(e,r,n));return t=null,o}];u<a;u++)if(r=n.relative[e[u].type])p=[he(pe(p),r)];else{if((r=n.filter[e[u].type].apply(null,e[u].matches))[g]){for(o=++u;o<a&&!n.relative[e[o].type];o++);return ye(u>1&&pe(p),u>1&&de(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(N,"$1"),r,u<o&&fe(e.slice(u,o)),o<a&&fe(e=e.slice(o)),o<a&&de(e))}p.push(r)}return pe(p)}function ge(e,t){var r,o=[],a=[],s=S[e+" "];if(!s){for(t||(t=ue(e)),r=t.length;r--;)(s=fe(t[r]))[g]?o.push(s):a.push(s);s=S(e,function(e,t){var r=t.length>0,o=e.length>0,a=function(a,s,l,u,d){var p,m,y,g=0,v="0",M=a&&[],x=[],S=i,_=a||o&&n.find.TAG("*",d),T=b+=null==S?1:Math.random()||.1,C=_.length;for(d&&(i=s==c||s||d);v!==C&&null!=(p=_[v]);v++){if(o&&p){for(m=0,s||p.ownerDocument==c||(le(p),l=!h);y=e[m++];)if(y(p,s||c,l)){f.call(u,p);break}d&&(b=T)}r&&((p=!y&&p)&&g--,a&&M.push(p))}if(g+=v,r&&v!==g){for(m=0;y=t[m++];)y(M,x,s,l);if(a){if(g>0)for(;v--;)M[v]||x[v]||(x[v]=I.call(u));x=me(x)}f.apply(u,x),d&&!a&&x.length>0&&g+t.length>1&&w.uniqueSort(u)}return d&&(b=T,i=S),M};return r?te(a):a}(a,o)),s.selector=e}return s}function be(e,t,r,i){var o,a,s,l,c,u="function"==typeof e&&e,d=!i&&ue(e=u.selector||e);if(r=r||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===t.nodeType&&h&&n.relative[a[1].type]){if(!(t=(n.find.ID(s.matches[0].replace(K,J),t)||[])[0]))return r;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=F.needsContext.test(e)?0:a.length;o--&&(s=a[o],!n.relative[l=s.type]);)if((c=n.find[l])&&(i=c(s.matches[0].replace(K,J),B.test(a[0].type)&&se(t.parentNode)||t))){if(a.splice(o,1),!(e=i.length&&de(a)))return f.apply(r,i),r;break}}return(u||ge(e,d))(i,t,!h,r,!t||B.test(e)&&se(t.parentNode)||t),r}ce.prototype=n.filters=n.pseudos,n.setFilters=new ce,m.sortStable=g.split("").sort(Z).join("")===g,le(),m.sortDetached=re((function(e){return 1&e.compareDocumentPosition(c.createElement("fieldset"))})),w.find=$,w.expr[":"]=w.expr.pseudos,w.unique=w.uniqueSort,$.compile=ge,$.select=be,$.setDocument=le,$.tokenize=ue,$.escape=w.escapeSelector,$.getText=w.text,$.isXML=w.isXMLDoc,$.selectors=w.expr,$.support=w.support,$.uniqueSort=w.uniqueSort}();var P=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&w(e).is(r))break;n.push(e)}return n},A=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},R=w.expr.match.needsContext,D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function X(e,t,r){return y(t)?w.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?w.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?w.grep(e,(function(e){return l.call(t,e)>-1!==r})):w.filter(t,e,r)}w.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?w.find.matchesSelector(n,e)?[n]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<n;t++)if(w.contains(i[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)w.find(e,i[t],r);return n>1?w.uniqueSort(r):r},filter:function(e){return this.pushStack(X(this,e||[],!1))},not:function(e){return this.pushStack(X(this,e||[],!0))},is:function(e){return!!X(this,"string"==typeof e&&R.test(e)?w(e):e||[],!1).length}});var O,W=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||O,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:W.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),D.test(n[1])&&w.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=g.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==r.ready?r.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,O=w(g);var j=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!R.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&w.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(w(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return P(e,"parentNode")},parentsUntil:function(e,t,r){return P(e,"parentNode",r)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return P(e,"nextSibling")},prevAll:function(e){return P(e,"previousSibling")},nextUntil:function(e,t,r){return P(e,"nextSibling",r)},prevUntil:function(e,t,r){return P(e,"previousSibling",r)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(r,n){var i=w.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=w.filter(n,i)),this.length>1&&(Y[e]||w.uniqueSort(i),j.test(e)&&i.reverse()),this.pushStack(i)}}));var V=/[^\x20\t\r\n\f]+/g;function H(e){return e}function U(e){throw e}function B(e,t,r,n){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(r):e&&y(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(V)||[],(function(e,r){t[r]=!0})),t}(e):w.extend({},e);var t,r,n,i,o=[],a=[],s=-1,l=function(){for(i=i||e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=o.length,r=!1);e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},c={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){w.each(r,(function(r,n){y(n)?e.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==M(n)&&t(n)}))}(arguments),r&&!t&&l()),this},remove:function(){return w.each(arguments,(function(e,t){for(var r;(r=w.inArray(t,o,r))>-1;)o.splice(r,1),r<=s&&s--})),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||t||(o=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},w.extend({Deferred:function(t){var r=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(r,(function(r,n){var i=y(e[n[4]])&&e[n[4]];o[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,n,i){var o=0;function a(t,r,n,i){return function(){var s=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=n.apply(s,l))===r.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(c)?i?c.call(e,a(o,r,H,i),a(o,r,U,i)):(o++,c.call(e,a(o,r,H,i),a(o,r,U,i),a(o,r,H,r.notifyWith))):(n!==H&&(s=void 0,l=[e]),(i||r.resolveWith)(s,l))}},u=i?c:function(){try{c()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,u.error),t+1>=o&&(n!==U&&(s=void 0,l=[e]),r.rejectWith(s,l))}};t?u():(w.Deferred.getErrorHook?u.error=w.Deferred.getErrorHook():w.Deferred.getStackHook&&(u.error=w.Deferred.getStackHook()),e.setTimeout(u))}}return w.Deferred((function(e){r[0][3].add(a(0,e,y(i)?i:H,e.notifyWith)),r[1][3].add(a(0,e,y(t)?t:H)),r[2][3].add(a(0,e,y(n)?n:U))})).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(r,(function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add((function(){n=s}),r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,r=t,n=Array(r),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?o.call(arguments):r,--t||a.resolveWith(n,i)}};if(t<=1&&(B(e,a.done(s(r)).resolve,a.reject,!t),"pending"===a.state()||y(i[r]&&i[r].then)))return a.then();for(;r--;)B(i[r],s(r),a.reject);return a.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&K.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var J=w.Deferred();function Q(){g.removeEventListener("DOMContentLoaded",Q),e.removeEventListener("load",Q),w.ready()}w.fn.ready=function(e){return J.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||J.resolveWith(g,[w]))}}),w.ready.then=J.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",Q),e.addEventListener("load",Q));var q=function(e,t,r,n,i,o,a){var s=0,l=e.length,c=null==r;if("object"===M(r))for(s in i=!0,r)q(e,t,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,y(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,r){return c.call(w(e),r)})),t))for(;s<l;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:c?t.call(e):l?t(e[0],r):o},$=/^-ms-/,ee=/-([a-z])/g;function te(e,t){return t.toUpperCase()}function re(e){return e.replace($,"ms-").replace(ee,te)}var ne=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ie(){this.expando=w.expando+ie.uid++}ie.uid=1,ie.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ne(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[re(t)]=r;else for(n in t)i[re(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(re):(t=re(t))in n?[t]:t.match(V)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||w.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var oe=new ie,ae=new ie,se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function ce(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(le,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:se.test(e)?JSON.parse(e):e)}(r)}catch(e){}ae.set(e,t,r)}else r=void 0;return r}w.extend({hasData:function(e){return ae.hasData(e)||oe.hasData(e)},data:function(e,t,r){return ae.access(e,t,r)},removeData:function(e,t){ae.remove(e,t)},_data:function(e,t,r){return oe.access(e,t,r)},_removeData:function(e,t){oe.remove(e,t)}}),w.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ae.get(o),1===o.nodeType&&!oe.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=re(n.slice(5)),ce(o,n,i[n]));oe.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){ae.set(this,e)})):q(this,(function(t){var r;if(o&&void 0===t)return void 0!==(r=ae.get(o,e))||void 0!==(r=ce(o,e))?r:void 0;this.each((function(){ae.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ae.remove(this,e)}))}}),w.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=oe.get(e,t),r&&(!n||Array.isArray(r)?n=oe.access(e,t,w.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=w.queue(e,t),n=r.length,i=r.shift(),o=w._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,(function(){w.dequeue(e,t)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return oe.get(e,r)||oe.access(e,r,{empty:w.Callbacks("once memory").add((function(){oe.remove(e,[t+"queue",r])}))})}}),w.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?w.queue(this[0],e):void 0===t?this:this.each((function(){var r=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=w.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=oe.get(o[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),he=["Top","Right","Bottom","Left"],pe=g.documentElement,me=function(e){return w.contains(e.ownerDocument,e)},ye={composed:!0};pe.getRootNode&&(me=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});var fe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===w.css(e,"display")};function ge(e,t,r,n){var i,o,a=20,s=n?function(){return n.cur()}:function(){return w.css(e,t,"")},l=s(),c=r&&r[3]||(w.cssNumber[t]?"":"px"),u=e.nodeType&&(w.cssNumber[t]||"px"!==c&&+l)&&de.exec(w.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)w.style(e,t,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,w.style(e,t,u+c),r=r||[]}return r&&(u=+u||+l||0,i=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=u,n.end=i)),i}var be={};function ve(e){var t,r=e.ownerDocument,n=e.nodeName,i=be[n];return i||(t=r.body.appendChild(r.createElement(n)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),be[n]=i,i)}function Me(e,t){for(var r,n,i=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(r=n.style.display,t?("none"===r&&(i[o]=oe.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&fe(n)&&(i[o]=ve(n))):"none"!==r&&(i[o]="none",oe.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return Me(this,!0)},hide:function(){return Me(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){fe(this)?w(this).show():w(this).hide()}))}});var xe,Se,we=/^(?:checkbox|radio)$/i,_e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Te=/^$|^module$|\/(?:java|ecma)script/i;xe=g.createDocumentFragment().appendChild(g.createElement("div")),(Se=g.createElement("input")).setAttribute("type","radio"),Se.setAttribute("checked","checked"),Se.setAttribute("name","t"),xe.appendChild(Se),m.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",m.option=!!xe.lastChild;var Ie={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ce(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?w.merge([e],r):r}function ke(e,t){for(var r=0,n=e.length;r<n;r++)oe.set(e[r],"globalEval",!t||oe.get(t[r],"globalEval"))}Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td,m.option||(Ie.optgroup=Ie.option=[1,"<select multiple='multiple'>","</select>"]);var Le=/<|&#?\w+;/;function Ne(e,t,r,n,i){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),h=[],p=0,m=e.length;p<m;p++)if((o=e[p])||0===o)if("object"===M(o))w.merge(h,o.nodeType?[o]:o);else if(Le.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(_e.exec(o)||["",""])[1].toLowerCase(),l=Ie[s]||Ie._default,a.innerHTML=l[1]+w.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;w.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(n&&w.inArray(o,n)>-1)i&&i.push(o);else if(c=me(o),a=Ce(d.appendChild(o),"script"),c&&ke(a),r)for(u=0;o=a[u++];)Te.test(o.type||"")&&r.push(o);return d}var Ze=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ze(){return!1}function Ge(e,t,r,n,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Ge(e,s,r,n,t[s],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=ze;else if(!i)return e;return 1===o&&(a=i,i=function(e){return w().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=w.guid++)),e.each((function(){w.event.add(this,t,i,n,r)}))}function Pe(e,t,r){r?(oe.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,n=oe.get(this,t);if(1&e.isTrigger&&this[t]){if(n)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(n=o.call(arguments),oe.set(this,t,n),this[t](),r=oe.get(this,t),oe.set(this,t,!1),n!==r)return e.stopImmediatePropagation(),e.preventDefault(),r}else n&&(oe.set(this,t,w.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ee)}})):void 0===oe.get(e,t)&&w.event.add(e,t,Ee)}w.event={global:{},add:function(e,t,r,n,i){var o,a,s,l,c,u,d,h,p,m,y,f=oe.get(e);if(ne(e))for(r.handler&&(r=(o=r).handler,i=o.selector),i&&w.find.matchesSelector(pe,i),r.guid||(r.guid=w.guid++),(l=f.events)||(l=f.events=Object.create(null)),(a=f.handle)||(a=f.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(V)||[""]).length;c--;)p=y=(s=Ze.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),p&&(d=w.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=w.event.special[p]||{},u=w.extend({type:p,origType:y,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:m.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,m,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=r.guid)),i?h.splice(h.delegateCount++,0,u):h.push(u),w.event.global[p]=!0)},remove:function(e,t,r,n,i){var o,a,s,l,c,u,d,h,p,m,y,f=oe.hasData(e)&&oe.get(e);if(f&&(l=f.events)){for(c=(t=(t||"").match(V)||[""]).length;c--;)if(p=y=(s=Ze.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),p){for(d=w.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!i&&y!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,m,f.handle)||w.removeEvent(e,p,f.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[c],r,n,!0);w.isEmptyObject(l)&&oe.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,o,a,s=new Array(arguments.length),l=w.event.fix(e),c=(oe.get(this,"events")||Object.create(null))[l.type]||[],u=w.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=w.event.handlers.call(this,l,c),t=0;(i=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(n=((w.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,i,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},r=0;r<l;r++)void 0===a[i=(n=t[r]).selector+" "]&&(a[i]=n.needsContext?w(i,this).index(c)>-1:w.find(i,this,null,[c]).length),a[i]&&o.push(n);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&T(t,"input")&&Pe(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&T(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&T(t,"input")&&oe.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ze,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ze,isPropagationStopped:ze,isImmediatePropagationStopped:ze,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){function r(e){if(g.documentMode){var r=oe.get(this,"handle"),n=w.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,r(e),n.target===n.currentTarget&&r(n)}else w.event.simulate(t,e.target,w.event.fix(e))}w.event.special[e]={setup:function(){var n;if(Pe(this,e,!0),!g.documentMode)return!1;(n=oe.get(this,t))||this.addEventListener(t,r),oe.set(this,t,(n||0)+1)},trigger:function(){return Pe(this,e),!0},teardown:function(){var e;if(!g.documentMode)return!1;(e=oe.get(this,t)-1)?oe.set(this,t,e):(this.removeEventListener(t,r),oe.remove(this,t))},_default:function(t){return oe.get(t.target,e)},delegateType:t},w.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,i=g.documentMode?this:n,o=oe.get(i,t);o||(g.documentMode?this.addEventListener(t,r):n.addEventListener(e,r,!0)),oe.set(i,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=g.documentMode?this:n,o=oe.get(i,t)-1;o?oe.set(i,t,o):(g.documentMode?this.removeEventListener(t,r):n.removeEventListener(e,r,!0),oe.remove(i,t))}}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||w.contains(this,n))||(e.type=i.origType,r=i.handler.apply(this,arguments),e.type=t),r}}})),w.fn.extend({on:function(e,t,r,n){return Ge(this,e,t,r,n)},one:function(e,t,r,n){return Ge(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,w(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=ze),this.each((function(){w.event.remove(this,e,r,t)}))}});var Ae=/<script|<style|<link/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xe(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var r,n,i,o,a,s;if(1===t.nodeType){if(oe.hasData(e)&&(s=oe.get(e).events))for(i in oe.remove(t,"handle events"),s)for(r=0,n=s[i].length;r<n;r++)w.event.add(t,i,s[i][r]);ae.hasData(e)&&(o=ae.access(e),a=w.extend({},o),ae.set(t,a))}}function Ye(e,t){var r=t.nodeName.toLowerCase();"input"===r&&we.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function Fe(e,t,r,n){t=a(t);var i,o,s,l,c,u,d=0,h=e.length,p=h-1,f=t[0],g=y(f);if(g||h>1&&"string"==typeof f&&!m.checkClone&&Re.test(f))return e.each((function(i){var o=e.eq(i);g&&(t[0]=f.call(this,i,o.html())),Fe(o,t,r,n)}));if(h&&(o=(i=Ne(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(l=(s=w.map(Ce(i,"script"),Oe)).length;d<h;d++)c=i,d!==p&&(c=w.clone(c,!0,!0),l&&w.merge(s,Ce(c,"script"))),r.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,w.map(s,We),d=0;d<l;d++)c=s[d],Te.test(c.type||"")&&!oe.access(c,"globalEval")&&w.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):v(c.textContent.replace(De,""),c,u))}return e}function Ve(e,t,r){for(var n,i=t?w.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||w.cleanData(Ce(n)),n.parentNode&&(r&&me(n)&&ke(Ce(n,"script")),n.parentNode.removeChild(n));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,i,o,a,s=e.cloneNode(!0),l=me(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=Ce(s),n=0,i=(o=Ce(e)).length;n<i;n++)Ye(o[n],a[n]);if(t)if(r)for(o=o||Ce(e),a=a||Ce(s),n=0,i=o.length;n<i;n++)je(o[n],a[n]);else je(e,s);return(a=Ce(s,"script")).length>0&&ke(a,!l&&Ce(e,"script")),s},cleanData:function(e){for(var t,r,n,i=w.event.special,o=0;void 0!==(r=e[o]);o++)if(ne(r)){if(t=r[oe.expando]){if(t.events)for(n in t.events)i[n]?w.event.remove(r,n):w.removeEvent(r,n,t.handle);r[oe.expando]=void 0}r[ae.expando]&&(r[ae.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return q(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Xe(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Xe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(Ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!Ie[(_e.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(w.cleanData(Ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var r=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(Ce(this)),r&&r.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var r,n=[],i=w(e),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),w(i[a])[t](r),s.apply(n,r.get());return this.pushStack(n)}}));var He=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),Ue=/^--/,Be=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},Ke=function(e,t,r){var n,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in n=r.call(e),t)e.style[i]=o[i];return n},Je=new RegExp(he.join("|"),"i");function Qe(e,t,r){var n,i,o,a,s=Ue.test(t),l=e.style;return(r=r||Be(e))&&(a=r.getPropertyValue(t)||r[t],s&&a&&(a=a.replace(N,"$1")||void 0),""!==a||me(e)||(a=w.style(e,t)),!m.pixelBoxStyles()&&He.test(a)&&Je.test(t)&&(n=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=r.width,l.width=n,l.minWidth=i,l.maxWidth=o)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);n="1%"!==t.top,l=12===r(t.marginLeft),u.style.right="60%",a=36===r(t.right),i=36===r(t.width),u.style.position="absolute",o=12===r(u.offsetWidth/3),pe.removeChild(c),u=null}}function r(e){return Math.round(parseFloat(e))}var n,i,o,a,s,l,c=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,r,n,i;return null==s&&(t=g.createElement("table"),r=g.createElement("tr"),n=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",r.style.cssText="box-sizing:content-box;border:1px solid",r.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(t).appendChild(r).appendChild(n),i=e.getComputedStyle(r),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===r.offsetHeight,pe.removeChild(t)),s}}))}();var $e=["Webkit","Moz","ms"],et=g.createElement("div").style,tt={};function rt(e){return w.cssProps[e]||tt[e]||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=$e.length;r--;)if((e=$e[r]+t)in et)return e}(e)||e)}var nt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function at(e,t,r){var n=de.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function st(e,t,r,n,i,o){var a="width"===t?1:0,s=0,l=0,c=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(c+=w.css(e,r+he[a],!0,i)),n?("content"===r&&(l-=w.css(e,"padding"+he[a],!0,i)),"margin"!==r&&(l-=w.css(e,"border"+he[a]+"Width",!0,i))):(l+=w.css(e,"padding"+he[a],!0,i),"padding"!==r?l+=w.css(e,"border"+he[a]+"Width",!0,i):s+=w.css(e,"border"+he[a]+"Width",!0,i));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l+c}function lt(e,t,r){var n=Be(e),i=(!m.boxSizingReliable()||r)&&"border-box"===w.css(e,"boxSizing",!1,n),o=i,a=Qe(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(He.test(a)){if(!r)return a;a="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&T(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===w.css(e,"boxSizing",!1,n),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+st(e,t,r||(i?"border":"content"),o,n,a)+"px"}function ct(e,t,r,n,i){return new ct.prototype.init(e,t,r,n,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Qe(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=re(t),l=Ue.test(t),c=e.style;if(l||(t=rt(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:c[t];"string"==(o=typeof r)&&(i=de.exec(r))&&i[1]&&(r=ge(e,t,i),o="number"),null!=r&&r==r&&("number"!==o||l||(r+=i&&i[3]||(w.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(l?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,n){var i,o,a,s=re(t);return Ue.test(t)||(t=rt(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,r)),void 0===i&&(i=Qe(e,t,n)),"normal"===i&&t in ot&&(i=ot[t]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,r,n){if(r)return!nt.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,n):Ke(e,it,(function(){return lt(e,t,n)}))},set:function(e,r,n){var i,o=Be(e),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===w.css(e,"boxSizing",!1,o),l=n?st(e,t,n,s,o):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-st(e,t,"border",!1,o)-.5)),l&&(i=de.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=w.css(e,t)),at(0,r,l)}}})),w.cssHooks.marginLeft=qe(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+he[n]+t]=o[n]||o[n-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=at)})),w.fn.extend({css:function(e,t){return q(this,(function(e,t,r){var n,i,o={},a=0;if(Array.isArray(t)){for(n=Be(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,n);return o}return void 0!==r?w.style(e,t,r):w.css(e,t)}),e,t,arguments.length>1)}}),w.Tween=ct,ct.prototype={constructor:ct,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(w.cssNumber[r]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,r=ct.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=ct.prototype.init,w.fx.step={};var ut,dt,ht=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function mt(){dt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(mt):e.setTimeout(mt,w.fx.interval),w.fx.tick())}function yt(){return e.setTimeout((function(){ut=void 0})),ut=Date.now()}function ft(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=he[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function gt(e,t,r){for(var n,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,t,e))return n}function bt(e,t,r){var n,i,o=0,a=bt.prefilters.length,s=w.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ut||yt(),r=Math.max(0,c.startTime+c.duration-t),n=1-(r/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(n);return s.notifyWith(e,[c,n,r]),n<1&&a?r:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},r),originalProperties:t,originalOptions:r,startTime:ut||yt(),duration:r.duration,tweens:[],createTween:function(t,r){var n=w.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)c.tweens[r].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var r,n,i,o,a;for(r in e)if(i=t[n=re(r)],o=e[r],Array.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),(a=w.cssHooks[n])&&"expand"in a)for(r in o=a.expand(o),delete e[n],o)r in e||(e[r]=o[r],t[r]=i);else t[n]=i}(u,c.opts.specialEasing);o<a;o++)if(n=bt.prefilters[o].call(c,e,u,c.opts))return y(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(u,gt,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(bt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ge(r.elem,e,de.exec(t),r),r}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(V);for(var r,n=0,i=e.length;n<i;n++)r=e[n],bt.tweeners[r]=bt.tweeners[r]||[],bt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,o,a,s,l,c,u,d="width"in t||"height"in t,h=this,p={},m=e.style,y=e.nodeType&&fe(e),f=oe.get(e,"fxshow");for(n in r.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[n],ht.test(i)){if(delete t[n],o=o||"toggle"===i,i===(y?"hide":"show")){if("show"!==i||!f||void 0===f[n])continue;y=!0}p[n]=f&&f[n]||w.style(e,n)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(n in d&&1===e.nodeType&&(r.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=f&&f.display)&&(c=oe.get(e,"display")),"none"===(u=w.css(e,"display"))&&(c?u=c:(Me([e],!0),c=e.style.display||c,u=w.css(e,"display"),Me([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(e,"float")&&(l||(h.done((function(){m.display=c})),null==c&&(u=m.display,c="none"===u?"":u)),m.display="inline-block")),r.overflow&&(m.overflow="hidden",h.always((function(){m.overflow=r.overflow[0],m.overflowX=r.overflow[1],m.overflowY=r.overflow[2]}))),l=!1,p)l||(f?"hidden"in f&&(y=f.hidden):f=oe.access(e,"fxshow",{display:c}),o&&(f.hidden=!y),y&&Me([e],!0),h.done((function(){for(n in y||Me([e]),oe.remove(e,"fxshow"),p)w.style(e,n,p[n])}))),l=gt(y?f[n]:0,n,h),n in f||(f[n]=l.start,y&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),w.speed=function(e,t,r){var n=e&&"object"==typeof e?w.extend({},e):{complete:r||!r&&t||y(e)&&e,duration:e,easing:r&&t||t&&!y(t)&&t};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in w.fx.speeds?n.duration=w.fx.speeds[n.duration]:n.duration=w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(e,t,r,n){return this.filter(fe).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=w.isEmptyObject(e),o=w.speed(t,r,n),a=function(){var t=bt(this,w.extend({},e),o);(i||oe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=oe.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&pt.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=oe.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=w.timers,a=n?n.length:0;for(r.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var r=w.fn[t];w.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ft(t,!0),e,n,i)}})),w.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),w.timers=[],w.fx.tick=function(){var e,t=0,r=w.timers;for(ut=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||w.fx.stop(),ut=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){dt||(dt=!0,mt())},w.fx.stop=function(){dt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,r){return t=w.fx&&w.fx.speeds[t]||t,r=r||"fx",this.queue(r,(function(r,n){var i=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(i)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var vt,Mt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return q(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,r):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?vt:void 0)),void 0!==r?null===r?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=w.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&T(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(V);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),vt={set:function(e,t,r){return!1===t?w.removeAttr(e,r):e.setAttribute(r,r),r}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=Mt[t]||w.find.attr;Mt[t]=function(e,t,n){var i,o,a=t.toLowerCase();return n||(o=Mt[a],Mt[a]=i,i=null!=r(e,t,n)?a:null,Mt[a]=o),i}}));var xt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;function wt(e){return(e.match(V)||[]).join(" ")}function _t(e){return e.getAttribute&&e.getAttribute("class")||""}function Tt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(V)||[]}w.fn.extend({prop:function(e,t){return q(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,r,n,i,o,a;return y(e)?this.each((function(t){w(this).addClass(e.call(this,t,_t(this)))})):(t=Tt(e)).length?this.each((function(){if(n=_t(this),r=1===this.nodeType&&" "+wt(n)+" "){for(o=0;o<t.length;o++)i=t[o],r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=wt(r),n!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,r,n,i,o,a;return y(e)?this.each((function(t){w(this).removeClass(e.call(this,t,_t(this)))})):arguments.length?(t=Tt(e)).length?this.each((function(){if(n=_t(this),r=1===this.nodeType&&" "+wt(n)+" "){for(o=0;o<t.length;o++)for(i=t[o];r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");a=wt(r),n!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var r,n,i,o,a=typeof e,s="string"===a||Array.isArray(e);return y(e)?this.each((function(r){w(this).toggleClass(e.call(this,r,_t(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(r=Tt(e),this.each((function(){if(s)for(o=w(this),i=0;i<r.length;i++)n=r[i],o.hasClass(n)?o.removeClass(n):o.addClass(n);else void 0!==e&&"boolean"!==a||((n=_t(this))&&oe.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":oe.get(this,"__className__")||""))})))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+wt(_t(r))+" ").indexOf(t)>-1)return!0;return!1}});var It=/\r/g;w.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=y(e),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(It,""):null==r?"":r:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:wt(w.text(e))}},select:{get:function(e){var t,r,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(n=o<0?l:a?o:0;n<l;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!T(r.parentNode,"optgroup"))){if(t=w(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,o=w.makeArray(t),a=i.length;a--;)((n=i[a]).selected=w.inArray(w.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},m.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Ct=e.location,kt={guid:Date.now()},Lt=/\?/;w.parseXML=function(t){var r,n;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return n=r&&r.getElementsByTagName("parsererror")[0],r&&!n||w.error("Invalid XML: "+(n?w.map(n.childNodes,(function(e){return e.textContent})).join("\n"):t)),r};var Nt=/^(?:focusinfocus|focusoutblur)$/,Zt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,r,n,i){var o,a,s,l,c,u,h,p,m=[n||g],b=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!Nt.test(b+w.event.triggered)&&(b.indexOf(".")>-1&&(v=b.split("."),b=v.shift(),v.sort()),c=b.indexOf(":")<0&&"on"+b,(t=t[w.expando]?t:new w.Event(b,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:w.makeArray(r,[t]),h=w.event.special[b]||{},i||!h.trigger||!1!==h.trigger.apply(n,r))){if(!i&&!h.noBubble&&!f(n)){for(l=h.delegateType||b,Nt.test(l+b)||(a=a.parentNode);a;a=a.parentNode)m.push(a),s=a;s===(n.ownerDocument||g)&&m.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=m[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?l:h.bindType||b,(u=(oe.get(a,"events")||Object.create(null))[t.type]&&oe.get(a,"handle"))&&u.apply(a,r),(u=c&&a[c])&&u.apply&&ne(a)&&(t.result=u.apply(a,r),!1===t.result&&t.preventDefault());return t.type=b,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),r)||!ne(n)||c&&y(n[b])&&!f(n)&&((s=n[c])&&(n[c]=null),w.event.triggered=b,t.isPropagationStopped()&&p.addEventListener(b,Zt),n[b](),t.isPropagationStopped()&&p.removeEventListener(b,Zt),w.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(e,t,r){var n=w.extend(new w.Event,r,{type:e,isSimulated:!0});w.event.trigger(n,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return w.event.trigger(e,t,r,!0)}});var Et=/\[\]$/,zt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function At(e,t,r,n){var i;if(Array.isArray(t))w.each(t,(function(t,i){r||Et.test(e)?n(e,i):At(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)}));else if(r||"object"!==M(t))n(e,t);else for(i in t)At(e+"["+i+"]",t[i],r,n)}w.param=function(e,t){var r,n=[],i=function(e,t){var r=y(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){i(this.name,this.value)}));else for(r in e)At(r,e[r],t,i);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Pt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!we.test(e))})).map((function(e,t){var r=w(this).val();return null==r?null:Array.isArray(r)?w.map(r,(function(e){return{name:t.name,value:e.replace(zt,"\r\n")}})):{name:t.name,value:r.replace(zt,"\r\n")}})).get()}});var Rt=/%20/g,Dt=/#.*$/,Xt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wt=/^(?:GET|HEAD)$/,jt=/^\/\//,Yt={},Ft={},Vt="*/".concat("*"),Ht=g.createElement("a");function Ut(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(V)||[];if(y(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Bt(e,t,r,n){var i={},o=e===Ft;function a(s){var l;return i[s]=!0,w.each(e[s]||[],(function(e,s){var c=s(t,r,n);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Kt(e,t){var r,n,i=w.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&w.extend(!0,e,n),e}Ht.href=Ct.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,w.ajaxSettings),t):Kt(w.ajaxSettings,e)},ajaxPrefilter:Ut(Yt),ajaxTransport:Ut(Ft),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};var n,i,o,a,s,l,c,u,d,h,p=w.ajaxSetup({},r),m=p.context||p,y=p.context&&(m.nodeType||m.jquery)?w(m):w.event,f=w.Deferred(),b=w.Callbacks("once memory"),v=p.statusCode||{},M={},x={},S="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Ot.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,M[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)_.always(e[_.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||S;return n&&n.abort(t),T(0,t),this}};if(f.promise(_),p.url=((t||p.url||Ct.href)+"").replace(jt,Ct.protocol+"//"),p.type=r.method||r.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(V)||[""],null==p.crossDomain){l=g.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Bt(Yt,p,r,_),c)return _;for(d in(u=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Wt.test(p.type),i=p.url.replace(Dt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Rt,"+")):(h=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Lt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Xt,"$1"),h=(Lt.test(i)?"&":"?")+"_="+kt.guid+++h),p.url=i+h),p.ifModified&&(w.lastModified[i]&&_.setRequestHeader("If-Modified-Since",w.lastModified[i]),w.etag[i]&&_.setRequestHeader("If-None-Match",w.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||r.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Vt+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,_,p)||c))return _.abort();if(S="abort",b.add(p.complete),_.done(p.success),_.fail(p.error),n=Bt(Ft,p,r,_)){if(_.readyState=1,u&&y.trigger("ajaxSend",[_,p]),c)return _;p.async&&p.timeout>0&&(s=e.setTimeout((function(){_.abort("timeout")}),p.timeout));try{c=!1,n.send(M,T)}catch(e){if(c)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,r,a,l){var d,h,g,M,x,S=r;c||(c=!0,s&&e.clearTimeout(s),n=void 0,o=l||"",_.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(M=function(e,t,r){for(var n,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in r)o=l[0];else{for(i in r){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),r[o]}(p,_,a)),!d&&w.inArray("script",p.dataTypes)>-1&&w.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),M=function(e,t,r,n){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,M,_,d),d?(p.ifModified&&((x=_.getResponseHeader("Last-Modified"))&&(w.lastModified[i]=x),(x=_.getResponseHeader("etag"))&&(w.etag[i]=x)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=M.state,h=M.data,d=!(g=M.error))):(g=S,!t&&S||(S="error",t<0&&(t=0))),_.status=t,_.statusText=(r||S)+"",d?f.resolveWith(m,[h,S,_]):f.rejectWith(m,[_,S,g]),_.statusCode(v),v=void 0,u&&y.trigger(d?"ajaxSuccess":"ajaxError",[_,p,d?h:g]),b.fireWith(m,[_,S]),u&&(y.trigger("ajaxComplete",[_,p]),--w.active||w.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,r){return w.get(e,t,r,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,r,n,i){return y(r)&&(i=i||n,n=r,r=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:r,success:n},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),w._evalUrl=function(e,t,r){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,r)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(r){w(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Qt=w.ajaxSettings.xhr();m.cors=!!Qt&&"withCredentials"in Qt,m.ajax=Qt=!!Qt,w.ajaxTransport((function(t){var r,n;if(m.cors||Qt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Jt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=s.ontimeout=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){r&&n()}))},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){r&&r()}}}));var qt,$t=[],er=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||w.expando+"_"+kt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,r,n){var i,o,a,s=!1!==t.jsonp&&(er.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&er.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(er,"$1"+i):!1!==t.jsonp&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},n.always((function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=r.jsonpCallback,$t.push(i)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),m.createHTMLDocument=((qt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),w.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(m.createHTMLDocument?((n=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(n)):t=g),o=!r&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=Ne([e],t,o),o&&o.length&&w(o).remove(),w.merge([],i.childNodes)));var n,i,o},w.fn.load=function(e,t,r){var n,i,o,a=this,s=e.indexOf(" ");return s>-1&&(n=wt(e.slice(s)),e=e.slice(0,s)),y(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(n?w("<div>").append(w.parseHTML(e)).find(n):e)})).always(r&&function(e,t){a.each((function(){r.apply(this,o||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,r){var n,i,o,a,s,l,c=w.css(e,"position"),u=w(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=w.css(e,"top"),l=w.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(n=u.position()).top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,r,w.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===w.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(n,"marginTop",!0),left:t.left-i.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||pe}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;w.fn[e]=function(n){return q(this,(function(e,n,i){var o;if(f(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i}),e,n,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=qe(m.pixelPosition,(function(e,r){if(r)return r=Qe(e,t),He.test(r)?w(e).position()[t]+"px":r}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){w.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return q(this,(function(t,r,i){var o;return f(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,r,s):w.style(t,r,i,s)}),t,a?i:void 0,a)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}));var tr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),y(e))return n=o.call(arguments,2),i=function(){return e.apply(t||this,n.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=T,w.isFunction=y,w.isWindow=f,w.camelCase=re,w.type=M,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(tr,"$1")},"function"==typeof i&&i.amd&&i("jquery",[],(function(){return w}));var rr=e.jQuery,nr=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=nr),t&&e.jQuery===w&&(e.jQuery=rr),w},void 0===t&&(e.jQuery=e.$=w),w}))},57013:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(34921),i=r(36160),o=r(68094);const a=e=>e[0],s=e=>e[1];class l{constructor(e,t=a,r=s,i=64,o=Float64Array){this.nodeSize=i,this.points=e;const l=e.length<65536?Uint16Array:Uint32Array,c=this.ids=new l(e.length),u=this.coords=new o(2*e.length);for(let n=0;n<e.length;n++)c[n]=n,u[2*n]=t(e[n]),u[2*n+1]=r(e[n]);(0,n.A)(c,u,i,0,c.length-1,0)}range(e,t,r,n){return(0,i.A)(this.ids,this.coords,e,t,r,n,this.nodeSize)}within(e,t,r){return(0,o.A)(this.ids,this.coords,e,t,r,this.nodeSize)}}},36160:(e,t,r)=>{"use strict";function n(e,t,r,n,i,o,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const d=s.pop(),h=s.pop(),p=s.pop();if(h-p<=a){for(let a=p;a<=h;a++)c=t[2*a],u=t[2*a+1],c>=r&&c<=i&&u>=n&&u<=o&&l.push(e[a]);continue}const m=Math.floor((p+h)/2);c=t[2*m],u=t[2*m+1],c>=r&&c<=i&&u>=n&&u<=o&&l.push(e[m]);const y=(d+1)%2;(0===d?r<=c:n<=u)&&(s.push(p),s.push(m-1),s.push(y)),(0===d?i>=c:o>=u)&&(s.push(m+1),s.push(h),s.push(y))}return l}r.d(t,{A:()=>n})},34921:(e,t,r)=>{"use strict";function n(e,t,r,o,a,s){if(a-o<=r)return;const l=o+a>>1;i(e,t,l,o,a,s%2),n(e,t,r,o,l-1,s+1),n(e,t,r,l+1,a,s+1)}function i(e,t,r,n,a,s){for(;a>n;){if(a-n>600){const o=a-n+1,l=r-n+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*(l-o/2<0?-1:1);i(e,t,r,Math.max(n,Math.floor(r-l*u/o+d)),Math.min(a,Math.floor(r+(o-l)*u/o+d)),s)}const l=t[2*r+s];let c=n,u=a;for(o(e,t,n,r),t[2*a+s]>l&&o(e,t,n,a);c<u;){for(o(e,t,c,u),c++,u--;t[2*c+s]<l;)c++;for(;t[2*u+s]>l;)u--}t[2*n+s]===l?o(e,t,n,u):(u++,o(e,t,u,a)),u<=r&&(n=u+1),r<=u&&(a=u-1)}}function o(e,t,r,n){a(e,r,n),a(t,2*r,2*n),a(t,2*r+1,2*n+1)}function a(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}r.d(t,{A:()=>n})},68094:(e,t,r)=>{"use strict";function n(e,t,r,n,o,a){const s=[0,e.length-1,0],l=[],c=o*o;for(;s.length;){const u=s.pop(),d=s.pop(),h=s.pop();if(d-h<=a){for(let o=h;o<=d;o++)i(t[2*o],t[2*o+1],r,n)<=c&&l.push(e[o]);continue}const p=Math.floor((h+d)/2),m=t[2*p],y=t[2*p+1];i(m,y,r,n)<=c&&l.push(e[p]);const f=(u+1)%2;(0===u?r-o<=m:n-o<=y)&&(s.push(h),s.push(p-1),s.push(f)),(0===u?r+o>=m:n+o>=y)&&(s.push(p+1),s.push(d),s.push(f))}return l}function i(e,t,r,n){const i=e-r,o=t-n;return i*i+o*o}r.d(t,{A:()=>n})},27621:(e,t,r)=>{"use strict";r.d(t,{Oy:()=>o,SQ:()=>u,bd:()=>d});var n="undefined"!=typeof WeakRef,i=class{constructor(e){n&&"object"==typeof e?this._weakRef=new WeakRef(e):this._instance=e}deref(){var e,t;let r;return this._weakRef?(r=null==(e=this._weakRef)?void 0:e.deref(),r||delete this._weakRef):(r=this._instance,(null==(t=null==r?void 0:r.isDisposed)?void 0:t.call(r))&&delete this._instance),r}},o="keyborg:focusin",a=!1,s=0,l=class{constructor(e,t){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=e=>{if(this._isMouseOrTouchUsedTimer)return;if(this.isNavigatingWithKeyboard)return;const t=e.detail;t.relatedTarget&&(t.isFocusedProgrammatically||void 0===t.isFocusedProgrammatically||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=e=>{0===e.buttons||0===e.clientX&&0===e.clientY&&0===e.screenX&&0===e.screenY||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{const e=this._win;e&&(this._isMouseOrTouchUsedTimer&&e.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=e.setTimeout((()=>{delete this._isMouseOrTouchUsedTimer}),1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=e=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(e)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(e)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++s,this._win=e;const r=e.document;if(t){const e=t.triggerKeys,r=t.dismissKeys;(null==e?void 0:e.length)&&(this._triggerKeys=new Set(e)),(null==r?void 0:r.length)&&(this._dismissKeys=new Set(r))}r.addEventListener(o,this._onFocusIn,!0),r.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener("touchstart",this._onMouseOrTouch,!0),r.addEventListener("touchend",this._onMouseOrTouch,!0),r.addEventListener("touchcancel",this._onMouseOrTouch,!0),function(e){const t=e;a||(a=function(e){const t=e.HTMLElement,r=t.prototype.focus;let n=!1;return t.prototype.focus=function(){n=!0},e.document.createElement("button").focus(),t.prototype.focus=r,n}(t));const r=t.HTMLElement.prototype.focus;if(r.__keyborgNativeFocus)return;t.HTMLElement.prototype.focus=d;const n=new Set,s=e=>{const t=e.target;if(!t)return;const r=new CustomEvent("keyborg:focusout",{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:e}});t.dispatchEvent(r)},l=e=>{const t=e.target;if(!t)return;let r=e.composedPath()[0];const i=new Set;for(;r;)r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(i.add(r),r=r.host):r=r.parentNode;for(const e of n){const t=e.deref();t&&i.has(t)||(n.delete(e),t&&(t.removeEventListener("focusin",l,!0),t.removeEventListener("focusout",s,!0)))}c(t,e.relatedTarget||void 0)},c=(e,t,r)=>{var c;const d=e.shadowRoot;if(d){for(const e of n)if(e.deref()===d)return;return d.addEventListener("focusin",l,!0),d.addEventListener("focusout",s,!0),void n.add(new i(d))}const h={relatedTarget:t,originalEvent:r},p=new CustomEvent(o,{cancelable:!0,bubbles:!0,composed:!0,detail:h});p.details=h,(a||u.lastFocusedProgrammatically)&&(h.isFocusedProgrammatically=e===(null==(c=u.lastFocusedProgrammatically)?void 0:c.deref()),u.lastFocusedProgrammatically=void 0),e.dispatchEvent(p)},u=t.__keyborgData={focusInHandler:l,focusOutHandler:s,shadowTargets:n};function d(){const e=t.__keyborgData;return e&&(e.lastFocusedProgrammatically=new i(this)),r.apply(this,arguments)}t.document.addEventListener("focusin",t.__keyborgData.focusInHandler,!0),t.document.addEventListener("focusout",t.__keyborgData.focusOutHandler,!0);let h=t.document.activeElement;for(;h&&h.shadowRoot;)c(h),h=h.shadowRoot.activeElement;d.__keyborgNativeFocus=r}(e)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(e){this._isNavigatingWithKeyboard_DO_NOT_USE!==e&&(this._isNavigatingWithKeyboard_DO_NOT_USE=e,this.update())}dispose(){const e=this._win;if(e){this._isMouseOrTouchUsedTimer&&(e.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),function(e){const t=e,r=t.HTMLElement.prototype,n=r.focus.__keyborgNativeFocus,i=t.__keyborgData;if(i){t.document.removeEventListener("focusin",i.focusInHandler,!0),t.document.removeEventListener("focusout",i.focusOutHandler,!0);for(const e of i.shadowTargets){const t=e.deref();t&&(t.removeEventListener("focusin",i.focusInHandler,!0),t.removeEventListener("focusout",i.focusOutHandler,!0))}i.shadowTargets.clear(),delete t.__keyborgData}n&&(r.focus=n)}(e);const t=e.document;t.removeEventListener(o,this._onFocusIn,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("touchstart",this._onMouseOrTouch,!0),t.removeEventListener("touchend",this._onMouseOrTouch,!0),t.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var e,t;const r=null==(t=null==(e=this._win)?void 0:e.__keyborg)?void 0:t.refs;if(r)for(const e of Object.keys(r))c.update(r[e],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(e){var t;if("Tab"===e.key)return!0;const r=null==(t=this._win)?void 0:t.document.activeElement,n=!this._triggerKeys||this._triggerKeys.has(e.keyCode),i=r&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable);return n&&!i}_shouldDismissKeyboardNavigation(e){var t;return null==(t=this._dismissKeys)?void 0:t.has(e.keyCode)}_scheduleDismiss(){const e=this._win;if(e){this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const t=e.document.activeElement;this._dismissTimer=e.setTimeout((()=>{this._dismissTimer=void 0;const r=e.document.activeElement;t&&r&&t===r&&(this.isNavigatingWithKeyboard=!1)}),500)}}},c=class e{constructor(e,t){this._cb=[],this._id="k"+ ++s,this._win=e;const r=e.__keyborg;r?(this._core=r.core,r.refs[this._id]=this):(this._core=new l(e,t),e.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(t,r){return new e(t,r)}static dispose(e){e.dispose()}static update(e,t){e._cb.forEach((e=>e(t)))}dispose(){var e;const t=null==(e=this._win)?void 0:e.__keyborg;(null==t?void 0:t.refs[this._id])&&(delete t.refs[this._id],0===Object.keys(t.refs).length&&(t.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var e;return!!(null==(e=this._core)?void 0:e.isNavigatingWithKeyboard)}subscribe(e){this._cb.push(e)}unsubscribe(e){const t=this._cb.indexOf(e);t>=0&&this._cb.splice(t,1)}setVal(e){this._core&&(this._core.isNavigatingWithKeyboard=e)}};function u(e,t){return c.create(e,t)}function d(e){c.dispose(e)}},45228:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))r.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)n.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},59004:function(e,t,r){var n=r(65606);e.exports=function(){"use strict";function e(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var t=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function r(e,t){return e>t?1:e<t?-1:0}function i(e,r,n){for(var i=new t(null,null),o=i,a=i;;){var s=n(e,r.key);if(s<0){if(null===r.left)break;if(n(e,r.left.key)<0){var l=r.left;if(r.left=l.right,l.right=r,null===(r=l).left)break}a.left=r,a=r,r=r.left}else{if(!(s>0))break;if(null===r.right)break;if(n(e,r.right.key)>0&&(l=r.right,r.right=l.left,l.left=r,null===(r=l).right))break;o.right=r,o=r,r=r.right}}return o.right=r.left,a.left=r.right,r.left=i.right,r.right=i.left,r}function o(e,r,n,o){var a=new t(e,r);if(null===n)return a.left=a.right=null,a;var s=o(e,(n=i(e,n,o)).key);return s<0?(a.left=n.left,a.right=n,n.left=null):s>=0&&(a.right=n.right,a.left=n,n.right=null),a}function a(e,t,r){var n=null,o=null;if(t){var a=r((t=i(e,t,r)).key,e);0===a?(n=t.left,o=t.right):a<0?(o=t.right,t.right=null,n=t):(n=t.left,t.left=null,o=t)}return{left:n,right:o}}function s(e,t,r,n,i){if(e){n(t+(r?" ":" ")+i(e)+"\n");var o=t+(r?"    ":"   ");e.left&&s(e.left,o,!1,n,i),e.right&&s(e.right,o,!0,n,i)}}var l=function(){function n(e){void 0===e&&(e=r),this._root=null,this._size=0,this._comparator=e}return n.prototype.insert=function(e,t){return this._size++,this._root=o(e,t,this._root,this._comparator)},n.prototype.add=function(e,r){var n=new t(e,r);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var o=this._comparator,a=i(e,this._root,o),s=o(e,a.key);return 0===s?this._root=a:(s<0?(n.left=a.left,n.right=a,a.left=null):s>0&&(n.right=a.right,n.left=a,a.right=null),this._size++,this._root=n),this._root},n.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},n.prototype._remove=function(e,t,r){var n;return null===t?null:0===r(e,(t=i(e,t,r)).key)?(null===t.left?n=t.right:(n=i(e,t.left,r)).right=t.right,this._size--,n):t},n.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=i(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},n.prototype.findStatic=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return t;t=n<0?t.left:t.right}return null},n.prototype.find=function(e){return this._root&&(this._root=i(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},n.prototype.contains=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return!0;t=n<0?t.left:t.right}return!1},n.prototype.forEach=function(e,t){for(var r=this._root,n=[],i=!1;!i;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),e.call(t,r),r=r.right):i=!0;return this},n.prototype.range=function(e,t,r,n){for(var i=[],o=this._comparator,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(o((a=i.pop()).key,t)>0)break;if(o(a.key,e)>=0&&r.call(n,a))return this;a=a.right}return this},n.prototype.keys=function(){var e=[];return this.forEach((function(t){var r=t.key;return e.push(r)})),e},n.prototype.values=function(){var e=[];return this.forEach((function(t){var r=t.data;return e.push(r)})),e},n.prototype.min=function(){return this._root?this.minNode(this._root).key:null},n.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},n.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},n.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},n.prototype.at=function(e){for(var t=this._root,r=!1,n=0,i=[];!r;)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),n===e)return t;n++,t=t.right}else r=!0;return null},n.prototype.next=function(e){var t=this._root,r=null;if(e.right){for(r=e.right;r.left;)r=r.left;return r}for(var n=this._comparator;t;){var i=n(e.key,t.key);if(0===i)break;i<0?(r=t,t=t.left):t=t.right}return r},n.prototype.prev=function(e){var t=this._root,r=null;if(null!==e.left){for(r=e.left;r.right;)r=r.right;return r}for(var n=this._comparator;t;){var i=n(e.key,t.key);if(0===i)break;i<0?t=t.left:(r=t,t=t.right)}return r},n.prototype.clear=function(){return this._root=null,this._size=0,this},n.prototype.toList=function(){return function(e){for(var r=e,n=[],i=!1,o=new t(null,null),a=o;!i;)r?(n.push(r),r=r.left):n.length>0?r=(r=a=a.next=n.pop()).right:i=!0;return a.next=null,o.next}(this._root)},n.prototype.load=function(e,r,n){void 0===r&&(r=[]),void 0===n&&(n=!1);var i=e.length,o=this._comparator;if(n&&d(e,r,0,i-1,o),null===this._root)this._root=c(e,r,0,i),this._size=i;else{var a=function(e,r,n){for(var i=new t(null,null),o=i,a=e,s=r;null!==a&&null!==s;)n(a.key,s.key)<0?(o.next=a,a=a.next):(o.next=s,s=s.next),o=o.next;return null!==a?o.next=a:null!==s&&(o.next=s),i.next}(this.toList(),function(e,r){for(var n=new t(null,null),i=n,o=0;o<e.length;o++)i=i.next=new t(e[o],r[o]);return i.next=null,n.next}(e,r),o);i=this._size+i,this._root=u({head:a},0,i)}return this},n.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),n.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return s(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},n.prototype.update=function(e,t,r){var n=this._comparator,s=a(e,this._root,n),l=s.left,c=s.right;n(e,t)<0?c=o(t,r,c,n):l=o(t,r,l,n),this._root=function(e,t,r){return null===t?e:(null===e||((t=i(e.key,t,r)).left=e),t)}(l,c,n)},n.prototype.split=function(e){return a(e,this._root,this._comparator)},n.prototype[Symbol.iterator]=function(){var t,r,n;return e(this,(function(e){switch(e.label){case 0:t=this._root,r=[],n=!1,e.label=1;case 1:return n?[3,6]:null===t?[3,2]:(r.push(t),t=t.left,[3,5]);case 2:return 0===r.length?[3,4]:[4,t=r.pop()];case 3:return e.sent(),t=t.right,[3,5];case 4:n=!0,e.label=5;case 5:return[3,1];case 6:return[2]}}))},n}();function c(e,r,n,i){var o=i-n;if(o>0){var a=n+Math.floor(o/2),s=e[a],l=r[a],u=new t(s,l);return u.left=c(e,r,n,a),u.right=c(e,r,a+1,i),u}return null}function u(e,t,r){var n=r-t;if(n>0){var i=t+Math.floor(n/2),o=u(e,t,i),a=e.head;return a.left=o,e.head=e.head.next,a.right=u(e,i+1,r),a}return null}function d(e,t,r,n,i){if(!(r>=n)){for(var o=e[r+n>>1],a=r-1,s=n+1;;){do{a++}while(i(e[a],o)<0);do{s--}while(i(e[s],o)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}d(e,t,r,s,i),d(e,t,s+1,n,i)}}const h=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,p=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const r=e.ll.x<t.ll.x?t.ll.x:e.ll.x,n=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:r,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:n,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}};let m=Number.EPSILON;void 0===m&&(m=Math.pow(2,-52));const y=m*m,f=(e,t)=>{if(-m<e&&e<m&&-m<t&&t<m)return 0;const r=e-t;return r*r<y*e*t?0:e<t?-1:1};class g{constructor(){this.tree=new l,this.round(0)}round(e){const t=this.tree.add(e),r=this.tree.prev(t);if(null!==r&&0===f(t.key,r.key))return this.tree.remove(e),r.key;const n=this.tree.next(t);return null!==n&&0===f(t.key,n.key)?(this.tree.remove(e),n.key):e}}const b=new class{constructor(){this.reset()}reset(){this.xRounder=new g,this.yRounder=new g}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}},v=11102230246251565e-32,M=134217729,x=(3+8*v)*v;function S(e,t,r,n,i){let o,a,s,l,c=t[0],u=n[0],d=0,h=0;u>c==u>-c?(o=c,c=t[++d]):(o=u,u=n[++h]);let p=0;if(d<e&&h<r)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=t[++d]):(a=u+o,s=o-(a-u),u=n[++h]),o=a,0!==s&&(i[p++]=s);d<e&&h<r;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=t[++d]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=n[++h]),o=a,0!==s&&(i[p++]=s);for(;d<e;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=t[++d],o=a,0!==s&&(i[p++]=s);for(;h<r;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=n[++h],o=a,0!==s&&(i[p++]=s);return 0===o&&0!==p||(i[p++]=o),p}function w(e){return new Float64Array(e)}const _=w(4),T=w(8),I=w(12),C=w(16),k=w(4);function L(e,t,r,n,i,o){const a=(t-o)*(r-i),s=(e-i)*(n-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,r,n,i,o,a){let s,l,c,u,d,h,p,m,y,f,g,b,v,w,L,N,Z,E;const z=e-i,G=r-i,P=t-o,A=n-o;w=z*A,h=M*z,p=h-(h-z),m=z-p,h=M*A,y=h-(h-A),f=A-y,L=m*f-(w-p*y-m*y-p*f),N=P*G,h=M*P,p=h-(h-P),m=P-p,h=M*G,y=h-(h-G),f=G-y,Z=m*f-(N-p*y-m*y-p*f),g=L-Z,d=L-g,_[0]=L-(g+d)+(d-Z),b=w+g,d=b-w,v=w-(b-d)+(g-d),g=v-N,d=v-g,_[1]=v-(g+d)+(d-N),E=b+g,d=E-b,_[2]=b-(E-d)+(g-d),_[3]=E;let R=function(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}(4,_),D=22204460492503146e-32*a;if(R>=D||-R>=D)return R;if(d=e-z,s=e-(z+d)+(d-i),d=r-G,c=r-(G+d)+(d-i),d=t-P,l=t-(P+d)+(d-o),d=n-A,u=n-(A+d)+(d-o),0===s&&0===l&&0===c&&0===u)return R;if(D=11093356479670487e-47*a+x*Math.abs(R),R+=z*u+A*s-(P*c+G*l),R>=D||-R>=D)return R;w=s*A,h=M*s,p=h-(h-s),m=s-p,h=M*A,y=h-(h-A),f=A-y,L=m*f-(w-p*y-m*y-p*f),N=l*G,h=M*l,p=h-(h-l),m=l-p,h=M*G,y=h-(h-G),f=G-y,Z=m*f-(N-p*y-m*y-p*f),g=L-Z,d=L-g,k[0]=L-(g+d)+(d-Z),b=w+g,d=b-w,v=w-(b-d)+(g-d),g=v-N,d=v-g,k[1]=v-(g+d)+(d-N),E=b+g,d=E-b,k[2]=b-(E-d)+(g-d),k[3]=E;const X=S(4,_,4,k,T);w=z*u,h=M*z,p=h-(h-z),m=z-p,h=M*u,y=h-(h-u),f=u-y,L=m*f-(w-p*y-m*y-p*f),N=P*c,h=M*P,p=h-(h-P),m=P-p,h=M*c,y=h-(h-c),f=c-y,Z=m*f-(N-p*y-m*y-p*f),g=L-Z,d=L-g,k[0]=L-(g+d)+(d-Z),b=w+g,d=b-w,v=w-(b-d)+(g-d),g=v-N,d=v-g,k[1]=v-(g+d)+(d-N),E=b+g,d=E-b,k[2]=b-(E-d)+(g-d),k[3]=E;const O=S(X,T,4,k,I);w=s*u,h=M*s,p=h-(h-s),m=s-p,h=M*u,y=h-(h-u),f=u-y,L=m*f-(w-p*y-m*y-p*f),N=l*c,h=M*l,p=h-(h-l),m=l-p,h=M*c,y=h-(h-c),f=c-y,Z=m*f-(N-p*y-m*y-p*f),g=L-Z,d=L-g,k[0]=L-(g+d)+(d-Z),b=w+g,d=b-w,v=w-(b-d)+(g-d),g=v-N,d=v-g,k[1]=v-(g+d)+(d-N),E=b+g,d=E-b,k[2]=b-(E-d)+(g-d),k[3]=E;const W=S(O,I,4,k,C);return C[W-1]}(e,t,r,n,i,o,c)}const N=(e,t)=>e.x*t.y-e.y*t.x,Z=(e,t)=>e.x*t.x+e.y*t.y,E=(e,t,r)=>{const n=L(e.x,e.y,t.x,t.y,r.x,r.y);return n>0?-1:n<0?1:0},z=e=>Math.sqrt(Z(e,e)),G=(e,t,r)=>{const n={x:t.x-e.x,y:t.y-e.y},i={x:r.x-e.x,y:r.y-e.y};return N(i,n)/z(i)/z(n)},P=(e,t,r)=>{const n={x:t.x-e.x,y:t.y-e.y},i={x:r.x-e.x,y:r.y-e.y};return Z(i,n)/z(i)/z(n)},A=(e,t,r)=>0===t.y?null:{x:e.x+t.x/t.y*(r-e.y),y:r},R=(e,t,r)=>0===t.x?null:{x:r,y:e.y+t.y/t.x*(r-e.x)};class D{static compare(e,t){const r=D.comparePoints(e.point,t.point);return 0!==r?r:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft?e.isLeft?1:-1:O.compare(e.segment,t.segment))}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let e=0,r=t.length;e<r;e++){const r=t[e];this.point.events.push(r),r.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const r=this.point.events[t];if(void 0===r.segment.consumedBy)for(let n=t+1;n<e;n++){const e=this.point.events[n];void 0===e.consumedBy&&r.otherSE.point.events===e.otherSE.point.events&&r.segment.consume(e.segment)}}}getAvailableLinkedEvents(){const e=[];for(let t=0,r=this.point.events.length;t<r;t++){const r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}getLeftmostComparator(e){const t=new Map,r=r=>{const n=r.otherSE;t.set(r,{sine:G(this.point,e.point,n.point),cosine:P(this.point,e.point,n.point)})};return(e,n)=>{t.has(e)||r(e),t.has(n)||r(n);const{sine:i,cosine:o}=t.get(e),{sine:a,cosine:s}=t.get(n);return i>=0&&a>=0?o<s?1:o>s?-1:0:i<0&&a<0?o<s?-1:o>s?1:0:a<i?-1:a>i?1:0}}}let X=0;class O{static compare(e,t){const r=e.leftSE.point.x,n=t.leftSE.point.x,i=e.rightSE.point.x,o=t.rightSE.point.x;if(o<r)return 1;if(i<n)return-1;const a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,c=t.rightSE.point.y;if(r<n){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;const r=e.comparePoint(t.leftSE.point);if(r<0)return 1;if(r>0)return-1;const n=t.comparePoint(e.rightSE.point);return 0!==n?n:-1}if(r>n){if(a<s&&a<c)return-1;if(a>s&&a>c)return 1;const r=t.comparePoint(e.leftSE.point);if(0!==r)return r;const n=e.comparePoint(t.rightSE.point);return n<0?1:n>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(i<o){const r=t.comparePoint(e.rightSE.point);if(0!==r)return r}if(i>o){const r=e.comparePoint(t.rightSE.point);if(r<0)return 1;if(r>0)return-1}if(i!==o){const e=l-a,t=i-r,u=c-s,d=o-n;if(e>t&&u<d)return 1;if(e<t&&u>d)return-1}return i>o?1:i<o||l<c?-1:l>c?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,r,n){this.id=++X,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=r,this.windings=n}static fromRing(e,t,r){let n,i,o;const a=D.comparePoints(e,t);if(a<0)n=e,i=t,o=1;else{if(!(a>0))throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);n=t,i=e,o=-1}const s=new D(n,!0),l=new D(i,!1);return new O(s,l,[r],[o])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;const t=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(t.x===r.x)return e.x===t.x?0:e.x<t.x?1:-1;const i=(e.y-t.y)/n.y,o=t.x+i*n.x;if(e.x===o)return 0;const a=(e.x-t.x)/n.x,s=t.y+a*n.y;return e.y===s?0:e.y<s?-1:1}getIntersection(e){const t=this.bbox(),r=e.bbox(),n=p(t,r);if(null===n)return null;const i=this.leftSE.point,o=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=h(t,a)&&0===this.comparePoint(a),c=h(r,i)&&0===e.comparePoint(i),u=h(t,s)&&0===this.comparePoint(s),d=h(r,o)&&0===e.comparePoint(o);if(c&&l)return d&&!u?o:!d&&u?s:null;if(c)return u&&i.x===s.x&&i.y===s.y?null:i;if(l)return d&&o.x===a.x&&o.y===a.y?null:a;if(d&&u)return null;if(d)return o;if(u)return s;const m=((e,t,r,n)=>{if(0===t.x)return R(r,n,e.x);if(0===n.x)return R(e,t,r.x);if(0===t.y)return A(r,n,e.y);if(0===n.y)return A(e,t,r.y);const i=N(t,n);if(0==i)return null;const o={x:r.x-e.x,y:r.y-e.y},a=N(o,t)/i,s=N(o,n)/i;return{x:(e.x+s*t.x+(r.x+a*n.x))/2,y:(e.y+s*t.y+(r.y+a*n.y))/2}})(i,this.vector(),a,e.vector());return null===m?null:h(n,m)?b.round(m.x,m.y):null}split(e){const t=[],r=void 0!==e.events,n=new D(e,!0),i=new D(e,!1),o=this.rightSE;this.replaceRightSE(i),t.push(i),t.push(n);const a=new O(n,o,this.rings.slice(),this.windings.slice());return D.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),D.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(n.checkForConsuming(),i.checkForConsuming()),t}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(e){let t=this,r=e;for(;t.consumedBy;)t=t.consumedBy;for(;r.consumedBy;)r=r.consumedBy;const n=O.compare(t,r);if(0!==n){if(n>0){const e=t;t=r,r=e}if(t.prev===r){const e=t;t=r,r=e}for(let e=0,n=r.rings.length;e<n;e++){const n=r.rings[e],i=r.windings[e],o=t.rings.indexOf(n);-1===o?(t.rings.push(n),t.windings.push(i)):t.windings[o]+=i}r.rings=null,r.windings=null,r.consumedBy=t,r.leftSE.consumedBy=t.leftSE,r.rightSE.consumedBy=t.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys;for(let e=0,n=this.rings.length;e<n;e++){const n=this.rings[e],i=this.windings[e],o=t.indexOf(n);-1===o?(t.push(n),r.push(i)):r[o]+=i}const i=[],o=[];for(let e=0,n=t.length;e<n;e++){if(0===r[e])continue;const n=t[e],a=n.poly;if(-1===o.indexOf(a))if(n.isExterior)i.push(a);else{-1===o.indexOf(a)&&o.push(a);const e=i.indexOf(n.poly);-1!==e&&i.splice(e,1)}}for(let e=0,t=i.length;e<t;e++){const t=i[e].multiPoly;-1===n.indexOf(t)&&n.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(J.type){case"union":{const r=0===e.length,n=0===t.length;this._isInResult=r!==n;break}case"intersection":{let r,n;e.length<t.length?(r=e.length,n=t.length):(r=t.length,n=e.length),this._isInResult=n===J.numMultiPolys&&r<n;break}case"xor":{const r=Math.abs(e.length-t.length);this._isInResult=r%2==1;break}case"difference":{const r=e=>1===e.length&&e[0].isSubject;this._isInResult=r(e)!==r(t);break}default:throw new Error(`Unrecognized operation type found ${J.type}`)}return this._isInResult}}class W{constructor(e,t,r){if(!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=r,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const n=b.round(e[0][0],e[0][1]);this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};let i=n;for(let t=1,r=e.length;t<r;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let r=b.round(e[t][0],e[t][1]);r.x===i.x&&r.y===i.y||(this.segments.push(O.fromRing(i,r,this)),r.x<this.bbox.ll.x&&(this.bbox.ll.x=r.x),r.y<this.bbox.ll.y&&(this.bbox.ll.y=r.y),r.x>this.bbox.ur.x&&(this.bbox.ur.x=r.x),r.y>this.bbox.ur.y&&(this.bbox.ur.y=r.y),i=r)}n.x===i.x&&n.y===i.y||this.segments.push(O.fromRing(i,n,this))}getSweepEvents(){const e=[];for(let t=0,r=this.segments.length;t<r;t++){const r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}class j{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new W(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,r=e.length;t<r;t++){const r=new W(e[t],this,!1);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,r=this.interiorRings.length;t<r;t++){const r=this.interiorRings[t].getSweepEvents();for(let t=0,n=r.length;t<n;t++)e.push(r[t])}return e}}class Y{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let t=0,r=e.length;t<r;t++){const r=new j(e[t],this);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,r=this.polys.length;t<r;t++){const r=this.polys[t].getSweepEvents();for(let t=0,n=r.length;t<n;t++)e.push(r[t])}return e}}class F{static factory(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(!n.isInResult()||n.ringOut)continue;let i=null,o=n.leftSE,a=n.rightSE;const s=[o],l=o.point,c=[];for(;i=o,o=a,s.push(o),o.point!==l;)for(;;){const e=o.getAvailableLinkedEvents();if(0===e.length){const e=s[0].point,t=s[s.length-1].point;throw new Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(1===e.length){a=e[0].otherSE;break}let r=null;for(let e=0,t=c.length;e<t;e++)if(c[e].point===o.point){r=e;break}if(null!==r){const e=c.splice(r)[0],n=s.splice(e.index);n.unshift(n[0].otherSE),t.push(new F(n.reverse()));continue}c.push({index:s.length,point:o.point});const n=o.getLeftmostComparator(i);a=e.sort(n)[0].otherSE;break}t.push(new F(s))}return t}constructor(e){this.events=e;for(let t=0,r=e.length;t<r;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let r=1,n=this.events.length-1;r<n;r++){const n=this.events[r].point,i=this.events[r+1].point;0!==E(n,e,i)&&(t.push(n),e=n)}if(1===t.length)return null;const r=t[0],n=t[1];0===E(r,e,n)&&t.shift(),t.push(t[0]);const i=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:t.length-1,a=this.isExteriorRing()?t.length:-1,s=[];for(let e=o;e!=a;e+=i)s.push([t[e].x,t[e].y]);return s}isExteriorRing(){if(void 0===this._isExteriorRing){const e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,r=this.events.length;t<r;t++){const r=this.events[t];D.compare(e,r)>0&&(e=r)}let t=e.segment.prevInResult(),r=t?t.prevInResult():null;for(;;){if(!t)return null;if(!r)return t.ringOut;if(r.ringOut!==t.ringOut)return r.ringOut.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut.enclosingRing();t=r.prevInResult(),r=t?t.prevInResult():null}}}class V{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(let t=0,r=this.interiorRings.length;t<r;t++){const r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}class H{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,r=this.polys.length;t<r;t++){const r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}_composePolys(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(!n.poly)if(n.isExteriorRing())t.push(new V(n));else{const e=n.enclosingRing();e.poly||t.push(new V(e)),e.poly.addInterior(n)}}return t}}class U{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.compare;this.queue=e,this.tree=new l(t),this.segments=[]}process(e){const t=e.segment,r=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),r;const n=e.isLeft?this.tree.add(t):this.tree.find(t);if(!n)throw new Error(`Unable to find segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] in SweepLine tree.`);let i,o,a=n,s=n;for(;void 0===i;)a=this.tree.prev(a),null===a?i=null:void 0===a.key.consumedBy&&(i=a.key);for(;void 0===o;)s=this.tree.next(s),null===s?o=null:void 0===s.key.consumedBy&&(o=s.key);if(e.isLeft){let n=null;if(i){const e=i.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(n=e),!i.isAnEndpoint(e))){const t=this._splitSafely(i,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}}let a=null;if(o){const e=o.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(a=e),!o.isAnEndpoint(e))){const t=this._splitSafely(o,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}}if(null!==n||null!==a){let e=null;e=null===n?a:null===a||D.comparePoints(n,a)<=0?n:a,this.queue.remove(t.rightSE),r.push(t.rightSE);const i=t.split(e);for(let e=0,t=i.length;e<t;e++)r.push(i[e])}r.length>0?(this.tree.remove(t),r.push(e)):(this.segments.push(t),t.prev=i)}else{if(i&&o){const e=i.getIntersection(o);if(null!==e){if(!i.isAnEndpoint(e)){const t=this._splitSafely(i,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}if(!o.isAnEndpoint(e)){const t=this._splitSafely(o,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}}}this.tree.remove(t)}return r}_splitSafely(e,t){this.tree.remove(e);const r=e.rightSE;this.queue.remove(r);const n=e.split(t);return n.push(r),void 0===e.consumedBy&&this.tree.add(e),n}}const B=void 0!==n&&n.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,K=void 0!==n&&n.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;const J=new class{run(e,t,r){J.type=e,b.reset();const n=[new Y(t,!0)];for(let e=0,t=r.length;e<t;e++)n.push(new Y(r[e],!1));if(J.numMultiPolys=n.length,"difference"===J.type){const e=n[0];let t=1;for(;t<n.length;)null!==p(n[t].bbox,e.bbox)?t++:n.splice(t,1)}if("intersection"===J.type)for(let e=0,t=n.length;e<t;e++){const t=n[e];for(let r=e+1,i=n.length;r<i;r++)if(null===p(t.bbox,n[r].bbox))return[]}const i=new l(D.compare);for(let e=0,t=n.length;e<t;e++){const t=n[e].getSweepEvents();for(let e=0,r=t.length;e<r;e++)if(i.insert(t[e]),i.size>B)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const o=new U(i);let a=i.size,s=i.pop();for(;s;){const e=s.key;if(i.size===a){const t=e.segment;throw new Error(`Unable to pop() ${e.isLeft?"left":"right"} SweepEvent [${e.point.x}, ${e.point.y}] from segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] from queue.`)}if(i.size>B)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(o.segments.length>K)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const t=o.process(e);for(let e=0,r=t.length;e<r;e++){const r=t[e];void 0===r.consumedBy&&i.insert(r)}a=i.size,s=i.pop()}b.reset();const c=F.factory(o.segments);return new H(c).getGeom()}};return{union:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return J.run("union",e,r)},intersection:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return J.run("intersection",e,r)},xor:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return J.run("xor",e,r)},difference:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return J.run("difference",e,r)}}}()},91888:(e,t,r)=>{"use strict";function n(e,t,r){if(!e)return r;let n=e[t];return void 0===n?r:n}r.d(t,{_:()=>n})},36271:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>i});var n=r(91888);function i(e,t,r){const i=function(e,t,r){return e?n._(e[t.objectName],t.propertyName,r):r}(e,t,r);return i&&i.solid?i.solid.color:null==i||"object"==typeof i&&!i.solid?r:i}},93116:(e,t,r)=>{"use strict";r.d(t,{P:()=>i});var n=r(36271);class i{static getDefault(){return new this}static createPropertyIdentifier(e,t){return{objectName:e,propertyName:t}}static parse(e){let t,r=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return r;t=r.getProperties();for(let i in t)for(let o in t[i]){const a=r[i][o];r[i][o]=n.Bl(e.metadata.objects,t[i][o],a)}return r}static isPropertyEnumerable(e){return!i.InnumerablePropertyPrefix.test(e)}static enumerateObjectInstances(e,t){let r=e&&e[t.objectName];if(!r)return[];let n={objectName:t.objectName,selector:null,properties:{}};for(let e in r)r.hasOwnProperty(e)&&(n.properties[e]=r[e]);return{instances:[n]}}getProperties(){let e={};return Object.keys(this).forEach((t=>{if(i.isPropertyEnumerable(t)){let r=Object.keys(this[t]);e[t]={},r.forEach((r=>{i.isPropertyEnumerable(t)&&(e[t][r]=i.createPropertyIdentifier(t,r))}))}})),e}}i.InnumerablePropertyPrefix=/^_/},90980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16804);t.default=function(e){Object.keys(n.locales).forEach((function(t){return e.addCultureInfo.apply(e,n.locales[t])}))}},77717:(e,t)=>{"use strict";var r,n,i,o,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.parseNegativePattern=t.parseExact=t.getEraYear=t.getEra=t.getTokenRegExp=t.formatNumber=t.formatDate=t.expandFormat=t.appendPreOrPostMatch=t.zeroPad=t.trim=t.startsWith=t.isObject=t.isFunction=t.isArray=t.extend=t.endsWith=t.arrayIndexOf=t.regexTrim=t.regexParseFloat=t.regexInfinity=t.regexHex=t.Globalize=void 0,t.Globalize=function(e){return new t.Globalize.prototype.init(e)},t.Globalize.cultures={},t.Globalize.prototype={constructor:t.Globalize,init:function(e){return this.cultures=t.Globalize.cultures,this.cultureSelector=e,this}},t.Globalize.prototype.init.prototype=t.Globalize.prototype,t.Globalize.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},t.Globalize.cultures.default.calendar=t.Globalize.cultures.default.calendars.standard,t.Globalize.cultures.en=t.Globalize.cultures.default,t.Globalize.cultureSelector="en",t.regexHex=/^0x[a-f0-9]+$/i,t.regexInfinity=/^[+-]?infinity$/i,t.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,t.regexTrim=/^\s+|\s+$/g,t.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},t.endsWith=function(e,t){return e.substring(e.length-t.length)===t},t.extend=function(e){var r,n,i,o,a,s,l=arguments[0]||{},c=1,u=arguments.length;for(e=!1,"boolean"==typeof l&&(e=l,l=arguments[1]||{},c=2),"object"==typeof l||(0,t.isFunction)(l)||(l={});c<u;c++)if(null!=(r=arguments[c]))for(n in r)i=l[n],l!==(o=r[n])&&(e&&o&&((0,t.isObject)(o)||(a=(0,t.isArray)(o)))?(a?(a=!1,s=i&&(0,t.isArray)(i)?i:[]):s=i&&(0,t.isObject)(i)?i:{},l[n]=(0,t.extend)(e,s,o)):void 0!==o&&(l[n]=o));return l},t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.trim=function(e){return(e+"").replace(t.regexTrim,"")},t.zeroPad=function(e,t,r){var n;for(n=e.length;n<t;n+=1)e=r?"0"+e:e+"0";return e},t.appendPreOrPostMatch=function(e,t){for(var r=0,n=!1,i=0,o=e.length;i<o;i++){var a=e.charAt(i);switch(a){case"'":n?t.push("'"):r++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(a),n=!1}}return r},t.expandFormat=function(e,t){t=t||"F";var r,n=e.patterns,i=t.length;if(1===i){if(!(r=n[t]))throw"Invalid date format string '"+t+"'.";t=r}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},t.formatDate=function(e,r,n){var i=n.calendar,o=i.convert;if(!r||!r.length||"i"===r){var a;if(n&&n.name.length)if(o)a=(0,t.formatDate)(e,i.patterns.F,n);else{var s=new Date(e.getTime()),l=(0,t.getEra)(e,i.eras);s.setFullYear((0,t.getEraYear)(e,i,l)),a=s.toLocaleString()}else a=e.toString();return a}var c=i.eras,u="s"===r;r=(0,t.expandFormat)(i,r),a=[];var d,h,p,m,y=["0","00","000"],f=/([^d]|^)(d|dd)([^d]|$)/g,g=0,b=(0,t.getTokenRegExp)();function v(e,t){var r,n=e+"";return t>1&&n.length<t?(r=y[t-2]+n).substring(r.length-t,r.length):r=n}function M(e,t){if(m)return m[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(!u&&o&&(m=o.fromGregorian(e));;){var x=b.lastIndex,S=b.exec(r),w=r.slice(x,S?S.index:r.length);if(g+=(0,t.appendPreOrPostMatch)(w,a),!S)break;if(g%2)a.push(S[0]);else{var _=S[0],T=_.length;switch(_){case"ddd":case"dddd":var I=3===T?i.days.namesAbbr:i.days.names;a.push(I[e.getDay()]);break;case"d":case"dd":h=!0,a.push(v(M(e,2),T));break;case"MMM":case"MMMM":var C=M(e,1);a.push(i.monthsGenitive&&(h||p||(h=f.test(r),p=!0),h)?i.monthsGenitive[3===T?"namesAbbr":"names"][C]:i.months[3===T?"namesAbbr":"names"][C]);break;case"M":case"MM":a.push(v(M(e,1)+1,T));break;case"y":case"yy":case"yyyy":C=m?m[0]:(0,t.getEraYear)(e,i,(0,t.getEra)(e,c),u),T<4&&(C%=100),a.push(v(C,T));break;case"h":case"hh":0==(d=e.getHours()%12)&&(d=12),a.push(v(d,T));break;case"H":case"HH":a.push(v(e.getHours(),T));break;case"m":case"mm":a.push(v(e.getMinutes(),T));break;case"s":case"ss":a.push(v(e.getSeconds(),T));break;case"t":case"tt":C=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",a.push(1===T?C.charAt(0):C);break;case"f":case"ff":case"fff":a.push(v(e.getMilliseconds(),3).substring(0,T));break;case"z":case"zz":d=e.getTimezoneOffset()/60,a.push((d<=0?"+":"-")+v(Math.floor(Math.abs(d)),T));break;case"zzz":d=e.getTimezoneOffset()/60,a.push((d<=0?"+":"-")+v(Math.floor(Math.abs(d)),2)+":"+v(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&a.push(i.eras[(0,t.getEra)(e,c)].name);break;case"/":a.push(i["/"]);break;default:throw"Invalid date format pattern '"+_+"'."}}}return a.join("")},r=function(e,r,n){var i=n.groupSizes,o=i[0],a=1,s=Math.pow(10,r),l=Math.round(e*s)/s;isFinite(l)||(l=e);var c=(e=l)+"",u="",d=c.split(/e/i),h=d.length>1?parseInt(d[1],10):0;d=(c=d[0]).split("."),c=d[0],u=d.length>1?d[1]:"",h>0?(c+=(u=(0,t.zeroPad)(u,h,!1)).slice(0,h),u=u.substring(h)):h<0&&(h=-h,u=(c=(0,t.zeroPad)(c,h+1)).slice(-h,c.length)+u,c=c.slice(0,-h)),u=r>0?n["."]+(u.length>r?u.slice(0,r):(0,t.zeroPad)(u,r)):"";for(var p=c.length-1,m=n[","],y="";p>=0;){if(0===o||o>p)return c.slice(0,p+1)+(y.length?m+y+u:u);y=c.slice(p-o+1,p+1)+(y.length?m+y:""),p-=o,a<i.length&&(o=i[a],a++)}return c.slice(0,p+1)+m+y+u},t.formatNumber=function(e,n,i){if(!n||"i"===n)return i.name.length?e.toLocaleString():e.toString();n=n||"D";var o,a=i.numberFormat,s=Math.abs(e),l=-1;n.length>1&&(l=parseInt(n.slice(1),10));var c,u=n.charAt(0).toUpperCase();switch(u){case"D":o="n",-1!==l&&(s=(0,t.zeroPad)(""+s,l,!0)),e<0&&(s=-s);break;case"N":c=a;case"C":c=c||a.currency;case"P":c=c||a.percent,o=e<0?c.pattern[0]:c.pattern[1]||"n",-1===l&&(l=c.decimals),s=r(s*("P"===u?100:1),l,c);break;default:throw"Bad number format specifier: "+u}for(var d=/n|\$|-|%/g,h="";;){var p=d.lastIndex,m=d.exec(o);if(h+=o.slice(p,m?m.index:o.length),!m)break;switch(m[0]){case"n":h+=s;break;case"$":h+=a.currency.symbol;break;case"-":/[1-9]/.test(s.toString())&&(h+=a["-"]);break;case"%":h+=a.percent.symbol}}return h},t.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},t.getEra=function(e,t){if(!t)return 0;for(var r,n=e.getTime(),i=0,o=t.length;i<o;i++)if(null===(r=t[i].start)||n>=r)return i;return 0},t.getEraYear=function(e,t,r,n){var i=e.getFullYear();return!n&&t.eras&&(i-=t.eras[r].offset),i},n=function(e,r){var n=new Date,i=(0,t.getEra)(n);if(r<100){var o=e.twoDigitYearMax;o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o;var a=(0,t.getEraYear)(n,e,i);(r+=a-a%100)>o&&(r-=100)}return r},i=function(e,r,n){var i,o=e.days,a=e._upperDays;return a||(e._upperDays=a=[c(o.names),c(o.namesAbbr),c(o.namesShort)]),r=l(r),n?-1===(i=(0,t.arrayIndexOf)(a[1],r))&&(i=(0,t.arrayIndexOf)(a[2],r)):i=(0,t.arrayIndexOf)(a[0],r),i},o=function(e,r,n){var i=e.months,o=e.monthsGenitive||e.months,a=e._upperMonths,s=e._upperMonthsGen;a||(e._upperMonths=a=[c(i.names),c(i.namesAbbr)],e._upperMonthsGen=s=[c(o.names),c(o.namesAbbr)]),r=l(r);var u=(0,t.arrayIndexOf)(n?a[1]:a[0],r);return u<0&&(u=(0,t.arrayIndexOf)(n?s[1]:s[0],r)),u},a=function(e,r){var n=e._parseRegExp;if(n){var i=n[r];if(i)return i}else e._parseRegExp=n={};for(var o,a=(0,t.expandFormat)(e,r).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],l=[],c=0,u=0,d=(0,t.getTokenRegExp)();null!==(o=d.exec(a));){var h=a.slice(c,o.index);if(c=d.lastIndex,(u+=(0,t.appendPreOrPostMatch)(h,s))%2)s.push(o[0]);else{var p,m=o[0],y=m.length;switch(m){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":p="(\\D+)";break;case"tt":case"t":p="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":p="(\\d{"+y+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":p="(\\d\\d?)";break;case"zzz":p="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":p="([+-]?\\d\\d?)";break;case"/":p="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+m+"'."}p&&s.push(p),l.push(o[0])}}(0,t.appendPreOrPostMatch)(a.slice(c),s),s.push("$");var f={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:l};return n[r]=f},s=function(e,t,r){return e<t||e>r},l=function(e){return e.split("").join(" ").toUpperCase()},c=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t[r]=l(e[r]);return t},t.parseExact=function(e,r,l){e=(0,t.trim)(e);var c=l.calendar,u=a(c,r),d=new RegExp(u.regExp).exec(e);if(null===d)return null;for(var h,p=u.groups,m=null,y=null,f=null,g=null,b=null,v=0,M=0,x=0,S=0,w=null,_=!1,T=0,I=p.length;T<I;T++){var C=d[T+1];if(C){var k=p[T],L=k.length,N=parseInt(C,10);switch(k){case"dd":case"d":if(s(g=N,1,31))return null;break;case"MMM":case"MMMM":if(f=o(c,C,3===L),s(f,0,11))return null;break;case"M":case"MM":if(s(f=N-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(y=L<4?n(c,N):N,s(y,0,9999))return null;break;case"h":case"hh":if(12===(v=N)&&(v=0),s(v,0,11))return null;break;case"H":case"HH":if(s(v=N,0,23))return null;break;case"m":case"mm":if(s(M=N,0,59))return null;break;case"s":case"ss":if(s(x=N,0,59))return null;break;case"tt":case"t":if(!(_=c.PM&&(C===c.PM[0]||C===c.PM[1]||C===c.PM[2]))&&(!c.AM||C!==c.AM[0]&&C!==c.AM[1]&&C!==c.AM[2]))return null;break;case"f":case"ff":case"fff":if(S=N*Math.pow(10,3-L),s(S,0,999))return null;break;case"ddd":case"dddd":if(b=i(c,C,3===L),s(b,0,6))return null;break;case"zzz":var Z=C.split(/:/);if(2!==Z.length)return null;if(h=parseInt(Z[0],10),s(h,-12,13))return null;var E=parseInt(Z[1],10);if(s(E,0,59))return null;w=60*h+((0,t.startsWith)(C,"-")?-E:E);break;case"z":case"zz":if(s(h=N,-12,13))return null;w=60*h;break;case"g":case"gg":var z=C;if(!z||!c.eras)return null;z=(0,t.trim)(z.toLowerCase());for(var G=0,P=c.eras.length;G<P;G++)if(z===c.eras[G].name.toLowerCase()){m=G;break}if(null===m)return null}}}var A,R=new Date,D=c.convert;if(A=D?D.fromGregorian(R)[0]:R.getFullYear(),null===y?y=A:c.eras&&(y+=c.eras[m||0].offset),null===f&&(f=0),null===g&&(g=1),D){if(null===(R=D.toGregorian(y,f,g)))return null}else{if(R.setFullYear(y,f,g),R.getDate()!==g)return null;if(null!==b&&R.getDay()!==b)return null}if(_&&v<12&&(v+=12),R.setHours(v,M,x,S),null!==w){var X=R.getMinutes()-(w+R.getTimezoneOffset());R.setHours(R.getHours()+parseInt((X/60).toString(),10),X%60)}return R},t.parseNegativePattern=function(e,r,n){var i,o=r["-"],a=r["+"];switch(n){case"n -":o=" "+o,a=" "+a;case"n-":(0,t.endsWith)(e,o)?i=["-",e.substring(0,e.length-o.length)]:(0,t.endsWith)(e,a)&&(i=["+",e.substring(0,e.length-a.length)]);break;case"- n":o+=" ",a+=" ";case"-n":(0,t.startsWith)(e,o)?i=["-",e.substring(o.length)]:(0,t.startsWith)(e,a)&&(i=["+",e.substring(a.length)]);break;case"(n)":(0,t.startsWith)(e,"(")&&(0,t.endsWith)(e,")")&&(i=["-",e.substring(1,e.length-1)])}return i||["",e]},t.Globalize.prototype.findClosestCulture=function(e){return t.Globalize.findClosestCulture.call(this,e)},t.Globalize.prototype.format=function(e,r,n){return t.Globalize.format.call(this,e,r,n)},t.Globalize.prototype.localize=function(e,r){return t.Globalize.localize.call(this,e,r)},t.Globalize.prototype.parseInt=function(e,r,n){return t.Globalize.parseInt.call(this,e,r,n)},t.Globalize.prototype.parseFloat=function(e,r,n){return t.Globalize.parseFloat.call(this,e,r,n)},t.Globalize.prototype.culture=function(e){return t.Globalize.culture.call(this,e)},t.Globalize.addCultureInfo=function(e,r,n){var i={},o=!1;"string"!=typeof e?(n=e,e=this.culture().name,i=this.cultures[e]):"string"!=typeof r?(n=r,o=null==this.cultures[e],i=this.cultures[e]||this.cultures.default):(o=!0,i=this.cultures[r]),this.cultures[e]=(0,t.extend)(!0,{},i,n),o&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},t.Globalize.findClosestCulture=function(e){var r;if(!e)return this.cultures[this.cultureSelector]||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),(0,t.isArray)(e)){var n,i,o=this.cultures,a=e,s=a.length,l=[];for(i=0;i<s;i++){var c,u=(e=(0,t.trim)(a[i])).split(";");n=(0,t.trim)(u[0]),1===u.length?c=1:0===(e=(0,t.trim)(u[1])).indexOf("q=")?(e=e.substring(2),c=parseFloat(e),c=isNaN(c)?0:c):c=1,l.push({lang:n,pri:c})}for(l.sort((function(e,t){return e.pri<t.pri?1:-1})),i=0;i<s;i++)if(r=o[n=l[i].lang])return r;for(i=0;i<s;i++)for(n=l[i].lang;;){var d=n.lastIndexOf("-");if(-1===d)break;if(r=o[n=n.substring(0,d)])return r}for(i=0;i<s;i++)for(var h in n=l[i].lang,o){var p=o[h];if(p.language==n)return p}}else if("object"==typeof e)return e;return r||null},t.Globalize.format=function(e,r,n){var i=this.findClosestCulture(n);return e instanceof Date?e=(0,t.formatDate)(e,r,i):"number"==typeof e&&(e=(0,t.formatNumber)(e,r,i)),e},t.Globalize.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages.key},t.Globalize.parseDate=function(e,r,n){var i,o,a;if(n=this.findClosestCulture(n),r){if("string"==typeof r&&(r=[r]),r.length)for(var s=0,l=r.length;s<l;s++){var c=r[s];if(c&&(i=(0,t.parseExact)(e,c,n)))break}}else for(o in a=n.calendar.patterns)if(i=(0,t.parseExact)(e,a[o],n))break;return i||null},t.Globalize.parseInt=function(e,r,n){return Math.floor(t.Globalize.parseFloat(e,r,n))},t.Globalize.parseFloat=function(e,r,n){"number"!=typeof r&&(n=r,r=10);var i=this.findClosestCulture(n),o=NaN,a=i.numberFormat;if(e.indexOf(i.numberFormat.currency.symbol)>-1&&(e=(e=e.replace(i.numberFormat.currency.symbol,"")).replace(i.numberFormat.currency["."],i.numberFormat["."])),e=(0,t.trim)(e),t.regexInfinity.test(e))o=parseFloat(e);else if(!r&&t.regexHex.test(e))o=parseInt(e,16);else{var s=(0,t.parseNegativePattern)(e,a,a.pattern[0]),l=s[0],c=s[1];""===l&&"-n"!==a.pattern[0]&&(l=(s=(0,t.parseNegativePattern)(e,a,"-n"))[0],c=s[1]),l=l||"+";var u,d,h=c.indexOf("e");h<0&&(h=c.indexOf("E")),h<0?(d=c,u=null):(d=c.substring(0,h),u=c.substring(h+1));var p,m,y=a["."],f=d.indexOf(y);f<0?(p=d,m=null):(p=d.substring(0,f),m=d.substring(f+y.length));var g=a[","];p=p.split(g).join("");var b=g.replace(/\u00A0/g," ");g!==b&&(p=p.split(b).join(""));var v=l+p;if(null!==m&&(v+="."+m),null!==u){var M=(0,t.parseNegativePattern)(u,a,"-n");v+="e"+(M[0]||"+")+M[1]}t.regexParseFloat.test(v)&&(o=parseFloat(v))}return o},t.Globalize.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.culture.default}},16804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=void 0,t.locales={ar:["ar","default",{name:"ar",englishName:"Arabic",nativeName:"",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_Localized:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],bg:["bg","default",{name:"bg",englishName:"Bulgarian",nativeName:"",language:"bg",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"  ",start:null,offset:0}],patterns:{d:"d.M.yyyy '.'",D:"dd MMMM yyyy '.'",t:"HH:mm '.'",T:"HH:mm:ss '.'",f:"dd MMMM yyyy '.' HH:mm '.'",F:"dd MMMM yyyy '.' HH:mm:ss '.'",M:"dd MMMM",Y:"MMMM yyyy '.'"}}}}],ca:["ca","default",{name:"ca",englishName:"Catalan",nativeName:"catal",language:"ca",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],namesAbbr:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],namesShort:["dg","dl","dt","dc","dj","dv","ds"]},months:{names:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],namesAbbr:["gen","feb","mar","abr","maig","juny","jul","ag","set","oct","nov","des",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, d' / 'MMMM' / 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' / 'MMMM' / 'yyyy HH:mm",F:"dddd, d' / 'MMMM' / 'yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM' / 'yyyy"}}}}],"zh-Hans":["zh-Hans","default",{name:"zh-Hans",englishName:"Chinese (Simplified)",nativeName:"()",language:"zh-Hans",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],cs:["cs","default",{name:"cs",englishName:"Czech",nativeName:"etina",language:"cs",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"K"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],namesAbbr:["ne","po","t","st","t","p","so"],namesShort:["ne","po","t","st","t","p","so"]},months:{names:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},monthsGenitive:{names:["ledna","nora","bezna","dubna","kvtna","ervna","ervence","srpna","z","jna","listopadu","prosince",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["dop.","dop.","DOP."],PM:["odp.","odp.","ODP."],eras:[{name:"n. l.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],da:["da","default",{name:"da",englishName:"Danish",nativeName:"dansk",language:"da",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","ma","ti","on","to","fr","l"],namesShort:["s","ma","ti","on","to","fr","l"]},months:{names:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],de:["de","default",{name:"de",englishName:"German",nativeName:"Deutsch",language:"de",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],el:["el","default",{name:"el",englishName:"Greek",nativeName:"",language:"el",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"..",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"dddd, d MMMM yyyy",f:"dddd, d MMMM yyyy h:mm tt",F:"dddd, d MMMM yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],es:["es","default",{name:"es",englishName:"Spanish",nativeName:"espaol",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],fi:["fi","default",{name:"fi",englishName:"Finnish",nativeName:"suomi",language:"fi",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],namesAbbr:["su","ma","ti","ke","to","pe","la"],namesShort:["su","ma","ti","ke","to","pe","la"]},months:{names:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],namesAbbr:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM'ta 'yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM'ta 'yyyy H:mm",F:"d. MMMM'ta 'yyyy H:mm:ss",M:"d. MMMM'ta'",Y:"MMMM yyyy"}}}}],fr:["fr","default",{name:"fr",englishName:"French",nativeName:"franais",language:"fr",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],he:["he","default",{name:"he",englishName:"Hebrew",nativeName:"",language:"he",isRTL:!0,numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$ n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},eras:[{name:"",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd dd MMMM yyyy HH:mm",F:"dddd dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}},Hebrew:{name:"Hebrew","/":" ",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","",""," ","","","","","",""],namesAbbr:["","","","","",""," ","","","","","",""]},eras:[{name:"C.E.",start:null,offset:0}],twoDigitYearMax:5790,patterns:{d:"dd MMMM yyyy",D:"dddd dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd dd MMMM yyyy HH:mm",F:"dddd dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],hu:["hu","default",{name:"hu",englishName:"Hungarian",nativeName:"magyar",language:"hu",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"Ft"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["vasrnap","htf","kedd","szerda","cstrtk","pntek","szombat"],namesAbbr:["V","H","K","Sze","Cs","P","Szo"],namesShort:["V","H","K","Sze","Cs","P","Szo"]},months:{names:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december",""],namesAbbr:["jan.","febr.","mrc.","pr.","mj.","jn.","jl.","aug.","szept.","okt.","nov.","dec.",""]},AM:["de.","de.","DE."],PM:["du.","du.","DU."],eras:[{name:"i.sz.",start:null,offset:0}],patterns:{d:"yyyy.MM.dd.",D:"yyyy. MMMM d.",t:"H:mm",T:"H:mm:ss",f:"yyyy. MMMM d. H:mm",F:"yyyy. MMMM d. H:mm:ss",M:"MMMM d.",Y:"yyyy. MMMM"}}}}],is:["is","default",{name:"is",englishName:"Icelandic",nativeName:"slenska",language:"is",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],decimals:0,",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sunnudagur","mnudagur","rijudagur","mivikudagur","fimmtudagur","fstudagur","laugardagur"],namesAbbr:["sun.","mn.","ri.","mi.","fim.","fs.","lau."],namesShort:["su","m","r","mi","fi","f","la"]},months:{names:["janar","febrar","mars","aprl","ma","jn","jl","gst","september","oktber","nvember","desember",""],namesAbbr:["jan.","feb.","mar.","apr.","ma","jn.","jl.","g.","sep.","okt.","nv.","des.",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],it:["it","default",{name:"it",englishName:"Italian",nativeName:"italiano",language:"it",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],namesAbbr:["dom","lun","mar","mer","gio","ven","sab"],namesShort:["do","lu","ma","me","gi","ve","sa"]},months:{names:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],namesAbbr:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],ja:["ja","default",{name:"ja",englishName:"Japanese",nativeName:"",language:"ja",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["-$n","$n"],decimals:0,symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/MM/dd",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}},Japanese:{name:"Japanese",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:1867},{name:"",start:-18121536e5,offset:1911},{name:"",start:-13576032e5,offset:1925},{name:"",start:6002208e4,offset:1988}],twoDigitYearMax:99,patterns:{d:"gg y/M/d",D:"gg y''M''d''",t:"H:mm",T:"H:mm:ss",f:"gg y''M''d'' H:mm",F:"gg y''M''d'' H:mm:ss",M:"M''d''",Y:"gg y''M''"}}}}],ko:["ko","default",{name:"ko",englishName:"Korean",nativeName:"",language:"ko",numberFormat:{currency:{pattern:["-$n","$n"],decimals:0,symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"yyyy'' M'' d'' dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"yyyy'' M'' d'' dddd tt h:mm",F:"yyyy'' M'' d'' dddd tt h:mm:ss",M:"M'' d''",Y:"yyyy'' M''"}},Korean:{name:"Korean","/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:-2333}],twoDigitYearMax:4362,patterns:{d:"gg yyyy-MM-dd",D:"gg yyyy'' M'' d'' dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"gg yyyy'' M'' d'' dddd tt h:mm",F:"gg yyyy'' M'' d'' dddd tt h:mm:ss",M:"M'' d''",Y:"gg yyyy'' M''"}}}}],nl:["nl","default",{name:"nl",englishName:"Dutch",nativeName:"Nederlands",language:"nl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],namesAbbr:["zo","ma","di","wo","do","vr","za"],namesShort:["zo","ma","di","wo","do","vr","za"]},months:{names:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],namesAbbr:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d-M-yyyy",D:"dddd d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],no:["no","default",{name:"no",englishName:"Norwegian",nativeName:"norsk",language:"no",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","ma","ti","on","to","fr","l"],namesShort:["s","ma","ti","on","to","fr","l"]},months:{names:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],pl:["pl","default",{name:"pl",englishName:"Polish",nativeName:"polski",language:"pl",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"z"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],namesAbbr:["N","Pn","Wt","r","Cz","Pt","So"],namesShort:["N","Pn","Wt","r","Cz","Pt","So"]},months:{names:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie",""],namesAbbr:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru",""]},monthsGenitive:{names:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia",""],namesAbbr:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d MMMM yyyy HH:mm",F:"d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],pt:["pt","default",{name:"pt",englishName:"Portuguese",nativeName:"Portugus",language:"pt",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:"R$"}},calendars:{standard:{days:{names:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],namesAbbr:["dom","seg","ter","qua","qui","sex","sb"],namesShort:["D","S","T","Q","Q","S","S"]},months:{names:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],namesAbbr:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, d' de 'MMMM' de 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' de 'MMMM' de 'yyyy HH:mm",F:"dddd, d' de 'MMMM' de 'yyyy HH:mm:ss",M:"dd' de 'MMMM",Y:"MMMM' de 'yyyy"}}}}],rm:["rm","default",{name:"rm",englishName:"Romansh",nativeName:"Rumantsch",language:"rm",numberFormat:{",":"'",percent:{pattern:["-n%","n%"],",":"'"},currency:{pattern:["$-n","$ n"],",":"'",symbol:"fr."}},calendars:{standard:{firstDay:1,days:{names:["dumengia","glindesdi","mardi","mesemna","gievgia","venderdi","sonda"],namesAbbr:["du","gli","ma","me","gie","ve","so"],namesShort:["du","gli","ma","me","gie","ve","so"]},months:{names:["schaner","favrer","mars","avrigl","matg","zercladur","fanadur","avust","settember","october","november","december",""],namesAbbr:["schan","favr","mars","avr","matg","zercl","fan","avust","sett","oct","nov","dec",""]},AM:null,PM:null,eras:[{name:"s. Cr.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d MMMM yyyy HH:mm",F:"dddd, d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],ro:["ro","default",{name:"ro",englishName:"Romanian",nativeName:"romn",language:"ro",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"lei"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["duminic","luni","mari","miercuri","joi","vineri","smbt"],namesAbbr:["D","L","Ma","Mi","J","V","S"],namesShort:["D","L","Ma","Mi","J","V","S"]},months:{names:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],namesAbbr:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d MMMM yyyy HH:mm",F:"d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],ru:["ru","default",{name:"ru",englishName:"Russian",nativeName:"",language:"ru",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy '.'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '.' H:mm",F:"d MMMM yyyy '.' H:mm:ss",Y:"MMMM yyyy"}}}}],hr:["hr","default",{name:"hr",englishName:"Croatian",nativeName:"hrvatski",language:"hr",numberFormat:{pattern:["- n"],",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kn"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sri","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["sijeanj","veljaa","oujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac",""],namesAbbr:["sij","vlj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro",""]},monthsGenitive:{names:["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenog","prosinca",""],namesAbbr:["sij","vlj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy.",D:"d. MMMM yyyy.",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy. H:mm",F:"d. MMMM yyyy. H:mm:ss",M:"d. MMMM"}}}}],sk:["sk","default",{name:"sk",englishName:"Slovak",nativeName:"slovenina",language:"sk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":". ",firstDay:1,days:{names:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],namesAbbr:["ne","po","ut","st","t","pi","so"],namesShort:["ne","po","ut","st","t","pi","so"]},months:{names:["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},monthsGenitive:{names:["janura","februra","marca","aprla","mja","jna","jla","augusta","septembra","oktbra","novembra","decembra",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:null,PM:null,eras:[{name:"n. l.",start:null,offset:0}],patterns:{d:"d. M. yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],sq:["sq","default",{name:"sq",englishName:"Albanian",nativeName:"shqipe",language:"sq",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n$","n$"],",":".",".":",",symbol:"Lek"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["e diel","e hn","e mart","e mrkur","e enjte","e premte","e shtun"],namesAbbr:["Die","Hn","Mar","Mr","Enj","Pre","Sht"],namesShort:["Di","H","Ma","M","En","Pr","Sh"]},months:{names:["janar","shkurt","mars","prill","maj","qershor","korrik","gusht","shtator","tetor","nntor","dhjetor",""],namesAbbr:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gsh","Sht","Tet","Nn","Dhj",""]},AM:["PD","pd","PD"],PM:["MD","md","MD"],patterns:{d:"yyyy-MM-dd",D:"yyyy-MM-dd",t:"h:mm.tt",T:"h:mm:ss.tt",f:"yyyy-MM-dd h:mm.tt",F:"yyyy-MM-dd h:mm:ss.tt",Y:"yyyy-MM"}}}}],sv:["sv","default",{name:"sv",englishName:"Swedish",nativeName:"svenska",language:"sv",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","m","ti","on","to","fr","l"],namesShort:["s","m","ti","on","to","fr","l"]},months:{names:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"'den 'd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"'den 'd MMMM yyyy HH:mm",F:"'den 'd MMMM yyyy HH:mm:ss",M:"'den 'd MMMM",Y:"MMMM yyyy"}}}}],th:["th","default",{name:"th",englishName:"Thai",nativeName:"",language:"th",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{name:"ThaiBuddhist",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["..","..","..","..","..","..","..","..","..","..","..","..",""]},eras:[{name:"..",start:null,offset:-543}],twoDigitYearMax:2572,patterns:{d:"d/M/yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}},Gregorian_Localized:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["..","..","..","..","..","..","..","..","..","..","..","..",""]},patterns:{d:"d/M/yyyy",D:"''dddd'' d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"''dddd'' d MMMM yyyy H:mm",F:"''dddd'' d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],tr:["tr","default",{name:"tr",englishName:"Turkish",nativeName:"Trke",language:"tr",numberFormat:{",":".",".":",",percent:{pattern:["-%n","%n"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"TL"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],namesAbbr:["Paz","Pzt","Sal","ar","Per","Cum","Cmt"],namesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"]},months:{names:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk",""],namesAbbr:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"dd MMMM yyyy dddd",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy dddd HH:mm",F:"dd MMMM yyyy dddd HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],ur:["ur","default",{name:"ur",englishName:"Urdu",nativeName:"",language:"ur",isRTL:!0,numberFormat:{currency:{pattern:["$n-","$n"],symbol:"Rs"}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",f:"dd MMMM, yyyy h:mm tt",F:"dd MMMM, yyyy h:mm:ss tt",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",f:"dd/MM/yyyy h:mm tt",F:"dd/MM/yyyy h:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}}}}],id:["id","default",{name:"id",englishName:"Indonesian",nativeName:"Bahasa Indonesia",language:"id",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{decimals:0,",":".",".":",",symbol:"Rp"}},calendars:{standard:{firstDay:1,days:{names:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],namesAbbr:["Minggu","Sen","Sel","Rabu","Kamis","Jumat","Sabtu"],namesShort:["M","S","S","R","K","J","S"]},months:{names:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember",""],namesAbbr:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agust","Sep","Okt","Nop","Des",""]},AM:null,PM:null,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM yyyy H:mm",F:"dd MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],uk:["uk","default",{name:"uk",englishName:"Ukrainian",nativeName:"",language:"uk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","'",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy' .'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy' .' H:mm",F:"d MMMM yyyy' .' H:mm:ss",M:"d MMMM",Y:"MMMM yyyy' .'"}}}}],be:["be","default",{name:"be",englishName:"Belarusian",nativeName:"",language:"be",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],sl:["sl","default",{name:"sl",englishName:"Slovenian",nativeName:"slovenski",language:"sl",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljek","torek","sreda","etrtek","petek","sobota"],namesAbbr:["ned","pon","tor","sre","et","pet","sob"],namesShort:["ne","po","to","sr","e","pe","so"]},months:{names:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],et:["et","default",{name:"et",englishName:"Estonian",nativeName:"eesti",language:"et",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["phapev","esmaspev","teisipev","kolmapev","neljapev","reede","laupev"],namesAbbr:["P","E","T","K","N","R","L"],namesShort:["P","E","T","K","N","R","L"]},months:{names:["jaanuar","veebruar","mrts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember",""],namesAbbr:["jaan","veebr","mrts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets",""]},AM:["EL","el","EL"],PM:["PL","pl","PL"],patterns:{d:"d.MM.yyyy",D:"d. MMMM yyyy'. a.'",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy'. a.' H:mm",F:"d. MMMM yyyy'. a.' H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy'. a.'"}}}}],lv:["lv","default",{name:"lv",englishName:"Latvian",nativeName:"latvieu",language:"lv",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-$ n","$ n"],",":"",".":",",symbol:"Ls"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["svtdiena","pirmdiena","otrdiena","trediena","ceturtdiena","piektdiena","sestdiena"],namesAbbr:["sv","pr","ot","tr","ce","pk","se"],namesShort:["sv","pr","ot","tr","ce","pk","se"]},months:{names:["janvris","februris","marts","aprlis","maijs","jnijs","jlijs","augusts","septembris","oktobris","novembris","decembris",""],namesAbbr:["jan","feb","mar","apr","mai","jn","jl","aug","sep","okt","nov","dec",""]},monthsGenitive:{names:["janvr","februr","mart","aprl","maij","jnij","jlij","august","septembr","oktobr","novembr","decembr",""],namesAbbr:["jan","feb","mar","apr","mai","jn","jl","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"yyyy.MM.dd.",D:"dddd, yyyy'. gada 'd. MMMM",t:"H:mm",T:"H:mm:ss",f:"dddd, yyyy'. gada 'd. MMMM H:mm",F:"dddd, yyyy'. gada 'd. MMMM H:mm:ss",M:"d. MMMM",Y:"yyyy. MMMM"}}}}],lt:["lt","default",{name:"lt",englishName:"Lithuanian",nativeName:"lietuvi",language:"lt",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"Lt"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sekmadienis","pirmadienis","antradienis","treiadienis","ketvirtadienis","penktadienis","etadienis"],namesAbbr:["Sk","Pr","An","Tr","Kt","Pn","t"],namesShort:["S","P","A","T","K","Pn",""]},months:{names:["sausis","vasaris","kovas","balandis","gegu","birelis","liepa","rugpjtis","rugsjis","spalis","lapkritis","gruodis",""],namesAbbr:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd",""]},monthsGenitive:{names:["sausio","vasario","kovo","balandio","gegus","birelio","liepos","rugpjio","rugsjo","spalio","lapkriio","gruodio",""],namesAbbr:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd",""]},AM:null,PM:null,patterns:{d:"yyyy.MM.dd",D:"yyyy 'm.' MMMM d 'd.'",t:"HH:mm",T:"HH:mm:ss",f:"yyyy 'm.' MMMM d 'd.' HH:mm",F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",M:"MMMM d 'd.'",Y:"yyyy 'm.' MMMM"}}}}],tg:["tg","default",{name:"tg",englishName:"Tajik",nativeName:"",language:"tg",numberFormat:{",":"",".":",",groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0],",":"",".":","},currency:{pattern:["-n $","n $"],groupSizes:[3,0],",":"",".":";",symbol:".."}},calendars:{standard:{"/":".",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",Y:"MMMM yyyy"}}}}],fa:["fa","default",{name:"fa",englishName:"Persian",nativeName:"",language:"fa",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],".":"/",symbol:""}},calendars:{standard:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_Localized:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],patterns:{d:"yyyy/MM/dd",D:"yyyy/MM/dd",t:"hh:mm tt",T:"hh:mm:ss tt",f:"yyyy/MM/dd hh:mm tt",F:"yyyy/MM/dd hh:mm:ss tt",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],vi:["vi","default",{name:"vi",englishName:"Vietnamese",nativeName:"Ting Vit",language:"vi",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Chu Nht","Th Hai","Th Ba","Th T","Th Nm","Th Sau","Th Bay"],namesAbbr:["CN","Hai","Ba","T","Nm","Sau","Bay"],namesShort:["C","H","B","T","N","S","B"]},months:{names:["Thang Ging","Thang Hai","Thang Ba","Thang T","Thang Nm","Thang Sau","Thang Bay","Thang Tam","Thang Chin","Thang Mi","Thang Mi Mt","Thang Mi Hai",""],namesAbbr:["Thg1","Thg2","Thg3","Thg4","Thg5","Thg6","Thg7","Thg8","Thg9","Thg10","Thg11","Thg12",""]},AM:["SA","sa","SA"],PM:["CH","ch","CH"],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",f:"dd MMMM yyyy h:mm tt",F:"dd MMMM yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],hy:["hy","default",{name:"hy",englishName:"Armenian",nativeName:"",language:"hy",numberFormat:{currency:{pattern:["-n $","n $"],symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM, yyyy H:mm",F:"d MMMM, yyyy H:mm:ss",M:"d MMMM"}}}}],az:["az","default",{name:"az",englishName:"Azeri",nativeName:"Azrbaycanl",language:"az",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"man."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Bazar","Bazarertsi","rnbaxam","rnb","Cmaxam","Cm","nb"],namesAbbr:["B","Be","a","","Ca","C",""],namesShort:["B","Be","a","","Ca","C",""]},months:{names:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avgust","Sentyabr","Oktyabr","Noyabr","Dekabr",""],namesAbbr:["Yan","Fev","Mar","Apr","May","yun","yul","Avg","Sen","Okt","Noy","Dek",""]},monthsGenitive:{names:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""],namesAbbr:["Yan","Fev","Mar","Apr","May","yun","yul","Avg","Sen","Okt","Noy","Dek",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],eu:["eu","default",{name:"eu",englishName:"Basque",nativeName:"euskara",language:"eu",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],namesAbbr:["ig.","al.","as.","az.","og.","or.","lr."],namesShort:["ig","al","as","az","og","or","lr"]},months:{names:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],namesAbbr:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"yyyy/MM/dd",D:"dddd, yyyy.'eko' MMMM'k 'd",t:"HH:mm",T:"H:mm:ss",f:"dddd, yyyy.'eko' MMMM'k 'd HH:mm",F:"dddd, yyyy.'eko' MMMM'k 'd H:mm:ss",Y:"yyyy.'eko' MMMM"}}}}],hsb:["hsb","default",{name:"hsb",englishName:"Upper Sorbian",nativeName:"hornjoserbina",language:"hsb",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":". ",firstDay:1,days:{names:["njedela","pndela","wutora","srjeda","twrtk","pjatk","sobota"],namesAbbr:["nje","pn","wut","srj","tw","pja","sob"],namesShort:["n","p","w","s","","p","s"]},months:{names:["januar","februar","mrc","apryl","meja","junij","julij","awgust","september","oktober","nowember","december",""],namesAbbr:["jan","feb","mr","apr","mej","jun","jul","awg","sep","okt","now","dec",""]},monthsGenitive:{names:["januara","februara","mrca","apryla","meje","junija","julija","awgusta","septembra","oktobra","nowembra","decembra",""],namesAbbr:["jan","feb","mr","apr","mej","jun","jul","awg","sep","okt","now","dec",""]},AM:null,PM:null,eras:[{name:"po Chr.",start:null,offset:0}],patterns:{d:"d. M. yyyy",D:"dddd, 'dnja' d. MMMM yyyy",t:"H.mm 'hod.'",T:"H:mm:ss",f:"dddd, 'dnja' d. MMMM yyyy H.mm 'hod.'",F:"dddd, 'dnja' d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],mk:["mk","default",{name:"mk",englishName:"Macedonian (FYROM)",nativeName:" ",language:"mk",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"dddd, dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, dd MMMM yyyy HH:mm",F:"dddd, dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],tn:["tn","default",{name:"tn",englishName:"Setswana",nativeName:"Setswana",language:"tn",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["Latshipi","Mosupologo","Labobedi","Laboraro","Labone","Labotlhano","Lamatlhatso"],namesAbbr:["Ltp.","Mos.","Lbd.","Lbr.","Lbn.","Lbt.","Lmt."],namesShort:["Lp","Ms","Lb","Lr","Ln","Lt","Lm"]},months:{names:["Ferikgong","Tlhakole","Mopitloe","Moranang","Motsheganong","Seetebosigo","Phukwi","Phatwe","Lwetse","Diphalane","Ngwanatsele","Sedimothole",""],namesAbbr:["Fer.","Tlhak.","Mop.","Mor.","Motsh.","Seet.","Phukw.","Phatw.","Lwets.","Diph.","Ngwan.","Sed.",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],xh:["xh","default",{name:"xh",englishName:"isiXhosa",nativeName:"isiXhosa",language:"xh",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["iCawa","uMvulo","uLwesibini","uLwesithathu","uLwesine","uLwesihlanu","uMgqibelo"],namesShort:["Ca","Mv","Lb","Lt","Ln","Lh","Mg"]},months:{names:["Mqungu","Mdumba","Kwindla","Tshazimpuzi","Canzibe","Silimela","Khala","Thupha","Msintsi","Dwarha","Nkanga","Mnga",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],zu:["zu","default",{name:"zu",englishName:"isiZulu",nativeName:"isiZulu",language:"zu",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["iSonto","uMsombuluko","uLwesibili","uLwesithathu","uLwesine","uLwesihlanu","uMgqibelo"],namesAbbr:["Son.","Mso.","Bi.","Tha.","Ne.","Hla.","Mgq."]},months:{names:["uMasingana","uNhlolanja","uNdasa","uMbaso","uNhlaba","uNhlangulana","uNtulikazi","uNcwaba","uMandulo","uMfumfu","uLwezi","uZibandlela",""],namesAbbr:["Mas.","Nhlo.","Nda.","Mba.","Nhla.","Nhlang.","Ntu.","Ncwa.","Man.","Mfu.","Lwe.","Zib.",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],af:["af","default",{name:"af",englishName:"Afrikaans",nativeName:"Afrikaans",language:"af",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],namesAbbr:["Son","Maan","Dins","Woen","Dond","Vry","Sat"],namesShort:["So","Ma","Di","Wo","Do","Vr","Sa"]},months:{names:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember",""],namesAbbr:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],ka:["ka","default",{name:"ka",englishName:"Georgian",nativeName:"",language:"ka",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"Lari"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"yyyy '' dd MM, dddd",t:"H:mm",T:"H:mm:ss",f:"yyyy '' dd MM, dddd H:mm",F:"yyyy '' dd MM, dddd H:mm:ss",M:"dd MM",Y:"MMMM yyyy"}}}}],fo:["fo","default",{name:"fo",englishName:"Faroese",nativeName:"froyskt",language:"fo",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sunnudagur","mnadagur","tsdagur","mikudagur","hsdagur","frggjadagur","leygardagur"],namesAbbr:["sun","mn","ts","mik","hs","fr","leyg"],namesShort:["su","m","t","mi","h","fr","ley"]},months:{names:["januar","februar","mars","aprl","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],hi:["hi","default",{name:"hi",englishName:"Hindi",nativeName:"",language:"hi",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],mt:["mt","default",{name:"mt",englishName:"Maltese",nativeName:"Malti",language:"mt",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Il-add","It-Tnejn","It-Tlieta","L-Erbga","Il-amis","Il-imga","Is-Sibt"],namesAbbr:["ad","Tne","Tli","Erb","am","im","Sib"],namesShort:["I","I","I","L","I","I","I"]},months:{names:["Jannar","Frar","Marzu","April","Mejju","unju","Lulju","Awissu","Settembru","Ottubru","Novembru","Diembru",""],namesAbbr:["Jan","Fra","Mar","Apr","Mej","un","Lul","Awi","Set","Ott","Nov","Di",""]},patterns:{d:"dd/MM/yyyy",D:"dddd, d' ta\\' 'MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' ta\\' 'MMMM yyyy HH:mm",F:"dddd, d' ta\\' 'MMMM yyyy HH:mm:ss",M:"d' ta\\' 'MMMM",Y:"MMMM yyyy"}}}}],se:["se","default",{name:"se",englishName:"Sami (Northern)",nativeName:"davvismegiella",language:"se",numberFormat:{",":"",".":",",percent:{pattern:["-%n","%n"],",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sotnabeaivi","vuossrga","maebrga","gaskavahkku","duorastat","bearjadat","lvvardat"],namesAbbr:["sotn","vuos","ma","gask","duor","bear","lv"],namesShort:["s","m","d","g","d","b","l"]},months:{names:["oajagemnnu","guovvamnnu","njukamnnu","cuoomnnu","miessemnnu","geassemnnu","suoidnemnnu","borgemnnu","akamnnu","golggotmnnu","skbmamnnu","juovlamnnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},monthsGenitive:{names:["oajagimnu","guovvamnu","njukamnu","cuoomnu","miessemnu","geassemnu","suoidnemnu","borgemnu","akamnu","golggotmnu","skbmamnu","juovlamnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],ga:["ga","default",{name:"ga",englishName:"Irish",nativeName:"Gaeilge",language:"ga",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],namesAbbr:["Domh","Luan","Mir","Cad","Dar","Aoi","Sath"],namesShort:["Do","Lu","M","C","De","Ao","Sa"]},months:{names:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig",""],namesAbbr:["Ean","Feabh","Mr","Aib","Bealt","Meith","Iil","Ln","M.Fmh","D.Fmh","Samh","Noll",""]},AM:["r.n.","r.n.","R.N."],PM:["i.n.","i.n.","I.N."],patterns:{d:"dd/MM/yyyy",D:"d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d MMMM yyyy HH:mm",F:"d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],ms:["ms","default",{name:"ms",englishName:"Malay",nativeName:"Bahasa Melayu",language:"ms",numberFormat:{currency:{decimals:0,symbol:"RM"}},calendars:{standard:{firstDay:1,days:{names:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],namesAbbr:["Ahad","Isnin","Sel","Rabu","Khamis","Jumaat","Sabtu"],namesShort:["A","I","S","R","K","J","S"]},months:{names:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember",""],namesAbbr:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogos","Sept","Okt","Nov","Dis",""]},AM:null,PM:null,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM yyyy H:mm",F:"dd MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],kk:["kk","default",{name:"kk",englishName:"Kazakh",nativeName:"",language:"kk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-$n","$n"],",":"",".":"-",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy '.'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '.' H:mm",F:"d MMMM yyyy '.' H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],ky:["ky","default",{name:"ky",englishName:"Kyrgyz",nativeName:"",language:"ky",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":"-",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"d'-'MMMM yyyy'-.'",t:"H:mm",T:"H:mm:ss",f:"d'-'MMMM yyyy'-.' H:mm",F:"d'-'MMMM yyyy'-.' H:mm:ss",M:"d MMMM",Y:"MMMM yyyy'-.'"}}}}],sw:["sw","default",{name:"sw",englishName:"Kiswahili",nativeName:"Kiswahili",language:"sw",numberFormat:{currency:{symbol:"S"}},calendars:{standard:{days:{names:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],namesAbbr:["Jumap.","Jumat.","Juman.","Jumat.","Alh.","Iju.","Jumam."],namesShort:["P","T","N","T","A","I","M"]},months:{names:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Decemba",""],namesAbbr:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Dec",""]}}}}],tk:["tk","default",{name:"tk",englishName:"Turkmen",nativeName:"trkmene",language:"tk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:"m."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Duenbe","Sienbe","arenbe","Penenbe","Anna","enbe","ekenbe"],namesAbbr:["Db","Sb","b","Pb","An","b","b"],namesShort:["D","S","","P","A","",""]},months:{names:["anwar","Fewral","Mart","Aprel","Ma","lun","lul","Awgust","Sentabr","Oktabr","Noabr","Dekabr",""],namesAbbr:["an","Few","Mart","Apr","Ma","lun","lul","Awg","Sen","Okt","Not","Dek",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"yyyy '.' MMMM d",t:"H:mm",T:"H:mm:ss",f:"yyyy '.' MMMM d H:mm",F:"yyyy '.' MMMM d H:mm:ss",Y:"yyyy '.' MMMM"}}}}],uz:["uz","default",{name:"uz",englishName:"Uzbek",nativeName:"U'zbek",language:"uz",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],decimals:0,",":"",".":",",symbol:"so'm"}},calendars:{standard:{firstDay:1,days:{names:["yakshanba","dushanba","seshanba","chorshanba","payshanba","juma","shanba"],namesAbbr:["yak.","dsh.","sesh.","chr.","psh.","jm.","sh."],namesShort:["ya","d","s","ch","p","j","sh"]},months:{names:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""],namesAbbr:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""]},AM:null,PM:null,patterns:{d:"dd/MM yyyy",D:"yyyy 'yil' d-MMMM",t:"HH:mm",T:"HH:mm:ss",f:"yyyy 'yil' d-MMMM HH:mm",F:"yyyy 'yil' d-MMMM HH:mm:ss",M:"d-MMMM",Y:"MMMM yyyy"}}}}],tt:["tt","default",{name:"tt",englishName:"Tatar",nativeName:"",language:"tt",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".",".",".","","","",".",".",".",".",".",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:[".-",".-",".-",".-","","","",".-",".-",".-",".-",".-",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],bn:["bn","default",{name:"bn",englishName:"Bengali",nativeName:"",language:"bn",numberFormat:{groupSizes:[3,2],percent:{pattern:["-%n","%n"],groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",":":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".","","","","","",".",".",".",".",".",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH.mm",T:"HH.mm.ss",f:"dd MMMM yyyy HH.mm",F:"dd MMMM yyyy HH.mm.ss",M:"dd MMMM"}}}}],pa:["pa","default",{name:"pa",englishName:"Punjabi",nativeName:"",language:"pa",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy dddd",t:"tt hh:mm",T:"tt hh:mm:ss",f:"dd MMMM yyyy dddd tt hh:mm",F:"dd MMMM yyyy dddd tt hh:mm:ss",M:"dd MMMM"}}}}],gu:["gu","default",{name:"gu",englishName:"Gujarati",nativeName:"",language:"gu",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],or:["or","default",{name:"or",englishName:"Oriya",nativeName:"",language:"or",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","(",""],namesAbbr:["","","","","","","","","","","","(",""]},eras:[{name:"",start:null,offset:0}],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],ta:["ta","default",{name:"ta",englishName:"Tamil",nativeName:"",language:"ta",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],te:["te","default",{name:"te",englishName:"Telugu",nativeName:"",language:"te",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],kn:["kn","default",{name:"kn",englishName:"Kannada",nativeName:"",language:"kn",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],ml:["ml","default",{name:"ml",englishName:"Malayalam",nativeName:"",language:"ml",numberFormat:{groupSizes:[3,2],percent:{pattern:["-%n","%n"],groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",":":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH.mm",T:"HH.mm.ss",f:"dd MMMM yyyy HH.mm",F:"dd MMMM yyyy HH.mm.ss",M:"dd MMMM"}}}}],as:["as","default",{name:"as",englishName:"Assamese",nativeName:"",language:"as",numberFormat:{groupSizes:[3,2],percent:{pattern:["-n%","n%"],groupSizes:[3,2]},currency:{pattern:["$ -n","n$"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"dd-MM-yyyy",D:"yyyy,MMMM dd, dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"yyyy,MMMM dd, dddd tt h:mm",F:"yyyy,MMMM dd, dddd tt h:mm:ss",M:"dd MMMM",Y:"MMMM,yy"}}}}],mr:["mr","default",{name:"mr",englishName:"Marathi",nativeName:"",language:"mr",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".","","","","","","",".",".",".",".",""]},AM:["..","..",".."],PM:["..","..",".."],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],sa:["sa","default",{name:"sa",englishName:"Sanskrit",nativeName:"",language:"sa",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy dddd",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy dddd HH:mm",F:"dd MMMM yyyy dddd HH:mm:ss",M:"dd MMMM"}}}}],mn:["mn","default",{name:"mn",englishName:"Mongolian",nativeName:"",language:"mn",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""]},monthsGenitive:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""]},AM:null,PM:null,patterns:{d:"yy.MM.dd",D:"yyyy '' MMMM d",t:"H:mm",T:"H:mm:ss",f:"yyyy '' MMMM d H:mm",F:"yyyy '' MMMM d H:mm:ss",M:"d MMMM",Y:"yyyy '' MMMM"}}}}],bo:["bo","default",{name:"bo",englishName:"Tibetan",nativeName:"",language:"bo",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["$-n","$n"],groupSizes:[3,0],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[" "," "," "," "," "," "," "," "," "," "," "," ",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy'' M'' d",t:"HH:mm",T:"HH:mm:ss",f:"yyyy'' M'' d HH:mm",F:"yyyy'' M'' d HH:mm:ss",M:"'' M''d",Y:"yyyy.M"}}}}],cy:["cy","default",{name:"cy",englishName:"Welsh",nativeName:"Cymraeg",language:"cy",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],namesAbbr:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],namesShort:["Su","Ll","Ma","Me","Ia","Gw","Sa"]},months:{names:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr",""],namesAbbr:["Ion","Chwe","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rhag",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],km:["km","default",{name:"km",englishName:"Khmer",nativeName:"",language:"km",numberFormat:{pattern:["- n"],groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["-n$","n$"],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:[".",".",".","",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"..",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"d MMMM yyyy",t:"H:mm tt",T:"HH:mm:ss",f:"d MMMM yyyy H:mm tt",F:"d MMMM yyyy HH:mm:ss",M:"'' dd '' MM",Y:"'' MM '' yyyy"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm tt",T:"HH:mm:ss",f:"dddd, MMMM dd, yyyy H:mm tt",F:"dddd, MMMM dd, yyyy HH:mm:ss"}}}}],lo:["lo","default",{name:"lo",englishName:"Lao",nativeName:"",language:"lo",numberFormat:{pattern:["(n)"],groupSizes:[3,0],percent:{groupSizes:[3,0]},currency:{pattern:["(n$)","n$"],groupSizes:[3,0],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"H:mm tt",T:"HH:mm:ss",f:"dd MMMM yyyy H:mm tt",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],gl:["gl","default",{name:"gl",englishName:"Galician",nativeName:"galego",language:"gl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["domingo","luns","martes","mrcores","xoves","venres","sbado"],namesAbbr:["dom","luns","mar","mr","xov","ven","sb"],namesShort:["do","lu","ma","m","xo","ve","s"]},months:{names:["xaneiro","febreiro","marzo","abril","maio","xuo","xullo","agosto","setembro","outubro","novembro","decembro",""],namesAbbr:["xan","feb","mar","abr","maio","xu","xull","ago","set","out","nov","dec",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],kok:["kok","default",{name:"kok",englishName:"Konkani",nativeName:"",language:"kok",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["..","..",".."],PM:["..","..",".."],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],syr:["syr","default",{name:"syr",englishName:"Syriac",nativeName:"",language:"syr",isRTL:!0,numberFormat:{currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}}}}],si:["si","default",{name:"si",englishName:"Sinhala",nativeName:"",language:"si",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["($ n)","$ n"],symbol:"."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".",".",".",".",".",".",".",".",".",".",".",""]},AM:["..","..",".."],PM:["..","..",".."],eras:[{name:"..",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"yyyy MMMM'  'dd'  'dddd",f:"yyyy MMMM'  'dd'  'dddd h:mm tt",F:"yyyy MMMM'  'dd'  'dddd h:mm:ss tt",Y:"yyyy MMMM"}}}}],iu:["iu","default",{name:"iu",englishName:"Inuktitut",nativeName:"Inuktitut",language:"iu",numberFormat:{groupSizes:[3,0],percent:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["Naattiinguja","Naggajjau","Aippiq","Pingatsiq","Sitammiq","Tallirmiq","Sivataarvik"],namesAbbr:["Nat","Nag","Aip","Pi","Sit","Tal","Siv"],namesShort:["N","N","A","P","S","T","S"]},months:{names:["Jaannuari","Viivvuari","Maatsi","Iipuri","Mai","Juuni","Julai","Aaggiisi","Sitipiri","Utupiri","Nuvipiri","Tisipiri",""],namesAbbr:["Jan","Viv","Mas","Ipu","Mai","Jun","Jul","Agi","Sii","Uut","Nuv","Tis",""]},patterns:{d:"d/MM/yyyy",D:"ddd, MMMM dd,yyyy",f:"ddd, MMMM dd,yyyy h:mm tt",F:"ddd, MMMM dd,yyyy h:mm:ss tt"}}}}],am:["am","default",{name:"am",englishName:"Amharic",nativeName:"",language:"am",numberFormat:{decimals:1,groupSizes:[3,0],percent:{pattern:["-n%","n%"],decimals:1,groupSizes:[3,0]},currency:{pattern:["-$n","$n"],groupSizes:[3,0],symbol:"ETB"}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"  ",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"dddd '' MMMM d '' yyyy",f:"dddd '' MMMM d '' yyyy h:mm tt",F:"dddd '' MMMM d '' yyyy h:mm:ss tt",M:"MMMM d ",Y:"MMMM yyyy"}}}}],tzm:["tzm","default",{name:"tzm",englishName:"Tamazight",nativeName:"Tamazight",language:"tzm",numberFormat:{pattern:["n-"],",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],symbol:"DZD"}},calendars:{standard:{"/":"-",firstDay:6,days:{names:["Acer","Arime","Aram","Ahad","Amhadh","Sem","Sedh"],namesAbbr:["Ace","Ari","Ara","Aha","Amh","Sem","Sed"],namesShort:["Ac","Ar","Ar","Ah","Am","Se","Se"]},months:{names:["Yenayer","Furar","Maghres","Yebrir","Mayu","Yunyu","Yulyu","Ghuct","Cutenber","Ktuber","Wambir","Dujanbir",""],namesAbbr:["Yen","Fur","Mag","Yeb","May","Yun","Yul","Ghu","Cut","Ktu","Wam","Duj",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"dd MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM, yyyy H:mm",F:"dd MMMM, yyyy H:mm:ss",M:"dd MMMM"}}}}],ne:["ne","default",{name:"ne",englishName:"Nepali",nativeName:"",language:"ne",numberFormat:{groupSizes:[3,2],percent:{pattern:["-n%","n%"],groupSizes:[3,2]},currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"a.d.",start:null,offset:0}],patterns:{Y:"MMMM,yyyy"}}}}],fy:["fy","default",{name:"fy",englishName:"Frisian",nativeName:"Frysk",language:"fy",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["Snein","Moandei","Tiisdei","Woansdei","Tongersdei","Freed","Sneon"],namesAbbr:["Sn","Mo","Ti","Wo","To","Fr","Sn"],namesShort:["S","M","T","W","T","F","S"]},months:{names:["jannewaris","febrewaris","maart","april","maaie","juny","july","augustus","septimber","oktober","novimber","desimber",""],namesAbbr:["jann","febr","mrt","apr","maaie","jun","jul","aug","sept","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"d-M-yyyy",D:"dddd d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],ps:["ps","default",{name:"ps",englishName:"Pashto",nativeName:"",language:"ps",isRTL:!0,numberFormat:{pattern:["n-"],",":"",".":",",percent:{pattern:["%n-","%n"],",":"",".":","},currency:{pattern:["$n-","$n"],",":"",".":"",symbol:""}},calendars:{standard:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",f:"dd/MM/yyyy h:mm tt",F:"dd/MM/yyyy h:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_Localized:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","",""," ","","","",""," ","",""],namesAbbr:["","","","",""," ","","","",""," ","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:".",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy, dd, MMMM, dddd",f:"yyyy, dd, MMMM, dddd h:mm tt",F:"yyyy, dd, MMMM, dddd h:mm:ss tt",M:"d MMMM",Y:"MMMM yyyy"}}}}],fil:["fil","default",{name:"fil",englishName:"Filipino",nativeName:"Filipino",language:"fil",numberFormat:{currency:{symbol:"PhP"}},calendars:{standard:{days:{names:["Linggo","Lunes","Martes","Mierkoles","Huebes","Biernes","Sabado"],namesAbbr:["Lin","Lun","Mar","Mier","Hueb","Bier","Saba"],namesShort:["L","L","M","M","H","B","S"]},months:{names:["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Septyembre","Oktubre","Nobyembre","Disyembre",""],namesAbbr:["En","Peb","Mar","Abr","Mayo","Hun","Hul","Agos","Sept","Okt","Nob","Dis",""]},eras:[{name:"Anno Domini",start:null,offset:0}]}}}],dv:["dv","default",{name:"dv",englishName:"Divehi",nativeName:"",language:"dv",isRTL:!0,numberFormat:{currency:{pattern:["n $-","n $"],symbol:"."}},calendars:{standard:{name:"Hijri",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd/MM/yyyy HH:mm",F:"dd/MM/yyyy HH:mm:ss",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_Localized:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"dd/MM/yy",D:"ddd, yyyy MMMM dd",t:"HH:mm",T:"HH:mm:ss",f:"ddd, yyyy MMMM dd HH:mm",F:"ddd, yyyy MMMM dd HH:mm:ss",Y:"yyyy, MMMM"}}}}],ha:["ha","default",{name:"ha",englishName:"Hausa",nativeName:"Hausa",language:"ha",numberFormat:{currency:{pattern:["$-n","$ n"],symbol:"N"}},calendars:{standard:{days:{names:["Lahadi","Litinin","Talata","Laraba","Alhamis","Juma'a","Asabar"],namesAbbr:["Lah","Lit","Tal","Lar","Alh","Jum","Asa"],namesShort:["L","L","T","L","A","J","A"]},months:{names:["Januwaru","Febreru","Maris","Afrilu","Mayu","Yuni","Yuli","Agusta","Satumba","Oktocba","Nuwamba","Disamba",""],namesAbbr:["Jan","Feb","Mar","Afr","May","Yun","Yul","Agu","Sat","Okt","Nuw","Dis",""]},AM:["Safe","safe","SAFE"],PM:["Yamma","yamma","YAMMA"],eras:[{name:"AD",start:null,offset:0}],patterns:{d:"d/M/yyyy"}}}}],yo:["yo","default",{name:"yo",englishName:"Yoruba",nativeName:"Yoruba",language:"yo",numberFormat:{currency:{pattern:["$-n","$ n"],symbol:"N"}},calendars:{standard:{days:{names:["Aiku","Aje","Isegun","Ojo'ru","Ojo'bo","Eti","Abameta"],namesAbbr:["Aik","Aje","Ise","Ojo","Ojo","Eti","Aba"],namesShort:["A","A","I","O","O","E","A"]},months:{names:["Osu kinni","Osu keji","Osu keta","Osu kerin","Osu karun","Osu kefa","Osu keje","Osu kejo","Osu kesan","Osu kewa","Osu kokanla","Osu keresi",""],namesAbbr:["kin.","kej.","ket.","ker.","kar.","kef.","kej.","kej.","kes.","kew.","kok.","ker.",""]},AM:["Owuro","owuro","OWURO"],PM:["Ale","ale","ALE"],eras:[{name:"AD",start:null,offset:0}],patterns:{d:"d/M/yyyy"}}}}],quz:["quz","default",{name:"quz",englishName:"Quechua",nativeName:"runasimi",language:"quz",numberFormat:{",":".",".":",",percent:{pattern:["-%n","%n"],",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":",",symbol:"$b"}},calendars:{standard:{days:{names:["intichaw","killachaw","atipachaw","quyllurchaw","Ch' askachaw","Illapachaw","k'uychichaw"],namesAbbr:["int","kil","ati","quy","Ch'","Ill","k'u"],namesShort:["d","k","a","m","h","b","k"]},months:{names:["Qulla puquy","Hatun puquy","Pauqar waray","ayriwa","Aymuray","Inti raymi","Anta Sitwa","Qhapaq Sitwa","Uma raymi","Kantaray","Ayamarq'a","Kapaq Raymi",""],namesAbbr:["Qul","Hat","Pau","ayr","Aym","Int","Ant","Qha","Uma","Kan","Aya","Kap",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",Y:"MMMM' de 'yyyy"}}}}],nso:["nso","default",{name:"nso",englishName:"Sesotho sa Leboa",nativeName:"Sesotho sa Leboa",language:"nso",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["Lamorena","Moupologo","Labobedi","Laboraro","Labone","Labohlano","Mokibelo"],namesAbbr:["Lam","Mo","Lbb","Lbr","Lbn","Lbh","Mok"],namesShort:["L","M","L","L","L","L","M"]},months:{names:["Pherekgong","Hlakola","Mopitlo","Moranang","Mosegamanye","Ngoatoboego","Phuphu","Phato","Lewedi","Diphalana","Dibatsela","Manthole",""],namesAbbr:["Pher","Hlak","Mop","Mor","Mos","Ngwat","Phup","Phat","Lew","Dip","Dib","Man",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],ba:["ba","default",{name:"ba",englishName:"Bashkir",nativeName:"",language:"ba",numberFormat:{",":"",".":",",groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0],",":"",".":","},currency:{pattern:["-n $","n $"],groupSizes:[3,0],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"d MMMM yyyy ''",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '' H:mm",F:"d MMMM yyyy '' H:mm:ss",Y:"MMMM yyyy"}}}}],lb:["lb","default",{name:"lb",englishName:"Luxembourgish",nativeName:"Ltzebuergesch",language:"lb",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Sonndeg","Mindeg","Dnschdeg","Mttwoch","Donneschdeg","Freideg","Samschdeg"],namesAbbr:["Son","Mi","Dn","Mt","Don","Fre","Sam"],namesShort:["So","M","D","M","Do","Fr","Sa"]},months:{names:["Januar","Februar","Merz","Abrll","Mee","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Me","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],kl:["kl","default",{name:"kl",englishName:"Greenlandic",nativeName:"kalaallisut",language:"kl",numberFormat:{",":".",".":",",groupSizes:[3,0],percent:{groupSizes:[3,0],",":".",".":","},currency:{pattern:["$ -n","$ n"],groupSizes:[3,0],",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sapaat","ataasinngorneq","marlunngorneq","pingasunngorneq","sisamanngorneq","tallimanngorneq","arfininngorneq"],namesAbbr:["sap","ata","mar","ping","sis","tal","arf"],namesShort:["sa","at","ma","pi","si","ta","ar"]},months:{names:["januari","februari","martsi","apriili","maaji","juni","juli","aggusti","septembari","oktobari","novembari","decembari",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],ig:["ig","default",{name:"ig",englishName:"Igbo",nativeName:"Igbo",language:"ig",numberFormat:{currency:{pattern:["$-n","$ n"],symbol:"N"}},calendars:{standard:{days:{names:["Aiku","Aje","Isegun","Ojo'ru","Ojo'bo","Eti","Abameta"],namesAbbr:["Aik","Aje","Ise","Ojo","Ojo","Eti","Aba"],namesShort:["A","A","I","O","O","E","A"]},months:{names:["Onwa mbu","Onwa ibua","Onwa ato","Onwa ano","Onwa ise","Onwa isi","Onwa asa","Onwa asato","Onwa itolu","Onwa iri","Onwa iri n'ofu","Onwa iri n'ibua",""],namesAbbr:["mbu.","ibu.","ato.","ano.","ise","isi","asa","asa.","ito.","iri.","n'of.","n'ib.",""]},AM:["Ututu","ututu","UTUTU"],PM:["Efifie","efifie","EFIFIE"],eras:[{name:"AD",start:null,offset:0}],patterns:{d:"d/M/yyyy"}}}}],ii:["ii","default",{name:"ii",englishName:"Yi",nativeName:"",language:"ii",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy'' M'' d''",t:"tt h:mm",T:"H:mm:ss",f:"yyyy'' M'' d'' tt h:mm",F:"yyyy'' M'' d'' H:mm:ss",M:"M'' d''",Y:"yyyy'' M''"}}}}],arn:["arn","default",{name:"arn",englishName:"Mapudungun",nativeName:"Mapudungun",language:"arn",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":","}},calendars:{standard:{"/":"-",days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd-MM-yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],moh:["moh","default",{name:"moh",englishName:"Mohawk",nativeName:"Kanien'kha",language:"moh",numberFormat:{groupSizes:[3,0],percent:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["Awentatokent:ke","Awentatan'ke","Ratironhia'kehronn:ke","Soshne","Okaristiihne","Ronwaia'tanentaktonhne","Entkta"],namesShort:["S","M","T","W","T","F","S"]},months:{names:["Tsothohrk:Wa","Enniska","Ennisk:Wa","Onerahtkha","Onerahtohk:Wa","Ohiari:Ha","Ohiarihk:Wa","Seskha","Seskehk:Wa","Kentnha","Kentenhk:Wa","Tsothhrha",""]}}}}],br:["br","default",{name:"br",englishName:"Breton",nativeName:"brezhoneg",language:"br",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Sul","Lun","Meurzh","Merc'her","Yaou","Gwener","Sadorn"],namesAbbr:["Sul","Lun","Meu.","Mer.","Yaou","Gwe.","Sad."],namesShort:["Su","Lu","Mz","Mc","Ya","Gw","Sa"]},months:{names:["Genver","C'hwevrer","Meurzh","Ebrel","Mae","Mezheven","Gouere","Eost","Gwengolo","Here","Du","Kerzu",""],namesAbbr:["Gen.","C'hwe.","Meur.","Ebr.","Mae","Mezh.","Goue.","Eost","Gwen.","Here","Du","Kzu",""]},AM:null,PM:null,eras:[{name:"g. J.-K.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],ug:["ug","default",{name:"ug",englishName:"Uyghur",nativeName:"",language:"ug",isRTL:!0,numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1-","2-","3-","4-","5-","6-","7-","8-","9-","10-","11-","12-",""],namesAbbr:["1-","2-","3-","4-","5-","6-","7-","8-","9-","10-","11-","12-",""]},AM:[" "," "," "],PM:[" "," "," "],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy-M-d",D:"yyyy-'' MMMM d-''",t:"H:mm",T:"H:mm:ss",f:"yyyy-'' MMMM d-'' H:mm",F:"yyyy-'' MMMM d-'' H:mm:ss",M:"MMMM d'-'",Y:"yyyy-'' MMMM"}}}}],mi:["mi","default",{name:"mi",englishName:"Maori",nativeName:"Reo Mori",language:"mi",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["-$n","$n"]}},calendars:{standard:{firstDay:1,days:{names:["Rtapu","Rhina","Rt","Rapa","Rpare","Rmere","Rhoroi"],namesAbbr:["Ta","Hi","T","Apa","Pa","Me","Ho"],namesShort:["Ta","Hi","T","Aa","Pa","Me","Ho"]},months:{names:["Kohi-ttea","Hui-tanguru","Pout-te-rangi","Paenga-whwh","Haratua","Pipiri","Hngongoi","Here-turi-kk","Mahuru","Whiringa--nuku","Whiringa--rangi","Hakihea",""],namesAbbr:["Kohi","Hui","Pou","Pae","Hara","Pipi","Hngo","Here","Mahu","Nuku","Rangi","Haki",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"dd/MM/yyyy",D:"dddd, dd MMMM, yyyy",f:"dddd, dd MMMM, yyyy h:mm tt",F:"dddd, dd MMMM, yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM, yy"}}}}],oc:["oc","default",{name:"oc",englishName:"Occitan",nativeName:"Occitan",language:"oc",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dimenge","diluns","dimars","dimcres","dijus","divendres","dissabte"],namesAbbr:["dim.","lun.","mar.","mc.","ju.","ven.","sab."],namesShort:["di","lu","ma","m","j","ve","sa"]},months:{names:["genier","febrier","mar","abril","mai","junh","julh","agost","setembre","octobre","novembre","desembre",""],namesAbbr:["gen.","feb.","mar.","abr.","mai.","jun.","jul.","ag.","set.","oct.","nov.","des.",""]},monthsGenitive:{names:["de genier","de febrier","de mar","d'abril","de mai","de junh","de julh","d'agost","de setembre","d'octobre","de novembre","de desembre",""],namesAbbr:["gen.","feb.","mar.","abr.","mai.","jun.","jul.","ag.","set.","oct.","nov.","des.",""]},AM:null,PM:null,eras:[{name:"aprs Jsus-Crist",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd,' lo 'd MMMM' de 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd,' lo 'd MMMM' de 'yyyy HH:mm",F:"dddd,' lo 'd MMMM' de 'yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],co:["co","default",{name:"co",englishName:"Corsican",nativeName:"Corsu",language:"co",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dumenica","luni","marti","mercuri","ghjovi","venderi","sabbatu"],namesAbbr:["dum.","lun.","mar.","mer.","ghj.","ven.","sab."],namesShort:["du","lu","ma","me","gh","ve","sa"]},months:{names:["ghjennaghju","ferraghju","marzu","aprile","maghju","ghjunghju","lugliu","aostu","settembre","ottobre","nuvembre","dicembre",""],namesAbbr:["ghje","ferr","marz","apri","magh","ghju","lugl","aost","sett","otto","nuve","dice",""]},AM:null,PM:null,eras:[{name:"dopu J-C",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],gsw:["gsw","default",{name:"gsw",englishName:"Alsatian",nativeName:"Elsssisch",language:"gsw",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Sund","Mond","Dienschd","Mittwuch","Dunnerschd","Frid","Smschd"],namesAbbr:["Su.","Mo.","Di.","Mi.","Du.","Fr.","S."],namesShort:["Su","Mo","Di","Mi","Du","Fr","S"]},months:{names:["Jnner","Feverje","Mrz","pril","Mai","Jni","Jli","Augscht","September","Oktower","Nowember","Dezember",""],namesAbbr:["Jn.","Fev.","Mrz","Apr.","Mai","Jni","Jli","Aug.","Sept.","Okt.","Now.","Dez.",""]},AM:null,PM:null,eras:[{name:"Vor J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],sah:["sah","default",{name:"sah",englishName:"Yakut",nativeName:"",language:"sah",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["",""," "," "," "," "," "," "," ","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["",""," "," "," "," "," "," "," ","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"MM.dd.yyyy",D:"MMMM d yyyy '.'",t:"H:mm",T:"H:mm:ss",f:"MMMM d yyyy '.' H:mm",F:"MMMM d yyyy '.' H:mm:ss",Y:"MMMM yyyy '.'"}}}}],qut:["qut","default",{name:"qut",englishName:"K'iche",nativeName:"K'iche",language:"qut",numberFormat:{currency:{symbol:"Q"}},calendars:{standard:{days:{names:["juq'ij","kaq'ij","oxq'ij","kajq'ij","joq'ij","waqq'ij","wuqq'ij"],namesAbbr:["juq","kaq","oxq","kajq","joq","waqq","wuqq"],namesShort:["ju","ka","ox","ka","jo","wa","wu"]},months:{names:["nab'e ik'","ukab' ik'","rox ik'","ukaj ik'","uro' ik'","uwaq ik'","uwuq ik'","uwajxaq ik'","ub'elej ik'","ulaj ik'","ujulaj ik'","ukab'laj ik'",""],namesAbbr:["nab'e","ukab","rox","ukaj","uro","uwaq","uwuq","uwajxaq","ub'elej","ulaj","ujulaj","ukab'laj",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],rw:["rw","default",{name:"rw",englishName:"Kinyarwanda",nativeName:"Kinyarwanda",language:"rw",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["$-n","$ n"],",":"",".":",",symbol:"RWF"}},calendars:{standard:{days:{names:["Ku wa mbere","Ku wa kabiri","Ku wa gatatu","Ku wa kane","Ku wa gatanu","Ku wa gatandatu","Ku cyumweru"],namesAbbr:["mbe.","kab.","gat.","kan.","gat.","gat.","cyu."],namesShort:["mb","ka","ga","ka","ga","ga","cy"]},months:{names:["Mutarama","Gashyantare","Werurwe","Mata","Gicurasi","Kamena","Nyakanga","Kanama","Nzeli","Ukwakira","Ugushyingo","Ukuboza",""],namesAbbr:["Mut","Gas","Wer","Mat","Gic","Kam","Nya","Kan","Nze","Ukwa","Ugu","Uku",""]},AM:["saa moya z.m.","saa moya z.m.","SAA MOYA Z.M."],PM:["saa moya z.n.","saa moya z.n.","SAA MOYA Z.N."],eras:[{name:"AD",start:null,offset:0}]}}}],wo:["wo","default",{name:"wo",englishName:"Wolof",nativeName:"Wolof",language:"wo",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"XOF"}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],prs:["prs","default",{name:"prs",englishName:"Dari",nativeName:"",language:"prs",isRTL:!0,numberFormat:{pattern:["n-"],",":".",".":",",percent:{pattern:["%n-","%n"],",":".",".":","},currency:{pattern:["$n-","$n"],symbol:""}},calendars:{standard:{name:"Hijri",firstDay:5,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",f:"dd/MM/yyyy h:mm tt",F:"dd/MM/yyyy h:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_Localized:{firstDay:5,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:".",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy, dd, MMMM, dddd",f:"yyyy, dd, MMMM, dddd h:mm tt",F:"yyyy, dd, MMMM, dddd h:mm:ss tt",M:"d MMMM",Y:"MMMM yyyy"}}}}],gd:["gd","default",{name:"gd",englishName:"Scottish Gaelic",nativeName:"Gidhlig",language:"gd",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],namesAbbr:["Dm","Lua","Mi","Cia","Ard","Hao","Sat"],namesShort:["D","L","M","C","A","H","S"]},months:{names:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd",""],namesAbbr:["Fao","Gea","Mr","Gib","Ci","gm","Iuc","Ln","Sul","Dm","Sam","Db",""]},AM:["m","m","M"],PM:["f","f","F"],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ar-SA":["ar-SA","default",{name:"ar-SA",englishName:"Arabic (Saudi Arabia)",nativeName:" (  )",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_Localized:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"bg-BG":["bg-BG","default",{name:"bg-BG",englishName:"Bulgarian (Bulgaria)",nativeName:" ()",language:"bg",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"  ",start:null,offset:0}],patterns:{d:"d.M.yyyy '.'",D:"dd MMMM yyyy '.'",t:"HH:mm '.'",T:"HH:mm:ss '.'",f:"dd MMMM yyyy '.' HH:mm '.'",F:"dd MMMM yyyy '.' HH:mm:ss '.'",M:"dd MMMM",Y:"MMMM yyyy '.'"}}}}],"ca-ES":["ca-ES","default",{name:"ca-ES",englishName:"Catalan (Catalan)",nativeName:"catal (catal)",language:"ca",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],namesAbbr:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],namesShort:["dg","dl","dt","dc","dj","dv","ds"]},months:{names:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],namesAbbr:["gen","feb","mar","abr","maig","juny","jul","ag","set","oct","nov","des",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, d' / 'MMMM' / 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' / 'MMMM' / 'yyyy HH:mm",F:"dddd, d' / 'MMMM' / 'yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM' / 'yyyy"}}}}],"zh-TW":["zh-TW","default",{name:"zh-TW",englishName:"Chinese (Traditional, Taiwan)",nativeName:"()",language:"zh-CHT",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["-$n","$n"],symbol:"NT$"}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy''M''d''",t:"tt hh:mm",T:"tt hh:mm:ss",f:"yyyy''M''d'' tt hh:mm",F:"yyyy''M''d'' tt hh:mm:ss",M:"M''d''",Y:"yyyy''M''"}},Taiwan:{name:"Taiwan",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:1911}],twoDigitYearMax:99,patterns:{d:"yyyy/M/d",D:"yyyy''M''d''",t:"tt hh:mm",T:"tt hh:mm:ss",f:"yyyy''M''d'' tt hh:mm",F:"yyyy''M''d'' tt hh:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],"cs-CZ":["cs-CZ","default",{name:"cs-CZ",englishName:"Czech (Czech Republic)",nativeName:"etina (eskrepublika)",language:"cs",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"K"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],namesAbbr:["ne","po","t","st","t","p","so"],namesShort:["ne","po","t","st","t","p","so"]},months:{names:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},monthsGenitive:{names:["ledna","nora","bezna","dubna","kvtna","ervna","ervence","srpna","z","jna","listopadu","prosince",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["dop.","dop.","DOP."],PM:["odp.","odp.","ODP."],eras:[{name:"n. l.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"da-DK":["da-DK","default",{name:"da-DK",englishName:"Danish (Denmark)",nativeName:"dansk (Danmark)",language:"da",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","ma","ti","on","to","fr","l"],namesShort:["s","ma","ti","on","to","fr","l"]},months:{names:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"de-DE":["de-DE","default",{name:"de-DE",englishName:"German (Germany)",nativeName:"Deutsch (Deutschland)",language:"de",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"el-GR":["el-GR","default",{name:"el-GR",englishName:"Greek (Greece)",nativeName:" ()",language:"el",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"..",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"dddd, d MMMM yyyy",f:"dddd, d MMMM yyyy h:mm tt",F:"dddd, d MMMM yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"en-US":["en-US","default",{englishName:"English (United States)"}],"fi-FI":["fi-FI","default",{name:"fi-FI",englishName:"Finnish (Finland)",nativeName:"suomi (Suomi)",language:"fi",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],namesAbbr:["su","ma","ti","ke","to","pe","la"],namesShort:["su","ma","ti","ke","to","pe","la"]},months:{names:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],namesAbbr:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM'ta 'yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM'ta 'yyyy H:mm",F:"d. MMMM'ta 'yyyy H:mm:ss",M:"d. MMMM'ta'",Y:"MMMM yyyy"}}}}],"fr-FR":["fr-FR","default",{name:"fr-FR",englishName:"French (France)",nativeName:"franais (France)",language:"fr",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"he-IL":["he-IL","default",{name:"he-IL",englishName:"Hebrew (Israel)",nativeName:" ()",language:"he",isRTL:!0,numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$ n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},eras:[{name:"",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd dd MMMM yyyy HH:mm",F:"dddd dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}},Hebrew:{name:"Hebrew","/":" ",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","",""," ","","","","","",""],namesAbbr:["","","","","",""," ","","","","","",""]},eras:[{name:"C.E.",start:null,offset:0}],twoDigitYearMax:5790,patterns:{d:"dd MMMM yyyy",D:"dddd dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd dd MMMM yyyy HH:mm",F:"dddd dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"hu-HU":["hu-HU","default",{name:"hu-HU",englishName:"Hungarian (Hungary)",nativeName:"magyar (Magyarorszg)",language:"hu",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"Ft"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["vasrnap","htf","kedd","szerda","cstrtk","pntek","szombat"],namesAbbr:["V","H","K","Sze","Cs","P","Szo"],namesShort:["V","H","K","Sze","Cs","P","Szo"]},months:{names:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december",""],namesAbbr:["jan.","febr.","mrc.","pr.","mj.","jn.","jl.","aug.","szept.","okt.","nov.","dec.",""]},AM:["de.","de.","DE."],PM:["du.","du.","DU."],eras:[{name:"i.sz.",start:null,offset:0}],patterns:{d:"yyyy.MM.dd.",D:"yyyy. MMMM d.",t:"H:mm",T:"H:mm:ss",f:"yyyy. MMMM d. H:mm",F:"yyyy. MMMM d. H:mm:ss",M:"MMMM d.",Y:"yyyy. MMMM"}}}}],"is-IS":["is-IS","default",{name:"is-IS",englishName:"Icelandic (Iceland)",nativeName:"slenska (sland)",language:"is",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],decimals:0,",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sunnudagur","mnudagur","rijudagur","mivikudagur","fimmtudagur","fstudagur","laugardagur"],namesAbbr:["sun.","mn.","ri.","mi.","fim.","fs.","lau."],namesShort:["su","m","r","mi","fi","f","la"]},months:{names:["janar","febrar","mars","aprl","ma","jn","jl","gst","september","oktber","nvember","desember",""],namesAbbr:["jan.","feb.","mar.","apr.","ma","jn.","jl.","g.","sep.","okt.","nv.","des.",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"it-IT":["it-IT","default",{name:"it-IT",englishName:"Italian (Italy)",nativeName:"italiano (Italia)",language:"it",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],namesAbbr:["dom","lun","mar","mer","gio","ven","sab"],namesShort:["do","lu","ma","me","gi","ve","sa"]},months:{names:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],namesAbbr:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ja-JP":["ja-JP","default",{name:"ja-JP",englishName:"Japanese (Japan)",nativeName:" ()",language:"ja",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["-$n","$n"],decimals:0,symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/MM/dd",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}},Japanese:{name:"Japanese",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:1867},{name:"",start:-18121536e5,offset:1911},{name:"",start:-13576032e5,offset:1925},{name:"",start:6002208e4,offset:1988}],twoDigitYearMax:99,patterns:{d:"gg y/M/d",D:"gg y''M''d''",t:"H:mm",T:"H:mm:ss",f:"gg y''M''d'' H:mm",F:"gg y''M''d'' H:mm:ss",M:"M''d''",Y:"gg y''M''"}}}}],"ko-KR":["ko-KR","default",{name:"ko-KR",englishName:"Korean (Korea)",nativeName:" ()",language:"ko",numberFormat:{currency:{pattern:["-$n","$n"],decimals:0,symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"yyyy'' M'' d'' dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"yyyy'' M'' d'' dddd tt h:mm",F:"yyyy'' M'' d'' dddd tt h:mm:ss",M:"M'' d''",Y:"yyyy'' M''"}},Korean:{name:"Korean","/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:-2333}],twoDigitYearMax:4362,patterns:{d:"gg yyyy-MM-dd",D:"gg yyyy'' M'' d'' dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"gg yyyy'' M'' d'' dddd tt h:mm",F:"gg yyyy'' M'' d'' dddd tt h:mm:ss",M:"M'' d''",Y:"gg yyyy'' M''"}}}}],"nl-NL":["nl-NL","default",{name:"nl-NL",englishName:"Dutch (Netherlands)",nativeName:"Nederlands (Nederland)",language:"nl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],namesAbbr:["zo","ma","di","wo","do","vr","za"],namesShort:["zo","ma","di","wo","do","vr","za"]},months:{names:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],namesAbbr:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d-M-yyyy",D:"dddd d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"nb-NO":["nb-NO","default",{name:"nb-NO",englishName:"Norwegian, Bokml (Norway)",nativeName:"norsk, bokml (Norge)",language:"nb",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","ma","ti","on","to","fr","l"],namesShort:["s","ma","ti","on","to","fr","l"]},months:{names:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"pl-PL":["pl-PL","default",{name:"pl-PL",englishName:"Polish (Poland)",nativeName:"polski (Polska)",language:"pl",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"z"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],namesAbbr:["N","Pn","Wt","r","Cz","Pt","So"],namesShort:["N","Pn","Wt","r","Cz","Pt","So"]},months:{names:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie",""],namesAbbr:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru",""]},monthsGenitive:{names:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia",""],namesAbbr:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d MMMM yyyy HH:mm",F:"d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"pt-BR":["pt-BR","default",{name:"pt-BR",englishName:"Portuguese (Brazil)",nativeName:"Portugus (Brasil)",language:"pt",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:"R$"}},calendars:{standard:{days:{names:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],namesAbbr:["dom","seg","ter","qua","qui","sex","sb"],namesShort:["D","S","T","Q","Q","S","S"]},months:{names:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],namesAbbr:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, d' de 'MMMM' de 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' de 'MMMM' de 'yyyy HH:mm",F:"dddd, d' de 'MMMM' de 'yyyy HH:mm:ss",M:"dd' de 'MMMM",Y:"MMMM' de 'yyyy"}}}}],"rm-CH":["rm-CH","default",{name:"rm-CH",englishName:"Romansh (Switzerland)",nativeName:"Rumantsch (Svizra)",language:"rm",numberFormat:{",":"'",percent:{pattern:["-n%","n%"],",":"'"},currency:{pattern:["$-n","$ n"],",":"'",symbol:"fr."}},calendars:{standard:{firstDay:1,days:{names:["dumengia","glindesdi","mardi","mesemna","gievgia","venderdi","sonda"],namesAbbr:["du","gli","ma","me","gie","ve","so"],namesShort:["du","gli","ma","me","gie","ve","so"]},months:{names:["schaner","favrer","mars","avrigl","matg","zercladur","fanadur","avust","settember","october","november","december",""],namesAbbr:["schan","favr","mars","avr","matg","zercl","fan","avust","sett","oct","nov","dec",""]},AM:null,PM:null,eras:[{name:"s. Cr.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d MMMM yyyy HH:mm",F:"dddd, d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ro-RO":["ro-RO","default",{name:"ro-RO",englishName:"Romanian (Romania)",nativeName:"romn (Romnia)",language:"ro",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"lei"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["duminic","luni","mari","miercuri","joi","vineri","smbt"],namesAbbr:["D","L","Ma","Mi","J","V","S"],namesShort:["D","L","Ma","Mi","J","V","S"]},months:{names:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],namesAbbr:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d MMMM yyyy HH:mm",F:"d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"ru-RU":["ru-RU","default",{name:"ru-RU",englishName:"Russian (Russia)",nativeName:" ()",language:"ru",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy '.'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '.' H:mm",F:"d MMMM yyyy '.' H:mm:ss",Y:"MMMM yyyy"}}}}],"hr-HR":["hr-HR","default",{name:"hr-HR",englishName:"Croatian (Croatia)",nativeName:"hrvatski (Hrvatska)",language:"hr",numberFormat:{pattern:["- n"],",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kn"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sri","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["sijeanj","veljaa","oujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac",""],namesAbbr:["sij","vlj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro",""]},monthsGenitive:{names:["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenog","prosinca",""],namesAbbr:["sij","vlj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy.",D:"d. MMMM yyyy.",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy. H:mm",F:"d. MMMM yyyy. H:mm:ss",M:"d. MMMM"}}}}],"sk-SK":["sk-SK","default",{name:"sk-SK",englishName:"Slovak (Slovakia)",nativeName:"slovenina (Slovensk republika)",language:"sk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":". ",firstDay:1,days:{names:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],namesAbbr:["ne","po","ut","st","t","pi","so"],namesShort:["ne","po","ut","st","t","pi","so"]},months:{names:["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},monthsGenitive:{names:["janura","februra","marca","aprla","mja","jna","jla","augusta","septembra","oktbra","novembra","decembra",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:null,PM:null,eras:[{name:"n. l.",start:null,offset:0}],patterns:{d:"d. M. yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"sq-AL":["sq-AL","default",{name:"sq-AL",englishName:"Albanian (Albania)",nativeName:"shqipe (Shqipria)",language:"sq",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n$","n$"],",":".",".":",",symbol:"Lek"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["e diel","e hn","e mart","e mrkur","e enjte","e premte","e shtun"],namesAbbr:["Die","Hn","Mar","Mr","Enj","Pre","Sht"],namesShort:["Di","H","Ma","M","En","Pr","Sh"]},months:{names:["janar","shkurt","mars","prill","maj","qershor","korrik","gusht","shtator","tetor","nntor","dhjetor",""],namesAbbr:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gsh","Sht","Tet","Nn","Dhj",""]},AM:["PD","pd","PD"],PM:["MD","md","MD"],patterns:{d:"yyyy-MM-dd",D:"yyyy-MM-dd",t:"h:mm.tt",T:"h:mm:ss.tt",f:"yyyy-MM-dd h:mm.tt",F:"yyyy-MM-dd h:mm:ss.tt",Y:"yyyy-MM"}}}}],"sv-SE":["sv-SE","default",{name:"sv-SE",englishName:"Swedish (Sweden)",nativeName:"svenska (Sverige)",language:"sv",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","m","ti","on","to","fr","l"],namesShort:["s","m","ti","on","to","fr","l"]},months:{names:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"'den 'd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"'den 'd MMMM yyyy HH:mm",F:"'den 'd MMMM yyyy HH:mm:ss",M:"'den 'd MMMM",Y:"MMMM yyyy"}}}}],"th-TH":["th-TH","default",{name:"th-TH",englishName:"Thai (Thailand)",nativeName:" ()",language:"th",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{name:"ThaiBuddhist",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["..","..","..","..","..","..","..","..","..","..","..","..",""]},eras:[{name:"..",start:null,offset:-543}],twoDigitYearMax:2572,patterns:{d:"d/M/yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}},Gregorian_Localized:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["..","..","..","..","..","..","..","..","..","..","..","..",""]},patterns:{d:"d/M/yyyy",D:"''dddd'' d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"''dddd'' d MMMM yyyy H:mm",F:"''dddd'' d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"tr-TR":["tr-TR","default",{name:"tr-TR",englishName:"Turkish (Turkey)",nativeName:"Trke (Trkiye)",language:"tr",numberFormat:{",":".",".":",",percent:{pattern:["-%n","%n"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"TL"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],namesAbbr:["Paz","Pzt","Sal","ar","Per","Cum","Cmt"],namesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"]},months:{names:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk",""],namesAbbr:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"dd MMMM yyyy dddd",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy dddd HH:mm",F:"dd MMMM yyyy dddd HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ur-PK":["ur-PK","default",{name:"ur-PK",englishName:"Urdu (Islamic Republic of Pakistan)",nativeName:" ()",language:"ur",isRTL:!0,numberFormat:{currency:{pattern:["$n-","$n"],symbol:"Rs"}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",f:"dd MMMM, yyyy h:mm tt",F:"dd MMMM, yyyy h:mm:ss tt",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",f:"dd/MM/yyyy h:mm tt",F:"dd/MM/yyyy h:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}}}}],"id-ID":["id-ID","default",{name:"id-ID",englishName:"Indonesian (Indonesia)",nativeName:"Bahasa Indonesia (Indonesia)",language:"id",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{decimals:0,",":".",".":",",symbol:"Rp"}},calendars:{standard:{firstDay:1,days:{names:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],namesAbbr:["Minggu","Sen","Sel","Rabu","Kamis","Jumat","Sabtu"],namesShort:["M","S","S","R","K","J","S"]},months:{names:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember",""],namesAbbr:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agust","Sep","Okt","Nop","Des",""]},AM:null,PM:null,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM yyyy H:mm",F:"dd MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"uk-UA":["uk-UA","default",{name:"uk-UA",englishName:"Ukrainian (Ukraine)",nativeName:" ()",language:"uk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","'",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy' .'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy' .' H:mm",F:"d MMMM yyyy' .' H:mm:ss",M:"d MMMM",Y:"MMMM yyyy' .'"}}}}],"be-BY":["be-BY","default",{name:"be-BY",englishName:"Belarusian (Belarus)",nativeName:" ()",language:"be",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"sl-SI":["sl-SI","default",{name:"sl-SI",englishName:"Slovenian (Slovenia)",nativeName:"slovenski (Slovenija)",language:"sl",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljek","torek","sreda","etrtek","petek","sobota"],namesAbbr:["ned","pon","tor","sre","et","pet","sob"],namesShort:["ne","po","to","sr","e","pe","so"]},months:{names:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"et-EE":["et-EE","default",{name:"et-EE",englishName:"Estonian (Estonia)",nativeName:"eesti (Eesti)",language:"et",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["phapev","esmaspev","teisipev","kolmapev","neljapev","reede","laupev"],namesAbbr:["P","E","T","K","N","R","L"],namesShort:["P","E","T","K","N","R","L"]},months:{names:["jaanuar","veebruar","mrts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember",""],namesAbbr:["jaan","veebr","mrts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets",""]},AM:["EL","el","EL"],PM:["PL","pl","PL"],patterns:{d:"d.MM.yyyy",D:"d. MMMM yyyy'. a.'",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy'. a.' H:mm",F:"d. MMMM yyyy'. a.' H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy'. a.'"}}}}],"lv-LV":["lv-LV","default",{name:"lv-LV",englishName:"Latvian (Latvia)",nativeName:"latvieu (Latvija)",language:"lv",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-$ n","$ n"],",":"",".":",",symbol:"Ls"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["svtdiena","pirmdiena","otrdiena","trediena","ceturtdiena","piektdiena","sestdiena"],namesAbbr:["sv","pr","ot","tr","ce","pk","se"],namesShort:["sv","pr","ot","tr","ce","pk","se"]},months:{names:["janvris","februris","marts","aprlis","maijs","jnijs","jlijs","augusts","septembris","oktobris","novembris","decembris",""],namesAbbr:["jan","feb","mar","apr","mai","jn","jl","aug","sep","okt","nov","dec",""]},monthsGenitive:{names:["janvr","februr","mart","aprl","maij","jnij","jlij","august","septembr","oktobr","novembr","decembr",""],namesAbbr:["jan","feb","mar","apr","mai","jn","jl","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"yyyy.MM.dd.",D:"dddd, yyyy'. gada 'd. MMMM",t:"H:mm",T:"H:mm:ss",f:"dddd, yyyy'. gada 'd. MMMM H:mm",F:"dddd, yyyy'. gada 'd. MMMM H:mm:ss",M:"d. MMMM",Y:"yyyy. MMMM"}}}}],"lt-LT":["lt-LT","default",{name:"lt-LT",englishName:"Lithuanian (Lithuania)",nativeName:"lietuvi (Lietuva)",language:"lt",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"Lt"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sekmadienis","pirmadienis","antradienis","treiadienis","ketvirtadienis","penktadienis","etadienis"],namesAbbr:["Sk","Pr","An","Tr","Kt","Pn","t"],namesShort:["S","P","A","T","K","Pn",""]},months:{names:["sausis","vasaris","kovas","balandis","gegu","birelis","liepa","rugpjtis","rugsjis","spalis","lapkritis","gruodis",""],namesAbbr:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd",""]},monthsGenitive:{names:["sausio","vasario","kovo","balandio","gegus","birelio","liepos","rugpjio","rugsjo","spalio","lapkriio","gruodio",""],namesAbbr:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd",""]},AM:null,PM:null,patterns:{d:"yyyy.MM.dd",D:"yyyy 'm.' MMMM d 'd.'",t:"HH:mm",T:"HH:mm:ss",f:"yyyy 'm.' MMMM d 'd.' HH:mm",F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",M:"MMMM d 'd.'",Y:"yyyy 'm.' MMMM"}}}}],"tg-Cyrl-TJ":["tg-Cyrl-TJ","default",{name:"tg-Cyrl-TJ",englishName:"Tajik (Cyrillic, Tajikistan)",nativeName:" ()",language:"tg-Cyrl",numberFormat:{",":"",".":",",groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0],",":"",".":","},currency:{pattern:["-n $","n $"],groupSizes:[3,0],",":"",".":";",symbol:".."}},calendars:{standard:{"/":".",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",Y:"MMMM yyyy"}}}}],"fa-IR":["fa-IR","default",{name:"fa-IR",englishName:"Persian",nativeName:" ()",language:"fa",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],".":"/",symbol:""}},calendars:{standard:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_Localized:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],patterns:{d:"yyyy/MM/dd",D:"yyyy/MM/dd",t:"hh:mm tt",T:"hh:mm:ss tt",f:"yyyy/MM/dd hh:mm tt",F:"yyyy/MM/dd hh:mm:ss tt",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"vi-VN":["vi-VN","default",{name:"vi-VN",englishName:"Vietnamese (Vietnam)",nativeName:"Ting Vit (Vit Nam)",language:"vi",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Chu Nht","Th Hai","Th Ba","Th T","Th Nm","Th Sau","Th Bay"],namesAbbr:["CN","Hai","Ba","T","Nm","Sau","Bay"],namesShort:["C","H","B","T","N","S","B"]},months:{names:["Thang Ging","Thang Hai","Thang Ba","Thang T","Thang Nm","Thang Sau","Thang Bay","Thang Tam","Thang Chin","Thang Mi","Thang Mi Mt","Thang Mi Hai",""],namesAbbr:["Thg1","Thg2","Thg3","Thg4","Thg5","Thg6","Thg7","Thg8","Thg9","Thg10","Thg11","Thg12",""]},AM:["SA","sa","SA"],PM:["CH","ch","CH"],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",f:"dd MMMM yyyy h:mm tt",F:"dd MMMM yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"hy-AM":["hy-AM","default",{name:"hy-AM",englishName:"Armenian (Armenia)",nativeName:" ()",language:"hy",numberFormat:{currency:{pattern:["-n $","n $"],symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM, yyyy H:mm",F:"d MMMM, yyyy H:mm:ss",M:"d MMMM"}}}}],"az-Latn-AZ":["az-Latn-AZ","default",{name:"az-Latn-AZ",englishName:"Azeri (Latin, Azerbaijan)",nativeName:"Azrbaycanl (Azrbaycan)",language:"az-Latn",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"man."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Bazar","Bazarertsi","rnbaxam","rnb","Cmaxam","Cm","nb"],namesAbbr:["B","Be","a","","Ca","C",""],namesShort:["B","Be","a","","Ca","C",""]},months:{names:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avgust","Sentyabr","Oktyabr","Noyabr","Dekabr",""],namesAbbr:["Yan","Fev","Mar","Apr","May","yun","yul","Avg","Sen","Okt","Noy","Dek",""]},monthsGenitive:{names:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""],namesAbbr:["Yan","Fev","Mar","Apr","May","yun","yul","Avg","Sen","Okt","Noy","Dek",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"eu-ES":["eu-ES","default",{name:"eu-ES",englishName:"Basque (Basque)",nativeName:"euskara (euskara)",language:"eu",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],namesAbbr:["ig.","al.","as.","az.","og.","or.","lr."],namesShort:["ig","al","as","az","og","or","lr"]},months:{names:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],namesAbbr:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"yyyy/MM/dd",D:"dddd, yyyy.'eko' MMMM'k 'd",t:"HH:mm",T:"H:mm:ss",f:"dddd, yyyy.'eko' MMMM'k 'd HH:mm",F:"dddd, yyyy.'eko' MMMM'k 'd H:mm:ss",Y:"yyyy.'eko' MMMM"}}}}],"hsb-DE":["hsb-DE","default",{name:"hsb-DE",englishName:"Upper Sorbian (Germany)",nativeName:"hornjoserbina (Nmska)",language:"hsb",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":". ",firstDay:1,days:{names:["njedela","pndela","wutora","srjeda","twrtk","pjatk","sobota"],namesAbbr:["nje","pn","wut","srj","tw","pja","sob"],namesShort:["n","p","w","s","","p","s"]},months:{names:["januar","februar","mrc","apryl","meja","junij","julij","awgust","september","oktober","nowember","december",""],namesAbbr:["jan","feb","mr","apr","mej","jun","jul","awg","sep","okt","now","dec",""]},monthsGenitive:{names:["januara","februara","mrca","apryla","meje","junija","julija","awgusta","septembra","oktobra","nowembra","decembra",""],namesAbbr:["jan","feb","mr","apr","mej","jun","jul","awg","sep","okt","now","dec",""]},AM:null,PM:null,eras:[{name:"po Chr.",start:null,offset:0}],patterns:{d:"d. M. yyyy",D:"dddd, 'dnja' d. MMMM yyyy",t:"H.mm 'hod.'",T:"H:mm:ss",f:"dddd, 'dnja' d. MMMM yyyy H.mm 'hod.'",F:"dddd, 'dnja' d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"mk-MK":["mk-MK","default",{name:"mk-MK",englishName:"Macedonian (Former Yugoslav Republic of Macedonia)",nativeName:"  ()",language:"mk",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"dddd, dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, dd MMMM yyyy HH:mm",F:"dddd, dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"tn-ZA":["tn-ZA","default",{name:"tn-ZA",englishName:"Setswana (South Africa)",nativeName:"Setswana (Aforika Borwa)",language:"tn",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["Latshipi","Mosupologo","Labobedi","Laboraro","Labone","Labotlhano","Lamatlhatso"],namesAbbr:["Ltp.","Mos.","Lbd.","Lbr.","Lbn.","Lbt.","Lmt."],namesShort:["Lp","Ms","Lb","Lr","Ln","Lt","Lm"]},months:{names:["Ferikgong","Tlhakole","Mopitloe","Moranang","Motsheganong","Seetebosigo","Phukwi","Phatwe","Lwetse","Diphalane","Ngwanatsele","Sedimothole",""],namesAbbr:["Fer.","Tlhak.","Mop.","Mor.","Motsh.","Seet.","Phukw.","Phatw.","Lwets.","Diph.","Ngwan.","Sed.",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"xh-ZA":["xh-ZA","default",{name:"xh-ZA",englishName:"isiXhosa (South Africa)",nativeName:"isiXhosa (uMzantsi Afrika)",language:"xh",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["iCawa","uMvulo","uLwesibini","uLwesithathu","uLwesine","uLwesihlanu","uMgqibelo"],namesShort:["Ca","Mv","Lb","Lt","Ln","Lh","Mg"]},months:{names:["Mqungu","Mdumba","Kwindla","Tshazimpuzi","Canzibe","Silimela","Khala","Thupha","Msintsi","Dwarha","Nkanga","Mnga",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"zu-ZA":["zu-ZA","default",{name:"zu-ZA",englishName:"isiZulu (South Africa)",nativeName:"isiZulu (iNingizimu Afrika)",language:"zu",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["iSonto","uMsombuluko","uLwesibili","uLwesithathu","uLwesine","uLwesihlanu","uMgqibelo"],namesAbbr:["Son.","Mso.","Bi.","Tha.","Ne.","Hla.","Mgq."]},months:{names:["uMasingana","uNhlolanja","uNdasa","uMbaso","uNhlaba","uNhlangulana","uNtulikazi","uNcwaba","uMandulo","uMfumfu","uLwezi","uZibandlela",""],namesAbbr:["Mas.","Nhlo.","Nda.","Mba.","Nhla.","Nhlang.","Ntu.","Ncwa.","Man.","Mfu.","Lwe.","Zib.",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"af-ZA":["af-ZA","default",{name:"af-ZA",englishName:"Afrikaans (South Africa)",nativeName:"Afrikaans (Suid Afrika)",language:"af",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],namesAbbr:["Son","Maan","Dins","Woen","Dond","Vry","Sat"],namesShort:["So","Ma","Di","Wo","Do","Vr","Sa"]},months:{names:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember",""],namesAbbr:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ka-GE":["ka-GE","default",{name:"ka-GE",englishName:"Georgian (Georgia)",nativeName:" ()",language:"ka",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"Lari"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"yyyy '' dd MM, dddd",t:"H:mm",T:"H:mm:ss",f:"yyyy '' dd MM, dddd H:mm",F:"yyyy '' dd MM, dddd H:mm:ss",M:"dd MM",Y:"MMMM yyyy"}}}}],"fo-FO":["fo-FO","default",{name:"fo-FO",englishName:"Faroese (Faroe Islands)",nativeName:"froyskt (Froyar)",language:"fo",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sunnudagur","mnadagur","tsdagur","mikudagur","hsdagur","frggjadagur","leygardagur"],namesAbbr:["sun","mn","ts","mik","hs","fr","leyg"],namesShort:["su","m","t","mi","h","fr","ley"]},months:{names:["januar","februar","mars","aprl","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"hi-IN":["hi-IN","default",{name:"hi-IN",englishName:"Hindi (India)",nativeName:" ()",language:"hi",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"mt-MT":["mt-MT","default",{name:"mt-MT",englishName:"Maltese (Malta)",nativeName:"Malti (Malta)",language:"mt",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Il-add","It-Tnejn","It-Tlieta","L-Erbga","Il-amis","Il-imga","Is-Sibt"],namesAbbr:["ad","Tne","Tli","Erb","am","im","Sib"],namesShort:["I","I","I","L","I","I","I"]},months:{names:["Jannar","Frar","Marzu","April","Mejju","unju","Lulju","Awissu","Settembru","Ottubru","Novembru","Diembru",""],namesAbbr:["Jan","Fra","Mar","Apr","Mej","un","Lul","Awi","Set","Ott","Nov","Di",""]},patterns:{d:"dd/MM/yyyy",D:"dddd, d' ta\\' 'MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' ta\\' 'MMMM yyyy HH:mm",F:"dddd, d' ta\\' 'MMMM yyyy HH:mm:ss",M:"d' ta\\' 'MMMM",Y:"MMMM yyyy"}}}}],"se-NO":["se-NO","default",{name:"se-NO",englishName:"Sami, Northern (Norway)",nativeName:"davvismegiella (Norga)",language:"se",numberFormat:{",":"",".":",",percent:{pattern:["-%n","%n"],",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sotnabeaivi","vuossrga","maebrga","gaskavahkku","duorastat","bearjadat","lvvardat"],namesAbbr:["sotn","vuos","ma","gask","duor","bear","lv"],namesShort:["s","m","d","g","d","b","l"]},months:{names:["oajagemnnu","guovvamnnu","njukamnnu","cuoomnnu","miessemnnu","geassemnnu","suoidnemnnu","borgemnnu","akamnnu","golggotmnnu","skbmamnnu","juovlamnnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},monthsGenitive:{names:["oajagimnu","guovvamnu","njukamnu","cuoomnu","miessemnu","geassemnu","suoidnemnu","borgemnu","akamnu","golggotmnu","skbmamnu","juovlamnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"ms-MY":["ms-MY","default",{name:"ms-MY",englishName:"Malay (Malaysia)",nativeName:"Bahasa Melayu (Malaysia)",language:"ms",numberFormat:{currency:{decimals:0,symbol:"RM"}},calendars:{standard:{firstDay:1,days:{names:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],namesAbbr:["Ahad","Isnin","Sel","Rabu","Khamis","Jumaat","Sabtu"],namesShort:["A","I","S","R","K","J","S"]},months:{names:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember",""],namesAbbr:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogos","Sept","Okt","Nov","Dis",""]},AM:null,PM:null,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM yyyy H:mm",F:"dd MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"kk-KZ":["kk-KZ","default",{name:"kk-KZ",englishName:"Kazakh (Kazakhstan)",nativeName:" ()",language:"kk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-$n","$n"],",":"",".":"-",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy '.'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '.' H:mm",F:"d MMMM yyyy '.' H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"ky-KG":["ky-KG","default",{name:"ky-KG",englishName:"Kyrgyz (Kyrgyzstan)",nativeName:" ()",language:"ky",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":"-",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"d'-'MMMM yyyy'-.'",t:"H:mm",T:"H:mm:ss",f:"d'-'MMMM yyyy'-.' H:mm",F:"d'-'MMMM yyyy'-.' H:mm:ss",M:"d MMMM",Y:"MMMM yyyy'-.'"}}}}],"sw-KE":["sw-KE","default",{name:"sw-KE",englishName:"Kiswahili (Kenya)",nativeName:"Kiswahili (Kenya)",language:"sw",numberFormat:{currency:{symbol:"S"}},calendars:{standard:{days:{names:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],namesAbbr:["Jumap.","Jumat.","Juman.","Jumat.","Alh.","Iju.","Jumam."],namesShort:["P","T","N","T","A","I","M"]},months:{names:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Decemba",""],namesAbbr:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Dec",""]}}}}],"tk-TM":["tk-TM","default",{name:"tk-TM",englishName:"Turkmen (Turkmenistan)",nativeName:"trkmene (Trkmenistan)",language:"tk",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:"m."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Duenbe","Sienbe","arenbe","Penenbe","Anna","enbe","ekenbe"],namesAbbr:["Db","Sb","b","Pb","An","b","b"],namesShort:["D","S","","P","A","",""]},months:{names:["anwar","Fewral","Mart","Aprel","Ma","lun","lul","Awgust","Sentabr","Oktabr","Noabr","Dekabr",""],namesAbbr:["an","Few","Mart","Apr","Ma","lun","lul","Awg","Sen","Okt","Not","Dek",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"yyyy '.' MMMM d",t:"H:mm",T:"H:mm:ss",f:"yyyy '.' MMMM d H:mm",F:"yyyy '.' MMMM d H:mm:ss",Y:"yyyy '.' MMMM"}}}}],"uz-Latn-UZ":["uz-Latn-UZ","default",{name:"uz-Latn-UZ",englishName:"Uzbek (Latin, Uzbekistan)",nativeName:"U'zbek (U'zbekiston Respublikasi)",language:"uz-Latn",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],decimals:0,",":"",".":",",symbol:"so'm"}},calendars:{standard:{firstDay:1,days:{names:["yakshanba","dushanba","seshanba","chorshanba","payshanba","juma","shanba"],namesAbbr:["yak.","dsh.","sesh.","chr.","psh.","jm.","sh."],namesShort:["ya","d","s","ch","p","j","sh"]},months:{names:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""],namesAbbr:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""]},AM:null,PM:null,patterns:{d:"dd/MM yyyy",D:"yyyy 'yil' d-MMMM",t:"HH:mm",T:"HH:mm:ss",f:"yyyy 'yil' d-MMMM HH:mm",F:"yyyy 'yil' d-MMMM HH:mm:ss",M:"d-MMMM",Y:"MMMM yyyy"}}}}],"tt-RU":["tt-RU","default",{name:"tt-RU",englishName:"Tatar (Russia)",nativeName:" ()",language:"tt",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".",".",".","","","",".",".",".",".",".",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:[".-",".-",".-",".-","","","",".-",".-",".-",".-",".-",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"bn-IN":["bn-IN","default",{name:"bn-IN",englishName:"Bengali (India)",nativeName:" ()",language:"bn",numberFormat:{groupSizes:[3,2],percent:{pattern:["-%n","%n"],groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",":":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".","","","","","",".",".",".",".",".",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH.mm",T:"HH.mm.ss",f:"dd MMMM yyyy HH.mm",F:"dd MMMM yyyy HH.mm.ss",M:"dd MMMM"}}}}],"pa-IN":["pa-IN","default",{name:"pa-IN",englishName:"Punjabi (India)",nativeName:" ()",language:"pa",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy dddd",t:"tt hh:mm",T:"tt hh:mm:ss",f:"dd MMMM yyyy dddd tt hh:mm",F:"dd MMMM yyyy dddd tt hh:mm:ss",M:"dd MMMM"}}}}],"gu-IN":["gu-IN","default",{name:"gu-IN",englishName:"Gujarati (India)",nativeName:" ()",language:"gu",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"or-IN":["or-IN","default",{name:"or-IN",englishName:"Oriya (India)",nativeName:" ()",language:"or",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","(",""],namesAbbr:["","","","","","","","","","","","(",""]},eras:[{name:"",start:null,offset:0}],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"ta-IN":["ta-IN","default",{name:"ta-IN",englishName:"Tamil (India)",nativeName:" ()",language:"ta",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"te-IN":["te-IN","default",{name:"te-IN",englishName:"Telugu (India)",nativeName:" ()",language:"te",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"kn-IN":["kn-IN","default",{name:"kn-IN",englishName:"Kannada (India)",nativeName:" ()",language:"kn",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"ml-IN":["ml-IN","default",{name:"ml-IN",englishName:"Malayalam (India)",nativeName:" ()",language:"ml",numberFormat:{groupSizes:[3,2],percent:{pattern:["-%n","%n"],groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",":":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH.mm",T:"HH.mm.ss",f:"dd MMMM yyyy HH.mm",F:"dd MMMM yyyy HH.mm.ss",M:"dd MMMM"}}}}],"as-IN":["as-IN","default",{name:"as-IN",englishName:"Assamese (India)",nativeName:" ()",language:"as",numberFormat:{groupSizes:[3,2],percent:{pattern:["-n%","n%"],groupSizes:[3,2]},currency:{pattern:["$ -n","n$"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"dd-MM-yyyy",D:"yyyy,MMMM dd, dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"yyyy,MMMM dd, dddd tt h:mm",F:"yyyy,MMMM dd, dddd tt h:mm:ss",M:"dd MMMM",Y:"MMMM,yy"}}}}],"mr-IN":["mr-IN","default",{name:"mr-IN",englishName:"Marathi (India)",nativeName:" ()",language:"mr",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".","","","","","","",".",".",".",".",""]},AM:["..","..",".."],PM:["..","..",".."],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"sa-IN":["sa-IN","default",{name:"sa-IN",englishName:"Sanskrit (India)",nativeName:" ()",language:"sa",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy dddd",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy dddd HH:mm",F:"dd MMMM yyyy dddd HH:mm:ss",M:"dd MMMM"}}}}],"mn-MN":["mn-MN","default",{name:"mn-MN",englishName:"Mongolian (Cyrillic, Mongolia)",nativeName:" ()",language:"mn-Cyrl",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""]},monthsGenitive:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""]},AM:null,PM:null,patterns:{d:"yy.MM.dd",D:"yyyy '' MMMM d",t:"H:mm",T:"H:mm:ss",f:"yyyy '' MMMM d H:mm",F:"yyyy '' MMMM d H:mm:ss",M:"d MMMM",Y:"yyyy '' MMMM"}}}}],"bo-CN":["bo-CN","default",{name:"bo-CN",englishName:"Tibetan (PRC)",nativeName:" ()",language:"bo",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["$-n","$n"],groupSizes:[3,0],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[" "," "," "," "," "," "," "," "," "," "," "," ",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy'' M'' d",t:"HH:mm",T:"HH:mm:ss",f:"yyyy'' M'' d HH:mm",F:"yyyy'' M'' d HH:mm:ss",M:"'' M''d",Y:"yyyy.M"}}}}],"cy-GB":["cy-GB","default",{name:"cy-GB",englishName:"Welsh (United Kingdom)",nativeName:"Cymraeg (y Deyrnas Unedig)",language:"cy",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],namesAbbr:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],namesShort:["Su","Ll","Ma","Me","Ia","Gw","Sa"]},months:{names:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr",""],namesAbbr:["Ion","Chwe","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rhag",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"km-KH":["km-KH","default",{name:"km-KH",englishName:"Khmer (Cambodia)",nativeName:" ()",language:"km",numberFormat:{pattern:["- n"],groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["-n$","n$"],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:[".",".",".","",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"..",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"d MMMM yyyy",t:"H:mm tt",T:"HH:mm:ss",f:"d MMMM yyyy H:mm tt",F:"d MMMM yyyy HH:mm:ss",M:"'' dd '' MM",Y:"'' MM '' yyyy"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm tt",T:"HH:mm:ss",f:"dddd, MMMM dd, yyyy H:mm tt",F:"dddd, MMMM dd, yyyy HH:mm:ss"}}}}],"lo-LA":["lo-LA","default",{name:"lo-LA",englishName:"Lao (Lao P.D.R.)",nativeName:" (... )",language:"lo",numberFormat:{pattern:["(n)"],groupSizes:[3,0],percent:{groupSizes:[3,0]},currency:{pattern:["(n$)","n$"],groupSizes:[3,0],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"H:mm tt",T:"HH:mm:ss",f:"dd MMMM yyyy H:mm tt",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"gl-ES":["gl-ES","default",{name:"gl-ES",englishName:"Galician (Galician)",nativeName:"galego (galego)",language:"gl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["domingo","luns","martes","mrcores","xoves","venres","sbado"],namesAbbr:["dom","luns","mar","mr","xov","ven","sb"],namesShort:["do","lu","ma","m","xo","ve","s"]},months:{names:["xaneiro","febreiro","marzo","abril","maio","xuo","xullo","agosto","setembro","outubro","novembro","decembro",""],namesAbbr:["xan","feb","mar","abr","maio","xu","xull","ago","set","out","nov","dec",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"kok-IN":["kok-IN","default",{name:"kok-IN",englishName:"Konkani (India)",nativeName:" ()",language:"kok",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["..","..",".."],PM:["..","..",".."],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"syr-SY":["syr-SY","default",{name:"syr-SY",englishName:"Syriac (Syria)",nativeName:" ()",language:"syr",isRTL:!0,numberFormat:{currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}}}}],"si-LK":["si-LK","default",{name:"si-LK",englishName:"Sinhala (Sri Lanka)",nativeName:" ( )",language:"si",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["($ n)","$ n"],symbol:"."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".",".",".",".",".",".",".",".",".",".",".",""]},AM:["..","..",".."],PM:["..","..",".."],eras:[{name:"..",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"yyyy MMMM'  'dd'  'dddd",f:"yyyy MMMM'  'dd'  'dddd h:mm tt",F:"yyyy MMMM'  'dd'  'dddd h:mm:ss tt",Y:"yyyy MMMM"}}}}],"iu-Cans-CA":["iu-Cans-CA","default",{name:"iu-Cans-CA",englishName:"Inuktitut (Syllabics, Canada)",nativeName:" ()",language:"iu-Cans",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},patterns:{d:"d/M/yyyy",D:"dddd,MMMM dd,yyyy",f:"dddd,MMMM dd,yyyy h:mm tt",F:"dddd,MMMM dd,yyyy h:mm:ss tt",Y:"MMMM,yyyy"}}}}],"am-ET":["am-ET","default",{name:"am-ET",englishName:"Amharic (Ethiopia)",nativeName:" ()",language:"am",numberFormat:{decimals:1,groupSizes:[3,0],percent:{pattern:["-n%","n%"],decimals:1,groupSizes:[3,0]},currency:{pattern:["-$n","$n"],groupSizes:[3,0],symbol:"ETB"}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"  ",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"dddd '' MMMM d '' yyyy",f:"dddd '' MMMM d '' yyyy h:mm tt",F:"dddd '' MMMM d '' yyyy h:mm:ss tt",M:"MMMM d ",Y:"MMMM yyyy"}}}}],"ne-NP":["ne-NP","default",{name:"ne-NP",englishName:"Nepali (Nepal)",nativeName:" ()",language:"ne",numberFormat:{groupSizes:[3,2],percent:{pattern:["-n%","n%"],groupSizes:[3,2]},currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"a.d.",start:null,offset:0}],patterns:{Y:"MMMM,yyyy"}}}}],"fy-NL":["fy-NL","default",{name:"fy-NL",englishName:"Frisian (Netherlands)",nativeName:"Frysk (Nederln)",language:"fy",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["Snein","Moandei","Tiisdei","Woansdei","Tongersdei","Freed","Sneon"],namesAbbr:["Sn","Mo","Ti","Wo","To","Fr","Sn"],namesShort:["S","M","T","W","T","F","S"]},months:{names:["jannewaris","febrewaris","maart","april","maaie","juny","july","augustus","septimber","oktober","novimber","desimber",""],namesAbbr:["jann","febr","mrt","apr","maaie","jun","jul","aug","sept","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"d-M-yyyy",D:"dddd d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ps-AF":["ps-AF","default",{name:"ps-AF",englishName:"Pashto (Afghanistan)",nativeName:" ()",language:"ps",isRTL:!0,numberFormat:{pattern:["n-"],",":"",".":",",percent:{pattern:["%n-","%n"],",":"",".":","},currency:{pattern:["$n-","$n"],",":"",".":"",symbol:""}},calendars:{standard:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",f:"dd/MM/yyyy h:mm tt",F:"dd/MM/yyyy h:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_Localized:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","",""," ","","","",""," ","",""],namesAbbr:["","","","",""," ","","","",""," ","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:".",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy, dd, MMMM, dddd",f:"yyyy, dd, MMMM, dddd h:mm tt",F:"yyyy, dd, MMMM, dddd h:mm:ss tt",M:"d MMMM",Y:"MMMM yyyy"}}}}],"fil-PH":["fil-PH","default",{name:"fil-PH",englishName:"Filipino (Philippines)",nativeName:"Filipino (Pilipinas)",language:"fil",numberFormat:{currency:{symbol:"PhP"}},calendars:{standard:{days:{names:["Linggo","Lunes","Martes","Mierkoles","Huebes","Biernes","Sabado"],namesAbbr:["Lin","Lun","Mar","Mier","Hueb","Bier","Saba"],namesShort:["L","L","M","M","H","B","S"]},months:{names:["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Septyembre","Oktubre","Nobyembre","Disyembre",""],namesAbbr:["En","Peb","Mar","Abr","Mayo","Hun","Hul","Agos","Sept","Okt","Nob","Dis",""]},eras:[{name:"Anno Domini",start:null,offset:0}]}}}],"dv-MV":["dv-MV","default",{name:"dv-MV",englishName:"Divehi (Maldives)",nativeName:" ( )",language:"dv",isRTL:!0,numberFormat:{currency:{pattern:["n $-","n $"],symbol:"."}},calendars:{standard:{name:"Hijri",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd/MM/yyyy HH:mm",F:"dd/MM/yyyy HH:mm:ss",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_Localized:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"dd/MM/yy",D:"ddd, yyyy MMMM dd",t:"HH:mm",T:"HH:mm:ss",f:"ddd, yyyy MMMM dd HH:mm",F:"ddd, yyyy MMMM dd HH:mm:ss",Y:"yyyy, MMMM"}}}}],"ha-Latn-NG":["ha-Latn-NG","default",{name:"ha-Latn-NG",englishName:"Hausa (Latin, Nigeria)",nativeName:"Hausa (Nigeria)",language:"ha-Latn",numberFormat:{currency:{pattern:["$-n","$ n"],symbol:"N"}},calendars:{standard:{days:{names:["Lahadi","Litinin","Talata","Laraba","Alhamis","Juma'a","Asabar"],namesAbbr:["Lah","Lit","Tal","Lar","Alh","Jum","Asa"],namesShort:["L","L","T","L","A","J","A"]},months:{names:["Januwaru","Febreru","Maris","Afrilu","Mayu","Yuni","Yuli","Agusta","Satumba","Oktocba","Nuwamba","Disamba",""],namesAbbr:["Jan","Feb","Mar","Afr","May","Yun","Yul","Agu","Sat","Okt","Nuw","Dis",""]},AM:["Safe","safe","SAFE"],PM:["Yamma","yamma","YAMMA"],eras:[{name:"AD",start:null,offset:0}],patterns:{d:"d/M/yyyy"}}}}],"yo-NG":["yo-NG","default",{name:"yo-NG",englishName:"Yoruba (Nigeria)",nativeName:"Yoruba (Nigeria)",language:"yo",numberFormat:{currency:{pattern:["$-n","$ n"],symbol:"N"}},calendars:{standard:{days:{names:["Aiku","Aje","Isegun","Ojo'ru","Ojo'bo","Eti","Abameta"],namesAbbr:["Aik","Aje","Ise","Ojo","Ojo","Eti","Aba"],namesShort:["A","A","I","O","O","E","A"]},months:{names:["Osu kinni","Osu keji","Osu keta","Osu kerin","Osu karun","Osu kefa","Osu keje","Osu kejo","Osu kesan","Osu kewa","Osu kokanla","Osu keresi",""],namesAbbr:["kin.","kej.","ket.","ker.","kar.","kef.","kej.","kej.","kes.","kew.","kok.","ker.",""]},AM:["Owuro","owuro","OWURO"],PM:["Ale","ale","ALE"],eras:[{name:"AD",start:null,offset:0}],patterns:{d:"d/M/yyyy"}}}}],"quz-BO":["quz-BO","default",{name:"quz-BO",englishName:"Quechua (Bolivia)",nativeName:"runasimi (Qullasuyu)",language:"quz",numberFormat:{",":".",".":",",percent:{pattern:["-%n","%n"],",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":",",symbol:"$b"}},calendars:{standard:{days:{names:["intichaw","killachaw","atipachaw","quyllurchaw","Ch' askachaw","Illapachaw","k'uychichaw"],namesAbbr:["int","kil","ati","quy","Ch'","Ill","k'u"],namesShort:["d","k","a","m","h","b","k"]},months:{names:["Qulla puquy","Hatun puquy","Pauqar waray","ayriwa","Aymuray","Inti raymi","Anta Sitwa","Qhapaq Sitwa","Uma raymi","Kantaray","Ayamarq'a","Kapaq Raymi",""],namesAbbr:["Qul","Hat","Pau","ayr","Aym","Int","Ant","Qha","Uma","Kan","Aya","Kap",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",Y:"MMMM' de 'yyyy"}}}}],"nso-ZA":["nso-ZA","default",{name:"nso-ZA",englishName:"Sesotho sa Leboa (South Africa)",nativeName:"Sesotho sa Leboa (Afrika Borwa)",language:"nso",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$-n","$ n"],symbol:"R"}},calendars:{standard:{days:{names:["Lamorena","Moupologo","Labobedi","Laboraro","Labone","Labohlano","Mokibelo"],namesAbbr:["Lam","Mo","Lbb","Lbr","Lbn","Lbh","Mok"],namesShort:["L","M","L","L","L","L","M"]},months:{names:["Pherekgong","Hlakola","Mopitlo","Moranang","Mosegamanye","Ngoatoboego","Phuphu","Phato","Lewedi","Diphalana","Dibatsela","Manthole",""],namesAbbr:["Pher","Hlak","Mop","Mor","Mos","Ngwat","Phup","Phat","Lew","Dip","Dib","Man",""]},patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ba-RU":["ba-RU","default",{name:"ba-RU",englishName:"Bashkir (Russia)",nativeName:" ()",language:"ba",numberFormat:{",":"",".":",",groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0],",":"",".":","},currency:{pattern:["-n $","n $"],groupSizes:[3,0],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"d MMMM yyyy ''",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '' H:mm",F:"d MMMM yyyy '' H:mm:ss",Y:"MMMM yyyy"}}}}],"lb-LU":["lb-LU","default",{name:"lb-LU",englishName:"Luxembourgish (Luxembourg)",nativeName:"Ltzebuergesch (Luxembourg)",language:"lb",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Sonndeg","Mindeg","Dnschdeg","Mttwoch","Donneschdeg","Freideg","Samschdeg"],namesAbbr:["Son","Mi","Dn","Mt","Don","Fre","Sam"],namesShort:["So","M","D","M","Do","Fr","Sa"]},months:{names:["Januar","Februar","Merz","Abrll","Mee","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Me","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"kl-GL":["kl-GL","default",{name:"kl-GL",englishName:"Greenlandic (Greenland)",nativeName:"kalaallisut (Kalaallit Nunaat)",language:"kl",numberFormat:{",":".",".":",",groupSizes:[3,0],percent:{groupSizes:[3,0],",":".",".":","},currency:{pattern:["$ -n","$ n"],groupSizes:[3,0],",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sapaat","ataasinngorneq","marlunngorneq","pingasunngorneq","sisamanngorneq","tallimanngorneq","arfininngorneq"],namesAbbr:["sap","ata","mar","ping","sis","tal","arf"],namesShort:["sa","at","ma","pi","si","ta","ar"]},months:{names:["januari","februari","martsi","apriili","maaji","juni","juli","aggusti","septembari","oktobari","novembari","decembari",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"ig-NG":["ig-NG","default",{name:"ig-NG",englishName:"Igbo (Nigeria)",nativeName:"Igbo (Nigeria)",language:"ig",numberFormat:{currency:{pattern:["$-n","$ n"],symbol:"N"}},calendars:{standard:{days:{names:["Aiku","Aje","Isegun","Ojo'ru","Ojo'bo","Eti","Abameta"],namesAbbr:["Aik","Aje","Ise","Ojo","Ojo","Eti","Aba"],namesShort:["A","A","I","O","O","E","A"]},months:{names:["Onwa mbu","Onwa ibua","Onwa ato","Onwa ano","Onwa ise","Onwa isi","Onwa asa","Onwa asato","Onwa itolu","Onwa iri","Onwa iri n'ofu","Onwa iri n'ibua",""],namesAbbr:["mbu.","ibu.","ato.","ano.","ise","isi","asa","asa.","ito.","iri.","n'of.","n'ib.",""]},AM:["Ututu","ututu","UTUTU"],PM:["Efifie","efifie","EFIFIE"],eras:[{name:"AD",start:null,offset:0}],patterns:{d:"d/M/yyyy"}}}}],"ii-CN":["ii-CN","default",{name:"ii-CN",englishName:"Yi (PRC)",nativeName:" ()",language:"ii",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy'' M'' d''",t:"tt h:mm",T:"H:mm:ss",f:"yyyy'' M'' d'' tt h:mm",F:"yyyy'' M'' d'' H:mm:ss",M:"M'' d''",Y:"yyyy'' M''"}}}}],"arn-CL":["arn-CL","default",{name:"arn-CL",englishName:"Mapudungun (Chile)",nativeName:"Mapudungun (Chile)",language:"arn",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":","}},calendars:{standard:{"/":"-",days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd-MM-yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"moh-CA":["moh-CA","default",{name:"moh-CA",englishName:"Mohawk (Mohawk)",nativeName:"Kanien'kha",language:"moh",numberFormat:{groupSizes:[3,0],percent:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["Awentatokent:ke","Awentatan'ke","Ratironhia'kehronn:ke","Soshne","Okaristiihne","Ronwaia'tanentaktonhne","Entkta"],namesShort:["S","M","T","W","T","F","S"]},months:{names:["Tsothohrk:Wa","Enniska","Ennisk:Wa","Onerahtkha","Onerahtohk:Wa","Ohiari:Ha","Ohiarihk:Wa","Seskha","Seskehk:Wa","Kentnha","Kentenhk:Wa","Tsothhrha",""]}}}}],"br-FR":["br-FR","default",{name:"br-FR",englishName:"Breton (France)",nativeName:"brezhoneg (Fras)",language:"br",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Sul","Lun","Meurzh","Merc'her","Yaou","Gwener","Sadorn"],namesAbbr:["Sul","Lun","Meu.","Mer.","Yaou","Gwe.","Sad."],namesShort:["Su","Lu","Mz","Mc","Ya","Gw","Sa"]},months:{names:["Genver","C'hwevrer","Meurzh","Ebrel","Mae","Mezheven","Gouere","Eost","Gwengolo","Here","Du","Kerzu",""],namesAbbr:["Gen.","C'hwe.","Meur.","Ebr.","Mae","Mezh.","Goue.","Eost","Gwen.","Here","Du","Kzu",""]},AM:null,PM:null,eras:[{name:"g. J.-K.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"ug-CN":["ug-CN","default",{name:"ug-CN",englishName:"Uyghur (PRC)",nativeName:" (  )",language:"ug",isRTL:!0,numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{"/":"-",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1-","2-","3-","4-","5-","6-","7-","8-","9-","10-","11-","12-",""],namesAbbr:["1-","2-","3-","4-","5-","6-","7-","8-","9-","10-","11-","12-",""]},AM:[" "," "," "],PM:[" "," "," "],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy-M-d",D:"yyyy-'' MMMM d-''",t:"H:mm",T:"H:mm:ss",f:"yyyy-'' MMMM d-'' H:mm",F:"yyyy-'' MMMM d-'' H:mm:ss",M:"MMMM d'-'",Y:"yyyy-'' MMMM"}}}}],"mi-NZ":["mi-NZ","default",{name:"mi-NZ",englishName:"Maori (New Zealand)",nativeName:"Reo Mori (Aotearoa)",language:"mi",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["-$n","$n"]}},calendars:{standard:{firstDay:1,days:{names:["Rtapu","Rhina","Rt","Rapa","Rpare","Rmere","Rhoroi"],namesAbbr:["Ta","Hi","T","Apa","Pa","Me","Ho"],namesShort:["Ta","Hi","T","Aa","Pa","Me","Ho"]},months:{names:["Kohi-ttea","Hui-tanguru","Pout-te-rangi","Paenga-whwh","Haratua","Pipiri","Hngongoi","Here-turi-kk","Mahuru","Whiringa--nuku","Whiringa--rangi","Hakihea",""],namesAbbr:["Kohi","Hui","Pou","Pae","Hara","Pipi","Hngo","Here","Mahu","Nuku","Rangi","Haki",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"dd/MM/yyyy",D:"dddd, dd MMMM, yyyy",f:"dddd, dd MMMM, yyyy h:mm tt",F:"dddd, dd MMMM, yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM, yy"}}}}],"oc-FR":["oc-FR","default",{name:"oc-FR",englishName:"Occitan (France)",nativeName:"Occitan (Frana)",language:"oc",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dimenge","diluns","dimars","dimcres","dijus","divendres","dissabte"],namesAbbr:["dim.","lun.","mar.","mc.","ju.","ven.","sab."],namesShort:["di","lu","ma","m","j","ve","sa"]},months:{names:["genier","febrier","mar","abril","mai","junh","julh","agost","setembre","octobre","novembre","desembre",""],namesAbbr:["gen.","feb.","mar.","abr.","mai.","jun.","jul.","ag.","set.","oct.","nov.","des.",""]},monthsGenitive:{names:["de genier","de febrier","de mar","d'abril","de mai","de junh","de julh","d'agost","de setembre","d'octobre","de novembre","de desembre",""],namesAbbr:["gen.","feb.","mar.","abr.","mai.","jun.","jul.","ag.","set.","oct.","nov.","des.",""]},AM:null,PM:null,eras:[{name:"aprs Jsus-Crist",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd,' lo 'd MMMM' de 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd,' lo 'd MMMM' de 'yyyy HH:mm",F:"dddd,' lo 'd MMMM' de 'yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"co-FR":["co-FR","default",{name:"co-FR",englishName:"Corsican (France)",nativeName:"Corsu (France)",language:"co",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dumenica","luni","marti","mercuri","ghjovi","venderi","sabbatu"],namesAbbr:["dum.","lun.","mar.","mer.","ghj.","ven.","sab."],namesShort:["du","lu","ma","me","gh","ve","sa"]},months:{names:["ghjennaghju","ferraghju","marzu","aprile","maghju","ghjunghju","lugliu","aostu","settembre","ottobre","nuvembre","dicembre",""],namesAbbr:["ghje","ferr","marz","apri","magh","ghju","lugl","aost","sett","otto","nuve","dice",""]},AM:null,PM:null,eras:[{name:"dopu J-C",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"gsw-FR":["gsw-FR","default",{name:"gsw-FR",englishName:"Alsatian (France)",nativeName:"Elsssisch (Frnkrisch)",language:"gsw",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Sund","Mond","Dienschd","Mittwuch","Dunnerschd","Frid","Smschd"],namesAbbr:["Su.","Mo.","Di.","Mi.","Du.","Fr.","S."],namesShort:["Su","Mo","Di","Mi","Du","Fr","S"]},months:{names:["Jnner","Feverje","Mrz","pril","Mai","Jni","Jli","Augscht","September","Oktower","Nowember","Dezember",""],namesAbbr:["Jn.","Fev.","Mrz","Apr.","Mai","Jni","Jli","Aug.","Sept.","Okt.","Now.","Dez.",""]},AM:null,PM:null,eras:[{name:"Vor J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"sah-RU":["sah-RU","default",{name:"sah-RU",englishName:"Yakut (Russia)",nativeName:" ()",language:"sah",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["",""," "," "," "," "," "," "," ","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["",""," "," "," "," "," "," "," ","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"MM.dd.yyyy",D:"MMMM d yyyy '.'",t:"H:mm",T:"H:mm:ss",f:"MMMM d yyyy '.' H:mm",F:"MMMM d yyyy '.' H:mm:ss",Y:"MMMM yyyy '.'"}}}}],"qut-GT":["qut-GT","default",{name:"qut-GT",englishName:"K'iche (Guatemala)",nativeName:"K'iche (Guatemala)",language:"qut",numberFormat:{currency:{symbol:"Q"}},calendars:{standard:{days:{names:["juq'ij","kaq'ij","oxq'ij","kajq'ij","joq'ij","waqq'ij","wuqq'ij"],namesAbbr:["juq","kaq","oxq","kajq","joq","waqq","wuqq"],namesShort:["ju","ka","ox","ka","jo","wa","wu"]},months:{names:["nab'e ik'","ukab' ik'","rox ik'","ukaj ik'","uro' ik'","uwaq ik'","uwuq ik'","uwajxaq ik'","ub'elej ik'","ulaj ik'","ujulaj ik'","ukab'laj ik'",""],namesAbbr:["nab'e","ukab","rox","ukaj","uro","uwaq","uwuq","uwajxaq","ub'elej","ulaj","ujulaj","ukab'laj",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"rw-RW":["rw-RW","default",{name:"rw-RW",englishName:"Kinyarwanda (Rwanda)",nativeName:"Kinyarwanda (Rwanda)",language:"rw",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["$-n","$ n"],",":"",".":",",symbol:"RWF"}},calendars:{standard:{days:{names:["Ku wa mbere","Ku wa kabiri","Ku wa gatatu","Ku wa kane","Ku wa gatanu","Ku wa gatandatu","Ku cyumweru"],namesAbbr:["mbe.","kab.","gat.","kan.","gat.","gat.","cyu."],namesShort:["mb","ka","ga","ka","ga","ga","cy"]},months:{names:["Mutarama","Gashyantare","Werurwe","Mata","Gicurasi","Kamena","Nyakanga","Kanama","Nzeli","Ukwakira","Ugushyingo","Ukuboza",""],namesAbbr:["Mut","Gas","Wer","Mat","Gic","Kam","Nya","Kan","Nze","Ukwa","Ugu","Uku",""]},AM:["saa moya z.m.","saa moya z.m.","SAA MOYA Z.M."],PM:["saa moya z.n.","saa moya z.n.","SAA MOYA Z.N."],eras:[{name:"AD",start:null,offset:0}]}}}],"wo-SN":["wo-SN","default",{name:"wo-SN",englishName:"Wolof (Senegal)",nativeName:"Wolof (Sngal)",language:"wo",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"XOF"}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"prs-AF":["prs-AF","default",{name:"prs-AF",englishName:"Dari (Afghanistan)",nativeName:" ()",language:"prs",isRTL:!0,numberFormat:{pattern:["n-"],",":".",".":",",percent:{pattern:["%n-","%n"],",":".",".":","},currency:{pattern:["$n-","$n"],symbol:""}},calendars:{standard:{name:"Hijri",firstDay:5,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",f:"dd/MM/yyyy h:mm tt",F:"dd/MM/yyyy h:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_Localized:{firstDay:5,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:[".",".","."],PM:[".",".","."],eras:[{name:".",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy, dd, MMMM, dddd",f:"yyyy, dd, MMMM, dddd h:mm tt",F:"yyyy, dd, MMMM, dddd h:mm:ss tt",M:"d MMMM",Y:"MMMM yyyy"}}}}],"gd-GB":["gd-GB","default",{name:"gd-GB",englishName:"Scottish Gaelic (United Kingdom)",nativeName:"Gidhlig (An Roghachd Aonaichte)",language:"gd",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],namesAbbr:["Dm","Lua","Mi","Cia","Ard","Hao","Sat"],namesShort:["D","L","M","C","A","H","S"]},months:{names:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd",""],namesAbbr:["Fao","Gea","Mr","Gib","Ci","gm","Iuc","Ln","Sul","Dm","Sam","Db",""]},AM:["m","m","M"],PM:["f","f","F"],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ar-IQ":["ar-IQ","default",{name:"ar-IQ",englishName:"Arabic (Iraq)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"zh-CN":["zh-CN","default",{name:"zh-CN",englishName:"Chinese (Simplified, PRC)",nativeName:"()",language:"zh-CHS",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],"de-CH":["de-CH","default",{name:"de-CH",englishName:"German (Switzerland)",nativeName:"Deutsch (Schweiz)",language:"de",numberFormat:{",":"'",percent:{pattern:["-n%","n%"],",":"'"},currency:{pattern:["$-n","$ n"],",":"'",symbol:"Fr."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"en-GB":["en-GB","default",{name:"en-GB",englishName:"English (United Kingdom)",nativeName:"English (United Kingdom)",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"es-MX":["es-MX","default",{name:"es-MX",englishName:"Spanish (Mexico)",nativeName:"Espaol (Mxico)",language:"es",numberFormat:{currency:{pattern:["-$n","$n"]}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"fr-BE":["fr-BE","default",{name:"fr-BE",englishName:"French (Belgium)",nativeName:"franais (Belgique)",language:"fr",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"d/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"it-CH":["it-CH","default",{name:"it-CH",englishName:"Italian (Switzerland)",nativeName:"italiano (Svizzera)",language:"it",numberFormat:{",":"'",percent:{pattern:["-n%","n%"],",":"'"},currency:{pattern:["$-n","$ n"],",":"'",symbol:"fr."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],namesAbbr:["dom","lun","mar","mer","gio","ven","sab"],namesShort:["do","lu","ma","me","gi","ve","sa"]},months:{names:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],namesAbbr:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"nl-BE":["nl-BE","default",{name:"nl-BE",englishName:"Dutch (Belgium)",nativeName:"Nederlands (Belgi)",language:"nl",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],namesAbbr:["zo","ma","di","wo","do","vr","za"],namesShort:["zo","ma","di","wo","do","vr","za"]},months:{names:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],namesAbbr:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d/MM/yyyy",D:"dddd d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"nn-NO":["nn-NO","default",{name:"nn-NO",englishName:"Norwegian, Nynorsk (Norway)",nativeName:"norsk, nynorsk (Noreg)",language:"nn",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sndag","mndag","tysdag","onsdag","torsdag","fredag","laurdag"],namesAbbr:["s","m","ty","on","to","fr","la"],namesShort:["s","m","ty","on","to","fr","la"]},months:{names:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"pt-PT":["pt-PT","default",{name:"pt-PT",englishName:"Portuguese (Portugal)",nativeName:"portugus (Portugal)",language:"pt",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],namesAbbr:["dom","seg","ter","qua","qui","sex","sb"],namesShort:["D","S","T","Q","Q","S","S"]},months:{names:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro",""],namesAbbr:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd-MM-yyyy",D:"dddd, d' de 'MMMM' de 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' de 'MMMM' de 'yyyy HH:mm",F:"dddd, d' de 'MMMM' de 'yyyy HH:mm:ss",M:"d/M",Y:"MMMM' de 'yyyy"}}}}],"sr-Latn-CS":["sr-Latn-CS","default",{name:"sr-Latn-CS",englishName:"Serbian (Latin, Serbia and Montenegro (Former))",nativeName:"srpski (Srbija i Crna Gora (Prethodno))",language:"sr-Latn",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"Din."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sre","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,eras:[{name:"n.e.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"sv-FI":["sv-FI","default",{name:"sv-FI",englishName:"Swedish (Finland)",nativeName:"svenska (Finland)",language:"sv",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","m","ti","on","to","fr","l"],namesShort:["s","m","ti","on","to","fr","l"]},months:{names:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"'den 'd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"'den 'd MMMM yyyy HH:mm",F:"'den 'd MMMM yyyy HH:mm:ss",M:"'den 'd MMMM",Y:"MMMM yyyy"}}}}],"az-Cyrl-AZ":["az-Cyrl-AZ","default",{name:"az-Cyrl-AZ",englishName:"Azeri (Cyrillic, Azerbaijan)",nativeName:" ()",language:"az-Cyrl",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"dsb-DE":["dsb-DE","default",{name:"dsb-DE",englishName:"Lower Sorbian (Germany)",nativeName:"dolnoserbina (Nimska)",language:"dsb",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":". ",firstDay:1,days:{names:["njeela","ponjeele","watora","srjoda","stwortk","ptk","sobota"],namesAbbr:["nje","pon","wa","srj","stw","pt","sob"],namesShort:["n","p","w","s","s","p","s"]},months:{names:["januar","februar","mrc","apryl","maj","junij","julij","awgust","september","oktober","nowember","december",""],namesAbbr:["jan","feb","mr","apr","maj","jun","jul","awg","sep","okt","now","dec",""]},monthsGenitive:{names:["januara","februara","mrca","apryla","maja","junija","julija","awgusta","septembra","oktobra","nowembra","decembra",""],namesAbbr:["jan","feb","mr","apr","maj","jun","jul","awg","sep","okt","now","dec",""]},AM:null,PM:null,eras:[{name:"po Chr.",start:null,offset:0}],patterns:{d:"d. M. yyyy",D:"dddd, 'dnja' d. MMMM yyyy",t:"H.mm 'go.'",T:"H:mm:ss",f:"dddd, 'dnja' d. MMMM yyyy H.mm 'go.'",F:"dddd, 'dnja' d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"se-SE":["se-SE","default",{name:"se-SE",englishName:"Sami, Northern (Sweden)",nativeName:"davvismegiella (Ruoa)",language:"se",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["sotnabeaivi","mnnodat","disdat","gaskavahkku","duorastat","bearjadat","lvvardat"],namesAbbr:["sotn","mn","dis","gask","duor","bear","lv"],namesShort:["s","m","d","g","d","b","l"]},months:{names:["oajagemnnu","guovvamnnu","njukamnnu","cuoomnnu","miessemnnu","geassemnnu","suoidnemnnu","borgemnnu","akamnnu","golggotmnnu","skbmamnnu","juovlamnnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},monthsGenitive:{names:["oajagimnu","guovvamnu","njukamnu","cuoomnu","miessemnu","geassemnu","suoidnemnu","borgemnu","akamnu","golggotmnu","skbmamnu","juovlamnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"ga-IE":["ga-IE","default",{name:"ga-IE",englishName:"Irish (Ireland)",nativeName:"Gaeilge (ire)",language:"ga",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,days:{names:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],namesAbbr:["Domh","Luan","Mir","Cad","Dar","Aoi","Sath"],namesShort:["Do","Lu","M","C","De","Ao","Sa"]},months:{names:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig",""],namesAbbr:["Ean","Feabh","Mr","Aib","Bealt","Meith","Iil","Ln","M.Fmh","D.Fmh","Samh","Noll",""]},AM:["r.n.","r.n.","R.N."],PM:["i.n.","i.n.","I.N."],patterns:{d:"dd/MM/yyyy",D:"d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d MMMM yyyy HH:mm",F:"d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"ms-BN":["ms-BN","default",{name:"ms-BN",englishName:"Malay (Brunei Darussalam)",nativeName:"Bahasa Melayu (Brunei Darussalam)",language:"ms",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{decimals:0,",":".",".":","}},calendars:{standard:{firstDay:1,days:{names:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],namesAbbr:["Ahad","Isnin","Sel","Rabu","Khamis","Jumaat","Sabtu"],namesShort:["A","I","S","R","K","J","S"]},months:{names:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember",""],namesAbbr:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogos","Sept","Okt","Nov","Dis",""]},AM:null,PM:null,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM yyyy H:mm",F:"dd MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"uz-Cyrl-UZ":["uz-Cyrl-UZ","default",{name:"uz-Cyrl-UZ",englishName:"Uzbek (Cyrillic, Uzbekistan)",nativeName:" ()",language:"uz-Cyrl",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"yyyy '' d-MMMM",t:"HH:mm",T:"HH:mm:ss",f:"yyyy '' d-MMMM HH:mm",F:"yyyy '' d-MMMM HH:mm:ss",M:"d-MMMM",Y:"MMMM yyyy"}}}}],"bn-BD":["bn-BD","default",{name:"bn-BD",englishName:"Bengali (Bangladesh)",nativeName:" ()",language:"bn",numberFormat:{groupSizes:[3,2],percent:{pattern:["-%n","%n"],groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:""}},calendars:{standard:{"/":"-",":":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:[".",".",".",".",".",".","."],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:[".",".","","","","","",".",".",".",".",".",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yy",D:"dd MMMM yyyy",t:"HH.mm",T:"HH.mm.ss",f:"dd MMMM yyyy HH.mm",F:"dd MMMM yyyy HH.mm.ss",M:"dd MMMM"}}}}],"mn-Mong-CN":["mn-Mong-CN","default",{name:"mn-Mong-CN",englishName:"Mongolian (Traditional Mongolian, PRC)",nativeName:"  (    )",language:"mn-Mong",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["$-n","$n"],groupSizes:[3,0],symbol:""}},calendars:{standard:{firstDay:1,days:{names:[" "," "," "," "," "," "," "],namesAbbr:[" "," "," "," "," "," "," "],namesShort:["","","","","","",""]},months:{names:[" "," "," "," "," "," "," "," "," "," ","  ","  ",""],namesAbbr:[" "," "," "," "," "," "," "," "," "," ","  ","  ",""]},AM:null,PM:null,eras:[{name:"  ",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy' ' M'  'd'  '",t:"H:mm",T:"H:mm:ss",f:"yyyy' ' M'  'd'  ' H:mm",F:"yyyy' ' M'  'd'  ' H:mm:ss",M:"M'' d''",Y:"yyyy'' M''"}}}}],"iu-Latn-CA":["iu-Latn-CA","default",{name:"iu-Latn-CA",englishName:"Inuktitut (Latin, Canada)",nativeName:"Inuktitut (Kanatami)",language:"iu-Latn",numberFormat:{groupSizes:[3,0],percent:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["Naattiinguja","Naggajjau","Aippiq","Pingatsiq","Sitammiq","Tallirmiq","Sivataarvik"],namesAbbr:["Nat","Nag","Aip","Pi","Sit","Tal","Siv"],namesShort:["N","N","A","P","S","T","S"]},months:{names:["Jaannuari","Viivvuari","Maatsi","Iipuri","Mai","Juuni","Julai","Aaggiisi","Sitipiri","Utupiri","Nuvipiri","Tisipiri",""],namesAbbr:["Jan","Viv","Mas","Ipu","Mai","Jun","Jul","Agi","Sii","Uut","Nuv","Tis",""]},patterns:{d:"d/MM/yyyy",D:"ddd, MMMM dd,yyyy",f:"ddd, MMMM dd,yyyy h:mm tt",F:"ddd, MMMM dd,yyyy h:mm:ss tt"}}}}],"tzm-Latn-DZ":["tzm-Latn-DZ","default",{name:"tzm-Latn-DZ",englishName:"Tamazight (Latin, Algeria)",nativeName:"Tamazight (Djazar)",language:"tzm-Latn",numberFormat:{pattern:["n-"],",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],symbol:"DZD"}},calendars:{standard:{"/":"-",firstDay:6,days:{names:["Acer","Arime","Aram","Ahad","Amhadh","Sem","Sedh"],namesAbbr:["Ace","Ari","Ara","Aha","Amh","Sem","Sed"],namesShort:["Ac","Ar","Ar","Ah","Am","Se","Se"]},months:{names:["Yenayer","Furar","Maghres","Yebrir","Mayu","Yunyu","Yulyu","Ghuct","Cutenber","Ktuber","Wambir","Dujanbir",""],namesAbbr:["Yen","Fur","Mag","Yeb","May","Yun","Yul","Ghu","Cut","Ktu","Wam","Duj",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"dd MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM, yyyy H:mm",F:"dd MMMM, yyyy H:mm:ss",M:"dd MMMM"}}}}],"quz-EC":["quz-EC","default",{name:"quz-EC",englishName:"Quechua (Ecuador)",nativeName:"runasimi (Ecuador)",language:"quz",numberFormat:{",":".",".":",",percent:{pattern:["-%n","%n"],",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":","}},calendars:{standard:{days:{names:["intichaw","killachaw","atipachaw","quyllurchaw","Ch' askachaw","Illapachaw","k'uychichaw"],namesAbbr:["int","kil","ati","quy","Ch'","Ill","k'u"],namesShort:["d","k","a","m","h","b","k"]},months:{names:["Qulla puquy","Hatun puquy","Pauqar waray","ayriwa","Aymuray","Inti raymi","Anta Sitwa","Qhapaq Sitwa","Uma raymi","Kantaray","Ayamarq'a","Kapaq Raymi",""],namesAbbr:["Qul","Hat","Pau","ayr","Aym","Int","Ant","Qha","Uma","Kan","Aya","Kap",""]},AM:null,PM:null,patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",Y:"MMMM' de 'yyyy"}}}}],"ar-EG":["ar-EG","default",{name:"ar-EG",englishName:"Arabic (Egypt)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],decimals:3,percent:{decimals:3},currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"zh-HK":["zh-HK","default",{name:"zh-HK",englishName:"Chinese (Traditional, Hong Kong S.A.R.)",nativeName:"()",language:"zh-CHT",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{symbol:"HK$"}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],"de-AT":["de-AT","default",{name:"de-AT",englishName:"German (Austria)",nativeName:"Deutsch (sterreich)",language:"de",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Jnner","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jn","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, dd. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, dd. MMMM yyyy HH:mm",F:"dddd, dd. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"en-AU":["en-AU","default",{name:"en-AU",englishName:"English (Australia)",nativeName:"English (Australia)",numberFormat:{currency:{pattern:["-$n","$n"]}},calendars:{standard:{firstDay:1,patterns:{d:"d/MM/yyyy",D:"dddd, d MMMM yyyy",f:"dddd, d MMMM yyyy h:mm tt",F:"dddd, d MMMM yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"es-ES":["es-ES","default",{name:"es-ES",englishName:"Spanish (Spain, International Sort)",nativeName:"Espaol (Espaa, alfabetizacin internacional)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"fr-CA":["fr-CA","default",{name:"fr-CA",englishName:"French (Canada)",nativeName:"franais (Canada)",language:"fr",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["(n $)","n $"],",":"",".":","}},calendars:{standard:{"/":"-",days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d MMMM yyyy HH:mm",F:"d MMMM yyyy HH:mm:ss",M:"d MMMM"}}}}],"sr-Cyrl-CS":["sr-Cyrl-CS","default",{name:"sr-Cyrl-CS",englishName:"Serbian (Cyrillic, Serbia and Montenegro (Former))",nativeName:" (    ())",language:"sr-Cyrl",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"..",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"se-FI":["se-FI","default",{name:"se-FI",englishName:"Sami, Northern (Finland)",nativeName:"davvismegiella (Suopma)",language:"se",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sotnabeaivi","vuossrga","maebrga","gaskavahkku","duorastat","bearjadat","lvvardat"],namesAbbr:["sotn","vuos","ma","gask","duor","bear","lv"],namesShort:["s","m","d","g","d","b","l"]},months:{names:["oajagemnnu","guovvamnnu","njukamnnu","cuoomnnu","miessemnnu","geassemnnu","suoidnemnnu","borgemnnu","akamnnu","golggotmnnu","skbmamnnu","juovlamnnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},monthsGenitive:{names:["oajagimnu","guovvamnu","njukamnu","cuoomnu","miessemnu","geassemnu","suoidnemnu","borgemnu","akamnu","golggotmnu","skbmamnu","juovlamnu",""],namesAbbr:["oj","guov","njuk","cuo","mies","geas","suoi","borg","ak","golg","skb","juov",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"MMMM d'. b. 'yyyy",t:"H:mm",T:"H:mm:ss",f:"MMMM d'. b. 'yyyy H:mm",F:"MMMM d'. b. 'yyyy H:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"quz-PE":["quz-PE","default",{name:"quz-PE",englishName:"Quechua (Peru)",nativeName:"runasimi (Piruw)",language:"quz",numberFormat:{percent:{pattern:["-%n","%n"]},currency:{pattern:["$ -n","$ n"],symbol:"S/."}},calendars:{standard:{days:{names:["intichaw","killachaw","atipachaw","quyllurchaw","Ch' askachaw","Illapachaw","k'uychichaw"],namesAbbr:["int","kil","ati","quy","Ch'","Ill","k'u"],namesShort:["d","k","a","m","h","b","k"]},months:{names:["Qulla puquy","Hatun puquy","Pauqar waray","ayriwa","Aymuray","Inti raymi","Anta Sitwa","Qhapaq Sitwa","Uma raymi","Kantaray","Ayamarq'a","Kapaq Raymi",""],namesAbbr:["Qul","Hat","Pau","ayr","Aym","Int","Ant","Qha","Uma","Kan","Aya","Kap",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",Y:"MMMM' de 'yyyy"}}}}],"ar-LY":["ar-LY","default",{name:"ar-LY",englishName:"Arabic (Libya)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],decimals:3,percent:{decimals:3},currency:{pattern:["$n-","$n"],decimals:3,symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"zh-SG":["zh-SG","default",{name:"zh-SG",englishName:"Chinese (Simplified, Singapore)",nativeName:"()",language:"zh-CHS",numberFormat:{percent:{pattern:["-n%","n%"]}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},patterns:{d:"d/M/yyyy",D:"yyyy''M''d''",t:"tt h:mm",T:"tt h:mm:ss",f:"yyyy''M''d'' tt h:mm",F:"yyyy''M''d'' tt h:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],"de-LU":["de-LU","default",{name:"de-LU",englishName:"German (Luxembourg)",nativeName:"Deutsch (Luxemburg)",language:"de",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"en-CA":["en-CA","default",{name:"en-CA",englishName:"English (Canada)",nativeName:"English (Canada)",numberFormat:{currency:{pattern:["-$n","$n"]}},calendars:{standard:{patterns:{d:"dd/MM/yyyy",D:"MMMM-dd-yy",f:"MMMM-dd-yy h:mm tt",F:"MMMM-dd-yy h:mm:ss tt"}}}}],"es-GT":["es-GT","default",{name:"es-GT",englishName:"Spanish (Guatemala)",nativeName:"Espaol (Guatemala)",language:"es",numberFormat:{currency:{symbol:"Q"}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"fr-CH":["fr-CH","default",{name:"fr-CH",englishName:"French (Switzerland)",nativeName:"franais (Suisse)",language:"fr",numberFormat:{",":"'",percent:{",":"'"},currency:{pattern:["$-n","$ n"],",":"'",symbol:"fr."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"hr-BA":["hr-BA","default",{name:"hr-BA",englishName:"Croatian (Latin, Bosnia and Herzegovina)",nativeName:"hrvatski (Bosna i Hercegovina)",language:"hr",numberFormat:{pattern:["- n"],",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"KM"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sri","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["sijeanj","veljaa","oujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac",""],namesAbbr:["sij","vlj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro",""]},monthsGenitive:{names:["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenog","prosinca",""],namesAbbr:["sij","vlj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy.",D:"d. MMMM yyyy.",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy. H:mm",F:"d. MMMM yyyy. H:mm:ss",M:"d. MMMM"}}}}],"smj-NO":["smj-NO","default",{name:"smj-NO",englishName:"Sami, Lule (Norway)",nativeName:"julevusmegiella (Vuodna)",language:"smj",numberFormat:{",":"",".":",",percent:{pattern:["-%n","%n"],",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sdnbiejvve","mnnodahka","dijstahka","gasskavahkko","duorastahka","bierjjedahka","lvvodahka"],namesAbbr:["sd","mn","dis","gas","duor","bier","lv"],namesShort:["s","m","d","g","d","b","l"]},months:{names:["djakmnno","guovvamnno","sjnjuktjamnno","vuoratjismnno","moarmesmnno","biehtsemnno","sjnjilltjamnno","brggemnno","ragtmnno","glgdismnno","basdismnno","javllamnno",""],namesAbbr:["dj","guov","snju","vuor","moar","bieh","snji","brg","rag","glg","bas","javl",""]},monthsGenitive:{names:["djakmno","guovvamno","sjnjuktjamno","vuoratjismno","moarmesmno","biehtsemno","sjnjilltjamno","brggemno","ragtmno","glgdismno","basdismno","javllamno",""],namesAbbr:["dj","guov","snju","vuor","moar","bieh","snji","brg","rag","glg","bas","javl",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"ar-DZ":["ar-DZ","default",{name:"ar-DZ",englishName:"Arabic (Algeria)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{"/":"-",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM, yyyy H:mm",F:"dd MMMM, yyyy H:mm:ss",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"H:mm",T:"H:mm:ss",f:"dd/MM/yyyy H:mm",F:"dd/MM/yyyy H:mm:ss",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"H:mm",T:"H:mm:ss",f:"dd/MMMM/yyyy H:mm",F:"dd/MMMM/yyyy H:mm:ss",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss"}}}}],"zh-MO":["zh-MO","default",{name:"zh-MO",englishName:"Chinese (Traditional, Macao S.A.R.)",nativeName:"()",language:"zh-CHT",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{symbol:"MOP"}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],"de-LI":["de-LI","default",{name:"de-LI",englishName:"German (Liechtenstein)",nativeName:"Deutsch (Liechtenstein)",language:"de",numberFormat:{",":"'",percent:{pattern:["-n%","n%"],",":"'"},currency:{pattern:["$-n","$ n"],",":"'",symbol:"CHF"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"en-NZ":["en-NZ","default",{name:"en-NZ",englishName:"English (New Zealand)",nativeName:"English (New Zealand)",numberFormat:{currency:{pattern:["-$n","$n"]}},calendars:{standard:{firstDay:1,AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],patterns:{d:"d/MM/yyyy",D:"dddd, d MMMM yyyy",f:"dddd, d MMMM yyyy h:mm tt",F:"dddd, d MMMM yyyy h:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"es-CR":["es-CR","default",{name:"es-CR",englishName:"Spanish (Costa Rica)",nativeName:"Espaol (Costa Rica)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{",":".",".":",",symbol:""}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"fr-LU":["fr-LU","default",{name:"fr-LU",englishName:"French (Luxembourg)",nativeName:"franais (Luxembourg)",language:"fr",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"bs-Latn-BA":["bs-Latn-BA","default",{name:"bs-Latn-BA",englishName:"Bosnian (Latin, Bosnia and Herzegovina)",nativeName:"bosanski (Bosna i Hercegovina)",language:"bs-Latn",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"KM"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sri","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","juni","juli","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"smj-SE":["smj-SE","default",{name:"smj-SE",englishName:"Sami, Lule (Sweden)",nativeName:"julevusmegiella (Svierik)",language:"smj",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["jllek","mnnodahka","dijstahka","gasskavahkko","duorastahka","bierjjedahka","lvvodahka"],namesAbbr:["jl","mn","dis","gas","duor","bier","lv"],namesShort:["","m","d","g","d","b","l"]},months:{names:["djakmnno","guovvamnno","sjnjuktjamnno","vuoratjismnno","moarmesmnno","biehtsemnno","sjnjilltjamnno","brggemnno","ragtmnno","glgdismnno","basdismnno","javllamnno",""],namesAbbr:["dj","guov","snju","vuor","moar","bieh","snji","brg","rag","glg","bas","javl",""]},monthsGenitive:{names:["djakmno","guovvamno","sjnjuktjamno","vuoratjismno","moarmesmno","biehtsemno","sjnjilltjamno","brggemno","ragtmno","glgdismno","basdismno","javllamno",""],namesAbbr:["dj","guov","snju","vuor","moar","bieh","snji","brg","rag","glg","bas","javl",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"ar-MA":["ar-MA","default",{name:"ar-MA",englishName:"Arabic (Morocco)",nativeName:" ( )",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM, yyyy H:mm",F:"dd MMMM, yyyy H:mm:ss",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"H:mm",T:"H:mm:ss",f:"dd/MM/yyyy H:mm",F:"dd/MM/yyyy H:mm:ss",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},UmAlQura:{name:"UmAlQura",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"H:mm",T:"H:mm:ss",f:"dd/MMMM/yyyy H:mm",F:"dd/MMMM/yyyy H:mm:ss",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss"}}}}],"en-IE":["en-IE","default",{name:"en-IE",englishName:"English (Ireland)",nativeName:"English (Ireland)",numberFormat:{currency:{pattern:["-$n","$n"],symbol:""}},calendars:{standard:{firstDay:1,AM:null,PM:null,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"es-PA":["es-PA","default",{name:"es-PA",englishName:"Spanish (Panama)",nativeName:"Espaol (Panam)",language:"es",numberFormat:{currency:{pattern:["($ n)","$ n"],symbol:"B/."}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"fr-MC":["fr-MC","default",{name:"fr-MC",englishName:"French (Monaco)",nativeName:"franais (Principaut de Monaco)",language:"fr",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"sr-Latn-BA":["sr-Latn-BA","default",{name:"sr-Latn-BA",englishName:"Serbian (Latin, Bosnia and Herzegovina)",nativeName:"srpski (Bosna i Hercegovina)",language:"sr-Latn",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"KM"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sre","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,eras:[{name:"n.e.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"sma-NO":["sma-NO","default",{name:"sma-NO",englishName:"Sami, Southern (Norway)",nativeName:"arjelsaemiengiele (Nrje)",language:"sma",numberFormat:{",":"",".":",",percent:{pattern:["-%n","%n"],",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["aejlege","manta","djsta","gaskevhkoe","duarsta","bearjadahke","laavvardahke"],namesAbbr:["aej","ma","dj","gask","duar","bearj","laav"],namesShort:["a","m","d","g","d","b","l"]},months:{names:["tsengele","goevte","njoktje","voerhtje","suehpede","ruffie","snjaltje","metske","skerede","golke","rahka","goeve",""],namesAbbr:["tsen","goevt","njok","voer","sueh","ruff","snja","met","sker","golk","rahk","goev",""]},monthsGenitive:{names:["tsengelen","goevten","njoktjen","voerhtjen","suehpeden","ruffien","snjaltjen","metsken","skereden","golken","rahkan","goeven",""],namesAbbr:["tsen","goevt","njok","voer","sueh","ruff","snja","met","sker","golk","rahk","goev",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"ar-TN":["ar-TN","default",{name:"ar-TN",englishName:"Arabic (Tunisia)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],decimals:3,percent:{decimals:3},currency:{pattern:["$n-","$ n"],decimals:3,symbol:".."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd-MM-yyyy",D:"dd MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM, yyyy H:mm",F:"dd MMMM, yyyy H:mm:ss",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"H:mm",T:"H:mm:ss",f:"dd/MM/yyyy H:mm",F:"dd/MM/yyyy H:mm:ss",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},UmAlQura:{name:"UmAlQura",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"H:mm",T:"H:mm:ss",f:"dd/MMMM/yyyy H:mm",F:"dd/MMMM/yyyy H:mm:ss",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, MMMM dd, yyyy H:mm",F:"dddd, MMMM dd, yyyy H:mm:ss"}}}}],"en-ZA":["en-ZA","default",{name:"en-ZA",englishName:"English (South Africa)",nativeName:"English (South Africa)",numberFormat:{",":"",percent:{pattern:["-n%","n%"],",":""},currency:{pattern:["$-n","$ n"],",":"",".":",",symbol:"R"}},calendars:{standard:{patterns:{d:"yyyy/MM/dd",D:"dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM yyyy hh:mm tt",F:"dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"es-DO":["es-DO","default",{name:"es-DO",englishName:"Spanish (Dominican Republic)",nativeName:"Espaol (Repblica Dominicana)",language:"es",numberFormat:{currency:{symbol:"RD$"}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"sr-Cyrl-BA":["sr-Cyrl-BA","default",{name:"sr-Cyrl-BA",englishName:"Serbian (Cyrillic, Bosnia and Herzegovina)",nativeName:" (  )",language:"sr-Cyrl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"..",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM"}}}}],"sma-SE":["sma-SE","default",{name:"sma-SE",englishName:"Sami, Southern (Sweden)",nativeName:"arjelsaemiengiele (Sveerje)",language:"sma",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["aejlege","manta","djsta","gaskevhkoe","duarsta","bearjadahke","laavvardahke"],namesAbbr:["aej","ma","dj","gask","duar","bearj","laav"],namesShort:["a","m","d","g","d","b","l"]},months:{names:["tsengele","goevte","njoktje","voerhtje","suehpede","ruffie","snjaltje","metske","skerede","golke","rahka","goeve",""],namesAbbr:["tsen","goevt","njok","voer","sueh","ruff","snja","met","sker","golk","rahk","goev",""]},monthsGenitive:{names:["tsengelen","goevten","njoktjen","voerhtjen","suehpeden","ruffien","snjaltjen","metsken","skereden","golken","rahkan","goeven",""],namesAbbr:["tsen","goevt","njok","voer","sueh","ruff","snja","met","sker","golk","rahk","goev",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"ar-OM":["ar-OM","default",{name:"ar-OM",englishName:"Arabic (Oman)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],decimals:3,symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"en-JM":["en-JM","default",{name:"en-JM",englishName:"English (Jamaica)",nativeName:"English (Jamaica)",numberFormat:{currency:{pattern:["-$n","$n"],symbol:"J$"}},calendars:{standard:{patterns:{d:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"es-VE":["es-VE","default",{name:"es-VE",englishName:"Spanish (Bolivarian Republic of Venezuela)",nativeName:"Espaol (Republica Bolivariana de Venezuela)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:"Bs. F."}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"bs-Cyrl-BA":["bs-Cyrl-BA","default",{name:"bs-Cyrl-BA",englishName:"Bosnian (Cyrillic, Bosnia and Herzegovina)",nativeName:" (  )",language:"bs-Cyrl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"..",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM"}}}}],"sms-FI":["sms-FI","default",{name:"sms-FI",englishName:"Sami, Skolt (Finland)",nativeName:"smill (Lddjnnam)",language:"sms",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["psspeivv","vussargg","mibargg","serad","nelljdpeivv","pitnc","suevet"],namesAbbr:["p","vu","m","se","ne","pi","su"],namesShort:["p","v","m","s","n","p","s"]},months:{names:["oeejjmn","tlvvmn","pzzlttammn","njuhmn","vuessmn","iessmn","sueinnmn","prmn","hmn","klggmn","skammmn","rosttovmn",""],namesAbbr:["ojm","tlvv","pzl","njuh","vue","ie","suei","pr","h","klg","ska","rost",""]},monthsGenitive:{names:["oeejjmannu","tlvvmannu","pzzlttammannu","njuhmannu","vuessmannu","iessmannu","sueinnmannu","prmannu","hmannu","klggmannu","skammmannu","rosttovmannu",""],namesAbbr:["ojm","tlvv","pzl","njuh","vue","ie","suei","pr","h","klg","ska","rost",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"MMMM d'. p. 'yyyy",t:"H:mm",T:"H:mm:ss",f:"MMMM d'. p. 'yyyy H:mm",F:"MMMM d'. p. 'yyyy H:mm:ss",M:"MMMM d'. p. '",Y:"MMMM yyyy"}}}}],"ar-YE":["ar-YE","default",{name:"ar-YE",englishName:"Arabic (Yemen)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"en-029":["en-029","default",{name:"en-029",englishName:"English (Caribbean)",nativeName:"English (Caribbean)",numberFormat:{currency:{pattern:["-$n","$n"]}},calendars:{standard:{firstDay:1,patterns:{d:"MM/dd/yyyy"}}}}],"es-CO":["es-CO","default",{name:"es-CO",englishName:"Spanish (Colombia)",nativeName:"Espaol (Colombia)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":","}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"sr-Latn-RS":["sr-Latn-RS","default",{name:"sr-Latn-RS",englishName:"Serbian (Latin, Serbia)",nativeName:"srpski (Srbija)",language:"sr-Latn",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"Din."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sre","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,eras:[{name:"n.e.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"smn-FI":["smn-FI","default",{name:"smn-FI",englishName:"Sami, Inari (Finland)",nativeName:"smikiel (Suom)",language:"smn",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["pasepeivi","vuossarg","majebarg","koskokko","tuorsth","vstuppeivi","lvrdh"],namesAbbr:["pa","vu","ma","ko","tu","v","l"],namesShort:["p","v","m","k","t","v","l"]},months:{names:["uivemnu","kuovmnu","njuhmnu","cuuimnu","vyesimnu","kesimnu","syeinimnu","porgemnu","ohmnu","roovvdmnu","skammmnu","juovlmnu",""],namesAbbr:["uiv","kuov","njuh","cuo","vyes","kesi","syei","porg","oh","roov","ska","juov",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"MMMM d'. p. 'yyyy",t:"H:mm",T:"H:mm:ss",f:"MMMM d'. p. 'yyyy H:mm",F:"MMMM d'. p. 'yyyy H:mm:ss",M:"MMMM d'. p. '",Y:"MMMM yyyy"}}}}],"ar-SY":["ar-SY","default",{name:"ar-SY",englishName:"Arabic (Syria)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"en-BZ":["en-BZ","default",{name:"en-BZ",englishName:"English (Belize)",nativeName:"English (Belize)",numberFormat:{currency:{groupSizes:[3,0],symbol:"BZ$"}},calendars:{standard:{patterns:{d:"dd/MM/yyyy",D:"dddd, dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd MMMM yyyy hh:mm tt",F:"dddd, dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"es-PE":["es-PE","default",{name:"es-PE",englishName:"Spanish (Peru)",nativeName:"Espaol (Per)",language:"es",numberFormat:{currency:{pattern:["$ -n","$ n"],symbol:"S/."}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"sr-Cyrl-RS":["sr-Cyrl-RS","default",{name:"sr-Cyrl-RS",englishName:"Serbian (Cyrillic, Serbia)",nativeName:" ()",language:"sr-Cyrl",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"..",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"ar-JO":["ar-JO","default",{name:"ar-JO",englishName:"Arabic (Jordan)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],decimals:3,percent:{decimals:3},currency:{pattern:["$n-","$ n"],decimals:3,symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"en-TT":["en-TT","default",{name:"en-TT",englishName:"English (Trinidad and Tobago)",nativeName:"English (Trinidad y Tobago)",numberFormat:{currency:{groupSizes:[3,0],symbol:"TT$"}},calendars:{standard:{patterns:{d:"dd/MM/yyyy",D:"dddd, dd MMMM yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd MMMM yyyy hh:mm tt",F:"dddd, dd MMMM yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"es-AR":["es-AR","default",{name:"es-AR",englishName:"Spanish (Argentina)",nativeName:"Espaol (Argentina)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$-n","$ n"],",":".",".":","}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"sr-Latn-ME":["sr-Latn-ME","default",{name:"sr-Latn-ME",englishName:"Serbian (Latin, Montenegro)",nativeName:"srpski (Crna Gora)",language:"sr-Latn",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sre","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,eras:[{name:"n.e.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"ar-LB":["ar-LB","default",{name:"ar-LB",englishName:"Arabic (Lebanon)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_TransliteratedEnglish:{name:"Gregorian_TransliteratedEnglish",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"en-ZW":["en-ZW","default",{name:"en-ZW",englishName:"English (Zimbabwe)",nativeName:"English (Zimbabwe)",numberFormat:{currency:{symbol:"Z$"}}}],"es-EC":["es-EC","default",{name:"es-EC",englishName:"Spanish (Ecuador)",nativeName:"Espaol (Ecuador)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":","}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"sr-Cyrl-ME":["sr-Cyrl-ME","default",{name:"sr-Cyrl-ME",englishName:"Serbian (Cyrillic, Montenegro)",nativeName:" ( )",language:"sr-Cyrl",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"..",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"ar-KW":["ar-KW","default",{name:"ar-KW",englishName:"Arabic (Kuwait)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],decimals:3,percent:{decimals:3},currency:{pattern:["$n-","$ n"],decimals:3,symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"en-PH":["en-PH","default",{name:"en-PH",englishName:"English (Republic of the Philippines)",nativeName:"English (Philippines)",numberFormat:{currency:{symbol:"Php"}}}],"es-CL":["es-CL","default",{name:"es-CL",englishName:"Spanish (Chile)",nativeName:"Espaol (Chile)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":","}},calendars:{standard:{"/":"-",days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd-MM-yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"ar-AE":["ar-AE","default",{name:"ar-AE",englishName:"Arabic (U.A.E.)",nativeName:" (  )",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"es-UY":["es-UY","default",{name:"es-UY",englishName:"Spanish (Uruguay)",nativeName:"Espaol (Uruguay)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":",",symbol:"$U"}},calendars:{standard:{firstDay:1,days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"ar-BH":["ar-BH","default",{name:"ar-BH",englishName:"Arabic (Bahrain)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],decimals:3,percent:{decimals:3},currency:{pattern:["$n-","$ n"],decimals:3,symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"es-PY":["es-PY","default",{name:"es-PY",englishName:"Spanish (Paraguay)",nativeName:"Espaol (Paraguay)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":",",symbol:"Gs"}},calendars:{standard:{firstDay:1,days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"ar-QA":["ar-QA","default",{name:"ar-QA",englishName:"Arabic (Qatar)",nativeName:" ()",language:"ar",isRTL:!0,numberFormat:{pattern:["n-"],currency:{pattern:["$n-","$ n"],symbol:".."}},calendars:{standard:{firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],patterns:{d:"dd/MM/yyyy",D:"dd MMMM, yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd MMMM, yyyy hh:mm tt",F:"dd MMMM, yyyy hh:mm:ss tt",M:"dd MMMM"}},UmAlQura:{name:"UmAlQura",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MMMM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MMMM/yyyy hh:mm tt",F:"dd/MMMM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{_yearInfo:[[746,-21987072e5],[1769,-21681216e5],[3794,-21374496e5],[3748,-21067776e5],[3402,-2076192e6],[2710,-20456064e5],[1334,-20150208e5],[2741,-19844352e5],[3498,-19537632e5],[2980,-19230912e5],[2889,-18925056e5],[2707,-186192e7],[1323,-18313344e5],[2647,-18007488e5],[1206,-17700768e5],[2741,-17394912e5],[1450,-17088192e5],[3413,-16782336e5],[3370,-16475616e5],[2646,-1616976e6],[1198,-15863904e5],[2397,-15558048e5],[748,-15251328e5],[1749,-14945472e5],[1706,-14638752e5],[1365,-14332896e5],[1195,-1402704e6],[2395,-13721184e5],[698,-13414464e5],[1397,-13108608e5],[2994,-12801888e5],[1892,-12495168e5],[1865,-12189312e5],[1621,-11883456e5],[683,-115776e7],[1371,-11271744e5],[2778,-10965024e5],[1748,-10658304e5],[3785,-10352448e5],[3474,-10045728e5],[3365,-9739872e5],[2637,-9434016e5],[685,-912816e6],[1389,-8822304e5],[2922,-8515584e5],[2898,-8208864e5],[2725,-7903008e5],[2635,-7597152e5],[1175,-7291296e5],[2359,-698544e6],[694,-667872e6],[1397,-6372864e5],[3434,-6066144e5],[3410,-5759424e5],[2710,-5453568e5],[2349,-5147712e5],[605,-4841856e5],[1245,-4536e8],[2778,-422928e6],[1492,-392256e6],[3497,-3616704e5],[3410,-3309984e5],[2730,-3004128e5],[1238,-2698272e5],[2486,-2392416e5],[884,-2085696e5],[1897,-177984e6],[1874,-147312e6],[1701,-1167264e5],[1355,-861408e5],[2731,-555552e5],[1370,-248832e5],[2773,57024e5],[3538,363744e5],[3492,670464e5],[3401,97632e6],[2709,1282176e5],[1325,1588032e5],[2653,1893888e5],[1370,2200608e5],[2773,2506464e5],[1706,2813184e5],[1685,311904e6],[1323,3424896e5],[2647,3730752e5],[1198,4037472e5],[2422,4343328e5],[1388,4650048e5],[2901,4955904e5],[2730,5262624e5],[2645,556848e6],[1197,5874336e5],[2397,6180192e5],[730,6486912e5],[1497,6792768e5],[3506,7099488e5],[2980,7406208e5],[2890,7712064e5],[2645,801792e6],[693,8323776e5],[1397,8629632e5],[2922,8936352e5],[3026,9243072e5],[3012,9549792e5],[2953,9855648e5],[2709,10161504e5],[1325,1046736e6],[1453,10773216e5],[2922,11079936e5],[1748,11386656e5],[3529,11692512e5],[3474,11999232e5],[2726,12305088e5],[2390,12610944e5],[686,129168e7],[1389,13222656e5],[874,13529376e5],[2901,13835232e5],[2730,14141952e5],[2381,14447808e5],[1181,14753664e5],[2397,1505952e6],[698,1536624e6],[1461,15672096e5],[1450,15978816e5],[3413,16284672e5],[2714,16591392e5],[2350,16897248e5],[622,17203104e5],[1373,1750896e6],[2778,1781568e6],[1748,181224e7],[1701,18428256e5],[0,18734112e5]],minDate:-21987072e5,maxDate:1873411199999,toGregorian:function(e,t,r){var n=r-1,i=e-1318;if(i<0||i>=this._yearInfo.length)return null;var o=this._yearInfo[i],a=new Date(o[1]),s=o[0];a.setMinutes(a.getMinutes()+a.getTimezoneOffset());for(var l=0;l<t;l++)n+=29+(1&s),s>>=1;return a.setDate(a.getDate()+n),a},fromGregorian:function(e){var t=e-6e4*e.getTimezoneOffset();if(t<this.minDate||t>this.maxDate)return null;for(var r=0,n=1;t>this._yearInfo[++r][1];);t!==this._yearInfo[r][1]&&r--;var i=this._yearInfo[r],o=Math.floor((t-i[1])/864e5),a=i[0];r+=1318;for(var s=29+(1&a);o>=s;)o-=s,s=29+(1&(a>>=1)),n++;return[r,n-1,o+1]}}},Hijri:{name:"Hijri",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:" ",start:null,offset:0}],twoDigitYearMax:1451,patterns:{d:"dd/MM/yy",D:"dd/MM/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dd/MM/yyyy hh:mm tt",F:"dd/MM/yyyy hh:mm:ss tt",M:"dd MMMM"},convert:{ticks1970:621355968e5,monthDays:[0,30,59,89,118,148,177,207,236,266,295,325,355],minDate:-425216736e5,maxDate:0xe677d21fdbff,hijriAdjustment:0,toGregorian:function(e,t,r){var n=this.daysToYear(e)+this.monthDays[t]+r-1-this.hijriAdjustment,i=new Date(864e5*n-this.ticks1970);return i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i},fromGregorian:function(e){if(e<this.minDate||e>this.maxDate)return null;var t,r=this.ticks1970+(e-0)-6e4*e.getTimezoneOffset(),n=Math.floor(r/864e5)+1+this.hijriAdjustment,i=Math.floor(30*(n-227013)/10631)+1,o=this.daysToYear(i),a=this.isLeapYear(i)?355:354;n<o?(i--,o-=a):n===o?(i--,o=this.daysToYear(i)):n>o+a&&(o+=a,i++),t=0;for(var s=n-o;t<=11&&s>this.monthDays[t];)t++;return[i,--t,s-this.monthDays[t]]},daysToYear:function(e){for(var t=30*Math.floor((e-1)/30),r=e-t-1,n=Math.floor(10631*t/30)+227013;r>0;)n+=this.isLeapYear(r)?355:354,r--;return n},isLeapYear:function(e){return(11*e+14)%30<11}}},Gregorian_MiddleEastFrench:{name:"Gregorian_MiddleEastFrench",firstDay:6,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],namesAbbr:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""]},AM:["","",""],PM:["","",""],eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt",M:"dd MMMM"}},Gregorian_Arabic:{name:"Gregorian_Arabic",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}},Gregorian_TransliteratedFrench:{name:"Gregorian_TransliteratedFrench",firstDay:6,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"MM/dd/yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, MMMM dd, yyyy hh:mm tt",F:"dddd, MMMM dd, yyyy hh:mm:ss tt"}}}}],"en-IN":["en-IN","default",{name:"en-IN",englishName:"English (India)",nativeName:"English (India)",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:"Rs."}},calendars:{standard:{"/":"-",firstDay:1,patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}],"es-BO":["es-BO","default",{name:"es-BO",englishName:"Spanish (Bolivia)",nativeName:"Espaol (Bolivia)",language:"es",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":",",symbol:"$b"}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"en-MY":["en-MY","default",{name:"en-MY",englishName:"English (Malaysia)",nativeName:"English (Malaysia)",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{symbol:"RM"}},calendars:{standard:{days:{namesShort:["S","M","T","W","T","F","S"]},patterns:{d:"d/M/yyyy",D:"dddd, d MMMM, yyyy",f:"dddd, d MMMM, yyyy h:mm tt",F:"dddd, d MMMM, yyyy h:mm:ss tt",M:"d MMMM"}}}}],"es-SV":["es-SV","default",{name:"es-SV",englishName:"Spanish (El Salvador)",nativeName:"Espaol (El Salvador)",language:"es",numberFormat:{currency:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"en-SG":["en-SG","default",{name:"en-SG",englishName:"English (Singapore)",nativeName:"English (Singapore)",numberFormat:{percent:{pattern:["-n%","n%"]}},calendars:{standard:{days:{namesShort:["S","M","T","W","T","F","S"]},patterns:{d:"d/M/yyyy",D:"dddd, d MMMM, yyyy",f:"dddd, d MMMM, yyyy h:mm tt",F:"dddd, d MMMM, yyyy h:mm:ss tt",M:"d MMMM"}}}}],"es-HN":["es-HN","default",{name:"es-HN",englishName:"Spanish (Honduras)",nativeName:"Espaol (Honduras)",language:"es",numberFormat:{currency:{pattern:["$ -n","$ n"],groupSizes:[3,0],symbol:"L."}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"es-NI":["es-NI","default",{name:"es-NI",englishName:"Spanish (Nicaragua)",nativeName:"Espaol (Nicaragua)",language:"es",numberFormat:{currency:{pattern:["($ n)","$ n"],groupSizes:[3,0],symbol:"C$"}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"es-PR":["es-PR","default",{name:"es-PR",englishName:"Spanish (Puerto Rico)",nativeName:"Espaol (Puerto Rico)",language:"es",numberFormat:{currency:{pattern:["($ n)","$ n"],groupSizes:[3,0]}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","s"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}}],"es-US":["es-US","default",{name:"es-US",englishName:"Spanish (United States)",nativeName:"Espaol (Estados Unidos)",language:"es",numberFormat:{groupSizes:[3,0],percent:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],namesAbbr:["dom","lun","mar","mi","jue","vie","sb"],namesShort:["do","lu","ma","mi","ju","vi","sa"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},eras:[{name:"d.C.",start:null,offset:0}],patterns:{M:"dd' de 'MMMM",Y:"MMMM' de 'yyyy"}}}}],"bs-Cyrl":["bs-Cyrl","default",{name:"bs-Cyrl",englishName:"Bosnian (Cyrillic)",nativeName:"",language:"bs-Cyrl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"..",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM"}}}}],"bs-Latn":["bs-Latn","default",{name:"bs-Latn",englishName:"Bosnian (Latin)",nativeName:"bosanski",language:"bs-Latn",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"KM"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sri","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","juni","juli","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"sr-Cyrl":["sr-Cyrl","default",{name:"sr-Cyrl",englishName:"Serbian (Cyrillic)",nativeName:"",language:"sr-Cyrl",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,eras:[{name:"..",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"sr-Latn":["sr-Latn","default",{name:"sr-Latn",englishName:"Serbian (Latin)",nativeName:"srpski",language:"sr-Latn",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"Din."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sre","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,eras:[{name:"n.e.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],smn:["smn","default",{name:"smn",englishName:"Sami (Inari)",nativeName:"smikiel",language:"smn",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["pasepeivi","vuossarg","majebarg","koskokko","tuorsth","vstuppeivi","lvrdh"],namesAbbr:["pa","vu","ma","ko","tu","v","l"],namesShort:["p","v","m","k","t","v","l"]},months:{names:["uivemnu","kuovmnu","njuhmnu","cuuimnu","vyesimnu","kesimnu","syeinimnu","porgemnu","ohmnu","roovvdmnu","skammmnu","juovlmnu",""],namesAbbr:["uiv","kuov","njuh","cuo","vyes","kesi","syei","porg","oh","roov","ska","juov",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"MMMM d'. p. 'yyyy",t:"H:mm",T:"H:mm:ss",f:"MMMM d'. p. 'yyyy H:mm",F:"MMMM d'. p. 'yyyy H:mm:ss",M:"MMMM d'. p. '",Y:"MMMM yyyy"}}}}],"az-Cyrl":["az-Cyrl","default",{name:"az-Cyrl",englishName:"Azeri (Cyrillic)",nativeName:"",language:"az-Cyrl",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],sms:["sms","default",{name:"sms",englishName:"Sami (Skolt)",nativeName:"smill",language:"sms",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["psspeivv","vussargg","mibargg","serad","nelljdpeivv","pitnc","suevet"],namesAbbr:["p","vu","m","se","ne","pi","su"],namesShort:["p","v","m","s","n","p","s"]},months:{names:["oeejjmn","tlvvmn","pzzlttammn","njuhmn","vuessmn","iessmn","sueinnmn","prmn","hmn","klggmn","skammmn","rosttovmn",""],namesAbbr:["ojm","tlvv","pzl","njuh","vue","ie","suei","pr","h","klg","ska","rost",""]},monthsGenitive:{names:["oeejjmannu","tlvvmannu","pzzlttammannu","njuhmannu","vuessmannu","iessmannu","sueinnmannu","prmannu","hmannu","klggmannu","skammmannu","rosttovmannu",""],namesAbbr:["ojm","tlvv","pzl","njuh","vue","ie","suei","pr","h","klg","ska","rost",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"MMMM d'. p. 'yyyy",t:"H:mm",T:"H:mm:ss",f:"MMMM d'. p. 'yyyy H:mm",F:"MMMM d'. p. 'yyyy H:mm:ss",M:"MMMM d'. p. '",Y:"MMMM yyyy"}}}}],zh:["zh","default",{name:"zh",englishName:"Chinese",nativeName:"",language:"zh",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],nn:["nn","default",{name:"nn",englishName:"Norwegian (Nynorsk)",nativeName:"norsk (nynorsk)",language:"nn",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sndag","mndag","tysdag","onsdag","torsdag","fredag","laurdag"],namesAbbr:["s","m","ty","on","to","fr","la"],namesShort:["s","m","ty","on","to","fr","la"]},months:{names:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],bs:["bs","default",{name:"bs",englishName:"Bosnian",nativeName:"bosanski",language:"bs",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"KM"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sri","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","juni","juli","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"az-Latn":["az-Latn","default",{name:"az-Latn",englishName:"Azeri (Latin)",nativeName:"Azrbaycanl",language:"az-Latn",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:"man."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Bazar","Bazarertsi","rnbaxam","rnb","Cmaxam","Cm","nb"],namesAbbr:["B","Be","a","","Ca","C",""],namesShort:["B","Be","a","","Ca","C",""]},months:{names:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avgust","Sentyabr","Oktyabr","Noyabr","Dekabr",""],namesAbbr:["Yan","Fev","Mar","Apr","May","yun","yul","Avg","Sen","Okt","Noy","Dek",""]},monthsGenitive:{names:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""],namesAbbr:["Yan","Fev","Mar","Apr","May","yun","yul","Avg","Sen","Okt","Noy","Dek",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],sma:["sma","default",{name:"sma",englishName:"Sami (Southern)",nativeName:"arjelsaemiengiele",language:"sma",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["aejlege","manta","djsta","gaskevhkoe","duarsta","bearjadahke","laavvardahke"],namesAbbr:["aej","ma","dj","gask","duar","bearj","laav"],namesShort:["a","m","d","g","d","b","l"]},months:{names:["tsengele","goevte","njoktje","voerhtje","suehpede","ruffie","snjaltje","metske","skerede","golke","rahka","goeve",""],namesAbbr:["tsen","goevt","njok","voer","sueh","ruff","snja","met","sker","golk","rahk","goev",""]},monthsGenitive:{names:["tsengelen","goevten","njoktjen","voerhtjen","suehpeden","ruffien","snjaltjen","metsken","skereden","golken","rahkan","goeven",""],namesAbbr:["tsen","goevt","njok","voer","sueh","ruff","snja","met","sker","golk","rahk","goev",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"uz-Cyrl":["uz-Cyrl","default",{name:"uz-Cyrl",englishName:"Uzbek (Cyrillic)",nativeName:"",language:"uz-Cyrl",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"yyyy '' d-MMMM",t:"HH:mm",T:"HH:mm:ss",f:"yyyy '' d-MMMM HH:mm",F:"yyyy '' d-MMMM HH:mm:ss",M:"d-MMMM",Y:"MMMM yyyy"}}}}],"mn-Cyrl":["mn-Cyrl","default",{name:"mn-Cyrl",englishName:"Mongolian (Cyrillic)",nativeName:"",language:"mn-Cyrl",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n$","n$"],",":"",".":",",symbol:""}},calendars:{standard:{"/":".",firstDay:1,days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""]},monthsGenitive:{names:["1","2","3","4","5","6","7","8","9","10","11","12",""],namesAbbr:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""]},AM:null,PM:null,patterns:{d:"yy.MM.dd",D:"yyyy '' MMMM d",t:"H:mm",T:"H:mm:ss",f:"yyyy '' MMMM d H:mm",F:"yyyy '' MMMM d H:mm:ss",M:"d MMMM",Y:"yyyy '' MMMM"}}}}],"iu-Cans":["iu-Cans","default",{name:"iu-Cans",englishName:"Inuktitut (Syllabics)",nativeName:"",language:"iu-Cans",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},patterns:{d:"d/M/yyyy",D:"dddd,MMMM dd,yyyy",f:"dddd,MMMM dd,yyyy h:mm tt",F:"dddd,MMMM dd,yyyy h:mm:ss tt",Y:"MMMM,yyyy"}}}}],"zh-Hant":["zh-Hant","default",{name:"zh-Hant",englishName:"Chinese (Traditional)",nativeName:"()",language:"zh-Hant",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{symbol:"HK$"}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],nb:["nb","default",{name:"nb",englishName:"Norwegian (Bokml)",nativeName:"norsk (bokml)",language:"nb",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","ma","ti","on","to","fr","l"],namesShort:["s","ma","ti","on","to","fr","l"]},months:{names:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],sr:["sr","default",{name:"sr",englishName:"Serbian",nativeName:"srpski",language:"sr",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"Din."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],namesAbbr:["ned","pon","uto","sre","et","pet","sub"],namesShort:["ne","po","ut","sr","e","pe","su"]},months:{names:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec",""]},AM:null,PM:null,eras:[{name:"n.e.",start:null,offset:0}],patterns:{d:"d.M.yyyy",D:"d. MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM yyyy H:mm",F:"d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],"tg-Cyrl":["tg-Cyrl","default",{name:"tg-Cyrl",englishName:"Tajik (Cyrillic)",nativeName:"",language:"tg-Cyrl",numberFormat:{",":"",".":",",groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0],",":"",".":","},currency:{pattern:["-n $","n $"],groupSizes:[3,0],",":"",".":";",symbol:".."}},calendars:{standard:{"/":".",days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},monthsGenitive:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:null,PM:null,patterns:{d:"dd.MM.yy",D:"d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy H:mm",F:"d MMMM yyyy H:mm:ss",Y:"MMMM yyyy"}}}}],dsb:["dsb","default",{name:"dsb",englishName:"Lower Sorbian",nativeName:"dolnoserbina",language:"dsb",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:""}},calendars:{standard:{"/":". ",firstDay:1,days:{names:["njeela","ponjeele","watora","srjoda","stwortk","ptk","sobota"],namesAbbr:["nje","pon","wa","srj","stw","pt","sob"],namesShort:["n","p","w","s","s","p","s"]},months:{names:["januar","februar","mrc","apryl","maj","junij","julij","awgust","september","oktober","nowember","december",""],namesAbbr:["jan","feb","mr","apr","maj","jun","jul","awg","sep","okt","now","dec",""]},monthsGenitive:{names:["januara","februara","mrca","apryla","maja","junija","julija","awgusta","septembra","oktobra","nowembra","decembra",""],namesAbbr:["jan","feb","mr","apr","maj","jun","jul","awg","sep","okt","now","dec",""]},AM:null,PM:null,eras:[{name:"po Chr.",start:null,offset:0}],patterns:{d:"d. M. yyyy",D:"dddd, 'dnja' d. MMMM yyyy",t:"H.mm 'go.'",T:"H:mm:ss",f:"dddd, 'dnja' d. MMMM yyyy H.mm 'go.'",F:"dddd, 'dnja' d. MMMM yyyy H:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}}],smj:["smj","default",{name:"smj",englishName:"Sami (Lule)",nativeName:"julevusmegiella",language:"smj",numberFormat:{",":"",".":",",percent:{",":"",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["jllek","mnnodahka","dijstahka","gasskavahkko","duorastahka","bierjjedahka","lvvodahka"],namesAbbr:["jl","mn","dis","gas","duor","bier","lv"],namesShort:["","m","d","g","d","b","l"]},months:{names:["djakmnno","guovvamnno","sjnjuktjamnno","vuoratjismnno","moarmesmnno","biehtsemnno","sjnjilltjamnno","brggemnno","ragtmnno","glgdismnno","basdismnno","javllamnno",""],namesAbbr:["dj","guov","snju","vuor","moar","bieh","snji","brg","rag","glg","bas","javl",""]},monthsGenitive:{names:["djakmno","guovvamno","sjnjuktjamno","vuoratjismno","moarmesmno","biehtsemno","sjnjilltjamno","brggemno","ragtmno","glgdismno","basdismno","javllamno",""],namesAbbr:["dj","guov","snju","vuor","moar","bieh","snji","brg","rag","glg","bas","javl",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"MMMM d'. b. 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"MMMM d'. b. 'yyyy HH:mm",F:"MMMM d'. b. 'yyyy HH:mm:ss",M:"MMMM d'. b. '",Y:"MMMM yyyy"}}}}],"uz-Latn":["uz-Latn","default",{name:"uz-Latn",englishName:"Uzbek (Latin)",nativeName:"U'zbek",language:"uz-Latn",numberFormat:{",":"",".":",",percent:{pattern:["-n%","n%"],",":"",".":","},currency:{pattern:["-n $","n $"],decimals:0,",":"",".":",",symbol:"so'm"}},calendars:{standard:{firstDay:1,days:{names:["yakshanba","dushanba","seshanba","chorshanba","payshanba","juma","shanba"],namesAbbr:["yak.","dsh.","sesh.","chr.","psh.","jm.","sh."],namesShort:["ya","d","s","ch","p","j","sh"]},months:{names:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""],namesAbbr:["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr",""]},AM:null,PM:null,patterns:{d:"dd/MM yyyy",D:"yyyy 'yil' d-MMMM",t:"HH:mm",T:"HH:mm:ss",f:"yyyy 'yil' d-MMMM HH:mm",F:"yyyy 'yil' d-MMMM HH:mm:ss",M:"d-MMMM",Y:"MMMM yyyy"}}}}],"mn-Mong":["mn-Mong","default",{name:"mn-Mong",englishName:"Mongolian (Traditional Mongolian)",nativeName:" ",language:"mn-Mong",numberFormat:{groupSizes:[3,0],percent:{pattern:["-n%","n%"],groupSizes:[3,0]},currency:{pattern:["$-n","$n"],groupSizes:[3,0],symbol:""}},calendars:{standard:{firstDay:1,days:{names:[" "," "," "," "," "," "," "],namesAbbr:[" "," "," "," "," "," "," "],namesShort:["","","","","","",""]},months:{names:[" "," "," "," "," "," "," "," "," "," ","  ","  ",""],namesAbbr:[" "," "," "," "," "," "," "," "," "," ","  ","  ",""]},AM:null,PM:null,eras:[{name:"  ",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy' ' M'  'd'  '",t:"H:mm",T:"H:mm:ss",f:"yyyy' ' M'  'd'  ' H:mm",F:"yyyy' ' M'  'd'  ' H:mm:ss",M:"M'' d''",Y:"yyyy'' M''"}}}}],"iu-Latn":["iu-Latn","default",{name:"iu-Latn",englishName:"Inuktitut (Latin)",nativeName:"Inuktitut",language:"iu-Latn",numberFormat:{groupSizes:[3,0],percent:{groupSizes:[3,0]}},calendars:{standard:{days:{names:["Naattiinguja","Naggajjau","Aippiq","Pingatsiq","Sitammiq","Tallirmiq","Sivataarvik"],namesAbbr:["Nat","Nag","Aip","Pi","Sit","Tal","Siv"],namesShort:["N","N","A","P","S","T","S"]},months:{names:["Jaannuari","Viivvuari","Maatsi","Iipuri","Mai","Juuni","Julai","Aaggiisi","Sitipiri","Utupiri","Nuvipiri","Tisipiri",""],namesAbbr:["Jan","Viv","Mas","Ipu","Mai","Jun","Jul","Agi","Sii","Uut","Nuv","Tis",""]},patterns:{d:"d/MM/yyyy",D:"ddd, MMMM dd,yyyy",f:"ddd, MMMM dd,yyyy h:mm tt",F:"ddd, MMMM dd,yyyy h:mm:ss tt"}}}}],"tzm-Latn":["tzm-Latn","default",{name:"tzm-Latn",englishName:"Tamazight (Latin)",nativeName:"Tamazight",language:"tzm-Latn",numberFormat:{pattern:["n-"],",":".",".":",",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],symbol:"DZD"}},calendars:{standard:{"/":"-",firstDay:6,days:{names:["Acer","Arime","Aram","Ahad","Amhadh","Sem","Sedh"],namesAbbr:["Ace","Ari","Ara","Aha","Amh","Sem","Sed"],namesShort:["Ac","Ar","Ar","Ah","Am","Se","Se"]},months:{names:["Yenayer","Furar","Maghres","Yebrir","Mayu","Yunyu","Yulyu","Ghuct","Cutenber","Ktuber","Wambir","Dujanbir",""],namesAbbr:["Yen","Fur","Mag","Yeb","May","Yun","Yul","Ghu","Cut","Ktu","Wam","Duj",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"dd MMMM, yyyy",t:"H:mm",T:"H:mm:ss",f:"dd MMMM, yyyy H:mm",F:"dd MMMM, yyyy H:mm:ss",M:"dd MMMM"}}}}],"ha-Latn":["ha-Latn","default",{name:"ha-Latn",englishName:"Hausa (Latin)",nativeName:"Hausa",language:"ha-Latn",numberFormat:{currency:{pattern:["$-n","$ n"],symbol:"N"}},calendars:{standard:{days:{names:["Lahadi","Litinin","Talata","Laraba","Alhamis","Juma'a","Asabar"],namesAbbr:["Lah","Lit","Tal","Lar","Alh","Jum","Asa"],namesShort:["L","L","T","L","A","J","A"]},months:{names:["Januwaru","Febreru","Maris","Afrilu","Mayu","Yuni","Yuli","Agusta","Satumba","Oktocba","Nuwamba","Disamba",""],namesAbbr:["Jan","Feb","Mar","Afr","May","Yun","Yul","Agu","Sat","Okt","Nuw","Dis",""]},AM:["Safe","safe","SAFE"],PM:["Yamma","yamma","YAMMA"],eras:[{name:"AD",start:null,offset:0}],patterns:{d:"d/M/yyyy"}}}}],"zh-CHS":["zh-CHS","default",{name:"zh-CHS",englishName:"Chinese (Simplified) Legacy",nativeName:"() ",language:"zh-CHS",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$n"],symbol:""}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}],"zh-CHT":["zh-CHT","default",{name:"zh-CHT",englishName:"Chinese (Traditional) Legacy",nativeName:"() ",language:"zh-CHT",numberFormat:{percent:{pattern:["-n%","n%"]},currency:{symbol:"HK$"}},calendars:{standard:{days:{names:["","","","","","",""],namesAbbr:["","","","","","",""],namesShort:["","","","","","",""]},months:{names:["","","","","","","","","","","","",""],namesAbbr:["","","","","","","","","","","","",""]},AM:["","",""],PM:["","",""],eras:[{name:"",start:null,offset:0}],patterns:{d:"d/M/yyyy",D:"yyyy''M''d''",t:"H:mm",T:"H:mm:ss",f:"yyyy''M''d'' H:mm",F:"yyyy''M''d'' H:mm:ss",M:"M''d''",Y:"yyyy''M''"}}}}]}},67630:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeSequence=void 0;var n=r(47925),i=r(52087),o=i.numericSequence.NumericSequence,a=i.numericSequenceRange.NumericSequenceRange,s=r(83351),l=function(){function e(e){this.unit=e,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999"),this.max=new Date("0001-01-01T00:00:00.000")}return e.prototype.add=function(e){e<this.min&&(this.min=e),e>this.max&&(this.max=e),this.sequence.push(e)},e.prototype.extendToCover=function(t,r){for(var n=this.min;t<n;)n=e.ADD_INTERVAL(n,-this.interval,this.unit),this.sequence.splice(0,0,n);for(this.min=n,n=this.max;n<r;)n=e.ADD_INTERVAL(n,this.interval,this.unit),this.sequence.push(n);this.max=n},e.prototype.moveToCover=function(t,r){var n=e.getDelta(t,r,this.unit),i=Math.floor(n/this.interval);for(this.min=e.ADD_INTERVAL(this.min,i*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<r;)this.max=e.ADD_INTERVAL(this.max,this.interval,this.unit),this.sequence.push(this.max)},e.CALCULATE=function(t,r,n,i){switch(i||(i=e.GET_INTERVAL_UNIT(t,r,n)),i){case s.DateTimeUnit.Year:return e.CALCULATE_YEARS(t,r,n);case s.DateTimeUnit.Month:return e.CALCULATE_MONTHS(t,r,n);case s.DateTimeUnit.Week:return e.CALCULATE_WEEKS(t,r,n);case s.DateTimeUnit.Day:return e.CALCULATE_DAYS(t,r,n);case s.DateTimeUnit.Hour:return e.CALCULATE_HOURS(t,r,n);case s.DateTimeUnit.Minute:return e.CALCULATE_MINUTES(t,r,n);case s.DateTimeUnit.Second:return e.CALCULATE_SECONDS(t,r,n);case s.DateTimeUnit.Millisecond:return e.CALCULATE_MILLISECONDS(t,r,n)}},e.CALCULATE_YEARS=function(t,r,n){var i=a.calculateDataRange(t.getFullYear(),r.getFullYear(),!1),l=o.calculate(a.calculate(0,i.max-i.min),n,0,null,null,[1,2,5]),c=Math.floor(i.min/l.interval)*l.interval,u=new Date(c,0,1);return e.fromNumericSequence(u,l,s.DateTimeUnit.Year)},e.CALCULATE_MONTHS=function(t,r,n){var i=t.getFullYear(),a=r.getFullYear(),l=t.getMonth(),c=12*(a-i)+r.getMonth(),u=new Date(i,0,1),d=o.calculateUnits(l,c,n,[1,2,3,6,12]);return e.fromNumericSequence(u,d,s.DateTimeUnit.Month)},e.CALCULATE_WEEKS=function(t,r,n){var a=(t.getDay()-0+7)%7,l=t.getDate()-a,c=new Date(t.getFullYear(),t.getMonth(),l),u=i.double.ceilWithPrecision(e.getDelta(c,r,s.DateTimeUnit.Week)),d=o.calculateUnits(0,u,n,[1,2,4,8]);return e.fromNumericSequence(c,d,s.DateTimeUnit.Week)},e.CALCULATE_DAYS=function(t,r,n){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),l=i.double.ceilWithPrecision(e.getDelta(t,r,s.DateTimeUnit.Day)),c=o.calculateUnits(0,l,n,[1,2,7,14]);return e.fromNumericSequence(a,c,s.DateTimeUnit.Day)},e.CALCULATE_HOURS=function(t,r,n){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),l=i.double.floorWithPrecision(e.getDelta(a,t,s.DateTimeUnit.Hour)),c=i.double.ceilWithPrecision(e.getDelta(a,r,s.DateTimeUnit.Hour)),u=o.calculateUnits(l,c,n,[1,2,3,6,12,24]);return e.fromNumericSequence(a,u,s.DateTimeUnit.Hour)},e.CALCULATE_MINUTES=function(t,r,n){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),l=i.double.floorWithPrecision(e.getDelta(a,t,s.DateTimeUnit.Minute)),c=i.double.ceilWithPrecision(e.getDelta(a,r,s.DateTimeUnit.Minute)),u=o.calculateUnits(l,c,n,[1,2,5,10,15,30,60,120,180,360,720,1440]);return e.fromNumericSequence(a,u,s.DateTimeUnit.Minute)},e.CALCULATE_SECONDS=function(t,r,n){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),l=i.double.floorWithPrecision(e.getDelta(a,t,s.DateTimeUnit.Second)),c=i.double.ceilWithPrecision(e.getDelta(a,r,s.DateTimeUnit.Second)),u=o.calculateUnits(l,c,n,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return e.fromNumericSequence(a,u,s.DateTimeUnit.Second)},e.CALCULATE_MILLISECONDS=function(t,r,n){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),l=e.getDelta(i,t,s.DateTimeUnit.Millisecond),c=e.getDelta(i,r,s.DateTimeUnit.Millisecond),u=o.calculate(a.calculate(l,c),n,0);return e.fromNumericSequence(i,u,s.DateTimeUnit.Millisecond)},e.ADD_INTERVAL=function(e,t,r){switch(t=Math.round(t),r){case s.DateTimeUnit.Year:return n.addYears(e,t);case s.DateTimeUnit.Month:return n.addMonths(e,t);case s.DateTimeUnit.Week:return n.addWeeks(e,t);case s.DateTimeUnit.Day:return n.addDays(e,t);case s.DateTimeUnit.Hour:return n.addHours(e,t);case s.DateTimeUnit.Minute:return n.addMinutes(e,t);case s.DateTimeUnit.Second:return n.addSeconds(e,t);case s.DateTimeUnit.Millisecond:return n.addMilliseconds(e,t)}},e.fromNumericSequence=function(t,r,n){for(var i=new e(n),o=0;o<r.sequence.length;o++){var a=r.sequence[o],s=e.ADD_INTERVAL(t,a,n);i.add(s)}return i.interval=r.interval,i.intervalOffset=r.intervalOffset,i},e.getDelta=function(e,t,r){var n=0;switch(r){case s.DateTimeUnit.Year:n=t.getFullYear()-e.getFullYear();break;case s.DateTimeUnit.Month:n=12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth();break;case s.DateTimeUnit.Week:n=(t.getTime()-e.getTime())/6048e5;break;case s.DateTimeUnit.Day:n=(t.getTime()-e.getTime())/864e5;break;case s.DateTimeUnit.Hour:n=(t.getTime()-e.getTime())/36e5;break;case s.DateTimeUnit.Minute:n=(t.getTime()-e.getTime())/6e4;break;case s.DateTimeUnit.Second:n=(t.getTime()-e.getTime())/1e3;break;case s.DateTimeUnit.Millisecond:n=t.getTime()-e.getTime()}return n},e.GET_INTERVAL_UNIT=function(t,r,n){n=Math.max(n,2);var i=e.getDelta(t,r,s.DateTimeUnit.Day);if(i>356&&i>=180*n)return s.DateTimeUnit.Year;if(i>60&&i>7*n)return s.DateTimeUnit.Month;if(i>14&&i>2*n)return s.DateTimeUnit.Week;var o=e.getDelta(t,r,s.DateTimeUnit.Hour);if(i>2&&o>12*n)return s.DateTimeUnit.Day;if(o>=24&&o>=n)return s.DateTimeUnit.Hour;var a=e.getDelta(t,r,s.DateTimeUnit.Minute);if(a>2&&a>=n)return s.DateTimeUnit.Minute;var l=e.getDelta(t,r,s.DateTimeUnit.Second);if(l>2&&l>=.8*n)return s.DateTimeUnit.Second;if(e.getDelta(t,r,s.DateTimeUnit.Millisecond)>0)return s.DateTimeUnit.Millisecond;var c=t;return 0!==c.getMilliseconds()?s.DateTimeUnit.Millisecond:0!==c.getSeconds()?s.DateTimeUnit.Second:0!==c.getMinutes()?s.DateTimeUnit.Minute:0!==c.getHours()?s.DateTimeUnit.Hour:1!==c.getDate()?s.DateTimeUnit.Day:0!==c.getMonth()?s.DateTimeUnit.Month:s.DateTimeUnit.Year},e.MIN_COUNT=1,e.MAX_COUNT=1e3,e}();t.DateTimeSequence=l},47925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMilliseconds=t.addSeconds=t.addMinutes=t.addHours=t.addDays=t.addWeeks=t.addMonths=t.addYears=void 0;var r=[31,28,31,30,31,30,31,31,30,31,30,31],n=[31,29,31,30,31,30,31,31,30,31,30,31];function i(e){return e%4==0&&e%100!=0||e%400==0}function o(e,t){var r=e.getFullYear(),n=e.getMonth(),i=e.getDate(),o=new Date(e.getTime());return o.setFullYear(r,n,i+t),o}t.addYears=function(e,t){var r=e.getFullYear(),n=e.getMonth(),o=e.getDate(),a=2===n&&29===o,s=new Date(e.getTime());return r+=t,a&&!i(r)&&(o=28),s.setFullYear(r,n,o),s},t.addMonths=function(e,t){var o=e.getFullYear(),a=e.getMonth(),s=e.getDate(),l=new Date(e.getTime());return o+=(t-t%12)/12,(a+=t%12)>11&&(a%=12,o++),s=Math.min(s,function(e,t){return i(e)?n[t]:r[t]}(o,a)),l.setFullYear(o,a,s),l},t.addWeeks=function(e,t){return o(e,7*t)},t.addDays=o,t.addHours=function(e,t){return new Date(e.getTime()+36e5*t)},t.addMinutes=function(e,t){return new Date(e.getTime()+6e4*t)},t.addSeconds=function(e,t){return new Date(e.getTime()+1e3*t)},t.addMilliseconds=function(e,t){return new Date(e.getTime()+t)}},23224:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DataLabelsDisplayUnitSystem=t.WholeUnitsDisplayUnitSystem=t.DefaultDisplayUnitSystem=t.NoDisplayUnitSystem=t.DisplayUnitSystem=t.DisplayUnit=void 0;var o=r(63100),a=r(52087),s=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,l=function(){function e(){}return e.prototype.project=function(e){return this.value?a.double.removeDecimalNoise(e/this.value):e},e.prototype.reverseProject=function(e){return this.value?e*this.value:e},e.prototype.isApplicableTo=function(e){e=Math.abs(e);var t=a.double.getPrecision(e,3);return a.double.greaterOrEqualWithPrecision(e,this.applicableRangeMin,t)&&a.double.lessWithPrecision(e,this.applicableRangeMax,t)},e.prototype.isScaling=function(){return this.value>1},e}();t.DisplayUnit=l;var c=function(){function e(e){this.units=e||[]}return Object.defineProperty(e.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),e.prototype.update=function(e){void 0!==e&&(this.unitBaseValue=e,this.displayUnit=this.findApplicableDisplayUnit(e))},e.prototype.findApplicableDisplayUnit=function(e){for(var t=0,r=this.units;t<r.length;t++){var n=r[t];if(n.isApplicableTo(e))return n}},e.prototype.format=function(e,t,r,n,i){r=this.getNumberOfDecimalsForFormatting(t,r);var o="";return this.isFormatSupported(t)&&!this.hasScientitifcFormat(t)&&this.isScalingUnit()&&this.shouldRespectScalingUnit(t)&&(e=this.displayUnit.project(e),o=this.displayUnit.labelFormat),this.formatHelper({value:e,nonScientificFormat:o,format:t,decimals:r,trailingZeros:n,cultureSelector:i})},e.prototype.isFormatSupported=function(t){return!e.UNSUPPORTED_FORMATS.test(t)},e.prototype.isPercentageFormat=function(e){return e&&e.indexOf("%")>=0},e.prototype.shouldRespectScalingUnit=function(e){return!0},e.prototype.getNumberOfDecimalsForFormatting=function(e,t){return t},e.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},e.prototype.formatHelper=function(e){var t=e.value,r=e.cultureSelector,n=e.decimals,i=e.trailingZeros,a=e.nonScientificFormat,s=e.format;if("g"!==s&&"G"!==s||null==n||(s="#,0.00"),(s=o.numberFormat.addDecimalsToFormat(s,n,i))&&!o.formattingService.isStandardNumberFormat(s))return o.formattingService.formatNumberWithCustomOverride(t,s,a,r);s||(s="G"),a||(a="{0}");var l=o.formattingService.formatValue(t,s,r);return o.formattingService.format(a,[l])},e.prototype.formatSingleValue=function(e,t,r,n,i){return this.update(this.shouldUseValuePrecision(e)?a.double.getPrecision(e,8):e),this.format(e,t,r,n,i)},e.prototype.shouldUseValuePrecision=function(e){if(0===this.units.length)return!0;for(var t=0,r=0;r<this.units.length;r++)if(this.units[r].isScaling()){t=this.units[r].applicableRangeMin;break}return Math.abs(e)<t},e.prototype.isScientific=function(e){return e<-1e15||e>1e15||-1e-4<e&&e<1e-4&&0!==e},e.prototype.hasScientitifcFormat=function(e){return e&&-1!==e.toUpperCase().indexOf("E")},e.prototype.supportsScientificFormat=function(e){return!e||s.test(e)},e.prototype.shouldFallbackToScientific=function(e,t){return!this.hasScientitifcFormat(t)&&this.supportsScientificFormat(t)&&this.isScientific(e)},e.prototype.getScientificFormat=function(e,t,r,n){if(this.isFormatSupported(t)&&this.shouldFallbackToScientific(e,t)){var i=o.numberFormat.getNumericFormat(e,t);return r&&(i=o.numberFormat.addDecimalsToFormat(i||"0",Math.abs(r),n)),i?i+"E+0":"0.##E+0"}return t},e.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,e}();t.DisplayUnitSystem=c;var u=function(e){function t(){return e.call(this,[])||this}return i(t,e),t}(c);t.NoDisplayUnitSystem=u;var d=function(e){function t(r){return e.call(this,t.getUnits(r))||this}return i(t,e),t.prototype.format=function(t,r,n,i,o){return r=this.getScientificFormat(t,r,n,i),e.prototype.format.call(this,t,r,n,i,o)},t.RESET=function(){t.units=null},t.getUnits=function(e){return t.units||(t.units=m(e,(function(e,t,r){return e-t>=1e3?e/10:r})),t.units[t.units.length-1].applicableRangeMax=1/0),t.units},t}(c);t.DefaultDisplayUnitSystem=d;var h=function(e){function t(r){return e.call(this,t.getUnits(r))||this}return i(t,e),t.RESET=function(){t.units=null},t.getUnits=function(e){return t.units||(t.units=m(e),t.units[t.units.length-1].applicableRangeMax=1/0),t.units},t.prototype.format=function(t,r,n,i,o){return r=this.getScientificFormat(t,r,n,i),e.prototype.format.call(this,t,r,n,i,o)},t}(c);t.WholeUnitsDisplayUnitSystem=h;var p=function(e){function t(r){return e.call(this,t.getUnits(r))||this}return i(t,e),t.prototype.isFormatSupported=function(e){return!t.UNSUPPORTED_FORMATS.test(e)},t.getUnits=function(e){if(!t.units){var r=[],n=function(e,t,r){return-1===e&&e-t>=1e3?e/10:r},i=e(-1);y(r,t.AUTO_DISPLAYUNIT_VALUE,i.title,i.format,n),i=e(0),y(r,t.NONE_DISPLAYUNIT_VALUE,i.title,i.format,n),t.units=r.concat(m(e,n)),t.units[t.units.length-1].applicableRangeMax=1/0}return t.units},t.prototype.format=function(t,r,n,i,o){return r=this.getScientificFormat(t,r,n,i),e.prototype.format.call(this,t,r,n,i,o)},t.AUTO_DISPLAYUNIT_VALUE=0,t.NONE_DISPLAYUNIT_VALUE=1,t.UNSUPPORTED_FORMATS=/^(e\d*)$/i,t}(c);function m(e,t){for(var r=[],n=3;n<24;n++){var i=e(n);i&&y(r,a.double.pow10(n),i.title,i.format,t)}return r}function y(e,t,r,n,i){if(r||n){var o=t;if(e.length>0){var a=e[e.length-1];i&&(o=i(t,a.value,o)),a.applicableRangeMax=o}var s=new l;s.value=t,s.applicableRangeMin=o,s.applicableRangeMax=1e3*o,s.title=r,s.labelFormat=n,e.push(s)}}t.DataLabelsDisplayUnitSystem=p},31520:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayUnitSystemType=void 0,(r=t.DisplayUnitSystemType||(t.DisplayUnitSystemType={}))[r.Default=0]="Default",r[r.Verbose=1]="Verbose",r[r.WholeUnits=2]="WholeUnits",r[r.DataLabels=3]="DataLabels"},83801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Family=t.fallbackFonts=void 0;var n=r(6721);t.fallbackFonts=["helvetica","arial","sans-serif"],t.Family={light:new n.FamilyInfo(t.fallbackFonts),semilight:new n.FamilyInfo(t.fallbackFonts),regular:new n.FamilyInfo(t.fallbackFonts),semibold:new n.FamilyInfo(t.fallbackFonts),bold:new n.FamilyInfo(t.fallbackFonts),lightSecondary:new n.FamilyInfo(t.fallbackFonts),regularSecondary:new n.FamilyInfo(t.fallbackFonts),boldSecondary:new n.FamilyInfo(t.fallbackFonts)}},6721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FamilyInfo=void 0;var r=function(){function e(e){this.families=e}return Object.defineProperty(e.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),e.prototype.getFamily=function(e){if(void 0===e&&(e=/^wf_/),!this.families)return null;if(e)for(var t=0,r=this.families;t<r.length;t++){var n=r[t];if(e.test(n))return n}return this.families[0]},Object.defineProperty(e.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),e.prototype.getCSS=function(){return this.families?this.families.map((function(e){return e.indexOf(" ")>0?"'"+e+"'":e})).join(", "):null},e}();t.FamilyInfo=r},44932:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.fixDateTimeFormat=t.findDateFormat=void 0,t.findDateFormat=function(e,t,r){switch(t){case"m":t="M";break;case"O":case"o":t="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":t="S";break;case"u":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="F";break;case"y":case"Y":switch(r){case"default":case"en":case"en-US":t="MMMM, yyyy";break;default:t="Y"}}return{value:e,format:t}},t.fixDateTimeFormat=function(e){if(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),r||(r=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map((function(e){return{r:new RegExp("%"+e+"(?!"+e+")","g"),s:e}}))),-1!==e.indexOf("%")&&e.length>2)for(var t=0;t<r.length;t++)e=e.replace(r[t].r,r[t].s);return e}},36394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=t.canFormat=void 0;var n,i,o=r(44932),a=r(36459),s=r(51248),l=r(77717);function c(e,t,r){var n=r.calendar.patterns;!function(e){var t=e.patterns;void 0===t.g&&(t.g=t.f.replace(t.D,t.d),t.G=t.F.replace(t.D,t.d))}(r.calendar);var i=(0,o.findDateFormat)(e,t,r.name);return t=1===i.format.length?n[i.format]:i.format,r||(r=this.getCurrentCulture()),l.Globalize.format(i.value,t,r)}t.canFormat=function(e){return e instanceof Date},t.format=function(e,t,r){var u=1===(t=t||"G").length;try{return u?c(e,t,r):function(e,t,r){var c,u=[];if((t=a.preserveLiterals(t,u)).indexOf("F")>-1){t=s.replaceAll(t,"FFFF","FFF");var d=e.getMilliseconds();if(d%10>=1&&(t=s.replaceAll(t,"FFF","fff")),t=s.replaceAll(t,"FFF","FF"),d%100/10>=1&&(t=s.replaceAll(t,"FF","ff")),t=s.replaceAll(t,"FF","F"),d%1e3/100>=1&&(t=s.replaceAll(t,"F","f")),""===(t=s.replaceAll(t,"F",""))||"%"===t)return""}return t=function(e){return e===n?i:(n=e,e=(0,o.fixDateTimeFormat)(e),i=e,e)}(t),c=function(e,t){var r=t[":"];if(":"===r)return e;for(var n="",i=e.length,o=0;o<i;o++){var a=e.charAt(o);n+=":"===a?r:a}return n}(c=l.Globalize.format(e,t,r),r.calendar),a.restoreLiterals(c,u,!1)}(e,t,r)}catch(t){return c(e,"G",r)}}},36459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreLiterals=t.preserveLiterals=t.removeLiterals=void 0;var r=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");t.removeLiterals=function(e){return r.lastIndex=0,e.replace(r,"")},t.preserveLiterals=function(e,t){for(r.lastIndex=0;;){var n=r.exec(e);if(!n)break;var i=n[0],o=r.lastIndex-i.length,a=String.fromCharCode(57600+t.length);t.push(i),e=e.substring(0,o)+a+e.substring(r.lastIndex),r.lastIndex=o+1}return e},t.restoreLiterals=function(e,t,r){void 0===r&&(r=!0);for(var n=t.length,i=0;i<n;i++){var o=String.fromCharCode(57600+i),a=t[i];if(!r){var s=a[0];a="\\"===s||1===a.length||a[a.length-1]!==s?a.substring(1):a.substring(1,a.length-1)}e=e.replace(o,a)}return e}},63100:(e,t,r)=>{"use strict";var n=r(30327);Object.defineProperty(t,"__esModule",{value:!0}),t.formattingEncoder=t.dateTimeFormat=t.numberFormat=t.formattingService=t.FormattingService=void 0;var i=r(77717);(0,r(90980).default)(i.Globalize);var o=r(36394);t.dateTimeFormat=o;var a=r(87534);t.numberFormat=a;var s=r(36459);t.formattingEncoder=s;var l=r(83351),c=/({{)|(}})|{(\d+[^}]*)}/g,u=function(){function e(){}return e.prototype.formatValue=function(e,t,r){if(null==e)return"";var n=this.getCulture(r);return o.canFormat(e)?o.format(e,t,n):a.canFormat(e)?a.format(e,t,n):e.toString()},e.prototype.format=function(e,t,r){var n=this;return e?e.replace(c,(function(e,i,o,a){if(i)return"{";if(o)return"}";var s=a.split(":"),l=parseInt(s[0],10),c=s[1];return n.formatValue(t[l],c,r)})):""},e.prototype.isStandardNumberFormat=function(e){return a.isStandardFormat(e)},e.prototype.formatNumberWithCustomOverride=function(e,t,r,n){var i=this.getCulture(n);return a.formatWithCustomOverride(e,t,r,i)},e.prototype.dateFormatString=function(e){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(e)},e.prototype.setCurrentCulture=function(e){this._currentCultureSelector!==e&&(this._currentCulture=this.getCulture(e),this._currentCultureSelector=e,this._dateTimeScaleFormatInfo=new d(this._currentCulture))},e.prototype.getCulture=function(e){if(null==e)return null==this._currentCulture&&this.initialize(),this._currentCulture;var t=i.Globalize.findClosestCulture(e);return t||(t=i.Globalize.culture("en-US")),t},e.prototype.initialize=function(){var e=this.getCurrentCulture();this.setCurrentCulture(e);var t=this.getUrlParam("calendar");if(t){var r=this._currentCulture,n=r.calendars[t];n&&(r.calendar=n)}},e.prototype.getCurrentCulture=function(){return(null==n?void 0:n.navigator)?n.navigator.userLanguage||n.navigator.language:"en-US"},e.prototype.getUrlParam=function(e){var t=n.location.search.match(RegExp("[?&]"+e+"=([^&]*)"));return t?t[1]:void 0},e}();t.FormattingService=u;var d=function(){function e(e){var t=e.calendar,r=t.patterns,n=t.months.namesAbbr,i=n&&n[0],o=r.Y,a=r.M,s=r.f,l=r.T,c=r.t,u=s.indexOf(",")>-1?", ":" ",d=0===o.indexOf("yyyy'")&&o.length>6&&"'"===o[6];this.YearPattern=d?o.substring(0,7):"yyyy";var h=s.indexOf("yy"),p=s.indexOf("MMMM");this.MonthPattern=i&&p>-1?h>p?"MMM yyyy":"yyyy MMM":o,this.DayPattern=i?a.replace("MMMM","MMM"):a;var m=s.indexOf("mm"),y=s.indexOf("tt")>-1?c.replace(":mm ",""):c;this.HourPattern=h<m?this.DayPattern+u+y:y+u+this.DayPattern,this.MinutePattern=c,this.SecondPattern=l,this.MillisecondPattern=l.replace("ss","ss.fff"),"fi-FI"===e.name&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return e.prototype.getFormatString=function(e){switch(e){case l.DateTimeUnit.Year:return this.YearPattern;case l.DateTimeUnit.Month:return this.MonthPattern;case l.DateTimeUnit.Week:case l.DateTimeUnit.Day:return this.DayPattern;case l.DateTimeUnit.Hour:return this.HourPattern;case l.DateTimeUnit.Minute:return this.MinutePattern;case l.DateTimeUnit.Second:return this.SecondPattern;case l.DateTimeUnit.Millisecond:return this.MillisecondPattern}},e}(),h=new u;t.formattingService=h},83351:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeUnit=void 0,(r=t.DateTimeUnit||(t.DateTimeUnit={}))[r.Year=0]="Year",r[r.Month=1]="Month",r[r.Week=2]="Week",r[r.Day=3]="Day",r[r.Hour=4]="Hour",r[r.Minute=5]="Minute",r[r.Second=6]="Second",r[r.Millisecond=7]="Millisecond"},87534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFormatMetadata=t.formatWithCustomOverride=t.format=t.isStandardFormat=t.canFormat=t.getComponents=t.hasFormatComponents=t.addDecimalsToFormat=t.getNumericFormat=t.NumberFormatComponentsDelimeter=void 0;var n,i=r(77717),o=r(52087),a=r(51248),s=r(36459),l=r(63100),c=/\{.+\}/,u=/e[+-]*[0#]+/i,d=/^[a-z]\d{0,2}$/i,h=/0+$/,p=/\.([0#]*)/g,m=/[0#,\.]+[0,#]*/g,y=/([0#])(?=[^0#]*$)/,f="0",g="#",b=new RegExp([f,g].join("|"),"g");function v(e,t){if(null==t)return t;if(S(t)){var r=w(t),n=r.positive,i=r.negative,o=r.zero;return M(0,e>0?n:0===e?o:i)}return M(0,t)}function M(e,t){var r=o.regExpExtensions.run(m,t);return r?r[0]:t}function x(e,t,r){if((t=Math.abs(t))>=0){var n=[];e=s.preserveLiterals(e,n);var i=r?f:g,l=a.repeat(i,Math.abs(t)),c=o.regExpExtensions.run(p,e);if(c){var u=e.substring(0,c.index),d=e.substring(c.index+1,c[1].length+c.index+1),h=e.substring(c.index+c[0].length);if(r)d=l;else{var m=l.length-d.length;m>0?d+=l.slice(-m):m<0&&(d=d.slice(0,m))}d.length>0&&(d="."+d),e=u+d+h}else l.length>0&&(e=e.replace(y,"$1."+l));0!==n.length&&(e=s.restoreLiterals(e,n))}return e}function S(e){return-1!==s.removeLiterals(e).indexOf(t.NumberFormatComponentsDelimeter)}function w(e){var r={hasNegative:!1,positive:e,negative:e,zero:e},n=[],i=(e=s.preserveLiterals(e,n)).split(t.NumberFormatComponentsDelimeter),o=i.length;return o>1&&(0!==n.length&&(i=i.map((function(e){return s.restoreLiterals(e,n)}))),r.hasNegative=!0,r.positive=r.zero=i[0],r.negative=i[1],o>2&&(r.zero=i[2])),r}function _(e){return d.test(e)}function T(e,t,r,a){var c,d=r.numberFormat;if(!isFinite(e))return i.Globalize.format(e,void 0);var h=w(t);t=e>0?h.positive:0===e?h.zero:h.negative,h.hasNegative&&(e=Math.abs(e));var p=C(t,!0),m=[];if(p.hasLiterals&&(t=s.preserveLiterals(t,m)),p.hasE&&!a){var y=o.regExpExtensions.run(u,t);if(y){var f=t.substring(0,y.index),g=t.substring(y.index+2),b=k(f,p);if(1!==(E=N(f,p))&&(e*=E),"number"!=typeof e)return String(e);var M=e.toExponential(b),x=M.indexOf("e"),S=M.substring(0,x),_=M.substring(x+1),T=Z(S,f,d),L=Z(_,g,d);"+"===L.charAt(0)&&"+"!==y[0].charAt(1)&&(L=L.substring(1)),c=T+y[0].charAt(0)+L}}if(void 0===c){var E,z=void 0,G=!1;if(b=k(t,p),1!==(E=N(t,p))&&(e*=E),e=parseFloat(I(e,b)),!isFinite(e))return i.Globalize.format(e,void 0);a?(a=function(e,t){if(!t||void 0===e)return e;var r="{0:"+t+"}";return e.replace("{0}",r)}(a,v(e,t)),z=l.formattingService.format(a,[e],r.name),G=!0):z=I(e,b),c=Z(z,t,d,a,G)}return p.hasLiterals&&(c=s.restoreLiterals(c,m,!1)),n=p,c}function I(e,t){var r="",n=0;t>16&&(n=t-16,t=16);var i=o.double.log10(Math.abs(e));if(i<16){if(i>0){var s=16-i;t>s&&(n+=t-s,t=s)}r=e.toFixed(t)}else if(16===i)r=e.toFixed(0),(n+=t)>0&&(r+=".");else{if("number"!=typeof e)return String(e);var l=(r=e.toExponential(15)).indexOf("e");if(l>0){var c=r.indexOf("."),u=r.substring(0,l),d=r.substring(l+1),h=parseInt(d,10)-(u.length-c-1);r=u.replace(".","")+a.repeat("0",h),t>0&&(r=r+"."+a.repeat("0",t))}}return n>0&&(r+=a.repeat("0",n)),r}function C(e,t,r,i){if(void 0!==n&&e===n.format)return n;for(var o=[],a=s.preserveLiterals(e,o),l={format:e,hasLiterals:0!==o.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,scale:void 0,partsPerScale:void 0},c=0,u=a.length;c<u;c++)switch(a.charAt(c)){case"e":case"E":l.hasE=!0;break;case",":l.hasCommas=!0;break;case".":l.hasDots=!0;break;case"%":l.hasPercent=!0;break;case"":l.hasPermile=!0}var d=w(e);return t&&(l.precision=k(d.positive,l)),i&&(l.partsPerScale=L(d.positive,l)),r&&(l.scale=N(d.positive,l)),l}function k(e,t){if(t.precision>-1)return t.precision;var r=0;if(t.hasDots){t.hasLiterals&&(e=s.removeLiterals(e));var n=e.indexOf(".");if(n>-1){for(var i=e.length,o=n;o<i;o++){var a=e.charAt(o);if(a.match(b)&&r++,"E"===a)break}r=Math.min(19,r)}}return t.precision=r,r}function L(e,t){if(null!=t.partsPerScale)return t.partsPerScale;var r=1;return t.hasPercent&&e.indexOf("%")>-1&&(r*=100),t.hasPermile&&e.indexOf("")>-1&&(r*=1e3),t.partsPerScale=r,r}function N(e,t){if(t.scale>-1)return t.scale;var r=L(e,t);if(t.hasCommas){var n=e.indexOf(".");-1===n&&(n=e.length);for(var i=n-1;i>-1&&","===e.charAt(i);i--)r/=1e3}return t.scale=r,r}function Z(e,t,r,n,i){var o=!!n,a=t.split(".",2);if(2===a.length){var s=a[0],l=a[1],u="";n&&(u=n.replace(c,""),e=e.replace(u,""));var d=r["."],p=i?d:".",m=e.split(p,2),y=1===m.length?m[0]+u:m[0],v=2===m.length?m[1]+u:"";v=v.replace(h,"");var M=E(y,s,r,o),x=function(e,t,r){var n=t.length,i=e.length;if(r){var o=t.charAt(n-1);return o.match(b)?{value:e,fmtOnly:""===e}:{value:e+o,fmtOnly:""===e}}for(var a="",s=!0,l=0,c=0;c<n;c++){var u=t.charAt(c);if(l<i)switch(u){case f:case g:a+=e[l++],s=!1;break;default:a+=u}else u!==g&&(a+=u,s=s&&u!==f)}return{value:a,fmtOnly:s}}(v,l,o);return x.fmtOnly||""===x.value?M+x.value:M+d+x.value}return E(e,t,r,o)}function E(e,t,r,n){var i=t.indexOf(","),o=i>-1&&i<Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"))&&r[","],a=0,s=0,l=r.groupSizes||[3],c=l[0],u=r[","],d="",h=e.charAt(0);"+"!==h&&"-"!==h||(d=r[h],e=e.substring(1));for(var p="0"===e,m="",y="",b=e.length-1,v=!0,M=t.length-1;M>-1;M--){var x=t.charAt(M);switch(x){case f:case g:v=!1,""!==y&&(m=y+m,y=""),n||((b>-1||x===f)&&o&&(a===c?(m=u+m,++s<l.length&&(c=l[s]),a=1):a++),b>-1?(p&&x===g||(m=e.charAt(b)+m),b--):x!==g&&(m=x+m));break;case",":break;default:y=x+y}}if(!n){if(b>-1&&""!==m)if(o)for(;b>-1;)a===c?(m=u+m,++s<l.length&&(c=l[s]),a=1):a++,m=e.charAt(b)+m,b--;else m=e.substring(0,b+1)+m;return d+y+m}return v?d+y+m:d+y+e+m}function z(e,t){var r=t["+"],n=t["-"],i=t["."],o=t[","];if("+"===r&&"-"===n&&"."===i&&","===o)return e;for(var a=e.length,s="",l=0;l<a;l++){var c=e.charAt(l);switch(c){case"+":s+=r;break;case"-":s+=n;break;case".":s+=i;break;case",":s+=o;break;default:s+=c}}return s}t.NumberFormatComponentsDelimeter=";",t.getNumericFormat=v,t.addDecimalsToFormat=function(e,r,n){if(null==r)return e;if(null==e&&(e=f),S(e)){for(var i=w(e),o=[i.positive,i.negative,i.zero],a=0;a<o.length;a++)o[a]=x(o[a],r,n);return o.join(t.NumberFormatComponentsDelimeter)}return x(e,r,n)},t.hasFormatComponents=S,t.getComponents=w,t.canFormat=function(e){return"number"==typeof e},t.isStandardFormat=_,t.format=function(e,t,r){t=t||"G";try{return _(t)?function(e,t,r){var n,o=t.length>1?parseInt(t.substring(1,t.length),10):void 0,s=r.numberFormat,l=t.charAt(0),c=Math.abs(e);switch(l){case"e":case"E":void 0===o&&(o=6),n=T(e,t="0."+a.repeat("0",o)+l+"+000",r);break;case"f":case"F":n=z(n=void 0!==o?e.toFixed(o):e.toFixed(s.decimals),s);break;case"g":case"G":if(0===c||1e-4<=c&&c<1e15)n=void 0!==o?e.toPrecision(o):e.toString();else{if("number"!=typeof e)return String(e);n=(n=void 0!==o?e.toExponential(o):e.toExponential()).replace("e","E")}n=z(n,s);break;case"r":case"R":n=z(n=e.toString(),s);break;case"x":case"X":if(n=e.toString(16),"X"===l&&(n=n.toUpperCase()),void 0!==o){var u=n.length,d=e<0;d&&u--;var h=o-u,p=void 0;h>0&&(p=a.repeat("0",h)),n=d?"-"+p+n.substring(1):p+n}n=z(n,s);break;default:n=i.Globalize.format(e,t,r)}return n}(e,t,r):T(e,t,r)}catch(t){return i.Globalize.format(e,void 0,r)}},t.formatWithCustomOverride=function(e,t,r,n){return T(e,t,n,r)},t.getCustomFormatMetadata=C},11847:(e,t,r)=>{"use strict";t.G2=void 0,r(44932);var n=r(5062);t.G2=n,r(51248),r(32391),r(31107),r(83801),r(6721),r(60604),r(47925),r(67630),r(23224),r(31520),r(63100),r(15807)},31107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralStorageService=t.EphemeralStorageService=void 0;var r=function(){function e(t){this.cache={},this.clearCacheInterval=null!=t?t:e.defaultClearCacheInterval,this.clearCache()}return e.prototype.getData=function(e){return this.cache[e]},e.prototype.setData=function(e,t){var r=this;this.cache[e]=t,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout((function(){return r.clearCache()}),this.clearCacheInterval))},e.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},e.defaultClearCacheInterval=864e5,e}();t.EphemeralStorageService=r,t.ephemeralStorageService=new r},51248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stripTagDelimiters=t.deriveClsCompliantName=t.stringifyAsPrettyJSON=t.normalizeFileName=t.escapeStringForRegex=t.constructNameFromList=t.findUniqueName=t.ensureUniqueNames=t.replaceAll=t.repeat=t.getLengthDifference=t.trimWhitespace=t.trimTrailingWhitespace=t.isWhitespace=t.containsWhitespace=t.isNullOrUndefinedOrWhiteSpaceString=t.isNullOrEmpty=t.stringToArrayBuffer=t.normalizeCase=t.containsIgnoreCase=t.contains=t.startsWith=t.startsWithIgnoreCase=t.equalIgnoreCase=t.format=t.endsWith=void 0;var r=new RegExp("[<>]","g");function n(e,t){return null!=e&&-1!==e.indexOf(t)}function i(e){return e.toUpperCase()}function o(e){return null==e||0===e.length}function a(e){return o(e)||o(e.trim())}function s(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}t.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},t.format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];if(a(r))return r;for(var n=0;n<e.length-1;n++){var i=new RegExp("\\{"+n+"\\}","gm");r=r.replace(i,e[n+1])}return r},t.equalIgnoreCase=function(e,t){return i(e)===i(t)},t.startsWithIgnoreCase=function(e,t){var r=i(t);return 0===i(e).indexOf(r)},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.contains=n,t.containsIgnoreCase=function(e,t){return null!=e&&n(i(e),i(t))},t.normalizeCase=i,t.stringToArrayBuffer=function(e){if(o(e))return null;for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return r},t.isNullOrEmpty=o,t.isNullOrUndefinedOrWhiteSpaceString=a,t.containsWhitespace=function(e){return/\s/.test(e)},t.isWhitespace=function(e){return""===e.trim()},t.trimTrailingWhitespace=function(e){return e.replace(/\s+$/,"")},t.trimWhitespace=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},t.getLengthDifference=function(e,t){return Math.abs(e.length-t.length)},t.repeat=function(e,t){for(var r="",n=0;n<t;n++)r+=e;return r},t.replaceAll=function(e,t,r){if(!t)return e;var n=s(t);return e.replace(new RegExp(n,"gi"),r)},t.ensureUniqueNames=function(e){for(var t={},r=0,n=e;r<n.length;r++)t[n[r]]=!1;for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],l=s;if(t[l])for(var c=0;void 0!==t[l];)l=s+"."+ ++c;i.push(l),t[l]=!0}return i},t.findUniqueName=function(e,t){for(var r=0,n=t;e[n];)n=t+ ++r;return n},t.constructNameFromList=function(e,t,r){for(var n,i=[],o=0,a=0,s=e;a<s.length;a++){var l=s[a];if(o+l.length>r&&i.length>0){n=!0;break}i.push(l),o+=l.length}var c=" "+t+" ",u=i.join(c);return n&&(u+=c+"..."),u},t.escapeStringForRegex=s,t.normalizeFileName=function(e){return e.replace(/[\<\>\:"\/\\\|\?*]/g,"")},t.stringifyAsPrettyJSON=function(e){return JSON.stringify(e)},t.deriveClsCompliantName=function(e,t){var r=e.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return r.length>0?r:t},t.stripTagDelimiters=function(e){return e.replace(r,"")}},32391:(e,t,r)=>{"use strict";var n=r(30327);Object.defineProperty(t,"__esModule",{value:!0}),t.wordBreakOverflowingText=t.wordBreak=t.svgEllipsis=t.getTailoredTextOrDefault=t.getDivElementWidth=t.getSvgMeasurementProperties=t.getMeasurementProperties=t.measureSvgTextElementWidth=t.estimateSvgTextHeight=t.estimateSvgTextBaselineDelta=t.measureSvgTextHeight=t.measureSvgTextRect=t.measureSvgTextWidth=t.removeSpanElement=void 0;var i,o,a,s,l=r(52087),c=r(15807),u=r(70167);function d(){if(!i){i=document.createElement("span"),document.body.appendChild(i);var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("height","0"),e.setAttribute("width","0"),e.setAttribute("position","absolute"),e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.height="0px",e.style.width="0px",o=document.createElementNS("http://www.w3.org/2000/svg","text"),e.appendChild(o),document.body.appendChild(e);var t=document.createElement("canvas");a=t.getContext("2d");var r=n.getComputedStyle(o);s=r?r.fontFamily:""}}function h(e,t){return d(),a.font=(e.fontStyle||"")+" "+(e.fontVariant||"")+" "+(e.fontWeight||"")+" "+e.fontSize+" "+(e.fontFamily||s),a.measureText(t||e.text).width}function p(e,t){for(d();o.firstChild;)o.removeChild(o.firstChild);return o.setAttribute("style",null),o.style.visibility="hidden",o.style.fontFamily=e.fontFamily||s,o.style.fontVariant=e.fontVariant,o.style.fontSize=e.fontSize,o.style.fontWeight=e.fontWeight,o.style.fontStyle=e.fontStyle,o.style.whiteSpace=e.whiteSpace||"nowrap",o.appendChild(document.createTextNode(t||e.text)),o.getBBox()}function m(e){var r=e.fontFamily+e.fontSize,n=u.ephemeralStorageService.getData(r);if(null==n){var i={fontFamily:e.fontFamily,fontSize:e.fontSize,text:"M"};(n=t.measureSvgTextRect(i)).height>0&&u.ephemeralStorageService.setData(r,n)}return n}function y(e,t){void 0===t&&(t=!1);var r=m(e).height;return t&&(r*=.7),r}function f(e){var t=n.getComputedStyle(e);return t?{text:e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}:{text:e.textContent,fontFamily:"",fontSize:"0"}}function g(e,t){if(d(),0===e.text.length)return e.text;var r=h(e);if(r<t)return e.text;for(var n=l.prototype.inherit(e),i=n.text="..."+n.text,o=1,a=i.length,s=3;o<=a;)if(s=(o+a)/2|0,n.text=i.substring(0,s),t>(r=h(n)))o=s+1;else{if(!(t<r))break;a=s-1}return n.text=i.substring(0,s),(r=h(n))>t&&s--,i.substring(3,s)+"..."}t.removeSpanElement=function(){i&&i.remove&&i.remove(),i=null},t.measureSvgTextWidth=h,t.measureSvgTextRect=p,t.measureSvgTextHeight=function(e,t){return p(e,t).height},t.estimateSvgTextBaselineDelta=function(e){var t=m(e);return t.y+t.height},t.estimateSvgTextHeight=y,t.measureSvgTextElementWidth=function(e){return h(f(e))},t.getMeasurementProperties=function(e){var t=n.getComputedStyle(e);return{text:e.value||e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}},t.getSvgMeasurementProperties=f,t.getDivElementWidth=function(e){var t=n.getComputedStyle(e);return t?t.width:"0"},t.getTailoredTextOrDefault=g,t.svgEllipsis=function(e,t){var r=f(e),n=r.text,i=g(r,t);n!==i&&(e.textContent=i)},t.wordBreak=function(e,t,r,n){void 0===n&&(n=0);var i=f(e),o=y(i)+n,a=Math.max(1,Math.floor(r/o)),s=e?e.getAttribute("y"):null,l=e?e.textContent:null;e.textContent=null;for(var u=c.splitByWidth(l,i,h,t,a),d=document.createDocumentFragment(),p=0,m=u.length;p<m;p++){var b=0===p?s:o;i.text=u[p];var v=document.createElementNS("http://www.w3.org/2000/svg","tspan");v.setAttribute("x","0"),v.setAttribute("dy",b?b.toString():null),v.appendChild(document.createTextNode(g(i,t))),d.appendChild(v)}e.appendChild(d)},t.wordBreakOverflowingText=function(e,t,r,n){void 0===n&&(n=0);var i=f(e),o=y(i)+n,a=Math.max(1,Math.floor(r/o)),s=e.textContent;e.textContent=null;for(var u=c.splitByWidth(s,i,h,t,a),d=document.createDocumentFragment(),p=0;p<u.length;p++){var m=document.createElement("span");m.style.overflow="hidden",m.style.whiteSpace="nowrap",m.style.textOverflow="ellipsis",m.style.display="block",m.style.width=l.pixelConverter.toString(t),m.appendChild(document.createTextNode(u[p])),m.appendChild(document.createTextNode(g(i,t))),d.appendChild(m)}e.appendChild(d)}},60604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceSpaceWithNBSP=t.removeEllipses=t.removeBreakingSpaces=void 0,t.removeBreakingSpaces=function(e){return e.toString().replace(new RegExp(" ","g"),"&nbsp")},t.removeEllipses=function(e){return e.replace(/()|(\.\.\.)/g,"")},t.replaceSpaceWithNBSP=function(e){if(null!=e)return e.replace(/ /g,"")}},5062:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateExactDigitsPrecision=t.getDisplayUnits=t.formatListOr=t.formatListAnd=t.getFormatStringByColumn=t.getFormatString=t.createDisplayUnitSystem=t.formatVariantMeasureValue=t.format=t.create=t.checkValueInBounds=t.createDefaultFormatter=t.setLocaleOptions=t.getFormatMetadata=t.getLocalizedString=t.DefaultDateFormat=t.DefaultNumericFormat=t.DefaultIntegerFormat=void 0;var n=r(23224),i=r(31520),o=r(51248),a=r(63100),s=r(67630),l=r(52087),c=r(29933),u=l.valueType.ValueType,d=l.valueType.PrimitiveType,h=o,p={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};t.DefaultIntegerFormat="g",t.DefaultNumericFormat="#,0.00",t.DefaultDateFormat="d";var m={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};t.getLocalizedString=function(e){return m[e]};var y={nullValue:m.NullValue,trueValue:m.BooleanTrue,falseValue:m.BooleanFalse,NaN:m.NaNValue,infinity:m.InfinityValue,negativeInfinity:m.NegativeInfinityValue,beautify:function(e){return function(e){var t=p[e];return t&&m[t]||e}(e)},describe:function(e){return function(e){var t=-1===e?"Auto":e.toString(),r=m["DisplayUnitSystem_E"+t+"_Title"],n=e<=0?"{0}":m["DisplayUnitSystem_E"+t+"_LabelFormat"];if(r||n)return{title:r,format:n}}(e)},restatementComma:m.RestatementComma,restatementCompoundAnd:m.RestatementCompoundAnd,restatementCompoundOr:m.RestatementCompoundOr},f={displayName:"",type:u.fromPrimitiveTypeAndCategory(d.DateTime)};function g(e,t,r){var n=t?y.beautify(e):e;return{format:function(e){return null==e?y.nullValue:x({value:e,cultureSelector:r,format:n})}}}function b(e){if(null==e)return new n.DefaultDisplayUnitSystem(y.describe);switch(e){case i.DisplayUnitSystemType.Default:return new n.DefaultDisplayUnitSystem(y.describe);case i.DisplayUnitSystemType.WholeUnits:return new n.WholeUnitsDisplayUnitSystem(y.describe);case i.DisplayUnitSystemType.Verbose:return new n.NoDisplayUnitSystem;case i.DisplayUnitSystemType.DataLabels:return new n.DataLabelsDisplayUnitSystem(y.describe);default:return new n.DefaultDisplayUnitSystem(y.describe)}}function v(e,r,n){if(e){if(r){var i=c.dataViewObjects.getValue(e.objects,r);if(i)return i}if(!n){var o=e.type;if(o){if(o.dateTime)return t.DefaultDateFormat;if(o.integer)return o.temporal&&o.temporal.year?"0":t.DefaultIntegerFormat;if(o.numeric)return t.DefaultNumericFormat}}}}function M(e,t){var r;if(!e)return null;var n=e.length;if(n>0){r=e[0];for(var i=n-1,o=1,a=i;o<a;o++){var s=e[o];r=h.format(y.restatementComma,r,s)}n>1&&(s=e[i],r=h.format(t,r,s))}else r=null;return r}function x(e){var t=e.value,r=e.format,n=e.nullsAreBlank,i=e.cultureSelector,o=S(t,n||!1);return h.isNullOrUndefinedOrWhiteSpaceString(o)?a.formattingService.formatValue(t,r,i):o}function S(e,t){return null==e&&t?y.nullValue:!0===e?y.trueValue:!1===e?y.falseValue:"number"==typeof e&&isNaN(e)?y.NaN:e===Number.NEGATIVE_INFINITY?y.negativeInfinity:e===Number.POSITIVE_INFINITY?y.infinity:""}t.getFormatMetadata=function(e){return a.numberFormat.getCustomFormatMetadata(e)},t.setLocaleOptions=function(e){y=e,n.DefaultDisplayUnitSystem.RESET(),n.WholeUnitsDisplayUnitSystem.RESET()},t.createDefaultFormatter=g,t.checkValueInBounds=function(e,t,r,n,i){return void 0===n&&(n=t),void 0===i&&(i=r),null!=r&&(e=e<=r?e:i),null!=t&&(e=e>t?e:n),e},t.create=function(e){var t,r,n,i=e.allowFormatBeautification?y.beautify(e.format):e.format,o=e.cultureSelector;if(function(e){var t=e.value,r=e.value2,n=e.format;if(e.formatSingleValues&&n&&Math.abs(t)<1e4)if(a.numberFormat.isStandardFormat(n)){if(l.double.isInteger(t))return!1}else if(a.numberFormat.getCustomFormatMetadata(n,!0).precision<2)return!1;if("number"==typeof t||"number"==typeof r)return!0}(e)){var c=b(e.displayUnitSystemType),u=!!e.formatSingleValues;c.update(Math.max(Math.abs(e.value||0),Math.abs(e.value2||0)));var d,p=null!=e.precision;return p?d=-e.precision:c.displayUnit&&c.displayUnit.value>1&&(d=-2),{format:function(e){var t=S(e,!0);return h.isNullOrUndefinedOrWhiteSpaceString(t)?(e&&!c.isScalingUnit()&&Math.abs(e)<1e3&&!p&&(e=l.double.roundToPrecision(e)),u?c.formatSingleValue(e,i,d,p,o):c.format(e,i,d,p,o)):t},displayUnit:c.displayUnit,options:e}}if(t=e.value,r=e.value2,n=e.tickCount,t instanceof Date&&r instanceof Date&&null!=n){var m=s.DateTimeSequence.GET_INTERVAL_UNIT(e.value,e.value2,e.tickCount);return{format:function(e){if(null==e)return y.nullValue;var t=a.formattingService.dateFormatString(m);return x({value:e,cultureSelector:o,format:t})},options:e}}return g(i,!1,o)},t.format=function(e,t,r,n){return null==e?y.nullValue:x({value:e,cultureSelector:n,format:r?y.beautify(t):t})},t.formatVariantMeasureValue=function(e,t,r,n,i){return!(t&&t.type&&t.type.dateTime)&&e instanceof Date?x({value:e,nullsAreBlank:n,cultureSelector:i,format:v(f,null,!1)}):x({value:e,nullsAreBlank:n,cultureSelector:i,format:v(t,r)})},t.createDisplayUnitSystem=b,t.getFormatString=v,t.getFormatStringByColumn=function(e,r){if(e){if(e.format)return e.format;if(!r){var n=e.type;if(n){if(n.dateTime)return t.DefaultDateFormat;if(n.integer)return n.temporal&&n.temporal.year?"0":t.DefaultIntegerFormat;if(n.numeric)return t.DefaultNumericFormat}}}},t.formatListAnd=function(e){return M(e,y.restatementCompoundAnd)},t.formatListOr=function(e){return M(e,y.restatementCompoundOr)},t.getDisplayUnits=function(e){return b(e).units},t.calculateExactDigitsPrecision=function(e,t,r,n){if(!e&&0!==e)return 0;var i=t&&-1!==t.indexOf("%"),o=i?100*e:e;o=r>0?o/r:o;var a=parseInt(o).toString().length;if((i||r>0)&&a>=n)return 0;if(0===r){var s=Math.floor(a/3);s=a%3==0?s-1:s;var l=Math.pow(1e3,s);l>0&&(o/=l)}var c=(a=parseInt(o).toString().length)%n;return 0===c?0:n-c}},15807:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitByWidth=t.getMaxWordWidth=t.wordCount=t.hasBreakers=t.find=void 0;var r=/[\s\n]+/g;function n(e,t,r){if(r){for(var n=e-1;n>-1;n--)if(i(t[n]))return n+1}else{n=e;for(var o=t.length;n<o;n++)if(i(t[n]))return n}return r?0:t.length}function i(e){return r.lastIndex=0,r.test(e)}function o(e){return e.split(r)}function a(e,t,r){return t.text=e,r(t)}function s(e,t,r,n){return t.text=e,r(t,n)}t.find=function(e,t){var r={start:0,end:0};return 0===t.length||(r.start=n(e,t,!0),r.end=n(e,t,!1)),r},t.hasBreakers=i,t.wordCount=function(e){var t=1;for(r.lastIndex=0,r.exec(e);0!==r.lastIndex;)t++,r.exec(e);return t},t.getMaxWordWidth=function(e,t,r){for(var n=0,i=0,a=o(e);i<a.length;i++){var s=a[i];r.text=s,n=Math.max(n,t(r))}return n},t.splitByWidth=function(e,t,r,n,i,l){l=l||function(e,t){return e.text};for(var c=[],u=0,d=[],h=0,p=o(e);h<p.length;h++){var m=p[h];if(i>0&&c.length>=i-1)d.push(m);else{var y=0===d.length?a(m,t,r):a(" "+m,t,r);if(u+y>n){if(0===d.length){c.push(s(m,t,l,n)),u=0,d=[];continue}c.push(s(d.join(" "),t,l,n)),u=0,d=[]}d.push(m),u+=y}}return d&&d.length&&c.push(s(d.join(" "),t,l,n)),c}},9397:(e,t,r)=>{"use strict";r.r(t),r.d(t,{categoryIsAlsoSeriesRole:()=>i,getMiscellaneousTypeDescriptor:()=>l,getSeriesName:()=>o,hasImageUrlColumn:()=>c,isImageUrlColumn:()=>a,isWebUrlColumn:()=>s});var n=r(15165);function i(e,t,r){if(e.categories&&e.categories.length>0){const i=e.categories[0];return i.source&&n.hasRole(i.source,t)&&n.hasRole(i.source,r)}return!1}function o(e){return void 0!==e.groupName?e.groupName:e.queryName}function a(e){const t=l(e);return null!=t&&!0===t.imageUrl}function s(e){const t=l(e);return null!=t&&!0===t.webUrl}function l(e){return e&&e.type&&e.type.misc}function c(e){return!!(e&&e.metadata&&e.metadata.columns&&e.metadata.columns.length)&&e.metadata.columns.some((e=>!0===a(e)))}},15165:(e,t,r)=>{"use strict";function n(e,t){if(!e||!e.length)return-1;const r=e[0];if(r.values&&r.values.length>0)for(let e=0,n=r.values.length;e<n;++e){const n=r.values[e];if(n&&n.source&&o(n.source,t))return e}return-1}function i(e,t){if(e&&e.length)for(let r=0,n=e.length;r<n;r++)if(o(e[r].source,t))return r;return-1}function o(e,t){const r=e.roles;return r&&r[t]}function a(e,t){return null!=e&&null!=e.metadata&&e.metadata.columns&&e.metadata.columns.some((e=>e.roles&&void 0!==e.roles[t]))}function s(e,t){return e&&e.source&&e.source.roles&&!0===e.source.roles[t]}r.r(t),r.d(t,{getCategoryIndexOfRole:()=>i,getMeasureIndexOfRole:()=>n,hasRole:()=>o,hasRoleInDataView:()=>a,hasRoleInValueColumn:()=>s})},17963:(e,t,r)=>{"use strict";function n(e,t,r){if(!e)return r;const n=e[t];return void 0===n?r:n}function i(e,t,r){const i=n(e,t);return i&&i.solid?i.solid.color:r}r.r(t),r.d(t,{getFillColorByPropertyName:()=>i,getValue:()=>n})},88862:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getCommonValue:()=>s,getFillColor:()=>a,getObject:()=>o,getValue:()=>i});var n=r(17963);function i(e,t,r){return e?n.getValue(e[t.objectName],t.propertyName,r):r}function o(e,t,r){return e&&e[t]?e[t]:r}function a(e,t,r){const n=i(e,t);return n&&n.solid?n.solid.color:r}function s(e,t,r){const n=i(e,t,r);return n&&n.solid?n.solid.color:null==n||"object"==typeof n&&!n.solid?r:n}},96573:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DataViewObjectsParser:()=>i});var n=r(88862);class i{static getDefault(){return new this}static createPropertyIdentifier(e,t){return{objectName:e,propertyName:t}}static parse(e){const t=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return t;const r=t.getProperties();for(const i in r)for(const o in r[i]){const a=t[i][o];t[i][o]=n.getCommonValue(e.metadata.objects,r[i][o],a)}return t}static isPropertyEnumerable(e){return!i.InnumerablePropertyPrefix.test(e)}static enumerateObjectInstances(e,t){const r=e&&e[t.objectName];if(!r)return[];const n={objectName:t.objectName,selector:null,properties:{}};for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n.properties[e]=r[e]);return{instances:[n]}}getProperties(){const e={};return Object.keys(this).forEach((t=>{if(i.isPropertyEnumerable(t)){const r=Object.keys(this[t]);e[t]={},r.forEach((r=>{i.isPropertyEnumerable(t)&&(e[t][r]=i.createPropertyIdentifier(t,r))}))}})),e}}i.InnumerablePropertyPrefix=/^_/},39098:(e,t,r)=>{"use strict";function n(e=[],t,r){const n=e;return i(n),t&&(n.identityFields=t),r&&(n.source=r),n}function i(e,t){e.grouped=t?()=>t:()=>o(e)}function o(e){const t=[];let r;for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!r||r.identity!==i.identity){if(r={values:[]},i.identity){r.identity=i.identity;const e=i.source;void 0!==e.groupName?r.name=e.groupName:e.displayName&&(r.name=e.displayName)}t.push(r)}r.values.push(i)}return t}r.r(t),r.d(t,{createValueColumns:()=>n,groupValues:()=>o,setGrouped:()=>i})},50686:(e,t,r)=>{"use strict";function n(e){return null==e&&(e=0),{data:[{dataViewWildcard:{matchingOption:e}}]}}r.r(t),r.d(t,{createDataViewWildcardSelector:()=>n})},29933:(e,t,r)=>{"use strict";r.r(t),r.d(t,{converterHelper:()=>n,dataRoleHelper:()=>i,dataViewObject:()=>o,dataViewObjects:()=>a,dataViewObjectsParser:()=>s,dataViewTransform:()=>l,dataViewWildcard:()=>c,validationHelper:()=>u});var n=r(9397),i=r(15165),o=r(17963),a=r(88862),s=r(96573),l=r(39098),c=r(50686),u=r(51686)},51686:(e,t,r)=>{"use strict";function n(e){return/^https?:\/\/.+\.(gif|jpg|png|svg)$/i.test(e)||/^data:image\/(gif|jpeg|png|svg\+xml);base64,/i.test(e)}function i(e,t){const r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState!==this.HEADERS_RECEIVED)return;const e=r.getResponseHeader("Content-Type");return["image/png","image/jpeg","image/gif","image/svg+xml"].indexOf(e)>-1?t(!0,e):t(!1,e)},r.open("HEAD",e,!0),r.send()}r.r(t),r.d(t,{isFileImage:()=>i,isImageUrlAllowed:()=>n})},85442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_PRECISION:()=>l,DEFAULT_PRECISION_IN_DECIMAL_DIGITS:()=>c,EPSILON:()=>s,LOG_E_10:()=>u,MAX_EXP:()=>a,MAX_VALUE:()=>i,MIN_EXP:()=>o,MIN_VALUE:()=>n,NEGATIVE_POWERS:()=>h,POSITIVE_POWERS:()=>d,ceilToPrecision:()=>_,ceilWithPrecision:()=>S,detectPrecision:()=>E,ensureInRange:()=>I,equalWithPrecision:()=>f,floorToPrecision:()=>w,floorWithPrecision:()=>x,getPrecision:()=>y,greaterOrEqualWithPrecision:()=>M,greaterWithPrecision:()=>v,isInteger:()=>N,lessOrEqualWithPrecision:()=>b,lessWithPrecision:()=>g,log10:()=>m,pow10:()=>p,project:()=>k,removeDecimalNoise:()=>L,round:()=>C,roundToPrecision:()=>T,toIncrement:()=>Z});const n=-Number.MAX_VALUE,i=Number.MAX_VALUE,o=-308,a=308,s=1e-323,l=1e-4,c=12,u=Math.log(10),d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],h=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function p(e){return e>=0?e<d.length?d[e]:1/0:(e=-e)>0&&e<h.length?h[e]:0}function m(e){return e>1&&e<1e16?e<1e8?e<1e4?e<100?e<10?0:1:e<1e3?2:3:e<1e6?e<1e5?4:5:e<1e7?6:7:e<1e12?e<1e10?e<1e9?8:9:e<1e11?10:11:e<1e14?e<1e13?12:13:e<1e15?14:15:e>1e-16&&e<1?e<1e-8?e<1e-12?e<1e-14?e<1e-15?-16:-15:e<1e-13?-14:-13:e<1e-10?e<1e-11?-12:-11:e<1e-9?-10:-9:e<1e-4?e<1e-6?e<1e-7?-8:-7:e<1e-5?-6:-5:e<.01?e<.001?-4:-3:e<.1?-2:-1:x(Math.log(e)/u)}function y(e,t){if(void 0===t&&(t=c),!e||!isFinite(e))return;const r=m(Math.abs(e));return r<o?0:p(Math.max(r-t,1-h.length))}function f(e,t,r){return r=E(r,e,t),e===t||Math.abs(e-t)<r}function g(e,t,r){return r=E(r,e,t),e<t&&Math.abs(e-t)>r}function b(e,t,r){return r=E(r,e,t),e<t||Math.abs(e-t)<r}function v(e,t,r){return r=E(r,e,t),e>t&&Math.abs(e-t)>r}function M(e,t,r){return r=E(r,e,t),e>t||Math.abs(e-t)<r}function x(e,t){t=null!=t?t:l;const r=Math.round(e);return Math.abs(e-r)<t?r:Math.floor(e)}function S(e,t){t=E(t,l);const r=Math.round(e);return Math.abs(e-r)<t?r:Math.ceil(e)}function w(e,t){return 0===(t=E(t,l))||0===e?e:Math.floor(e/t)*t}function _(e,t){return 0===(t=E(t,l))||0===e?e:Math.ceil(e/t)*t}function T(e,t){if(0===(t=E(t,l))||0===e)return e;let r=Math.round(e/t)*t;const n=Math.round(m(Math.abs(e))-m(t))+1;return n>0&&n<16&&(r=parseFloat(r.toPrecision(n))),r}function I(e,t,r){return null==e?e:e<t?t:e>r?r:e}function C(e){return.5+e|0}function k(e,t,r,n,i){return 0===r||0===i?t<=e&&e<=t+r?n:NaN:n+(e-t)/r*i}function L(e){return T(e,y(e))}function N(e){return null!==e&&e%1==0}function Z(e,t){return Math.round(e/t)*t}function E(e,t,r){if(void 0!==e)return e;let n;return n=y(r?t?Math.min(Math.abs(t),Math.abs(r)):r:t),n||l}},94341:(e,t,r)=>{"use strict";function n(e,t){const r=[];for(let n=e.length-1;n>=0;--n)-1!==t.indexOf(e[n])&&r.push(e[n]);return r}function i(e,t){const r=[];for(let n=e.length-1;n>=0;--n){const i=e[n];-1===t.indexOf(i)&&r.push(i)}return r}function o(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];-1===t.indexOf(n)&&t.push(n)}return t}function a(e,t){for(let r=0,n=t.length;r<n;++r)s(e,t[r])}function s(e,t){e.indexOf(t)<0&&e.push(t)}function l(e,t,r){const n=[];for(let i=t;i<=r;++i)n.push(e[i]);return n}function c(e,t){const r=[];for(let n=0;n<t;++n)r.push(e[n]);return r}function u(e){return c(e,e.length)}function d(e,t,r){if(e||(e=null),t||(t=null),e===t)return!0;if(!!e!=!!t)return!1;const n=e.length;if(n!==t.length)return!1;let i=0;for(;i<n&&r(e[i],t[i]);)++i;return i===n}function h(e){return e&&0===e.length?null:e}function p(e,t){for(let r=0,n=e.length;r<n;++r)if(t(e[r]))return r;return-1}function m(e,t){if(0===t)return e.slice();const r=e.slice(t);return Array.prototype.push.apply(r,e.slice(0,t)),r}function y(){return f([])}function f(e){const t=e;return t.withId=b,t}function g(e,t){for(let r=0,n=e.length;r<n;r++){const n=e[r];if(n.id===t)return n}}function b(e){return g(this,e)}function v(){return M([])}function M(e){const t=e;return t.withName=T,t}function x(e,t){const r=S(e,t);if(r>=0)return e[r]}function S(e,t){for(let r=0,n=e.length;r<n;r++)if(e[r].name===t)return r;return-1}function w(e,t){for(let r=e.length-1;r>=0;r--){const n=e[r]-t;if(0===n)return!1;if(!(n>0))return e.splice(r+1,0,t),!0}return e.unshift(t),!0}function _(e,t){const r=e.indexOf(t);return!(r<0||(e.splice(r,1),0))}function T(e){return x(this,e)}function I(e){if(e)for(;e.length>0;)e.pop()}function C(e){return!e||0===e.length}function k(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function L(e,t,r){return e.some((e=>r(e,t)))}function N(e){let t=e;for(;null!=t;){if(Array.isArray(t))return!0;t=Object.getPrototypeOf(t)}return!1}function Z(e,t){const r=e.length;if(r>=2)for(let n=1;n<r;n++)if(t(e[n-1],e[n])>0)return!1;return!0}function E(e,t){return Z(e,t?(e,t)=>t-e:(e,t)=>e-t)}function z(e){return Array.isArray(e)?e:[e]}r.r(t),r.d(t,{clear:()=>I,copy:()=>u,createWithId:()=>y,createWithName:()=>v,diff:()=>i,distinct:()=>o,emptyToNull:()=>h,ensureArray:()=>z,extendWithId:()=>f,extendWithName:()=>M,findItemWithName:()=>x,findWithId:()=>g,indexOf:()=>p,indexWithName:()=>S,insertSorted:()=>w,intersect:()=>n,isArrayOrInheritedArray:()=>N,isInArray:()=>L,isSorted:()=>Z,isSortedNumeric:()=>E,isUndefinedOrEmpty:()=>C,range:()=>l,removeFirst:()=>_,rotate:()=>m,sequenceEqual:()=>d,swap:()=>k,take:()=>c,union:()=>a,unionSingle:()=>s})},2879:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getBitCount:()=>l,hasFlag:()=>i,resetFlag:()=>a,setFlag:()=>o,toString:()=>s});var n=r(85442);function i(e,t){return(e&t)===t}function o(e,t){return e|t}function a(e,t){return e&~t}function s(e,t){return e[t]}function l(e){if(!(0,n.isInteger)(e))return 0;let t=0,r=e;for(;0!==r;)1&~r||t++,r>>>=1;return t}},54298:(e,t,r)=>{"use strict";function n(e,t){return(e||t)&&!(e&&t)}r.r(t),r.d(t,{XOR:()=>n})},93051:(e,t,r)=>{"use strict";function n(e,t,r){return e.lastIndex=r||0,e.exec(t)}r.r(t),r.d(t,{run:()=>n})},70539:(e,t,r)=>{"use strict";function n(e,t){return-1!==e.indexOf(t,e.length-t.length)}r.r(t),r.d(t,{endsWith:()=>n})},52087:(e,t,r)=>{"use strict";r.r(t),r.d(t,{arrayExtensions:()=>n,double:()=>u,enumExtensions:()=>i,jsonComparer:()=>d,logicExtensions:()=>o,numericSequence:()=>l,numericSequenceRange:()=>c,pixelConverter:()=>h,prototype:()=>p,regExpExtensions:()=>a,stringExtensions:()=>s,textSizeDefaults:()=>m,valueType:()=>y});var n=r(94341),i=r(2879),o=r(54298),a=r(93051),s=r(70539),l=r(80372),c=r(20067),u=r(85442),d=r(15038),h=r(55079),p=r(90421),m=r(35939),y=r(64182)},15038:(e,t,r)=>{"use strict";function n(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}r.r(t),r.d(t,{equals:()=>n})},80372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NumericSequence:()=>o});var n=r(85442),i=r(20067);class o{static calculate(e,t,r,a,s,l){const c=new o;if(t=void 0===t?10:n.ensureInRange(t,o.MIN_COUNT,o.MAX_COUNT),void 0===a&&(a=n.MIN_EXP),void 0===s&&(s=!1),void 0===r&&(r=1),void 0===l&&(l=[1,2,5]),e.forcedSingleStop)return c.interval=e.getSize(),c.intervalOffset=c.interval-(e.forcedSingleStop-e.min),c.min=e.min,c.max=e.max,c.sequence=[e.forcedSingleStop],c;let u=0,d=0,h=9;const p=r>0&&!e.hasFixedMin,m=r>0&&!e.hasFixedMax,y=e.getSize();let f=n.log10(y);const g=n.log10(l[0]);let b;if(f-=g,f-=n.log10(t),f=Math.max(f,a-g+1),0!==u){const t=n.pow10(f),r=n.floorToPrecision(e.min,t),o=n.ceilToPrecision(e.max,t),a=i.NumericSequenceRange.calculateFixedRange(r,o);a.shrinkByStep(e,u),d=a.min,h=a.max,b=Math.floor(a.getSize()/u)}else{let o;for(o=0;o<3;o++){const a=f+o,c=n.pow10(a),y=n.floorToPrecision(e.min,c),g=n.ceilToPrecision(e.max,c),v=l.length,M=n.pow10(a-1);for(let a=0;a<v;a++){const c=l[a]*M,f=i.NumericSequenceRange.calculateFixedRange(y,g,s);if(f.shrinkByStep(e,c),p&&e.min===f.min&&r>=1&&(f.min-=c),m&&e.max===f.max&&r>=1&&(f.max+=c),b=n.ceilWithPrecision(f.getSize()/c,n.DEFAULT_PRECISION),b<=t||2===o&&a===v-1||1===t&&2===b&&(c>e.getSize()||e.min<0&&e.max>0&&2*c>=e.getSize())){u=c,d=f.min,h=f.max;break}}if(0!==u)break}}(b>32*t||b>o.MAX_COUNT)&&(b=Math.min(32*t,o.MAX_COUNT),u=(h-d)/b),c.min=d,c.max=h,c.interval=u,c.intervalOffset=d-e.min,c.maxAllowedMargin=r,c.canExtendMin=p,c.canExtendMax=m;const v=n.getPrecision(u,0);c.precision=v;const M=[];let x=n.roundToPrecision(d,v);M.push(x);for(let e=0;e<b;e++)x=n.roundToPrecision(x+u,v),M.push(x);return c.sequence=M,c.trimMinMax(e.min,e.max),c}static calculateUnits(e,t,r,i){r=n.ensureInRange(r,o.MIN_COUNT,o.MAX_COUNT),e===t&&(t=e+1);let a=0,s=0;for(let o=0;o<i.length&&(s=i[o],a=n.ceilWithPrecision(t/s)-n.floorWithPrecision(e/s),!(a<=r));o++);let l=-e;l%=s;const c=new o;c.sequence=[];for(let r=e+l;c.sequence.push(r),!(r>=t);r+=s);return c.interval=s,c.intervalOffset=l,c.min=c.sequence[0],c.max=c.sequence[c.sequence.length-1],c}trimMinMax(e,t){const r=(e-this.min)/this.interval,n=(this.max-t)/this.interval;(!this.canExtendMin||r>this.maxAllowedMargin&&r>.001)&&(this.min=e),(!this.canExtendMax||n>this.maxAllowedMargin&&n>.001)&&(this.max=t)}}o.MIN_COUNT=1,o.MAX_COUNT=1e3},20067:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NumericSequenceRange:()=>i,hasValue:()=>o});var n=r(85442);class i{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){const e=this.min,t=n.log10(Math.abs(e));let r;t>=0&&t<4?(r=.5,this.forcedSingleStop=e):(r=n.pow10(t)/2,this.forcedSingleStop=null),this.min=e-r,this.max=e+r}else this.min=0,this.max=i.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){const e=this.min;this.min=this.max,this.max=e}}getSize(){return this.max-this.min}shrinkByStep(e,t){let r=this.min/t,n=e.min/t,i=Math.floor(n-r);this.min+=i*t,r=this.max/t,n=e.max/t,i=Math.ceil(n-r),this.max+=i*t}static calculate(e,t,r,a,s){const l=new i;return l.includeZero=!!s,l.hasDataRange=o(e)&&o(t),l.hasFixedMin=o(r),l.hasFixedMax=o(a),e=n.ensureInRange(e,i.MIN_SUPPORTED_DOUBLE,i.MAX_SUPPORTED_DOUBLE),t=n.ensureInRange(t,i.MIN_SUPPORTED_DOUBLE,i.MAX_SUPPORTED_DOUBLE),l.hasFixedMin&&l.hasFixedMax?(l.min=r,l.max=a):l.hasFixedMin?(l.min=r,l.max=t>r?t:r):l.hasFixedMax?(l.min=e<a?e:a,l.max=a):l.hasDataRange?(l.min=e,l.max=t):(l.min=0,l.max=0),l._ensureIncludeZero(),l._ensureNotEmpty(),l._ensureDirection(),0===l.min?l.hasFixedMin=!0:0===l.max&&(l.hasFixedMax=!0),l}static calculateDataRange(e,t,r){return o(e)&&o(t)?i.calculate(e,t,null,null,r):i.calculateFixedRange(0,i.DEFAULT_MAX)}static calculateFixedRange(e,t,r){const n=new i;return n.hasDataRange=!1,n.includeZero=r,n.min=e,n.max=t,n._ensureIncludeZero(),n._ensureNotEmpty(),n._ensureDirection(),n.hasFixedMin=!0,n.hasFixedMax=!0,n}}function o(e){return null!=e}i.DEFAULT_MAX=10,i.MIN_SUPPORTED_DOUBLE=-1e307,i.MAX_SUPPORTED_DOUBLE=1e307},55079:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromPoint:()=>a,fromPointToPixel:()=>s,toPoint:()=>l,toString:()=>o});const n=4/3,i="px";function o(e){return e+i}function a(e){return o(s(e))}function s(e){return n*e}function l(e){return e/n}},90421:(e,t,r)=>{"use strict";function n(e,t){function r(){}r.prototype=e;const n=new r;return t&&t(n),n}function i(e){const t=Object.getPrototypeOf(e);return t!==Object.prototype&&t!==Array.prototype||(e=n(e)),e}function o(e,t){if(!e)return;let r;for(let i=0,o=e.length;i<o;i++){const o=t(e[i]);o&&(r||(r=n(e)),r[i]=o)}return r}r.r(t),r.d(t,{inherit:()=>n,inheritSingle:()=>i,overrideArray:()=>o})},35939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TextSizeMax:()=>i,TextSizeMin:()=>n,getScale:()=>a});const n=8,i=40,o=i-n;function a(e){return(e-n)/o}},64182:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ExtendedType:()=>o,FormattingType:()=>m,GeographyType:()=>h,MiscellaneousType:()=>p,PrimitiveType:()=>n,ScriptType:()=>u,TemporalType:()=>d,ValueType:()=>c});var n,i,o,a,s=r(2879),l=r(15038);class c{constructor(e,t,r,n){this.underlyingType=e,this.category=t,s.hasFlag(e,o.Temporal)&&(this.temporalType=new d(e)),s.hasFlag(e,o.Geography)&&(this.geographyType=new h(e)),s.hasFlag(e,o.Miscellaneous)&&(this.miscType=new p(e)),s.hasFlag(e,o.Formatting)&&(this.formattingType=new m(e)),s.hasFlag(e,o.Enumeration)&&(this.enumType=r),s.hasFlag(e,o.Scripting)&&(this.scriptingType=new u(e)),s.hasFlag(e,o.Variant)&&(this.variationTypes=n)}static fromDescriptor(e){if((e=e||{}).text)return c.fromExtendedType(o.Text);if(e.integer)return c.fromExtendedType(o.Integer);if(e.numeric)return c.fromExtendedType(o.Double);if(e.bool)return c.fromExtendedType(o.Boolean);if(e.dateTime)return c.fromExtendedType(o.DateTime);if(e.duration)return c.fromExtendedType(o.Duration);if(e.binary)return c.fromExtendedType(o.Binary);if(e.none)return c.fromExtendedType(o.None);if(e.scripting&&e.scripting.source)return c.fromExtendedType(o.ScriptSource);if(e.enumeration)return c.fromEnum(e.enumeration);if(e.temporal){if(e.temporal.year)return c.fromExtendedType(o.Years_Integer);if(e.temporal.quarter)return c.fromExtendedType(o.Quarters_Integer);if(e.temporal.month)return c.fromExtendedType(o.Months_Integer);if(e.temporal.day)return c.fromExtendedType(o.DayOfMonth_Integer);if(e.temporal.paddedDateTableDate)return c.fromExtendedType(o.PaddedDateTableDates)}if(e.geography){if(e.geography.address)return c.fromExtendedType(o.Address);if(e.geography.city)return c.fromExtendedType(o.City);if(e.geography.continent)return c.fromExtendedType(o.Continent);if(e.geography.country)return c.fromExtendedType(o.Country);if(e.geography.county)return c.fromExtendedType(o.County);if(e.geography.region)return c.fromExtendedType(o.Region);if(e.geography.postalCode)return c.fromExtendedType(o.PostalCode_Text);if(e.geography.stateOrProvince)return c.fromExtendedType(o.StateOrProvince);if(e.geography.place)return c.fromExtendedType(o.Place);if(e.geography.latitude)return c.fromExtendedType(o.Latitude_Double);if(e.geography.longitude)return c.fromExtendedType(o.Longitude_Double)}if(e.misc){if(e.misc.image)return c.fromExtendedType(o.Image);if(e.misc.imageUrl)return c.fromExtendedType(o.ImageUrl);if(e.misc.webUrl)return c.fromExtendedType(o.WebUrl);if(e.misc.barcode)return c.fromExtendedType(o.Barcode_Text)}if(e.formatting){if(e.formatting.color)return c.fromExtendedType(o.Color);if(e.formatting.formatString)return c.fromExtendedType(o.FormatString);if(e.formatting.alignment)return c.fromExtendedType(o.Alignment);if(e.formatting.labelDisplayUnits)return c.fromExtendedType(o.LabelDisplayUnits);if(e.formatting.fontSize)return c.fromExtendedType(o.FontSize);if(e.formatting.labelDensity)return c.fromExtendedType(o.LabelDensity)}if(e.extendedType)return c.fromExtendedType(e.extendedType);if(e.operations&&e.operations.searchEnabled)return c.fromExtendedType(o.SearchEnabled);if(e.variant){const t=e.variant.map((e=>c.fromDescriptor(e)));return c.fromVariant(t)}return c.fromExtendedType(o.Null)}static fromExtendedType(e){const t=b(e=e||o.Null),r=function(e){if(function(e){return(e&f)===e}(e))return null;let t=a[e];if(t){const e=t.lastIndexOf("_");if(e>0){const r=t.slice(0,e);a[r]&&(t=r)}}return t||null}(e);return c.fromPrimitiveTypeAndCategory(t,r)}static fromPrimitiveTypeAndCategory(e,t){t=t||null;let r=(e=e||n.Null).toString();return t&&(r+="|"+t),c.typeCache[r]||(c.typeCache[r]=new c(function(e,t){const r=i[e];let s=a[r];if(null==s&&(s=o.Null),e&&t){let r=a[t];if(r){const t=b(r);t===n.Null?(r|=s,a[r]&&(s=r)):t===e&&(s=r)}}return s}(e,t),t))}static fromEnum(e){return new c(o.Enumeration,null,e)}static fromVariant(e){return new c(o.Variant,null,null,e)}static isCompatibleTo(e,t){const r=c.fromDescriptor(e);for(const e of t)if(c.fromDescriptor(e).isCompatibleFrom(r))return!0;return!1}isCompatibleFrom(e){const t=e.primitiveType;return!!(this===e||this.primitiveType===t||t===n.Null||this.numeric&&e.numeric)}equals(e){return(0,l.equals)(this,e)}get primitiveType(){return b(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return this.primitiveType===n.Text}get numeric(){return s.hasFlag(this.underlyingType,o.Numeric)}get integer(){return this.primitiveType===n.Integer}get bool(){return this.primitiveType===n.Boolean}get dateTime(){return this.primitiveType===n.DateTime||this.primitiveType===n.Date||this.primitiveType===n.Time}get duration(){return this.primitiveType===n.Duration}get binary(){return this.primitiveType===n.Binary}get none(){return this.primitiveType===n.None}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enumeration(){return this.enumType}get scripting(){return this.scriptingType}get variant(){return this.variationTypes}}c.typeCache={};class u{constructor(e){this.underlyingType=e}get source(){return v(this.underlyingType,o.ScriptSource)}}class d{constructor(e){this.underlyingType=e}get year(){return v(this.underlyingType,o.Years)}get quarter(){return v(this.underlyingType,o.Quarters)}get month(){return v(this.underlyingType,o.Months)}get day(){return v(this.underlyingType,o.DayOfMonth)}get paddedDateTableDate(){return v(this.underlyingType,o.PaddedDateTableDates)}}class h{constructor(e){this.underlyingType=e}get address(){return v(this.underlyingType,o.Address)}get city(){return v(this.underlyingType,o.City)}get continent(){return v(this.underlyingType,o.Continent)}get country(){return v(this.underlyingType,o.Country)}get county(){return v(this.underlyingType,o.County)}get region(){return v(this.underlyingType,o.Region)}get postalCode(){return v(this.underlyingType,o.PostalCode)}get stateOrProvince(){return v(this.underlyingType,o.StateOrProvince)}get place(){return v(this.underlyingType,o.Place)}get latitude(){return v(this.underlyingType,o.Latitude)}get longitude(){return v(this.underlyingType,o.Longitude)}}class p{constructor(e){this.underlyingType=e}get image(){return v(this.underlyingType,o.Image)}get imageUrl(){return v(this.underlyingType,o.ImageUrl)}get webUrl(){return v(this.underlyingType,o.WebUrl)}get barcode(){return v(this.underlyingType,o.Barcode)}}class m{constructor(e){this.underlyingType=e}get color(){return v(this.underlyingType,o.Color)}get formatString(){return v(this.underlyingType,o.FormatString)}get alignment(){return v(this.underlyingType,o.Alignment)}get labelDisplayUnits(){return v(this.underlyingType,o.LabelDisplayUnits)}get fontSize(){return v(this.underlyingType,o.FontSize)}get labelDensity(){return v(this.underlyingType,o.LabelDensity)}}!function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(n||(n={})),function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(i||(i={})),function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(o||(o={})),function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(a||(a={}));const y=255,f=65535,g=4294901760;function b(e){return e&y}function v(e,t){return(e&g)==(t&g)}},65606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},22551:(e,t,r)=>{"use strict";var n=r(30327),i=r(96540),o=r(45228),a=r(69982);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));var l=new Set,c={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var h=!(void 0===n||void 0===n.document||void 0===n.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m=Object.prototype.hasOwnProperty,y={},f={};function g(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}function x(e,t,r,n){var i=b.hasOwnProperty(t)?b[t]:null;(null!==i?0===i.type:!n&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!m.call(f,e)||!m.call(y,e)&&(p.test(e)?f[e]=!0:(y[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,M);b[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,M);b[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,M);b[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,_=60106,T=60107,I=60108,C=60114,k=60109,L=60110,N=60112,Z=60113,E=60120,z=60115,G=60116,P=60121,A=60128,R=60129,D=60130,X=60131;if("function"==typeof Symbol&&Symbol.for){var O=Symbol.for;w=O("react.element"),_=O("react.portal"),T=O("react.fragment"),I=O("react.strict_mode"),C=O("react.profiler"),k=O("react.provider"),L=O("react.context"),N=O("react.forward_ref"),Z=O("react.suspense"),E=O("react.suspense_list"),z=O("react.memo"),G=O("react.lazy"),P=O("react.block"),O("react.scope"),A=O("react.opaque.id"),R=O("react.debug_trace_mode"),D=O("react.offscreen"),X=O("react.legacy_hidden")}var W,j="function"==typeof Symbol&&Symbol.iterator;function Y(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}function F(e){if(void 0===W)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||""}return"\n"+W+e}var V=!1;function H(e,t){if(!e||V)return"";V=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(e){if(e&&n&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 22:return H(e.type._render,!1);case 1:return H(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case _:return"Portal";case C:return"Profiler";case I:return"StrictMode";case Z:return"Suspense";case E:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case z:return B(e.type);case P:return B(e._render);case G:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=J(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ee(e,t){var r=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function te(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=K(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function re(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){re(e,t);var r=K(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,r):t.hasOwnProperty("defaultValue")&&oe(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function oe(e,t,r){"number"===t&&$(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+K(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:K(r)}}function ue(e,t){var r=K(t.value),n=K(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ye,fe,ge=(fe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ye=ye||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return fe(e,t)}))}:fe);function be(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function Se(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(ve).forEach((function(e){Me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var we=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||n).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,ke=null,Le=null;function Ne(e){if(e=ri(e)){if("function"!=typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),Ce(e.stateNode,e.type,t))}}function Ze(e){ke?Le?Le.push(e):Le=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Le;if(Le=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function ze(e,t){return e(t)}function Ge(e,t,r,n,i){return e(t,r,n,i)}function Pe(){}var Ae=ze,Re=!1,De=!1;function Xe(){null===ke&&null===Le||(Pe(),Ee())}function Oe(e,t){var r=e.stateNode;if(null===r)return null;var n=ii(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(s(231,t,typeof r));return r}var We=!1;if(h)try{var je={};Object.defineProperty(je,"passive",{get:function(){We=!0}}),n.addEventListener("test",je,je),n.removeEventListener("test",je,je)}catch(fe){We=!1}function Ye(e,t,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(e){this.onError(e)}}var Fe=!1,Ve=null,He=!1,Ue=null,Be={onError:function(e){Fe=!0,Ve=e}};function Ke(e,t,r,n,i,o,a,s,l){Fe=!1,Ve=null,Ye.apply(Be,arguments)}function Je(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(Je(e)!==e)throw Error(s(188))}function $e(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var et,tt,rt,nt,it=!1,ot=[],at=null,st=null,lt=null,ct=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function mt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function yt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,r,n,i,o),null!==t&&null!==(t=ri(t))&&tt(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ft(e){var t=ti(e.target);if(null!==t){var r=Je(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Qe(r)))return e.blockedOn=t,void nt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ri(r))&&tt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){gt(e)&&r.delete(t)}function vt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var r=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(bt),ut.forEach(bt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vt)))}function xt(e){function t(t){return Mt(t,e)}if(0<ot.length){Mt(ot[0],e);for(var r=1;r<ot.length;r++){var n=ot[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==at&&Mt(at,e),null!==st&&Mt(st,e),null!==lt&&Mt(lt,e),ct.forEach(t),ut.forEach(t),r=0;r<dt.length;r++)(n=dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<dt.length&&null===(r=dt[0]).blockedOn;)ft(r),null===r.blockedOn&&dt.shift()}function St(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},_t={},Tt={};function It(e){if(_t[e])return _t[e];if(!wt[e])return e;var t,r=wt[e];for(t in r)if(r.hasOwnProperty(t)&&t in Tt)return _t[e]=r[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in n||(delete wt.animationend.animation,delete wt.animationiteration.animation,delete wt.animationstart.animation),"TransitionEvent"in n||delete wt.transitionend.transition);var Ct=It("animationend"),kt=It("animationiteration"),Lt=It("animationstart"),Nt=It("transitionend"),Zt=new Map,Et=new Map,zt=["abort","abort",Ct,"animationEnd",kt,"animationIteration",Lt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Gt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Et.set(n,t),Zt.set(n,i),u(i,[n])}}(0,a.unstable_now)();var Pt=8;function At(e){if(1&e)return Pt=15,1;if(2&e)return Pt=14,2;if(4&e)return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):32&e?(Pt=11,32):0!=(t=192&e)?(Pt=10,t):256&e?(Pt=9,256):0!=(t=3584&e)?(Pt=8,t):4096&e?(Pt=7,4096):0!=(t=4186112&e)?(Pt=6,t):0!=(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):134217728&e?(Pt=3,134217728):0!=(t=805306368&e)?(Pt=2,t):1073741824&e?(Pt=1,1073741824):(Pt=8,e)}function Rt(e,t){var r=e.pendingLanes;if(0===r)return Pt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,i=Pt=15;else if(0!=(o=134217727&r)){var l=o&~a;0!==l?(n=At(l),i=Pt):0!=(s&=o)&&(n=At(s),i=Pt)}else 0!=(o=r&~a)?(n=At(o),i=Pt):0!==s&&(n=At(s),i=Pt);if(0===n)return 0;if(n=r&((0>(n=31-Yt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&!(t&a)){if(At(t),i<=Pt)return t;Pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-Yt(t)),n|=e[r],t&=~i;return n}function Dt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Xt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ot(24&~t))?Xt(10,t):e;case 10:return 0===(e=Ot(192&~t))?Xt(8,t):e;case 8:return 0===(e=Ot(3584&~t))&&0===(e=Ot(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ot(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ot(e){return e&-e}function Wt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Yt(t)]=r}var Yt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ft(e)/Vt|0)|0},Ft=Math.log,Vt=Math.LN2,Ht=a.unstable_UserBlockingPriority,Ut=a.unstable_runWithPriority,Bt=!0;function Kt(e,t,r,n){Re||Pe();var i=Qt,o=Re;Re=!0;try{Ge(i,e,t,r,n)}finally{(Re=o)||Xe()}}function Jt(e,t,r,n){Ut(Ht,Qt.bind(null,e,t,r,n))}function Qt(e,t,r,n){var i;if(Bt)if((i=!(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,r,n),ot.push(e);else{var o=qt(e,t,r,n);if(null===o)i&&mt(e,n);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,r,n),void ot.push(e);if(function(e,t,r,n,i){switch(t){case"focusin":return at=yt(at,e,t,r,n,i),!0;case"dragenter":return st=yt(st,e,t,r,n,i),!0;case"mouseover":return lt=yt(lt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,yt(ct.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,yt(ut.get(o)||null,e,t,r,n,i)),!0}return!1}(o,e,t,r,n))return;mt(e,n)}Gn(e,t,n,null,r)}}}function qt(e,t,r,n){var i=Ie(n);if(null!==(i=ti(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Gn(e,t,n,i,r),null}var $t=null,er=null,tr=null;function rr(){if(tr)return tr;var e,t,r=er,n=r.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return tr=i.slice(e,1<t?1-t:void 0)}function nr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ir(){return!0}function or(){return!1}function ar(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ir:or,this.isPropagationStopped=or,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var sr,lr,cr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=ar(ur),hr=o({},ur,{view:0,detail:0}),pr=ar(hr),mr=o({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&"mousemove"===e.type?(sr=e.screenX-cr.screenX,lr=e.screenY-cr.screenY):lr=sr=0,cr=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),yr=ar(mr),fr=ar(o({},mr,{dataTransfer:0})),gr=ar(o({},hr,{relatedTarget:0})),br=ar(o({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=o({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:n.clipboardData}}),Mr=ar(vr),xr=ar(o({},ur,{data:0})),Sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function Ir(){return Tr}var Cr=o({},hr,{key:function(e){if(e.key){var t=Sr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return"keypress"===e.type?nr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kr=ar(Cr),Lr=ar(o({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=ar(o({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir})),Zr=ar(o({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Er=o({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zr=ar(Er),Gr=[9,13,27,32],Pr=h&&"CompositionEvent"in n,Ar=null;h&&"documentMode"in document&&(Ar=document.documentMode);var Rr=h&&"TextEvent"in n&&!Ar,Dr=h&&(!Pr||Ar&&8<Ar&&11>=Ar),Xr=String.fromCharCode(32),Or=!1;function Wr(e,t){switch(e){case"keyup":return-1!==Gr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Yr=!1,Fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ze(n),0<(t=An(t,"onChange")).length&&(r=new dr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ur=null,Br=null;function Kr(e){kn(e,0)}function Jr(e){if(q(ni(e)))return e}function Qr(e,t){if("change"===e)return t}var qr=!1;if(h){var $r;if(h){var en="oninput"in document;if(!en){var tn=document.createElement("div");tn.setAttribute("oninput","return;"),en="function"==typeof tn.oninput}$r=en}else $r=!1;qr=$r&&(!document.documentMode||9<document.documentMode)}function rn(){Ur&&(Ur.detachEvent("onpropertychange",nn),Br=Ur=null)}function nn(e){if("value"===e.propertyName&&Jr(Br)){var t=[];if(Hr(t,Br,e,Ie(e)),e=Kr,Re)e(t);else{Re=!0;try{ze(e,t)}finally{Re=!1,Xe()}}}}function on(e,t,r){"focusin"===e?(rn(),Br=r,(Ur=t).attachEvent("onpropertychange",nn)):"focusout"===e&&rn()}function an(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(Br)}function sn(e,t){if("click"===e)return Jr(t)}function ln(e,t){if("input"===e||"change"===e)return Jr(t)}var cn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},un=Object.prototype.hasOwnProperty;function dn(e,t){if(cn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!un.call(t,r[n])||!cn(e[r[n]],t[r[n]]))return!1;return!0}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var r,n=hn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hn(n)}}function mn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yn(){for(var e=n,t=$();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=$((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=h&&"documentMode"in document&&11>=document.documentMode,bn=null,vn=null,Mn=null,xn=!1;function Sn(e,t,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;xn||null==bn||bn!==$(i)||(i="selectionStart"in(i=bn)&&fn(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||n).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Mn&&dn(Mn,i)||(Mn=i,0<(i=An(vn,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=bn)))}Gt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Gt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Gt(zt,2);for(var wn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_n=0;_n<wn.length;_n++)Et.set(wn[_n],0);d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),In=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function Cn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,a,l,c){if(Ke.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var u=Ve;Fe=!1,Ve=null,He||(He=!0,Ue=u)}}(n,t,void 0,e),e.currentTarget=null}function kn(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Cn(i,s,c),o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Cn(i,s,c),o=l}}}if(He)throw e=Ue,He=!1,Ue=null,e}function Ln(e,t){var r=oi(t),n=e+"__bubble";r.has(n)||(zn(t,e,2,!1),r.add(n))}var Nn="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){e[Nn]||(e[Nn]=!0,l.forEach((function(t){In.has(t)||En(t,!1,e,null),En(t,!0,e,null)})))}function En(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;if("selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument),null!==n&&!t&&In.has(e)){if("scroll"!==e)return;i|=2,o=n}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),zn(o,e,i,t),a.add(s))}function zn(e,t,r,n){var i=Et.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Jt;break;default:i=Qt}r=i.bind(null,t,r,e),i=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Gn(e,t,r,i,o){var a=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var l=i.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;s=s.return}for(;null!==l;){if(null===(s=ti(l)))return;if(5===(c=s.tag)||6===c){i=a=s;continue e}l=l.parentNode}}i=i.return}!function(e,t,r){if(De)return e();De=!0;try{return Ae(e,t,r)}finally{De=!1,Xe()}}((function(){var i=a,o=Ie(r),s=[];e:{var l=Zt.get(e);if(void 0!==l){var c=dr,u=e;switch(e){case"keypress":if(0===nr(r))break e;case"keydown":case"keyup":c=kr;break;case"focusin":u="focus",c=gr;break;case"focusout":u="blur",c=gr;break;case"beforeblur":case"afterblur":c=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nr;break;case Ct:case kt:case Lt:c=br;break;case Nt:c=Zr;break;case"scroll":c=pr;break;case"wheel":c=zr;break;case"copy":case"cut":case"paste":c=Mr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Lr}var d=!!(4&t),h=!d&&"scroll"===e,p=d?null!==l?l+"Capture":null:l;d=[];for(var m,y=i;null!==y;){var f=(m=y).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&null!=(f=Oe(y,p))&&d.push(Pn(y,f,m))),h)break;y=y.return}0<d.length&&(l=new c(l,u,null,r,o),s.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||16&t||!(u=r.relatedTarget||r.fromElement)||!ti(u)&&!u[$n])&&(c||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:n,c?(c=i,null!==(u=(u=r.relatedTarget||r.toElement)?ti(u):null)&&(u!==(h=Je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=i),c!==u)){if(d=yr,f="onMouseLeave",p="onMouseEnter",y="mouse","pointerout"!==e&&"pointerover"!==e||(d=Lr,f="onPointerLeave",p="onPointerEnter",y="pointer"),h=null==c?l:ni(c),m=null==u?l:ni(u),(l=new d(f,y+"leave",c,r,o)).target=h,l.relatedTarget=m,f=null,ti(o)===i&&((d=new d(p,y+"enter",u,r,o)).target=m,d.relatedTarget=h,f=d),h=f,c&&u)e:{for(p=u,y=0,m=d=c;m;m=Rn(m))y++;for(m=0,f=p;f;f=Rn(f))m++;for(;0<y-m;)d=Rn(d),y--;for(;0<m-y;)p=Rn(p),m--;for(;y--;){if(d===p||null!==p&&d===p.alternate)break e;d=Rn(d),p=Rn(p)}d=null}else d=null;null!==c&&Dn(s,l,c,d,!1),null!==u&&null!==h&&Dn(s,h,u,d,!0)}if("select"===(c=(l=i?ni(i):n).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var g=Qr;else if(Vr(l))if(qr)g=ln;else{g=an;var b=on}else(c=l.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=sn);switch(g&&(g=g(e,i))?Hr(s,g,r,o):(b&&b(e,l,i),"focusout"===e&&(b=l._wrapperState)&&b.controlled&&"number"===l.type&&oe(l,"number",l.value)),b=i?ni(i):n,e){case"focusin":(Vr(b)||"true"===b.contentEditable)&&(bn=b,vn=i,Mn=null);break;case"focusout":Mn=vn=bn=null;break;case"mousedown":xn=!0;break;case"contextmenu":case"mouseup":case"dragend":xn=!1,Sn(s,r,o);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":Sn(s,r,o)}var v;if(Pr)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Yr?Wr(e,r)&&(M="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(M="onCompositionStart");M&&(Dr&&"ko"!==r.locale&&(Yr||"onCompositionStart"!==M?"onCompositionEnd"===M&&Yr&&(v=rr()):(er="value"in($t=o)?$t.value:$t.textContent,Yr=!0)),0<(b=An(i,M)).length&&(M=new xr(M,e,null,r,o),s.push({event:M,listeners:b}),(v||null!==(v=jr(r)))&&(M.data=v))),(v=Rr?function(e,t){switch(e){case"compositionend":return jr(t);case"keypress":return 32!==t.which?null:(Or=!0,Xr);case"textInput":return(e=t.data)===Xr&&Or?null:e;default:return null}}(e,r):function(e,t){if(Yr)return"compositionend"===e||!Pr&&Wr(e,t)?(e=rr(),tr=er=$t=null,Yr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(i=An(i,"onBeforeInput")).length&&(o=new xr("onBeforeInput","beforeinput",null,r,o),s.push({event:o,listeners:i}),o.data=v)}kn(s,t)}))}function Pn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function An(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,r))&&n.unshift(Pn(e,o,i)),null!=(o=Oe(e,t))&&n.push(Pn(e,o,i))),e=e.return}return n}function Rn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dn(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Oe(r,o))&&a.unshift(Pn(r,l,s)):i||null!=(l=Oe(r,o))&&a.push(Pn(r,l,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}function Xn(){}var On=null,Wn=null;function jn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fn="function"==typeof setTimeout?setTimeout:void 0,Vn="function"==typeof clearTimeout?clearTimeout:void 0;function Hn(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Un(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Bn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Kn=0,Jn=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Jn,qn="__reactProps$"+Jn,$n="__reactContainer$"+Jn,ei="__reactEvents$"+Jn;function ti(e){var t=e[Qn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$n]||r[Qn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Bn(e);null!==e;){if(r=e[Qn])return r;e=Bn(e)}return t}r=(e=r).parentNode}return null}function ri(e){return!(e=e[Qn]||e[$n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[qn]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function li(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var di={},hi=li(di),pi=li(!1),mi=di;function yi(e,t){var r=e.type.contextTypes;if(!r)return di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fi(e){return null!=e.childContextTypes}function gi(){ci(pi),ci(hi)}function bi(e,t,r){if(hi.current!==di)throw Error(s(168));ui(hi,t),ui(pi,r)}function vi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(s(108,B(t)||"Unknown",i));return o({},r,n)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,mi=hi.current,ui(hi,e),ui(pi,pi.current),!0}function xi(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=vi(e,t,mi),n.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(hi),ui(hi,e)):ci(pi),ui(pi,r)}var Si=null,wi=null,_i=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,ki=a.unstable_requestPaint,Li=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Zi=a.unstable_ImmediatePriority,Ei=a.unstable_UserBlockingPriority,zi=a.unstable_NormalPriority,Gi=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,Ai={},Ri=void 0!==ki?ki:function(){},Di=null,Xi=null,Oi=!1,Wi=Li(),ji=1e4>Wi?Li:function(){return Li()-Wi};function Yi(){switch(Ni()){case Zi:return 99;case Ei:return 98;case zi:return 97;case Gi:return 96;case Pi:return 95;default:throw Error(s(332))}}function Fi(e){switch(e){case 99:return Zi;case 98:return Ei;case 97:return zi;case 96:return Gi;case 95:return Pi;default:throw Error(s(332))}}function Vi(e,t){return e=Fi(e),_i(e,t)}function Hi(e,t,r){return e=Fi(e),Ti(e,t,r)}function Ui(){if(null!==Xi){var e=Xi;Xi=null,Ii(e)}Bi()}function Bi(){if(!Oi&&null!==Di){Oi=!0;var e=0;try{var t=Di;Vi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Di=null}catch(t){throw null!==Di&&(Di=Di.slice(e+1)),Ti(Zi,Ui),t}finally{Oi=!1}}}var Ki=S.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var r in t=o({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Qi=li(null),qi=null,$i=null,eo=null;function to(){eo=$i=qi=null}function ro(e){var t=Qi.current;ci(Qi),e.type._context._currentValue=t}function no(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function io(e,t){qi=e,eo=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Aa=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===qi)throw Error(s(308));$i=t,qi.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ho(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function po(e,t,r,n){var i=e.updateQueue;ao=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(h=i.baseState,s=0,d=u=c=null;;){l=a.lane;var p=a.eventTime;if((n&l)===l){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(l=t,p=r,y.tag){case 1:if("function"==typeof(m=y.payload)){h=m.call(p,h,l);break e}h=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null==(l="function"==typeof(m=y.payload)?m.call(p,h,l):m))break e;h=o({},h,l);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(l=i.effects)?i.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=p,c=h):d=d.next=p,s|=l;if(null===(a=a.next)){if(null===(l=i.shared.pending))break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===d&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,Xs|=s,e.lanes=s,e.memoizedState=h}}function mo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!=typeof i)throw Error(s(191,i));i.call(n)}}}var yo=(new i.Component).refs;function fo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:o({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ul(),i=dl(e),o=co(n,i);o.payload=t,null!=r&&(o.callback=r),uo(e,o),hl(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ul(),i=dl(e),o=co(n,i);o.tag=1,o.payload=t,null!=r&&(o.callback=r),uo(e,o),hl(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ul(),n=dl(e),i=co(r,n);i.tag=2,null!=t&&(i.callback=t),uo(e,i),hl(e,n,r)}};function bo(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dn(r,n)&&dn(i,o))}function vo(e,t,r){var n=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=fi(t)?mi:hi.current,o=(n=null!=(n=t.contextTypes))?yi(e,i):di),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function xo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=yo,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=fi(t)?mi:hi.current,i.context=yi(e,o)),po(e,r,i,n),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),po(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function wo(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;t===yo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Hl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=wo(e,t,r),n.return=e,n):((n=Yl(r.type,r.key,r.props,null,e.mode,n)).ref=wo(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ul(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=Fl(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Hl(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Yl(t.type,t.key,t.props,null,e.mode,r)).ref=wo(e,null,t),r.return=e,r;case _:return(t=Ul(t,e.mode,r)).return=e,t}if(So(t)||Y(t))return(t=Fl(t,e.mode,r,null)).return=e,t;_o(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===i?r.type===T?d(e,t,r.props.children,n,i):c(e,t,r,n):null;case _:return r.key===i?u(e,t,r,n):null}if(So(r)||Y(r))return null!==i?null:d(e,t,r,n,null);_o(e,r)}return null}function m(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return e=e.get(null===n.key?r:n.key)||null,n.type===T?d(t,e,n.props.children,i,n.key):c(t,e,n,i);case _:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(So(n)||Y(n))return d(t,e=e.get(r)||null,n,i,null);_o(t,n)}return null}function y(i,a,s,l){for(var c=null,u=null,d=a,y=a=0,f=null;null!==d&&y<s.length;y++){d.index>y?(f=d,d=null):f=d.sibling;var g=p(i,d,s[y],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,y),null===u?c=g:u.sibling=g,u=g,d=f}if(y===s.length)return r(i,d),c;if(null===d){for(;y<s.length;y++)null!==(d=h(i,s[y],l))&&(a=o(d,a,y),null===u?c=d:u.sibling=d,u=d);return c}for(d=n(i,d);y<s.length;y++)null!==(f=m(d,i,y,s[y],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?y:f.key),a=o(f,a,y),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),c}function f(i,a,l,c){var u=Y(l);if("function"!=typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,y=a,f=a=0,g=null,b=l.next();null!==y&&!b.done;f++,b=l.next()){y.index>f?(g=y,y=null):g=y.sibling;var v=p(i,y,b.value,c);if(null===v){null===y&&(y=g);break}e&&y&&null===v.alternate&&t(i,y),a=o(v,a,f),null===d?u=v:d.sibling=v,d=v,y=g}if(b.done)return r(i,y),u;if(null===y){for(;!b.done;f++,b=l.next())null!==(b=h(i,b.value,c))&&(a=o(b,a,f),null===d?u=b:d.sibling=b,d=b);return u}for(y=n(i,y);!b.done;f++,b=l.next())null!==(b=m(y,i,f,b.value,c))&&(e&&null!==b.alternate&&y.delete(null===b.key?f:b.key),a=o(b,a,f),null===d?u=b:d.sibling=b,d=b);return e&&y.forEach((function(e){return t(i,e)})),u}return function(e,n,o,l){var c="object"==typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case w:e:{for(u=o.key,c=n;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===T){r(e,c.sibling),(n=i(c,o.props.children)).return=e,e=n;break e}}else if(c.elementType===o.type){r(e,c.sibling),(n=i(c,o.props)).ref=wo(e,c,o),n.return=e,e=n;break e}r(e,c);break}t(e,c),c=c.sibling}o.type===T?((n=Fl(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Yl(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,n,o),l.return=e,e=l)}return a(e);case _:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Ul(o,e.mode,l)).return=e,e=n}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Hl(o,e.mode,l)).return=e,e=n),a(e);if(So(o))return y(e,n,o,l);if(Y(o))return f(e,n,o,l);if(u&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,B(e.type)||"Component"))}return r(e,n)}}var Io=To(!0),Co=To(!1),ko={},Lo=li(ko),No=li(ko),Zo=li(ko);function Eo(e){if(e===ko)throw Error(s(174));return e}function zo(e,t){switch(ui(Zo,t),ui(No,e),ui(Lo,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Lo),ui(Lo,t)}function Go(){ci(Lo),ci(No),ci(Zo)}function Po(e){Eo(Zo.current);var t=Eo(Lo.current),r=me(t,e.type);t!==r&&(ui(No,e),ui(Lo,r))}function Ao(e){No.current===e&&(ci(Lo),ci(No))}var Ro=li(0);function Do(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xo=null,Oo=null,Wo=!1;function jo(e,t){var r=Ol(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Yo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Fo(e){if(Wo){var t=Oo;if(t){var r=t;if(!Yo(e,t)){if(!(t=Un(r.nextSibling))||!Yo(e,t))return e.flags=-1025&e.flags|2,Wo=!1,void(Xo=e);jo(Xo,r)}Xo=e,Oo=Un(t.firstChild)}else e.flags=-1025&e.flags|2,Wo=!1,Xo=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Xo=e}function Ho(e){if(e!==Xo)return!1;if(!Wo)return Vo(e),Wo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Yn(t,e.memoizedProps))for(t=Oo;t;)jo(e,t),t=Un(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Oo=Un(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Oo=null}}else Oo=Xo?Un(e.stateNode.nextSibling):null;return!0}function Uo(){Oo=Xo=null,Wo=!1}var Bo=[];function Ko(){for(var e=0;e<Bo.length;e++)Bo[e]._workInProgressVersionPrimary=null;Bo.length=0}var Jo=S.ReactCurrentDispatcher,Qo=S.ReactCurrentBatchConfig,qo=0,$o=null,ea=null,ta=null,ra=!1,na=!1;function ia(){throw Error(s(321))}function oa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cn(e[r],t[r]))return!1;return!0}function aa(e,t,r,n,i,o){if(qo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Ea:za,e=r(n,i),na){o=0;do{if(na=!1,!(25>o))throw Error(s(301));o+=1,ta=ea=null,t.updateQueue=null,Jo.current=Ga,e=r(n,i)}while(na)}if(Jo.current=Za,t=null!==ea&&null!==ea.next,qo=0,ta=ea=$o=null,ra=!1,t)throw Error(s(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?$o.memoizedState=ta=e:ta=ta.next=e,ta}function la(){if(null===ea){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?$o.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?$o.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"==typeof t?t(e):t}function ua(e){var t=la(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=ea,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((qo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===e?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=n):l=l.next=d,$o.lanes|=u,Xs|=u}c=c.next}while(null!==c&&c!==i);null===l?o=n:l.next=a,cn(n,t.memoizedState)||(Aa=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function da(e){var t=la(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);cn(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ha(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(qo&e)===e)&&(t._workInProgressVersionPrimary=n,Bo.push(t))),e)return r(t._source);throw Bo.push(t),Error(s(350))}function pa(e,t,r,n){var i=Zs;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Jo.current,c=l.useState((function(){return ha(i,t,r)})),u=c[1],d=c[0];c=ta;var h=e.memoizedState,p=h.refs,m=p.getSnapshot,y=h.source;h=h.subscribe;var f=$o;return e.memoizedState={refs:p,source:t,subscribe:n},l.useEffect((function(){p.getSnapshot=r,p.setSnapshot=u;var e=o(t._source);if(!cn(a,e)){e=r(t._source),cn(d,e)||(u(e),e=dl(f),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,s=e;0<s;){var l=31-Yt(s),c=1<<l;n[l]|=e,s&=~c}}}),[r,t,n]),l.useEffect((function(){return n(t._source,(function(){var e=p.getSnapshot,r=p.setSnapshot;try{r(e(t._source));var n=dl(f);i.mutableReadLanes|=n&i.pendingLanes}catch(e){r((function(){throw e}))}}))}),[t,n]),cn(m,r)&&cn(y,t)&&cn(h,n)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:d}).dispatch=u=Na.bind(null,$o,e),c.queue=e,c.baseQueue=null,d=ha(i,t,r),c.memoizedState=c.baseState=d),d}function ma(e,t,r){return pa(la(),e,t,r)}function ya(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Na.bind(null,$o,e),[t.memoizedState,e]}function fa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ba(){return la().memoizedState}function va(e,t,r,n){var i=sa();$o.flags|=e,i.memoizedState=fa(1|t,r,void 0,void 0===n?null:n)}function Ma(e,t,r,n){var i=la();n=void 0===n?null:n;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==n&&oa(n,a.deps))return void fa(t,r,o,n)}$o.flags|=e,i.memoizedState=fa(1|t,r,o,n)}function xa(e,t){return va(516,4,e,t)}function Sa(e,t){return Ma(516,4,e,t)}function wa(e,t){return Ma(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,r){return r=null!=r?r.concat([e]):null,Ma(4,2,_a.bind(null,t,e),r)}function Ia(){}function Ca(e,t){var r=la();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&oa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ka(e,t){var r=la();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&oa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function La(e,t){var r=Yi();Vi(98>r?98:r,(function(){e(!0)})),Vi(97<r?97:r,(function(){var r=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=r}}))}function Na(e,t,r){var n=ul(),i=dl(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===$o||null!==a&&a===$o)na=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,r);if(o.eagerReducer=a,o.eagerState=l,cn(l,s))return}catch(e){}hl(e,i,n)}}var Za={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Ea={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:xa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,va(4,2,_a.bind(null,t,e),r)},useLayoutEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var r=sa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,$o,e),[n.memoizedState,e]},useRef:ga,useState:ya,useDebugValue:Ia,useDeferredValue:function(e){var t=ya(e),r=t[0],n=t[1];return xa((function(){var t=Qo.transition;Qo.transition=1;try{n(e)}finally{Qo.transition=t}}),[e]),r},useTransition:function(){var e=ya(!1),t=e[0];return ga(e=La.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=sa();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},pa(n,e,t,r)},useOpaqueIdentifier:function(){if(Wo){var e=!1,t=function(e){return{$$typeof:A,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Kn++).toString(36))),Error(s(355))})),r=ya(t)[1];return!(2&$o.mode)&&($o.flags|=516,fa(5,(function(){r("r:"+(Kn++).toString(36))}),void 0,null)),t}return ya(t="r:"+(Kn++).toString(36)),t},unstable_isNewReconciler:!1},za={readContext:oo,useCallback:Ca,useContext:oo,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:wa,useMemo:ka,useReducer:ua,useRef:ba,useState:function(){return ua(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=ua(ca),r=t[0],n=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{n(e)}finally{Qo.transition=t}}),[e]),r},useTransition:function(){var e=ua(ca)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return ua(ca)[0]},unstable_isNewReconciler:!1},Ga={readContext:oo,useCallback:Ca,useContext:oo,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:wa,useMemo:ka,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=da(ca),r=t[0],n=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{n(e)}finally{Qo.transition=t}}),[e]),r},useTransition:function(){var e=da(ca)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},Pa=S.ReactCurrentOwner,Aa=!1;function Ra(e,t,r,n){t.child=null===e?Co(t,null,r,n):Io(t,e.child,r,n)}function Da(e,t,r,n,i){r=r.render;var o=t.ref;return io(t,i),n=aa(e,t,r,n,o,i),null===e||Aa?(t.flags|=1,Ra(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Xa(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||Wl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Yl(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Oa(e,t,a,n,i,o))}return a=e.child,i&o||(i=a.memoizedProps,!(r=null!==(r=r.compare)?r:dn)(i,n)||e.ref!==t.ref)?(t.flags|=1,(e=jl(a,n)).ref=t.ref,e.return=t,t.child=e):ns(e,t,o)}function Oa(e,t,r,n,i,o){if(null!==e&&dn(e.memoizedProps,n)&&e.ref===t.ref){if(Aa=!1,!(o&i))return t.lanes=e.lanes,ns(e,t,o);16384&e.flags&&(Aa=!0)}return Ya(e,t,r,n,o)}function Wa(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(4&t.mode){if(!(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(0,e),null;t.memoizedState={baseLanes:0},bl(0,null!==o?o.baseLanes:r)}else t.memoizedState={baseLanes:0},bl(0,r);else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,bl(0,n);return Ra(e,t,i,r),t.child}function ja(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Ya(e,t,r,n,i){var o=fi(r)?mi:hi.current;return o=yi(t,o),io(t,i),r=aa(e,t,r,n,o,i),null===e||Aa?(t.flags|=1,Ra(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Fa(e,t,r,n,i){if(fi(r)){var o=!0;Mi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,r,n),xo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=r.contextType;c="object"==typeof c&&null!==c?oo(c):yi(t,c=fi(r)?mi:hi.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==c)&&Mo(t,a,n,c),ao=!1;var h=t.memoizedState;a.state=h,po(t,n,a,i),l=t.memoizedState,s!==n||h!==l||pi.current||ao?("function"==typeof u&&(fo(t,r,u,n),l=t.memoizedState),(s=ao||bo(t,r,s,n,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):("function"==typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),a.props=c,d=t.pendingProps,h=a.context,l="object"==typeof(l=r.contextType)&&null!==l?oo(l):yi(t,l=fi(r)?mi:hi.current);var p=r.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Mo(t,a,n,l),ao=!1,h=t.memoizedState,a.state=h,po(t,n,a,i);var m=t.memoizedState;s!==d||h!==m||pi.current||ao?("function"==typeof p&&(fo(t,r,p,n),m=t.memoizedState),(c=ao||bo(t,r,c,n,h,m,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,m,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,m,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),n=!1)}return Va(e,t,r,n,o,i)}function Va(e,t,r,n,i,o){ja(e,t);var a=!!(64&t.flags);if(!n&&!a)return i&&xi(t,r,!1),ns(e,t,o);n=t.stateNode,Pa.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Ra(e,t,s,o),t.memoizedState=n.state,i&&xi(t,r,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),zo(e,t.containerInfo)}var Ua,Ba,Ka,Ja,Qa={dehydrated:null,retryLane:0};function qa(e,t,r){var n,i=t.pendingProps,o=Ro.current,a=!1;return(n=!!(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&!!(2&o)),n?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Ro,1&o),null===e?(void 0!==i.fallback&&Fo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Qa,e):"number"==typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Qa,t.lanes=33554432,e):((r=Vl({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,a?(i=function(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return 2&o||t.child===a?r=jl(a,s):((r=t.child).childLanes=0,r.pendingProps=s,null!==(a=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?n=jl(e,n):(n=Fl(n,o,i,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}(e,t,i.children,i.fallback,r),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:r}:{baseLanes:o.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=Qa,i):(r=function(e,t,r,n){var i=e.child;return e=i.sibling,r=jl(i,{mode:"visible",children:r}),!(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}(e,t,i.children,r),t.memoizedState=null,r))}function $a(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},2&i||null===o?o=Vl(t,i,0,null):(o.childLanes=0,o.pendingProps=t),r=Fl(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function es(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),no(e.return,t)}function ts(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function rs(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ra(e,t,n.children,r),2&(n=Ro.current))n=1&n|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&es(e,r);else if(19===e.tag)es(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ui(Ro,n),2&t.mode)switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Do(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ts(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Do(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ts(t,!0,r,null,o,t.lastEffect);break;case"together":ts(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ns(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Xs|=t.lanes,r&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=jl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=jl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function is(e,t){if(!Wo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function os(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return fi(t.type)&&gi(),null;case 3:return Go(),ci(pi),ci(hi),Ko(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Ba(t),null;case 5:Ao(t);var i=Eo(Zo.current);if(r=t.type,null!==e&&null!=t.stateNode)Ka(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(s(166));return null}if(e=Eo(Lo.current),Ho(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qn]=t,n[qn]=a,r){case"dialog":Ln("cancel",n),Ln("close",n);break;case"iframe":case"object":case"embed":Ln("load",n);break;case"video":case"audio":for(e=0;e<Tn.length;e++)Ln(Tn[e],n);break;case"source":Ln("error",n);break;case"img":case"image":case"link":Ln("error",n),Ln("load",n);break;case"details":Ln("toggle",n);break;case"input":te(n,a),Ln("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ln("invalid",n);break;case"textarea":ce(n,a),Ln("invalid",n)}for(var l in _e(r,a),e=null,a)a.hasOwnProperty(l)&&(i=a[l],"children"===l?"string"==typeof i?n.textContent!==i&&(e=["children",i]):"number"==typeof i&&n.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(l)&&null!=i&&"onScroll"===l&&Ln("scroll",n));switch(r){case"input":Q(n),ie(n,a,!0);break;case"textarea":Q(n),de(n);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(n.onclick=Xn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,e===he&&(e=pe(r)),e===he?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Qn]=t,e[qn]=n,Ua(e,t,!1,!1),t.stateNode=e,l=Te(r,n),r){case"dialog":Ln("cancel",e),Ln("close",e),i=n;break;case"iframe":case"object":case"embed":Ln("load",e),i=n;break;case"video":case"audio":for(i=0;i<Tn.length;i++)Ln(Tn[i],e);i=n;break;case"source":Ln("error",e),i=n;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),i=n;break;case"details":Ln("toggle",e),i=n;break;case"input":te(e,n),i=ee(e,n),Ln("invalid",e);break;case"option":i=ae(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=o({},n,{value:void 0}),Ln("invalid",e);break;case"textarea":ce(e,n),i=le(e,n),Ln("invalid",e);break;default:i=n}_e(r,i);var u=i;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?Se(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===a?"string"==typeof d?("textarea"!==r||""!==d)&&be(e,d):"number"==typeof d&&be(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Ln("scroll",e):null!=d&&x(e,a,d,l))}switch(r){case"input":Q(e),ie(e,n,!1);break;case"textarea":Q(e),de(e);break;case"option":null!=n.value&&e.setAttribute("value",""+K(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?se(e,!!n.multiple,a,!1):null!=n.defaultValue&&se(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xn)}jn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ja(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(s(166));r=Eo(Zo.current),Eo(Lo.current),Ho(t)?(n=t.stateNode,r=t.memoizedProps,n[Qn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Qn]=t,t.stateNode=n)}return null;case 13:return ci(Ro),n=t.memoizedState,64&t.flags?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):r=null!==e.memoizedState,n&&!r&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Ro.current?0===As&&(As=3):(0!==As&&3!==As||(As=4),null===Zs||!(134217727&Xs)&&!(134217727&Os)||fl(Zs,zs))),(n||r)&&(t.flags|=4),null);case 4:return Go(),Ba(t),null===e&&Zn(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(Ro),null===(n=t.memoizedState))return null;if(a=!!(64&t.flags),null===(l=n.rendering))if(a)is(n,!1);else{if(0!==As||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(l=Do(e))){for(t.flags|=64,is(n,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(a=r).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ui(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==n.tail&&ji()>Fs&&(t.flags|=64,a=!0,is(n,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Do(l))){if(t.flags|=64,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),is(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!Wo)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*ji()-n.renderingStartTime>Fs&&1073741824!==r&&(t.flags|=64,a=!0,is(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=n.last)?r.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=ji(),r.sibling=null,t=Ro.current,ui(Ro,a?1&t|2:1&t),r):null;case 23:case 24:return vl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function as(e){switch(e.tag){case 1:fi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Go(),ci(pi),ci(hi),Ko(),64&(t=e.flags))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Ao(e),null;case 13:return ci(Ro),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Ro),null;case 4:return Go(),null;case 10:return ro(e),null;case 23:case 24:return vl(),null;default:return null}}function ss(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var i=r}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ua=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ba=function(){},Ka=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Eo(Lo.current);var a,s=null;switch(r){case"input":i=ee(e,i),n=ee(e,n),s=[];break;case"option":i=ae(e,i),n=ae(e,n),s=[];break;case"select":i=o({},i,{value:void 0}),n=o({},n,{value:void 0}),s=[];break;case"textarea":i=le(e,i),n=le(e,n),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof n.onClick&&(e.onclick=Xn)}for(d in _e(r,n),r=null,i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var u=n[d];if(l=null!=i?i[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(d,r)),r=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Ln("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===A?u.toString():(s=s||[]).push(d,u))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ja=function(e,t,r,n){r!==n&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function us(e,t,r){(r=co(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bs||(Bs=!0,Ks=n),ls(0,t)},r}function ds(e,t,r){(r=co(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return ls(0,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var hs="function"==typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Al(e,t)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Ji(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hn(t.stateNode.containerInfo))}throw Error(s(163))}function ys(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;n=i.next,4&(i=i.tag)&&1&i&&(zl(r,e),El(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Ji(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&mo(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}mo(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&jn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&xt(r)))))}throw Error(s(163))}function fs(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"==typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,n.style.display=xe("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function gs(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(Si,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(4&n)zl(t,r);else{n=t;try{i()}catch(e){Al(n,e)}}r=r.next}while(r!==e)}break;case 1:if(ps(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Al(t,e)}break;case 5:ps(t);break;case 4:ws(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function Ms(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(s(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(s(161))}16&r.flags&&(be(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||vs(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?xs(e,r,t):Ss(e,r,t)}function xs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Xn));else if(4!==n&&null!==(e=e.child))for(xs(e,t,r),e=e.sibling;null!==e;)xs(e,t,r),e=e.sibling}function Ss(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Ss(e,t,r),e=e.sibling;null!==e;)Ss(e,t,r),e=e.sibling}function ws(e,t){for(var r,n,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(gs(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n?(a=r,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{!(3&~n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[qn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&re(r,n),Te(e,i),t=Te(e,n),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?Se(r,l):"dangerouslySetInnerHTML"===a?ge(r,l):"children"===a?be(r,l):x(r,a,l,t)}switch(e){case"input":ne(r,n);break;case"textarea":ue(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(o=n.value)?se(r,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?se(r,!!n.multiple,n.defaultValue,!0):se(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,xt(r.containerInfo)));case 13:return null!==t.memoizedState&&(Ys=ji(),fs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(s(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new hs),t.forEach((function(t){var n=Dl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Cs=Math.ceil,ks=S.ReactCurrentDispatcher,Ls=S.ReactCurrentOwner,Ns=0,Zs=null,Es=null,zs=0,Gs=0,Ps=li(0),As=0,Rs=null,Ds=0,Xs=0,Os=0,Ws=0,js=null,Ys=0,Fs=1/0;function Vs(){Fs=ji()+500}var Hs,Us=null,Bs=!1,Ks=null,Js=null,Qs=!1,qs=null,$s=90,el=[],tl=[],rl=null,nl=0,il=null,ol=-1,al=0,sl=0,ll=null,cl=!1;function ul(){return 48&Ns?ji():-1!==ol?ol:ol=ji()}function dl(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===Yi()?1:2;if(0===al&&(al=Ds),0!==Ki.transition){0!==sl&&(sl=null!==js?js.pendingLanes:0),e=al;var t=4186112&~sl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Yi(),e=Xt(4&Ns&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al)}function hl(e,t,r){if(50<nl)throw nl=0,il=null,Error(s(185));if(null===(e=pl(e,t)))return null;jt(e,t,r),e===Zs&&(Os|=t,4===As&&fl(e,zs));var n=Yi();1===t?8&Ns&&!(48&Ns)?gl(e):(ml(e,r),0===Ns&&(Vs(),Ui())):(!(4&Ns)||98!==n&&99!==n||(null===rl?rl=new Set([e]):rl.add(e)),ml(e,r)),js=e}function pl(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function ml(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Yt(a),c=1<<l,u=o[l];if(-1===u){if(!(c&n)||c&i){u=t,At(c);var d=Pt;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(n=Rt(e,e===Zs?zs:0),t=Pt,0===n)null!==r&&(r!==Ai&&Ii(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Ai&&Ii(r)}15===t?(r=gl.bind(null,e),null===Di?(Di=[r],Xi=Ti(Zi,Bi)):Di.push(r),r=Ai):14===t?r=Hi(99,gl.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),r=Hi(r,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function yl(e){if(ol=-1,sl=al=0,48&Ns)throw Error(s(327));var t=e.callbackNode;if(Zl()&&e.callbackNode!==t)return null;var r=Rt(e,e===Zs?zs:0);if(0===r)return null;var n=r,i=Ns;Ns|=16;var o=Sl();for(Zs===e&&zs===n||(Vs(),Ml(e,n));;)try{Tl();break}catch(t){xl(e,t)}if(to(),ks.current=o,Ns=i,null!==Es?n=0:(Zs=null,zs=0,n=As),Ds&Os)Ml(e,0);else if(0!==n){if(2===n&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(r=Dt(e))&&(n=wl(e,r))),1===n)throw t=Rs,Ml(e,0),fl(e,r),ml(e,ji()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(s(345));case 2:case 5:kl(e);break;case 3:if(fl(e,r),(62914560&r)===r&&10<(n=Ys+500-ji())){if(0!==Rt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fn(kl.bind(null,e),n);break}kl(e);break;case 4:if(fl(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-Yt(r);o=1<<a,(a=n[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=ji()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=Fn(kl.bind(null,e),r);break}kl(e);break;default:throw Error(s(329))}}return ml(e,ji()),e.callbackNode===t?yl.bind(null,e):null}function fl(e,t){for(t&=~Ws,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Yt(t),n=1<<r;e[r]=-1,t&=~n}}function gl(e){if(48&Ns)throw Error(s(327));if(Zl(),e===Zs&&e.expiredLanes&zs){var t=zs,r=wl(e,t);Ds&Os&&(r=wl(e,t=Rt(e,t)))}else r=wl(e,t=Rt(e,0));if(0!==e.tag&&2===r&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(t=Dt(e))&&(r=wl(e,t))),1===r)throw r=Rs,Ml(e,0),fl(e,t),ml(e,ji()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e),ml(e,ji()),null}function bl(e,t){ui(Ps,Gs),Gs|=t,Ds|=t}function vl(){Gs=Ps.current,ci(Ps)}function Ml(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Vn(r)),null!==Es)for(r=Es.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&gi();break;case 3:Go(),ci(pi),ci(hi),Ko();break;case 5:Ao(n);break;case 4:Go();break;case 13:case 19:ci(Ro);break;case 10:ro(n);break;case 23:case 24:vl()}r=r.return}Zs=e,Es=jl(e.current,null),zs=Gs=Ds=t,As=0,Rs=null,Ws=Os=Xs=0}function xl(e,t){for(;;){var r=Es;try{if(to(),Jo.current=Za,ra){for(var n=$o.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}ra=!1}if(qo=0,ta=ea=$o=null,na=!1,Ls.current=null,null===r||null===r.return){As=1,Rs=t,Es=null;break}e:{var o=e,a=r.return,s=r,l=t;if(t=zs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=!!(1&Ro.current),h=a;do{var p;if(p=13===h.tag){var m=h.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var y=h.memoizedProps;p=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!d)}}if(p){var f=h.updateQueue;if(null===f){var g=new Set;g.add(c),h.updateQueue=g}else f.add(c);if(!(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=co(-1,1);b.tag=2,uo(s,b)}s.lanes|=1;break e}l=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new cs,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(s)){l.add(s);var M=Rl.bind(null,o,c,s);c.then(M,M)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((B(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==As&&(As=2),l=ss(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,us(0,o,t));break e;case 1:o=l;var x=h.type,S=h.stateNode;if(!(64&h.flags||"function"!=typeof x.getDerivedStateFromError&&(null===S||"function"!=typeof S.componentDidCatch||null!==Js&&Js.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Cl(r)}catch(e){t=e,Es===r&&null!==r&&(Es=r=r.return);continue}break}}function Sl(){var e=ks.current;return ks.current=Za,null===e?Za:e}function wl(e,t){var r=Ns;Ns|=16;var n=Sl();for(Zs===e&&zs===t||Ml(e,t);;)try{_l();break}catch(t){xl(e,t)}if(to(),Ns=r,ks.current=n,null!==Es)throw Error(s(261));return Zs=null,zs=0,As}function _l(){for(;null!==Es;)Il(Es)}function Tl(){for(;null!==Es&&!Ci();)Il(Es)}function Il(e){var t=Hs(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,null===t?Cl(e):Es=t,Ls.current=null}function Cl(e){var t=e;do{var r=t.alternate;if(e=t.return,2048&t.flags){if(null!==(r=as(t)))return r.flags&=2047,void(Es=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(r=os(r,t,Gs)))return void(Es=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||1073741824&Gs||!(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Es=t);Es=t=e}while(null!==t);0===As&&(As=5)}function kl(e){var t=Yi();return Vi(99,Ll.bind(null,e,t)),null}function Ll(e,t){do{Zl()}while(null!==qs);if(48&Ns)throw Error(s(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null;var i=r.lanes|r.childLanes,o=i,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var l=e.eventTimes,c=e.expirationTimes;0<a;){var u=31-Yt(a),d=1<<u;o[u]=0,l[u]=-1,c[u]=-1,a&=~d}if(null!==rl&&!(24&i)&&rl.has(e)&&rl.delete(e),e===Zs&&(Es=Zs=null,zs=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){if(o=Ns,Ns|=32,Ls.current=null,On=Bt,fn(l=yn())){if("selectionStart"in l)c={start:l.selectionStart,end:l.selectionEnd};else e:if(c=(c=l.ownerDocument)&&c.defaultView||n,(d=c.getSelection&&c.getSelection())&&0!==d.rangeCount){c=d.anchorNode,a=d.anchorOffset,u=d.focusNode,d=d.focusOffset;try{c.nodeType,u.nodeType}catch(e){c=null;break e}var h=0,p=-1,m=-1,y=0,f=0,g=l,b=null;t:for(;;){for(var v;g!==c||0!==a&&3!==g.nodeType||(p=h+a),g!==u||0!==d&&3!==g.nodeType||(m=h+d),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)b=g,g=v;for(;;){if(g===l)break t;if(b===c&&++y===a&&(p=h),b===u&&++f===d&&(m=h),null!==(v=g.nextSibling))break;b=(g=b).parentNode}g=v}c=-1===p||-1===m?null:{start:p,end:m}}else c=null;c=c||{start:0,end:0}}else c=null;Wn={focusedElem:l,selectionRange:c},Bt=!1,ll=null,cl=!1,Us=i;do{try{Nl()}catch(e){if(null===Us)throw Error(s(330));Al(Us,e),Us=Us.nextEffect}}while(null!==Us);ll=null,Us=i;do{try{for(l=e;null!==Us;){var M=Us.flags;if(16&M&&be(Us.stateNode,""),128&M){var x=Us.alternate;if(null!==x){var S=x.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&M){case 2:Ms(Us),Us.flags&=-3;break;case 6:Ms(Us),Us.flags&=-3,_s(Us.alternate,Us);break;case 1024:Us.flags&=-1025;break;case 1028:Us.flags&=-1025,_s(Us.alternate,Us);break;case 4:_s(Us.alternate,Us);break;case 8:ws(l,c=Us);var w=c.alternate;bs(c),null!==w&&bs(w)}Us=Us.nextEffect}}catch(e){if(null===Us)throw Error(s(330));Al(Us,e),Us=Us.nextEffect}}while(null!==Us);if(S=Wn,x=yn(),M=S.focusedElem,l=S.selectionRange,x!==M&&M&&M.ownerDocument&&mn(M.ownerDocument.documentElement,M)){null!==l&&fn(M)&&(x=l.start,void 0===(S=l.end)&&(S=x),"selectionStart"in M?(M.selectionStart=x,M.selectionEnd=Math.min(S,M.value.length)):(S=(x=M.ownerDocument||document)&&x.defaultView||n).getSelection&&(S=S.getSelection(),c=M.textContent.length,w=Math.min(l.start,c),l=void 0===l.end?w:Math.min(l.end,c),!S.extend&&w>l&&(c=l,l=w,w=c),c=pn(M,w),a=pn(M,l),c&&a&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==a.node||S.focusOffset!==a.offset)&&((x=x.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),w>l?(S.addRange(x),S.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),S.addRange(x))))),x=[];for(S=M;S=S.parentNode;)1===S.nodeType&&x.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof M.focus&&M.focus(),M=0;M<x.length;M++)(S=x[M]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Bt=!!On,Wn=On=null,e.current=r,Us=i;do{try{for(M=e;null!==Us;){var _=Us.flags;if(36&_&&ys(M,Us.alternate,Us),128&_){x=void 0;var T=Us.ref;if(null!==T){var I=Us.stateNode;Us.tag,x=I,"function"==typeof T?T(x):T.current=x}}Us=Us.nextEffect}}catch(e){if(null===Us)throw Error(s(330));Al(Us,e),Us=Us.nextEffect}}while(null!==Us);Us=null,Ri(),Ns=o}else e.current=r;if(Qs)Qs=!1,qs=e,$s=t;else for(Us=i;null!==Us;)t=Us.nextEffect,Us.nextEffect=null,8&Us.flags&&((_=Us).sibling=null,_.stateNode=null),Us=t;if(0===(i=e.pendingLanes)&&(Js=null),1===i?e===il?nl++:(nl=0,il=e):nl=0,r=r.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(Si,r,void 0,!(64&~r.current.flags))}catch(e){}if(ml(e,ji()),Bs)throw Bs=!1,e=Ks,Ks=null,e;return 8&Ns||Ui(),null}function Nl(){for(;null!==Us;){var e=Us.alternate;cl||null===ll||(8&Us.flags?$e(Us,ll)&&(cl=!0):13===Us.tag&&Is(e,Us)&&$e(Us,ll)&&(cl=!0));var t=Us.flags;256&t&&ms(e,Us),!(512&t)||Qs||(Qs=!0,Hi(97,(function(){return Zl(),null}))),Us=Us.nextEffect}}function Zl(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Vi(e,Gl)}return!1}function El(e,t){el.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Zl(),null})))}function zl(e,t){tl.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Zl(),null})))}function Gl(){if(null===qs)return!1;var e=qs;if(qs=null,48&Ns)throw Error(s(331));var t=Ns;Ns|=32;var r=tl;tl=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Al(o,e)}}for(r=el,el=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(s(330));Al(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ns=t,Ui(),!0}function Pl(e,t,r){uo(e,t=us(0,t=ss(r,t),1)),t=ul(),null!==(e=pl(e,1))&&(jt(e,1,t),ml(e,t))}function Al(e,t){if(3===e.tag)Pl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Pl(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Js||!Js.has(n))){var i=ds(r,e=ss(t,e),1);if(uo(r,i),i=ul(),null!==(r=pl(r,1)))jt(r,1,i),ml(r,i);else if("function"==typeof n.componentDidCatch&&(null===Js||!Js.has(n)))try{n.componentDidCatch(t,e)}catch(e){}break}}r=r.return}}function Rl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&r,Zs===e&&(zs&r)===r&&(4===As||3===As&&(62914560&zs)===zs&&500>ji()-Ys?Ml(e,0):Ws|=r),ml(e,t)}function Dl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===al&&(al=Ds),0===(t=Ot(62914560&~al))&&(t=4194304)):t=99===Yi()?1:2:t=1),r=ul(),null!==(e=pl(e,t))&&(jt(e,t,r),ml(e,r))}function Xl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,r,n){return new Xl(e,t,r,n)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var r=e.alternate;return null===r?((r=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yl(e,t,r,n,i,o){var a=2;if(n=e,"function"==typeof e)Wl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case T:return Fl(r.children,i,o,t);case R:a=8,i|=16;break;case I:a=8,i|=1;break;case C:return(e=Ol(12,r,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case Z:return(e=Ol(13,r,t,i)).type=Z,e.elementType=Z,e.lanes=o,e;case E:return(e=Ol(19,r,t,i)).elementType=E,e.lanes=o,e;case D:return Vl(r,i,o,t);case X:return(e=Ol(24,r,t,i)).elementType=X,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case L:a=9;break e;case N:a=11;break e;case z:a=14;break e;case G:a=16,n=null;break e;case P:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ol(a,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Fl(e,t,r,n){return(e=Ol(7,e,n,t)).lanes=r,e}function Vl(e,t,r,n){return(e=Ol(23,e,n,t)).elementType=D,e.lanes=r,e}function Hl(e,t,r){return(e=Ol(6,e,null,t)).lanes=r,e}function Ul(e,t,r){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Kl(e,t,r,n){var i=t.current,o=ul(),a=dl(i);e:if(r){t:{if(Je(r=r._reactInternals)!==r||1!==r.tag)throw Error(s(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(fi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===r.tag){var c=r.type;if(fi(c)){r=vi(r,c,l);break e}}r=l}else r=di;return null===t.context?t.context=r:t.pendingContext=r,(t=co(o,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),uo(i,t),hl(i,a,o),a}function Jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ql(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}function $l(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Bl(e,t,null!=r&&!0===r.hydrate),t=Ol(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,so(t),e[$n]=r.current,Zn(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var i=(t=n[e])._getVersion;i=i(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}function ec(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tc(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Jl(a);s.call(e)}}Kl(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new $l(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Jl(a);l.call(e)}}!function(e,t){var r=Ns;Ns&=-2,Ns|=8;try{return e(t)}finally{0===(Ns=r)&&(Vs(),Ui())}}((function(){Kl(t,a,e,i)}))}return Jl(a)}Hs=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Aa=!0;else{if(!(r&n)){switch(Aa=!1,t.tag){case 3:Ha(t),Uo();break;case 5:Po(t);break;case 1:fi(t.type)&&Mi(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;ui(Qi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return r&t.child.childLanes?qa(e,t,r):(ui(Ro,1&Ro.current),null!==(t=ns(e,t,r))?t.sibling:null);ui(Ro,1&Ro.current);break;case 19:if(n=!!(r&t.childLanes),64&e.flags){if(n)return rs(e,t,r);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Ro,Ro.current),n)break;return null;case 23:case 24:return t.lanes=0,Wa(e,t,r)}return ns(e,t,r)}Aa=!!(16384&e.flags)}else Aa=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,hi.current),io(t,r),i=aa(null,t,n,e,i,r),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(n)){var o=!0;Mi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var a=n.getDerivedStateFromProps;"function"==typeof a&&fo(t,n,a,e),i.updater=go,t.stateNode=i,i._reactInternals=t,xo(t,n,e,r),t=Va(null,t,n,!0,o,r)}else t.tag=0,Ra(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Wl(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===z)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Ya(null,t,i,e,r);break e;case 1:t=Fa(null,t,i,e,r);break e;case 11:t=Da(null,t,i,e,r);break e;case 14:t=Xa(null,t,i,Ji(i.type,e),n,r);break e}throw Error(s(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ya(e,t,n,i=t.elementType===n?i:Ji(n,i),r);case 1:return n=t.type,i=t.pendingProps,Fa(e,t,n,i=t.elementType===n?i:Ji(n,i),r);case 3:if(Ha(t),n=t.updateQueue,null===e||null===n)throw Error(s(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),po(t,n,null,r),(n=t.memoizedState.element)===i)Uo(),t=ns(e,t,r);else{if((o=(i=t.stateNode).hydrate)&&(Oo=Un(t.stateNode.containerInfo.firstChild),Xo=t,o=Wo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Bo.push(o);for(r=Co(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Ra(e,t,n,r),Uo();t=t.child}return t;case 5:return Po(t),null===e&&Fo(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Yn(n,i)?a=null:null!==o&&Yn(n,o)&&(t.flags|=16),ja(e,t),Ra(e,t,a,r),t.child;case 6:return null===e&&Fo(t),null;case 13:return qa(e,t,r);case 4:return zo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Io(t,null,n,r):Ra(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Da(e,t,n,i=t.elementType===n?i:Ji(n,i),r);case 7:return Ra(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(ui(Qi,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=cn(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!pi.current){t=ns(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===n&&u.observedBits&o){1===l.tag&&((u=co(-1,r&-r)).tag=2,uo(l,u)),l.lanes|=r,null!==(u=l.alternate)&&(u.lanes|=r),no(l.return,r),c.lanes|=r;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Ra(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,io(t,r),n=n(i=oo(i,o.unstable_observedBits)),t.flags|=1,Ra(e,t,n,r),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Xa(e,t,i,o=Ji(i.type,o),n,r);case 15:return Oa(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ji(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fi(n)?(e=!0,Mi(t)):e=!1,io(t,r),vo(t,n,i),xo(t,n,i,r),Va(null,t,n,!0,e,r);case 19:return rs(e,t,r);case 23:case 24:return Wa(e,t,r)}throw Error(s(156,t.tag))},$l.prototype.render=function(e){Kl(e,this._internalRoot,null,null)},$l.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Kl(null,e,null,(function(){t[$n]=null}))},et=function(e){13===e.tag&&(hl(e,4,ul()),ql(e,4))},tt=function(e){13===e.tag&&(hl(e,67108864,ul()),ql(e,67108864))},rt=function(e){if(13===e.tag){var t=ul(),r=dl(e);hl(e,r,t),ql(e,r)}},nt=function(e,t){return t()},Ce=function(e,t,r){switch(t){case"input":if(ne(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ii(n);if(!i)throw Error(s(90));q(n),ne(n,i)}}}break;case"textarea":ue(e,r);break;case"select":null!=(t=r.value)&&se(e,!!r.multiple,t,!1)}},ze=function(e,t){var r=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=r)&&(Vs(),Ui())}},Ge=function(e,t,r,n,i){var o=Ns;Ns|=4;try{return Vi(98,e.bind(null,t,r,n,i))}finally{0===(Ns=o)&&(Vs(),Ui())}},Pe=function(){!(49&Ns)&&(function(){if(null!==rl){var e=rl;rl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ml(e,ji())}))}Ui()}(),Zl())},Ae=function(e,t){var r=Ns;Ns|=2;try{return e(t)}finally{0===(Ns=r)&&(Vs(),Ui())}};var rc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},nc={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=function(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return qe(i),e;if(o===n)return qe(i),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Si=ic.inject(nc),wi=ic}catch(fe){}}t.render=function(e,t,r){if(!ec(t))throw Error(s(200));return tc(null,e,t,!1,r)}},40961:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(22551)},22799:(e,t)=>{"use strict";if("function"==typeof Symbol&&Symbol.for){var r=Symbol.for;r("react.element"),r("react.portal"),r("react.fragment"),r("react.strict_mode"),r("react.profiler"),r("react.provider"),r("react.context"),r("react.forward_ref"),r("react.suspense"),r("react.suspense_list"),r("react.memo"),r("react.lazy"),r("react.block"),r("react.server.block"),r("react.fundamental"),r("react.debug_trace_mode"),r("react.legacy_hidden")}},44363:(e,t,r)=>{"use strict";r(22799)},21020:(e,t,r)=>{"use strict";r(45228);var n=r(96540),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},15287:(e,t,r)=>{"use strict";var n=r(45228),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function f(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||m}function g(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||m}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=f.prototype;var v=b.prototype=new g;v.constructor=b,n(v,f.prototype),v.isPureReactComponent=!0;var M={current:null},x=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var n,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,n)&&!S.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:M.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===n?"."+I(l,0):n,Array.isArray(a)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),C(a,t,r,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=n+I(s=e[c],c);l+=C(s,t,r,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,r,u=n+I(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function k(e,t,r){if(null==e)return e;var n=[],i=0;return C(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function L(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function Z(){var e=N.current;if(null===e)throw Error(p(321));return e}var E={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:k,forEach:function(e,t,r){k(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(p(143));return e}},t.Component=f,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E,t.cloneElement=function(e,t,r){if(null==e)throw Error(p(267,e));var o=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=M.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return Z().useCallback(e,t)},t.useContext=function(e,t){return Z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return Z().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return Z().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return Z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return Z().useMemo(e,t)},t.useReducer=function(e,t,r){return Z().useReducer(e,t,r)},t.useRef=function(e){return Z().useRef(e)},t.useState=function(e){return Z().useState(e)},t.version="17.0.2"},96540:(e,t,r)=>{"use strict";e.exports=r(15287)},74848:(e,t,r)=>{"use strict";e.exports=r(21020)},7463:(e,t,r)=>{"use strict";var n,i,o,a,s=r(30327);if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if(void 0===s||"function"!=typeof MessageChannel){var d=null,h=null,p=function(){if(null!==d)try{var e=t.unstable_now();d(!0,e),d=null}catch(e){throw setTimeout(p,0),e}};n=function(e){null!==d?setTimeout(n,0,e):(d=e,setTimeout(p,0))},i=function(e,t){h=setTimeout(e,t)},o=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var m=s.setTimeout,y=s.clearTimeout;if("undefined"!=typeof console){var f=s.cancelAnimationFrame;"function"!=typeof s.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,b=null,v=-1,M=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,w=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+M;try{b(!0,e)?w.postMessage(null):(g=!1,b=null)}catch(e){throw w.postMessage(null),e}}else g=!1},n=function(e){b=e,g||(g=!0,w.postMessage(null))},i=function(e,r){v=m((function(){e(t.unstable_now())}),r)},o=function(){y(v),v=-1}}function _(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<C(i,t)))break e;e[n]=t,e[r]=i,r=n}}function T(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,r))void 0!==l&&0>C(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==l&&0>C(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function C(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var k=[],L=[],N=1,Z=null,E=3,z=!1,G=!1,P=!1;function A(e){for(var t=T(L);null!==t;){if(null===t.callback)I(L);else{if(!(t.startTime<=e))break;I(L),t.sortIndex=t.expirationTime,_(k,t)}t=T(L)}}function R(e){if(P=!1,A(e),!G)if(null!==T(k))G=!0,n(D);else{var t=T(L);null!==t&&i(R,t.startTime-e)}}function D(e,r){G=!1,P&&(P=!1,o()),z=!0;var n=E;try{for(A(r),Z=T(k);null!==Z&&(!(Z.expirationTime>r)||e&&!t.unstable_shouldYield());){var a=Z.callback;if("function"==typeof a){Z.callback=null,E=Z.priorityLevel;var s=a(Z.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?Z.callback=s:Z===T(k)&&I(k),A(r)}else I(k);Z=T(k)}if(null!==Z)var l=!0;else{var c=T(L);null!==c&&i(R,c.startTime-r),l=!1}return l}finally{Z=null,E=n,z=!1}}var X=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){G||z||(G=!0,n(D))},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return T(k)},t.unstable_next=function(e){switch(E){case 1:case 2:case 3:var t=3;break;default:t=E}var r=E;E=t;try{return e()}finally{E=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=X,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=E;E=e;try{return t()}finally{E=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:r,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,_(L,e),null===T(k)&&e===T(L)&&(P?o():P=!0,i(R,a-s))):(e.sortIndex=l,_(k,e),G||z||(G=!0,n(D))),e},t.unstable_wrapCallback=function(e){var t=E;return function(){var r=E;E=t;try{return e.apply(this,arguments)}finally{E=r}}}},69982:(e,t,r)=>{"use strict";e.exports=r(7463)},55082:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(57013);const i={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},o=Math.fround||(a=new Float32Array(1),e=>(a[0]=+e,a[0]));var a;class s{constructor(e){this.options=y(Object.create(i),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:r,maxZoom:i,nodeSize:o}=this.options;t&&console.time("total time");const a=`prepare ${e.length} points`;t&&console.time(a),this.points=e;let s=[];for(let t=0;t<e.length;t++)e[t].geometry&&s.push(c(e[t],t));this.trees[i+1]=new n.A(s,f,g,o,Float32Array),t&&console.timeEnd(a);for(let e=i;e>=r;e--){const r=+Date.now();s=this._cluster(s,e),this.trees[e]=new n.A(s,f,g,o,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,s.length,+Date.now()-r)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const e=this.getClusters([r,n,180,o],t),a=this.getClusters([-180,n,i,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(h(r),p(o),h(i),p(n)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?u(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);const o=i.points[t];if(!o)throw new Error(n);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=i.within(o.x,o.y,a),l=[];for(const t of s){const r=i.points[t];r.parentId===e&&l.push(r.numPoints?u(r):this.points[r.index])}if(0===l.length)throw new Error(n);return l}getLeaves(e,t,r){t=t||10,r=r||0;const n=[];return this._appendLeaves(n,e,t,r,0),n}getTile(e,t,r){const n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(r-s)/i,c=(r+1+s)/i,u={features:[]};return this._addTileFeatures(n.range((t-s)/i,l,(t+1+s)/i,c),n.points,t,r,i,u),0===t&&this._addTileFeatures(n.range(1-s/i,l,1,c),n.points,i,r,i,u),t===i-1&&this._addTileFeatures(n.range(0,l,s/i,c),n.points,-1,r,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,n,i){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?i+o.point_count<=n?i+=o.point_count:i=this._appendLeaves(e,o.cluster_id,r,n,i):i<n?i++:e.push(t),e.length===r)break}return i}_addTileFeatures(e,t,r,n,i,o){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=d(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=h(t.geometry.coordinates[0]),u=p(t.geometry.coordinates[1])}const m={type:1,geometry:[[Math.round(this.options.extent*(c*i-r)),Math.round(this.options.extent*(u*i-n))]],tags:l};let y;s?y=e.id:this.options.generateId?y=e.index:this.points[e.index].id&&(y=this.points[e.index].id),void 0!==y&&(m.id=y),o.features.push(m)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:n,extent:i,reduce:o,minPoints:a}=this.options,s=n/(i*Math.pow(2,t));for(let n=0;n<e.length;n++){const i=e[n];if(i.zoom<=t)continue;i.zoom=t;const c=this.trees[t+1],u=c.within(i.x,i.y,s),d=i.numPoints||1;let h=d;for(const e of u){const r=c.points[e];r.zoom>t&&(h+=r.numPoints||1)}if(h>d&&h>=a){let e=i.x*d,a=i.y*d,s=o&&d>1?this._map(i,!0):null;const p=(n<<5)+(t+1)+this.points.length;for(const r of u){const n=c.points[r];if(n.zoom<=t)continue;n.zoom=t;const l=n.numPoints||1;e+=n.x*l,a+=n.y*l,n.parentId=p,o&&(s||(s=this._map(i,!0)),o(s,this._map(n)))}i.parentId=p,r.push(l(e/h,a/h,p,h,s))}else if(r.push(i),h>1)for(const e of u){const n=c.points[e];n.zoom<=t||(n.zoom=t,r.push(n))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?y({},e.properties):e.properties;const r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?y({},n):n}}function l(e,t,r,n,i){return{x:o(e),y:o(t),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function c(e,t){const[r,n]=e.geometry.coordinates;return{x:o(h(r)),y:o(p(n)),zoom:1/0,index:t,parentId:-1}}function u(e){return{type:"Feature",id:e.id,properties:d(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),m(e.y)]}};var t}function d(e){const t=e.numPoints,r=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+"k":t;return y(y({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function h(e){return e/360+.5}function p(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function m(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function y(e,t){for(const r in t)e[r]=t[r];return e}function f(e){return e.x}function g(e){return e.y}},30327:e=>{"use strict";e.exports=Function("return this")()},60494:e=>{"use strict";e.exports=!1},91210:e=>{"use strict";e.exports=null},22608:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(45046);function i(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var i=(0,n.uG)(e),a=(0,n.bg)(t),s=a.type,l=t.bbox,c=a.coordinates;if(l&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,l))return!1;"Polygon"===s&&(c=[c]);for(var u=!1,d=0;d<c.length&&!u;d++)if(o(i,c[d][0],r.ignoreBoundary)){for(var h=!1,p=1;p<c[d].length&&!h;)o(i,c[d][p],!r.ignoreBoundary)&&(h=!0),p++;h||(u=!0)}return u}function o(e,t,r){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],l=t[o][0],c=t[o][1];if(e[1]*(a-l)+s*(l-e[0])+c*(e[0]-a)==0&&(a-e[0])*(l-e[0])<=0&&(s-e[1])*(c-e[1])<=0)return!r;s>e[1]!=c>e[1]&&e[0]<(l-a)*(e[1]-s)/(c-s)+a&&(n=!n)}return n}},93279:(e,t,r)=>{"use strict";function n(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function i(e,t,r){void 0===r&&(r={});for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function o(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}r.d(t,{g5:()=>o,n1:()=>i})},95475:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(93279),i=r(45046),o=r(59004);function a(e,t,r){void 0===r&&(r={});var a=(0,i.bg)(e),s=(0,i.bg)(t),l=o.intersection(a.coordinates,s.coordinates);return 0===l.length?null:1===l.length?(0,n.n1)(l[0],r.properties):(0,n.g5)(l,r.properties)}},45046:(e,t,r)=>{"use strict";function n(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(e){return"Feature"===e.type?e.geometry:e}r.d(t,{bg:()=>i,uG:()=>n}),r(93279)},22268:(e,t,r)=>{"use strict";r.d(t,{Bb:()=>i,E4:()=>Y,_7:()=>j});var n=r(65606);function i(e,...t){return(...r)=>e(...t,...r)}function o(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}var a="function"==typeof queueMicrotask&&queueMicrotask,s="function"==typeof setImmediate&&setImmediate,l="object"==typeof n&&"function"==typeof n.nextTick;function c(e){setTimeout(e,0)}function u(e){return(t,...r)=>e((()=>t(...r)))}var d=u(a?queueMicrotask:s?setImmediate:l?n.nextTick:c);function h(e,t){return e.then((e=>{p(t,null,e)}),(e=>{p(t,e&&(e instanceof Error||e.message)?e:new Error(e))}))}function p(e,t,r){try{e(t,r)}catch(e){d((e=>{throw e}),e)}}function m(e){return"AsyncFunction"===e[Symbol.toStringTag]}function y(e){if("function"!=typeof e)throw new Error("expected a function");return m(e)?m(t=e)?function(...e){const r=e.pop();return h(t.apply(this,e),r)}:o((function(e,r){var n;try{n=t.apply(this,e)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return h(n,r);r(null,n)})):e;var t}function f(e,t){if(t||(t=e.length),!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise(((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)}))}}function g(e){return function(t,...r){return f((function(n){var i=this;return e(t,((e,t)=>{y(e).apply(i,r.concat(t))}),n)}))}}function b(e,t,r,n){t=t||[];var i=[],o=0,a=y(r);return e(t,((e,t,r)=>{var n=o++;a(e,((e,t)=>{i[n]=t,r(e)}))}),(e=>{n(e,i)}))}function v(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const M={};function x(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function S(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function w(e,t,r,n){let i=!1,o=!1,a=!1,s=0,l=0;function c(){s>=t||a||i||(a=!0,e.next().then((({value:e,done:t})=>{if(!o&&!i){if(a=!1,t)return i=!0,void(s<=0&&n(null));s++,r(e,l,u),l++,c()}})).catch(d))}function u(e,t){if(s-=1,!o)return e?d(e):!1===e?(i=!0,void(o=!0)):t===M||i&&s<=0?(i=!0,n(null)):void c()}function d(e){o||(a=!1,i=!0,n(e))}c()}var _=e=>(t,r,n)=>{if(n=x(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if("AsyncGenerator"===t[Symbol.toStringTag])return w(t,e,r,n);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return w(t[Symbol.asyncIterator](),e,r,n);var i=function(e){if(v(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,i,o=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return o?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(o):(r=(t=e)?Object.keys(t):[],n=-1,i=r.length,function e(){var o=r[++n];return"__proto__"===o?e():n<i?{value:t[o],key:o}:null})}(t),o=!1,a=!1,s=0,l=!1;function c(e,t){if(!a)if(s-=1,e)o=!0,n(e);else if(!1===e)o=!0,a=!0;else{if(t===M||o&&s<=0)return o=!0,n(null);l||u()}}function u(){for(l=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&n(null));s+=1,r(t.value,t.key,S(c))}l=!1}u()},T=f((function(e,t,r,n){return _(t)(e,y(r),n)}),4);function I(e,t,r){r=x(r);var n=0,i=0,{length:o}=e,a=!1;function s(e,t){!1===e&&(a=!0),!0!==a&&(e?r(e):++i!==o&&t!==M||r(null))}for(0===o&&r(null);n<o;n++)t(e[n],n,S(s))}function C(e,t,r){return T(e,1/0,t,r)}var k=f((function(e,t,r){return(v(e)?I:C)(e,y(t),r)}),3),L=f((function(e,t,r){return b(k,e,t,r)}),3);g(L);var N=f((function(e,t,r){return T(e,1,t,r)}),3);g(f((function(e,t,r){return b(N,e,t,r)}),3)),Symbol("promiseCallback"),Symbol.iterator,f((function(e,t,r,n){n=x(n);var i=y(r);return N(e,((e,r,n)=>{i(t,e,((e,r)=>{t=r,n(e)}))}),(e=>n(e,t)))}),4);var Z=f((function(e,t,r,n){return b(_(t),e,r,n)}),4),E=f((function(e,t,r,n){var i=y(r);return Z(e,t,((e,t)=>{i(e,((e,...r)=>e?t(e):t(e,r)))}),((e,t)=>{for(var r=[],i=0;i<t.length;i++)t[i]&&(r=r.concat(...t[i]));return n(e,r)}))}),4);function z(e,t){return(r,n,i,o)=>{var a,s=!1;const l=y(i);r(n,((r,n,i)=>{l(r,((n,o)=>n||!1===n?i(n):e(o)&&!a?(s=!0,a=t(!0,r),i(null,M)):void i()))}),(e=>{if(e)return o(e);o(null,s?a:t(!1))}))}}function G(e){return(t,...r)=>y(t)(...r,((t,...r)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach((t=>console[e](t))))}))}function P(e){return(t,r,n)=>e(t,n)}f((function(e,t,r){return E(e,1/0,t,r)}),3),f((function(e,t,r){return E(e,1,t,r)}),3),f((function(e,t,r){return z((e=>e),((e,t)=>t))(k,e,t,r)}),3),f((function(e,t,r,n){return z((e=>e),((e,t)=>t))(_(t),e,r,n)}),4),f((function(e,t,r){return z((e=>e),((e,t)=>t))(_(1),e,t,r)}),3),G("dir"),f((function(e,t,r){r=S(r);var n,i=y(e),o=y(t);function a(e,...t){if(e)return r(e);!1!==e&&(n=t,o(...t,s))}function s(e,t){return e?r(e):!1!==e?t?void i(a):r(null,...n):void 0}return s(null,!0)}),3),f((function(e,t,r){return k(e,P(y(t)),r)}),3);var A=f((function(e,t,r,n){return _(t)(e,P(y(r)),n)}),4),R=f((function(e,t,r){return A(e,1,t,r)}),3);function D(e,t,r,n){var i=new Array(t.length);e(t,((e,t,n)=>{r(e,((e,r)=>{i[t]=!!r,n(e)}))}),(e=>{if(e)return n(e);for(var r=[],o=0;o<t.length;o++)i[o]&&r.push(t[o]);n(null,r)}))}function X(e,t,r,n){var i=[];e(t,((e,t,n)=>{r(e,((r,o)=>{if(r)return n(r);o&&i.push({index:t,value:e}),n(r)}))}),(e=>{if(e)return n(e);n(null,i.sort(((e,t)=>e.index-t.index)).map((e=>e.value)))}))}function O(e,t,r,n){return(v(t)?D:X)(e,t,y(r),n)}f((function(e,t,r){return z((e=>!e),(e=>!e))(k,e,t,r)}),3),f((function(e,t,r,n){return z((e=>!e),(e=>!e))(_(t),e,r,n)}),4),f((function(e,t,r){return z((e=>!e),(e=>!e))(N,e,t,r)}),3),f((function(e,t,r){return O(k,e,t,r)}),3),f((function(e,t,r,n){return O(_(t),e,r,n)}),4),f((function(e,t,r){return O(N,e,t,r)}),3),f((function(e,t){var r=S(t),n=y(function(e){return m(e)?e:function(...t){var r=t.pop(),n=!0;t.push(((...e)=>{n?d((()=>r(...e))):r(...e)})),e.apply(this,t),n=!1}}(e));return function e(t){if(t)return r(t);!1!==t&&n(e)}()}),2),f((function(e,t,r,n){var i=y(r);return Z(e,t,((e,t)=>{i(e,((r,n)=>r?t(r):t(r,{key:n,val:e})))}),((e,t)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,o=0;o<t.length;o++)if(t[o]){var{key:a}=t[o],{val:s}=t[o];i.call(r,a)?r[a].push(s):r[a]=[s]}return n(e,r)}))}),4),G("log"),f((function(e,t,r,n){n=x(n);var i={},o=y(r);return _(t)(e,((e,t,r)=>{o(e,t,((e,n)=>{if(e)return r(e);i[t]=n,r(e)}))}),(e=>n(e,i)))}),4),u(l?n.nextTick:s?setImmediate:c);var W=f(((e,t,r)=>{var n=v(t)?[]:{};e(t,((e,t,r)=>{y(e)(((e,...i)=>{i.length<2&&([i]=i),n[t]=i,r(e)}))}),(e=>r(e,n)))}),3);function j(e,t){return W(k,e,t)}function Y(e){var t=y(e);return o((function(e,r){return e.push(((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var i=t;t.length<=1&&([i]=t),n.value=i}r(null,n)})),t.apply(this,e)}))}function F(e,t,r,n){const i=y(r);return O(e,t,((e,t)=>{i(e,((e,r)=>{t(e,!r)}))}),n)}Symbol.iterator,f((function(e,t){if(t=x(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)y(e[r])(t)}),2),f((function(e,t,r){return F(k,e,t,r)}),3),f((function(e,t,r,n){return F(_(t),e,r,n)}),4),f((function(e,t,r){return F(N,e,t,r)}),3),f((function(e,t,r){return z(Boolean,(e=>e))(k,e,t,r)}),3),f((function(e,t,r,n){return z(Boolean,(e=>e))(_(t),e,r,n)}),4),f((function(e,t,r){return z(Boolean,(e=>e))(N,e,t,r)}),3),f((function(e,t,r){var n=y(t);return L(e,((e,t)=>{n(e,((r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})}))}),((e,t)=>{if(e)return r(e);r(null,t.sort(i).map((e=>e.value)))}));function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}),3),f((function(e,t){var r,n=null;return R(e,((e,t)=>{y(e)(((e,...i)=>{if(!1===e)return t(e);i.length<2?[r]=i:r=i,n=e,t(e?null:{})}))}),(()=>t(n,r)))})),f((function(e,t,r){r=S(r);var n=y(t),i=y(e),o=[];function a(e,...t){if(e)return r(e);o=t,!1!==e&&i(s)}function s(e,t){return e?r(e):!1!==e?t?void n(a):r(null,...o):void 0}return i(s)}),3),f((function(e,t){if(t=x(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){y(e[r++])(...t,S(i))}function i(i,...o){if(!1!==i)return i||r===e.length?t(i,...o):void n(o)}n([])}))}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,i.d(o,a),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";i.r(o),i.d(o,{default:()=>n});var e=i(13820),t=i(30327).powerbi,r={name:"easyTerritoryTerritoryVisualB76516E7EB374091BC4E1AF5914B1F41",displayName:"EasyTerritory Territory Visual",class:"Visual",apiVersion:"5.10.0",create:t=>{if(e.b)return new e.b(t);throw"Visual instance not found"},createModalDialog:(e,t,r)=>{const n=globalThis.dialogRegistry;e in n&&new n[e](t,r)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.easyTerritoryTerritoryVisualB76516E7EB374091BC4E1AF5914B1F41=r);const n=r})(),easyTerritoryTerritoryVisualB76516E7EB374091BC4E1AF5914B1F41=o})();