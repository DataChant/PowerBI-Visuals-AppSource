var sparklines50DB3783432B40A69C0B91926CE74CD9;(()=>{var t={2419:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.locales=void 0,e.locales={"en-US":["en-US","default",{englishName:"English (United States)"}]}},3638:(t,e,a)=>{"use strict";a.d(e,{A:()=>l});var i=a(3800),n=a(421),r=a(1847),s=a(475);class l{constructor(t,e,a){this.grid=[],0!==t.width&&0!==t.height||(this.cellSize=t,this.rowCount=this.colCount=0);const i={fontFamily:s.Fh.fontFamily,fontSize:s.Fh.fontSize,fontWeight:s.Fh.fontWeight};this.cellSize={width:0,height:0};for(let t=0,l=e.length;t<l;t++){const l=e[t];l.labeltext=a.labelText(l);const o=n.inherit(i);o.text=l.labeltext,o.fontSize=l.data?l.data.labelFontSize:l.labelFontSize?l.labelFontSize:s.Fh.fontSize,l.size={width:r.Tf.measureSvgTextWidth(o),height:r.Tf.estimateSvgTextHeight(o)};const c=2*l.size.width,u=2*l.size.height;c>this.cellSize.width&&(this.cellSize.width=c),u>this.cellSize.height&&(this.cellSize.height=u)}0===this.cellSize.width&&(this.cellSize.width=t.width),0===this.cellSize.height&&(this.cellSize.height=t.height),this.colCount=this.getGridRowColCount(this.cellSize.width,t.width,l.ARRANGEGRID_MIN_COUNT,l.ARRANGEGRID_MAX_COUNT),this.rowCount=this.getGridRowColCount(this.cellSize.height,t.height,l.ARRANGEGRID_MIN_COUNT,l.ARRANGEGRID_MAX_COUNT),this.cellSize.width=t.width/this.colCount,this.cellSize.height=t.height/this.rowCount;const o=this.grid;for(let t=0;t<this.colCount;t++){o[t]=[];for(let e=0;e<this.rowCount;e++)o[t][e]=[]}}add(t,e){const a=this.getGridIndexRect(e),i=this.grid;for(let n=a.left;n<a.right;n++)for(let r=a.top;r<a.bottom;r++)i[n][r].push({element:t,rect:e})}hasConflict(t){const e=this.getGridIndexRect(t),a=this.grid,n=i.qL;for(let i=e.left;i<e.right;i++)for(let r=e.top;r<e.bottom;r++)for(let e=0;e<a[i][r].length;e++)if(n(a[i][r][e].rect,t))return!0;return!1}getGridRowColCount(t,e,a,i){return Math.min(Math.max(Math.ceil(e/t),a),i)}getGridIndexRect(t){const e=(t,e,a)=>Math.min(Math.max(t,e),a);return{left:e(Math.floor(t.left/this.cellSize.width),0,this.colCount),top:e(Math.floor(t.top/this.cellSize.height),0,this.rowCount),right:e(Math.ceil((t.left+t.width)/this.cellSize.width),0,this.colCount),bottom:e(Math.ceil((t.top+t.height)/this.cellSize.height),0,this.rowCount)}}}l.ARRANGEGRID_MIN_COUNT=1,l.ARRANGEGRID_MAX_COUNT=100},4360:(t,e,a)=>{"use strict";var i,n,r,s;a.d(e,{NJ:()=>r,i5:()=>i,lz:()=>n}),function(t){t[t.None=0]="None",t[t.TopLeft=1]="TopLeft",t[t.TopCenter=2]="TopCenter",t[t.TopRight=4]="TopRight",t[t.MiddleLeft=8]="MiddleLeft",t[t.MiddleCenter=16]="MiddleCenter",t[t.MiddleRight=32]="MiddleRight",t[t.BottomLeft=64]="BottomLeft",t[t.BottomCenter=128]="BottomCenter",t[t.BottomRight=256]="BottomRight",t[t.InsideCenter=512]="InsideCenter",t[t.InsideBase=1024]="InsideBase",t[t.InsideEnd=2048]="InsideEnd",t[t.OutsideBase=4096]="OutsideBase",t[t.OutsideEnd=8192]="OutsideEnd",t[t.All=16383]="All"}(i||(i={})),function(t){t[t.None=0]="None",t[t.VerticalBottomTop=1]="VerticalBottomTop",t[t.VerticalTopBottom=2]="VerticalTopBottom",t[t.HorizontalLeftRight=3]="HorizontalLeftRight",t[t.HorizontalRightLeft=4]="HorizontalRightLeft"}(n||(n={})),function(t){t[t.Allowed=0]="Allowed",t[t.Disallowed=1]="Disallowed",t[t.Partial=2]="Partial"}(r||(r={})),function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(s||(s={}))},3621:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var i=a(3800),n=a(5442),r=a(4360),s=a(9671),l=a(3638);class o{constructor(){this.movingStep=3,this.hideOverlapped=!0,this.defaultDataLabelSettings={anchorMargin:o.DefaultAnchorMargin,anchorRectOrientation:r.lz.None,contentPosition:r.i5.BottomCenter,outsidePlacement:r.NJ.Disallowed,maximumMovingDistance:o.DefaultMaximumMovingDistance,minimumMovingDistance:o.DefaultMinimumMovingDistance,validContentPositions:r.i5.BottomCenter,opacity:1}}get defaultSettings(){return this.defaultDataLabelSettings}hideCollidedLabels(t,e,a,i=!1,n=!0){const r=new l.A(t,e,a),s=[],c={x:0,y:0};i&&(c.x=t.width/2,c.y=t.height/2);for(let i=0,l=e.length;i<l;i++){if(!a.filter(e[i]))continue;const l=this.getLabelInfo(e[i]);l.anchorPoint={x:a.labelLayout.x(e[i])+c.x,y:a.labelLayout.y(e[i])+c.y};const u=this.calculateContentPosition(l,l.contentPosition,e[i].size,l.anchorMargin);!o.isValid(u)||this.hasCollisions(r,l,u,t)&&n||(e[i].labelX=u.left-c.x,e[i].labelY=u.top-c.y,r.add(l,u),s.push(e[i]))}return s}getLabelInfo(t){const e=this.defaultDataLabelSettings;return t.anchorMargin=void 0!==t.anchorMargin?t.anchorMargin:e.anchorMargin,t.anchorRectOrientation=void 0!==t.anchorRectOrientation?t.anchorRectOrientation:e.anchorRectOrientation,t.contentPosition=void 0!==t.contentPosition?t.contentPosition:e.contentPosition,t.maximumMovingDistance=void 0!==t.maximumMovingDistance?t.maximumMovingDistance:e.maximumMovingDistance,t.minimumMovingDistance=void 0!==t.minimumMovingDistance?t.minimumMovingDistance:e.minimumMovingDistance,t.outsidePlacement=void 0!==t.outsidePlacement?t.outsidePlacement:e.outsidePlacement,t.validContentPositions=void 0!==t.validContentPositions?t.validContentPositions:e.validContentPositions,t.opacity=void 0!==t.opacity?t.opacity:e.opacity,t.maximumMovingDistance+=t.anchorMargin,t}calculateContentPositionFromPoint(t,e,a,i){const n={x:0,y:0};if(t){if(void 0!==t.x&&isFinite(t.x))switch(n.x=t.x,e){case r.i5.TopLeft:case r.i5.MiddleLeft:case r.i5.BottomLeft:n.x-=a.width/2;break;case r.i5.TopRight:case r.i5.MiddleRight:case r.i5.BottomRight:n.x+=a.width/2}if(void 0!==t.y&&isFinite(t.y))switch(n.y=t.y,e){case r.i5.MiddleLeft:case r.i5.MiddleCenter:case r.i5.MiddleRight:n.y-=a.height/2;break;case r.i5.TopRight:case r.i5.TopLeft:case r.i5.TopCenter:n.y-=a.height}if(void 0!==i&&isFinite(i))switch(e){case r.i5.TopLeft:n.x-=i,n.y-=i;break;case r.i5.MiddleLeft:n.x-=i;break;case r.i5.BottomLeft:n.x-=i,n.y+=i;break;case r.i5.TopCenter:n.y-=i;break;case r.i5.MiddleCenter:break;case r.i5.BottomCenter:n.y+=i;break;case r.i5.TopRight:n.x+=i,n.y-=i;break;case r.i5.MiddleRight:n.x+=i;break;case r.i5.BottomRight:n.x+=i,n.y+=i}}return{left:n.x,top:n.y,width:a.width,height:a.height}}calculateContentPositionFromRect(t,e,a,i,n){switch(a){case r.i5.InsideCenter:return this.handleInsideCenterPosition(e,i,t,n);case r.i5.InsideEnd:return this.handleInsideEndPosition(e,i,t,n);case r.i5.InsideBase:return this.handleInsideBasePosition(e,i,t,n);case r.i5.OutsideEnd:return this.handleOutsideEndPosition(e,i,t,n);case r.i5.OutsideBase:return this.handleOutsideBasePosition(e,i,t,n)}return{left:0,top:0,width:-1,height:-1}}handleInsideCenterPosition(t,e,a,i){switch(t){case r.lz.VerticalBottomTop:case r.lz.VerticalTopBottom:return s.K7(e,a,i);case r.lz.HorizontalLeftRight:case r.lz.HorizontalRightLeft:default:return s._U(e,a,i)}}handleInsideEndPosition(t,e,a,i){switch(t){case r.lz.VerticalBottomTop:return s.Kw(e,a,i);case r.lz.VerticalTopBottom:return s.ky(e,a,i);case r.lz.HorizontalRightLeft:return s.gP(e,a,i);case r.lz.HorizontalLeftRight:default:return s.LZ(e,a,i)}}handleInsideBasePosition(t,e,a,i){switch(t){case r.lz.VerticalBottomTop:return s.ky(e,a,i);case r.lz.VerticalTopBottom:return s.Kw(e,a,i);case r.lz.HorizontalRightLeft:return s.LZ(e,a,i);case r.lz.HorizontalLeftRight:default:return s.gP(e,a,i)}}handleOutsideEndPosition(t,e,a,i){switch(t){case r.lz.VerticalBottomTop:return s.Z1(e,a,i);case r.lz.VerticalTopBottom:return s.nN(e,a,i);case r.lz.HorizontalRightLeft:return s.RR(e,a,i);case r.lz.HorizontalLeftRight:default:return s.Wc(e,a,i)}}handleOutsideBasePosition(t,e,a,i){switch(t){case r.lz.VerticalBottomTop:return s.nN(e,a,i);case r.lz.VerticalTopBottom:return s.Z1(e,a,i);case r.lz.HorizontalRightLeft:return s.Wc(e,a,i);case r.lz.HorizontalLeftRight:default:return s.RR(e,a,i)}}calculateContentPosition(t,e,a,i){return e!==r.i5.InsideEnd&&e!==r.i5.InsideCenter&&e!==r.i5.InsideBase&&e!==r.i5.OutsideBase&&e!==r.i5.OutsideEnd?this.calculateContentPositionFromPoint(t.anchorPoint,e,a,i):this.calculateContentPositionFromRect(t.anchorRect,t.anchorRectOrientation,e,a,i)}hasCollisions(t,e,a,s){if(t.hasConflict(a))return!0;let l={left:0,top:a.height/2,width:s.width,height:s.height};if(l=i.UD(l,{left:o.InflateAmount,top:0,right:o.InflateAmount,bottom:0}),l=i.y$(l,a),i.Im(l))return!0;switch(e.outsidePlacement){case r.NJ.Disallowed:return n.lessWithPrecision(l.width,a.width)||n.lessWithPrecision(l.height,a.height/2);case r.NJ.Partial:return n.lessWithPrecision(l.width,a.width/2)||n.lessWithPrecision(l.height,a.height/4)}return!1}static isValid(t){return!i.Im(t)&&t.width>0&&t.height>0}}o.DefaultAnchorMargin=0,o.DefaultMaximumMovingDistance=12,o.DefaultMinimumMovingDistance=3,o.InflateAmount=5},475:(t,e,a)=>{"use strict";a.d(e,{Fh:()=>o});var i=a(5079),n=a(1847),r=a(8121),s=n.gx,l=(n.r9.numberFormat,n.r9.formattingService,n.Tf,n.G2,n.ku.DisplayUnitSystemType,r.tI);s.Family.regular.css;const o={fontFamily:s.Family.regularSecondary.css,fontSize:i.fromPoint(9),fontWeight:"normal"};l("labels"),l("lines"),l("data-labels"),l("line-label")},9671:(t,e,a)=>{"use strict";function i(t,e,a){return{left:e.left+e.width/2-t.width/2,top:e.top+a,width:t.width,height:t.height}}function n(t,e,a){return{left:e.left+e.width/2-t.width/2,top:e.top+e.height-t.height-a,width:t.width,height:t.height}}function r(t,e,a){return{left:e.left+e.width-t.width-a,top:e.top+e.height/2-t.height/2,width:t.width,height:t.height}}function s(t,e,a){return{left:e.left+a,top:e.top+e.height/2-t.height/2,width:t.width,height:t.height}}function l(t,e,a){return{left:e.left+e.width/2-t.width/2,top:e.top-t.height-a,width:t.width,height:t.height}}function o(t,e,a){return{left:e.left+e.width/2-t.width/2,top:e.top+e.height+a,width:t.width,height:t.height}}function c(t,e,a){return{left:e.left+e.width+a,top:e.top+e.height/2-t.height/2,width:t.width,height:t.height}}function u(t,e,a){return{left:e.left-t.width-a,top:e.top+e.height/2-t.height/2,width:t.width,height:t.height}}function h(t,e,a){return{left:e.left+e.width/2-t.width/2+a,top:e.top+e.height/2-t.height/2,width:t.width,height:t.height}}function d(t,e,a){return{left:e.left+e.width/2-t.width/2,top:e.top+e.height/2-t.height/2+a,width:t.width,height:t.height}}a.d(e,{K7:()=>d,Kw:()=>i,LZ:()=>r,RR:()=>u,Wc:()=>c,Z1:()=>l,_U:()=>h,gP:()=>s,ky:()=>n,nN:()=>o})},8817:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(5594);class n{constructor(t,e,a){this.colorPalette=t,this.fillProp=e,this.defaultDataPointColor=a}getColorForSeriesValue(t,e,a){return this.isHighContrast?this.getThemeColor(a):this.fillProp&&i.pM(t,this.fillProp)||this.defaultDataPointColor||this.colorPalette.getColor(String(e)).value}getColorForMeasure(t,e,a){if(this.isHighContrast)return this.getThemeColor(a);const n=this.colorPalette.getColor(e).value;return this.fillProp&&i.pM(t,this.fillProp)||this.defaultDataPointColor||n}static normalizeSelector(t,e){return t&&(e||t.data)?{data:t.data}:t}get isHighContrast(){return!(!this.colorPalette||!this.colorPalette.isHighContrast)}getThemeColor(t="background"){return this.colorPalette&&this.colorPalette[t]&&this.colorPalette[t].value}getHighContrastColor(t="background",e){return this.isHighContrast?this.getThemeColor(t):e}}},4708:(t,e,a)=>{"use strict";a.d(e,{$e:()=>g,Bt:()=>v,IO:()=>l,KY:()=>p,ND:()=>n,NN:()=>r,Zb:()=>s,e$:()=>u,j$:()=>f,lp:()=>m,p8:()=>h,xq:()=>y,zO:()=>d});var i=a(5442);function n(t,e){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,a,i){return e+e+a+a+i+i}));const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),i=a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null;return null===i?"":e||0===e?"rgba("+i.r+","+i.g+","+i.b+","+e+")":"rgb("+i.r+","+i.g+","+i.b+")"}function r(t,e){if(0===e)return t;const a=function(t,e){const a=t.H+e;return{H:a>1?a-1:a,S:t.S,V:t.V}}(o(l(t)),e);return d(c(a))}function s(t){return d(l(t))}function l(t){if(t.indexOf("#")>=0){if(7===t.length){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(null==e||e.length<4)return;return{R:parseInt(e[1],16),G:parseInt(e[2],16),B:parseInt(e[3],16)}}if(4===t.length){const e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(t);if(null==e||e.length<4)return;return{R:parseInt(e[1]+e[1],16),G:parseInt(e[2]+e[2],16),B:parseInt(e[3]+e[3],16)}}}else{if(t.indexOf("rgb(")>=0){const e=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(t);if(null==e||e.length<4)return;return{R:parseInt(e[1],10),G:parseInt(e[2],10),B:parseInt(e[3],10)}}if(t.indexOf("rgba(")>=0){const e=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(t);if(null==e||e.length<5)return;return{R:parseInt(e[1],10),G:parseInt(e[2],10),B:parseInt(e[3],10),A:parseFloat(e[4])}}}}function o(t){let e,a;const i=t.R/255,n=t.G/255,r=t.B/255,s=Math.min(i,Math.min(n,r)),l=Math.max(i,Math.max(n,r)),o=l-s;return 0===l||0===o?(e=0,a=0):(e=o/l,a=i===l?(n-r)/o:n===l?2+(r-i)/o:4+(i-n)/o),a/=6,a<0&&(a+=1),{H:a,S:e,V:l}}function c(t){let e,a,i;const n=t.H,r=t.S,s=t.V;if(0===r)e=s,a=s,i=s;else{const t=6*n,l=Math.floor(t),o=t-l,c=s*(1-r),u=s*(1-r*o),h=s*(1-r*(1-o));switch(l){case 0:e=s,a=h,i=c;break;case 1:e=u,a=s,i=c;break;case 2:e=c,a=s,i=h;break;case 3:e=c,a=u,i=s;break;case 4:e=h,a=c,i=s;break;case 5:e=s,a=c,i=u}}return{R:Math.floor(255*e),G:Math.floor(255*a),B:Math.floor(255*i)}}function u(t,e){const a=Math.floor(e);return{R:Math.max(0,t.R-a),G:Math.max(0,t.G-a),B:Math.max(0,t.B-a)}}function h(t){return null==t.A?"rgb("+t.R+","+t.G+","+t.B+")":"rgba("+t.R+","+t.G+","+t.B+","+t.A+")"}function d(t){return"#"+b(t.R)+b(t.G)+b(t.B)}function f(t,e,a){return d(g(l(t),e,l(a)))}function g(t,e,a){return e=i.ensureInRange(e,0,1),{R:m(t.R,e,a.R),G:m(t.G,e,a.G),B:m(t.B,e,a.B)}}function m(t,e,a){return e=i.ensureInRange(e,0,1),t=i.ensureInRange(t,0,255),a=i.ensureInRange(a,0,255),Math.round(e*t+(1-e)*a)}function p(t,e,a){const i=o(t);return(e+a>1||e<=0||a<=0)&&(e=.8,a=.2),i.V<e?i.V=i.V+a:i.V=i.V-a,d(c(i))}function b(t){const e=i.ensureInRange(t,0,255).toString(16).toUpperCase();return 1===e.length?"0"+e:e}function v(t,e,a){const i=e.map((t=>l(t)));return n=>{if(null==n&&(n=0),isNaN(n))return;if(a){if(n>=t[t.length-1])return e[e.length-1];if(n<=t[0])return e[0]}let r,s,l,o;for(let a=1,c=t.length;a<c;a++){if(r=t[a-1],s=t[a],s===n)return e[a];if(n>=r&&n<=s){l=i[a-1],o=i[a];break}}return d({R:Math.round((n-r)*(o.R-l.R)/(s-r)+l.R),G:Math.round((n-r)*(o.G-l.G)/(s-r)+l.G),B:Math.round((n-r)*(o.B-l.B)/(s-r)+l.B)})}}function y(t,e){const a=parseInt(t.slice(1),16),i=e<0?0:255,n=e<0?-1*e:e,r=a>>16,s=a>>8&255,l=255&a;return"#"+(16777216+65536*(Math.round((i-r)*n)+r)+256*(Math.round((i-s)*n)+s)+(Math.round((i-l)*n)+l)).toString(16).slice(1)}},6986:(t,e,a)=>{"use strict";a.d(e,{A1:()=>i.A});var i=a(8817),n=a(4708);n.KY,n.lp,n.Bt,n.e$,n.j$,n.zO,n.ND,n.Zb,n.IO,n.$e,n.p8,n.NN,n.xq},7167:(t,e,a)=>{"use strict";function i(t,e,a){if(!t)return a;const i=t[e];return void 0===i?a:i}a.d(e,{_:()=>i})},5594:(t,e,a)=>{"use strict";a.d(e,{pM:()=>n});var i=a(7167);function n(t,e,a){const n=function(t,e,a){return t?i._(t[e.objectName],e.propertyName,a):a}(t,e);return n&&n.solid?n.solid.color:a}},1888:(t,e,a)=>{"use strict";function i(t,e,a){if(!t)return a;let i=t[e];return void 0===i?a:i}a.d(e,{_:()=>i})},6271:(t,e,a)=>{"use strict";a.d(e,{Bl:()=>n});var i=a(1888);function n(t,e,a){const n=function(t,e,a){return t?i._(t[e.objectName],e.propertyName,a):a}(t,e,a);return n&&n.solid?n.solid.color:null==n||"object"==typeof n&&!n.solid?a:n}},3116:(t,e,a)=>{"use strict";a.d(e,{P:()=>n});var i=a(6271);class n{static getDefault(){return new this}static createPropertyIdentifier(t,e){return{objectName:t,propertyName:e}}static parse(t){let e,a=this.getDefault();if(!t||!t.metadata||!t.metadata.objects)return a;e=a.getProperties();for(let n in e)for(let r in e[n]){const s=a[n][r];a[n][r]=i.Bl(t.metadata.objects,e[n][r],s)}return a}static isPropertyEnumerable(t){return!n.InnumerablePropertyPrefix.test(t)}static enumerateObjectInstances(t,e){let a=t&&t[e.objectName];if(!a)return[];let i={objectName:e.objectName,selector:null,properties:{}};for(let t in a)a.hasOwnProperty(t)&&(i.properties[t]=a[t]);return{instances:[i]}}getProperties(){let t={};return Object.keys(this).forEach((e=>{if(n.isPropertyEnumerable(e)){let a=Object.keys(this[e]);t[e]={},a.forEach((a=>{n.isPropertyEnumerable(e)&&(t[e][a]=n.createPropertyIdentifier(e,a))}))}})),t}}n.InnumerablePropertyPrefix=/^_/},8599:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(2419);e.default=function(t){Object.keys(i.locales).forEach((function(e){return t.addCultureInfo.apply(t,i.locales[e])}))}},7717:(t,e)=>{"use strict";var a,i,n,r,s,l,o,c;Object.defineProperty(e,"__esModule",{value:!0}),e.parseNegativePattern=e.parseExact=e.getEraYear=e.getEra=e.getTokenRegExp=e.formatNumber=e.formatDate=e.expandFormat=e.appendPreOrPostMatch=e.zeroPad=e.trim=e.startsWith=e.isObject=e.isFunction=e.isArray=e.extend=e.endsWith=e.arrayIndexOf=e.regexTrim=e.regexParseFloat=e.regexInfinity=e.regexHex=e.Globalize=void 0,e.Globalize=function(t){return new e.Globalize.prototype.init(t)},e.Globalize.cultures={},e.Globalize.prototype={constructor:e.Globalize,init:function(t){return this.cultures=e.Globalize.cultures,this.cultureSelector=t,this}},e.Globalize.prototype.init.prototype=e.Globalize.prototype,e.Globalize.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},e.Globalize.cultures.default.calendar=e.Globalize.cultures.default.calendars.standard,e.Globalize.cultures.en=e.Globalize.cultures.default,e.Globalize.cultureSelector="en",e.regexHex=/^0x[a-f0-9]+$/i,e.regexInfinity=/^[+-]?infinity$/i,e.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,e.regexTrim=/^\s+|\s+$/g,e.arrayIndexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var a=0,i=t.length;a<i;a++)if(t[a]===e)return a;return-1},e.endsWith=function(t,e){return t.substring(t.length-e.length)===e},e.extend=function(t){var a,i,n,r,s,l,o=arguments[0]||{},c=1,u=arguments.length;for(t=!1,"boolean"==typeof o&&(t=o,o=arguments[1]||{},c=2),"object"==typeof o||(0,e.isFunction)(o)||(o={});c<u;c++)if(null!=(a=arguments[c]))for(i in a)n=o[i],o!==(r=a[i])&&(t&&r&&((0,e.isObject)(r)||(s=(0,e.isArray)(r)))?(s?(s=!1,l=n&&(0,e.isArray)(n)?n:[]):l=n&&(0,e.isObject)(n)?n:{},o[i]=(0,e.extend)(t,l,r)):void 0!==r&&(o[i]=r));return o},e.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.startsWith=function(t,e){return 0===t.indexOf(e)},e.trim=function(t){return(t+"").replace(e.regexTrim,"")},e.zeroPad=function(t,e,a){var i;for(i=t.length;i<e;i+=1)t=a?"0"+t:t+"0";return t},e.appendPreOrPostMatch=function(t,e){for(var a=0,i=!1,n=0,r=t.length;n<r;n++){var s=t.charAt(n);switch(s){case"'":i?e.push("'"):a++,i=!1;break;case"\\":i&&e.push("\\"),i=!i;break;default:e.push(s),i=!1}}return a},e.expandFormat=function(t,e){e=e||"F";var a,i=t.patterns,n=e.length;if(1===n){if(!(a=i[e]))throw"Invalid date format string '"+e+"'.";e=a}else 2===n&&"%"===e.charAt(0)&&(e=e.charAt(1));return e},e.formatDate=function(t,a,i){var n=i.calendar,r=n.convert;if(!a||!a.length||"i"===a){var s;if(i&&i.name.length)if(r)s=(0,e.formatDate)(t,n.patterns.F,i);else{var l=new Date(t.getTime()),o=(0,e.getEra)(t,n.eras);l.setFullYear((0,e.getEraYear)(t,n,o)),s=l.toLocaleString()}else s=t.toString();return s}var c=n.eras,u="s"===a;a=(0,e.expandFormat)(n,a),s=[];var h,d,f,g,m=["0","00","000"],p=/([^d]|^)(d|dd)([^d]|$)/g,b=0,v=(0,e.getTokenRegExp)();function y(t,e){var a,i=t+"";return e>1&&i.length<e?(a=m[e-2]+i).substring(a.length-e,a.length):a=i}function x(t,e){if(g)return g[e];switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate()}}for(!u&&r&&(g=r.fromGregorian(t));;){var w=v.lastIndex,S=v.exec(a),_=a.slice(w,S?S.index:a.length);if(b+=(0,e.appendPreOrPostMatch)(_,s),!S)break;if(b%2)s.push(S[0]);else{var k=S[0],A=k.length;switch(k){case"ddd":case"dddd":var V=3===A?n.days.namesAbbr:n.days.names;s.push(V[t.getDay()]);break;case"d":case"dd":d=!0,s.push(y(x(t,2),A));break;case"MMM":case"MMMM":var j=x(t,1);s.push(n.monthsGenitive&&(d||f||(d=p.test(a),f=!0),d)?n.monthsGenitive[3===A?"namesAbbr":"names"][j]:n.months[3===A?"namesAbbr":"names"][j]);break;case"M":case"MM":s.push(y(x(t,1)+1,A));break;case"y":case"yy":case"yyyy":j=g?g[0]:(0,e.getEraYear)(t,n,(0,e.getEra)(t,c),u),A<4&&(j%=100),s.push(y(j,A));break;case"h":case"hh":0==(h=t.getHours()%12)&&(h=12),s.push(y(h,A));break;case"H":case"HH":s.push(y(t.getHours(),A));break;case"m":case"mm":s.push(y(t.getMinutes(),A));break;case"s":case"ss":s.push(y(t.getSeconds(),A));break;case"t":case"tt":j=t.getHours()<12?n.AM?n.AM[0]:" ":n.PM?n.PM[0]:" ",s.push(1===A?j.charAt(0):j);break;case"f":case"ff":case"fff":s.push(y(t.getMilliseconds(),3).substring(0,A));break;case"z":case"zz":h=t.getTimezoneOffset()/60,s.push((h<=0?"+":"-")+y(Math.floor(Math.abs(h)),A));break;case"zzz":h=t.getTimezoneOffset()/60,s.push((h<=0?"+":"-")+y(Math.floor(Math.abs(h)),2)+":"+y(Math.abs(t.getTimezoneOffset()%60),2));break;case"g":case"gg":n.eras&&s.push(n.eras[(0,e.getEra)(t,c)].name);break;case"/":s.push(n["/"]);break;default:throw"Invalid date format pattern '"+k+"'."}}}return s.join("")},a=function(t,a,i){var n=i.groupSizes,r=n[0],s=1,l=Math.pow(10,a),o=Math.round(t*l)/l;isFinite(o)||(o=t);var c=(t=o)+"",u="",h=c.split(/e/i),d=h.length>1?parseInt(h[1],10):0;h=(c=h[0]).split("."),c=h[0],u=h.length>1?h[1]:"",d>0?(c+=(u=(0,e.zeroPad)(u,d,!1)).slice(0,d),u=u.substring(d)):d<0&&(d=-d,u=(c=(0,e.zeroPad)(c,d+1)).slice(-d,c.length)+u,c=c.slice(0,-d)),u=a>0?i["."]+(u.length>a?u.slice(0,a):(0,e.zeroPad)(u,a)):"";for(var f=c.length-1,g=i[","],m="";f>=0;){if(0===r||r>f)return c.slice(0,f+1)+(m.length?g+m+u:u);m=c.slice(f-r+1,f+1)+(m.length?g+m:""),f-=r,s<n.length&&(r=n[s],s++)}return c.slice(0,f+1)+g+m+u},e.formatNumber=function(t,i,n){if(!i||"i"===i)return n.name.length?t.toLocaleString():t.toString();i=i||"D";var r,s=n.numberFormat,l=Math.abs(t),o=-1;i.length>1&&(o=parseInt(i.slice(1),10));var c,u=i.charAt(0).toUpperCase();switch(u){case"D":r="n",-1!==o&&(l=(0,e.zeroPad)(""+l,o,!0)),t<0&&(l=-l);break;case"N":c=s;case"C":c=c||s.currency;case"P":c=c||s.percent,r=t<0?c.pattern[0]:c.pattern[1]||"n",-1===o&&(o=c.decimals),l=a(l*("P"===u?100:1),o,c);break;default:throw"Bad number format specifier: "+u}for(var h=/n|\$|-|%/g,d="";;){var f=h.lastIndex,g=h.exec(r);if(d+=r.slice(f,g?g.index:r.length),!g)break;switch(g[0]){case"n":d+=l;break;case"$":d+=s.currency.symbol;break;case"-":/[1-9]/.test(l.toString())&&(d+=s["-"]);break;case"%":d+=s.percent.symbol}}return d},e.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},e.getEra=function(t,e){if(!e)return 0;for(var a,i=t.getTime(),n=0,r=e.length;n<r;n++)if(null===(a=e[n].start)||i>=a)return n;return 0},e.getEraYear=function(t,e,a,i){var n=t.getFullYear();return!i&&e.eras&&(n-=e.eras[a].offset),n},i=function(t,a){var i=new Date,n=(0,e.getEra)(i);if(a<100){var r=t.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var s=(0,e.getEraYear)(i,t,n);(a+=s-s%100)>r&&(a-=100)}return a},n=function(t,a,i){var n,r=t.days,s=t._upperDays;return s||(t._upperDays=s=[c(r.names),c(r.namesAbbr),c(r.namesShort)]),a=o(a),i?-1===(n=(0,e.arrayIndexOf)(s[1],a))&&(n=(0,e.arrayIndexOf)(s[2],a)):n=(0,e.arrayIndexOf)(s[0],a),n},r=function(t,a,i){var n=t.months,r=t.monthsGenitive||t.months,s=t._upperMonths,l=t._upperMonthsGen;s||(t._upperMonths=s=[c(n.names),c(n.namesAbbr)],t._upperMonthsGen=l=[c(r.names),c(r.namesAbbr)]),a=o(a);var u=(0,e.arrayIndexOf)(i?s[1]:s[0],a);return u<0&&(u=(0,e.arrayIndexOf)(i?l[1]:l[0],a)),u},s=function(t,a){var i=t._parseRegExp;if(i){var n=i[a];if(n)return n}else t._parseRegExp=i={};for(var r,s=(0,e.expandFormat)(t,a).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),l=["^"],o=[],c=0,u=0,h=(0,e.getTokenRegExp)();null!==(r=h.exec(s));){var d=s.slice(c,r.index);if(c=h.lastIndex,(u+=(0,e.appendPreOrPostMatch)(d,l))%2)l.push(r[0]);else{var f,g=r[0],m=g.length;switch(g){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\"+t["/"]+")";break;default:throw"Invalid date format pattern '"+g+"'."}f&&l.push(f),o.push(r[0])}}(0,e.appendPreOrPostMatch)(s.slice(c),l),l.push("$");var p={regExp:l.join("").replace(/\s+/g,"\\s+"),groups:o};return i[a]=p},l=function(t,e,a){return t<e||t>a},o=function(t){return t.split(" ").join(" ").toUpperCase()},c=function(t){for(var e=[],a=0,i=t.length;a<i;a++)e[a]=o(t[a]);return e},e.parseExact=function(t,a,o){t=(0,e.trim)(t);var c=o.calendar,u=s(c,a),h=new RegExp(u.regExp).exec(t);if(null===h)return null;for(var d,f=u.groups,g=null,m=null,p=null,b=null,v=null,y=0,x=0,w=0,S=0,_=null,k=!1,A=0,V=f.length;A<V;A++){var j=h[A+1];if(j){var T=f[A],M=T.length,z=parseInt(j,10);switch(T){case"dd":case"d":if(l(b=z,1,31))return null;break;case"MMM":case"MMMM":if(p=r(c,j,3===M),l(p,0,11))return null;break;case"M":case"MM":if(l(p=z-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(m=M<4?i(c,z):z,l(m,0,9999))return null;break;case"h":case"hh":if(12===(y=z)&&(y=0),l(y,0,11))return null;break;case"H":case"HH":if(l(y=z,0,23))return null;break;case"m":case"mm":if(l(x=z,0,59))return null;break;case"s":case"ss":if(l(w=z,0,59))return null;break;case"tt":case"t":if(!(k=c.PM&&(j===c.PM[0]||j===c.PM[1]||j===c.PM[2]))&&(!c.AM||j!==c.AM[0]&&j!==c.AM[1]&&j!==c.AM[2]))return null;break;case"f":case"ff":case"fff":if(S=z*Math.pow(10,3-M),l(S,0,999))return null;break;case"ddd":case"dddd":if(v=n(c,j,3===M),l(v,0,6))return null;break;case"zzz":var N=j.split(/:/);if(2!==N.length)return null;if(d=parseInt(N[0],10),l(d,-12,13))return null;var L=parseInt(N[1],10);if(l(L,0,59))return null;_=60*d+((0,e.startsWith)(j,"-")?-L:L);break;case"z":case"zz":if(l(d=z,-12,13))return null;_=60*d;break;case"g":case"gg":var D=j;if(!D||!c.eras)return null;D=(0,e.trim)(D.toLowerCase());for(var C=0,O=c.eras.length;C<O;C++)if(D===c.eras[C].name.toLowerCase()){g=C;break}if(null===g)return null}}}var U,F=new Date,P=c.convert;if(U=P?P.fromGregorian(F)[0]:F.getFullYear(),null===m?m=U:c.eras&&(m+=c.eras[g||0].offset),null===p&&(p=0),null===b&&(b=1),P){if(null===(F=P.toGregorian(m,p,b)))return null}else{if(F.setFullYear(m,p,b),F.getDate()!==b)return null;if(null!==v&&F.getDay()!==v)return null}if(k&&y<12&&(y+=12),F.setHours(y,x,w,S),null!==_){var E=F.getMinutes()-(_+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt((E/60).toString(),10),E%60)}return F},e.parseNegativePattern=function(t,a,i){var n,r=a["-"],s=a["+"];switch(i){case"n -":r=" "+r,s=" "+s;case"n-":(0,e.endsWith)(t,r)?n=["-",t.substring(0,t.length-r.length)]:(0,e.endsWith)(t,s)&&(n=["+",t.substring(0,t.length-s.length)]);break;case"- n":r+=" ",s+=" ";case"-n":(0,e.startsWith)(t,r)?n=["-",t.substring(r.length)]:(0,e.startsWith)(t,s)&&(n=["+",t.substring(s.length)]);break;case"(n)":(0,e.startsWith)(t,"(")&&(0,e.endsWith)(t,")")&&(n=["-",t.substring(1,t.length-1)])}return n||["",t]},e.Globalize.prototype.findClosestCulture=function(t){return e.Globalize.findClosestCulture.call(this,t)},e.Globalize.prototype.format=function(t,a,i){return e.Globalize.format.call(this,t,a,i)},e.Globalize.prototype.localize=function(t,a){return e.Globalize.localize.call(this,t,a)},e.Globalize.prototype.parseInt=function(t,a,i){return e.Globalize.parseInt.call(this,t,a,i)},e.Globalize.prototype.parseFloat=function(t,a,i){return e.Globalize.parseFloat.call(this,t,a,i)},e.Globalize.prototype.culture=function(t){return e.Globalize.culture.call(this,t)},e.Globalize.addCultureInfo=function(t,a,i){var n={},r=!1;"string"!=typeof t?(i=t,t=this.culture().name,n=this.cultures[t]):"string"!=typeof a?(i=a,r=null==this.cultures[t],n=this.cultures[t]||this.cultures.default):(r=!0,n=this.cultures[a]),this.cultures[t]=(0,e.extend)(!0,{},n,i),r&&(this.cultures[t].calendar=this.cultures[t].calendars.standard)},e.Globalize.findClosestCulture=function(t){var a;if(!t)return this.cultures[this.cultureSelector]||this.cultures.default;if("string"==typeof t&&(t=t.split(",")),(0,e.isArray)(t)){var i,n,r=this.cultures,s=t,l=s.length,o=[];for(n=0;n<l;n++){var c,u=(t=(0,e.trim)(s[n])).split(";");i=(0,e.trim)(u[0]),1===u.length?c=1:0===(t=(0,e.trim)(u[1])).indexOf("q=")?(t=t.substring(2),c=parseFloat(t),c=isNaN(c)?0:c):c=1,o.push({lang:i,pri:c})}for(o.sort((function(t,e){return t.pri<e.pri?1:-1})),n=0;n<l;n++)if(a=r[i=o[n].lang])return a;for(n=0;n<l;n++)for(i=o[n].lang;;){var h=i.lastIndexOf("-");if(-1===h)break;if(a=r[i=i.substring(0,h)])return a}for(n=0;n<l;n++)for(var d in i=o[n].lang,r){var f=r[d];if(f.language==i)return f}}else if("object"==typeof t)return t;return a||null},e.Globalize.format=function(t,a,i){var n=this.findClosestCulture(i);return t instanceof Date?t=(0,e.formatDate)(t,a,n):"number"==typeof t&&(t=(0,e.formatNumber)(t,a,n)),t},e.Globalize.localize=function(t,e){return this.findClosestCulture(e).messages[t]||this.cultures.default.messages.key},e.Globalize.parseDate=function(t,a,i){var n,r,s;if(i=this.findClosestCulture(i),a){if("string"==typeof a&&(a=[a]),a.length)for(var l=0,o=a.length;l<o;l++){var c=a[l];if(c&&(n=(0,e.parseExact)(t,c,i)))break}}else for(r in s=i.calendar.patterns)if(n=(0,e.parseExact)(t,s[r],i))break;return n||null},e.Globalize.parseInt=function(t,a,i){return Math.floor(e.Globalize.parseFloat(t,a,i))},e.Globalize.parseFloat=function(t,a,i){"number"!=typeof a&&(i=a,a=10);var n=this.findClosestCulture(i),r=NaN,s=n.numberFormat;if(t.indexOf(n.numberFormat.currency.symbol)>-1&&(t=(t=t.replace(n.numberFormat.currency.symbol,"")).replace(n.numberFormat.currency["."],n.numberFormat["."])),t=(0,e.trim)(t),e.regexInfinity.test(t))r=parseFloat(t);else if(!a&&e.regexHex.test(t))r=parseInt(t,16);else{var l=(0,e.parseNegativePattern)(t,s,s.pattern[0]),o=l[0],c=l[1];""===o&&"-n"!==s.pattern[0]&&(o=(l=(0,e.parseNegativePattern)(t,s,"-n"))[0],c=l[1]),o=o||"+";var u,h,d=c.indexOf("e");d<0&&(d=c.indexOf("E")),d<0?(h=c,u=null):(h=c.substring(0,d),u=c.substring(d+1));var f,g,m=s["."],p=h.indexOf(m);p<0?(f=h,g=null):(f=h.substring(0,p),g=h.substring(p+m.length));var b=s[","];f=f.split(b).join("");var v=b.replace(/\u00A0/g," ");b!==v&&(f=f.split(v).join(""));var y=o+f;if(null!==g&&(y+="."+g),null!==u){var x=(0,e.parseNegativePattern)(u,s,"-n");y+="e"+(x[0]||"+")+x[1]}e.regexParseFloat.test(y)&&(r=parseFloat(y))}return r},e.Globalize.culture=function(t){return void 0!==t&&(this.cultureSelector=t),this.findClosestCulture(t)||this.culture.default}},7630:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeSequence=void 0;var i=a(7925),n=a(2087),r=n.numericSequence.NumericSequence,s=n.numericSequenceRange.NumericSequenceRange,l=a(3351),o=function(){function t(t){this.unit=t,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999"),this.max=new Date("0001-01-01T00:00:00.000")}return t.prototype.add=function(t){t<this.min&&(this.min=t),t>this.max&&(this.max=t),this.sequence.push(t)},t.prototype.extendToCover=function(e,a){for(var i=this.min;e<i;)i=t.ADD_INTERVAL(i,-this.interval,this.unit),this.sequence.splice(0,0,i);for(this.min=i,i=this.max;i<a;)i=t.ADD_INTERVAL(i,this.interval,this.unit),this.sequence.push(i);this.max=i},t.prototype.moveToCover=function(e,a){var i=t.getDelta(e,a,this.unit),n=Math.floor(i/this.interval);for(this.min=t.ADD_INTERVAL(this.min,n*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<a;)this.max=t.ADD_INTERVAL(this.max,this.interval,this.unit),this.sequence.push(this.max)},t.CALCULATE=function(e,a,i,n){switch(n||(n=t.GET_INTERVAL_UNIT(e,a,i)),n){case l.DateTimeUnit.Year:return t.CALCULATE_YEARS(e,a,i);case l.DateTimeUnit.Month:return t.CALCULATE_MONTHS(e,a,i);case l.DateTimeUnit.Week:return t.CALCULATE_WEEKS(e,a,i);case l.DateTimeUnit.Day:return t.CALCULATE_DAYS(e,a,i);case l.DateTimeUnit.Hour:return t.CALCULATE_HOURS(e,a,i);case l.DateTimeUnit.Minute:return t.CALCULATE_MINUTES(e,a,i);case l.DateTimeUnit.Second:return t.CALCULATE_SECONDS(e,a,i);case l.DateTimeUnit.Millisecond:return t.CALCULATE_MILLISECONDS(e,a,i)}},t.CALCULATE_YEARS=function(e,a,i){var n=s.calculateDataRange(e.getFullYear(),a.getFullYear(),!1),o=r.calculate(s.calculate(0,n.max-n.min),i,0,null,null,[1,2,5]),c=Math.floor(n.min/o.interval)*o.interval,u=new Date(c,0,1);return t.fromNumericSequence(u,o,l.DateTimeUnit.Year)},t.CALCULATE_MONTHS=function(e,a,i){var n=e.getFullYear(),s=a.getFullYear(),o=e.getMonth(),c=12*(s-n)+a.getMonth(),u=new Date(n,0,1),h=r.calculateUnits(o,c,i,[1,2,3,6,12]);return t.fromNumericSequence(u,h,l.DateTimeUnit.Month)},t.CALCULATE_WEEKS=function(e,a,i){var s=(e.getDay()-0+7)%7,o=e.getDate()-s,c=new Date(e.getFullYear(),e.getMonth(),o),u=n.double.ceilWithPrecision(t.getDelta(c,a,l.DateTimeUnit.Week)),h=r.calculateUnits(0,u,i,[1,2,4,8]);return t.fromNumericSequence(c,h,l.DateTimeUnit.Week)},t.CALCULATE_DAYS=function(e,a,i){var s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=n.double.ceilWithPrecision(t.getDelta(e,a,l.DateTimeUnit.Day)),c=r.calculateUnits(0,o,i,[1,2,7,14]);return t.fromNumericSequence(s,c,l.DateTimeUnit.Day)},t.CALCULATE_HOURS=function(e,a,i){var s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=n.double.floorWithPrecision(t.getDelta(s,e,l.DateTimeUnit.Hour)),c=n.double.ceilWithPrecision(t.getDelta(s,a,l.DateTimeUnit.Hour)),u=r.calculateUnits(o,c,i,[1,2,3,6,12,24]);return t.fromNumericSequence(s,u,l.DateTimeUnit.Hour)},t.CALCULATE_MINUTES=function(e,a,i){var s=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),o=n.double.floorWithPrecision(t.getDelta(s,e,l.DateTimeUnit.Minute)),c=n.double.ceilWithPrecision(t.getDelta(s,a,l.DateTimeUnit.Minute)),u=r.calculateUnits(o,c,i,[1,2,5,10,15,30,60,120,180,360,720,1440]);return t.fromNumericSequence(s,u,l.DateTimeUnit.Minute)},t.CALCULATE_SECONDS=function(e,a,i){var s=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()),o=n.double.floorWithPrecision(t.getDelta(s,e,l.DateTimeUnit.Second)),c=n.double.ceilWithPrecision(t.getDelta(s,a,l.DateTimeUnit.Second)),u=r.calculateUnits(o,c,i,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return t.fromNumericSequence(s,u,l.DateTimeUnit.Second)},t.CALCULATE_MILLISECONDS=function(e,a,i){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),o=t.getDelta(n,e,l.DateTimeUnit.Millisecond),c=t.getDelta(n,a,l.DateTimeUnit.Millisecond),u=r.calculate(s.calculate(o,c),i,0);return t.fromNumericSequence(n,u,l.DateTimeUnit.Millisecond)},t.ADD_INTERVAL=function(t,e,a){switch(e=Math.round(e),a){case l.DateTimeUnit.Year:return i.addYears(t,e);case l.DateTimeUnit.Month:return i.addMonths(t,e);case l.DateTimeUnit.Week:return i.addWeeks(t,e);case l.DateTimeUnit.Day:return i.addDays(t,e);case l.DateTimeUnit.Hour:return i.addHours(t,e);case l.DateTimeUnit.Minute:return i.addMinutes(t,e);case l.DateTimeUnit.Second:return i.addSeconds(t,e);case l.DateTimeUnit.Millisecond:return i.addMilliseconds(t,e)}},t.fromNumericSequence=function(e,a,i){for(var n=new t(i),r=0;r<a.sequence.length;r++){var s=a.sequence[r],l=t.ADD_INTERVAL(e,s,i);n.add(l)}return n.interval=a.interval,n.intervalOffset=a.intervalOffset,n},t.getDelta=function(t,e,a){var i=0;switch(a){case l.DateTimeUnit.Year:i=e.getFullYear()-t.getFullYear();break;case l.DateTimeUnit.Month:i=12*(e.getFullYear()-t.getFullYear())+e.getMonth()-t.getMonth();break;case l.DateTimeUnit.Week:i=(e.getTime()-t.getTime())/6048e5;break;case l.DateTimeUnit.Day:i=(e.getTime()-t.getTime())/864e5;break;case l.DateTimeUnit.Hour:i=(e.getTime()-t.getTime())/36e5;break;case l.DateTimeUnit.Minute:i=(e.getTime()-t.getTime())/6e4;break;case l.DateTimeUnit.Second:i=(e.getTime()-t.getTime())/1e3;break;case l.DateTimeUnit.Millisecond:i=e.getTime()-t.getTime()}return i},t.GET_INTERVAL_UNIT=function(e,a,i){i=Math.max(i,2);var n=t.getDelta(e,a,l.DateTimeUnit.Day);if(n>356&&n>=180*i)return l.DateTimeUnit.Year;if(n>60&&n>7*i)return l.DateTimeUnit.Month;if(n>14&&n>2*i)return l.DateTimeUnit.Week;var r=t.getDelta(e,a,l.DateTimeUnit.Hour);if(n>2&&r>12*i)return l.DateTimeUnit.Day;if(r>=24&&r>=i)return l.DateTimeUnit.Hour;var s=t.getDelta(e,a,l.DateTimeUnit.Minute);if(s>2&&s>=i)return l.DateTimeUnit.Minute;var o=t.getDelta(e,a,l.DateTimeUnit.Second);if(o>2&&o>=.8*i)return l.DateTimeUnit.Second;if(t.getDelta(e,a,l.DateTimeUnit.Millisecond)>0)return l.DateTimeUnit.Millisecond;var c=e;return 0!==c.getMilliseconds()?l.DateTimeUnit.Millisecond:0!==c.getSeconds()?l.DateTimeUnit.Second:0!==c.getMinutes()?l.DateTimeUnit.Minute:0!==c.getHours()?l.DateTimeUnit.Hour:1!==c.getDate()?l.DateTimeUnit.Day:0!==c.getMonth()?l.DateTimeUnit.Month:l.DateTimeUnit.Year},t.MIN_COUNT=1,t.MAX_COUNT=1e3,t}();e.DateTimeSequence=o},7925:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMilliseconds=e.addSeconds=e.addMinutes=e.addHours=e.addDays=e.addWeeks=e.addMonths=e.addYears=void 0;var a=[31,28,31,30,31,30,31,31,30,31,30,31],i=[31,29,31,30,31,30,31,31,30,31,30,31];function n(t){return t%4==0&&t%100!=0||t%400==0}function r(t,e){var a=t.getFullYear(),i=t.getMonth(),n=t.getDate(),r=new Date(t.getTime());return r.setFullYear(a,i,n+e),r}e.addYears=function(t,e){var a=t.getFullYear(),i=t.getMonth(),r=t.getDate(),s=2===i&&29===r,l=new Date(t.getTime());return a+=e,s&&!n(a)&&(r=28),l.setFullYear(a,i,r),l},e.addMonths=function(t,e){var r=t.getFullYear(),s=t.getMonth(),l=t.getDate(),o=new Date(t.getTime());return r+=(e-e%12)/12,(s+=e%12)>11&&(s%=12,r++),l=Math.min(l,function(t,e){return n(t)?i[e]:a[e]}(r,s)),o.setFullYear(r,s,l),o},e.addWeeks=function(t,e){return r(t,7*e)},e.addDays=r,e.addHours=function(t,e){return new Date(t.getTime()+36e5*e)},e.addMinutes=function(t,e){return new Date(t.getTime()+6e4*e)},e.addSeconds=function(t,e){return new Date(t.getTime()+1e3*e)},e.addMilliseconds=function(t,e){return new Date(t.getTime()+e)}},3224:function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.DataLabelsDisplayUnitSystem=e.WholeUnitsDisplayUnitSystem=e.DefaultDisplayUnitSystem=e.NoDisplayUnitSystem=e.DisplayUnitSystem=e.DisplayUnit=void 0;var r=a(3100),s=a(2087),l=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,o=function(){function t(){}return t.prototype.project=function(t){return this.value?s.double.removeDecimalNoise(t/this.value):t},t.prototype.reverseProject=function(t){return this.value?t*this.value:t},t.prototype.isApplicableTo=function(t){t=Math.abs(t);var e=s.double.getPrecision(t,3);return s.double.greaterOrEqualWithPrecision(t,this.applicableRangeMin,e)&&s.double.lessWithPrecision(t,this.applicableRangeMax,e)},t.prototype.isScaling=function(){return this.value>1},t}();e.DisplayUnit=o;var c=function(){function t(t){this.units=t||[]}return Object.defineProperty(t.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),t.prototype.update=function(t){void 0!==t&&(this.unitBaseValue=t,this.displayUnit=this.findApplicableDisplayUnit(t))},t.prototype.findApplicableDisplayUnit=function(t){for(var e=0,a=this.units;e<a.length;e++){var i=a[e];if(i.isApplicableTo(t))return i}},t.prototype.format=function(t,e,a,i,n){a=this.getNumberOfDecimalsForFormatting(e,a);var r="";return this.isFormatSupported(e)&&!this.hasScientitifcFormat(e)&&this.isScalingUnit()&&this.shouldRespectScalingUnit(e)&&(t=this.displayUnit.project(t),r=this.displayUnit.labelFormat),this.formatHelper({value:t,nonScientificFormat:r,format:e,decimals:a,trailingZeros:i,cultureSelector:n})},t.prototype.isFormatSupported=function(e){return!t.UNSUPPORTED_FORMATS.test(e)},t.prototype.isPercentageFormat=function(t){return t&&t.indexOf("%")>=0},t.prototype.shouldRespectScalingUnit=function(t){return!0},t.prototype.getNumberOfDecimalsForFormatting=function(t,e){return e},t.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},t.prototype.formatHelper=function(t){var e=t.value,a=t.cultureSelector,i=t.decimals,n=t.trailingZeros,s=t.nonScientificFormat,l=t.format;if("g"!==l&&"G"!==l||null==i||(l="#,0.00"),(l=r.numberFormat.addDecimalsToFormat(l,i,n))&&!r.formattingService.isStandardNumberFormat(l))return r.formattingService.formatNumberWithCustomOverride(e,l,s,a);l||(l="G"),s||(s="{0}");var o=r.formattingService.formatValue(e,l,a);return r.formattingService.format(s,[o])},t.prototype.formatSingleValue=function(t,e,a,i,n){return this.update(this.shouldUseValuePrecision(t)?s.double.getPrecision(t,8):t),this.format(t,e,a,i,n)},t.prototype.shouldUseValuePrecision=function(t){if(0===this.units.length)return!0;for(var e=0,a=0;a<this.units.length;a++)if(this.units[a].isScaling()){e=this.units[a].applicableRangeMin;break}return Math.abs(t)<e},t.prototype.isScientific=function(t){return t<-1e15||t>1e15||-1e-4<t&&t<1e-4&&0!==t},t.prototype.hasScientitifcFormat=function(t){return t&&-1!==t.toUpperCase().indexOf("E")},t.prototype.supportsScientificFormat=function(t){return!t||l.test(t)},t.prototype.shouldFallbackToScientific=function(t,e){return!this.hasScientitifcFormat(e)&&this.supportsScientificFormat(e)&&this.isScientific(t)},t.prototype.getScientificFormat=function(t,e,a,i){if(this.isFormatSupported(e)&&this.shouldFallbackToScientific(t,e)){var n=r.numberFormat.getNumericFormat(t,e);return a&&(n=r.numberFormat.addDecimalsToFormat(n||"0",Math.abs(a),i)),n?n+"E+0":"0.##E+0"}return e},t.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,t}();e.DisplayUnitSystem=c;var u=function(t){function e(){return t.call(this,[])||this}return n(e,t),e}(c);e.NoDisplayUnitSystem=u;var h=function(t){function e(a){return t.call(this,e.getUnits(a))||this}return n(e,t),e.prototype.format=function(e,a,i,n,r){return a=this.getScientificFormat(e,a,i,n),t.prototype.format.call(this,e,a,i,n,r)},e.RESET=function(){e.units=null},e.getUnits=function(t){return e.units||(e.units=g(t,(function(t,e,a){return t-e>=1e3?t/10:a})),e.units[e.units.length-1].applicableRangeMax=1/0),e.units},e}(c);e.DefaultDisplayUnitSystem=h;var d=function(t){function e(a){return t.call(this,e.getUnits(a))||this}return n(e,t),e.RESET=function(){e.units=null},e.getUnits=function(t){return e.units||(e.units=g(t),e.units[e.units.length-1].applicableRangeMax=1/0),e.units},e.prototype.format=function(e,a,i,n,r){return a=this.getScientificFormat(e,a,i,n),t.prototype.format.call(this,e,a,i,n,r)},e}(c);e.WholeUnitsDisplayUnitSystem=d;var f=function(t){function e(a){return t.call(this,e.getUnits(a))||this}return n(e,t),e.prototype.isFormatSupported=function(t){return!e.UNSUPPORTED_FORMATS.test(t)},e.getUnits=function(t){if(!e.units){var a=[],i=function(t,e,a){return-1===t&&t-e>=1e3?t/10:a},n=t(-1);m(a,e.AUTO_DISPLAYUNIT_VALUE,n.title,n.format,i),n=t(0),m(a,e.NONE_DISPLAYUNIT_VALUE,n.title,n.format,i),e.units=a.concat(g(t,i)),e.units[e.units.length-1].applicableRangeMax=1/0}return e.units},e.prototype.format=function(e,a,i,n,r){return a=this.getScientificFormat(e,a,i,n),t.prototype.format.call(this,e,a,i,n,r)},e.AUTO_DISPLAYUNIT_VALUE=0,e.NONE_DISPLAYUNIT_VALUE=1,e.UNSUPPORTED_FORMATS=/^(e\d*)$/i,e}(c);function g(t,e){for(var a=[],i=3;i<24;i++){var n=t(i);n&&m(a,s.double.pow10(i),n.title,n.format,e)}return a}function m(t,e,a,i,n){if(a||i){var r=e;if(t.length>0){var s=t[t.length-1];n&&(r=n(e,s.value,r)),s.applicableRangeMax=r}var l=new o;l.value=e,l.applicableRangeMin=r,l.applicableRangeMax=1e3*r,l.title=a,l.labelFormat=i,t.push(l)}}e.DataLabelsDisplayUnitSystem=f},1520:(t,e)=>{"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayUnitSystemType=void 0,(a=e.DisplayUnitSystemType||(e.DisplayUnitSystemType={}))[a.Default=0]="Default",a[a.Verbose=1]="Verbose",a[a.WholeUnits=2]="WholeUnits",a[a.DataLabels=3]="DataLabels"},3801:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Family=e.fallbackFonts=void 0;var i=a(6721);e.fallbackFonts=["helvetica","arial","sans-serif"],e.Family={light:new i.FamilyInfo(e.fallbackFonts),semilight:new i.FamilyInfo(e.fallbackFonts),regular:new i.FamilyInfo(e.fallbackFonts),semibold:new i.FamilyInfo(e.fallbackFonts),bold:new i.FamilyInfo(e.fallbackFonts),lightSecondary:new i.FamilyInfo(e.fallbackFonts),regularSecondary:new i.FamilyInfo(e.fallbackFonts),boldSecondary:new i.FamilyInfo(e.fallbackFonts)}},6721:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FamilyInfo=void 0;var a=function(){function t(t){this.families=t}return Object.defineProperty(t.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),t.prototype.getFamily=function(t){if(void 0===t&&(t=/^wf_/),!this.families)return null;if(t)for(var e=0,a=this.families;e<a.length;e++){var i=a[e];if(t.test(i))return i}return this.families[0]},Object.defineProperty(t.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),t.prototype.getCSS=function(){return this.families?this.families.map((function(t){return t.indexOf(" ")>0?"'"+t+"'":t})).join(", "):null},t}();e.FamilyInfo=a},4932:(t,e)=>{"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.fixDateTimeFormat=e.findDateFormat=void 0,e.findDateFormat=function(t,e,a){switch(e){case"m":e="M";break;case"O":case"o":e="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":e="S";break;case"u":t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e="F";break;case"y":case"Y":switch(a){case"default":case"en":case"en-US":e="MMMM, yyyy";break;default:e="Y"}}return{value:t,format:e}},e.fixDateTimeFormat=function(t){if(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),a||(a=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map((function(t){return{r:new RegExp("%"+t+"(?!"+t+")","g"),s:t}}))),-1!==t.indexOf("%")&&t.length>2)for(var e=0;e<a.length;e++)t=t.replace(a[e].r,a[e].s);return t}},6394:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.format=e.canFormat=void 0;var i,n,r=a(4932),s=a(6459),l=a(1248),o=a(7717);function c(t,e,a){var i=a.calendar.patterns;!function(t){var e=t.patterns;void 0===e.g&&(e.g=e.f.replace(e.D,e.d),e.G=e.F.replace(e.D,e.d))}(a.calendar);var n=(0,r.findDateFormat)(t,e,a.name);return e=1===n.format.length?i[n.format]:n.format,a||(a=this.getCurrentCulture()),o.Globalize.format(n.value,e,a)}e.canFormat=function(t){return t instanceof Date},e.format=function(t,e,a){var u=1===(e=e||"G").length;try{return u?c(t,e,a):function(t,e,a){var c,u=[];if((e=s.preserveLiterals(e,u)).indexOf("F")>-1){e=l.replaceAll(e,"FFFF","FFF");var h=t.getMilliseconds();if(h%10>=1&&(e=l.replaceAll(e,"FFF","fff")),e=l.replaceAll(e,"FFF","FF"),h%100/10>=1&&(e=l.replaceAll(e,"FF","ff")),e=l.replaceAll(e,"FF","F"),h%1e3/100>=1&&(e=l.replaceAll(e,"F","f")),""===(e=l.replaceAll(e,"F",""))||"%"===e)return""}return e=function(t){return t===i?n:(i=t,t=(0,r.fixDateTimeFormat)(t),n=t,t)}(e),c=function(t,e){var a=e[":"];if(":"===a)return t;for(var i="",n=t.length,r=0;r<n;r++){var s=t.charAt(r);i+=":"===s?a:s}return i}(c=o.Globalize.format(t,e,a),a.calendar),s.restoreLiterals(c,u,!1)}(t,e,a)}catch(e){return c(t,"G",a)}}},6459:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.restoreLiterals=e.preserveLiterals=e.removeLiterals=void 0;var a=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");e.removeLiterals=function(t){return a.lastIndex=0,t.replace(a,"")},e.preserveLiterals=function(t,e){for(a.lastIndex=0;;){var i=a.exec(t);if(!i)break;var n=i[0],r=a.lastIndex-n.length,s=String.fromCharCode(57600+e.length);e.push(n),t=t.substring(0,r)+s+t.substring(a.lastIndex),a.lastIndex=r+1}return t},e.restoreLiterals=function(t,e,a){void 0===a&&(a=!0);for(var i=e.length,n=0;n<i;n++){var r=String.fromCharCode(57600+n),s=e[n];if(!a){var l=s[0];s="\\"===l||1===s.length||s[s.length-1]!==l?s.substring(1):s.substring(1,s.length-1)}t=t.replace(r,s)}return t}},3100:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formattingEncoder=e.dateTimeFormat=e.numberFormat=e.formattingService=e.FormattingService=void 0;var i=a(7717);(0,a(8599).default)(i.Globalize);var n=a(6394);e.dateTimeFormat=n;var r=a(7534);e.numberFormat=r;var s=a(6459);e.formattingEncoder=s;var l=a(3351),o=/({{)|(}})|{(\d+[^}]*)}/g,c=function(){function t(){}return t.prototype.formatValue=function(t,e,a){if(null==t)return"";var i=this.getCulture(a);return n.canFormat(t)?n.format(t,e,i):r.canFormat(t)?r.format(t,e,i):t.toString()},t.prototype.format=function(t,e,a){var i=this;return t?t.replace(o,(function(t,n,r,s){if(n)return"{";if(r)return"}";var l=s.split(":"),o=parseInt(l[0],10),c=l[1];return i.formatValue(e[o],c,a)})):""},t.prototype.isStandardNumberFormat=function(t){return r.isStandardFormat(t)},t.prototype.formatNumberWithCustomOverride=function(t,e,a,i){var n=this.getCulture(i);return r.formatWithCustomOverride(t,e,a,n)},t.prototype.dateFormatString=function(t){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(t)},t.prototype.setCurrentCulture=function(t){this._currentCultureSelector!==t&&(this._currentCulture=this.getCulture(t),this._currentCultureSelector=t,this._dateTimeScaleFormatInfo=new u(this._currentCulture))},t.prototype.getCulture=function(t){if(null==t)return null==this._currentCulture&&this.initialize(),this._currentCulture;var e=i.Globalize.findClosestCulture(t);return e||(e=i.Globalize.culture("en-US")),e},t.prototype.initialize=function(){var t=this.getCurrentCulture();this.setCurrentCulture(t);var e=this.getUrlParam("calendar");if(e){var a=this._currentCulture,i=a.calendars[e];i&&(a.calendar=i)}},t.prototype.getCurrentCulture=function(){return(null===window||void 0===window?void 0:window.navigator)?window.navigator.userLanguage||window.navigator.language:"en-US"},t.prototype.getUrlParam=function(t){var e=window.location.search.match(RegExp("[?&]"+t+"=([^&]*)"));return e?e[1]:void 0},t}();e.FormattingService=c;var u=function(){function t(t){var e=t.calendar,a=e.patterns,i=e.months.namesAbbr,n=i&&i[0],r=a.Y,s=a.M,l=a.f,o=a.T,c=a.t,u=l.indexOf(",")>-1?", ":" ",h=0===r.indexOf("yyyy'")&&r.length>6&&"'"===r[6];this.YearPattern=h?r.substring(0,7):"yyyy";var d=l.indexOf("yy"),f=l.indexOf("MMMM");this.MonthPattern=n&&f>-1?d>f?"MMM yyyy":"yyyy MMM":r,this.DayPattern=n?s.replace("MMMM","MMM"):s;var g=l.indexOf("mm"),m=l.indexOf("tt")>-1?c.replace(":mm ",""):c;this.HourPattern=d<g?this.DayPattern+u+m:m+u+this.DayPattern,this.MinutePattern=c,this.SecondPattern=o,this.MillisecondPattern=o.replace("ss","ss.fff"),"fi-FI"===t.name&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return t.prototype.getFormatString=function(t){switch(t){case l.DateTimeUnit.Year:return this.YearPattern;case l.DateTimeUnit.Month:return this.MonthPattern;case l.DateTimeUnit.Week:case l.DateTimeUnit.Day:return this.DayPattern;case l.DateTimeUnit.Hour:return this.HourPattern;case l.DateTimeUnit.Minute:return this.MinutePattern;case l.DateTimeUnit.Second:return this.SecondPattern;case l.DateTimeUnit.Millisecond:return this.MillisecondPattern}},t}(),h=new c;e.formattingService=h},3351:(t,e)=>{"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeUnit=void 0,(a=e.DateTimeUnit||(e.DateTimeUnit={}))[a.Year=0]="Year",a[a.Month=1]="Month",a[a.Week=2]="Week",a[a.Day=3]="Day",a[a.Hour=4]="Hour",a[a.Minute=5]="Minute",a[a.Second=6]="Second",a[a.Millisecond=7]="Millisecond"},7534:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCustomFormatMetadata=e.formatWithCustomOverride=e.format=e.isStandardFormat=e.canFormat=e.getComponents=e.hasFormatComponents=e.addDecimalsToFormat=e.getNumericFormat=e.NumberFormatComponentsDelimeter=void 0;var i,n=a(7717),r=a(2087),s=a(1248),l=a(6459),o=a(3100),c=/\{.+\}/,u=/e[+-]*[0#]+/i,h=/^[a-z]\d{0,2}$/i,d=/0+$/,f=/\.([0#]*)/g,g=/[0#,\.]+[0,#]*/g,m=/([0#])(?=[^0#]*$)/,p="0",b="#",v=new RegExp([p,b].join("|"),"g");function y(t,e){if(null==e)return e;if(S(e)){var a=_(e),i=a.positive,n=a.negative,r=a.zero;return x(0,t>0?i:0===t?r:n)}return x(0,e)}function x(t,e){var a=r.regExpExtensions.run(g,e);return a?a[0]:e}function w(t,e,a){if((e=Math.abs(e))>=0){var i=[];t=l.preserveLiterals(t,i);var n=a?p:b,o=s.repeat(n,Math.abs(e)),c=r.regExpExtensions.run(f,t);if(c){var u=t.substring(0,c.index),h=t.substring(c.index+1,c[1].length+c.index+1),d=t.substring(c.index+c[0].length);if(a)h=o;else{var g=o.length-h.length;g>0?h+=o.slice(-g):g<0&&(h=h.slice(0,g))}h.length>0&&(h="."+h),t=u+h+d}else o.length>0&&(t=t.replace(m,"$1."+o));0!==i.length&&(t=l.restoreLiterals(t,i))}return t}function S(t){return-1!==l.removeLiterals(t).indexOf(e.NumberFormatComponentsDelimeter)}function _(t){var a={hasNegative:!1,positive:t,negative:t,zero:t},i=[],n=(t=l.preserveLiterals(t,i)).split(e.NumberFormatComponentsDelimeter),r=n.length;return r>1&&(0!==i.length&&(n=n.map((function(t){return l.restoreLiterals(t,i)}))),a.hasNegative=!0,a.positive=a.zero=n[0],a.negative=n[1],r>2&&(a.zero=n[2])),a}function k(t){return h.test(t)}function A(t,e,a,s){var c,h=a.numberFormat;if(!isFinite(t))return n.Globalize.format(t,void 0);var d=_(e);e=t>0?d.positive:0===t?d.zero:d.negative,d.hasNegative&&(t=Math.abs(t));var f=j(e,!0),g=[];if(f.hasLiterals&&(e=l.preserveLiterals(e,g)),f.hasE&&!s){var m=r.regExpExtensions.run(u,e);if(m){var p=e.substring(0,m.index),b=e.substring(m.index+2),v=T(p,f);if(1!==(L=z(p,f))&&(t*=L),"number"!=typeof t)return String(t);var x=t.toExponential(v),w=x.indexOf("e"),S=x.substring(0,w),k=x.substring(w+1),A=N(S,p,h),M=N(k,b,h);"+"===M.charAt(0)&&"+"!==m[0].charAt(1)&&(M=M.substring(1)),c=A+m[0].charAt(0)+M}}if(void 0===c){var L,D=void 0,C=!1;if(v=T(e,f),1!==(L=z(e,f))&&(t*=L),t=parseFloat(V(t,v)),!isFinite(t))return n.Globalize.format(t,void 0);s?(s=function(t,e){if(!e||void 0===t)return t;var a="{0:"+e+"}";return t.replace("{0}",a)}(s,y(t,e)),D=o.formattingService.format(s,[t],a.name),C=!0):D=V(t,v),c=N(D,e,h,s,C)}return f.hasLiterals&&(c=l.restoreLiterals(c,g,!1)),i=f,c}function V(t,e){var a="",i=0;e>16&&(i=e-16,e=16);var n=r.double.log10(Math.abs(t));if(n<16){if(n>0){var l=16-n;e>l&&(i+=e-l,e=l)}a=t.toFixed(e)}else if(16===n)a=t.toFixed(0),(i+=e)>0&&(a+=".");else{if("number"!=typeof t)return String(t);var o=(a=t.toExponential(15)).indexOf("e");if(o>0){var c=a.indexOf("."),u=a.substring(0,o),h=a.substring(o+1),d=parseInt(h,10)-(u.length-c-1);a=u.replace(".","")+s.repeat("0",d),e>0&&(a=a+"."+s.repeat("0",e))}}return i>0&&(a+=s.repeat("0",i)),a}function j(t,e,a,n){if(void 0!==i&&t===i.format)return i;for(var r=[],s=l.preserveLiterals(t,r),o={format:t,hasLiterals:0!==r.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,scale:void 0,partsPerScale:void 0},c=0,u=s.length;c<u;c++)switch(s.charAt(c)){case"e":case"E":o.hasE=!0;break;case",":o.hasCommas=!0;break;case".":o.hasDots=!0;break;case"%":o.hasPercent=!0;break;case"‰":o.hasPermile=!0}var h=_(t);return e&&(o.precision=T(h.positive,o)),n&&(o.partsPerScale=M(h.positive,o)),a&&(o.scale=z(h.positive,o)),o}function T(t,e){if(e.precision>-1)return e.precision;var a=0;if(e.hasDots){e.hasLiterals&&(t=l.removeLiterals(t));var i=t.indexOf(".");if(i>-1){for(var n=t.length,r=i;r<n;r++){var s=t.charAt(r);if(s.match(v)&&a++,"E"===s)break}a=Math.min(19,a)}}return e.precision=a,a}function M(t,e){if(null!=e.partsPerScale)return e.partsPerScale;var a=1;return e.hasPercent&&t.indexOf("%")>-1&&(a*=100),e.hasPermile&&t.indexOf("‰")>-1&&(a*=1e3),e.partsPerScale=a,a}function z(t,e){if(e.scale>-1)return e.scale;var a=M(t,e);if(e.hasCommas){var i=t.indexOf(".");-1===i&&(i=t.length);for(var n=i-1;n>-1&&","===t.charAt(n);n--)a/=1e3}return e.scale=a,a}function N(t,e,a,i,n){var r=!!i,s=e.split(".",2);if(2===s.length){var l=s[0],o=s[1],u="";i&&(u=i.replace(c,""),t=t.replace(u,""));var h=a["."],f=n?h:".",g=t.split(f,2),m=1===g.length?g[0]+u:g[0],y=2===g.length?g[1]+u:"";y=y.replace(d,"");var x=L(m,l,a,r),w=function(t,e,a){var i=e.length,n=t.length;if(a){var r=e.charAt(i-1);return r.match(v)?{value:t,fmtOnly:""===t}:{value:t+r,fmtOnly:""===t}}for(var s="",l=!0,o=0,c=0;c<i;c++){var u=e.charAt(c);if(o<n)switch(u){case p:case b:s+=t[o++],l=!1;break;default:s+=u}else u!==b&&(s+=u,l=l&&u!==p)}return{value:s,fmtOnly:l}}(y,o,r);return w.fmtOnly||""===w.value?x+w.value:x+h+w.value}return L(t,e,a,r)}function L(t,e,a,i){var n=e.indexOf(","),r=n>-1&&n<Math.max(e.lastIndexOf("0"),e.lastIndexOf("#"))&&a[","],s=0,l=0,o=a.groupSizes||[3],c=o[0],u=a[","],h="",d=t.charAt(0);"+"!==d&&"-"!==d||(h=a[d],t=t.substring(1));for(var f="0"===t,g="",m="",v=t.length-1,y=!0,x=e.length-1;x>-1;x--){var w=e.charAt(x);switch(w){case p:case b:y=!1,""!==m&&(g=m+g,m=""),i||((v>-1||w===p)&&r&&(s===c?(g=u+g,++l<o.length&&(c=o[l]),s=1):s++),v>-1?(f&&w===b||(g=t.charAt(v)+g),v--):w!==b&&(g=w+g));break;case",":break;default:m=w+m}}if(!i){if(v>-1&&""!==g)if(r)for(;v>-1;)s===c?(g=u+g,++l<o.length&&(c=o[l]),s=1):s++,g=t.charAt(v)+g,v--;else g=t.substring(0,v+1)+g;return h+m+g}return y?h+m+g:h+m+t+g}function D(t,e){var a=e["+"],i=e["-"],n=e["."],r=e[","];if("+"===a&&"-"===i&&"."===n&&","===r)return t;for(var s=t.length,l="",o=0;o<s;o++){var c=t.charAt(o);switch(c){case"+":l+=a;break;case"-":l+=i;break;case".":l+=n;break;case",":l+=r;break;default:l+=c}}return l}e.NumberFormatComponentsDelimeter=";",e.getNumericFormat=y,e.addDecimalsToFormat=function(t,a,i){if(null==a)return t;if(null==t&&(t=p),S(t)){for(var n=_(t),r=[n.positive,n.negative,n.zero],s=0;s<r.length;s++)r[s]=w(r[s],a,i);return r.join(e.NumberFormatComponentsDelimeter)}return w(t,a,i)},e.hasFormatComponents=S,e.getComponents=_,e.canFormat=function(t){return"number"==typeof t},e.isStandardFormat=k,e.format=function(t,e,a){e=e||"G";try{return k(e)?function(t,e,a){var i,r=e.length>1?parseInt(e.substring(1,e.length),10):void 0,l=a.numberFormat,o=e.charAt(0),c=Math.abs(t);switch(o){case"e":case"E":void 0===r&&(r=6),i=A(t,e="0."+s.repeat("0",r)+o+"+000",a);break;case"f":case"F":i=D(i=void 0!==r?t.toFixed(r):t.toFixed(l.decimals),l);break;case"g":case"G":if(0===c||1e-4<=c&&c<1e15)i=void 0!==r?t.toPrecision(r):t.toString();else{if("number"!=typeof t)return String(t);i=(i=void 0!==r?t.toExponential(r):t.toExponential()).replace("e","E")}i=D(i,l);break;case"r":case"R":i=D(i=t.toString(),l);break;case"x":case"X":if(i=t.toString(16),"X"===o&&(i=i.toUpperCase()),void 0!==r){var u=i.length,h=t<0;h&&u--;var d=r-u,f=void 0;d>0&&(f=s.repeat("0",d)),i=h?"-"+f+i.substring(1):f+i}i=D(i,l);break;default:i=n.Globalize.format(t,e,a)}return i}(t,e,a):A(t,e,a)}catch(e){return n.Globalize.format(t,void 0,a)}},e.formatWithCustomOverride=function(t,e,a,i){return A(t,e,i,a)},e.getCustomFormatMetadata=j},1847:(t,e,a)=>{"use strict";e.gx=e.r9=e.ku=e.Tf=e.G2=void 0,a(4932);var i=a(5062);e.G2=i,a(1248);var n=a(2391);e.Tf=n,a(1107);var r=a(3801);e.gx=r,a(6721),a(604),a(7925),a(7630),a(3224);var s=a(1520);e.ku=s;var l=a(3100);e.r9=l,a(5807)},1107:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},167:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ephemeralStorageService=e.EphemeralStorageService=void 0;var a=function(){function t(e){this.cache={},this.clearCacheInterval=null!=e?e:t.defaultClearCacheInterval,this.clearCache()}return t.prototype.getData=function(t){return this.cache[t]},t.prototype.setData=function(t,e){var a=this;this.cache[t]=e,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout((function(){return a.clearCache()}),this.clearCacheInterval))},t.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},t.defaultClearCacheInterval=864e5,t}();e.EphemeralStorageService=a,e.ephemeralStorageService=new a},1248:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stripTagDelimiters=e.deriveClsCompliantName=e.stringifyAsPrettyJSON=e.normalizeFileName=e.escapeStringForRegex=e.constructNameFromList=e.findUniqueName=e.ensureUniqueNames=e.replaceAll=e.repeat=e.getLengthDifference=e.trimWhitespace=e.trimTrailingWhitespace=e.isWhitespace=e.containsWhitespace=e.isNullOrUndefinedOrWhiteSpaceString=e.isNullOrEmpty=e.stringToArrayBuffer=e.normalizeCase=e.containsIgnoreCase=e.contains=e.startsWith=e.startsWithIgnoreCase=e.equalIgnoreCase=e.format=e.endsWith=void 0;var a=new RegExp("[<>]","g");function i(t,e){return null!=t&&-1!==t.indexOf(e)}function n(t){return t.toUpperCase()}function r(t){return null==t||0===t.length}function s(t){return r(t)||r(t.trim())}function l(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}e.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},e.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var a=t[0];if(s(a))return a;for(var i=0;i<t.length-1;i++){var n=new RegExp("\\{"+i+"\\}","gm");a=a.replace(n,t[i+1])}return a},e.equalIgnoreCase=function(t,e){return n(t)===n(e)},e.startsWithIgnoreCase=function(t,e){var a=n(e);return 0===n(t).indexOf(a)},e.startsWith=function(t,e){return 0===t.indexOf(e)},e.contains=i,e.containsIgnoreCase=function(t,e){return null!=t&&i(n(t),n(e))},e.normalizeCase=n,e.stringToArrayBuffer=function(t){if(r(t))return null;for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),i=0,n=t.length;i<n;i++)a[i]=t.charCodeAt(i);return a},e.isNullOrEmpty=r,e.isNullOrUndefinedOrWhiteSpaceString=s,e.containsWhitespace=function(t){return/\s/.test(t)},e.isWhitespace=function(t){return""===t.trim()},e.trimTrailingWhitespace=function(t){return t.replace(/\s+$/,"")},e.trimWhitespace=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},e.getLengthDifference=function(t,e){return Math.abs(t.length-e.length)},e.repeat=function(t,e){for(var a="",i=0;i<e;i++)a+=t;return a},e.replaceAll=function(t,e,a){if(!e)return t;var i=l(e);return t.replace(new RegExp(i,"gi"),a)},e.ensureUniqueNames=function(t){for(var e={},a=0,i=t;a<i.length;a++)e[i[a]]=!1;for(var n=[],r=0,s=t;r<s.length;r++){var l=s[r],o=l;if(e[o])for(var c=0;void 0!==e[o];)o=l+"."+ ++c;n.push(o),e[o]=!0}return n},e.findUniqueName=function(t,e){for(var a=0,i=e;t[i];)i=e+ ++a;return i},e.constructNameFromList=function(t,e,a){for(var i,n=[],r=0,s=0,l=t;s<l.length;s++){var o=l[s];if(r+o.length>a&&n.length>0){i=!0;break}n.push(o),r+=o.length}var c=" "+e+" ",u=n.join(c);return i&&(u+=c+"..."),u},e.escapeStringForRegex=l,e.normalizeFileName=function(t){return t.replace(/[\<\>\:"\/\\\|\?*]/g,"")},e.stringifyAsPrettyJSON=function(t){return JSON.stringify(t)},e.deriveClsCompliantName=function(t,e){var a=t.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return a.length>0?a:e},e.stripTagDelimiters=function(t){return t.replace(a,"")}},2391:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wordBreakOverflowingText=e.wordBreak=e.svgEllipsis=e.getTailoredTextOrDefault=e.getDivElementWidth=e.getSvgMeasurementProperties=e.getMeasurementProperties=e.measureSvgTextElementWidth=e.estimateSvgTextHeight=e.estimateSvgTextBaselineDelta=e.measureSvgTextHeight=e.measureSvgTextRect=e.measureSvgTextWidth=e.removeSpanElement=void 0;var i,n,r,s,l=a(2087),o=a(5807),c=a(167),u="...";function h(){if(!i){i=document.createElement("span"),document.body.appendChild(i);var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","0"),t.setAttribute("width","0"),t.setAttribute("position","absolute"),t.style.top="0px",t.style.left="0px",t.style.position="absolute",t.style.height="0px",t.style.width="0px",n=document.createElementNS("http://www.w3.org/2000/svg","text"),t.appendChild(n),document.body.appendChild(t);var e=document.createElement("canvas");r=e.getContext("2d");var a=window.getComputedStyle(n);s=a?a.fontFamily:""}}function d(t,e){return h(),r.font=(t.fontStyle||"")+" "+(t.fontVariant||"")+" "+(t.fontWeight||"")+" "+t.fontSize+" "+(t.fontFamily||s),r.measureText(e||t.text).width}function f(t,e){for(h();n.firstChild;)n.removeChild(n.firstChild);return n.setAttribute("style",null),n.style.visibility="hidden",n.style.fontFamily=t.fontFamily||s,n.style.fontVariant=t.fontVariant,n.style.fontSize=t.fontSize,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.whiteSpace=t.whiteSpace||"nowrap",n.appendChild(document.createTextNode(e||t.text)),n.getBBox()}function g(t){var a=t.fontFamily+t.fontSize,i=c.ephemeralStorageService.getData(a);if(null==i){var n={fontFamily:t.fontFamily,fontSize:t.fontSize,text:"M"};(i=e.measureSvgTextRect(n)).height>0&&c.ephemeralStorageService.setData(a,i)}return i}function m(t,e){void 0===e&&(e=!1);var a=g(t).height;return e&&(a*=.7),a}function p(t){var e=window.getComputedStyle(t);return e?{text:t.textContent,fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontVariant:e.fontVariant,whiteSpace:e.whiteSpace}:{text:t.textContent,fontFamily:"",fontSize:"0"}}function b(t,e){if(h(),0===t.text.length)return t.text;var a=d(t);if(a<e)return t.text;if(d(t,u)>=a)return t.text;for(var i=l.prototype.inherit(t),n=i.text=u+i.text,r=1,s=n.length,o=3;r<=s;)if(o=(r+s)/2|0,i.text=n.substring(0,o),e>(a=d(i)))r=o+1;else{if(!(e<a))break;s=o-1}return i.text=n.substring(0,o),(a=d(i))>e&&o--,t.text.substring(0,o-3)+u}e.removeSpanElement=function(){i&&i.remove&&i.remove(),i=null},e.measureSvgTextWidth=d,e.measureSvgTextRect=f,e.measureSvgTextHeight=function(t,e){return f(t,e).height},e.estimateSvgTextBaselineDelta=function(t){var e=g(t);return e.y+e.height},e.estimateSvgTextHeight=m,e.measureSvgTextElementWidth=function(t){return d(p(t))},e.getMeasurementProperties=function(t){var e=window.getComputedStyle(t);return{text:t.value||t.textContent,fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontVariant:e.fontVariant,whiteSpace:e.whiteSpace}},e.getSvgMeasurementProperties=p,e.getDivElementWidth=function(t){var e=window.getComputedStyle(t);return e?e.width:"0"},e.getTailoredTextOrDefault=b,e.svgEllipsis=function(t,e){var a=p(t),i=a.text,n=b(a,e);i!==n&&(t.textContent=n)},e.wordBreak=function(t,e,a,i){void 0===i&&(i=0);var n=p(t),r=m(n)+i,s=Math.max(1,Math.floor(a/r)),l=t?t.getAttribute("y"):null,c=t?t.textContent:null;t.textContent=null;for(var u=o.splitByWidth(c,n,d,e,s),h=document.createDocumentFragment(),f=0,g=u.length;f<g;f++){var v=0===f?l:r;n.text=u[f];var y=document.createElementNS("http://www.w3.org/2000/svg","tspan");y.setAttribute("x","0"),y.setAttribute("dy",v?v.toString():null),y.appendChild(document.createTextNode(b(n,e))),h.appendChild(y)}t.appendChild(h)},e.wordBreakOverflowingText=function(t,e,a,i){void 0===i&&(i=0);var n=p(t),r=m(n)+i,s=Math.max(1,Math.floor(a/r)),c=t.textContent;t.textContent=null;for(var u=o.splitByWidth(c,n,d,e,s),h=document.createDocumentFragment(),f=0;f<u.length;f++){var g=document.createElement("span");g.style.overflow="hidden",g.style.whiteSpace="nowrap",g.style.textOverflow="ellipsis",g.style.display="block",g.style.width=l.pixelConverter.toString(e),g.appendChild(document.createTextNode(u[f])),g.appendChild(document.createTextNode(b(n,e))),h.appendChild(g)}t.appendChild(h)}},604:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceSpaceWithNBSP=e.removeEllipses=e.removeBreakingSpaces=void 0,e.removeBreakingSpaces=function(t){return t.toString().replace(new RegExp(" ","g"),"&nbsp")},e.removeEllipses=function(t){return t.replace(/(…)|(\.\.\.)/g,"")},e.replaceSpaceWithNBSP=function(t){if(null!=t)return t.replace(/ /g," ")}},5062:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateExactDigitsPrecision=e.getDisplayUnits=e.formatListOr=e.formatListAnd=e.getFormatStringByColumn=e.getFormatString=e.createDisplayUnitSystem=e.formatVariantMeasureValue=e.format=e.create=e.checkValueInBounds=e.createDefaultFormatter=e.setLocaleOptions=e.getFormatMetadata=e.getLocalizedString=e.DefaultDateFormat=e.DefaultNumericFormat=e.DefaultIntegerFormat=void 0;var i=a(3224),n=a(1520),r=a(1248),s=a(3100),l=a(7630),o=a(2087),c=a(9933),u=o.valueType.ValueType,h=o.valueType.PrimitiveType,d=r,f={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};e.DefaultIntegerFormat="g",e.DefaultNumericFormat="#,0.00",e.DefaultDateFormat="d";var g={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};e.getLocalizedString=function(t){return g[t]};var m={nullValue:g.NullValue,trueValue:g.BooleanTrue,falseValue:g.BooleanFalse,NaN:g.NaNValue,infinity:g.InfinityValue,negativeInfinity:g.NegativeInfinityValue,beautify:function(t){return function(t){var e=f[t];return e&&g[e]||t}(t)},describe:function(t){return function(t){var e=-1===t?"Auto":t.toString(),a=g["DisplayUnitSystem_E"+e+"_Title"],i=t<=0?"{0}":g["DisplayUnitSystem_E"+e+"_LabelFormat"];if(a||i)return{title:a,format:i}}(t)},restatementComma:g.RestatementComma,restatementCompoundAnd:g.RestatementCompoundAnd,restatementCompoundOr:g.RestatementCompoundOr},p={displayName:"",type:u.fromPrimitiveTypeAndCategory(h.DateTime)};function b(t,e,a){var i=e?m.beautify(t):t;return{format:function(t){return null==t?m.nullValue:w({value:t,cultureSelector:a,format:i})}}}function v(t){if(null==t)return new i.DefaultDisplayUnitSystem(m.describe);switch(t){case n.DisplayUnitSystemType.Default:return new i.DefaultDisplayUnitSystem(m.describe);case n.DisplayUnitSystemType.WholeUnits:return new i.WholeUnitsDisplayUnitSystem(m.describe);case n.DisplayUnitSystemType.Verbose:return new i.NoDisplayUnitSystem;case n.DisplayUnitSystemType.DataLabels:return new i.DataLabelsDisplayUnitSystem(m.describe);default:return new i.DefaultDisplayUnitSystem(m.describe)}}function y(t,a,i){if(t){if(a){var n=c.dataViewObjects.getValue(t.objects,a);if(n)return n}if(!i){var r=t.type;if(r){if(r.dateTime)return e.DefaultDateFormat;if(r.integer)return r.temporal&&r.temporal.year?"0":e.DefaultIntegerFormat;if(r.numeric)return e.DefaultNumericFormat}}}}function x(t,e){var a;if(!t)return null;var i=t.length;if(i>0){a=t[0];for(var n=i-1,r=1,s=n;r<s;r++){var l=t[r];a=d.format(m.restatementComma,a,l)}i>1&&(l=t[n],a=d.format(e,a,l))}else a=null;return a}function w(t){var e=t.value,a=t.format,i=t.nullsAreBlank,n=t.cultureSelector,r=S(e,i||!1);return d.isNullOrUndefinedOrWhiteSpaceString(r)?s.formattingService.formatValue(e,a,n):r}function S(t,e){return null==t&&e?m.nullValue:!0===t?m.trueValue:!1===t?m.falseValue:"number"==typeof t&&isNaN(t)?m.NaN:t===Number.NEGATIVE_INFINITY?m.negativeInfinity:t===Number.POSITIVE_INFINITY?m.infinity:""}e.getFormatMetadata=function(t){return s.numberFormat.getCustomFormatMetadata(t)},e.setLocaleOptions=function(t){m=t,i.DefaultDisplayUnitSystem.RESET(),i.WholeUnitsDisplayUnitSystem.RESET()},e.createDefaultFormatter=b,e.checkValueInBounds=function(t,e,a,i,n){return void 0===i&&(i=e),void 0===n&&(n=a),null!=a&&(t=t<=a?t:n),null!=e&&(t=t>e?t:i),t},e.create=function(t){var e,a,i,n=t.allowFormatBeautification?m.beautify(t.format):t.format,r=t.cultureSelector;if(function(t){var e=t.value,a=t.value2,i=t.format;if(t.formatSingleValues&&i&&Math.abs(e)<1e4)if(s.numberFormat.isStandardFormat(i)){if(o.double.isInteger(e))return!1}else if(s.numberFormat.getCustomFormatMetadata(i,!0).precision<2)return!1;if("number"==typeof e||"number"==typeof a)return!0}(t)){var c=v(t.displayUnitSystemType),u=!!t.formatSingleValues;c.update(Math.max(Math.abs(t.value||0),Math.abs(t.value2||0)));var h,f=null!=t.precision;return f?h=-t.precision:c.displayUnit&&c.displayUnit.value>1&&(h=-2),{format:function(t){var e=S(t,!0);return d.isNullOrUndefinedOrWhiteSpaceString(e)?(t&&!c.isScalingUnit()&&Math.abs(t)<1e3&&!f&&(t=o.double.roundToPrecision(t)),u?c.formatSingleValue(t,n,h,f,r):c.format(t,n,h,f,r)):e},displayUnit:c.displayUnit,options:t}}if(e=t.value,a=t.value2,i=t.tickCount,e instanceof Date&&a instanceof Date&&null!=i){var g=l.DateTimeSequence.GET_INTERVAL_UNIT(t.value,t.value2,t.tickCount);return{format:function(t){if(null==t)return m.nullValue;var e=s.formattingService.dateFormatString(g);return w({value:t,cultureSelector:r,format:e})},options:t}}return b(n,!1,r)},e.format=function(t,e,a,i){return null==t?m.nullValue:w({value:t,cultureSelector:i,format:a?m.beautify(e):e})},e.formatVariantMeasureValue=function(t,e,a,i,n){return!(e&&e.type&&e.type.dateTime)&&t instanceof Date?w({value:t,nullsAreBlank:i,cultureSelector:n,format:y(p,null,!1)}):w({value:t,nullsAreBlank:i,cultureSelector:n,format:y(e,a)})},e.createDisplayUnitSystem=v,e.getFormatString=y,e.getFormatStringByColumn=function(t,a){if(t){if(t.format)return t.format;if(!a){var i=t.type;if(i){if(i.dateTime)return e.DefaultDateFormat;if(i.integer)return i.temporal&&i.temporal.year?"0":e.DefaultIntegerFormat;if(i.numeric)return e.DefaultNumericFormat}}}},e.formatListAnd=function(t){return x(t,m.restatementCompoundAnd)},e.formatListOr=function(t){return x(t,m.restatementCompoundOr)},e.getDisplayUnits=function(t){return v(t).units},e.calculateExactDigitsPrecision=function(t,e,a,i){if(!t&&0!==t)return 0;var n=e&&-1!==e.indexOf("%"),r=n?100*t:t;r=a>0?r/a:r;var s=parseInt(r).toString().length;if((n||a>0)&&s>=i)return 0;if(0===a){var l=Math.floor(s/3);l=s%3==0?l-1:l;var o=Math.pow(1e3,l);o>0&&(r/=o)}var c=(s=parseInt(r).toString().length)%i;return 0===c?0:i-c}},5807:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitByWidth=e.getMaxWordWidth=e.wordCount=e.hasBreakers=e.find=void 0;var a=/[\s\n]+/g;function i(t,e,a){if(a){for(var i=t-1;i>-1;i--)if(n(e[i]))return i+1}else{i=t;for(var r=e.length;i<r;i++)if(n(e[i]))return i}return a?0:e.length}function n(t){return a.lastIndex=0,a.test(t)}function r(t){return t.split(a)}function s(t,e,a){return e.text=t,a(e)}function l(t,e,a,i){return e.text=t,a(e,i)}e.find=function(t,e){var a={start:0,end:0};return 0===e.length||(a.start=i(t,e,!0),a.end=i(t,e,!1)),a},e.hasBreakers=n,e.wordCount=function(t){var e=1;for(a.lastIndex=0,a.exec(t);0!==a.lastIndex;)e++,a.exec(t);return e},e.getMaxWordWidth=function(t,e,a){for(var i=0,n=0,s=r(t);n<s.length;n++){var l=s[n];a.text=l,i=Math.max(i,e(a))}return i},e.splitByWidth=function(t,e,a,i,n,o){o=o||function(t,e){return t.text};for(var c=[],u=0,h=[],d=0,f=r(t);d<f.length;d++){var g=f[d];if(n>0&&c.length>=n-1)h.push(g);else{var m=0===h.length?s(g,e,a):s(" "+g,e,a);if(u+m>i){if(0===h.length){c.push(l(g,e,o,i)),u=0,h=[];continue}c.push(l(h.join(" "),e,o,i)),u=0,h=[]}h.push(g),u+=m}}return h&&h.length&&c.push(l(h.join(" "),e,o,i)),c}},9397:(t,e,a)=>{"use strict";a.r(e),a.d(e,{categoryIsAlsoSeriesRole:()=>n,getMiscellaneousTypeDescriptor:()=>o,getSeriesName:()=>r,hasImageUrlColumn:()=>c,isImageUrlColumn:()=>s,isWebUrlColumn:()=>l});var i=a(5165);function n(t,e,a){if(t.categories&&t.categories.length>0){const n=t.categories[0];return n.source&&i.hasRole(n.source,e)&&i.hasRole(n.source,a)}return!1}function r(t){return void 0!==t.groupName?t.groupName:t.queryName}function s(t){const e=o(t);return null!=e&&!0===e.imageUrl}function l(t){const e=o(t);return null!=e&&!0===e.webUrl}function o(t){return t&&t.type&&t.type.misc}function c(t){return!!(t&&t.metadata&&t.metadata.columns&&t.metadata.columns.length)&&t.metadata.columns.some((t=>!0===s(t)))}},5165:(t,e,a)=>{"use strict";function i(t,e){if(!t||!t.length)return-1;const a=t[0];if(a.values&&a.values.length>0)for(let t=0,i=a.values.length;t<i;++t){const i=a.values[t];if(i&&i.source&&r(i.source,e))return t}return-1}function n(t,e){if(t&&t.length)for(let a=0,i=t.length;a<i;a++)if(r(t[a].source,e))return a;return-1}function r(t,e){const a=t.roles;return a&&a[e]}function s(t,e){return null!=t&&null!=t.metadata&&t.metadata.columns&&t.metadata.columns.some((t=>t.roles&&void 0!==t.roles[e]))}function l(t,e){return t&&t.source&&t.source.roles&&!0===t.source.roles[e]}a.r(e),a.d(e,{getCategoryIndexOfRole:()=>n,getMeasureIndexOfRole:()=>i,hasRole:()=>r,hasRoleInDataView:()=>s,hasRoleInValueColumn:()=>l})},7963:(t,e,a)=>{"use strict";function i(t,e,a){if(!t)return a;const i=t[e];return void 0===i?a:i}function n(t,e,a){const n=i(t,e);return n&&n.solid?n.solid.color:a}a.r(e),a.d(e,{getFillColorByPropertyName:()=>n,getValue:()=>i})},8862:(t,e,a)=>{"use strict";a.r(e),a.d(e,{getCommonValue:()=>l,getFillColor:()=>s,getObject:()=>r,getValue:()=>n});var i=a(7963);function n(t,e,a){return t?i.getValue(t[e.objectName],e.propertyName,a):a}function r(t,e,a){return t&&t[e]?t[e]:a}function s(t,e,a){const i=n(t,e);return i&&i.solid?i.solid.color:a}function l(t,e,a){const i=n(t,e,a);return i&&i.solid?i.solid.color:null==i||"object"==typeof i&&!i.solid?a:i}},6573:(t,e,a)=>{"use strict";a.r(e),a.d(e,{DataViewObjectsParser:()=>n});var i=a(8862);class n{static getDefault(){return new this}static createPropertyIdentifier(t,e){return{objectName:t,propertyName:e}}static parse(t){const e=this.getDefault();if(!t||!t.metadata||!t.metadata.objects)return e;const a=e.getProperties();for(const n in a)for(const r in a[n]){const s=e[n][r];e[n][r]=i.getCommonValue(t.metadata.objects,a[n][r],s)}return e}static isPropertyEnumerable(t){return!n.InnumerablePropertyPrefix.test(t)}static enumerateObjectInstances(t,e){const a=t&&t[e.objectName];if(!a)return[];const i={objectName:e.objectName,selector:null,properties:{}};for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&(i.properties[t]=a[t]);return{instances:[i]}}getProperties(){const t={};return Object.keys(this).forEach((e=>{if(n.isPropertyEnumerable(e)){const a=Object.keys(this[e]);t[e]={},a.forEach((a=>{n.isPropertyEnumerable(e)&&(t[e][a]=n.createPropertyIdentifier(e,a))}))}})),t}}n.InnumerablePropertyPrefix=/^_/},9098:(t,e,a)=>{"use strict";function i(t=[],e,a){const i=t;return n(i),e&&(i.identityFields=e),a&&(i.source=a),i}function n(t,e){t.grouped=e?()=>e:()=>r(t)}function r(t){const e=[];let a;for(let i=0,n=t.length;i<n;i++){const n=t[i];if(!a||a.identity!==n.identity){if(a={values:[]},n.identity){a.identity=n.identity;const t=n.source;void 0!==t.groupName?a.name=t.groupName:t.displayName&&(a.name=t.displayName)}e.push(a)}a.values.push(n)}return e}a.r(e),a.d(e,{createValueColumns:()=>i,groupValues:()=>r,setGrouped:()=>n})},686:(t,e,a)=>{"use strict";function i(t){return null==t&&(t=0),{data:[{dataViewWildcard:{matchingOption:t}}]}}a.r(e),a.d(e,{createDataViewWildcardSelector:()=>i})},9933:(t,e,a)=>{"use strict";a.r(e),a.d(e,{converterHelper:()=>i,dataRoleHelper:()=>n,dataViewObject:()=>r,dataViewObjects:()=>s,dataViewObjectsParser:()=>l,dataViewTransform:()=>o,dataViewWildcard:()=>c});var i=a(9397),n=a(5165),r=a(7963),s=a(8862),l=a(6573),o=a(9098),c=a(686)},8121:(t,e,a)=>{"use strict";function i(t){return{className:t,selectorName:"."+t}}a.d(e,{tI:()=>i})},3800:(t,e,a)=>{"use strict";function i(t,e){const a=function(t){return null!==t?{left:t.left,top:t.top,width:t.width,height:t.height}:null}(t);return e&&(a.left-=e.left,a.top-=e.top,a.width+=e.left+e.right,a.height+=e.top+e.bottom),a}function n(t){return null==t||0===t.width&&0===t.height}function r(t,e){return!(!t||!e)&&(!(Math.max(t.left,e.left)>Math.min(t.left+t.width,e.left+e.width))&&Math.max(t.top,e.top)<=Math.min(t.top+t.height,e.top+e.height))}function s(t,e){if(!t)return e;if(!e)return t;const a=Math.max(t.left,e.left),i=Math.max(t.top,e.top),n=Math.min(t.left+t.width,e.left+e.width),r=Math.min(t.top+t.height,e.top+e.height);return a<=n&&i<=r?{left:a,top:i,width:n-a,height:r-i}:{left:0,top:0,width:0,height:0}}a.d(e,{Im:()=>n,UD:()=>i,qL:()=>r,y$:()=>s})},1191:(t,e,a)=>{"use strict";a.d(e,{G:()=>i});const i=500},477:(t,e,a)=>{"use strict";a.d(e,{C:()=>r});var i=a(4984),n=a(1191);function r(t,e,a=n.G){return new s({tooltipService:t,handleTouchDelay:a})}class s{constructor(t){this.visualHostTooltipService=t.tooltipService,this.handleTouchDelay=t.handleTouchDelay}addTooltip(t,e,a,n){if(!t||!this.visualHostTooltipService.enabled())return;const r=(0,i.A)(t.nodes()),s=(t,e,a,i)=>{const n=[e.clientX,e.clientY];t.call(this.visualHostTooltipService,{coordinates:n,isTouchEvent:"touch"===e.pointerType,dataItems:a,identities:i})};r.on("pointerover",((t,i)=>{const n=e(i);if(null==n)return;const r=a?[a(i)]:[];"mouse"===t.pointerType&&s(this.visualHostTooltipService.show,t,n,r),"touch"===t.pointerType&&(this.handleTouchTimeoutId=window.setTimeout((()=>{s(this.visualHostTooltipService.show,t,n,r),this.handleTouchTimeoutId=void 0}),this.handleTouchDelay))})),r.on("pointerout",(t=>{"mouse"===t.pointerType&&this.visualHostTooltipService.hide({isTouchEvent:!1,immediately:!1}),"touch"===t.pointerType&&this.cancelTouchTimeoutEvents()})),r.on("pointermove",((t,i)=>{if("mouse"===t.pointerType){let r;if(n&&(r=e(i),null==r))return;const l=a?[a(i)]:[];s(this.visualHostTooltipService.move,t,r,l)}}))}cancelTouchTimeoutEvents(){this.handleTouchTimeoutId&&clearTimeout(this.handleTouchTimeoutId)}hide(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})}}},5442:(t,e,a)=>{"use strict";a.r(e),a.d(e,{DEFAULT_PRECISION:()=>o,DEFAULT_PRECISION_IN_DECIMAL_DIGITS:()=>c,EPSILON:()=>l,LOG_E_10:()=>u,MAX_EXP:()=>s,MAX_VALUE:()=>n,MIN_EXP:()=>r,MIN_VALUE:()=>i,NEGATIVE_POWERS:()=>d,POSITIVE_POWERS:()=>h,ceilToPrecision:()=>k,ceilWithPrecision:()=>S,detectPrecision:()=>L,ensureInRange:()=>V,equalWithPrecision:()=>p,floorToPrecision:()=>_,floorWithPrecision:()=>w,getPrecision:()=>m,greaterOrEqualWithPrecision:()=>x,greaterWithPrecision:()=>y,isInteger:()=>z,lessOrEqualWithPrecision:()=>v,lessWithPrecision:()=>b,log10:()=>g,pow10:()=>f,project:()=>T,removeDecimalNoise:()=>M,round:()=>j,roundToPrecision:()=>A,toIncrement:()=>N});const i=-Number.MAX_VALUE,n=Number.MAX_VALUE,r=-308,s=308,l=1e-323,o=1e-4,c=12,u=Math.log(10),h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],d=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function f(t){return t>=0?t<h.length?h[t]:1/0:(t=-t)>0&&t<d.length?d[t]:0}function g(t){return t>1&&t<1e16?t<1e8?t<1e4?t<100?t<10?0:1:t<1e3?2:3:t<1e6?t<1e5?4:5:t<1e7?6:7:t<1e12?t<1e10?t<1e9?8:9:t<1e11?10:11:t<1e14?t<1e13?12:13:t<1e15?14:15:t>1e-16&&t<1?t<1e-8?t<1e-12?t<1e-14?t<1e-15?-16:-15:t<1e-13?-14:-13:t<1e-10?t<1e-11?-12:-11:t<1e-9?-10:-9:t<1e-4?t<1e-6?t<1e-7?-8:-7:t<1e-5?-6:-5:t<.01?t<.001?-4:-3:t<.1?-2:-1:w(Math.log(t)/u)}function m(t,e){if(void 0===e&&(e=c),!t||!isFinite(t))return;const a=g(Math.abs(t));return a<r?0:f(Math.max(a-e,1-d.length))}function p(t,e,a){return a=L(a,t,e),t===e||Math.abs(t-e)<a}function b(t,e,a){return a=L(a,t,e),t<e&&Math.abs(t-e)>a}function v(t,e,a){return a=L(a,t,e),t<e||Math.abs(t-e)<a}function y(t,e,a){return a=L(a,t,e),t>e&&Math.abs(t-e)>a}function x(t,e,a){return a=L(a,t,e),t>e||Math.abs(t-e)<a}function w(t,e){e=null!=e?e:o;const a=Math.round(t);return Math.abs(t-a)<e?a:Math.floor(t)}function S(t,e){e=L(e,o);const a=Math.round(t);return Math.abs(t-a)<e?a:Math.ceil(t)}function _(t,e){return 0===(e=L(e,o))||0===t?t:Math.floor(t/e)*e}function k(t,e){return 0===(e=L(e,o))||0===t?t:Math.ceil(t/e)*e}function A(t,e){if(0===(e=L(e,o))||0===t)return t;let a=Math.round(t/e)*e;const i=Math.round(g(Math.abs(t))-g(e))+1;return i>0&&i<16&&(a=parseFloat(a.toPrecision(i))),a}function V(t,e,a){return null==t?t:t<e?e:t>a?a:t}function j(t){return.5+t|0}function T(t,e,a,i,n){return 0===a||0===n?e<=t&&t<=e+a?i:NaN:i+(t-e)/a*n}function M(t){return A(t,m(t))}function z(t){return null!==t&&t%1==0}function N(t,e){return Math.round(t/e)*e}function L(t,e,a){if(void 0!==t)return t;let i;return i=m(a?e?Math.min(Math.abs(e),Math.abs(a)):a:e),i||o}},4341:(t,e,a)=>{"use strict";function i(t,e){const a=[];for(let i=t.length-1;i>=0;--i)-1!==e.indexOf(t[i])&&a.push(t[i]);return a}function n(t,e){const a=[];for(let i=t.length-1;i>=0;--i){const n=t[i];-1===e.indexOf(n)&&a.push(n)}return a}function r(t){const e=[];for(let a=0,i=t.length;a<i;a++){const i=t[a];-1===e.indexOf(i)&&e.push(i)}return e}function s(t,e){for(let a=0,i=e.length;a<i;++a)l(t,e[a])}function l(t,e){t.indexOf(e)<0&&t.push(e)}function o(t,e,a){const i=[];for(let n=e;n<=a;++n)i.push(t[n]);return i}function c(t,e){const a=[];for(let i=0;i<e;++i)a.push(t[i]);return a}function u(t){return c(t,t.length)}function h(t,e,a){if(t||(t=null),e||(e=null),t===e)return!0;if(!!t!=!!e)return!1;const i=t.length;if(i!==e.length)return!1;let n=0;for(;n<i&&a(t[n],e[n]);)++n;return n===i}function d(t){return t&&0===t.length?null:t}function f(t,e){for(let a=0,i=t.length;a<i;++a)if(e(t[a]))return a;return-1}function g(t,e){if(0===e)return t.slice();const a=t.slice(e);return Array.prototype.push.apply(a,t.slice(0,e)),a}function m(){return p([])}function p(t){const e=t;return e.withId=v,e}function b(t,e){for(let a=0,i=t.length;a<i;a++){const i=t[a];if(i.id===e)return i}}function v(t){return b(this,t)}function y(){return x([])}function x(t){const e=t;return e.withName=A,e}function w(t,e){const a=S(t,e);if(a>=0)return t[a]}function S(t,e){for(let a=0,i=t.length;a<i;a++)if(t[a].name===e)return a;return-1}function _(t,e){for(let a=t.length-1;a>=0;a--){const i=t[a]-e;if(0===i)return!1;if(!(i>0))return t.splice(a+1,0,e),!0}return t.unshift(e),!0}function k(t,e){const a=t.indexOf(e);return!(a<0||(t.splice(a,1),0))}function A(t){return w(this,t)}function V(t){if(t)for(;t.length>0;)t.pop()}function j(t){return!t||0===t.length}function T(t,e,a){const i=t[e];t[e]=t[a],t[a]=i}function M(t,e,a){return t.some((t=>a(t,e)))}function z(t){let e=t;for(;null!=e;){if(Array.isArray(e))return!0;e=Object.getPrototypeOf(e)}return!1}function N(t,e){const a=t.length;if(a>=2)for(let i=1;i<a;i++)if(e(t[i-1],t[i])>0)return!1;return!0}function L(t,e){return N(t,e?(t,e)=>e-t:(t,e)=>t-e)}function D(t){return Array.isArray(t)?t:[t]}a.r(e),a.d(e,{clear:()=>V,copy:()=>u,createWithId:()=>m,createWithName:()=>y,diff:()=>n,distinct:()=>r,emptyToNull:()=>d,ensureArray:()=>D,extendWithId:()=>p,extendWithName:()=>x,findItemWithName:()=>w,findWithId:()=>b,indexOf:()=>f,indexWithName:()=>S,insertSorted:()=>_,intersect:()=>i,isArrayOrInheritedArray:()=>z,isInArray:()=>M,isSorted:()=>N,isSortedNumeric:()=>L,isUndefinedOrEmpty:()=>j,range:()=>o,removeFirst:()=>k,rotate:()=>g,sequenceEqual:()=>h,swap:()=>T,take:()=>c,union:()=>s,unionSingle:()=>l})},2879:(t,e,a)=>{"use strict";a.r(e),a.d(e,{getBitCount:()=>o,hasFlag:()=>n,resetFlag:()=>s,setFlag:()=>r,toString:()=>l});var i=a(5442);function n(t,e){return(t&e)===e}function r(t,e){return t|e}function s(t,e){return t&~e}function l(t,e){return t[e]}function o(t){if(!(0,i.isInteger)(t))return 0;let e=0,a=t;for(;0!==a;)1&~a||e++,a>>>=1;return e}},4298:(t,e,a)=>{"use strict";function i(t,e){return(t||e)&&!(t&&e)}a.r(e),a.d(e,{XOR:()=>i})},3051:(t,e,a)=>{"use strict";function i(t,e,a){return t.lastIndex=a||0,t.exec(e)}a.r(e),a.d(e,{run:()=>i})},539:(t,e,a)=>{"use strict";function i(t,e){return-1!==t.indexOf(e,t.length-e.length)}a.r(e),a.d(e,{endsWith:()=>i})},2087:(t,e,a)=>{"use strict";a.r(e),a.d(e,{arrayExtensions:()=>i,double:()=>u,enumExtensions:()=>n,jsonComparer:()=>h,logicExtensions:()=>r,numericSequence:()=>o,numericSequenceRange:()=>c,pixelConverter:()=>d,prototype:()=>f,regExpExtensions:()=>s,stringExtensions:()=>l,textSizeDefaults:()=>g,valueType:()=>m});var i=a(4341),n=a(2879),r=a(4298),s=a(3051),l=a(539),o=a(372),c=a(67),u=a(5442),h=a(5038),d=a(5079),f=a(421),g=a(5939),m=a(4182)},5038:(t,e,a)=>{"use strict";function i(t,e){return t===e||JSON.stringify(t)===JSON.stringify(e)}a.r(e),a.d(e,{equals:()=>i})},372:(t,e,a)=>{"use strict";a.r(e),a.d(e,{NumericSequence:()=>r});var i=a(5442),n=a(67);class r{static calculate(t,e,a,s,l,o){const c=new r;if(e=void 0===e?10:i.ensureInRange(e,r.MIN_COUNT,r.MAX_COUNT),void 0===s&&(s=i.MIN_EXP),void 0===l&&(l=!1),void 0===a&&(a=1),void 0===o&&(o=[1,2,5]),t.forcedSingleStop)return c.interval=t.getSize(),c.intervalOffset=c.interval-(t.forcedSingleStop-t.min),c.min=t.min,c.max=t.max,c.sequence=[t.forcedSingleStop],c;let u=0,h=0,d=9;const f=a>0&&!t.hasFixedMin,g=a>0&&!t.hasFixedMax,m=t.getSize();let p=i.log10(m);const b=i.log10(o[0]);let v;if(p-=b,p-=i.log10(e),p=Math.max(p,s-b+1),0!==u){const e=i.pow10(p),a=i.floorToPrecision(t.min,e),r=i.ceilToPrecision(t.max,e),s=n.NumericSequenceRange.calculateFixedRange(a,r);s.shrinkByStep(t,u),h=s.min,d=s.max,v=Math.floor(s.getSize()/u)}else{let r;for(r=0;r<3;r++){const s=p+r,c=i.pow10(s),m=i.floorToPrecision(t.min,c),b=i.ceilToPrecision(t.max,c),y=o.length,x=i.pow10(s-1);for(let s=0;s<y;s++){const c=o[s]*x,p=n.NumericSequenceRange.calculateFixedRange(m,b,l);if(p.shrinkByStep(t,c),f&&t.min===p.min&&a>=1&&(p.min-=c),g&&t.max===p.max&&a>=1&&(p.max+=c),v=i.ceilWithPrecision(p.getSize()/c,i.DEFAULT_PRECISION),v<=e||2===r&&s===y-1||1===e&&2===v&&(c>t.getSize()||t.min<0&&t.max>0&&2*c>=t.getSize())){u=c,h=p.min,d=p.max;break}}if(0!==u)break}}(v>32*e||v>r.MAX_COUNT)&&(v=Math.min(32*e,r.MAX_COUNT),u=(d-h)/v),c.min=h,c.max=d,c.interval=u,c.intervalOffset=h-t.min,c.maxAllowedMargin=a,c.canExtendMin=f,c.canExtendMax=g;const y=i.getPrecision(u,0);c.precision=y;const x=[];let w=i.roundToPrecision(h,y);x.push(w);for(let t=0;t<v;t++)w=i.roundToPrecision(w+u,y),x.push(w);return c.sequence=x,c.trimMinMax(t.min,t.max),c}static calculateUnits(t,e,a,n){a=i.ensureInRange(a,r.MIN_COUNT,r.MAX_COUNT),t===e&&(e=t+1);let s=0,l=0;for(let r=0;r<n.length&&(l=n[r],s=i.ceilWithPrecision(e/l)-i.floorWithPrecision(t/l),!(s<=a));r++);let o=-t;o%=l;const c=new r;c.sequence=[];for(let a=t+o;c.sequence.push(a),!(a>=e);a+=l);return c.interval=l,c.intervalOffset=o,c.min=c.sequence[0],c.max=c.sequence[c.sequence.length-1],c}trimMinMax(t,e){const a=(t-this.min)/this.interval,i=(this.max-e)/this.interval;(!this.canExtendMin||a>this.maxAllowedMargin&&a>.001)&&(this.min=t),(!this.canExtendMax||i>this.maxAllowedMargin&&i>.001)&&(this.max=e)}}r.MIN_COUNT=1,r.MAX_COUNT=1e3},67:(t,e,a)=>{"use strict";a.r(e),a.d(e,{NumericSequenceRange:()=>n,hasValue:()=>r});var i=a(5442);class n{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){const t=this.min,e=i.log10(Math.abs(t));let a;e>=0&&e<4?(a=.5,this.forcedSingleStop=t):(a=i.pow10(e)/2,this.forcedSingleStop=null),this.min=t-a,this.max=t+a}else this.min=0,this.max=n.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){const t=this.min;this.min=this.max,this.max=t}}getSize(){return this.max-this.min}shrinkByStep(t,e){let a=this.min/e,i=t.min/e,n=Math.floor(i-a);this.min+=n*e,a=this.max/e,i=t.max/e,n=Math.ceil(i-a),this.max+=n*e}static calculate(t,e,a,s,l){const o=new n;return o.includeZero=!!l,o.hasDataRange=r(t)&&r(e),o.hasFixedMin=r(a),o.hasFixedMax=r(s),t=i.ensureInRange(t,n.MIN_SUPPORTED_DOUBLE,n.MAX_SUPPORTED_DOUBLE),e=i.ensureInRange(e,n.MIN_SUPPORTED_DOUBLE,n.MAX_SUPPORTED_DOUBLE),o.hasFixedMin&&o.hasFixedMax?(o.min=a,o.max=s):o.hasFixedMin?(o.min=a,o.max=e>a?e:a):o.hasFixedMax?(o.min=t<s?t:s,o.max=s):o.hasDataRange?(o.min=t,o.max=e):(o.min=0,o.max=0),o._ensureIncludeZero(),o._ensureNotEmpty(),o._ensureDirection(),0===o.min?o.hasFixedMin=!0:0===o.max&&(o.hasFixedMax=!0),o}static calculateDataRange(t,e,a){return r(t)&&r(e)?n.calculate(t,e,null,null,a):n.calculateFixedRange(0,n.DEFAULT_MAX)}static calculateFixedRange(t,e,a){const i=new n;return i.hasDataRange=!1,i.includeZero=a,i.min=t,i.max=e,i._ensureIncludeZero(),i._ensureNotEmpty(),i._ensureDirection(),i.hasFixedMin=!0,i.hasFixedMax=!0,i}}function r(t){return null!=t}n.DEFAULT_MAX=10,n.MIN_SUPPORTED_DOUBLE=-1e307,n.MAX_SUPPORTED_DOUBLE=1e307},5079:(t,e,a)=>{"use strict";a.r(e),a.d(e,{fromPoint:()=>s,fromPointToPixel:()=>l,toPoint:()=>o,toString:()=>r});const i=4/3,n="px";function r(t){return t+n}function s(t){return r(l(t))}function l(t){return i*t}function o(t){return t/i}},421:(t,e,a)=>{"use strict";function i(t,e){function a(){}a.prototype=t;const i=new a;return e&&e(i),i}function n(t){const e=Object.getPrototypeOf(t);return e!==Object.prototype&&e!==Array.prototype||(t=i(t)),t}function r(t,e){if(!t)return;let a;for(let n=0,r=t.length;n<r;n++){const r=e(t[n]);r&&(a||(a=i(t)),a[n]=r)}return a}a.r(e),a.d(e,{inherit:()=>i,inheritSingle:()=>n,overrideArray:()=>r})},5939:(t,e,a)=>{"use strict";a.r(e),a.d(e,{TextSizeMax:()=>n,TextSizeMin:()=>i,getScale:()=>s});const i=8,n=40,r=n-i;function s(t){return(t-i)/r}},4182:(t,e,a)=>{"use strict";a.r(e),a.d(e,{ExtendedType:()=>r,FormattingType:()=>g,GeographyType:()=>d,MiscellaneousType:()=>f,PrimitiveType:()=>i,ScriptType:()=>u,TemporalType:()=>h,ValueType:()=>c});var i,n,r,s,l=a(2879),o=a(5038);class c{constructor(t,e,a,i){this.underlyingType=t,this.category=e,l.hasFlag(t,r.Temporal)&&(this.temporalType=new h(t)),l.hasFlag(t,r.Geography)&&(this.geographyType=new d(t)),l.hasFlag(t,r.Miscellaneous)&&(this.miscType=new f(t)),l.hasFlag(t,r.Formatting)&&(this.formattingType=new g(t)),l.hasFlag(t,r.Enumeration)&&(this.enumType=a),l.hasFlag(t,r.Scripting)&&(this.scriptingType=new u(t)),l.hasFlag(t,r.Variant)&&(this.variationTypes=i)}static fromDescriptor(t){if((t=t||{}).text)return c.fromExtendedType(r.Text);if(t.integer)return c.fromExtendedType(r.Integer);if(t.numeric)return c.fromExtendedType(r.Double);if(t.bool)return c.fromExtendedType(r.Boolean);if(t.dateTime)return c.fromExtendedType(r.DateTime);if(t.duration)return c.fromExtendedType(r.Duration);if(t.binary)return c.fromExtendedType(r.Binary);if(t.none)return c.fromExtendedType(r.None);if(t.scripting&&t.scripting.source)return c.fromExtendedType(r.ScriptSource);if(t.enumeration)return c.fromEnum(t.enumeration);if(t.temporal){if(t.temporal.year)return c.fromExtendedType(r.Years_Integer);if(t.temporal.quarter)return c.fromExtendedType(r.Quarters_Integer);if(t.temporal.month)return c.fromExtendedType(r.Months_Integer);if(t.temporal.day)return c.fromExtendedType(r.DayOfMonth_Integer);if(t.temporal.paddedDateTableDate)return c.fromExtendedType(r.PaddedDateTableDates)}if(t.geography){if(t.geography.address)return c.fromExtendedType(r.Address);if(t.geography.city)return c.fromExtendedType(r.City);if(t.geography.continent)return c.fromExtendedType(r.Continent);if(t.geography.country)return c.fromExtendedType(r.Country);if(t.geography.county)return c.fromExtendedType(r.County);if(t.geography.region)return c.fromExtendedType(r.Region);if(t.geography.postalCode)return c.fromExtendedType(r.PostalCode_Text);if(t.geography.stateOrProvince)return c.fromExtendedType(r.StateOrProvince);if(t.geography.place)return c.fromExtendedType(r.Place);if(t.geography.latitude)return c.fromExtendedType(r.Latitude_Double);if(t.geography.longitude)return c.fromExtendedType(r.Longitude_Double)}if(t.misc){if(t.misc.image)return c.fromExtendedType(r.Image);if(t.misc.imageUrl)return c.fromExtendedType(r.ImageUrl);if(t.misc.webUrl)return c.fromExtendedType(r.WebUrl);if(t.misc.barcode)return c.fromExtendedType(r.Barcode_Text)}if(t.formatting){if(t.formatting.color)return c.fromExtendedType(r.Color);if(t.formatting.formatString)return c.fromExtendedType(r.FormatString);if(t.formatting.alignment)return c.fromExtendedType(r.Alignment);if(t.formatting.labelDisplayUnits)return c.fromExtendedType(r.LabelDisplayUnits);if(t.formatting.fontSize)return c.fromExtendedType(r.FontSize);if(t.formatting.labelDensity)return c.fromExtendedType(r.LabelDensity)}if(t.extendedType)return c.fromExtendedType(t.extendedType);if(t.operations&&t.operations.searchEnabled)return c.fromExtendedType(r.SearchEnabled);if(t.variant){const e=t.variant.map((t=>c.fromDescriptor(t)));return c.fromVariant(e)}return c.fromExtendedType(r.Null)}static fromExtendedType(t){const e=v(t=t||r.Null),a=function(t){if(function(t){return(t&p)===t}(t))return null;let e=s[t];if(e){const t=e.lastIndexOf("_");if(t>0){const a=e.slice(0,t);s[a]&&(e=a)}}return e||null}(t);return c.fromPrimitiveTypeAndCategory(e,a)}static fromPrimitiveTypeAndCategory(t,e){e=e||null;let a=(t=t||i.Null).toString();return e&&(a+="|"+e),c.typeCache[a]||(c.typeCache[a]=new c(function(t,e){const a=n[t];let l=s[a];if(null==l&&(l=r.Null),t&&e){let a=s[e];if(a){const e=v(a);e===i.Null?(a|=l,s[a]&&(l=a)):e===t&&(l=a)}}return l}(t,e),e))}static fromEnum(t){return new c(r.Enumeration,null,t)}static fromVariant(t){return new c(r.Variant,null,null,t)}static isCompatibleTo(t,e){const a=c.fromDescriptor(t);for(const t of e)if(c.fromDescriptor(t).isCompatibleFrom(a))return!0;return!1}isCompatibleFrom(t){const e=t.primitiveType;return!!(this===t||this.primitiveType===e||e===i.Null||this.numeric&&t.numeric)}equals(t){return(0,o.equals)(this,t)}get primitiveType(){return v(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return this.primitiveType===i.Text}get numeric(){return l.hasFlag(this.underlyingType,r.Numeric)}get integer(){return this.primitiveType===i.Integer}get bool(){return this.primitiveType===i.Boolean}get dateTime(){return this.primitiveType===i.DateTime||this.primitiveType===i.Date||this.primitiveType===i.Time}get duration(){return this.primitiveType===i.Duration}get binary(){return this.primitiveType===i.Binary}get none(){return this.primitiveType===i.None}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enumeration(){return this.enumType}get scripting(){return this.scriptingType}get variant(){return this.variationTypes}}c.typeCache={};class u{constructor(t){this.underlyingType=t}get source(){return y(this.underlyingType,r.ScriptSource)}}class h{constructor(t){this.underlyingType=t}get year(){return y(this.underlyingType,r.Years)}get quarter(){return y(this.underlyingType,r.Quarters)}get month(){return y(this.underlyingType,r.Months)}get day(){return y(this.underlyingType,r.DayOfMonth)}get paddedDateTableDate(){return y(this.underlyingType,r.PaddedDateTableDates)}}class d{constructor(t){this.underlyingType=t}get address(){return y(this.underlyingType,r.Address)}get city(){return y(this.underlyingType,r.City)}get continent(){return y(this.underlyingType,r.Continent)}get country(){return y(this.underlyingType,r.Country)}get county(){return y(this.underlyingType,r.County)}get region(){return y(this.underlyingType,r.Region)}get postalCode(){return y(this.underlyingType,r.PostalCode)}get stateOrProvince(){return y(this.underlyingType,r.StateOrProvince)}get place(){return y(this.underlyingType,r.Place)}get latitude(){return y(this.underlyingType,r.Latitude)}get longitude(){return y(this.underlyingType,r.Longitude)}}class f{constructor(t){this.underlyingType=t}get image(){return y(this.underlyingType,r.Image)}get imageUrl(){return y(this.underlyingType,r.ImageUrl)}get webUrl(){return y(this.underlyingType,r.WebUrl)}get barcode(){return y(this.underlyingType,r.Barcode)}}class g{constructor(t){this.underlyingType=t}get color(){return y(this.underlyingType,r.Color)}get formatString(){return y(this.underlyingType,r.FormatString)}get alignment(){return y(this.underlyingType,r.Alignment)}get labelDisplayUnits(){return y(this.underlyingType,r.LabelDisplayUnits)}get fontSize(){return y(this.underlyingType,r.FontSize)}get labelDensity(){return y(this.underlyingType,r.LabelDensity)}}!function(t){t[t.Null=0]="Null",t[t.Text=1]="Text",t[t.Decimal=2]="Decimal",t[t.Double=3]="Double",t[t.Integer=4]="Integer",t[t.Boolean=5]="Boolean",t[t.Date=6]="Date",t[t.DateTime=7]="DateTime",t[t.DateTimeZone=8]="DateTimeZone",t[t.Time=9]="Time",t[t.Duration=10]="Duration",t[t.Binary=11]="Binary",t[t.None=12]="None",t[t.Variant=13]="Variant"}(i||(i={})),function(t){t[t.Null=0]="Null",t[t.Text=1]="Text",t[t.Decimal=2]="Decimal",t[t.Double=3]="Double",t[t.Integer=4]="Integer",t[t.Boolean=5]="Boolean",t[t.Date=6]="Date",t[t.DateTime=7]="DateTime",t[t.DateTimeZone=8]="DateTimeZone",t[t.Time=9]="Time",t[t.Duration=10]="Duration",t[t.Binary=11]="Binary",t[t.None=12]="None",t[t.Variant=13]="Variant"}(n||(n={})),function(t){t[t.Numeric=256]="Numeric",t[t.Temporal=512]="Temporal",t[t.Geography=1024]="Geography",t[t.Miscellaneous=2048]="Miscellaneous",t[t.Formatting=4096]="Formatting",t[t.Scripting=8192]="Scripting",t[t.Null=0]="Null",t[t.Text=1]="Text",t[t.Decimal=258]="Decimal",t[t.Double=259]="Double",t[t.Integer=260]="Integer",t[t.Boolean=5]="Boolean",t[t.Date=518]="Date",t[t.DateTime=519]="DateTime",t[t.DateTimeZone=520]="DateTimeZone",t[t.Time=521]="Time",t[t.Duration=10]="Duration",t[t.Binary=11]="Binary",t[t.None=12]="None",t[t.Variant=13]="Variant",t[t.Years=66048]="Years",t[t.Years_Text=66049]="Years_Text",t[t.Years_Integer=66308]="Years_Integer",t[t.Years_Date=66054]="Years_Date",t[t.Years_DateTime=66055]="Years_DateTime",t[t.Months=131584]="Months",t[t.Months_Text=131585]="Months_Text",t[t.Months_Integer=131844]="Months_Integer",t[t.Months_Date=131590]="Months_Date",t[t.Months_DateTime=131591]="Months_DateTime",t[t.PaddedDateTableDates=197127]="PaddedDateTableDates",t[t.Quarters=262656]="Quarters",t[t.Quarters_Text=262657]="Quarters_Text",t[t.Quarters_Integer=262916]="Quarters_Integer",t[t.Quarters_Date=262662]="Quarters_Date",t[t.Quarters_DateTime=262663]="Quarters_DateTime",t[t.DayOfMonth=328192]="DayOfMonth",t[t.DayOfMonth_Text=328193]="DayOfMonth_Text",t[t.DayOfMonth_Integer=328452]="DayOfMonth_Integer",t[t.DayOfMonth_Date=328198]="DayOfMonth_Date",t[t.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",t[t.Address=6554625]="Address",t[t.City=6620161]="City",t[t.Continent=6685697]="Continent",t[t.Country=6751233]="Country",t[t.County=6816769]="County",t[t.Region=6882305]="Region",t[t.PostalCode=6947840]="PostalCode",t[t.PostalCode_Text=6947841]="PostalCode_Text",t[t.PostalCode_Integer=6948100]="PostalCode_Integer",t[t.StateOrProvince=7013377]="StateOrProvince",t[t.Place=7078913]="Place",t[t.Latitude=7144448]="Latitude",t[t.Latitude_Decimal=7144706]="Latitude_Decimal",t[t.Latitude_Double=7144707]="Latitude_Double",t[t.Longitude=7209984]="Longitude",t[t.Longitude_Decimal=7210242]="Longitude_Decimal",t[t.Longitude_Double=7210243]="Longitude_Double",t[t.Image=13109259]="Image",t[t.ImageUrl=13174785]="ImageUrl",t[t.WebUrl=13240321]="WebUrl",t[t.Barcode=13305856]="Barcode",t[t.Barcode_Text=13305857]="Barcode_Text",t[t.Barcode_Integer=13306116]="Barcode_Integer",t[t.Color=19664897]="Color",t[t.FormatString=19730433]="FormatString",t[t.Alignment=20058113]="Alignment",t[t.LabelDisplayUnits=20123649]="LabelDisplayUnits",t[t.FontSize=20189443]="FontSize",t[t.LabelDensity=20254979]="LabelDensity",t[t.Enumeration=26214401]="Enumeration",t[t.ScriptSource=32776193]="ScriptSource",t[t.SearchEnabled=65541]="SearchEnabled"}(r||(r={})),function(t){t[t.Numeric=256]="Numeric",t[t.Temporal=512]="Temporal",t[t.Geography=1024]="Geography",t[t.Miscellaneous=2048]="Miscellaneous",t[t.Formatting=4096]="Formatting",t[t.Scripting=8192]="Scripting",t[t.Null=0]="Null",t[t.Text=1]="Text",t[t.Decimal=258]="Decimal",t[t.Double=259]="Double",t[t.Integer=260]="Integer",t[t.Boolean=5]="Boolean",t[t.Date=518]="Date",t[t.DateTime=519]="DateTime",t[t.DateTimeZone=520]="DateTimeZone",t[t.Time=521]="Time",t[t.Duration=10]="Duration",t[t.Binary=11]="Binary",t[t.None=12]="None",t[t.Variant=13]="Variant",t[t.Years=66048]="Years",t[t.Years_Text=66049]="Years_Text",t[t.Years_Integer=66308]="Years_Integer",t[t.Years_Date=66054]="Years_Date",t[t.Years_DateTime=66055]="Years_DateTime",t[t.Months=131584]="Months",t[t.Months_Text=131585]="Months_Text",t[t.Months_Integer=131844]="Months_Integer",t[t.Months_Date=131590]="Months_Date",t[t.Months_DateTime=131591]="Months_DateTime",t[t.PaddedDateTableDates=197127]="PaddedDateTableDates",t[t.Quarters=262656]="Quarters",t[t.Quarters_Text=262657]="Quarters_Text",t[t.Quarters_Integer=262916]="Quarters_Integer",t[t.Quarters_Date=262662]="Quarters_Date",t[t.Quarters_DateTime=262663]="Quarters_DateTime",t[t.DayOfMonth=328192]="DayOfMonth",t[t.DayOfMonth_Text=328193]="DayOfMonth_Text",t[t.DayOfMonth_Integer=328452]="DayOfMonth_Integer",t[t.DayOfMonth_Date=328198]="DayOfMonth_Date",t[t.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",t[t.Address=6554625]="Address",t[t.City=6620161]="City",t[t.Continent=6685697]="Continent",t[t.Country=6751233]="Country",t[t.County=6816769]="County",t[t.Region=6882305]="Region",t[t.PostalCode=6947840]="PostalCode",t[t.PostalCode_Text=6947841]="PostalCode_Text",t[t.PostalCode_Integer=6948100]="PostalCode_Integer",t[t.StateOrProvince=7013377]="StateOrProvince",t[t.Place=7078913]="Place",t[t.Latitude=7144448]="Latitude",t[t.Latitude_Decimal=7144706]="Latitude_Decimal",t[t.Latitude_Double=7144707]="Latitude_Double",t[t.Longitude=7209984]="Longitude",t[t.Longitude_Decimal=7210242]="Longitude_Decimal",t[t.Longitude_Double=7210243]="Longitude_Double",t[t.Image=13109259]="Image",t[t.ImageUrl=13174785]="ImageUrl",t[t.WebUrl=13240321]="WebUrl",t[t.Barcode=13305856]="Barcode",t[t.Barcode_Text=13305857]="Barcode_Text",t[t.Barcode_Integer=13306116]="Barcode_Integer",t[t.Color=19664897]="Color",t[t.FormatString=19730433]="FormatString",t[t.Alignment=20058113]="Alignment",t[t.LabelDisplayUnits=20123649]="LabelDisplayUnits",t[t.FontSize=20189443]="FontSize",t[t.LabelDensity=20254979]="LabelDensity",t[t.Enumeration=26214401]="Enumeration",t[t.ScriptSource=32776193]="ScriptSource",t[t.SearchEnabled=65541]="SearchEnabled"}(s||(s={}));const m=255,p=65535,b=4294901760;function v(t){return t&m}function y(t,e){return(t&b)==(e&b)}},7452:t=>{var e=function(t){"use strict";var e,a=Object.prototype,i=a.hasOwnProperty,n=Object.defineProperty||function(t,e,a){t[e]=a.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,a){return t[e]=a}}function u(t,e,a,i){var r=e&&e.prototype instanceof b?e:b,s=Object.create(r.prototype),l=new z(i||[]);return n(s,"_invoke",{value:V(t,a,l)}),s}function h(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",g="executing",m="completed",p={};function b(){}function v(){}function y(){}var x={};c(x,s,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(N([])));S&&S!==a&&i.call(S,s)&&(x=S);var _=y.prototype=b.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function a(n,r,s,l){var o=h(t[n],t,r);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,s,l)}),(function(t){a("throw",t,s,l)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return a("throw",t,s,l)}))}l(o.arg)}var r;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){a(t,i,e,n)}))}return r=r?r.then(n,n):n()}})}function V(t,a,i){var n=d;return function(r,s){if(n===g)throw new Error("Generator is already running");if(n===m){if("throw"===r)throw s;return{value:e,done:!0}}for(i.method=r,i.arg=s;;){var l=i.delegate;if(l){var o=j(l,i);if(o){if(o===p)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=g;var c=h(t,a,i);if("normal"===c.type){if(n=i.done?m:f,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=m,i.method="throw",i.arg=c.arg)}}}function j(t,a){var i=a.method,n=t.iterator[i];if(n===e)return a.delegate=null,"throw"===i&&t.iterator.return&&(a.method="return",a.arg=e,j(t,a),"throw"===a.method)||"return"!==i&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var r=h(n,t.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,p;var s=r.arg;return s?s.done?(a[t.resultName]=s.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,p):s:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(null!=t){var a=t[s];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function a(){for(;++n<t.length;)if(i.call(t,n))return a.value=t[n],a.done=!1,a;return a.value=e,a.done=!0,a};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=y,n(_,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,o,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},k(A.prototype),c(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,a,i,n,r){void 0===r&&(r=Promise);var s=new A(u(e,a,i,n),r);return t.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(_),c(_,o,"Generator"),c(_,s,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),a=[];for(var i in e)a.push(i);return a.reverse(),function t(){for(;a.length;){var i=a.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=N,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(i,n){return l.type="throw",l.arg=t,a.next=i,n&&(a.method="next",a.arg=e),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],l=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var o=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(o&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),M(a),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var n=i.arg;M(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,i){return this.delegate={iterator:N(t),resultName:a,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},6570:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var i=a(3665);function n(t,e){return i.F&&e&&i.F[e]&&(i.F[e].localization[t]||i.F[e].defaultValue)}},3665:(t,e,a)=>{"use strict";a.d(e,{F:()=>i});const i={LanguageKey:{defaultValue:"English(English)",localization:{"ar-SA":"العربية (Arabic)","bg-BG":"български (Bulgarian)","ca-ES":"català (Catalan)","cs-CZ":"čeština (Czech)","da-DK":"dansk (Danish)","de-DE":"Deutsche (German)","el-GR":"ελληνικά (Greek)","en-US":"English (English)","es-ES":"español service (Spanish)","et-EE":"eesti (Estonian)","eU-ES":"Euskal (Basque)","fi-FI":"suomi (Finnish)","fr-FR":"français (French)","gl-ES":"galego (Galician)","he-IL":"עברית (Hebrew)","hi-IN":"हिन्दी (Hindi)","hr-HR":"hrvatski (Croatian)","hu-HU":"magyar (Hungarian)","id-ID":"Bahasa Indonesia (Indonesian)","it-IT":"italiano (Italian)","ja-JP":"日本の (Japanese)","kk-KZ":"Қазақ (Kazakh)","ko-KR":"한국의 (Korean)","it-LT":"Lietuvos (Lithuanian)","lv-LV":"Latvijas (Latvian)","ms-MY":"Bahasa Melayu (Malay)","nb-NO":"norsk (Norwegian)","nl-NL":"Nederlands (Dutch)","pl-PL":"polski (Polish)","pt-BR":"português (Portuguese)","pt-PT":"português (Portuguese)","ro-RO":"românesc (Romanian)","ru-RU":"русский (Russian)","sk-SK":"slovenský (Slovak)","sl-SI":"slovenski (Slovenian)","sr-Cyrl-RS":"српски (Serbian)","sr-Latn-RS":"srpski (Serbian)","sv-SE":"svenska (Swedish)","th-TH":"ไทย (Thai)","tr-TR":"Türk (Turkish)","uk-UA":"український (Ukrainian)","vi-VN":"tiếng Việt (Vietnamese)","zh-CN":"中国 (Chinese-Simplified)","zh-TW":"中國 (Chinese-Tranditional)"}}}},980:(t,e,a)=>{"use strict";a.d(e,{Mb:()=>P});var i=a(3116).P;class n{constructor(){this.rowheight=100,this.minrowheight=250,this.maxrowheight=600,this.rowthickness=2,this.rowlines="grey",this.columnthickness=2,this.columnlines="grey",this.transition=7,this.rotate=!1,this.dragrows=50,this.orientation="Normal"}}class r{constructor(){this.fontsize=16,this.fontcolor="grey",this.fontfamily="Cambria",this.background="white",this.border="silver",this.borderwidth=1,this.alignment="middle",this.showind=!1,this.showindfont=!1,this.indcolor="white",this.indcolorfont="black",this.showgrouping=!1,this.grouping="",this.groupingcolor="#ffffff",this.groupingheight=30}}class s{constructor(){this.charttype="0",this.strengthx=4,this.strengthy=4,this.showaxis=!0,this.customalphadecay=!1,this.alphadecay=2,this.bubblesize=5,this.catlabels=9,this.showlabels=!1,this.padding=2,this.numberstyle="#,0",this.fontfamily="Cambria",this.decimal=0,this.displayUnits="auto"}}class l{constructor(){this.fill="black",this.bfill="White",this.fontsize=15,this.fontfamily="Cambria",this.bold=!1,this.childindent=10,this.wrap=!1,this.alignment="start",this.indcolor="none",this.showind=!1}}class o{constructor(){this.selectline=1,this.field_desc="",this.selectaxis=1,this.calculation="2",this.parentaggregation="0",this.fill="#118DFF",this.indcolor="#118DFF",this.showind=!1,this.commonaxis=!1,this.missing="0",this.linetype="2",this.thickness=2,this.showarea=!1,this.areaopacity=2,this.showlabels=!1,this.labels="1",this.displayUnits="auto",this.decimal=0,this.fontsize=11,this.fontfamily="Cambria",this.labelfill="black",this.showrefline=!1,this.refline="1",this.condcolor=!1,this.cond_p="#7CFC00",this.cond_n="red",this.showvarfromref=!0,this.cond_p_var="#2E6F40",this.cond_n_var="red",this.fontsize_var=15,this.opacity=3,this.showmarkers=!0,this.markers="1",this.markersize="3",this.mfill="#da3f7a",this.mfillhigh="#7CFC00",this.mfilllow="#da3f7a",this.bfill="none",this.bfillhigh="black",this.bfilllow="#da3f7a",this.paddingh=5,this.paddingv=5,this.showaxis=!1}}class c{constructor(){this.selectcombo=1,this.field_desc="",this.parentaggregation="2",this.selectaxis=1,this.missing="0",this.charttype="2",this.selectline="1",this.fill="#da3f7a",this.fill2="#118DFF",this.colfill="#c5c5c5",this.colfill_neg="#c5c5c5",this.showborder=!1,this.b_fill="#118DFF",this.commonaxis=!1,this.sameaxis=!0,this.linetype="1",this.linestyle="1",this.linestyle2="2",this.thickness=2,this.thickness2=1,this.showarea=!1,this.areaopacity=2,this.showlabels=!1,this.labels="1",this.displayUnits="auto",this.fontfamily="Cambria",this.decimal=0,this.numberstyle="#,0",this.fontsize=11,this.labelfill="black",this.showlabels_col=!1,this.labels_col="1",this.displayUnits_col="auto",this.decimal_col=0,this.fontsize_col=11,this.labelfill_col="black",this.showrefline=!1,this.axislinecolor="#e6e6e6",this.axiswidth=1,this.refline="1",this.condcolor=!1,this.cond_p="#7CFC00",this.cond_n="red",this.opacity=3,this.showmarkers=!1,this.markers="1",this.markersize="3",this.mfill="#da3f7a",this.mfillhigh="#7CFC00",this.mfilllow="#da3f7a",this.bfill="none",this.bfillhigh="grey",this.bfilllow="#da3f7a",this.paddingh=4,this.paddingv=3,this.showaxis=!1,this.customhead=!1,this.linetext="",this.coltext="",this.headsize=16}}class u{constructor(){this.selectstack=1,this.field_desc="",this.parentaggregation="2",this.selectaxis=1,this.missing="0",this.charttype="2",this.selectline="1",this.fill1="#d0cfcf",this.fill2="#da3f7a",this.fill3="#118DFF",this.fill4="#EAC11E",this.fontfill1="#000000",this.fontfill2="#000000",this.fontfill3="#000000",this.fontfill4="#000000",this.stacknames="Stack1*Stack2*Stack3*Stack4",this.colfill="#c5c5c5",this.colfill_neg="#c5c5c5",this.showborder=!1,this.b_fill="#118DFF",this.commonaxis=!1,this.linetype="1",this.linestyle="1",this.linestyle2="2",this.thickness=2,this.thickness2=1,this.showarea=!1,this.areaopacity=2,this.showlabels=!1,this.labels="1",this.displayUnits="none",this.fontfamily="Cambria",this.decimal=0,this.fontsize=11,this.labelfill="black",this.showlabels_col=!1,this.labels_col="1",this.displayUnits_col="auto",this.decimal_col=0,this.numberstyle="#,0",this.fontsize_col=11,this.labelfill_col="black",this.showrefline=!1,this.axislinecolor="#e6e6e6",this.axiswidth=1,this.refline="1",this.condcolor=!1,this.cond_p="#7CFC00",this.cond_n="red",this.opacity=3,this.showmarkers=!1,this.markers="1",this.markersize="3",this.mfill="#da3f7a",this.mfillhigh="#7CFC00",this.mfilllow="#da3f7a",this.bfill="none",this.bfillhigh="grey",this.bfilllow="#da3f7a",this.paddingh=4,this.paddingv=3,this.showaxis=!1,this.customhead=!1,this.linetext="",this.coltext="",this.headsize=16}}class h{constructor(){this.selectcolumn=1,this.field_desc="",this.selectaxis=1,this.parentaggregation="0",this.commonaxis=!1,this.roundedbars=!1,this.pfill="#118DFF",this.nfill="#da3f7a",this.showborder=!1,this.bfill="black",this.showlabels=!1,this.labels="1",this.displayUnits="auto",this.fontsize=12,this.fontcolor="black",this.fontfamily="Cambria",this.decimal=0,this.paddingi=30,this.paddingo=50,this.showaxis=!1,this.axisfont=10,this.axistextcolor="black",this.axislinecolor="#e6e6e6",this.axiswidth=1,this.showrefline=!1,this.refline="1",this.reflinecolor="grey",this.showvarfromref=!0,this.cond_p_var="#7CFC00",this.cond_n_var="red",this.fontsize_var=15}}class d{constructor(){this.selectbullet=1,this.field_desc="",this.calculation="0",this.parentaggregation="0",this.shape="1",this.roundedbars=!1,this.direction="1",this.fill="#118DFF",this.sfill="#999999",this.mfill="black",this.mfill_doublebar="#27548A",this.shadow_=!1,this.bfill="none",this.zerobasecolor="silver",this.width=60,this.doublebarwidth=30,this.twidth=1,this.theight=2,this.zwidth=1,this.showlabels=!0,this.showtargetlabels=!1,this.fontcolor="black",this.fontfamily="Cambria",this.startpadding=1,this.endpadding=1,this.displayUnits="auto",this.fontsize=12,this.decimal=0,this.conditional=!1,this.fillp="#72bf6a",this.filln="#FF0000",this.varwidth=10,this.customhead=!1,this.bartext="",this.tartext="",this.headsize=16}}class f{constructor(){this.selectdumb=1,this.field_desc="",this.calculation="0",this.parentaggregation="0",this.fill="#118DFF",this.nfill="red",this.mfill="black",this.bfill="none",this.zerobasecolor="silver",this.width=60,this.twidth=1,this.theight=2,this.zwidth=1,this.showlabels=!1,this.labeltype="1",this.showstartlabels=!1,this.fontcolor="black",this.shadow=!1,this.fontfamily="Cambria",this.selectbullet="1",this.startpadding=1,this.endpadding=1,this.displayUnits="auto",this.fontsize=12,this.decimal=0,this.conditional=!1,this.fillp="#7CFC00",this.filln="red",this.varwidth=10}}class g{constructor(){this.select_dot=1,this.field_desc="",this.selectdot="1",this.calculation="0",this.parentaggregation="0",this.shadow=!1,this.fill="#118DFF",this.fill1="#ED6801",this.fill2="#FAAE5A",this.fill3="#F9E795",this.fill4="#cfe2f3",this.fill5="#fde4f2",this.fill6="#A1D570",this.text1="Stack1",this.text2="Stack2",this.text3="Stack3",this.text4="Stack4",this.text5="Stack5",this.text6="Stack6",this.nfill="red",this.mfill="black",this.bfill="none",this.zerobasecolor="silver",this.barwidth=40,this.roundcorners=2,this.theight=2,this.zwidth=1,this.sameaxis=!0,this.showlabels=!1,this.labeltype="1",this.showstartlabels=!1,this.border="silver",this.fontcolor="black",this.fontfamily="Cambria",this.selectbullet="1",this.startpadding=1,this.endpadding=1,this.displayUnits="auto",this.fontsize=12,this.decimal=0,this.conditional=!1,this.fillp="#7CFC00",this.filln="red",this.varwidth=10,this.variance="",this.variance2="",this.pfillvar="green",this.nfillvar="red",this.pfillvartext="white",this.nfillvartext="white"}}class m{constructor(){this.selecttime=1,this.calculation="1",this.fill="#118DFF",this.nfill="red",this.mfill="black",this.bfill="none",this.showlabels=!1,this.fontcolor="black",this.fontfamily="Cambria",this.fontsize=12,this.startpadding=5,this.endpadding=5}}class p{constructor(){this.selectwaterfall=1,this.field_desc="",this.calculation="0",this.roundedbars=!1,this.fill="#81F909",this.nfill="red",this.pillarfill="silver",this.leadlinecolor="silver",this.definepillars=!1,this.fontsize=12,this.displayUnits="auto",this.fontfamily="Cambria",this.showlabels=!1,this.fontcolor="black",this.shadow=!1,this.showed=!1,this.decimal=0,this.startpadding=1,this.endpadding=1,this.width=35}}class b{constructor(){this.show=!0,this.movecat=!0}}class v{constructor(){this.show=!1,this.position="0"}}class y{constructor(){this.show=!0}}class x{constructor(){this.selectbubble=1,this.field_desc="",this.calculation="0",this.parentaggregation="0",this.fill="#118DFF",this.nfill="red",this.lfill="black",this.bfill="none",this.shadow=!1,this.fontsize=12,this.displayUnits="auto",this.fontfamily="Cambria",this.showlabels=!1,this.decimal=0,this.padding=2}}class w{constructor(){this.selectdonut=1,this.field_desc="",this.calculation="0",this.parentaggregation="0",this.target=50,this.fill1="#7CFC00",this.fill2="red",this.bfill="silver",this.thickness=2,this.fontsize=12,this.fontcolor="black",this.alignment="baseline",this.decimal=0,this.fontfamily="Cambria"}}class S{constructor(){this.selectwaffle=1,this.field_desc="",this.calculation="0",this.parentaggregation="0",this.fill1="#efb5b9",this.fill2="#e5e5e5",this.stroke="white",this.strokewidth=10,this.padding=1,this.fontsize=25,this.bold=!0,this.fontcolor="black",this.alignment="baseline",this.decimal=0,this.fontfamily="Cambria"}}class _{constructor(){this.selectratings=1,this.field_desc="",this.calculation="0",this.parentaggregation="0",this.type="1",this.stars=5,this.fill1="#118DFF",this.fill2="#e5e5e5",this.stroke="white",this.strokewidth=2,this.padding=1,this.fontsize=25,this.bold=!0,this.fontcolor="black",this.alignment="baseline",this.decimal=1,this.fontfamily="Cambria",this.color1="red",this.color2="pink",this.color3="orange",this.color4="#a6f1a6",this.color5="green",this.text1="Poor",this.text2="Bad",this.text3="Average",this.text4="Good",this.text5="Excellent"}}class k{constructor(){this.line=!1,this.col=!1,this.combo=!1,this.bubble=!1}}class A{constructor(){this.bandColor="#E6E6E6",this.bandThickness=15,this.bandsmooth=!1}}class V{constructor(){this.show=1}}class j{constructor(){this.counter="",this.counter1="",this.counter2="",this.counter3="",this.counter4="",this.nooflevels="",this.expandcollapse="",this.headingheight="",this.rowheight="",this.bulletselected="",this.togglesort="",this.togglevar="",this.wf="",this.fieldcount="",this.barwidth="",this.beesetting="BS",this.beeaxis="same"}}class T{constructor(){this.version="v65.29",this.createdby="Zubair_Muhammad",this.website="excelnaccess.com/sparklines",this.license="",this.expiry=""}}class M{constructor(){this.applyto="0"}}class z{constructor(){this.show=!1,this.fill="black",this.gridfill="grey",this.fontsize=18,this.showgridlines=!0}}class N{constructor(){this.selectvalue=1,this.field_desc="",this.calculation="0",this.parentaggregation="0",this.fill="black",this.bfill="none",this.displayUnits="auto",this.decimal=0,this.fontsize=15,this.fontfamily="Cambria",this.bold=!1,this.alignment="end",this.url=!1}}class L{constructor(){this.fill="black",this.fontsize=18,this.space=10,this.bold=!1}}class D{constructor(){this.positive="green",this.negative="red",this.line="black",this.positivefont="white",this.negativefont="white"}}class C{constructor(){this.show=!0,this.width=50,this.height=8,this.showtext=!0,this.fontsize=14}}class O{constructor(){this.size=60,this.leftmargin=30}}class U{constructor(){this.linefill="black",this.showline=!0,this.linewidth=1}}class F{constructor(){this.showaxis=!0,this.sorting="0",this.dateaxis="custom",this.fill="grey",this.fontsize=12,this.fontfamily="Cambria",this.innerpadding=15,this.minbarwidth=20,this.maxbarwidth=120,this.fillplus="grey",this.roundedbars=!0,this.axislinecolor="silver",this.axiswidth=1}}class P extends i{constructor(){super(...arguments),this.sparkbars=new h,this.band=new A,this.xaxis=new F,this.yaxis=new z,this.levels=new V,this.values=new N,this.general=new j,this.varcolors=new D,this.drill=new C,this.plotarea=new O,this.secondarylabels=new L,this.targets=new U,this.info=new T,this.lines=new o,this.combo=new c,this.stackedcol=new u,this.bullets=new d,this.bubbles=new x,this.donuts=new w,this.waffle=new S,this.ratings=new _,this.margins=new n,this.columnheaders=new r,this.category=new l,this.hidemovers=new b,this.globalyaxis=new k,this.dumb=new f,this.dotplot=new g,this.waterfall=new p,this.timeline=new m,this.Beeswarm=new s,this.totalrow=new v,this.dragrows=new y,this.condformat=new M}}},5789:(t,e,a)=>{"use strict";a.d(e,{b:()=>g});var i=a(980),n=a(6986),r=a(1847),s=a(3621),l=a(183),o=a(756),c=(a(7452),a(477)),u=a(6570),h=a(1248),d=c.C;function f(t){return Object.prototype.hasOwnProperty.call(t.data,"objects")?t.data.objects.lines.indcolor.solid.color:"#118DFF"}new s.A;class g{constructor(t){this.formatters=[],this.columnformatters=[],this.valueformatter=[],this.bubbleformatter=[],this.bulletformatter=[],this.waterfallformatter=[],this.dumbformatter=[],this.dobars=[],this.mybars=[],this.categorynames=[],this.wm_code=[101,120,99,101,108,110,97,99,99,101,115,115,46,99,111,109,47,115,112,97,114,107,108,105,110,101,115],this.wm_=[],this.lineloc=0,this.dateformat="",this.tooltiplinedata=[],this.manualtooltip="",this.stackcolors=[],this.selectedline=[],this.selectedlinepos=-1,this.no_of_stacks=[0,0,0,0,0,0,0,0,0],this.myboxselection=[],this.noofstacks=[],this.stack_selected=[],this.bgcolor=t.element,t.element.style.overflow="auto",this.columndata=[],this.metadata=[],this.rowdata=[],this.colorPalette=t.host.colorPalette,this.colorHelper=new n.A1(this.colorPalette),this.events=t.host.eventService,this.data=[],this.svg=o.Ltv(t.element).append("svg").attr("width",0).attr("height",0).classed("circleCard",!0),this.container=this.svg.append("g").classed("container",!0).attr("visibility","visible").attr("width",0).attr("height",0).style("fill","blue"),this.container2=this.container.append("g"),this.element=t.element,this.host=t.host,this.wm_code.forEach((t=>this.wm_.push(String.fromCharCode(t)))),this.selectionManager=this.host.createSelectionManager(),this.tooltipServiceWrapper=d(this.host.tooltipService,t.element),this.plussign=this.container.append("defs").append("g").attr("id","plus").attr("transform",(t=>`scale(${[2]})`)),this.plussign.append("line").attr("class","pos").attr("x1",5).attr("y1",0).attr("x2",5).attr("y2",10).style("stroke-width",1).style("stroke","grey"),this.plussign.append("line").attr("class","pos").attr("x1",0).attr("y1",5).attr("x2",10).attr("y2",5).style("stroke-width",1).style("stroke","grey"),this.plussign.append("rect").attr("x",0).attr("y",0).attr("width",10).attr("height",10).style("stroke","rgba(0,0,0,0)").style("fill","rgba(0,0,0,0)"),this.negsign=this.container.append("defs").append("g").attr("id","neg").attr("transform",(t=>`scale(${[2]})`)),this.negsign.append("line").attr("class","pos").attr("x1",0).attr("y1",5).attr("x2",10).attr("y2",5).style("stroke-width",1).style("stroke","grey"),this.negsign.append("rect").attr("x",0).attr("y",0).attr("width",10).attr("height",10).style("stroke","rgba(0,0,0,0)").style("fill","rgba(0,0,0,0)")}getFormattingModel(){return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}createSampleLandingPage(){const t=document.createElement("div");t.style.backgroundColor="white",t.setAttribute("x","400"),t.setAttribute("y","400");const e=document.createElement("h2");e.textContent="Multiple Sparklines",e.setAttribute("class","LandingPage");const a=document.createElement("a");a.setAttribute("class","LandingPageHelpLink"),a.textContent="Email zubair@excelnaccess.com for questions & support";const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","640"),i.setAttribute("height","640");const n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("width","100"),n.setAttribute("x","30"),n.setAttribute("y","20"),n.setAttribute("rx","5"),n.setAttribute("ry","5"),n.setAttribute("height","40"),n.setAttribute("fill","#118DFF"),n.addEventListener("mouseover",(()=>{n.setAttribute("fill","#da3f7a")})),n.addEventListener("mouseout",(()=>{n.setAttribute("fill","#118DFF")})),n.addEventListener("click",(()=>{this.host.launchUrl("https://www."+this.wm_.join(""))}));const r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("width","120"),r.setAttribute("x","140"),r.setAttribute("y","20"),r.setAttribute("rx","5"),r.setAttribute("ry","5"),r.setAttribute("height","40"),r.setAttribute("fill","#118DFF"),r.addEventListener("mouseover",(()=>{r.setAttribute("fill","#da3f7a")})),r.addEventListener("mouseout",(()=>{r.setAttribute("fill","#118DFF")})),r.addEventListener("click",(()=>{this.host.launchUrl("https://www.excelnaccess.com/multiple-sparklines-demo/")}));const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x","80"),s.setAttribute("y","40"),s.setAttribute("fill","white"),s.textContent="Get Started",s.setAttribute("text-anchor","middle"),s.setAttribute("dominant-baseline","middle"),s.setAttribute("font-size","14"),s.addEventListener("mouseover",(()=>{n.setAttribute("fill","#da3f7a")})),s.addEventListener("mouseout",(()=>{n.setAttribute("fill","#118DFF")})),s.addEventListener("click",(()=>{this.host.launchUrl("https://www."+this.wm_.join(""))}));const l=document.createElementNS("http://www.w3.org/2000/svg","text");return l.setAttribute("x","200"),l.setAttribute("y","40"),l.setAttribute("fill","white"),l.textContent="Download pbix",l.setAttribute("text-anchor","middle"),l.setAttribute("dominant-baseline","middle"),l.setAttribute("font-size","14"),l.addEventListener("mouseover",(()=>{r.setAttribute("fill","#da3f7a")})),l.addEventListener("mouseout",(()=>{r.setAttribute("fill","#118DFF")})),l.addEventListener("click",(()=>{this.host.launchUrl("https://www.excelnaccess.com/multiple-sparklines-demo/")})),i.appendChild(n),i.appendChild(r),i.appendChild(s),i.appendChild(l),t.appendChild(e),t.appendChild(a),t.appendChild(i),t}handleLandingPage(t){if(t.dataViews&&t.dataViews.length)this.isLandingPageOn&&!this.LandingPageRemoved&&(this.LandingPageRemoved=!0,this.LandingPage.remove());else if(!this.isLandingPageOn){this.isLandingPageOn=!0;const t=this.createSampleLandingPage();this.element.appendChild(t),this.LandingPage=o.Ltv(t)}}handleContextMenu(){this.svg.on("contextmenu",((t,e)=>{a(7875).event;const i=t.target,n=(0,l.A)(i).datum();"object"==typeof n&&Object.prototype.hasOwnProperty.call(n,"waterfall")||this.selectionManager.showContextMenu(n?n.selectionId:{},{x:t.clientX,y:t.clientY}),t.preventDefault()}))}hidelabels(t,e,a){const i=t.size(),n=Math.floor(e/a);let r=Math.ceil(+i/+n);r=r<1?1:r,t.each((function(t,e){e%r>0&&o.Ltv(this).attr("visibility","hidden")}))}zubifunction(){this.container.append("circle").attr("cx",600).attr("cy",100).attr("r",60)}syncSelectionState(t,e){if(!t||!e)return;if(!e.length){const e=1;return void t.style("fill-opacity",e)}const a=this;t.each((function(t){const i=a.isSelectionIdInArray(e,t.selectionId),n=i?1:.3;i||t.color,(0,l.A)(this).style("fill-opacity",n)}))}isSelectionIdInArray(t,e){return!(!t||!e)&&t.some((t=>t.includes(e)))}handleClick(){this.svg.on("click",(t=>{o.Ubm(".tooltip_rect").remove(),this.selectionManager.clear().then((()=>{o.Ubm(".highlight").remove()}))})),this.container.on("click",(t=>{o.Ubm(".tooltip_rect").remove(),this.selectionManager.clear().then((()=>{o.Ubm(".highlight").remove()}))}))}getValue(t,e,a,i){if(t){const i=t[e];if(i){const t=i[a];if(void 0!==t)return t}}return i}getColor(t,e,a,i){if(t){const i=t[e];if(i){const t=i[a].solid.color;if(void 0!==t)return t}}return i}static wordBreak(t,e,a){t.each((function(){r.Tf.wordBreak(this,e,a)}))}enumerateObjectInstances(t){const e=this.visualSettings||i.Mb.getDefault(),a=i.Mb.enumerateObjectInstances(e,t),n=t.objectName,r=[];if("yaxis"==n||"varcolors"==n||"targets"==n||"dragrows"==n||"info"==n||"itemselection"==n||"hidemovers"==n||"totalrow"==n||"globalyaxis"==n)return a;switch(n){case"margins":return r.push({objectName:n,properties:{rowlines:this.visualSettings.margins.rowlines,rowthickness:this.visualSettings.margins.rowthickness,columnlines:this.visualSettings.margins.columnlines,columnthickness:this.visualSettings.margins.columnthickness,transition:this.visualSettings.margins.transition,dragrows:this.visualSettings.margins.dragrows,orientation:this.visualSettings.margins.orientation},validValues:{topmargin:{numberRange:{min:20,max:200}},fontsize:{numberRange:{min:7,max:30}},rowthickness:{numberRange:{min:0,max:50}},columnthickness:{numberRange:{min:0,max:50}},maxrowheight:{numberRange:{min:200,max:600}},transition:{numberRange:{min:0,max:10}}},selector:null}),r;case"Beeswarm":return"BS"==this.visualSettings.general.beesetting&&(r.push({objectName:n,properties:{strengthx:this.visualSettings.Beeswarm.strengthx,strengthy:this.visualSettings.Beeswarm.strengthy,bubblesize:this.visualSettings.Beeswarm.bubblesize,customalphadecay:this.visualSettings.Beeswarm.customalphadecay},validValues:{strengthx:{numberRange:{min:0,max:10}},strengthy:{numberRange:{min:0,max:10}},alphadecay:{numberRange:{min:1,max:15}},bubblesize:{numberRange:{min:1,max:25}}},selector:null}),this.visualSettings.Beeswarm.customalphadecay&&r.push({objectName:n,properties:{alphadecay:this.visualSettings.Beeswarm.alphadecay},validValues:{alphadecay:{numberRange:{min:1,max:15}}},selector:null})),"BB"==this.visualSettings.general.beesetting&&r.push({objectName:n,properties:{catlabels:this.visualSettings.Beeswarm.catlabels,showlabels:this.visualSettings.Beeswarm.showlabels},validValues:{catlabels:{numberRange:{min:1,max:25}}},selector:null}),r.push({objectName:n,properties:{padding:this.visualSettings.Beeswarm.padding,showaxis:this.visualSettings.Beeswarm.showaxis,fontfamily:this.visualSettings.Beeswarm.fontfamily,displayUnits:this.visualSettings.Beeswarm.displayUnits,numberstyle:this.visualSettings.Beeswarm.numberstyle,decimal:this.visualSettings.Beeswarm.decimal},validValues:{padding:{numberRange:{min:0,max:5}},decimal:{numberRange:{min:0,max:5}}},selector:null}),r;case"columnheaders":if(r.push({objectName:n,properties:{fontsize:this.visualSettings.columnheaders.fontsize,fontfamily:this.visualSettings.columnheaders.fontfamily,alignment:this.visualSettings.columnheaders.alignment,background:this.visualSettings.columnheaders.background,fontcolor:this.visualSettings.columnheaders.fontcolor,border:this.visualSettings.columnheaders.border,borderwidth:this.visualSettings.columnheaders.borderwidth,showind:this.visualSettings.columnheaders.showind},validValues:{fontsize:{numberRange:{min:7,max:50}},borderwidth:{numberRange:{min:1,max:20}}},selector:null}),this.visualSettings.columnheaders.showind){const t=this.columndata;for(let e=0;e<t.length;e++){const a=this.columndata.filter((a=>a.name==t[e].name&&a.displayname==t[e].displayname))[0],i=this.metadata.filter((i=>i.displayName==a.displayname&&Object.prototype.hasOwnProperty.call(i.roles,t[e].name))),n=i[0].queryName;let s;if(Object.prototype.hasOwnProperty.call(i[0],"objects")&&Object.prototype.hasOwnProperty.call(i[0].objects,"columnheaders")&&Object.prototype.hasOwnProperty.call(i[0].objects,"indcolor")){const t=i[0].objects.columnheaders.indcolor;s="object"==typeof t?t.solid.color:t}else s="#FFFFFF";r.push({objectName:t[e].displayname,displayName:t[e].displayname,properties:{indcolor:String(s)},selector:{metadata:n}})}}if(r.push({objectName:n,properties:{showindfont:this.visualSettings.columnheaders.showindfont},selector:null}),this.visualSettings.columnheaders.showindfont){const t=this.columndata;for(let e=0;e<t.length;e++){const a=this.columndata.filter((a=>a.name==t[e].name&&a.displayname==t[e].displayname))[0],i=this.metadata.filter((i=>i.displayName==a.displayname&&Object.prototype.hasOwnProperty.call(i.roles,t[e].name))),n=i[0].queryName;let s;if(Object.prototype.hasOwnProperty.call(i[0],"objects")&&Object.prototype.hasOwnProperty.call(i[0].objects,"columnheaders")&&Object.prototype.hasOwnProperty.call(i[0].objects.columnheaders,"indcolorfont")){const t=i[0].objects.columnheaders.indcolorfont;s="object"==typeof t?t.solid.color:t}else s="#000000";r.push({objectName:t[e].displayname,displayName:t[e].displayname,properties:{indcolorfont:String(s)},selector:{metadata:n}})}}if(r.push({objectName:n,properties:{showgrouping:this.visualSettings.columnheaders.showgrouping},selector:null}),this.visualSettings.columnheaders.showgrouping){const t=this.columndata;for(let e=0;e<t.length;e++){const a=this.columndata.filter((a=>a.name==t[e].name&&a.displayname==t[e].displayname))[0],i=this.metadata.filter((i=>i.displayName==a.displayname&&Object.prototype.hasOwnProperty.call(i.roles,t[e].name))),n=i[0].queryName;let s,l;s=Object.prototype.hasOwnProperty.call(i[0],"objects")&&Object.prototype.hasOwnProperty.call(i[0].objects,"columnheaders")&&Object.prototype.hasOwnProperty.call(i[0].objects.columnheaders,"grouping")?i[0].objects.columnheaders.grouping:"",l=Object.prototype.hasOwnProperty.call(i[0],"objects")&&Object.prototype.hasOwnProperty.call(i[0].objects,"groupingcolor")&&Object.prototype.hasOwnProperty.call(i[0].objects.columnheaders,"groupingcolor")?i[0].objects.columnheaders.groupingcolor:"#ffffff",r.push({objectName:t[e].displayname,displayName:t[e].displayname,properties:{grouping:String(s),groupingcolor:"object"==typeof l?l.solid.color:l},selector:{metadata:n}})}r.push({objectName:n,properties:{groupingheight:this.visualSettings.columnheaders.groupingheight},validValues:{groupingheight:{numberRange:{min:20,max:100}}},selector:null})}return r;case"category":return r.push({objectName:n,properties:{fill:this.visualSettings.category.fill,bfill:this.visualSettings.category.bfill,fontsize:this.visualSettings.category.fontsize,fontfamily:this.visualSettings.category.fontfamily,bold:this.visualSettings.category.bold,childindent:this.visualSettings.category.childindent,wrap:this.visualSettings.category.wrap,alignment:this.visualSettings.category.alignment},validValues:{fontsize:{numberRange:{min:7,max:50}},childindent:{numberRange:{min:0,max:50}}},selector:null}),r;case"values":{const t=o.T9B(this.columndata.filter((t=>"numbers"==t.name)).map((t=>+t.index)))+1;this.visualSettings.values.selectvalue=this.visualSettings.values.selectvalue>t?t:this.visualSettings.values.selectvalue,r.push({objectName:n,properties:{selectvalue:this.visualSettings.values.selectvalue},validValues:{selectvalue:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"numbers"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.values.selectvalue-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("numbers"))),s=i[0].queryName;return i[0].type.categoryString,r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.values.calculation),parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.values.parentaggregation),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.values.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.values.decimal),fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.values.fill),bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.values.bfill),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.values.fontsize),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.values.fontfamily),bold:this.getValue(i[0].objects,n,"bold",this.visualSettings.values.bold),alignment:this.getValue(i[0].objects,n,"alignment",this.visualSettings.values.alignment),url:this.getValue(i[0].objects,n,"url",this.visualSettings.values.url)},validValues:{fontsize:{numberRange:{min:9,max:30}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r}case"bubbles":{const t=o.T9B(this.columndata.filter((t=>"bubble"==t.name)).map((t=>+t.index)))+1;this.visualSettings.bubbles.selectbubble=this.visualSettings.bubbles.selectbubble>t?t:this.visualSettings.bubbles.selectbubble,r.push({objectName:n,properties:{selectbubble:this.visualSettings.bubbles.selectbubble},validValues:{selectbubble:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"bubble"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.bubbles.selectbubble-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("bubble"))),s=i[0].queryName;return r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.bubbles.calculation),parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.bubbles.parentaggregation),fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.bubbles.fill),nfill:this.getValue(i[0].objects,n,"nfill",this.visualSettings.bubbles.nfill),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.bubbles.showlabels),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.bubbles.fontsize),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.bubbles.fontfamily),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.bubbles.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.bubbles.decimal),lfill:this.getValue(i[0].objects,n,"lfill",this.visualSettings.bubbles.lfill),bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.bubbles.bfill),shadow:this.getValue(i[0].objects,n,"shadow",this.visualSettings.bubbles.shadow),padding:this.getValue(i[0].objects,n,"padding",this.visualSettings.bubbles.padding)},validValues:{fontsize:{numberRange:{min:9,max:30}},decimal:{numberRange:{min:0,max:10}},padding:{numberRange:{min:0,max:10}}},selector:{metadata:s},propertyInstanceKind:{}}),r}case"waffle":{const t=o.T9B(this.columndata.filter((t=>"waffle"==t.name)).map((t=>+t.index)))+1;this.visualSettings.waffle.selectwaffle=this.visualSettings.waffle.selectwaffle>t?t:this.visualSettings.waffle.selectwaffle,r.push({objectName:n,properties:{selectwaffle:this.visualSettings.waffle.selectwaffle},validValues:{selectwaffle:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"waffle"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.waffle.selectwaffle-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("waffle"))),s=i[0].queryName;return r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.waffle.calculation),parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.waffle.parentaggregation),fill1:this.getValue(i[0].objects,n,"fill1",this.visualSettings.waffle.fill1),fill2:this.getValue(i[0].objects,n,"fill2",this.visualSettings.waffle.fill2),stroke:this.getValue(i[0].objects,n,"stroke",this.visualSettings.waffle.stroke),strokewidth:this.getValue(i[0].objects,n,"strokewidth",this.visualSettings.waffle.strokewidth),padding:this.getValue(i[0].objects,n,"padding",this.visualSettings.waffle.padding),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.waffle.fontsize),bold:this.getValue(i[0].objects,n,"bold",this.visualSettings.waffle.bold),fontcolor:this.getValue(i[0].objects,n,"fontcolor",this.visualSettings.waffle.fontcolor),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.waffle.fontfamily),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.waffle.decimal)},validValues:{fontsize:{numberRange:{min:9,max:50}},padding:{numberRange:{min:0,max:5}},strokewidth:{numberRange:{min:0,max:25}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r}case"ratings":{const t=o.T9B(this.columndata.filter((t=>"ratings"==t.name)).map((t=>+t.index)))+1;this.visualSettings.ratings.selectratings=this.visualSettings.ratings.selectratings>t?t:this.visualSettings.ratings.selectratings,r.push({objectName:n,properties:{selectratings:this.visualSettings.ratings.selectratings},validValues:{selectratings:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"ratings"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.ratings.selectratings-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("ratings"))),s=i[0].queryName;r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.ratings.calculation),parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.ratings.parentaggregation),type:this.getValue(i[0].objects,n,"type",this.visualSettings.ratings.type)},validValues:{fontsize:{numberRange:{min:9,max:50}},padding:{numberRange:{min:0,max:5}},strokewidth:{numberRange:{min:0,max:25}},decimal:{numberRange:{min:0,max:10}},stars:{numberRange:{min:5,max:10}}},selector:{metadata:s}});const l=this.getValue(i[0].objects,n,"type",this.visualSettings.ratings.type);return"1"==l&&r.push({objectName:n,properties:{stars:this.getValue(i[0].objects,n,"stars",this.visualSettings.ratings.stars),fill1:this.getValue(i[0].objects,n,"fill1",this.visualSettings.ratings.fill1),fill2:this.getValue(i[0].objects,n,"fill2",this.visualSettings.ratings.fill2),stroke:this.getValue(i[0].objects,n,"stroke",this.visualSettings.ratings.stroke),strokewidth:this.getValue(i[0].objects,n,"strokewidth",this.visualSettings.ratings.strokewidth)},validValues:{strokewidth:{numberRange:{min:0,max:25}}},selector:{metadata:s}}),"3"==l&&r.push({objectName:n,properties:{decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.ratings.decimal),color1:this.getValue(i[0].objects,n,"color1",this.visualSettings.ratings.color1),color2:this.getValue(i[0].objects,n,"color2",this.visualSettings.ratings.color2),color3:this.getValue(i[0].objects,n,"color3",this.visualSettings.ratings.color3),color4:this.getValue(i[0].objects,n,"color4",this.visualSettings.ratings.color4),color5:this.getValue(i[0].objects,n,"color5",this.visualSettings.ratings.color5),text1:this.getValue(i[0].objects,n,"text1",this.visualSettings.ratings.text1),text2:this.getValue(i[0].objects,n,"text2",this.visualSettings.ratings.text2),text3:this.getValue(i[0].objects,n,"text3",this.visualSettings.ratings.text3),text4:this.getValue(i[0].objects,n,"text4",this.visualSettings.ratings.text4),text5:this.getValue(i[0].objects,n,"text5",this.visualSettings.ratings.text5)},validValues:{decimal:{numberRange:{min:0,max:5}}},selector:{metadata:s}}),r}case"donuts":{const t=o.T9B(this.columndata.filter((t=>"donut"==t.name)).map((t=>+t.index)))+1;this.visualSettings.donuts.selectdonut=this.visualSettings.donuts.selectdonut>t?t:this.visualSettings.donuts.selectdonut,r.push({objectName:n,properties:{selectdonut:this.visualSettings.donuts.selectdonut},validValues:{selectdonut:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"donut"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.donuts.selectdonut-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("donut")));return i[0].queryName,r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.visualSettings.donuts.calculation,parentaggregation:this.visualSettings.donuts.parentaggregation,target:this.visualSettings.donuts.target,fill1:this.visualSettings.donuts.fill1,fill2:this.visualSettings.donuts.fill2,bfill:this.visualSettings.donuts.bfill,thickness:this.visualSettings.donuts.thickness,fontsize:this.visualSettings.donuts.fontsize,fontcolor:this.visualSettings.donuts.fontcolor,alignment:this.visualSettings.donuts.alignment,decimal:this.visualSettings.donuts.decimal,fontfamily:this.visualSettings.donuts.fontfamily},validValues:{target:{numberRange:{min:0,max:100}},fontsize:{numberRange:{min:9,max:30}},thickness:{numberRange:{min:1,max:5}},decimal:{numberRange:{min:0,max:5}}},selector:null}),r}case"drill":return r.push({objectName:n,properties:{width:this.visualSettings.drill.width,height:this.visualSettings.drill.height,show:this.visualSettings.drill.show,showtext:this.visualSettings.drill.showtext,fontsize:this.visualSettings.drill.fontsize},validValues:{width:{numberRange:{min:30,max:100}},height:{numberRange:{min:4,max:12}},fontsize:{numberRange:{min:10,max:20}}},selector:null}),r;case"secondarylabels":return r.push({objectName:n,properties:{space:this.visualSettings.secondarylabels.space,fontsize:this.visualSettings.secondarylabels.fontsize,fill:this.visualSettings.secondarylabels.fill,bold:this.visualSettings.secondarylabels.bold},validValues:{space:{numberRange:{min:3,max:20}},fontsize:{numberRange:{min:10,max:25}}},selector:null}),r;case"plotarea":return r.push({objectName:n,properties:{size:this.visualSettings.plotarea.size,leftmargin:this.visualSettings.plotarea.leftmargin},validValues:{size:{numberRange:{min:40,max:100}},leftmargin:{numberRange:{min:10,max:50}}},selector:null}),r;case"bullets":{const t=o.T9B(this.columndata.filter((t=>"bar"==t.name)).map((t=>+t.index)))+1;this.visualSettings.bullets.selectbullet=this.visualSettings.bullets.selectbullet>t?t:this.visualSettings.bullets.selectbullet,r.push({objectName:n,properties:{selectbullet:this.visualSettings.bullets.selectbullet},validValues:{selectbullet:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"bar"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.bullets.selectbullet-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("bar"))),s=i[0].queryName,l=i[0].type.numeric;return r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.bullets.calculation),parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.bullets.parentaggregation),roundedbars:this.getValue(i[0].objects,n,"roundedbars",this.visualSettings.bullets.roundedbars),fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.bullets.fill),shadow_:this.getValue(i[0].objects,n,"shadow_",this.visualSettings.bullets.shadow_)},selector:{metadata:s}}),l?r.push({objectName:n,properties:{direction:this.getValue(i[0].objects,n,"direction",this.visualSettings.bullets.direction)},selector:{metadata:s}}):r.push({objectName:n,properties:{shape:this.getValue(i[0].objects,n,"shape",this.visualSettings.bullets.shape)},selector:{metadata:s}}),this.rowlevels>1&&r.push({objectName:n,properties:{sfill:this.getValue(i[0].objects,n,"sfill",this.visualSettings.bullets.sfill)},selector:{metadata:s}}),"1"==this.getValue(i[0].objects,n,"shape",this.visualSettings.bullets.shape)?r.push({objectName:n,properties:{width:this.getValue(i[0].objects,n,"width",this.visualSettings.bullets.width),mfill:this.getValue(i[0].objects,n,"mfill",this.visualSettings.bullets.mfill)},validValues:{width:{numberRange:{min:1,max:100}}},selector:{metadata:s}}):r.push({objectName:n,properties:{doublebarwidth:this.getValue(i[0].objects,n,"doublebarwidth",this.visualSettings.bullets.doublebarwidth),mfill_doublebar:this.getValue(i[0].objects,n,"mfill_doublebar",this.visualSettings.bullets.mfill_doublebar)},validValues:{doublebarwidth:{numberRange:{min:1,max:100}}},selector:{metadata:s}}),r.push({objectName:n,properties:{bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.bullets.bfill),zerobasecolor:this.getValue(i[0].objects,n,"zerobasecolor",this.visualSettings.bullets.zerobasecolor),theight:this.getValue(i[0].objects,n,"theight",this.visualSettings.bullets.theight),twidth:this.getValue(i[0].objects,n,"twidth",this.visualSettings.bullets.twidth),zwidth:this.getValue(i[0].objects,n,"zwidth",this.visualSettings.bullets.zwidth),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.bullets.showlabels),showtargetlabels:this.getValue(i[0].objects,n,"showtargetlabels",this.visualSettings.bullets.showtargetlabels),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.bullets.fontsize),fontcolor:this.getValue(i[0].objects,n,"fontcolor",this.visualSettings.bullets.fontcolor),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.bullets.fontfamily),startpadding:this.getValue(i[0].objects,n,"startpadding",this.visualSettings.bullets.startpadding),endpadding:this.getValue(i[0].objects,n,"endpadding",this.visualSettings.bullets.endpadding),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.bullets.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.bullets.decimal),conditional:this.getValue(i[0].objects,n,"conditional",this.visualSettings.bullets.conditional)},validValues:{width:{numberRange:{min:1,max:100}},twidth:{numberRange:{min:1,max:5}},theight:{numberRange:{min:1,max:5}},zwidth:{numberRange:{min:0,max:5}},startpadding:{numberRange:{min:0,max:100}},endpadding:{numberRange:{min:0,max:100}},fontsize:{numberRange:{min:8,max:30}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),this.getValue(i[0].objects,n,"conditional",this.visualSettings.bullets.conditional)&&r.push({objectName:n,properties:{fillp:this.getValue(i[0].objects,n,"fillp",this.visualSettings.bullets.fillp),filln:this.getValue(i[0].objects,n,"filln",this.visualSettings.bullets.filln),varwidth:this.getValue(i[0].objects,n,"varwidth",this.visualSettings.bullets.varwidth)},validValues:{varwidth:{numberRange:{min:1,max:10}}},selector:{metadata:s}}),r.push({objectName:n,properties:{customhead:this.getValue(i[0].objects,n,"customhead",this.visualSettings.bullets.customhead)},selector:{metadata:s}}),this.getValue(i[0].objects,n,"customhead",this.visualSettings.bullets.customhead)&&r.push({objectName:n,properties:{bartext:this.getValue(i[0].objects,n,"bartext",this.visualSettings.bullets.bartext),tartext:this.getValue(i[0].objects,n,"tartext",this.visualSettings.bullets.tartext),headsize:this.getValue(i[0].objects,n,"headsize",this.visualSettings.bullets.headsize)},validValues:{headsize:{numberRange:{min:7,max:50}}},selector:{metadata:s}}),r}case"dotplot":{const t=o.T9B(this.columndata.filter((t=>"dotplot"==t.name)).map((t=>+t.index)))+1;this.visualSettings.dotplot.select_dot=this.visualSettings.dotplot.select_dot>t?t:this.visualSettings.dotplot.select_dot,r.push({objectName:n,properties:{select_dot:this.visualSettings.dotplot.select_dot},validValues:{select_dot:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"dotplot"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.dotplot.select_dot-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("dotplot"))),s=i[0].queryName;r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{selectdot:this.getValue(i[0].objects,n,"selectdot",this.visualSettings.dotplot.selectdot),calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.dotplot.calculation),parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.dotplot.parentaggregation),barwidth:this.getValue(i[0].objects,n,"barwidth",this.visualSettings.dotplot.barwidth),roundcorners:this.getValue(i[0].objects,n,"roundcorners",this.visualSettings.dotplot.roundcorners),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.dotplot.showlabels),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.dotplot.fontsize),fontcolor:this.getValue(i[0].objects,n,"fontcolor",this.visualSettings.dotplot.fontcolor),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.dotplot.fontfamily),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.dotplot.displayUnits),border:this.getValue(i[0].objects,n,"border",this.visualSettings.dotplot.border),zerobasecolor:this.getValue(i[0].objects,n,"zerobasecolor",this.visualSettings.dotplot.zerobasecolor),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.dotplot.decimal),shadow:this.getValue(i[0].objects,n,"shadow",this.visualSettings.dotplot.shadow)},validValues:{barwidth:{numberRange:{min:1,max:100}},roundcorners:{numberRange:{min:0,max:10}},theight:{numberRange:{min:1,max:5}},zwidth:{numberRange:{min:0,max:5}},startpadding:{numberRange:{min:0,max:100}},endpadding:{numberRange:{min:0,max:100}},fontsize:{numberRange:{min:8,max:30}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}});const l=+this.visualSettings.dotplot.select_dot-1;return+this.noofstacks[l]>0&&r.push({objectName:n,properties:{fill1:this.getValue(i[0].objects,n,"fill1",this.visualSettings.dotplot.fill1)},selector:{metadata:s}}),+this.noofstacks[l]>1&&r.push({objectName:n,properties:{fill2:this.getValue(i[0].objects,n,"fill2",this.visualSettings.dotplot.fill2)},selector:{metadata:s}}),+this.noofstacks[l]>2&&r.push({objectName:n,properties:{fill3:this.getValue(i[0].objects,n,"fill3",this.visualSettings.dotplot.fill3)},selector:{metadata:s}}),+this.noofstacks[l]>3&&r.push({objectName:n,properties:{fill4:this.getValue(i[0].objects,n,"fill4",this.visualSettings.dotplot.fill4)},selector:{metadata:s}}),+this.noofstacks[l]>4&&r.push({objectName:n,properties:{fill5:this.getValue(i[0].objects,n,"fill5",this.visualSettings.dotplot.fill5)},selector:{metadata:s}}),+this.noofstacks[l]>5&&r.push({objectName:n,properties:{fill6:this.getValue(i[0].objects,n,"fill6",this.visualSettings.dotplot.fill6)},selector:{metadata:s}}),+this.noofstacks[l]>0&&r.push({objectName:n,properties:{text1:this.getValue(i[0].objects,n,"text1",this.visualSettings.dotplot.text1)},selector:{metadata:s}}),+this.noofstacks[l]>1&&r.push({objectName:n,properties:{text2:this.getValue(i[0].objects,n,"text2",this.visualSettings.dotplot.text2)},selector:{metadata:s}}),+this.noofstacks[l]>2&&r.push({objectName:n,properties:{text3:this.getValue(i[0].objects,n,"text3",this.visualSettings.dotplot.text3)},selector:{metadata:s}}),+this.noofstacks[l]>3&&r.push({objectName:n,properties:{text4:this.getValue(i[0].objects,n,"text4",this.visualSettings.dotplot.text4)},selector:{metadata:s}}),+this.noofstacks[l]>4&&r.push({objectName:n,properties:{text5:this.getValue(i[0].objects,n,"text5",this.visualSettings.dotplot.text5)},selector:{metadata:s}}),+this.noofstacks[l]>5&&r.push({objectName:n,properties:{text6:this.getValue(i[0].objects,n,"text6",this.visualSettings.dotplot.text6)},selector:{metadata:s}}),"3"==this.getValue(i[0].objects,n,"selectdot",this.visualSettings.dotplot.selectdot)&&r.push({objectName:n,properties:{sameaxis:this.getValue(i[0].objects,n,"sameaxis",this.visualSettings.dotplot.sameaxis)},selector:{metadata:s}}),r.push({objectName:n,properties:{variance:this.getValue(i[0].objects,n,"variance",this.visualSettings.dotplot.variance),variance2:this.getValue(i[0].objects,n,"variance2",this.visualSettings.dotplot.variance2),pfillvar:this.getValue(i[0].objects,n,"pfillvar",this.visualSettings.dotplot.pfillvar),nfillvar:this.getValue(i[0].objects,n,"nfillvar",this.visualSettings.dotplot.nfillvar),pfillvartext:this.getValue(i[0].objects,n,"pfillvartext",this.visualSettings.dotplot.pfillvartext),nfillvartext:this.getValue(i[0].objects,n,"nfillvartext",this.visualSettings.dotplot.nfillvartext)},selector:{metadata:s}}),r}case"dumb":{const t=o.T9B(this.columndata.filter((t=>"dumb"==t.name)).map((t=>+t.index)))+1;this.visualSettings.dumb.selectdumb=this.visualSettings.dumb.selectdumb>t?t:this.visualSettings.dumb.selectdumb,r.push({objectName:n,properties:{selectdumb:this.visualSettings.dumb.selectdumb},validValues:{selectdumb:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"dumb"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.dumb.selectdumb-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("dumb"))),s=i[0].queryName;return r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.dumb.calculation),parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.dumb.parentaggregation),fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.dumb.fill),nfill:this.getValue(i[0].objects,n,"nfill",this.visualSettings.dumb.nfill),mfill:this.getValue(i[0].objects,n,"mfill",this.visualSettings.dumb.mfill),bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.dumb.bfill),shadow:this.getValue(i[0].objects,n,"shadow",this.visualSettings.dumb.shadow),width:this.getValue(i[0].objects,n,"width",this.visualSettings.dumb.width),theight:this.getValue(i[0].objects,n,"theight",this.visualSettings.dumb.theight),twidth:this.getValue(i[0].objects,n,"twidth",this.visualSettings.dumb.twidth),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.dumb.showlabels),labeltype:this.getValue(i[0].objects,n,"labeltype",this.visualSettings.dumb.labeltype),showstartlabels:this.getValue(i[0].objects,n,"showstartlabels",this.visualSettings.dumb.showstartlabels),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.dumb.fontsize),fontcolor:this.getValue(i[0].objects,n,"fontcolor",this.visualSettings.dumb.fontcolor),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.dumb.fontfamily),startpadding:this.getValue(i[0].objects,n,"startpadding",this.visualSettings.dumb.startpadding),endpadding:this.getValue(i[0].objects,n,"endpadding",this.visualSettings.dumb.endpadding),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.dumb.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.dumb.decimal),conditional:this.getValue(i[0].objects,n,"conditional",this.visualSettings.dumb.conditional)},validValues:{width:{numberRange:{min:1,max:100}},twidth:{numberRange:{min:1,max:5}},theight:{numberRange:{min:1,max:5}},zwidth:{numberRange:{min:0,max:5}},startpadding:{numberRange:{min:0,max:100}},endpadding:{numberRange:{min:0,max:100}},fontsize:{numberRange:{min:8,max:30}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r}case"waterfall":{const t=o.T9B(this.columndata.filter((t=>"waterfall"==t.name)).map((t=>+t.index)))+1;this.visualSettings.waterfall.selectwaterfall=this.visualSettings.waterfall.selectwaterfall>t?t:this.visualSettings.waterfall.selectwaterfall,r.push({objectName:n,properties:{selectwaterfall:this.visualSettings.waterfall.selectwaterfall},validValues:{selectwaterfall:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"waterfall"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.waterfall.selectwaterfall-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("waterfall"))),s=i[0].queryName;return r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null}),r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.waterfall.calculation),fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.waterfall.fill),nfill:this.getValue(i[0].objects,n,"nfill",this.visualSettings.waterfall.nfill),pillarfill:this.getValue(i[0].objects,n,"pillarfill",this.visualSettings.waterfall.pillarfill),leadlinecolor:this.getValue(i[0].objects,n,"leadlinecolor",this.visualSettings.waterfall.leadlinecolor),shadow:this.getValue(i[0].objects,n,"shadow",this.visualSettings.waterfall.shadow),width:this.getValue(i[0].objects,n,"width",this.visualSettings.waterfall.width),roundedbars:this.getValue(i[0].objects,n,"roundedbars",this.visualSettings.waterfall.roundedbars),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.waterfall.showlabels),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.waterfall.fontsize),fontcolor:this.getValue(i[0].objects,n,"fontcolor",this.visualSettings.waterfall.fontcolor),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.waterfall.fontfamily),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.waterfall.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.waterfall.decimal)},validValues:{fontsize:{numberRange:{min:8,max:30}},decimal:{numberRange:{min:0,max:10}},startpadding:{numberRange:{min:0,max:100}},endpadding:{numberRange:{min:0,max:100}},width:{numberRange:{min:1,max:100}}},selector:{metadata:s}}),this.getValue(i[0].objects,n,"definepillars",this.visualSettings.waterfall.definepillars)&&this.categorynames.forEach(((t,e)=>{r.push({objectName:n,displayName:t.MainCategory,properties:{showed:null!=this.categorydata&&null!=this.categorydata[e]&&this.categorydata[e].waterfall.showed},selector:t.ID.getSelector()})})),r}case"sparkbars":{const t=o.T9B(this.columndata.filter((t=>"sparkbar"==t.name)).map((t=>+t.index)))+1;this.visualSettings.sparkbars.selectcolumn=this.visualSettings.sparkbars.selectcolumn>t?t:this.visualSettings.sparkbars.selectcolumn,r.push({objectName:n,properties:{selectcolumn:this.visualSettings.sparkbars.selectcolumn},validValues:{selectcolumn:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"sparkbar"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.sparkbars.selectcolumn-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("sparkbar"))),s=i[0].queryName;r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null});const l=this.getValue(i[0].objects,n,"selectaxis",this.visualSettings.sparkbars.selectaxis),c=+l>+this.maxlevel+1?this.maxlevel+1:l;return r.push({objectName:n,properties:{selectaxis:c},validValues:{selectaxis:{numberRange:{min:1,max:this.maxlevel+1}}},selector:{metadata:s}}),r.push({objectName:n,properties:{commonaxis:this.getValue(i[0].objects,n,"commonaxis",this.visualSettings.sparkbars.commonaxis),roundedbars:this.getValue(i[0].objects,n,"roundedbars",this.visualSettings.sparkbars.roundedbars),pfill:this.getValue(i[0].objects,n,"pfill",this.visualSettings.sparkbars.pfill),nfill:this.getValue(i[0].objects,n,"nfill",this.visualSettings.sparkbars.nfill),bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.sparkbars.bfill),showborder:this.getValue(i[0].objects,n,"showborder",this.visualSettings.sparkbars.showborder),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.sparkbars.showlabels),labels:this.getValue(i[0].objects,n,"labels",this.visualSettings.sparkbars.labels),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.sparkbars.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.sparkbars.decimal),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.sparkbars.fontsize),fontcolor:this.getValue(i[0].objects,n,"fontcolor",this.visualSettings.sparkbars.fontcolor),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.sparkbars.fontfamily),paddingi:this.getValue(i[0].objects,n,"paddingi",this.visualSettings.sparkbars.paddingi),paddingo:this.getValue(i[0].objects,n,"paddingo",this.visualSettings.sparkbars.paddingo),axiswidth:this.getValue(i[0].objects,n,"axiswidth",this.visualSettings.sparkbars.axiswidth),axislinecolor:this.getValue(i[0].objects,n,"axislinecolor",this.visualSettings.sparkbars.axislinecolor),showrefline:this.getValue(i[0].objects,n,"showrefline",this.visualSettings.sparkbars.showrefline),refline:this.getValue(i[0].objects,n,"refline",this.visualSettings.sparkbars.refline),reflinecolor:this.getValue(i[0].objects,n,"reflinecolor",this.visualSettings.sparkbars.reflinecolor)},validValues:{fontsize:{numberRange:{min:7,max:30}},fontsize_var:{numberRange:{min:7,max:50}},paddingi:{numberRange:{min:0,max:100}},paddingo:{numberRange:{min:0,max:100}},axiswidth:{numberRange:{min:0,max:5}},paddingv:{numberRange:{min:0,max:10}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r}case"lines":{const t=o.T9B(this.columndata.filter((t=>"sparkline"==t.name)).map((t=>+t.index)))+1;this.visualSettings.lines.selectline=this.visualSettings.lines.selectline>t?t:this.visualSettings.lines.selectline,r.push({objectName:n,properties:{selectline:this.visualSettings.lines.selectline},validValues:{selectline:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"sparkline"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.lines.selectline-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("sparkline"))),s=i[0].queryName;r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null});const l=this.getValue(i[0].objects,n,"selectaxis",this.visualSettings.lines.selectaxis),c=+l>+this.maxlevel+1?this.maxlevel+1:l;if(r.push({objectName:n,properties:{selectaxis:c},validValues:{selectaxis:{numberRange:{min:1,max:this.maxlevel+1}}},selector:{metadata:s}}),r.push({objectName:n,properties:{fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.lines.fill),showind:this.getValue(i[0].objects,n,"showind",this.visualSettings.lines.showind)},selector:{metadata:s}}),this.getValue(i[0].objects,n,"showind",this.visualSettings.lines.showind)){const t=this.data.filter((t=>0==t.level)),e=this.data.filter((t=>0==t.level)).map((t=>t.MainCategory));for(let a=0;a<e.length;a++)r.push({objectName:String(e[a]),displayName:String(e[a]),properties:{indcolor:f(t[a])},selector:t[a].selectionId.getSelector()})}r.push({objectName:n,properties:{commonaxis:this.getValue(i[0].objects,n,"commonaxis",this.visualSettings.lines.commonaxis),missing:this.getValue(i[0].objects,n,"missing",this.visualSettings.lines.missing),linetype:this.getValue(i[0].objects,n,"linetype",this.visualSettings.lines.linetype),thickness:this.getValue(i[0].objects,n,"thickness",this.visualSettings.lines.thickness),showarea:this.getValue(i[0].objects,n,"showarea",this.visualSettings.lines.showarea),areaopacity:this.getValue(i[0].objects,n,"areaopacity",this.visualSettings.lines.areaopacity),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.lines.showlabels)},validValues:{thickness:{numberRange:{min:0,max:5}},areaopacity:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),this.getValue(i[0].objects,n,"showlabels",this.visualSettings.lines.showlabels)&&r.push({objectName:n,properties:{labels:this.getValue(i[0].objects,n,"labels",this.visualSettings.lines.labels),displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.lines.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.lines.decimal),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.lines.fontsize),labelfill:this.getValue(i[0].objects,n,"labelfill",this.visualSettings.lines.labelfill),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.lines.fontfamily)},validValues:{fontsize:{numberRange:{min:7,max:30}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r.push({objectName:n,properties:{showmarkers:this.getValue(i[0].objects,n,"showmarkers",this.visualSettings.lines.showmarkers)},selector:{metadata:s}}),this.getValue(i[0].objects,n,"showmarkers",this.visualSettings.lines.showmarkers)&&r.push({objectName:n,properties:{markers:this.getValue(i[0].objects,n,"markers",this.visualSettings.lines.markers),markersize:this.getValue(i[0].objects,n,"markersize",this.visualSettings.lines.markersize),mfill:this.getValue(i[0].objects,n,"mfill",this.visualSettings.lines.mfill),mfillhigh:this.getValue(i[0].objects,n,"mfillhigh",this.visualSettings.lines.mfillhigh),mfilllow:this.getValue(i[0].objects,n,"mfilllow",this.visualSettings.lines.mfilllow),bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.lines.bfill),bfillhigh:this.getValue(i[0].objects,n,"bfillhigh",this.visualSettings.lines.bfillhigh),bfilllow:this.getValue(i[0].objects,n,"bfilllow",this.visualSettings.lines.bfilllow)},selector:{metadata:s}}),r.push({objectName:n,properties:{paddingh:this.getValue(i[0].objects,n,"paddingh",this.visualSettings.lines.paddingh),paddingv:this.getValue(i[0].objects,n,"paddingv",this.visualSettings.lines.paddingv)},validValues:{paddingh:{numberRange:{min:0,max:10}},paddingv:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r.push({objectName:n,properties:{showrefline:this.getValue(i[0].objects,n,"showrefline",this.visualSettings.lines.showrefline)},selector:{metadata:s}});const u=this.getValue(i[0].objects,n,"showrefline",this.visualSettings.lines.showrefline);u&&r.push({objectName:n,properties:{refline:this.getValue(i[0].objects,n,"refline",this.visualSettings.lines.refline),condcolor:this.getValue(i[0].objects,n,"condcolor",this.visualSettings.lines.condcolor)},selector:{metadata:s}});const h=this.getValue(i[0].objects,n,"condcolor",this.visualSettings.lines.condcolor);return u&&h&&r.push({objectName:n,properties:{cond_p:this.getValue(i[0].objects,n,"cond_p",this.visualSettings.lines.cond_p),cond_n:this.getValue(i[0].objects,n,"cond_n",this.visualSettings.lines.cond_n),opacity:this.getValue(i[0].objects,n,"opacity",this.visualSettings.lines.opacity)},validValues:{opacity:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r.push({objectName:n,properties:{showvarfromref:this.getValue(i[0].objects,n,"showvarfromref",this.visualSettings.lines.showvarfromref),cond_p_var:this.getValue(i[0].objects,n,"cond_p_var",this.visualSettings.lines.cond_p_var),cond_n_var:this.getValue(i[0].objects,n,"cond_n_var",this.visualSettings.lines.cond_n_var),fontsize_var:this.getValue(i[0].objects,n,"fontsize_var",this.visualSettings.lines.fontsize_var)},validValues:{fontsize_var:{numberRange:{min:7,max:50}}},selector:{metadata:s}}),r}case"combo":{const t=o.T9B(this.columndata.filter((t=>"combo"==t.name)).map((t=>+t.index)))+1;this.visualSettings.combo.selectcombo=this.visualSettings.combo.selectcombo>t?t:this.visualSettings.combo.selectcombo,r.push({objectName:n,properties:{selectcombo:this.visualSettings.combo.selectcombo},validValues:{selectcombo:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"combo"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.combo.selectcombo-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("combo"))),s=i[0].queryName;r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null});const l=this.getValue(i[0].objects,n,"selectaxis",this.visualSettings.combo.selectaxis),c=+l>+this.maxlevel+1?this.maxlevel+1:l;r.push({objectName:n,properties:{selectaxis:c},validValues:{selectaxis:{numberRange:{min:1,max:this.maxlevel+1}}},selector:{metadata:s}}),r.push({objectName:n,properties:{parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.combo.parentaggregation),commonaxis:this.getValue(i[0].objects,n,"commonaxis",this.visualSettings.combo.commonaxis),missing:this.getValue(i[0].objects,n,"missing",this.visualSettings.combo.missing),charttype:this.getValue(i[0].objects,n,"charttype",this.visualSettings.combo.charttype),fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.combo.fill),linetype:this.getValue(i[0].objects,n,"linetype",this.visualSettings.combo.linetype),linestyle:this.getValue(i[0].objects,n,"linestyle",this.visualSettings.combo.linestyle),thickness:this.getValue(i[0].objects,n,"thickness",this.visualSettings.combo.thickness)},validValues:{thickness:{numberRange:{min:0,max:5}}},selector:{metadata:s}});const u="1"==this.getValue(i[0].objects,n,"charttype",this.visualSettings.combo.charttype);return u?r.push({objectName:n,properties:{colfill:this.getValue(i[0].objects,n,"colfill",this.visualSettings.combo.colfill),colfill_neg:this.getValue(i[0].objects,n,"colfill_neg",this.visualSettings.combo.colfill_neg),showborder:this.getValue(i[0].objects,n,"showborder",this.visualSettings.combo.showborder),b_fill:this.getValue(i[0].objects,n,"b_fill",this.visualSettings.combo.b_fill)},selector:{metadata:s}}):r.push({objectName:n,properties:{fill2:this.getValue(i[0].objects,n,"fill2",this.visualSettings.combo.fill2),linestyle2:this.getValue(i[0].objects,n,"linestyle2",this.visualSettings.combo.linestyle2),thickness2:this.getValue(i[0].objects,n,"thickness2",this.visualSettings.combo.thickness2),condcolor:this.getValue(i[0].objects,n,"condcolor",this.visualSettings.combo.condcolor)},validValues:{thickness2:{numberRange:{min:0,max:5}}},selector:{metadata:s}}),this.getValue(i[0].objects,n,"condcolor",this.visualSettings.combo.condcolor)&&!u&&r.push({objectName:n,properties:{cond_p:this.getValue(i[0].objects,n,"cond_p",this.visualSettings.combo.cond_p),cond_n:this.getValue(i[0].objects,n,"cond_n",this.visualSettings.combo.cond_n),opacity:this.getValue(i[0].objects,n,"opacity",this.visualSettings.combo.opacity)},validValues:{opacity:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r.push({objectName:n,properties:{displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.combo.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.combo.decimal),numberstyle:this.getValue(i[0].objects,n,"numberstyle",this.visualSettings.combo.numberstyle),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.combo.fontfamily),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.combo.fontsize),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.combo.showlabels)},validValues:{decimal:{numberRange:{min:0,max:10}},fontsize:{numberRange:{min:7,max:30}}},selector:{metadata:s}}),this.getValue(i[0].objects,n,"showlabels",this.visualSettings.combo.showlabels)&&r.push({objectName:n,properties:{labels:this.getValue(i[0].objects,n,"labels",this.visualSettings.combo.labels),labelfill:this.getValue(i[0].objects,n,"labelfill",this.visualSettings.combo.labelfill)},validValues:{},selector:{metadata:s}}),r.push({objectName:n,properties:{showlabels_col:this.getValue(i[0].objects,n,"showlabels_col",this.visualSettings.combo.showlabels_col)},selector:{metadata:s}}),this.getValue(i[0].objects,n,"showlabels_col",this.visualSettings.combo.showlabels_col)&&r.push({objectName:n,properties:{labels_col:this.getValue(i[0].objects,n,"labels_col",this.visualSettings.combo.labels_col),labelfill_col:this.getValue(i[0].objects,n,"labelfill_col",this.visualSettings.combo.labelfill_col)},validValues:{fontsize_col:{numberRange:{min:7,max:30}},decimal_col:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r.push({objectName:n,properties:{axiswidth:this.getValue(i[0].objects,n,"axiswidth",this.visualSettings.combo.axiswidth),axislinecolor:this.getValue(i[0].objects,n,"axislinecolor",this.visualSettings.combo.axislinecolor),showmarkers:this.getValue(i[0].objects,n,"showmarkers",this.visualSettings.combo.showmarkers)},validValues:{axiswidth:{numberRange:{min:0,max:5}}},selector:{metadata:s}}),this.getValue(i[0].objects,n,"showmarkers",this.visualSettings.combo.showmarkers)&&r.push({objectName:n,properties:{markers:this.getValue(i[0].objects,n,"markers",this.visualSettings.combo.markers),markersize:this.getValue(i[0].objects,n,"markersize",this.visualSettings.combo.markersize),mfill:this.getValue(i[0].objects,n,"mfill",this.visualSettings.combo.mfill),mfillhigh:this.getValue(i[0].objects,n,"mfillhigh",this.visualSettings.combo.mfillhigh),mfilllow:this.getValue(i[0].objects,n,"mfilllow",this.visualSettings.combo.mfilllow),bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.combo.bfill),bfillhigh:this.getValue(i[0].objects,n,"bfillhigh",this.visualSettings.combo.bfillhigh),bfilllow:this.getValue(i[0].objects,n,"bfilllow",this.visualSettings.combo.bfilllow)},selector:{metadata:s}}),r.push({objectName:n,properties:{paddingh:this.getValue(i[0].objects,n,"paddingh",this.visualSettings.combo.paddingh),paddingv:this.getValue(i[0].objects,n,"paddingv",this.visualSettings.combo.paddingv),customhead:this.getValue(i[0].objects,n,"customhead",this.visualSettings.combo.customhead)},validValues:{paddingh:{numberRange:{min:0,max:9}},paddingv:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),this.getValue(i[0].objects,n,"customhead",this.visualSettings.combo.customhead)&&r.push({objectName:n,properties:{linetext:this.getValue(i[0].objects,n,"linetext",this.visualSettings.combo.linetext),coltext:this.getValue(i[0].objects,n,"coltext",this.visualSettings.combo.coltext),headsize:this.getValue(i[0].objects,n,"headsize",this.visualSettings.combo.headsize)},validValues:{headsize:{numberRange:{min:7,max:50}}},selector:{metadata:s}}),r}case"stackedcol":{const t=o.T9B(this.columndata.filter((t=>"stackedcol"==t.name)).map((t=>+t.index)))+1;this.visualSettings.stackedcol.selectstack=this.visualSettings.stackedcol.selectstack>t?t:this.visualSettings.stackedcol.selectstack,r.push({objectName:n,properties:{selectstack:this.visualSettings.stackedcol.selectstack},validValues:{selectstack:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"stackedcol"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.stackedcol.selectstack-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("stackedcol"))),s=i[0].queryName;r.push({objectName:a.displayname,displayName:a.displayname,properties:{field_desc:a.displayname},selector:null});const l=this.getValue(i[0].objects,n,"selectaxis",this.visualSettings.stackedcol.selectaxis),c=+l>+this.maxlevel+1?this.maxlevel+1:l;return r.push({objectName:n,properties:{selectaxis:c},validValues:{selectaxis:{numberRange:{min:1,max:this.maxlevel+1}}},selector:{metadata:s}}),r.push({objectName:n,properties:{parentaggregation:this.getValue(i[0].objects,n,"parentaggregation",this.visualSettings.stackedcol.parentaggregation),stacknames:this.getValue(i[0].objects,n,"stacknames",this.visualSettings.stackedcol.stacknames),fill1:this.getValue(i[0].objects,n,"fill1",this.visualSettings.stackedcol.fill1),fill2:this.getValue(i[0].objects,n,"fill2",this.visualSettings.stackedcol.fill2)},validValues:{thickness:{numberRange:{min:0,max:5}}},selector:{metadata:s}}),+this.no_of_stacks[+this.visualSettings.stackedcol.selectstack-1]>2&&r.push({objectName:n,properties:{fill3:this.getValue(i[0].objects,n,"fill3",this.visualSettings.stackedcol.fill3)},selector:{metadata:s}}),+this.no_of_stacks[this.visualSettings.stackedcol.selectstack-1]>3&&r.push({objectName:n,properties:{fill4:this.getValue(i[0].objects,n,"fill4",this.visualSettings.stackedcol.fill4)},selector:{metadata:s}}),r.push({objectName:n,properties:{showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.stackedcol.showlabels)},selector:{metadata:s}}),this.getValue(i[0].objects,n,"showlabels",this.visualSettings.stackedcol.showlabels)&&(r.push({objectName:n,properties:{fontfill1:this.getValue(i[0].objects,n,"fontfill1",this.visualSettings.stackedcol.fontfill1),fontfill2:this.getValue(i[0].objects,n,"fontfill2",this.visualSettings.stackedcol.fontfill2)},selector:{metadata:s}}),+this.no_of_stacks[+this.visualSettings.stackedcol.selectstack-1]>2&&r.push({objectName:n,properties:{fontfill3:this.getValue(i[0].objects,n,"fontfill3",this.visualSettings.stackedcol.fontfill3)},selector:{metadata:s}}),+this.no_of_stacks[this.visualSettings.stackedcol.selectstack-1]>3&&r.push({objectName:n,properties:{fontfill4:this.getValue(i[0].objects,n,"fontfill4",this.visualSettings.stackedcol.fontfill4)},selector:{metadata:s}}),r.push({objectName:n,properties:{displayUnits:this.getValue(i[0].objects,n,"displayUnits",this.visualSettings.stackedcol.displayUnits),decimal:this.getValue(i[0].objects,n,"decimal",this.visualSettings.stackedcol.decimal),numberstyle:this.getValue(i[0].objects,n,"numberstyle",this.visualSettings.stackedcol.numberstyle),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.stackedcol.fontfamily),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.stackedcol.fontsize)},validValues:{decimal:{numberRange:{min:0,max:10}},fontsize:{numberRange:{min:7,max:30}}},selector:{metadata:s}})),r.push({objectName:n,properties:{axiswidth:this.getValue(i[0].objects,n,"axiswidth",this.visualSettings.stackedcol.axiswidth),axislinecolor:this.getValue(i[0].objects,n,"axislinecolor",this.visualSettings.stackedcol.axislinecolor),showmarkers:this.getValue(i[0].objects,n,"showmarkers",this.visualSettings.stackedcol.showmarkers)},validValues:{axiswidth:{numberRange:{min:0,max:5}}},selector:{metadata:s}}),r.push({objectName:n,properties:{paddingh:this.getValue(i[0].objects,n,"paddingh",this.visualSettings.stackedcol.paddingh)},validValues:{paddingh:{numberRange:{min:0,max:9}},paddingv:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r}case"xaxis":return r.push({objectName:n,properties:{showaxis:this.visualSettings.xaxis.showaxis,sorting:this.visualSettings.xaxis.sorting,dateaxis:this.visualSettings.xaxis.dateaxis,fontsize:this.visualSettings.xaxis.fontsize,fontfamily:this.visualSettings.xaxis.fontfamily,fill:this.visualSettings.xaxis.fill,fillplus:this.visualSettings.xaxis.fillplus,minbarwidth:this.visualSettings.xaxis.minbarwidth,maxbarwidth:this.visualSettings.xaxis.maxbarwidth,roundedbars:this.visualSettings.xaxis.roundedbars,axislinecolor:this.visualSettings.xaxis.axislinecolor,axiswidth:this.visualSettings.xaxis.axiswidth},validValues:{fontsize:{numberRange:{min:7,max:15}},innerpadding:{numberRange:{min:2,max:99}},minbarwidth:{numberRange:{min:20,max:40}},axiswidth:{numberRange:{min:0,max:10}}},selector:null}),r;case"timeline":{const t=o.T9B(this.columndata.filter((t=>"timeline"==t.name)).map((t=>+t.index)))+1;this.visualSettings.timeline.selecttime=this.visualSettings.timeline.selecttime>t?t:this.visualSettings.timeline.selecttime,r.push({objectName:n,properties:{selecttime:this.visualSettings.timeline.selecttime},validValues:{selecttime:{numberRange:{min:1,max:t}}},selector:null});const e=this.columndata.filter((t=>"timeline"==t.name)),a=e.filter((t=>t.index==+this.visualSettings.timeline.selecttime-1))[0],i=this.metadata.filter((t=>t.displayName==a.displayname&&t.roles.hasOwnProperty("timeline"))),s=i[0].queryName;return r.push({objectName:n,properties:{calculation:this.getValue(i[0].objects,n,"calculation",this.visualSettings.timeline.calculation),fill:this.getValue(i[0].objects,n,"fill",this.visualSettings.timeline.fill),nfill:this.getValue(i[0].objects,n,"nfill",this.visualSettings.timeline.nfill),mfill:this.getValue(i[0].objects,n,"mfill",this.visualSettings.timeline.mfill),bfill:this.getValue(i[0].objects,n,"bfill",this.visualSettings.timeline.bfill),showlabels:this.getValue(i[0].objects,n,"showlabels",this.visualSettings.timeline.showlabels),fontsize:this.getValue(i[0].objects,n,"fontsize",this.visualSettings.timeline.fontsize),fontcolor:this.getValue(i[0].objects,n,"fontcolor",this.visualSettings.timeline.fontcolor),fontfamily:this.getValue(i[0].objects,n,"fontfamily",this.visualSettings.timeline.fontfamily),startpadding:this.getValue(i[0].objects,n,"startpadding",this.visualSettings.timeline.startpadding),endpadding:this.getValue(i[0].objects,n,"endpadding",this.visualSettings.timeline.endpadding)},validValues:{width:{numberRange:{min:1,max:100}},twidth:{numberRange:{min:1,max:5}},theight:{numberRange:{min:1,max:5}},zwidth:{numberRange:{min:0,max:5}},startpadding:{numberRange:{min:0,max:100}},endpadding:{numberRange:{min:0,max:100}},fontsize:{numberRange:{min:8,max:30}},decimal:{numberRange:{min:0,max:10}}},selector:{metadata:s}}),r}}}getTooltipDataBubbles(t){(0,u.Z)(this.locale,"LanguageKey");const e=t.index;let a;try{a=this.bubbleformatter.filter((t=>t.index==e))[0].format}catch(t){a=""}return o.Ubm(".tiplines").remove(),[{displayName:String(t.MainCategory),value:""==a?t.bubbles.value:a.format(t.bubbles.value)}]}getTooltipDataBeeSetting(t){const e="BS"==this.visualSettings.general.beesetting?"Showing Beeswarm Chart. Click to switch to Breakdown Bars":"Showing Breakdown Chart. Click to switch to Beeswarm Chart",a="same"==this.visualSettings.general.beeaxis?"Same Axis/Scale is used for entire Column. Click to switch to Unique Axis/Scale for each Cell":"Unique Axis/Scale is used for each Cell. Click to switch to same Axis/Scale for entire Column";return[{displayName:1==t?e:a,value:""}]}getTooltipDataBeeswarm(t){(0,u.Z)(this.locale,"LanguageKey");const e=this.visualSettings.Beeswarm.numberstyle,a=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t.value)).length))),i=+this.visualSettings.Beeswarm.decimal,n=r.G2.create({format:e,value:+("1e"+String(a)),precision:i,allowFormatBeautification:!0}),s=[];return"Zubi57"!==t.name&&s.push({displayName:"Name",value:String(t.name),header:t.cat}),s.push({displayName:"Value",value:n.format(t.value),header:t.cat}),s.push({displayName:"Average",value:n.format(t.meanvalue),header:t.cat}),s}getTooltipDataWaterfall(t){(0,u.Z)(this.locale,"LanguageKey");const e=t.index,a=this.waterfallformatter.filter((t=>t.index==e))[0].format;return o.Ubm(".tiplines").remove(),[{displayName:String(t.MainCategory),value:a.format(t.waterfall.value)}]}getTooltipDataRatings(t){return o.Ubm(".tiplines").remove(),[{displayName:String(t.MainCategory),value:String(+t.value.toFixed(1))}]}getTooltipData(t,e,a,i){(0,u.Z)(this.locale,"LanguageKey");const n=t.index,r=this.bulletformatter.filter((t=>t.index==n))[0].format,s=[];return o.Ubm(".tiplines").remove(),s.push({displayName:1==e?a:"bar",value:r.format(t.bar.value),header:String(t.MainCategory)}),void 0!==t.bar.target&&s.push({displayName:1==e?i:"target",value:r.format(t.bar.target),header:String(t.MainCategory)},{displayName:"var %",value:+(100*(t.bar.value-t.bar.target)/Math.abs(t.bar.target)).toFixed(1)+"%",header:String(t.MainCategory)}),s}getTooltipDataDumb(t){(0,u.Z)(this.locale,"LanguageKey");const e=t.index,a=this.dumbformatter.filter((t=>t.index==e))[0].format,i=[];return o.Ubm(".tiplines").remove(),i.push({displayName:"start",value:a.format(t.bar.value),header:String(t.MainCategory)}),void 0!==t.bar.target&&i.push({displayName:"end",value:a.format(t.bar.target),header:String(t.MainCategory)},{displayName:"var %",value:+(100*(t.bar.target-t.bar.value)/Math.abs(t.bar.value)).toFixed(1)+"%",header:String(t.MainCategory)}),i}getTooltipDataDotPlot(t,e,a,i,n,s){(0,u.Z)(this.locale,"LanguageKey");const l="1"==s?+t[1]-t[0]:t.value;let c;"1"==s||t.index,"auto"==i?c=o.T9B([0,3,6,9,12].filter((t=>t<String(Math.round(Math.abs(l))).length))):"thousands"==i?c=3:"millions"==i?c=6:"billions"==i?c=9:"none"==i&&(c="0");const h=+a,d=r.G2.create({format:"#,0",value:+("1e"+String(c)),precision:h,allowFormatBeautification:!0}),f=[];return this.visualSettings.dotplot.text1,this.visualSettings.dotplot.text2,this.visualSettings.dotplot.text3,this.visualSettings.dotplot.text4,this.visualSettings.dotplot.text5,this.visualSettings.dotplot.text6,o.Ubm(".tiplines").remove(),f.push({displayName:n,value:d.format(l)}),f}getTooltipDataStack(t,e,a,i,n,s,l){(0,u.Z)(this.locale,"LanguageKey");const c=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t[1]-t[0])).length))),h=n,d=+i,f=r.G2.create({format:h,value:+("1e"+String(c)),precision:d,allowFormatBeautification:!0});let g,m;s&&(g=l,m=r.G2.create({format:l}));const p=[];return p.push({displayName:a,value:f.format(t[1]-t[0]),header:s?m.format(new Date(e)):String(e)}),p}getTooltipDataValues(t,e){return(0,u.Z)(this.locale,"LanguageKey"),t.index,o.Ubm(".tiplines").remove(),[{displayName:String(t.MainCategory),value:""}]}getTooltipDataCategory(t,e){return(0,u.Z)(this.locale,"LanguageKey"),o.Ubm(".tiplines").remove(),[{displayName:t.MainCategory,value:""}]}getTooltipDataLines(t){this.manualtooltip="yes";const e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.abs(Math.round(t[1]))).split("").length)));let a=t[3];""==a&&(a="0");const i=+t[12],n=r.G2.create({format:a,value:+("1e"+String(e)),precision:i,allowFormatBeautification:!0});let s,l;const c=t[13];c&&(s=t[14],l=r.G2.create({format:t[14]}));const u=["Reference line","Line Average","First Point","Last Point"][t[11]],h=[{displayName:c?l.format(new Date(t[2])):String(t[2]),value:n.format(t[1]),header:String(t[6])}],d={displayName:u,value:n.format(t[9]),header:String(t[6])};return 1==t[10]&&h.push(d),h.push({displayName:"",header:"Double Click to zoom in & compare",value:"Double Click to zoom in & compare"}),h}getTooltipDataCol_temp(t,e,a,i){const n=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.abs(Math.round(t[1]))).split("").length)));let s=t[3];""!=s&&"undefined"!=s&&null!=s||(s="0");const l=+t[19],c=r.G2.create({format:s,value:+("1e"+String(n)),precision:l,allowFormatBeautification:!0});let u,h;const d=t[20];d&&(u=t[21],h=r.G2.create({format:t[21]}));const f=this.selectedline,g=[{header:d?h.format(new Date(t[2])):String(t[2]),value:c.format(t[1]),displayName:t[6]}];return f.length>0&&g.push({header:d?h.format(new Date(t[2])):String(t[2]),value:c.format(f[e][1]),displayName:i[a].name}),g}getTooltipDataLines_temp(t,e,a){const i=t[0],n=t[1];this.manualtooltip="yes";const s=o.T9B([0,3,6,9,12].filter((t=>t<String(Math.abs(Math.round(i[1]))).split("").length)));let l=i[3];""==l&&(l="0");const c=+i[12],u=r.G2.create({format:l,value:+("1e"+String(s)),precision:c,allowFormatBeautification:!0});let h,d;const f=i[13];f&&(h=i[14],d=r.G2.create({format:i[14]}));const g=[{header:f?d.format(new Date(i[2])):String(i[2]),value:u.format(i[1]),displayName:String(i[6]),color:"purple"}];let m,p;return e.length>0&&(m={header:f?d.format(new Date(i[2])):String(i[2]),value:u.format(n[1]),displayName:String(n[6]),color:"Silver"},p={header:f?d.format(new Date(i[2])):String(i[2]),value:Math.round(100*(+i[1]-+n[1])/Math.abs(+n[1]))+"%",displayName:"Difference %"},g.push(m),g.push(p)),g}getTooltipDataCombo(t){(0,u.Z)(this.locale,"LanguageKey");const e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.abs(Math.round(t[1]))).split("").length)));let a=t[3];""==a&&(a="#,0");const i=+t[10],n=r.G2.create({format:a,value:+("1e"+String(e)),precision:i,allowFormatBeautification:!0});let s,l;const c=t[14];return c&&(s=t[15],l=r.G2.create({format:t[15]})),[{displayName:"Axis",value:c?l.format(new Date(t[2])):String(t[2]),header:String(t[6])},{displayName:t[11]?t[12]:"Line1",value:n.format(t[1]),header:String(t[6])},{displayName:t[11]?t[13]:1==t[8]?"Column":"Line2",value:n.format(t[9]),header:String(t[6])},{displayName:"Var %",value:String(+(100*(+t[1]-t[9])/Math.abs(+t[9])).toFixed(1))+"%",header:String(t[6])}]}getTooltipDataColumns(t){(0,u.Z)(this.locale,"LanguageKey");const e=["Reference line","Average","First Point","Last Point"][t[11]];o.Ubm(".tiplines").remove();const a=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.abs(Math.round(t[1]))).split("").length)));let i=t[3];""==i&&(i="0");const n=+t[19],s=r.G2.create({format:i,value:+("1e"+String(a)),precision:n,allowFormatBeautification:!0});let l,c;const h=t[20];h&&(l=t[21],c=r.G2.create({format:t[21]}));const d=[{displayName:h?c.format(new Date(t[2])):String(t[2]),value:s.format(t[1]),header:String(t[6])}],f={displayName:e,value:s.format(t[9]),header:String(t[6])};return 1==t[10]&&d.push(f),d}getTooltipDataHeading(t){return(0,u.Z)(this.locale,"LanguageKey"),[{displayName:"Column Width",value:o.Ltv("#box"+(+t-1)).attr("width"),color:"Sarah"}]}toNum(t){const e="number"==typeof t?t:+String(t).trim();return Number.isFinite(e)?e:null}parseNumericPair(t){if(null==t)return{v1:null,v2:null};if("number"==typeof t)return{v1:this.toNum(t),v2:null};const e=String(t).trim();if(!e)return{v1:null,v2:null};const a=e.split("|",2);return{v1:this.toNum(a[0]),v2:a.length>1?this.toNum(a[1]):null}}mycalculation(t,e){return"1"==e?o.i2o(t):"2"==e?o.czq(t):"3"==e?o.jkA(t):"4"==e?o.T9B(t):"5"==e?t.filter((t=>null!==t)).length:"6"==e?new Set(t.filter((t=>null!==t))).size:void 0}nullcalculation(t,e){return"1"==e?o.i2o(t):"2"==e?t.reduce(((t,e)=>null==t&&null==e?null:t+e),null):"3"==e?o.jkA(t):"4"==e?o.T9B(t):"5"==e?t.filter((t=>null!==t)).length:"6"==e?new Set(t.filter((t=>null!==t))).size:void 0}update(t){var e,a,n,s;performance.now(),this.events.renderingStarted(t);const l=this.host.hostEnv;this.formatters=[],this.columnformatters=[],this.valueformatter=[],this.bubbleformatter=[],this.bulletformatter=[],this.waterfallformatter=[];const c=this;4==t.type&&(o.Ubm(".zoomsparklines").remove(),c.bgcolor.style.overflow="auto");const u=t.viewport.height,d=t.viewport.width;function g(t){let e=t;e=e.substring(1);const a=parseInt(e,16);return.2126*(a>>16&255)+.7152*(a>>8&255)+.0722*(255&a)<128?"dark":"light"}const m=new Date,p=new Date(2050,2,13);function b(){var e,a,i,n,r,s;try{null===(e=c.container)||void 0===e||e.selectAll("*").remove(),null===(a=c.svg)||void 0===a||a.selectAll(".groupingrect,.groupingrecttext,.sorters,.xaxis,.xaxis_time,.axislabels,.vlinevis,.vlinehid,.hline,.boxes,.xaxisboxes,.boxdrag,.dragboxes,.line,.sparkline,.bubbles,.sparkbars,.bullets,.donuts,.waffles,.ratings,.dumb,.waterfall,.highlight,.LandingPage").remove(),null===(i=c.svg)||void 0===i||i.selectAll(".bee_related,.images,[class^='beesetting'],[class^='beesetting_text']").remove(),null===(n=c.svg)||void 0===n||n.attr("width",t.viewport.width).attr("height",t.viewport.height),null===(s=null===(r=c.events)||void 0===r?void 0:r.renderingFinished)||void 0===s||s.call(r,t)}catch(t){}}this.handleLandingPage(t);const v=t.dataViews[0].matrix,y=null===(s=null===(n=null===(a=null===(e=t.dataViews)||void 0===e?void 0:e[0])||void 0===a?void 0:a.metadata)||void 0===n?void 0:n.columns)||void 0===s?void 0:s.some((t=>{var e;return null===(e=t.roles)||void 0===e?void 0:e.MainCategory}));if(!v||!v.rows||!v.rows.root||!v.rows.root.children||!y||m>p)return void b();const x=v.columns.root.children.map((t=>t.value)).length;let w,S,_,k,A,V,j,T,M,z,N,L,D,C,O,U,F,P,E,I,R;this.visualSettings=i.Mb.parse(t.dataViews[0]);const B=this.visualSettings.hidemovers.movecat,W=c.visualSettings.margins.orientation,$=[],G=[],Y=t.dataViews[0].metadata.columns.map((t=>({a:t.rolesIndex,b:t.displayName}))).filter((t=>void 0!==t.a));let H=Y.filter((t=>!t.a.hasOwnProperty("MainCategory")));H=Y.filter((t=>t.a.hasOwnProperty("MainCategory"))).concat(H);const q=[];let Z=!1;c.metadata.length>0&&(Z=c.metadata.filter((t=>t.roles.hasOwnProperty("MainCategory"))).map((t=>t.displayName)).sort().join("|")!==t.dataViews[0].metadata.columns.filter((t=>t.roles.hasOwnProperty("MainCategory"))).map((t=>t.displayName)).sort().join("|")),this.metadata=t.dataViews[0].metadata.columns,c.visualSettings.columnheaders.showgrouping&&c.metadata.forEach(((t,e)=>{const a=!!t.hasOwnProperty("objects")&&t.objects.hasOwnProperty("columnheaders"),i=!!a&&t.objects.columnheaders.hasOwnProperty("grouping"),n=!!a&&t.objects.columnheaders.hasOwnProperty("groupingcolor");q.push({DN:t.displayName,Grouping:i?t.objects.columnheaders.grouping:"",GroupingColor:n?t.objects.columnheaders.groupingcolor:"#ffffff",roles:t.roles})}));const X=this.metadata.filter((t=>t.roles.hasOwnProperty("Axis"))).length>0;X&&this.metadata.filter((t=>t.roles.hasOwnProperty("Axis")))[0].type.numeric,X&&this.metadata.filter((t=>t.roles.hasOwnProperty("Axis")))[0].type.dateTime&&(this.dateformat=this.metadata.filter((t=>t.roles.hasOwnProperty("Axis")))[0].format,this.dateformatter=r.G2.create({format:this.dateformat}));const J=this.metadata.filter((t=>t.roles.hasOwnProperty("Axis"))).map((t=>({displayName:t.displayName,Index:t.rolesIndex.Axis[0],isAxisNumeric:t.type.numeric,isAxisDate:t.type.dateTime,axisformat:t.format})));H.forEach(((t,e)=>{Object.keys(t.a).forEach(((e,a)=>{$.push(e+"|"+t.a[e]+"|"+t.b),G.push(e+"|"+t.a[e]+"|"+t.b)}))}));const K=t.dataViews[0].metadata.hasOwnProperty("objects")&&t.dataViews[0].metadata.objects.hasOwnProperty("general")&&t.dataViews[0].metadata.objects.general.hasOwnProperty("counter2");let Q=[];if(Q=K?String(t.dataViews[0].metadata.objects.general.counter2).split(","):$,K){R=Q.filter((t=>-1==$.indexOf(t))).length>0;const we=$.filter((t=>-1==Q.indexOf(t))).length>0;I=!(R||we),Q=Q.filter((t=>$.indexOf(t)>-1));const Se=$.filter((t=>-1==Q.indexOf(t)));Q=Q.concat(Se)}let tt=[],et=[];Q.forEach(((t,e)=>{tt.push({name:t.split("|")[0],index:t.split("|")[1],displayname:t.split("|")[2]}),et.push({name:t.split("|")[0],displayname:t.split("|")[2]})}));const at=tt.filter((t=>"MainCategory"==t.name)).length;this.rowlevels=at,tt=tt.filter((t=>"target"!==t.name&&"Axis"!==t.name&&"beenames"!==t.name));const it=o.jkA(tt.filter((t=>"MainCategory"==t.name)).map((t=>+t.index)));tt=tt.filter((t=>!("MainCategory"==t.name&&t.index>it)));const nt=tt.map((t=>t.name)).indexOf("MainCategory");Z&&function(t,e){const a=t[e];t.splice(e,1),t.splice(0,0,a)}(tt,nt),et=et.filter((t=>"target"!==t.name&&"Axis"!==t.name));const rt=tt.length;B||(tt=tt.filter((t=>"MainCategory"==t.name)).concat(tt.filter((t=>"MainCategory"!==t.name)))),c.visualSettings.columnheaders.showgrouping&&tt.forEach(((t,e)=>{t.grouping=q.filter(((e,a)=>e.DN==t.displayname))[0].Grouping,t.groupingcolor=q.filter(((e,a)=>e.DN==t.displayname))[0].GroupingColor})),this.columndata=tt;let st,lt,ot,ct,ut,ht,dt,ft,gt,mt,pt,bt,vt,yt,xt,wt,St,_t,kt,At,Vt,jt,Tt,Mt,zt,Nt,Lt,Dt,Ct,Ot,Ut,Ft,Pt,Et,It,Rt,Bt,Wt,$t;const Gt=[];[101,120,99,101,108,110,97,99,99,101,115,115,46,99,111,109].forEach((t=>Gt.push(String.fromCharCode(t))));const Yt=["red","grey","blue","white","green"],Ht=(t.dataViews[0].metadata.hasOwnProperty("objects")&&t.dataViews[0].metadata.objects.hasOwnProperty("general")&&t.dataViews[0].metadata.objects.general.hasOwnProperty("counter3")&&t.dataViews[0].metadata.objects.general.counter3,(c.visualSettings.hidemovers.show?20:0)+(c.visualSettings.columnheaders.showgrouping?+c.visualSettings.columnheaders.groupingheight-20:0)),qt=""==c.visualSettings.general.headingheight?80:+c.visualSettings.general.headingheight+(c.visualSettings.xaxis.showaxis?20+Ht:Ht);c.visualSettings.columnheaders.showgrouping;const Zt=[];String(at)!==String(c.visualSettings.general.nooflevels)&&(c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{nooflevels:at}}]}),c.host.persistProperties({remove:[{objectName:"general",selector:void 0,properties:{expandcollapse:""}}]}));{const _e=o.Sk5(v.rows.root),ke=o.Sk5(v.columns.root);ke.each((t=>t.level=t.data.level)),ke.each((t=>t.Axis=null==t.level?"Zubi":String(t.data.value))),ke.each((t=>t.uid=function(){let e=t,a=null==t.level?"Zubi":String(t.data.value);for(;null!==e.parent;)a=a+"!*"+(null==e.parent.level?"Zubi":String(e.parent.data.value)),e=e.parent;return a}()));let Ae=[],Ve=[];c.maxlevel=+o.T9B(ke.descendants().slice(1).filter((t=>"undefined"!==t.Axis)).map((t=>+t.level)));const je=ke.leaves().map((t=>t.data.hasOwnProperty("isSubtotal")?["subtotal"]:t.uid.split("!*").filter((t=>"undefined"!==t&&"Zubi"!==t)).reverse()));if(null==c.maxlevel)c.maxlevel=0,Ae=[["0"]],Ve=[["0"]];else{for(let We=0;We<=+c.maxlevel;We++)Ae.push(ke.descendants().slice(1).filter((t=>"undefined"!==t.Axis)).filter((t=>t.level==We)).map((t=>t.Axis)));c.maxlevel>0&&Ae.forEach(((t,e)=>{Ve.push(t.filter(((e,a)=>t.indexOf(e)==a)))}))}const Te=v.valueSources;Ae[0];let Me=[];Me=Me.filter(((t,e)=>Me.indexOf(t)==e));let ze=+c.visualSettings.general.togglesort.split("|")[0];ze>rt-1&&(ze=0);const Ne=c.visualSettings.general.togglesort.split("|")[1],Le=tt[ze],De=Te.filter((t=>t.displayName==Le.displayname&&t.roles.hasOwnProperty(Le.name)))[0],Ce=Te.indexOf(De);_e.sum((t=>{if(t.values){const e=Object.values(t.values).filter((t=>0==Ce?!t.hasOwnProperty("valueSourceIndex"):t.valueSourceIndex==Ce)).map((t=>t.value));return o.czq(e)}return 0})),_e.each((t=>t.level=t.data.level)),_e.each((t=>t.MainCategory=null==t.level?"Zubi":String(t.data.value))),_e.each((t=>t.hasChildren=!(!t.data.children||null==t.data.children[0].value||""==t.data.children[0].value))),_e.each((t=>t.visible=0==t.level));let Oe=1,Ue=1;_e.eachBefore((t=>t.order2=function(){if(null==t.order2)return Ue++}())),_e.each((t=>t.uid=function(){let e=t,a=null==t.level?"Zubi":String(t.data.value);for(;null!==e.parent;)a=a+"!*"+(null==e.parent.level?"Zubi":String(e.parent.data.value)),e=e.parent;return a}())),_e.each((t=>t.selectionId=c.host.createSelectionIdBuilder().withMatrixNode(t.data,v.rows.levels).createSelectionId())),_e.each((t=>{let e;t.leaves().map((t=>t.data.values)).forEach((t=>{e=[];for(let a=0;a<2;a++){const i=0==a?void 0:a;e.push(Object.values(t).filter(((t,e)=>t.valueSourceIndex==i)).map((t=>t.value)))}}));const a=[];for(let t=0;t<x;t++)a.push(o.czq(e.map((e=>e[t]))));t.myvalue=e})),_e.each((t=>t.myparent=t.parent?t.parent.lbl:"TopRoot")),Ce>-1&&_e.sort(((t,e)=>"a"==Ne?e.value-t.value:t.value-e.value)),_e.eachAfter((t=>t.order=function(){if(null==t.order)return Oe++}())),S=_e.descendants().slice(1),S.forEach((t=>{let e=t;const a=[t.order];for(;e.parent;)a.push(e.parent.order),e=e.parent;return a.reverse(),t.husain=a.join(".")})),Ce>-1&&S.sort(((t,e)=>e.order-t.order)),-1==Ce&&"d"==Ne&&S.sort(((t,e)=>e.order-t.order)),-1!=Ce||"a"!=Ne&&null!=Ne||S.sort(((t,e)=>t.order2-e.order2));const Fe=t=>t.reduce(((t,e)=>null==t&&null==e?null:t+e),null);function Pe(t,e,a,i,n,r){let s=n.height>0&&"0"==r?t.filter((t=>t.hasOwnProperty("isSubtotal"))).map((t=>t.values)).map((t=>t[a].value)):t[0].hasOwnProperty("isSubtotal")?t.map((t=>t.values)).map((t=>t[a].value)):t.filter((t=>!t.hasOwnProperty("isSubtotal"))).map((t=>t.values)).map((t=>t[a].value));try{const t=[o.i2o,o.czq,o.jkA,o.T9B][e],a=[],i=Math.max(...s.filter((t=>null!==t)).map((t=>t.split("|"))).map((t=>t.length)));s=s.map((t=>null==t?["0"]:t.split("|")));for(let e=0;e<i;e++){const i=s.map((t=>t[e]));a.push(t(i))}return a.join("|")}catch(t){return null}}function Ee(t){return t.filter(((e,a)=>t.indexOf(e)==a))}function Ie(t,e,a,i){const n=[];return i.forEach((i=>{const r=t.filter((t=>t[e]==i)).map((t=>t[a]));n.push({Axis:i,Value:Fe(r)})})),n}function Re(t,e,a,i){const n=[];return i.forEach((i=>{t.filter((t=>t[e]==i)).map((t=>t[a])),n.push({Axis:i,Value:0})})),n}const Be=Te;performance.now(),S.forEach((t=>{const e=t.leaves().map((t=>t.data)),a=t.leaves().map((t=>t.data.values)),i=a[0],n=Object.keys(i),r={};let s,l,u,h,d,f,g,m,p,b,v,y,x,w,S,_;{k=Be.filter(((t,e)=>t.roles.hasOwnProperty("sparkline"))).map((t=>t.displayName)),k=Ee(k);const t=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("sparkline")));s=k.map((e=>t.indexOf(e+"|*true"))),A=Be.filter(((t,e)=>t.roles.hasOwnProperty("sparkbar"))).map((t=>t.displayName)),A=Ee(A);const e=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("sparkbar")));l=A.map((t=>e.indexOf(t+"|*true"))),V=Be.filter(((t,e)=>t.roles.hasOwnProperty("combo"))).map((t=>t.displayName)),V=Ee(V);const a=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("combo")));u=V.map((t=>a.indexOf(t+"|*true"))),j=Be.filter(((t,e)=>t.roles.hasOwnProperty("stackedcol"))).map((t=>t.displayName)),j=Ee(j);const i=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("stackedcol")));h=j.map((t=>i.indexOf(t+"|*true"))),T=Be.filter(((t,e)=>t.roles.hasOwnProperty("bar"))).map((t=>t.displayName)),T=Ee(T);const n=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("bar")));d=T.map((t=>n.indexOf(t+"|*true"))),M=Te.filter(((t,e)=>t.roles.hasOwnProperty("bubble"))).map((t=>t.displayName)),M=Ee(M);const r=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("bubble")));f=M.map((t=>r.indexOf(t+"|*true"))),z=Te.filter(((t,e)=>t.roles.hasOwnProperty("donut"))).map((t=>t.displayName)),z=Ee(z);const o=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("donut")));g=z.map((t=>o.indexOf(t+"|*true"))),N=Te.filter(((t,e)=>t.roles.hasOwnProperty("waffle"))).map((t=>t.displayName)),N=Ee(N);const c=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("waffle")));m=N.map((t=>c.indexOf(t+"|*true"))),O=Te.filter(((t,e)=>t.roles.hasOwnProperty("ratings"))).map((t=>t.displayName)),O=Ee(O);const I=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("ratings")));p=O.map((t=>I.indexOf(t+"|*true"))),L=Be.filter(((t,e)=>t.roles.hasOwnProperty("waterfall"))).map((t=>t.displayName)),L=Ee(L);const R=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("waterfall")));b=L.map((t=>R.indexOf(t+"|*true"))),D=Be.filter(((t,e)=>t.roles.hasOwnProperty("dumb"))).map((t=>t.displayName)),D=Ee(D);const B=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("dumb")));v=D.map((t=>B.indexOf(t+"|*true"))),C=Be.filter(((t,e)=>t.roles.hasOwnProperty("numbers"))).map((t=>t.displayName)),C=Ee(C);const W=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("numbers")));y=C.map((t=>W.indexOf(t+"|*true"))),U=Be.filter(((t,e)=>t.roles.hasOwnProperty("dotplot"))).map((t=>t.displayName)),U=Ee(U);const $=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("dotplot")));x=U.map((t=>$.indexOf(t+"|*true"))),F=Be.filter(((t,e)=>t.roles.hasOwnProperty("beevalues"))).map((t=>t.displayName)),F=Ee(F);const G=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("beevalues")));w=F.map((t=>G.indexOf(t+"|*true"))),P=Be.filter(((t,e)=>t.roles.hasOwnProperty("beenames"))).map((t=>t.displayName)),P=Ee(P);const Y=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("beenames")));S=P.map((t=>Y.indexOf(t+"|*true"))),E=Be.filter(((t,e)=>t.roles.hasOwnProperty("beeimages"))).map((t=>t.displayName)),E=Ee(E);const H=Be.map((t=>t.displayName+"|*"+t.roles.hasOwnProperty("beeimages")));_=E.map((t=>H.indexOf(t+"|*true")))}n.forEach(((i,n)=>{const s=null==a[0][i].valueSourceIndex?0:a[0][i].valueSourceIndex,l=Te[s].roles.hasOwnProperty("stackedcol")&&1==Te[s].type.text||Te[s].roles.hasOwnProperty("combo")&&1==Te[s].type.text||Te[s].roles.hasOwnProperty("dumb")&&1==Te[s].type.text||Te[s].roles.hasOwnProperty("dotplot")&&1==Te[s].type.text||Te[s].roles.hasOwnProperty("beevalues")&&1==Te[s].type.text||Te[s].roles.hasOwnProperty("bar")&&1==Te[s].type.text,u=Te[s].roles.hasOwnProperty("numbers")&&1==Te[s].type.text,h=Object.keys(Te[s].roles)[0],d=["sparkline","sparkbar","combo","stackedcol","dotplot"].indexOf(h),f=["lines","sparkbars","combo","stackedcol","dotplot"][d],g=d>-1,m=g?c.getValue(Te[s].objects,f,"parentaggregation",c.visualSettings[f].parentaggregation):2,p="0"==m?2:m,b=(g&&c.getValue(Te[s].objects,f,"calculation",c.visualSettings[f].calculation),g?c.getValue(Te[s].objects,f,"parentaggregation",c.visualSettings[f].parentaggregation):2);var v;r[i]={value:u?a.map((t=>t[i].value))[0]:l?Pe(e,+p-1,i,je[n],t,b):(v=a.map((t=>t[i].value)),[o.i2o(v),Fe(v),o.jkA(v),o.T9B(v),v.length][+p-1]),valueSourceIndex:null==a[0][i].valueSourceIndex?0:a[0][i].valueSourceIndex,myaxis:je[n]}}));let I=[],R=[];const B=Be.filter(((t,e)=>s.includes(e))).map((t=>t.format)),W=Be.filter(((t,e)=>s.includes(e))).map((t=>t.type.text?"text":"number"));0==c.maxlevel?s.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t&&"subtotal"!==e[1].myaxis[0])).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),isAxisDate:J.filter((t=>0==t.Index))[0].isAxisDate,isAxisNumeric:J.filter((t=>0==t.Index))[0].isAxisNumeric,axisformat:J.filter((t=>0==t.Index))[0].axisformat,format:B[e],type:W[e]}))):(k.forEach(((t,e)=>{const a=c.metadata.filter((e=>e.displayName==t&&e.roles.hasOwnProperty("sparkline")));R.push(+c.getValue(a[0].objects,"lines","selectaxis",c.visualSettings.lines.selectaxis)-1)})),s.forEach(((t,e)=>{const a=Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[R[e]],Value:t[1].value}))),i=Ie(a,"Axis","Value",Ve[R[e]]);I.push({Value:i,isAxisDate:J.filter((t=>t.Index==R[e]))[0].isAxisDate,isAxisNumeric:J.filter((t=>t.Index==R[e]))[0].isAxisNumeric,axisformat:J.filter((t=>t.Index==R[e]))[0].axisformat,format:B[e]})}))),0==c.maxlevel||I.forEach(((t,e)=>{})),t.trend=I,I=[],R=[];const $=Be.filter(((t,e)=>l.includes(e))).map((t=>t.format)),G=Be.filter(((t,e)=>l.includes(e))).map((t=>t.type.text?"text":"number"));0==c.maxlevel?l.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t&&"subtotal"!==e[1].myaxis[0])).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),isAxisDate:J.filter((t=>0==t.Index))[0].isAxisDate,isAxisNumeric:J.filter((t=>0==t.Index))[0].isAxisNumeric,axisformat:J.filter((t=>0==t.Index))[0].axisformat,format:$[e],type:G[e]}))):(A.forEach(((t,e)=>{const a=c.metadata.filter((e=>e.displayName==t&&e.roles.hasOwnProperty("sparkbar")));R.push(+c.getValue(a[0].objects,"sparkbars","selectaxis",c.visualSettings.sparkbars.selectaxis)-1)})),l.forEach(((t,e)=>{const a=Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[R[e]],Value:t[1].value}))),i=Ie(a,"Axis","Value",Ve[R[e]]);I.push({Value:i,isAxisDate:J.filter((t=>t.Index==R[e]))[0].isAxisDate,isAxisNumeric:J.filter((t=>t.Index==R[e]))[0].isAxisNumeric,axisformat:J.filter((t=>t.Index==R[e]))[0].axisformat,format:$[e]})}))),c.maxlevel,t.trendbar=I;const Y=Be.filter(((t,e)=>u.includes(e))).map((t=>t.format)),H=Be.filter(((t,e)=>u.includes(e))).map((t=>t.type.text?"text":"number")),q=Be.filter(((t,e)=>u.includes(e))).map((t=>t.type.categoryString));I=[],R=[],0==c.maxlevel?u.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t&&"subtotal"!==e[1].myaxis[0])).map((t=>({Axis:t[1].myaxis[0],Value:""==t[1].value?null:t[1].value}))),format:Y[e],type:H[e],category:q[e],isAxisDate:J.filter((t=>0==t.Index))[0].isAxisDate,isAxisNumeric:J.filter((t=>0==t.Index))[0].isAxisNumeric,axisformat:J.filter((t=>0==t.Index))[0].axisformat}))):(V.forEach(((t,e)=>{const a=c.metadata.filter((e=>e.displayName==t&&e.roles.hasOwnProperty("combo")));R.push(+c.getValue(a[0].objects,"combo","selectaxis",c.visualSettings.combo.selectaxis)-1)})),u.forEach(((t,e)=>{const a=Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[R[e]],Value:t[1].value}))),i=Re(a,"Axis","Value",Ve[R[e]]);I.push({Value:i,format:Y[e],type:H[e],category:q[e],isAxisDate:J.filter((t=>t.Index==R[e]))[0].isAxisDate,isAxisNumeric:J.filter((t=>t.Index==R[e]))[0].isAxisNumeric,axisformat:J.filter((t=>t.Index==R[e]))[0].axisformat})}))),c.maxlevel,t.trendcombo=I;const Z=Be.filter(((t,e)=>h.includes(e))).map((t=>t.format)),X=Be.filter(((t,e)=>h.includes(e))).map((t=>t.type.text?"text":"number")),K=Be.filter(((t,e)=>h.includes(e))).map((t=>t.type.categoryString));I=[],R=[],0==c.maxlevel?h.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t&&"subtotal"!==e[1].myaxis[0])).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:Z[e],type:X[e],category:K[e],isAxisDate:J.filter((t=>0==t.Index))[0].isAxisDate,isAxisNumeric:J.filter((t=>0==t.Index))[0].isAxisNumeric,axisformat:J.filter((t=>0==t.Index))[0].axisformat}))):(j.forEach(((t,e)=>{const a=c.metadata.filter((e=>e.displayName==t&&e.roles.hasOwnProperty("stackedcol")));R.push(+c.getValue(a[0].objects,"stackedcol","selectaxis",c.visualSettings.stackedcol.selectaxis)-1)})),h.forEach(((t,e)=>{const a=Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[R[e]],Value:t[1].value}))),i=Re(a,"Axis","Value",Ve[R[e]]);I.push({Value:i,format:Z[e],type:X[e],category:K[e],isAxisDate:J.filter((t=>t.Index==R[e]))[0].isAxisDate,isAxisNumeric:J.filter((t=>t.Index==R[e]))[0].isAxisNumeric,axisformat:J.filter((t=>t.Index==R[e]))[0].axisformat})}))),c.maxlevel,t.trendstack=I;const Q=Be.filter(((t,e)=>d.includes(e))).map((t=>t.format)),tt=Be.filter(((t,e)=>d.includes(e))).map((t=>t.type.text?"text":"number")),et=Be.filter(((t,e)=>d.includes(e))).map((t=>t.type.categoryString));I=[],d.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:Q[e],type:tt[e],category:et[e]}))),t.bar=I;const at=Be.filter(((t,e)=>f.includes(e))).map((t=>t.format)),it=Be.filter(((t,e)=>f.includes(e))).map((t=>t.type.text?"text":"number")),nt=Be.filter(((t,e)=>f.includes(e))).map((t=>t.type.categoryString));I=[],f.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:at[e],type:it[e],category:nt[e]}))),t.bubbles=I;const rt=Be.filter(((t,e)=>g.includes(e))).map((t=>t.format)),st=Be.filter(((t,e)=>g.includes(e))).map((t=>t.type.text?"text":"number")),lt=Be.filter(((t,e)=>g.includes(e))).map((t=>t.type.categoryString));I=[],g.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:rt[e],type:st[e],category:lt[e]}))),t.donuts=I;const ot=Be.filter(((t,e)=>m.includes(e))).map((t=>t.format)),ct=Be.filter(((t,e)=>m.includes(e))).map((t=>t.type.text?"text":"number")),ut=Be.filter(((t,e)=>m.includes(e))).map((t=>t.type.categoryString));I=[],m.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:ot[e],type:ct[e],category:ut[e]}))),t.waffle=I;const ht=Be.filter(((t,e)=>p.includes(e))).map((t=>t.format)),dt=Be.filter(((t,e)=>p.includes(e))).map((t=>t.type.text?"text":"number")),ft=Be.filter(((t,e)=>p.includes(e))).map((t=>t.type.categoryString));I=[],p.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:ht[e],type:dt[e],category:ft[e]}))),t.ratings=I;const gt=Be.filter(((t,e)=>b.includes(e))).map((t=>t.format)),mt=Be.filter(((t,e)=>b.includes(e))).map((t=>t.type.text?"text":"number")),pt=Be.filter(((t,e)=>b.includes(e))).map((t=>t.type.categoryString));I=[],b.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:gt[e],type:mt[e],category:pt[e]}))),t.waterfall=I;const bt=Be.filter(((t,e)=>v.includes(e))).map((t=>t.format)),vt=Be.filter(((t,e)=>v.includes(e))).map((t=>t.type.text?"text":"number")),yt=Be.filter(((t,e)=>v.includes(e))).map((t=>t.type.categoryString));I=[],v.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:"0"==t[1].value?"0|0":t[1].value}))),format:bt[e],type:vt[e],category:yt[e]}))),t.dumb=I;const xt=Be.filter(((t,e)=>x.includes(e))).map((t=>t.format)),wt=Be.filter(((t,e)=>x.includes(e))).map((t=>t.type.text?"text":"number")),St=Be.filter(((t,e)=>x.includes(e))).map((t=>t.type.categoryString));I=[],R=[],x.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:"0"==t[1].value?"0|0":t[1].value}))),format:xt[e],type:wt[e],category:St[e]}))),t.dotplot=I;const _t=Be.filter(((t,e)=>w.includes(e))).map((t=>t.format)),kt=Be.filter(((t,e)=>w.includes(e))).map((t=>t.type.text?"text":"number")),At=Be.filter(((t,e)=>w.includes(e))).map((t=>t.type.categoryString));I=[],w.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:"0"==t[1].value?"0|0":t[1].value}))),format:_t[e],type:kt[e],category:At[e]}))),t.beevalues=I;const Vt=Be.filter(((t,e)=>S.includes(e))).map((t=>t.format)),jt=Be.filter(((t,e)=>S.includes(e))).map((t=>t.type.text?"text":"number")),Tt=Be.filter(((t,e)=>S.includes(e))).map((t=>t.type.categoryString));I=[],S.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:"0"==t[1].value?"0|0":t[1].value}))),format:Vt[e],type:jt[e],category:Tt[e]}))),t.beenames=I;const Mt=Be.filter(((t,e)=>_.includes(e))).map((t=>t.format)),zt=Be.filter(((t,e)=>_.includes(e))).map((t=>t.type.text?"text":"number")),Nt=Be.filter(((t,e)=>_.includes(e))).map((t=>t.type.categoryString));I=[],_.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:"0"==t[1].value?"0|0":t[1].value}))),format:Mt[e],type:zt[e],category:Nt[e]}))),t.beeimages=I;const Lt=Be.filter(((t,e)=>y.includes(e))).map((t=>t.format)),Dt=Be.filter(((t,e)=>y.includes(e))).map((t=>t.type.text?"text":"number")),Ct=Be.filter(((t,e)=>y.includes(e))).map((t=>t.type.categoryString));I=[],y.forEach(((t,e)=>I.push({Value:Object.entries(r).filter(((e,a)=>e[1].valueSourceIndex==t)).map((t=>({Axis:t[1].myaxis[0],Value:t[1].value}))),format:Lt[e],type:Dt[e],category:Ct[e]}))),t.values=I})),performance.now()}S.map((t=>({leaves:t.leaves(),name:t.MainCategory}))),S.forEach(((t,e)=>{t.height>0&&(t.trend=t.children.filter((t=>t.data.hasOwnProperty("isSubtotal")))[0].trend,t.trendbar=t.children.filter((t=>t.data.hasOwnProperty("isSubtotal")))[0].trendbar)}));const Xt=S.filter((t=>t.data.hasOwnProperty("isSubtotal")&&0==t.level))[0];S=S.filter((t=>!t.data.hasOwnProperty("isSubtotal"))),Xt.MainCategory="Total",""==c.visualSettings.general.expandcollapse?(w=S.filter((t=>0==t.level)),_=[]):(_=JSON.parse(c.visualSettings.general.expandcollapse),w=S.filter((t=>0==t.level||_.includes(t.uid)))),c.bgcolor.addEventListener("scroll",(()=>{})),this.categorynames=w.map((t=>({MainCategory:t.MainCategory,ID:t.selectionId}))),this.data=w;const Jt=""==c.visualSettings.general.togglesort||"yes"==c.visualSettings.general.togglesort.split("|")[0]||"no//"==c.visualSettings.general.togglesort.split("|")[0],Kt=Math.min(+c.visualSettings.general.togglesort.split("|")[0],tt.length-1),Qt=Jt?"MainCategory":tt[Kt].name;let te;Jt||tt[Kt].index,[].map((t=>t[Qt])),te=""==c.visualSettings.general.togglesort?"a":c.visualSettings.general.togglesort.split("|")[1],c.visualSettings.totalrow.show&&("0"==c.visualSettings.totalrow.position?(S.push(Xt),w.push(Xt)):(S.unshift(Xt),w.unshift(Xt)));const ee=qt;st=t.viewport.width,ot=st-0-0;const ae={text:"abcdefghijklmnopqrstxyAL",fontFamily:c.visualSettings.values.fontfamily,fontSize:+c.visualSettings.values.fontsize+2+"px"},ie=r.Tf.measureSvgTextHeight(ae)*w.length;ct=""==c.visualSettings.general.rowheight?+ie:+c.visualSettings.general.rowheight*w.length,lt=Math.max(ct+ee+0,t.viewport.height);const ne=c.visualSettings.margins.maxrowheight*w.length;ie>ct?(ct=ie,lt=Math.max(ct+ee+0,t.viewport.height)):ne<ct&&(ct=ne,lt=Math.max(ct+ee+0,t.viewport.height)),this.svg.attr("width",st).attr("height",lt),this.container.attr("width",ot).attr("height",ct).attr("transform",`translate(0,${ee}) rotate(0)`),Math.floor(ct+ee+0)>Math.floor(t.viewport.height)?c.bgcolor.style.overflowY="auto":c.bgcolor.style.overflowY="";const re=o.$Er().on("start",(function(t){o.Ubm(".support_rect_tooltip,.support_rect_tooltip_combo,.tiplines,.tiplines_combo").remove(),At=+o.Ltv(this).attr("tag"),Vt=At-1,jt="reverse"==W?+o.Ltv("#vlineviz"+Vt).attr("y1"):+o.Ltv("#vlineviz"+Vt).attr("x1");const e="reverse"==W?+o.Ltv("#vlineviz"+At).attr("y1"):+o.Ltv("#vlineviz"+At).attr("x1");c.container.append("text").attr("class","boxwidth").attr("x",e).attr("y",-ee+Ht).text((t=>+(+o.Ltv("#box"+(+At-1)).attr("width")).toFixed(0))).attr("text-anchor","middle").attr("dominant-baseline",c.visualSettings.hidemovers.show?"auto":"hanging")})).on("drag",(function(e){const a="reverse"==W?+o.Ltv(this).attr("y1"):+o.Ltv(this).attr("x1"),i="reverse"==W?+o.Ltv("#vlinehid"+(+At-1)).attr("y1"):+o.Ltv("#vlinehid"+(+At-1)).attr("x1"),n=a+ +("reverse"==W?e.dy:e.dx);let r;n>i+20&&(o.Ubm(".vlinehid,.vlinevis,.boxes,.xaxisboxes").each((function(t,a){const i=+o.Ltv(this).attr("tag"),n=o.Ltv(this).attr("class"),s=("boxes"==n||"xaxisboxes"==n?+o.Ltv(this).attr("x"):"reverse"==W?+o.Ltv(this).attr("y1"):+o.Ltv(this).attr("x1"))+ +("reverse"==W?e.dy:e.dx),l=+o.Ltv(this).attr("width");r=l+e.dx,i>=At&&("boxes"==n||"xaxisboxes"==n?o.Ltv(this).attr("x",s):"reverse"==W?o.Ltv(this).attr("y1",s).attr("y2",s):o.Ltv(this).attr("x1",s).attr("x2",s)),i!=At-1||"boxes"!=n&&"xaxisboxes"!=n||o.Ltv(this).attr("width",r)})),o.Ubm(".boxwidth").raise().attr("x",n).attr("y",-ee+Ht).text((n-jt).toFixed(0)).attr("text-anchor","middle").attr("dominant-baseline",c.visualSettings.hidemovers.show?"auto":"hanging")),"reverse"==W?(lt=o.T9B([t.viewport.height,+o.Ltv("#vlineviz"+ +rt).attr("y1")]),lt+=+o.Ltv("#vlineviz"+ +rt).attr("y1")>t.viewport.height?50:0,ct=lt-ee-0,c.svg.attr("height",lt),c.container.attr("height",ct)):(st=o.T9B([t.viewport.width,+o.Ltv("#vlineviz"+ +rt).attr("x1")]),st+=+o.Ltv("#vlineviz"+ +rt).attr("x1")>t.viewport.width?50:0,ot=st-0-0,c.svg.attr("width",st),c.container.attr("width",ot))})).on("end",(function(e){let a;o.Ubm(".boxwidth").remove(),a=oe?String(t.dataViews[0].metadata.objects.general.counter1):"",o.Ubm(".vlinehid,.vlinevis").each((function(t,e){const i=o.Ltv(this).attr("tag");if(i>=At){const t="reverse"==W?o.Ltv(this).attr("y1"):o.Ltv(this).attr("x1");let e=a.split(",");e=e.filter((t=>{const[e]=String(t).split("|",1);return e!==String(i)})),e.push(i+"|"+t),a=e.join(",")}})),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{counter1:a}}]})})),se=o.$Er().on("start",(function(t){o.Ubm(".support_rect_tooltip,.support_rect_tooltip_combo,.tiplines,.tiplines_combo").remove()})).on("drag",(function(t){Dt=+o.Ltv(this).attr("y1"),Nt=+Dt+t.dy,_t=Nt-Dt,kt=+o.Ltv(".boxes").attr("height"),o.Ubm(".boxes").attr("height",+kt+_t),o.Ltv(this).attr("y1",Nt).attr("y2",Nt)})).on("end",(function(t){const e=+kt+_t;c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{headingheight:e}}]})})),le=o.$Er().on("start",(function(t){o.Ubm(".support_rect_tooltip,.support_rect_tooltip_combo,.tiplines,.tiplines_combo").remove(),Tt="reverse"==W?+o.Ltv(this).attr("x1"):+o.Ltv(this).attr("y1")})).on("drag",(function(t){Dt="reverse"==W?+o.Ltv(this).attr("x1"):+o.Ltv(this).attr("y1"),At=+o.Ltv(this).attr("tag"),Nt=+Dt+("reverse"==W?+t.dx:+t.dy),_t=Nt-Dt,"reverse"==W?(o.Ltv(this).attr("x1",Nt).attr("x2",Nt),o.Ltv("#hline"+At).attr("x1",Nt).attr("x2",Nt)):(o.Ltv(this).attr("y1",Nt).attr("y2",Nt),o.Ltv("#hline"+At).attr("y1",Nt).attr("y2",Nt))})).on("end",(function(t){const e=Nt-Tt,a=("reverse"==W?ot/(w.length+1):ct/w.length)+e;c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{rowheight:a}}]})})),oe=(o.$Er().on("start",(function(){Ct=o.Ltv(this).attr("tag"),o.Ltv(this).attr("fill","silver")})).on("drag",(function(t){Ot=+o.Ltv(this).attr("x"),Ut=+Ot+t.dx,o.Ltv(this).attr("x",Ut)})).on("end",(function(){})),t.dataViews[0].metadata.hasOwnProperty("objects")&&t.dataViews[0].metadata.objects.hasOwnProperty("general")&&t.dataViews[0].metadata.objects.general.hasOwnProperty("counter1"));if(oe)Mt=String(t.dataViews[0].metadata.objects.general.counter1).split(",");else{Mt=[];for(let $e=1;$e<=rt;$e++)Mt.push($e+"|"+t.viewport.width*$e/5)}for(Mt=Mt.filter((t=>""!==t&&+t.split("|")[0]<=rt));Mt.length<rt;){const Ge=Mt.map((t=>+t.split("|")[0])).indexOf(o.T9B(Mt.map((t=>+t.split("|")[0])))),Ye=+Mt[Ge].split("|")[0],He=+Mt[Ge].split("|")[1];Mt.push(Ye+1+"|"+(He+t.viewport.width/5))}const ce=Mt.map((t=>{const[e,a]=t.split("|");return{idx:Number(e),pos:Number(a)}})).filter((t=>Number.isFinite(t.idx)&&Number.isFinite(t.pos)&&t.idx>=1&&t.idx<=rt));ce.sort(((t,e)=>t.idx-e.idx)),Mt=ce.map((t=>`${t.idx}|${t.pos}`)),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{counter1:Mt}}]});const ue=c.container.append("defs").append("filter").attr("id","drop-shadow").attr("height","130%");ue.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur"),ue.append("feOffset").attr("in","blur").attr("dx",1).attr("dy",1).attr("result","offsetBlur");const he=ue.append("feMerge");function de(){c.myboxselection=c.myboxselection.filter(((t,e)=>c.myboxselection.indexOf(t)==e)),c.myboxselection.forEach(((t,e)=>{}));const t=o.Ltv(this).classed("rectbox")?+o.Ltv(this).attr("tag"):+o.Ltv(this).attr("id");o.Ltv("#sorter"+t).attr("fill-opacity",1).raise().attr("d","M6 3l-6 8h4v10h4v-10h4l-6-8zm16 14h-8v-2h8v2zm2 2h-10v2h10v-2zm-4-8h-6v2h6v-2zm-2-4h-4v2h4v-2zm-2-4h-2v2h2v-2z");const e=c.visualSettings.general.togglesort.split("|")[1],a=t+"|"+(null==e?"a":"a"==e?"d":"a");c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{togglesort:a}}]}),c.myboxselection.forEach(((t,e)=>{}))}function fe(){const t=o.Ltv(this).attr("tag");o.Ubm("#dragbox"+t).attr("fill","pink").attr("fill-opacity",0)}function ge(){performance.now(),0==U.length?o.Ubm(".dot_related").remove():o.Ubm(".dot_related").filter((function(){return+o.Ltv(this).attr("tag")>=U.length})).remove(),c.noofstacks=[],U.forEach(((e,a)=>{const i=w.map((t=>t.dotplot[a]))[0].type,n=tt.filter((t=>"dotplot"==t.name&&t.displayname==e))[0],s=tt.indexOf(n);let l,u;const h=w[0].dotplot[a].Value[0].Value;let d=!1;if("text"==i&&(null==h||isNaN(h.split("|")[0])||isNaN(h.split("|")[1]))&&(d=!0),"text"!==i||d){const f=tt.filter((t=>"dotplot"==t.name&&t.displayname==e))[0],m=tt.indexOf(f),p=+o.Ltv("#vlineviz"+(m+1)).attr("x1")-+o.Ltv("#vlineviz"+m).attr("x1"),b=(+o.Ltv("#vlineviz"+(m+1)).attr("x1")+ +o.Ltv("#vlineviz"+m).attr("x1"))/2;c.container.append("rect").attr("class","comboerror").attr("width",+o.Ltv("#vlineviz"+(m+1)).attr("x1")-+o.Ltv("#vlineviz"+m).attr("x1")).attr("height",ct).attr("x",+o.Ltv("#vlineviz"+m).attr("x1")).attr("y",0).style("fill","none"),c.container.append("text").attr("class","comboerror").attr("x",b).attr("y",15).style("fill","red").text("Incorrect datatype for dotplot chart! Create a caclulated column or measure with 2 values concatenated like 100|50. For illustration, see the demo pbix file of this visual").attr("text-anchor","middle").call(be,p,10,String(c.visualSettings.category.fontfamily),20)}if("text"==i&&!d){const v=e,y=c.metadata.filter((t=>t.displayName==v&&t.roles.hasOwnProperty("dotplot"))),x=(c.getValue(y[0].objects,"dotplot","select_dot",c.visualSettings.dotplot.select_dot),c.getValue(y[0].objects,"dotplot","selectdot",c.visualSettings.dotplot.selectdot)),S=(c.getValue(y[0].objects,"dumb","fill",c.visualSettings.dumb.fill),c.getValue(y[0].objects,"dotplot","calculation",c.visualSettings.dotplot.calculation)),_=c.getValue(y[0].objects,"dotplot","parentaggregation",c.visualSettings.dotplot.parentaggregation);let k=c.getValue(y[0].objects,"dotplot","barwidth",c.visualSettings.dotplot.barwidth);const A=c.getValue(y[0].objects,"dotplot","bfill",c.visualSettings.dotplot.bfill),V=c.getValue(y[0].objects,"dotplot","mfill",c.visualSettings.dotplot.mfill),j=c.getValue(y[0].objects,"dotplot","shadow",c.visualSettings.dotplot.shadow),T=c.getValue(y[0].objects,"dotplot","zerobasecolor",c.visualSettings.dotplot.zerobasecolor),M=c.getValue(y[0].objects,"dotplot","showlabels",c.visualSettings.dotplot.showlabels),z=c.getValue(y[0].objects,"dotplot","fontcolor",c.visualSettings.dotplot.fontcolor),N=c.getValue(y[0].objects,"dotplot","fontsize",c.visualSettings.dotplot.fontsize),L=c.getValue(y[0].objects,"dotplot","fontfamily",c.visualSettings.dotplot.fontfamily),D=c.getValue(y[0].objects,"dotplot","border",c.visualSettings.dotplot.border),C=0,O=0,U=c.getValue(y[0].objects,"dotplot","displayUnits",c.visualSettings.dotplot.displayUnits),F=c.getValue(y[0].objects,"dotplot","decimal",c.visualSettings.dotplot.decimal),P=c.getValue(y[0].objects,"dotplot","roundcorners",c.visualSettings.dotplot.roundcorners),E=c.getValue(y[0].objects,"dotplot","text1",c.visualSettings.dotplot.text1),R=c.getValue(y[0].objects,"dotplot","text2",c.visualSettings.dotplot.text2),B=c.getValue(y[0].objects,"dotplot","text3",c.visualSettings.dotplot.text3),$=c.getValue(y[0].objects,"dotplot","text4",c.visualSettings.dotplot.text4),G=c.getValue(y[0].objects,"dotplot","text5",c.visualSettings.dotplot.text5),Y=c.getValue(y[0].objects,"dotplot","text6",c.visualSettings.dotplot.text6),H=c.getValue(y[0].objects,"dotplot","fill1",c.visualSettings.dotplot.fill1),q=c.getValue(y[0].objects,"dotplot","fill2",c.visualSettings.dotplot.fill2),Z=c.getValue(y[0].objects,"dotplot","fill3",c.visualSettings.dotplot.fill3),J=c.getValue(y[0].objects,"dotplot","fill4",c.visualSettings.dotplot.fill4),K=c.getValue(y[0].objects,"dotplot","fill5",c.visualSettings.dotplot.fill5),Q=c.getValue(y[0].objects,"dotplot","fill6",c.visualSettings.dotplot.fill6),et=c.getValue(y[0].objects,"dotplot","sameaxis",c.visualSettings.dotplot.sameaxis),at=c.getValue(y[0].objects,"dotplot","variance",c.visualSettings.dotplot.variance),it=c.getValue(y[0].objects,"dotplot","variance2",c.visualSettings.dotplot.variance2),nt=c.getValue(y[0].objects,"dotplot","pfillvar",c.visualSettings.dotplot.pfillvar),rt=c.getValue(y[0].objects,"dotplot","nfillvar",c.visualSettings.dotplot.nfillvar),st=c.getValue(y[0].objects,"dotplot","pfillvartext",c.visualSettings.dotplot.pfillvartext),lt=c.getValue(y[0].objects,"dotplot","nfillvartext",c.visualSettings.dotplot.nfillvartext),ut=Mt.map((t=>+t.split("|")[1])),ht=1==s?ut[0]/2:(ut[s-1]+ut[s-2])/2,gt="reverse"==W?1==s?ut[s-1]:ut[s-1]-ut[s-2]:ct/w.length;function mt(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+_-1]}function pt(t,e){const i="0"==S?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.dotplot[a].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>+t.Value.split("|")[e])),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.dotplot[a].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>+t.Value.split("|")[e])),S))),n=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.dotplot[a].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;return"0"==_?+n.split("|")[e]:mt(i)}"reverse"==W?w.length:(o.Ltv("#vlineviz"+(s+1)).attr("x1"),o.Ltv("#vlineviz"+s).attr("x1"));const bt=7,vt=+o.T9B(w.map((t=>t.dotplot[a])).map((t=>o.T9B(t.Value.map((t=>t.Value.split("|").length))))));function yt(t,e,a){const i=t[e];t.splice(e,1),t.splice(a,0,i)}c.noofstacks.push(Math.min(vt,6));const wt=o.y17(6),St=["value","target","third","fourth","fifth","sixth"],_t=c.stack_selected.indexOf(c.stack_selected.filter((t=>t.index==a))[0]);"1"==x&&_t>-1&&yt(wt,c.stack_selected.filter((t=>t.index==a))[0].stack_selected,0);const kt=w.map((t=>({bar:{},MainCategory:t.MainCategory,selectionId:t.selectionId,index:a,type:t.dotplot[a].type,height:t.height}))),At=w.map((t=>({value:t.height>0?pt(t,0==wt[0]?0:wt[0]):"0"==S?+String(t.dotplot[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[0]:c.mycalculation(t.dotplot[a].Value.filter((t=>""!==t.Value)).map((t=>+t.Value.split("|")[wt[0]])),S),target:t.height>0?pt(t,0==wt[1]?0:wt[1]):"0"==S?+String(t.dotplot[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[1]:c.mycalculation(t.dotplot[a].Value.filter((t=>""!==t.Value)).map((t=>+t.Value.split("|")[wt[1]])),S),third:t.height>0?pt(t,0==wt[2]?0:wt[2]):"0"==S?+String(t.dotplot[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[2]:c.mycalculation(t.dotplot[a].Value.filter((t=>""!==t.Value)).map((t=>+t.Value.split("|")[wt[2]])),S),fourth:t.height>0?pt(t,0==wt[3]?0:wt[3]):"0"==S?+String(t.dotplot[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[3]:c.mycalculation(t.dotplot[a].Value.filter((t=>""!==t.Value)).map((t=>+t.Value.split("|")[wt[3]])),S),fifth:t.height>0?pt(t,0==wt[4]?0:wt[4]):"0"==S?+String(t.dotplot[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[4]:c.mycalculation(t.dotplot[a].Value.filter((t=>""!==t.Value)).map((t=>+t.Value.split("|")[wt[4]])),S),sixth:t.height>0?pt(t,0==wt[5]?0:wt[5]):"0"==S?+String(t.dotplot[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[5]:c.mycalculation(t.dotplot[a].Value.filter((t=>""!==t.Value)).map((t=>+t.Value.split("|")[wt[5]])),S),MainCategory:t.MainCategory,selectionId:t.selectionId,index:a,type:t.dotplot[a].type,height:t.height})));At.forEach(((t,e)=>{t.firstpie=t.value-t.third,t.secondpie=t.fourth-t.value,t.targetgauge=(t.target-t.third)/(t.fourth-t.third)}));const Vt=At.map((t=>({value:!isNaN(t.value)&&t.value>0?t.value:0,target:!isNaN(t.target)&&t.target>0?t.target:0,third:!isNaN(t.third)&&t.third>0?t.third:0,fourth:!isNaN(t.fourth)&&t.fourth>0?t.fourth:0,fifth:!isNaN(t.fifth)&&t.fifth>0?t.fifth:0,sixth:!isNaN(t.sixth)&&t.sixth>0?t.sixth:0}))),jt=At.map((t=>({value:!isNaN(t.value)&&t.value<=0?t.value:0,target:!isNaN(t.target)&&t.target<=0?t.target:0,third:!isNaN(t.third)&&t.third<=0?t.third:0,fourth:!isNaN(t.fourth)&&t.fourth<=0?t.fourth:0,fifth:!isNaN(t.fifth)&&t.fifth<=0?t.fifth:0,sixth:!isNaN(t.sixth)&&t.sixth<=0?t.sixth:0}))),Tt=o.t$z().keys(St),zt=Tt(Vt),Nt=Tt(jt),Lt=Vt.map((t=>Object.values(t)));o.JLW().innerRadius(0).outerRadius(50),o.UMr(o.t55);let Dt=At.map((t=>t.value)).concat(At.map((t=>t.target))).concat(At.map((t=>t.third))).concat(At.map((t=>t.fourth))).concat(At.map((t=>t.fifth))).concat(At.map((t=>t.sixth)));l=o.T9B(Dt),u=o.jkA(Dt);const Ct=l,Ot=u,Ut=+o.Ltv("#vlineviz"+s).attr("x1"),Ft=+o.Ltv("#vlineviz"+(s+1)).attr("x1"),Pt=(Ft-Ut)*C/100,Et=(Ft-Ut)*O/100,It=""==at||x<3?[]:at.split("-"),Rt=It.length>0&&"3"==x,Bt=30,Wt=""==it||x<3?[]:it.split("-"),$t=Wt.length>0&&"3"==x;let Gt=o.m4Y().domain([Math.min(Ot,0),Math.max(Ct,0)]).range([gt,+(Rt?Bt:0)+15]),Yt=o.WH().domain(o.y17(+c.noofstacks[a]).map((t=>String(t)))).range([0,Ft-Ut]).padding(.3);dt=o.m4Y().domain([Ot,Ct]).range([Ut+Pt,Ft-Et]),ft=o.WH().domain(w.map((t=>t.MainCategory.toString()))).range([0,ct]).padding(k/100),xt=ft.step()-ft.bandwidth();const qt=Math.min(o.jkA(zt.flat(3).concat(Nt.flat(3))),0),Zt=Math.max(0,o.T9B(zt.flat(3).concat(Nt.flat(3)))),Xt=o.m4Y().domain([qt,Zt]).range([Ut+Pt,Ft-Et]);let Jt=["#ED6801","#FAAE5A","#F9E795","#3CA8C4","#349534","#A1D570"];Jt=[H,q,Z,J,K,Q],Jt=Jt.map((t=>"object"==typeof t?t.solid.color:t));const Kt=Jt.map((t=>"dark"==g(t)?"white":"black")),Qt=[E,R,B,$,G,Y];function te(){const t={text:"123ABCPpyt0",fontFamily:String(L),fontSize:N+"px"},e=r.Tf.measureSvgTextHeight(t),i="reverse"==W?1==s?ut[s-1]:ut[s-1]-ut[s-2]:ct/w.length,n="reverse"==W?ot/(w.length+1):+o.Ltv("#vlineviz"+(s+1)).attr("x1")-+o.Ltv("#vlineviz"+s).attr("x1"),l=o.jkA([i/2,n/2]),u=o.rLf().startAngle(0).endAngle(2*Math.PI).sort(((t,e)=>+t.index-e.index)),h=Lt.map((t=>u(t)));h.forEach(((t,e)=>{t.forEach(((t,e)=>{const a=(t.endAngle+t.startAngle)/2;t.x1=Math.cos(t.startAngle-1.5708)*l*.9,t.x2=Math.cos(t.endAngle-1.5708)*l*.9,t.x3=Math.cos(a-1.5708)*l*.9,t.y1=Math.sin(t.startAngle-1.5708)*l*.9,t.y2=Math.sin(t.endAngle-1.5708)*l*.9,t.y3=Math.sin(a-1.5708)*l*.9,t.heightspace=Math.abs(t.y2-t.y1),t.sa=180*t.startAngle/Math.PI,t.ea=180*t.endAngle/Math.PI,t.ma=180*a/Math.PI,t.ta=t.ea-t.sa}))}));const d=o.JLW().innerRadius(0).outerRadius(.9*l).padAngle(0).padRadius(0).cornerRadius(2);c.container.selectAll(".pies"+a).data(h).join("g").attr("class","pies"+a).classed("pies",!0).classed("dotplot"+a,!0).classed("dot_related",!0).attr("tag",((t,e)=>e)).attr("transform",((t,e)=>`translate(${"reverse"==W?ot*(e+1)/(w.length+1)+ot/(w.length+1)/2:(Ft+Ut)/2},${"reverse"==W?ht:i*e+i/2})`)).each((function(t,i){const n=+o.Ltv(this).attr("tag"),s=o.Ltv(this).selectAll(".mypies"+a).data(t).join("path").attr("class","mypies"+a).attr("d",d).attr("fill",((t,e)=>Jt[e])).attr("stroke","object"==typeof D?D.solid.color:D).attr("stroke-width",.75).style("filter",j?"url(#drop-shadow)":"").on("mousemove",(function(t,e){const a=s.nodes().indexOf(this);o.Ltv(this).attr("stroke-width",2).attr("stroke","black"),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataDotPlot(t,n,F,U,Qt[+a],x)),(t=>null))})).on("mouseout",(function(){o.Ltv(this).attr("stroke-width",.75).attr("stroke",D)}));M?o.Ltv(this).selectAll(".mypiestext"+a).data(t).join("text").attr("class","mypiestext"+a).classed("dot_related",!0).attr("x",((t,e)=>t.ta>75?d.centroid(t)[0]+5:t.x3+(t.ma<=180?7:-7))).attr("y",((t,e)=>t.ta>75?d.centroid(t)[1]+5:t.y3)).attr("text-anchor",(t=>t.ta>75&&t.ma<=180?"middle":t.ma<=180?"start":"end")).attr("fill",((t,e)=>{const a="object"==typeof z?z.solid.color:z;return"dark"==g(Jt[e])&&t.ta>75?"White":a})).attr("font-family",String(L)).attr("font-size",N).text((t=>{let a;"auto"==U?a=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t.value)).length))):"thousands"==U?a=3:"millions"==U?a=6:"billions"==U?a=9:"none"==U&&(a="0");const i=+F,n=r.G2.create({format:"#,0",value:+("1e"+String(a)),precision:i,allowFormatBeautification:!0}),s={text:String(t.value),fontFamily:String(L),fontSize:N+"px"};return r.Tf.measureSvgTextHeight(s),r.Tf.measureSvgTextWidth(s),t.endAngle,t.startAngle,0==+t.value||t.heightspace<e&&t.ta<=75?"":n.format(t.value)})):o.Ubm(".mypiestext"+a).remove()}))}function ee(){const t=ct/w.length;k=t*(+k/100),c.container.selectAll(".mystackedbarchart"+a).data(zt).join("g").attr("class","stackedbarchart").classed("dotplot"+a,!0).classed("mystackedbarchart"+a,!0).attr("tag",((t,e)=>e)).attr("id","any").classed("stacksbar",!0).classed("dot_related",!0).style("fill",((t,e)=>Jt[wt[e]])).style("fill-opacity",1).each((function(t,e){const i=+o.Ltv(this).attr("tag"),n=o.Ltv(this).selectAll(".mystrect"+a).data(t).join("rect").classed("mystrect"+a,!0).classed("dot_related",!0).attr("height",k).attr("width",(t=>Math.abs(+Xt(t[1])-+Xt(t[0])))).attr("y",0).attr("x",(t=>+Xt(t[0]))).attr("rx",+P).attr("ry",+P).attr("transform",((t,e)=>`translate(0,${ct*e/w.length+ct/w.length/2-k/2})`)).attr("stroke",D).style("stroke-width",1).style("fill-opacity",1).style("filter",j?"url(#drop-shadow)":"").on("mousemove",(function(t,e){n.nodes().indexOf(this),o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke","black"),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataDotPlot(t,i,F,U,Qt[wt[i]],x)),(t=>null))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",1),o.Ltv(this).style("stroke",D)}));M?o.Ltv(this).selectAll(".stackedbartext"+a).data(t).join("text").attr("class","stackedbartext"+a).classed("dot_related",!0).text((t=>{let e;"auto"==U?e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(+t[1]-t[0])).length))):"thousands"==U?e=3:"millions"==U?e=6:"billions"==U?e=9:"none"==U&&(e="0");const a=+F,i=r.G2.create({format:"#,0",value:+("1e"+String(e)),precision:a,allowFormatBeautification:!0}),n={text:i.format(t[1]-t[0]),fontFamily:String(L),fontSize:N+"px"},s=r.Tf.measureSvgTextWidth(n),l=+Xt(t[1])-Xt(t[0]);return+t[1]-t[0]==0||s>l?"":i.format(t[1]-t[0])})).attr("y",0).attr("x",(t=>(+Xt(t[1])+Xt(t[0]))/2)).attr("transform",((t,e)=>`translate(0,${ct*e/w.length+ct/w.length/2})`)).attr("stroke","none").style("fill-opacity",1).style("fill",Kt[wt[e]]).attr("font-family",String(L)).attr("font-size",N).style("dominant-baseline","middle").attr("text-anchor","middle").raise():o.Ubm(".stackedbartext"+a).remove()})),c.container.selectAll(".negstackedbarchart"+a).data(Nt).join("g").attr("class","negstackedbarchart"+a).classed("dot_related",!0).attr("tag",((t,e)=>e)).attr("id","any").classed("stacksbar",!0).style("fill",((t,e)=>Jt[wt[e]])).style("fill-opacity",1).each((function(t,e){const i=+o.Ltv(this).attr("tag"),n=o.Ltv(this).selectAll(".mystnrect"+a).data(t).join("rect").classed("mystnrect"+a,!0).classed("dot_related",!0).attr("height",k).attr("width",(t=>Math.abs(+Xt(t[0])-+Xt(t[1])))).attr("y",0).attr("x",(t=>+Xt(t[1]))).attr("rx",+P).attr("ry",+P).attr("transform",((t,e)=>`translate(0,${ct*e/w.length+ct/w.length/2-k/2})`)).attr("stroke",D).style("stroke-width",1).style("fill-opacity",1).style("filter",j?"url(#drop-shadow)":"").on("mousemove",(function(t,e){n.nodes().indexOf(this),o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke","black"),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataDotPlot(t,i,F,U,Qt[wt[i]],x)),(t=>null))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",1),o.Ltv(this).style("stroke",D)}));M?o.Ltv(this).selectAll(".negstackedbartext"+a).data(t).join("text").classed("negstackedbartext"+a,!0).classed("dot_related",!0).text((t=>{let e;"auto"==U?e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(+t[0]-t[1])).length))):"thousands"==U?e=3:"millions"==U?e=6:"billions"==U?e=9:"none"==U&&(e="0");const a=+F,i=r.G2.create({format:"#,0",value:+("1e"+String(e)),precision:a,allowFormatBeautification:!0}),n={text:i.format(t[0]-t[1]),fontFamily:String(L),fontSize:N+"px"},s=r.Tf.measureSvgTextWidth(n),l=+Xt(t[0])-Xt(t[1]);return+t[1]-t[0]==0||s>l?"":i.format(-(t[0]-t[1]))})).attr("y",0).attr("x",(t=>(+Xt(t[0])+Xt(t[1]))/2)).attr("transform",((t,e)=>`translate(0,${ct*e/w.length+ct/w.length/2})`)).attr("stroke","none").style("fill-opacity",1).style("fill",Kt[wt[e]]).attr("font-family",String(L)).attr("font-size",+N).style("dominant-baseline","middle").attr("text-anchor","middle"):o.Ubm(".negstackedbartext"+a).remove()})),c.container.append("line").attr("class","stackedbarchart").attr("x1",+Xt(0)).attr("x2",+Xt(0)).attr("y1",0).attr("y2",ct).style("stroke","object"==typeof T?T.solid.color:T).style("stroke-width",.5)}function ae(){c.container.selectAll(".dot_bars"+a).data(At).join("g").classed("dot_bars"+a,!0).classed("dot_related",!0).attr("tag",a).attr("id",((t,e)=>e)).each((function(t,e){Dt=Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a])),l=o.T9B(Dt),u=o.jkA(Dt);const i=l,n=u,h=+o.Ltv("#vlineviz"+s).attr("x1"),d=+o.Ltv("#vlineviz"+(s+1)).attr("x1");if(et||(Gt=o.m4Y().domain([Math.min(n,0),Math.max(i,0)]).range([gt,+(Rt?Bt:0)+15]),Yt=o.WH().domain(o.y17(+c.noofstacks[a]).map((t=>String(t)))).range([0,d-h]).padding(.3)),o.Ltv(this).selectAll(".vbars"+a).data(Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]-1))).join("rect").attr("class","vbars"+a).attr("x",((t,e)=>h+Yt(String(e)))).attr("y",((t,a)=>+t>=0?e*gt+Gt(+t):e*gt+Gt(0))).attr("width",Yt.bandwidth()).attr("height",((t,e)=>+t>=0?+Gt(0)-Gt(+t):+Gt(0)-Gt(Math.abs(+t)))).style("fill",((t,e)=>Jt[e])).style("stroke","object"==typeof A?A.solid.color:A).style("stroke-width",0).style("filter",j?"url(#drop-shadow)":"").on("mousemove",(function(t,e){o.Ltv(this).style("stroke","black").style("stroke-width",1)})).on("mouseout",(function(t,e){o.Ltv(this).style("stroke","none").style("stroke-width",0)})),o.Ltv(this).selectAll(".vbarstext"+a).data(Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]-1))).join("text").attr("class","vbarstext"+a).attr("x",((t,e)=>h+Yt(String(e))+Yt.bandwidth()/2)).attr("y",((t,a)=>+t>=0?e*gt+Gt(+t)-2:e*gt+Gt(0)-2)).text((t=>{let e;"auto"==U?e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(+t)).length))):"thousands"==U?e=3:"millions"==U?e=6:"billions"==U?e=9:"none"==U&&(e="0");const a=+F;return r.G2.create({format:"#,0",value:+("1e"+String(e)),precision:a,allowFormatBeautification:!0}).format(+t)})).style("fill","black").style("dominant-baseline","auto").attr("text-anchor","middle").attr("font-family",String(L)).attr("font-size",N),o.Ltv(this).selectAll(".vbars_zerobase"+a).data([0]).join("line").attr("class","vbars_zerobase"+a).attr("x1",((t,e)=>h)).attr("x2",((t,e)=>d)).attr("y1",((t,a)=>e*gt+Gt(0))).attr("y2",((t,a)=>e*gt+Gt(0))).style("stroke","black").style("stroke-width",.5),Rt){const i=Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]))[+It[0]-1],n=Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]))[+It[1]-1];c.container.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 Z").attr("class","arrow"),o.Ltv(this).selectAll(".vbars_var"+a).data(Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]-1))).join("line").attr("class","vbars_var"+a).classed("pievariances",!0).attr("x1",((t,e)=>h+Yt(String(e))+Yt.bandwidth()/(e==+It[1]-1?2.5:1.5))).attr("x2",((t,e)=>h+Yt(String(e))+Yt.bandwidth()/(e==+It[1]-1?2.5:1.5))).attr("y2",((t,a)=>+t>=0?e*gt+Gt(+t)-15:e*gt+Gt(0)-15)).attr("y1",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).style("fill","grey").style("stroke","grey").style("stroke-width",((t,e)=>It.includes(String(e+1))?.5:0)).attr("marker-end",((t,e)=>e==+It[1]-1?"url(#arrowhead)":"")),o.Ltv(this).selectAll(".vbars_var_h"+a).data([0]).join("line").attr("class","vbars_var_h"+a).classed("pievariances",!0).attr("x1",((t,e)=>h+Yt(String(+It[0]-1))+Yt.bandwidth()/1.5)).attr("x2",((t,e)=>h+Yt(String(+It[1]-1))+Yt.bandwidth()/2.5)).attr("y1",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).attr("y2",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).style("fill","grey").style("stroke","grey").style("stroke-width",((t,e)=>.5)),o.Ltv(this).selectAll(".vbars_var_circle"+a).data([0]).join("ellipse").attr("class","vbars_var_circle"+a).classed("pievariances",!0).attr("rx",20).attr("ry",12).attr("cx",((t,e)=>h+o.i2o([Yt(String(+It[0]-1)),Yt(String(+It[1]-1))])+Yt.bandwidth()/2)).attr("cy",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).style("fill",(()=>n>=i?"object"==typeof nt?nt.solid.color:nt:"object"==typeof rt?rt.solid.color:rt)).style("stroke","grey").style("stroke-width",.5),o.Ltv(this).selectAll(".vbars_var_circle_text"+a).data([0]).join("text").attr("class","vbars_var_circle_text"+a).classed("pievariances",!0).attr("x",((t,e)=>h+o.i2o([Yt(String(+It[0]-1)),Yt(String(+It[1]-1))])+Yt.bandwidth()/2)).attr("y",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).text((t=>{const e=+(+n-i)/Math.abs(+i)*100;return String(e.toFixed(F))+"%"})).style("fill",n>=i?"object"==typeof st?st.solid.color:st:"object"==typeof lt?lt.solid.color:lt).style("text-anchor","middle").style("dominant-baseline","middle").attr("font-size",N).attr("font-family",String(L))}if($t){const i=Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]))[+Wt[0]-1],n=Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]))[+Wt[1]-1];c.container.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 Z").attr("class","arrow"),o.Ltv(this).selectAll(".vbars_var2"+a).data(Object.values(t).filter(((t,e)=>void 0!==t&&e<=+c.noofstacks[a]-1))).join("line").attr("class","vbars_var2"+a).classed("pievariances",!0).attr("x1",((t,e)=>h+Yt(String(e))+Yt.bandwidth()/(e==+Wt[1]-1?2.5:1.5))).attr("x2",((t,e)=>h+Yt(String(e))+Yt.bandwidth()/(e==+Wt[1]-1?2.5:1.5))).attr("y2",((t,a)=>+t>=0?e*gt+Gt(+t)-15:e*gt+Gt(0)-15)).attr("y1",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).style("fill","grey").style("stroke","grey").style("stroke-width",((t,e)=>Wt.includes(String(e+1))?.5:0)).attr("marker-end",((t,e)=>e==+Wt[1]-1?"url(#arrowhead)":"")),o.Ltv(this).selectAll(".vbars_var_h2"+a).data([0]).join("line").attr("class","vbars_var_h2"+a).classed("pievariances",!0).attr("x1",((t,e)=>h+Yt(String(+Wt[0]-1))+Yt.bandwidth()/1.5)).attr("x2",((t,e)=>h+Yt(String(+Wt[1]-1))+Yt.bandwidth()/2.5)).attr("y1",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).attr("y2",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).style("fill","grey").style("stroke","grey").style("stroke-width",((t,e)=>.5)),o.Ltv(this).selectAll(".vbars_var_circle2"+a).data([0]).join("ellipse").attr("class","vbars_var_circle2"+a).classed("pievariances",!0).attr("rx",20).attr("ry",12).attr("cx",((t,e)=>h+o.i2o([Yt(String(+Wt[0]-1)),Yt(String(+Wt[1]-1))])+Yt.bandwidth()/2)).attr("cy",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).style("fill",(()=>n>=i?"object"==typeof nt?nt.solid.color:nt:"object"==typeof rt?rt.solid.color:rt)).style("stroke","grey").style("stroke-width",.5),o.Ltv(this).selectAll(".vbars_var_circle_text2"+a).data([0]).join("text").attr("class","vbars_var_circle_text2"+a).classed("pievariances",!0).attr("x",((t,e)=>h+o.i2o([Yt(String(+Wt[0]-1)),Yt(String(+Wt[1]-1))])+Yt.bandwidth()/2)).attr("y",((t,a)=>{const r=o.jkA([Gt(+i>=0?i:0),Gt(+n>=0?n:0)]);return e*gt+r-30})).text((t=>{const e=+(+n-i)/Math.abs(+i)*100;return String(e.toFixed(F))+"%"})).style("fill",n>=i?"object"==typeof st?st.solid.color:st:"object"==typeof lt?lt.solid.color:lt).style("text-anchor","middle").style("dominant-baseline","middle").attr("font-size",N).attr("font-family",String(L))}}))}function ie(){const t=[];let e=0,i=0,n=0;const s=Ft-Ut;Qt.forEach(((a,l)=>{const o={text:String(a),fontFamily:String(c.visualSettings.columnheaders.fontfamily),fontSize:c.visualSettings.columnheaders.fontsize+"px"},u=(r.Tf.measureSvgTextHeight(o),r.Tf.measureSvgTextWidth(o));e=26+e+u,e>s&&(e=26+u,n=l>0?n+1:n),i=e-u,t.push({name:a,width:u,cumwidth:e,cumwidthstart:i,line_number:n})})),c.svg.selectAll(".stackedbarchart_headings_circles"+a).data(o.y17(c.noofstacks[a])).join("circle").classed("stackedbarchart_headings_circles"+a,!0).classed("pieheadings",!0).style("fill",(t=>Jt[t])).attr("cx",((e,a)=>Ut+t[e].cumwidthstart-13)).attr("cy",((e,a)=>Ht+30+26*+t[e].line_number)).attr("r",10).on("mouseover",(function(){o.Ltv(this).attr("stroke","black")})).on("mouseout",(function(){o.Ltv(this).attr("stroke","none")})).on("click",(function(t,e){const i=c.stack_selected.indexOf(c.stack_selected.filter((t=>t.index==a))[0]);i>-1?c.stack_selected[i]={index:a,stack_selected:e}:c.stack_selected.push({index:a,stack_selected:e}),o.Ubm(".dot_related").remove(),ge()}));const l=c.visualSettings.columnheaders.fontcolor;c.svg.selectAll(".stackedbarchart_headings"+a).data(o.y17(c.noofstacks[a])).join("text").text((t=>Qt[t])).classed("stackedbarchart_headings"+a,!0).classed("pieheadings",!0).style("fill","object"==typeof l?l.solid.color:l).attr("x",((e,a)=>Ut+t[e].cumwidthstart)).attr("y",(e=>Ht+30+26*+t[e].line_number)).style("dominant-baseline","middle").attr("text-anchor","start").attr("font-size",c.visualSettings.columnheaders.fontsize).attr("font-family",String(c.visualSettings.columnheaders.fontfamily))}function ne(){c.container.selectAll(".dot_line"+a).data(At).join("circle").classed("dot_line"+a,!0).classed("dot_related",!0).attr("tag",a).attr("id",((t,e)=>e)).attr("r",bt).attr("cx",((t,e)=>dt(t.value))).attr("cy",((t,e)=>ct*(e+1)/w.length-20-ct/w.length/2-2.5)).style("fill",(t=>Jt[0])).style("fill-opacity",.5).style("stroke","object"==typeof A?A.solid.color:A).style("stroke-width",0).on("mouseover",(function(){let t="object"==typeof A?A.solid.color:A;t="none"==t?"black":t,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",t);const e=At.map((t=>t.value));try{e.forEach(((t,a)=>{c.container.selectAll(".ZUbair"+a).data([0]).join("line").attr("class","ZUbair"+a).classed("temp_line",!0).attr("x1",dt(+t)).attr("x2",dt(+e[a+1])).attr("y1",ct*(a+1)/w.length-ct/w.length/2-2.5).attr("y2",ct*(a+2)/w.length-ct/w.length/2-2.5).style("stroke","black")}))}catch(t){console.log(t)}})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",0),o.Ltv(this).style("stroke","object"==typeof A?A.solid.color:A),o.Ubm(".temp_line").remove()})),c.container.selectAll(".dot_end"+a).data(At).join("circle").classed("dot_end"+a,!0).classed("dot_related",!0).attr("tag",a).attr("id",((t,e)=>e)).attr("r",bt).attr("cx",(function(){return o.Ltv(this).attr("cx")})).attr("cy",((t,e)=>ct*(e+1)/w.length-10-ct/w.length/2-2.5)).style("stroke","object"==typeof V?V.solid.color:V).style("stroke-width",0).style("fill",(t=>Jt[1])).style("fill-opacity",.7).on("mouseover",(function(){let t="object"==typeof A?A.solid.color:A;t="none"==t?"black":t,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",t);const e=kt.map((t=>t.target));try{e.forEach(((t,a)=>{c.container.selectAll(".ZUbair"+a).data([0]).join("line").attr("class","ZUbair"+a).classed("temp_line",!0).attr("x1",dt(+t)).attr("x2",dt(+e[a+1])).attr("y1",ct*(a+1)/w.length-ct/w.length/2-2.5).attr("y2",ct*(a+2)/w.length-ct/w.length/2-2.5).style("stroke","black")}))}catch(t){console.log(t)}})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",0),o.Ltv(this).style("stroke","object"==typeof A?A.solid.color:A),o.Ubm(".temp_line").remove()})),2==t.type&&I?c.container.selectAll(".dot_end"+a).transition().duration(100*+c.visualSettings.margins.transition).attr("cx",((t,e)=>dt(t.target))):c.container.selectAll(".dot_end"+a).attr("cx",((t,e)=>dt(t.target))),c.container.selectAll(".dot_third"+a).data(At).join("circle").classed("dot_third"+a,!0).classed("dot_related",!0).attr("tag",a).attr("id",((t,e)=>e)).attr("r",bt).attr("cx",(function(){return o.Ltv(this).attr("cx")})).attr("cy",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-2.5)).style("stroke","object"==typeof V?V.solid.color:V).style("stroke-width",0).style("fill",(t=>Jt[2])).style("fill-opacity",.5).on("mouseover",(function(){let t="object"==typeof A?A.solid.color:A;t="none"==t?"black":t,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",t);const e=kt.map((t=>t.third));try{e.forEach(((t,a)=>{c.container.selectAll(".ZUbair"+a).data([0]).join("line").attr("class","ZUbair"+a).classed("temp_line",!0).attr("x1",dt(+t)).attr("x2",dt(+e[a+1])).attr("y1",ct*(a+1)/w.length-ct/w.length/2-2.5).attr("y2",ct*(a+2)/w.length-ct/w.length/2-2.5).style("stroke","black")}))}catch(t){console.log(t)}})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",0),o.Ltv(this).style("stroke","object"==typeof A?A.solid.color:A),o.Ubm(".temp_line").remove()})),2==t.type&&I?c.container.selectAll(".dot_third"+a).transition().duration(100*+c.visualSettings.margins.transition).attr("cx",((t,e)=>dt(t.third))):c.container.selectAll(".dot_third"+a).attr("cx",((t,e)=>dt(t.third))),c.container.selectAll(".dot_fourth"+a).data(At).join("circle").classed("dot_fourth"+a,!0).classed("dot_related",!0).attr("tag",a).attr("id",((t,e)=>e)).attr("r",bt).attr("cx",(function(){return o.Ltv(this).attr("cx")})).attr("cy",((t,e)=>10+ct*(e+1)/w.length-ct/w.length/2-2.5)).style("stroke","object"==typeof V?V.solid.color:V).style("stroke-width",0).style("fill",(t=>Jt[3])).style("fill-opacity",.5).on("mouseover",(function(){let t="object"==typeof A?A.solid.color:A;t="none"==t?"black":t,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",t);const e=kt.map((t=>t.fourth));try{e.forEach(((t,a)=>{c.container.selectAll(".ZUbair"+a).data([0]).join("line").attr("class","ZUbair"+a).classed("temp_line",!0).attr("x1",dt(+t)).attr("x2",dt(+e[a+1])).attr("y1",ct*(a+1)/w.length-ct/w.length/2-2.5).attr("y2",ct*(a+2)/w.length-ct/w.length/2-2.5).style("stroke","black")}))}catch(t){console.log(t)}})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",0),o.Ltv(this).style("stroke","object"==typeof A?A.solid.color:A),o.Ubm(".temp_line").remove()})),2==t.type&&I?c.container.selectAll(".dot_fourth"+a).transition().duration(100*+c.visualSettings.margins.transition).attr("cx",((t,e)=>dt(t.fourth))):c.container.selectAll(".dot_fourth"+a).attr("cx",((t,e)=>dt(t.fourth)))}if(1==x?(o.Ubm(".gauges"+a).remove(),o.Ubm(".gaugestarget"+a).remove(),o.Ubm(".pies"+a).remove(),o.Ubm(".mypiestext"+a).remove(),o.Ubm(".dot_bars"+a).remove(),ee()):2==x?(o.Ubm(".gauges"+a).remove(),o.Ubm(".gaugestarget"+a).remove(),o.Ubm(".mystackedbarchart"+a).remove(),o.Ubm(".negstackedbarchart"+a).remove(),o.Ubm(".stackedbartext"+a).remove(),o.Ubm(".negstackedbartext"+a).remove(),o.Ubm(".dot_bars"+a).remove(),te()):3==x?(o.Ubm(".mystackedbarchart"+a).remove(),o.Ubm(".negstackedbarchart"+a).remove(),o.Ubm(".stackedbartext"+a).remove(),o.Ubm(".negstackedbartext"+a).remove(),o.Ubm(".pies"+a).remove(),o.Ubm(".mypiestext"+a).remove(),ae()):4==x&&ne(),ie(),c.visualSettings.xaxis.showaxis&&"1"==x){const re=[0,3,6,9,12];let se;"auto"==U?se=o.T9B(re.filter((t=>t<String(Math.round(Math.max(Math.abs(qt),Math.abs(Zt)))).length))):"thousands"==U?se=3:"millions"==U?se=6:"billions"==U?se=9:"none"==U&&(se="0");const le="#,0",oe=+F,ce=r.G2.create({format:le,value:+("1e"+String(se)),precision:oe,allowFormatBeautification:!0}),ue={text:ce.format(Math.max(Math.abs(u),l)),fontFamily:String(c.visualSettings.xaxis.fontfamily),fontSize:c.visualSettings.xaxis.fontsize+"px"},he=r.Tf.measureSvgTextWidth(ue),de=Ft-Et-(Ut+Pt),fe=Math.floor(de/(2*he)),me=o.tlR(Xt).ticks(fe).tickFormat((t=>ce.format(t))).tickSizeOuter(2).tickSizeInner(2);c.container.append("g").attr("class","xaxis").classed("dot_related",!0).call(me).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10)}}})),performance.now()}function me(){const t=w.length;"reverse"==W&&w.length,st="reverse"==W?""==c.visualSettings.general.rowheight?+ie:+c.visualSettings.general.rowheight*w.length:st,ot=st-0-0,performance.now(),c.container.selectAll("rows").data(o.y17("reverse"==W?t+1:t)).enter().append("line").attr("tag",((t,e)=>e)).attr("id",((t,e)=>"hline"+e)).attr("class","hline").attr("x1",((e,a)=>"reverse"==W?ot*(a+1)/(t+1):0)).attr("x2",((e,a)=>"reverse"==W?ot*(a+1)/(t+1):ot)).attr("y1",((e,a)=>"reverse"==W?-ee:ct*(a+1)/t)).attr("y2",((e,a)=>"reverse"==W?ct:ct*(a+1)/t)).style("stroke",c.visualSettings.margins.rowlines).style("stroke-width",c.visualSettings.margins.rowthickness/10),c.container.selectAll("hidrows").data(o.y17("reverse"==W?t+1:t)).enter().append("line").attr("tag",((t,e)=>e)).attr("id",((t,e)=>"hlinehid"+e)).attr("class","hline").attr("x1",((e,a)=>"reverse"==W?ot*(a+1)/(t+1):0)).attr("x2",((e,a)=>"reverse"==W?ot*(a+1)/(t+1):ot)).attr("y1",((e,a)=>"reverse"==W?-ee:ct*(a+1)/t)).attr("y2",((e,a)=>"reverse"==W?ct:ct*(a+1)/t)).style("stroke",c.visualSettings.margins.rowlines).style("stroke-width",5).style("stroke-opacity",0).on("mouseover",(function(){o.Ltv(this).style("cursor","reverse"==W?"col-resize":"row-resize"),o.Ltv(this).style("stroke-opacity",1)})).on("mouseout",(function(){o.Ltv(this).style("stroke-opacity",0)})).call(c.visualSettings.dragrows.show?le:function(){}),performance.now()}function pe(t,e){o.Ltv(this).attr("tag"),o.Ltv(this).attr("class");let a="No";o.Ltv(this).classed("text")&&(a=e.category),"WebUrl"==a&&c.host.launchUrl(o.Ltv(this).attr("tag"));const i=o.Ltv(this).classed("support_rect_tooltip")||o.Ltv(this).classed("support_rect_tooltip_combo")||o.Ltv(this).classed("my_sparkbars")?e[4]:e.selectionId,n=t.ctrlKey;c.selectionManager.select(i,n).then((e=>{t.stopPropagation(),c.ids=e,function(t){const e=w.map((t=>t.selectionId));let a=[];t.forEach(((t,i)=>a.push(e.indexOf(t)))),a=a.filter((t=>-1!==t)),o.Ubm(".highlight").remove(),c.container.selectAll("highlite_rect").data(a).enter().append("rect").attr("class","highlight").attr("width","reverse"==W?ot/(e.length+1):ot).attr("height","reverse"==W?ct:ct/e.length).attr("y",(t=>"reverse"==W||0==t?0:+o.Ltv("#hline"+(t-1)).attr("y1"))).attr("x",(t=>"reverse"==W?(t+1)*(ot/(e.length+1)):0)).style("fill","grey").style("fill-opacity",.1).lower()}(e)}))}function be(t,e,a,i,n){a>1&&t.each((function(){if(o.Ltv(this).classed("newdisplayname")){const t=o.Ltv(this),a="tag"==e?+t.attr("tag"):e,n=t.text().split("|"),s={text:"abcdefghijklmnopqrstxyAL",fontFamily:String(c.visualSettings.columnheaders.fontfamily),fontSize:+c.visualSettings.columnheaders.fontsize+"px"},l=r.Tf.measureSvgTextHeight(s),u={text:"abcdefghijklmnopqrstxyAL",fontFamily:i,fontSize:n[6]+"px"},h=(r.Tf.measureSvgTextHeight(u)-l)/2,d=1.2,f=+t.attr("y")+h,g=t.attr("x"),m=0;let p=t.text(null).append("tspan").attr("x",g).attr("y",f).attr("dy",m+"em").attr("dominant-baseline","middle");const b={text:"AB1",fontFamily:i,fontSize:n[6]+"px"},v=r.Tf.measureSvgTextWidth(b);p=t.append("tspan").attr("x",g).attr("y",f).attr("dy",0*d+m+"em").text((()=>{const t={text:String(n[0]),fontFamily:i,fontSize:n[6]+"px"};return("combo"==n[7]?"〜":"▃")+"  "+r.Tf.getTailoredTextOrDefault(t,a-v)})).attr("font-size",n[6]).style("fill",n[2]).attr("dominant-baseline","middle"),t.append("tspan").attr("x",g).attr("y",f).attr("dy",1*d+m+"em").text((()=>{const t={text:String(n[1]),fontFamily:i,fontSize:n[6]+"px"};return("combo"==n[7]?"col"==n[5]?"❚":"〜":"▃")+"  "+r.Tf.getTailoredTextOrDefault(t,a-v)})).attr("font-size",n[6]).style("fill","combo"==n[7]&&"col"==n[5]?n[4]:n[3]).attr("dominant-baseline","middle")}else if(o.Ltv(this).classed("stackdisplayname")){const t=o.Ltv(this),a="tag"==e?+t.attr("tag"):e,n=t.text().split("|"),s=n[0].split("*"),l={text:"abcdefghijklmnopqrstxyAL",fontFamily:String(c.visualSettings.columnheaders.fontfamily),fontSize:+c.visualSettings.columnheaders.fontsize+"px"},u=r.Tf.measureSvgTextHeight(l),h={text:"abcdefghijklmnopqrstxyAL",fontFamily:i,fontSize:n[4]+"px"},d=(r.Tf.measureSvgTextHeight(h)-u)/2,f=1.2,g=+t.attr("y")+d,m=t.attr("x"),p=0;let b=t.text(null).append("tspan").attr("x",m).attr("y",g).attr("dy",p+"em").attr("dominant-baseline","middle");const v={text:"AB1",fontFamily:i,fontSize:n[4]+"px"},y=r.Tf.measureSvgTextWidth(v);b=t.append("tspan").attr("x",m).attr("y",g).attr("dy",0*f+p+"em").text((()=>{const t={text:s[0],fontFamily:i,fontSize:n[4]+"px"};return"⬤  "+r.Tf.getTailoredTextOrDefault(t,a-y)})).attr("font-size",n[4]).style("fill",n[1]).attr("dominant-baseline","middle");const x={text:b.text(),fontFamily:i,fontSize:n[4]+"px"};r.Tf.measureSvgTextWidth(x),+n[5]>1&&t.append("tspan").attr("x",m).attr("y",g).attr("dy",1*f+p+"em").text((()=>{const t={text:s[1],fontFamily:i,fontSize:n[4]+"px"};return"⬤  "+r.Tf.getTailoredTextOrDefault(t,a-y)})).attr("font-size",n[4]).style("fill",n[2]).attr("dominant-baseline","middle"),+n[5]>2&&t.append("tspan").attr("x",m).attr("y",g).attr("dy",2*f+p+"em").text((()=>{const t={text:s[2],fontFamily:i,fontSize:n[4]+"px"};return"⬤  "+r.Tf.getTailoredTextOrDefault(t,a-y)})).attr("font-size",n[4]).style("fill",n[3]).attr("dominant-baseline","middle")}else{const t=o.Ltv(this),s="tag"==e?+t.attr("tag"):e,l=(t.attr("class"),t.text().split(/\s+/).reverse());let c;String(c);let u=[],h=0;const d=1.2,f=t.attr("y"),g=t.attr("x"),m=0;let p=t.text(null).append("tspan").attr("x",g).attr("y",f).attr("dy",m+"em").attr("dominant-baseline","middle");for(;(c=l.pop())&&h<a-1;)if(u.push(c),p.text(u.join(" ")),p.node().getComputedTextLength()>s&&p.text().split(/\s+/).reverse().length>1){u.pop();const e={text:String(u.join(" ")),fontFamily:i,fontSize:n+"px"};p.text(r.Tf.getTailoredTextOrDefault(e,s)),u=[c];const a={text:String(c),fontFamily:i,fontSize:n+"px"};p=t.append("tspan").attr("x",g).attr("y",f).attr("dy",++h*d+m+"em").text(r.Tf.getTailoredTextOrDefault(a,s))}else{const t={text:String(p.text()),fontFamily:i,fontSize:n+"px"};p.text(r.Tf.getTailoredTextOrDefault(t,s))}}}))}he.append("feMergeNode").attr("in","offsetBlur"),he.append("feMergeNode").attr("in","SourceGraphic"),performance.now();const ve=[{ishara:"33|73|75|95|112|116|105|95|49|56|48|48",tareekh:"2023-11-29T21:00:00.000Z"},{ishara:"95|112|95|119|95|99|95|49|57|57|50",tareekh:"2024-01-30T21:00:00.000Z"},{ishara:"50|48|49|51|95|70|90|95|77|90|33",tareekh:"2024-03-30T21:00:00.000Z"},{ishara:"66|105|115|99|114|101|101|110|95|50|48|95|50|50",tareekh:"2024-05-30T21:00:00.000Z"},{ishara:"87|97|109|100|97|33|95|55|49|95",tareekh:"2024-07-30T21:00:00.000Z"},{ishara:"71|117|108|102|95|66|45|49|49|48|45|51",tareekh:"2024-09-29T21:00:00.000Z"},{ishara:"90|76|83|77|95|102|97|103|108|95|50|50",tareekh:"2024-11-29T21:00:00.000Z"},{ishara:"65|114|97|95|109|99|111|95|65|116|99|95|50|48|50|50",tareekh:"2024-12-30T21:00:00.000Z"},{ishara:"50|51|95|72|68|95|72|121|117|110|95|83|71|95|49|53|54|50",tareekh:"2025-01-30T21:00:00.000Z"},{ishara:"83|104|97|105|115|95|73|102|95|80|107|95|54|50",tareekh:"2025-02-27T21:00:00.000Z"},{ishara:"73|77|79|90|95|114|101|99|111|110|95|83|65|79|95|50|52",tareekh:"2025-03-30T21:00:00.000Z"},{ishara:"53|55|95|90|117|98|105|95|83|105|100|95|49|54",tareekh:"2025-04-29T21:00:00.000Z"},{ishara:"90|76|95|71|72|81|95|56|52|55|49|95|102|90",tareekh:"2025-05-30T21:00:00.000Z"},{ishara:"33|57|48|56|95|105|121|117|95|111|110|102|100",tareekh:"2025-06-29T21:00:00.000Z"},{ishara:"72|80|95|111|117|116|95|70|72|68|95|49|57|56|50",tareekh:"2025-07-30T21:00:00.000Z"},{ishara:"83|104|97|102|95|73|109|97|109|95|87|67|95|50|51",tareekh:"2025-08-30T21:00:00.000Z"},{ishara:"86|75|95|83|82|75|95|66|65|95|48|48|56|50|50",tareekh:"2025-09-29T21:00:00.000Z"},{ishara:"56|48|48|57|33|114|101|99|111|118|101|114|121|95|116|101|109|52|53",tareekh:"2025-10-30T21:00:00.000Z"},{ishara:"70|104|72|45|72|97|110|121|95|84|114|97|105|110|101|114|50|51",tareekh:"2025-11-29T21:00:00.000Z"},{ishara:"66|105|103|101|110|95|80|95|55|49|48|48|95|80|73|65|67",tareekh:"2025-12-30T21:00:00.000Z"},{ishara:"66|80|95|77|101|108|97|110|116|111|110|97|95|48|53|54|55",tareekh:"2026-02-27T21:00:00.000Z"},{ishara:"65|114|108|97|110|120|111|95|83|38|80|95|50|48|50|51",tareekh:"2026-03-30T21:00:00.000Z"},{ishara:"80|76|95|66|83|95|67|70|95|48|56|50|57|95|83|80|71|82",tareekh:"2026-04-29T21:00:00.000Z"},{ishara:"86|105|102|111|95|101|120|99|101|108|95|50|48|50|52|95|116|104|111|110",tareekh:"2026-05-30T21:00:00.000Z"},{ishara:"84|101|108|99|111|95|65|108|115|104|95|86|67|95|52|53|57",tareekh:"2026-06-29T21:00:00.000Z"},{ishara:"75|104|97|108|105|102|97|95|65|84|70|95|51|55|49|48",tareekh:"2026-07-30T21:00:00.000Z"},{ishara:"65|98|105|95|74|101|97|110|121|95|82|101|103|105|110|95|48|48|54",tareekh:"2026-08-30T21:00:00.000Z"},{ishara:"78|111|101|108|95|66|105|110|95|77|105|99|104|101|108|108|101|95|49|51|54|55",tareekh:"2026-09-29T21:00:00.000Z"},{ishara:"66|101|101|115|95|115|105|109|117|95|111|117|114|56|51|57|50",tareekh:"2026-10-30T21:00:00.000Z"},{ishara:"70|82|68|95|70|97|68|95|79|112|115|95|48|57|50",tareekh:"2026-11-29T21:00:00.000Z"},{ishara:"80|89|95|108|107|95|117|104|103|38|54|53|57",tareekh:"2026-12-30T21:00:00.000Z"}];ve.map((t=>t.ishara)).forEach(((t,e)=>{const a=t.split("|"),i=[];a.forEach((t=>i.push(String.fromCharCode(+t)))),ve[e].ishara=i.join("")}));const ye=ve.filter((t=>t.ishara==c.visualSettings.info.license));try{if(!(this.columndata.filter((t=>"MainCategory"==t.name)).length>0))return void b();new Promise((e=>{performance.now(),o.Ubm(".xaxis,.comboerror,.xaxis_time,.axislabels,.line,.sparkline,.bubbles,.intro,.vline,.sparkbars,.labels,.vlinevis,.vlinehid,.hline,.boxes,.boxtext,.yaxis,.zb,.bullets,.tooltipline,.tipline,.format,.headingtext,.merayboxes,.boxdrag,.donuts,.highlight,.dragboxes,.waffles,.ratings,.text,.dumb,.colordefs,.smileydefs,.smileydefs_radial,.waterfall,.stackedbarchart,.negstackedbarchart,.stackedbarchart_headings_circles,.stackedbarchart_headings,.pieheadings,.pievariances").remove(),performance.now();const a=ye.length>0&&m<new Date(ye[0].tareekh);a&&(c.visualSettings.info.expiry=new Date(ye[0].tareekh).toDateString()),a||(function(){const t="excelnaccess.com/sparklines"==c.visualSettings.info.website,e=4!==l||!t;c.container.selectAll("mywm").data(o.y17(6)).join("text").attr("class","line").attr("id",((t,e)=>"wm"+e)).attr("x",ot/2).attr("y",(t=>t*ct/5)).attr("fill",((t,a)=>e?Yt[a]:"none")).attr("fill-opacity",.5).text(Gt.join("")).attr("text-anchor","middle").style("dominant-baseline","middle").attr("font-size",50).style("font-weight","bold")}(),c.visualSettings.info.expiry="No license"),function(){performance.now();const e=rt,a=o.y17(e+1),i=c.container.selectAll(".vertlinehiddem").data(a).enter().append("line").classed("vertlinehiddem",!0).attr("class","vlinehid").attr("id",((t,e)=>"vlinehid"+e)).attr("tag",((t,e)=>e)).attr("x1",((a,i)=>{if("reverse"==W)return 0;{const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}})).attr("x2",((a,i)=>{if("reverse"==W)return ot;{const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}})).attr("y1",((a,i)=>{if("reverse"==W){const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}return-ee})).attr("y2",((a,i)=>{if("reverse"==W){const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}return ct})).style("stroke","black").style("stroke-opacity",0).style("stroke-width",10).on("mouseover",(function(t,e){i.nodes().indexOf(this)>0&&o.Ltv(this).style("cursor","reverse"==W?"row-resize":"col-resize")})).call(re);c.container.selectAll("vertline").data(o.y17(e+1)).enter().append("line").attr("class","vlinevis").attr("id",((t,e)=>"vlineviz"+e)).attr("tag",((t,e)=>e)).attr("x1",((a,i)=>{if("reverse"==W)return 0;{const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}})).attr("x2",((a,i)=>{if("reverse"==W)return ot;{const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}})).attr("y1",((a,i)=>{if("reverse"==W){const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}return-ee})).attr("y2",((a,i)=>{if("reverse"==W){const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}return ct})).style("stroke",c.visualSettings.margins.columnlines).style("stroke-width",c.visualSettings.margins.columnthickness/10),o.Ubm("#vlinehid0").attr("visibility","hidden"),o.Ubm("#vlineviz0").attr("visibility","hidden"),st=o.T9B([t.viewport.width,+o.Ltv("#vlineviz"+ +e).attr("x1")]),st+=+o.Ltv("#vlineviz"+ +e).attr("x1")>t.viewport.width?50:0,st="reverse"==W?""==c.visualSettings.general.rowheight?+ie:+c.visualSettings.general.rowheight*w.length:st,ot=st-0-0,c.svg.attr("width",st),c.container.attr("width",ot),Math.floor(ot+0+0)>Math.floor(t.viewport.width)?c.bgcolor.style.overflowX="auto":c.bgcolor.style.overflowX="",performance.now()}(),"reverse"==W&&me();try{!function(){c.visualSettings.columnheaders.showgrouping?function(){const t=[],e=tt.map((t=>t.grouping));let a=Mt.slice();a.unshift("0|0"),a=a.map((t=>+t.split("|")[1])),e.forEach(((a,i)=>{const n=a,r=e.slice(i);let s,l=0;do{s=r[l],l++}while(n==s);t.push(a+"|"+(i+l-2))}));const i=t.filter(((e,a)=>t.indexOf(e)==a)),n=i.map(((t,e)=>{let a,n;if(0==e)a=0;else{const r=i[e-1],s=t.split("|")[1];n=+i[e-1].split("|")[1]+1;const l=r.split("|")[1];a=l==s-1?n:+l+1}return{name:t.split("|")[0],start_:a,end:+t.split("|")[1]+1}}));n.forEach(((t,e)=>{const i=tt.filter((e=>e.grouping==t.name))[0].groupingcolor,n="object"==typeof i?i.solid.color:i,r=g(n);t.startpos=a[t.start_],t.endpos=a[t.end],t.color=n,t.fontcolor="light"==r?"#000000":"#FFFFFF"})),c.svg.selectAll(".groupingrect").data(n.filter((t=>""!==t.name))).join("rect").attr("class","groupingrect").attr("x",(t=>t.startpos)).attr("y",0).attr("width",(t=>t.endpos-t.startpos)).attr("height",+c.visualSettings.columnheaders.groupingheight).attr("stroke",c.visualSettings.columnheaders.border).attr("fill",(t=>"object"==typeof t.color?t.color.solid.color:t.color)).attr("stroke-opacity",1).attr("stroke-width",+c.visualSettings.columnheaders.borderwidth/4),c.svg.selectAll(".groupingrecttext").data(n.filter((t=>""!==t.name))).join("text").attr("class","groupingrecttext").attr("x",(t=>(t.startpos+t.endpos)/2)).attr("y",+c.visualSettings.columnheaders.groupingheight/2).text((t=>{const e={text:t.name,fontFamily:String(c.visualSettings.columnheaders.fontfamily),fontSize:+c.visualSettings.columnheaders.fontsize+"px"},a=+t.endpos-t.startpos;return r.Tf.getTailoredTextOrDefault(e,a)})).attr("fill",(t=>t.fontcolor)).attr("font-family",String(c.visualSettings.columnheaders.fontfamily)).attr("font-size",c.visualSettings.columnheaders.fontsize).style("dominant-baseline","middle").attr("text-anchor","middle")}():o.Ubm(".groupingrect,.groupingrecttext").remove();const e="reverse"==W?w.length+1:rt;c.container.selectAll("boxes").data(o.y17(e)).enter().append("rect").attr("class","boxes").classed("rectbox",!0).classed("notransform",!0).attr("id",((t,e)=>"box"+e)).attr("tag",((t,e)=>e)).attr("x",((a,i)=>{if("reverse"==W)return ot*i/e;{const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}})).attr("y",Ht-ee).attr("height",ee-(c.visualSettings.xaxis.showaxis?20+Ht:0+Ht)).attr("width",((t,a)=>{if("reverse"==W)return ot/e;{const t=Mt.map((t=>+t.split("|")[0])),i=t.filter((t=>t==a)).length>0,n=t.filter((t=>t==a+1)).length>0,r=t.indexOf(a),s=t.indexOf(a+1),l=i?Mt[r]:"zubi",o=n?Mt[s]:"zubi",c=i?+l.split("|")[1]:ot*a/e;return(n?+o.split("|")[1]:ot*(a+1)/e)-c}})).attr("fill",((t,e)=>{const a=c.columndata[e],i=c.columndata.filter((t=>t.name==a.name&&t.displayname==a.displayname)),n=i[0],r=c.metadata.filter((t=>t.displayName==n.displayname&&t.roles.hasOwnProperty(a.name)));let s;if(r[0].hasOwnProperty("objects")&&r[0].objects.hasOwnProperty("columnheaders")&&r[0].objects.columnheaders.hasOwnProperty("indcolor")){const t=r[0].objects.columnheaders.indcolor;s="object"==typeof t?t.solid.color:t}else s=c.visualSettings.columnheaders.background;return s})).attr("stroke",c.visualSettings.columnheaders.border).attr("stroke-opacity",1).attr("stroke-width",+c.visualSettings.columnheaders.borderwidth/4).on("click",de).on("mouseout",fe).lower(),c.visualSettings.xaxis.showaxis?function(){const e="reverse"==W?w.length+1:rt;c.container.selectAll(".xaxisboxes").data(o.y17(e)).enter().append("rect").attr("class","xaxisboxes").attr("id",((t,e)=>"xaxisbox"+e)).attr("tag",((t,e)=>e)).attr("x",((a,i)=>{if("reverse"==W)return ot*i/e;{const a=Mt.filter((t=>t.startsWith(i))).length>0,n=a?Mt.filter((t=>t.startsWith(i)))[0]:"zubi";return a?+n.split("|")[1]:t.viewport.width*i/e}})).attr("y",-20).attr("height",20).attr("width",((t,a)=>{if("reverse"==W)return ot/e;{const t=Mt.filter((t=>t.startsWith(a))).length>0,i=Mt.filter((t=>t.startsWith(a+1))).length>0,n=t?Mt.filter((t=>t.startsWith(a)))[0]:"zubi",r=i?Mt.filter((t=>t.startsWith(a+1)))[0]:"zubi",s=t?+n.split("|")[1]:ot*a/e;return(i?+r.split("|")[1]:ot*(a+1)/e)-s}})).attr("fill","White").attr("stroke",c.visualSettings.columnheaders.border).attr("stroke-opacity",0).attr("stroke-width",+c.visualSettings.columnheaders.borderwidth/4).lower()}():o.Ubm(".xaxisboxes").remove(),c.visualSettings.hidemovers.show&&!c.visualSettings.columnheaders.showgrouping&&(c.container.selectAll("dragboxes1").data(o.y17(rt)).enter().append("rect").attr("class","dragboxes").classed("notransform",!0).attr("id",(t=>"dragboxr"+t)).attr("tag",((t,e)=>e)).attr("x",((t,e)=>{const a=Mt.filter((t=>t.startsWith(e))).length>0,i=Mt.filter((t=>t.startsWith(e+1))).length>0,n=a?Mt.filter((t=>t.startsWith(e)))[0]:"zubi",r=i?Mt.filter((t=>t.startsWith(e+1)))[0]:"zubi",s=a?+n.split("|")[1]:ot*e/rt,l=(i?+r.split("|")[1]:ot*(e+1)/rt)-s;return a?+n.split("|")[1]+l/2:ot*e/rt+l/2})).attr("y",-ee).attr("height",20).attr("width",((t,e)=>{const a=Mt.filter((t=>t.startsWith(e))).length>0,i=Mt.filter((t=>t.startsWith(e+1))).length>0,n=a?Mt.filter((t=>t.startsWith(e)))[0]:"zubi",r=i?Mt.filter((t=>t.startsWith(e+1)))[0]:"zubi",s=a?+n.split("|")[1]:ot*e/rt;return((i?+r.split("|")[1]:ot*(e+1)/rt)-s)/2})).attr("fill","white").attr("fill-opacity",1).attr("stroke","none").attr("stroke-opacity",.2).on("mouseover",(function(){o.Ltv(this).attr("fill","pink").attr("fill-opacity",1)})).on("mouseout",(function(){o.Ltv(this).attr("fill","white").attr("fill-opacity",1)})).on("click",(function(){const t=+o.Ltv(this).attr("tag");if((t>0||B)&&t!=rt-1){zt=[],Lt=Mt.map((t=>t.split("|"))).map((t=>t[1])),o.Ubm(".boxes").each((function(t,e){zt.push(o.Ltv(this).attr("x"))}));const e=o.y17(zt.length).filter((e=>e!==+t)),a=+t+1;e.splice(a,0,+t);const i=[],n=+o.Ltv("#box"+ +t).attr("x")+ +o.Ltv("#box"+(+t+1)).attr("width");Lt.splice(t,1,n);const r=[];Lt.forEach(((t,e)=>r.push(+e+1+"|"+t))),tt.forEach(((t,a)=>{i.push(tt[e[a]].name+"|"+tt[e[a]].index+"|"+tt[e[a]].displayname)})),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{counter1:r,counter2:i,counter3:+t+1}}]})}})),c.container.selectAll("dragboxes1text").data(o.y17(rt)).enter().append("text").attr("class","dragboxes").classed("notransform",!0).attr("id",(t=>"dragboxtext"+t)).attr("tag",((t,e)=>e)).attr("x",((t,e)=>{const a=Mt.filter((t=>t.startsWith(e))).length>0,i=Mt.filter((t=>t.startsWith(e+1))).length>0,n=a?Mt.filter((t=>t.startsWith(e)))[0]:"zubi",r=i?Mt.filter((t=>t.startsWith(e+1)))[0]:"zubi",s=a?+n.split("|")[1]:ot*e/rt,l=(i?+r.split("|")[1]:ot*(e+1)/rt)-s;return a?+n.split("|")[1]+.75*l:ot*e/rt+.75*l})).attr("y",10-ee).text(((t,e)=>e==rt-1||0==e&&0==B?"":"→")).style("dominant-baseline","middle").attr("text-anchor","middle").attr("font-size",20).style("fill","grey").on("click",(function(){const t=+o.Ltv(this).attr("tag");if((t>0||B)&&t!=rt-1){zt=[],Lt=Mt.map((t=>t.split("|"))).map((t=>t[1])),o.Ubm(".boxes").each((function(t,e){zt.push(o.Ltv(this).attr("x"))}));const e=o.y17(zt.length).filter((e=>e!==+t)),a=+t+1;e.splice(a,0,+t);const i=[],n=+o.Ltv("#box"+ +t).attr("x")+ +o.Ltv("#box"+(+t+1)).attr("width");Lt.splice(t,1,n);const r=[];Lt.forEach(((t,e)=>r.push(+e+1+"|"+t))),tt.forEach(((t,a)=>{i.push(tt[e[a]].name+"|"+tt[e[a]].index+"|"+tt[e[a]].displayname)})),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{counter1:r,counter2:i,counter3:+t+1}}]})}})).on("mouseover",(function(){const t=o.Ltv(this).attr("tag");o.Ltv("#dragboxr"+t).attr("fill","pink").attr("fill-opacity",1)})).on("mouseout",(function(){const t=o.Ltv(this).attr("tag");o.Ltv("#dragboxr"+t).attr("fill","white").attr("fill-opacity",1)})),c.container.selectAll("dragboxes2").data(o.y17(rt)).enter().append("rect").attr("class","dragboxes").classed("notransform",!0).attr("id",(t=>"dragboxl"+t)).attr("tag",((t,e)=>e)).attr("x",((t,e)=>{const a=Mt.filter((t=>t.startsWith(e))).length>0,i=Mt.filter((t=>t.startsWith(e+1))).length>0,n=a?Mt.filter((t=>t.startsWith(e)))[0]:"zubi",r=i?Mt.filter((t=>t.startsWith(e+1)))[0]:"zubi";return a&&n.split("|")[1],i&&r.split("|")[1],a?+n.split("|")[1]:ot*e/rt})).attr("y",-ee).attr("height",20).attr("width",((t,e)=>{const a=Mt.filter((t=>t.startsWith(e))).length>0,i=Mt.filter((t=>t.startsWith(e+1))).length>0,n=a?Mt.filter((t=>t.startsWith(e)))[0]:"zubi",r=i?Mt.filter((t=>t.startsWith(e+1)))[0]:"zubi",s=a?+n.split("|")[1]:ot*e/rt;return((i?+r.split("|")[1]:ot*(e+1)/rt)-s)/2})).attr("fill","white").attr("fill-opacity",1).attr("stroke","none").attr("stroke-opacity",.2).on("mouseover",(function(){o.Ltv(this).attr("fill","pink").attr("fill-opacity",1)})).on("mouseout",(function(){o.Ltv(this).attr("fill","white").attr("fill-opacity",1)})).on("click",(function(){const t=+o.Ltv(this).attr("tag");if(t>1&&!B||t>0&&B){zt=[],Lt=Mt.map((t=>t.split("|"))).map((t=>t[1])),o.Ubm(".boxes").each((function(t,e){zt.push(o.Ltv(this).attr("x"))}));const e=o.y17(zt.length).filter((e=>e!==+t)),a=+t-1;e.splice(a,0,+t);const i=[],n=+o.Ltv("#box"+(+t-1)).attr("x")+ +o.Ltv("#box"+ +t).attr("width");Lt.splice(+t-1,1,n);const r=[];Lt.forEach(((t,e)=>r.push(+e+1+"|"+t))),tt.forEach(((t,a)=>{i.push(tt[e[a]].name+"|"+tt[e[a]].index+"|"+tt[e[a]].displayname)})),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{counter1:r,counter2:i,counter3:+t-1}}]})}})),c.container.selectAll("dragboxes1text").data(o.y17(rt)).enter().append("text").attr("class","dragboxes").classed("notransform",!0).attr("id",(t=>"dragboxtext"+t)).attr("tag",((t,e)=>e)).attr("x",((t,e)=>{const a=Mt.filter((t=>t.startsWith(e))).length>0,i=Mt.filter((t=>t.startsWith(e+1))).length>0,n=a?Mt.filter((t=>t.startsWith(e)))[0]:"zubi",r=i?Mt.filter((t=>t.startsWith(e+1)))[0]:"zubi",s=a?+n.split("|")[1]:ot*e/rt,l=(i?+r.split("|")[1]:ot*(e+1)/rt)-s;return a?+n.split("|")[1]+.25*l:ot*e/rt+.25*l})).attr("y",10-ee).text(((t,e)=>e>1?"←":0==B?"":"←")).style("dominant-baseline","middle").attr("text-anchor","middle").attr("font-size",20).style("fill","grey").on("click",(function(){const t=+o.Ltv(this).attr("tag");if(t>1&&!B||t>0&&B){zt=[],Lt=Mt.map((t=>t.split("|"))).map((t=>t[1])),o.Ubm(".boxes").each((function(t,e){zt.push(o.Ltv(this).attr("x"))}));const e=o.y17(zt.length).filter((e=>e!==+t)),a=+t-1;e.splice(a,0,+t);const i=[],n=+o.Ltv("#box"+(+t-1)).attr("x")+ +o.Ltv("#box"+ +t).attr("width");Lt.splice(+t-1,1,n);const r=[];Lt.forEach(((t,e)=>r.push(+e+1+"|"+t))),tt.forEach(((t,a)=>{i.push(tt[e[a]].name+"|"+tt[e[a]].index+"|"+tt[e[a]].displayname)})),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{counter1:r,counter2:i,counter3:+t-1}}]})}})).on("mouseover",(function(){const t=o.Ltv(this).attr("tag");o.Ltv("#dragboxl"+t).attr("fill","pink").attr("fill-opacity",1)})).on("mouseout",(function(){const t=o.Ltv(this).attr("tag");o.Ltv("#dragboxl"+t).attr("fill","white").attr("fill-opacity",1)})));const a=c.container.selectAll("sorters").data(o.y17(rt)).enter().append("path").attr("tag",((t,e)=>e)).attr("id",((t,e)=>"sorter"+e)).attr("class","boxes").classed("sorters",!0).attr("d",((t,e)=>e==+c.visualSettings.general.togglesort.split("|")[0]?"a"==c.visualSettings.general.togglesort.split("|")[1]?"M6 3l-6 8h4v10h4v-10h4l-6-8zm16 14h-8v-2h8v2zm2 2h-10v2h10v-2zm-4-8h-6v2h6v-2zm-2-4h-4v2h4v-2zm-2-4h-2v2h2v-2z":"M6 21l6-8h-4v-10h-4v10h-4l6 8zm16-12h-8v-2h8v2zm2-6h-10v2h10v-2zm-4 8h-6v2h6v-2zm-2 4h-4v2h4v-2zm-2 4h-2v2h2v-2z":"")).attr("fill","silver").attr("fill-opacity",1).attr("transform",((t,e)=>`translate (${+o.Ltv("#box"+e).attr("width")+ +o.Ltv("#box"+e).attr("x")-22},${-ee+Ht+5}) scale(${[.75]})`)).on("click",(function(t,e){const i=a.nodes().indexOf(this);o.Ltv(this).attr("fill-opacity",1).raise().attr("d","M6 3l-6 8h4v10h4v-10h4l-6-8zm16 14h-8v-2h8v2zm2 2h-10v2h10v-2zm-4-8h-6v2h6v-2zm-2-4h-4v2h4v-2zm-2-4h-2v2h2v-2z");const n=c.visualSettings.general.togglesort.split("|")[1],r=i+"|"+(null==n?"a":"a"==n?"d":"a");c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{togglesort:r}}]})}))}()}catch(t){console.log(t)}!function(){const t=c.visualSettings.globalyaxis.line,e=c.visualSettings.globalyaxis.col,a=c.visualSettings.globalyaxis.combo,i=c.visualSettings.globalyaxis.bubble;if(t){const t=[];k.forEach(((e,a)=>{t.push(w.map((t=>t.trend[a].Value.map((t=>t.Value)))))}));const e=[...new Set([].concat(...t))],a=[...new Set([].concat(...e))];Ft=+Math.min(...a),Pt=+Math.max(...a)}if(e){const t=[];A.forEach(((e,a)=>{t.push(w.map((t=>t.trendbar[a].Value.map((t=>t.Value)))))}));const e=[...new Set([].concat(...t))],a=[...new Set([].concat(...e))];Et=+Math.min(...a),It=+Math.max(...a)}if(i){const t=[];M.forEach(((e,a)=>{const i=e,n=c.metadata.filter((t=>t.displayName==i&&t.roles.hasOwnProperty("bubble"))),r=c.getValue(n[0].objects,"bubbles","calculation",c.visualSettings.bubbles.calculation),s=c.getValue(n[0].objects,"bubbles","parentaggregation",c.visualSettings.bubbles.parentaggregation);function l(t){const e=t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.bubbles[a].Value.map((t=>t.Value)),r))),i=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.bubbles[a].Value))[0].filter((t=>t.Axis==X?"subtotal":"undefined"))[0].Value,n="0"==s||"0"==r?+i:function(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+s-1]}(e);return n}const u=w.map((t=>({bubbles:{value:t.height>0?l(t):"0"==r?t.bubbles[a].Value.filter((t=>t.Axis==X?"subtotal":"undefined"))[0].Value:c.mycalculation(t.bubbles[a].Value.map((t=>t.Value)),r)},MainCategory:t.MainCategory,selectionId:t.selectionId,index:a})));t.push(u.map((t=>Math.abs(t.bubbles.value))))}));const e=[...new Set([].concat(...t))],a=[...new Set([].concat(...e))].map((t=>Math.abs(t)));Wt=+Math.min(...a),$t=+Math.max(...a)}if(a){const t=[];V.forEach(((e,a)=>{const i=w.map((t=>t.trendcombo[a].Value.map((t=>null==t.Value?null:+t.Value.split("|")[0])))),n=w.map((t=>t.trendcombo[a].Value.map((t=>null==t.Value?null:+t.Value.split("|")[1])))),r=i.concat(n);t.push(r)}));const e=[...new Set([].concat(...t))],a=[...new Set([].concat(...e))];Rt=+Math.min(...a),Bt=+Math.max(...a)}}();try{!function(){performance.now(),0==k.length?o.Ubm(".my_sparklines,.my_sparkarea,.my_refline,.refarea,.clipabove,.clipbelow,.linelabels,.linemarkers,.support_rect,.support_rect_tooltip,.tiplines").remove():o.Ubm(".sparkline_related").filter((function(){return+o.Ltv(this).attr("tag")>=k.length})).remove();const e=[];k.forEach(((a,i)=>{const n=w.map((t=>t.trend[i]))[0].isAxisDate,s=w.map((t=>t.trend[i]))[0].isAxisNumeric,l=w.map((t=>t.trend[i]))[0].axisformat;if(n||s||w.forEach(((t,e)=>{0==+c.visualSettings.xaxis.sorting?t.trend[i].Value.sort():(t.trend[i].Value.sort(),t.trend[i].Value.reverse())})),"number"==w.map((t=>t.trend[i]))[0].type){const g=tt.filter((t=>"sparkline"==t.name&&t.displayname==a))[0],m=tt.indexOf(g),p=c.metadata.filter((t=>t.displayName==a&&t.roles.hasOwnProperty("sparkline"))),b=c.getValue(p[0].objects,"lines","showind",c.visualSettings.lines.showind),v=c.getValue(p[0].objects,"lines","fill",c.visualSettings.lines.fill),y=c.getValue(p[0].objects,"lines","bfill",c.visualSettings.lines.bfill),x=c.getValue(p[0].objects,"lines","mfill",c.visualSettings.lines.mfill),S=c.getValue(p[0].objects,"lines","mfillhigh",c.visualSettings.lines.mfillhigh),_=c.getValue(p[0].objects,"lines","mfilllow",c.visualSettings.lines.mfilllow),k=c.getValue(p[0].objects,"lines","bfillhigh",c.visualSettings.lines.bfillhigh),A=c.getValue(p[0].objects,"lines","bfilllow",c.visualSettings.lines.bfilllow),V=c.getValue(p[0].objects,"lines","commonaxis",c.visualSettings.lines.commonaxis),j=c.getValue(p[0].objects,"lines","linetype",c.visualSettings.lines.linetype),T=c.getValue(p[0].objects,"lines","missing",c.visualSettings.lines.missing),M=c.getValue(p[0].objects,"lines","thickness",c.visualSettings.lines.thickness),z=c.getValue(p[0].objects,"lines","showarea",c.visualSettings.lines.showarea),N=c.getValue(p[0].objects,"lines","areaopacity",c.visualSettings.lines.areaopacity),L=c.getValue(p[0].objects,"lines","showlabels",c.visualSettings.lines.showlabels),D=c.getValue(p[0].objects,"lines","fontsize",c.visualSettings.lines.fontsize),C=c.getValue(p[0].objects,"lines","fontfamily",c.visualSettings.lines.fontfamily),O=c.getValue(p[0].objects,"lines","labelfill",c.visualSettings.lines.labelfill),U=c.getValue(p[0].objects,"lines","refline",c.visualSettings.lines.refline),F=c.getValue(p[0].objects,"lines","markers",c.visualSettings.lines.markers),P=c.getValue(p[0].objects,"lines","markersize",c.visualSettings.lines.markersize),E=c.getValue(p[0].objects,"lines","paddingh",c.visualSettings.lines.paddingh),I=c.getValue(p[0].objects,"lines","paddingv",c.visualSettings.lines.paddingv),R=(c.getValue(p[0].objects,"lines","showaxis",c.visualSettings.lines.showaxis),c.getValue(p[0].objects,"lines","labels",c.visualSettings.lines.labels)),B=c.getValue(p[0].objects,"lines","displayUnits",c.visualSettings.lines.displayUnits),$=c.getValue(p[0].objects,"lines","decimal",c.visualSettings.lines.decimal),G=c.getValue(p[0].objects,"lines","showmarkers",c.visualSettings.lines.showmarkers),Y=c.getValue(p[0].objects,"lines","showrefline",c.visualSettings.lines.showrefline);let H=c.getValue(p[0].objects,"lines","condcolor",c.visualSettings.lines.condcolor);const q=c.getValue(p[0].objects,"lines","cond_p",c.visualSettings.lines.cond_p),Z=c.getValue(p[0].objects,"lines","cond_n",c.visualSettings.lines.cond_n),X=c.getValue(p[0].objects,"lines","opacity",c.visualSettings.lines.opacity),J=c.getValue(p[0].objects,"lines","cond_p_var",c.visualSettings.lines.cond_p_var),K=c.getValue(p[0].objects,"lines","cond_n_var",c.visualSettings.lines.cond_n_var),Q=c.getValue(p[0].objects,"lines","fontsize_var",c.visualSettings.lines.fontsize_var),et=c.getValue(p[0].objects,"lines","showvarfromref",c.visualSettings.lines.showvarfromref),at=c.getValue(p[0].objects,"lines","selectaxis",c.visualSettings.lines.selectaxis);e.push(at),H=!!Y&&H;const it=w[0].trend[i].Value.length;let nt=+o.Ltv("#vlineviz"+(m+1)).attr("x1")-+o.Ltv("#vlineviz"+m).attr("x1");const rt=+o.Ltv("#vlineviz"+(m+1)).attr("x1")-nt*E/100-(+o.Ltv("#vlineviz"+m).attr("x1")+nt*E/100),ut=ct/w.length*(2*I/100),dt={text:"1191K%",fontFamily:String(C),fontSize:Q+"px"},ft=r.Tf.measureSvgTextWidth(dt),gt=rt>100&&Y&&et?Math.max(nt*E/100,ft+4)-+nt*E/100:0;let pt=o.m4Y().domain([0,it-1]).range([+o.Ltv("#vlineviz"+m).attr("x1")+nt*E/100,+ +o.Ltv("#vlineviz"+(m+1)).attr("x1")-nt*E/100-gt]);Zt.push({start:+o.Ltv("#vlineviz"+m).attr("x1")+6,width:nt,nooflbl:it-1,type:"line"});const vt=[];let yt,xt,_t,kt,At;const Vt=w.map((t=>t.trend[i].Value.map((t=>t.Value)))),jt=[...new Set([].concat(...Vt))],Tt=o.jkA(jt),zt=[o.lUB,o.Xf2,o.dyv][+j-1],Nt={text:"91k",fontFamily:String(C),fontSize:D+"px"},Lt=r.Tf.measureSvgTextHeight(Nt),Dt=1==m?0:Mt.map((t=>+t.split("|")[1]))[m-2];function Ct(){c.container.selectAll(".my_sparklines"+i).data(w).join("path").attr("class","my_sparklines"+i).attr("id",((t,e)=>"i"+e+"b"+i)).classed("my_sparklines",!0).classed("sparkline_related",!0).attr("tag",i).attr("d",(function(){return o.Ltv(this).attr("d")})).style("stroke",(t=>b?f(t):"object"==typeof v?v.solid.color:v)).style("stroke-width",M).style("fill","none").attr("transform",((t,e)=>"reverse"==W?`translate(0,${Dt})`:`translate(0,${ct*e/w.length})`)),c.container.selectAll(".my_sparklines"+i).transition().duration(100*+c.visualSettings.margins.transition).attr("d",((t,e)=>{mt=[],mt=t.trend[i].Value.map(((t,e)=>[e,"1"==T&&null==t.Value?0:t.Value,t.Axis]));const a=t.trend[i].Value.map((t=>t.Value));let n=[0,o.i2o(a),a[0],a[a.length-1],0][+U];n=null==n?Number.MIN_SAFE_INTEGER:n;const r=V?jt:mt.map((t=>t[1]));Y&&r.push(n);const s=c.visualSettings.globalyaxis.line?Ft:+Math.min(...r),l=c.visualSettings.globalyaxis.line?Pt:+Math.max(...r);if("reverse"==W){nt=ot/(w.length+1);const t=ot*(e+1)/(w.length+1),a=ot*(e+2)/(w.length+1);pt=o.m4Y().domain([0,it-1]).range([+t+nt*E/100,+ +a-nt*E/100-gt])}const u=Mt.map((t=>+t.split("|")[1])),h="reverse"==W?1==m?u[m-1]:u[m-1]-u[m-2]:ct/w.length;return ht=o.m4Y().domain([s,l]).range([h-ut,0+ut]),wt=o.n8j().curve(zt).x(((t,e)=>pt(e))).y((t=>ht(t[1]))),"0"==T&&wt.defined((function(t){return null!==t[1]})),wt(mt)}))}function Ot(){c.container.selectAll(".my_sparkarea"+i).data(w).join("path").attr("class","my_sparkarea"+i).classed("my_sparkarea",!0).classed("sparkline_related",!0).attr("tag",i).attr("d",(function(){return o.Ltv(this).attr("d")})).style("fill",(t=>b?f(t):"object"==typeof v?v.solid.color:v)).style("fill-opacity",N/10).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)),c.container.selectAll(".my_sparkarea"+i).transition().duration(100*+c.visualSettings.margins.transition).attr("d",((t,e)=>{bt=[];const a=t.trend[i].Value.map((t=>t.Value)),n=Math.min(...a);let r=[0,o.i2o(a),a[0],a[a.length-1]][+U];r=null==r?Number.MIN_SAFE_INTEGER:r,bt=t.trend[i].Value.map(((t,e)=>["1"==T&&null==t.Value?0:t.Value,V?Tt:n]));const s=V?jt:bt.map((t=>t[0]));Y&&s.push(r);const l=c.visualSettings.globalyaxis.line?Ft:+Math.min(...s),u=c.visualSettings.globalyaxis.line?Pt:+Math.max(...s);return ht=o.m4Y().domain([l,u]).range([ct/w.length-ut,0+ut]),St=o.Wcw().curve(zt).x(((t,e)=>pt(e))).y0((t=>ht(t[0]))).y1((t=>ht(t[1]))),"0"==T&&St.defined((function(t){return null!==t[0]})),St(bt)}))}function Ut(){c.container.selectAll(".my_refline"+i).data(w).join("path").attr("class","my_refline"+i).classed("my_refline",!0).classed("sparkline_related",!0).attr("tag",i).attr("d",((t,e)=>{let a=[];const n=t.trend[i].Value.map((t=>t.Value));let r=[0,o.i2o(n),n[0],n[n.length-1],0][+U];r=null==r?Number.MIN_SAFE_INTEGER:r,a=t.trend[i].Value.map(((t,e)=>[e,r]));const s=V?jt:n;s.push(r);const l=c.visualSettings.globalyaxis.line?Ft:+Math.min(...s),u=c.visualSettings.globalyaxis.line?Pt:+Math.max(...s),h=o.m4Y().domain([l,u]).range([ct/w.length-ut,0+ut]);return wt=o.n8j().curve(zt).x(((t,e)=>pt(e))).y((t=>h(t[1]))),"0"==T&&wt.defined((function(t){return null!==t[1]})),wt(a)})).style("stroke","object"==typeof v?v.solid.color:v).style("stroke-width",1).style("fill","none").attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).style("stroke-dasharray","5,3")}function Et(){c.container.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 Z").attr("class","arrow"),c.container.selectAll(".var_refline"+i).data(w).join("line").attr("class","var_refline"+i).classed("sparkline_related",!0).attr("tag",i).attr("x1",((t,e)=>+o.Ltv("#vlineviz"+(m+1)).attr("x1")-nt*E/100)).attr("x2",((t,e)=>+o.Ltv("#vlineviz"+(m+1)).attr("x1")-nt*E/100)).attr("y1",((t,e)=>{let a=[];const n=t.trend[i].Value.map((t=>t.Value)).filter((t=>!(0,h.isNullOrEmpty)(t)));let r=[0,o.i2o(n),n[0],n[n.length-1],0][+U];r=null==r?Number.MIN_SAFE_INTEGER:r,a=t.trend[i].Value.map(((t,e)=>[e,r]));const s=V?jt:n;s.push(r);const l=c.visualSettings.globalyaxis.line?Ft:+Math.min(...s),u=c.visualSettings.globalyaxis.line?Pt:+Math.max(...s);return o.m4Y().domain([l,u]).range([ct/w.length-ut,0+ut])(r)})).attr("y2",((t,e)=>{let a=[];const n=t.trend[i].Value.map((t=>t.Value)).filter((t=>!(0,h.isNullOrEmpty)(t))),r=o.i2o(n),s=n[0],l=n[n.length-1];let u=[0,r,s,l,0][+U];u=null==u?Number.MIN_SAFE_INTEGER:u;const d=l;a=t.trend[i].Value.map(((t,e)=>[e,u]));const f=V?jt:n;f.push(u);const g=c.visualSettings.globalyaxis.line?Ft:+Math.min(...f),m=c.visualSettings.globalyaxis.line?Pt:+Math.max(...f);return o.m4Y().domain([g,m]).range([ct/w.length-ut,0+ut])(d)})).style("stroke",(t=>{const e=t.trend[i].Value.map((t=>t.Value)).filter((t=>!(0,h.isNullOrEmpty)(t))),a=o.i2o(e),n=e[0],r=e[e.length-1];let s=[0,a,n,r,0][+U];return s=null==s?Number.MIN_SAFE_INTEGER:s,r>=s?"object"==typeof J?J.solid.color:J:"object"==typeof K?K.solid.color:K})).style("fill","none").style("stroke-width",1).attr("marker-end","url(#arrowhead)").attr("transform",((t,e)=>"reverse"==W?`translate(0,${Dt})`:`translate(${6-gt},${ct*e/w.length})`)),c.container.selectAll(".var_refline_text"+i).data(w).join("text").attr("class","var_refline_text"+i).classed("sparkline_related",!0).attr("tag",i).attr("x",((t,e)=>+o.Ltv("#vlineviz"+(m+1)).attr("x1")-1)).attr("y",((t,e)=>{let a=[];const n=t.trend[i].Value.map((t=>t.Value)).filter((t=>!(0,h.isNullOrEmpty)(t))),r=o.i2o(n),s=n[0],l=n[n.length-1];let u=[0,r,s,l,0][+U];u=null==u?Number.MIN_SAFE_INTEGER:u;const d=l;a=t.trend[i].Value.map(((t,e)=>[e,u]));const f=V?jt:n;f.push(u);const g=c.visualSettings.globalyaxis.line?Ft:+Math.min(...f),m=c.visualSettings.globalyaxis.line?Pt:+Math.max(...f),p=o.m4Y().domain([g,m]).range([ct/w.length-ut,0+ut]);return(p(d)+p(u))/2})).style("fill",(t=>{const e=t.trend[i].Value.map((t=>t.Value)).filter((t=>!(0,h.isNullOrEmpty)(t))),a=o.i2o(e),n=e[0],r=e[e.length-1];let s=[0,a,n,r,0][+U];return s=null==s?Number.MIN_SAFE_INTEGER:s,r>=s?"object"==typeof J?J.solid.color:J:"object"==typeof K?K.solid.color:K})).style("dominant-baseline","middle").attr("text-anchor","end").attr("font-size",Q).attr("font-family",String(C)).style("font-weight","normal").text((t=>{const e=t.trend[i].Value.map((t=>t.Value)).filter((t=>!(0,h.isNullOrEmpty)(t))),a=o.i2o(e),n=e[0],r=e[e.length-1];let s=[0,a,n,r,0][+U];return s=null==s?Number.MIN_SAFE_INTEGER:s,(100*(r-s)/Math.abs(s)).toFixed(0)+"%"})).attr("transform",((t,e)=>"reverse"==W?`translate(0,${Dt})`:`translate(0,${ct*e/w.length})`))}function It(){c.container.selectAll(".refarea"+i).data(w).join((t=>t.append("g").attr("class","refarea"+i).classed("refarea",!0).classed("sparkline_related",!0).attr("tag",i).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).append("clipPath").attr("id",((t,e)=>"clip"+String(e)+"|"+i)).attr("class","clip").append("path").attr("class","clippedpath").attr("tag",i).attr("d",((t,e)=>{const a=[],n=t.trend[i].Value.map((t=>t.Value));let r=[0,o.i2o(n),n[0],n[n.length-1]][+U];r=null==r?Number.MIN_SAFE_INTEGER:r,t.trend[i].Value.forEach(((t,e)=>{a.push([r,"1"==T&&null==t.Value?0:t.Value])}));const s=V?jt:a.map((t=>t[1]));Y&&s.push(r);const l=c.visualSettings.globalyaxis.line?Ft:+Math.min(...s),u=c.visualSettings.globalyaxis.line?Pt:+Math.max(...s);return ht=o.m4Y().domain([l,u]).range([ct/w.length-ut,0+ut]),pt=o.m4Y().domain([0,it-1]).range([+o.Ltv("#vlineviz"+m).attr("x1")+nt*E/100,+ +o.Ltv("#vlineviz"+(m+1)).attr("x1")-nt*E/100-gt]),St=o.Wcw().curve(zt).x(((t,e)=>pt(e))).y0((t=>ht(t[0]))).y1((t=>ht(t[1]))),"0"==T&&St.defined((function(t){return null!==t[1]})),St(a)})).attr("fill","black").attr("fill-opacity",.1)),(t=>t.attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).select(".clippedpath").classed("zubi",!0).attr("fill","purple").attr("d",((t,e)=>{const a=[],n=t.trend[i].Value.map((t=>t.Value));let r=[0,o.i2o(n),n[0],n[n.length-1]][+U];r=null==r?Number.MIN_SAFE_INTEGER:r,t.trend[i].Value.forEach(((t,e)=>{a.push([r,"1"==T&&null==t.Value?0:t.Value])}));const s=V?jt:a.map((t=>t[1]));Y&&s.push(r);const l=c.visualSettings.globalyaxis.line?Ft:+Math.min(...s),u=c.visualSettings.globalyaxis.line?Pt:+Math.max(...s);return ht=o.m4Y().domain([l,u]).range([ct/w.length-ut,0+ut]),St=o.Wcw().curve(zt).x(((t,e)=>pt(e))).y0((t=>ht(t[0]))).y1((t=>ht(t[1]))),"0"==T&&St.defined((function(t){return null!==t[1]})),St(a)}))),(t=>t.remove())),c.container.selectAll(".clipabove"+i).data(w).join("path").attr("class","clipabove"+i).classed("clipabove",!0).classed("sparkline_related",!0).attr("tag",i).attr("d",((t,e)=>{let a=[];const n=t.trend[i].Value.map((t=>t.Value)),r=o.i2o(n),s=n[0],l=n[n.length-1],u=o.T9B(n);o.jkA(n);let h=[0,r,s,l][+U];h=null==h?Number.MIN_SAFE_INTEGER:h;const d=V?jt:n;Y&&d.push(h);const f=c.visualSettings.globalyaxis.line?Ft:+Math.min(...d),g=c.visualSettings.globalyaxis.line?Pt:+Math.max(...d);return ht=o.m4Y().domain([f,g]).range([ct/w.length-ut,0+ut]),a=t.trend[i].Value.map((()=>[h,u])),St=o.Wcw().curve(zt).x(((t,e)=>pt(e))).y0((t=>ht(t[0]))).y1((t=>ht(t[1])-ut)),"0"==T&&St.defined((function(t){return null!==t[1]})),St(a)})).style("fill","object"==typeof q?q.solid.color:q).style("fill-opacity",X/10).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).attr("clip-path",((t,e)=>`url(#clip${e+"|"+i})`)),c.container.selectAll(".clipbelow"+i).data(w).join("path").attr("class","clipbelow"+i).classed("clipbelow",!0).classed("sparkline_related",!0).attr("tag",i).attr("d",((t,e)=>{let a=[];const n=t.trend[i].Value.map((t=>t.Value)),r=o.i2o(n),s=n[0],l=n[n.length-1],u=(o.T9B(n),o.jkA(n));let h=[0,r,s,l][+U];h=null==h?Number.MIN_SAFE_INTEGER:h,a=t.trend[i].Value.map((()=>[h,V?Tt:u]));const d=V?jt:n;Y&&d.push(h);const f=c.visualSettings.globalyaxis.line?Ft:+Math.min(...d),g=c.visualSettings.globalyaxis.line?Pt:+Math.max(...d);return ht=o.m4Y().domain([f,g]).range([ct/w.length-ut,0+ut]),St=o.Wcw().curve(zt).x(((t,e)=>pt(e))).y0((t=>ht(t[0]))).y1((t=>ht(t[1])+ut)),"0"==T&&St.defined((function(t){return null!==t[1]})),St(a)})).style("fill","object"==typeof Z?Z.solid.color:Z).style("fill-opacity",X/10).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).attr("clip-path",((t,e)=>`url(#clip${e+"|"+i})`))}function Rt(){w.forEach(((t,e)=>{const a=t.trend[i].Value.map((t=>t.Value)),n=o.T9B(a),s=o.jkA(a),l=V?jt:a,u=c.visualSettings.globalyaxis.line?Ft:+Math.min(...l),h=c.visualSettings.globalyaxis.line?Pt:+Math.max(...l);let d,f,g,m,p;ht=o.m4Y().domain([u,h]).range([ct/w.length-ut,0+ut]),g=o.T9B(a.map((t=>Math.round(Math.abs(t))))),"auto"==B?d=o.T9B([0,3,6,9,12].filter((t=>t<g.toString().split("").length))):"thousands"==B?d=3:"millions"==B?d=6:"billions"==B?d=9:"none"==B&&(d="0"),m=null==t.trend[i].format?"":t.trend[i].format,""==m&&(m="0"),p=$,f=r.G2.create({format:m,value:+("1e"+String(d)),precision:p,allowFormatBeautification:!0}),t.trend[i].Value.forEach(((t,a)=>{vt.push([a,t.Value,e,+ht("1"==T&&null==t.Value?0:t.Value),f.format(t.Value),s,n,t.Value+"|"+e])}))})),kt=[vt,vt.filter((t=>t[1]==t[5]||t[1]==t[6])),vt.filter((t=>t[1]==t[6])),vt.filter((t=>t[1]==t[5]))]}function Bt(){yt=kt[+R];const t=+o.T9B(yt.filter((t=>null!==t[1])).map((t=>t[4].length))),e={text:"000009wlp000000000".slice(0,t),fontFamily:String(C),fontSize:D+"px"},a=r.Tf.measureSvgTextWidth(e);At=Math.floor(rt/a),_t=Math.ceil(+it/+At),+R>0&&_t>1&&(yt=yt.filter((t=>0!==t[1]&&null!==t[1]))),_t=_t<1||+R>0?1:_t,c.container.selectAll(".linelabels"+i).data(yt.filter(((t,e)=>e%_t==0))).join("text").attr("class","linelabels"+i).classed("linelabels",!0).classed("sparkline_related",!0).attr("tag",i).attr("id",((t,e)=>"line"+i+"axis"+t[0]+"data"+t[2])).attr("x",((t,e)=>pt(+t[0]))).attr("y",(t=>{const e=+t[3]-9,a=+t[3]+Lt+9,i=e-Lt>0?e:a;return isNaN(i)?ct/w.length/2:i})).text((t=>null==t[1]?"":t[4])).style("dominant-baseline","baseline").attr("text-anchor","middle").attr("font-size",D).style("fill","object"==typeof O?O.solid.color:O).style("font-family",String(C)).attr("transform",(t=>`translate(0,${ct*+t[2]/w.length})`))}function Wt(){xt=kt[+F],"0"==T&&(xt=xt.filter((t=>null!==t[1]))),c.container.selectAll(".markers"+i).data(xt).join("circle").attr("class","markers"+i).classed("linemarkers",!0).classed("sparkline_related",!0).attr("tag",i).attr("cx",(function(){return o.Ltv(this).attr("cx")})).attr("cy",(function(){return o.Ltv(this).attr("cy")})).attr("r",(t=>null==t[1]?0:+P)).style("fill",(t=>t[1]==t[6]?"object"==typeof S?S.solid.color:S:t[1]==t[5]?"object"==typeof _?_.solid.color:_:"object"==typeof x?x.solid.color:x)).style("stroke",(t=>t[1]==t[6]?"object"==typeof k?k.solid.color:k:t[1]==t[5]?"object"==typeof A?A.solid.color:A:"object"==typeof y?y.solid.color:y)).style("stroke-width",.5).attr("transform",(t=>"reverse"==W?`translate(${nt*(t[2]-(m-1))},${(m-1)*ct/w.length})`:`translate(0,${ct*t[2]/w.length})`)),c.container.selectAll(".markers"+i).transition().duration(100*+c.visualSettings.margins.transition).attr("cx",((t,e)=>pt(t[0]))).attr("cy",((t,e)=>t[3]))}function $t(){1==m||Mt.map((t=>+t.split("|")[1]))[m-2];const e=c.container.selectAll(".support_rect"+i).data(w).join("rect").attr("class","support_rect"+i).classed("support_rect",!0).classed("sparkline_related",!0).attr("tag",i).attr("width","reverse"==W?ot/(w.length+1):nt).attr("height","reverse"==W?+o.Ltv("#vlineviz"+m).attr("y1")-+o.Ltv("#vlineviz"+(m-1)).attr("y1"):ct/w.length-2).attr("x",((t,e)=>"reverse"==W?(e+1)*(ot/(w.length+1)):+o.Ltv("#vlineviz"+m).attr("x1"))).attr("y",((t,e)=>"reverse"==W?+o.Ltv("#vlineviz"+(m-1)).attr("y1"):e*(ct/w.length)+1)).attr("fill",["green","red"][i]).attr("fill-opacity",((t,e)=>0)).attr("stroke","black").attr("stroke-width",0).on("mouseout",(function(){o.Ubm(".support_rect_tooltip,.tiplines,.temp_labels,.temp_markers").filter((function(){return+o.Ltv(this).attr("tag")!==i})).remove()})).on("mousemove",(function(s,h){const f=e.nodes().indexOf(this);o.Ubm(".tiplines_combo").remove();const g=h.trend[i].Value.map((t=>t.Value)),p=o.i2o(g),b=g[0],S=g[g.length-1],_=(Math.max(...g),Math.min(...g));let k=[0,p,b,S,0][+U];k=null==k?Number.MIN_SAFE_INTEGER:k,mt=h.trend[i].Value.map(((t,e)=>[e,"1"==T&&null==t.Value?0:t.Value,t.Axis,h.trend[i].format,h.selectionId,_,h.MainCategory,i,"lines",k,Y,U,$,h.trend[i].isAxisDate,h.trend[i].axisformat]));const A=mt.length-1,j=c.container.selectAll(".support_rect_tooltip"+i).data(mt).join("rect").attr("class","support_rect_tooltip"+i).classed("support_rect_tooltip",!0).classed("husain",!0).classed("sparkline_related",!0).attr("tag",i).attr("width",((t,e)=>"Normal"==W?0==e?+pt(.5)-+o.Ltv("#vlineviz"+m).attr("x1")-2:e==A?+o.Ltv("#vlineviz"+(m+1)).attr("x1")-pt(A-.5)-2:+pt(+e+.5)-+pt(+e-.5):ot/(w.length+1)/mt.length)).attr("height",((t,e)=>"reverse"==W?+o.Ltv("#vlineviz"+m).attr("y1")-+o.Ltv("#vlineviz"+(m-1)).attr("y1"):ct/w.length)).attr("x",((t,e)=>{if("Normal"==W)return 0==e?+o.Ltv("#vlineviz"+m).attr("x1")+2:+pt(+e-.5);{const t=ot/(w.length+1);return(f+1)*t+e*(t/mt.length)}})).attr("y",((t,e)=>0)).style("fill",(t=>"red")).style("fill-opacity",(t=>0)).style("stroke","black").style("stroke-width",0).attr("transform",((t,e)=>"reverse"==W?`translate(0,${+o.Ltv("#vlineviz"+(m-1)).attr("y1")})`:`translate(0,${ct*f/w.length})`)).on("click",pe).on("dblclick",(function(e,s){j.nodes().indexOf(this);const h=u,g=d;c.svg.attr("height",h),c.svg.append("rect").classed("zoomsparklines",!0).attr("x",0).attr("y",0).attr("width",d).attr("height",u).style("fill",(t=>"white")).style("fill-opacity",(t=>1)),c.svg.append("text").text(String(s[6])+"  -  "+a).style("fill","black").classed("zoomsparklines",!0).attr("x",g/2).attr("y",5).style("dominant-baseline","hanging").attr("text-anchor","middle").attr("font-size",20),c.svg.append("rect").classed("zoomsparklines",!0).attr("x",0).attr("y",0).attr("rx",5).attr("ry",5).attr("width",50).attr("height",25).style("fill",(t=>"silver")).style("fill-opacity",(t=>1)).on("click",(function(){c.svg.attr("height",lt),c.svg.attr("width",st),o.Ubm(".zoomsparklines").remove(),Math.floor(h+ee+0)>Math.floor(t.viewport.height)?c.bgcolor.style.overflowY="auto":c.bgcolor.style.overflowY="",Math.floor(g+0+0)>Math.floor(t.viewport.width)?c.bgcolor.style.overflowX="auto":c.bgcolor.style.overflowX=""})),c.svg.append("text").classed("zoomsparklines",!0).attr("x",10).attr("y",14.5).text("EXIT").style("fill",(t=>"black")).style("fill-opacity",(t=>1)).style("dominant-baseline","Middle").attr("text-anchor","Start").on("click",(function(){c.svg.attr("height",lt),c.svg.attr("width",st),o.Ubm(".zoomsparklines").remove(),Math.floor(h+ee+0)>Math.floor(t.viewport.height)?c.bgcolor.style.overflowY="auto":c.bgcolor.style.overflowY="",Math.floor(g+0+0)>Math.floor(t.viewport.width)?c.bgcolor.style.overflowX="auto":c.bgcolor.style.overflowX=""})),o.s_O(),c.bgcolor.style.overflow="",w.map((t=>t.trend[i].Value.map((t=>t.Value)))).flat();const p=w.map((t=>t.trend[i].Value.map(((e,a)=>[a,"1"==T&&null==e.Value?0:e.Value,e.Axis,e.format,t.selectionId,_,t.MainCategory,i,"lines",k,Y,U,$,t.trend[i].isAxisDate,t.trend[i].axisformat])))),b=o.m4Y().domain([0,it-1]).range([0,.9*g]),y=[];let x,S=0;p.forEach(((t,e)=>{const a={text:t[0][6],fontFamily:String(C),fontSize:"15px"};x=r.Tf.measureSvgTextHeight(a);const i=r.Tf.measureSvgTextWidth(a);S=S+i+(e>0?25:0),y.push({name:t[0][6],width:i,cumwidth:S-i,line_number:Math.max(1,Math.ceil((S-i)/g))})}));const A=o.T9B(y.map((t=>t.line_number))),V=[],M=o.m4Y().domain([+o.jkA(mt.map((t=>t[1]))),+o.T9B(mt.map((t=>t[1])))]).range([.95*h-50,0+.05*h+22*A+50]),z=o.n8j().curve(zt).x(((t,e)=>b(e))).y((t=>M(t[1])));"0"==T&&z.defined((function(t){return null!==t[1]})),c.svg.append("path").classed("zoomsparklines",!0).classed("mainline",!0).attr("d",((t,e)=>z(mt))).style("stroke",(t=>"object"==typeof v?v.solid.color:v)).style("fill","none").style("stroke-width",1).attr("transform","translate(50,0)"),c.svg.selectAll(".mainlinelabels").data(mt).join("text").text((t=>{const e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t[1])).length)));let a=null==s[3]?"":s[3];""==a&&(a="0");const i=+$;return r.G2.create({format:a,value:+("1e"+String(e)),precision:i,allowFormatBeautification:!0}).format(+t[1])})).attr("id",((t,e)=>"mainlinelabel"+e)).classed("mainlinelabels",!0).classed("zoomsparklines",!0).style("fill","object"==typeof v?v.solid.color:v).attr("font-size",15).style("font-family","Cambria").attr("x",((t,e)=>b(e))).attr("y",(t=>null==t[1]?-4e3:M(t[1])-10)).style("dominant-baseline","middle").attr("text-anchor","middle").attr("transform","translate(50,0)"),c.hidelabels(o.Ubm(".mainlinelabels"),g,40),o.y17(1,o.T9B(y.map((t=>t.line_number)))+1).forEach(((t,e)=>{V.push(o.jkA(y.filter((e=>e.line_number==t)).map((t=>t.cumwidth))))}));const N=c.svg.selectAll("mycheckboxes").data(y).join("rect").attr("id",((t,e)=>"id"+e)).classed("checkboxes",!0).attr("tag",((t,e)=>String(t.name).replace(" ",""))).classed("zoomsparklines",!0).style("stroke","silver").attr("x",((t,e)=>+t.cumwidth-V[t.line_number-1])).attr("y",(t=>10+22*t.line_number)).attr("width",20).attr("height",20).style("fill",(t=>t.name==s[6]?"object"==typeof v?v.solid.color:v:"white")).on("click",(function(t,e){const a=N.nodes().indexOf(this);e.name!==s[6]&&(c.selectedlinepos=a,"white"==o.Ltv(this).style("fill")?(o.Ubm(".checkboxes").each((function(t,e){t.name!==s[6]&&o.Ltv(this).style("fill","white")})),o.Ltv(this).style("fill","silver")):o.Ltv(this).style("fill","white"),function(t,e){const a=o.Ltv("#id"+e).style("fill");c.selectedline=p[e];const i="silver"==a?mt.map((t=>t[1])).concat(c.selectedline.map((t=>t[1]))):mt.map((t=>t[1])),n="silver"==a?mt.map((t=>t[1])).concat(c.selectedline.map((t=>t[1]))):mt.map((t=>t[1])),l=o.m4Y().domain([+o.jkA(i),+o.T9B(n)]).range([.95*h-50,0+.05*h+22*A+50]),u=(o.m4Y().domain([+o.jkA(i),+o.T9B(n)]).range([h,0]),o.Wcw().curve(zt).x(((t,e)=>b(e))).y((t=>l(t[1]))));"0"==T&&u.defined((function(t){return null!==t[1]}));const d=o.Wcw().curve(zt).x(((t,e)=>b(e))).y0((t=>l(t[1]))).y1((t=>l(+o.T9B(n))));"0"==T&&d.defined((function(t){return null!==t[1]}));const m=o.Wcw().curve(zt).x(((t,e)=>b(e))).y0((t=>l(t[1]))).y1((t=>l(+o.jkA(i))));"0"==T&&m.defined((function(t){return null!==t[1]}));const v=o.Wcw().curve(zt).x(((t,e)=>b(e))).y0((t=>l(t[1]))).y1(((t,e)=>l(mt[e][1])));"0"==T&&v.defined((function(t){return null!==t[1]&&null!==mt[f][1]})),o.Ubm(".otherline,.otherlinelabels").remove(),c.svg.append("path").classed("zoomsparklines",!0).classed("otherline",!0).attr("d",((t,e)=>u(c.selectedline))).style("stroke","silver").style("fill","red").style("fill-opacity",0).style("stroke-width",2).attr("transform","translate(50,0)"),c.svg.selectAll(".otherlinelabels").data(c.selectedline).join("text").text((t=>{const e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t[1])).length)));let a=null==s[3]?"":s[3];""==a&&(a="0");const i=+$;return r.G2.create({format:a,value:+("1e"+String(e)),precision:i,allowFormatBeautification:!0}).format(t[1])})).attr("id",((t,e)=>"mainlinelabel"+e)).classed("otherlinelabels",!0).classed("zoomsparklines",!0).style("fill","silver").attr("font-size",15).style("font-family","Cambria").attr("x",((t,e)=>b(e))).attr("y",((t,e)=>{const a=+t[1]>+mt[e][1];return null==t[1]?-4e3:l(t[1])+(a?-5:5)})).style("dominant-baseline",((t,e)=>+t[1]>+mt[e][1]?"auto":"hanging")).attr("text-anchor","middle").attr("transform","translate(50,0)"),c.hidelabels(o.Ubm(".otherlinelabels"),g,40),o.Ubm(".temp_zerobase").remove(),c.svg.append("line").classed("zoomsparklines",!0).classed("temp_zerobase",!0).attr("x1",((t,e)=>0)).attr("x2",((t,e)=>g)).attr("y1",((t,e)=>l(0))).attr("y2",((t,e)=>l(0))).style("stroke","silver").style("fill","none").style("stroke-width",1).attr("transform","translate(50,0)").style("stroke-dasharray","3, 3"),o.Ubm(".mainline").attr("d",((t,e)=>u(mt))),o.Ubm(".mainlinelabels").attr("y",(t=>l(null==t[1]?0:t[1])-5)),o.Ubm(".mainlinelabels").each((function(t,e){const a=+(null==t[1]?0:t[1])>=+(null==c.selectedline[e][1]?0:c.selectedline[e][1]),i=+o.Ltv(this).attr("y");o.Ltv(this).attr("y",+i+(a?-10:20)),o.Ltv(this).attr("dominant-baseline",a?"auto":"hanging")})),"white"==a&&(o.Ubm(".otherlinelabels,.otherline").remove(),c.selectedline=[]),L(c.selectedline,c.selectedlinepos)}(0,a))}));function L(t,e){let a;a=c.selectedline.length>0?mt.map(((t,e)=>[t,c.selectedline[e]])):mt.map(((t,e)=>[t,"NA"]));const i=c.svg.selectAll(".temp_tooltip").data(a).join("rect").attr("class","temp_tooltip").classed("zoomsparklines",!0).attr("x",((t,e)=>b(e))).attr("height",((t,e)=>Math.max(h-33-(22*o.T9B(y.map((t=>t.line_number)))+30),0))).attr("width",((t,e)=>b(e+1)-b(e))).attr("y",((t,e)=>22*o.T9B(y.map((t=>t.line_number)))+30)).style("fill",(t=>"red")).style("fill-opacity",(t=>0)).style("stroke","black").style("stroke-width",0).attr("transform",((t,e)=>`translate(${50-(+b(e+1)-b(e))/2},0)`)).on("mousemove",(function(e,a){const n=i.nodes().indexOf(this);c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(e=>c.getTooltipDataLines_temp(a,t,n)),(t=>null)),o.Ltv(this).attr("width"),c.svg.selectAll(".temp_tooltipline").data([0]).join("line").attr("class","temp_tooltipline").classed("zoomsparklines",!0).attr("x1",50+b(+n)).attr("x2",50+b(+n)).attr("y1",22*o.T9B(y.map((t=>t.line_number)))+30).attr("y2",h-33).attr("stroke","silver").attr("stroke-width",.75).style("stroke-dasharray","5,3")})).on("mouseout",(function(){o.Ubm(".temp_tooltipline").remove()}))}c.svg.selectAll("mycheckboxes_text").data(y).join("text").attr("x",((t,e)=>+t.cumwidth-V[t.line_number-1]+20+2)).attr("y",(t=>20+22*t.line_number)).text((t=>t.name)).attr("font-size",13).classed("zoomsparklines",!0).style("dominant-baseline","middle").attr("text-anchor","start").style("fill","black"),L(c.selectedline,c.selectedlinepos);const D=w.map((t=>t.trend[i]))[0].Value.map((t=>t.Axis));c.dateformat="custom"==c.visualSettings.xaxis.dateaxis?l:c.visualSettings.xaxis.dateaxis,c.dateformatter=r.G2.create({format:c.dateformat});const O=o.m4Y().domain([0,it-1]).range([0,.9*g]),F=o.l78(O).ticks(D.length-1).tickFormat((function(t,e){const a=D[+t];return n?c.dateformatter.format(new Date(a)):String(a)})).tickSizeOuter(7).tickSizeInner(7),P=D.map((t=>n?c.dateformatter.format(new Date(t)):String(t))),E=P.map((t=>String(t).length)),I=P[E.indexOf(o.T9B(E))],R={text:String(I),fontFamily:c.visualSettings.xaxis.fontfamily,fontSize:+c.visualSettings.xaxis.fontsize+2+"px"},B=r.Tf.measureSvgTextWidth(R);c.svg.append("g").attr("class","xaxis_temp").classed("zoomsparklines",!0).attr("id","Y"+m).call(F).attr("transform",`translate(50,${h-30})`).selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis_temp").selectAll(".domain,.tick line").style("stroke","black").style("stroke-width",c.visualSettings.xaxis.axiswidth/10),c.hidelabels(o.Ubm(".xaxis_temp").selectAll(".tick text"),g,1.25*B),c.hidelabels(o.Ubm(".xaxis_temp").selectAll(".tick line"),g,1.25*B)})).on("mousemove",(function(t,e){const a=j.nodes().indexOf(this);c.container.selectAll(".tiplines"+i).data([0]).join("line").attr("class","tiplines"+i).classed("tiplines",!0).classed("sparkline_related",!0).attr("tag",i).attr("x1",0==a?+o.Ltv("#vlineviz"+m).attr("x1")+nt*E/100:a==A?+o.Ltv("#vlineviz"+(m+1)).attr("x1")-nt*E/100-gt:+o.Ltv(this).attr("x")+ +o.Ltv(this).attr("width")/2).attr("x2",0==a?+o.Ltv("#vlineviz"+m).attr("x1")+nt*E/100:a==A?+o.Ltv("#vlineviz"+(m+1)).attr("x1")-nt*E/100-gt:+o.Ltv(this).attr("x")+ +o.Ltv(this).attr("width")/2).attr("y1",+o.Ltv(this).attr("y")).attr("y2",+o.Ltv(this).attr("y")+ +o.Ltv(this).attr("height")).attr("transform",o.Ltv(this).attr("transform")).attr("stroke","black").attr("stroke-width",.75).lower(),0!=+R&&function(t){for(let e=0;e<w.length;e++)o.Ltv("#line"+i+"axis"+t+"data"+e).size()>0&&o.Ltv("#line"+i+"axis"+t+"data"+e).attr("visibility","hidden");let e=[];e=w.map((e=>({specific:e.trend[i].Value.map((t=>t.Value))[t],all:e.trend[i].Value}))),c.container.selectAll(".temp_labels"+i).data(e).join("text").attr("class","temp_labels"+i).classed("temp_labels",!0).classed("sparkline_related",!0).attr("tag",i).attr("x",(e=>pt(t))).attr("y",(t=>{const e=V?jt:t.all.map((t=>t.Value)),a=c.visualSettings.globalyaxis.line?Ft:+Math.min(...e),i=c.visualSettings.globalyaxis.line?Pt:+Math.max(...e);ht=o.m4Y().domain([a,i]).range([ct/w.length-ut,0+ut]);const n=+ht(t.specific),r=n-9,s=r-Lt>0?r:n+Lt+9;return isNaN(s)?ct/w.length/2:s})).text((t=>{let e,a;"auto"==B?e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t.specific)).split("").length))):"thousands"==B?e=3:"millions"==B?e=6:"billions"==B?e=9:"none"==B&&(e="0"),a=null==w[0].trend[i].format?"":w[0].trend[i].format,""==a&&(a="0");const n=$,s=r.G2.create({format:a,value:+("1e"+String(e)),precision:n,allowFormatBeautification:!0});return null==t.specific?"":s.format(t.specific)})).style("dominant-baseline","baseline").attr("text-anchor","middle").attr("font-size",D).style("fill","object"==typeof O?O.solid.color:O).style("font-family",String(C)).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)),c.container.selectAll(".temp_markers"+i).data(e).join("circle").attr("class","temp_markers"+i).classed("temp_markers",!0).classed("sparkline_related",!0).attr("tag",i).attr("cx",(e=>pt(t))).attr("cy",(t=>{const e=V?jt:t.all.map((t=>t.Value)),a=c.visualSettings.globalyaxis.line?Ft:+Math.min(...e),i=c.visualSettings.globalyaxis.line?Pt:+Math.max(...e);ht=o.m4Y().domain([a,i]).range([ct/w.length-ut,0+ut]);const n=+ht(t.specific);return isNaN(n)?ct/w.length/2:n})).attr("r",(t=>null==t.specific?0:+P)).style("fill",(t=>"object"==typeof x?x.solid.color:x)).style("stroke",(t=>"object"==typeof y?y.solid.color:y)).style("stroke-width",.5).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`))}(+a),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataLines(t)),(t=>t[4]))})).on("mouseout",(function(t,e){o.Ubm(".tiplines,.temp_labels,.temp_markers").remove(),o.Ubm(".linelabels").attr("visibility","visible")}))}))}if(Ct(),z&&!H?Ot():o.Ubm(".my_sparkarea"+i).remove(),Y?Ut():o.Ubm(".my_refline"+i).remove(),H)try{It()}catch(Qt){console.log("")}else o.Ubm(`.refarea${i},.clipabove${i},.clipbelow${i}`).remove();(L||G)&&Rt(),G?Wt():o.Ubm(".markers"+i).remove(),L?Bt():o.Ubm(".linelabels"+i).remove(),rt>100&&Y&&et?Et():o.Ubm(`.var_refline${i},.var_refline_text${i}`).remove(),$t();const Gt=w.map((t=>t.trend[i]))[0].Value.map((t=>t.Axis));c.dateformat="custom"==c.visualSettings.xaxis.dateaxis?l:c.visualSettings.xaxis.dateaxis,c.dateformatter=r.G2.create({format:c.dateformat});const Yt=o.tlR(pt).ticks(Gt.length-1).tickFormat((function(t,e){const a=Gt[+t];return n?c.dateformatter.format(new Date(a)):String(a)})).tickSizeOuter(4).tickSizeInner(4),Ht=Gt.map((t=>n?c.dateformatter.format(new Date(t)):String(t))),qt=Ht.map((t=>String(t).length)),Xt=Ht[qt.indexOf(o.T9B(qt))],Jt={text:String(Xt),fontFamily:c.visualSettings.xaxis.fontfamily,fontSize:+c.visualSettings.xaxis.fontsize+2+"px"},Kt=r.Tf.measureSvgTextWidth(Jt);c.visualSettings.xaxis.showaxis&&(c.container.append("g").attr("class","xaxis").classed("sparklinesaxis"+i,!0).attr("id","Y"+m).call(Yt).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10),c.hidelabels(o.Ubm(".sparklinesaxis"+i).selectAll(".tick text"),+nt-gt,1.25*+Kt),c.hidelabels(o.Ubm(".sparklinesaxis"+i).selectAll(".tick line"),+nt-gt,1.25*+Kt))}})),performance.now()}()}catch(t){console.log(t)}try{performance.now(),0==V.length?o.Ubm(".firstline,.secondline,.combo_bars,.refarea_combo,.clipabove_combo,.clipbelow_combo,.linelabels_combo,.collabels_combo,.combo_markers,.support_rect_combo,.support_rect_tooltip_combo,.tiplines_combo").remove():o.Ubm(".combo_related").filter((function(){return+o.Ltv(this).attr("tag")>=V.length})).remove(),V.forEach(((t,e)=>{const a=w.map((t=>t.trendcombo[e]))[0].isAxisDate,i=w.map((t=>t.trendcombo[e]))[0].isAxisNumeric,n=w.map((t=>t.trendcombo[e]))[0].axisformat;a||i||w.forEach(((t,a)=>{0==+c.visualSettings.xaxis.sorting?t.trendcombo[e].Value.sort():(t.trendcombo[e].Value.sort(),t.trendcombo[e].Value.reverse())}));const s=w.map((t=>t.trendcombo[e]))[0].type,l=w[0].trendcombo[e].Value[0].Value;let u=!1;if("text"==s&&(null==l||isNaN(l.split("|")[0])||isNaN(l.split("|")[1]))&&(u=!0),"text"!==s||u){const h=tt.filter((e=>"combo"==e.name&&e.displayname==t))[0],d=tt.indexOf(h),f=+o.Ltv("#vlineviz"+(d+1)).attr("x1")-+o.Ltv("#vlineviz"+d).attr("x1"),g=(+o.Ltv("#vlineviz"+(d+1)).attr("x1")+ +o.Ltv("#vlineviz"+d).attr("x1"))/2;c.container.append("rect").attr("class","comboerror").attr("width",+o.Ltv("#vlineviz"+(d+1)).attr("x1")-+o.Ltv("#vlineviz"+d).attr("x1")).attr("height",ct).attr("x",+o.Ltv("#vlineviz"+d).attr("x1")).attr("y",0).style("fill","none"),c.container.append("text").attr("class","comboerror").attr("x",g).attr("y",15).style("fill","red").text("Incorrect datatype for a combo chart! Create a caclulated column or measure with 2 values concatenated like 100|50. For illustration, see the demo pbix file of this visual").attr("text-anchor","middle").call(be,f,10,String(c.visualSettings.category.fontfamily),20)}if("text"==s&&!u){const m=tt.filter((e=>"combo"==e.name&&e.displayname==t))[0],p=tt.indexOf(m),b=c.metadata.filter((e=>e.displayName==t&&e.roles.hasOwnProperty("combo"))),v=c.getValue(b[0].objects,"combo","charttype",c.visualSettings.combo.charttype),y=c.getValue(b[0].objects,"combo","missing",c.visualSettings.combo.missing),x=c.getValue(b[0].objects,"combo","fill",c.visualSettings.combo.fill),S=c.getValue(b[0].objects,"combo","fill2",c.visualSettings.combo.fill2),_=c.getValue(b[0].objects,"combo","bfill",c.visualSettings.combo.bfill),k=c.getValue(b[0].objects,"combo","mfill",c.visualSettings.combo.mfill),A=c.getValue(b[0].objects,"combo","mfillhigh",c.visualSettings.combo.mfillhigh),V=c.getValue(b[0].objects,"combo","mfilllow",c.visualSettings.combo.mfilllow),j=c.getValue(b[0].objects,"combo","bfillhigh",c.visualSettings.combo.bfillhigh),T=c.getValue(b[0].objects,"combo","bfilllow",c.visualSettings.combo.bfilllow),M=c.getValue(b[0].objects,"combo","colfill",c.visualSettings.combo.colfill),z=c.getValue(b[0].objects,"combo","colfill_neg",c.visualSettings.combo.colfill_neg),N=c.getValue(b[0].objects,"combo","b_fill",c.visualSettings.combo.b_fill),L=c.getValue(b[0].objects,"combo","showborder",c.visualSettings.combo.showborder),D=c.getValue(b[0].objects,"combo","commonaxis",c.visualSettings.combo.commonaxis),C=c.getValue(b[0].objects,"combo","sameaxis",c.visualSettings.combo.sameaxis),O=c.getValue(b[0].objects,"combo","linetype",c.visualSettings.combo.linetype),U=c.getValue(b[0].objects,"combo","linestyle",c.visualSettings.combo.linestyle),F=c.getValue(b[0].objects,"combo","linestyle2",c.visualSettings.combo.linestyle2),P=c.getValue(b[0].objects,"combo","thickness",c.visualSettings.combo.thickness),E=c.getValue(b[0].objects,"combo","thickness2",c.visualSettings.combo.thickness2),I=(c.getValue(b[0].objects,"combo","showarea",c.visualSettings.combo.showarea),c.getValue(b[0].objects,"combo","areaopacity",c.visualSettings.combo.areaopacity),c.getValue(b[0].objects,"combo","showlabels",c.visualSettings.combo.showlabels)),R=c.getValue(b[0].objects,"combo","fontfamily",c.visualSettings.combo.fontfamily),B=c.getValue(b[0].objects,"combo","fontsize",c.visualSettings.combo.fontsize),$=c.getValue(b[0].objects,"combo","labelfill",c.visualSettings.combo.labelfill),G=c.getValue(b[0].objects,"combo","labels",c.visualSettings.combo.labels),Y=c.getValue(b[0].objects,"combo","displayUnits",c.visualSettings.combo.displayUnits),H=c.getValue(b[0].objects,"combo","decimal",c.visualSettings.combo.decimal),q=c.getValue(b[0].objects,"combo","numberstyle",c.visualSettings.combo.numberstyle),Z=c.getValue(b[0].objects,"combo","showlabels_col",c.visualSettings.combo.showlabels_col),X=c.getValue(b[0].objects,"combo","labelfill_col",c.visualSettings.combo.labelfill_col),J=c.getValue(b[0].objects,"combo","labels_col",c.visualSettings.combo.labels_col),K=(c.getValue(b[0].objects,"combo","displayUnits_col",c.visualSettings.combo.displayUnits_col),c.getValue(b[0].objects,"combo","decimal_col",c.visualSettings.combo.decimal_col),c.getValue(b[0].objects,"combo","customhead",c.visualSettings.combo.customhead)),Q=c.getValue(b[0].objects,"combo","linetext",c.visualSettings.combo.linetext),et=c.getValue(b[0].objects,"combo","coltext",c.visualSettings.combo.coltext),at=c.getValue(b[0].objects,"combo","headsize",c.visualSettings.combo.headsize),it=(c.getValue(b[0].objects,"combo","refline",c.visualSettings.combo.refline),c.getValue(b[0].objects,"combo","markers",c.visualSettings.combo.markers)),nt=c.getValue(b[0].objects,"combo","markersize",c.visualSettings.combo.markersize),rt=c.getValue(b[0].objects,"combo","paddingh",c.visualSettings.combo.paddingh),st=c.getValue(b[0].objects,"combo","paddingv",c.visualSettings.combo.paddingv),lt=(c.getValue(b[0].objects,"combo","showaxis",c.visualSettings.combo.showaxis),c.getValue(b[0].objects,"combo","showmarkers",c.visualSettings.combo.showmarkers)),ut=(c.getValue(b[0].objects,"combo","showrefline",c.visualSettings.combo.showrefline),c.getValue(b[0].objects,"combo","condcolor",c.visualSettings.combo.condcolor)),dt=c.getValue(b[0].objects,"combo","cond_p",c.visualSettings.combo.cond_p),ft=c.getValue(b[0].objects,"combo","cond_n",c.visualSettings.combo.cond_n),yt=c.getValue(b[0].objects,"combo","opacity",c.visualSettings.combo.opacity),xt=c.getValue(b[0].objects,"combo","axislinecolor",c.visualSettings.combo.axislinecolor),_t=c.getValue(b[0].objects,"combo","axiswidth",c.visualSettings.combo.axiswidth);K&&(tt.filter((t=>"combo"==t.name&&t.index==e))[0].newdisplayname=Q+"|"+et+"|"+("object"==typeof x?x.solid.color:x)+"|"+("object"==typeof S?S.solid.color:S)+"|"+("object"==typeof M?M.solid.color:M)+"|"+(1==v?"col":"line")+"|"+at+"|combo");const kt=w[0].trendcombo[e].Value.length;let At=+o.Ltv("#vlineviz"+(p+1)).attr("x1")-+o.Ltv("#vlineviz"+p).attr("x1");const Vt=+o.Ltv("#vlineviz"+(p+1)).attr("x1")-At*rt/100-(+o.Ltv("#vlineviz"+p).attr("x1")+At*rt/100),jt=ct/w.length*(2*st/100),Tt=[o.lUB,o.Xf2,o.dyv][+O-1];vt=o.WH().domain(w[0].trendcombo[e].Value.map((t=>t.Axis))).range([0,+o.Ltv("#vlineviz"+(p+1)).attr("x1")-+o.Ltv("#vlineviz"+p).attr("x1")]).padding(rt/10);const zt=vt.step()-vt.bandwidth();let Nt=o.m4Y().domain([0,kt-1]).range([+o.Ltv("#vlineviz"+p).attr("x1")+vt.bandwidth()/2+zt,+o.Ltv("#vlineviz"+(p+1)).attr("x1")-vt.bandwidth()/2-zt]);Zt.push({start:+o.Ltv("#vlineviz"+p).attr("x1")+6,width:At,nooflbl:kt-1,type:"line"});const Lt=[];let Dt,Ct,Ot,Ut,Ft;const Pt=w.map((t=>t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value?null:+t.Value.split("|")[0])))),Et=w.map((t=>t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value?null:+t.Value.split("|")[1])))),It=Pt.concat(Et),Wt=[...new Set([].concat(...It))];o.jkA(Wt);const $t=1==p?0:Mt.map((t=>+t.split("|")[1]))[p-2];function Gt(){"1"==v?(Xt(),Yt(),w.forEach(((t,a)=>{pt=[];const i=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0]));t.trendcombo[e].Value.forEach(((i,n)=>{pt.push([n,null==i.Value||"0"==i.Value||""==i.Value?null:+i.Value.split("|")[1],i.Axis,i.format,t.selectionId,"minvalue",w[a].MainCategory,e,"lines",null==i.Value||"0"==i.Value||""==i.Value?null:+i.Value.split("|")[0]])}));const n=C?D?Wt:i.concat(pt.map((t=>t[1]))):pt.map((t=>t[1])),r=+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...n)]),s=+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...n)]),l=Mt.map((t=>+t.split("|")[1])),u="reverse"==W?1==p?l[p-1]:l[p-1]-l[p-2]:ct/w.length;gt=o.m4Y().domain([s,r]).range([u-jt,0+jt]),c.container.append("line").attr("class","line").classed("combo_related",!0).attr("tag",e).attr("x1",((t,e)=>+o.Ltv("#vlineviz"+p).attr("x1"))).attr("x2",((t,e)=>+o.Ltv("#vlineviz"+(p+1)).attr("x1"))).attr("y1",((t,e)=>gt(0))).attr("y2",((t,e)=>gt(0))).style("stroke","object"==typeof xt?xt.solid.color:xt).style("stroke-width",.5*_t).attr("transform",`translate(0,${ct*a/w.length})`)}))):(o.Ubm(".combobars"+e).remove(),c.container.selectAll(".secondline"+e).data(w).join("path").attr("class","secondline"+e).classed("secondline",!0).classed("combo_related",!0).attr("tag",e).attr("d",(function(){return o.Ltv(this).attr("d")})).style("stroke","object"==typeof S?S.solid.color:S).style("stroke-width","2"==v?E:0).style("fill","none").style("stroke-dasharray","1"==F?"0, 0":"3, 3").attr("transform",((t,e)=>"reverse"==W?`translate(0,${$t})`:`translate(0,${ct*e/w.length})`)),c.container.selectAll(".secondline"+e).transition().duration(100*+c.visualSettings.margins.transition).attr("d",((t,a)=>{const i=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1])),n=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0]));pt=t.trendcombo[e].Value.map(((t,e)=>[e,null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1],t.Axis]));const r=D?Wt:n.concat(pt.map((t=>t[1]))),s=+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...r)]),l="1"==v?+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...r)]):c.visualSettings.globalyaxis.combo?Rt:+Math.min(...r),u=Mt.map((t=>+t.split("|")[1])),h="reverse"==W?1==p?u[p-1]:u[p-1]-u[p-2]:ct/w.length,d="1"==v?+o.jkA([0,+Math.min(...i)]):+Math.min(...i),f="1"==v?+o.T9B([0,+Math.max(...i)]):+Math.max(...i);if(ht=o.m4Y().domain([C?l:d,C?s:f]).range([h-jt,0+jt]),"reverse"==W){At=ot/(w.length+1);const t=ot*(a+1)/(w.length+1),e=ot*(a+2)/(w.length+1);Nt=o.m4Y().domain([0,kt-1]).range([+t+At*rt/100,+ +e-At*rt/100])}return wt=o.n8j().curve(Tt).x(((t,e)=>Nt(e))).y((t=>ht(t[1]))),"0"==y&&wt.defined((function(t){return null!==t[1]})),wt(pt)}))),c.container.selectAll(".firstline"+e).data(w).join("path").attr("class","firstline"+e).classed("firstline",!0).classed("combo_related",!0).attr("tag",e).attr("d",(function(){return o.Ltv(this).attr("d")})).style("stroke","object"==typeof x?x.solid.color:x).style("stroke-width","3"==v?0:P).style("fill","none").style("stroke-dasharray","1"==U?"0, 0":"3, 3").attr("transform",((t,e)=>"reverse"==W?`translate(0,${$t})`:`translate(0,${ct*e/w.length})`)),c.container.selectAll(".firstline"+e).transition().duration(100*+c.visualSettings.margins.transition).attr("d",((t,a)=>{mt=[],pt=[],bt=[];const i=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0])),n=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1]));i.concat(n),mt=t.trendcombo[e].Value.map(((t,e)=>[e,null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0],t.Axis]));const r=D?Wt:i.concat(n),s="1"==v?+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...r)]):c.visualSettings.globalyaxis.combo?Bt:+Math.max(...r),l="1"==v?+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...r)]):c.visualSettings.globalyaxis.combo?Rt:+Math.min(...r),u=Mt.map((t=>+t.split("|")[1])),h="reverse"==W?1==p?u[p-1]:u[p-1]-u[p-2]:ct/w.length,d=+Math.min(...i),f=+Math.max(...i);if(ht=o.m4Y().domain([C?l:d,C?s:f]).range([h-jt,0+jt]),"reverse"==W){At=ot/(w.length+1);const t=ot*(a+1)/(w.length+1),e=ot*(a+2)/(w.length+1);Nt=o.m4Y().domain([0,kt-1]).range([+t+At*rt/100,+ +e-At*rt/100])}return wt=o.n8j().curve(Tt).x(((t,e)=>Nt(e))).y((t=>ht(t[1]))),"0"==y&&wt.defined((function(t){return null!==t[1]})),wt(mt)}))}function Yt(){o.Ubm(".secondline"+e).remove(),c.container.selectAll(".combobars"+e).data(Lt).join("rect").attr("class","combobars"+e).classed("combo_bars",!0).classed("combo_related",!0).attr("tag",e).attr("width",vt.bandwidth()).attr("height",((t,e)=>null==t[2]?0:t[2]>=0?t[12]-t[5]:t[12]-t[13])).attr("x",((t,e)=>vt(t[14])+ +o.Ltv("#vlineviz"+p).attr("x1"))).attr("y",((t,e)=>null==t[2]?t[12]:t[2]>=0?t[5]:t[12])).style("fill",(t=>t[2]>=t[1]?"object"==typeof M?M.solid.color:M:"object"==typeof z?z.solid.color:z)).style("stroke",L?"object"==typeof N?N.solid.color:N:"none").style("stroke-width",.5).attr("transform",(t=>`translate(0,${ct*t[3]/w.length})`)).on("click",pe).lower()}function Ht(){c.container.selectAll(".refarea_combo"+e).data(w).join((t=>t.append("g").attr("class","refarea_combo"+e).classed("refarea_combo",!0).classed("combo_related",!0).attr("tag",e).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).append("clipPath").attr("id",((t,a)=>"clipcombo"+String(a)+"|"+e)).attr("class","clip").append("path").attr("class","clippedpath").attr("tag",e).attr("d",((t,a)=>{const i=t.trendcombo[e].Value.map(((t,e)=>[null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0],null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1]])),n=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1])),r=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0])),s=D?Wt:r.concat(n),l=+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...s)]),u="1"==v?+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...s)]):c.visualSettings.globalyaxis.combo?Rt:+Math.min(...s);return ht=o.m4Y().domain([u,l]).range([ct/w.length-jt,0+jt]),St=o.Wcw().curve(Tt).x(((t,e)=>Nt(e))).y0((t=>ht(t[0]))).y1((t=>ht(t[1]))),"0"==y&&St.defined((function(t){return null!==t[0]&&null!==t[1]})),St(i)}))),(t=>t.attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).select(".clippedpath").classed("zubi",!0).attr("fill","purple").attr("d",((t,a)=>{const i=t.trendcombo[e].Value.map(((t,e)=>[null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0],null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1]])),n=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1])),r=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0])),s=D?Wt:r.concat(n),l=+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...s)]),u="1"==v?+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...s)]):c.visualSettings.globalyaxis.combo?Rt:+Math.min(...s);return ht=o.m4Y().domain([u,l]).range([ct/w.length-jt,0+jt]),St=o.Wcw().curve(Tt).x(((t,e)=>Nt(e))).y0((t=>ht(t[0]))).y1((t=>ht(t[1]))),"0"==y&&St.defined((function(t){return null!==t[0]&&null!==t[1]})),St(i)}))),(t=>t.remove())),c.container.selectAll(".clipabove_combo"+e).data(w).join("path").attr("class","clipabove_combo"+e).classed("clipabove_combo",!0).classed("combo_related",!0).attr("tag",e).attr("d",((t,a)=>{const i=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1])),n=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0])),r=n.concat(i),s=(Math.max(...r),Math.min(...r),Math.max(...i)),l=(Math.min(...i),Math.max(...n)),u=(Math.min(...n),t.trendcombo[e].Value.map(((t,e)=>[Math.max(l,s),null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1]]))),h=D?Wt:n.concat(i),d="1"==v?+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...h)]):c.visualSettings.globalyaxis.combo?Bt:+Math.max(...h),f="1"==v?+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...h)]):c.visualSettings.globalyaxis.combo?Rt:+Math.min(...h),g=o.m4Y().domain([f,d]).range([ct/w.length-jt,0+jt]);return St=o.Wcw().curve(Tt).x(((t,e)=>Nt(e))).y0((t=>g(t[0])-jt)).y1((t=>g(t[1]))),"0"==y&&St.defined((function(t){return null!==t[0]&&null!==t[1]})),St(u)})).style("fill","object"==typeof dt?dt.solid.color:dt).style("fill-opacity",yt/10).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).attr("clip-path",((t,a)=>`url(#clipcombo${a+"|"+e})`)),c.container.selectAll(".clipbelow_combo"+e).data(w).join("path").attr("class","clipbelow_combo"+e).classed("clipbelow_combo",!0).classed("combo_related",!0).attr("tag",e).attr("d",((t,a)=>{const i=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1])),n=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0])),r=n.concat(i),s=(Math.max(...r),Math.min(...r),Math.max(...i),Math.min(...i)),l=(Math.max(...n),Math.min(...n)),u=t.trendcombo[e].Value.map(((t,e)=>[Math.min(l,s),null==t.Value||"0"==t.Value?null:+t.Value.split("|")[1]])),h=D?Wt:n.concat(i),d="1"==v?+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...h)]):c.visualSettings.globalyaxis.combo?Bt:+Math.max(...h),f="1"==v?+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...h)]):c.visualSettings.globalyaxis.combo?Rt:+Math.min(...h),g=o.m4Y().domain([f,d]).range([ct/w.length-jt,0+jt]);return St=o.Wcw().curve(Tt).x(((t,e)=>Nt(e))).y0((t=>g(t[0])+jt)).y1((t=>g(t[1]))),"0"==y&&St.defined((function(t){return null!==t[0]&&null!==t[1]})),St(u)})).style("fill","object"==typeof ft?ft.solid.color:ft).style("fill-opacity",yt/10).attr("transform",((t,e)=>`translate(0,${ct*e/w.length})`)).attr("clip-path",((t,a)=>`url(#clipcombo${a+"|"+e})`))}function qt(){const t=c.container.selectAll(".support_rect_combo"+e).data(w).join("rect").attr("class","support_rect_combo"+e).classed("support_rect_combo",!0).classed("combo_related",!0).attr("tag",e).attr("width",At).attr("height",ct/w.length-2).attr("x",+o.Ltv("#vlineviz"+p).attr("x1")).attr("y",((t,e)=>e*(ct/w.length)+1)).attr("fill","red").attr("fill-opacity",0).on("mouseout",(function(){o.Ubm(".support_rect_tooltip_combo,.tiplines_combo").filter((function(){return+o.Ltv(this).attr("tag")!==e})).remove()})).on("mousemove",(function(a,i){const n=t.nodes().indexOf(this);o.Ubm(".tiplines").remove(),mt=i.trendcombo[e].Value.map(((t,a)=>[a,null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0],t.Axis,t.format,i.selectionId,"minvalue",w[+n].MainCategory,e,v,null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1],H,K,Q,et,i.trendcombo[e].isAxisDate,i.trendcombo[e].axisformat]));const r=mt.length-1;c.container.selectAll(".support_rect_tooltip_combo"+e).data(mt).join("rect").attr("class","support_rect_tooltip_combo"+e).classed("support_rect_tooltip_combo",!0).classed("combo_related",!0).attr("tag",e).attr("width",((t,e)=>0==e?+Nt(.5)-+o.Ltv("#vlineviz"+p).attr("x1")-2:e==r?+o.Ltv("#vlineviz"+(p+1)).attr("x1")-Nt(r-.5)-2:+Nt(+e+.5)-+Nt(+e-.5))).attr("height",((t,e)=>ct/w.length)).attr("x",((t,e)=>0==e?+o.Ltv("#vlineviz"+p).attr("x1")+2:+Nt(+e-.5))).attr("y",((t,e)=>0)).style("fill",(t=>"blue")).style("fill-opacity",(t=>0)).style("stroke","black").style("stroke-width",0).attr("transform",`translate(0,${ct*+n/w.length})`).on("click",pe).on("mousemove",(function(t,a){c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataCombo(t)),(t=>t[4])),c.container.selectAll(".tiplines_combo"+e).data([0]).join("line").attr("class","tiplines_combo"+e).classed("tiplines_combo",!0).classed("combo_related",!0).attr("tag",e).attr("x1",+o.Ltv(this).attr("x")+ +o.Ltv(this).attr("width")/2).attr("x2",+o.Ltv(this).attr("x")+ +o.Ltv(this).attr("width")/2).attr("y1",+o.Ltv(this).attr("y")).attr("y2",+o.Ltv(this).attr("y")+ +o.Ltv(this).attr("height")).attr("transform",o.Ltv(this).attr("transform")).attr("stroke","black").lower()})).on("mouseout",(function(t,e){o.Ubm(".tiplines_combo").remove()}))}))}function Xt(){const t={text:"009kmb",fontFamily:String(R),fontSize:B+"px"},a=r.Tf.measureSvgTextWidth(t);Ft=Math.floor(Vt/a),Ut=r.Tf.measureSvgTextHeight(t),w.forEach(((t,a)=>{const i=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0])),n=t.trendcombo[e].Value.map((t=>null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1])),s=Math.max(...n),l=Math.min(...n),u=Math.max(...i),h=Math.min(...i);mt=t.trendcombo[e].Value.map(((i,n)=>[n,null==i.Value||"0"==i.Value||""==i.Value?null:+i.Value.split("|")[0],i.Axis,i.format,t.selectionId,"minvalue",w[a].MainCategory,e,"lines",null==i.Value||"0"==i.Value||""==i.Value?null:+i.Value.split("|")[1]])),pt=t.trendcombo[e].Value.map(((i,n)=>[n,null==i.Value||"0"==i.Value||""==i.Value?null:+i.Value.split("|")[1],i.Axis,i.format,t.selectionId,"minvalue",w[a].MainCategory,e,"lines",null==i.Value||"0"==i.Value||""==i.Value?null:+i.Value.split("|")[0]]));const d=D?Wt:i.concat(n),f="1"==v?+o.T9B([0,c.visualSettings.globalyaxis.combo?Bt:+Math.max(...d)]):c.visualSettings.globalyaxis.combo?Bt:+Math.max(...d),g="1"==v?+o.jkA([0,c.visualSettings.globalyaxis.combo?Rt:+Math.min(...d)]):c.visualSettings.globalyaxis.combo?Rt:+Math.min(...d),m="1"==v?+o.jkA([0,+Math.min(...n)]):+Math.min(...n),p="1"==v?+o.T9B([0,+Math.max(...n)]):+Math.max(...n);ht=o.m4Y().domain([C?g:m,C?f:p]).range([ct/w.length-jt,0+jt]),gt=o.m4Y().domain([g,f]).range([ct/w.length-jt,0+jt]);const b=[0,3,6,9,12];let y,x,S,_,k;S=o.T9B(mt.map((t=>Math.round(Math.abs(t[1]))))),"auto"==Y?y=o.T9B(b.filter((t=>t<S.toString().split("").length))):"thousands"==Y?y=3:"millions"==Y?y=6:"billions"==Y?y=9:"none"==Y&&(y="0"),_=q,k=H,x=r.G2.create({format:_,value:+("1e"+String(y)),precision:k,allowFormatBeautification:!0}),t.trendcombo[e].Value.forEach(((t,e)=>{Lt.push([e,null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0],null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1],a,+ht(null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0]),+ht(null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1]),x.format(null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[0]),x.format(null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1]),h,u,l,s,+ht(0),+ht(Math.abs(null==t.Value||"0"==t.Value||""==t.Value?null:+t.Value.split("|")[1])),t.Axis])}))}))}function Jt(){Ot=[Lt,Lt.filter((t=>t[1]==t[8]||t[1]==t[9])),Lt.filter((t=>t[1]==t[9])),Lt.filter((t=>t[1]==t[8]))],Dt=Ot[+G];const t=+o.T9B(Dt.filter((t=>null!==t[1])).map((t=>t[6].length))),a={text:"000009wlp000000000".slice(0,t),fontFamily:String(R),fontSize:B+"px"},i=r.Tf.measureSvgTextWidth(a),n=Math.floor(Vt/i),s=r.Tf.measureSvgTextHeight(a);Ct=Math.ceil(+kt/+n),+G>0&&Ct>1&&(Dt=Dt.filter((t=>0!==t[1]&&null!==t[1]))),Ct=Ct<1||+G>0?1:Ct,c.container.selectAll(".linelab_combo"+e).data(Dt.filter(((t,e)=>e%Ct==0))).join("text").attr("class","linelab_combo"+e).classed("linelabels_combo",!0).classed("combo_related",!0).attr("tag",e).attr("id",((t,a)=>"combolinelabel"+e+a)).attr("x",((t,e)=>Nt(t[0]))).attr("y",(t=>{if(Z)return+t[1]<+t[2]?+t[4]+6:+t[4]-6;{const e=+t[4]-9,a=+t[4]+20;return e-s>0?e:a}})).text((t=>null==t[1]?"":t[6])).style("dominant-baseline",(t=>Z&&+t[1]<+t[2]?"hanging":"auto")).attr("text-anchor","middle").attr("font-size",B).style("fill","object"==typeof $?$.solid.color:$).style("font-family",String(R)).attr("transform",(t=>`translate(0,${ct*t[3]/w.length})`))}function Kt(){let t=[Lt,Lt.filter((t=>t[2]==t[10]||t[2]==t[11])),Lt.filter((t=>t[2]==t[11])),Lt.filter((t=>t[2]==t[10]))][+J];const a=+o.T9B(t.filter((t=>null!==t[2])).map((t=>t[7].length))),i={text:"lpy1009wlp000000000".slice(0,a),fontFamily:String(R),fontSize:B+"px"},n=r.Tf.measureSvgTextWidth(i),s=Math.floor(Vt/n),l=r.Tf.measureSvgTextHeight(i);Ct=Math.ceil(+kt/+s),+J>0&&Ct>1&&(t=t.filter((t=>0!==t[2]&&null!==t[2]))),Ct=Ct<1||+J>0?1:Ct,c.container.selectAll(".collab_combo"+e).data(t.filter(((t,e)=>e%Ct==0))).join("text").attr("class","collab_combo"+e).classed("collabels_combo",!0).classed("combo_related",!0).attr("tag",e).attr("x",((t,e)=>Nt(t[0]))).attr("y",(t=>{if(I)return+t[2]<=+t[1]?t[5]+2:t[5]-2;{const e=t[5]-9,a=t[5]+20;return e-l>0?e:a}})).text((t=>null==t[2]?"":t[7])).style("dominant-baseline",(t=>I&&+t[2]<=+t[1]?"hanging":"auto")).attr("text-anchor","middle").attr("font-size",B).style("fill","object"==typeof X?X.solid.color:X).style("font-family",String(R)).attr("transform",(t=>`translate(0,${ct*t[3]/w.length})`))}function Qt(){Ot=[Lt,Lt.filter((t=>t[1]==t[8]||t[1]==t[9])),Lt.filter((t=>t[1]==t[9])),Lt.filter((t=>t[1]==t[8]))];let t=Ot[+it];"0"==y&&(t=t.filter((t=>null!==t[1]))),c.container.selectAll(".combomarkers"+e).data(t).join("circle").attr("class","combomarkers"+e).classed("combo_markers",!0).classed("combo_related",!0).attr("tag",e).attr("cx",((t,e)=>Nt(t[0]))).attr("cy",((t,e)=>t[4])).attr("r",+nt).style("fill",(t=>t[1]==t[9]?"object"==typeof A?A.solid.color:A:t[1]==t[8]?"object"==typeof V?V.solid.color:V:"object"==typeof k?k.solid.color:k)).style("stroke",(t=>t[1]==t[9]?"object"==typeof j?j.solid.color:j:t[1]==t[8]?"object"==typeof T?T.solid.color:T:"object"==typeof _?_.solid.color:_)).style("stroke-width",.5).attr("transform",(t=>`translate(0,${ct*t[3]/w.length})`)),"3"==v&&(c.container.selectAll(".combomarkers_dumb"+e).data(t).join("circle").attr("class","combomarkers_dumb"+e).classed("combo_markers",!0).classed("combo_related",!0).attr("tag",e).attr("cx",((t,e)=>Nt(t[0]))).attr("cy",((t,e)=>t[5])).attr("r",+nt).style("fill",(t=>t[1]==t[9]?"object"==typeof A?A.solid.color:A:t[1]==t[8]?"object"==typeof V?V.solid.color:V:"object"==typeof k?k.solid.color:k)).style("stroke",(t=>t[1]==t[9]?"object"==typeof j?j.solid.color:j:t[1]==t[8]?"object"==typeof T?T.solid.color:T:"object"==typeof _?_.solid.color:_)).style("stroke-width",.5).attr("transform",(t=>`translate(0,${ct*t[3]/w.length})`)),c.container.selectAll(".connector_combo"+e).data(t).join("line").attr("class","connector_combo"+e).classed("combo_markers",!0).classed("combo_related",!0).attr("tag",e).attr("x1",((t,e)=>Nt(t[0]))).attr("x2",((t,e)=>Nt(t[0]))).attr("y1",((t,e)=>t[4])).attr("y2",((t,e)=>t[5])).style("stroke","black").style("stroke-width",.5).attr("transform",(t=>`translate(0,${ct*t[3]/w.length})`)))}Gt(),ut&&"2"==v?Ht():o.Ubm(`.refarea_combo${e},.clipabove_combo${e},.clipbelow_combo${e}`).remove(),(I||Z||lt)&&Xt(),lt?Qt():o.Ubm(".combomarkers"+e).remove(),I?Jt():o.Ubm(".linelab_combo"+e).remove(),Z?Kt():o.Ubm(".collab_combo"+e).remove(),qt();const te=w.map((t=>t.trendcombo[e]))[0].Value.map((t=>t.Axis));c.dateformat="custom"==c.visualSettings.xaxis.dateaxis?n:c.visualSettings.xaxis.dateaxis,c.dateformatter=r.G2.create({format:c.dateformat});const ee=o.tlR(Nt).ticks(te.length-1).tickFormat((function(t,e){const i=te[e];return a?c.dateformatter.format(new Date(i)):String(i)})).tickSizeOuter(0).tickSizeInner(2),ae=te.map((t=>a?c.dateformatter.format(new Date(t)):String(t))),ie=ae.map((t=>String(t).length)),ne=ae[ie.indexOf(o.T9B(ie))],re={text:String(ne),fontFamily:c.visualSettings.xaxis.fontfamily,fontSize:+c.visualSettings.xaxis.fontsize+2+"px"},se=r.Tf.measureSvgTextWidth(re);c.visualSettings.xaxis.showaxis&&(c.container.append("g").attr("class","xaxis").classed("comboaxis"+e,!0).attr("id","Y_combo"+p).call(ee).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10),c.hidelabels(o.Ubm(".comboaxis"+e).selectAll(".tick text"),+At,1.25*+se),c.hidelabels(o.Ubm(".comboaxis"+e).selectAll(".tick line"),+At,1.25*+se))}})),performance.now()}catch(t){console.log(t)}try{performance.now(),0==j.length?o.Ubm(".stackedcol_related").remove():o.Ubm(".stackedcol_related").filter((function(){return+o.Ltv(this).attr("tag")>=j.length})).remove(),j.forEach(((t,e)=>{const a=w.map((t=>t.trendstack[e]))[0].isAxisDate,i=w.map((t=>t.trendstack[e]))[0].isAxisNumeric,n=w.map((t=>t.trendstack[e]))[0].axisformat;a||i||w.forEach(((t,a)=>{0==+c.visualSettings.xaxis.sorting?t.trendstack[e].Value.sort():(t.trendstack[e].Value.sort(),t.trendstack[e].Value.reverse())}));const s=w.map((t=>t.trendstack[e]))[0].type,l=w[0].trendstack[e].Value[0].Value;let u=!1;if("text"==s&&(null==l||isNaN(l.split("|")[0])||isNaN(l.split("|")[1]))&&(u=!0),"text"!==s||u){const h=tt.filter((e=>"stackedcol"==e.name&&e.displayname==t))[0],d=tt.indexOf(h),f=+o.Ltv("#vlineviz"+(d+1)).attr("x1")-+o.Ltv("#vlineviz"+d).attr("x1"),g=(+o.Ltv("#vlineviz"+(d+1)).attr("x1")+ +o.Ltv("#vlineviz"+d).attr("x1"))/2;c.container.append("rect").attr("class","comboerror").attr("width",+o.Ltv("#vlineviz"+(d+1)).attr("x1")-+o.Ltv("#vlineviz"+d).attr("x1")).attr("height",ct).attr("x",+o.Ltv("#vlineviz"+d).attr("x1")).attr("y",0).style("fill","none"),c.container.append("text").attr("class","comboerror").attr("x",g).attr("y",15).style("fill","red").text("Incorrect datatype for stacked column chart! Create a caclulated column or measure with 2 or more values concatenated like 100|50|80. For illustration, see the demo pbix file of this visual").attr("text-anchor","middle").call(be,f,10,String(c.visualSettings.category.fontfamily),20)}if("text"==s&&!u){const m=tt.filter((e=>"stackedcol"==e.name&&e.displayname==t))[0],p=tt.indexOf(m),b=c.metadata.filter((e=>e.displayName==t&&e.roles.hasOwnProperty("stackedcol"))),v=c.getValue(b[0].objects,"stackedcol","fill1",c.visualSettings.stackedcol.fill1),y=c.getValue(b[0].objects,"stackedcol","fill2",c.visualSettings.stackedcol.fill2),x=c.getValue(b[0].objects,"stackedcol","fill3",c.visualSettings.stackedcol.fill3),S=c.getValue(b[0].objects,"stackedcol","fill4",c.visualSettings.stackedcol.fill4),_=c.getValue(b[0].objects,"stackedcol","fontfill1",c.visualSettings.stackedcol.fontfill1),k=c.getValue(b[0].objects,"stackedcol","fontfill2",c.visualSettings.stackedcol.fontfill2),A=c.getValue(b[0].objects,"stackedcol","fontfill3",c.visualSettings.stackedcol.fontfill3),V=c.getValue(b[0].objects,"stackedcol","fontfill4",c.visualSettings.stackedcol.fontfill4),j=c.getValue(b[0].objects,"stackedcol","stacknames",c.visualSettings.stackedcol.stacknames),T=(c.getValue(b[0].objects,"stackedcol","bfill",c.visualSettings.stackedcol.bfill),c.getValue(b[0].objects,"stackedcol","colfill",c.visualSettings.stackedcol.colfill),c.getValue(b[0].objects,"stackedcol","b_fill",c.visualSettings.stackedcol.b_fill),c.getValue(b[0].objects,"stackedcol","showborder",c.visualSettings.stackedcol.showborder),c.getValue(b[0].objects,"stackedcol","commonaxis",c.visualSettings.stackedcol.commonaxis),c.getValue(b[0].objects,"stackedcol","thickness",c.visualSettings.stackedcol.thickness),c.getValue(b[0].objects,"stackedcol","showarea",c.visualSettings.stackedcol.showarea),c.getValue(b[0].objects,"stackedcol","areaopacity",c.visualSettings.stackedcol.areaopacity),c.getValue(b[0].objects,"stackedcol","showlabels",c.visualSettings.stackedcol.showlabels)),M=c.getValue(b[0].objects,"stackedcol","fontfamily",c.visualSettings.stackedcol.fontfamily),z=c.getValue(b[0].objects,"stackedcol","fontsize",c.visualSettings.stackedcol.fontsize),N=(c.getValue(b[0].objects,"stackedcol","labelfill",c.visualSettings.stackedcol.labelfill),c.getValue(b[0].objects,"stackedcol","labels",c.visualSettings.stackedcol.labels),c.getValue(b[0].objects,"stackedcol","displayUnits",c.visualSettings.stackedcol.displayUnits)),L=c.getValue(b[0].objects,"stackedcol","decimal",c.visualSettings.stackedcol.decimal),D=(c.getValue(b[0].objects,"stackedcol","displayUnits_col",c.visualSettings.stackedcol.displayUnits_col),c.getValue(b[0].objects,"stackedcol","decimal_col",c.visualSettings.stackedcol.decimal_col),c.getValue(b[0].objects,"stackedcol","numberstyle",c.visualSettings.stackedcol.numberstyle)),C=(c.getValue(b[0].objects,"stackedcol","customhead",c.visualSettings.stackedcol.customhead),c.getValue(b[0].objects,"stackedcol","linetext",c.visualSettings.stackedcol.linetext),c.getValue(b[0].objects,"stackedcol","headsize",c.visualSettings.stackedcol.headsize)),O=c.getValue(b[0].objects,"stackedcol","paddingh",c.visualSettings.stackedcol.paddingh),U=(c.getValue(b[0].objects,"stackedcol","paddingv",c.visualSettings.stackedcol.paddingv),c.getValue(b[0].objects,"stackedcol","showaxis",c.visualSettings.stackedcol.showaxis),c.getValue(b[0].objects,"stackedcol","axislinecolor",c.visualSettings.stackedcol.axislinecolor)),F=c.getValue(b[0].objects,"stackedcol","axiswidth",c.visualSettings.stackedcol.axiswidth),P=w[0].trendstack[e].Value.length,E=+o.Ltv("#vlineviz"+(p+1)).attr("x1")-+o.Ltv("#vlineviz"+p).attr("x1"),I=(w.length,o.WH().domain(w[0].trendstack[e].Value.map((t=>t.Axis))).range([0,+o.Ltv("#vlineviz"+(p+1)).attr("x1")-+o.Ltv("#vlineviz"+p).attr("x1")]).padding(O/10)),R=I.step()-I.bandwidth(),B=o.m4Y().domain([0,P-1]).range([+o.Ltv("#vlineviz"+p).attr("x1")+I.bandwidth()/2+R,+o.Ltv("#vlineviz"+(p+1)).attr("x1")-I.bandwidth()/2-R]);let W;const $=w.map((t=>t.trendstack[e].Value.map((t=>null==t.Value?null:+t.Value.split("|")[0])))),G=w.map((t=>t.trendstack[e].Value.map((t=>null==t.Value?null:+t.Value.split("|")[1])))),Y=$.concat(G),H=[...new Set([].concat(...Y))];o.jkA(H);let q=1;function Z(){const t=[],i=[];w.forEach(((a,n)=>{const r=a.trendstack[e].Value.filter((t=>null!==t.Value&&""!==t.Value)).map((t=>({Axis:t.Axis,value:t.Value.split("|").map(((t,e)=>[e,"number"==typeof+t&&+t>0?t:0]))}))),s=a.trendstack[e].Value.filter((t=>null!==t.Value&&""!==t.Value)).map((t=>({Axis:t.Axis,value:t.Value.split("|").map(((t,e)=>[e,"number"==typeof+t&&+t<0?t:0]))}))),l=+o.T9B(a.trendstack[e].Value.filter((t=>null!==t.Value&&""!==t.Value)).map((t=>t.Value.split("|").length)));q=Math.max(l,q),c.no_of_stacks[e]=q,tt.filter((t=>"stackedcol"==t.name&&t.index==e))[0].stackdisplayname=j+"|"+("object"==typeof v?v.solid.color:v)+"|"+("object"==typeof y?y.solid.color:y)+"|"+("object"==typeof x?x.solid.color:x)+"|"+C+"|"+q;const u=r.map((t=>{const e={Axis:t.Axis},a=Object.fromEntries(t.value);return Object.assign(Object.assign({},e),a)})),h=s.map((t=>{const e={Axis:t.Axis},a=Object.fromEntries(t.value);return Object.assign(Object.assign({},e),a)}));t.push(u),i.push(h)})),o.y17(q).map((t=>String(t))),c.stackcolors=o.y17(q).map((t=>String(t))),o.Ubm(".stackedcol_related").filter((function(){return+o.Ltv(this).attr("id")>t.length-1})).remove(),t.forEach(((t,s)=>{const l=o.t$z().keys(c.stackcolors),u=l(t),h=l(i[s]),d=(o.UMr(o.t55).domain(c.stackcolors),Math.min(o.jkA(u.flat(3).concat(h.flat(3))),0)),f=Math.max(0,o.T9B(u.flat(3).concat(h.flat(3)))),g=o.m4Y().range([.95*ct/w.length,.05*ct/w.length]).domain([d,f]),m=w.map((t=>t.trendstack[e]))[0].Value.map((t=>t.Axis)),b=o.WH().domain(m).range([+o.Ltv("#vlineviz"+p).attr("x1"),+o.Ltv("#vlineviz"+(p+1)).attr("x1")]).padding(O/10),C={text:"009kmb",fontFamily:String(M),fontSize:z+"px"},I=r.Tf.measureSvgTextHeight(C);let R;c.container.selectAll(".stacks"+e+s).data(u).join("g").attr("class","stacks"+e+s).attr("tag",e).attr("id",s).classed("stacks"+e,!0).classed("stackedcol_related",!0).style("fill",((t,e)=>0==e?"object"==typeof v?v.solid.color:v:1==e?"object"==typeof y?y.solid.color:y:2==e?"object"==typeof x?x.solid.color:x:3==e?"object"==typeof S?S.solid.color:S:void 0)).style("fill-opacity",1).each((function(t,e){o.Ltv(this).selectAll("rect").data(t).join("rect").attr("height",(function(){return o.Ltv(this).attr("height")})).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("y",(function(){return o.Ltv(this).attr("y")})).attr("x",(function(){return o.Ltv(this).attr("x")})).attr("transform",`translate(0,${ct*s/w.length})`).attr("stroke","none").style("fill-opacity",1).on("mousemove",(function(t,i){o.Ltv(this).attr("stroke","black");const r=i.data.Axis,s=j.split("*")[e];c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataStack(t,r,s,L,D,a,n)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).attr("stroke","none")})),o.Ltv(this).selectAll("rect").transition().duration(100*+c.visualSettings.margins.transition).attr("height",(t=>{const e=isNaN(t[0])?0:t[0],a=isNaN(t[1])?0:t[1],i=g(e)-g(a);return Math.abs(i)})).attr("width",b.bandwidth()).attr("y",(t=>isNaN(t[1])?0:g(t[1]))).attr("x",((t,e)=>b(String(t.data.Axis))))})),c.container.selectAll(".negstacks"+e+s).data(h).join("g").attr("class","negstacks"+e+s).classed("negstacks"+e,!0).classed("stackedcol_related",!0).attr("tag",e).attr("id",s).style("fill",((t,e)=>0==e?"object"==typeof v?v.solid.color:v:1==e?"object"==typeof y?y.solid.color:y:2==e?"object"==typeof x?x.solid.color:x:3==e?"object"==typeof S?S.solid.color:S:void 0)).style("fill-opacity",1).each((function(t,e){o.Ltv(this).selectAll("rect").data(t).join("rect").attr("height",(function(){return o.Ltv(this).attr("height")})).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("y",(function(){return o.Ltv(this).attr("y")})).attr("x",(function(){return o.Ltv(this).attr("x")})).attr("transform",`translate(0,${ct*s/w.length})`).attr("stroke","none").on("mousemove",(function(t,i){o.Ltv(this).attr("stroke","black");const r=i.data.Axis,s=j.split("*")[e];c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataStack(t,r,s,L,D,a,n)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).attr("stroke","none")})),o.Ltv(this).selectAll("rect").transition().duration(100*+c.visualSettings.margins.transition).attr("height",(t=>{const e=isNaN(t[0])?0:t[0],a=isNaN(t[1])?0:t[1],i=g(e)-g(a);return Math.abs(i)})).attr("width",b.bandwidth()).attr("y",(t=>isNaN(t[0])?0:g(t[0]))).attr("x",((t,e)=>b(String(t.data.Axis))))}));const B=Math.max(0,o.T9B(u.flat(3).concat(h.flat(3))));"auto"==N?R=o.T9B([0,3,6,9,12].filter((t=>t<B.toString().split("").length))):"thousands"==N?R=3:"millions"==N?R=6:"billions"==N?R=9:"none"==N&&(R=0);const $=D,G=L,Y=r.G2.create({format:$,value:+("1e"+String(R)),precision:G,allowFormatBeautification:!0});if(T){const t=Math.max(String(Y.format(f)).length,String(Y.format(d)).length),a={text:"009kmbP89105".slice(0,t),fontFamily:String(M),fontSize:z+"px"},i=r.Tf.measureSvgTextWidth(a),n=Math.floor((E-b.bandwidth())/i);W=Math.ceil(+P/+n),W=W<1?1:W,c.container.selectAll(".stacks_text"+e+s).data(u).join("g").attr("class","stacks_text"+e+s).classed("stacks_text"+e,!0).classed("stackedcol_related",!0).attr("tag",e).attr("id",s).style("fill",((t,e)=>0==e?"object"==typeof _?_.solid.color:_:1==e?"object"==typeof k?k.solid.color:k:2==e?"object"==typeof A?A.solid.color:A:3==e?"object"==typeof V?V.solid.color:V:void 0)).style("fill-opacity",1).each((function(t,e){o.Ltv(this).selectAll("text").data(t.filter(((t,e)=>e%W==0))).join("text").attr("y",(function(){return o.Ltv(this).attr("y")})).attr("x",(function(){return o.Ltv(this).attr("x")})).attr("transform",`translate(0,${ct*s/w.length})`).attr("stroke","none").text((t=>Math.abs(g(t[0])-g(t[1]))>I?Y.format(t[1]-t[0]):"")).style("dominant-baseline","middle").attr("text-anchor","middle").attr("font-size",z).attr("font-family",String(M)),o.Ltv(this).selectAll("text").transition().duration(100*+c.visualSettings.margins.transition).attr("y",(t=>o.i2o([g(t[1]),g(t[0])]))).attr("x",((t,e)=>b(String(t.data.Axis))+b.bandwidth()/2))})),c.container.selectAll(".negstacks_text"+e+s).data(h).join("g").attr("class","negstacks_text"+e+s).classed("negstacks_text"+e,!0).classed("stackedcol_related",!0).attr("tag",e).attr("id",s).style("fill",((t,e)=>0==e?"object"==typeof _?_.solid.color:_:1==e?"object"==typeof k?k.solid.color:k:2==e?"object"==typeof A?A.solid.color:A:3==e?"object"==typeof V?V.solid.color:V:void 0)).style("fill-opacity",1).each((function(t,e){o.Ltv(this).selectAll("text").data(t.filter(((t,e)=>e%W==0))).join("text").attr("y",(function(){return o.Ltv(this).attr("y")})).attr("x",(function(){return o.Ltv(this).attr("x")})).attr("transform",`translate(0,${ct*s/w.length})`).attr("stroke","none").text((t=>Math.abs(g(t[0])-g(t[1]))>I?Y.format(t[1]-t[0]):"")).style("dominant-baseline","middle").attr("text-anchor","middle").attr("font-size",z).attr("font-family",String(M)),o.Ltv(this).selectAll("text").transition().duration(100*+c.visualSettings.margins.transition).attr("y",(t=>o.i2o([g(t[1]),g(t[0])]))).attr("x",((t,e)=>b(String(t.data.Axis))+b.bandwidth()/2))}))}else o.Ubm(".stacks_text"+e).remove(),o.Ubm(".negstacks_text"+e).remove();c.container.selectAll(".zerobase_stacks"+e+s).data(h).join("line").attr("class","zerobase_stacks"+e+s).classed("zerobase_stacks"+e,!0).classed("stackedcol_related",!0).attr("tag",e).attr("id",s).attr("x1",+o.Ltv("#vlineviz"+p).attr("x1")).attr("x2",+o.Ltv("#vlineviz"+(p+1)).attr("x1")).attr("y1",g(0)).attr("y2",g(0)).style("stroke","object"==typeof U?U.solid.color:U).style("stroke-width",.5*F).attr("transform",`translate(0,${ct*s/w.length})`)}))}Z();const X=w.map((t=>t.trendstack[e]))[0].Value.map((t=>t.Axis));c.dateformat="custom"==c.visualSettings.xaxis.dateaxis?n:c.visualSettings.xaxis.dateaxis,c.dateformatter=r.G2.create({format:c.dateformat});const J=o.tlR(B).ticks(X.length-1).tickFormat((function(t,e){const i=X[e];return new Date(i).toDateString().split(" "),a?c.dateformatter.format(new Date(i)):String(i)})).tickSizeOuter(0).tickSizeInner(2),K=X.map((t=>a?c.dateformatter.format(new Date(t)):String(t))),Q=K.map((t=>String(t).length)),et=K[Q.indexOf(o.T9B(Q))],at={text:String(et),fontFamily:c.visualSettings.xaxis.fontfamily,fontSize:+c.visualSettings.xaxis.fontsize+2+"px"},it=r.Tf.measureSvgTextWidth(at);c.visualSettings.xaxis.showaxis&&(c.container.append("g").attr("class","xaxis").classed("trendstackaxis"+e,!0).attr("id","Y_combo"+p).call(J).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10),c.hidelabels(o.Ubm(".trendstackaxis"+e).selectAll(".tick text"),+E,1.25*+it),c.hidelabels(o.Ubm(".trendstackaxis"+e).selectAll(".tick line"),+E,1.25*+it))}})),performance.now()}catch(t){console.log(t)}try{performance.now(),0==A.length?o.Ubm(".my_sparkbars,.sparkbarlabels").remove():o.Ubm(".sparkbar_related").filter((function(){return+o.Ltv(this).attr("tag")>=A.length})).remove(),A.forEach(((e,a)=>{const i=w.map((t=>t.trendbar[a]))[0].isAxisDate,n=w.map((t=>t.trendbar[a]))[0].isAxisNumeric,s=w.map((t=>t.trendbar[a]))[0].axisformat;if(i||n||w.forEach(((t,e)=>{0==+c.visualSettings.xaxis.sorting?t.trendbar[a].Value.sort():(t.trendbar[a].Value.sort(),t.trendbar[a].Value.reverse())})),"number"==w.map((t=>t.trendbar[a]))[0].type){const l=tt.filter((t=>"sparkbar"==t.name&&t.displayname==e))[0],h=tt.indexOf(l),f=c.metadata.filter((t=>t.displayName==e&&t.roles.hasOwnProperty("sparkbar"))),g=(c.getValue(f[0].objects,"lines","fill",c.visualSettings.lines.fill),c.getValue(f[0].objects,"sparkbars","commonaxis",c.visualSettings.sparkbars.commonaxis)),m=c.getValue(f[0].objects,"sparkbars","roundedbars",c.visualSettings.sparkbars.roundedbars),p=c.getValue(f[0].objects,"sparkbars","pfill",c.visualSettings.sparkbars.pfill),b=c.getValue(f[0].objects,"sparkbars","nfill",c.visualSettings.sparkbars.nfill),v=c.getValue(f[0].objects,"sparkbars","bfill",c.visualSettings.sparkbars.bfill),y=c.getValue(f[0].objects,"sparkbars","showborder",c.visualSettings.sparkbars.showborder),x=c.getValue(f[0].objects,"sparkbars","showlabels",c.visualSettings.sparkbars.showlabels),S=c.getValue(f[0].objects,"sparkbars","labels",c.visualSettings.sparkbars.labels),_=c.getValue(f[0].objects,"sparkbars","paddingi",c.visualSettings.sparkbars.paddingi),k=c.getValue(f[0].objects,"sparkbars","paddingo",c.visualSettings.sparkbars.paddingo),A=c.getValue(f[0].objects,"sparkbars","fontfamily",c.visualSettings.sparkbars.fontfamily),V=c.getValue(f[0].objects,"sparkbars","fontsize",c.visualSettings.sparkbars.fontsize),j=c.getValue(f[0].objects,"sparkbars","fontcolor",c.visualSettings.sparkbars.fontcolor),T=c.getValue(f[0].objects,"sparkbars","axislinecolor",c.visualSettings.sparkbars.axislinecolor),M=c.getValue(f[0].objects,"sparkbars","axiswidth",c.visualSettings.sparkbars.axiswidth),z=c.getValue(f[0].objects,"sparkbars","showrefline",c.visualSettings.sparkbars.showrefline),N=c.getValue(f[0].objects,"sparkbars","refline",c.visualSettings.sparkbars.refline),L=c.getValue(f[0].objects,"sparkbars","displayUnits",c.visualSettings.sparkbars.displayUnits),D=c.getValue(f[0].objects,"sparkbars","decimal",c.visualSettings.sparkbars.decimal),C=c.getValue(f[0].objects,"sparkbars","reflinecolor",c.visualSettings.sparkbars.reflinecolor),O=w[0].trendbar[a].Value.length,U=+o.Ltv("#vlineviz"+(h+1)).attr("x1")-+o.Ltv("#vlineviz"+h).attr("x1");Zt.push({start:+o.Ltv("#vlineviz"+h).attr("x1"),width:U,nooflbl:O-1,type:"column",paddingi:_,paddingo:k});const F=w.map((t=>t.trendbar[a]))[0].Value.map((t=>t.Axis)),P=w.map((t=>t.trendbar[a].Value.map((t=>t.Value)))),E=[...new Set([].concat(...P))],I=(o.jkA(E),c.getValue(f[0].objects,"sparkbars","cond_p_var",c.visualSettings.sparkbars.cond_p_var),c.getValue(f[0].objects,"sparkbars","cond_n_var",c.visualSettings.sparkbars.cond_n_var),c.getValue(f[0].objects,"sparkbars","fontsize_var",c.visualSettings.sparkbars.fontsize_var)),R=c.getValue(f[0].objects,"sparkbars","showvarfromref",c.visualSettings.sparkbars.showvarfromref),B=Mt.map((t=>+t.split("|")[1])),$=1==h?0:B[h-2],G="reverse"==W?1==h?B[h-1]:B[h-1]-B[h-2]:ct/w.length,Y="reverse"==W?ot/(w.length+1):+o.Ltv("#vlineviz"+(h+1)).attr("x1")-+o.Ltv("#vlineviz"+h).attr("x1");vt=o.WH().domain(F).range([0,Y]).paddingInner(_/100).paddingOuter(k/100),yt=o.WH().domain(F).range([+o.Ltv("#vlineviz"+h).attr("x1"),+o.Ltv("#vlineviz"+(h+1)).attr("x1")]).paddingInner(_/100).paddingOuter(k/100);const H=vt.step()-vt.bandwidth(),q={text:"1191K%",fontFamily:String(A),fontSize:I+"px"},Z=r.Tf.measureSvgTextWidth(q);function X(){const n=[];let l;w.forEach(((t,e)=>{mt=[];const i=[],s=t.trendbar[a].Value.map((t=>t.Value)),l=o.i2o(s),u=s[0],d=s[s.length-1],f=o.T9B(s),m=o.jkA(s);let p=[0,l,u,d][+N];p=null==p?Number.MIN_SAFE_INTEGER:p;const b=g?E:s,v=+o.T9B([0,c.visualSettings.globalyaxis.col?It:+Math.max(...b)]),y=+o.jkA([0,c.visualSettings.globalyaxis.col?Et:+Math.min(...b)]),S={text:"0123456789",fontFamily:String(A),fontSize:V+"px"},_=r.Tf.measureSvgTextHeight(S);let k,j,O,U,F;gt=o.m4Y().domain([y,v]).range([.95*G,x?+_+2:.05*G]),wt=o.n8j().curve(o.lUB).x(((t,e)=>ut(e))).y((t=>gt(t[1]))),O=o.T9B(s.map((t=>Math.round(Math.abs(t))))),"auto"==L?k=o.T9B([0,3,6,9,12].filter((t=>t<O.toString().split("").length))):"thousands"==L?k=3:"millions"==L?k=6:"billions"==L?k=9:"none"==L&&(k="0"),U=null==t.trendbar[a].format?"":t.trendbar[a].format,""==U&&(U="0"),F=D,j=r.G2.create({format:U,value:+("1e"+String(k)),precision:F,allowFormatBeautification:!0}),t.trendbar[a].Value.forEach(((r,s)=>{n.push([s,r.Value,r.Axis,t.trendbar[a].format,w[e].selectionId,"NA",w[e].MainCategory,a,"column",p,z,N,e,+gt(0),+gt(r.Value),+gt(Math.abs(r.Value)),j.format(r.Value),m,f,D,t.trendbar[a].isAxisDate,t.trendbar[a].axisformat]),i.push([s,p])})),z&&c.container.append("path").attr("class","line").classed("sparkbar_related",!0).attr("tag",a).attr("id","bar_refname"+e).attr("d",wt(i)).style("stroke","object"==typeof C?C.solid.color:C).style("stroke-width",1).style("fill","black").attr("transform",`translate(0,${ct*e/w.length})`).style("stroke-dasharray","5,3"),c.container.append("line").attr("class","line").classed("sparkbar_related",!0).attr("tag",a).attr("x1",((t,e)=>+o.Ltv("#vlineviz"+h).attr("x1"))).attr("x2",((t,e)=>+o.Ltv("#vlineviz"+(h+1)).attr("x1"))).attr("y1",((t,e)=>gt(0))).attr("y2",((t,e)=>gt(0))).style("stroke","object"==typeof T?T.solid.color:T).style("stroke-width",M).attr("transform",`translate(0,${ct*e/w.length})`)}));const f=o.T9B(n.map((t=>t[0]))),P=(n.filter((t=>0==t[0])),n.filter((t=>t[0]==f)),c.container.selectAll(".baby"+a).data(n).join("rect").attr("class","baby"+a).classed("my_sparkbars",!0).classed("sparkbar_related",!0).attr("tag",a).attr("width",vt.bandwidth()).attr("height",((t,e)=>0==t[1]||null==t[1]?0:t[1]>=0?+t[13]-t[14]:+t[13]-t[15])).attr("x",((t,e)=>vt(t[2])+ +o.Ltv("#vlineviz"+("reverse"==W?t[12]+1:h)).attr("x1"))).attr("y",((t,e)=>0==t[1]||null==t[1]?t[13]:t[1]>=0?t[14]:t[13])).attr("rx",m?3:0).attr("ry",m?3:0).style("fill",(t=>t[1]>0?"object"==typeof p?p.solid.color:p:"object"==typeof b?b.solid.color:b)).style("stroke",y?"object"==typeof v?v.solid.color:v:"none").style("stroke-width",.5).attr("transform",(t=>`translate(${"reverse"==W?(t[12]+1)*ot/(w.length+1):0},${"reverse"==W?$:ct*t[12]/w.length})`)).on("mousemove",(function(t,e){o.Ltv(this).style("stroke-width",1),o.Ltv(this).style("stroke","object"==typeof v?v.solid.color:v),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataColumns(t)),(t=>t[4]))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",.5),o.Ltv(this).style("stroke",y?"object"==typeof v?v.solid.color:v:"none")})).on("click",pe).on("dblclick",(function(l,f){P.nodes().indexOf(this);const g=u,m=d;c.svg.attr("height",g),c.svg.append("rect").classed("zoomsparklines",!0).attr("x",0).attr("y",0).attr("width",d).attr("height",u).style("fill",(t=>"white")).style("fill-opacity",(t=>1)),c.svg.append("text").text(String(f[6])+"  -  "+e).style("fill","black").classed("zoomsparklines",!0).attr("x",m/2).attr("y",5).style("dominant-baseline","hanging").attr("text-anchor","middle").attr("font-size",20),c.svg.append("rect").classed("zoomsparklines",!0).attr("x",0).attr("y",0).attr("rx",5).attr("ry",5).attr("width",50).attr("height",25).style("fill",(t=>"silver")).style("fill-opacity",(t=>1)).on("click",(function(){c.svg.attr("height",lt),c.svg.attr("width",st),o.Ubm(".zoomsparklines").remove(),Math.floor(g+ee+0)>Math.floor(t.viewport.height)?c.bgcolor.style.overflowY="auto":c.bgcolor.style.overflowY="",Math.floor(m+0+0)>Math.floor(t.viewport.width)?c.bgcolor.style.overflowX="auto":c.bgcolor.style.overflowX=""})),c.svg.append("text").classed("zoomsparklines",!0).attr("x",10).attr("y",14.5).text("EXIT").style("fill",(t=>"black")).style("fill-opacity",(t=>1)).style("dominant-baseline","Middle").attr("text-anchor","Start").on("click",(function(){c.svg.attr("height",lt),c.svg.attr("width",st),o.Ubm(".zoomsparklines").remove(),Math.floor(g+ee+0)>Math.floor(t.viewport.height)?c.bgcolor.style.overflowY="auto":c.bgcolor.style.overflowY="",Math.floor(m+0+0)>Math.floor(t.viewport.width)?c.bgcolor.style.overflowX="auto":c.bgcolor.style.overflowX=""})),o.s_O(),c.bgcolor.style.overflow="";const b=n.filter((t=>t[12]==f[12])),x=w.map((t=>t.trendbar[a].Value.map(((e,i)=>[i,e.Value,e.Axis,t.trendbar[a].format,t.selectionId,"minvalue",t.MainCategory,a,"lines","myrefvalue",z,N,D,t.trendbar[a].isAxisDate,t.trendbar[a].axisformat])))),S=(o.m4Y().domain([0,O-1]).range([0,.9*m]),o.WH().domain(F).range([0,m]).paddingInner(_/100).paddingOuter(k/100)),V=[];let j,T=0;x.forEach(((t,e)=>{const a={text:t[0][6],fontFamily:String(A),fontSize:"15px"};j=r.Tf.measureSvgTextHeight(a);const i=r.Tf.measureSvgTextWidth(a);T=T+i+(e>0?25:0),V.push({name:t[0][6],width:i,cumwidth:T-i,line_number:Math.max(1,Math.ceil((T-i)/m))})}));const M=o.T9B(V.map((t=>t.line_number))),L=[];let C=o.jkA([0,+o.jkA(b.map((t=>t[1])))])<0?15:0,U=o.m4Y().domain([o.jkA([0,+o.jkA(b.map((t=>t[1])))]),o.T9B([0,+o.T9B(b.map((t=>t[1])))])]).range([.95*g-C,0+.05*g+22*M+50]);const E=o.n8j().curve(o.lUB).x(((t,e)=>S(String(e)))).y((t=>U(t[1])));E.defined((function(t){return null!==t[1]})),R(),o.y17(1,o.T9B(V.map((t=>t.line_number)))+1).forEach(((t,e)=>{L.push(o.jkA(V.filter((e=>e.line_number==t)).map((t=>t.cumwidth))))}));const I=c.svg.selectAll("mycheckboxes").data(V).join("rect").attr("id",((t,e)=>"id"+e)).classed("checkboxes",!0).attr("tag",((t,e)=>String(t.name).replace(" ",""))).classed("zoomsparklines",!0).style("stroke","silver").attr("x",((t,e)=>+t.cumwidth-L[t.line_number-1])).attr("y",(t=>10+22*t.line_number)).attr("width",20).attr("height",20).style("fill",(t=>t.name==f[6]?"object"==typeof p?p.solid.color:p:"white")).on("click",(function(t,e){const a=I.nodes().indexOf(this);e.name!==f[6]&&(c.selectedlinepos=a,"white"==o.Ltv(this).style("fill")?(o.Ubm(".checkboxes").each((function(t,e){t.name!==f[6]&&o.Ltv(this).style("fill","white")})),o.Ltv(this).style("fill","silver")):o.Ltv(this).style("fill","white"),function(t,e){const a=o.Ltv("#id"+e).style("fill");c.selectedline=n.filter((t=>t[12]==e)).map((t=>[t[2],t[1]])),c.selectedline.forEach(((t,e)=>{}));const i="silver"==a?b.map((t=>t[1])).concat(c.selectedline.map((t=>t[1]))):b.map((t=>t[1])),s="silver"==a?b.map((t=>t[1])).concat(c.selectedline.map((t=>t[1]))):b.map((t=>t[1]));C=o.jkA([0,+o.jkA(i)])<0?15:0,U=o.m4Y().domain([o.jkA([0,+o.jkA(i)]),o.T9B([0,+o.T9B(s)])]).range([.95*g-C,0+.05*g+22*M+50]),o.m4Y().domain([+o.jkA(i),+o.T9B(s)]).range([g,0]);const l=o.Wcw().curve(o.lUB).x(((t,e)=>S(String(t[0])))).y((t=>U(t[1])));l.defined((function(t){return null!==t[1]})),o.Ubm(".otherline,.otherlinelabels").remove();try{c.svg.append("path").classed("zoomsparklines",!0).classed("otherline",!0).attr("d",((t,e)=>l(c.selectedline))).style("stroke","black").style("fill","red").style("fill-opacity",0).style("stroke-width",2).attr("transform",`translate(${S.bandwidth()/2},0)`),c.svg.selectAll(".otherlinelabels").data(c.selectedline).join("text").text((t=>{const e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t[1])).length)));let a=null==f[3]?"":f[3];""==a&&(a="0");const i=+D;return r.G2.create({format:a,value:+("1e"+String(e)),precision:i,allowFormatBeautification:!0}).format(t[1])})).attr("id",((t,e)=>"mainlinelabel"+e)).classed("otherlinelabels",!0).classed("zoomsparklines",!0).style("fill","black").attr("font-size",15).style("font-family","Cambria").attr("x",((t,e)=>S(String(t[0]))+ +S.bandwidth()/2)).attr("y",((t,e)=>{const a=+t[1]>+b[e][1];return null==t[1]?U(0):U(t[1])+(a?-5:5)})).style("dominant-baseline",((t,e)=>+t[1]>+b[e][1]?"auto":"hanging")).attr("text-anchor","middle")}catch(e){console.log(e)}c.hidelabels(o.Ubm(".otherlinelabels"),m,40),o.Ubm(".mainline,.mainlinelabels").remove(),R(),"white"==a&&(o.Ubm(".otherlinelabels,.otherline").remove(),c.selectedline=[])}(0,a))}));function R(){const t=c.svg.selectAll("temp_rectangles").data(b).join("rect").classed("zoomsparklines",!0).classed("mainline",!0).attr("width",S.bandwidth()).attr("height",((t,e)=>null==t[1]?0:t[1]>=0?Math.max(0,+U(0)-U(t[1])):Math.max(0,+U(0)-+U(Math.abs(t[1]))))).attr("x",((t,e)=>S(t[2]))).attr("y",((t,e)=>null==t[1]?U(0):t[1]>=0?U(t[1]):+U(0))).style("fill","object"==typeof p?p.solid.color:p).style("fill-opacity",.5).style("stroke",y?"object"==typeof v?v.solid.color:v:"none").style("stroke-width",.5).on("mousemove",(function(e,a){const i=t.nodes().indexOf(this);o.Ltv(this).style("stroke-width",1),o.Ltv(this).style("stroke","object"==typeof v?v.solid.color:v);const n=[],r=(o.Ubm(".checkboxes").each((function(){n.push(o.Ltv(this).style("fill"))})),n.indexOf("silver"));c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataCol_temp(t,i,r,V)),(t=>null))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",.5),o.Ltv(this).style("stroke",y?"object"==typeof v?v.solid.color:v:"none")}));c.svg.selectAll(".mainlinelabels").data(b).join("text").text((t=>{const e=o.T9B([0,3,6,9,12].filter((e=>e<String(Math.round(t[1])).length)));let a=null==f[3]?"":f[3];""==a&&(a="0");const i=+D;return r.G2.create({format:a,value:+("1e"+String(e)),precision:i,allowFormatBeautification:!0}).format(+t[1])})).attr("id",((t,e)=>"mainlinelabel"+e)).classed("mainlinelabels",!0).classed("zoomsparklines",!0).style("fill","black").attr("font-size",15).style("font-family","Cambria").attr("x",((t,e)=>S(t[2])+ +S.bandwidth()/2)).attr("y",(t=>t[1]>0?U(t[1])-5:U(0)-5)).style("dominant-baseline","start").attr("text-anchor","middle"),c.hidelabels(o.Ubm(".mainlinelabels"),m,40),o.Ubm(".temp_zerobase").remove(),c.svg.append("line").classed("zoomsparklines",!0).classed("temp_zerobase",!0).attr("x1",((t,e)=>0)).attr("x2",((t,e)=>m)).attr("y1",((t,e)=>U(0))).attr("y2",((t,e)=>U(0))).style("stroke","black").style("fill","none").style("stroke-width",1).attr("transform","translate(0,0)")}c.svg.selectAll("mycheckboxes_text").data(V).join("text").attr("x",((t,e)=>+t.cumwidth-L[t.line_number-1]+20+2)).attr("y",(t=>20+22*t.line_number)).text((t=>t.name)).attr("font-size",13).classed("zoomsparklines",!0).style("dominant-baseline","middle").attr("text-anchor","start").style("fill","black");const B=w.map((t=>t.trendbar[a]))[0].Value.map((t=>t.Axis));c.dateformat="custom"==c.visualSettings.xaxis.dateaxis?s:c.visualSettings.xaxis.dateaxis,c.dateformatter=r.G2.create({format:c.dateformat}),o.m4Y().domain([0,O-1]).range([0,.19*m]);const W=o.l78(S).ticks(B.length-1).tickFormat((function(t,e){const a=B[+e];return i?c.dateformatter.format(new Date(a)):String(a)})).tickSizeOuter(7).tickSizeInner(7),$=B.map((t=>i?c.dateformatter.format(new Date(t)):String(t))),G=$.map((t=>String(t).length)),Y=$[G.indexOf(o.T9B(G))],H={text:String(Y),fontFamily:c.visualSettings.xaxis.fontfamily,fontSize:+c.visualSettings.xaxis.fontsize+2+"px"},q=r.Tf.measureSvgTextWidth(H);c.svg.append("g").attr("class","xaxis_temp").classed("zoomsparklines",!0).attr("id","Y"+h).call(W).attr("transform",`translate(0,${g-30})`).selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis_temp").selectAll(".domain,.tick line").style("stroke","black").style("stroke-width",c.visualSettings.xaxis.axiswidth/10),c.hidelabels(o.Ubm(".xaxis_temp").selectAll(".tick text"),m,1.25*q),c.hidelabels(o.Ubm(".xaxis_temp").selectAll(".tick line"),m,1.25*q)})));if(x){l=1==+S?n.filter((t=>t[1]==t[17]||t[1]==t[18])):2==+S?n.filter((t=>t[1]==t[18])):3==+S?n.filter((t=>t[1]==t[17])):n;const t=+o.T9B(l.filter((t=>null!==t[1])).map((t=>t[16].length))),e={text:"000009wlp000000000".slice(0,t),fontFamily:String(A),fontSize:V+"px"},i=r.Tf.measureSvgTextWidth(e),s=Math.floor(U/i);let u=Math.ceil(+O/+s);+S>0&&u>1&&(l=l.filter((t=>0!==t[1]&&null!==t[1]))),u=u<1||+S>0?1:u,c.container.selectAll(".sparkbarstext"+a).data(l.filter(((t,e)=>e%u==0))).join("text").attr("class","sparkbarstext"+a).classed("sparkbarlabels",!0).classed("sparkbarlabels"+a+"z",!0).classed("sparkbar_related",!0).attr("tag",a).attr("x",((t,e)=>vt(t[2])+ +o.Ltv("#vlineviz"+h).attr("x1")+vt.bandwidth()/2)).attr("y",((t,e)=>t[1]>=0?t[14]-2:t[13]-2)).text((t=>null==t[1]?0:t[16])).style("fill",(t=>"object"==typeof j?j.solid.color:j)).attr("transform",(t=>`translate(0,${ct*t[12]/w.length})`)).attr("dominant-baseline","auto").attr("text-anchor","middle").attr("font-size",+V).style("font-family",String(A))}else o.Ubm(".sparkbarstext"+a).remove()}U>100&&z&&R&&(Math.max(vt.bandwidth()+2*H,Z+4),vt.bandwidth()),ut=o.m4Y().domain([0,O-1]).range([+o.Ltv("#vlineviz"+h).attr("x1")+vt.bandwidth()/2+H,+o.Ltv("#vlineviz"+(h+1)).attr("x1")-vt.bandwidth()/2-H]),X(),c.dateformat="custom"==c.visualSettings.xaxis.dateaxis?s:c.visualSettings.xaxis.dateaxis,c.dateformatter=r.G2.create({format:c.dateformat});const J=o.tlR(yt).ticks(F.length-1).tickFormat((function(t,e){const a=F[e];return new Date(a).toDateString().split(" "),i?c.dateformatter.format(new Date(a)):String(a)})).tickSizeOuter(0).tickSizeInner(2),K=F.map((t=>i?c.dateformatter.format(new Date(t)):String(t))),Q=K.map((t=>String(t).length)),et=K[Q.indexOf(o.T9B(Q))],at={text:String(et),fontFamily:c.visualSettings.xaxis.fontfamily,fontSize:+c.visualSettings.xaxis.fontsize+2+"px"},it=r.Tf.measureSvgTextWidth(at);c.visualSettings.xaxis.showaxis&&(c.container.append("g").attr("class","xaxis").attr("id","Y_combo"+h).classed("sparkbaraxis"+a,!0).call(J).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10),c.hidelabels(o.Ubm(".sparkbaraxis"+a).selectAll(".tick text"),+U,1.25*+it),c.hidelabels(o.Ubm(".sparkbaraxis"+a).selectAll(".tick line"),+U,1.25*+it))}})),performance.now()}catch(t){console.log(t)}try{performance.now(),0==T.length?o.Ubm(".bullet_related").remove():o.Ubm(".bullet_related").filter((function(){return+o.Ltv(this).attr("tag")>=T.length})).remove(),T.forEach(((t,e)=>{const a=tt.filter((e=>"bar"==e.name&&e.displayname==t))[0],i=tt.indexOf(a),n=w.map((t=>t.bar[e]))[0].type,s=w[0].bar[e].Value[0].Value;let l=!1;if("text"==n&&(null==s||isNaN(s.split("|")[0])||isNaN(s.split("|")[1]))&&(l=!0),!l){const u=t,h=c.metadata.filter((t=>t.displayName==u&&t.roles.hasOwnProperty("bar"))),d=c.getValue(h[0].objects,"bullets","fill",c.visualSettings.bullets.fill),f=c.getValue(h[0].objects,"bullets","sfill",c.visualSettings.bullets.sfill),m=c.getValue(h[0].objects,"bullets","calculation",c.visualSettings.bullets.calculation),p=c.getValue(h[0].objects,"bullets","shape",c.visualSettings.bullets.shape),b=c.getValue(h[0].objects,"bullets","roundedbars",c.visualSettings.bullets.roundedbars),v=c.getValue(h[0].objects,"bullets","parentaggregation",c.visualSettings.bullets.parentaggregation),y=c.getValue(h[0].objects,"bullets","direction",c.visualSettings.bullets.direction),x=c.getValue(h[0].objects,"bullets","bfill",c.visualSettings.bullets.bfill),S=c.getValue(h[0].objects,"bullets","mfill",c.visualSettings.bullets.mfill),_=c.getValue(h[0].objects,"bullets","mfill_doublebar",c.visualSettings.bullets.mfill_doublebar),k=c.getValue(h[0].objects,"bullets","shadow_",c.visualSettings.bullets.shadow_),A=c.getValue(h[0].objects,"bullets","zerobasecolor",c.visualSettings.bullets.zerobasecolor),V=c.getValue(h[0].objects,"bullets","width",c.visualSettings.bullets.width),j=c.getValue(h[0].objects,"bullets","doublebarwidth",c.visualSettings.bullets.doublebarwidth),T=c.getValue(h[0].objects,"bullets","twidth",c.visualSettings.bullets.twidth),M=c.getValue(h[0].objects,"bullets","theight",c.visualSettings.bullets.theight),z=c.getValue(h[0].objects,"bullets","zwidth",c.visualSettings.bullets.zwidth),N=c.getValue(h[0].objects,"bullets","showlabels",c.visualSettings.bullets.showlabels),L=c.getValue(h[0].objects,"bullets","showtargetlabels",c.visualSettings.bullets.showtargetlabels),D=c.getValue(h[0].objects,"bullets","fontcolor",c.visualSettings.bullets.fontcolor),C=c.getValue(h[0].objects,"bullets","fontsize",c.visualSettings.bullets.fontsize),O=c.getValue(h[0].objects,"bullets","fontfamily",c.visualSettings.bullets.fontfamily),U=c.getValue(h[0].objects,"bullets","startpadding",c.visualSettings.bullets.startpadding),F=c.getValue(h[0].objects,"bullets","endpadding",c.visualSettings.bullets.endpadding),P=c.getValue(h[0].objects,"bullets","displayUnits",c.visualSettings.bullets.displayUnits),E=c.getValue(h[0].objects,"bullets","decimal",c.visualSettings.bullets.decimal),I=c.getValue(h[0].objects,"bullets","conditional",c.visualSettings.bullets.conditional),R=c.getValue(h[0].objects,"bullets","fillp",c.visualSettings.bullets.fillp),B=c.getValue(h[0].objects,"bullets","filln",c.visualSettings.bullets.filln),$=c.getValue(h[0].objects,"bullets","customhead",c.visualSettings.bullets.customhead),G=c.getValue(h[0].objects,"bullets","bartext",c.visualSettings.bullets.bartext),Y=c.getValue(h[0].objects,"bullets","tartext",c.visualSettings.bullets.tartext),H=c.getValue(h[0].objects,"bullets","headsize",c.visualSettings.bullets.headsize),q=c.getValue(h[0].objects,"bullets","varwidth",c.visualSettings.bullets.varwidth),Z=Mt.map((t=>+t.split("|")[1])),J=(1==i?Z[0]:Z[i-1],"reverse"==W?1==i?Z[i-1]:(Z[i-1],Z[i-2]):w.length,"reverse"==W?w.length:(o.Ltv("#vlineviz"+(i+1)).attr("x1"),o.Ltv("#vlineviz"+i).attr("x1")),"1"==p?"object"==typeof S?S.solid.color:S:"object"==typeof _?_.solid.color:_);function K(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+v-1]}function Q(t,a,i){let n;if("number"==i){const a="0"==m?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.bar[e].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>t.Value)),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.bar[e].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>t.Value)),m))),i=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.bar[e].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;n="0"==v?+i:K(a)}else{const i="0"==m?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.bar[e].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>+t.Value.split("|")[a])),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.bar[e].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>+t.Value.split("|")[a])),m))),r=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.bar[e].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;n="0"==v?+r.split("|")[a]:K(i)}return n}$&&(tt.filter((t=>"bar"==t.name&&t.index==e))[0].newdisplayname=G+"|"+Y+"|"+("object"==typeof d?d.solid.color:d)+"|"+J+"|"+("object"==typeof S?S.solid.color:S)+"|bullet_chart|"+H+"|bullet");const et=w.map((t=>({bar:{value:t.height>0?Q(t,0,t.bar[e].type):"0"==m?+String(t.bar[e].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[0]:c.mycalculation(t.bar[e].Value.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>+String(t.Value).split("|")[0])),m),measuretarget:+String(t.bar[e].Value.filter((t=>""!==t.Value&&t.Axis==X?"subtotal":"undefined"))[0].Value).split("|")[1],target:"number"==t.bar[e].type?void 0:t.height>0?Q(t,1,t.bar[e].type):"0"==m?+String(t.bar[e].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[1]:c.mycalculation(t.bar[e].Value.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>+String(t.Value).split("|")[1])),m)},MainCategory:t.MainCategory,selectionId:t.selectionId,index:e,type:t.bar[e].type,level:t.level}))),it=et.map((t=>t.bar.value)).concat(et.map((t=>t.bar.target))),nt=+o.T9B(it),rt=+o.jkA(it),st=+o.T9B([0,nt]),lt=+o.jkA([0,rt]),ot=65,ut=25,ht=(o.Ltv("#vlineviz"+(i+1)).attr("x1"),o.Ltv("#vlineviz"+i).attr("x1"),+o.Ltv("#vlineviz"+i).attr("x1")),gt=+o.Ltv("#vlineviz"+(i+1)).attr("x1")-+("1"==p?0:ot),mt=(gt-ht)*U/100,pt=(gt-ht)*F/100;dt=1==y?o.m4Y().domain([lt,st]).range([ht+mt,gt-pt]):o.m4Y().domain([st,lt]).range([ht+mt,gt-pt]),ft=o.WH().domain(w.map((t=>t.MainCategory.toString()))).range([0,ct]).padding(("1"==p?V:j)/100),xt=ft.step()-ft.bandwidth();const bt=[0,3,6,9,12];let vt,yt,wt,St,_t;wt=o.T9B(et.map((t=>t.bar.value)).map((t=>Math.round(Math.abs(t)))).concat(et.map((t=>t.bar.target)).map((t=>Math.round(Math.abs(t)))))),"auto"==P?vt=o.T9B(bt.filter((t=>t<wt.toString().split("").length))):"thousands"==P?vt=3:"millions"==P?vt=6:"billions"==P?vt=9:"none"==P&&(vt="0"),St=null==w.map((t=>t.bar[e])).map((t=>t.format))[0]?"":w.map((t=>t.bar[e])).map((t=>t.format))[0],""==St&&(St="#,0"),_t=E,yt=r.G2.create({format:St,value:+("1e"+String(vt)),precision:_t,allowFormatBeautification:!0});let kt=dt(o.T9B(et.filter((t=>t.bar.value>0)).map((t=>t.bar.value)).concat(et.filter((t=>t.bar.target>0)).map((t=>t.bar.target)))))-dt(0);kt=isNaN(kt)?0:kt;const At=kt,Vt=dt(0)-dt(o.jkA(et.filter((t=>t.bar.value<0)).map((t=>t.bar.value)).concat(et.filter((t=>t.bar.target<0)).map((t=>t.bar.target))))),jt=Vt;function Tt(){g("object"==typeof d?d.solid.color:d),c.container.selectAll(".meri_bars_bar"+e).data(et).join("rect").classed("meri_bars_bar"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("height",ft.bandwidth()/2).attr("rx",b?5:0).attr("ry",b?5:0).attr("x",((t,e)=>t.bar.value>=0?dt(0):dt(t.bar.value))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/2-1)).style("fill",(t=>+t.level==at-1?"object"==typeof d?d.solid.color:d:"object"==typeof f?f.solid.color:f)).style("stroke","object"==typeof x?x.solid.color:x).style("stroke-width",.5).style("filter",k?"url(#drop-shadow)":"").on("click",pe).on("mousemove",(function(t,e){let a="object"==typeof x?x.solid.color:x;a="none"==a?"black":a,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",a),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipData(t,$,G,Y)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",.5),o.Ltv(this).style("stroke","object"==typeof x?x.solid.color:x)})),c.container.selectAll(".meri_bars_bar"+e).transition().duration(100*+c.visualSettings.margins.transition).attr("width",(t=>t.bar.barwidth)),c.container.selectAll(".meri_bars_tar"+e).data(et).join("rect").classed("meri_bars_tar"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("height",ft.bandwidth()/2).attr("rx",b?5:0).attr("ry",b?5:0).attr("x",((t,e)=>t.bar.target>=0?dt(0):dt(t.bar.target))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+1)).style("fill","object"==typeof _?_.solid.color:_).style("stroke","object"==typeof x?x.solid.color:x).style("stroke-width",.5).style("filter",k?"url(#drop-shadow)":"").on("click",pe).on("mousemove",(function(t,e){let a="object"==typeof x?x.solid.color:x;a="none"==a?"black":a,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",a),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipData(t,$,G,Y)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",.5),o.Ltv(this).style("stroke","object"==typeof x?x.solid.color:x)})),c.container.selectAll(".meri_bars_tar"+e).transition().duration(100*+c.visualSettings.margins.transition).attr("width",(t=>t.bar.tarwidth));const t=ut;c.container.selectAll(".meri_bars_bar_lead"+e).data(et).join("line").classed("meri_bars_bar_lead"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("x1",((t,e)=>{const a=t.bar.barfrontspace&&t.bar.value>0;return dt(Math.max(t.bar.value,0))+(a?+t.bar.bartextwidth:0)+5})).attr("x2",((e,a)=>{const i=e.bar.barfrontspace||e.bar.tarfrontspace?Math.max(e.bar.barfrontspace?e.bar.bartextwidth:0,e.bar.tarfrontspace?e.bar.tartextwidth:0):t;return i>t&&Math.max(t,i+20),e.bar.maxvalue,e.bar.maxvalue_incl_label+t})).attr("y1",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/4-1)).attr("y2",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/4-1)).style("stroke","grey").style("stroke-width",.5).style("stroke-dasharray","5,3"),c.container.selectAll(".meri_bars_tar_lead"+e).data(et).join("line").classed("meri_bars_tar_lead"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("x1",((t,e)=>{const a=t.bar.tarfrontspace&&t.bar.target>0;return dt(Math.max(t.bar.target,0))+(a?+t.bar.tartextwidth:0)+2})).attr("x2",((e,a)=>{const i=e.bar.barfrontspace||e.bar.tarfrontspace?Math.max(e.bar.barfrontspace?e.bar.bartextwidth:0,e.bar.tarfrontspace?e.bar.tartextwidth:0):t;return i>t&&Math.max(t,i+20),e.bar.maxvalue,e.bar.maxvalue_incl_label+t})).attr("y1",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+ft.bandwidth()/4-1)).attr("y2",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+ft.bandwidth()/4-1)).style("stroke","grey").style("stroke-width",.5).style("stroke-dasharray","5,3"),c.container.selectAll(".meri_bars_vert_lead"+e).data(et).join("line").classed("meri_bars_vert_lead"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("x1",((e,a)=>{const i=e.bar.barfrontspace||e.bar.tarfrontspace?Math.max(e.bar.barfrontspace?e.bar.bartextwidth:0,e.bar.tarfrontspace?e.bar.tartextwidth:0):t;return i>t&&Math.max(t,i+20),e.bar.maxvalue,e.bar.maxvalue_incl_label+t})).attr("x2",((e,a)=>{const i=e.bar.barfrontspace||e.bar.tarfrontspace?Math.max(e.bar.barfrontspace?e.bar.bartextwidth:0,e.bar.tarfrontspace?e.bar.tartextwidth:0):t;return i>t&&Math.max(t,i+20),e.bar.maxvalue,e.bar.maxvalue_incl_label+t})).attr("y1",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+ft.bandwidth()/4-1)).attr("y2",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/4-1)).style("stroke","grey").style("stroke-width",.5).style("stroke-dasharray","5,3"),c.container.selectAll(".meri_bars_var_lead"+e).data(et).join("ellipse").classed("meri_bars_var_lead"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("cx",((e,a)=>{const i=Math.max(e.bar.value,e.bar.target,0);return dt(i)+ +t})).attr("cy",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).attr("rx",+ft.bandwidth()/4).attr("ry",+ft.bandwidth()/5.5).style("fill","none").style("stroke","none").style("stroke-width",1),c.container.selectAll(".meri_bars_var_text"+e).data(et).join("text").classed("meri_bars_var_text"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("x",((e,a)=>(Math.max(e.bar.value,e.bar.target,0),e.bar.maxvalue_incl_label+t+2))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).text((t=>{const e=100*(Math.max(t.bar.value/t.bar.target)-1);return e>0?"+"+String(e.toFixed(1))+"%":String(e.toFixed(1))+"%"})).style("fill",(t=>t.bar.value>t.bar.target?"object"==typeof R?R.solid.color:R:"object"==typeof B?B.solid.color:B)).style("stroke-width",1).attr("font-size",C).attr("text-anchor","start").style("dominant-baseline","middle").attr("font-family",O),c.container.selectAll(".meri_bars_var_arrows"+e).data(et).join("polygon").classed("meri_bars_var_arrows"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("points","10,0 10,10 0,5").attr("fill","silver").attr("fill-opacity",.5).attr("stroke","silver").attr("transform",((t,e)=>{const a=t.bar.barfrontspace&&t.bar.value>0;return Math.max(t.bar.value,t.bar.target,0),`translate(${dt(Math.max(t.bar.value,0))+(a?+t.bar.bartextwidth:0)+5},${ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/4-5})`}))}function zt(){c.container.selectAll(".meri_bars"+e).data(et).join("rect").classed("meri_bars"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("height",ft.bandwidth()).attr("rx",b?5:0).attr("ry",b?5:0).attr("x",((t,e)=>t.bar.value>=0?dt(0):dt(t.bar.value))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/2)).style("fill",(t=>+t.level==at-1?"object"==typeof d?d.solid.color:d:"object"==typeof f?f.solid.color:f)).style("stroke","object"==typeof x?x.solid.color:x).style("stroke-width",.5).style("filter",k?"url(#drop-shadow)":"").on("click",pe).on("mousemove",(function(t,e){let a="object"==typeof x?x.solid.color:x;a="none"==a?"black":a,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",a),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipData(t,$,G,Y)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",.5),o.Ltv(this).style("stroke","object"==typeof x?x.solid.color:x)})),c.container.selectAll(".meri_bars"+e).transition().duration(100*+c.visualSettings.margins.transition).attr("width",(t=>t.bar.value>=0?dt(t.bar.value)-dt(0):dt(0)-dt(t.bar.value)))}function Nt(){I?(c.container.selectAll(".bullet_diff"+e).data(et).join("rect").classed("bullet_diff"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("height",ft.bandwidth()*q/10).attr("x",((t,e)=>{const a=dt(t.bar.value),i=dt(t.bar.target);return o.jkA([a,i])})).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+ft.bandwidth()/2-ft.bandwidth()*q/10)).style("fill",(t=>t.bar.value>=t.bar.target?"object"==typeof R?R.solid.color:R:"object"==typeof B?B.solid.color:B)).style("stroke","object"==typeof x?x.solid.color:x),c.container.selectAll(".bullet_diff"+e).transition().duration(100*+c.visualSettings.margins.transition).attr("width",((t,e)=>{const a=dt(t.bar.value),i=dt(t.bar.target);return Math.abs(a-i)}))):o.Ubm(".bullet_diff"+e).remove()}function Lt(){let t,a;if(c.container.selectAll(".meray_targets"+e).data(et).join("line").classed("meray_targets"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>"name"+e)).attr("x1",(function(){return o.Ltv(this).attr("x1")})).attr("x2",(function(){return o.Ltv(this).attr("x2")})).attr("y1",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/2-xt*M/5/2)).attr("y2",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+ft.bandwidth()/2+xt*M/5/2)).style("stroke","object"==typeof S?S.solid.color:S).style("stroke-width",T).on("click",pe),c.container.selectAll(".meray_targets"+e).transition().duration(100*+c.visualSettings.margins.transition).attr("x1",(t=>"number"==t.type||null==t.bar.target?-100:dt(t.bar.target))).attr("x2",(t=>"number"==t.type||null==t.bar.target?-100:dt(t.bar.target))),L){const i={text:"12597",fontFamily:String(O),fontSize:C+"px"};t=r.Tf.measureSvgTextHeight(i),a=(ct/w.length-ft.bandwidth())/2-xt*M/5/2,c.container.selectAll("targetlabelsz").data(et).enter().append("text").attr("class","linelabels").classed("line",!0).classed("repos_labels",!0).classed("target_labels",!0).classed("target_labels"+e,!0).attr("tag",e).attr("id",((t,a)=>e+"targetlabel"+a)).attr("x",((t,e)=>dt(t.bar.target))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/2-xt*M/5/2-1)).text((t=>yt.format(t.bar.target))).style("fill","object"==typeof D?D.solid.color:D).style("dominant-baseline",((e,i)=>a>=t?"auto":"middle")).attr("font-size",C).attr("font-family",String(O)).attr("text-anchor","middle").raise().on("click",pe)}}if(et.forEach(((t,e)=>{t.bar.bartext=yt.format(t.bar.value),t.bar.tartext=yt.format(t.bar.target);const a={text:yt.format(t.bar.value),fontFamily:O,fontSize:C+"px"},i={text:yt.format(t.bar.target),fontFamily:O,fontSize:C+"px"},n=r.Tf.measureSvgTextWidth(a),s=r.Tf.measureSvgTextWidth(i);t.bar.barwidth=t.bar.value>0?dt(t.bar.value)-dt(0):dt(0)-dt(t.bar.value),t.bar.tarwidth=t.bar.target>0?dt(t.bar.target)-dt(0):dt(0)-dt(t.bar.target),t.bar.bartextwidth=n,t.bar.tartextwidth=s,t.bar.barfrontspace=(t.bar.value>0?kt-t.bar.barwidth:Vt-t.bar.barwidth)>n,t.bar.tarfrontspace=(t.bar.target>0?At-t.bar.tarwidth:jt-t.bar.tarwidth)>s,t.bar.maxvalue=ht+Math.max(t.bar.barwidth,t.bar.tarwidth),t.bar.maxvalue_incl_label=ht+(t.bar.value>0||t.bar.target>0?Math.max(t.bar.barwidth+(t.bar.barfrontspace?t.bar.bartextwidth:0),t.bar.tarwidth+(t.bar.tarfrontspace?t.bar.tartextwidth:0))+dt(0)-ht:+dt(0)-ht)})),et.forEach(((t,e)=>{const a=dt(t.bar.value);dt(t.bar.target),"2"==p?(t.bar.anchor=t.bar.barfrontspace&&t.bar.value>0||!t.bar.barfrontspace&&t.bar.value<0?"start":"end",t.bar.anchor_tar=t.bar.tarfrontspace&&t.bar.target>0||!t.bar.tarfrontspace&&t.bar.target<0?"start":"end"):1==y?t.bar.value>=("text"==et[0].type?t.bar.target:0)?t.bar.anchor=gt-a>t.bar.bartextwidth?"start":"end":t.bar.anchor=a-ht>t.bar.bartextwidth?"end":"start":t.bar.value>=("text"==et[0].type?t.bar.target:0)?t.bar.anchor=a-ht>t.bar.bartextwidth?"end":"start":t.bar.anchor=gt-a>t.bar.bartextwidth?"start":"end"})),et.forEach(((t,e)=>{const a="object"==typeof D?D.solid.color:D,i=+t.level==at-1?"object"==typeof d?d.solid.color:d:"object"==typeof f?f.solid.color:f,n="object"==typeof _?_.solid.color:_;"2"==p?(t.bar.textcolor=t.bar.value>=0?"start"==t.bar.anchor?a:"dark"==g(i)?"white":a:"end"==t.bar.anchor?a:"dark"==g(i)?"white":a,t.bar.textcolor_tar=t.bar.target>=0?"start"==t.bar.anchor_tar?a:"dark"==g(n)?"white":a:"end"==t.bar.anchor_tar?a:"dark"==g(n)?"white":a):1==y&&(t.bar.textcolor=t.bar.value>=0?"start"==t.bar.anchor?a:"dark"==g(i)?"white":a:"end"==t.bar.anchor?a:"dark"==g(i)?"white":a)})),c.bulletformatter.push({format:yt,index:e}),1==y?"1"==p||"numeric"==n?(zt(),c.container.selectAll(".meri_bars_bar"+e).remove(),c.container.selectAll(".meri_bars_tar"+e).remove(),c.container.selectAll(".meri_bars_bar_lead"+e).remove(),c.container.selectAll(".meri_bars_tar_lead"+e).remove(),c.container.selectAll(".meri_bars_vert_lead"+e).remove(),c.container.selectAll(".meri_bars_var_lead"+e).remove(),c.container.selectAll(".meri_bars_var_text"+e).remove(),c.container.selectAll(".meri_bars_var_arrows"+e).remove(),Nt(),"text"==n&&Lt()):(Tt(),c.container.selectAll(".meri_bars"+e).remove(),c.container.selectAll(".meray_targets"+e).remove(),c.container.selectAll(".bullet_diff"+e).remove()):c.container.selectAll(".meri_bars"+e).data(et).join("rect").classed("meri_bars"+e,!0).classed("bullet_related",!0).attr("tag",e).attr("id",((t,e)=>e)).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("height",ft.bandwidth()).attr("x",((t,e)=>t.bar.value<=0?dt(0):dt(t.bar.value))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/2)).style("fill","object"==typeof d?d.solid.color:d).style("stroke","object"==typeof x?x.solid.color:x).style("stroke-width",.5).on("click",pe).on("mousemove",(function(t,e){let a="object"==typeof x?x.solid.color:x;a="none"==a?"black":a,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",a),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipData(t,$,G,Y)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",.5),o.Ltv(this).style("stroke","object"==typeof x?x.solid.color:x)})).attr("width",(t=>t.bar.value>=0?dt(0)-dt(t.bar.value):dt(t.bar.value)-dt(0))),N&&(c.container.selectAll("barlabels").data(et).enter().append("text").classed("line",!0).classed("repos_labels",!0).classed("line_labels",!0).classed("line_labels"+e,!0).attr("tag",e).attr("id",((t,a)=>"bar"+e+"label"+a)).attr("x",((t,e)=>null==t.bar.value?ht+mt:dt(t.bar.value))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-+("1"==p?0:ft.bandwidth()/4))).text((t=>yt.format(t.bar.value))).style("fill",(t=>t.bar.textcolor)).style("dominant-baseline","middle").attr("font-size",C).attr("font-family",String(O)).attr("text-anchor",(t=>t.bar.anchor)).raise().on("click",pe),"2"==p)&&(g("object"==typeof _?_.solid.color:_),c.container.selectAll("tarlabels").data(et).enter().append("text").classed("line",!0).classed("repos_labels",!0).classed("line_labels",!0).classed("line_labels"+e,!0).attr("tag",String(t)).attr("id",((t,a)=>"tar"+e+"label"+a)).attr("x",((t,e)=>{const a={text:yt.format(t.bar.target),fontFamily:O,fontSize:C+"px"};return r.Tf.measureSvgTextWidth(a),Math.abs(dt(t.bar.value)-dt(0)),null==t.bar.target?ht+mt:dt(t.bar.target)})).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+ +("1"==p?0:ft.bandwidth()/4))).text((t=>yt.format(t.bar.target))).style("fill",(t=>t.bar.textcolor_tar)).style("dominant-baseline","middle").attr("font-size",C).attr("font-family",String(O)).attr("text-anchor",(t=>t.bar.anchor_tar))),c.container.append("line").attr("class","zb").attr("id","zb"+e).attr("x1",((t,e)=>dt(0))).attr("x2",((t,e)=>dt(0))).attr("y1",0).attr("y2",ct).style("stroke","object"==typeof A?A.solid.color:A).style("stroke-opacity",1).style("stroke-width",z),c.visualSettings.xaxis.showaxis){const Dt={text:yt.format(Math.max(Math.abs(rt),nt)),fontFamily:String(c.visualSettings.xaxis.fontfamily),fontSize:c.visualSettings.xaxis.fontsize+"px"},Ct=r.Tf.measureSvgTextWidth(Dt),Ot=gt-pt-(ht+mt),Ut=Math.floor(Ot/(2*Ct)),Ft=o.tlR(dt).ticks(Ut).tickFormat((t=>yt.format(t))).tickSizeOuter(2).tickSizeInner(2);c.container.append("g").attr("class","xaxis").call(Ft).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10)}}})),o.Ubm(".repos_labels").each((function(){const t=o.Ltv(this).attr("text-anchor"),e=+o.Ltv(this).attr("x");"end"==t?o.Ltv(this).attr("x",e-1):"start"==t&&o.Ltv(this).attr("x",e+1)})),performance.now()}catch(t){console.log(t)}try{0==D.length?o.Ubm(".dumb_related").remove():o.Ubm(".dumb_related").filter((function(){return+o.Ltv(this).attr("tag")>=D.length})).remove(),D.forEach(((e,a)=>{const i=w.map((t=>t.dumb[a]))[0].type,n=tt.filter((t=>"dumb"==t.name&&t.displayname==e))[0],s=tt.indexOf(n);let l,u;const h=w[0].dumb[a].Value[0].Value;let d=!1;if("text"==i&&(null==h||isNaN(h.split("|")[0])||isNaN(h.split("|")[1]))&&(d=!0),"text"!==i||d){const f=tt.filter((t=>"dumb"==t.name&&t.displayname==e))[0],g=tt.indexOf(f),m=+o.Ltv("#vlineviz"+(g+1)).attr("x1")-+o.Ltv("#vlineviz"+g).attr("x1"),p=(+o.Ltv("#vlineviz"+(g+1)).attr("x1")+ +o.Ltv("#vlineviz"+g).attr("x1"))/2;c.container.append("rect").attr("class","comboerror").attr("width",+o.Ltv("#vlineviz"+(g+1)).attr("x1")-+o.Ltv("#vlineviz"+g).attr("x1")).attr("height",ct).attr("x",+o.Ltv("#vlineviz"+g).attr("x1")).attr("y",0).style("fill","none"),c.container.append("text").attr("class","comboerror").attr("x",p).attr("y",15).style("fill","red").text("Incorrect datatype for dumbbell chart! Create a caclulated column or measure with 2 values concatenated like 100|50. For illustration, see the demo pbix file of this visual").attr("text-anchor","middle").call(be,m,10,String(c.visualSettings.category.fontfamily),20)}if("text"==i&&!d){const b=e,v=c.metadata.filter((t=>t.displayName==b&&t.roles.hasOwnProperty("dumb"))),y=c.getValue(v[0].objects,"dumb","fill",c.visualSettings.dumb.fill),x=c.getValue(v[0].objects,"dumb","calculation",c.visualSettings.dumb.calculation),S=c.getValue(v[0].objects,"dumb","parentaggregation",c.visualSettings.dumb.parentaggregation),_=c.getValue(v[0].objects,"dumb","bfill",c.visualSettings.dumb.bfill),k=c.getValue(v[0].objects,"dumb","nfill",c.visualSettings.dumb.nfill),A=c.getValue(v[0].objects,"dumb","mfill",c.visualSettings.dumb.mfill),V=(c.getValue(v[0].objects,"dumb","zerobasecolor",c.visualSettings.dumb.zerobasecolor),c.getValue(v[0].objects,"dumb","width",c.visualSettings.dumb.width)),j=c.getValue(v[0].objects,"dumb","twidth",c.visualSettings.dumb.twidth),T=c.getValue(v[0].objects,"dumb","theight",c.visualSettings.dumb.theight),M=(c.getValue(v[0].objects,"dumb","zwidth",c.visualSettings.dumb.zwidth),c.getValue(v[0].objects,"dumb","showlabels",c.visualSettings.dumb.showlabels)),z=c.getValue(v[0].objects,"dumb","labeltype",c.visualSettings.dumb.labeltype),N=c.getValue(v[0].objects,"dumb","showstartlabels",c.visualSettings.dumb.showstartlabels),L=c.getValue(v[0].objects,"dumb","fontcolor",c.visualSettings.dumb.fontcolor),D=c.getValue(v[0].objects,"dumb","fontsize",c.visualSettings.dumb.fontsize),C=c.getValue(v[0].objects,"dumb","fontfamily",c.visualSettings.dumb.fontfamily),O=c.getValue(v[0].objects,"dumb","startpadding",c.visualSettings.dumb.startpadding),U=c.getValue(v[0].objects,"dumb","endpadding",c.visualSettings.dumb.endpadding),F=c.getValue(v[0].objects,"dumb","displayUnits",c.visualSettings.dumb.displayUnits),P=c.getValue(v[0].objects,"dumb","decimal",c.visualSettings.dumb.decimal),E=(c.getValue(v[0].objects,"dumb","conditional",c.visualSettings.dumb.conditional),c.getValue(v[0].objects,"dumb","fillp",c.visualSettings.dumb.fillp),c.getValue(v[0].objects,"dumb","filln",c.visualSettings.dumb.filln),c.getValue(v[0].objects,"dumb","varwidth",c.visualSettings.dumb.varwidth),c.getValue(v[0].objects,"dumb","shadow",c.visualSettings.dumb.shadow));function R(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+S-1]}function B(t,e){const i="0"==x?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.dumb[a].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>+t.Value.split("|")[e])),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.dumb[a].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>+t.Value.split("|")[e])),x))),n=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.dumb[a].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;return"0"==S?+n.split("|")[e]:R(i)}const W=w.map((t=>({bar:{value:t.height>0?B(t,0):"0"==x?+String(t.dumb[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[0]:c.mycalculation(t.dumb[a].Value.filter((t=>""!==t.Value&&null!==t.Value&&"subtotal"!==t.Axis)).map((t=>+t.Value.split("|")[0])),x),target:t.height>0?B(t,1):"0"==x?+String(t.dumb[a].Value.filter((t=>X?""!==t.Value&&"subtotal"==t.Axis:""!==t.Value&&null==t.Axis))[0].Value).split("|")[1]:c.mycalculation(t.dumb[a].Value.filter((t=>""!==t.Value&&null!==t.Value&&"subtotal"!==t.Axis)).map((t=>+t.Value.split("|")[1])),x)},MainCategory:t.MainCategory,selectionId:t.selectionId,index:a,type:t.dumb[a].type,height:t.height}))),$=W.map((t=>t.bar.value)).concat(W.map((t=>t.bar.target)));l=o.T9B($),u=o.jkA($);const G=l,Y=u,H=+o.Ltv("#vlineviz"+s).attr("x1"),q=+o.Ltv("#vlineviz"+(s+1)).attr("x1"),Z=(q-H)*O/100,J=(q-H)*U/100;dt=o.m4Y().domain([Y,G]).range([H+Z,q-J]),ft=o.WH().domain(w.map((t=>t.MainCategory.toString()))).range([0,ct]).padding(V/100),xt=ft.step()-ft.bandwidth(),c.container.selectAll(".dumbs_line"+a).data(W).join("rect").classed("dumbs_line"+a,!0).classed("dumb_related",!0).classed("dumb_bars",!0).attr("tag",a).attr("id",((t,e)=>e)).attr("width",(function(){return o.Ltv(this).attr("width")})).attr("height",ft.bandwidth()).attr("x",((t,e)=>Math.min(dt(t.bar.value),dt(t.bar.target)))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/2)).style("fill",(t=>t.bar.target>t.bar.value?"object"==typeof y?y.solid.color:y:"object"==typeof k?k.solid.color:k)).style("stroke","object"==typeof _?_.solid.color:_).style("stroke-width",.5).style("filter",E?"url(#drop-shadow)":"").on("mousemove",(function(t,e){let a="object"==typeof _?_.solid.color:_;a="none"==a?"black":a,o.Ltv(this).style("stroke-width",1.5),o.Ltv(this).style("stroke",a),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataDumb(t)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).style("stroke-width",.5),o.Ltv(this).style("stroke","object"==typeof _?_.solid.color:_)})),c.container.selectAll(".dumbs_line"+a).transition().duration(100*+c.visualSettings.margins.transition).attr("width",(t=>Math.abs(dt(t.bar.value)-dt(t.bar.target)))),c.container.selectAll(".dumbs_end"+a).data(W).join("line").classed("dumbs_end"+a,!0).classed("dumb_related",!0).classed("dumb_lines",!0).attr("tag",a).attr("id",((t,e)=>e)).attr("x1",(function(){return o.Ltv(this).attr("x1")})).attr("x2",(function(){return o.Ltv(this).attr("x2")})).attr("y1",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-T/5*xt/2-ft.bandwidth()/2)).attr("y2",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+T/5*xt/2+ft.bandwidth()/2)).style("stroke","object"==typeof A?A.solid.color:A).style("stroke-width",j),2==t.type&&I?c.container.selectAll(".dumbs_end"+a).transition().duration(100*+c.visualSettings.margins.transition).attr("x1",((t,e)=>dt(t.bar.target))).attr("x2",((t,e)=>dt(t.bar.target))):c.container.selectAll(".dumbs_end"+a).attr("x1",((t,e)=>dt(t.bar.target))).attr("x2",((t,e)=>dt(t.bar.target)));const K=[0,3,6,9,12];let Q,et,at,it,nt;if(at=o.T9B(W.map((t=>t.bar.value)).map((t=>Math.round(Math.abs(t)))).concat(W.map((t=>t.bar.target)).map((t=>Math.round(Math.abs(t)))))),"auto"==F?Q=o.T9B(K.filter((t=>t<at.toString().split("").length))):"thousands"==F?Q=3:"millions"==F?Q=6:"billions"==F?Q=9:"none"==F&&(Q="0"),it=null==w.map((t=>t.dumb[a])).map((t=>t.format))[0]?"":w.map((t=>t.dumb[a])).map((t=>t.format))[0],""==it&&(it="0"),nt=P,et=r.G2.create({format:it,value:+("1e"+String(Q)),precision:nt,allowFormatBeautification:!0}),c.dumbformatter.push({format:et,index:a}),N&&c.container.selectAll("startlabels").data(W).enter().append("text").attr("class","linelabels").classed("repos_labels_dumb",!0).classed("dumb",!0).attr("tag",String(e)).attr("id",((t,e)=>"startlabel"+e)).attr("x",((t,e)=>(t.bar.value,dt(t.bar.value)))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).text((t=>et.format(t.bar.value))).style("fill","object"==typeof L?L.solid.color:L).style("dominant-baseline","middle").attr("font-size",D).attr("font-family",String(C)).attr("text-anchor",(function(t){const e=dt(t.bar.value),a={text:et.format(t.bar.value),fontFamily:C,fontSize:D+"px"},i=r.Tf.measureSvgTextWidth(a);return t.bar.value>t.bar.target?q-e>i?"start":"end":e-H>i?"end":"start"})).on("click",pe),M){"1"!=z&&"2"!=z||c.container.selectAll("endlabels").data(W).enter().append("text").attr("class","linelabels").attr("tag",String(e)).classed("dumb",!0).classed("repos_labels_dumb",!0).attr("id",((t,e)=>"endlabel"+e)).attr("x",((t,e)=>dt(t.bar.target))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).text((t=>"1"==z?et.format(t.bar.target):+((t.bar.target-t.bar.value)/Math.abs(t.bar.value)*100).toFixed(P)+"%")).style("fill","object"==typeof L?L.solid.color:L).style("dominant-baseline","middle").attr("font-size",D).attr("font-family",String(C)).attr("text-anchor",(function(t){const e=dt(t.bar.target),a={text:"1"==z?et.format(t.bar.target):+((t.bar.target-t.bar.value)/Math.abs(t.bar.value)*100).toFixed(P)+"%",fontFamily:C,fontSize:D+"px"},i=r.Tf.measureSvgTextWidth(a);return t.bar.target>t.bar.value?q-e>i?"start":"end":e-H>i?"end":"start"})).on("click",pe);const rt={text:"12349%",fontFamily:C,fontSize:D+"px"},st=r.Tf.measureSvgTextHeight(rt);"3"==z&&(c.container.selectAll("endlabels").data(W).enter().append("text").attr("class","linelabels").classed("dumb",!0).classed("repos_labels_dumb",!0).attr("tag",String(e)).attr("id",((t,e)=>"endlabel"+e)).attr("x",((t,e)=>{const a=dt(t.bar.target),i={text:et.format(t.bar.target),fontFamily:C,fontSize:D+"px"},n=r.Tf.measureSvgTextWidth(i);return t.bar.target>t.bar.value?q-a>n?dt(t.bar.target)+2:dt(t.bar.target)-2:a-H>n?dt(t.bar.target)-2:dt(t.bar.target)+2})).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).text((t=>et.format(t.bar.target))).style("fill","object"==typeof L?L.solid.color:L).style("dominant-baseline","middle").attr("font-size",D).attr("font-family",String(C)).attr("text-anchor",(function(t){const e=dt(t.bar.target),a={text:et.format(t.bar.target),fontFamily:C,fontSize:D+"px"},i=r.Tf.measureSvgTextWidth(a);return t.bar.target>t.bar.value?q-e>i?"start":"end":e-H>i?"end":"start"})).on("click",pe),c.container.selectAll("varlabels").data(W).enter().append("text").attr("class","linelabels").classed("dumb",!0).classed("repos_labels_dumb",!0).attr("tag",String(e)).attr("id",((t,e)=>"var_label"+e)).attr("x",((t,e)=>dt(t.bar.target))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+st+1)).text((t=>+((t.bar.target-t.bar.value)/Math.abs(t.bar.value)*100).toFixed(P)+"%")).style("fill","object"==typeof L?L.solid.color:L).style("dominant-baseline","middle").attr("font-size",D-1).attr("font-family",String(C)).attr("text-anchor",((t,e)=>o.Ltv("#endlabel"+e).attr("text-anchor"))).on("click",pe))}if(c.visualSettings.xaxis.showaxis){const lt={text:et.format(Math.max(Math.abs(u),l)),fontFamily:String(c.visualSettings.xaxis.fontfamily),fontSize:c.visualSettings.xaxis.fontsize+"px"},ot=r.Tf.measureSvgTextWidth(lt),ut=q-J-(H+Z),ht=Math.floor(ut/(2*ot)),gt=o.tlR(dt).ticks(ht).tickFormat((t=>et.format(t))).tickSizeOuter(2).tickSizeInner(2);c.container.append("g").attr("class","xaxis").call(gt).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10)}}})),o.Ubm(".repos_labels_dumb").each((function(){const t=o.Ltv(this).attr("text-anchor"),e=+o.Ltv(this).attr("x");"end"==t?o.Ltv(this).attr("x",e-1):"start"==t&&o.Ltv(this).attr("x",e+1)}))}catch(t){console.log(t)}try{ge()}catch(t){console.log(t)}try{!function(){o.Ubm(".images").remove();const t=c.rowlevels>1;0==F.length?o.Ubm(".bee_related").remove():o.Ubm(".bee_related").filter((function(){return+o.Ltv(this).attr("tag")>=F.length})).remove(),F.forEach(((e,a)=>{const i=w.map((t=>t.beevalues[a]))[0].type,n=tt.filter((t=>"beevalues"==t.name&&t.displayname==e))[0],s=tt.indexOf(n),l=w[0].beevalues[a].Value[0].Value;let u=!1;if("text"==i&&(null==l||isNaN(l.split("|")[0])||isNaN(l.split("|")[1]))&&(u=!0),"text"!==i||t||u){o.Ubm(".bee_related").remove();const h=tt.filter((t=>"beevalues"==t.name&&t.displayname==e))[0],d=tt.indexOf(h),f=+o.Ltv("#vlineviz"+(d+1)).attr("x1")-+o.Ltv("#vlineviz"+d).attr("x1"),g=(+o.Ltv("#vlineviz"+(d+1)).attr("x1")+ +o.Ltv("#vlineviz"+d).attr("x1"))/2;c.container.append("rect").attr("class","comboerror").attr("width",+o.Ltv("#vlineviz"+(d+1)).attr("x1")-+o.Ltv("#vlineviz"+d).attr("x1")).attr("height",ct).attr("x",+o.Ltv("#vlineviz"+d).attr("x1")).attr("y",0).style("fill","none"),c.container.append("text").attr("class","comboerror").attr("x",g).attr("y",15).style("fill","red").text(t?"Beeswarm / Breakdown chart is not currently available for hierarchical data. There should be only one field in Category section of the visual. Please visit excelnaccess.com/sparklines to learn how to best use this micro chart":"Incorrect datatype for Beeswarm / Breakdown chart! Create a caclulated column or measure with values concatenated like 100|50|150|80. For illustration, see the demo pbix file of this visual").attr("text-anchor","middle").attr("font-size",15).call(be,f,10,String(c.visualSettings.category.fontfamily),15)}if("text"==i&&!t&&!u){const m=e,p=(c.metadata.filter((t=>t.displayName==m&&t.roles.hasOwnProperty("beevalues"))),c.visualSettings.Beeswarm.displayUnits),b=c.metadata.filter((t=>t.roles.hasOwnProperty("beenames"))).length>0,v=c.metadata.filter((t=>t.roles.hasOwnProperty("beeimages"))).length>0;let y;const x=tt.filter((t=>"beevalues"==t.name&&t.displayname==e))[0],S=tt.indexOf(x);function _(t,e){c.tooltipServiceWrapper.addTooltip(o.Ltv(e),(t=>c.getTooltipDataBeeSetting(t)),(t=>null))}c.svg.selectAll(".beesetting"+a).data([1,2]).join("circle").attr("class","beesetting"+a).classed("bee_setting",!0).classed("bee_related",!0).attr("cx",+o.Ltv("#vlineviz"+(S+1)).attr("x1")-15).attr("cy",(t=>+Ht+15*t)).attr("r",7).attr("fill","pink").on("mousemove",(function(t,e){o.Ltv(this).attr("stroke","black"),_(e,this)})).on("click",(function(t,e){if(1==e){try{y.stop()}catch(t){console.log(t)}const t=c.visualSettings.general.beesetting;c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{beesetting:"BS"==t?"BB":"BS"}}]})}else{o.Ubm(".breakdown,.breakdown_text,.breakdown_numbers").remove(),o.Ubm(".beeswarm,.beeswarm_mean").remove();const t=c.visualSettings.general.beeaxis;c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{beeaxis:"same"==t?"different":"same"}}]})}})).on("mouseout",(function(t,e){o.Ltv(this).attr("stroke","none")})),c.svg.selectAll(".beesetting_text"+a).data([1,2]).join("text").attr("class","beesetting_text"+a).classed("bee_setting",!0).classed("bee_related",!0).attr("x",+o.Ltv("#vlineviz"+(S+1)).attr("x1")-15-7-1).attr("y",(t=>+Ht+15*t)).text((t=>1==t?"BB"==c.visualSettings.general.beesetting?"Bars":"Beeswarm":"same"==c.visualSettings.general.beeaxis?"Same axis":"Dif. axis")).style("dominant-baseline","middle").attr("text-anchor","end").attr("font-size",10);const k=+c.visualSettings.Beeswarm.catlabels,A="BS"==c.visualSettings.general.beesetting?+c.visualSettings.Beeswarm.padding+1:+c.visualSettings.Beeswarm.padding,V=+o.Ltv("#vlineviz"+s).attr("x1"),j=+o.Ltv("#vlineviz"+(s+1)).attr("x1"),T="BB"==c.visualSettings.general.beesetting?5*k:5*A*(j-V)/100,M=5*A*(j-V)/100,z=j-M-(V+T),N=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","pink"],L=([].concat(...w.map((t=>t.beevalues[a].Value[0].Value.split("|")))),ct/w.length),D=(o.WH().domain(w.map((t=>t.MainCategory.toString()))).range([0,ct]).padding(.1),w.map(((t,e)=>({values:t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|"),names:b?t.beenames[a].Value.filter((t=>null!==t.Value)).map((t=>t.Value))[0].replace(/^(null)/,"").split("|"):o.y17(t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").length).map((t=>"no label")),images:v?t.beeimages[a].Value.filter((t=>null!==t.Value)).map((t=>t.Value))[0].replace(/^(null)/,"").split("|"):o.y17(t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").length).map((t=>"no label")),bandwidth:.975*Math.max(15,L/Math.min(t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").length,Math.floor(L/15))),no_of_bars:15>L/Math.min(t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").length)?Math.floor(L/15)-1:Math.floor(L/Math.min(t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").length)),emptyspace:.025*L/t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").length,dataitems_no:t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").length,y:e,cat:t.MainCategory,average:o.i2o(t.beevalues[a].Value.filter((t=>""!==t.Value)).map((t=>t.Value))[0].split("|").map((t=>+t)))}))));let C,O;D.forEach(((t,e)=>{const a=t.values.map(((e,a)=>({value:e,name:t.names[a],image:t.images[a]}))).sort(((t,e)=>e.value-t.value)),i=a.filter(((e,a)=>a<=t.no_of_bars-1)),n=a.filter(((e,a)=>a>t.no_of_bars-1)),r=o.czq(n.map((t=>t.value)));if(n.length>1&&"BB"==c.visualSettings.general.beesetting){i.push({value:r,name:"Others"}),t.zubair=i;const e=Math.max(0,+o.T9B(i.map((t=>+t.value)))),a=Math.min(0,+o.jkA(i.map((t=>+t.value))));t.xScaleBars=o.m4Y().domain([a,e]).range([V+T,j-M])}else{t.zubair=a;const e=Math.max(0,+o.T9B(a.map((t=>+t.value)))),i=Math.min(0,+o.jkA(a.map((t=>+t.value))));t.xScaleBars=o.m4Y().domain([i,e]).range([V+T,j-M])}})),"BS"==c.visualSettings.general.beesetting?(C=+o.T9B(D.map((t=>t.zubair.map((t=>+t.value)))).flat(1)),O=+o.jkA(D.map((t=>t.zubair.map((t=>+t.value)))).flat(1))):(C=Math.max(0,+o.T9B(D.map((t=>t.zubair.map((t=>+t.value)))).flat(1))),O=Math.min(0,+o.jkA(D.map((t=>t.zubair.map((t=>+t.value)))).flat(1)))),dt=o.m4Y().domain([O,C]).range([V+T,j-M]);const U=[];function F(){const t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]/4294967296}function P(t,e){return Math.floor(F()*(e-t+1)+t)}const E=[];let I;function R(){const t=c.container.selectAll(".beeswarm"+a).data(U).join("circle").attr("class","beeswarm"+a).classed("bee_related",!0).classed("beeswarm",!0).attr("r",(t=>t.rad)).style("fill",((t,e)=>t.color)).attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).on("mousemove",(function(t,e){o.Ltv(this).style("stroke","black")})).on("click",((e,a)=>{t.nodes().indexOf(this)})).on("mouseout",(function(){o.Ltv(this).style("stroke","none")}))}if(D.forEach(((t,e)=>{E.push(o.Qhc(P(1,256),P(1,256),P(1,256),F()))})),D.forEach(((t,e)=>{const a=o.Bv9().domain([0,o.czq(t.values.map((t=>+t)))]).range([5,Math.min(z,ct/D.length)/(25-c.visualSettings.Beeswarm.bubblesize)])(o.i2o(t.values));t.zubair.forEach(((i,n)=>{U.push({cat:t.cat,bandwidth:t.bandwidth,length:t.dataitems_no,emptyspace:t.emptyspace,value:+i.value,name:i.name,image:i.image,xScaleBars:"same"==c.visualSettings.general.beeaxis?dt:t.xScaleBars,average:"same"==c.visualSettings.general.beeaxis?dt(t.average):t.xScaleBars(t.average),meanvalue:t.average,indexy:n,x:"same"==c.visualSettings.general.beeaxis?dt(i.value):t.xScaleBars(i.value),y:ct*(e+1)/w.length-ct/w.length/2,y1:ct*e/w.length,y2:ct*(e+1)/w.length,color:N[e%10],rad:a})}))})),I=c.visualSettings.Beeswarm.customalphadecay?+c.visualSettings.Beeswarm.alphadecay/15:.075,"BS"==c.visualSettings.general.beesetting&&(o.Ubm(".breakdown,.breakdown_text,.breakdown_numbers").remove(),y=o.tXi(U).force("x",o.KS8().x((function(t){return t.x})).strength(+c.visualSettings.Beeswarm.strengthx/10)).force("y",o.TSS().y((function(t,e){return t.y})).strength(+c.visualSettings.Beeswarm.strengthy/10)).force("collision",o.eRw().radius((function(t){return t.rad})).strength(1).iterations(2)).on("tick",R).alphaDecay(I).on("end",(function(){o.Ubm(".beeswarm,.images").on("mousemove",(function(t,e){c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataBeeswarm(t)),(t=>null)),o.Ltv(this).style("stroke","black")})).on("mouseout",(function(t,e){o.Ltv(this).style("stroke","none")}))})),c.container.selectAll(".beeswarm_mean").data(U).join("line").attr("class","beeswarm_mean").classed("bee_related",!0).style("fill",((t,e)=>t.color)).style("stroke",((t,e)=>t.color)).style("stroke-width",.5).attr("x1",(t=>t.average)).attr("x2",(t=>t.average)).attr("y1",(t=>t.y1+ct/w.length*.2)).attr("y2",(t=>t.y2-ct/w.length*.2))),"BB"==c.visualSettings.general.beesetting){o.Ubm(".beeswarm,.beeswarm_mean").remove();const W=c.visualSettings.Beeswarm.numberstyle,$=[0,3,6,9,12];let G;"auto"==p?G=o.T9B($.filter((t=>t<String(Math.round(Math.max(Math.abs(O),Math.abs(C)))).length))):"thousands"==p?G=3:"millions"==p?G=6:"billions"==p?G=9:"none"==p&&(G="0");const Y=+c.visualSettings.Beeswarm.decimal,H=r.G2.create({format:W,value:+("1e"+String(G)),precision:Y,allowFormatBeautification:!0}),q={text:"MicrosoftPowerBI".slice(0,4+Y),fontFamily:"Cambria",fontSize:"11px"},Z=r.Tf.measureSvgTextWidth(q);c.container.selectAll(".breakdown").data(U).join("rect").attr("class","breakdown").classed("bee_related",!0).style("fill",((t,e)=>t.color)).style("stroke",((t,e)=>"black")).style("stroke-width",.2).attr("x",((t,e)=>t.value>=0?t.xScaleBars(0):t.xScaleBars(t.value))).attr("y",(t=>+t.y1+t.bandwidth*t.indexy+t.emptyspace*t.indexy+t.emptyspace/2)).attr("width",(t=>t.value>=0?t.x-t.xScaleBars(0):t.xScaleBars(0)-t.x)).attr("height",(t=>.95*t.bandwidth)).on("mousemove",(function(t,e){o.Ltv(this).style("stroke","black").style("stroke-width",1)})).on("click",((t,e)=>{})).on("mouseout",(function(){o.Ltv(this).style("stroke","black").style("stroke-width",.2)})),c.container.selectAll(".breakdown_text").data(U).join("text").attr("class","breakdown_text").classed("bee_related",!0).style("fill",((t,e)=>t.color)).style("stroke",((t,e)=>t.color)).style("stroke-width",.5).attr("x",V+T-2).attr("y",(t=>+t.y1+t.bandwidth*t.indexy+t.emptyspace*t.indexy+t.emptyspace/2+t.bandwidth/2)).text(((t,e)=>{const a={text:t.name,fontFamily:"Cambria",fontSize:"11px"};return r.Tf.getTailoredTextOrDefault(a,T-2)})).style("font-family","Cambria").attr("font-size",(t=>11)).attr("dominant-baseline","middle").attr("text-anchor","end"),c.visualSettings.Beeswarm.showlabels?c.container.selectAll(".breakdown_numbers").data(U).join("text").attr("class","breakdown_numbers").classed("bee_related",!0).style("fill",((t,e)=>"black")).style("stroke",((t,e)=>"black")).style("stroke-width",.5).attr("x",((t,e)=>(t.value,t.xScaleBars(t.value)))).attr("y",(t=>+t.y1+t.bandwidth*t.indexy+t.emptyspace*t.indexy+t.emptyspace/2+t.bandwidth/2)).text(((t,e)=>H.format(t.value))).attr("font-size",(t=>11)).style("font-family","Cambria").attr("dominant-baseline","middle").attr("text-anchor",(t=>j-t.xScaleBars(t.value)>Z?"start":"end")):o.Ubm(".breakdown_numbers").remove()}function B(t,e){const a=[0,3,6,9,12];let i,n,s,l,u;s=Math.max(Math.abs(t),Math.abs(e)),"auto"==p?i=o.T9B(a.filter((t=>t<Math.round(s).toString().split("").length))):"thousands"==p?i=3:"millions"==p?i=6:"billions"==p?i=9:"none"==p&&(i="0"),l=c.visualSettings.Beeswarm.numberstyle,u=c.visualSettings.Beeswarm.decimal,n=r.G2.create({format:l,value:+("1e"+String(i)),precision:u,allowFormatBeautification:!0});const h={text:n.format(Math.max(Math.abs(void 0),void 0)),fontFamily:String(c.visualSettings.xaxis.fontfamily),fontSize:c.visualSettings.xaxis.fontsize+"px"},d=r.Tf.measureSvgTextWidth(h),f=j-M-(V+T),g=Math.floor(f/(2*d)),m=o.tlR(dt).ticks(g).tickFormat((t=>n.format(t))).tickSizeOuter(2).tickSizeInner(2);c.container.append("g").attr("class","xaxis").classed("bee_related",!0).call(m).attr("transform","translate(0,0)").selectAll(".tick text").style("fill",c.visualSettings.xaxis.fill).attr("font-size",c.visualSettings.xaxis.fontsize).style("font-family",String(c.visualSettings.xaxis.fontfamily)),o.Ubm(".xaxis").selectAll(".domain,.tick line").style("stroke",c.visualSettings.xaxis.axislinecolor).style("stroke-width",c.visualSettings.xaxis.axiswidth/10)}c.visualSettings.Beeswarm.showaxis&&"same"==c.visualSettings.general.beeaxis&&B(O,C)}}))}()}catch(t){console.log(t)}try{!function(){const t="reverse"==W?w.length:rt,e=w.map((t=>({MainCategory:t.MainCategory,selectionId:t.selectionId,level:t.level,order:t.order,order2:t.order2}))),a={text:"abcdefghijklmnopqrstxyAL",fontFamily:String(c.visualSettings.columnheaders.fontfamily),fontSize:+c.visualSettings.columnheaders.fontsize+"px"},i=r.Tf.measureSvgTextHeight(a),n=ee-(c.visualSettings.xaxis.showaxis?Ht+20:Ht),s=Math.max(Math.floor(n/i),2);c.container.selectAll("boxestext").data(o.y17(t)).enter().append("text").attr("tag",((t,e)=>{const a=e>0?Mt.filter((t=>t.startsWith(e)))[0]:"0|0";return+(+Mt.filter((t=>t.startsWith(e+1)))[0].split("|")[1]-+a.split("|")[1])})).attr("class","headingtext").attr("id",((t,e)=>"headingtext"+e)).attr("x",((t,e)=>{if("reverse"==W)return ot*(e+1)/(w.length+1)+ot/(w.length+1)/2;{const t=e>0?Mt.filter((t=>t.startsWith(e)))[0]:"0|0",a=Mt.filter((t=>t.startsWith(e+1)))[0];return""!==c.visualSettings.general.counter1?"start"==c.visualSettings.columnheaders.alignment?+t.split("|")[1]+2:"middle"==c.visualSettings.columnheaders.alignment?+(+t.split("|")[1]+ +a.split("|")[1])/2:+a.split("|")[1]-2:"start"==c.visualSettings.columnheaders.alignment?ot*e/rt:"middle"==c.visualSettings.columnheaders.alignment?ot*e/rt+ot/rt/2:ot*(e+1)/rt}})).attr("y",Ht-ee+i/2).classed("newdisplayname",((t,e)=>"newdisplayname"in tt[t])).classed("stackdisplayname",((t,e)=>"stackdisplayname"in tt[t])).text(((t,a)=>"reverse"==W?e[t].MainCategory:"newdisplayname"in tt[t]?tt[t].newdisplayname:"stackdisplayname"in tt[t]?tt[t].stackdisplayname:"dotplot"==tt[t].name?"":tt[t].displayname)).attr("text-anchor",c.visualSettings.columnheaders.alignment).attr("dominant-baseline","middle").attr("fill",((t,e)=>{if("reverse"==W)return c.visualSettings.columnheaders.fontcolor;{const t=c.columndata[e],a=c.columndata.filter((e=>e.name==t.name&&e.displayname==t.displayname)),i=a[0],n=c.metadata.filter((e=>e.displayName==i.displayname&&e.roles.hasOwnProperty(t.name)));let r;if(n[0].hasOwnProperty("objects")&&n[0].objects.hasOwnProperty("columnheaders")&&n[0].objects.columnheaders.hasOwnProperty("indcolorfont")){const t=n[0].objects.columnheaders.indcolorfont;r="object"==typeof t?t.solid.color:t}else r=c.visualSettings.columnheaders.fontcolor;return r}})).attr("font-size",c.visualSettings.columnheaders.fontsize).attr("font-family",String(c.visualSettings.columnheaders.fontfamily)).on("click",de).call(be,"tag",s,c.visualSettings.columnheaders.fontfamily,c.visualSettings.columnheaders.fontsize).each((function(){const t=o.Ltv(this).node().getBBox().height,e=ee-(c.visualSettings.xaxis.showaxis?Ht+20:Ht)-t;o.Ltv(this).attr("y"),o.Ltv(this).attr("transform",`translate(0,${e/2})`)}))}()}catch(t){console.log(t)}c.element.onscroll=function(){o.Ubm(".boxes,.headingtext,.dragboxes,.boxes,.boxdrag,.pieheadings").each((function(){const t=o.Ltv(this).attr("transform");let e,a;if(null==t||o.Ltv(this).classed("notransform")||o.Ltv(this).classed("boxdrag")||o.Ltv(this).classed("hline"))e=0,a=0;else{const i=t.indexOf("(")+1,n=t.indexOf(","),r=t.indexOf(")");if(e=+t.slice(i,n),o.Ltv(this).classed("sorters"))a=-ee+Ht+5;else if(o.Ltv(this).classed("headingtext")||o.Ltv(this).classed("pieheadings")){const t=o.Ltv(".headingtext").node().getBBox().height;a=(ee-(c.visualSettings.xaxis.showaxis?Ht+20:Ht)-t)/2}else a=+t.slice(n+1,r)}let i=0;if(o.Ltv(this).classed("newdisplayname")||o.Ltv(this).classed("stackdisplayname")||o.Ltv(this).classed("pieheadings")){const t=o.Ltv(this).node().getBBox().height,e=ee-(c.visualSettings.xaxis.showaxis?Ht+20:Ht)-t;o.Ltv(this).attr("y"),i=-e/2}o.Ltv(this).attr("transform",`translate (${e},${a+c.element.scrollTop+i}) scale(${[o.Ltv(this).classed("sorters")?.75:1]})`)})),o.Ubm(".boxes,.headingtext,.dragboxes,.boxes,.boxdrag").raise(),o.Ubm(".boxdrag,.vlinehid,.vlinevis").raise()},""!==c.visualSettings.general.wf&&0==L.length&&c.host.persistProperties({remove:[{objectName:"general",selector:void 0,properties:{wf:""}}]}),L.forEach(((t,e)=>{const a=tt.filter((e=>"waterfall"==e.name&&e.displayname==t))[0],i=tt.indexOf(a);if("number"==w.map((t=>t.waterfall[e]))[0].type){const n=t,s=c.metadata.filter((t=>t.displayName==n&&t.roles.hasOwnProperty("waterfall"))),l=c.getValue(s[0].objects,"waterfall","fill",c.visualSettings.waterfall.fill),u=c.getValue(s[0].objects,"waterfall","calculation",c.visualSettings.waterfall.calculation),h=c.getValue(s[0].objects,"waterfall","nfill",c.visualSettings.waterfall.nfill),d=c.getValue(s[0].objects,"waterfall","roundedbars",c.visualSettings.waterfall.roundedbars),f=c.getValue(s[0].objects,"waterfall","pillarfill",c.visualSettings.waterfall.pillarfill),g=c.getValue(s[0].objects,"waterfall","leadlinecolor",c.visualSettings.waterfall.leadlinecolor),m=c.getValue(s[0].objects,"waterfall","showlabels",c.visualSettings.waterfall.showlabels),p=c.getValue(s[0].objects,"waterfall","fontsize",c.visualSettings.waterfall.fontsize),b=c.getValue(s[0].objects,"waterfall","fontcolor",c.visualSettings.waterfall.fontcolor),v=c.getValue(s[0].objects,"waterfall","fontfamily",c.visualSettings.waterfall.fontfamily),y=c.getValue(s[0].objects,"waterfall","displayUnits",c.visualSettings.waterfall.displayUnits),x=c.getValue(s[0].objects,"waterfall","decimal",c.visualSettings.waterfall.decimal),S=(c.getValue(s[0].objects,"waterfall","startpadding",c.visualSettings.waterfall.startpadding),c.getValue(s[0].objects,"waterfall","endpadding",c.visualSettings.waterfall.endpadding),c.getValue(s[0].objects,"waterfall","width",c.visualSettings.waterfall.width)),_=c.getValue(s[0].objects,"waterfall","shadow",c.visualSettings.waterfall.shadow);let k;const A=null==c.visualSettings.general.wf||""==c.visualSettings.general.wf;function V(t){const a="0"==u?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.waterfall[e].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>t.Value)),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.waterfall[e].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>t.Value)),u)));return o.czq(a)}k=A?[]:JSON.parse(c.visualSettings.general.wf);const j=w.map(((t,a)=>({waterfall:{value:t.height>0?V(t):"0"==u?t.waterfall[e].Value.filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value:c.mycalculation(t.waterfall[e].Value.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>t.Value)),u),cum_value:0,cum_value1:0},MainCategory:t.MainCategory,selectionId:t.selectionId,index:e,type:0==k.length||-1==k.map((t=>t.cat)).indexOf(t.MainCategory)?0:k[k.map((t=>t.cat)).indexOf(t.MainCategory)].index,ispillar:null!=c.categorydata&&null!=c.categorydata[c.categorynames.map((t=>t.MainCategory)).indexOf(t.MainCategory)]&&c.categorydata[c.categorynames.map((t=>t.MainCategory)).indexOf(t.MainCategory)].waterfall.showed,order:a,level:t.level,uid:t.uid,parent:t.parent.uid})));for(let B=0;B<at;B++){const W=j.filter((t=>t.level==B));W.forEach(((t,e)=>{try{const a=W.filter(((t,a)=>{if(0==e)return 0==a;if(1==W[e-1].type)return a==e-1;if(2==W[e].type){const t=W.filter(((t,a)=>1==t.type&&a<e)).pop(),i=void 0!==t?W.map((t=>t.MainCategory)).indexOf(t.MainCategory):0;return a==Math.max(0,i)}{const t=W.filter(((t,a)=>1==t.type&&a<e)).pop(),i=void 0!==t?W.map((t=>t.MainCategory)).indexOf(t.MainCategory):0;return a<e&&a>=Math.max(0,i)}})),i=W.filter(((e,a)=>e.parent==t.parent&&e.order<t.order)),n=t.level>0?0==j.filter((e=>e.uid==t.parent))[0].order?0:j.filter((e=>e.uid==t.parent))[0].waterfall.cum_value:0,r=W.filter(((t,a)=>{if(0==e)return 0==a;if(1==W[e-1].type)return a==e-1||a==e;if(2==W[e].type){const t=W.filter(((t,a)=>1==t.type&&a<e)).pop(),i=void 0!==t?W.map((t=>t.MainCategory)).indexOf(t.MainCategory):0;return a==Math.max(0,i)||a==e}{const t=W.filter(((t,a)=>1==t.type&&a<=e)).pop(),i=void 0!==t?W.map((t=>t.MainCategory)).indexOf(t.MainCategory):0;return a<=e&&a>=Math.max(0,i)}}));W.filter(((e,a)=>e.parent==t.parent&&e.order<t.order)),t.level>0&&(0==j.filter((e=>e.uid==t.parent))[0].order||j.filter((e=>e.uid==t.parent))[0].waterfall.cum_value1),t.waterfall.cum_value=1==t.type?0:0==t.level?o.czq(a.map((t=>t.waterfall.value))):o.czq(i.map((t=>t.waterfall.value)))+n,t.waterfall.cum_value1=0==t.level?o.czq(r.map((t=>t.waterfall.value))):+t.waterfall.cum_value+t.waterfall.value}catch(t){console.log(t)}}))}const T=+o.T9B(j.map((t=>t.waterfall.cum_value1))),M=+o.jkA(j.map((t=>t.waterfall.cum_value1))),z=+o.T9B([0,T]),N=+o.jkA([0,M]),L=+o.Ltv("#vlineviz"+i).attr("x1"),D=+o.Ltv("#vlineviz"+(i+1)).attr("x1");dt=o.m4Y().domain([0,z-N]).range([0,D-L]);const C=o.m4Y().domain([N,z]).range([L,D]);ft=o.WH().domain(w.map((t=>t.MainCategory.toString()))).range([0,ct]).padding(S/100),xt=ft.step()-ft.bandwidth(),c.container.selectAll("waterfalls_line").data(j).enter().append("rect").attr("class","waterfall").attr("tag",String(t)).attr("id",((t,e)=>e)).attr("width",(t=>dt(Math.abs(t.waterfall.value)))).attr("height",ft.bandwidth()).attr("x",((t,e)=>{const a=1==t.type;return 0==e||a?C(0)+(t.waterfall.value>0?0:-dt(Math.abs(t.waterfall.value))):+C(t.waterfall.cum_value)+(t.waterfall.value>0?0:-dt(Math.abs(t.waterfall.value)))})).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2-ft.bandwidth()/2)).attr("rx",d?5:0).attr("ry",d?5:0).style("fill",(t=>1==t.type?"object"==typeof f?f.solid.color:f:t.waterfall.value>0?"object"==typeof l?l.solid.color:l:"object"==typeof h?h.solid.color:h)).style("filter",_?"url(#drop-shadow)":"").on("click",pe).on("mousemove",(function(t,e){o.Ltv(this).attr("stroke","black"),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataWaterfall(t)),(t=>t.selectionId))})).on("mouseout",(function(){o.Ltv(this).attr("stroke","none")}));const O=c.container.selectAll("waterfalls_line_container").data(j).enter().append("rect").attr("class","waterfall").attr("tag",String(t)).attr("id",((t,e)=>e)).attr("width",(t=>D-L)).attr("height",ct/w.length).attr("x",((t,e)=>L)).attr("y",((t,e)=>ct*e/w.length)).attr("fill","silver").attr("fill-opacity",0).attr("stroke","none").on("contextmenu",(function(t,e){const a=O.nodes().indexOf(this);if(0==e.level){o.Ubm(".tooltip_rect").remove();const i=c.container.append("g").attr("class","tooltip_rect"),n=150,r=(i.append("rect").attr("x",+L+(D-L)/2-n/2).attr("y",ct*+a/w.length).attr("height",60).attr("width",n).attr("fill","#f9f9f9").attr("stroke","silver"),i.selectAll("doesnmatter").data([0,1,2]).enter().append("circle").attr("class","checks").attr("tag",(t=>t)).attr("cx",+L+(D-L)/2-n/2+15).attr("cy",((t,e)=>ct*+a/w.length+20*e+10)).attr("r",6).style("fill",((t,a)=>0==k.length?0==a?"green":"red":a==k[k.map((t=>t.cat)).indexOf(e.MainCategory)].index?"green":"red")),i.selectAll("doesnmattertext").data(["Variance","Pillar","Sum of Var above"]).enter().append("text").attr("class","checks").attr("x",+L+(D-L)/2-n/2+25).attr("y",((t,e)=>ct*+a/w.length+20*e+12)).text((t=>t)).style("fill","red").style("dominant-baseline","middle").attr("font-size",14),i.selectAll("some_temp_rect").data([0,1,2]).enter().append("rect").attr("class","temp_rect").attr("x",+L+(D-L)/2-n/2).attr("y",(t=>ct*+a/w.length+20*t)).attr("height",20).attr("width",n).attr("fill","purple").attr("fill-opacity",0).attr("stroke","none").raise().on("mouseover",(function(t,e){o.Ubm(".temp_rect").attr("stroke","none"),o.Ltv(this).attr("stroke","black")})).on("click",(function(t,e){const a=r.nodes().indexOf(this);o.Ubm(".checks").style("fill","red"),s(a)})));function s(t){if(A)k=j.map((t=>({cat:t.MainCategory,index:0})));else{k=JSON.parse(c.visualSettings.general.wf);const a=k.map((t=>t.cat)).indexOf(e.MainCategory);k[a].index=t}const a=JSON.stringify(k);c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{wf:a}}]})}i.on("mouseleave",(function(){i.remove()}))}})).on("click",pe).on("mousemove",(function(t,e){c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataWaterfall(t)),(t=>t.selectionId))}));1==at&&c.container.selectAll("waterfalls_lead_lines").data(j.filter((t=>0==t.level))).enter().append("line").attr("class","bullets").attr("tag",String(t)).attr("id",((t,e)=>e)).attr("x1",((t,e)=>+C(t.waterfall.cum_value1))).attr("x2",((t,e)=>+C(t.waterfall.cum_value1))).attr("y1",((t,e)=>ct*(e+1)/w.length-ct/w.length/2+ft.bandwidth()/2)).attr("y2",((t,e)=>{const a=j.filter((t=>0==t.level)).filter(((t,a)=>a>e&&2==t.type)),i=1==t.type&&a.length>0?a[0].order+1:e+2;return ct*i/w.length-ct/w.length/2-ft.bandwidth()/2})).style("fill",(t=>t.waterfall.value>0?"object"==typeof l?l.solid.color:l:"red")).style("stroke","object"==typeof g?g.solid.color:g).style("stroke-width",((t,e)=>e==j.length-1||2==j[e+1].type?0:1)).style("stroke-dasharray","5,3"),c.container.append("line").attr("class","zb").attr("id","zb"+e).attr("x1",((t,e)=>C(0))).attr("x2",((t,e)=>C(0))).attr("y1",0).attr("y2",ct).style("stroke","object"==typeof g?g.solid.color:g).style("stroke-width",1);const U=[0,3,6,9,12];let F,P,E,I,R;E=o.T9B(j.map((t=>t.waterfall.value)).map((t=>Math.round(Math.abs(t)))).concat(w.map((t=>t.bar.target)).map((t=>Math.round(Math.abs(t)))))),"auto"==y?F=o.T9B(U.filter((t=>t<E.toString().split("").length))):"thousands"==y?F=3:"millions"==y?F=6:"billions"==y?F=9:"none"==y&&(F="0"),I=null==w.map((t=>t.waterfall[e])).map((t=>t.format))[0]?"":w.map((t=>t.waterfall[e])).map((t=>t.format))[0],""==I&&(I="0"),R=x,P=r.G2.create({format:I,value:+("1e"+String(F)),precision:R,allowFormatBeautification:!0}),c.waterfallformatter.push({format:P,index:e}),m&&c.container.selectAll("waterfalls_labels").data(j).enter().append("text").attr("class","bullets").attr("tag",String(t)).attr("id",((t,e)=>e)).attr("x",((t,e)=>+C(t.waterfall.cum_value1))).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).attr("fill","object"==typeof b?b.solid.color:b).attr("font-family",String(v)).attr("font-size",p).text((t=>P.format(t.waterfall.value))).attr("dominant-baseline","middle").attr("text-anchor",(t=>{const e={text:P.format(t.waterfall.value),fontFamily:String(v),fontSize:p+"px"},a=r.Tf.measureSvgTextWidth(e);return t.waterfall.value>=0?Math.abs(D-C(t.waterfall.cum_value1))>a+2?"start":"end":Math.abs(L-C(t.waterfall.cum_value1))>a+2?"end":"start"}))}})),C.forEach(((t,e)=>{const a=tt.filter((e=>"numbers"==e.name&&e.displayname==t))[0],i=tt.indexOf(a),n=t,s=c.metadata.filter((t=>t.displayName==n&&t.roles.hasOwnProperty("numbers"))),l=c.getValue(s[0].objects,"values","calculation",c.visualSettings.values.calculation),u=c.getValue(s[0].objects,"values","parentaggregation",c.visualSettings.values.parentaggregation),h=c.getValue(s[0].objects,"values","displayUnits",c.visualSettings.values.displayUnits),d=c.getValue(s[0].objects,"values","fill",c.visualSettings.values.fill),f=c.getValue(s[0].objects,"values","bfill",c.visualSettings.values.bfill),g=c.getValue(s[0].objects,"values","fontsize",c.visualSettings.values.fontsize),m=c.getValue(s[0].objects,"values","fontfamily",c.visualSettings.values.fontfamily),p=c.getValue(s[0].objects,"values","alignment",c.visualSettings.values.alignment),b=c.getValue(s[0].objects,"values","bold",c.visualSettings.values.bold),v=c.getValue(s[0].objects,"values","url",c.visualSettings.values.url),y=c.getValue(s[0].objects,"values","decimal",c.visualSettings.values.decimal);let x,S,_,k,A;const V=w.map((t=>t.values[e]))[0].type,j=w.map((t=>t.values[e]))[0].category;"number"==V&&(_=o.T9B([...new Set([].concat(...w.map((t=>t.values[e].Value.map((t=>t.Value))))))].map((t=>Math.round(Math.abs(+t))))),"auto"==h?x=o.T9B([0,3,6,9,12].filter((t=>t<_.toString().split("").length))):"thousands"==h?x=3:"millions"==h?x=6:"billions"==h?x=9:"none"==h&&(x=0),k=null==w.map((t=>t.values[e])).map((t=>t.format))[0]?"":w.map((t=>t.values[e])).map((t=>t.format))[0],""==k&&(k="0"),A=y,S=r.G2.create({format:k,value:+("1e"+String(x)),precision:A,allowFormatBeautification:!0}),c.valueformatter.push({format:S,index:e}));const T=ct/w.length,M=+o.Ltv("#vlineviz"+(+i+1)).attr("x1")-+o.Ltv("#vlineviz"+i).attr("x1"),z=M>T?(M-T)/2:0,N=M<T?(T-M)/2:0,L=Mt.map((t=>+t.split("|")[1])),D=1==i?L[0]/2:(L[i-1]+L[i-2])/2;function C(t){const a="0"==l?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.values[e].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>t.Value)),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.values[e].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>t.Value)),l))),i=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.values[e].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value,n="0"==u||"text"==V||"ImageUrl"==j?i:function(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+u-1]}(a);return n}const O=w.map((t=>({values:t.values[e].Value,measurevalue:t.values[e].Value.filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value,subtotals:0==t.height?"anything":C(t),MainCategory:t.MainCategory,selectionId:t.selectionId,index:e,height:t.height,category:t.values[e].category}))),U=c.container.selectAll("bground_values").data(O).enter().append("rect").attr("class","labels").attr("x",((t,e)=>+o.Ltv("#vlineviz"+i).attr("x1"))).attr("y",((t,e)=>+e*T)).attr("width",M).attr("height",T).attr("fill","none"==("object"==typeof f?f.solid.color:f)?"purple":"object"==typeof f?f.solid.color:f).attr("fill-opacity","none"==("object"==typeof f?f.solid.color:f)?0:1).attr("stroke","none").on("click",pe).on("mousemove",(function(t,a){U.nodes().indexOf(this),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataValues(t,e)),(t=>t.selectionId))}));if("ImageUrl"==j){function F(t){let e;try{e=new URL(t)}catch(t){return!1}return"http:"===e.protocol||"https:"===e.protocol}const P=c.container.selectAll("values"+e+1).data(O).enter().append("image").attr("tag",((t,e)=>e)).attr("class","labels").attr("id",((t,e)=>"image"+e)).attr("xlink:href",(function(t,e){const a=t.height>0?t.subtotals:t.measurevalue;return F(a)?"":a})).attr("x",((t,e)=>+o.Ltv("#vlineviz"+i).attr("x1")+z)).attr("height",o.jkA([T,M])).attr("width",o.jkA([T,M])).attr("y",((t,e)=>ct*e/w.length+N)).on("click",pe).on("mousemove",(function(t,a){P.nodes().indexOf(this),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataValues(t,e)),(t=>t.selectionId))}))}else if("text"==V||"ImageUrl"==j){const E={text:"1ZYabdfghijklmnopqrstxyAL",fontFamily:String(m),fontSize:g+"px"},I=r.Tf.measureSvgTextHeight(E),R=Math.floor(T/I),B=c.container.selectAll("valtext").data(O).enter().append("text").attr("class","labels").attr("tag",((t,e)=>t.values.map((t=>t.Value)).filter((t=>null!==t))[0])).classed("text",!0).attr("x",((t,e)=>"start"==p?+o.Ltv("#vlineviz"+i).attr("x1")+5:"middle"==p?+(+o.Ltv("#vlineviz"+i).attr("x1")+ +o.Ltv("#vlineviz"+(i+1)).attr("x1"))/2:+o.Ltv("#vlineviz"+(i+1)).attr("x1")-5)).attr("y",((t,e)=>+e*T+I/2)).text((t=>{if(v&&"WebUrl"==j)return"🔗";{const e={text:t.height>0?t.subtotals:"0"==l?t.measurevalue:t.values.map((t=>t.Value)).filter((t=>null!==t))[0],fontFamily:String(m),fontSize:g+"px"};return"ImageUrl"==j?0==t.height?t.measurevalue:t.subtotals:R>1?e.text:r.Tf.getTailoredTextOrDefault(e,M-3)}})).attr("font-size",g).attr("dominant-baseline","middle").attr("text-anchor",p).style("fill","object"==typeof d?d.solid.color:d).style("font-family",String(m)).style("font-weight",b?"bold":"normal").call(be,M-5,R,String(m),g).on("click",pe).on("mousemove",(function(t,a){B.nodes().indexOf(this),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataValues(t,e)),(t=>t.selectionId))}));B.each((function(){const t=o.Ltv(this).node().getBBox().height,e=T-t;o.Ltv(this).attr("y"),o.Ltv(this).attr("transform",`translate(0,${e/2})`)}))}else{const $=c.container.selectAll("values"+e+1).data(O).enter().append("text").attr("class","labels").attr("id",((t,e)=>e)).attr("tag",e+1).attr("x",((t,e)=>"reverse"==W?ot*(e+1)/(w.length+1)+ot/(w.length+1)/2:"end"==p?+o.Ltv("#vlineviz"+(i+1)).attr("x1")-8:"start"==p?+o.Ltv("#vlineviz"+i).attr("x1")+8:"middle"==p?+(+o.Ltv("#vlineviz"+i).attr("x1")+ +o.Ltv("#vlineviz"+(i+1)).attr("x1"))/2:void 0)).attr("y",((t,e)=>"reverse"==W?D:ct*(e+1)/w.length-ct/w.length/2)).text((t=>{const e={text:"number"==V?S.format(t.height>0?t.subtotals:"0"==l?t.measurevalue:c.mycalculation(t.values.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>t.Value)),l)):t.values.map((t=>t.Value)),fontFamily:m,fontSize:g+"px"};return r.Tf.getTailoredTextOrDefault(e,+o.Ltv("#box"+i).attr("width")-4)})).style("dominant-baseline","middle").attr("text-anchor",p).attr("text-decoration","WebUrl"==j?"underline":"none").attr("font-size",g).style("fill",(t=>"object"==typeof d?d.solid.color:d)).style("font-family",m).style("font-weight",b?"bold":"normal").attr("transform",((t,e)=>{if("reverse"==W)return"translate(0,0)"})).on("click",pe).on("mousemove",(function(t,a){$.nodes().indexOf(this),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataValues(t,e)),(t=>t.selectionId))}))}}));try{!function(){0==M.length?o.Ubm(".bubble_related").remove():o.Ubm(".bubble_related").filter((function(){return+o.Ltv(this).attr("tag")>=M.length})).remove();const t=c.container.append("defs");M.forEach(((e,a)=>{const i=tt.filter((t=>"bubble"==t.name&&t.displayname==e))[0],n=tt.indexOf(i),s=e,l=c.metadata.filter((t=>t.displayName==s&&t.roles.hasOwnProperty("bubble")));if("number"==w.map((t=>t.bubbles[a]))[0].type){const u=c.getValue(l[0].objects,"bubbles","fill",c.visualSettings.bubbles.fill),h=c.getValue(l[0].objects,"bubbles","calculation",c.visualSettings.bubbles.calculation),d=c.getValue(l[0].objects,"bubbles","parentaggregation",c.visualSettings.bubbles.parentaggregation),f=c.getValue(l[0].objects,"bubbles","nfill",c.visualSettings.bubbles.nfill),m=c.getValue(l[0].objects,"bubbles","lfill",c.visualSettings.bubbles.lfill),p=c.getValue(l[0].objects,"bubbles","showlabels",c.visualSettings.bubbles.showlabels),b=c.getValue(l[0].objects,"bubbles","fontsize",c.visualSettings.bubbles.fontsize),v=c.getValue(l[0].objects,"bubbles","fontfamily",c.visualSettings.bubbles.fontfamily),y=c.getValue(l[0].objects,"bubbles","displayUnits",c.visualSettings.bubbles.displayUnits),x=c.getValue(l[0].objects,"bubbles","decimal",c.visualSettings.bubbles.decimal),S=(c.getValue(l[0].objects,"bubbles","bfill",c.visualSettings.bubbles.fill),c.getValue(l[0].objects,"bubbles","shadow",c.visualSettings.bubbles.shadow)),_=c.getValue(l[0].objects,"bubbles","padding",c.visualSettings.bubbles.padding),k=Mt.map((t=>+t.split("|")[1])),A=1==n?k[0]/2:(k[n-1]+k[n-2])/2,V=t.append("radialGradient").attr("id",`grad${a}`).attr("cx","50%").attr("cy","50%").attr("r","50%").attr("fx","50%").attr("fy","50%");function j(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+d-1]}function T(t){const e="0"==h?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.bubbles[a].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>t.Value)),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.bubbles[a].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>t.Value)),h))),i=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.bubbles[a].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;return"0"==d?+i:j(e)}V.append("stop").attr("offset","0%").attr("stop-color","White"),V.append("stop").attr("offset","100%").attr("stop-color",String(u));const M=w.map((t=>({bubbles:{value:t.height>0?T(t):"0"==h?t.bubbles[a].Value.filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value:c.mycalculation(t.bubbles[a].Value.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>t.Value)),h)},MainCategory:t.MainCategory,selectionId:t.selectionId,index:a}))),z=c.visualSettings.globalyaxis.bubble?$t:o.T9B(M.map((t=>Math.abs(t.bubbles.value)))),N="reverse"==W?1==n?k[n-1]:k[n-1]-k[n-2]:ct/w.length,L="reverse"==W?ot/(w.length+1):+o.Ltv("#vlineviz"+(n+1)).attr("x1")-+o.Ltv("#vlineviz"+n).attr("x1"),D=1-2*_/100,C=+o.jkA([N/2,L/2])*D,O=o.m4Y().domain([0,Math.sqrt(z/Math.PI)]).range([0,C]),U=[0,3,6,9,12];let F,P,E,I,R;E=o.T9B([...new Set([].concat(...w.map((t=>t.bubbles[a].Value.map((t=>t.Value))))))].map((t=>Math.round(Math.abs(+t))))),"auto"==y?F=o.T9B(U.filter((t=>t<E.toString().split("").length))):"thousands"==y?F=3:"millions"==y?F=6:"billions"==y?F=9:"none"==y&&(F="0"),I=null==w.map((t=>t.bubbles[a])).map((t=>t.format))[0]?"":w.map((t=>t.bubbles[a])).map((t=>t.format))[0],""==I&&(I="0"),R=x,P=r.G2.create({format:I,value:+("1e"+String(F)),precision:R,allowFormatBeautification:!0}),c.bubbleformatter.push({format:P,index:a}),M.forEach(((t,e)=>{const a={text:P.format(t.bubbles.value),fontFamily:String(v),fontSize:+b+"px"},i=r.Tf.measureSvgTextWidth(a);t.radius=O(Math.sqrt(Math.abs(+t.bubbles.value)/Math.PI)),t.wordwidth=i}));const B=+o.Ltv("#vlineviz"+n).attr("x1")+(+o.Ltv("#vlineviz"+(+n+1)).attr("x1")-+o.Ltv("#vlineviz"+n).attr("x1"))/2;c.container.selectAll(".meray_bubbles"+a).data(M).join("circle").classed("meray_bubbles"+a,!0).classed("bubble_related",!0).attr("tag",a).attr("id",((t,e)=>e)).attr("r",(function(){return o.Ltv(this).attr("r")})).attr("cx",((t,e)=>"reverse"==W?ot*(e+1)/(w.length+1)+ot/(w.length+1)/2:+o.Ltv("#vlineviz"+n).attr("x1")+(+o.Ltv("#vlineviz"+(+n+1)).attr("x1")-+o.Ltv("#vlineviz"+n).attr("x1"))/2)).attr("cy",((t,e)=>"reverse"==W?A:ct*(e+1)/w.length-ct/w.length/2)).style("fill",(t=>t.bubbles.value>=0?"object"==typeof u?u.solid.color:u:"object"==typeof f?f.solid.color:f)).attr("r",((t,e)=>t.radius)).style("filter",S?"url(#drop-shadow)":""),c.container.selectAll(".meray_bubbles"+a).transition().duration(100*+c.visualSettings.margins.transition).attr("r",((t,e)=>t.radius)),c.container.selectAll(".meray_bubbles"+a).on("click",pe).on("mousemove",(function(t,e){c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataBubbles(t)),(t=>t.selectionId)),o.Ltv(this).attr("stroke","black"),o.Ltv(this).attr("fill-opacity",.6).transition().duration(100*+c.visualSettings.margins.transition).attr("fill-opacity",1)})).on("mouseout",(function(){o.Ltv(this).attr("stroke","none")})),p&&c.container.selectAll("bubblelabels").data(M).enter().append("text").attr("class","bullets").attr("tag",String(e)).attr("id",((t,e)=>"barlabel"+e)).attr("x",(function(t){const e=t.radius;return 2*e>t.wordwidth?B:L/2-e>t.wordwidth?B+t.radius+1:B})).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).text((t=>P.format(t.bubbles.value))).style("fill",(function(t){const e=t.radius,a="object"==typeof m?m.solid.color:m;return"dark"==g(t.bubbles.value>=0?"object"==typeof u?u.solid.color:u:"object"==typeof f?f.solid.color:f)&&2*e>t.wordwidth?"White":a})).style("dominant-baseline","middle").attr("font-size",b).attr("font-family",v).attr("text-anchor",(function(t){const e=t.radius;return 2*e>t.wordwidth?"middle":L/2-e>t.wordwidth?"start":"middle"})).on("click",pe).on("mousemove",(function(t,e){}))}}))}()}catch(t){console.log("")}try{z.forEach(((t,e)=>{const a=tt.filter((e=>"donut"==e.name&&e.displayname==t))[0],i=tt.indexOf(a),n=(+o.Ltv("#vlineviz"+i).attr("x1")+ +o.Ltv("#vlineviz"+(+i+1)).attr("x1"))/2;if("number"==w.map((t=>t.donuts[e]))[0].type){const r=Mt.map((t=>+t.split("|")[1])),s=1==i?r[0]:r[i-1],l="reverse"==W?1==i?r[i-1]:r[i-1]-r[i-2]:ct/w.length,u="reverse"==W?ot/(w.length+1):+o.Ltv("#vlineviz"+(i+1)).attr("x1")-+o.Ltv("#vlineviz"+i).attr("x1");function h(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+c.visualSettings.donuts.parentaggregation-1]}const d=c.visualSettings.donuts.calculation,f=c.visualSettings.donuts.parentaggregation;function g(t){const a="0"==d?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.donuts[e].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>t.Value)),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.donuts[e].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>t.Value)),d))),i=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.donuts[e].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;return"0"==f?+i:h(a)}const m=w.map((t=>({index:t.donuts[e].index,value:t.height>0?g(t):"0"==c.visualSettings.donuts.calculation?t.donuts[e].Value.filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value:c.mycalculation(t.donuts[e].Value.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>t.Value)),c.visualSettings.donuts.calculation),format:t.donuts[e].format}))),p=u,b=l;m.forEach(((t,a)=>{const r=10*t.value,l=10*+c.visualSettings.donuts.thickness,u=Math.min(p/2.05,.99*b),h={lower:g(0),upper:g(r)},d=o.JLW().innerRadius(u-l).outerRadius(u),f=.5*Math.PI;function g(t){return[t,10-t]}const v=o.rLf().value(((t,e)=>+t)).sort(null).startAngle(-1*f).endAngle(f);c.container.selectAll("whatever").data(v(h.upper)).enter().append("path").attr("class","donuts").attr("id",a).attr("d",((t,e)=>d(t))).attr("fill",((t,e)=>0==e?t.value>+c.visualSettings.donuts.target/10?c.visualSettings.donuts.fill1:c.visualSettings.donuts.fill2:c.visualSettings.donuts.bfill)).attr("transform",`translate(${"reverse"==W?ot*(a+1)/(w.length+1)+ot/(w.length+1)/2:n},${"reverse"==W?s:ct*(a+1)/w.length})`).on("mouseover",(function(){o.Ubm(".tiplines").remove(),o.Ltv(this).attr("stroke","black")})).on("mouseout",(function(){o.Ltv(this).attr("stroke","none")})),c.container.selectAll("donutlabels").data(m).enter().append("text").attr("class","labels").attr("id",((t,a)=>"values"+e+1)).attr("tag",e+1).attr("x",(()=>+(+o.Ltv("#vlineviz"+i).attr("x1")+ +o.Ltv("#vlineviz"+(i+1)).attr("x1"))/2)).attr("y",((t,e)=>"baseline"==c.visualSettings.donuts.alignment?ct*(e+1)/w.length-2:ct*(e+1)/w.length-ct/w.length/2)).text((t=>(100*+t.value).toFixed(c.visualSettings.donuts.decimal)+"%")).style("dominant-baseline","baseline"==c.visualSettings.donuts.alignment?"baseline":"hanging").attr("text-anchor","middle").attr("font-size",c.visualSettings.donuts.fontsize).style("fill",c.visualSettings.donuts.fontcolor).style("font-family",c.visualSettings.donuts.fontfamily)}))}}))}catch(t){console.log("")}try{N.forEach(((t,e)=>{const a=tt.filter((e=>"waffle"==e.name&&e.displayname==t))[0],i=tt.indexOf(a),n=t,r=c.metadata.filter((t=>t.displayName==n&&t.roles.hasOwnProperty("waffle")));if("number"==w.map((t=>t.waffle[e]))[0].type){const s=c.getValue(r[0].objects,"waffle","fill1",c.visualSettings.waffle.fill1),l=c.getValue(r[0].objects,"waffle","calculation",c.visualSettings.waffle.calculation),u=c.getValue(r[0].objects,"waffle","parentaggregation",c.visualSettings.waffle.parentaggregation),h=c.getValue(r[0].objects,"waffle","fill2",c.visualSettings.waffle.fill2),d=c.getValue(r[0].objects,"waffle","stroke",c.visualSettings.waffle.stroke),f=c.getValue(r[0].objects,"waffle","strokewidth",c.visualSettings.waffle.strokewidth),g=10*c.getValue(r[0].objects,"waffle","padding",c.visualSettings.waffle.padding),m=c.getValue(r[0].objects,"waffle","fontsize",c.visualSettings.waffle.fontsize),p=c.getValue(r[0].objects,"waffle","bold",c.visualSettings.waffle.bold),b=c.getValue(r[0].objects,"waffle","fontcolor",c.visualSettings.waffle.fontcolor),v=c.getValue(r[0].objects,"waffle","fontfamily",c.visualSettings.waffle.fontfamily),y=c.getValue(r[0].objects,"waffle","decimal",c.visualSettings.waffle.decimal),x=Mt.map((t=>+t.split("|")[1])),S=1==i?0:x[i-2],_="reverse"==W?1==i?x[i-1]:x[i-1]-x[i-2]:ct/w.length,k="reverse"==W?ot/(w.length+1):+o.Ltv("#vlineviz"+(i+1)).attr("x1")-+o.Ltv("#vlineviz"+i).attr("x1");function A(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+u-1]}function V(t){const a="0"==l?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.waffle[e].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>t.Value)),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.waffle[e].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>t.Value)),l))),i=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.waffle[e].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;return"0"==u?+i:A(a)}const j=w.map((t=>({waffle:{value:t.height>0?V(t):"0"==l?t.waffle[e].Value.filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value:c.mycalculation(t.waffle[e].Value.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>t.Value)),l)},MainCategory:t.MainCategory,selectionId:t.selectionId,index:e}))),T=k;Math.min(T,_),Math.abs(T-_),j.forEach(((t,e)=>{const a=100-100*t.waffle.value;c.container.selectAll("waffle").data(o.y17(100)).enter().append("rect").attr("class","waffles").attr("x",(t=>+("reverse"==W?ot*(e+1)/(w.length+1):+o.Ltv("#vlineviz"+i).attr("x1"))+Math.round(10*(t/10-Math.floor(t/10)))*(T-g)/10)).attr("y",((t,a)=>+("reverse"==W?S:_*e)+Math.floor(t/10)*(_-g)/10)).attr("width",(t=>(T-g)/10)).attr("height",(t=>(_-g)/10)).attr("fill",(t=>t>=a?"object"==typeof s?s.solid.color:s:"object"==typeof h?h.solid.color:h)).attr("stroke","object"==typeof d?d.solid.color:d).attr("stroke-width",f/10).attr("transform",`translate(${g/2},${g/2})`)})),c.container.selectAll("bubblelabels").data(j).enter().append("text").attr("class","bullets").attr("tag",String(t)).attr("id",((t,e)=>"barlabel"+e)).attr("x",(function(t){return+o.Ltv("#vlineviz"+i).attr("x1")+(+o.Ltv("#vlineviz"+(+i+1)).attr("x1")-+o.Ltv("#vlineviz"+i).attr("x1"))/2})).attr("y",((t,e)=>ct*(e+1)/w.length-ct/w.length/2)).text((t=>+(100*t.waffle.value).toFixed(y)+"%")).style("fill","object"==typeof b?b.solid.color:b).style("dominant-baseline","middle").attr("font-size",m).attr("font-family",v).attr("text-anchor",(function(t){return"middle"})).style("font-weight",p?"bold":"normal").on("click",pe)}}))}catch(t){console.log("")}try{O.forEach(((t,e)=>{const a=tt.filter((e=>"ratings"==e.name&&e.displayname==t))[0],i=tt.indexOf(a);if("number"==w.map((t=>t.ratings[e]))[0].type){const n=c.metadata.filter((e=>e.displayName==t&&e.roles.hasOwnProperty("ratings"))),r=c.getValue(n[0].objects,"ratings","fill1",c.visualSettings.ratings.fill1),s=c.getValue(n[0].objects,"ratings","calculation",c.visualSettings.ratings.calculation),l=c.getValue(n[0].objects,"ratings","parentaggregation",c.visualSettings.ratings.parentaggregation),u=c.getValue(n[0].objects,"ratings","type",c.visualSettings.ratings.type),h=c.getValue(n[0].objects,"ratings","fill2",c.visualSettings.ratings.fill2),d=c.getValue(n[0].objects,"ratings","stroke",c.visualSettings.ratings.stroke),f=c.getValue(n[0].objects,"ratings","strokewidth",c.visualSettings.ratings.strokewidth),g=(c.getValue(n[0].objects,"ratings","padding",c.visualSettings.ratings.padding),c.getValue(n[0].objects,"ratings","fontsize",c.visualSettings.ratings.fontsize),c.getValue(n[0].objects,"ratings","bold",c.visualSettings.ratings.bold),c.getValue(n[0].objects,"ratings","fontcolor",c.visualSettings.ratings.fontcolor),c.getValue(n[0].objects,"ratings","fontfamily",c.visualSettings.ratings.fontfamily),c.getValue(n[0].objects,"ratings","decimal",c.visualSettings.ratings.decimal)),m=c.getValue(n[0].objects,"ratings","stars",c.visualSettings.ratings.stars),p=c.getValue(n[0].objects,"ratings","color1",c.visualSettings.ratings.color1),b=c.getValue(n[0].objects,"ratings","color2",c.visualSettings.ratings.color2),v=c.getValue(n[0].objects,"ratings","color3",c.visualSettings.ratings.color3),y=c.getValue(n[0].objects,"ratings","color4",c.visualSettings.ratings.color4),x=c.getValue(n[0].objects,"ratings","color5",c.visualSettings.ratings.color5),S=c.getValue(n[0].objects,"ratings","text1",c.visualSettings.ratings.text1),_=c.getValue(n[0].objects,"ratings","text2",c.visualSettings.ratings.text2),k=c.getValue(n[0].objects,"ratings","text3",c.visualSettings.ratings.text3),A=c.getValue(n[0].objects,"ratings","text4",c.visualSettings.ratings.text4),V=c.getValue(n[0].objects,"ratings","text5",c.visualSettings.ratings.text5),j=+o.Ltv("#vlineviz"+(i+1)).attr("x1")-+o.Ltv("#vlineviz"+i).attr("x1");function T(t){return[o.i2o(t),o.czq(t),o.jkA(t),o.T9B(t),t.length][+l-1]}function M(t){const a="0"==s?t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.ratings[e].Value.filter((t=>""!==t.Value&&("subtotal"==t.Axis||null==t.Axis))).map((t=>t.Value)),"2"))):t.leaves().filter((t=>!t.data.hasOwnProperty("isSubtotal"))).map((t=>c.mycalculation(t.ratings[e].Value.filter((t=>X?""!==t.Value&&"subtotal"!==t.Axis:""!==t.Value&&null==t.Axis)).map((t=>t.Value)),s))),i=t.leaves().filter((t=>t.data.hasOwnProperty("isSubtotal"))).map((t=>t.ratings[e].Value))[0].filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value;return"0"==l?+i:T(a)}const z=w.map((t=>({ratings:{value:t.height>0?M(t):"0"==s?t.ratings[e].Value.filter((t=>X?"subtotal"==t.Axis:null==t.Axis))[0].Value:c.mycalculation(t.ratings[e].Value.filter((t=>""!==t.Value&&"subtotal"!==t.Axis)).map((t=>t.Value)),s)},MainCategory:t.MainCategory,selectionId:t.selectionId,index:e}))),N=+o.Ltv("#vlineviz"+(i+1)).attr("x1")-+o.Ltv("#vlineviz"+i).attr("x1"),L=(Math.min(N,ct/w.length),Math.abs(N-ct/w.length),Math.min(ct/w.length/2,N/m/2)),D=o.HRO().size(L*L),C=Math.abs(L-ct/w.length/2);c.container.selectAll("my_colors").data(z).enter().append("defs").attr("class","colordefs").append("linearGradient").attr("id",((t,e)=>"half"+e)).each((function(t,e){const a="object"==typeof r?r.solid.color:r,i="object"==typeof h?h.solid.color:h,n=z[e].ratings.value,s=n-Math.floor(n);o.Ltv(this).attr("id","half"+e),o.Ltv(this).append("stop").attr("offset",0).attr("stop-color",a),o.Ltv(this).append("stop").attr("offset",+s).attr("stop-color",a),o.Ltv(this).append("stop").attr("offset",+s).attr("stop-color",i),o.Ltv(this).append("stop").attr("offset",1).attr("stop-color",i)}));const O=c.container.append("defs").attr("class","smileydefs").append("linearGradient").attr("id",((t,e)=>"smileydef")).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",1);O.append("stop").attr("offset",0).attr("stop-color","silver").attr("stop-opacity",0),O.append("stop").attr("offset",1).attr("stop-color","white").attr("stop-opacity",1);const U=c.container.append("defs").attr("class","smileydefs_radial").append("radialGradient").attr("id",((t,e)=>"smileydef_radial")).attr("cx",.5).attr("cy",.5).attr("fx",.5).attr("fy",.5);if(U.append("stop").attr("offset",0).attr("class","radialcolors").classed("radial1",!1).attr("stop-color","white").attr("stop-opacity",0),U.append("stop").attr("offset",1).attr("class","radialcolors").attr("stop-color","#E1E0E4").classed("radial2",!1).attr("stop-opacity",1),"1"==u&&z.forEach(((t,e)=>{const a=t.ratings.value,n=t.MainCategory,s=t.selectionId,l=(Math.floor(a),o.y17(+m+1));l.shift();const u=l.map((t=>({stars:+t,value:a,MainCategory:n,selectionId:s})));c.container.selectAll("ratings").data(u).enter().append("path").attr("class","ratings").attr("d",(function(t){return D.type(o.N8r),D()})).attr("transform",(t=>`translate(${+o.Ltv("#vlineviz"+i).attr("x1")+(+t.stars-1)*L*2+L}, ${L+ct*e/w.length+C})`)).attr("fill",(t=>t.stars<=Math.floor(a)?"object"==typeof r?r.solid.color:r:t.stars==Math.floor(a)+1?"url(#half"+e+")":"object"==typeof h?h.solid.color:h)).attr("stroke","object"==typeof d?d.solid.color:d).attr("stroke-width",.25*f).on("click",pe).on("mousemove",(function(t,e){o.Ltv(this).attr("stroke","black"),c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataRatings(t)),(t=>t.selectionId))}))})),"2"==u){const F=["red","pink","orange","#a6f1a6","green"];z.forEach(((t,e)=>{const a=t.ratings.value,n=t.MainCategory,r=t.selectionId,s=(Math.floor(a),o.y17(+m+1));s.shift();const l=s.map((t=>({stars:+t,value:a,MainCategory:n,selectionId:r}))),u=Math.min(N/10,ct/z.length/3.5);c.container.selectAll("ratings").data(l).enter().append("circle").attr("class","ratings").attr("r",u).attr("cx",((t,e)=>0)).attr("cy",0).attr("transform",(t=>`translate(${+o.Ltv("#vlineviz"+i).attr("x1")+(+t.stars-1)*L*2+L}, ${L+ct*e/w.length+C})`)).attr("fill",((t,e)=>e==Math.floor(t.value)?F[e]:"url(#smileydef_radial)")).attr("stroke","object"==typeof d?d.solid.color:d).attr("stroke-width",.25*f).on("click",pe).on("mouseover",(function(){o.Ubm(".radialcolors").classed("radial1",!0),o.Ubm(".radialcolors").classed("radial2",!0)})).on("mouseout",(function(){o.Ubm(".radialcolors").classed("radial1",!1),o.Ubm(".radialcolors").classed("radial2",!1)})),c.container.selectAll("ratings_eyes_left").data(l).enter().append("circle").attr("class","ratings").attr("r",.1*Math.min(N/10,ct/z.length/2.5)).attr("cx",((t,e)=>0)).attr("cy",0).attr("transform",(t=>`translate(${+o.Ltv("#vlineviz"+i).attr("x1")+(+t.stars-1)*L*2+.75*L}, ${ct/w.length/2+ct*e/w.length-.25*u})`)).attr("fill",((t,e)=>"black")).attr("stroke","object"==typeof d?d.solid.color:d).attr("stroke-width",.25*f),c.container.selectAll("ratings_eyes_right").data(l).enter().append("circle").attr("class","ratings").attr("r",.1*Math.min(N/10,ct/z.length/2.5)).attr("cx",((t,e)=>0)).attr("cy",0).attr("transform",(t=>`translate(${+o.Ltv("#vlineviz"+i).attr("x1")+(+t.stars-1)*L*2+1.25*L}, ${ct/w.length/2+ct*e/w.length-.25*u})`)).attr("fill",((t,e)=>"black")).attr("stroke","object"==typeof d?d.solid.color:d).attr("stroke-width",.25*f);const h=["M-15,10 Q0,0 15,10","M-15,12 Q0,5 15,12","M-15,15 Q0,15 15,15","M-15,5 Q0,25 15,5","M-15,20 Q0,30 15,20"];c.container.selectAll("ratings_mouth").data(l).enter().append("path").attr("class","ratings").attr("d",((t,e)=>h[e])).attr("transform",((t,a)=>`translate(${+o.Ltv("#vlineviz"+i).attr("x1")+(+t.stars-1)*L*2+L}, ${ct/w.length/2+ct*e/w.length})`)).attr("fill",((t,e)=>"none")).attr("stroke","black").attr("stroke-width",.25*f),c.container.selectAll("ratings_line_text").data(l).enter().append("text").attr("class","ratings").attr("x",((t,e)=>0)).attr("y",((t,e)=>0)).text((t=>String(t.value))).attr("fill","black").style("dominant-baseline","auto").attr("text-anchor","middle").attr("transform",(t=>`translate(${+o.Ltv("#vlineviz"+i).attr("x1")+(+t.stars-1)*L*2+L}, ${L+ct*e/w.length+C-u-3})`))}))}if("3"==u){const P=[p,b,v,y,x],E=[S,_,k,A,V];z.forEach(((t,e)=>{const a=t.ratings.value,n=t.MainCategory,r=t.selectionId,s=(Math.floor(a),o.y17(+m+1));s.shift(),s.map((t=>({stars:+t,value:a,MainCategory:n,selectionId:r}))),c.container.selectAll("ratings").data([0,1,2,3,4]).enter().append("rect").attr("class","ratings").attr("width",j/5).attr("height",((t,e)=>ct/w.length*.3)).attr("x",((t,e)=>e*j/5)).attr("y",e*ct/w.length+ct/w.length/2-ct/w.length*.15).attr("transform",(t=>`translate(${+o.Ltv("#vlineviz"+i).attr("x1")}, 0)`)).attr("fill",((t,e)=>"object"==typeof P[e]?P[e].solid.color:P[e])).attr("fill-opacity",((t,e)=>1)).attr("stroke",((t,e)=>t<=a&&t>a-1?"black":"none")).attr("stroke-width",1).on("mouseover",(function(t,e){o.Ltv(this).attr("stroke","black")})).on("mouseout",(function(t,e){o.Ltv(this).attr("stroke",((t,e)=>t<=a&&+t>a-1?"black":"none"))}))})),c.container.selectAll("ratings_line").data(z).enter().append("line").attr("class","ratings").attr("x1",((t,e)=>+o.Ltv("#vlineviz"+i).attr("x1")+t.ratings.value*j/5)).attr("x2",((t,e)=>+o.Ltv("#vlineviz"+i).attr("x1")+t.ratings.value*j/5)).attr("y1",((t,e)=>e*(ct/w.length))).attr("y2",((t,e)=>(e+1)*(ct/w.length))).attr("stroke","black"),c.container.selectAll("ratings_line_text").data(z).enter().append("text").attr("class","ratings").attr("x",((t,e)=>+o.Ltv("#vlineviz"+i).attr("x1")+t.ratings.value*j/5+(4==Math.floor(t.ratings.value)?-3:3))).attr("y",((t,e)=>e*ct/w.length+ct/w.length/2-ct/w.length*.15-3)).text(((t,e)=>String(+t.ratings.value.toFixed(g))+" , "+E[Math.floor(t.ratings.value)])).attr("fill","black").style("dominant-baseline","auto").attr("text-anchor",((t,e)=>4==Math.floor(t.ratings.value)?"End":"start")).attr("font-size",12).attr("font-family",String("Cambria"))}}}))}catch(t){console.log("")}if("reverse"==W)!function(){const t=rt,e={text:"abcdefghijklmnopqrstxyAL",fontFamily:String(c.visualSettings.columnheaders.fontfamily),fontSize:+c.visualSettings.columnheaders.fontsize+"px"},a=r.Tf.measureSvgTextHeight(e),i=ee-(c.visualSettings.xaxis.showaxis?Ht+20:Ht);Math.max(Math.floor(i/a),2),c.container.selectAll(".headingtext_reverse").data(o.y17(t)).join("text").attr("tag",((t,e)=>{const a=e>0?Mt.filter((t=>t.startsWith(e)))[0]:"0|0";return+(+Mt.filter((t=>t.startsWith(e+1)))[0].split("|")[1]-+a.split("|")[1])})).attr("class","headingtext_reverse").attr("id",((t,e)=>e)).attr("y",((t,e)=>{const a=e>0?Mt.filter((t=>t.startsWith(e)))[0]:"0|0",i=Mt.filter((t=>t.startsWith(e+1)))[0];return""!==c.visualSettings.general.counter1?"start"==c.visualSettings.columnheaders.alignment?+a.split("|")[1]+2:"middle"==c.visualSettings.columnheaders.alignment?+(+a.split("|")[1]+ +i.split("|")[1])/2:+i.split("|")[1]-2:"start"==c.visualSettings.columnheaders.alignment?ot*e/rt:"middle"==c.visualSettings.columnheaders.alignment?ot*e/rt+ot/rt/2:ot*(e+1)/rt})).attr("x",Ht+0+50).classed("newdisplayname",((t,e)=>"newdisplayname"in tt[t])).classed("stackdisplayname",((t,e)=>"stackdisplayname"in tt[t])).text(((t,e)=>"newdisplayname"in tt[t]?tt[t].newdisplayname:"stackdisplayname"in tt[t]?tt[t].stackdisplayname:"dotplot"==tt[t].name?"":tt[t].displayname)).attr("text-anchor",c.visualSettings.columnheaders.alignment).attr("dominant-baseline","middle").attr("fill",((t,e)=>{if("reverse"==W)return c.visualSettings.columnheaders.fontcolor;{const t=c.columndata[e],a=c.columndata.filter((e=>e.name==t.name&&e.displayname==t.displayname)),i=a[0],n=c.metadata.filter((e=>e.displayName==i.displayname&&e.roles.hasOwnProperty(t.name)));let r;if(n[0].hasOwnProperty("objects")&&n[0].objects.hasOwnProperty("columnheaders")&&n[0].objects.columnheaders.hasOwnProperty("indcolorfont")){const t=n[0].objects.columnheaders.indcolorfont;r="object"==typeof t?t.solid.color:t}else r=c.visualSettings.columnheaders.fontcolor;return r}})).attr("font-size",c.visualSettings.columnheaders.fontsize).attr("font-family",String(c.visualSettings.columnheaders.fontfamily)).on("click",de).each((function(){const t=o.Ltv(this).node().getBBox().height,e=ee-(c.visualSettings.xaxis.showaxis?Ht+20:Ht)-t;o.Ltv(this).attr("y"),o.Ltv(this).attr("transform",`translate(0,${e/2})`)}))}();else try{!function(){performance.now(),c.plussign.selectAll(".pos").style("stroke","black"),c.negsign.selectAll(".pos").style("stroke","black");const t=tt.filter((t=>"MainCategory"==t.name))[0],e=tt.indexOf(t);let a;a="start"==c.visualSettings.category.alignment&&at>1?17:"start"==c.visualSettings.category.alignment&&1==at?5:0;const i=+o.Ltv("#box"+e).attr("width"),n={text:"abcdefghijklmnopqrstxyAL",fontFamily:String(c.visualSettings.category.fontfamily),fontSize:+c.visualSettings.category.fontsize+"px"},s=r.Tf.measureSvgTextHeight(n),l=+i-a;let u=+ct/w.length;const h=ct/w.length,d=i-12,f=d>h?(d-h)/2:0,g=d<h?(h-d)/2:0,m=Math.max(Math.floor(u/s),1);let p=w.map((t=>({MainCategory:t.MainCategory,selectionId:t.selectionId,level:t.level,order:t.order,order2:t.order2,nature:c.metadata.filter((e=>e.roles.hasOwnProperty("MainCategory")&&e.rolesIndex.MainCategory[0]==t.level))[0].type.category,nature2:c.metadata.filter((t=>t.roles.hasOwnProperty("MainCategory")))[0].rolesIndex.MainCategory[0]})));"reverse"==W&&(p=tt.map((t=>({MainCategory:t.displayname,selectionId:"",level:1,order:"",order2:""}))),u=+ct/tt.length),c.container.selectAll(".category2").data(p).join("rect").attr("class","category2").classed("categories",!0).attr("x",((t,a)=>+o.Ltv("#vlineviz"+e).attr("x1"))).attr("y",((t,e)=>+e*u)).attr("width",i).attr("height",u).attr("fill","none"==c.visualSettings.category.bfill?"purple":c.visualSettings.category.bfill).attr("fill-opacity","none"==c.visualSettings.category.bfill?0:1).attr("stroke","none").on("click",pe).on("mousemove",(function(t,e){c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataCategory(t,t.context)),(t=>t.selectionId))})),c.container.selectAll(".categoryimg").data(p).join("image").attr("class","categoryimg").classed("categories",!0).attr("x",((t,a)=>+o.Ltv("#vlineviz"+e).attr("x1")+12+f+ +t.level*c.visualSettings.category.childindent/4)).attr("y",((t,e)=>+e*u+g+ +t.level*c.visualSettings.category.childindent/4)).attr("height",(t=>o.jkA([h,d])-+t.level*c.visualSettings.category.childindent/2)).attr("width",(t=>o.jkA([h,d])-+t.level*c.visualSettings.category.childindent/2)).attr("xlink:href",(function(t,e){const a=t.MainCategory;return function(t){let e;try{e=new URL(t)}catch(t){return!1}return"http:"===e.protocol||"https:"===e.protocol}(a)||"ImageUrl"!==t.nature?"":a})).on("click",pe).on("mousemove",(function(t,e){c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataCategory(t,t.context)),(t=>t.selectionId))})),c.container.selectAll(".category").data(p).join("text").attr("class","category").classed("categories",!0).attr("x",((t,a)=>at>1?+o.Ltv("#vlineviz"+e).attr("x1")+5+12+ +t.level*c.visualSettings.category.childindent:"start"==c.visualSettings.category.alignment&&1==at?+o.Ltv("#vlineviz"+e).attr("x1")+5+ +t.level*c.visualSettings.category.childindent:"middle"==c.visualSettings.category.alignment?+(+o.Ltv("#vlineviz"+e).attr("x1")+ +o.Ltv("#vlineviz"+(e+1)).attr("x1"))/2:+o.Ltv("#vlineviz"+(e+1)).attr("x1")-5)).attr("y",((t,e)=>+e*u+ +u/2)).text((t=>{if(c.visualSettings.category.wrap&&m>1)return String(t.MainCategory).trim();{const e={text:String(t.MainCategory),fontFamily:String(c.visualSettings.category.fontfamily),fontSize:+c.visualSettings.category.fontsize+"px"};return"ImageUrl"==t.nature?"":r.Tf.getTailoredTextOrDefault(e,i-a-1-+t.level*c.visualSettings.category.childindent)}})).attr("font-size",c.visualSettings.category.fontsize).attr("dominant-baseline","middle").attr("text-anchor",at>1?"start":c.visualSettings.category.alignment).style("fill",c.visualSettings.category.fill).style("font-family",String(c.visualSettings.category.fontfamily)).style("font-weight",(t=>1==at&&c.visualSettings.category.bold?"bold":"normal")).on("click",pe).on("mousemove",(function(t,e){c.tooltipServiceWrapper.addTooltip(o.Ltv(this),(t=>c.getTooltipDataCategory(t,t.context)),(t=>t.selectionId))})),performance.now(),c.visualSettings.category.wrap&&m>1&&(c.container.selectAll(".category").call(be,l,m,String(c.visualSettings.category.fontfamily),c.visualSettings.category.fontsize),c.container.selectAll(".category").each((function(){const t=+o.Ltv(this).node().getBBox().height,e=(o.Ltv(this).attr("y"),+o.Ltv(this).attr("y")+-t/2+s/2);o.Ltv(this).selectAll("tspan").attr("y",e)}))),function(t){const e=+ct/w.length;c.plussign.attr("transform",(t=>`scale(${[1]})`)),c.negsign.attr("transform",(t=>`scale(${[1]})`)),c.container.selectAll(".makeplussign").data(w).join("use").attr("id",((t,e)=>"plus"+e)).attr("tag",((t,e)=>e)).attr("class","makeplussign").attr("xlink:href",(t=>t.hasChildren?_.includes(t.children[0].uid)?"#neg":"#plus":"#")).attr("x",((e,a)=>1+ +e.level*c.visualSettings.category.childindent+ +o.Ltv("#vlineviz"+t).attr("x1"))).attr("y",((t,a)=>+a*e+e/2-5)).on("click",(function(t,e){!function(t,e){e.uid;const a=_.indexOf(e.uid),i=null==a||-1==a?"none":_[a],n=_.includes(e.children[0].uid);if("none"==i)_.push(e.uid),e.children.forEach(((t,e)=>{_.push(t.uid)})),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{expandcollapse:JSON.stringify(_)}}]});else if(n){const t=e.descendants().slice(1).map((t=>t.uid));_=_.filter((e=>!t.includes(e))),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{expandcollapse:JSON.stringify(_)}}]})}else{const t=e.children.map((t=>t.uid));_.push(...t),c.host.persistProperties({merge:[{objectName:"general",selector:void 0,properties:{expandcollapse:JSON.stringify(_)}}]})}}(0,e)}))}(e),performance.now()}()}catch(t){console.log(t)}"Normal"==W&&me(),c.visualSettings.hidemovers.movecat||(c.bgcolor.scrollTop,c.bgcolor.scrollLeft,c.bgcolor.addEventListener("scroll",(()=>{xe()})),o.Ubm(".vlinehid,.vlinevis").raise()),xe(),c.container.append("line").attr("id","boxdrag").attr("class","boxdrag").attr("x1",0).attr("x2",ot).attr("y1",((t,e)=>c.visualSettings.xaxis.showaxis?-20:0)).attr("y2",((t,e)=>c.visualSettings.xaxis.showaxis?-20:0)).style("stroke","black").style("stroke-width",20).style("stroke-opacity",0).raise().on("mouseover",(function(){o.Ltv(this).style("cursor","row-resize").raise()})).call(se).raise(),o.Ubm(".vlinehid,.vlinevis").raise(),c.handleClick(),c.handleContextMenu(),e()})).then((()=>{c.events.renderingFinished(t)}))}catch(qe){console.log(qe)}function xe(){performance.now();const t=ct/w.length,e=c.bgcolor.scrollTop,a=Math.floor(e/t);e>0?(o.Ubm(".hline").style("display","inline"),o.Ubm(".hline").filter((function(){return+o.Ltv(this).attr("tag")<a})).style("display","none")):o.Ubm(".hline").style("display","inline"),performance.now();const i=B?0:c.bgcolor.scrollLeft;o.Ubm(".boxes,.dragboxes,.boxdrag").attr("transform",`translate(0,${c.bgcolor.scrollTop})`).raise();const n=o.Ltv("#headingtext0").node().getBBox().height,r=ee-(c.visualSettings.xaxis.showaxis?Ht+20:Ht)-n;o.Ubm(".headingtext").attr("transform",`translate(0,${r/2+c.bgcolor.scrollTop})`).raise(),o.Ubm(".xaxisboxes").attr("transform",`translate(0,${c.bgcolor.scrollTop})`).raise(),o.Ubm(".xaxis").attr("transform",`translate(0,${c.bgcolor.scrollTop})`).raise(),o.Ubm("#vlineviz1,#vlinehid1").attr("transform",`translate(${i},0)`).raise(),o.Ubm(".dragboxes,.boxes,.headingtext").raise(),o.Ubm(".vlinehid,.vlinevis").raise(),o.Ubm(".categories").attr("transform",`translate(${i},0)`).raise(),o.Ubm(".makeplussign,.hline").raise(),o.Ubm(".makeplussign").attr("transform",`translate(${i},0)`),o.Ubm("#box0,#dragboxr0,#dragboxl0").attr("transform",`translate(${i},${c.bgcolor.scrollTop})`).raise(),o.Ubm("#headingtext0").attr("transform",`translate(${i},${r/2+c.bgcolor.scrollTop})`).raise(),o.Ubm("#xaxisbox0").attr("transform",`translate(${i},${c.bgcolor.scrollTop})`).raise(),o.Ubm(".sorters").attr("transform",((t,e)=>`translate (${+o.Ltv("#box"+e).attr("width")+ +o.Ltv("#box"+e).attr("x")-22},${-ee+Ht+5+c.bgcolor.scrollTop}) scale(${[.75]})`)).raise(),o.Ubm(".boxdrag").raise(),performance.now()}performance.now(),o.Ubm(".boxdrag").raise()}}},2902:(t,e,a)=>{"use strict";function i(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}a.d(e,{A:()=>i})},2016:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>o});var i=a(2902),n=a(6037),r=a(3131);const s=(0,n.A)(i.A),l=s.right,o=(s.left,(0,n.A)(r.A).center,l)},6037:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(2902),n=a(1180);function r(t){let e,a,r;function l(t,i,n=0,r=t.length){if(n<r){if(0!==e(i,i))return r;do{const e=n+r>>>1;a(t[e],i)<0?n=e+1:r=e}while(n<r)}return n}return 2!==t.length?(e=i.A,a=(e,a)=>(0,i.A)(t(e),a),r=(e,a)=>t(e)-a):(e=t===i.A||t===n.A?t:s,a=t,r=t),{left:l,center:function(t,e,a=0,i=t.length){const n=l(t,e,a,i-1);return n>a&&r(t[n-1],e)>-r(t[n],e)?n-1:n},right:function(t,i,n=0,r=t.length){if(n<r){if(0!==e(i,i))return r;do{const e=n+r>>>1;a(t[e],i)<=0?n=e+1:r=e}while(n<r)}return n}}}function s(){return 0}},1180:(t,e,a)=>{"use strict";function i(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}a.d(e,{A:()=>i})},1388:(t,e,a)=>{"use strict";a.d(e,{T9:()=>i.A,cz:()=>l.A,i2:()=>n.A,jk:()=>r.A,y1:()=>s.A});var i=a(846),n=a(4375),r=a(9216),s=a(6561),l=a(1907)},846:(t,e,a)=>{"use strict";function i(t,e){let a;if(void 0===e)for(const e of t)null!=e&&(a<e||void 0===a&&e>=e)&&(a=e);else{let i=-1;for(let n of t)null!=(n=e(n,++i,t))&&(a<n||void 0===a&&n>=n)&&(a=n)}return a}a.d(e,{A:()=>i})},4375:(t,e,a)=>{"use strict";function i(t,e){let a=0,i=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++a,i+=e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(++a,i+=r)}if(a)return i/a}a.d(e,{A:()=>i})},9216:(t,e,a)=>{"use strict";function i(t,e){let a;if(void 0===e)for(const e of t)null!=e&&(a>e||void 0===a&&e>=e)&&(a=e);else{let i=-1;for(let n of t)null!=(n=e(n,++i,t))&&(a>n||void 0===a&&n>=n)&&(a=n)}return a}a.d(e,{A:()=>i})},3131:(t,e,a)=>{"use strict";function i(t){return null===t?NaN:+t}a.d(e,{A:()=>i})},6561:(t,e,a)=>{"use strict";function i(t,e,a){t=+t,e=+e,a=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+a;for(var i=-1,n=0|Math.max(0,Math.ceil((e-t)/a)),r=new Array(n);++i<n;)r[i]=t+i*a;return r}a.d(e,{A:()=>i})},1907:(t,e,a)=>{"use strict";function i(t,e){let a=0;if(void 0===e)for(let e of t)(e=+e)&&(a+=e);else{let i=-1;for(let n of t)(n=+e(n,++i,t))&&(a+=n)}return a}a.d(e,{A:()=>i})},6946:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>l,lq:()=>o,sG:()=>c});const i=Math.sqrt(50),n=Math.sqrt(10),r=Math.sqrt(2);function s(t,e,a){const l=(e-t)/Math.max(0,a),o=Math.floor(Math.log10(l)),c=l/Math.pow(10,o),u=c>=i?10:c>=n?5:c>=r?2:1;let h,d,f;return o<0?(f=Math.pow(10,-o)/u,h=Math.round(t*f),d=Math.round(e*f),h/f<t&&++h,d/f>e&&--d,f=-f):(f=Math.pow(10,o)*u,h=Math.round(t/f),d=Math.round(e/f),h*f<t&&++h,d*f>e&&--d),d<h&&.5<=a&&a<2?s(t,e,2*a):[h,d,f]}function l(t,e,a){if(!((a=+a)>0))return[];if((t=+t)==(e=+e))return[t];const i=e<t,[n,r,l]=i?s(e,t,a):s(t,e,a);if(!(r>=n))return[];const o=r-n+1,c=new Array(o);if(i)if(l<0)for(let t=0;t<o;++t)c[t]=(r-t)/-l;else for(let t=0;t<o;++t)c[t]=(r-t)*l;else if(l<0)for(let t=0;t<o;++t)c[t]=(n+t)/-l;else for(let t=0;t<o;++t)c[t]=(n+t)*l;return c}function o(t,e,a){return s(t=+t,e=+e,a=+a)[2]}function c(t,e,a){a=+a;const i=(e=+e)<(t=+t),n=i?o(e,t,a):o(t,e,a);return(i?-1:1)*(n<0?1/-n:n)}},5267:(t,e,a)=>{"use strict";a.d(e,{l7:()=>p,tl:()=>m});var i=a(2752),n=1,r=2,s=3,l=4,o=1e-6;function c(t){return"translate("+t+",0)"}function u(t){return"translate(0,"+t+")"}function h(t){return e=>+t(e)}function d(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),a=>+t(a)+e}function f(){return!this.__axis}function g(t,e){var a=[],g=null,m=null,p=6,b=6,v=3,y="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,x=t===n||t===l?-1:1,w=t===l||t===r?"x":"y",S=t===n||t===s?c:u;function _(c){var u=null==g?e.ticks?e.ticks.apply(e,a):e.domain():g,_=null==m?e.tickFormat?e.tickFormat.apply(e,a):i.A:m,k=Math.max(p,0)+v,A=e.range(),V=+A[0]+y,j=+A[A.length-1]+y,T=(e.bandwidth?d:h)(e.copy(),y),M=c.selection?c.selection():c,z=M.selectAll(".domain").data([null]),N=M.selectAll(".tick").data(u,e).order(),L=N.exit(),D=N.enter().append("g").attr("class","tick"),C=N.select("line"),O=N.select("text");z=z.merge(z.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(D),C=C.merge(D.append("line").attr("stroke","currentColor").attr(w+"2",x*p)),O=O.merge(D.append("text").attr("fill","currentColor").attr(w,x*k).attr("dy",t===n?"0em":t===s?"0.71em":"0.32em")),c!==M&&(z=z.transition(c),N=N.transition(c),C=C.transition(c),O=O.transition(c),L=L.transition(c).attr("opacity",o).attr("transform",(function(t){return isFinite(t=T(t))?S(t+y):this.getAttribute("transform")})),D.attr("opacity",o).attr("transform",(function(t){var e=this.parentNode.__axis;return S((e&&isFinite(e=e(t))?e:T(t))+y)}))),L.remove(),z.attr("d",t===l||t===r?b?"M"+x*b+","+V+"H"+y+"V"+j+"H"+x*b:"M"+y+","+V+"V"+j:b?"M"+V+","+x*b+"V"+y+"H"+j+"V"+x*b:"M"+V+","+y+"H"+j),N.attr("opacity",1).attr("transform",(function(t){return S(T(t)+y)})),C.attr(w+"2",x*p),O.attr(w,x*k).text(_),M.filter(f).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===r?"start":t===l?"end":"middle"),M.each((function(){this.__axis=T}))}return _.scale=function(t){return arguments.length?(e=t,_):e},_.ticks=function(){return a=Array.from(arguments),_},_.tickArguments=function(t){return arguments.length?(a=null==t?[]:Array.from(t),_):a.slice()},_.tickValues=function(t){return arguments.length?(g=null==t?null:Array.from(t),_):g&&g.slice()},_.tickFormat=function(t){return arguments.length?(m=t,_):m},_.tickSize=function(t){return arguments.length?(p=b=+t,_):p},_.tickSizeInner=function(t){return arguments.length?(p=+t,_):p},_.tickSizeOuter=function(t){return arguments.length?(b=+t,_):b},_.tickPadding=function(t){return arguments.length?(v=+t,_):v},_.offset=function(t){return arguments.length?(y=+t,_):y},_}function m(t){return g(n,t)}function p(t){return g(s,t)}},2752:(t,e,a)=>{"use strict";function i(t){return t}a.d(e,{A:()=>i})},312:(t,e,a)=>{"use strict";a.d(e,{l7:()=>i.l7,tl:()=>i.tl});var i=a(5267)},8965:(t,e,a)=>{"use strict";a(9902);const{abs:i,max:n,min:r}=Math;function s(t){return{type:t}}["w","e"].map(s),["n","s"].map(s),["n","w","e","s","nw","ne","sw","se"].map(s)},3537:(t,e,a)=>{"use strict";a(8965)},6957:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>x,Qh:()=>_});var i=a(871);function n(){}var r=.7,s=1/r,l="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,h=new RegExp(`^rgb\\(${l},${l},${l}\\)$`),d=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),f=new RegExp(`^rgba\\(${l},${l},${l},${o}\\)$`),g=new RegExp(`^rgba\\(${c},${c},${c},${o}\\)$`),m=new RegExp(`^hsl\\(${o},${c},${c}\\)$`),p=new RegExp(`^hsla\\(${o},${c},${c},${o}\\)$`),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function x(t){var e,a;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?(a=e[1].length,e=parseInt(e[1],16),6===a?w(e):3===a?new k(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===a?S(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===a?S(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=h.exec(t))?new k(e[1],e[2],e[3],1):(e=d.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=f.exec(t))?S(e[1],e[2],e[3],e[4]):(e=g.exec(t))?S(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=m.exec(t))?z(e[1],e[2]/100,e[3]/100,1):(e=p.exec(t))?z(e[1],e[2]/100,e[3]/100,e[4]):b.hasOwnProperty(t)?w(b[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function w(t){return new k(t>>16&255,t>>8&255,255&t,1)}function S(t,e,a,i){return i<=0&&(t=e=a=NaN),new k(t,e,a,i)}function _(t,e,a,i){return 1===arguments.length?((r=t)instanceof n||(r=x(r)),r?new k((r=r.rgb()).r,r.g,r.b,r.opacity):new k):new k(t,e,a,null==i?1:i);var r}function k(t,e,a,i){this.r=+t,this.g=+e,this.b=+a,this.opacity=+i}function A(){return`#${M(this.r)}${M(this.g)}${M(this.b)}`}function V(){const t=j(this.opacity);return`${1===t?"rgb(":"rgba("}${T(this.r)}, ${T(this.g)}, ${T(this.b)}${1===t?")":`, ${t})`}`}function j(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function T(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function M(t){return((t=T(t))<16?"0":"")+t.toString(16)}function z(t,e,a,i){return i<=0?t=e=a=NaN:a<=0||a>=1?t=e=NaN:e<=0&&(t=NaN),new L(t,e,a,i)}function N(t){if(t instanceof L)return new L(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=x(t)),!t)return new L;if(t instanceof L)return t;var e=(t=t.rgb()).r/255,a=t.g/255,i=t.b/255,r=Math.min(e,a,i),s=Math.max(e,a,i),l=NaN,o=s-r,c=(s+r)/2;return o?(l=e===s?(a-i)/o+6*(a<i):a===s?(i-e)/o+2:(e-a)/o+4,o/=c<.5?s+r:2-s-r,l*=60):o=c>0&&c<1?0:l,new L(l,o,c,t.opacity)}function L(t,e,a,i){this.h=+t,this.s=+e,this.l=+a,this.opacity=+i}function D(t){return(t=(t||0)%360)<0?t+360:t}function C(t){return Math.max(0,Math.min(1,t||0))}function O(t,e,a){return 255*(t<60?e+(a-e)*t/60:t<180?a:t<240?e+(a-e)*(240-t)/60:e)}(0,i.A)(n,x,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return N(this).formatHsl()},formatRgb:y,toString:y}),(0,i.A)(k,_,(0,i.X)(n,{brighter(t){return t=null==t?s:Math.pow(s,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?r:Math.pow(r,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new k(T(this.r),T(this.g),T(this.b),j(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatHex8:function(){return`#${M(this.r)}${M(this.g)}${M(this.b)}${M(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:V,toString:V})),(0,i.A)(L,(function(t,e,a,i){return 1===arguments.length?N(t):new L(t,e,a,null==i?1:i)}),(0,i.X)(n,{brighter(t){return t=null==t?s:Math.pow(s,t),new L(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?r:Math.pow(r,t),new L(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,i=a+(a<.5?a:1-a)*e,n=2*a-i;return new k(O(t>=240?t-240:t+120,n,i),O(t,n,i),O(t<120?t+240:t-120,n,i),this.opacity)},clamp(){return new L(D(this.h),C(this.s),C(this.l),j(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=j(this.opacity);return`${1===t?"hsl(":"hsla("}${D(this.h)}, ${100*C(this.s)}%, ${100*C(this.l)}%${1===t?")":`, ${t})`}`}}))},871:(t,e,a)=>{"use strict";function i(t,e,a){t.prototype=e.prototype=a,a.constructor=t}function n(t,e){var a=Object.create(t.prototype);for(var i in e)a[i]=e[i];return a}a.d(e,{A:()=>i,X:()=>n})},2090:(t,e,a)=>{"use strict";a.d(e,{Qh:()=>i.Qh});var i=a(6957)},1089:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var i={value:()=>{}};function n(){for(var t,e=0,a=arguments.length,i={};e<a;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new r(i)}function r(t){this._=t}function s(t,e){for(var a,i=0,n=t.length;i<n;++i)if((a=t[i]).name===e)return a.value}function l(t,e,a){for(var n=0,r=t.length;n<r;++n)if(t[n].name===e){t[n]=i,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=a&&t.push({name:e,value:a}),t}r.prototype=n.prototype={constructor:r,on:function(t,e){var a,i,n=this._,r=(i=n,(t+"").trim().split(/^|\s+/).map((function(t){var e="",a=t.indexOf(".");if(a>=0&&(e=t.slice(a+1),t=t.slice(0,a)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,c=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<c;)if(a=(t=r[o]).type)n[a]=l(n[a],t.name,e);else if(null==e)for(a in n)n[a]=l(n[a],t.name,null);return this}for(;++o<c;)if((a=(t=r[o]).type)&&(a=s(n[a],t.name)))return a},copy:function(){var t={},e=this._;for(var a in e)t[a]=e[a].slice();return new r(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var a,i,n=new Array(a),r=0;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,a=(i=this._[t]).length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,a){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],n=0,r=i.length;n<r;++n)i[n].value.apply(e,a)}};const o=n},7175:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const i=t=>()=>t},3313:(t,e,a)=>{"use strict";a.d(e,{A:()=>g});var i=a(1089),n=a(183),r=a(5970),s=a(9274),l=a(5226),o=a(7175),c=a(1411);function u(t){return!t.ctrlKey&&!t.button}function h(){return this.parentNode}function d(t,e){return null==e?{x:t.x,y:t.y}:e}function f(){return navigator.maxTouchPoints||"ontouchstart"in this}function g(){var t,e,a,g,m=u,p=h,b=d,v=f,y={},x=(0,i.A)("start","drag","end"),w=0,S=0;function _(t){t.on("mousedown.drag",k).filter(v).on("touchstart.drag",j).on("touchmove.drag",T,l.vr).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(i,r){if(!g&&m.call(this,i,r)){var o=z(this,p.call(this,i,r),i,r,"mouse");o&&((0,n.A)(i.view).on("mousemove.drag",A,l.Rw).on("mouseup.drag",V,l.Rw),(0,s.A)(i.view),(0,l.GK)(i),a=!1,t=i.clientX,e=i.clientY,o("start",i))}}function A(i){if((0,l.Ay)(i),!a){var n=i.clientX-t,r=i.clientY-e;a=n*n+r*r>S}y.mouse("drag",i)}function V(t){(0,n.A)(t.view).on("mousemove.drag mouseup.drag",null),(0,s.y)(t.view,a),(0,l.Ay)(t),y.mouse("end",t)}function j(t,e){if(m.call(this,t,e)){var a,i,n=t.changedTouches,r=p.call(this,t,e),s=n.length;for(a=0;a<s;++a)(i=z(this,r,t,e,n[a].identifier,n[a]))&&((0,l.GK)(t),i("start",t,n[a]))}}function T(t){var e,a,i=t.changedTouches,n=i.length;for(e=0;e<n;++e)(a=y[i[e].identifier])&&((0,l.Ay)(t),a("drag",t,i[e]))}function M(t){var e,a,i=t.changedTouches,n=i.length;for(g&&clearTimeout(g),g=setTimeout((function(){g=null}),500),e=0;e<n;++e)(a=y[i[e].identifier])&&((0,l.GK)(t),a("end",t,i[e]))}function z(t,e,a,i,n,s){var l,o,u,h=x.copy(),d=(0,r.A)(s||a,e);if(null!=(u=b.call(t,new c.A("beforestart",{sourceEvent:a,target:_,identifier:n,active:w,x:d[0],y:d[1],dx:0,dy:0,dispatch:h}),i)))return l=u.x-d[0]||0,o=u.y-d[1]||0,function a(s,f,g){var m,p=d;switch(s){case"start":y[n]=a,m=w++;break;case"end":delete y[n],--w;case"drag":d=(0,r.A)(g||f,e),m=w}h.call(s,t,new c.A(s,{sourceEvent:f,subject:u,target:_,identifier:n,active:m,x:d[0]+l,y:d[1]+o,dx:d[0]-p[0],dy:d[1]-p[1],dispatch:h}),i)}}return _.filter=function(t){return arguments.length?(m="function"==typeof t?t:(0,o.A)(!!t),_):m},_.container=function(t){return arguments.length?(p="function"==typeof t?t:(0,o.A)(t),_):p},_.subject=function(t){return arguments.length?(b="function"==typeof t?t:(0,o.A)(t),_):b},_.touchable=function(t){return arguments.length?(v="function"==typeof t?t:(0,o.A)(!!t),_):v},_.on=function(){var t=x.on.apply(x,arguments);return t===x?_:t},_.clickDistance=function(t){return arguments.length?(S=(t=+t)*t,_):Math.sqrt(S)},_}},1411:(t,e,a)=>{"use strict";function i(t,{sourceEvent:e,subject:a,target:i,identifier:n,active:r,x:s,y:l,dx:o,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:o,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}a.d(e,{A:()=>i}),i.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},4527:(t,e,a)=>{"use strict";a.d(e,{$E:()=>i.A});var i=a(3313)},9274:(t,e,a)=>{"use strict";a.d(e,{A:()=>r,y:()=>s});var i=a(183),n=a(5226);function r(t){var e=t.document.documentElement,a=(0,i.A)(t).on("dragstart.drag",n.Ay,n.Rw);"onselectstart"in e?a.on("selectstart.drag",n.Ay,n.Rw):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function s(t,e){var a=t.document.documentElement,r=(0,i.A)(t).on("dragstart.drag",null);e&&(r.on("click.drag",n.Ay,n.Rw),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in a?r.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}},5226:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>s,GK:()=>r,Rw:()=>n,vr:()=>i});const i={passive:!1},n={capture:!0,passive:!1};function r(t){t.stopImmediatePropagation()}function s(t){t.preventDefault(),t.stopImmediatePropagation()}},2101:(t,e,a)=>{"use strict";function i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}a.d(e,{wq:()=>i})},3608:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var i=a(2479),n=a(24),r=a(8480);function s(t){return t.x+t.vx}function l(t){return t.y+t.vy}function o(t){var e,a,o,c=1,u=1;function h(){for(var t,n,h,f,g,m,p,b=e.length,v=0;v<u;++v)for(n=(0,i.A)(e,s,l).visitAfter(d),t=0;t<b;++t)h=e[t],m=a[h.index],p=m*m,f=h.x+h.vx,g=h.y+h.vy,n.visit(y);function y(t,e,a,i,n){var s=t.data,l=t.r,u=m+l;if(!s)return e>f+u||i<f-u||a>g+u||n<g-u;if(s.index>h.index){var d=f-s.x-s.vx,b=g-s.y-s.vy,v=d*d+b*b;v<u*u&&(0===d&&(v+=(d=(0,r.A)(o))*d),0===b&&(v+=(b=(0,r.A)(o))*b),v=(u-(v=Math.sqrt(v)))/v*c,h.vx+=(d*=v)*(u=(l*=l)/(p+l)),h.vy+=(b*=v)*u,s.vx-=d*(u=1-u),s.vy-=b*u)}}}function d(t){if(t.data)return t.r=a[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function f(){if(e){var i,n,r=e.length;for(a=new Array(r),i=0;i<r;++i)n=e[i],a[n.index]=+t(n,i,e)}}return"function"!=typeof t&&(t=(0,n.A)(null==t?1:+t)),h.initialize=function(t,a){e=t,o=a,f()},h.iterations=function(t){return arguments.length?(u=+t,h):u},h.strength=function(t){return arguments.length?(c=+t,h):c},h.radius=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.A)(+e),f(),h):t},h}},24:(t,e,a)=>{"use strict";function i(t){return function(){return t}}a.d(e,{A:()=>i})},4310:(t,e,a)=>{"use strict";a.d(e,{KS:()=>r.A,TS:()=>s.A,eR:()=>i.A,tX:()=>n.A});var i=a(3608),n=a(1955),r=a(9390),s=a(2349)},8480:(t,e,a)=>{"use strict";function i(t){return 1e-6*(t()-.5)}a.d(e,{A:()=>i})},4856:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});const i=1664525,n=1013904223,r=4294967296;function s(){let t=1;return()=>(t=(i*t+n)%r)/r}},1955:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var i=a(1089),n=a(29),r=a(4856),s=10,l=Math.PI*(3-Math.sqrt(5));function o(t){var e,a=1,o=.001,c=1-Math.pow(o,1/300),u=0,h=.6,d=new Map,f=(0,n.O1)(p),g=(0,i.A)("tick","end"),m=(0,r.A)();function p(){b(),g.call("tick",e),a<o&&(f.stop(),g.call("end",e))}function b(i){var n,r,s=t.length;void 0===i&&(i=1);for(var l=0;l<i;++l)for(a+=(u-a)*c,d.forEach((function(t){t(a)})),n=0;n<s;++n)null==(r=t[n]).fx?r.x+=r.vx*=h:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=h:(r.y=r.fy,r.vy=0);return e}function v(){for(var e,a=0,i=t.length;a<i;++a){if((e=t[a]).index=a,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var n=s*Math.sqrt(.5+a),r=a*l;e.x=n*Math.cos(r),e.y=n*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function y(e){return e.initialize&&e.initialize(t,m),e}return null==t&&(t=[]),v(),e={tick:b,restart:function(){return f.restart(p),e},stop:function(){return f.stop(),e},nodes:function(a){return arguments.length?(t=a,v(),d.forEach(y),e):t},alpha:function(t){return arguments.length?(a=+t,e):a},alphaMin:function(t){return arguments.length?(o=+t,e):o},alphaDecay:function(t){return arguments.length?(c=+t,e):+c},alphaTarget:function(t){return arguments.length?(u=+t,e):u},velocityDecay:function(t){return arguments.length?(h=1-t,e):1-h},randomSource:function(t){return arguments.length?(m=t,d.forEach(y),e):m},force:function(t,a){return arguments.length>1?(null==a?d.delete(t):d.set(t,y(a)),e):d.get(t)},find:function(e,a,i){var n,r,s,l,o,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(s=(n=e-(l=t[c]).x)*n+(r=a-l.y)*r)<i&&(o=l,i=s);return o},on:function(t,a){return arguments.length>1?(g.on(t,a),e):g.on(t)}}}},9390:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(24);function n(t){var e,a,n,r=(0,i.A)(.1);function s(t){for(var i,r=0,s=e.length;r<s;++r)(i=e[r]).vx+=(n[r]-i.x)*a[r]*t}function l(){if(e){var i,s=e.length;for(a=new Array(s),n=new Array(s),i=0;i<s;++i)a[i]=isNaN(n[i]=+t(e[i],i,e))?0:+r(e[i],i,e)}}return"function"!=typeof t&&(t=(0,i.A)(null==t?0:+t)),s.initialize=function(t){e=t,l()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:(0,i.A)(+t),l(),s):r},s.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.A)(+e),l(),s):t},s}},2349:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(24);function n(t){var e,a,n,r=(0,i.A)(.1);function s(t){for(var i,r=0,s=e.length;r<s;++r)(i=e[r]).vy+=(n[r]-i.y)*a[r]*t}function l(){if(e){var i,s=e.length;for(a=new Array(s),n=new Array(s),i=0;i<s;++i)a[i]=isNaN(n[i]=+t(e[i],i,e))?0:+r(e[i],i,e)}}return"function"!=typeof t&&(t=(0,i.A)(null==t?0:+t)),s.initialize=function(t){e=t,l()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:(0,i.A)(+t),l(),s):r},s.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.A)(+e),l(),s):t},s}},8701:(t,e,a)=>{"use strict";var i,n,r,s;a.d(e,{GP:()=>n,s:()=>r}),s={thousands:",",grouping:[3],currency:["$",""]},i=(0,a(6410).A)(s),n=i.format,r=i.formatPrefix},2473:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(5204);function n(t){return(t=(0,i.f)(Math.abs(t)))?t[1]:NaN}},5204:(t,e,a)=>{"use strict";function i(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function n(t,e){if((a=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var a,i=t.slice(0,a);return[i.length>1?i[0]+i.slice(2):i,+t.slice(a+1)]}a.d(e,{A:()=>i,f:()=>n})},7168:(t,e,a)=>{"use strict";function i(t,e){return function(a,i){for(var n=a.length,r=[],s=0,l=t[0],o=0;n>0&&l>0&&(o+l+1>i&&(l=Math.max(1,i-o)),r.push(a.substring(n-=l,n+l)),!((o+=l+1)>i));)l=t[s=(s+1)%t.length];return r.reverse().join(e)}}a.d(e,{A:()=>i})},1728:(t,e,a)=>{"use strict";function i(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}a.d(e,{A:()=>i})},3520:(t,e,a)=>{"use strict";a.d(e,{A:()=>r,u:()=>i});var i,n=a(5204);function r(t,e){var a=(0,n.f)(t,e);if(!a)return t+"";var r=a[0],s=a[1],l=s-(i=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,o=r.length;return l===o?r:l>o?r+new Array(l-o+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+(0,n.f)(t,Math.max(0,e+l-1))[0]}},3554:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(5204);function n(t,e){var a=(0,i.f)(t,e);if(!a)return t+"";var n=a[0],r=a[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}},1631:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n(t){if(!(e=i.exec(t)))throw new Error("invalid format: "+t);var e;return new r({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function r(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}n.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},6715:(t,e,a)=>{"use strict";function i(t){t:for(var e,a=t.length,i=1,n=-1;i<a;++i)switch(t[i]){case".":n=e=i;break;case"0":0===n&&(n=i),e=i;break;default:if(!+t[i])break t;n>0&&(n=0)}return n>0?t.slice(0,n)+t.slice(e+1):t}a.d(e,{A:()=>i})},1866:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(5204),n=a(3520),r=a(3554);const s={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:i.A,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>(0,r.A)(100*t,e),r:r.A,s:n.A,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)}},9986:(t,e,a)=>{"use strict";function i(t){return t}a.d(e,{A:()=>i})},6410:(t,e,a)=>{"use strict";a.d(e,{A:()=>f});var i=a(2473),n=a(7168),r=a(1728),s=a(1631),l=a(6715),o=a(1866),c=a(3520),u=a(9986),h=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f(t){var e=void 0===t.grouping||void 0===t.thousands?u.A:(0,n.A)(h.call(t.grouping,Number),t.thousands+""),a=void 0===t.currency?"":t.currency[0]+"",f=void 0===t.currency?"":t.currency[1]+"",g=void 0===t.decimal?".":t.decimal+"",m=void 0===t.numerals?u.A:(0,r.A)(h.call(t.numerals,String)),p=void 0===t.percent?"%":t.percent+"",b=void 0===t.minus?"−":t.minus+"",v=void 0===t.nan?"NaN":t.nan+"";function y(t){var i=(t=(0,s.A)(t)).fill,n=t.align,r=t.sign,u=t.symbol,h=t.zero,y=t.width,x=t.comma,w=t.precision,S=t.trim,_=t.type;"n"===_?(x=!0,_="g"):o.A[_]||(void 0===w&&(w=12),S=!0,_="g"),(h||"0"===i&&"="===n)&&(h=!0,i="0",n="=");var k="$"===u?a:"#"===u&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A="$"===u?f:/[%p]/.test(_)?p:"",V=o.A[_],j=/[defgprs%]/.test(_);function T(t){var a,s,o,u=k,f=A;if("c"===_)f=V(t)+f,t="";else{var p=(t=+t)<0||1/t<0;if(t=isNaN(t)?v:V(Math.abs(t),w),S&&(t=(0,l.A)(t)),p&&0==+t&&"+"!==r&&(p=!1),u=(p?"("===r?r:b:"-"===r||"("===r?"":r)+u,f=("s"===_?d[8+c.u/3]:"")+f+(p&&"("===r?")":""),j)for(a=-1,s=t.length;++a<s;)if(48>(o=t.charCodeAt(a))||o>57){f=(46===o?g+t.slice(a+1):t.slice(a))+f,t=t.slice(0,a);break}}x&&!h&&(t=e(t,1/0));var T=u.length+t.length+f.length,M=T<y?new Array(y-T+1).join(i):"";switch(x&&h&&(t=e(M+t,M.length?y-f.length:1/0),M=""),n){case"<":t=u+t+f+M;break;case"=":t=u+M+t+f;break;case"^":t=M.slice(0,T=M.length>>1)+u+t+f+M.slice(T);break;default:t=M+u+t+f}return m(t)}return w=void 0===w?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),T.toString=function(){return t+""},T}return{format:y,formatPrefix:function(t,e){var a=y(((t=(0,s.A)(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor((0,i.A)(e)/3))),r=Math.pow(10,-n),l=d[8+n/3];return function(t){return a(r*t)+l}}}}},1734:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(2473);function n(t){return Math.max(0,-(0,i.A)(Math.abs(t)))}},7590:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(2473);function n(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,i.A)(e)/3)))-(0,i.A)(Math.abs(t)))}},9460:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(2473);function n(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,(0,i.A)(e)-(0,i.A)(t))+1}},4044:(t,e,a)=>{"use strict";function i(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}a.d(e,{A:()=>i})},7489:(t,e,a)=>{"use strict";function i(t){var e=0,a=t.children,i=a&&a.length;if(i)for(;--i>=0;)e+=a[i].value;else e=1;t.value=e}function n(){return this.eachAfter(i)}a.d(e,{A:()=>n})},3242:(t,e,a)=>{"use strict";function i(){return Array.from(this)}a.d(e,{A:()=>i})},4705:(t,e,a)=>{"use strict";function i(t,e){let a=-1;for(const i of this)t.call(e,i,++a,this);return this}a.d(e,{A:()=>i})},7235:(t,e,a)=>{"use strict";function i(t,e){for(var a,i,n,r=this,s=[r],l=[],o=-1;r=s.pop();)if(l.push(r),a=r.children)for(i=0,n=a.length;i<n;++i)s.push(a[i]);for(;r=l.pop();)t.call(e,r,++o,this);return this}a.d(e,{A:()=>i})},9514:(t,e,a)=>{"use strict";function i(t,e){for(var a,i,n=this,r=[n],s=-1;n=r.pop();)if(t.call(e,n,++s,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}a.d(e,{A:()=>i})},827:(t,e,a)=>{"use strict";function i(t,e){let a=-1;for(const i of this)if(t.call(e,i,++a,this))return i}a.d(e,{A:()=>i})},9070:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>p});var i=a(7489),n=a(4705),r=a(9514),s=a(7235),l=a(827),o=a(8429),c=a(8604),u=a(9495),h=a(4044),d=a(3242),f=a(4632),g=a(7023),m=a(1774);function p(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=v)):void 0===e&&(e=b);for(var a,i,n,r,s,l=new w(t),o=[l];a=o.pop();)if((n=e(a.data))&&(s=(n=Array.from(n)).length))for(a.children=n,r=s-1;r>=0;--r)o.push(i=n[r]=new w(n[r])),i.parent=a,i.depth=a.depth+1;return l.eachBefore(x)}function b(t){return t.children}function v(t){return Array.isArray(t)?t[1]:null}function y(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function x(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function w(t){this.data=t,this.depth=this.height=0,this.parent=null}w.prototype=p.prototype={constructor:w,count:i.A,each:n.A,eachAfter:s.A,eachBefore:r.A,find:l.A,sum:o.A,sort:c.A,path:u.A,ancestors:h.A,descendants:d.A,leaves:f.A,links:g.A,copy:function(){return p(this).eachBefore(y)},[Symbol.iterator]:m.A}},1774:(t,e,a)=>{"use strict";function*i(){var t,e,a,i,n=this,r=[n];do{for(t=r.reverse(),r=[];n=t.pop();)if(yield n,e=n.children)for(a=0,i=e.length;a<i;++a)r.push(e[a])}while(r.length)}a.d(e,{A:()=>i})},4632:(t,e,a)=>{"use strict";function i(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}a.d(e,{A:()=>i})},7023:(t,e,a)=>{"use strict";function i(){var t=this,e=[];return t.each((function(a){a!==t&&e.push({source:a.parent,target:a})})),e}a.d(e,{A:()=>i})},9495:(t,e,a)=>{"use strict";function i(t){for(var e=this,a=function(t,e){if(t===e)return t;var a=t.ancestors(),i=e.ancestors(),n=null;for(t=a.pop(),e=i.pop();t===e;)n=t,t=a.pop(),e=i.pop();return n}(e,t),i=[e];e!==a;)e=e.parent,i.push(e);for(var n=i.length;t!==a;)i.splice(n,0,t),t=t.parent;return i}a.d(e,{A:()=>i})},8604:(t,e,a)=>{"use strict";function i(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}a.d(e,{A:()=>i})},8429:(t,e,a)=>{"use strict";function i(t){return this.eachAfter((function(e){for(var a=+t(e.data)||0,i=e.children,n=i&&i.length;--n>=0;)a+=i[n].value;e.value=a}))}a.d(e,{A:()=>i})},7750:(t,e,a)=>{"use strict";a.d(e,{Sk:()=>i.Ay});var i=a(9070)},8079:(t,e,a)=>{"use strict";a.d(e,{$:()=>n});var i=a(8503);function n(t,e){var a,n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),l=new Array(n);for(a=0;a<r;++a)s[a]=(0,i.A)(t[a],e[a]);for(;a<n;++a)l[a]=e[a];return function(t){for(a=0;a<r;++a)l[a]=s[a](t);return l}}},6160:(t,e,a)=>{"use strict";function i(t,e,a,i,n){var r=t*t,s=r*t;return((1-3*t+3*r-s)*e+(4-6*r+3*s)*a+(1+3*t+3*r-3*s)*i+s*n)/6}function n(t){var e=t.length-1;return function(a){var n=a<=0?a=0:a>=1?(a=1,e-1):Math.floor(a*e),r=t[n],s=t[n+1],l=n>0?t[n-1]:2*r-s,o=n<e-1?t[n+2]:2*s-r;return i((a-n/e)*e,l,r,s,o)}}a.d(e,{A:()=>n,H:()=>i})},9804:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(6160);function n(t){var e=t.length;return function(a){var n=Math.floor(((a%=1)<0?++a:a)*e),r=t[(n+e-1)%e],s=t[n%e],l=t[(n+1)%e],o=t[(n+2)%e];return(0,i.H)((a-n/e)*e,r,s,l,o)}}},4709:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>r,uN:()=>n});var i=a(735);function n(t){return 1==(t=+t)?r:function(e,a){return a-e?function(t,e,a){return t=Math.pow(t,a),e=Math.pow(e,a)-t,a=1/a,function(i){return Math.pow(t+i*e,a)}}(e,a,t):(0,i.A)(isNaN(e)?a:e)}}function r(t,e){var a=e-t;return a?function(t,e){return function(a){return t+a*e}}(t,a):(0,i.A)(isNaN(t)?e:t)}},735:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const i=t=>()=>t},8172:(t,e,a)=>{"use strict";function i(t,e){var a=new Date;return t=+t,e=+e,function(i){return a.setTime(t*(1-i)+e*i),a}}a.d(e,{A:()=>i})},8981:(t,e,a)=>{"use strict";function i(t,e){return t=+t,e=+e,function(a){return t*(1-a)+e*a}}a.d(e,{A:()=>i})},128:(t,e,a)=>{"use strict";function i(t,e){e||(e=[]);var a,i=t?Math.min(e.length,t.length):0,n=e.slice();return function(r){for(a=0;a<i;++a)n[a]=t[a]*(1-r)+e[a]*r;return n}}function n(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}a.d(e,{A:()=>i,p:()=>n})},4287:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(8503);function n(t,e){var a,n={},r={};for(a in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)a in t?n[a]=(0,i.A)(t[a],e[a]):r[a]=e[a];return function(t){for(a in n)r[a]=n[a](t);return r}}},1197:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>l});var i=a(6957),n=a(6160),r=a(9804),s=a(4709);const l=function t(e){var a=(0,s.uN)(e);function n(t,e){var n=a((t=(0,i.Qh)(t)).r,(e=(0,i.Qh)(e)).r),r=a(t.g,e.g),l=a(t.b,e.b),o=(0,s.Ay)(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=l(e),t.opacity=o(e),t+""}}return n.gamma=t,n}(1);function o(t){return function(e){var a,n,r=e.length,s=new Array(r),l=new Array(r),o=new Array(r);for(a=0;a<r;++a)n=(0,i.Qh)(e[a]),s[a]=n.r||0,l[a]=n.g||0,o[a]=n.b||0;return s=t(s),l=t(l),o=t(o),n.opacity=1,function(t){return n.r=s(t),n.g=l(t),n.b=o(t),n+""}}}o(n.A),o(r.A)},9770:(t,e,a)=>{"use strict";function i(t,e){return t=+t,e=+e,function(a){return Math.round(t*(1-a)+e*a)}}a.d(e,{A:()=>i})},7737:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(8981),n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(n.source,"g");function s(t,e){var a,s,l,o=n.lastIndex=r.lastIndex=0,c=-1,u=[],h=[];for(t+="",e+="";(a=n.exec(t))&&(s=r.exec(e));)(l=s.index)>o&&(l=e.slice(o,l),u[c]?u[c]+=l:u[++c]=l),(a=a[0])===(s=s[0])?u[c]?u[c]+=s:u[++c]=s:(u[++c]=null,h.push({i:c,x:(0,i.A)(a,s)})),o=r.lastIndex;return o<e.length&&(l=e.slice(o),u[c]?u[c]+=l:u[++c]=l),u.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var a,i=0;i<e;++i)u[(a=h[i]).i]=a.x(t);return u.join("")})}},1852:(t,e,a)=>{"use strict";a.d(e,{A:()=>r,D:()=>n});var i=180/Math.PI,n={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function r(t,e,a,n,r,s){var l,o,c;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(c=t*a+e*n)&&(a-=t*c,n-=e*c),(o=Math.sqrt(a*a+n*n))&&(a/=o,n/=o,c/=o),t*n<e*a&&(t=-t,e=-e,c=-c,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*i,skewX:Math.atan(c)*i,scaleX:l,scaleY:o}}},1957:(t,e,a)=>{"use strict";a.d(e,{I:()=>l,T:()=>s});var i=a(8981),n=a(1226);function r(t,e,a,n){function r(t){return t.length?t.pop()+" ":""}return function(s,l){var o=[],c=[];return s=t(s),l=t(l),function(t,n,r,s,l,o){if(t!==r||n!==s){var c=l.push("translate(",null,e,null,a);o.push({i:c-4,x:(0,i.A)(t,r)},{i:c-2,x:(0,i.A)(n,s)})}else(r||s)&&l.push("translate("+r+e+s+a)}(s.translateX,s.translateY,l.translateX,l.translateY,o,c),function(t,e,a,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:a.push(r(a)+"rotate(",null,n)-2,x:(0,i.A)(t,e)})):e&&a.push(r(a)+"rotate("+e+n)}(s.rotate,l.rotate,o,c),function(t,e,a,s){t!==e?s.push({i:a.push(r(a)+"skewX(",null,n)-2,x:(0,i.A)(t,e)}):e&&a.push(r(a)+"skewX("+e+n)}(s.skewX,l.skewX,o,c),function(t,e,a,n,s,l){if(t!==a||e!==n){var o=s.push(r(s)+"scale(",null,",",null,")");l.push({i:o-4,x:(0,i.A)(t,a)},{i:o-2,x:(0,i.A)(e,n)})}else 1===a&&1===n||s.push(r(s)+"scale("+a+","+n+")")}(s.scaleX,s.scaleY,l.scaleX,l.scaleY,o,c),s=l=null,function(t){for(var e,a=-1,i=c.length;++a<i;)o[(e=c[a]).i]=e.x(t);return o.join("")}}}var s=r(n.P,"px, ","px)","deg)"),l=r(n.i,", ",")",")")},1226:(t,e,a)=>{"use strict";a.d(e,{P:()=>r,i:()=>s});var i,n=a(1852);function r(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?n.D:(0,n.A)(e.a,e.b,e.c,e.d,e.e,e.f)}function s(t){return null==t?n.D:(i||(i=document.createElementNS("http://www.w3.org/2000/svg","g")),i.setAttribute("transform",t),(t=i.transform.baseVal.consolidate())?(t=t.matrix,(0,n.A)(t.a,t.b,t.c,t.d,t.e,t.f)):n.D)}},8503:(t,e,a)=>{"use strict";a.d(e,{A:()=>d});var i=a(6957),n=a(1197),r=a(8079),s=a(8172),l=a(8981),o=a(4287),c=a(7737),u=a(735),h=a(128);function d(t,e){var a,d=typeof e;return null==e||"boolean"===d?(0,u.A)(e):("number"===d?l.A:"string"===d?(a=(0,i.Ay)(e))?(e=a,n.Ay):c.A:e instanceof i.Ay?n.Ay:e instanceof Date?s.A:(0,h.p)(e)?h.A:Array.isArray(e)?r.$:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?o.A:l.A)(t,e)}},5835:(t,e,a)=>{"use strict";function i(t){return((t=Math.exp(t))+1/t)/2}a.d(e,{A:()=>n});const n=function t(e,a,n){function r(t,r){var s,l,o=t[0],c=t[1],u=t[2],h=r[0],d=r[1],f=r[2],g=h-o,m=d-c,p=g*g+m*m;if(p<1e-12)l=Math.log(f/u)/e,s=function(t){return[o+t*g,c+t*m,u*Math.exp(e*t*l)]};else{var b=Math.sqrt(p),v=(f*f-u*u+n*p)/(2*u*a*b),y=(f*f-u*u-n*p)/(2*f*a*b),x=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);l=(w-x)/e,s=function(t){var n,r=t*l,s=i(x),h=u/(a*b)*(s*(n=e*r+x,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(x));return[o+h*g,c+h*m,u*s/i(e*r+x)]}}return s.duration=1e3*l*e/Math.SQRT2,s}return r.rho=function(e){var a=Math.max(.001,+e),i=a*a;return t(a,i,i*i)},r}(Math.SQRT2,2,4)},4083:(t,e,a)=>{"use strict";a.d(e,{wA:()=>o});const i=Math.PI,n=2*i,r=1e-6,s=n-r;function l(t){this._+=t[0];for(let e=1,a=t.length;e<a;++e)this._+=arguments[e]+t[e]}class o{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?l:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return l;const a=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*a)/a+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,a,i){this._append`Q${+t},${+e},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(t,e,a,i,n,r){this._append`C${+t},${+e},${+a},${+i},${this._x1=+n},${this._y1=+r}`}arcTo(t,e,a,n,s){if(t=+t,e=+e,a=+a,n=+n,(s=+s)<0)throw new Error(`negative radius: ${s}`);let l=this._x1,o=this._y1,c=a-t,u=n-e,h=l-t,d=o-e,f=h*h+d*d;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>r)if(Math.abs(d*c-u*h)>r&&s){let g=a-l,m=n-o,p=c*c+u*u,b=g*g+m*m,v=Math.sqrt(p),y=Math.sqrt(f),x=s*Math.tan((i-Math.acos((p+f-b)/(2*v*y)))/2),w=x/y,S=x/v;Math.abs(w-1)>r&&this._append`L${t+w*h},${e+w*d}`,this._append`A${s},${s},0,0,${+(d*g>h*m)},${this._x1=t+S*c},${this._y1=e+S*u}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,a,l,o,c){if(t=+t,e=+e,c=!!c,(a=+a)<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(l),h=a*Math.sin(l),d=t+u,f=e+h,g=1^c,m=c?l-o:o-l;null===this._x1?this._append`M${d},${f}`:(Math.abs(this._x1-d)>r||Math.abs(this._y1-f)>r)&&this._append`L${d},${f}`,a&&(m<0&&(m=m%n+n),m>s?this._append`A${a},${a},0,1,${g},${t-u},${e-h}A${a},${a},0,1,${g},${this._x1=d},${this._y1=f}`:m>r&&this._append`A${a},${a},0,${+(m>=i)},${g},${this._x1=t+a*Math.cos(o)},${this._y1=e+a*Math.sin(o)}`)}rect(t,e,a,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}},6277:(t,e,a)=>{"use strict";function i(t){const e=+this._x.call(null,t),a=+this._y.call(null,t);return n(this.cover(e,a),e,a,t)}function n(t,e,a,i){if(isNaN(e)||isNaN(a))return t;var n,r,s,l,o,c,u,h,d,f=t._root,g={data:i},m=t._x0,p=t._y0,b=t._x1,v=t._y1;if(!f)return t._root=g,t;for(;f.length;)if((c=e>=(r=(m+b)/2))?m=r:b=r,(u=a>=(s=(p+v)/2))?p=s:v=s,n=f,!(f=f[h=u<<1|c]))return n[h]=g,t;if(l=+t._x.call(null,f.data),o=+t._y.call(null,f.data),e===l&&a===o)return g.next=f,n?n[h]=g:t._root=g,t;do{n=n?n[h]=new Array(4):t._root=new Array(4),(c=e>=(r=(m+b)/2))?m=r:b=r,(u=a>=(s=(p+v)/2))?p=s:v=s}while((h=u<<1|c)==(d=(o>=s)<<1|l>=r));return n[d]=f,n[h]=g,t}function r(t){var e,a,i,r,s=t.length,l=new Array(s),o=new Array(s),c=1/0,u=1/0,h=-1/0,d=-1/0;for(a=0;a<s;++a)isNaN(i=+this._x.call(null,e=t[a]))||isNaN(r=+this._y.call(null,e))||(l[a]=i,o[a]=r,i<c&&(c=i),i>h&&(h=i),r<u&&(u=r),r>d&&(d=r));if(c>h||u>d)return this;for(this.cover(c,u).cover(h,d),a=0;a<s;++a)n(this,l[a],o[a],t[a]);return this}a.d(e,{A:()=>i,R:()=>r})},2017:(t,e,a)=>{"use strict";function i(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var a=this._x0,i=this._y0,n=this._x1,r=this._y1;if(isNaN(a))n=(a=Math.floor(t))+1,r=(i=Math.floor(e))+1;else{for(var s,l,o=n-a||1,c=this._root;a>t||t>=n||i>e||e>=r;)switch(l=(e<i)<<1|t<a,(s=new Array(4))[l]=c,c=s,o*=2,l){case 0:n=a+o,r=i+o;break;case 1:a=n-o,r=i+o;break;case 2:n=a+o,i=r-o;break;case 3:a=n-o,i=r-o}this._root&&this._root.length&&(this._root=c)}return this._x0=a,this._y0=i,this._x1=n,this._y1=r,this}a.d(e,{A:()=>i})},3892:(t,e,a)=>{"use strict";function i(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}a.d(e,{A:()=>i})},2980:(t,e,a)=>{"use strict";function i(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}a.d(e,{A:()=>i})},1539:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(975);function n(t,e,a){var n,r,s,l,o,c,u,h=this._x0,d=this._y0,f=this._x1,g=this._y1,m=[],p=this._root;for(p&&m.push(new i.A(p,h,d,f,g)),null==a?a=1/0:(h=t-a,d=e-a,f=t+a,g=e+a,a*=a);c=m.pop();)if(!(!(p=c.node)||(r=c.x0)>f||(s=c.y0)>g||(l=c.x1)<h||(o=c.y1)<d))if(p.length){var b=(r+l)/2,v=(s+o)/2;m.push(new i.A(p[3],b,v,l,o),new i.A(p[2],r,v,b,o),new i.A(p[1],b,s,l,v),new i.A(p[0],r,s,b,v)),(u=(e>=v)<<1|t>=b)&&(c=m[m.length-1],m[m.length-1]=m[m.length-1-u],m[m.length-1-u]=c)}else{var y=t-+this._x.call(null,p.data),x=e-+this._y.call(null,p.data),w=y*y+x*x;if(w<a){var S=Math.sqrt(a=w);h=t-S,d=e-S,f=t+S,g=e+S,n=p.data}}return n}},975:(t,e,a)=>{"use strict";function i(t,e,a,i,n){this.node=t,this.x0=e,this.y0=a,this.x1=i,this.y1=n}a.d(e,{A:()=>i})},2479:(t,e,a)=>{"use strict";a.d(e,{A:()=>m});var i=a(6277),n=a(2017),r=a(3892),s=a(2980),l=a(1539),o=a(9616),c=a(9232),u=a(3977),h=a(2621),d=a(3759),f=a(1086),g=a(5437);function m(t,e,a){var i=new p(null==e?f.U:e,null==a?g.$:a,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function p(t,e,a,i,n,r){this._x=t,this._y=e,this._x0=a,this._y0=i,this._x1=n,this._y1=r,this._root=void 0}function b(t){for(var e={data:t.data},a=e;t=t.next;)a=a.next={data:t.data};return e}var v=m.prototype=p.prototype;v.copy=function(){var t,e,a=new p(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return a;if(!i.length)return a._root=b(i),a;for(t=[{source:i,target:a._root=new Array(4)}];i=t.pop();)for(var n=0;n<4;++n)(e=i.source[n])&&(e.length?t.push({source:e,target:i.target[n]=new Array(4)}):i.target[n]=b(e));return a},v.add=i.A,v.addAll=i.R,v.cover=n.A,v.data=r.A,v.extent=s.A,v.find=l.A,v.remove=o.A,v.removeAll=o.C,v.root=c.A,v.size=u.A,v.visit=h.A,v.visitAfter=d.A,v.x=f.A,v.y=g.A},9616:(t,e,a)=>{"use strict";function i(t){if(isNaN(r=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,a,i,n,r,s,l,o,c,u,h,d,f=this._root,g=this._x0,m=this._y0,p=this._x1,b=this._y1;if(!f)return this;if(f.length)for(;;){if((c=r>=(l=(g+p)/2))?g=l:p=l,(u=s>=(o=(m+b)/2))?m=o:b=o,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(a=e,d=h)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(n=f.next)&&delete f.next,i?(n?i.next=n:delete i.next,this):e?(n?e[h]=n:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(a?a[d]=f:this._root=f),this):(this._root=n,this)}function n(t){for(var e=0,a=t.length;e<a;++e)this.remove(t[e]);return this}a.d(e,{A:()=>i,C:()=>n})},9232:(t,e,a)=>{"use strict";function i(){return this._root}a.d(e,{A:()=>i})},3977:(t,e,a)=>{"use strict";function i(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}a.d(e,{A:()=>i})},2621:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(975);function n(t){var e,a,n,r,s,l,o=[],c=this._root;for(c&&o.push(new i.A(c,this._x0,this._y0,this._x1,this._y1));e=o.pop();)if(!t(c=e.node,n=e.x0,r=e.y0,s=e.x1,l=e.y1)&&c.length){var u=(n+s)/2,h=(r+l)/2;(a=c[3])&&o.push(new i.A(a,u,h,s,l)),(a=c[2])&&o.push(new i.A(a,n,h,u,l)),(a=c[1])&&o.push(new i.A(a,u,r,s,h)),(a=c[0])&&o.push(new i.A(a,n,r,u,h))}return this}},3759:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(975);function n(t){var e,a=[],n=[];for(this._root&&a.push(new i.A(this._root,this._x0,this._y0,this._x1,this._y1));e=a.pop();){var r=e.node;if(r.length){var s,l=e.x0,o=e.y0,c=e.x1,u=e.y1,h=(l+c)/2,d=(o+u)/2;(s=r[0])&&a.push(new i.A(s,l,o,h,d)),(s=r[1])&&a.push(new i.A(s,h,o,c,d)),(s=r[2])&&a.push(new i.A(s,l,d,h,u)),(s=r[3])&&a.push(new i.A(s,h,d,c,u))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}},1086:(t,e,a)=>{"use strict";function i(t){return t[0]}function n(t){return arguments.length?(this._x=t,this):this._x}a.d(e,{A:()=>n,U:()=>i})},5437:(t,e,a)=>{"use strict";function i(t){return t[1]}function n(t){return arguments.length?(this._y=t,this):this._y}a.d(e,{$:()=>i,A:()=>n})},6406:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const i=(0,a(938).A)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},938:(t,e,a)=>{"use strict";function i(t){for(var e=t.length/6|0,a=new Array(e),i=0;i<e;)a[i]="#"+t.slice(6*i,6*++i);return a}a.d(e,{A:()=>i})},1864:(t,e,a)=>{"use strict";a.d(e,{t5:()=>i.A});var i=a(6406)},1392:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(6561),n=a(9065),r=a(106);function s(){var t,e,a=(0,r.A)().unknown(void 0),l=a.domain,o=a.range,c=0,u=1,h=!1,d=0,f=0,g=.5;function m(){var a=l().length,n=u<c,r=n?u:c,s=n?c:u;t=(s-r)/Math.max(1,a-d+2*f),h&&(t=Math.floor(t)),r+=(s-r-t*(a-d))*g,e=t*(1-d),h&&(r=Math.round(r),e=Math.round(e));var m=(0,i.A)(a).map((function(e){return r+t*e}));return o(n?m.reverse():m)}return delete a.unknown,a.domain=function(t){return arguments.length?(l(t),m()):l()},a.range=function(t){return arguments.length?([c,u]=t,c=+c,u=+u,m()):[c,u]},a.rangeRound=function(t){return[c,u]=t,c=+c,u=+u,h=!0,m()},a.bandwidth=function(){return e},a.step=function(){return t},a.round=function(t){return arguments.length?(h=!!t,m()):h},a.padding=function(t){return arguments.length?(d=Math.min(1,f=+t),m()):d},a.paddingInner=function(t){return arguments.length?(d=Math.min(1,t),m()):d},a.paddingOuter=function(t){return arguments.length?(f=+t,m()):f},a.align=function(t){return arguments.length?(g=Math.max(0,Math.min(1,t)),m()):g},a.copy=function(){return s(l(),[c,u]).round(h).paddingInner(d).paddingOuter(f).align(g)},n.C.apply(m(),arguments)}},9279:(t,e,a)=>{"use strict";function i(t){return function(){return t}}a.d(e,{A:()=>i})},1052:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>p,C:()=>g,D_:()=>u,Gu:()=>m});var i=a(2016),n=a(8503),r=a(8981),s=a(9770),l=a(9279),o=a(414),c=[0,1];function u(t){return t}function h(t,e){return(e-=t=+t)?function(a){return(a-t)/e}:(0,l.A)(isNaN(e)?NaN:.5)}function d(t,e,a){var i=t[0],n=t[1],r=e[0],s=e[1];return n<i?(i=h(n,i),r=a(s,r)):(i=h(i,n),r=a(r,s)),function(t){return r(i(t))}}function f(t,e,a){var n=Math.min(t.length,e.length)-1,r=new Array(n),s=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)r[l]=h(t[l],t[l+1]),s[l]=a(e[l],e[l+1]);return function(e){var a=(0,i.Ay)(t,e,1,n)-1;return s[a](r[a](e))}}function g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function m(){var t,e,a,i,l,h,g=c,m=c,p=n.A,b=u;function v(){var t,e,a,n=Math.min(g.length,m.length);return b!==u&&(t=g[0],e=g[n-1],t>e&&(a=t,t=e,e=a),b=function(a){return Math.max(t,Math.min(e,a))}),i=n>2?f:d,l=h=null,y}function y(e){return null==e||isNaN(e=+e)?a:(l||(l=i(g.map(t),m,p)))(t(b(e)))}return y.invert=function(a){return b(e((h||(h=i(m,g.map(t),r.A)))(a)))},y.domain=function(t){return arguments.length?(g=Array.from(t,o.A),v()):g.slice()},y.range=function(t){return arguments.length?(m=Array.from(t),v()):m.slice()},y.rangeRound=function(t){return m=Array.from(t),p=s.A,v()},y.clamp=function(t){return arguments.length?(b=!!t||u,v()):b!==u},y.interpolate=function(t){return arguments.length?(p=t,v()):p},y.unknown=function(t){return arguments.length?(a=t,y):a},function(a,i){return t=a,e=i,v()}}function p(){return m()(u,u)}},1303:(t,e,a)=>{"use strict";a.d(e,{Bv:()=>s.RZ,UM:()=>r.A,WH:()=>i.A,m4:()=>n.A,w7:()=>l.A});var i=a(1392),n=a(6502),r=a(106),s=a(3837),l=a(7910)},9065:(t,e,a)=>{"use strict";function i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}a.d(e,{C:()=>i})},6502:(t,e,a)=>{"use strict";a.d(e,{A:()=>o,C:()=>l});var i=a(6946),n=a(1052),r=a(9065),s=a(8993);function l(t){var e=t.domain;return t.ticks=function(t){var a=e();return(0,i.Ay)(a[0],a[a.length-1],null==t?10:t)},t.tickFormat=function(t,a){var i=e();return(0,s.A)(i[0],i[i.length-1],null==t?10:t,a)},t.nice=function(a){null==a&&(a=10);var n,r,s=e(),l=0,o=s.length-1,c=s[l],u=s[o],h=10;for(u<c&&(r=c,c=u,u=r,r=l,l=o,o=r);h-- >0;){if((r=(0,i.lq)(c,u,a))===n)return s[l]=c,s[o]=u,e(s);if(r>0)c=Math.floor(c/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;c=Math.ceil(c*r)/r,u=Math.floor(u*r)/r}n=r}return t},t}function o(){var t=(0,n.Ay)();return t.copy=function(){return(0,n.C)(t,o())},r.C.apply(t,arguments),l(t)}},8206:(t,e,a)=>{"use strict";function i(t,e){var a,i=0,n=(t=t.slice()).length-1,r=t[i],s=t[n];return s<r&&(a=i,i=n,n=a,a=r,r=s,s=a),t[i]=e.floor(r),t[n]=e.ceil(s),t}a.d(e,{A:()=>i})},414:(t,e,a)=>{"use strict";function i(t){return+t}a.d(e,{A:()=>i})},106:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(4119),n=a(9065);const r=Symbol("implicit");function s(){var t=new i.B,e=[],a=[],l=r;function o(i){let n=t.get(i);if(void 0===n){if(l!==r)return l;t.set(i,n=e.push(i)-1)}return a[n%a.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new i.B;for(const i of a)t.has(i)||t.set(i,e.push(i)-1);return o},o.range=function(t){return arguments.length?(a=Array.from(t),o):a.slice()},o.unknown=function(t){return arguments.length?(l=t,o):l},o.copy=function(){return s(e,a).unknown(l)},n.C.apply(o,arguments),o}},3837:(t,e,a)=>{"use strict";a.d(e,{RZ:()=>u});var i=a(6502),n=a(1052),r=a(9065);function s(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function l(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function o(t){return t<0?-t*t:t*t}function c(){var t=function(t){var e=t(n.D_,n.D_),a=1;return e.exponent=function(e){return arguments.length?1==(a=+e)?t(n.D_,n.D_):.5===a?t(l,o):t(s(a),s(1/a)):a},(0,i.C)(e)}((0,n.Gu)());return t.copy=function(){return(0,n.C)(t,c()).exponent(t.exponent())},r.C.apply(t,arguments),t}function u(){return c.apply(null,arguments).exponent(.5)}},8993:(t,e,a)=>{"use strict";a.d(e,{A:()=>c});var i=a(6946),n=a(1631),r=a(7590),s=a(8701),l=a(9460),o=a(1734);function c(t,e,a,c){var u,h=(0,i.sG)(t,e,a);switch((c=(0,n.A)(null==c?",f":c)).type){case"s":var d=Math.max(Math.abs(t),Math.abs(e));return null!=c.precision||isNaN(u=(0,r.A)(h,d))||(c.precision=u),(0,s.s)(c,d);case"":case"e":case"g":case"p":case"r":null!=c.precision||isNaN(u=(0,l.A)(h,Math.max(Math.abs(t),Math.abs(e))))||(c.precision=u-("e"===c.type));break;case"f":case"%":null!=c.precision||isNaN(u=(0,o.A)(h))||(c.precision=u-2*("%"===c.type))}return(0,s.GP)(c)}},7910:(t,e,a)=>{"use strict";a.d(e,{A:()=>v});var i=a(526),n=a(4355),r=a(5878),s=a(8926),l=a(5334),o=a(4612),c=a(3298),u=a(5030),h=a(3705),d=a(1052),f=a(9065),g=a(8206);function m(t){return new Date(t)}function p(t){return t instanceof Date?+t:+new Date(+t)}function b(t,e,a,i,n,r,s,l,o,c){var u=(0,d.Ay)(),h=u.invert,f=u.domain,v=c(".%L"),y=c(":%S"),x=c("%I:%M"),w=c("%I %p"),S=c("%a %d"),_=c("%b %d"),k=c("%B"),A=c("%Y");function V(t){return(o(t)<t?v:l(t)<t?y:s(t)<t?x:r(t)<t?w:i(t)<t?n(t)<t?S:_:a(t)<t?k:A)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?f(Array.from(t,p)):f().map(m)},u.ticks=function(e){var a=f();return t(a[0],a[a.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?V:c(e)},u.nice=function(t){var a=f();return t&&"function"==typeof t.range||(t=e(a[0],a[a.length-1],null==t?10:t)),t?f((0,g.A)(a,t)):u},u.copy=function(){return(0,d.C)(u,b(t,e,a,i,n,r,s,l,o,c))},u}function v(){return f.C.apply(b(i.Cf,i.yE,n.he,r.Ui,s.YP,l.UA,o.Ag,c.wX,u.R,h.DC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},5478:(t,e,a)=>{"use strict";function i(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}a.d(e,{A:()=>i})},9731:(t,e,a)=>{"use strict";function i(t){return function(){return t}}a.d(e,{A:()=>i})},3663:(t,e,a)=>{"use strict";a.d(e,{A:()=>l});var i=a(7268),n=a(7947);function r(t){return function(){var e=this.ownerDocument,a=this.namespaceURI;return a===n.g&&e.documentElement.namespaceURI===n.g?e.createElement(t):e.createElementNS(a,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function l(t){var e=(0,i.A)(t);return(e.local?s:r)(e)}},7875:(t,e,a)=>{"use strict";a.d(e,{Lt:()=>i.A,Ub:()=>n.A});var i=a(183),n=a(4984)},6541:(t,e,a)=>{"use strict";function i(t){return function(){return this.matches(t)}}function n(t){return function(e){return e.matches(t)}}a.d(e,{A:()=>i,j:()=>n})},7268:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(7947);function n(t){var e=t+="",a=e.indexOf(":");return a>=0&&"xmlns"!==(e=t.slice(0,a))&&(t=t.slice(a+1)),i.A.hasOwnProperty(e)?{space:i.A[e],local:t}:t}},7947:(t,e,a)=>{"use strict";a.d(e,{A:()=>n,g:()=>i});var i="http://www.w3.org/1999/xhtml";const n={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},5970:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(2324);function n(t,e){if(t=(0,i.A)(t),void 0===e&&(e=t.currentTarget),e){var a=e.ownerSVGElement||e;if(a.createSVGPoint){var n=a.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}},183:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(1882);function n(t){return"string"==typeof t?new i.LN([[document.querySelector(t)]],[document.documentElement]):new i.LN([[t]],i.zr)}},4984:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(5478),n=a(1882);function r(t){return"string"==typeof t?new n.LN([document.querySelectorAll(t)],[document.documentElement]):new n.LN([(0,i.A)(t)],n.zr)}},8072:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(3663);function n(t){var e="function"==typeof t?t:(0,i.A)(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}},7339:(t,e,a)=>{"use strict";a.d(e,{A:()=>u});var i=a(7268);function n(t){return function(){this.removeAttribute(t)}}function r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function s(t,e){return function(){this.setAttribute(t,e)}}function l(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function o(t,e){return function(){var a=e.apply(this,arguments);null==a?this.removeAttribute(t):this.setAttribute(t,a)}}function c(t,e){return function(){var a=e.apply(this,arguments);null==a?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,a)}}function u(t,e){var a=(0,i.A)(t);if(arguments.length<2){var u=this.node();return a.local?u.getAttributeNS(a.space,a.local):u.getAttribute(a)}return this.each((null==e?a.local?r:n:"function"==typeof e?a.local?c:o:a.local?l:s)(a,e))}},5152:(t,e,a)=>{"use strict";function i(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}a.d(e,{A:()=>i})},8235:(t,e,a)=>{"use strict";function i(t){return t.trim().split(/^|\s+/)}function n(t){return t.classList||new r(t)}function r(t){this._node=t,this._names=i(t.getAttribute("class")||"")}function s(t,e){for(var a=n(t),i=-1,r=e.length;++i<r;)a.add(e[i])}function l(t,e){for(var a=n(t),i=-1,r=e.length;++i<r;)a.remove(e[i])}function o(t){return function(){s(this,t)}}function c(t){return function(){l(this,t)}}function u(t,e){return function(){(e.apply(this,arguments)?s:l)(this,t)}}function h(t,e){var a=i(t+"");if(arguments.length<2){for(var r=n(this.node()),s=-1,l=a.length;++s<l;)if(!r.contains(a[s]))return!1;return!0}return this.each(("function"==typeof e?u:e?o:c)(a,e))}a.d(e,{A:()=>h}),r.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}}},9063:(t,e,a)=>{"use strict";function i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function n(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function r(t){return this.select(t?n:i)}a.d(e,{A:()=>r})},8664:(t,e,a)=>{"use strict";a.d(e,{A:()=>c});var i=a(1882),n=a(4916),r=a(9731);function s(t,e,a,i,r,s){for(var l,o=0,c=e.length,u=s.length;o<u;++o)(l=e[o])?(l.__data__=s[o],i[o]=l):a[o]=new n.L(t,s[o]);for(;o<c;++o)(l=e[o])&&(r[o]=l)}function l(t,e,a,i,r,s,l){var o,c,u,h=new Map,d=e.length,f=s.length,g=new Array(d);for(o=0;o<d;++o)(c=e[o])&&(g[o]=u=l.call(c,c.__data__,o,e)+"",h.has(u)?r[o]=c:h.set(u,c));for(o=0;o<f;++o)u=l.call(t,s[o],o,s)+"",(c=h.get(u))?(i[o]=c,c.__data__=s[o],h.delete(u)):a[o]=new n.L(t,s[o]);for(o=0;o<d;++o)(c=e[o])&&h.get(g[o])===c&&(r[o]=c)}function o(t){return t.__data__}function c(t,e){if(!arguments.length)return Array.from(this,o);var a=e?l:s,n=this._parents,c=this._groups;"function"!=typeof t&&(t=(0,r.A)(t));for(var h=c.length,d=new Array(h),f=new Array(h),g=new Array(h),m=0;m<h;++m){var p=n[m],b=c[m],v=b.length,y=u(t.call(p,p&&p.__data__,m,n)),x=y.length,w=f[m]=new Array(x),S=d[m]=new Array(x);a(p,b,w,S,g[m]=new Array(v),y,e);for(var _,k,A=0,V=0;A<x;++A)if(_=w[A]){for(A>=V&&(V=A+1);!(k=S[V])&&++V<x;);_._next=k||null}}return(d=new i.LN(d,n))._enter=f,d._exit=g,d}function u(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}},9433:(t,e,a)=>{"use strict";function i(t){return arguments.length?this.property("__data__",t):this.node().__data__}a.d(e,{A:()=>i})},202:(t,e,a)=>{"use strict";a.d(e,{A:()=>l});var i=a(6747);function n(t,e,a){var n=(0,i.A)(t),r=n.CustomEvent;"function"==typeof r?r=new r(e,a):(r=n.document.createEvent("Event"),a?(r.initEvent(e,a.bubbles,a.cancelable),r.detail=a.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function r(t,e){return function(){return n(this,t,e)}}function s(t,e){return function(){return n(this,t,e.apply(this,arguments))}}function l(t,e){return this.each(("function"==typeof e?s:r)(t,e))}},2901:(t,e,a)=>{"use strict";function i(t){for(var e=this._groups,a=0,i=e.length;a<i;++a)for(var n,r=e[a],s=0,l=r.length;s<l;++s)(n=r[s])&&t.call(n,n.__data__,s,r);return this}a.d(e,{A:()=>i})},807:(t,e,a)=>{"use strict";function i(){return!this.node()}a.d(e,{A:()=>i})},4916:(t,e,a)=>{"use strict";a.d(e,{A:()=>r,L:()=>s});var i=a(6732),n=a(1882);function r(){return new n.LN(this._enter||this._groups.map(i.A),this._parents)}function s(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},2672:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(6732),n=a(1882);function r(){return new n.LN(this._exit||this._groups.map(i.A),this._parents)}},9734:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(1882),n=a(6541);function r(t){"function"!=typeof t&&(t=(0,n.A)(t));for(var e=this._groups,a=e.length,r=new Array(a),s=0;s<a;++s)for(var l,o=e[s],c=o.length,u=r[s]=[],h=0;h<c;++h)(l=o[h])&&t.call(l,l.__data__,h,o)&&u.push(l);return new i.LN(r,this._parents)}},697:(t,e,a)=>{"use strict";function i(){this.innerHTML=""}function n(t){return function(){this.innerHTML=t}}function r(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function s(t){return arguments.length?this.each(null==t?i:("function"==typeof t?r:n)(t)):this.node().innerHTML}a.d(e,{A:()=>s})},1882:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>I,LN:()=>P,zr:()=>F});var i=a(7952),n=a(9713),r=a(7408),s=a(7867),l=a(9734),o=a(8664),c=a(4916),u=a(2672),h=a(5232),d=a(7610),f=a(4510),g=a(2920),m=a(5152),p=a(3455),b=a(4784),v=a(165),y=a(807),x=a(2901),w=a(7339),S=a(3683),_=a(461),k=a(8235),A=a(7499),V=a(697),j=a(2582),T=a(9215),M=a(8072),z=a(1429),N=a(3900),L=a(9063),D=a(9433),C=a(5233),O=a(202),U=a(1322),F=[null];function P(t,e){this._groups=t,this._parents=e}function E(){return new P([[document.documentElement]],F)}P.prototype=E.prototype={constructor:P,select:i.A,selectAll:n.A,selectChild:r.A,selectChildren:s.A,filter:l.A,data:o.A,enter:c.A,exit:u.A,join:h.A,merge:d.A,selection:function(){return this},order:f.A,sort:g.A,call:m.A,nodes:p.A,node:b.A,size:v.A,empty:y.A,each:x.A,attr:w.A,style:S.A,property:_.A,classed:k.A,text:A.A,html:V.A,raise:j.A,lower:T.A,append:M.A,insert:z.A,remove:N.A,clone:L.A,datum:D.A,on:C.A,dispatch:O.A,[Symbol.iterator]:U.A};const I=E},1429:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(3663),n=a(574);function r(){return null}function s(t,e){var a="function"==typeof t?t:(0,i.A)(t),s=null==e?r:"function"==typeof e?e:(0,n.A)(e);return this.select((function(){return this.insertBefore(a.apply(this,arguments),s.apply(this,arguments)||null)}))}},1322:(t,e,a)=>{"use strict";function*i(){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var i,n=t[e],r=0,s=n.length;r<s;++r)(i=n[r])&&(yield i)}a.d(e,{A:()=>i})},5232:(t,e,a)=>{"use strict";function i(t,e,a){var i=this.enter(),n=this,r=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(n=e(n))&&(n=n.selection()),null==a?r.remove():a(r),i&&n?i.merge(n).order():n}a.d(e,{A:()=>i})},9215:(t,e,a)=>{"use strict";function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function n(){return this.each(i)}a.d(e,{A:()=>n})},7610:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(1882);function n(t){for(var e=t.selection?t.selection():t,a=this._groups,n=e._groups,r=a.length,s=n.length,l=Math.min(r,s),o=new Array(r),c=0;c<l;++c)for(var u,h=a[c],d=n[c],f=h.length,g=o[c]=new Array(f),m=0;m<f;++m)(u=h[m]||d[m])&&(g[m]=u);for(;c<r;++c)o[c]=a[c];return new i.LN(o,this._parents)}},4784:(t,e,a)=>{"use strict";function i(){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var i=t[e],n=0,r=i.length;n<r;++n){var s=i[n];if(s)return s}return null}a.d(e,{A:()=>i})},3455:(t,e,a)=>{"use strict";function i(){return Array.from(this)}a.d(e,{A:()=>i})},5233:(t,e,a)=>{"use strict";function i(t){return function(){var e=this.__on;if(e){for(var a,i=0,n=-1,r=e.length;i<r;++i)a=e[i],t.type&&a.type!==t.type||a.name!==t.name?e[++n]=a:this.removeEventListener(a.type,a.listener,a.options);++n?e.length=n:delete this.__on}}}function n(t,e,a){return function(){var i,n=this.__on,r=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(n)for(var s=0,l=n.length;s<l;++s)if((i=n[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=a),void(i.value=e);this.addEventListener(t.type,r,a),i={type:t.type,name:t.name,value:e,listener:r,options:a},n?n.push(i):this.__on=[i]}}function r(t,e,a){var r,s,l=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",a=t.indexOf(".");return a>=0&&(e=t.slice(a+1),t=t.slice(0,a)),{type:t,name:e}}))}(t+""),o=l.length;if(!(arguments.length<2)){for(c=e?n:i,r=0;r<o;++r)this.each(c(l[r],e,a));return this}var c=this.node().__on;if(c)for(var u,h=0,d=c.length;h<d;++h)for(r=0,u=c[h];r<o;++r)if((s=l[r]).type===u.type&&s.name===u.name)return u.value}a.d(e,{A:()=>r})},4510:(t,e,a)=>{"use strict";function i(){for(var t=this._groups,e=-1,a=t.length;++e<a;)for(var i,n=t[e],r=n.length-1,s=n[r];--r>=0;)(i=n[r])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this}a.d(e,{A:()=>i})},461:(t,e,a)=>{"use strict";function i(t){return function(){delete this[t]}}function n(t,e){return function(){this[t]=e}}function r(t,e){return function(){var a=e.apply(this,arguments);null==a?delete this[t]:this[t]=a}}function s(t,e){return arguments.length>1?this.each((null==e?i:"function"==typeof e?r:n)(t,e)):this.node()[t]}a.d(e,{A:()=>s})},2582:(t,e,a)=>{"use strict";function i(){this.nextSibling&&this.parentNode.appendChild(this)}function n(){return this.each(i)}a.d(e,{A:()=>n})},3900:(t,e,a)=>{"use strict";function i(){var t=this.parentNode;t&&t.removeChild(this)}function n(){return this.each(i)}a.d(e,{A:()=>n})},7952:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(1882),n=a(574);function r(t){"function"!=typeof t&&(t=(0,n.A)(t));for(var e=this._groups,a=e.length,r=new Array(a),s=0;s<a;++s)for(var l,o,c=e[s],u=c.length,h=r[s]=new Array(u),d=0;d<u;++d)(l=c[d])&&(o=t.call(l,l.__data__,d,c))&&("__data__"in l&&(o.__data__=l.__data__),h[d]=o);return new i.LN(r,this._parents)}},9713:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(1882),n=a(5478),r=a(747);function s(t){t="function"==typeof t?function(t){return function(){return(0,n.A)(t.apply(this,arguments))}}(t):(0,r.A)(t);for(var e=this._groups,a=e.length,s=[],l=[],o=0;o<a;++o)for(var c,u=e[o],h=u.length,d=0;d<h;++d)(c=u[d])&&(s.push(t.call(c,c.__data__,d,u)),l.push(c));return new i.LN(s,l)}},7408:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(6541),n=Array.prototype.find;function r(){return this.firstElementChild}function s(t){return this.select(null==t?r:function(t){return function(){return n.call(this.children,t)}}("function"==typeof t?t:(0,i.j)(t)))}},7867:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(6541),n=Array.prototype.filter;function r(){return Array.from(this.children)}function s(t){return this.selectAll(null==t?r:function(t){return function(){return n.call(this.children,t)}}("function"==typeof t?t:(0,i.j)(t)))}},165:(t,e,a)=>{"use strict";function i(){let t=0;for(const e of this)++t;return t}a.d(e,{A:()=>i})},2920:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(1882);function n(t){function e(e,a){return e&&a?t(e.__data__,a.__data__):!e-!a}t||(t=r);for(var a=this._groups,n=a.length,s=new Array(n),l=0;l<n;++l){for(var o,c=a[l],u=c.length,h=s[l]=new Array(u),d=0;d<u;++d)(o=c[d])&&(h[d]=o);h.sort(e)}return new i.LN(s,this._parents).order()}function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},6732:(t,e,a)=>{"use strict";function i(t){return new Array(t.length)}a.d(e,{A:()=>i})},3683:(t,e,a)=>{"use strict";a.d(e,{A:()=>l,j:()=>o});var i=a(6747);function n(t){return function(){this.style.removeProperty(t)}}function r(t,e,a){return function(){this.style.setProperty(t,e,a)}}function s(t,e,a){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,a)}}function l(t,e,a){return arguments.length>1?this.each((null==e?n:"function"==typeof e?s:r)(t,e,null==a?"":a)):o(this.node(),t)}function o(t,e){return t.style.getPropertyValue(e)||(0,i.A)(t).getComputedStyle(t,null).getPropertyValue(e)}},7499:(t,e,a)=>{"use strict";function i(){this.textContent=""}function n(t){return function(){this.textContent=t}}function r(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function s(t){return arguments.length?this.each(null==t?i:("function"==typeof t?r:n)(t)):this.node().textContent}a.d(e,{A:()=>s})},574:(t,e,a)=>{"use strict";function i(){}function n(t){return null==t?i:function(){return this.querySelector(t)}}a.d(e,{A:()=>n})},747:(t,e,a)=>{"use strict";function i(){return[]}function n(t){return null==t?i:function(){return this.querySelectorAll(t)}}a.d(e,{A:()=>n})},2324:(t,e,a)=>{"use strict";function i(t){let e;for(;e=t.sourceEvent;)t=e;return t}a.d(e,{A:()=>i})},6747:(t,e,a)=>{"use strict";function i(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}a.d(e,{A:()=>i})},2716:(t,e,a)=>{"use strict";a.d(e,{A:()=>d});var i=a(8946),n=a(4552),r=a(4125);function s(t){return t.innerRadius}function l(t){return t.outerRadius}function o(t){return t.startAngle}function c(t){return t.endAngle}function u(t){return t&&t.padAngle}function h(t,e,a,i,r,s,l){var o=t-a,c=e-i,u=(l?s:-s)/(0,n.RZ)(o*o+c*c),h=u*c,d=-u*o,f=t+h,g=e+d,m=a+h,p=i+d,b=(f+m)/2,v=(g+p)/2,y=m-f,x=p-g,w=y*y+x*x,S=r-s,_=f*p-m*g,k=(x<0?-1:1)*(0,n.RZ)((0,n.T9)(0,S*S*w-_*_)),A=(_*x-y*k)/w,V=(-_*y-x*k)/w,j=(_*x+y*k)/w,T=(-_*y+x*k)/w,M=A-b,z=V-v,N=j-b,L=T-v;return M*M+z*z>N*N+L*L&&(A=j,V=T),{cx:A,cy:V,x01:-h,y01:-d,x11:A*(r/S-1),y11:V*(r/S-1)}}function d(){var t=s,e=l,a=(0,i.A)(0),d=null,f=o,g=c,m=u,p=null,b=(0,r.i)(v);function v(){var i,r,s=+t.apply(this,arguments),l=+e.apply(this,arguments),o=f.apply(this,arguments)-n.TW,c=g.apply(this,arguments)-n.TW,u=(0,n.tn)(c-o),v=c>o;if(p||(p=i=b()),l<s&&(r=l,l=s,s=r),l>n.Ni)if(u>n.FA-n.Ni)p.moveTo(l*(0,n.gn)(o),l*(0,n.F8)(o)),p.arc(0,0,l,o,c,!v),s>n.Ni&&(p.moveTo(s*(0,n.gn)(c),s*(0,n.F8)(c)),p.arc(0,0,s,c,o,v));else{var y,x,w=o,S=c,_=o,k=c,A=u,V=u,j=m.apply(this,arguments)/2,T=j>n.Ni&&(d?+d.apply(this,arguments):(0,n.RZ)(s*s+l*l)),M=(0,n.jk)((0,n.tn)(l-s)/2,+a.apply(this,arguments)),z=M,N=M;if(T>n.Ni){var L=(0,n.qR)(T/s*(0,n.F8)(j)),D=(0,n.qR)(T/l*(0,n.F8)(j));(A-=2*L)>n.Ni?(_+=L*=v?1:-1,k-=L):(A=0,_=k=(o+c)/2),(V-=2*D)>n.Ni?(w+=D*=v?1:-1,S-=D):(V=0,w=S=(o+c)/2)}var C=l*(0,n.gn)(w),O=l*(0,n.F8)(w),U=s*(0,n.gn)(k),F=s*(0,n.F8)(k);if(M>n.Ni){var P,E=l*(0,n.gn)(S),I=l*(0,n.F8)(S),R=s*(0,n.gn)(_),B=s*(0,n.F8)(_);if(u<n.pi)if(P=function(t,e,a,i,r,s,l,o){var c=a-t,u=i-e,h=l-r,d=o-s,f=d*c-h*u;if(!(f*f<n.Ni))return[t+(f=(h*(e-s)-d*(t-r))/f)*c,e+f*u]}(C,O,R,B,E,I,U,F)){var W=C-P[0],$=O-P[1],G=E-P[0],Y=I-P[1],H=1/(0,n.F8)((0,n.HQ)((W*G+$*Y)/((0,n.RZ)(W*W+$*$)*(0,n.RZ)(G*G+Y*Y)))/2),q=(0,n.RZ)(P[0]*P[0]+P[1]*P[1]);z=(0,n.jk)(M,(s-q)/(H-1)),N=(0,n.jk)(M,(l-q)/(H+1))}else z=N=0}V>n.Ni?N>n.Ni?(y=h(R,B,C,O,l,N,v),x=h(E,I,U,F,l,N,v),p.moveTo(y.cx+y.x01,y.cy+y.y01),N<M?p.arc(y.cx,y.cy,N,(0,n.FP)(y.y01,y.x01),(0,n.FP)(x.y01,x.x01),!v):(p.arc(y.cx,y.cy,N,(0,n.FP)(y.y01,y.x01),(0,n.FP)(y.y11,y.x11),!v),p.arc(0,0,l,(0,n.FP)(y.cy+y.y11,y.cx+y.x11),(0,n.FP)(x.cy+x.y11,x.cx+x.x11),!v),p.arc(x.cx,x.cy,N,(0,n.FP)(x.y11,x.x11),(0,n.FP)(x.y01,x.x01),!v))):(p.moveTo(C,O),p.arc(0,0,l,w,S,!v)):p.moveTo(C,O),s>n.Ni&&A>n.Ni?z>n.Ni?(y=h(U,F,E,I,s,-z,v),x=h(C,O,R,B,s,-z,v),p.lineTo(y.cx+y.x01,y.cy+y.y01),z<M?p.arc(y.cx,y.cy,z,(0,n.FP)(y.y01,y.x01),(0,n.FP)(x.y01,x.x01),!v):(p.arc(y.cx,y.cy,z,(0,n.FP)(y.y01,y.x01),(0,n.FP)(y.y11,y.x11),!v),p.arc(0,0,s,(0,n.FP)(y.cy+y.y11,y.cx+y.x11),(0,n.FP)(x.cy+x.y11,x.cx+x.x11),v),p.arc(x.cx,x.cy,z,(0,n.FP)(x.y11,x.x11),(0,n.FP)(x.y01,x.x01),!v))):p.arc(0,0,s,k,_,v):p.lineTo(U,F)}else p.moveTo(0,0);if(p.closePath(),i)return p=null,i+""||null}return v.centroid=function(){var a=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+f.apply(this,arguments)+ +g.apply(this,arguments))/2-n.pi/2;return[(0,n.gn)(i)*a,(0,n.F8)(i)*a]},v.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.A)(+e),v):t},v.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.A)(+t),v):e},v.cornerRadius=function(t){return arguments.length?(a="function"==typeof t?t:(0,i.A)(+t),v):a},v.padRadius=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:(0,i.A)(+t),v):d},v.startAngle=function(t){return arguments.length?(f="function"==typeof t?t:(0,i.A)(+t),v):f},v.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:(0,i.A)(+t),v):g},v.padAngle=function(t){return arguments.length?(m="function"==typeof t?t:(0,i.A)(+t),v):m},v.context=function(t){return arguments.length?(p=null==t?null:t,v):p},v}},4439:(t,e,a)=>{"use strict";a.d(e,{A:()=>c});var i=a(5917),n=a(8946),r=a(6343),s=a(8640),l=a(4125),o=a(9206);function c(t,e,a){var c=null,u=(0,n.A)(!0),h=null,d=r.A,f=null,g=(0,l.i)(m);function m(n){var r,s,l,o,m,p=(n=(0,i.A)(n)).length,b=!1,v=new Array(p),y=new Array(p);for(null==h&&(f=d(m=g())),r=0;r<=p;++r){if(!(r<p&&u(o=n[r],r,n))===b)if(b=!b)s=r,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),l=r-1;l>=s;--l)f.point(v[l],y[l]);f.lineEnd(),f.areaEnd()}b&&(v[r]=+t(o,r,n),y[r]=+e(o,r,n),f.point(c?+c(o,r,n):v[r],a?+a(o,r,n):y[r]))}if(m)return f=null,m+""||null}function p(){return(0,s.A)().defined(u).curve(d).context(h)}return t="function"==typeof t?t:void 0===t?o.x:(0,n.A)(+t),e="function"==typeof e?e:void 0===e?(0,n.A)(0):(0,n.A)(+e),a="function"==typeof a?a:void 0===a?o.y:(0,n.A)(+a),m.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.A)(+e),c=null,m):t},m.x0=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.A)(+e),m):t},m.x1=function(t){return arguments.length?(c=null==t?null:"function"==typeof t?t:(0,n.A)(+t),m):c},m.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.A)(+t),a=null,m):e},m.y0=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.A)(+t),m):e},m.y1=function(t){return arguments.length?(a=null==t?null:"function"==typeof t?t:(0,n.A)(+t),m):a},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(a)},m.lineX1=function(){return p().x(c).y(e)},m.defined=function(t){return arguments.length?(u="function"==typeof t?t:(0,n.A)(!!t),m):u},m.curve=function(t){return arguments.length?(d=t,null!=h&&(f=d(h)),m):d},m.context=function(t){return arguments.length?(null==t?h=f=null:f=d(h=t),m):h},m}},5917:(t,e,a)=>{"use strict";function i(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}a.d(e,{A:()=>i}),Array.prototype.slice},8946:(t,e,a)=>{"use strict";function i(t){return function(){return t}}a.d(e,{A:()=>i})},6343:(t,e,a)=>{"use strict";function i(t){this._context=t}function n(t){return new i(t)}a.d(e,{A:()=>n}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}}},4537:(t,e,a)=>{"use strict";function i(t){this._context=t}function n(t){var e,a,i=t.length-1,n=new Array(i),r=new Array(i),s=new Array(i);for(n[0]=0,r[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)n[e]=1,r[e]=4,s[e]=4*t[e]+2*t[e+1];for(n[i-1]=2,r[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)a=n[e]/r[e-1],r[e]-=a,s[e]-=a*s[e-1];for(n[i-1]=s[i-1]/r[i-1],e=i-2;e>=0;--e)n[e]=(s[e]-n[e+1])/r[e];for(r[i-1]=(t[i]+n[i-1])/2,e=0;e<i-1;++e)r[e]=2*t[e+1]-n[e+1];return[n,r]}function r(t){return new i(t)}a.d(e,{A:()=>r}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===a)this._context.lineTo(t[1],e[1]);else for(var i=n(t),r=n(e),s=0,l=1;l<a;++s,++l)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],t[l],e[l]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}}},5836:(t,e,a)=>{"use strict";function i(t,e){this._context=t,this._t=e}function n(t){return new i(t,0)}a.d(e,{Ko:()=>n}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,e)}}this._x=t,this._y=e}}},8796:(t,e,a)=>{"use strict";function i(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}a.d(e,{A:()=>i})},5452:(t,e,a)=>{"use strict";function i(t){return t}a.d(e,{A:()=>i})},6588:(t,e,a)=>{"use strict";a.d(e,{HR:()=>l.Ay,JL:()=>i.A,N8:()=>o.A,Wc:()=>n.A,Xf:()=>u.A,dy:()=>h.Ko,lU:()=>c.A,n8:()=>r.A,rL:()=>s.A,t$:()=>d.A});var i=a(2716),n=a(4439),r=a(8640),s=a(2130),l=a(902),o=a(6657),c=a(6343),u=a(4537),h=a(5836),d=a(8872)},8640:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var i=a(5917),n=a(8946),r=a(6343),s=a(4125),l=a(9206);function o(t,e){var a=(0,n.A)(!0),o=null,c=r.A,u=null,h=(0,s.i)(d);function d(n){var r,s,l,d=(n=(0,i.A)(n)).length,f=!1;for(null==o&&(u=c(l=h())),r=0;r<=d;++r)!(r<d&&a(s=n[r],r,n))===f&&((f=!f)?u.lineStart():u.lineEnd()),f&&u.point(+t(s,r,n),+e(s,r,n));if(l)return u=null,l+""||null}return t="function"==typeof t?t:void 0===t?l.x:(0,n.A)(t),e="function"==typeof e?e:void 0===e?l.y:(0,n.A)(e),d.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.A)(+e),d):t},d.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.A)(+t),d):e},d.defined=function(t){return arguments.length?(a="function"==typeof t?t:(0,n.A)(!!t),d):a},d.curve=function(t){return arguments.length?(c=t,null!=o&&(u=c(o)),d):c},d.context=function(t){return arguments.length?(null==t?o=u=null:u=c(o=t),d):o},d}},4552:(t,e,a)=>{"use strict";a.d(e,{F8:()=>o,FA:()=>f,FP:()=>n,HQ:()=>g,Ni:()=>u,RZ:()=>c,T9:()=>s,TW:()=>d,gn:()=>r,jk:()=>l,pi:()=>h,qR:()=>m,tn:()=>i});const i=Math.abs,n=Math.atan2,r=Math.cos,s=Math.max,l=Math.min,o=Math.sin,c=Math.sqrt,u=1e-12,h=Math.PI,d=h/2,f=2*h;function g(t){return t>1?0:t<-1?h:Math.acos(t)}function m(t){return t>=1?d:t<=-1?-d:Math.asin(t)}},3414:(t,e,a)=>{"use strict";function i(t,e){if((n=t.length)>1)for(var a,i,n,r=1,s=t[e[0]],l=s.length;r<n;++r)for(i=s,s=t[e[r]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}a.d(e,{A:()=>i})},4873:(t,e,a)=>{"use strict";function i(t){for(var e=t.length,a=new Array(e);--e>=0;)a[e]=e;return a}a.d(e,{A:()=>i})},4125:(t,e,a)=>{"use strict";a.d(e,{i:()=>n});var i=a(4083);function n(t){let e=3;return t.digits=function(a){if(!arguments.length)return e;if(null==a)e=null;else{const t=Math.floor(a);if(!(t>=0))throw new RangeError(`invalid digits: ${a}`);e=t}return t},()=>new i.wA(e)}},2130:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var i=a(5917),n=a(8946),r=a(8796),s=a(5452),l=a(4552);function o(){var t=s.A,e=r.A,a=null,o=(0,n.A)(0),c=(0,n.A)(l.FA),u=(0,n.A)(0);function h(n){var r,s,h,d,f,g=(n=(0,i.A)(n)).length,m=0,p=new Array(g),b=new Array(g),v=+o.apply(this,arguments),y=Math.min(l.FA,Math.max(-l.FA,c.apply(this,arguments)-v)),x=Math.min(Math.abs(y)/g,u.apply(this,arguments)),w=x*(y<0?-1:1);for(r=0;r<g;++r)(f=b[p[r]=r]=+t(n[r],r,n))>0&&(m+=f);for(null!=e?p.sort((function(t,a){return e(b[t],b[a])})):null!=a&&p.sort((function(t,e){return a(n[t],n[e])})),r=0,h=m?(y-g*w)/m:0;r<g;++r,v=d)s=p[r],d=v+((f=b[s])>0?f*h:0)+w,b[s]={data:n[s],index:r,value:f,startAngle:v,endAngle:d,padAngle:x};return b}return h.value=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.A)(+e),h):t},h.sortValues=function(t){return arguments.length?(e=t,a=null,h):e},h.sort=function(t){return arguments.length?(a=t,e=null,h):a},h.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:(0,n.A)(+t),h):o},h.endAngle=function(t){return arguments.length?(c="function"==typeof t?t:(0,n.A)(+t),h):c},h.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:(0,n.A)(+t),h):u},h}},9206:(t,e,a)=>{"use strict";function i(t){return t[0]}function n(t){return t[1]}a.d(e,{x:()=>i,y:()=>n})},8872:(t,e,a)=>{"use strict";a.d(e,{A:()=>c});var i=a(5917),n=a(8946),r=a(3414),s=a(4873);function l(t,e){return t[e]}function o(t){const e=[];return e.key=t,e}function c(){var t=(0,n.A)([]),e=s.A,a=r.A,c=l;function u(n){var r,s,l=Array.from(t.apply(this,arguments),o),u=l.length,h=-1;for(const t of n)for(r=0,++h;r<u;++r)(l[r][h]=[0,+c(t,l[r].key,h,n)]).data=t;for(r=0,s=(0,i.A)(e(l));r<u;++r)l[s[r]].index=r;return a(l,s),l}return u.keys=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.A)(Array.from(e)),u):t},u.value=function(t){return arguments.length?(c="function"==typeof t?t:(0,n.A)(+t),u):c},u.order=function(t){return arguments.length?(e=null==t?s.A:"function"==typeof t?t:(0,n.A)(Array.from(t)),u):e},u.offset=function(t){return arguments.length?(a=null==t?r.A:t,u):a},u}},902:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>v});var i=a(8946),n=a(4125),r=a(4165),s=a(9185),l=a(8233),o=a(8361),c=a(6995),u=a(3317),h=a(1838),d=a(5542),f=a(6657),g=a(7233),m=a(8027),p=a(7002),b=a(2067);function v(t,e){let a=null,r=(0,n.i)(l);function l(){let i;if(a||(a=i=r()),t.apply(this,arguments).draw(a,+e.apply(this,arguments)),i)return a=null,i+""||null}return t="function"==typeof t?t:(0,i.A)(t||s.A),e="function"==typeof e?e:(0,i.A)(void 0===e?64:+e),l.type=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.A)(e),l):t},l.size=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.A)(+t),l):e},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l}s.A,l.A,o.A,h.A,f.A,g.A,p.A,s.A,u.A,b.A,m.A,r.A,d.A,c.A},4165:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(4552);const n=(0,i.RZ)(3),r={draw(t,e){const a=.59436*(0,i.RZ)(e+(0,i.jk)(e/28,.75)),r=a/2,s=r*n;t.moveTo(0,a),t.lineTo(0,-a),t.moveTo(-s,-r),t.lineTo(s,r),t.moveTo(-s,r),t.lineTo(s,-r)}}},9185:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(4552);const n={draw(t,e){const a=(0,i.RZ)(e/i.pi);t.moveTo(a,0),t.arc(0,0,a,0,i.FA)}}},8233:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(4552);const n={draw(t,e){const a=(0,i.RZ)(e/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}}},8361:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(4552);const n=(0,i.RZ)(1/3),r=2*n,s={draw(t,e){const a=(0,i.RZ)(e/r),s=a*n;t.moveTo(0,-a),t.lineTo(s,0),t.lineTo(0,a),t.lineTo(-s,0),t.closePath()}}},6995:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(4552);const n={draw(t,e){const a=.62625*(0,i.RZ)(e);t.moveTo(0,-a),t.lineTo(a,0),t.lineTo(0,a),t.lineTo(-a,0),t.closePath()}}},3317:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(4552);const n={draw(t,e){const a=.87559*(0,i.RZ)(e-(0,i.jk)(e/7,2));t.moveTo(-a,0),t.lineTo(a,0),t.moveTo(0,a),t.lineTo(0,-a)}}},1838:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(4552);const n={draw(t,e){const a=(0,i.RZ)(e),n=-a/2;t.rect(n,n,a,a)}}},5542:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(4552);const n={draw(t,e){const a=.4431*(0,i.RZ)(e);t.moveTo(a,a),t.lineTo(a,-a),t.lineTo(-a,-a),t.lineTo(-a,a),t.closePath()}}},6657:(t,e,a)=>{"use strict";a.d(e,{A:()=>l});var i=a(4552);const n=(0,i.F8)(i.pi/10)/(0,i.F8)(7*i.pi/10),r=(0,i.F8)(i.FA/10)*n,s=-(0,i.gn)(i.FA/10)*n,l={draw(t,e){const a=(0,i.RZ)(.8908130915292852*e),n=r*a,l=s*a;t.moveTo(0,-a),t.lineTo(n,l);for(let e=1;e<5;++e){const r=i.FA*e/5,s=(0,i.gn)(r),o=(0,i.F8)(r);t.lineTo(o*a,-s*a),t.lineTo(s*n-o*l,o*n+s*l)}t.closePath()}}},2067:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(4552);const n={draw(t,e){const a=.6189*(0,i.RZ)(e-(0,i.jk)(e/6,1.7));t.moveTo(-a,-a),t.lineTo(a,a),t.moveTo(-a,a),t.lineTo(a,-a)}}},7233:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(4552);const n=(0,i.RZ)(3),r={draw(t,e){const a=-(0,i.RZ)(e/(3*n));t.moveTo(0,2*a),t.lineTo(-n*a,-a),t.lineTo(n*a,-a),t.closePath()}}},8027:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(4552);const n=(0,i.RZ)(3),r={draw(t,e){const a=.6824*(0,i.RZ)(e),r=a/2,s=a*n/2;t.moveTo(0,-a),t.lineTo(s,r),t.lineTo(-s,r),t.closePath()}}},7002:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var i=a(4552);const n=-.5,r=(0,i.RZ)(3)/2,s=1/(0,i.RZ)(12),l=3*(s/2+1),o={draw(t,e){const a=(0,i.RZ)(e/l),o=a/2,c=a*s,u=o,h=a*s+a,d=-u,f=h;t.moveTo(o,c),t.lineTo(u,h),t.lineTo(d,f),t.lineTo(n*o-r*c,r*o+n*c),t.lineTo(n*u-r*h,r*u+n*h),t.lineTo(n*d-r*f,r*d+n*f),t.lineTo(n*o+r*c,n*c-r*o),t.lineTo(n*u+r*h,n*h-r*u),t.lineTo(n*d+r*f,n*f-r*d),t.closePath()}}},3705:(t,e,a)=>{"use strict";var i,n,r;a.d(e,{DC:()=>n}),r={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i=(0,a(4398).A)(r),n=i.format,i.parse,i.utcFormat,i.utcParse},4398:(t,e,a)=>{"use strict";a.d(e,{A:()=>c});var i=a(8926),n=a(5334),r=a(4355);function s(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function l(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o(t,e,a){return{y:t,m:e,d:a,H:0,M:0,S:0,L:0}}function c(t){var e=t.dateTime,a=t.date,r=t.time,c=t.periods,h=t.days,d=t.shortDays,f=t.months,g=t.shortMonths,m=p(c),Z=b(c),mt=p(h),jt=b(h),Tt=p(d),Mt=b(d),zt=p(f),Nt=b(f),Lt=p(g),Dt=b(g),Ct={a:function(t){return d[t.getDay()]},A:function(t){return h[t.getDay()]},b:function(t){return g[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:P,e:P,f:W,g:tt,G:at,H:E,I,j:R,L:B,m:$,M:G,p:function(t){return c[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:At,s:Vt,S:Y,u:H,U:q,V:X,w:J,W:K,x:null,X:null,y:Q,Y:et,Z:it,"%":kt},Ot={a:function(t){return d[t.getUTCDay()]},A:function(t){return h[t.getUTCDay()]},b:function(t){return g[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:nt,e:nt,f:ct,g:xt,G:St,H:rt,I:st,j:lt,L:ot,m:ut,M:ht,p:function(t){return c[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:At,s:Vt,S:dt,u:ft,U:gt,V:pt,w:bt,W:vt,x:null,X:null,y:yt,Y:wt,Z:_t,"%":kt},Ut={a:function(t,e,a){var i=Tt.exec(e.slice(a));return i?(t.w=Mt.get(i[0].toLowerCase()),a+i[0].length):-1},A:function(t,e,a){var i=mt.exec(e.slice(a));return i?(t.w=jt.get(i[0].toLowerCase()),a+i[0].length):-1},b:function(t,e,a){var i=Lt.exec(e.slice(a));return i?(t.m=Dt.get(i[0].toLowerCase()),a+i[0].length):-1},B:function(t,e,a){var i=zt.exec(e.slice(a));return i?(t.m=Nt.get(i[0].toLowerCase()),a+i[0].length):-1},c:function(t,a,i){return Et(t,e,a,i)},d:T,e:T,f:C,g:k,G:_,H:z,I:z,j:M,L:D,m:j,M:N,p:function(t,e,a){var i=m.exec(e.slice(a));return i?(t.p=Z.get(i[0].toLowerCase()),a+i[0].length):-1},q:V,Q:U,s:F,S:L,u:y,U:x,V:w,w:v,W:S,x:function(t,e,i){return Et(t,a,e,i)},X:function(t,e,a){return Et(t,r,e,a)},y:k,Y:_,Z:A,"%":O};function Ft(t,e){return function(a){var i,n,r,s=[],l=-1,o=0,c=t.length;for(a instanceof Date||(a=new Date(+a));++l<c;)37===t.charCodeAt(l)&&(s.push(t.slice(o,l)),null!=(n=u[i=t.charAt(++l)])?i=t.charAt(++l):n="e"===i?" ":"0",(r=e[i])&&(i=r(a,n)),s.push(i),o=l+1);return s.push(t.slice(o,l)),s.join("")}}function Pt(t,e){return function(a){var r,c,u=o(1900,void 0,1);if(Et(u,t,a+="",0)!=a.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(e&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(c=(r=l(o(u.y,0,1))).getUTCDay(),r=c>4||0===c?i.rt.ceil(r):(0,i.rt)(r),r=n.dA.offset(r,7*(u.V-1)),u.y=r.getUTCFullYear(),u.m=r.getUTCMonth(),u.d=r.getUTCDate()+(u.w+6)%7):(c=(r=s(o(u.y,0,1))).getDay(),r=c>4||0===c?i.AB.ceil(r):(0,i.AB)(r),r=n.UA.offset(r,7*(u.V-1)),u.y=r.getFullYear(),u.m=r.getMonth(),u.d=r.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),c="Z"in u?l(o(u.y,0,1)).getUTCDay():s(o(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(c+5)%7:u.w+7*u.U-(c+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,l(u)):s(u)}}function Et(t,e,a,i){for(var n,r,s=0,l=e.length,o=a.length;s<l;){if(i>=o)return-1;if(37===(n=e.charCodeAt(s++))){if(n=e.charAt(s++),!(r=Ut[n in u?e.charAt(s++):n])||(i=r(t,a,i))<0)return-1}else if(n!=a.charCodeAt(i++))return-1}return i}return Ct.x=Ft(a,Ct),Ct.X=Ft(r,Ct),Ct.c=Ft(e,Ct),Ot.x=Ft(a,Ot),Ot.X=Ft(r,Ot),Ot.c=Ft(e,Ot),{format:function(t){var e=Ft(t+="",Ct);return e.toString=function(){return t},e},parse:function(t){var e=Pt(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Ft(t+="",Ot);return e.toString=function(){return t},e},utcParse:function(t){var e=Pt(t+="",!0);return e.toString=function(){return t},e}}}var u={"-":"",_:" ",0:"0"},h=/^\s*\d+/,d=/^%/,f=/[\\^$*+?|[\]().{}]/g;function g(t,e,a){var i=t<0?"-":"",n=(i?-t:t)+"",r=n.length;return i+(r<a?new Array(a-r+1).join(e)+n:n)}function m(t){return t.replace(f,"\\$&")}function p(t){return new RegExp("^(?:"+t.map(m).join("|")+")","i")}function b(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function v(t,e,a){var i=h.exec(e.slice(a,a+1));return i?(t.w=+i[0],a+i[0].length):-1}function y(t,e,a){var i=h.exec(e.slice(a,a+1));return i?(t.u=+i[0],a+i[0].length):-1}function x(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.U=+i[0],a+i[0].length):-1}function w(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.V=+i[0],a+i[0].length):-1}function S(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.W=+i[0],a+i[0].length):-1}function _(t,e,a){var i=h.exec(e.slice(a,a+4));return i?(t.y=+i[0],a+i[0].length):-1}function k(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),a+i[0].length):-1}function A(t,e,a){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(a,a+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),a+i[0].length):-1}function V(t,e,a){var i=h.exec(e.slice(a,a+1));return i?(t.q=3*i[0]-3,a+i[0].length):-1}function j(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.m=i[0]-1,a+i[0].length):-1}function T(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.d=+i[0],a+i[0].length):-1}function M(t,e,a){var i=h.exec(e.slice(a,a+3));return i?(t.m=0,t.d=+i[0],a+i[0].length):-1}function z(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.H=+i[0],a+i[0].length):-1}function N(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.M=+i[0],a+i[0].length):-1}function L(t,e,a){var i=h.exec(e.slice(a,a+2));return i?(t.S=+i[0],a+i[0].length):-1}function D(t,e,a){var i=h.exec(e.slice(a,a+3));return i?(t.L=+i[0],a+i[0].length):-1}function C(t,e,a){var i=h.exec(e.slice(a,a+6));return i?(t.L=Math.floor(i[0]/1e3),a+i[0].length):-1}function O(t,e,a){var i=d.exec(e.slice(a,a+1));return i?a+i[0].length:-1}function U(t,e,a){var i=h.exec(e.slice(a));return i?(t.Q=+i[0],a+i[0].length):-1}function F(t,e,a){var i=h.exec(e.slice(a));return i?(t.s=+i[0],a+i[0].length):-1}function P(t,e){return g(t.getDate(),e,2)}function E(t,e){return g(t.getHours(),e,2)}function I(t,e){return g(t.getHours()%12||12,e,2)}function R(t,e){return g(1+n.UA.count((0,r.he)(t),t),e,3)}function B(t,e){return g(t.getMilliseconds(),e,3)}function W(t,e){return B(t,e)+"000"}function $(t,e){return g(t.getMonth()+1,e,2)}function G(t,e){return g(t.getMinutes(),e,2)}function Y(t,e){return g(t.getSeconds(),e,2)}function H(t){var e=t.getDay();return 0===e?7:e}function q(t,e){return g(i.YP.count((0,r.he)(t)-1,t),e,2)}function Z(t){var e=t.getDay();return e>=4||0===e?(0,i.Mo)(t):i.Mo.ceil(t)}function X(t,e){return t=Z(t),g(i.Mo.count((0,r.he)(t),t)+(4===(0,r.he)(t).getDay()),e,2)}function J(t){return t.getDay()}function K(t,e){return g(i.AB.count((0,r.he)(t)-1,t),e,2)}function Q(t,e){return g(t.getFullYear()%100,e,2)}function tt(t,e){return g((t=Z(t)).getFullYear()%100,e,2)}function et(t,e){return g(t.getFullYear()%1e4,e,4)}function at(t,e){var a=t.getDay();return g((t=a>=4||0===a?(0,i.Mo)(t):i.Mo.ceil(t)).getFullYear()%1e4,e,4)}function it(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+g(e/60|0,"0",2)+g(e%60,"0",2)}function nt(t,e){return g(t.getUTCDate(),e,2)}function rt(t,e){return g(t.getUTCHours(),e,2)}function st(t,e){return g(t.getUTCHours()%12||12,e,2)}function lt(t,e){return g(1+n.dA.count((0,r.Mb)(t),t),e,3)}function ot(t,e){return g(t.getUTCMilliseconds(),e,3)}function ct(t,e){return ot(t,e)+"000"}function ut(t,e){return g(t.getUTCMonth()+1,e,2)}function ht(t,e){return g(t.getUTCMinutes(),e,2)}function dt(t,e){return g(t.getUTCSeconds(),e,2)}function ft(t){var e=t.getUTCDay();return 0===e?7:e}function gt(t,e){return g(i.Hl.count((0,r.Mb)(t)-1,t),e,2)}function mt(t){var e=t.getUTCDay();return e>=4||0===e?(0,i.pT)(t):i.pT.ceil(t)}function pt(t,e){return t=mt(t),g(i.pT.count((0,r.Mb)(t),t)+(4===(0,r.Mb)(t).getUTCDay()),e,2)}function bt(t){return t.getUTCDay()}function vt(t,e){return g(i.rt.count((0,r.Mb)(t)-1,t),e,2)}function yt(t,e){return g(t.getUTCFullYear()%100,e,2)}function xt(t,e){return g((t=mt(t)).getUTCFullYear()%100,e,2)}function wt(t,e){return g(t.getUTCFullYear()%1e4,e,4)}function St(t,e){var a=t.getUTCDay();return g((t=a>=4||0===a?(0,i.pT)(t):i.pT.ceil(t)).getUTCFullYear()%1e4,e,4)}function _t(){return"+0000"}function kt(){return"%"}function At(t){return+t}function Vt(t){return Math.floor(+t/1e3)}},5334:(t,e,a)=>{"use strict";a.d(e,{TW:()=>l,UA:()=>r,dA:()=>s});var i=a(7591),n=a(1134);const r=(0,i.f)((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*n.rR)/n.Nm),(t=>t.getDate()-1)),s=(r.range,(0,i.f)((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/n.Nm),(t=>t.getUTCDate()-1))),l=(s.range,(0,i.f)((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/n.Nm),(t=>Math.floor(t/n.Nm))));l.range},1134:(t,e,a)=>{"use strict";a.d(e,{Fq:()=>l,JJ:()=>r,MP:()=>c,Nm:()=>s,Pv:()=>o,Tt:()=>i,rR:()=>n});const i=1e3,n=60*i,r=60*n,s=24*r,l=7*s,o=30*s,c=365*s},4612:(t,e,a)=>{"use strict";a.d(e,{Ag:()=>r,pz:()=>s});var i=a(7591),n=a(1134);const r=(0,i.f)((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*n.Tt-t.getMinutes()*n.rR)}),((t,e)=>{t.setTime(+t+e*n.JJ)}),((t,e)=>(e-t)/n.JJ),(t=>t.getHours())),s=(r.range,(0,i.f)((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*n.JJ)}),((t,e)=>(e-t)/n.JJ),(t=>t.getUTCHours())));s.range},7591:(t,e,a)=>{"use strict";a.d(e,{f:()=>r});const i=new Date,n=new Date;function r(t,e,a,s){function l(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return l.floor=e=>(t(e=new Date(+e)),e),l.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),l.round=t=>{const e=l(t),a=l.ceil(t);return t-e<a-t?e:a},l.offset=(t,a)=>(e(t=new Date(+t),null==a?1:Math.floor(a)),t),l.range=(a,i,n)=>{const r=[];if(a=l.ceil(a),n=null==n?1:Math.floor(n),!(a<i&&n>0))return r;let s;do{r.push(s=new Date(+a)),e(a,n),t(a)}while(s<a&&a<i);return r},l.filter=a=>r((e=>{if(e>=e)for(;t(e),!a(e);)e.setTime(e-1)}),((t,i)=>{if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!a(t););else for(;--i>=0;)for(;e(t,1),!a(t););})),a&&(l.count=(e,r)=>(i.setTime(+e),n.setTime(+r),t(i),t(n),Math.floor(a(i,n))),l.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?l.filter(s?e=>s(e)%t==0:e=>l.count(0,e)%t==0):l:null)),l}},2613:(t,e,a)=>{"use strict";a.d(e,{y:()=>n});var i=a(7591);const n=(0,i.f)((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));n.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?(0,i.f)((e=>{e.setTime(Math.floor(e/t)*t)}),((e,a)=>{e.setTime(+e+a*t)}),((e,a)=>(a-e)/t)):n:null),n.range},3298:(t,e,a)=>{"use strict";a.d(e,{vD:()=>s,wX:()=>r});var i=a(7591),n=a(1134);const r=(0,i.f)((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*n.Tt)}),((t,e)=>{t.setTime(+t+e*n.rR)}),((t,e)=>(e-t)/n.rR),(t=>t.getMinutes())),s=(r.range,(0,i.f)((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*n.rR)}),((t,e)=>(e-t)/n.rR),(t=>t.getUTCMinutes())));s.range},5878:(t,e,a)=>{"use strict";a.d(e,{R6:()=>r,Ui:()=>n});var i=a(7591);const n=(0,i.f)((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth())),r=(n.range,(0,i.f)((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth())));r.range},5030:(t,e,a)=>{"use strict";a.d(e,{R:()=>r});var i=a(7591),n=a(1134);const r=(0,i.f)((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*n.Tt)}),((t,e)=>(e-t)/n.Tt),(t=>t.getUTCSeconds()));r.range},526:(t,e,a)=>{"use strict";a.d(e,{Cf:()=>b,yE:()=>v});var i=a(6037),n=a(6946),r=a(1134),s=a(2613),l=a(5030),o=a(3298),c=a(4612),u=a(5334),h=a(8926),d=a(5878),f=a(4355);function g(t,e,a,o,c,u){const h=[[l.R,1,r.Tt],[l.R,5,5*r.Tt],[l.R,15,15*r.Tt],[l.R,30,30*r.Tt],[u,1,r.rR],[u,5,5*r.rR],[u,15,15*r.rR],[u,30,30*r.rR],[c,1,r.JJ],[c,3,3*r.JJ],[c,6,6*r.JJ],[c,12,12*r.JJ],[o,1,r.Nm],[o,2,2*r.Nm],[a,1,r.Fq],[e,1,r.Pv],[e,3,3*r.Pv],[t,1,r.MP]];function d(e,a,l){const o=Math.abs(a-e)/l,c=(0,i.A)((([,,t])=>t)).right(h,o);if(c===h.length)return t.every((0,n.sG)(e/r.MP,a/r.MP,l));if(0===c)return s.y.every(Math.max((0,n.sG)(e,a,l),1));const[u,d]=h[o/h[c-1][2]<h[c][2]/o?c-1:c];return u.every(d)}return[function(t,e,a){const i=e<t;i&&([t,e]=[e,t]);const n=a&&"function"==typeof a.range?a:d(t,e,a),r=n?n.range(t,+e+1):[];return i?r.reverse():r},d]}const[m,p]=g(f.Mb,d.R6,h.Hl,u.TW,c.pz,o.vD),[b,v]=g(f.he,d.Ui,h.YP,u.UA,c.Ag,o.wX)},8926:(t,e,a)=>{"use strict";a.d(e,{AB:()=>l,Hl:()=>g,Mo:()=>u,YP:()=>s,pT:()=>v,rt:()=>m});var i=a(7591),n=a(1134);function r(t){return(0,i.f)((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*n.rR)/n.Fq))}const s=r(0),l=r(1),o=r(2),c=r(3),u=r(4),h=r(5),d=r(6);function f(t){return(0,i.f)((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/n.Fq))}s.range,l.range,o.range,c.range,u.range,h.range,d.range;const g=f(0),m=f(1),p=f(2),b=f(3),v=f(4),y=f(5),x=f(6);g.range,m.range,p.range,b.range,v.range,y.range,x.range},4355:(t,e,a)=>{"use strict";a.d(e,{Mb:()=>r,he:()=>n});var i=a(7591);const n=(0,i.f)((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));n.every=t=>isFinite(t=Math.floor(t))&&t>0?(0,i.f)((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,a)=>{e.setFullYear(e.getFullYear()+a*t)})):null,n.range;const r=(0,i.f)((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));r.every=t=>isFinite(t=Math.floor(t))&&t>0?(0,i.f)((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,a)=>{e.setUTCFullYear(e.getUTCFullYear()+a*t)})):null,r.range},1463:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(29);function n(t,e,a){var n=new i.M4;return e=null==e?0:+e,n.restart((a=>{n.stop(),t(a+e)}),e,a),n}},29:(t,e,a)=>{"use strict";a.d(e,{M4:()=>m,O1:()=>p,tB:()=>f});var i,n,r=0,s=0,l=0,o=0,c=0,u=0,h="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return c||(d(g),c=h.now()+u)}function g(){c=0}function m(){this._call=this._time=this._next=null}function p(t,e,a){var i=new m;return i.restart(t,e,a),i}function b(){c=(o=h.now())+u,r=s=0;try{!function(){f(),++r;for(var t,e=i;e;)(t=c-e._time)>=0&&e._call.call(void 0,t),e=e._next;--r}()}finally{r=0,function(){for(var t,e,a=i,r=1/0;a;)a._call?(r>a._time&&(r=a._time),t=a,a=a._next):(e=a._next,a._next=null,a=t?t._next=e:i=e);n=t,y(r)}(),c=0}}function v(){var t=h.now(),e=t-o;e>1e3&&(u-=e,o=t)}function y(t){r||(s&&(s=clearTimeout(s)),t-c>24?(t<1/0&&(s=setTimeout(b,t-h.now()-u)),l&&(l=clearInterval(l))):(l||(o=h.now(),l=setInterval(v,1e3)),r=1,d(b)))}m.prototype=p.prototype={constructor:m,restart:function(t,e,a){if("function"!=typeof t)throw new TypeError("callback is not a function");a=(null==a?f():+a)+(null==e?0:+e),this._next||n===this||(n?n._next=this:i=this,n=this),this._call=t,this._time=a,y()},stop:function(){this._call&&(this._call=null,this._time=1/0,y())}}},9902:(t,e,a)=>{"use strict";a.d(e,{G:()=>i.A}),a(7111);var i=a(7045)},7045:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(3363);function n(t,e){var a,n,r,s=t.__transition,l=!0;if(s){for(r in e=null==e?null:e+"",s)(a=s[r]).name===e?(n=a.state>i.xo&&a.state<i.Op,a.state=i.hV,a.timer.stop(),a.on.call(n?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete s[r]):l=!1;l&&delete t.__transition}}},7111:(t,e,a)=>{"use strict";var i=a(1882),n=a(5868),r=a(4620);i.Ay.prototype.interrupt=n.A,i.Ay.prototype.transition=r.A},5868:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(7045);function n(t){return this.each((function(){(0,i.A)(this,t)}))}},4620:(t,e,a)=>{"use strict";a.d(e,{A:()=>c});var i=a(9064),n=a(3363),r=a(2101),s=a(29),l={time:null,delay:0,duration:250,ease:r.wq};function o(t,e){for(var a;!(a=t.__transition)||!(a=a[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return a}function c(t){var e,a;t instanceof i.eB?(e=t._id,t=t._name):(e=(0,i.Si)(),(a=l).time=(0,s.tB)(),t=null==t?null:t+"");for(var r=this._groups,c=r.length,u=0;u<c;++u)for(var h,d=r[u],f=d.length,g=0;g<f;++g)(h=d[g])&&(0,n.Ay)(h,t,e,g,d,a||o(h,e));return new i.eB(r,this._parents,t,e)}},7949:(t,e,a)=>{"use strict";a.d(e,{A:()=>f});var i=a(1957),n=a(7268),r=a(123),s=a(7479);function l(t){return function(){this.removeAttribute(t)}}function o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function c(t,e,a){var i,n,r=a+"";return function(){var s=this.getAttribute(t);return s===r?null:s===i?n:n=e(i=s,a)}}function u(t,e,a){var i,n,r=a+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?n:n=e(i=s,a)}}function h(t,e,a){var i,n,r;return function(){var s,l,o=a(this);if(null!=o)return(s=this.getAttribute(t))===(l=o+"")?null:s===i&&l===n?r:(n=l,r=e(i=s,o));this.removeAttribute(t)}}function d(t,e,a){var i,n,r;return function(){var s,l,o=a(this);if(null!=o)return(s=this.getAttributeNS(t.space,t.local))===(l=o+"")?null:s===i&&l===n?r:(n=l,r=e(i=s,o));this.removeAttributeNS(t.space,t.local)}}function f(t,e){var a=(0,n.A)(t),f="transform"===a?i.I:s.A;return this.attrTween(t,"function"==typeof e?(a.local?d:h)(a,f,(0,r.J)(this,"attr."+t,e)):null==e?(a.local?o:l)(a):(a.local?u:c)(a,f,e))}},3446:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(7268);function n(t,e){var a,i;function n(){var n=e.apply(this,arguments);return n!==i&&(a=(i=n)&&function(t,e){return function(a){this.setAttributeNS(t.space,t.local,e.call(this,a))}}(t,n)),a}return n._value=e,n}function r(t,e){var a,i;function n(){var n=e.apply(this,arguments);return n!==i&&(a=(i=n)&&function(t,e){return function(a){this.setAttribute(t,e.call(this,a))}}(t,n)),a}return n._value=e,n}function s(t,e){var a="attr."+t;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==e)return this.tween(a,null);if("function"!=typeof e)throw new Error;var s=(0,i.A)(t);return this.tween(a,(s.local?n:r)(s,e))}},1375:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(3363);function n(t,e){return function(){(0,i.Ts)(this,t).delay=+e.apply(this,arguments)}}function r(t,e){return e=+e,function(){(0,i.Ts)(this,t).delay=e}}function s(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?n:r)(e,t)):(0,i.Jt)(this.node(),e).delay}},6558:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(3363);function n(t,e){return function(){(0,i.hZ)(this,t).duration=+e.apply(this,arguments)}}function r(t,e){return e=+e,function(){(0,i.hZ)(this,t).duration=e}}function s(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?n:r)(e,t)):(0,i.Jt)(this.node(),e).duration}},4228:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(3363);function n(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){(0,i.hZ)(this,t).ease=e}}(e,t)):(0,i.Jt)(this.node(),e).ease}},6066:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(3363);function n(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var a=e.apply(this,arguments);if("function"!=typeof a)throw new Error;(0,i.hZ)(this,t).ease=a}}(this._id,t))}},3589:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(3363);function n(){var t,e,a=this,n=a._id,r=a.size();return new Promise((function(s,l){var o={value:l},c={value:function(){0==--r&&s()}};a.each((function(){var a=(0,i.hZ)(this,n),r=a.on;r!==t&&((e=(t=r).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(c)),a.on=e})),0===r&&s()}))}},4876:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(6541),n=a(9064);function r(t){"function"!=typeof t&&(t=(0,i.A)(t));for(var e=this._groups,a=e.length,r=new Array(a),s=0;s<a;++s)for(var l,o=e[s],c=o.length,u=r[s]=[],h=0;h<c;++h)(l=o[h])&&t.call(l,l.__data__,h,o)&&u.push(l);return new n.eB(r,this._parents,this._name,this._id)}},9064:(t,e,a)=>{"use strict";a.d(e,{Si:()=>V,eB:()=>A});var i=a(1882),n=a(7949),r=a(3446),s=a(1375),l=a(6558),o=a(4228),c=a(6066),u=a(4876),h=a(5636),d=a(5207),f=a(5182),g=a(3206),m=a(1683),p=a(7270),b=a(9353),v=a(8674),y=a(137),x=a(7890),w=a(5509),S=a(123),_=a(3589),k=0;function A(t,e,a,i){this._groups=t,this._parents=e,this._name=a,this._id=i}function V(){return++k}var j=i.Ay.prototype;A.prototype=function(t){return(0,i.Ay)().transition(t)}.prototype={constructor:A,select:g.A,selectAll:m.A,selectChild:j.selectChild,selectChildren:j.selectChildren,filter:u.A,merge:h.A,selection:p.A,transition:w.A,call:j.call,nodes:j.nodes,node:j.node,size:j.size,empty:j.empty,each:j.each,on:d.A,attr:n.A,attrTween:r.A,style:b.A,styleTween:v.A,text:y.A,textTween:x.A,remove:f.A,tween:S.A,delay:s.A,duration:l.A,ease:o.A,easeVarying:c.A,end:_.A,[Symbol.iterator]:j[Symbol.iterator]}},7479:(t,e,a)=>{"use strict";a.d(e,{A:()=>l});var i=a(6957),n=a(8981),r=a(1197),s=a(7737);function l(t,e){var a;return("number"==typeof e?n.A:e instanceof i.Ay?r.Ay:(a=(0,i.Ay)(e))?(e=a,r.Ay):s.A)(t,e)}},5636:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(9064);function n(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,a=t._groups,n=e.length,r=a.length,s=Math.min(n,r),l=new Array(n),o=0;o<s;++o)for(var c,u=e[o],h=a[o],d=u.length,f=l[o]=new Array(d),g=0;g<d;++g)(c=u[g]||h[g])&&(f[g]=c);for(;o<n;++o)l[o]=e[o];return new i.eB(l,this._parents,this._name,this._id)}},5207:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(3363);function n(t,e){var a=this._id;return arguments.length<2?(0,i.Jt)(this.node(),a).on.on(t):this.each(function(t,e,a){var n,r,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?i.Ts:i.hZ;return function(){var i=s(this,t),l=i.on;l!==n&&(r=(n=l).copy()).on(e,a),i.on=r}}(a,t,e))}},5182:(t,e,a)=>{"use strict";function i(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var a in this.__transition)if(+a!==t)return;e&&e.removeChild(this)}));var t}a.d(e,{A:()=>i})},3363:(t,e,a)=>{"use strict";a.d(e,{Ay:()=>m,Jt:()=>v,Op:()=>f,Ts:()=>p,hV:()=>g,hZ:()=>b,xo:()=>u});var i=a(1089),n=a(29),r=a(1463),s=(0,i.A)("start","end","cancel","interrupt"),l=[],o=0,c=1,u=2,h=3,d=4,f=5,g=6;function m(t,e,a,i,m,p){var b=t.__transition;if(b){if(a in b)return}else t.__transition={};!function(t,e,a){var i,s=t.__transition;function l(n){var f,p,b,v;if(a.state!==c)return m();for(f in s)if((v=s[f]).name===a.name){if(v.state===h)return(0,r.A)(l);v.state===d?(v.state=g,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete s[f]):+f<e&&(v.state=g,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete s[f])}if((0,r.A)((function(){a.state===h&&(a.state=d,a.timer.restart(o,a.delay,a.time),o(n))})),a.state=u,a.on.call("start",t,t.__data__,a.index,a.group),a.state===u){for(a.state=h,i=new Array(b=a.tween.length),f=0,p=-1;f<b;++f)(v=a.tween[f].value.call(t,t.__data__,a.index,a.group))&&(i[++p]=v);i.length=p+1}}function o(e){for(var n=e<a.duration?a.ease.call(null,e/a.duration):(a.timer.restart(m),a.state=f,1),r=-1,s=i.length;++r<s;)i[r].call(t,n);a.state===f&&(a.on.call("end",t,t.__data__,a.index,a.group),m())}function m(){for(var i in a.state=g,a.timer.stop(),delete s[e],s)return;delete t.__transition}s[e]=a,a.timer=(0,n.O1)((function(t){a.state=c,a.timer.restart(l,a.delay,a.time),a.delay<=t&&l(t-a.delay)}),0,a.time)}(t,a,{name:e,index:i,group:m,on:s,tween:l,time:p.time,delay:p.delay,duration:p.duration,ease:p.ease,timer:null,state:o})}function p(t,e){var a=v(t,e);if(a.state>o)throw new Error("too late; already scheduled");return a}function b(t,e){var a=v(t,e);if(a.state>h)throw new Error("too late; already running");return a}function v(t,e){var a=t.__transition;if(!a||!(a=a[e]))throw new Error("transition not found");return a}},3206:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(574),n=a(9064),r=a(3363);function s(t){var e=this._name,a=this._id;"function"!=typeof t&&(t=(0,i.A)(t));for(var s=this._groups,l=s.length,o=new Array(l),c=0;c<l;++c)for(var u,h,d=s[c],f=d.length,g=o[c]=new Array(f),m=0;m<f;++m)(u=d[m])&&(h=t.call(u,u.__data__,m,d))&&("__data__"in u&&(h.__data__=u.__data__),g[m]=h,(0,r.Ay)(g[m],e,a,m,g,(0,r.Jt)(u,a)));return new n.eB(o,this._parents,e,a)}},1683:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var i=a(747),n=a(9064),r=a(3363);function s(t){var e=this._name,a=this._id;"function"!=typeof t&&(t=(0,i.A)(t));for(var s=this._groups,l=s.length,o=[],c=[],u=0;u<l;++u)for(var h,d=s[u],f=d.length,g=0;g<f;++g)if(h=d[g]){for(var m,p=t.call(h,h.__data__,g,d),b=(0,r.Jt)(h,a),v=0,y=p.length;v<y;++v)(m=p[v])&&(0,r.Ay)(m,e,a,v,p,b);o.push(p),c.push(h)}return new n.eB(o,c,e,a)}},7270:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(1882).Ay.prototype.constructor;function n(){return new i(this._groups,this._parents)}},9353:(t,e,a)=>{"use strict";a.d(e,{A:()=>c});var i=a(1957),n=a(3683),r=a(3363),s=a(123),l=a(7479);function o(t){return function(){this.style.removeProperty(t)}}function c(t,e,a){var c="transform"==(t+="")?i.T:l.A;return null==e?this.styleTween(t,function(t,e){var a,i,r;return function(){var s=(0,n.j)(this,t),l=(this.style.removeProperty(t),(0,n.j)(this,t));return s===l?null:s===a&&l===i?r:r=e(a=s,i=l)}}(t,c)).on("end.style."+t,o(t)):"function"==typeof e?this.styleTween(t,function(t,e,a){var i,r,s;return function(){var l=(0,n.j)(this,t),o=a(this),c=o+"";return null==o&&(this.style.removeProperty(t),c=o=(0,n.j)(this,t)),l===c?null:l===i&&c===r?s:(r=c,s=e(i=l,o))}}(t,c,(0,s.J)(this,"style."+t,e))).each(function(t,e){var a,i,n,s,l="style."+e,c="end."+l;return function(){var u=(0,r.hZ)(this,t),h=u.on,d=null==u.value[l]?s||(s=o(e)):void 0;h===a&&n===d||(i=(a=h).copy()).on(c,n=d),u.on=i}}(this._id,t)):this.styleTween(t,function(t,e,a){var i,r,s=a+"";return function(){var l=(0,n.j)(this,t);return l===s?null:l===i?r:r=e(i=l,a)}}(t,c,e),a).on("end.style."+t,null)}},8674:(t,e,a)=>{"use strict";function i(t,e,a){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,a){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e,a){return function(i){this.style.setProperty(t,e.call(this,i),a)}}(t,r,a)),i}return r._value=e,r}(t,e,null==a?"":a))}a.d(e,{A:()=>i})},137:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var i=a(123);function n(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}((0,i.J)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},7890:(t,e,a)=>{"use strict";function i(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,a;function i(){var i=t.apply(this,arguments);return i!==a&&(e=(a=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))}a.d(e,{A:()=>i})},5509:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var i=a(9064),n=a(3363);function r(){for(var t=this._name,e=this._id,a=(0,i.Si)(),r=this._groups,s=r.length,l=0;l<s;++l)for(var o,c=r[l],u=c.length,h=0;h<u;++h)if(o=c[h]){var d=(0,n.Jt)(o,e);(0,n.Ay)(o,t,a,h,c,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new i.eB(r,this._parents,t,a)}},123:(t,e,a)=>{"use strict";a.d(e,{A:()=>s,J:()=>l});var i=a(3363);function n(t,e){var a,n;return function(){var r=(0,i.hZ)(this,t),s=r.tween;if(s!==a)for(var l=0,o=(n=a=s).length;l<o;++l)if(n[l].name===e){(n=n.slice()).splice(l,1);break}r.tween=n}}function r(t,e,a){var n,r;if("function"!=typeof a)throw new Error;return function(){var s=(0,i.hZ)(this,t),l=s.tween;if(l!==n){r=(n=l).slice();for(var o={name:e,value:a},c=0,u=r.length;c<u;++c)if(r[c].name===e){r[c]=o;break}c===u&&r.push(o)}s.tween=r}}function s(t,e){var a=this._id;if(t+="",arguments.length<2){for(var s,l=(0,i.Jt)(this.node(),a).tween,o=0,c=l.length;o<c;++o)if((s=l[o]).name===t)return s.value;return null}return this.each((null==e?n:r)(a,t,e))}function l(t,e,a){var n=t._id;return t.each((function(){var t=(0,i.hZ)(this,n);(t.value||(t.value={}))[e]=a.apply(this,arguments)})),function(t){return(0,i.Jt)(t,n).value[e]}}},440:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const i=t=>()=>t},4430:(t,e,a)=>{"use strict";function i(t,{sourceEvent:e,target:a,transform:i,dispatch:n}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:n}})}a.d(e,{A:()=>i})},6470:(t,e,a)=>{"use strict";a.d(e,{s_:()=>i.A});var i=a(1943);a(3578)},563:(t,e,a)=>{"use strict";function i(t){t.stopImmediatePropagation()}function n(t){t.preventDefault(),t.stopImmediatePropagation()}a.d(e,{A:()=>n,G:()=>i})},3578:(t,e,a)=>{"use strict";function i(t,e,a){this.k=t,this.x=e,this.y=a}a.d(e,{D_:()=>n,dL:()=>i}),i.prototype={constructor:i,scale:function(t){return 1===t?this:new i(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new i(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var n=new i(1,0,0);i.prototype},1943:(t,e,a)=>{"use strict";a.d(e,{A:()=>y});var i=a(1089),n=a(9274),r=a(5835),s=a(183),l=a(5970),o=a(9902),c=a(440),u=a(4430),h=a(3578),d=a(563);function f(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function g(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function m(){return this.__zoom||h.D_}function p(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function b(){return navigator.maxTouchPoints||"ontouchstart"in this}function v(t,e,a){var i=t.invertX(e[0][0])-a[0][0],n=t.invertX(e[1][0])-a[1][0],r=t.invertY(e[0][1])-a[0][1],s=t.invertY(e[1][1])-a[1][1];return t.translate(n>i?(i+n)/2:Math.min(0,i)||Math.max(0,n),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function y(){var t,e,a,y=f,x=g,w=v,S=p,_=b,k=[0,1/0],A=[[-1/0,-1/0],[1/0,1/0]],V=250,j=r.A,T=(0,i.A)("start","zoom","end"),M=0,z=10;function N(t){t.property("__zoom",m).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",I).filter(_).on("touchstart.zoom",R).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(t,e){return(e=Math.max(k[0],Math.min(k[1],e)))===t.k?t:new h.dL(e,t.x,t.y)}function D(t,e,a){var i=e[0]-a[0]*t.k,n=e[1]-a[1]*t.k;return i===t.x&&n===t.y?t:new h.dL(t.k,i,n)}function C(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function O(t,e,a,i){t.on("start.zoom",(function(){U(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){U(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,n=arguments,r=U(t,n).event(i),s=x.apply(t,n),l=null==a?C(s):"function"==typeof a?a.apply(t,n):a,o=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=t.__zoom,u="function"==typeof e?e.apply(t,n):e,d=j(c.invert(l).concat(o/c.k),u.invert(l).concat(o/u.k));return function(t){if(1===t)t=u;else{var e=d(t),a=o/e[2];t=new h.dL(a,l[0]-e[0]*a,l[1]-e[1]*a)}r.zoom(null,t)}}))}function U(t,e,a){return!a&&t.__zooming||new F(t,e)}function F(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=x.apply(t,e),this.taps=0}function P(t,...e){if(y.apply(this,arguments)){var a=U(this,e).event(t),i=this.__zoom,n=Math.max(k[0],Math.min(k[1],i.k*Math.pow(2,S.apply(this,arguments)))),r=(0,l.A)(t);if(a.wheel)a.mouse[0][0]===r[0]&&a.mouse[0][1]===r[1]||(a.mouse[1]=i.invert(a.mouse[0]=r)),clearTimeout(a.wheel);else{if(i.k===n)return;a.mouse=[r,i.invert(r)],(0,o.G)(this),a.start()}(0,d.A)(t),a.wheel=setTimeout((function(){a.wheel=null,a.end()}),150),a.zoom("mouse",w(D(L(i,n),a.mouse[0],a.mouse[1]),a.extent,A))}}function E(t,...e){if(!a&&y.apply(this,arguments)){var i=t.currentTarget,r=U(this,e,!0).event(t),c=(0,s.A)(t.view).on("mousemove.zoom",(function(t){if((0,d.A)(t),!r.moved){var e=t.clientX-h,a=t.clientY-f;r.moved=e*e+a*a>M}r.event(t).zoom("mouse",w(D(r.that.__zoom,r.mouse[0]=(0,l.A)(t,i),r.mouse[1]),r.extent,A))}),!0).on("mouseup.zoom",(function(t){c.on("mousemove.zoom mouseup.zoom",null),(0,n.y)(t.view,r.moved),(0,d.A)(t),r.event(t).end()}),!0),u=(0,l.A)(t,i),h=t.clientX,f=t.clientY;(0,n.A)(t.view),(0,d.G)(t),r.mouse=[u,this.__zoom.invert(u)],(0,o.G)(this),r.start()}}function I(t,...e){if(y.apply(this,arguments)){var a=this.__zoom,i=(0,l.A)(t.changedTouches?t.changedTouches[0]:t,this),n=a.invert(i),r=a.k*(t.shiftKey?.5:2),o=w(D(L(a,r),i,n),x.apply(this,e),A);(0,d.A)(t),V>0?(0,s.A)(this).transition().duration(V).call(O,o,i,t):(0,s.A)(this).call(N.transform,o,i,t)}}function R(a,...i){if(y.apply(this,arguments)){var n,r,s,c,u=a.touches,h=u.length,f=U(this,i,a.changedTouches.length===h).event(a);for((0,d.G)(a),r=0;r<h;++r)s=u[r],c=[c=(0,l.A)(s,this),this.__zoom.invert(c),s.identifier],f.touch0?f.touch1||f.touch0[2]===c[2]||(f.touch1=c,f.taps=0):(f.touch0=c,n=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(f.taps<2&&(e=c[0],t=setTimeout((function(){t=null}),500)),(0,o.G)(this),f.start())}}function B(t,...e){if(this.__zooming){var a,i,n,r,s=U(this,e).event(t),o=t.changedTouches,c=o.length;for((0,d.A)(t),a=0;a<c;++a)i=o[a],n=(0,l.A)(i,this),s.touch0&&s.touch0[2]===i.identifier?s.touch0[0]=n:s.touch1&&s.touch1[2]===i.identifier&&(s.touch1[0]=n);if(i=s.that.__zoom,s.touch1){var u=s.touch0[0],h=s.touch0[1],f=s.touch1[0],g=s.touch1[1],m=(m=f[0]-u[0])*m+(m=f[1]-u[1])*m,p=(p=g[0]-h[0])*p+(p=g[1]-h[1])*p;i=L(i,Math.sqrt(m/p)),n=[(u[0]+f[0])/2,(u[1]+f[1])/2],r=[(h[0]+g[0])/2,(h[1]+g[1])/2]}else{if(!s.touch0)return;n=s.touch0[0],r=s.touch0[1]}s.zoom("touch",w(D(i,n,r),s.extent,A))}}function W(t,...i){if(this.__zooming){var n,r,o=U(this,i).event(t),c=t.changedTouches,u=c.length;for((0,d.G)(t),a&&clearTimeout(a),a=setTimeout((function(){a=null}),500),n=0;n<u;++n)r=c[n],o.touch0&&o.touch0[2]===r.identifier?delete o.touch0:o.touch1&&o.touch1[2]===r.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(r=(0,l.A)(r,this),Math.hypot(e[0]-r[0],e[1]-r[1])<z)){var h=(0,s.A)(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return N.transform=function(t,e,a,i){var n=t.selection?t.selection():t;n.property("__zoom",m),t!==n?O(t,e,a,i):n.interrupt().each((function(){U(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},N.scaleBy=function(t,e,a,i){N.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),a,i)},N.scaleTo=function(t,e,a,i){N.transform(t,(function(){var t=x.apply(this,arguments),i=this.__zoom,n=null==a?C(t):"function"==typeof a?a.apply(this,arguments):a,r=i.invert(n),s="function"==typeof e?e.apply(this,arguments):e;return w(D(L(i,s),n,r),t,A)}),a,i)},N.translateBy=function(t,e,a,i){N.transform(t,(function(){return w(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof a?a.apply(this,arguments):a),x.apply(this,arguments),A)}),null,i)},N.translateTo=function(t,e,a,i,n){N.transform(t,(function(){var t=x.apply(this,arguments),n=this.__zoom,r=null==i?C(t):"function"==typeof i?i.apply(this,arguments):i;return w(h.D_.translate(r[0],r[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof a?-a.apply(this,arguments):-a),t,A)}),i,n)},F.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=(0,s.A)(this.that).datum();T.call(t,this.that,new u.A(t,{sourceEvent:this.sourceEvent,target:N,type:t,transform:this.that.__zoom,dispatch:T}),e)}},N.wheelDelta=function(t){return arguments.length?(S="function"==typeof t?t:(0,c.A)(+t),N):S},N.filter=function(t){return arguments.length?(y="function"==typeof t?t:(0,c.A)(!!t),N):y},N.touchable=function(t){return arguments.length?(_="function"==typeof t?t:(0,c.A)(!!t),N):_},N.extent=function(t){return arguments.length?(x="function"==typeof t?t:(0,c.A)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),N):x},N.scaleExtent=function(t){return arguments.length?(k[0]=+t[0],k[1]=+t[1],N):[k[0],k[1]]},N.translateExtent=function(t){return arguments.length?(A[0][0]=+t[0][0],A[1][0]=+t[1][0],A[0][1]=+t[0][1],A[1][1]=+t[1][1],N):[[A[0][0],A[0][1]],[A[1][0],A[1][1]]]},N.constrain=function(t){return arguments.length?(w=t,N):w},N.duration=function(t){return arguments.length?(V=+t,N):V},N.interpolate=function(t){return arguments.length?(j=t,N):j},N.on=function(){var t=T.on.apply(T,arguments);return t===T?N:t},N.clickDistance=function(t){return arguments.length?(M=(t=+t)*t,N):Math.sqrt(M)},N.tapDistance=function(t){return arguments.length?(z=+t,N):z},N}},756:(t,e,a)=>{"use strict";a.d(e,{$Er:()=>s.$E,Bv9:()=>c.Bv,HRO:()=>d.HR,JLW:()=>d.JL,KS8:()=>l.KS,Ltv:()=>h.Lt,N8r:()=>d.N8,Qhc:()=>r.Qh,Sk5:()=>o.Sk,T9B:()=>i.T9,TSS:()=>l.TS,UMr:()=>c.UM,Ubm:()=>h.Ub,WH:()=>c.WH,Wcw:()=>d.Wc,Xf2:()=>d.Xf,czq:()=>i.cz,dyv:()=>d.dy,eRw:()=>l.eR,i2o:()=>i.i2,jkA:()=>i.jk,l78:()=>n.l7,lUB:()=>d.lU,m4Y:()=>c.m4,n8j:()=>d.n8,rLf:()=>d.rL,s_O:()=>f.s_,t$z:()=>d.t$,t55:()=>u.t5,tXi:()=>l.tX,tlR:()=>n.tl,w7C:()=>c.w7,y17:()=>i.y1});var i=a(1388),n=a(312),r=(a(3537),a(2090)),s=a(4527),l=a(4310),o=a(7750),c=a(1303),u=a(1864),h=a(7875),d=a(6588),f=(a(9902),a(6470))},4119:(t,e,a)=>{"use strict";a.d(e,{B:()=>i});class i extends Map{constructor(t,e=r){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,a]of t)this.set(e,a)}get(t){return super.get(n(this,t))}has(t){return super.has(n(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},a){const i=e(a);return t.has(i)?t.get(i):(t.set(i,a),a)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},a){const i=e(a);return t.has(i)&&(a=t.get(i),t.delete(i)),a}(this,t))}}function n({_intern:t,_key:e},a){const i=e(a);return t.has(i)?t.get(i):a}function r(t){return null!==t&&"object"==typeof t?t.valueOf():t}Set}},e={};function a(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,a),r.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";a.r(i),a.d(i,{default:()=>r});var t=a(5789),e=window.powerbi,n={name:"sparklines50DB3783432B40A69C0B91926CE74CD9",displayName:"Multiple Sparklines",class:"Visual",apiVersion:"5.9.0",create:e=>{if(t.b)return new t.b(e);throw"Visual instance not found"},createModalDialog:(t,e,a)=>{const i=globalThis.dialogRegistry;t in i&&new i[t](e,a)},custom:!0};void 0!==e&&(e.visuals=e.visuals||{},e.visuals.plugins=e.visuals.plugins||{},e.visuals.plugins.sparklines50DB3783432B40A69C0B91926CE74CD9=n);const r=n})(),sparklines50DB3783432B40A69C0B91926CE74CD9=i})();