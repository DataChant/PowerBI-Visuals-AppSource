var trueChart4PBI530397A454264B59BCC98231C7453345=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="assets",n(n.s=38)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(7),o=n(2),i=function(){function e(){}return Object.defineProperty(e,"inPageContainer",{get:function(){return e._inPageContainer||(e._inPageContainer=(t="position: absolute; z-index: 100;",n={left:"left: 1%; top: 1%; right: auto; bottom: 1%;",top:"left: 1%; top: 1%; right: 1%; bottom: auto;",right:"left: auto; top: 1%; right: 1%; bottom: 1%;",bottom:"left: 1%; top: auto; right: 1%; bottom: 1%;"},r=3,o=Object.keys(n),i=function(e){return void 0===e&&(e=r),(e+1)%4},a=function(e){return void 0===e&&(e=r),n[o[e]]},s=document.createElement("div"),(l=document.createElement("button")).innerText="Show "+o[i()],l.addEventListener("click",(function(){s.style.cssText=t+a(r=i()),l.innerText="Show "+o[i(r)]})),s.style.cssText=t+a(),document.body.appendChild(s).appendChild(l),s));var t,n,r,o,i,a,s,l},set:function(t){e._inPageContainer=t},enumerable:!0,configurable:!0}),e.resetInPageContainer=function(){e._inPageContainer=void 0},Object.defineProperty(e,"Instance",{get:function(){if(!e._logger)throw new Error("call init before using the logger");return e._logger},enumerable:!0,configurable:!0}),e.init=function(t,n){void 0===n&&(n={}),e._logger=Object(o.getLogger)(t),e._logger.removeAllAppenders();var i=Object(r.a)({level:"WARN",username:"Anonymous",hasService:!1,serviceUrl:""},n),a=i.level in o.Level?o.Level[i.level]:o.Level.ALL,s='"%d{HH:mm:ss.SSS} %p:%c - %m"',l=new o.BrowserConsoleAppender;if(l.setLayout(new o.PatternLayout(s)),l.setThreshold(a),e._logger.setLevel(a),e._logger.addAppender(l),i.hasService){var c=new o.AjaxAppender(i.serviceUrl),u=new o.HttpPostDataLayout;u.setCustomField("action","createLogMessage"),u.setCustomField("username",i.username),c.setLayout(u),c.setThreshold(a),e._logger.addAppender(c)}if(e.usePopUpAppender){var d=new o.PopUpAppender;d.setLayout(new o.PatternLayout(s)),e._logger.addAppender(d)}if(e.useInPageAppender){var h=new o.InPageAppender(e.inPageContainer);h.setLayout(new o.PatternLayout(s)),e._logger.addAppender(h)}},e.trace=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e.Instance).trace.apply(t,n)},e.debug=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e.Instance).debug.apply(t,n)},e.info=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e.Instance).info.apply(t,n)},e.warn=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e.Instance).warn.apply(t,n)},e.error=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e.Instance).error.apply(t,n)},e.fatal=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e.Instance).fatal.apply(t,n)},e}()},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r={getServiceConfig:"https://tcpb.truechart.com/getServiceConfig",helpBindingUsers:"https://kb.truechart.com/wiki/display/tckb/Binding+users+to+TRUECHART+in+Power+BI",homeGetSoftware:"https://www.truechart.com/software/truechart4powerbi/"},o="ms-pbi:"===e.location.protocol?"desktop":"service",i="desktop"===o,a="Power BI/"+(o.charAt(0).toUpperCase()+o.slice(1)),s="Personal\\Me"}).call(this,n(5))},function(module,exports,__webpack_require__){(function(window,define){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var factory,root;factory=function(){function isUndefined(e){return void 0===e}function EventSupport(){}Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)this[this.length]=arguments[e];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var e=this[0],t=0,n=this.length-1;t<n;t++)this[t]=this[t+1];return this.length=this.length-1,e}}),Array.prototype.splice||(Array.prototype.splice=function(e,t){var n=this.slice(e+t),r=this.slice(e,e+t);this.length=e;for(var o=[],i=0,a=arguments.length;i<a;i++)o[i]=arguments[i];var s=o.length>2?n=o.slice(2).concat(n):n;for(i=0,a=s.length;i<a;i++)this.push(s[i]);return r}),EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e,this.eventListeners={};for(var t=0,n=this.eventTypes.length;t<n;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+e+"'"),this.eventListeners[e].push(t)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+e+"'"),array_remove(this.eventListeners[e],t)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],r=0,o=n.length;r<o;r++)n[r](this,e,t);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+e+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;function Log4JavaScript(){}Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message?e.message:e.description?e.description:toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t="Exception: "+getExceptionMessage(e);try{e.lineNumber&&(t+=" on line number "+e.lineNumber),e.fileName&&(t+=" in file "+getUrlFileName(e.fileName))}catch(e){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&e.stack&&(t+=newLine+"Stack trace:"+newLine+e.stack),t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}log4javascript.version="1.4.13",log4javascript.edition="log4javascript";var urlEncode=void 0!==window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};function array_remove(e,t){for(var n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}return n>=0&&(e.splice(n,1),!0)}function array_contains(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(e,t){if(isUndefined(e))return t;try{var n=parseInt(e,10);return isNaN(n)?t:n}catch(n){return logLog.warn("Invalid int param "+e,n),t}}function extractFunctionFromParam(e,t){return"function"==typeof e?e:t}function isError(e){return e instanceof Error}Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(e,t){},error:function(e,t){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n="log4javascript error: "+e;t&&(n+=newLine+newLine+"Original error: "+getExceptionStringRep(t)),alert(n)}}};function handleError(e,t){logLog.error(e,t),log4javascript.dispatchEvent("error",{message:e,exception:t})}log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(e){enabled=bool(e)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)};var Level=function(e,t){this.level=e,this.name=t};function Timer(e,t){this.name=e,this.level=isUndefined(t)?Level.INFO:t,this.start=new Date}Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";function Logger(e){this.name=e,this.parent=null,this.children=[];var t=[],n=null,r=this.name===rootLoggerName,o=this.name===nullLoggerName,i=null,a=!1;this.addChild=function(e){this.children.push(e),e.parent=this,e.invalidateAppenderCache()};var s=!0;this.getAdditivity=function(){return s},this.setAdditivity=function(e){var t=s!=e;s=e,t&&this.invalidateAppenderCache()},this.addAppender=function(e){o?handleError("Logger.addAppender: you may not add an appender to the null logger"):e instanceof log4javascript.Appender?array_contains(t,e)||(t.push(e),e.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(e)+"') is not a subclass of Appender")},this.removeAppender=function(e){array_remove(t,e),e.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var e=t.length;if(e>0){for(var n=0;n<e;n++)t[n].setRemovedFromLogger(this);t.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===i||a){var e=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();i=e.concat(t),a=!1}return i},this.invalidateAppenderCache=function(){a=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].invalidateAppenderCache()},this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){var n,r=t.length-1,o=t[r];t.length>1&&isError(o)&&(n=o,r--);for(var i=[],a=0;a<=r;a++)i[a]=t[a];var s=new LoggingEvent(this,new Date,e,i,n);this.callAppenders(s)}},this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,r=t.length;n<r;n++)t[n].doAppend(e)},this.setLevel=function(e){r&&null===e?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):e instanceof Level?n=e:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return n},this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}},this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,o=n.length;r<o;r++)n[r].group(e,t)},this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;t<n;t++)e[t].groupEnd()};var l={};this.time=function(e,t){enabled&&(isUndefined(e)?handleError("Logger.time: a name for the timer must be supplied"):!t||t instanceof Level?l[e]=new Timer(e,t):handleError("Logger.time: level supplied to timer "+e+" is not an instance of log4javascript.Level"))},this.timeEnd=function(e){if(enabled)if(isUndefined(e))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(l[e]){var t=l[e],n=t.getElapsedTime();this.log(t.level,["Timer "+toStr(e)+" completed in "+n+"ms"]),delete l[e]}else logLog.warn("Logger.timeEnd: no timer found with name "+e)},this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);(t=t.length>0?t:["Assertion Failure"]).push(newLine),t.push(e),this.log(Level.ERROR,t)}},this.toString=function(){return"Logger["+this.name+"]"}}Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(e){if("string"!=typeof e&&(e=anonymousLoggerName,logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(e)+" supplied, returning anonymous logger")),e==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[e]){var t=new Logger(e);loggers[e]=t,loggerNames.push(e);var n,r=e.lastIndexOf(".");if(r>-1){var o=e.substring(0,r);n=log4javascript.getLogger(o)}else n=rootLogger;n.addChild(t)}return loggers[e]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){return defaultLogger||(defaultLogger=createDefaultLogger()),defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName)).setLevel(Level.OFF),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(e,t,n,r,o){this.logger=e,this.timeStamp=t,this.timeStampInMilliseconds=t.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.messages=r,this.exception=o};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]),e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]),this.hasCustomFields())for(var r=0,o=this.customFields.length;r<o;r++){var i=this.customFields[r].value;"function"==typeof i&&(i=i(this,e)),n.push([this.customFields[r].name,i])}return n},setKeys:function(e,t,n,r,o,i,a){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(r,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(o,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(i,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(a,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,r=0,o=this.customFields.length;r<o;r++)this.customFields[r].name===e&&(this.customFields[r].value=t,n=!0);n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(e){var t=this.format(e);return e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep()),t},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){},SimpleDateFormat;function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0),this.customFields=[]}function escapeNewLines(e){return e.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1),this.combineMessages=extractBooleanFromParam(t,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"\t":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(e,t,n){var r=[];return function e(t,n,o){var i,a,s,l,c,u,d;function h(e){for(var t=splitIntoLines(e),n=1,r=t.length;n<r;n++)t[n]=o+t[n];return t.join(newLine)}if(o||(o=""),null===t)return"null";if(void 0===t)return"undefined";if("string"==typeof t)return h(t);if("object"==_typeof(t)&&array_contains(r,t)){try{u=toStr(t)}catch(e){u="Error formatting property. Details: "+getExceptionStringRep(e)}return u+" [already expanded]"}if(t instanceof Array&&n>0){for(r.push(t),u="["+newLine,s=n-1,l=o+"  ",c=[],i=0,a=t.length;i<a;i++)try{d=e(t[i],s,l),c.push(l+d)}catch(e){c.push(l+"Error formatting array member. Details: "+getExceptionStringRep(e))}return u+=c.join(","+newLine)+newLine+o+"]"}if("[object Date]"==Object.prototype.toString.call(t))return t.toString();if("object"==_typeof(t)&&n>0){for(i in r.push(t),u="{"+newLine,s=n-1,l=o+"  ",c=[],t)try{d=e(t[i],s,l),c.push(l+i+": "+d)}catch(e){c.push(l+i+": Error formatting property. Details: "+getExceptionStringRep(e))}return u+=c.join(","+newLine)+newLine+o+"}"}return h(toStr(t))}(e,t,n)}function PatternLayout(e){this.pattern=e||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e)},Appender.prototype.append=function(e){},Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)},Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(e){return e.level.name+" - "+e.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(e){return e.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(e){var t=e.messages,n=e.exception;return n?t.concat([n]):t},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(e){var t,n,r=this;function o(e){return e="string"==typeof e?e:toStr(e),"<log4javascript:message><![CDATA["+r.escapeCdata(e)+"]]></log4javascript:message>"}var i='<log4javascript:event logger="'+e.logger.name+'" timestamp="'+this.getTimeStampValue(e)+'"';if(this.isTimeStampsInMilliseconds()||(i+=' milliseconds="'+e.milliseconds+'"'),i+=' level="'+e.level.name+'">'+newLine,this.combineMessages)i+=o(e.getCombinedMessages());else{for(i+="<log4javascript:messages>"+newLine,t=0,n=e.messages.length;t<n;t++)i+=o(e.messages[t])+newLine;i+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(t=0,n=this.customFields.length;t<n;t++)i+='<log4javascript:customfield name="'+this.customFields[t].name+'"><![CDATA['+this.customFields[t].value.toString()+"]]></log4javascript:customfield>"+newLine;return e.exception&&(i+="<log4javascript:exception><![CDATA["+getExceptionStringRep(e.exception)+"]]></log4javascript:exception>"+newLine),i+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(e){var t,n,r=this,o=this.getDataValues(e,this.combineMessages),i="{"+this.lineBreak;function a(e,t,n){var o,i=_typeof(e);if(e instanceof Date)o=String(e.getTime());else if(n&&e instanceof Array){o="["+r.lineBreak;for(var s=0,l=e.length;s<l;s++){var c=t+r.tab;o+=c+a(e[s],c,!1),s<e.length-1&&(o+=","),o+=r.lineBreak}o+=t+"]"}else o="number"!==i&&"boolean"!==i?'"'+escapeNewLines(toStr(e).replace(/\"/g,'\\"'))+'"':e;return o}for(t=0,n=o.length-1;t<=n;t++)i+=this.tab+'"'+o[t][0]+'"'+this.colon+a(o[t][1],this.tab,!0),t<n&&(i+=","),i+=this.lineBreak;return i+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],r=0,o=t.length;r<o;r++){var i=t[r][1]instanceof Date?String(t[r][1].getTime()):t[r][1];n.push(urlEncode(t[r][0])+"="+urlEncode(i))}return n.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(e){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout,function(){var e=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5},o=function(e,t,n){var r=new Date(e,t,n,0,0,0);return r.setMilliseconds(0),r};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()},Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()},Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),t=new Date(e.getTime()-864e5*this.getDay());return o(t.getFullYear(),t.getMonth(),t.getDate())},Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=o(this.getFullYear(),0,1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return 7-n.getDay()<e&&r--,r},Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=o(this.getFullYear(),this.getMonth(),1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return 7-n.getDay()>=e&&r++,r},Date.prototype.getDayInYear=function(){var e=o(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/864e5)},(SimpleDateFormat=function(e){this.formatString=e}).prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek};var i=function(e,t){for(;e.length<t;)e="0"+e;return e},a=function(e,t,n){return t>=4?e:e.substr(0,Math.max(n,t))},s=function(e,t){return i(""+e,t)};SimpleDateFormat.prototype.format=function(o){for(var l,c="",u=this.formatString;l=e.exec(u);){var d=l[1],h=l[2],p=l[3],f=l[4];if(d)c+="''"==d?"'":d.substring(1,d.length-1);else if(p);else if(f)c+=f;else if(h){var g=h.charAt(0),m=h.length,v="";switch(g){case"G":v="AD";break;case"y":v=o.getFullYear();break;case"M":v=o.getMonth();break;case"w":v=o.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":v=o.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":v=o.getDayInYear();break;case"d":v=o.getDate();break;case"F":v=1+Math.floor((o.getDate()-1)/7);break;case"E":v=n[o.getDay()];break;case"a":v=o.getHours()>=12?"PM":"AM";break;case"H":v=o.getHours();break;case"k":v=o.getHours()||24;break;case"K":v=o.getHours()%12;break;case"h":v=o.getHours()%12||12;break;case"m":v=o.getMinutes();break;case"s":v=o.getSeconds();break;case"S":v=o.getMilliseconds();break;case"Z":v=o.getTimezoneOffset()}switch(r[g]){case 0:c+=a(v,m,2);break;case 1:c+=a(v,m,3);break;case 2:c+=s(v,m);break;case 3:c+=m<=3?(""+v).substr(2,2):s(v,m);break;case 4:c+=m>=3?a(t[v],m,m):s(v+1,m);break;case 5:var y=v>0?"-":"+",b=Math.abs(v),w=""+Math.floor(b/60),E=""+b%60;c+=y+(w=i(w,2))+(E=i(E,2))}}u=u.substr(l.index+l[0].length)}return c}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,r="",o=this.pattern;t=n.exec(o);){var i=t[0],a=t[1],s=t[2],l=t[3],c=t[5],u=t[6];if(u)r+=""+u;else{var d,h="";switch(l){case"a":case"m":var p=0;c&&(p=parseInt(c,10),isNaN(p)&&(handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character '"+l+"' - should be a number"),p=0));for(var f="a"===l?e.messages[0]:e.messages,g=0,m=f.length;g<m;g++)g>0&&" "!==h.charAt(h.length-1)&&(h+=" "),h+=0===p?f[g]:formatObjectExpansion(f[g],p);break;case"c":var v=e.logger.name;if(c){var y=parseInt(c,10),b=e.logger.name.split(".");h=y>=b.length?v:b.slice(b.length-y).join(".")}else h=v;break;case"d":var w=PatternLayout.ISO8601_DATEFORMAT;c&&("ISO8601"==(w=c)?w=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==w?w=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==w&&(w=PatternLayout.DATETIME_DATEFORMAT)),h=new SimpleDateFormat(w).format(e.timeStamp);break;case"f":if(this.hasCustomFields()){var E=0;c&&(E=parseInt(c,10),isNaN(E)?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - should be a number"):0===E?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - must be greater than zero"):E>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - there aren't that many custom fields"):E-=1);var C=this.customFields[E].value;"function"==typeof C&&(C=C(this,e)),h=C}break;case"n":h=newLine;break;case"p":h=e.level.name;break;case"r":h=""+e.timeStamp.getDifference(applicationStartDate);break;case"%":h="%";break;default:h=i}if(s){d=parseInt(s.substr(1),10);var L=h.length;d<L&&(h=h.substring(L-d,L))}if(a)if("-"==a.charAt(0))for(d=parseInt(a.substr(1),10);h.length<d;)h+=" ";else for(d=parseInt(a,10);h.length<d;)h=" "+h;r+=h}o=o.substr(t.index+t[0].length)}return r},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(e){var t,n=this,r=function(t){var r=n.getLayout().formatWithException(e);return"string"==typeof r?t?r:[r]:t?r.join(" "):r},o=window.console;o&&o.log?"function"==typeof o[t=o.debug&&Level.DEBUG.isGreaterOrEqual(e.level)?"debug":o.info&&Level.INFO.equals(e.level)?"info":o.warn&&Level.WARN.equals(e.level)?"warn":o.error&&e.level.isGreaterOrEqual(Level.ERROR)?"error":"log"].apply?o[t].apply(o,r(!1)):o[t](r(!0)):"undefined"!=typeof opera&&opera.postError&&opera.postError(r(!0))},BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,_getXmlHttp=function(e){for(var t,n=null,r=0,o=xmlHttpFactories.length;r<o;r++){t=xmlHttpFactories[r];try{return n=t(),withCredentialsSupported=t==xhrFactory&&"withCredentials"in n,_getXmlHttp=t,n}catch(e){}}e?e():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")},ConsoleAppender;function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||e.status>=200&&e.status<300||1223==e.status}function AjaxAppender(e,t){var n=this,r=!0;e||(handleError("AjaxAppender: URL must be specified in constructor"),r=!1);var o=this.defaults.timed,i=this.defaults.waitForResponse,a=this.defaults.batchSize,s=this.defaults.timerInterval,l=this.defaults.requestSuccessCallback,c=this.defaults.failCallback,u=this.defaults.postVarName,d=this.defaults.sendAllOnUnload,h=this.defaults.contentType,p=null,f=[],g=[],m=[],v=!1,y=!1;function b(e){return!y||(handleError("AjaxAppender: configuration option '"+e+"' may not be set after the appender has been initialized"),!1)}function w(){var e;if(r&&enabled)if(v=!0,i)g.length>0?x(C(e=g.shift()),w):(v=!1,o&&L());else{for(;e=g.shift();)x(C(e));v=!1,o&&L()}}function E(){var e=!1;if(r&&enabled){for(var t,s=n.getLayout().allowBatching()?a:1,l=[];t=f.shift();)l.push(t),f.length>=s&&(g.push(l),l=[]);l.length>0&&g.push(l),e=g.length>0,i=!1,o=!1,w()}return e}function C(e){for(var t,r=[],o="";t=e.shift();)r.push(n.getLayout().formatWithException(t));return o=1==e.length?r.join(""):n.getLayout().batchHeader+r.join(n.getLayout().batchSeparator)+n.getLayout().batchFooter,h==n.defaults.contentType&&((o=n.getLayout().returnsPostData?o:urlEncode(u)+"="+urlEncode(o)).length>0&&(o+="&"),o+="layout="+urlEncode(n.getLayout().toString())),o}function L(){window.setTimeout(w,s)}function M(){var e="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(e),r=!1,c&&c(e)}function x(n,o){try{var i=_getXmlHttp(M);if(r){i.onreadystatechange=function(){if(4==i.readyState){if(isHttpRequestSuccessful(i))l&&l(i),o&&o(i);else{var t="AjaxAppender.append: XMLHttpRequest request to URL "+e+" returned status code "+i.status;handleError(t),c&&c(t)}i.onreadystatechange=emptyFunction,i=null}},i.open("POST",e,!0),t&&withCredentialsSupported&&(i.withCredentials=!0);try{for(var a,s=0;a=m[s++];)i.setRequestHeader(a.name,a.value);i.setRequestHeader("Content-Type",h)}catch(e){var u="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(u),r=!1,void(c&&c(u))}i.send(n)}}catch(t){var d="AjaxAppender.append: error sending log message to "+e;handleError(d,t),r=!1,c&&c(d+". Details: "+getExceptionStringRep(t))}}this.getSessionId=function(){return p},this.setSessionId=function(e){p=extractStringFromParam(e,null),this.layout.setCustomField("sessionid",p)},this.setLayout=function(e){b("layout")&&(this.layout=e,null!==p&&this.setSessionId(p))},this.isTimed=function(){return o},this.setTimed=function(e){b("timed")&&(o=bool(e))},this.getTimerInterval=function(){return s},this.setTimerInterval=function(e){b("timerInterval")&&(s=extractIntFromParam(e,s))},this.isWaitForResponse=function(){return i},this.setWaitForResponse=function(e){b("waitForResponse")&&(i=bool(e))},this.getBatchSize=function(){return a},this.setBatchSize=function(e){b("batchSize")&&(a=extractIntFromParam(e,a))},this.isSendAllOnUnload=function(){return d},this.setSendAllOnUnload=function(e){b("sendAllOnUnload")&&(d=extractBooleanFromParam(e,d))},this.setRequestSuccessCallback=function(e){l=extractFunctionFromParam(e,l)},this.setFailCallback=function(e){c=extractFunctionFromParam(e,c)},this.getPostVarName=function(){return u},this.setPostVarName=function(e){b("postVarName")&&(u=extractStringFromParam(e,u))},this.getHeaders=function(){return m},this.addHeader=function(e,t){"content-type"==e.toLowerCase()?h=t:m.push({name:e,value:t})},this.sendAll=w,this.sendAllRemaining=E,this.append=function(e){if(r){y||function(){if(y=!0,d){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e(),E()}}o&&L()}(),f.push(e);var t=this.getLayout().allowBatching()?a:1;if(f.length>=t){for(var n,s=[];n=f.shift();)s.push(n);g.push(s),o||i&&(!i||v)||w()}}}}function setCookie(e,t,n,r){var o;if(r=r?"; path="+r:"",n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()}else o="";document.cookie=escape(e)+"="+escape(t)+o+r}function getCookie(e){for(var t=escape(e)+"=",n=document.cookie.split(";"),r=0,o=n.length;r<o;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return unescape(i.substring(t.length,i.length))}return null}function getBaseUrl(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t)if(-1!=e[t].src.indexOf("log4javascript")){var r=e[t].src.lastIndexOf("/");return-1==r?"":e[t].src.substr(0,r+1)}return null}function isLoaded(e){try{return bool(e.loaded)}catch(e){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],r=Math.max(0,t-e.length),o=0;o<r;o++)n[o]=" ";e+=n.join("")}return e}function createDefaultLogger(){var e=log4javascript.getLogger(defaultLoggerName),t=new log4javascript.PopUpAppender;return e.addAppender(t),e}if(AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender,function(){var e=[],t=1;function n(e,t,n,r,o){this.create(!1,null,e,t,n,r,o,this.defaults.focusPopUp)}function r(e,t,n,r,o,i){this.create(!0,e,t,n,r,o,i,!1)}(ConsoleAppender=function(){}).prototype=new Appender,ConsoleAppender.prototype.create=function(n,r,o,i,a,s,l,c){var u=this,d=!1,h=!1,p=!1,f=!1,g=[],m=!0,v=t++;i=extractBooleanFromParam(i,this.defaults.initiallyMinimized),o=extractBooleanFromParam(o,this.defaults.lazyInit),a=extractBooleanFromParam(a,this.defaults.useDocumentWrite);var y=this.defaults.newestMessageAtTop,b=this.defaults.scrollToLatestMessage;s=s||this.defaults.width,l=l||this.defaults.height;var w,E,C,L,M,x=this.defaults.maxMessages,S=this.defaults.showCommandLine,T=this.defaults.commandLineObjectExpansionDepth,I=this.defaults.showHideButton,A=this.defaults.showCloseButton;this.setLayout(this.defaults.layout);var D=n?"InPageAppender":"PopUpAppender",N=function(e){return!h||(handleError(D+": configuration option '"+e+"' may not be set after the appender has been initialized"),!1)},j=function(){return p&&m&&!f};this.isNewestMessageAtTop=function(){return y},this.setNewestMessageAtTop=function(e){y=bool(e),j()&&L().setNewestAtTop(y)},this.isScrollToLatestMessage=function(){return b},this.setScrollToLatestMessage=function(e){b=bool(e),j()&&L().setScrollToLatest(b)},this.getWidth=function(){return s},this.setWidth=function(e){N("width")&&(s=extractStringFromParam(e,s))},this.getHeight=function(){return l},this.setHeight=function(e){N("height")&&(l=extractStringFromParam(e,l))},this.getMaxMessages=function(){return x},this.setMaxMessages=function(e){x=extractIntFromParam(e,x),j()&&L().setMaxMessages(x)},this.isShowCommandLine=function(){return S},this.setShowCommandLine=function(e){S=bool(e),j()&&L().setShowCommandLine(S)},this.isShowHideButton=function(){return I},this.setShowHideButton=function(e){I=bool(e),j()&&L().setShowHideButton(I)},this.isShowCloseButton=function(){return A},this.setShowCloseButton=function(e){A=bool(e),j()&&L().setShowCloseButton(A)},this.getCommandLineObjectExpansionDepth=function(){return T},this.setCommandLineObjectExpansionDepth=function(e){T=extractIntFromParam(e,T)};var O=i;function _(e,t){this.loggingEvent=e,this.levelName=e.level.name,this.formattedMessage=t}function P(e,t){this.name=e,this.initiallyExpanded=t}function k(){}this.isInitiallyMinimized=function(){return i},this.setInitiallyMinimized=function(e){N("initiallyMinimized")&&(i=bool(e),O=i)},this.isUseDocumentWrite=function(){return a},this.setUseDocumentWrite=function(e){N("useDocumentWrite")&&(a=bool(e))},_.prototype.append=function(){L().log(this.levelName,this.formattedMessage)},P.prototype.append=function(){L().group(this.name,this.initiallyExpanded)},k.prototype.append=function(){L().groupEnd()};var R=function(){C(),d?f&&ee&&E():w(),C()&&F()};this.append=function(e){if(m){var t=u.getLayout().formatWithException(e);g.push(new _(e,t)),R()}},this.group=function(e,t){m&&(g.push(new P(e,t)),R())},this.groupEnd=function(){m&&(g.push(new k),R())};var F=function(){for(;g.length>0;)g.shift().append();c&&L().focus()};this.setAddedToLogger=function(e){this.loggers.push(e),enabled&&!o&&w()},this.clear=function(){j()&&L().clearLog(),g.length=0},this.focus=function(){j()&&L().focus()},this.focusCommandLine=function(){j()&&L().focusCommandLine()},this.focusSearch=function(){j()&&L().focusSearch()};var B=window;this.getCommandWindow=function(){return B},this.setCommandWindow=function(e){B=e},this.executeLastCommand=function(){j()&&L().evalLastCommand()};var U=new PatternLayout("%m");this.getCommandLayout=function(){return U},this.setCommandLayout=function(e){U=e},this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n="";try{var r,o;!B.eval&&B.execScript&&B.execScript("null");var i={};for(o=0,len=H.length;o<len;o++)i[H[o][0]]=H[o][1];var a=[],s=function(e){a.push([e,B[e]])};s("appender"),B.appender=u,s("commandReturnValue"),B.commandReturnValue=t,s("commandLineFunctionsHash"),B.commandLineFunctionsHash=i;var l=function(e){s(e),B[e]=function(){return this.commandLineFunctionsHash[e](u,arguments,t)}};for(o=0,len=H.length;o<len;o++)l(H[o][0]);for(B===window&&B.execScript?(s("evalExpr"),s("result"),window.evalExpr=e,B.execScript("window.result=eval(window.evalExpr);"),r=window.result):r=B.eval(e),n=isUndefined(r)?r:formatObjectExpansion(r,T),o=0,len=a.length;o<len;o++)B[a[o][0]]=a[o][1]}catch(e){n="Error evaluating command: "+getExceptionStringRep(e),t.isError=!0}if(t.appendResult){var c=">>> "+e;isUndefined(n)||(c+=newLine+n);var d=t.isError?Level.ERROR:Level.INFO,h=new LoggingEvent(null,new Date,d,[c],null),p=this.getLayout();this.setLayout(U),this.append(h),this.setLayout(p)}};var H=e.concat([]);this.addCommandLineFunction=function(e,t){H.push([e,t])},this.storeCommandHistory=function(e){setCookie("log4javascriptCommandHistory",e.join(","))};var W=function(e){var t=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];e.open();for(var n=0,r=t.length;n<r;n++)e.writeln(t[n]);e.close()};this.setEventTypes(["load","unload"]);var G=function(){var e=L();e.setAppender(u),e.setNewestAtTop(y),e.setScrollToLatest(b),e.setMaxMessages(x),e.setShowCommandLine(S),e.setShowHideButton(I),e.setShowCloseButton(A),e.setMainWindow(window);var t=getCookie("log4javascriptCommandHistory");t&&(e.commandHistory=t.split(","),e.currentCommandIndex=e.commandHistory.length),u.dispatchEvent("load",{win:e})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),f||(logLog.debug("really doing unload "+this),f=!0,p=!1,h=!1,u.dispatchEvent("unload",{}))};var z=function(e,t,n,r){var o=setInterval((function(){try{f&&clearInterval(o),e(L())&&(clearInterval(o),n())}catch(e){clearInterval(o),m=!1,handleError(r,e)}}),t)},V=function(){var e=document.domain!=location.hostname;return a?"":getBaseUrl()+"console.html"+(e?"?log4javascript_domain="+escape(document.domain):"")};if(n){var Y=null,$=[];this.addCssProperty=function(e,t){N("cssProperties")&&$.push([e,t])};var K,q=!1,Q=uniqueId+"_InPageAppender_"+v;this.hide=function(){d&&h&&(j()&&L().$("command").blur(),K.style.display="none",O=!0)},this.show=function(){d&&(h?(K.style.display="block",this.setShowCommandLine(S),O=!1):q||E(!0))},this.isVisible=function(){return!O&&!f},this.close=function(e){f||e&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(K.parentNode.removeChild(K),this.unload())},M=function(){var e="InPageAppender.open: unable to create console iframe";function t(){try{i||u.show(),G(),p=!0,F()}catch(t){m=!1,handleError(e,t)}}function n(){try{var n=function(e){return isLoaded(e)};a&&W(L().document),n(L())?t():z(n,100,t,e)}catch(t){m=!1,handleError(e,t)}}O=!1,(K=Y.appendChild(document.createElement("div"))).style.width=s,K.style.height=l,K.style.border="solid gray 1px";for(var r=0,o=$.length;r<o;r++)K.style[$[r][0]]=$[r][1];var c=a?"":" src='"+V()+"'";K.innerHTML="<iframe id='"+Q+"' name='"+Q+"' width='100%' height='100%' frameborder='0'"+c+" scrolling='no'></iframe>",f=!1;var d=function(e){try{return bool(e)&&bool(e.document)}catch(e){return!1}};d(L())?n():z(d,100,n,e),h=!0},E=function(e){if(e||!i){var t=function(){if(r)try{var e=document.getElementById(r);1==e.nodeType&&(Y=e),M()}catch(e){handleError("InPageAppender.init: invalid container element '"+r+"' supplied",e)}else(Y=document.createElement("div")).style.position="fixed",Y.style.left="0",Y.style.right="0",Y.style.bottom="0",document.body.appendChild(Y),u.addCssProperty("borderWidth","1px 0 0 0"),u.addCssProperty("zIndex",1e6),M()};pageLoaded&&r&&r.appendChild?(Y=r,M()):pageLoaded?t():log4javascript.addEventListener("load",t),q=!0}},w=function(){E(),d=!0},L=function(){var e=window.frames[Q];if(e)return e},C=function(){return!(!m||f)&&(h&&!p&&L()&&isLoaded(L())&&(p=!0),p)}}else{var X,J=u.defaults.useOldPopUp,Z=u.defaults.complainAboutPopUpBlocking,ee=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return J},this.setUseOldPopUp=function(e){N("useOldPopUp")&&(J=bool(e))},this.isComplainAboutPopUpBlocking=function(){return Z},this.setComplainAboutPopUpBlocking=function(e){N("complainAboutPopUpBlocking")&&(Z=bool(e))},this.isFocusPopUp=function(){return c},this.setFocusPopUp=function(e){c=bool(e)},this.isReopenWhenClosed=function(){return ee},this.setReopenWhenClosed=function(e){ee=bool(e)},this.close=function(){logLog.debug("close "+this);try{X.close(),this.unload()}catch(e){}},this.hide=function(){logLog.debug("hide "+this),j()&&this.close()},this.show=function(){logLog.debug("show "+this),h||M()},this.isVisible=function(){return C()},M=function(){var e="width="+s+",height="+l+",status,resizable",t="";try{var n=window.frameElement;n&&(t="_"+n.tagName+"_"+(n.name||n.id||""))}catch(e){t="_inaccessibleParentFrame"}var r="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+v+t;J&&a||(r=r+"_"+uniqueId);var o=function(e){if(f)return!0;try{return bool(e)&&e.closed}catch(e){}return!1},i=function(){f||u.unload()};function c(){L().setCloseIfOpenerCloses(!J||!a),G(),p=!0,F(),z(o,500,i,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}try{X=window.open(V(),r,e),f=!1,h=!0,X&&X.document?a&&J&&isLoaded(X)?(X.mainPageReloaded(),c()):(a&&W(X.document),isLoaded(X)?c():z((function(e){return bool(e)&&isLoaded(e)}),100,c,"PopUpAppender.init: unable to create console window")):(m=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),Z&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(e){handleError("PopUpAppender.init: error creating pop-up",e)}},E=function(){i||M()},w=function(){E(),d=!0},L=function(){return X},C=function(){if(m&&!isUndefined(X)&&!f){if(X.closed||p&&isUndefined(X.closed))return u.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!p&&isLoaded(X)&&(p=!0)}return m&&p&&!f}}this.getConsoleWindow=L},ConsoleAppender.addGlobalCommandLineFunction=function(t,n){e.push([t,n])},n.prototype=new ConsoleAppender,n.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0},n.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=n,r.prototype=new ConsoleAppender,r.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},r.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=r,log4javascript.InlineAppender=r}(),function(){function e(e){var t=0;for(var n in e)t=Math.max(toStr(n).length,t);var r=[];for(n in e){var o,i="  "+padWithSpaces(toStr(n),t+2);try{o=splitIntoLines(toStr(e[n])).join(padWithSpaces(newLine,t+6))}catch(e){o="[Error obtaining property. Details: "+getExceptionMessage(e)+"]"}r.push(i+o)}return r.join(newLine)}var t=1,n=3,r=4,o=9,i=11,a=["script","pre"],s=["br","img","hr","param","link","area","input","col","base","meta"];function l(e,c,u,d,h){var p,f,g,m,v;function y(e){for(var t=e.style.cssText.split(";"),n="",r=0,o=t.length;r<o;r++){var i=t[r].split(":"),a=[];/^\s*$/.test(i[0])||a.push(trim(i[0]).toLowerCase()+":"+trim(i[1])),n=a.join(";")}return n}if("string"!=typeof u&&(u=""),d=!!d,h=!!h,!(c=void 0===c||!!c)||e.nodeType==i){for(p="",f=0,g=e.childNodes.length;f<g;f++)p+=l(e.childNodes[f],!0,u+"  ");return p}switch(e.nodeType){case t:var b=e.tagName.toLowerCase();p=d?newLine+u:"",p+="<";var w=(v=e).prefix?v.prefix:v.outerHTML&&new RegExp("<([^:]+):"+v.tagName+"[^>]*>","i").test(v.outerHTML)?RegExp.$1.toLowerCase():"",E=!!w;for(E&&(p+=w+":"),p+=b,f=0,g=e.attributes.length;f<g;f++){var C=e.attributes[f];C.specified&&null!==C.nodeValue&&"style"!==C.nodeName.toLowerCase()&&"string"==typeof C.nodeValue&&0!==C.nodeName.indexOf("_moz")&&(p+=" "+C.nodeName.toLowerCase()+'="',p+=C.nodeValue.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),p+='"')}if(e.style.cssText&&""!==y(e)&&(p+=' style="'+y(e)+'"'),array_contains(s,b)||E&&!e.hasChildNodes())p+="/>";else{p+=">";var L=!(1===e.childNodes.length&&e.childNodes[0].nodeType===n),M=array_contains(a,b);for(f=0,g=e.childNodes.length;f<g;f++)p+=l(e.childNodes[f],!0,u+"  ",L,M);var x="</"+b+">";p+=L?newLine+u+x:x}return p;case n:if((m=e).nodeType==n&&/^[ \t\r\n]*$/.test(m.nodeValue))p="";else{if(h)p=e.nodeValue;else{var S=splitIntoLines(trim(e.nodeValue)),T=[];for(f=0,g=S.length;f<g;f++)T[f]=trim(S[f]);p=T.join(newLine+u)}d&&(p=newLine+u+p)}return p;case r:return"<![CDATA["+e.nodeValue+"]]>"+newLine;case o:for(p="",f=0,g=e.childNodes.length;f<g;f++)p+=l(e.childNodes[f],!0,u);return p;default:return""}}ConsoleAppender.addGlobalCommandLineFunction("$",(function(e,t,n){return document.getElementById(t[0])})),ConsoleAppender.addGlobalCommandLineFunction("dir",(function(t,n,r){for(var o=[],i=0,a=n.length;i<a;i++)o[i]=e(n[i]);return o.join(newLine+newLine)})),ConsoleAppender.addGlobalCommandLineFunction("dirxml",(function(e,t,n){for(var r=[],o=0,i=t.length;o<i;o++)r[o]=l(t[o]);return r.join(newLine+newLine)})),ConsoleAppender.addGlobalCommandLineFunction("cd",(function(e,t,n){var r,o;return 0===t.length||""===t[0]?(r=window,o="Command line set to run in main window"):t[0].window==t[0]?(r=t[0],o="Command line set to run in frame '"+t[0].name+"'"):(r=window.frames[t[0]])?o="Command line set to run in frame '"+t[0]+"'":(n.isError=!0,o="Frame '"+t[0]+"' does not exist",r=e.getCommandWindow()),e.setCommandWindow(r),o})),ConsoleAppender.addGlobalCommandLineFunction("clear",(function(e,t,n){n.appendResult=!1,e.clear()})),ConsoleAppender.addGlobalCommandLineFunction("keys",(function(e,t,n){var r=[];for(var o in t[0])r.push(o);return r})),ConsoleAppender.addGlobalCommandLineFunction("values",(function(e,t,n){var r=[];for(var o in t[0])try{r.push(t[0][o])}catch(e){logLog.warn("values(): Unable to obtain value for key "+o+". Details: "+getExceptionMessage(e))}return r})),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",(function(e,t,n){var r=parseInt(t[0],10);return isNaN(r)||r<0?(n.isError=!0,t[0]+" is not a valid expansion depth"):(e.setCommandLineObjectExpansionDepth(r),"Object expansion depth set to "+r)}))}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(e){oldOnload&&oldOnload(e),log4javascript.setDocumentReady()}}return log4javascript},root=this,"function"==typeof define&&define.amd?define(factory):"object"==_typeof(exports)?module.exports=factory():root.log4javascript=factory()}).call(this,__webpack_require__(5),__webpack_require__(21))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(){function t(){this.update=function(e){var t=TrueChartCore_API.GlobalFeatureManager.Variables.Feature;t.update&&t.update(e)};var n=t.varList=new Map,r=new Date;n.set("vToday_yyyy",{definition:"// Today's year, 4-digit\nnew Date().getFullYear().toString()",value:r.getFullYear().toString()}),n.set("vToday_yy",{definition:"// Today's year, 2-digit\nnew Date().getFullYear().toString().substr(2)",value:r.getFullYear().toString().substr(2)});var o=(r.getMonth()+1).toString();n.set("vToday_M",{definition:"// Today's month number\n(new Date().getMonth() + 1).toString()",value:o.toString()}),o.length<2&&(o="0"+o),n.set("vToday_MM",{definition:'// Today\'s month number, leading-zero\nfunction(){\n  var m = (new Date().getMonth() + 1).toString();\n  if (m.length < 2) m = "0" + m;\n  return m;\n}()',value:o.toString()}),n.set("vToday_MMMM",{definition:'// Today\'s full month name\nnew Date().toLocaleDateString(window.navigator.language, { month: "long" })',value:r.toLocaleDateString(e.navigator.language,{month:"long"})}),n.set("vToday_MMM",{definition:'// Today\'s short month name\nnew Date().toLocaleDateString(window.navigator.language, { month: "short" })',value:r.toLocaleDateString(e.navigator.language,{month:"short"})});var i=r.getDate().toString();n.set("vToday_d",{definition:"// Today's day number\nnew Date().getDate().toString()",value:i.toString()}),i.length<2&&(i="0"+i),n.set("vToday_dd",{definition:'// Today\'s day number, leading-zero\nfunction(){\n  var d = (new Date().getDate()).toString();\n  if (d.length < 2) d = "0" + d;\n  return d;\n}()',value:i.toString()})}return t.prototype.listAll=function(){var e=new Map;return t.varList.forEach((function(t,n){e.set(n,t)})),Promise.resolve(e)},t.prototype.get=function(e){return new Promise((function(n,r){var o=t.varList.get(e);o?n(o.value):r(new TypeError('Unknown variable with name "'+e+'"'))}))},t.prototype.setContent=function(e){var n=t.varList,r=new Map;e.forEach((function(e,t){var o=n.get(t);o&&o.definition===e.definition&&o.value===e.value||(r.set(t,e),void 0===e.definition?n.delete(t):n.set(t,e))})),r.size>0&&this.update(r)},t.prototype.set=function(e,n){var r,o=t.varList.get(e);return o&&(t.varList.set(e,o={definition:o.definition,value:n}),this.update(((r={})[e]=o,r))),Promise.resolve()},t.valuesToDistinctString=function(e){var t=Array.from(e,(function(e){try{return e.toString()}catch(e){return"?"}})).sort(),n=[],r="";return t.forEach((function(e){e!==r&&(n.push(e),r=e)})),n.join(",")},t.dimensionNameToVariableName=function(e){return"vDim_"+e.trim().replace(/ /g,"_")},t.measureNameToVariableName=function(e){return"vMsr_"+e.trim().replace(/ /g,"_")},t.Instance=new t,t}()}).call(this,n(5))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n(16),o=(n(0),n(17));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"object"==i(e)&&null!==e}function s(e){return"function"==typeof e||a(e)}function l(e){var t=[];e:for(var n=0,r=e;n<r.length;n++){for(var o=r[n],i=0,a=t;i<a.length;i++)if(a[i]===o)continue e;t.push(o)}return t}r.a.moveByIndex,r.a.createAndFill;function c(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];t(e[o],o)}}o.a.createGuid;function u(e,t){throw void 0===t&&(t=Error),new t(e)}},function(e,t){e.exports=Function("return this")()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={version:"2.4.1",baseurl:"https://tccore.truechart.com",service:!"#NAMESPACE_URL#".startsWith("#NAMESPACE_")&&!"#NAMESPACE_PORT#".startsWith("#NAMESPACE_")&&!"#NAMESPACE_PATH#".startsWith("#NAMESPACE_")?{serviceHost:"#NAMESPACE_URL#",servicePort:parseInt("#NAMESPACE_PORT#"),servicePath:"#NAMESPACE_PATH#"}:void 0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n(40),n(45);var r,o=n(4),i=n(48),a=n(0),s=n(20),l=n(25),c=n(14),u=n(26),d=n(6),h=n(3),p=n(29),f=n(30),g=n(15),m=n(13),v=n(1),y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},w=function(){function e(t){var n=this;this.dataCacheInit=[],this._viewMode=-1,this._editMode=-1,this.initVisual=function(){return n.initPromise||(n.initPromise=r.then((function(){return y(n,void 0,void 0,(function(){var t,n,r=this;return b(this,(function(i){switch(i.label){case 0:return t=TrueChartCore_API,n=this.settings,Object(m.a)(n.ServiceUserName),this.document.setupTrueChart(n.InstanceId),t.GlobalFeatureManager.Actions.update({execute:p.a.Instance.Definitions,preventActions:function(){return!1},unsupported:["Refresh"]}),t.GlobalFeatureManager.Storage.update({document:n.getDocStorageFeature(),sync:n.getSyncStorageFeature(),extension:n.getExtStorageFeature()}),t.GlobalFeatureManager.Cookies.update({setCookie:n.getCookieStorageFeature().setCookie,readCookie:n.getCookieStorageFeature().readCookie}),t.GlobalFeatureManager.Variables.update({get:h.a.Instance.get,set:h.a.Instance.set,listAll:h.a.Instance.listAll}),t.GlobalFeatureManager.Selection.update({currentSelection:this.selectionTools.currentSelection,onSelection:this.selectionTools.onSelection}),t.GlobalFeatureManager.CustomContextMenu.update({open:function(e,n,o){n.addEntry({handler:function(e){r.selectionTools.showContextMenu(e)},icon:"gear",level:"Consumer",text:"PowerBI"}),n.addEntry({handler:function(){r.settings.renewInstanceProps(),t.UIManager.Toaster.warning(r.trans("@MAKE_INDEPENDENT_MESSAGE"),r.trans("@MAKE_INDEPENDENT_TITLE"))},icon:"copy",text:r.trans("@MAKE_INDEPENDENT"),level:"Designer",tooltip:r.trans("@MAKE_INDEPENDENT_HELP")},"OBJECT"),o.open(n)}}),n.Service_Host?t.GlobalFeatureManager.Service.update(n.Service_Host):n.NeedServiceInfo&&Object(o.d)("Service configuration incomplete"),t.ConfigManager.setConfig({documentLocation:v.c,documentName:n.DocumentName,documentTitle:n.DocumentTitle,documentVersion:n.DocumentVersion,originDocumentName:n.DocumentName,originDocumentVersion:n.OriginDocumentVersion,getServerId:function(e){return e.element.id},user:{username:n.ServiceUserName},biSystem:"powerbi",language:e.host.locale.startsWith("de")?"de_DE":"en_US",canDoScreenshot:!0}),this._tcInstance=t.createTrueChart(this.document.TrueChartElement),this._tcInstance.EventsManager.OnError=e.tcError,this._tcInstance.EventsManager.subscribe("applySelection",this.selectionTools.triggerSelection.bind(this.selectionTools)),this.dataMapping=new c.a(this._tcInstance),[4,this.applyDataUpdate(this.consumeCachedData())];case 1:return i.sent(),this.document.hideLoadingIndicator(),this._tcInstance.show(),[2,this._tcInstance.Initialized]}}))}))})))},this.applyDataUpdate=function(e){e&&n.DataMapping.applyData(n.selectionTools,e.dataViews[0])},e.paintingContainer=t.element,e.host=t.host;this.locMgr=t.host.createLocalizationManager(),this.settings=new u.a(t.host,d.a,(function(){return 0===n._viewMode||-1===n._viewMode})),this.document=new f.a(t.element,this.trans=function(e){return n.locMgr.getDisplayName(e)},!this.settings.Service_Host),this.selectionTools=new l.a(t.host),this.handleLandingPage(t);var s=this.document.Debug?"?t="+Date.now():"";r=i.a.load(d.a.baseurl+"/"+d.a.version+"/index.js"+s).then(void 0,(function(t){var n="Error while loading external resources";e.handleErrors(n,{message:"Please check your network connection or contact your system administrator."}),a.a.error(n,t)}))}return e.prototype.handleLandingPage=function(e){var t=this;this.document.OnServiceInformationLoaded=function(e,n){t.settings.CustomerId=e,t.settings.updateServiceInfo(n),t.settings.save(["customerid"]).catch(a.a.error)},this.document.OnLandingButtonClicked=function(e){t.settings.DesktopMode=e,e&&(t.settings.ServiceUserName=v.b,t.document.OnServiceInformationLoaded("")),t.settings.save(["noservice"]).then((function(){var e=t.consumeCachedData();e&&t.update(e)}),a.a.error)},this.document.OnLinkClicked=function(t){e.host.launchUrl(t)}},Object.defineProperty(e.prototype,"EditMode",{set:function(e){if(this._editMode!==e){switch(e){case 1:this.TCInstance.EventsManager.trigger("openLayoutEditor");break;default:1===this._editMode&&this.TCInstance.EventsManager.trigger("closeLayoutEditor")}this._editMode=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TCInstance",{get:function(){return this._tcInstance||Object(o.d)("No trueChart instance",TypeError)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DataMapping",{get:function(){return this.dataMapping||Object(o.d)("DataMapping is not set yet. Please wait before visual was ready initialized!",TypeError)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ViewMode",{set:function(e){this._viewMode===e&&this._documentMode||(this._viewMode=e,TrueChartCore_API.ConfigManager.setDocumentMode(this._documentMode=0===e?"PRESENTATION":"DESIGN"))},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=this;this.document.Debug&&console.info("update: "+[2,4,8,16,32].filter((function(t){return(e.type&t)>0})).join(",")),this.dataCacheInit.push(e);var n=e.dataViews[0];this.settings.loadSettings(n),n&&!n.categorical&&n.metadata.columns.length||this.handleInitialization(e).then((function(){return t.handleUpdates(e)}),(function(e){return e&&a.a.error(e)}))},e.prototype.handleInitialization=function(e){var t=this;if(this.initPromise)return this.initPromise;this.document.showLoadingIndicator(),void 0!==e.viewMode&&-1===this._viewMode&&(this._viewMode=e.viewMode);var n=this.settings;return new Promise((function(e,t){try{n.NeedServiceInfo&&n.CustomerId?Object(g.a)(n.CustomerId).then((function(t){n.updateServiceInfo(t),e()}),t):e()}catch(e){t(e)}})).then((function(){if(!n.ServiceUserName||n.NeedServiceInfo)return t.document.showLandingPage(),Promise.reject();n.freezeInitializationData()})).then(this.initVisual)},e.prototype.handleUpdates=function(e){void 0!==e.viewMode&&(this.ViewMode=e.viewMode),void 0!==e.editMode&&(this.EditMode=e.editMode),(4&e.type)>0&&this.TCInstance.EventsManager.trigger("resize"),this.applyDataUpdate(this.consumeCachedData())},e.prototype.enumerateObjectInstances=function(e){return this.settings.enumerateObjectInstances(e)},e.clearErrorsMessages=function(){var e=this.paintingContainer.querySelector(".errorDiv");e&&this.paintingContainer.removeChild(e)},e.handleErrors=function(e,t){var n=s.a.createElement;a.a.error(e,t),this.clearErrorsMessages();var r=this.paintingContainer.querySelector(".loadingChart");r&&(r.style.visibility="hidden"),this.paintingContainer.appendChild(n("div",{id:"hico_errorDiv"},n("div",null,n("strong",null,e),n("br"),String(t&&t.message||t||"ERROR"))))},e.tcError=function(e){a.a.error("tcCore encountered an error:",e.message)},e.prototype.consumeCachedData=function(){var e=this.dataCacheInit.pop();return this.dataCacheInit.length=0,e},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,o=n(32),i=n(18),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.internal=new l(!1),t.service=new c,t}return a(t,e),t.prototype.getPersistObject=function(n){var r=e.prototype.getPersistObject.call(this);return(n=n||t.getDefaultObjectsKeys()).internal&&r.merge.push({objectName:"internal",properties:o.a.pick(this.internal,n.internal),selector:null}),n.service&&r.merge.push({objectName:"service",properties:o.a.pick(this.service,n.service),selector:null}),r},t.getDefault=function(){var t=e.getDefault.call(this);return t.internal=new l(!1),t.service=new c,t},t.enumerateObjectInstances=function(t,n){return e.enumerateObjectInstances.call(this,t,n)},t.getDefaultObjectsKeys=function(){return{internal:["instanceid","customerid","document","extension","sync","cookies","noservice","info"],service:["name"]}},t}(i.a),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.instanceid="",t.customerid="",t.document="null",t.extension="null",t.sync="null",t.cookies="null",t.noservice="null",t.info="null",t}return a(t,e),t}(i.b),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return a(t,e),t}(i.b)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return e?r.a(e[t.objectName],t.propertyName,n):n}function a(e,t,n){var r=i(e,t,n);return r&&r.solid?r.solid.color:null==r||"object"===o(r)&&!r.solid?n:r}},function(e,t,n){"use strict";function r(e,t,n){if(!e)return n;var r=e[t];return void 0===r?n:r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6);function o(e){return void 0===e&&(e="Anonymous"),{level:"WARN",hasService:!!r.a.service,serviceUrl:r.a.service?r.a.service.serviceHost+":"+r.a.service.servicePort+"/"+r.a.service.servicePath+"/index.jsp":void 0,username:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(0),i=n(3),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(){function e(e){this.dataMapping={},this.tcDataSource=e.DataManager.addDataSource("PowerBI")}return e.prototype.applyData=function(e,t){var n,s,c=this;try{if(!t||!t.categorical)return;var u=t.categorical.categories||[],d=t.categorical.values||[],h=new Map;e.pushData(t);var p=d.filter((function(e){var t;return null===(t=e.source.roles)||void 0===t?void 0:t.m1}));this.tcDataSource.beginUpdate();for(var f=[],g=[],m=0,v=u;m<v.length;m++){var y=v[m],b=void 0;(C=y.source.displayName.trim())in this.dataMapping?(b=this.dataMapping[C],this.tcDataSource.changeData(((n={})[b]=y.values,n))):(b=this.tcDataSource.addDimension({name:C,type:"text"},y.values),this.dataMapping[C]=b),h.set(i.a.dimensionNameToVariableName(C),{definition:"//(auto) Dimension values of "+C,value:i.a.valuesToDistinctString(y.values)}),f.push(b)}for(var w=0,E=p;w<E.length;w++){var C,L=E[w];b=void 0;(C=L.source.displayName.trim())in this.dataMapping?(b=this.dataMapping[C],this.tcDataSource.changeData(((s={})[b]=l(L),s))):(b=this.tcDataSource.addMeasure({name:C,type:"number"},l(L)),this.dataMapping[C]=b),h.set(i.a.measureNameToVariableName(C),{definition:"//(auto) Measure values of "+C,value:i.a.valuesToDistinctString(L.highlights||L.values)}),g.push(b)}var M=!1,x=this.tcDataSource.Data.filter((function(e){var t=e.some((function(e){return null===e}));return M=M||t,!t}));if(M&&x.length){var S=x[0].map((function(e,t){return x.map((function(e){return e[t]}))})),T=this.tcDataSource.listDimensions(),I=this.tcDataSource.listMeasures(),A={};T.forEach((function(e,t){A[e.id]=S[t]}));var D=T.length;I.forEach((function(e,t){A[e.id]=S[D+t]})),this.tcDataSource.changeData(A),e.resetSelection()}Object(r.c)(a({},this.dataMapping),(function(e,t){var n=f.indexOf(e)>-1,r=g.indexOf(e)>-1;if(!n&&!r){for(var o=0,a=c.tcDataSource.listDimensions();o<a.length;o++){var s=a[o];if(s.id==e){h.set(i.a.dimensionNameToVariableName(s.name),{}),c.tcDataSource.removeDimension(e),delete c.dataMapping[t];break}}for(var l=0,u=c.tcDataSource.listMeasures();l<u.length;l++){var d=u[l];if(d.id==e){h.set(i.a.measureNameToVariableName(d.name),{}),c.tcDataSource.removeMeasure(e),delete c.dataMapping[t];break}}}})),h.set("vDimCount",{definition:"//(auto) Number of available dimensions",value:this.tcDataSource.listDimensions().length.toString()}),h.set("vMsrCount",{definition:"//(auto) Number of available measures",value:this.tcDataSource.listMeasures().length.toString()}),i.a.Instance.setContent(h),this.tcDataSource.endUpdate()}catch(e){throw o.a.error("Error occurred during DataMapping.applyData",e),e}},e.getUsernameFromDataView=function(e){var t,n="";if(e.categorical&&e.categorical.values)for(var r=0,o=e.categorical.values;r<o.length;r++){var i=o[r];if((null===(t=i.source.roles)||void 0===t?void 0:t.username)&&i.values.length&&(n=i.values[0].toString()))break}return n},e}();function l(e){return e.highlights||e.values.map(c)}function c(e){return null===e?0:e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1);function o(e){return self.fetch(r.e.getServiceConfig+"?"+e).then((function(e){return e.ok?e.json():Promise.reject(new Error("Invalid Response "+e.statusText))}))}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.uniquePush=function(e,t){return-1===t.indexOf(e)&&t.push(e),function(){var n=t.indexOf(e);return-1!==n?t.splice(n,1):[]}},e.createAndFill=function(e,t){return Array(e).fill(t)},e.moveByIndex=function(e,t,n,r){var o=r?e:e.slice(),i=o.splice(t,1)[0];return o.splice(n,0,i),o},e.getNewActiveIndex=function(e,t,n){return e>0&&n<=e&&t<=e&&n>=0&&t>=0?n>t?t:t>0?t-1:t:-1}}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.createGuid=function(){return"xxxxxxxx-xxxx-xxxx-4yxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.generateChartId=function(){return"chart"+e.generateRandomNumber(13)},e.generateRandomNumber=function(e){return void 0===e&&(e=13),Math.floor((1+Math.floor(9*Math.random())+Math.random())*Math.pow(10,e-1))},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r,o=n(27),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.enumerateObjectInstances=function(t,n){var r=t[n.objectName];return r&&r.IsEnumerable?e.enumerateObjectInstances.call(this,t,n):[]},t.prototype.getPersistObject=function(){return{merge:[],replace:[],remove:[],removeObject:[]}},t}(o.a.DataViewObjectsParser),s=function(){function e(e){void 0===e&&(e=!0),this._isEnumerable=e}return Object.defineProperty(e.prototype,"IsEnumerable",{get:function(){return this._isEnumerable},enumerable:!0,configurable:!0}),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7),o=function(e){function t(t){return void 0===t&&(t="canceled"),e.call(this,t)||this}return Object(r.b)(t,e),t}(n(28).a)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r,o=n(7),i=n(4);!function(t){var n;function r(){var e=document;return!(null===e.fullscreenElement||null===e.webkitFullscreenElement||null===e.mozFullScreenElement||null===e.msFullscreenElement)}function a(e){return e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth}t.createElement=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a="string"==typeof e?document.createElement(e):e;if(t){var s=t.on,l=t.style,c=Object(o.c)(t,["on","style"]);Object.assign(a,c),l&&Object.assign(a.style,l),s&&Object(i.c)(s,(function(e,t){e&&a.addEventListener(t,e)}))}for(var u=0,d=n;u<d.length;u++){var h=d[u];h&&a.appendChild("string"==typeof h?document.createTextNode(h):h)}return a},t.getElementOrThrow=function(e,t,n){void 0===t&&(t=Element),void 0===n&&(n=document);var r=n.querySelector(e);return r&&r instanceof t?r:Object(i.d)(r?"Incorrect Element instance "+t.name:'Element not found "'+e+'"',TypeError)},t.detectIE=function(){return e.navigator.userAgent.indexOf("MSIE ")>-1||e.navigator.userAgent.indexOf("Trident/")>-1},t.getScriptPath=function(e){for(var t="",n=document.getElementsByTagName("script"),r="/"+e+".js",o=0,i=Array.prototype.slice.apply(n);o<i.length;o++){var a=i[o];if(a.src.indexOf(r)>-1){t=a.src.split(r)[0];break}}return t},t.getScrollableParent=function(e,t){for(void 0===t&&(t=1/0),e=e&&e.parentElement;e&&t-- >0;){if(a(e))return e;e=e.parentElement}return null},t.hasParentWithClass=function(e,t){for(;e&&(e=e.parentElement||e.parentNode);)if(e instanceof Element&&e.classList.contains(t))return!0;return!1},t.isFullScreen=r,t.isScrollable=a,t.limitToWindowSize=function(t,n){if(void 0===n&&(n=0),!e)return t;var r=e.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=e.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{width:Math.max(0,Math.min(t.width,r-2*n)),height:Math.max(0,Math.min(t.height,o-2*n))}},t.toggleFullScreen=function(e){void 0===e&&(e=!r());var t=document;if(e){var n=t.documentElement,o=n.requestFullscreen||n.webkitRequestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen;return Promise.resolve(o.call(n))}var i=t.exitFullscreen||t.webkitExitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen;return Promise.resolve(i.call(t))},t.setSelectionCursorPosition=function(t,n){if(e.getSelection&&document.createRange){var r=document.createRange();r.selectNodeContents(t),r.collapse(n);var o=e.getSelection();if(o)o.removeAllRanges(),o.addRange(r);else if(document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(t),i.collapse(n),i.select()}}},t.getScrollbarWidth=function(e,t){if(void 0===t&&(t=document.body),void 0!==n&&!e)return n;var r=document.createElement("div");r.style.position="absolute",r.style.visibility="hidden",r.style.overflow="scroll",t.appendChild(r);var o=document.createElement("div");return r.appendChild(o),n=r.offsetWidth-o.offsetWidth,r.parentNode&&r.parentNode.removeChild(r),n}}(r||(r={}))}).call(this,n(5))},function(e,t){e.exports=!1},function(e,t,n){"use strict";n.r(t),n.d(t,"DataViewObjectsParser",(function(){return i}));var r=n(11);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getDefault",value:function(){return new this}},{key:"createPropertyIdentifier",value:function(e,t){return{objectName:e,propertyName:t}}},{key:"parse",value:function(e){var t,n=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return n;for(var o in t=n.getProperties())for(var i in t[o]){var a=n[o][i];n[o][i]=r.a(e.metadata.objects,t[o][i],a)}return n}},{key:"isPropertyEnumerable",value:function(t){return!e.InnumerablePropertyPrefix.test(t)}},{key:"enumerateObjectInstances",value:function(e,t){var n=e&&e[t.objectName];if(!n)return[];var r={objectName:t.objectName,selector:null,properties:{}};for(var o in n)n.hasOwnProperty(o)&&(r.properties[o]=n[o]);return{instances:[r]}}}],(n=[{key:"getProperties",value:function(){var t=this,n={};return Object.keys(this).forEach((function(r){if(e.isPropertyEnumerable(r)){var o=Object.keys(t[r]);n[r]={},o.forEach((function(t){e.isPropertyEnumerable(r)&&(n[r][t]=e.createPropertyIdentifier(r,t))}))}})),n}}])&&o(t.prototype,n),i&&o(t,i),e}();i.InnumerablePropertyPrefix=/^_/},function(e,t,n){(function(n,r,o,i){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */!function(n,r){"object"===a(t)&&void 0!==e?e.exports=r():"function"==typeof i&&i.amd?i(r):n.ES6Promise=r()}(this,(function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,s=void 0,l=void 0,c=function(e,t){m[i]=e,m[i+1]=t,2===(i+=2)&&(l?l(v):C())};var u=void 0!==n?n:void 0,d=u||{},h=d.MutationObserver||d.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function g(){var e=setTimeout;return function(){return e(v,1)}}var m=new Array(1e3);function v(){for(var e=0;e<i;e+=2){(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0}i=0}var y,b,w,E,C=void 0;function L(e,t){var n=this,r=new this.constructor(S);void 0===r[x]&&k(r);var o=n._state;if(o){var i=arguments[o-1];c((function(){return _(o,r,i,n._result)}))}else j(n,r,e,t);return r}function M(e){if(e&&"object"===a(e)&&e.constructor===this)return e;var t=new this(S);return I(t,e),t}p?C=function(){return r.nextTick(v)}:h?(b=0,w=new h(v),E=document.createTextNode(""),w.observe(E,{characterData:!0}),C=function(){E.data=b=++b%2}):f?((y=new MessageChannel).port1.onmessage=v,C=function(){return y.port2.postMessage(0)}):C=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(s=e.runOnLoop||e.runOnContext)?function(){s(v)}:g()}catch(e){return g()}}():g();var x=Math.random().toString(36).substring(2);function S(){}function T(t,n,r){n.constructor===t.constructor&&r===L&&n.constructor.resolve===M?function(e,t){1===t._state?D(e,t._result):2===t._state?N(e,t._result):j(t,void 0,(function(t){return I(e,t)}),(function(t){return N(e,t)}))}(t,n):void 0===r?D(t,n):e(r)?function(e,t,n){c((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?I(e,n):D(e,n))}),(function(t){r||(r=!0,N(e,t))}),e._label);!r&&o&&(r=!0,N(e,o))}),e)}(t,n,r):D(t,n)}function I(e,t){if(e===t)N(e,new TypeError("You cannot resolve a promise with itself"));else if(o=a(r=t),null===r||"object"!==o&&"function"!==o)D(e,t);else{var n=void 0;try{n=t.then}catch(t){return void N(e,t)}T(e,t,n)}var r,o}function A(e){e._onerror&&e._onerror(e._result),O(e)}function D(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&c(O,e))}function N(e,t){void 0===e._state&&(e._state=2,e._result=t,c(A,e))}function j(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&c(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?_(n,r,o,i):o(i);e._subscribers.length=0}}function _(t,n,r,o){var i=e(r),a=void 0,s=void 0,l=!0;if(i){try{a=r(o)}catch(e){l=!1,s=e}if(n===a)return void N(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==n._state||(i&&l?I(n,a):!1===l?N(n,s):1===t?D(n,a):2===t&&N(n,a))}var P=0;function k(e){e[x]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(S),this.promise[x]||k(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&D(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===M){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===L&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var s=new n(S);a?N(s,i):T(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?N(r,n):this._result[t]=n),0===this._remaining&&D(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;j(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}();var F=function(){function t(e){this[x]=P++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){I(e,t)}),(function(t){N(e,t)}))}catch(t){N(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return F.prototype.then=L,F.all=function(e){return new R(this,e).promise},F.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var o=e.length,i=0;i<o;i++)n.resolve(e[i]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},F.resolve=M,F.reject=function(e){var t=new this(S);return N(t,e),t},F._setScheduler=function(e){l=e},F._setAsap=function(e){c=e},F._asap=c,F.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F},F.Promise=F,F}))}).call(this,n(5),n(43),n(44),n(21))},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(n[l]=o[l])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(16),i=n(0),a=function(){function e(e){var t=this;this._clearBeforeSelection=!1,this._selectionListeners=[],this.currentSelection=function(){return new Promise((function(e){t._data&&t._data.categorical&&t._data.categorical.categories?e(t._data.categorical.categories.map((function(e){return{fieldName:e.source.displayName,selectedValues:Object(r.a)(e.values.filter(s).map(String))}}))):e([])}))},this.onSelection=function(e){return o.a.uniquePush(e,t._selectionListeners)},this._host=e,this._selectionManager=e.createSelectionManager()}return e.prototype.triggerSelection=function(e,t){var n=this;if(void 0===this._data)return console.error("try to select something before a data update was triggered"),Promise.resolve();var r=this._data.categorical&&this._data.categorical.categories&&this._data.categorical.categories[e.length-1];if(!r)return Promise.reject();var o=this._data.categorical&&this._data.categorical.categories,i=o&&o.map((function(e){return e.values})),a=-1;if(i&&i[0].some((function(t,n){return!!e.every((function(e,t){return(i[t][n]?i[t][n].toString():"")===e}))&&(a=n,!0)})),a<0)return console.warn("try to select something that not exists"),Promise.resolve();var s=this._host.createSelectionIdBuilder().withCategory(r,a).createSelectionId();return this._clearBeforeSelection?new Promise((function(e,t){n._selectionManager.clear().then((function(){n._clearBeforeSelection=!1,n._selectionManager.select(s,!0),e()}))})):Promise.resolve(this._selectionManager.select(s,!0).then((function(){}),(function(t){console.warn("Error occurred while trying to select a value: "+e[0]+" in a category: "+r.source.displayName,t)})))},e.prototype.pushData=function(e){var t=this;this._data=e,this.currentSelection().then((function(e){t._selectionListeners.forEach((function(t){return t(e)}))}),i.a.error)},e.prototype.resetSelection=function(){this._clearBeforeSelection=!0},e.prototype.showContextMenu=function(e){var t="touches"in e?e.touches[e.touches.length-1]:e;this._selectionManager.showContextMenu({},{x:t.clientX+5,y:t.clientY+5})},e}();function s(e){return null!==e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(0),o=n(47),i=n(17),a=n(4),s=n(10),l=n(14),c=n(1),u=function(){function t(e,t,n){this.objectsUpdateMap={internal:{},service:{}},this.isViewMode=n,this.service_host=t.service,this.host=e,this.internal={},this.service={}}return t.prototype.freezeInitializationData=function(){this.initializationStarted=!0,this.updateInternalInfo(!0),this.setupVersions();var e=this.internal,t=this.service;e.instanceid||(e.instanceid=this.InstanceId),t.name||(t.name=this.DocumentTitle),this.save(["info","instanceid"],["name"])},t.prototype.loadSettings=function(e){if(e){var t=this.capObj=s.a.parse(e),n=t.internal,o=t.service;if(!this.initializationStarted){this.service.name=o.name,n.customerid&&(this.internal.customerid=n.customerid),n.instanceid&&(this.internal.instanceid=n.instanceid),this.currentUserName=l.a.getUsernameFromDataView(e);for(var i=0,a=["cookies","noservice","document","extension","sync","info"];i<a.length;i++){var c=a[i];try{var u=n[c];u&&"null"!==u&&(this.internal[c]=JSON.parse(u))}catch(e){this.internal[c]=null,r.a.warn('unable to restore storage field "'+c+'", resetting',e)}}this.setupVersions()}}},t.prototype.enumerateObjectInstances=function(e){return s.a.enumerateObjectInstances(this.CapObj,e)},t.prototype.save=function(t,n){var r=this,i=this.saveDeferred&&this.saveDeferred.pending?this.saveDeferred:this.saveDeferred=new o.a;return this.updateObjects(t,n),e.clearTimeout(this.saveTimer),this.saveTimer=e.setTimeout((function(){var e;r.host.persistProperties(r.CapObj.getPersistObject((e=r.objectsUpdateMap,{internal:Object.keys(e.internal),service:Object.keys(e.service)}))),r.objectsUpdateMap={internal:{},service:{}},i.resolve()}),200),i.promise},t.prototype.getCookieStorageFeature=function(){var e=this;return{readCookie:function(t){var n=e.Cookies[t];return n?n.value:null},setCookie:function(t,n,o){e.cleanUpCookies(),void 0===n||""===n?delete e.Cookies[t]:e.Cookies[t]={value:n,expires:new Date(Date.now()+432e5),path:o},e.save(["cookies"]).catch(r.a.error)}}},t.prototype.getDocStorageFeature=function(){var e=this;return{load:function(){return Promise.resolve(e.internal.document||null)},save:function(){if(!e.isViewMode())return function(t){return e.internal.document=t,e.save(["document"])}}}},t.prototype.getSyncStorageFeature=function(){var e=this;return{load:function(){return Promise.resolve(e.internal.sync||null)},save:function(t){return e.internal.sync=t,e.save(["sync"])},destroy:function(){return e.internal.sync=null,e.save(["sync"])}}},t.prototype.getExtStorageFeature=function(){var e=this;return{load:function(){return Promise.resolve(e.internal.extension||null)},save:function(){if(!e.isViewMode())return function(t,n){return e.internal.extension=n,e.save(["extension"])}}}},t.prototype.renewInstanceProps=function(){this.internal.instanceid=i.a.createGuid(),this.service.name=this.createNewDefaultTitle(),this.save(["instanceid"],["name"])},Object.defineProperty(t.prototype,"DesktopMode",{get:function(){return!0===this.internal.noservice},set:function(e){this.internal.noservice=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CustomerId",{get:function(){return this.internal.customerid||""},set:function(e){this.internal.customerid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DocumentTitle",{get:function(){return this.service.name||(this.service.name=this.createNewDefaultTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DocumentName",{get:function(){return c.d?"Power BI - "+c.a+" - "+this.InstanceId:"Power BI - "+this.InstanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DocumentVersion",{get:function(){var e=this.actualVersion||"";return e?"-"+e:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OriginDocumentVersion",{get:function(){var e=this.originVersion||"";return e?"-"+e:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NeedServiceInfo",{get:function(){return!this.DesktopMode&&!this.Service_Host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NeedServiceUser",{get:function(){return!!this.Service_Host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InstanceId",{get:function(){return this.internal.instanceid||(this.internal.instanceid=i.a.createGuid())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ServiceUserName",{get:function(){return this.currentUserName||(this.NeedServiceUser?"":c.b)},set:function(e){e&&!this.currentUserName&&(this.currentUserName=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Service_Host",{get:function(){return this.service_host},enumerable:!0,configurable:!0}),t.prototype.updateServiceInfo=function(e){this.service_host=e&&{serviceHost:"http"+(e.use_ssl?"s":"")+"://"+e.hostname,servicePort:e.port,servicePath:e.path}},Object.defineProperty(t.prototype,"Cookies",{get:function(){var e=this.internal.cookies||(this.internal.cookies={});return e[this.ServiceUserName]||(e[this.ServiceUserName]={})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CapObj",{get:function(){return this.capObj||(this.capObj=s.a.getDefault())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ActualVersion",{get:function(){var e=this.internal.info||{},t=e.version,n=void 0===t?"":t,r=e.lastModified,o=void 0===r?{in:c.a,at:""}:r;return n&&c.a===o.in?n:o.at},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OriginVersion",{get:function(){var e=(this.internal.info||{}).version;return void 0===e?"":e},enumerable:!0,configurable:!0}),t.prototype.updateObjects=function(e,t){var n=this.CapObj,r=n.internal,o=n.service,i=this.objectsUpdateMap,a=i.internal,l=i.service,c=a.info||!1,u=["cookies","sync","info"],d=function(e,t){c=c||-1===u.indexOf(t)&&e};if(!e&&!t){var h=s.a.getDefaultObjectsKeys();e=h.internal,t=h.service}for(var p=0,f=e||[];p<f.length;p++){var g=r[b=f[p]],m=void 0;switch(b){case"document":case"extension":case"cookies":case"sync":case"noservice":case"info":m=JSON.stringify(this.internal[b]);break;case"customerid":case"instanceid":m=this.internal[b]||"";break;default:throw new Error("Try to save an unknown internal key")}g!==m&&(r[b]=m,d(a[b]=!0,b))}for(var v=0,y=t||[];v<y.length;v++){var b;g=o[b=y[v]],m=void 0;switch(b){case"name":m=this.service[b]||"";break;default:throw new Error("Try to save an unknown service key")}g!==m&&(o[b]=m,d(l[b]=!0,b))}c&&(this.updateInternalInfo(),r.info=JSON.stringify(this.internal.info))},t.prototype.updateInternalInfo=function(e){var t=this.ActualVersion;if(!e||!t){var n=(new Date).toJSON();this.internal.info={version:t||n,lastModified:{at:n,by:this.ServiceUserName,in:c.a}},this.objectsUpdateMap.internal.info=!0}},t.prototype.setupVersions=function(){void 0!==this.actualVersion&&void 0!==this.originVersion||!this.internal.info||(this.actualVersion=this.ActualVersion,this.originVersion=this.OriginVersion)},t.prototype.cleanUpCookies=function(){if(!this.cookiesCleaned){var e=new Date;Object(a.c)(this.internal.cookies||{},(function(t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n],i=t[o].expires,a=void 0===i?e:i;a&&("string"==typeof a?new Date(a):a)<e&&(console.warn("delete cookie",o),delete t[o])}})),this.cookiesCleaned=!0}},t.prototype.createNewDefaultTitle=function(){return"TRUECHART (author: "+this.currentUserName+", created: "+(new Date).toJSON()+")"},t}()}).call(this,n(5))},function(e,t,n){"use strict";var r=n(22);n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7),o=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.__proto__=n.prototype,r}return Object(r.b)(t,e),t}(Error)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9),o=function(){function e(){}return Object.defineProperty(e.prototype,"Definitions",{get:function(){return{None:function(){return Promise.resolve()},GoToURL:function(e){return r.a.host.launchUrl(e.url),Promise.resolve()}}},enumerable:!0,configurable:!0}),e.Instance=new e,e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r,o=n(20),i=n(31),a=n.n(i),s=n(15),l=n(1);!function(e){e.Hidden="hidden mark",e.Spinner="spinner mark",e.Invalid="invalid mark",e.Valid="valid mark"}(r||(r={}));var c=o.a.createElement,u=function(){function t(e,t,n){this.OnLinkClicked=function(){},this.OnLandingButtonClicked=function(){},this.OnServiceInformationLoaded=function(){},this.checkCustomerIdTimer=0,this.lastCustomerId="",this.disableEvents=!1,this.isAppSource=n,this.target=e,this.trans=t,this._debug=e.className.split(" ").some((function(e){return e.endsWith("_DEBUG")})),this._debug&&this.showDebugInfo()}return t.prototype.showDebugInfo=function(){this.clear(),this.target.appendChild(c("p",{className:"debugInfo"},"DEBUG MODE - add some data to initialize the visual"))},t.prototype.showLoadingIndicator=function(){this.target.querySelector("#loading-indicator")||this.target.querySelector(".howto")||this.target.appendChild(c("div",{id:"loading-indicator",className:"lds-ring"},c("div"),c("div"),c("div"),c("div")))},t.prototype.hideLoadingIndicator=function(){var e=this.target.querySelector("#loading-indicator");e&&e.parentElement&&e.parentElement.removeChild(e)},t.prototype.showLandingPage=function(){this.target.querySelector(".howto")||(this.clear(),this.target.appendChild(this.renderLandingPage()),this.hookLinks())},t.prototype.renderLandingPage=function(){var e,t=this,n=this.trans,o=this.isAppSource?"choices disabled":"choices";return c("div",{className:"howto"},c("img",{className:"tclogo",src:a.a}),c("div",{className:"inner"},c("div",{className:"content"},this.isAppSource?c("p",{className:"intro"},n("@WELCOME_INTRO")):null,c("div",{className:"flex-container"},this.isAppSource?c("p",{className:"customer_id"},c("label",{htmlFor:"inp_customer_id"},n("@WELCOME_CUSTOMER_ID")),e=c("input",{id:"inp_customer_id",type:"text",on:{change:function(){return t.onCustomerIdChange(e.value,!0)},keyup:function(){return t.onCustomerIdChange(e.value,!1)}}}),c("span",{className:r.Hidden})):null,c("div",{className:o},c("p",null,n("@WELCOME_USER_INTRO")),c("ul",{className:"list"},c("li",null,n("@WELCOME_USER_INTRO_INFO_1")),c("li",null,n("@WELCOME_USER_INTRO_INFO_2")),c("li",null,n("@WELCOME_USER_INTRO_INFO_3"))))),c("div",{className:o+" image-container"},c("div",{className:"dynamic-img "+n("@CURRENT_LANGUAGE")}))),c("div",{className:"footer"},this.isAppSource?c(document.createDocumentFragment(),null,c("a",{href:l.e.homeGetSoftware},n("@GET_ENTERPRISE")),c("button",{textContent:n("@NO_SERVICE"),on:{click:function(){return t.OnLandingButtonClicked(!0)}}})):null)))},t.prototype.setupTrueChart=function(t){var n,r,o=this;this.clear(!0),this._trueChartElement=c("div",{id:"truechart-"+t,className:"truechart"}),this.target.appendChild(this._trueChartElement);var i=function(e){for(var t=e.length;t--;)if((n=e.item(t)).classList&&!n.classList.contains("lui-toast"))return!0;var n;return!1};new MutationObserver((function(t){t.some((function(e){return i(e.addedNodes)||i(e.removedNodes)}))&&(clearTimeout(r),r=e.setTimeout((function(){Array.from(document.querySelectorAll(".ui-dialog, .lui-dialog")).some((function(e){var t=e.getBoundingClientRect();return t.top<0||t.left<0||t.top+t.height>document.documentElement.clientHeight||t.left+t.width>document.documentElement.clientWidth}))?n=TrueChartCore_API.UIManager.Toaster.info(o.trans("@RESIZEWARNING"),void 0,{preventDuplicates:!0,timeOut:6e4}):n&&n.onClose(n.id)}),500))})).observe(document.body,{childList:!0,subtree:!0})},Object.defineProperty(t.prototype,"Debug",{get:function(){return this._debug},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TrueChartElement",{get:function(){if(this._trueChartElement)return this._trueChartElement;throw new Error("No trueChart DOM element found")},enumerable:!0,configurable:!0}),t.prototype.onCustomerIdChange=function(t,n){var i=this;if(!1===this.disableEvents&&t!==this.lastCustomerId){var a=o.a.getElementOrThrow(".mark",HTMLElement,this.target);a.className=r.Spinner,this.checkCustomerIdTimer&&e.clearTimeout(this.checkCustomerIdTimer);var l=function(){i.lastCustomerId=t,i.disableEvents=!0,Object(s.a)(t).then((function(e){i.OnServiceInformationLoaded(t,e),a.className=r.Valid,i.changeChoicesClassName("remove","disabled")}),(function(){i.OnServiceInformationLoaded("",void 0),a.className=r.Invalid,i.changeChoicesClassName("add","disabled")})).then((function(){i.disableEvents=!1}))};n?l():this.checkCustomerIdTimer=e.setTimeout(l,750)}},t.prototype.changeChoicesClassName=function(e,t){for(var n=0,r=Array.from(document.querySelectorAll(".choices"));n<r.length;n++){r[n].classList[e](t)}},t.prototype.clear=function(e){for(var t=this.target.children.length;t--;){var n=this.target.children.item(t);!n||e&&"loading-indicator"===n.id||this.target.removeChild(n)}this._trueChartElement=void 0},t.prototype.hookLinks=function(){var e=this;if(this.OnLinkClicked)for(var t=this.target.querySelectorAll("a"),n=function(n){var r=t.item(n);r.addEventListener("click",(function(t){t.preventDefault(),r.href.length&&e.OnLinkClicked(r.href)}))},r=0;r<t.length;r++)n(r)},t}()}).call(this,n(5))},function(e,t){e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMiIgdmlld0JveD0iMCAwIDY5OS44IDkwIiBoZWlnaHQ9IjEyMCIgd2lkdGg9IjkzMyI+PHBhdGggc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjk3LjggODguMkgyNzRWNDQuN2gyMy43em0wIDAiIGZpbGw9IiM0ODQ4NDgiIHN0cm9rZT0iIzQ4NDg0OCIgc3Ryb2tlLXdpZHRoPSIzIi8+PHBhdGggc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMzIxLjYgODguMmgtMjYuOFYxLjdoMjYuOHptMCAwIiBmaWxsPSIjZjE4OTIwIiBzdHJva2U9IiNmMTg5MjAiIHN0cm9rZS13aWR0aD0iMyIvPjxwYXRoIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTMzOS42IDg4LjJoLTI1di01NGgyNXptMCAwIiBmaWxsPSIjZmZmIiBzdHJva2U9IiNmMTg5MjAiIHN0cm9rZS13aWR0aD0iMyIvPjxwYXRoIGQ9Ik02MC40IDI1LjVIMzl2NjEuNkgyMS42VjI1LjVILjN2LTE0aDYwek05MCA0Ny4xYTE4IDE4IDAgMDA2LTEgMTEgMTEgMCAwMDQtMi40YzEuMi0xIDItMi40IDIuNS0zLjhzLjctMyAuNy00LjZjMC0zLjMtMS02LTMuMi03LjgtMi4yLTEuOS01LjUtMi44LTEwLTIuOEg4M3YyMi40em0zNy4yIDQwaC0xNmMtMi44IDAtNS0xLTYuMi0zLjNsLTEyLjYtMjJhNi40IDYuNCAwIDAwLTItMmMtLjctLjQtMS43LS42LTMtLjZIODN2MjhINjUuNFYxMS42SDkwYzUuNSAwIDEwIC41IDE0IDEuNyAzLjkgMSA3IDIuNiA5LjQgNC42IDIuNSAyIDQuMyA0LjQgNS40IDcuMiAxIDIuNyAxLjYgNS43IDEuNiA5YTIxLjUgMjEuNSAwIDAxLTguNiAxOGMtMiAxLjMtNCAyLjUtNi41IDMuNGExNiAxNiAwIDAxNS45IDUuM3ptMzMuMy0xMy45YzIuMyAwIDQuNC0uMyA2LjMtMSAxLjgtLjkgMy40LTIgNC43LTMuNCAxLjMtMS41IDIuMy0zLjIgMy01LjNhMjYgMjYgMCAwMDEtNy4yVjExLjZIMTkzdjQ0LjZhMzUgMzUgMCAwMS0yLjMgMTIuOEEyOC42IDI4LjYgMCAwMTE3NCA4NS41YTM2IDM2IDAgMDEtMTMuNSAyLjRjLTUgMC05LjYtLjgtMTMuNi0yLjRBMjguMyAyOC4zIDAgMDExMzAuNCA2OWEzNS4zIDM1LjMgMCAwMS0yLjMtMTIuOFYxMS41aDE3LjZ2NDQuN2MwIDIuNi4zIDUgMSA3LjFhMTUgMTUgMCAwMDIuOSA1LjNjMS4zIDEuNSAyLjggMi42IDQuNyAzLjQgMS44LjggNCAxLjIgNi4zIDEuMm02MC00OHYxNy41aDIzLjd2MTNoLTIzLjd2MThoMzF2MTMuNEgyMDNWMTEuN2g0OC42djEzLjV6bTAgMCIgZmlsbD0iIzQ4NDg0OCIvPjxwYXRoIGQ9Ik00MTQuNyA2Ny42Yy40IDAgLjggMCAxLjIuMi40LjIuOC40IDEuMi44bDcgNy4zYy0zLjEgNC03IDctMTEuNSA5LTQuNiAyLTEwIDMtMTYuMyAzLTUuNyAwLTEwLjgtMS0xNS40LTIuOUEzMy40IDMzLjQgMCAwMTM2MiA2NC43YTQ1LjIgNDUuMiAwIDAxLjItMzFBMzQuOCAzNC44IDAgMDEzODIgMTMuNWE0MCA0MCAwIDAxMjMuMi0yIDM5LjIgMzkuMiAwIDAxMTMgNS4zIDI1IDI1IDAgMDE1IDRsLTYgOC0xLjMgMS4zYy0uNS40LTEuMi42LTIuMi42LS42IDAtMS4yLS4yLTEuNy0uNS0uNi0uMi0xLjItLjYtMS44LTFsLTItMS4zYTIyIDIyIDAgMDAtMTEtMi43IDE4IDE4IDAgMDAtMTQuMyA2LjNjLTEuNyAyLTMgNC42LTQgNy42cy0xLjQgNi40LTEuNCAxMC4yYzAgNCAuNSA3LjMgMS42IDEwLjMgMSAzIDIuNCA1LjYgNC4zIDcuNmExOC4zIDE4LjMgMCAwMDE0IDYuMyAzNi4yIDM2LjIgMCAwMDgtMSAxNSAxNSAwIDAwMy4zLTEuNGMxLS42IDItMS40IDMtMi4zYTQuMiA0LjIgMCAwMTMtMS4ybTgwLjItNTZ2NzUuNWgtMTcuNnYtMzJoLTMwLjd2MzJoLTE3LjdWMTEuNmgxNy43djMxLjZoMzAuN1YxMS42em01MS44IDQ2LjZsLTctMjAuNmE4Ny45IDg3LjkgMCAwMS0zLjUtMTAuNSA3OSA3OSAwIDAxLTMuMyAxMC42bC03IDIwLjV6bTI3LjggMjloLTEzLjZhNiA2IDAgMDEtMy43LTEgNi43IDYuNyAwIDAxLTIuMS0yLjlsLTQuNS0xM2gtMjguN2wtNC40IDEzYy0uNCAxLTEuMSAyLTIuMSAyLjctMSAuNy0yLjIgMS4xLTMuNyAxLjFINDk4bDI5LjItNzUuNWgxOHptMjYuOC00MGExOCAxOCAwIDAwNi0xIDExIDExIDAgMDA0LjItMi41IDExLjQgMTEuNCAwIDAwMy04LjRjMC0zLjMtMS02LTMuMi03LjgtMi4yLTEuOS01LjUtMi44LTEwLTIuOEg1OTR2MjIuNHptMzcuMiA0MGgtMTZjLTMgMC01LTEtNi4yLTMuNGwtMTIuNi0yMmE2IDYgMCAwMC0yLTJjLS43LS40LTEuNy0uNi0zLS42SDU5NHYyOGgtMTcuNVYxMS42aDI0LjZjNS40IDAgMTAgLjUgMTQgMS43IDMuOCAxIDcgMi42IDkuNCA0LjYgMi40IDIgNC4yIDQuNCA1LjMgNy4yIDEgMi43IDEuNiA1LjcgMS42IDlhMjEuNSAyMS41IDAgMDEtOC42IDE4Yy0yIDEuMy00IDIuNS02LjUgMy40YTE1LjggMTUuOCAwIDAxNiA1LjN6bTYxLTYxLjdoLTIxLjJ2NjEuNmgtMTcuNlYyNS41aC0yMS4ydi0xNGg2MHptMCAwIiBmaWxsPSIjZjE4OTFmIi8+PC9zdmc+"},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.getValueAtPath=function(e,n){return n.reduce(t,e)},e.merge=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];for(var a in i)i.hasOwnProperty(a)&&void 0!==i[a]&&(e[a]=i[a])}return e},e.omit=function(e,t){var n=Object.create(Object.getPrototypeOf(e));for(var r in e)-1===t.indexOf(r)&&(n[r]=e[r]);return n},e.pick=function(e,t){for(var n=Object.create(Object.getPrototypeOf(e)),r=0,o=t;r<o.length;r++){var i=o[r];n[i]=e[i]}return n};var t=function(e,t){return e[t]}}(r||(r={}))},,,,,,function(e,t,n){e.exports=n(39)},function(e,t,n){"use strict";n.r(t),function(e){var r=n(9),o=e.powerbi,i={name:"trueChart4PBI530397A454264B59BCC98231C7453345",displayName:"TRUECHART",class:"Visual",apiVersion:"2.6.0",create:function(e){if(r.a)return new r.a(e);throw"Visual instance not found"},custom:!0};void 0!==o&&(o.visuals=o.visuals||{},o.visuals.plugins=o.visuals.plugins||{},o.visuals.plugins.trueChart4PBI530397A454264B59BCC98231C7453345=i),t.default=i}.call(this,n(5))},function(e,t,n){"use strict";n(41);var r=n(0),o=n(13);r.a.init("TRUECHART4POWERBI",Object(o.a)())},function(e,t,n){"use strict";n(42);var r=n(46);Object(r.a)()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==o&&o,i="URLSearchParams"in o,a="Symbol"in o&&"iterator"in Symbol,s="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),l="FormData"in o,c="ArrayBuffer"in o;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function g(e){this.map={},e instanceof g?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:l&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=m(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(y)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=v(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}g.prototype.append=function(e,t){e=h(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},g.prototype.delete=function(e){delete this.map[h(e)]},g.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},g.prototype.set=function(e,t){this.map[h(e)]=p(t)},g.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},g.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},g.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},g.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},a&&(g.prototype[Symbol.iterator]=g.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof C){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),E.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function L(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function M(e,t){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})},w.call(C.prototype),w.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},M.error=function(){var e=new M(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];M.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new M(null,{status:t,headers:{location:e}})};var S=o.DOMException;try{new S}catch(e){(S=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function T(e,t){return new Promise((function(n,i){var a=new C(e,t);if(a.signal&&a.signal.aborted)return i(new S("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}l.onload=function(){var e,t,r={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new g,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var o="response"in l?l.response:l.responseText;setTimeout((function(){n(new M(o,r))}),0)},l.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){i(new S("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&o.location.href?o.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":c&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!t||"object"!==r(t.headers)||t.headers instanceof g?a.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){l.setRequestHeader(e,p(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}T.polyfill=!0,o.fetch||(o.fetch=T,o.Headers=g,o.Request=C,o.Response=M)},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===(void 0===t?"undefined":n(t))&&(r=t)}e.exports=r}).call(this,n(5))},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(23),o=n(24);function i(){Object(r.polyfill)(),Object(o.polyfill)(),function(){var e,t,n,r,o;Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,r=arguments[1]>>0,o=r<0?Math.max(n+r,0):Math.min(r,n),i=arguments[2],a=void 0===i?n:i>>0,s=a<0?Math.max(n+a,0):Math.min(a,n);o<s;)t[o]=e,o++;return t}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return o;o++}return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');return this[this.findIndex(e)]},configurable:!0,writable:!0}),Array.from||(Array.from=(e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},r=Math.pow(2,53)-1,o=function(e){var t=n(e);return Math.min(Math.max(t,0),r)},function(e){var n=this,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}if("string"==typeof e)return a?void 0===i?a(e,0):a.call(i,e,0):e.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/);for(var s,l=o(r.length),c=t(n)?Object(new n(l)):new Array(l),u=0;u<l;)s=r[u],c[u]=a?void 0===i?a(s,u):a.call(i,s,u):s,u+=1;return c.length=l,c}))}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t instanceof Element);return null}),a()}function a(){var e=String.prototype,t=Object.defineProperty;if(!e.endsWith&&t(e,"endsWith",{value:a.endsWith}),!e.includes&&t(e,"includes",{value:a.includes}),!e.startsWith&&t(e,"startsWith",{value:a.startsWith}),"trimStart"in e||(t(e,"trimStart",{value:a.trimStart}),t(e,"trimLeft",{value:a.trimStart})),"trimEnd"in e||(t(e,"trimEnd",{value:a.trimEnd}),t(e,"trimRight",{value:a.trimEnd})),!String.fromCodePoint)try{t(String,"fromCodePoint",{value:a.fromCodePoint,configurable:!0,writable:!0})}catch(e){String.fromCodePoint=a.fromCodePoint}}!function(e){var t=/^\s+/,n=/\s+$/;e.endsWith=function(e,t){return void 0===t&&(t=this.length),t>this.length&&(t=this.length),this.substring(t-e.length,t)===e},e.includes=function(e,t){if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e+"",t)},e.startsWith=function(e,t){void 0===t&&(t=0);var n=t>0?0|t:0;return this.substring(n,n+e.length)===e},e.trimEnd=function(){return this.replace(n,"")},e.trimStart=function(){return this.replace(t,"")},e.fromCodePoint=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r=[],o="",i=0,a=e.length;i!==a;++i){var s=+e[i];if(!(s<1114111&&s>>>0===s))throw RangeError("Invalid code point: "+s);s<=65535?n=r.push(s):(s-=65536,n=r.push(55296+(s>>10),s%1024+56320)),n>=16383&&(o+=String.fromCharCode.apply(null,r),r.length=0)}return o+String.fromCharCode.apply(null,r)}}(a||(a={}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r,o,i=n(0),a=n(4),s=n(19);(o=r||(r={}))[o.Pending=0]="Pending",o[o.Resolved=1]="Resolved",o[o.Rejected=2]="Rejected";var l=function(){function t(t){var n=this;void 0===t&&(t=!0);var o,l,c,u=t?e.setTimeout((function(){i.a.Instance.warn("Deferred was not resolved")}),3e4):-1,d=t?e.setTimeout((function(){i.a.Instance.error("Deferred was not resolved after 1 minute")}),6e4):-1,h=r.Pending,p=!1;function f(n,r,o){if(p)return!1;if(p=!0,t&&(e.clearTimeout(u),e.clearTimeout(d)),n.canceled=!1,n.canceled)c(new s.a);else if(!o){var i=Object(a.b)(r)?r.then:void 0;if("function"==typeof i)return i.apply(r,[l,c]),!1}return!n.canceled}this.promise=new Promise((function(e,t){l=function(t){h===r.Pending&&(h=r.Resolved),e(t)},c=function(e){h===r.Pending&&(h=r.Rejected),t(e)}})),this.resolve=function(e){f(n,e)&&l(e)},this.reject=function(e){f(n,e,!0)&&c(e)},Object.defineProperties(this,{status:{get:function(){return h}},canceled:{get:function(){return!0===o},set:function(e){n.isCancelable&&(o=e)}},isCancelable:{get:function(){return void 0===o}}})}return Object.defineProperty(t.prototype,"pending",{get:function(){return this.status===r.Pending},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resolved",{get:function(){return this.status===r.Resolved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rejected",{get:function(){return this.status===r.Rejected},enumerable:!0,configurable:!0}),t.prototype.cancel=function(){return this.canceled=!0,this.canceled},t.resolve=function(e){var n=new t(!1);return n.resolve(e),n},t.reject=function(e){var n=new t(!1);return n.promise.catch((function(){})),n.reject(e),n},t.await=function(e,n){var r=new t(n);return Promise.resolve(e).then(r.resolve,r.reject),r},t.ignoreCancel=function(e){if(!(e instanceof s.a))throw e},t}()}).call(this,n(5))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r],a=this.process.get(i);a||(a=this.createNode(i),this.process.set(i,a)),n.push(a)}return Promise.all(n)},e.createNode=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0;var o=r;!o.attachEvent||o.attachEvent.toString&&o.attachEvent.toString().indexOf("[native code")<0?(r.addEventListener("error",n,!1),r.addEventListener("load",(function(){t()}),!1)):o.attachEvent("onreadystatechange",t),r.src=e,document.head.appendChild(r)}))},e.process=new Map,e}()}]);
//# sourceMappingURL=visual.js.map