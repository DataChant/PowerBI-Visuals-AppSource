var AutodeskDataConnectorforPowerBI71085f8edd3a426aabae3dc6cdb2f164;(()=>{"use strict";var e={29:(e,n,t)=>{t.d(n,{M4:()=>h,O1:()=>m,tB:()=>p});var r,s,a=0,o=0,i=0,l=0,d=0,c=0,u="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p(){return d||(_(f),d=u.now()+c)}function f(){d=0}function h(){this._call=this._time=this._next=null}function m(e,n,t){var r=new h;return r.restart(e,n,t),r}function b(){d=(l=u.now())+c,a=o=0;try{!function(){p(),++a;for(var e,n=r;n;)(e=d-n._time)>=0&&n._call.call(void 0,e),n=n._next;--a}()}finally{a=0,function(){for(var e,n,t=r,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:r=n);s=e,v(a)}(),d=0}}function g(){var e=u.now(),n=e-l;n>1e3&&(c-=n,l=e)}function v(e){a||(o&&(o=clearTimeout(o)),e-d>24?(e<1/0&&(o=setTimeout(b,e-u.now()-c)),i&&(i=clearInterval(i))):(i||(l=u.now(),i=setInterval(g,1e3)),a=1,_(b)))}h.prototype=m.prototype={constructor:h,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?p():+t)+(null==n?0:+n),this._next||s===this||(s?s._next=this:r=this,s=this),this._call=e,this._time=t,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}}},123:(e,n,t)=>{t.d(n,{A:()=>o,J:()=>i});var r=t(3363);function s(e,n){var t,s;return function(){var a=(0,r.hZ)(this,e),o=a.tween;if(o!==t)for(var i=0,l=(s=t=o).length;i<l;++i)if(s[i].name===n){(s=s.slice()).splice(i,1);break}a.tween=s}}function a(e,n,t){var s,a;if("function"!=typeof t)throw new Error;return function(){var o=(0,r.hZ)(this,e),i=o.tween;if(i!==s){a=(s=i).slice();for(var l={name:n,value:t},d=0,c=a.length;d<c;++d)if(a[d].name===n){a[d]=l;break}d===c&&a.push(l)}o.tween=a}}function o(e,n){var t=this._id;if(e+="",arguments.length<2){for(var o,i=(0,r.Jt)(this.node(),t).tween,l=0,d=i.length;l<d;++l)if((o=i[l]).name===e)return o.value;return null}return this.each((null==n?s:a)(t,e,n))}function i(e,n,t){var s=e._id;return e.each(function(){var e=(0,r.hZ)(this,s);(e.value||(e.value={}))[n]=t.apply(this,arguments)}),function(e){return(0,r.Jt)(e,s).value[n]}}},137:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(123);function s(e){return this.tween("text","function"==typeof e?function(e){return function(){var n=e(this);this.textContent=null==n?"":n}}((0,r.J)(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))}},165:(e,n,t)=>{function r(){let e=0;for(const n of this)++e;return e}t.d(n,{A:()=>r})},183:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(1882);function s(e){return"string"==typeof e?new r.LN([[document.querySelector(e)]],[document.documentElement]):new r.LN([[e]],r.zr)}},202:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(6747);function s(e,n,t){var s=(0,r.A)(e),a=s.CustomEvent;"function"==typeof a?a=new a(n,t):(a=s.document.createEvent("Event"),t?(a.initEvent(n,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(n,!1,!1)),e.dispatchEvent(a)}function a(e,n){return function(){return s(this,e,n)}}function o(e,n){return function(){return s(this,e,n.apply(this,arguments))}}function i(e,n){return this.each(("function"==typeof n?o:a)(e,n))}},461:(e,n,t)=>{function r(e){return function(){delete this[e]}}function s(e,n){return function(){this[e]=n}}function a(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function o(e,n){return arguments.length>1?this.each((null==n?r:"function"==typeof n?a:s)(e,n)):this.node()[e]}t.d(n,{A:()=>o})},574:(e,n,t)=>{function r(){}function s(e){return null==e?r:function(){return this.querySelector(e)}}t.d(n,{A:()=>s})},697:(e,n,t)=>{function r(){this.innerHTML=""}function s(e){return function(){this.innerHTML=e}}function a(e){return function(){var n=e.apply(this,arguments);this.innerHTML=null==n?"":n}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:s)(e)):this.node().innerHTML}t.d(n,{A:()=>o})},747:(e,n,t)=>{function r(){return[]}function s(e){return null==e?r:function(){return this.querySelectorAll(e)}}t.d(n,{A:()=>s})},756:(e,n,t)=>{t.d(n,{Ltv:()=>r.Lt}),t(3537);var r=t(7875);t(9902),t(6470)},807:(e,n,t)=>{function r(){return!this.node()}t.d(n,{A:()=>r})},871:(e,n,t)=>{function r(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function s(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}t.d(n,{A:()=>r,X:()=>s})},889:(e,n,t)=>{function r(e){return null==e&&(e=0),{data:[{dataViewWildcard:{matchingOption:e}}]}}t.d(n,{Z:()=>r})},1089:(e,n,t)=>{t.d(n,{A:()=>l});var r={value:()=>{}};function s(){for(var e,n=0,t=arguments.length,r={};n<t;++n){if(!(e=arguments[n]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new a(r)}function a(e){this._=e}function o(e,n){for(var t,r=0,s=e.length;r<s;++r)if((t=e[r]).name===n)return t.value}function i(e,n,t){for(var s=0,a=e.length;s<a;++s)if(e[s].name===n){e[s]=r,e=e.slice(0,s).concat(e.slice(s+1));break}return null!=t&&e.push({name:n,value:t}),e}a.prototype=s.prototype={constructor:a,on:function(e,n){var t,r,s=this._,a=(r=s,(e+"").trim().split(/^|\s+/).map(function(e){var n="",t=e.indexOf(".");if(t>=0&&(n=e.slice(t+1),e=e.slice(0,t)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})),l=-1,d=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++l<d;)if(t=(e=a[l]).type)s[t]=i(s[t],e.name,n);else if(null==n)for(t in s)s[t]=i(s[t],e.name,null);return this}for(;++l<d;)if((t=(e=a[l]).type)&&(t=o(s[t],e.name)))return t},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new a(e)},call:function(e,n){if((t=arguments.length-2)>0)for(var t,r,s=new Array(t),a=0;a<t;++a)s[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,t=(r=this._[e]).length;a<t;++a)r[a].value.apply(n,s)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,a=r.length;s<a;++s)r[s].value.apply(n,t)}};const l=s},1197:(e,n,t)=>{t.d(n,{Ay:()=>i});var r=t(6957),s=t(6160),a=t(9804),o=t(4709);const i=function e(n){var t=(0,o.uN)(n);function s(e,n){var s=t((e=(0,r.Qh)(e)).r,(n=(0,r.Qh)(n)).r),a=t(e.g,n.g),i=t(e.b,n.b),l=(0,o.Ay)(e.opacity,n.opacity);return function(n){return e.r=s(n),e.g=a(n),e.b=i(n),e.opacity=l(n),e+""}}return s.gamma=e,s}(1);function l(e){return function(n){var t,s,a=n.length,o=new Array(a),i=new Array(a),l=new Array(a);for(t=0;t<a;++t)s=(0,r.Qh)(n[t]),o[t]=s.r||0,i[t]=s.g||0,l[t]=s.b||0;return o=e(o),i=e(i),l=e(l),s.opacity=1,function(e){return s.r=o(e),s.g=i(e),s.b=l(e),s+""}}}l(s.A),l(a.A)},1226:(e,n,t)=>{t.d(n,{P:()=>a,i:()=>o});var r,s=t(1852);function a(e){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?s.D:(0,s.A)(n.a,n.b,n.c,n.d,n.e,n.f)}function o(e){return null==e?s.D:(r||(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",e),(e=r.transform.baseVal.consolidate())?(e=e.matrix,(0,s.A)(e.a,e.b,e.c,e.d,e.e,e.f)):s.D)}},1322:(e,n,t)=>{function*r(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var r,s=e[n],a=0,o=s.length;a<o;++a)(r=s[a])&&(yield r)}t.d(n,{A:()=>r})},1375:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(3363);function s(e,n){return function(){(0,r.Ts)(this,e).delay=+n.apply(this,arguments)}}function a(e,n){return n=+n,function(){(0,r.Ts)(this,e).delay=n}}function o(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?s:a)(n,e)):(0,r.Jt)(this.node(),n).delay}},1429:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(3663),s=t(574);function a(){return null}function o(e,n){var t="function"==typeof e?e:(0,r.A)(e),o=null==n?a:"function"==typeof n?n:(0,s.A)(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),o.apply(this,arguments)||null)})}},1463:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(29);function s(e,n,t){var s=new r.M4;return n=null==n?0:+n,s.restart(t=>{s.stop(),e(t+n)},n,t),s}},1666:(e,n,t)=>{t.d(n,{YW:()=>a,mJ:()=>o,s:()=>s});var r=t(7349);const s=async()=>new Promise((e,n)=>{const t=document.createElement("script");t.src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.93.1/viewer3D.js",t.id="forgeviewerjs",document.body.appendChild(t),t.onload=()=>{const t=document.createElement("link");t.rel="stylesheet",t.href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.93.1/style.css",t.type="text/css",t.id="forgeviewercss",document.body.appendChild(t),i().then(n=>{globalThis.scriptURL=n,e()}).catch(e=>{n(e)})},t.onerror=e=>{n(e)}});function a(){const e=document.createElement("div");return e.id="forge-viewer",e}function o(){const e=document.createElement("div"),n=document.createElement("div");return e.id="loader",n.id="data-loader",n.className="spinner",e.appendChild(n),e}const i=function(){return new Promise((e,n)=>{const t="ViewingService.getItem",s=`${t} = ${l.toString()}; ${t}Old =  `,a=new Blob([r.v.replaceAll(`${t} =`,s).replace('workerMain.register("LOAD_SVF", { doOperation: doLoadSvf });','self.workerBlob = {}; workerMain.register("LOAD_PBI_SVF", { doOperation: (t)=>{ self.workerBlob[t.data.key] = t.data.val;}  });workerMain.register("LOAD_SVF", { doOperation: doLoadSvf });')],{type:"text/javascript"});e(window.URL.createObjectURL(a))})},l=async function(e,n,t,r,s){s=s||{},copyOptions(e,s);if(n.includes("https://file/")){n.includes("../../")&&(n=simplifyPath(n));const s=n.substring(13),a=setInterval(()=>{e.worker.postMessage({reqUrl:s}),workerBlob.hasOwnProperty(decodeURI(s))&&(clearInterval(a),fetch(`data:application/octet-stream;base64,${workerBlob[decodeURI(s)]}`).then(e=>{e.arrayBuffer().then(e=>{let s=new Uint8Array(e);if(e=null,31===s[0]&&139===s[1]){warnedGzip||(warnedGzip=!0,_logger_Logger__WEBPACK_IMPORTED_MODULE_80__.logger.warn("An LMV resource ("+n+") was not uncompressed by the browser. This hurts performance. Check the Content-Encoding header returned by the server and check whether you're getting double-compressed streams. The warning prints only once but it's likely the problem affects multiple resources."));try{s=(0,fflate__WEBPACK_IMPORTED_MODULE_86__.gunzipSync)(s)}catch(e){r(_ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.BAD_DATA,"Malformed data received when requesting file",{url:n,exception:e.toString(),stack:e.stack})}}t(s)})}).catch(e=>{}))},100)}}},1683:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(747),s=t(9064),a=t(3363);function o(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=(0,r.A)(e));for(var o=this._groups,i=o.length,l=[],d=[],c=0;c<i;++c)for(var u,_=o[c],p=_.length,f=0;f<p;++f)if(u=_[f]){for(var h,m=e.call(u,u.__data__,f,_),b=(0,a.Jt)(u,t),g=0,v=m.length;g<v;++g)(h=m[g])&&(0,a.Ay)(h,n,t,g,m,b);l.push(m),d.push(u)}return new s.eB(l,d,n,t)}},1848:(e,n,t)=>{t.d(n,{b:()=>f});var r=t(6986),s=t(7674),a=t(756),o=t(9901),i=t(4388),l=t(1666),d=t(2775),c=t(7349),u=t(7089),_=t(3473),p=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)};globalThis.activeModel={},globalThis.model={},globalThis.modelCount={},globalThis.modelRecieved={},globalThis.modelComplete={},globalThis.modelParts={};class f{target;host;activePage;forgeViewer=null;instructionPage=null;selectionManager;bDataLoadComplete;activeModelName;federatedViews;coloringState;isColoringStateSynced;loadModelCallbacks;filterModelCallbacks;selections;isHighlighting;sortedColoringMap;formattingSettingsService;formattingSettings;awaitingDataRefresh;isToolBarButtonAdded;appearanceSettingsCallback;appearanceSettings;isSlicingDone;isSelectionDone;constructor(e){this.target=e.element,this.host=e.host,this.activePage=null,this.forgeViewer=null,this.instructionPage=new i.Q,this.selectionManager=e.host.createSelectionManager(),this.bDataLoadComplete=!1,this.activeModelName="",this.federatedViews={},this.coloringState={},this.isColoringStateSynced=!1,this.loadModelCallbacks=[],this.filterModelCallbacks=[],this.selections=[],this.isHighlighting=!1,this.sortedColoringMap={},this.awaitingDataRefresh=!1,this.formattingSettingsService=new s.O,this.isToolBarButtonAdded=!1,this.appearanceSettingsCallback=null,this.appearanceSettings={antialiasing:!0,ambientShadows:!0,groundShadow:!0,groundReflection:!1},this.isSlicingDone=!1,this.isSelectionDone=!1}update(e){try{if(!this.bDataLoadComplete&&e?.dataViews[0]?.metadata?.isDataFilterApplied)return this.host.displayWarningIcon("Active Filters/Slicers Detected","Please deselect any active filters/slicers to load the model"),globalThis.activeModel={},this.bDataLoadComplete=!1,void this.showInstructionPage(e);if(0===e.dataViews.length)return void this.handleVisualPage(e);if(this.awaitingDataRefresh&&(this.awaitingDataRefresh=!1,e.type),!e.dataViews[0].metadata.columns.length)return this.resetVisual(e,!1),void this.handleVisualPage(e);if(!this.isColoringStateSynced){const n=this.getPersist(e,c.O.lmvColors);n&&Object.keys(n).length&&(this.coloringState=JSON.parse(n)),this.isColoringStateSynced=!0}this.handleModelUnloading(e),this.segregateVisualData(e),this.setPersist(c.O.lmvColors,JSON.stringify(this.coloringState)),0==e.operationKind&&(globalThis.activeModel={}),this.processSVFAndLoadModel(e),e.dataViews[0].metadata.segment&&this.host.fetchMoreData(!1),this.filterLmvVisual(e),this.formattingSettings=this.formattingSettingsService.populateFormattingSettingsModel(_.S,e.dataViews[0]);let n=e.dataViews[0].metadata.columns?.length-1;e.dataViews[0].metadata.columns[n].roles.externalId||e.dataViews[0].metadata.columns[n].roles.color||this.formattingSettings.cards[0]instanceof _.h&&(this.formattingSettings.cards[0].colorSelector.collapsible=!1,this.formattingSettings.cards[0].colorSelector.disabled=!0),this.isAppearanceSettingsChanged(e.dataViews[0].metadata.objects)}catch(e){console.log(e)}}destroy(){this.clearPersist(c.O.token),this.clearPersist(c.O.lmvColors),this.clearPersist(c.O.lmvSettings),this.clearPersist(c.O.lmvCameraState),this.forgeViewer&&this.forgeViewer.uninitialize()}getFormattingModel(){try{Object.keys(this.federatedViews).length&&(this.formattingSettings.valueCard.colorSelector.slices=[],Object.keys(this.federatedViews).forEach(e=>{let n=function(e,n){let t={};try{if(e[n].coloringIsBasedOn){const r=e[n].coloringMapping;let s=[];for(const[e,n]of Object.entries(r))s.includes(e)||s.push(e);s=s.sort(),t={dataValues:s,federatedViews:e}}}catch(e){console.error(e)}return t}(this.federatedViews,e);this.formattingSettings.populateColorSelector(n,e)}))}catch(e){console.error(e)}return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}setPersist(e,n){(0,d._0)(this.host,e,n)}clearPersist(e){(0,d.bk)(this.host,e)}getPersist(e,n){return(0,d.yG)(e.dataViews[0],n)}getActiveModelName(){return this.activeModelName}getModelNameFromModel(e){const n=e.getData().basePath.split("https://file/")[1];return Object.keys(this.federatedViews).find(e=>!this.federatedViews[e].noViewable&&this.federatedViews[e].svfFilePath.includes(n))}segregateVisualData(e){const n=e.dataViews[0].metadata.columns,t=e.dataViews[0].categorical.categories;this.processViewerData(n,e),this.processExternalElementIdsAndColoring(n,t,e)}processViewerData(e,n){e.forEach(t=>{if(t.roles.model&&t.displayName.includes(".viewer")){const r=this.getModelName(t);this.initializeFederatedView(r,t),this.isColoringRemoved(e,r,n)&&this.resetColoringState(r),this.resetCrossHighlighting(e,r,n)}})}getModelName(e){return e.queryName.split(`.${e.displayName}`)[0]}initializeFederatedView(e,n){this.federatedViews[e]||(this.federatedViews[e]=this.createFederatedView(n),this.restoreColoringState(e))}createFederatedView(e){return{tableName:this.getModelName(e),bDataLoadComplete:!1,isLoading:!1,svfFilePath:null,isModelLoaded:!1,isGeometryLoaded:!1,crossHighlightingMapping:{},coloringMapping:{},modelColoringCallback:null,viewerMapping:null,model:null,svfData:{modelComplete:[]},noViewable:!1,modelVersion:0,coloringIsBasedOn:null,isColoringCompleted:!1,callNotFromDifferentTable:!1,coloringColumnQueryFromDifferentTable:null,coloringCompletedFromDifferentTable:!1}}restoreColoringState(e){this.coloringState&&this.coloringState[e]&&(this.federatedViews[e].coloringMapping={...this.coloringState[e]})}isColoringRemoved(e,n,t){if(0===t.operationKind){const t=this.federatedViews[n],r=e.find(e=>e.roles.color&&e.queryName.includes(n));if(t.coloringColumnQueryFromDifferentTable&&e.find(e=>e.roles.color&&e.queryName.includes(t.coloringColumnQueryFromDifferentTable)))return!1;if(t.coloringIsBasedOn&&r)return r.displayName!==t.coloringIsBasedOn;if(t.coloringIsBasedOn&&!r)return!0}return!1}resetCrossHighlighting(e,n,t){if(0===t.operationKind){const t=this.federatedViews[n];Object.keys(t.crossHighlightingMapping).length&&(e.find(e=>e.roles.externalId&&e.queryName.includes(n)&&(e.queryName.toLocaleLowerCase().includes("externalelementid")||e.queryName.toLocaleLowerCase().includes("element id")))||(t.crossHighlightingMapping={},t.coloringIsBasedOn&&this.resetColoringState(n)))}}processExternalElementIdsAndColoring(e,n,t){e.forEach(e=>{e.roles.externalId&&this.handleExternalElementId(e,n),e.roles.color&&this.handleColoring(e,n,t)})}handleExternalElementId(e,n){const t=this.getModelName(e);if(!this.federatedViews[t]||this.federatedViews[t].noViewable)return;const r=n.find(n=>n.source.queryName===e.queryName),s=n.find(e=>e.source.roles.model&&e.source.queryName.includes(t))?.values;r&&this.processExternalElementIdValues(r).forEach((e,n)=>{if(s?.[n])return;const a=this.createSelectionId(r,n);e&&(this.federatedViews[t].crossHighlightingMapping[e.toString()]=a)})}processExternalElementIdValues(e){let n=e.values;return"externalelementid"===e.source.displayName.toLowerCase()?n:n.map(e=>e?btoa(e.toString()):e)}createSelectionId(e,n){return this.host.createSelectionIdBuilder().withCategory(e,n).createSelectionId()}handleColoring(e,n,t){let r=this.getModelName(e);const s=e.displayName;let a=this.federatedViews[r];a?this.colorRequiredModel(r,s,n,e,t):this.associateColoringColumnFromDifferentTable(e,n).forEach(r=>{a=this.federatedViews[r],a&&(a.coloringColumnQueryFromDifferentTable=e.queryName),this.colorRequiredModel(r,s,n,e,t)})}colorRequiredModel(e,n,t,r,s){let a=this.federatedViews[e];if(!a||a.noViewable||a.coloringIsBasedOn&&a.coloringIsBasedOn!==n)return;const o=t.find(e=>e.source.queryName===r.queryName);if(!o)return;const i=o.values,l=o.objects?o.objects:null,d=t.find(n=>n.source.queryName.split("."+n.source.displayName)[0]===e&&n.source.roles.externalId);if(!d||!this.isValidExternalElementId(d))return;const c=this.processExternalElementIdValues(d);i.length&&c.length&&this.applyColoring(i,c,o,e,a,l,s,n)}isValidExternalElementId(e){const n=e.source.displayName.toLowerCase();return n.includes("externalelementid")||n.includes("element id")}applyColoring(e,n,t,r,s,a,o,i){e.forEach((e,n)=>{const i=e?e.toString():"(Blank)";let l=o.dataViews[0].metadata.columns?.length-1,d=!o.dataViews[0].metadata.columns[l].roles.externalId&&!o.dataViews[0].metadata.columns[l].roles.color,c=this.getColorCode(i,t,n,a,s,d);const u=this.createSelectionId(t,n);s.coloringMapping[i]={colorField:i,color:c,selectionId:u},this.updateColoringState(r,i,c)}),s.isColoringCompleted||this.handleColoringCallback(n,e,r,o,s,i)}getColorCode(e,n,t,r,s,a){if(r&&r[t])return s.isColoringCompleted=!1,this.getColumnColorByIndex(n,t,a);if(s.coloringColumnQueryFromDifferentTable&&!s.coloringCompletedFromDifferentTable){let n=null;if(Object.values(this.federatedViews).filter(e=>e.tableName!==s.tableName&&e.coloringColumnQueryFromDifferentTable&&e.coloringColumnQueryFromDifferentTable===s.coloringColumnQueryFromDifferentTable).forEach(t=>{t.coloringMapping[e]&&(n=t.coloringMapping[e].color)}),n)return n}return s.coloringMapping[e]?.color||this.randomColor()}updateColoringState(e,n,t){this.coloringState[e]||(this.coloringState[e]={}),this.coloringState[e][n]={colorField:n,color:t}}handleColoringCallback(e,n,t,r,s,a){0===r.operationKind&&delete this.sortedColoringMap[t],s.isModelLoaded?this.setColorInLMV(e,n,t,r):0===r.operationKind?s.modelColoringCallback=[()=>this.setColorInLMV(e,n,t,r)]:s.modelColoringCallback.push(()=>this.setColorInLMV(e,n,t,r)),s.coloringIsBasedOn&&s.coloringIsBasedOn===a||(s.coloringIsBasedOn=a),s.isColoringCompleted||s.coloringIsBasedOn!==a||r.dataViews[0].metadata.segment||(s.isColoringCompleted=!0,s.coloringColumnQueryFromDifferentTable&&(s.coloringCompletedFromDifferentTable=!0))}associateColoringColumnFromDifferentTable(e,n){const t=n.find(n=>n.source.queryName===e.queryName).values,r=n.filter(e=>e.source.roles.externalId),s=[];for(const n of r){const r="externalelementid"===n.source.displayName.toLocaleLowerCase(),a=n.source.queryName,o=r?a.split(".ExternalElementId")[0]:a.split(".Element ID")[0];(this.federatedViews[o]&&this.federatedViews[o].coloringColumnQueryFromDifferentTable===e.queryName||this.federatedViews[o]&&!this.federatedViews[o].coloringIsBasedOn&&-1!==n.values.findIndex((e,n)=>null!==e&&null!==t[n]))&&s.push(o)}return s}processSVFAndLoadModel(e){if(Object.keys(this.federatedViews).length>0&&e.dataViews[0].metadata.columns.length){const n=e.dataViews[0].categorical.categories.filter(e=>e?.source?.roles?.model);for(let t in n){if(!n[t].source.displayName.includes(".viewer"))continue;const r=n[t].source.queryName.split(`.${n[t].source.displayName}`)[0],s=this.federatedViews[r];if(s.noViewable||n[t].values.includes("Viewable Data doesn't exist"))this.host.displayWarningIcon("Model load error","Viewable Data doesn't exist"),s.noViewable=!0;else if(globalThis.activeModel[r]?globalThis.activeModel[r].push(...n[t].values):globalThis.activeModel[r]=[...n[t].values],globalThis.activeModel[r].sort((e,n)=>e&&n?e.split("$$")[2].localeCompare(n.split("$$")[2],void 0,{numeric:!0,sensitivity:"base"}):-1),globalThis.activeModel[r].length>0){this.simplifyObject(r);const n=s.svfFilePath;this.extractModelVersion(e,n,r),s.isLoading||(this.forgeViewer?this.loadModel(this.forgeViewer,`https://file/${s.svfFilePath}`):(this.handleVisualPage(e),s.svfFilePath!==this.getActiveModelName()&&this.loadModelCallbacks.push(()=>this.loadModel(this.forgeViewer,`https://file/${s.svfFilePath}`))),s.bDataLoadComplete&&(s.isLoading=!0))}}}}simplifyObject(e){const n=globalThis.activeModel[e],t=this.federatedViews[e];for(let r of n){if(!r)continue;const n=r.split("$$");if(this.handleSVFFilePath(n,t))return;globalThis.modelComplete.hasOwnProperty(n[3])||this.processModelParts(e,n)}globalThis.activeModel[e]=[]}handleSVFFilePath(e,n){return"0"===e[2]&&(n.svfFilePath=e[3],this.activeModelName||(this.activeModelName=e[3]),n.isGeometryLoaded&&n.isModelLoaded)}processModelParts(e,n){const t=n[3],r=parseInt(n[2]),s=parseInt(n[5]);Object.hasOwn(globalThis.modelParts,t)?this.updateExistingModelPart(t,r,n[4],e,n):this.createNewModelPart(t,r,s,n[4],e,n)}updateExistingModelPart(e,n,t,r,s){globalThis.modelParts[e][n]=t,globalThis.modelRecieved[e]+=1,parseInt(globalThis.modelCount[e])===globalThis.modelRecieved[e]&&this.storingModelSVFState(r,s)}createNewModelPart(e,n,t,r,s,a){globalThis.modelParts[e]=new Array(t),globalThis.modelParts[e][n]=r,globalThis.modelCount[e]=t,globalThis.modelRecieved[e]=1,1===t&&this.storingModelSVFState(s,a)}storingModelSVFState(e,n){const t=this.federatedViews[e];globalThis.model[n[3]]=globalThis.modelParts[n[3]].join(""),delete globalThis.modelParts[n[3]],globalThis.modelComplete[n[3]]=!0,t.svfData.modelComplete.push(n[3]),n[3].includes("/0.pf")&&(this.bDataLoadComplete=!0,t.bDataLoadComplete=!0)}handleVisualPage(e){if(Object.keys(this.federatedViews).length){if(!this.bDataLoadComplete&&Object.keys(this.federatedViews).length)this.showLoadingPage(e);else if(this.bDataLoadComplete&&!this.forgeViewer){const n=this.getActiveModelName();n&&this.showViewerPage(e,`https://file/${n}`)}}else this.bDataLoadComplete=!1,this.showInstructionPage(e)}showInstructionPage(e){if(this.activePage){if(this.activePage.nodes().length>0&&"viewer-instructions"!==this.activePage.nodes()[0].id){this.activePage.remove(),this.activePage=null,this.forgeViewer=null,this.federatedViews={};const e=this.instructionPage.getPage();this.target.appendChild(e),this.activePage=(0,a.Ltv)(e),globalThis.activeModel={},globalThis.model={},globalThis.modelCount={},globalThis.modelRecieved={},globalThis.modelComplete={},globalThis.modelParts={},this.bDataLoadComplete=!1}}else{const e=this.instructionPage.getPage();this.target.appendChild(e),this.activePage=(0,a.Ltv)(e)}}showLoadingPage(e){if(this.activePage){if(this.activePage.nodes().length>0&&"loader"===this.activePage.nodes()[0].id)return;this.activePage.remove(),this.activePage=null}const n=(0,l.mJ)();this.target.appendChild(n),this.activePage=(0,a.Ltv)(n)}showViewerPage(e,n){if(this.activePage){if(this.activePage.nodes().length>0&&"forge-viewer"===this.activePage.nodes()[0].id)return;this.activePage.remove(),this.activePage=null}const t=(0,l.YW)();this.target.appendChild(t),this.activePage=(0,a.Ltv)(t),(0,l.s)().then(()=>{const t=document.getElementById("forge-viewer");(0,u.l)(),Autodesk.Viewing.Initializer({env:"Local"},()=>{if(Object.keys(this.federatedViews).length){this.forgeViewer=new Autodesk.Viewing.GuiViewer3D(t);const r={globalOffset:{x:0,y:0,z:0},isAEC:!0};this.forgeViewer.addEventListener(Autodesk.Viewing.TOOLBAR_CREATED_EVENT,()=>{this.addButtons(this.forgeViewer)}),this.forgeViewer.start(n,r,()=>{if(this.forgeViewer){this.forgeViewer.navigation.setReverseZoomDirection(!0);const n=this.getPersist(e,c.O.lmvCameraState);if(n&&Object.keys(n).length){const e=JSON.parse(n);this.forgeViewer.restoreState(e)}this.loadModelCallbacks.length&&(this.loadModelCallbacks.forEach(e=>e()),this.loadModelCallbacks=[]),this.forgeViewer.addEventListener(Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,e=>{this.extractModelData(e.model)}),this.forgeViewer.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,this.onSelectionChanged),this.forgeViewer.addEventListener(Autodesk.Viewing.OBJECT_UNDER_MOUSE_CHANGED,e=>{if(!this.host.tooltipService.enabled())return;const{dbId:n,modelId:t}=e;if(n&&-1!==n){const e=this.forgeViewer.getAllModels();if(1===e.length&&-1===t){const t=e[0];this.handleElementHover(n,t)}else if(e.length>1&&t>0){const r=e.find(e=>e.id===t);r?this.handleElementHover(n,r):this.host.tooltipService.hide({isTouchEvent:!1,immediately:!0})}else this.host.tooltipService.hide({isTouchEvent:!1,immediately:!0})}else this.host.tooltipService.hide({isTouchEvent:!1,immediately:!0})}),this.forgeViewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,e=>{this.federatedViews[this.getModelNameFromModel(e.model)].isGeometryLoaded=!0,this.appearanceSettingsCallback&&(this.appearanceSettingsCallback(),this.appearanceSettingsCallback=null)})}},e=>{console.error(e),this.host.displayWarningIcon("Model load error",e.toString())})}})})}addButtons(e){if(this.isToolBarButtonAdded)return;this.isToolBarButtonAdded=!0;const n=this.CreateToolbarGroup(e,"saveCameraState"),t=new Autodesk.Viewing.UI.Button("cameraStateButton");t.addClass("show-save-bg-button"),t.setToolTip("Save viewer State"),t.onClick=()=>this.onCameraStateButtonClick(),n.addControl(t);const r=this.CreateToolbarGroup(e,"transformExtensionsToolbar"),s=new Autodesk.Viewing.UI.Button("transformExtensionButton");s.addClass("show-env-bg-button"),s.setToolTip("Hide Toolbar"),s.onClick=()=>this.toggleToolbar(e),r.addControl(s)}CreateToolbarGroup(e,n){let t=e.toolbar.getControl(n);return t||(t=new Autodesk.Viewing.UI.ControlGroup(n),e.toolbar.addControl(t)),t}toggleToolbar(e){const n=e.toolbar.container;if(!n)return;if(n.style.display="none",document.getElementById("restoreToolbarBtn"))return;const t=this.createRestoreButton();e.container.appendChild(t),t.addEventListener("click",()=>{n.style.display="block",t.remove()})}onCameraStateButtonClick=()=>{const e=this.forgeViewer.getState({viewport:!0});this.setPersist(c.O.lmvCameraState,JSON.stringify(e))};createRestoreButton(){const e=document.createElement("button");return e.id="restoreToolbarBtn",e.title="Show Toolbar",e.classList.add("restore-toolbar-btn"),e}loadModel(e,n,t=(new THREE.Matrix4).makeRotationX(0*Math.PI).scale(new THREE.Vector3(1,1,1))){if("null"!==n.split("https://file/")[1])return new Promise((r,s)=>{const a={keepCurrentModels:!0,globalOffset:{x:0,y:0,z:0},isAEC:!0};t&&(a.placementTransform=t),e.loadModel(n,a,e=>{e?(console.log("Model loaded:",n),r()):(console.error(`Failed to load model from ${n}`),s())},e=>{console.error(`Error loading model from ${n}: ${e}`),s()})})}unloadModel(e){e&&this.forgeViewer.unloadModel(e)}handleModelUnloading(e){const n=e.dataViews[0].metadata.columns.filter(e=>e?.roles?.model&&e?.displayName.includes(".viewer")).map(e=>e.queryName.split(`.${e.displayName}`)[0]);if(Object.keys(this.federatedViews).length>n.length){if(0===n.length)return this.resetVisual(e,!1),void this.handleVisualPage(e);const t=Object.keys(this.federatedViews).filter(e=>!n.includes(e));for(let e of t){const n=this.federatedViews[e];n.noViewable||(n.model&&this.unloadModel(n.model),n.svfData.modelComplete.forEach(e=>{delete globalThis.model[e],delete globalThis.modelComplete[e]})),delete this.coloringState[e],delete this.federatedViews[e]}}}resetVisual(e,n){this.bDataLoadComplete&&(this.activePage.remove(),this.activePage=null,this.forgeViewer=null,this.bDataLoadComplete=!1,this.activeModelName="",this.federatedViews={},this.coloringState={},this.isColoringStateSynced=!1,this.loadModelCallbacks=[],this.selections=[],this.isHighlighting=!1,globalThis.activeModel={},globalThis.model={},globalThis.modelCount={},globalThis.modelRecieved={},globalThis.modelComplete={},globalThis.modelParts={},this.clearPersist(c.O.lmvCameraState),n&&this.update(e)),n||2!==e.type||(this.awaitingDataRefresh=!0)}decodeBase64(e){let n=e.replace(/-/g,"+").replace(/_/g,"/");for(;n.length%4!=0;)n+="=";return atob(n)}extractModelVersion(e,n,t){if(!n)return;if(0===n.length)return;let r=n.split("/")[0].split(":")[3],s=this.decodeBase64(r).split("?")[1],a=parseInt(s.split("=")[1]);a>this.federatedViews[t].modelVersion&&(this.federatedViews[t].modelVersion&&this.resetVisual(e,!0),this.federatedViews[t].modelVersion=a)}extractModelData(e){const n=this.getModelNameFromModel(e);this.federatedViews[n].isModelLoaded&&this.federatedViews[n].model||(this.federatedViews[n].isModelLoaded=!0,this.federatedViews[n].model=e,this.createDbIdMappingForModel(e,n))}createDbIdMappingForModel(e,n){const t=e.getData().instanceTree;if(!t)return void console.error("Instance tree not generated");const r=Object.keys(t.nodeAccess.dbIdToIndex),s={},a=r.map((n,t)=>new Promise((r,a)=>{e.getProperties(parseInt(n),e=>{try{if(e.externalId.includes("[")){const t=JSON.parse(e.externalId);s[t[t.length-1]]=parseInt(n)}else s[e.externalId]=parseInt(n);r()}catch(e){a(e)}},e=>{console.log("Error at model.getProperties",t,e),a()})}));Promise.allSettled(a).then(()=>{this.federatedViews[n].modelColoringCallback&&this.federatedViews[n].modelColoringCallback.length&&(this.federatedViews[n].modelColoringCallback.forEach(e=>e()),this.federatedViews[n].modelColoringCallback=null)}).catch(e=>{console.error("Error processing promises:",e)}),this.federatedViews[n].viewerMapping=s}onSelectionChanged=e=>{const n=e.selections;this.isHighlighting?n.forEach(e=>{const n=e.dbIdArray,t=e.model;this.forgeViewer.fitToView(n,t,!1)}):(this.selectionManager.clear(),n.forEach(e=>{const n=e.dbIdArray,t=this.getModelNameFromModel(e.model);n.forEach(e=>{const n=this.getMappedSelection(e,t);n&&this.selectionManager.select(n,!0)})}))};getMappedSelection=(e,n)=>{if(!this.federatedViews[n])return null;const t=this.federatedViews[n],r=Object.keys(t.viewerMapping);let s=r.find(n=>t.viewerMapping[n]===e),a=t.crossHighlightingMapping[s];if(!a){const n=this.forgeViewer.model.getData().instanceTree;let o=e,i=0;for(;!a&&i<2;){const e=n.getNodeParentId(o);if(!e)break;s=r.find(n=>t.viewerMapping[n]===e),a=t.crossHighlightingMapping[s],o=e,i++}}return a||null};filterLmvVisual(e){if(this.forgeViewer&&Object.keys(this.federatedViews).length){if(e.dataViews[0].metadata.isDataFilterApplied){this.isSlicingDone||(this.isSlicingDone=!0);const n=e.dataViews[0].categorical;if(!n)return;const t=n.categories;if(!t.length)return;for(let e of t)if(e.source.roles.externalId){const n="externalelementid"===e.source.displayName.toLocaleLowerCase(),r=e.source.queryName,s=n?r.split(".ExternalElementId")[0]:r.split(".Element ID")[0],a=this.federatedViews[s];if(!a?.isModelLoaded)continue;if(a.noViewable)continue;let o=e.values;n||(o=o.map(e=>e?btoa(e.toString()):e));const i=t.find(e=>e.source.roles.model&&e.source.queryName.includes(s))?.values,l=[];o.forEach((e,n)=>{if(e&&"string"==typeof e&&!i?.[n]){const n=a.viewerMapping[e];n&&l.push(n)}}),l.length?this.forgeViewer.isolate(l,a.model):this.forgeViewer.hide(Object.values(a.viewerMapping),a.model),this.forgeViewer.fitToView(l,a.model,!1)}}else this.isSlicingDone&&(this.forgeViewer.getVisibleModels()?.length&&this.forgeViewer.showAll(),this.forgeViewer.fitToView(),this.isSlicingDone=!1);this.highlightLmvVisual(e)}}highlightLmvVisual(e){if([4,32,36].includes(e.type))return;if(!this.forgeViewer)return;const n=e.dataViews[0].categorical;if(!n&&!n.values&&!n.values.length)return;const t=n.values,r=n.categories;if(0==e.operationKind&&(this.forgeViewer.clearSelection(),this.selections=[],Object.values(this.federatedViews).forEach(e=>e.callNotFromDifferentTable=!1)),t&&t.length){this.isHighlighting=!0;for(let e of t){const n=e.highlights;if(n){const t=e.source.queryName.toLocaleLowerCase().includes("externalelementid"),s=t?e.source.queryName.split("(")[1].split(".ExternalElementId")[0]:e.source.queryName.split("(")[1].split(".Element ID")[0],a=this.federatedViews[s];if(!a?.isModelLoaded)continue;if(a.noViewable)continue;const o=r.find(e=>e.source.roles.model&&e.source.queryName.includes(s))?.values,i=[];if(n.forEach((n,r)=>{if(a.callNotFromDifferentTable||e.values[r]==n||(a.callNotFromDifferentTable=!0),n&&"string"==typeof n&&!o?.[r]){const e=a?.viewerMapping[t?n:btoa(n.toString())];e&&i.push(e)}}),i.length){const e=this.selections.findIndex(e=>this.getModelNameFromModel(e.model)===s);if(e>=0){const n=this.selections[e].ids;this.selections[e]={model:a.model,ids:[...n,...i],callNotFromDifferentTable:a.callNotFromDifferentTable}}else this.selections.push({model:a.model,ids:i,callNotFromDifferentTable:a.callNotFromDifferentTable})}}}try{if(!e.dataViews[0].metadata.segment)if(this.selections.length){let e=this.selections.filter(e=>e.callNotFromDifferentTable).map(e=>({model:e.model,ids:e.ids}));this.forgeViewer.setAggregateSelection(e),this.isSelectionDone=!0}else this.isSelectionDone&&(this.forgeViewer.fitToView(),this.isSelectionDone=!1)}catch(e){this.forgeViewer.clearSelection(),this.forgeViewer.fitToView(),this.host.displayWarningIcon("Unexpected Highlighting Error",e)}this.isHighlighting=!1}}randomColor=()=>{let e="";for(let n=0;n<6;++n){const n=new Uint8Array(1);window.crypto.getRandomValues(n),e+=Math.floor(n[0]%16).toString(16)}return`#${e}`};clearColorSettings(e){this.forgeViewer&&this.forgeViewer.clearThemingColors(e)}setColorInLMV=(e,n,t,s)=>{const a=this.federatedViews[t];if(!a.isModelLoaded)return;const o=s.dataViews[0].categorical;if(!o)return;const i=o.categories,l=i.find(e=>e.source.roles.model&&e.source.queryName.includes(t))?.values;e.forEach((e,s)=>{const o=n[s]?n[s]:"(Blank)",i=a.coloringMapping[o];if(i&&i.color&&!l?.[s]){const n=(0,r.IO)(i.color),s=a.viewerMapping[e];s&&(this.sortedColoringMap[t]?this.sortedColoringMap[t][s]||(this.sortedColoringMap[t][s]={color:n,colorText:o}):this.sortedColoringMap[t]={[s]:{color:n,colorText:o}})}}),this.sortedColoringMap[t]&&(Object.keys(this.sortedColoringMap[t]).sort((e,n)=>Number(parseInt(e))-Number(parseInt(n))),Object.keys(this.sortedColoringMap[t]).forEach(e=>{const n=this.sortedColoringMap[t][e].color;this.forgeViewer.setThemingColor(parseInt(e),new THREE.Vector4(n.R/256,n.G/256,n.B/256,1),a.model,!0)}))};resetColoringState(e){const n=this.federatedViews[e];n.coloringIsBasedOn=null,n.coloringColumnQueryFromDifferentTable=null,n.coloringCompletedFromDifferentTable=!1,n.isColoringCompleted=!1,n.coloringMapping={},delete this.coloringState[e],this.clearColorSettings(n.model),this.sortedColoringMap[e]={}}getColumnColorByIndex(e,n,t){let r=[];t?(r.push("conditionalColor"),r.push("defaultColor")):(r.push("defaultColor"),r.push("conditionalColor"));const s=this.getCategoricalObjectValue(e,n,"values",r);return s?s.solid.color:void 0}getCategoricalObjectValue(e,n,t,r){const s=e.objects;if(s){const e=s[n];if(e){const n=e[t];if(n){const e=n[r[0]];return void 0!==e?e:n[r[1]]}}}}getTooltipData(e){let n=e.data;if(!n)return[];const t=[];return n.modelName&&t.push({displayName:"Model",value:n.modelName}),n.colorFieldName&&n.colorText&&t.push({displayName:n.colorFieldName,value:n.colorText}),t}handleElementHover(e,n){if(!this.forgeViewer||!n)return;const t=this.getModelNameFromModel(n),r=this.federatedViews[t];if(!(r&&r.viewerMapping&&r.coloringMapping&&this.sortedColoringMap[t]&&this.sortedColoringMap[t][e]))return void this.host.tooltipService.hide({isTouchEvent:!1,immediately:!0});const s={modelName:t,colorFieldName:r.coloringIsBasedOn||"Color",colorText:this.sortedColoringMap[t][e].colorText},a={data:s,coordinates:[0,0],element:null},o=this.getTooltipData(a);o.length>0&&this.host.tooltipService.show({coordinates:a.coordinates,dataItems:o,identities:s.colorFieldName?[s.colorFieldName]:[],isTouchEvent:!1})}catch(e){console.error("Error getting element properties for tooltip:",e)}isAppearanceSettingsChanged(e){let n=!1;e?.appearanceSettings&&["antialiasing","ambientShadows","groundShadow","groundReflection"].forEach(t=>{e.appearanceSettings.hasOwnProperty(t)&&this.appearanceSettings[t]!==e.appearanceSettings[t]&&(this.appearanceSettings[t]=e.appearanceSettings[t],n=!0)});const t=()=>{this.forgeViewer.setQualityLevel(this.appearanceSettings.ambientShadows,this.appearanceSettings.antialiasing),this.forgeViewer.setGroundReflection(this.appearanceSettings.groundReflection),this.forgeViewer.setGroundShadow(this.appearanceSettings.groundShadow)};n&&this.forgeViewer?t():n&&!this.forgeViewer&&Object.keys(this.federatedViews).length>0&&(this.appearanceSettingsCallback=t)}}!function(e,n,t,r){var s,a=arguments.length,o=a<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,r);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(a<3?s(o):a>3?s(n,t,o):s(n,t))||o);a>3&&o&&Object.defineProperty(n,t,o)}([(0,o.T)(),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",void 0)],f.prototype,"update",null)},1852:(e,n,t)=>{t.d(n,{A:()=>a,D:()=>s});var r=180/Math.PI,s={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a(e,n,t,s,a,o){var i,l,d;return(i=Math.sqrt(e*e+n*n))&&(e/=i,n/=i),(d=e*t+n*s)&&(t-=e*d,s-=n*d),(l=Math.sqrt(t*t+s*s))&&(t/=l,s/=l,d/=l),e*s<n*t&&(e=-e,n=-n,d=-d,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(n,e)*r,skewX:Math.atan(d)*r,scaleX:i,scaleY:l}}},1882:(e,n,t)=>{t.d(n,{Ay:()=>U,LN:()=>q,zr:()=>B});var r=t(7952),s=t(9713),a=t(7408),o=t(7867),i=t(9734),l=t(8664),d=t(4916),c=t(2672),u=t(5232),_=t(7610),p=t(4510),f=t(2920),h=t(5152),m=t(3455),b=t(4784),g=t(165),v=t(807),y=t(2901),w=t(7339),x=t(3683),k=t(461),j=t(8235),E=t(7499),I=t(697),O=t(2582),T=t(9215),P=t(8072),S=t(1429),A=t(3900),C=t(9063),M=t(9433),D=t(5233),R=t(202),L=t(1322),B=[null];function q(e,n){this._groups=e,this._parents=n}function F(){return new q([[document.documentElement]],B)}q.prototype=F.prototype={constructor:q,select:r.A,selectAll:s.A,selectChild:a.A,selectChildren:o.A,filter:i.A,data:l.A,enter:d.A,exit:c.A,join:u.A,merge:_.A,selection:function(){return this},order:p.A,sort:f.A,call:h.A,nodes:m.A,node:b.A,size:g.A,empty:v.A,each:y.A,attr:w.A,style:x.A,property:k.A,classed:j.A,text:E.A,html:I.A,raise:O.A,lower:T.A,append:P.A,insert:S.A,remove:A.A,clone:C.A,datum:M.A,on:D.A,dispatch:R.A,[Symbol.iterator]:L.A};const U=F},1943:(e,n,t)=>{t(9902),t(3578)},1957:(e,n,t)=>{t.d(n,{I:()=>i,T:()=>o});var r=t(8981),s=t(1226);function a(e,n,t,s){function a(e){return e.length?e.pop()+" ":""}return function(o,i){var l=[],d=[];return o=e(o),i=e(i),function(e,s,a,o,i,l){if(e!==a||s!==o){var d=i.push("translate(",null,n,null,t);l.push({i:d-4,x:(0,r.A)(e,a)},{i:d-2,x:(0,r.A)(s,o)})}else(a||o)&&i.push("translate("+a+n+o+t)}(o.translateX,o.translateY,i.translateX,i.translateY,l,d),function(e,n,t,o){e!==n?(e-n>180?n+=360:n-e>180&&(e+=360),o.push({i:t.push(a(t)+"rotate(",null,s)-2,x:(0,r.A)(e,n)})):n&&t.push(a(t)+"rotate("+n+s)}(o.rotate,i.rotate,l,d),function(e,n,t,o){e!==n?o.push({i:t.push(a(t)+"skewX(",null,s)-2,x:(0,r.A)(e,n)}):n&&t.push(a(t)+"skewX("+n+s)}(o.skewX,i.skewX,l,d),function(e,n,t,s,o,i){if(e!==t||n!==s){var l=o.push(a(o)+"scale(",null,",",null,")");i.push({i:l-4,x:(0,r.A)(e,t)},{i:l-2,x:(0,r.A)(n,s)})}else 1===t&&1===s||o.push(a(o)+"scale("+t+","+s+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,l,d),o=i=null,function(e){for(var n,t=-1,r=d.length;++t<r;)l[(n=d[t]).i]=n.x(e);return l.join("")}}}var o=a(s.P,"px, ","px)","deg)"),i=a(s.i,", ",")",")")},2101:(e,n,t)=>{function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}t.d(n,{wq:()=>r})},2582:(e,n,t)=>{function r(){this.nextSibling&&this.parentNode.appendChild(this)}function s(){return this.each(r)}t.d(n,{A:()=>s})},2672:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(6732),s=t(1882);function a(){return new s.LN(this._exit||this._groups.map(r.A),this._parents)}},2775:(e,n,t)=>{function r(e,n,t){const r={};r.propertyKey=t;const s={replace:[{objectName:n,selector:null,properties:r}]};e.persistProperties(s)}function s(e,n){if(e.metadata.columns.length<1||!e.metadata.objects)return null;const t=e.metadata.objects[n];if(t){const e=t.propertyKey;if(e)return e.toString()}return null}function a(e,n){r(e,n,"");const t={remove:[{objectName:n,selector:null,properties:{propertyKey:null}}]};e.persistProperties(t)}t.d(n,{_0:()=>r,bk:()=>a,yG:()=>s})},2901:(e,n,t)=>{function r(e){for(var n=this._groups,t=0,r=n.length;t<r;++t)for(var s,a=n[t],o=0,i=a.length;o<i;++o)(s=a[o])&&e.call(s,s.__data__,o,a);return this}t.d(n,{A:()=>r})},2920:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(1882);function s(e){function n(n,t){return n&&t?e(n.__data__,t.__data__):!n-!t}e||(e=a);for(var t=this._groups,s=t.length,o=new Array(s),i=0;i<s;++i){for(var l,d=t[i],c=d.length,u=o[i]=new Array(c),_=0;_<c;++_)(l=d[_])&&(u[_]=l);u.sort(n)}return new r.LN(o,this._parents).order()}function a(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}},3116:(e,n,t)=>{t.d(n,{A:()=>r});const r=e=>()=>e},3206:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(574),s=t(9064),a=t(3363);function o(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=(0,r.A)(e));for(var o=this._groups,i=o.length,l=new Array(i),d=0;d<i;++d)for(var c,u,_=o[d],p=_.length,f=l[d]=new Array(p),h=0;h<p;++h)(c=_[h])&&(u=e.call(c,c.__data__,h,_))&&("__data__"in c&&(u.__data__=c.__data__),f[h]=u,(0,a.Ay)(f[h],n,t,h,f,(0,a.Jt)(c,t)));return new s.eB(l,this._parents,n,t)}},3363:(e,n,t)=>{t.d(n,{Ay:()=>h,Jt:()=>g,Op:()=>p,Ts:()=>m,hV:()=>f,hZ:()=>b,xo:()=>c});var r=t(1089),s=t(29),a=t(1463),o=(0,r.A)("start","end","cancel","interrupt"),i=[],l=0,d=1,c=2,u=3,_=4,p=5,f=6;function h(e,n,t,r,h,m){var b=e.__transition;if(b){if(t in b)return}else e.__transition={};!function(e,n,t){var r,o=e.__transition;function i(s){var p,m,b,g;if(t.state!==d)return h();for(p in o)if((g=o[p]).name===t.name){if(g.state===u)return(0,a.A)(i);g.state===_?(g.state=f,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete o[p]):+p<n&&(g.state=f,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete o[p])}if((0,a.A)(function(){t.state===u&&(t.state=_,t.timer.restart(l,t.delay,t.time),l(s))}),t.state=c,t.on.call("start",e,e.__data__,t.index,t.group),t.state===c){for(t.state=u,r=new Array(b=t.tween.length),p=0,m=-1;p<b;++p)(g=t.tween[p].value.call(e,e.__data__,t.index,t.group))&&(r[++m]=g);r.length=m+1}}function l(n){for(var s=n<t.duration?t.ease.call(null,n/t.duration):(t.timer.restart(h),t.state=p,1),a=-1,o=r.length;++a<o;)r[a].call(e,s);t.state===p&&(t.on.call("end",e,e.__data__,t.index,t.group),h())}function h(){for(var r in t.state=f,t.timer.stop(),delete o[n],o)return;delete e.__transition}o[n]=t,t.timer=(0,s.O1)(function(e){t.state=d,t.timer.restart(i,t.delay,t.time),t.delay<=e&&i(e-t.delay)},0,t.time)}(e,t,{name:n,index:r,group:h,on:o,tween:i,time:m.time,delay:m.delay,duration:m.duration,ease:m.ease,timer:null,state:l})}function m(e,n){var t=g(e,n);if(t.state>l)throw new Error("too late; already scheduled");return t}function b(e,n){var t=g(e,n);if(t.state>u)throw new Error("too late; already running");return t}function g(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}},3446:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(7268);function s(e,n){var t,r;function s(){var s=n.apply(this,arguments);return s!==r&&(t=(r=s)&&function(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,s)),t}return s._value=n,s}function a(e,n){var t,r;function s(){var s=n.apply(this,arguments);return s!==r&&(t=(r=s)&&function(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,s)),t}return s._value=n,s}function o(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var o=(0,r.A)(e);return this.tween(t,(o.local?s:a)(o,n))}},3455:(e,n,t)=>{function r(){return Array.from(this)}t.d(n,{A:()=>r})},3473:(e,n,t)=>{t.d(n,{S:()=>_,h:()=>u});var r=t(7674),s=t(889),a=r.z.Tn,o=r.z.Kx,i=r.z.sk;class l extends a{name="defaultColor";displayName="Default Colors";slices=[]}class d extends a{antialiasing=new r.z.jF({name:"antialiasing",displayName:"Anti-aliasing",value:!0});ambientShadows=new r.z.jF({name:"ambientShadows",displayName:"Ambient Shadows",value:!0});groundShadow=new r.z.jF({name:"groundShadow",displayName:"Ground Shadow",value:!0});groundReflection=new r.z.jF({name:"groundReflection",displayName:"Ground Reflection",value:!1});name="appearanceSettings";displayName="Appearance Settings";slices=[this.antialiasing,this.ambientShadows,this.groundShadow,this.groundReflection]}class c extends a{show=new r.z.jF({name:"show",value:!1});conditionalColor=new r.z.sk({name:"conditionalColor",displayName:"Color",description:'Please use "fx" option for conditional coloring. Color Picker UI is disabled.',value:{value:void 0},altConstantSelector:null,instanceKind:2,selector:s.Z(0)});name="conditionalColor";displayName="Conditional Colors";description='Please use "fx" option for conditional coloring. Color Picker UI is disabled.';slices=[this.conditionalColor]}class u extends r.z.St{colorSelector=new l;conditionSelector=new c;name="values";displayName="Data colors";groups=[this.conditionSelector,this.colorSelector]}class _ extends o{valueCard=new u;toggleCard=new d;cards=[this.valueCard,this.toggleCard];clearColorSettings(){this.valueCard.colorSelector.slices=[]}populateColorSelector(e,n){const t=this.valueCard.colorSelector.slices;if(e&&e.federatedViews){const r=e.federatedViews[n].coloringMapping;e.dataValues.forEach(e=>{const s=r[e];s&&s.selectionId&&t.push(new i({name:"defaultColor",displayName:`${s.colorField} {${n}}`,value:{value:s.color},selector:s.selectionId.getSelector()}))})}}populateConditionalColorSelector(){this.valueCard.conditionSelector.slices.push(new i({name:"conditionalColor",displayName:void 0,value:{value:""},instanceKind:3,selector:s.Z(0)}))}}},3537:(e,n,t)=>{t(8965)},3578:(e,n,t)=>{function r(e,n,t){this.k=e,this.x=n,this.y=t}r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,n){return 0===e&0===n?this:new r(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new r(1,0,0),r.prototype},3589:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(3363);function s(){var e,n,t=this,s=t._id,a=t.size();return new Promise(function(o,i){var l={value:i},d={value:function(){0===--a&&o()}};t.each(function(){var t=(0,r.hZ)(this,s),a=t.on;a!==e&&((n=(e=a).copy())._.cancel.push(l),n._.interrupt.push(l),n._.end.push(d)),t.on=n}),0===a&&o()})}},3663:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(7268),s=t(7947);function a(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===s.g&&n.documentElement.namespaceURI===s.g?n.createElement(e):n.createElementNS(t,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function i(e){var n=(0,r.A)(e);return(n.local?o:a)(n)}},3683:(e,n,t)=>{t.d(n,{A:()=>i,j:()=>l});var r=t(6747);function s(e){return function(){this.style.removeProperty(e)}}function a(e,n,t){return function(){this.style.setProperty(e,n,t)}}function o(e,n,t){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,t)}}function i(e,n,t){return arguments.length>1?this.each((null==n?s:"function"==typeof n?o:a)(e,n,null==t?"":t)):l(this.node(),e)}function l(e,n){return e.style.getPropertyValue(n)||(0,r.A)(e).getComputedStyle(e,null).getPropertyValue(n)}},3900:(e,n,t)=>{function r(){var e=this.parentNode;e&&e.removeChild(this)}function s(){return this.each(r)}t.d(n,{A:()=>s})},4228:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(3363);function s(e){var n=this._id;return arguments.length?this.each(function(e,n){if("function"!=typeof n)throw new Error;return function(){(0,r.hZ)(this,e).ease=n}}(n,e)):(0,r.Jt)(this.node(),n).ease}},4388:(e,n,t)=>{t.d(n,{Q:()=>r});class r{submitButton;getPage(){const e=document.createElement("div");e.id="viewer-instructions";const n=document.createElementNS("https://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"viewBox","0 0 335.229 64.16");const t=document.createElementNS("https://www.w3.org/2000/svg","path");t.setAttributeNS(null,"d","M258.545.693h-7.655l-9.168 10.238V.693h-6.426l.031 25.202h6.395v-9.577l8.695 9.577h8.128l-11.719-12.444L258.545.693zM224.932 11.057l-5.86-.661c-3.433-.378-4.284-1.229-4.284-2.395 0-1.291 1.764-2.457 5.198-2.457 3.308 0 5.04 1.229 5.355 3.088h6.3C231.328 3.307 226.854 0 220.334 0c-7.75 0-11.656 3.087-11.656 8.537 0 4.442 2.583 6.521 7.938 7.088l5.954.63c2.268.252 3.308 1.134 3.308 2.268 0 1.292-1.512 2.457-5.166 2.457-4.222 0-5.923-1.07-6.206-3.213h-6.175c.284 5.796 4.064 8.758 12.16 8.758 7.403 0 11.53-3.245 11.53-8.128 0-4.253-2.457-6.804-7.088-7.34ZM185.208 25.895h20.287v-5.45h-13.861v-4.568h11.152v-5.481h-11.152V6.143h13.861V.693h-20.287v25.202zM170.087.693h-11.782v25.202h11.781c9.042 0 11.53-3.37 11.53-12.79 0-8.852-2.394-12.412-11.53-12.412Zm-.252 19.752h-5.104V6.143h5.104c4.032 0 5.229 1.103 5.229 6.962 0 5.355-1.355 7.34-5.23 7.34ZM140.852 0c-9.167 0-13.923 5.639-13.923 13.23 0 7.624 4.756 13.295 13.923 13.295 9.2 0 13.956-5.67 13.956-13.294C154.808 5.639 150.051 0 140.852 0Zm0 20.854c-4.756 0-7.371-2.898-7.371-7.623 0-4.63 2.615-7.56 7.372-7.56 4.788 0 7.371 2.93 7.371 7.56 0 4.725-2.583 7.623-7.372 7.623ZM103.239 6.143h8.128v19.752h6.426V6.143h8.096V.693h-22.65v5.45zM93.883 16.255c0 3.276-2.016 4.6-5.45 4.6-3.34 0-5.513-1.387-5.513-4.6V.693h-6.426V16.98c0 7.277 6.49 9.545 11.939 9.545 5.418 0 11.876-2.268 11.876-9.545V.693h-6.426v15.562ZM57.687.693l-9.671 25.202h6.647l1.688-4.725h10.796l1.66 4.725h6.868L65.878.693h-8.191Zm.577 15.121 3.53-9.88 3.471 9.88h-7ZM.197 25.897l22.568-14.038H34.47c.36 0 .685.288.685.685 0 .324-.145.468-.325.576l-11.084 6.644c-.72.432-.973 1.297-.973 1.945l-.01 4.188h14.084V1.557c0-.468-.36-.864-.9-.864H22.512L0 14.669v11.228h.197ZM65.306 45.694v2.088c0 4.608-3.816 7.272-9.575 7.272h-3.167v8.638h-4.536V38.495h8.315c5.435 0 8.963 2.556 8.963 7.2Zm-4.535.216c0-2.735-1.8-3.959-4.644-3.959h-3.564v9.647h3.024c3.24 0 5.183-1.188 5.183-4.068v-1.62ZM72.975 59.228c0 1.044.324 1.477 1.296 1.477.216 0 .468-.036.756-.072l.468 3.06c-.72.251-1.548.467-2.556.467-2.664 0-4.427-1.44-4.427-4.283V37.056h4.463v22.173ZM93.781 50.77v12.922H90.29l-.36-1.836c-1.62 1.584-3.564 2.304-5.687 2.304-3.384 0-6.371-2.052-6.371-5.435v-1.26c0-3.348 2.951-5.543 7.955-5.543h3.527v-1.296c0-2.268-1.152-3.24-3.42-3.24-2.123 0-3.78.54-5.58 1.44l-1.367-2.771c1.944-1.188 4.464-2.016 7.344-2.016 5.11 0 7.45 2.663 7.45 6.73Zm-4.427 8.206V54.73h-3.096c-2.627 0-3.96.972-3.96 2.916v.72c0 1.512.9 2.483 2.808 2.483 1.62 0 3.132-.576 4.248-1.872ZM108.47 63.692c-.864.252-2.16.468-3.347.468-3.672 0-5.796-1.62-5.796-5.219V47.854h-2.915v-3.311h3.023l.36-4.716h3.995v4.716h4.14v3.312h-4.14V58.69c0 1.403.756 2.051 2.34 2.051.684 0 1.296-.072 1.872-.18l.468 3.131ZM117.866 42.347v2.196h4.572v3.312h-4.572v15.837h-4.464V47.854h-2.555v-3.311h2.555v-1.836c0-4.14 2.268-6.119 6.444-6.119 1.44 0 2.735.216 3.527.468l-.468 3.168a10.812 10.812 0 0 0-2.448-.288c-1.835 0-2.591.683-2.591 2.41ZM142.128 53.11v1.944c0 5.363-3.167 9.106-9.07 9.106-5.868 0-8.963-3.743-8.963-9.106v-1.945c0-5.255 3.095-9.07 8.963-9.07 5.903 0 9.07 3.816 9.07 9.07Zm-13.57-.072v2.016c0 3.779 1.548 5.758 4.5 5.758 2.987 0 4.607-1.979 4.607-5.758v-2.016c0-3.672-1.62-5.615-4.607-5.615-2.952 0-4.5 1.943-4.5 5.615ZM157.284 44.47l-.791 4.14a5.94 5.94 0 0 0-1.152-.108c-2.16 0-3.96.936-5.04 3.815v11.375h-4.463v-19.15h3.24l.72 3.024c1.115-2.483 3.203-3.456 5.182-3.456 1.044 0 1.764.18 2.304.36ZM185.794 50.446v13.246h-4.428V50.77c0-2.41-1.187-3.346-2.627-3.346-1.404 0-2.592.9-3.636 2.41v13.86h-4.463V50.768c0-2.41-1.152-3.346-2.592-3.346s-2.591.9-3.671 2.41v13.86h-4.428v-19.15h3.816l.252 1.98c1.332-1.585 3.023-2.484 5.183-2.484 2.088 0 4.032 1.008 5.076 2.88 1.475-1.836 3.275-2.88 5.615-2.88 3.167 0 5.903 2.267 5.903 6.407ZM198.181 60.885l2.268-2.7c2.124 1.404 3.528 2.376 6.947 2.376 3.708 0 5.327-1.836 5.327-3.528v-.467c0-1.8-.864-2.7-3.85-3.672l-3.708-1.224c-4.248-1.368-5.94-3.6-5.94-6.371v-.828c0-3.42 3.24-6.444 9-6.444 3.814 0 6.586 1.189 8.854 3.276l-2.232 2.484c-2.304-1.727-3.923-2.303-6.443-2.303-3.276 0-4.643 1.547-4.643 2.95v.613c0 1.26 1.152 2.304 4.03 3.203l3.349 1.08c3.455 1.08 6.083 2.916 6.083 6.768v.972c0 4.247-3.96 7.09-9.611 7.09-4.572 0-7.45-1.44-9.43-3.275ZM236.807 55.522h-12.346c.072 3.671 1.764 5.29 5.075 5.29 2.088 0 3.636-.755 5.111-1.583l1.584 2.664c-1.62 1.223-4.211 2.267-6.983 2.267-5.831 0-9.143-3.851-9.143-9.035v-1.98c0-5.183 3.24-9.106 8.567-9.106 5.22 0 8.28 3.24 8.28 9.322 0 .792-.073 1.584-.145 2.16Zm-3.851-3.096c0-3.312-1.476-5.111-4.248-5.111-2.735 0-4.175 1.8-4.247 5.29h8.494v-.18ZM252.035 44.47l-.791 4.14a5.94 5.94 0 0 0-1.152-.108c-2.16 0-3.96.936-5.04 3.815v11.375h-4.463v-19.15h3.24l.72 3.024c1.115-2.483 3.203-3.456 5.182-3.456 1.044 0 1.764.18 2.304.36ZM265.283 63.692h-5.508l-6.227-19.149h4.644l4.427 15.586 4.427-15.586h4.464l-6.227 19.15ZM280.655 44.543v19.15h-4.463V47.854h-2.88v-3.312h7.343Zm-5.111-5.651c0-1.512 1.224-2.7 2.7-2.7 1.511 0 2.7 1.188 2.7 2.7 0 1.475-1.189 2.663-2.7 2.663-1.476 0-2.7-1.188-2.7-2.663ZM284.184 54.91v-1.62c0-5.544 3.131-9.25 8.783-9.25 2.592 0 4.571.827 6.335 2.519l-2.124 2.376c-1.188-1.044-2.34-1.512-4.031-1.512-2.808 0-4.5 1.871-4.5 5.795v1.763c0 3.888 1.585 5.832 4.463 5.832 1.764 0 3.024-.72 4.212-1.548l1.836 2.628c-1.584 1.332-3.96 2.267-6.263 2.267-5.507 0-8.711-3.707-8.711-9.25ZM317.554 55.522h-12.347c.072 3.671 1.764 5.29 5.075 5.29 2.088 0 3.636-.755 5.112-1.583l1.584 2.664c-1.62 1.223-4.211 2.267-6.984 2.267-5.831 0-9.143-3.851-9.143-9.035v-1.98c0-5.183 3.24-9.106 8.568-9.106 5.219 0 8.278 3.24 8.278 9.322 0 .792-.071 1.584-.143 2.16Zm-3.852-3.096c0-3.312-1.476-5.111-4.247-5.111-2.736 0-4.176 1.8-4.248 5.29h8.495v-.18ZM319.644 61.532l2.124-2.555c1.583 1.188 3.239 1.872 5.398 1.872 2.269 0 3.636-.648 3.636-2.088v-.288c0-1.26-.684-1.835-3.203-2.7l-2.413-.828c-2.987-1.08-4.607-2.52-4.607-4.931v-.791c0-3.06 3.023-5.184 7.272-5.184 2.735 0 5.363.9 7.199 2.411l-2.052 2.448c-1.908-1.223-3.275-1.547-5.004-1.547-2.016 0-2.951.828-2.951 1.835v.289c0 1.007.647 1.655 3.096 2.519l2.41.827c2.737.973 4.68 2.233 4.68 5.148v.792c0 3.563-3.527 5.399-7.667 5.399-3.239 0-5.975-.972-7.918-2.628Z"),n.appendChild(t),e.appendChild(n);const r=document.createElement("p");r.classList.add("instruction-title"),r.textContent="Steps to configure Autodesk viewer:",e.appendChild(r);const s=document.createElement("p");s.classList.add("instruction-step"),s.textContent="STEP 1: Search for .Viewer in the Data pane, select the Viewer column, and drag and drop it in the Viewer field",e.appendChild(s);const a=document.createElement("p");a.classList.add("instruction-step2"),a.textContent="STEP 2: Search for ExternalElementId in the Data Pane, and drag and drop the ExternalElementId column into all the ExternalElementId fields one by one.",e.appendChild(a);const o=document.createElement("br");e.appendChild(o);const i=document.createElement("div");i.classList.add("note-step");const l=document.createElement("strong");l.textContent="Note:";const d=document.createTextNode(" The ExternalElementId must be used for mapping. In case that fails to map, then Element ID should be used as a fallback.");return i.appendChild(l),i.appendChild(d),e.appendChild(i),e}}},4510:(e,n,t)=>{function r(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var r,s=e[n],a=s.length-1,o=s[a];--a>=0;)(r=s[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}t.d(n,{A:()=>r})},4620:(e,n,t)=>{t.d(n,{A:()=>d});var r=t(9064),s=t(3363),a=t(2101),o=t(29),i={time:null,delay:0,duration:250,ease:a.wq};function l(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}function d(e){var n,t;e instanceof r.eB?(n=e._id,e=e._name):(n=(0,r.Si)(),(t=i).time=(0,o.tB)(),e=null==e?null:e+"");for(var a=this._groups,d=a.length,c=0;c<d;++c)for(var u,_=a[c],p=_.length,f=0;f<p;++f)(u=_[f])&&(0,s.Ay)(u,e,n,f,_,t||l(u,n));return new r.eB(a,this._parents,e,n)}},4708:(e,n,t)=>{t.d(n,{$e:()=>f,Bt:()=>g,IO:()=>i,KY:()=>m,ND:()=>s,NN:()=>a,Zb:()=>o,e$:()=>c,j$:()=>p,lp:()=>h,p8:()=>u,xq:()=>v,zO:()=>_});var r=t(5442);function s(e,n){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,n,t,r){return n+n+t+t+r+r});const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null;return null===r?"":n||0===n?"rgba("+r.r+","+r.g+","+r.b+","+n+")":"rgb("+r.r+","+r.g+","+r.b+")"}function a(e,n){if(0===n)return e;const t=function(e,n){const t=e.H+n;return{H:t>1?t-1:t,S:e.S,V:e.V}}(l(i(e)),n);return _(d(t))}function o(e){return _(i(e))}function i(e){if(e.indexOf("#")>=0){if(7===e.length){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null==n||n.length<4)return;return{R:parseInt(n[1],16),G:parseInt(n[2],16),B:parseInt(n[3],16)}}if(4===e.length){const n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(e);if(null==n||n.length<4)return;return{R:parseInt(n[1]+n[1],16),G:parseInt(n[2]+n[2],16),B:parseInt(n[3]+n[3],16)}}}else{if(e.indexOf("rgb(")>=0){const n=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(e);if(null==n||n.length<4)return;return{R:parseInt(n[1],10),G:parseInt(n[2],10),B:parseInt(n[3],10)}}if(e.indexOf("rgba(")>=0){const n=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(e);if(null==n||n.length<5)return;return{R:parseInt(n[1],10),G:parseInt(n[2],10),B:parseInt(n[3],10),A:parseFloat(n[4])}}}}function l(e){let n,t;const r=e.R/255,s=e.G/255,a=e.B/255,o=Math.min(r,Math.min(s,a)),i=Math.max(r,Math.max(s,a)),l=i-o;return 0===i||0===l?(n=0,t=0):(n=l/i,t=r===i?(s-a)/l:s===i?2+(a-r)/l:4+(r-s)/l),t/=6,t<0&&(t+=1),{H:t,S:n,V:i}}function d(e){let n,t,r;const s=e.H,a=e.S,o=e.V;if(0===a)n=o,t=o,r=o;else{const e=6*s,i=Math.floor(e),l=e-i,d=o*(1-a),c=o*(1-a*l),u=o*(1-a*(1-l));switch(i){case 0:n=o,t=u,r=d;break;case 1:n=c,t=o,r=d;break;case 2:n=d,t=o,r=u;break;case 3:n=d,t=c,r=o;break;case 4:n=u,t=d,r=o;break;case 5:n=o,t=d,r=c}}return{R:Math.floor(255*n),G:Math.floor(255*t),B:Math.floor(255*r)}}function c(e,n){const t=Math.floor(n);return{R:Math.max(0,e.R-t),G:Math.max(0,e.G-t),B:Math.max(0,e.B-t)}}function u(e){return null==e.A?"rgb("+e.R+","+e.G+","+e.B+")":"rgba("+e.R+","+e.G+","+e.B+","+e.A+")"}function _(e){return"#"+b(e.R)+b(e.G)+b(e.B)}function p(e,n,t){return _(f(i(e),n,i(t)))}function f(e,n,t){return n=r.hA(n,0,1),{R:h(e.R,n,t.R),G:h(e.G,n,t.G),B:h(e.B,n,t.B)}}function h(e,n,t){return n=r.hA(n,0,1),e=r.hA(e,0,255),t=r.hA(t,0,255),Math.round(n*e+(1-n)*t)}function m(e,n,t){const r=l(e);return(n+t>1||n<=0||t<=0)&&(n=.8,t=.2),r.V<n?r.V=r.V+t:r.V=r.V-t,_(d(r))}function b(e){const n=r.hA(e,0,255).toString(16).toUpperCase();return 1===n.length?"0"+n:n}function g(e,n,t){const r=n.map(e=>i(e));return s=>{if(null==s&&(s=0),isNaN(s))return;if(t){if(s>=e[e.length-1])return n[n.length-1];if(s<=e[0])return n[0]}let a,o,i,l;for(let t=1,d=e.length;t<d;t++){if(a=e[t-1],o=e[t],o===s)return n[t];if(s>=a&&s<=o){i=r[t-1],l=r[t];break}}return _({R:Math.round((s-a)*(l.R-i.R)/(o-a)+i.R),G:Math.round((s-a)*(l.G-i.G)/(o-a)+i.G),B:Math.round((s-a)*(l.B-i.B)/(o-a)+i.B)})}}function v(e,n){const t=parseInt(e.slice(1),16),r=n<0?0:255,s=n<0?-1*n:n,a=t>>16,o=t>>8&255,i=255&t;return"#"+(16777216+65536*(Math.round((r-a)*s)+a)+256*(Math.round((r-o)*s)+o)+(Math.round((r-i)*s)+i)).toString(16).slice(1)}},4709:(e,n,t)=>{t.d(n,{Ay:()=>a,uN:()=>s});var r=t(3116);function s(e){return 1===(e=+e)?a:function(n,t){return t-n?function(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}(n,t,e):(0,r.A)(isNaN(n)?t:n)}}function a(e,n){var t=n-e;return t?function(e,n){return function(t){return e+t*n}}(e,t):(0,r.A)(isNaN(e)?n:e)}},4784:(e,n,t)=>{function r(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var r=e[n],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}t.d(n,{A:()=>r})},4876:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(6541),s=t(9064);function a(e){"function"!=typeof e&&(e=(0,r.A)(e));for(var n=this._groups,t=n.length,a=new Array(t),o=0;o<t;++o)for(var i,l=n[o],d=l.length,c=a[o]=[],u=0;u<d;++u)(i=l[u])&&e.call(i,i.__data__,u,l)&&c.push(i);return new s.eB(a,this._parents,this._name,this._id)}},4916:(e,n,t)=>{t.d(n,{A:()=>a,L:()=>o});var r=t(6732),s=t(1882);function a(){return new s.LN(this._enter||this._groups.map(r.A),this._parents)}function o(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},5152:(e,n,t)=>{function r(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}t.d(n,{A:()=>r})},5182:(e,n,t)=>{function r(){return this.on("end.remove",(e=this._id,function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}));var e}t.d(n,{A:()=>r})},5207:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(3363);function s(e,n){var t=this._id;return arguments.length<2?(0,r.Jt)(this.node(),t).on.on(e):this.each(function(e,n,t){var s,a,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(n)?r.Ts:r.hZ;return function(){var r=o(this,e),i=r.on;i!==s&&(a=(s=i).copy()).on(n,t),r.on=a}}(t,e,n))}},5232:(e,n,t)=>{function r(e,n,t){var r=this.enter(),s=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=n&&(s=n(s))&&(s=s.selection()),null==t?a.remove():t(a),r&&s?r.merge(s).order():s}t.d(n,{A:()=>r})},5233:(e,n,t)=>{function r(e){return function(){var n=this.__on;if(n){for(var t,r=0,s=-1,a=n.length;r<a;++r)t=n[r],e.type&&t.type!==e.type||t.name!==e.name?n[++s]=t:this.removeEventListener(t.type,t.listener,t.options);++s?n.length=s:delete this.__on}}}function s(e,n,t){return function(){var r,s=this.__on,a=function(e){return function(n){e.call(this,n,this.__data__)}}(n);if(s)for(var o=0,i=s.length;o<i;++o)if((r=s[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=t),void(r.value=n);this.addEventListener(e.type,a,t),r={type:e.type,name:e.name,value:n,listener:a,options:t},s?s.push(r):this.__on=[r]}}function a(e,n,t){var a,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var n="",t=e.indexOf(".");return t>=0&&(n=e.slice(t+1),e=e.slice(0,t)),{type:e,name:n}})}(e+""),l=i.length;if(!(arguments.length<2)){for(d=n?s:r,a=0;a<l;++a)this.each(d(i[a],n,t));return this}var d=this.node().__on;if(d)for(var c,u=0,_=d.length;u<_;++u)for(a=0,c=d[u];a<l;++a)if((o=i[a]).type===c.type&&o.name===c.name)return c.value}t.d(n,{A:()=>a})},5442:(e,n,t)=>{function r(e,n,t){return null==e?e:e<n?n:e>t?t:e}t.d(n,{hA:()=>r}),Number.MAX_VALUE,Number.MAX_VALUE,Math.log(10)},5478:(e,n,t)=>{function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}t.d(n,{A:()=>r})},5509:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(9064),s=t(3363);function a(){for(var e=this._name,n=this._id,t=(0,r.Si)(),a=this._groups,o=a.length,i=0;i<o;++i)for(var l,d=a[i],c=d.length,u=0;u<c;++u)if(l=d[u]){var _=(0,s.Jt)(l,n);(0,s.Ay)(l,e,t,u,d,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new r.eB(a,this._parents,e,t)}},5636:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(9064);function s(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,s=n.length,a=t.length,o=Math.min(s,a),i=new Array(s),l=0;l<o;++l)for(var d,c=n[l],u=t[l],_=c.length,p=i[l]=new Array(_),f=0;f<_;++f)(d=c[f]||u[f])&&(p[f]=d);for(;l<s;++l)i[l]=n[l];return new r.eB(i,this._parents,this._name,this._id)}},5868:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(7045);function s(e){return this.each(function(){(0,r.A)(this,e)})}},6066:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(3363);function s(e){if("function"!=typeof e)throw new Error;return this.each(function(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;(0,r.hZ)(this,e).ease=t}}(this._id,e))}},6160:(e,n,t)=>{function r(e,n,t,r,s){var a=e*e,o=a*e;return((1-3*e+3*a-o)*n+(4-6*a+3*o)*t+(1+3*e+3*a-3*o)*r+o*s)/6}function s(e){var n=e.length-1;return function(t){var s=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),a=e[s],o=e[s+1],i=s>0?e[s-1]:2*a-o,l=s<n-1?e[s+2]:2*o-a;return r((t-s/n)*n,i,a,o,l)}}t.d(n,{A:()=>s,H:()=>r})},6470:(e,n,t)=>{t(1943),t(3578)},6541:(e,n,t)=>{function r(e){return function(){return this.matches(e)}}function s(e){return function(n){return n.matches(e)}}t.d(n,{A:()=>r,j:()=>s})},6558:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(3363);function s(e,n){return function(){(0,r.hZ)(this,e).duration=+n.apply(this,arguments)}}function a(e,n){return n=+n,function(){(0,r.hZ)(this,e).duration=n}}function o(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?s:a)(n,e)):(0,r.Jt)(this.node(),n).duration}},6667:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(9754);const s=class{constructor(e){this.localizationManager=e}populateFormattingSettingsModel(e,n){var t,s;let a=new e,o=null===(t=null==n?void 0:n.metadata)||void 0===t?void 0:t.objects;return o&&(null===(s=a.cards)||void 0===s||s.forEach(e=>{var n;e instanceof r.St&&(null===(n=e.topLevelSlice)||void 0===n||n.setPropertiesValues(o,e.name)),(e instanceof r.Tn?[e]:e.groups).forEach(n=>{var t,r,s,a;null===(t=n.topLevelSlice)||void 0===t||t.setPropertiesValues(o,e.name),null===(r=null==n?void 0:n.slices)||void 0===r||r.forEach(n=>{null==n||n.setPropertiesValues(o,e.name)}),null===(a=null===(s=null==n?void 0:n.container)||void 0===s?void 0:s.containerItems)||void 0===a||a.forEach(n=>{var t;null===(t=null==n?void 0:n.slices)||void 0===t||t.forEach(n=>{null==n||n.setPropertiesValues(o,e.name)})})})})),a}buildFormattingModel(e){let n={cards:[]};return e.cards.filter(({visible:e=!0})=>e).forEach(e=>{var t;let s={displayName:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,description:this.localizationManager&&e.descriptionKey?this.localizationManager.getDisplayName(e.descriptionKey):e.description,groups:[],uid:e.name+"-card",analyticsPane:e.analyticsPane};const a=e.name;if(e.topLevelSlice){let n=e.topLevelSlice.getFormattingSlice(a,this.localizationManager);n.suppressDisplayName=!0,s.topLevelToggle=n}null===(t=e.onPreProcess)||void 0===t||t.call(e);const o=e instanceof r.Tn;(o?[e].filter(({visible:e=!0})=>e):e.groups.filter(({visible:e=!0})=>e)).forEach(e=>{const n=e.name+"-group",t={displayName:o?void 0:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,description:o?void 0:this.localizationManager&&e.descriptionKey?this.localizationManager.getDisplayName(e.descriptionKey):e.description,slices:[],uid:n,collapsible:e.collapsible,delaySaveSlices:e.delaySaveSlices,disabled:e.disabled,disabledReason:e.disabledReason};s.groups.push(t);const r={};if(e.container){const s=e.container,o=n+"-container",i={displayName:this.localizationManager&&s.displayNameKey?this.localizationManager.getDisplayName(s.displayNameKey):s.displayName,description:this.localizationManager&&s.descriptionKey?this.localizationManager.getDisplayName(s.descriptionKey):s.description,containerItems:[],uid:o};s.containerItems.forEach(e=>{const n=e.displayNameKey?e.displayNameKey:e.displayName,t=o+n;let s={displayName:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,slices:[],uid:t};this.buildFormattingSlices({slices:e.slices,objectName:a,sliceNames:r,formattingSlices:s.slices}),i.containerItems.push(s)}),t.container=i}if(e.slices){if(e.topLevelSlice){let n=e.topLevelSlice.getFormattingSlice(a,this.localizationManager);n.suppressDisplayName=!0,(null==t.displayName?s:t).topLevelToggle=n}this.buildFormattingSlices({slices:e.slices,objectName:a,sliceNames:r,formattingSlices:t.slices})}}),s.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(e),n.cards.push(s)}),n}buildFormattingSlices({slices:e,objectName:n,sliceNames:t,formattingSlices:r}){null==e||e.filter(({visible:e=!0})=>e).forEach(e=>{let s=null==e?void 0:e.getFormattingSlice(n,this.localizationManager);s&&(void 0===t[e.name]?t[e.name]=0:(t[e.name]++,s.uid=`${s.uid}-${t[e.name]}`),r.push(s))})}getRevertToDefaultDescriptor(e){var n;const t={};let s,a=[],o=[];return e instanceof r.St&&e.topLevelSlice&&a.push(...null===(n=e.topLevelSlice)||void 0===n?void 0:n.getRevertToDefaultDescriptor(e.name)),(e instanceof r.Tn?[e].filter(({visible:e=!0})=>e):e.groups.filter(({visible:e=!0})=>e)).forEach(n=>{var r,i;s=this.getSlicesRevertToDefaultDescriptor(e.name,n.slices,t,n.topLevelSlice),null===(i=null===(r=n.container)||void 0===r?void 0:r.containerItems)||void 0===i||i.forEach(n=>{o=o.concat(this.getSlicesRevertToDefaultDescriptor(e.name,n.slices,t))}),a.push(...s.concat(o))}),a}getSlicesRevertToDefaultDescriptor(e,n,t,r){let s=[];return r&&(t[r.name]=!0,s=s.concat(r.getRevertToDefaultDescriptor(e))),null==n||n.forEach(n=>{n&&!t[n.name]&&(t[n.name]=!0,s=s.concat(n.getRevertToDefaultDescriptor(e)))}),s}}},6732:(e,n,t)=>{function r(e){return new Array(e.length)}t.d(n,{A:()=>r})},6747:(e,n,t)=>{function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}t.d(n,{A:()=>r})},6957:(e,n,t)=>{t.d(n,{Ay:()=>y,Qh:()=>k});var r=t(871);function s(){}var a=.7,o=1/a,i="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,u=new RegExp(`^rgb\\(${i},${i},${i}\\)$`),_=new RegExp(`^rgb\\(${d},${d},${d}\\)$`),p=new RegExp(`^rgba\\(${i},${i},${i},${l}\\)$`),f=new RegExp(`^rgba\\(${d},${d},${d},${l}\\)$`),h=new RegExp(`^hsl\\(${l},${d},${d}\\)$`),m=new RegExp(`^hsla\\(${l},${d},${d},${l}\\)$`),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function y(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=c.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?w(n):3===t?new j(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?x(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?x(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=u.exec(e))?new j(n[1],n[2],n[3],1):(n=_.exec(e))?new j(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=p.exec(e))?x(n[1],n[2],n[3],n[4]):(n=f.exec(e))?x(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=h.exec(e))?S(n[1],n[2]/100,n[3]/100,1):(n=m.exec(e))?S(n[1],n[2]/100,n[3]/100,n[4]):b.hasOwnProperty(e)?w(b[e]):"transparent"===e?new j(NaN,NaN,NaN,0):null}function w(e){return new j(e>>16&255,e>>8&255,255&e,1)}function x(e,n,t,r){return r<=0&&(e=n=t=NaN),new j(e,n,t,r)}function k(e,n,t,r){return 1===arguments.length?((a=e)instanceof s||(a=y(a)),a?new j((a=a.rgb()).r,a.g,a.b,a.opacity):new j):new j(e,n,t,null==r?1:r);var a}function j(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}function E(){return`#${P(this.r)}${P(this.g)}${P(this.b)}`}function I(){const e=O(this.opacity);return`${1===e?"rgb(":"rgba("}${T(this.r)}, ${T(this.g)}, ${T(this.b)}${1===e?")":`, ${e})`}`}function O(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function T(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function P(e){return((e=T(e))<16?"0":"")+e.toString(16)}function S(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new C(e,n,t,r)}function A(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);if(e instanceof s||(e=y(e)),!e)return new C;if(e instanceof C)return e;var n=(e=e.rgb()).r/255,t=e.g/255,r=e.b/255,a=Math.min(n,t,r),o=Math.max(n,t,r),i=NaN,l=o-a,d=(o+a)/2;return l?(i=n===o?(t-r)/l+6*(t<r):t===o?(r-n)/l+2:(n-t)/l+4,l/=d<.5?o+a:2-o-a,i*=60):l=d>0&&d<1?0:i,new C(i,l,d,e.opacity)}function C(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}function M(e){return(e=(e||0)%360)<0?e+360:e}function D(e){return Math.max(0,Math.min(1,e||0))}function R(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}(0,r.A)(s,y,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:g,formatHex:g,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return A(this).formatHsl()},formatRgb:v,toString:v}),(0,r.A)(j,k,(0,r.X)(s,{brighter(e){return e=null==e?o:Math.pow(o,e),new j(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new j(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new j(T(this.r),T(this.g),T(this.b),O(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatHex8:function(){return`#${P(this.r)}${P(this.g)}${P(this.b)}${P(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:I,toString:I})),(0,r.A)(C,function(e,n,t,r){return 1===arguments.length?A(e):new C(e,n,t,null==r?1:r)},(0,r.X)(s,{brighter(e){return e=null==e?o:Math.pow(o,e),new C(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,s=2*t-r;return new j(R(e>=240?e-240:e+120,s,r),R(e,s,r),R(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new C(M(this.h),D(this.s),D(this.l),O(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=O(this.opacity);return`${1===e?"hsl(":"hsla("}${M(this.h)}, ${100*D(this.s)}%, ${100*D(this.l)}%${1===e?")":`, ${e})`}`}}))},6986:(e,n,t)=>{t.d(n,{IO:()=>s});var r=t(4708),s=(r.KY,r.lp,r.Bt,r.e$,r.j$,r.zO,r.ND,r.Zb,r.IO);r.$e,r.p8,r.NN,r.xq},7045:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(3363);function s(e,n){var t,s,a,o=e.__transition,i=!0;if(o){for(a in n=null==n?null:n+"",o)(t=o[a]).name===n?(s=t.state>r.xo&&t.state<r.Op,t.state=r.hV,t.timer.stop(),t.on.call(s?"interrupt":"cancel",e,e.__data__,t.index,t.group),delete o[a]):i=!1;i&&delete e.__transition}}},7089:(e,n,t)=>{function r(){globalThis.propWorker=void 0,globalThis.PROPDB_CB_COUNTER=1,globalThis.PROPDB_CALLBACKS={},globalThis.IdLoadState={NotLoaded:0,Available:1,Loading:2,Failed:3},globalThis.createCustomWorker=function(e){const n=new Worker(globalThis.scriptURL);return n.doOperation=n.postMessage,!0===e&&Autodesk.Viewing.Private.ViewingService.forwardProtocolHandlerToWorker(n),n},globalThis.createWorkerWithIntercept=function(e){let n=globalThis.createCustomWorker(e);n.checkEvent=function(e){return!!e?.data?.assetRequest};let t=[];return n.addEventListenerWithIntercept=function(e){let r=function(t){t.data.reqUrl?globalThis.modelComplete.hasOwnProperty(t.data.reqUrl)&&(n.doOperation({operation:"LOAD_PBI_SVF",data:{key:t.data.reqUrl,val:globalThis.model[t.data.reqUrl]}}),t.data.reqUrl.includes("/0.pf")||(delete globalThis.model[t.data.reqUrl],delete globalThis.modelComplete[t.data.reqUrl])):n.checkEvent(t)||e(t)};return t||(t=[]),t.push({arg:e,callback:r}),n.addEventListener("message",r,!1),r},n.removeEventListenerWithIntercept=function(e){let r=function(e){if(!t)return null;for(let n=0;n<t.length;++n)if(t[n].arg===e){let e=t[n].callback;return t.splice(n,1),0===t.length&&(t=null),e}return null}(e);r&&n.removeEventListener("message",r,!1)},n.clearAllEventListenerWithIntercept=function(){if(!t)return;let e=t.concat();for(const t of e)n.removeEventListenerWithIntercept(t.arg)},n},globalThis.propertyWorkerCallback=function(e){let n=e.data;if(n?.debug)return;const t=n?.cbId&&globalThis.PROPDB_CALLBACKS[n.cbId];t&&(n.progress?t[2]&&t[2](n.progress):(n.error?t[1]&&t[1](n.error):t[0]&&t[0](n.result),delete globalThis.PROPDB_CALLBACKS[n.cbId]))},globalThis.registerWorkerCallback=function(e,n,t){const r=globalThis.PROPDB_CB_COUNTER++;return globalThis.PROPDB_CALLBACKS[r]=[e,n,t],r},globalThis.unregisterWorkerCallback=function(e){delete globalThis.PROPDB_CALLBACKS[e]},globalThis.CustomPropDbLoader=class extends Autodesk.Viewing.Private.PropDbLoader{asyncPropertyOperation=function(e,n,t,r){const s=this;if(e.dbPath=this.dbPath,s.instanceTree||s.hasObjectProperties)e.cbId=globalThis.registerWorkerCallback(n,t,r),globalThis.propWorker.doOperation(e);else if(s.propertyDbError)t&&t(s.propertyDbError);else{const a=function(o){s.model===o.model&&(s.eventTarget.removeEventListener(et.OBJECT_TREE_CREATED_EVENT,a),s.eventTarget.removeEventListener(et.OBJECT_TREE_UNAVAILABLE_EVENT,a),s.instanceTree||s.hasObjectProperties||s.propertyDbError?s.asyncPropertyOperation(e,n,t,r):t&&t({code:ErrorCodes.UNKNOWN_FAILURE,msg:"Failed to load properties"}))};s.eventTarget.addEventListener(et.OBJECT_TREE_CREATED_EVENT,a),s.eventTarget.addEventListener(et.OBJECT_TREE_UNAVAILABLE_EVENT,a)}};load(e){const n=this;e=e||{},globalThis.propWorker||(globalThis.propWorker=globalThis.createWorkerWithIntercept(!0),globalThis.propWorker.addEventListenerWithIntercept(globalThis.propertyWorkerCallback)),this.cbId=globalThis.registerWorkerCallback(function(e){n.processLoadResult(e)},function(e){n.processLoadError(e)},function(e){n.onLoadProgress(e.percent)});let t,r=this?.svf?.loadOptions,s=!r?.disablePrecomputedNodeBoxes,a=!!r?.skipExternalIds;a||(this.idLoadState=globalThis.IdLoadState.Available),t=this?.svf?.instanceTree&&this.svf.instanceBoxes?"CREATE_TREE":"LOAD_PROPERTYDB";const o={operation:t,dbPath:this.dbPath,sharedDbPath:this.sharedDbPath,propertydb:this.dbFiles,fragToDbId:this?.svf.fragments.fragId2dbId,fragBoxes:s&&this.svf&&this.svf.fragments.boxes,needsDbIdRemap:this.needsDbIdRemap,is2d:this?.svf.is2d,cbId:this.cbId,queryParams:this.queryParams,skipExternalIds:a,gltfTree:this.svf.instanceTree,dbToFragId:this?.svf.fragments.dbToFragId,...e};globalThis.propWorker.doOperation(Autodesk.Viewing.initLoadContext(o))}},Autodesk.Viewing.Private.SvfLoader.prototype.createWorkerWithIntercept=globalThis.createWorkerWithIntercept,Autodesk.Viewing.Private.SvfLoader.prototype.loadPropertyDb=function(){this.svf.propDbLoader=new globalThis.CustomPropDbLoader(this.sharedDbPath,this.model,this.viewer3DImpl.api),this.svf.propDbLoader.load()}}t.d(n,{l:()=>r})},7111:(e,n,t)=>{var r=t(1882),s=t(5868),a=t(4620);r.Ay.prototype.interrupt=s.A,r.Ay.prototype.transition=a.A},7268:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(7947);function s(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),r.A.hasOwnProperty(n)?{space:r.A[n],local:e}:e}},7270:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(1882).Ay.prototype.constructor;function s(){return new r(this._groups,this._parents)}},7339:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(7268);function s(e){return function(){this.removeAttribute(e)}}function a(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,n){return function(){this.setAttribute(e,n)}}function i(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function l(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function d(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function c(e,n){var t=(0,r.A)(e);if(arguments.length<2){var c=this.node();return t.local?c.getAttributeNS(t.space,t.local):c.getAttribute(t)}return this.each((null==n?t.local?a:s:"function"==typeof n?t.local?d:l:t.local?i:o)(t,n))}},7349:(e,n,t)=>{t.d(n,{O:()=>r,v:()=>s});const r={token:"lmvToken",lmvSettings:"lmvSettings",lmvColors:"lmvColors",lmvCameraState:"lmvCameraState"},s='var LMV;\n/******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./extensions/CompGeom/fuzzy-math.js":\n/*!*******************************************!*\\\n  !*** ./extensions/CompGeom/fuzzy-math.js ***!\n  \\*******************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TOL: () => (/* binding */ TOL),\n/* harmony export */   isEqual: () => (/* binding */ isEqual),\n/* harmony export */   isZero: () => (/* binding */ isZero)\n/* harmony export */ });\n\nconst TOL = 1e-6;\n\nfunction isZero(f) {\n  return Math.abs(f) < TOL;\n}\n\nfunction isEqual(a, b) {\n  return isZero(a - b);\n}\n\n/***/ }),\n\n/***/ "./extensions/CompGeom/point-list-3d.js":\n/*!**********************************************!*\\\n  !*** ./extensions/CompGeom/point-list-3d.js ***!\n  \\**********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniquePointList3D: () => (/* binding */ UniquePointList3D)\n/* harmony export */ });\n/* harmony import */ var _fuzzy_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fuzzy-math */ "./extensions/CompGeom/fuzzy-math.js");\n\n\n\nconst _tmp = {\n  x: 0,\n  y: 0,\n  z: 0\n};\n\nclass UniquePointList3D {\n\n  constructor(getVertex, bbox, precisionTolerance) {\n\n    this.getVertex = getVertex;\n    this.bbox = bbox;\n    this.boxSize = this.bbox.getSize().length();\n\n    if (!precisionTolerance) {\n      precisionTolerance = _fuzzy_math__WEBPACK_IMPORTED_MODULE_0__.TOL;\n    }\n    if (precisionTolerance > 0) {\n      //Input is in model units, e.g. if model is in feet,\n      //precision tolerance has to be in feet\n      this.precisionTolerance = precisionTolerance;\n      this.scale = 1.0 / this.precisionTolerance;\n    } else {\n      //If negative, input precision is treated as relative to bounding box size\n      this.precisionTolerance = -precisionTolerance * this.boxSize;\n      this.scale = 1.0 / this.precisionTolerance;\n    }\n\n    this.snapBaseX = this.bbox.min.x; ///- 0.5 * this.precisionTolerance;\n    this.snapBaseY = this.bbox.min.y; //- 0.5 * this.precisionTolerance;\n    this.snapBaseZ = this.bbox.min.z; //- 0.5 * this.precisionTolerance;\n\n    this.xymap = {};\n  }\n\n  findOrAddPoint(px, py, pz, id) {\n\n    //Snap the vertex to our desired granularity\n    let x = 0 | /*Math.round*/(px - this.snapBaseX) * this.scale;\n    let y = 0 | /*Math.round*/(py - this.snapBaseY) * this.scale;\n    let z = 0 | /*Math.round*/(pz - this.snapBaseZ) * this.scale;\n\n    //Find the nearest snapped vertex or create new\n    let v;\n    let minDist = Infinity;\n    //Look in the 27 cube area surrounding the vertex\n    for (let i = x - 1; i <= x + 1; i++) {\n      let mx = this.xymap[i];\n      if (!mx)\n      continue;\n\n      for (let j = y - 1; j <= y + 1; j++) {\n        let my = mx[j];\n        if (!my)\n        continue;\n\n        for (let k = z - 1; k <= z + 1; k++) {\n\n          let tmpi = my[k];\n          if (tmpi === undefined)\n          continue;\n\n          this.getVertex(tmpi, _tmp);\n          let tmp = _tmp;\n          let dist = (tmp.x - px) * (tmp.x - px) + (tmp.y - py) * (tmp.y - py) + (tmp.z - pz) * (tmp.z - pz);\n\n          if (dist < minDist) {\n            v = tmpi;\n            minDist = dist;\n          }\n        }\n      }\n    }\n\n    if (Math.sqrt(minDist) > this.precisionTolerance)\n    v = undefined;\n\n    if (v === undefined) {\n      let mx = this.xymap[x];\n      if (!mx) {\n        mx = this.xymap[x] = {};\n      }\n\n      let my = mx[y];\n      if (!my) {\n        my = mx[y] = {};\n      }\n\n      my[z] = id;\n      return id;\n    } else {\n      return v;\n    }\n  }\n}\n\n/***/ }),\n\n/***/ "./src/analytics/index.js":\n/*!********************************!*\\\n  !*** ./src/analytics/index.js ***!\n  \\********************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ instance)\n/* harmony export */ });\n/* harmony import */ var _logger_Logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger/Logger */ "./src/logger/Logger.js");\n/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interface */ "./src/analytics/interface.js");\n\n\n\nclass ViewerAnalytics {\n  constructor() {\n    // map of providerName : class, for e.g., \'mixpanel\' : Mixpanel\n    this.providerMap = {};\n    this.instances = [];\n    this.superProps = {}; // properties that are sent with every track request\n    this.shouldTrack = true;\n\n    this.trackCache = []; // to store track calls until the first instance is created\n    this.oneTimers = {}; // Events that should get tracked only once per viewer session.\n  }\n\n  /**\n   * Register an analytics provider class\n   * @param {object} PClass - Provider class of type AnalyticsProviderInterface\n   */\n  registerProvider(PClass) {\n    if (!PClass) {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\'Undefined provider\');\n      return;\n    }\n    if (!PClass.name) {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\'missing provider name\');\n      return;\n    }\n    const n = PClass.name.toLowerCase();\n    if (this.isProviderRegistered(n)) {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn(`Provider with name ${PClass.name} already registered`);\n    } else {\n      this.providerMap[n] = PClass;\n    }\n\n    // create and initialize default instance\n    const defaultInstance = this.createInstance(PClass.name, PClass.defaultOptions);\n    this.instances.push(defaultInstance);\n    if (this.shouldTrack) {\n      this.init(defaultInstance);\n    }\n\n    // track data cached before the first instance was created\n    if (this.trackCache.length > 0) {\n      this.trackCache.forEach((_ref) => {let { event, properties } = _ref;\n        this.track(event, properties);\n      });\n      this.trackCache = []; // clear\n    }\n  }\n\n  /**\n   * Returns if a ProviderClass with its name was already registered.\n   * @param {object|string} PClassOrPClassName - ProviderClass object or its name\n   * @returns True, if already registered.\n   */\n  isProviderRegistered(PClassOrPClassName) {var _PClassOrPClassName$n;\n    const n = typeof PClassOrPClassName === \'string\' ? PClassOrPClassName : (_PClassOrPClassName$n = PClassOrPClassName.name) === null || _PClassOrPClassName$n === void 0 ? void 0 : _PClassOrPClassName$n.toLowerCase();\n    return n in this.providerMap;\n  }\n\n  init(providerInstance) {\n    if (!providerInstance.initialized) {\n      providerInstance.init();\n      providerInstance.register(this.superProps);\n    }\n  }\n\n  createInstance(providerName, options) {\n    const pname = providerName && providerName.toLowerCase();\n    if (!(pname in this.providerMap)) {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(`Unknown ${providerName}`);\n      return;\n    }\n\n    const PClass = this.providerMap[pname];\n    const instance = new PClass(options);\n    if (!(instance instanceof _interface__WEBPACK_IMPORTED_MODULE_1__.AnalyticsProviderInterface)) {\n      throw new Error(\'not an analytics provider\');\n    }\n\n    // instance name\n    PClass.instanceCount = PClass.instanceCount || 0;\n    instance.name = `${pname}-${PClass.instanceCount}`; // for e.g., mixpanel-0\n    PClass.instanceCount++;\n    return instance;\n  }\n\n  optIn(options) {\n    this.instances.forEach((i) => this.init(i));\n    this._callMethod(\'optIn\', options);\n    this.shouldTrack = true;\n  }\n\n  optOut(options) {\n    this._callMethod(\'optOut\', options);\n    this.shouldTrack = false;\n  }\n\n  hasOptedOut() {\n    return this._callMethod(\'hasOptedOut\');\n  }\n\n  getDistinctId() {\n    return this._callMethod(\'getDistinctId\');\n  }\n\n  track(event, properties, isOneTimer) {\n    if (!this.shouldTrack) {\n      return;\n    }\n\n    // In case this event is a one-timer, make sure to track it only once per viewer session.\n    if (isOneTimer) {\n      const eventWithProps = { event, properties };\n\n      try {\n        const key = JSON.stringify(eventWithProps);\n\n        // Event was already tracked before - skip it.\n        if (this.oneTimers[key]) {\n          return;\n        }\n\n        this.oneTimers[key] = true;\n      } catch (_) {\n\n\n        // Unable to stringify event (probably because of a circular dependency - shouldn\'t happen anyway).\n        // Don\'t crash because of it - just ignore isOneTimer flag for this one.\n      }}\n    if (this.instances.length === 0) {\n      this.trackCache.push({ event, properties });\n    } else {\n      this._callMethod(\'track\', event, properties);\n    }\n  }\n\n  identify(distinctId) {\n    this._callMethod(\'identify\', distinctId);\n  }\n\n  _callMethod() {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}\n    const methodName = args[0];\n    const rest = args.slice(1, args.length);\n    return this.instances.map((inst) => ({\n      name: inst.name,\n      value: inst[methodName](...rest)\n    }));\n  }\n}\n\nconst instance = new ViewerAnalytics();\n\n\n/***/ }),\n\n/***/ "./src/analytics/interface.js":\n/*!************************************!*\\\n  !*** ./src/analytics/interface.js ***!\n  \\************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnalyticsProviderInterface: () => (/* binding */ AnalyticsProviderInterface)\n/* harmony export */ });\nclass AnalyticsProviderInterface {\n  constructor() {let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.options = options;\n  }\n  /**\n   * Called by ViewerAnalytics to initialize the provider library\n   */\n  init() {}\n\n  /**\n   * Called after init. This could be used to register super properties\n   */\n  register() {}\n  static get name() {return null;} // to be overridden\n  static get defaultOptions() {return {};} // to be overridden\n  optIn(options) {}\n  optOut(options) {}\n  hasOptedOut() {}\n  getDistinctId() {}\n  track(event, properties) {}\n  identify(distinctId) {}\n}\n\n/***/ }),\n\n/***/ "./src/compat.js":\n/*!***********************!*\\\n  !*** ./src/compat.js ***!\n  \\***********************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ObjectAssign: () => (/* binding */ ObjectAssign),\n/* harmony export */   disableDocumentTouchSafari: () => (/* binding */ disableDocumentTouchSafari),\n/* harmony export */   enableDocumentTouchSafari: () => (/* binding */ enableDocumentTouchSafari),\n/* harmony export */   exitFullscreen: () => (/* binding */ exitFullscreen),\n/* harmony export */   fullscreenElement: () => (/* binding */ fullscreenElement),\n/* harmony export */   getAndroidVersion: () => (/* binding */ getAndroidVersion),\n/* harmony export */   getGlobal: () => (/* reexport safe */ _global__WEBPACK_IMPORTED_MODULE_0__.getGlobal),\n/* harmony export */   getIOSVersion: () => (/* binding */ getIOSVersion),\n/* harmony export */   inFullscreen: () => (/* binding */ inFullscreen),\n/* harmony export */   isAndroidDevice: () => (/* binding */ isAndroidDevice),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser),\n/* harmony export */   isChrome: () => (/* binding */ isChrome),\n/* harmony export */   isFirefox: () => (/* binding */ isFirefox),\n/* harmony export */   isFullscreenAvailable: () => (/* binding */ isFullscreenAvailable),\n/* harmony export */   isFullscreenEnabled: () => (/* binding */ isFullscreenEnabled),\n/* harmony export */   isIE11: () => (/* binding */ isIE11),\n/* harmony export */   isIE11Only: () => (/* binding */ isIE11Only),\n/* harmony export */   isIOSDevice: () => (/* binding */ isIOSDevice),\n/* harmony export */   isMac: () => (/* binding */ isMac),\n/* harmony export */   isMobileDevice: () => (/* binding */ isMobileDevice),\n/* harmony export */   isNodeJS: () => (/* binding */ isNodeJS),\n/* harmony export */   isPhoneFormFactor: () => (/* binding */ isPhoneFormFactor),\n/* harmony export */   isSafari: () => (/* binding */ isSafari),\n/* harmony export */   isTouchDevice: () => (/* binding */ isTouchDevice),\n/* harmony export */   isWindows: () => (/* binding */ isWindows),\n/* harmony export */   launchFullscreen: () => (/* binding */ launchFullscreen),\n/* harmony export */   touchStartToClick: () => (/* binding */ touchStartToClick)\n/* harmony export */ });\n/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./global */ "./src/global.js");\nvar _navigator$platform;\n\n\nconst _window = (0,_global__WEBPACK_IMPORTED_MODULE_0__.getGlobal)();\nconst _document = _window && _window.document;\n\n\n\nconst isBrowser = typeof navigator !== "undefined";\n\nconst isNodeJS = function () {\n  return !isBrowser;\n};\n\nlet isIE11 = isBrowser && !!navigator.userAgent.match(/Edge|Trident\\/7\\./);\n\n// Although the naming is misleading, isIE11 contains Edge too for some legacy reason.\n// For backward compatibility, instead of renaming `isIE11` to `isIEOrEdge`, I just added `isIE11Only`.\nlet isIE11Only = isBrowser && !!navigator.userAgent.match(/Trident\\/7\\./);\n\n// fix IE events\nif (typeof window !== "undefined" && isIE11) {\n  (function () {\n    function CustomEvent(event, params) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = _document.createEvent(\'CustomEvent\');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n    }\n\n    CustomEvent.prototype = _window.CustomEvent.prototype;\n\n    _window.CustomEvent = CustomEvent;\n  })();\n}\n\n// IE does not implement ArrayBuffer slice. Handy!\nif (!ArrayBuffer.prototype.slice) {\n  ArrayBuffer.prototype.slice = function (start, end) {\n    // Normalize start/end values\n    if (!end || end > this.byteLength) {\n      end = this.byteLength;\n    } else\n    if (end < 0) {\n      end = this.byteLength + end;\n      if (end < 0) end = 0;\n    }\n    if (start < 0) {\n      start = this.byteLength + start;\n      if (start < 0) start = 0;\n    }\n\n    if (end <= start) {\n      return new ArrayBuffer();\n    }\n\n    // Bytewise copy- this will not be fast, but what choice do we have?\n    var len = end - start;\n    var view = new Uint8Array(this, start, len);\n    var out = new Uint8Array(len);\n    for (var i = 0; i < len; i++) {\n      out[i] = view[i];\n    }\n    return out.buffer;\n  };\n}\n\n// IE doesn\'t implement Math.log2\n(function () {\n  Math.log2 = Math.log2 || function (x) {\n    return Math.log(x) / Math.LN2;\n  };\n})();\n\n//The BlobBuilder object\nif (typeof window !== "undefined")\n_window.BlobBuilder = _window.BlobBuilder || _window.WebKitBlobBuilder || _window.MozBlobBuilder || _window.MSBlobBuilder;\n\n\n// Launch full screen on the given element with the available method\nfunction launchFullscreen(element, options) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen(options);\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen(options);\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen(options);\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen(options);\n  }\n};\n\n// Exit full screen with the available method\nfunction exitFullscreen(_document) {\n  if (!inFullscreen(_document)) {\n    return;\n  }\n  if (_document.exitFullscreen) {\n    _document.exitFullscreen();\n  } else if (_document.mozCancelFullScreen) {\n    _document.mozCancelFullScreen();\n  } else if (_document.webkitExitFullscreen) {\n    _document.webkitExitFullscreen();\n  } else if (_document.msExitFullscreen) {\n    _document.msExitFullscreen();\n  }\n};\n\n// Determines if the browser is in full screen\nfunction inFullscreen(_document) {\n\n  // Special case for Ms-Edge that has webkitIsFullScreen with correct value\n  // and fullscreenEnabled with wrong value (thanks MS)\n\n  if ("webkitIsFullScreen" in _document) return !!_document.webkitIsFullScreen;\n  if ("fullscreenElement" in _document) return !!_document.fullscreenElement;\n  if ("mozFullScreenElement" in _document) return !!_document.mozFullScreenElement;\n  if ("msFullscreenElement" in _document) return !!_document.msFullscreenElement;\n\n  return !!_document.querySelector(".viewer-fill-browser"); // Fallback for iPad\n};\n\nfunction fullscreenElement(_document) {\n  return _document.fullscreenElement || _document.mozFullScreenElement || _document.webkitFullscreenElement || _document.msFullscreenElement;\n};\n\nfunction isFullscreenAvailable(element) {\n  return element.requestFullscreen || element.mozRequestFullScreen || element.webkitRequestFullscreen || element.msRequestFullscreen;\n};\n\n/**\n * Returns true if full screen mode is enabled. \n * @param {Document} _document\n * @return {Boolean} - true if full screen mode is enabled false otherwise.\n */\nfunction isFullscreenEnabled(_document) {\n  return (\n    _document.fullscreenEnabled ||\n    _document.webkitFullscreenEnabled ||\n    _document.mozFullScreenEnabled ||\n    _document.msFullscreenEnabled);\n\n}\n\n// Get the IOS version through user agent.\n// Return the version string of IOS, e.g. 14.1.1, 15.4 ... or empty string if version couldn\'t be detected\n// User agents can be changed and thus might be inaccurate or incompatible at some point, but this pattern\n// has been stable at least since IOS 5\nfunction getIOSVersion(ua) {\n  ua = ua || navigator.userAgent;\n  var match = ua.match(/OS ((\\d+)_(\\d+)(_(\\d+))?) like Mac OS X/);\n  if (!match && isIOSDevice()) {\n    // On IPadOS Safari requests the desktop version by default with a MacOS user.\n    // The major version seems to be reliable, but the minor version might be incorrect.\n    match = ua.match(/\\/((\\d+)\\.(\\d+)(\\.\\d)?) Safari\\//);\n  }\n\n  return match ? match[1].replace(\'_\', \'.\') : "";\n};\n\n// Get the version of the android device through user agent.\n// Return the version string of android device, e.g. 4.4, 5.0...\nfunction getAndroidVersion(ua) {\n  ua = ua || navigator.userAgent;\n  var match = ua.match(/Android\\s([0-9\\.]*)/);\n  return match ? match[1] : false;\n};\n\n// Determine if this is a touch or notouch device.\nfunction isTouchDevice() {\n  /*\n  // Temporarily disable touch support through hammer on Android 5, to debug\n  // some specific gesture issue with Chromium WebView when loading viewer3D.js.\n  if (parseInt(getAndroidVersion()) == 5) {\n      return false;\n  }\n  */\n\n  return typeof window !== \'undefined\' && (\'ontouchstart\' in window || navigator.maxTouchPoints > 0);\n};\n\n// Since iOS 13, the iPad identifies itself as a desktop, so the only way to reliably detect is to search for multitouch capabilities\n// (insofar as no other Apple device implements it)\n// It also returns different values in a worker so we need to look in the platform as well to distinguish from a regular Mac\nconst _isIOSDevice = isBrowser && (/ip(ad|hone|od)/.test(navigator.userAgent.toLowerCase()) ||\nnavigator.platform === \'MacIntel\' && navigator.maxTouchPoints > 1 ||\n/^ip(ad|hone|od)$/.test((_navigator$platform = navigator.platform) === null || _navigator$platform === void 0 ? void 0 : _navigator$platform.toLowerCase()));\nfunction isIOSDevice() {\n  return _isIOSDevice;\n}\n\nconst _isAndroidDevice = isBrowser && navigator.userAgent.toLowerCase().indexOf(\'android\') !== -1;\nfunction isAndroidDevice() {\n  return _isAndroidDevice;\n}\n\nfunction isMobileDevice() {\n  if (!isBrowser) return false;\n  return isIOSDevice() || isAndroidDevice();\n};\n\nfunction isPhoneFormFactor() {\n  return (\n    isMobileDevice() && (\n    _window.matchMedia(\'(max-width: 750px)\').matches || _window.matchMedia(\'(max-height: 750px)\').matches));\n\n}\n\nfunction isSafari() {\n  if (!isBrowser) return false;\n  var _ua = navigator.userAgent.toLowerCase();\n  return _ua.indexOf("safari") !== -1 && _ua.indexOf("chrome") === -1;\n};\n\nfunction isFirefox() {\n  if (!isBrowser) return false;\n  var _ua = navigator.userAgent.toLowerCase();\n  return _ua.indexOf("firefox") !== -1;\n};\n\nfunction isChrome() {\n  if (!isBrowser) return false;\n  var _ua = navigator.userAgent.toLowerCase();\n  return _ua.indexOf("chrome") !== -1;\n};\n\nfunction isMac() {\n  if (!isBrowser) return false;\n  var _ua = navigator.userAgent.toLowerCase();\n  return _ua.indexOf("mac os") !== -1 && !isIOSDevice();\n};\n\nfunction isWindows() {\n  if (!isBrowser) return false;\n  var _ua = navigator.userAgent.toLowerCase();\n  return _ua.indexOf("win32") !== -1 || _ua.indexOf("windows") !== -1;\n};\n\nfunction ObjectAssign(des, src) {\n  for (var key in src) {\n    if (src.hasOwnProperty(key))\n    des[key] = src[key];\n  }\n  return des;\n};\n\n// Hack to work around Safari\'s use of pinch and pan inside the viewer canvas.\nfunction disableTouchSafari(event) {\n  var xOff = _window.hasOwnProperty("pageXOffset") ? _window.pageXOffset : _document.documentElement.scrollLeft;\n  var yOff = _window.hasOwnProperty("pageYOffset") ? _window.pageYOffset : _document.documentElement.scrollTop;\n\n  // event.pageX and event.pageY returned undefined through Chrome console device mode\n  var pageX = typeof event.pageX === "undefined" ? event.changedTouches[0].pageX : event.pageX;\n  var pageY = typeof event.pageY === "undefined" ? event.changedTouches[0].pageY : event.pageY;\n\n  // If we aren\'t inside the canvas, then allow default propagation of the event\n  var element = _document.elementFromPoint(pageX - xOff, pageY - yOff);\n  if (!element || element.nodeName !== \'CANVAS\')\n  return true;\n  // If it\'s a CANVAS, check that it\'s owned by us\n  if (element.getAttribute(\'data-viewer-canvas\') !== \'true\')\n  return true;\n  // Inside the canvas, prevent the event from propagating to Safari\'safely\n  // standard handlers, which will pan and zoom the page.\n  event.preventDefault();\n  return false;\n}\n\n// Hack to work around Safari\'s use of pinch and pan inside the viewer canvas.\nfunction disableDocumentTouchSafari() {\n  if (isMobileDevice() && isSafari()) {\n    // Safari mobile disable default touch handling inside viewer canvas\n    // Use capture to make sure Safari doesn\'t capture the touches and prevent\n    // us from disabling them.\n    _document.documentElement.addEventListener(\'touchstart\', disableTouchSafari, true);\n    _document.documentElement.addEventListener(\'touchmove\', disableTouchSafari, true);\n    _document.documentElement.addEventListener(\'touchcanceled\', disableTouchSafari, true);\n    _document.documentElement.addEventListener(\'touchend\', disableTouchSafari, true);\n  }\n};\n\n// Hack to work around Safari\'s use of pinch and pan inside the viewer canvas.\n// This method is not being invoked explicitly.\nfunction enableDocumentTouchSafari() {\n  if (isMobileDevice() && isSafari()) {\n    // Safari mobile disable default touch handling inside viewer canvas\n    // Use capture to make sure Safari doesn\'t capture the touches and prevent\n    // us from disabling them.\n    _document.documentElement.removeEventListener(\'touchstart\', disableTouchSafari, true);\n    _document.documentElement.removeEventListener(\'touchmove\', disableTouchSafari, true);\n    _document.documentElement.removeEventListener(\'touchcanceled\', disableTouchSafari, true);\n    _document.documentElement.removeEventListener(\'touchend\', disableTouchSafari, true);\n  }\n};\n\n\n// Convert touchstart event to click to remove the delay between the touch and\n// the click event which is sent after touchstart with about 300ms deley.\n// Should be used in UI elements on touch devices.\nfunction touchStartToClick(e) {\n  // Buttons that activate fullscreen are a special case. The HTML5 fullscreen spec\n  // requires the original user gesture signal to avoid a security issue.  See LMV-2396 and LMV-2326\n  if (e.target.className && (e.target.className.indexOf("fullscreen") > -1 ||\n  e.target.className.indexOf("webvr") > -1 ||\n  e.target.className.indexOf("webxr") > -1))\n  return;\n  e.preventDefault(); // Stops the firing of delayed click event.\n  e.stopPropagation();\n  e.target.click(); // Maps to immediate click.\n}\n\n//Safari doesn\'t have the Performance object\n//We only need the now() function, so that\'s easy to emulate.\n(function () {\n  var global = (0,_global__WEBPACK_IMPORTED_MODULE_0__.getGlobal)();\n  if (!global.performance)\n  global.performance = Date;\n})();\n\n// Polyfill for IE and Safari\n// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\nNumber.isInteger = Number.isInteger || function (value) {\n  return typeof value === "number" &&\n  isFinite(value) &&\n  Math.floor(value) === value;\n};\n\n// Polyfill for IE\nString.prototype.repeat = String.prototype.repeat || function (count) {\n  if (count < 1) return \'\';\n  var result = \'\',pattern = this.valueOf();\n  while (count > 1) {\n    if (count & 1) result += pattern;\n    count >>= 1, pattern += pattern;\n  }\n  return result + pattern;\n};\n\n// Polyfill for IE\n// https://github.com/jonathantneal/array-flat-polyfill/blob/master/src/polyfill-flat.js\nif (!Array.prototype.flat) {\n  Object.defineProperty(Array.prototype, \'flat\', {\n    value: function flat() {\n      var depth = isNaN(arguments[0]) ? 1 : Number(arguments[0]);\n\n      return depth ? Array.prototype.reduce.call(this, function (acc, cur) {\n        if (Array.isArray(cur)) {\n          acc.push.apply(acc, flat.call(cur, depth - 1));\n        } else {\n          acc.push(cur);\n        }\n\n        return acc;\n      }, []) : Array.prototype.slice.call(this);\n    }\n  });\n}\n\n// Polyfill for IE\n// It doesn\'t support negative values for start and end; it complicates the code using this function.\nif (!Array.prototype.fill) {\n  Object.defineProperty(Array.prototype, "fill", {\n    enumerable: false,\n    value: function (value, start, end) {\n      start = start === undefined ? 0 : start;\n      end = end === undefined ? this.length : end;\n      for (var i = start; i < end; ++i)\n      this[i] = value;\n    }\n  });\n}\n// Polyfill for IE\nInt32Array.prototype.lastIndexOf = Int32Array.prototype.lastIndexOf || function (searchElement, fromIndex) {\n  return Array.prototype.lastIndexOf.call(this, searchElement, fromIndex);\n};\n\n// Polyfill for IE\n// It doesn\'t support negative values for start and end; it complicates the code using this function.\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, "find", {\n    enumerable: false,\n    value: function (callback, _this) {\n      var len = this.length;\n      for (var i = 0; i < len; ++i) {\n        var item = this[i];\n        if (callback.call(_this, item, i, this))\n        return item;\n      }\n      return undefined;\n    }\n  });\n}\n\n// Polyfill for IE\nif (typeof Object.assign != \'function\') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, "assign", {\n    value: function assign(target, varArgs) {// .length of function is 2\n      \'use strict\';\n      if (target == null) {// TypeError if undefined or null\n        throw new TypeError(\'Cannot convert undefined or null to object\');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {// Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n\n// Polyfill for IE and iOS devices\nif (typeof window !== "undefined" && (isIE11 || isIOSDevice()) && !HTMLCanvasElement.prototype.toBlob) {\n  Object.defineProperty(HTMLCanvasElement.prototype, \'toBlob\', {\n    value: function (callback, type, quality) {\n      var canvas = this;\n      setTimeout(function () {\n\n        var binStr = atob(canvas.toDataURL(type, quality).split(\',\')[1]),\n          len = binStr.length,\n          arr = new Uint8Array(len);\n\n        for (var i = 0; i < len; i++) {\n          arr[i] = binStr.charCodeAt(i);\n        }\n\n        callback(new Blob([arr], { type: type || \'image/png\' }));\n\n      });\n    }\n  });\n}\n\n// Polyfill for IE (LMV-3823)\nif (!Uint8Array.prototype.slice) {\n\n  // This will work for genuine arrays, array-like objects, \n  // NamedNodeMap (attributes, entities, notations),\n  // NodeList (e.g., getElementsByTagName), HTMLCollection (e.g., childNodes),\n  // and will not fail on other DOM objects (as do DOM elements in IE < 9)\n  Uint8Array.prototype.slice = function (begin, end) {\n    // IE < 9 gets unhappy with an undefined end argument\n    end = typeof end !== \'undefined\' ? end : this.length;\n\n    // For native Array objects, we use the native slice function\n    if (Object.prototype.toString.call(this) === \'[object Array]\') {\n      return _slice.call(this, begin, end);\n    }\n\n    // For array like object we handle it ourselves.\n    var i,cloned = [],\n      size,len = this.length;\n\n    // Handle negative value for "begin"\n    var start = begin || 0;\n    start = start >= 0 ? start : Math.max(0, len + start);\n\n    // Handle negative value for "end"\n    var upTo = typeof end == \'number\' ? Math.min(end, len) : len;\n    if (end < 0) {\n      upTo = len + end;\n    }\n\n    // Actual expected size of the slice\n    size = upTo - start;\n\n    if (size > 0) {\n      cloned = new Array(size);\n      if (this.charAt) {\n        for (i = 0; i < size; i++) {\n          cloned[i] = this.charAt(start + i);\n        }\n      } else {\n        for (i = 0; i < size; i++) {\n          cloned[i] = this[start + i];\n        }\n      }\n    }\n\n    return cloned;\n  };\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/InputStream.js":\n/*!******************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/InputStream.js ***!\n  \\******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputStream: () => (/* binding */ InputStream)\n/* harmony export */ });\n/* harmony import */ var _StringUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StringUtils */ "./src/file-loaders/lmvtk/common/StringUtils.js");\n\n\n"use strict";\n\n//We will use these shared memory arrays to\n//convert from bytes to the desired data type.\nvar convBuf = new ArrayBuffer(8);\nvar convUint8 = new Uint8Array(convBuf);\nvar convUint16 = new Uint16Array(convBuf);\nvar convInt32 = new Int32Array(convBuf);\nvar convUint32 = new Uint32Array(convBuf);\nvar convFloat32 = new Float32Array(convBuf);\nvar convFloat64 = new Float64Array(convBuf);\n\n\n/** @constructor */\nfunction InputStream(buf) {\n  this.buffer = buf;\n  this.offset = 0;\n  this.byteLength = buf.length;\n}\n\n\nInputStream.prototype.seek = function (off) {\n  this.offset = off;\n};\n\nInputStream.prototype.getBytes = function (len) {\n  var ret = new Uint8Array(this.buffer.buffer, this.offset, len);\n  this.offset += len;\n  return ret;\n};\n\nInputStream.prototype.getVarints = function () {\n  var b;\n  var value = 0;\n  var shiftBy = 0;\n  do {\n    b = this.buffer[this.offset++];\n    value |= (b & 0x7f) << shiftBy;\n    shiftBy += 7;\n  } while (b & 0x80);\n  return value;\n};\n\nInputStream.prototype.getUint8 = function () {\n  return this.buffer[this.offset++];\n};\n\nInputStream.prototype.getUint16 = function () {\n  convUint8[0] = this.buffer[this.offset++];\n  convUint8[1] = this.buffer[this.offset++];\n  return convUint16[0];\n};\n\nInputStream.prototype.getInt16 = function () {\n  var tmp = this.getUint16();\n  //make negative integer if the ushort is negative\n  if (tmp > 0x7fff)\n  tmp = tmp | 0xffff0000;\n  return tmp;\n};\n\nInputStream.prototype.getInt32 = function () {\n  var src = this.buffer;\n  var dst = convUint8;\n  var off = this.offset;\n  dst[0] = src[off];\n  dst[1] = src[off + 1];\n  dst[2] = src[off + 2];\n  dst[3] = src[off + 3];\n  this.offset += 4;\n  return convInt32[0];\n};\n\nInputStream.prototype.getUint32 = function () {\n  var src = this.buffer;\n  var dst = convUint8;\n  var off = this.offset;\n  dst[0] = src[off];\n  dst[1] = src[off + 1];\n  dst[2] = src[off + 2];\n  dst[3] = src[off + 3];\n  this.offset += 4;\n  return convUint32[0];\n};\n\nInputStream.prototype.getFloat32 = function () {\n  var src = this.buffer;\n  var dst = convUint8;\n  var off = this.offset;\n  dst[0] = src[off];\n  dst[1] = src[off + 1];\n  dst[2] = src[off + 2];\n  dst[3] = src[off + 3];\n  this.offset += 4;\n  return convFloat32[0];\n};\n\n//Specialized copy which copies 4 byte integers into 2-byte target.\n//Used for downcasting OCTM int32 index buffers to int16 index buffers,\n//in cases we know we don\'t need more (LMVTK guarantees 2 byte indices).\nInputStream.prototype.getIndicesArray = function (buffer, offset, numItems) {\n\n  var src = this.buffer;\n  var dst = new Uint8Array(buffer, offset, numItems * 2);\n  var off = this.offset;\n\n  for (var i = 0, iEnd = numItems * 2; i < iEnd; i += 2) {\n    dst[i] = src[off];\n    dst[i + 1] = src[off + 1];\n    off += 4;\n  }\n\n  this.offset = off;\n};\n\nInputStream.prototype.getVector3Array = function (arr, numItems, startOffset, stride) {\n  var src = this.buffer;\n  var off = this.offset;\n\n  //We cannot use Float32Array copying here because the\n  //source stream is out of alignment\n  var dst = new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n\n  if (stride === 3 && startOffset === 0) {\n    var len = numItems * 12;\n    dst.set(src.subarray(off, off + len));\n    this.offset += len;\n  } else {\n\n    stride *= 4;\n    var aoff = startOffset * 4;\n    for (var i = 0; i < numItems; i++) {\n      for (var j = 0; j < 12; j++) {\n        dst[aoff + j] = src[off++];\n      }\n      aoff += stride;\n    }\n\n    this.offset = off;\n  }\n};\n\nInputStream.prototype.getVector2Array = function (arr, numItems, startOffset, stride) {\n  var src = this.buffer;\n  var dst = new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n  var off = this.offset;\n\n  stride *= 4;\n  var aoff = startOffset * 4;\n  for (var i = 0; i < numItems; i++) {\n    for (var j = 0; j < 8; j++) {\n      dst[aoff + j] = src[off++];\n    }\n    aoff += stride;\n  }\n\n  this.offset = off;\n};\n\nInputStream.prototype.getVector4 = function (arr, offset) {\n  var src = this.buffer;\n  var dst = convUint8;\n  var off = this.offset;\n  var conv = convFloat32;\n\n  for (var j = 0; j < 4; j++) {\n    dst[0] = src[off];\n    dst[1] = src[off + 1];\n    dst[2] = src[off + 2];\n    dst[3] = src[off + 3];\n    arr[offset + j] = conv[0];\n    off += 4;\n  }\n\n  this.offset = off;\n};\n\nInputStream.prototype.getFloat64 = function () {\n  var src = this.buffer;\n  var dst = convUint8;\n  var off = this.offset;\n  for (var i = 0; i < 8; i++)\n  dst[i] = src[off + i];\n  this.offset += 8;\n  return convFloat64[0];\n};\n\n\n\nInputStream.prototype.getString = function (len) {\n  var res = (0,_StringUtils__WEBPACK_IMPORTED_MODULE_0__.utf8ArrayToString)(this.buffer, this.offset, len);\n  this.offset += len;\n  return res;\n};\n\nInputStream.prototype.reset = function (buf) {\n  this.buffer = buf;\n  this.offset = 0;\n  this.byteLength = buf.length;\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/NamedItemTree.js":\n/*!********************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/NamedItemTree.js ***!\n  \\********************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readNamedItemTree: () => (/* binding */ readNamedItemTree)\n/* harmony export */ });\n\n\nconst NodeType = {\n  NI_Inner: 0,\n  NI_Leaf: 1\n};\n\nfunction readUuid(pfr) {\n  let uuid = \'\'; // uuid should be a 16 bytes long\n  for (let i = 0; i < 16; i++) {\n    const tempUuid = pfr.readU8();\n    uuid = uuid + tempUuid;\n  }\n  return uuid;\n}\n\nfunction readNamedItemNode(pfr) {\n\n  const name = pfr.readString();\n  let uuid = readUuid(pfr);\n  const type = pfr.readU8();\n\n  if (type === NodeType.NI_Leaf) {\n    const entry = pfr.readVarint();\n    return { name: name, entry: entry, uuid };\n  } else if (type === NodeType.NI_Inner) {\n    const count = pfr.readVarint();\n    const children = [];\n    for (let i = 0; i < count; i++) {\n      const child = readNamedItemNode(pfr);\n      children.push(child);\n    }\n    return { name: name, children: children };\n  } else {\n    return {};\n  }\n}\n\nfunction readNamedItemTree(pfr) {\n  if (pfr.seekToEntry) {\n    pfr.seekToEntry(0);\n  }\n  return readNamedItemNode(pfr);\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/OverrideSets.js":\n/*!*******************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/OverrideSets.js ***!\n  \\*******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readOverrideSet: () => (/* binding */ readOverrideSet)\n/* harmony export */ });\n\n\nconst OverrideSetParts = {\n  OS_DefaultMaterial: 1,\n  OS_DefaultFlags: 2,\n  OS_MaterialOverrides: 4,\n  OS_FlagOverrides: 8\n};\n\nfunction readDbIdSet(pfr, fn) {\n  const count = pfr.readVarint();\n  let dbId = 0;\n  for (let i = 0; i < count; ++i) {\n    const delta = pfr.readVarint();\n    dbId += delta;\n    fn(dbId);\n  }\n}\n\nfunction readOverrideSet(pfr, entry) {\n  const tse = pfr.seekToEntry(entry);\n  if (!tse)\n  return null;\n\n  const set = {};\n  const parts = pfr.stream.getUint32();\n\n  if (parts & OverrideSetParts.OS_DefaultMaterial) {\n    set.defaultMaterialIndex = pfr.readVarint();\n    set.defaultMaterialFlags = pfr.readU8();\n  }\n\n  if (parts & OverrideSetParts.OS_DefaultFlags) {\n    set.defaultFlags = pfr.readVarint();\n  }\n\n  if (parts & OverrideSetParts.OS_MaterialOverrides) {\n    set.materialOverrides = [];\n    const count = pfr.readVarint();\n    for (let i = 0; i < count; ++i) {\n      let matIdx = pfr.readVarint();\n      readDbIdSet(pfr, function (dbId) {\n        set.materialOverrides.push({ dbId: dbId, materialIndex: matIdx });\n      });\n    }\n  }\n\n  if (parts & OverrideSetParts.OS_FlagOverrides) {\n    set.flagOverrides = [];\n    const count = pfr.readVarint();\n    for (let i = 0; i < count; ++i) {\n      let flags = pfr.readVarint();\n      readDbIdSet(pfr, function (dbId) {\n        set.flagOverrides.push({ dbId: dbId, flags: flags });\n      });\n    }\n  }\n\n  return set;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/PackReader.js":\n/*!*****************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/PackReader.js ***!\n  \\*****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PackFileReader: () => (/* binding */ PackFileReader)\n/* harmony export */ });\n/* harmony import */ var _InputStream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputStream */ "./src/file-loaders/lmvtk/common/InputStream.js");\n/* harmony import */ var _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../wgs/scene/LmvMatrix4 */ "./src/wgs/scene/LmvMatrix4.js");\n\n\n\n\n"use strict";\n\nvar warnedGzip = false;\n\n/** @constructor */\nfunction PackFileReader(data)\n{\n  var stream = this.stream = new _InputStream__WEBPACK_IMPORTED_MODULE_0__.InputStream(data);\n\n  var len = stream.getInt32();\n  this.type = stream.getString(len);\n  this.version = stream.getInt32();\n\n  this.types = null;\n  this.entryOffsets = [];\n\n  //read the table of contents\n  {\n    var offset = stream.offset;\n\n    // Jump to file footer.\n    stream.seek(stream.byteLength - 8);\n\n    // Jump to toc.\n    var tocOffset = stream.getUint32();\n    this.typesOffset = stream.getUint32();\n\n    // Populate type sets.\n    stream.seek(this.typesOffset);\n    var typesCount = this.readU32V();\n    this.types = [];\n    for (var i = 0; i < typesCount; ++i)\n    this.types.push({\n      "entryClass": this.readString(),\n      "entryType": this.readString(),\n      "version": this.readU32V()\n    });\n\n    // Populate data offset list.\n    stream.seek(tocOffset);\n    var entryCount = this.readU32V();\n    var dso = this.entryOffsets;\n    for (var i = 0; i < entryCount; ++i)\n    dso.push(stream.getUint32());\n\n    // Restore sanity of the world.\n    stream.seek(offset);\n  }\n};\n\nPackFileReader.prototype.readVarint = function () {\n  var b;\n  var value = 0;\n  var shiftBy = 0;\n  do {\n    b = this.stream.getUint8();\n    value |= (b & 0x7f) << shiftBy;\n    shiftBy += 7;\n  } while (b & 0x80);\n  return value;\n};\nPackFileReader.prototype.readU32V = PackFileReader.prototype.readVarint;\n\nPackFileReader.prototype.readU16 = function () {\n  return this.stream.getUint16();\n};\n\nPackFileReader.prototype.readU8 = function () {\n  return this.stream.getUint8();\n};\n\nPackFileReader.prototype.readString = function () {\n  return this.stream.getString(this.readU32V());\n};\n\nPackFileReader.prototype.readVector3f = function () {\n  var s = this.stream;\n  return { x: s.getFloat32(), y: s.getFloat32(), z: s.getFloat32() };\n};\n\nPackFileReader.prototype.readF32 = function () {\n  return this.stream.getFloat32();\n};\n\nPackFileReader.prototype.readF64 = function () {\n  return this.stream.getFloat64();\n};\n\nPackFileReader.prototype.readVector3d = function () {\n\n  var t = { x: 0, y: 0, z: 0 };\n\n  return function () {\n    var s = this.stream;\n    t.x = s.getFloat64();\n    t.y = s.getFloat64();\n    t.z = s.getFloat64();\n\n    return t;\n  };\n}();\n\nPackFileReader.prototype.readQuaternionf = function () {\n\n  var q = { x: 0, y: 0, z: 0, w: 0 };\n\n  return function () {\n    var s = this.stream;\n    q.x = s.getFloat32();\n    q.y = s.getFloat32();\n    q.z = s.getFloat32();\n    q.w = s.getFloat32();\n\n    return q;\n  };\n\n}();\n\nPackFileReader.prototype.readMatrix3f = function () {\n\n  var _m = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_1__.LmvMatrix4();\n\n  return function (dst) {\n    if (!dst) dst = _m;\n\n    var s = this.stream;\n    dst.identity();\n    for (var i = 0; i < 3; ++i)\n    for (var j = 0; j < 3; ++j)\n    dst.elements[4 * i + j] = s.getFloat32();\n\n    return dst;\n  };\n\n}();\n\n\n\nPackFileReader.prototype.readTransform = function () {\n\n  var s = { x: 1, y: 1, z: 1 };\n  var m = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_1__.LmvMatrix4(true);\n\n  return function (entityIndex, buffer, offset, placementTransform, globalOffset, originalTranslation)\n  {\n    var stream = this.stream;\n    var t, q;\n\n    var transformType = stream.getUint8();\n\n    switch (transformType) {\n\n      case 4 /*TransformType.Identity*/:{\n          m.identity();\n        }break;\n      case 0 /*TransformType.Translation*/:{\n          t = this.readVector3d();\n          m.makeTranslation(t.x, t.y, t.z);\n        }break;\n      case 1 /*TransformType.RotationTranslation*/:{\n          q = this.readQuaternionf();\n          t = this.readVector3d();\n          s.x = 1;s.y = 1;s.z = 1;\n          m.compose(t, q, s);\n        }break;\n      case 2 /*TransformType.UniformScaleRotationTranslation*/:{\n          var scale = stream.getFloat32();\n          q = this.readQuaternionf();\n          t = this.readVector3d();\n          s.x = scale;s.y = scale;s.z = scale;\n          m.compose(t, q, s);\n        }break;\n      case 3 /*TransformType.AffineMatrix*/:{\n          this.readMatrix3f(m);\n          t = this.readVector3d();\n          m.setPosition(t);\n        }break;\n      default:\n        break; //ERROR\n    }\n\n    //Report the original translation term to the caller, if they need it.\n    //This is only required when reading fragment bounding boxes, where the translation\n    //term of this matrix is subtracted from the bbox terms.\n    if (originalTranslation) {\n      originalTranslation[0] = m.elements[12];\n      originalTranslation[1] = m.elements[13];\n      originalTranslation[2] = m.elements[14];\n    }\n\n    //Apply any placement transform\n    if (placementTransform) {\n      m.multiplyMatrices(placementTransform, m);\n    }\n\n    //Apply global double precision offset on top\n    if (globalOffset) {\n      m.elements[12] -= globalOffset.x;\n      m.elements[13] -= globalOffset.y;\n      m.elements[14] -= globalOffset.z;\n    }\n\n    //Store result back into single precision matrix or array\n    if (entityIndex !== undefined) {\n      var src = m.elements;\n      // Sometimes we don\'t want to keep this data (e.g. when we are probing the fragment list\n      // to find the data base id to fragment index mappings used for fragment filtering) so we\n      // pass a null buffer and if that is the case, bail out here.\n      if (!buffer) return;\n      buffer[offset + 0] = src[0];buffer[offset + 1] = src[1];buffer[offset + 2] = src[2];\n      buffer[offset + 3] = src[4];buffer[offset + 4] = src[5];buffer[offset + 5] = src[6];\n      buffer[offset + 6] = src[8];buffer[offset + 7] = src[9];buffer[offset + 8] = src[10];\n      buffer[offset + 9] = src[12];buffer[offset + 10] = src[13];buffer[offset + 11] = src[14];\n    } else\n    {\n      return new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_1__.LmvMatrix4().copy(m);\n    }\n  };\n\n}();\n\nPackFileReader.prototype.getEntryCounts = function () {\n  return this.entryOffsets.length;\n};\n\nPackFileReader.prototype.seekToEntry = function (entryIndex) {\n  var count = this.getEntryCounts();\n  if (entryIndex >= count)\n  return null;\n\n  // Read the type index and populate the entry data\n  this.stream.seek(this.entryOffsets[entryIndex]);\n  var typeIndex = this.stream.getUint32();\n  if (typeIndex >= this.types.length)\n  return null;\n\n  return this.types[typeIndex];\n};\n\n\nPackFileReader.prototype.readPathID = function () {\n  var s = this.stream;\n\n  //Construct a /-delimited string as the path to a node\n  //TODO: in case we need a split representation (e.g. to follow paths), then\n  //an array of numbers might be better to return from here.\n  if (this.version < 2) {\n    var pathLength = s.getUint16();\n    if (!pathLength)\n    return null;\n\n    //The first number in a path ID is always zero (root)\n    //so we skip adding it to the path string here.\n    //Remove this section if that is not the case in the future.\n    s.getUint16();\n    if (pathLength == 1)\n    return "";\n\n    var path = s.getUint16();\n    for (var i = 2; i < pathLength; ++i) {\n      path += "/" + s.getUint16();\n    }\n  } else\n  {\n    var pathLength = this.readU32V();\n    if (!pathLength)\n    return null;\n\n    //The first number in a path ID is always zero (root)\n    //so we skip adding it to the path string here.\n    //Remove this section if that is not the case in the future.\n    this.readU32V();\n    if (pathLength == 1)\n    return "";\n\n    var path = this.readU32V();\n    for (var i = 2; i < pathLength; ++i) {\n      path += "/" + this.readU32V();\n    }\n  }\n  return path;\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/Propdb.js":\n/*!*************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/Propdb.js ***!\n  \\*************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PropertyDatabase: () => (/* binding */ PropertyDatabase)\n/* harmony export */ });\n/* harmony import */ var _common_StringUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/StringUtils */ "./src/file-loaders/lmvtk/common/StringUtils.js");\n/* harmony import */ var _common_SearchUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/SearchUtils */ "./src/file-loaders/lmvtk/common/SearchUtils.js");\n/* harmony import */ var _PropdbEnums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PropdbEnums */ "./src/file-loaders/lmvtk/common/PropdbEnums.js");\n\n\n\n\n\n\n//Inlined into enumObjectProperties below\n/*\nfunction readVarint(buf, offset) {\n    var b;\n    var value = 0;\n    var shiftBy = 0;\n    do {\n        b = buf[offset[0]++];\n        value |= (b & 0x7f) << shiftBy;\n        shiftBy += 7;\n    } while (b & 0x80);\n    return value;\n}\n*/\n\n/**\n * The Property Database contains property information for each part of a model.\n * The data is read-only, since it has been packed to optimize memory footprint.\n * It\'s implemented as an Entity-Atribute-Value (EAV) set of tables.\n * LMV keeps the PropertyDatabase in a browser worker thread to prevent compute-intensive\n * methods to block the main browser UI thread.\n * Words "Attribute" and "Property" are use interchangeably.\n *\n * @param dbjsons\n * @class\n * @class\n */\nfunction PropertyDatabase(dbjsons) {\n\n  "use strict";\n\n  var _this = this;\n\n  var _isV2 = false;\n  var _isVarint = false;\n\n  //The property db json arrays.\n  //Some of them are held unparsed in blob form\n  //with helper arrays containing offsets into the blobs for each value to be parsed on demand\n  var _attrs; // Array of arrays. Inner array is in the form [attrName(0), category(1), dataType(2), dataTypeContext(3), description(4), displayName(5), flags(6), precision(7) ] \n  // See struct AttributeDef in https://git.autodesk.com/A360/platform-translation-propertydb/blob/master/propertydb/PropertyDatabase.h \n  var _offsets;\n  var _avs;\n  var _valuesBlob;\n  var _valuesOffsets;\n  var _idsBlob;\n  var _idsOffsets;\n\n  //Cached ids of commonly used well known attributes (child, parent, name)\n  var _childAttrId;\n  var _parentAttrId;\n  var _nameAttrId;\n  var _instanceOfAttrId;\n  var _viewableInAttrId;\n  var _externalRefAttrId;\n  var _nodeFlagsAttrId;\n  var _layersAttrId;\n\n  //Transient structures for detecting invalid cycles in buildObjectTree()\n  var _processedIds;\n  var _cyclesCount;\n\n  // Used for memoizing recursive calls to getNodeNameAndChildren\n  let _instanceNodeCache = {};\n\n  //dbjsons is expected to be of the form\n  //{ attrs: {filename1:x, filename2:y}, ids: {filename1:x... }, values: {... }, offsets: {... }, avs: {... } }\n  //where each of the elements of each array is a pair of the original name and the unzipped *raw* byte\n  //array buffer corresponding to the respective property database constituent. In the current implementation\n  //each array is expected to only have one name-value element.\n\n\n  //=========================================================================\n\n  //The attribute definitions blob is considered small enough\n  //to parse using regular APIs\n  for (var p in dbjsons.attrs) {\n    _attrs = (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.blobToJson)(dbjsons.attrs[p]);\n\n    if (_attrs[0] === "pdb version 2")\n    _isV2 = true;\n\n    for (var i = 1; i < _attrs.length; i++) {\n\n      var attrName = _attrs[i][0];\n      switch (attrName) {\n        case "Layer":_layersAttrId = i;break;\n        default:break;\n      }\n\n      var category = _attrs[i][1];\n\n      switch (category) {\n        case "__parent__":_parentAttrId = i;break;\n        case "__child__":_childAttrId = i;break;\n        case "__name__":_nameAttrId = i;break;\n        case "__instanceof__":_instanceOfAttrId = i;break;\n        case "__viewable_in__":_viewableInAttrId = i;break;\n        case "__externalref__":_externalRefAttrId = i;break;\n        case "__node_flags__":_nodeFlagsAttrId = i;break;\n        default:break;\n      }\n\n      //As of V2, DbKey attribute values are stored directly into the AV array\n      if (_isV2 && _attrs[i][2] === _PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.AttributeType.DbKey) {\n        _attrs[i][6] = _attrs[i][6] | _PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.AttributeFlags.afDirectStorage;\n      }\n    }\n\n    break; //currently we can only handle single property file (no chunking)\n  }\n\n  //manual parse of the attribute-value index pairs array\n  for (let p in dbjsons.avs) {\n\n    let buf = dbjsons.avs[p];\n\n    if (buf[0] === "[".charCodeAt(0)) {\n      _avs = (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.parseIntArray)(dbjsons.avs[p], 0);\n    } else {\n      _avs = buf;\n      _isVarint = true;\n    }\n\n    delete dbjsons.avs; //don\'t need this blob anymore\n\n    break; //currently we can only handle single property file (no chunking)\n\n  }\n\n\n  //manual parse of the offsets array\n  for (let p in dbjsons.offsets) {\n\n    let buf = dbjsons.offsets[p];\n\n    if (buf[0] === "[".charCodeAt(0)) {\n      _offsets = (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.parseIntArray)(buf, 1); //passing in 1 to reserve a spot for the sentinel value\n\n      //just a sentinel value to make lookups for the last item easier\n      _offsets[_offsets.length - 1] = _avs.length / 2;\n    } else {\n      _offsets = new Int32Array(buf.buffer, buf.byteOffset, buf.byteLength / 4);\n    }\n\n    delete dbjsons.offsets; //don\'t need this\n\n    break; //currently we can only handle single property file (no chunking)\n\n  }\n\n  //Instead of parsing the values and ids arrays, find the\n  //offset of each json item in the blob, and then we can\n  //pick and parse specific items later on demand, without\n  //parsing the potentially large json blob up front.\n  for (let p in dbjsons.values) {\n    _valuesBlob = dbjsons.values[p];\n    _valuesOffsets = (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.findValueOffsets)(_valuesBlob);\n\n    break; //currently we can only handle single property file (no chunking)\n\n  }\n\n  // Get externalIds from data blob. Unlike the other data, this one is optional\n  // and may be loaded later or not at all to save memory.\n  this.setIdsBlob = function (data) {\n    // Just like for _valuesBlob: Find the offset to each value \n    //  but skip the full parse.\n    _idsBlob = data;\n    _idsOffsets = (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.findValueOffsets)(data);\n  };\n\n  //Set ids array (if available). Note that the ids array is\n  //optional and LMV does not require them. (Just some extensions might do - like PushPins)\n  for (let p in dbjsons.ids) {\n    this.setIdsBlob(dbjsons.ids[p]);\n    break; //currently we can only handle single property file (no chunking)\n  }\n\n  //=========================================================================\n\n  /**\n   * Obtains the number of database ids (dbIds) available. \n   * These ids range betwee 1 (inclusive) up to getObjectCount() (exclusive).\n   *\n   * @returns {number}\n   */\n  this.getObjectCount = function () {\n    return _offsets.length - 1;\n  };\n\n  this.getValueAt = function (valId) {\n    return (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.subBlobToJson)(_valuesBlob, _valuesOffsets[valId]);\n  };\n\n  //faster variant used for traversing the object hierarchy where\n  //we know the data type of the value to be an integer\n  this.getIntValueAt = function (valId) {\n    return (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.subBlobToJsonInt)(_valuesBlob, _valuesOffsets[valId]);\n  };\n\n\n  this.getIdAt = function (entId) {\n    return (0,_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.subBlobToJson)(_idsBlob, _idsOffsets[entId]);\n  };\n\n  // Loading the (large) externalIDs can be skipped to save memory.\n  this.externalIdsLoaded = function () {\n    return Boolean(_idsBlob);\n  };\n\n  /**\n   * Obtains the actual value of a property.\n   *\n   * @param {number} attrId - The attribute id\n   * @param {number} valId - The value id\n   * @param {boolean} [integerHint] - If true the return value will be casted to integer.\n   *\n   * @returns {*} \n   */\n  this.getAttrValue = function (attrId, valId, integerHint) {\n    var attr = _attrs[attrId];\n    if (attr[6] & _PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.AttributeFlags.afDirectStorage) {\n      if (attr[2] === _PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.AttributeType.DbKey) {\n        //db keys are stored directly in the EAV triplet\n        return valId;\n      }\n    }\n\n    return integerHint ? this.getIntValueAt(valId) : this.getValueAt(valId);\n  };\n\n  this._getObjectProperty = function (attrId, valId) {\n\n    var attr = _attrs[attrId];\n    var displayName = attr[5] ? attr[5] : attr[0];\n    var hidden = this.attributeHidden(attrId);\n\n    // type values match those in PropertyDatabase.h\n    // See: https://git.autodesk.com/A360/platform-translation-propertydb/blob/master/propertydb/PropertyDatabase.h#L67\n    return {\n      displayName: displayName,\n      displayValue: _this.getAttrValue(attrId, valId),\n      displayCategory: attr[1],\n      attributeName: attr[0],\n      type: attr[2],\n      units: attr[3],\n      hidden: hidden,\n      precision: attr[7] || 0\n    };\n  };\n\n  /**\n   * Obtains all properties for a given database id.\n   *\n   * @param {number} dbId - The database id\n   * @param {string[]} [propFilter=null] - Array of property names to return values for. Use null for no filtering.\n   * @param {boolean} [ignoreHidden=false] - true to ignore hidden properties.\n   * @param {string[]} [propIgnored=null] - Array of property names to not include in the return value.\n   *\n   * @returns {object} consisting of attributes `name`, `dbId`, `properties` and `externalId`.\n   */\n  this.getObjectProperties = function (dbId, propFilter, ignoreHidden, propIgnored, categoryFilter) {\n    var result = {\n      "dbId": dbId,\n      "properties": []\n    };\n\n    var needName = false;\n\n    // Check if externalIds are wanted and available\n    var filterContainsId = propFilter && propFilter.indexOf("externalId") !== -1;\n    var idsLoaded = this.externalIdsLoaded();\n\n    // If externalIds are explicitly addressed in the filter, we can assume that the caller expects\n    // to have them in the result. So we should report an error if they are not loaded.\n    if (filterContainsId && !idsLoaded) {\n      console.error(\'Requesting externalID requires loading of the externalID table\');\n    }\n\n    // We add externalIds to the result if...\n    //  1. externalIds are in memory\n    //  2. Either the filter includes externalIds or there is no filter\n    var addExternalId = idsLoaded && (!propFilter || filterContainsId);\n    if (addExternalId) {\n      result.externalId = this.getIdAt(dbId);\n\n      // If there are no other properties required, then just return.\n      // Useful when we only care about fetching externalId-only data.\n      if (propFilter && propFilter.length === 1) {\n        return result;\n      }\n    }\n\n    var parentProps = null;\n\n    //Loop over the attribute index - value index pairs for the objects\n    //and for each one look up the attribute and the value in their\n    //respective arrays.\n    this.enumObjectProperties(dbId, function (attrId, valId) {\n      if (attrId == _instanceOfAttrId) {\n        //Recursively resolve any common properties from the parent of this instance\n        //NOTE: Here we explicitly ignore hidden properties, because we don\'t \n        //want the parent instance to override parent/child nodes and other structural \n        //attributes. Specifically, Revit extraction has a bug where the model tree parent is \n        //also instance prototype for its children, so we need to prevent the child\n        //from gaining all its siblings as children of its own due to this inheritance.\n        var res = _this.getObjectProperties(_this.getAttrValue(attrId, valId), propFilter, true /*ignoreHidden*/, propIgnored, categoryFilter);\n        if (res && res.properties) {\n          parentProps = res;\n        }\n        return;\n      }\n\n      var attr = _attrs[attrId];\n\n      if (propFilter && propFilter.indexOf(attr[0]) === -1 && propFilter.indexOf(attr[5]) === -1)\n      return;\n\n      if (categoryFilter && categoryFilter.indexOf(attr[1]) === -1)\n      return;\n\n      if (propIgnored && (propIgnored.indexOf(attr[0]) > -1 || propIgnored.indexOf(attr[5]) > -1))\n      return;\n\n      if (attrId == _nameAttrId) {\n        var val = _this.getAttrValue(attrId, valId);\n        needName = true;\n        result.name = val;\n      } else\n      {\n\n        //skip structural attributes, we don\'t want those to display\n        //NOTE: The list of structural attributes that we check explicitly is not marked\n        //as hidden in older versions of the property database, so if we ever want to\n        //add them to the result list, we have to explicitly set the hidden flag for those.\n        var hidden = _this.attributeHidden(attrId);\n        if (ignoreHidden && hidden) {\n          return;\n        }\n\n        var prop = _this._getObjectProperty(attrId, valId);\n        result.properties.push(prop);\n      }\n    });\n\n    //Combine instance properties with any parent object properties\n    if (parentProps) {\n      var myProps = {};\n      var rp = result.properties;\n      for (let i = 0; i < rp.length; i++) {\n        myProps[rp[i].displayName] = 1;\n      }\n\n      if (!result.name)\n      result.name = parentProps.name;\n\n      var pp = parentProps.properties;\n      for (let i = 0; i < pp.length; i++) {\n        if (!Object.prototype.hasOwnProperty.call(myProps, pp[i].displayName)) {\n          rp.push(pp[i]);\n        }\n      }\n    }\n\n    if (categoryFilter && !result.properties.length)\n    return null;\n\n    if (propFilter && !result.properties.length && !addExternalId && !needName)\n    return null;\n\n    return result;\n  };\n\n  /**\n   * Obtains a map between each database id (dbId) and their corresponding external-id.\n   * The external-id is the identifier used by the source file. \n   * Example: A translated Revit file has a wall with dbId=1, but in Revit (desktop application) the identifier of that wall is "Wall-06-some-guid-here".\n   *\n   * @param {number[]} [extIdFilter] - Limits the result to only contain the ids in this array.\n   *\n   * @returns {object} map from dbId into external-id.\n   */\n  this.getExternalIdMapping = function (extIdFilter) {\n    var mapping = {};\n    if (_idsOffsets && \'length\' in _idsOffsets) {// Check that it\'s an indexable type\n      for (var dbId = 1, len = _idsOffsets.length; dbId < len; ++dbId) {\n        var externalId = this.getIdAt(dbId);\n        if (!extIdFilter || extIdFilter[externalId] === true) {\n          mapping[externalId] = dbId;\n        }\n      }\n    }\n    return mapping;\n  };\n\n  //Heuristically find the root node(s) of a scene\n  //A root is a node that has children, has no (or null) parent and has a name.\n  //There can be multiple nodes at the top level (e.g. Revit DWF), which is why\n  //we should get the scene root with absolute certainty from the SVF instance tree,\n  //but we would have to uncompress and parse that in -- something that is\n  //not currently done. This is good enough for now (if pretty slow).\n  this.findRootNodes = function () {\n\n    var idroots = [];\n    var idDetachedNodes = []; // These are nodes without a parent or child\n\n    this.enumObjects(function (id) {\n      var hasChild = false;\n      var hasParent = false;\n      var hasName = false;\n\n      _this.enumObjectProperties(id, function (attrId, valId) {\n        if (attrId == _parentAttrId) {\n          if (_this.getAttrValue(attrId, valId, true)) //checks for null or zero parent id, in which case it\'s considered non-parent\n            hasParent = true;\n        } else if (attrId == _childAttrId) {\n          hasChild = true;\n        } else\n        if (attrId == _nameAttrId) {\n          hasName = true;\n        }\n      });\n\n      if (hasName && !hasParent) {\n        hasChild ? idroots.push(id) : idDetachedNodes.push(id);\n      }\n    });\n\n    // Some dwfx files can have only detached nodes, in which case, we treat them as roots\n    return idroots.length > 0 ? idroots : idDetachedNodes;\n  };\n\n  // Does the node have atleast one child?\n  this.nodeHasChild = function (dbId) {\n    let hasChild = false;\n\n    this.enumObjectProperties(dbId, function (attrId) {\n      if (attrId === _childAttrId) {\n        hasChild = true;\n        return true; // break from enumerating\n      }\n    });\n\n    return hasChild;\n  };\n\n\n  //Gets the immediate children of a node with the given dbId\n  this.getNodeNameAndChildren = function (node /* {dbId:X, name:""} */, skipChildren) {\n\n    var id = node.dbId;\n\n    var children;\n    var instanceOfValId;\n\n    this.enumObjectProperties(id, function (attrId, valId) {\n      var val;\n\n      if (attrId === _parentAttrId) {\n\n        //node.parent = this.getAttrValue(attrId, valId, true); //eventually we will needs this instead of setting parent pointer when creating children below.\n      } else if (attrId == _childAttrId && !skipChildren) {val = _this.getAttrValue(attrId, valId, true);\n\n        // avoid parent->child links to the same dbId\n        if (val !== node.dbId) {\n          var child = { dbId: val, parent: node.dbId };\n          if (!children)\n          children = [child];else\n\n          children.push(child);\n        }\n\n      } else if (attrId === _nameAttrId) {\n        node.name = _this.getAttrValue(attrId, valId); //name is necessary for GUI purposes, so add it to the node object explicitly\n      } else if (attrId === _nodeFlagsAttrId) {\n        node.flags = _this.getAttrValue(attrId, valId, true); //flags are necessary for GUI/selection purposes, so add them to the node object\n      } else if (attrId === _instanceOfAttrId) {\n        instanceOfValId = valId;\n      }\n    });\n\n    //If this is an instance of another object,\n    //try to get the object name/flags from there.\n    //This is not done in the main loop above for performance reasons,\n    //we only want to do the expensive thing of going up the object hierarchy\n    //if the node does not actually have a name/flags attributes.\n    if ((!node.name || !node.flags) && instanceOfValId) {\n      const dbIdOfInstance = _this.getAttrValue(_instanceOfAttrId, instanceOfValId, true);\n\n      // Check if the instance node already exists in cache.\n      let tmp = _instanceNodeCache[dbIdOfInstance];\n\n      if (!tmp) {\n        // Fetch instance node and memoize it.\n        _instanceNodeCache[dbIdOfInstance] = tmp = { dbId: dbIdOfInstance, name: null, flags: null };\n        _this.getNodeNameAndChildren(tmp, true);\n      }\n\n      //Take the name from the prototype object if the instance doesn\'t have it\n      if (tmp.name && !node.name)\n      node.name = tmp.name;\n\n      //Take the node flags from the prototype object if the instance doesn\'t have it\n      if (typeof node.flags !== "number" && typeof tmp.flags === "number")\n      node.flags = tmp.flags;\n    }\n\n    return children;\n  };\n\n\n  /**\n   * @param fragToDbId\n   * @private\n   */\n  function buildDbIdToFragMap(fragToDbId) {\n    var ret = {};\n    for (var i = 0, iEnd = fragToDbId.length; i < iEnd; i++) {\n\n      var dbIds = fragToDbId[i];\n\n      //In 2D drawings, a single fragment (consolidation mesh)\n      //can contain multiple objects with different dbIds.\n      if (!Array.isArray(dbIds)) {\n        dbIds = [dbIds];\n      }\n\n      for (var j = 0; j < dbIds.length; j++) {\n        var dbId = dbIds[j];\n        var frags = ret[dbId];\n        if (frags === undefined) {\n          //If it\'s the first fragments for this dbid,\n          //store the index directly -- most common case.\n          ret[dbId] = i;\n        } else\n        if (!Array.isArray(frags)) {\n          //otherwise put the fragments that\n          //reference the dbid into an array\n          ret[dbId] = [frags, i];\n        } else\n        {\n          //already is an array\n          frags.push(i);\n        }\n      }\n    }\n\n    return ret;\n  }\n\n  this.buildDbIdToFragMap = buildDbIdToFragMap;\n\n  //Duplicated from InstanceTree.js\n  var NODE_TYPE_ASSEMBLY = 0x0, // Real world object as assembly of sub-objects\n    NODE_TYPE_GEOMETRY = 0x6; // Leaf geometry node\n\n  //Builds a tree of nodes according to the parent/child hierarchy\n  //stored in the property database, starting at the node with the given dbId\n  this.buildObjectTree = function (rootId, //current node dbId\n  fragToDbId, //array of fragId->dbId lookup\n  maxDepth, /* returns max tree depth */\n  nodeStorage)\n  {\n\n    //Build reverse lookup for dbId->fragId\n    var dbToFragId;\n    if (fragToDbId) {\n      dbToFragId = buildDbIdToFragMap(fragToDbId);\n    }\n\n    _processedIds = {};\n    _cyclesCount = 0;\n\n    //Call recursive implementation\n    var ret = this.buildObjectTreeRec(rootId, 0, dbToFragId, 0, maxDepth, nodeStorage);\n    if (_cyclesCount > 0) {\n      console.warn(\'Property database integrity not guaranteed (\' + _cyclesCount + \').\');\n    }\n\n    _processedIds = null;\n\n    // Clean cache\n    _instanceNodeCache = {};\n\n    return ret;\n  };\n\n  //Recursive helper for buildObjectTree\n  this.buildObjectTreeRec = function (dbId, //current node dbId\n  parent, //parent dbId\n  dbToFrag, //map of dbId to fragmentIds\n  depth, /* start at 0 */\n  maxDepth, /* returns max tree depth */\n  nodeStorage)\n  {\n\n    // Check for cycles in the tree.\n    // There shouldn\'t be any cycles in the tree...\n    if (_processedIds[dbId]) {\n      _cyclesCount++;\n      return 0;\n    }\n\n    _processedIds[dbId] = parent || dbId;\n\n    if (depth > maxDepth[0])\n    maxDepth[0] = depth;\n\n    var node = { dbId: dbId };\n    var children = this.getNodeNameAndChildren(node);\n\n    var childrenIds = [];\n\n    if (children) {\n      for (var j = 0; j < children.length; j++) {\n        var childHasChildren = this.buildObjectTreeRec(children[j].dbId, dbId, dbToFrag, depth + 1, maxDepth, nodeStorage);\n\n        //For display purposes, prune children that are leafs without graphics\n        //and add the rest to the node\n        if (childHasChildren)\n        childrenIds.push(children[j].dbId);\n      }\n    }\n\n    var fragIds;\n\n    //leaf node\n    if (dbToFrag) {\n      var frags = dbToFrag[dbId];\n      if (frags !== undefined) {\n\n        //if (childrenIds.length)\n        //    console.error("Node that has both node children and fragment children!", node.name, children, childrenIds, frags);\n\n        if (!Array.isArray(frags))\n        fragIds = [frags];else\n\n        fragIds = frags;\n      }\n    }\n\n    //Use default node flags in case none are set\n    //This is not the best place to do this, but it\'s\n    //the last place where we can differentiate between "not set" and zero.\n    var flags = node.flags || 0;\n    if (flags === undefined) {\n      if (fragIds && fragIds.length)\n      flags = NODE_TYPE_GEOMETRY;else\n      if (childrenIds.length)\n      flags = NODE_TYPE_ASSEMBLY;else\n\n      flags = 0; //??? Should not happen (those nodes are pruned above)\n    }\n\n    // Get child count (nodes + fragments)\n    var childCount = childrenIds.length + (fragIds ? fragIds.length : 0);\n\n    // Skip nodes that contain neither children nor any fragments\n    if (childCount) {\n      nodeStorage.setNode(dbId, parent, node.name, flags, childrenIds, fragIds);\n    }\n\n    return childCount;\n  };\n\n  /**\n   * Given a text string, returns an array of individual words separated by\n   * white spaces.\n   * Will preserve white spacing within double quotes.\n   *\n   * @param {string} searchText - Text to search\n   */\n  this.getSearchTerms = function (searchText) {\n    searchText = searchText.toLowerCase();\n    //regex preserves double-quote delimited strings as phrases\n    var searchTerms = searchText.match(/"[^"]+"|[^\\s]+/g) || [];\n    var i = searchTerms.length;\n    while (i--) {\n      searchTerms[i] = searchTerms[i].replace(/"/g, "");\n    }\n    var searchList = [];\n    for (i = 0; i < searchTerms.length; i++) {\n\n      if (searchTerms[i].length > 1)\n      searchList.push(searchTerms[i]);\n    }\n    return searchList;\n  };\n\n  /**\n   * Searches the property database for a string.\n   *\n   * @param searchText\n   * @param attributeNames\n   * @param searchOptions\n   * @returns Array of ids.\n   * @private\n   */\n  this.bruteForceSearch = function (searchText, attributeNames, searchOptions) {\n\n    const searchList = this.getSearchTerms(searchText);\n    if (searchList.length === 0)\n    return [];\n\n    //For each search word, find matching IDs\n    var results = [];\n\n    const searchHidden = searchOptions === null || searchOptions === void 0 ? void 0 : searchOptions.searchHidden;\n    const includeInherited = searchOptions === null || searchOptions === void 0 ? void 0 : searchOptions.includeInherited;\n    // { x: [ a, b, c ]}, a,b,c are instances of x\n    const inheritanceMap = {};\n\n    for (let k = 0; k < searchList.length; k++) {\n      var result = [];\n\n      //Find all values that match the search text\n      var matching_vals = [];\n      for (var i = 0, iEnd = _valuesOffsets.length; i < iEnd; i++) {\n        var val = this.getValueAt(i);\n        if (val === null)\n        continue;\n        if (val.toString().toLowerCase().indexOf(searchList[k]) !== -1)\n        matching_vals.push(i);\n      }\n\n      if (matching_vals.length === 0) {\n        results.push(result);\n        continue;\n      }\n\n      // values should be sorted at this point, but it doesn\'t hurt making sure they are.\n      matching_vals.sort(function (a, b) {\n        return a - b;\n      });\n\n      this.enumObjects(function (id) {\n\n        _this.enumObjectProperties(id, function (attrId, valId) {\n\n          if (includeInherited && attrId === _instanceOfAttrId) {\n            const pid = parseInt(_this.getAttrValue(attrId, valId));\n            inheritanceMap[pid] = inheritanceMap[pid] || [];\n            inheritanceMap[pid].push(id);\n          }\n\n          if (!searchHidden) {\n            // skip hidden attributes\n            var isHidden = _this.attributeHidden(attrId);\n            if (isHidden) {\n              return;\n            }\n          }\n\n          var iFound = (0,_common_SearchUtils__WEBPACK_IMPORTED_MODULE_1__.binarySearch)(matching_vals, valId);\n          if (iFound !== -1) {\n            //Check attribute name in case a restriction is passed in\n            if (attributeNames && attributeNames.length && attributeNames.indexOf(_attrs[attrId][0]) === -1)\n            return;\n\n            result.push(id);\n            return true;\n          }\n        });\n\n      });\n\n      results.push(result);\n    }\n\n    const addInheritedIds = (ids, inheritanceMap) => {\n      // traverse inheritance and add to ids list\n      const seen = new Set(ids);\n      for (let i = 0; i < ids.length; ++i) {\n        const id = ids[i];\n        if (!(id in inheritanceMap)) continue;\n        const cids = inheritanceMap[id];\n        for (let j = 0; j < cids.length; ++j) {\n          const cid = cids[j];\n          if (!seen.has(cid)) {\n            ids.push(cid);\n            seen.add(cid);\n          }\n        }\n      }\n    };\n\n    if (results.length === 1) {\n      if (includeInherited) {\n        addInheritedIds(results[0], inheritanceMap);\n      }\n      return results[0];\n    }\n\n    //If each search term resulted in hits, compute the intersection of the sets\n    var map = {};\n    var hits = results[0];\n    for (let i = 0; i < hits.length; i++)\n    map[hits[i]] = 1;\n\n\n    for (let j = 1; j < results.length; j++) {\n      hits = results[j];\n      var mapint = {};\n\n      for (let i = 0; i < hits.length; i++) {\n        if (map[hits[i]] === 1)\n        mapint[hits[i]] = 1;\n      }\n\n      map = mapint;\n    }\n\n    result = [];\n    for (let k in map) {\n      result.push(parseInt(k));\n    }\n\n    if (includeInherited) {\n      addInheritedIds(result, inheritanceMap);\n    }\n\n    return result;\n  };\n\n\n  /**\n   * Given a property name, it returns an array of ids that contain it.\n   *\n   * @param {string} propertyName - Property name\n   */\n  this.bruteForceFind = function (propertyName) {\n\n    var results = [];\n    this.enumObjects(function (id) {\n\n      var idContainsProperty = false;\n      _this.enumObjectProperties(id, function (attrId) {\n\n        var attr = _attrs[attrId];\n        var propName = attr[0];\n        var displayName = attr[5];\n\n        if (propName === propertyName || displayName === propertyName) {\n          idContainsProperty = true;\n          return true;\n        }\n      });\n\n      if (idContainsProperty) {\n        results.push(id);\n      }\n\n    });\n\n    return results;\n  };\n\n  /**\n   * Specialized function that returns:\n   * {\n   *    \'layer-name-1\': [id1, id2, ..., idN],\n   *    \'layer-name-2\': [idX, idY, ..., idZ],\n   *    ...\n   * }\n   */\n  this.getLayerToNodeIdMapping = function () {\n\n    var results = {};\n    this.enumObjects(function (id) {\n\n      _this.enumObjectProperties(id, function (attrId, valId) {\n\n        if (attrId != _layersAttrId)\n        return;\n\n        var val = _this.getAttrValue(attrId, valId);\n        if (!Array.isArray(results[val])) {\n          results[val] = [];\n        }\n        results[val].push(id);\n        return true;\n      });\n\n    });\n\n    return results;\n  };\n\n  /**\n   * Unpacks an attribute value into all available components.\n   *\n   * @param {number} attrId - The attribute id.\n   *\n   * @returns {object} containing `name`, `category`, `dataType`, `dataTypeContext`, `description`, `displayName` and `flags`.\n   */\n  this.getAttributeDef = function (attrId) {\n    var _raw = _attrs[attrId];\n    return {\n      //attrName(0), category(1), dataType(2), dataTypeContext(3), description(4), displayName(5), flags(6), precision(7)\n      name: _raw[0],\n      category: _raw[1],\n      dataType: _raw[2],\n      dataTypeContext: _raw[3],\n      description: _raw[4],\n      displayName: _raw[5],\n      flags: _raw[6],\n      precision: _raw.length > 7 ? _raw[7] : 0\n    };\n  };\n\n  /**\n   * Invokes a callback function for each attribute-id in the model.\n   *\n   * @example\n   *      pdb.enumAttributes(function(attrId, attrDef) {\n   *           // attrDef is an object\n   *           if (attrDef.name === \'name\') {\n   *               return true; // return true to stop iteration.\n   *           }\n   *      })\n   * \n   * @param {Function} cb - Callback invoked\n   */\n  this.enumAttributes = function (cb) {\n    for (var i = 1; i < _attrs.length; i++) {\n      if (cb(i, this.getAttributeDef(i), _attrs[i]))\n      break;\n    }\n  };\n\n\n  //See API doc for this.enumObjectProperties below\n  /**\n   * @param dbId\n   * @param cb\n   * @private\n   */\n  function enumObjectPropertiesV1(dbId, cb) {\n    //Start offset of this object\'s properties in the Attribute-Values table\n    let propStart = 2 * _offsets[dbId];\n\n    //End offset of this object\'s properties in the Attribute-Values table\n    let propEnd = 2 * _offsets[dbId + 1];\n\n    //Loop over the attribute index - value index pairs for the objects\n    //and for each one look up the attribute and the value in their\n    //respective arrays.\n    for (let i = propStart; i < propEnd; i += 2) {\n      let attrId = _avs[i];\n      let valId = _avs[i + 1];\n\n      if (cb(attrId, valId))\n      break;\n    }\n  }\n\n  //See API doc for this.enumObjectProperties below\n  /**\n   * @param dbId\n   * @param cb\n   * @private\n   */\n  function enumObjectPropertiesV2(dbId, cb) {\n    //v2 variable length encoding. Offsets point into delta+varint encoded a-v pairs per object\n    let offset = _offsets[dbId];\n    let propEnd = _offsets[dbId + 1];\n    let buf = _avs;\n\n    let a = 0;\n    while (offset < propEnd) {\n\n      //Inlined version of readVarint\n      let b = buf[offset++];\n      let value = b & 0x7f;\n      let shiftBy = 7;\n      while (b & 0x80) {\n        b = buf[offset++];\n        value |= (b & 0x7f) << shiftBy;\n        shiftBy += 7;\n      }\n\n      //attribute ID is delta encoded from the previously seen attribute ID, add that back in\n      a += value;\n\n      //Inlined version of readVarint\n      b = buf[offset++];\n      value = b & 0x7f;\n      shiftBy = 7;\n      while (b & 0x80) {\n        b = buf[offset++];\n        value |= (b & 0x7f) << shiftBy;\n        shiftBy += 7;\n      }\n\n      if (cb(a, value))\n      break;\n    }\n  }\n\n  /**\n   * Iterates over all properties for a given database id and invokes the supplied callback function.\n   *\n   * @param {number} dbId - The attribute id.\n   * @param {Function} cb - callback function, that receives 2 arguments: attribute-id (`attrId`) and value-id (`valId`). Have the function return `true` to abort iteration.\n   *\n   */\n  this.enumObjectProperties = _isVarint ? enumObjectPropertiesV2 : enumObjectPropertiesV1;\n\n\n  let _instanceOfCache = {};\n\n  //See API documentation in this.getPropertiesSubsetWithInheritance below\n  /**\n   * @param dbId\n   * @param desiredAttrIds\n   * @param dstValIds\n   * @private\n   */\n  function getPropertiesSubsetWithInheritanceV1(dbId, desiredAttrIds, dstValIds) {\n\n    //Start offset of this object\'s properties in the Attribute-Values table\n    let propStart = 2 * _offsets[dbId];\n\n    //End offset of this object\'s properties in the Attribute-Values table\n    let propEnd = 2 * _offsets[dbId + 1];\n\n    let res = [];\n    let instanceOfVals = [];\n    dstValIds = dstValIds || {};\n\n    //Loop over the attribute index - value index pairs for the objects\n    //and for each one look up the attribute and the value in their\n    //respective arrays.\n    for (let i = propStart; i < propEnd; i += 2) {\n      let a = _avs[i];\n      let value = _avs[i + 1];\n\n      if (a === _instanceOfAttrId) {\n        //remember instanceof inheritance for later\n        let iofDbId = _this.getAttrValue(a, value);\n        instanceOfVals.push(iofDbId);\n      } else {\n        if (!desiredAttrIds || desiredAttrIds[a]) {\n          dstValIds[a] = value;\n          res.push(a);\n          res.push(value);\n        }\n      }\n    }\n\n    //Really, we only expect one instanceof inheritance, but\n    //it\'s theoretically possible to have several\n    for (let i = 0; i < instanceOfVals.length; i++) {\n\n      let iofDbId = instanceOfVals[i];\n\n      let cached = _instanceOfCache[iofDbId];\n      if (!cached) {\n        _instanceOfCache[iofDbId] = cached = getPropertiesSubsetWithInheritanceV2(iofDbId);\n      }\n\n      for (let j = 0; j < cached.length; j += 2) {\n        let a = cached[j];\n        let v = cached[j + 1];\n\n        if (desiredAttrIds && !desiredAttrIds[a]) {\n          continue;\n        }\n\n        if (!dstValIds[a] && !_this.attributeHidden(a)) {\n          dstValIds[a] = v;\n          res.push(a);\n          res.push(v);\n        }\n      }\n    }\n\n    return res;\n  }\n\n  //See API documentation in this.getPropertiesSubsetWithInheritance below\n  /**\n   * @param dbId\n   * @param desiredAttrIds\n   * @param dstValIds\n   * @private\n   */\n  function getPropertiesSubsetWithInheritanceV2(dbId, desiredAttrIds, dstValIds) {\n\n    //v2 variable length encoding. Offsets point into delta+varint encoded a-v pairs per object\n    let offset = _offsets[dbId];\n    let propEnd = _offsets[dbId + 1];\n    let buf = _avs;\n\n    let res = [];\n    let instanceOfVals = [];\n    dstValIds = dstValIds || {};\n\n    let a = 0;\n    while (offset < propEnd) {\n\n      let b = buf[offset++];\n      let value = b & 0x7f;\n      let shiftBy = 7;\n      while (b & 0x80) {\n        b = buf[offset++];\n        value |= (b & 0x7f) << shiftBy;\n        shiftBy += 7;\n      }\n\n      //attribute ID is delta encoded from the previously seen attribute ID, add that back in\n      a += value;\n\n      b = buf[offset++];\n      value = b & 0x7f;\n      shiftBy = 7;\n      while (b & 0x80) {\n        b = buf[offset++];\n        value |= (b & 0x7f) << shiftBy;\n        shiftBy += 7;\n      }\n\n      if (a === _instanceOfAttrId) {\n        //remember instanceof inheritance for later\n        let iofDbId = _this.getAttrValue(a, value);\n        instanceOfVals.push(iofDbId);\n      } else {\n        if (!desiredAttrIds || desiredAttrIds[a]) {\n          dstValIds[a] = value;\n          res.push(a);\n          res.push(value);\n        }\n      }\n    }\n\n    //Really, we only expect one instanceof inheritance, but\n    //it\'s theoretically possible to have several\n    for (let i = 0; i < instanceOfVals.length; i++) {\n\n      let iofDbId = instanceOfVals[i];\n\n      let cached = _instanceOfCache[iofDbId];\n      if (!cached) {\n        _instanceOfCache[iofDbId] = cached = getPropertiesSubsetWithInheritanceV2(iofDbId);\n      }\n\n      for (let j = 0; j < cached.length; j += 2) {\n        let a = cached[j];\n        let v = cached[j + 1];\n\n        if (desiredAttrIds && !desiredAttrIds[a]) {\n          continue;\n        }\n\n        if (!dstValIds[a] && !_this.attributeHidden(a)) {\n          dstValIds[a] = v;\n          res.push(a);\n          res.push(v);\n        }\n      }\n    }\n\n    return res;\n  }\n\n  /**\n   * Given an object ID, returns the corresponding value IDs for the given list of attribute Ids.\n   * Takes into account instance_of inheritance of properties.\n   *\n   * @param {number} dbId - Integer input object ID\n   * @param {object} desiredAttrIds - An optional map of the requested attribute Ids, where desiredAttrIds[attrId] is "truthy".\n   *                                  If not provided, all properties will be returned.\n   * @param {object} dstValIds - A storage target map, such that dstValIds[attrId] will be the resulting value ID.\n   *                             It is the responsibility of the caller to zero initialize this map.\n   *\n   * @returns {number[]} - A flat list of integers attributeId - valueId pairs. This is in addition to the dstValIds, for cases\n   *                        where the object has mutliple properties of the same type, e.g. children, __viewable_in__, etc.\n   */\n  this.getPropertiesSubsetWithInheritance = _isVarint ? getPropertiesSubsetWithInheritanceV2 : getPropertiesSubsetWithInheritanceV1;\n\n  /**\n   * Iterates over the property database and finds all layers.\n   *\n   * @returns {object}\n   */\n  this.findLayers = function () {\n\n    // Same format as F2d.js::createLayerGroups()\n    var ret = { name: \'root\', id: 1, index: 1, children: [], isLayer: false, childCount: 0 };\n\n    // Return early when no Layer attribute is present\n    if (_layersAttrId === undefined) {\n      return ret;\n    }\n\n    // Grab all Layer names\n    var layers = [];\n    var scope = this;\n    this.enumObjects(function (dbId) {\n      scope.enumObjectProperties(dbId, function (attrId, valId) {\n        if (attrId === _layersAttrId) {\n          var layerName = scope.getValueAt(valId);\n          if (layers.indexOf(layerName) === -1) {\n            layers.push(layerName);\n          }\n          // We found what we wanted => skip remaining attribs for this object\n          return true;\n        }\n      });\n    });\n\n    layers.sort(function (a, b) {\n      return a.localeCompare(b, undefined, { sensitivity: \'base\', numeric: true });\n    });\n\n    // Format output to match F2d.js::createLayerGroups()\n    ret.childCount = layers.length;\n    ret.children = layers.map(function (layerName, index) {\n      return {\n        name: layerName,\n        index: index + 1,\n        id: index + 1,\n        isLayer: true\n      };\n    });\n\n    return ret;\n  };\n\n  /**\n   * Iterates over all database ids and invokes a callback function.\n   *\n   * @param {Function} cb - callback function. Receives a single parameter: the database-id. Have the function return true to abort iteration.\n   * @param {number} fromId - starting id (inclusive)\n   * @param {number} toId - end id (exclusive)\n   *\n   */\n  this.enumObjects = function (cb, fromId, toId) {\n\n    // For a given id, the range in _avs is specified by [offsets[id], _offsets[id+1]].\n    // The last element in _offsets is just the range end of the final range.\n    var idCount = _offsets.length - 1; //== this.getObjectCount()\n\n    if (typeof fromId === "number") {\n      fromId = Math.max(fromId, 1);\n    } else {\n      fromId = 1;\n    }\n\n    if (typeof toId === "number") {\n      toId = Math.min(idCount, toId);\n    } else {\n      toId = idCount;\n    }\n\n    for (var id = fromId; id < toId; id++) {\n      if (cb(id))\n      break;\n    }\n  };\n\n  this.getAttrChild = function () {\n    return _childAttrId;\n  };\n\n  this.getAttrParent = function () {\n    return _parentAttrId;\n  };\n\n  this.getAttrName = function () {\n    return _nameAttrId;\n  };\n\n  this.getAttrLayers = function () {\n    return _layersAttrId;\n  };\n\n  this.getAttrInstanceOf = function () {\n    return _instanceOfAttrId;\n  };\n\n  this.getAttrViewableIn = function () {\n    return _viewableInAttrId;\n  };\n\n  this.getAttrXref = function () {\n    return _externalRefAttrId;\n  };\n\n  this.getAttrNodeFlags = function () {\n    return _nodeFlagsAttrId;\n  };\n\n  /**\n   * Checks whether an attribute is hidden or not.\n   *\n   * @param {number} attrId - The attribute id.\n   *\n   * @returns {boolean} - true if the attribute is a hidden one.\n   */\n  this.attributeHidden = function (attrId) {\n    var _raw = _attrs[attrId];\n    var flags = _raw[6];\n\n    return flags & 1 /*afHidden*/ ||\n    attrId == _parentAttrId ||\n    attrId == _childAttrId ||\n    attrId == _viewableInAttrId ||\n    attrId == _externalRefAttrId;\n  };\n\n  this._attributeIsBlacklisted = function (attrId) {\n    var _raw = _attrs[attrId];\n    var name = _raw[0];\n    var category = _raw[1];\n\n    // IFC/NWD files contains a Source File property which is typically\n    // different between the two versions and cause DiffTool to return noisy diff.\n    // Ignore it for diff calculation. \n    if (_PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.IFC_NWD_ITEM_PROPS_BLACKLISTED.hasOwnProperty(category) && _PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.IFC_NWD_ITEM_PROPS_BLACKLISTED[category].indexOf(name) !== -1)\n    return true;\n\n    //Dimension properties were added at a later time, so\n    //some diffs will fail when comparing a file with vs. file without those.\n    //Anyway, it\'s beter to skip those for diff purposes, since they can have numeric\n    //noise and result in spurious diffs.\n    //See also: https://git.autodesk.com/fluent/modeldb/commit/584d39d5f85a8d2954da557859bb52c224c402af\n    if (_PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.RVT_DIM_PROPS_BLACKLISTED.hasOwnProperty(category) && _PropdbEnums__WEBPACK_IMPORTED_MODULE_2__.RVT_DIM_PROPS_BLACKLISTED[category].indexOf(name) !== -1)\n    return true;\n\n    return false;\n  };\n\n  /**\n   * Checks whether an attribute must be excluded from Diff comparison.\n   * @param {Object} propertyFilter - A key-value pair of category and property names to ignore from Diff\n   * @param {number} attrId - The attribute id.\n   */\n  this._ignoreAttribute = function (propertyFilter, attrId) {\n    var _raw = _attrs[attrId];\n    var name = _raw[0];\n    var category = _raw[1];\n\n    return propertyFilter[category] && propertyFilter[category].has(name);\n  };\n\n  // Returns parent id of dbId or null if there is none. \n  this.findParent = function (dbId) {\n\n    let parent = null;\n    _this.enumObjectProperties(dbId, function (attrId, valId) {\n      if (attrId === _parentAttrId) {\n        parent = _this.getAttrValue(attrId, valId, true);\n      }\n    });\n    return parent;\n  };\n\n  // Helper function for _findDifferences.\n  // Finds all attributeIds and valueIds - including inherited ones.\n  // Results are pushed to \'result\' array as objects { attrId, valId }.\n  // Hidden attributes are excluded.\n  this._getAttributeAndValueIds = function (dbId, result, propertyFilter) {\n\n    let avList = this.getPropertiesSubsetWithInheritance(dbId);\n    let ignorePropertyFlag = propertyFilter && Object.keys(propertyFilter).length >= 1;\n\n    //Convert result to array and sort by attrId so diff can work.\n    for (let i = 0; i < avList.length; i += 2) {\n      let a = avList[i];\n\n      if (this._attributeIsBlacklisted(a) || this.attributeHidden(a))\n      continue;\n\n      // Exclude user-specified properties from diff\n      if (ignorePropertyFlag && this._ignoreAttribute(propertyFilter, a))\n      continue;\n\n      result.push({\n        attrId: a,\n        valId: avList[i + 1]\n      });\n    }\n\n    result.sort(function byIncAtribId(a, b) {\n      return a.attrId - b.attrId;\n    });\n  };\n\n  /* Finds all common dbIds of this and another db for which the properties are not identical.\n   * Hidden attributes are excluded.\n   *  @param {PropertyDatabase} dbToCompare\n   *  @param {Object} [DiffOptions] diffOptions \n   *  @param {function(number)} [onProgress] gets progress values in percent\n   *  @returns {Object} \n   * See PropDbLoader.diffProperties for details about diffOptions and return value.\n   *\n   * NOTE: Current implementation only supports Otg models.\n   *\n   * @private\n   */\n  this.findDifferences = function (dbToCompare, diffOptions, onProgress) {\n\n    var result = {\n      changedIds: []\n    };\n\n    // Optional: Restrict search to the given ids\n    var dbIds = diffOptions && diffOptions.dbIds;\n\n    // Optional: Collect details about which props have changed\n    var listPropChanges = diffOptions && diffOptions.listPropChanges;\n    if (listPropChanges) {\n      result.propChanges = [];\n    }\n\n    //Optional : Collect user-specified properties to ignore for diff\n    let propertyFilter = diffOptions && diffOptions.propertyFilter || {};\n\n    var db1 = this;\n    var db2 = dbToCompare;\n\n    // Reused array of { attrId, valId } pairs.\n    var propIds1 = [];\n    var propIds2 = [];\n\n    // To support instanceOf attributes, we need to recursively check parent attributes/values too. (see getAttributesAndValues)\n    // Since the parent of subsequent dbId is often the same, we cache the parent attribs/values that we got from last call.\n    // This avoids to do the same check several times and can make diff significantly faster.\n    var cachedParentAttribs1 = { result: [], dbId: -1 };\n    var cachedParentAttribs2 = { result: [], dbId: -1 };\n\n    var diffObject = function (dbId) {\n\n      // get sorted array of {attrIds, valIds} pairs for both objects\n      var i1 = 0;\n      var i2 = 0;\n      propIds1.length = 0;\n      propIds2.length = 0;\n\n      db1._getAttributeAndValueIds(dbId, propIds1, propertyFilter, true, cachedParentAttribs1);\n      db2._getAttributeAndValueIds(dbId, propIds2, propertyFilter, true, cachedParentAttribs2);\n\n      if (!propIds1.length || !propIds2.length) {\n        // If an array is empty, this dbId does only exist\n        // in one of the two dbs, i.e, the whole object was added or removed.\n        // We are only interested in prop changes of matching objects.\n        return;\n      }\n\n      var changeFound = false;\n\n      // array of prop changes for current dbId\n      var propChanges = undefined;\n\n      while (i1 < propIds1.length && i2 < propIds2.length) {\n\n        // Note that some values may be undefined if one of the arrays ended.\n        var elem1 = propIds1[i1];\n        var elem2 = propIds2[i2];\n        var a1 = elem1 && elem1.attrId;\n        var v1 = elem1 && elem1.valId;\n        var a2 = elem2 && elem2.attrId;\n        var v2 = elem2 && elem2.valId;\n\n        // If everything is equal, we are done with this attribute\n        if (a1 === a2 && v1 === v2) {\n          i1++;\n          i2++;\n          continue;\n        }\n\n        // If we get here, the current attribute has changed\n        changeFound = true;\n\n        // If no details are requested, we are done with this dbId\n        if (!listPropChanges) {\n          break;\n        }\n\n        // We exploit here that attributeIds in OTG are always sorted in ascending order\n        // Therefore, if a1 > a2, we can safely assume that a1 does not exist in iterator2,\n        // but possibly vice versa.\n        var prop1Missing = a1 === undefined || a1 > a2;\n        var prop2Missing = a2 === undefined || a2 > a1;\n\n        var change = undefined;\n\n        // Handle case that property has been added or removed\n        if (prop1Missing) {\n\n          // property was added in db2\n          change = db2._getObjectProperty(a2, v2);\n          change.displayValueB = change.displayValue;\n          change.displayValue = undefined;\n\n          // a2 has been detected as added. Skip it and continue.\n          i2++;\n        } else if (prop2Missing) {\n\n          // property was removed in db2\n          change = db1._getObjectProperty(a1, v1);\n          change.displayValueB = undefined;\n\n          // a1 has been detected as removed. Skip it and continue.\n          i1++;\n        } else {\n          // attrib exists in both, but value has changed\n          change = db1._getObjectProperty(a1, v1);\n          change.displayValueB = _this.getAttrValue(a2, v2);\n\n          i1++;\n          i2++;\n        }\n\n        // If this is the first prop that change, alloc array for it\n        if (!propChanges) {\n          propChanges = [];\n        }\n\n        propChanges.push(change);\n      }\n\n      // Collect dbId of modified object\n      if (changeFound) {\n        result.changedIds.push(dbId);\n\n        // collect correspondign prop change details\n        if (listPropChanges) {\n          result.propChanges.push(propChanges);\n        }\n      }\n    };\n\n    // Track progress\n    var lastPercent = -1;\n    var trackProgress = function (idsDone, idsTotal) {\n      // Limit calls to 100 - otherwise it would slow-down everything.\n      var percent = Math.floor(100 * idsDone / idsTotal);\n      if (percent != lastPercent) {\n        onProgress && onProgress(percent);\n        lastPercent = percent;\n      }\n    };\n\n    if (dbIds) {\n      // diff selected set of Ids\n      for (var i = 0; i < dbIds.length; i++) {\n        let dbId = dbIds[i];\n        diffObject(dbId);\n        trackProgress(i, dbIds.length);\n      }\n    } else {\n      // diff all objects\n      // Note: We are only searching for common objects that changed. Therefore, the loop\n      //       runs only over dbIds that are within the valid range for both.\n      var dbIdEnd = Math.min(db1.getObjectCount(), this.getObjectCount());\n      for (let dbId = 1; dbId < dbIdEnd; dbId++) {\n        diffObject(dbId);\n        trackProgress(dbId, dbIdEnd);\n      }\n    }\n\n    return result;\n  };\n\n  this.dtor = function () {\n    _attrs = null;\n    _offsets = null;\n    _avs = null;\n    _valuesBlob = null;\n    _valuesOffsets = null;\n    _idsBlob = null;\n    _idsOffsets = null;\n\n    _childAttrId = 0;\n    _parentAttrId = 0;\n    _nameAttrId = 0;\n    _instanceOfAttrId = 0;\n    _viewableInAttrId = 0;\n    _externalRefAttrId = 0;\n    _nodeFlagsAttrId = 0;\n  };\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/PropdbEnums.js":\n/*!******************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/PropdbEnums.js ***!\n  \\******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AttributeFlags: () => (/* binding */ AttributeFlags),\n/* harmony export */   AttributeType: () => (/* binding */ AttributeType),\n/* harmony export */   IFC_NWD_ITEM_PROPS_BLACKLISTED: () => (/* binding */ IFC_NWD_ITEM_PROPS_BLACKLISTED),\n/* harmony export */   RVT_DIM_PROPS_BLACKLISTED: () => (/* binding */ RVT_DIM_PROPS_BLACKLISTED),\n/* harmony export */   isNumericProperty: () => (/* binding */ isNumericProperty)\n/* harmony export */ });\n/**\n * Numeric values and their meanings associated to {@link PropertyResult|PropertyResult.type}.\n *\n * @readonly\n * @alias AttributeType\n * @default\n */\nvar AttributeType =\n{\n  //Numeric types\n  Unknown: 0,\n  Boolean: 1,\n  Integer: 2,\n  Double: 3,\n  Float: 4,\n\n  //Special types\n  BLOB: 10,\n  DbKey: 11, /* represents a link to another object in the database, using database internal ID */\n\n  //String types \n  String: 20,\n  LocalizableString: 21,\n  DateTime: 22, /* ISO 8601 date */\n  GeoLocation: 23, /* LatLonHeight - ISO6709 Annex H string, e.g: "+27.5916+086.5640+8850/" for Mount Everest */\n  Position: 24 /* "x y z w" space separated string representing vector with 2,3 or 4 elements*/\n\n  //TODO: Do we need explicit logical types for any others?\n};\n\n//Bitmask values for boolean attribute options\nvar AttributeFlags =\n{\n  afHidden: 1 << 0, /* Attribute will not be displayed in default GUI property views. */\n  afDontIndex: 1 << 1, /* Attribute will not be indexed by the search service. */\n  afDirectStorage: 1 << 2, /* Attribute is not worth de-duplicating (e.g. vertex data or dbId reference) */\n  afReadOnly: 1 << 3 /* Attribute is read-only (used when writing back to the design model, in e.g. Revit) */\n};\n\n//Used by property diff\nvar RVT_DIM_PROPS_BLACKLISTED = {\n  "Dimensions": [\n  "Perimeter",\n  "Volume",\n  "Area",\n  "Length",\n  "Width",\n  "Height"]\n\n};\n\nvar IFC_NWD_ITEM_PROPS_BLACKLISTED = {\n  "Item": [\n  "Source File"]\n\n};\n\n\n/**\n * Determines if the property types is numeric\n * @param {AttributeType} propertyType \n * @returns {boolean}\n */\nconst isNumericProperty = (propertyType) => {\n  return [AttributeType.Integer, AttributeType.Double, AttributeType.Float].includes(propertyType);\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/SearchUtils.js":\n/*!******************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/SearchUtils.js ***!\n  \\******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   binarySearch: () => (/* binding */ binarySearch)\n/* harmony export */ });\n\n\n/**\n * Finds the index of a number in a sorted Array or numbers. \n * \n * @param sortedArray Array of sorted numbers to search in.\n * @param key number value to find.\n * @returns index of the value in the array, or -1 if not found.  \n */\nfunction binarySearch(sortedArray, key) {\n\n  let start = 0;\n  let end = sortedArray.length - 1;\n  let mid;\n\n  while (start <= end)\n  {\n    mid = (start + end) / 2 | 0;\n    if (key === sortedArray[mid])\n    return mid;else\n    if (key < sortedArray[mid])\n    end = mid - 1;else\n    start = mid + 1;\n  }\n  return -1;\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/StringUtils.js":\n/*!******************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/StringUtils.js ***!\n  \\******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   blobToJson: () => (/* binding */ blobToJson),\n/* harmony export */   findValueOffsets: () => (/* binding */ findValueOffsets),\n/* harmony export */   parseIntArray: () => (/* binding */ parseIntArray),\n/* harmony export */   safeUtf8BlobToStr: () => (/* binding */ safeUtf8BlobToStr),\n/* harmony export */   subBlobToJson: () => (/* binding */ subBlobToJson),\n/* harmony export */   subBlobToJsonInt: () => (/* binding */ subBlobToJsonInt),\n/* harmony export */   utf16to8: () => (/* binding */ utf16to8),\n/* harmony export */   utf8ArrayToString: () => (/* binding */ utf8ArrayToString),\n/* harmony export */   utf8BlobToStr: () => (/* binding */ utf8BlobToStr)\n/* harmony export */ });\n\n\n// http://www.onicos.com/staff/iz/amuse/javascript/expert/utf.txt\n/* utf.js - UTF-8 <=> UTF-16 convertion\n *\n * Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>\n * Version: 1.0\n * LastModified: Dec 25 1999\n * This library is free.  You can redistribute it and/or modify it.\n */\nfunction utf8BlobToStr(array, start, length) {\n  var out, i, len, c;\n  var char2, char3;\n\n  out = \'\';\n  len = length;\n  i = 0;\n  while (i < len) {\n    c = array[start + i++];\n    switch (c >> 4) {\n\n      case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:\n        // 0xxxxxxx\n        out += String.fromCharCode(c);\n        break;\n      case 12:case 13:\n        // 110x xxxx   10xx xxxx\n        char2 = array[start + i++];\n        out += String.fromCharCode((c & 0x1F) << 6 | char2 & 0x3F);\n        break;\n      case 14:\n        // 1110 xxxx  10xx xxxx  10xx xxxx\n        char2 = array[start + i++];\n        char3 = array[start + i++];\n        out += String.fromCharCode((c & 0x0F) << 12 |\n        (char2 & 0x3F) << 6 |\n        (char3 & 0x3F) << 0);\n        break;\n    }\n  }\n\n  return out;\n}\n\n/**\n * Safe version of utf8BlobToStr(), where Arrays are used to concatenate chars via join().\n * This function exists because string::operator += crashes on Chrome with large inputs.\n */\nfunction safeUtf8BlobToStr(array, start, length) {\n  var out, i, len, c, outArray, count;\n  var char2, char3;\n\n  var STR_CVT_LIMIT = 32 * 1024;\n  out = \'\';\n  outArray = [];\n  len = length;\n  count = 0;\n  i = 0;\n  while (i < len) {\n    c = array[start + i++];\n    switch (c >> 4) {\n\n      case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:\n        // 0xxxxxxx\n        outArray.push(String.fromCharCode(c));\n        break;\n      case 12:case 13:\n        // 110x xxxx   10xx xxxx\n        char2 = array[start + i++];\n        outArray.push(String.fromCharCode((c & 0x1F) << 6 | char2 & 0x3F));\n        break;\n      case 14:\n        // 1110 xxxx  10xx xxxx  10xx xxxx\n        char2 = array[start + i++];\n        char3 = array[start + i++];\n        outArray.push(String.fromCharCode((c & 0x0F) << 12 |\n        (char2 & 0x3F) << 6 |\n        (char3 & 0x3F) << 0));\n        break;\n    }\n    if (++count >= STR_CVT_LIMIT || i >= len) {\n      out += outArray.join("");\n      outArray.length = 0;\n      count = 0;\n    }\n  }\n\n  return out;\n}\n\n\nfunction utf16to8(str, array, start) {\n  var i, len, c;\n\n  var j = start || 0;\n  len = str.length;\n\n  if (array) {\n    for (i = 0; i < len; i++) {\n      c = str.charCodeAt(i);\n      if (c >= 0x0001 && c <= 0x007F) {\n        array[j++] = c;\n      } else if (c > 0x07FF) {\n        array[j++] = 0xE0 | c >> 12 & 0x0F;\n        array[j++] = 0x80 | c >> 6 & 0x3F;\n        array[j++] = 0x80 | c >> 0 & 0x3F;\n      } else {\n        array[j++] = 0xC0 | c >> 6 & 0x1F;\n        array[j++] = 0x80 | c >> 0 & 0x3F;\n      }\n    }\n  } else {\n    //If no output buffer is passed in, estimate the required\n    //buffer size and return that.\n    for (i = 0; i < len; i++) {\n      c = str.charCodeAt(i);\n      if (c >= 0x0001 && c <= 0x007F) {\n        j++;\n      } else if (c > 0x07FF) {\n        j += 3;\n      } else {\n        j += 2;\n      }\n    }\n  }\n\n  return j - (start || 0);\n}\n\n\nvar USE_MANUAL_UTF8 = true;\nvar SAFE_UTF_LENGTH = 1024 * 1024;\n\nfunction utf8ArrayToString(array, start, length) {\n\n  if (start === undefined)\n  start = 0;\n  if (length === undefined)\n  length = array.length;\n\n  if (USE_MANUAL_UTF8) {\n    if (length > SAFE_UTF_LENGTH) {\n      return safeUtf8BlobToStr(array, start, length);\n    }\n    return utf8BlobToStr(array, start, length);\n  } else {\n    var encodedString = "";\n    for (var i = start, iEnd = start + length; i < iEnd; i++)\n    encodedString += String.fromCharCode(array[i]);\n\n    return decodeURIComponent(escape(encodedString));\n  }\n}\n\nfunction blobToJson(blob) {\n\n  var decodedString = utf8ArrayToString(blob, 0, blob.length);\n\n  const regex = /\\u000e/gi;\n  // LMV-6005 Some blobs contained a Shift Out unicode character that could not be parsed by JSON.parse\n  // This caused the property data base to not load.\n  decodedString = decodedString.replace(regex, \'\');\n\n  return JSON.parse(decodedString);\n}\n\n//parses a piece of json from a given blob (representing an array of json values)\n//up to the next comma+newline combo (i.e. array delimiter).\nfunction subBlobToJson(blob, startIndex) {\n  if (startIndex === undefined) {\n    return \'\';\n  }\n\n  var i = startIndex;\n\n  while (i < blob.length - 1) {\n    var c = blob[i];\n    if (c == 44 && (blob[i + 1] == 10 || blob[i + 1] == 13)) //comma followed by newline?\n      break;\n    if (c == 10 || c == 13) //detect newline or line feed\n      break;\n    i++;\n  }\n\n  var decodedString = utf8ArrayToString(blob, startIndex, i - startIndex);\n  try {\n    return JSON.parse(decodedString);\n  } catch (e) {\n    console.error("Error parsing property blob to JSON : " + decodedString);\n    return decodedString;\n  }\n}\n\nfunction subBlobToJsonInt(blob, startIndex) {\n  var val = 0;\n  var i = startIndex;\n\n  //Check for integers that were serialized as strings.\n  //This should not happen, ever, but hey, it does.\n  if (blob[i] == 34)\n  i++;\n\n  while (i < blob.length - 1) {\n    var c = blob[i];\n    if (c == 44 && (blob[i + 1] == 10 || blob[i + 1] == 13))\n    break;\n    if (c == 10 || c == 13 || c == 34)\n    break;\n    if (c >= 48 && c <= 57)\n    val = val * 10 + (c - 48);\n\n    i++;\n  }\n\n  return val;\n}\n\n//Simple integer array parse -- expects the array in property database\n//format, where the array is packed with possibly newline separator,\n//but no other white space. Does not do extensive error checking\nfunction parseIntArray(blob, wantSentinel) {\n\n  //find out how many items we have\n  var count = 0;\n  for (var i = 0, iEnd = blob.length; i < iEnd; i++)\n  if (blob[i] == 44) //44 = \',\'\n    count++;\n\n  count++; //last item has no comma after it\n\n  var items = new Uint32Array(count + (wantSentinel ? 1 : 0));\n\n  i = 0;\n  var end = blob.length;\n\n  while (blob[i] != 91 && i < end) //91 = \'[\'\n  i++;\n\n  if (i == blob.length)\n  return null;\n\n  i++;\n\n  var seenDigit = false;\n  count = 0;\n  var curInt = 0;\n  while (i < end) {\n    var c = blob[i];\n    if (c >= 48 && c <= 57) {//digit\n      curInt = 10 * curInt + (c - 48);\n      seenDigit = true;\n    } else\n    if (c == 44 || c == 93) {//\',\' or \']\'\n      if (seenDigit) {\n        items[count++] = curInt;\n        seenDigit = false;\n        curInt = 0;\n      }\n    } else {\n      seenDigit = false; //most likely a newline (the only other thing we have in our arrays\n      curInt = 0;\n    }\n    i++;\n  }\n\n  return items;\n}\n\n//Scans an array of json values (strings, integers, doubles) and finds the\n//offset of each value in the array, so that we can later pick off that\n//specific value, without parsing the whole (potentially huge) json array up front.\n//This expects the input blob to be in the form serialized by the property database\n//C++ component -- one value per line. A more sophisticated parser would be needed\n//in case the format changes and this assumption is not true anymore.\nfunction findValueOffsets(blob) {\n\n  //first, count how many items we have\n  var count = 0;\n  var end = blob.length - 1;\n\n  for (var i = 0; i < end; i++) {\n    if (blob[i] == 44 && (blob[i + 1] == 10 || blob[i + 1] == 13)) // \',\' + newline is the item delimiter\n      count++;\n  }\n\n  if (!count)\n  return null;\n\n  count++; //one for the last item\n\n  var items = new Uint32Array(count);\n\n  i = 0;\n  count = 0;\n\n  //find opening [\n  while (blob[i] != 91 && i < end) //91 = \'[\'\n  i++;\n\n  i++;\n\n  items[count++] = i;\n  var seenEol = false;\n  while (i < end) {\n    if (blob[i] == 10 || blob[i] == 13)\n    seenEol = true;else\n    if (seenEol) {\n      seenEol = false;\n      items[count++] = i;\n    }\n\n    i++;\n  }\n\n  return items;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/SvfPlacementUtils.js":\n/*!************************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/SvfPlacementUtils.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculatePlacementWithOffset: () => (/* binding */ calculatePlacementWithOffset),\n/* harmony export */   derivePlacementTransform: () => (/* binding */ derivePlacementTransform),\n/* harmony export */   initPlacement: () => (/* binding */ initPlacement),\n/* harmony export */   transformAnimations: () => (/* binding */ transformAnimations),\n/* harmony export */   transformCameraData: () => (/* binding */ transformCameraData)\n/* harmony export */ });\n/* harmony import */ var _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../wgs/scene/LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/* harmony import */ var _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../wgs/scene/LmvBox3 */ "./src/wgs/scene/LmvBox3.js");\n/* harmony import */ var _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../wgs/scene/LmvMatrix4 */ "./src/wgs/scene/LmvMatrix4.js");\n\n\n\n\n\nfunction getUnitScale(unit) {\n  //Why are translators not using standard strings for those?!?!?!?\n  switch (unit) {\n    case \'meter\':\n    case \'meters\':\n    case \'m\':return 1.0;\n    case \'feet and inches\':\n    case \'foot\':\n    case \'feet\':\n    case \'ft\':return 0.3048;\n    case \'inch\':\n    case \'inches\':\n    case \'in\':return 0.0254;\n    case \'centimeter\':\n    case \'centimeters\':\n    case \'cm\':return 0.01;\n    case \'millimeter\':\n    case \'millimeters\':\n    case \'mm\':return 0.001;\n    default:return 1.0;\n  }\n}\n\n\nfunction isIdentity(mtx) {\n  var e = mtx.elements;\n  for (var i = 0; i < 4; i++) {\n    for (var j = 0; j < 4; j++) {\n      if (i === j) {\n        if (e[i * 4 + j] !== 1)\n        return false;\n      } else {\n        if (e[i * 4 + j] !== 0)\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\n\nfunction derivePlacementTransform(svf, loadContext) {\n\n  // We now will apply overall model transforms, following the following logic:\n  //    1) placementTransform = options.placementTransform);\n  //    2) placementTransform = placementTransform.multiply(scalingTransform);\n  //    3) placementTransform = placementTransform.multiply(refPointTransform);\n  // This is for aggregation scenarios, where multiple models are loaded into the scene\n  // In such scenarios the client will most probably manually override the model units\n\n\n  //First, take the input placement transform as is (could be null).\n  svf.placementTransform = loadContext.placementTransform;\n\n  // If requested in the load options, apply scaling from optional \'from\' to \'to\' units.\n  // If unpecified, then units will be read from the models metadata.\n  // * usage overloads\n  //      options.appyScaling: { from: \'ft\', to: \'m\' }\n  //      options.appyScaling: \'m\'   ( equivalent to { to: \'m\' })\n  // * this is aimed at multiple 3D model situations where models potentialy have different units, but\n  //   one  doesn\'t up-front know what these units are.It also allows overriding of such units.\n  // * Model methods: getUnitString , getUnitScale &  getDisplayUnit will be automatically return corrected values\n  //   as long as there are no additional options.placementTransform scalings applied.\n  if (loadContext.applyScaling) {\n\n    // default \'from\' & \'to\'  units are from metadata, or \'m\' not present\n    var scalingFromUnit = \'m\';\n    if (svf.metadata["distance unit"]) {\n      scalingFromUnit = svf.metadata["distance unit"]["value"];\n    }\n    svf.scalingUnit = scalingFromUnit;\n\n    if (\'object\' === typeof loadContext.applyScaling) {\n      if (loadContext.applyScaling.from) {\n        scalingFromUnit = loadContext.applyScaling.from;\n      }\n      if (loadContext.applyScaling.to) {\n        svf.scalingUnit = loadContext.applyScaling.to;\n      }\n    } else {\n      svf.scalingUnit = loadContext.applyScaling;\n    }\n\n\n    // Work out overall desired scaling factor.\n    var scalingFactor = getUnitScale(scalingFromUnit) / getUnitScale(svf.scalingUnit);\n\n    if (1 != scalingFactor) {\n\n      var placementS = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n\n      var scalingTransform = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n      scalingTransform.elements[0] = scalingFactor;\n      scalingTransform.elements[5] = scalingFactor;\n      scalingTransform.elements[10] = scalingFactor;\n\n      if (loadContext.placementTransform) {\n        // There may well already be a placementTransform from previous options/operations.\n        placementS.copy(loadContext.placementTransform);\n\n      }\n\n      // Combine (optional) placementTransform with scaling\n      if (loadContext.applyPlacementInModelUnits) {\n        // Apply placementMatrix first, then scale to viewer world units. In this way,\n        // the placementMatrix is handled in the same way as a refPointTransform.\n        loadContext.placementTransform = scalingTransform.multiply(placementS);\n      } else {\n        // Apply unitScaling first, then placementTransform\n        loadContext.placementTransform = placementS.multiply(scalingTransform);\n      }\n      svf.placementTransform = loadContext.placementTransform;\n\n      // Store scalingFactor, so that we know which unitScaling was applied to this model.\n      // Multiplying with this factor converts model file units to viewer world units.\n      svf.scalingFactor = scalingFactor;\n    }\n  }\n\n\n  var custom_values = svf.metadata["custom values"];\n\n  if (custom_values && custom_values.refPointTransform) {\n\n    svf.refPointTransform = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n    var e = svf.refPointTransform.elements;\n    var src = custom_values.refPointTransform;\n\n    e[0] = src[0];\n    e[1] = src[1];\n    e[2] = src[2];\n\n    e[4] = src[3];\n    e[5] = src[4];\n    e[6] = src[5];\n\n    e[8] = src[6];\n    e[9] = src[7];\n    e[10] = src[8];\n\n    e[12] = src[9];\n    e[13] = src[10];\n    e[14] = src[11];\n\n  } else {\n    //Is there an extra offset specified in the georeference?\n    //This is important when aggregating Revit models from the same Revit\n    //project into the same scene, because Revit SVFs use RVT internal coordinates, which\n    //need extra offset to get into the world space.\n    var georeference = svf.metadata["georeference"];\n    var refPointLMV = georeference && georeference["refPointLMV"];\n\n    var angle = 0;\n    if (custom_values && custom_values.hasOwnProperty("angleToTrueNorth")) {\n      angle = Math.PI / 180.0 * custom_values["angleToTrueNorth"];\n    }\n\n    if (refPointLMV || angle) {\n\n      var rotation = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n      var m = rotation.elements;\n      m[0] = m[5] = Math.cos(angle);\n      m[1] = -Math.sin(angle);\n      m[4] = Math.sin(angle);\n\n      //refPointLMV is given in model local coordinates, hence the negation needed\n      //to make the translation go from local to shared coordinates.\n      var offset = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n      m = offset.elements;\n      if (refPointLMV) {\n        m[12] = -refPointLMV[0];\n        m[13] = -refPointLMV[1];\n        m[14] = -refPointLMV[2];\n      }\n\n      //Compose the rotation and offset.\n      svf.refPointTransform = rotation.multiply(offset);\n    }\n  }\n\n  //If request in the load options, apply the reference point transform when loading the model\n  if (loadContext.applyRefPoint && svf.refPointTransform) {\n\n    var placement = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n\n    //Normally we expect the input placement transform to come in as identity in case\n    //we have it specified in the georef here, but, whatever, let\'s be thorough for once.\n    if (loadContext.placementTransform)\n    placement.copy(loadContext.placementTransform);\n\n    placement.multiply(svf.refPointTransform);\n\n    svf.placementTransform = loadContext.placementTransform = placement;\n\n  } else if (!loadContext.applyRefPoint && loadContext.placementTransform) {\n\n    //In case we are given a placement transform that overrides the icoming refPointTransform\n\n    svf.placementTransform = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true).copy(loadContext.placementTransform);\n\n  }\n\n  if (svf.placementTransform && isIdentity(svf.placementTransform))\n  svf.placementTransform = null;\n\n  return svf.placementTransform;\n}\n\nfunction calculatePlacementWithOffset(svf, pt) {\n  var go = svf.globalOffset;\n  if (go.x || go.y || go.z) {\n    if (!pt) {\n      pt = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n      pt.makeTranslation(-go.x, -go.y, -go.z);\n    } else {\n      var pt2 = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4(true);\n      pt2.copy(pt);\n      pt = pt2;\n      pt.elements[12] -= go.x;\n      pt.elements[13] -= go.y;\n      pt.elements[14] -= go.z;\n    }\n\n    svf.placementWithOffset = pt;\n  } else {\n    svf.placementWithOffset = pt;\n  }\n}\n\nfunction initPlacement(svf, loadContext) {\n\n  if (!svf.metadata)\n  return;\n\n  //Retrieve world bounding box\n  var bbox = svf.metadata["world bounding box"];\n  var min = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(bbox.minXYZ[0], bbox.minXYZ[1], bbox.minXYZ[2]);\n  var max = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(bbox.maxXYZ[0], bbox.maxXYZ[1], bbox.maxXYZ[2]);\n  svf.bbox = new _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_1__.LmvBox3(min, max);\n  svf.modelSpaceBBox = svf.bbox.clone();\n\n  var pt = derivePlacementTransform(svf, loadContext);\n  if (pt && !svf.bbox.isEmpty()) {\n    svf.bbox.applyMatrix4(pt);\n  }\n\n  //Global offset is used to avoid floating point precision issues for models\n  //located enormous distances from the origin. The default is to move the model to the origin\n  //but it can be overridden in case of model aggregation scenarios, where multiple\n  //models are loaded into the scene and a common offset is needed for all.\n  if (loadContext.globalOffset) {\n    // Apply user-defined globalOffset\n    svf.globalOffset = loadContext.globalOffset;\n  } else {\n    // Choose global offset automatically at the center of the placmenent transformed model. \n    svf.globalOffset = svf.bbox.getCenter(new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3());\n  }\n\n  calculatePlacementWithOffset(svf, pt);\n\n  // The model boundingBox must finally be in viewer-coords, just like everything else. I.e. with subtracted offset.\n  // Therefore, we have to subtract the globaloffset from bbox as well.\n  if (!svf.bbox.isEmpty()) {\n    svf.bbox.min.sub(svf.globalOffset);\n    svf.bbox.max.sub(svf.globalOffset);\n  }\n\n  if (svf.metadata.hasOwnProperty("double sided geometry") &&\n  svf.metadata["double sided geometry"]["value"]) //TODO: do we want to check the global flag or drop that and rely on material only?\n    {\n      svf.doubleSided = true;\n    }\n\n}\n\nfunction applyOffset(a, offset) {\n  a[0] -= offset.x;\n  a[1] -= offset.y;\n  a[2] -= offset.z;\n}\n\n\nfunction transformAnimations(svf) {\n\n  if (!svf.animations)\n  return;\n\n  // apply global offset to animations\n  var animations = svf.animations["animations"];\n  if (animations) {\n    var globalOffset = svf.globalOffset;\n    var t = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4().makeTranslation(globalOffset.x, globalOffset.y, globalOffset.z);\n    var tinv = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4().makeTranslation(-globalOffset.x, -globalOffset.y, -globalOffset.z);\n    var r = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4();\n    var m = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_2__.LmvMatrix4();\n    for (var a = 0; a < animations.length; a++) {\n      var anim = animations[a];\n      if (anim.hierarchy) {\n        for (var h = 0; h < anim.hierarchy.length; h++) {\n          var keys = anim.hierarchy[h].keys;\n          if (keys) {\n            for (var k = 0; k < keys.length; k++) {\n              var pos = keys[k].pos;\n              if (pos) {\n                var offset = globalOffset;\n                var rot = keys[k].rot;\n                if (rot) {\n                  r.makeRotationFromQuaternion({ x: rot[0], y: rot[1], z: rot[2], w: rot[3] });\n                  m.multiplyMatrices(t, r).multiply(tinv);\n                  offset = { x: m.elements[12], y: m.elements[13], z: m.elements[14] };\n                }\n                applyOffset(pos, offset);\n              }\n              var target = keys[k].target;\n              if (target) {\n                applyOffset(target, globalOffset);\n              }\n              var points = keys[k].points;\n              if (points) {\n                for (var p = 0; p < points.length; p++) {\n                  applyOffset(points[p], globalOffset);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n// Apply transform (if any) to given camera data with { position, target, up, orthoScale }\nfunction transformCameraData(cam, transform) {\n\n  if (!transform) {\n    return;\n  }\n\n  transform.transformPoint(cam.position);\n  transform.transformPoint(cam.target);\n  transform.transformDirection(cam.up);\n\n  // If the placement includes scaling (either by unit scaling or manually included \n  // in the placement transform), orthoScale values need to be scaled as well.\n  //\n  // Note: We don\'t support non-uniform scaling well. However, home-views cannot be recovered\n  //       anyway if the model is distorted with non-uniform transforms.\n  if (isFinite(cam.orthoScale)) {\n    const scale = transform.getMaxScaleOnAxis();\n    cam.orthoScale *= scale;\n  }\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/VbUtils.js":\n/*!**************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/VbUtils.js ***!\n  \\**************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VBUtils: () => (/* binding */ VBUtils)\n/* harmony export */ });\n\n\n\nconst VBUtils = {\n\n\n  deduceUVRepetition: function (mesh) {\n\n    for (var p in mesh.vblayout) {\n\n      if (p.indexOf("uv") != 0 || p.indexOf("uvw") == 0)\n      continue;\n\n      var baseOffset = mesh.vblayout[p].offset;\n      var floatStride = mesh.vbstride;\n      var vbf = mesh.vb;\n      var vcount = mesh.vb.length / floatStride;\n\n      for (var i = 0, offset = baseOffset; i < vcount; i++, offset += floatStride)\n      {\n        var u = vbf[offset];\n        var v = vbf[offset + 1];\n        if (u > 2 || u < 0 || v > 2 || v < 0) {\n          mesh.vblayout[p].isPattern = true;\n          break;\n        }\n      }\n    }\n  },\n\n\n  //Calculate the 3D bounding box and bounding sphere\n  //of a mesh containing an interleaved vertex buffer\n  computeBounds3D: function (mesh) {\n\n    var minx = Infinity,miny = Infinity,minz = Infinity;\n    var maxx = -Infinity,maxy = -Infinity,maxz = -Infinity;\n    var i, offset, x, y, z;\n\n    var floatStride = mesh.vbstride;\n    var baseOffset = mesh.vblayout.position.offset;\n    var vbf = mesh.vb;\n    var vcount = mesh.vb.length / floatStride;\n\n    for (i = 0, offset = baseOffset; i < vcount; i++, offset += floatStride)\n    {\n      x = vbf[offset];\n      y = vbf[offset + 1];\n      z = vbf[offset + 2];\n\n      if (minx > x) minx = x;\n      if (miny > y) miny = y;\n      if (minz > z) minz = z;\n\n      if (maxx < x) maxx = x;\n      if (maxy < y) maxy = y;\n      if (maxz < z) maxz = z;\n    }\n\n    var bb = mesh.boundingBox = {\n      min: { x: minx, y: miny, z: minz },\n      max: { x: maxx, y: maxy, z: maxz }\n    };\n\n    var cx = 0.5 * (minx + maxx),cy = 0.5 * (miny + maxy),cz = 0.5 * (minz + maxz);\n\n    var bs = mesh.boundingSphere = {};\n    bs.center = { x: cx, y: cy, z: cz };\n\n    var maxRadiusSq = 0;\n    for (i = 0, offset = baseOffset; i < vcount; i++, offset += floatStride) {\n\n      x = vbf[offset];\n      y = vbf[offset + 1];\n      z = vbf[offset + 2];\n\n      var dx = x - cx;\n      var dy = y - cy;\n      var dz = z - cz;\n      var distsq = dx * dx + dy * dy + dz * dz;\n      if (distsq > maxRadiusSq)\n      maxRadiusSq = distsq;\n    }\n\n    bs.radius = Math.sqrt(maxRadiusSq);\n\n  },\n\n  bboxUnion: function (bdst, bsrc) {\n    if (bsrc.min.x < bdst.min.x)\n    bdst.min.x = bsrc.min.x;\n    if (bsrc.min.y < bdst.min.y)\n    bdst.min.y = bsrc.min.y;\n    if (bsrc.min.z < bdst.min.z)\n    bdst.min.z = bsrc.min.z;\n\n    if (bsrc.max.x > bdst.max.x)\n    bdst.max.x = bsrc.max.x;\n    if (bsrc.max.y > bdst.max.y)\n    bdst.max.y = bsrc.max.y;\n    if (bsrc.max.z > bdst.max.z)\n    bdst.max.z = bsrc.max.z;\n  }\n\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/VertexBufferBuilder.js":\n/*!**************************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/VertexBufferBuilder.js ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VertexBufferBuilder: () => (/* binding */ VertexBufferBuilder)\n/* harmony export */ });\n\n\n\nvar TAU = Math.PI * 2;\n\nvar VBB_GT_TRIANGLE_INDEXED = 0,\n  VBB_GT_LINE_SEGMENT = 1,\n  VBB_GT_ARC_CIRCULAR = 2,\n  VBB_GT_ARC_ELLIPTICAL = 3,\n  VBB_GT_TEX_QUAD = 4,\n  VBB_GT_ONE_TRIANGLE = 5,\n  VBB_GT_MSDF_TRIANGLE_INDEXED = 6,\n  VBB_GT_TEX_TRIANGLE_INDEXED = 7,\n  VBB_GT_LINE_SEGMENT_CAPPED = 8,\n  VBB_GT_LINE_SEGMENT_CAPPED_START = 9,\n  VBB_GT_LINE_SEGMENT_CAPPED_END = 10,\n  VBB_GT_LINE_SEGMENT_MITER = 11;\n\nvar VBB_INSTANCED_FLAG = 0, // this is intentionally 0 for the instancing case!\n  VBB_SEG_START_RIGHT = 0, // this starts intentionally at 0!\n  VBB_SEG_START_LEFT = 1,\n  VBB_SEG_END_RIGHT = 2,\n  VBB_SEG_END_LEFT = 3;\n\nvar VBB_COLOR_OFFSET = 6,\n  VBB_DBID_OFFSET = 7,\n  VBB_FLAGS_OFFSET = 8,\n  VBB_LAYER_VP_OFFSET = 9;\n\nvar QUAD_TRIANGLE_INDICES = [0, 1, 3, 0, 3, 2];\n\n// align changes here with the uniforms in LineShaderSS.js!!!\nvar VBB_MITER_SEGMENT_SCALE_FACTOR = 1023.0;\nvar VBB_MITER_SEGMENT_CP = 65536.0;\n\n// VBB_MITER_SEGMENT_SCALE_FACTOR * VBB_MITER_SEGMENT_MAX < VBB_MITER_SEGMENT_CP\nvar VBB_MITER_SEGMENT_MAX = 64.0;\n\nfunction VertexBufferBuilder(useInstancing, allocSize, fullCount, useCompactBuffers)\n{\n  var MAX_VCOUNT = allocSize || 65536;\n  this.FULL_COUNT = (fullCount || 32767) | 0;\n\n  this.useInstancing = useInstancing;\n  this.useCompactBuffers = useCompactBuffers;\n\n  this.stride = 10;\n  this.allocVcount = 4 * (this.useInstancing ? MAX_VCOUNT / 4 : MAX_VCOUNT);\n\n  this.vb = new ArrayBuffer(this.stride * this.allocVcount);\n  this.vbf = new Float32Array(this.vb);\n  this.vbi = new Int32Array(this.vb);\n  this.ib = this.useInstancing ? null : new Uint16Array(MAX_VCOUNT);\n  this.minLineWidth = Number.MAX_VALUE;\n  this.reset(0);\n\n}\n\nVertexBufferBuilder.prototype.reset = function (vcount) {\n  // This is used to restore the vcount when restoring stream state as well as at init time.\n  this.vcount = vcount;\n\n  this.icount = 0;\n\n  this.minx = this.miny = Infinity;\n  this.maxx = this.maxy = -Infinity;\n\n  //Keeps track of objectIds referenced by geometry in the VB\n  this.dbIds = {};\n  this.lastDbId = null;\n\n  //Keep track of unique colors used by this VB\n  this.colors = {};\n\n  this.numEllipticals = 0;\n  this.numCirculars = 0;\n  this.numTriangleGeoms = 0;\n  this.numMiterLines = 0;\n\n  // If false, all lines are of type 0 (solid), so that we don\'t need line-pattern support.\n  this.hasLineStyles = false;\n\n  //Certain fields can be invariant over large numbers of primitives.\n  //We keep track of those in order to optimize the vertex layout by\n  //pulling invariants into shader uniforms.\n  this.changeTracking = {};\n\n  this.stride = 10;\n};\n\nVertexBufferBuilder.prototype.expandStride = function ()\n{\n  //Currently hardcoded to expand by 4 floats.\n  var expandBy = 2;\n\n  var stride = this.stride;\n\n  if (stride >= 12)\n  return;\n\n  var nstride = this.stride + expandBy;\n\n  var nvb = new ArrayBuffer(nstride * this.allocVcount);\n\n  var src = new Uint8Array(this.vb);\n  var dst = new Uint8Array(nvb);\n\n  for (var i = 0, iEnd = this.vcount; i < iEnd; i++) {\n    var os = i * stride * 4;\n    var od = i * nstride * 4;\n\n    for (var j = 0; j < stride * 4; j++)\n    dst[od + j] = src[os + j];\n  }\n\n  this.vb = nvb;\n  this.vbf = new Float32Array(nvb);\n  this.vbi = new Int32Array(nvb);\n  this.stride = nstride;\n\n};\n\nVertexBufferBuilder.prototype.addToBounds = function (x, y)\n{\n  if (x < this.minx) this.minx = x;\n  if (x > this.maxx) this.maxx = x;\n  if (y < this.miny) this.miny = y;\n  if (y > this.maxy) this.maxy = y;\n};\n\nvar _toInt32 = new Int32Array(1);\nfunction toInt32(c) {\n  _toInt32[0] = c;\n  return _toInt32[0];\n}\n\nVertexBufferBuilder.prototype.trackChanges = function (geomType, color, dbId, layerId, vpId, linePattern) {\n\n  if (dbId !== this.lastDbId) {\n    this.dbIds[toInt32(dbId)] = 1;\n    this.lastDbId = dbId;\n  }\n\n  if (linePattern) {\n    this.hasLineStyles = true;\n  }\n\n  if (!this.useCompactBuffers)\n  return;\n\n  var ct = this.changeTracking;\n\n  function checkOne(whichAttr, val) {\n    if (ct[whichAttr] === undefined)\n    ct[whichAttr] = geomType;else\n    if (ct[whichAttr] === val)\n    ct[whichAttr + "Varies"] = true;\n  }\n\n  checkOne("geomType", geomType);\n  checkOne("color", color);\n  checkOne("dbId", dbId);\n  checkOne("layerId", layerId);\n  checkOne("viewportId", vpId);\n  checkOne("linePattern", linePattern);\n\n  this.colors[toInt32(color)] = 1;\n};\n\n\nVertexBufferBuilder.prototype.setCommonVertexAttribs = function (offset, vertexId, geomType, color, dbId, layerId, vpId, linePattern)\n{\n  this.trackChanges(geomType, color, dbId, layerId, vpId, linePattern);\n\n  // align changes here with the "decodeCommonAttribs()" function in LineShader.js and VertexBufferReader.js!!!\n  vertexId = vertexId & 0xff; //  8 bit\n  geomType = geomType & 0xff; //  8 bit\n  linePattern = linePattern & 0xff; //  8 bit\n  layerId = layerId & 0xffff; // 16 bit\n  vpId = vpId & 0xffff; // 16 bit\n\n  this.vbi[offset + VBB_FLAGS_OFFSET] = vertexId | geomType << 8 | linePattern << 16; // vertexId: int8; geomType: int8; linePattern: int8; ghostingFlag: int8\n  this.vbi[offset + VBB_COLOR_OFFSET] = color;\n  this.vbi[offset + VBB_DBID_OFFSET] = dbId;\n  this.vbi[offset + VBB_LAYER_VP_OFFSET] = layerId | vpId << 16; // layerId: int16; vpId: int16\n};\n\n//Creates a non-indexed triangle geometry vertex (triangle vertex coords stored in single vertex structure)\nVertexBufferBuilder.prototype.addVertexTriangleGeom = function (x1, y1, x2, y2, x3, y3, color, dbId, layerId, vpId)\n{\n  var vi = this.vcount;\n  var vbf = this.vbf;\n\n  var repeat = this.useInstancing ? 1 : 4;\n  for (var i = 0; i < repeat; i++) {\n    var offset = (vi + i) * this.stride;\n\n    // align changes here with the "decodeTriangleData()" function in LineShader.js!!!\n    vbf[offset] = x1;\n    vbf[offset + 1] = y1;\n    vbf[offset + 2] = x2;\n\n    vbf[offset + 3] = y2;\n    vbf[offset + 4] = x3;\n    vbf[offset + 5] = y3;\n\n    this.setCommonVertexAttribs(offset, VBB_SEG_START_RIGHT + i, VBB_GT_ONE_TRIANGLE, color, dbId, layerId, vpId, /*linePattern*/0);\n    this.vcount++;\n  }\n\n  return vi;\n};\n\n\nVertexBufferBuilder.prototype.addVertexLine = function (x, y, angle, distanceAlong, totalDistance, lineWidth, color, dbId, layerId, vpId, lineType, buttCapStart, buttCapEnd)\n{\n  var vi = this.vcount;\n  var vbf = this.vbf;\n\n  if (dbId >= 0 && lineWidth > 0 && distanceAlong > 0) {\n    this.minLineWidth = Math.min(this.minLineWidth, lineWidth);\n  }\n\n  var geomType = VBB_GT_LINE_SEGMENT;\n  if (buttCapStart && buttCapEnd) {\n    geomType = VBB_GT_LINE_SEGMENT_CAPPED;\n  } else\n  if (buttCapStart) {\n    geomType = VBB_GT_LINE_SEGMENT_CAPPED_START;\n  } else\n  if (buttCapEnd) {\n    geomType = VBB_GT_LINE_SEGMENT_CAPPED_END;\n  }\n\n  var repeat = this.useInstancing ? 1 : 4;\n  for (var i = 0; i < repeat; i++) {\n    var offset = (vi + i) * this.stride;\n\n    // align changes here with the "decodeSegmentData()" function in LineShader.js and VertexBufferReader!!!\n    vbf[offset] = x;\n    vbf[offset + 1] = y;\n    vbf[offset + 2] = (angle + Math.PI) / TAU;\n\n    vbf[offset + 3] = distanceAlong;\n    vbf[offset + 4] = lineWidth * 0.5; // we are storing only the half width (i.e., the radius)\n    vbf[offset + 5] = totalDistance;\n\n    this.setCommonVertexAttribs(offset, VBB_SEG_START_RIGHT + i, geomType, color, dbId, layerId, vpId, lineType);\n    this.vcount++;\n  }\n\n  return vi;\n};\n\nVertexBufferBuilder.prototype.addVertexMiterLine = function (x, y, angle, anglePrev, angleNext, distanceAlong, distanceAlongPN, lineWidth, color, dbId, layerId, vpId, lineType)\n{\n  var vi = this.vcount;\n  var vbf = this.vbf;\n\n  if (dbId >= 0 && lineWidth > 0) {\n    this.minLineWidth = Math.min(this.minLineWidth, lineWidth);\n  }\n\n  var repeat = this.useInstancing ? 1 : 4;\n  for (var i = 0; i < repeat; i++) {\n    var offset = (vi + i) * this.stride;\n\n    // align changes here with the "decodeMiterSegment()" function in LineShaderSS.js!!!\n    vbf[offset] = x;\n    vbf[offset + 1] = y;\n    vbf[offset + 2] = (angle + Math.PI) / TAU;\n\n    vbf[offset + 3] = distanceAlong;\n    vbf[offset + 4] = lineWidth * 0.5; // we are storing only the half width (i.e., the radius)\n    vbf[offset + 5] = (anglePrev + Math.PI) / TAU;\n\n    vbf[offset + 10] = (angleNext + Math.PI) / TAU;\n    vbf[offset + 11] = distanceAlongPN;\n\n    this.setCommonVertexAttribs(offset, VBB_SEG_START_RIGHT + i, VBB_GT_LINE_SEGMENT_MITER, color, dbId, layerId, vpId, lineType);\n    this.vcount++;\n  }\n\n  return vi;\n};\n\nVertexBufferBuilder.prototype.addVertexTexQuad = function (centerX, centerY, width, height, rotation, color, dbId, layerId, vpId)\n{\n  var vi = this.vcount;\n  var vbf = this.vbf;\n\n  var repeat = this.useInstancing ? 1 : 4;\n  for (var i = 0; i < repeat; i++) {\n    var offset = (vi + i) * this.stride;\n\n    // align changes here with the "decodeTexQuadData()" function in LineShader.js!!!\n    vbf[offset] = centerX;\n    vbf[offset + 1] = centerY;\n    vbf[offset + 2] = rotation / TAU;\n\n    vbf[offset + 3] = width;\n    vbf[offset + 4] = height;\n\n    this.setCommonVertexAttribs(offset, VBB_SEG_START_RIGHT + i, VBB_GT_TEX_QUAD, color, dbId, layerId, vpId, /*linePattern*/0);\n    this.vcount++;\n  }\n\n  return vi;\n};\n\n\nVertexBufferBuilder.prototype.addVertexArc = function (x, y, startAngle, endAngle, major, minor, tilt, lineWidth, color, dbId, layerId, vpId)\n{\n  var vi = this.vcount;\n  var vbf = this.vbf;\n\n  var geomType = major == minor ? VBB_GT_ARC_CIRCULAR : VBB_GT_ARC_ELLIPTICAL;\n\n  var repeat = this.useInstancing ? 1 : 4;\n  for (var i = 0; i < repeat; i++) {\n    var offset = (vi + i) * this.stride;\n\n    // align changes here with the "decodeArcData()" function in LineShader.js!!!\n    vbf[offset] = x;\n    vbf[offset + 1] = y;\n    vbf[offset + 2] = startAngle / TAU;\n\n    vbf[offset + 3] = endAngle / TAU;\n    vbf[offset + 4] = lineWidth * 0.5; // we are storing only the half width (i.e., the radius)\n    vbf[offset + 5] = major; // = radius for circular arcs\n\n    if (geomType === VBB_GT_ARC_ELLIPTICAL) {\n      vbf[offset + 10] = minor;\n      vbf[offset + 11] = tilt;\n    }\n\n    this.setCommonVertexAttribs(offset, VBB_SEG_START_RIGHT + i, geomType, color, dbId, layerId, vpId, /*linePattern*/0);\n    this.vcount++;\n  }\n\n  return vi;\n};\n\n\n\n\n//====================================================================================================\n//====================================================================================================\n// Indexed triangle code path can only be used when hardware instancing is not in use.\n// Otherwise, the addTriangleGeom operation should be used to add simple triangles to the buffer.\n//====================================================================================================\n//====================================================================================================\n\nVertexBufferBuilder.prototype.addVertex = function (x, y, color, dbId, layerId, vpId)\n{let flag = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : VBB_GT_TRIANGLE_INDEXED;\n  if (this.useInstancing)\n  return; //not supported if instancing is used.\n\n  var vi = this.vcount;\n  var offset = this.stride * vi;\n  var vbf = this.vbf;\n\n  // align changes here with the "decodeTriangleData()" function in LineShader.js!!!\n  vbf[offset] = x;\n  vbf[offset + 1] = y;\n\n  this.setCommonVertexAttribs(offset, /*vertexId*/0, flag, color, dbId, layerId, vpId, /*linePattern*/0);\n  this.vcount++;\n\n  return vi;\n};\n\n\nVertexBufferBuilder.prototype.addVertexPolytriangle = function (x, y, color, dbId, layerId, vpId)\n{\n  if (this.useInstancing)\n  return; //not supported if instancing is used.\n\n  this.addVertex(x, y, color, dbId, layerId, vpId);\n\n  this.addToBounds(x, y);\n};\n\nVertexBufferBuilder.prototype.addVertexMSDFPolytriangle = function (x, y, u, v, color, dbId, layerId, vpId)\n{\n  this.addVertexTexPolytriangle(x, y, u, v, color, dbId, layerId, vpId, VBB_GT_MSDF_TRIANGLE_INDEXED);\n};\n\nVertexBufferBuilder.prototype.addIndices = function (indices, vindex) {\n\n  if (this.useInstancing)\n  return; //not supported if instancing is used.\n\n  var ib = this.ib;\n  var ii = this.icount;\n\n  if (ii + indices.length >= ib.length) {\n    var ibnew = new Uint16Array(Math.max(indices.length, ib.length) * 2);\n    for (var i = 0; i < ii; ++i) {\n      ibnew[i] = ib[i];\n    }\n    this.ib = ib = ibnew;\n  }\n\n  for (var i = 0; i < indices.length; ++i) {\n    ib[ii + i] = vindex + indices[i];\n  }\n\n  this.icount += indices.length;\n};\n\n//====================================================================================================\n//====================================================================================================\n// End indexed triangle code path.\n//====================================================================================================\n//====================================================================================================\n\n\nVertexBufferBuilder.prototype.finalizeQuad = function (vindex)\n{\n  if (!this.useInstancing) {\n    this.addIndices(QUAD_TRIANGLE_INDICES, vindex);\n  }\n};\n\n\nVertexBufferBuilder.prototype.addSegment = function (x1, y1, x2, y2, totalDistance, lineWidth, color, dbId, layerId, vpId, lineType, buttCapStart, buttCapEnd)\n{\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  var angle = dx || dy ? Math.atan2(dy, dx) : 0.0;\n  var segLen = dx || dy ? Math.sqrt(dx * dx + dy * dy) : 0.0;\n\n  //Add four vertices for the bbox of this line segment\n  //This call sets the stuff that\'s common for all four\n  var v = this.addVertexLine(x1, y1, angle, segLen, totalDistance, lineWidth, color, dbId, layerId, vpId, lineType, buttCapStart, buttCapEnd);\n\n  this.finalizeQuad(v);\n  this.addToBounds(x1, y1);\n  this.addToBounds(x2, y2);\n};\n\nVertexBufferBuilder.prototype.addMiterSegment = function (x1, y1, x2, y2, x3, y3, x4, y4, totalDistance, lineWidth, color, dbId, layerId, vpId, lineType, buttCapStart, buttCapEnd)\n{\n  if (this.useCompactBuffers) {\n    this.addSegment(x2, y2, x3, y3, totalDistance, lineWidth, color, dbId, layerId, vpId, lineType, buttCapStart, buttCapEnd);\n    return;\n  }\n\n  this.numMiterLines++;\n\n  //Miter segments need large vertex layout\n  this.expandStride();\n\n  //Primary segment to be drawn\n  var dx2 = x3 - x2;\n  var dy2 = y3 - y2;\n  var angle = dx2 || dy2 ? Math.atan2(dy2, dx2) : 0.0;\n  var segLen = dx2 || dy2 ? Math.sqrt(dx2 * dx2 + dy2 * dy2) : 0.0;\n\n  //Supporting segments (previous + next) to calculate miter joints\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  var anglePrev = dx || dy ? Math.atan2(dy, dx) : angle;\n  var segLenPrev = dx || dy ? Math.sqrt(dx * dx + dy * dy) : 1.0;\n\n  var dx3 = x4 - x3;\n  var dy3 = y4 - y3;\n  var angleNext = dx3 || dy3 ? Math.atan2(dy3, dx3) : angle;\n  var segLenNext = dx3 || dy3 ? Math.sqrt(dx3 * dx3 + dy3 * dy3) : 1.0;\n\n  // Compress previous and next seg length to fit into one float, loses precision.\n  var prev = Math.floor(Math.min(VBB_MITER_SEGMENT_MAX, segLenPrev) * VBB_MITER_SEGMENT_SCALE_FACTOR);\n  var next = Math.floor(Math.min(VBB_MITER_SEGMENT_MAX, segLenNext) * VBB_MITER_SEGMENT_SCALE_FACTOR);\n  var segLenPN = next * VBB_MITER_SEGMENT_CP + prev;\n\n  //Add four vertices for the bbox of this line segment\n  //This call sets the stuff that\'s common for all four\n  var v = this.addVertexMiterLine(x2, y2, angle, anglePrev, angleNext, segLen, segLenPN, lineWidth, color, dbId, layerId, vpId, lineType);\n\n  this.finalizeQuad(v);\n  this.addToBounds(x2, y2);\n  this.addToBounds(x3, y3);\n};\n\n\n//Creates a non-indexed triangle geometry (triangle vertex coords stored in single vertex structure)\nVertexBufferBuilder.prototype.addTriangleGeom = function (x1, y1, x2, y2, x3, y3, color, dbId, layerId, vpId)\n{\n  this.numTriangleGeoms++;\n\n  var v = this.addVertexTriangleGeom(x1, y1, x2, y2, x3, y3, color, dbId, layerId, vpId);\n\n  this.finalizeQuad(v);\n  this.addToBounds(x1, y1);\n  this.addToBounds(x2, y2);\n  this.addToBounds(x3, y3);\n};\n\nVertexBufferBuilder.prototype.addArc = function (cx, cy, start, end, major, minor, tilt, lineWidth, color, dbId, layerId, vpId)\n{\n  if (major == minor) {\n    this.numCirculars++;\n  } else {\n    this.numEllipticals++;\n\n    //Ellipticals need large vertex layout\n    this.expandStride();\n  }\n\n  // This is a workaround, when the circular arc has rotation, the extractor cannot handle it.\n  // After the fix is deployed in extractor, this can be removed.\n  var result = fixUglyArc(start, end);\n  start = result.start;\n  end = result.end;\n\n  //If both start and end angles are exactly 0, it\'s a complete ellipse/circle\n  //This is working around a bug in the F2D writer, where an fmod operation will potentially.\n  //convert 2pi to 0.\n  if (start == 0 && end == 0)\n  end = TAU;\n\n  //Add two zero length segments as round caps at the end points\n  {\n    //If it\'s a full ellipse, then we don\'t need caps\n    var range = Math.abs(start - end);\n    if (range > 0.0001 && Math.abs(range - TAU) > 0.0001)\n    {\n      var sx = cx + major * Math.cos(start);\n      var sy = cy + minor * Math.sin(start);\n      this.addSegment(sx, sy, sx, sy, 0, lineWidth, color, dbId, layerId, vpId);\n\n      var ex = cx + major * Math.cos(end);\n      var ey = cy + minor * Math.sin(end);\n      this.addSegment(ex, ey, ex, ey, 0, lineWidth, color, dbId, layerId, vpId);\n\n      //TODO: also must add all the vertices at all multiples of PI/2 in the start-end range to get exact bounds\n    } else\n\n    {\n      this.addToBounds(cx - major, cy - minor);\n      this.addToBounds(cx + major, cy + minor);\n    }\n\n    // Add the center of the circle / ellipse as a single transparent dot - So it wil be snappable.\n    const hiddenColor = 0x01ffffff; // Note that lineShader discards fully transparent fragments. Therefore, we use a white here with very small, but nonzero alpha.\n    var c = this.addVertexLine(cx, cy, 0, 0.0001, 0, 0, hiddenColor, dbId, layerId, vpId);\n    this.finalizeQuad(c);\n  }\n\n  var v = this.addVertexArc(cx, cy, start, end, major, minor, tilt, lineWidth, color, dbId, layerId, vpId);\n\n  this.finalizeQuad(v);\n\n  //Testing caps\n  if (false) { var ey, ex, sy, sx, range; }\n};\n\n\nVertexBufferBuilder.prototype.addTexturedQuad = function (centerX, centerY, width, height, rotation, color, dbId, layerId, vpId)\n{\n  //Height is specified using the line weight field.\n  //This will result in height being clamped to at least one pixel\n  //but that\'s ok (zero height for an image would be rare).\n  var v = this.addVertexTexQuad(centerX, centerY, width, height, rotation, color, dbId, layerId, vpId);\n\n  this.finalizeQuad(v);\n\n  var cos = 0.5 * Math.cos(rotation);\n  var sin = 0.5 * Math.sin(rotation);\n  var w = Math.abs(width * cos) + Math.abs(height * sin);\n  var h = Math.abs(width * sin) + Math.abs(height * cos);\n  this.addToBounds(centerX - w, centerY - h);\n  this.addToBounds(centerX + w, centerY + h);\n};\n\nVertexBufferBuilder.prototype.addVertexImagePolytriangle = function (x, y, u, v, color, dbId, layerId, vpId) {\n  return this.addVertexTexPolytriangle(x, y, u, v, color, dbId, layerId, vpId, VBB_GT_TEX_TRIANGLE_INDEXED);\n};\n\nVertexBufferBuilder.prototype.addVertexTexPolytriangle = function (x, y, u, v, color, dbId, layerId, vpId, type) {\n  if (this.useInstancing)\n  return; //not supported if instancing is used.\n\n  let vi = this.vcount;\n  let vbf = this.vbf;\n  this.addVertex(x, y, color, dbId, layerId, vpId, type);\n\n  // put the UV data into the fields2 attribute\n  vbf[vi * this.stride + 2] = u;\n  vbf[vi * this.stride + 3] = v;\n\n  this.addToBounds(x, y);\n};\n\n\nVertexBufferBuilder.prototype.isFull = function (addCount)\n{\n  addCount = addCount || 3;\n  var mult = this.useInstancing ? 4 : 1;\n\n  return this.vcount * mult + addCount > this.FULL_COUNT;\n};\n\n/**\n * Determines if there are invariant memebers in the vertex layout,\n * which can be moved out to shader uniforms to save space.\n * Determines if uint16 can be used to store positions data\n * @returns {MeshData}\n */\nVertexBufferBuilder.prototype.makeCompactVertexLayout = function () {\n\n  var colorKeys = Object.keys(this.colors);\n  var dbIdsKeys = Object.keys(this.dbIds);\n\n  // if (this.changeTracking.geomType === VBB_GT_LINE_SEGMENT && !this.changeTracking.geomTypeVaries) {\n  //   console.log("Vertex buffer only has lines");\n  // }\n\n  // if (this.changeTracking.color === VBB_GT_LINE_SEGMENT && !this.changeTracking.colorVaries) {\n  //     console.log("Vertex buffer has invariant color");\n  // } else {\n  //     console.log("Num colors:", colorKeys.length);\n  // }\n\n  // if (!this.changeTracking.viewportIdVaries) {\n  //     console.log("Vertex buffer has invariant viewportId");\n  // }\n\n  // if (!this.changeTracking.layerIdVaries) {\n  //     console.log("Vertex buffer has invariant layerId");\n  // }\n\n  // if (!this.changeTracking.dbIdVaries) {\n  //     console.log("Vertex buffer has invariant dbId");\n  // } else {\n  //     console.log("Num dbIds:", dbIdsKeys.length);\n  // }\n\n  if (this.stride !== 10)\n  return null;\n\n  //create the color/dbId index texture\n  var texLen = colorKeys.length + dbIdsKeys.length;\n\n  if (colorKeys.length + dbIdsKeys.length > 65536)\n  return null;\n\n  var texData = new Int32Array(texLen + 1);\n  texData[0] = 0;\n  var count = 1;\n  for (var i = 0; i < colorKeys.length; i++, count++) {\n    texData[count] = parseInt(colorKeys[i]);\n    this.colors[colorKeys[i]] = count;\n  }\n  for (var i = 0; i < dbIdsKeys.length; i++, count++) {\n    texData[count] = parseInt(dbIdsKeys[i]);\n    this.dbIds[dbIdsKeys[i]] = count;\n  }\n\n  var compactStride = 6;\n\n  var vb = new ArrayBuffer(compactStride * 4 * this.vcount);\n  var vbi = new Int32Array(vb);\n  var vbs = new Uint16Array(vb);\n\n  var sx = this.maxx - this.minx || 1;\n  var sy = this.maxy - this.miny || 1;\n  var ox = this.minx;\n  var oy = this.miny;\n  var ss = Math.max(sx, sy);\n\n  function tx(x) {\n    return 0 | Math.round((x - ox) / sx * 65535);\n  }\n\n  function ty(y) {\n    return 0 | Math.round((y - oy) / sy * 65535);\n  }\n\n  function ts(x) {\n    return 0 | Math.round(x / ss * 65535);\n  }\n\n  function unit(x) {\n    return 0 | x * 65535;\n  }\n\n  function lineWeight(x) {\n    if (x < 0) {\n      return 32768 + Math.min(1.0, -x / 1024) * 32767;\n    } else {\n      // Don\'t allow non-zero line weights to become 0 because\n      // of the compact buffer format.\n      return x ? 0 | Math.round(x / ss * 32767) || 1 : x;\n    }\n  }\n\n  for (var i = 0; i < this.vcount; i++) {\n\n    var srcOffset = this.stride * i;\n    var dstOffset = compactStride * i;\n    var ushortOffset = dstOffset * 2;\n\n    var gt = this.vbi[srcOffset + VBB_FLAGS_OFFSET] >> 8 & 0xff;\n\n    //Handle data that varies per geometry type and needs scaling\n    //to uint16 packing, e.g. positions and angles\n    switch (gt) {\n      case VBB_GT_TRIANGLE_INDEXED:\n        vbs[ushortOffset] = tx(this.vbf[srcOffset]);\n        vbs[ushortOffset + 1] = ty(this.vbf[srcOffset + 1]);\n        break;\n\n      case VBB_GT_LINE_SEGMENT:\n      case VBB_GT_LINE_SEGMENT_CAPPED:\n      case VBB_GT_LINE_SEGMENT_CAPPED_START:\n      case VBB_GT_LINE_SEGMENT_CAPPED_END:\n        vbs[ushortOffset] = tx(this.vbf[srcOffset]);\n        vbs[ushortOffset + 1] = ty(this.vbf[srcOffset + 1]);\n        vbs[ushortOffset + 2] = unit(this.vbf[srcOffset + 2]);\n        vbs[ushortOffset + 3] = ts(this.vbf[srcOffset + 3]);\n        vbs[ushortOffset + 4] = lineWeight(this.vbf[srcOffset + 4]);\n        break;\n\n      case VBB_GT_ARC_CIRCULAR:\n        vbs[ushortOffset] = tx(this.vbf[srcOffset]);\n        vbs[ushortOffset + 1] = ty(this.vbf[srcOffset + 1]);\n        vbs[ushortOffset + 2] = unit(this.vbf[srcOffset + 2]);\n        vbs[ushortOffset + 3] = unit(this.vbf[srcOffset + 3]);\n        vbs[ushortOffset + 4] = lineWeight(this.vbf[srcOffset + 4]);\n        vbs[ushortOffset + 5] = ts(this.vbf[srcOffset + 5]);\n        break;\n\n      case VBB_GT_ARC_ELLIPTICAL:\n      case VBB_GT_LINE_SEGMENT_MITER:\n        //will not happen\n        break;\n\n      case VBB_GT_TEX_QUAD:\n        vbs[ushortOffset] = tx(this.vbf[srcOffset]);\n        vbs[ushortOffset + 1] = ty(this.vbf[srcOffset + 1]);\n        vbs[ushortOffset + 2] = unit(this.vbf[srcOffset + 2]);\n        vbs[ushortOffset + 3] = ts(this.vbf[srcOffset + 3]);\n        vbs[ushortOffset + 4] = ts(this.vbf[srcOffset + 4]);\n        break;\n\n      case VBB_GT_ONE_TRIANGLE:\n        vbs[ushortOffset] = tx(this.vbf[srcOffset]);\n        vbs[ushortOffset + 1] = ty(this.vbf[srcOffset + 1]);\n        vbs[ushortOffset + 2] = tx(this.vbf[srcOffset + 2]);\n        vbs[ushortOffset + 3] = ty(this.vbf[srcOffset + 3]);\n        vbs[ushortOffset + 4] = tx(this.vbf[srcOffset + 4]);\n        vbs[ushortOffset + 5] = ty(this.vbf[srcOffset + 5]);\n        break;\n\n      default:console.error("Unknown geometry type");break;\n    }\n\n    //Copy the common data to the new offset\n    vbs[ushortOffset + 6] = this.colors[this.vbi[srcOffset + VBB_COLOR_OFFSET]] || 0;\n    vbs[ushortOffset + 7] = this.dbIds[this.vbi[srcOffset + VBB_DBID_OFFSET]] || 0;\n\n    vbi[dstOffset + 4] = this.vbi[srcOffset + VBB_FLAGS_OFFSET];\n    vbi[dstOffset + 5] = this.vbi[srcOffset + VBB_LAYER_VP_OFFSET];\n  }\n\n  var mesh = {};\n\n  mesh.vb = new Float32Array(vb);\n  mesh.vbstride = compactStride;\n\n  var d = this.useInstancing ? 1 : 0;\n\n  mesh.vblayout = {\n    "fields1": { offset: 0, itemSize: 2, bytesPerItem: 2, divisor: d, normalized: true },\n    "fields2": { offset: 1, itemSize: 4, bytesPerItem: 2, divisor: d, normalized: true },\n    "uvIdColor": { offset: 3, itemSize: 2, bytesPerItem: 2, divisor: d, normalized: false },\n    "flags4b": { offset: 4, itemSize: 4, bytesPerItem: 1, divisor: d, normalized: false },\n    "layerVp4b": { offset: 5, itemSize: 4, bytesPerItem: 1, divisor: d, normalized: false }\n  };\n\n  mesh.unpackXform = { x: sx, y: sy, z: ox, w: oy };\n  mesh.texData = texData;\n\n  return mesh;\n};\n\nVertexBufferBuilder.prototype.makeWideVertexLayout = function () {\n  var mesh = {};\n\n  mesh.vb = new Float32Array(this.vb.slice(0, this.vcount * this.stride * 4));\n  mesh.vbstride = this.stride;\n\n  var d = this.useInstancing ? 1 : 0;\n\n  mesh.vblayout = {\n    "fields1": { offset: 0, itemSize: 2, bytesPerItem: 4, divisor: d, normalized: false },\n    "fields2": { offset: 2, itemSize: 4, bytesPerItem: 4, divisor: d, normalized: false },\n    "color4b": { offset: VBB_COLOR_OFFSET, itemSize: 4, bytesPerItem: 1, divisor: d, normalized: true },\n    "dbId4b": { offset: VBB_DBID_OFFSET, itemSize: 4, bytesPerItem: 1, divisor: d, normalized: false },\n    "flags4b": { offset: VBB_FLAGS_OFFSET, itemSize: 4, bytesPerItem: 1, divisor: d, normalized: false },\n    "layerVp4b": { offset: VBB_LAYER_VP_OFFSET, itemSize: 4, bytesPerItem: 1, divisor: d, normalized: false }\n  };\n\n  //Set the expanded vertex layout to use the last two floats in the buffer. If the\n  //were allocated then it is good. If they weren\'t it overlaps the flags4b and layerVp4b\n  //channels, but since the extraParams won\'t be used in the shader it won\'t matter.\n  //Doing this lets the shader connect to something and prevents crashes on iOS.\n  mesh.vblayout["extraParams"] = { offset: this.stride - 2, itemSize: 2, bytesPerItem: 4, divisor: d, normalized: false };\n  return mesh;\n};\n\nVertexBufferBuilder.prototype.toMesh = function ()\n{\n  var mesh = null;\n\n  if (this.useCompactBuffers)\n  mesh = this.makeCompactVertexLayout();\n\n  if (!mesh)\n  mesh = this.makeWideVertexLayout();\n\n  if (this.useInstancing) {\n    mesh.numInstances = this.vcount;\n\n    //Set up trivial vertexId and index attributes\n\n    var instFlags = new Int32Array([VBB_SEG_START_RIGHT, VBB_SEG_START_LEFT, VBB_SEG_END_RIGHT, VBB_SEG_END_LEFT]);\n    mesh.vblayout.instFlags4b = { offset: 0, itemSize: 4, bytesPerItem: 1, divisor: 0, normalized: false };\n    mesh.vblayout.instFlags4b.array = instFlags.buffer;\n\n    var idx = mesh.indices = new Uint16Array(QUAD_TRIANGLE_INDICES);\n  } else {\n    mesh.indices = new Uint16Array(this.ib.buffer.slice(0, 2 * this.icount));\n  }\n\n  mesh.dbIds = this.dbIds;\n\n  var w = this.maxx - this.minx;\n  var h = this.maxy - this.miny;\n  var sz = Math.max(w, h);\n\n  mesh.boundingBox = {\n    min: { x: this.minx, y: this.miny, z: -sz * 1e-3 },\n    max: { x: this.maxx, y: this.maxy, z: sz * 1e-3 }\n  };\n\n  //Also compute a rough bounding sphere\n  var bs = mesh.boundingSphere = {\n    center: {\n      x: 0.5 * (this.minx + this.maxx),\n      y: 0.5 * (this.miny + this.maxy),\n      z: 0.0\n    },\n    radius: 0.5 * Math.sqrt(w * w + h * h)\n  };\n\n  return mesh;\n};\n\n// The following logic attempts to "fix" imprecisions in arc definitions introduced\n// by Heidi\'s fixed point math, in case that the extractor doesn\'t handle it correctly.\n\nvar fixUglyArc = function (start, end)\n{\n  //Snap critical angles exactly\n  function snapCritical() {\n    function fuzzyEquals(a, b) {return Math.abs(a - b) < 1e-3;}\n\n    if (fuzzyEquals(start, 0)) start = 0.0;\n    if (fuzzyEquals(end, 0)) end = 0.0;\n    if (fuzzyEquals(start, TAU)) start = TAU;\n    if (fuzzyEquals(end, TAU)) end = TAU;\n  }\n\n  snapCritical();\n\n  //OK, in some cases the angles are both over-rotated...\n  if (start > end) {\n    while (start > TAU) {\n      start -= TAU;\n      end -= TAU;\n    }\n  } else {\n    while (end > TAU) {\n      start -= TAU;\n      end -= TAU;\n    }\n  }\n\n  //Snap critical angles exactly -- again\n  snapCritical();\n\n  //If the arc crosses the x axis, we have to make it clockwise...\n  //This is a side effect of bringing over-rotated arcs in range above.\n  //For example start = 5.0, end = 7.0 will result in start < 0 and end > 0,\n  //so we have to make start > end in order to indicate we are crossing angle = 0.\n  if (start < 0 && end > 0) {\n    start += TAU;\n  }\n\n  return { start: start, end: end };\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/common/Viewpoints.js":\n/*!*****************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/common/Viewpoints.js ***!\n  \\*****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readViewpointDefinition: () => (/* binding */ readViewpointDefinition)\n/* harmony export */ });\n/* harmony import */ var _svf_Cameras__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../svf/Cameras */ "./src/file-loaders/lmvtk/svf/Cameras.js");\n/* harmony import */ var _SvfPlacementUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SvfPlacementUtils */ "./src/file-loaders/lmvtk/common/SvfPlacementUtils.js");\n\n\n"use strict";\n\nconst ViewpointParts = {\n  VP_Camera: 1,\n  VP_CameraTransform: 2,\n  VP_RenderMode: 4,\n  VP_PrimitiveDisplayFlags: 8,\n  VP_ClipPlanes: 16,\n  VP_OverrideSet: 32\n};\n\nlet Sections = [];\n\nfunction readViewpointDefinition(pfr, camPfr, entry) {\n  const tse = pfr.seekToEntry(entry);\n  if (!tse)\n  return null;\n\n  const def = {};\n  const parts = pfr.readVarint();\n\n  if (parts & ViewpointParts.VP_Camera) {\n    def.cameraEntry = pfr.readVarint();\n    const inst = { definition: def.cameraEntry };\n    def.camera = (0,_svf_Cameras__WEBPACK_IMPORTED_MODULE_0__.readCameraDefinition)(camPfr, inst);\n  }\n\n  if (parts & ViewpointParts.VP_CameraTransform) {\n    def.cameraTransform = pfr.readTransform();\n    if (def.camera && def.cameraTransform) {\n      (0,_SvfPlacementUtils__WEBPACK_IMPORTED_MODULE_1__.transformCameraData)(def.camera, def.cameraTransform);\n    }\n  }\n\n  if (parts & ViewpointParts.VP_RenderMode) {\n    def.renderMode = pfr.readU8();\n  }\n\n  if (parts & ViewpointParts.VP_PrimitiveDisplayFlags) {\n    def.primitiveDisplayFlags = pfr.readU8();\n  }\n\n  if (parts & ViewpointParts.VP_OverrideSet) {\n    def.overrideSet = pfr.readVarint();\n  }\n\n  if (parts & ViewpointParts.VP_ClipPlanes) {\n    def.clipPlaneMode = pfr.readU8();\n    if (def.clipPlaneMode === 0) {// Planes\n      def.sectionCount = pfr.readU8();\n      def.clipData = {};\n      def.sectionPlane = [];\n      for (let i = 0; i < def.sectionCount; i++) {\n        const normal = Object.assign({}, pfr.readVector3f());\n        const distance = pfr.readF64();\n        def.sectionPlane.push(-normal.x, -normal.y, -normal.z, distance);\n      }\n    } else {// Box\n      def.clipData = {};\n      const min = Object.assign({}, pfr.readVector3d());\n      const max = Object.assign({}, pfr.readVector3d());\n      const rotationQuat = Object.assign({}, pfr.readQuaternionf());\n      def.sectionBox = { min, max };\n      def.sectionBoxTransform = rotationQuat;\n      def.isFromViewpoint = true;\n    }\n  }\n\n  return def;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/f2d/CheckedInputStream.js":\n/*!**********************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/f2d/CheckedInputStream.js ***!\n  \\**********************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CheckedInputStream: () => (/* binding */ CheckedInputStream)\n/* harmony export */ });\n\n\n\n// Similar as InputStream but with bounds checking.\n// Throw exception when out of bounds access is / to be made.\nfunction CheckedInputStream(buf) {\n  this.buffer = buf;\n  this.offset = 0;\n  this.byteLength = buf.length;\n\n  //We will use these shared memory arrays to\n  //convert from bytes to the desired data type.\n  this.convBuf = new ArrayBuffer(8);\n  this.convUint8 = new Uint8Array(this.convBuf);\n  this.convUint16 = new Uint16Array(this.convBuf);\n  this.convInt32 = new Int32Array(this.convBuf);\n  this.convUint32 = new Uint32Array(this.convBuf);\n}\n\nfunction OutOfBoundsBufferAccessException(offset) {\n  this.offset = offset;\n  this.message = "try to access an offset that is out of bounds: " + this.offset;\n  this.toString = function () {\n    return this.message;\n  };\n}\n\nCheckedInputStream.prototype.boundsCheck = function (offset) {\n  if (offset >= this.byteLength) {\n    throw new OutOfBoundsBufferAccessException(offset);\n  }\n};\n\nCheckedInputStream.prototype.seek = function (off) {\n  this.boundsCheck(off);\n  this.offset = off;\n};\n\nCheckedInputStream.prototype.getBytes = function (len) {\n  this.boundsCheck(this.offset + len);\n  var ret = new Uint8Array(this.buffer.buffer, this.offset, len);\n  this.offset += len;\n  return ret;\n};\n\nCheckedInputStream.prototype.skipBytes = function (len) {\n  this.boundsCheck(this.offset + len);\n  this.offset += len;\n};\n\n\nCheckedInputStream.prototype.getVarints = function () {\n  var b;\n  var value = 0;\n  var shiftBy = 0;\n  do {\n    this.boundsCheck(this.offset);\n    b = this.buffer[this.offset++];\n    value |= (b & 0x7f) << shiftBy;\n    shiftBy += 7;\n  } while (b & 0x80);\n  return value;\n};\n\nCheckedInputStream.prototype.getUint8 = function () {\n  this.boundsCheck(this.offset + 1);\n  return this.buffer[this.offset++];\n};\n\nCheckedInputStream.prototype.getUint16 = function () {\n  this.boundsCheck(this.offset + 2);\n  this.convUint8[0] = this.buffer[this.offset++];\n  this.convUint8[1] = this.buffer[this.offset++];\n  return this.convUint16[0];\n};\n\nCheckedInputStream.prototype.getInt16 = function () {\n  var tmp = this.getUint16();\n  //make negative integer if the ushort is negative\n  if (tmp > 0x7fff)\n  tmp = tmp | 0xffff0000;\n  return tmp;\n};\n\nCheckedInputStream.prototype.getInt32 = function () {\n  this.boundsCheck(this.offset + 4);\n  var src = this.buffer;\n  var dst = this.convUint8;\n  var off = this.offset;\n  dst[0] = src[off];\n  dst[1] = src[off + 1];\n  dst[2] = src[off + 2];\n  dst[3] = src[off + 3];\n  this.offset += 4;\n  return this.convInt32[0];\n};\n\nCheckedInputStream.prototype.getUint32 = function () {\n  this.boundsCheck(this.offset + 4);\n  var src = this.buffer;\n  var dst = this.convUint8;\n  var off = this.offset;\n  dst[0] = src[off];\n  dst[1] = src[off + 1];\n  dst[2] = src[off + 2];\n  dst[3] = src[off + 3];\n  this.offset += 4;\n  return this.convUint32[0];\n};\n\nCheckedInputStream.prototype.skipUint32 = function () {\n  this.boundsCheck(this.offset + 4);\n  this.offset += 4;\n};\n\nCheckedInputStream.prototype.getFloat32 = function () {\n  this.boundsCheck(this.offset + 4);\n  this.offset += 4;\n  return 0;\n};\n\nCheckedInputStream.prototype.getFloat64 = function () {\n  this.boundsCheck(this.offset + 8);\n  this.offset += 8;\n  return 0;\n};\n\nCheckedInputStream.prototype.skipFloat64 = function () {\n  this.boundsCheck(this.offset + 8);\n  this.offset += 8;\n};\n\nCheckedInputStream.prototype.reset = function (buf) {\n  this.buffer = buf;\n  this.offset = 0;\n  this.byteLength = buf.length;\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/f2d/F2d.js":\n/*!*******************************************!*\\\n  !*** ./src/file-loaders/lmvtk/f2d/F2d.js ***!\n  \\*******************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   F2D: () => (/* binding */ F2D),\n/* harmony export */   F2dDataType: () => (/* binding */ F2dDataType),\n/* harmony export */   F2dSemanticType: () => (/* binding */ F2dSemanticType),\n/* harmony export */   F2dShadowRatio: () => (/* binding */ F2dShadowRatio),\n/* harmony export */   restoreSignBitFromLSB: () => (/* binding */ restoreSignBitFromLSB)\n/* harmony export */ });\n/* harmony import */ var _common_VertexBufferBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/VertexBufferBuilder */ "./src/file-loaders/lmvtk/common/VertexBufferBuilder.js");\n/* harmony import */ var _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../wgs/scene/LmvBox3 */ "./src/wgs/scene/LmvBox3.js");\n/* harmony import */ var _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../wgs/scene/LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/* harmony import */ var _common_VbUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/VbUtils */ "./src/file-loaders/lmvtk/common/VbUtils.js");\n/* harmony import */ var _common_InputStream__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/InputStream */ "./src/file-loaders/lmvtk/common/InputStream.js");\n/* harmony import */ var _logger_Logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../logger/Logger */ "./src/logger/Logger.js");\n/* harmony import */ var _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../net/ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n\n\n\n\n\n\n\n\n\n\nvar MOBILE_MAX_VCOUNT = 16383;\n\nvar F2dDataType = {\n  //Fixed size types\n  dt_object: 0,\n  dt_void: 1,\n  dt_byte: 2,\n  dt_int: 3,\n  dt_float: 4,\n  dt_double: 5,\n  dt_varint: 6,\n  dt_point_varint: 7,\n\n  //Variable size types\n  //Data bytes are prefixed by an integer\n  //representing the number of elements in the array.\n  dt_byte_array: 32,\n  dt_int_array: 33,\n  dt_float_array: 34,\n  dt_double_array: 35,\n  dt_varint_array: 36,\n  //Special variable int encoding for point data\n  dt_point_varint_array: 37,\n\n  //Well-known data types that help reduce output size for commonly\n  //encountered simple geometries\n  dt_arc: 38,\n  dt_circle: 39,\n  dt_circular_arc: 40,\n\n  dt_string: 63,\n  //do not want to go into varint range\n  dt_last_data_type: 127\n};\n\nvar F2dSemanticType = {\n  //For objects with fixed serialization (arc, raster) we don\'t bother having dedicated semantic for each member\n  //and assume the parsing application knows the order they appear. There is still an end-object tag of course\n  //which shows where the object ends.\n  st_object_member: 0,\n\n  //Simple / fixed size attributes\n  st_fill: 1,\n  st_fill_off: 2,\n  st_clip_off: 3,\n  st_layer: 4,\n  st_link: 5,\n  st_line_weight: 6,\n  st_miter_angle: 7,\n  st_miter_length: 8,\n  st_line_pattern_ref: 9,\n  st_back_color: 10,\n  st_color: 11,\n  st_markup: 12,\n  st_object_id: 13,\n  st_markup_id: 14,\n  st_reset_rel_offset: 15,\n  st_font_ref: 16,\n\n  //Compound object opcodes\n\n  //Begin a generic object opcode\n  st_begin_object: 32,\n\n  //Style attribute related opcodes. Those are compound objects\n  st_clip: 33,\n  st_line_caps: 34,\n  st_line_join: 35,\n  st_line_pattern_def: 36,\n  st_font_def: 37,\n  st_viewport: 38,\n\n  //Drawables are all objects-typed bounded by begin/end object opcodes\n\n  //Root level document begin\n  st_sheet: 42,\n  //Circle, Ellipse, Arcs\n  st_arc: 43,\n  //The grandfather of them all\n  st_polyline: 44,\n  st_raster: 45,\n  st_text: 46,\n  st_polytriangle: 47,\n  st_dot: 48,\n  //end object -- could be ending a generic object or drawable, etc.\n  st_end_object: 63,\n\n  st_last_semantic_type: 127\n};\n\n// F2D shadow ratio, relative to paper width.\nconst F2dShadowRatio = 0.0075;\n\n\n//Initializes a structure of counters used for statistical purposes and sheet content hash\nfunction initGeomMetrics() {\n  return {\n    "arcs": 0,\n    "circles": 0,\n    "circ_arcs": 0,\n    "viewports": 0,\n    "clips": 0,\n    "colors": 0,\n    "db_ids": 0,\n    "dots": 0,\n    "fills": 0,\n    "layers": 0,\n    "line_caps": 0,\n    "line_joins": 0,\n    "line_patterns": 0,\n    "line_pat_refs": 0,\n    "plines": 0,\n    "pline_points": 0,\n    "line_weights": 0,\n    "links": 0,\n    "miters": 0,\n    "ptris": 0,\n    "ptri_indices": 0,\n    "ptri_points": 0,\n    "rasters": 0,\n    "texts": 0,\n    "strings": []\n  };\n}\n\n\n// Restore sign bit from LSB of an encoded integer which has the sign bit\n// moved from MSB to LSB.\n// The decoding process is the reverse by restoring the sign bit from LSB to MSB.\nfunction restoreSignBitFromLSB(integer) {\n  return integer & 1 ? -(integer >>> 1) : integer >>> 1;\n};\n\nfunction F2D(metadata, manifest, basePath) {let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  this.metadata = metadata;\n  this.scaleX = 1;\n  this.scaleY = 1;\n  this.bbox = { min: { x: 0, y: 0, z: 0 }, max: { x: 0, y: 0, z: 0 } };\n  this.is2d = true;\n  this.layersMap = {};\n  this.fontDefs = {};\n  this.fontCount = 0;\n  this.fontId = 0;\n  this.manifestAvailable = false;\n  this.geomMetricsSum = 0;\n  this.objectMemberQueue = [];\n\n  this.propertydb = {\n    attrs: [],\n    avs: [],\n    ids: [],\n    values: [],\n    offsets: [],\n    viewables: []\n  };\n\n  if (metadata) {\n\n    var dims = metadata.page_dimensions;\n\n    this.paperWidth = dims.page_width;\n    this.paperHeight = dims.page_height;\n\n    // TODO: scale parsing.\n    this.scaleX = this.paperWidth / dims.plot_width;\n    this.scaleY = this.paperHeight / dims.plot_height;\n\n    this.hidePaper = dims.hide_paper;\n\n    var pw = this.paperWidth;\n    var ph = this.paperHeight;\n    this.bbox.max.x = pw;\n    this.bbox.max.y = ph;\n\n    var dim = metadata.page_dimensions || {};\n    // If the paper is rotated or offset, include that in the bbox\n    if (isFinite(dim.paper_rotation) && dim.paper_rotation !== 0) {\n      var angle = dim.paper_rotation * Math.PI / 180;\n      var cos = Math.cos(angle);\n      var sin = Math.sin(angle);\n      var dwx;\n      var dwx = pw * cos;\n      var dwy = pw * sin;\n      var dhx = -ph * sin;\n      var dhy = ph * cos;\n      this.bbox.min.x = Math.min(0, dwx, dhx, dwx + dhx);\n      this.bbox.max.x = Math.max(0, dwx, dhx, dwx + dhx);\n      this.bbox.min.y = Math.min(0, dwy, dhy, dwy + dhy);\n      this.bbox.max.y = Math.max(0, dwy, dhy, dwy + dhy);\n    }\n    if (isFinite(dim.paper_offset_x) && dim.paper_offset_x !== 0) {\n      this.bbox.min.x += dim.paper_offset_x;\n      this.bbox.max.x += dim.paper_offset_x;\n    }\n    if (isFinite(dim.paper_offset_y) && dim.paper_offset_y !== 0) {\n      this.bbox.min.y += dim.paper_offset_y;\n      this.bbox.max.y += dim.paper_offset_y;\n    }\n\n    //Initialize mapping between layer index -> layer number to be used for rendering\n    var count = 0;\n    //Some geometry comes on null layer, and we reserve a spot for that one.\n    //For example, Revit plots have no layers at all.\n    this.layersMap[0] = count++;\n\n    for (var l in metadata.layers) {\n\n      var index = parseInt(l);\n\n      //We store in a map in order to allow non-consecutive layer numbers,\n      //which does happen.\n      this.layersMap[index] = count++;\n    }\n\n    this.layerCount = count;\n\n    //Create a layers tree to be used by the UI -- this splits AutoCAD style\n    //layer groups (specified using | character) into a tree of layers.\n    this.createLayerGroups(metadata.layers);\n\n    if (metadata.geom_metrics) {\n      var values = Object.keys(metadata.geom_metrics).map(function (key) {\n        return metadata.geom_metrics[key];\n      });\n      this.geomMetricsSum = values.reduce((acc, cur) => acc + cur);\n    }\n  }\n\n  this.hidePaper = this.hidePaper || options.modelSpace;\n  this.noShadow = !!options.noShadow; // The request to not draw a shadow\n\n  this.hasPageShadow = false; // Will be true only if the shadow was actually created\n\n  // For debugging only. Could be removed.\n  this.opCount = 0;\n\n  this.excludeTextGeometry = options.excludeTextGeometry;\n  //provides additional parameters for precise text search and highlight\n  this.extendStringsFetching = options.extendStringsFetching;\n\n  this.fontFaces = [];\n  this.fontFamilies = [];\n\n  this.viewports = [{}]; // make viewport index start at 1, 0 as paper is used in LineShader\n  this.currentVpId = 0; // current viewport index\n  this.viewports[0].geom_metrics = this.currentGeomMetrics = initGeomMetrics();\n\n  this.clips = [0]; // make clip index start at 1, matched with viewport index\n\n  this.strings = [];\n  this.stringDbIds = [];\n  this.stringBoxes = [];\n  if (this.extendStringsFetching) {\n    this.stringCharWidths = [];\n    this.stringAngles = [];\n    this.stringPositions = [];\n    this.stringHeights = [];\n  }\n  this.currentStringNumber = -1;\n  this.currentStringBox = new _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_1__.LmvBox3();\n\n  this.linkBoxes = [];\n  this.currentLinkBox = new _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_1__.LmvBox3();\n\n  this.objectNumber = 0;\n  this.currentFakeId = -2; //We tag certain objects that we care about (like strings) that have no ID with fake negative IDs instead of giving them default ID of 0.\n  this.imageNumber = 0;\n  this.linkNumber = 0;\n  this.maxObjectNumber = 0;\n\n  this.objectStack = [];\n  this.objectNameStack = [];\n  this.parseObjState = {\n    polyTriangle: {},\n    viewport: {},\n    clip: {},\n    raster: {},\n    text: {},\n    fontDef: {},\n    uknown: {}\n  };\n\n  this.layer = 0;\n\n  this.bgColor = typeof options.bgColor === "number" ? options.bgColor : 0xffffffff;\n\n  //NOTE: Use of contrast color is turned off in mapColor() until UX makes up their mind\n  //one way or another.\n  this.contrastColor = this.color = this.fillColor = 0xff000000;\n  if (this.hidePaper)\n  this.contrastColor = 0xffffff00;\n\n  this.isMobile = options && !!options.isMobile;\n\n  // https://git.autodesk.com/A360/firefly.js/pull/3884\n  // We spotted multiple devices that doesn\'t play nice with 2dInstancing and compactBuffers.\n  // After some testing, we found out that using WebGL2 fixes the performance issues for these devices.\n  // For browsers that don\'t support WebGL2 (Safari), we want to still use these optimisations,\n  // only if the number of geometries is large (more than 10 million) - this is when the memory optimisation\n  // is really important and we can\'t risk on not using it.\n  var isWebGL2 = options && !!options.isWebGL2;\n  var useMobileOptimizations = this.isMobile && (isWebGL2 || this.geomMetricsSum > 1e7);\n  var useInstancing = useMobileOptimizations && options && !!options.supportsInstancing;\n  var useCompactBuffers = useMobileOptimizations;\n\n  this.max_vcount = this.isMobile ? MOBILE_MAX_VCOUNT : undefined;\n\n  this.currentVbb = new _common_VertexBufferBuilder__WEBPACK_IMPORTED_MODULE_0__.VertexBufferBuilder(useInstancing, undefined, this.max_vcount, useCompactBuffers);\n  this.meshes = [];\n\n  this.numCircles = this.numEllipses = this.numPolylines = this.numLineSegs = 0;\n  this.numPolytriangles = this.numTriangles = 0;\n\n  // Newly added f2d pasing stuff.\n  this.error = false;\n\n  // Last absolute positions of point parsed so far.\n  // Used to decode relative positions parsed from points array.\n  this.offsetX = 0;\n  this.offsetY = 0;\n\n  // Parse manifest, do stuff.\n  // 1. Build image id to raster URI map used to assign values to texture path.\n  // 2. Acquire names of property database json streams.\n  if (manifest) {\n    this.manifestAvailable = true;\n    this.imageId2URI = {};\n    var assets = manifest.assets;\n    for (var i = 0, e = assets.length; i < e; ++i) {\n      var entry = assets[i];\n      var mime = entry.mime;\n      if (mime.indexOf(\'image/\') !== -1) {\n        var id = entry.id;\n        id = id.substr(0, id.indexOf(\'.\'));\n        this.imageId2URI[id] = basePath + entry.URI;\n      }\n\n      if (entry.type === "Autodesk.CloudPlatform.PropertyAttributes")\n      this.propertydb.attrs.push({ path: entry.URI });\n      if (entry.type === "Autodesk.CloudPlatform.PropertyValues")\n      this.propertydb.values.push({ path: entry.URI });\n      if (entry.type === "Autodesk.CloudPlatform.PropertyIDs")\n      this.propertydb.ids.push({ path: entry.URI });\n      if (entry.type === "Autodesk.CloudPlatform.PropertyViewables")\n      this.propertydb.viewables.push({ path: entry.URI });\n      if (entry.type === "Autodesk.CloudPlatform.PropertyOffsets") {\n        // rcv and rcv_offsets are not used any longer\n        if (entry.id.indexOf(\'rcv\') === -1)\n        this.propertydb.offsets.push({ path: entry.URI });\n      }\n      if (entry.type === "Autodesk.CloudPlatform.PropertyAVs")\n      this.propertydb.avs.push({ path: entry.URI });\n    }\n\n  }\n}\n\nF2D.prototype.load = function (loadContext, fydoPack) {\n\n  if (!(fydoPack instanceof Uint8Array))\n  fydoPack = new Uint8Array(fydoPack);\n  this.data = fydoPack;\n  this.parse();\n\n  if (this.stringBoxes.length) {\n    var fbuf = new Float32Array(this.stringBoxes.length);\n    fbuf.set(this.stringBoxes);\n    this.stringBoxes = fbuf;\n  }\n\n  loadContext.loadDoneCB(true);\n};\n\nF2D.prototype.loadFrames = function (loadContext) {\n\n  this.loadContext = loadContext;\n\n  var data = loadContext.data;\n\n  if (data) {\n    if (!(data instanceof Uint8Array))\n    data = new Uint8Array(data);\n    this.data = data;\n  } else if (loadContext.finalFrame) {\n    this.data = null;\n\n    if (this.stringBoxes.length) {\n      var fbuf = new Float32Array(this.stringBoxes.length);\n      fbuf.set(this.stringBoxes);\n      this.stringBoxes = fbuf;\n    }\n  }\n\n  this.parseFrames(loadContext.finalFrame);\n\n  loadContext.loadDoneCB(true);\n};\n\n\nF2D.prototype.pushMesh = function (mesh) {\n  this.meshes.push(mesh);\n\n\n  mesh.material = {\n    skipEllipticals: !this.currentVbb.numEllipticals,\n    skipCircles: !this.currentVbb.numCirculars,\n    skipTriangleGeoms: !this.currentVbb.numTriangleGeoms,\n    skipMiterLines: !this.currentVbb.numMiterLines,\n    useInstancing: this.currentVbb.useInstancing,\n    unpackPositions: !!mesh.unpackXform\n  };\n\n  if (this.currentImage) {\n    mesh.material.image = this.currentImage;\n    mesh.material.image.name = this.imageNumber++;\n    this.currentImage = null;\n  }\n};\n\nF2D.prototype.flushBuffer = function (addCount, finalFlush)\n{\n  if (!this.currentVbb.vcount && !finalFlush)\n  {\n    return;\n  }\n\n  var flush = finalFlush;\n  flush = flush || this.currentVbb.isFull(addCount);\n\n  if (flush) {\n    if (this.currentVbb.vcount) {\n      var mesh = this.currentVbb.toMesh();\n      _common_VbUtils__WEBPACK_IMPORTED_MODULE_3__.VBUtils.bboxUnion(this.bbox, mesh.boundingBox);\n\n      this.pushMesh(mesh);\n      this.currentVbb.reset(0);\n    }\n\n    if (this.loadContext)\n    this.loadContext.loadDoneCB(true, finalFlush);\n  }\n\n\n};\n\nF2D.prototype.tx = function (x) {\n  return this.sx(x);\n};\n\nF2D.prototype.ty = function (y) {\n  return this.sy(y);\n};\n\nF2D.prototype.sx = function (x) {\n  //TODO: The hardcoded scale is used to get the integer coords from FYDO\n  //into something normal and close to page coordinates\n  return x * this.scaleX;\n};\n\nF2D.prototype.sy = function (y) {\n  //TODO: The hardcoded scale is used to get the integer coords from FYDO\n  //into something normal and close to page coordinates\n  return y * this.scaleY;\n};\n\nF2D.prototype.invertColor = function (c) {\n  var a = c >> 24 & 0xff;\n  var b = c >> 16 & 0xff;\n  var g = c >> 8 & 0xff;\n  var r = c & 0xff;\n\n  b = 255 - b;\n  g = 255 - g;\n  r = 255 - r;\n\n  return a << 24 | b << 16 | g << 8 | r;\n};\n\nF2D.prototype.mapColor = function (c, isFill) {\n\n  if (!this.hidePaper || this.bgColor !== 0)\n  return c;\n\n  //Color substitution in cases when we want to interleave the 2D drawing\n  //into a 3D scene (when bgColor is explicitly specified as transparent black (0)\n  //and hidePaper is set to true.\n\n  var r = c & 0xff;\n  var g = (c & 0xff00) >> 8;\n  var b = (c & 0xff0000) >> 16;\n\n  var isGrey = r === g && r === b;\n\n  if (r < 0x7f) {\n\n    //c = this.contrastColor;\n  } else if (isGrey && isFill) {c = c & 0x55ffffff;\n  }\n\n  return c;\n};\n\n// ====================== F2D Parser ================================= //\n\n\n// Convert relative positions to absolute positions, and update global offsets.\nF2D.prototype.parsePointPositions = function () {\n  var x = this.stream.getVarints();\n  var y = this.stream.getVarints();\n\n  x = restoreSignBitFromLSB(x);\n  y = restoreSignBitFromLSB(y);\n\n  x += this.offsetX;\n  y += this.offsetY;\n\n  this.offsetX = x;\n  this.offsetY = y;\n\n  return [this.tx(x), this.ty(y)];\n};\n\nF2D.prototype.parserAssert = function (actualType, expectedType, functionName) {\n  if (actualType != expectedType) {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Expect " + expectedType + "; actual type is " +\n    actualType + "; in function " + functionName);\n    this.error = true;\n    return true;\n  } else {\n    return false;\n  }\n};\n\nF2D.prototype.unhandledTypeWarning = function (inFunction, semanticType) {\n  _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Unhandled semantic type : " + semanticType + " in function " + inFunction);\n};\n\nF2D.prototype.parseObject = function () {\n  var semantic_type = this.stream.getVarints();\n  this.objectStack.push(semantic_type);\n  //debug(semantic_type);\n  switch (semantic_type) {\n    case F2dSemanticType.st_sheet:\n      this.objectNameStack.push("sheet");\n      this.objectMemberQueue.unshift("paperColor");\n      break;\n    case F2dSemanticType.st_viewport:\n      this.objectNameStack.push("viewport");\n      this.objectMemberQueue.unshift("units", "transform");\n      break;\n    case F2dSemanticType.st_clip:\n      this.objectNameStack.push("clip");\n      this.objectMemberQueue.unshift("contourCounts", "points", "indices");\n      break;\n    case F2dSemanticType.st_polytriangle:\n      this.objectNameStack.push("polyTriangle");\n      this.objectMemberQueue.unshift("points", "indices", "colors");\n      break;\n    case F2dSemanticType.st_raster:\n      this.objectNameStack.push("raster");\n      this.objectMemberQueue.unshift("position", "width", "height", "imageId");\n      break;\n    case F2dSemanticType.st_text:\n      this.currentStringNumber = this.strings.length;\n      if (this.objectNumber === 0)\n      this.objectNumber = this.currentFakeId--;\n      this.currentStringBox.makeEmpty();\n      this.objectNameStack.push("text");\n      this.objectMemberQueue.unshift("string", "position", "height", "widthScale", "rotation", "oblique", "charWidths");\n      break;\n    case F2dSemanticType.st_font_def:\n      this.objectNameStack.push("fontDef");\n      this.objectMemberQueue.unshift("name", "fullName", "flags", "spacing", "panose");\n      break;\n    case F2dSemanticType.st_end_object:{\n        this.objectStack.pop(); //pop the end_object we pushed at the beginning of the function\n\n        if (!this.objectStack.length)\n        this.parserAssert(0, 1, "parseEndObject (Stack Empty)");else\n        {\n          //Do any end-of-object post processing depending on object type\n          var objType = this.objectStack.pop(); //pop the start object\n\n          switch (objType) {\n            case F2dSemanticType.st_polytriangle:this.actOnPolyTriangle();break;\n            case F2dSemanticType.st_viewport:this.actOnViewport();break;\n            case F2dSemanticType.st_clip:this.actOnClip();break;\n            case F2dSemanticType.st_raster:this.actOnRaster();break;\n            case F2dSemanticType.st_text:this.actOnText();break;\n            case F2dSemanticType.st_font_def:this.actOnFontDef();break;\n          }\n\n          //Zero out the state of the object we just finished processing\n          var name = this.objectNameStack.pop();\n          var state = this.parseObjState[name];\n          for (var p in state)\n          state[p] = null;\n        }\n\n        this.objectMemberQueue.length = 0;\n      }\n      break;\n    default:\n      this.objectNameStack.push("unknown");\n      this.error = true;\n      this.unhandledTypeWarning(\'parseObject\', semantic_type);\n      break;\n  }\n};\n\n\nF2D.prototype.initSheet = function (paperColor) {\n  if (this.hidePaper)\n  return;\n\n  this.bgColor = paperColor;\n\n  if (this.metadata) {\n    var pw = this.paperWidth;\n    var ph = this.paperHeight;\n\n    var o = { x: 0, y: 0 }; // origin\n    var dw = { x: pw, y: 0 }; // paper width direction\n    var dh = { x: 0, y: ph }; // paper height direction\n\n    // If the metadata has a non-zero rotation, then use it\n    var dim = this.metadata.page_dimensions || {};\n    if (isFinite(dim.paper_rotation) && dim.paper_rotation !== 0) {\n      var angle = dim.paper_rotation * Math.PI / 180;\n      var cos = Math.cos(angle);\n      var sin = Math.sin(angle);\n      dw.y = pw * sin;\n      dw.x = pw * cos;\n      dh.x = -ph * sin;\n      dh.y = ph * cos;\n    }\n    // If the metadata has a non-zero offset, then use them\n    if (isFinite(dim.paper_offset_x) && dim.paper_offset_x !== 0) {\n      o.x = dim.paper_offset_x;\n    }\n    if (isFinite(dim.paper_offset_y) && dim.paper_offset_y !== 0) {\n      o.y = dim.paper_offset_y;\n    }\n\n    var vbb = this.currentVbb;\n\n    var points = [o.x, o.y, o.x + dw.x, o.y + dw.y, o.x + dw.x + dh.x, o.y + dw.y + dh.y, o.x + dh.x, o.y + dh.y];\n    var colors = [paperColor, paperColor, paperColor, paperColor];\n    var indices = [0, 1, 2, 0, 2, 3];\n\n    if (!this.noShadow) {\n      var ss = pw * F2dShadowRatio;\n      var ssw = { x: dw.x * ss / pw, y: dw.y * ss / pw }; // shadow offset in width direction\n      var ssh = { x: dh.x * ss / ph, y: dh.y * ss / ph }; // shadow offset in height direction\n      var ssb = { x: o.x + ssw.x, y: o.y + ssw.y }; // bottom shadow origin\n      var ssr = { x: o.x + dw.x, y: o.y + dw.y }; // right shadow origin\n      var shadowColor = 0xff555555;\n\n      points = points.concat([ssb.x - ssh.x, ssb.y - ssh.y, ssb.x - ssh.x + dw.x, ssb.y - ssh.y + dw.y, ssb.x + dw.x, ssb.y + dw.y, ssb.x, ssb.y,\n      ssr.x, ssr.y, ssr.x + ssw.x, ssr.y + ssw.y, ssr.x + ssw.x - ssh.x + dh.x, ssr.y + ssw.y - ssh.y + dh.y, ssr.x - ssh.x + dh.x, ssr.y - ssh.y + dh.y]);\n      colors = colors.concat([shadowColor, shadowColor, shadowColor, shadowColor,\n      shadowColor, shadowColor, shadowColor, shadowColor]);\n      indices = indices.concat([4, 5, 6, 4, 6, 7,\n      8, 9, 10, 8, 10, 11]);\n\n      this.hasPageShadow = true;\n    }\n\n    var paperLayer = 0; //Put the paper the null layer so it won\'t get turned off.\n    var paperDbId = -1;\n\n    this.addPolyTriangle(points, colors, indices, 0xffffffff, paperDbId, paperLayer, false);\n\n    //Page outline\n    vbb.addSegment(o.x, o.y, o.x + dw.x, o.y + dw.y, 0, 1e-6, 0xff000000, paperDbId, paperLayer, this.currentVpId);\n    vbb.addSegment(o.x + dw.x, o.y + dw.y, o.x + dw.x + dh.x, o.y + dw.y + dh.y, 0, 1e-6, 0xff000000, paperDbId, paperLayer, this.currentVpId);\n    vbb.addSegment(o.x + dw.x + dh.x, o.y + dw.y + dh.y, o.x + dh.x, o.y + dh.y, 0, 1e-6, 0xff000000, paperDbId, paperLayer, this.currentVpId);\n    vbb.addSegment(o.x + dh.x, o.y + dh.y, o.x, o.y, 0, 1e-6, 0xff000000, paperDbId, paperLayer, this.currentVpId);\n\n\n    //Test pattern for line styles.\n    //for (var i=0; i<39; i++) {\n    //    vbb.addSegment(0, ph + i * 0.25 + 1, 12, 12 + ph + i * 0.25 + 1, 0, -1 /* device space pixel width */, 0xff000000, 0xffffffff, 0, 0, i);\n    //}\n\n    //Test pattern for line styles.\n    //for (var i=0; i<39; i++) {\n    //    vbb.addSegment(0, ph + (i+39) * 0.25 + 1, 12, 12 + ph + (i+39) * 0.25 + 1, 0, (1.0 / 25.4) /*1mm width*/, 0xff000000, 0xffffffff, 0, 0, i);\n    //}\n\n  }\n};\n\nF2D.prototype.setObjectMember = function (val) {\n  if (!this.objectMemberQueue.length) {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Unexpected object member. " + val + " on object " + this.objectNameStack[this.objectNameStack.length - 1]);\n    return false;\n  }\n\n  var propName = this.objectMemberQueue.shift();\n  var curObjName = this.objectNameStack[this.objectNameStack.length - 1];\n\n  //The paper color needs to be processed as soon as it comes in\n  //because we want to initialize the page geometry first, before\n  //adding any other geometry\n  if (curObjName == "sheet" && propName == "paperColor") {\n    this.initSheet(val);\n    return true;\n  } else\n  if (curObjName) {\n    this.parseObjState[curObjName][propName] = val;\n    return true;\n  }\n\n  return false;\n};\n\n\nF2D.prototype.parseString = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n\n  var len = s.getVarints();\n  var ret = s.getString(len);\n\n  switch (sema) {\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(ret))\n      return;\n      break;\n    default:_logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.info("Unexpected opcode semantic type for string.");break;\n  }\n\n  return ret;\n};\n\n\nF2D.prototype.actOnFontDef = function () {\n  var fontDef = this.parseObjState.fontDef;\n  this.fontDefs[++this.fontCount] = fontDef;\n  this.fontId = this.fontCount;\n};\n\n\nF2D.prototype.parsePoint = function () {\n  var s = this.stream;\n  var sema = s.getVarints(); //skip past the semantics\n  var ret = this.parsePointPositions();\n\n  switch (sema) {\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(ret))\n      return;\n      break;\n    default:_logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.info("Unexpected opcode semantic type for point.");break;\n  }\n\n  return ret;\n};\n\n\nF2D.prototype.parsePointsArray = function () {\n\n  var s = this.stream;\n\n  var sema = s.getVarints();\n\n  var count = s.getVarints(); // number of coordinates * 2\n  if (!count) return;\n  count = count / 2;\n\n  var ret = [];\n  var position;\n\n  for (var i = 0; i < count; ++i) {\n    position = this.parsePointPositions();\n    ret.push(position[0]);\n    ret.push(position[1]);\n  }\n\n  switch (sema) {\n    case F2dSemanticType.st_polyline:\n      this.actOnPolylinePointsArray(ret);\n      return;\n    case F2dSemanticType.st_dot:\n      this.actOnDot(ret);\n      return;\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(ret))\n      return;\n      break;\n    default:_logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.info("Unexpected opcode semantic type for points array.");break;\n  }\n\n  return ret;\n};\n\nF2D.prototype.parseIntArray = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n  var count = s.getVarints(); // total number of elements in integer array.\n  var retVal = [];\n  for (var i = 0; i < count; ++i) {\n    retVal.push(s.getUint32());\n  }\n\n  switch (sema) {\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(retVal))\n      return;\n      break;\n    default:\n      this.unhandledTypeWarning(\'parseIntArray\', sema);\n      break;\n  }\n\n  return retVal;\n};\n\nF2D.prototype.parseDoubleArray = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n  var count = s.getVarints(); // total number of elements in integer array.\n  var retVal = [];\n  for (var i = 0; i < count; ++i) {\n    retVal.push(s.getFloat64());\n  }\n\n  switch (sema) {\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(retVal))\n      return;\n      break;\n    default:\n      this.unhandledTypeWarning(\'parseDoubleArray\', sema);\n      break;\n  }\n\n  return retVal;\n};\n\nF2D.prototype.parseByteArray = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n  var count = s.getVarints(); // total number of elements in byte array.\n  var retVal = [];\n  for (var i = 0; i < count; ++i) {\n    retVal.push(s.getUint8());\n  }\n\n  switch (sema) {\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(retVal))\n      return;\n      break;\n    default:\n      this.unhandledTypeWarning(\'parseByteArray\', sema);\n      break;\n  }\n\n  return retVal;\n};\n\n\nF2D.prototype.parseVarintArray = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n\n  var ret = [];\n\n  // Total number of integers in array, not the total number of bytes.\n  var count = s.getVarints();\n\n  for (var i = 0; i < count; ++i) {\n    ret.push(s.getVarints());\n  }\n\n  switch (sema) {\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(ret))\n      return;\n      break;\n    default:\n      this.unhandledTypeWarning(\'parseVarIntArray\', sema);\n      break;\n  }\n\n  return ret;\n};\n\n\nF2D.prototype.parseInt = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n  var val = s.getUint32();\n\n  switch (sema) {\n    case F2dSemanticType.st_color:\n      this.color = this.mapColor(val, false);\n      this.currentGeomMetrics.colors++;\n      break;\n    case F2dSemanticType.st_fill:\n      this.fill = true;\n      this.fillColor = this.mapColor(val, true);\n      this.currentGeomMetrics.fills++;\n      break;\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(val))\n      return;\n    default:\n      this.unhandledTypeWarning(\'parseInt\', sema);\n      break;\n  }\n\n  return val;\n};\n\nF2D.prototype.parseVoid = function () {\n  var sema = this.stream.getVarints();\n  switch (sema) {\n    case F2dSemanticType.st_fill_off:\n      this.fill = false;\n      this.currentGeomMetrics.fills++;\n      break;\n    default:\n      this.unhandledTypeWarning(\'parseVoid\', sema);\n      break;\n  }\n};\n\nF2D.prototype.parseVarint = function () {\n  var s = this.stream;\n  var semantic_type = s.getVarints();\n  var val = s.getVarints();\n\n  switch (semantic_type) {\n    case F2dSemanticType.st_line_weight:\n      this.lineWeight = this.tx(val);\n      this.currentGeomMetrics.line_weights++;\n      break;\n    case F2dSemanticType.st_line_caps:\n      this.currentGeomMetrics.line_caps++;\n      break;\n    case F2dSemanticType.st_line_join:\n      this.currentGeomMetrics.line_joins++;\n      break;\n    case F2dSemanticType.st_object_id:\n    case F2dSemanticType.st_markup_id:\n      this.objectNumber = val;\n      this.maxObjectNumber = Math.max(this.maxObjectNumber, val);\n      this.currentGeomMetrics.db_ids++;\n      break;\n    case F2dSemanticType.st_link:\n      if (this.linkNumber) {\n        this.linkBoxes[this.linkNumber] = this.currentLinkBox.clone();\n        this.currentLinkBox.makeEmpty();\n      }\n      this.linkNumber = val;\n      break;\n    case F2dSemanticType.st_layer:\n      this.currentGeomMetrics.layers++;\n      this.layer = this.layersMap[val];\n      break;\n    case F2dSemanticType.st_font_ref:\n      this.fontId = val;\n      break;\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(val))\n      return;\n      break;\n    default:\n      break;\n  }\n\n  return val;\n};\n\nF2D.prototype.parseFloat = function () {\n  var s = this.stream;\n  var semantic_type = s.getVarints();\n  var val = s.getFloat32();\n\n  switch (semantic_type) {\n    case F2dSemanticType.st_miter_angle:\n      break;\n    case F2dSemanticType.st_miter_length:\n      break;\n    case F2dSemanticType.st_object_member:\n      if (this.setObjectMember(val)) {\n        return;\n      }\n      break;\n    default:\n      break;\n  }\n\n  return val;\n};\n\nF2D.prototype.parseCircularArc = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n  if (this.parserAssert(sema, F2dSemanticType.st_arc, \'parseCircularArc\')) return;\n\n  var point = this.parsePointPositions();\n  var major = s.getVarints(), /*rotation = s.getFloat32(),*/start = s.getFloat32(),end = s.getFloat32();\n\n  this.actOnCircularArc(point[0], point[1], start, end, this.sx(major));\n};\n\nF2D.prototype.parseCircle = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n  if (this.parserAssert(sema, F2dSemanticType.st_arc, \'parseCircle\')) return;\n\n  var point = this.parsePointPositions();\n  var major = s.getVarints();\n\n  this.actOnCompleteCircle(point[0], point[1], this.sx(major));\n};\n\nF2D.prototype.parseArc = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n  if (this.parserAssert(sema, F2dSemanticType.st_arc, \'parseArc\')) return;\n\n  // Relative positions.\n  var point = this.parsePointPositions();\n\n  var major = s.getVarints();\n  var minor = s.getVarints();\n\n  var rotation = s.getFloat32();\n  var start = s.getFloat32();\n  var end = s.getFloat32();\n\n  this.actOnArc(point[0], point[1], start, end, this.sx(major), this.sy(minor), rotation);\n};\n\nF2D.prototype.parseDataType = function () {\n  var data_type = this.stream.getVarints();\n\n  switch (data_type) {\n    case F2dDataType.dt_void:\n      this.parseVoid();\n      break;\n    case F2dDataType.dt_int:\n      this.parseInt();\n      break;\n    case F2dDataType.dt_object:\n      this.parseObject();\n      break;\n    case F2dDataType.dt_varint:\n      this.parseVarint();\n      break;\n    case F2dDataType.dt_point_varint:\n      this.parsePoint();\n      break;\n    case F2dDataType.dt_float:\n      this.parseFloat();\n      break;\n    case F2dDataType.dt_point_varint_array:\n      this.parsePointsArray();\n      break;\n    case F2dDataType.dt_circular_arc:\n      this.parseCircularArc();\n      break;\n    case F2dDataType.dt_circle:\n      this.parseCircle();\n      break;\n    case F2dDataType.dt_arc:\n      this.parseArc();\n      break;\n    case F2dDataType.dt_int_array:\n      this.parseIntArray();\n      break;\n    case F2dDataType.dt_varint_array:\n      this.parseVarintArray();\n      break;\n    case F2dDataType.dt_byte_array:\n      this.parseByteArray();\n      break;\n    case F2dDataType.dt_string:\n      this.parseString();\n      break;\n    case F2dDataType.dt_double_array:\n      this.parseDoubleArray();\n      break;\n    default:\n      this.error = true;\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.info("Data type not supported yet: " + data_type);\n      break;\n  }\n};\n\nF2D.prototype.readHeader = function () {\n  var stream = this.stream = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(this.data);\n\n  // "F2D"\n  var header = stream.getString(3);\n\n  if (header !== "F2D") {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.error("Invalid F2D header : " + header, (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_6__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_6__.ErrorCodes.BAD_DATA));\n    return false;\n  }\n\n  var versionMajor = stream.getString(2);\n  if (versionMajor !== "01") {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.error("Only support f2d major version 1; actual version is : " + versionMajor, (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_6__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_6__.ErrorCodes.BAD_DATA));\n    return false;\n  }\n\n  var dot = stream.getString(1);\n  if (dot !== ".") {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.error("Invalid version delimiter.", (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_6__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_6__.ErrorCodes.BAD_DATA));\n    return false;\n  }\n\n  var versionMinor = stream.getString(2);\n  return true;\n};\n\nF2D.prototype.parse = function () {\n  // Read and check header\n  if (!this.readHeader())\n  return;\n\n  var stream = this.stream;\n  while (stream.offset < stream.byteLength) {\n    this.parseDataType();\n    if (this.error)\n    break;\n    this.opCount++;\n  }\n\n  if (this.linkNumber) {\n    this.linkBoxes[this.linkNumber] = this.currentLinkBox.clone();\n    this.currentLinkBox.makeEmpty();\n  }\n\n  this.flushBuffer(0, true);\n  this.currentVbb = null;\n\n  this.stream = null;\n  this.data = null;\n\n  _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.info("F2d parse: data types count : " + this.opCount);\n};\n\nF2D.prototype.parseFrames = function (flush) {\n\n  if (this.data) {\n    var stream = this.stream = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(this.data);\n    while (stream.offset < stream.byteLength) {\n      this.parseDataType();\n      if (this.error)\n      break;\n      this.opCount++;\n    }\n  } else if (!flush) {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Unexpected F2D parse state: If there is no data, we only expect a flush command, but flush was false.");\n  }\n\n  if (flush) {\n    this.flushBuffer(0, true);\n  }\n\n  this.stream = null;\n  this.data = null;\n};\n\n// ================= Semantic Analysis Pass ======================//\n\nF2D.prototype.actOnPolylinePointsArray = function (points) {\n\n  this.flushBuffer();\n\n  // For now only consider this.fill == false case.\n  // TODO: handle fill case.\n\n  var count = points.length / 2;\n\n  var totalLen = 0;\n  var x0 = points[0];\n  var y0 = points[1];\n  for (var i = 1; i < count; ++i) {\n    var x1 = points[2 * i];\n    var y1 = points[2 * i + 1];\n\n    // TODO: make sure this function can be reused as is.\n    this.currentVbb.addSegment(x0, y0, x1, y1, totalLen, this.lineWeight, this.color, this.objectNumber, this.layer, this.currentVpId);\n\n    totalLen += Math.sqrt((x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0));\n\n    x0 = x1;\n    y0 = y1;\n  }\n\n  this.numPolylines++;\n  this.numLineSegs += count - 1;\n\n  this.currentGeomMetrics.plines++;\n  this.currentGeomMetrics.pline_points += count - 1;\n};\n\nF2D.prototype.actOnDot = function (points) {\n\n  this.currentGeomMetrics.dots++;\n\n  var x0 = points[0];\n  var y0 = points[1];\n\n  this.actOnCompleteCircle(x0, y0, this.sx(1), true);\n};\n\n\nF2D.prototype.actOnCompleteCircle = function (cx, cy, radius, skipCount) {\n  // Relative positions.\n  this.flushBuffer();\n  this.numCircles++;\n\n  if (!skipCount)\n  this.currentGeomMetrics.circles++;\n\n  if (this.fill) {\n    //A simple filled circle can be handled\n    //as degenerate thick line segment -- lots of these\n    //in line style grass clippings\n    this.currentVbb.addSegment(cx, cy, cx, cy, 0, 2 * radius, this.color, this.objectNumber,\n    this.layer, this.currentVpId);\n  } else {\n    this.currentVbb.addArc(cx, cy, 0, 2 * Math.PI, /*major*/radius, /*minor*/radius, /*tilt*/0.0,\n    this.lineWeight, this.color, this.objectNumber, this.layer, this.currentVpId);\n  }\n};\n\nF2D.prototype.actOnCircularArc = function (cx, cy, start, end, radius) {\n  this.numCircles++;\n  this.currentGeomMetrics.circ_arcs++;\n  this.flushBuffer();\n\n  //    debug("circle " + start + " " + end + " c " + this.color.toString(16));\n\n  this.currentVbb.addArc(cx, cy, start, end, /*major*/radius, /*minor*/radius, /*tilt*/0.0,\n  this.lineWeight, this.color, this.objectNumber, this.layer, this.currentVpId);\n};\n\nF2D.prototype.actOnArc = function (cx, cy, start, end, major, minor, rotation) {\n  this.numEllipses++;\n  this.currentGeomMetrics.arcs++;\n  // TODO: need this?\n  this.flushBuffer();\n  this.currentVbb.addArc(cx, cy, start, end, major, minor, rotation,\n  this.lineWeight, this.color, this.objectNumber, this.layer, this.currentVpId);\n};\n\nF2D.prototype.actOnRaster = function () {\n\n  if (!this.manifestAvailable)\n  return;\n\n  this.flushBuffer(4, true);\n\n  var ps = this.parseObjState.raster;\n\n  var position = ps.position,\n    imageId = ps.imageId,\n    imageUri = this.imageId2URI[imageId];\n\n  var width = this.sx(ps.width),\n    height = this.sy(ps.height);\n\n  var centerX = position[0] + 0.5 * width,\n    centerY = position[1] - 0.5 * height;\n\n  this.currentVbb.addTexturedQuad(centerX, centerY, width, height, /*rotation*/0, 0xff00ffff, this.objectNumber, this.layer, this.currentVpId);\n  this.currentImage = { dataURI: imageUri };\n\n  //We can do one image per Vertex Buffer, so flush the quad\n  this.flushBuffer(0, true);\n\n  //TODO: we need to compare the contents of the raster also.\n  this.currentGeomMetrics.rasters++;\n};\n\nF2D.prototype.actOnClip = function () {\n\n  var v = this.parseObjState.clip;\n  this.parseObjState.clip = {};\n\n  this.clips.push(v);\n\n  this.currentGeomMetrics.clips++;\n};\n\nF2D.prototype.actOnText = function () {\n  //TODO: text not currently used for rendering,\n  //but we collect the strings for search/lookup purposes\n  this.strings[this.currentStringNumber] = this.parseObjState.text.string;\n\n  this.currentGeomMetrics.texts++;\n  this.currentGeomMetrics.strings.push(this.parseObjState.text.string);\n\n  this.stringDbIds[this.currentStringNumber] = this.objectNumber;\n  this.stringBoxes.push(this.currentStringBox.min.x, this.currentStringBox.min.y, this.currentStringBox.max.x, this.currentStringBox.max.y);\n  if (this.extendStringsFetching) {\n    this.stringCharWidths.push(this.parseObjState.text.charWidths);\n    this.stringAngles.push(this.parseObjState.text.rotation);\n    this.stringPositions.push(this.parseObjState.text.position);\n    this.stringHeights.push(this.parseObjState.text.height);\n  }\n  this.currentStringBox.makeEmpty();\n  this.currentStringNumber = -1;\n  if (this.objectNumber < -1)\n  this.objectNumber = 0; //reset the current object ID in case we were using a fake one for the text object\n};\n\n\nvar _tmpVector = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__.LmvVector3();\n\n//Polytriangle processing differs depending on whether\n//we want edge antialiasing and whether the renderer is using\n//hardware instancing or not, so it require a lot more\n//work than other geometries before sending raw primitives to the\n//vertex buffer.\nF2D.prototype.addPolyTriangle = function (points, colors, inds, color, dbId, layer, antialiasEdges) {\n  var me = this;\n  var edgeMap = null;\n\n  //For non-text geometry we get good looking results with\n  //1 pixel outlines. For text, which is generally small and highly detailed,\n  //a 0.5 pixel AA outline does better.\n  var aaLineWeight = -1.0; //negative = in pixel units\n  if (this.objectStack[this.objectStack.length - 1] == F2dSemanticType.st_text)\n  aaLineWeight = -0.5;\n\n\n  function processEdge(iFrom, iTo) {\n    if (iFrom > iTo) {\n      var tmp = iFrom;\n      iFrom = iTo;\n      iTo = tmp;\n    }\n\n    if (!edgeMap[iFrom])\n    edgeMap[iFrom] = [iTo];else\n    {\n      var adjacentVerts = edgeMap[iFrom];\n      var idx = adjacentVerts.lastIndexOf(iTo);\n      if (idx == -1)\n      adjacentVerts.push(iTo); //first time we see this edge, so remember it as exterior edge\n      else\n      adjacentVerts[idx] = -1; //the second time we see an edge mark it as interior edge\n    }\n  }\n\n\n  function addAllAntialiasEdges() {\n\n    for (var i = 0, iEnd = edgeMap.length; i < iEnd; i++) {\n\n      var adjacentVerts = edgeMap[i];\n      if (!adjacentVerts)\n      continue;\n\n      for (var j = 0; j < adjacentVerts.length; j++) {\n        var iTo = adjacentVerts[j];\n        if (iTo == -1)\n        continue; //an interior edge was here -- skip\n        else {\n          //exterior edge -- add an antialiasing line for it\n          me.flushBuffer(4);\n          me.currentVbb.addSegment(points[2 * i], points[2 * i + 1],\n          points[2 * iTo], points[2 * iTo + 1],\n          0,\n          aaLineWeight,\n          me.mapColor(colors ? colors[i] : color, true),\n          dbId, layer, me.currentVpId);\n          {\n            if (colors && colors[i] != colors[iTo])\n            _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Gouraud triangle encountered. Will have incorrect antialiasing.");}\n        }\n      }\n    }\n  }\n\n  function antialiasOneEdge(iFrom, iTo) {\n    if (iFrom > iTo) {\n      var tmp = iFrom;\n      iFrom = iTo;\n      iTo = tmp;\n    }\n\n    var adjacentVerts = edgeMap[iFrom];\n    if (!adjacentVerts)\n    return;\n\n    var idx = adjacentVerts.indexOf(iTo);\n    if (idx != -1) {\n      //exterior edge -- add an antialiasing line for it\n      me.flushBuffer(4);\n      me.currentVbb.addSegment(points[2 * iFrom], points[2 * iFrom + 1],\n      points[2 * iTo], points[2 * iTo + 1],\n      0,\n      aaLineWeight,\n      me.mapColor(colors ? colors[iFrom] : color, true),\n      dbId, layer, me.currentVpId);\n\n      if (colors && colors[iFrom] != colors[iTo])\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Gouraud triangle encountered. Will have incorrect antialiasing.");\n    }\n  }\n\n  if (antialiasEdges) {\n    edgeMap = new Array(points.length / 2);\n\n    for (var i = 0, iEnd = inds.length; i < iEnd; i += 3) {\n      var i0 = inds[i];\n      var i1 = inds[i + 1];\n      var i2 = inds[i + 2];\n\n      processEdge(i0, i1);\n      processEdge(i1, i2);\n      processEdge(i2, i0);\n    }\n  }\n\n  //If the polytriangle is part of tesselated text or hyperlink, add it to the current\n  //text object bounding box\n  if (this.currentStringNumber !== -1 || this.linkNumber) {\n    var count = points.length / 2; // number of vertices\n    for (var i = 0; i < count; ++i) {\n      _tmpVector.set(points[2 * i], points[2 * i + 1], 0);\n\n      if (this.currentStringNumber !== -1)\n      this.currentStringBox.expandByPoint(_tmpVector);\n\n      if (this.linkNumber)\n      this.currentLinkBox.expandByPoint(_tmpVector);\n    }\n  }\n\n  if (this.currentVbb.useInstancing) {\n    var count = inds.length;\n    for (var i = 0; i < count; i += 3) {\n      var i0 = inds[i];\n      var i1 = inds[i + 1];\n      var i2 = inds[i + 2];\n\n      this.flushBuffer(4);\n\n      this.currentVbb.addTriangleGeom(points[2 * i0], points[2 * i0 + 1],\n      points[2 * i1], points[2 * i1 + 1],\n      points[2 * i2], points[2 * i2 + 1],\n      this.mapColor(colors ? colors[i0] : color, true), dbId, layer, this.currentVpId);\n\n      if (antialiasEdges) {\n        antialiasOneEdge(i0, i1);\n        antialiasOneEdge(i1, i2);\n        antialiasOneEdge(i2, i0);\n      }\n    }\n  } else\n  {\n    var count = points.length / 2; // number of vertices\n\n    this.flushBuffer(count);\n    var vbb = this.currentVbb;\n    var vbase = vbb.vcount;\n\n    for (var i = 0; i < count; ++i) {\n      var x = points[2 * i];\n      var y = points[2 * i + 1];\n      vbb.addVertexPolytriangle(x, y, this.mapColor(colors ? colors[i] : color, true), dbId, layer, this.currentVpId);\n    }\n\n    vbb.addIndices(inds, vbase);\n\n    if (antialiasEdges) {\n      addAllAntialiasEdges();\n    }\n\n  }\n};\n\nF2D.prototype.actOnPolyTriangle = function () {\n\n  var ptri = this.parseObjState.polyTriangle;\n  this.parseObjState.polyTriangle = {};\n\n  var points = ptri.points;\n  var inds = ptri.indices;\n  var colors = ptri.colors;\n\n  if (!points || !inds) {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Malformed polytriangle.");\n    return;\n  }\n\n  //Skip polytriangles that belong to text strings from the geometry stats\n  //as they are not relevant to the sheet signature computation\n  if (this.objectStack[this.objectStack.length - 1] == F2dSemanticType.st_text) {\n    if (this.excludeTextGeometry) {\n      return;\n    }\n  } else {\n    this.currentGeomMetrics.ptris++;\n    this.currentGeomMetrics.ptri_points += points.length / 2;\n    this.currentGeomMetrics.ptri_indices += inds.length;\n  }\n\n  this.numPolytriangles++;\n  this.numTriangles += inds.length / 3;\n\n  this.addPolyTriangle(points, colors, inds, this.color, this.objectNumber, this.layer, true);\n};\n\nF2D.prototype.actOnViewport = function () {\n\n  var v = this.parseObjState.viewport;\n  this.parseObjState.viewport = {};\n\n  v.geom_metrics = this.currentGeomMetrics = initGeomMetrics();\n\n  this.viewports.push(v);\n  this.currentVpId = this.viewports.length - 1;\n};\n\nF2D.prototype.createLayerGroups = function (layers) {\n\n  // Temporary: build the layers tree. Eventually the extractor\n  // should be the one doing this; we\'re incompletely faking it\n  // by looking at the layer names.\n  //\n  var layersRoot = this.layersRoot = { name: \'root\', id: \'root\', childrenByName: {}, isLayer: false };\n  var groupId = 0,layerId = 0;\n\n  for (var l in layers) {\n\n    var index = parseInt(l);\n    var layerDef = layers[l];\n\n    var name = typeof layerDef === "string" ? layerDef : layerDef.name;\n\n    if (!name)\n    name = l; //won\'t get here...\n\n    var path = name.split(\'|\');\n    var parent = layersRoot;\n\n    if (path.length > 1) {\n      for (var i = 0; i < path.length - 1; ++i) {\n        var pathComponent = path[i];\n        var item = parent.childrenByName[pathComponent];\n        if (!item) {\n          item = {\n            name: pathComponent,\n            id: \'group-\' + groupId++,\n            childrenByName: {},\n            isLayer: false\n          };\n          parent.childrenByName[pathComponent] = item;\n        }\n        parent = item;\n      }\n    }\n\n    parent.childrenByName[name] = {\n      name: name,\n      index: index,\n      id: layerId++,\n      childrenByName: {},\n      isLayer: true\n    };\n  }\n\n  function sortLayers(parent) {\n    var children = Object.keys(parent.childrenByName).map(function (k) {return parent.childrenByName[k];});\n    delete parent.childrenByName;\n\n    if (children.length) {\n      parent.children = children;\n\n      parent.childCount = 0;\n\n      for (var i = 0; i < children.length; ++i) {\n        parent.childCount += sortLayers(children[i]);\n      }\n\n      children.sort(function (a, b) {\n        if (a.isLayer && !b.isLayer) {\n          return -1; // Layers before groups\n        } else if (!a.isLayer && b.isLayer) {\n          return 1;\n        }\n        return a.name.localeCompare(b.name, undefined, { sensitivity: \'base\', numeric: true }); // Sort layers and groups by name\n      });\n    }\n\n    return parent.isLayer ? 1 : parent.childCount;\n  }\n  sortLayers(this.layersRoot);\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/f2d/F2dGeometry.js":\n/*!***************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/f2d/F2dGeometry.js ***!\n  \\***************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   F2DGeometry: () => (/* binding */ F2DGeometry)\n/* harmony export */ });\n/* harmony import */ var _GeometryBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeometryBuilder */ "./src/file-loaders/lmvtk/f2d/GeometryBuilder.js");\n/* harmony import */ var _common_InputStream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/InputStream */ "./src/file-loaders/lmvtk/common/InputStream.js");\n/* harmony import */ var _logger_Logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../logger/Logger */ "./src/logger/Logger.js");\n/* harmony import */ var _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../net/ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n/* harmony import */ var _F2d__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./F2d */ "./src/file-loaders/lmvtk/f2d/F2d.js");\n\n\n\n\n\n\nclass F2DGeometry {\n  constructor(metadata, options) {\n    this.metadata = metadata;\n    this.scaleX = 1;\n    this.scaleY = 1;\n    this.bbox = { min: { x: 0, y: 0, z: 0 }, max: { x: 0, y: 0, z: 0 } };\n    this.fillColor = null;\n    if (metadata) {\n      const dimensions = metadata.page_dimensions;\n      this.setScale(dimensions);\n    }\n\n    this.excludeTextGeometry = options.excludeTextGeometry || true;\n\n    this.dbId = 0;\n    this.maxDbId = 0;\n\n    this.geometry = new _GeometryBuilder__WEBPACK_IMPORTED_MODULE_0__.GeometryBuilder();\n\n    // Newly added f2d pasing stuff.\n    this.error = false;\n\n    // Last absolute positions of point parsed so far.\n    // Used to decode relative positions parsed from points array.\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  setScale(dims) {\n    this.paperWidth = dims.page_width;\n    this.paperHeight = dims.page_height;\n\n    // TODO: scale parsing.\n    this.scaleX = this.paperWidth / dims.plot_width;\n    this.scaleY = this.paperHeight / dims.plot_height;\n  }\n\n  load(loadContext, fydoPack) {\n    if (!(fydoPack instanceof Uint8Array)) fydoPack = new Uint8Array(fydoPack);\n    this.data = fydoPack;\n    this.parse();\n\n    loadContext.loadDoneCB(true);\n  }\n\n  loadFrames(loadContext) {\n    this.loadContext = loadContext;\n\n    let data = loadContext.data;\n\n    if (data) {\n      if (!(data instanceof Uint8Array)) data = new Uint8Array(data);\n      this.data = data;\n    } else if (loadContext.finalFrame) {\n      this.data = null;\n    }\n\n    this.probeFrames(loadContext.finalFrame);\n\n    loadContext.loadDoneCB(true);\n  }\n\n  sx(x) {\n    //TODO: The hardcoded scale is used to get the integer coords from FYDO\n    //into something normal and close to page coordinates\n    return x * this.scaleX;\n  }\n\n  sy(y) {\n    //TODO: The hardcoded scale is used to get the integer coords from FYDO\n    //into something normal and close to page coordinates\n    return y * this.scaleY;\n  }\n\n  // ====================== F2D Parser ================================= //\n\n  parserAssert(actualType, expectedType, functionName) {\n    if (actualType != expectedType) {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn(\n        "Expect " +\n        expectedType +\n        "; actual type is " +\n        actualType +\n        "; in function " +\n        functionName\n      );\n      this.error = true;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  parseDataType() {\n    const data_type = this.stream.getVarints();\n    switch (data_type) {\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_void:\n        this.parseVoid();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_int:\n        this.parseInt();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_object:\n        this.parseObject();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_varint:\n        this.parseVarint();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_point_varint:\n        this.parsePoint();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_float:\n        this.parseFloat();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_point_varint_array:\n        this.parsePointsArray();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_circular_arc:\n        this.parseCircularArc();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_circle:\n        this.parseCircle();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_arc:\n        this.parseArc();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_int_array:\n        this.parseIntArray();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_varint_array:\n        this.parseVarintArray();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_byte_array:\n        this.parseByteArray();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_string:\n        this.parseString();\n        break;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dDataType.dt_double_array:\n        this.parseDoubleArray();\n        break;\n      default:\n        this.error = true;\n        _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.info("Data type not supported yet: " + data_type);\n        break;\n    }\n  }\n\n  readHeader() {\n    const stream = this.stream = new _common_InputStream__WEBPACK_IMPORTED_MODULE_1__.InputStream(this.data);\n\n    // "F2D"\n    const header = stream.getString(3);\n\n    if (header !== "F2D") {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\n        "Invalid F2D header : " + header,\n        (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.ErrorCodes.BAD_DATA)\n      );\n      return false;\n    }\n\n    const versionMajor = stream.getString(2);\n    if (versionMajor !== "01") {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\n        "Only support f2d major version 1; actual version is : " + versionMajor,\n        (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.ErrorCodes.BAD_DATA)\n      );\n      return false;\n    }\n\n    const dot = stream.getString(1);\n    if (dot !== ".") {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\n        "Invalid version delimiter.",\n        (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.ErrorCodes.BAD_DATA)\n      );\n      return false;\n    }\n\n    const versionMinor = stream.getString(2);\n    return true;\n  }\n\n  probe() {\n    const stream = this.stream;\n    this.error = false;\n\n    try {\n      while (stream.offset < stream.byteLength) {\n        this.parseDataType();\n        if (this.error) {\n          break;\n        }\n      }\n    } catch (exc) {\n      // Typically caused by out of bounds access of data.\n      const message = exc.toString();\n      const stack = exc.stack ? exc.stack.toString() : "...";\n\n      // Don\'t panic with this - we are supposed to hit out of bounds a couple of times when probing.\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\n        "Error in F2DProbe.prototype.probe : " +\n        message +\n        " with stack : " +\n        stack\n      );\n    }\n  }\n\n  parse() {\n    // Read and check header\n    if (!this.readHeader()) return;\n    this.probe();\n  }\n\n  parseFrames() {\n    if (this.data) {\n      this.stream = new _common_InputStream__WEBPACK_IMPORTED_MODULE_1__.InputStream(this.data);\n      this.probe();\n    }\n\n    this.stream = null;\n    this.data = null;\n  }\n\n  // === Parse Geometry === //\n\n  parsePointPositions() {\n    let x = this.stream.getVarints();\n    let y = this.stream.getVarints();\n\n    x = (0,_F2d__WEBPACK_IMPORTED_MODULE_4__.restoreSignBitFromLSB)(x);\n    y = (0,_F2d__WEBPACK_IMPORTED_MODULE_4__.restoreSignBitFromLSB)(y);\n\n    x += this.offsetX;\n    y += this.offsetY;\n\n    this.offsetX = x;\n    this.offsetY = y;\n\n    return [this.sx(x), this.sy(y)];\n  }\n\n  parseObject() {\n    this.stream.getVarints();\n  }\n\n  parseString() {\n    const s = this.stream;\n    s.getVarints(); //skip past the semantics\n\n    const len = s.getVarints();\n    return s.getString(len);\n  }\n\n  parsePoint() {\n    const s = this.stream;\n    s.getVarints(); //skip past the semantics\n    this.parsePointPositions();\n  }\n\n  parsePointsArray() {\n    const s = this.stream;\n    const sema = s.getVarints();\n\n    let count = s.getVarints(); // number of coordinates * 2\n    if (!count) return;\n    count = count / 2;\n\n    const ret = [];\n    let position;\n\n    for (let i = 0; i < count; ++i) {\n      position = this.parsePointPositions();\n      ret.push(position[0]);\n      ret.push(position[1]);\n    }\n\n    switch (sema) {\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_polyline:\n        this.actOnPolylinePointsArray(ret);\n        return;\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_dot:\n        this.actOnDot(ret[0], ret[1]);\n        return;\n      default:\n        _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.info("Unexpected opcode semantic type for points array.");\n        break;\n    }\n  }\n\n  parseArray(getFunction) {\n    const s = this.stream;\n    s.getVarints();\n    const count = s.getVarints(); // total number of elements in integer array.\n\n    for (let i = 0; i < count; ++i) {\n      getFunction();\n    }\n  }\n\n  parseIntArray() {\n    const s = this.stream;\n    this.parseArray(s.getUint32.bind(s));\n  }\n\n  parseDoubleArray() {\n    const s = this.stream;\n    this.parseArray(s.getFloat64.bind(s));\n  }\n\n  parseByteArray() {\n    const s = this.stream;\n    this.parseArray(s.getUint8.bind(s));\n  }\n\n  parseVarintArray() {\n    const s = this.stream;\n    this.parseArray(s.getVarints.bind(s));\n  }\n\n  parseInt() {\n    const sema = this.stream.getVarints();\n    const val = this.stream.getUint32();\n    switch (sema) {\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_fill:\n        this.fillColor = val;\n        break;\n    }\n\n    return val;\n  }\n\n  parseFloat() {\n    this.stream.getVarints();\n    this.stream.getFloat32();\n  }\n\n  parseVoid() {\n    var sema = this.stream.getVarints();\n    switch (sema) {\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_fill_off:\n        this.fillColor = null;\n        break;\n    }\n  }\n\n  parseVarint() {\n    const s = this.stream;\n    const semantic_type = s.getVarints();\n    const val = s.getVarints();\n\n    switch (semantic_type) {\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_object_id:\n      case _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_markup_id:\n        this.dbId = val;\n        this.maxDbId = Math.max(this.maxDbId, val);\n        break;\n      default:\n        break;\n    }\n  }\n\n  parseCircularArc() {\n    const s = this.stream;\n    const sema = s.getVarints();\n    if (this.parserAssert(sema, _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_arc, "parseCircularArc"))\n    return;\n\n    const point = this.parsePointPositions();\n    const major = s.getVarints();\n    const start = s.getFloat32();\n    const end = s.getFloat32();\n\n    this.actOnCircularArc(point[0], point[1], start, end, this.sx(major));\n  }\n\n  parseCircle() {\n    const s = this.stream;\n    const sema = s.getVarints();\n    if (this.parserAssert(sema, _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_arc, "parseCircle")) return;\n\n    const point = this.parsePointPositions();\n    const major = s.getVarints();\n\n    this.actOnCompleteCircle(point[0], point[1], this.sx(major));\n  }\n\n  parseArc() {\n    const s = this.stream;\n    const sema = s.getVarints();\n    if (this.parserAssert(sema, _F2d__WEBPACK_IMPORTED_MODULE_4__.F2dSemanticType.st_arc, "parseArc")) return;\n\n    // Relative positions.\n    const point = this.parsePointPositions();\n\n    const major = s.getVarints();\n    const minor = s.getVarints();\n\n    const rotation = s.getFloat32();\n    const start = s.getFloat32();\n    const end = s.getFloat32();\n\n    this.actOnArc(\n      point[0],\n      point[1],\n      start,\n      end,\n      this.sx(major),\n      this.sy(minor),\n      rotation\n    );\n  }\n\n  // ================= Semantic Analysis Pass ======================//\n  actOnPolylinePointsArray(points) {\n    this.geometry.addPolyLine(points, this.fillColor, this.dbId);\n  }\n\n  actOnDot(x, y) {\n    this.actOnCompleteCircle(x, y, this.sx(1));\n  }\n\n  actOnCompleteCircle(cx, cy, radius) {\n    // Relative positions.\n    this.geometry.addCircularArc(\n      cx,\n      cy,\n      /*major*/radius,\n      0,\n      2 * Math.PI,\n      this.dbId\n    );\n  }\n\n  actOnCircularArc(cx, cy, start, end, radius) {\n    this.geometry.addCircularArc(\n      cx,\n      cy,\n      /*major*/radius,\n      start,\n      end,\n      this.dbId\n    );\n  }\n\n  actOnArc(cx, cy, start, end, major, minor) {\n    this.geometry.addEllipticalArc(cx, cy, start, end, major, minor, this.dbId);\n  }\n\n  actOnPolyTriangle() {\n    _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("Polytriangles not currently supported.");\n    return;\n  }\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/f2d/F2dProbe.js":\n/*!************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/f2d/F2dProbe.js ***!\n  \\************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   F2DProbe: () => (/* binding */ F2DProbe)\n/* harmony export */ });\n/* harmony import */ var _CheckedInputStream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CheckedInputStream */ "./src/file-loaders/lmvtk/f2d/CheckedInputStream.js");\n/* harmony import */ var _F2d__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./F2d */ "./src/file-loaders/lmvtk/f2d/F2d.js");\n/* harmony import */ var _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../net/ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n/* harmony import */ var _logger_Logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../logger/Logger */ "./src/logger/Logger.js");\n\n\n\n\n\n\n\n\nfunction F2DProbe() {\n  this.data = null;\n  this.frameStart = 0;\n  this.frameEnd = 0;\n  this.stream = null;\n  this.opCount = 0;\n  this.marker = { frameStart: this.frameStart,\n    frameEnd: this.frameEnd };\n}\n\nF2DProbe.prototype.load = function (data) {\n  this.data = data;\n  this.frameStart = 0;\n\n  if (!this.stream) {\n    this.stream = new _CheckedInputStream__WEBPACK_IMPORTED_MODULE_0__.CheckedInputStream(this.data);\n    // Skip headers.\n    this.stream.seek(8);\n    this.frameStart = 8;\n    this.frameEnd = 8;\n  } else\n  {\n    this.stream.reset(this.data);\n    this.stream.seek(0);\n    this.frameEnd = 0;\n  }\n\n  this.probe();\n  this.marker.frameStart = this.frameStart;\n  this.marker.frameEnd = this.frameEnd;\n  return this.marker;\n};\n\nvar F2dProbeDataType = _F2d__WEBPACK_IMPORTED_MODULE_1__.F2dDataType;\nvar F2dProbeSemanticType = _F2d__WEBPACK_IMPORTED_MODULE_1__.F2dSemanticType;\n\nF2DProbe.prototype.readColor = function () {\n  var s = this.stream;\n  s.getVarints(); // data type : dt_int 3\n  s.getVarints(); // semantic type : st_object_member 0\n  s.skipUint32(); // color\n};\n\nF2DProbe.prototype.parsePointPositions = function () {\n  this.stream.getVarints();\n  this.stream.getVarints();\n};\n\nF2DProbe.prototype.unhandledTypeWarning = function (inFunction, semanticType) {\n  _logger_Logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("Unhandled semantic type when probing F2d : " + semanticType + " in function " + inFunction);\n};\n\nF2DProbe.prototype.parseObject = function () {\n  /*var semantic_type =*/this.stream.getVarints();\n  //debug("object parsing : type" + semantic_type);\n};\n\n\nF2DProbe.prototype.parseString = function () {\n  var s = this.stream;\n  s.getVarints();\n  var len = s.getVarints();\n  s.skipBytes(len);\n};\n\nF2DProbe.prototype.parsePoint = function () {\n  this.stream.getVarints();\n  this.parsePointPositions();\n};\n\nF2DProbe.prototype.parseVarintArray = function () {\n  var s = this.stream;\n  s.getVarints();\n\n  var count = s.getVarints();\n  for (var i = 0; i < count; ++i)\n  s.getVarints();\n};\n\nF2DProbe.prototype.parseByteArray = function () {\n  var s = this.stream;\n  s.getVarints();\n  var count = s.getVarints();\n  s.skipBytes(count);\n};\n\nF2DProbe.prototype.parseEndOfObject = function () {\n  var s = this.stream;\n  s.getVarints();\n  s.getVarints();\n};\n\nF2DProbe.prototype.parsePointsArray = function (context) {\n  var s = this.stream;\n  var sema = s.getVarints();\n  var count = s.getVarints(); // number of coordinates * 2\n  if (!count) return;\n  count = count / 2;\n  for (var i = 0; i < count; ++i)\n  this.parsePointPositions();\n};\n\nF2DProbe.prototype.parsePoint = function (context) {\n  var s = this.stream;\n  var sema = s.getVarints();\n  this.parsePointPositions();\n};\n\nF2DProbe.prototype.parseInt = function () {\n  var s = this.stream;\n  var sema = s.getVarints();\n\n  switch (sema) {\n    case F2dProbeSemanticType.st_color:\n      s.skipUint32();\n      break;\n    case F2dProbeSemanticType.st_fill:{\n        s.skipUint32();\n        break;\n      }\n    default:\n      s.skipUint32();\n      this.unhandledTypeWarning(\'parseInt\', sema);\n      break;\n  }\n};\n\nF2DProbe.prototype.parseVoid = function () {\n  var sema = this.stream.getVarints();\n  switch (sema) {\n    case F2dProbeSemanticType.st_fill_off:\n      break;\n    default:\n      this.unhandledTypeWarning(\'parseVoid\', sema);\n      break;\n  }\n};\n\nF2DProbe.prototype.parseVarint = function () {\n  this.stream.getVarints();\n  this.stream.getVarints();\n};\n\nF2DProbe.prototype.parseIntArray = function () {\n  var s = this.stream;\n  s.getVarints();\n  var count = s.getVarints();\n  for (var i = 0; i < count; ++i)\n  s.skipUint32();\n};\n\nF2DProbe.prototype.parseFloat = function () {\n  var s = this.stream;\n  s.getVarints();\n  s.getFloat32();\n};\n\nF2DProbe.prototype.parseDoubleArray = function () {\n  var s = this.stream;\n  s.getVarints();\n  var count = s.getVarints();\n  for (var i = 0; i < count; ++i)\n  s.skipFloat64();\n};\n\nF2DProbe.prototype.parseCircularArc = function () {\n  var s = this.stream;\n  s.getVarints();\n  this.parsePointPositions();\n  s.getVarints();\n  s.getFloat32();\n  s.getFloat32();\n};\n\nF2DProbe.prototype.parseCircle = function () {\n  var s = this.stream;\n  s.getVarints();\n  this.parsePointPositions();\n  s.getVarints();\n};\n\nF2DProbe.prototype.parseArc = function () {\n  var s = this.stream;\n  s.getVarints();\n  this.parsePointPositions();\n  s.getVarints();\n  s.getVarints();\n  s.getFloat32();\n  s.getFloat32();\n  s.getFloat32();\n};\n\nF2DProbe.prototype.parseDataType = function () {\n  var data_type = this.stream.getVarints();\n\n  switch (data_type) {\n    case F2dProbeDataType.dt_void:\n      this.parseVoid();\n      break;\n    case F2dProbeDataType.dt_int:\n      this.parseInt();\n      break;\n    case F2dProbeDataType.dt_object:\n      this.parseObject();\n      break;\n    case F2dProbeDataType.dt_varint:\n      this.parseVarint();\n      break;\n    case F2dProbeDataType.dt_float:\n      this.parseFloat();\n      break;\n    case F2dProbeDataType.dt_point_varint:\n      this.parsePoint();\n      break;\n    case F2dProbeDataType.dt_point_varint_array:\n      this.parsePointsArray();\n      break;\n    case F2dProbeDataType.dt_circular_arc:\n      this.parseCircularArc();\n      break;\n    case F2dProbeDataType.dt_circle:\n      this.parseCircle();\n      break;\n    case F2dProbeDataType.dt_arc:\n      this.parseArc();\n      break;\n    case F2dProbeDataType.dt_varint_array:\n      this.parseVarintArray();\n      break;\n    case F2dProbeDataType.dt_int_array:\n      this.parseIntArray();\n      break;\n    case F2dProbeDataType.dt_byte_array:\n      this.parseByteArray();\n      break;\n    case F2dProbeDataType.dt_string:\n      this.parseString();\n      break;\n    case F2dProbeDataType.dt_double_array:\n      this.parseDoubleArray();\n      break;\n    default:\n      this.error = true;\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_3__.logger.error("Bad op code encountered : " + data_type + " , bail out.", (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__.ErrorCodes.BAD_DATA));\n      break;\n  }\n\n  if (!this.error)\n  this.frameEnd = this.stream.offset;\n};\n\nF2DProbe.prototype.probe = function () {\n  var stream = this.stream;\n  var error = false;\n\n  try {\n    while (stream.offset < stream.byteLength) {\n      this.parseDataType();\n      if (this.error) {\n        break;\n      }\n      this.opCount++;\n    }\n  } catch (exc) {\n    // Typically caused by out of bounds access of data.\n    var message = exc.toString();\n    var stack = exc.stack ? exc.stack.toString() : "...";\n\n    // Don\'t panic with this - we are supposed to hit out of bounds a couple of times when probing.\n    //debug("Error in F2DProbe.prototype.probe : " + message + " with stack : " + stack);\n  }\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/f2d/GeometryBuilder.js":\n/*!*******************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/f2d/GeometryBuilder.js ***!\n  \\*******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeometryBuilder: () => (/* binding */ GeometryBuilder)\n/* harmony export */ });\nconst createEllipticalCurveData = (\ncenter,\nmajorAxis,\nminorAxis,\ntiltInRadians,\nstartInRadians,\nendInRadians,\ndbId) => (\n{\n  ellipse: {\n    center,\n    majorAxis,\n    minorAxis,\n    tiltInRadians\n  },\n  startInRadians,\n  endInRadians,\n  dbId\n});\n\nconst createCircularCurveData = (\ncenter,\nradius,\nstartInRadians,\nendInRadians,\ndbId) => (\n{\n  type: "circularCurve",\n  circle: {\n    center,\n    radius\n  },\n  startInRadians,\n  endInRadians,\n  dbId\n});\n\nconst createPolyLineData = (vertices, fillColor, dbId) => ({\n  type: "polyLine",\n  vertices,\n  fillColor,\n  dbId\n});\n\nconst createTriangleData = (_ref, dbId) => {let [point1, point2, point3] = _ref;return {\n    type: "triangle",\n    point1,\n    point2,\n    point3,\n    dbId\n  };};\n\nconst createLineSegmentData = (from, to, dbId) => ({\n  type: "lineSegment",\n  from,\n  to,\n  dbId\n});\n\nclass GeometryBuilder {\n  constructor() {\n    this.numPolyLine = 0;\n    this.numEllipticals = 0;\n    this.numCirculars = 0;\n    this.numSegments = 0;\n    this.geometries = [];\n  }\n\n  addPolyLine(flatPoints, fillColor, dbId) {\n\n    this.numPolyLine++;\n    const count = flatPoints.length / 2;\n    const points = [];\n    for (let i = 0; i < count; i++) {\n      points.push({ x: flatPoints[2 * i], y: flatPoints[2 * i + 1] });\n    }\n    const polyLine = createPolyLineData(points, fillColor, dbId);\n    this.geometries.push(polyLine);\n  }\n\n  addSegment(to, from, dbId) {\n    this.numSegments++;\n    const lineSegment = createLineSegmentData(to, from, dbId);\n    this.geometries.push(lineSegment);\n  }\n\n  addCircularArc(cx, cy, radius, start, end, dbId) {\n    this.numCirculars++;\n\n    const circularArc = createCircularCurveData(\n      [cx, cy],\n      radius,\n      start,\n      end,\n      dbId\n    );\n    this.geometries.push(circularArc);\n  }\n\n  addEllipticalArc(cx, cy, start, end, majorRadius, minorRadius, dbId) {\n    this.numEllipticals++;\n    const circularArc = createEllipticalCurveData(\n      [cx, cy],\n      majorRadius,\n      minorRadius,\n      start,\n      end,\n      dbId\n    );\n    this.geometries.push(circularArc);\n  }\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/otg/HashStrings.js":\n/*!***************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/otg/HashStrings.js ***!\n  \\***************************************************/\n/***/ ((module) => {\n\nvar TO_HEX = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  var s = i.toString(16);\n  if (s.length === 1)\n  s = "0" + s;\n  TO_HEX[i] = s;\n}\n\n//Most common case is for SHA1 hashes, which are 20 bytes\nvar tmpArr20 = new Array(20);\n\nfunction getHexString(buffer, offset, length) {\n  var res = length === 20 ? tmpArr20 : [];\n\n  for (var i = 0; i < length; i++) {\n    var b = buffer[offset + i];\n    var s = TO_HEX[b];\n    res[i] = s;\n  }\n\n  return res.join("");\n}\n\nvar tmpArr10 = new Array(10);\n\n//Converts the input byte array into a string of half the length\n//by packing two bytes into each string character (JS strings are two bytes per char)\nfunction getHexStringPacked(buffer, offset, length) {\n  var res = length === 20 ? tmpArr10 : [];\n\n  for (var i = 0; i < length; i += 2) {\n    var b0 = buffer[offset + i];\n    var b1 = buffer[offset + i + 1];\n    res[i / 2] = b1 << 8 | b0;\n  }\n\n  return String.fromCharCode.apply(null, res);\n}\n\n//Converts from UCS16 packed string (two bytes per character) to\n//regular ASCII string of 4x the length\nfunction unpackHexString(s) {\n  var res = s.length === 10 ? tmpArr20 : [];\n\n  for (var i = 0; i < s.length; i++) {\n    var bytes = s.charCodeAt(i);\n    res[2 * i] = TO_HEX[bytes & 0xff];\n    res[2 * i + 1] = TO_HEX[bytes >> 8 & 0xff];\n  }\n\n  return res.join("");\n}\n\n\nfunction hexToDec(code) {\n  //0-9\n  if (code >= 48 && code <= 57) {\n    return code - 48;\n  }\n  //A-F\n  if (code >= 65 && code <= 70) {\n    return code - 55;\n  }\n  //a-f\n  if (code >= 97 && code <= 102) {\n    return code - 87;\n  }\n\n  return 0;\n}\n\n//Convert string in hex format, e.g. "3498572abc" to binary\nfunction hexToBin(str, buf, offset) {\n\n  // Go directly from packed to bin\n  if (str.length === 10) {\n    unpackToBin(str, buf, offset);\n    return;\n  }\n\n  let j = offset;\n  for (let i = 0; i < s.length; i += 2) {\n    let d1 = hexToDec(s.charCodeAt(i));\n    let d2 = hexToDec(s.charCodeAt(i + 1));\n    buf[j++] = d1 << 4 | d2;\n  }\n}\n\nfunction unpackToBin(s, buf, offset) {\n  let j = offset;\n  for (var i = 0; i < s.length; i++) {\n    var bytes = s.charCodeAt(i);\n    let h1 = TO_HEX[bytes & 0xff]; // char 1\n    let h2 = TO_HEX[bytes >> 8 & 0xff]; // char 2\n\n    let d1 = hexToDec(h1.charCodeAt(0));\n    let d2 = hexToDec(h1.charCodeAt(1));\n    buf[j++] = d1 << 4 | d2;\n\n    d1 = hexToDec(h2.charCodeAt(0));\n    d2 = hexToDec(h2.charCodeAt(1));\n    buf[j++] = d1 << 4 | d2;\n  }\n}\n\nmodule.exports = {\n  //getHexString,\n  getHexStringPacked,\n  unpackHexString,\n  hexToBin\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/otg/LocalDbCache.js":\n/*!****************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/otg/LocalDbCache.js ***!\n  \\****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalDbCache: () => (/* binding */ LocalDbCache)\n/* harmony export */ });\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../compat */ "./src/compat.js");\n\n\n\n\n//All object stores go into this database\nconst DB_NAME = "otg";\n\nconst CONTENT_STORE = "otg-content";\nconst CONTENT_STORE_LRU = "otg-lru";\n\n\nclass LocalDbCache {\n\n  constructor(forceDisabled, isInlineWorker) {\n    this.db = null;\n    this.readTransaction = null;\n    this.loaded = false;\n    this.opening = false;\n\n    this.dbDisabled = this._isDbDisabled(forceDisabled, isInlineWorker);\n\n    if (!(0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)() && this.dbDisabled) {\n      console.log("IndexedDb disabled");\n    }\n\n    this.storeName = CONTENT_STORE;\n    this.storeNameTimestamp = CONTENT_STORE_LRU;\n    this.bothStoreNames = [this.storeName, this.storeNameTimestamp];\n\n    this.useCompression = true;\n    this.pendingTimestampUpdates = {};\n    this.pendingTimestampCount = 0;\n\n    this.pendingStores = [];\n\n    this._pendingCallbacks = [];\n  }\n\n  // Disable on Safari until we figure out why performance is terrible.\n  // Disable on Node.js because we don\'t need to cache locally on the server side\n  // Disable on Mobile until we decide if we want the performance hit there.\n  // Disable IE11 & Edge if worker created from a Blob URL. IndexedDB is not supported in that case.\n  _isDbDisabled(forceDisabled, isInlineWorker) {\n    return (\n      forceDisabled ||\n      (0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)() ||\n      (0,_compat__WEBPACK_IMPORTED_MODULE_0__.isSafari)() ||\n      (0,_compat__WEBPACK_IMPORTED_MODULE_0__.isMobileDevice)() ||\n      _compat__WEBPACK_IMPORTED_MODULE_0__.isIE11 && isInlineWorker ||\n      typeof indexedDB === "undefined");\n\n  }\n\n  notifyPendingCallbacks(error) {\n    this._pendingCallbacks.forEach((cb) => cb(error, this.db));\n    this._pendingCallbacks = [];\n  }\n\n  open(cb) {\n\n    if (this.dbDisabled) {\n      cb && cb();\n      return;\n    }\n\n    //Call back immediately if we are already open\n    if (this.loaded) {\n      cb && cb(null, this.db);\n      return;\n    }\n\n    //Delay callback if we are still waiting to open.\n    if (this.opening) {\n      cb && this._pendingCallbacks.push(cb);\n      return;\n    }\n\n    this.opening = true;\n\n    //Open the IndexedDb database connection\n    let request = indexedDB.open(DB_NAME, 1);\n\n    request.onerror = (event) => {\n      console.error("Failed to open or create cache database.");\n      this.dbDisabled = true;\n      this.notifyPendingCallbacks(event);\n    };\n    request.onsuccess = (event) => {\n\n      this.opening = false;\n      this.db = event.target.result;\n\n      this.db.onerror = function (event) {\n        console.error("Database error", event);\n      };\n\n      this.loaded = true;\n      this.notifyPendingCallbacks();\n\n      /*\r\n      this.size((err, data) => {\r\n          console.log(data);\r\n      });\r\n      */\n    };\n\n    request.onupgradeneeded = (event) => {\n\n      console.log("Db upgrade", this.storeName);\n\n      // Save the IDBDatabase interface\n      let db = event.target.result;\n\n      // Create the database schema\n      db.createObjectStore(CONTENT_STORE);\n      let os = db.createObjectStore(CONTENT_STORE_LRU);\n      os.createIndex(CONTENT_STORE_LRU + "-index", "t", { unique: false });\n    };\n  }\n\n\n  deleteOld(callback) {\n\n    if (!this.db) {\n      callback();\n      return;\n    }\n\n    if (this.deleteInProgress)\n    return;\n\n    this.deleteInProgress = true;\n\n    let howMany = 200;\n\n    //Avoid deleting stuff that was last used a short while ago, by using a range query\n    let upperBoundOpenKeyRange = IDBKeyRange.upperBound(Date.now() - 300 * 1000, true);\n\n    let hashes = [];\n\n    let objectStore = this.db.transaction([this.storeNameTimestamp] /*, "readwrite"*/).objectStore(this.storeNameTimestamp);\n\n    let index = objectStore.index(this.storeNameTimestamp + "-index");\n\n    index.openCursor(upperBoundOpenKeyRange).onsuccess = (event) => {\n      let cursor = event.target.result;\n      if (cursor && hashes.length < howMany) {\n        hashes.push(cursor.primaryKey);\n        cursor.continue();\n        return;\n      }\n\n      if (hashes.length) {\n\n        console.log("Deleting old objects.", hashes.length);\n\n        let transaction = this.db.transaction(this.bothStoreNames, "readwrite");\n\n        transaction.oncomplete = (event) => {\n          this.deleteInProgress = false;\n          console.log("Delete done");\n          callback && callback();\n        };\n\n        transaction.onerror = (event) => {\n          this.deleteInProgress = false;\n          console.error("Transaction error.", event);\n        };\n\n        transaction.onabort = (event) => {\n          this.deleteInProgress = false;\n          let error = event.target.error; // DOMError\n          console.log("Failed to delete cached objects", error);\n        };\n\n        let objectStoreMain = transaction.objectStore(this.storeName);\n        let objectStoreTimestamp = transaction.objectStore(this.storeNameTimestamp);\n\n        for (let i = 0; i < hashes.length; i++) {\n          objectStoreMain.delete(hashes[i]);\n          objectStoreTimestamp.delete(hashes[i]);\n        }\n\n      }\n    };\n\n\n\n  }\n\n\n  flush(cb) {\n\n    if (!this.pendingStores.length) {\n      cb && cb();\n      return;\n    }\n\n    if (!this.writeTransaction) {\n\n      let transaction = this.db.transaction(this.bothStoreNames, "readwrite");\n\n      if (cb) {\n        transaction.oncomplete = (event) => {\n          //console.log("Transaction complete");\n          cb();\n        };\n      }\n\n      transaction.onerror = (event) => {\n        console.error("Transaction error.", event);\n        cb && cb(event.target.error);\n      };\n\n      transaction.onabort = (event) => {\n        let error = event.target.error; // DOMError\n        if (error.name === \'QuotaExceededError\') {\n          //console.log("Quota exceeded");\n          this.deleteOld(() => {});\n\n        }\n        cb && cb(event.target.error);\n      };\n\n      this.writeTransaction = transaction;\n    }\n\n    for (var i = 0; i < this.pendingStores.length; i += 2) {\n\n      var hash = this.pendingStores[i];\n      var data = this.pendingStores[i + 1];\n\n      let objectStore = this.writeTransaction.objectStore(this.storeName);\n\n      let storeBlob = objectStore.put(data, hash);\n\n      storeBlob.onerror = (event) => {\n        console.error("Object store error.", event);\n      };\n\n      let timestampStore = this.writeTransaction.objectStore(this.storeNameTimestamp);\n      timestampStore.put({ t: Date.now() }, hash);\n\n    }\n\n    this.pendingStores = [];\n\n    //TODO: reuse this transaction for longer\n    this.writeTransaction = null;\n  }\n\n\n  store(hash, data, cb) {\n\n    if (!this.db) {\n      cb && cb();\n      return;\n    }\n\n    // Most of the time (i.e. always) we\'re given a TypedArray that\'s a view on a larger ArrayBuffer:\n    // The geoms/materials came through a websocket and the ArrayBuffer contains the whole message.\n    // Even geoms that did not arrive in a batch contain a header that\'s not geometry data.\n    // To prevent the entire ArrayBuffer being serialized into the cache, create a copy with just the part we\'re interested in.\n    // This also keeps the data alive while the original ArrayBuffer might become unusable (see transferList in OtgLoadWorker)\n    data = data.slice();\n\n    this.pendingStores.push(hash);\n    this.pendingStores.push(data);\n\n    if (this.pendingStores.length < 200 || this.deleteInProgress) {\n      cb && cb();\n      return;\n    }\n\n    this.flush(cb);\n  }\n\n\n  flushTimestamps(cb) {\n\n    let transaction = this.db.transaction([this.storeNameTimestamp], "readwrite");\n\n    if (cb) {\n      transaction.oncomplete = (event) => {\n        //console.log("Transaction complete");\n        cb();\n      };\n    }\n\n    transaction.onerror = (event) => {\n      console.error("Transaction error.", event);\n      cb && cb(event.target.error);\n    };\n\n    transaction.onabort = (event) => {\n      let error = event.target.error; // DOMError\n      if (error.name === \'QuotaExceededError\') {\n        console.log("Quota exceeded");\n        this.deleteOld(() => {});\n      }\n      cb && cb(event.target.error);\n    };\n\n\n    let timestampStore = transaction.objectStore(this.storeNameTimestamp);\n\n    for (let hash in this.pendingTimestampUpdates) {\n      timestampStore.put({ t: this.pendingTimestampUpdates[hash] }, hash);\n    }\n\n    this.pendingTimestampUpdates = {};\n    this.pendingTimestampCount = 0;\n  }\n\n  _createReadTransaction() {\n    //We try to keep the read transaction alive by reusing it\n    //for all new requests. If they come fast enough, the transaction\n    //will stay alive. If it completes, we will create a new one.\n    let transaction = this.readTransaction = this.db.transaction(this.storeName);\n\n    transaction.oncomplete = (event) => {\n      this.readTransaction = null;\n    };\n    transaction.onerror = (event) => {\n      console.error("Transaction error.", event);\n      this.readTransaction = null;\n    };\n    transaction.onabort = (event) => {\n      console.warn("Transaction abort", event);\n      this.readTransaction = null;\n    };\n  }\n\n  get(hash, cb) {\n\n    if (this.opening) {\n      console.error("Tried to get IndexedDb resource while database was still opening");\n      cb(-1, null);\n      return;\n    }\n\n    if (!this.db) {\n      cb(-1, null);\n      return;\n    }\n\n    //We try to reuse the same read transaction for as long as it will let us\n    if (!this.readTransaction) {\n      this._createReadTransaction();\n    }\n\n    let req;\n    //This can fail if the transaction has gone inactive\n    try {\n      req = this.readTransaction.objectStore(this.storeName).get(hash);\n    } catch (e) {\n      this._createReadTransaction();\n      req = this.readTransaction.objectStore(this.storeName).get(hash);\n    }\n\n    req.onsuccess = (event) => {\n\n      //Somehow we sometimes end up getting null for an existing key\n      //so we force reload\n      if (!event.target.result) {\n        cb(-1, null);\n        return;\n      }\n\n\n      let data = event.target.result;\n\n      cb(null, data);\n\n      //Remember the new timestamp for this hash, but don\'t update\n      //it in the mru table immediately, to avoid slowing down model load\n      //with a write transaction.\n      this.pendingTimestampUpdates[hash] = Date.now();\n      this.pendingTimestampCount++;\n    };\n\n    req.onerror = (event) => {\n      cb(event.target.errorCode);\n    };\n\n  }\n\n\n  flushStoresAndTimestamps() {\n\n    if (!this.db)\n    return;\n\n    this.flush((err) => {\n      //console.log("Updating all timestamps");\n\n      if (err) {\n        return;\n      }\n\n      this.flushTimestamps();\n\n    });\n\n  }\n\n  size(callback) {\n    if (!this.db) {\n      callback();\n      return;\n    }\n\n    let size = 0;\n    let items = 0;\n\n    let transaction = this.db.transaction([this.storeName]).\n    objectStore(this.storeName).\n    openCursor();\n\n    transaction.onsuccess = (event) => {\n      let cursor = event.target.result;\n      if (cursor) {\n        let storedObject = cursor.value;\n        size += storedObject.length;\n        items++;\n        cursor.continue();\n      } else\n      {\n        callback(null, { size: size, items: items });\n      }\n    };\n\n    transaction.onerror = function (err) {\n      callback(err);\n    };\n  }\n\n  estimateCachedHashCount(cb) {\n    if (this.opening) {\n      console.error("Tried to get IndexedDb resource while database was still opening");\n      cb(undefined);\n      return;\n    }\n\n    if (!this.db) {\n      cb(undefined);\n      return;\n    }\n\n    let transaction = this.db.transaction(this.storeNameTimestamp);\n    let req;\n    try {\n      req = transaction.objectStore(this.storeNameTimestamp).openKeyCursor();\n    } catch (e) {\n      cb(undefined);\n      return;\n    }\n\n    let count = 2;\n    const probePosition = 1000;\n    req.onsuccess = (event) => {\n      const cursor = event.target.result;\n      if (cursor) {\n        if (--count > 0) {\n          // first call: advance to a specific position in the sorted order of hashes\n          cursor.advance(probePosition - 1);\n        } else {\n          // second call: check key and estimate total hash count\n          // the estimation assumes uniform hash distribution (md5() is used to calculate the hash from some block of data)\n          // and sorted access through IndexDb\n          // it takes the first two bytes of the hash at position `probePosition` and extrapolates the position for 65536 as the first two bytes \n          const firstWord = cursor.key.charCodeAt(0);\n          const estimatedCount = probePosition * 65536 / firstWord;\n          cb(estimatedCount);\n\n          // no need to do anything else\n          transaction.abort();\n        }\n      } else {\n        // an immediately undefined cursor means an empty cache\n        // an undefined cursor after advancing to `probePosition` means less than probePosition entries\n        cb(count == 2 ? 0 : count == 1 ? probePosition : undefined);\n      }\n    };\n\n    req.onerror = (event) => {\n      cb(undefined);\n    };\n  }\n\n  readAllCachedHashes(cb) {\n    if (this.opening) {\n      console.error("Tried to get IndexedDb resource while database was still opening");\n      cb([]);\n      return;\n    }\n\n    if (!this.db) {\n      cb([]);\n      return;\n    }\n\n    // reading all hashes from the timestamp store is faster than from the content store\n    let transaction = this.db.transaction(this.storeNameTimestamp);\n    let req;\n    try {\n      req = transaction.objectStore(this.storeNameTimestamp).getAllKeys();\n    } catch (e) {\n      cb([]);\n      return;\n    }\n\n    req.onsuccess = (event) => {\n      cb(event.target.result);\n    };\n\n    req.onerror = (event) => {\n      cb([]);\n    };\n  }\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/otg/OtgFragInfo.js":\n/*!***************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/otg/OtgFragInfo.js ***!\n  \\***************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OtgFragInfo: () => (/* binding */ OtgFragInfo)\n/* harmony export */ });\n/* harmony import */ var _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../wgs/scene/LmvBox3 */ "./src/wgs/scene/LmvBox3.js");\n\n\nfunction setFromArray(array, offset) {\n\n  this.min.x = array[offset];\n  this.min.y = array[offset + 1];\n  this.min.z = array[offset + 2];\n\n  this.max.x = array[offset + 3];\n  this.max.y = array[offset + 4];\n  this.max.z = array[offset + 5];\n}\n\nfunction copyToArray(array, offset) {\n\n  array[offset] = this.min.x;\n  array[offset + 1] = this.min.y;\n  array[offset + 2] = this.min.z;\n\n  array[offset + 3] = this.max.x;\n  array[offset + 4] = this.max.y;\n  array[offset + 5] = this.max.z;\n}\n\n//Overload of the default FragInfo, used with OTG-specific fragments_extra data file\n//to initialize the BVH spatial index.\nfunction OtgFragInfo(data, loadContext) {\n\n  var byteStride = data[1] << 8 | data[0];\n  //var version = data[3] << 8 | data[2];\n\n  if (!byteStride)\n  byteStride = 7 * 4;\n\n  this.boxStride = byteStride / 4;\n  this.count = data.byteLength / byteStride - 1;\n\n  //Global offset set by the viewer loader client\n  let globalOffset = loadContext.globalOffset || { x: 0, y: 0, z: 0 };\n\n  //Internal double precision offset used in the OTG file format (always set as of November 2018)\n  let fo = loadContext.fragmentTransformsOffset || { x: 0, y: 0, z: 0 };\n\n  if (this.count) {\n    //make views directly into the first data record (skipping the header record)\n    this.boxes = new Float32Array(data.buffer, byteStride);\n    this.flags = new Int32Array(data.buffer, byteStride);\n\n    //apply placement transform if given\n    var boxes = this.boxes;\n\n    if (loadContext.placementTransform) {\n      var tmpBox = new _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_0__.LmvBox3();\n      var offset = 0;\n      for (var i = 0; i < this.count; i++, offset += this.boxStride) {\n\n        setFromArray.call(tmpBox, boxes, offset);\n\n        //Add back the built-in OTG offset\n        tmpBox.min.x += fo.x;\n        tmpBox.min.y += fo.y;\n        tmpBox.min.z += fo.z;\n        tmpBox.max.x += fo.x;\n        tmpBox.max.y += fo.y;\n        tmpBox.max.z += fo.z;\n\n\n        tmpBox.applyMatrix4(loadContext.placementWithOffset); //this will apply both placement and global offset at once\n\n        copyToArray.call(tmpBox, boxes, offset);\n      }\n    } else {\n\n      var ox = fo.x - globalOffset.x;\n      var oy = fo.y - globalOffset.y;\n      var oz = fo.z - globalOffset.z;\n\n      //Faster code path when we only have global offset and no placement transform\n      for (var i = 0, offset = 0; i < this.count; i++, offset += this.boxStride) {\n\n        boxes[offset] += ox;\n        boxes[offset + 1] += oy;\n        boxes[offset + 2] += oz;\n\n        boxes[offset + 3] += ox;\n        boxes[offset + 4] += oy;\n        boxes[offset + 5] += oz;\n      }\n    }\n  }\n\n  this.hasPolygonCounts = true;\n  this.wantSort = false;\n}\n\nOtgFragInfo.prototype.getCount = function () {\n  return this.count;\n};\n\nOtgFragInfo.prototype.isTransparent = function (i) {\n  var flags = this.flags[i * this.boxStride + 6];\n  return !!(flags & 0x01000000);\n};\n\nOtgFragInfo.prototype.getPolygonCount = function (i) {\n  var flags = this.flags[i * this.boxStride + 6];\n  return flags & 0xffffff;\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/otg/OtgGeomCodec.js":\n/*!****************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/otg/OtgGeomCodec.js ***!\n  \\****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readLmvBufferGeom: () => (/* binding */ readLmvBufferGeom),\n/* harmony export */   serializeLmvBufferGeom: () => (/* binding */ serializeLmvBufferGeom)\n/* harmony export */ });\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../compat */ "./src/compat.js");\n/* harmony import */ var _common_InputStream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/InputStream */ "./src/file-loaders/lmvtk/common/InputStream.js");\n/* harmony import */ var _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../wgs/scene/LmvBox3 */ "./src/wgs/scene/LmvBox3.js");\n/* harmony import */ var _wgs_scene_BufferGeometryUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../wgs/scene/BufferGeometryUtils */ "./src/wgs/scene/BufferGeometryUtils.js");\n\n\n\n\n\n\n/*\nIntegers encoded in *little endian*\n\nMagic header: LMV0 (4 bytes)\nFlags: 2 bytes (isLine, isPoint, isWideLine, etc.)\nNum buffers: 1 byte\nNum attributes: 1 byte (attributes are fixed size)\nBuf Offsets (from beginning of data block, first buffer is always at 0, so is skipped): 4 bytes each\nAttributes: {\n\tName: 1 byte enum (Index, IndexEdges, Position, Normal, TextureUV, Color)\n\titemSize: 1/2 byte low nibble (must be 1,2,3 or 4)\n\titemType: 1/2 byte hi nibble (BYTE, SHORT, UBYTE, USHORT, FLOAT ...)\n\titemOffset: 1 byte (in bytes)\n\titemStride: 1 byte (stride in bytes)\n\tbuffer Idx: 1 bytes\n} (5 bytes each)\n\n(padding bytes to make data stream offset a multiple of 4)\n\nData: binary, concatenated vertex and index streams\n*/\n\nconst AttributeName = {\n  Index: 0,\n  IndexEdges: 1,\n  Position: 2,\n  Normal: 3,\n  TextureUV: 4,\n  Color: 5\n};\n\nconst AttributeType = {\n  BYTE: 0,\n  SHORT: 1,\n  UBYTE: 2,\n  USHORT: 3,\n\n  BYTE_NORM: 4,\n  SHORT_NORM: 5,\n  UBYTE_NORM: 6,\n  USHORT_NORM: 7,\n\n  FLOAT: 8,\n  INT: 9,\n  UINT: 10\n  //DOUBLE: 11\n};\n\n\nconst MeshFlags = {\n  //NOTE: Lower two bits are NOT A BITMASK!!!\n  TRIANGLES: 0,\n  LINES: 1,\n  POINTS: 2,\n  WIDE_LINES: 3\n\n\n};\n\n\nconst LMV2OTGAttr = {\n  "position": AttributeName.Position,\n  "normal": AttributeName.Normal,\n  "index": AttributeName.Index,\n  "indexlines": AttributeName.IndexEdges,\n  "color": AttributeName.Color\n};\n\nconst OTG2LMVAttr = {};\nOTG2LMVAttr[AttributeName.Position] = "position";\nOTG2LMVAttr[AttributeName.Normal] = "normal";\nOTG2LMVAttr[AttributeName.Index] = "index";\nOTG2LMVAttr[AttributeName.IndexEdges] = "indexlines";\nOTG2LMVAttr[AttributeName.Color] = "color";\nOTG2LMVAttr[AttributeName.TextureUV] = "uv";\n\n\nconst AttributeTypeToSize = {};\nAttributeTypeToSize[AttributeType.BYTE] = 1;\nAttributeTypeToSize[AttributeType.SHORT] = 2;\nAttributeTypeToSize[AttributeType.UBYTE] = 1;\nAttributeTypeToSize[AttributeType.USHORT] = 2;\nAttributeTypeToSize[AttributeType.BYTE_NORM] = 1;\nAttributeTypeToSize[AttributeType.SHORT_NORM] = 2;\nAttributeTypeToSize[AttributeType.UBYTE_NORM] = 1;\nAttributeTypeToSize[AttributeType.USHORT_NORM] = 2;\nAttributeTypeToSize[AttributeType.FLOAT] = 4;\nAttributeTypeToSize[AttributeType.INT] = 4;\nAttributeTypeToSize[AttributeType.UINT] = 4;\n//DOUBLE: 11\n\n\n\nfunction rotate(tri) {\n  var tmp = tri[0];\n  tri[0] = tri[1];\n  tri[1] = tri[2];\n  tri[2] = tmp;\n}\n\nfunction deltaEncodeIndexBuffer3(ib) {\n\n  var triangles = [];\n\n  for (var i = 0; i < ib.length; i += 3) {\n    triangles.push(\n      [ib[i], ib[i + 1], ib[i + 2]]\n    );\n  }\n\n  //Sort the indices for each triangle so that\n  //the first one is smallest\n  for (var i = 0; i < triangles.length; i++) {\n    var t = triangles[i];\n\n    while (t[0] > t[1] || t[0] > t[2]) {\n      rotate(t);\n    }\n  }\n\n  //Sort triangles by ascending first index\n  triangles.sort(function (a, b) {\n    return a[0] - b[0];\n  });\n\n  //Delta encode the indices\n  var t = triangles[0];\n  var j = 0;\n  ib[j] = t[0];\n  ib[j + 1] = t[1] - t[0];\n  ib[j + 2] = t[2] - t[0];\n  j += 3;\n\n  for (var i = 1; i < triangles.length; i++, j += 3) {\n    t = triangles[i];\n\n    ib[j] = t[0] - triangles[i - 1][0];\n    ib[j + 1] = t[1] - t[0];\n    ib[j + 2] = t[2] - t[0];\n  }\n\n}\n\nfunction deltaEncodeIndexBuffer2(ib) {\n\n  var lines = [];\n\n  for (var i = 0; i < ib.length; i += 2) {\n    lines.push(\n      [ib[i], ib[i + 1]]\n    );\n  }\n\n  //Sort the indices for each triangle so that\n  //the first one is smallest\n  for (var i = 0; i < lines.length; i++) {\n    var t = lines[i];\n\n    if (t[0] > t[1]) {\n      var tmp = t[0];\n      t[0] = t[1];\n      t[1] = tmp;\n    }\n  }\n\n  //Sort lines by ascending first index\n  lines.sort(function (a, b) {\n    return a[0] - b[0];\n  });\n\n  //Delta encode the indices\n  var t = lines[0];\n  var j = 0;\n  ib[j] = t[0];\n  ib[j + 1] = t[1] - t[0];\n  j += 2;\n\n  for (var i = 1; i < lines.length; i++, j += 2) {\n    t = lines[i];\n\n    ib[j] = t[0] - lines[i - 1][0];\n    ib[j + 1] = t[1] - t[0];\n  }\n\n}\n\n\nfunction deltaDecodeIndexBuffer3(ib) {\n\n  if (!ib.length)\n  return;\n\n  ib[1] += ib[0];\n  ib[2] += ib[0];\n\n  for (var i = 3; i < ib.length; i += 3) {\n    ib[i] += ib[i - 3];\n    ib[i + 1] += ib[i];\n    ib[i + 2] += ib[i];\n  }\n}\n\nfunction deltaDecodeIndexBuffer2(ib) {\n\n  if (!ib.length)\n  return;\n\n  ib[1] += ib[0];\n\n  for (var i = 2; i < ib.length; i += 2) {\n    ib[i] += ib[i - 2];\n    ib[i + 1] += ib[i];\n  }\n}\n\nfunction attrNameMapper(attributeName) {\n\n  var name = LMV2OTGAttr[attributeName];\n  if (typeof name !== "undefined")\n  return name;\n\n  if (attributeName.indexOf("uv") === 0) {\n    return AttributeName.TextureUV;\n  }\n\n  console.warn("Unknown attribute name");\n  return AttributeName.TextureUV;\n}\n\n\nfunction attrNameToLMV(attrName) {\n\n  var lmvAttr = OTG2LMVAttr[attrName];\n  if (lmvAttr)\n  return lmvAttr;\n\n  console.error("Unknown vertex attribute");\n  return AttributeName.TextureUV;\n}\n\n\nfunction attrTypeMapper(attr) {\n\n  var type = AttributeType.FLOAT;\n\n  var itemWidth = attr.bytesPerItem || 4;\n  if (itemWidth === 1) {\n    type = attr.normalized ? AttributeType.UBYTE_NORM : AttributeType.UBYTE;\n  } else if (itemWidth === 2) {\n    type = attr.normalized ? AttributeType.USHORT_NORM : AttributeType.USHORT;\n  }\n\n  return type << 4 | attr.itemSize & 0xf;\n}\n\nfunction indexTypeMapper(attr) {\n  var type = AttributeType.USHORT;\n\n  var itemWidth = attr.bytesPerItem || 2;\n  if (itemWidth === 1) {\n    type = AttributeType.UBYTE;\n  } else if (itemWidth === 2) {\n    type = AttributeType.USHORT;\n  } else if (itemWidth === 4) {\n    type = AttributeType.UINT;\n  }\n\n  return type << 4 | attr.itemSize & 0xf;\n}\n\n\nfunction OtgGeomEncoder() {\n}\n\n\nOtgGeomEncoder.prototype.beginHeader = function (meshFlag, numAttributes, dataStreamLengths) {\n  var headerSize = 8;\n\n  var numBuffers = dataStreamLengths.length;\n  headerSize += (numBuffers - 1) * 4;\n\n  headerSize += numAttributes * 5;\n\n  while (headerSize % 4 !== 0) {\n    headerSize++;\n  }\n\n  var totalDataSize = 0;\n  for (var i = 0; i < dataStreamLengths.length; i++)\n  totalDataSize += dataStreamLengths[i];\n\n  this.buffer = Buffer.alloc(headerSize + totalDataSize);\n  this.writeOffset = 0;\n\n  //Write the 4 byte magic prefix\n  const MAGIC = "OTG0";\n  for (var i = 0; i < 4; i++) {\n    this.writeOffset = this.buffer.writeUInt8(MAGIC.charCodeAt(i), this.writeOffset);\n  }\n\n  //TODO: line width if wide lines and pointSize if points\n\n  this.writeOffset = this.buffer.writeUInt16LE(meshFlag, this.writeOffset);\n\n  this.writeOffset = this.buffer.writeUInt8(numBuffers, this.writeOffset);\n\n  this.writeOffset = this.buffer.writeUInt8(numAttributes, this.writeOffset);\n\n  //write buffer offsets from the beginning of the binary data block\n  //Skip the first buffer as its at offset zero\n  var offset = dataStreamLengths[0];\n  for (var i = 1; i < dataStreamLengths.length; i++) {\n    this.writeOffset = this.buffer.writeUInt32LE(offset, this.writeOffset);\n    offset += dataStreamLengths[i];\n  }\n};\n\nOtgGeomEncoder.prototype.addAttribute = function (attrName, attr, stride, bufferIndex) {\n  this.writeOffset = this.buffer.writeUInt8(attrName, this.writeOffset);\n\n  if (attrName === AttributeName.Index || attrName === AttributeName.IndexEdges) {\n\n    this.writeOffset = this.buffer.writeUInt8(indexTypeMapper(attr), this.writeOffset);\n\n    this.writeOffset = this.buffer.writeUInt8((attr.itemOffset || 0) * 4, this.writeOffset); //itemOffset\n    this.writeOffset = this.buffer.writeUInt8((stride || 0) * 4, this.writeOffset); //itemStride\n\n    this.writeOffset = this.buffer.writeUInt8(bufferIndex, this.writeOffset); //buffer index\n  } else {\n    this.writeOffset = this.buffer.writeUInt8(attrTypeMapper(attr), this.writeOffset);\n\n    this.writeOffset = this.buffer.writeUInt8((attr.itemOffset || 0) * 4, this.writeOffset); //itemOffset (LMV stores in multiples of 4)\n    this.writeOffset = this.buffer.writeUInt8((stride || 0) * 4, this.writeOffset); //itemStride (LMV stores in multiples of 4)\n\n    this.writeOffset = this.buffer.writeUInt8(bufferIndex, this.writeOffset); //buffer index\n  }\n};\n\n\nOtgGeomEncoder.prototype.endHeader = function () {\n  //Padding so that buffers are written at multiple of 4\n  while (this.writeOffset % 4 !== 0) {\n    this.writeOffset = this.buffer.writeUInt8(0, this.writeOffset);\n  }\n};\n\nOtgGeomEncoder.prototype.addBuffer = function (buffer) {\n  buffer.copy(this.buffer, this.writeOffset);\n  this.writeOffset += buffer.length;\n};\n\n\nOtgGeomEncoder.prototype.end = function () {\n  if (this.writeOffset !== this.buffer.length) {\n    console.error("Incorrect encoding buffer size");\n  }\n\n  return this.buffer;\n};\n\n\n\nfunction OtgGeomDecoder(buf) {\n\n  this.buffer = buf;\n  this.readOffset = 0;\n\n  this.meshFlag = 0;\n  this.numBuffers = 0;\n  this.numAttributes = 0;\n  this.bufferOffsets = [];\n  this.attributes = [];\n  this.buffers = [];\n}\n\n\nOtgGeomDecoder.prototype.readNodeJS = function () {\n\n  var magic = this.buffer.toString("ascii", 0, 4);\n  if (magic !== "OTG0") {\n    console.error("Invalid OTG header");\n    return false;\n  }\n\n  this.readOffset = 4;\n\n  this.meshFlag = this.buffer.readUInt16LE(this.readOffset);\n  this.readOffset += 2;\n\n  this.numBuffers = this.buffer.readUInt8(this.readOffset);\n  this.readOffset++;\n\n  this.numAttributes = this.buffer.readUInt8(this.readOffset);\n  this.readOffset++;\n\n  if (this.numBuffers) {\n    this.bufferOffsets.push(0);\n\n    for (var i = 1; i < this.numBuffers; i++) {\n      var boff = this.buffer.readUInt32LE(this.readOffset);\n      this.readOffset += 4;\n      this.bufferOffsets.push(boff);\n    }\n  }\n\n  for (var i = 0; i < this.numAttributes; i++) {\n    var attr = {};\n\n    attr.name = this.buffer.readUInt8(this.readOffset);\n    this.readOffset++;\n\n    var type = this.buffer.readUInt8(this.readOffset);\n    this.readOffset++;\n\n    attr.itemSize = type & 0xf;\n    attr.type = type >> 4;\n\n    attr.bytesPerItem = AttributeTypeToSize[attr.type];\n\n    attr.normalized = attr.type === AttributeType.BYTE_NORM ||\n    attr.type === AttributeType.SHORT_NORM ||\n    attr.type === AttributeType.UBYTE_NORM ||\n    attr.type === AttributeType.USHORT_NORM;\n\n\n    attr.itemOffset = this.buffer.readUInt8(this.readOffset) / 4;\n    this.readOffset++;\n\n    attr.itemStride = this.buffer.readUInt8(this.readOffset) / 4;\n    this.readOffset++;\n\n    attr.bufferIndex = this.buffer.readUInt8(this.readOffset);\n    this.readOffset++;\n\n    this.attributes.push(attr);\n  }\n\n  //seek to the beginning of the buffer data\n  while (this.readOffset % 4 !== 0)\n  this.readOffset++;\n\n  for (var i = 0; i < this.bufferOffsets.length; i++) {\n\n    var startOffset = this.readOffset + this.bufferOffsets[i];\n    var endOffset;\n\n    if (i < this.bufferOffsets.length - 1) {\n      endOffset = this.readOffset + this.bufferOffsets[i + 1];\n    } else {\n      endOffset = this.buffer.length;\n    }\n\n    this.buffers.push(this.buffer.slice(startOffset, endOffset));\n  }\n\n  return true;\n};\n\n\nOtgGeomDecoder.prototype.readWeb = function () {\n\n  var stream = new _common_InputStream__WEBPACK_IMPORTED_MODULE_1__.InputStream(this.buffer);\n\n  var magic = stream.getString(4);\n  if (magic !== "OTG0") {\n    console.error("Invalid OTG header");\n    return false;\n  }\n\n\n  this.meshFlag = stream.getUint16();\n  this.numBuffers = stream.getUint8();\n  this.numAttributes = stream.getUint8();\n\n  if (this.numBuffers) {\n    this.bufferOffsets.push(0);\n\n    for (var i = 1; i < this.numBuffers; i++) {\n      var boff = stream.getUint32();\n      this.bufferOffsets.push(boff);\n    }\n  }\n\n  for (var i = 0; i < this.numAttributes; i++) {\n    var attr = {};\n\n    attr.name = stream.getUint8();\n\n    var type = stream.getUint8();\n\n    attr.itemSize = type & 0xf;\n    attr.type = type >> 4;\n\n    attr.bytesPerItem = AttributeTypeToSize[attr.type];\n\n    attr.normalized = attr.type === AttributeType.BYTE_NORM ||\n    attr.type === AttributeType.SHORT_NORM ||\n    attr.type === AttributeType.UBYTE_NORM ||\n    attr.type === AttributeType.USHORT_NORM;\n\n\n    attr.itemOffset = stream.getUint8() / 4;\n\n    attr.itemStride = stream.getUint8() / 4;\n\n    attr.bufferIndex = stream.getUint8();\n\n    this.attributes.push(attr);\n  }\n\n  //seek to the beginning of the buffer data\n  while (stream.offset % 4 !== 0)\n  stream.offset++;\n\n  for (var i = 0; i < this.bufferOffsets.length; i++) {\n\n    var startOffset = stream.offset + this.bufferOffsets[i];\n    var endOffset;\n\n    if (i < this.bufferOffsets.length - 1) {\n      endOffset = stream.offset + this.bufferOffsets[i + 1];\n    } else {\n      endOffset = stream.byteLength;\n    }\n\n    this.buffers.push(this.buffer.subarray(startOffset, endOffset));\n  }\n\n  return true;\n};\n\n\nOtgGeomDecoder.prototype.read = function () {\n\n  if ((0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)() && this.buffer instanceof Buffer) {\n    return this.readNodeJS();\n  } else {\n    return this.readWeb();\n  }\n};\n\n\n/**\n * @param {BufferGeometry} geom\n * @returns {Buffer}\n */\nfunction serializeLmvBufferGeom(geom) {\n\n  var otgEncoder = new OtgGeomEncoder();\n\n  //Check for interleaved buffer. For now\n  //this is the only one we support\n  var bufSizes = [];\n  let vbstride, vb, ib, iblines;\n  if (!(0,_wgs_scene_BufferGeometryUtils__WEBPACK_IMPORTED_MODULE_3__.isInterleavedGeometry)(geom)) {\n    console.error("Unexpected non-interleaved vertex buffer");\n    return null;\n  } else {\n\n    vb = geom.vb;\n    vbstride = geom.vbstride;\n\n\n\n\n\n    ib = (0,_wgs_scene_BufferGeometryUtils__WEBPACK_IMPORTED_MODULE_3__.getIndexBufferArray)(geom);\n    iblines = (0,_wgs_scene_BufferGeometryUtils__WEBPACK_IMPORTED_MODULE_3__.getLineIndexBufferArray)(geom);\n\n    bufSizes = [vb.byteLength, ib.byteLength];\n\n    if (iblines) {\n      bufSizes.push(iblines.byteLength);\n    }\n  }\n\n  var attrKeys = Object.keys(geom.attributes);\n\n  var meshFlag = 0;\n  if (geom.isLines)\n  meshFlag = meshFlag | MeshFlags.LINES;\n  if (geom.isWideLines)\n  meshFlag = meshFlag | MeshFlags.WIDE_LINES;\n  if (geom.isPoints)\n  meshFlag = meshFlag | MeshFlags.POINTS;\n\n  otgEncoder.beginHeader(meshFlag, attrKeys.length, bufSizes);\n\n  //Write the attributes\n  for (var i = 0; i < attrKeys.length; i++) {\n    var attr = geom.attributes[attrKeys[i]];\n    var attrName = attrNameMapper(attrKeys[i]);\n\n    if (attrKeys[i] === "index") {\n      otgEncoder.addAttribute(attrName, attr, 0, 1);\n    } else if (attrKeys[i] === "indexlines") {\n      otgEncoder.addAttribute(attrName, attr, 0, 2);\n    } else {\n      otgEncoder.addAttribute(attrName, attr, vbstride, 0);\n    }\n\n  }\n\n  otgEncoder.endHeader();\n\n  //Write the buffers\n\n  //Buffer 0\n  var tmp = Buffer.from(vb.buffer, vb.byteOffset, vb.byteLength);\n  otgEncoder.addBuffer(tmp);\n\n  //Buffer 1\n  if (geom.isLines)\n  deltaEncodeIndexBuffer2(ib);else\n\n  deltaEncodeIndexBuffer3(ib);\n\n  tmp = Buffer.from(ib.buffer, ib.byteOffset, ib.byteLength);\n  otgEncoder.addBuffer(tmp);\n\n  //Buffer 2\n  if (iblines) {\n    deltaEncodeIndexBuffer2(iblines);\n\n    tmp = Buffer.from(iblines.buffer, iblines.byteOffset, iblines.byteLength);\n    otgEncoder.addBuffer(tmp);\n  }\n\n  var buf = otgEncoder.end();\n\n  return buf;\n}\n\n\n\nvar unitBox = new _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_2__.LmvBox3();\nunitBox.min.x = -0.5;\nunitBox.min.y = -0.5;\nunitBox.min.z = -0.5;\nunitBox.max.x = 0.5;\nunitBox.max.y = 0.5;\nunitBox.max.z = 0.5;\n\n//var unitSphere = new THREE.Sphere();\n//unitSphere.radius = Math.sqrt(0.5 * 0.5 * 3);\nvar unitSphere = {\n  center: { x: 0, y: 0, z: 0 },\n  radius: Math.sqrt(0.5 * 0.5 * 3)\n};\n\nfunction readLmvBufferGeom(buffer, skipEdges) {\n\n  var dec = new OtgGeomDecoder(buffer);\n\n  if (!dec.read()) {\n    console.error("Failed to parse OTG geometry");\n    return null;\n  }\n\n  //Assumes the interleaved buffer serialization we use by default\n  //Maps the decoded data to the mdata/vblayout structures produced by\n  //the LMV loader worker threads. It\'s slightly different from the LmvBufferGeometry fields\n  var mesh = {\n    vblayout: {},\n    vb: new Float32Array(dec.buffers[0].buffer, dec.buffers[0].byteOffset, dec.buffers[0].byteLength / 4),\n    isLines: (dec.meshFlag & 0x3) === MeshFlags.LINES,\n    isWideLines: (dec.meshFlag & 0x3) === MeshFlags.WIDE_LINES,\n    isPoints: (dec.meshFlag & 0x3) === MeshFlags.POINTS,\n    boundingBox: unitBox,\n    boundingSphere: unitSphere\n  };\n\n  //TODO: line width\n  let uvCount = 0;\n\n  for (var i = 0; i < dec.attributes.length; i++) {\n    var attr = dec.attributes[i];\n\n    if (attr.name === AttributeName.Index) {\n      var ib = dec.buffers[1];\n      if (attr.bytesPerItem === 1) {\n        mesh.indices = ib;\n      } else if (attr.bytesPerItem === 2) {\n        mesh.indices = new Uint16Array(ib.buffer, ib.byteOffset, ib.byteLength / attr.bytesPerItem);\n      } else if (attr.bytesPerItem === 4) {\n        mesh.indices = new Uint32Array(ib.buffer, ib.byteOffset, ib.byteLength / attr.bytesPerItem);\n      }\n\n      if (mesh.isLines)\n      deltaDecodeIndexBuffer2(mesh.indices);else\n\n      deltaDecodeIndexBuffer3(mesh.indices);\n    } else if (attr.name === AttributeName.IndexEdges) {\n      if (!skipEdges) {\n        var iblines = dec.buffers[2];\n        if (attr.bytesPerItem === 1) {\n          mesh.iblines = iblines;\n        } else if (attr.bytesPerItem === 2) {\n          mesh.iblines = new Uint16Array(iblines.buffer, iblines.byteOffset, iblines.byteLength / attr.bytesPerItem);\n        } else if (attr.bytesPerItem === 4) {\n          mesh.iblines = new Uint32Array(iblines.buffer, iblines.byteOffset, iblines.byteLength / attr.bytesPerItem);\n        }\n\n        deltaDecodeIndexBuffer2(mesh.iblines);\n      }\n    } else {\n      var lmvAttr = attrNameToLMV(attr.name);\n\n      if (lmvAttr === "uv") {\n        uvCount++;\n        if (uvCount > 1) {\n          lmvAttr += uvCount.toString();\n        }\n      }\n\n      if (!mesh.vbstride)\n      mesh.vbstride = attr.itemStride;else\n      {\n        //We expect all vertex attributes to be packed into one VB\n        if (mesh.vbstride !== attr.itemStride)\n        console.error("Unexpected vertex buffer stride mismatch.");\n      }\n\n      if (attr.itemOffset >= attr.itemStride) {\n\n\n\n\n        //Some old (pre- October 2018) meshes have an extra UV attribute defined even though\n        //it\'s not physically in the vertex buffer data. We skip it here.\n        //If the attribute offset is out of bounds, we just ignore it.\n        //console.warn("Buggy OTG mesh. Ignoring out of bounds attribute");\n      } else {mesh.vblayout[lmvAttr] = { bytesPerItem: attr.bytesPerItem, offset: attr.itemOffset, normalized: attr.normalized,\n          itemSize: attr.itemSize\n        };\n      }\n    }\n\n  }\n\n  var mdata = {\n    mesh: mesh,\n    packId: 0,\n    meshIndex: 0\n  };\n\n  return mdata;\n\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/otg/OtgWebSocket.js":\n/*!****************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/otg/OtgWebSocket.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst { WebSocketBase, STATE } = __webpack_require__(/*! ./WebSocketBase */ "./src/file-loaders/lmvtk/otg/WebSocketBase.js");\nconst hexToBin = (__webpack_require__(/*! ./HashStrings */ "./src/file-loaders/lmvtk/otg/HashStrings.js").hexToBin);\nconst getHexStringPacked = (__webpack_require__(/*! ./HashStrings */ "./src/file-loaders/lmvtk/otg/HashStrings.js").getHexStringPacked);\n\n//OTG web socket protocol.\nclass OtgWs extends WebSocketBase {\n\n  //Packed message format, where the response from the server may contain multiple items in the same\n  //buffer.\n  /*\n      The format is as follows:\n       Bytes      Meaning\n      ------------------------------\n      0-3        Magic number. The bytes \'OPK1\'\n      4-7        Currently unused flags + resource type (ASCII \'m\' or \'g\') in byte 0 of this integer.\n      8-11       Number of items in the message stream. Little endian.\n      12-15      Offset of the first item in the data buffer (first item is implicitly at offset 0, so this is always zero)\n      16-19      Offset of the second item in the data buffer\n      20-...     etc... subsequent offsets, one per item\n      ...\n      Remaining bytes: all items combined into single buffer\n  */\n\n  _decodeMessage(buffer) {\n    const prefixLength = 12;\n\n    const headerInt = new Int32Array(buffer, 0, prefixLength / 4);\n\n    if (headerInt[0] !== 0x314B504F) {\n      console.error("Invalid message format", headerInt[0].toString(16), headerInt[1], buffer);\n      return;\n    }\n\n    const resourceType = String.fromCharCode(headerInt[1] & 0xff);\n\n    const numItems = headerInt[2];\n    const offsets = new Int32Array(buffer, prefixLength, numItems);\n\n    const baseOffset = prefixLength + numItems * 4;\n    const items = new Uint8Array(buffer, baseOffset);\n\n    const hashes = [];\n    const arrays = [];\n\n    for (let i = 0; i < offsets.length; i++) {\n      const start = offsets[i];\n      const end = i < offsets.length - 1 ? offsets[i + 1] : items.byteLength;\n\n      const hash = getHexStringPacked(items, start, 20);\n      const data = items.subarray(start + 20, end);\n\n      this.numRequestsReceived++;\n      if (resourceType === "e") {\n        // The first four bytes are a HTTP-statuscode-like error code. It doesn\'t add anything to the message so we ignore it.\n        // See https://git.autodesk.com/A360/platform-ds-ss/blob/6c439e82f3138eed3935b68096d2d980ffe95616/src/ws-server/ws-server.js#L310\n        let errorMessage = new TextDecoder().decode(data.subarray(4));\n        errorMessage = "The service returned the following message: " + errorMessage;\n        let actualResourceType = this.inFlightRequests.get(hash).type;\n        this.inFlightRequests.delete(hash);\n        this.onResourceFailed(hash, actualResourceType, errorMessage);\n        continue;\n      }\n      hashes.push(hash);\n      arrays.push(data);\n      this.inFlightRequests.delete(hash);\n    }\n    this.onResourcesReceived(hashes, arrays, resourceType);\n  }\n\n\n  _flushSendQueue() {var _this$ws;\n    if (((_this$ws = this.ws) === null || _this$ws === void 0 ? void 0 : _this$ws.readyState) !== STATE.OPEN) {\n      return;\n    }\n\n    for (const [accountId, pendingsSendsOfAccount] of this._pendingSends) {\n\n      // Set accountId for the following messages\n      if (this.accountIdSent !== accountId) {\n        this.ws.send("/account_id/" + accountId);\n        this.accountIdSent = accountId;\n      }\n\n      for (const [type, msgs] of pendingsSendsOfAccount) {\n        if (!msgs.length)\n        continue;\n\n        this.numRequestsSent += msgs.length;\n\n        //Send all hashes collected in requestResource in a single shot websocket message\n\n        //Enlarge the accumulation buffer if needed\n        const len = 1 + msgs.length * 20;\n        if (this.msgBuffer.length < len) {\n          this.msgBuffer = new Uint8Array(len);\n        }\n\n        this.msgBuffer[0] = type.charCodeAt(0);\n        for (let i = 0; i < msgs.length; i++) {\n          hexToBin(msgs[i], this.msgBuffer, 1 + i * 20);\n        }\n        this.ws.send(new Uint8Array(this.msgBuffer.buffer, 0, len));\n      }\n    }\n    this._pendingSends.clear();\n    this._numPendingSends = 0;\n  }\n\n  // @param {string}   url - request url\n  // @param {string}   hash - corresponding hash\n  // @param {string}   type - "m" or "g" (material or geometry)\n  // @param {any}      queryParams - additional data passed back into onConnectionFailed (currently only used for the HTTP fallback)\n  requestResource(url, hash, type, queryParams) {\n    if (this.hasPermanentError) {\n      console.error("requestResource called on unusable WebSocket");\n      return;\n    }\n\n    const wspath = url.slice(url.indexOf("/cdn/") + 5);\n    const accountId = wspath.split("/")[1];\n\n    if (!this._pendingSends.has(accountId)) {\n      this._pendingSends.set(accountId, new Map([\n      ["g", []],\n      ["m", []]]\n      ));\n    }\n    this._pendingSends.get(accountId).get(type).push(hash);\n    this._numPendingSends++;\n    this.inFlightRequests.set(hash, { url: url, type: type, queryParams: queryParams });\n  }\n}\n\nmodule.exports.OtgWs = OtgWs;\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/otg/WebSocketBase.js":\n/*!*****************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/otg/WebSocketBase.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst WebSocket = __webpack_require__(/*! isomorphic-ws */ "./node_modules/isomorphic-ws/browser.js");\n\n//Copied from compat.js to avoid importing ES6 exports from plain node.js forge-tools.\nconst isBrowser = typeof navigator !== "undefined";\nconst isNodeJS = function () {\n  return !isBrowser;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/readyState\nconst STATE = Object.freeze({\n  CONNECTING: 0,\n  OPEN: 1,\n  CLOSING: 2,\n  CLOSED: 3\n});\n\n/** A base class for web socket based resource loading.\n * \n * Since this class has a history of race conditions and multiple attempts to fix them, here are some notes.\n * \n * States a WebSocketBase can be in:\n * ws === null: Constructor OR closeWebSocket called, but not _openWebSocket\n * ws.readyState === CONNECTING: _openWebSocket called, but not onopen.\n * ws.readyState === OPEN: onopen called, but not closeWebSocket or onclose. \n * ws.readyState === CLOSING: server/browser initiated a close, but onclose was not called yet. This is unexpected and will go to one of the error states.\n * ws.readyState === CLOSED && retryEvent: there was an unexpected error, and _openWebSocket will be called again shortly.\n * hasPermanentError: there was an unrecoverable error. Either WebSockets are not supported, or all retries to open one have failed.\n * \n * Apart from OtgLoadWorker calling any of the API methods at any point, be aware of the following events:\n * * retryEvent firing\n * * The browser closes the WebSocket because the internet connection broke down. (code: 1006)\n * * The server closes the WebSocket after one minute without requests. (code: 1000, reason: \'Idle timeout\')\n *     * When using on-demand loading, this is not an error. The WebSocket must be reopened when requestResource is called again.\n * * The server closes the WebSocket if a resource was requested that was not authorized. (code: 1007, reason: \'401 (Unauthorized)\')\n * * Any other internal server error.\n * * Also, be aware that closeWebSocket might never be called when on-demand loading is active.\n * \n * When the WebSocket is closing, one task switches it to CLOSING without calling any handler, and another one later switches\n * it to CLOSED and calls the close handler, see https://websockets.spec.whatwg.org/#feedback-from-the-protocol.\n * Since this is done in a task, the state cannot suddenly change while any of our code is running.\n * It\'s ok that there\'s no onclosing handler: the CLOSING state will make every send() a noop, and our close/error handler will re-issue all requests.\n */\nclass WebSocketBase {\n\n  constructor(url, queryParams, headers, onResourcesReceived, onResourceFailed, onConnectionFailed) {\n\n    this.ws = null;\n    this.url = url;\n    this.queryParams = queryParams;\n    this.headers = headers;\n    this.numRequestsSent = 0;\n    this.numRequestsReceived = 0;\n    this.authorizeUrns = new Set();\n    this._retriedOpen = 0;\n    this.retryEvent = null;\n    this.hasPermanentError = typeof WebSocket === "undefined" || !this.url;\n    this.onResourcesReceived = onResourcesReceived;\n    this.onResourceFailed = onResourceFailed;\n    this.onConnectionFailed = onConnectionFailed;\n\n    this._pendingSends = new Map();\n    this._numPendingSends = 0;\n    this.inFlightRequests = new Map();\n\n    this.msgBuffer = new Uint8Array(201);\n  }\n\n  addAuthorizeUrn(authorizeUrn) {var _this$ws;\n    if (this.authorizeUrns.has(authorizeUrn) || this.hasPermanentError) {\n      return;\n    }\n    // Since this is also called on every requestResource, it\'s not strictly necessary here.\n    // This is a performance optimization, to start opening the web socket as early as possible.\n    this._openWebSocket();\n\n    if (((_this$ws = this.ws) === null || _this$ws === void 0 ? void 0 : _this$ws.readyState) === STATE.OPEN) {\n      // Since we won\'t go through the onOpen handler anymore, authorize the new urns directly.\n      this.ws.send("/auth/" + authorizeUrn);\n    }\n\n    this.authorizeUrns.add(authorizeUrn);\n  }\n\n  _openWebSocket() {\n    if (this.ws || this.hasPermanentError) {\n      return;\n    }\n\n    //http and 7124->7125 are here to support local debugging, when the endpoints are overridden to\n    //point directly to local node.js process(es).\n    let url = this.url.replace("https:", "wss:").replace("http:", "ws:").replace(":7124", ":7125");\n\n    if (this.queryParams) {\n      url += "?" + this.queryParams;\n    }\n\n    this.ws = new WebSocket(url, undefined, isNodeJS() ? { headers: this.headers } : {});\n\n    this.ws.onopen = () => {\n      this.accountIdSent = null;\n      this.ws.binaryType = "arraybuffer";\n\n      //On web clients that do not use the cookie approach, the headers\n      //will not get sent (unlike on node.js WebSocket implementation\n      //so we send the Authorization first thing after open\n      if (!isNodeJS()) {\n        this.ws.send("/headers/" + JSON.stringify(this.headers));\n      }\n\n      //Tell the server that we expect batched responses\n      this.ws.send("/options/" + JSON.stringify({ batch_responses: true, report_errors: true }));\n\n      //Tell the server to authorize the web socket\n      //for the URNs that we will be loading\n      for (const urn of this.authorizeUrns) {\n        this.ws.send("/auth/" + urn);\n      }\n    };\n\n    this.ws.onmessage = (event) => this._decodeMessage(event.data);\n\n    // We do not set onerror, since every error event is followed by a close event, so onclose is enough.\n    // This will only be run for unexpected close events, because we reset the close event handler before closing the web socket intentionally \n    this.ws.onclose = (event) => {\n\n      // Close code 1000 means NORMAL_CLOSURE, currently only used by the server on idle timeout. \n      // This is not an error and we don\'t wan\'t to retry in this case.\n      if (event.code === 1000 && this.inFlightRequests.size === 0) {\n        this.closeWebSocket(); // It\'s already closed, but we want to also reset the state.\n        return;\n      }\n\n      console.warn(\n        "Abnormal socket close.",\n        "pending sends:", this._numPendingSends,\n        "in flight", this.inFlightRequests.size,\n        "event:", event\n      );\n\n      this._pendingSends = new Map();\n      this._numPendingSends = 0;\n\n      // try again opening later or give up\n      if (this._retriedOpen < 3) {\n        console.warn("Retrying");\n        this._retriedOpen++;\n        this.retryEvent = setTimeout(() => {\n          this.retryEvent = null;\n          this.ws = null;\n          this._openWebSocket();\n        }, 2000);\n      } else {\n        console.error("Too many WebSocket failures. Giving up.");\n        this.hasPermanentError = true;\n      }\n\n      this.onConnectionFailed(this.inFlightRequests);\n      this.inFlightRequests.clear();\n    };\n  }\n\n  /** This should be called when no new requests are expected. */\n  closeWebSocket() {\n    if (!this.ws) {\n      return;\n    }\n    // Violating this assert won\'t break something here, but in-flight requests will be lost\n    // and pending requests will be issued on next _openWebSocket, which is probably not intended\n    console.assert(this.inFlightRequests.size === 0, "closeWebSocket called even though there are requests in flight");\n\n    if (this.retryEvent) {\n      clearTimeout(this.retryEvent);\n      this.retryEvent = null;\n    }\n\n    // We don\'t care if anything goes wrong past this point.\n    // By unsetting this on regular close, any call to our onclose handler is unexpected and is an error.\n    // This seemed more robust than checking for our closing message in the close handler.\n    this.ws.onclose = null;\n\n    const ws = this.ws;\n    if (this.ws.readyState === STATE.CONNECTING) {\n      // We could just close the connection right away, which is allowed by the spec.\n      // However, browsers will print a warning which is not nice, in particular for small cached models that load\n      // faster than the WS open, this would mean a fair bit of console spam. So we wait for the WS to open first.\n      this.ws.onopen = () => ws.close(1000, "no more work expected"); // close code 1000 means normal closure\n    } else {\n      // If this.ws is CLOSING or CLOSED, close() is a NOOP.\n      this.ws.close(1000, "no more work expected");\n    }\n    this.ws = null;\n  }\n\n  _decodeMessage(buffer) {\n    throw new Error(\'Implement!\');\n  }\n\n  _flushSendQueue() {\n    throw new Error(\'Implement!\');\n  }\n\n  /** This must not be called before a corresponding call to addAuthorizeUrn, otherwise the server will close the WebSocket\n   *  and the WebSocketBase will go into the error state after retrying. */\n  requestResource() {\n    throw new Error(\'Implement!\');\n  }\n}\n\nmodule.exports.WebSocketBase = WebSocketBase;\nmodule.exports.STATE = STATE;\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/svf/Cameras.js":\n/*!***********************************************!*\\\n  !*** ./src/file-loaders/lmvtk/svf/Cameras.js ***!\n  \\***********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readCameraDefinition: () => (/* binding */ readCameraDefinition)\n/* harmony export */ });\n\n\nfunction readCameraDefinition(pfr, inst) {\n  var entry = inst.definition;\n  var tse = pfr.seekToEntry(entry);\n  if (!tse)\n  return null;\n  if (tse.version > 2 /*Constants::CameraDefinitionVersion*/)\n  return null;\n\n  var s = pfr.stream;\n  var cam = {\n    isPerspective: !s.getUint8(), /* 0 = perspective, 1 = ortho */\n    position: pfr.readVector3f(),\n    target: pfr.readVector3f(),\n    up: pfr.readVector3f(),\n    aspect: s.getFloat32(),\n    fov: s.getFloat32() * (180 / Math.PI)\n  };\n  if (tse.version < 2) {\n    // Skip the clip planes for old files.\n    s.getFloat32();\n    s.getFloat32();\n  }\n\n  cam.orthoScale = s.getFloat32();\n\n  return cam;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/svf/Fragments.js":\n/*!*************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/svf/Fragments.js ***!\n  \\*************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FragList: () => (/* binding */ FragList),\n/* harmony export */   filterFragments: () => (/* binding */ filterFragments),\n/* harmony export */   readFragments: () => (/* binding */ readFragments),\n/* harmony export */   readGeometryMetadata: () => (/* binding */ readGeometryMetadata),\n/* harmony export */   readGeometryMetadataIntoFragments: () => (/* binding */ readGeometryMetadataIntoFragments)\n/* harmony export */ });\n/* harmony import */ var _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../wgs/scene/LmvBox3 */ "./src/wgs/scene/LmvBox3.js");\n/* harmony import */ var _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../wgs/scene/LmvMatrix4 */ "./src/wgs/scene/LmvMatrix4.js");\n/* harmony import */ var _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../wgs/scene/LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../compat */ "./src/compat.js");\n/* harmony import */ var _wgs_scene_MeshFlags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../wgs/scene/MeshFlags */ "./src/wgs/scene/MeshFlags.js");\n\n\n\n\n\n\n//FragList represents an array of fragments, stored in Structure of Arrays form\n//which allows us to free some parts easily and transfer the fragment information in large chunks.\nvar NUM_FRAGMENT_LIMITS = (0,_compat__WEBPACK_IMPORTED_MODULE_3__.isMobileDevice)() ? null : null;\nvar MAX_BBOX_RATIO = 100;\n\n/** @constructor */\n// note: update transferable var list in SvfWorker.ts if you add a new field\nfunction FragList() {\n  this.length = 0;\n  this.numLoaded = 0;\n\n  this.boxes = null;\n  this.transforms = null;\n  this.materials = null;\n\n  this.packIds = null;\n  this.entityIndexes = null;\n\n  this.fragId2dbId = null;\n\n  this.topoIndexes = null;\n\n  this.visibilityFlags = null;\n}\n\nfunction readGeometryMetadataIntoFragments(pfr, fragments) {\n  var length = fragments.geomDataIndexes.length;\n  var stream = pfr.stream;\n  var primsCount = 0;\n\n  // Read from cache if the same entry has been reading from stream.\n  var entryCache = {};\n  var mesh2frag = fragments.mesh2frag = {};\n  fragments.polygonCounts = fragments.geomDataIndexes;\n  for (var g = 0; g < length; g++) {\n    var entry = fragments.geomDataIndexes[g];\n\n    if (entryCache[entry]) {\n      var i = entryCache[entry];\n      fragments.polygonCounts[g] = fragments.polygonCounts[i];\n      fragments.packIds[g] = fragments.packIds[i];\n      fragments.entityIndexes[g] = fragments.entityIndexes[i];\n      primsCount += fragments.polygonCounts[g];\n    } else\n    {\n      var tse = pfr.seekToEntry(entry);\n      if (!tse)\n      return;\n\n      // Frag type, seems no use any more.\n      stream.getUint8();\n      //skip past object space bbox -- we don\'t use that\n      stream.seek(stream.offset + 24);\n\n      fragments.polygonCounts[g] = stream.getUint16();\n      fragments.packIds[g] = parseInt(pfr.readString());\n      fragments.entityIndexes[g] = pfr.readU32V();\n      primsCount += fragments.polygonCounts[g];\n\n      entryCache[entry] = g;\n    }\n\n    // Construct mesh2frag here directly\n    var meshid = fragments.packIds[g] + ":" + fragments.entityIndexes[g];\n    var meshRefs = mesh2frag[meshid];\n    if (meshRefs === undefined) {\n      //If it\'s the first fragments for this mesh,\n      //store the index directly -- most common case.\n      mesh2frag[meshid] = g;\n    } else\n    if (!Array.isArray(meshRefs)) {\n      //otherwise put the fragments that\n      //reference the mesh into an array\n      mesh2frag[meshid] = [meshRefs, g];\n    } else\n    {\n      //already is an array\n      meshRefs.push(g);\n    }\n\n  }\n  fragments.geomDataIndexes = null;\n  entryCache = null;\n\n  return primsCount;\n}\n\nfunction readGeometryMetadata(pfr, geoms)\n{\n  var numGeoms = pfr.getEntryCounts();\n  var stream = pfr.stream;\n\n  geoms.length = numGeoms;\n  var fragTypes = geoms.fragTypes = new Uint8Array(numGeoms);\n  var primCounts = geoms.primCounts = new Uint16Array(numGeoms);\n  var packIds = geoms.packIds = new Int32Array(numGeoms);\n  var entityIndexes = geoms.entityIndexes = new Int32Array(numGeoms);\n  // Holds the indexes to the topology data.\n  var topoIndexes;\n\n  for (var g = 0, gEnd = numGeoms; g < gEnd; g++) {\n    var tse = pfr.seekToEntry(g);\n    if (!tse)\n    return;\n\n    fragTypes[g] = stream.getUint8();\n    //skip past object space bbox -- we don\'t use that\n    stream.seek(stream.offset + 24);\n    primCounts[g] = stream.getUint16();\n    packIds[g] = parseInt(pfr.readString());\n    entityIndexes[g] = pfr.readU32V();\n\n    if (tse.version > 2) {\n      var topoIndex = stream.getInt32();\n      if (topoIndex != -1 && topoIndexes === undefined) {\n        topoIndexes = geoms.topoIndexes = new Int32Array(numGeoms);\n        // Fill in the first entries to indicate\n        for (var i = 0; i < g; i++)\n        topoIndexes[i] = -1;\n      }\n\n      if (topoIndexes != undefined)\n      topoIndexes[g] = topoIndex;\n    }\n\n  }\n}\n\n// Convert a list of object id (dbid) to a list of integers where each integer is an index of the fragment\n// in fragment list that associated with the object id.\nfunction objectIds2FragmentIndices(pfr, ids) {\n  var ret = [];\n\n  if (!ids) {\n    return ret;\n  }\n\n  var counts = pfr.getEntryCounts();\n  var stream = pfr.stream;\n  for (var entry = 0; entry < counts; entry++) {\n    var tse = pfr.seekToEntry(entry);\n    if (!tse)\n    return;\n    if (tse.version > 5)\n    return;\n\n    // Keep reading fragment fields as usual, but does not store anything as we only\n    // interested in the data base id / object id field at the very end.\n    if (tse.version > 4) {\n      // Flag byte.\n      pfr.readU8();\n    }\n    // Material index\n    pfr.readU32V();\n    if (tse.version > 2) {\n      // Geometry metadata reference\n      pfr.readU32V();\n    } else {\n      // Pack file reference\n      pfr.readString();\n      pfr.readU32V();\n    }\n\n    // Transform\n    pfr.readTransform(entry, null, 12 * entry);\n\n    // Bounding box\n    for (var i = 0; i < 6; i++) {\n      stream.getFloat32();\n    }\n\n    if (tse.version > 1) {\n      var dbid = pfr.readU32V();\n      if (ids.indexOf(dbid) >= 0) {\n        ret.push(entry);\n      }\n    }\n  }\n\n  return ret;\n}\n\nvar _tmpVector = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__.LmvVector3();\n\n// globalOffset:        GlobalOffset as specified by loadOptions (may be undefined)\n// defaultGlobalOffset: GlobalOffset as initially chosen by SvfPlacementUtil.initPlacement\nfunction readFragments(pfr, frags, globalOffset, placementTransform, fragmentTransformsDouble, ids, bbox, defaultGlobalOffset) {\n  var filteredIndices = objectIds2FragmentIndices(pfr, ids);\n\n  //Initialize all the fragments structures\n  //once we know how many fragments we have.\n  var numFrags = filteredIndices.length ? filteredIndices.length : pfr.getEntryCounts();\n  var stream = pfr.stream;\n\n  if (NUM_FRAGMENT_LIMITS && numFrags > NUM_FRAGMENT_LIMITS) {\n    numFrags = NUM_FRAGMENT_LIMITS;\n  }\n\n  // Recored the total length of the fragments\n  frags.totalLength = pfr.getEntryCounts();\n  frags.length = numFrags;\n  frags.numLoaded = 0;\n\n  //Allocate flat array per fragment property\n  var fragBoxes = frags.boxes = fragmentTransformsDouble ? new Float64Array(6 * numFrags) : new Float32Array(6 * numFrags);\n  var transforms = frags.transforms = fragmentTransformsDouble ? new Float64Array(12 * numFrags) : new Float32Array(12 * numFrags);\n  var materials = frags.materials = new Int32Array(numFrags);\n  var packIds = frags.packIds = new Int32Array(numFrags);\n  var entityIndexes = frags.entityIndexes = new Int32Array(numFrags);\n  var geomDataIndexes = frags.geomDataIndexes = new Int32Array(numFrags);\n  var fragId2dbId = frags.fragId2dbId = new Int32Array(numFrags); //NOTE: this potentially truncates IDs bigger than 4 billion -- can be converted to array if needed.\n  var visibilityFlags = frags.visibilityFlags = new Uint16Array(numFrags);\n\n  var tmpBox;\n  var tmpMat;\n  var boxTranslation = [0, 0, 0];\n  if (placementTransform) {\n    tmpBox = new _wgs_scene_LmvBox3__WEBPACK_IMPORTED_MODULE_0__.LmvBox3();\n    tmpMat = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_1__.LmvMatrix4(true).fromArray(placementTransform.elements);\n  }\n\n  var calculateOffset = !globalOffset && bbox;\n  var dpTranslations = transforms;\n  // Normally the translations component of transforms is 12 entries for each\n  // transform and then offset by 9 in the transform.\n  var translationSize = 12;\n  var translationOff = 9;\n  if (calculateOffset) {\n    // A global offset wasn\'t specified in the load context, so we will calculate one\n    // here. We normally use the center of the bbox, but if the bbox is signficantly\n    // larger than the objects in the model, then we make the global offset the\n    // average of the centers of the fragment bounding boxes, which will push\n    // offset toward places where there are more fragments.\n    if (!fragmentTransformsDouble) {\n      // We need to keep bboxes and transform translations in double precision\n      // to guarantee precision in large bbox cases\n      fragBoxes = new Float64Array(6 * numFrags);\n      dpTranslations = new Float64Array(3 * numFrags);\n      // In this case the translations are 3 entries offset by 0\n      translationSize = 3;\n      translationOff = 0;\n    }\n  }\n\n  //Helper functions used by the main fragment read loop.\n\n  function applyPlacement(index) {\n    if (placementTransform) {\n      var offset = index * 6;\n      tmpBox.setFromArray(fragBoxes, offset);\n      tmpBox.applyMatrix4(tmpMat);\n      tmpBox.copyToArray(fragBoxes, offset);\n    }\n  }\n\n  function readBoundingBox(entry) {\n    var offset = entry * 6;\n    for (var i = 0; i < 6; i++)\n    fragBoxes[offset++] = stream.getFloat32();\n  }\n\n  function readBoundingBoxOffset(entry, boxTranslation) {\n    var offset = entry * 6;\n    for (var i = 0; i < 6; i++)\n    fragBoxes[offset++] = stream.getFloat32() + boxTranslation[i % 3];\n  }\n\n  //Spin through all the fragments now\n  for (var entry = 0, eEnd = frags.length; entry < eEnd; entry++) {\n    var tse = filteredIndices.length ? pfr.seekToEntry(filteredIndices[entry]) : pfr.seekToEntry(entry);\n\n    if (!tse)\n    return;\n    if (tse.version > 5)\n    return;\n\n    var isVisible = true;\n    if (tse.version > 4) {\n      // Fragments v5+ include a flag byte, the LSB of which denotes\n      // visibility\n      var flags = pfr.readU8();\n      isVisible = (flags & 0x01) != 0;\n    }\n    visibilityFlags[entry] = isVisible ? _wgs_scene_MeshFlags__WEBPACK_IMPORTED_MODULE_4__.MeshFlags.MESH_VISIBLE : 0;\n\n    materials[entry] = pfr.readU32V();\n\n    if (tse.version > 2) {\n      //In case it\'s new style fragment that\n      //points to a geometry metadata entry\n      geomDataIndexes[entry] = pfr.readU32V();\n    } else\n    {\n      //Old style fragment, pack reference is directly\n      //encoded in the fragment entry\n      packIds[entry] = parseInt(pfr.readString());\n      entityIndexes[entry] = pfr.readU32V();\n    }\n\n    pfr.readTransform(entry, transforms, 12 * entry, placementTransform, globalOffset, boxTranslation);\n    if (calculateOffset && dpTranslations !== transforms) {\n      dpTranslations.set(boxTranslation, entry * translationSize + translationOff);\n    }\n\n    if (tse.version > 3) {\n      // With this version the transform\'s (double precision) translation is subtracted from the BB,\n      // so we have to add it back\n      readBoundingBoxOffset(entry, boxTranslation);\n    } else\n    {\n      readBoundingBox(entry);\n    }\n\n    //Apply the placement transform to the world space bbox\n    applyPlacement(entry);\n\n    //Apply any global offset to the world space bbox\n    if (globalOffset) {\n      var offset = entry * 6;\n      fragBoxes[offset++] -= globalOffset.x;\n      fragBoxes[offset++] -= globalOffset.y;\n      fragBoxes[offset++] -= globalOffset.z;\n      fragBoxes[offset++] -= globalOffset.x;\n      fragBoxes[offset++] -= globalOffset.y;\n      fragBoxes[offset++] -= globalOffset.z;\n    }\n\n    if (tse.version > 1) {\n      fragId2dbId[entry] = pfr.readU32V();\n    }\n    // Skip reading path ID which is not in use now.\n    // pfr.readPathID();\n  }\n\n  if (calculateOffset) {\n    // We compare the size of the bbox against the size of the largest\n    // max size of the bounding boxes in the model to see decide\n    // what to use as the globalOffset.\n\n    // First calculate the max of object box sizes\n    var maxX = -1,maxY = -1,maxZ = -1;\n    var boxEnd = fragBoxes.length;\n    // Effectively this calculates the average of the centers of the fragment bboxes\n    for (var i = 0; i < boxEnd; i += 6) {\n      maxX = Math.max(maxX, fragBoxes[i + 3] - fragBoxes[i]);\n      maxY = Math.max(maxY, fragBoxes[i + 4] - fragBoxes[i + 1]);\n      maxZ = Math.max(maxZ, fragBoxes[i + 5] - fragBoxes[i + 2]);\n    }\n\n    var size = bbox.getSize(_tmpVector);\n    if (size.x > maxX * MAX_BBOX_RATIO || size.y > maxY * MAX_BBOX_RATIO || size.z > maxZ * MAX_BBOX_RATIO) {\n      // Now calculate the weighted offset. The weighted globalOffset is\n      // weighted to be close to places with more fragments.\n      var offsetX = 0,offsetY = 0,offsetZ = 0;\n      // Effectively this calculates the average of the centers of the fragment bboxes\n      for (var i = 0; i < boxEnd; i += 3) {\n        offsetX += fragBoxes[i];\n        offsetY += fragBoxes[i + 1];\n        offsetZ += fragBoxes[i + 2];\n      }\n      globalOffset = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__.LmvVector3(offsetX * 3 / boxEnd, offsetY * 3 / boxEnd, offsetZ * 3 / boxEnd);\n    } else {\n      globalOffset = defaultGlobalOffset;\n    }\n\n    // Need to addjust the bounding boxes, using the globalOffset\n    var outBoxes = frags.boxes;\n    for (i = 0; i < boxEnd; i += 3) {\n      outBoxes[i] = fragBoxes[i] - globalOffset.x;\n      outBoxes[i + 1] = fragBoxes[i + 1] - globalOffset.y;\n      outBoxes[i + 2] = fragBoxes[i + 2] - globalOffset.z;\n    }\n\n    if (placementTransform && dpTranslations !== transforms) {\n      var tmpVec = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__.LmvVector3();\n      // And adjust the transforms, too\n      for (entry = 0; entry < eEnd; ++entry) {\n        const from = entry * translationSize + translationOff;\n        tmpVec.fromArray(dpTranslations, from).applyMatrix4(tmpMat).toArray(dpTranslations, from);\n      }\n    }\n\n    // And adjust the transforms, too\n    for (entry = 0; entry < eEnd; ++entry) {\n      var to = entry * 12 + 9;\n      var from = entry * translationSize + translationOff;\n      transforms[to] = dpTranslations[from] - globalOffset.x;\n      transforms[to + 1] = dpTranslations[from + 1] - globalOffset.y;\n      transforms[to + 2] = dpTranslations[from + 2] - globalOffset.z;\n    }\n  }\n\n  frags.finishLoading = true;\n\n  return globalOffset;\n}\n\n// Filter fragments based on specified object id list, by picking\n// up fragment whose id is in the specified id list, and dropping others.\n// This is used to produce a list of fragments that matches a search hit.\nfunction filterFragments(frags, ids) {\n  frags.length = ids.length;\n  frags.numLoaded = 0;\n  let numFrags = frags.length;\n  let bb = [Infinity, Infinity, Infinity, -Infinity, -Infinity, -Infinity];\n\n  let fragBoxes = new Float32Array(6 * numFrags);\n  let transforms = new Float32Array(12 * numFrags);\n  let materials = new Int32Array(numFrags);\n  let packIds = new Int32Array(numFrags);\n  let entityIndexes = new Int32Array(numFrags);\n  let visibilityFlags = new Uint16Array(numFrags);\n  let fragId2DbId = new Int32Array(numFrags);\n  let polygonCounts = new Int32Array(numFrags);\n  let geomDataIndexes = frags.geomDataIndexes ? new Int32Array(numFrags) : null;\n  let topoIndexes = frags.topoIndexes ? new Int32Array(numFrags) : null;\n\n  var mesh2frag = {};\n\n  for (let i = 0; i < ids.length; ++i) {\n    let index = ids[i];\n\n    let idxOld = index * 6;\n    let idxNew = i * 6;\n    for (let j = 0; j < 6; ++j)\n    fragBoxes[idxNew++] = frags.boxes[idxOld++];\n\n    idxOld = index * 12;\n    idxNew = i * 12;\n    for (let j = 0; j < 12; ++j)\n    transforms[idxNew++] = frags.transforms[idxOld++];\n\n    materials[i] = frags.materials[index];\n    packIds[i] = frags.packIds[index];\n    entityIndexes[i] = frags.entityIndexes[index];\n    visibilityFlags[i] = frags.visibilityFlags[index];\n    fragId2DbId[i] = frags.fragId2dbId[index];\n    polygonCounts[i] = frags.polygonCounts[index];\n    if (geomDataIndexes) {\n      geomDataIndexes[i] = frags.geomDataIndexes[index];\n    }\n    if (topoIndexes) {\n      topoIndexes[i] = frags.topoIndexes[index];\n    }\n\n    // TODO: consolidate this with addToMeshMap.\n    let meshID = frags.packIds[index] + ":" + frags.entityIndexes[index];\n    let meshRefs = mesh2frag[meshID];\n    if (meshRefs == undefined) {\n      mesh2frag[meshID] = i;\n    } else\n    if (!Array.isArray(meshRefs)) {\n      mesh2frag[meshID] = [meshRefs, i];\n    } else\n    {\n      meshRefs.push(i);\n    }\n\n    let bbIndex = i * 6;\n    for (let j = 0; j < 3; ++j)\n    if (fragBoxes[bbIndex + j] < bb[j])\n    bb[j] = fragBoxes[bbIndex + j];\n    for (let j = 3; j < 6; ++j)\n    if (fragBoxes[bbIndex + j] > bb[j])\n    bb[j] = fragBoxes[bbIndex + j];\n  }\n\n  frags.boxes = fragBoxes;\n  frags.transforms = transforms;\n  frags.materials = materials;\n  frags.packIds = packIds;\n  frags.entityIndexes = entityIndexes;\n  frags.mesh2frag = mesh2frag;\n  frags.visibilityFlags = visibilityFlags;\n  frags.fragId2dbId = fragId2DbId;\n  frags.polygonCounts = polygonCounts;\n  frags.geomDataIndexes = geomDataIndexes;\n  frags.topoIndexes = topoIndexes;\n\n  frags.totalLength = numFrags;\n\n  return bb;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/svf/Geoms.js":\n/*!*********************************************!*\\\n  !*** ./src/file-loaders/lmvtk/svf/Geoms.js ***!\n  \\*********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readGeometry: () => (/* binding */ readGeometry)\n/* harmony export */ });\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../compat */ "./src/compat.js");\n/* harmony import */ var _common_VbUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/VbUtils */ "./src/file-loaders/lmvtk/common/VbUtils.js");\n\n\n\n"use strict";\n\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n\nvar ntmp = new Float32Array(3);\n\nvar INV_PI = 1.0 / Math.PI;\n\nvar atan2 = Math.atan2;\nif (!(0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)()) {\n  //Faster approximation to atan2\n  //http://math.stackexchange.com/questions/1098487/atan2-faster-approximation\n  //The algorithm does not deal with special cases such as x=0,y=0x=0,y=0,\n  //nor does it consider special IEEE-754 floating-point operands such as infinities and NaN.\n  atan2 = function (y, x) {\n    var ax = Math.abs(x);\n    var ay = Math.abs(y);\n    //var a = (ax > ay) ? ay / ax : ax / ay;\n    var a = Math.min(ax, ay) / Math.max(ax, ay);\n    var s = a * a;\n    var r = ((-0.0464964749 * s + 0.15931422) * s - 0.327622764) * s * a + a;\n    if (ay > ax)\n    r = 1.57079637 - r;\n    if (x < 0)\n    r = 3.14159274 - r;\n    if (y < 0)\n    r = -r;\n    return r;\n  };\n}\n\nfunction readOpenCTM_RAW(stream, mesh, dstBuffer, startOffset, estimateSizeOnly) {\n\n  var readOpenCTMString = function () {\n    return stream.getString(stream.getInt32());\n  };\n\n  //Now do the data reads\n  var name = stream.getString(4);\n  if (name != "INDX") return null;\n\n  var vcount = mesh.vertexCount;\n  var tcount = mesh.triangleCount;\n  var stride = mesh.vbstride;\n\n  //We will create a single ArrayBuffer to back both the vertex and index buffers\n  //The indices will be places after the vertex information, because we need alignment\n  //of 4 bytes\n  var vbSizeFloat = vcount * stride;\n  var totalSizeInFloats = vbSizeFloat + (tcount * 3 * 2 + 3) / 4 | 0;\n\n  mesh.sharedBufferBytes = totalSizeInFloats * 4;\n\n  if (estimateSizeOnly) {\n    return;\n  }\n\n  var vbf;\n  if (!dstBuffer) {\n    dstBuffer = new ArrayBuffer(totalSizeInFloats * 4);\n    startOffset = 0;\n  }\n\n  vbf = mesh.vb = new Float32Array(dstBuffer, startOffset, vbSizeFloat);\n  mesh.indices = new Uint16Array(dstBuffer, startOffset + vbSizeFloat * 4, tcount * 3);\n  stream.getIndicesArray(vbf.buffer, startOffset + vbSizeFloat * 4, tcount * 3);\n\n  name = stream.getString(4);\n  if (name != "VERT") return null;\n\n  var vbi;\n  //See if we want to pack the normals into two shorts\n  if (mesh.vblayout.normal && mesh.vblayout.normal.itemSize === 2)\n  vbi = new Uint16Array(vbf.buffer, vbf.byteOffset, vbf.byteLength / 2);\n\n  //Read positions\n  stream.getVector3Array(vbf, vcount, mesh.vblayout[\'position\'].offset, stride);\n\n  //Read normals\n  var i, t, offset;\n  if (mesh.flags & 1) {\n    name = stream.getString(4);\n    if (name != "NORM") return null;\n\n    if (vbi) {\n      if (ntmp.length < vcount * 3)\n      ntmp = new Float32Array(vcount * 3);\n      stream.getVector3Array(ntmp, vcount, 0, 3);\n\n      for (i = 0, offset = mesh.vblayout[\'normal\'].offset;\n      i < vcount;\n      i++, offset += stride)\n      {\n        var pnx = (atan2(ntmp[i * 3 + 1], ntmp[i * 3]) * INV_PI + 1.0) * 0.5;\n        var pny = (ntmp[i * 3 + 2] + 1.0) * 0.5;\n\n        vbi[offset * 2] = pnx * 65535 | 0;\n        vbi[offset * 2 + 1] = pny * 65535 | 0;\n      }\n    } else {\n      stream.getVector3Array(vbf, vcount, mesh.vblayout[\'normal\'].offset, stride);\n    }\n\n  }\n\n  //Read uv layers\n  for (t = 0; t < mesh.texMapCount; t++) {\n    name = stream.getString(4);\n    if (name != "TEXC") return null;\n\n    var uv = {\n      name: readOpenCTMString(),\n      file: readOpenCTMString()\n    };\n    mesh.uvs.push(uv);\n\n    var uvname = "uv";\n    if (t)\n    uvname += (t + 1).toString();\n\n    stream.getVector2Array(vbf, vcount, mesh.vblayout[uvname].offset, stride);\n  }\n\n  var attributeOffset = stride - (mesh.attribMapCount || 0) * 3;\n\n  //Read vertex colors and uvw (and skip any other attributes that we don\'t know)\n  for (t = 0; t < mesh.attribMapCount; t++) {\n    name = stream.getString(4);\n    if (name != "ATTR") return null;\n\n    var attr = {\n      name: readOpenCTMString()\n    };\n\n    // console.log("attribute", attr.name);\n\n    var attrname;\n    if (attr.name.indexOf("Color") != -1) //Special case of vertex colors\n      attrname = \'color\';else\n    if (attr.name.indexOf("UVW") != -1) //Only used by prism 3d wood.\n      attrname = \'uvw\';else\n    {\n      //Other attributes, though we don\'t know what to do with those\n      mesh.attrs.push(attr);\n      stream.getBytes(vcount * 16); //skip past\n      continue;\n    }\n\n    mesh.vblayout[attrname] = { offset: attributeOffset, itemSize: 3 };\n\n    var v4 = [0, 0, 0, 0];\n    for (i = 0, offset = attributeOffset;\n    i < vcount;\n    i++, offset += stride) {\n      stream.getVector4(v4, 0);\n      vbf[offset] = v4[0];\n      vbf[offset + 1] = v4[1];\n      vbf[offset + 2] = v4[2];\n      //Ignoring the alpha term. For color attribute, we can actually pack it in a 4-byte attribute,\n      //but we do not know in advance (when we allocate the target buffer) if the OCTM attribute is UVW or color\n    }\n    attributeOffset += 3;\n  }\n\n}\n\n// Helper function for calculating new vertex for wide lines\nvar getLineSplitVertex = function (stride, vbf, neighbourhoods, a, b) {\n  // New vertex position\n  var pos = {\n    x: vbf[stride * a],\n    y: vbf[stride * a + 1],\n    z: vbf[stride * a + 2]\n  };\n  // Direction to the next vertex for segment (must be valid always)\n  var next = {\n    x: pos.x - vbf[stride * b],\n    y: pos.y - vbf[stride * b + 1],\n    z: pos.z - vbf[stride * b + 2]\n  };\n\n  // Index of previous point\n  var prev_ind = neighbourhoods[a].next == b ? neighbourhoods[a].prev : neighbourhoods[a].next;\n\n  // Direction to previous point\n  var prev;\n  // If does not exist\n  if (prev_ind < 0) {\n    // mirror next direction\n    prev = {\n      x: next.x,\n      y: next.y,\n      z: next.z\n    };\n  } else {\n    // else - set directly\n    prev = {\n      x: vbf[stride * prev_ind] - pos.x,\n      y: vbf[stride * prev_ind + 1] - pos.y,\n      z: vbf[stride * prev_ind + 2] - pos.z\n    };\n  }\n\n  return {\n    pos: pos,\n    next: next,\n    prev: prev\n  };\n};\n\n// convert a line mesh into specially organised triangles, which will be drawn\n// as lines with a specific width\nvar convertToWideLines = function (mesh, stride, vbf, indexPairs, offset) {\n\n  var numCoords = 3;\n\n  // add some extra vertex data to the mesh\n  // prev & next are directions specific vertex positions, which are used to specify\n  // the offset direction in the shader\n  // side is the directed line width used for the magnitude of the offset in the shader\n  offset = mesh.vbstride;\n  mesh.vblayout[\'prev\'] = { offset: offset, itemSize: numCoords };\n  offset += numCoords;\n  mesh.vblayout[\'next\'] = { offset: offset, itemSize: numCoords };\n  offset += numCoords;\n  mesh.vblayout[\'side\'] = { offset: offset, itemSize: 1 };\n\n  mesh.vbstride += 7;\n\n  // Count of shared vertexes\n  var connections = 0;\n\n  // Build neighbourhoods of each vertex\n  var neighbourhoods = new Array(mesh.vertexCount);\n  var i, j, n, a, b;\n  for (i = 0; i < mesh.vertexCount; ++i) {\n    neighbourhoods[i] = {\n      prev: -1, // index of previous vertex\n      next: -1, // index of next vertex\n      prev_seg: -1 // index of previous segment\n    };\n  }\n\n  for (j = 0; j < indexPairs; ++j) {\n    n = j * 2;\n    a = mesh.indices[n];\n    b = mesh.indices[n + 1];\n    neighbourhoods[a].next = b;\n    if (neighbourhoods[a].prev >= 0) {\n      ++connections;\n    }\n\n    neighbourhoods[b].prev = a;\n    neighbourhoods[b].prev_seg = j;\n    if (neighbourhoods[b].next >= 0) {\n      ++connections;\n    }\n  }\n\n  // Each segment will have its own vertexes\n  var newBaseVertexCount = indexPairs * 2;\n  var newBaseVertexies = new Array(newBaseVertexCount);\n\n  // Indexes contains line segments and additional connection for shared vertexes\n  var newIndices = new Uint16Array(2 * numCoords * (indexPairs + connections));\n  var meshIndex = 0;\n\n  // Split all vertexes and build indexes of all triangles\n  for (j = 0; j < indexPairs; ++j) {\n    n = j * 2;\n    a = mesh.indices[n];\n    b = mesh.indices[n + 1];\n    // New vertexes with calculated next and previous points\n    newBaseVertexies[n] = getLineSplitVertex(stride, vbf, neighbourhoods, a, b);\n    newBaseVertexies[n + 1] = getLineSplitVertex(stride, vbf, neighbourhoods, b, a);\n\n    // Segment triangles\n    a = n;\n    b = n + 1;\n    // First two coordinates form line segment are used in ray casting\n    newIndices[meshIndex++] = 2 * a + 1;\n    newIndices[meshIndex++] = 2 * b;\n    newIndices[meshIndex++] = 2 * a;\n    newIndices[meshIndex++] = 2 * b;\n    newIndices[meshIndex++] = 2 * b + 1;\n    newIndices[meshIndex++] = 2 * a;\n\n    // Connection triangles for shared vertexes, if exist\n    a = mesh.indices[n];\n    if (neighbourhoods[a].prev >= 0) {\n      b = neighbourhoods[a].prev_seg * 2 + 1;\n      a = n;\n\n      newIndices[meshIndex++] = 2 * b;\n      newIndices[meshIndex++] = 2 * a;\n      newIndices[meshIndex++] = 2 * b + 1;\n      newIndices[meshIndex++] = 2 * a + 1;\n      newIndices[meshIndex++] = 2 * a;\n      newIndices[meshIndex++] = 2 * b;\n    }\n  }\n  mesh.indices = newIndices;\n\n  // Finally, fill vertex buffer with new data\n  var newVertexCount = newBaseVertexCount * 2;\n  mesh.vb = new Float32Array(newVertexCount * mesh.vbstride);\n\n  offset = mesh.vblayout[\'position\'].offset;\n  for (var c = 0; c < newBaseVertexCount; ++c) {\n    // Duplicate every vertex for each side\n    for (var side = 0; side < 2; ++side) {\n      // Vertex position\n      mesh.vb[offset] = newBaseVertexies[c].pos.x;\n      mesh.vb[offset + 1] = newBaseVertexies[c].pos.y;\n      mesh.vb[offset + 2] = newBaseVertexies[c].pos.z;\n      offset += stride;\n\n      // Previous vertex direction\n      mesh.vb[offset] = newBaseVertexies[c].prev.x;\n      mesh.vb[offset + 1] = newBaseVertexies[c].prev.y;\n      mesh.vb[offset + 2] = newBaseVertexies[c].prev.z;\n      offset += numCoords;\n\n      // Next vertex direction\n      mesh.vb[offset] = newBaseVertexies[c].next.x;\n      mesh.vb[offset + 1] = newBaseVertexies[c].next.y;\n      mesh.vb[offset + 2] = newBaseVertexies[c].next.z;\n      offset += numCoords;\n\n      // Side (offset direction)\n      mesh.vb[offset] = side ? -1 : 1;\n      offset += 1;\n    }\n  }\n\n  mesh.vertexCount = newVertexCount;\n\n  // flag to mark this mesh as special\n  mesh.isWideLines = true;\n};\n\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n//=====================================================================\n\n\nvar readOpenCTM = function (stream, dstBuffer, startOffset, estimateSizeOnly, packNormals) {\n\n  var readOpenCTMString = function () {\n    return stream.getString(stream.getInt32());\n  };\n\n  var fourcc = stream.getString(4);\n  if (fourcc != "OCTM") return null;\n\n  var version = stream.getInt32();\n  if (version != 5) return null;\n\n  var method = stream.getString(3);\n  stream.getUint8(); //read the last 0 char of the RAW or MG2 fourCC.\n\n  var mesh = {\n    stream: null,\n    vertices: null,\n    indices: null,\n    normals: null,\n    colors: null,\n    uvs: [],\n    attrs: []\n  };\n\n  mesh.vertexCount = stream.getInt32();\n  mesh.triangleCount = stream.getInt32();\n  mesh.texMapCount = stream.getInt32();\n  mesh.attribMapCount = stream.getInt32();\n  mesh.flags = stream.getInt32();\n  mesh.comment = readOpenCTMString();\n\n  var usePackedNormals = packNormals;\n\n\n  //Calculate stride of the interleaved buffer we need\n  mesh.vbstride = 3; //position is always there\n  if (mesh.flags & 1)\n  mesh.vbstride += usePackedNormals ? 1 : 3; //normal\n  mesh.vbstride += 2 * (mesh.texMapCount || 0); //texture coords\n  mesh.vbstride += 3 * (mesh.attribMapCount || 0); //we now support color and uvw. Both of them use three floats.\n\n  mesh.vblayout = {};\n  var offset = 0;\n\n  mesh.vblayout[\'position\'] = { offset: offset, itemSize: 3 };\n\n  offset += 3;\n  if (mesh.flags & 1) {\n    mesh.vblayout[\'normal\'] = { offset: offset,\n      itemSize: usePackedNormals ? 2 : 3,\n      bytesPerItem: usePackedNormals ? 2 : 4,\n      normalized: usePackedNormals };\n\n    offset += usePackedNormals ? 1 : 3; //offset is counted in units of 4 bytes\n  }\n  if (mesh.texMapCount) {\n    for (var i = 0; i < mesh.texMapCount; i++) {\n      var uvname = "uv";\n      if (i)\n      uvname += (i + 1).toString();\n\n      mesh.vblayout[uvname] = { offset: offset, itemSize: 2 };\n      offset += 2;\n    }\n  }\n\n  //Now read and populate the mesh data\n  if (method == "RAW") {\n    readOpenCTM_RAW(stream, mesh, dstBuffer, startOffset, estimateSizeOnly);\n    if (!estimateSizeOnly) {\n      _common_VbUtils__WEBPACK_IMPORTED_MODULE_1__.VBUtils.deduceUVRepetition(mesh);\n      _common_VbUtils__WEBPACK_IMPORTED_MODULE_1__.VBUtils.computeBounds3D(mesh);\n    }\n    return mesh;\n  } else\n  if (method == "MG2") {\n    //This code path is never used, since MG2 compression is disabled at the LMVTK C++ level\n    console.assert(false, "readOpenCTM_MG2(stream, mesh, dstBuffer, startOffset, estimateSizeOnly) not supported");\n  }\n  return null;\n};\n\n\nvar readLinesOrPoints = function (pfr, tse, estimateSizeOnly, lines) {\n\n  //TODO: Line geometry does not go into shared buffers yet\n  if (estimateSizeOnly)\n  return null;\n\n  // Initialize mesh\n  var mesh = {\n    vertices: null,\n    indices: null,\n    colors: null,\n    normals: null,\n    uvs: [],\n    attrs: [],\n    lineWidth: 1.0\n  };\n\n  // Read vertex count, index count, polyline bound count\n  var indexCount;\n  if (lines) {\n    // Read vertex count, index count, polyline bound count\n    var polyLineBoundCount;\n    if (tse.version > 1) {\n      mesh.vertexCount = pfr.readU16();\n      indexCount = pfr.readU16();\n      polyLineBoundCount = pfr.readU16();\n\n      if (tse.version > 2) {\n        mesh.lineWidth = pfr.readF32();\n      }\n    } else {\n      mesh.vertexCount = pfr.readU32V();\n      indexCount = pfr.readU32V();\n      polyLineBoundCount = pfr.readU32V();\n    }\n    mesh.isLines = true;\n  } else {\n    // Read vertex count, index count, point size\n    mesh.vertexCount = pfr.readU16();\n    indexCount = pfr.readU16();\n    mesh.pointSize = pfr.readF32();\n    mesh.isPoints = true;\n  }\n\n  // Determine if color is defined\n  var hasColor = pfr.stream.getUint8() != 0;\n\n\n  //Calculate stride of the interleaved buffer we need\n  mesh.vbstride = 3; //position is always there\n  if (hasColor)\n  mesh.vbstride += 3; //we only interleave the color attribute, and we reduce that to RGB from ARGB.\n\n  mesh.vblayout = {};\n  var offset = 0;\n\n  mesh.vblayout[\'position\'] = { offset: offset, itemSize: 3 };\n\n  offset += 3;\n  if (hasColor) {\n    mesh.vblayout[\'color\'] = { offset: offset, itemSize: 3 };\n  }\n\n  mesh.vb = new Float32Array(mesh.vertexCount * mesh.vbstride);\n\n\n  // Read vertices\n  var vbf = mesh.vb;\n  var stride = mesh.vbstride;\n  var stream = pfr.stream;\n\n  stream.getVector3Array(vbf, mesh.vertexCount, mesh.vblayout[\'position\'].offset, stride);\n\n  // Determine color if specified\n  var c, cEnd;\n  if (hasColor) {\n    for (c = 0, offset = mesh.vblayout[\'color\'].offset, cEnd = mesh.vertexCount;\n    c < cEnd;\n    c++, offset += stride)\n    {\n      vbf[offset] = stream.getFloat32();\n      vbf[offset + 1] = stream.getFloat32();\n      vbf[offset + 2] = stream.getFloat32();\n      stream.getFloat32(); //skip alpha -- TODO: convert color to ARGB 32 bit integer in the vertex layout and shader\n    }\n  }\n\n  // Copies bytes from buffer\n  var forceCopy = function (b) {\n    return b.buffer.slice(b.byteOffset, b.byteOffset + b.length);\n  };\n\n  // Read indices and polyline bound buffer\n  if (lines) {\n    var indices;\n    var polyLineBoundBuffer;\n    if (tse.version > 1) {\n      // 16 bit format\n      indices = new Uint16Array(forceCopy(stream.getBytes(indexCount * 2)));\n      polyLineBoundBuffer = new Uint16Array(forceCopy(stream.getBytes(polyLineBoundCount * 2)));\n    } else\n    {\n      // 32 bit format\n      indices = new Int32Array(forceCopy(stream.getBytes(indexCount * 4)));\n      polyLineBoundBuffer = new Int32Array(forceCopy(stream.getBytes(polyLineBoundCount * 4)));\n    }\n\n    // three.js uses GL-style index pairs in its index buffer. We need one pair\n    // per segment in each polyline\n    var indexPairs = polyLineBoundBuffer[polyLineBoundCount - 1] - polyLineBoundCount + 1;\n\n    mesh.indices = new Uint16Array(2 * indexPairs);\n\n    // Extract the individual line segment index pairs\n    var meshIndex = 0;\n    for (var i = 0; i + 1 < polyLineBoundCount; i++) {\n      for (var j = polyLineBoundBuffer[i]; j + 1 < polyLineBoundBuffer[i + 1]; j++) {\n        mesh.indices[meshIndex++] = indices[j];\n        mesh.indices[meshIndex++] = indices[j + 1];\n      }\n    }\n  } else {\n    mesh.indices = new Uint16Array(forceCopy(stream.getBytes(indexCount * 2)));\n  }\n\n  if (mesh.lineWidth != 1.0) {\n    convertToWideLines(mesh, stride, vbf, indexPairs, offset);\n  }\n\n  _common_VbUtils__WEBPACK_IMPORTED_MODULE_1__.VBUtils.computeBounds3D(mesh);\n\n  return mesh;\n};\n\nvar readLines = function (pfr, tse, estimateSizeOnly) {\n  return readLinesOrPoints(pfr, tse, estimateSizeOnly, true);\n};\n\nvar readPoints = function (pfr, tse, estimateSizeOnly) {\n  return readLinesOrPoints(pfr, tse, estimateSizeOnly, false);\n};\n\nfunction readGeometry(pfr, entry, options) {\n  var tse = pfr.seekToEntry(entry);\n  if (!tse)\n  return null;\n\n  if (tse.entryType == "Autodesk.CloudPlatform.OpenCTM") {\n    return readOpenCTM(pfr.stream, options.dstBuffer, options.startOffset, options.estimateSizeOnly, options.packNormals);\n  } else\n  if (tse.entryType == "Autodesk.CloudPlatform.Lines") {\n    return readLines(pfr, tse, options.estimateSizeOnly);\n  } else\n  if (tse.entryType == "Autodesk.CloudPlatform.Points") {\n    return readPoints(pfr, tse, options.estimateSizeOnly);\n  }\n\n  return null;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/svf/Instances.js":\n/*!*************************************************!*\\\n  !*** ./src/file-loaders/lmvtk/svf/Instances.js ***!\n  \\*************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readInstance: () => (/* binding */ readInstance),\n/* harmony export */   readInstanceTree: () => (/* binding */ readInstanceTree)\n/* harmony export */ });\n\n\nfunction readInstance(pfr, entry, placementTransform, globalOffset) {\n  var tse = pfr.seekToEntry(entry);\n  if (!tse)\n  return null;\n  if (tse.version > 2 /*Constants::InstanceVersion*/)\n  return null;\n\n  var isVisible = true;\n  if (tse.version > 1) {\n    // Instances v2+ include a flag byte, the LSB of which denotes visibility\n    var flags = pfr.readU8();\n    isVisible = (flags & 0x01) != 0;\n  }\n\n  return {\n    definition: pfr.stream.getUint32(),\n    transform: pfr.readTransform(undefined, undefined, undefined, placementTransform, globalOffset),\n    instanceNodePath: pfr.readPathID()\n  };\n}\n\n\n\nvar NodeType = {\n  NT_Inner: 0,\n  NT_Geometry: 1,\n  NT_Camera: 2,\n  NT_Light: 3\n};\n\nfunction readInstanceTree(pfr, version) {\n\n  var transforms = [];\n  var dbIds = [];\n  var fragIds = [];\n  var childCounts = [];\n  var nodeIndex = 0;\n  var s = pfr.stream;\n\n  while (s.offset < s.byteLength - 8 - 1) {\n\n    pfr.readTransform(nodeIndex, transforms, nodeIndex * 12, undefined, undefined, undefined);\n\n    // Version 1-4 had optional "shared nodes" that were never used in practice. If found, consume and ignore.\n    if (version < 5) {\n      var hasSharedNode = s.getUint8();\n      if (hasSharedNode) {\n        s.getUint32();\n      }\n    }\n\n    var nodeType = s.getUint8();\n\n    // Version 5 introduced a flags byte and the visibility flag.\n    if (version >= 5) {\n      var flags = s.getUint8();\n      var visible = !!(flags & 1);\n    }\n\n    // Version 3 introduced the database ID\n    if (version >= 3) {\n      dbIds[nodeIndex] = s.getVarints();\n    }\n\n    if (nodeIndex) {\n      // Not a root, behavior depends on type\n      // Leaf, instantiate and add fragment references before returning\n      switch (nodeType) {\n\n        case NodeType.NT_Inner:\n          break;\n        case NodeType.NT_Geometry:{\n            if (version < 2) {\n              var fragCount = s.getUint16();\n              if (fragCount === 1) {\n                fragIds[nodeIndex] = s.getUint32();\n              } else if (fragCount > 0) {\n                var flist = [];\n                for (var i = 0; i < fragCount; i++)\n                flist.push(s.getUint32());\n                fragIds[nodeIndex] = flist;\n              }\n            } else {\n              var fragCount = s.getVarints();\n              if (fragCount === 1) {\n                fragIds[nodeIndex] = s.getVarints();\n              } else if (fragCount > 0) {\n                var flist = [];\n                for (var i = 0; i < fragCount; i++)\n                flist.push(s.getVarints());\n                fragIds[nodeIndex] = flist;\n              }\n            }\n          }\n          break;\n        case NodeType.NT_Camera:\n        case NodeType.NT_Light:{\n            var hasInstanceEntryId = s.getUint8();\n            if (hasInstanceEntryId) {\n              s.getUint32();\n            }\n          }\n          break;\n        default:\n          debug("Unrecognized instance tree node type.");\n          break;\n      }\n    }\n\n    var childCount = 0;\n    if (nodeType === NodeType.NT_Inner) {\n      if (version < 2) {\n        childCount = s.getUint16();\n      } else {\n        childCount = s.getVarints();\n      }\n    }\n    childCounts[nodeIndex] = childCount;\n\n    nodeIndex++;\n  }\n\n  var dbIdBuffer = new Uint32Array(dbIds.length);\n  dbIdBuffer.set(dbIds);\n\n  var xformBuffer = new Float32Array(transforms.length);\n  xformBuffer.set(transforms);\n\n  var childCountsBuffer = new Uint32Array(childCounts.length);\n  childCountsBuffer.set(childCounts);\n\n  return { dbIds: dbIdBuffer, fragIds: fragIds, transforms: xformBuffer, childCounts: childCountsBuffer };\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/svf/Lights.js":\n/*!**********************************************!*\\\n  !*** ./src/file-loaders/lmvtk/svf/Lights.js ***!\n  \\**********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readLightDefinition: () => (/* binding */ readLightDefinition)\n/* harmony export */ });\n\n\n\nfunction readLightDefinition(pfr, entry) {\n  var tse = pfr.seekToEntry(entry);\n  if (!tse)\n  return null;\n  if (tse.version > 1 /*Constants::LightDefinitionVersion*/)\n  return null;\n\n  var s = pfr.stream;\n\n  var light = {\n    position: pfr.readVector3f(),\n    dir: pfr.readVector3f(),\n    r: s.getFloat32(),\n    g: s.getFloat32(),\n    b: s.getFloat32(),\n    intensity: s.getFloat32(),\n    spotAngle: s.getFloat32(),\n    size: s.getFloat32(),\n    type: s.getUint8()\n  };\n\n  return light;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/lmvtk/svf/Package.js":\n/*!***********************************************!*\\\n  !*** ./src/file-loaders/lmvtk/svf/Package.js ***!\n  \\***********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Package: () => (/* binding */ Package)\n/* harmony export */ });\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../compat */ "./src/compat.js");\n/* harmony import */ var _wgs_scene_BVHBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../wgs/scene/BVHBuilder */ "./src/wgs/scene/BVHBuilder.js");\n/* harmony import */ var _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../wgs/scene/LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _common_InputStream__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/InputStream */ "./src/file-loaders/lmvtk/common/InputStream.js");\n/* harmony import */ var _common_PackReader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/PackReader */ "./src/file-loaders/lmvtk/common/PackReader.js");\n/* harmony import */ var _Fragments__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Fragments */ "./src/file-loaders/lmvtk/svf/Fragments.js");\n/* harmony import */ var _Instances__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Instances */ "./src/file-loaders/lmvtk/svf/Instances.js");\n/* harmony import */ var _common_SvfPlacementUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/SvfPlacementUtils */ "./src/file-loaders/lmvtk/common/SvfPlacementUtils.js");\n/* harmony import */ var _Cameras__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Cameras */ "./src/file-loaders/lmvtk/svf/Cameras.js");\n/* harmony import */ var _Lights__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Lights */ "./src/file-loaders/lmvtk/svf/Lights.js");\n/* harmony import */ var _common_NamedItemTree__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/NamedItemTree */ "./src/file-loaders/lmvtk/common/NamedItemTree.js");\n/* harmony import */ var _common_Viewpoints__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/Viewpoints */ "./src/file-loaders/lmvtk/common/Viewpoints.js");\n/* harmony import */ var _common_OverrideSets__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/OverrideSets */ "./src/file-loaders/lmvtk/common/OverrideSets.js");\n/* harmony import */ var fflate__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! fflate */ "./node_modules/fflate/esm/browser.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getSingleFileFromZip(zip, filename) {\n  const unzipped = (0,fflate__WEBPACK_IMPORTED_MODULE_14__.unzipSync)(zip, { filter: (fileinfo) => fileinfo.name === filename })[filename];\n  if (!unzipped) {\n    throw new Error("Error while extracting " + filename);\n  }\n  return unzipped;\n}\n\n/** @constructor */\nfunction Package(zipPack) {\n\n  this.zipPack = zipPack;\n\n  this.manifest = null;\n\n  this.materials = null; //The materials json as it came from the SVF\n\n  this.metadata = null; //metadata json\n\n  this.fragments = null; //will be a FragList\n\n  this.geompacks = [];\n\n  //TODO:\n  //Those will not be parsed immediately\n  //but we will remember the raw arrays\n  //and fire off async workers to parse\n  //them later, once we are loading geometry packs\n  this.instances = [];\n\n  this.cameras = [];\n  this.lights = [];\n  this.viewpoints = [];\n  this.overrideSets = [];\n\n  this.propertydb = {\n    attrs: [],\n    avs: [],\n    ids: [],\n    values: [],\n    offsets: []\n  };\n\n  this.bbox = null; //Overall scene bounds\n\n  this.animations = null; // animations json\n\n  this.pendingRequests = 0;\n\n  this.globalOffset = { x: 0, y: 0, z: 0 };\n\n  this.topologyPath = null; // string path to the topology file\n\n}\n\n\n\nPackage.prototype.loadAsyncResource = function (loadContext, resourcePath, contents, callback) {\n\n  //Data is immediately available from the SVF zip\n  if (contents) {\n    callback(contents);\n    return;\n  }\n\n  //Launch an XHR to load the data from external file\n  var svf = this;\n\n  this.pendingRequests++;\n\n  function xhrCB(responseData) {\n    svf.pendingRequests--;\n\n    callback(responseData);\n\n    if (svf.pendingRequests == 0)\n    svf.postLoad(loadContext);\n  }\n\n  _net_Xhr__WEBPACK_IMPORTED_MODULE_3__.ViewingService.getItem(loadContext, loadContext.basePath + resourcePath,\n  xhrCB,\n  loadContext.onFailureCallback\n  );\n\n};\n\n/**\n * Extracts `manifest.json` file from the geometry pack file.\n * \n * @param {object} loadContext The loading context object passed in by an \n * SvfLoader object as it successfully downloaded a geometry pack file. The \n * load context is not used in this function.\n * \n * @throws {Error} `manifest.json` cannot be found within the package.\n */\nPackage.prototype.loadManifest = function (loadContext) {\n  // yes, LoadContext is passed in, but is not used.\n  const manifestJson = getSingleFileFromZip(this.zipPack, "manifest.json");\n  const jdr = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(manifestJson);\n  this.manifest = JSON.parse(jdr.getString(manifestJson.byteLength));\n};\n\n// Replace default globalOffset from SvfPlacementOffset by a recomputed one computed based on Fragment bboxes.\nPackage.prototype.applyLargeBoxOffset = function (offset) {\n  if (offset && (\n  offset.x !== this.globalOffset.x ||\n  offset.y !== this.globalOffset.y ||\n  offset.z !== this.globalOffset.z))\n  {\n    // So far, bbox was in viewer-coords, assuming the default globalOffset. Since we modified the offset,\n    // we have to adjust the bbox now.\n    if (!this.bbox.isEmpty()) {\n      this.bbox.translate({\n        x: this.globalOffset.x - offset.x,\n        y: this.globalOffset.y - offset.y,\n        z: this.globalOffset.z - offset.z\n      });\n    }\n\n    // self.globalOffset may not be an LMVVector3, but in that case\n    // offset should be self.GlobalOffset, so this should be OK\n    this.verylargebbox = true;\n    this.globalOffset.copy(offset);\n    (0,_common_SvfPlacementUtils__WEBPACK_IMPORTED_MODULE_8__.calculatePlacementWithOffset)(this, this.placementTransform);\n  }\n};\n\nPackage.prototype.parseFragmentList = function (asset, loadContext, path, contents) {\n\n  var self = this;\n  this.loadAsyncResource(loadContext, path, contents, function (data) {\n    var pfr = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n\n    //Use a single large blocks to store all fragment elements\n    //TODO: perhaps have a FragList per pack file to keep block size down?\n    var frags = self.fragments = new _Fragments__WEBPACK_IMPORTED_MODULE_6__.FragList();\n    var offset = (0,_Fragments__WEBPACK_IMPORTED_MODULE_6__.readFragments)(pfr, frags, loadContext.globalOffset, loadContext.placementTransform,\n    loadContext.fragmentTransformsDouble, undefined, self.bbox, self.globalOffset);\n    pfr = null;\n\n    self.applyLargeBoxOffset(offset);\n  });\n};\n\nPackage.prototype.parseGeometryMetadata = function (asset, loadContext, path, contents) {\n  var self = this;\n  this.loadAsyncResource(loadContext, path, contents, function (data) {\n    var pfr = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n\n    self.geomMetadata = {};\n    (0,_Fragments__WEBPACK_IMPORTED_MODULE_6__.readGeometryMetadata)(pfr, self.geomMetadata);\n    self.numGeoms = self.geomMetadata.primCounts.length;\n  });\n};\n\n\nPackage.prototype.parseInstanceTree = function (loadContext, path, contents, version) {\n\n  var that = this;\n\n  this.loadAsyncResource(loadContext, path, contents, function (data) {\n    var pfr = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n    that.instanceTransforms = (0,_Instances__WEBPACK_IMPORTED_MODULE_7__.readInstanceTree)(pfr, version);\n  });\n\n};\n\n\nPackage.prototype.loadRemainingSvf = function (loadContext) {\n  var svf = this;\n\n  this.manifest = loadContext.manifest;\n  var manifest = this.manifest;\n\n  var assets = manifest["assets"];\n\n  const metadataJson = getSingleFileFromZip(this.zipPack, "metadata.json");\n  var jdr = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(metadataJson);\n\n  // Test to see if this is json (not a binary header)\n  // Done by verifying that there is no 0 (Hence ASCII)\n  if (metadataJson.byteLength > 3 && metadataJson[3] !== 0) {\n    this.metadata = JSON.parse(jdr.getString(metadataJson.byteLength)).metadata;\n\n    (0,_common_SvfPlacementUtils__WEBPACK_IMPORTED_MODULE_8__.initPlacement)(this, loadContext);\n  }\n\n  //Version strings seem to be variable at the moment.\n  //var manifestVersion = manifest["manifestversion"];\n  //if (   manifest["name"] != "LMV Manifest"\n  //    || manifest["manifestversion"] != 1)\n  //    return false;\n\n  this.packFileTotalSize = 0;\n  this.primitiveCount = 0;\n\n  var typesetsList = manifest["typesets"];\n  var typesets = {};\n  for (var i = 0; i < typesetsList.length; i++) {\n    var ts = typesetsList[i];\n    typesets[ts[\'id\']] = ts[\'types\'];\n  }\n\n  //Loop through the assets, and schedule non-embedded\n  //ones for later loading.\n  //TODO: currently only geometry pack files are stored for later\n  //load and other assets will be loaded by this worker thread before\n  //we return to the SvfLoader in the main thread.\n\n  for (var i = 0; i < assets.length; i++)\n  {\n    var asset = assets[i];\n    if ((0,_compat__WEBPACK_IMPORTED_MODULE_0__.isMobileDevice)() && asset.id === "Set.bin")\n    continue;\n    var type = asset["type"];\n    if (type.indexOf("Autodesk.CloudPlatform.") == 0)\n    type = type.substr(23);\n    var uri = asset["URI"];\n    var typeset = asset["typeset"] ? typesets[asset["typeset"]] : null;\n    var usize = asset["usize"] || 0;\n    var megaBytes = Math.round(usize / 1048576 * 100000) / 100000 | 0;\n\n    //If the asset is a geometry pack or property pack\n    //just remember it for later demand loading\n    if (uri.indexOf("embed:/") != 0) {\n      if (type == "PackFile") {\n        var typeclass = typeset ? typeset[0]["class"] : null;\n\n        if (typeclass == "Autodesk.CloudPlatform.Geometry") {\n\n          this.packFileTotalSize += usize;\n\n          this.geompacks.push({ id: asset["id"], uri: uri, usize: usize });\n        }\n      } else\n      if (type == "PropertyAttributes") {\n        this.propertydb.attrs.push({ path: uri });\n      } else\n      if (type == "PropertyAVs") {\n        this.propertydb.avs.push({ path: uri });\n      } else\n      if (type == "PropertyIDs") {\n        this.propertydb.ids.push({ path: uri });\n      } else\n      if (type == "PropertyOffsets") {\n        this.propertydb.offsets.push({ path: uri });\n      } else\n      if (type == "PropertyValues") {\n        this.propertydb.values.push({ path: uri });\n      }\n    }\n\n    //parse assets which we will need immediately when\n    // setting up the scene (whether embedded or not)\n    var path = asset["URI"];\n    var contents = null; //if the data was in the zip, this will contain it\n    if (path.indexOf("embed:/") == 0) {\n      path = path.substr(7);\n      contents = getSingleFileFromZip(this.zipPack, path);\n    }\n\n    if (type == "ProteinMaterials") {\n      //For simple materials, we want the file named "Materials.json" and not "ProteinMaterials.json"\n      if (path.indexOf("Protein") == -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          var jdr = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(data);\n          var byteLength = data.byteLength;\n          if (0 < byteLength) {\n            svf.materials = JSON.parse(jdr.getString(byteLength));\n          } else {\n            svf.materials = null;\n          }\n        });\n      } else {\n        //Also parse the Protein materials -- at the moment this helps\n        //With some Prism materials that have properties we can handle, but\n        //are not in the Simple variant.\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          var jdr = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(data);\n          var byteLength = data.byteLength;\n          if (0 < byteLength) {\n            try {\n              svf.proteinMaterials = JSON.parse(jdr.getString(byteLength));\n            } catch (e) {\n              //TS: This is dumb, but what can we do... Revit extractor had (has?) a bug where\n              //materials are written as ANSI instead of UTF8 encoded. So we have this fallback attempt\n              var ansi = "";\n              for (var i = 0; i < data.length; i++)\n              ansi += String.fromCharCode(data[i]);\n\n              try {\n                svf.proteinMaterials = JSON.parse(ansi);\n              } catch (e) {\n                console.error("Failed to parse Protein materials file either as UTF8 or ANSI");\n              }\n            }\n          } else {\n            svf.proteinMaterials = null;\n          }\n        });\n      }\n    } else\n    if (type == "StandardMaterials") {\n\n      this.loadAsyncResource(loadContext, path, contents, function (data) {\n        var jdr = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(data);\n        var byteLength = data.byteLength;\n        if (0 < byteLength) {\n          var strContent = jdr.getString(byteLength);\n          svf.stdSurfMats = JSON.parse(strContent);\n        } else {\n          svf.stdSurfMats = null;\n        }\n      });\n    } else\n\n    if (type == "MaterialX") {\n      this.loadAsyncResource(loadContext, path, contents, function (data) {\n        var jdr = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(data);\n        var byteLength = data.byteLength;\n        if (0 < byteLength) {\n          svf.mtlx = jdr.getString(byteLength);\n        } else {\n          svf.mtlx = null;\n        }\n      });\n\n    } else\n    if (type == "FragmentList") {\n\n      this.parseFragmentList(asset, loadContext, path, contents);\n\n    } else\n    if (type == "GeometryMetadataList") {\n\n      this.parseGeometryMetadata(asset, loadContext, path, contents);\n\n    } else\n    if (type == "PackFile") {\n\n      if (path.indexOf("CameraDefinitions.bin") != -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          svf.camDefPack = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n        });\n      } else\n\n      if (path.indexOf("CameraList.bin") != -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          svf.camInstPack = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n        });\n      } else\n\n      if (path.indexOf("LightDefinitions.bin") != -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          svf.lightDefPack = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n        });\n      } else\n\n      if (path.indexOf("LightList.bin") != -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          svf.lightInstPack = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n        });\n      } else\n\n      if (path.indexOf("OverrideSets.bin") != -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          svf.overrideSetsPack = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n        });\n      } else\n\n      if (path.indexOf("Viewpoints.bin") != -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          svf.viewpointDefPack = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n        });\n      } else\n\n      if (path.indexOf("ViewpointTree.bin") != -1) {\n        this.loadAsyncResource(loadContext, path, contents, function (data) {\n          svf.viewpointTreePack = new _common_PackReader__WEBPACK_IMPORTED_MODULE_5__.PackFileReader(data);\n        });\n      }\n    } else\n    if (type == "Animations") {\n      this.loadAsyncResource(loadContext, path, contents, function (data) {\n        var jdr = new _common_InputStream__WEBPACK_IMPORTED_MODULE_4__.InputStream(data);\n        var byteLength = data.byteLength;\n        if (0 < byteLength) {\n          svf.animations = JSON.parse(jdr.getString(byteLength));\n        } else {\n          svf.animations = null;\n        }\n      });\n    } else\n    if (type == "Topology") {\n\n      // save the path for later download.\n      svf.topologyPath = loadContext.basePath + path;\n      svf.topologySizeMB = megaBytes;\n\n    } else\n    if (loadContext.loadInstanceTree && (\n    type == "InstanceTree" || type == "InstanceTreeTree")) {//Yes, the typo does occur in some older files\n\n      //Instance tree node serialization version is stored in the type set\n      var version = typeset ? typeset[0]["version"] : 1;\n\n      this.parseInstanceTree(loadContext, path, contents, version);\n    }\n  }\n\n\n  if (this.pendingRequests == 0)\n  this.postLoad(loadContext);\n\n  delete this.zipPack;\n};\n\nPackage.prototype.addTransparencyFlagsToMaterials = function (mats) {\n  for (var id in mats) {\n    var mat = mats[id];\n    var userAssets = mat["userassets"];\n    var innerMats = mat["materials"];\n    var innerMat = innerMats[userAssets[0]];\n    mat.transparent = innerMat["transparent"];\n  }\n};\n\nPackage.prototype.postLoadOfCam = function (loadContext) {\n\n  //Combine camera instances and camera definitions -- we need\n  //both to be loaded to get the camera list\n  if (this.camDefPack && this.camInstPack) {\n    const tmpCenter = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__.LmvVector3();\n    for (var k = 0, kEnd = this.camInstPack.getEntryCounts(); k < kEnd; k++) {\n      var inst = (0,_Instances__WEBPACK_IMPORTED_MODULE_7__.readInstance)(this.camInstPack, k, this.placementTransform, this.globalOffset);\n      var cam = (0,_Cameras__WEBPACK_IMPORTED_MODULE_9__.readCameraDefinition)(this.camDefPack, inst);\n\n      //Apply any instance transform to get the camera to world space.\n      (0,_common_SvfPlacementUtils__WEBPACK_IMPORTED_MODULE_8__.transformCameraData)(cam, inst.transform);\n\n      // Fix camera\'s target if it is not inside the scene\'s bounding box.\n      var bbox = this.bbox;\n      if (bbox && !bbox.containsPoint(cam.target)) {\n        var distanceFromCenter = bbox.getCenter(tmpCenter).distanceTo(cam.position);\n        var direction = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__.LmvVector3().copy(cam.target).sub(cam.position).normalize().multiplyScalar(distanceFromCenter);\n        cam.target = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_2__.LmvVector3().copy(cam.position).add(direction);\n      }\n\n      this.cameras.push(cam);\n    }\n\n    delete this.camDefPack;\n    delete this.camInstPack;\n  }\n};\n\nPackage.prototype.postLoadOfOverrideSets = function (loadContext) {\n  if (this.overrideSetsPack) {\n    for (let i = 0, iEnd = this.overrideSetsPack.getEntryCounts(); i < iEnd; i++) {\n      const set = (0,_common_OverrideSets__WEBPACK_IMPORTED_MODULE_13__.readOverrideSet)(this.overrideSetsPack, i);\n\n      if (set) {\n        this.overrideSets.push(set);\n      }\n    }\n\n    delete this.overrideSetsPack;\n  }\n};\n\nPackage.prototype.postLoadOfViewpointTree = function (loadContext) {\n  if (this.viewpointTreePack) {\n    const root = (0,_common_NamedItemTree__WEBPACK_IMPORTED_MODULE_11__.readNamedItemTree)(this.viewpointTreePack);\n    this.viewpointTreeRoot = root;\n\n    delete this.viewpointTreePack;\n  }\n};\n\nPackage.prototype.postLoadOfViewpoints = function (loadContext) {\n  if (this.viewpointDefPack && this.camDefPack) {\n    for (let i = 0, iEnd = this.viewpointDefPack.getEntryCounts(); i < iEnd; i++) {\n      const def = (0,_common_Viewpoints__WEBPACK_IMPORTED_MODULE_12__.readViewpointDefinition)(this.viewpointDefPack, this.camDefPack, i);\n\n      if (def) {\n        this.viewpoints.push(def);\n      }\n    }\n\n    delete this.viewpointDefPack;\n  }\n};\n\nPackage.prototype.postLoadOfLight = function (loadContext) {\n\n  //Lights need the same thing as the cameras\n  if (this.lightDefPack && this.lightInstPack) {\n    for (var k = 0, kEnd = this.lightInstPack.getEntryCounts(); k < kEnd; k++) {\n      var inst = (0,_Instances__WEBPACK_IMPORTED_MODULE_7__.readInstance)(this.lightInstPack, k, this.placementTransform, this.globalOffset);\n      this.lights.push((0,_Lights__WEBPACK_IMPORTED_MODULE_10__.readLightDefinition)(this.lightDefPack, inst.definition));\n    }\n\n    delete this.lightInstPack;\n    delete this.lightDefPack;\n  }\n\n};\n\nPackage.prototype.postLoadOfFragments = function (loadContext) {\n\n  //Post processing step -- splice geometry metadata information\n  //into the fragments list, in case it was given separately\n  //TODO: consider keeping the geom metadata as is instead of splicing\n  //into the fragments, as it would be more efficient --\n  //but that would require special handling on the viewer side,\n  //changing the fragment filter code, etc.\n  var frags = this.fragments;\n\n  if (this.geomMetadata) {\n\n    //reusing the geomDataIndexes array to store\n    //polygon counts, now that we don\'t need the geomIndexes\n    //after this loop.\n    frags.polygonCounts = frags.geomDataIndexes;\n\n    var gm = this.geomMetadata;\n\n    // Holds the indexes to the topology data.\n    if (gm.topoIndexes != undefined) {\n      frags.topoIndexes = new Int32Array(frags.length);\n    }\n\n    for (var i = 0, iEnd = frags.length; i < iEnd; i++) {\n      var geomIndex = frags.geomDataIndexes[i];\n      frags.entityIndexes[i] = gm.entityIndexes[geomIndex];\n      frags.packIds[i] = gm.packIds[geomIndex];\n\n      frags.polygonCounts[i] = gm.primCounts[geomIndex];\n      this.primitiveCount += gm.primCounts[geomIndex];\n\n      // Fills in the indexes to the topology data.\n      if (gm.topoIndexes != undefined) {\n        frags.topoIndexes[i] = gm.topoIndexes[geomIndex];\n      }\n    }\n\n    frags.geomDataIndexes = null;\n\n    this.geomMetadata = null;\n  }\n\n  //Build a map from mesh to its referencing fragment(s)\n  //So that we can quickly find them once meshes begin loading\n  //incrementally. This requires the packIds and entityIndexes\n  //to be known per fragment, so it happens after geometry metadata\n  //is resolved above\n  this.calculateMesh2Frag(frags);\n};\n\nPackage.prototype.calculateMesh2Frag = function (frags) {\n  var mesh2frag = frags.mesh2frag = {};\n  var packIds = frags.packIds;\n  var entityIndexes = frags.entityIndexes;\n\n  for (var i = 0, iEnd = frags.length; i < iEnd; i++) {\n    var meshid = packIds[i] + ":" + entityIndexes[i];\n\n    var meshRefs = mesh2frag[meshid];\n    if (meshRefs === undefined) {\n      //If it\'s the first fragments for this mesh,\n      //store the index directly -- most common case.\n      mesh2frag[meshid] = i;\n    } else\n    if (!Array.isArray(meshRefs)) {\n      //otherwise put the fragments that\n      //reference the mesh into an array\n      mesh2frag[meshid] = [meshRefs, i];\n    } else\n    {\n      //already is an array\n      meshRefs.push(i);\n    }\n  }\n};\n\nPackage.prototype.postLoadOfBBox = function (loadContext) {\n\n  //if we don\'t know the overall scene bounds, compute them from the\n  //fragment boxes\n  if (!this.bbox || loadContext.placementTransform) {\n\n    var totalbox = [Infinity, Infinity, Infinity, -Infinity, -Infinity, -Infinity];\n    var frags = this.fragments;\n    var fragBoxes = frags.boxes;\n\n    for (var f = 0, fEnd = frags.length; f < fEnd; f++) {\n      var bboff = f * 6;\n      var i;\n      for (i = 0; i < 3; i++)\n      if (fragBoxes[bboff + i] < totalbox[i])\n      totalbox[i] = fragBoxes[bboff + i];\n\n      for (i = 3; i < 6; i++)\n      if (fragBoxes[bboff + i] > totalbox[i])\n      totalbox[i] = fragBoxes[bboff + i];\n    }\n\n    this.bbox = {\n      min: { x: totalbox[0], y: totalbox[1], z: totalbox[2] },\n      max: { x: totalbox[3], y: totalbox[4], z: totalbox[5] }\n    };\n  }\n\n\n};\n\nPackage.prototype.postLoadOfObjectIds = function (loadContext) {\n\n  // If object ids are specified, clean up pack file list by only keeping the packs that\'s\n  // we intended to load.\n  let ids = new Set(loadContext.objectIds);\n  if (ids.size > 0) {\n    let packIds = new Set();\n    let fragIds = new Set();\n    // Pick out pack ids that referenced by fragments with specified db ids.\n\n    for (let j = 0; j < this.fragments.length; ++j) {\n      if (ids.has(this.fragments.fragId2dbId[j])) {\n        packIds.add(this.fragments.packIds[j]);\n        fragIds.add(j);\n      }\n    }\n\n    // Reduce pack files based on selected pack ids.\n    let packs = new Set();\n    for (let i = 0; i < this.geompacks.length; ++i) {\n      // LMVTK pre-2.0 release uses integers for pack file id.\n      // LMVTK 2.0 release uses integer + .pf as id.\n      // We just drop the suffix here as we did in SVFLoader.\n      // More info: https://git.autodesk.com/A360/LMVTK/commit/68b8c07a643a7ac39ecd5651d031d170e3a325be\n      if (packIds.has(parseInt(this.geompacks[i].id))) {\n        packs.add(this.geompacks[i]);\n      }\n    }\n    this.geompacks = [...packs];\n\n    let bb = (0,_Fragments__WEBPACK_IMPORTED_MODULE_6__.filterFragments)(this.fragments, [...fragIds]);\n    this.bbox = {\n      min: { x: bb[0], y: bb[1], z: bb[2] },\n      max: { x: bb[3], y: bb[4], z: bb[5] }\n    };\n  }\n\n};\n\nPackage.prototype.postLoadBubbleConsolidation = function () {\n\n  const vtr = this.viewpointTreeRoot;\n\n  if (vtr) {\n    vtr.name = vtr.name || \'Saved Viewpoints\';\n  }\n\n  if (!(vtr !== null && vtr !== void 0 && vtr.children)) {\n    return;\n  }\n\n  let order = 0;\n  function traverseBubble(node) {\n    if (node.children) {\n      for (let i = 0; i < node.children.length; i++) {\n        traverseBubble(node.children[i]);\n      }\n      node.type = \'folder\';\n      node.role = \'viewable\';\n      node.guid = order++ + \'\';\n    } else {\n      if (!isNaN(node.entry)) {\n        node.order = order;\n\n        node.type = \'view\';\n        node.role = \'3d\';\n        node.guid = order++ + \'\';\n        node.isViewpoint = true;\n      }\n    }\n  }\n\n\n  for (let i = 0; i < vtr.children.length; i++) {\n    traverseBubble(vtr.children[i]);\n  }\n};\n\nPackage.prototype.postLoadComplete = function (loadContext) {\n\n  loadContext.loadDoneCB("svf");\n\n  if (this.fragments.polygonCounts) {\n    //Build the R-Tree\n    var t0 = performance.now();\n    var mats = this.materials ? this.materials["materials"] : null;\n    if (mats)\n    this.addTransparencyFlagsToMaterials(mats);\n    this.bvh = new _wgs_scene_BVHBuilder__WEBPACK_IMPORTED_MODULE_1__.BVHBuilder(this.fragments, mats);\n    this.bvh.build(loadContext.bvhOptions);\n    var t1 = performance.now();\n    loadContext.worker.debug("BVH build time (worker thread):" + (t1 - t0));\n\n    // In normal mode, just post back BVH as svf is already posted back earlier.\n    loadContext.loadDoneCB("bvh");\n  }\n\n  loadContext.loadDoneCB("done");\n};\n\nPackage.prototype.postLoad = function (loadContext) {\n\n  (0,_common_SvfPlacementUtils__WEBPACK_IMPORTED_MODULE_8__.transformAnimations)(this);\n\n  // TODO: this function appears to take quite a\n  //       while if it has lots of data to load.\n  //       maybe move to a background thread?\n  this.postLoadOfOverrideSets(loadContext);\n\n  this.postLoadOfViewpoints(loadContext);\n\n  this.postLoadOfViewpointTree(loadContext);\n\n  this.postLoadOfCam(loadContext);\n\n  this.postLoadOfLight(loadContext);\n\n  this.postLoadOfFragments(loadContext);\n\n  this.postLoadOfBBox(loadContext);\n\n  this.postLoadOfObjectIds(loadContext);\n\n  this.postLoadBubbleConsolidation();\n\n  this.postLoadComplete(loadContext);\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/net/ErrorCodes.js":\n/*!********************************************!*\\\n  !*** ./src/file-loaders/net/ErrorCodes.js ***!\n  \\********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorCodes: () => (/* binding */ ErrorCodes),\n/* harmony export */   errorCodeString: () => (/* binding */ errorCodeString),\n/* harmony export */   getErrorCode: () => (/* binding */ getErrorCode)\n/* harmony export */ });\n\n/**\n * Error code constants\n * These constants will be used in {@link Callbacks#onGenericError} functions.\n *\n * @namespace Autodesk.Viewing.ErrorCodes\n */\nconst ErrorCodes = {\n  /** \n   * An unknown failure has occurred. \n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  UNKNOWN_FAILURE: 1,\n\n  /** \n   * Bad data (corrupted or malformed) was encountered. \n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  BAD_DATA: 2,\n\n  /** \n   * A network failure was encountered. \n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  NETWORK_FAILURE: 3,\n\n  /** \n   * Access was denied to a network resource (HTTP 403)\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  NETWORK_ACCESS_DENIED: 4,\n\n  /** \n   * A network resource could not be found (HTTP 404)\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  NETWORK_FILE_NOT_FOUND: 5,\n\n  /** \n   * A server error was returned when accessing a network resource (HTTP 5xx)\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  NETWORK_SERVER_ERROR: 6,\n\n  /** \n   * An unhandled response code was returned when accessing a network resource (HTTP \'everything else\')\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  NETWORK_UNHANDLED_RESPONSE_CODE: 7,\n\n  /** \n   * Browser error = webGL is not supported by the current browser\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  BROWSER_WEBGL_NOT_SUPPORTED: 8,\n\n  /** \n   * There is nothing viewable in the fetched document \n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  BAD_DATA_NO_VIEWABLE_CONTENT: 9,\n\n  /** \n   * Browser error = webGL is supported, but not enabled \n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  BROWSER_WEBGL_DISABLED: 10,\n\n  /**\n   * There is no geometry in loaded model\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  BAD_DATA_MODEL_IS_EMPTY: 11,\n\n  /** \n   * The extension of the loaded file is not supported \n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  UNSUPORTED_FILE_EXTENSION: 13,\n\n  /** \n   * Viewer error: wrong or forbidden usage of the viewer\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes\n   * @type {number}\n   */\n  VIEWER_INTERNAL_ERROR: 14,\n\n  /** \n   * WebGL error while loading a model, typically due to IE11 limitations\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes \n   * @type {number}\n   */\n  WEBGL_LOST_CONTEXT: 15,\n\n  /** \n   * Viewer error because loading a resource was canceled\n   *\n   * @constant\n   * @memberof Autodesk.Viewing.ErrorCodes \n   * @type {number}\n   */\n  LOAD_CANCELED: 16\n};\n\n/**\n * Formatted error message\n * @param {number} errorCode - Error code\n * @returns {string} - Error message\n * @alias Autodesk.Viewing.errorCodeString\n * @private\n */\nfunction errorCodeString(errorCode) {\n  return "ErrorCode:" + errorCode + ".";\n}\n\n/**\n * Get ErrorCodes enum from http status code\n * @param {number} networkStatus - HTTP status code\n * @returns {number} - Autodesk.Viewing.ErrorCodes enum\n * @alias Autodesk.Viewing.getErrorCode\n * @private\n */\nfunction getErrorCode(networkStatus)\n{\n  if (networkStatus === 403 || networkStatus === 401)\n  {\n    return ErrorCodes.NETWORK_ACCESS_DENIED;\n  } else\n  if (networkStatus === 404)\n  {\n    return ErrorCodes.NETWORK_FILE_NOT_FOUND;\n  } else\n  if (networkStatus >= 500)\n  {\n    return ErrorCodes.NETWORK_SERVER_ERROR;\n  }\n\n  return ErrorCodes.NETWORK_UNHANDLED_RESPONSE_CODE;\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/net/Xhr.js":\n/*!*************************************!*\\\n  !*** ./src/file-loaders/net/Xhr.js ***!\n  \\*************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewingService: () => (/* binding */ ViewingService),\n/* harmony export */   pathToURL: () => (/* binding */ pathToURL),\n/* harmony export */   textToArrayBuffer: () => (/* binding */ textToArrayBuffer)\n/* harmony export */ });\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.regexp.flags.js */ "./node_modules/core-js/modules/es.regexp.flags.js");\n/* harmony import */ var core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.typed-array.set.js */ "./node_modules/core-js/modules/es.typed-array.set.js");\n/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_esnext_array_last_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/esnext.array.last-index.js */ "./node_modules/core-js/modules/esnext.array.last-index.js");\n/* harmony import */ var core_js_modules_esnext_array_last_index_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_last_index_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_esnext_array_last_item_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/esnext.array.last-item.js */ "./node_modules/core-js/modules/esnext.array.last-item.js");\n/* harmony import */ var core_js_modules_esnext_array_last_item_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_last_item_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_esnext_composite_key_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/esnext.composite-key.js */ "./node_modules/core-js/modules/esnext.composite-key.js");\n/* harmony import */ var core_js_modules_esnext_composite_key_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_composite_key_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_esnext_composite_symbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/esnext.composite-symbol.js */ "./node_modules/core-js/modules/esnext.composite-symbol.js");\n/* harmony import */ var core_js_modules_esnext_composite_symbol_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_composite_symbol_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_esnext_map_delete_all_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/esnext.map.delete-all.js */ "./node_modules/core-js/modules/esnext.map.delete-all.js");\n/* harmony import */ var core_js_modules_esnext_map_delete_all_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_delete_all_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_esnext_map_every_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/esnext.map.every.js */ "./node_modules/core-js/modules/esnext.map.every.js");\n/* harmony import */ var core_js_modules_esnext_map_every_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_every_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_esnext_map_filter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/esnext.map.filter.js */ "./node_modules/core-js/modules/esnext.map.filter.js");\n/* harmony import */ var core_js_modules_esnext_map_filter_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_filter_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_esnext_map_find_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/esnext.map.find.js */ "./node_modules/core-js/modules/esnext.map.find.js");\n/* harmony import */ var core_js_modules_esnext_map_find_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_find_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_esnext_map_find_key_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/esnext.map.find-key.js */ "./node_modules/core-js/modules/esnext.map.find-key.js");\n/* harmony import */ var core_js_modules_esnext_map_find_key_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_find_key_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_esnext_map_from_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/esnext.map.from.js */ "./node_modules/core-js/modules/esnext.map.from.js");\n/* harmony import */ var core_js_modules_esnext_map_from_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_from_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var core_js_modules_esnext_map_group_by_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/esnext.map.group-by.js */ "./node_modules/core-js/modules/esnext.map.group-by.js");\n/* harmony import */ var core_js_modules_esnext_map_group_by_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_group_by_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var core_js_modules_esnext_map_includes_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/esnext.map.includes.js */ "./node_modules/core-js/modules/esnext.map.includes.js");\n/* harmony import */ var core_js_modules_esnext_map_includes_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_includes_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var core_js_modules_esnext_map_key_by_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/esnext.map.key-by.js */ "./node_modules/core-js/modules/esnext.map.key-by.js");\n/* harmony import */ var core_js_modules_esnext_map_key_by_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_key_by_js__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var core_js_modules_esnext_map_key_of_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/esnext.map.key-of.js */ "./node_modules/core-js/modules/esnext.map.key-of.js");\n/* harmony import */ var core_js_modules_esnext_map_key_of_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_key_of_js__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var core_js_modules_esnext_map_map_keys_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/esnext.map.map-keys.js */ "./node_modules/core-js/modules/esnext.map.map-keys.js");\n/* harmony import */ var core_js_modules_esnext_map_map_keys_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_map_keys_js__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var core_js_modules_esnext_map_map_values_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/esnext.map.map-values.js */ "./node_modules/core-js/modules/esnext.map.map-values.js");\n/* harmony import */ var core_js_modules_esnext_map_map_values_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_map_values_js__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var core_js_modules_esnext_map_merge_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! core-js/modules/esnext.map.merge.js */ "./node_modules/core-js/modules/esnext.map.merge.js");\n/* harmony import */ var core_js_modules_esnext_map_merge_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_merge_js__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var core_js_modules_esnext_map_of_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! core-js/modules/esnext.map.of.js */ "./node_modules/core-js/modules/esnext.map.of.js");\n/* harmony import */ var core_js_modules_esnext_map_of_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_of_js__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var core_js_modules_esnext_map_reduce_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! core-js/modules/esnext.map.reduce.js */ "./node_modules/core-js/modules/esnext.map.reduce.js");\n/* harmony import */ var core_js_modules_esnext_map_reduce_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_reduce_js__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var core_js_modules_esnext_map_some_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! core-js/modules/esnext.map.some.js */ "./node_modules/core-js/modules/esnext.map.some.js");\n/* harmony import */ var core_js_modules_esnext_map_some_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_some_js__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var core_js_modules_esnext_map_update_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! core-js/modules/esnext.map.update.js */ "./node_modules/core-js/modules/esnext.map.update.js");\n/* harmony import */ var core_js_modules_esnext_map_update_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_update_js__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var core_js_modules_esnext_math_clamp_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! core-js/modules/esnext.math.clamp.js */ "./node_modules/core-js/modules/esnext.math.clamp.js");\n/* harmony import */ var core_js_modules_esnext_math_clamp_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_clamp_js__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var core_js_modules_esnext_math_deg_per_rad_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! core-js/modules/esnext.math.deg-per-rad.js */ "./node_modules/core-js/modules/esnext.math.deg-per-rad.js");\n/* harmony import */ var core_js_modules_esnext_math_deg_per_rad_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_deg_per_rad_js__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var core_js_modules_esnext_math_degrees_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! core-js/modules/esnext.math.degrees.js */ "./node_modules/core-js/modules/esnext.math.degrees.js");\n/* harmony import */ var core_js_modules_esnext_math_degrees_js__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_degrees_js__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var core_js_modules_esnext_math_fscale_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! core-js/modules/esnext.math.fscale.js */ "./node_modules/core-js/modules/esnext.math.fscale.js");\n/* harmony import */ var core_js_modules_esnext_math_fscale_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_fscale_js__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var core_js_modules_esnext_math_iaddh_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! core-js/modules/esnext.math.iaddh.js */ "./node_modules/core-js/modules/esnext.math.iaddh.js");\n/* harmony import */ var core_js_modules_esnext_math_iaddh_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_iaddh_js__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var core_js_modules_esnext_math_imulh_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! core-js/modules/esnext.math.imulh.js */ "./node_modules/core-js/modules/esnext.math.imulh.js");\n/* harmony import */ var core_js_modules_esnext_math_imulh_js__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_imulh_js__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var core_js_modules_esnext_math_isubh_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! core-js/modules/esnext.math.isubh.js */ "./node_modules/core-js/modules/esnext.math.isubh.js");\n/* harmony import */ var core_js_modules_esnext_math_isubh_js__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_isubh_js__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var core_js_modules_esnext_math_rad_per_deg_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! core-js/modules/esnext.math.rad-per-deg.js */ "./node_modules/core-js/modules/esnext.math.rad-per-deg.js");\n/* harmony import */ var core_js_modules_esnext_math_rad_per_deg_js__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_rad_per_deg_js__WEBPACK_IMPORTED_MODULE_31__);\n/* harmony import */ var core_js_modules_esnext_math_radians_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! core-js/modules/esnext.math.radians.js */ "./node_modules/core-js/modules/esnext.math.radians.js");\n/* harmony import */ var core_js_modules_esnext_math_radians_js__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_radians_js__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var core_js_modules_esnext_math_scale_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! core-js/modules/esnext.math.scale.js */ "./node_modules/core-js/modules/esnext.math.scale.js");\n/* harmony import */ var core_js_modules_esnext_math_scale_js__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_scale_js__WEBPACK_IMPORTED_MODULE_33__);\n/* harmony import */ var core_js_modules_esnext_math_seeded_prng_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! core-js/modules/esnext.math.seeded-prng.js */ "./node_modules/core-js/modules/esnext.math.seeded-prng.js");\n/* harmony import */ var core_js_modules_esnext_math_seeded_prng_js__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_seeded_prng_js__WEBPACK_IMPORTED_MODULE_34__);\n/* harmony import */ var core_js_modules_esnext_math_signbit_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! core-js/modules/esnext.math.signbit.js */ "./node_modules/core-js/modules/esnext.math.signbit.js");\n/* harmony import */ var core_js_modules_esnext_math_signbit_js__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_signbit_js__WEBPACK_IMPORTED_MODULE_35__);\n/* harmony import */ var core_js_modules_esnext_math_umulh_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! core-js/modules/esnext.math.umulh.js */ "./node_modules/core-js/modules/esnext.math.umulh.js");\n/* harmony import */ var core_js_modules_esnext_math_umulh_js__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_math_umulh_js__WEBPACK_IMPORTED_MODULE_36__);\n/* harmony import */ var core_js_modules_esnext_number_from_string_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! core-js/modules/esnext.number.from-string.js */ "./node_modules/core-js/modules/esnext.number.from-string.js");\n/* harmony import */ var core_js_modules_esnext_number_from_string_js__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_number_from_string_js__WEBPACK_IMPORTED_MODULE_37__);\n/* harmony import */ var core_js_modules_esnext_observable_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! core-js/modules/esnext.observable.js */ "./node_modules/core-js/modules/esnext.observable.js");\n/* harmony import */ var core_js_modules_esnext_observable_js__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_observable_js__WEBPACK_IMPORTED_MODULE_38__);\n/* harmony import */ var core_js_modules_esnext_promise_try_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! core-js/modules/esnext.promise.try.js */ "./node_modules/core-js/modules/esnext.promise.try.js");\n/* harmony import */ var core_js_modules_esnext_promise_try_js__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_promise_try_js__WEBPACK_IMPORTED_MODULE_39__);\n/* harmony import */ var core_js_modules_esnext_reflect_define_metadata_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! core-js/modules/esnext.reflect.define-metadata.js */ "./node_modules/core-js/modules/esnext.reflect.define-metadata.js");\n/* harmony import */ var core_js_modules_esnext_reflect_define_metadata_js__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_define_metadata_js__WEBPACK_IMPORTED_MODULE_40__);\n/* harmony import */ var core_js_modules_esnext_reflect_delete_metadata_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! core-js/modules/esnext.reflect.delete-metadata.js */ "./node_modules/core-js/modules/esnext.reflect.delete-metadata.js");\n/* harmony import */ var core_js_modules_esnext_reflect_delete_metadata_js__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_delete_metadata_js__WEBPACK_IMPORTED_MODULE_41__);\n/* harmony import */ var core_js_modules_esnext_reflect_get_metadata_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! core-js/modules/esnext.reflect.get-metadata.js */ "./node_modules/core-js/modules/esnext.reflect.get-metadata.js");\n/* harmony import */ var core_js_modules_esnext_reflect_get_metadata_js__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_get_metadata_js__WEBPACK_IMPORTED_MODULE_42__);\n/* harmony import */ var core_js_modules_esnext_reflect_get_metadata_keys_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! core-js/modules/esnext.reflect.get-metadata-keys.js */ "./node_modules/core-js/modules/esnext.reflect.get-metadata-keys.js");\n/* harmony import */ var core_js_modules_esnext_reflect_get_metadata_keys_js__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_get_metadata_keys_js__WEBPACK_IMPORTED_MODULE_43__);\n/* harmony import */ var core_js_modules_esnext_reflect_get_own_metadata_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! core-js/modules/esnext.reflect.get-own-metadata.js */ "./node_modules/core-js/modules/esnext.reflect.get-own-metadata.js");\n/* harmony import */ var core_js_modules_esnext_reflect_get_own_metadata_js__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_get_own_metadata_js__WEBPACK_IMPORTED_MODULE_44__);\n/* harmony import */ var core_js_modules_esnext_reflect_get_own_metadata_keys_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! core-js/modules/esnext.reflect.get-own-metadata-keys.js */ "./node_modules/core-js/modules/esnext.reflect.get-own-metadata-keys.js");\n/* harmony import */ var core_js_modules_esnext_reflect_get_own_metadata_keys_js__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_get_own_metadata_keys_js__WEBPACK_IMPORTED_MODULE_45__);\n/* harmony import */ var core_js_modules_esnext_reflect_has_metadata_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! core-js/modules/esnext.reflect.has-metadata.js */ "./node_modules/core-js/modules/esnext.reflect.has-metadata.js");\n/* harmony import */ var core_js_modules_esnext_reflect_has_metadata_js__WEBPACK_IMPORTED_MODULE_46___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_has_metadata_js__WEBPACK_IMPORTED_MODULE_46__);\n/* harmony import */ var core_js_modules_esnext_reflect_has_own_metadata_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! core-js/modules/esnext.reflect.has-own-metadata.js */ "./node_modules/core-js/modules/esnext.reflect.has-own-metadata.js");\n/* harmony import */ var core_js_modules_esnext_reflect_has_own_metadata_js__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_has_own_metadata_js__WEBPACK_IMPORTED_MODULE_47__);\n/* harmony import */ var core_js_modules_esnext_reflect_metadata_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! core-js/modules/esnext.reflect.metadata.js */ "./node_modules/core-js/modules/esnext.reflect.metadata.js");\n/* harmony import */ var core_js_modules_esnext_reflect_metadata_js__WEBPACK_IMPORTED_MODULE_48___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_reflect_metadata_js__WEBPACK_IMPORTED_MODULE_48__);\n/* harmony import */ var core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! core-js/modules/esnext.set.add-all.js */ "./node_modules/core-js/modules/esnext.set.add-all.js");\n/* harmony import */ var core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_49__);\n/* harmony import */ var core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! core-js/modules/esnext.set.delete-all.js */ "./node_modules/core-js/modules/esnext.set.delete-all.js");\n/* harmony import */ var core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_50__);\n/* harmony import */ var core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! core-js/modules/esnext.set.difference.js */ "./node_modules/core-js/modules/esnext.set.difference.js");\n/* harmony import */ var core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_51__);\n/* harmony import */ var core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! core-js/modules/esnext.set.every.js */ "./node_modules/core-js/modules/esnext.set.every.js");\n/* harmony import */ var core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_52___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_52__);\n/* harmony import */ var core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! core-js/modules/esnext.set.filter.js */ "./node_modules/core-js/modules/esnext.set.filter.js");\n/* harmony import */ var core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_53___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_53__);\n/* harmony import */ var core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! core-js/modules/esnext.set.find.js */ "./node_modules/core-js/modules/esnext.set.find.js");\n/* harmony import */ var core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_54___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_54__);\n/* harmony import */ var core_js_modules_esnext_set_from_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! core-js/modules/esnext.set.from.js */ "./node_modules/core-js/modules/esnext.set.from.js");\n/* harmony import */ var core_js_modules_esnext_set_from_js__WEBPACK_IMPORTED_MODULE_55___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_from_js__WEBPACK_IMPORTED_MODULE_55__);\n/* harmony import */ var core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! core-js/modules/esnext.set.intersection.js */ "./node_modules/core-js/modules/esnext.set.intersection.js");\n/* harmony import */ var core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_56__);\n/* harmony import */ var core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! core-js/modules/esnext.set.is-disjoint-from.js */ "./node_modules/core-js/modules/esnext.set.is-disjoint-from.js");\n/* harmony import */ var core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_57__);\n/* harmony import */ var core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! core-js/modules/esnext.set.is-subset-of.js */ "./node_modules/core-js/modules/esnext.set.is-subset-of.js");\n/* harmony import */ var core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_58___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_58__);\n/* harmony import */ var core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! core-js/modules/esnext.set.is-superset-of.js */ "./node_modules/core-js/modules/esnext.set.is-superset-of.js");\n/* harmony import */ var core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_59___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_59__);\n/* harmony import */ var core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! core-js/modules/esnext.set.join.js */ "./node_modules/core-js/modules/esnext.set.join.js");\n/* harmony import */ var core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_60___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_60__);\n/* harmony import */ var core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! core-js/modules/esnext.set.map.js */ "./node_modules/core-js/modules/esnext.set.map.js");\n/* harmony import */ var core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_61___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_61__);\n/* harmony import */ var core_js_modules_esnext_set_of_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! core-js/modules/esnext.set.of.js */ "./node_modules/core-js/modules/esnext.set.of.js");\n/* harmony import */ var core_js_modules_esnext_set_of_js__WEBPACK_IMPORTED_MODULE_62___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_of_js__WEBPACK_IMPORTED_MODULE_62__);\n/* harmony import */ var core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! core-js/modules/esnext.set.reduce.js */ "./node_modules/core-js/modules/esnext.set.reduce.js");\n/* harmony import */ var core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_63___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_63__);\n/* harmony import */ var core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! core-js/modules/esnext.set.some.js */ "./node_modules/core-js/modules/esnext.set.some.js");\n/* harmony import */ var core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_64___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_64__);\n/* harmony import */ var core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! core-js/modules/esnext.set.symmetric-difference.js */ "./node_modules/core-js/modules/esnext.set.symmetric-difference.js");\n/* harmony import */ var core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_65___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_65__);\n/* harmony import */ var core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! core-js/modules/esnext.set.union.js */ "./node_modules/core-js/modules/esnext.set.union.js");\n/* harmony import */ var core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_66___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_66__);\n/* harmony import */ var core_js_modules_esnext_string_at_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! core-js/modules/esnext.string.at.js */ "./node_modules/core-js/modules/esnext.string.at.js");\n/* harmony import */ var core_js_modules_esnext_string_at_js__WEBPACK_IMPORTED_MODULE_67___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_string_at_js__WEBPACK_IMPORTED_MODULE_67__);\n/* harmony import */ var core_js_modules_esnext_string_code_points_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! core-js/modules/esnext.string.code-points.js */ "./node_modules/core-js/modules/esnext.string.code-points.js");\n/* harmony import */ var core_js_modules_esnext_string_code_points_js__WEBPACK_IMPORTED_MODULE_68___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_string_code_points_js__WEBPACK_IMPORTED_MODULE_68__);\n/* harmony import */ var core_js_modules_esnext_symbol_dispose_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! core-js/modules/esnext.symbol.dispose.js */ "./node_modules/core-js/modules/esnext.symbol.dispose.js");\n/* harmony import */ var core_js_modules_esnext_symbol_dispose_js__WEBPACK_IMPORTED_MODULE_69___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_symbol_dispose_js__WEBPACK_IMPORTED_MODULE_69__);\n/* harmony import */ var core_js_modules_esnext_symbol_observable_js__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! core-js/modules/esnext.symbol.observable.js */ "./node_modules/core-js/modules/esnext.symbol.observable.js");\n/* harmony import */ var core_js_modules_esnext_symbol_observable_js__WEBPACK_IMPORTED_MODULE_70___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_symbol_observable_js__WEBPACK_IMPORTED_MODULE_70__);\n/* harmony import */ var core_js_modules_esnext_symbol_pattern_match_js__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! core-js/modules/esnext.symbol.pattern-match.js */ "./node_modules/core-js/modules/esnext.symbol.pattern-match.js");\n/* harmony import */ var core_js_modules_esnext_symbol_pattern_match_js__WEBPACK_IMPORTED_MODULE_71___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_symbol_pattern_match_js__WEBPACK_IMPORTED_MODULE_71__);\n/* harmony import */ var core_js_modules_esnext_weak_map_delete_all_js__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! core-js/modules/esnext.weak-map.delete-all.js */ "./node_modules/core-js/modules/esnext.weak-map.delete-all.js");\n/* harmony import */ var core_js_modules_esnext_weak_map_delete_all_js__WEBPACK_IMPORTED_MODULE_72___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_weak_map_delete_all_js__WEBPACK_IMPORTED_MODULE_72__);\n/* harmony import */ var core_js_modules_esnext_weak_map_from_js__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! core-js/modules/esnext.weak-map.from.js */ "./node_modules/core-js/modules/esnext.weak-map.from.js");\n/* harmony import */ var core_js_modules_esnext_weak_map_from_js__WEBPACK_IMPORTED_MODULE_73___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_weak_map_from_js__WEBPACK_IMPORTED_MODULE_73__);\n/* harmony import */ var core_js_modules_esnext_weak_map_of_js__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! core-js/modules/esnext.weak-map.of.js */ "./node_modules/core-js/modules/esnext.weak-map.of.js");\n/* harmony import */ var core_js_modules_esnext_weak_map_of_js__WEBPACK_IMPORTED_MODULE_74___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_weak_map_of_js__WEBPACK_IMPORTED_MODULE_74__);\n/* harmony import */ var core_js_modules_esnext_weak_set_add_all_js__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! core-js/modules/esnext.weak-set.add-all.js */ "./node_modules/core-js/modules/esnext.weak-set.add-all.js");\n/* harmony import */ var core_js_modules_esnext_weak_set_add_all_js__WEBPACK_IMPORTED_MODULE_75___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_weak_set_add_all_js__WEBPACK_IMPORTED_MODULE_75__);\n/* harmony import */ var core_js_modules_esnext_weak_set_delete_all_js__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! core-js/modules/esnext.weak-set.delete-all.js */ "./node_modules/core-js/modules/esnext.weak-set.delete-all.js");\n/* harmony import */ var core_js_modules_esnext_weak_set_delete_all_js__WEBPACK_IMPORTED_MODULE_76___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_weak_set_delete_all_js__WEBPACK_IMPORTED_MODULE_76__);\n/* harmony import */ var core_js_modules_esnext_weak_set_from_js__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! core-js/modules/esnext.weak-set.from.js */ "./node_modules/core-js/modules/esnext.weak-set.from.js");\n/* harmony import */ var core_js_modules_esnext_weak_set_from_js__WEBPACK_IMPORTED_MODULE_77___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_weak_set_from_js__WEBPACK_IMPORTED_MODULE_77__);\n/* harmony import */ var core_js_modules_esnext_weak_set_of_js__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! core-js/modules/esnext.weak-set.of.js */ "./node_modules/core-js/modules/esnext.weak-set.of.js");\n/* harmony import */ var core_js_modules_esnext_weak_set_of_js__WEBPACK_IMPORTED_MODULE_78___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_weak_set_of_js__WEBPACK_IMPORTED_MODULE_78__);\n/* harmony import */ var core_js_modules_web_immediate_js__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! core-js/modules/web.immediate.js */ "./node_modules/core-js/modules/web.immediate.js");\n/* harmony import */ var core_js_modules_web_immediate_js__WEBPACK_IMPORTED_MODULE_79___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_immediate_js__WEBPACK_IMPORTED_MODULE_79__);\n/* harmony import */ var _logger_Logger__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../../logger/Logger */ "./src/logger/Logger.js");\n/* harmony import */ var _ErrorCodes__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n/* harmony import */ var _lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../lmvtk/common/StringUtils */ "./src/file-loaders/lmvtk/common/StringUtils.js");\n/* harmony import */ var _endpoints__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ./endpoints */ "./src/file-loaders/net/endpoints.js");\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../../compat */ "./src/compat.js");\n/* harmony import */ var exponential_backoff__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! exponential-backoff */ "./node_modules/exponential-backoff/dist/backoff.js");\n/* harmony import */ var exponential_backoff__WEBPACK_IMPORTED_MODULE_85___default = /*#__PURE__*/__webpack_require__.n(exponential_backoff__WEBPACK_IMPORTED_MODULE_85__);\n/* harmony import */ var fflate__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! fflate */ "./node_modules/fflate/esm/browser.js");\n // These are needed in order to support async/await.\n\n\n\n\n\n\n\n\n\n\n\nlet ViewingService = {};\nViewingService.WORKER_REGISTER_FILE_PORT = "REGISTER_FILE_PORT";\nViewingService.WORKER_READ_FILE = "READ_FILE";\n\nvar warnedGzip = false;\n\n// Simplify Unix style file path. For example, turn \'/a/./b/../../c/\' into "/c".\n// Required to deal with OSS crappy URNs where there are embedded \'..\'.\nfunction simplifyPath(path) {\n\n  var elements = path.split(\'/\');\n  if (elements.length == 0)\n  return path;\n\n  var stack = [];\n  for (var index = 0; index < elements.length; ++index) {\n    var c = elements[index];\n    if (c === \'.\') {\n      continue;\n    }if (c === \'..\' && stack.length) {\n      stack.pop();\n    } else {\n      stack.push(c);\n    }\n  }\n\n  // Great, the path commits suicide.\n  if (stack.length == 0)\n  return \'\';\n\n  return stack.join("/");\n}\n\n//Maps a relative resource path (like a pack file or texture)\n//to an absolute URL. If absoluteBasePath is specified, it is\n//used to construct the absolute URL, otherwise the window location\n//is used.\nfunction pathToURL(path, absoluteBasePath) {\n\n  if (path.indexOf("://") !== -1 ||\n  path.indexOf("urn:") === 0) {\n    return path;\n  }\n\n  if (absoluteBasePath) {\n    return absoluteBasePath + path;\n  }\n\n  if (typeof window === "undefined")\n  return path;\n\n  const _window = (0,_compat__WEBPACK_IMPORTED_MODULE_84__.getGlobal)();\n  var rootRelPath = _window.location.pathname;\n  //chop off the index.html part\n  var lastSlash = rootRelPath.lastIndexOf("/");\n  rootRelPath = rootRelPath.substr(0, lastSlash + 1);\n  var absPath = _window.location.protocol + "//" + _window.location.host + rootRelPath + path;\n  return absPath;\n}\n\n\nViewingService.simplifyPath = simplifyPath;\n\nfunction textToArrayBuffer(textBuffer, startOffset) {\n  var len = textBuffer.length - startOffset;\n  var arrayBuffer = new ArrayBuffer(len);\n  var ui8a = new Uint8Array(arrayBuffer, 0);\n  for (var i = 0, j = startOffset; i < len; i++, j++)\n  ui8a[i] = textBuffer.charCodeAt(j) & 0xff;\n  return ui8a;\n}\n\n\nViewingService.OSS_PREFIX = "urn:adsk.objects:os.object:";\n\n/**\n * Construct full URL given a potentially partial viewing service "urn:" prefixed resource\n * @returns {string}\n */\nViewingService.generateUrl = function (baseUrl, api, path, apiData, escapeOssObjects, guid) {\n\n  path = path || "";\n\n  //NODE\n  if ((0,_compat__WEBPACK_IMPORTED_MODULE_84__.isNodeJS)() && !isRemotePath(baseUrl, path)) {\n    return path;\n  }\n\n  path = simplifyPath(path);\n\n  //V2 only accepts URL encoded paths\n  var urnidx = path.indexOf("urn:");\n  var qidx = path.indexOf("?");\n  if (urnidx != -1) {\n    if (qidx !== -1) {\n      //TODO: not sure this will happen, queryParams are normally\n      //passed in separately in the options object\n      path = path.slice(0, urnidx) + encodeURIComponent(path.slice(urnidx, qidx)) + path.slice(qidx);\n    } else {\n      path = path.slice(0, urnidx) + encodeURIComponent(path.slice(urnidx));\n    }\n  } else {\n    path = encodeURI(path);\n  }\n\n  // OSS only accepts object ids with escaped slashes\n  if (escapeOssObjects && ViewingService.isOSSUrl(path)) {\n    var objectsIndex = path.indexOf("/objects/") + 9;\n    var objectPath = path.substring(objectsIndex);\n    path = path.substring(0, objectsIndex) + encodeURIComponent(objectPath);\n  }\n\n  //Check if it\'s a viewing service item path\n  //Public/static content will not have the urn: prefix.\n  //So URL construction is a no-op\n  if (!api || decodeURIComponent(path).indexOf(\'urn:\') !== 0) {\n    if (isRemotePath(null, path))\n    return path;else\n\n    return baseUrl + path;\n  }\n\n  //Remove "urn:" prefix when getting URN-based stuff (manifests and thumbnails)\n  if (api !== \'items\') {\n    path = path.substr(6);\n  }\n\n  switch (api) {\n    case "items":return _endpoints__WEBPACK_IMPORTED_MODULE_83__.endpoint.getItemApi(baseUrl, path, apiData);\n    case "bubbles":return _endpoints__WEBPACK_IMPORTED_MODULE_83__.endpoint.getManifestApi(baseUrl, path, apiData);\n    case "thumbnails":return _endpoints__WEBPACK_IMPORTED_MODULE_83__.endpoint.getThumbnailApi(baseUrl, path, apiData);\n    case "properties":return _endpoints__WEBPACK_IMPORTED_MODULE_83__.endpoint.getPropertyQueryApi(baseUrl, path, apiData, guid);\n  }\n};\n\nfunction isRemotePath(baseUrl, path) {\n  if (path.indexOf("file://") !== -1)\n  return false;\n  if (path.indexOf("://") !== -1)\n  return true;\n  if (baseUrl)\n  return true;\n}\n\n\n//Conditional GET request implementation for node vs. browser\nif ((0,_compat__WEBPACK_IMPORTED_MODULE_84__.isNodeJS)()) {\n\n  (function () {\n\n    var fs = __webpack_require__(/*! fs */ "?99b8");\n    var zlib = __webpack_require__(/*! zlib */ "?d497");\n    var https = __webpack_require__(/*! https */ "?8571");\n    var http = __webpack_require__(/*! http */ "?aca8");\n    var urllib = __webpack_require__(/*! url */ "./node_modules/url/url.js");\n\n    let httpsAgent = new https.Agent({\n      keepAlive: true,\n      keepAliveMsecs: 100,\n      maxSockets: 10\n    });\n    let httpAgent = new http.Agent({\n      keepAlive: true,\n      keepAliveMsecs: 100,\n      maxSockets: 10\n    });\n\n\n    var forgeAgent = new https.Agent({ maxSockets: 10 });\n\n    function loadLocalFile(url, onSuccess, onFailure, options) {\n\n      if (url.indexOf("file://") === 0)\n      url = url.substr(7);\n\n      function postProcess(data) {\n        if (options.responseType === "json") {\n          try {\n            return JSON.parse(data.toString("utf8"));\n          } catch (e) {\n            onFailure(e);\n          }\n        }\n        return data;\n      }\n\n      //Always use async on Node\n      fs.readFile(url, function (error, data) {\n        if (error) {\n          onFailure(0, 0, { httpStatusText: error, url: url });\n        } else {\n          if (data[0] === 31 && data[1] === 139) {\n            zlib.gunzip(data, null, function (error, data) {\n              if (error)\n              onFailure(0, 0, { httpStatusText: error, url: url });else\n              {\n                data = postProcess(data);\n                if (options.ondata)\n                options.ondata(data);\n                onSuccess(data);\n              }\n            });\n          } else {\n            data = postProcess(data);\n            if (options.ondata)\n            options.ondata(data);\n            onSuccess(data);\n          }\n        }\n      });\n    }\n\n    function needsGunzip(res, pathname) {\n\n      if (res.headers[\'content-encoding\'] === \'gzip\')\n      return true;\n\n      //These SVF related files come pre-gzipped\n      //regardless of content-encoding header\n\n      if (pathname.endsWith(".json.gz"))\n      return true;\n\n      if (pathname.endsWith("FragmentList.pack"))\n      return true;\n\n      if (pathname.endsWith("LightList.bin"))\n      return true;\n\n      if (pathname.endsWith("CameraList.bin"))\n      return true;\n\n      if (pathname.endsWith("CameraDefinitions.bin"))\n      return true;\n\n      if (pathname.endsWith("LightDefinitions.bin"))\n      return true;\n\n      return false;\n    }\n\n\n    /**\n     *  Performs a GET/HEAD request to Viewing Service. (Node.js specific implementation)\n     *\n     * @param {string} viewingServiceBaseUrl - The base url for the viewing service.\n     * @param {string} api - The api to call in the viewing service.\n     *  @param {string} url - The url for the request.\n     *  @param {function} onSuccess - A function that takes a single parameter that represents the response\n     *                                returned if the request is successful.\n     *  @param {function} onFailure - A function that takes an integer status code, and a string status, which together represent\n     *                                the response returned if the request is unsuccessful, and a third data argument, which\n     *                                has more information about the failure.  The data is a dictionary that minimally includes\n     *                                the url, and an exception if one was raised.\n     *  @param {Object=} [options] - A dictionary of options that can include:\n     *                               headers - A dictionary representing the additional headers to add.\n     *                               queryParams - A string representing the query parameters\n     *                               responseType - A string representing the response type for this request.\n     *                               {boolean} [encodeUrn] - when true, encodes the document urn if found.\n     *                               {boolean} [noBody] - when true, will perform a HEAD request\n     */\n    ViewingService.rawGet = function (viewingServiceBaseUrl, api, url, onSuccess, onFailure, options) {\n\n      options = options || {};\n\n      url = ViewingService.generateUrl(viewingServiceBaseUrl, api, url, undefined, options.escapeOssObjects);\n\n      if (!isRemotePath(viewingServiceBaseUrl, url)) {\n        loadLocalFile(url, onSuccess, onFailure, options);\n        return;\n      }\n\n      if (options.queryParams) {\n        var concatSymbol = url.indexOf(\'?\') === -1 ? \'?\' : \'&\';\n        url = url + concatSymbol + options.queryParams;\n      }\n\n      var parsed = urllib.parse(url);\n\n      var req = {\n        host: parsed.hostname,\n        port: parsed.port,\n        method: options.method || "GET",\n        path: parsed.path,\n        headers: {},\n        retryCount: 0,\n        agent: parsed.protocol === "https:" ? httpsAgent : httpAgent\n      };\n\n      //Don\'t overload derivative service with requests\n      if (req.host.endsWith(".api.autodesk.com") && (\n      req.path.startsWith("/derivativeservice") || req.path.startsWith("/modelderivative"))) {\n        req.agent = forgeAgent;\n      }\n\n      if (options.headers) {\n        for (var p in options.headers) {\n          req.headers[p] = options.headers[p];\n        }\n      }\n\n      if (!req.headers[\'accept-encoding\']) {\n        req.headers[\'accept-encoding\'] = \'gzip, deflate\';\n      }\n\n      if (options.range) {\n        req.headers["Range"] = "bytes=" + options.range.min + "-" + options.range.max;\n      }\n\n      //Undo hack used to make streaming receive work on browser XHR -- the hack\n      //involves processing the response as text, so responseType is set to "".\n      if (options.ondata || options.onprogress) {\n        options.responseType = "arraybuffer";\n      }\n\n      var request = (parsed.protocol === "https:" ? https : http).request(req, function (res) {\n\n        var hasError = !(res.statusCode >= 200 && res.statusCode < 400);\n\n        //Pipe through gunzip if needed\n        var stream = res;\n        if (!hasError && needsGunzip(res, parsed.pathname)) {\n          stream = res.pipe(zlib.createGunzip());\n        }\n\n        //Decode as UTF8 string if needed\n        if (options.responseType === "json" || options.responseType === "text" || !options.responseType)\n        stream.setEncoding(\'utf8\');\n\n        var chunks = [];\n        var receiveBuffer = Buffer.allocUnsafe(65536);\n        var receivedLen = 0;\n        stream.on(\'data\', function (chunk) {\n\n          //The onprogress callback is special in that it\n          //want us to accumulate the data as we receive it, and it only looks at it.\n          if (options.onprogress) {\n\n            if (chunk.length + receivedLen > receiveBuffer.length) {\n              var nb = Buffer.allocUnsafe(0 | Math.ceil(receiveBuffer.length * 1.5));\n              receiveBuffer.copy(nb, 0, 0, receivedLen);\n              receiveBuffer = nb;\n            }\n\n            chunk.copy(receiveBuffer, receivedLen, 0, chunk.length);\n            receivedLen += chunk.length;\n            let abort = options.onprogress(receiveBuffer, receivedLen);\n            if (abort)\n            request.abort();\n            return;\n          } else {\n            chunks.push(chunk);\n          }\n\n          if (options.ondata) {\n            options.ondata(chunk);\n          }\n\n        });\n\n        stream.on(\'end\', function () {\n\n          if (res.statusCode >= 200 && res.statusCode < 400) {\n\n            if (options.responseType === "json") {\n              var jsobj = JSON.parse(chunks.join(\'\'));\n              onSuccess(jsobj);\n              return;\n            }\n\n            if (options.responseType === "text" || options.responseType === "") {\n              var str = chunks.join(\'\');\n              onSuccess(str);\n              return;\n            }\n\n            var buf = options.onprogress ? receiveBuffer : Buffer.concat(chunks);\n\n            if (buf[0] === 31 && buf[1] === 139) {\n\n              _logger_Logger__WEBPACK_IMPORTED_MODULE_80__.logger.warn("An LMV resource (" + url + ") was double compressed, or Content-Encoding header missing");\n\n              try {\n                buf = zlib.gunzipSync(buf);\n                receivedLen = buf.length;\n              } catch (err) {\n                onFailure(_ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.BAD_DATA,\n                "Malformed data received when requesting file",\n                { "url": url, "exception": err.toString(), "stack": err.stack });\n              }\n            }\n\n            if (request.status === 200 && options.range) {\n              //If we requested a range, but the entire content was returned,\n              //make sure to give back just the requested subset to the caller\n              buf = new Uint8Array(buf, options.range.min, options.range.max - options.range.min);\n            }\n\n            onSuccess(buf, receivedLen);\n\n          } else {\n\n            if (onFailure)\n            onFailure(res.statusCode, res.statusMessage, { url: url });\n\n          }\n        });\n\n      });\n\n      request.on("error", function (error) {\n        if (onFailure)\n        onFailure(error.code, error.message, { url: url });\n      });\n\n      if (options.postData) {\n        request.write(options.postData);\n      }\n\n      request.end();\n\n    };\n\n  })();\n\n} else {\n\n  var Pend = __webpack_require__(/*! pend */ "./node_modules/pend/index.js");\n  var xhrThrottle = new Pend();\n  xhrThrottle.max = 25;\n\n  var protocolPortMap = {};\n  var pendingPortRequest = {};\n  var pendingRequestChannelMap = {};\n\n  /**\n   * Explain how the protocol handler working in general here\n   * Why adding this function:\n   * In Emscripten it has a virtual file system, it provide us ability to run wasm loader to load \n   * native DWF models, and write the output in that virtual file system\n   * \n   * While, we run the extraction code in the worker, it makes us hard to read the data back since only \n   * the worker thread can read that data. But we need put the resource in the bubble data to indicate that\n   * this data is from Emscripten Virtual File System, the urn is not an http(s) or file.\n   * \n   * It makes the whole process complex, we don\'t want to change the existing data schema(bubble) so we need\n   * to add a support in the Xhr.js to support the this resource request.\n   * \n   * The idea here is we register a MessagePort in the main thread, and once we create a worker which need to\n   * load the special resource, it will check whether this special protocol has a handler or not. If it does,\n   * it will let the handler to do the heavy lifting. \n   * \n   * In the WorkerCreator, it will create new  MessageChannel between new created worker and the main thread,\n   * it became the bridge to get the actual resource from the loader who registered the protocol\n   * \n   */\n  ViewingService.registerProtocolPort = function (protocol, port) {\n    if (/^(http(s)?|file):/gi.test(protocol)) {\n      // for peace of mind: security\n      console.warn("http(s) or file protocol were not allowed to be handled");\n      return;\n    }\n\n    if (!port) {\n      // means we need to remove if there is a port open\n      if (protocolPortMap[protocol] && protocolPortMap[protocol] instanceof MessagePort) {\n        protocolPortMap[protocol].onmessage = undefined;\n        protocolPortMap[protocol] = undefined;\n      }\n\n      return;\n    }\n\n    protocolPortMap[protocol] = port;\n\n    port.onmessage = function (message) {\n      var url = message.data.url;\n      if (pendingPortRequest[url]) {\n        var pendingHandler = pendingPortRequest[url];\n\n        if (message.data.error) {\n          pendingHandler.onFailureWrapped(_ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.BAD_DATA,\n          "Malformed data received when requesting file",\n          { "url": url, "exception": message.data.error.message, "stack": message.data.error.stack });\n        } else {\n          // In the worker whom is root when request the data\n          var rawbuf = message.data.buffer;\n          pendingPortRequest[url] = undefined;\n\n          if (rawbuf[0] === 31 && rawbuf[1] === 139 && url.match(/(.f2d|.gz)$/gi)) {\n            try {\n              rawbuf = (0,fflate__WEBPACK_IMPORTED_MODULE_86__.gunzipSync)(rawbuf);\n              if (pendingHandler.options && pendingHandler.options.ondata) {\n                pendingHandler.options.ondata(rawbuf);\n              }\n              pendingHandler.onSuccessWrapped(rawbuf);\n            } catch (err) {\n              pendingHandler.onFailureWrapped(_ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.BAD_DATA,\n              "Malformed data received when requesting file",\n              { "url": url, "exception": err.toString(), "stack": err.stack });\n            }\n          } else {\n            pendingHandler.onSuccessWrapped(rawbuf);\n          }\n        }\n      } else if (pendingRequestChannelMap[url]) {\n        // For the middle man\n        var transfer = [];\n        if (message.data && message.data.buffer && message.data.buffer.buffer instanceof ArrayBuffer) {\n          transfer.push(message.data.buffer.buffer);\n        }\n        pendingRequestChannelMap[url].postMessage(message.data, transfer);\n        pendingRequestChannelMap[url] = undefined;\n      }\n    };\n  };\n\n  ViewingService.handlerProtocol = function (protocol, url, onSuccessWrapped, onFailureWrapped, options) {\n    var port = protocolPortMap[protocol];\n    pendingPortRequest[url] = {\n      onSuccessWrapped,\n      onFailureWrapped,\n      options\n    };\n\n    port.postMessage({\n      operation: ViewingService.WORKER_READ_FILE,\n      url\n    });\n\n  };\n\n  ViewingService.forwardProtocolHandlerToWorker = function (worker) {\n    var map = {};\n\n    // create the middle man who connect between the worker who need to request the resource\n    // and the main thread\n    var channel = new MessageChannel();\n    channel.port1.onmessage = function (message) {\n      var url = new URL(message.data.url);\n      protocolPortMap[url.protocol].postMessage(message.data);\n      pendingRequestChannelMap[url] = channel.port1;\n    };\n\n    for (var key in protocolPortMap) {\n      if (protocolPortMap[key] instanceof MessagePort) {\n        map[key] = channel.port2;\n      }\n    }\n\n    worker.doOperation({\n      operation: ViewingService.WORKER_REGISTER_FILE_PORT,\n      protocolPortMap: map\n    }, [channel.port2]);\n  };\n\n  /**\n   * Performs a GET/HEAD request to the Viewing Service.\n   *\n   * @param {string} viewingServiceBaseUrl - The base url for the viewing service.\n   * @param {string} api - The api to call in the viewing service.\n   * @param {string} url - The url for the request.\n   * @param {function} onSuccess - A function that takes a single parameter that represents the response\n   *  returned if the request is successful.\n   * @param {function} onFailure - A function that takes an integer status code and a string status, which together\n   *  represent the response returned if the request is unsuccessful, and a third data argument, which has more\n   *  information about the failure. The data is a dictionary that minimally includes the url, and an exception if\n   *  one was raised.\n   * @param {Object} [options] - A dictionary of options that can include:\n   *  {String}  [method=\'get\'] - The request method to use. Confusingly, this accepts any method, not just \'get\' and\n   *                             \'head\'. It seems like at least \'post\' is officially supported.\n   *  {Object}  [postData] - The body data to send with the request. Use only in conjunction with method=\'post\'.\n   *  {boolean} [noBody=false] - When true, will perform a HEAD request.\n   *  {Object}  [headers] - A dictionary representing the additional headers to add. Will be ignored for signed urls.\n   *  {String}  [queryParams] - A string representing the query parameters. It will only be used if the url is not\n   *                            signed.\n   *  {Object}  [range] - An object that defines the specifies the ranged response through \'min\' and \'max\' offsets\n   *                      in bytes.\n   *  {String}  [responseType=\'text\'] - A string representing the response type for this request.\n   *  {boolean} [withCredentials=true] - Defines whether to send and store credentials. Will be ignored for signed\n   *                                     urls.\n   *  {boolean} [useFetch=false] - When true, the request will use fetch instead of XMLHttpRequest (experimental!).\n   *  {function}[onprogress] - If this is specified, the response will be received progressively. On each update,\n   *                           the callback function is invoked with the full response that has been received up to\n   *                           that point.\n   *  {function}[ondata] - If this is specified, the response will be received progressively. On each update,\n   *                       the callback function is invoked with only the new chunk of data.\n   */\n  ViewingService.rawGet = function (viewingServiceBaseUrl, api, url, onSuccess, onFailure, options) {\n    xhrThrottle.go((pendCB) => {\n      let onFailureWrapped = function () {\n        pendCB();for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}\n        onFailure && onFailure.apply(onFailure, args);\n      };\n\n      let onSuccessWrapped = function () {\n        pendCB();for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {args[_key2] = arguments[_key2];}\n        onSuccess && onSuccess.apply(onSuccess, args);\n      };\n\n      var protocolMatch = /^(\\w+:)\\/\\//gi.exec(url);\n      // if there is a special handler for this request, delegate this request to the handler\n      if (protocolMatch && protocolMatch.length == 2 && protocolPortMap[protocolMatch[1]]) {\n        ViewingService.handlerProtocol(protocolMatch[1], url, onSuccessWrapped, onFailureWrapped, options);\n      } else {\n        let getFunc = ViewingService._rawGet;\n        if (options !== null && options !== void 0 && options.useFetch) {\n          getFunc = ViewingService._rawGetFetch;\n        }\n        getFunc(viewingServiceBaseUrl, api, url, onSuccessWrapped, function () {\n          const errorCode = arguments.length <= 0 ? undefined : arguments[0];\n          const method = ((options === null || options === void 0 ? void 0 : options.method) || (options !== null && options !== void 0 && options.noBody ? \'HEAD\' : \'GET\')).toLowerCase();\n\n          let shouldRetry = method === \'get\' && (\n          // A status code of 0 indicates any sort of connection error (e.g. network issue, timeout or\n          // CORS problems) or overall exception in the request code. We would usually not want to retry\n          // requests that fail due to such errors. We still do it \'temporarily\', because DS has an issue\n          // that leads to temporary CORS errors, which can be resolved by a retry. This is a client-side\n          // work-around for a server-side issue, to unblock customers.\n          // See https://jira.autodesk.com/browse/LMV-6827 and the corresponding DS ticket:\n          // https://jira.autodesk.com/browse/DERI-8924\n          errorCode === 0 ||\n          errorCode === 429 ||\n          errorCode >= 500);\n\n          // Don\'t retry if the request was cancelled explicitly.\n          const data = arguments.length <= 2 ? undefined : arguments[2];\n          if (data.aborted) {\n            shouldRetry = false;\n          }\n\n          if (shouldRetry) {\n            const request = arguments.length <= 3 ? undefined : arguments[3];\n            let delayMs = 100;\n            let timeMultiple = 5;\n            // 429 - too many requests, 503 - Service Unavailable until\n            let retryAfter = false;\n            if ((errorCode === 429 || errorCode === 503) && request !== null && request !== void 0 && request.getResponseHeader(\'Retry-After\')) {\n              retryAfter = request.getResponseHeader(\'Retry-After\');\n            } else if (errorCode === 0) {\n              retryAfter = 3;\n              timeMultiple = 2;\n            }\n            if (retryAfter) {\n              // retryAfter could be either delay-seconds or http-date \n              const seconds = Number(retryAfter);\n              delayMs = !isNaN(seconds) && seconds * 1000 || Date.parse(retryAfter) - new Date().getTime();\n              delayMs = delayMs > 100 ? delayMs : 100;\n            }\n\n            ViewingService._retryRequest(viewingServiceBaseUrl, api, url, options, delayMs, timeMultiple).\n            then((args) => {_logger_Logger__WEBPACK_IMPORTED_MODULE_80__.logger.warn(`request ${url} successful after retries.`);onSuccessWrapped(...args);}).\n            catch((args) => {_logger_Logger__WEBPACK_IMPORTED_MODULE_80__.logger.warn(`request ${url} unsuccessful after retries.`);onFailureWrapped(...args);});\n          } else {\n            onFailureWrapped(...arguments);\n          }\n\n        }, options);\n      }\n    });\n  };\n\n\n  ViewingService._retryRequest = function (viewingServiceBaseUrl, api, url, options, delayMs, timeMultiple) {\n    const backOffOptions = {\n      delayFirstAttempt: true,\n      startingDelay: delayMs,\n      numOfAttempts: 4,\n      retry: (_ref, attemptNumber) => {let [errorCode, errorMsg, { url }] = _ref;\n        _logger_Logger__WEBPACK_IMPORTED_MODULE_80__.logger.warn(`request ${url} failed with status ${errorCode} ${errorMsg}. Attempt ${attemptNumber}`);\n        return true;\n      },\n      timeMultiple: timeMultiple\n    };\n\n    return (0,exponential_backoff__WEBPACK_IMPORTED_MODULE_85__.backOff)(() => new Promise((resolve, reject) => {\n      let getFunc = ViewingService._rawGet;\n      if (options !== null && options !== void 0 && options.useFetch) {\n        getFunc = ViewingService._rawGetFetch;\n      }\n      getFunc(viewingServiceBaseUrl, api, url, function () {for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {args[_key3] = arguments[_key3];}return resolve(args);}, function () {for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {args[_key4] = arguments[_key4];}return reject(args);}, options);\n    }), backOffOptions);\n  };\n\n  ViewingService.isOSSUrl = function (url) {\n    if (!url) {\n      return false;\n    }\n\n    return url.indexOf(\'/oss/v2/buckets\') !== -1;\n  };\n\n  /**\n   *  Given an OSS URL, returns a signed-url.\n   *\n   *  @param {string} url - The url for the request.\n   *\n   * @returns {Promise} that resolves with a simple success or fail of the request\n   */\n  ViewingService.getSignedS3DownloadUrl = function (url) {\n    return new Promise((resolve) => {\n      const acmsessionIndex = url.indexOf("?acmsession=");\n\n      // When using signedURL, no need to append acmsession.\n      if (acmsessionIndex !== -1) {\n        url = url.substring(0, acmsessionIndex);\n      }\n\n      // https://wiki.autodesk.com/display/FDPA/API+Endpoints#APIEndpoints-GetDownloadURL\n      url += "/signeds3download?useCdn=true";\n\n      const request = new XMLHttpRequest();\n\n      request.open(\'GET\', url);\n\n      // Bearer token is needed.\n      request.setRequestHeader("Authorization", _endpoints__WEBPACK_IMPORTED_MODULE_83__.endpoint.HTTP_REQUEST_HEADERS["Authorization"]);\n      request.responseType = \'json\';\n\n      request.send();\n\n      const success = (e) => {\n        const response = e.currentTarget.response;\n        resolve(response.url);\n      };\n\n      const fail = () => {\n        resolve(null);\n      };\n\n      request.onload = success;\n      request.onerror = fail;\n      request.ontimeout = fail;\n      request.onabort = fail;\n    });\n  };\n\n  /**\n   * A specific implementation of `rawGet` that uses XMLHttpRequest. See `rawGet` for most of the common parameters.\n   * We only document implementation-specific behavior here.\n   *\n   * @param {Object} [options] - In addition to the common options documented on `rawGet`:\n   *  {boolean} [asynchronous=true] - Whether the request is asynchronous or blocking.\n   *  Progressive loading (onprogress / ondata) requires `responseType=\'text\'`.\n   */\n  ViewingService._rawGet = async function (viewingServiceBaseUrl, api, url, onSuccess, onFailure, options) {\n\n    options = options || {};\n\n    url = ViewingService.generateUrl(viewingServiceBaseUrl, api, url, options.apiData, options.escapeOssObjects, options.guid);\n\n    let isSignedUrl = false;\n\n    if (ViewingService.isOSSUrl(url)) {\n      const signedUrl = await ViewingService.getSignedS3DownloadUrl(url);\n\n      if (signedUrl) {\n        url = signedUrl;\n        isSignedUrl = true;\n      } else {\n        // In case that we couldn\'t get the signed URL for some reason, try to use the original URL.\n        // If it\'s under 10MB it should work - so we got lucky.\n        console.warn(\'Failed getting signed URL - Fallback to direct OSS resource.\');\n      }\n\n    }\n\n    // If we are dealing with signed URL, adding additional query params will prevent it from working.\n    if (options.queryParams && !isSignedUrl) {\n      var concatSymbol = url.indexOf(\'?\') === -1 ? \'?\' : \'&\';\n      url = url + concatSymbol + options.queryParams;\n    }\n\n    var request = new XMLHttpRequest();\n\n    function onError(e) {\n      if (onFailure)\n      onFailure(request.status, request.statusText, { url: url }, request);\n    }\n\n    function onAbort(e) {\n      if (onFailure)\n      onFailure(request.status, \'request was aborted\', { url: url, aborted: true }, request);\n    }\n\n    function fixJsonResponse(response) {\n      if (options.responseType === "json") {\n        try {\n          if (response instanceof Uint8Array) {\n            //This should only happen in the node.js case so we can do toString\n            //instead of using the LMV utf8 converter.\n            return (0,_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_82__.blobToJson)(response);\n          } else if (typeof response === "string") {\n            return JSON.parse(response);\n          }\n        } catch (e) {}\n      }\n      return response;\n    }\n\n    function onLoad(e) {\n      if (request.status >= 200 && request.status < 400) {\n\n        if (request.response &&\n        request.response instanceof ArrayBuffer) {\n\n          var rawbuf;\n          if (request.status === 200 && options.range) {\n            //If we requested a range, but the entire content was returned,\n            //make sure to give back just the requested subset to the caller\n            rawbuf = new Uint8Array(request.response, options.range.min, options.range.max - options.range.min);\n          } else {\n            rawbuf = new Uint8Array(request.response);\n          }\n\n          // It\'s possible that if the Content-Encoding header is set,\n          // the browser unzips the file by itself, so let\'s check if it did.\n          if (rawbuf[0] === 31 && rawbuf[1] === 139) {\n            if (!warnedGzip) {\n              warnedGzip = true;\n              _logger_Logger__WEBPACK_IMPORTED_MODULE_80__.logger.warn("An LMV resource (" + url + ") was not uncompressed by the browser. This hurts performance. Check the Content-Encoding header returned by the server and check whether you\'re getting double-compressed streams. The warning prints only once but it\'s likely the problem affects multiple resources.");\n            }\n            try {\n              rawbuf = (0,fflate__WEBPACK_IMPORTED_MODULE_86__.gunzipSync)(rawbuf);\n            } catch (err) {\n              onFailure(_ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.BAD_DATA,\n              "Malformed data received when requesting file",\n              { "url": url, "exception": err.toString(), "stack": err.stack },\n              request);\n            }\n          }\n\n          onSuccess && onSuccess(fixJsonResponse(rawbuf));\n        } else\n        {\n          var res = request.response;\n          if (!res && (!options.responseType || options.responseType === "text"))\n          res = request.responseText;\n\n          onSuccess && onSuccess(fixJsonResponse(res));\n        }\n      } else\n      {\n        onError(e);\n      }\n    }\n\n    try {\n\n      var isAsync = options.hasOwnProperty(\'asynchronous\') ? options.asynchronous : true;\n      request.open(options.method || (options.noBody ? \'HEAD\' : \'GET\'), url, isAsync);\n\n      if (options.hasOwnProperty(\'responseType\')) {\n        request.responseType = options.responseType;\n      }\n\n      if (options.range) {\n        request.setRequestHeader("Range", "bytes=" + options.range.min + "-" + options.range.max);\n      }\n\n      // In case that URL already signed, no need to add credentials to it.\n      if (!isSignedUrl) {\n        request.withCredentials = true;\n\n        if (options.hasOwnProperty("withCredentials"))\n        request.withCredentials = options.withCredentials;\n\n        if (options.headers) {\n          for (var header in options.headers) {\n            request.setRequestHeader(header, options.headers[header]);\n\n            // Disable withCredentials if header is Authorization type\n            // NOTE: using withCredentials attaches cookie data to request\n            if (header.toLocaleLowerCase() === "authorization") {\n              request.withCredentials = false;\n            }\n          }\n        }\n      }\n\n      if (isAsync) {\n        request.onload = onLoad;\n        request.onerror = onError;\n        request.ontimeout = onError;\n        request.onabort = onAbort;\n\n        if (options.ondata || options.onprogress) {\n\n          //Set up incremental progress notification\n          //if needed. We have to do some magic in order\n          //to get the received data progressively.\n          //https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\n          request.overrideMimeType(\'text/plain; charset=x-user-defined\');\n          options._dlProgress = {\n            streamOffset: 0\n          };\n\n          request.onreadystatechange = function () {\n\n            if (request.readyState > 2 && request.status === 200) {\n\n              if (options.ondata) {\n\n                var textBuffer = request.responseText;\n\n                // No new data coming in.\n                if (options._dlProgress.streamOffset >= textBuffer.length)\n                return;\n\n                var arrayBuffer = textToArrayBuffer(textBuffer, options._dlProgress.streamOffset);\n\n                options._dlProgress.streamOffset = textBuffer.length;\n\n                options.ondata(arrayBuffer);\n\n              } else if (options.onprogress) {\n\n                let abort = options.onprogress(request.responseText);\n                if (abort)\n                request.abort();\n              }\n            }\n          };\n        }\n      }\n\n      request.send(options.postData);\n\n      if (!isAsync) {\n        onLoad();\n      }\n    }\n    catch (e) {\n      onFailure(request.status, request.statusText, { url: url, exception: e }, request);\n    }\n  };\n\n  // TODO: This method is not fully implemented yet, though (see todos in the code). At the moment, it\'s only fully\n  // tested for the progressive loading of binary data, i.e. the case where options.onprogress is defined. All other\n  // cases and response types are not supported yet.\n  /**\n   * A specific implementation of `rawGet` that uses fetch. See `rawGet` for most of the common parameters.\n   * We only document implementation-specific behavior here.\n   *\n   * @param {Object} [options] - Details on the common options documented on `rawGet`:\n   *  Progressive loading (onprogress / ondata) will always return binary data (array buffers), regardless of\n   *  `responseType`.\n   */\n  ViewingService._rawGetFetch = async function (viewingServiceBaseUrl, api, url, onSuccess, onFailure, options) {\n\n    options = options || {};\n\n    url = ViewingService.generateUrl(viewingServiceBaseUrl, api, url, options.apiData, options.escapeOssObjects, options.guid);\n\n    let isSignedUrl = false;\n\n    if (ViewingService.isOSSUrl(url)) {\n      const signedUrl = await ViewingService.getSignedS3DownloadUrl(url);\n\n      if (signedUrl) {\n        url = signedUrl;\n        isSignedUrl = true;\n      } else {\n        // In case that we couldn\'t get the signed URL for some reason, try to use the original URL.\n        // If it\'s under 10MB it should work - so we got lucky.\n        console.warn(\'Failed getting signed URL - Fallback to direct OSS resource.\');\n      }\n    }\n\n    // If we are dealing with signed URL, adding additional query params will prevent it from working.\n    if (options.queryParams && !isSignedUrl) {\n      var concatSymbol = url.indexOf(\'?\') === -1 ? \'?\' : \'&\';\n      url = url + concatSymbol + options.queryParams;\n    }\n\n    var request = new Request(url);\n    var response;\n    var abortController = new AbortController();\n\n    /**\n     * The fetch API is not fully compatible with the XMLHttpRequest API.\n     * For _rawGet, the `onFailure` callback can receive the XMLHttpRequest\'s `request` object as the 4th parameter.\n     * There is no corresponding object for fetch that would provide a compatible API. A thorough search through the\n     * code base suggests that this parameter is only used in the `rawGet` error handler to read the `retryAfter`\n     * header, so we provide a proxy object that mimics this single API.\n     * @param {Response} response The response of the fetch request.\n     * @returns {Object} A proxy object that mimics the API of an XMLHttpRequest\'s \'request\' instance, to the extent\n     *  that we found to be used in the code.\n     */\n    function wrapResponse(response) {\n      return {\n        getResponseHeader: (header) => {var _response$headers;return response === null || response === void 0 || (_response$headers = response.headers) === null || _response$headers === void 0 ? void 0 : _response$headers.get(header);}\n      };\n    }\n\n    /**\n     * This is called when the request failed with an HTTP error code (not for actual exceptions, e.g. network errors)\n     * @param {Number} status The status code of the response.\n     * @param {String} statusText The status text of the response.\n     * @param {Response} response The response object of the fetch request.\n     */\n    function onError(status, statusText, response) {\n      if (onFailure)\n      onFailure(status, statusText, { url: url }, wrapResponse(response));\n    }\n\n    /**\n     * This is called when the request is aborted by the code that initiated the request.\n     * @param {Response} [response=undefined] The response of the fetch request. Can be undefined if the request is\n     *  aborted before any response is received.\n     */\n    function onAbort() {let response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      if (onFailure)\n      onFailure(0, \'request was aborted\', { url: url, aborted: true }, wrapResponse(response));\n    }\n\n    // TODO: This might be obsolete once we handle JSON responses properly in onLoad.\n    // Or maybe we still need it to generate JSON results if the user requested that, while the actual response type\n    // was binary or string?\n    function fixJsonResponse(response) {\n      if (options.responseType === "json") {\n        try {\n          if (response instanceof Uint8Array) {\n            //This should only happen in the node.js case so we can do toString\n            //instead of using the LMV utf8 converter.\n            return (0,_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_82__.blobToJson)(response);\n          } else if (typeof response === "string") {\n            return JSON.parse(response);\n          }\n        } catch (e) {}\n      }\n      return response;\n    }\n\n    /**\n     * This is called when the request completed successfully.\n     * @param {Response} response The response object of the fetch request.\n     * @param {ArrayBuffer|undefined} data The response data. This will only be set if the response has already been\n     *  processed progressively (as we cannot access the data via the response anymore in that case). Otherwise, the\n     *  data needs to be accessed through the response.\n     */\n    async function onLoad(response) {let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      if (response.status >= 200 && response.status < 400) {\n\n        if (false) { var rawbuf; } else\n        {\n          var res;\n          if (response.bodyUsed) {// the data has already been read progressively\n            res = data;\n          } else if (!options.responseType || options.responseType === "text") {\n            res = await response.text();\n          } else {\n            res = await response.arrayBuffer();\n          }\n          // TODO: Handle other types, i.e. json (might make fixJsonResponse obsolete), blob or document.\n          // options.responseType can only provide a hint to what the user expects. We also need to look at\n          // response headers (content-type) to determine the actual response format (we should still try to\n          // provide the type that was requested by the user, if possible).\n\n          onSuccess && onSuccess(fixJsonResponse(res));\n        }\n      } else\n      {\n        onError(response.status, response.responseText, response);\n      }\n    }\n\n    try {\n\n      const requestOptions = {\n        method: options.method || (options.noBody ? \'HEAD\' : \'GET\'),\n        body: options.postData,\n        headers: options.headers || {},\n        signal: abortController.signal\n      };\n\n      if (options.range) {\n        requestOptions.headers.Range = "bytes=" + options.range.min + "-" + options.range.max;\n      }\n\n      // In case that URL already signed, no need to add credentials to it.\n      if (!isSignedUrl) {\n        requestOptions.credentials = \'include\';\n\n        if (options.hasOwnProperty("withCredentials") && options.withCredentials === false)\n        requestOptions.credentials = \'omit\';\n\n        if (options.headers) {\n          for (var header in options.headers) {\n            // Disable withCredentials if header is Authorization type\n            // NOTE: using withCredentials attaches cookie data to request\n            if (header.toLocaleLowerCase() === "authorization") {\n              requestOptions.credentials = \'omit\';\n            }\n          }\n        }\n      }\n\n      response = await fetch(request, requestOptions);\n\n      if (response.ok) {\n\n        if (options.ondata || options.onprogress) {// requester expects progressive updates\n\n          const reader = response.body.getReader();\n\n          let aggregateBuffer;\n          let currentView;\n          if (options.onprogress) {\n            const contentLength = response.headers.get(\'content-length\');\n            // Note that content-length will usually refer to the gzipped size, while this array is supposed\n            // to store the uncompressed data. So we will have to resize it during the download.\n            if (contentLength) {\n              aggregateBuffer = new Uint8Array(contentLength);\n            } else {\n              aggregateBuffer = new Uint8Array(5 << 11); // start with 10 kb; this is arbitrary\n            }\n          }\n\n          let receivedLength = 0;\n\n          const progressCallback = (_ref2) => {let { done, value } = _ref2;\n            if (done) {\n              if (options.onprogress && receivedLength < aggregateBuffer.length) {\n                // TODO: Is it better to copy instead of just creating a view, so that unused memory can be freed?\n                aggregateBuffer = new Uint8Array(aggregateBuffer.buffer, 0, receivedLength);\n              }\n\n              onLoad(response, aggregateBuffer);\n              return;\n            }\n\n            if (options.ondata) {\n              options.ondata(value); // only send the incremental update\n            } else {// onprogress\n              // We need to keep track of the entire response.\n              if (aggregateBuffer.length < value.length + receivedLength) {\n                const newlen = Math.max(aggregateBuffer.length * 2, value.length + receivedLength);\n                var newBuffer = new Uint8Array(newlen);\n                newBuffer.set(aggregateBuffer);\n                aggregateBuffer = newBuffer;\n              }\n              aggregateBuffer.set(value, receivedLength);\n              receivedLength += value.length;\n\n              currentView = new Uint8Array(aggregateBuffer.buffer, 0, receivedLength);\n\n              const abort = options.onprogress(currentView); // send everything that has been received so far\n\n              if (abort) {\n                reader.cancel();\n                abortController.abort();\n                onAbort(response);\n                return;\n              }\n            }\n\n            reader.read().then(progressCallback);\n          };\n\n          // TODO: This (and the instance above) might need error handling (catch), unless this is handled by\n          // the try ... catch already.\n          reader.read().then(progressCallback);\n        } else {// requester expects one-time full response\n          onLoad(response);\n        }\n      } else {// We got a status code that indicates an error (400+)\n        onError(response.status, response.statusText, response);\n      }\n    }\n    catch (e) {\n      // We might not have a valid response object in this case.\n      if (response) {\n        onFailure(response.status, response.statusText, { url: url, exception: e }, wrapResponse(response));\n      } else {\n        onFailure(0, "network error", { url: url, exception: e });\n      }\n    }\n  };\n\n} // browser get implementation\n\n// Create the default failure callback.\n//\nViewingService.defaultFailureCallback = function (httpStatus, httpStatusText, data) {\n  if (httpStatus == 403) {\n    this.raiseError(\n      _ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.NETWORK_ACCESS_DENIED,\n      "Access denied to remote resource",\n      { "url": data.url, "httpStatus": httpStatus, "httpStatusText": httpStatusText });\n  } else\n  if (httpStatus == 404) {\n    this.raiseError(\n      _ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.NETWORK_FILE_NOT_FOUND,\n      "Remote resource not found",\n      { "url": data.url, "httpStatus": httpStatus, "httpStatusText": httpStatusText });\n  } else\n  if (httpStatus === 0 && data.aborted) {\n    this.raiseError(\n      _ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.LOAD_CANCELED,\n      "Request aborted",\n      { "url": data.url, "httpStatus": httpStatus, "httpStatusText": httpStatusText });\n  } else\n  if (httpStatus >= 500 && httpStatus < 600) {\n    this.raiseError(\n      _ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.NETWORK_SERVER_ERROR,\n      "Server error when accessing resource",\n      { "url": data.url, "httpStatus": httpStatus, "httpStatusText": httpStatusText });\n  } else\n  if (data.exception) {\n    this.raiseError(\n      _ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.NETWORK_FAILURE,\n      "Network failure",\n      { "url": data.url, "exception": data.exception.toString(), "stack": data.exception.stack });\n  } else\n  {\n    this.raiseError(\n      _ErrorCodes__WEBPACK_IMPORTED_MODULE_81__.ErrorCodes.NETWORK_UNHANDLED_RESPONSE_CODE,\n      "Unhandled response code from server",\n      { "url": data.url, "httpStatus": httpStatus, "httpStatusText": httpStatusText, data: data });\n  }\n};\n\n\n\nfunction copyOptions(loadContext, options) {\n\n  //Those are the usual defaults when called from the LMV worker\n\n  if (!options.hasOwnProperty("responseType"))\n  options.responseType = "arraybuffer";\n\n  //Add options junk we got from the main thread context\n\n  if (!options.hasOwnProperty("withCredentials"))\n  options.withCredentials = !!loadContext.auth;\n\n  options.headers = loadContext.headers;\n  options.queryParams = loadContext.queryParams;\n  options.endpoint = loadContext.endpoint;\n  options.escapeOssObjects = loadContext.escapeOssObjects;\n}\n\n//Utility function called from the web worker to set up the options for a get request,\n//then calling ViewingService.get internally\nViewingService.getItem = function (loadContext, url, onSuccess, onFailure, options) {\n\n  options = options || {};\n\n  copyOptions(loadContext, options);\n\n  //If the endpoint does not support range requests (Apigee), then convert\n  //the range to start/end URL parameters.\n  if (options.range && !loadContext.supportsRangeRequests) {\n\n    let rangeParam = "start=" + options.range.min + "&end=" + options.range.max;\n    if (options.queryParams) {\n      options.queryParams += "&" + rangeParam;\n    } else {\n      options.queryParams = rangeParam;\n    }\n\n    options.range = undefined;\n  }\n\n  ViewingService.rawGet(loadContext.endpoint, \'items\', url, onSuccess, onFailure, options);\n\n};\n\n//Utility function called from the web worker to set up the options for a get request,\n//then calling ViewingService.get internally\nViewingService.getManifest = function (loadContext, url, onSuccess, onFailure, options) {\n\n  options = options || {};\n\n  if (!options.hasOwnProperty("responseType"))\n  options.responseType = "json";\n\n  copyOptions(loadContext, options);\n\n  ViewingService.rawGet(loadContext.endpoint, \'bubbles\', url, onSuccess, onFailure, options);\n\n};\n\nViewingService.getProperties = function (loadContext, url, guid, query, onSuccess, onFailure) {\n  const options = {};\n  copyOptions(loadContext, options);\n  options.responseType = \'json\';\n  options.guid = guid;\n  options.method = \'POST\';\n  options.postData = JSON.stringify(query);\n  options.headers[\'Content-Type\'] = \'application/json\';\n  options.headers[\'accept\'] = \'application/json\';\n  options.headers[\'Access-Control-Allow-Origin\'] = \'*\';\n  ViewingService.rawGet(loadContext.endpoint, \'properties\', url, onSuccess, onFailure, options);\n};\n\n//Utility function called from the web worker to set up the options for a get request,\n//then calling ViewingService.get internally\nViewingService.getThumbnail = function (loadContext, url, onSuccess, onFailure, options) {\n\n  options = options || {};\n\n  copyOptions(loadContext, options);\n\n  var queryParams = options.queryParams || \'\';\n  var missingElements = [];\n  if (queryParams.indexOf(\'guid=\') === -1 && options.guid) {\n    missingElements.push("guid=" + encodeURIComponent(options.guid));\n  }\n  if (queryParams.indexOf(\'role=\') === -1) {\n    var role = options.role || "rendered";\n    missingElements.push("role=" + role);\n  }\n  if (queryParams.indexOf(\'width=\') === -1) {\n    var sz = options.size || 400;\n    missingElements.push("width=" + sz);\n  }\n  if (queryParams.indexOf(\'height=\') === -1) {\n    var sz = options.size || 400;\n    missingElements.push("height=" + sz);\n  }\n  if (queryParams.indexOf(\'acmsession=\') === -1 && options.acmsession) {\n    missingElements.push("acmsession=" + options.acmsession);\n  }\n  var thumbQueryParams = missingElements.join(\'&\');\n\n  if (options.queryParams) {\n    options.queryParams = options.queryParams + \'&\' + thumbQueryParams;\n  } else {\n    options.queryParams = thumbQueryParams;\n  }\n\n  ViewingService.rawGet(loadContext.endpoint, \'thumbnails\', url, onSuccess, onFailure, options);\n};\n\n\nViewingService.getACMSession = function (endpoint, acmProperties, onSuccess, onFailure) {\n  const backOffOptions = {\n    numOfAttempts: 4,\n    timeMultiple: 5,\n    retry: (_, attemptNumber) => {\n      _logger_Logger__WEBPACK_IMPORTED_MODULE_80__.logger.warn(`acmsession request failed. Attempt #${attemptNumber}`);\n      return true;\n    }\n  };\n\n  (0,exponential_backoff__WEBPACK_IMPORTED_MODULE_85__.backOff)(() => new Promise((resolve, reject) => {\n    ViewingService._getACMSession(endpoint, acmProperties, resolve, reject);\n  }), backOffOptions).\n  then(function () {return onSuccess(...arguments);}).\n  catch(function () {return onFailure(...arguments);});\n};\n\n\nViewingService._getACMSession = function (endpoint, acmProperties, onSuccess, onFailure) {\n\n  var acmHeaders = {};\n  var token;\n\n  for (var key in acmProperties) {\n\n    if (key === "oauth2AccessToken")\n    token = acmProperties[key];else\n\n    if (key.indexOf("x-ads-acm") !== -1)\n    acmHeaders[key] = acmProperties[key];\n  }\n\n  // The value of this can be anything. Required for some arcane reasons.\n  acmHeaders.application = "autodesk";\n\n  var xhr = new XMLHttpRequest();\n  xhr.open("POST", endpoint + \'/oss-ext/v2/acmsessions\', true);\n  xhr.setRequestHeader("Content-Type", "application/json");\n  xhr.setRequestHeader("Authorization", "Bearer " + token);\n  xhr.responseType = "json";\n\n  xhr.onload = function () {\n    if (xhr.status === 200 && xhr.response) {\n      // If the response is a string (e.g. from IE), need to parse it to an object first\n      var response = typeof xhr.response === \'string\' ? JSON.parse(xhr.response) : xhr.response;\n\n      if (response && response.acmsession) {\n        onSuccess(response.acmsession);\n      } else\n      {\n        onFailure(xhr.status, "Can\'t get acm session from response.");\n      }\n\n    } else {\n      onFailure(xhr.status);\n    }\n  };\n\n  xhr.onerror = onFailure;\n  xhr.ontimeout = onFailure;\n  xhr.send(JSON.stringify(acmHeaders));\n\n  // "application" header is only required for OSS end point, and should not be passed\n  // with normal requests because this header is not in allowed header sets of APIGEE.\n  delete acmHeaders.application;\n\n};\n\n/***/ }),\n\n/***/ "./src/file-loaders/net/endpoints.js":\n/*!*******************************************!*\\\n  !*** ./src/file-loaders/net/endpoints.js ***!\n  \\*******************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   endpoint: () => (/* binding */ endpoint),\n/* harmony export */   getEnv: () => (/* binding */ getEnv),\n/* harmony export */   getOfflineResourcePrefix: () => (/* binding */ getOfflineResourcePrefix),\n/* harmony export */   initLoadContext: () => (/* binding */ initLoadContext),\n/* harmony export */   isOffline: () => (/* binding */ isOffline),\n/* harmony export */   setEnv: () => (/* binding */ setEnv),\n/* harmony export */   setOffline: () => (/* binding */ setOffline),\n/* harmony export */   setOfflineResourcePrefix: () => (/* binding */ setOfflineResourcePrefix)\n/* harmony export */ });\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../compat */ "./src/compat.js");\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../globals */ "./src/globals.js");\n\n\n\n\nconst _window = (0,_compat__WEBPACK_IMPORTED_MODULE_0__.getGlobal)();\n\nvar endp = {};\n\nvar CDN_ROOT = null;\nendp.ENDPOINT_API_DERIVATIVE_SERVICE_V2 = \'derivativeV2\';\nendp.ENDPOINT_API_MODEL_DERIVATIVE_V2 = \'modelDerivativeV2\'; // Forge\nendp.ENDPOINT_API_FLUENT = \'fluent\';\nendp.ENDPOINT_API_D3S = \'D3S\';\nendp.ENDPOINT_API_DERIVATIVE_STREAMING = \'streamingV2\'; // SVF2\n\nvar _apis_data = {\n  derivativeV2: {\n    baseURL: \'/derivativeservice/v2\',\n    itemURL: \'/derivativeservice/v2/derivatives/:derivativeurn\',\n    manifestURL: \'/derivativeservice/v2/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/thumbnails/:urn\',\n    propertyQueryURL: \'/modelderivative/v2/designdata/:urn/metadata/:guid/properties:query\'\n  },\n  derivativeV2_EU: {\n    baseURL: \'/derivativeservice/v2/regions/eu\',\n    itemURL: \'/derivativeservice/v2/regions/eu/derivatives/:derivativeurn\',\n    manifestURL: \'/derivativeservice/v2/regions/eu/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/regions/eu/thumbnails/:urn\'\n  },\n  derivativeV2_Fedramp: {\n    baseURL: \'/derivativeservice/v2\',\n    itemURL: \'/derivativeservice/v2/derivatives/:derivativeurn\',\n    manifestURL: \'/derivativeservice/v2/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/thumbnails/:urn\'\n  },\n  modelDerivativeV2: {\n    baseURL: \'/modelderivative/v2/\',\n    itemURL: \'/modelderivative/v2/designdata/:urn/manifest/:derivativeurn\',\n    manifestURL: \'/modelderivative/v2/designdata/:urn/manifest\',\n    thumbnailsURL: \'/modelderivative/v2/designdata/:urn/thumbnail\',\n    propertyQueryURL: \'/modelderivative/v2/designdata/:urn/metadata/:guid/properties:query\'\n  },\n  fluent: {\n    baseURL: \'/modeldata\',\n    itemURL: \'/modeldata/file/:derivativeurn\',\n    manifestURL: \'/modeldata/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/thumbnails/:urn\',\n    cdnURL: \'/cdn\',\n    cdnWS: \'/cdnws\'\n    //cdnRedirectURL: \'/cdnurl\', //There is no separate CDN endpoint currently\n  },\n  D3S: {\n    baseURL: \'/modeldata\',\n    itemURL: \'/modeldata/file/:derivativeurn\',\n    manifestURL: \'/modeldata/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/thumbnails/:urn\',\n    cdnURL: \'/cdn\',\n    cdnWS: \'/cdnws\'\n  },\n  D3S_EU: {\n    baseURL: \'/modeldata\',\n    itemURL: \'/modeldata/file/:derivativeurn\',\n    manifestURL: \'/modeldata/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/regions/eu/thumbnails/:urn\',\n    cdnURL: \'/cdn\',\n    cdnWS: \'/cdnws\'\n  },\n  streamingV2: {\n    /** SVF2 */\n    baseURL: \'/modeldata\',\n    itemURL: \'/modeldata/file/:derivativeurn\',\n    manifestURL: \'/modeldata/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/thumbnails/:urn\',\n    cdnURL: \'/cdn\',\n    cdnWS: \'/cdnws\'\n  },\n  streamingV2_EU: {\n    /** SVF2 */\n    baseURL: \'/regions/eu/modeldata\',\n    itemURL: \'/regions/eu/modeldata/file/:derivativeurn\',\n    manifestURL: \'/regions/eu/modeldata/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/regions/eu/thumbnails/:urn\',\n    cdnURL: \'/regions/eu/cdn\',\n    cdnWS: \'/regions/eu/cdnws\'\n  },\n  streamingV2_Fedramp: {\n    /** SVF2 */\n    baseURL: \'/modeldata\',\n    itemURL: \'/modeldata/file/:derivativeurn\',\n    manifestURL: \'/modeldata/manifest/:urn\',\n    thumbnailsURL: \'/derivativeservice/v2/thumbnails/:urn\',\n    cdnURL: \'/cdn\',\n    cdnWS: \'/cdnws\'\n  }\n};\n\nvar _endpoint = \'\';\nvar _api = endp.ENDPOINT_API_DERIVATIVE_SERVICE_V2;\nvar _useCredentials = false;\nvar _useCookie = false;\nvar _acmSession = \'\';\nvar _escapeOssObjects = false;\n\nendp.HTTP_REQUEST_HEADERS = {};\nendp.queryParams = {};\n\n/**\r\n * Sets the endpoint and api to be used to create REST API request strings.\r\n * @param {string} endpoint\r\n * @param {string} [api] - Possible values are derivativeV2, modelDerivativeV2\r\n */\nendp.setEndpointAndApi = function (endpoint, api) {\n  if (endpoint) {\n    _endpoint = endpoint;\n  }\n  if (api) {\n    _api = api;\n    if (api.startsWith(\'D3S\')) {\n      console.warn(`api=${api} is deprecated and will be removed in a future release. Use streamingV2 or streamingV2_EU (europe region) instead`);\n    }\n  }\n};\n\n/**\r\n * Returns the endpoint plus the api used to create REST API request strings.\r\n * Example: "developer.api.autodesk.com/modelderivative/v2"\r\n * @returns {string}\r\n */\nendp.getEndpointAndApi = function () {\n  return _endpoint + _apis_data[_api].baseURL;\n};\n\n/**\r\n * Returns the endpoint used to create REST API request strings.\r\n * Examples: "developer.api.autodesk.com"\r\n * @returns {string}\r\n */\nendp.getApiEndpoint = function () {\n  return _endpoint;\n};\n\n/**\r\n * @private\r\n * @returns {string}\r\n */\nendp.getApiFlavor = function () {\n  return _api;\n};\n\n/**\r\n * Returns the default shared resource CDN location.\r\n * For best performance (and to not overload our servers), this should\r\n * be replaced by a direct CloudFront url during initialization, by\r\n * calling the cdnRedirectUrl and looking at the result.\r\n */\nendp.getCdnUrl = function () {\n  return CDN_ROOT || (_endpoint ? _endpoint + _apis_data[_api].cdnURL : undefined);\n};\n\nendp.getCdnWebSocketEndpoint = function () {\n  return _endpoint + (_apis_data[_api].cdnWS || \'\');\n};\n\nendp.setCdnUrl = function (url) {\n  CDN_ROOT = url;\n};\n\nendp.getCdnRedirectUrl = function () {\n  var redirect = _apis_data[_api].cdnRedirectURL;\n  if (!redirect)\n  return null;\n  return _endpoint + redirect;\n};\n\nendp.setAcmSession = function (value) {\n  _acmSession = value;\n};\n\nendp.getAcmSession = function () {\n  return _acmSession;\n};\n\n/**\r\n * Returns a REST API request strings to be used to get the manifest of the provided urn.\r\n * Example: "developer.api.autodesk.com/modelderivative/v2/designdata/:urn/manifest"\r\n * @param {string | null} endpoint - When provided is used instead of the globally set endpoint.\r\n * @param {string} urn\r\n * @param {string} api - When provided is used instead of the globally set API flavor\r\n * @returns {string}\r\n */\nendp.getManifestApi = function (endpoint, urn, api) {\n  var url = endpoint || _endpoint;\n  api = api || _api;\n  url += _apis_data[api].manifestURL;\n  // If urn is not provided we return same string that before for backward compatibility.\n  urn = urn || \'\';\n  url = url.replace(\':urn\', urn);\n  return url;\n};\n\n/**\r\n * Returns a REST API request strings to be used to get a derivative urn.\r\n * Example: "developer.api.autodesk.com/modelderivative/v2/designdata/:urn/manifest/:derivativeUrn"\r\n * @param {string | null} endpoint - When provided is used instead of the globally set API endpoint.\r\n * @param {string} derivativeUrn\r\n * @param {string} api - When provided is used instead of the globally set API flavor\r\n * @returns {string}\r\n */\nendp.getItemApi = function (endpoint, derivativeUrn, api) {\n  var theApi = api || _api;\n  var itemApi = (endpoint || _endpoint) + _apis_data[theApi].itemURL;\n  // If urn is not provided we return same string that before for backward compatibility.\n  derivativeUrn = derivativeUrn || \'\';\n  var decodedUrn = decodeURIComponent(derivativeUrn);\n\n  // Extract svf urn from item urn, needed when using model derivative.\n  if (itemApi.indexOf(\':urn\') !== -1) {\n    var parts = decodedUrn.split(\'/\');\n    var urn = parts[0] || \'\';\n    urn = urn.split(\':\');\n    urn = urn[urn.length - 1] || \'\';\n\n    itemApi = itemApi.replace(\':urn\', urn);\n  }\n\n  if (theApi === endp.ENDPOINT_API_MODEL_DERIVATIVE_V2) {\n    derivativeUrn = encodeURIComponent(decodedUrn);\n  }\n\n  itemApi = itemApi.replace(\':derivativeurn\', derivativeUrn);\n\n  return itemApi;\n};\n\n/**\r\n * Returns a REST API request strings to be used to get the thumbnail for a specific urn.\r\n * Example: "developer.api.autodesk.com/modelderivative/v2/designdata/:urn/thumbnail"\r\n * @param {string | null} endpoint - When provided is used instead of the globally set endpoint.\r\n * @param {string} urn\r\n * @param {string} api - When provided is used instead of the globally set API flavor\r\n * @returns {string}\r\n */\nendp.getThumbnailApi = function (endpoint, urn, api) {\n  var thumbnailApi = (endpoint || _endpoint) + _apis_data[api || _api].thumbnailsURL;\n  return thumbnailApi.replace(\':urn\', urn || \'\');\n};\n\nendp.getPropertyQueryApi = function (endpoint, urn, api, guid) {\n  let propertyQueryApi = (endpoint || _endpoint) + _apis_data[api || _api].propertyQueryURL;\n  propertyQueryApi = propertyQueryApi.replace(\':urn\', urn || \'\');\n  return propertyQueryApi.replace(\':guid\', guid || \'\');\n};\n\nendp.getUseCredentials = function () {\n  return _useCredentials;\n};\n\nendp.getDomainParam = function () {\n  console.warn("getDomainParam is deprecated, switch to getQueryParams instead.");\n  return this.getUseCredentials() && !(0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)() ? "domain=" + encodeURIComponent(_window.location.origin) : "";\n};\n\n/**\r\n * Adds a URL parameter that will be used in all data load requests.\r\n * @param {string} param - The name of the parameter\r\n * @param {string} value - The value of the parameter. It will be URI encoded when constructing the final URL.\r\n */\nendp.addQueryParam = function (param, value) {\n  this.queryParams[param] = value;\n};\n\n/**\r\n * Deletes a previously specified URL parameter.\r\n * @param {string} param - The name of the parameter to delete\r\n */\nendp.deleteQueryParam = function (param) {\n  delete this.queryParams[param];\n};\n\nendp.getQueryParams = function (inputObj) {\n\n  let qParam = this.getUseCredentials() && !(0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)() ? "domain=" + encodeURIComponent(_window.location.origin) : "";\n\n  let bypassDs = (0,_globals__WEBPACK_IMPORTED_MODULE_1__.getParameterByName)("bypassds");\n  if (bypassDs) {\n    qParam = qParam ? qParam + "&bypassds=1" : "bypassds=1";\n  }\n\n  let addedParams = [];\n  for (let p in this.queryParams) {\n    addedParams.push(encodeURIComponent(p) + "=" + encodeURIComponent(this.queryParams[p]));\n  }\n\n  if (addedParams.length) {\n    if (qParam)\n    qParam += "&" + addedParams.join("&");else\n\n    qParam = addedParams.join("&");\n  }\n\n  if (qParam && inputObj) {\n    if (inputObj.queryParams) {\n      inputObj.queryParams += "&" + qParam;\n    } else {\n      inputObj.queryParams = qParam;\n    }\n  }\n\n  return qParam;\n};\n\nendp.setUseCredentials = function (useCredentials) {\n  _useCredentials = useCredentials;\n};\n\nendp.setUseCookie = function (useCookie) {\n  _useCookie = useCookie;\n};\n\nendp.getUseCookie = function () {\n  return _useCookie;\n};\n\nendp.isOtgBackend = function () {\n  return this.getApiFlavor() === this.ENDPOINT_API_FLUENT;\n};\n\nendp.isSVF2Backend = function () {\n  let api = this.getApiFlavor();\n  return api.startsWith(this.ENDPOINT_API_D3S) || api.startsWith(this.ENDPOINT_API_DERIVATIVE_STREAMING);\n};\n\nendp.setEscapeOssObjects = function (escapeOssObjects) {\n  _escapeOssObjects = escapeOssObjects;\n};\n\nendp.getEscapeOssObjects = function () {\n  return _escapeOssObjects;\n};\n\nendp.initLoadContext = function (inputObj) {\n\n  inputObj = inputObj || {};\n\n  inputObj.auth = this.getUseCredentials();\n\n  if (!inputObj.endpoint)\n  inputObj.endpoint = this.getApiEndpoint();\n\n  if (!inputObj.api)\n  inputObj.api = this.getApiFlavor();\n\n  if (!inputObj.headers)\n  inputObj.headers = {};\n\n  for (var p in this.HTTP_REQUEST_HEADERS) {\n    inputObj.headers[p] = this.HTTP_REQUEST_HEADERS[p];\n  }\n\n  if (inputObj.api === this.ENDPOINT_API_FLUENT) {\n\n\n\n    //Turned off because Nginx on fluent server is refusing to\n    //return ranges from the proxy cache -- and it\'s not clear why.\n    //inputObj.supportsRangeRequests = true;\n  } //This is done to avoid CORS errors on content served from proxy or browser cache\n  //The cache will respond with a previously received response, but the Access-Control-Allow-Origin\n  //response header might not match the current Origin header (e.g. localhost vs. developer.api.autodesk.com)\n  //which will cause a CORS error on the second request for the same resource.\n  this.getQueryParams(inputObj);\n  //shared geometry/material storage\n  inputObj.otg_cdn = CDN_ROOT || this.getCdnUrl();\n  inputObj.otg_ws = this.getCdnWebSocketEndpoint();\n\n  inputObj.escapeOssObjects = this.getEscapeOssObjects();\n\n  return inputObj;\n};\n\n//TODO: Globals that need a better place\nvar _env; //formerly avp.env\nfunction getEnv() {\n  return _env;\n}\nfunction setEnv(env) {\n  _env = env;\n  if (env.startsWith(\'MD20\')) {\n    console.warn(`env=${env} is deprecated and will be removed in a future release. Use Autodesk{env}2 instead, where env=Development, Staging, or Production`);\n  }\n}\n\n// Set viewer in offline mode if set to true. In offline mode, viewer would ignore all URNs in bubble JSON\n// and assume the viewables are laid out in local file system path relative to the bubble.json.\nvar _offline = false;\nfunction isOffline() {\n  return _offline;\n}\nfunction setOffline(offline) {\n  _offline = offline;\n}\n\n// Offline resource prefix specified by viewer consumer (e.g. IOS web view). Used as prefix to concatenate with\n// each resource relative path to form the absolute path of each resource.\nvar _offlineResourcePrefix = "";\nfunction setOfflineResourcePrefix(prefix) {\n  _offlineResourcePrefix = prefix;\n}\nfunction getOfflineResourcePrefix() {\n  return _offlineResourcePrefix;\n}\n\nlet endpoint = endp;\n\n//For backwards compatibility until all code is converted to use\n//the function from the endpoint instance.\nlet initLoadContext = endp.initLoadContext.bind(endp);\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/BvhWorker.js":\n/*!***********************************************!*\\\n  !*** ./src/file-loaders/workers/BvhWorker.js ***!\n  \\***********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _wgs_scene_BVHBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../wgs/scene/BVHBuilder */ "./src/wgs/scene/BVHBuilder.js");\n\n\nfunction doComputeBvh(loadContext) {\n\n  var tmpbvh = new _wgs_scene_BVHBuilder__WEBPACK_IMPORTED_MODULE_0__.BVHBuilder(loadContext.fragments);\n  tmpbvh.finfo.wantSort = loadContext.fragments.wantSort;\n  tmpbvh.build(loadContext.bvhOptions);\n\n  var bvh = {\n    nodes: tmpbvh.nodes.getRawData(),\n    primitives: tmpbvh.primitives\n  };\n\n  loadContext.worker.postMessage({ bvh: bvh, modelId: loadContext.modelId },\n  [bvh.nodes, bvh.primitives.buffer]);\n}\n\nfunction register(workerMain) {\n  workerMain.register("COMPUTE_BVH", { doOperation: doComputeBvh });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/ConsolidationWorker.js":\n/*!*********************************************************!*\\\n  !*** ./src/file-loaders/workers/ConsolidationWorker.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doGeomMerge: () => (/* binding */ doGeomMerge),\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../wgs/scene/LmvMatrix4 */ "./src/wgs/scene/LmvMatrix4.js");\n/* harmony import */ var _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../wgs/scene/LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/* harmony import */ var _wgs_scene_consolidation_GeomMergeTask__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../wgs/scene/consolidation/GeomMergeTask */ "./src/wgs/scene/consolidation/GeomMergeTask.js");\n\n\n\n\n/**\n * Main function of ConsolidationWorker. The purpose of this function is to overtake some time-consuming\n * work from mergeGeometries (see Consolidation.js), e.g., baking transforms into vertex-positions and normals.\n *  @param {Object}      context\n *  @param {MergeTask[]} context.tasks - Each MergeTask provides the input data to process a single consolidated mesh.\n *                                       See ParallelGeomMerge.js for details.\n */\nfunction doGeomMerge(context) {\n\n  // Since we are running in the worker script, use LmvVector/LmvMatrix to run the MergeTask\n  var matrix = new _wgs_scene_LmvMatrix4__WEBPACK_IMPORTED_MODULE_0__.LmvMatrix4();\n  var vec = new _wgs_scene_LmvVector3__WEBPACK_IMPORTED_MODULE_1__.LmvVector3();\n\n  var results = [];\n  for (var i = 0; i < context.tasks.length; i++) {\n    var task = context.tasks[i];\n\n    var result = _wgs_scene_consolidation_GeomMergeTask__WEBPACK_IMPORTED_MODULE_2__.GeomMergeTask.prototype.run.call(task, matrix, vec);\n\n    results.push(result);\n  }\n\n  // add result array buffers to transferlist to avoid copying\n  var transferList = [];\n  for (var i = 0; i < results.length; i++) {\n    transferList.push(results[i].vb.buffer);\n    transferList.push(results[i].vertexIds.buffer);\n  }\n\n  // send back result\n  context.worker.postMessage(results, transferList);\n}\n\nfunction register(workerMain) {\n  workerMain.register("MERGE_GEOMETRY", { doOperation: doGeomMerge });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/F2dParseWorker.js":\n/*!****************************************************!*\\\n  !*** ./src/file-loaders/workers/F2dParseWorker.js ***!\n  \\****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _lmvtk_f2d_F2d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lmvtk/f2d/F2d */ "./src/file-loaders/lmvtk/f2d/F2d.js");\n/* harmony import */ var _lmvtk_f2d_F2dGeometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lmvtk/f2d/F2dGeometry */ "./src/file-loaders/lmvtk/f2d/F2dGeometry.js");\n/* harmony import */ var _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../net/ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n\n\n\n\n\nfunction tryCatch(_this, f) {\n  try {\n    f();\n  }\n  catch (exc) {\n    _this.raiseError(\n      _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__.ErrorCodes.BAD_DATA, "",\n      { "exception": exc.toString(), "stack": exc.stack });\n    _this.postMessage(null);\n  }\n}\n\nfunction getF2DParser(loadContext) {\n  if (loadContext.f2dLoadOptions.outputType === "geometry") {\n    return new _lmvtk_f2d_F2dGeometry__WEBPACK_IMPORTED_MODULE_1__.F2DGeometry(loadContext.metadata, loadContext.f2dLoadOptions);\n  }\n  return new _lmvtk_f2d_F2d__WEBPACK_IMPORTED_MODULE_0__.F2D(loadContext.metadata, loadContext.manifest, loadContext.basePath, loadContext.f2dLoadOptions);\n}\n\nfunction doParseF2D(loadContext) {\n  var _this = loadContext.worker;\n\n  _this.postMessage({ progress: 0.01 }); //Tell the main thread we are alive\n\n  if (loadContext.data) {\n\n    _this.postMessage({ progress: 0.5 }); //rough progress reporting -- can do better\n    var f2d = getF2DParser(loadContext);\n    loadContext.loadDoneCB = function (success) {\n\n      if (success) {\n        var msg = { "f2d": f2d };\n        _this.postMessage(msg);\n      } else\n      {\n        _this.raiseError(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__.ErrorCodes.BAD_DATA, "", {});\n        _this.postMessage(null);\n      }\n    };\n\n    tryCatch(_this, function () {\n      f2d.load(loadContext, loadContext.data);\n    });\n  } else\n  {\n    _this.postMessage(null);\n  }\n}\n\nfunction doParseF2DFrame(loadContext) {\n  var _this = loadContext.worker;\n\n  var f2d = _this.f2d;\n\n  if (!f2d) {\n    _this.postMessage({ progress: 0.5 }); //rough progress reporting -- can do better\n    var f2d = _this.f2d = getF2DParser(loadContext);\n    f2d.F2D_MESH_COUNT_OLD = 0;\n\n    // First post needs to post entire F2D so we can set up bounding boxes, etc.\n    var msg = { "f2dframe": f2d };\n    _this.postMessage(msg);\n  }\n\n  function loadDoneCallback(success, finalFlush) {\n    if (success) {\n\n      if (!f2d.meshes.length && !finalFlush) {\n        // No new data coming in.\n        // debug("F2D streaming : no new data coming in.");\n        return;\n      } else {\n\n        var msg = { "f2dframe": true,\n          "meshes": f2d.meshes,\n          "baseIndex": f2d.F2D_MESH_COUNT_OLD,\n          "bbox": f2d.bbox\n        };\n\n        if (loadContext.finalFrame) {var _loadContext$f2dLoadO;\n\n          //Add f2d properties which are cumulative and their\n          //final values are not known until the end\n          msg.cumulativeProps = {\n            maxObjectNumber: f2d.maxObjectNumber,\n            viewports: f2d.viewports,\n            clips: f2d.clips,\n            strings: f2d.strings,\n            stringDbIds: f2d.stringDbIds,\n            stringBoxes: f2d.stringBoxes,\n            linkBoxes: f2d.linkBoxes,\n            hasPageShadow: f2d.hasPageShadow,\n            minLineWidth: f2d.currentVbb.minLineWidth\n          };\n\n          if ((_loadContext$f2dLoadO = loadContext.f2dLoadOptions) !== null && _loadContext$f2dLoadO !== void 0 && _loadContext$f2dLoadO.extendStringsFetching) {\n            msg.cumulativeProps.stringCharWidths = f2d.stringCharWidths; // contains width of every character in a string\n            msg.cumulativeProps.stringAngles = f2d.stringAngles; // rotation of a string box\n            msg.cumulativeProps.stringPositions = f2d.stringPositions; // starting point of string box. this values are not equal to min.x and min.y of stringBoxes\n            msg.cumulativeProps.stringHeights = f2d.stringHeights; // height of a string box\n          }\n\n          msg.finalFrame = finalFlush;\n        }\n\n        // User transferable objects to pass the array buffers used by mesh without deep copying.\n        var transferList = [];\n        for (var i = 0, e = f2d.meshes.length; i < e; ++i) {\n          transferList.push(f2d.meshes[i].vb.buffer);\n          transferList.push(f2d.meshes[i].indices.buffer);\n        }\n        _this.postMessage(msg, transferList);\n\n        f2d.F2D_MESH_COUNT_OLD += f2d.meshes.length;\n        f2d.meshes = [];\n      }\n    } else\n    {\n      _this.raiseError(\n        _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__.ErrorCodes.BAD_DATA, "",\n        {});\n      _this.postMessage(null);\n    }\n  }\n\n  loadContext.loadDoneCB = loadDoneCallback;\n\n  tryCatch(_this, function () {\n    f2d.loadFrames(loadContext);\n  });\n}\n\n\nfunction register(workerMain) {\n  workerMain.register("PARSE_F2D", { doOperation: doParseF2D });\n  workerMain.register("PARSE_F2D_FRAME", { doOperation: doParseF2DFrame });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/F2dStreamWorker.js":\n/*!*****************************************************!*\\\n  !*** ./src/file-loaders/workers/F2dStreamWorker.js ***!\n  \\*****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _lmvtk_f2d_F2dProbe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lmvtk/f2d/F2dProbe */ "./src/file-loaders/lmvtk/f2d/F2dProbe.js");\n/* harmony import */ var _logger_Logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../logger/Logger */ "./src/logger/Logger.js");\n/* harmony import */ var _lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lmvtk/common/StringUtils */ "./src/file-loaders/lmvtk/common/StringUtils.js");\n/* harmony import */ var _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../net/ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n/* harmony import */ var fflate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fflate */ "./node_modules/fflate/esm/browser.js");\n\n\n\n\n\n\n\n\n\n\nvar ENABLE_F2D_STREAMING_MODE = true;\n\nfunction requestFileF2D(loadContext, filename, onSuccess) {\n  var url = loadContext.basePath + filename;\n  _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.getItem(loadContext, url, onSuccess, null);\n}\n\n// Stream loading f2d data and prepare parseable data frames.\nfunction doStreamF2D(loadContext) {\n\n  var _this = loadContext.worker;\n\n  _this.postMessage({ progress: 0.01 }); //Tell the main thread we are alive\n\n  //Get the metadata and manifest first.\n  var metadata;\n  var manifest;\n  var doneFiles = 0;\n\n  var accumulatedStream = new Uint8Array(65536);\n  var accumulatedBytes = 0;\n  var responseData = null;\n\n  function accumulateData(partial) {\n    //Add the new bytes to the accumulation buffer\n    if (accumulatedStream.length < partial.length + accumulatedBytes) {\n      var newlen = Math.max(accumulatedStream.length * 2, partial.length + accumulatedBytes);\n      var ns = new Uint8Array(newlen);\n      ns.set(accumulatedStream);\n      accumulatedStream = ns;\n    }\n    accumulatedStream.set(partial, accumulatedBytes);\n    accumulatedBytes += partial.length;\n  }\n\n  function markSucceeded(response) {\n    responseData = response;\n  }\n\n  var dataReceived = accumulateData;\n  var requestSucceeded = markSucceeded;\n\n  // Start the request for the primary graphics\n  // Just accumulate data as it comes in, and remember response\n  // when it succeeds. The dataReceived and requestSucceeded\n  // variables are changed to other functions once the manifest\n  // and metadata are read.\n  _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.getItem(loadContext, loadContext.url, function (responseData) {\n    requestSucceeded(responseData);\n  }, loadContext.onFailureCallback, {\n    ondata: function (partial) {\n      dataReceived(partial);\n    },\n    responseType: ""\n  }\n  );\n\n  requestFileF2D(loadContext, "metadata.json.gz", function (data) {\n    try {\n      metadata = JSON.parse((0,_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_3__.utf8ArrayToString)(data));\n      doneFiles++;\n    } catch (e) {\n      self.raiseError(\n        _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_4__.ErrorCodes.BAD_DATA,\n        "" /* does not matter what strings we put here since the final user facing error message is solely decided\n        by ErrorCodes. Invent another code if we want a specific error message for this error. */\n      );\n    }\n\n    if (doneFiles === 2)\n    doStreamF2D_Continued(loadContext, manifest, metadata);\n  });\n  requestFileF2D(loadContext, "manifest.json.gz", function (data) {\n    try {\n      if (data)\n      manifest = JSON.parse((0,_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_3__.utf8ArrayToString)(data));\n      //The F2D does not necessarily need a manifest file to load (some old F2Ds don\'t have that)\n      doneFiles++;\n    } catch (e) {}\n\n    if (doneFiles === 2)\n    doStreamF2D_Continued(loadContext, manifest, metadata);\n  });\n\n  //Loads the F2D stream once the metadata and manifest files are fetched\n  function doStreamF2D_Continued(loadContext, manifest, metadata) {\n\n    var _this = loadContext.worker;\n\n    var url = loadContext.url;\n\n    // Collect asset urls that to be send to main thread for mobile usage.\n    var assets = [];\n\n    var f2dSize = 0;\n    var altSize = 0;\n    if (manifest && manifest.assets) {\n      var a = manifest.assets;\n      for (var i = 0; i < a.length; i++) {\n        if (url.indexOf(a[i].URI) != -1) {\n          f2dSize = a[i].usize || 0;\n          break;\n        } else if (a[i].type == "Autodesk.CloudPlatform.F2D")\n        altSize = a[i].usize || 0;\n      }\n    }\n    if (f2dSize == 0 && altSize > 0)\n    f2dSize = altSize;\n\n    var probe = new _lmvtk_f2d_F2dProbe__WEBPACK_IMPORTED_MODULE_1__.F2DProbe();\n\n    var first = true;\n    var streamOffset = 0;\n    var sentMetadata = false;\n\n    function onSuccess(responseData) {\n      // Send collected f2d resource urls to main thread.\n      _this.postMessage({ "type": "F2DAssetURL", "urls": assets });\n      assets = null;\n\n      if (ENABLE_F2D_STREAMING_MODE) {\n\n        var msg = {\n          "type": "F2DSTREAM",\n          "finalFrame": true,\n          "finished": true,\n          "progress": 1\n        };\n\n        if (!sentMetadata) {\n          msg.manifest = manifest;\n          msg.metadata = metadata;\n          msg.basePath = loadContext.basePath;\n          msg.f2dSize = f2dSize;\n          sentMetadata = true;\n        }\n\n        _this.debug("Total text bytes count : " + responseData.length);\n\n        _this.postMessage(msg);\n\n        //Streaming code path ends here -- we have already sent\n        //the data back from the progress callback\n        return;\n      }\n\n      //Non-streaming code path here\n      if (accumulatedStream.length > accumulatedBytes)\n      accumulatedStream = new Uint8Array(accumulatedStream.buffer.slice(0, accumulatedBytes));\n\n      var view;\n      if (accumulatedStream[0] == 31 && accumulatedStream[1] == 139) {\n        try {\n          view = new Uint8Array(accumulatedStream.buffer, 0, accumulatedBytes);\n          view = (0,fflate__WEBPACK_IMPORTED_MODULE_5__.gunzipSync)(view);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n\n      var msg = { "type": "F2DBLOB",\n        "metadata": metadata,\n        "manifest": manifest,\n        "f2dSize": f2dSize,\n        "basePath": loadContext.basePath, // TODO: we might be able to infer this elsewhere.\n        "progress": 1,\n        "buffer": view.buffer };\n      var transferList = [];\n      transferList.push(view.buffer);\n      _this.postMessage(msg, transferList);\n    }\n\n    function processData() {\n\n      if (!ENABLE_F2D_STREAMING_MODE)\n      return;\n\n      if (first) {\n        first = false;\n\n        // If the very first two bytes of the entire stream is GZIP magic number,\n        // then we fall back on none streaming mode, because streaming mode only\n        // work with browser decompression, and the presence of such magic number\n        // implies browser decompression fails, for whatever reasons.\n        if (accumulatedStream[0] == 31 && accumulatedStream[1] == 139) {\n          _logger_Logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("F2D streaming broken by non-streaming unzip!", (0,_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_4__.errorCodeString)(_net_ErrorCodes__WEBPACK_IMPORTED_MODULE_4__.ErrorCodes.BAD_DATA));\n          ENABLE_F2D_STREAMING_MODE = false;\n          return;\n        }\n      }\n\n      var view = new Uint8Array(accumulatedStream.buffer, streamOffset, accumulatedBytes - streamOffset);\n\n      try {\n        var marker = probe.load(view);\n\n        if (marker.frameEnd > marker.frameStart) {\n          var frames = accumulatedStream.buffer.slice(streamOffset + marker.frameStart, streamOffset + marker.frameEnd);\n          streamOffset += marker.frameEnd;\n\n          var transferList = [];\n          transferList.push(frames);\n\n          var msg = { "type": "F2DSTREAM",\n            "frames": frames,\n            "finalFrame": false\n          };\n\n          if (f2dSize)\n          msg.progress = streamOffset / f2dSize;\n\n          if (!sentMetadata) {\n            msg.manifest = manifest;\n            msg.metadata = metadata;\n            msg.f2dSize = f2dSize;\n            msg.basePath = loadContext.basePath;\n            sentMetadata = true;\n          }\n\n          _this.postMessage(msg, transferList);\n\n        }\n      } catch (e) {\n        _this.debug(e);\n      }\n    }\n\n    function onData(partial) {\n      accumulateData(partial);\n      processData();\n    }\n\n    requestSucceeded = onSuccess;\n    dataReceived = onData;\n    // check to see if the primary graphics request has received any data\n    if (accumulatedBytes > 0)\n    processData();\n    // check to see if primary graphics request succeeded\n    if (responseData != null)\n    onSuccess(responseData);\n  }\n}\n\nfunction register(workerMain) {\n  workerMain.register("STREAM_F2D", { doOperation: doStreamF2D });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/GeomWorker.js":\n/*!************************************************!*\\\n  !*** ./src/file-loaders/workers/GeomWorker.js ***!\n  \\************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _lmvtk_common_PackReader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lmvtk/common/PackReader */ "./src/file-loaders/lmvtk/common/PackReader.js");\n/* harmony import */ var _lmvtk_svf_Geoms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lmvtk/svf/Geoms */ "./src/file-loaders/lmvtk/svf/Geoms.js");\n/* harmony import */ var _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../net/ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _wgs_scene_DeriveTopology__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../wgs/scene/DeriveTopology */ "./src/wgs/scene/DeriveTopology.js");\n\n\n\n\n\n\nfunction guardFunction(loadContext, f) {\n  try {\n    f();\n  }\n  catch (exc) {\n    loadContext.raiseError(\n      _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__.ErrorCodes.BAD_DATA, "Unhandled exception while reading pack file",\n      { "url": loadContext.url, "exception": exc.toString(), "stack": exc.stack });\n  }\n}\n\nfunction doGeomLoad(loadContext) {\n\n  var _this = loadContext.worker;\n\n  //Make a blocking request -- it\'s ok, because\n  //we are in a worker thread.\n\n  function onSuccess(arrayBuffer) {\n    _this.postMessage({\n      url: loadContext.url,\n      workerId: loadContext.workerId,\n      progress: 0.5\n    }); //rough progress reporting -- can do better\n\n    guardFunction(loadContext, function () {\n\n      var pfr = new _lmvtk_common_PackReader__WEBPACK_IMPORTED_MODULE_0__.PackFileReader(arrayBuffer);\n\n      var raisedError = false;\n\n      var options = {\n        estimateSizeOnly: true,\n        packNormals: typeof loadContext.packNormals !== "undefined" ? loadContext.packNormals : true\n      };\n\n      var i,iEnd = pfr.getEntryCounts(),mesh;\n      var skip = loadContext.inMemory || [];\n      var estLength = 0;\n      var shouldReadNext = function (i) {\n        var v = skip[i >> 5];\n        return !v || !(v & 1 << (i & 31));\n      };\n\n      for (i = 0; i < iEnd; i++)\n      {\n        if (shouldReadNext(i)) {\n          mesh = (0,_lmvtk_svf_Geoms__WEBPACK_IMPORTED_MODULE_1__.readGeometry)(pfr, i, options);\n          estLength += mesh && mesh.sharedBufferBytes || 0;\n        }\n      }\n\n      var sharedBuffer = estLength ? new ArrayBuffer(estLength) : null;\n      var currentOffset = 0;\n\n      var msg = { "packId": loadContext.packId,\n        "workerId": loadContext.workerId,\n        "progress": 1,\n        "meshes": [],\n        "sharedBuffer": sharedBuffer\n      };\n\n      var transferList = sharedBuffer ? [sharedBuffer] : [];\n\n      options = {\n        dstBuffer: sharedBuffer,\n        startOffset: 0,\n        estimateSizeOnly: false,\n        packNormals: typeof loadContext.packNormals !== "undefined" ? loadContext.packNormals : true\n      };\n\n      for (i = 0; i < iEnd; i++)\n      {\n        options.startOffset = currentOffset;\n\n        if (shouldReadNext(i)) {\n          mesh = (0,_lmvtk_svf_Geoms__WEBPACK_IMPORTED_MODULE_1__.readGeometry)(pfr, i, options);\n\n          if (mesh) {\n            currentOffset += mesh.sharedBufferBytes || 0;\n            msg.meshes[i] = mesh;\n\n            if (loadContext.createWireframe) {\n              (0,_wgs_scene_DeriveTopology__WEBPACK_IMPORTED_MODULE_4__.createWireframe)(mesh);\n\n              //TODO: optimize the storage of the lines index buffer to use\n              //a single shared buffer for all meshes in the pack\n              if (mesh.iblines)\n              transferList.push(mesh.iblines.buffer);\n            }\n          } else {\n            // it doesn\'t make much sense to raise an error for each entry that can\'t\n            // be read, because chances are they will all be unreadable after the\n            // first bad one.\n            if (!raisedError) {\n              _this.raiseError(\n                _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_2__.ErrorCodes.BAD_DATA, "Unable to load geometry",\n                { "url": loadContext.url });\n              raisedError = true;\n            }\n\n            // in this case, we still post the full message instead of just null;\n            // the mesh itself will be null, of course.\n            _this.postMessage(msg);\n          }\n        }\n      }\n\n      _this.postMessage(msg, transferList);\n    });\n\n  }\n\n  // With this option to control whether want to record assets request.\n  var options = {\n    skipAssetCallback: loadContext.skipAssetCallback\n  };\n  _net_Xhr__WEBPACK_IMPORTED_MODULE_3__.ViewingService.getItem(loadContext, loadContext.url, onSuccess, loadContext.onFailureCallback, options);\n\n}\n\nfunction register(workerMain) {\n  workerMain.register("LOAD_GEOMETRY", { doOperation: doGeomLoad });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/MainWorker.js":\n/*!************************************************!*\\\n  !*** ./src/file-loaders/workers/MainWorker.js ***!\n  \\************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorkerMain: () => (/* binding */ WorkerMain),\n/* harmony export */   workerMain: () => (/* binding */ workerMain)\n/* harmony export */ });\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _net_endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../net/endpoints */ "./src/file-loaders/net/endpoints.js");\n\n\n\nclass WorkerMain {\n\n  constructor() {\n    this._workers = {};\n  }\n  dispatch(loadContext) {\n\n    if (!loadContext.hasOwnProperty(\'operation\')) {\n      return;\n    }\n\n    //TODO TS:\n    if (loadContext.endpoint)\n    _net_endpoints__WEBPACK_IMPORTED_MODULE_1__.endpoint.setEndpointAndApi(loadContext.endpoint, loadContext.api);\n\n\n    var target = this._workers[loadContext.operation];\n    if (!target)\n    return;\n\n    //Initialize the path that contains the requested\n    //file. It\'s the root for other relative paths referenced\n    //by the base file.\n    loadContext.basePath = "";\n    if (loadContext.url) {\n      var lastSlash = loadContext.url.lastIndexOf("/");\n      if (lastSlash != -1)\n      loadContext.basePath = loadContext.url.substr(0, lastSlash + 1);\n    }\n\n    // Create the default failure callback.\n    //\n    loadContext.raiseError = function () {\n      loadContext.worker.raiseError.apply(loadContext.worker, arguments);\n    };\n    loadContext.onFailureCallback = _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.defaultFailureCallback.bind(loadContext);\n\n    target.doOperation(loadContext);\n  }\n\n  register(operation, worker) {\n    this._workers[operation] = worker;\n  }\n\n  unregister(operation) {\n    delete this._workers[operation];\n  }\n}\n\nlet workerMain = new WorkerMain();\n\n//Add all the worker entry points.\n//Those need to execute in order to register themselves\n//with the web worker operation dispatcher\n(__webpack_require__(/*! ./SvfWorker */ "./src/file-loaders/workers/SvfWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./GeomWorker */ "./src/file-loaders/workers/GeomWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./F2dParseWorker */ "./src/file-loaders/workers/F2dParseWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./F2dStreamWorker */ "./src/file-loaders/workers/F2dStreamWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./OtgBvhWorker */ "./src/file-loaders/workers/OtgBvhWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./OtgLoadWorker */ "./src/file-loaders/workers/OtgLoadWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./OtgDecodeWorker.ts */ "./src/file-loaders/workers/OtgDecodeWorker.ts").register)(workerMain);\n(__webpack_require__(/*! ./PropWorker */ "./src/file-loaders/workers/PropWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./ConsolidationWorker */ "./src/file-loaders/workers/ConsolidationWorker.js").register)(workerMain);\n(__webpack_require__(/*! ./BvhWorker */ "./src/file-loaders/workers/BvhWorker.js").register)(workerMain);\n\n// when we request some resource from some kinds of URL\n// This method will give the worker ability to support EMSCRIPTEN File Sytstem\n// Or indexedDB in future\nfunction registerFilePort(event) {\n  if (event && event.protocolPortMap) {\n    for (var p in event.protocolPortMap) {\n      _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.registerProtocolPort(p, event.protocolPortMap[p]);\n    }\n  }\n}\n\nworkerMain.register("REGISTER_FILE_PORT", { doOperation: registerFilePort });\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/OtgBvhWorker.js":\n/*!**************************************************!*\\\n  !*** ./src/file-loaders/workers/OtgBvhWorker.js ***!\n  \\**************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _wgs_scene_BVHBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../wgs/scene/BVHBuilder */ "./src/wgs/scene/BVHBuilder.js");\n/* harmony import */ var _lmvtk_otg_OtgFragInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lmvtk/otg/OtgFragInfo */ "./src/file-loaders/lmvtk/otg/OtgFragInfo.js");\n\n\n\n\nfunction loadAsyncResource(loadContext, resourcePath, responseType, callback) {\n\n  _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.getItem(loadContext, resourcePath,\n  callback,\n  loadContext.onFailureCallback,\n  {\n    responseType: responseType || "arraybuffer"\n  }\n  );\n\n}\n\nfunction doLoadOtgBvh(loadContext) {\n\n  //TODO: We could process bboxes progressively (in the OtgFragInfo constructions) instead of doing it once the whole file is in\n  //although it\'s probably not worth it, given we are reunning in a worker thread\n  if (loadContext.fragments_extra) {\n    loadAsyncResource(loadContext, loadContext.fragments_extra, "", function (data) {\n\n      if (!data || !data.length) {\n        return;\n      }\n\n      //Build the R-Tree\n      //var t0 = performance.now();\n\n      var finfo = new _lmvtk_otg_OtgFragInfo__WEBPACK_IMPORTED_MODULE_2__.OtgFragInfo(data, loadContext);\n\n      if (finfo.count) {\n        var tmpbvh = new _wgs_scene_BVHBuilder__WEBPACK_IMPORTED_MODULE_1__.BVHBuilder(null, null, finfo);\n        tmpbvh.build(loadContext.bvhOptions);\n\n        var bvh = {\n          nodes: tmpbvh.nodes.getRawData(),\n          primitives: tmpbvh.primitives\n        };\n\n        //var t1 = performance.now();\n        //console.log("BVH build time:" + (t1 - t0));\n\n        loadContext.worker.postMessage({ bvh: bvh, boxes: finfo.boxes, boxStride: finfo.boxStride },\n        [bvh.nodes, bvh.primitives.buffer, finfo.boxes.buffer]);\n      }\n\n    });\n  }\n\n\n}\n\nfunction register(workerMain) {\n  workerMain.register("LOAD_OTG_BVH", { doOperation: doLoadOtgBvh });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/OtgLoadWorker.js":\n/*!***************************************************!*\\\n  !*** ./src/file-loaders/workers/OtgLoadWorker.js ***!\n  \\***************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _lmvtk_otg_LocalDbCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lmvtk/otg/LocalDbCache */ "./src/file-loaders/lmvtk/otg/LocalDbCache.js");\n/* harmony import */ var fflate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fflate */ "./node_modules/fflate/esm/browser.js");\n/* harmony import */ var _lmvtk_otg_OtgWebSocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lmvtk/otg/OtgWebSocket */ "./src/file-loaders/lmvtk/otg/OtgWebSocket.js");\n/* harmony import */ var _lmvtk_otg_WebSocketBase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lmvtk/otg/WebSocketBase */ "./src/file-loaders/lmvtk/otg/WebSocketBase.js");\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../compat */ "./src/compat.js");\n\n\n\n\n\n\n\n\n// OtgLoadWorker implements the "LOAD_CDN_RESOURCE_OTG" operation.\n\nconst NUM_WEBSOCKETS = (0,_compat__WEBPACK_IMPORTED_MODULE_4__.isMobileDevice)() ? 2 : 8;\n// Avoid batch requests with below this size. Should be some small percentage of OtgResourceCache._maxRequestsInFlight.\n// This made no observable perf difference, but the derivative service team likes larger batches.\nconst SMALL_MESSAGE_THRESHOLD = 20;\n// When the number of in flight requests falls below this, send small messages again,\n// to avoid not sending the last SMALL_MESSAGE_THRESHOLD-1 messages for too long.\n// Should be some moderate percentage of OtgResourceCache._maxRequestsInFlight.\nconst IN_FLIGHT_THRESHOLD_FOR_SMALL_MESSAGES = 300;\n\n//Do not store state data directly in "self" because in the node.js code path\n//there are no separate worker contexts\nfunction getWorkerContext(loadContext) {\n\n  //Initialize the worker context -- we cannot use module/global vars here,\n  //because in node.js the module variables are shared for all instances of the worker.\n  if (!loadContext.worker.ctx) {\n\n    loadContext.worker.ctx = {\n\n      otgws: [],\n      localCache: null,\n\n      numRequests: 0,\n\n      pendingForNetwork: [],\n\n      // Keeps batches of geoms to be sent to decoder threads\n      _pendingGeomHashes: [],\n      _pendingGeoms: [],\n      _pendingFromCache: [],\n      _pendingTransferList: [],\n\n      // Track total counts to simplify debugging\n      _requestsSent: 0,\n      _requestsReceived: 0,\n\n      decoderPorts: [],\n      nextPortIndex: 0\n    };\n  }\n\n  return loadContext.worker.ctx;\n}\n\nfunction doInitGeomWorker(loadContext) {\n  var ctx = getWorkerContext(loadContext);\n\n  if (!loadContext.disableWebSocket) {\n    const onResourcesReceived = (hashes, arrays, resourceType) => onCdnResourcesReceived(hashes, arrays, loadContext, false, resourceType);\n    const onResourceFailed = (hash, resourceType, errorMessage) => onCdnResourceFailed(loadContext, hash, resourceType, errorMessage);\n    const onConnectionFailed = (inprogress) => retryPending(loadContext, inprogress);\n    for (let i = 0; i < NUM_WEBSOCKETS; i++) {\n      ctx.otgws.push(new _lmvtk_otg_OtgWebSocket__WEBPACK_IMPORTED_MODULE_2__.OtgWs(loadContext.otg_ws, loadContext.queryParams, loadContext.headers, onResourcesReceived, onResourceFailed, onConnectionFailed));\n    }\n  }\n\n  ctx.localCache = new _lmvtk_otg_LocalDbCache__WEBPACK_IMPORTED_MODULE_1__.LocalDbCache(loadContext.disableIndexedDb, loadContext.isInlineWorker);\n  ctx.localCache.open(null);\n\n  ctx.decoderPorts = loadContext.ports;\n}\n\nfunction doAddModel(loadContext) {\n  var ctx = getWorkerContext(loadContext);\n  for (const ws of ctx.otgws) {\n    ws.addAuthorizeUrn(loadContext.modelUrn);\n  }\n\n  if (!ctx.flushMessages) {\n    ctx.flushMessages = setInterval(() => {\n      _loadCdnResourceFromNetworkBatch(loadContext);\n      flushMessagesToDecoderThread(loadContext);\n    }, 25);\n  }\n}\n\n// Use custom error handler: It  forwards to the default one, but...\n//  1. adds the geometry hash to the error message. This is needed by the geometry cache.\n//     We use it to determine for which geometry the problem occurred, so that the affected\n//     loaders can be informed (see OtgResourceCache.js).\n//  2. If any other requests were blocked before to limit the number of parallel\n//     requests, we must make sure that these enqueued requests are processed too.\nfunction getHttpErrorHandler(loadContext, hash, resourceType) {\n\n  // add error handler to override raiseError function\n  var errorHandler = {\n    // add hash and pass on to loadContext.raiseError.\n    raiseError: function (code, msg, args) {\n      args.hash = hash;\n      args.resourceType = resourceType;\n      loadContext.raiseError(code, msg, args);\n    }\n  };\n\n  return function () {\n    // forward to default error handler\n    _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.defaultFailureCallback.apply(errorHandler, arguments);\n\n    onCdnResourceProcessed(loadContext, hash);\n  };\n}\n\nfunction onCdnResourceFailed(loadContext, hash, resourceType, errorMessage) {\n  loadContext.raiseError(null, errorMessage, { hash: hash, resourceType: resourceType });\n  onCdnResourceProcessed(loadContext, hash);\n}\n\nfunction retryPending(loadContext, inprogress) {\n  for (const [hash, value] of inprogress) {\n    loadContext.queryParams = value.queryParams;\n    loadCdnResource(value.url, hash, loadContext, value.type);\n  }\n}\n\nfunction isGzip(data) {\n  return data[0] === 31 && data[1] === 139;\n}\n\nfunction onCdnResourcesReceived(hashes, arrays, loadContext, skipCache, resourceType) {\n  const ctx = getWorkerContext(loadContext);\n\n  if (!skipCache) {\n    for (let i = 0; i < hashes.length; i++) {\n      const hash = hashes[i];\n      let data = arrays[i];\n      // If the HTTP fallback was used, the browser already did the decompression\n      // Also, we did encounter uncompressed blobs in production.\n      if (!isGzip(data)) {\n        data = (0,fflate__WEBPACK_IMPORTED_MODULE_5__.gzipSync)(data);\n      }\n      ctx.localCache.store(hash, data);\n    }\n  }\n\n  if (resourceType === "m") {\n    //Post materials as soon as possible without batching -- those are fewer\n    //and more critical as they are shared across multiple meshes.\n    const port = ctx.decoderPorts[ctx.nextPortIndex];\n    ctx.nextPortIndex = ++ctx.nextPortIndex % ctx.decoderPorts.length;\n    port.postMessage({\n      operation: "DECODE_MATERIALS",\n      hashes: hashes,\n      arrays: arrays\n    }, [arrays[0].buffer]);\n  } else {\n    // Each message has a bit of overhead, both when sending and receiving,\n    // and both in the decoder thread and the main thread afterwards.\n    // Therefore we batch here, even though it introduces a bit of latency.\n    // Ideally, cache and websockets would always return batches, then we could remove this.\n    for (let i = 0; i < hashes.length; i++) {\n      const hash = hashes[i];\n      const data = arrays[i];\n      ctx._pendingGeomHashes.push(hash);\n      ctx._pendingGeoms.push(data);\n      ctx._pendingFromCache.push(skipCache);\n      if (i === 0 || data.buffer !== arrays[0].buffer) {\n        ctx._pendingTransferList.push(data.buffer);\n      }\n    }\n  }\n  for (const hash of hashes) {\n    onCdnResourceProcessed(loadContext, hash);\n  }\n}\n\n// Sends recently received (since last flush) resources to the decoders\nfunction flushMessagesToDecoderThread(loadContext) {\n\n  var ctx = getWorkerContext(loadContext);\n\n  if (!ctx._pendingGeomHashes.length)\n  return;\n\n  const port = ctx.decoderPorts[ctx.nextPortIndex];\n  ctx.nextPortIndex = ++ctx.nextPortIndex % ctx.decoderPorts.length;\n  port.postMessage({\n    operation: "DECODE_GEOMETRIES",\n    hashes: ctx._pendingGeomHashes,\n    arrays: ctx._pendingGeoms,\n    fromCache: ctx._pendingFromCache\n  }, ctx._pendingTransferList);\n\n  ctx._pendingGeomHashes = [];\n  ctx._pendingGeoms = [];\n  ctx._pendingFromCache = [];\n  ctx._pendingTransferList = [];\n}\n\nfunction onCdnResourceProcessed(loadContext, hash) {\n  const ctx = getWorkerContext(loadContext);\n\n  ctx.numRequests--;\n  ctx._requestsReceived++;\n}\n\n// Request raw geometry data (arraybuffer) and forward result to onCdnResourcesReceived once it is available\n//  @param {String}   url - url of the network resource\n//  @param {String}   hash - hash of the resource\n//  @param {Object}   loadContext - passed through to the receiving callback\n//  @param {String}   resourceType - "m" for material and "g" for geometry\n//  @param {Boolean}  couldBeInCache - false if it can\'t be in the cache (i.e., skip the cache and directly load from the network)\n//                                     if true and not in cache, the data is still requested from the network\nfunction loadCdnResource(url, hash, loadContext, resourceType, couldBeInCache) {\n\n  var ctx = getWorkerContext(loadContext);\n\n  ctx._requestsSent++;\n\n  if (couldBeInCache) {\n    //Make sure the IndexedDb session is started before we ask to get() anything.\n    //This is done by a call to open, which will call us back immediately, or delay until\n    //the database is open.\n    ctx.localCache.open(() => ctx.localCache.get(hash, function (error, data) {\n      if (data) {\n        onCdnResourcesReceived([hash], [data], loadContext, true, resourceType);\n      } else {\n        ctx.pendingForNetwork.push([hash, url, resourceType, loadContext.queryParams]);\n      }\n    }));\n  } else {\n    ctx.pendingForNetwork.push([hash, url, resourceType, loadContext.queryParams]);\n  }\n}\n\n\nfunction _loadCdnResourceFromNetworkBatch(loadContext) {\n  var ctx = getWorkerContext(loadContext);\n\n  if (ctx.pendingForNetwork.length === 0) {\n    return;\n  }\n\n  // Only fill the queue of open WS. Non-open WS might take a few seconds to open: \n  // Chrome and Firefox throttle opening WS to one per ~500ms, so the eighth WS would open only after 3.5s.\n  // Also, the WS might currently be attempting to recover from an error.\n  let openWS = [];\n  let numNonbrokenWs = 0;\n  let totalInFlightRequests = 0;\n  for (const ws of ctx.otgws) {var _ws$ws;\n    if (!ws.hasPermanentError) {\n      numNonbrokenWs++;\n    }\n    if (((_ws$ws = ws.ws) === null || _ws$ws === void 0 ? void 0 : _ws$ws.readyState) === _lmvtk_otg_WebSocketBase__WEBPACK_IMPORTED_MODULE_3__.STATE.OPEN) {\n      openWS.push(ws);\n      totalInFlightRequests += ws.inFlightRequests.size;\n    } else {\n      // Reasons they might need opening: 1. WS was just initialized 2. WS was closed due to model/view changing 3. server closed it due to e.g. timeout\n      ws._openWebSocket();\n    }\n  }\n\n  if (numNonbrokenWs === 0) {\n    //Fallback to XHR/HTTP2\n    for (const [hash, url, resourceType, queryParams] of ctx.pendingForNetwork) {\n      loadContext.queryParams = queryParams;\n      _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.getItem(\n        loadContext,\n        url,\n        (data) => onCdnResourcesReceived([hash], [data], loadContext, false, resourceType),\n        getHttpErrorHandler(loadContext, hash, resourceType),\n        {\n          responseType: "arraybuffer",\n          withCredentials: true\n        }\n      );\n    }\n    ctx.pendingForNetwork = [];\n    return;\n  }\n\n  if (openWS.length <= 0) {\n    return;\n  }\n\n  const wsSortedByLoad = openWS.sort((a, b) => a.inFlightRequests.size - b.inFlightRequests.size);\n\n  // Do load balancing among WS: every request should go to the WS which is currently least busy.\n  // In other words, the minimum of the WS\'s inFlightRequests.size should be as high as possible,\n  // otherwise that would mean that some WS are underutilized.\n  // To achieve that, starting with the least busy WS, we raise the targeted requests in flight\n  // so that after iteration n, the n least busy WS are utilized equally, until all incoming requests are distributed.\n  let requestsToDistribute = ctx.pendingForNetwork.length;\n  let targetRequestsInFlight = wsSortedByLoad[0].inFlightRequests.size;\n  for (let i = 1; i < wsSortedByLoad.length; i++) {\n    const raiseTargetBy = wsSortedByLoad[i].inFlightRequests.size - targetRequestsInFlight;\n    requestsToDistribute -= raiseTargetBy * i;\n    targetRequestsInFlight += raiseTargetBy;\n    if (requestsToDistribute <= 0) {\n      wsSortedByLoad.length = i; // cut out WS that we won\'t use anyway\n      break;\n    }\n  }\n\n  // If there are more requests left, distribute them equally across all WS,\n  // or if targetRequestsInFlight got too high (i.e. if requestsToDistribute < 0), trim it down.\n  targetRequestsInFlight += Math.ceil(requestsToDistribute / wsSortedByLoad.length);\n\n  // If there are some WS not-yet-open, keep work in the queue for them and not overload the open ones\n  const totalRequests = totalInFlightRequests + ctx.pendingForNetwork.length;\n  targetRequestsInFlight = Math.min(targetRequestsInFlight, Math.ceil(totalRequests / numNonbrokenWs));\n\n  for (let i = wsSortedByLoad.length - 1; i >= 0; i--) {\n    const ws = wsSortedByLoad[i];\n    const numHashesToSend = targetRequestsInFlight - ws.inFlightRequests.size;\n\n    if (numHashesToSend < SMALL_MESSAGE_THRESHOLD && !(i == 0 && totalRequests < IN_FLIGHT_THRESHOLD_FOR_SMALL_MESSAGES)) {\n      // Message is too small, distribute it to the other WS\n      targetRequestsInFlight += Math.ceil(numHashesToSend / i);\n      continue;\n    }\n    for (const [hash, url, resourceType, queryParams] of ctx.pendingForNetwork.splice(0, numHashesToSend)) {\n      ws.requestResource(url, hash, resourceType, queryParams);\n    }\n    ws._flushSendQueue();\n  }\n}\n\n// @param {string[]}   loadContext.urls            - request urls\n// @param {string[]}   loadContext.hashes          - content hashes corresponding to each request URL\n// @param {function} loadContext.onFailureCallback - defined in workerMain()\n// @param {Worker}   loadContext.worker            - defined in MainWorker.worker\nfunction doCdnResourceLoad(loadContext) {\n  var ctx = getWorkerContext(loadContext);\n\n  for (let i = 0; i < loadContext.urls.length; i++) {\n    loadCdnResource(loadContext.urls[i], loadContext.hashes[i], loadContext, loadContext.type, loadContext.couldBeInCache[i]);\n    ctx.numRequests++;\n  }\n}\n\nfunction doFlushCacheAndDisconnect(loadContext) {\n\n  var ctx = getWorkerContext(loadContext);\n\n  if (ctx.numRequests || ctx._pendingGeomHashes.length) {\n    console.error("OtgLoadWorker disconnect requested even though there are requests in flight");\n    flushMessagesToDecoderThread(loadContext);\n  }\n\n  for (const ws of ctx.otgws) {\n    ws.closeWebSocket();\n  }\n\n  clearInterval(ctx.flushMessages);\n  ctx.flushMessages = null;\n\n  if (ctx.localCache) {\n    ctx.localCache.open(() => ctx.localCache.flushStoresAndTimestamps());\n  }\n}\n\n// Helper task to faciliate console debugging.\n// How to use:\n//  If OTG loading gets stuck, call NOP_VIEWER.impl.geomCache().reportLoadingState()\nfunction doReportLoadingState(loadContext) {\n\n  var ctx = getWorkerContext(loadContext);\n\n  // Uncomment to debug a worker that got stuck:\n  // const pending = ctx._requestsSent - ctx._requestsReceived;\n  // if (pending) {\n  //     debugger;\n  // }\n\n  const loadingState = {\n    // Total number of send/receive (also indexDB etc)\n    sent: ctx._requestsSent,\n    received: ctx._requestsReceived,\n\n    // Actual websocket sends/receives\n    wsSent: ctx.otgws.map((ws) => ws.numRequestsSent),\n    wsReceived: ctx.otgws.map((ws) => ws.numRequestsReceived)\n  };\n  console.log(\'WorkerState: \', loadingState);\n}\n\nfunction register(workerMain) {\n  workerMain.register("INIT_WORKER_OTG", { doOperation: doInitGeomWorker });\n  workerMain.register("ADD_MODEL_OTG", { doOperation: doAddModel });\n  workerMain.register("LOAD_CDN_RESOURCE_OTG", { doOperation: doCdnResourceLoad });\n  workerMain.register("FLUSH_CACHE_AND_DISCONNECT_OTG", { doOperation: doFlushCacheAndDisconnect });\n  workerMain.register("REPORT_LOADING_STATE", { doOperation: doReportLoadingState });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/PropWorker.js":\n/*!************************************************!*\\\n  !*** ./src/file-loaders/workers/PropWorker.js ***!\n  \\************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _lmvtk_common_Propdb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lmvtk/common/Propdb */ "./src/file-loaders/lmvtk/common/Propdb.js");\n/* harmony import */ var _wgs_scene_InstanceTreeStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../wgs/scene/InstanceTreeStorage */ "./src/wgs/scene/InstanceTreeStorage.js");\n\n\n\n\n\n\n\nfunction PdbCacheEntry(dbPath, isShared) {\n  this.pdb = null;\n  this.waitingCallbacks = [];\n  this.error = false;\n  this.dbPath = dbPath;\n  this.dbFiles = null;\n  this.isShared = isShared;\n  this.timestamp = Date.now();\n}\n\nfunction FileCacheEntry(data) {\n  this.data = data;\n  this.refCount = 1;\n}\n\nclass PdbCache {\n\n  constructor() {\n    this.pdbCache = {};\n    this.fileCache = {};\n  }\n\n  get(dbPath) {\n    let cacheEntry = this.pdbCache[dbPath];\n\n    if (cacheEntry) {\n      cacheEntry.timestamp = Date.now();\n    }\n\n    return cacheEntry;\n  }\n\n  set(dbPath, isShared) {\n    let cacheEntry = new PdbCacheEntry(dbPath, isShared);\n    this.pdbCache[dbPath] = cacheEntry;\n    return cacheEntry;\n  }\n\n  getFile(path) {\n    let cacheEntry = this.fileCache[path];\n\n    if (cacheEntry) {\n      cacheEntry.timestamp = Date.now();\n    }\n\n    return cacheEntry;\n  }\n\n  setFile(path, data) {\n    this.fileCache[path] = new FileCacheEntry(data);\n  }\n\n  delete(dbPath) {\n    var cacheEntry = this.get(dbPath);\n\n    if (cacheEntry && cacheEntry.pdb)\n    cacheEntry.pdb.refCount--;else\n\n    return;\n\n    if (cacheEntry.pdb.refCount === 0) {\n\n      //TODO: erase the entry even if db is shared once it\'s no longer used?\n      //The db files are still cached anyway.\n      if (!cacheEntry.isShared) {\n        delete this.pdbCache[dbPath];\n      }\n\n      if (!cacheEntry.isShared) {\n        //Also erase any per-file cache, unless the file is shared across multiple property databases\n        for (var fileName in cacheEntry.dbFiles) {\n          var file = cacheEntry.dbFiles[fileName];\n          this.unrefFileCacheEntry(file.storage);\n        }\n      }\n    }\n  }\n\n  // Releases a fileCache entry reference if a file is not used anymore.\n  //   @param {Object} storage - contains the full file path as (only) key\n  unrefFileCacheEntry(storage) {\n\n    // key is the full file path\n    for (var key in storage) {\n      var fileCacheEntry = this.fileCache[key];\n      if (fileCacheEntry) {\n        fileCacheEntry.refCount--;\n        if (fileCacheEntry.refCount === 0)\n        delete this.fileCache[key];\n      }\n    }\n  }\n}\n\n\nfunction loadPropertyPacks(loadContext, dbId, onPropertyPackLoadComplete) {\n\n  let _this = loadContext.worker;\n  let pdbCache = _this.pdbCache;\n\n  if (!pdbCache) {\n    _this.pdbCache = pdbCache = new PdbCache();\n  }\n\n  //get the cache entry for the given property database URL\n  var cacheEntry = pdbCache.get(loadContext.dbPath);\n  var repeatedCall = false;\n  if (!cacheEntry) {\n    cacheEntry = pdbCache.set(loadContext.dbPath, !!loadContext.sharedDbPath);\n  } else {\n    repeatedCall = true;\n  }\n\n  if (cacheEntry.pdb) {\n    onPropertyPackLoadComplete(cacheEntry.pdb, cacheEntry.dbidOldToNew);\n    return;\n  } else if (!cacheEntry.error) {\n    //If we are already loading the same property database, queue the callback\n    if (repeatedCall) {\n      cacheEntry.waitingCallbacks.push(onPropertyPackLoadComplete);\n      return;\n    }\n  } else {\n    onPropertyPackLoadComplete(null);\n    return;\n  }\n\n  var dbfiles = loadContext.propertydb;\n  if (!dbfiles) {\n    _this.propdbFailed = true;\n    onPropertyPackLoadComplete(null);\n    return;\n  }\n\n  var loadedDbFiles = {};\n  var filesToRequest = [];\n\n  if (dbfiles.avs.length) {\n\n    for (var tag in dbfiles) {\n      // Skip loading of externalId table if wanted\n      if (loadContext.skipExternalIds && tag == \'ids\') {\n        continue;\n      }\n\n      loadedDbFiles[tag] = {};\n      filesToRequest.push({ filename: dbfiles[tag][0].path, isShared: dbfiles[tag][0].isShared, storage: loadedDbFiles[tag] });\n    }\n\n  } else {\n\n    //Hardcoded list of pdb files -- deprecated, still used when loading F2D files locally, without\n    //having loaded a manifest first. And probably in some other cases.\n\n    loadedDbFiles = {\n      ids: {},\n      attrs: {},\n      offsets: {},\n      values: {},\n      avs: {}\n    };\n\n    filesToRequest.push({ filename: dbfiles.attrs.length ? dbfiles.attrs[0] : "objects_attrs.json.gz", storage: loadedDbFiles.attrs });\n    filesToRequest.push({ filename: dbfiles.values.length ? dbfiles.values[0] : "objects_vals.json.gz", storage: loadedDbFiles.values });\n    filesToRequest.push({ filename: dbfiles.avs.length ? dbfiles.avs[0] : "objects_avs.json.gz", storage: loadedDbFiles.avs });\n    filesToRequest.push({ filename: dbfiles.offsets.length ? dbfiles.offsets[0] : "objects_offs.json.gz", storage: loadedDbFiles.offsets });\n\n    // Loading the externalId table is optional\n    if (!loadContext.skipExternalIds) {\n      filesToRequest.push({ filename: dbfiles.ids.length ? dbfiles.ids[0] : "objects_ids.json.gz", storage: loadedDbFiles.ids });\n    }\n  }\n\n  var filesRemaining = filesToRequest.length;\n  var filesFailed = 0;\n\n  function onRequestCompletion(data) {\n\n    filesRemaining--;\n\n    // Rough estimate for progress. Although we just count received files here,\n    // it already helps to signficantly reduce the perceived "nothing happens" time periods.\n    //\n    // Tracking the progress of single requests would be more accurate, but:\n    //  - Attaching an onprogress handler to XHR would cause it to consume 2-3x more memory,\n    //    because it has to receive the data as text and then convert to array buffer on the fly.\n    //  - Due to the content encoding, the progress callbacks wouldn\'t know the file size, but only\n    //    the amount of transferred data, so that they wouldn\'t help much.\n    _this.postMessage({\n      cbId: loadContext.cbId,\n      progress: {\n        // Having all files loaded doesn\'t mean we are fully done. Reserve 5 percent for the rest.\n        percent: 95 * (filesToRequest.length - filesRemaining) / filesToRequest.length\n      }\n    });\n\n    if (!data)\n    filesFailed++;\n\n    // If all of the files we\'ve requested have been retrieved, create the\n    // property database.  Otherwise, request the next required file.\n    //\n    if (!filesRemaining) {\n      if (filesFailed) {\n        cacheEntry.error = true;\n        onPropertyPackLoadComplete(null);\n        while (cacheEntry.waitingCallbacks.length) {\n          cacheEntry.waitingCallbacks.shift()(null);\n        }\n      } else {\n\n        //De-reference the result buffer from this array so that\n        //it can be freed on the fly when the PropertyDatabases parses itself\n        filesToRequest.forEach(function (f) {\n          f.storage = null;\n        });\n\n        //Store the property db instance in its cache entry\n        try {\n          cacheEntry.pdb = new _lmvtk_common_Propdb__WEBPACK_IMPORTED_MODULE_1__.PropertyDatabase(loadedDbFiles);\n          cacheEntry.pdb.refCount = 0; //will be incremented by the success callback\n          cacheEntry.loaded = true;\n          cacheEntry.dbFiles = filesToRequest;\n\n          cacheEntry.timestamp = Date.now();\n\n          //TODO: revise this to use the pdb.byteSize() call once it\'s merged in.\n          cacheEntry.byteSize = 0;\n          for (let f in loadedDbFiles) {\n            for (let p in loadedDbFiles[f]) {\n              let fdata = loadedDbFiles[f][p];\n              cacheEntry.byteSize += fdata && fdata.byteLength;\n            }\n          }\n\n          for (let p in loadedDbFiles.dbid) {\n            var b = loadedDbFiles.dbid[p];\n            cacheEntry.dbidOldToNew = new Int32Array(b.buffer, b.byteOffset, b.byteLength / 4);\n            break;\n          }\n\n          onPropertyPackLoadComplete(cacheEntry.pdb, cacheEntry.dbidOldToNew);\n\n          while (cacheEntry.waitingCallbacks.length) {\n            cacheEntry.waitingCallbacks.shift()(cacheEntry.pdb, cacheEntry.dbidOldToNew);\n          }\n        }\n        catch (err) {\n          onPropertyPackLoadComplete(null, null, err && err.message);\n        }\n      }\n    }\n  }\n  // Request the files.\n  //\n  filesToRequest.forEach(function (f) {\n    requestFile(f.filename, loadContext, onRequestCompletion, f.storage, f.isShared);\n  });\n}\n\n\nfunction requestFile(filename, loadContext, onRequestCompletion, storage, isShared) {\n\n  function onFailure(status, statusText, data) {\n    // We\'re explicitly ignoring missing property files.\n    if (status !== 404) {\n      loadContext.onFailureCallback(status, statusText, data);\n    }\n    onRequestCompletion(null);\n  }\n\n  var url;\n  if (filename.indexOf("://") !== -1 || filename.indexOf("urn:") === 0) {\n    url = filename;\n  } else {\n    url = (loadContext.dbPath || \'\') + filename;\n  }\n\n  var fullPath = _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.generateUrl(loadContext.endpoint, "items", url);\n\n  var onSuccess = function (response)\n  {\n    //Cache for future reuse\n    if (isShared) {\n      loadContext.worker.pdbCache && loadContext.worker.pdbCache.setFile(fullPath, response);\n    }\n\n    storage[fullPath] = response;\n    onRequestCompletion(response);\n  };\n\n  //Fulfill the request from cache if available\n  var cacheEntry = loadContext.worker.pdbCache && loadContext.worker.pdbCache.getFile(fullPath);\n  if (cacheEntry) {\n    cacheEntry.refCount++;\n    onSuccess(cacheEntry.data);\n  } else {\n    _net_Xhr__WEBPACK_IMPORTED_MODULE_0__.ViewingService.getItem(loadContext, url, onSuccess, onFailure);\n  }\n\n}\n\nfunction createTree(node, parent, dbToFrag, nodeStorage) {\n  var dbId = node.dbId;\n  var children = node.children;\n  var childrenIds = [];\n  if (children) {\n    for (var j = 0; j < children.length; j++) {\n      var childHasChildren = createTree(children[j], dbId, dbToFrag, nodeStorage);\n\n      if (childHasChildren)\n      childrenIds.push(children[j].dbId);\n    }\n  }\n\n  var fragIds;\n\n  //leaf node\n  if (dbToFrag) {\n    var frags = dbToFrag[dbId];\n    if (frags !== undefined) {\n      if (!Array.isArray(frags))\n      fragIds = [frags];else\n\n      fragIds = frags;\n    }\n  }\n\n  var childCount = childrenIds.length + (fragIds ? fragIds.length : 0);\n  if (childCount) {\n    nodeStorage.setNode(dbId, parent, node.name.toString(), 0, childrenIds, fragIds);\n  }\n  return childCount;\n}\n\nfunction doObjectTreeCreate(loadContext) {\n  var _this = loadContext.worker;\n  var gltfTree = loadContext.gltfTree;\n  var dbToFragId = loadContext.dbToFragId;\n  var nodeStorage = new _wgs_scene_InstanceTreeStorage__WEBPACK_IMPORTED_MODULE_2__.InstanceTreeStorage();\n\n  createTree(gltfTree, 0, dbToFragId, nodeStorage);\n  nodeStorage.flatten();\n\n  _this.postMessage({ cbId: loadContext.cbId,\n    result: {\n      rootId: gltfTree.dbId,\n      instanceTreeStorage: nodeStorage\n    }\n  });\n}\n\nfunction doObjectTreeParse(loadContext) {\n\n  var _this = loadContext.worker;\n\n  function onPropertyPackLoadComplete(propertyDb, dbidOldToNew, errorMessage) {\n    if (!propertyDb) {\n      _this.postMessage({\n        cbId: loadContext.cbId,\n        error: { instanceTree: null, maxTreeDepth: 0, err: errorMessage }\n      });\n      return;\n    }\n\n    propertyDb.refCount++;\n\n    //Find the root object:\n    //TODO: internalize this into the pdb object.\n    if (!loadContext.skipInstanceTreeResult && !propertyDb.rootsDone) {\n      propertyDb.idroots = propertyDb.findRootNodes();\n      propertyDb.rootsDone = true;\n    }\n\n    var rootId;\n    var maxDepth = [0];\n\n    var transferList = [];\n    var storage;\n    let nodeAccess = null;\n\n    var fragToDbId = loadContext.fragToDbId;\n\n    // Only need to rebuild fragToDbId using the old IDs in F2D case.\n    if (loadContext.needsDbIdRemap && loadContext.is2d) {\n      if (!dbidOldToNew) {\n        console.warn("ID remap required, but not loaded.");\n      } else if (!fragToDbId) {\n        console.warn("No frag->dbid mapping!.");\n      } else {\n\n        //Replace the frag2dbid mapping by a new one using the\n        //correct property db v2 ids.\n        var old2new = dbidOldToNew;\n        var fr2id = [];\n\n        for (var i = 0; i < fragToDbId.length; i++) {\n\n          var d = fragToDbId[i];\n\n          if (!Array.isArray(d)) {\n            fr2id[i] = old2new[d];\n          } else {\n            fr2id[i] = [];\n            for (var j = 0; j < d.length; j++) {\n              fr2id[i][j] = old2new[d[j]];\n            }\n          }\n        }\n\n        fragToDbId = fr2id;\n      }\n    }\n\n    //In the cases of 2D drawings, there is no meaningful\n    //object hierarchy, so we don\'t build a tree.\n    var idroots = propertyDb.idroots;\n    if (idroots && idroots.length)\n    {\n      storage = new _wgs_scene_InstanceTreeStorage__WEBPACK_IMPORTED_MODULE_2__.InstanceTreeStorage();\n\n      if (idroots.length == 1 && propertyDb.nodeHasChild(idroots[0])) {\n        //Case of a single root in the property database,\n        //use that as the document root.\n        rootId = idroots[0];\n        propertyDb.buildObjectTree(rootId, fragToDbId, maxDepth, storage);\n      } else\n      {\n        //Case of multiple nodes at the root level\n        //This happens in DWFs coming from Revit.\n        //Create a dummy root and add all the other roots\n        //as its children.\n        rootId = -1e10; // Big negative number to prevent conflicts with F2D\n        var childrenIds = [];\n\n        for (var i = 0; i < idroots.length; i++) {\n          propertyDb.buildObjectTree(idroots[i], fragToDbId, maxDepth, storage);\n          childrenIds.push(idroots[i]);\n        }\n\n        storage.setNode(rootId, 0, "", 0, childrenIds, false);\n      }\n\n      storage.flatten();\n      transferList.push(storage.nodes.buffer);\n      transferList.push(storage.children.buffer);\n      transferList.push(storage.strings.buf.buffer);\n      transferList.push(storage.strings.idx.buffer);\n\n\n      //Now compute the bounding boxes for instance tree nodes\n      if (loadContext.fragBoxes) {\n        nodeAccess = new _wgs_scene_InstanceTreeStorage__WEBPACK_IMPORTED_MODULE_2__.InstanceTreeAccess(storage, rootId);\n        nodeAccess.computeBoxes(loadContext.fragBoxes);\n        transferList.push(nodeAccess.nodeBoxes.buffer);\n      }\n    }\n\n    _this.postMessage({ cbId: loadContext.cbId,\n      result: {\n        rootId: rootId,\n        instanceTreeStorage: storage,\n        instanceBoxes: !!nodeAccess ? nodeAccess.nodeBoxes : undefined,\n        dbidOldToNew: loadContext.needsDbIdRemap ? dbidOldToNew : null, //If we have a dbId mapping (from new OTG dbIds to old F2D dbIds send it to the main thread.\n        maxTreeDepth: maxDepth[0],\n        objectCount: propertyDb.getObjectCount()\n      }\n    }, transferList);\n  }\n\n  loadPropertyPacks(loadContext, null, onPropertyPackLoadComplete);\n}\n\nfunction doPropertySearch(loadContext) {\n\n  var _this = loadContext.worker;\n\n  var cacheEntry = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n\n  if (cacheEntry && cacheEntry.pdb) {\n    const searchText = loadContext.searchText;\n    var result = cacheEntry.pdb.bruteForceSearch(searchText, loadContext.attributeNames, loadContext.searchOptions);\n    _this.postMessage({ cbId: loadContext.cbId, result: result });\n  }\n\n}\n\nfunction doPropertyDiff(loadContext) {\n\n  var _this = loadContext.worker;\n\n  // get property dbs to compare\n  var cacheEntry1 = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n  var cacheEntry2 = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath2);\n  var pdb1 = cacheEntry1 && cacheEntry1.pdb;\n  var pdb2 = cacheEntry2 && cacheEntry2.pdb;\n\n  // send messages for progress events to main thread\n  var onProgress = function (percent) {\n    loadContext.worker.postMessage({\n      cbId: loadContext.cbId,\n      progress: { percent: percent }\n    });\n  };\n\n  if (pdb1 && pdb2) {\n    var result = pdb1.findDifferences(pdb2, loadContext.diffOptions, onProgress);\n    _this.postMessage({ cbId: loadContext.cbId, result: result });\n  }\n}\n\nfunction doPropertyFind(loadContext) {\n\n  var _this = loadContext.worker;\n\n  var cacheEntry = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n\n  if (cacheEntry && cacheEntry.pdb) {\n    var result = cacheEntry.pdb.bruteForceFind(loadContext.propertyName);\n    _this.postMessage({ cbId: loadContext.cbId, result: result });\n  }\n\n}\n\nfunction doLayersFind(loadContext) {\n  var _this = loadContext.worker;\n\n  var cacheEntry = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n\n  if (cacheEntry && cacheEntry.pdb) {\n    var result = cacheEntry.pdb.findLayers();\n    _this.postMessage({ cbId: loadContext.cbId, result: result });\n  }\n}\n\nfunction searchTree(node, dbId, result) {\n  if (Object.keys(result).length > 0) {\n    return;\n  }\n\n  if (dbId == node.dbId) {\n    result[\'name\'] = node.name;\n    result[\'dbId\'] = dbId;\n    return;\n  }\n\n  var children = node.children;\n  if (children) {\n    for (var j = 0; j < children.length; j++) {\n      searchTree(children[j], dbId, result);\n    }\n  }\n}\n\nfunction getPropertyResults(loadContext) {\n  var _this = loadContext.worker;\n\n  var cacheEntry = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n\n  if (!cacheEntry || !cacheEntry.pdb) {\n    if (loadContext.gltfTree) {\n      var gltfTree = loadContext.gltfTree;\n      var result = {};\n      searchTree(gltfTree, loadContext.dbId, result);\n      return result;\n    }\n    return;\n  }\n\n  var dbId = loadContext.dbId;\n  var dbIds = loadContext.dbIds;\n  var propFilter = loadContext.propFilter;\n  var ignoreHidden = loadContext.ignoreHidden;\n  var categoryFilter = loadContext.categoryFilter;\n  const fileType = loadContext.fileType;\n\n  if (typeof dbIds !== "undefined") {\n    var results = [];\n    if (dbIds && dbIds.length) {\n      for (var i = 0; i < dbIds.length; i++) {\n        var result = cacheEntry.pdb.getObjectProperties(dbIds[i], propFilter, ignoreHidden, undefined, categoryFilter);\n        if (result)\n        results.push(result);\n      }\n    } else {//If dbIds is empty, return results for all objects (i.e. no ID filter)\n      for (var i = 1, last = cacheEntry.pdb.getObjectCount(); i <= last; i++) {\n        var result = cacheEntry.pdb.getObjectProperties(i, propFilter, ignoreHidden, undefined, categoryFilter);\n        if (result)\n        results.push(result);\n      }\n    }\n    return results;\n  } else {\n    var result = cacheEntry.pdb.getObjectProperties(dbId, propFilter, undefined, undefined, categoryFilter);\n    return result;\n  }\n}\n\nfunction doPropertyGet(loadContext) {\n  var results = getPropertyResults(loadContext);\n  if (!results) {\n    loadContext.worker.postMessage({ cbId: loadContext.cbId, error: { msg: "Properties are not available." } });\n  } else {\n    loadContext.worker.postMessage({ cbId: loadContext.cbId, result: results });\n  }\n}\n\nfunction doPropertySetGet(loadContext) {\n  var results = getPropertyResults(loadContext);\n  if (!results) {\n    loadContext.worker.postMessage({ cbId: loadContext.cbId, error: { msg: "Properties are not available." } });\n  }\n\n  var map = {};\n  var names = [];\n\n  // Process the results and generate a map.\n  // The map\'s keys are "displayCategory/displayName" and the map\'s values are all of the properties containing the same name and category.\n  for (var i = 0; i < results.length; ++i) {\n    var result = results[i];\n    const props = result.properties;\n\n    // Not every document type has a proper externalId\n    // We will handle only RVT which has translatable from Hex to Decimal value\n    if (loadContext.fileType === \'rvt\') {\n      try {\n        let elementId;\n\n        // Check if the properties include an element ID already\n        const elementIdProperty = props.find((each) => each.attributeName === "ElementId");\n\n        if (elementIdProperty) {\n          elementId = elementIdProperty.displayValue;\n        }\n\n        // Or fall back and generate it from the external ID, if the external ID is present\n        if (result.externalId && !elementId) {\n          const externalIdSplit = result.externalId.split(\'-\');\n\n          if (externalIdSplit.length) {\n            elementId = parseInt(externalIdSplit[externalIdSplit.length - 1], 16);\n          }\n        }\n\n        // since in this context we don\'t know either model OTG/SVF, we will add elementId only if name isn\'t already included\n        if (elementId && !result.name.includes(elementId)) {\n          result.name += ` [${elementId}]`;\n        }\n      } catch (e) {\n        // We don\'t want failures to generate ElementId to fail the whole PropertySet process.\n        console.warn(`Caught error in updating ElementIds, object with dbId ${result.dbId} skipped`, e);\n      }\n    }\n\n    props.forEach(function (prop) {\n      // The category is always present for revit but not fusion.\n      // Make sure to add a Name key to the property set map.\n      if (prop.displayName === \'Name\' && !prop.displayCategory) {\n        // Keep track of the Name entries.\n        names.push(result.name);\n      }\n\n      var identifier = !prop.displayCategory ? prop.displayName : `${prop.displayCategory}/${prop.displayName}`;\n      if (!map.hasOwnProperty(identifier)) {\n        map[identifier] = [];\n      }\n      prop.parentName = result.name;\n      prop.dbId = result.dbId;\n      map[identifier].push(prop);\n    });\n\n    // Add a Name key to the property set map.\n    if (result.hasOwnProperty(\'name\') && names.indexOf(result.name) === -1) {\n      if (!map.hasOwnProperty(\'Name\')) {\n        map[\'Name\'] = [];\n      }\n\n      map[\'Name\'].push({\n        displayName: \'Name\',\n        displayValue: result.name,\n        displayCategory: null,\n        attributeName: \'Name\',\n        type: 20,\n        units: null,\n        hidden: false,\n        precision: 0,\n        dbId: result.dbId,\n        parentName: result.name\n      });\n    }\n  }\n  names = [];\n  map["__selected_dbIds__"] = loadContext.dbIds;\n  loadContext.worker.postMessage({ cbId: loadContext.cbId, result: map });\n}\n\n\nfunction doBuildExternalIdMapping(loadContext) {\n\n  var _this = loadContext.worker;\n\n  var cacheEntry = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n\n  if (cacheEntry && cacheEntry.pdb) {\n    var mapping = cacheEntry.pdb.getExternalIdMapping(loadContext.extIdFilter);\n    _this.postMessage({ cbId: loadContext.cbId, result: mapping });\n  }\n}\n\nfunction doBuildLayerToNodeIdMapping(loadContext) {\n  var _this = loadContext.worker;\n\n  var cacheEntry = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n\n  if (cacheEntry && cacheEntry.pdb) {\n    var mapping = cacheEntry.pdb.getLayerToNodeIdMapping();\n    _this.postMessage({ cbId: loadContext.cbId, result: mapping });\n  }\n}\n\nfunction doUnloadPropertyDb(loadContext) {\n  var _this = loadContext.worker;\n\n  if (loadContext.clearCaches) {\n    _this.pdbCache = null;\n    return;\n  }\n\n  _this.pdbCache && _this.pdbCache.delete(loadContext.dbPath);\n}\n\n// Required params\n//  @param {string} loadContext.dbPath\n//  @param {string} loadContext.idsFile - filename of the ids-file\n//  @param {string} loadContext.cbId    - worker callback id\n//  @param {Object} loadContext.worker  - global worker context\n//\n// Preconditions:\n//  - PropDbLoader makes sure that this task is not called before propDb finished loading. (see asyncPropertyOperation in PropDblLoader)\nfunction doLoadExternalIds(loadContext) {\n\n  var _this = loadContext.worker;\n\n  // Deprecated case: If pdbFiles are not known use hard-wired one (see comment in loadPropertyPacks)\n  var idsFileEntry = loadContext.idsFile || { path: "objects_ids.json.gz" };\n\n  // After loading, storage[fullPath] will contain the response blob.\n  var storage = {};\n\n  // Purpose of doLoadExternalIds is to delay-load the ids for a PropDb.\n  // If this propDb is not loaded and not even requested to load, we cannot add externalIds to it.\n  var cacheEntry = _this.pdbCache.get(loadContext.dbPath);\n  if (!cacheEntry) {\n    console.error(\'Delay-loading of externalIDs requires to load the propDb first.\');\n    return;\n  }\n\n  // Skip here if we have the ids already. Note that this will usually be prevented by propDbLoader already.\n  if (cacheEntry.pdb && cacheEntry.pdb.externalIdsLoaded()) {\n    _this.postMessage({ cbId: loadContext.cbId });\n    return;\n  }\n\n  // Receives ids-file blob (or null on failure)\n  var onDone = function (data) {\n\n    if (!data) {\n      // Loading failed. requestFile() already posted an error message in this case.\n      return;\n    }\n\n    // Find propertyDB in cache that we want to load ids for\n    let pdbCache = _this.pdbCache;\n    cacheEntry = pdbCache.get(loadContext.dbPath);\n    if (!cacheEntry || !cacheEntry.pdb) {\n\n      // PropDBLoader delays id-loading until propertyDB finished loading.\n      // So, if we get here and cannot find the propDb, we can assume that the propertyDb must have been unloaded meanwhile.\n\n      // Make sure that we don\'t leak the blob in the file-cache (requestFile adds the reference automatically)\n      pdbCache.unrefFileCacheEntry(storage);\n\n      // Send message to inform that waiting makes no sense anymore, because\n      // propDb has been unloaded meanwhile.\n      _this.postMessage({\n        cbId: loadContext.cbId,\n        error: {\n          propDbWasUnloaded: true\n        }\n      });\n    }\n\n    // Make ids available in pdb\n    cacheEntry.pdb.setIdsBlob(data);\n    cacheEntry.byteSize += data.byteLength;\n\n    // Append entry to cacheEntry.dbFiles. This makes sure that the id file blob is released just like\n    // all other dbFiles when the propDb is unloaded later. (see unloadPropertyDb)\n    var newFile = {\n      filename: idsFileEntry.path,\n      storage: storage\n    };\n    cacheEntry.dbFiles.push(newFile);\n\n    // Signal that we are done - main thread is now ready to query externalIds.\n    _this.postMessage({ cbId: loadContext.cbId });\n  };\n\n  requestFile(idsFileEntry.path, loadContext, onDone, storage, idsFileEntry.isShared);\n}\n\nfunction doExecuteCode(loadContext) {\n\n  var _this = loadContext.worker;\n\n  //This is expected to load a function named "userFunction"\n  if (loadContext.userFunction) {\n    try {\n      importScripts(loadContext.userFunction);\n    } catch (err) {\n      console.error(err);\n      _this.postMessage({ cbId: loadContext.cbId, error: { msg: "Error while importing \'userFunction\'." } });\n      return;\n    }\n  }\n\n  if (!self.userFunction) {\n    _this.postMessage({ cbId: loadContext.cbId, error: { msg: "function \'userFunction\' was not found." } });\n    return;\n  }\n\n  var cacheEntry = _this.pdbCache && _this.pdbCache.get(loadContext.dbPath);\n\n  if (cacheEntry && cacheEntry.pdb) {\n    var result;\n    try {\n      result = self.userFunction(cacheEntry.pdb, loadContext.userData);\n    } catch (err) {\n      console.error(err);\n      _this.postMessage({ cbId: loadContext.cbId, error: { msg: "Error while executing \'userFunction\'." } });\n      return;\n    } finally {\n      self.userFunction = undefined; // cleanup\n    }\n    _this.postMessage({ cbId: loadContext.cbId, result: result });\n  }\n}\n\nfunction register(workerMain) {\n  workerMain.register("BUILD_EXTERNAL_ID_MAPPING", { doOperation: doBuildExternalIdMapping });\n  workerMain.register("BUILD_LAYER_TO_NODE_ID_MAPPING", { doOperation: doBuildLayerToNodeIdMapping });\n  workerMain.register("GET_PROPERTIES", { doOperation: doPropertyGet });\n  workerMain.register("GET_PROPERTY_SET", { doOperation: doPropertySetGet });\n  workerMain.register("SEARCH_PROPERTIES", { doOperation: doPropertySearch });\n  workerMain.register("DIFF_PROPERTIES", { doOperation: doPropertyDiff });\n  workerMain.register("FIND_PROPERTY", { doOperation: doPropertyFind });\n  workerMain.register("FIND_LAYERS", { doOperation: doLayersFind });\n  workerMain.register("LOAD_PROPERTYDB", { doOperation: doObjectTreeParse });\n  workerMain.register("CREATE_TREE", { doOperation: doObjectTreeCreate });\n  workerMain.register("UNLOAD_PROPERTYDB", { doOperation: doUnloadPropertyDb });\n  workerMain.register("USER_FUNCTION", { doOperation: doExecuteCode });\n  workerMain.register("LOAD_EXTERNAL_IDS", { doOperation: doLoadExternalIds });\n}\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/SvfWorker.js":\n/*!***********************************************!*\\\n  !*** ./src/file-loaders/workers/SvfWorker.js ***!\n  \\***********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _lmvtk_svf_Package__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lmvtk/svf/Package */ "./src/file-loaders/lmvtk/svf/Package.js");\n/* harmony import */ var _lmvtk_common_InputStream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lmvtk/common/InputStream */ "./src/file-loaders/lmvtk/common/InputStream.js");\n/* harmony import */ var _net_Xhr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../net/Xhr */ "./src/file-loaders/net/Xhr.js");\n/* harmony import */ var _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../net/ErrorCodes */ "./src/file-loaders/net/ErrorCodes.js");\n\n\n\n\n\nfunction guardFunction(loadContext, func)\n{\n  try {\n    func();\n  }\n  catch (exc) {\n    loadContext.worker.raiseError(\n      _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.ErrorCodes.BAD_DATA, "Unhandled exception while loading SVF",\n      { "url": loadContext.url, "exception": exc.toString(), "stack": exc.stack });\n    loadContext.worker.postMessage(null);\n  }\n}\n\nfunction doLoadSvfContinued(loadContext)\n{\n  var _this = loadContext.worker;\n\n  guardFunction(loadContext, function () {\n    var svf = loadContext.svf;\n    function loadDoneCallback(type, meshMessage) {\n      if (type == "svf") {\n\n        var msg, xfer;\n        var frags = svf.fragments;\n        var transferable = [\n        frags.transforms.buffer,\n        frags.packIds.buffer,\n        frags.entityIndexes.buffer,\n        frags.fragId2dbId.buffer,\n        frags.visibilityFlags.buffer];\n\n\n        if (svf.bvh) {\n          // BVH is posted together with svf,\n          // so can add more buffer to transfer.\n          xfer = {\n            nodes: svf.bvh.nodes.getRawData(),\n            primitives: svf.bvh.primitives,\n            useLeanNodes: svf.bvh.nodes.bytes_per_node == 32\n          };\n          transferable.push(xfer.nodes);\n          transferable.push(xfer.primitives.buffer);\n\n          // Then can safely transfer following buffers from fragments.\n          transferable.push(frags.boxes.buffer);\n          transferable.push(frags.polygonCounts.buffer);\n          transferable.push(frags.materials.buffer);\n\n          msg = { "svf": svf, "bvh": xfer, progress: 1.0 };\n        } else\n        {\n          msg = { "svf": svf, progress: 0.8 };\n        }\n\n        _this.postMessage(msg, transferable);\n      } else if (type == "bvh") {\n        xfer = {\n          nodes: svf.bvh.nodes.getRawData(),\n          primitives: svf.bvh.primitives,\n          useLeanNodes: svf.bvh.nodes.bytes_per_node == 32\n        };\n\n        _this.postMessage({ "bvh": xfer, basePath: svf.basePath, progress: 1.0 },\n        [xfer.nodes, xfer.primitives.buffer]);\n\n      } else if (type == "mesh") {\n\n        var transferList = [];\n        if (meshMessage.mesh)\n        transferList.push(meshMessage.mesh.vb.buffer);\n\n        _this.postMessage(meshMessage, transferList);\n\n      } else if (type == "done") {\n        _this.postMessage({ progress: 1.0 });\n      } else\n      {\n        _this.raiseError(\n          _net_ErrorCodes__WEBPACK_IMPORTED_MODULE_3__.ErrorCodes.BAD_DATA, "Failure while loading SVF",\n          { "url": loadContext.url });\n        _this.postMessage(null);\n      }\n    }\n\n    loadContext.loadDoneCB = loadDoneCallback;\n\n    svf.loadRemainingSvf(loadContext);\n  });\n}\n\nfunction doLoadSvf(loadContext) {\n\n  var _this = loadContext.worker;\n\n  _this.postMessage({ progress: 0.01 }); //Tell the main thread we are alive\n\n  var type = "svf";\n\n  function onSuccess(result) {\n\n    _this.postMessage({ progress: 0.5 }); //rough progress reporting -- can do better\n\n    guardFunction(loadContext, function () {\n\n      // result is arraybuffer\n      var svf = new _lmvtk_svf_Package__WEBPACK_IMPORTED_MODULE_0__.Package(new Uint8Array(result));\n      loadContext.svf = svf;\n      svf.loadManifest(loadContext);\n\n\n      if (loadContext.interceptManifest) {\n        _this.postMessage({ "manifest": svf.manifest });\n      } else {\n        loadContext.manifest = svf.manifest;\n        doLoadSvfContinued(loadContext);\n      }\n    });\n  }\n\n  var options = {\n    responseType: "arraybuffer"\n  };\n\n  // Begin download the target SVF file with a GET request.\n  _net_Xhr__WEBPACK_IMPORTED_MODULE_2__.ViewingService.getItem(loadContext, loadContext.url, onSuccess, loadContext.onFailureCallback, options);\n\n  if (type === "svf") {\n    // Prefetch the first geometry pack (we assume there is one) to mask \n    // some latency. Note that errors are intentionally ignored here.\n    _net_Xhr__WEBPACK_IMPORTED_MODULE_2__.ViewingService.getItem(loadContext, loadContext.basePath + "0.pf", function () {}, function () {}, options);\n  }\n}\n\n\nfunction doFetchTopology(loadContext) {\n\n  var _this = loadContext.worker;\n  _net_Xhr__WEBPACK_IMPORTED_MODULE_2__.ViewingService.getItem(loadContext, loadContext.path, onSuccess, onFailure);\n\n  // on success\n  function onSuccess(data) {\n\n    _this.postMessage({ "status-topology": {} }); // download is complete\n\n    // This lines below may take a while...\n    var topology = null;\n    try {\n      var jdr = new _lmvtk_common_InputStream__WEBPACK_IMPORTED_MODULE_1__.InputStream(data);\n      var byteLength = data.byteLength;\n      if (0 < byteLength) {\n        topology = JSON.parse(jdr.getString(byteLength));\n      }\n      if (topology) {\n        _this.postMessage({ "fetch-topology": { error: null, topology: topology } }); // parsing is complete\n      } else {\n        onFailure(\'topology-no-content\');\n      }\n    } catch (eee) {\n      onFailure(eee);\n    }\n  }\n\n  // on-failure\n  function onFailure(err) {\n    _this.postMessage({ "fetch-topology": { error: err, topology: null } }); // something went wrong\n  }\n}\n\nfunction register(workerMain) {\n  workerMain.register("LOAD_SVF", { doOperation: doLoadSvf });\n  workerMain.register("LOAD_SVF_CONTD", { doOperation: doLoadSvfContinued });\n  workerMain.register("FETCH_TOPOLOGY", { doOperation: doFetchTopology });\n}\n\n/***/ }),\n\n/***/ "./src/global.js":\n/*!***********************!*\\\n  !*** ./src/global.js ***!\n  \\***********************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGlobal: () => (/* binding */ getGlobal)\n/* harmony export */ });\n/**\n * Functions on the global scope need to be called with the global scope as their \'this\' context.\n * Therefore, we can\'t simply return function properties from the global scope proxy like other properties.\n * We create another (temporary) proxy instead, which implements the \'apply\' hook.\n * Invoking a function through this hook will ensure the correct \'this\' context inside of the function.\n * \n * @param {Object} globalScope The global scope that the function is a property of (e.g. window).\n * @param {Function} func The function property that is accessed through the global scope proxy.\n * @returns {Proxy} A new proxy that forwards function invocations so that the \'this\' context of the invoked function\n *   is set up properly.\n */\nfunction createFunctionProxy(globalScope, func) {\n  return new Proxy(func, {\n    get(obj, prop) {\n      return obj[prop];\n    },\n    apply(target, thisArg, argumentsList) {\n      return target.call(globalScope || thisArg, ...argumentsList);\n    }\n  });\n}\n\n// A helper method to get an app-specific namespace under the global scope, or create it if it\'s not present yet.\nfunction getAppNamespace(globalScope) {\n  return globalScope[globalScope.LMV_APP_NAMESPACE] = globalScope[globalScope.LMV_APP_NAMESPACE] || {};\n}\n\n/**\n * Returns the global object of the current environment (e.g. window in a browser).\n * If `USE_LMV_APP_NAMESPACES` is set to `true` on the global scope, the returned value will be a proxy that intercepts\n * set operations on non-existing properties and writes the value to an app-specific namespace instead. The actual\n * property on the window object is a placeholder that forwards read and write operations to the app-specific version.\n *\n * Example:\n * Given that window.LMV_APP_NAMESPACE is \'myApp\' and window.Autodesk does not exist yet\n *\n * getGlobal().Autodesk = {}\n *\n * will be rewritten as\n *\n * window.myApp.Autodesk = {};\n * window.Autodesk = Placeholder that forwards to window[window.LMV_APP_NAMESPACE].Autodesk\n *\n * Changing window.LMV_APP_NAMESPACE to \'myOtherApp\' will then rewrite\n *\n * window.Autodesk to window.myOtherApp.Autodesk\n *\n * @returns {Object} The global scope of the environment.\n */\nfunction getGlobal() {\n  // Determine the global scope of the environment\n  const globalScope = typeof window !== "undefined" && window !== null ?\n  window :\n  typeof self !== "undefined" && self !== null ?\n  self :\n  __webpack_require__.g;\n\n  // If app namespaces are used, create and return a proxy instead of the actual global scope object.\n  if (globalScope.USE_LMV_APP_NAMESPACES) {\n    if (!globalScope.globalProxy) {\n      // The proxy is a singleton that will only be created once, even across multiple viewer bundles.\n      globalScope.globalProxy = new Proxy({}, {\n        // Get requests are simply forwarded to the global scope.\n        // Functions get some special treatment, because they need to invoked with the global scope as their\n        // \'this\' context.\n        get(obj, prop) {\n          let value = globalScope[prop];\n          if (typeof value === \'function\') {\n            return createFunctionProxy(globalScope, value);\n          }\n          return value;\n        },\n        // Set requests are intercepted to create properties in app-specific namespaces.\n        set(obj, prop, value) {\n          if (Object.prototype.hasOwnProperty.call(globalScope, prop)) {\n            // Don\'t proxy existing properties\n            if (globalScope[prop] !== value)\n            globalScope[prop] = value;\n          } else {\n            // Create the property under the app\'s namespace and inject a proxy object in the global\n            // scope that forwards to the namespaced property.\n            getAppNamespace(globalScope)[prop] = value;\n            Object.defineProperty(globalScope, prop, {\n              get: () => {return getAppNamespace(globalScope)[prop];},\n              set: (value) => {getAppNamespace(globalScope)[prop] = value;}\n            });\n          }\n          return true; // Proxy setters must return true\n        }\n      });\n    }\n\n    return globalScope.globalProxy;\n  } else {\n    return globalScope;\n  }\n}\n\n/***/ }),\n\n/***/ "./src/globals.js":\n/*!************************!*\\\n  !*** ./src/globals.js ***!\n  \\************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DISABLE_FORGE_CANVAS_LOGO: () => (/* binding */ DISABLE_FORGE_CANVAS_LOGO),\n/* harmony export */   DISABLE_FORGE_LOGO: () => (/* binding */ DISABLE_FORGE_LOGO),\n/* harmony export */   fromUrlSafeBase64: () => (/* binding */ fromUrlSafeBase64),\n/* harmony export */   getHtmlTemplate: () => (/* binding */ getHtmlTemplate),\n/* harmony export */   getParameterByName: () => (/* binding */ getParameterByName),\n/* harmony export */   getParameterByNameFromPath: () => (/* binding */ getParameterByNameFromPath),\n/* harmony export */   getResourceUrl: () => (/* binding */ getResourceUrl),\n/* harmony export */   getScript: () => (/* binding */ getScript),\n/* harmony export */   injectCSS: () => (/* binding */ injectCSS),\n/* harmony export */   isExperimentalFlagEnabled: () => (/* binding */ isExperimentalFlagEnabled),\n/* harmony export */   stringToDOM: () => (/* binding */ stringToDOM),\n/* harmony export */   toUrlSafeBase64: () => (/* binding */ toUrlSafeBase64)\n/* harmony export */ });\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compat */ "./src/compat.js");\n\n\n\nvar g = (0,_compat__WEBPACK_IMPORTED_MODULE_0__.getGlobal)();\nvar _window = g;\nvar _document = _window && _window.document;\n\ng.USE_FETCH_API = true;\n\ng.LOCALIZATION_REL_PATH = "";\n\n/**\n * Contains the Viewer\'s version.\n *\n * @type {string}\n * @global\n */\ng.LMV_VIEWER_VERSION = "7.93.1";\n\ng.LMV_BUILD_TYPE = "Production";\ng.LMV_RESOURCE_ROOT = "";\n\n/** Allows for external code, e.g. collosseum tests, to check which version is used. */\ng.LMV_IS_FLUENT_BUILD = false;\n\n/**\n * When true, non-OTG resources (i.e. 2D documents, image files) will get fetched directly from DS.\n * When false, non-OTG resources will get fetched using OTG-DS proxy.\n * \n * https://git.autodesk.com/A360/firefly.js/pull/4319\n */\ng.USE_OTG_DS_PROXY = false;\n\n/**\n * When true, requests to APS are authenticated with a cookie. \n * When false, requests to APS are authenticated with an Authentication header.\n * When undefined, the viewer will first try authentication via cookie, if \n * that doesn\'t work it will fallback to using an Authentication header.\n *\n * @type {boolean|undefined}\n * @global\n * @default undefined\n */\ng.LMV_THIRD_PARTY_COOKIE = (0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)() ? false : undefined;\n\nif (g.LMV_VIEWER_VERSION.charAt(0) === \'v\') {\n  // remove prefixed \'v\'\n  // Required due to TeamCity build pipeline (LMV-1361)\n  g.LMV_VIEWER_VERSION = g.LMV_VIEWER_VERSION.substr(1);\n}\n\n\n/**\n * When true, the viewer will favor loading the PDF file over the Leaflet derivative, \n * ignoring the manifest value for `totalRasterPixels`. A true value will take precedence over {@link LMV_RASTER_PDF}.\n *\n * @type {boolean}\n * @default \n * @global\n */\ng.LMV_VECTOR_PDF = false;\n\n/**\n * When true, the viewer will favor loading the Leaflet derivative over the PDF file,\n * ignoring the manifest value for `totalRasterPixels`. When {@link LMV_RASTER_PDF} is true, this value is ignored. \n *\n * @type {boolean}\n * @default \n * @global\n */\ng.LMV_RASTER_PDF = true;\n\n/**\n * When true, LMV will remove the APS Logo spinner and the in canvas APS logo\n * Note: We disable the branding for the fluent build. For the regular build this will be enabled.\n *\n * @private\n */\nlet DISABLE_FORGE_LOGO = false;\n\n\n/**\n * When true, LMV will remove the in canvas APS logo. To remove both the in canvas and the spinner logos use DISABLE_FORGE_LOG\n *\n * @private\n */\nlet DISABLE_FORGE_CANVAS_LOGO = true; // Switch to false to enable the in-canvas logo\n\n\n// TODO:  This is here for now, until we find a better place for it.\n//\n/**\n * Returns the first source url found containing the given script name.\n *\n * @private\n * @param {string} scriptName - Script name.\n * @returns {HTMLScriptElement} The script element whose source location matches the input parameter.\n */\nfunction getScript(scriptName) {\n  scriptName = scriptName.toLowerCase();\n  var scripts = _document.getElementsByTagName(\'SCRIPT\');\n  if (scripts && scripts.length > 0) {\n    for (var i = 0; i < scripts.length; ++i) {\n      if (scripts[i].src && scripts[i].src.toLowerCase().indexOf(scriptName) !== -1) {\n        return scripts[i];\n      }\n    }\n  }\n  return null;\n}\n\n/**\n * Inject a css file into the page.\n * There\'s a callback if you need to know when it gets downloaded (rare).\n * Accepts both relative and absolute URLs.\n *\n * @param cssUrl\n * @param callback\n * @param onError\n * @private\n */\nfunction injectCSS(cssUrl, callback, onError) {\n  var href = cssUrl.indexOf(\'://\') > 0 ? cssUrl : getResourceUrl(cssUrl);\n\n  // Verify that we haven\'t downloaded it already\n  var results = _document.getElementsByTagName(\'link\');\n  for (var i = 0, len = results.length; i < len; i++) {\n    if (results[i].href === href) {\n      // Already downloaded\n      callback && callback();\n      return;\n    }\n  }\n\n  // else, download it\n  var s = _document.createElement("link");\n  s.setAttribute(\'rel\', "stylesheet");\n  s.setAttribute(\'type\', "text/css");\n  s.setAttribute(\'href\', href);\n  if (callback) {\n    s.onload = callback;\n  }\n  if (onError) {\n    s.onerror = onError;\n  }\n  _document.head.appendChild(s);\n}\n\n/**\n * Download an HTML template.\n * If successful, will invoke callback(null, templateString)\n * If failure, will invoke callback("some error", null)\n *\n * @param templateUrl\n * @param callback\n * @private\n * @deprecated\n */\nfunction getHtmlTemplate(templateUrl, callback) {\n  var href = templateUrl.indexOf(\'://\') > 0 ? templateUrl : getResourceUrl(templateUrl);\n  var request = new XMLHttpRequest();\n  request.onload = requestLoad;\n  request.onerror = requestError;\n  request.ontimeout = requestError;\n  request.open(\'GET\', href, true);\n  request.send();\n\n  /**\n   * @param err\n   * @private\n   */\n  function requestError(err) {\n    callback(err, null);\n  }\n  /**\n   * @param event\n   * @private\n   */\n  function requestLoad(event) {\n    var content = event.currentTarget.responseText;\n    callback(null, content);\n  }\n\n}\n\n/**\n * Checks whether an experimental flag has been set into the viewer\'s\' `config`\n * object, which happens to be the same as the extension\'s `options` object.\n *\n * @param flagName\n * @param config3d\n * @private\n */\nfunction isExperimentalFlagEnabled(flagName, config3d) {\n  if (!config3d || !Array.isArray(config3d.experimental))\n  return false;\n  return config3d.experimental.indexOf(flagName) !== -1;\n}\n\n\n/**\n * Returns the full url of a resource with version.\n * The version will be determined from the LMV_VIEWER_VERSION variable.\n *\n * @private\n * @param {string} resourceRelativePath - The path of the resource relative to LMV_RESOURCE_ROOT.\n * @returns {string} The full resource path.\n */\nfunction getResourceUrl(resourceRelativePath) {\n  return g.LMV_RESOURCE_ROOT + resourceRelativePath;\n}\n\n\n/**\n * Returns the query parameter value from window url\n * @param {string} name - Parameter name\n * @returns {string} - Parameter value\n * @alias Autodesk.Viewing.getParameterByName\n */\nfunction getParameterByName(name) {\n  if (typeof window === "undefined") {\n    return "";\n  }\n  return getParameterByNameFromPath(name, _window.location.href);\n}\n\n/**\n * Parameter from url\n * @param {string} name - Parameter name\n * @param {string} url - URL\n * @returns {string} - Parameter value\n * @alias Autodesk.Viewing.getParameterByNameFromPath\n */\nfunction getParameterByNameFromPath(name, url) {\n  name = name.replace(/[[]/, "\\\\[").replace(/[\\]]/, "\\\\]");\n  var regexS = "[\\\\?&]" + name + "=([^&#]*)";\n  var regex = new RegExp(regexS);\n  var results = regex.exec(url);\n  if (results == null)\n  return "";else\n\n  return decodeURIComponent(results[1].replace(/\\+/g, " "));\n}\n\n\n/**\n * Creae a dom element\n * @param {string} str - String to generate DOM object\n * @private\n */\nfunction stringToDOM(str) {\n  var d = _document.createElement("div");\n  d.innerHTML = str;\n  return d.firstChild;\n}\n\n/**\n * Convert to url-safe base 64 string\n * @param {string} str - String to convert\n * @returns - Url-safe base64 string\n * @alias Autodesk.Viewing.toUrlSafeBase64\n */\nfunction toUrlSafeBase64(str) {\n  const base64 = btoa(str).\n  replace(/\\+/g, \'-\') // Convert \'+\' to \'-\' (dash)\n  .replace(/\\//g, \'_\') // Convert \'/\' to \'_\' (underscore)\n  .replace(/=+$/, \'\'); // Remove trailing \'=\'\n\n  return base64;\n}\n\n/**\n * Decode base64 string\n * @param {string} str - String to convert\n * @returns string after decoding from base64\n * @alias Autodesk.Viewing.fromUrlSafeBase64\n */\nfunction fromUrlSafeBase64(str) {\n  str = str.replace(/-/g, \'+\'); // Convert \'-\' (dash) to \'+\'\n  str = str.replace(/_/g, \'/\'); // Convert \'_\' (underscore) to \'/\'\n  while (str.length % 4) {str += \'=\';} // Add padding \'=\'\n\n  if ((0,_compat__WEBPACK_IMPORTED_MODULE_0__.isNodeJS)()) {\n    return Buffer.from(str, "base64").toString();\n  } else {\n    return atob(str);\n  }\n}\n\n/***/ }),\n\n/***/ "./src/logger/Logger.js":\n/*!******************************!*\\\n  !*** ./src/logger/Logger.js ***!\n  \\******************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevels: () => (/* binding */ LogLevels),\n/* harmony export */   Logger: () => (/* binding */ Logger),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   setLogger: () => (/* binding */ setLogger)\n/* harmony export */ });\n/* harmony import */ var _compat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../compat */ "./src/compat.js");\n/* harmony import */ var _file_loaders_net_endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../file-loaders/net/endpoints */ "./src/file-loaders/net/endpoints.js");\n/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../analytics */ "./src/analytics/index.js");\n\n\n\n\n\nconst global = (0,_compat__WEBPACK_IMPORTED_MODULE_0__.getGlobal)();\nconst _window = global;\n\n/**\n * Logging levels. Higher number means more verbose logs,\n * for example, with level 3, `info`, `warn`, or `error`\n * logs will show up in the console but `debug` and `log` won\'t.\n *\n * Semantics of specific levels:\n *  - debug: low-level debugging logs\n *  - log: common, higher-level debugging logs\n *  - info: helpful runtime information (even for stag/prod environments)\n *  - warn: potentially problematic situations; handled exceptions\n *  - error: definitely problematic situations; unhandled exceptions\n * @readonly\n * @enum {number}\n */\nconst LogLevels = {\n  DEBUG: 5,\n  LOG: 4,\n  INFO: 3,\n  WARNING: 2,\n  ERROR: 1,\n  NONE: 0\n};\n\n\n/**\n * Logger class. \n * Depending on options.logLevel setting in initilize function, corresponding functions would be activated.\n */\nfunction Logger() {\n  this.runtimeStats = {};\n  this.level = -1;\n  this.setLevel(LogLevels.ERROR);\n  this._reportError = this._reportError.bind(this);\n}\n\n/**\n * Initialize Logger object with options. \n * \n * @param {object}   [options] - Options object to configure the Logger.\n * @param {function} [options.eventCallback] - An optional callback used for processing the log entry with properties like "category", "timestamp", etc. \n                                               It can be used as for analytics tracking by filtering and listening to specific category users are interested. \n                                               The expected argument is the user supplied entry object instrumented with "timestamp" and "sessionId" properties. \n * @param {string}   [options.sessionId] - An optional id for each browser session. Default gets generated based on current time stamp if not specified. \n * @param {number}   [options.logLevel] - An optional level to define the log level. Default is LogLevels.ERROR if not specified.\n *\n */\n\nLogger.prototype.initialize = function (options) {\n\n  if (options.eventCallback)\n  this.callback = options.eventCallback;\n\n  this.sessionId = options.sessionId;\n  if (!this.sessionId) {\n    var now = Date.now() + "";\n    this.sessionId = parseFloat((Math.random() * 10000 | 0) + "" + now.substring(4));\n  }\n\n  // Initialize log level is passed in\n  if (typeof options.logLevel === \'number\') {\n    this.setLevel(options.logLevel);\n  }\n\n  this.environmentInfo = {\n    touch: (0,_compat__WEBPACK_IMPORTED_MODULE_0__.isTouchDevice)(),\n    env: (0,_file_loaders_net_endpoints__WEBPACK_IMPORTED_MODULE_1__.getEnv)(),\n    referer: getReferer(),\n    version: global.LMV_VIEWER_VERSION,\n    build_type: global.LMV_BUILD_TYPE\n  };\n\n  //Kick off with a viewer start event\n  var startEvent = {\n    category: "viewer_start",\n    touch: this.environmentInfo.touch,\n    env: this.environmentInfo.env,\n    referer: this.environmentInfo.referer,\n    version: this.environmentInfo.version,\n    build_type: this.environmentInfo.build_type\n  };\n  this.track(startEvent);\n\n  var _this = this;\n  this.interval = setInterval(function () {\n    _this.reportRuntimeStats();\n  }, 60000);\n};\n\n/**\n * Stop the runtime stats reporting every min.\n */\nLogger.prototype.shutdown = function () {\n  clearInterval(this.interval);\n  this.interval = undefined;\n};\n\n\n/**\n * Track the user inputted entry by appending additional info "timestamp", "sessionId"\n * @param {object} [entry] - User object to define the track object, \n        e.g. {\n            category : "load_document",\n            urn: "xyz"\n        }   \n */\nLogger.prototype.track = function (entry) {\n\n  this.updateRuntimeStats(entry);\n\n  if ((0,_file_loaders_net_endpoints__WEBPACK_IMPORTED_MODULE_1__.isOffline)() || !this.sessionId) {\n    return;\n  }\n\n  if (this.callback) {\n\n    entry.timestamp = Date.now();\n    entry.sessionId = this.sessionId;\n\n    this.callback(entry);\n  }\n\n  if ((entry === null || entry === void 0 ? void 0 : entry.category) === \'error\') {\n    trackError(\'viewer.error.tracked\', entry);\n  }\n};\n\nLogger.prototype.updateRuntimeStats = function (entry) {\n  if (Object.prototype.hasOwnProperty.call(entry, \'aggregate\')) {\n    switch (entry.aggregate) {\n      case \'count\':\n        if (this.runtimeStats[entry.name] > 0) {\n          this.runtimeStats[entry.name]++;\n        } else {\n          this.runtimeStats[entry.name] = 1;\n        }\n        this.runtimeStats._nonempty = true;\n        break;\n      case \'last\':\n        this.runtimeStats[entry.name] = entry.value;\n        this.runtimeStats._nonempty = true;\n        break;\n      default:\n        this.warn(\'unknown log aggregate type\');\n    }\n  }\n};\n\nLogger.prototype.reportRuntimeStats = function () {\n  if (this.runtimeStats._nonempty) {\n    delete this.runtimeStats._nonempty;\n\n    this.runtimeStats.category = \'misc_stats\';\n    this.track(this.runtimeStats);\n    this.runtimeStats = {};\n  }\n};\n\nLogger.prototype.setLevel = function (level) {\n  if (this.level === level)\n  return;\n\n  this.level = level;\n\n  // Bind to console\n  this.debug = level >= LogLevels.DEBUG ? console.log : consoleNothing;\n  this.log = level >= LogLevels.LOG ? console.log : consoleNothing;\n  this.info = level >= LogLevels.INFO ? console.info : consoleNothing;\n  this.warn = level >= LogLevels.WARNING ? console.warn : consoleNothing;\n  this.error = level >= LogLevels.ERROR ? this._reportError : consoleNothing;\n};\n\n\n/**\n * Reports an error to the browser console and to the logger\'s callback.\n * Invoked by developers when method `logger.error()` is used. \n * Forwards the arguments directly into `console.error()`. \n * @private\n */\nLogger.prototype._reportError = function () {\n  console.error.apply(console, arguments);\n\n  const msg = Array.prototype.slice.call(arguments).join(\' \');\n  if (this.callback) {\n    this.callback({ category: \'error\', message: msg });\n  }\n\n  trackError(\'viewer.error.logged\', msg);\n};\n\nfunction trackError(name, content) {\n  let value;\n  if (typeof content === \'string\') {\n    value = {\n      message: content\n    };\n  } else if (typeof content === \'object\') {\n    value = content;\n  }\n  _analytics__WEBPACK_IMPORTED_MODULE_2__.analytics.track(name, value);\n}\n\n/**\n * @private\n */\nfunction getReferer() {\n  // Wrapping href retrieval due to Fortify complains\n  if (typeof window !== \'undefined\') {\n    return encodeURI(_window.location.href);\n  }\n  return \'\';\n}\n\n\n\n/**\n * Swallows log/debug/info/warn/error calls when the logLevel disallows it.\n * @private\n */\nfunction consoleNothing() {\n\n}\n\n\nlet logger = new Logger();\n\nfunction setLogger(l) {\n  logger = l;\n}\n\n/***/ }),\n\n/***/ "./src/wgs/scene/BVHBuilder.js":\n/*!*************************************!*\\\n  !*** ./src/wgs/scene/BVHBuilder.js ***!\n  \\*************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BVHBuilder: () => (/* binding */ BVHBuilder),\n/* harmony export */   NodeArray: () => (/* binding */ NodeArray)\n/* harmony export */ });\n/**\n * BVH definitions:\n *\n * BVH Node: if this was C (the only real programming language), it would go something like this,\n * but with better alignment.\n *\n * This is definition for "fat" nodes (for rasterization),\n * i.e. when inner nodes also contain primitives.\n * struct Node {                                                            byte/short/int offset\n *      float worldBox[6]; //world box of the node node                         0/0/0\n *      int leftChildIndex; //pointer to left child node (right is left+1)     24/12/6\n *      ushort primCount; //how many fragments are at this node                28/14/7\n *      ushort flags; //bitfield of good stuff                                 30/15/7.5\n *\n *      int primStart; //start of node\'s own primitives (fragments) list       32/16/8\n * };\n * => sizeof(Node) = 36 bytes\n\n * Definition for lean nodes (for ray casting): when a node is either inner node (just children, no primitives)\n * or leaf (just primitives, no children).\n * struct Node {\n *      float worldBox[6]; //world box of the node\n *      union {\n *          int leftChildIndex; //pointer to left child node (right is left+1)\n *          int primStart; //start of node\'s own primitives (fragments) list\n *      };\n *      ushort primCount; //how many fragments are at this node\n *      ushort flags; //bitfield of good stuff\n * };\n * => sizeof(Node) = 32 bytes\n *\n * The class below encapsulates an array of such nodes using ArrayBuffer as backing store.\n *\n * @param {ArrayBuffer|number} initialData  Initial content of the NodeArray, or initial allocation of empty nodes\n * @param {boolean} useLeanNode Use minimal node structure size. Currently this parameter must be set to false.\n * @constructor\n */\nfunction NodeArray(initialData, useLeanNode) {\n  \'use strict\';\n\n  if (useLeanNode) {\n    this.bytes_per_node = 32;\n  } else {\n    this.bytes_per_node = 36;\n  }\n\n  var initialCount;\n  var initialBuffer;\n\n  if (initialData instanceof ArrayBuffer) {\n    initialCount = initialData.byteLength / this.bytes_per_node;\n    initialBuffer = initialData;\n    this.nodeCount = initialCount;\n  } else\n  {\n    initialCount = initialData | 0;\n    initialBuffer = new ArrayBuffer(this.bytes_per_node * initialCount);\n    this.nodeCount = 0;\n  }\n\n  this.nodeCapacity = initialCount;\n  this.nodesRaw = initialBuffer;\n\n  this.is_lean_node = useLeanNode;\n  this.node_stride = this.bytes_per_node / 4;\n  this.node_stride_short = this.bytes_per_node / 2;\n\n  //Allocate memory buffer for all tree nodes\n  this.nodesF = new Float32Array(this.nodesRaw);\n  this.nodesI = new Int32Array(this.nodesRaw);\n  this.nodesS = new Uint16Array(this.nodesRaw);\n}\n\nNodeArray.prototype.setLeftChild = function (nodeidx, childidx) {\n  this.nodesI[nodeidx * this.node_stride + 6] = childidx;\n};\nNodeArray.prototype.getLeftChild = function (nodeidx) {\n  return this.nodesI[nodeidx * this.node_stride + 6];\n};\n\nNodeArray.prototype.setPrimStart = function (nodeidx, start) {\n  if (this.is_lean_node)\n  this.nodesI[nodeidx * this.node_stride + 6] = start;else\n\n  this.nodesI[nodeidx * this.node_stride + 8] = start;\n};\nNodeArray.prototype.getPrimStart = function (nodeidx) {\n  if (this.is_lean_node)\n  return this.nodesI[nodeidx * this.node_stride + 6];else\n\n  return this.nodesI[nodeidx * this.node_stride + 8];\n};\n\nNodeArray.prototype.setPrimCount = function (nodeidx, count) {\n  this.nodesS[nodeidx * this.node_stride_short + 14] = count;\n};\nNodeArray.prototype.getPrimCount = function (nodeidx) {\n  return this.nodesS[nodeidx * this.node_stride_short + 14];\n};\n\nNodeArray.prototype.setFlags = function (nodeidx, axis, isFirst, isTransparent) {\n  this.nodesS[nodeidx * this.node_stride_short + 15] = isTransparent << 3 | isFirst << 2 | axis & 0x3;\n};\nNodeArray.prototype.getFlags = function (nodeidx) {\n  return this.nodesS[nodeidx * this.node_stride_short + 15];\n};\n\nNodeArray.prototype.setBox0 = function (nodeidx, src) {\n  var off = nodeidx * this.node_stride;\n  var dst = this.nodesF;\n  dst[off] = src[0];\n  dst[off + 1] = src[1];\n  dst[off + 2] = src[2];\n  dst[off + 3] = src[3];\n  dst[off + 4] = src[4];\n  dst[off + 5] = src[5];\n};\nNodeArray.prototype.getBoxThree = function (nodeidx, dst) {\n  var off = nodeidx * this.node_stride;\n  var src = this.nodesF;\n  dst.min.x = src[off];\n  dst.min.y = src[off + 1];\n  dst.min.z = src[off + 2];\n  dst.max.x = src[off + 3];\n  dst.max.y = src[off + 4];\n  dst.max.z = src[off + 5];\n};\nNodeArray.prototype.getBoxArray = function (nodeidx, dst, offset) {\n  var off = nodeidx * this.node_stride;\n  var src = this.nodesF;\n  offset = offset || 0;\n  dst[0 + offset] = src[off];\n  dst[1 + offset] = src[off + 1];\n  dst[2 + offset] = src[off + 2];\n  dst[3 + offset] = src[off + 3];\n  dst[4 + offset] = src[off + 4];\n  dst[5 + offset] = src[off + 5];\n};\nNodeArray.prototype.setBoxThree = function (nodeidx, src) {\n  var off = nodeidx * this.node_stride;\n  var dst = this.nodesF;\n  dst[off] = src.min.x;\n  dst[off + 1] = src.min.y;\n  dst[off + 2] = src.min.z;\n  dst[off + 3] = src.max.x;\n  dst[off + 4] = src.max.y;\n  dst[off + 5] = src.max.z;\n};\n\n\n\n\nNodeArray.prototype.makeEmpty = function (nodeidx) {\n\n  var off = nodeidx * this.node_stride;\n  var dst = this.nodesI;\n\n  //No point to makeEmpty here, because the box gets set\n  //directly when the node is initialized in bvh_subdivide.\n  //box_make_empty(this.nodesF, off);\n\n  //_this.setLeftChild(nodeidx,-1);\n  dst[off + 6] = -1;\n\n  //both prim count and flags to 0\n  dst[off + 7] = 0;\n\n  //_this.setPrimStart(nodeidx, -1);\n  if (!this.is_lean_node)\n  dst[off + 8] = -1;\n\n};\n\nNodeArray.prototype.realloc = function (extraSize) {\n  if (this.nodeCount + extraSize > this.nodeCapacity) {\n    var nsz = 0 | this.nodeCapacity * 3 / 2;\n    if (nsz < this.nodeCount + extraSize)\n    nsz = this.nodeCount + extraSize;\n\n    var nnodes = new ArrayBuffer(nsz * this.bytes_per_node);\n    var nnodesI = new Int32Array(nnodes);\n    nnodesI.set(this.nodesI);\n\n    this.nodeCapacity = nsz;\n    this.nodesRaw = nnodes;\n    this.nodesF = new Float32Array(nnodes);\n    this.nodesI = nnodesI;\n    this.nodesS = new Uint16Array(nnodes);\n  }\n};\n\nNodeArray.prototype.nextNodes = function (howMany) {\n\n  this.realloc(howMany);\n\n  var res = this.nodeCount;\n  this.nodeCount += howMany;\n\n  for (var i = 0; i < howMany; i++) {\n    this.makeEmpty(res + i);\n  }\n\n  return res;\n};\n\nNodeArray.prototype.getRawData = function () {\n  return this.nodesRaw.slice(0, this.nodeCount * this.bytes_per_node);\n};\n\nvar POINT_STRIDE = 3;\nvar BOX_EPSILON = 1e-5;\nvar BOX_SCALE_EPSILON = 1e-5;\nvar MAX_DEPTH = 15; /* max tree depth */\nvar MAX_BINS = 16;\n\n/**\n* Bounding Volume Hierarchy build algorithm.\n* Uses top down binning -- see "On fast Construction of SAH-based Bounding Volume Hierarchies" by I.Wald\n* Ported from the C version here: https://git.autodesk.com/stanevt/t-ray/blob/master/render3d/t-ray/t-core/t-bvh.c\n* Optimized for JavaScript.\n*/\nvar BVHModule = function () {\n  //There be dragons in this closure.\n\n  "use strict";\n\n\n  /**\n   * Utilities for manipulating bounding boxes stored\n   * in external array (as sextuplets of float32)\n   */\n\n\n  function box_get_centroid(dst, dst_off, src, src_off) {\n    dst[dst_off] = 0.5 * (src[src_off] + src[src_off + 3]);\n    dst[dst_off + 1] = 0.5 * (src[src_off + 1] + src[src_off + 4]);\n    dst[dst_off + 2] = 0.5 * (src[src_off + 2] + src[src_off + 5]);\n  }\n\n  function box_add_point_0(dst, src, src_off) {\n\n    if (dst[0] > src[src_off]) dst[0] = src[src_off];\n    if (dst[3] < src[src_off]) dst[3] = src[src_off];\n\n    if (dst[1] > src[src_off + 1]) dst[1] = src[src_off + 1];\n    if (dst[4] < src[src_off + 1]) dst[4] = src[src_off + 1];\n\n    if (dst[2] > src[src_off + 2]) dst[2] = src[src_off + 2];\n    if (dst[5] < src[src_off + 2]) dst[5] = src[src_off + 2];\n\n  }\n\n  function box_add_box_0(dst, src, src_off) {\n\n    if (dst[0] > src[src_off]) dst[0] = src[src_off];\n    if (dst[1] > src[src_off + 1]) dst[1] = src[src_off + 1];\n    if (dst[2] > src[src_off + 2]) dst[2] = src[src_off + 2];\n\n    if (dst[3] < src[src_off + 3]) dst[3] = src[src_off + 3];\n    if (dst[4] < src[src_off + 4]) dst[4] = src[src_off + 4];\n    if (dst[5] < src[src_off + 5]) dst[5] = src[src_off + 5];\n  }\n\n  function box_add_box_00(dst, src) {\n    if (dst[0] > src[0]) dst[0] = src[0];\n    if (dst[1] > src[1]) dst[1] = src[1];\n    if (dst[2] > src[2]) dst[2] = src[2];\n\n    if (dst[3] < src[3]) dst[3] = src[3];\n    if (dst[4] < src[4]) dst[4] = src[4];\n    if (dst[5] < src[5]) dst[5] = src[5];\n  }\n\n  function box_get_size(dst, dst_off, src, src_off) {\n    for (var i = 0; i < 3; i++) {\n      dst[dst_off + i] = src[src_off + 3 + i] - src[src_off + i];\n    }\n  }\n\n  //function box_copy(dst, dst_off, src, src_off) {\n  //    for (var i=0; i<6; i++) {\n  //        dst[dst_off+i] = src[src_off+i];\n  //    }\n  //}\n\n  // unwound version of box_copy\n  function box_copy_00(dst, src) {\n    dst[0] = src[0];\n    dst[1] = src[1];\n    dst[2] = src[2];\n    dst[3] = src[3];\n    dst[4] = src[4];\n    dst[5] = src[5];\n  }\n\n  var dbl_max = Infinity;\n\n  //function box_make_empty(dst, dst_off) {\n  //        dst[dst_off]   =  dbl_max;\n  //        dst[dst_off+1] =  dbl_max;\n  //        dst[dst_off+2] =  dbl_max;\n  //        dst[dst_off+3] = -dbl_max;\n  //        dst[dst_off+4] = -dbl_max;\n  //        dst[dst_off+5] = -dbl_max;\n  //}\n\n  function box_make_empty_0(dst) {\n    dst[0] = dbl_max;\n    dst[1] = dbl_max;\n    dst[2] = dbl_max;\n    dst[3] = -dbl_max;\n    dst[4] = -dbl_max;\n    dst[5] = -dbl_max;\n  }\n\n  function box_area(src, src_off) {\n\n    var dx = src[src_off + 3] - src[src_off];\n    var dy = src[src_off + 4] - src[src_off + 1];\n    var dz = src[src_off + 5] - src[src_off + 2];\n\n    if (dx < 0 || dy < 0 || dz < 0)\n    return 0;\n\n    return 2.0 * (dx * dy + dy * dz + dz * dx);\n  }\n\n  function box_area_0(src) {\n\n    var dx = src[3] - src[0];\n    var dy = src[4] - src[1];\n    var dz = src[5] - src[2];\n\n    if (dx < 0 || dy < 0 || dz < 0)\n    return 0;\n\n    return 2.0 * (dx * dy + dy * dz + dz * dx);\n  }\n\n\n\n\n\n  function bvh_split_info() {\n    this.vb_left = new Float32Array(6);\n    this.vb_right = new Float32Array(6);\n    this.cb_left = new Float32Array(6);\n    this.cb_right = new Float32Array(6);\n    this.num_left = 0;\n    this.best_split = -1;\n    this.best_cost = -1;\n    this.num_bins = -1;\n  }\n\n  bvh_split_info.prototype.reset = function () {\n    this.num_left = 0;\n    this.best_split = -1;\n    this.best_cost = -1;\n    this.num_bins = -1;\n  };\n\n\n  function bvh_bin() {\n    this.box_bbox = new Float32Array(6); // bbox of all primitive bboxes\n    this.box_centroid = new Float32Array(6); // bbox of all primitive centroids\n    this.num_prims = 0; // number of primitives in the bin\n  }\n\n  bvh_bin.prototype.reset = function () {\n    this.num_prims = 0; // number of primitives in the bin\n    box_make_empty_0(this.box_bbox);\n    box_make_empty_0(this.box_centroid);\n  };\n\n  function accum_bin_info() {\n    this.BL = new Float32Array(6);\n    this.CL = new Float32Array(6);\n    this.NL = 0;\n    this.AL = 0;\n  }\n\n  accum_bin_info.prototype.reset = function () {\n    this.NL = 0;\n    this.AL = 0;\n\n    box_make_empty_0(this.BL);\n    box_make_empty_0(this.CL);\n  };\n\n\n  //Scratch variables used by bvh_bin_axis\n  //TODO: can be replaced by a flat ArrayBuffer\n  var bins = [];\n  var i;\n  for (i = 0; i < MAX_BINS; i++) {\n    bins.push(new bvh_bin());\n  }\n\n  //TODO: can be replaced by a flat ArrayBuffer\n  var ai = [];\n  for (i = 0; i < MAX_BINS - 1; i++)\n  ai.push(new accum_bin_info());\n\n  var BR = new Float32Array(6);\n  var CR = new Float32Array(6);\n\n\n  function assign_bins(bvh, start, end, axis, cb, cbdiag, num_bins) {\n\n    var centroids = bvh.centroids;\n    var primitives = bvh.primitives;\n    var boxes = bvh.finfo.boxes;\n    var boxStride = bvh.finfo.boxStride;\n\n    /* bin assignment */\n    var k1 = num_bins * (1.0 - BOX_SCALE_EPSILON) / cbdiag[axis];\n    var cbaxis = cb[axis];\n    var sp = bvh.sort_prims;\n\n    for (var j = start; j <= end; j++)\n    {\n      /* map array index to primitive index -- since primitive index array gets reordered by the BVH build*/\n      /* while the primitive info array is not reordered */\n      var iprim = primitives[j] | 0;\n\n      var fpbin = k1 * (centroids[iprim * 3 /*POINT_STRIDE*/ + axis] - cbaxis);\n      var binid = fpbin | 0; //Truncate to int is algorithmic -> not an optimization thing!\n\n      /* possible floating point problems */\n      if (binid < 0)\n      {\n        binid = 0;\n        //debug("Bin index out of range " + fpbin);\n      } else\n      if (binid >= num_bins)\n      {\n        binid = num_bins - 1;\n        //debug("Bin index out of range. " + fpbin);\n      }\n\n      /* Store the bin index for the partitioning step, so we don\'t recompute it there */\n      sp[j] = binid;\n\n      /* update other bin data with the new primitive */\n      //var bin = bins[binid];\n      bins[binid].num_prims++;\n\n      box_add_box_0(bins[binid].box_bbox, boxes, iprim * boxStride);\n      box_add_point_0(bins[binid].box_centroid, centroids, iprim * 3 /*POINT_STRIDE*/);\n    }\n    /* at this point all primitves are assigned to a bin */\n  }\n\n\n  function bvh_bin_axis(bvh, start, end, axis, cb, cbdiag, split_info) {\n\n    /* if size is near 0 on this axis, cost of split is infinite */\n    if (cbdiag[axis] < bvh.scene_epsilon)\n    {\n      split_info.best_cost = Infinity;\n      return;\n    }\n\n    var num_bins = MAX_BINS;\n    if (num_bins > end - start + 1)\n    num_bins = end - start + 1;\n\n    var i;\n    for (i = 0; i < num_bins; i++)\n    bins[i].reset();\n\n    for (i = 0; i < num_bins - 1; i++)\n    ai[i].reset();\n\n    split_info.num_bins = num_bins;\n\n    assign_bins(bvh, start, end, axis, cb, cbdiag, num_bins);\n\n\n    /* now do the accumulation sweep from left to right */\n    box_copy_00(ai[0].BL, bins[0].box_bbox);\n    box_copy_00(ai[0].CL, bins[0].box_centroid);\n    ai[0].AL = box_area_0(ai[0].BL);\n    ai[0].NL = bins[0].num_prims;\n    var bin;\n    for (i = 1; i < num_bins - 1; i++)\n    {\n      bin = bins[i];\n      var aii = ai[i];\n      box_copy_00(aii.BL, ai[i - 1].BL);\n      box_add_box_00(aii.BL, bin.box_bbox);\n      aii.AL = box_area_0(aii.BL);\n\n      box_copy_00(aii.CL, ai[i - 1].CL);\n      box_add_box_00(aii.CL, bin.box_centroid);\n\n      aii.NL = ai[i - 1].NL + bin.num_prims;\n    }\n\n    /* sweep from right to left, keeping track of lowest cost and split */\n    i = num_bins - 1;\n    box_copy_00(BR, bins[i].box_bbox);\n    box_copy_00(CR, bins[i].box_centroid);\n    var AR = box_area_0(BR);\n    var NR = bins[i].num_prims;\n\n    var best_split = i;\n    var best_cost = AR * NR + ai[i - 1].AL * ai[i - 1].NL;\n    box_copy_00(split_info.vb_right, BR);\n    box_copy_00(split_info.cb_right, bins[i].box_centroid);\n    box_copy_00(split_info.vb_left, ai[i - 1].BL);\n    box_copy_00(split_info.cb_left, ai[i - 1].CL);\n    split_info.num_left = ai[i - 1].NL;\n\n    for (i = i - 1; i >= 1; i--)\n    {\n      bin = bins[i];\n      box_add_box_00(BR, bin.box_bbox);\n      box_add_box_00(CR, bin.box_centroid);\n      AR = box_area_0(BR);\n      NR += bin.num_prims;\n\n      var cur_cost = AR * NR + ai[i - 1].AL * ai[i - 1].NL;\n\n      if (cur_cost <= best_cost)\n      {\n        best_cost = cur_cost;\n        best_split = i;\n\n        box_copy_00(split_info.vb_right, BR);\n        box_copy_00(split_info.cb_right, CR);\n        box_copy_00(split_info.vb_left, ai[i - 1].BL);\n        box_copy_00(split_info.cb_left, ai[i - 1].CL);\n        split_info.num_left = ai[i - 1].NL;\n      }\n    }\n\n    split_info.best_split = best_split;\n    split_info.best_cost = best_cost;\n  }\n\n  function bvh_partition(bvh, start, end, axis, cb, cbdiag, split_info) {\n\n    //At this point, the original algorithm does an in-place NON-STABLE partition\n    //to move primitives to the left and right sides of the split plane\n    //into contiguous location of the primitives list for use by\n    //the child nodes. But, we want to preserve the ordering by size\n    //without having to do another sort, so we have to use\n    //a temporary storage location to copy into. We place right-side primitives\n    //in temporary storage, then copy back into the original storage in the right order.\n    //Left-side primitives are still put directly into the destination location.\n    var primitives = bvh.primitives;\n    //var centroids = bvh.centroids;\n    var i, j;\n\n    //sort_prims contains bin indices computed during the split step.\n    //Here we read those and also use sort_prims as temporary holding\n    //of primitive indices. Hopefully the read happens before the write. :)\n    //In C it was cheap enough to compute this again...\n    //var k1 = split_info.num_bins * (1.0 - BOX_SCALE_EPSILON) / cbdiag[axis];\n    //var cbaxis = cb[axis];\n    var sp = bvh.sort_prims;\n\n    var right = 0;\n    var left = start | 0;\n    var best_split = split_info.best_split | 0;\n\n    for (i = start; i <= end; i++) {\n      var iprim = primitives[i] | 0;\n      //var fpbin = (k1 * (centroids[3/*POINT_STRIDE*/ * iprim + axis] - cbaxis));\n      var binid = sp[i]; /* fpbin|0; */\n\n      if (binid < best_split) {\n        primitives[left++] = iprim;\n      } else {\n        sp[right++] = iprim;\n      }\n    }\n\n    //if ((left-start) != split_info.num_left)\n    //    debug("Mismatch between binning and partitioning.");\n\n    //Copy back the right-side primitives into main primitives array, while\n    //maintaining order\n    for (j = 0; j < right; j++) {\n      primitives[left + j] = sp[j];\n    }\n    /* at this point the binning is complete and we have computed a split */\n  }\n\n\n  function bvh_fatten_inner_node(bvh, nodes, nodeidx, start, end, cb, cbdiag, poly_cut_off) {\n\n    var primitives = bvh.primitives;\n    var centroids = bvh.centroids;\n\n    //Take the first few items to place into the inner node,\n    //but do not go over the max item or polygon count.\n    var prim_count = end - start + 1;\n\n    if (prim_count > bvh.frags_per_inner_node)\n    prim_count = bvh.frags_per_inner_node;\n\n    if (prim_count > poly_cut_off)\n    prim_count = poly_cut_off;\n\n\n    nodes.setPrimStart(nodeidx, start);\n    nodes.setPrimCount(nodeidx, prim_count);\n    start += prim_count;\n\n    //Because we take some primitives off the input, we have to recompute\n    //the bounding box used for computing the node split.\n    box_make_empty_0(cb);\n    for (var i = start; i <= end; i++) {\n      box_add_point_0(cb, centroids, 3 /*POINT_STRIDE*/ * primitives[i]);\n    }\n\n    //Also update the split axis -- it could possibly change too.\n    box_get_size(cbdiag, 0, cb, 0);\n    //Decide which axis to split on. Done purely by longest.\n    var axis = 0;\n    if (cbdiag[1] > cbdiag[0])\n    axis = 1;\n    if (cbdiag[2] > cbdiag[axis])\n    axis = 2;\n\n    return axis;\n  }\n\n\n  var cbdiag = new Float32Array(3); //scratch variable used in bvh_subdivide\n\n  function bvh_subdivide(bvh,\n  nodeidx, /* current parent node to consider splitting */\n  start, end, /* primitive sub-range to be considered at this recursion step */\n  vb, /* bounding volume of the primitives\' bounds in the sub-range */\n  cb, /* bounding box of primitive centroids in this range */\n  transparent, /* does the node contain opaque or transparent objects */\n  depth /* recursion depth */)\n\n  {\n    box_get_size(cbdiag, 0, cb, 0);\n    var nodes = bvh.nodes;\n    var frags_per_leaf = transparent ? bvh.frags_per_leaf_node_transparent : bvh.frags_per_leaf_node;\n    var frags_per_inner = transparent ? bvh.frags_per_inner_node_transparent : bvh.frags_per_inner_node;\n    var polys_per_node = bvh.max_polys_per_node;\n\n    //Decide which axis to split on.\n    var axis = 0;\n    if (cbdiag[1] > cbdiag[0])\n    axis = 1;\n    if (cbdiag[2] > cbdiag[axis])\n    axis = 2;\n\n    //Whether the node gets split or not, it gets\n    //the same overall bounding box.\n    nodes.setBox0(nodeidx, vb);\n\n    //Check the expected polygon count of the node. This figures out the maximum number of fragments\n    // we can put at the node as determined by polys_per_node\n    var poly_count = 0;\n    var poly_cut_off = 0;\n    var prim_count = end - start + 1;\n\n    // If we have the number of triangles in each mesh, limit the number of primitives in an inner node.\n    if (bvh.finfo.hasPolygonCounts && bvh.frags_per_inner_node) {\n      // Walk through primitives, add up the counts until we reach polys_per_node (10000), or run through\n      // frags_per_inner_node (usually 32).\n      // We know that later on we\'ll limit the number to frags_per_inner_node, so also do it here.\n      var shorten_end = prim_count <= bvh.frags_per_inner_node ? end : start + bvh.frags_per_inner_node - 1;\n      for (var i = start; i <= shorten_end; i++) {\n        poly_count += bvh.finfo.getPolygonCount(bvh.primitives[i]);\n        poly_cut_off++;\n        if (poly_count > polys_per_node)\n        break;\n      }\n    }\n\n    var isSmall = prim_count <= frags_per_leaf && poly_count < polys_per_node ||\n    prim_count === 1;\n\n    //Decide whether to terminate recursion\n    if (isSmall ||\n    depth > MAX_DEPTH || //max recursion depth\n    cbdiag[axis] < bvh.scene_epsilon) //node would be way too tiny for math to make sense (a point)\n      {\n        nodes.setLeftChild(nodeidx, -1);\n        nodes.setPrimStart(nodeidx, start);\n        nodes.setPrimCount(nodeidx, end - start + 1);\n        nodes.setFlags(nodeidx, 0, 0, transparent ? 1 : 0);\n        return;\n      }\n\n    //Pick the largest (first) primitives to live in this node\n    //NOTE: this assumes primitives are sorted by size.\n    //NOTE: This step is an optional departure from the original, and we also do a check for it above\n    // to compute poly_cut_off.\n    if (frags_per_inner) {\n      axis = bvh_fatten_inner_node(bvh, nodes, nodeidx, start, end, cb, cbdiag, poly_cut_off);\n      start = start + nodes.getPrimCount(nodeidx);\n    }\n\n    var split_info = new bvh_split_info();\n\n    //Do the binning of the remaining primitives to go into child nodes\n    bvh_bin_axis(bvh, start, end, axis, cb, cbdiag, split_info);\n\n    if (split_info.num_bins < 0) {\n      //Split was too costly, so add all objects to the current node and bail\n      nodes.setPrimCount(nodeidx, nodes.getPrimCount(nodeidx) + end - start + 1);\n      return;\n    }\n\n    bvh_partition(bvh, start, end, axis, cb, cbdiag, split_info);\n\n    var child_idx = nodes.nextNodes(2);\n\n    /* set info about split into the node */\n    var cleft = (split_info.vb_left[3 + axis] + split_info.vb_left[axis]) * 0.5;\n    var cright = (split_info.vb_right[3 + axis] + split_info.vb_right[axis]) * 0.5;\n\n    nodes.setFlags(nodeidx, axis, cleft < cright ? 0 : 1, transparent ? 1 : 0);\n    nodes.setLeftChild(nodeidx, child_idx);\n\n\n    /* validate split */\n    /*\n    if (true) {\n        for (var i=start; i< start+num_left; i++)\n        {\n            //int binid = (int)(k1 * (info->prim_info[info->bvh->iprims[i]].centroid.v[axis] - cb->min.v[axis]));\n            var cen = primitives[i] * POINT_STRIDE;\n            if (   centroids[cen] < split_info.cb_left[0]\n                || centroids[cen] > split_info.cb_left[3]\n                || centroids[cen+1] < split_info.cb_left[1]\n                || centroids[cen+1] > split_info.cb_left[4]\n                || centroids[cen+2] < split_info.cb_left[2]\n                || centroids[cen+2] > split_info.cb_left[5])\n            {\n                debug ("wrong centroid box");\n            }\n        }\n         for (i=start+num_left; i<=end; i++)\n        {\n            //int binid = (int)(k1 * (info->prim_info[info->bvh->iprims[i]].centroid.v[axis] - cb->min.v[axis]));\n            var cen = primitives[i] * POINT_STRIDE;\n            if (   centroids[cen] < split_info.cb_right[0]\n                || centroids[cen] > split_info.cb_right[3]\n                || centroids[cen+1] < split_info.cb_right[1]\n                || centroids[cen+1] > split_info.cb_right[4]\n                || centroids[cen+2] < split_info.cb_right[2]\n                || centroids[cen+2] > split_info.cb_right[5])\n            {\n                debug ("wrong centroid box");\n            }\n        }\n    }\n    */\n\n\n    /* recurse */\n    //bvh_subdivide(bvh, child_idx, start, start + split_info.num_left - 1, split_info.vb_left, split_info.cb_left, transparent, depth+1);\n    //bvh_subdivide(bvh, child_idx + 1, start + split_info.num_left, end, split_info.vb_right, split_info.cb_right, transparent, depth+1);\n\n    //Iterative stack-based recursion for easier profiling\n    bvh.recursion_stack.push([bvh, child_idx + 1, start + split_info.num_left, end, split_info.vb_right, split_info.cb_right, transparent, depth + 1]);\n    bvh.recursion_stack.push([bvh, child_idx, start, start + split_info.num_left - 1, split_info.vb_left, split_info.cb_left, transparent, depth + 1]);\n\n  }\n\n\n  function compute_boxes(bvh) {\n\n    var boxv_o = bvh.boxv_o;\n    var boxc_o = bvh.boxc_o;\n    var boxv_t = bvh.boxv_t;\n    var boxc_t = bvh.boxc_t;\n\n    box_make_empty_0(boxv_o);\n    box_make_empty_0(boxc_o);\n    box_make_empty_0(boxv_t);\n    box_make_empty_0(boxc_t);\n\n    var c = bvh.centroids;\n    var b = bvh.finfo.boxes;\n    var boxStride = bvh.finfo.boxStride;\n\n    for (var i = 0, iEnd = bvh.prim_count; i < iEnd; i++) {\n\n      // find which primitive in the sorted list to use next\n      var p = bvh.primitives[i];\n      box_get_centroid(c, 3 /*POINT_STRIDE*/ * p, b, boxStride * p);\n\n      if (i >= bvh.first_transparent) {\n\n        box_add_point_0(boxc_t, c, 3 /*POINT_STRIDE*/ * p);\n        box_add_box_0(boxv_t, b, boxStride * p);\n\n      } else {\n\n        box_add_point_0(boxc_o, c, 3 /*POINT_STRIDE*/ * p);\n        box_add_box_0(boxv_o, b, boxStride * p);\n\n      }\n    }\n\n    box_get_size(cbdiag, 0, bvh.boxv_o, 0);\n    var maxsz = Math.max(cbdiag[0], cbdiag[1], cbdiag[2]);\n    bvh.scene_epsilon = BOX_EPSILON * maxsz;\n  }\n\n\n\n\n  //Module exports\n  return {\n    bvh_subdivide: bvh_subdivide,\n    compute_boxes: compute_boxes,\n    box_area: box_area\n  };\n\n}();\n\n\nfunction FragInfo(fragments, materialDefs) {\n  //Invariants\n  this.boxes = fragments.boxes; //Array of Float32, each bbox is a sextuplet\n  this.polygonCounts = fragments.polygonCounts;\n  this.hasPolygonCounts = !!this.polygonCounts;\n  this.materials = fragments.materials; //material indices (we need to know which fragments are transparent)\n  this.materialDefs = materialDefs;\n  this.count = fragments.length;\n  this.boxStride = 6;\n  this.wantSort = true;\n}\n\nFragInfo.prototype.getCount = function () {\n  return this.count;\n};\n\nFragInfo.prototype.isTransparent = function (i) {\n  return this.materialDefs && this.materialDefs[this.materials[i]] ? this.materialDefs[this.materials[i]].transparent : false;\n};\n\nFragInfo.prototype.getPolygonCount = function (i) {\n  return this.polygonCounts[i];\n};\n\n/**\n * Given a list of LMV fragments, builds a spatial index for view-dependent traversal and hit testing.\n * @constructor\n */\nfunction BVHBuilder(fragments, materialDefs, finfo) {\n\n  //Initialize the inputs (bboxes, transparent flags, polygon counts)\n  this.finfo = finfo || new FragInfo(fragments, materialDefs);\n\n  this.prim_count = this.finfo.getCount();\n\n  //To be initialized by build() function based on build options\n  this.frags_per_leaf_node = -1;\n  this.frags_per_inner_node = -1;\n  this.nodes = null;\n\n  this.work_buf = new ArrayBuffer(this.prim_count * 4);\n  this.sort_prims = new Int32Array(this.work_buf);\n\n  //Allocate memory buffer for re-ordered fragment primitive indices,\n  //which will be sorted by node ownership and point to the index\n  //of the fragment data.\n  this.primitives = new Int32Array(this.prim_count);\n\n  //The BVH split algorithm works based on centroids of the bboxes.\n  this.centroids = new Float32Array(POINT_STRIDE * this.prim_count);\n\n  //BBoxes and centroid bboxes for opaque and transparent primitive sets\n  this.boxv_o = new Float32Array(6);\n  this.boxc_o = new Float32Array(6);\n  this.boxv_t = new Float32Array(6);\n  this.boxc_t = new Float32Array(6);\n\n\n  this.recursion_stack = [];\n}\n\nBVHBuilder.prototype.sortPrimitives = function (wantSort) {\n\n  var prim_sizes = new Float32Array(this.work_buf);\n  var primitives = this.primitives;\n  var numTransparent = 0;\n\n  //Sort the input objects by size\n  //We assume all LMV SVF files come\n  //sorted by draw priority already, so in theory we can skip this step.\n  //This turns out to not be the case - some fragments are badly sorted.\n  //Part of the reason may be that the surface area of the geometry itself,\n  //not its bounding box, is used to sort by physical size in LMVTK.\n  //In any case, the transparent objects do not always come last (bug in LMVTK?),\n  //so we still have to pull them out to the end of the list, so some sorting\n  //takes place no matter how this value is set.\n  // Turning this option on will mean that the BVH building process as a whole\n  // will be 45% to 75% longer, for large models - full sorting takes awhile.\n  // In absolute terms this is an increase of a maximum of 1.15 seconds for a\n  // very large model (one with over 1 million fragments, i.e., mesh instances).\n  // This cost may be acceptable. For smaller models - "only" 70K instances -\n  // the cost is 0.05 seconds. For 130k instances, 0.1 seconds. The rise is\n  // slightly more than linear, but not excessively slow. I think it\'s acceptable,\n  // given that the cost is still much less than loading even a small part of the\n  // model.\n  var doSort = wantSort;\n\n  // console.log("BVH sort is " + WANT_SORT);\n\n  var i, iEnd;\n  for (i = 0, iEnd = this.prim_count; i < iEnd; i++) {\n\n    //Start with trivial 1:1 order of the indices array\n    primitives[i] = i;\n\n    var transparent = this.finfo.isTransparent(i);\n\n    if (transparent)\n    numTransparent++;\n\n    if (doSort) {\n      prim_sizes[i] = BVHModule.box_area(this.finfo.boxes, this.finfo.boxStride * i);\n\n      //In order to make transparent objects appear last,\n      //we give them a negative size, so that they are naturally\n      //sorted last in the sort by size.\n      if (transparent)\n      prim_sizes[i] = -prim_sizes[i];\n    } else {\n      //We still need the transparency flag for the loop below\n      //where we find the last opaque item, but we can\n      //short-cut the size computation.\n      prim_sizes[i] = transparent ? -1 : 1;\n    }\n  }\n\n\n  if (doSort) {\n    Array.prototype.sort.call(this.primitives, function (a, b) {\n      return prim_sizes[b] - prim_sizes[a];\n    });\n  } else {\n    if (numTransparent && numTransparent < this.prim_count) {\n\n      var tmpTransparent = new Int32Array(numTransparent);\n      var oidx = 0,tidx = 0;\n\n      for (i = 0, iEnd = this.prim_count; i < iEnd; i++) {\n        if (prim_sizes[i] >= 0)\n        primitives[oidx++] = primitives[i];else\n\n        tmpTransparent[tidx++] = primitives[i];\n      }\n\n      primitives.set(tmpTransparent, this.prim_count - numTransparent);\n    }\n  }\n\n  this.first_transparent = this.prim_count - numTransparent;\n};\n\n\nBVHBuilder.prototype.build = function (options) {\n  //Kick off the BVH build.\n\n  var useSlimNodes = options && !!options.useSlimNodes;\n\n  var self = this;\n  function assign_option(name, defaultVal) {\n    if (options.hasOwnProperty(name))\n    self[name] = options[name];else\n\n    self[name] = defaultVal;\n  }\n\n  // note: frags_per_leaf_node does *not* make an upper limit for the number of frags per node.\n\n  //options for build optimized for rasterization renderer scenes\n  if (useSlimNodes) {\n    assign_option("frags_per_leaf_node", 1);\n    assign_option("frags_per_inner_node", 0);\n    assign_option("frags_per_leaf_node_transparent", 1);\n    assign_option("frags_per_inner_node_transparent", 0);\n    assign_option("max_polys_per_node", Infinity);\n  } else {\n    var multiplier = options.isWeakDevice ? 0.5 : 1.0;\n\n    //TODO: tune these constants\n    assign_option("frags_per_leaf_node", 0 | 256 * multiplier);\n    //Placing fragments at inner nodes places more emphasis on bigger objects during tree traversal\n    //but it can only be done for opaque objects. Transparent objects have to be strictly back to front\n    //traversal regardless of size, unless a unified traversal\n    assign_option("frags_per_inner_node", 0 | this.frags_per_leaf_node);\n    assign_option("frags_per_leaf_node_transparent", this.frags_per_leaf_node);\n    assign_option("frags_per_inner_node_transparent", 0);\n    assign_option("max_polys_per_node", 0 | 20000 * multiplier);\n  }\n\n  //Reuse existing node array if there\n  if (this.nodes && this.nodes.is_lean_node == useSlimNodes)\n  this.nodes.nodeCount = 0;else\n  {\n    var est_nodes = this.prim_count / this.frags_per_leaf_node;\n    var num_nodes = 1;\n    while (num_nodes < est_nodes)\n    num_nodes *= 2;\n\n    this.nodes = new NodeArray(num_nodes, options ? options.useSlimNodes : false);\n  }\n\n  this.sortPrimitives(this.finfo.wantSort);\n\n  BVHModule.compute_boxes(this);\n\n  //Init the root nodes at 0 for opaque\n  //and 1 for transparent objects\n  var root = this.nodes.nextNodes(2);\n\n  //Now kick off the recursive tree build\n\n  //Opaque\n  BVHModule.bvh_subdivide(this, root, 0, this.first_transparent - 1, this.boxv_o, this.boxc_o, false, 0);\n\n  var a;\n  while (this.recursion_stack.length) {\n    a = this.recursion_stack.pop();\n    BVHModule.bvh_subdivide(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7]);\n  }\n\n  //Transparent\n  BVHModule.bvh_subdivide(this, root + 1, this.first_transparent, this.prim_count - 1, this.boxv_t, this.boxc_t, true, 0);\n\n  while (this.recursion_stack.length) {\n    a = this.recursion_stack.pop();\n    BVHModule.bvh_subdivide(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7]);\n  }\n};\n\n/***/ }),\n\n/***/ "./src/wgs/scene/BufferGeometryUtils.js":\n/*!**********************************************!*\\\n  !*** ./src/wgs/scene/BufferGeometryUtils.js ***!\n  \\**********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getByteSize: () => (/* binding */ getByteSize),\n/* harmony export */   getIndexBufferArray: () => (/* binding */ getIndexBufferArray),\n/* harmony export */   getLineIndexBufferArray: () => (/* binding */ getLineIndexBufferArray),\n/* harmony export */   getPolygonCount: () => (/* binding */ getPolygonCount),\n/* harmony export */   isInterleavedGeometry: () => (/* binding */ isInterleavedGeometry)\n/* harmony export */ });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Checks if any attribute is an interleaved buffer, as LMV assumes all or none attributes are interleaved\n * @param {BufferGeometry} geom\n * @returns {boolean}\n */\nfunction isInterleavedGeometry(geom) {\n  let result;\n\n  result = !!geom.vb;\n\n\n\n\n\n\n  return result;\n}\n\n/**\n * Convenience accessor to the indices (index buffer or \'ib\') of a given geometry.\n *\n * @param {BufferGeometry} geometry - Geometry to grab the index buffer array from.\n * @returns {Uint16Array} - Typed array containing the indices of the given geometry.\n */\nfunction getIndexBufferArray(geometry) {\n  let ib;\n\n  ib = geometry.ib;\n\n\n\n\n  return ib;\n}\n\n/**\n * Convenience accessor to the edge/line indices (indexline buffer or \'iblines\') of a given geometry.\n *\n * @param {BufferGeometry} geometry - Geometry to grab the edge/line index buffer array from.\n * @returns {Uint16Array} - Typed array containing the edge/line indices of the given geometry.\n */\nfunction getLineIndexBufferArray(geometry) {\n  let iblines;\n\n  iblines = geometry.iblines;\n\n\n\n  return iblines;\n}\n\n// @todo: An accurate implementation for the polygon count is in GeometryList.addGeometry.\n// This function just captures the typical polyCount behavior used in most extensions.\nfunction getPolygonCount(geometry) {var _geometry$attributes$;\n  if (!geometry) {\n    return 0;\n  }\n\n  let indexLength = 0;\n\n  const ib = ((_geometry$attributes$ = geometry.attributes.index) === null || _geometry$attributes$ === void 0 ? void 0 : _geometry$attributes$.array) || geometry.ib;\n  indexLength = ib.length;\n\n\n\n\n\n  return indexLength / 3 || 0;\n}\n\nfunction getByteSize(geom) {var _geom$vb, _geom$ib, _geom$iblines;\n  // @todo - To avoid wrong byte size reporting, the geometry should keep track of this itself.\n  let res = 0;\n\n  res = (((_geom$vb = geom.vb) === null || _geom$vb === void 0 ? void 0 : _geom$vb.byteLength) || 0) + (((_geom$ib = geom.ib) === null || _geom$ib === void 0 ? void 0 : _geom$ib.byteLength) || 0) + (((_geom$iblines = geom.iblines) === null || _geom$iblines === void 0 ? void 0 : _geom$iblines.byteLength) || 0);\n\n\n\n\n\n  return res;\n}\n\n/***/ }),\n\n/***/ "./src/wgs/scene/DeriveTopology.js":\n/*!*****************************************!*\\\n  !*** ./src/wgs/scene/DeriveTopology.js ***!\n  \\*****************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeshAccessor: () => (/* binding */ MeshAccessor),\n/* harmony export */   createWireframe: () => (/* binding */ createWireframe)\n/* harmony export */ });\n/* harmony import */ var _VertexEnumerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VertexEnumerator */ "./src/wgs/scene/VertexEnumerator.js");\n/* harmony import */ var _LmvVector3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/* harmony import */ var _LmvBox3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LmvBox3 */ "./src/wgs/scene/LmvBox3.js");\n/* harmony import */ var _extensions_CompGeom_point_list_3d__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../extensions/CompGeom/point-list-3d */ "./extensions/CompGeom/point-list-3d.js");\n\n\n\n\n\n// @todo: exports of this file cannot access THREE, due to some worker thread constraints (e.g., GeomWorker).\n// Perhaps the import of THREE can be restricted using webpack (e.g., custom restrict-import-loader) or\n// custom linter rules (e.g., https://eslint.org/docs/latest/rules/no-restricted-imports).\n\n// @todo: This class seems to have a misleading name (and no documentation). It defines a\n// MeshAccessor and a helper for Wireframe (edges?) creation. There is nothing that involves\n// geometric topology nor any actual derivation of sth.\n\nfunction getVertices(geom, bbox) {\n\n  var vbuf = new Float32Array(3 * (0,_VertexEnumerator__WEBPACK_IMPORTED_MODULE_0__.getVertexCount)(geom));\n\n  function cb(v, n, uv, i) {\n    if (bbox) {\n      bbox.expandByPoint(v);\n    }\n    vbuf[3 * i] = v.x;\n    vbuf[3 * i + 1] = v.y;\n    vbuf[3 * i + 2] = v.z;\n  }\n\n  (0,_VertexEnumerator__WEBPACK_IMPORTED_MODULE_0__.enumMeshVertices)(geom, cb);\n\n  return vbuf;\n}\n\nfunction transformVertices(verts, toWorld) {\n\n  let _v1 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_1__.LmvVector3();\n\n  for (let i = 0; i < verts.length; i += 3) {\n    _v1.x = verts[i];\n    _v1.y = verts[i + 1];\n    _v1.z = verts[i + 2];\n\n    _v1.applyMatrix4(toWorld);\n\n    verts[i] = _v1.x;\n    verts[i + 1] = _v1.y;\n    verts[i + 2] = _v1.z;\n  }\n}\n\nlet _v1 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_1__.LmvVector3();\nlet _v2 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_1__.LmvVector3();\nlet _v3 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_1__.LmvVector3();\nlet _n1 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_1__.LmvVector3();\nlet _n2 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_1__.LmvVector3();\n\nclass MeshAccessor {\n\n  constructor(geom, toWorld, boundingBox) {\n\n    let inBox = geom.boundingBox || boundingBox;\n    let box = new _LmvBox3__WEBPACK_IMPORTED_MODULE_2__.LmvBox3();\n    if (inBox) {\n      box.copy(inBox);\n    }\n\n    this.geom = geom;\n    this.myVerts = getVertices(geom, inBox ? null : box);\n\n    //de-duplicate vertices based on position only (ignoring normals)\n    let upl = new _extensions_CompGeom_point_list_3d__WEBPACK_IMPORTED_MODULE_3__.UniquePointList3D(this.getV.bind(this), box, -1.0 / (1 << 16));\n    this.remap = new Array((0,_VertexEnumerator__WEBPACK_IMPORTED_MODULE_0__.getVertexCount)(geom));\n    for (let i = 0, j = 0; i < this.myVerts.length; i += 3, j++) {\n      this.remap[j] = upl.findOrAddPoint(this.myVerts[i], this.myVerts[i + 1], this.myVerts[i + 2], j);\n    }\n    /*\n            let remap = new Array(getVertexCount(geom));\n            for (let i=0,j=0; i<worldVerts.length; i+=3,j++) {\n                remap[j] = j;\n            }\n    */\n\n    //get vertices into world space -- we need this for\n    //correct angle calculations (in case there is non-uniform scaling, etc)\n    if (toWorld) {\n      transformVertices(this.myVerts, toWorld);\n    }\n\n  }\n\n  getV(i, v) {\n    v.x = this.myVerts[3 * i];\n    v.y = this.myVerts[3 * i + 1];\n    v.z = this.myVerts[3 * i + 2];\n  }\n\n  getNormal(i1, i2, i3, n) {\n    this.getV(i1, _v1);\n    this.getV(i2, _v2);\n    this.getV(i3, _v3);\n\n    _v2.sub(_v1);\n    _v3.sub(_v1);\n    _v2.cross(_v3);\n\n    n.copy(_v2).normalize();\n  }\n}\n\n// @todo: instead of enriching geom, the edges (indexlines) should be returned as typed array\n// and used as required by the caller.\nfunction createWireframe(geom, toWorld, boundingBox, wantAllTriangleEdges) {\n\n  // note: Wide line geometries are actual 3D geometry meshes and do not require a dedicated treatment here.\n  // @todo: make this a convenience query, e.g., in BufferGeometryUtils.\n  const linesPresent = \'isLines\' in geom && geom.isLines ||\n  \'indexlines\' in geom || \'iblines\' in geom;\n\n  if (linesPresent) {\n    return;\n  }\n\n  let mt = new MeshAccessor(geom, toWorld, boundingBox);\n\n  //loop over all triangles, keeping track of\n  //edges that seem important\n  var seenEdges = {};\n\n  var edgeIB = [];\n\n  function doOneEdge(i1orig, i2orig, opp1orig) {\n\n    var i1 = mt.remap[i1orig];\n    var i2 = mt.remap[i2orig];\n    var opp1 = mt.remap[opp1orig];\n\n    //Ignore degenerates\n    if (i1 === i2 || i1 === opp1 || i2 === opp1)\n    return;\n\n    var reversed = false;\n    if (i1 > i2) {\n      var tmp = i1;\n      i1 = i2;\n      i2 = tmp;\n      reversed = true;\n    }\n\n    var e1 = seenEdges[i1];\n    if (e1) {\n      var opp2orig = e1[i2];\n      if (opp2orig === undefined) {\n        e1[i2] = reversed ? -opp1orig - 1 : opp1orig;\n      } else {\n        //We now know two triangles that share this edge,\n        //we can check if it\'s important\n\n        if (!wantAllTriangleEdges) {\n          //Use original indices, so that we\n          //can do the math with the correct winding order\n          mt.getNormal(i1orig, i2orig, opp1orig, _n1);\n\n          if (opp2orig < 0) {\n            mt.getNormal(i2, i1, mt.remap[-opp2orig - 1], _n2);\n          } else {\n            mt.getNormal(i1, i2, mt.remap[opp2orig], _n2);\n          }\n\n          var dot = _n1.dot(_n2);\n\n          if (Math.abs(dot) < 0.25) {\n            edgeIB.push(i1orig);\n            edgeIB.push(i2orig);\n          }\n        } else {\n          edgeIB.push(i1orig);\n          edgeIB.push(i2orig);\n        }\n\n        delete e1[i2];\n      }\n    } else {\n      seenEdges[i1] = {};\n      seenEdges[i1][i2] = opp1orig;\n    }\n  }\n\n  function tricb(vA, vB, vC, iA, iB, iC) {\n    doOneEdge(iA, iB, iC);\n    doOneEdge(iB, iC, iA);\n    doOneEdge(iC, iA, iB);\n  }\n\n  //find edges that have neighboring triangles at sharp angle\n  (0,_VertexEnumerator__WEBPACK_IMPORTED_MODULE_0__.enumMeshTriangles)(geom, tricb);\n\n  //process remaining edges (outer edges that only have one triangle)\n\n  for (var i1 in seenEdges) {\n    for (var i2 in seenEdges[i1]) {\n      edgeIB.push(parseInt(i1));\n      edgeIB.push(parseInt(i2));\n    }\n  }\n\n  if (edgeIB.length < 2) {\n    return;\n  }\n\n  // @todo: enrichment of buffer geometry/mesh should be either encapsulated or type-safe\n  // @todo: modelBuilder is calling this function with BufferGeometry objects, this is the one of\n  // two uses within the code base, and since THREE is not available here, the addGeometry\n  // function of model builder is adjusted accordingly. When called with a mesh object (e.g., in\n  // GeomWorker) the same enrichment is applied. Instead, this function should just return the\n  // results and let the caller handle the data: return edgeIB.length > 1 ? edgeIB : undefined;\n  geom.iblines = new Uint16Array(edgeIB.length);\n  geom.iblines.set(edgeIB);\n\n  /*\n  for (var i=0; i<geom.ib.length; i++) {\n      geom.ib[i] = remap[geom.ib[i]];\n  }\n  */\n}\n\n/***/ }),\n\n/***/ "./src/wgs/scene/InstanceTreeStorage.js":\n/*!**********************************************!*\\\n  !*** ./src/wgs/scene/InstanceTreeStorage.js ***!\n  \\**********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlatStringStorage: () => (/* binding */ FlatStringStorage),\n/* harmony export */   InstanceTreeAccess: () => (/* binding */ InstanceTreeAccess),\n/* harmony export */   InstanceTreeStorage: () => (/* binding */ InstanceTreeStorage)\n/* harmony export */ });\n/* harmony import */ var _file_loaders_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../file-loaders/lmvtk/common/StringUtils */ "./src/file-loaders/lmvtk/common/StringUtils.js");\n\n\n\n\nclass FlatStringStorage {\n\n  constructor(initial) {\n    if (initial) {\n      this.buf = initial.buf;\n      this.idx = initial.idx;\n      this.next = initial.next;\n    } else {\n      this.buf = new Uint8Array(256);\n      this.next = 0;\n      this.idx = [0];\n    }\n  }\n\n  allocate(len) {\n    if (this.buf.length - this.next < len) {\n      var nsz = Math.max(this.buf.length * 3 / 2, this.buf.length + len);\n      var nb = new Uint8Array(nsz);\n      nb.set(this.buf);\n      this.buf = nb;\n    }\n  }\n\n  add(s) {\n    if (s === null || typeof s === "undefined") {\n      return 0;\n    }\n\n    if (!s.length) {\n      this.idx.push(this.next);\n      return this.idx.length - 1;\n    }\n\n    var len = (0,_file_loaders_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.utf16to8)(s, null);\n    this.allocate(len);\n    this.next += (0,_file_loaders_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.utf16to8)(s, this.buf, this.next);\n    this.idx.push(this.next);\n    return this.idx.length - 1;\n  }\n\n  get(i) {\n    if (!i) {\n      return undefined;\n    }\n\n    var start = this.idx[i - 1];\n    var end = this.idx[i];\n    if (start === end)\n    return "";\n    return (0,_file_loaders_lmvtk_common_StringUtils__WEBPACK_IMPORTED_MODULE_0__.utf8BlobToStr)(this.buf, start, end - start);\n  }\n\n  flatten() {\n    this.idx = arrayToBuffer(this.idx);\n    //TODO: we could also clip this.buf to the actually used size, but that requires reallocation\n  }\n}\n\n\n\n//\n// struct Node {\n//     int dbId;\n//     int parentDbId;\n//     int firstChild; //if negative it\'s a fragment list\n//     int numChildren;\n//     int flags;   \n// };\n// sizeof(Node) == 20\nvar SIZEOF_NODE = 5, //integers\n  OFFSET_DBID = 0,\n  OFFSET_PARENT = 1,\n  OFFSET_FIRST_CHILD = 2,\n  OFFSET_NUM_CHILD = 3,\n  OFFSET_FLAGS = 4;\n\nfunction InstanceTreeStorage() {\n\n  this.nodes = [];\n  this.nextNode = 0;\n\n  this.children = [];\n  this.nextChild = 0;\n\n  this.dbIdToIndex = {};\n\n  this.names = [];\n  this.s2i = {}; //duplicate string pool\n  this.strings = new FlatStringStorage();\n  this.nameSuffixes = []; //integers\n\n  //Occupy index zero so that we can use index 0 as undefined\n  this.getIndex(0);\n}\n\nInstanceTreeStorage.prototype.getIndex = function (dbId) {\n\n  var index = this.dbIdToIndex[dbId];\n\n  if (index)\n  return index;\n\n  index = this.nextNode++;\n\n  //Allocate space for new node\n  this.nodes.push(dbId); //store the dbId as first integer in the Node structure\n  //Add four blank integers to be filled by setNode\n  for (var i = 1; i < SIZEOF_NODE; i++)\n  this.nodes.push(0);\n\n  this.dbIdToIndex[dbId] = index;\n\n  return index;\n};\n\nInstanceTreeStorage.prototype.setNode = function (dbId, parentDbId, name, flags, childrenIds, fragIds) {\n\n  var index = this.getIndex(dbId);\n\n  var baseOffset = index * SIZEOF_NODE;\n\n  var numChildren = childrenIds.length;\n  var hasFragments = fragIds && fragIds.length;\n  if (hasFragments) {\n    numChildren += fragIds.length;\n  }\n\n  this.nodes[baseOffset + OFFSET_PARENT] = parentDbId;\n  this.nodes[baseOffset + OFFSET_FIRST_CHILD] = this.nextChild;\n  this.nodes[baseOffset + OFFSET_NUM_CHILD] = hasFragments ? -numChildren : numChildren;\n  this.nodes[baseOffset + OFFSET_FLAGS] = flags;\n\n  var i;\n  for (i = 0; i < childrenIds.length; i++)\n  this.children[this.nextChild++] = this.getIndex(childrenIds[i]);\n\n  //Store fragIds as negative numbers so we can differentiate them when looking through\n  //the array later.\n  if (hasFragments) {\n    for (i = 0; i < fragIds.length; i++)\n    this.children[this.nextChild++] = -fragIds[i] - 1; //index 0 stored as -1, etc., since 0 is not negative\n  }\n\n  if (this.nextChild > this.children.length) {\n    // TODO: this code may run in a worker, replace console with something else\n    console.error("Child index out of bounds -- should not happen");\n  }\n\n  this.processName(index, name);\n};\n\nInstanceTreeStorage.prototype.processName = function (index, name) {\n\n  //Attempt to decompose the name into a base string + integer,\n  //like for example "Base Wall [12345678]" or "Crank Shaft:1"\n  //We will try to reduce memory usage by storing "Base Wall" just once.\n  var base;\n  var suffix;\n\n  //Try Revit style [1234] first\n  var iStart = -1;\n  var iEnd = -1;\n\n  if (name) {//name should not be empty, but hey, it happens.\n    iEnd = name.lastIndexOf("]");\n    iStart = name.lastIndexOf("[");\n\n    //Try Inventor style :1234\n    if (iStart === -1 || iEnd === -1) {\n      iStart = name.lastIndexOf(":");\n      iEnd = name.length;\n    }\n  }\n\n  //TODO: Any other separators? What does AutoCAD use?\n\n  if (iStart >= 0 && iEnd > iStart) {\n    base = name.slice(0, iStart + 1);\n    var ssuffix = name.slice(iStart + 1, iEnd);\n    suffix = parseInt(ssuffix, 10);\n\n    //make sure we get the same thing back when\n    //converting back to string, otherwise don\'t \n    //decompose it.\n    if (!suffix || suffix + "" !== ssuffix) {\n      base = name;\n      suffix = 0;\n    }\n  } else {\n    base = name;\n    suffix = 0;\n  }\n\n\n  var idx = this.s2i[base];\n  if (idx === undefined) {\n    idx = this.strings.add(base);\n    this.s2i[base] = idx;\n  }\n\n  this.names[index] = idx;\n  this.nameSuffixes[index] = suffix;\n};\n\n\nfunction arrayToBuffer(a) {\n  var b = new Int32Array(a.length);\n  b.set(a);\n  return b;\n}\n\nInstanceTreeStorage.prototype.flatten = function () {\n  this.nodes = arrayToBuffer(this.nodes);\n  this.children = arrayToBuffer(this.children);\n  this.names = arrayToBuffer(this.names);\n  this.nameSuffixes = arrayToBuffer(this.nameSuffixes);\n  this.strings.flatten();\n  this.s2i = null; //we don\'t need this temporary map once we\'ve built the strings list\n};\n\n\n\nfunction InstanceTreeAccess(nodeArray, rootId, nodeBoxes) {\n  this.nodes = nodeArray.nodes;\n  this.children = nodeArray.children;\n  this.dbIdToIndex = nodeArray.dbIdToIndex;\n  this.names = nodeArray.names;\n  this.nameSuffixes = nodeArray.nameSuffixes;\n  this.strings = new FlatStringStorage(nodeArray.strings);\n  this.rootId = rootId;\n  this.numNodes = this.nodes.length / SIZEOF_NODE;\n  this.visibleIds = null;\n\n  // only used if bboxes are precomputed\n  this.nodeBoxes = nodeBoxes;\n}\n\nInstanceTreeAccess.prototype.dtor = function () {\n  this.nodes = null;\n  this.children = null;\n  this.dbIdToIndex = null;\n  this.names = null;\n  this.nameSuffixes = null;\n  this.strings = null;\n  this.visibleIds = null;\n  this.nodeBoxes = null;\n};\n\nInstanceTreeAccess.prototype.getNumNodes = function () {\n  return this.numNodes;\n};\n\nInstanceTreeAccess.prototype.getIndex = function (dbId) {\n  return this.dbIdToIndex[dbId];\n};\n\nInstanceTreeAccess.prototype.name = function (dbId, includeCount) {\n  var idx = this.dbIdToIndex[dbId];\n  var base = this.strings.get(this.names[idx]);\n  var suffix = this.nameSuffixes[idx];\n  var name;\n  if (suffix) {\n    //NOTE: update this logic if more separators are supported in processName above\n    var lastChar = base.charAt(base.length - 1);\n    if (lastChar === "[")\n    name = base + suffix + "]";else\n\n    name = base + suffix;\n  } else {\n    name = base;\n  }\n\n  if (includeCount) {\n    if (!this.childCounts) {\n      this.computeChildCounts();\n    }\n    if (this.childCounts[dbId] > 0) {\n      name += " (" + this.childCounts[dbId] + ")";\n    }\n  }\n\n  return name;\n};\n\nInstanceTreeAccess.prototype.getParentId = function (dbId) {\n  var idx = this.dbIdToIndex[dbId];\n  return this.nodes[idx * SIZEOF_NODE + OFFSET_PARENT];\n};\n\nInstanceTreeAccess.prototype.getNodeFlags = function (dbId) {\n  var idx = this.dbIdToIndex[dbId];\n  return this.nodes[idx * SIZEOF_NODE + OFFSET_FLAGS];\n};\n\nInstanceTreeAccess.prototype.setNodeFlags = function (dbId, flags) {\n  var idx = this.dbIdToIndex[dbId];\n  if (idx) {\n    this.nodes[idx * SIZEOF_NODE + OFFSET_FLAGS] = flags;\n  }\n};\n\nInstanceTreeAccess.prototype.getNumChildren = function (dbId) {\n\n  var idx = this.dbIdToIndex[dbId];\n  var numChildren = this.nodes[idx * SIZEOF_NODE + OFFSET_NUM_CHILD];\n\n  //If numChildren is non-negative, then all children are nodes (not fragments)\n  if (numChildren >= 0)\n  return numChildren;\n\n  //Node has mixed fragments and child nodes, so we have to loop and collect just the node children\n  var firstChild = this.nodes[idx * SIZEOF_NODE + OFFSET_FIRST_CHILD];\n\n  numChildren = Math.abs(numChildren);\n\n  var numNodeChildren = 0;\n\n  for (var i = 0; i < numChildren; i++) {\n    var childIdx = this.children[firstChild + i];\n\n    //did we reach the fragment ids sub-list?\n    if (childIdx < 0)\n    break;\n\n    numNodeChildren++;\n  }\n\n  return numNodeChildren;\n};\n\nInstanceTreeAccess.prototype.getNumFragments = function (dbId) {\n  var idx = this.dbIdToIndex[dbId];\n\n  var numChildren = this.nodes[idx * SIZEOF_NODE + OFFSET_NUM_CHILD];\n\n  //If numChildren is non-negative, there aren\'t any fragments belonging to this node\n  if (numChildren >= 0)\n  return 0;\n\n  //Node has mixed fragments and child nodes, so we have to loop and collect just the node children\n  var firstChild = this.nodes[idx * SIZEOF_NODE + OFFSET_FIRST_CHILD];\n\n  numChildren = Math.abs(numChildren);\n\n  var numFragChildren = 0;\n\n  //Iterate backwards, because fragment children are at the back of the children list\n  for (var i = numChildren - 1; i >= 0; i--) {\n    var childIdx = this.children[firstChild + i];\n\n    //did we reach the inner node children ids sub-list?\n    if (childIdx >= 0)\n    break;\n\n    numFragChildren++;\n  }\n\n  return numFragChildren;\n};\n\n// NOTE: This can only be used if precomputed bboxes are available.\nInstanceTreeAccess.prototype.getNodeBox = function (dbId, dst) {\n  var idx = this.getIndex(dbId);\n  var off = idx * 6;\n  for (var i = 0; i < 6; i++)\n  dst[i] = this.nodeBoxes[off + i];\n};\n\n//Returns an array containing the dbIds of all objects\n//that are physically represented in the scene. Not all\n//objects in the property database occur physically in each graphics viewable.\nInstanceTreeAccess.prototype.getVisibleIds = function () {\n  if (!this.visibleIds) {\n    this.visibleIds = Object.keys(this.dbIdToIndex).map(function (k) {return parseInt(k);});\n  }\n\n  return this.visibleIds;\n};\n\n\nInstanceTreeAccess.prototype.enumNodeChildren = function (dbId, callback) {\n  var idx = this.dbIdToIndex[dbId];\n  var firstChild = this.nodes[idx * SIZEOF_NODE + OFFSET_FIRST_CHILD];\n  var numChildren = this.nodes[idx * SIZEOF_NODE + OFFSET_NUM_CHILD];\n\n  numChildren = Math.abs(numChildren);\n\n  for (var i = 0; i < numChildren; i++) {\n    var childIdx = this.children[firstChild + i];\n\n    //did we reach the fragment ids sub-list?\n    if (childIdx < 0)\n    break;\n\n    var childDbId = this.nodes[childIdx * SIZEOF_NODE + OFFSET_DBID];\n    if (callback(childDbId, dbId, idx)) {\n      return dbId;\n    }\n  }\n};\n\nInstanceTreeAccess.prototype.enumNodeFragments = function (dbId, callback) {\n  var idx = this.dbIdToIndex[dbId];\n  var firstChild = this.nodes[idx * SIZEOF_NODE + OFFSET_FIRST_CHILD];\n  var numChildren = this.nodes[idx * SIZEOF_NODE + OFFSET_NUM_CHILD];\n\n  //If numChildren is negative, it means there are fragments in the node\n  if (numChildren < 0) {\n    numChildren = -numChildren;\n    for (var i = 0; i < numChildren; i++) {\n      var childIdx = this.children[firstChild + i];\n\n      //skip past children that are inner nodes (not fragments)\n      if (childIdx > 0)\n      continue;\n\n      //Convert fragId from -1 based negative back to the actual fragId\n      if (callback(-childIdx - 1, dbId, idx)) {\n        return dbId;\n      }\n    }\n  }\n};\n\nInstanceTreeAccess.prototype.computeBoxes = function (fragBoxes) {\n\n  if (!this.nodeBoxes) {\n    this.nodeBoxes = new Float32Array(6 * this.numNodes);\n  }\n\n  var nodeAccess = this;\n  var idx = nodeAccess.getIndex(nodeAccess.rootId);\n  var nodeBoxes = nodeAccess.nodeBoxes;\n\n  function traverseChildren(child_dbId, parentDbID, parentIdx) {\n\n    var childIdx = nodeAccess.getIndex(child_dbId);\n\n    //Recurse, then add all child boxes to make this node\'s box\n    computeTreeBBoxesRec(child_dbId, childIdx);\n\n    var box_offset = parentIdx * 6;\n    var child_box_offset = childIdx * 6;\n    for (var k = 0; k < 3; k++) {\n      if (nodeBoxes[box_offset + k] > nodeBoxes[child_box_offset + k])\n      nodeBoxes[box_offset + k] = nodeBoxes[child_box_offset + k];\n      if (nodeBoxes[box_offset + k + 3] < nodeBoxes[child_box_offset + k + 3])\n      nodeBoxes[box_offset + k + 3] = nodeBoxes[child_box_offset + k + 3];\n    }\n  }\n\n  function traverseFragments(fragId, dbId, idx) {\n    var frag_box_offset = fragId * 6;\n    var box_offset = idx * 6;\n\n    for (var k = 0; k < 3; k++) {\n      if (nodeBoxes[box_offset + k] > fragBoxes[frag_box_offset + k])\n      nodeBoxes[box_offset + k] = fragBoxes[frag_box_offset + k];\n      if (nodeBoxes[box_offset + k + 3] < fragBoxes[frag_box_offset + k + 3])\n      nodeBoxes[box_offset + k + 3] = fragBoxes[frag_box_offset + k + 3];\n    }\n  }\n\n  function computeTreeBBoxesRec(dbId, idx) {\n\n    var box_offset = idx * 6;\n    nodeBoxes[box_offset] = nodeBoxes[box_offset + 1] = nodeBoxes[box_offset + 2] = Infinity;\n    nodeBoxes[box_offset + 3] = nodeBoxes[box_offset + 4] = nodeBoxes[box_offset + 5] = -Infinity;\n\n    if (nodeAccess.getNumChildren(dbId)) {\n      nodeAccess.enumNodeChildren(dbId, traverseChildren, true);\n    }\n\n    //Leaf node -- don\'t think it\'s possible for a node to have\n    //both children and leaf fragments, but we do handle that here.\n    if (nodeAccess.getNumFragments(dbId)) {\n      nodeAccess.enumNodeFragments(dbId, traverseFragments);\n    }\n\n  }\n\n  computeTreeBBoxesRec(nodeAccess.rootId, idx);\n};\n\nInstanceTreeAccess.prototype.computeChildCounts = function () {\n  if (!this.childCounts) {\n    this.childCounts = new Uint32Array(this.numNodes);\n  }\n\n  var nodeAccess = this;\n  var idx = nodeAccess.getIndex(nodeAccess.rootId);\n  var childCounts = nodeAccess.childCounts;\n\n  function traverseChildren(child_dbId, parentDbID, parentIdx) {\n\n    var childIdx = nodeAccess.getIndex(child_dbId);\n\n    //Recurse, then add all child boxes to make this node\'s box\n    let count = computeChildCountsRec(child_dbId, childIdx);\n\n    childCounts[parentDbID] += count;\n  }\n\n\n  function computeChildCountsRec(dbId, idx) {\n\n    let flags = nodeAccess.getNodeFlags(dbId);\n    let myCount = 0;\n\n    if (flags === 0x4 /*NODE_TYPE_COMPOSITE*/) {\n      //If it\'s a composite node, treat it as a single\n      //opaque object whose contents don\'t matter to the user\n      //for counting purposes.\n      myCount = 1;\n    } else {\n\n      if (nodeAccess.getNumChildren(dbId)) {\n        nodeAccess.enumNodeChildren(dbId, traverseChildren, true);\n      }\n\n      //Leaf node\n      if (nodeAccess.getNumFragments(dbId)) {\n        myCount = 1;\n      }\n    }\n\n    return myCount + childCounts[dbId];\n  }\n\n  computeChildCountsRec(nodeAccess.rootId, idx);\n};\n\n/***/ }),\n\n/***/ "./src/wgs/scene/LmvBox3.js":\n/*!**********************************!*\\\n  !*** ./src/wgs/scene/LmvBox3.js ***!\n  \\**********************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LmvBox3: () => (/* binding */ LmvBox3)\n/* harmony export */ });\n/* harmony import */ var _LmvVector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/**\n * @author bhouston / http://exocortex.com\n * @author WestLangley / http://github.com/WestLangley\n */\n/* Pruned version of THREE.Box3, for use in the LMV web worker */\n\n\n\nlet LmvBox3 = function (min, max) {\n\n  this.min = min !== undefined ? min : new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(Infinity, Infinity, Infinity);\n  this.max = max !== undefined ? max : new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(-Infinity, -Infinity, -Infinity);\n\n};\n\nLmvBox3.prototype = {\n\n  constructor: LmvBox3,\n\n  set: function (min, max) {\n\n    this.min.copy(min);\n    this.max.copy(max);\n\n    return this;\n\n  },\n\n  setFromPoints: function (points) {\n\n    this.makeEmpty();\n\n    for (var i = 0, il = points.length; i < il; i++) {\n\n      this.expandByPoint(points[i]);\n\n    }\n\n    return this;\n\n  },\n\n  setFromArray: function (array, offset) {\n\n    this.min.x = array[offset];\n    this.min.y = array[offset + 1];\n    this.min.z = array[offset + 2];\n\n    this.max.x = array[offset + 3];\n    this.max.y = array[offset + 4];\n    this.max.z = array[offset + 5];\n\n    return this;\n\n  },\n\n  copyToArray: function (array, offset) {\n\n    array[offset] = this.min.x;\n    array[offset + 1] = this.min.y;\n    array[offset + 2] = this.min.z;\n\n    array[offset + 3] = this.max.x;\n    array[offset + 4] = this.max.y;\n    array[offset + 5] = this.max.z;\n\n  },\n\n  setFromCenterAndSize: function () {\n\n    var v1 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n\n    return function (center, size) {\n\n      var halfSize = v1.copy(size).multiplyScalar(0.5);\n\n      this.min.copy(center).sub(halfSize);\n      this.max.copy(center).add(halfSize);\n\n      return this;\n\n    };\n\n  }(),\n\n  clone: function () {\n\n    return new this.constructor().copy(this);\n\n  },\n\n  copy: function (box) {\n\n    this.min.copy(box.min);\n    this.max.copy(box.max);\n\n    return this;\n\n  },\n\n  makeEmpty: function () {\n\n    this.min.x = this.min.y = this.min.z = Infinity;\n    this.max.x = this.max.y = this.max.z = -Infinity;\n\n    return this;\n\n  },\n\n  empty: function () {\n\n    // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;\n\n  },\n\n  isEmpty: function () {\n    // threejs backport - https://github.com/mrdoob/three.js/blob/dev/src/math/Box3.js\n    return this.empty();\n  },\n\n  center: function (optionalTarget) {\n    console.warn("LmvBox3.center() is deprecated. Use LmvBox3.getCenter() instead.");\n    return this.getCenter(optionalTarget);\n  },\n\n  getCenter: function (optionalTarget) {\n\n    var result = optionalTarget || new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    return result.addVectors(this.min, this.max).multiplyScalar(0.5);\n\n  },\n\n  size: function (optionalTarget) {\n\n    var result = optionalTarget || new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    return result.subVectors(this.max, this.min);\n\n  },\n\n  // For compatibility with latest THREE\n  getSize: function (optionalTarget) {\n\n    var result = optionalTarget || new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    return result.subVectors(this.max, this.min);\n\n  },\n\n  expandByPoint: function (point) {\n\n    this.min.min(point);\n    this.max.max(point);\n\n    return this;\n\n  },\n\n  expandByVector: function (vector) {\n\n    this.min.sub(vector);\n    this.max.add(vector);\n\n    return this;\n\n  },\n\n  expandByScalar: function (scalar) {\n\n    this.min.addScalar(-scalar);\n    this.max.addScalar(scalar);\n\n    return this;\n\n  },\n\n  containsPoint: function (point) {\n\n    if (point.x < this.min.x || point.x > this.max.x ||\n    point.y < this.min.y || point.y > this.max.y ||\n    point.z < this.min.z || point.z > this.max.z) {\n\n      return false;\n\n    }\n\n    return true;\n\n  },\n\n  containsBox: function (box) {\n\n    if (this.min.x <= box.min.x && box.max.x <= this.max.x &&\n    this.min.y <= box.min.y && box.max.y <= this.max.y &&\n    this.min.z <= box.min.z && box.max.z <= this.max.z) {\n\n      return true;\n\n    }\n\n    return false;\n\n  },\n\n  getParameter: function (point, optionalTarget) {\n\n    // This can potentially have a divide by zero if the box\n    // has a size dimension of 0.\n\n    var result = optionalTarget || new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n\n    return result.set(\n      (point.x - this.min.x) / (this.max.x - this.min.x),\n      (point.y - this.min.y) / (this.max.y - this.min.y),\n      (point.z - this.min.z) / (this.max.z - this.min.z)\n    );\n\n  },\n\n  isIntersectionBox: function (box) {\n\n    // using 6 splitting planes to rule out intersections.\n\n    if (box.max.x < this.min.x || box.min.x > this.max.x ||\n    box.max.y < this.min.y || box.min.y > this.max.y ||\n    box.max.z < this.min.z || box.min.z > this.max.z) {\n\n      return false;\n\n    }\n\n    return true;\n\n  },\n\n  // For compatibility with latest THREE\n  intersectsBox: function (box) {\n    return this.isIntersectionBox(box);\n  },\n\n  clampPoint: function (point, optionalTarget) {\n\n    var result = optionalTarget || new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    return result.copy(point).clamp(this.min, this.max);\n\n  },\n\n  distanceToPoint: function () {\n\n    var v1 = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n\n    return function (point) {\n\n      var clampedPoint = v1.copy(point).clamp(this.min, this.max);\n      return clampedPoint.sub(point).length();\n\n    };\n\n  }(),\n\n  intersect: function (box) {\n\n    this.min.max(box.min);\n    this.max.min(box.max);\n\n    return this;\n\n  },\n\n  union: function (box) {\n\n    this.min.min(box.min);\n    this.max.max(box.max);\n\n    return this;\n\n  },\n\n  applyMatrix4: function () {\n\n    var points = [\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(),\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(),\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(),\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(),\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(),\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(),\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3(),\n    new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3()];\n\n\n    return function (matrix) {\n\n      // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n      points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n      points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n      points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n      points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n      points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n      points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n      points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n      points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n      this.makeEmpty();\n      this.setFromPoints(points);\n\n      return this;\n\n    };\n\n  }(),\n\n  translate: function (offset) {\n\n    this.min.add(offset);\n    this.max.add(offset);\n\n    return this;\n\n  },\n\n  equals: function (box) {\n\n    return box.min.equals(this.min) && box.max.equals(this.max);\n\n  }\n\n};\n\n/***/ }),\n\n/***/ "./src/wgs/scene/LmvMatrix4.js":\n/*!*************************************!*\\\n  !*** ./src/wgs/scene/LmvMatrix4.js ***!\n  \\*************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LmvMatrix4: () => (/* binding */ LmvMatrix4)\n/* harmony export */ });\n/* harmony import */ var _LmvVector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://exocortex.com\n * @author WestLangley / http://github.com/WestLangley\n */\n/* Pruned version of THREE.Matrix4, for use in the LMV web worker */\n\n\n\nlet LmvMatrix4 = function (useDoublePrecision) {\n\n  if (useDoublePrecision) {\n\n    this.elements = new Float64Array([\n\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1]\n\n    );\n\n  } else {\n\n    this.elements = new Float32Array([\n\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1]\n\n    );\n\n  }\n\n  this.isDoublePrecision = !!useDoublePrecision;\n\n};\n\nLmvMatrix4.prototype = {\n\n  constructor: LmvMatrix4,\n\n  set: function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n\n    var te = this.elements;\n\n    te[0] = n11;te[4] = n12;te[8] = n13;te[12] = n14;\n    te[1] = n21;te[5] = n22;te[9] = n23;te[13] = n24;\n    te[2] = n31;te[6] = n32;te[10] = n33;te[14] = n34;\n    te[3] = n41;te[7] = n42;te[11] = n43;te[15] = n44;\n\n    return this;\n\n  },\n\n  identity: function () {\n\n    this.set(\n\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  copy: function (m) {\n\n    this.elements.set(m.elements);\n\n    return this;\n\n  },\n\n  makeRotationFromQuaternion: function (q) {\n\n    var te = this.elements;\n\n    var x = q.x,y = q.y,z = q.z,w = q.w;\n    var x2 = x + x,y2 = y + y,z2 = z + z;\n    var xx = x * x2,xy = x * y2,xz = x * z2;\n    var yy = y * y2,yz = y * z2,zz = z * z2;\n    var wx = w * x2,wy = w * y2,wz = w * z2;\n\n    te[0] = 1 - (yy + zz);\n    te[4] = xy - wz;\n    te[8] = xz + wy;\n\n    te[1] = xy + wz;\n    te[5] = 1 - (xx + zz);\n    te[9] = yz - wx;\n\n    te[2] = xz - wy;\n    te[6] = yz + wx;\n    te[10] = 1 - (xx + yy);\n\n    // last column\n    te[3] = 0;\n    te[7] = 0;\n    te[11] = 0;\n\n    // bottom row\n    te[12] = 0;\n    te[13] = 0;\n    te[14] = 0;\n    te[15] = 1;\n\n    return this;\n\n  },\n\n  multiply: function (n) {\n\n    return this.multiplyMatrices(this, n);\n\n  },\n\n  multiplyMatrices: function (a, b) {\n\n    var ae = a.elements;\n    var be = b.elements;\n    var te = this.elements;\n\n    var a11 = ae[0],a12 = ae[4],a13 = ae[8],a14 = ae[12];\n    var a21 = ae[1],a22 = ae[5],a23 = ae[9],a24 = ae[13];\n    var a31 = ae[2],a32 = ae[6],a33 = ae[10],a34 = ae[14];\n    var a41 = ae[3],a42 = ae[7],a43 = ae[11],a44 = ae[15];\n\n    var b11 = be[0],b12 = be[4],b13 = be[8],b14 = be[12];\n    var b21 = be[1],b22 = be[5],b23 = be[9],b24 = be[13];\n    var b31 = be[2],b32 = be[6],b33 = be[10],b34 = be[14];\n    var b41 = be[3],b42 = be[7],b43 = be[11],b44 = be[15];\n\n    te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n    te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n    te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n    te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n    te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n    te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n    te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n    te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n    te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n    te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n    te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n    te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n    te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n    te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n    te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n    te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n    return this;\n\n  },\n\n  multiplyToArray: function (a, b, r) {\n\n    var te = this.elements;\n\n    this.multiplyMatrices(a, b);\n\n    r[0] = te[0];r[1] = te[1];r[2] = te[2];r[3] = te[3];\n    r[4] = te[4];r[5] = te[5];r[6] = te[6];r[7] = te[7];\n    r[8] = te[8];r[9] = te[9];r[10] = te[10];r[11] = te[11];\n    r[12] = te[12];r[13] = te[13];r[14] = te[14];r[15] = te[15];\n\n    return this;\n\n  },\n\n  multiplyScalar: function (s) {\n\n    var te = this.elements;\n\n    te[0] *= s;te[4] *= s;te[8] *= s;te[12] *= s;\n    te[1] *= s;te[5] *= s;te[9] *= s;te[13] *= s;\n    te[2] *= s;te[6] *= s;te[10] *= s;te[14] *= s;\n    te[3] *= s;te[7] *= s;te[11] *= s;te[15] *= s;\n\n    return this;\n\n  },\n\n  determinant: function () {\n\n    var te = this.elements;\n\n    var n11 = te[0],n12 = te[4],n13 = te[8],n14 = te[12];\n    var n21 = te[1],n22 = te[5],n23 = te[9],n24 = te[13];\n    var n31 = te[2],n32 = te[6],n33 = te[10],n34 = te[14];\n    var n41 = te[3],n42 = te[7],n43 = te[11],n44 = te[15];\n\n    //TODO: make this more efficient\n    //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n    return (\n      n41 * (\n      +n14 * n23 * n32 -\n      n13 * n24 * n32 -\n      n14 * n22 * n33 +\n      n12 * n24 * n33 +\n      n13 * n22 * n34 -\n      n12 * n23 * n34) +\n\n      n42 * (\n      +n11 * n23 * n34 -\n      n11 * n24 * n33 +\n      n14 * n21 * n33 -\n      n13 * n21 * n34 +\n      n13 * n24 * n31 -\n      n14 * n23 * n31) +\n\n      n43 * (\n      +n11 * n24 * n32 -\n      n11 * n22 * n34 -\n      n14 * n21 * n32 +\n      n12 * n21 * n34 +\n      n14 * n22 * n31 -\n      n12 * n24 * n31) +\n\n      n44 * (\n      -n13 * n22 * n31 -\n      n11 * n23 * n32 +\n      n11 * n22 * n33 +\n      n13 * n21 * n32 -\n      n12 * n21 * n33 +\n      n12 * n23 * n31));\n\n\n\n\n  },\n\n  transpose: function () {\n\n    var te = this.elements;\n    var tmp;\n\n    tmp = te[1];te[1] = te[4];te[4] = tmp;\n    tmp = te[2];te[2] = te[8];te[8] = tmp;\n    tmp = te[6];te[6] = te[9];te[9] = tmp;\n\n    tmp = te[3];te[3] = te[12];te[12] = tmp;\n    tmp = te[7];te[7] = te[13];te[13] = tmp;\n    tmp = te[11];te[11] = te[14];te[14] = tmp;\n\n    return this;\n\n  },\n\n  flattenToArrayOffset: function (array, offset) {\n\n    var te = this.elements;\n\n    array[offset] = te[0];\n    array[offset + 1] = te[1];\n    array[offset + 2] = te[2];\n    array[offset + 3] = te[3];\n\n    array[offset + 4] = te[4];\n    array[offset + 5] = te[5];\n    array[offset + 6] = te[6];\n    array[offset + 7] = te[7];\n\n    array[offset + 8] = te[8];\n    array[offset + 9] = te[9];\n    array[offset + 10] = te[10];\n    array[offset + 11] = te[11];\n\n    array[offset + 12] = te[12];\n    array[offset + 13] = te[13];\n    array[offset + 14] = te[14];\n    array[offset + 15] = te[15];\n\n    return array;\n\n  },\n\n  setPosition: function (v) {\n\n    var te = this.elements;\n\n    te[12] = v.x;\n    te[13] = v.y;\n    te[14] = v.z;\n\n    return this;\n\n  },\n\n  invert: function (m) {\n    // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n    const te = this.elements,\n\n      n11 = te[0],n21 = te[1],n31 = te[2],n41 = te[3],\n      n12 = te[4],n22 = te[5],n32 = te[6],n42 = te[7],\n      n13 = te[8],n23 = te[9],n33 = te[10],n43 = te[11],\n      n14 = te[12],n24 = te[13],n34 = te[14],n44 = te[15],\n\n      t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n      t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n      t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n      t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n    const det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n    if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n\n    const detInv = 1 / det;\n\n    te[0] = t11 * detInv;\n    te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n    te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n    te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n\n    te[4] = t12 * detInv;\n    te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n    te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n    te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n\n    te[8] = t13 * detInv;\n    te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n    te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n    te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n\n    te[12] = t14 * detInv;\n    te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n    te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n    te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n\n    return this;\n  },\n\n  getInverse: function (m, throwOnInvertible) {\n    console.warn(\'LmvMatrix4.getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.\');\n    this.copy(m).invert();\n\n    // Pre-invert behavior\n    if (this.determinant() === 0) {\n      const msg = "Matrix4.getInverse(): can\'t invert matrix, determinant is 0";\n      if (throwOnInvertible || false) {\n        throw new Error(msg);\n      } else {\n        console.warn(msg);\n      }\n      this.identity();\n    }\n    return this;\n  },\n\n  scale: function (v) {\n\n    var te = this.elements;\n    var x = v.x,y = v.y,z = v.z;\n\n    te[0] *= x;te[4] *= y;te[8] *= z;\n    te[1] *= x;te[5] *= y;te[9] *= z;\n    te[2] *= x;te[6] *= y;te[10] *= z;\n    te[3] *= x;te[7] *= y;te[11] *= z;\n\n    return this;\n\n  },\n\n  getMaxScaleOnAxis: function () {\n\n    var te = this.elements;\n\n    var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n    var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n    var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\n    return Math.sqrt(Math.max(scaleXSq, Math.max(scaleYSq, scaleZSq)));\n\n  },\n\n  makeTranslation: function (x, y, z) {\n\n    this.set(\n\n      1, 0, 0, x,\n      0, 1, 0, y,\n      0, 0, 1, z,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationX: function (theta) {\n\n    var c = Math.cos(theta),s = Math.sin(theta);\n\n    this.set(\n\n      1, 0, 0, 0,\n      0, c, -s, 0,\n      0, s, c, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationY: function (theta) {\n\n    var c = Math.cos(theta),s = Math.sin(theta);\n\n    this.set(\n\n      c, 0, s, 0,\n      0, 1, 0, 0,\n      -s, 0, c, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationZ: function (theta) {\n\n    var c = Math.cos(theta),s = Math.sin(theta);\n\n    this.set(\n\n      c, -s, 0, 0,\n      s, c, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationAxis: function (axis, angle) {\n\n    // Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n    var c = Math.cos(angle);\n    var s = Math.sin(angle);\n    var t = 1 - c;\n    var x = axis.x,y = axis.y,z = axis.z;\n    var tx = t * x,ty = t * y;\n\n    this.set(\n\n      tx * x + c, tx * y - s * z, tx * z + s * y, 0,\n      tx * y + s * z, ty * y + c, ty * z - s * x, 0,\n      tx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeScale: function (x, y, z) {\n\n    this.set(\n\n      x, 0, 0, 0,\n      0, y, 0, 0,\n      0, 0, z, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  compose: function (position, quaternion, scale) {\n\n    this.makeRotationFromQuaternion(quaternion);\n    this.scale(scale);\n    this.setPosition(position);\n\n    return this;\n\n  },\n\n  decompose: function () {\n\n    var vector = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    var matrix = new LmvMatrix4(true);\n\n    return function (position, quaternion, scale) {\n\n      var te = this.elements;\n\n      var sx = vector.set(te[0], te[1], te[2]).length();\n      var sy = vector.set(te[4], te[5], te[6]).length();\n      var sz = vector.set(te[8], te[9], te[10]).length();\n\n      // if determine is negative, we need to invert one scale\n      var det = this.determinant();\n      if (det < 0) {\n        sx = -sx;\n      }\n\n      position.x = te[12];\n      position.y = te[13];\n      position.z = te[14];\n\n      // scale the rotation part\n\n      matrix.elements.set(this.elements); // at this point matrix is incomplete so we can\'t use .copy()\n\n      var invSX = 1 / sx;\n      var invSY = 1 / sy;\n      var invSZ = 1 / sz;\n\n      matrix.elements[0] *= invSX;\n      matrix.elements[1] *= invSX;\n      matrix.elements[2] *= invSX;\n\n      matrix.elements[4] *= invSY;\n      matrix.elements[5] *= invSY;\n      matrix.elements[6] *= invSY;\n\n      matrix.elements[8] *= invSZ;\n      matrix.elements[9] *= invSZ;\n      matrix.elements[10] *= invSZ;\n\n      quaternion.setFromRotationMatrix(matrix);\n\n      scale.x = sx;\n      scale.y = sy;\n      scale.z = sz;\n\n      return this;\n\n    };\n\n  }(),\n\n  //Added for LMV\n  transformPoint: function (pt) {\n\n    // input: THREE.Matrix4 affine matrix\n\n    var x = pt.x,y = pt.y,z = pt.z;\n\n    var e = this.elements;\n\n    pt.x = e[0] * x + e[4] * y + e[8] * z + e[12];\n    pt.y = e[1] * x + e[5] * y + e[9] * z + e[13];\n    pt.z = e[2] * x + e[6] * y + e[10] * z + e[14];\n\n    return pt;\n  },\n\n  //Added for LMV\n  transformDirection: function (v) {\n\n    // input: THREE.Matrix4 affine matrix\n    // vector interpreted as a direction\n\n    var x = v.x,y = v.y,z = v.z;\n\n    var e = this.elements;\n\n    v.x = e[0] * x + e[4] * y + e[8] * z;\n    v.y = e[1] * x + e[5] * y + e[9] * z;\n    v.z = e[2] * x + e[6] * y + e[10] * z;\n\n    var len = Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\n    if (len > 0) {\n      var ilen = 1.0 / len;\n      v.x *= ilen;\n      v.y *= ilen;\n      v.z *= ilen;\n    }\n\n    return v;\n  },\n\n  equals(matrix) {\n\n    const te = this.elements;\n    const me = matrix.elements;\n\n    for (var i = 0; i < 16; i++) {\n\n      if (te[i] !== me[i]) return false;\n\n    }\n\n    return true;\n\n  },\n\n  fromArray: function (array) {\n\n    this.elements.set(array);\n\n    return this;\n\n  },\n\n  toArray: function () {\n\n    var te = this.elements;\n\n    return [\n    te[0], te[1], te[2], te[3],\n    te[4], te[5], te[6], te[7],\n    te[8], te[9], te[10], te[11],\n    te[12], te[13], te[14], te[15]];\n\n\n  },\n\n  clone: function () {\n\n    return new LmvMatrix4(this.isDoublePrecision).fromArray(this.elements);\n\n  }\n\n};\n\n/***/ }),\n\n/***/ "./src/wgs/scene/LmvVector3.js":\n/*!*************************************!*\\\n  !*** ./src/wgs/scene/LmvVector3.js ***!\n  \\*************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LmvVector3: () => (/* binding */ LmvVector3)\n/* harmony export */ });\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author *kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n/* Pruned version of THREE.Vector3, for use in the LMV web worker */\n\nlet LmvVector3 = function (x, y, z) {\n\n  this.x = x || 0;\n  this.y = y || 0;\n  this.z = z || 0;\n\n};\n\nLmvVector3.prototype = {\n\n  constructor: LmvVector3,\n\n  set: function (x, y, z) {\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n\n    return this;\n\n  },\n\n  setX: function (x) {\n\n    this.x = x;\n\n    return this;\n\n  },\n\n  setY: function (y) {\n\n    this.y = y;\n\n    return this;\n\n  },\n\n  setZ: function (z) {\n\n    this.z = z;\n\n    return this;\n\n  },\n\n  setComponent: function (index, value) {\n\n    switch (index) {\n\n      case 0:this.x = value;break;\n      case 1:this.y = value;break;\n      case 2:this.z = value;break;\n      default:throw new Error(\'index is out of range: \' + index);\n\n    }\n\n  },\n\n  getComponent: function (index) {\n\n    switch (index) {\n\n      case 0:return this.x;\n      case 1:return this.y;\n      case 2:return this.z;\n      default:throw new Error(\'index is out of range: \' + index);\n\n    }\n\n  },\n\n  clone: function () {\n\n    return new this.constructor(this.x, this.y, this.z);\n\n  },\n\n  copy: function (v) {\n\n    this.x = v.x;\n    this.y = v.y;\n    this.z = v.z;\n\n    return this;\n\n  },\n\n  add: function (v, w) {\n\n    if (w !== undefined) {\n\n      console.warn(\'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\');\n      return this.addVectors(v, w);\n\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n    this.z += v.z;\n\n    return this;\n\n  },\n\n  addScalar: function (s) {\n\n    this.x += s;\n    this.y += s;\n    this.z += s;\n\n    return this;\n\n  },\n\n  addVectors: function (a, b) {\n\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n    this.z = a.z + b.z;\n\n    return this;\n\n  },\n\n  addScaledVector: function (v, s) {\n\n    this.x += v.x * s;\n    this.y += v.y * s;\n    this.z += v.z * s;\n\n    return this;\n\n  },\n\n  sub: function (v, w) {\n\n    if (w !== undefined) {\n\n      console.warn(\'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\');\n      return this.subVectors(v, w);\n\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n    this.z -= v.z;\n\n    return this;\n\n  },\n\n  subScalar: function (s) {\n\n    this.x -= s;\n    this.y -= s;\n    this.z -= s;\n\n    return this;\n\n  },\n\n  subVectors: function (a, b) {\n\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n    this.z = a.z - b.z;\n\n    return this;\n\n  },\n\n  multiply: function (v, w) {\n\n    if (w !== undefined) {\n\n      console.warn(\'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\');\n      return this.multiplyVectors(v, w);\n\n    }\n\n    this.x *= v.x;\n    this.y *= v.y;\n    this.z *= v.z;\n\n    return this;\n\n  },\n\n  multiplyScalar: function (scalar) {\n\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n\n    return this;\n\n  },\n\n  multiplyVectors: function (a, b) {\n\n    this.x = a.x * b.x;\n    this.y = a.y * b.y;\n    this.z = a.z * b.z;\n\n    return this;\n\n  },\n\n  applyMatrix3: function (m) {\n\n    var x = this.x;\n    var y = this.y;\n    var z = this.z;\n\n    var e = m.elements;\n\n    this.x = e[0] * x + e[3] * y + e[6] * z;\n    this.y = e[1] * x + e[4] * y + e[7] * z;\n    this.z = e[2] * x + e[5] * y + e[8] * z;\n\n    return this;\n\n  },\n\n  applyMatrix4: function (m) {\n\n    // input: THREE.Matrix4 affine matrix\n\n    var x = this.x,y = this.y,z = this.z;\n\n    var e = m.elements;\n\n    this.x = e[0] * x + e[4] * y + e[8] * z + e[12];\n    this.y = e[1] * x + e[5] * y + e[9] * z + e[13];\n    this.z = e[2] * x + e[6] * y + e[10] * z + e[14];\n\n    return this;\n\n  },\n\n  applyProjection: function (m) {\n\n    // input: THREE.Matrix4 projection matrix\n\n    var x = this.x,y = this.y,z = this.z;\n\n    var e = m.elements;\n    var d = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]); // perspective divide\n\n    this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * d;\n    this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * d;\n    this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * d;\n\n    return this;\n\n  },\n\n  applyQuaternion: function (q) {\n\n    var x = this.x;\n    var y = this.y;\n    var z = this.z;\n\n    var qx = q.x;\n    var qy = q.y;\n    var qz = q.z;\n    var qw = q.w;\n\n    // calculate quat * vector\n\n    var ix = qw * x + qy * z - qz * y;\n    var iy = qw * y + qz * x - qx * z;\n    var iz = qw * z + qx * y - qy * x;\n    var iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n\n    this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n    return this;\n\n  },\n\n  transformDirection: function (m) {\n\n    // input: THREE.Matrix4 affine matrix\n    // vector interpreted as a direction\n\n    var x = this.x,y = this.y,z = this.z;\n\n    var e = m.elements;\n\n    this.x = e[0] * x + e[4] * y + e[8] * z;\n    this.y = e[1] * x + e[5] * y + e[9] * z;\n    this.z = e[2] * x + e[6] * y + e[10] * z;\n\n    this.normalize();\n\n    return this;\n\n  },\n\n  divide: function (v) {\n\n    this.x /= v.x;\n    this.y /= v.y;\n    this.z /= v.z;\n\n    return this;\n\n  },\n\n  divideScalar: function (scalar) {\n\n    if (scalar !== 0) {\n\n      var invScalar = 1 / scalar;\n\n      this.x *= invScalar;\n      this.y *= invScalar;\n      this.z *= invScalar;\n\n    } else {\n\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n\n    }\n\n    return this;\n\n  },\n\n  min: function (v) {\n\n    if (this.x > v.x) {\n\n      this.x = v.x;\n\n    }\n\n    if (this.y > v.y) {\n\n      this.y = v.y;\n\n    }\n\n    if (this.z > v.z) {\n\n      this.z = v.z;\n\n    }\n\n    return this;\n\n  },\n\n  max: function (v) {\n\n    if (this.x < v.x) {\n\n      this.x = v.x;\n\n    }\n\n    if (this.y < v.y) {\n\n      this.y = v.y;\n\n    }\n\n    if (this.z < v.z) {\n\n      this.z = v.z;\n\n    }\n\n    return this;\n\n  },\n\n  clamp: function (min, max) {\n\n    // This function assumes min < max, if this assumption isn\'t true it will not operate correctly\n\n    if (this.x < min.x) {\n\n      this.x = min.x;\n\n    } else if (this.x > max.x) {\n\n      this.x = max.x;\n\n    }\n\n    if (this.y < min.y) {\n\n      this.y = min.y;\n\n    } else if (this.y > max.y) {\n\n      this.y = max.y;\n\n    }\n\n    if (this.z < min.z) {\n\n      this.z = min.z;\n\n    } else if (this.z > max.z) {\n\n      this.z = max.z;\n\n    }\n\n    return this;\n\n  },\n\n  clampScalar: function () {\n\n    var min, max;\n\n    return function clampScalar(minVal, maxVal) {\n\n      if (min === undefined) {\n\n        min = new LmvVector3();\n        max = new LmvVector3();\n\n      }\n\n      min.set(minVal, minVal, minVal);\n      max.set(maxVal, maxVal, maxVal);\n\n      return this.clamp(min, max);\n\n    };\n\n  }(),\n\n  floor: function () {\n\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n    this.z = Math.floor(this.z);\n\n    return this;\n\n  },\n\n  ceil: function () {\n\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n    this.z = Math.ceil(this.z);\n\n    return this;\n\n  },\n\n  round: function () {\n\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    this.z = Math.round(this.z);\n\n    return this;\n\n  },\n\n  roundToZero: function () {\n\n    this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n    this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n    this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n\n    return this;\n\n  },\n\n  negate: function () {\n\n    this.x = -this.x;\n    this.y = -this.y;\n    this.z = -this.z;\n\n    return this;\n\n  },\n\n  dot: function (v) {\n\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n\n  },\n\n  lengthSq: function () {\n\n    return this.x * this.x + this.y * this.y + this.z * this.z;\n\n  },\n\n  length: function () {\n\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\n  },\n\n  lengthManhattan: function () {\n\n    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n\n  },\n\n  normalize: function () {\n\n    return this.divideScalar(this.length());\n\n  },\n\n  setLength: function (l) {\n\n    var oldLength = this.length();\n\n    if (oldLength !== 0 && l !== oldLength) {\n\n      this.multiplyScalar(l / oldLength);\n\n    }\n\n    return this;\n\n  },\n\n  lerp: function (v, alpha) {\n\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n    this.z += (v.z - this.z) * alpha;\n\n    return this;\n\n  },\n\n  lerpVectors: function (v1, v2, alpha) {\n\n    this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n\n    return this;\n\n  },\n\n  cross: function (v, w) {\n\n    if (w !== undefined) {\n\n      console.warn(\'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\');\n      return this.crossVectors(v, w);\n\n    }\n\n    var x = this.x,y = this.y,z = this.z;\n\n    this.x = y * v.z - z * v.y;\n    this.y = z * v.x - x * v.z;\n    this.z = x * v.y - y * v.x;\n\n    return this;\n\n  },\n\n  crossVectors: function (a, b) {\n\n    var ax = a.x,ay = a.y,az = a.z;\n    var bx = b.x,by = b.y,bz = b.z;\n\n    this.x = ay * bz - az * by;\n    this.y = az * bx - ax * bz;\n    this.z = ax * by - ay * bx;\n\n    return this;\n\n  },\n\n  projectOnVector: function () {\n\n    var v1, dot;\n\n    return function projectOnVector(vector) {\n\n      if (v1 === undefined) v1 = new LmvVector3();\n\n      v1.copy(vector).normalize();\n\n      dot = this.dot(v1);\n\n      return this.copy(v1).multiplyScalar(dot);\n\n    };\n\n  }(),\n\n  projectOnPlane: function () {\n\n    var v1;\n\n    return function projectOnPlane(planeNormal) {\n\n      if (v1 === undefined) v1 = new LmvVector3();\n\n      v1.copy(this).projectOnVector(planeNormal);\n\n      return this.sub(v1);\n\n    };\n\n  }(),\n\n  reflect: function () {\n\n    // reflect incident vector off plane orthogonal to normal\n    // normal is assumed to have unit length\n\n    var v1;\n\n    return function reflect(normal) {\n\n      if (v1 === undefined) v1 = new LmvVector3();\n\n      return this.sub(v1.copy(normal).multiplyScalar(2 * this.dot(normal)));\n\n    };\n\n  }(),\n\n  distanceTo: function (v) {\n\n    return Math.sqrt(this.distanceToSquared(v));\n\n  },\n\n  distanceToSquared: function (v) {\n\n    var dx = this.x - v.x;\n    var dy = this.y - v.y;\n    var dz = this.z - v.z;\n\n    return dx * dx + dy * dy + dz * dz;\n\n  },\n\n  setEulerFromRotationMatrix: function (m, order) {\n\n    console.error(\'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\');\n\n  },\n\n  setEulerFromQuaternion: function (q, order) {\n\n    console.error(\'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\');\n\n  },\n\n  getPositionFromMatrix: function (m) {\n\n    console.warn(\'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\');\n\n    return this.setFromMatrixPosition(m);\n\n  },\n\n  getScaleFromMatrix: function (m) {\n\n    console.warn(\'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\');\n\n    return this.setFromMatrixScale(m);\n\n  },\n\n  getColumnFromMatrix: function (index, matrix) {\n\n    console.warn(\'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\');\n\n    return this.setFromMatrixColumn(index, matrix);\n\n  },\n\n  setFromMatrixPosition: function (m) {\n\n    this.x = m.elements[12];\n    this.y = m.elements[13];\n    this.z = m.elements[14];\n\n    return this;\n\n  },\n\n  setFromMatrixScale: function (m) {\n\n    var sx = this.set(m.elements[0], m.elements[1], m.elements[2]).length();\n    var sy = this.set(m.elements[4], m.elements[5], m.elements[6]).length();\n    var sz = this.set(m.elements[8], m.elements[9], m.elements[10]).length();\n\n    this.x = sx;\n    this.y = sy;\n    this.z = sz;\n\n    return this;\n\n  },\n\n  setFromMatrixColumn: function (index, matrix) {\n\n    var offset = index * 4;\n\n    var me = matrix.elements;\n\n    this.x = me[offset];\n    this.y = me[offset + 1];\n    this.z = me[offset + 2];\n\n    return this;\n\n  },\n\n  equals: function (v) {\n\n    return v.x === this.x && v.y === this.y && v.z === this.z;\n\n  },\n\n  fromArray: function (array, offset) {\n\n    if (offset === undefined) offset = 0;\n\n    this.x = array[offset];\n    this.y = array[offset + 1];\n    this.z = array[offset + 2];\n\n    return this;\n\n  },\n\n  toArray: function (array, offset) {\n\n    if (array === undefined) array = [];\n    if (offset === undefined) offset = 0;\n\n    array[offset] = this.x;\n    array[offset + 1] = this.y;\n    array[offset + 2] = this.z;\n\n    return array;\n\n  },\n\n  fromAttribute: function (attribute, index, offset) {\n\n    if (offset === undefined) offset = 0;\n\n    index = index * attribute.itemSize + offset;\n\n    this.x = attribute.array[index];\n    this.y = attribute.array[index + 1];\n    this.z = attribute.array[index + 2];\n\n    return this;\n\n  }\n\n};\n\n/***/ }),\n\n/***/ "./src/wgs/scene/MeshFlags.js":\n/*!************************************!*\\\n  !*** ./src/wgs/scene/MeshFlags.js ***!\n  \\************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeshFlags: () => (/* binding */ MeshFlags)\n/* harmony export */ });\nlet MeshFlags = {\n  // FragmentList flags\n  //visibility/highlight bitmask flags\n\n  //Byte 0\n\n  //NOTE: This is confusing and it should be fixed, but when the MESH_VISIBLE bit is off, the mesh\n  //will draw in ghosted mode. To completely skip drawing a mesh, set the HIDE flag.\n  MESH_VISIBLE: 1,\n  MESH_HIGHLIGHTED: 2,\n  MESH_HIDE: 4,\n  MESH_ISLINE: 8,\n  MESH_MOVED: 0x10, // indicates if an animation matrix is set\n  MESH_RENDERFLAG: 0x20,\n  MESH_NOTLOADED: 0x40, // the mesh has not yet loaded or has been unloaded\n  MESH_ISPOINT: 0x80, // indicates that the mesh is vertex-only\n\n  //Byte 1\n  //TODO: Two bits are enough to hold ISLINE, ISWIDELINE and ISPOINT, we don\'t need to waste three,\n  //but there is no point to optimizing this as long as the required flags go over one byte.\n  MESH_ISWIDELINE: 0x100, // indicates that the mesh is wide line\n  MESH_TRAVERSED: 0x200, // only used for paging: drawn fragments are tagged and then skipped by forEach() until the flag is being reset (e.g. on scene/camera changes)\n  MESH_DRAWN: 0x400 // only used for paging: drawn fragments are tagged. At the end of all render passes flag is copied to MESH_TRAVERSED.\n  // The Memory Limited Extension uses the high order three bits of this byte\n};\n\n/***/ }),\n\n/***/ "./src/wgs/scene/VertexEnumerator.js":\n/*!*******************************************!*\\\n  !*** ./src/wgs/scene/VertexEnumerator.js ***!\n  \\*******************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VertexEnumerator: () => (/* binding */ VertexEnumerator),\n/* harmony export */   enumMeshEdges: () => (/* binding */ enumMeshEdges),\n/* harmony export */   enumMeshIndices: () => (/* binding */ enumMeshIndices),\n/* harmony export */   enumMeshLines: () => (/* binding */ enumMeshLines),\n/* harmony export */   enumMeshTriangles: () => (/* binding */ enumMeshTriangles),\n/* harmony export */   enumMeshVertices: () => (/* binding */ enumMeshVertices),\n/* harmony export */   getIndicesCount: () => (/* binding */ getIndicesCount),\n/* harmony export */   getVertexCount: () => (/* binding */ getVertexCount)\n/* harmony export */ });\n/* harmony import */ var _LmvVector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LmvVector3 */ "./src/wgs/scene/LmvVector3.js");\n/* harmony import */ var _BufferGeometryUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferGeometryUtils */ "./src/wgs/scene/BufferGeometryUtils.js");\n\n\n//Utility logic for listing vertex data from LmvBufferGeometry interleaved buffers\n\n\n\n\n//These functions work for both workers side interleaved buffer structures\n//and main thread side LmvBufferGeometry instances. The difference in naming\n//if the index attribute on both sides is super annoying and should be cleaned up.\n\n\n/** Works for BufferGeometry as well as THREE.BufferGeometry. Supports interleaved and non-interleaved buffers.\n *   @param {BufferGeometry|THREE.BufferGeometry} geom\n *   @returns {number}\n */\nfunction getVertexCount(geom) {\n\n  if (geom.vb) {\n    // interleaved\n    return geom.vb.length / geom.vbstride;\n  }\n\n\n\n\n\n\n  // no interleaved buffer. Return count from position attribute or 0\n  return geom.attributes.position ? geom.attributes.position.array.length / 3 : 0;\n}\n\nfunction getIndicesCount(geometry) {\n\n  const indices = getIndexBuffer(geometry);\n\n  if (indices) {\n\n    var groups = geometry.groups;\n\n    if (!groups || groups.length === 0) {\n      return indices.length;\n    }\n\n    let res = 0;\n\n    for (var oi = 0, ol = groups.length; oi < ol; ++oi) {\n      res += groups[oi].count;\n    }\n\n    return res;\n\n  } else {\n    return getVertexCount(geometry);\n  }\n}\n\nvar _p, _n, _uv;\nvar _normalsMatrix;\n\n/**\n * @typedef {Object} PositionVBInfo\n * @property {Float32Array} positions - Vertex buffer containing position data\n * @property {number} poffset - The array buffer offset for position data\n * @property {number} stride - The array buffer stride for both positions and normals\n */\n\n/**\n * @typedef {Object} NormalVBInfo\n * @property {Float32Array} normals - Vertex buffer containing normal data\n * @property {number} noffset - The array buffer offset for normal data\n */\n\n/**\n * @param {MeshData} mdata\n * @returns {PositionVBInfo}\n */\nfunction extractVertexBufferPositionDataFromMeshData(mdata) {\n  const attributes = mdata.attributes;\n  let positions, stride, poffset;\n  // Get the offset to positions in the buffer. Be careful, 2D buffers\n  // don\'t use the \'position\' attribute for positions. Reject those.\n  if (mdata.vblayout) {\n    if (!mdata.vblayout.position)\n    return { positions: undefined, poffset: undefined };\n    poffset = mdata.vblayout.position.offset;\n  } else if (!attributes.position)\n  return { positions: undefined, poffset: undefined };else\n  {\n    poffset = attributes.position.offset || 0;\n  }\n  positions = mdata.vb || attributes.position.array;\n  stride = mdata.vb ? mdata.vbstride : 3;\n  return { positions, stride, poffset };\n}\n\n/**\n * Gathers minimum info to traverse the positions stored in an array buffer\n * @param {BufferGeometry|MeshData} geometry\n * @returns {PositionVBInfo}\n */\nfunction extractVertexBufferPositionData(geometry) {\n  let result = {};\n\n\n  result = extractVertexBufferPositionDataFromMeshData(geometry);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  return result;\n}\n\n/**\n * Gathers minimum info to traverse the normals stored in an interleaved array buffer\n * @param {BufferGeometry|MeshData} geometry\n * @returns {NormalVBInfo}\n */\nfunction extractVertexBufferNormalData(geometry) {\n  const attributes = geometry.attributes;\n  let normals, nattr;\n  let noffset = 0;\n  let noffsetFactor = 1;\n\n  normals = geometry.vb || attributes.normal && attributes.normal.array;\n  nattr = geometry.vblayout ? geometry.vblayout.normal : attributes.normal || null;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  if (nattr) {\n    noffset = nattr.offset || 0;\n    noffset *= noffsetFactor;\n  } else {\n    normals = null;\n  }\n\n\n  if (nattr && !nattr.array && (nattr.itemSize !== 3 || nattr.bytesPerItem !== 4)) {\n    //console.log("Normals are packed, will be skipped from enumMeshTriangles. Use packNormals=false load option.");\n    normals = null;\n  }\n\n\n\n\n\n\n  return { normals, noffset };\n}\n\n/**\n * Extracts the indices array\n * @param {BufferGeometry|MeshData} geometry\n * @returns {Uint16Array|null|undefined}\n */\nfunction getIndexBuffer(geometry) {\n  // @todo BufferGeometryUtils.getIndexBufferArray has different but similar behavior, consider consolidation later.\n  let indices;\n\n  indices = geometry.ib || geometry.indices || (geometry.index ? geometry.index.array : null);\n\n\n\n\n\n\n\n  return indices;\n}\n\nfunction enumMeshVertices(geometry, callback, matrix) {\n\n  var attributes = geometry.attributes;\n\n  if (!_p) {\n    _p = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    _n = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    _uv = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n  }\n\n  if (matrix) {\n    if (!_normalsMatrix)\n    _normalsMatrix = new THREE.Matrix3();\n\n    _normalsMatrix.getNormalMatrix(matrix);\n  }\n\n  const { positions, stride, poffset } = extractVertexBufferPositionData(geometry);\n  const { normals, noffset } = extractVertexBufferNormalData(geometry);\n  if (!positions) return; // No positions, what to do??\n\n  //TODO: UV channel\n\n  var vcount = getVertexCount(geometry);\n\n  var pi = poffset;\n  var ni = noffset;\n  for (var i = 0; i < vcount; i++, pi += stride, ni += stride) {\n\n    _p.set(positions[pi], positions[pi + 1], positions[pi + 2]);\n\n    if (matrix)\n    _p.applyMatrix4(matrix);\n\n    if (normals) {\n      _n.set(normals[ni], normals[ni + 1], normals[ni + 2]);\n\n      if (matrix) {\n        _n.applyMatrix3(_normalsMatrix);\n      }\n    }\n\n    //TODO: UV channel\n\n    callback(_p, normals ? _n : null, null /*, _uv*/, i);\n  }\n}\n\nfunction enumMeshIndices(geometry, callback) {\n  const indices = getIndexBuffer(geometry);\n\n  if (indices) {\n\n    let groups = geometry.groups;\n\n    if (!groups || groups.length === 0) {\n      groups = [{ start: 0, count: indices.length, index: 0 }];\n    }\n\n    for (let oi = 0, ol = groups.length; oi < ol; ++oi) {\n\n      let start = groups[oi].start;\n      let count = groups[oi].count;\n      let index = 0;\n\n      index = groups[oi].index;\n\n\n      for (let i = start, il = start + count; i < il; i += 3) {\n\n        let a = index + indices[i];\n        let b = index + indices[i + 1];\n        let c = index + indices[i + 2];\n\n        callback(a, b, c);\n      }\n    }\n  } else {\n\n    let vcount = getVertexCount(geometry);\n\n    for (let i = 0; i < vcount; i++) {\n\n      let a = 3 * i;\n      let b = 3 * i + 1;\n      let c = 3 * i + 2;\n\n      callback(a, b, c);\n    }\n  }\n}\n\n\nvar vA, vB, vC, nA, nB, nC;\n\nfunction enumMeshTriangles(geometry, callback) {\n\n  var a, b, c;\n\n  if (!vA) {\n    vA = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    vB = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    vC = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n\n    nA = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    nB = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    nC = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n  }\n\n  const { positions, stride, poffset } = extractVertexBufferPositionData(geometry);\n  const { normals, noffset } = extractVertexBufferNormalData(geometry);\n  const indices = getIndexBuffer(geometry);\n  if (!positions) return; // No positions, what to do??\n\n  if (indices) {\n\n    var groups = geometry.groups;\n\n    if (!groups || groups.length === 0) {\n      groups = [{ start: 0, count: indices.length, index: 0 }];\n    }\n\n    for (var oi = 0, ol = groups.length; oi < ol; ++oi) {\n\n      var start = groups[oi].start;\n      var count = groups[oi].count;\n      var index = 0;\n\n      index = groups[oi].index;\n\n\n      for (var i = start, il = start + count; i < il; i += 3) {\n\n        a = index + indices[i];\n        b = index + indices[i + 1];\n        c = index + indices[i + 2];\n\n        var pa = a * stride + poffset;\n        var pb = b * stride + poffset;\n        var pc = c * stride + poffset;\n\n        vA.x = positions[pa];vA.y = positions[pa + 1];vA.z = positions[pa + 2];\n        vB.x = positions[pb];vB.y = positions[pb + 1];vB.z = positions[pb + 2];\n        vC.x = positions[pc];vC.y = positions[pc + 1];vC.z = positions[pc + 2];\n\n        if (normals) {\n          var na = a * stride + noffset;\n          var nb = b * stride + noffset;\n          var nc = c * stride + noffset;\n\n          nA.x = normals[na];nA.y = normals[na + 1];nA.z = normals[na + 2];\n          nB.x = normals[nb];nB.y = normals[nb + 1];nB.z = normals[nb + 2];\n          nC.x = normals[nc];nC.y = normals[nc + 1];nC.z = normals[nc + 2];\n\n          callback(vA, vB, vC, a, b, c, nA, nB, nC, i / 3);\n        } else {\n          callback(vA, vB, vC, a, b, c, null, null, null, i / 3);\n        }\n\n\n      }\n\n    }\n\n  } else {\n\n    var vcount = getVertexCount(geometry);\n\n    for (var i = 0; i < vcount; i += 3) {\n\n      a = i;\n      b = i + 1;\n      c = i + 2;\n\n      var pa = a * stride + poffset;\n      var pb = b * stride + poffset;\n      var pc = c * stride + poffset;\n\n      vA.x = positions[pa];vA.y = positions[pa + 1];vA.z = positions[pa + 2];\n      vB.x = positions[pb];vB.y = positions[pb + 1];vB.z = positions[pb + 2];\n      vC.x = positions[pc];vC.y = positions[pc + 1];vC.z = positions[pc + 2];\n\n      if (normals) {\n        var na = a * stride + noffset;\n        var nb = b * stride + noffset;\n        var nc = c * stride + noffset;\n\n        nA.x = normals[na];nA.y = normals[na + 1];nA.z = normals[na + 2];\n        nB.x = normals[nb];nB.y = normals[nb + 1];nB.z = normals[nb + 2];\n        nC.x = normals[nc];nC.y = normals[nc + 1];nC.z = normals[nc + 2];\n\n        callback(vA, vB, vC, a, b, c, nA, nB, nC, i / 3);\n      } else {\n        callback(vA, vB, vC, a, b, c, null, null, null, i / 3);\n      }\n    }\n\n  }\n}\n\n\nvar vP, vQ;\n\nfunction enumMeshLines(geometry, callback) {\n\n  var attributes = geometry.attributes;\n\n  var a, b;\n\n  if (!vP) {\n    vP = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    vQ = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n  }\n\n  var istep = 2;\n  if (geometry.lineWidth) {\n    istep = 6;\n  }\n\n  const indices = getIndexBuffer(geometry);\n\n  if (indices) {\n\n    let positions, stride;\n\n    positions = geometry.vb ? geometry.vb : attributes.position.array;\n    stride = geometry.vb ? geometry.vbstride : 3;\n\n\n\n\n\n\n\n\n\n\n\n    var groups = geometry.groups;\n\n    if (!groups || groups.length === 0) {\n\n      groups = [{ start: 0, count: indices.length, index: 0 }];\n\n    }\n\n    for (var oi = 0, ol = groups.length; oi < ol; ++oi) {\n\n      var start = groups[oi].start;\n      var count = groups[oi].count;\n      var index = 0;\n\n      index = groups[oi].index;\n\n\n      for (var i = start, il = start + count, lineIdx = start / istep; i < il; i += istep, lineIdx++) {\n\n        a = index + indices[i];\n        b = index + indices[i + 1];\n\n        vP.x = positions[a * stride];vP.y = positions[a * stride + 1];vP.z = positions[a * stride + 2];\n        vQ.x = positions[b * stride];vQ.y = positions[b * stride + 1];vQ.z = positions[b * stride + 2];\n\n        callback(vP, vQ, a, b, lineIdx);\n      }\n\n    }\n\n  } else {\n\n    let positions, stride;\n\n    positions = geometry.vb ? geometry.vb : attributes.position.array;\n    stride = geometry.vb ? geometry.vbstride : 3;\n\n\n\n\n\n\n\n\n\n\n\n    for (var i = 0, il = positions.length / stride, lineIdx = 0; i < il; i += istep, lineIdx++) {\n\n      a = i;\n      b = i + 1;\n\n      vP.x = positions[a * stride];vP.y = positions[a * stride + 1];vP.z = positions[a * stride + 2];\n      vQ.x = positions[b * stride];vQ.y = positions[b * stride + 1];vQ.z = positions[b * stride + 2];\n\n      callback(vP, vQ, a, b, lineIdx);\n    }\n\n  }\n}\n\n\nfunction enumMeshEdges(geometry, callback) {\n\n  var a, b;\n\n  if (!vP) {\n    vP = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n    vQ = new _LmvVector3__WEBPACK_IMPORTED_MODULE_0__.LmvVector3();\n  }\n\n  var istep = 2;\n\n  let indices;\n\n  indices = geometry.iblines;\n\n\n\n\n\n\n\n\n  if (!indices) {\n    return;\n  }\n\n  let positions, stride;\n\n  positions = geometry.vb ? geometry.vb : attributes.position.array;\n  stride = geometry.vb ? geometry.vbstride : 3;\n\n\n\n\n\n\n\n\n\n\n\n  var groups = geometry.groups;\n\n  if (!groups || groups.length === 0) {\n\n    groups = [{ start: 0, count: indices.length, index: 0 }];\n\n  }\n\n  for (var oi = 0, ol = groups.length; oi < ol; ++oi) {\n\n    var start = groups[oi].start;\n    var count = groups[oi].count;\n    var index = 0;\n\n    index = groups[oi].index;\n\n\n    for (var i = start, il = start + count; i < il; i += istep) {\n\n      a = index + indices[i];\n      b = index + indices[i + 1];\n\n      vP.x = positions[a * stride];vP.y = positions[a * stride + 1];vP.z = positions[a * stride + 2];\n      vQ.x = positions[b * stride];vQ.y = positions[b * stride + 1];vQ.z = positions[b * stride + 2];\n\n      callback(vP, vQ, a, b);\n    }\n\n  }\n}\n\nlet VertexEnumerator = {\n  getVertexCount,\n  enumMeshVertices,\n  enumMeshIndices,\n  enumMeshTriangles,\n  enumMeshLines,\n  enumMeshEdges\n};\n\n/***/ }),\n\n/***/ "./src/wgs/scene/consolidation/GeomMergeTask.js":\n/*!******************************************************!*\\\n  !*** ./src/wgs/scene/consolidation/GeomMergeTask.js ***!\n  \\******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeomMergeTask: () => (/* binding */ GeomMergeTask),\n/* harmony export */   writeIdToBuffer: () => (/* binding */ writeIdToBuffer)\n/* harmony export */ });\n/**\n * A GeomMergeTask is used for mesh consolidation. It fills vertex buffer and id buffer of a consolidated mesh\n * based on a set of compatible input meshes.\n *\n * GeomMergeTask is shared by main wgs script and worker script, so that the same code can be used for single-threaded\n * and multi-threaded consolidation.\n */\n\n// unique task ids\nvar _nextTaskId = 1;\nfunction createTaskId() {return _nextTaskId++;}\n\nfunction GeomMergeTask() {\n\n  // Interleaved vertex buffers as Float32Array.\n  this.vb = null;\n\n  // floats per vertex\n  this.vbstride = 0;\n\n  // offsets in floats where to find position/normal in vertex buffer\n  this.posOffset = 0;\n  this.normalOffset = 0;\n\n  // matrices per src-geom (Float32Array with 16 floats per matrix)\n  this.matrices = null;\n  this.ranges = null;\n\n  // must be an Uint32Array that we can efficiently hand-over to the worker\n  this.dbIds = null;\n\n  // unique task-id used to find BufferGeometry when a merged vb is returned from worker\n  this.id = createTaskId();\n}\n\n/**\n *  Packs a Vector3 normal vector into 2 components. This is a CPU-side implementation of PackNormalsShaderChunk\n *  (see ShaderChunks.js)\n *\n *   @param {THREE.Vector3|LmvVector3} normal - InOut normal vector.\n *\n *  Note that \'normal\' must be normalized!\n */\nfunction encodeNormal(normal) {\n  normal.x = 0.5 * (1.0 + Math.atan2(normal.y, normal.x) / Math.PI);\n  normal.y = 0.5 * (1.0 + normal.z);\n  normal.z = 0.0; // not used for result\n}\n\n/**\n * @param {THREE.Vector3|LmvVector3} normal - InOut normal vector. Input z is ignored.\n */\nfunction decodeNormal(normal) {\n  var angX = 2.0 * normal.x - 1.0;\n  var angY = 2.0 * normal.y - 1.0;\n  var scthX = Math.sin(angX * Math.PI);\n  var scthY = Math.cos(angX * Math.PI);\n  var scphiX = Math.sqrt(1.0 - angY * angY);\n  var scphiY = angY;\n  normal.x = scthY * scphiX;\n  normal.y = scthX * scphiX;\n  normal.z = scphiY;\n}\n\n/**\n *  Writes a dbId into 4 subsequent bytes of an Uint8Array. (4th is only for alignment and always 0)\n *   @param {Number}     dbId\n *   @param {Uint8Array} bufferUint8 - view into the vertex buffer that we write to.\n *   @param {Number}     writeIndex  - Index into the uint8 array where we write the first byte.\n */\nfunction writeIdToBuffer(dbId, bufferUint8, writeIndex) {\n  bufferUint8[writeIndex++] = dbId & 0xff;\n  bufferUint8[writeIndex++] = dbId >> 8 & 0xff;\n  bufferUint8[writeIndex++] = dbId >> 16 & 0xff;\n  bufferUint8[writeIndex] = 0; // dbIds are only vec3 in the shader\n}\n\n// We don\'t have THREE.Matrix3 in a worker, so that we cannot use getNormalTransform()\nfunction getNormalMatrix(matrix, dstMatrix) {\n\n  // eliminate translation part\n  dstMatrix.copy(matrix);\n  dstMatrix[12] = 0;\n  dstMatrix[13] = 0;\n  dstMatrix[14] = 0;\n\n  // tranpose of inverse\n  return dstMatrix.invert().transpose();\n}\n\n/**\n *  Transforms positions and normals of a vertex buffer range.\n *\n *  NOTE: Only interleaved buffers with packed normals are supported.\n *\n *   @param {GeomMergeTask} geom\n *   @param {Uint16Array}   vbUint16     - additional uint16-view to interleaved vertex-buffer\n *   @param {LmvMatrix4}    matrix\n *   @param {Number}        [rangeStart] - First vertex to transform. (default: 0)\n *   @param {Number}        [rangeEnd]   - End of vertex range.       (default: #vertices)\n *   @param {LmvMatrix4}    tmpMatrix    - reused tmp matrix\n *   @param {LmvVector3}    tmpVec       - reused tmp vector\n */\nvar transformVertexRange = function (geom, vbUint16, matrix, rangeStart, rangeEnd, tmpMatrix, tmpVec) {\n\n  // transform positions\n  var posOffset = geom.posOffset;\n  for (var i = rangeStart; i < rangeEnd; i++) {\n\n    // read vertex position i\n    var offset = i * geom.vbstride + posOffset;\n    tmpVec.set(geom.vb[offset], geom.vb[offset + 1], geom.vb[offset + 2]);\n\n    tmpVec.applyMatrix4(matrix);\n\n    // write vertex position i\n    geom.vb[offset] = tmpVec.x;\n    geom.vb[offset + 1] = tmpVec.y;\n    geom.vb[offset + 2] = tmpVec.z;\n  }\n\n  // transform normals (if available)\n  if (geom.normalOffset !== -1) {\n\n    // To transform normals, we need an Uint16-view to the data.\n    // Packed normals are 2-component Uint16-vectors.\n    var uint16PerVertex = geom.vbstride * 2; // Multiply by 2, because vbstride and offset\n    var uint16NormalOffset = geom.normalOffset * 2; // are counting 32Bit floats.\n    var maxUint16 = 0xFFFF;\n\n    // compute normal transform\n    var normalMatrix = getNormalMatrix(matrix, tmpMatrix);\n\n    // transform normal vectors\n    for (i = rangeStart; i < rangeEnd; i++) {\n      // read byte-normal of vertex i\n      var normalIndex = i * uint16PerVertex + uint16NormalOffset;\n      tmpVec.set(vbUint16[normalIndex], vbUint16[normalIndex + 1], 0.0);\n\n      // decode to vec3 with components in [0,1]\n      tmpVec.divideScalar(maxUint16);\n      decodeNormal(tmpVec);\n\n      // Note that normalMatrix is a LmvMatrix4 (although we only use 3x3 matrix)\n      tmpVec.applyMatrix4(normalMatrix);\n\n      // Note that encodeNormal requires normalized values. Although a decodedNormal is\n      // always normalized, the normalMatrix may involve a scaling.\n      tmpVec.normalize();\n\n      // encode back to 2-component uint16\n      encodeNormal(tmpVec);\n      tmpVec.multiplyScalar(maxUint16);\n\n      // write back to vertex buffer\n      vbUint16[normalIndex] = tmpVec.x;\n      vbUint16[normalIndex + 1] = tmpVec.y;\n    }\n  }\n};\n\n// read matrix i from Float32 array to target LmvMatrix4\nfunction getMatrix(index, array, target) {\n  // TypedArray.set does not support a srcOffset parameter. So we have to use manual copy here.\n  var offset = 16 * index;\n  for (var i = 0; i < 16; i++) {\n    target.elements[i] = array[i + offset];\n  }\n}\n\n/**\n *  Run merge task. This can be done using Vector/Matrix types from THREE (in main) or LmvVector/LmvMatrix (worker).\n *  To define which types to use while keeping the code independent, a preallocated matrix/vector must be provided.\n *\n *  @param {LmvMatrix4|THREE.Matrix4} matrix\n *  @param {LmvVector3|THREE.Vector3} vector\n *  @returns {Object} - merge result r, containing\n *                        {number}       r.id:        task id\n *                        {Float32Array} r.vb:        merged interleaved vertex buffer\n *                        {Uint8Array}   r.vertexIds: buffer for separate per-vertex id attribute\n */\nGeomMergeTask.prototype.run = function (matrix, vec) {\n\n  var vb = this.vb;\n  var vertexCount = vb.length / this.vbstride;\n\n  var tmpMatrix = matrix.clone();\n\n  // create buffer for per-vertex ids of consolidated mesh\n  var IDBytesPerVertex = 3;\n  var dstIds = new Uint8Array(IDBytesPerVertex * vertexCount);\n\n  // to transform normals, we need an Uint16-view to the interleaved vertex buffer.\n  // packed normals are 2-component Uin16-vectors.\n  var hasNormals = this.normalOffset !== -1;\n  var vbUint16 = hasNormals ? new Uint16Array(vb.buffer, vb.byteOffset, vb.length * 2) : null;\n\n  // transform vertex-range and write ids. Each range corresponds to a source fragment geometry\n  var ranges = this.ranges;\n  var matrices = this.matrices;\n  var numRanges = ranges.length - 1; // note that ranges contains an extra element for the last range end\n  for (var j = 0; j < numRanges; j++) {\n\n    // get vertex range corresponding to src geom i\n    var rangeBegin = ranges[j];\n    var rangeEnd = ranges[j + 1];\n\n    // get matrix for src geom i\n    getMatrix(j, matrices, matrix);\n\n    // transform vertex positions and normals in this range\n    transformVertexRange(this, vbUint16, matrix, rangeBegin, rangeEnd, tmpMatrix, vec);\n\n    // assign dbId to all vertices of this range\n    var dstIdsByteOffset = rangeBegin * IDBytesPerVertex;\n    var rangeLength = rangeEnd - rangeBegin;\n    var dbId = this.dbIds[j];\n    for (var k = 0; k < rangeLength; k++) {\n      writeIdToBuffer(dbId, dstIds, dstIdsByteOffset);\n      dstIdsByteOffset += IDBytesPerVertex;\n    }\n  }\n\n  // return result object. It contains everything we need to finish a single consolidated mesh.\n  return {\n    taskId: this.id,\n    vb: this.vb, // note that we have to pass back the byte-view\n    vertexIds: dstIds\n  };\n};\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/a-callable.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/a-callable.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar tryToString = __webpack_require__(/*! ../internals/try-to-string */ "./node_modules/core-js/internals/try-to-string.js");\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + \' is not a function\');\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/a-constructor.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/a-constructor.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "./node_modules/core-js/internals/is-constructor.js");\nvar tryToString = __webpack_require__(/*! ../internals/try-to-string */ "./node_modules/core-js/internals/try-to-string.js");\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw $TypeError(tryToString(argument) + \' is not a constructor\');\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/a-map.js":\n/*!*************************************************!*\\\n  !*** ./node_modules/core-js/internals/a-map.js ***!\n  \\*************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar has = (__webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js").has);\n\n// Perform ? RequireInternalSlot(M, [[MapData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/a-possible-prototype.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/a-possible-prototype.js ***!\n  \\****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == \'object\' || isCallable(argument)) return argument;\n  throw $TypeError("Can\'t set " + $String(argument) + \' as a prototype\');\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/a-set.js":\n/*!*************************************************!*\\\n  !*** ./node_modules/core-js/internals/a-set.js ***!\n  \\*************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar has = (__webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js").has);\n\n// Perform ? RequireInternalSlot(M, [[SetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/a-weak-map.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/a-weak-map.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar has = (__webpack_require__(/*! ../internals/weak-map-helpers */ "./node_modules/core-js/internals/weak-map-helpers.js").has);\n\n// Perform ? RequireInternalSlot(M, [[WeakMapData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/a-weak-set.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/a-weak-set.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar has = (__webpack_require__(/*! ../internals/weak-set-helpers */ "./node_modules/core-js/internals/weak-set-helpers.js").has);\n\n// Perform ? RequireInternalSlot(M, [[WeakSetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/add-to-unscopables.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/internals/add-to-unscopables.js ***!\n  \\**************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f);\n\nvar UNSCOPABLES = wellKnownSymbol(\'unscopables\');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] === undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/an-instance.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/an-instance.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "./node_modules/core-js/internals/object-is-prototype-of.js");\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw $TypeError(\'Incorrect invocation\');\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/an-object.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/an-object.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + \' is not an object\');\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-buffer-basic-detection.js":\n/*!************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-buffer-basic-detection.js ***!\n  \\************************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != \'undefined\' && typeof DataView != \'undefined\';\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-buffer-non-extensible.js":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-buffer-non-extensible.js ***!\n  \\***********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// FF26- bug: ArrayBuffers are non-extensible, but Object.isExtensible does not report it\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\nmodule.exports = fails(function () {\n  if (typeof ArrayBuffer == \'function\') {\n    var buffer = new ArrayBuffer(8);\n    // eslint-disable-next-line es/no-object-isextensible, es/no-object-defineproperty -- safe\n    if (Object.isExtensible(buffer)) Object.defineProperty(buffer, \'a\', { value: 8 });\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-buffer-view-core.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-buffer-view-core.js ***!\n  \\******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar NATIVE_ARRAY_BUFFER = __webpack_require__(/*! ../internals/array-buffer-basic-detection */ "./node_modules/core-js/internals/array-buffer-basic-detection.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar classof = __webpack_require__(/*! ../internals/classof */ "./node_modules/core-js/internals/classof.js");\nvar tryToString = __webpack_require__(/*! ../internals/try-to-string */ "./node_modules/core-js/internals/try-to-string.js");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\nvar defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "./node_modules/core-js/internals/define-built-in.js");\nvar defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "./node_modules/core-js/internals/define-built-in-accessor.js");\nvar isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "./node_modules/core-js/internals/object-is-prototype-of.js");\nvar getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "./node_modules/core-js/internals/object-get-prototype-of.js");\nvar setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "./node_modules/core-js/internals/object-set-prototype-of.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol(\'toStringTag\');\nvar TYPED_ARRAY_TAG = uid(\'TYPED_ARRAY_TAG\');\nvar TYPED_ARRAY_CONSTRUCTOR = \'TypedArrayConstructor\';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== \'Opera\';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === \'DataView\'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError(\'Target is not a typed array\');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + \' is not a typed array constructor\');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError(\'Incorrect invocation\');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineBuiltInAccessor(TypedArrayPrototype, TO_STRING_TAG, {\n    configurable: true,\n    get: function () {\n      return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n    }\n  });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-includes.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-includes.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "./node_modules/core-js/internals/to-absolute-index.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-iteration.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-iteration.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "./node_modules/core-js/internals/indexed-object.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\nvar arraySpeciesCreate = __webpack_require__(/*! ../internals/array-species-create */ "./node_modules/core-js/internals/array-species-create.js");\n\nvar push = uncurryThis([].push);\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE === 1;\n  var IS_FILTER = TYPE === 2;\n  var IS_SOME = TYPE === 3;\n  var IS_EVERY = TYPE === 4;\n  var IS_FIND_INDEX = TYPE === 6;\n  var IS_FILTER_REJECT = TYPE === 7;\n  var NO_HOLES = TYPE === 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var length = lengthOfArrayLike(self);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push(target, value);      // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push(target, value);      // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-slice-simple.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-slice-simple.js ***!\n  \\**************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "./node_modules/core-js/internals/to-absolute-index.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\nvar createProperty = __webpack_require__(/*! ../internals/create-property */ "./node_modules/core-js/internals/create-property.js");\n\nvar $Array = Array;\nvar max = Math.max;\n\nmodule.exports = function (O, start, end) {\n  var length = lengthOfArrayLike(O);\n  var k = toAbsoluteIndex(start, length);\n  var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n  var result = $Array(max(fin - k, 0));\n  var n = 0;\n  for (; k < fin; k++, n++) createProperty(result, n, O[k]);\n  result.length = n;\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-slice.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-slice.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\nmodule.exports = uncurryThis([].slice);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-species-constructor.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-species-constructor.js ***!\n  \\*********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isArray = __webpack_require__(/*! ../internals/is-array */ "./node_modules/core-js/internals/is-array.js");\nvar isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "./node_modules/core-js/internals/is-constructor.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar SPECIES = wellKnownSymbol(\'species\');\nvar $Array = Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? $Array : C;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-species-create.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-species-create.js ***!\n  \\****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar arraySpeciesConstructor = __webpack_require__(/*! ../internals/array-species-constructor */ "./node_modules/core-js/internals/array-species-constructor.js");\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/array-unique-by.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/array-unique-by.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar MapHelpers = __webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\nvar Map = MapHelpers.Map;\nvar mapHas = MapHelpers.has;\nvar mapSet = MapHelpers.set;\nvar push = uncurryThis([].push);\n\n// `Array.prototype.uniqueBy` method\n// https://github.com/tc39/proposal-array-unique\nmodule.exports = function uniqueBy(resolver) {\n  var that = toObject(this);\n  var length = lengthOfArrayLike(that);\n  var result = [];\n  var map = new Map();\n  var resolverFunction = !isNullOrUndefined(resolver) ? aCallable(resolver) : function (value) {\n    return value;\n  };\n  var index, item, key;\n  for (index = 0; index < length; index++) {\n    item = that[index];\n    key = resolverFunction(item);\n    if (!mapHas(map, key)) mapSet(map, key, item);\n  }\n  iterate(map, function (value) {\n    push(result, value);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/check-correctness-of-iteration.js":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/check-correctness-of-iteration.js ***!\n  \\**************************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar ITERATOR = wellKnownSymbol(\'iterator\');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    \'return\': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  try {\n    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  } catch (error) { return false; } // workaround of old WebKit + `eval` bug\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/classof-raw.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/classof-raw.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(\'\'.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/classof.js":\n/*!***************************************************!*\\\n  !*** ./node_modules/core-js/internals/classof.js ***!\n  \\***************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "./node_modules/core-js/internals/to-string-tag-support.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar classofRaw = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar TO_STRING_TAG = wellKnownSymbol(\'toStringTag\');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === \'Arguments\';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? \'Undefined\' : it === null ? \'Null\'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == \'string\' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === \'Object\' && isCallable(O.callee) ? \'Arguments\' : result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/collection-from.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/collection-from.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// https://tc39.github.io/proposal-setmap-offrom/\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar aConstructor = __webpack_require__(/*! ../internals/a-constructor */ "./node_modules/core-js/internals/a-constructor.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\n\nvar push = [].push;\n\nmodule.exports = function from(source /* , mapFn, thisArg */) {\n  var length = arguments.length;\n  var mapFn = length > 1 ? arguments[1] : undefined;\n  var mapping, array, n, boundFunction;\n  aConstructor(this);\n  mapping = mapFn !== undefined;\n  if (mapping) aCallable(mapFn);\n  if (isNullOrUndefined(source)) return new this();\n  array = [];\n  if (mapping) {\n    n = 0;\n    boundFunction = bind(mapFn, length > 2 ? arguments[2] : undefined);\n    iterate(source, function (nextItem) {\n      call(push, array, boundFunction(nextItem, n++));\n    });\n  } else {\n    iterate(source, push, { that: array });\n  }\n  return new this(array);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/collection-of.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/collection-of.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar arraySlice = __webpack_require__(/*! ../internals/array-slice */ "./node_modules/core-js/internals/array-slice.js");\n\n// https://tc39.github.io/proposal-setmap-offrom/\nmodule.exports = function of() {\n  return new this(arraySlice(arguments));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/collection-strong.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/collection-strong.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "./node_modules/core-js/internals/define-built-in-accessor.js");\nvar defineBuiltIns = __webpack_require__(/*! ../internals/define-built-ins */ "./node_modules/core-js/internals/define-built-ins.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar anInstance = __webpack_require__(/*! ../internals/an-instance */ "./node_modules/core-js/internals/an-instance.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar defineIterator = __webpack_require__(/*! ../internals/iterator-define */ "./node_modules/core-js/internals/iterator-define.js");\nvar createIterResultObject = __webpack_require__(/*! ../internals/create-iter-result-object */ "./node_modules/core-js/internals/create-iter-result-object.js");\nvar setSpecies = __webpack_require__(/*! ../internals/set-species */ "./node_modules/core-js/internals/set-species.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar fastKey = (__webpack_require__(/*! ../internals/internal-metadata */ "./node_modules/core-js/internals/internal-metadata.js").fastKey);\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var Constructor = wrapper(function (that, iterable) {\n      anInstance(that, Prototype);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var Prototype = Constructor.prototype;\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== \'F\') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== \'F\') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key === key) return entry;\n      }\n    };\n\n    defineBuiltIns(Prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      \'delete\': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first === entry) state.first = next;\n          if (state.last === entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    defineBuiltIns(Prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineBuiltInAccessor(Prototype, \'size\', {\n      configurable: true,\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return Constructor;\n  },\n  setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + \' Iterator\';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return createIterResultObject(undefined, true);\n      }\n      // return step by kind\n      if (kind === \'keys\') return createIterResultObject(entry.key, false);\n      if (kind === \'values\') return createIterResultObject(entry.value, false);\n      return createIterResultObject([entry.key, entry.value], false);\n    }, IS_MAP ? \'entries\' : \'values\', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/collection-weak.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/collection-weak.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar defineBuiltIns = __webpack_require__(/*! ../internals/define-built-ins */ "./node_modules/core-js/internals/define-built-ins.js");\nvar getWeakData = (__webpack_require__(/*! ../internals/internal-metadata */ "./node_modules/core-js/internals/internal-metadata.js").getWeakData);\nvar anInstance = __webpack_require__(/*! ../internals/an-instance */ "./node_modules/core-js/internals/an-instance.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar ArrayIterationModule = __webpack_require__(/*! ../internals/array-iteration */ "./node_modules/core-js/internals/array-iteration.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar splice = uncurryThis([].splice);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (state) {\n  return state.frozen || (state.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  \'delete\': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) splice(this.entries, index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var Constructor = wrapper(function (that, iterable) {\n      anInstance(that, Prototype);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var Prototype = Constructor.prototype;\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    defineBuiltIns(Prototype, {\n      // `{ WeakMap, WeakSet }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.delete\n      // https://tc39.es/ecma262/#sec-weakset.prototype.delete\n      \'delete\': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)[\'delete\'](key);\n        return data && hasOwn(data, state.id) && delete data[state.id];\n      },\n      // `{ WeakMap, WeakSet }.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.has\n      // https://tc39.es/ecma262/#sec-weakset.prototype.has\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && hasOwn(data, state.id);\n      }\n    });\n\n    defineBuiltIns(Prototype, IS_MAP ? {\n      // `WeakMap.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.get\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // `WeakMap.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.set\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // `WeakSet.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-weakset.prototype.add\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return Constructor;\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/collection.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/collection.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar isForced = __webpack_require__(/*! ../internals/is-forced */ "./node_modules/core-js/internals/is-forced.js");\nvar defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "./node_modules/core-js/internals/define-built-in.js");\nvar InternalMetadataModule = __webpack_require__(/*! ../internals/internal-metadata */ "./node_modules/core-js/internals/internal-metadata.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar anInstance = __webpack_require__(/*! ../internals/an-instance */ "./node_modules/core-js/internals/an-instance.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar checkCorrectnessOfIteration = __webpack_require__(/*! ../internals/check-correctness-of-iteration */ "./node_modules/core-js/internals/check-correctness-of-iteration.js");\nvar setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "./node_modules/core-js/internals/set-to-string-tag.js");\nvar inheritIfRequired = __webpack_require__(/*! ../internals/inherit-if-required */ "./node_modules/core-js/internals/inherit-if-required.js");\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf(\'Map\') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf(\'Weak\') !== -1;\n  var ADDER = IS_MAP ? \'set\' : \'add\';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var uncurriedNativeMethod = uncurryThis(NativePrototype[KEY]);\n    defineBuiltIn(NativePrototype, KEY,\n      KEY === \'add\' ? function add(value) {\n        uncurriedNativeMethod(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY === \'delete\' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY === \'get\' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY === \'has\' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        uncurriedNativeMethod(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.enable();\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) !== instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn\'t supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, NativePrototype);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod(\'delete\');\n      fixMethod(\'has\');\n      IS_MAP && fixMethod(\'get\');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, constructor: true, forced: Constructor !== NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/composite-key.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/composite-key.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n__webpack_require__(/*! ../modules/es.map */ "./node_modules/core-js/modules/es.map.js");\n__webpack_require__(/*! ../modules/es.weak-map */ "./node_modules/core-js/modules/es.weak-map.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\n\nvar $Object = Object;\nvar $TypeError = TypeError;\nvar Map = getBuiltIn(\'Map\');\nvar WeakMap = getBuiltIn(\'WeakMap\');\n\nvar Node = function () {\n  // keys\n  this.object = null;\n  this.symbol = null;\n  // child nodes\n  this.primitives = null;\n  this.objectsByIndex = create(null);\n};\n\nNode.prototype.get = function (key, initializer) {\n  return this[key] || (this[key] = initializer());\n};\n\nNode.prototype.next = function (i, it, IS_OBJECT) {\n  var store = IS_OBJECT\n    ? this.objectsByIndex[i] || (this.objectsByIndex[i] = new WeakMap())\n    : this.primitives || (this.primitives = new Map());\n  var entry = store.get(it);\n  if (!entry) store.set(it, entry = new Node());\n  return entry;\n};\n\nvar root = new Node();\n\nmodule.exports = function () {\n  var active = root;\n  var length = arguments.length;\n  var i, it;\n  // for prevent leaking, start from objects\n  for (i = 0; i < length; i++) {\n    if (isObject(it = arguments[i])) active = active.next(i, it, true);\n  }\n  if (this === $Object && active === root) throw $TypeError(\'Composite keys must contain a non-primitive component\');\n  for (i = 0; i < length; i++) {\n    if (!isObject(it = arguments[i])) active = active.next(i, it, false);\n  } return active;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/copy-constructor-properties.js":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/copy-constructor-properties.js ***!\n  \\***********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar ownKeys = __webpack_require__(/*! ../internals/own-keys */ "./node_modules/core-js/internals/own-keys.js");\nvar getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/correct-prototype-getter.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/correct-prototype-getter.js ***!\n  \\********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/create-iter-result-object.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/create-iter-result-object.js ***!\n  \\*********************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/create-non-enumerable-property.js":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/create-non-enumerable-property.js ***!\n  \\**************************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/create-property-descriptor.js":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/create-property-descriptor.js ***!\n  \\**********************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/create-property.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/create-property.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "./node_modules/core-js/internals/to-property-key.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/define-built-in-accessor.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/define-built-in-accessor.js ***!\n  \\********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar makeBuiltIn = __webpack_require__(/*! ../internals/make-built-in */ "./node_modules/core-js/internals/make-built-in.js");\nvar defineProperty = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/define-built-in.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/define-built-in.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar makeBuiltIn = __webpack_require__(/*! ../internals/make-built-in */ "./node_modules/core-js/internals/make-built-in.js");\nvar defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "./node_modules/core-js/internals/define-global-property.js");\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/define-built-ins.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/define-built-ins.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "./node_modules/core-js/internals/define-built-in.js");\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/define-global-property.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/define-global-property.js ***!\n  \\******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/descriptors.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/descriptors.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\n// Detect IE8\'s incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/document-all.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/core-js/internals/document-all.js ***!\n  \\********************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nvar documentAll = typeof document == \'object\' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == \'undefined\' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/document-create-element.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/document-create-element.js ***!\n  \\*******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\n\nvar document = global.document;\n// typeof document.createElement is \'object\' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/engine-is-bun.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/engine-is-bun.js ***!\n  \\*********************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n/* global Bun -- Deno case */\nmodule.exports = typeof Bun == \'function\' && Bun && typeof Bun.version == \'string\';\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/engine-is-ios.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/engine-is-ios.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "./node_modules/core-js/internals/engine-user-agent.js");\n\n// eslint-disable-next-line redos/no-vulnerable -- safe\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/engine-is-node.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/engine-is-node.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\n\nmodule.exports = classof(global.process) === \'process\';\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/engine-user-agent.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/engine-user-agent.js ***!\n  \\*************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = typeof navigator != \'undefined\' && String(navigator.userAgent) || \'\';\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/engine-v8-version.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/engine-v8-version.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "./node_modules/core-js/internals/engine-user-agent.js");\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split(\'.\');\n  // in old Chrome, versions of V8 isn\'t V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/enum-bug-keys.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/enum-bug-keys.js ***!\n  \\*********************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// IE8- don\'t enum bug keys\nmodule.exports = [\n  \'constructor\',\n  \'hasOwnProperty\',\n  \'isPrototypeOf\',\n  \'propertyIsEnumerable\',\n  \'toLocaleString\',\n  \'toString\',\n  \'valueOf\'\n];\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/export.js":\n/*!**************************************************!*\\\n  !*** ./node_modules/core-js/internals/export.js ***!\n  \\**************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js").f);\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\nvar defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "./node_modules/core-js/internals/define-built-in.js");\nvar defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "./node_modules/core-js/internals/define-global-property.js");\nvar copyConstructorProperties = __webpack_require__(/*! ../internals/copy-constructor-properties */ "./node_modules/core-js/internals/copy-constructor-properties.js");\nvar isForced = __webpack_require__(/*! ../internals/is-forced */ "./node_modules/core-js/internals/is-forced.js");\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? \'.\' : \'#\') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, \'sham\', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/fails.js":\n/*!*************************************************!*\\\n  !*** ./node_modules/core-js/internals/fails.js ***!\n  \\*************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/freezing.js":\n/*!****************************************************!*\\\n  !*** ./node_modules/core-js/internals/freezing.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-apply.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-apply.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "./node_modules/core-js/internals/function-bind-native.js");\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == \'object\' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-bind-context.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-bind-context.js ***!\n  \\*****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this-clause */ "./node_modules/core-js/internals/function-uncurry-this-clause.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "./node_modules/core-js/internals/function-bind-native.js");\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-bind-native.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-bind-native.js ***!\n  \\****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != \'function\' || test.hasOwnProperty(\'prototype\');\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-call.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-call.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "./node_modules/core-js/internals/function-bind-native.js");\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-name.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-name.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, \'name\');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === \'something\';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, \'name\').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-uncurry-this-accessor.js":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-uncurry-this-accessor.js ***!\n  \\**************************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-uncurry-this-clause.js":\n/*!************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-uncurry-this-clause.js ***!\n  \\************************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar classofRaw = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === \'Function\') return uncurryThis(fn);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/function-uncurry-this.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/function-uncurry-this.js ***!\n  \\*****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "./node_modules/core-js/internals/function-bind-native.js");\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/get-built-in.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/core-js/internals/get-built-in.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/get-iterator-direct.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/internals/get-iterator-direct.js ***!\n  \\***************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// `GetIteratorDirect(obj)` abstract operation\n// https://tc39.es/proposal-iterator-helpers/#sec-getiteratordirect\nmodule.exports = function (obj) {\n  return {\n    iterator: obj,\n    next: obj.next,\n    done: false\n  };\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/get-iterator-method.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/internals/get-iterator-method.js ***!\n  \\***************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar classof = __webpack_require__(/*! ../internals/classof */ "./node_modules/core-js/internals/classof.js");\nvar getMethod = __webpack_require__(/*! ../internals/get-method */ "./node_modules/core-js/internals/get-method.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar Iterators = __webpack_require__(/*! ../internals/iterators */ "./node_modules/core-js/internals/iterators.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar ITERATOR = wellKnownSymbol(\'iterator\');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, \'@@iterator\')\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/get-iterator.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/core-js/internals/get-iterator.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar tryToString = __webpack_require__(/*! ../internals/try-to-string */ "./node_modules/core-js/internals/try-to-string.js");\nvar getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "./node_modules/core-js/internals/get-iterator-method.js");\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw $TypeError(tryToString(argument) + \' is not iterable\');\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/get-method.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/get-method.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/get-set-record.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/get-set-record.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "./node_modules/core-js/internals/to-integer-or-infinity.js");\nvar getIteratorDirect = __webpack_require__(/*! ../internals/get-iterator-direct */ "./node_modules/core-js/internals/get-iterator-direct.js");\n\nvar INVALID_SIZE = \'Invalid size\';\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar max = Math.max;\n\nvar SetRecord = function (set, size, has, keys) {\n  this.set = set;\n  this.size = size;\n  this.has = has;\n  this.keys = keys;\n};\n\nSetRecord.prototype = {\n  getIterator: function () {\n    return getIteratorDirect(anObject(call(this.keys, this.set)));\n  },\n  includes: function (it) {\n    return call(this.has, this.set, it);\n  }\n};\n\n// `GetSetRecord` abstract operation\n// https://tc39.es/proposal-set-methods/#sec-getsetrecord\nmodule.exports = function (obj) {\n  anObject(obj);\n  var numSize = +obj.size;\n  // NOTE: If size is undefined, then numSize will be NaN\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (numSize !== numSize) throw $TypeError(INVALID_SIZE);\n  var intSize = toIntegerOrInfinity(numSize);\n  if (intSize < 0) throw $RangeError(INVALID_SIZE);\n  return new SetRecord(\n    obj,\n    max(intSize, 0),\n    aCallable(obj.has),\n    aCallable(obj.keys)\n  );\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/global.js":\n/*!**************************************************!*\\\n  !*** ./node_modules/core-js/internals/global.js ***!\n  \\**************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n"use strict";\n\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == \'object\' && globalThis) ||\n  check(typeof window == \'object\' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == \'object\' && self) ||\n  check(typeof __webpack_require__.g == \'object\' && __webpack_require__.g) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function(\'return this\')();\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/has-own-property.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/has-own-property.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/hidden-keys.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/hidden-keys.js ***!\n  \\*******************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/host-report-errors.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/internals/host-report-errors.js ***!\n  \\**************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = function (a, b) {\n  try {\n    // eslint-disable-next-line no-console -- safe\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  } catch (error) { /* empty */ }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/html.js":\n/*!************************************************!*\\\n  !*** ./node_modules/core-js/internals/html.js ***!\n  \\************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\n\nmodule.exports = getBuiltIn(\'document\', \'documentElement\');\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/ie8-dom-define.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/ie8-dom-define.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar createElement = __webpack_require__(/*! ../internals/document-create-element */ "./node_modules/core-js/internals/document-create-element.js");\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement(\'div\'), \'a\', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/indexed-object.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/indexed-object.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\n\nvar $Object = Object;\nvar split = uncurryThis(\'\'.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object(\'z\').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === \'String\' ? split(it, \'\') : $Object(it);\n} : $Object;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/inherit-if-required.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/internals/inherit-if-required.js ***!\n  \\***************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "./node_modules/core-js/internals/object-set-prototype-of.js");\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven\'t completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/inspect-source.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/inspect-source.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar store = __webpack_require__(/*! ../internals/shared-store */ "./node_modules/core-js/internals/shared-store.js");\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can\'t use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/internal-metadata.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/internal-metadata.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f);\nvar getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "./node_modules/core-js/internals/object-get-own-property-names.js");\nvar getOwnPropertyNamesExternalModule = __webpack_require__(/*! ../internals/object-get-own-property-names-external */ "./node_modules/core-js/internals/object-get-own-property-names-external.js");\nvar isExtensible = __webpack_require__(/*! ../internals/object-is-extensible */ "./node_modules/core-js/internals/object-is-extensible.js");\nvar uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");\nvar FREEZING = __webpack_require__(/*! ../internals/freezing */ "./node_modules/core-js/internals/freezing.js");\n\nvar REQUIRED = false;\nvar METADATA = uid(\'meta\');\nvar id = 0;\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: \'O\' + id++, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == \'symbol\' ? it : (typeof it == \'string\' ? \'S\' : \'P\') + it;\n  if (!hasOwn(it, METADATA)) {\n    // can\'t set metadata to uncaught frozen object\n    if (!isExtensible(it)) return \'F\';\n    // not necessary to add metadata\n    if (!create) return \'E\';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!hasOwn(it, METADATA)) {\n    // can\'t set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar enable = function () {\n  meta.enable = function () { /* empty */ };\n  REQUIRED = true;\n  var getOwnPropertyNames = getOwnPropertyNamesModule.f;\n  var splice = uncurryThis([].splice);\n  var test = {};\n  test[METADATA] = 1;\n\n  // prevent exposing of metadata key\n  if (getOwnPropertyNames(test).length) {\n    getOwnPropertyNamesModule.f = function (it) {\n      var result = getOwnPropertyNames(it);\n      for (var i = 0, length = result.length; i < length; i++) {\n        if (result[i] === METADATA) {\n          splice(result, i, 1);\n          break;\n        }\n      } return result;\n    };\n\n    $({ target: \'Object\', stat: true, forced: true }, {\n      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f\n    });\n  }\n};\n\nvar meta = module.exports = {\n  enable: enable,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/internal-state.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/internal-state.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar NATIVE_WEAK_MAP = __webpack_require__(/*! ../internals/weak-map-basic-detection */ "./node_modules/core-js/internals/weak-map-basic-detection.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar shared = __webpack_require__(/*! ../internals/shared-store */ "./node_modules/core-js/internals/shared-store.js");\nvar sharedKey = __webpack_require__(/*! ../internals/shared-key */ "./node_modules/core-js/internals/shared-key.js");\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");\n\nvar OBJECT_ALREADY_INITIALIZED = \'Object already initialized\';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError(\'Incompatible receiver, \' + TYPE + \' required\');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey(\'state\');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-array-iterator-method.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-array-iterator-method.js ***!\n  \\********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar Iterators = __webpack_require__(/*! ../internals/iterators */ "./node_modules/core-js/internals/iterators.js");\n\nvar ITERATOR = wellKnownSymbol(\'iterator\');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-array.js":\n/*!****************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-array.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === \'Array\';\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-callable.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-callable.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $documentAll = __webpack_require__(/*! ../internals/document-all */ "./node_modules/core-js/internals/document-all.js");\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == \'function\' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == \'function\';\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-constructor.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-constructor.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar classof = __webpack_require__(/*! ../internals/classof */ "./node_modules/core-js/internals/classof.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "./node_modules/core-js/internals/inspect-source.js");\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn(\'Reflect\', \'construct\');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case \'AsyncFunction\':\n    case \'GeneratorFunction\':\n    case \'AsyncGeneratorFunction\': return false;\n  }\n  try {\n    // we can\'t check .prototype since constructors produced by .bind haven\'t it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-forced.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-forced.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, \'.\').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = \'N\';\nvar POLYFILL = isForced.POLYFILL = \'P\';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-iterable.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-iterable.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar classof = __webpack_require__(/*! ../internals/classof */ "./node_modules/core-js/internals/classof.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar Iterators = __webpack_require__(/*! ../internals/iterators */ "./node_modules/core-js/internals/iterators.js");\n\nvar ITERATOR = wellKnownSymbol(\'iterator\');\nvar $Object = Object;\n\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) return false;\n  var O = $Object(it);\n  return O[ITERATOR] !== undefined\n    || \'@@iterator\' in O\n    || hasOwn(Iterators, classof(O));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-null-or-undefined.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-null-or-undefined.js ***!\n  \\****************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// we can\'t use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-object.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-object.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar $documentAll = __webpack_require__(/*! ../internals/document-all */ "./node_modules/core-js/internals/document-all.js");\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == \'object\' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == \'object\' ? it !== null : isCallable(it);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-pure.js":\n/*!***************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-pure.js ***!\n  \\***************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = false;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/is-symbol.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/is-symbol.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "./node_modules/core-js/internals/object-is-prototype-of.js");\nvar USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ "./node_modules/core-js/internals/use-symbol-as-uid.js");\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == \'symbol\';\n} : function (it) {\n  var $Symbol = getBuiltIn(\'Symbol\');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/iterate-simple.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/iterate-simple.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/iterate.js":\n/*!***************************************************!*\\\n  !*** ./node_modules/core-js/internals/iterate.js ***!\n  \\***************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar tryToString = __webpack_require__(/*! ../internals/try-to-string */ "./node_modules/core-js/internals/try-to-string.js");\nvar isArrayIteratorMethod = __webpack_require__(/*! ../internals/is-array-iterator-method */ "./node_modules/core-js/internals/is-array-iterator-method.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\nvar isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "./node_modules/core-js/internals/object-is-prototype-of.js");\nvar getIterator = __webpack_require__(/*! ../internals/get-iterator */ "./node_modules/core-js/internals/get-iterator.js");\nvar getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "./node_modules/core-js/internals/get-iterator-method.js");\nvar iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "./node_modules/core-js/internals/iterator-close.js");\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, \'normal\', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw $TypeError(tryToString(iterable) + \' is not iterable\');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, \'throw\', error);\n    }\n    if (typeof result == \'object\' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/iterator-close.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/iterator-close.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar getMethod = __webpack_require__(/*! ../internals/get-method */ "./node_modules/core-js/internals/get-method.js");\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, \'return\');\n    if (!innerResult) {\n      if (kind === \'throw\') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === \'throw\') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/iterator-create-constructor.js":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/iterator-create-constructor.js ***!\n  \\***********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar IteratorPrototype = (__webpack_require__(/*! ../internals/iterators-core */ "./node_modules/core-js/internals/iterators-core.js").IteratorPrototype);\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\nvar setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "./node_modules/core-js/internals/set-to-string-tag.js");\nvar Iterators = __webpack_require__(/*! ../internals/iterators */ "./node_modules/core-js/internals/iterators.js");\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + \' Iterator\';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/iterator-define.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/iterator-define.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "./node_modules/core-js/internals/is-pure.js");\nvar FunctionName = __webpack_require__(/*! ../internals/function-name */ "./node_modules/core-js/internals/function-name.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar createIteratorConstructor = __webpack_require__(/*! ../internals/iterator-create-constructor */ "./node_modules/core-js/internals/iterator-create-constructor.js");\nvar getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "./node_modules/core-js/internals/object-get-prototype-of.js");\nvar setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "./node_modules/core-js/internals/object-set-prototype-of.js");\nvar setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "./node_modules/core-js/internals/set-to-string-tag.js");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\nvar defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "./node_modules/core-js/internals/define-built-in.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar Iterators = __webpack_require__(/*! ../internals/iterators */ "./node_modules/core-js/internals/iterators.js");\nvar IteratorsCore = __webpack_require__(/*! ../internals/iterators-core */ "./node_modules/core-js/internals/iterators-core.js");\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol(\'iterator\');\nvar KEYS = \'keys\';\nvar VALUES = \'values\';\nvar ENTRIES = \'entries\';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND && KIND in IterablePrototype) return IterablePrototype[KIND];\n\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    }\n\n    return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + \' Iterator\';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype[\'@@iterator\']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME === \'Array\' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT === VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, \'name\', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/iterators-core.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/iterators-core.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "./node_modules/core-js/internals/object-get-prototype-of.js");\nvar defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "./node_modules/core-js/internals/define-built-in.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "./node_modules/core-js/internals/is-pure.js");\n\nvar ITERATOR = wellKnownSymbol(\'iterator\');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!(\'next\' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/iterators.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/iterators.js ***!\n  \\*****************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/length-of-array-like.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/length-of-array-like.js ***!\n  \\****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toLength = __webpack_require__(/*! ../internals/to-length */ "./node_modules/core-js/internals/to-length.js");\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/make-built-in.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/make-built-in.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar CONFIGURABLE_FUNCTION_NAME = (__webpack_require__(/*! ../internals/function-name */ "./node_modules/core-js/internals/function-name.js").CONFIGURABLE);\nvar inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "./node_modules/core-js/internals/inspect-source.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(\'\'.slice);\nvar replace = uncurryThis(\'\'.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, \'length\', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split(\'String\');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === \'Symbol(\') {\n    name = \'[\' + replace($String(name), /^Symbol\\(([^)]*)\\)/, \'$1\') + \']\';\n  }\n  if (options && options.getter) name = \'get \' + name;\n  if (options && options.setter) name = \'set \' + name;\n  if (!hasOwn(value, \'name\') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, \'name\', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, \'arity\') && value.length !== options.arity) {\n    defineProperty(value, \'length\', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, \'constructor\') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, \'prototype\', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, \'source\')) {\n    state.source = join(TEMPLATE, typeof name == \'string\' ? name : \'\');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, \'toString\');\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/map-helpers.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/map-helpers.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\n// eslint-disable-next-line es/no-map -- safe\nvar MapPrototype = Map.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-map -- safe\n  Map: Map,\n  set: uncurryThis(MapPrototype.set),\n  get: uncurryThis(MapPrototype.get),\n  has: uncurryThis(MapPrototype.has),\n  remove: uncurryThis(MapPrototype[\'delete\']),\n  proto: MapPrototype\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/map-iterate.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/map-iterate.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\nvar MapHelpers = __webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js");\n\nvar Map = MapHelpers.Map;\nvar MapPrototype = MapHelpers.proto;\nvar forEach = uncurryThis(MapPrototype.forEach);\nvar entries = uncurryThis(MapPrototype.entries);\nvar next = entries(new Map()).next;\n\nmodule.exports = function (map, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: entries(map), next: next }, function (entry) {\n    return fn(entry[1], entry[0]);\n  }) : forEach(map, fn);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/math-fround.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/math-fround.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar sign = __webpack_require__(/*! ../internals/math-sign */ "./node_modules/core-js/internals/math-sign.js");\n\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n// `Math.fround` method implementation\n// https://tc39.es/ecma262/#sec-math.fround\n// eslint-disable-next-line es/no-math-fround -- safe\nmodule.exports = Math.fround || function fround(x) {\n  var n = +x;\n  var $abs = abs(n);\n  var $sign = sign(n);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (result > MAX32 || result !== result) return $sign * Infinity;\n  return $sign * result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/math-scale.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/math-scale.js ***!\n  \\******************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// `Math.scale` method implementation\n// https://rwaldron.github.io/proposal-math-extensions/\nmodule.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {\n  var nx = +x;\n  var nInLow = +inLow;\n  var nInHigh = +inHigh;\n  var nOutLow = +outLow;\n  var nOutHigh = +outHigh;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (nx !== nx || nInLow !== nInLow || nInHigh !== nInHigh || nOutLow !== nOutLow || nOutHigh !== nOutHigh) return NaN;\n  if (nx === Infinity || nx === -Infinity) return nx;\n  return (nx - nInLow) * (nOutHigh - nOutLow) / (nInHigh - nInLow) + nOutLow;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/math-sign.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/math-sign.js ***!\n  \\*****************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// `Math.sign` method implementation\n// https://tc39.es/ecma262/#sec-math.sign\n// eslint-disable-next-line es/no-math-sign -- safe\nmodule.exports = Math.sign || function sign(x) {\n  var n = +x;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return n === 0 || n !== n ? n : n < 0 ? -1 : 1;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/math-trunc.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/math-trunc.js ***!\n  \\******************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/new-promise-capability.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/new-promise-capability.js ***!\n  \\******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\n\nvar $TypeError = TypeError;\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw $TypeError(\'Bad Promise constructor\');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/number-is-finite.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/number-is-finite.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nvar globalIsFinite = global.isFinite;\n\n// `Number.isFinite` method\n// https://tc39.es/ecma262/#sec-number.isfinite\n// eslint-disable-next-line es/no-number-isfinite -- safe\nmodule.exports = Number.isFinite || function isFinite(it) {\n  return typeof it == \'number\' && globalIsFinite(it);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/number-parse-int.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/number-parse-int.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");\nvar trim = (__webpack_require__(/*! ../internals/string-trim */ "./node_modules/core-js/internals/string-trim.js").trim);\nvar whitespaces = __webpack_require__(/*! ../internals/whitespaces */ "./node_modules/core-js/internals/whitespaces.js");\n\nvar $parseInt = global.parseInt;\nvar Symbol = global.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar hex = /^[+-]?0x/i;\nvar exec = uncurryThis(hex.exec);\nvar FORCED = $parseInt(whitespaces + \'08\') !== 8 || $parseInt(whitespaces + \'0x16\') !== 22\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { $parseInt(Object(ITERATOR)); }));\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(toString(string));\n  return $parseInt(S, (radix >>> 0) || (exec(hex, S) ? 16 : 10));\n} : $parseInt;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-create.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-create.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar definePropertiesModule = __webpack_require__(/*! ../internals/object-define-properties */ "./node_modules/core-js/internals/object-define-properties.js");\nvar enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "./node_modules/core-js/internals/enum-bug-keys.js");\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");\nvar html = __webpack_require__(/*! ../internals/html */ "./node_modules/core-js/internals/html.js");\nvar documentCreateElement = __webpack_require__(/*! ../internals/document-create-element */ "./node_modules/core-js/internals/document-create-element.js");\nvar sharedKey = __webpack_require__(/*! ../internals/shared-key */ "./node_modules/core-js/internals/shared-key.js");\n\nvar GT = \'>\';\nvar LT = \'<\';\nvar PROTOTYPE = \'prototype\';\nvar SCRIPT = \'script\';\nvar IE_PROTO = sharedKey(\'IE_PROTO\');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + \'/\' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(\'\'));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement(\'iframe\');\n  var JS = \'java\' + SCRIPT + \':\';\n  var iframeDocument;\n  iframe.style.display = \'none\';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag(\'document.F=Object\'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject(\'htmlfile\');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != \'undefined\'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add "__proto__" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-define-properties.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-define-properties.js ***!\n  \\********************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(/*! ../internals/v8-prototype-define-bug */ "./node_modules/core-js/internals/v8-prototype-define-bug.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar objectKeys = __webpack_require__(/*! ../internals/object-keys */ "./node_modules/core-js/internals/object-keys.js");\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-define-property.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-define-property.js ***!\n  \\******************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ "./node_modules/core-js/internals/ie8-dom-define.js");\nvar V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(/*! ../internals/v8-prototype-define-bug */ "./node_modules/core-js/internals/v8-prototype-define-bug.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "./node_modules/core-js/internals/to-property-key.js");\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = \'enumerable\';\nvar CONFIGURABLE = \'configurable\';\nvar WRITABLE = \'writable\';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === \'function\' && P === \'prototype\' && \'value\' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if (\'get\' in Attributes || \'set\' in Attributes) throw $TypeError(\'Accessors not supported\');\n  if (\'value\' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-get-own-property-descriptor.js":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-get-own-property-descriptor.js ***!\n  \\******************************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "./node_modules/core-js/internals/object-property-is-enumerable.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "./node_modules/core-js/internals/to-property-key.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ "./node_modules/core-js/internals/ie8-dom-define.js");\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-get-own-property-names-external.js":\n/*!**********************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-get-own-property-names-external.js ***!\n  \\**********************************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar $getOwnPropertyNames = (__webpack_require__(/*! ../internals/object-get-own-property-names */ "./node_modules/core-js/internals/object-get-own-property-names.js").f);\nvar arraySlice = __webpack_require__(/*! ../internals/array-slice-simple */ "./node_modules/core-js/internals/array-slice-simple.js");\n\nvar windowNames = typeof window == \'object\' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) === \'Window\'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-get-own-property-names.js":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-get-own-property-names.js ***!\n  \\*************************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nvar internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ "./node_modules/core-js/internals/object-keys-internal.js");\nvar enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "./node_modules/core-js/internals/enum-bug-keys.js");\n\nvar hiddenKeys = enumBugKeys.concat(\'length\', \'prototype\');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-get-own-property-symbols.js":\n/*!***************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-get-own-property-symbols.js ***!\n  \\***************************************************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n"use strict";\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-get-prototype-of.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-get-prototype-of.js ***!\n  \\*******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar sharedKey = __webpack_require__(/*! ../internals/shared-key */ "./node_modules/core-js/internals/shared-key.js");\nvar CORRECT_PROTOTYPE_GETTER = __webpack_require__(/*! ../internals/correct-prototype-getter */ "./node_modules/core-js/internals/correct-prototype-getter.js");\n\nvar IE_PROTO = sharedKey(\'IE_PROTO\');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-is-extensible.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-is-extensible.js ***!\n  \\****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\nvar ARRAY_BUFFER_NON_EXTENSIBLE = __webpack_require__(/*! ../internals/array-buffer-non-extensible */ "./node_modules/core-js/internals/array-buffer-non-extensible.js");\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar $isExtensible = Object.isExtensible;\nvar FAILS_ON_PRIMITIVES = fails(function () { $isExtensible(1); });\n\n// `Object.isExtensible` method\n// https://tc39.es/ecma262/#sec-object.isextensible\nmodule.exports = (FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE) ? function isExtensible(it) {\n  if (!isObject(it)) return false;\n  if (ARRAY_BUFFER_NON_EXTENSIBLE && classof(it) === \'ArrayBuffer\') return false;\n  return $isExtensible ? $isExtensible(it) : true;\n} : $isExtensible;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-is-prototype-of.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-is-prototype-of.js ***!\n  \\******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-keys-internal.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-keys-internal.js ***!\n  \\****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar indexOf = (__webpack_require__(/*! ../internals/array-includes */ "./node_modules/core-js/internals/array-includes.js").indexOf);\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don\'t enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-keys.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-keys.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ "./node_modules/core-js/internals/object-keys-internal.js");\nvar enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "./node_modules/core-js/internals/enum-bug-keys.js");\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-property-is-enumerable.js":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-property-is-enumerable.js ***!\n  \\*************************************************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n"use strict";\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/object-set-prototype-of.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/object-set-prototype-of.js ***!\n  \\*******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = __webpack_require__(/*! ../internals/function-uncurry-this-accessor */ "./node_modules/core-js/internals/function-uncurry-this-accessor.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar aPossiblePrototype = __webpack_require__(/*! ../internals/a-possible-prototype */ "./node_modules/core-js/internals/a-possible-prototype.js");\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can\'t work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || (\'__proto__\' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, \'__proto__\', \'set\');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/observable-forced.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/observable-forced.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar $$OBSERVABLE = wellKnownSymbol(\'observable\');\nvar NativeObservable = global.Observable;\nvar NativeObservablePrototype = NativeObservable && NativeObservable.prototype;\n\nmodule.exports = !isCallable(NativeObservable)\n  || !isCallable(NativeObservable.from)\n  || !isCallable(NativeObservable.of)\n  || !isCallable(NativeObservablePrototype.subscribe)\n  || !isCallable(NativeObservablePrototype[$$OBSERVABLE]);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/ordinary-to-primitive.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/ordinary-to-primitive.js ***!\n  \\*****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === \'string\' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== \'string\' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError("Can\'t convert object to primitive value");\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/own-keys.js":\n/*!****************************************************!*\\\n  !*** ./node_modules/core-js/internals/own-keys.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "./node_modules/core-js/internals/object-get-own-property-names.js");\nvar getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "./node_modules/core-js/internals/object-get-own-property-symbols.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn(\'Reflect\', \'ownKeys\') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/path.js":\n/*!************************************************!*\\\n  !*** ./node_modules/core-js/internals/path.js ***!\n  \\************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nmodule.exports = global;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/perform.js":\n/*!***************************************************!*\\\n  !*** ./node_modules/core-js/internals/perform.js ***!\n  \\***************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nmodule.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/reflect-metadata.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/reflect-metadata.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n__webpack_require__(/*! ../modules/es.map */ "./node_modules/core-js/modules/es.map.js");\n__webpack_require__(/*! ../modules/es.weak-map */ "./node_modules/core-js/modules/es.weak-map.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar shared = __webpack_require__(/*! ../internals/shared */ "./node_modules/core-js/internals/shared.js");\n\nvar Map = getBuiltIn(\'Map\');\nvar WeakMap = getBuiltIn(\'WeakMap\');\nvar push = uncurryThis([].push);\n\nvar metadata = shared(\'metadata\');\nvar store = metadata.store || (metadata.store = new WeakMap());\n\nvar getOrCreateMetadataMap = function (target, targetKey, create) {\n  var targetMetadata = store.get(target);\n  if (!targetMetadata) {\n    if (!create) return;\n    store.set(target, targetMetadata = new Map());\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if (!keyMetadata) {\n    if (!create) return;\n    targetMetadata.set(targetKey, keyMetadata = new Map());\n  } return keyMetadata;\n};\n\nvar ordinaryHasOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\n\nvar ordinaryGetOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\n\nvar ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\n\nvar ordinaryOwnMetadataKeys = function (target, targetKey) {\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);\n  var keys = [];\n  if (metadataMap) metadataMap.forEach(function (_, key) { push(keys, key); });\n  return keys;\n};\n\nvar toMetadataKey = function (it) {\n  return it === undefined || typeof it == \'symbol\' ? it : String(it);\n};\n\nmodule.exports = {\n  store: store,\n  getMap: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  toKey: toMetadataKey\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/regexp-flags.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/core-js/internals/regexp-flags.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = \'\';\n  if (that.hasIndices) result += \'d\';\n  if (that.global) result += \'g\';\n  if (that.ignoreCase) result += \'i\';\n  if (that.multiline) result += \'m\';\n  if (that.dotAll) result += \'s\';\n  if (that.unicode) result += \'u\';\n  if (that.unicodeSets) result += \'v\';\n  if (that.sticky) result += \'y\';\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/require-object-coercible.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/require-object-coercible.js ***!\n  \\********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError("Can\'t call method on " + it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/same-value-zero.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/same-value-zero.js ***!\n  \\***********************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// `SameValueZero` abstract operation\n// https://tc39.es/ecma262/#sec-samevaluezero\nmodule.exports = function (x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y || x !== x && y !== y;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/schedulers-fix.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/schedulers-fix.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar apply = __webpack_require__(/*! ../internals/function-apply */ "./node_modules/core-js/internals/function-apply.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar ENGINE_IS_BUN = __webpack_require__(/*! ../internals/engine-is-bun */ "./node_modules/core-js/internals/engine-is-bun.js");\nvar USER_AGENT = __webpack_require__(/*! ../internals/engine-user-agent */ "./node_modules/core-js/internals/engine-user-agent.js");\nvar arraySlice = __webpack_require__(/*! ../internals/array-slice */ "./node_modules/core-js/internals/array-slice.js");\nvar validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "./node_modules/core-js/internals/validate-arguments-length.js");\n\nvar Function = global.Function;\n// dirty IE9- and Bun 0.3.0- checks\nvar WRAP = /MSIE .\\./.test(USER_AGENT) || ENGINE_IS_BUN && (function () {\n  var version = global.Bun.version.split(\'.\');\n  return version.length < 3 || version[0] === \'0\' && (version[1] < 3 || version[1] === \'3\' && version[2] === \'0\');\n})();\n\n// IE9- / Bun 0.3.0- setTimeout / setInterval / setImmediate additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n// https://github.com/oven-sh/bun/issues/1633\nmodule.exports = function (scheduler, hasTimeArg) {\n  var firstParamIndex = hasTimeArg ? 2 : 1;\n  return WRAP ? function (handler, timeout /* , ...arguments */) {\n    var boundArgs = validateArgumentsLength(arguments.length, 1) > firstParamIndex;\n    var fn = isCallable(handler) ? handler : Function(handler);\n    var params = boundArgs ? arraySlice(arguments, firstParamIndex) : [];\n    var callback = boundArgs ? function () {\n      apply(fn, this, params);\n    } : fn;\n    return hasTimeArg ? scheduler(callback, timeout) : scheduler(callback);\n  } : scheduler;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-clone.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-clone.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\nmodule.exports = function (set) {\n  var result = new Set();\n  iterate(set, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-difference.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-difference.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\nvar clone = __webpack_require__(/*! ../internals/set-clone */ "./node_modules/core-js/internals/set-clone.js");\nvar size = __webpack_require__(/*! ../internals/set-size */ "./node_modules/core-js/internals/set-size.js");\nvar getSetRecord = __webpack_require__(/*! ../internals/get-set-record */ "./node_modules/core-js/internals/get-set-record.js");\nvar iterateSet = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\n\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function difference(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = clone(O);\n  if (size(O) <= otherRec.size) iterateSet(O, function (e) {\n    if (otherRec.includes(e)) remove(result, e);\n  });\n  else iterateSimple(otherRec.getIterator(), function (e) {\n    if (has(O, e)) remove(result, e);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-helpers.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-helpers.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype[\'delete\']),\n  proto: SetPrototype\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-intersection.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-intersection.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\nvar size = __webpack_require__(/*! ../internals/set-size */ "./node_modules/core-js/internals/set-size.js");\nvar getSetRecord = __webpack_require__(/*! ../internals/get-set-record */ "./node_modules/core-js/internals/get-set-record.js");\nvar iterateSet = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function intersection(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = new Set();\n\n  if (size(O) > otherRec.size) {\n    iterateSimple(otherRec.getIterator(), function (e) {\n      if (has(O, e)) add(result, e);\n    });\n  } else {\n    iterateSet(O, function (e) {\n      if (otherRec.includes(e)) add(result, e);\n    });\n  }\n\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-is-disjoint-from.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-is-disjoint-from.js ***!\n  \\****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar has = (__webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js").has);\nvar size = __webpack_require__(/*! ../internals/set-size */ "./node_modules/core-js/internals/set-size.js");\nvar getSetRecord = __webpack_require__(/*! ../internals/get-set-record */ "./node_modules/core-js/internals/get-set-record.js");\nvar iterateSet = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\nvar iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "./node_modules/core-js/internals/iterator-close.js");\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isDisjointFrom\nmodule.exports = function isDisjointFrom(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) <= otherRec.size) return iterateSet(O, function (e) {\n    if (otherRec.includes(e)) return false;\n  }, true) !== false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (has(O, e)) return iteratorClose(iterator, \'normal\', false);\n  }) !== false;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-is-subset-of.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-is-subset-of.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar size = __webpack_require__(/*! ../internals/set-size */ "./node_modules/core-js/internals/set-size.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\nvar getSetRecord = __webpack_require__(/*! ../internals/get-set-record */ "./node_modules/core-js/internals/get-set-record.js");\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSubsetOf\nmodule.exports = function isSubsetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) > otherRec.size) return false;\n  return iterate(O, function (e) {\n    if (!otherRec.includes(e)) return false;\n  }, true) !== false;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-is-superset-of.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-is-superset-of.js ***!\n  \\**************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar has = (__webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js").has);\nvar size = __webpack_require__(/*! ../internals/set-size */ "./node_modules/core-js/internals/set-size.js");\nvar getSetRecord = __webpack_require__(/*! ../internals/get-set-record */ "./node_modules/core-js/internals/get-set-record.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\nvar iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "./node_modules/core-js/internals/iterator-close.js");\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSupersetOf\nmodule.exports = function isSupersetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) < otherRec.size) return false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (!has(O, e)) return iteratorClose(iterator, \'normal\', false);\n  }) !== false;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-iterate.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-iterate.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-size.js":\n/*!****************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-size.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThisAccessor = __webpack_require__(/*! ../internals/function-uncurry-this-accessor */ "./node_modules/core-js/internals/function-uncurry-this-accessor.js");\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\n\nmodule.exports = uncurryThisAccessor(SetHelpers.proto, \'size\', \'get\') || function (set) {\n  return set.size;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-species.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-species.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "./node_modules/core-js/internals/define-built-in-accessor.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\n\nvar SPECIES = wellKnownSymbol(\'species\');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineBuiltInAccessor(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-symmetric-difference.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-symmetric-difference.js ***!\n  \\********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\nvar clone = __webpack_require__(/*! ../internals/set-clone */ "./node_modules/core-js/internals/set-clone.js");\nvar getSetRecord = __webpack_require__(/*! ../internals/get-set-record */ "./node_modules/core-js/internals/get-set-record.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\n\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function symmetricDifference(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (e) {\n    if (has(O, e)) remove(result, e);\n    else add(result, e);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-to-string-tag.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-to-string-tag.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f);\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar TO_STRING_TAG = wellKnownSymbol(\'toStringTag\');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/set-union.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/set-union.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar add = (__webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js").add);\nvar clone = __webpack_require__(/*! ../internals/set-clone */ "./node_modules/core-js/internals/set-clone.js");\nvar getSetRecord = __webpack_require__(/*! ../internals/get-set-record */ "./node_modules/core-js/internals/get-set-record.js");\nvar iterateSimple = __webpack_require__(/*! ../internals/iterate-simple */ "./node_modules/core-js/internals/iterate-simple.js");\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function union(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/shared-key.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/core-js/internals/shared-key.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar shared = __webpack_require__(/*! ../internals/shared */ "./node_modules/core-js/internals/shared.js");\nvar uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");\n\nvar keys = shared(\'keys\');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/shared-store.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/core-js/internals/shared-store.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "./node_modules/core-js/internals/define-global-property.js");\n\nvar SHARED = \'__core-js_shared__\';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/shared.js":\n/*!**************************************************!*\\\n  !*** ./node_modules/core-js/internals/shared.js ***!\n  \\**************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "./node_modules/core-js/internals/is-pure.js");\nvar store = __webpack_require__(/*! ../internals/shared-store */ "./node_modules/core-js/internals/shared-store.js");\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})(\'versions\', []).push({\n  version: \'3.32.2\',\n  mode: IS_PURE ? \'pure\' : \'global\',\n  copyright: \' 2014-2023 Denis Pushkarev (zloirock.ru)\',\n  license: \'https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE\',\n  source: \'https://github.com/zloirock/core-js\'\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/string-multibyte.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/string-multibyte.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "./node_modules/core-js/internals/to-integer-or-infinity.js");\nvar toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\n\nvar charAt = uncurryThis(\'\'.charAt);\nvar charCodeAt = uncurryThis(\'\'.charCodeAt);\nvar stringSlice = uncurryThis(\'\'.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? \'\' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/string-trim.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/string-trim.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\nvar toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");\nvar whitespaces = __webpack_require__(/*! ../internals/whitespaces */ "./node_modules/core-js/internals/whitespaces.js");\n\nvar replace = uncurryThis(\'\'.replace);\nvar ltrim = RegExp(\'^[\' + whitespaces + \']+\');\nvar rtrim = RegExp(\'(^|[^\' + whitespaces + \'])[\' + whitespaces + \']+$\');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, \'\');\n    if (TYPE & 2) string = replace(string, rtrim, \'$1\');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/symbol-constructor-detection.js":\n/*!************************************************************************!*\\\n  !*** ./node_modules/core-js/internals/symbol-constructor-detection.js ***!\n  \\************************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "./node_modules/core-js/internals/engine-v8-version.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol(\'symbol detection\');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+\'\'` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/task.js":\n/*!************************************************!*\\\n  !*** ./node_modules/core-js/internals/task.js ***!\n  \\************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar apply = __webpack_require__(/*! ../internals/function-apply */ "./node_modules/core-js/internals/function-apply.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar html = __webpack_require__(/*! ../internals/html */ "./node_modules/core-js/internals/html.js");\nvar arraySlice = __webpack_require__(/*! ../internals/array-slice */ "./node_modules/core-js/internals/array-slice.js");\nvar createElement = __webpack_require__(/*! ../internals/document-create-element */ "./node_modules/core-js/internals/document-create-element.js");\nvar validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "./node_modules/core-js/internals/validate-arguments-length.js");\nvar IS_IOS = __webpack_require__(/*! ../internals/engine-is-ios */ "./node_modules/core-js/internals/engine-is-ios.js");\nvar IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "./node_modules/core-js/internals/engine-is-node.js");\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar Dispatch = global.Dispatch;\nvar Function = global.Function;\nvar MessageChannel = global.MessageChannel;\nvar String = global.String;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = \'onreadystatechange\';\nvar $location, defer, channel, port;\n\nfails(function () {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  $location = global.location;\n});\n\nvar run = function (id) {\n  if (hasOwn(queue, id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar eventListener = function (event) {\n  run(event.data);\n};\n\nvar globalPostMessageDefer = function (id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), $location.protocol + \'//\' + $location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(handler) {\n    validateArgumentsLength(arguments.length, 1);\n    var fn = isCallable(handler) ? handler : Function(handler);\n    var args = arraySlice(arguments, 1);\n    queue[++counter] = function () {\n      apply(fn, undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = eventListener;\n    defer = bind(port.postMessage, port);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it\'s sync & typeof its postMessage is \'object\'\n  } else if (\n    global.addEventListener &&\n    isCallable(global.postMessage) &&\n    !global.importScripts &&\n    $location && $location.protocol !== \'file:\' &&\n    !fails(globalPostMessageDefer)\n  ) {\n    defer = globalPostMessageDefer;\n    global.addEventListener(\'message\', eventListener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement(\'script\')) {\n    defer = function (id) {\n      html.appendChild(createElement(\'script\'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-absolute-index.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-absolute-index.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "./node_modules/core-js/internals/to-integer-or-infinity.js");\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-indexed-object.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-indexed-object.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "./node_modules/core-js/internals/indexed-object.js");\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-integer-or-infinity.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-integer-or-infinity.js ***!\n  \\******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar trunc = __webpack_require__(/*! ../internals/math-trunc */ "./node_modules/core-js/internals/math-trunc.js");\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-length.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-length.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "./node_modules/core-js/internals/to-integer-or-infinity.js");\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-object.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-object.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-offset.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-offset.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toPositiveInteger = __webpack_require__(/*! ../internals/to-positive-integer */ "./node_modules/core-js/internals/to-positive-integer.js");\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw $RangeError(\'Wrong offset\');\n  return offset;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-positive-integer.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-positive-integer.js ***!\n  \\***************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "./node_modules/core-js/internals/to-integer-or-infinity.js");\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw $RangeError("The argument can\'t be less than 0");\n  return result;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-primitive.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-primitive.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "./node_modules/core-js/internals/is-symbol.js");\nvar getMethod = __webpack_require__(/*! ../internals/get-method */ "./node_modules/core-js/internals/get-method.js");\nvar ordinaryToPrimitive = __webpack_require__(/*! ../internals/ordinary-to-primitive */ "./node_modules/core-js/internals/ordinary-to-primitive.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol(\'toPrimitive\');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = \'default\';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError("Can\'t convert object to primitive value");\n  }\n  if (pref === undefined) pref = \'number\';\n  return ordinaryToPrimitive(input, pref);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-property-key.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-property-key.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ "./node_modules/core-js/internals/to-primitive.js");\nvar isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "./node_modules/core-js/internals/is-symbol.js");\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, \'string\');\n  return isSymbol(key) ? key : key + \'\';\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-set-like.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-set-like.js ***!\n  \\*******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isIterable = __webpack_require__(/*! ../internals/is-iterable */ "./node_modules/core-js/internals/is-iterable.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\n\nvar Set = getBuiltIn(\'Set\');\n\nvar isSetLike = function (it) {\n  return isObject(it)\n    && typeof it.size == \'number\'\n    && isCallable(it.has)\n    && isCallable(it.keys);\n};\n\n// fallback old -> new set methods proposal arguments\nmodule.exports = function (it) {\n  if (isSetLike(it)) return it;\n  return isIterable(it) ? new Set(it) : it;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-string-tag-support.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-string-tag-support.js ***!\n  \\*****************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar TO_STRING_TAG = wellKnownSymbol(\'toStringTag\');\nvar test = {};\n\ntest[TO_STRING_TAG] = \'z\';\n\nmodule.exports = String(test) === \'[object z]\';\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/to-string.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/internals/to-string.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar classof = __webpack_require__(/*! ../internals/classof */ "./node_modules/core-js/internals/classof.js");\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === \'Symbol\') throw TypeError(\'Cannot convert a Symbol value to a string\');\n  return $String(argument);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/try-to-string.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/internals/try-to-string.js ***!\n  \\*********************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return \'Object\';\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/uid.js":\n/*!***********************************************!*\\\n  !*** ./node_modules/core-js/internals/uid.js ***!\n  \\***********************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return \'Symbol(\' + (key === undefined ? \'\' : key) + \')_\' + toString(++id + postfix, 36);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/use-symbol-as-uid.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/use-symbol-as-uid.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "./node_modules/core-js/internals/symbol-constructor-detection.js");\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == \'symbol\';\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/v8-prototype-define-bug.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/core-js/internals/v8-prototype-define-bug.js ***!\n  \\*******************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, \'prototype\', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/validate-arguments-length.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/validate-arguments-length.js ***!\n  \\*********************************************************************/\n/***/ ((module) => {\n\n"use strict";\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw $TypeError(\'Not enough arguments\');\n  return passed;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/weak-map-basic-detection.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/weak-map-basic-detection.js ***!\n  \\********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/weak-map-helpers.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/weak-map-helpers.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\n// eslint-disable-next-line es/no-weak-map -- safe\nvar WeakMapPrototype = WeakMap.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-weak-map -- safe\n  WeakMap: WeakMap,\n  set: uncurryThis(WeakMapPrototype.set),\n  get: uncurryThis(WeakMapPrototype.get),\n  has: uncurryThis(WeakMapPrototype.has),\n  remove: uncurryThis(WeakMapPrototype[\'delete\'])\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/weak-set-helpers.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/internals/weak-set-helpers.js ***!\n  \\************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\n\n// eslint-disable-next-line es/no-weak-set -- safe\nvar WeakSetPrototype = WeakSet.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-weak-set -- safe\n  WeakSet: WeakSet,\n  add: uncurryThis(WeakSetPrototype.add),\n  has: uncurryThis(WeakSetPrototype.has),\n  remove: uncurryThis(WeakSetPrototype[\'delete\'])\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/well-known-symbol-define.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/well-known-symbol-define.js ***!\n  \\********************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar path = __webpack_require__(/*! ../internals/path */ "./node_modules/core-js/internals/path.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar wrappedWellKnownSymbolModule = __webpack_require__(/*! ../internals/well-known-symbol-wrapped */ "./node_modules/core-js/internals/well-known-symbol-wrapped.js");\nvar defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f);\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/well-known-symbol-wrapped.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/internals/well-known-symbol-wrapped.js ***!\n  \\*********************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nexports.f = wellKnownSymbol;\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/well-known-symbol.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/internals/well-known-symbol.js ***!\n  \\*************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar shared = __webpack_require__(/*! ../internals/shared */ "./node_modules/core-js/internals/shared.js");\nvar hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "./node_modules/core-js/internals/has-own-property.js");\nvar uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");\nvar NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "./node_modules/core-js/internals/symbol-constructor-detection.js");\nvar USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ "./node_modules/core-js/internals/use-symbol-as-uid.js");\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared(\'wks\');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol[\'for\'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol(\'Symbol.\' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/internals/whitespaces.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/internals/whitespaces.js ***!\n  \\*******************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n// a string of all valid unicode whitespaces\nmodule.exports = \'\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\' +\n  \'\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF\';\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/es.array.includes.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/es.array.includes.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar $includes = (__webpack_require__(/*! ../internals/array-includes */ "./node_modules/core-js/internals/array-includes.js").includes);\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar addToUnscopables = __webpack_require__(/*! ../internals/add-to-unscopables */ "./node_modules/core-js/internals/add-to-unscopables.js");\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  // eslint-disable-next-line es/no-array-prototype-includes -- detection\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: \'Array\', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(\'includes\');\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/es.map.constructor.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/modules/es.map.constructor.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar collection = __webpack_require__(/*! ../internals/collection */ "./node_modules/core-js/internals/collection.js");\nvar collectionStrong = __webpack_require__(/*! ../internals/collection-strong */ "./node_modules/core-js/internals/collection-strong.js");\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\ncollection(\'Map\', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/es.map.js":\n/*!************************************************!*\\\n  !*** ./node_modules/core-js/modules/es.map.js ***!\n  \\************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove this module from `core-js@4` since it\'s replaced to module below\n__webpack_require__(/*! ../modules/es.map.constructor */ "./node_modules/core-js/modules/es.map.constructor.js");\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/es.regexp.flags.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/es.regexp.flags.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "./node_modules/core-js/internals/define-built-in-accessor.js");\nvar regExpFlags = __webpack_require__(/*! ../internals/regexp-flags */ "./node_modules/core-js/internals/regexp-flags.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\n// babel-minify and Closure Compiler transpiles RegExp(\'.\', \'d\') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp(\'.\', \'d\');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = \'\';\n  var expected = INDICES_SUPPORT ? \'dgimsy\' : \'gimsy\';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: \'s\',\n    global: \'g\',\n    ignoreCase: \'i\',\n    multiline: \'m\',\n    sticky: \'y\'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = \'d\';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, \'flags\').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, \'flags\', {\n  configurable: true,\n  get: regExpFlags\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/es.typed-array.set.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/modules/es.typed-array.set.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar ArrayBufferViewCore = __webpack_require__(/*! ../internals/array-buffer-view-core */ "./node_modules/core-js/internals/array-buffer-view-core.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\nvar toOffset = __webpack_require__(/*! ../internals/to-offset */ "./node_modules/core-js/internals/to-offset.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\nvar RangeError = global.RangeError;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar $set = Int8ArrayPrototype && Int8ArrayPrototype.set;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS = !fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  var array = new Uint8ClampedArray(2);\n  call($set, array, { length: 1, 0: 3 }, 1);\n  return array[1] !== 3;\n});\n\n// https://bugs.chromium.org/p/v8/issues/detail?id=11294 and other\nvar TO_OBJECT_BUG = WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS && ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS && fails(function () {\n  var array = new Int8Array(2);\n  array.set(1);\n  array.set(\'2\', 1);\n  return array[0] !== 0 || array[1] !== 2;\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod(\'set\', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var src = toIndexedObject(arrayLike);\n  if (WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS) return call($set, this, src, offset);\n  var length = this.length;\n  var len = lengthOfArrayLike(src);\n  var index = 0;\n  if (len + offset > length) throw RangeError(\'Wrong length\');\n  while (index < len) this[offset + index] = src[index++];\n}, !WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS || TO_OBJECT_BUG);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/es.weak-map.constructor.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/es.weak-map.constructor.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar FREEZING = __webpack_require__(/*! ../internals/freezing */ "./node_modules/core-js/internals/freezing.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar defineBuiltIns = __webpack_require__(/*! ../internals/define-built-ins */ "./node_modules/core-js/internals/define-built-ins.js");\nvar InternalMetadataModule = __webpack_require__(/*! ../internals/internal-metadata */ "./node_modules/core-js/internals/internal-metadata.js");\nvar collection = __webpack_require__(/*! ../internals/collection */ "./node_modules/core-js/internals/collection.js");\nvar collectionWeak = __webpack_require__(/*! ../internals/collection-weak */ "./node_modules/core-js/internals/collection-weak.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar enforceInternalState = (__webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js").enforce);\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar NATIVE_WEAK_MAP = __webpack_require__(/*! ../internals/weak-map-basic-detection */ "./node_modules/core-js/internals/weak-map-basic-detection.js");\n\nvar $Object = Object;\n// eslint-disable-next-line es/no-array-isarray -- safe\nvar isArray = Array.isArray;\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar isExtensible = $Object.isExtensible;\n// eslint-disable-next-line es/no-object-isfrozen -- safe\nvar isFrozen = $Object.isFrozen;\n// eslint-disable-next-line es/no-object-issealed -- safe\nvar isSealed = $Object.isSealed;\n// eslint-disable-next-line es/no-object-freeze -- safe\nvar freeze = $Object.freeze;\n// eslint-disable-next-line es/no-object-seal -- safe\nvar seal = $Object.seal;\n\nvar FROZEN = {};\nvar SEALED = {};\nvar IS_IE11 = !global.ActiveXObject && \'ActiveXObject\' in global;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.es/ecma262/#sec-weakmap-constructor\nvar $WeakMap = collection(\'WeakMap\', wrapper, collectionWeak);\nvar WeakMapPrototype = $WeakMap.prototype;\nvar nativeSet = uncurryThis(WeakMapPrototype.set);\n\n// Chakra Edge bug: adding frozen arrays to WeakMap unfreeze them\nvar hasMSEdgeFreezingBug = function () {\n  return FREEZING && fails(function () {\n    var frozenArray = freeze([]);\n    nativeSet(new $WeakMap(), frozenArray, 1);\n    return !isFrozen(frozenArray);\n  });\n};\n\n// IE11 WeakMap frozen keys fix\n// We can\'t use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP) if (IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, \'WeakMap\', true);\n  InternalMetadataModule.enable();\n  var nativeDelete = uncurryThis(WeakMapPrototype[\'delete\']);\n  var nativeHas = uncurryThis(WeakMapPrototype.has);\n  var nativeGet = uncurryThis(WeakMapPrototype.get);\n  defineBuiltIns(WeakMapPrototype, {\n    \'delete\': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete(this, key) || state.frozen[\'delete\'](key);\n      } return nativeDelete(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas(this, key) || state.frozen.has(key);\n      } return nativeHas(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas(this, key) ? nativeGet(this, key) : state.frozen.get(key);\n      } return nativeGet(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas(this, key) ? nativeSet(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet(this, key, value);\n      return this;\n    }\n  });\n// Chakra Edge frozen keys fix\n} else if (hasMSEdgeFreezingBug()) {\n  defineBuiltIns(WeakMapPrototype, {\n    set: function set(key, value) {\n      var arrayIntegrityLevel;\n      if (isArray(key)) {\n        if (isFrozen(key)) arrayIntegrityLevel = FROZEN;\n        else if (isSealed(key)) arrayIntegrityLevel = SEALED;\n      }\n      nativeSet(this, key, value);\n      if (arrayIntegrityLevel === FROZEN) freeze(key);\n      if (arrayIntegrityLevel === SEALED) seal(key);\n      return this;\n    }\n  });\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/es.weak-map.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/core-js/modules/es.weak-map.js ***!\n  \\*****************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove this module from `core-js@4` since it\'s replaced to module below\n__webpack_require__(/*! ../modules/es.weak-map.constructor */ "./node_modules/core-js/modules/es.weak-map.constructor.js");\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.array.last-index.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.array.last-index.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar addToUnscopables = __webpack_require__(/*! ../internals/add-to-unscopables */ "./node_modules/core-js/internals/add-to-unscopables.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\nvar defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "./node_modules/core-js/internals/define-built-in-accessor.js");\n\n// `Array.prototype.lastIndex` getter\n// https://github.com/keithamus/proposal-array-last\nif (DESCRIPTORS) {\n  defineBuiltInAccessor(Array.prototype, \'lastIndex\', {\n    configurable: true,\n    get: function lastIndex() {\n      var O = toObject(this);\n      var len = lengthOfArrayLike(O);\n      return len === 0 ? 0 : len - 1;\n    }\n  });\n\n  addToUnscopables(\'lastIndex\');\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.array.last-item.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.array.last-item.js ***!\n  \\****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar addToUnscopables = __webpack_require__(/*! ../internals/add-to-unscopables */ "./node_modules/core-js/internals/add-to-unscopables.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "./node_modules/core-js/internals/length-of-array-like.js");\nvar defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "./node_modules/core-js/internals/define-built-in-accessor.js");\n\n// `Array.prototype.lastIndex` accessor\n// https://github.com/keithamus/proposal-array-last\nif (DESCRIPTORS) {\n  defineBuiltInAccessor(Array.prototype, \'lastItem\', {\n    configurable: true,\n    get: function lastItem() {\n      var O = toObject(this);\n      var len = lengthOfArrayLike(O);\n      return len === 0 ? undefined : O[len - 1];\n    },\n    set: function lastItem(value) {\n      var O = toObject(this);\n      var len = lengthOfArrayLike(O);\n      return O[len === 0 ? 0 : len - 1] = value;\n    }\n  });\n\n  addToUnscopables(\'lastItem\');\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.composite-key.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.composite-key.js ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar apply = __webpack_require__(/*! ../internals/function-apply */ "./node_modules/core-js/internals/function-apply.js");\nvar getCompositeKeyNode = __webpack_require__(/*! ../internals/composite-key */ "./node_modules/core-js/internals/composite-key.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\n\nvar $Object = Object;\n\nvar initializer = function () {\n  var freeze = getBuiltIn(\'Object\', \'freeze\');\n  return freeze ? freeze(create(null)) : create(null);\n};\n\n// https://github.com/tc39/proposal-richer-keys/tree/master/compositeKey\n$({ global: true, forced: true }, {\n  compositeKey: function compositeKey() {\n    return apply(getCompositeKeyNode, $Object, arguments).get(\'object\', initializer);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.composite-symbol.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.composite-symbol.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar getCompositeKeyNode = __webpack_require__(/*! ../internals/composite-key */ "./node_modules/core-js/internals/composite-key.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar apply = __webpack_require__(/*! ../internals/function-apply */ "./node_modules/core-js/internals/function-apply.js");\n\n// https://github.com/tc39/proposal-richer-keys/tree/master/compositeKey\n$({ global: true, forced: true }, {\n  compositeSymbol: function compositeSymbol() {\n    if (arguments.length === 1 && typeof arguments[0] == \'string\') return getBuiltIn(\'Symbol\')[\'for\'](arguments[0]);\n    return apply(getCompositeKeyNode, null, arguments).get(\'symbol\', getBuiltIn(\'Symbol\'));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.delete-all.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.delete-all.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar remove = (__webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js").remove);\n\n// `Map.prototype.deleteAll` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  deleteAll: function deleteAll(/* ...elements */) {\n    var collection = aMap(this);\n    var allDeleted = true;\n    var wasDeleted;\n    for (var k = 0, len = arguments.length; k < len; k++) {\n      wasDeleted = remove(collection, arguments[k]);\n      allDeleted = allDeleted && wasDeleted;\n    } return !!allDeleted;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.every.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.every.js ***!\n  \\**********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\n// `Map.prototype.every` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  every: function every(callbackfn /* , thisArg */) {\n    var map = aMap(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return iterate(map, function (value, key) {\n      if (!boundFunction(value, key, map)) return false;\n    }, true) !== false;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.filter.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.filter.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar MapHelpers = __webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\nvar Map = MapHelpers.Map;\nvar set = MapHelpers.set;\n\n// `Map.prototype.filter` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    var map = aMap(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var newMap = new Map();\n    iterate(map, function (value, key) {\n      if (boundFunction(value, key, map)) set(newMap, key, value);\n    });\n    return newMap;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.find-key.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.find-key.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\n// `Map.prototype.findKey` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  findKey: function findKey(callbackfn /* , thisArg */) {\n    var map = aMap(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var result = iterate(map, function (value, key) {\n      if (boundFunction(value, key, map)) return { key: key };\n    }, true);\n    return result && result.key;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.find.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.find.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\n// `Map.prototype.find` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  find: function find(callbackfn /* , thisArg */) {\n    var map = aMap(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var result = iterate(map, function (value, key) {\n      if (boundFunction(value, key, map)) return { value: value };\n    }, true);\n    return result && result.value;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.from.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.from.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar from = __webpack_require__(/*! ../internals/collection-from */ "./node_modules/core-js/internals/collection-from.js");\n\n// `Map.from` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\n$({ target: \'Map\', stat: true, forced: true }, {\n  from: from\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.group-by.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.group-by.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar MapHelpers = __webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js");\nvar IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "./node_modules/core-js/internals/is-pure.js");\n\nvar Map = MapHelpers.Map;\nvar has = MapHelpers.has;\nvar get = MapHelpers.get;\nvar set = MapHelpers.set;\nvar push = uncurryThis([].push);\n\n// `Map.groupBy` method\n// https://github.com/tc39/proposal-array-grouping\n$({ target: \'Map\', stat: true, forced: IS_PURE }, {\n  groupBy: function groupBy(items, callbackfn) {\n    requireObjectCoercible(items);\n    aCallable(callbackfn);\n    var map = new Map();\n    var k = 0;\n    iterate(items, function (value) {\n      var key = callbackfn(value, k++);\n      if (!has(map, key)) set(map, key, [value]);\n      else push(get(map, key), value);\n    });\n    return map;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.includes.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.includes.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar sameValueZero = __webpack_require__(/*! ../internals/same-value-zero */ "./node_modules/core-js/internals/same-value-zero.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\n// `Map.prototype.includes` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  includes: function includes(searchElement) {\n    return iterate(aMap(this), function (value) {\n      if (sameValueZero(value, searchElement)) return true;\n    }, true) === true;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.key-by.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.key-by.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar Map = (__webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js").Map);\n\n// `Map.keyBy` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', stat: true, forced: true }, {\n  keyBy: function keyBy(iterable, keyDerivative) {\n    var C = isCallable(this) ? this : Map;\n    var newMap = new C();\n    aCallable(keyDerivative);\n    var setter = aCallable(newMap.set);\n    iterate(iterable, function (element) {\n      call(setter, newMap, keyDerivative(element), element);\n    });\n    return newMap;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.key-of.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.key-of.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\n// `Map.prototype.keyOf` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  keyOf: function keyOf(searchElement) {\n    var result = iterate(aMap(this), function (value, key) {\n      if (value === searchElement) return { key: key };\n    }, true);\n    return result && result.key;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.map-keys.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.map-keys.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar MapHelpers = __webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\nvar Map = MapHelpers.Map;\nvar set = MapHelpers.set;\n\n// `Map.prototype.mapKeys` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  mapKeys: function mapKeys(callbackfn /* , thisArg */) {\n    var map = aMap(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var newMap = new Map();\n    iterate(map, function (value, key) {\n      set(newMap, boundFunction(value, key, map), value);\n    });\n    return newMap;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.map-values.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.map-values.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar MapHelpers = __webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\nvar Map = MapHelpers.Map;\nvar set = MapHelpers.set;\n\n// `Map.prototype.mapValues` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  mapValues: function mapValues(callbackfn /* , thisArg */) {\n    var map = aMap(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var newMap = new Map();\n    iterate(map, function (value, key) {\n      set(newMap, key, boundFunction(value, key, map));\n    });\n    return newMap;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.merge.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.merge.js ***!\n  \\**********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar set = (__webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js").set);\n\n// `Map.prototype.merge` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, arity: 1, forced: true }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  merge: function merge(iterable /* ...iterables */) {\n    var map = aMap(this);\n    var argumentsLength = arguments.length;\n    var i = 0;\n    while (i < argumentsLength) {\n      iterate(arguments[i++], function (key, value) {\n        set(map, key, value);\n      }, { AS_ENTRIES: true });\n    }\n    return map;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.of.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.of.js ***!\n  \\*******************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar of = __webpack_require__(/*! ../internals/collection-of */ "./node_modules/core-js/internals/collection-of.js");\n\n// `Map.of` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\n$({ target: \'Map\', stat: true, forced: true }, {\n  of: of\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.reduce.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.reduce.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\nvar $TypeError = TypeError;\n\n// `Map.prototype.reduce` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var map = aMap(this);\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    aCallable(callbackfn);\n    iterate(map, function (value, key) {\n      if (noInitial) {\n        noInitial = false;\n        accumulator = value;\n      } else {\n        accumulator = callbackfn(accumulator, value, key, map);\n      }\n    });\n    if (noInitial) throw $TypeError(\'Reduce of empty map with no initial value\');\n    return accumulator;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.some.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.some.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar iterate = __webpack_require__(/*! ../internals/map-iterate */ "./node_modules/core-js/internals/map-iterate.js");\n\n// `Map.prototype.some` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  some: function some(callbackfn /* , thisArg */) {\n    var map = aMap(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return iterate(map, function (value, key) {\n      if (boundFunction(value, key, map)) return true;\n    }, true) === true;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.map.update.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.map.update.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar aMap = __webpack_require__(/*! ../internals/a-map */ "./node_modules/core-js/internals/a-map.js");\nvar MapHelpers = __webpack_require__(/*! ../internals/map-helpers */ "./node_modules/core-js/internals/map-helpers.js");\n\nvar $TypeError = TypeError;\nvar get = MapHelpers.get;\nvar has = MapHelpers.has;\nvar set = MapHelpers.set;\n\n// `Map.prototype.update` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Map\', proto: true, real: true, forced: true }, {\n  update: function update(key, callback /* , thunk */) {\n    var map = aMap(this);\n    var length = arguments.length;\n    aCallable(callback);\n    var isPresentInMap = has(map, key);\n    if (!isPresentInMap && length < 3) {\n      throw $TypeError(\'Updating absent value\');\n    }\n    var value = isPresentInMap ? get(map, key) : aCallable(length > 2 ? arguments[2] : undefined)(key, map);\n    set(map, key, callback(value, key, map));\n    return map;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.clamp.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.clamp.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\nvar min = Math.min;\nvar max = Math.max;\n\n// `Math.clamp` method\n// https://rwaldron.github.io/proposal-math-extensions/\n$({ target: \'Math\', stat: true, forced: true }, {\n  clamp: function clamp(x, lower, upper) {\n    return min(upper, max(lower, x));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.deg-per-rad.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.deg-per-rad.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\n// `Math.DEG_PER_RAD` constant\n// https://rwaldron.github.io/proposal-math-extensions/\n$({ target: \'Math\', stat: true, nonConfigurable: true, nonWritable: true }, {\n  DEG_PER_RAD: Math.PI / 180\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.degrees.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.degrees.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\nvar RAD_PER_DEG = 180 / Math.PI;\n\n// `Math.degrees` method\n// https://rwaldron.github.io/proposal-math-extensions/\n$({ target: \'Math\', stat: true, forced: true }, {\n  degrees: function degrees(radians) {\n    return radians * RAD_PER_DEG;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.fscale.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.fscale.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\nvar scale = __webpack_require__(/*! ../internals/math-scale */ "./node_modules/core-js/internals/math-scale.js");\nvar fround = __webpack_require__(/*! ../internals/math-fround */ "./node_modules/core-js/internals/math-fround.js");\n\n// `Math.fscale` method\n// https://rwaldron.github.io/proposal-math-extensions/\n$({ target: \'Math\', stat: true, forced: true }, {\n  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {\n    return fround(scale(x, inLow, inHigh, outLow, outHigh));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.iaddh.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.iaddh.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\n// `Math.iaddh` method\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\n// TODO: Remove from `core-js@4`\n$({ target: \'Math\', stat: true, forced: true }, {\n  iaddh: function iaddh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.imulh.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.imulh.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\n// `Math.imulh` method\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\n// TODO: Remove from `core-js@4`\n$({ target: \'Math\', stat: true, forced: true }, {\n  imulh: function imulh(u, v) {\n    var UINT16 = 0xFFFF;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >> 16;\n    var v1 = $v >> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.isubh.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.isubh.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\n// `Math.isubh` method\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\n// TODO: Remove from `core-js@4`\n$({ target: \'Math\', stat: true, forced: true }, {\n  isubh: function isubh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.rad-per-deg.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.rad-per-deg.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\n// `Math.RAD_PER_DEG` constant\n// https://rwaldron.github.io/proposal-math-extensions/\n$({ target: \'Math\', stat: true, nonConfigurable: true, nonWritable: true }, {\n  RAD_PER_DEG: 180 / Math.PI\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.radians.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.radians.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\nvar DEG_PER_RAD = Math.PI / 180;\n\n// `Math.radians` method\n// https://rwaldron.github.io/proposal-math-extensions/\n$({ target: \'Math\', stat: true, forced: true }, {\n  radians: function radians(degrees) {\n    return degrees * DEG_PER_RAD;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.scale.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.scale.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar scale = __webpack_require__(/*! ../internals/math-scale */ "./node_modules/core-js/internals/math-scale.js");\n\n// `Math.scale` method\n// https://rwaldron.github.io/proposal-math-extensions/\n$({ target: \'Math\', stat: true, forced: true }, {\n  scale: scale\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.seeded-prng.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.seeded-prng.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar numberIsFinite = __webpack_require__(/*! ../internals/number-is-finite */ "./node_modules/core-js/internals/number-is-finite.js");\nvar createIteratorConstructor = __webpack_require__(/*! ../internals/iterator-create-constructor */ "./node_modules/core-js/internals/iterator-create-constructor.js");\nvar createIterResultObject = __webpack_require__(/*! ../internals/create-iter-result-object */ "./node_modules/core-js/internals/create-iter-result-object.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\n\nvar SEEDED_RANDOM = \'Seeded Random\';\nvar SEEDED_RANDOM_GENERATOR = SEEDED_RANDOM + \' Generator\';\nvar SEED_TYPE_ERROR = \'Math.seededPRNG() argument should have a "seed" field with a finite value.\';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SEEDED_RANDOM_GENERATOR);\nvar $TypeError = TypeError;\n\nvar $SeededRandomGenerator = createIteratorConstructor(function SeededRandomGenerator(seed) {\n  setInternalState(this, {\n    type: SEEDED_RANDOM_GENERATOR,\n    seed: seed % 2147483647\n  });\n}, SEEDED_RANDOM, function next() {\n  var state = getInternalState(this);\n  var seed = state.seed = (state.seed * 1103515245 + 12345) % 2147483647;\n  return createIterResultObject((seed & 1073741823) / 1073741823, false);\n});\n\n// `Math.seededPRNG` method\n// https://github.com/tc39/proposal-seeded-random\n// based on https://github.com/tc39/proposal-seeded-random/blob/78b8258835b57fc2100d076151ab506bc3202ae6/demo.html\n$({ target: \'Math\', stat: true, forced: true }, {\n  seededPRNG: function seededPRNG(it) {\n    var seed = anObject(it).seed;\n    if (!numberIsFinite(seed)) throw $TypeError(SEED_TYPE_ERROR);\n    return new $SeededRandomGenerator(seed);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.signbit.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.signbit.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\n// `Math.signbit` method\n// https://github.com/tc39/proposal-Math.signbit\n$({ target: \'Math\', stat: true, forced: true }, {\n  signbit: function signbit(x) {\n    var n = +x;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return n === n && n === 0 ? 1 / n === -Infinity : n < 0;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.math.umulh.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.math.umulh.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\n\n// `Math.umulh` method\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\n// TODO: Remove from `core-js@4`\n$({ target: \'Math\', stat: true, forced: true }, {\n  umulh: function umulh(u, v) {\n    var UINT16 = 0xFFFF;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >>> 16;\n    var v1 = $v >>> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.number.from-string.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.number.from-string.js ***!\n  \\*******************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "./node_modules/core-js/internals/to-integer-or-infinity.js");\nvar parseInt = __webpack_require__(/*! ../internals/number-parse-int */ "./node_modules/core-js/internals/number-parse-int.js");\n\nvar INVALID_NUMBER_REPRESENTATION = \'Invalid number representation\';\nvar INVALID_RADIX = \'Invalid radix\';\nvar $RangeError = RangeError;\nvar $SyntaxError = SyntaxError;\nvar $TypeError = TypeError;\nvar valid = /^[\\da-z]+$/;\nvar charAt = uncurryThis(\'\'.charAt);\nvar exec = uncurryThis(valid.exec);\nvar numberToString = uncurryThis(1.0.toString);\nvar stringSlice = uncurryThis(\'\'.slice);\n\n// `Number.fromString` method\n// https://github.com/tc39/proposal-number-fromstring\n$({ target: \'Number\', stat: true, forced: true }, {\n  fromString: function fromString(string, radix) {\n    var sign = 1;\n    var R, mathNum;\n    if (typeof string != \'string\') throw $TypeError(INVALID_NUMBER_REPRESENTATION);\n    if (!string.length) throw $SyntaxError(INVALID_NUMBER_REPRESENTATION);\n    if (charAt(string, 0) === \'-\') {\n      sign = -1;\n      string = stringSlice(string, 1);\n      if (!string.length) throw $SyntaxError(INVALID_NUMBER_REPRESENTATION);\n    }\n    R = radix === undefined ? 10 : toIntegerOrInfinity(radix);\n    if (R < 2 || R > 36) throw $RangeError(INVALID_RADIX);\n    if (!exec(valid, string) || numberToString(mathNum = parseInt(string, R), R) !== string) {\n      throw $SyntaxError(INVALID_NUMBER_REPRESENTATION);\n    }\n    return sign * mathNum;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.observable.constructor.js":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.observable.constructor.js ***!\n  \\***********************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// https://github.com/tc39/proposal-observable\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar setSpecies = __webpack_require__(/*! ../internals/set-species */ "./node_modules/core-js/internals/set-species.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar anInstance = __webpack_require__(/*! ../internals/an-instance */ "./node_modules/core-js/internals/an-instance.js");\nvar isCallable = __webpack_require__(/*! ../internals/is-callable */ "./node_modules/core-js/internals/is-callable.js");\nvar isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "./node_modules/core-js/internals/is-null-or-undefined.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar getMethod = __webpack_require__(/*! ../internals/get-method */ "./node_modules/core-js/internals/get-method.js");\nvar defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "./node_modules/core-js/internals/define-built-in.js");\nvar defineBuiltIns = __webpack_require__(/*! ../internals/define-built-ins */ "./node_modules/core-js/internals/define-built-ins.js");\nvar defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "./node_modules/core-js/internals/define-built-in-accessor.js");\nvar hostReportErrors = __webpack_require__(/*! ../internals/host-report-errors */ "./node_modules/core-js/internals/host-report-errors.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\nvar OBSERVABLE_FORCED = __webpack_require__(/*! ../internals/observable-forced */ "./node_modules/core-js/internals/observable-forced.js");\n\nvar $$OBSERVABLE = wellKnownSymbol(\'observable\');\nvar OBSERVABLE = \'Observable\';\nvar SUBSCRIPTION = \'Subscription\';\nvar SUBSCRIPTION_OBSERVER = \'SubscriptionObserver\';\nvar getterFor = InternalStateModule.getterFor;\nvar setInternalState = InternalStateModule.set;\nvar getObservableInternalState = getterFor(OBSERVABLE);\nvar getSubscriptionInternalState = getterFor(SUBSCRIPTION);\nvar getSubscriptionObserverInternalState = getterFor(SUBSCRIPTION_OBSERVER);\n\nvar SubscriptionState = function (observer) {\n  this.observer = anObject(observer);\n  this.cleanup = undefined;\n  this.subscriptionObserver = undefined;\n};\n\nSubscriptionState.prototype = {\n  type: SUBSCRIPTION,\n  clean: function () {\n    var cleanup = this.cleanup;\n    if (cleanup) {\n      this.cleanup = undefined;\n      try {\n        cleanup();\n      } catch (error) {\n        hostReportErrors(error);\n      }\n    }\n  },\n  close: function () {\n    if (!DESCRIPTORS) {\n      var subscription = this.facade;\n      var subscriptionObserver = this.subscriptionObserver;\n      subscription.closed = true;\n      if (subscriptionObserver) subscriptionObserver.closed = true;\n    } this.observer = undefined;\n  },\n  isClosed: function () {\n    return this.observer === undefined;\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  var subscriptionState = setInternalState(this, new SubscriptionState(observer));\n  var start;\n  if (!DESCRIPTORS) this.closed = false;\n  try {\n    if (start = getMethod(observer, \'start\')) call(start, observer, this);\n  } catch (error) {\n    hostReportErrors(error);\n  }\n  if (subscriptionState.isClosed()) return;\n  var subscriptionObserver = subscriptionState.subscriptionObserver = new SubscriptionObserver(subscriptionState);\n  try {\n    var cleanup = subscriber(subscriptionObserver);\n    var subscription = cleanup;\n    if (!isNullOrUndefined(cleanup)) subscriptionState.cleanup = isCallable(cleanup.unsubscribe)\n      ? function () { subscription.unsubscribe(); }\n      : aCallable(cleanup);\n  } catch (error) {\n    subscriptionObserver.error(error);\n    return;\n  } if (subscriptionState.isClosed()) subscriptionState.clean();\n};\n\nSubscription.prototype = defineBuiltIns({}, {\n  unsubscribe: function unsubscribe() {\n    var subscriptionState = getSubscriptionInternalState(this);\n    if (!subscriptionState.isClosed()) {\n      subscriptionState.close();\n      subscriptionState.clean();\n    }\n  }\n});\n\nif (DESCRIPTORS) defineBuiltInAccessor(Subscription.prototype, \'closed\', {\n  configurable: true,\n  get: function closed() {\n    return getSubscriptionInternalState(this).isClosed();\n  }\n});\n\nvar SubscriptionObserver = function (subscriptionState) {\n  setInternalState(this, {\n    type: SUBSCRIPTION_OBSERVER,\n    subscriptionState: subscriptionState\n  });\n  if (!DESCRIPTORS) this.closed = false;\n};\n\nSubscriptionObserver.prototype = defineBuiltIns({}, {\n  next: function next(value) {\n    var subscriptionState = getSubscriptionObserverInternalState(this).subscriptionState;\n    if (!subscriptionState.isClosed()) {\n      var observer = subscriptionState.observer;\n      try {\n        var nextMethod = getMethod(observer, \'next\');\n        if (nextMethod) call(nextMethod, observer, value);\n      } catch (error) {\n        hostReportErrors(error);\n      }\n    }\n  },\n  error: function error(value) {\n    var subscriptionState = getSubscriptionObserverInternalState(this).subscriptionState;\n    if (!subscriptionState.isClosed()) {\n      var observer = subscriptionState.observer;\n      subscriptionState.close();\n      try {\n        var errorMethod = getMethod(observer, \'error\');\n        if (errorMethod) call(errorMethod, observer, value);\n        else hostReportErrors(value);\n      } catch (err) {\n        hostReportErrors(err);\n      } subscriptionState.clean();\n    }\n  },\n  complete: function complete() {\n    var subscriptionState = getSubscriptionObserverInternalState(this).subscriptionState;\n    if (!subscriptionState.isClosed()) {\n      var observer = subscriptionState.observer;\n      subscriptionState.close();\n      try {\n        var completeMethod = getMethod(observer, \'complete\');\n        if (completeMethod) call(completeMethod, observer);\n      } catch (error) {\n        hostReportErrors(error);\n      } subscriptionState.clean();\n    }\n  }\n});\n\nif (DESCRIPTORS) defineBuiltInAccessor(SubscriptionObserver.prototype, \'closed\', {\n  configurable: true,\n  get: function closed() {\n    return getSubscriptionObserverInternalState(this).subscriptionState.isClosed();\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, ObservablePrototype);\n  setInternalState(this, {\n    type: OBSERVABLE,\n    subscriber: aCallable(subscriber)\n  });\n};\n\nvar ObservablePrototype = $Observable.prototype;\n\ndefineBuiltIns(ObservablePrototype, {\n  subscribe: function subscribe(observer) {\n    var length = arguments.length;\n    return new Subscription(isCallable(observer) ? {\n      next: observer,\n      error: length > 1 ? arguments[1] : undefined,\n      complete: length > 2 ? arguments[2] : undefined\n    } : isObject(observer) ? observer : {}, getObservableInternalState(this).subscriber);\n  }\n});\n\ndefineBuiltIn(ObservablePrototype, $$OBSERVABLE, function () { return this; });\n\n$({ global: true, constructor: true, forced: OBSERVABLE_FORCED }, {\n  Observable: $Observable\n});\n\nsetSpecies(OBSERVABLE);\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.observable.from.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.observable.from.js ***!\n  \\****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "./node_modules/core-js/internals/is-constructor.js");\nvar getIterator = __webpack_require__(/*! ../internals/get-iterator */ "./node_modules/core-js/internals/get-iterator.js");\nvar getMethod = __webpack_require__(/*! ../internals/get-method */ "./node_modules/core-js/internals/get-method.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar OBSERVABLE_FORCED = __webpack_require__(/*! ../internals/observable-forced */ "./node_modules/core-js/internals/observable-forced.js");\n\nvar $$OBSERVABLE = wellKnownSymbol(\'observable\');\n\n// `Observable.from` method\n// https://github.com/tc39/proposal-observable\n$({ target: \'Observable\', stat: true, forced: OBSERVABLE_FORCED }, {\n  from: function from(x) {\n    var C = isConstructor(this) ? this : getBuiltIn(\'Observable\');\n    var observableMethod = getMethod(anObject(x), $$OBSERVABLE);\n    if (observableMethod) {\n      var observable = anObject(call(observableMethod, x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    var iterator = getIterator(x);\n    return new C(function (observer) {\n      iterate(iterator, function (it, stop) {\n        observer.next(it);\n        if (observer.closed) return stop();\n      }, { IS_ITERATOR: true, INTERRUPTED: true });\n      observer.complete();\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.observable.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.observable.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove this module from `core-js@4` since it\'s split to modules listed below\n__webpack_require__(/*! ../modules/esnext.observable.constructor */ "./node_modules/core-js/modules/esnext.observable.constructor.js");\n__webpack_require__(/*! ../modules/esnext.observable.from */ "./node_modules/core-js/modules/esnext.observable.from.js");\n__webpack_require__(/*! ../modules/esnext.observable.of */ "./node_modules/core-js/modules/esnext.observable.of.js");\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.observable.of.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.observable.of.js ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "./node_modules/core-js/internals/is-constructor.js");\nvar OBSERVABLE_FORCED = __webpack_require__(/*! ../internals/observable-forced */ "./node_modules/core-js/internals/observable-forced.js");\n\nvar Array = getBuiltIn(\'Array\');\n\n// `Observable.of` method\n// https://github.com/tc39/proposal-observable\n$({ target: \'Observable\', stat: true, forced: OBSERVABLE_FORCED }, {\n  of: function of() {\n    var C = isConstructor(this) ? this : getBuiltIn(\'Observable\');\n    var length = arguments.length;\n    var items = Array(length);\n    var index = 0;\n    while (index < length) items[index] = arguments[index++];\n    return new C(function (observer) {\n      for (var i = 0; i < length; i++) {\n        observer.next(items[i]);\n        if (observer.closed) return;\n      } observer.complete();\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.promise.try.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.promise.try.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "./node_modules/core-js/internals/new-promise-capability.js");\nvar perform = __webpack_require__(/*! ../internals/perform */ "./node_modules/core-js/internals/perform.js");\n\n// `Promise.try` method\n// https://github.com/tc39/proposal-promise-try\n$({ target: \'Promise\', stat: true, forced: true }, {\n  \'try\': function (callbackfn) {\n    var promiseCapability = newPromiseCapabilityModule.f(this);\n    var result = perform(callbackfn);\n    (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);\n    return promiseCapability.promise;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.define-metadata.js":\n/*!************************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.define-metadata.js ***!\n  \\************************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\nvar toMetadataKey = ReflectMetadataModule.toKey;\nvar ordinaryDefineOwnMetadata = ReflectMetadataModule.set;\n\n// `Reflect.defineMetadata` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  defineMetadata: function defineMetadata(metadataKey, metadataValue, target /* , targetKey */) {\n    var targetKey = arguments.length < 4 ? undefined : toMetadataKey(arguments[3]);\n    ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), targetKey);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.delete-metadata.js":\n/*!************************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.delete-metadata.js ***!\n  \\************************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\nvar toMetadataKey = ReflectMetadataModule.toKey;\nvar getOrCreateMetadataMap = ReflectMetadataModule.getMap;\nvar store = ReflectMetadataModule.store;\n\n// `Reflect.deleteMetadata` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {\n    var targetKey = arguments.length < 3 ? undefined : toMetadataKey(arguments[2]);\n    var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n    if (metadataMap === undefined || !metadataMap[\'delete\'](metadataKey)) return false;\n    if (metadataMap.size) return true;\n    var targetMetadata = store.get(target);\n    targetMetadata[\'delete\'](targetKey);\n    return !!targetMetadata.size || store[\'delete\'](target);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.get-metadata-keys.js":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.get-metadata-keys.js ***!\n  \\**************************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "./node_modules/core-js/internals/object-get-prototype-of.js");\nvar $arrayUniqueBy = __webpack_require__(/*! ../internals/array-unique-by */ "./node_modules/core-js/internals/array-unique-by.js");\n\nvar arrayUniqueBy = uncurryThis($arrayUniqueBy);\nvar concat = uncurryThis([].concat);\nvar ordinaryOwnMetadataKeys = ReflectMetadataModule.keys;\nvar toMetadataKey = ReflectMetadataModule.toKey;\n\nvar ordinaryMetadataKeys = function (O, P) {\n  var oKeys = ordinaryOwnMetadataKeys(O, P);\n  var parent = getPrototypeOf(O);\n  if (parent === null) return oKeys;\n  var pKeys = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? arrayUniqueBy(concat(oKeys, pKeys)) : pKeys : oKeys;\n};\n\n// `Reflect.getMetadataKeys` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {\n    var targetKey = arguments.length < 2 ? undefined : toMetadataKey(arguments[1]);\n    return ordinaryMetadataKeys(anObject(target), targetKey);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.get-metadata.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.get-metadata.js ***!\n  \\*********************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "./node_modules/core-js/internals/object-get-prototype-of.js");\n\nvar ordinaryHasOwnMetadata = ReflectMetadataModule.has;\nvar ordinaryGetOwnMetadata = ReflectMetadataModule.get;\nvar toMetadataKey = ReflectMetadataModule.toKey;\n\nvar ordinaryGetMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\n// `Reflect.getMetadata` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {\n    var targetKey = arguments.length < 3 ? undefined : toMetadataKey(arguments[2]);\n    return ordinaryGetMetadata(metadataKey, anObject(target), targetKey);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.get-own-metadata-keys.js":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.get-own-metadata-keys.js ***!\n  \\******************************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\nvar ordinaryOwnMetadataKeys = ReflectMetadataModule.keys;\nvar toMetadataKey = ReflectMetadataModule.toKey;\n\n// `Reflect.getOwnMetadataKeys` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {\n    var targetKey = arguments.length < 2 ? undefined : toMetadataKey(arguments[1]);\n    return ordinaryOwnMetadataKeys(anObject(target), targetKey);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.get-own-metadata.js":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.get-own-metadata.js ***!\n  \\*************************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\nvar ordinaryGetOwnMetadata = ReflectMetadataModule.get;\nvar toMetadataKey = ReflectMetadataModule.toKey;\n\n// `Reflect.getOwnMetadata` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {\n    var targetKey = arguments.length < 3 ? undefined : toMetadataKey(arguments[2]);\n    return ordinaryGetOwnMetadata(metadataKey, anObject(target), targetKey);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.has-metadata.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.has-metadata.js ***!\n  \\*********************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "./node_modules/core-js/internals/object-get-prototype-of.js");\n\nvar ordinaryHasOwnMetadata = ReflectMetadataModule.has;\nvar toMetadataKey = ReflectMetadataModule.toKey;\n\nvar ordinaryHasMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\n// `Reflect.hasMetadata` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {\n    var targetKey = arguments.length < 3 ? undefined : toMetadataKey(arguments[2]);\n    return ordinaryHasMetadata(metadataKey, anObject(target), targetKey);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.has-own-metadata.js":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.has-own-metadata.js ***!\n  \\*************************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\nvar ordinaryHasOwnMetadata = ReflectMetadataModule.has;\nvar toMetadataKey = ReflectMetadataModule.toKey;\n\n// `Reflect.hasOwnMetadata` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {\n    var targetKey = arguments.length < 3 ? undefined : toMetadataKey(arguments[2]);\n    return ordinaryHasOwnMetadata(metadataKey, anObject(target), targetKey);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.reflect.metadata.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.reflect.metadata.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar ReflectMetadataModule = __webpack_require__(/*! ../internals/reflect-metadata */ "./node_modules/core-js/internals/reflect-metadata.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\nvar toMetadataKey = ReflectMetadataModule.toKey;\nvar ordinaryDefineOwnMetadata = ReflectMetadataModule.set;\n\n// `Reflect.metadata` method\n// https://github.com/rbuckton/reflect-metadata\n$({ target: \'Reflect\', stat: true }, {\n  metadata: function metadata(metadataKey, metadataValue) {\n    return function decorator(target, key) {\n      ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetadataKey(key));\n    };\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.add-all.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.add-all.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar add = (__webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js").add);\n\n// `Set.prototype.addAll` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  addAll: function addAll(/* ...elements */) {\n    var set = aSet(this);\n    for (var k = 0, len = arguments.length; k < len; k++) {\n      add(set, arguments[k]);\n    } return set;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.delete-all.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.delete-all.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar remove = (__webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js").remove);\n\n// `Set.prototype.deleteAll` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  deleteAll: function deleteAll(/* ...elements */) {\n    var collection = aSet(this);\n    var allDeleted = true;\n    var wasDeleted;\n    for (var k = 0, len = arguments.length; k < len; k++) {\n      wasDeleted = remove(collection, arguments[k]);\n      allDeleted = allDeleted && wasDeleted;\n    } return !!allDeleted;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.difference.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.difference.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toSetLike = __webpack_require__(/*! ../internals/to-set-like */ "./node_modules/core-js/internals/to-set-like.js");\nvar $difference = __webpack_require__(/*! ../internals/set-difference */ "./node_modules/core-js/internals/set-difference.js");\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\n// TODO: Obsolete version, remove from `core-js@4`\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  difference: function difference(other) {\n    return call($difference, this, toSetLike(other));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.every.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.every.js ***!\n  \\**********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\n\n// `Set.prototype.every` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  every: function every(callbackfn /* , thisArg */) {\n    var set = aSet(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return iterate(set, function (value) {\n      if (!boundFunction(value, value, set)) return false;\n    }, true) !== false;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.filter.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.filter.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\n// `Set.prototype.filter` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    var set = aSet(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var newSet = new Set();\n    iterate(set, function (value) {\n      if (boundFunction(value, value, set)) add(newSet, value);\n    });\n    return newSet;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.find.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.find.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\n\n// `Set.prototype.find` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  find: function find(callbackfn /* , thisArg */) {\n    var set = aSet(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var result = iterate(set, function (value) {\n      if (boundFunction(value, value, set)) return { value: value };\n    }, true);\n    return result && result.value;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.from.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.from.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar from = __webpack_require__(/*! ../internals/collection-from */ "./node_modules/core-js/internals/collection-from.js");\n\n// `Set.from` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\n$({ target: \'Set\', stat: true, forced: true }, {\n  from: from\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.intersection.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.intersection.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toSetLike = __webpack_require__(/*! ../internals/to-set-like */ "./node_modules/core-js/internals/to-set-like.js");\nvar $intersection = __webpack_require__(/*! ../internals/set-intersection */ "./node_modules/core-js/internals/set-intersection.js");\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\n// TODO: Obsolete version, remove from `core-js@4`\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  intersection: function intersection(other) {\n    return call($intersection, this, toSetLike(other));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.is-disjoint-from.js ***!\n  \\*********************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toSetLike = __webpack_require__(/*! ../internals/to-set-like */ "./node_modules/core-js/internals/to-set-like.js");\nvar $isDisjointFrom = __webpack_require__(/*! ../internals/set-is-disjoint-from */ "./node_modules/core-js/internals/set-is-disjoint-from.js");\n\n// `Set.prototype.isDisjointFrom` method\n// https://github.com/tc39/proposal-set-methods\n// TODO: Obsolete version, remove from `core-js@4`\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  isDisjointFrom: function isDisjointFrom(other) {\n    return call($isDisjointFrom, this, toSetLike(other));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.is-subset-of.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.is-subset-of.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toSetLike = __webpack_require__(/*! ../internals/to-set-like */ "./node_modules/core-js/internals/to-set-like.js");\nvar $isSubsetOf = __webpack_require__(/*! ../internals/set-is-subset-of */ "./node_modules/core-js/internals/set-is-subset-of.js");\n\n// `Set.prototype.isSubsetOf` method\n// https://github.com/tc39/proposal-set-methods\n// TODO: Obsolete version, remove from `core-js@4`\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  isSubsetOf: function isSubsetOf(other) {\n    return call($isSubsetOf, this, toSetLike(other));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.is-superset-of.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.is-superset-of.js ***!\n  \\*******************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toSetLike = __webpack_require__(/*! ../internals/to-set-like */ "./node_modules/core-js/internals/to-set-like.js");\nvar $isSupersetOf = __webpack_require__(/*! ../internals/set-is-superset-of */ "./node_modules/core-js/internals/set-is-superset-of.js");\n\n// `Set.prototype.isSupersetOf` method\n// https://github.com/tc39/proposal-set-methods\n// TODO: Obsolete version, remove from `core-js@4`\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  isSupersetOf: function isSupersetOf(other) {\n    return call($isSupersetOf, this, toSetLike(other));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.join.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.join.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "./node_modules/core-js/internals/function-uncurry-this.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\nvar toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");\n\nvar arrayJoin = uncurryThis([].join);\nvar push = uncurryThis([].push);\n\n// `Set.prototype.join` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  join: function join(separator) {\n    var set = aSet(this);\n    var sep = separator === undefined ? \',\' : toString(separator);\n    var array = [];\n    iterate(set, function (value) {\n      push(array, value);\n    });\n    return arrayJoin(array, sep);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.map.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.map.js ***!\n  \\********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar SetHelpers = __webpack_require__(/*! ../internals/set-helpers */ "./node_modules/core-js/internals/set-helpers.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\n// `Set.prototype.map` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  map: function map(callbackfn /* , thisArg */) {\n    var set = aSet(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    var newSet = new Set();\n    iterate(set, function (value) {\n      add(newSet, boundFunction(value, value, set));\n    });\n    return newSet;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.of.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.of.js ***!\n  \\*******************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar of = __webpack_require__(/*! ../internals/collection-of */ "./node_modules/core-js/internals/collection-of.js");\n\n// `Set.of` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\n$({ target: \'Set\', stat: true, forced: true }, {\n  of: of\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.reduce.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.reduce.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aCallable = __webpack_require__(/*! ../internals/a-callable */ "./node_modules/core-js/internals/a-callable.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\n\nvar $TypeError = TypeError;\n\n// `Set.prototype.reduce` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var set = aSet(this);\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    aCallable(callbackfn);\n    iterate(set, function (value) {\n      if (noInitial) {\n        noInitial = false;\n        accumulator = value;\n      } else {\n        accumulator = callbackfn(accumulator, value, value, set);\n      }\n    });\n    if (noInitial) throw $TypeError(\'Reduce of empty set with no initial value\');\n    return accumulator;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.some.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.some.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar aSet = __webpack_require__(/*! ../internals/a-set */ "./node_modules/core-js/internals/a-set.js");\nvar iterate = __webpack_require__(/*! ../internals/set-iterate */ "./node_modules/core-js/internals/set-iterate.js");\n\n// `Set.prototype.some` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  some: function some(callbackfn /* , thisArg */) {\n    var set = aSet(this);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return iterate(set, function (value) {\n      if (boundFunction(value, value, set)) return true;\n    }, true) === true;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.symmetric-difference.js":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.symmetric-difference.js ***!\n  \\*************************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toSetLike = __webpack_require__(/*! ../internals/to-set-like */ "./node_modules/core-js/internals/to-set-like.js");\nvar $symmetricDifference = __webpack_require__(/*! ../internals/set-symmetric-difference */ "./node_modules/core-js/internals/set-symmetric-difference.js");\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\n// TODO: Obsolete version, remove from `core-js@4`\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  symmetricDifference: function symmetricDifference(other) {\n    return call($symmetricDifference, this, toSetLike(other));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.set.union.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.set.union.js ***!\n  \\**********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar call = __webpack_require__(/*! ../internals/function-call */ "./node_modules/core-js/internals/function-call.js");\nvar toSetLike = __webpack_require__(/*! ../internals/to-set-like */ "./node_modules/core-js/internals/to-set-like.js");\nvar $union = __webpack_require__(/*! ../internals/set-union */ "./node_modules/core-js/internals/set-union.js");\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\n// TODO: Obsolete version, remove from `core-js@4`\n$({ target: \'Set\', proto: true, real: true, forced: true }, {\n  union: function union(other) {\n    return call($union, this, toSetLike(other));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.string.at.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.string.at.js ***!\n  \\**********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove from `core-js@4`\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar charAt = (__webpack_require__(/*! ../internals/string-multibyte */ "./node_modules/core-js/internals/string-multibyte.js").charAt);\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\nvar toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "./node_modules/core-js/internals/to-integer-or-infinity.js");\nvar toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");\n\n// `String.prototype.at` method\n// https://github.com/mathiasbynens/String.prototype.at\n$({ target: \'String\', proto: true, forced: true }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : charAt(S, k);\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.string.code-points.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.string.code-points.js ***!\n  \\*******************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar createIteratorConstructor = __webpack_require__(/*! ../internals/iterator-create-constructor */ "./node_modules/core-js/internals/iterator-create-constructor.js");\nvar createIterResultObject = __webpack_require__(/*! ../internals/create-iter-result-object */ "./node_modules/core-js/internals/create-iter-result-object.js");\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\nvar toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\nvar StringMultibyteModule = __webpack_require__(/*! ../internals/string-multibyte */ "./node_modules/core-js/internals/string-multibyte.js");\n\nvar codeAt = StringMultibyteModule.codeAt;\nvar charAt = StringMultibyteModule.charAt;\nvar STRING_ITERATOR = \'String Iterator\';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// TODO: unify with String#@@iterator\nvar $StringIterator = createIteratorConstructor(function StringIterator(string) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: string,\n    index: 0\n  });\n}, \'String\', function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return createIterResultObject(undefined, true);\n  point = charAt(string, index);\n  state.index += point.length;\n  return createIterResultObject({ codePoint: codeAt(point, 0), position: index }, false);\n});\n\n// `String.prototype.codePoints` method\n// https://github.com/tc39/proposal-string-prototype-codepoints\n$({ target: \'String\', proto: true, forced: true }, {\n  codePoints: function codePoints() {\n    return new $StringIterator(toString(requireObjectCoercible(this)));\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.symbol.dispose.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.symbol.dispose.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar defineWellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol-define */ "./node_modules/core-js/internals/well-known-symbol-define.js");\nvar defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f);\nvar getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js").f);\n\nvar Symbol = global.Symbol;\n\n// `Symbol.dispose` well-known symbol\n// https://github.com/tc39/proposal-explicit-resource-management\ndefineWellKnownSymbol(\'dispose\');\n\nif (Symbol) {\n  var descriptor = getOwnPropertyDescriptor(Symbol, \'dispose\');\n  // workaround of NodeJS 20.4 bug\n  // https://github.com/nodejs/node/issues/48699\n  // and incorrect descriptor from some transpilers and userland helpers\n  if (descriptor.enumerable && descriptor.configurable && descriptor.writable) {\n    defineProperty(Symbol, \'dispose\', { value: descriptor.value, enumerable: false, configurable: false, writable: false });\n  }\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.symbol.observable.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.symbol.observable.js ***!\n  \\******************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar defineWellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol-define */ "./node_modules/core-js/internals/well-known-symbol-define.js");\n\n// `Symbol.observable` well-known symbol\n// https://github.com/tc39/proposal-observable\ndefineWellKnownSymbol(\'observable\');\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.symbol.pattern-match.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.symbol.pattern-match.js ***!\n  \\*********************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: remove from `core-js@4`\nvar defineWellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol-define */ "./node_modules/core-js/internals/well-known-symbol-define.js");\n\n// `Symbol.patternMatch` well-known symbol\n// https://github.com/tc39/proposal-pattern-matching\ndefineWellKnownSymbol(\'patternMatch\');\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.weak-map.delete-all.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.weak-map.delete-all.js ***!\n  \\********************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aWeakMap = __webpack_require__(/*! ../internals/a-weak-map */ "./node_modules/core-js/internals/a-weak-map.js");\nvar remove = (__webpack_require__(/*! ../internals/weak-map-helpers */ "./node_modules/core-js/internals/weak-map-helpers.js").remove);\n\n// `WeakMap.prototype.deleteAll` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'WeakMap\', proto: true, real: true, forced: true }, {\n  deleteAll: function deleteAll(/* ...elements */) {\n    var collection = aWeakMap(this);\n    var allDeleted = true;\n    var wasDeleted;\n    for (var k = 0, len = arguments.length; k < len; k++) {\n      wasDeleted = remove(collection, arguments[k]);\n      allDeleted = allDeleted && wasDeleted;\n    } return !!allDeleted;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.weak-map.from.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.weak-map.from.js ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar from = __webpack_require__(/*! ../internals/collection-from */ "./node_modules/core-js/internals/collection-from.js");\n\n// `WeakMap.from` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\n$({ target: \'WeakMap\', stat: true, forced: true }, {\n  from: from\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.weak-map.of.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.weak-map.of.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar of = __webpack_require__(/*! ../internals/collection-of */ "./node_modules/core-js/internals/collection-of.js");\n\n// `WeakMap.of` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\n$({ target: \'WeakMap\', stat: true, forced: true }, {\n  of: of\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.weak-set.add-all.js":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.weak-set.add-all.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aWeakSet = __webpack_require__(/*! ../internals/a-weak-set */ "./node_modules/core-js/internals/a-weak-set.js");\nvar add = (__webpack_require__(/*! ../internals/weak-set-helpers */ "./node_modules/core-js/internals/weak-set-helpers.js").add);\n\n// `WeakSet.prototype.addAll` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'WeakSet\', proto: true, real: true, forced: true }, {\n  addAll: function addAll(/* ...elements */) {\n    var set = aWeakSet(this);\n    for (var k = 0, len = arguments.length; k < len; k++) {\n      add(set, arguments[k]);\n    } return set;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.weak-set.delete-all.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.weak-set.delete-all.js ***!\n  \\********************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar aWeakSet = __webpack_require__(/*! ../internals/a-weak-set */ "./node_modules/core-js/internals/a-weak-set.js");\nvar remove = (__webpack_require__(/*! ../internals/weak-set-helpers */ "./node_modules/core-js/internals/weak-set-helpers.js").remove);\n\n// `WeakSet.prototype.deleteAll` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: \'WeakSet\', proto: true, real: true, forced: true }, {\n  deleteAll: function deleteAll(/* ...elements */) {\n    var collection = aWeakSet(this);\n    var allDeleted = true;\n    var wasDeleted;\n    for (var k = 0, len = arguments.length; k < len; k++) {\n      wasDeleted = remove(collection, arguments[k]);\n      allDeleted = allDeleted && wasDeleted;\n    } return !!allDeleted;\n  }\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.weak-set.from.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.weak-set.from.js ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar from = __webpack_require__(/*! ../internals/collection-from */ "./node_modules/core-js/internals/collection-from.js");\n\n// `WeakSet.from` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from\n$({ target: \'WeakSet\', stat: true, forced: true }, {\n  from: from\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/esnext.weak-set.of.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/core-js/modules/esnext.weak-set.of.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar of = __webpack_require__(/*! ../internals/collection-of */ "./node_modules/core-js/internals/collection-of.js");\n\n// `WeakSet.of` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of\n$({ target: \'WeakSet\', stat: true, forced: true }, {\n  of: of\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/web.clear-immediate.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/core-js/modules/web.clear-immediate.js ***!\n  \\*************************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar clearImmediate = (__webpack_require__(/*! ../internals/task */ "./node_modules/core-js/internals/task.js").clear);\n\n// `clearImmediate` method\n// http://w3c.github.io/setImmediate/#si-clearImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.clearImmediate !== clearImmediate }, {\n  clearImmediate: clearImmediate\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/web.immediate.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/core-js/modules/web.immediate.js ***!\n  \\*******************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n// TODO: Remove this module from `core-js@4` since it\'s split to modules listed below\n__webpack_require__(/*! ../modules/web.clear-immediate */ "./node_modules/core-js/modules/web.clear-immediate.js");\n__webpack_require__(/*! ../modules/web.set-immediate */ "./node_modules/core-js/modules/web.set-immediate.js");\n\n\n/***/ }),\n\n/***/ "./node_modules/core-js/modules/web.set-immediate.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/core-js/modules/web.set-immediate.js ***!\n  \\***********************************************************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar setTask = (__webpack_require__(/*! ../internals/task */ "./node_modules/core-js/internals/task.js").set);\nvar schedulersFix = __webpack_require__(/*! ../internals/schedulers-fix */ "./node_modules/core-js/internals/schedulers-fix.js");\n\n// https://github.com/oven-sh/bun/issues/1633\nvar setImmediate = global.setImmediate ? schedulersFix(setTask, false) : setTask;\n\n// `setImmediate` method\n// http://w3c.github.io/setImmediate/#si-setImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.setImmediate !== setImmediate }, {\n  setImmediate: setImmediate\n});\n\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/backoff.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/backoff.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n"use strict";\n\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar options_1 = __webpack_require__(/*! ./options */ "./node_modules/exponential-backoff/dist/options.js");\nvar delay_factory_1 = __webpack_require__(/*! ./delay/delay.factory */ "./node_modules/exponential-backoff/dist/delay/delay.factory.js");\nfunction backOff(request, options) {\n    if (options === void 0) { options = {}; }\n    return __awaiter(this, void 0, void 0, function () {\n        var sanitizedOptions, backOff;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    sanitizedOptions = options_1.getSanitizedOptions(options);\n                    backOff = new BackOff(request, sanitizedOptions);\n                    return [4 /*yield*/, backOff.execute()];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    });\n}\nexports.backOff = backOff;\nvar BackOff = /** @class */ (function () {\n    function BackOff(request, options) {\n        this.request = request;\n        this.options = options;\n        this.attemptNumber = 0;\n    }\n    BackOff.prototype.execute = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_1, shouldRetry;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.attemptLimitReached) return [3 /*break*/, 7];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 6]);\n                        return [4 /*yield*/, this.applyDelay()];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, this.request()];\n                    case 3: return [2 /*return*/, _a.sent()];\n                    case 4:\n                        e_1 = _a.sent();\n                        this.attemptNumber++;\n                        return [4 /*yield*/, this.options.retry(e_1, this.attemptNumber)];\n                    case 5:\n                        shouldRetry = _a.sent();\n                        if (!shouldRetry || this.attemptLimitReached) {\n                            throw e_1;\n                        }\n                        return [3 /*break*/, 6];\n                    case 6: return [3 /*break*/, 0];\n                    case 7: throw new Error("Something went wrong.");\n                }\n            });\n        });\n    };\n    Object.defineProperty(BackOff.prototype, "attemptLimitReached", {\n        get: function () {\n            return this.attemptNumber >= this.options.numOfAttempts;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BackOff.prototype.applyDelay = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var delay;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        delay = delay_factory_1.DelayFactory(this.options, this.attemptNumber);\n                        return [4 /*yield*/, delay.apply()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return BackOff;\n}());\n//# sourceMappingURL=backoff.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/delay/always/always.delay.js":\n/*!****************************************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/delay/always/always.delay.js ***!\n  \\****************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n"use strict";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar delay_base_1 = __webpack_require__(/*! ../delay.base */ "./node_modules/exponential-backoff/dist/delay/delay.base.js");\nvar AlwaysDelay = /** @class */ (function (_super) {\n    __extends(AlwaysDelay, _super);\n    function AlwaysDelay() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AlwaysDelay;\n}(delay_base_1.Delay));\nexports.AlwaysDelay = AlwaysDelay;\n//# sourceMappingURL=always.delay.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/delay/delay.base.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/delay/delay.base.js ***!\n  \\*******************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar jitter_factory_1 = __webpack_require__(/*! ../jitter/jitter.factory */ "./node_modules/exponential-backoff/dist/jitter/jitter.factory.js");\nvar Delay = /** @class */ (function () {\n    function Delay(options) {\n        this.options = options;\n        this.attempt = 0;\n    }\n    Delay.prototype.apply = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return setTimeout(resolve, _this.jitteredDelay); });\n    };\n    Delay.prototype.setAttemptNumber = function (attempt) {\n        this.attempt = attempt;\n    };\n    Object.defineProperty(Delay.prototype, "jitteredDelay", {\n        get: function () {\n            var jitter = jitter_factory_1.JitterFactory(this.options);\n            return jitter(this.delay);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Delay.prototype, "delay", {\n        get: function () {\n            var constant = this.options.startingDelay;\n            var base = this.options.timeMultiple;\n            var power = this.numOfDelayedAttempts;\n            var delay = constant * Math.pow(base, power);\n            return Math.min(delay, this.options.maxDelay);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Delay.prototype, "numOfDelayedAttempts", {\n        get: function () {\n            return this.attempt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Delay;\n}());\nexports.Delay = Delay;\n//# sourceMappingURL=delay.base.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/delay/delay.factory.js":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/delay/delay.factory.js ***!\n  \\**********************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar skip_first_delay_1 = __webpack_require__(/*! ./skip-first/skip-first.delay */ "./node_modules/exponential-backoff/dist/delay/skip-first/skip-first.delay.js");\nvar always_delay_1 = __webpack_require__(/*! ./always/always.delay */ "./node_modules/exponential-backoff/dist/delay/always/always.delay.js");\nfunction DelayFactory(options, attempt) {\n    var delay = initDelayClass(options);\n    delay.setAttemptNumber(attempt);\n    return delay;\n}\nexports.DelayFactory = DelayFactory;\nfunction initDelayClass(options) {\n    if (!options.delayFirstAttempt) {\n        return new skip_first_delay_1.SkipFirstDelay(options);\n    }\n    return new always_delay_1.AlwaysDelay(options);\n}\n//# sourceMappingURL=delay.factory.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/delay/skip-first/skip-first.delay.js":\n/*!************************************************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/delay/skip-first/skip-first.delay.js ***!\n  \\************************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n"use strict";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar delay_base_1 = __webpack_require__(/*! ../delay.base */ "./node_modules/exponential-backoff/dist/delay/delay.base.js");\nvar SkipFirstDelay = /** @class */ (function (_super) {\n    __extends(SkipFirstDelay, _super);\n    function SkipFirstDelay() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SkipFirstDelay.prototype.apply = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.isFirstAttempt ? true : _super.prototype.apply.call(this)];\n            });\n        });\n    };\n    Object.defineProperty(SkipFirstDelay.prototype, "isFirstAttempt", {\n        get: function () {\n            return this.attempt === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SkipFirstDelay.prototype, "numOfDelayedAttempts", {\n        get: function () {\n            return this.attempt - 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SkipFirstDelay;\n}(delay_base_1.Delay));\nexports.SkipFirstDelay = SkipFirstDelay;\n//# sourceMappingURL=skip-first.delay.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/jitter/full/full.jitter.js":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/jitter/full/full.jitter.js ***!\n  \\**************************************************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n"use strict";\n\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nfunction fullJitter(delay) {\n    var jitteredDelay = Math.random() * delay;\n    return Math.round(jitteredDelay);\n}\nexports.fullJitter = fullJitter;\n//# sourceMappingURL=full.jitter.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/jitter/jitter.factory.js":\n/*!************************************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/jitter/jitter.factory.js ***!\n  \\************************************************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar full_jitter_1 = __webpack_require__(/*! ./full/full.jitter */ "./node_modules/exponential-backoff/dist/jitter/full/full.jitter.js");\nvar no_jitter_1 = __webpack_require__(/*! ./no/no.jitter */ "./node_modules/exponential-backoff/dist/jitter/no/no.jitter.js");\nfunction JitterFactory(options) {\n    switch (options.jitter) {\n        case "full":\n            return full_jitter_1.fullJitter;\n        case "none":\n        default:\n            return no_jitter_1.noJitter;\n    }\n}\nexports.JitterFactory = JitterFactory;\n//# sourceMappingURL=jitter.factory.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/jitter/no/no.jitter.js":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/jitter/no/no.jitter.js ***!\n  \\**********************************************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n"use strict";\n\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nfunction noJitter(delay) {\n    return delay;\n}\nexports.noJitter = noJitter;\n//# sourceMappingURL=no.jitter.js.map\n\n/***/ }),\n\n/***/ "./node_modules/exponential-backoff/dist/options.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/exponential-backoff/dist/options.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n"use strict";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar defaultOptions = {\n    delayFirstAttempt: false,\n    jitter: "none",\n    maxDelay: Infinity,\n    numOfAttempts: 10,\n    retry: function () { return true; },\n    startingDelay: 100,\n    timeMultiple: 2\n};\nfunction getSanitizedOptions(options) {\n    var sanitized = __assign(__assign({}, defaultOptions), options);\n    if (sanitized.numOfAttempts < 1) {\n        sanitized.numOfAttempts = 1;\n    }\n    return sanitized;\n}\nexports.getSanitizedOptions = getSanitizedOptions;\n//# sourceMappingURL=options.js.map\n\n/***/ }),\n\n/***/ "./node_modules/fflate/esm/browser.js":\n/*!********************************************!*\\\n  !*** ./node_modules/fflate/esm/browser.js ***!\n  \\********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncCompress: () => (/* binding */ AsyncGzip),\n/* harmony export */   AsyncDecompress: () => (/* binding */ AsyncDecompress),\n/* harmony export */   AsyncDeflate: () => (/* binding */ AsyncDeflate),\n/* harmony export */   AsyncGunzip: () => (/* binding */ AsyncGunzip),\n/* harmony export */   AsyncGzip: () => (/* binding */ AsyncGzip),\n/* harmony export */   AsyncInflate: () => (/* binding */ AsyncInflate),\n/* harmony export */   AsyncUnzipInflate: () => (/* binding */ AsyncUnzipInflate),\n/* harmony export */   AsyncUnzlib: () => (/* binding */ AsyncUnzlib),\n/* harmony export */   AsyncZipDeflate: () => (/* binding */ AsyncZipDeflate),\n/* harmony export */   AsyncZlib: () => (/* binding */ AsyncZlib),\n/* harmony export */   Compress: () => (/* binding */ Gzip),\n/* harmony export */   DecodeUTF8: () => (/* binding */ DecodeUTF8),\n/* harmony export */   Decompress: () => (/* binding */ Decompress),\n/* harmony export */   Deflate: () => (/* binding */ Deflate),\n/* harmony export */   EncodeUTF8: () => (/* binding */ EncodeUTF8),\n/* harmony export */   FlateErrorCode: () => (/* binding */ FlateErrorCode),\n/* harmony export */   Gunzip: () => (/* binding */ Gunzip),\n/* harmony export */   Gzip: () => (/* binding */ Gzip),\n/* harmony export */   Inflate: () => (/* binding */ Inflate),\n/* harmony export */   Unzip: () => (/* binding */ Unzip),\n/* harmony export */   UnzipInflate: () => (/* binding */ UnzipInflate),\n/* harmony export */   UnzipPassThrough: () => (/* binding */ UnzipPassThrough),\n/* harmony export */   Unzlib: () => (/* binding */ Unzlib),\n/* harmony export */   Zip: () => (/* binding */ Zip),\n/* harmony export */   ZipDeflate: () => (/* binding */ ZipDeflate),\n/* harmony export */   ZipPassThrough: () => (/* binding */ ZipPassThrough),\n/* harmony export */   Zlib: () => (/* binding */ Zlib),\n/* harmony export */   compress: () => (/* binding */ gzip),\n/* harmony export */   compressSync: () => (/* binding */ gzipSync),\n/* harmony export */   decompress: () => (/* binding */ decompress),\n/* harmony export */   decompressSync: () => (/* binding */ decompressSync),\n/* harmony export */   deflate: () => (/* binding */ deflate),\n/* harmony export */   deflateSync: () => (/* binding */ deflateSync),\n/* harmony export */   gunzip: () => (/* binding */ gunzip),\n/* harmony export */   gunzipSync: () => (/* binding */ gunzipSync),\n/* harmony export */   gzip: () => (/* binding */ gzip),\n/* harmony export */   gzipSync: () => (/* binding */ gzipSync),\n/* harmony export */   inflate: () => (/* binding */ inflate),\n/* harmony export */   inflateSync: () => (/* binding */ inflateSync),\n/* harmony export */   strFromU8: () => (/* binding */ strFromU8),\n/* harmony export */   strToU8: () => (/* binding */ strToU8),\n/* harmony export */   unzip: () => (/* binding */ unzip),\n/* harmony export */   unzipSync: () => (/* binding */ unzipSync),\n/* harmony export */   unzlib: () => (/* binding */ unzlib),\n/* harmony export */   unzlibSync: () => (/* binding */ unzlibSync),\n/* harmony export */   zip: () => (/* binding */ zip),\n/* harmony export */   zipSync: () => (/* binding */ zipSync),\n/* harmony export */   zlib: () => (/* binding */ zlib),\n/* harmony export */   zlibSync: () => (/* binding */ zlibSync)\n/* harmony export */ });\n// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + \';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})\'\n    ], { type: \'text/javascript\' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err[\'code\'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don\'t do this)\nvar u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new i32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return { b: b, r: r };\n};\nvar _a = freb(fleb, 2), fl = _a.b, revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n// create huffman tree from u8 "map": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 "map": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 "map": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 1; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 "map": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can\'t use .constructor in case user-supplied\n    var n = new u8(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n/**\n * Codes for errors generated within this library\n */\nvar FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    \'unexpected EOF\',\n    \'invalid block type\',\n    \'invalid length/literal\',\n    \'invalid distance\',\n    \'stream finished\',\n    \'no stream handler\',\n    ,\n    \'no callback\',\n    \'invalid UTF-8 data\',\n    \'extra field too long\',\n    \'date not in range 1980-2099\',\n    \'filename too long\',\n    \'stream finishing\',\n    \'invalid zip data\'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n    // source length       dict length\n    var sl = dat.length, dl = dict ? dict.length : 0;\n    if (!sl || st.f && !st.l)\n        return buf || new u8(0);\n    // have to estimate size\n    var noBuf = !buf || st.i != 2;\n    // no state\n    var noSt = st.i;\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                if (bt < dt) {\n                    var shift = dl - dt, dend = Math.min(dt, end);\n                    if (shift + bt < 0)\n                        err(3);\n                    for (; bt < dend; ++bt)\n                        buf[bt] = dict[shift + bt];\n                }\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n    d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return { t: et, l: 0 };\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return { t: v, l: 1 };\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return { t: new u8(tr), l: mbt };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return { c: cl.subarray(0, cli), n: s };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a.t, mlb = _a.l;\n    var _b = hTree(df, 15), ddt = _b.t, mdb = _b.l;\n    var _c = lc(dlt), lclt = _c.c, nlc = _c.n;\n    var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        ++lcfreq[lclt[i] & 31];\n    for (var i = 0; i < lcdt.length; ++i)\n        ++lcfreq[lcdt[i] & 31];\n    var _e = hTree(lcfreq, 7), lct = _e.t, mlcb = _e.l;\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n    if (bs >= 0 && flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        var sym = syms[i];\n        if (sym > 255) {\n            var len = (sym >> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n            var dst = sym & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[sym]), p += ll[sym];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n    var s = st.z || dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var lst = st.l;\n    var pos = (st.r || 0) & 7;\n    if (lvl) {\n        if (pos)\n            w[0] = st.r >> 3;\n        var opt = deo[lvl - 1];\n        var n = opt >> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = st.p || new u16(32768), head = st.h || new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new i32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n        var lc_1 = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n        for (; i + 2 < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed ("wait" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement "rolling" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach "nice" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = i - dif + j & 32767;\n                                    var pti = prev[ti];\n                                    var cd = ti - pti & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += imod - pimod & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one int32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        for (i = Math.max(i, wi); i < s; ++i) {\n            syms[li++] = dat[i];\n            ++lf[dat[i]];\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        if (!lst) {\n            st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n            // shft(pos) now 1 less if pos & 7 != 0\n            pos -= 7;\n            st.h = head, st.p = prev, st.i = i, st.w = wi;\n        }\n    }\n    else {\n        for (var i = st.w || 0; i < s + lst; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[(pos / 8) | 0] = lst;\n                e = s;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n        st.i = s;\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Adler32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    if (!st) {\n        st = { l: 1 };\n        if (opt.dictionary) {\n            var dict = opt.dictionary.subarray(-32768);\n            var newDat = new u8(dict.length + dat.length);\n            newDat.set(dict);\n            newDat.set(dat, dict.length);\n            dat = newDat;\n            st.w = dict.length;\n        }\n    }\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We\'re going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can\'t just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf(\'[\') + 1, st.lastIndexOf(\']\')).replace(/\\s+/g, \'\').split(\',\');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == \'function\') {\n            fnStr += \';\' + k + \'=\';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf(\'[native code]\') != -1) {\n                    var spInd = st_1.indexOf(\' \', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf(\'(\', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += \';\' + k + \'.prototype.\' + t + \'=\' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    if (!ch[id]) {\n        var fnStr = \'\', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            fnStr = wcln(fns[i], fnStr, td_1);\n        ch[id] = { c: wcln(fns[m], fnStr, td_1), e: td_1 };\n    }\n    var td = mrg({}, ch[id].e);\n    return wk(ch[id].c + \';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=\' + init.toString() + \'}\', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt]; };\nvar bDflt = function () { return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zls]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get opts\nvar gopt = function (o) { return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n}; };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, ext) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else if (!Array.isArray(dat))\n            ext(dat);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, \'invalid gzip data\');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += (d[10] | d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + (o.filename ? o.filename.length + 1 : 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (o.dictionary && 32);\n    c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n    if (o.dictionary) {\n        var h = adler();\n        h.p(o.dictionary);\n        wbytes(c, 2, h.d());\n    }\n};\n// zlib start\nvar zls = function (d, dict) {\n    if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, \'invalid zlib data\');\n    if ((d[1] >> 5 & 1) == +!dict)\n        err(6, \'invalid zlib data: \' + (d[1] & 32 ? \'need\' : \'unexpected\') + \' dictionary\');\n    return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n    if (typeof opts == \'function\')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (typeof opts == \'function\')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n        this.s = { l: 0, i: 32768, w: 32768, z: 32768 };\n        // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n        // 98304 = 32768 (lookback) + 65536 (common chunk size)\n        this.b = new u8(98304);\n        if (this.o.dictionary) {\n            var dict = this.o.dictionary.subarray(-32768);\n            this.b.set(dict, 32768 - dict.length);\n            this.s.i = 32768 - dict.length;\n        }\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        var endLen = chunk.length + this.s.z;\n        if (endLen > this.b.length) {\n            if (endLen > 2 * this.b.length - 32768) {\n                var newBuf = new u8(endLen & -32768);\n                newBuf.set(this.b.subarray(0, this.s.z));\n                this.b = newBuf;\n            }\n            var split = this.b.length - this.s.z;\n            if (split) {\n                this.b.set(chunk.subarray(0, split), this.s.z);\n                this.s.z = this.b.length;\n                this.p(this.b, false);\n            }\n            this.b.set(this.b.subarray(-32768));\n            this.b.set(chunk.subarray(split), 32768);\n            this.s.z = chunk.length - split + 32768;\n            this.s.i = 32766, this.s.w = 32768;\n        }\n        else {\n            this.b.set(chunk, this.s.z);\n            this.s.z += chunk.length;\n        }\n        this.s.l = final & 1;\n        if (this.s.z > this.s.w + 8191 || final) {\n            this.p(this.b, final || false);\n            this.s.w = this.s.i, this.s.i -= 2;\n        }\n    };\n    return Deflate;\n}());\n\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\n\nfunction deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nfunction deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    function Inflate(opts, cb) {\n        // no StrmOpt here to avoid adding to workerizer\n        if (typeof opts == \'function\')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n        this.s = { i: 0, b: dict ? dict.length : 0 };\n        this.o = new u8(32768);\n        this.p = new u8(0);\n        if (dict)\n            this.o.set(dict);\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        if (!this.p.length)\n            this.p = c;\n        else if (c.length) {\n            var n = new u8(this.p.length + c.length);\n            n.set(this.p), n.set(c, this.p.length), this.p = n;\n        }\n    };\n    Inflate.prototype.c = function (final) {\n        this.s.i = +(this.d = final || false);\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.s, this.o);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\n\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    function AsyncInflate(opts, cb) {\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Inflate(ev.data);\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\n\nfunction inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gopt(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction inflateSync(data, opts) {\n    return inflt(data, { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        this.l += chunk.length;\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\n\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\n\nfunction gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nfunction gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    function Gunzip(opts, cb) {\n        this.v = 1;\n        this.r = 0;\n        Inflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        this.r += chunk.length;\n        if (this.v) {\n            var p = this.p.subarray(this.v - 1);\n            var s = p.length > 3 ? gzs(p) : 4;\n            if (s > p.length) {\n                if (!final)\n                    return;\n            }\n            else if (this.v > 1 && this.onmember) {\n                this.onmember(this.r - p.length);\n            }\n            this.p = p.subarray(s), this.v = 0;\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n        // process concatenated GZIP\n        if (this.s.f && !this.s.l) {\n            this.v = shft(this.s.p) + 9;\n            this.s = { i: 0 };\n            this.o = new u8(0);\n            if (this.p.length)\n                this.push(new u8(0), final);\n        }\n    };\n    return Gunzip;\n}());\n\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    function AsyncGunzip(opts, cb) {\n        var _this_1 = this;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gunzip(ev.data);\n            strm.onmember = function (offset) { return postMessage(offset); };\n            onmessage = astrm(strm);\n        }, 9, function (offset) { return _this_1.onmember && _this_1.onmember(offset); });\n    }\n    return AsyncGunzip;\n}());\n\nfunction gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0], ev.data[1])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction gunzipSync(data, opts) {\n    var st = gzs(data);\n    if (st + 8 > data.length)\n        err(6, \'invalid gzip data\');\n    return inflt(data.subarray(st, -8), { i: 2 }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\n\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\n\nfunction zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nfunction zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    function Unzlib(opts, cb) {\n        Inflate.call(this, opts, cb);\n        this.v = opts && opts.dictionary ? 2 : 1;\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 6 && !final)\n                return;\n            this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, \'invalid zlib data\');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\n\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    function AsyncUnzlib(opts, cb) {\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Unzlib(ev.data);\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\n\nfunction unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gopt(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction unzlibSync(data, opts) {\n    return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\n\n\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    function Decompress(opts, cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.o = StrmOpt.call(this, opts, cb) || {};\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_2 = this;\n                // enables reuse of this method by AsyncDecompress\n                var cb = function () { _this_2.ondata.apply(_this_2, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(this.o, cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(this.o, cb)\n                        : new this.Z(this.o, cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\n\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    function AsyncDecompress(opts, cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        Decompress.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\n\nfunction decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction decompressSync(data, opts) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, opts)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, opts)\n            : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += \'/\'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != \'undefined\' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != \'undefined\' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = \'\', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return { s: r, r: slc(d, i - 1) };\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (final) {\n            if (r.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = r;\n        this.ondata(s, final);\n    };\n    return DecodeUTF8;\n}());\n\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\n\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nfunction strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nfunction strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = \'\';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td) {\n        return td.decode(dat);\n    }\n    else {\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (r.length)\n            err(8);\n        return s;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what\'s that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\n\n// I don\'t extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\n\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this_1.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\n\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this_1 = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this_1.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this_1.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this_1.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this_1.ondata(err, dat, final);\n                    _this_1.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this_1 = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this_1.d & 1))\n                        return;\n                    _this_1.u.splice(-1, 1);\n                    _this_1.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\n\nfunction zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    var r = {};\n    fltn(data, \'\', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nfunction zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, \'\', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\n\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this_1 = this;\n        this.i = new Inflate(function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\n\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this_1 = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this_1.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this_1.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\n\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this_1 = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this_1.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, \'unknown compression type \' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this_1.k[0] == chks_3 && _this_1.c)\n                                        _this_1.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return "break";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return "break";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return "break";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === "break")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\n\nvar mt = typeof queueMicrotask == \'function\' ? queueMicrotask : typeof setTimeout == \'function\' ? setTimeout : function (fn) { fn(); };\nfunction unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != \'function\')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    if (sc < 320000) {\n                        try {\n                            cbl(null, inflateSync(infl, { out: new u8(su) }));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, \'unknown compression type \' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nfunction unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), { out: new u8(su) });\n            else\n                err(14, \'unknown compression type \' + c_2);\n        }\n    }\n    return files;\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/isomorphic-ws/browser.js":\n/*!***********************************************!*\\\n  !*** ./node_modules/isomorphic-ws/browser.js ***!\n  \\***********************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== \'undefined\') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== \'undefined\') {\n  ws = MozWebSocket\n} else if (typeof __webpack_require__.g !== \'undefined\') {\n  ws = __webpack_require__.g.WebSocket || __webpack_require__.g.MozWebSocket\n} else if (typeof window !== \'undefined\') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== \'undefined\') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nmodule.exports = ws\n\n\n/***/ }),\n\n/***/ "./node_modules/pend/index.js":\n/*!************************************!*\\\n  !*** ./node_modules/pend/index.js ***!\n  \\************************************/\n/***/ ((module) => {\n\nmodule.exports = Pend;\n\nfunction Pend() {\n  this.pending = 0;\n  this.max = Infinity;\n  this.listeners = [];\n  this.waiting = [];\n  this.error = null;\n}\n\nPend.prototype.go = function(fn) {\n  if (this.pending < this.max) {\n    pendGo(this, fn);\n  } else {\n    this.waiting.push(fn);\n  }\n};\n\nPend.prototype.wait = function(cb) {\n  if (this.pending === 0) {\n    cb(this.error);\n  } else {\n    this.listeners.push(cb);\n  }\n};\n\nPend.prototype.hold = function() {\n  return pendHold(this);\n};\n\nfunction pendHold(self) {\n  self.pending += 1;\n  var called = false;\n  return onCb;\n  function onCb(err) {\n    if (called) throw new Error("callback called twice");\n    called = true;\n    self.error = self.error || err;\n    self.pending -= 1;\n    if (self.waiting.length > 0 && self.pending < self.max) {\n      pendGo(self, self.waiting.shift());\n    } else if (self.pending === 0) {\n      var listeners = self.listeners;\n      self.listeners = [];\n      listeners.forEach(cbListener);\n    }\n  }\n  function cbListener(listener) {\n    listener(self.error);\n  }\n}\n\nfunction pendGo(self, fn) {\n  fn(pendHold(self));\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/querystring/decode.js":\n/*!********************************************!*\\\n  !*** ./node_modules/querystring/decode.js ***!\n  \\********************************************/\n/***/ ((module) => {\n\n"use strict";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// "Software"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || \'&\';\n  eq = eq || \'=\';\n  var obj = {};\n\n  if (typeof qs !== \'string\' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === \'number\') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, \'%20\'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = \'\';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/querystring/encode.js":\n/*!********************************************!*\\\n  !*** ./node_modules/querystring/encode.js ***!\n  \\********************************************/\n/***/ ((module) => {\n\n"use strict";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// "Software"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case \'string\':\n      return v;\n\n    case \'boolean\':\n      return v ? \'true\' : \'false\';\n\n    case \'number\':\n      return isFinite(v) ? v : \'\';\n\n    default:\n      return \'\';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || \'&\';\n  eq = eq || \'=\';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === \'object\') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return \'\';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/querystring/index.js":\n/*!*******************************************!*\\\n  !*** ./node_modules/querystring/index.js ***!\n  \\*******************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n\n\nexports.decode = exports.parse = __webpack_require__(/*! ./decode */ "./node_modules/querystring/decode.js");\nexports.encode = exports.stringify = __webpack_require__(/*! ./encode */ "./node_modules/querystring/encode.js");\n\n\n/***/ }),\n\n/***/ "./src/file-loaders/workers/OtgDecodeWorker.ts":\n/*!*****************************************************!*\\\n  !*** ./src/file-loaders/workers/OtgDecodeWorker.ts ***!\n  \\*****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _lmvtk_otg_OtgGeomCodec__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lmvtk/otg/OtgGeomCodec */ "./src/file-loaders/lmvtk/otg/OtgGeomCodec.js");\n/* harmony import */ var fflate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fflate */ "./node_modules/fflate/esm/browser.js");\n\n\nfunction isGzip(data) {\n    return data[0] === 31 && data[1] === 139;\n}\nfunction doInstallInputPort(loadContext) {\n    loadContext.port.onmessage = (event) => {\n        switch (event.data.operation) {\n            case \'DECODE_GEOMETRIES\':\n                doDecodeGeometries(loadContext, event.data.hashes, event.data.arrays, event.data.fromCache);\n                break;\n            case \'DECODE_MATERIALS\':\n                doDecodeMaterials(loadContext.worker, event.data.hashes, event.data.arrays);\n                break;\n        }\n    };\n}\nfunction doDecodeGeometries(loadContext, hashes, arrays, fromCaches) {\n    let mdatas = new Array();\n    for (let i = 0; i < hashes.length; i++) {\n        const hash = hashes[i];\n        let geom = arrays[i];\n        const fromCache = fromCaches[i];\n        // If the HTTP fallback was used, the browser already did the decompression\n        // Also, we did encounter uncompressed blobs in production.\n        if (isGzip(geom)) {\n            geom = (0,fflate__WEBPACK_IMPORTED_MODULE_1__.gunzipSync)(geom);\n        }\n        else if (geom.byteLength !== geom.buffer.byteLength) {\n            // create a copy so the main thread has individual buffers that can be thrown away individually\n            geom = geom.slice();\n        }\n        let mdata = _lmvtk_otg_OtgGeomCodec__WEBPACK_IMPORTED_MODULE_0__.readLmvBufferGeom(geom);\n        if (!mdata) {\n            loadContext.raiseError(null, \'Failed to parse geometry\', { hash: hash, resourceType: \'g\' });\n            continue;\n        }\n        mdata.fromCache = fromCache;\n        mdata.hash = hash;\n        mdatas.push(mdata);\n    }\n    let transferList = new Array();\n    for (const mdata of mdatas) {\n        let mesh = mdata.mesh;\n        if (mesh) {\n            let b = mesh.vb.buffer;\n            transferList.push(b);\n            if (mesh.indices && mesh.indices.buffer !== b) {\n                transferList.push(mesh.indices.buffer);\n            }\n            if (mesh.iblines && mesh.iblines.buffer !== b) {\n                transferList.push(mesh.iblines.buffer);\n            }\n        }\n    }\n    loadContext.worker.postMessage(mdatas, transferList);\n}\nfunction doDecodeMaterials(worker, hashes, arrays) {\n    let out = new Array;\n    for (let i = 0; i < hashes.length; i++) {\n        let data = arrays[i];\n        if (isGzip(data)) {\n            data = (0,fflate__WEBPACK_IMPORTED_MODULE_1__.gunzipSync)(data);\n        }\n        else if (data.byteLength !== data.buffer.byteLength) {\n            // create a copy so the main thread has individual buffers that can be thrown away individually\n            data = data.slice();\n        }\n        out.push(data);\n    }\n    worker.postMessage({ materials: out, hashes: hashes }, out.map((e) => e.buffer));\n}\nfunction register(workerMain) {\n    workerMain.register(\'INSTALL_INPUT_PORT\', { doOperation: doInstallInputPort });\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/url/node_modules/punycode/punycode.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/url/node_modules/punycode/punycode.js ***!\n  \\************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports =  true && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule =  true && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof __webpack_require__.g == \'object\' && __webpack_require__.g;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = \'-\', // \'\\x2D\'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t\'overflow\': \'Overflow: input needs wider integers to process\',\n\t\t\'not-basic\': \'Illegal input >= 0x80 (not a basic code point)\',\n\t\t\'invalid-input\': \'Invalid input\'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split(\'@\');\n\t\tvar result = \'\';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + \'@\';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, \'\\x2E\');\n\t\tvar labels = string.split(\'.\');\n\t\tvar encoded = map(labels, fn).join(\'.\');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = \'\';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join(\'\');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don\'t use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it\'s not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror(\'not-basic\');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror(\'invalid-input\');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror(\'overflow\');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror(\'overflow\');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we\'ll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror(\'overflow\');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder\'s <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror(\'overflow\');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror(\'overflow\');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join(\'\');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn\'t matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn\'t matter if you call it with a domain that\'s already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? \'xn--\' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t\'version\': \'1.3.2\',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript\'s internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t\'ucs2\': {\n\t\t\t\'decode\': ucs2decode,\n\t\t\t\'encode\': ucs2encode\n\t\t},\n\t\t\'decode\': decode,\n\t\t\'encode\': encode,\n\t\t\'toASCII\': toASCII,\n\t\t\'toUnicode\': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttrue\n\t) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\t\treturn punycode;\n\t\t}).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n\n}(this));\n\n\n/***/ }),\n\n/***/ "./node_modules/url/url.js":\n/*!*********************************!*\\\n  !*** ./node_modules/url/url.js ***!\n  \\*********************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// "Software"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar punycode = __webpack_require__(/*! punycode */ "./node_modules/url/node_modules/punycode/punycode.js");\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [\'<\', \'>\', \'"\', \'`\', \' \', \'\\r\', \'\\n\', \'\\t\'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [\'{\', \'}\', \'|\', \'\\\\\', \'^\', \'`\'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [\'\\\'\'].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [\'%\', \'/\', \'?\', \';\', \'#\'].concat(autoEscape),\n    hostEndingChars = [\'/\', \'?\', \'#\'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow "unsafe" and "unwise" chars.\n    unsafeProtocol = {\n      \'javascript\': true,\n      \'javascript:\': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      \'javascript\': true,\n      \'javascript:\': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      \'http\': true,\n      \'https\': true,\n      \'ftp\': true,\n      \'gopher\': true,\n      \'file\': true,\n      \'http:\': true,\n      \'https:\': true,\n      \'ftp:\': true,\n      \'gopher:\': true,\n      \'file:\': true\n    },\n    querystring = __webpack_require__(/*! querystring */ "./node_modules/querystring/index.js");\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!isString(url)) {\n    throw new TypeError("Parameter \'url\' must be a string, not " + typeof url);\n  }\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like "  http://foo.com  \\n"\n  rest = rest.trim();\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it\'s got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that\'s\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === \'//\';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there\'s a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf(\'@\');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf(\'@\', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we\'ve indicated that there is a hostname,\n    // so even if it\'s empty, it has to be present.\n    this.hostname = this.hostname || \'\';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it\'s an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === \'[\' &&\n        this.hostname[this.hostname.length - 1] === \']\';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = \'\';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += \'x\';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = \'/\' + notHost.join(\'.\') + rest;\n            }\n            this.hostname = validParts.join(\'.\');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = \'\';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a puny coded representation of "domain".\n      // It only converts the part of the domain name that\n      // has non ASCII characters. I.e. it dosent matter if\n      // you call it with a domain that already is in ASCII.\n      var domainArray = this.hostname.split(\'.\');\n      var newOut = [];\n      for (var i = 0; i < domainArray.length; ++i) {\n        var s = domainArray[i];\n        newOut.push(s.match(/[^A-Za-z0-9_-]/) ?\n            \'xn--\' + punycode.encode(s) : s);\n      }\n      this.hostname = newOut.join(\'.\');\n    }\n\n    var p = this.port ? \':\' + this.port : \'\';\n    var h = this.hostname || \'\';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== \'/\') {\n        rest = \'/\' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any "autoEscape" chars get\n    // escaped, even if encodeURIComponent doesn\'t think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf(\'#\');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf(\'?\');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = \'\';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = \'/\';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || \'\';\n    var s = this.search || \'\';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it\'s an object, and not a string url.\n  // If it\'s an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || \'\';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, \':\');\n    auth += \'@\';\n  }\n\n  var protocol = this.protocol || \'\',\n      pathname = this.pathname || \'\',\n      hash = this.hash || \'\',\n      host = false,\n      query = \'\';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(\':\') === -1 ?\n        this.hostname :\n        \'[\' + this.hostname + \']\');\n    if (this.port) {\n      host += \':\' + this.port;\n    }\n  }\n\n  if (this.query &&\n      isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && (\'?\' + query)) || \'\';\n\n  if (protocol && protocol.substr(-1) !== \':\') protocol += \':\';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = \'//\' + (host || \'\');\n    if (pathname && pathname.charAt(0) !== \'/\') pathname = \'/\' + pathname;\n  } else if (!host) {\n    host = \'\';\n  }\n\n  if (hash && hash.charAt(0) !== \'#\') hash = \'#\' + hash;\n  if (search && search.charAt(0) !== \'?\') search = \'?\' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace(\'#\', \'%23\');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  Object.keys(this).forEach(function(k) {\n    result[k] = this[k];\n  }, this);\n\n  // hash is always overridden, no matter what.\n  // even href="" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there\'s nothing left to do here.\n  if (relative.href === \'\') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    Object.keys(relative).forEach(function(k) {\n      if (k !== \'protocol\')\n        result[k] = relative[k];\n    });\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = \'/\';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it\'s a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it\'s not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that\'s known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      Object.keys(relative).forEach(function(k) {\n        result[k] = relative[k];\n      });\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || \'\').split(\'/\');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = \'\';\n      if (!relative.hostname) relative.hostname = \'\';\n      if (relPath[0] !== \'\') relPath.unshift(\'\');\n      if (relPath.length < 2) relPath.unshift(\'\');\n      result.pathname = relPath.join(\'/\');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || \'\';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || \'\';\n      var s = result.search || \'\';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === \'/\'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === \'/\'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split(\'/\') || [],\n      relPath = relative.pathname && relative.pathname.split(\'/\') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = \'\';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === \'\') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = \'\';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === \'\') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === \'\' || srcPath[0] === \'\');\n  }\n\n  if (isRelAbs) {\n    // it\'s absolute.\n    result.host = (relative.host || relative.host === \'\') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === \'\') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it\'s relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href=\'?foo\'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especialy happens in cases like\n      //url.resolveObject(\'mailto:local1@domain1\', \'local2@domain2\')\n      var authInHost = result.host && result.host.indexOf(\'@\') > 0 ?\n                       result.host.split(\'@\') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!isNull(result.pathname) || !isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : \'\') +\n                    (result.search ? result.search : \'\');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we\'ve already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = \'/\' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host) && (last === \'.\' || last === \'..\') ||\n      last === \'\');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last == \'.\') {\n      srcPath.splice(i, 1);\n    } else if (last === \'..\') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift(\'..\');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== \'\' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== \'/\')) {\n    srcPath.unshift(\'\');\n  }\n\n  if (hasTrailingSlash && (srcPath.join(\'/\').substr(-1) !== \'/\')) {\n    srcPath.push(\'\');\n  }\n\n  var isAbsolute = srcPath[0] === \'\' ||\n      (srcPath[0] && srcPath[0].charAt(0) === \'/\');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? \'\' :\n                                    srcPath.length ? srcPath.shift() : \'\';\n    //occationaly the auth can get stuck only in host\n    //this especialy happens in cases like\n    //url.resolveObject(\'mailto:local1@domain1\', \'local2@domain2\')\n    var authInHost = result.host && result.host.indexOf(\'@\') > 0 ?\n                     result.host.split(\'@\') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift(\'\');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join(\'/\');\n  }\n\n  //to support request.http\n  if (!isNull(result.pathname) || !isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : \'\') +\n                  (result.search ? result.search : \'\');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== \':\') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\nfunction isString(arg) {\n  return typeof arg === "string";\n}\n\nfunction isObject(arg) {\n  return typeof arg === \'object\' && arg !== null;\n}\n\nfunction isNull(arg) {\n  return arg === null;\n}\nfunction isNullOrUndefined(arg) {\n  return  arg == null;\n}\n\n\n/***/ }),\n\n/***/ "?99b8":\n/*!********************!*\\\n  !*** fs (ignored) ***!\n  \\********************/\n/***/ (() => {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ "?aca8":\n/*!**********************!*\\\n  !*** http (ignored) ***!\n  \\**********************/\n/***/ (() => {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ "?8571":\n/*!***********************!*\\\n  !*** https (ignored) ***!\n  \\***********************/\n/***/ (() => {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ "?d497":\n/*!**********************!*\\\n  !*** zlib (ignored) ***!\n  \\**********************/\n/***/ (() => {\n\n/* (ignored) */\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => (module[\'default\']) :\n/******/ \t\t\t\t() => (module);\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/global */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === \'object\') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function(\'return this\')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === \'object\') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/node module decorator */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.nmd = (module) => {\n/******/ \t\t\tmodule.paths = [];\n/******/ \t\t\tif (!module.children) module.children = [];\n/******/ \t\t\treturn module;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n"use strict";\n/*!****************************************************!*\\\n  !*** ./src/file-loaders/workers/MainWorker-web.js ***!\n  \\****************************************************/\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _MainWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainWorker */ "./src/file-loaders/workers/MainWorker.js");\n\n\n//Web worker dispatcher function -- received a message\n//from the main thread and calls the appropriate handler\nself.addEventListener(\'message\', function (e) {\n\n  var loadContext = e.data;\n  loadContext.worker = self;\n\n  _MainWorker__WEBPACK_IMPORTED_MODULE_0__.workerMain.dispatch(loadContext);\n\n}, false);\n\n\nself.raiseError = function (code, msg, args) {\n  self.postMessage({ "error": { "code": code, "msg": msg, "args": args } });\n};\n\n// Shared by all workers to output debug message on console of main thread.\nfunction debug(msg) {\n  self.postMessage({ debug: 1, message: msg });\n}\n\nself.debug = debug;\n})();\n\nLMV = __webpack_exports__;\n/******/ })()\n;\n//# sourceMappingURL=lmvworker.js.map'},7408:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(6541),s=Array.prototype.find;function a(){return this.firstElementChild}function o(e){return this.select(null==e?a:function(e){return function(){return s.call(this.children,e)}}("function"==typeof e?e:(0,r.j)(e)))}},7479:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(6957),s=t(8981),a=t(7737),o=t(1197);function i(e,n){var t;return("number"==typeof n?s.A:n instanceof r.Ay?o.Ay:(t=(0,r.Ay)(n))?(n=t,o.Ay):a.A)(e,n)}},7499:(e,n,t)=>{function r(){this.textContent=""}function s(e){return function(){this.textContent=e}}function a(e){return function(){var n=e.apply(this,arguments);this.textContent=null==n?"":n}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:s)(e)):this.node().textContent}t.d(n,{A:()=>o})},7610:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(1882);function s(e){for(var n=e.selection?e.selection():e,t=this._groups,s=n._groups,a=t.length,o=s.length,i=Math.min(a,o),l=new Array(a),d=0;d<i;++d)for(var c,u=t[d],_=s[d],p=u.length,f=l[d]=new Array(p),h=0;h<p;++h)(c=u[h]||_[h])&&(f[h]=c);for(;d<a;++d)l[d]=t[d];return new r.LN(l,this._parents)}},7674:(e,n,t)=>{t.d(n,{O:()=>s.A,z:()=>r});var r=t(9754),s=t(6667)},7737:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(8981),s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(s.source,"g");function o(e,n){var t,o,i,l=s.lastIndex=a.lastIndex=0,d=-1,c=[],u=[];for(e+="",n+="";(t=s.exec(e))&&(o=a.exec(n));)(i=o.index)>l&&(i=n.slice(l,i),c[d]?c[d]+=i:c[++d]=i),(t=t[0])===(o=o[0])?c[d]?c[d]+=o:c[++d]=o:(c[++d]=null,u.push({i:d,x:(0,r.A)(t,o)})),l=a.lastIndex;return l<n.length&&(i=n.slice(l),c[d]?c[d]+=i:c[++d]=i),c.length<2?u[0]?function(e){return function(n){return e(n)+""}}(u[0].x):function(e){return function(){return e}}(n):(n=u.length,function(e){for(var t,r=0;r<n;++r)c[(t=u[r]).i]=t.x(e);return c.join("")})}},7867:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(6541),s=Array.prototype.filter;function a(){return Array.from(this.children)}function o(e){return this.selectAll(null==e?a:function(e){return function(){return s.call(this.children,e)}}("function"==typeof e?e:(0,r.j)(e)))}},7875:(e,n,t)=>{t.d(n,{Lt:()=>r.A});var r=t(183)},7890:(e,n,t)=>{function r(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function(e){var n,t;function r(){var r=e.apply(this,arguments);return r!==t&&(n=(t=r)&&function(e){return function(n){this.textContent=e.call(this,n)}}(r)),n}return r._value=e,r}(e))}t.d(n,{A:()=>r})},7947:(e,n,t)=>{t.d(n,{A:()=>s,g:()=>r});var r="http://www.w3.org/1999/xhtml";const s={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},7949:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(1957),s=t(7268),a=t(123),o=t(7479);function i(e){return function(){this.removeAttribute(e)}}function l(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d(e,n,t){var r,s,a=t+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=n(r=o,t)}}function c(e,n,t){var r,s,a=t+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=n(r=o,t)}}function u(e,n,t){var r,s,a;return function(){var o,i,l=t(this);if(null!=l)return(o=this.getAttribute(e))===(i=l+"")?null:o===r&&i===s?a:(s=i,a=n(r=o,l));this.removeAttribute(e)}}function _(e,n,t){var r,s,a;return function(){var o,i,l=t(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(i=l+"")?null:o===r&&i===s?a:(s=i,a=n(r=o,l));this.removeAttributeNS(e.space,e.local)}}function p(e,n){var t=(0,s.A)(e),p="transform"===t?r.I:o.A;return this.attrTween(e,"function"==typeof n?(t.local?_:u)(t,p,(0,a.J)(this,"attr."+e,n)):null==n?(t.local?l:i)(t):(t.local?c:d)(t,p,n))}},7952:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(1882),s=t(574);function a(e){"function"!=typeof e&&(e=(0,s.A)(e));for(var n=this._groups,t=n.length,a=new Array(t),o=0;o<t;++o)for(var i,l,d=n[o],c=d.length,u=a[o]=new Array(c),_=0;_<c;++_)(i=d[_])&&(l=e.call(i,i.__data__,_,d))&&("__data__"in i&&(l.__data__=i.__data__),u[_]=l);return new r.LN(a,this._parents)}},8072:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(3663);function s(e){var n="function"==typeof e?e:(0,r.A)(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}},8235:(e,n,t)=>{function r(e){return e.trim().split(/^|\s+/)}function s(e){return e.classList||new a(e)}function a(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function o(e,n){for(var t=s(e),r=-1,a=n.length;++r<a;)t.add(n[r])}function i(e,n){for(var t=s(e),r=-1,a=n.length;++r<a;)t.remove(n[r])}function l(e){return function(){o(this,e)}}function d(e){return function(){i(this,e)}}function c(e,n){return function(){(n.apply(this,arguments)?o:i)(this,e)}}function u(e,n){var t=r(e+"");if(arguments.length<2){for(var a=s(this.node()),o=-1,i=t.length;++o<i;)if(!a.contains(t[o]))return!1;return!0}return this.each(("function"==typeof n?c:n?l:d)(t,n))}t.d(n,{A:()=>u}),a.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},8639:(e,n,t)=>{function r(e,n){return{objectName:e,propertyName:n.name,selector:n.selector,altConstantValueSelector:n.altConstantSelector,instanceKind:n.instanceKind}}function s(e,n,t){return null==n||"object"==typeof n&&!n.solid?t:n.solid?{value:null==n?void 0:n.solid.color}:(null==e?void 0:e.items)?e.items.find(e=>e.value==n):n}t.d(n,{D:()=>s,y:()=>r})},8664:(e,n,t)=>{t.d(n,{A:()=>d});var r=t(1882),s=t(4916),a=t(9731);function o(e,n,t,r,a,o){for(var i,l=0,d=n.length,c=o.length;l<c;++l)(i=n[l])?(i.__data__=o[l],r[l]=i):t[l]=new s.L(e,o[l]);for(;l<d;++l)(i=n[l])&&(a[l]=i)}function i(e,n,t,r,a,o,i){var l,d,c,u=new Map,_=n.length,p=o.length,f=new Array(_);for(l=0;l<_;++l)(d=n[l])&&(f[l]=c=i.call(d,d.__data__,l,n)+"",u.has(c)?a[l]=d:u.set(c,d));for(l=0;l<p;++l)c=i.call(e,o[l],l,o)+"",(d=u.get(c))?(r[l]=d,d.__data__=o[l],u.delete(c)):t[l]=new s.L(e,o[l]);for(l=0;l<_;++l)(d=n[l])&&u.get(f[l])===d&&(a[l]=d)}function l(e){return e.__data__}function d(e,n){if(!arguments.length)return Array.from(this,l);var t=n?i:o,s=this._parents,d=this._groups;"function"!=typeof e&&(e=(0,a.A)(e));for(var u=d.length,_=new Array(u),p=new Array(u),f=new Array(u),h=0;h<u;++h){var m=s[h],b=d[h],g=b.length,v=c(e.call(m,m&&m.__data__,h,s)),y=v.length,w=p[h]=new Array(y),x=_[h]=new Array(y);t(m,b,w,x,f[h]=new Array(g),v,n);for(var k,j,E=0,I=0;E<y;++E)if(k=w[E]){for(E>=I&&(I=E+1);!(j=x[I])&&++I<y;);k._next=j||null}}return(_=new r.LN(_,s))._enter=p,_._exit=f,_}function c(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}},8674:(e,n,t)=>{function r(e,n,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(e,n,t){var r,s;function a(){var a=n.apply(this,arguments);return a!==s&&(r=(s=a)&&function(e,n,t){return function(r){this.style.setProperty(e,n.call(this,r),t)}}(e,a,t)),r}return a._value=n,a}(e,n,null==t?"":t))}t.d(n,{A:()=>r})},8965:(e,n,t)=>{t(9902);const{abs:r,max:s,min:a}=Math;function o(e){return{type:e}}["w","e"].map(o),["n","s"].map(o),["n","w","e","s","nw","ne","sw","se"].map(o)},8981:(e,n,t)=>{function r(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}t.d(n,{A:()=>r})},9063:(e,n,t)=>{function r(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function s(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function a(e){return this.select(e?s:r)}t.d(n,{A:()=>a})},9064:(e,n,t)=>{t.d(n,{Si:()=>I,eB:()=>E});var r=t(1882),s=t(7949),a=t(3446),o=t(1375),i=t(6558),l=t(4228),d=t(6066),c=t(4876),u=t(5636),_=t(5207),p=t(5182),f=t(3206),h=t(1683),m=t(7270),b=t(9353),g=t(8674),v=t(137),y=t(7890),w=t(5509),x=t(123),k=t(3589),j=0;function E(e,n,t,r){this._groups=e,this._parents=n,this._name=t,this._id=r}function I(){return++j}var O=r.Ay.prototype;E.prototype=function(e){return(0,r.Ay)().transition(e)}.prototype={constructor:E,select:f.A,selectAll:h.A,selectChild:O.selectChild,selectChildren:O.selectChildren,filter:c.A,merge:u.A,selection:m.A,transition:w.A,call:O.call,nodes:O.nodes,node:O.node,size:O.size,empty:O.empty,each:O.each,on:_.A,attr:s.A,attrTween:a.A,style:b.A,styleTween:g.A,text:v.A,textTween:y.A,remove:p.A,tween:x.A,delay:o.A,duration:i.A,ease:l.A,easeVarying:d.A,end:k.A,[Symbol.iterator]:O[Symbol.iterator]}},9215:(e,n,t)=>{function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s(){return this.each(r)}t.d(n,{A:()=>s})},9353:(e,n,t)=>{t.d(n,{A:()=>d});var r=t(1957),s=t(3683),a=t(3363),o=t(123),i=t(7479);function l(e){return function(){this.style.removeProperty(e)}}function d(e,n,t){var d="transform"==(e+="")?r.T:i.A;return null==n?this.styleTween(e,function(e,n){var t,r,a;return function(){var o=(0,s.j)(this,e),i=(this.style.removeProperty(e),(0,s.j)(this,e));return o===i?null:o===t&&i===r?a:a=n(t=o,r=i)}}(e,d)).on("end.style."+e,l(e)):"function"==typeof n?this.styleTween(e,function(e,n,t){var r,a,o;return function(){var i=(0,s.j)(this,e),l=t(this),d=l+"";return null==l&&(this.style.removeProperty(e),d=l=(0,s.j)(this,e)),i===d?null:i===r&&d===a?o:(a=d,o=n(r=i,l))}}(e,d,(0,o.J)(this,"style."+e,n))).each(function(e,n){var t,r,s,o,i="style."+n,d="end."+i;return function(){var c=(0,a.hZ)(this,e),u=c.on,_=null==c.value[i]?o||(o=l(n)):void 0;u===t&&s===_||(r=(t=u).copy()).on(d,s=_),c.on=r}}(this._id,e)):this.styleTween(e,function(e,n,t){var r,a,o=t+"";return function(){var i=(0,s.j)(this,e);return i===o?null:i===r?a:a=n(r=i,t)}}(e,d,n),t).on("end.style."+e,null)}},9433:(e,n,t)=>{function r(e){return arguments.length?this.property("__data__",e):this.node().__data__}t.d(n,{A:()=>r})},9713:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(1882),s=t(5478),a=t(747);function o(e){e="function"==typeof e?function(e){return function(){return(0,s.A)(e.apply(this,arguments))}}(e):(0,a.A)(e);for(var n=this._groups,t=n.length,o=[],i=[],l=0;l<t;++l)for(var d,c=n[l],u=c.length,_=0;_<u;++_)(d=c[_])&&(o.push(e.call(d,d.__data__,_,c)),i.push(d));return new r.LN(o,i)}},9731:(e,n,t)=>{function r(e){return function(){return e}}t.d(n,{A:()=>r})},9734:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(1882),s=t(6541);function a(e){"function"!=typeof e&&(e=(0,s.A)(e));for(var n=this._groups,t=n.length,a=new Array(t),o=0;o<t;++o)for(var i,l=n[o],d=l.length,c=a[o]=[],u=0;u<d;++u)(i=l[u])&&e.call(i,i.__data__,u,l)&&c.push(i);return new r.LN(a,this._parents)}},9754:(e,n,t)=>{t.d(n,{Kx:()=>o,St:()=>i,Tn:()=>l,jF:()=>c,sk:()=>u});var r=t(8639);class s{}class a extends s{}class o{}class i extends s{}class l extends a{}class d extends s{constructor(e){super(),Object.assign(this,e)}getFormattingSlice(e,n){const t=this.type,r=this.name,s={displayName:n&&this.displayNameKey?n.getDisplayName(this.displayNameKey):this.displayName,description:n&&this.descriptionKey?n.getDisplayName(this.descriptionKey):this.description,uid:e+"-"+r};return Object.assign(Object.assign({},s),{control:{type:t,properties:this.getFormattingComponent(e,n)}})}getFormattingComponent(e,n){return{descriptor:r.y(e,this),value:this.value}}getRevertToDefaultDescriptor(e){return[{objectName:e,propertyName:this.name}]}setPropertiesValues(e,n){var t;let s=null===(t=null==e?void 0:e[n])||void 0===t?void 0:t[this.name];this.value=r.D(this,s,this.value)}}class c extends d{constructor(e){super(e),this.type="ToggleSwitch"}}class u extends d{constructor(e){super(e),this.type="ColorPicker"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}},9804:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(6160);function s(e){var n=e.length;return function(t){var s=Math.floor(((t%=1)<0?++t:t)*n),a=e[(s+n-1)%n],o=e[s%n],i=e[(s+1)%n],l=e[(s+2)%n];return(0,r.H)((t-s/n)*n,a,o,i,l)}}},9901:(e,n,t)=>{function r(){return function(e,n,t){return{value:function(){try{return t.value.apply(this,arguments)}catch(e){throw console.error(e),e}}}}}t.d(n,{T:()=>r})},9902:(e,n,t)=>{t(7111)}},n={};function t(r){var s=n[r];if(void 0!==s)return s.exports;var a=n[r]={exports:{}};return e[r](a,a.exports,t),a.exports}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{t.r(r),t.d(r,{default:()=>a});var e=t(1848),n=window.powerbi,s={name:"AutodeskDataConnectorforPowerBI71085f8edd3a426aabae3dc6cdb2f164",displayName:"Autodesk Data Connector for Power BI",class:"Visual",apiVersion:"5.11.0",create:n=>{if(e.b)return new e.b(n);throw"Visual instance not found"},createModalDialog:(e,n,t)=>{const r=globalThis.dialogRegistry;e in r&&new r[e](n,t)},custom:!0};void 0!==n&&(n.visuals=n.visuals||{},n.visuals.plugins=n.visuals.plugins||{},n.visuals.plugins.AutodeskDataConnectorforPowerBI71085f8edd3a426aabae3dc6cdb2f164=s);const a=s})(),AutodeskDataConnectorforPowerBI71085f8edd3a426aabae3dc6cdb2f164=r})();