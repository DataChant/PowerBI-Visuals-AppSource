var orgChartA14B4AE4AC5F4BBF9EB7A7C7D1HOANG;(()=>{"use strict";var t={29:(t,e,n)=>{n.d(e,{M4:()=>g,O1:()=>m,tB:()=>p});var i,r,o=0,a=0,s=0,l=0,h=0,c=0,u="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return h||(d(f),h=u.now()+c)}function f(){h=0}function g(){this._call=this._time=this._next=null}function m(t,e,n){var i=new g;return i.restart(t,e,n),i}function v(){h=(l=u.now())+c,o=a=0;try{!function(){p(),++o;for(var t,e=i;e;)(t=h-e._time)>=0&&e._call.call(void 0,t),e=e._next;--o}()}finally{o=0,function(){for(var t,e,n=i,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,w(o)}(),h=0}}function y(){var t=u.now(),e=t-l;e>1e3&&(c-=e,l=t)}function w(t){o||(a&&(a=clearTimeout(a)),t-h>24?(t<1/0&&(a=setTimeout(v,t-u.now()-c)),s&&(s=clearInterval(s))):(s||(l=u.now(),s=setInterval(y,1e3)),o=1,d(v)))}g.prototype=m.prototype={constructor:g,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}}},123:(t,e,n)=>{n.d(e,{A:()=>a,J:()=>s});var i=n(3363);function r(t,e){var n,r;return function(){var o=(0,i.hZ)(this,t),a=o.tween;if(a!==n)for(var s=0,l=(r=n=a).length;s<l;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}o.tween=r}}function o(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var a=(0,i.hZ)(this,t),s=a.tween;if(s!==r){o=(r=s).slice();for(var l={name:e,value:n},h=0,c=o.length;h<c;++h)if(o[h].name===e){o[h]=l;break}h===c&&o.push(l)}a.tween=o}}function a(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a,s=(0,i.Jt)(this.node(),n).tween,l=0,h=s.length;l<h;++l)if((a=s[l]).name===t)return a.value;return null}return this.each((null==e?r:o)(n,t,e))}function s(t,e,n){var r=t._id;return t.each(function(){var t=(0,i.hZ)(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return(0,i.Jt)(t,r).value[e]}}},137:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(123);function r(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}((0,i.J)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},165:(t,e,n)=>{function i(){let t=0;for(const e of this)++t;return t}n.d(e,{A:()=>i})},183:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(1882);function r(t){return"string"==typeof t?new i.LN([[document.querySelector(t)]],[document.documentElement]):new i.LN([[t]],i.zr)}},202:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(6747);function r(t,e,n){var r=(0,i.A)(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function o(t,e){return function(){return r(this,t,e)}}function a(t,e){return function(){return r(this,t,e.apply(this,arguments))}}function s(t,e){return this.each(("function"==typeof e?a:o)(t,e))}},440:(t,e,n)=>{n.d(e,{A:()=>i});const i=t=>()=>t},461:(t,e,n)=>{function i(t){return function(){delete this[t]}}function r(t,e){return function(){this[t]=e}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function a(t,e){return arguments.length>1?this.each((null==e?i:"function"==typeof e?o:r)(t,e)):this.node()[t]}n.d(e,{A:()=>a})},477:(t,e,n)=>{n.d(e,{C:()=>o});var i=n(4984),r=n(1191);function o(t,e,n=r.G){return new a({tooltipService:t,handleTouchDelay:n})}class a{constructor(t){this.visualHostTooltipService=t.tooltipService,this.handleTouchDelay=t.handleTouchDelay}addTooltip(t,e,n,r){if(!t||!this.visualHostTooltipService.enabled())return;const o=(0,i.A)(t.nodes()),a=(t,e,n,i)=>{const r=[e.clientX,e.clientY];t.call(this.visualHostTooltipService,{coordinates:r,isTouchEvent:"touch"===e.pointerType,dataItems:n,identities:i})};o.on("pointerover",(t,i)=>{const r=e(i);if(null==r)return;const o=n?[n(i)]:[];"mouse"===t.pointerType&&a(this.visualHostTooltipService.show,t,r,o),"touch"===t.pointerType&&(this.handleTouchTimeoutId=window.setTimeout(()=>{a(this.visualHostTooltipService.show,t,r,o),this.handleTouchTimeoutId=void 0},this.handleTouchDelay))}),o.on("pointerout",t=>{"mouse"===t.pointerType&&this.visualHostTooltipService.hide({isTouchEvent:!1,immediately:!1}),"touch"===t.pointerType&&this.cancelTouchTimeoutEvents()}),o.on("pointermove",(t,i)=>{if("mouse"===t.pointerType){let o;if(r&&(o=e(i),null==o))return;const s=n?[n(i)]:[];a(this.visualHostTooltipService.move,t,o,s)}})}cancelTouchTimeoutEvents(){this.handleTouchTimeoutId&&clearTimeout(this.handleTouchTimeoutId)}hide(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})}}},563:(t,e,n)=>{function i(t){t.stopImmediatePropagation()}function r(t){t.preventDefault(),t.stopImmediatePropagation()}n.d(e,{A:()=>r,G:()=>i})},574:(t,e,n)=>{function i(){}function r(t){return null==t?i:function(){return this.querySelector(t)}}n.d(e,{A:()=>r})},697:(t,e,n)=>{function i(){this.innerHTML=""}function r(t){return function(){this.innerHTML=t}}function o(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function a(t){return arguments.length?this.each(null==t?i:("function"==typeof t?o:r)(t)):this.node().innerHTML}n.d(e,{A:()=>a})},747:(t,e,n)=>{function i(){return[]}function r(t){return null==t?i:function(){return this.querySelectorAll(t)}}n.d(e,{A:()=>r})},756:(t,e,n)=>{n.d(e,{B22:()=>i.B2,GSI:()=>o.GS,Ltv:()=>r.Lt,Sk5:()=>i.Sk,s_O:()=>o.s_}),n(3537);var i=n(7750),r=n(7875),o=(n(9902),n(6470))},807:(t,e,n)=>{function i(){return!this.node()}n.d(e,{A:()=>i})},827:(t,e,n)=>{function i(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i}n.d(e,{A:()=>i})},871:(t,e,n)=>{function i(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function r(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}n.d(e,{A:()=>i,X:()=>r})},1089:(t,e,n)=>{n.d(e,{A:()=>l});var i={value:()=>{}};function r(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new o(i)}function o(t){this._=t}function a(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function s(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=r.prototype={constructor:o,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),l=-1,h=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++l<h;)if(n=(t=o[l]).type)r[n]=s(r[n],t.name,e);else if(null==e)for(n in r)r[n]=s(r[n],t.name,null);return this}for(;++l<h;)if((n=(t=o[l]).type)&&(n=a(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};const l=r},1191:(t,e,n)=>{n.d(e,{G:()=>i});const i=500},1197:(t,e,n)=>{n.d(e,{Ay:()=>s});var i=n(6957),r=n(6160),o=n(9804),a=n(4709);const s=function t(e){var n=(0,a.uN)(e);function r(t,e){var r=n((t=(0,i.Qh)(t)).r,(e=(0,i.Qh)(e)).r),o=n(t.g,e.g),s=n(t.b,e.b),l=(0,a.Ay)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=s(e),t.opacity=l(e),t+""}}return r.gamma=t,r}(1);function l(t){return function(e){var n,r,o=e.length,a=new Array(o),s=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=(0,i.Qh)(e[n]),a[n]=r.r||0,s[n]=r.g||0,l[n]=r.b||0;return a=t(a),s=t(s),l=t(l),r.opacity=1,function(t){return r.r=a(t),r.g=s(t),r.b=l(t),r+""}}}l(r.A),l(o.A)},1226:(t,e,n)=>{n.d(e,{P:()=>o,i:()=>a});var i,r=n(1852);function o(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?r.D:(0,r.A)(e.a,e.b,e.c,e.d,e.e,e.f)}function a(t){return null==t?r.D:(i||(i=document.createElementNS("http://www.w3.org/2000/svg","g")),i.setAttribute("transform",t),(t=i.transform.baseVal.consolidate())?(t=t.matrix,(0,r.A)(t.a,t.b,t.c,t.d,t.e,t.f)):r.D)}},1322:(t,e,n)=>{function*i(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}n.d(e,{A:()=>i})},1375:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(3363);function r(t,e){return function(){(0,i.Ts)(this,t).delay=+e.apply(this,arguments)}}function o(t,e){return e=+e,function(){(0,i.Ts)(this,t).delay=e}}function a(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?r:o)(e,t)):(0,i.Jt)(this.node(),e).delay}},1429:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(3663),r=n(574);function o(){return null}function a(t,e){var n="function"==typeof t?t:(0,i.A)(t),a=null==e?o:"function"==typeof e?e:(0,r.A)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},1463:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(29);function r(t,e,n){var r=new i.M4;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}},1683:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(747),r=n(9064),o=n(3363);function a(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,i.A)(t));for(var a=this._groups,s=a.length,l=[],h=[],c=0;c<s;++c)for(var u,d=a[c],p=d.length,f=0;f<p;++f)if(u=d[f]){for(var g,m=t.call(u,u.__data__,f,d),v=(0,o.Jt)(u,n),y=0,w=m.length;y<w;++y)(g=m[y])&&(0,o.Ay)(g,e,n,y,m,v);l.push(m),h.push(u)}return new r.eB(l,h,e,n)}},1774:(t,e,n)=>{function*i(){var t,e,n,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n])}while(o.length)}n.d(e,{A:()=>i})},1848:(t,e,n)=>{n.d(e,{b:()=>s});var i=n(756),r=n(7674),o=n(3473),a=n(477);class s{host;selectionManager;tooltipServiceWrapper;hasTooltipFields=!1;formattingSettingsService;formattingSettings;root;toolbar;toolbarRail;toolbarToggle;controlsVisible=!0;searchToggle;searchContainer;searchInput;searchResults;searchVisible=!1;searchSuggestions=[];selectedSuggestionIndex=-1;canvas;svgElement;svg;zoomRoot;contentRoot;linksGroup;nodesGroup;zoomBehavior;viewport={width:0,height:0};orientation="vertical";allowZoom=!0;showToolbar=!0;fullTree=null;nodesById=new Map;collapsedNodes=new Set;nodePositions=new Map;layoutBounds=null;currentTransform=i.GSI;selectedKeys=new Set;identityToNodeId=new Map;nameToNodeId=new Map;emptyState;footer;landingWarnings=[];didInitialAutoCollapse=!1;didInitialFit=!1;constructor(t){this.host=t.host,this.selectionManager=this.host.createSelectionManager(),this.formattingSettingsService=new r.O,this.tooltipServiceWrapper=(0,a.C)(this.host.tooltipService,t.element),this.root=document.createElement("div"),this.root.className="orgchart-visual",this.root.dataset.toolbarVisible="1",this.toolbar=document.createElement("div"),this.toolbar.className="orgchart__toolbar",this.root.appendChild(this.toolbar),this.toolbarRail=document.createElement("div"),this.toolbarRail.className="orgchart__toolbar-rail",Object.assign(this.toolbarRail.style,{width:"30px",padding:"2px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(15,23,42,0.10)",backdropFilter:"blur(4px)",lineHeight:"0"}),this.toolbar.appendChild(this.toolbarRail),this.searchContainer=document.createElement("div"),this.searchContainer.className="orgchart__search-container",Object.assign(this.searchContainer.style,{position:"absolute",top:"30px",left:"35px",display:"none",flexDirection:"column",alignItems:"flex-start",zIndex:"1000",background:"white",borderRadius:"8px",boxShadow:"0 4px 12px rgba(15,23,42,0.15)",padding:"6px",marginTop:"2px",width:"220px"}),this.toolbar.appendChild(this.searchContainer),this.searchInput=document.createElement("input"),this.searchInput.type="text",this.searchInput.className="orgchart__search-input",this.searchInput.placeholder="Search by name or ID...",Object.assign(this.searchInput.style,{width:"100%",padding:"6px 8px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",zIndex:"1001",pointerEvents:"auto",cursor:"text",boxSizing:"border-box",outline:"none"}),this.searchInput.addEventListener("focus",()=>{this.searchInput.style.border="1.5px solid #2563eb"}),this.searchInput.addEventListener("blur",()=>{this.searchInput.style.border="1px solid #cbd5e1"}),this.searchInput.addEventListener("mousedown",t=>t.stopPropagation()),this.searchInput.addEventListener("click",()=>this.searchInput.focus()),this.searchContainer.appendChild(this.searchInput),this.searchResults=document.createElement("div"),this.searchResults.className="orgchart__search-results",Object.assign(this.searchResults.style,{width:"100%",maxHeight:"200px",overflowY:"auto",marginTop:"4px",display:"none",zIndex:"1001",pointerEvents:"auto",cursor:"default"}),this.searchContainer.appendChild(this.searchResults),this.canvas=document.createElement("div"),this.canvas.className="orgchart__canvas",this.root.appendChild(this.canvas),this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svgElement.classList.add("orgchart__svg"),this.canvas.appendChild(this.svgElement),this.svg=i.Ltv(this.svgElement),this.zoomBehavior=i.s_O().scaleExtent([.01,100]).on("zoom",t=>this.onZoom(t)).filter(t=>"wheel"===t.type||!t.ctrlKey&&!t.button),this.zoomRoot=this.svg.append("g").attr("class","orgchart__zoom-root"),this.contentRoot=this.zoomRoot.append("g").attr("class","orgchart__content"),this.linksGroup=this.contentRoot.append("g").attr("class","orgchart__links"),this.nodesGroup=this.contentRoot.append("g").attr("class","orgchart__nodes"),this.svg.on("click",t=>{t.target===this.svgElement&&(this.selectionManager.clear().catch(()=>{}),this.selectedKeys.clear(),this.updateSelectionVisuals())}),this.initBackgroundContextMenu(),this.emptyState=document.createElement("div"),this.emptyState.className="orgchart__empty",this.canvas.appendChild(this.emptyState),this.renderLandingPage(),this.buildToolbar(),this.updateToolbarRailState(),this.setupSearchHandlers(),t.element.appendChild(this.root)}setupSearchHandlers(){this.searchInput.addEventListener("input",()=>{this.updateSearchSuggestions()}),this.searchInput.addEventListener("keydown",t=>{switch(t.key){case"ArrowDown":this.navigateSuggestion(1),t.preventDefault();break;case"ArrowUp":this.navigateSuggestion(-1),t.preventDefault();break;case"Enter":this.selectCurrentSuggestion(),t.preventDefault();break;case"Escape":this.toggleSearch(!1),t.preventDefault()}}),document.addEventListener("click",t=>{!this.searchVisible||this.searchContainer.contains(t.target)||this.searchToggle.contains(t.target)||this.toggleSearch(!1)})}toggleSearch(t){this.searchVisible=void 0!==t?t:!this.searchVisible,this.searchVisible?(this.searchContainer.style.display="flex",this.searchInput.value="",this.searchInput.focus(),this.searchResults.style.display="none",this.searchSuggestions=[]):(this.searchContainer.style.display="none",this.searchResults.style.display="none"),this.searchToggle&&(this.searchToggle.setAttribute("aria-expanded",this.searchVisible?"true":"false"),this.searchToggle.classList.toggle("active",this.searchVisible))}updateSearchSuggestions(){const t=this.searchInput.value.trim().toLowerCase();if(!t)return this.searchResults.style.display="none",void(this.searchSuggestions=[]);this.searchSuggestions=[],this.nodesById.forEach(e=>{if(!e.payload)return;const n=e.payload,i=n.id.toLowerCase().includes(t),r=n.displayName.toLowerCase().includes(t);(i||r)&&this.searchSuggestions.push({id:n.identity.getKey(),text:`${n.displayName}${n.title?` - ${n.title}`:""}`,nodeId:n.id})}),this.searchSuggestions.sort((e,n)=>{const i=e.text.toLowerCase(),r=n.text.toLowerCase(),o=e.nodeId.toLowerCase(),a=n.nodeId.toLowerCase();return i===t?-1:r===t?1:o===t?-1:a===t?1:i.startsWith(t)?-1:r.startsWith(t)?1:o.startsWith(t)?-1:a.startsWith(t)?1:0}),this.searchSuggestions.length>10&&(this.searchSuggestions=this.searchSuggestions.slice(0,10)),this.renderSearchSuggestions()}renderSearchSuggestions(){for(;this.searchResults.firstChild;)this.searchResults.removeChild(this.searchResults.firstChild);0!==this.searchSuggestions.length?(this.searchSuggestions.forEach((t,e)=>{const n=document.createElement("div");n.className="orgchart__search-item",n.textContent=t.text,Object.assign(n.style,{padding:"6px 10px",cursor:"pointer",borderRadius:"4px",fontSize:"13px"}),n.addEventListener("mouseover",()=>{this.selectedSuggestionIndex=e,this.highlightSelectedSuggestion()}),n.addEventListener("click",()=>{this.selectedSuggestionIndex=e,this.selectCurrentSuggestion()}),this.searchResults.appendChild(n)}),this.searchResults.style.display="block",this.selectedSuggestionIndex=-1):this.searchResults.style.display="none"}navigateSuggestion(t){0!==this.searchSuggestions.length&&(this.selectedSuggestionIndex+=t,this.selectedSuggestionIndex<0?this.selectedSuggestionIndex=this.searchSuggestions.length-1:this.selectedSuggestionIndex>=this.searchSuggestions.length&&(this.selectedSuggestionIndex=0),this.highlightSelectedSuggestion())}highlightSelectedSuggestion(){this.searchResults.querySelectorAll(".orgchart__search-item").forEach((t,e)=>{e===this.selectedSuggestionIndex?t.style.backgroundColor="#e2e8f0":t.style.backgroundColor=""})}selectCurrentSuggestion(){if(this.selectedSuggestionIndex>=0&&this.selectedSuggestionIndex<this.searchSuggestions.length){const t=this.searchSuggestions[this.selectedSuggestionIndex];this.selectSearchResult(t)}else if(1===this.searchSuggestions.length)this.selectSearchResult(this.searchSuggestions[0]);else if(this.searchSuggestions.length>0){const t=this.searchInput.value.trim().toLowerCase(),e=this.searchSuggestions.find(e=>e.nodeId.toLowerCase()===t||e.text.toLowerCase()===t);e&&this.selectSearchResult(e)}}selectSearchResult(t){const e=t.nodeId,n=this.nodesById.get(e);n&&n.payload&&(this.ensureNodeVisible(e),this.render(),this.selectedKeys.clear(),this.selectedKeys.add(t.id),this.updateSelectionVisuals(),this.highlightPath(e),this.selectionManager.select(n.payload.identity,!1).catch(()=>{}),setTimeout(()=>{this.focusOnNode(e,.8)},100),this.toggleSearch(!1))}update(t){this.viewport=t.viewport;const e=t.dataViews&&t.dataViews[0];this.formattingSettings=this.formattingSettingsService.populateFormattingSettingsModel(o.S,t.dataViews||[]),this.applyFormatting();const n=this.transform(e);if(this.fullTree=n.tree,this.nodesById=n.nodesById,this.landingWarnings=n.warnings||[],!this.fullTree)return this.linksGroup.selectAll("path").remove(),this.nodesGroup.selectAll("g").remove(),this.renderLandingPage(this.landingWarnings),void(this.didInitialFit=!1);if(this.pruneCollapsedNodes(),this.fullTree&&(!this.didInitialAutoCollapse||0===this.collapsedNodes.size)){const t=this.getInitialExpandedLevels();t<=0?this.collapsedNodes.clear():this.collapsedNodes=this.computeDefaultCollapsedSet(t),this.didInitialAutoCollapse=!0}this.updateHighlights(e),this.render(),this.didInitialFit||(this.fitToViewport(0),this.didInitialFit=!0),this.fitToViewport(0)}getFormattingModel(){return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}buildToolbar(){if(this.toolbarRail){for(;this.toolbarRail.firstChild;)this.toolbarRail.removeChild(this.toolbarRail.firstChild);this.toolbarToggle=this.createToolbarRailButton("menu","Show/Hide controls",()=>{this.controlsVisible=!this.controlsVisible,!this.controlsVisible&&this.searchVisible&&this.toggleSearch(!1),this.updateToolbarRailState()},24,1),this.toolbarToggle.classList.add("orgchart__toolbar-btn--toggle"),this.toolbarRail.appendChild(this.toolbarToggle),this.searchToggle=this.createToolbarRailButton("search","Search",()=>{this.toggleSearch()},24,1),this.searchToggle.classList.add("orgchart__toolbar-btn--action"),this.toolbarRail.appendChild(this.searchToggle),[{title:"Toggle vertical / horizontal",icon:"layout",onClick:()=>this.toggleOrientation()},{title:"Expand all nodes",icon:"expand",onClick:()=>this.expandAll()},{title:"Collapse to root",icon:"collapse",onClick:()=>this.collapseAll()},{title:"Fit to view",icon:"fullscreen",onClick:()=>this.fitToViewport(100)}].forEach(t=>{const e=this.createToolbarRailButton(t.icon,t.title,t.onClick,24,1);e.classList.add("orgchart__toolbar-btn--action"),this.toolbarRail.appendChild(e)})}}updateToolbarRailState(){if(!this.toolbarRail)return;Array.from(this.toolbarRail.children).forEach(t=>{t!==this.toolbarToggle&&(t.style.display=this.controlsVisible?"inline-flex":"none")});const t=this.controlsVisible?"Hide controls":"Show controls";this.toolbarToggle.setAttribute("aria-expanded",this.controlsVisible?"true":"false"),this.toolbarToggle.setAttribute("aria-label",t),this.toolbarToggle.title=t,this.root&&(this.root.dataset.toolbarMenu=this.controlsVisible?"1":"0")}createToolbarRailButton(t,e,n,i=24,r=1){const o=document.createElement("button");o.type="button",o.className="orgchart__toolbar-btn",o.title=e,o.setAttribute("aria-label",e),Object.assign(o.style,{width:`${i}px`,height:`${i}px`,borderRadius:"8px",margin:`${r}px`,display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0"});const a=this.createToolbarIcon(t);a.classList.add("orgchart__toolbar-icon");const s=Math.max(14,i-6);return a.setAttribute("width",`${s}`),a.setAttribute("height",`${s}`),o.appendChild(a),o.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),n()}),o}createToolbarIcon(t){const e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("focusable","false"),n.setAttribute("aria-hidden","true");const i=t=>(t.setAttribute("stroke","currentColor"),t.setAttribute("stroke-width","1.4"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t),r=t=>(n.appendChild(t),t),o=(t,n,o,a)=>{const s=document.createElementNS(e,"line");return s.setAttribute("x1",t.toString()),s.setAttribute("y1",n.toString()),s.setAttribute("x2",o.toString()),s.setAttribute("y2",a.toString()),r(i(s))},a=(t,n,o)=>{const a=document.createElementNS(e,"circle");return a.setAttribute("cx",t.toString()),a.setAttribute("cy",n.toString()),a.setAttribute("r",o.toString()),a.setAttribute("fill","none"),r(i(a))},s=(t,n,o,a,s=2)=>{const l=document.createElementNS(e,"rect");return l.setAttribute("x",t.toString()),l.setAttribute("y",n.toString()),l.setAttribute("width",o.toString()),l.setAttribute("height",a.toString()),l.setAttribute("rx",s.toString()),l.setAttribute("fill","none"),r(i(l))},l=t=>{const n=document.createElementNS(e,"polyline");return n.setAttribute("points",t),n.setAttribute("fill","none"),r(i(n))};switch(t){case"menu":[7,12,17].forEach(t=>o(5,t,19,t));break;case"layout":s(4.5,4,7.5,16),s(13.5,8,7.5,12);break;case"expand":a(12,12,8),o(12,8.5,12,15.5),o(8.5,12,15.5,12);break;case"collapse":a(12,12,8),o(8.5,12,15.5,12);break;case"fullscreen":l("3,9 3,3 9,3"),l("21,9 21,3 15,3"),l("3,15 3,21 9,21"),l("21,15 21,21 15,21");break;case"reset":(()=>{const t=document.createElementNS(e,"path");t.setAttribute("d","M20 12a8 8 0 1 1-2.34-5.66"),t.setAttribute("fill","none"),r(i(t))})(),l("20,6 20,12 14,12");break;case"search":a(11,11,7),o(16,16,20,20)}return n}applyFormatting(){if(!this.formattingSettings)return;const t=this.formattingSettings.layout,e=this.formattingSettings.card,n=this.formattingSettings.labels,r=this.formattingSettings.links;this.allowZoom=t.enableZoom.value,this.showToolbar=t.showToolbar.value;const o=this.clampNumber(n.nameTextSize.value,8,32,16),a=this.clampNumber(n.titleTextSize.value,8,28,12),s=this.clampNumber(n.detailTextSize.value,6,24,11),l=this.clampNumber(r.linkWidth.value,.5,6,1.4),h=this.clampNumber(r.linkOpacity.value,.1,1,.9),c=this.clampNumber(e.borderWidth.value,0,8,1),u=this.clampNumber(e.borderRadius.value,0,50,18),d=e.cardAlignment.value?.value||"start";this.root.style.setProperty("--org-card-bg",e.backgroundColor.value.value||"#ffffff"),this.root.style.setProperty("--org-card-accent",e.accentColor.value.value||"#2563eb"),this.root.style.setProperty("--org-card-border",e.borderColor.value.value||"#cbd5f5"),this.root.style.setProperty("--org-card-text",e.textColor.value.value||"#0f172a"),this.root.style.setProperty("--org-link-color",r.linkColor.value.value||"#94a3b8"),this.root.style.setProperty("--org-link-width",`${l}`),this.root.style.setProperty("--org-link-opacity",`${h}`),this.root.style.setProperty("--org-name-size",`${o}px`),this.root.style.setProperty("--org-title-size",`${a}px`),this.root.style.setProperty("--org-detail-size",`${s}px`),this.root.style.setProperty("--org-border-width",`${c}px`),this.root.style.setProperty("--org-border-radius",`${u}px`),this.root.dataset.cardShadow=e.showShadow.value?"1":"0",this.root.dataset.showImages=e.showImage.value?"1":"0",this.root.dataset.cardAlign=d,this.root.style.setProperty("--org-show-images",e.showImage.value?"1":"0"),this.toolbar.style.display=this.showToolbar?"block":"none",this.root.dataset.toolbarVisible=this.showToolbar?"1":"0",this.allowZoom?this.svg.call(this.zoomBehavior):(this.svg.on(".zoom",null),this.zoomRoot.attr("transform","translate(0,0) scale(1)"),this.currentTransform=i.GSI)}transform(t){if(this.identityToNodeId.clear(),this.nameToNodeId.clear(),!t||!t.table)return{tree:null,nodesById:new Map,warnings:["No data"]};const e=t.table,n=e.columns||[],i=t=>{const e=n.findIndex(e=>e.roles&&e.roles[t]);return e>=0?e:void 0},r=i("employeeId"),o=i("managerId"),a=i("displayName"),s=i("title"),l=i("department"),h=i("imageUrl");if(void 0===r)return{tree:null,nodesById:new Map,warnings:["Employee Id field is required"]};if(void 0===o)return{tree:null,nodesById:new Map,warnings:["Manager Id field is required"]};const c=[],u=[],d=[];n.forEach((t,e)=>{t.roles&&(t.roles.details&&c.push(e),t.roles.metric&&u.push(e),t.roles.tooltips&&d.push(e))}),this.hasTooltipFields=d.length>0;const p=[],f=new Map;if(e.rows.forEach((t,i)=>{const f=t[r],g=this.toKey(f);if(!g)return;const m=void 0!==o?t[o]:void 0,v=this.toKey(m),y=void 0!==a?this.toText(t[a]):void 0,w=void 0!==s?this.toText(t[s]):void 0,_=void 0!==l?this.toText(t[l]):void 0,A=void 0!==h?this.toText(t[h]):void 0,b=[];c.forEach(e=>{const i=this.toText(t[e]);i&&b.push({label:n[e].displayName,value:i,role:"detail"})});const x=[];u.forEach(e=>{const i=this.formatMetric(t[e],n[e]);i&&x.push({label:n[e].displayName,value:i,role:"metric"})});const S=[];d.forEach(e=>{const i=n[e],r=t[e],o=this.formatMetric(r,i);null!=o&&S.push({displayName:i.displayName,value:o})});const N={id:g,identity:this.host.createSelectionIdBuilder().withTable(e,i).createSelectionId(),parentId:v,displayName:y||g,title:w,division:_,avatarUrl:A,details:b,metrics:x,tooltipItems:S};p.push(N),this.identityToNodeId.set(N.identity.getKey(),N.id),this.nameToNodeId.set(N.displayName.toLowerCase(),N.id)}),!p.length)return{tree:null,nodesById:new Map,warnings:["No valid rows"]};const g={id:"__virtual__",payload:null,children:[],totalChildCount:0},m=new Map;p.forEach(t=>{const e={id:t.id,payload:t,children:[],totalChildCount:0};m.set(t.id,e)}),m.forEach(t=>{const e=t.payload?.parentId;if(e&&e!==t.id){const n=m.get(e);if(n)return void n.children.push(t)}g.children.push(t)});const v=t=>{t.totalChildCount=t.children.length,t.children.forEach(v)};return v(g),f.clear(),m.forEach((t,e)=>f.set(e,t)),{tree:g,nodesById:f,warnings:[]}}pruneCollapsedNodes(){if(!this.fullTree)return void this.collapsedNodes.clear();const t=new Set;this.nodesById.forEach((e,n)=>t.add(n)),Array.from(this.collapsedNodes).forEach(e=>{t.has(e)||this.collapsedNodes.delete(e)})}computeDefaultCollapsedSet(t){const e=new Set;return this.fullTree?(i.Sk5(this.fullTree,t=>t.children).each(n=>{n.depth===t&&n.data.payload&&e.add(n.data.payload.id)}),e):e}render(){const t=this.formattingSettings?.layout,e=this.clampNumber(t?.nodeWidth.value,160,420,260),n=this.clampNumber(t?.nodeHeight.value,80,280,140),r=this.clampNumber(t?.horizontalSpacing.value,20,200,60),o=this.clampNumber(t?.verticalSpacing.value,20,220,80);this.svg.attr("width",this.viewport.width),this.svg.attr("height",this.viewport.height);const a=this.buildVisibleTree();if(!(a&&a.children.length>0))return this.renderLandingPage(this.landingWarnings),this.linksGroup.selectAll("path").remove(),void this.nodesGroup.selectAll("g").remove();this.emptyState&&(this.emptyState.style.display="none");const s=i.Sk5(a,t=>t.children),l=i.B22().nodeSize("vertical"===this.orientation?[e+r,n+o]:[n+o,e+r]).separation((t,e)=>t.parent===e.parent?1:1.3)(s),h=this.orientation,c=new Map,u=[];l.descendants().forEach(t=>{if(!t.data.payload)return;const i=t.data.payload,r="vertical"===h?t.x:t.y,o="vertical"===h?t.y:t.x,a=r-e/2,s=o-n/2,l={payload:i,hasChildren:t.data.totalChildCount>0,isCollapsed:this.collapsedNodes.has(i.id),x:a,y:s,centerX:r,centerY:o,width:e,height:n,node:t};c.set(i.id,l),u.push(l)});let d=1/0,p=-1/0,f=1/0,g=-1/0;u.forEach(t=>{d=Math.min(d,t.x),p=Math.max(p,t.x+t.width),f=Math.min(f,t.y),g=Math.max(g,t.y+t.height)});const m=60-d,v=60-f;this.contentRoot.attr("transform",`translate(${m},${v})`),this.layoutBounds={minX:d,maxX:p,minY:f,maxY:g,baseX:m,baseY:v,padding:60},this.nodePositions.clear(),u.forEach(t=>{this.nodePositions.set(t.payload.id,{x:t.x,y:t.y,centerX:t.centerX,centerY:t.centerY,absX:t.x+m,absY:t.y+v,absCenterX:t.centerX+m,absCenterY:t.centerY+v,width:t.width,height:t.height})});const y=[];l.links().forEach(t=>{const e=t.source.data.payload,n=t.target.data.payload;if(!e||!n)return;const i=c.get(e.id),r=c.get(n.id);i&&r&&y.push({source:i,target:r,key:`${i.payload.id}-${r.payload.id}`})});const w=this.linksGroup.selectAll("path.orgchart__link").data(y,t=>t.key);w.enter().append("path").attr("class","orgchart__link").attr("d",t=>this.linkPath(t)).attr("stroke","var(--org-link-color)").attr("stroke-width",()=>`${this.formattingSettings.links.linkWidth.value}`).attr("stroke-opacity",()=>`${this.formattingSettings.links.linkOpacity.value}`).attr("fill","none"),w.attr("d",t=>this.linkPath(t)).attr("stroke-width",()=>`${this.formattingSettings.links.linkWidth.value}`).attr("stroke-opacity",()=>`${this.formattingSettings.links.linkOpacity.value}`),w.exit().remove();const _=this.nodesGroup.selectAll("g.orgchart__node").data(u,t=>t.payload.id),A=_.enter().append("g").attr("class","orgchart__node").attr("transform",t=>`translate(${t.x}, ${t.y})`).style("display","none").on("click",(t,e)=>this.handleNodeClick(t,e)).on("contextmenu",(t,e)=>{t.preventDefault(),t.stopPropagation(),this.selectionManager.showContextMenu(e.payload.identity,{x:t.clientX,y:t.clientY})});A.attr("transform",t=>{const e=t.node.parent?.data.payload?.id;if(e){const n=this.nodePositions.get(e);if(n)return`translate(${"vertical"===this.orientation?n.centerX-t.width/2:n.x+n.width}, ${"vertical"===this.orientation?n.y+n.height:n.centerY-t.height/2})`}return`translate(${t.x}, ${t.y})`}),A.append("rect").attr("class","orgchart__node-bg").attr("width",t=>t.width).attr("height",t=>t.height).attr("rx",this.clampNumber(this.formattingSettings.card.borderRadius.value,0,50,18)).attr("ry",this.clampNumber(this.formattingSettings.card.borderRadius.value,0,50,18)),A.each((t,e,n)=>{const r=n[e],o=i.Ltv(r).append("foreignObject").attr("width",t.width).attr("height",t.height).append("xhtml:div").attr("class","orgcard").attr("data-card-align",this.formattingSettings.card.cardAlignment.value?.value||"start"),a=o.append("div").attr("class","orgcard__header");a.append("div").attr("class","orgcard__avatar").attr("data-id",t.payload.id);const s=a.append("div").attr("class","orgcard__titles");s.append("div").attr("class","orgcard__name"),s.append("div").attr("class","orgcard__title"),s.append("div").attr("class","orgcard__division"),o.append("div").attr("class","orgcard__details"),o.append("div").attr("class","orgcard__metrics")});const b=A.append("g").attr("class","orgchart__node-toggle").style("cursor","pointer").on("click",(t,e)=>{t.preventDefault(),t.stopPropagation(),e.hasChildren&&this.toggleNodeCollapseAnchoredOneLevel(e.payload.id)});b.append("text").attr("class","orgchart__child-count").attr("text-anchor","middle").attr("dy","-12").style("font-size","11px").style("fill","var(--org-link-color)"),b.append("circle").attr("r",8).attr("class","orgchart__node-toggle-bg").style("pointer-events","all"),b.append("line").attr("class","orgchart__toggle-line-h").style("pointer-events","none"),b.append("line").attr("class","orgchart__toggle-line-v").style("pointer-events","none"),this.updateNodeContent(_.merge(A)),this.updateNodeToggles(_.merge(A));const x=_.merge(A).attr("transform",t=>`translate(${t.x}, ${t.y})`).classed("has-children",t=>t.hasChildren).classed("is-collapsed",t=>t.isCollapsed).classed("is-highlighted",t=>!!t.payload.highlight).classed("is-selected",t=>this.selectedKeys.has(t.payload.identity.getKey()));if(this.hasTooltipFields?this.tooltipServiceWrapper.addTooltip(x,t=>{const e=t.payload.tooltipItems;return e&&e.length?e:void 0},t=>t.payload.identity):x.on("mousemove.tooltip",null).on("mouseover.tooltip",null).on("mouseout.tooltip",null),requestAnimationFrame(()=>{requestAnimationFrame(()=>{A.style("display","inline").style("opacity","1").style("visibility","visible")})}),_.exit().remove(),this.selectedKeys.size>0){const t=Array.from(this.identityToNodeId.entries()).find(([t])=>this.selectedKeys.has(t))?.[1];t&&this.highlightPath(t)}}updateNodeContent(t){t.each((t,e,n)=>{const r=i.Ltv(n[e]);r.select("rect.orgchart__node-bg").attr("width",t.width).attr("height",t.height);const o=r.select("foreignObject").attr("width",t.width).attr("height",t.height).select("div.orgcard"),a=o.select(".orgcard__avatar"),s=o.select(".orgcard__name"),l=o.select(".orgcard__title"),h=o.select(".orgcard__division"),c=o.select(".orgcard__details"),u=o.select(".orgcard__metrics"),d=t.payload;if(s.text(d.displayName),l.text(d.title||""),h.text(d.division||""),this.formattingSettings.card.showImage.value&&d.avatarUrl)a.style("background-image",`url(${d.avatarUrl})`),a.classed("orgcard__avatar--initials",!1),a.text("");else{a.style("background-image","none");const t=this.toInitials(d.displayName);a.classed("orgcard__avatar--initials",!0),a.text(t)}const p=c.node();if(p){for(;p.firstChild;)p.removeChild(p.firstChild);d.details.forEach(t=>{if(!t.value)return;const e=p.ownerDocument.createElement("div");if(e.className="orgcard__detail-line",t.label){const n=p.ownerDocument.createElement("span");n.className="orgcard__detail-label",n.textContent=t.label,e.appendChild(n)}const n=p.ownerDocument.createElement("span");n.className="orgcard__detail-value",n.textContent=t.value,e.appendChild(n),p.appendChild(e)})}const f=u.node();if(f){for(;f.firstChild;)f.removeChild(f.firstChild);d.metrics.forEach(t=>{if(!t.value)return;const e=f.ownerDocument.createElement("div");if(e.className="orgcard__metric",t.label){const n=f.ownerDocument.createElement("span");n.className="orgcard__metric-label",n.textContent=t.label,e.appendChild(n)}const n=f.ownerDocument.createElement("span");n.className="orgcard__metric-value",n.textContent=t.value,e.appendChild(n),f.appendChild(e)})}})}updateNodeToggles(t){t.each((t,e,n)=>{const r=i.Ltv(n[e]).select("g.orgchart__node-toggle");if(r.empty())return;const o=this.nodesById.get(t.payload.id),a=o?o.totalChildCount:0;r.style("display",t.hasChildren?"inline":"none");let s=0,l=0;"vertical"===this.orientation?(s=t.width/2,l=t.height+4):(s=t.width+4,l=t.height/2),r.attr("transform",`translate(${s}, ${l})`),r.select("text.orgchart__child-count").text(t.hasChildren?`(${a})`:"").style("display",t.hasChildren?"inline":"none").attr("x",0).attr("y",0).attr("dy","-12"),r.select("circle.orgchart__node-toggle-bg").attr("r",8).attr("fill","#ffffff").attr("stroke","var(--org-link-color)").attr("stroke-width",1.2),r.select("line.orgchart__toggle-line-h").attr("x1",-4.5).attr("y1",0).attr("x2",4.5).attr("y2",0).attr("stroke","var(--org-link-color)").attr("stroke-width",1.4).attr("stroke-linecap","round");const h=t.isCollapsed;r.select("line.orgchart__toggle-line-v").attr("x1",0).attr("y1",-4.5).attr("x2",0).attr("y2",4.5).attr("stroke","var(--org-link-color)").attr("stroke-width",1.4).attr("stroke-linecap","round").style("display",h?"inline":"none")})}renderLandingPage(t=[]){if(!this.emptyState)return;const e=t.some(t=>/employee id/i.test(t)),n=t.some(t=>/manager id/i.test(t)),i=t.some(t=>/no valid rows/i.test(t)),r=t.some(t=>/no data/i.test(t));let o="Add your data fields to start visualising relationships.";e||n?o="Link the required fields so we know who reports to whom.":i?o="Add at least one row of data to draw the organisation chart.":r&&(o="Connect the Employee and Manager fields to begin.");const a=[{label:"Employee ID",required:!0,missing:e},{label:"Manager ID",required:!0,missing:n},{label:"Display Name",required:!1,missing:!1}];for(this.emptyState.style.display="flex";this.emptyState.firstChild;)this.emptyState.removeChild(this.emptyState.firstChild);const s=document.createElement("div");s.className="orgchart__empty-card",this.emptyState.appendChild(s);const l=document.createElement("h2");l.className="orgchart__empty-title",l.textContent="Build your org chart",s.appendChild(l);const h=document.createElement("p");h.className="orgchart__empty-text",h.textContent=o,s.appendChild(h);const c=document.createElement("div");c.className="orgchart__empty-subtitle",c.textContent="Required fields",s.appendChild(c);const u=document.createElement("ul");u.className="orgchart__empty-fields",s.appendChild(u),a.forEach(t=>{const e=document.createElement("li");e.className="orgchart__empty-field",t.required&&e.classList.add("is-required"),t.missing&&e.classList.add("is-missing");const n=document.createElement("span");n.className="orgchart__empty-field-label",n.textContent=t.label,e.appendChild(n);const i=document.createElement("span");i.className="orgchart__empty-field-pill",i.textContent=t.required?"Required":"Optional",e.appendChild(i),u.appendChild(e)});const d=document.createElement("div");d.className="orgchart__empty-footnote",d.textContent=i?"Tip: make sure your dataset includes at least one person with a mapped manager.":e||n?"Employee ID and Manager ID define the hierarchy and must be present.":"Once the required fields are mapped, the org chart will render automatically.",s.appendChild(d)}linkPath(t){const e=t.source,n=t.target;if("vertical"===this.orientation){const t=e.centerX,i=e.y+e.height,r=n.centerX,o=n.y,a=i+(o-i)/2;return`M${t},${i} C${t},${a} ${r},${a} ${r},${o}`}const i=e.x+e.width,r=e.centerY,o=n.x,a=n.centerY,s=i+(o-i)/2;return`M${i},${r} C${s},${r} ${s},${a} ${o},${a}`}handleNodeClick(t,e){const n=t.ctrlKey||t.metaKey,i=e.payload.identity.getKey(),r=this.selectedKeys.has(i);n?r?this.selectedKeys.delete(i):this.selectedKeys.add(i):(this.selectedKeys.clear(),r||this.selectedKeys.add(i)),this.updateSelectionVisuals(),this.selectedKeys.size>0?this.highlightPath(e.payload.id):this.clearHighlights(),setTimeout(()=>{this.selectionManager.select(e.payload.identity,n).catch(()=>{})},0),t.preventDefault(),t.stopPropagation()}updateSelectionVisuals(){this.nodesGroup.selectAll("g.orgchart__node").classed("is-selected",t=>this.selectedKeys.has(t.payload.identity.getKey()))}toggleOrientation(){this.orientation="vertical"===this.orientation?"horizontal":"vertical",this.render(),this.fitToViewport(100)}expandAll(){this.collapsedNodes.clear(),this.render(),this.fitToViewport(100)}collapseAll(){this.nodesById.size&&(this.collapsedNodes=new Set(Array.from(this.nodesById.keys())),this.render(),this.fitToViewport(100))}toggleNodeCollapseAnchoredOneLevel(t){const e=this.nodePositions.get(t),n=this.collapsedNodes.has(t),r=this.currentTransform.k,o=e?e.absCenterX*r+this.currentTransform.x:0,a=e?e.absCenterY*r+this.currentTransform.y:0;n?this.expandOneLevel(t):this.collapsedNodes.add(t),this.render();const s=this.nodePositions.get(t);if(e&&s){const t=o-s.absCenterX*r,e=a-s.absCenterY*r,n=i.GSI.translate(t,e).scale(r);this.svg.transition().duration(0).call(this.zoomBehavior.transform,n)}}expandOneLevel(t){this.collapsedNodes.delete(t);const e=this.nodesById.get(t);e&&e.children.forEach(t=>{t.payload&&this.collapsedNodes.add(t.payload.id)})}clampNumber(t,e,n,i){return"number"!=typeof t||Number.isNaN(t)?i:t<e?e:t>n?n:t}focusOnNode(t,e=1){if(!this.allowZoom)return;const n=this.nodePositions.get(t);if(!n)return;const r=Math.max(this.viewport.width,1),o=Math.max(this.viewport.height,1),a=(n.width,n.height,Math.max(.1,Math.min(e,2.5))),s=r/2-n.absCenterX*a,l=o/2-n.absCenterY*a,h=i.GSI.translate(s,l).scale(a);this.svg.transition().duration(0).call(this.zoomBehavior.transform,h)}fitToViewport(t=400){if(!this.allowZoom||!this.layoutBounds)return;const e=this.layoutBounds,n=Math.max(this.viewport.width,1),r=Math.max(this.viewport.height,1),o=e.maxX-e.minX+2*e.padding,a=e.maxY-e.minY+2*e.padding,s=Math.min(n/o,r/a),l=(n-o*s)/2,h=(r-a*s)/2,c=i.GSI.translate(l,h).scale(s);this.svg.transition().duration(t).call(this.zoomBehavior.transform,c)}resetZoom(){this.allowZoom&&this.svg.transition().duration(0).call(this.zoomBehavior.transform,i.GSI)}onZoom(t){this.allowZoom&&(this.currentTransform=t.transform,this.zoomRoot.attr("transform",t.transform.toString()))}updateHighlights(t){if(!t||!t.table)return;this.nodesById.forEach(t=>{t.payload&&(t.payload.highlight=!1)});const e=this.selectionManager.getSelectionIds();e&&e.length>0?e.forEach(t=>{const e=this.identityToNodeId.get(t.getKey());if(e){const t=this.nodesById.get(e);t&&t.payload&&(t.payload.highlight=!0,this.ensureNodeVisible(e),this.highlightPath(e))}}):this.clearHighlights()}ensureNodeVisible(t){const e=new Set;let n=this.nodesById.get(t);for(;n&&n.payload&&!e.has(n.id);){e.add(n.id),this.collapsedNodes.delete(n.id);const t=n.payload.parentId;n=t?this.nodesById.get(t):void 0}}buildVisibleTree(){if(!this.fullTree)return null;const t=e=>{const n=e.payload?.id,i=n&&this.collapsedNodes.has(n)?[]:e.children.map(e=>t(e));return{id:e.id,payload:e.payload,children:i,totalChildCount:e.totalChildCount}};return t(this.fullTree)}getPathToRoot(t){const e=[],n=new Set;let i=this.nodesById.get(t);for(;i&&i.payload&&!n.has(i.id);){n.add(i.id),e.push(i.id);const t=i.payload.parentId;i=t?this.nodesById.get(t):void 0}return e}highlightPath(t){const e=this.getPathToRoot(t);this.nodesGroup.selectAll("g.orgchart__node").classed("is-dimmed",t=>!e.includes(t.payload.id)).classed("is-highlighted",t=>e.includes(t.payload.id)),this.linksGroup.selectAll("path.orgchart__link").classed("is-dimmed",t=>{const n=e.includes(t.source.payload.id),i=e.includes(t.target.payload.id);return!(n&&i)}).classed("is-highlighted",t=>{const n=e.includes(t.source.payload.id),i=e.includes(t.target.payload.id);return n&&i})}clearHighlights(){this.nodesGroup.selectAll("g.orgchart__node").classed("is-dimmed",!1).classed("is-highlighted",!1),this.linksGroup.selectAll("path.orgchart__link").classed("is-dimmed",!1).classed("is-highlighted",!1)}toKey(t){if(null!=t&&""!==t)return String(t).trim()}toText(t){if(null!=t&&""!==t)return String(t).trim()}formatMetric(t,e){if(null!=t&&""!==t)return"number"==typeof t?t.toLocaleString():String(t)}toInitials(t){if(!t)return"";const e=t.trim().split(/\s+/);return 1===e.length?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}getInitialExpandedLevels(){const t=this.formattingSettings?.layout?.initialExpandedLevels?.value?.value,e=null!=t?parseInt(t,10):NaN;return Number.isNaN(e)?2:e}initBackgroundContextMenu(){this.canvas.addEventListener("contextmenu",t=>{const e=t.target;e?.closest?.("g.orgchart__node")||e?.closest?.(".orgchart__toolbar, .orgchart__search-container, input, textarea")||(t.preventDefault(),t.stopPropagation(),this.selectionManager.showContextMenu(null,{x:t.clientX,y:t.clientY}))})}}},1852:(t,e,n)=>{n.d(e,{A:()=>o,D:()=>r});var i=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function o(t,e,n,r,o,a){var s,l,h;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,h/=l),t*r<e*n&&(t=-t,e=-e,h=-h,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*i,skewX:Math.atan(h)*i,scaleX:s,scaleY:l}}},1882:(t,e,n)=>{n.d(e,{Ay:()=>V,LN:()=>P,zr:()=>D});var i=n(7952),r=n(9713),o=n(7408),a=n(7867),s=n(9734),l=n(8664),h=n(4916),c=n(2672),u=n(5232),d=n(7610),p=n(4510),f=n(2920),g=n(5152),m=n(3455),v=n(4784),y=n(165),w=n(807),_=n(2901),A=n(7339),b=n(3683),x=n(461),S=n(8235),N=n(7499),C=n(697),k=n(2582),T=n(9215),E=n(8072),z=n(1429),I=n(3900),M=n(9063),B=n(9433),$=n(5233),R=n(202),L=n(1322),D=[null];function P(t,e){this._groups=t,this._parents=e}function O(){return new P([[document.documentElement]],D)}P.prototype=O.prototype={constructor:P,select:i.A,selectAll:r.A,selectChild:o.A,selectChildren:a.A,filter:s.A,data:l.A,enter:h.A,exit:c.A,join:u.A,merge:d.A,selection:function(){return this},order:p.A,sort:f.A,call:g.A,nodes:m.A,node:v.A,size:y.A,empty:w.A,each:_.A,attr:A.A,style:b.A,property:x.A,classed:S.A,text:N.A,html:C.A,raise:k.A,lower:T.A,append:E.A,insert:z.A,remove:I.A,clone:M.A,datum:B.A,on:$.A,dispatch:R.A,[Symbol.iterator]:L.A};const V=O},1943:(t,e,n)=>{n.d(e,{A:()=>w});var i=n(1089),r=n(9274),o=n(5835),a=n(5970),s=n(183),l=n(9902),h=n(440),c=n(4430),u=n(3578),d=n(563);function p(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function f(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function g(){return this.__zoom||u.D_}function m(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function v(){return navigator.maxTouchPoints||"ontouchstart"in this}function y(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function w(){var t,e,n,w=p,_=f,A=y,b=m,x=v,S=[0,1/0],N=[[-1/0,-1/0],[1/0,1/0]],C=250,k=o.A,T=(0,i.A)("start","zoom","end"),E=0,z=10;function I(t){t.property("__zoom",g).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",V).filter(x).on("touchstart.zoom",j).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(t,e){return(e=Math.max(S[0],Math.min(S[1],e)))===t.k?t:new u.dL(e,t.x,t.y)}function B(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new u.dL(t.k,i,r)}function $(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function R(t,e,n,i){t.on("start.zoom",function(){L(this,arguments).event(i).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(i).end()}).tween("zoom",function(){var t=this,r=arguments,o=L(t,r).event(i),a=_.apply(t,r),s=null==n?$(a):"function"==typeof n?n.apply(t,r):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),h=t.__zoom,c="function"==typeof e?e.apply(t,r):e,d=k(h.invert(s).concat(l/h.k),c.invert(s).concat(l/c.k));return function(t){if(1===t)t=c;else{var e=d(t),n=l/e[2];t=new u.dL(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}})}function L(t,e,n){return!n&&t.__zooming||new D(t,e)}function D(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=_.apply(t,e),this.taps=0}function P(t,...e){if(w.apply(this,arguments)){var n=L(this,e).event(t),i=this.__zoom,r=Math.max(S[0],Math.min(S[1],i.k*Math.pow(2,b.apply(this,arguments)))),o=(0,a.A)(t);if(n.wheel)n.mouse[0][0]===o[0]&&n.mouse[0][1]===o[1]||(n.mouse[1]=i.invert(n.mouse[0]=o)),clearTimeout(n.wheel);else{if(i.k===r)return;n.mouse=[o,i.invert(o)],(0,l.G)(this),n.start()}(0,d.A)(t),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",A(B(M(i,r),n.mouse[0],n.mouse[1]),n.extent,N))}}function O(t,...e){if(!n&&w.apply(this,arguments)){var i=t.currentTarget,o=L(this,e,!0).event(t),h=(0,s.A)(t.view).on("mousemove.zoom",function(t){if((0,d.A)(t),!o.moved){var e=t.clientX-u,n=t.clientY-p;o.moved=e*e+n*n>E}o.event(t).zoom("mouse",A(B(o.that.__zoom,o.mouse[0]=(0,a.A)(t,i),o.mouse[1]),o.extent,N))},!0).on("mouseup.zoom",function(t){h.on("mousemove.zoom mouseup.zoom",null),(0,r.y)(t.view,o.moved),(0,d.A)(t),o.event(t).end()},!0),c=(0,a.A)(t,i),u=t.clientX,p=t.clientY;(0,r.A)(t.view),(0,d.G)(t),o.mouse=[c,this.__zoom.invert(c)],(0,l.G)(this),o.start()}}function V(t,...e){if(w.apply(this,arguments)){var n=this.__zoom,i=(0,a.A)(t.changedTouches?t.changedTouches[0]:t,this),r=n.invert(i),o=n.k*(t.shiftKey?.5:2),l=A(B(M(n,o),i,r),_.apply(this,e),N);(0,d.A)(t),C>0?(0,s.A)(this).transition().duration(C).call(R,l,i,t):(0,s.A)(this).call(I.transform,l,i,t)}}function j(n,...i){if(w.apply(this,arguments)){var r,o,s,h,c=n.touches,u=c.length,p=L(this,i,n.changedTouches.length===u).event(n);for((0,d.G)(n),o=0;o<u;++o)s=c[o],h=[h=(0,a.A)(s,this),this.__zoom.invert(h),s.identifier],p.touch0?p.touch1||p.touch0[2]===h[2]||(p.touch1=h,p.taps=0):(p.touch0=h,r=!0,p.taps=1+!!t);t&&(t=clearTimeout(t)),r&&(p.taps<2&&(e=h[0],t=setTimeout(function(){t=null},500)),(0,l.G)(this),p.start())}}function F(t,...e){if(this.__zooming){var n,i,r,o,s=L(this,e).event(t),l=t.changedTouches,h=l.length;for((0,d.A)(t),n=0;n<h;++n)i=l[n],r=(0,a.A)(i,this),s.touch0&&s.touch0[2]===i.identifier?s.touch0[0]=r:s.touch1&&s.touch1[2]===i.identifier&&(s.touch1[0]=r);if(i=s.that.__zoom,s.touch1){var c=s.touch0[0],u=s.touch0[1],p=s.touch1[0],f=s.touch1[1],g=(g=p[0]-c[0])*g+(g=p[1]-c[1])*g,m=(m=f[0]-u[0])*m+(m=f[1]-u[1])*m;i=M(i,Math.sqrt(g/m)),r=[(c[0]+p[0])/2,(c[1]+p[1])/2],o=[(u[0]+f[0])/2,(u[1]+f[1])/2]}else{if(!s.touch0)return;r=s.touch0[0],o=s.touch0[1]}s.zoom("touch",A(B(i,r,o),s.extent,N))}}function K(t,...i){if(this.__zooming){var r,o,l=L(this,i).event(t),h=t.changedTouches,c=h.length;for((0,d.G)(t),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),r=0;r<c;++r)o=h[r],l.touch0&&l.touch0[2]===o.identifier?delete l.touch0:l.touch1&&l.touch1[2]===o.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(o=(0,a.A)(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<z)){var u=(0,s.A)(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return I.transform=function(t,e,n,i){var r=t.selection?t.selection():t;r.property("__zoom",g),t!==r?R(t,e,n,i):r.interrupt().each(function(){L(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},I.scaleBy=function(t,e,n,i){I.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n,i)},I.scaleTo=function(t,e,n,i){I.transform(t,function(){var t=_.apply(this,arguments),i=this.__zoom,r=null==n?$(t):"function"==typeof n?n.apply(this,arguments):n,o=i.invert(r),a="function"==typeof e?e.apply(this,arguments):e;return A(B(M(i,a),r,o),t,N)},n,i)},I.translateBy=function(t,e,n,i){I.transform(t,function(){return A(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),_.apply(this,arguments),N)},null,i)},I.translateTo=function(t,e,n,i,r){I.transform(t,function(){var t=_.apply(this,arguments),r=this.__zoom,o=null==i?$(t):"function"==typeof i?i.apply(this,arguments):i;return A(u.D_.translate(o[0],o[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,N)},i,r)},D.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=(0,s.A)(this.that).datum();T.call(t,this.that,new c.A(t,{sourceEvent:this.sourceEvent,target:I,type:t,transform:this.that.__zoom,dispatch:T}),e)}},I.wheelDelta=function(t){return arguments.length?(b="function"==typeof t?t:(0,h.A)(+t),I):b},I.filter=function(t){return arguments.length?(w="function"==typeof t?t:(0,h.A)(!!t),I):w},I.touchable=function(t){return arguments.length?(x="function"==typeof t?t:(0,h.A)(!!t),I):x},I.extent=function(t){return arguments.length?(_="function"==typeof t?t:(0,h.A)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),I):_},I.scaleExtent=function(t){return arguments.length?(S[0]=+t[0],S[1]=+t[1],I):[S[0],S[1]]},I.translateExtent=function(t){return arguments.length?(N[0][0]=+t[0][0],N[1][0]=+t[1][0],N[0][1]=+t[0][1],N[1][1]=+t[1][1],I):[[N[0][0],N[0][1]],[N[1][0],N[1][1]]]},I.constrain=function(t){return arguments.length?(A=t,I):A},I.duration=function(t){return arguments.length?(C=+t,I):C},I.interpolate=function(t){return arguments.length?(k=t,I):k},I.on=function(){var t=T.on.apply(T,arguments);return t===T?I:t},I.clickDistance=function(t){return arguments.length?(E=(t=+t)*t,I):Math.sqrt(E)},I.tapDistance=function(t){return arguments.length?(z=+t,I):z},I}},1957:(t,e,n)=>{n.d(e,{I:()=>s,T:()=>a});var i=n(8981),r=n(1226);function o(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var l=[],h=[];return a=t(a),s=t(s),function(t,r,o,a,s,l){if(t!==o||r!==a){var h=s.push("translate(",null,e,null,n);l.push({i:h-4,x:(0,i.A)(t,o)},{i:h-2,x:(0,i.A)(r,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,l,h),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:(0,i.A)(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(a.rotate,s.rotate,l,h),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:(0,i.A)(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(a.skewX,s.skewX,l,h),function(t,e,n,r,a,s){if(t!==n||e!==r){var l=a.push(o(a)+"scale(",null,",",null,")");s.push({i:l-4,x:(0,i.A)(t,n)},{i:l-2,x:(0,i.A)(e,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,l,h),a=s=null,function(t){for(var e,n=-1,i=h.length;++n<i;)l[(e=h[n]).i]=e.x(t);return l.join("")}}}var a=o(r.P,"px, ","px)","deg)"),s=o(r.i,", ",")",")")},2101:(t,e,n)=>{function i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.d(e,{wq:()=>i})},2324:(t,e,n)=>{function i(t){let e;for(;e=t.sourceEvent;)t=e;return t}n.d(e,{A:()=>i})},2582:(t,e,n)=>{function i(){this.nextSibling&&this.parentNode.appendChild(this)}function r(){return this.each(i)}n.d(e,{A:()=>r})},2672:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(6732),r=n(1882);function o(){return new r.LN(this._exit||this._groups.map(i.A),this._parents)}},2901:(t,e,n)=>{function i(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this}n.d(e,{A:()=>i})},2920:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(1882);function r(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=o);for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var l,h=n[s],c=h.length,u=a[s]=new Array(c),d=0;d<c;++d)(l=h[d])&&(u[d]=l);u.sort(e)}return new i.LN(a,this._parents).order()}function o(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},3116:(t,e,n)=>{n.d(e,{A:()=>i});const i=t=>()=>t},3206:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(574),r=n(9064),o=n(3363);function a(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,i.A)(t));for(var a=this._groups,s=a.length,l=new Array(s),h=0;h<s;++h)for(var c,u,d=a[h],p=d.length,f=l[h]=new Array(p),g=0;g<p;++g)(c=d[g])&&(u=t.call(c,c.__data__,g,d))&&("__data__"in c&&(u.__data__=c.__data__),f[g]=u,(0,o.Ay)(f[g],e,n,g,f,(0,o.Jt)(c,n)));return new r.eB(l,this._parents,e,n)}},3242:(t,e,n)=>{function i(){return Array.from(this)}n.d(e,{A:()=>i})},3363:(t,e,n)=>{n.d(e,{Ay:()=>g,Jt:()=>y,Op:()=>p,Ts:()=>m,hV:()=>f,hZ:()=>v,xo:()=>c});var i=n(1089),r=n(29),o=n(1463),a=(0,i.A)("start","end","cancel","interrupt"),s=[],l=0,h=1,c=2,u=3,d=4,p=5,f=6;function g(t,e,n,i,g,m){var v=t.__transition;if(v){if(n in v)return}else t.__transition={};!function(t,e,n){var i,a=t.__transition;function s(r){var p,m,v,y;if(n.state!==h)return g();for(p in a)if((y=a[p]).name===n.name){if(y.state===u)return(0,o.A)(s);y.state===d?(y.state=f,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete a[p]):+p<e&&(y.state=f,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete a[p])}if((0,o.A)(function(){n.state===u&&(n.state=d,n.timer.restart(l,n.delay,n.time),l(r))}),n.state=c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===c){for(n.state=u,i=new Array(v=n.tween.length),p=0,m=-1;p<v;++p)(y=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++m]=y);i.length=m+1}}function l(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(g),n.state=p,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);n.state===p&&(n.on.call("end",t,t.__data__,n.index,n.group),g())}function g(){for(var i in n.state=f,n.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=n,n.timer=(0,r.O1)(function(t){n.state=h,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:g,on:a,tween:s,time:m.time,delay:m.delay,duration:m.duration,ease:m.ease,timer:null,state:l})}function m(t,e){var n=y(t,e);if(n.state>l)throw new Error("too late; already scheduled");return n}function v(t,e){var n=y(t,e);if(n.state>u)throw new Error("too late; already running");return n}function y(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}},3446:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(7268);function r(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function o(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function a(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var a=(0,i.A)(t);return this.tween(n,(a.local?r:o)(a,e))}},3455:(t,e,n)=>{function i(){return Array.from(this)}n.d(e,{A:()=>i})},3473:(t,e,n)=>{n.d(e,{S:()=>u});var i=n(7674),r=i.z.Zp,o=i.z.Kx,a=i.z.PA;class s extends r{nodeWidth=new i.z.iB({name:"nodeWidth",displayName:"Node width",value:260});nodeHeight=new i.z.iB({name:"nodeHeight",displayName:"Node height",value:140});horizontalSpacing=new i.z.iB({name:"horizontalSpacing",displayName:"Horizontal spacing",value:60});verticalSpacing=new i.z.iB({name:"verticalSpacing",displayName:"Vertical spacing",value:80});initialExpandedLevels=new a({name:"initialExpandedLevels",displayName:"Initial expanded levels",value:{value:"2",displayName:"2"},items:[{value:"0",displayName:"None"},{value:"1",displayName:"1"},{value:"2",displayName:"2"},{value:"3",displayName:"3"},{value:"4",displayName:"4"},{value:"5",displayName:"5"},{value:"6",displayName:"6"}]});enableZoom=new i.z.jF({name:"enableZoom",displayName:"Enable zoom & pan",value:!0});showToolbar=new i.z.jF({name:"showToolbar",displayName:"Show toolbar",value:!0});name="layout";displayName="Layout";slices=[this.nodeWidth,this.nodeHeight,this.horizontalSpacing,this.verticalSpacing,this.initialExpandedLevels,this.enableZoom,this.showToolbar]}class l extends r{backgroundColor=new i.z.sk({name:"backgroundColor",displayName:"Background",value:{value:"#ffffff"}});accentColor=new i.z.sk({name:"accentColor",displayName:"Accent",value:{value:"#2563eb"}});borderColor=new i.z.sk({name:"borderColor",displayName:"Border",value:{value:"#cbd5f5"}});textColor=new i.z.sk({name:"textColor",displayName:"Primary text",value:{value:"#0f172a"}});borderWidth=new i.z.iB({name:"borderWidth",displayName:"Border width",value:1});borderRadius=new i.z.iB({name:"borderRadius",displayName:"Corner radius",value:18});showShadow=new i.z.jF({name:"showShadow",displayName:"Drop shadow",value:!0});showImage=new i.z.jF({name:"showImage",displayName:"Show avatars",value:!0});cardAlignment=new a({name:"cardAlignment",displayName:"Content alignment",value:{value:"start",displayName:"Left"},items:[{value:"start",displayName:"Left"},{value:"center",displayName:"Center"},{value:"end",displayName:"Right"}]});name="card";displayName="Card";slices=[this.backgroundColor,this.accentColor,this.borderColor,this.textColor,this.borderWidth,this.borderRadius,this.showShadow,this.showImage,this.cardAlignment]}class h extends r{nameTextSize=new i.z.iB({name:"nameTextSize",displayName:"Name size",value:16});titleTextSize=new i.z.iB({name:"titleTextSize",displayName:"Title size",value:12});detailTextSize=new i.z.iB({name:"detailTextSize",displayName:"Detail size",value:11});name="labels";displayName="Labels";slices=[this.nameTextSize,this.titleTextSize,this.detailTextSize]}class c extends r{linkColor=new i.z.sk({name:"linkColor",displayName:"Link color",value:{value:"#94a3b8"}});linkWidth=new i.z.iB({name:"linkWidth",displayName:"Link width",value:1.8});linkOpacity=new i.z.iB({name:"linkOpacity",displayName:"Link opacity",value:.8});name="links";displayName="Links";slices=[this.linkColor,this.linkWidth,this.linkOpacity]}class u extends o{layout=new s;card=new l;labels=new h;links=new c;cards=[this.layout,this.card,this.labels,this.links]}},3537:(t,e,n)=>{n(8965)},3578:(t,e,n)=>{function i(t,e,n){this.k=t,this.x=e,this.y=n}n.d(e,{D_:()=>r,dL:()=>i}),i.prototype={constructor:i,scale:function(t){return 1===t?this:new i(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new i(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var r=new i(1,0,0);i.prototype},3589:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(3363);function r(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(a,s){var l={value:s},h={value:function(){0===--o&&a()}};n.each(function(){var n=(0,i.hZ)(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),n.on=e}),0===o&&a()})}},3663:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(7268),r=n(7947);function o(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r.g&&e.documentElement.namespaceURI===r.g?e.createElement(t):e.createElementNS(n,t)}}function a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function s(t){var e=(0,i.A)(t);return(e.local?a:o)(e)}},3683:(t,e,n)=>{n.d(e,{A:()=>s,j:()=>l});var i=n(6747);function r(t){return function(){this.style.removeProperty(t)}}function o(t,e,n){return function(){this.style.setProperty(t,e,n)}}function a(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function s(t,e,n){return arguments.length>1?this.each((null==e?r:"function"==typeof e?a:o)(t,e,null==n?"":n)):l(this.node(),t)}function l(t,e){return t.style.getPropertyValue(e)||(0,i.A)(t).getComputedStyle(t,null).getPropertyValue(e)}},3900:(t,e,n)=>{function i(){var t=this.parentNode;t&&t.removeChild(this)}function r(){return this.each(i)}n.d(e,{A:()=>r})},4044:(t,e,n)=>{function i(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}n.d(e,{A:()=>i})},4228:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(3363);function r(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){(0,i.hZ)(this,t).ease=e}}(e,t)):(0,i.Jt)(this.node(),e).ease}},4430:(t,e,n)=>{function i(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}n.d(e,{A:()=>i})},4510:(t,e,n)=>{function i(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this}n.d(e,{A:()=>i})},4620:(t,e,n)=>{n.d(e,{A:()=>h});var i=n(9064),r=n(3363),o=n(2101),a=n(29),s={time:null,delay:0,duration:250,ease:o.wq};function l(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function h(t){var e,n;t instanceof i.eB?(e=t._id,t=t._name):(e=(0,i.Si)(),(n=s).time=(0,a.tB)(),t=null==t?null:t+"");for(var o=this._groups,h=o.length,c=0;c<h;++c)for(var u,d=o[c],p=d.length,f=0;f<p;++f)(u=d[f])&&(0,r.Ay)(u,t,e,f,d,n||l(u,e));return new i.eB(o,this._parents,t,e)}},4632:(t,e,n)=>{function i(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}n.d(e,{A:()=>i})},4705:(t,e,n)=>{function i(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this}n.d(e,{A:()=>i})},4709:(t,e,n)=>{n.d(e,{Ay:()=>o,uN:()=>r});var i=n(3116);function r(t){return 1===(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):(0,i.A)(isNaN(e)?n:e)}}function o(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):(0,i.A)(isNaN(t)?e:t)}},4768:(t,e,n)=>{n.d(e,{A:()=>c});var i=n(9070);function r(t,e){return t.parent===e.parent?1:2}function o(t){var e=t.children;return e?e[0]:t.t}function a(t){var e=t.children;return e?e[e.length-1]:t.t}function s(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function l(t,e,n){return t.a.parent===e.parent?t.a:n}function h(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function c(){var t=r,e=1,n=1,i=null;function c(r){var o=function(t){for(var e,n,i,r,o,a=new h(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=e.children[r]=new h(i[r],r)),n.parent=e;return(a.parent=new h(null,0)).children=[a],a}(r);if(o.eachAfter(u),o.parent.m=-o.z,o.eachBefore(d),i)r.eachBefore(p);else{var a=r,s=r,l=r;r.eachBefore(function(t){t.x<a.x&&(a=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)});var c=a===s?1:t(a,s)/2,f=c-a.x,g=e/(s.x+c+f),m=n/(l.depth||1);r.eachBefore(function(t){t.x=(t.x+f)*g,t.y=t.depth*m})}return r}function u(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var h=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-h):e.z=h}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,h=e,c=e,u=n,d=h.parent.children[0],p=h.m,f=c.m,g=u.m,m=d.m;u=a(u),h=o(h),u&&h;)d=o(d),(c=a(c)).a=e,(r=u.z+g-h.z-p+t(u._,h._))>0&&(s(l(u,e,i),e,r),p+=r,f+=r),g+=u.m,p+=h.m,m+=d.m,f+=c.m;u&&!a(c)&&(c.t=u,c.m+=g-f),h&&!o(d)&&(d.t=h,d.m+=p-m,i=e)}return i}(e,r,e.parent.A||i[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=e,t.y=t.depth*n}return c.separation=function(e){return arguments.length?(t=e,c):t},c.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],c):i?null:[e,n]},c.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],c):i?[e,n]:null},c}h.prototype=Object.create(i.bP.prototype)},4784:(t,e,n)=>{function i(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}n.d(e,{A:()=>i})},4876:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(6541),r=n(9064);function o(t){"function"!=typeof t&&(t=(0,i.A)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,l=e[a],h=l.length,c=o[a]=[],u=0;u<h;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&c.push(s);return new r.eB(o,this._parents,this._name,this._id)}},4916:(t,e,n)=>{n.d(e,{A:()=>o,L:()=>a});var i=n(6732),r=n(1882);function o(){return new r.LN(this._enter||this._groups.map(i.A),this._parents)}function a(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}a.prototype={constructor:a,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},4984:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(5478),r=n(1882);function o(t){return"string"==typeof t?new r.LN([document.querySelectorAll(t)],[document.documentElement]):new r.LN([(0,i.A)(t)],r.zr)}},5152:(t,e,n)=>{function i(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}n.d(e,{A:()=>i})},5182:(t,e,n)=>{function i(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}n.d(e,{A:()=>i})},5207:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(3363);function r(t,e){var n=this._id;return arguments.length<2?(0,i.Jt)(this.node(),n).on.on(t):this.each(function(t,e,n){var r,o,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?i.Ts:i.hZ;return function(){var i=a(this,t),s=i.on;s!==r&&(o=(r=s).copy()).on(e,n),i.on=o}}(n,t,e))}},5226:(t,e,n)=>{n.d(e,{Ay:()=>r,Rw:()=>i});const i={capture:!0,passive:!1};function r(t){t.preventDefault(),t.stopImmediatePropagation()}},5232:(t,e,n)=>{function i(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r}n.d(e,{A:()=>i})},5233:(t,e,n)=>{function i(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function r(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function o(t,e,n){var o,a,s=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),l=s.length;if(!(arguments.length<2)){for(h=e?r:i,o=0;o<l;++o)this.each(h(s[o],e,n));return this}var h=this.node().__on;if(h)for(var c,u=0,d=h.length;u<d;++u)for(o=0,c=h[u];o<l;++o)if((a=s[o]).type===c.type&&a.name===c.name)return c.value}n.d(e,{A:()=>o})},5478:(t,e,n)=>{function i(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}n.d(e,{A:()=>i})},5509:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(9064),r=n(3363);function o(){for(var t=this._name,e=this._id,n=(0,i.Si)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var l,h=o[s],c=h.length,u=0;u<c;++u)if(l=h[u]){var d=(0,r.Jt)(l,e);(0,r.Ay)(l,t,n,u,h,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new i.eB(o,this._parents,t,n)}},5636:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(9064);function r(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var h,c=e[l],u=n[l],d=c.length,p=s[l]=new Array(d),f=0;f<d;++f)(h=c[f]||u[f])&&(p[f]=h);for(;l<r;++l)s[l]=e[l];return new i.eB(s,this._parents,this._name,this._id)}},5835:(t,e,n)=>{function i(t){return((t=Math.exp(t))+1/t)/2}n.d(e,{A:()=>r});const r=function t(e,n,r){function o(t,o){var a,s,l=t[0],h=t[1],c=t[2],u=o[0],d=o[1],p=o[2],f=u-l,g=d-h,m=f*f+g*g;if(m<1e-12)s=Math.log(p/c)/e,a=function(t){return[l+t*f,h+t*g,c*Math.exp(e*t*s)]};else{var v=Math.sqrt(m),y=(p*p-c*c+r*m)/(2*c*n*v),w=(p*p-c*c-r*m)/(2*p*n*v),_=Math.log(Math.sqrt(y*y+1)-y),A=Math.log(Math.sqrt(w*w+1)-w);s=(A-_)/e,a=function(t){var r,o=t*s,a=i(_),u=c/(n*v)*(a*(r=e*o+_,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[l+u*f,h+u*g,c*a/i(e*o+_)]}}return a.duration=1e3*s*e/Math.SQRT2,a}return o.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},o}(Math.SQRT2,2,4)},5868:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(7045);function r(t){return this.each(function(){(0,i.A)(this,t)})}},5970:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(2324);function r(t,e){if(t=(0,i.A)(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}},6066:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(3363);function r(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;(0,i.hZ)(this,t).ease=n}}(this._id,t))}},6160:(t,e,n)=>{function i(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}function r(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,l=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,l)}}n.d(e,{A:()=>r,H:()=>i})},6470:(t,e,n)=>{n.d(e,{GS:()=>r.D_,s_:()=>i.A});var i=n(1943),r=n(3578)},6541:(t,e,n)=>{function i(t){return function(){return this.matches(t)}}function r(t){return function(e){return e.matches(t)}}n.d(e,{A:()=>i,j:()=>r})},6558:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(3363);function r(t,e){return function(){(0,i.hZ)(this,t).duration=+e.apply(this,arguments)}}function o(t,e){return e=+e,function(){(0,i.hZ)(this,t).duration=e}}function a(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?r:o)(e,t)):(0,i.Jt)(this.node(),e).duration}},6667:(t,e,n)=>{n.d(e,{A:()=>i});const i=class{constructor(t){this.localizationManager=t}populateFormattingSettingsModel(t,e){var n,i,r;let o=new t,a=null===(i=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.metadata)||void 0===i?void 0:i.objects;return a&&(null===(r=o.cards)||void 0===r||r.forEach(t=>{var e,n,i;null===(e=null==t?void 0:t.slices)||void 0===e||e.forEach(e=>{null==e||e.setPropertiesValues(a,t.name)}),null===(i=null===(n=null==t?void 0:t.container)||void 0===n?void 0:n.containerItems)||void 0===i||i.forEach(e=>{var n;null===(n=null==e?void 0:e.slices)||void 0===n||n.forEach(e=>{null==e||e.setPropertiesValues(a,t.name)})})})),o}buildFormattingModel(t){var e;let n={cards:[]};return null===(e=t.cards)||void 0===e||e.forEach(t=>{if(!t)return;const e=t.name,i=t.name+"-group";let r={displayName:void 0,slices:[],uid:i},o=t.getFormattingCard(e,r,this.localizationManager);n.cards.push(o);const a={};if(t.container){const n=t.container,s=i+"-container",l={displayName:this.localizationManager&&n.displayNameKey?this.localizationManager.getDisplayName(n.displayNameKey):n.displayName,description:this.localizationManager&&n.descriptionKey?this.localizationManager.getDisplayName(n.descriptionKey):n.description,containerItems:[],uid:s};n.containerItems.forEach(t=>{const n=t.displayNameKey?t.displayNameKey:t.displayName,i=s+n;let r={displayName:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,slices:[],uid:i};this.buildFormattingSlices(t.slices,e,a,o,r.slices),l.containerItems.push(r)}),r.container=l}t.slices&&this.buildFormattingSlices(t.slices,e,a,o,r.slices),o.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(t)}),n}buildFormattingSlices(t,e,n,i,r){null==t||t.forEach(t=>{let o=null==t?void 0:t.getFormattingSlice(e,this.localizationManager);o&&(void 0===n[t.name]?n[t.name]=0:(n[t.name]++,o.uid=`${o.uid}-${n[t.name]}`),t.topLevelToggle?(o.suppressDisplayName=!0,i.topLevelToggle=o):r.push(o))})}getRevertToDefaultDescriptor(t){var e,n;const i={};let r=[],o=this.getSlicesRevertToDefaultDescriptor(t.name,t.slices,i),a=[];return null===(n=null===(e=t.container)||void 0===e?void 0:e.containerItems)||void 0===n||n.forEach(e=>{a=a.concat(this.getSlicesRevertToDefaultDescriptor(t.name,e.slices,i))}),r=o.concat(a),r}getSlicesRevertToDefaultDescriptor(t,e,n){let i=[];return null==e||e.forEach(e=>{e&&!n[e.name]&&(n[e.name]=!0,i=i.concat(e.getRevertToDefaultDescriptor(t)))}),i}}},6732:(t,e,n)=>{function i(t){return new Array(t.length)}n.d(e,{A:()=>i})},6747:(t,e,n)=>{function i(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}n.d(e,{A:()=>i})},6957:(t,e,n)=>{n.d(e,{Ay:()=>_,Qh:()=>x});var i=n(871);function r(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,u=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),d=new RegExp(`^rgb\\(${h},${h},${h}\\)$`),p=new RegExp(`^rgba\\(${s},${s},${s},${l}\\)$`),f=new RegExp(`^rgba\\(${h},${h},${h},${l}\\)$`),g=new RegExp(`^hsl\\(${l},${h},${h}\\)$`),m=new RegExp(`^hsla\\(${l},${h},${h},${l}\\)$`),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function _(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?A(e):3===n?new S(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?b(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?b(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=u.exec(t))?new S(e[1],e[2],e[3],1):(e=d.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?b(e[1],e[2],e[3],e[4]):(e=f.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?z(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?z(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?A(v[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function A(t){return new S(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,i){return i<=0&&(t=e=n=NaN),new S(t,e,n,i)}function x(t,e,n,i){return 1===arguments.length?((o=t)instanceof r||(o=_(o)),o?new S((o=o.rgb()).r,o.g,o.b,o.opacity):new S):new S(t,e,n,null==i?1:i);var o}function S(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function N(){return`#${E(this.r)}${E(this.g)}${E(this.b)}`}function C(){const t=k(this.opacity);return`${1===t?"rgb(":"rgba("}${T(this.r)}, ${T(this.g)}, ${T(this.b)}${1===t?")":`, ${t})`}`}function k(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function T(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function E(t){return((t=T(t))<16?"0":"")+t.toString(16)}function z(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new M(t,e,n,i)}function I(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=_(t)),!t)return new M;if(t instanceof M)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,l=a-o,h=(a+o)/2;return l?(s=e===a?(n-i)/l+6*(n<i):n===a?(i-e)/l+2:(e-n)/l+4,l/=h<.5?a+o:2-a-o,s*=60):l=h>0&&h<1?0:s,new M(s,l,h,t.opacity)}function M(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function B(t){return(t=(t||0)%360)<0?t+360:t}function $(t){return Math.max(0,Math.min(1,t||0))}function R(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}(0,i.A)(r,_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:w,toString:w}),(0,i.A)(S,x,(0,i.X)(r,{brighter(t){return t=null==t?a:Math.pow(a,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?o:Math.pow(o,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new S(T(this.r),T(this.g),T(this.b),k(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N,formatHex:N,formatHex8:function(){return`#${E(this.r)}${E(this.g)}${E(this.b)}${E(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:C,toString:C})),(0,i.A)(M,function(t,e,n,i){return 1===arguments.length?I(t):new M(t,e,n,null==i?1:i)},(0,i.X)(r,{brighter(t){return t=null==t?a:Math.pow(a,t),new M(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?o:Math.pow(o,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new S(R(t>=240?t-240:t+120,r,i),R(t,r,i),R(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new M(B(this.h),$(this.s),$(this.l),k(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=k(this.opacity);return`${1===t?"hsl(":"hsla("}${B(this.h)}, ${100*$(this.s)}%, ${100*$(this.l)}%${1===t?")":`, ${t})`}`}}))},7023:(t,e,n)=>{function i(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}n.d(e,{A:()=>i})},7045:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(3363);function r(t,e){var n,r,o,a=t.__transition,s=!0;if(a){for(o in e=null==e?null:e+"",a)(n=a[o]).name===e?(r=n.state>i.xo&&n.state<i.Op,n.state=i.hV,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},7111:(t,e,n)=>{var i=n(1882),r=n(5868),o=n(4620);i.Ay.prototype.interrupt=r.A,i.Ay.prototype.transition=o.A},7235:(t,e,n)=>{function i(t,e){for(var n,i,r,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i]);for(;o=s.pop();)t.call(e,o,++l,this);return this}n.d(e,{A:()=>i})},7268:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(7947);function r(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.A.hasOwnProperty(e)?{space:i.A[e],local:t}:t}},7270:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(1882).Ay.prototype.constructor;function r(){return new i(this._groups,this._parents)}},7339:(t,e,n)=>{n.d(e,{A:()=>c});var i=n(7268);function r(t){return function(){this.removeAttribute(t)}}function o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function a(t,e){return function(){this.setAttribute(t,e)}}function s(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function l(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function h(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function c(t,e){var n=(0,i.A)(t);if(arguments.length<2){var c=this.node();return n.local?c.getAttributeNS(n.space,n.local):c.getAttribute(n)}return this.each((null==e?n.local?o:r:"function"==typeof e?n.local?h:l:n.local?s:a)(n,e))}},7408:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(6541),r=Array.prototype.find;function o(){return this.firstElementChild}function a(t){return this.select(null==t?o:function(t){return function(){return r.call(this.children,t)}}("function"==typeof t?t:(0,i.j)(t)))}},7479:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(6957),r=n(8981),o=n(7737),a=n(1197);function s(t,e){var n;return("number"==typeof e?r.A:e instanceof i.Ay?a.Ay:(n=(0,i.Ay)(e))?(e=n,a.Ay):o.A)(t,e)}},7489:(t,e,n)=>{function i(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function r(){return this.eachAfter(i)}n.d(e,{A:()=>r})},7499:(t,e,n)=>{function i(){this.textContent=""}function r(t){return function(){this.textContent=t}}function o(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function a(t){return arguments.length?this.each(null==t?i:("function"==typeof t?o:r)(t)):this.node().textContent}n.d(e,{A:()=>a})},7610:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(1882);function r(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,a=r.length,s=Math.min(o,a),l=new Array(o),h=0;h<s;++h)for(var c,u=n[h],d=r[h],p=u.length,f=l[h]=new Array(p),g=0;g<p;++g)(c=u[g]||d[g])&&(f[g]=c);for(;h<o;++h)l[h]=n[h];return new i.LN(l,this._parents)}},7674:(t,e,n)=>{n.d(e,{O:()=>r.A,z:()=>i});var i=n(9754),r=n(6667)},7737:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(8981),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(r.source,"g");function a(t,e){var n,a,s,l=r.lastIndex=o.lastIndex=0,h=-1,c=[],u=[];for(t+="",e+="";(n=r.exec(t))&&(a=o.exec(e));)(s=a.index)>l&&(s=e.slice(l,s),c[h]?c[h]+=s:c[++h]=s),(n=n[0])===(a=a[0])?c[h]?c[h]+=a:c[++h]=a:(c[++h]=null,u.push({i:h,x:(0,i.A)(n,a)})),l=o.lastIndex;return l<e.length&&(s=e.slice(l),c[h]?c[h]+=s:c[++h]=s),c.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)c[(n=u[i]).i]=n.x(t);return c.join("")})}},7750:(t,e,n)=>{n.d(e,{B2:()=>r.A,Sk:()=>i.Ay});var i=n(9070),r=n(4768)},7867:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(6541),r=Array.prototype.filter;function o(){return Array.from(this.children)}function a(t){return this.selectAll(null==t?o:function(t){return function(){return r.call(this.children,t)}}("function"==typeof t?t:(0,i.j)(t)))}},7875:(t,e,n)=>{n.d(e,{Lt:()=>i.A});var i=n(183)},7890:(t,e,n)=>{function i(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))}n.d(e,{A:()=>i})},7947:(t,e,n)=>{n.d(e,{A:()=>r,g:()=>i});var i="http://www.w3.org/1999/xhtml";const r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},7949:(t,e,n)=>{n.d(e,{A:()=>p});var i=n(1957),r=n(7268),o=n(123),a=n(7479);function s(t){return function(){this.removeAttribute(t)}}function l(t){return function(){this.removeAttributeNS(t.space,t.local)}}function h(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function c(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function u(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function d(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}function p(t,e){var n=(0,r.A)(t),p="transform"===n?i.I:a.A;return this.attrTween(t,"function"==typeof e?(n.local?d:u)(n,p,(0,o.J)(this,"attr."+t,e)):null==e?(n.local?l:s)(n):(n.local?c:h)(n,p,e))}},7952:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(1882),r=n(574);function o(t){"function"!=typeof t&&(t=(0,r.A)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,l,h=e[a],c=h.length,u=o[a]=new Array(c),d=0;d<c;++d)(s=h[d])&&(l=t.call(s,s.__data__,d,h))&&("__data__"in s&&(l.__data__=s.__data__),u[d]=l);return new i.LN(o,this._parents)}},8072:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(3663);function r(t){var e="function"==typeof t?t:(0,i.A)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},8235:(t,e,n)=>{function i(t){return t.trim().split(/^|\s+/)}function r(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=i(t.getAttribute("class")||"")}function a(t,e){for(var n=r(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function s(t,e){for(var n=r(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function l(t){return function(){a(this,t)}}function h(t){return function(){s(this,t)}}function c(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}function u(t,e){var n=i(t+"");if(arguments.length<2){for(var o=r(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?c:e?l:h)(n,e))}n.d(e,{A:()=>u}),o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}}},8429:(t,e,n)=>{function i(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}n.d(e,{A:()=>i})},8604:(t,e,n)=>{function i(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}n.d(e,{A:()=>i})},8639:(t,e,n)=>{function i(t,e){return{objectName:t,propertyName:e.name,selector:e.selector,altConstantValueSelector:e.altConstantSelector,instanceKind:e.instanceKind}}function r(t,e,n){return null==e||"object"==typeof e&&!e.solid?n:e.solid?{value:null==e?void 0:e.solid.color}:(null==t?void 0:t.items)?t.items.find(t=>t.value==e):e}n.d(e,{D:()=>r,y:()=>i})},8664:(t,e,n)=>{n.d(e,{A:()=>h});var i=n(1882),r=n(4916),o=n(9731);function a(t,e,n,i,o,a){for(var s,l=0,h=e.length,c=a.length;l<c;++l)(s=e[l])?(s.__data__=a[l],i[l]=s):n[l]=new r.L(t,a[l]);for(;l<h;++l)(s=e[l])&&(o[l]=s)}function s(t,e,n,i,o,a,s){var l,h,c,u=new Map,d=e.length,p=a.length,f=new Array(d);for(l=0;l<d;++l)(h=e[l])&&(f[l]=c=s.call(h,h.__data__,l,e)+"",u.has(c)?o[l]=h:u.set(c,h));for(l=0;l<p;++l)c=s.call(t,a[l],l,a)+"",(h=u.get(c))?(i[l]=h,h.__data__=a[l],u.delete(c)):n[l]=new r.L(t,a[l]);for(l=0;l<d;++l)(h=e[l])&&u.get(f[l])===h&&(o[l]=h)}function l(t){return t.__data__}function h(t,e){if(!arguments.length)return Array.from(this,l);var n=e?s:a,r=this._parents,h=this._groups;"function"!=typeof t&&(t=(0,o.A)(t));for(var u=h.length,d=new Array(u),p=new Array(u),f=new Array(u),g=0;g<u;++g){var m=r[g],v=h[g],y=v.length,w=c(t.call(m,m&&m.__data__,g,r)),_=w.length,A=p[g]=new Array(_),b=d[g]=new Array(_);n(m,v,A,b,f[g]=new Array(y),w,e);for(var x,S,N=0,C=0;N<_;++N)if(x=A[N]){for(N>=C&&(C=N+1);!(S=b[C])&&++C<_;);x._next=S||null}}return(d=new i.LN(d,r))._enter=p,d._exit=f,d}function c(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}},8674:(t,e,n)=>{function i(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))}n.d(e,{A:()=>i})},8965:(t,e,n)=>{n(9902);const{abs:i,max:r,min:o}=Math;function a(t){return{type:t}}["w","e"].map(a),["n","s"].map(a),["n","w","e","s","nw","ne","sw","se"].map(a)},8981:(t,e,n)=>{function i(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}n.d(e,{A:()=>i})},9063:(t,e,n)=>{function i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function r(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function o(t){return this.select(t?r:i)}n.d(e,{A:()=>o})},9064:(t,e,n)=>{n.d(e,{Si:()=>C,eB:()=>N});var i=n(1882),r=n(7949),o=n(3446),a=n(1375),s=n(6558),l=n(4228),h=n(6066),c=n(4876),u=n(5636),d=n(5207),p=n(5182),f=n(3206),g=n(1683),m=n(7270),v=n(9353),y=n(8674),w=n(137),_=n(7890),A=n(5509),b=n(123),x=n(3589),S=0;function N(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function C(){return++S}var k=i.Ay.prototype;N.prototype=function(t){return(0,i.Ay)().transition(t)}.prototype={constructor:N,select:f.A,selectAll:g.A,selectChild:k.selectChild,selectChildren:k.selectChildren,filter:c.A,merge:u.A,selection:m.A,transition:A.A,call:k.call,nodes:k.nodes,node:k.node,size:k.size,empty:k.empty,each:k.each,on:d.A,attr:r.A,attrTween:o.A,style:v.A,styleTween:y.A,text:w.A,textTween:_.A,remove:p.A,tween:b.A,delay:a.A,duration:s.A,ease:l.A,easeVarying:h.A,end:x.A,[Symbol.iterator]:k[Symbol.iterator]}},9070:(t,e,n)=>{n.d(e,{Ay:()=>m,bP:()=>A});var i=n(7489),r=n(4705),o=n(9514),a=n(7235),s=n(827),l=n(8429),h=n(8604),c=n(9495),u=n(4044),d=n(3242),p=n(4632),f=n(7023),g=n(1774);function m(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=y)):void 0===e&&(e=v);for(var n,i,r,o,a,s=new A(t),l=[s];n=l.pop();)if((r=e(n.data))&&(a=(r=Array.from(r)).length))for(n.children=r,o=a-1;o>=0;--o)l.push(i=r[o]=new A(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(_)}function v(t){return t.children}function y(t){return Array.isArray(t)?t[1]:null}function w(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function _(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function A(t){this.data=t,this.depth=this.height=0,this.parent=null}A.prototype=m.prototype={constructor:A,count:i.A,each:r.A,eachAfter:a.A,eachBefore:o.A,find:s.A,sum:l.A,sort:h.A,path:c.A,ancestors:u.A,descendants:d.A,leaves:p.A,links:f.A,copy:function(){return m(this).eachBefore(w)},[Symbol.iterator]:g.A}},9215:(t,e,n)=>{function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r(){return this.each(i)}n.d(e,{A:()=>r})},9274:(t,e,n)=>{n.d(e,{A:()=>o,y:()=>a});var i=n(183),r=n(5226);function o(t){var e=t.document.documentElement,n=(0,i.A)(t).on("dragstart.drag",r.Ay,r.Rw);"onselectstart"in e?n.on("selectstart.drag",r.Ay,r.Rw):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function a(t,e){var n=t.document.documentElement,o=(0,i.A)(t).on("dragstart.drag",null);e&&(o.on("click.drag",r.Ay,r.Rw),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},9353:(t,e,n)=>{n.d(e,{A:()=>h});var i=n(1957),r=n(3683),o=n(3363),a=n(123),s=n(7479);function l(t){return function(){this.style.removeProperty(t)}}function h(t,e,n){var h="transform"==(t+="")?i.T:s.A;return null==e?this.styleTween(t,function(t,e){var n,i,o;return function(){var a=(0,r.j)(this,t),s=(this.style.removeProperty(t),(0,r.j)(this,t));return a===s?null:a===n&&s===i?o:o=e(n=a,i=s)}}(t,h)).on("end.style."+t,l(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,o,a;return function(){var s=(0,r.j)(this,t),l=n(this),h=l+"";return null==l&&(this.style.removeProperty(t),h=l=(0,r.j)(this,t)),s===h?null:s===i&&h===o?a:(o=h,a=e(i=s,l))}}(t,h,(0,a.J)(this,"style."+t,e))).each(function(t,e){var n,i,r,a,s="style."+e,h="end."+s;return function(){var c=(0,o.hZ)(this,t),u=c.on,d=null==c.value[s]?a||(a=l(e)):void 0;u===n&&r===d||(i=(n=u).copy()).on(h,r=d),c.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,o,a=n+"";return function(){var s=(0,r.j)(this,t);return s===a?null:s===i?o:o=e(i=s,n)}}(t,h,e),n).on("end.style."+t,null)}},9433:(t,e,n)=>{function i(t){return arguments.length?this.property("__data__",t):this.node().__data__}n.d(e,{A:()=>i})},9495:(t,e,n)=>{function i(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}n.d(e,{A:()=>i})},9514:(t,e,n)=>{function i(t,e){for(var n,i,r=this,o=[r],a=-1;r=o.pop();)if(t.call(e,r,++a,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this}n.d(e,{A:()=>i})},9713:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(1882),r=n(5478),o=n(747);function a(t){t="function"==typeof t?function(t){return function(){return(0,r.A)(t.apply(this,arguments))}}(t):(0,o.A)(t);for(var e=this._groups,n=e.length,a=[],s=[],l=0;l<n;++l)for(var h,c=e[l],u=c.length,d=0;d<u;++d)(h=c[d])&&(a.push(t.call(h,h.__data__,d,c)),s.push(h));return new i.LN(a,s)}},9731:(t,e,n)=>{function i(t){return function(){return t}}n.d(e,{A:()=>i})},9734:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(1882),r=n(6541);function o(t){"function"!=typeof t&&(t=(0,r.A)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,l=e[a],h=l.length,c=o[a]=[],u=0;u<h;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&c.push(s);return new i.LN(o,this._parents)}},9754:(t,e,n)=>{n.d(e,{Kx:()=>o,PA:()=>u,Zp:()=>a,iB:()=>c,jF:()=>l,sk:()=>h});var i=n(8639);class r{}class o{}class a extends r{getFormattingCard(t,e,n){return{displayName:n&&this.displayNameKey?n.getDisplayName(this.displayNameKey):this.displayName,description:n&&this.descriptionKey?n.getDisplayName(this.descriptionKey):this.description,groups:[e],uid:t,analyticsPane:this.analyticsPane}}}class s extends r{constructor(t){super(),Object.assign(this,t)}getFormattingSlice(t,e){const n=this.type,i=this.name,r={displayName:e&&this.displayNameKey?e.getDisplayName(this.displayNameKey):this.displayName,description:e&&this.descriptionKey?e.getDisplayName(this.descriptionKey):this.description,uid:t+"-"+i};return Object.assign(Object.assign({},r),{control:{type:n,properties:this.getFormattingComponent(t,e)}})}getFormattingComponent(t,e){return{descriptor:i.y(t,this),value:this.value}}getRevertToDefaultDescriptor(t){return[{objectName:t,propertyName:this.name}]}setPropertiesValues(t,e){var n;let r=null===(n=null==t?void 0:t[e])||void 0===n?void 0:n[this.name];this.value=i.D(this,r,this.value)}}class l extends s{constructor(t){super(t),this.type="ToggleSwitch"}}class h extends s{constructor(t){super(t),this.type="ColorPicker"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}class c extends s{constructor(t){super(t),this.type="NumUpDown"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{options:this.options})}}class u extends s{constructor(t){super(t),this.type="Dropdown"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{items:this.items})}}},9804:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(6160);function r(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],l=t[(r+2)%e];return(0,i.H)((n-r/e)*e,o,a,s,l)}}},9902:(t,e,n)=>{n.d(e,{G:()=>i.A}),n(7111);var i=n(7045)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{n.r(i),n.d(i,{default:()=>o});var t=n(1848),e=window.powerbi,r={name:"orgChartA14B4AE4AC5F4BBF9EB7A7C7D1HOANG",displayName:"Org Chart",class:"Visual",apiVersion:"5.10.0",create:e=>{if(t.b)return new t.b(e);throw"Visual instance not found"},createModalDialog:(t,e,n)=>{const i=globalThis.dialogRegistry;t in i&&new i[t](e,n)},custom:!0};void 0!==e&&(e.visuals=e.visuals||{},e.visuals.plugins=e.visuals.plugins||{},e.visuals.plugins.orgChartA14B4AE4AC5F4BBF9EB7A7C7D1HOANG=r);const o=r})(),orgChartA14B4AE4AC5F4BBF9EB7A7C7D1HOANG=i})();