!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||ne;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=ge.type(e);return"function"!==n&&!ge.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function o(e,t,n){return ge.isFunction(t)?ge.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?ge.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ge.grep(e,function(e){return se.call(t,e)>-1!==n}):Se.test(t)?ge.filter(t,e,n):(t=ge.filter(t,e),ge.grep(e,function(e){return se.call(t,e)>-1!==n&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return ge.each(e.match(Te)||[],function(e,n){t[n]=!0}),t}function u(e){return e}function l(e){throw e}function c(e,t,n,r){var i;try{e&&ge.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&ge.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function f(){ne.removeEventListener("DOMContentLoaded",f),e.removeEventListener("load",f),ge.ready()}function p(){this.expando=ge.expando+p.uid++}function h(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:je.test(e)?JSON.parse(e):e)}function d(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ie,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=h(n)}catch(e){}Pe.set(e,t,n)}else n=void 0;return n}function g(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return ge.css(e,t,"")},u=s(),l=n&&n[3]||(ge.cssNumber[t]?"":"px"),c=(ge.cssNumber[t]||"px"!==l&&+u)&&qe.exec(ge.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{o=o||".5",c/=o,ge.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function v(e){var t,n=e.ownerDocument,r=e.nodeName,i=We[r];return i||(t=n.body.appendChild(n.createElement(r)),i=ge.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),We[r]=i,i)}function m(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Be.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Re(r)&&(i[o]=v(r))):"none"!==n&&(i[o]="none",Be.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function y(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?ge.merge([e],n):n}function b(e,t){for(var n=0,r=e.length;n<r;n++)Be.set(e[n],"globalEval",!t||Be.get(t[n],"globalEval"))}function x(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],h=0,d=e.length;h<d;h++)if((o=e[h])||0===o)if("object"===ge.type(o))ge.merge(p,o.nodeType?[o]:o);else if(Ye.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=($e.exec(o)||["",""])[1].toLowerCase(),u=Ge[s]||Ge._default,a.innerHTML=u[1]+ge.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;ge.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",h=0;o=p[h++];)if(r&&ge.inArray(o,r)>-1)i&&i.push(o);else if(l=ge.contains(o.ownerDocument,o),a=y(f.appendChild(o),"script"),l&&b(a),n)for(c=0;o=a[c++];)Je.test(o.type||"")&&n.push(o);return f}function w(){return!0}function _(){return!1}function C(){try{return ne.activeElement}catch(e){}}function k(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)k(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=_;else if(!i)return e;return 1===o&&(a=i,i=function(e){return ge().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ge.guid++)),e.each(function(){ge.event.add(this,t,i,r,n)})}function S(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?ge(">tbody",e)[0]||e:e}function M(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function D(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Be.hasData(e)&&(o=Be.access(e),a=Be.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)ge.event.add(t,i,l[i][n])}Pe.hasData(e)&&(s=Pe.access(e),u=ge.extend({},s),Pe.set(t,u))}}function E(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ue.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function T(e,t,r,i){t=oe.apply([],t);var o,a,s,u,l,c,f=0,p=e.length,h=p-1,d=t[0],g=ge.isFunction(d);if(g||p>1&&"string"==typeof d&&!he.checkClone&&nt.test(d))return e.each(function(n){var o=e.eq(n);g&&(t[0]=d.call(this,n,o.html())),T(o,t,r,i)});if(p&&(o=x(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=ge.map(y(o,"script"),M),u=s.length;f<p;f++)l=o,f!==h&&(l=ge.clone(l,!0,!0),u&&ge.merge(s,y(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,ge.map(s,A),f=0;f<u;f++)l=s[f],Je.test(l.type||"")&&!Be.access(l,"globalEval")&&ge.contains(c,l)&&(l.src?ge._evalUrl&&ge._evalUrl(l.src):n(l.textContent.replace(it,""),c))}return e}function N(e,t,n){for(var r,i=t?ge.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ge.cleanData(y(r)),r.parentNode&&(n&&ge.contains(r.ownerDocument,r)&&b(y(r,"script")),r.parentNode.removeChild(r));return e}function L(e,t,n){var r,i,o,a,s=e.style;return n=n||st(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||ge.contains(e.ownerDocument,e)||(a=ge.style(e,t)),!he.pixelMarginRight()&&at.test(a)&&ot.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function F(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in ht)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=pt.length;n--;)if((e=pt[n]+t)in ht)return e}function B(e){var t=ge.cssProps[e];return t||(t=ge.cssProps[e]=O(e)||e),t}function P(e,t,n){var r=qe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function j(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=ge.css(e,n+He[o],!0,i)),r?("content"===n&&(a-=ge.css(e,"padding"+He[o],!0,i)),"margin"!==n&&(a-=ge.css(e,"border"+He[o]+"Width",!0,i))):(a+=ge.css(e,"padding"+He[o],!0,i),"padding"!==n&&(a+=ge.css(e,"border"+He[o]+"Width",!0,i)));return a}function I(e,t,n){var r,i=st(e),o=L(e,t,i),a="border-box"===ge.css(e,"boxSizing",!1,i);return at.test(o)?o:(r=a&&(he.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+j(e,t,n||(a?"border":"content"),r,i)+"px")}function z(e,t,n,r,i){return new z.prototype.init(e,t,n,r,i)}function q(){gt&&(!1===ne.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(q):e.setTimeout(q,ge.fx.interval),ge.fx.tick())}function H(){return e.setTimeout(function(){dt=void 0}),dt=ge.now()}function R(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=He[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function V(e,t,n){for(var r,i=($.tweeners[t]||[]).concat($.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function W(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,h={},d=e.style,g=e.nodeType&&Re(e),v=Be.get(e,"fxshow");n.queue||(a=ge._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ge.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],vt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}h[r]=v&&v[r]||ge.style(e,r)}if((u=!ge.isEmptyObject(t))||!ge.isEmptyObject(h)){f&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=v&&v.display,null==l&&(l=Be.get(e,"display")),c=ge.css(e,"display"),"none"===c&&(l?c=l:(m([e],!0),l=e.style.display||l,c=ge.css(e,"display"),m([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ge.css(e,"float")&&(u||(p.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in h)u||(v?"hidden"in v&&(g=v.hidden):v=Be.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&m([e],!0),p.done(function(){g||m([e]),Be.remove(e,"fxshow");for(r in h)ge.style(e,r,h[r])})),u=V(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}}function U(e,t){var n,r,i,o,a;for(n in e)if(r=ge.camelCase(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ge.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function $(e,t,n){var r,i,o=0,a=$.prefilters.length,s=ge.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=dt||H(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ge.extend({},t),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||H(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ge.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(U(c,l.opts.specialEasing);o<a;o++)if(r=$.prefilters[o].call(l,e,c,l.opts))return ge.isFunction(r.stop)&&(ge._queueHooks(l.elem,l.opts.queue).stop=ge.proxy(r.stop,r)),r;return ge.map(c,V,l),ge.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ge.fx.timer(ge.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function J(e){return(e.match(Te)||[]).join(" ")}function G(e){return e.getAttribute&&e.getAttribute("class")||""}function Y(e,t,n,r){var i;if(Array.isArray(t))ge.each(t,function(t,i){n||At.test(e)?r(e,i):Y(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==ge.type(t))r(e,t);else for(i in t)Y(e+"["+i+"]",t[i],n,r)}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Te)||[];if(ge.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function K(e,t,n,r){function i(s){var u;return o[s]=!0,ge.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function Z(e,t){var n,r,i=ge.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ge.extend(!0,e,r),e}function Q(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ee(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var te=[],ne=e.document,re=Object.getPrototypeOf,ie=te.slice,oe=te.concat,ae=te.push,se=te.indexOf,ue={},le=ue.toString,ce=ue.hasOwnProperty,fe=ce.toString,pe=fe.call(Object),he={},de="3.2.1",ge=function(e,t){return new ge.fn.init(e,t)},ve=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ye=/-([a-z])/g,be=function(e,t){return t.toUpperCase()};ge.fn=ge.prototype={jquery:de,constructor:ge,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ge.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ge.each(this,e)},map:function(e){return this.pushStack(ge.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:te.sort,splice:te.splice},ge.extend=ge.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ge.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(ge.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&ge.isPlainObject(n)?n:{},a[t]=ge.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ge.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ge.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ge.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==le.call(e)||(t=re(e))&&("function"!=typeof(n=ce.call(t,"constructor")&&t.constructor)||fe.call(n)!==pe))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ue[le.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(me,"ms-").replace(ye,be)},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ve,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?ge.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),ge.isFunction(e))return r=ie.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ie.call(arguments)))},i.guid=e.guid=e.guid||ge.guid++,i},now:Date.now,support:he}),"function"==typeof Symbol&&(ge.fn[Symbol.iterator]=te[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ue["[object "+t+"]"]=t.toLowerCase()});var xe=function(e){function t(e,t,n,r){var i,o,a,s,u,c,p,h=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!r&&((t?t.ownerDocument||t:z)!==N&&T(t),t=t||N,F)){if(11!==d&&(u=ge.exec(e)))if(i=u[1]){if(9===d){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&j(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return X.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&x.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(i)),n}if(x.qsa&&!W[e+" "]&&(!O||!O.test(e))){if(1!==d)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,xe):t.setAttribute("id",s=I),c=k(e),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);p=c.join(","),h=ve.test(e)&&l(t.parentNode)||t}if(p)try{return X.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{s===I&&t.removeAttribute("id")}}}return M(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&_e(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=H++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[q,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[I]||(t[I]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===q&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function d(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[I]&&(i=v(i)),o&&!o[I]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,f,p=[],h=[],v=a.length,m=r||d(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?m:g(m,p,e,s,u),b=n?o||(r?e:v||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,h),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(b[h[c]]=!(y[h[c]]=f));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(y[c]=f);o(null,b=[],l,u)}for(c=b.length;c--;)(f=b[c])&&(l=o?Z(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else b=g(b===a?b.splice(v,b.length):b),o?o(null,a,b,u):X.apply(a,b)})}function m(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return Z(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=w.relative[e[s].type])c=[p(h(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[I]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&m(e.slice(s,r)),r<i&&m(e=e.slice(r)),r<i&&f(e))}c.push(n)}return h(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,h=0,d="0",v=r&&[],m=[],y=A,b=r||o&&w.find.TAG("*",l),x=q+=null==y?1:Math.random()||.1,_=b.length;for(l&&(A=a===N||a||l);d!==_&&null!=(c=b[d]);d++){if(o&&c){for(f=0,a||c.ownerDocument===N||(T(c),s=!F);p=e[f++];)if(p(c,a||N,s)){u.push(c);break}l&&(q=x)}i&&((c=!p&&c)&&h--,r&&v.push(c))}if(h+=d,i&&d!==h){for(f=0;p=n[f++];)p(v,m,a,s);if(r){if(h>0)for(;d--;)v[d]||m[d]||(m[d]=G.call(u));m=g(m)}X.apply(u,m),l&&!r&&m.length>0&&h+n.length>1&&t.uniqueSort(u)}return l&&(q=x,A=y),v};return i?r(a):a}var b,x,w,_,C,k,S,M,A,D,E,T,N,L,F,O,B,P,j,I="sizzle"+1*new Date,z=e.document,q=0,H=0,R=n(),V=n(),W=n(),U=function(e,t){return e===t&&(E=!0),0},$={}.hasOwnProperty,J=[],G=J.pop,Y=J.push,X=J.push,K=J.slice,Z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,de=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){T()},_e=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(J=K.call(z.childNodes),z.childNodes),J[z.childNodes.length].nodeType}catch(e){X={apply:J.length?function(e,t){Y.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:z;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,L=N.documentElement,F=!C(N),z!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=de.test(N.getElementsByClassName),x.getById=i(function(e){return L.appendChild(e).id=I,!N.getElementsByName||!N.getElementsByName(I).length}),x.getById?(w.filter.ID=function(e){var t=e.replace(me,ye);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&F){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(me,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&F){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&F)return t.getElementsByClassName(e)},B=[],O=[],(x.qsa=de.test(N.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+I+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||O.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=de.test(P=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){x.disconnectedMatch=P.call(e,"*"),P.call(e,"[s!='']:x"),B.push("!=",re)}),O=O.length&&new RegExp(O.join("|")),B=B.length&&new RegExp(B.join("|")),t=de.test(L.compareDocumentPosition),j=t||de.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===z&&j(z,e)?-1:t===N||t.ownerDocument===z&&j(z,t)?1:D?Z(D,e)-Z(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===N?-1:t===N?1:i?-1:o?1:D?Z(D,e)-Z(D,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===z?-1:u[r]===z?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&T(e),n=n.replace(ue,"='$1']"),x.matchesSelector&&F&&!W[n+" "]&&(!B||!B.test(n))&&(!O||!O.test(n)))try{var r=P.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&T(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&T(e);var n=w.attrHandle[t.toLowerCase()],r=n&&$.call(w.attrHandle,t.toLowerCase())?n(e,t,!F):void 0;return void 0!==r?r:x.attributes||!F?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,xe)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(E=!x.detectDuplicates,D=!x.sortStable&&e.slice(0),e.sort(U),E){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},_=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=_(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=R[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&R(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,h,d,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(p=v,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],h=l[0]===q&&l[1],b=h&&l[2],p=h&&v.childNodes[h];p=++h&&p&&p[g]||(b=h=0)||d.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[q,h,b];break}}else if(y&&(p=t,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],h=l[0]===q&&l[1],b=h),!1===b)for(;(p=++h&&p&&p[g]||(b=h=0)||d.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(y&&(f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[q,b]),p!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=Z(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(oe,"$1"));return i[I]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(me,ye),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ye).toLowerCase(),function(t){var n;do{if(n=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase()
;return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,k=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=V[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=w.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in w.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):V(e,u).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=m(t[n]),o[I]?r.push(o):i.push(o);o=W(e,y(i,r)),o.selector=e}return o},M=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,p=!r&&k(e=c.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&F&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(me,ye),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(me,ye),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return X.apply(n,r),n;break}}return(c||S(e,p))(r,t,!F,n,!t||ve.test(e)&&l(t.parentNode)||t),n},x.sortStable=I.split("").sort(U).join("")===I,x.detectDuplicates=!!E,T(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Q,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ge.find=xe,ge.expr=xe.selectors,ge.expr[":"]=ge.expr.pseudos,ge.uniqueSort=ge.unique=xe.uniqueSort,ge.text=xe.getText,ge.isXMLDoc=xe.isXML,ge.contains=xe.contains,ge.escapeSelector=xe.escape;var we=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ge(e).is(n))break;r.push(e)}return r},_e=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ce=ge.expr.match.needsContext,ke=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Se=/^.[^:#\[\.,]*$/;ge.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ge.find.matchesSelector(r,e)?[r]:[]:ge.find.matches(e,ge.grep(t,function(e){return 1===e.nodeType}))},ge.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ge(e).filter(function(){for(t=0;t<r;t++)if(ge.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ge.find(e,i[t],n);return r>1?ge.uniqueSort(n):n},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&Ce.test(e)?ge(e):e||[],!1).length}});var Me,Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ge.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Me,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ae.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ge?t[0]:t,ge.merge(this,ge.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),ke.test(r[1])&&ge.isPlainObject(t))for(r in t)ge.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=ne.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ge.isFunction(e)?void 0!==n.ready?n.ready(e):e(ge):ge.makeArray(e,this)}).prototype=ge.fn,Me=ge(ne);var De=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(e){var t=ge(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ge.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ge(e);if(!Ce.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ge.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ge.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ge(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ge.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return we(e,"parentNode")},parentsUntil:function(e,t,n){return we(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return we(e,"nextSibling")},prevAll:function(e){return we(e,"previousSibling")},nextUntil:function(e,t,n){return we(e,"nextSibling",n)},prevUntil:function(e,t,n){return we(e,"previousSibling",n)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e)},children:function(e){return _e(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),ge.merge([],e.childNodes))}},function(e,t){ge.fn[e]=function(n,r){var i=ge.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ge.filter(r,i)),this.length>1&&(Ee[e]||ge.uniqueSort(i),De.test(e)&&i.reverse()),this.pushStack(i)}});var Te=/[^\x20\t\r\n\f]+/g;ge.Callbacks=function(e){e="string"==typeof e?s(e):ge.extend({},e);var t,n,r,i,o=[],a=[],u=-1,l=function(){for(i=i||e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){ge.each(n,function(n,r){ge.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==ge.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return ge.each(arguments,function(e,t){for(var n;(n=ge.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?ge.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ge.extend({Deferred:function(t){var n=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return ge.Deferred(function(t){ge.each(n,function(n,r){var i=ge.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&ge.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,c=arguments,f=function(){var e,f;if(!(t<a)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,ge.isFunction(f)?i?f.call(e,o(a,n,u,i),o(a,n,l,i)):(a++,f.call(e,o(a,n,u,i),o(a,n,l,i),o(a,n,u,n.notifyWith))):(r!==u&&(s=void 0,c=[e]),(i||n.resolveWith)(s,c))}},p=i?f:function(){try{f()}catch(e){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==l&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?p():(ge.Deferred.getStackHook&&(p.stackTrace=ge.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return ge.Deferred(function(e){n[0][3].add(o(0,e,ge.isFunction(i)?i:u,e.notifyWith)),n[1][3].add(o(0,e,ge.isFunction(t)?t:u)),n[2][3].add(o(0,e,ge.isFunction(r)?r:l))}).promise()},promise:function(e){return null!=e?ge.extend(e,i):i}},o={};return ge.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ie.call(arguments),o=ge.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ie.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(c(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||ge.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)c(i[n],a(n),o.reject);return o.promise()}});var Ne=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ne.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},ge.readyException=function(t){e.setTimeout(function(){throw t})};var Le=ge.Deferred();ge.fn.ready=function(e){return Le.then(e).catch(function(e){ge.readyException(e)}),this},ge.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ge.readyWait:ge.isReady)||(ge.isReady=!0,!0!==e&&--ge.readyWait>0||Le.resolveWith(ne,[ge]))}}),ge.ready.then=Le.then,"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll?e.setTimeout(ge.ready):(ne.addEventListener("DOMContentLoaded",f),e.addEventListener("load",f));var Fe=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ge.type(n)){i=!0;for(s in n)Fe(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ge.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ge(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1,p.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ge.camelCase(t)]=n;else for(r in t)i[ge.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ge.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(ge.camelCase):(t=ge.camelCase(t),t=t in r?[t]:t.match(Te)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||ge.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ge.isEmptyObject(t)}};var Be=new p,Pe=new p,je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;ge.extend({hasData:function(e){return Pe.hasData(e)||Be.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),ge.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Pe.get(o),1===o.nodeType&&!Be.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ge.camelCase(r.slice(5)),d(o,r,i[r])));Be.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):Fe(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Pe.get(o,e)))return n;if(void 0!==(n=d(o,e)))return n}else this.each(function(){Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),ge.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Be.get(e,t),n&&(!r||Array.isArray(n)?r=Be.access(e,t,ge.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ge.queue(e,t),r=n.length,i=n.shift(),o=ge._queueHooks(e,t),a=function(){ge.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Be.get(e,n)||Be.access(e,n,{empty:ge.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",n])})})}}),ge.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ge.queue(this[0],e):void 0===t?this:this.each(function(){var n=ge.queue(this,e,t);ge._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ge.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ge.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ge.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Be.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ge.contains(e.ownerDocument,e)&&"none"===ge.css(e,"display")},Ve=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},We={};ge.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?ge(this).show():ge(this).hide()})}});var Ue=/^(?:checkbox|radio)$/i,$e=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Je=/^$|\/(?:java|ecma)script/i,Ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Ye=/<|&#?\w+;/;!function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),he.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Xe=ne.documentElement,Ke=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;ge.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,h,d,g,v=Be.get(e);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&ge.find.matchesSelector(Xe,i),n.guid||(n.guid=ge.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==ge&&ge.event.triggered!==t.type?ge.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Te)||[""],l=t.length;l--;)s=Qe.exec(t[l])||[],h=g=s[1],d=(s[2]||"").split(".").sort(),h&&(f=ge.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=ge.event.special[h]||{},c=ge.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ge.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[h])||(p=u[h]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(h,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ge.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,h,d,g,v=Be.hasData(e)&&Be.get(e);if(v&&(u=v.events)){for(t=(t||"").match(Te)||[""],l=t.length;l--;)if(s=Qe.exec(t[l])||[],h=g=s[1],d=(s[2]||"").split(".").sort(),h){for(f=ge.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,p=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,d,v.handle)||ge.removeEvent(e,h,v.handle),delete u[h])}else for(h in u)ge.event.remove(e,h+t[l],n,r,!0);ge.isEmptyObject(u)&&Be.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=ge.event.fix(e),u=new Array(arguments.length),l=(Be.get(this,"events")||{})[s.type]||[],c=ge.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=ge.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((ge.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?ge(i,this).index(l)>-1:ge.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(ge.Event.prototype,e,{enumerable:!0,configurable:!0,get:ge.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ge.expando]?e:new ge.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ge.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ge.Event=function(e,t){return this instanceof ge.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?w:_,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ge.extend(this,t),this.timeStamp=e&&e.timeStamp||ge.now(),void(this[ge.expando]=!0)):new ge.Event(e,t)},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ke.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ze.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ge.event.addProp),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ge.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ge.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ge.fn.extend({on:function(e,t,n,r){return k(this,e,t,n,r)},one:function(e,t,n,r){return k(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ge(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=_),this.each(function(){ge.event.remove(this,e,n,t)})}});var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ge.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ge.contains(e.ownerDocument,e);if(!(he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ge.isXMLDoc(e)))for(a=y(s),o=y(e),r=0,i=o.length;r<i;r++)E(o[r],a[r]);if(t)if(n)for(o=o||y(e),a=a||y(s),r=0,i=o.length;r<i;r++)D(o[r],a[r]);else D(e,s);return a=y(s,"script"),a.length>0&&b(a,!u&&y(e,"script")),s},cleanData:function(e){for(var t,n,r,i=ge.event.special,o=0;void 0!==(n=e[o]);o++)if(Oe(n)){if(t=n[Be.expando]){if(t.events)for(r in t.events)i[r]?ge.event.remove(n,r):ge.removeEvent(n,r,t.handle);n[Be.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),ge.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?ge.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){S(this,e).appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ge.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ge.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tt.test(e)&&!Ge[($e.exec(e)||["",""])[1].toLowerCase()]){e=ge.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ge.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;ge.inArray(this,e)<0&&(ge.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ge.fn[e]=function(e){for(var n,r=[],i=ge(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ge(i[a])[t](n),ae.apply(r,n.get());return this.pushStack(r)}});var ot=/^margin/,at=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),st=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Xe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Xe.removeChild(a),s=null}}var n,r,i,o,a=ne.createElement("div"),s=ne.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ge.extend(he,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var ut=/^(none|table(?!-c[ea]).+)/,lt=/^--/,ct={position:"absolute",visibility:"hidden",display:"block"},ft={letterSpacing:"0",fontWeight:"400"},pt=["Webkit","Moz","ms"],ht=ne.createElement("div").style;ge.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=L(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ge.camelCase(t),u=lt.test(t),l=e.style;return u||(t=B(s)),a=ge.cssHooks[t]||ge.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=qe.exec(n))&&i[1]&&(n=g(e,t,i),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ge.cssNumber[s]?"":"px")),he.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=ge.camelCase(t);return lt.test(t)||(t=B(s)),a=ge.cssHooks[t]||ge.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=L(e,t,r)),"normal"===i&&t in ft&&(i=ft[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ge.each(["height","width"],function(e,t){ge.cssHooks[t]={get:function(e,n,r){if(n)return!ut.test(ge.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?I(e,t,r):Ve(e,ct,function(){return I(e,t,r)})},set:function(e,n,r){var i,o=r&&st(e),a=r&&j(e,t,r,"border-box"===ge.css(e,"boxSizing",!1,o),o);return a&&(i=qe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=ge.css(e,t)),P(e,n,a)}}}),ge.cssHooks.marginLeft=F(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ge.each({margin:"",padding:"",border:"Width"},function(e,t){ge.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+He[r]+t]=o[r]||o[r-2]||o[0];return i}},ot.test(e)||(ge.cssHooks[e+t].set=P)}),ge.fn.extend({css:function(e,t){return Fe(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=st(e),i=t.length;a<i;a++)o[t[a]]=ge.css(e,t[a],!1,r);return o}return void 0!==n?ge.style(e,t,n):ge.css(e,t)},e,t,arguments.length>1)}}),ge.Tween=z,z.prototype={constructor:z,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ge.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ge.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.options.duration?this.pos=t=ge.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ge.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ge.fx.step[e.prop]?ge.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ge.cssProps[e.prop]]&&!ge.cssHooks[e.prop]?e.elem[e.prop]=e.now:ge.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ge.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ge.fx=z.prototype.init,ge.fx.step={};var dt,gt,vt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;ge.Animation=ge.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return g(n.elem,e,qe.exec(t),n),n}]},tweener:function(e,t){ge.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var n,r=0,i=e.length;r<i;r++)n=e[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),ge.speed=function(e,t,n){var r=e&&"object"==typeof e?ge.extend({},e):{complete:n||!n&&t||ge.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ge.isFunction(t)&&t};return ge.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ge.fx.speeds?r.duration=ge.fx.speeds[r.duration]:r.duration=ge.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ge.isFunction(r.old)&&r.old.call(this),r.queue&&ge.dequeue(this,r.queue)},r},ge.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ge.isEmptyObject(e),o=ge.speed(t,n,r),a=function(){var t=$(this,ge.extend({},e),o);(i||Be.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ge.timers,a=Be.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&mt.test(i)&&r(a[i])
;for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ge.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Be.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ge.timers,a=r?r.length:0;for(n.finish=!0,ge.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ge.each(["toggle","show","hide"],function(e,t){var n=ge.fn[t];ge.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,r,i)}}),ge.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ge.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ge.timers=[],ge.fx.tick=function(){var e,t=0,n=ge.timers;for(dt=ge.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ge.fx.stop(),dt=void 0},ge.fx.timer=function(e){ge.timers.push(e),ge.fx.start()},ge.fx.interval=13,ge.fx.start=function(){gt||(gt=!0,q())},ge.fx.stop=function(){gt=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(t,n){return t=ge.fx?ge.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",he.checkOn=""!==e.value,he.optSelected=n.selected,e=ne.createElement("input"),e.value="t",e.type="radio",he.radioValue="t"===e.value}();var yt,bt=ge.expr.attrHandle;ge.fn.extend({attr:function(e,t){return Fe(this,ge.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ge.removeAttr(this,e)})}}),ge.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ge.prop(e,t,n):(1===o&&ge.isXMLDoc(e)||(i=ge.attrHooks[t.toLowerCase()]||(ge.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void ge.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ge.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Te);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?ge.removeAttr(e,n):e.setAttribute(n,n),n}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(e,t){var n=bt[t]||ge.find.attr;bt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=bt[a],bt[a]=i,i=null!=n(e,t,r)?a:null,bt[a]=o),i}});var xt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;ge.fn.extend({prop:function(e,t){return Fe(this,ge.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ge.propFix[e]||e]})}}),ge.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ge.isXMLDoc(e)||(t=ge.propFix[t]||t,i=ge.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ge.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.optSelected||(ge.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this}),ge.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(ge.isFunction(e))return this.each(function(t){ge(this).addClass(e.call(this,t,G(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[u++];)if(i=G(n),r=1===n.nodeType&&" "+J(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=J(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(ge.isFunction(e))return this.each(function(t){ge(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[u++];)if(i=G(n),r=1===n.nodeType&&" "+J(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=J(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ge.isFunction(e)?this.each(function(n){ge(this).toggleClass(e.call(this,n,G(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=ge(this),o=e.match(Te)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=G(this),t&&Be.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Be.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+J(G(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;ge.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=ge.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ge(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=ge.map(i,function(e){return null==e?"":e+""})),(t=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=ge.valHooks[i.type]||ge.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(_t,""):null==n?"":n)):void 0}}),ge.extend({valHooks:{option:{get:function(e){var t=ge.find.attr(e,"value");return null!=t?t:J(ge.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:o.length;for(r=a<0?l:s?a:0;r<l;r++)if(n=o[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=ge(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,r,i=e.options,o=ge.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=ge.inArray(ge.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ge.inArray(ge(e).val(),t)>-1}},he.checkOn||(ge.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ct=/^(?:focusinfocus|focusoutblur)$/;ge.extend(ge.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p=[r||ne],h=ce.call(t,"type")?t.type:t,d=ce.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||ne,3!==r.nodeType&&8!==r.nodeType&&!Ct.test(h+ge.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[ge.expando]?t:new ge.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ge.makeArray(n,[t]),f=ge.event.special[h]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!ge.isWindow(r)){for(u=f.delegateType||h,Ct.test(u+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||ne)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||h,c=(Be.get(a,"events")||{})[t.type]&&Be.get(a,"handle"),c&&c.apply(a,n),(c=l&&a[l])&&c.apply&&Oe(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),n)||!Oe(r)||l&&ge.isFunction(r[h])&&!ge.isWindow(r)&&(s=r[l],s&&(r[l]=null),ge.event.triggered=h,r[h](),ge.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=ge.extend(new ge.Event,n,{type:e,isSimulated:!0});ge.event.trigger(r,null,t)}}),ge.fn.extend({trigger:function(e,t){return this.each(function(){ge.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ge.event.trigger(e,t,n,!0)}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ge.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ge.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),he.focusin="onfocusin"in e,he.focusin||ge.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ge.event.simulate(t,e.target,ge.event.fix(e))};ge.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Be.access(r,t);i||r.addEventListener(e,n,!0),Be.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Be.access(r,t)-1;i?Be.access(r,t,i):(r.removeEventListener(e,n,!0),Be.remove(r,t))}}});var kt=e.location,St=ge.now(),Mt=/\?/;ge.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ge.error("Invalid XML: "+t),n};var At=/\[\]$/,Dt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;ge.param=function(e,t){var n,r=[],i=function(e,t){var n=ge.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ge.isPlainObject(e))ge.each(e,function(){i(this.name,this.value)});else for(n in e)Y(n,e[n],t,i);return r.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ge.prop(this,"elements");return e?ge.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ge(this).is(":disabled")&&Tt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Ue.test(e))}).map(function(e,t){var n=ge(this).val();return null==n?null:Array.isArray(n)?ge.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Nt=/%20/g,Lt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,jt=/^\/\//,It={},zt={},qt="*/".concat("*"),Ht=ne.createElement("a");Ht.href=kt.href,ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:Bt.test(kt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Z(Z(e,ge.ajaxSettings),t):Z(ge.ajaxSettings,e)},ajaxPrefilter:X(It),ajaxTransport:X(zt),ajax:function(t,n){function r(t,n,r,s){var l,p,h,x,w,_=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(x=Q(d,C,r)),x=ee(d,x,C,l),l?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(ge.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(ge.etag[o]=w)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=x.state,p=x.data,h=x.error,l=!h)):(h=_,!t&&_||(_="error",t<0&&(t=0))),C.status=t,C.statusText=(n||_)+"",l?m.resolveWith(g,[p,_,C]):m.rejectWith(g,[C,_,h]),C.statusCode(b),b=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[C,d,l?p:h]),y.fireWith(g,[C,_]),f&&(v.trigger("ajaxComplete",[C,d]),--ge.active||ge.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,h,d=ge.ajaxSetup({},n),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?ge(g):ge.event,m=ge.Deferred(),y=ge.Callbacks("once memory"),b=d.statusCode||{},x={},w={},_="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ot.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return i&&i.abort(t),r(0,t),this}};if(m.promise(C),d.url=((t||d.url||kt.href)+"").replace(jt,kt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Te)||[""],null==d.crossDomain){l=ne.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ht.protocol+"//"+Ht.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ge.param(d.data,d.traditional)),K(It,d,n,C),c)return C;f=ge.event&&d.global,f&&0==ge.active++&&ge.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url.replace(Lt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Nt,"+")):(h=d.url.slice(o.length),d.data&&(o+=(Mt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(o=o.replace(Ft,"$1"),h=(Mt.test(o)?"&":"?")+"_="+St+++h),d.url=o+h),d.ifModified&&(ge.lastModified[o]&&C.setRequestHeader("If-Modified-Since",ge.lastModified[o]),ge.etag[o]&&C.setRequestHeader("If-None-Match",ge.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qt+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)C.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(g,C,d)||c))return C.abort();if(_="abort",y.add(d.complete),C.done(d.success),C.fail(d.error),i=K(zt,d,n,C)){if(C.readyState=1,f&&v.trigger("ajaxSend",[C,d]),c)return C;d.async&&d.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},d.timeout));try{c=!1,i.send(x,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return ge.get(e,t,n,"json")},getScript:function(e,t){return ge.get(e,void 0,t,"script")}}),ge.each(["get","post"],function(e,t){ge[t]=function(e,n,r,i){return ge.isFunction(n)&&(i=i||r,r=n,n=void 0),ge.ajax(ge.extend({url:e,type:t,dataType:i,data:n,success:r},ge.isPlainObject(e)&&e))}}),ge._evalUrl=function(e){return ge.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ge.fn.extend({wrapAll:function(e){var t;return this[0]&&(ge.isFunction(e)&&(e=e.call(this[0])),t=ge(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ge.isFunction(e)?this.each(function(t){ge(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ge(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ge.isFunction(e);return this.each(function(n){ge(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(e){return!ge.expr.pseudos.visible(e)},ge.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Rt={0:200,1223:204},Vt=ge.ajaxSettings.xhr();he.cors=!!Vt&&"withCredentials"in Vt,he.ajax=Vt=!!Vt,ge.ajaxTransport(function(t){var n,r;if(he.cors||Vt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Rt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ge.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ge.globalEval(e),e}}}),ge.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ge.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ge("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Wt=[],Ut=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||ge.expando+"_"+St++;return this[e]=!0,e}}),ge.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Ut.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ge.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ut,"$1"+i):!1!==t.jsonp&&(t.url+=(Mt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ge.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?ge(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Wt.push(i)),a&&ge.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),he.createHTMLDocument=function(){var e=ne.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ge.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(he.createHTMLDocument?(t=ne.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ne.location.href,t.head.appendChild(r)):t=ne),i=ke.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=x([e],t,o),o&&o.length&&ge(o).remove(),ge.merge([],i.childNodes))},ge.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=J(e.slice(s)),e=e.slice(0,s)),ge.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&ge.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ge("<div>").append(ge.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ge.fn[t]=function(e){return this.on(t,e)}}),ge.expr.pseudos.animated=function(e){return ge.grep(ge.timers,function(t){return e===t.elem}).length},ge.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ge.css(e,"position"),f=ge(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=ge.css(e,"top"),u=ge.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ge.isFunction(t)&&(t=t.call(e,n,ge.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},ge.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ge.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];return o?o.getClientRects().length?(r=o.getBoundingClientRect(),t=o.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ge.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),i(e[0],"html")||(r=e.offset()),r={top:r.top+ge.css(e[0],"borderTopWidth",!0),left:r.left+ge.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-ge.css(n,"marginTop",!0),left:t.left-r.left-ge.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ge.css(e,"position");)e=e.offsetParent;return e||Xe})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ge.fn[e]=function(r){return Fe(this,function(e,r,i){var o;return ge.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),ge.each(["top","left"],function(e,t){ge.cssHooks[t]=F(he.pixelPosition,function(e,n){if(n)return n=L(e,t),at.test(n)?ge(e).position()[t]+"px":n})}),ge.each({Height:"height",Width:"width"},function(e,t){ge.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ge.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Fe(this,function(t,n,i){var o;return ge.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ge.css(t,n,s):ge.style(t,n,i,s)},t,a?i:void 0,a)}})}),ge.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ge.holdReady=function(e){e?ge.readyWait++:ge.ready(!0)},ge.isArray=Array.isArray,ge.parseJSON=JSON.parse,ge.nodeName=i,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ge});var $t=e.jQuery,Jt=e.$;return ge.noConflict=function(t){return e.$===ge&&(e.$=Jt),t&&e.jQuery===ge&&(e.jQuery=$t),ge},t||(e.jQuery=e.$=ge),ge}),function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function t(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function n(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function r(e){return null===e?NaN:+e}function i(e){return!isNaN(e)}function o(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function a(e){return e.length}function s(e){for(var t=1;e*t%1;)t*=10;return t}function u(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(e){return(e+="")===ba||e[0]===xa?xa+e:e}function f(e){return(e+="")[0]===xa?e.slice(1):e}function p(e){return c(e)in this._}function h(e){return(e=c(e))in this._&&delete this._[e]}function d(){var e=[];for(var t in this._)e.push(f(t));return e}function g(){var e=0;for(var t in this._)++e;return e}function v(){for(var e in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(e){return e}function b(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function x(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=wa.length;r>n;++n){var i=wa[n]+t;if(i in e)return i}}function w(){}function _(){}function C(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new l;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function k(){ua.event.preventDefault()}function S(){for(var e,t=ua.event;e=t.sourceEvent;)t=e;return t}function M(e){for(var t=new _,n=0,r=arguments.length;++n<r;)t[arguments[n]]=C(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=ua.event;i.target=e,ua.event=i,t[i.type].apply(n,r)}finally{ua.event=o}}},t}function A(e){return Ca(e,Aa),e}function D(e){return"function"==typeof e?e:function(){return ka(e,this)}}function E(e){return"function"==typeof e?e:function(){return Sa(e,this)}}function T(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ua.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?o:i}function N(e){return e.trim().replace(/\s+/g," ")}function L(e){return new RegExp("(?:^|\\s+)"+ua.requote(e)+"(?:\\s+|$)","g")}function F(e){return(e+"").trim().split(/^|\s+/)}function O(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=F(e).map(B);var i=e.length;return"function"==typeof t?r:n}function B(e){var t=L(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",N(i+" "+e))):n.setAttribute("class",N(i.replace(t," ")))}}function P(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function j(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function I(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===Da&&t.documentElement.namespaceURI===Da?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=ua.ns.qualify(e)).local?n:t}function z(){var e=this.parentNode;e&&e.removeChild(this)}function q(e){return{__data__:e}}function H(e){return function(){return Ma(this,e)}}function R(e){return arguments.length||(e=n),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function V(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function W(e){return Ca(e,Ta),e}function U(e){var t,n;return function(r,i,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<u;);return a}}function $(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=u(t,ca(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+ua.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),u=J;s>0&&(e=e.slice(0,s));var l=Na.get(e);return l&&(e=l,u=G),s?t?i:r:t?w:o}function J(e,t){return function(n){var r=ua.event;ua.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ua.event=r}}}function G(e,t){var n=J(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function Y(n){var r=".dragsuppress-"+ ++Fa,i="click"+r,o=ua.select(t(n)).on("touchmove"+r,k).on("dragstart"+r,k).on("selectstart"+r,k);if(null==La&&(La=!("onselectstart"in n)&&x(n.style,"userSelect")),La){var a=e(n).style,s=a[La];a[La]="none"}return function(e){if(o.on(r,null),La&&(a[La]=s),e){var t=function(){o.on(i,null)};o.on(i,function(){k(),t()},!0),setTimeout(t,0)}}}function X(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Oa){var o=t(e);if(o.scrollX||o.scrollY){r=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Oa=!(a.f||a.e),r.remove()}}return Oa?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}function K(){return ua.event.changedTouches[0].identifier}function Z(e){return e>0?1:0>e?-1:0}function Q(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ee(e){return e>1?0:-1>e?ja:Math.acos(e)}function te(e){return e>1?qa:-1>e?-qa:Math.asin(e)}function ne(e){return((e=Math.exp(e))-1/e)/2}function re(e){return((e=Math.exp(e))+1/e)/2}function ie(e){return((e=Math.exp(2*e))-1)/(e+1)}function oe(e){return(e=Math.sin(e/2))*e}function ae(){}function se(e,t,n){return this instanceof se?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof se?new se(e.h,e.s,e.l):we(""+e,_e,se):new se(e,t,n)}function ue(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(a-o)*e/60:180>e?a:240>e?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,o=2*n-a,new me(i(e+120),i(e),i(e-120))}function le(e,t,n){return this instanceof le?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof le?new le(e.h,e.c,e.l):e instanceof fe?he(e.l,e.a,e.b):he((e=Ce((e=ua.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new le(e,t,n)}function ce(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new fe(n,Math.cos(e*=Ha)*t,Math.sin(e)*t)}function fe(e,t,n){return this instanceof fe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof fe?new fe(e.l,e.a,e.b):e instanceof le?ce(e.h,e.c,e.l):Ce((e=me(e)).r,e.g,e.b):new fe(e,t,n)}function pe(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=de(i)*Xa,r=de(r)*Ka,o=de(o)*Za,new me(ve(3.2404542*i-1.5371385*r-.4985314*o),ve(-.969266*i+1.8760108*r+.041556*o),ve(.0556434*i-.2040259*r+1.0572252*o))}function he(e,t,n){return e>0?new le(Math.atan2(n,t)*Ra,Math.sqrt(t*t+n*n),e):new le(NaN,NaN,e)}function de(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ge(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ve(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function me(e,t,n){return this instanceof me?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof me?new me(e.r,e.g,e.b):we(""+e,me,ue):new me(e,t,n)}function ye(e){return new me(e>>16,e>>8&255,255&e)}function be(e){return ye(e)+""}function xe(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function we(e,t,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Se(i[0]),Se(i[1]),Se(i[2]))}
return(o=ts.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),t(a,s,u))}function _e(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=u>0&&1>u?0:r),new se(r,i,u)}function Ce(e,t,n){e=ke(e),t=ke(t),n=ke(n);var r=ge((.4124564*e+.3575761*t+.1804375*n)/Xa),i=ge((.2126729*e+.7151522*t+.072175*n)/Ka);return fe(116*i-16,500*(r-i),200*(i-ge((.0193339*e+.119192*t+.9503041*n)/Za)))}function ke(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Se(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Me(e){return"function"==typeof e?e:function(){return e}}function Ae(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),De(t,n,e,r)}}function De(e,t,n,r){function i(){var e,t=u.status;if(!t&&Te(u)||t>=200&&300>t||304===t){try{e=n.call(o,u)}catch(e){return void a.error.call(o,e)}a.load.call(o,e)}else a.error.call(o,u)}var o={},a=ua.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(e){var t=ua.event;ua.event=e;try{a.progress.call(o,u)}finally{ua.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(l=e,o):l},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(ca(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},ua.rebind(o,a,"on"),null==r?o:o.get(Ee(r))}function Ee(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Te(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ne(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,n:null};return rs?rs.n=o:ns=o,rs=o,is||(os=clearTimeout(os),is=1,as(Le)),o}function Le(){var e=Fe(),t=Oe()-e;t>24?(isFinite(t)&&(clearTimeout(os),os=setTimeout(Le,t)),is=0):(is=1,as(Le))}function Fe(){for(var e=Date.now(),t=ns;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Oe(){for(var e,t=ns,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ns=t.n;return rs=e,n}function Be(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Pe(e,t){var n=Math.pow(10,3*ya(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function je(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:y;return function(e){var n=us.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],p=n[8],h=n[9],d=1,g="",v="",m=!1,y=!0;switch(p&&(p=+p.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),h){case"n":f=!0,h="g";break;case"%":d=100,v="%",h="f";break;case"p":d=100,v="%",h="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+h.toLowerCase());case"c":y=!1;case"d":m=!0,p=0;break;case"s":d=-1,h="r"}"$"===u&&(g=i[0],v=i[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=Math.max(1,Math.min(21,p)):"e"!=h&&"f"!=h||(p=Math.max(0,Math.min(20,p)))),h=ls.get(h)||Ie;var b=l&&f;return function(e){var n=v;if(m&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>d){var u=ua.formatPrefix(e,p);e=u.scale(e),n=u.symbol+v}else e*=d;e=h(e,p);var x,w,_=e.lastIndexOf(".");if(0>_){var C=y?e.lastIndexOf("e"):-1;0>C?(x=e,w=""):(x=e.substring(0,C),w=e.substring(C))}else x=e.substring(0,_),w=t+e.substring(_+1);!l&&f&&(x=o(x,1/0));var k=g.length+x.length+w.length+(b?0:i.length),S=c>k?new Array(k=c-k+1).join(r):"";return b&&(x=o(S+x,S.length?c-w.length:1/0)),i+=g,e=x+w,("<"===a?i+e+S:">"===a?S+i+e:"^"===a?S.substring(0,k>>=1)+i+e+S.substring(k):i+(b?e:S+e))+n}}}function Ie(e){return e+""}function ze(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function qe(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new fs(n-1)),1),n}function o(e,n){return t(e=new fs(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{fs=ze;var r=new ze;return r._=e,a(r,t,n)}finally{fs=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var u=e.utc=He(e);return u.floor=u,u.round=He(r),u.ceil=He(i),u.offset=He(o),u.range=s,e}function He(e){return function(t,n){try{fs=ze;var r=new ze;return r._=t,e(r,n)._}finally{fs=Date}}}function Re(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=hs[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=D[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(e.slice(u,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,e,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&fs!==ze,o=new(i?ze:fs);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,u=t.length,l=n.length;u>s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=E[a in hs?t.charAt(s++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){M.lastIndex=0;var r=M.exec(t.slice(n));return r?(e.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){k.lastIndex=0;var r=k.exec(t.slice(n));return r?(e.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,D.c.toString(),t,r)}function u(e,t,r){return n(e,D.x.toString(),t,r)}function l(e,t,r){return n(e,D.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var f=e.dateTime,p=e.date,h=e.time,d=e.periods,g=e.days,v=e.shortDays,m=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{fs=ze;var t=new fs;return t._=e,r(t)}finally{fs=Date}}var r=t(e);return n.parse=function(e){try{fs=ze;var t=r.parse(e);return t&&t._}finally{fs=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ut;var b=ua.map(),x=We(g),w=Ue(g),_=We(v),C=Ue(v),k=We(m),S=Ue(m),M=We(y),A=Ue(y);d.forEach(function(e,t){b.set(e.toLowerCase(),t)});var D={a:function(e){return v[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return m[e.getMonth()]},c:t(f),d:function(e,t){return Ve(e.getDate(),t,2)},e:function(e,t){return Ve(e.getDate(),t,2)},H:function(e,t){return Ve(e.getHours(),t,2)},I:function(e,t){return Ve(e.getHours()%12||12,t,2)},j:function(e,t){return Ve(1+cs.dayOfYear(e),t,3)},L:function(e,t){return Ve(e.getMilliseconds(),t,3)},m:function(e,t){return Ve(e.getMonth()+1,t,2)},M:function(e,t){return Ve(e.getMinutes(),t,2)},p:function(e){return d[+(e.getHours()>=12)]},S:function(e,t){return Ve(e.getSeconds(),t,2)},U:function(e,t){return Ve(cs.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ve(cs.mondayOfYear(e),t,2)},x:t(p),X:t(h),y:function(e,t){return Ve(e.getFullYear()%100,t,2)},Y:function(e,t){return Ve(e.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},E={a:r,A:i,b:o,B:a,c:s,d:et,e:et,H:nt,I:nt,j:tt,L:ot,m:Qe,M:rt,p:c,S:it,U:Je,w:$e,W:Ge,x:u,X:l,y:Xe,Y:Ye,Z:Ke,"%":st};return t}function Ve(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function We(e){return new RegExp("^(?:"+e.map(ua.requote).join("|")+")","i")}function Ue(e){for(var t=new l,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function $e(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Je(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Ge(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ye(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Xe(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.y=Ze(+r[0]),n+r[0].length):-1}function Ke(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Ze(e){return e+(e>68?1900:2e3)}function Qe(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function et(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function nt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function it(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ot(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function at(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=ya(t)/60|0,i=ya(t)%60;return n+Ve(r,"0",2)+Ve(i,"0",2)}function st(e,t,n){gs.lastIndex=0;var r=gs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ut(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function lt(){}function ct(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function ft(e,t){e&&bs.hasOwnProperty(e.type)&&bs[e.type](e,t)}function pt(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ht(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)pt(e[n],t,1);t.polygonEnd()}function dt(){function e(e,t){e*=Ha,t=t*Ha/2+ja/4;var n=e-r,a=n>=0?1:-1,s=a*n,u=Math.cos(t),l=Math.sin(t),c=o*l,f=i*u+c*Math.cos(s),p=c*a*Math.sin(s);ws.add(Math.atan2(p,f)),r=e,i=u,o=l}var t,n,r,i,o;_s.point=function(a,s){_s.point=e,r=(t=a)*Ha,i=Math.cos(s=(n=s)*Ha/2+ja/4),o=Math.sin(s)},_s.lineEnd=function(){e(t,n)}}function gt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function vt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function bt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function xt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function wt(e){return[Math.atan2(e[1],e[0]),te(e[2])]}function _t(e,t){return ya(e[0]-t[0])<Ba&&ya(e[1]-t[1])<Ba}function Ct(e,t){e*=Ha;var n=Math.cos(t*=Ha);kt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function kt(e,t,n){++Cs,Ss+=(e-Ss)/Cs,Ms+=(t-Ms)/Cs,As+=(n-As)/Cs}function St(){function e(e,i){e*=Ha;var o=Math.cos(i*=Ha),a=o*Math.cos(e),s=o*Math.sin(e),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-t*u)*l+(l=t*s-n*a)*l),t*a+n*s+r*u);ks+=l,Ds+=l*(t+(t=a)),Es+=l*(n+(n=s)),Ts+=l*(r+(r=u)),kt(t,n,r)}var t,n,r;Os.point=function(i,o){i*=Ha;var a=Math.cos(o*=Ha);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Os.point=e,kt(t,n,r)}}function Mt(){Os.point=Ct}function At(){function e(e,t){e*=Ha;var n=Math.cos(t*=Ha),a=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),l=i*u-o*s,c=o*a-r*u,f=r*s-i*a,p=Math.sqrt(l*l+c*c+f*f),h=r*a+i*s+o*u,d=p&&-ee(h)/p,g=Math.atan2(p,h);Ns+=d*l,Ls+=d*c,Fs+=d*f,ks+=g,Ds+=g*(r+(r=a)),Es+=g*(i+(i=s)),Ts+=g*(o+(o=u)),kt(r,i,o)}var t,n,r,i,o;Os.point=function(a,s){t=a,n=s,Os.point=e,a*=Ha;var u=Math.cos(s*=Ha);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),kt(r,i,o)},Os.lineEnd=function(){e(t,n),Os.lineEnd=Mt,Os.point=Ct}}function Dt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Et(){return!0}function Tt(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(_t(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var u=new Lt(n,e,null,!0),l=new Lt(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Lt(r,e,null,!1),l=new Lt(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(t),Nt(o),Nt(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,f,p=o[0];;){for(var h=p,d=!0;h.v;)if((h=h.n)===p)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(var s=0,l=c.length;l>s;++s)i.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d){c=h.p.z;for(var s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);i.lineEnd()}}}function Nt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Lt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ft(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function s(e,t){var n=i(e,t);v.point(n[0],n[1])}function u(){y.point=s,v.lineStart()}function l(){y.point=a,v.lineEnd()}function c(e,t){g.push([e,t]);var n=i(e,t);x.point(n[0],n[1])}function f(){x.lineStart(),g=[]}function p(){c(g[0][0],g[0][1]),x.lineEnd();var e,t=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),d.push(g),g=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ot))}var h,d,g,v=t(o),m=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=p,h=[],d=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,h=ua.merge(h);var e=qt(m,d);h.length?(w||(o.polygonStart(),w=!0),Tt(h,Pt,e,n,o)):e&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),h=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Bt(),x=t(b),w=!1;return y}}function Ot(e){return e.length>1}function Bt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Pt(e,t){return((e=e.x)[0]<0?e[1]-qa-Ba:qa-e[1])-((t=t.x)[0]<0?t[1]-qa-Ba:qa-t[1])}function jt(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?ja:-ja,u=ya(o-n);ya(u-ja)<Ba?(e.point(n,r=(r+a)/2>0?qa:-qa),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=ja&&(ya(n-i)<Ba&&(n-=i*Ba),ya(o-s)<Ba&&(o-=s*Ba),r=It(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function It(e,t,n,r){var i,o,a=Math.sin(e-n);return ya(a)>Ba?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function zt(e,t,n,r){var i;if(null==e)i=n*qa,r.point(-ja,i),r.point(0,i),r.point(ja,i),r.point(ja,0),r.point(ja,-i),r.point(0,-i),r.point(-ja,-i),r.point(-ja,0),r.point(-ja,i);else if(ya(e[0]-t[0])>Ba){var o=e[0]<t[0]?ja:-ja;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function qt(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;ws.reset();for(var s=0,u=t.length;u>s;++s){var l=t[s],c=l.length;if(c)for(var f=l[0],p=f[0],h=f[1]/2+ja/4,d=Math.sin(h),g=Math.cos(h),v=1;;){v===c&&(v=0),e=l[v];var m=e[0],y=e[1]/2+ja/4,b=Math.sin(y),x=Math.cos(y),w=m-p,_=w>=0?1:-1,C=_*w,k=C>ja,S=d*b;if(ws.add(Math.atan2(S*_*Math.sin(C),g*x+S*Math.cos(C))),o+=k?w+_*Ia:w,k^p>=n^m>=n){var M=mt(gt(f),gt(e));xt(M);var A=mt(i,M);xt(A);var D=(k^w>=0?-1:1)*te(A[2]);(r>D||r===D&&(M[0]||M[1]))&&(a+=k^w>=0?1:-1)}if(!v++)break;p=m,d=b,g=x,f=e}}return(-Ba>o||Ba>o&&-Ba>ws)^1&a}function Ht(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,p){var h,d=[f,p],g=t(f,p),v=a?g?0:i(f,p):g?i(f+(0>f?ja:-ja),p):0;if(!n&&(l=u=g)&&e.lineStart(),g!==u&&(h=r(n,d),(_t(n,h)||_t(d,h))&&(d[0]+=Ba,d[1]+=Ba,g=t(d[0],d[1]))),g!==u)c=0,g?(e.lineStart(),h=r(d,n),e.point(h[0],h[1])):(h=r(n,d),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(s&&n&&a^g){var m;v&o||!(m=r(d,n,!0))||(c=0,a?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!g||n&&_t(n,d)||e.point(d[0],d[1]),n=d,u=g,o=v},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=gt(e),i=gt(t),a=[1,0,0],s=mt(r,i),u=vt(s,s),l=s[0],c=u-l*l;if(!c)return!n&&e;var f=o*u/c,p=-o*l/c,h=mt(a,s),d=bt(a,f);yt(d,bt(s,p));var g=h,v=vt(d,g),m=vt(g,g),y=v*v-m*(vt(d,d)-1);if(!(0>y)){var b=Math.sqrt(y),x=bt(g,(-v-b)/m);if(yt(x,d),x=wt(x),!n)return x;var w,_=e[0],C=t[0],k=e[1],S=t[1];_>C&&(w=_,_=C,C=w);var M=C-_,A=ya(M-ja)<Ba,D=A||Ba>M;if(!A&&k>S&&(w=k,k=S,S=w),D?A?k+S>0^x[1]<(ya(x[0]-_)<Ba?k:S):k<=x[1]&&x[1]<=S:M>ja^(_<=x[0]&&x[0]<=C)){var E=bt(g,(-v+b)/m);return yt(E,d),[x,wt(E)]}}}function i(t,n){var r=a?e:ja-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,s=ya(o)>Ba;return Ft(t,n,gn(e,6*Ha),a?[0,-e]:[-ja,e-ja])}function Rt(e,t,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,f=s.y,p=0,h=1,d=c-u,g=f-l;if(o=e-u,d||!(o>0)){if(o/=d,0>d){if(p>o)return;h>o&&(h=o)}else if(d>0){if(o>h)return;o>p&&(p=o)}if(o=n-u,d||!(0>o)){if(o/=d,0>d){if(o>h)return;o>p&&(p=o)}else if(d>0){if(p>o)return;h>o&&(h=o)}if(o=t-l,g||!(o>0)){if(o/=g,0>g){if(p>o)return;h>o&&(h=o)}else if(g>0){if(o>h)return;o>p&&(p=o)}if(o=r-l,g||!(0>o)){if(o/=g,0>g){if(o>h)return;o>p&&(p=o)}else if(g>0){if(p>o)return;h>o&&(h=o)}return p>0&&(i.a={x:u+p*d,y:l+p*g}),1>h&&(i.b={x:u+h*d,y:l+h*g}),i}}}}}}function Vt(e,t,n,r){function i(r,i){return ya(r[0]-e)<Ba?i>0?0:3:ya(r[0]-n)<Ba?i>0?2:1:ya(r[1]-t)<Ba?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=v.length,r=e[1],i=0;n>i;++i)for(var o,a=1,s=v[i],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=r?o[1]>r&&Q(l,o,e)>0&&++t:o[1]<=r&&Q(l,o,e)<0&&--t,l=o;return 0!==t}function l(o,s,u,l){var c=0,f=0;if(null==o||(c=i(o,u))!==(f=i(s,u))||a(o,s)<0^u>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+u+4)%4)!==f);else l.point(s[0],s[1])}function c(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function f(e,t){c(e,t)&&s.point(e,t)}function p(){E.point=d,v&&v.push(m=[]),k=!0,C=!1,w=_=NaN}function h(){g&&(d(y,b),x&&C&&A.rejoin(),g.push(A.buffer())),E.point=f,C&&s.lineEnd()}function d(e,t){e=Math.max(-Ps,Math.min(Ps,e)),t=Math.max(-Ps,Math.min(Ps,t));var n=c(e,t);if(v&&m.push([e,t]),k)y=e,b=t,x=n,k=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&C)s.point(e,t);else{var r={a:{x:w,y:_},b:{x:e,y:t}};D(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(e,t),S=!1)}w=e,_=t,C=n}var g,v,m,y,b,x,w,_,C,k,S,M=s,A=Bt(),D=Rt(e,t,n,r),E={point:f,lineStart:p,lineEnd:h,polygonStart:function(){s=A,g=[],v=[],S=!0},polygonEnd:function(){s=M,g=ua.merge(g);var t=u([e,r]),n=S&&t,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Tt(g,o,t,l,s),s.polygonEnd()),g=v=m=null}};return E}}function Wt(e){var t=0,n=ja/3,r=sn(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*ja/180,n=e[1]*ja/180):[t/ja*180,n/ja*180]},i}function Ut(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,te((o-(e*e+n*n)*i*i)/(2*i))]},n}function $t(){function e(e,t){Is+=i*e-r*t,r=e,i=t}var t,n,r,i;Vs.point=function(o,a){Vs.point=e,t=r=o,n=i=a},Vs.lineEnd=function(){e(t,n)}}function Jt(e,t){zs>e&&(zs=e),e>Hs&&(Hs=e),qs>t&&(qs=t),t>Rs&&(Rs=t)}function Gt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function i(){a.push("Z")}var o=Yt(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return o=Yt(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Yt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Xt(e,t){Ss+=e,Ms+=t,++As}function Kt(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Ds+=a*(t+e)/2,Es+=a*(n+r)/2,Ts+=a,Xt(t=e,n=r)}var t,n;Us.point=function(r,i){Us.point=e,Xt(t=r,n=i)}}function Zt(){Us.point=Xt}function Qt(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Ds+=a*(r+e)/2,Es+=a*(i+t)/2,Ts+=a,a=i*e-r*t,Ns+=a*(r+e),Ls+=a*(i+t),Fs+=3*a,Xt(r=e,i=t)}var t,n,r,i;Us.point=function(o,a){Us.point=e,Xt(t=r=o,n=i=a)},Us.lineEnd=function(){e(t,n)}}function en(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Ia)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return a=e,s},result:w};return s}function tn(e){function t(e){return(s?r:n)(e)}function n(t){return on(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,k.point=o,t.lineStart()}function o(n,r){var o=gt([n,r]),a=e(n,r);i(b,x,y,w,_,C,b=a[0],x=a[1],y=n,w=o[0],_=o[1],C=o[2],s,t),t.point(b,x)}function a(){k.point=n,t.lineEnd()}function u(){r(),k.point=l,k.lineEnd=c}function l(e,t){o(f=e,p=t),h=b,d=x,g=w,v=_,m=C,k.point=o}function c(){i(b,x,y,w,_,C,h,d,f,g,v,m,s,t),k.lineEnd=a,a()}var f,p,h,d,g,v,m,y,b,x,w,_,C,k={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),k.lineStart=u},polygonEnd:function(){t.polygonEnd(),k.lineStart=r}};return k}function i(t,n,r,s,u,l,c,f,p,h,d,g,v,m){var y=c-t,b=f-n,x=y*y+b*b;if(x>4*o&&v--){var w=s+h,_=u+d,C=l+g,k=Math.sqrt(w*w+_*_+C*C),S=Math.asin(C/=k),M=ya(ya(C)-1)<Ba||ya(r-p)<Ba?(r+p)/2:Math.atan2(_,w),A=e(M,S),D=A[0],E=A[1],T=D-t,N=E-n,L=b*T-y*N;(L*L/x>o||ya((y*T+b*N)/x-.5)>.3||a>s*h+u*d+l*g)&&(i(t,n,r,s,u,l,D,E,M,w/=k,_/=k,C,v,m),m.point(D,E),i(D,E,M,w,_,C,c,f,p,h,d,g,v,m))}}var o=.5,a=Math.cos(30*Ha),s=16;return t.precision=function(e){return arguments.length?(s=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function nn(e){var t=tn(function(t,n){return e([t*Ra,n*Ra])});return function(e){return un(t(e))}}function rn(e){this.stream=e}function on(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function an(e){return sn(function(){return e})()}function sn(e){function t(e){return e=s(e[0]*Ha,e[1]*Ha),[e[0]*p+u,l-e[1]*p]}function n(e){return(e=s.invert((e[0]-u)/p,(l-e[1])/p))&&[e[0]*Ra,e[1]*Ra]}function r(){s=Dt(a=fn(m,b,x),o);var e=o(g,v);return u=h-e[0]*p,l=d+e[1]*p,i()}function i(){return c&&(c.valid=!1,c=null),t}var o,a,s,u,l,c,f=tn(function(e,t){return e=o(e,t),[e[0]*p+u,l-e[1]*p]}),p=150,h=480,d=250,g=0,v=0,m=0,b=0,x=0,w=Bs,_=y,C=null,k=null;return t.stream=function(e){return c&&(c.valid=!1),c=un(w(a,f(_(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(w=null==e?(C=e,Bs):Ht((C=+e)*Ha),i()):C},t.clipExtent=function(e){return arguments.length?(k=e,_=e?Vt(e[0][0],e[0][1],e[1][0],e[1][1]):y,i()):k},t.scale=function(e){return arguments.length?(p=+e,r()):p},t.translate=function(e){return arguments.length?(h=+e[0],d=+e[1],r()):[h,d]},t.center=function(e){return arguments.length?(g=e[0]%360*Ha,v=e[1]%360*Ha,r()):[g*Ra,v*Ra]},t.rotate=function(e){return arguments.length?(m=e[0]%360*Ha,b=e[1]%360*Ha,x=e.length>2?e[2]%360*Ha:0,r()):[m*Ra,b*Ra,x*Ra]},ua.rebind(t,f,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function un(e){return on(e,function(t,n){e.point(t*Ha,n*Ha)})}function ln(e,t){return[e,t]}function cn(e,t){return[e>ja?e-Ia:-ja>e?e+Ia:e,t]}function fn(e,t,n){return e?t||n?Dt(hn(e),dn(t,n)):hn(e):t||n?dn(t,n):cn}function pn(e){return function(t,n){return t+=e,[t>ja?t-Ia:-ja>t?t+Ia:t,n]}}function hn(e){var t=pn(e);return t.invert=pn(-e),t}function dn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),te(c*o+u*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),te(c*r-s*i)]},n}function gn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var u=a*t;null!=i?(i=vn(n,i),o=vn(n,o),(a>0?o>i:i>o)&&(i+=a*Ia)):(i=e+a*Ia,o=e-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=wt([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function vn(e,t){var n=gt(t);n[0]-=e,xt(n);var r=ee(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ba)%(2*Math.PI)}function mn(e,t,n){var r=ua.range(e,t-Ba,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function yn(e,t,n){var r=ua.range(e,t-Ba,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function bn(e){return e.source}function xn(e){return e.target}function wn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=a*Math.cos(n),f=a*Math.sin(n),p=2*Math.asin(Math.sqrt(oe(r-t)+i*a*oe(n-e))),h=1/Math.sin(p),d=p?function(e){var t=Math.sin(e*=p)*h,n=Math.sin(p-e)*h,r=n*u+t*c,i=n*l+t*f,a=n*o+t*s;return[Math.atan2(i,r)*Ra,Math.atan2(a,Math.sqrt(r*r+i*i))*Ra]}:function(){return[e*Ra,t*Ra]};return d.distance=p,d}function _n(){function e(e,i){var o=Math.sin(i*=Ha),a=Math.cos(i),s=ya((e*=Ha)-t),u=Math.cos(s);$s+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),t=e,n=o,r=a}var t,n,r;Js.point=function(i,o){t=i*Ha,n=Math.sin(o*=Ha),r=Math.cos(o),Js.point=e},Js.lineEnd=function(){Js.point=Js.lineEnd=w}}function Cn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function kn(e,t){function n(e,t){a>0?-qa+Ba>t&&(t=-qa+Ba):t>qa-Ba&&(t=qa-Ba);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(ja/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=Z(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-qa]},n):Mn}function Sn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return ya(i)<Ba?ln:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-Z(i)*Math.sqrt(e*e+n*n)]},n)}function Mn(e,t){return[e,Math.log(Math.tan(ja/4+t/2))]}function An(e){var t,n=an(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=ja*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function Dn(e,t){return[Math.log(Math.tan(ja/4+t/2)),-e]}function En(e){return e[0]}function Tn(e){return e[1]}function Nn(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&Q(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ln(e,t){return e[0]-t[0]||e[1]-t[1]}function Fn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function On(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,p=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+p*a,u+p*c]}function Bn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Pn(){rr(this),this.edge=this.site=this.circle=null}function jn(e){var t=ou.pop()||new Pn;return t.site=e,t}function In(e){Gn(e),nu.remove(e),ou.push(e),rr(e)}function zn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];In(e);for(var u=o;u.circle&&ya(n-u.circle.x)<Ba&&ya(r-u.circle.cy)<Ba;)o=u.P,s.unshift(u),In(u),u=o;s.unshift(u),Gn(u);for(var l=a;l.circle&&ya(n-l.circle.x)<Ba&&ya(r-l.circle.cy)<Ba;)a=l.N,s.push(l),In(l),l=a;s.push(l),Gn(l);var c,f=s.length;for(c=1;f>c;++c)l=s[c],u=s[c-1],er(l.edge,u.site,l.site,i);u=s[0],l=s[f-1],l.edge=Zn(u.site,l.site,null,i),Jn(u),Jn(l)}function qn(e){for(var t,n,r,i,o=e.x,a=e.y,s=nu._;s;)if((r=Hn(s,a)-o)>Ba)s=s.L;else{if(!((i=o-Rn(s,a))>Ba)){r>-Ba?(t=s.P,n=s):i>-Ba?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=jn(e);if(nu.insert(t,u),t||n){if(t===n)return Gn(t),n=jn(t.site),nu.insert(u,n),u.edge=n.edge=Zn(t.site,u.site),Jn(t),void Jn(n);if(!n)return void(u.edge=Zn(t.site,u.site));Gn(t),Gn(n);var l=t.site,c=l.x,f=l.y,p=e.x-c,h=e.y-f,d=n.site,g=d.x-c,v=d.y-f,m=2*(p*v-h*g),y=p*p+h*h,b=g*g+v*v,x={x:(v*y-h*b)/m+c,y:(p*b-g*y)/m+f};er(n.edge,l,d,x),u.edge=Zn(l,e,null,x),n.edge=Zn(e,d,null,x),Jn(t),Jn(n)}}function Hn(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/o-1/l,p=c/l;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function Rn(e,t){var n=e.N;if(n)return Hn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Vn(e){this.site=e,this.edges=[]}function Wn(e){for(var t,n,r,i,o,a,s,u,l,c,f=e[0][0],p=e[1][0],h=e[0][1],d=e[1][1],g=tu,v=g.length;v--;)if((o=g[v])&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),t=l.x,n=l.y,(ya(r-t)>Ba||ya(i-n)>Ba)&&(s.splice(a,0,new tr(Qn(o.site,c,ya(r-f)<Ba&&d-i>Ba?{x:f,y:ya(t-f)<Ba?n:d}:ya(i-d)<Ba&&p-r>Ba?{x:ya(n-d)<Ba?t:p,y:d}:ya(r-p)<Ba&&i-h>Ba?{x:p,y:ya(t-p)<Ba?n:h}:ya(i-h)<Ba&&r-f>Ba?{x:ya(n-h)<Ba?t:f,y:h}:null),o.site,null)),++u)}function Un(e,t){return t.angle-e.angle}function $n(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f=o.y-s,p=2*(u*f-l*c);if(!(p>=-Pa)){var h=u*u+l*l,d=c*c+f*f,g=(f*h-l*d)/p,v=(u*d-c*h)/p,f=v+s,m=au.pop()||new $n;m.arc=e,m.site=i,m.x=g+a,m.y=f+Math.sqrt(g*g+v*v),m.cy=f,e.circle=m;for(var y=null,b=iu._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}
iu.insert(y,m),y||(ru=m)}}}}function Gn(e){var t=e.circle;t&&(t.P||(ru=t.N),iu.remove(t),au.push(t),rr(t),e.circle=null)}function Yn(e){for(var t,n=eu,r=Rt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Xn(t,e)||!r(t)||ya(t.a.x-t.b.x)<Ba&&ya(t.a.y-t.b.y)<Ba)&&(t.a=t.b=null,n.splice(i,1))}function Xn(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,f=e.r,p=c.x,h=c.y,d=f.x,g=f.y,v=(p+d)/2,m=(h+g)/2;if(g===h){if(a>v||v>=s)return;if(p>d){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(r=(p-d)/(g-h),i=m-r*v,-1>r||r>1)if(p>d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>h){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Kn(e,t){this.l=e,this.r=t,this.a=this.b=null}function Zn(e,t,n,r){var i=new Kn(e,t);return eu.push(i),n&&er(i,e,t,n),r&&er(i,t,e,r),tu[e.i].edges.push(new tr(i,e,t)),tu[t.i].edges.push(new tr(i,t,e)),i}function Qn(e,t,n){var r=new Kn(e,null);return r.a=t,r.b=n,eu.push(r),r}function er(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function tr(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ir(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(e){for(;e.L;)e=e.L;return e}function sr(e,t){var n,r,i,o=e.sort(ur).pop();for(eu=[],tu=new Array(e.length),nu=new nr,iu=new nr;;)if(i=ru,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(tu[o.i]=new Vn(o),qn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;zn(i.arc)}t&&(Yn(t),Wn(t));var a={cells:tu,edges:eu};return nu=iu=eu=tu=null,a}function ur(e,t){return t.y-e.y||t.x-e.x}function lr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function cr(e){return e.x}function fr(e){return e.y}function pr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=t.nodes;u[0]&&hr(e,u[0],n,r,a,s),u[1]&&hr(e,u[1],a,r,i,s),u[2]&&hr(e,u[2],n,s,a,o),u[3]&&hr(e,u[3],a,s,i,o)}}function dr(e,t,n,r,i,o,a){var s,u=1/0;return function e(l,c,f,p,h){if(!(c>o||f>a||r>p||i>h)){if(d=l.point){var d,g=t-l.x,v=n-l.y,m=g*g+v*v;if(u>m){var y=Math.sqrt(u=m);r=t-y,i=n-y,o=t+y,a=n+y,s=d}}for(var b=l.nodes,x=.5*(c+p),w=.5*(f+h),_=t>=x,C=n>=w,k=C<<1|_,S=k+4;S>k;++k)if(l=b[3&k])switch(3&k){case 0:e(l,c,f,x,w);break;case 1:e(l,x,f,p,w);break;case 2:e(l,c,w,x,h);break;case 3:e(l,x,w,p,h)}}}(e,r,i,o,a),s}function gr(e,t){e=ua.rgb(e),t=ua.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+xe(Math.round(n+o*e))+xe(Math.round(r+a*e))+xe(Math.round(i+s*e))}}function vr(e,t){var n,r={},i={};for(n in e)n in t?r[n]=br(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function mr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yr(e,t){var n,r,i,o=uu.lastIndex=lu.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=uu.exec(e))&&(r=lu.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:mr(n,r)})),o=lu.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function br(e,t){for(var n,r=ua.interpolators.length;--r>=0&&!(n=ua.interpolators[r](e,t)););return n}function xr(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(br(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function wr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function _r(e){return function(t){return 1-e(1-t)}}function Cr(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function kr(e){return e*e}function Sr(e){return e*e*e}function Mr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Ar(e){return function(t){return Math.pow(t,e)}}function Dr(e){return 1-Math.cos(e*qa)}function Er(e){return Math.pow(2,10*(e-1))}function Tr(e){return 1-Math.sqrt(1-e*e)}function Nr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ia*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ia/t)}}function Lr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Fr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Or(e,t){e=ua.hcl(e),t=ua.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return ce(n+o*e,r+a*e,i+s*e)+""}}function Br(e,t){e=ua.hsl(e),t=ua.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return ue(n+o*e,r+a*e,i+s*e)+""}}function Pr(e,t){e=ua.lab(e),t=ua.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return pe(n+o*e,r+a*e,i+s*e)+""}}function jr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Ir(e){var t=[e.a,e.b],n=[e.c,e.d],r=qr(t),i=zr(t,n),o=qr(Hr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ra,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ra:0}function zr(e,t){return e[0]*t[0]+e[1]*t[1]}function qr(e){var t=Math.sqrt(zr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Hr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Rr(e){return e.length?e.pop()+",":""}function Vr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:mr(e[0],t[0])},{i:i-2,x:mr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Wr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Rr(n)+"rotate(",null,")")-2,x:mr(e,t)})):t&&n.push(Rr(n)+"rotate("+t+")")}function Ur(e,t,n,r){e!==t?r.push({i:n.push(Rr(n)+"skewX(",null,")")-2,x:mr(e,t)}):t&&n.push(Rr(n)+"skewX("+t+")")}function $r(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Rr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:mr(e[0],t[0])},{i:i-2,x:mr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Rr(n)+"scale("+t+")")}function Jr(e,t){var n=[],r=[];return e=ua.transform(e),t=ua.transform(t),Vr(e.translate,t.translate,n,r),Wr(e.rotate,t.rotate,n,r),Ur(e.skew,t.skew,n,r),$r(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,o=r.length;++i<o;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function Gr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Yr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Xr(e){for(var t=e.source,n=e.target,r=Zr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Kr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Zr(e,t){if(e===t)return e;for(var n=Kr(e),r=Kr(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Qr(e){e.fixed|=2}function ei(e){e.fixed&=-7}function ti(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ni(e){e.fixed&=-5}function ri(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ri(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function ii(e,t){return ua.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ci,e}function oi(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ai(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function si(e){return e.children}function ui(e){return e.value}function li(e,t){return t.value-e.value}function ci(e){return ua.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function fi(e){return e.x}function pi(e){return e.y}function hi(e,t,n){e.y0=t,e.y=n}function di(e){return ua.range(e.length)}function gi(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function vi(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function mi(e){return e.reduce(yi,0)}function yi(e,t){return e+t[1]}function bi(e,t){return xi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xi(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function wi(e){return[ua.min(e),ua.max(e)]}function _i(e,t){return e.value-t.value}function Ci(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function ki(e,t){e._pack_next=t,t._pack_prev=e}function Si(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Mi(e){function t(e){c=Math.min(e.x-e.r,c),f=Math.max(e.x+e.r,f),p=Math.min(e.y-e.r,p),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,f=-1/0,p=1/0,h=-1/0;if(n.forEach(Ai),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=n[1],i.x=i.r,i.y=0,t(i),l>2))for(o=n[2],Ti(r,i,o),t(o),Ci(r,o),r._pack_prev=o,Ci(o,i),i=r._pack_next,a=3;l>a;a++){Ti(r,i,o=n[a]);var d=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Si(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!Si(u,o);u=u._pack_prev,v++);d?(v>g||g==v&&i.r<r.r?ki(r,i=s):ki(r=u,i),a--):(Ci(r,o),i=o,t(o))}var m=(c+f)/2,y=(p+h)/2,b=0;for(a=0;l>a;a++)o=n[a],o.x-=m,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(Di)}}function Ai(e){e._pack_next=e._pack_prev=e}function Di(e){delete e._pack_next,delete e._pack_prev}function Ei(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ei(i[o],t,n,r)}function Ti(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*i+l*o,n.y=e.y+u*o-l*i}else n.x=e.x+r,n.y=e.y}function Ni(e,t){return e.parent==t.parent?1:2}function Li(e){var t=e.children;return t.length?t[0]:e.t}function Fi(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Oi(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Bi(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Pi(e,t,n){return e.a.parent===t.parent?e.a:n}function ji(e){return 1+ua.max(e,function(e){return e.y})}function Ii(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function zi(e){var t=e.children;return t&&t.length?zi(t[0]):e}function qi(e){var t,n=e.children;return n&&(t=n.length)?qi(n[t-1]):e}function Hi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ri(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Vi(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Wi(e){return e.rangeExtent?e.rangeExtent():Vi(e.range())}function Ui(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function $i(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Ji(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:xu}function Gi(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=ua.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function Yi(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Gi:Ui,u=r?Yr:Gr;return a=i(e,t,u,n),s=i(t,e,u,br),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(jr)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return Qi(e,t)},o.tickFormat=function(t,n){return eo(e,t,n)},o.nice=function(t){return Ki(e,t),i()},o.copy=function(){return Yi(e,t,n,r)},i()}function Xi(e,t){return ua.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ki(e,t){return $i(e,Ji(Zi(e,t)[2])),$i(e,Ji(Zi(e,t)[2])),e}function Zi(e,t){null==t&&(t=10);var n=Vi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Qi(e,t){return ua.range.apply(ua,Zi(e,t))}function eo(e,t,n){var r=Zi(e,t);if(n){var i=us.exec(n);if(i.shift(),"s"===i[8]){var o=ua.formatPrefix(Math.max(ya(r[0]),ya(r[1])));return i[7]||(i[7]="."+to(o.scale(r[2]))),i[8]="f",n=ua.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+no(i[8],r)),n=i.join("")}else n=",."+to(r[2])+"f";return ua.format(n)}function to(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function no(e,t){var n=to(t[2]);return e in wu?Math.abs(n-to(Math.max(ya(t[0]),ya(t[1]))))+ +("e"!==e):n-2*("%"===e)}function ro(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=$i(r.map(i),n?Math:Cu);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=Vi(r),a=[],s=e[0],u=e[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=t%1?2:t;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var p=1;f>p;p++)a.push(o(l)*p);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var p=f-1;p>0;p--)a.push(o(l)*p);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(e,n){if(!arguments.length)return _u;arguments.length<2?n=_u:"function"!=typeof n&&(n=ua.format(n));var r=Math.max(1,t*e/a.ticks().length);return function(e){var a=e/o(Math.round(i(e)));return t-.5>a*t&&(a*=t),r>=a?n(e):""}},a.copy=function(){return ro(e.copy(),t,n,r)},Xi(a,e)}function io(e,t,n){function r(t){return e(i(t))}var i=oo(t),o=oo(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Qi(n,e)},r.tickFormat=function(e,t){return eo(n,e,t)},r.nice=function(e){return r.domain(Ki(n,e))},r.exponent=function(a){return arguments.length?(i=oo(t=a),o=oo(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return io(e.copy(),t,n)},Xi(r,e)}function oo(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function ao(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return ua.range(e.length).map(function(e){return t+n*e})}var i,o,a;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new l;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+s);return o=r(u+c*s/2,c),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+s)|0;return o=r(u+Math.round(c*s/2+(l-u-(e.length-1+s)*c)/2),c),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],p=(f-c)/(e.length-s+2*u);return o=r(c+p*u,p),l&&o.reverse(),a=p*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],p=Math.floor((f-c)/(e.length-s+2*u));return o=r(c+Math.round((f-c-(e.length-s)*p)/2),p),l&&o.reverse(),a=Math.round(p*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Vi(t.a[0])},n.copy=function(){return ao(e,t)},n.domain(e)}function so(e,t){function o(){var n=0,r=t.length;for(s=[];++n<r;)s[n-1]=ua.quantile(e,n/r);return a}function a(e){return isNaN(e=+e)?void 0:t[ua.bisect(s,e)]}var s;return a.domain=function(t){return arguments.length?(e=t.map(r).filter(i).sort(n),o()):e},a.range=function(e){return arguments.length?(t=e,o()):t},a.quantiles=function(){return s},a.invertExtent=function(n){return n=t.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:e[0],n<s.length?s[n]:e[e.length-1]]},a.copy=function(){return so(e,t)},o()}function uo(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/o+e,[t,t+1/o]},r.copy=function(){return uo(e,t,n)},i()}function lo(e,t){function n(n){return n>=n?t[ua.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return lo(e,t)},n}function co(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Qi(e,t)},t.tickFormat=function(t,n){return eo(e,t,n)},t.copy=function(){return co(e)},t}function fo(){return 0}function po(e){return e.innerRadius}function ho(e){return e.outerRadius}function go(e){return e.startAngle}function vo(e){return e.endAngle}function mo(e){return e&&e.padAngle}function yo(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function bo(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=e[0]+u,f=e[1]+l,p=t[0]+u,h=t[1]+l,d=(c+p)/2,g=(f+h)/2,v=p-c,m=h-f,y=v*v+m*m,b=n-r,x=c*h-p*f,w=(0>m?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),_=(x*m-v*w)/y,C=(-x*v-m*w)/y,k=(x*m+v*w)/y,S=(-x*v+m*w)/y,M=_-d,A=C-g,D=k-d,E=S-g;return M*M+A*A>D*D+E*E&&(_=k,C=S),[[_-u,C-l],[_*n/b,C*n/b]]}function xo(e){function t(t){function a(){l.push("M",o(e(c),s))}for(var u,l=[],c=[],f=-1,p=t.length,h=Me(n),d=Me(r);++f<p;)i.call(this,u=t[f],f)?c.push([+h.call(this,u,f),+d.call(this,u,f)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=En,r=Tn,i=Et,o=wo,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=Eu.get(e)||wo).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function wo(e){return e.length>1?e.join("L"):e+"Z"}function _o(e){return e.join("L")+"Z"}function Co(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ko(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function So(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Mo(e,t){return e.length<4?wo(e):e[1]+Eo(e.slice(1,-1),To(e,t))}function Ao(e,t){return e.length<3?_o(e):e[0]+Eo((e.push(e[0]),e),To([e[e.length-2]].concat(e,[e[1]]),t))}function Do(e,t){return e.length<3?wo(e):e[0]+Eo(e,To(e,t))}function Eo(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return wo(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],u=2),t.length>1){s=t[1],o=e[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<t.length;l++,u++)o=e[u],s=t[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function To(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,u=e.length;++s<u;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function No(e){if(e.length<3)return wo(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Bo(Lu,a),",",Bo(Lu,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Po(u,a,s);return e.pop(),u.push("L",r),u.join("")}function Lo(e){if(e.length<4)return wo(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(Bo(Lu,o)+","+Bo(Lu,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Po(n,o,a);return n.join("")}function Fo(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[Bo(Lu,a),",",Bo(Lu,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Po(t,a,s);return t.join("")}function Oo(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,u=e[n][1]-a,l=-1;++l<=n;)r=e[l],i=l/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*u);return No(e)}function Bo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Po(e,t,n){e.push("C",Bo(Tu,t),",",Bo(Tu,n),",",Bo(Nu,t),",",Bo(Nu,n),",",Bo(Lu,t),",",Bo(Lu,n))}function jo(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Io(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=jo(i,o);++t<n;)r[t]=(a+(a=jo(i=o,o=e[t+1])))/2;return r[t]=a,r}function zo(e){for(var t,n,r,i,o=[],a=Io(e),s=-1,u=e.length-1;++s<u;)t=jo(e[s],e[s+1]),ya(t)<Ba?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,(i=n*n+r*r)>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function qo(e){return e.length<3?wo(e):e[0]+Eo(e,zo(e))}function Ho(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-qa,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Ro(e){function t(t){function u(){g.push("M",s(e(m),f),c,l(e(v.reverse()),f),"Z")}for(var p,h,d,g=[],v=[],m=[],y=-1,b=t.length,x=Me(n),w=Me(i),_=n===r?function(){return h}:Me(r),C=i===o?function(){return d}:Me(o);++y<b;)a.call(this,p=t[y],y)?(v.push([h=+x.call(this,p,y),d=+w.call(this,p,y)]),m.push([+_.call(this,p,y),+C.call(this,p,y)])):v.length&&(u(),v=[],m=[]);return v.length&&u(),g.length?g.join(""):null}var n=En,r=En,i=0,o=Tn,a=Et,s=wo,u=s.key,l=s,c="L",f=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=Eu.get(e)||wo).key,l=s.reverse||s,c=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(f=e,t):f},t}function Vo(e){return e.radius}function Wo(e){return[e.x,e.y]}function Uo(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-qa;return[n*Math.cos(r),n*Math.sin(r)]}}function $o(){return 64}function Jo(){return"circle"}function Go(e){var t=Math.sqrt(e/ja);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Yo(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Xo(e,t,n){return Ca(e,zu),e.namespace=t,e.id=n,e}function Ko(e,t,n,r){var i=e.id,o=e.namespace;return V(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function Zo(e){return null==e&&(e=""),function(){this.textContent=e}}function Qo(e){return null==e?"__transition__":"__transition_"+e+"__"}function ea(e,t,n,r,i){function o(e){var t=g.delay;return c.t=t+u,e>=t?a(e-t):void(c.c=a)}function a(n){var i=d.active,o=d[i];o&&(o.timer.c=null,o.timer.t=NaN,--d.count,delete d[i],o.event&&o.event.interrupt.call(e,e.__data__,o.index));for(var a in d)if(r>+a){var l=d[a];l.timer.c=null,l.timer.t=NaN,--d.count,delete d[a]}c.c=s,Ne(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,u),d.active=r,g.event&&g.event.start.call(e,e.__data__,t),h=[],g.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&h.push(r)}),p=g.ease,f=g.duration}function s(i){for(var o=i/f,a=p(o),s=h.length;s>0;)h[--s].call(e,a);return o>=1?(g.event&&g.event.end.call(e,e.__data__,t),--d.count?delete d[r]:delete e[n],1):void 0}var u,c,f,p,h,d=e[n]||(e[n]={active:0,count:0}),g=d[r];g||(u=i.time,c=Ne(o,0,u),g=d[r]={tween:new l,time:u,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++d.count)}function ta(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function na(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function ra(e){return e.toISOString()}function ia(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=ua.bisect(Gu,i);return o==Gu.length?[t.year,Zi(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Gu[o-1]<Gu[o]/i?o-1:o]:[Ku,Zi(e,n)[2]]}return r.invert=function(t){return oa(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(oa)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,oa(+n+1),t).length}var o=r.domain(),a=Vi(o),s=null==e?i(a,10):"number"==typeof e&&i(a,e);return s&&(e=s[0],t=s[1]),r.domain($i(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Vi(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],oa(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return ia(e.copy(),t,n)},Xi(r,e)}function oa(e){return new Date(e)}function aa(e){return JSON.parse(e.responseText)}function sa(e){var t=fa.createRange();return t.selectNode(fa.body),t.createContextualFragment(e.responseText)}var ua={version:"3.5.17"},la=[].slice,ca=function(e){return la.call(e)},fa=this.document;if(fa)try{ca(fa.documentElement.childNodes)[0].nodeType}catch(e){ca=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),fa)try{fa.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var pa=this.Element.prototype,ha=pa.setAttribute,da=pa.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,va=ga.setProperty;pa.setAttribute=function(e,t){ha.call(this,e,t+"")},pa.setAttributeNS=function(e,t,n){da.call(this,e,t,n+"")},ga.setProperty=function(e,t,n){va.call(this,e,t+"",n)}}ua.ascending=n,ua.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},ua.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},ua.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},ua.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ua.sum=function(e,t){var n,r=0,o=e.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+e[a])&&(r+=n);else for(;++a<o;)i(n=+t.call(e,e[a],a))&&(r+=n);return r},ua.mean=function(e,t){var n,o=0,a=e.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)i(n=r(e[s]))?o+=n:--u;else for(;++s<a;)i(n=r(t.call(e,e[s],s)))?o+=n:--u;return u?o/u:void 0},ua.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},ua.median=function(e,t){var o,a=[],s=e.length,u=-1;if(1===arguments.length)for(;++u<s;)i(o=r(e[u]))&&a.push(o);else for(;++u<s;)i(o=r(t.call(e,e[u],u)))&&a.push(o);return a.length?ua.quantile(a.sort(n),.5):void 0},ua.variance=function(e,t){var n,o,a=e.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)i(n=r(e[l]))&&(o=n-s,s+=o/++c,u+=o*(n-s));else for(;++l<a;)i(n=r(t.call(e,e[l],l)))&&(o=n-s,s+=o/++c,u+=o*(n-s));return c>1?u/(c-1):void 0},ua.deviation=function(){var e=ua.variance.apply(this,arguments);return e?Math.sqrt(e):e};var ma=o(n);ua.bisectLeft=ma.left,ua.bisect=ua.bisectRight=ma.right,ua.bisector=function(e){return o(1===e.length?function(t,r){return n(e(t),r)}:e)},ua.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,2>o&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},ua.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},ua.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(0>n?0:n);n>t;)i[t]=[r,r=e[++t]];return i},ua.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=ua.min(e,a),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ua.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ua.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ua.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var ya=Math.abs;ua.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],o=s(ya(n)),a=-1;if(e*=o,t*=o,0>(n*=o))for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},ua.map=function(e,t){var n=new l;if(e instanceof l)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var ba="__proto__",xa="\0";u(l,{has:p,get:function(e){return this._[c(e)]},set:function(e,t){return this._[c(e)]=t},remove:h,keys:d,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:f(t),value:this._[t]});return e},size:g,empty:v,forEach:function(e){for(var t in this._)e.call(this,f(t),this._[t])}}),ua.nest=function(){function e(t,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,f,p,h=-1,d=a.length,g=o[s++],v=new l;++h<d;)(p=v.get(u=g(c=a[h])))?p.push(c):v.set(u,[c])
;return t?(c=t(),f=function(n,r){c.set(n,e(t,r,s))}):(c={},f=function(n,r){c[n]=e(t,r,s)}),v.forEach(f),c}function t(e,n){if(n>=o.length)return e;var r=[],i=a[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(ua.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return a[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},ua.set=function(e){var t=new m;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},u(m,{has:p,add:function(e){return this._[c(e+="")]=!0,e},remove:h,values:d,size:g,empty:v,forEach:function(e){for(var t in this._)e.call(this,f(t))}}),ua.behavior={},ua.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=b(e,t,t[n]);return e};var wa=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var e=new _,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=C(e);return e},_.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},ua.event=null,ua.requote=function(e){return e.replace(_a,"\\$&")};var _a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ca={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},ka=function(e,t){return t.querySelector(e)},Sa=function(e,t){return t.querySelectorAll(e)},Ma=function(e,t){var n=e.matches||e[x(e,"matchesSelector")];return(Ma=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(ka=function(e,t){return Sizzle(e,t)[0]||null},Sa=Sizzle,Ma=Sizzle.matchesSelector),ua.selection=function(){return ua.select(fa.documentElement)};var Aa=ua.selection.prototype=[];Aa.select=function(e){var t,n,r,i,o=[];e=D(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return A(o)},Aa.selectAll=function(e){var t,n,r=[];e=E(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=ca(e.call(n,n.__data__,s,i))),t.parentNode=n);return A(r)};var Da="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:Da,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Ea,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:e}:e}},Aa.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ua.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(T(t,e[t]));return this}return this.each(T(e,t))},Aa.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=F(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!L(e[i]).test(t))return!1;return!0}for(t in e)this.each(O(t,e[t]));return this}return this.each(O(e,t))},Aa.style=function(e,n,r){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(n="");for(r in e)this.each(P(r,e[r],n));return this}if(2>i){var o=this.node();return t(o).getComputedStyle(o,null).getPropertyValue(e)}r=""}return this.each(P(e,n,r))},Aa.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(j(t,e[t]));return this}return this.each(j(e,t))},Aa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Aa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Aa.append=function(e){return e=I(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Aa.insert=function(e,t){return e=I(e),t=D(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(z)},Aa.data=function(e,t){function n(e,n){var r,i,o,a=e.length,f=n.length,p=Math.min(a,f),h=new Array(f),d=new Array(f),g=new Array(a);if(t){var v,m=new l,y=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(m.has(v=t.call(i,i.__data__,r))?g[r]=i:m.set(v,i),y[r]=v);for(r=-1;++r<f;)(i=m.get(v=t.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):d[r]=q(o),m.set(v,!0);for(r=-1;++r<a;)r in y&&!0!==m.get(y[r])&&(g[r]=e[r])}else{for(r=-1;++r<p;)i=e[r],o=n[r],i?(i.__data__=o,h[r]=i):d[r]=q(o);for(;f>r;++r)d[r]=q(n[r]);for(;a>r;++r)g[r]=e[r]}d.update=h,d.parentNode=h.parentNode=g.parentNode=e.parentNode,s.push(d),u.push(h),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var s=W([]),u=A([]),c=A([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return u.enter=function(){return s},u.exit=function(){return c},u},Aa.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Aa.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=H(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return A(i)},Aa.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Aa.sort=function(e){e=R.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Aa.each=function(e){return V(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Aa.call=function(e){var t=ca(arguments);return e.apply(t[0]=this,t),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Aa.size=function(){var e=0;return V(this,function(){++e}),e};var Ta=[];ua.selection.enter=W,ua.selection.enter.prototype=Ta,Ta.append=Aa.append,Ta.empty=Aa.empty,Ta.node=Aa.node,Ta.call=Aa.call,Ta.size=Aa.size,Ta.select=function(e){for(var t,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(t.push(r[l]=n=e.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):t.push(null)}return A(a)},Ta.insert=function(e,t){return arguments.length<2&&(t=U(this)),Aa.insert.call(this,e,t)},ua.select=function(t){var n;return"string"==typeof t?(n=[ka(t,fa)],n.parentNode=fa.documentElement):(n=[t],n.parentNode=e(t)),A([n])},ua.selectAll=function(e){var t;return"string"==typeof e?(t=ca(Sa(e,fa)),t.parentNode=fa.documentElement):(t=ca(e),t.parentNode=null),A([t])},Aa.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each($(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each($(e,t,n))};var Na=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});fa&&Na.forEach(function(e){"on"+e in fa&&Na.remove(e)});var La,Fa=0;ua.mouse=function(e){return X(e,S())};var Oa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=S().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return X(e,r)},ua.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(e,t,n,o,a){return function(){function s(){var e,n,r=t(p,g);r&&(e=r[0]-b[0],n=r[1]-b[1],d|=e|n,b=r,h({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(p,g)&&(m.on(o+v,null).on(a+v,null),y(d),h({type:"dragend"}))}var l,c=this,f=ua.event.target.correspondingElement||ua.event.target,p=c.parentNode,h=r.of(c,arguments),d=0,g=e(),v=".drag"+(null==g?"":"-"+g),m=ua.select(n(f)).on(o+v,s).on(a+v,u),y=Y(f),b=t(p,g);i?(l=i.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],h({type:"dragstart"})}}var r=M(e,"drag","dragstart","dragend"),i=null,o=n(w,ua.mouse,t,"mousemove","mouseup"),a=n(K,ua.touch,y,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},ua.rebind(e,r,"on")},ua.touches=function(e,t){return arguments.length<2&&(t=S().touches),t?ca(t).map(function(t){var n=X(e,t);return n.identifier=t.identifier,n}):[]};var Ba=1e-6,Pa=Ba*Ba,ja=Math.PI,Ia=2*ja,za=Ia-Ba,qa=ja/2,Ha=ja/180,Ra=180/ja,Va=Math.SQRT2;ua.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],l=t[2],c=s-i,f=u-o,p=c*c+f*f;if(Pa>p)r=Math.log(l/a)/Va,n=function(e){return[i+e*c,o+e*f,a*Math.exp(Va*e*r)]};else{var h=Math.sqrt(p),d=(l*l-a*a+4*p)/(2*a*2*h),g=(l*l-a*a-4*p)/(2*l*2*h),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Va,n=function(e){var t=e*r,n=re(v),s=a/(2*h)*(n*ie(Va*t+v)-ne(v));return[i+s*c,o+s*f,a*n/re(Va*t+v)]}}return n.duration=1e3*r,n},ua.behavior.zoom=function(){function e(e){e.on(N,f).on(Ua+".zoom",h).on("dblclick.zoom",d).on(O,p)}function n(e){return[(e[0]-S.x)/S.k,(e[1]-S.y)/S.k]}function r(e){return[e[0]*S.k+S.x,e[1]*S.k+S.y]}function i(e){S.k=Math.max(D[0],Math.min(D[1],e))}function o(e,t){t=r(t),S.x+=e[0]-t[0],S.y+=e[1]-t[1]}function a(t,n,r,a){t.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,a)),o(v=n,r),t=ua.select(t),E>0&&(t=t.transition().duration(E)),t.call(e.event)}function s(){w&&w.domain(x.range().map(function(e){return(e-S.x)/S.k}).map(x.invert)),C&&C.domain(_.range().map(function(e){return(e-S.y)/S.k}).map(_.invert))}function u(e){T++||e({type:"zoomstart"})}function l(e){s(),e({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(e){--T||(e({type:"zoomend"}),v=null)}function f(){function e(){s=1,o(ua.mouse(i),p),l(a)}function r(){f.on(L,null).on(F,null),h(s),c(a)}var i=this,a=B.of(i,arguments),s=0,f=ua.select(t(i)).on(L,e).on(F,r),p=n(ua.mouse(i)),h=Y(i);Iu.call(i),u(a)}function p(){function e(){var e=ua.touches(d);return h=S.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=n(e))}),e}function t(){var t=ua.event.target;ua.select(t).on(x,r).on(w,s),_.push(t);for(var n=ua.event.changedTouches,i=0,o=n.length;o>i;++i)v[n[i].identifier]=null;var u=e(),l=Date.now();if(1===u.length){if(500>l-b){var c=u[0];a(d,c,v[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),k()}b=l}else if(u.length>1){var c=u[0],f=u[1],p=c[0]-f[0],h=c[1]-f[1];m=p*p+h*h}}function r(){var e,t,n,r,a=ua.touches(d);Iu.call(d);for(var s=0,u=a.length;u>s;++s,r=null)if(n=a[s],r=v[n.identifier]){if(t)break;e=n,t=r}if(r){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,f=m&&Math.sqrt(c/m);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(f*h)}b=null,o(e,t),l(g)}function s(){if(ua.event.touches.length){for(var t=ua.event.changedTouches,n=0,r=t.length;r>n;++n)delete v[t[n].identifier];for(var i in v)return void e()}ua.selectAll(_).on(y,null),C.on(N,f).on(O,p),M(),c(g)}var h,d=this,g=B.of(d,arguments),v={},m=0,y=".zoom-"+ua.event.changedTouches[0].identifier,x="touchmove"+y,w="touchend"+y,_=[],C=ua.select(d),M=Y(d);t(),u(g),C.on(N,null).on(O,t)}function h(){var e=B.of(this,arguments);y?clearTimeout(y):(Iu.call(this),g=n(v=m||ua.mouse(this)),u(e)),y=setTimeout(function(){y=null,c(e)},50),k(),i(Math.pow(2,.002*Wa())*S.k),o(v,g),l(e)}function d(){var e=ua.mouse(this),t=Math.log(S.k)/Math.LN2;a(this,e,n(e),ua.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var g,v,m,y,b,x,w,_,C,S={x:0,y:0,k:1},A=[960,500],D=$a,E=250,T=0,N="mousedown.zoom",L="mousemove.zoom",F="mouseup.zoom",O="touchstart.zoom",B=M(e,"zoomstart","zoom","zoomend");return Ua||(Ua="onwheel"in fa?(Wa=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fa?(Wa=function(){return ua.event.wheelDelta},"mousewheel"):(Wa=function(){return-ua.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=B.of(this,arguments),t=S;Pu?ua.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(e)}).tween("zoom:zoom",function(){var n=A[0],r=A[1],i=v?v[0]:n/2,o=v?v[1]:r/2,a=ua.interpolateZoom([(i-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=S={x:i-r[0]*s,y:o-r[1]*s,k:s},l(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=S,u(e),l(e),c(e))})},e.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},s(),e):[S.x,S.y]},e.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:null},i(+t),s(),e):S.k},e.scaleExtent=function(t){return arguments.length?(D=null==t?$a:[+t[0],+t[1]],e):D},e.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],e):m},e.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],e):A},e.duration=function(t){return arguments.length?(E=+t,e):E},e.x=function(t){return arguments.length?(w=t,x=t.copy(),S={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(C=t,_=t.copy(),S={x:0,y:0,k:1},e):C},ua.rebind(e,B,"on")};var Wa,Ua,$a=[0,1/0];ua.color=ae,ae.prototype.toString=function(){return this.rgb()+""},ua.hsl=se;var Ja=se.prototype=new ae;Ja.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,this.l/e)},Ja.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,e*this.l)},Ja.rgb=function(){return ue(this.h,this.s,this.l)},ua.hcl=le;var Ga=le.prototype=new ae;Ga.brighter=function(e){return new le(this.h,this.c,Math.min(100,this.l+Ya*(arguments.length?e:1)))},Ga.darker=function(e){return new le(this.h,this.c,Math.max(0,this.l-Ya*(arguments.length?e:1)))},Ga.rgb=function(){return ce(this.h,this.c,this.l).rgb()},ua.lab=fe;var Ya=18,Xa=.95047,Ka=1,Za=1.08883,Qa=fe.prototype=new ae;Qa.brighter=function(e){return new fe(Math.min(100,this.l+Ya*(arguments.length?e:1)),this.a,this.b)},Qa.darker=function(e){return new fe(Math.max(0,this.l-Ya*(arguments.length?e:1)),this.a,this.b)},Qa.rgb=function(){return pe(this.l,this.a,this.b)},ua.rgb=me;var es=me.prototype=new ae;es.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new me(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new me(i,i,i)},es.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new me(e*this.r,e*this.g,e*this.b)},es.hsl=function(){return _e(this.r,this.g,this.b)},es.toString=function(){return"#"+xe(this.r)+xe(this.g)+xe(this.b)};var ts=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ts.forEach(function(e,t){ts.set(e,ye(t))}),ua.functor=Me,ua.xhr=Ae(y),ua.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=De(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=l)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,i,o={},a={},s=[],l=e.length,c=0,f=0;(r=n())!==a;){for(var p=[];r!==o&&r!==a;)p.push(r),r=n();t&&null==(p=t(p,f++))||s.push(p)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new m,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var ns,rs,is,os,as=this[x(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ua.timer=function(){Ne.apply(this,arguments)},ua.timer.flush=function(){Fe(),Oe()},ua.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ss=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(Pe);ua.formatPrefix=function(e,t){var n=0;return(e=+e)&&(0>e&&(e*=-1),t&&(e=ua.round(e,Be(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ss[8+n/3]};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ls=ua.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ua.round(e,Be(e,t))).toFixed(Math.max(0,Math.min(20,Be(e*(1+1e-15),t))))}}),cs=ua.time={},fs=Date;ze.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;cs.year=qe(function(e){return e=cs.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),cs.years=cs.year.range,cs.years.utc=cs.year.utc.range,cs.day=qe(function(e){var t=new fs(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),cs.days=cs.day.range,cs.days.utc=cs.day.utc.range,cs.dayOfYear=function(e){var t=cs.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=cs[e]=qe(function(e){return(e=cs.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=cs.year(e).getDay();return Math.floor((cs.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});cs[e+"s"]=n.range,cs[e+"s"].utc=n.utc.range,cs[e+"OfYear"]=function(e){var n=cs.year(e).getDay();return Math.floor((cs.dayOfYear(e)+(n+t)%7)/7)}}),cs.week=cs.sunday,cs.weeks=cs.sunday.range,cs.weeks.utc=cs.sunday.utc.range,cs.weekOfYear=cs.sundayOfYear;var hs={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,gs=/^%/;ua.locale=function(e){return{numberFormat:je(e),timeFormat:Re(e)}};var vs=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=vs.numberFormat,ua.geo={},lt.prototype={s:0,t:0,add:function(e){ct(e,this.t,ms),ct(ms.s,this.s,this),this.s?this.t+=ms.t:this.s=ms.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ms=new lt;ua.geo.stream=function(e,t){e&&ys.hasOwnProperty(e.type)?ys[e.type](e,t):ft(e,t)};var ys={Feature:function(e,t){ft(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ft(n[r].geometry,t)}},bs={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){pt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pt(n[r],t,0)},Polygon:function(e,t){ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ht(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ft(n[r],t)}};ua.geo.area=function(e){return xs=0,ua.geo.stream(e,_s),xs};var xs,ws=new lt,_s={sphere:function(){xs+=4*ja},point:w,lineStart:w,lineEnd:w,polygonStart:function(){ws.reset(),_s.lineStart=dt},polygonEnd:function(){var e=2*ws;xs+=0>e?4*ja+e:e,_s.lineStart=_s.lineEnd=_s.point=w}};ua.geo.bounds=function(){function e(e,t){b.push(x=[c=e,p=e]),f>t&&(f=t),t>h&&(h=t)}function t(t,n){var r=gt([t*Ha,n*Ha]);if(m){var i=mt(m,r),o=[i[1],-i[0],0],a=mt(o,i);xt(a),a=wt(a);var u=t-d,l=u>0?1:-1,g=a[0]*Ra*l,v=ya(u)>180;if(v^(g>l*d&&l*t>g)){var y=a[1]*Ra;y>h&&(h=y)}else if(g=(g+360)%360-180,v^(g>l*d&&l*t>g)){var y=-a[1]*Ra;f>y&&(f=y)}else f>n&&(f=n),n>h&&(h=n);v?d>t?s(c,t)>s(c,p)&&(p=t):s(t,p)>s(c,p)&&(c=t):p>=c?(c>t&&(c=t),t>p&&(p=t)):t>d?s(c,t)>s(c,p)&&(p=t):s(t,p)>s(c,p)&&(c=t)}else e(t,n);m=r,d=t}function n(){w.point=t}function r(){x[0]=c,x[1]=p,w.point=e,m=null}function i(e,n){if(m){var r=e-d;y+=ya(r)>180?r+(r>0?360:-360):r}else g=e,v=n;_s.point(e,n),t(e,n)}function o(){_s.lineStart()}function a(){i(g,v),_s.lineEnd(),ya(y)>Ba&&(c=-(p=180)),x[0]=c,x[1]=p,m=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,f,p,h,d,g,v,m,y,b,x,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,y=0,_s.polygonStart()},polygonEnd:function(){_s.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,0>ws?(c=-(p=180),f=-(h=90)):y>Ba?h=90:-Ba>y&&(f=-90),x[0]=c,x[1]=p}};return function(e){h=p=-(c=f=1/0),b=[],ua.geo.stream(e,w);var t=b.length;if(t){b.sort(u);for(var n,r=1,i=b[0],o=[i];t>r;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,d=-1/0,t=o.length-1,r=0,i=o[t];t>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,c=n[0],p=i[1])}return b=x=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[p,h]]}}(),ua.geo.centroid=function(e){Cs=ks=Ss=Ms=As=Ds=Es=Ts=Ns=Ls=Fs=0,ua.geo.stream(e,Os);var t=Ns,n=Ls,r=Fs,i=t*t+n*n+r*r;return Pa>i&&(t=Ds,n=Es,r=Ts,Ba>ks&&(t=Ss,n=Ms,r=As),i=t*t+n*n+r*r,Pa>i)?[NaN,NaN]:[Math.atan2(n,t)*Ra,te(r/Math.sqrt(i))*Ra]};var Cs,ks,Ss,Ms,As,Ds,Es,Ts,Ns,Ls,Fs,Os={sphere:w,point:Ct,lineStart:St,lineEnd:Mt,polygonStart:function(){Os.lineStart=At},polygonEnd:function(){Os.lineStart=St}},Bs=Ft(Et,jt,zt,[-ja,-ja/2]),Ps=1e9;ua.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=Vt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return Wt(Ut)}).raw=Ut,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=ua.geo.albers(),a=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var l=o.scale(),c=+t[0],f=+t[1];return n=o.translate(t).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,r=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Ba,f+.12*l+Ba],[c-.214*l-Ba,f+.234*l-Ba]]).stream(u).point,i=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Ba,f+.166*l+Ba],[c-.115*l-Ba,f+.234*l-Ba]]).stream(u).point,e},e.scale(1070)};var js,Is,zs,qs,Hs,Rs,Vs={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Is=0,Vs.lineStart=$t},polygonEnd:function(){Vs.lineStart=Vs.lineEnd=Vs.point=w,js+=ya(Is/2)}},Ws={point:Jt,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Us={point:Xt,lineStart:Kt,lineEnd:Zt,polygonStart:function(){Us.lineStart=Qt},polygonEnd:function(){Us.point=Xt,Us.lineStart=Kt,Us.lineEnd=Zt}};ua.geo.path=function(){function e(e){return e&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),ua.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,s=4.5;return e.area=function(e){return js=0,ua.geo.stream(e,i(Vs)),js},e.centroid=function(e){return Ss=Ms=As=Ds=Es=Ts=Ns=Ls=Fs=0,ua.geo.stream(e,i(Us)),Fs?[Ns/Fs,Ls/Fs]:Ts?[Ds/Ts,Es/Ts]:As?[Ss/As,Ms/As]:[NaN,NaN]},e.bounds=function(e){return Hs=Rs=-(zs=qs=1/0),ua.geo.stream(e,i(Ws)),[[zs,qs],[Hs,Rs]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||nn(e):y,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Gt:new en(e),"function"!=typeof s&&o.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(o.pointRadius(+t),+t),e):s},e.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(e){return{stream:function(t){var n=new rn(t);for(var r in e)n[r]=e[r];return n}}},rn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ua.geo.rotation=function(e){function t(t){return t=e(t[0]*Ha,t[1]*Ha),t[0]*=Ra,t[1]*=Ra,t}return e=fn(e[0]%360*Ha,e[1]*Ha,e.length>2?e[2]*Ha:0),t.invert=function(t){return t=e.invert(t[0]*Ha,t[1]*Ha),t[0]*=Ra,t[1]*=Ra,t},t},cn.invert=ln,ua.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=fn(-e[0]*Ha,-e[1]*Ha,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Ra,e[1]*=Ra}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=gn((t=+r)*Ha,i*Ha),e):t},e.precision=function(r){return arguments.length?(n=gn(t*Ha,(i=+r)*Ha),e):i},e.angle(90)},ua.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ha,i=e[1]*Ha,o=t[1]*Ha,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},ua.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ua.range(Math.ceil(o/v)*v,i,v).map(p).concat(ua.range(Math.ceil(l/m)*m,u,m).map(h)).concat(ua.range(Math.ceil(r/d)*d,n,d).filter(function(e){return ya(e%v)>Ba}).map(c)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(e){return ya(e%m)>Ba}).map(f))}var n,r,i,o,a,s,u,l,c,f,p,h,d=10,g=d,v=90,m=360,y=2.5
;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(h(u).slice(1),p(i).reverse().slice(1),h(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],o>i&&(t=o,o=i,i=t),l>u&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(y)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],m=+t[1],e):[v,m]},e.minorStep=function(t){return arguments.length?(d=+t[0],g=+t[1],e):[d,g]},e.precision=function(t){return arguments.length?(y=+t,c=mn(s,a,90),f=yn(r,n,y),p=mn(l,u,90),h=yn(o,i,y),e):y},e.majorExtent([[-180,-90+Ba],[180,90-Ba]]).minorExtent([[-180,-80-Ba],[180,80+Ba]])},ua.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=bn,i=xn;return e.distance=function(){return ua.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},ua.geo.interpolate=function(e,t){return wn(e[0]*Ha,e[1]*Ha,t[0]*Ha,t[1]*Ha)},ua.geo.length=function(e){return $s=0,ua.geo.stream(e,Js),$s};var $s,Js={sphere:w,point:w,lineStart:_n,lineEnd:w,polygonStart:w,polygonEnd:w},Gs=Cn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ua.geo.azimuthalEqualArea=function(){return an(Gs)}).raw=Gs;var Ys=Cn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},y);(ua.geo.azimuthalEquidistant=function(){return an(Ys)}).raw=Ys,(ua.geo.conicConformal=function(){return Wt(kn)}).raw=kn,(ua.geo.conicEquidistant=function(){return Wt(Sn)}).raw=Sn;var Xs=Cn(function(e){return 1/e},Math.atan);(ua.geo.gnomonic=function(){return an(Xs)}).raw=Xs,Mn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-qa]},(ua.geo.mercator=function(){return An(Mn)}).raw=Mn;var Ks=Cn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Ks)}).raw=Ks;var Zs=Cn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ua.geo.stereographic=function(){return an(Zs)}).raw=Zs,Dn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-qa]},(ua.geo.transverseMercator=function(){var e=An(Dn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Dn,ua.geom={},ua.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Me(n),o=Me(r),a=e.length,s=[],u=[];for(t=0;a>t;t++)s.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(s.sort(Ln),t=0;a>t;t++)u.push([s[t][0],-s[t][1]]);var l=Nn(s),c=Nn(u),f=c[0]===l[0],p=c[c.length-1]===l[l.length-1],h=[];for(t=l.length-1;t>=0;--t)h.push(e[s[l[t]][2]]);for(t=+f;t<c.length-p;++t)h.push(e[s[c[t]][2]]);return h}var n=En,r=Tn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},ua.geom.polygon=function(e){return Ca(e,Qs),e};var Qs=ua.geom.polygon.prototype=[];Qs.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Qs.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},Qs.clip=function(e){for(var t,n,r,i,o,a,s=Bn(e),u=-1,l=this.length-Bn(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],Fn(a,c,i)?(Fn(o,c,i)||e.push(On(o,a,c,i)),e.push(a)):Fn(o,c,i)&&e.push(On(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var eu,tu,nu,ru,iu,ou=[],au=[];Vn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Un),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ar(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ir(this,n),e=n,n=e.U),n.C=!1,r.C=!0,or(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(or(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ir(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?ar(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,or(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ir(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,or(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ir(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,or(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},ua.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return sr(n(e),s).cells.forEach(function(n,s){var u=n.edges,l=n.site;(t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Ba)*Ba,y:Math.round(a(e,t)/Ba)*Ba,i:t}})}var r=En,i=Tn,o=r,a=i,s=su;return e?t(e):(t.links=function(e){return sr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return sr(n(e)).cells.forEach(function(n,r){for(var i,o=n.site,a=n.edges.sort(Un),s=-1,u=a.length,l=a[u-1].edge,c=l.l===o?l.r:l.l;++s<u;)l,i=c,l=a[s].edge,c=l.l===o?l.r:l.l,r<i.i&&r<c.i&&lr(o,i,c)<0&&t.push([e[r],e[i.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(o=Me(r=e),t):r},t.y=function(e){return arguments.length?(a=Me(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?su:e,t):s===su?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===su?null:s&&s[1]},t)};var su=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(e){return ua.geom.voronoi().triangles(e)},ua.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(ya(u-n)+ya(c-r)<.01)l(e,t,n,r,i,o,a,s);else{var f=e.point;e.x=e.y=e.point=null,l(e,f,u,c,i,o,a,s),l(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,i,o,a,s)}function l(e,t,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),f=n>=l,p=r>=c,h=p<<1|f;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=pr()),f?i=l:s=l,p?a=c:u=c,o(e,t,n,r,i,a,s,u)}var c,f,p,h,d,g,v,m,y,b=Me(s),x=Me(u);if(null!=t)g=t,v=n,m=r,y=i;else if(m=y=-(g=v=1/0),f=[],p=[],d=e.length,a)for(h=0;d>h;++h)c=e[h],c.x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),f.push(c.x),p.push(c.y);else for(h=0;d>h;++h){var w=+b(c=e[h],h),_=+x(c,h);g>w&&(g=w),v>_&&(v=_),w>m&&(m=w),_>y&&(y=_),f.push(w),p.push(_)}var C=m-g,k=y-v;C>k?y=v+C:m=g+k;var S=pr();if(S.add=function(e){o(S,e,+b(e,++h),+x(e,h),g,v,m,y)},S.visit=function(e){hr(e,S,g,v,m,y)},S.find=function(e){return dr(S,e[0],e[1],g,v,m,y)},h=-1,null==t){for(;++h<d;)o(S,e[h],f[h],p[h],g,v,m,y);--h}else e.forEach(S.add);return f=p=e=c=null,S}var a,s=En,u=Tn;return(a=arguments.length)?(s=cr,u=fr,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(u=e,o):u},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},ua.interpolateRgb=gr,ua.interpolateObject=vr,ua.interpolateNumber=mr,ua.interpolateString=yr;var uu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lu=new RegExp(uu.source,"g");ua.interpolate=br,ua.interpolators=[function(e,t){var n=typeof t;return("string"===n?ts.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?gr:yr:t instanceof ae?gr:Array.isArray(t)?xr:"object"===n&&isNaN(t)?vr:mr)(e,t)}],ua.interpolateArray=xr;var cu=function(){return y},fu=ua.map({linear:cu,poly:Ar,quad:function(){return kr},cubic:function(){return Sr},sin:function(){return Dr},exp:function(){return Er},circle:function(){return Tr},elastic:Nr,back:Lr,bounce:function(){return Fr}}),pu=ua.map({in:y,out:_r,"in-out":Cr,"out-in":function(e){return Cr(_r(e))}});ua.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=fu.get(n)||cu,r=pu.get(r)||y,wr(r(n.apply(null,la.call(arguments,1))))},ua.interpolateHcl=Or,ua.interpolateHsl=Br,ua.interpolateLab=Pr,ua.interpolateRound=jr,ua.transform=function(e){var t=fa.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Ir(n?n.matrix:hu)})(e)},Ir.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=Jr,ua.layout={},ua.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Xr(e[n]));return t}},ua.layout.chord=function(){function e(){var e,l,f,p,h,d={},g=[],v=ua.range(o),m=[];for(n=[],r=[],e=0,p=-1;++p<o;){for(l=0,h=-1;++h<o;)l+=i[p][h];g.push(l),m.push(ua.range(o)),e+=l}for(a&&v.sort(function(e,t){return a(g[e],g[t])}),s&&m.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Ia-c*o)/e,l=0,p=-1;++p<o;){for(f=l,h=-1;++h<o;){var y=v[p],b=m[y][h],x=i[y][b],w=l,_=l+=x*e;d[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:g[y]},l+=c}for(p=-1;++p<o;)for(h=p-1;++h<o;){var C=d[p+"-"+h],k=d[h+"-"+p];(C.value||k.value)&&n.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,l):i},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,n=r=null,l):a},l.sortSubgroups=function(e){return arguments.length?(s=e,n=null,l):s},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},ua.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,u=o*o+a*a;if(u>s*s/m){if(g>u){var l=t.charge/u;e.px-=o*l,e.py-=a*l}return!0}if(t.point&&u&&g>u){var l=t.pointCharge/u;e.px-=o*l,e.py-=a*l}}return!t.charge}}function t(e){e.px=ua.event.x,e.py=ua.event.y,u.resume()}var n,r,i,o,a,s,u={},l=ua.dispatch("start","tick","end"),c=[1,1],f=.9,p=du,h=gu,d=-30,g=vu,v=.1,m=.64,b=[],x=[];return u.tick=function(){if((i*=.99)<.005)return n=null,l.end({type:"end",alpha:i=0}),!0;var t,r,u,p,h,g,m,y,w,_=b.length,C=x.length;for(r=0;C>r;++r)u=x[r],p=u.source,h=u.target,y=h.x-p.x,w=h.y-p.y,(g=y*y+w*w)&&(g=i*a[r]*((g=Math.sqrt(g))-o[r])/g,y*=g,w*=g,h.x-=y*(m=p.weight+h.weight?p.weight/(p.weight+h.weight):.5),h.y-=w*m,p.x+=y*(m=1-m),p.y+=w*m);if((m=i*v)&&(y=c[0]/2,w=c[1]/2,r=-1,m))for(;++r<_;)u=b[r],u.x+=(y-u.x)*m,u.y+=(w-u.y)*m;if(d)for(ri(t=ua.geom.quadtree(b),i,s),r=-1;++r<_;)(u=b[r]).fixed||t.visit(e(u));for(r=-1;++r<_;)u=b[r],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*f,u.y-=(u.py-(u.py=u.y))*f);l.tick({type:"tick",alpha:i})},u.nodes=function(e){return arguments.length?(b=e,u):b},u.links=function(e){return arguments.length?(x=e,u):x},u.size=function(e){return arguments.length?(c=e,u):c},u.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,u):p},u.distance=u.linkDistance,u.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,u):h},u.friction=function(e){return arguments.length?(f=+e,u):f},u.charge=function(e){return arguments.length?(d="function"==typeof e?e:+e,u):d},u.chargeDistance=function(e){return arguments.length?(g=e*e,u):Math.sqrt(g)},u.gravity=function(e){return arguments.length?(v=+e,u):v},u.theta=function(e){return arguments.length?(m=e*e,u):Math.sqrt(m)},u.alpha=function(e){return arguments.length?(e=+e,i?e>0?i=e:(n.c=null,n.t=NaN,n=null,l.end({type:"end",alpha:i=0})):e>0&&(l.start({type:"start",alpha:i=e}),n=Ne(u.tick)),u):i},u.start=function(){function e(e,r){if(!n){for(n=new Array(i),u=0;i>u;++u)n[u]=[];for(u=0;l>u;++u){var o=x[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[t],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][e]))return a;return Math.random()*r}var t,n,r,i=b.length,l=x.length,f=c[0],g=c[1];for(t=0;i>t;++t)(r=b[t]).index=t,r.weight=0;for(t=0;l>t;++t)r=x[t],"number"==typeof r.source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(t=0;i>t;++t)r=b[t],isNaN(r.x)&&(r.x=e("x",f)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof p)for(t=0;l>t;++t)o[t]=+p.call(this,x[t],t);else for(t=0;l>t;++t)o[t]=p;if(a=[],"function"==typeof h)for(t=0;l>t;++t)a[t]=+h.call(this,x[t],t);else for(t=0;l>t;++t)a[t]=h;if(s=[],"function"==typeof d)for(t=0;i>t;++t)s[t]=+d.call(this,b[t],t);else for(t=0;i>t;++t)s[t]=d;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return r||(r=ua.behavior.drag().origin(y).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",ei)),arguments.length?void this.on("mouseover.force",ti).on("mouseout.force",ni).call(r):r},ua.rebind(u,l,"on")};var du=20,gu=1,vu=1/0;ua.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(e,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return ai(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=li,n=si,r=ui;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(oi(t,function(e){e.children&&(e.value=0)}),ai(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ua.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=t.value?r/t.value:0;++l<a;)e(s=o[l],n,u=s.value*r,i),n+=u}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=ua.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},ii(n,r)},ua.layout.pie=function(){function e(a){var s,u=a.length,l=a.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-c,p=Math.min(Math.abs(f)/u,+("function"==typeof o?o.apply(this,arguments):o)),h=p*(0>f?-1:1),d=ua.sum(l),g=d?(f-u*h)/d:0,v=ua.range(u),m=[];return null!=n&&v.sort(n===mu?function(e,t){return l[t]-l[e]}:function(e,t){return n(a[e],a[t])}),v.forEach(function(e){m[e]={data:a[e],value:s=l[e],startAngle:c,endAngle:c+=s*g+h,padAngle:p}}),m}var t=Number,n=mu,r=0,i=Ia,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var mu={};ua.layout.stack=function(){function e(s,u){if(!(p=s.length))return s;var l=s.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),f=n.call(e,c,u);l=ua.permute(l,f),c=ua.permute(c,f);var p,h,d,g,v=r.call(e,c,u),m=l[0].length;for(d=0;m>d;++d)for(i.call(e,l[0][d],g=v[d],c[0][d][1]),h=1;p>h;++h)i.call(e,l[h][d],g+=c[h-1][d][1],c[h][d][1]);return s}var t=y,n=di,r=gi,i=hi,o=fi,a=pi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:yu.get(t)||di,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:bu.get(t)||gi,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var yu=ua.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(vi),o=e.map(mi),a=ua.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,u=0,l=[],c=[];for(t=0;r>t;++t)n=a[t],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return ua.range(e.length).reverse()},default:di}),bu=ua.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,i,o,a,s,u,l,c=e.length,f=e[0],p=f.length,h=[];for(h[0]=u=l=0,n=1;p>n;++n){for(t=0,i=0;c>t;++t)i+=e[t][n][1];for(t=0,o=0,s=f[n][0]-f[n-1][0];c>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}h[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;p>n;++n)h[n]-=l;return h},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:gi});ua.layout.histogram=function(){function e(e,o){for(var a,s,u=[],l=e.map(n,this),c=r.call(this,l,o),f=i.call(this,c,l,o),o=-1,p=l.length,h=f.length-1,d=t?1:1/p;++o<h;)a=u[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(h>0)for(o=-1;++o<p;)(s=l[o])>=c[0]&&s<=c[1]&&(a=u[ua.bisect(f,s,1,h)-1],a.y+=d,a.push(e[o]));return u}var t=!0,n=Number,r=wi,i=bi;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Me(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return xi(e,t)}:Me(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ua.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],u=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,ai(s,function(e){e.r=+c(e.value)}),ai(s,Mi),r){var f=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;ai(s,function(e){e.r+=f}),ai(s,Mi),ai(s,function(e){e.r-=f})}return Ei(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var t,n=ua.layout.hierarchy().sort(_i),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ii(e,n)},ua.layout.tree=function(){function e(e,i){var c=a.call(this,e,i),f=c[0],p=t(f);if(ai(p,n),p.parent.m=-p.z,oi(p,r),l)oi(f,o);else{var h=f,d=f,g=f;oi(f,function(e){e.x<h.x&&(h=e),e.x>d.x&&(d=e),e.depth>g.depth&&(g=e)});var v=s(h,d)/2-h.x,m=u[0]/(d.x+s(d,h)/2+v),y=u[1]/(g.depth||1);oi(f,function(e){e.x=(e.x+v)*m,e.y=e.depth*y})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Bi(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,u=i.parent.children[0],l=i.m,c=o.m,f=a.m,p=u.m;a=Fi(a),i=Li(i),a&&i;)u=Li(u),o=Fi(o),o.a=e,r=a.z+f-i.z-l+s(a._,i._),r>0&&(Oi(Pi(a,e,n),e,r),l+=r,c+=r),f+=a.m,l+=i.m,p+=u.m,c+=o.m;a&&!Fi(o)&&(o.t=a,o.m+=f-c),i&&!Li(u)&&(u.t=i,u.m+=l-p,n=e)}return n}function o(e){e.x*=u[0],e.y=e.depth*u[1]}var a=ua.layout.hierarchy().sort(null).value(null),s=Ni,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(u=t)?o:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:o,e):l?u:null},ii(e,a)},ua.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),u=s[0],l=0;ai(u,function(e){var t=e.children;t&&t.length?(e.x=Ii(t),e.y=ji(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)});var c=zi(u),f=qi(u),p=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return ai(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/(h-p)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=ua.layout.hierarchy().sort(null).value(null),n=Ni,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},ii(e,t)},ua.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,u,l=f(n),c=[],p=o.slice(),d=1/0,g="slice"===h?l.dx:"dice"===h?l.dy:"slice-dice"===h?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(p,l.dx*l.dy/n.value),c.area=0;(u=p.length)>0;)c.push(a=p[u-1]),c.area+=a.area,"squarify"!==h||(s=r(c,g))<=d?(p.pop(),d=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,d=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=f(t),s=r.slice(),u=[];for(e(s,a.dx*a.dy/t.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*d/r,r/(t*o*d)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=e[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=e[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=l[0],o.dy=l[1]):o.dx=o.dy=0,a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),p&&(a=i),i}var a,s=ua.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=Hi,p=!1,h="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(l=e,o):l},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Hi(t):Ri(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ri(t,e)}if(!arguments.length)return c;var r;return f=null==(c=e)?Hi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(u=e?Math.round:Number,o):u!=Number},o.sticky=function(e){return arguments.length?(p=e,a=null,o):p},o.ratio=function(e){return arguments.length?(d=e,o):d},o.mode=function(e){return arguments.length?(h=e+"",o):h},ii(o,s)},ua.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do{n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ua.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},ua.scale={};var xu={floor:y,ceil:y};ua.scale.linear=function(){return Yi([0,1],[0,1],br,!1)};var wu={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return ro(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var _u=ua.format(".0e"),Cu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ua.scale.pow=function(){return io(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(ku)},ua.scale.category20=function(){return ua.scale.ordinal().range(Su)},ua.scale.category20b=function(){return ua.scale.ordinal().range(Mu)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Au)};var ku=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),Su=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),Mu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),Au=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return lo([.5],[0,1])},ua.scale.identity=function(){return co([0,1])},ua.svg={},ua.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-qa,f=s.apply(this,arguments)-qa,p=Math.abs(f-c),h=c>f?0:1;if(e>l&&(d=l,l=e,e=d),p>=za)return t(l,h)+(e?t(e,1-h):"")+"Z";var d,g,v,m,y,b,x,w,_,C,k,S,M=0,A=0,D=[];if((m=(+u.apply(this,arguments)||0)/2)&&(v=o===Du?Math.sqrt(e*e+l*l):+o.apply(this,arguments),h||(A*=-1),l&&(A=te(v/l*Math.sin(m))),e&&(M=te(v/e*Math.sin(m)))),l){y=l*Math.cos(c+A),b=l*Math.sin(c+A),x=l*Math.cos(f-A),w=l*Math.sin(f-A);var E=Math.abs(f-c-2*A)<=ja?0:1;if(A&&yo(y,b,x,w)===h^E){var T=(c+f)/2;y=l*Math.cos(T),b=l*Math.sin(T),x=w=null}}else y=b=0;if(e){_=e*Math.cos(f-M),C=e*Math.sin(f-M),k=e*Math.cos(c+M),S=e*Math.sin(c+M);var N=Math.abs(c-f+2*M)<=ja?0:1;if(M&&yo(_,C,k,S)===1-h^N){var L=(c+f)/2;_=e*Math.cos(L),C=e*Math.sin(L),k=S=null}}else _=C=0;if(p>Ba&&(d=Math.min(Math.abs(l-e)/2,+i.apply(this,arguments)))>.001){g=l>e^h?0:1;var F=d,O=d;if(ja>p){var B=null==k?[_,C]:null==x?[y,b]:On([y,b],[k,S],[x,w],[_,C]),P=y-B[0],j=b-B[1],I=x-B[0],z=w-B[1],q=1/Math.sin(Math.acos((P*I+j*z)/(Math.sqrt(P*P+j*j)*Math.sqrt(I*I+z*z)))/2),H=Math.sqrt(B[0]*B[0]+B[1]*B[1]);O=Math.min(d,(e-H)/(q-1)),F=Math.min(d,(l-H)/(q+1))}if(null!=x){var R=bo(null==k?[_,C]:[k,S],[y,b],l,F,h),V=bo([x,w],[_,C],l,F,h);d===F?D.push("M",R[0],"A",F,",",F," 0 0,",g," ",R[1],"A",l,",",l," 0 ",1-h^yo(R[1][0],R[1][1],V[1][0],V[1][1]),",",h," ",V[1],"A",F,",",F," 0 0,",g," ",V[0]):D.push("M",R[0],"A",F,",",F," 0 1,",g," ",V[0])}else D.push("M",y,",",b);if(null!=k){var W=bo([y,b],[k,S],e,-O,h),U=bo([_,C],null==x?[y,b]:[x,w],e,-O,h);d===O?D.push("L",U[0],"A",O,",",O," 0 0,",g," ",U[1],"A",e,",",e," 0 ",h^yo(U[1][0],U[1][1],W[1][0],W[1][1]),",",1-h," ",W[1],"A",O,",",O," 0 0,",g," ",W[0]):D.push("L",U[0],"A",O,",",O," 0 0,",g," ",W[0])}else D.push("L",_,",",C)}else D.push("M",y,",",b),null!=x&&D.push("A",l,",",l," 0 ",E,",",h," ",x,",",w),D.push("L",_,",",C),null!=k&&D.push("A",e,",",e," 0 ",N,",",1-h," ",k,",",S);return D.push("Z"),D.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=po,r=ho,i=fo,o=Du,a=go,s=vo,u=mo;return e.innerRadius=function(t){return arguments.length?(n=Me(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Me(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Me(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Du?Du:Me(t),e):o},e.startAngle=function(t){return arguments.length?(a=Me(t),e):a},e.endAngle=function(t){return arguments.length?(s=Me(t),e):s},e.padAngle=function(t){return arguments.length?(u=Me(t),e):u},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-qa;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Du="auto";ua.svg.line=function(){return xo(y)};var Eu=ua.map({linear:wo,"linear-closed":_o,step:Co,"step-before":ko,"step-after":So,basis:No,"basis-open":Lo,"basis-closed":Fo,bundle:Oo,cardinal:Do,"cardinal-open":Mo,"cardinal-closed":Ao,monotone:qo});Eu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Tu=[0,2/3,1/3,0],Nu=[0,1/3,2/3,0],Lu=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var e=xo(Ho);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},ko.reverse=So,So.reverse=ko,ua.svg.area=function(){return Ro(y)},ua.svg.area.radial=function(){var e=Ro(Ho);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ua.svg.chord=function(){function e(e,s){var u=t(this,o,e,s),l=t(this,a,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=s.call(e,i,r),a=u.call(e,i,r)-qa,c=l.call(e,i,r)-qa;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>ja)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=bn,a=xn,s=Vo,u=go,l=vo;return e.radius=function(t){return arguments.length?(s=Me(t),e):s},e.source=function(t){return arguments.length?(o=Me(t),e):o},e.target=function(t){return arguments.length?(a=Me(t),e):a},e.startAngle=function(t){return arguments.length?(u=Me(t),e):u},e.endAngle=function(t){return arguments.length?(l=Me(t),e):l},e},ua.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=bn,n=xn,r=Wo;return e.source=function(n){return arguments.length?(t=Me(n),e):t},e.target=function(t){return arguments.length?(n=Me(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},ua.svg.diagonal.radial=function(){var e=ua.svg.diagonal(),t=Wo,n=e.projection;return e.projection=function(e){return arguments.length?n(Uo(t=e)):t},e},ua.svg.symbol=function(){function e(e,r){return(Fu.get(t.call(this,e,r))||Go)(n.call(this,e,r))}var t=Jo,n=$o;return e.type=function(n){return arguments.length?(t=Me(n),e):t},e.size=function(t){return arguments.length?(n=Me(t),e):n},e};var Fu=ua.map({circle:Go,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Bu)),n=t*Bu;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){
var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ou),n=t*Ou/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ou),n=t*Ou/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ua.svg.symbolTypes=Fu.keys();var Ou=Math.sqrt(3),Bu=Math.tan(30*Ha);Aa.transition=function(e){for(var t,n,r=Pu||++qu,i=Qo(e),o=[],a=ju||{time:Date.now(),ease:Mr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&ea(n,c,i,r,a),t.push(n)}return Xo(o,i,r)},Aa.interrupt=function(e){return this.each(null==e?Iu:Yo(Qo(e)))};var Pu,ju,Iu=Yo(Qo()),zu=[],qu=0;zu.call=Aa.call,zu.empty=Aa.empty,zu.node=Aa.node,zu.size=Aa.size,ua.transition=function(e,t){return e&&e.transition?Pu?e.transition(t):e:ua.selection().transition(e)},ua.transition.prototype=zu,zu.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=D(e);for(var s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),ea(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return Xo(a,o,i)},zu.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,u=[];e=E(e);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],p=-1,h=f.length;++p<h;)if(r=f[p]){o=r[s][a],n=e.call(r,r.__data__,p,l),u.push(t=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&ea(i,d,s,a,o),t.push(i)}return Xo(u,s,a)},zu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=H(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return Xo(i,this.namespace,this.id)},zu.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):V(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},zu.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Jr:br,s=ua.ns.qualify(e);return Ko(this,"attr."+e,t,s.local?o:i)},zu.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=ua.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},zu.style=function(e,n,r){function i(){this.style.removeProperty(e)}function o(n){return null==n?i:(n+="",function(){var i,o=t(this).getComputedStyle(this,null).getPropertyValue(e);return o!==n&&(i=br(o,n),function(t){this.style.setProperty(e,i(t),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(n="");for(r in e)this.style(r,e[r],n);return this}r=""}return Ko(this,"style."+e,n,o)},zu.styleTween=function(e,n,r){function i(i,o){var a=n.call(this,i,o,t(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,i)},zu.text=function(e){return Ko(this,"text",e,Zo)},zu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},zu.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ua.ease.apply(ua,arguments)),V(this,function(r){r[n][t].ease=e}))},zu.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:V(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},zu.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:V(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},zu.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=ju,o=Pu;try{Pu=n,V(this,function(t,i,o){ju=t[r][n],e.call(t,t.__data__,i,o)})}finally{ju=i,Pu=o}}else V(this,function(i){var o=i[r][n];(o.event||(o.event=ua.dispatch("start","end","interrupt"))).on(e,t)});return this},zu.transition=function(){for(var e,t,n,r,i=this.id,o=++qu,a=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(e=[]);for(var t=this[u],c=0,f=t.length;f>c;c++)(n=t[c])&&(r=n[a][i],ea(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Xo(s,a,o)},ua.svg.axis=function(){function e(e){e.each(function(){var e,l=ua.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),p=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,h=null==t?f.tickFormat?f.tickFormat.apply(f,s):y:t,d=l.selectAll(".tick").data(p,f),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Ba),v=ua.transition(d.exit()).style("opacity",Ba).remove(),m=ua.transition(d.order()).style("opacity",1),b=Math.max(i,0)+a,x=Wi(f),w=l.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),ua.transition(w));g.append("line"),g.append("text");var C,k,S,M,A=g.select("line"),D=m.select("line"),E=d.select("text").text(h),T=g.select("text"),N=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=ta,C="x",S="y",k="x2",M="y2",E.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*o+"V0H"+x[1]+"V"+L*o)):(e=na,C="y",S="x",k="y2",M="x2",E.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),_.attr("d","M"+L*o+","+x[0]+"H0V"+x[1]+"H"+L*o)),A.attr(M,L*i),T.attr(S,L*b),D.attr(k,0).attr(M,L*i),N.attr(C,0).attr(S,L*b),f.rangeBand){var F=f,O=F.rangeBand()/2;c=f=function(e){return F(e)+O}}else c.rangeBand?c=f:v.call(e,f,c);g.call(e,c,f),m.call(e,f,f)})}var t,n=ua.scale.linear(),r=Hu,i=6,o=6,a=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Ru?t+"":Hu,e):r},e.ticks=function(){return arguments.length?(s=ca(arguments),e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Hu="bottom",Ru={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function e(t){t.each(function(){var t=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=t.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=t.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Vu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var u,f=ua.transition(t),p=ua.transition(a);l&&(u=Wi(l),p.attr("x",u[0]).attr("width",u[1]-u[0]),r(f)),c&&(u=Wi(c),p.attr("y",u[0]).attr("height",u[1]-u[0]),i(f)),n(f)})}function n(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)]+","+p[+/^s/.test(e)]+")"})}function r(e){e.select(".extent").attr("x",f[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function i(e){e.select(".extent").attr("y",p[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function o(){function o(){32==ua.event.keyCode&&(E||(b=null,N[0]-=f[1],N[1]-=p[1],E=2),k())}function g(){32==ua.event.keyCode&&2==E&&(N[0]+=f[1],N[1]+=p[1],E=0,k())}function v(){var e=ua.mouse(w),t=!1;x&&(e[0]+=x[0],e[1]+=x[1]),E||(ua.event.altKey?(b||(b=[(f[0]+f[1])/2,(p[0]+p[1])/2]),N[0]=f[+(e[0]<b[0])],N[1]=p[+(e[1]<b[1])]):b=null),A&&m(e,l,0)&&(r(S),t=!0),D&&m(e,c,1)&&(i(S),t=!0),t&&(n(S),C({type:"brush",mode:E?"move":"resize"}))}function m(e,t,n){var r,i,o=Wi(t),u=o[0],l=o[1],c=N[n],g=n?p:f,v=g[1]-g[0];return E&&(u-=c,l-=v+c),r=(n?d:h)?Math.max(u,Math.min(l,e[n])):e[n],E?i=(r+=c)+v:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),r>c?(i=r,r=c):i=c),g[0]!=r||g[1]!=i?(n?s=null:a=null,g[0]=r,g[1]=i,!0):void 0}function y(){v(),S.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ua.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),C({type:"brushend"})}var b,x,w=this,_=ua.select(ua.event.target),C=u.of(w,arguments),S=ua.select(w),M=_.datum(),A=!/^(n|s)$/.test(M)&&l,D=!/^(e|w)$/.test(M)&&c,E=_.classed("extent"),T=Y(w),N=ua.mouse(w),L=ua.select(t(w)).on("keydown.brush",o).on("keyup.brush",g);if(ua.event.changedTouches?L.on("touchmove.brush",v).on("touchend.brush",y):L.on("mousemove.brush",v).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),E)N[0]=f[0]-N[0],N[1]=p[0]-N[1];else if(M){var F=+/w$/.test(M),O=+/^n/.test(M);x=[f[1-F]-N[0],p[1-O]-N[1]],N[0]=f[F],N[1]=p[O]}else ua.event.altKey&&(b=N.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",_.style("cursor")),C({type:"brushstart"}),v()}var a,s,u=M(e,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],p=[0,0],h=!0,d=!0,g=Wu[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:f,y:p,i:a,j:s},n=this.__chart__||t;this.__chart__=t,Pu?ua.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,p=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=xr(f,t.x),r=xr(p,t.y);return a=s=null,function(i){f=t.x=n(i),p=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,g=Wu[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,g=Wu[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(h=!!t[0],d=!!t[1]):l?h=!!t:c&&(d=!!t),e):l&&c?[h,d]:l?h:c?d:null},e.extent=function(t){var n,r,i,o,u;return arguments.length?(l&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(u=n,n=r,r=u),n==f[0]&&r==f[1]||(f=[n,r])),c&&(i=t[0],o=t[1],l&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),i>o&&(u=i,i=o,o=u),i==p[0]&&o==p[1]||(p=[i,o])),e):(l&&(a?(n=a[0],r=a[1]):(n=f[0],r=f[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(s?(i=s[0],o=s[1]):(i=p[0],o=p[1],c.invert&&(i=c.invert(i),o=c.invert(o)),i>o&&(u=i,i=o,o=u))),l&&c?[[n,i],[r,o]]:l?[n,r]:c&&[i,o])},e.clear=function(){return e.empty()||(f=[0,0],p=[0,0],a=s=null),e},e.empty=function(){return!!l&&f[0]==f[1]||!!c&&p[0]==p[1]},ua.rebind(e,u,"on")};var Vu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Uu=cs.format=vs.timeFormat,$u=Uu.utc,Ju=$u("%Y-%m-%dT%H:%M:%S.%LZ");Uu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ra:Ju,ra.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ra.toString=Ju.toString,cs.second=qe(function(e){return new fs(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),cs.seconds=cs.second.range,cs.seconds.utc=cs.second.utc.range,cs.minute=qe(function(e){return new fs(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),cs.minutes=cs.minute.range,cs.minutes.utc=cs.minute.utc.range,cs.hour=qe(function(e){var t=e.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),cs.hours=cs.hour.range,cs.hours.utc=cs.hour.utc.range,cs.month=qe(function(e){return e=cs.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),cs.months=cs.month.range,cs.months.utc=cs.month.utc.range;var Gu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yu=[[cs.second,1],[cs.second,5],[cs.second,15],[cs.second,30],[cs.minute,1],[cs.minute,5],[cs.minute,15],[cs.minute,30],[cs.hour,1],[cs.hour,3],[cs.hour,6],[cs.hour,12],[cs.day,1],[cs.day,2],[cs.week,1],[cs.month,1],[cs.month,3],[cs.year,1]],Xu=Uu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Et]]),Ku={range:function(e,t,n){return ua.range(Math.ceil(e/n)*n,+t,n).map(oa)},floor:y,ceil:y};Yu.year=cs.year,cs.scale=function(){return ia(ua.scale.linear(),Yu,Xu)};var Zu=Yu.map(function(e){return[e[0].utc,e[1]]}),Qu=$u.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Et]]);Zu.year=cs.year.utc,cs.scale.utc=function(){return ia(ua.scale.linear(),Zu,Qu)},ua.text=Ae(function(e){return e.responseText}),ua.json=function(e,t){return De(e,"application/json",aa,t)},ua.html=function(e,t){return De(e,"text/html",sa,t)},ua.xml=Ae(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}();var CodeMirror=function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function a(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function u(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function l(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function f(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function p(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function h(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function d(e){for(;Ja.length<=e;)Ja.push(g(Ja)+" ");return Ja[e]}function g(e){return e[e.length-1]}function v(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function m(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function y(){}function b(e,t){var n;return Object.create?n=Object.create(e):(y.prototype=e,n=new y),t&&c(t,n),n}function x(e){return/\w/.test(e)||e>"Â"&&(e.toUpperCase()!=e.toLowerCase()||Ga.test(e))}function w(e,t){return t?!!(t.source.indexOf("\\w")>-1&&x(e))||t.test(e):x(e)}function _(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function C(e){return e.charCodeAt(0)>=768&&Ya.test(e)}function k(e,t,n){for(;(n<0?t>0:t<e.length)&&C(e.charAt(t));)t+=n;return t}function S(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function M(e,t,n){var o=this;this.input=n,o.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=r("div",null,"CodeMirror-cursors"),o.measure=r("div",null,"CodeMirror-measure"),o.lineMeasure=r("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var a=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=r("div",[a],null,"position: relative"),o.sizer=r("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=r("div",null,null,"position: absolute; height: "+Ra+"px; width: 1px;"),o.gutters=r("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=r("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=r("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),ya&&ba<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),xa||da&&Ea||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function A(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function D(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function E(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function T(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function N(e){if(null==e.parent)return null;for(var t=e.parent,n=p(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function L(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],u=s.height;if(t<u)break;t-=u}return n+a}function F(e,t){return t>=e.first&&t<e.first+e.size}function O(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function B(e,t,n){if(void 0===n&&(n=null),!(this instanceof B))return new B(e,t,n);this.line=e,this.ch=t,this.sticky=n}function P(e,t){return e.line-t.line||e.ch-t.ch}function j(e,t){return e.sticky==t.sticky&&0==P(e,t)}function I(e){return B(e.line,e.ch)}function z(e,t){return P(e,t)<0?t:e}function q(e,t){return P(e,t)<0?e:t}function H(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function R(e,t){if(t.line<e.first)return B(e.first,0);var n=e.first+e.size-1;return t.line>n?B(n,A(e,n).text.length):V(t,A(e,t.line).text.length)}function V(e,t){var n=e.ch;return null==n||n>t?B(e.line,t):n<0?B(e.line,0):e}function W(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=R(e,t[r]);return n}function U(){Xa=!0}function $(){Ka=!0}function J(e,t,n){this.marker=e,this.from=t,this.to=n}function G(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Y(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function X(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function K(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new J(a,o.from,u?null:o.to))}}return r}function Z(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new J(a,u?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Q(e,t){if(t.full)return null;var n=F(e,t.from.line)&&A(e,t.from.line).markedSpans,r=F(e,t.to.line)&&A(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==P(t.from,t.to),s=K(n,i,a),u=Z(r,o,a),l=1==t.text.length,c=g(t.text).length+(l?i:0);if(s)for(var f=0;f<s.length;++f){var p=s[f];if(null==p.to){var h=G(u,p.marker);h?l&&(p.to=null==h.to?null:h.to+c):p.to=i}}if(u)for(var d=0;d<u.length;++d){var v=u[d];if(null!=v.to&&(v.to+=c),null==v.from){var m=G(s,v.marker);m||(v.from=c,l&&(s||(s=[])).push(v))}else v.from+=c,l&&(s||(s=[])).push(v)}s&&(s=ee(s)),u&&u!=s&&(u=ee(u));var y=[s];if(!l){var b,x=t.text.length-2;if(x>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(b||(b=[])).push(new J(s[w].marker,null,null));for(var _=0;_<x;++_)y.push(b);y.push(u)}return y}function ee(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function te(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=p(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(P(l.to,s.from)<0||P(l.from,s.to)>0)){var c=[u,1],f=P(l.from,s.from),h=P(l.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:l.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}function ne(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function re(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function ae(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=P(r.from,i.from)||ie(e)-ie(t);if(o)return-o;var a=P(r.to,i.to)||oe(e)-oe(t);return a||t.id-e.id}function se(e,t){var n,r=Ka&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||ae(n,i.marker)<0)&&(n=i.marker);return n}function ue(e){return se(e,!0)}function le(e){return se(e,!1)}function ce(e,t,n,r,i){var o=A(e,t),a=Ka&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=P(l.from,n)||ie(u.marker)-ie(i),f=P(l.to,r)||oe(u.marker)-oe(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?P(l.to,n)>=0:P(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?P(l.from,r)<=0:P(l.from,r)<0)))return!0}}}function fe(e){for(var t;t=ue(e);)e=t.find(-1,!0).line;return e}function pe(e){for(var t;t=le(e);)e=t.find(1,!0).line;return e}function he(e){for(var t,n;t=le(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function de(e,t){var n=A(e,t),r=fe(n);return n==r?t:N(r)}function ge(e,t){if(t>e.lastLine())return t;var n,r=A(e,t);if(!ve(e,r))return t;for(;n=le(r);)r=n.find(1,!0).line;return N(r)+1}function ve(e,t){var n=Ka&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&me(e,t,r))return!0}}function me(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return me(e,r.line,G(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&me(e,t,i))return!0}function ye(e){e=fe(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function be(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=ue(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=le(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function xe(e){var t=e.display,n=e.doc;t.maxLine=A(n,n.first),t.maxLineLength=be(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=be(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function we(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function _e(e,t,n){var r;Za=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:Za=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:Za=i)}return null!=r?r:Za}function Ce(e,t){var n=e.order;return null==n&&(n=e.order=Qa(e.text,t)),n}function ke(e,t){return e._handlers&&e._handlers[t]||es}function Se(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=p(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Me(e,t){var n=ke(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Ae(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Me(e,n||t.type,e,t),Fe(t)||t.codemirrorIgnore}function De(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==p(n,t[r])&&n.push(t[r])}function Ee(e,t){return ke(e,t).length>0}function Te(e){e.prototype.on=function(e,t){ts(this,e,t)},e.prototype.off=function(e,t){Se(this,e,t)}}function Ne(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Le(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Fe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Oe(e){Ne(e),Le(e)}function Be(e){return e.target||e.srcElement}function Pe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ta&&e.ctrlKey&&1==t&&(t=3),t}function je(e){if(null==qa){var t=r("span","â");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(qa=t.offsetWidth<=1&&t.offsetHeight>2&&!(ya&&ba<8))}var i=qa?r("span","â"):r("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Ie(e){if(null!=Ha)return Ha;var r=n(e,document.createTextNode("AØ®A")),i=Oa(r,0,1).getBoundingClientRect(),o=Oa(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Ha=o.right-i.right<3)}function ze(e){if(null!=as)return as;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Oa(t,0,1).getBoundingClientRect();return as=Math.abs(i.left-o.left)>1}function qe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ss[e]=t}function He(e,t){us[e]=t}function Re(e){if("string"==typeof e&&us.hasOwnProperty(e))e=us[e];else if(e&&"string"==typeof e.name&&us.hasOwnProperty(e.name)){var t=us[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Re("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Re("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=Re(t);var n=ss[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if(ls.hasOwnProperty(t.name)){var i=ls[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function We(e,t){c(t,ls.hasOwnProperty(e)?ls[e]:ls[e]={})}function Ue(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function $e(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Je(e,t,n){return!e.startState||e.startState(t,n)}function Ge(e,t,n,r){var i=[e.state.modeGen],o={};nt(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=0;s<e.state.overlays.length;++s)!function(r){n.baseTokens=i;var s=e.state.overlays[r],u=1,l=0;n.state=!0,nt(e,t.text,s.mode,n,function(e,t){for(var n=u;l<e;){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,l=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,u-n,e,"overlay "+t),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1}(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Ye(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Xe(e,N(t)),i=t.text.length>e.options.maxHighlightLength&&Ue(e.doc.mode,r.state),o=Ge(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Xe(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ps(r,!0,t);var o=rt(e,t,n),a=o>r.first&&A(r,o-1).stateAfter,s=a?ps.fromSaved(r,a,o):new ps(r,Je(r.mode),o);return r.iter(o,t,function(n){Ke(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function Ke(e,t,n,r){var i=e.doc.mode,o=new cs(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Ze(i,n.state);!o.eol();)Qe(i,o,n.state),o.start=o.pos}function Ze(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=$e(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Qe(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=$e(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,n,r){var i,o=e.doc,a=o.mode
;t=R(o,t);var s,u=A(o,t.line),l=Xe(e,t.line,n),c=new cs(u.text,e.options.tabSize,l);for(r&&(s=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Qe(a,c,l.state),r&&s.push(new hs(c,i,Ue(o.mode,l.state)));return r?s:new hs(c,i,l.state)}function tt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function nt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,c=null,f=new cs(t,e.options.tabSize,r),p=e.options.addModeClass&&[null];for(""==t&&tt(Ze(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&Ke(e,t,r,f.pos),f.pos=t.length,u=null):u=tt(Qe(n,f,r.state,p),o),p){var h=p[0].name;h&&(u="m-"+(u?h+" "+u:h))}if(!s||c!=u){for(;l<f.start;)l=Math.min(f.start,l+5e3),i(l,c);c=u}f.start=f.pos}for(;l<f.pos;){var d=Math.min(f.pos,l+5e3);i(d,c),l=d}}function rt(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=A(o,s-1),l=u.stateAfter;if(l&&(!n||s+(l instanceof fs?l.lookAhead:0)<=o.modeFrontier))return s;var c=f(u.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function it(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=A(e,r).stateAfter;if(i&&(!(i instanceof fs)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function ot(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ne(e),re(e,n);var i=r?r(e):1;i!=e.height&&T(e,i)}function at(e){e.parent=null,ne(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ms:vs;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ut(e,t){var n=i("span",null,null,xa?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(ya||xa)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,s=void 0;r.pos=0,r.addToken=ct,Ie(e.display.measure)&&(s=Ce(a,e.doc.direction))&&(r.addToken=pt(r.addToken,s)),r.map=[];dt(a,r,Ye(e,a,t!=e.display.externalMeasured&&N(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=u(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=u(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(je(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(xa){var l=r.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Me(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=u(r.pre.className,r.textClass||"")),r}function lt(e){var t=r("span","â¢","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,n,i,o,a,s){if(t){var u,l=e.splitSpaces?ft(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){u=document.createDocumentFragment();for(var p=0;;){c.lastIndex=p;var h=c.exec(t),g=h?h.index-p:t.length-p;if(g){var v=document.createTextNode(l.slice(p,p+g));ya&&ba<9?u.appendChild(r("span",[v])):u.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!h)break;p+=g+1;var m=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=u.appendChild(r("span",d(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?(m=u.appendChild(r("span","\r"==h[0]?"â":"â¤","cm-invalidchar")),m.setAttribute("cm-text",h[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(h[0]),m.setAttribute("cm-text",h[0]),ya&&ba<9?u.appendChild(r("span",[m])):u.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,u=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,u),ya&&ba<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||i||o||f||s){var x=n||"";i&&(x+=i),o&&(x+=o);var w=r("span",[u],x,s);return a&&(w.title=a),e.content.appendChild(w)}e.content.appendChild(u)}}function ft(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="Â "),r+=o,n=" "==o}return r}function pt(e,t){return function(n,r,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var f=void 0,p=0;p<t.length&&(f=t[p],!(f.to>l&&f.from<=l));p++);if(f.to>=c)return e(n,r,i,o,a,s,u);e(n,r.slice(0,f.to-l),i,o,null,s,u),o=null,r=r.slice(f.to-l),l=f.to}}}function ht(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function dt(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,u,l,c,f,p,h=i.length,d=0,g=1,v="",m=0;;){if(m==d){u=l=c=f=s="",p=null,m=1/0;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],_=w.marker;"bookmark"==_.type&&w.from==d&&_.widgetNode?y.push(_):w.from<=d&&(null==w.to||w.to>d||_.collapsed&&w.to==d&&w.from==d)?(null!=w.to&&w.to!=d&&m>w.to&&(m=w.to,l=""),_.className&&(u+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&w.from==d&&(c+=" "+_.startStyle),_.endStyle&&w.to==m&&(b||(b=[])).push(_.endStyle,w.to),_.title&&!f&&(f=_.title),_.collapsed&&(!p||ae(p.marker,_)<0)&&(p=w)):w.from>d&&m>w.from&&(m=w.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==m&&(l+=" "+b[C]);if(!p||p.from==d)for(var k=0;k<y.length;++k)ht(t,0,y[k]);if(p&&(p.from||0)==d){if(ht(t,(null==p.to?h+1:p.to)-d,p.marker,null==p.from),null==p.to)return;p.to==d&&(p=!1)}}if(d>=h)break;for(var S=Math.min(h,m);;){if(v){var M=d+v.length;if(!p){var A=M>S?v.slice(0,S-d):v;t.addToken(t,A,a?a+u:u,c,d+A.length==m?l:"",f,s)}if(M>=S){v=v.slice(S-d),d=S;break}d=M,c=""}v=i.slice(o,o=n[g++]),a=st(n[g++],t.cm.options)}}else for(var D=1;D<n.length;D+=2)t.addToken(t,i.slice(o,o=n[D]),st(n[D+1],t.cm.options))}function gt(e,t,n){this.line=t,this.rest=he(t),this.size=this.rest?N(g(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ve(e,t)}function vt(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new gt(e.doc,A(e.doc,o),o);r=o+a.size,i.push(a)}return i}function mt(e){ys?ys.ops.push(e):e.ownsGroup=ys={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function bt(e,t){var n=e.ownsGroup;if(n)try{yt(n)}finally{ys=null,t(n)}}function xt(e,t){var n=ke(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);ys?r=ys.delayedCallbacks:bs?r=bs:(r=bs=[],setTimeout(wt,0));for(var o=0;o<n.length;++o)!function(e){r.push(function(){return n[e].apply(null,i)})}(o)}}function wt(){var e=bs;bs=null;for(var t=0;t<e.length;++t)e[t]()}function _t(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Mt(e,t):"gutter"==o?Dt(e,t,n,r):"class"==o?At(e,t):"widget"==o&&Et(e,t,r)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ya&&ba<8&&(e.node.style.zIndex=2)),e.node}function kt(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Ct(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function St(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ut(e,t)}function Mt(e,t){var n=t.text.className,r=St(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,At(e,t)):n&&(t.text.className=n)}function At(e,t){kt(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Dt(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=Ct(t),u=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(u),s.insertBefore(u,t.text),t.line.gutterClass&&(u.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=u.appendChild(r("div",O(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],f=a.hasOwnProperty(c)&&a[c];f&&u.appendChild(r("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Et(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Nt(e,t,n)}function Tt(e,t,n,r){var i=St(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),At(e,t),Dt(e,t,n,r),Nt(e,t,r),t.node}function Nt(e,t,n){if(Lt(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Lt(e,t.rest[r],t,n,!1)}function Lt(e,t,n,i,o){if(t.widgets)for(var a=Ct(n),s=0,u=t.widgets;s<u.length;++s){var l=u[s],c=r("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Ft(l,c,n,i),e.display.input.setUneditable(c),o&&l.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),xt(l,"redraw")}}function Ft(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Ot(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Bt(e,t){for(var n=Be(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Pt(e){return e.lineSpace.offsetTop}function jt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function It(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function zt(e){return Ra-e.display.nativeBarWidth}function qt(e){return e.display.scroller.clientWidth-zt(e)-e.display.barWidth}function Ht(e){return e.display.scroller.clientHeight-zt(e)-e.display.barHeight}function Rt(e,t,n){var r=e.options.lineWrapping,i=r&&qt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Vt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(N(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Wt(e,t){t=fe(t);var r=N(t),i=e.display.externalMeasured=new gt(e.doc,t,r);i.lineN=r;var o=i.built=ut(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function Ut(e,t,n,r){return Gt(e,Jt(e,t),n,r)}function $t(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Mn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Jt(e,t){var n=N(t),r=$t(e,n);r&&!r.text?r=null:r&&r.changes&&(_t(e,r,n,wn(e)),e.curOp.forceUpdate=!0),r||(r=Wt(e,t));var i=Vt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Gt(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Rt(e,t.view,t.rect),t.hasHeights=!0),o=Kt(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Yt(e,t,n){for(var r,i,o,a,s,u,l=0;l<e.length;l+=3)if(s=e[l],u=e[l+1],t<s?(i=0,o=1,a="left"):t<u?(i=t-s,o=i+1):(l==e.length-3||t==u&&e[l+3]>t)&&(o=u-s,i=o-1,t>=u&&(a="right")),null!=i){if(r=e[l+2],s==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)r=e[2+(l-=3)],a="left";if("right"==n&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)r=e[(l+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function Xt(e,t){var n=xs;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Kt(e,t,n,r){var i,o=Yt(t.map,n,r),a=o.node,s=o.start,u=o.end,l=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&C(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+u<o.coverEnd&&C(t.line.text.charAt(o.coverStart+u));)++u;if(i=ya&&ba<9&&0==s&&u==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Xt(Oa(a,s,u).getClientRects(),r),i.left||i.right||0==s)break;u=s,s-=1,l="right"}ya&&ba<11&&(i=Zt(e.display.measure,i))}else{s>0&&(l=r="right");var f;i=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(ya&&ba<9&&!s&&(!i||!i.left&&!i.right)){var p=a.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+xn(e.display),top:p.top,bottom:p.bottom}:xs}for(var h=i.top-t.rect.top,d=i.bottom-t.rect.top,g=(h+d)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],x={left:("right"==l?i.right:i.left)-t.rect.left,right:("left"==l?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=h,x.rbottom=d),x}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!ze(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Qt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return _a&&Da?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return _a&&Da?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Ot(e.widgets[n]));return t}function an(e,t,n,r,i){if(!i){var o=on(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=ye(t);if("local"==r?a+=Pt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:rn());var u=s.left+("window"==r?0:nn());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function sn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=nn(),i-=rn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function un(e,t,n,r,i){return r||(r=A(e.doc,t.line)),an(e,r,Ut(e,r,t.ch,i),n)}function ln(e,t,n,r,i,o){function a(t,a){var s=Gt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,an(e,r,s,n)}function s(e,t,n){var r=u[t],i=1==r.level;return a(n?e-1:e,i!=n)}r=r||A(e.doc,t.line),i||(i=Jt(e,r));var u=Ce(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!u)return a("before"==c?l-1:l,"before"==c);var f=_e(u,l,c),p=Za,h=s(l,f,"before"==c);return null!=p&&(h.other=s(l,p,"before"!=c)),h}function cn(e,t){var n=0;t=R(e.doc,t),e.options.lineWrapping||(n=xn(e.display)*t.ch);var r=A(e.doc,t.line),i=ye(r)+Pt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function fn(e,t,n,r,i){var o=B(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function pn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return fn(r.first,0,null,!0,-1);var i=L(r,n),o=r.first+r.size-1;if(i>o)return fn(r.first+r.size-1,A(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=A(r,i);;){var s=vn(e,a,i,t,n),u=le(a),l=u&&u.find(0,!0);if(!u||!(s.ch>l.from.ch||s.ch==l.from.ch&&s.xRel>0))return s;i=N(a=l.to.line)}}function hn(e,t,n,r){r-=on(t);var i=t.text.length,o=S(function(t){return Gt(e,n,t-1).bottom<=r},i,0);return i=S(function(t){return Gt(e,n,t).top>r},o,i),{begin:o,end:i}}function dn(e,t,n,r){return n||(n=Jt(e,t)),hn(e,t,n,an(e,t,Gt(e,n,r),"line").top)}function gn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function vn(e,t,n,r,i){i-=ye(t);var o=Jt(e,t),a=on(t),s=0,u=t.text.length,l=!0,c=Ce(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?yn:mn)(e,t,n,o,c,r,i);l=1!=f.level,s=l?f.from:f.to-1,u=l?f.to:f.from-1}var p,h,d=null,g=null,v=S(function(t){var n=Gt(e,o,t);return n.top+=a,n.bottom+=a,!!gn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(d=t,g=n),!0)},s,u),m=!1;if(g){var y=r-g.left<g.right-r,b=y==l;v=d+(b?0:1),h=b?"after":"before",p=y?g.left:g.right}else{l||v!=u&&v!=s||v++,h=0==v?"after":v==t.text.length?"before":Gt(e,o,v-(l?1:0)).bottom+a<=i==l?"after":"before";var x=ln(e,B(n,v,h),"line",t,o);p=x.left,m=i<x.top||i>=x.bottom}return v=k(t.text,v,1),fn(n,v,h,m,r-p)}function mn(e,t,n,r,i,o,a){var s=S(function(s){var u=i[s],l=1!=u.level;return gn(ln(e,B(n,l?u.to:u.from,l?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,c=ln(e,B(n,l?u.from:u.to,l?"after":"before"),"line",t,r);gn(c,o,a,!0)&&c.top>a&&(u=i[s-1])}return u}function yn(e,t,n,r,i,o,a){var s=hn(e,t,r,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,f=null,p=0;p<i.length;p++){var h=i[p];if(!(h.from>=l||h.to<=u)){var d=1!=h.level,g=Gt(e,r,d?Math.min(l,h.to)-1:Math.max(u,h.from)).right,v=g<o?o-g+1e9:g-o;(!c||f>v)&&(c=h,f=v)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}function bn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==gs){gs=r("pre");for(var i=0;i<49;++i)gs.appendChild(document.createTextNode("x")),gs.appendChild(r("br"));gs.appendChild(document.createTextNode("x"))}n(e.measure,gs);var o=gs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function xn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t]);n(e.measure,i);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function wn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:_n(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function _n(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cn(e){var t=bn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/xn(e.display)-3);return function(i){if(ve(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function kn(e){var t=e.doc,n=Cn(e);t.iter(function(e){var t=n(e);t!=e.height&&T(e,t)})}function Sn(e,t,n,r){var i=e.display;if(!n&&"true"==Be(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var u,l=pn(e,o,a);if(r&&1==l.xRel&&(u=A(e.doc,l.line).text).length==l.ch){var c=f(u,u.length,e.options.tabSize)-u.length;l=B(l.line,Math.max(0,Math.round((o-It(e.display).left)/xn(e.display))-c))}return l}function Mn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function An(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Dn(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&En(e,s.head,i),u||Nn(e,s,o)}}return r}function En(e,t,n){var i=ln(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div","Â ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var a=n.appendChild(r("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Tn(e,t){return e.top-t.top||e.left-t.left}function Nn(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),u.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?f-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return un(e,B(t,n),"div",h,r)}function a(t,n,r){var i=dn(e,h,null,t),a="ltr"==n==("after"==r)?"left":"right";return o("after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),a)[a]}var u,l,h=A(s,t),d=h.text.length,g=Ce(h,s.direction);return we(g,n||0,null==r?d:r,function(e,t,s,h){var v="ltr"==s,m=o(e,v?"left":"right"),y=o(t-1,v?"right":"left"),b=null==n&&0==e,x=null==r&&t==d,w=0==h,_=!g||h==g.length-1;if(y.top-m.top<=3){var C=(p?b:x)&&w,k=(p?x:b)&&_,S=C?c:(v?m:y).left,M=k?f:(v?y:m).right;i(S,m.top,M-S,m.bottom)}else{var A,D,E,T;v?(A=p&&b&&w?c:m.left,D=p?f:a(e,s,"before"),E=p?c:a(t,s,"after"),T=p&&x&&_?f:y.right):(A=p?a(e,s,"before"):c,D=!p&&b&&w?f:m.right,E=!p&&x&&_?c:y.left,T=p?a(t,s,"after"):f),i(A,m.top,D-A,m.bottom),m.bottom<y.top&&i(c,m.bottom,null,y.top),i(E,y.top,T-E,y.bottom)}(!u||Tn(m,u)<0)&&(u=m),Tn(y,u)<0&&(u=y),(!l||Tn(m,l)<0)&&(l=m),Tn(y,l)<0&&(l=y)}),{start:u,end:l}}var a=e.display,s=e.doc,u=document.createDocumentFragment(),l=It(e.display),c=l.left,f=Math.max(a.sizerWidth,qt(e)-a.sizer.offsetLeft)-l.right,p="ltr"==s.direction,h=t.from(),d=t.to();if(h.line==d.line)o(h.line,h.ch,d.ch);else{var g=A(s,h.line),v=A(s,d.line),m=fe(g)==fe(v),y=o(h.line,h.ch,m?g.text.length+1:null).end,b=o(d.line,m?0:null,d.ch).start;m&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}n.appendChild(u)}function Ln(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Fn(e){e.state.focused||(e.display.input.focus(),Bn(e))}function On(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Pn(e))},100)}function Bn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Me(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xa&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ln(e))}function Pn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Me(e,"blur",e,t),e.state.focused=!1,ja(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function jn(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(ya&&ba<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var u=i.line.height-o;if(o<2&&(o=bn(t)),(u>.005||u<-.005)&&(T(i.line,o),In(i.line),i.rest))for(var l=0;l<i.rest.length;l++)In(i.rest[l])}}}function In(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function zn(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Pt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=L(t,r),a=L(t,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;s<o?(o=s,a=L(t,ye(A(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=L(t,ye(A(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function qn(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=_n(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Hn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=O(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Lr(e),!0}return!1}function Rn(e,t){if(!Ae(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Ma){var a=r("div","â",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Pt(e.display))+"px;\n                         height: "+(t.bottom-t.top+zt(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Vn(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(t=t.ch?B(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?B(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=ln(e,t),u=n&&n!=t?ln(e,n):s;i={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-r,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+r};var l=Un(e,i),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=l.scrollTop&&(Zn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(er(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}function Wn(e,t){var n=Un(e,t);null!=n.scrollTop&&Zn(e,n.scrollTop),null!=n.scrollLeft&&er(e,n.scrollLeft)}function Un(e,t){var n=e.display,r=bn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Ht(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+jt(n),u=t.top<r,l=t.bottom>s-r;if(t.top<i)a.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,p=qt(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function $n(e,t){null!=t&&(Xn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Jn(e){Xn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Gn(e,t,n){null==t&&null==n||Xn(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Yn(e,t){Xn(e),e.curOp.scrollToPos=t}function Xn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;Kn(e,cn(e,t.from),cn(e,t.to),t.margin)}}function Kn(e,t,n,r){var i=Un(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Gn(e,i.scrollLeft,i.scrollTop)}function Zn(e,t){Math.abs(e.doc.scrollTop-t)<2||(da||Tr(e,{top:t}),Qn(e,t,!0),da&&Tr(e),Cr(e,100))}function Qn(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function er(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,qn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function tr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+jt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+zt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function nr(e,t){t||(t=tr(e));var n=e.display.barWidth,r=e.display.barHeight;rr(e,t)
;for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&jn(e),rr(e,tr(e)),n=e.display.barWidth,r=e.display.barHeight}function rr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function ir(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&ja(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Cs[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ts(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?er(e,t):Zn(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function or(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ks},mt(e.curOp)}function ar(e){bt(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;sr(e)})}function sr(e){for(var t=e.ops,n=0;n<t.length;n++)ur(t[n]);for(var r=0;r<t.length;r++)lr(t[r]);for(var i=0;i<t.length;i++)cr(t[i]);for(var o=0;o<t.length;o++)fr(t[o]);for(var a=0;a<t.length;a++)pr(t[a])}function ur(e){var t=e.cm,n=t.display;Sr(t),e.updateMaxLine&&xe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ss(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function lr(e){e.updatedDisplay=e.mustUpdate&&Dr(e.cm,e.update)}function cr(e){var t=e.cm,n=t.display;e.updatedDisplay&&jn(t),e.barMeasure=tr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ut(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+zt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-qt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function fr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&er(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==a();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&nr(t,e.barMeasure),e.updatedDisplay&&Fr(t,e.barMeasure),e.selectionChanged&&Ln(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Fn(e.cm)}function pr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Er(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Qn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&er(t,e.scrollLeft,!0,!0),e.scrollToPos){Rn(t,Vn(t,R(r,e.scrollToPos.from),R(r,e.scrollToPos.to),e.scrollToPos.margin))}var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||Me(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Me(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function hr(e,t){if(e.curOp)return t();or(e);try{return t()}finally{ar(e)}}function dr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);or(e);try{return t.apply(e,arguments)}finally{ar(e)}}}function gr(e){return function(){if(this.curOp)return e.apply(this,arguments);or(this);try{return e.apply(this,arguments)}finally{ar(this)}}}function vr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);or(t);try{return e.apply(this,arguments)}finally{ar(t)}}}function mr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ka&&de(e.doc,t)<i.viewTo&&br(e);else if(n<=i.viewFrom)Ka&&ge(e.doc,n+r)>i.viewFrom?br(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)br(e);else if(t<=i.viewFrom){var o=xr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):br(e)}else if(n>=i.viewTo){var a=xr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):br(e)}else{var s=xr(e,t,t,-1),u=xr(e,n,n+r,1);s&&u?(i.view=i.view.slice(0,s.index).concat(vt(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):br(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function yr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Mn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==p(a,n)&&a.push(n)}}}function br(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function xr(e,t,n,r){var i,o=Mn(e,t),a=e.display.view;if(!Ka||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,u=0;u<o;u++)s+=a[u].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;de(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function wr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=vt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=vt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Mn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(vt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Mn(e,n)))),r.viewTo=n}function _r(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Cr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,l(kr,e))}function kr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Xe(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ue(t.mode,r.state):null,u=Ge(e,o,r,!0);s&&(r.state=s),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),p=0;!f&&p<a.length;++p)f=a[p]!=o.styles[p];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Ke(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Cr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&hr(e,function(){for(var t=0;t<i.length;t++)yr(e,i[t],"text")})}}function Sr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=zt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=zt(e)+"px",t.scrollbarsClipped=!0)}function Mr(e){if(e.hasFocus())return null;var t=a();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&o(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Ar(e){if(e&&e.activeElt&&e.activeElt!=a()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Dr(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return br(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==_r(e))return!1;Hn(e)&&(br(e),n.dims=wn(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),Ka&&(a=de(e.doc,a),s=ge(e.doc,s));var u=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;wr(e,a,s),r.viewOffset=ye(A(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=_r(e);if(!u&&0==l&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Mr(e);return l>4&&(r.lineDiv.style.display="none"),Nr(e,r.updateLineNumbers,n.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Ar(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,u&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,Cr(e,400)),r.updateLineNumbers=null,!0}function Er(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=qt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+jt(e.display)-Ht(e),n.top)}),t.visible=zn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Dr(e,t);r=!1){jn(e);var i=tr(e);An(e),nr(e,i),Fr(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Tr(e,t){var n=new Ss(e,t);if(Dr(e,n)){jn(e),Er(e,n);var r=tr(e);An(e),nr(e,r),Fr(e,r),n.finish()}}function Nr(e,n,r){function i(t){var n=t.nextSibling;return xa&&Ta&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,u=s.firstChild,l=o.view,c=o.viewFrom,f=0;f<l.length;f++){var h=l[f];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;u!=h.node;)u=i(u);var d=a&&null!=n&&n<=c&&h.lineNumber;h.changes&&(p(h.changes,"gutter")>-1&&(d=!1),_t(e,h,c,r)),d&&(t(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(O(e.options,c)))),u=h.node.nextSibling}else{var g=Tt(e,h,c,r);s.insertBefore(g,u)}c+=h.size}for(;u;)u=i(u)}function Lr(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Fr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+zt(e)+"px"}function Or(e){var n=e.display.gutters,i=e.options.gutters;t(n);for(var o=0;o<i.length;++o){var a=i[o],s=n.appendChild(r("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Lr(e)}function Br(e){var t=p(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Pr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function jr(e){var t=Pr(e);return t.x*=As,t.y*=As,t}function Ir(e,t){var n=Pr(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(r&&s||i&&u){if(i&&Ta&&xa)e:for(var l=t.target,c=o.view;l!=a;l=l.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==l){e.display.currentWheelTarget=l;break e}if(r&&!da&&!Ca&&null!=As)return i&&u&&Zn(e,Math.max(0,a.scrollTop+i*As)),er(e,Math.max(0,a.scrollLeft+r*As)),(!i||i&&u)&&Ne(t),void(o.wheelStartX=null);if(i&&null!=As){var p=i*As,h=e.doc.scrollTop,d=h+o.wrapper.clientHeight;p<0?h=Math.max(0,h+p-50):d=Math.min(e.doc.height,d+p+50),Tr(e,{top:h,bottom:d})}Ms<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(As=(As*Ms+n)/(Ms+1),++Ms)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function zr(e,t){var n=e[t];e.sort(function(e,t){return P(e.from(),t.from())}),t=p(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(P(o.to(),i.from())>=0){var a=q(o.from(),i.from()),s=z(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new Es(u?s:a,u?a:s))}}return new Ds(e,t)}function qr(e,t){return new Ds([new Es(e,t||e)],0)}function Hr(e){return e.text?B(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Rr(e,t){if(P(e,t.from)<0)return e;if(P(e,t.to)<=0)return Hr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Hr(t).ch-t.to.ch),B(n,r)}function Vr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Es(Rr(i.anchor,t),Rr(i.head,t)))}return zr(n,e.sel.primIndex)}function Wr(e,t,n){return e.line==t.line?B(n.line,e.ch-t.ch+n.ch):B(n.line+(e.line-t.line),e.ch)}function Ur(e,t,n){for(var r=[],i=B(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=Wr(s.from,i,o),l=Wr(Hr(s),i,o);if(i=s.to,o=l,"around"==n){var c=e.sel.ranges[a],f=P(c.head,c.anchor)<0;r[a]=new Es(f?l:u,f?u:l)}else r[a]=new Es(u,u)}return new Ds(r,e.sel.primIndex)}function $r(e){e.doc.mode=Ve(e.options,e.doc.modeOption),Jr(e)}function Jr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Cr(e,100),e.state.modeGen++,e.curOp&&mr(e)}function Gr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Yr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){ot(e,n,i,r),xt(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new ds(l[o],i(o),r));return n}var s=t.from,u=t.to,l=t.text,c=A(e,s.line),f=A(e,u.line),p=g(l),h=i(l.length-1),d=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(Gr(e,t)){var v=a(0,l.length-1);o(f,f.text,h),d&&e.remove(s.line,d),v.length&&e.insert(s.line,v)}else if(c==f)if(1==l.length)o(c,c.text.slice(0,s.ch)+p+c.text.slice(u.ch),h);else{var m=a(1,l.length-1);m.push(new ds(p+c.text.slice(u.ch),h,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,m)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),i(0)),e.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(f,p+f.text.slice(u.ch),h);var y=a(1,l.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,y)}xt(e,"change",e,t)}function Xr(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;n&&!u||(t(s.doc,u),r(s.doc,e,u))}}}r(e,null,!0)}function Kr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,kn(e),$r(e),Zr(e),e.options.lineWrapping||xe(e),e.options.mode=t.modeOption,mr(e)}function Zr(e){("rtl"==e.doc.direction?s:ja)(e.display.lineDiv,"CodeMirror-rtl")}function Qr(e){hr(e,function(){Zr(e),mr(e)})}function ei(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ti(e,t){var n={from:I(t.from),to:Hr(t),text:D(e,t.from,t.to)};return ui(e,n,t.from.line,t.to.line+1),Xr(e,function(e){return ui(e,n,t.from.line,t.to.line+1)},!0),n}function ni(e){for(;e.length;){if(!g(e).ranges)break;e.pop()}}function ri(e,t){return t?(ni(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function ii(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ri(i,i.lastOp==r)))a=g(o.changes),0==P(t.from,t.to)&&0==P(t.from,a.to)?a.to=Hr(t):o.changes.push(ti(e,t));else{var u=g(i.done);for(u&&u.ranges||si(e.sel,i.done),o={changes:[ti(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||Me(e,"historyAdded")}function oi(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ai(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||oi(e,o,g(i.done),t))?i.done[i.done.length-1]=t:si(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ni(i.undone)}function si(e,t){var n=g(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ui(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function li(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ci(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(li(n[i]));return r}function fi(e,t){var n=ci(e,t),r=Q(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(n[i]=a)}return n}function pi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Ds.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var f in l)(c=f.match(/^spans_(\d+)$/))&&p(t,Number(c[1]))>-1&&(g(s)[f]=l[f],delete l[f])}}}return r}function hi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=P(t,i)<0;o!=P(n,i)<0?(i=t,t=n):o!=P(t,n)<0&&(t=n)}return new Es(i,t)}return new Es(n||t,t)}function di(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),xi(e,new Ds([hi(e.sel.primary(),t,n,i)],0),r)}function gi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=hi(e.sel.ranges[o],t[o],null,i);xi(e,zr(r,e.sel.primIndex),n)}function vi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,xi(e,zr(i,e.sel.primIndex),r)}function mi(e,t,n,r){xi(e,qr(t,n),r)}function yi(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new Es(R(e,t[r].anchor),R(e,t[r].head))},origin:n&&n.origin};return Me(e,"beforeSelectionChange",e,r),e.cm&&Me(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?zr(r.ranges,r.ranges.length-1):t}function bi(e,t,n){var r=e.history.done,i=g(r);i&&i.ranges?(r[r.length-1]=t,wi(e,t,n)):xi(e,t,n)}function xi(e,t,n){wi(e,t,n),ai(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function wi(e,t,n){(Ee(e,"beforeSelectionChange")||e.cm&&Ee(e.cm,"beforeSelectionChange"))&&(t=yi(e,t,n)),_i(e,ki(e,t,n&&n.bias||(P(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Jn(e.cm)}function _i(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,De(e.cm)),xt(e,"cursorActivity",e))}function Ci(e){_i(e,ki(e,e.sel,null,!1))}function ki(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=Mi(e,a.anchor,s&&s.anchor,n,r),l=Mi(e,a.head,s&&s.head,n,r);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Es(u,l))}return i?zr(i,t.primIndex):t}function Si(e,t,n,r,i){var o=A(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker;if((null==s.from||(u.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Me(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var l=u.find(r<0?1:-1),c=void 0;if((r<0?u.inclusiveRight:u.inclusiveLeft)&&(l=Ai(e,l,-r,l&&l.line==t.line?o:null)),l&&l.line==t.line&&(c=P(l,n))&&(r<0?c<0:c>0))return Si(e,l,t,r,i)}var f=u.find(r<0?-1:1);return(r<0?u.inclusiveLeft:u.inclusiveRight)&&(f=Ai(e,f,r,f.line==t.line?o:null)),f?Si(e,f,t,r,i):null}}return t}function Mi(e,t,n,r,i){var o=r||1,a=Si(e,t,n,o,i)||!i&&Si(e,t,n,o,!0)||Si(e,t,n,-o,i)||!i&&Si(e,t,n,-o,!0);return a||(e.cantEdit=!0,B(e.first,0))}function Ai(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?R(e,B(t.line-1)):null:n>0&&t.ch==(r||A(e,t.line)).text.length?t.line<e.first+e.size-1?B(t.line+1,0):null:new B(t.line,t.ch+n)}function Di(e){e.setSelection(B(e.firstLine(),0),B(e.lastLine()),Wa)}function Ei(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=R(e,t)),n&&(r.to=R(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),Me(e,"beforeChange",e,r),e.cm&&Me(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Ti(e,t,n){if(e.cm){if(!e.cm.curOp)return dr(e.cm,Ti)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"))||(t=Ei(e,t,!0))){var r=Xa&&!n&&te(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Ni(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Ni(e,t)}}function Ni(e,t){if(1!=t.text.length||""!=t.text[0]||0!=P(t.from,t.to)){var n=Vr(e,t);ii(e,t,n,e.cm?e.cm.curOp.id:NaN),Oi(e,t,n,Q(e,t));var r=[];Xr(e,function(e,n){n||-1!=p(r,e.history)||(zi(e.history,t),r.push(e.history)),Oi(e,t,null,Q(e,t))})}}function Li(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,u=0;u<a.length&&(r=a[u],n?!r.ranges||r.equals(e.sel):r.ranges);u++);if(u!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(si(r,s),n&&!r.equals(e.sel))return void xi(e,r,{clearRedo:!1});o=r}var l=[];si(o,s),s.push({changes:l,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"),f=r.changes.length-1;f>=0;--f){var h=function(n){var i=r.changes[n];if(i.origin=t,c&&!Ei(e,i,!1))return a.length=0,{};l.push(ti(e,i));var o=n?Vr(e,i):g(a);Oi(e,i,o,fi(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Hr(i)});var s=[];Xr(e,function(e,t){t||-1!=p(s,e.history)||(zi(e.history,i),s.push(e.history)),Oi(e,i,null,fi(e,i))})}(f);if(h)return h.v}}}}function Fi(e,t){if(0!=t&&(e.first+=t,e.sel=new Ds(v(e.sel.ranges,function(e){return new Es(B(e.anchor.line+t,e.anchor.ch),B(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){mr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)yr(e.cm,r,"gutter")}}function Oi(e,t,n,r){if(e.cm&&!e.cm.curOp)return dr(e.cm,Oi)(e,t,n,r);if(t.to.line<e.first)return void Fi(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Fi(e,i),t={from:B(e.first,0),to:B(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:B(o,A(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=D(e,t.from,t.to),n||(n=Vr(e,t)),e.cm?Bi(e.cm,t,r):Yr(e,t,r),wi(e,n,Wa)}}function Bi(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,u=o.line;e.options.lineWrapping||(u=N(fe(A(r,o.line))),r.iter(u,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&De(e),Yr(r,t,n,Cn(e)),e.options.lineWrapping||(r.iter(u,o.line+t.text.length,function(e){var t=be(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),it(r,o.line),Cr(e,400);var l=t.text.length-(a.line-o.line)-1;t.full?mr(e):o.line!=a.line||1!=t.text.length||Gr(e.doc,t)?mr(e,o.line,a.line+1,l):yr(e,o.line,"text");var c=Ee(e,"changes"),f=Ee(e,"change");if(f||c){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&xt(e,"change",e,p),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Pi(e,t,n,r,i){if(r||(r=n),P(r,n)<0){var o;o=[r,n],n=o[0],r=o[1]}"string"==typeof t&&(t=e.splitLines(t)),Ti(e,{from:n,to:r,text:t,origin:i})}function ji(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Ii(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)ji(o.ranges[s].anchor,t,n,r),ji(o.ranges[s].head,t,n,r)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(n<l.from.line)l.from=B(l.from.line+r,l.from.ch),l.to=B(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function zi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Ii(e.done,n,r,i),Ii(e.undone,n,r,i)}function qi(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=A(e,H(e,t)):i=N(t),null==i?null:(r(o,i)&&e.cm&&yr(e.cm,i,n),o)}function Hi(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function Ri(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null}function Vi(e,t,n){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&$n(e,n)}function Wi(e,t,n,r){var i=new Ts(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),qi(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ve(e,t)){var r=ye(t)<e.scrollTop;T(t,t.height+Ot(i)),r&&$n(o,i.height),o.curOp.forceUpdate=!0}return!0}),xt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:N(t)),i}function Ui(e,t,n,r,o){if(r&&r.shared)return $i(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return dr(e.cm,Ui)(e,t,n,r,o);var a=new Ls(e,o),s=P(t,n);if(r&&c(r,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(ce(e,t.line,t,n,a)||t.line!=n.line&&ce(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");$()}a.addToHistory&&ii(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var u,l=t.line,f=e.cm;if(e.iter(l,n.line+1,function(e){f&&a.collapsed&&!f.options.lineWrapping&&fe(e)==f.display.maxLine&&(u=!0),a.collapsed&&l!=t.line&&T(e,0),X(e,new J(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),a.collapsed&&e.iter(t.line,n.line+1,function(t){ve(e,t)&&T(t,0)}),a.clearOnEnter&&ts(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(U(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Ns,a.atomic=!0),f){if(u&&(f.curOp.updateMaxLine=!0),a.collapsed)mr(f,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var p=t.line;p<=n.line;p++)yr(f,p,"text");a.atomic&&Ci(f.doc),xt(f,"markerAdded",f,a)}return a}function $i(e,t,n,r,i){r=c(r),r.shared=!1;var o=[Ui(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Xr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Ui(e,R(e,t),R(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=g(o)}),new Fs(o,a)}function Ji(e){return e.findMarks(B(e.first,0),e.clipPos(B(e.lastLine())),function(e){return e.parent})}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(P(o,a)){var s=Ui(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Yi(e){for(var t=0;t<e.length;t++)!function(t){var n=e[t],r=[n.primary.doc];Xr(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==p(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}(t)}function Xi(e){var t=this;if(Qi(t),!Ae(t,e)&&!Bt(t.display,e)){Ne(e),ya&&(Ps=+new Date);var n=Sn(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=0;s<i;++s)!function(e,r){if(!t.options.allowDropFileTypes||-1!=p(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=dr(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){n=R(t.doc,n);var u={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ti(t.doc,u),bi(t.doc,qr(n,Hr(u)))}}),s.readAsText(e)}}(r[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var l;if(t.state.draggingText&&!t.state.draggingText.copy&&(l=t.listSelections()),wi(t.doc,qr(n,n)),l)for(var c=0;c<l.length;++c)Pi(t.doc,"",l[c].anchor,l[c].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ki(e,t){if(ya&&(!e.state.draggingText||+new Date-Ps<100))return void Oe(t);if(!Ae(e,t)&&!Bt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!ka)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ca&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ca&&n.parentNode.removeChild(n)}}function Zi(e,t){var i=Sn(e,t);if(i){var o=document.createDocumentFragment();En(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Qi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function eo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function to(){js||(no(),js=!0)}function no(){var e;ts(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,eo(ro)},100))}),ts(window,"blur",function(){return eo(Pn)})}function ro(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function io(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,a=0;a<t.length-1;a++){var s=t[a]
;if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function oo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=v(n.split(" "),io),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var l in t)e[l]=t[l];return e}function ao(e,t,n,r){t=co(t);var i=t.call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ao(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=ao(e,t.fallthrough[o],n,r);if(a)return a}}}function so(e){var t="string"==typeof e?e:Is[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function uo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(Ba?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(Ba?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function lo(e,t){if(Ca&&34==e.keyCode&&e.char)return!1;var n=Is[e.keyCode];return null!=n&&!e.altGraphKey&&uo(n,e,t)}function co(e){return"string"==typeof e?Rs[e]:e}function fo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&P(o.from,g(r).to)<=0;){var a=r.pop();if(P(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}hr(e,function(){for(var t=r.length-1;t>=0;t--)Pi(e.doc,"",r[t].from,r[t].to,"+delete");Jn(e)})}function po(e,t,n){var r=k(e.text,t+n,n);return r<0||r>e.text.length?null:r}function ho(e,t,n){var r=po(e,t.ch,n);return null==r?null:new B(t.line,r,n<0?"after":"before")}function go(e,t,n,r,i){if(e){var o=Ce(n,t.doc.direction);if(o){var a,s=i<0?g(o):o[0],u=i<0==(1==s.level),l=u?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Jt(t,n);a=i<0?n.text.length-1:0;var f=Gt(t,c,a).top;a=S(function(e){return Gt(t,c,e).top==f},i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=po(n,a,1))}else a=i<0?s.to:s.from;return new B(r,a,l)}}return new B(r,i<0?n.text.length:0,i<0?"before":"after")}function vo(e,t,n,r){var i=Ce(t,e.doc.direction);if(!i)return ho(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=_e(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return ho(t,n,r);var s,u=function(e,n){return po(t,e instanceof B?e.ch:e,n)},l=function(n){return e.options.lineWrapping?(s=s||Jt(e,t),dn(e,t,s,n)):{begin:0,end:t.text.length}},c=l("before"==n.sticky?u(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,p=u(n,f?1:-1);if(null!=p&&(f?p<=a.to&&p<=c.end:p>=a.from&&p>=c.begin)){var h=f?"before":"after";return new B(n.line,p,h)}}var d=function(e,t,r){for(var o=function(e,t){return t?new B(n.line,u(e,1),"before"):new B(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),l=s?r.begin:u(r.end,-1);if(a.from<=l&&l<a.to)return o(l,s);if(l=s?a.from:u(a.to,-1),r.begin<=l&&l<r.end)return o(l,s)}},g=d(o+r,r,c);if(g)return g;var v=r>0?c.end:u(c.begin,-1);return null==v||r>0&&v==t.text.length||!(g=d(r>0?0:i.length-1,r,l(v)))?null:g}function mo(e,t){var n=A(e.doc,t),r=fe(n);return r!=n&&(t=N(r)),go(!0,e,r,t,1)}function yo(e,t){var n=A(e.doc,t),r=pe(n);return r!=n&&(t=N(r)),go(!0,e,n,t,-1)}function bo(e,t){var n=mo(e,t.line),r=A(e.doc,n.line),i=Ce(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return B(n.line,a?0:o,n.sticky)}return n}function xo(e,t,n){if("string"==typeof t&&!(t=Vs[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Va}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function wo(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=ao(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&ao(t,e.options.extraKeys,n,e)||ao(t,e.options.keyMap,n,e)}function _o(e,t,n,r){var i=e.state.keySeq;if(i){if(so(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Ws.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Co(e,i+" "+t,n,r))return!0}return Co(e,t,n,r)}function Co(e,t,n,r){var i=wo(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&xt(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(Ne(n),Ln(e)),!!i}function ko(e,t){var n=lo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?_o(e,"Shift-"+n,t,function(t){return xo(e,t,!0)})||_o(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return xo(e,t)}):_o(e,n,t,function(t){return xo(e,t)}))}function So(e,t,n){return _o(e,"'"+n+"'",t,function(t){return xo(e,t,!0)})}function Mo(e){var t=this;if(t.curOp.focus=a(),!Ae(t,e)){ya&&ba<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=ko(t,e);Ca&&(Us=r?n:null,!r&&88==n&&!os&&(Ta?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Ao(t)}}function Ao(e){function t(e){18!=e.keyCode&&e.altKey||(ja(n,"CodeMirror-crosshair"),Se(document,"keyup",t),Se(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),ts(document,"keyup",t),ts(document,"mouseover",t)}function Do(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ae(this,e)}function Eo(e){var t=this;if(!(Bt(t.display,e)||Ae(t,e)||e.ctrlKey&&!e.altKey||Ta&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ca&&n==Us)return Us=null,void Ne(e);if(!Ca||e.which&&!(e.which<10)||!ko(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(So(t,e,i)||t.display.input.onKeyPress(e))}}}function To(e,t){var n=+new Date;return Gs&&Gs.compare(n,e,t)?(Js=Gs=null,"triple"):Js&&Js.compare(n,e,t)?(Gs=new $s(n,e,t),Js=null,"double"):(Js=new $s(n,e,t),Gs=null,"single")}function No(e){var t=this,n=t.display;if(!(Ae(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Bt(n,e))return void(xa||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!qo(t,e)){var r=Sn(t,e),i=Pe(e),o=r?To(r,i):"single";try{window.focus()}catch(e){}1==i&&t.state.selectingText&&t.state.selectingText(e),r&&Lo(t,i,r,o,e)||(1==i?r?Oo(t,r,o,e):Be(e)==n.scroller&&Ne(e):2==i?(r&&di(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(Pa?Ho(t,e):On(t)))}}}function Lo(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,_o(e,uo(o,i),i,function(t){if("string"==typeof t&&(t=Vs[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=Va}finally{e.state.suppressEdits=!1}return r})}function Fo(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Na?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=Ta?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Ta?n.altKey:n.ctrlKey)),i}function Oo(e,t,n,r){ya?setTimeout(l(Fn,e),0):e.curOp.focus=a();var i,o=Fo(e,n,r),s=e.doc.sel;e.options.dragDrop&&ns&&!e.isReadOnly()&&"single"==n&&(i=s.contains(t))>-1&&(P((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(P(i.to(),t)>0||t.xRel<0)?Bo(e,r,t,o):jo(e,r,t,o)}function Bo(e,t,n,r){var i=e.display,o=!1,a=dr(e,function(t){xa&&(i.scroller.draggable=!1),e.state.draggingText=!1,Se(document,"mouseup",a),Se(document,"mousemove",s),Se(i.scroller,"dragstart",u),Se(i.scroller,"drop",a),o||(Ne(t),r.addNew||di(e.doc,n,null,null,r.extend),xa||ya&&9==ba?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return o=!0};xa&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ts(document,"mouseup",a),ts(document,"mousemove",s),ts(i.scroller,"dragstart",u),ts(i.scroller,"drop",a),On(e),setTimeout(function(){return i.input.focus()},20)}function Po(e,t,n){if("char"==n)return new Es(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Es(B(t.line,0),R(e.doc,B(t.line+1,0)));var r=n(e,t);return new Es(r.from,r.to)}function jo(e,t,n,r){function i(t){if(0!=P(m,t))if(m=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,a=f(A(l,n.line).text,n.ch,o),s=f(A(l,t.line).text,t.ch,o),u=Math.min(a,s),g=Math.max(a,s),v=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=y;v++){var b=A(l,v).text,x=h(b,u,o);u==g?i.push(new Es(B(v,x),B(v,x))):b.length>x&&i.push(new Es(B(v,x),B(v,h(b,g,o))))}i.length||i.push(new Es(n,n)),xi(l,zr(d.ranges.slice(0,p).concat(i),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w,_=c,C=Po(e,t,r.unit),k=_.anchor;P(C.anchor,k)>0?(w=C.head,k=q(_.from(),C.anchor)):(w=C.anchor,k=z(_.to(),C.head));var S=d.ranges.slice(0);S[p]=Io(e,new Es(R(l,k),w)),xi(l,zr(S,p),Ua)}}function o(t){var n=++b,s=Sn(e,t,!0,"rectangle"==r.unit);if(s)if(0!=P(s,m)){e.curOp.focus=a(),i(s);var c=zn(u,l);(s.line>=c.to||s.line<c.from)&&setTimeout(dr(e,function(){b==n&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(dr(e,function(){b==n&&(u.scroller.scrollTop+=f,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,Ne(t),u.input.focus(),Se(document,"mousemove",x),Se(document,"mouseup",w),l.history.lastSelOrigin=null}var u=e.display,l=e.doc;Ne(t);var c,p,d=l.sel,g=d.ranges;if(r.addNew&&!r.extend?(p=l.sel.contains(n),c=p>-1?g[p]:new Es(n,n)):(c=l.sel.primary(),p=l.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Es(n,n)),n=Sn(e,t,!0,!0),p=-1;else{var v=Po(e,n,r.unit);c=r.extend?hi(c,v.anchor,v.head,r.extend):v}r.addNew?-1==p?(p=g.length,xi(l,zr(g.concat([c]),p),{scroll:!1,origin:"*mouse"})):g.length>1&&g[p].empty()&&"char"==r.unit&&!r.extend?(xi(l,zr(g.slice(0,p).concat(g.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),d=l.sel):vi(l,p,c,Ua):(p=0,xi(l,new Ds([c],0),Ua),d=l.sel);var m=n,y=u.wrapper.getBoundingClientRect(),b=0,x=dr(e,function(e){Pe(e)?o(e):s(e)}),w=dr(e,s);e.state.selectingText=w,ts(document,"mousemove",x),ts(document,"mouseup",w)}function Io(e,t){var n=t.anchor,r=t.head,i=A(e.doc,n.line);if(0==P(n,r)&&n.sticky==r.sticky)return t;var o=Ce(i);if(!o)return t;var a=_e(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;var l;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=_e(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?f<0:f>0}var p=o[u+(l?-1:0)],h=l==(1==p.level),d=h?p.from:p.to,g=h?"after":"before";return n.ch==d&&n.sticky==g?t:new Es(new B(n.line,d,g),r)}function zo(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ne(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ee(e,n))return Fe(t);o-=s.top-a.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i){return Me(e,n,e,L(e.doc,o),e.options.gutters[u],t),Fe(t)}}}function qo(e,t){return zo(e,t,"gutterClick",!0)}function Ho(e,t){Bt(e.display,t)||Ro(e,t)||Ae(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Ro(e,t){return!!Ee(e,"gutterContextMenu")&&zo(e,t,"gutterContextMenu",!1)}function Vo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Wo(e){Or(e),mr(e),qn(e)}function Uo(e,t,n){if(!t!=!(n&&n!=Ys)){var r=e.display.dragFunctions,i=t?ts:Se;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function $o(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ja(e.display.wrapper,"CodeMirror-wrap"),xe(e)),kn(e),mr(e),tn(e),setTimeout(function(){return nr(e)},100)}function Jo(e,t){var n=this;if(!(this instanceof Jo))return new Jo(e,t);this.options=t=t?c(t):{},c(Xs,t,!1),Br(t);var r=t.value;"string"==typeof r&&(r=new Bs(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new Jo.inputStyles[t.inputStyle](this),o=this.display=new M(e,r,i);o.wrapper.CodeMirror=this,Or(this),Vo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ir(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new za,keySeq:null,specialChars:null},t.autofocus&&!Ea&&o.input.focus(),ya&&ba<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Go(this),to(),or(this),this.curOp.forceUpdate=!0,Kr(this,r),t.autofocus&&!Ea||this.hasFocus()?setTimeout(l(Bn,this),20):Pn(this);for(var a in Ks)Ks.hasOwnProperty(a)&&Ks[a](n,t[a],Ys);Hn(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Zs.length;++s)Zs[s](n);ar(this),xa&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Go(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;ts(i.scroller,"mousedown",dr(e,No)),ya&&ba<11?ts(i.scroller,"dblclick",dr(e,function(t){if(!Ae(e,t)){var n=Sn(e,t);if(n&&!qo(e,t)&&!Bt(e.display,t)){Ne(t);var r=e.findWordAt(n);di(e.doc,r.anchor,r.head)}}})):ts(i.scroller,"dblclick",function(t){return Ae(e,t)||Ne(t)}),Pa||ts(i.scroller,"contextmenu",function(t){return Ho(e,t)});var o,a={end:0};ts(i.scroller,"touchstart",function(t){if(!Ae(e,t)&&!n(t)&&!qo(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),ts(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ts(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Bt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Es(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new Es(B(s.line,0),R(e.doc,B(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Ne(n)}t()}),ts(i.scroller,"touchcancel",t),ts(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Zn(e,i.scroller.scrollTop),er(e,i.scroller.scrollLeft,!0),Me(e,"scroll",e))}),ts(i.scroller,"mousewheel",function(t){return Ir(e,t)}),ts(i.scroller,"DOMMouseScroll",function(t){return Ir(e,t)}),ts(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ae(e,t)||Oe(t)},over:function(t){Ae(e,t)||(Zi(e,t),Oe(t))},start:function(t){return Ki(e,t)},drop:dr(e,Xi),leave:function(t){Ae(e,t)||Qi(e)}};var s=i.input.getField();ts(s,"keyup",function(t){return Do.call(e,t)}),ts(s,"keydown",dr(e,Mo)),ts(s,"keypress",dr(e,Eo)),ts(s,"focus",function(t){return Bn(e,t)}),ts(s,"blur",function(t){return Pn(e,t)})}function Yo(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Xe(e,t).state:n="prev");var a=e.options.tabSize,s=A(o,t),u=f(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((l=o.mode.indent(i,s.text.slice(c.length),s.text))==Va||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>o.first?f(A(o,t-1).text,null,a):0:"add"==n?l=u+e.options.indentUnit:"subtract"==n?l=u-e.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var p="",h=0;if(e.options.indentWithTabs)for(var g=Math.floor(l/a);g;--g)h+=a,p+="\t";if(h<l&&(p+=d(l-h)),p!=c)return Pi(o,p,B(t,0),B(t,c.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<c.length){var y=B(t,c.length);vi(o,v,new Es(y,y));break}}}function Xo(e){Qs=e}function Ko(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=rs(t),u=null;if(a&&r.ranges.length>1)if(Qs&&Qs.text.join("\n")==t){if(r.ranges.length%Qs.text.length==0){u=[];for(var l=0;l<Qs.text.length;l++)u.push(o.splitLines(Qs.text[l]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=v(s,function(e){return[e]}));for(var c,f=r.ranges.length-1;f>=0;f--){var p=r.ranges[f],h=p.from(),d=p.to();p.empty()&&(n&&n>0?h=B(h.line,h.ch-n):e.state.overwrite&&!a?d=B(d.line,Math.min(A(o,d.line).text.length,d.ch+g(s).length)):Qs&&Qs.lineWise&&Qs.text.join("\n")==t&&(h=d=B(h.line,0))),c=e.curOp.updateInput;var m={from:h,to:d,text:u?u[f%u.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};Ti(e.doc,m),xt(e,"inputRead",e,m)}t&&!a&&Qo(e,t),Jn(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Zo(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||hr(t,function(){return Ko(t,n,0,null,"paste")}),!0}function Qo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Yo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(A(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Yo(e,i.head.line,"smart"));a&&xt(e,"electricInput",e,i.head.line)}}}function ea(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:B(i,0),head:B(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ta(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function na(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xa?e.style.width="1000px":e.setAttribute("wrap","off"),Aa&&(e.style.border="1px solid black"),ta(e),t}function ra(e,t,n,r,i){function o(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new B(r,t.ch,t.sticky),l=A(e,r))}function a(r){var a;if(null==(a=i?vo(e.cm,l,t,n):ho(l,t,n))){if(r||!o())return!1;t=go(i,e.cm,l,t.line,n)}else t=a;return!0}var s=t,u=n,l=A(e,t.line);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var c=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||a(!h);h=!1){var d=l.text.charAt(t.ch)||"\n",g=w(d,p)?"w":f&&"\n"==d?"n":!f||/\s/.test(d)?null:"p";if(!f||h||g||(g="s"),c&&c!=g){n<0&&(n=1,a(),t.sticky="after");break}if(g&&(c=g),n>0&&!a(!h))break}var v=Mi(e,t,s,u,!0);return j(s,v)&&(v.hitSide=!0),v}function ia(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(s-.5*bn(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var l;l=pn(e,a,i),l.outside;){if(n<0?i<=0:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function oa(e,t){var n=$t(e,t.line);if(!n||n.hidden)return null;var r=A(e.doc,t.line),i=Vt(n,r,t.line),o=Ce(r,e.doc.direction),a="left";if(o){a=_e(o,t.ch)%2?"right":"left"}var s=Yt(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function aa(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function sa(e,t){return t&&(e.bad=!0),e}function ua(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(){c&&(l+=f,c=!1)}function s(e){e&&(a(),l+=e)}function u(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void s(n||t.textContent.replace(/\u200b/g,""));var l,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(B(r,0),B(i+1,0),o(+p));return void(h.length&&(l=h[0].find(0))&&s(D(e.doc,l.from,l.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var d=/^(pre|div|p)$/i.test(t.nodeName);d&&a();for(var g=0;g<t.childNodes.length;g++)u(t.childNodes[g]);d&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var l="",c=!1,f=e.doc.lineSeparator();u(t),t!=n;)t=t.nextSibling;return l}function la(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return sa(e.clipPos(B(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return ca(o,t,n)}}function ca(e,t,n){function r(t,n,r){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var u=N(i<0?e.line:e.rest[i]),l=o[a]+r;return(r<0||s!=t)&&(l=o[a+(r?1:0)]),B(u,l)}}}var i=e.text.firstChild,a=!1;if(!t||!o(i,t))return sa(B(N(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var s=e.rest?g(e.rest):e.line;return sa(B(N(s),s.text.length),a)}var u=3==t.nodeType?t:null,l=t;for(u||1!=t.childNodes.length||3!=t.firstChild.nodeType||(u=t.firstChild,n&&(n=u.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var c=e.measure,f=c.maps,p=r(u,l,n);if(p)return sa(p,a);for(var h=l.nextSibling,d=u?u.nodeValue.length-n:0;h;h=h.nextSibling){if(p=r(h,h.firstChild,0))return sa(B(p.line,p.ch-d),a);d+=h.textContent.length}for(var v=l.previousSibling,m=n;v;v=v.previousSibling){if(p=r(v,v.firstChild,-1))return sa(B(p.line,p.ch+m),a);m+=v.textContent.length}}function fa(e,t){function n(){e.value=u.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=a();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(ts(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Se(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var u=Jo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return u}var pa=navigator.userAgent,ha=navigator.platform,da=/gecko\/\d/i.test(pa),ga=/MSIE \d/.test(pa),va=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pa),ma=/Edge\/(\d+)/.exec(pa),ya=ga||va||ma,ba=ya&&(ga?document.documentMode||6:+(ma||va)[1]),xa=!ma&&/WebKit\//.test(pa),wa=xa&&/Qt\/\d+\.\d+/.test(pa),_a=!ma&&/Chrome\//.test(pa),Ca=/Opera\//.test(pa),ka=/Apple Computer/.test(navigator.vendor),Sa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(pa),Ma=/PhantomJS/.test(pa),Aa=!ma&&/AppleWebKit/.test(pa)&&/Mobile\/\w+/.test(pa),Da=/Android/.test(pa),Ea=Aa||Da||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(pa),Ta=Aa||/Mac/.test(ha),Na=/\bCrOS\b/.test(pa),La=/win/i.test(ha),Fa=Ca&&pa.match(/Version\/(\d*\.\d*)/);Fa&&(Fa=Number(Fa[1])),Fa&&Fa>=15&&(Ca=!1,xa=!0);var Oa,Ba=Ta&&(wa||Ca&&(null==Fa||Fa<12.11)),Pa=da||ya&&ba>=9,ja=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Oa=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ia=function(e){e.select()};Aa?Ia=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ya&&(Ia=function(e){try{e.select()}catch(e){}});var za=function(){this.id=null};za.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var qa,Ha,Ra=30,Va={toString:function(){return"CodeMirror.Pass"}},Wa={scroll:!1},Ua={origin:"*mouse"},$a={origin:"+move"},Ja=[""],Ga=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ya=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Xa=!1,Ka=!1,Za=null,Qa=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,u=/[1n]/;return function(n,r){var l="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,f=[],p=0;p<c;++p)f.push(e(n.charCodeAt(p)));for(var h=0,d=l;h<c;++h){var v=f[h];"m"==v?f[h]=d:d=v}for(var m=0,y=l;m<c;++m){var b=f[m];"1"==b&&"r"==y?f[m]="n":a.test(b)&&(y=b,"r"==b&&(f[m]="R"))}for(var x=1,w=f[0];x<c-1;++x){var _=f[x];"+"==_&&"1"==w&&"1"==f[x+1]?f[x]="1":","!=_||w!=f[x+1]||"1"!=w&&"n"!=w||(f[x]=w),w=_}for(var C=0;C<c;++C){var k=f[C];if(","==k)f[C]="N";else if("%"==k){var S=void 0;for(S=C+1;S<c&&"%"==f[S];++S);for(var M=C&&"!"==f[C-1]||S<c&&"1"==f[S]?"1":"N",A=C;A<S;++A)f[A]=M;C=S-1}}for(var D=0,E=l;D<c;++D){var T=f[D];"L"==E&&"1"==T?f[D]="L":a.test(T)&&(E=T)}for(var N=0;N<c;++N)if(o.test(f[N])){var L=void 0;for(L=N+1;L<c&&o.test(f[L]);++L);for(var F="L"==(N?f[N-1]:l),O="L"==(L<c?f[L]:l),B=F==O?F?"L":"R":l,P=N;P<L;++P)f[P]=B;N=L-1}for(var j,I=[],z=0;z<c;)if(s.test(f[z])){var q=z;for(++z;z<c&&s.test(f[z]);++z);I.push(new t(0,q,z))}else{var H=z,R=I.length;for(++z;z<c&&"L"!=f[z];++z);for(var V=H;V<z;)if(u.test(f[V])){H<V&&I.splice(R,0,new t(1,H,V));var W=V;for(++V;V<z&&u.test(f[V]);++V);I.splice(R,0,new t(2,W,V)),H=V}else++V;H<z&&I.splice(R,0,new t(1,H,z))}return"ltr"==r&&(1==I[0].level&&(j=n.match(/^\s+/))&&(I[0].from=j[0].length,I.unshift(new t(0,0,j[0].length))),1==g(I).level&&(j=n.match(/\s+$/))&&(g(I).to-=j[0].length,I.push(new t(0,c-j[0].length,c)))),"rtl"==r?I.reverse():I}}(),es=[],ts=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||es).concat(n)}},ns=function(){if(ya&&ba<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),rs=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},is=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},os=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),as=null,ss={},us={},ls={},cs=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};cs.prototype.eol=function(){return this.pos>=this.string.length},cs.prototype.sol=function(){return this.pos==this.lineStart},cs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},cs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},cs.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},cs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},cs.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},cs.prototype.skipToEnd=function(){this.pos=this.string.length},cs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},cs.prototype.backUp=function(e){this.pos-=e},cs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},cs.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},cs.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},cs.prototype.current=function(){return this.string.slice(this.start,this.pos)},
cs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},cs.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},cs.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var fs=function(e,t){this.state=e,this.lookAhead=t},ps=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};ps.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ps.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ps.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ps.fromSaved=function(e,t,n){return t instanceof fs?new ps(e,Ue(e.mode,t.state),n,t.lookAhead):new ps(e,Ue(e.mode,t),n)},ps.prototype.save=function(e){var t=!1!==e?Ue(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fs(t,this.maxLookAhead):t};var hs=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},ds=function(e,t,n){this.text=e,re(this,t),this.height=n?n(this):1};ds.prototype.lineNo=function(){return N(this)},Te(ds);var gs,vs={},ms={},ys=null,bs=null,xs={left:0,right:0,top:0,bottom:0},ws=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),ts(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ts(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ya&&ba<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ws.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},ws.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ws.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ws.prototype.zeroWidthHack=function(){var e=Ta&&!Sa?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new za,this.disableVert=new za},ws.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},ws.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var _s=function(){};_s.prototype.update=function(){return{bottom:0,right:0}},_s.prototype.setScrollLeft=function(){},_s.prototype.setScrollTop=function(){},_s.prototype.clear=function(){};var Cs={native:ws,null:_s},ks=0,Ss=function(e,t,n){var r=e.display;this.viewport=t,this.visible=zn(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=qt(e),this.force=n,this.dims=wn(e),this.events=[]};Ss.prototype.signal=function(e,t){Ee(e,t)&&this.events.push(arguments)},Ss.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Me.apply(null,e.events[t])};var Ms=0,As=null;ya?As=-.53:da?As=15:_a?As=-.7:ka&&(As=-1/3);var Ds=function(e,t){this.ranges=e,this.primIndex=t};Ds.prototype.primary=function(){return this.ranges[this.primIndex]},Ds.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!j(r.anchor,i.anchor)||!j(r.head,i.head))return!1}return!0},Ds.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Es(I(e.ranges[n].anchor),I(e.ranges[n].head));return new Ds(t,this.primIndex)},Ds.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Ds.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(P(t,i.from())>=0&&P(e,i.to())<=0)return r}return-1};var Es=function(e,t){this.anchor=e,this.head=t};Es.prototype.from=function(){return q(this.anchor,this.head)},Es.prototype.to=function(){return z(this.anchor,this.head)},Es.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Hi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height,at(o),xt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function(e,t,n){for(var r=this,i=e+t;e<i;++e)if(n(r.lines[e]))return!0}},Ri.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e),s=i.height;if(i.removeInner(e,a),n.height-=s-i.height,o==a&&(n.children.splice(r--,1),i.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Hi))){var u=[];this.collapse(u),this.children=[new Hi(u)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,u=s;u<o.lines.length;){var l=new Hi(o.lines.slice(u,u+=25));o.height-=l.height,r.children.splice(++i,0,l),l.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Ri(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=p(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Ri(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<a){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Ts=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};Ts.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=N(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var a=Ot(this);T(r,Math.max(0,r.height-a)),t&&(hr(t,function(){Vi(t,r,-a),yr(t,i,"widget")}),xt(t,"lineWidgetCleared",t,this,i))}},Ts.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Ot(this)-t;i&&(T(r,r.height+i),n&&hr(n,function(){n.curOp.forceUpdate=!0,Vi(n,r,i),xt(n,"lineWidgetChanged",n,e,N(r))}))},Te(Ts);var Ns=0,Ls=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ns};Ls.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&or(t),Ee(this,"clear")){var r=this.find();r&&xt(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],u=G(s.markedSpans,e);t&&!e.collapsed?yr(t,N(s),"text"):t&&(null!=u.to&&(o=N(s)),null!=u.from&&(i=N(s))),s.markedSpans=Y(s.markedSpans,u),null==u.from&&e.collapsed&&!ve(e.doc,s)&&t&&T(s,bn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=fe(e.lines[l]),f=be(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&mr(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ci(t.doc)),t&&xt(t,"markerCleared",t,this,i,o),n&&ar(t),this.parent&&this.parent.clear()}},Ls.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var a=n.lines[o],s=G(a.markedSpans,n);if(null!=s.from&&(r=B(t?a:N(a),s.from),-1==e))return r;if(null!=s.to&&(i=B(t?a:N(a),s.to),1==e))return i}return r&&{from:r,to:i}},Ls.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&hr(r,function(){var i=t.line,o=N(t.line),a=$t(r,o);if(a&&(Qt(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!ve(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var u=Ot(n)-s;u&&T(i,i.height+u)}xt(r,"markerChanged",r,e)})},Ls.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=p(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ls.prototype.detachLine=function(e){if(this.lines.splice(p(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Te(Ls);var Fs=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Fs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();xt(this,"clear")}},Fs.prototype.find=function(e,t){return this.primary.find(e,t)},Te(Fs);var Os=0,Bs=function(e,t,n,r,i){if(!(this instanceof Bs))return new Bs(e,t,n,r,i);null==n&&(n=0),Ri.call(this,[new Hi([new ds("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=B(n,0);this.sel=qr(o),this.history=new ei(null),this.id=++Os,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Yr(this,{from:o,to:o,text:e}),xi(this,qr(o),Wa)};Bs.prototype=b(Ri.prototype,{constructor:Bs,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=E(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:vr(function(e){var t=B(this.first,0),n=this.first+this.size-1;Ti(this,{from:t,to:B(n,A(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Gn(this.cm,0,0),xi(this,qr(t),Wa)}),replaceRange:function(e,t,n,r){t=R(this,t),n=n?R(this,n):t,Pi(this,e,t,n,r)},getRange:function(e,t,n){var r=D(this,R(this,e),R(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(F(this,e))return A(this,e)},getLineNumber:function(e){return N(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=A(this,e)),fe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return R(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vr(function(e,t,n){mi(this,R(this,"number"==typeof e?B(e,t||0):e),null,n)}),setSelection:vr(function(e,t,n){mi(this,R(this,e),R(this,t||e),n)}),extendSelection:vr(function(e,t,n){di(this,R(this,e),t&&R(this,t),n)}),extendSelections:vr(function(e,t){gi(this,W(this,e),t)}),extendSelectionsBy:vr(function(e,t){gi(this,W(this,v(this.sel.ranges,e)),t)}),setSelections:vr(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Es(R(r,e[o].anchor),R(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),xi(this,zr(i,t),n)}}),addSelection:vr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Es(R(this,e),R(this,t||e))),xi(this,zr(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=D(n,r[i].from(),r[i].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=D(t,r[i].from(),r[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:vr(function(e,t,n){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var u=t&&"end"!=t&&Ur(this,i,t),l=i.length-1;l>=0;l--)Ti(r,i[l]);u?bi(this,u):this.cm&&Jn(this.cm)}),undo:vr(function(){Li(this,"undo")}),redo:vr(function(){Li(this,"redo")}),undoSelection:vr(function(){Li(this,"undo",!0)}),redoSelection:vr(function(){Li(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ei(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:pi(this.history.done),undone:pi(this.history.undone)}},setHistory:function(e){var t=this.history=new ei(this.history.maxGeneration);t.done=pi(e.done.slice(0),null,!0),t.undone=pi(e.undone.slice(0),null,!0)},setGutterMarker:vr(function(e,t,n){return qi(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&_(r)&&(e.gutterMarkers=null),!0})}),clearGutter:vr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&qi(t,n,"gutter",function(){return n.gutterMarkers[e]=null,_(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!F(this,e))return null;if(t=e,!(e=A(this,e)))return null}else if(null==(t=N(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:vr(function(t,n,r){return qi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:vr(function(t,n,r){return qi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var a=o.match(e(r));if(!a)return!1;var s=a.index+a[0].length;t[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:vr(function(e,t,n){return Wi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Ui(this,R(this,e),R(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=R(this,e),Ui(this,e,e,n,"bookmark")},findMarksAt:function(e){e=R(this,e);var t=[],n=A(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=R(this,e),t=R(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),R(this,B(n,t))},indexFromPos:function(e){e=R(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Bs(E(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Bs(E(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gi(r,Ji(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Jo&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Yi(Ji(t));break}}if(e.history==this.history){var i=[e.id];Xr(e,function(e){return i.push(e.id)},!0),e.history=new ei(null),e.history.done=pi(this.history.done,i),e.history.undone=pi(this.history.undone,i)}},iterLinkedDocs:function(e){Xr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):rs(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:vr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qr(this.cm))})}),Bs.prototype.eachLine=Bs.prototype.iter;for(var Ps=0,js=!1,Is={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zs=0;zs<10;zs++)Is[zs+48]=Is[zs+96]=String(zs);for(var qs=65;qs<=90;qs++)Is[qs]=String.fromCharCode(qs);for(var Hs=1;Hs<=12;Hs++)Is[Hs+111]=Is[Hs+63235]="F"+Hs;var Rs={};Rs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Rs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Rs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Rs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Rs.default=Ta?Rs.macDefault:Rs.pcDefault;var Vs={selectAll:Di,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Wa)},killLine:function(e){return fo(e,function(t){if(t.empty()){var n=A(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:B(t.head.line+1,0)}:{from:t.head,to:B(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return fo(e,function(t){return{from:B(t.from().line,0),to:R(e.doc,B(t.to().line+1,0))}})},delLineLeft:function(e){return fo(e,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return fo(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return fo(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(B(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(B(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return mo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},$a)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},$a)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?bo(e,t.head):r},$a)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=f(e.getLine(o.line),o.ch,r);t.push(d(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return hr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=A(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new B(i.line,i.ch-1)),i.ch>0)i=new B(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),B(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=A(e.doc,i.line-1).text;a&&(i=new B(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),B(i.line-1,a.length-1),i,"+transpose"))}n.push(new Es(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return hr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Jn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Ws=new za,Us=null,$s=function(e,t,n){this.time=e,this.pos=t,this.button=n};$s.prototype.compare=function(e,t,n){return this.time+400>e&&0==P(t,this.pos)&&n==this.button};var Js,Gs,Ys={toString:function(){return"CodeMirror.Init"}},Xs={},Ks={};Jo.defaults=Xs,Jo.optionHandlers=Ks;var Zs=[];Jo.defineInitHook=function(e){return Zs.push(e)};var Qs=null,eu=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new za,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};eu.prototype.init=function(e){function t(e){if(!Ae(i,e)){if(i.somethingSelected())Xo({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=ea(i);Xo({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Wa),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=Qs.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=na(),s=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),s.value=Qs.text.join("\n");var u=document.activeElement;Ia(s),setTimeout(function(){i.display.lineSpace.removeChild(a),u.focus(),u==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=e.lineDiv;ta(o,i.options.spellcheck),ts(o,"paste",function(e){Ae(i,e)||Zo(e,i)||ba<=11&&setTimeout(dr(i,function(){return n.updateFromDOM()}),20)}),ts(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),ts(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),ts(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ts(o,"touchstart",function(){return r.forceCompositionEnd()}),ts(o,"input",function(){n.composing||n.readFromDOMSoon()}),ts(o,"copy",t),ts(o,"cut",t)},eu.prototype.prepareSelection=function(){var e=Dn(this.cm,!1);return e.focus=this.cm.state.focused,e},eu.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},eu.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=la(t,e.anchorNode,e.anchorOffset),a=la(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=P(q(o,a),r)||0!=P(z(o,a),i)){var s=t.display.view,u=r.line>=t.display.viewFrom&&oa(t,r)||{node:s[0].measure.map[2],offset:0},l=i.line<t.display.viewTo&&oa(t,i);if(!l){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;l={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(!u||!l)return void e.removeAllRanges();var p,h=e.rangeCount&&e.getRangeAt(0);try{p=Oa(u.node,u.offset,l.offset,l.node)}catch(e){}p&&(!da&&t.state.focused?(e.collapse(u.node,u.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):da&&this.startGracePeriod()),this.rememberSelection()}},eu.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},eu.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},eu.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},eu.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},eu.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},eu.prototype.blur=function(){this.div.blur()},eu.prototype.getField=function(){return this.div},eu.prototype.supportsTouch=function(){return!0},eu.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():hr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},eu.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},eu.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){
var e=window.getSelection(),t=this.cm;if(Da&&_a&&this.cm.options.gutters.length&&aa(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=la(t,e.anchorNode,e.anchorOffset),r=la(t,e.focusNode,e.focusOffset);n&&r&&hr(t,function(){xi(t.doc,qr(n,r),Wa),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},eu.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=B(r.line-1,A(e.doc,r.line-1).length)),i.ch==A(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=B(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,a,s;r.line==t.viewFrom||0==(o=Mn(e,r.line))?(a=N(t.view[0].line),s=t.view[0].node):(a=N(t.view[o].line),s=t.view[o-1].node.nextSibling);var u,l,c=Mn(e,i.line);if(c==t.view.length-1?(u=t.viewTo-1,l=t.lineDiv.lastChild):(u=N(t.view[c+1].line)-1,l=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(ua(e,s,l,a,u)),p=D(e.doc,B(a,0),B(u,A(e.doc,u).text.length));f.length>1&&p.length>1;)if(g(f)==g(p))f.pop(),p.pop(),u--;else{if(f[0]!=p[0])break;f.shift(),p.shift(),a++}for(var h=0,d=0,v=f[0],m=p[0],y=Math.min(v.length,m.length);h<y&&v.charCodeAt(h)==m.charCodeAt(h);)++h;for(var b=g(f),x=g(p),w=Math.min(b.length-(1==f.length?h:0),x.length-(1==p.length?h:0));d<w&&b.charCodeAt(b.length-d-1)==x.charCodeAt(x.length-d-1);)++d;if(1==f.length&&1==p.length&&a==r.line)for(;h&&h>r.ch&&b.charCodeAt(b.length-d-1)==x.charCodeAt(x.length-d-1);)h--,d++;f[f.length-1]=b.slice(0,b.length-d).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var _=B(a,h),C=B(u,p.length?g(p).length-d:0);return f.length>1||f[0]||P(_,C)?(Pi(e.doc,f,_,C,"+input"),!0):void 0},eu.prototype.ensurePolled=function(){this.forceCompositionEnd()},eu.prototype.reset=function(){this.forceCompositionEnd()},eu.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},eu.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},eu.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||hr(this.cm,function(){return mr(e.cm)})},eu.prototype.setUneditable=function(e){e.contentEditable="false"},eu.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||dr(this.cm,Ko)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},eu.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},eu.prototype.onContextMenu=function(){},eu.prototype.resetPosition=function(){},eu.prototype.needsContentAttribute=!0;var tu=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new za,this.hasSelection=!1,this.composing=null};tu.prototype.init=function(e){function t(e){if(!Ae(i,e)){if(i.somethingSelected())Xo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=ea(i);Xo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Wa):(r.prevInput="",a.value=t.text.join("\n"),Ia(a))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,r=this,i=this.cm,o=this.wrapper=na(),a=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Aa&&(a.style.width="0px"),ts(a,"input",function(){ya&&ba>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),ts(a,"paste",function(e){Ae(i,e)||Zo(e,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),ts(a,"cut",t),ts(a,"copy",t),ts(e.scroller,"paste",function(t){Bt(e,t)||Ae(i,t)||(i.state.pasteIncoming=!0,r.focus())}),ts(e.lineSpace,"selectstart",function(t){Bt(e,t)||Ne(t)}),ts(a,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ts(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},tu.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Dn(e);if(e.options.moveInputWithCursor){var i=ln(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},tu.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},tu.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Ia(this.textarea),ya&&ba>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ya&&ba>=9&&(this.hasSelection=null))}},tu.prototype.getField=function(){return this.textarea},tu.prototype.supportsTouch=function(){return!1},tu.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Ea||a()!=this.textarea))try{this.textarea.focus()}catch(e){}},tu.prototype.blur=function(){this.textarea.blur()},tu.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},tu.prototype.receivedFocus=function(){this.slowPoll()},tu.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},tu.prototype.fastPoll=function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},tu.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||is(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(ya&&ba>=9&&this.hasSelection===i||Ta&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="â"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return hr(t,function(){Ko(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},tu.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},tu.prototype.onKeyPress=function(){ya&&ba>=9&&(this.hasSelection=null),this.fastPoll()},tu.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t="â"+(e?a.value:"");a.value="â",a.value=t,r.prevInput=e?"":"â",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=c,a.style.cssText=l,ya&&ba<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=u),null!=a.selectionStart){(!ya||ya&&ba<9)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"â"==r.prevInput?dr(i,Di)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Sn(i,e),u=o.scroller.scrollTop;if(s&&!Ca){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&dr(i,xi)(i.doc,qr(s),Wa);var l=a.style.cssText,c=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var f=r.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(ya?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var p;if(xa&&(p=window.scrollY),o.input.focus(),xa&&window.scrollTo(null,p),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ya&&ba>=9&&t(),Pa){Oe(e);var h=function(){Se(window,"mouseup",h),setTimeout(n,20)};ts(window,"mouseup",h)}else setTimeout(n,50)}},tu.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},tu.prototype.setUneditable=function(){},tu.prototype.needsContentAttribute=!1,function(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=Ys&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=Ys,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,$r(e)},!0),t("indentUnit",2,$r,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Jr(e),tn(e),mr(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(B(r,o))}r++});for(var i=n.length-1;i>=0;i--)Pi(e.doc,t,n[i],B(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ys&&e.refresh()}),t("specialCharPlaceholder",lt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Ea?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!La),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Vo(e),Wo(e)},!0),t("keyMap","default",function(e,t,n){var r=co(t),i=n!=Ys&&co(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,$o,!0),t("gutters",[],function(e){Br(e.options),Wo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?_n(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return nr(e)},!0),t("scrollbarStyle","native",function(e){ir(e),nr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Br(e.options),Wo(e)},!0),t("firstLineNumber",1,Wo,!0),t("lineNumberFormatter",function(e){return e},Wo,!0),t("showCursorWhenSelecting",!1,An,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Pn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Uo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,An,!0),t("singleCursorHeightPerLine",!0,An,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Jr,!0),t("addModeClass",!1,Jr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Jr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(Jo),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&dr(this,t[e])(this,n,i),Me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](co(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:gr(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,mr(this)}),removeOverlay:gr(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,void mr(t)}}),indentLine:gr(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),F(this.doc,e)&&Yo(this,e,t,n)}),indentSelection:gr(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Yo(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&Jn(t));else{var a=o.from(),s=o.to(),u=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var l=u;l<r;++l)Yo(t,l,e);var c=t.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[i].from().ch>0&&vi(t.doc,i,new Es(a,c[i].to()),Wa)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,B(e),t,!0)},getTokenTypeAt:function(e){e=R(this.doc,e);var t,n=Ye(this,A(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&i.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var u=o[a[t][s]];u&&i.push(u)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var l=0;l<o._global.length;l++){var c=o._global[l];c.pred(a,r)&&-1==p(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=H(n,null==e?n.first+n.size-1:e),Xe(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?R(this.doc,e):e?r.from():r.to(),ln(this,n,t||"page")},charCoords:function(e,t){return un(this,R(this.doc,e),t||"page")},coordsChar:function(e,t){return e=sn(this,e,t||"page"),pn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=sn(this,{top:e,left:0},t||"page").top,L(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=A(this.doc,e)}else r=e;return an(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-ye(r):0)},defaultTextHeight:function(){return bn(this.display)},defaultCharWidth:function(){return xn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=ln(this,R(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(a=e.bottom),s+t.offsetWidth>l&&(s=l-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Wn(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:gr(Mo),triggerOnKeyPress:gr(Eo),triggerOnKeyUp:Do,triggerOnMouseDown:gr(No),execCommand:function(e){if(Vs.hasOwnProperty(e))return Vs[e].call(null,this)},triggerElectric:gr(function(e){Qo(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;t<0&&(o=-1,t=-t);for(var a=R(this.doc,e),s=0;s<t&&(a=ra(i.doc,a,o,n,r),!a.hitSide);++s);return a},moveH:gr(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?ra(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},$a)}),deleteH:gr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):fo(this,function(n){var i=ra(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,a=r;t<0&&(o=-1,t=-t);for(var s=R(this.doc,e),u=0;u<t;++u){var l=ln(i,s,"div");if(null==a?a=l.left:l.left=a,s=ia(i,l,o,n),s.hitSide)break}return s},moveV:gr(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=ln(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=ia(n,s,e,t);return"page"==t&&a==r.sel.primary()&&$n(n,un(n,u,"div").top-s.top),u},$a),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=A(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=w(a,o)?function(e){return w(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!w(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new Es(B(e.line,r),B(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):ja(this.display.cursorDiv,"CodeMirror-overwrite"),Me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gr(function(e,t){Gn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-zt(this)-this.display.barHeight,width:e.scrollWidth-zt(this)-this.display.barWidth,clientHeight:Ht(this),clientWidth:qt(this)}},scrollIntoView:gr(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:B(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Yn(this,e):Kn(this,e.from,e.to,e.margin)}),setSize:gr(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&en(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){yr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Me(this,"refresh",this)}),operation:function(e){return hr(this,e)},startOperation:function(){return or(this)},endOperation:function(){return ar(this)},refresh:gr(function(){var e=this.display.cachedTextHeight;mr(this),this.curOp.forceUpdate=!0,tn(this),Gn(this,this.doc.scrollLeft,this.doc.scrollTop),Lr(this),(null==e||Math.abs(e-bn(this.display))>.5)&&kn(this),Me(this,"refresh",this)}),swapDoc:gr(function(e){var t=this.doc;return t.cm=null,Kr(this,e),tn(this),this.display.input.reset(),Gn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Te(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(Jo);var nu="iter insert remove copy getEditor constructor".split(" ");for(var ru in Bs.prototype)Bs.prototype.hasOwnProperty(ru)&&p(nu,ru)<0&&(Jo.prototype[ru]=function(e){return function(){return e.apply(this.doc,arguments)}}(Bs.prototype[ru]));return Te(Bs),Jo.inputStyles={textarea:tu,contenteditable:eu},Jo.defineMode=function(e){Jo.defaults.mode||"null"==e||(Jo.defaults.mode=e),qe.apply(this,arguments)},Jo.defineMIME=He,Jo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Jo.defineMIME("text/plain","null"),Jo.defineExtension=function(e,t){Jo.prototype[e]=t},Jo.defineDocExtension=function(e,t){Bs.prototype[e]=t},Jo.fromTextArea=fa,function(e){e.off=Se,e.on=ts,e.wheelEventPixels=jr,e.Doc=Bs,e.splitLines=rs,e.countColumn=f,e.findColumn=h,e.isWordChar=x,e.Pass=Va,e.signal=Me,e.Line=ds,e.changeEnd=Hr,e.scrollbarModel=Cs,e.Pos=B,e.cmpPos=P,e.modes=ss,e.mimeModes=us,e.resolveMode=Re,e.getMode=Ve,e.modeExtensions=ls,e.extendMode=We,e.copyState=Ue,e.startState=Je,e.innerMode=$e,e.commands=Vs,e.keyMap=Rs,e.keyName=lo,e.isModifierKey=so,e.lookupKey=ao,e.normalizeKeyMap=oo,e.StringStream=cs,e.SharedTextMarker=Fs,e.TextMarker=Ls,e.LineWidget=Ts,e.e_preventDefault=Ne,e.e_stopPropagation=Le,e.e_stop=Oe,e.addClass=s,e.contains=o,e.rmClass=ja,e.keyNames=Is}(Jo),Jo.version="5.32.0",Jo}();!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return Ee=e,Te=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),i("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):De(e,t,1)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=u,u(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(Ie.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),i("operator","operator",e.current());if(Pe.test(n)){e.eatWhile(Pe);var o=e.current();if("."!=t.lastType){if(je.propertyIsEnumerable(o)){var l=je[o];return i(l.type,l.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function a(e){return function(t,n){var r,a=!1;if(Fe&&"@"==t.peek()&&t.match(ze))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function u(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Be){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),u=qe.indexOf(s);if(u>=0&&u<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(u>=3&&u<6)++i;else if(Pe.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function p(e,t,n,r,i){var o=e.cc;for(Re.state=e,Re.stream=i,Re.marked=null,Re.cc=o,Re.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((o.length?o.pop():Oe?_:w)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Re.marked?Re.marked:"variable"==n&&f(e,r)?"variable-2":t}}}function h(){for(var e=arguments.length-1;e>=0;e--)Re.cc.push(arguments[e])}function d(){return h.apply(null,arguments),!0}function g(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=Re.state;if(Re.marked="def",r.context){if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function v(){Re.state.context={prev:Re.state.context,vars:Re.state.localVars},Re.state.localVars=Ve}function m(){Re.state.localVars=Re.state.context.vars,Re.state.context=Re.state.context.prev}function y(e,t){var n=function(){var n=Re.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,Re.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Re.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(n){return n==e?d():";"==e?h():d(t)}return t}function w(e,t){return"var"==e?d(y("vardef",t.length),te,x(";"),b):"keyword a"==e?d(y("form"),k,w,b):"keyword b"==e?d(y("form"),w,b):"keyword d"==e?Re.stream.match(/^\s*$/,!1)?d():d(y("stat"),M,x(";"),b):"debugger"==e?d(x(";")):"{"==e?d(y("}"),V,b):";"==e?d():"if"==e?("else"==Re.state.lexical.info&&Re.state.cc[Re.state.cc.length-1]==b&&Re.state.cc.pop()(),d(y("form"),k,w,b,ae)):"function"==e?d(pe):"for"==e?d(y("form"),se,w,b):"variable"==e?Be&&"type"==t?(Re.marked="keyword",d(J,x("operator"),J,x(";"))):Be&&"declare"==t?(Re.marked="keyword",d(w)):Be&&("module"==t||"enum"==t)&&Re.stream.match(/^\s*\w/,!1)?(Re.marked="keyword",d(y("form"),ne,x("{"),y("}"),V,b,b)):d(y("stat"),P):"switch"==e?d(y("form"),k,x("{"),y("}","switch"),V,b,b):"case"==e?d(_,x(":")):"default"==e?d(x(":")):"catch"==e?d(y("form"),v,x("("),he,x(")"),w,b,m):"class"==e?d(y("form"),ge,b):"export"==e?d(y("stat"),be,b):"import"==e?d(y("stat"),we,b):"async"==e?d(w):"@"==t?d(_,w):h(y("stat"),_,x(";"),b)}function _(e){return S(e,!1)}function C(e){return S(e,!0)}function k(e){return"("!=e?h():d(y(")"),_,x(")"),b)}function S(e,t){if(Re.state.fatArrowAt==Re.stream.start){var n=t?L:N;if("("==e)return d(v,y(")"),H(he,")"),b,x("=>"),n,m);if("variable"==e)return h(v,ne,x("=>"),n,m)}var r=t?D:A;return He.hasOwnProperty(e)?d(r):"function"==e?d(pe,r):"class"==e?d(y("form"),de,b):"keyword c"==e||"async"==e?d(t?C:_):"("==e?d(y(")"),M,x(")"),b,r):"operator"==e||"spread"==e?d(t?C:_):"["==e?d(y("]"),Me,b,r):"{"==e?R(I,"}",null,r):"quasi"==e?h(E,r):"new"==e?d(F(t)):d()}function M(e){return e.match(/[;\}\)\],]/)?h():h(_)}function A(e,t){return","==e?d(_):D(e,t,!1)}function D(e,t,n){var r=0==n?A:D,i=0==n?_:C;return"=>"==e?d(v,n?L:N,m):"operator"==e?/\+\+|--/.test(t)||Be&&"!"==t?d(r):Be&&"<"==t&&Re.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?d(y(">"),H(J,">"),b,r):"?"==t?d(_,x(":"),i):d(i):"quasi"==e?h(E,r):";"!=e?"("==e?R(C,")","call",r):"."==e?d(j,r):"["==e?d(y("]"),M,x("]"),b,r):Be&&"as"==t?(Re.marked="keyword",d(J,r)):"regexp"==e?(Re.state.lastType=Re.marked="operator",Re.stream.backUp(Re.stream.pos-Re.stream.start-1),d(i)):void 0:void 0}function E(e,t){return"quasi"!=e?h():"${"!=t.slice(t.length-2)?d(E):d(_,T)}function T(e){if("}"==e)return Re.marked="string-2",Re.state.tokenize=u,d(E)}function N(e){return l(Re.stream,Re.state),h("{"==e?w:_)}function L(e){return l(Re.stream,Re.state),h("{"==e?w:C)}function F(e){return function(t){return"."==t?d(e?B:O):"variable"==t&&Be?d(Z,e?D:A):h(e?C:_)}}function O(e,t){if("target"==t)return Re.marked="keyword",d(A)}function B(e,t){if("target"==t)return Re.marked="keyword",d(D)}function P(e){return":"==e?d(b,w):h(A,x(";"),b)}function j(e){if("variable"==e)return Re.marked="property",d()}function I(e,t){if("async"==e)return Re.marked="property",d(I);if("variable"==e||"keyword"==Re.style){if(Re.marked="property","get"==t||"set"==t)return d(z);var n;return Be&&Re.state.fatArrowAt==Re.stream.start&&(n=Re.stream.match(/^\s*:\s*/,!1))&&(Re.state.fatArrowAt=Re.stream.pos+n[0].length),d(q)}return"number"==e||"string"==e?(Re.marked=Fe?"property":Re.style+" property",d(q)):"jsonld-keyword"==e?d(q):"modifier"==e?d(I):"["==e?d(_,x("]"),q):"spread"==e?d(C,q):"*"==t?(Re.marked="keyword",d(I)):":"==e?h(q):void 0}function z(e){return"variable"!=e?h(q):(Re.marked="property",d(pe))}function q(e){return":"==e?d(C):"("==e?h(pe):void 0}function H(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=Re.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),d(function(n,r){return n==t||r==t?h():h(e)},r)}return i==t||o==t?d():d(x(t))}return function(n,i){return n==t||i==t?d():h(e,r)}}function R(e,t,n){for(var r=3;r<arguments.length;r++)Re.cc.push(arguments[r]);return d(y(t,n),H(e,t),b)}function V(e){return"}"==e?d():h(w,V)}function W(e,t){if(Be){if(":"==e)return d(J);if("?"==t)return d(W)}}function U(e){if(Be&&":"==e)return Re.stream.match(/^\s*\w+\s+is\b/,!1)?d(_,$,J):d(J)}function $(e,t){if("is"==t)return Re.marked="keyword",d()}function J(e,t){return"variable"==e||"void"==t?"keyof"==t?(Re.marked="keyword",d(J)):(Re.marked="type",d(K)):"string"==e||"number"==e||"atom"==e?d(K):"["==e?d(y("]"),H(J,"]",","),b,K):"{"==e?d(y("}"),H(Y,"}",",;"),b,K):"("==e?d(H(X,")"),G):void 0}function G(e){if("=>"==e)return d(J)}function Y(e,t){return"variable"==e||"keyword"==Re.style?(Re.marked="property",d(Y)):"?"==t?d(Y):":"==e?d(J):"["==e?d(_,W,x("]"),Y):void 0}function X(e){return"variable"==e?d(X):":"==e?d(J):void 0}function K(e,t){return"<"==t?d(y(">"),H(J,">"),b,K):"|"==t||"."==e?d(J):"["==e?d(x("]"),K):"extends"==t?d(J):void 0}function Z(e,t){if("<"==t)return d(y(">"),H(J,">"),b,K)}function Q(){return h(J,ee)}function ee(e,t){if("="==t)return d(J)}function te(){return h(ne,W,ie,oe)}function ne(e,t){return"modifier"==e?d(ne):"variable"==e?(g(t),d()):"spread"==e?d(ne):"["==e?R(ne,"]"):"{"==e?R(re,"}"):void 0}function re(e,t){return"variable"!=e||Re.stream.match(/^\s*:/,!1)?("variable"==e&&(Re.marked="property"),"spread"==e?d(ne):"}"==e?h():d(x(":"),ne,ie)):(g(t),d(ie))}function ie(e,t){if("="==t)return d(C)}function oe(e){if(","==e)return d(te)}function ae(e,t){if("keyword b"==e&&"else"==t)return d(y("form","else"),w,b)}function se(e){if("("==e)return d(y(")"),ue,x(")"),b)}function ue(e){return"var"==e?d(te,x(";"),ce):";"==e?d(ce):"variable"==e?d(le):h(_,x(";"),ce)}function le(e,t){return"in"==t||"of"==t?(Re.marked="keyword",d(_)):d(A,ce)}function ce(e,t){return";"==e?d(fe):"in"==t||"of"==t?(Re.marked="keyword",d(_)):h(_,x(";"),fe)}function fe(e){")"!=e&&d(_)}function pe(e,t){return"*"==t?(Re.marked="keyword",d(pe)):"variable"==e?(g(t),d(pe)):"("==e?d(v,y(")"),H(he,")"),b,U,w,m):Be&&"<"==t?d(y(">"),H(Q,">"),b,pe):void 0}function he(e,t){
return"@"==t&&d(_,he),"spread"==e||"modifier"==e?d(he):h(ne,W,ie)}function de(e,t){return"variable"==e?ge(e,t):ve(e,t)}function ge(e,t){if("variable"==e)return g(t),d(ve)}function ve(e,t){return"<"==t?d(y(">"),H(Q,">"),b,ve):"extends"==t||"implements"==t||Be&&","==e?d(Be?J:_,ve):"{"==e?d(y("}"),me,b):void 0}function me(e,t){return"modifier"==e||"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t)&&Re.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Re.marked="keyword",d(me)):"variable"==e||"keyword"==Re.style?(Re.marked="property",d(Be?ye:pe,me)):"["==e?d(_,x("]"),Be?ye:pe,me):"*"==t?(Re.marked="keyword",d(me)):";"==e?d(me):"}"==e?d():"@"==t?d(_,me):void 0}function ye(e,t){return"?"==t?d(ye):":"==e?d(J,ie):"="==t?d(C):h(pe)}function be(e,t){return"*"==t?(Re.marked="keyword",d(Se,x(";"))):"default"==t?(Re.marked="keyword",d(_,x(";"))):"{"==e?d(H(xe,"}"),Se,x(";")):h(w)}function xe(e,t){return"as"==t?(Re.marked="keyword",d(x("variable"))):"variable"==e?h(C,xe):void 0}function we(e){return"string"==e?d():h(_e,Ce,Se)}function _e(e,t){return"{"==e?R(_e,"}"):("variable"==e&&g(t),"*"==t&&(Re.marked="keyword"),d(ke))}function Ce(e){if(","==e)return d(_e,Ce)}function ke(e,t){if("as"==t)return Re.marked="keyword",d(_e)}function Se(e,t){if("from"==t)return Re.marked="keyword",d(_)}function Me(e){return"]"==e?d():h(H(C,"]"))}function Ae(e,t){return"operator"==e.lastType||","==e.lastType||Ie.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function De(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Ee,Te,Ne=t.indentUnit,Le=n.statementIndent,Fe=n.jsonld,Oe=n.json||Fe,Be=n.typescript,Pe=n.wordCharacters||/[\w$\xa1-\uffff]/,je=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"},s={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r};if(Be){var u={type:"variable",style:"type"},l={interface:e("class"),implements:r,namespace:r,public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),readonly:e("modifier"),string:u,number:u,boolean:u,any:u};for(var c in l)s[c]=l[c]}return s}(),Ie=/[+\-*&%=<>!?|~^@]/,ze=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,qe="([{}])",He={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Re={state:null,column:null,marked:null,cc:null},Ve={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-Ne,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Ee?n:(t.lastType="operator"!=Ee||"++"!=Te&&"--"!=Te?Ee:"incdec",p(t,n,Ee,Te,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var i,a=r&&r.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==b)u=u.prev;else if(c!=ae)break}for(;("stat"==u.type||"form"==u.type)&&("}"==a||(i=t.cc[t.cc.length-1])&&(i==A||i==D)&&!/^[,\.=+\-*:?[\(]/.test(r));)u=u.prev;Le&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var f=u.type,p=a==f;return"vardef"==f?u.indented+("operator"==t.lastType||","==t.lastType?u.info+1:0):"form"==f&&"{"==a?u.indented:"form"==f?u.indented+Ne:"stat"==f?u.indented+(Ae(t,r)?Le||Ne:0):"switch"!=u.info||p||0==n.doubleIndentSwitch?u.align?u.column+(p?0:1):u.indented+(p?0:Ne):u.indented+(/^(?:case|default)\b/.test(r)?Ne:2*Ne)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Oe?null:"/*",blockCommentEnd:Oe?null:"*/",blockCommentContinue:Oe?null:" * ",lineComment:Oe?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Oe?"json":"javascript",jsonldMode:Fe,jsonMode:Oe,expressionAllowed:De,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=_&&t!=C||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return d=t,e}function i(e,t){var n=e.next();if(m[n]){var i=m[n](e,t);if(!1!==i)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=a,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function a(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function u(e,t,n,r){return e.context=new s(n,t.indentation()+(!1===r?0:v),e.context),n}function l(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,n){return N[n.context.type](e,t,n)}function f(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function p(e){var t=e.current().toLowerCase();g=A.hasOwnProperty(t)?"atom":M.hasOwnProperty(t)?"keyword":"variable"}var h=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var d,g,v=t.indentUnit,m=n.tokenHooks,y=n.documentTypes||{},b=n.mediaTypes||{},x=n.mediaFeatures||{},w=n.mediaValueKeywords||{},_=n.propertyKeywords||{},C=n.nonStandardPropertyKeywords||{},k=n.fontProperties||{},S=n.counterDescriptors||{},M=n.colorKeywords||{},A=n.valueKeywords||{},D=n.allowNested,E=n.lineComment,T=!0===n.supportsAtComponent,N={};return N.top=function(e,t,n){if("{"==e)return u(n,t,"block");if("}"==e&&n.context.prev)return l(n);if(T&&/@component/.test(e))return u(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return u(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return u(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return u(n,t,"at");if("hash"==e)g="builtin";else if("word"==e)g="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return u(n,t,"interpolation");if(":"==e)return"pseudo";if(D&&"("==e)return u(n,t,"parens")}return n.context.type},N.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return _.hasOwnProperty(r)?(g="property","maybeprop"):C.hasOwnProperty(r)?(g="string-2","maybeprop"):D?(g=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(g+=" error","maybeprop")}return"meta"==e?"block":D||"hash"!=e&&"qualifier"!=e?N.top(e,t,n):(g="error","block")},N.maybeprop=function(e,t,n){return":"==e?u(n,t,"prop"):c(e,t,n)},N.prop=function(e,t,n){if(";"==e)return l(n);if("{"==e&&D)return u(n,t,"propBlock");if("}"==e||"{"==e)return f(e,t,n);if("("==e)return u(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)p(t);else if("interpolation"==e)return u(n,t,"interpolation")}else g+=" error";return"prop"},N.propBlock=function(e,t,n){return"}"==e?l(n):"word"==e?(g="property","maybeprop"):n.context.type},N.parens=function(e,t,n){return"{"==e||"}"==e?f(e,t,n):")"==e?l(n):"("==e?u(n,t,"parens"):"interpolation"==e?u(n,t,"interpolation"):("word"==e&&p(t),"parens")},N.pseudo=function(e,t,n){return"meta"==e?"pseudo":"word"==e?(g="variable-3",n.context.type):c(e,t,n)},N.documentTypes=function(e,t,n){return"word"==e&&y.hasOwnProperty(t.current())?(g="tag",n.context.type):N.atBlock(e,t,n)},N.atBlock=function(e,t,n){if("("==e)return u(n,t,"atBlock_parens");if("}"==e||";"==e)return f(e,t,n);if("{"==e)return l(n)&&u(n,t,D?"block":"top");if("interpolation"==e)return u(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();g="only"==r||"not"==r||"and"==r||"or"==r?"keyword":b.hasOwnProperty(r)?"attribute":x.hasOwnProperty(r)?"property":w.hasOwnProperty(r)?"keyword":_.hasOwnProperty(r)?"property":C.hasOwnProperty(r)?"string-2":A.hasOwnProperty(r)?"atom":M.hasOwnProperty(r)?"keyword":"error"}return n.context.type},N.atComponentBlock=function(e,t,n){return"}"==e?f(e,t,n):"{"==e?l(n)&&u(n,t,D?"block":"top",!1):("word"==e&&(g="error"),n.context.type)},N.atBlock_parens=function(e,t,n){return")"==e?l(n):"{"==e||"}"==e?f(e,t,n,2):N.atBlock(e,t,n)},N.restricted_atBlock_before=function(e,t,n){return"{"==e?u(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(g="variable","restricted_atBlock_before"):c(e,t,n)},N.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,l(n)):"word"==e?(g="@font-face"==n.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!S.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},N.keyframes=function(e,t,n){return"word"==e?(g="variable","keyframes"):"{"==e?u(n,t,"top"):c(e,t,n)},N.at=function(e,t,n){return";"==e?l(n):"{"==e||"}"==e?f(e,t,n):("word"==e?g="tag":"hash"==e&&(g="builtin"),"at")},N.interpolation=function(e,t,n){return"}"==e?l(n):"{"==e||";"==e?f(e,t,n):("word"==e?g="variable":"variable"!=e&&"("!=e&&")"!=e&&(g="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:h?"block":"top",stateArg:null,context:new s(h?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(d=n[1],n=n[0]),g=n,"comment"!=d&&(t.state=N[t.state](d,e,t)),g},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-v)):(n=n.prev,i=n.indent)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:E,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],i=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(o),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],u=t(s),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(l),f=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=t(f),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=t(h),g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],v=t(g),m=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],y=t(m),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=t(b),w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],_=t(w),C=r.concat(o).concat(s).concat(l).concat(f).concat(h).concat(b).concat(w);e.registerHelper("hintWords","css",C),e.defineMIME("text/css",{documentTypes:i,mediaTypes:a,mediaFeatures:u,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:d,fontProperties:v,counterDescriptors:y,colorKeywords:x,valueKeywords:_,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:u,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:d,colorKeywords:x,valueKeywords:_,fontProperties:v,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:u,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:d,colorKeywords:x,valueKeywords:_,fontProperties:v,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:a,mediaFeatures:u,propertyKeywords:p,nonStandardPropertyKeywords:d,fontProperties:v,counterDescriptors:y,colorKeywords:x,valueKeywords:_,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,n){var r,i=e.getWrapperElement();return r=i.appendChild(document.createElement("div")),r.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?r.innerHTML=t:r.appendChild(t),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function a(e){if("string"==typeof e)f.value=e;else{if(l)return;l=!0,u.parentNode.removeChild(u),c.focus(),o.onClose&&o.onClose(u)}}o||(o={}),n(this,null);var s,u=t(this,r,o.bottom),l=!1,c=this,f=u.getElementsByTagName("input")[0];return f?(f.focus(),o.value&&(f.value=o.value,!1!==o.selectValueOnOpen&&f.select()),o.onInput&&e.on(f,"input",function(e){o.onInput(e,f.value,a)}),o.onKeyUp&&e.on(f,"keyup",function(e){o.onKeyUp(e,f.value,a)}),e.on(f,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,f.value,a)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(f.blur(),e.e_stop(t),a()),13==t.keyCode&&i(f.value,t))}),!1!==o.closeOnBlur&&e.on(f,"blur",a)):(s=u.getElementsByTagName("button")[0])&&(e.on(s,"click",function(){a(),c.focus()}),!1!==o.closeOnBlur&&e.on(s,"blur",a),s.focus()),a}),e.defineExtension("openConfirm",function(r,i,o){function a(){l||(l=!0,s.parentNode.removeChild(s),c.focus())}n(this,null);var s=t(this,r,o&&o.bottom),u=s.getElementsByTagName("button"),l=!1,c=this,f=1;u[0].focus();for(var p=0;p<u.length;++p){var h=u[p];!function(t){e.on(h,"click",function(n){e.e_preventDefault(n),a(),t&&t(c)})}(i[p]),e.on(h,"blur",function(){--f,setTimeout(function(){f<=0&&a()},200)}),e.on(h,"focus",function(){++f})}}),
e.defineExtension("openNotification",function(r,i){function o(){u||(u=!0,clearTimeout(a),s.parentNode.removeChild(s))}n(this,o);var a,s=t(this,r,i&&i.bottom),u=!1,l=i&&void 0!==i.duration?i.duration:5e3;return e.on(s,"click",function(t){e.e_preventDefault(t),o()}),l&&(a=setTimeout(o,l)),o})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:!0})}function a(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){d(e)},onKeyDown:i})}function s(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function u(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function l(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function c(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}else e=l(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function f(e,n,r){n.queryText=r,n.query=c(r),e.removeOverlay(n.overlay,i(n.query)),n.overlay=t(n.query,i(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,i(n.query)))}function p(t,n,i,o){var u=r(t);if(u.query)return h(t,n);var l=t.getSelection()||u.lastQuery;if(l instanceof RegExp&&"x^"==l.source&&(l=null),i&&t.openDialog){var c=null,p=function(n,r){e.e_stop(r),n&&(n!=u.queryText&&(f(t,u,n),u.posFrom=u.posTo=t.getCursor()),c&&(c.style.opacity=1),h(t,r.shiftKey,function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((c=r).style.opacity=.4)}))};a(t,m,l,p,function(n,i){var o=e.keyName(n),a=t.getOption("extraKeys"),s=a&&a[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==s||"findPrev"==s||"findPersistentNext"==s||"findPersistentPrev"==s?(e.e_stop(n),f(t,r(t),i),t.execCommand(s)):"find"!=s&&"findPersistent"!=s||(e.e_stop(n),p(i,n))}),o&&l&&(f(t,u,l),h(t,n))}else s(t,m,"Search for:",l,function(e){e&&!u.query&&t.operation(function(){f(t,u,e),u.posFrom=u.posTo=t.getCursor(),h(t,n)})})}function h(t,n,i){t.operation(function(){var a=r(t),s=o(t,a.query,n?a.posFrom:a.posTo);(s.find(n)||(s=o(t,a.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0)),s.find(n)))&&(t.setSelection(s.from(),s.to()),t.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),i&&i(s.from(),s.to()))})}function d(e){e.operation(function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function g(e,t,n){e.operation(function(){for(var r=o(e,t);r.findNext();)if("string"!=typeof t){var i=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,function(e,t){return i[t]}))}else r.replace(n)})}function v(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,i='<span class="CodeMirror-search-label">'+(t?"Replace all:":"Replace:")+"</span>";s(e,i+y,i,n,function(n){n&&(n=c(n),s(e,b,"Replace with:","",function(r){if(r=l(r),t)g(e,n,r);else{d(e);var i=o(e,n,e.getCursor("from")),a=function(){var t,l=i.from();!(t=i.findNext())&&(i=o(e,n),!(t=i.findNext())||l&&i.from().line==l.line&&i.from().ch==l.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),u(e,x,"Replace?",[function(){s(t)},a,function(){g(e,n,r)}]))},s=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),a()};a()}}))})}}var m='<span class="CodeMirror-search-label">Search:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',y=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',b='<span class="CodeMirror-search-label">With:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',x='<span class="CodeMirror-search-label">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';e.commands.find=function(e){d(e),p(e)},e.commands.findPersistent=function(e){d(e),p(e,!1,!0)},e.commands.findPersistentNext=function(e){p(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){p(e,!0,!0,!0)},e.commands.findNext=p,e.commands.findPrev=function(e){p(e,!0)},e.commands.clearSearch=d,e.commands.replace=v,e.commands.replaceAll=function(e){v(e,!0)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function n(e){return e.global?e:new RegExp(e.source,t(e)+"g")}function r(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function i(e,t,r){t=n(t);for(var i=r.line,o=r.ch,a=e.lastLine();i<=a;i++,o=0){t.lastIndex=o;var s=e.getLine(i),u=t.exec(s);if(u)return{from:g(i,u.index),to:g(i,u.index+u[0].length),match:u}}}function o(e,t,o){if(!r(t))return i(e,t,o);t=n(t);for(var a,s=1,u=o.line,l=e.lastLine();u<=l;){for(var c=0;c<s;c++){var f=e.getLine(u++);a=null==a?f:a+"\n"+f}s*=2,t.lastIndex=o.ch;var p=t.exec(a);if(p){var h=a.slice(0,p.index).split("\n"),d=p[0].split("\n"),v=o.line+h.length-1,m=h[h.length-1].length;return{from:g(v,m),to:g(v+d.length-1,1==d.length?m+d[0].length:d[d.length-1].length),match:p}}}}function a(e,t){for(var n,r=0;;){t.lastIndex=r;var i=t.exec(e);if(!i)return n;if(n=i,(r=n.index+(n[0].length||1))==e.length)return n}}function s(e,t,r){t=n(t);for(var i=r.line,o=r.ch,s=e.firstLine();i>=s;i--,o=-1){var u=e.getLine(i);o>-1&&(u=u.slice(0,o));var l=a(u,t);if(l)return{from:g(i,l.index),to:g(i,l.index+l[0].length),match:l}}}function u(e,t,r){t=n(t);for(var i,o=1,s=r.line,u=e.firstLine();s>=u;){for(var l=0;l<o;l++){var c=e.getLine(s--);i=null==i?c.slice(0,r.ch):c+"\n"+i}o*=2;var f=a(i,t);if(f){var p=i.slice(0,f.index).split("\n"),h=f[0].split("\n"),d=s+p.length,v=p[p.length-1].length;return{from:g(d,v),to:g(d+h.length-1,1==h.length?v+h[0].length:h[h.length-1].length),match:f}}}}function l(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function c(e,t,n,r){if(!t.length)return null;var i=r?h:d,o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,u=e.lastLine()+1-o.length;a<=u;a++,s=0){var c=e.getLine(a).slice(s),f=i(c);if(1==o.length){var p=f.indexOf(o[0]);if(-1==p)continue e;var n=l(c,f,p,i)+s;return{from:g(a,l(c,f,p,i)+s),to:g(a,l(c,f,p+o[0].length,i)+s)}}var v=f.length-o[0].length;if(f.slice(v)==o[0]){for(var m=1;m<o.length-1;m++)if(i(e.getLine(a+m))!=o[m])continue e;var y=e.getLine(a+o.length-1),b=i(y),x=o[o.length-1];if(b.slice(0,x.length)==x)return{from:g(a,l(c,f,v,i)+s),to:g(a+o.length-1,l(y,b,x.length,i))}}}}function f(e,t,n,r){if(!t.length)return null;var i=r?h:d,o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,u=e.firstLine()-1+o.length;a>=u;a--,s=-1){var c=e.getLine(a);s>-1&&(c=c.slice(0,s));var f=i(c);if(1==o.length){var p=f.lastIndexOf(o[0]);if(-1==p)continue e;return{from:g(a,l(c,f,p,i)),to:g(a,l(c,f,p+o[0].length,i))}}var v=o[o.length-1];if(f.slice(0,v.length)==v){for(var m=1,n=a-o.length+1;m<o.length-1;m++)if(i(e.getLine(n+m))!=o[m])continue e;var y=e.getLine(a+1-o.length),b=i(y);if(b.slice(b.length-o[0].length)==o[0])return{from:g(a+1-o.length,l(y,b,y.length-o[0].length,i)),to:g(a,l(c,f,v.length,i))}}}}function p(e,t,r,a){this.atOccurrence=!1,this.doc=e,r=r?e.clipPos(r):g(0,0),this.pos={from:r,to:r};var l;"object"==typeof a?l=a.caseFold:(l=a,a=null),"string"==typeof t?(null==l&&(l=!1),this.matches=function(n,r){return(n?f:c)(e,t,r,l)}):(t=n(t),a&&!1===a.multiline?this.matches=function(n,r){return(n?s:i)(e,t,r)}:this.matches=function(n,r){return(n?u:o)(e,t,r)})}var h,d,g=e.Pos;String.prototype.normalize?(h=function(e){return e.normalize("NFD").toLowerCase()},d=function(e){return e.normalize("NFD")}):(h=function(e){return e.toLowerCase()},d=function(e){return e}),p.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=g(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(g(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=g(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,g(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var r=g(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=g(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new p(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new p(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}),function(e){"use strict";function t(e){return e.split("")}function n(e,t){return t.indexOf(e)>=0}function r(e,t){for(var n=0,r=t.length;n<r;++n)if(e(t[n]))return t[n]}function i(e,t){if(t<=0)return"";if(1==t)return e;var n=i(e,t>>1);return n+=n,1&t&&(n+=e),n}function o(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function a(e,t){this.message=e,this.defs=t}function s(e,t,n){!0===e&&(e={});var r=e||{};if(n)for(var i in r)w(r,i)&&!w(t,i)&&a.croak("`"+i+"` is not a supported option",t);for(var i in t)w(t,i)&&(r[i]=e&&w(e,i)?e[i]:t[i]);return r}function u(e,t){var n=0;for(var r in t)w(t,r)&&(e[r]=t[r],n++);return n}function l(){}function c(){return!1}function f(){return!0}function p(){return this}function h(){return null}function d(e,t){e.indexOf(t)<0&&e.push(t)}function g(e,t){return e.replace(/\{(.+?)\}/g,function(e,n){return t&&t[n]})}function v(e,t){for(var n=e.length;--n>=0;)e[n]===t&&e.splice(n,1)}function m(e,t){function n(e,n){for(var r=[],i=0,o=0,a=0;i<e.length&&o<n.length;)t(e[i],n[o])<=0?r[a++]=e[i++]:r[a++]=n[o++];return i<e.length&&r.push.apply(r,e.slice(i)),o<n.length&&r.push.apply(r,n.slice(o)),r}function r(e){if(e.length<=1)return e;var t=Math.floor(e.length/2),i=e.slice(0,t),o=e.slice(t);return i=r(i),o=r(o),n(i,o)}return e.length<2?e.slice():r(e)}function y(e){function t(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(e){switch(e){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return e})}function n(e){if(1==e.length)return r+="return str === "+t(e[0])+";";r+="switch(str){";for(var n=0;n<e.length;++n)r+="case "+t(e[n])+":";r+="return true}return false;"}e instanceof Array||(e=e.split(" "));var r="",i=[];e:for(var o=0;o<e.length;++o){for(var a=0;a<i.length;++a)if(i[a][0].length==e[o].length){i[a].push(e[o]);continue e}i.push([e[o]])}if(i.length>3){i.sort(function(e,t){return t.length-e.length}),r+="switch(str.length){";for(var o=0;o<i.length;++o){var s=i[o];r+="case "+s[0].length+":",n(s)}r+="}"}else n(e);return new Function("str",r)}function b(e,t){for(var n=e.length;--n>=0;)if(!t(e[n]))return!1;return!0}function x(){this._values=Object.create(null),this._size=0}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e){for(var t,n=e.parent(-1),r=0;t=e.parent(r);r++){if(t instanceof ae&&t.body===n)return!0;if(!(t instanceof Ge&&t.expressions[0]===n||t instanceof $e&&t.expression===n&&!(t instanceof Je)||t instanceof Xe&&t.expression===n||t instanceof Ke&&t.expression===n||t instanceof nt&&t.condition===n||t instanceof tt&&t.left===n||t instanceof et&&t.expression===n))return!1;n=t}}function C(t,n,r,i){arguments.length<4&&(i=oe),n=n?n.split(/\s+/):[];var o=n;i&&i.PROPS&&(n=n.concat(i.PROPS));for(var a="return function AST_"+t+"(props){ if (props) { ",s=n.length;--s>=0;)a+="this."+n[s]+" = props."+n[s]+";";var u=i&&new i;(u&&u.initialize||r&&r.initialize)&&(a+="this.initialize();"),a+="}}";var l=new Function(a)();if(u&&(l.prototype=u,l.BASE=i),i&&i.SUBCLASSES.push(l),l.prototype.CTOR=l,l.PROPS=n||null,l.SELF_PROPS=o,l.SUBCLASSES=[],t&&(l.prototype.TYPE=l.TYPE=t),r)for(s in r)w(r,s)&&(/^\$/.test(s)?l[s.substr(1)]=r[s]:l.prototype[s]=r[s]);return l.DEFMETHOD=function(e,t){this.prototype[e]=t},void 0!==e&&(e["AST_"+t]=l),l}function k(e,t){var n=e.body;if(n instanceof ae)n._walk(t);else for(var r=0,i=n.length;r<i;r++)n[r]._walk(t)}function S(e){this.visit=e,this.stack=[],this.directives=Object.create(null)}function M(e){return e>=97&&e<=122||e>=65&&e<=90||e>=170&&Jt.letter.test(String.fromCharCode(e))}function A(e){return e>=48&&e<=57}function D(e){return A(e)||M(e)}function E(e){return Jt.digit.test(String.fromCharCode(e))}function T(e){return Jt.non_spacing_mark.test(e)||Jt.space_combining_mark.test(e)}function N(e){return Jt.connector_punctuation.test(e)}function L(e){return!jt(e)&&/^[a-z_$][a-z0-9_$]*$/i.test(e)}function F(e){return 36==e||95==e||M(e)}function O(e){var t=e.charCodeAt(0);return F(t)||A(t)||8204==t||8205==t||T(e)||N(e)||E(t)}function B(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function P(e){if(qt.test(e))return parseInt(e.substr(2),16);if(Ht.test(e))return parseInt(e.substr(1),8);var t=parseFloat(e);return t==e?t:void 0}function j(e,t,n,r,i){this.message=e,this.filename=t,this.line=n,this.col=r,this.pos=i}function I(e,t,n,r,i){throw new j(e,t,n,r,i)}function z(e,t,n){return e.type==t&&(null==n||e.value==n)}function q(e,t,n,r){function i(){return E.text.charAt(E.pos)}function o(e,t){var n=E.text.charAt(E.pos++);if(e&&!n)throw Gt;return Wt(n)?(E.newline_before=E.newline_before||!t,++E.line,E.col=0,t||"\r"!=n||"\n"!=i()||(++E.pos,n="\n")):++E.col,n}function a(e){for(;e-- >0;)o()}function s(e){return E.text.substr(E.pos,e.length)==e}function u(){for(var e=E.text,t=E.pos,n=E.text.length;t<n;++t){var r=e[t];if(Wt(r))return t}return-1}function l(e,t){var n=E.text.indexOf(e,E.pos);if(t&&-1==n)throw Gt;return n}function c(){E.tokline=E.line,E.tokcol=E.col,E.tokpos=E.pos}function f(n,r,i){E.regex_allowed="operator"==n&&!Xt(r)||"keyword"==n&&It(r)||"punc"==n&&Ut(r),"punc"==n&&"."==r?T=!0:i||(T=!1);var o={type:n,value:r,line:E.tokline,col:E.tokcol,pos:E.tokpos,endline:E.line,endcol:E.col,endpos:E.pos,nlb:E.newline_before,file:t};if(/^(?:num|string|regexp)$/i.test(n)&&(o.raw=e.substring(o.pos,o.endpos)),!i){o.comments_before=E.comments_before,E.comments_before=[];for(var a=0,s=o.comments_before.length;a<s;a++)o.nlb=o.nlb||o.comments_before[a].nlb}return E.newline_before=!1,new ie(o)}function p(){for(;Vt(i());)o()}function h(e){for(var t,n="",r=0;(t=i())&&e(t,r++);)n+=o();return n}function d(e){I(e,t,E.tokline,E.tokcol,E.tokpos)}function g(e){var t=!1,n=!1,r=!1,i="."==e,o=h(function(o,a){var s=o.charCodeAt(0);switch(s){case 120:case 88:return!r&&(r=!0);case 101:case 69:return!!r||!t&&(t=n=!0);case 45:return n||0==a&&!e;case 43:return n;case n=!1,46:return!(i||r||t)&&(i=!0)}return D(s)});e&&(o=e+o),Ht.test(o)&&M.has_directive("use strict")&&d("Legacy octal literals are not allowed in strict mode");var a=P(o);if(!isNaN(a))return f("num",a);d("Invalid syntax: "+o)}function v(e){var t=o(!0,e);switch(t.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(y(2));case 117:return String.fromCharCode(y(4));case 10:return"";case 13:if("\n"==i())return o(!0,e),""}return t>="0"&&t<="7"?m(t):t}function m(e){var t=i();return t>="0"&&t<="7"&&(e+=o(!0),e[0]<="3"&&(t=i())>="0"&&t<="7"&&(e+=o(!0))),"0"===e?"\0":(e.length>0&&M.has_directive("use strict")&&d("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(e,8)))}function y(e){for(var t=0;e>0;--e){var n=parseInt(o(!0),16);isNaN(n)&&d("Invalid hex-character pattern in string"),t=t<<4|n}return t}function b(e){var t,n=E.regex_allowed,r=u();return-1==r?(t=E.text.substr(E.pos),E.pos=E.text.length):(t=E.text.substring(E.pos,r),E.pos=r),E.col=E.tokcol+(E.pos-E.tokpos),E.comments_before.push(f(e,t,!0)),E.regex_allowed=n,M}function x(){for(var e,t,n=!1,r="",a=!1;null!=(e=i());)if(n)"u"!=e&&d("Expecting UnicodeEscapeSequence -- uXXXX"),e=v(),O(e)||d("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),r+=e,n=!1;else if("\\"==e)a=n=!0,o();else{if(!O(e))break;r+=o()}return Bt(r)&&a&&(t=r.charCodeAt(0).toString(16).toUpperCase(),r="\\u"+"0000".substr(t.length)+t+r.slice(1)),r}function w(e){function t(e){if(!i())return e;var n=e+i();return Rt(n)?(o(),t(n)):e}return f("operator",t(e||o()))}function _(){switch(o(),i()){case"/":return o(),b("comment1");case"*":return o(),L()}return E.regex_allowed?B(""):w("/")}function C(){return o(),A(i().charCodeAt(0))?g("."):f("punc",".")}function k(){var e=x();return T?f("name",e):Pt(e)?f("atom",e):Bt(e)?Rt(e)?f("operator",e):f("keyword",e):f("name",e)}function S(e,t){return function(n){try{return t(n)}catch(t){if(t!==Gt)throw t;d(e)}}}function M(e){if(null!=e)return B(e);for(r&&0==E.pos&&s("#!")&&(c(),a(2),b("comment5"));;){if(p(),c(),n){if(s("\x3c!--")){a(4),b("comment3");continue}if(s("--\x3e")&&E.newline_before){a(3),b("comment4");continue}}var t=i();if(!t)return f("eof");var u=t.charCodeAt(0);switch(u){case 34:case 39:return N(t);case 46:return C();case 47:var l=_();if(l===M)continue;return l}if(A(u))return g();if($t(t))return f("punc",o());if(zt(t))return w();if(92==u||F(u))return k();break}d("Unexpected character '"+t+"'")}var E={text:e,filename:t,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]},T=!1,N=S("Unterminated string constant",function(e){for(var t=o(),n="";;){var r=o(!0,!0);if("\\"==r)r=v(!0);else if(Wt(r))d("Unterminated string constant");else if(r==t)break;n+=r}var i=f("string",n);return i.quote=e,i}),L=S("Unterminated multiline comment",function(){var e=E.regex_allowed,t=l("*/",!0),n=E.text.substring(E.pos,t).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return a(n.length+2),E.comments_before.push(f("comment2",n,!0)),E.regex_allowed=e,M}),B=S("Unterminated regular expression",function(e){for(var t,n=!1,r=!1;t=o(!0);)if(Wt(t))d("Unexpected line terminator");else if(n)e+="\\"+t,n=!1;else if("["==t)r=!0,e+=t;else if("]"==t&&r)r=!1,e+=t;else{if("/"==t&&!r)break;"\\"==t?n=!0:e+=t}var i=x();try{var a=new RegExp(e,i);return a.raw_source=e,f("regexp",a)}catch(e){d(e.message)}});return M.context=function(e){return e&&(E=e),E},M.add_directive=function(e){E.directive_stack[E.directive_stack.length-1].push(e),void 0===E.directives[e]?E.directives[e]=1:E.directives[e]++},M.push_directives_stack=function(){E.directive_stack.push([])},M.pop_directives_stack=function(){for(var e=E.directive_stack[E.directive_stack.length-1],t=0;t<e.length;t++)E.directives[e[t]]--;E.directive_stack.pop()},M.has_directive=function(e){return E.directives[e]>0},M}function H(e,t){function n(e,t){return z(V.token,e,t)}function i(){return V.peeked||(V.peeked=V.input())}function o(){return V.prev=V.token,V.peeked?(V.token=V.peeked,V.peeked=null):V.token=V.input(),V.in_directives=V.in_directives&&("string"==V.token.type||n("punc",";")),V.token}function a(){return V.prev}function u(e,t,n,r){var i=V.input.context();I(e,i.filename,null!=t?t:i.tokline,null!=n?n:i.tokcol,null!=r?r:i.tokpos)}function l(e,t){u(t,e.line,e.col)}function c(e){null==e&&(e=V.token),l(e,"Unexpected token: "+e.type+" ("+e.value+")")}function f(e,t){if(n(e,t))return o();l(V.token,"Unexpected token "+V.token.type+" Â«"+V.token.value+"Â», expected "+e+" Â«"+t+"Â»")}function p(e){return f("punc",e)}function h(){return!t.strict&&(V.token.nlb||n("eof")||n("punc","}"))}function d(e){n("punc",";")?o():e||h()||c()}function g(){p("(");var e=re(!0);return p(")"),e}function v(e){return function(){var t=V.token,n=e(),r=a();return n.start=t,n.end=r,n}}function m(){(n("operator","/")||n("operator","/="))&&(V.peeked=null,V.token=V.input(V.token.value.substr(1)))}function y(){var e=B(yt);r(function(t){return t.name==e.name},V.labels)&&u("Label "+e.name+" defined twice"),p(":"),V.labels.push(e);var t=W();return V.labels.pop(),t instanceof ge||e.references.forEach(function(t){t instanceof Oe&&(t=t.label.start,u("Continue label `"+e.name+"` refers to non-IterationStatement.",t.line,t.col,t.pos))}),new de({body:t,label:e})}function b(e){return new le({body:(e=re(!0),d(),e)})}function x(e){var t,n=null;h()||(n=B(xt,!0)),null!=n?(t=r(function(e){return e.name==n.name},V.labels),t||u("Undefined label "+n.name),n.thedef=t):0==V.in_loop&&u(e.TYPE+" not inside a loop or switch"),d();var i=new e({label:n});return t&&t.references.push(i),i}function w(){p("(");var e=null;return!n("punc",";")&&(e=n("keyword","var")?(o(),$(!0)):re(!0,!0),n("operator","in"))?(e instanceof We?e.definitions.length>1&&u("Only one variable declaration allowed in for..in loop",e.start.line,e.start.col,e.start.pos):H(e)||u("Invalid left-hand side in for..in loop",e.start.line,e.start.col,e.start.pos),o(),C(e)):_(e)}function _(e){p(";");var t=n("punc",";")?null:re(!0);p(";");var r=n("punc",")")?null:re(!0);return p(")"),new be({init:e,condition:t,step:r,body:R(W)})}function C(e){var t=e instanceof We?e.definitions[0].name:null,n=re(!0);return p(")"),new xe({init:e,name:t,object:n,body:R(W)})}function k(){var e=g(),t=W(),r=null;return n("keyword","else")&&(o(),r=W()),new Be({condition:e,body:t,alternative:r})}function S(){p("{");for(var e=[];!n("punc","}");)n("eof")&&c(),e.push(W());return o(),e}function M(){p("{");for(var e,t=[],r=null,i=null;!n("punc","}");)n("eof")&&c(),n("keyword","case")?(i&&(i.end=a()),r=[],i=new ze({start:(e=V.token,o(),e),expression:re(!0),body:r}),t.push(i),p(":")):n("keyword","default")?(i&&(i.end=a()),r=[],i=new Ie({start:(e=V.token,o(),p(":"),e),body:r}),t.push(i)):(r||c(),r.push(W()));return i&&(i.end=a()),o(),t}function A(){var e=S(),t=null,r=null;if(n("keyword","catch")){var i=V.token;o(),p("(");var s=B(mt);p(")"),t=new He({start:i,argname:s,body:S(),end:a()})}if(n("keyword","finally")){var i=V.token;o(),r=new Re({start:i,body:S(),end:a()})}return t||r||u("Missing catch/finally blocks"),new qe({body:e,bcatch:t,bfinally:r})}function D(e){for(var t=[];t.push(new Ue({start:V.token,name:B(ht),value:n("operator","=")?(o(),re(!1,e)):null,end:a()})),n("punc",",");)o();return t}function E(){var e,t=V.token;switch(t.type){case"name":e=F(bt);break;case"num":e=new kt({start:t,end:t,value:t.value});break;case"string":e=new Ct({start:t,end:t,value:t.value,quote:t.quote});break;case"regexp":e=new St({start:t,end:t,value:t.value});break;case"atom":switch(t.value){case"false":e=new Ft({start:t,end:t});break;case"true":e=new Ot({start:t,end:t});break;case"null":e=new At({start:t,end:t})}}return o(),e}function T(e,t,r){for(var i=!0,a=[];!n("punc",e)&&(i?i=!1:p(","),!t||!n("punc",e));)n("punc",",")&&r?a.push(new Tt({start:V.token,end:V.token})):a.push(re(!1));return o(),a}function N(){var e=V.token;switch(e.type){case"operator":Bt(e.value)||c();case"num":case"string":case"name":case"keyword":case"atom":return o(),e.value;default:c()}}function L(){var e=V.token;return"name"!=e.type&&c(),o(),e.value}function F(e){var t=V.token.value;return new("this"==t?wt:e)({name:String(t),start:V.token,end:V.token})}function O(e){"arguments"!=e.name&&"eval"!=e.name||u("Unexpected "+e.name+" in strict mode",e.start.line,e.start.col,e.start.pos)}function B(e,t){if(!n("name"))return t||u("Name expected"),null;var r=F(e);return V.input.has_directive("use strict")&&r instanceof pt&&O(r),o(),r}function P(e,t,n){var r=t.value;switch(r){case"++":case"--":H(n)||u("Invalid use of "+r+" operator",t.line,t.col,t.pos);break;case"delete":n instanceof bt&&V.input.has_directive("use strict")&&u("Calling delete on expression not allowed in strict mode",n.start.line,n.start.col,n.start.pos)}return new e({operator:r,expression:n})}function j(e){return ee(Q(!0),0,e)}function H(e){return e instanceof Ye||e instanceof bt}function R(e){++V.in_loop;var t=e();return--V.in_loop,t}t=s(t,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var V={input:"string"==typeof e?q(e,t.filename,t.html5_comments,t.shebang):e,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};V.token=o();var W=v(function(){switch(m(),V.token.type){case"string":if(V.in_directives){var e=i();-1==V.token.raw.indexOf("\\")&&(e.nlb||z(e,"eof")||z(e,"punc",";")||z(e,"punc","}"))?V.input.add_directive(V.token.value):V.in_directives=!1}var r=V.in_directives,s=b();return r?new ue(s.body):s;case"num":case"regexp":case"operator":case"atom":return b();case"name":return z(i(),"punc",":")?y():b();case"punc":switch(V.token.value){case"{":return new fe({start:V.token,body:S(),end:a()});case"[":case"(":return b();case";":return V.in_directives=!1,o(),new pe;default:c()}case"keyword":switch(V.token.value){case"break":return o(),x(Fe);case"continue":return o(),x(Oe);case"debugger":return o(),d(),new se;case"do":o();var l=R(W);f("keyword","while");var p=g();return d(!0),new me({body:l,condition:p});case"while":return o(),new ye({condition:g(),body:R(W)});case"for":return o(),w();case"function":return o(),U(Ae);case"if":return o(),k();case"return":0!=V.in_function||t.bare_returns||u("'return' outside of function"),o();var v=null;return n("punc",";")?o():h()||(v=re(!0),d()),new Te({value:v});case"switch":return o(),new Pe({expression:g(),body:R(M)});case"throw":o(),V.token.nlb&&u("Illegal newline after 'throw'");var v=re(!0);return d(),new Ne({value:v});case"try":return o(),A();case"var":o();var _=$();return d(),_;case"with":return V.input.has_directive("use strict")&&u("Strict mode may not include a with statement"),o(),new we({expression:g(),body:W()})}}c()}),U=function(e){var t=e===Ae,r=n("name")?B(t?gt:vt):null;t&&!r&&c(),!r||e===Se||r instanceof pt||c(a()),p("(");for(var i=[],s=!0;!n("punc",")");)s?s=!1:p(","),i.push(B(dt));o();var u=V.in_loop,l=V.labels;++V.in_function,V.in_directives=!0,V.input.push_directives_stack(),V.in_loop=0,V.labels=[];var f=S();return V.input.has_directive("use strict")&&(r&&O(r),i.forEach(O)),V.input.pop_directives_stack(),--V.in_function,V.in_loop=u,V.labels=l,new e({name:r,argnames:i,body:f})},$=function(e){return new We({start:a(),definitions:D(e),end:a()})},J=function(e){var t=V.token;f("operator","new");var r,i=G(!1);return n("punc","(")?(o(),r=T(")")):r=[],Z(new Je({start:t,expression:i,args:r,end:a()}),e)},G=function(e){if(n("operator","new"))return J(e);var t=V.token;if(n("punc")){switch(t.value){case"(":o();var r=re(!0);return r.start=t,r.end=V.token,p(")"),Z(r,e);case"[":return Z(Y(),e);case"{":return Z(K(),e)}c()}if(n("keyword","function")){o();var i=U(Me);return i.start=t,i.end=a(),Z(i,e)}if(Qt(V.token.type))return Z(E(),e);c()},Y=v(function(){return p("["),new it({elements:T("]",!t.strict,!0)})}),X=v(function(){return U(Se)}),K=v(function(){p("{");for(var e=!0,r=[];!n("punc","}")&&(e?e=!1:p(","),t.strict||!n("punc","}"));){var i=V.token,s=i.type,u=N();if("name"==s&&!n("punc",":")){var l=new ft({start:V.token,name:N(),end:a()});if("get"==u){r.push(new lt({start:i,key:l,value:X(),end:a()}));continue}if("set"==u){r.push(new ut({start:i,key:l,value:X(),end:a()}));continue}}p(":"),r.push(new st({start:i,quote:i.quote,key:u,value:re(!1),end:a()}))}return o(),new ot({properties:r})}),Z=function(e,t){var r=e.start;if(n("punc","."))return o(),Z(new Xe({start:r,expression:e,property:L(),end:a()}),t);if(n("punc","[")){o();var i=re(!0);return p("]"),Z(new Ke({start:r,expression:e,property:i,end:a()}),t)}return t&&n("punc","(")?(o(),Z(new $e({start:r,expression:e,args:T(")"),end:a()}),!0)):e},Q=function(e){var t=V.token;if(n("operator")&&Yt(t.value)){o(),m();var r=P(Qe,t,Q(e));return r.start=t,r.end=a(),r}for(var i=G(e);n("operator")&&Xt(V.token.value)&&!V.token.nlb;)i=P(et,V.token,i),i.start=t,i.end=V.token,o();return i},ee=function(e,t,r){var i=n("operator")?V.token.value:null;"in"==i&&r&&(i=null);var a=null!=i?Zt[i]:null;if(null!=a&&a>t){o();var s=ee(Q(!0),a,r);return ee(new tt({start:e.start,left:e,operator:i,right:s,end:s.end}),t,r)}return e},te=function(e){var t=V.token,r=j(e);if(n("operator","?")){o();var i=re(!1);return p(":"),new nt({start:t,condition:r,consequent:i,alternative:re(!1,e),end:a()})}return r},ne=function(e){var t=V.token,r=te(e),i=V.token.value;if(n("operator")&&Kt(i)){if(H(r))return o(),new rt({start:t,left:r,operator:i,right:ne(e),end:a()});u("Invalid assignment")}return r},re=function(e,t){for(var r=V.token,a=[];;){if(a.push(ne(t)),!e||!n("punc",","))break;o(),e=!0}return 1==a.length?a[0]:new Ge({start:r,expressions:a,end:i()})};return t.expression?re(!0):function(){var e=V.token,r=[];for(V.input.push_directives_stack();!n("eof");)r.push(W());V.input.pop_directives_stack();var i=a(),o=t.toplevel;return o?(o.body=o.body.concat(r),o.end=i):o=new Ce({start:e,body:r,end:i}),o}()}function R(e,t){S.call(this),this.before=e,this.after=t}function V(e,t,n){this.name=n.name,this.orig=[n],this.eliminated=0,this.scope=e,this.references=[],this.replaced=0,this.global=!1,this.mangled_name=null,this.undeclared=!1,this.index=t,this.id=V.next_id++}function W(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function U(e){function t(t,n){function r(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function i(){return'"'+t.replace(/\x22/g,'\\"')+'"'}var o=0,a=0;switch(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(n,r){switch(n){case'"':return++o,'"';case"'":return++a,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(r+1))?"\\x00":"\\0"}return n}),t=T(t),e.quote_style){case 1:return r();case 2:return i();case 3:return"'"==n?r():i();default:return o>a?r():i()}}function n(n,r){var i=t(n,r);return e.inline_script&&(i=i.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1"),i=i.replace(/\x3c!--/g,"\\x3c!--"),i=i.replace(/--\x3e/g,"--\\x3e")),i}function r(e){return e=e.toString(),e=T(e,!0)}function o(t){return i(" ",e.indent_start+S-t*e.indent_level)}function a(t){t=String(t);var n=t.charAt(0),r=B.charAt(B.length-1);if(L&&(L=!1,(":"==r&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=r)&&(e.semicolons||z(n)?(E+=";",M++,D++):(I(),E+="\n",D++,A++,M=0,/^\s+$/.test(t)&&(L=!0)),e.beautify||(N=!1))),
!e.beautify&&e.preserve_line&&J[J.length-1])for(var i=J[J.length-1].start.line;A<i;)I(),E+="\n",D++,A++,M=0,N=!1;N&&((O(r)&&(O(n)||"\\"==n)||"/"==n&&n==r||("+"==n||"-"==n)&&n==B)&&(E+=" ",M++,D++),N=!1),C&&(P.push({token:C,name:k,line:A,col:M}),C=!1,F||j()),E+=t,D+=t.length;var o=t.split(/\r?\n/),a=o.length-1;A+=a,M+=o[0].length,a>0&&(I(),M=o[a].length),B=t}function u(){L=!1,a(";")}function p(){return S+e.indent_level}function h(e){var t;return a("{"),V(),R(p(),function(){t=e()}),H(),a("}"),t}function d(e){a("(");var t=e();return a(")"),t}function g(e){a("[");var t=e();return a("]"),t}function v(){a(","),q()}function m(){a(":"),q()}function b(){return F&&I(),E}e=s(e,{ascii_only:!1,beautify:!1,bracketize:!1,comments:!1,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,webkit:!1,width:80,wrap_iife:!1},!0);var x=c;if(e.comments){var w=e.comments;if("string"==typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)){var _=e.comments.lastIndexOf("/");w=new RegExp(e.comments.substr(1,_-1),e.comments.substr(_+1))}x=w instanceof RegExp?function(e){return"comment5"!=e.type&&w.test(e.value)}:"function"==typeof w?function(e){return"comment5"!=e.type&&w(this,e)}:"some"===w?W:f}var C,k,S=0,M=0,A=1,D=0,E="",T=e.ascii_only?function(e,t){return e.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){return e.replace(/[\ud800-\udbff](?![\udc00-\udfff])/g,function(e){return"\\u"+e.charCodeAt(0).toString(16)}).replace(/(^|[^\ud800-\udbff])([\udc00-\udfff])/g,function(e,t,n){return t+"\\u"+n.charCodeAt(0).toString(16)})},N=!1,L=!1,F=0,B="",P=e.source_map&&[],j=P?function(){P.forEach(function(t){try{e.source_map.add(t.token.file,t.line,t.col,t.token.line,t.token.col,t.name||"name"!=t.token.type?t.name:t.token.value)}catch(e){oe.warn("Couldn't figure out mapping for {file}:{line},{col} â {cline},{ccol} [{name}]",{file:t.token.file,line:t.token.line,col:t.token.col,cline:t.line,ccol:t.col,name:t.name||""})}}),P=[]}:l,I=e.max_line_len?function(){if(M>e.max_line_len){if(F){var t=E.slice(0,F),n=E.slice(F);if(P){var r=n.length-M;P.forEach(function(e){e.line++,e.col+=r})}E=t+"\n"+n,A++,D++,M=n.length}M>e.max_line_len&&oe.warn("Output exceeds {max_line_len} characters",e)}F&&(F=0,j())}:l,z=y("( [ + * / - , ."),q=e.beautify?function(){a(" ")}:function(){N=!0},H=e.beautify?function(t){e.beautify&&a(o(t?.5:0))}:l,R=e.beautify?function(e,t){!0===e&&(e=p());var n=S;S=e;var r=t();return S=n,r}:function(e,t){return t()},V=e.beautify?function(){a("\n")}:e.max_line_len?function(){I(),F=E.length}:l,U=e.beautify?function(){a(";")}:function(){L=!0},$=P?function(e,t){C=e,k=t}:l,J=[];return{get:b,toString:b,indent:H,indentation:function(){return S},current_width:function(){return M-S},should_break:function(){return e.width&&this.current_width()>=e.width},newline:V,print:a,space:q,comma:v,colon:m,last:function(){return B},semicolon:U,force_semicolon:u,to_utf8:T,print_name:function(e){a(r(e))},print_string:function(e,t,r){var i=n(e,t);!0===r&&-1===i.indexOf("\\")&&(tn.test(E)||u(),u()),a(i)},encode_string:n,next_indent:p,with_indent:R,with_block:h,with_parens:d,with_square:g,add_mapping:$,option:function(t){return e[t]},comment_filter:x,line:function(){return A},col:function(){return M},pos:function(){return D},push_node:function(e){J.push(e)},pop_node:function(){return J.pop()},parent:function(e){return J[J.length-2-(e||0)]}}}function $(e,t){if(!(this instanceof $))return new $(e,t);R.call(this,this.before,this.after),this.options=s(e,{booleans:!t,cascade:!t,collapse_vars:!t,comparisons:!t,conditionals:!t,dead_code:!t,drop_console:!1,drop_debugger:!t,evaluate:!t,expression:!1,global_defs:{},hoist_funs:!t,hoist_props:!1,hoist_vars:!1,ie8:!1,if_return:!t,inline:!t,join_vars:!t,keep_fargs:!0,keep_fnames:!1,keep_infinity:!1,loops:!t,negate_iife:!t,passes:1,properties:!t,pure_getters:!t&&"strict",pure_funcs:null,reduce_funcs:!t,reduce_vars:!t,sequences:!t,side_effects:!t,switches:!t,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!t,unsafe:!1,unsafe_comps:!1,unsafe_Func:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unused:!t,warnings:!1},!0);var n=this.options.global_defs;if("object"==typeof n)for(var r in n)/^@/.test(r)&&w(n,r)&&(n[r.slice(1)]=H(n[r],{expression:!0}));var i=this.options.pure_funcs;this.pure_funcs="function"==typeof i?i:i?function(e){return i.indexOf(e.expression.print_to_string())<0}:f;var o=this.options.top_retain;o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return o.indexOf(e.name)>=0});var a=this.options.toplevel;this.toplevel="string"==typeof a?{funcs:/funcs/.test(a),vars:/vars/.test(a)}:{funcs:a,vars:a};var u=this.options.sequences;this.sequences_limit=1==u?800:0|u,this.warnings_produced={}}function J(e){function t(t,i,o,a,s,u){if(r){var l=r.originalPositionFor({line:a,column:s});if(null===l.source)return;t=l.source,a=l.line,s=l.column,u=l.name||u}n.addMapping({generated:{line:i+e.dest_line_diff,column:o},original:{line:a+e.orig_line_diff,column:s},source:t,name:u})}e=s(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var n=new MOZ_SourceMap.SourceMapGenerator({file:e.file,sourceRoot:e.root}),r=e.orig&&new MOZ_SourceMap.SourceMapConsumer(e.orig);return r&&Array.isArray(e.orig.sources)&&r._sources.toArray().forEach(function(e){var t=r.sourceContentFor(e,!0);t&&n.setSourceContent(e,t)}),{add:t,get:function(){return n},toString:function(){return JSON.stringify(n.toJSON())}}}function G(e){function t(t){d(e,t)}["null","true","false","Infinity","-Infinity","undefined"].forEach(t),[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(e){Object.getOwnPropertyNames(e).map(t),e.prototype&&Object.getOwnPropertyNames(e.prototype).map(t)})}function Y(e,t){function n(e){d(t,e)}e.walk(new S(function(e){e instanceof st&&e.quote?n(e.key):e instanceof Ke&&X(e.property,n)}))}function X(e,t){e.walk(new S(function(e){return e instanceof Ge?X(e.expressions[e.expressions.length-1],t):e instanceof Ct?t(e.value):e instanceof nt&&(X(e.consequent,t),X(e.alternative,t)),!0}))}function K(e,t){function n(e){return!(g.indexOf(e)>=0)&&(!(u.indexOf(e)>=0)&&(t.only_cache?l.props.has(e):!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)))}function r(e){return!(f&&!f.test(e))&&(!(u.indexOf(e)>=0)&&(l.props.has(e)||h.indexOf(e)>=0))}function i(e){n(e)&&d(h,e),r(e)||d(g,e)}function o(e){if(!r(e))return e;var t=l.props.get(e);if(!t){if(p){var i="_$"+e+"$"+c+"_";n(i)&&(t=i)}if(!t)do{t=en(++l.cname)}while(!n(t));l.props.set(e,t)}return t}function a(e){return e.transform(new R(function(e){if(e instanceof Ge){var t=e.expressions.length-1;e.expressions[t]=a(e.expressions[t])}else e instanceof Ct?e.value=o(e.value):e instanceof nt&&(e.consequent=a(e.consequent),e.alternative=a(e.alternative));return e}))}t=s(t,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,only_cache:!1,regex:null,reserved:null},!0);var u=t.reserved;Array.isArray(u)||(u=[]),t.builtins||G(u);var l=t.cache;null==l&&(l={cname:-1,props:new x});var c,f=t.regex,p=!1!==t.debug;p&&(c=!0===t.debug?"":t.debug);var h=[],g=[];return e.walk(new S(function(e){e instanceof st?i(e.key):e instanceof at?i(e.key.name):e instanceof Xe?i(e.property):e instanceof Ke&&X(e.property,i)})),e.transform(new R(function(e){e instanceof st?e.key=o(e.key):e instanceof at?e.key.name=o(e.key.name):e instanceof Xe?e.property=o(e.property):!t.keep_quoted&&e instanceof Ke&&(e.property=a(e.property))}))}function Z(e){var t=/\n\/\/# sourceMappingURL=data:application\/json(;.*?)?;base64,(.*)/.exec(e);return t?nn(t[2]):(oe.warn("inline source map not found"),null)}function Q(e,t,n){t[e]&&n.forEach(function(n){t[n]&&("object"!=typeof t[n]&&(t[n]={}),e in t[n]||(t[n][e]=t[e]))})}function ee(e){e&&("cname"in e||(e.cname=-1),"props"in e?e.props instanceof x||(e.props=x.fromObject(e.props)):e.props=new x)}function te(e){return{cname:e.cname,props:e.props.toObject()}}function ne(e,t){var n=oe.warn_function;try{t=s(t,{compress:{},ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},sourceMap:!1,timings:!1,toplevel:!1,warnings:!1,wrap:!1},!0);var r=t.timings&&{start:Date.now()};Q("ie8",t,["compress","mangle","output"]),Q("keep_fnames",t,["compress","mangle"]),Q("toplevel",t,["compress","mangle"]),Q("warnings",t,["compress"]);var i;t.mangle&&(t.mangle=s(t.mangle,{cache:t.nameCache&&(t.nameCache.vars||{}),eval:!1,ie8:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1},!0),t.mangle.properties&&("object"!=typeof t.mangle.properties&&(t.mangle.properties={}),t.mangle.properties.keep_quoted&&(i=t.mangle.properties.reserved,Array.isArray(i)||(i=[]),t.mangle.properties.reserved=i),!t.nameCache||"cache"in t.mangle.properties||(t.mangle.properties.cache=t.nameCache.props||{})),ee(t.mangle.cache),ee(t.mangle.properties.cache)),t.sourceMap&&(t.sourceMap=s(t.sourceMap,{content:null,filename:null,includeSources:!1,root:null,url:null},!0));var o=[];t.warnings&&!oe.warn_function&&(oe.warn_function=function(e){o.push(e)}),r&&(r.parse=Date.now());var a;if(e instanceof Ce)a=e;else{"string"==typeof e&&(e=[e]),t.parse=t.parse||{},t.parse.toplevel=null;for(var u in e)if(w(e,u)&&(t.parse.filename=u,t.parse.toplevel=H(e[u],t.parse),t.sourceMap&&"inline"==t.sourceMap.content)){if(Object.keys(e).length>1)throw new Error("inline source map only works with singular input");t.sourceMap.content=Z(e[u])}a=t.parse.toplevel}i&&Y(a,i),t.wrap&&(a=a.wrap_commonjs(t.wrap)),r&&(r.compress=Date.now()),t.compress&&(a=new $(t.compress).compress(a)),r&&(r.scope=Date.now()),t.mangle&&a.figure_out_scope(t.mangle),r&&(r.mangle=Date.now()),t.mangle&&(en.reset(),a.compute_char_frequency(t.mangle),a.mangle_names(t.mangle)),r&&(r.properties=Date.now()),t.mangle&&t.mangle.properties&&(a=K(a,t.mangle.properties)),r&&(r.output=Date.now());var l={};if(t.output.ast&&(l.ast=a),!w(t.output,"code")||t.output.code){if(t.sourceMap&&("string"==typeof t.sourceMap.content&&(t.sourceMap.content=JSON.parse(t.sourceMap.content)),t.output.source_map=J({file:t.sourceMap.filename,orig:t.sourceMap.content,root:t.sourceMap.root}),t.sourceMap.includeSources)){if(e instanceof Ce)throw new Error("original source content unavailable");for(var u in e)w(e,u)&&t.output.source_map.get().setSourceContent(u,e[u])}delete t.output.ast,delete t.output.code;var c=U(t.output);a.print(c),l.code=c.get(),t.sourceMap&&(l.map=t.output.source_map.toString(),"inline"==t.sourceMap.url?l.code+="\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+rn(l.map):t.sourceMap.url&&(l.code+="\n//# sourceMappingURL="+t.sourceMap.url))}return t.nameCache&&t.mangle&&(t.mangle.cache&&(t.nameCache.vars=te(t.mangle.cache)),t.mangle.properties&&t.mangle.properties.cache&&(t.nameCache.props=te(t.mangle.properties.cache))),r&&(r.end=Date.now(),l.timings={parse:.001*(r.compress-r.parse),compress:.001*(r.scope-r.compress),scope:.001*(r.mangle-r.scope),mangle:.001*(r.properties-r.mangle),properties:.001*(r.output-r.properties),output:.001*(r.end-r.output),total:.001*(r.end-r.start)}),o.length&&(l.warnings=o),l}catch(e){return{error:e}}finally{oe.warn_function=n}}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name="DefaultsError",o(a),a.croak=function(e,t){throw new a(e,t)};var re=function(){function e(e,o,a){function s(){var s=o(e[u],u),f=s instanceof r;return f&&(s=s.v),s instanceof t?(s=s.v,s instanceof n?c.push.apply(c,a?s.v.slice().reverse():s.v):c.push(s)):s!==i&&(s instanceof n?l.push.apply(l,a?s.v.slice().reverse():s.v):l.push(s)),f}var u,l=[],c=[];if(e instanceof Array)if(a){for(u=e.length;--u>=0&&!s(););l.reverse(),c.reverse()}else for(u=0;u<e.length&&!s();++u);else for(u in e)if(w(e,u)&&s())break;return c.concat(l)}function t(e){this.v=e}function n(e){this.v=e}function r(e){this.v=e}e.at_top=function(e){return new t(e)},e.splice=function(e){return new n(e)},e.last=function(e){return new r(e)};var i=e.skip={};return e}();x.prototype={set:function(e,t){return this.has(e)||++this._size,this._values["$"+e]=t,this},add:function(e,t){return this.has(e)?this.get(e).push(t):this.set(e,[t]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},each:function(e){for(var t in this._values)e(this._values[t],t.substr(1))},size:function(){return this._size},map:function(e){var t=[];for(var n in this._values)t.push(e(this._values[n],n.substr(1)));return t},toObject:function(){return this._values}},x.fromObject=function(e){var t=new x;return t._size=u(t._values,e),t};var ie=C("Token","type value line col pos endline endcol endpos nlb comments_before file raw",{},null),oe=C("Node","start end",{_clone:function(e){if(e){var t=this.clone();return t.transform(new R(function(e){if(e!==t)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null);oe.warn_function=null,oe.warn=function(e,t){oe.warn_function&&oe.warn_function(g(e,t))};var ae=C("Statement",null,{$documentation:"Base class of all statements"}),se=C("Debugger",null,{$documentation:"Represents a debugger statement"},ae),ue=C("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"}},ae),le=C("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},ae),ce=C("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){k(this,e)})}},ae),fe=C("BlockStatement",null,{$documentation:"A block statement"},ce),pe=C("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},ae),he=C("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"}},ae),de=C("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})},clone:function(e){var t=this._clone(e);if(e){var n=t.label,r=this.label;t.walk(new S(function(e){e instanceof Le&&e.label&&e.label.thedef===r&&(e.label.thedef=n,n.references.push(e))}))}return t}},he),ge=C("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},he),ve=C("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},ge),me=C("Do",null,{$documentation:"A `do` statement",_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.condition._walk(e)})}},ve),ye=C("While",null,{$documentation:"A `while` statement",_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},ve),be=C("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},ge),xe=C("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},ge),we=C("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},he),_e=C("Scope","variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},ce),Ce=C("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_commonjs:function(e){var t=this.body,n="(function(exports){'$ORIG';})(typeof "+e+"=='undefined'?("+e+"={}):"+e+");";return n=H(n),n=n.transform(new R(function(e){if(e instanceof ue&&"$ORIG"==e.value)return re.splice(t)}))}},_e),ke=C("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e);for(var t=this.argnames,n=0,r=t.length;n<r;n++)t[n]._walk(e);k(this,e)})}},_e),Se=C("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},ke),Me=C("Function","inlined",{$documentation:"A function expression"},ke),Ae=C("Defun","inlined",{$documentation:"A function definition"},ke),De=C("Jump",null,{$documentation:"Base class for âjumpsâ (for now that's `return`, `throw`, `break` and `continue`)"},ae),Ee=C("Exit","value",{$documentation:"Base class for âexitsâ (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},De),Te=C("Return",null,{$documentation:"A `return` statement"},Ee),Ne=C("Throw",null,{$documentation:"A `throw` statement"},Ee),Le=C("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},De),Fe=C("Break",null,{$documentation:"A `break` statement"},Le),Oe=C("Continue",null,{$documentation:"A `continue` statement"},Le),Be=C("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},he),Pe=C("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` âdiscriminantâ"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),k(this,e)})}},ce),je=C("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},ce),Ie=C("Default",null,{$documentation:"A `default` switch branch"},je),ze=C("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),k(this,e)})}},je),qe=C("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){k(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},ce),He=C("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),k(this,e)})}},ce),Re=C("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},ce),Ve=C("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){for(var t=this.definitions,n=0,r=t.length;n<r;n++)t[n]._walk(e)})}},ae),We=C("Var",null,{$documentation:"A `var` statement"},Ve),Ue=C("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),$e=C("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(e){return e._visit(this,function(){for(var t=this.args,n=0,r=t.length;n<r;n++)t[n]._walk(e);this.expression._walk(e)})}}),Je=C("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},$e),Ge=C("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_walk:function(e){return e._visit(this,function(){this.expressions.forEach(function(t){t._walk(e)})})}}),Ye=C("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the âcontainerâ expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),Xe=C("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},Ye),Ke=C("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},Ye),Ze=C("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),Qe=C("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},Ze),et=C("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},Ze),tt=C("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),nt=C("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),rt=C("Assign",null,{$documentation:"An assignment expression â `a = b + 5`"},tt),it=C("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(e){return e._visit(this,function(){for(var t=this.elements,n=0,r=t.length;n<r;n++)t[n]._walk(e)})}}),ot=C("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){for(var t=this.properties,n=0,r=t.length;n<r;n++)t[n]._walk(e)})}}),at=C("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an AST_SymbolAccessor.",value:"[AST_Node] property value.  For setters and getters this is an AST_Accessor."},_walk:function(e){return e._visit(this,function(){this.value._walk(e)})}}),st=C("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},at),ut=C("ObjectSetter",null,{$documentation:"An object setter property"},at),lt=C("ObjectGetter",null,{$documentation:"An object getter property"},at),ct=C("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),ft=C("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},ct),pt=C("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},ct),ht=C("SymbolVar",null,{$documentation:"Symbol defining a variable"},pt),dt=C("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},ht),gt=C("SymbolDefun",null,{$documentation:"Symbol defining a function"},pt),vt=C("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},pt),mt=C("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},pt),yt=C("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},ct),bt=C("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},ct),xt=C("LabelRef",null,{$documentation:"Reference to a label symbol"},ct),wt=C("This",null,{$documentation:"The `this` symbol"},ct),_t=C("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),Ct=C("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},_t),kt=C("Number","value literal",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",literal:"[string] numeric value as string (optional)"}},_t),St=C("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},_t),Mt=C("Atom",null,{$documentation:"Base class for atoms"},_t),At=C("Null",null,{$documentation:"The `null` atom",value:null},Mt),Dt=C("NaN",null,{$documentation:"The impossible value",value:NaN},Mt),Et=C("Undefined",null,{$documentation:"The `undefined` value",value:void 0},Mt),Tt=C("Hole",null,{$documentation:"A hole in an array",value:void 0},Mt),Nt=C("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},Mt),Lt=C("Boolean",null,{$documentation:"Base class for booleans"},Mt),Ft=C("False",null,{$documentation:"The `false` atom",value:!1},Lt),Ot=C("True",null,{$documentation:"The `true` atom",value:!0},Lt);S.prototype={_visit:function(e,t){this.push(e);var n=this.visit(e,t?function(){t.call(e)}:l);return!n&&t&&t.call(e),this.pop(),n},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof ke?this.directives=Object.create(this.directives):e instanceof ue&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof ke&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var t=this.stack,n=t.length;--n>=0;){var r=t[n];if(r instanceof e)return r}},has_directive:function(e){var t=this.directives[e];if(t)return t;var n=this.stack[this.stack.length-1];if(n instanceof _e)for(var r=0;r<n.body.length;++r){var i=n.body[r];if(!(i instanceof ue))break;if(i.value==e)return i}},in_boolean_context:function(){for(var e=this.stack,t=e.length,n=e[--t];t>0;){var r=e[--t];if(r instanceof Be&&r.condition===n||r instanceof nt&&r.condition===n||r instanceof ve&&r.condition===n||r instanceof be&&r.condition===n||r instanceof Qe&&"!"==r.operator&&r.expression===n)return!0;if(!(r instanceof tt)||"&&"!=r.operator&&"||"!=r.operator)return!1;n=r}},loopcontrol_target:function(e){var t=this.stack;if(e.label)for(var n=t.length;--n>=0;){var r=t[n];if(r instanceof de&&r.label.name==e.label.name)return r.body}else for(var n=t.length;--n>=0;){var r=t[n];if(r instanceof ge||e instanceof Fe&&r instanceof Pe)return r}}};var Bt="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",Pt="false null true",jt="abstract boolean byte char class double enum export extends final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield "+Pt+" "+Bt,It="return new delete throw else case";Bt=y(Bt),jt=y(jt),It=y(It),Pt=y(Pt);var zt=y(t("+-*&%=<>!?|~^")),qt=/^0x[0-9a-f]+$/i,Ht=/^0[0-7]+$/,Rt=y(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),Vt=y(t(" Â \n\r\t\f\vââââââââââââ\u2028\u2029â¯âã\ufeff")),Wt=y(t("\n\r\u2028\u2029")),Ut=y(t("[{(,;:")),$t=y(t("[]{}(),;:")),Jt={
letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};j.prototype=Object.create(Error.prototype),j.prototype.constructor=j,j.prototype.name="SyntaxError",o(j);var Gt={},Yt=y(["typeof","void","delete","--","++","!","~","-","+"]),Xt=y(["--","++"]),Kt=y(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),Zt=function(e,t){for(var n=0;n<e.length;++n)for(var r=e[n],i=0;i<r.length;++i)t[r[i]]=n+1;return t}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),Qt=y(["atom","num","string","regexp","name"]);R.prototype=new S,function(e){function t(t,n){t.DEFMETHOD("transform",function(t,r){var i,o;return t.push(this),t.before&&(i=t.before(this,n,r)),i===e&&(t.after?(t.stack[t.stack.length-1]=i=this,n(i,t),(o=t.after(i,r))!==e&&(i=o)):(i=this,n(i,t))),t.pop(),i})}function n(e,t){return re(e,function(e){return e.transform(t,!0)})}t(oe,l),t(de,function(e,t){e.label=e.label.transform(t),e.body=e.body.transform(t)}),t(le,function(e,t){e.body=e.body.transform(t)}),t(ce,function(e,t){e.body=n(e.body,t)}),t(ve,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t)}),t(be,function(e,t){e.init&&(e.init=e.init.transform(t)),e.condition&&(e.condition=e.condition.transform(t)),e.step&&(e.step=e.step.transform(t)),e.body=e.body.transform(t)}),t(xe,function(e,t){e.init=e.init.transform(t),e.object=e.object.transform(t),e.body=e.body.transform(t)}),t(we,function(e,t){e.expression=e.expression.transform(t),e.body=e.body.transform(t)}),t(Ee,function(e,t){e.value&&(e.value=e.value.transform(t))}),t(Le,function(e,t){e.label&&(e.label=e.label.transform(t))}),t(Be,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t),e.alternative&&(e.alternative=e.alternative.transform(t))}),t(Pe,function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)}),t(ze,function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)}),t(qe,function(e,t){e.body=n(e.body,t),e.bcatch&&(e.bcatch=e.bcatch.transform(t)),e.bfinally&&(e.bfinally=e.bfinally.transform(t))}),t(He,function(e,t){e.argname=e.argname.transform(t),e.body=n(e.body,t)}),t(Ve,function(e,t){e.definitions=n(e.definitions,t)}),t(Ue,function(e,t){e.name=e.name.transform(t),e.value&&(e.value=e.value.transform(t))}),t(ke,function(e,t){e.name&&(e.name=e.name.transform(t)),e.argnames=n(e.argnames,t),e.body=n(e.body,t)}),t($e,function(e,t){e.expression=e.expression.transform(t),e.args=n(e.args,t)}),t(Ge,function(e,t){e.expressions=n(e.expressions,t)}),t(Xe,function(e,t){e.expression=e.expression.transform(t)}),t(Ke,function(e,t){e.expression=e.expression.transform(t),e.property=e.property.transform(t)}),t(Ze,function(e,t){e.expression=e.expression.transform(t)}),t(tt,function(e,t){e.left=e.left.transform(t),e.right=e.right.transform(t)}),t(nt,function(e,t){e.condition=e.condition.transform(t),e.consequent=e.consequent.transform(t),e.alternative=e.alternative.transform(t)}),t(it,function(e,t){e.elements=n(e.elements,t)}),t(ot,function(e,t){e.properties=n(e.properties,t)}),t(at,function(e,t){e.value=e.value.transform(t)})}(),V.next_id=1,V.prototype={unmangleable:function(e){return e||(e={}),this.global&&!e.toplevel||this.undeclared||!e.eval&&(this.scope.uses_eval||this.scope.uses_with)||e.keep_fnames&&(this.orig[0]instanceof vt||this.orig[0]instanceof gt)},mangle:function(e){var t=e.cache&&e.cache.props;if(this.global&&t&&t.has(this.name))this.mangled_name=t.get(this.name);else if(!this.mangled_name&&!this.unmangleable(e)){var n=this.scope,r=this.orig[0];e.ie8&&r instanceof vt&&(n=n.parent_scope);var i;(i=this.redefined())?this.mangled_name=i.mangled_name||i.name:this.mangled_name=n.next_mangled(e,this),this.global&&t&&t.set(this.name,this.mangled_name)}},redefined:function(){return this.defun&&this.defun.variables.get(this.name)}},Ce.DEFMETHOD("figure_out_scope",function(e){e=s(e,{cache:null,ie8:!1});var t=this,n=t.parent_scope=null,r=new x,i=null,o=new S(function(t,o){if(t instanceof He){var a=n;return n=new _e(t),n.init_scope_vars(a),o(),n=a,!0}if(t instanceof _e){t.init_scope_vars(n);var a=n,s=i,u=r;return i=n=t,r=new x,o(),n=a,i=s,r=u,!0}if(t instanceof de){var l=t.label;if(r.has(l.name))throw new Error(g("Label {name} defined twice",l));return r.set(l.name,l),o(),r.del(l.name),!0}if(t instanceof we)for(var c=n;c;c=c.parent_scope)c.uses_with=!0;else if(t instanceof ct&&(t.scope=n),t instanceof yt&&(t.thedef=t,t.references=[]),t instanceof vt)i.def_function(t);else if(t instanceof gt)(t.scope=i.parent_scope).def_function(t);else if(t instanceof ht){if(i.def_variable(t),i!==n){t.mark_enclosed(e);var f=n.find_variable(t);t.thedef!==f&&(t.thedef=f,t.reference(e))}}else if(t instanceof mt)n.def_variable(t).defun=i;else if(t instanceof xt){var p=r.get(t.name);if(!p)throw new Error(g("Undefined label {name} [{line},{col}]",{name:t.name,line:t.start.line,col:t.start.col}));t.thedef=p}});t.walk(o),t.globals=new x;var o=new S(function(n,r){if(n instanceof Le&&n.label)return n.label.thedef.references.push(n),!0;if(n instanceof bt){var i=n.name;if("eval"==i&&o.parent()instanceof $e)for(var a=n.scope;a&&!a.uses_eval;a=a.parent_scope)a.uses_eval=!0;var s=n.scope.find_variable(i);return s?s.scope instanceof ke&&"arguments"==i&&(s.scope.uses_arguments=!0):s=t.def_global(n),n.thedef=s,n.reference(e),!0}var u;if(n instanceof mt&&(u=n.definition().redefined()))for(var a=n.scope;a&&(d(a.enclosed,u),a!==u.scope);)a=a.parent_scope});t.walk(o),e.ie8&&t.walk(new S(function(n,r){if(n instanceof mt){var i=n.name,o=n.thedef.references,a=n.thedef.defun,s=a.find_variable(i)||t.globals.get(i)||a.def_variable(n);return o.forEach(function(t){t.thedef=s,t.reference(e)}),n.thedef=s,n.reference(e),!0}})),e.cache&&(this.cname=e.cache.cname)}),Ce.DEFMETHOD("def_global",function(e){var t=this.globals,n=e.name;if(t.has(n))return t.get(n);var r=new V(this,t.size(),e);return r.undeclared=!0,r.global=!0,t.set(n,r),r}),_e.DEFMETHOD("init_scope_vars",function(e){this.variables=new x,this.functions=new x,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=e,this.enclosed=[],this.cname=-1}),ke.DEFMETHOD("init_scope_vars",function(){_e.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1,this.def_variable(new dt({name:"arguments",start:this.start,end:this.end}))}),ct.DEFMETHOD("mark_enclosed",function(e){for(var t=this.definition(),n=this.scope;n&&(d(n.enclosed,t),e.keep_fnames&&n.functions.each(function(e){d(t.scope.enclosed,e)}),n!==t.scope);)n=n.parent_scope}),ct.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),_e.DEFMETHOD("find_variable",function(e){return e instanceof ct&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),_e.DEFMETHOD("def_function",function(e){this.functions.set(e.name,this.def_variable(e))}),_e.DEFMETHOD("def_variable",function(e){var t;return this.variables.has(e.name)?(t=this.variables.get(e.name),t.orig.push(e)):(t=new V(this,this.variables.size(),e),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),_e.DEFMETHOD("next_mangled",function(e){var t=this.enclosed;e:for(;;){var n=en(++this.cname);if(L(n)&&!(e.reserved.indexOf(n)>=0)){for(var r=t.length;--r>=0;){var i=t[r],o=i.mangled_name||i.unmangleable(e)&&i.name;if(n==o)continue e}return n}}}),Me.DEFMETHOD("next_mangled",function(e,t){for(var n=t.orig[0]instanceof dt&&this.name&&this.name.definition(),r=n?n.mangled_name||n.name:null;;){var i=ke.prototype.next_mangled.call(this,e,t);if(!r||r!=i)return i}}),ct.DEFMETHOD("unmangleable",function(e){var t=this.definition();return!t||t.unmangleable(e)}),yt.DEFMETHOD("unmangleable",c),ct.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),ct.DEFMETHOD("definition",function(){return this.thedef}),ct.DEFMETHOD("global",function(){return this.definition().global}),Ce.DEFMETHOD("_default_mangler_options",function(e){return e=s(e,{eval:!1,ie8:!1,keep_fnames:!1,reserved:[],toplevel:!1}),Array.isArray(e.reserved)||(e.reserved=[]),e}),Ce.DEFMETHOD("mangle_names",function(e){e=this._default_mangler_options(e),e.reserved.push("arguments");var t=-1,n=[];e.cache&&this.globals.each(function(t){e.reserved.indexOf(t.name)<0&&n.push(t)});var r=new S(function(i,o){if(i instanceof de){var a=t;return o(),t=a,!0}if(i instanceof _e){var s=(r.parent(),[]);return i.variables.each(function(t){e.reserved.indexOf(t.name)<0&&s.push(t)}),void n.push.apply(n,s)}if(i instanceof yt){var u;do{u=en(++t)}while(!L(u));return i.mangled_name=u,!0}if(!e.ie8&&i instanceof mt)return void n.push(i.definition())});this.walk(r),n.forEach(function(t){t.mangle(e)}),e.cache&&(e.cache.cname=this.cname)}),Ce.DEFMETHOD("compute_char_frequency",function(e){function t(e){e instanceof Ct?en.consider(e.value,-1):e instanceof nt?(t(e.consequent),t(e.alternative)):e instanceof Ge&&t(e.expressions[e.expressions.length-1])}e=this._default_mangler_options(e);try{oe.prototype.print=function(n,r){this._print(n,r),this instanceof ct&&!this.unmangleable(e)?en.consider(this.name,-1):e.properties&&(this instanceof Xe?en.consider(this.property,-1):this instanceof Ke&&t(this.property))},en.consider(this.print_to_string(),1)}finally{oe.prototype.print=oe.prototype._print}en.sort()});var en=function(){function e(){i=Object.create(null),o.forEach(function(e){i[e]=0}),a.forEach(function(e){i[e]=0})}function t(e,t){return i[t]-i[e]}function n(e){var t="",n=54;e++;do{e--,t+=r[e%n],e=Math.floor(e/n),n=64}while(e>0);return t}var r,i,o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_".split(""),a="0123456789".split("");return n.consider=function(e,t){for(var n=e.length;--n>=0;)i[e[n]]+=t},n.sort=function(){r=m(o,t).concat(m(a,t))},n.reset=e,e(),n}(),tn=/^$|[;{][\s\n]*$/;!function(){function e(e,t){e.DEFMETHOD("_codegen",t)}function t(e,n){Array.isArray(e)?e.forEach(function(e){t(e,n)}):e.DEFMETHOD("needs_parens",n)}function n(e,t,n,r){var i=e.length-1;g=r,e.forEach(function(e,r){!0!==g||e instanceof ue||e instanceof pe||e instanceof le&&e.body instanceof Ct||(g=!1),e instanceof pe||(n.indent(),e.print(n),r==i&&t||(n.newline(),t&&n.newline())),!0===g&&e instanceof le&&e.body instanceof Ct&&(g=!1)}),g=!1}function r(e,t,r){e.length>0?t.with_block(function(){n(e,!1,t,r)}):t.print("{}")}function i(e,t){var n=e.body;if(t.option("bracketize")||t.option("ie8")&&n instanceof me)return p(n,t);if(!n)return t.force_semicolon();for(;;)if(n instanceof Be){if(!n.alternative)return void p(e.body,t);n=n.alternative}else{if(!(n instanceof he))break;n=n.body}s(e.body,t)}function o(e,t,n){var r=!1;n&&e.walk(new S(function(e){return!!(r||e instanceof _e)||(e instanceof tt&&"in"==e.operator?(r=!0,!0):void 0)})),e.print(t,r)}function a(e,t,n){n.option("quote_keys")?n.print_string(e+""):("number"==typeof e||!n.option("beautify")&&+e+""==e)&&parseFloat(e)>=0?n.print(f(e)):(jt(e)?!n.option("ie8"):B(e))?t&&n.option("keep_quoted_props")?n.print_string(e,t):n.print_name(e):n.print_string(e,t)}function s(e,t){t.option("bracketize")?p(e,t):!e||e instanceof pe?t.force_semicolon():e.print(t)}function u(e,t){return e.args.length>0||t.option("beautify")}function c(e){for(var t=e[0],n=t.length,r=1;r<e.length;++r)e[r].length<n&&(t=e[r],n=t.length);return t}function f(e){var t,n=e.toString(10),r=[n.replace(/^0\./,".").replace("e+","e")];return Math.floor(e)===e?(e>=0?r.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):r.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(t=/^(.*?)(0+)$/.exec(e))&&r.push(t[1]+"e"+t[2].length)):(t=/^0?\.(0+)(.*)$/.exec(e))&&r.push(t[2]+"e-"+(t[1].length+t[2].length),n.substr(n.indexOf("."))),c(r)}function p(e,t){!e||e instanceof pe?t.print("{}"):e instanceof fe?e.print(t):t.with_block(function(){t.indent(),e.print(t),t.newline()})}function h(e,t){e.DEFMETHOD("add_source_map",function(e){t(this,e)})}function d(e,t){t.add_mapping(e.start)}var g=!1,v=null,m=null;oe.DEFMETHOD("print",function(e,t){function n(){r.add_comments(e),r.add_source_map(e),i(r,e)}var r=this,i=r._codegen;r instanceof _e?v=r:!m&&r instanceof ue&&"use asm"==r.value&&(m=v),e.push_node(r),t||r.needs_parens(e)?e.with_parens(n):n(),e.pop_node(),r===m&&(m=null)}),oe.DEFMETHOD("_print",oe.prototype.print),oe.DEFMETHOD("print_to_string",function(e){var t=U(e);return e||(t._readonly=!0),this.print(t),t.get()}),oe.DEFMETHOD("add_comments",function(e){if(!e._readonly){var t=this,n=t.start;if(n&&!n._comments_dumped){n._comments_dumped=!0;var r=n.comments_before||[];if(t instanceof Ee&&t.value&&t.value.walk(new S(function(e){if(e.start&&e.start.comments_before&&(r=r.concat(e.start.comments_before),e.start.comments_before=[]),e instanceof Me||e instanceof it||e instanceof ot)return!0})),0==e.pos()){r.length>0&&e.option("shebang")&&"comment5"==r[0].type&&(e.print("#!"+r.shift().value+"\n"),e.indent());var i=e.option("preamble");i&&e.print(i.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}r=r.filter(e.comment_filter,t),!e.option("beautify")&&r.length>0&&/comment[134]/.test(r[0].type)&&0!==e.col()&&r[0].nlb&&e.print("\n"),r.forEach(function(t){/comment[134]/.test(t.type)?(e.print("//"+t.value+"\n"),e.indent()):"comment2"==t.type&&(e.print("/*"+t.value+"*/"),n.nlb?(e.print("\n"),e.indent()):e.space())})}}}),t(oe,function(){return!1}),t(Me,function(e){if(_(e))return!0;if(e.option("webkit")){var t=e.parent();if(t instanceof Ye&&t.expression===this)return!0}if(e.option("wrap_iife")){var t=e.parent();return t instanceof $e&&t.expression===this}return!1}),t(ot,function(e){return _(e)}),t(Ze,function(e){var t=e.parent();return t instanceof Ye&&t.expression===this||t instanceof $e&&t.expression===this}),t(Ge,function(e){var t=e.parent();return t instanceof $e||t instanceof Ze||t instanceof tt||t instanceof Ue||t instanceof Ye||t instanceof it||t instanceof at||t instanceof nt}),t(tt,function(e){var t=e.parent();if(t instanceof $e&&t.expression===this)return!0;if(t instanceof Ze)return!0;if(t instanceof Ye&&t.expression===this)return!0;if(t instanceof tt){var n=t.operator,r=Zt[n],i=this.operator,o=Zt[i];if(r>o||r==o&&this===t.right)return!0}}),t(Ye,function(e){var t=e.parent();if(t instanceof Je&&t.expression===this){var n=!1;return this.walk(new S(function(e){return!!(n||e instanceof _e)||(e instanceof $e?(n=!0,!0):void 0)})),n}}),t($e,function(e){var t,n=e.parent();return n instanceof Je&&n.expression===this||this.expression instanceof Me&&n instanceof Ye&&n.expression===this&&(t=e.parent(1))instanceof rt&&t.left===n}),t(Je,function(e){var t=e.parent();if(!u(this,e)&&(t instanceof Ye||t instanceof $e&&t.expression===this))return!0}),t(kt,function(e){var t=e.parent();if(t instanceof Ye&&t.expression===this){var n=this.getValue();if(n<0||/^0/.test(f(n)))return!0}}),t([rt,nt],function(e){var t=e.parent();return t instanceof Ze||(t instanceof tt&&!(t instanceof rt)||(t instanceof $e&&t.expression===this||(t instanceof nt&&t.condition===this||(t instanceof Ye&&t.expression===this||void 0))))}),e(ue,function(e,t){t.print_string(e.value,e.quote),t.semicolon()}),e(se,function(e,t){t.print("debugger"),t.semicolon()}),he.DEFMETHOD("_do_print_body",function(e){s(this.body,e)}),e(ae,function(e,t){e.body.print(t),t.semicolon()}),e(Ce,function(e,t){n(e.body,!0,t,!0),t.print("")}),e(de,function(e,t){e.label.print(t),t.colon(),e.body.print(t)}),e(le,function(e,t){e.body.print(t),t.semicolon()}),e(fe,function(e,t){r(e.body,t)}),e(pe,function(e,t){t.semicolon()}),e(me,function(e,t){t.print("do"),t.space(),p(e.body,t),t.space(),t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.semicolon()}),e(ye,function(e,t){t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e._do_print_body(t)}),e(be,function(e,t){t.print("for"),t.space(),t.with_parens(function(){e.init?(e.init instanceof Ve?e.init.print(t):o(e.init,t,!0),t.print(";"),t.space()):t.print(";"),e.condition?(e.condition.print(t),t.print(";"),t.space()):t.print(";"),e.step&&e.step.print(t)}),t.space(),e._do_print_body(t)}),e(xe,function(e,t){t.print("for"),t.space(),t.with_parens(function(){e.init.print(t),t.space(),t.print("in"),t.space(),e.object.print(t)}),t.space(),e._do_print_body(t)}),e(we,function(e,t){t.print("with"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space(),e._do_print_body(t)}),ke.DEFMETHOD("_do_print",function(e,t){var n=this;t||e.print("function"),n.name&&(e.space(),n.name.print(e)),e.with_parens(function(){n.argnames.forEach(function(t,n){n&&e.comma(),t.print(e)})}),e.space(),r(n.body,e,!0)}),e(ke,function(e,t){e._do_print(t)}),Ee.DEFMETHOD("_do_print",function(e,t){e.print(t),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(Te,function(e,t){e._do_print(t,"return")}),e(Ne,function(e,t){e._do_print(t,"throw")}),Le.DEFMETHOD("_do_print",function(e,t){e.print(t),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(Fe,function(e,t){e._do_print(t,"break")}),e(Oe,function(e,t){e._do_print(t,"continue")}),e(Be,function(e,t){t.print("if"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e.alternative?(i(e,t),t.space(),t.print("else"),t.space(),e.alternative instanceof Be?e.alternative.print(t):s(e.alternative,t)):e._do_print_body(t)}),e(Pe,function(e,t){t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var n=e.body.length-1;n<0?t.print("{}"):t.with_block(function(){e.body.forEach(function(e,r){t.indent(!0),e.print(t),r<n&&e.body.length>0&&t.newline()})})}),je.DEFMETHOD("_do_print_body",function(e){e.newline(),this.body.forEach(function(t){e.indent(),t.print(e),e.newline()})}),e(Ie,function(e,t){t.print("default:"),e._do_print_body(t)}),e(ze,function(e,t){t.print("case"),t.space(),e.expression.print(t),t.print(":"),e._do_print_body(t)}),e(qe,function(e,t){t.print("try"),t.space(),r(e.body,t),e.bcatch&&(t.space(),e.bcatch.print(t)),e.bfinally&&(t.space(),e.bfinally.print(t))}),e(He,function(e,t){t.print("catch"),t.space(),t.with_parens(function(){e.argname.print(t)}),t.space(),r(e.body,t)}),e(Re,function(e,t){t.print("finally"),t.space(),r(e.body,t)}),Ve.DEFMETHOD("_do_print",function(e,t){e.print(t),e.space(),this.definitions.forEach(function(t,n){n&&e.comma(),t.print(e)});var n=e.parent();(n instanceof be||n instanceof xe)&&n.init===this||e.semicolon()}),e(We,function(e,t){e._do_print(t,"var")}),e(Ue,function(e,t){if(e.name.print(t),e.value){t.space(),t.print("="),t.space();var n=t.parent(1),r=n instanceof be||n instanceof xe;o(e.value,t,r)}}),e($e,function(e,t){e.expression.print(t),e instanceof Je&&!u(e,t)||((e.expression instanceof $e||e.expression instanceof ke)&&t.add_mapping(e.start),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})}))}),e(Je,function(e,t){t.print("new"),t.space(),$e.prototype._codegen(e,t)}),Ge.DEFMETHOD("_do_print",function(e){this.expressions.forEach(function(t,n){n>0&&(e.comma(),e.should_break()&&(e.newline(),e.indent())),t.print(e)})}),e(Ge,function(e,t){e._do_print(t)}),e(Xe,function(e,t){var n=e.expression;n.print(t);var r=e.property;t.option("ie8")&&jt(r)?(t.print("["),t.add_mapping(e.end),t.print_string(r),t.print("]")):(n instanceof kt&&n.getValue()>=0&&(/[xa-f.)]/i.test(t.last())||t.print(".")),t.print("."),t.add_mapping(e.end),t.print_name(r))}),e(Ke,function(e,t){e.expression.print(t),t.print("["),e.property.print(t),t.print("]")}),e(Qe,function(e,t){var n=e.operator;t.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&e.expression instanceof Qe&&/^[+-]/.test(e.expression.operator))&&t.space(),e.expression.print(t)}),e(et,function(e,t){e.expression.print(t),t.print(e.operator)}),e(tt,function(e,t){var n=e.operator;e.left.print(t),">"==n[0]&&e.left instanceof et&&"--"==e.left.operator?t.print(" "):t.space(),t.print(n),("<"==n||"<<"==n)&&e.right instanceof Qe&&"!"==e.right.operator&&e.right.expression instanceof Qe&&"--"==e.right.expression.operator?t.print(" "):t.space(),e.right.print(t)}),e(nt,function(e,t){e.condition.print(t),t.space(),t.print("?"),t.space(),e.consequent.print(t),t.space(),t.colon(),e.alternative.print(t)}),e(it,function(e,t){t.with_square(function(){var n=e.elements,r=n.length;r>0&&t.space(),n.forEach(function(e,n){n&&t.comma(),e.print(t),n===r-1&&e instanceof Tt&&t.comma()}),r>0&&t.space()})}),e(ot,function(e,t){e.properties.length>0?t.with_block(function(){e.properties.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):t.print("{}")}),e(st,function(e,t){a(e.key,e.quote,t),t.colon(),e.value.print(t)}),at.DEFMETHOD("_print_getter_setter",function(e,t){t.print(e),t.space(),a(this.key.name,this.quote,t),this.value._do_print(t,!0)}),e(ut,function(e,t){e._print_getter_setter("set",t)}),e(lt,function(e,t){e._print_getter_setter("get",t)}),e(ct,function(e,t){var n=e.definition();t.print_name(n?n.mangled_name||n.name:e.name)}),e(Tt,l),e(wt,function(e,t){t.print("this")}),e(_t,function(e,t){t.print(e.getValue())}),e(Ct,function(e,t){t.print_string(e.getValue(),e.quote,g)}),e(kt,function(e,t){m&&e.start&&null!=e.start.raw?t.print(e.start.raw):t.print(f(e.getValue()))}),e(St,function(e,t){var n=e.getValue(),r=n.toString();n.raw_source&&(r="/"+n.raw_source+r.slice(r.lastIndexOf("/"))),r=t.to_utf8(r),t.print(r);var i=t.parent();i instanceof tt&&/^in/.test(i.operator)&&i.left===e&&t.print(" ")}),h(oe,l),h(ue,d),h(se,d),h(ct,d),h(De,d),h(he,d),h(de,l),h(ke,d),h(Pe,d),h(je,d),h(fe,d),h(Ce,l),h(Je,d),h(qe,d),h(He,d),h(Re,d),h(Ve,d),h(_t,d),h(ut,function(e,t){t.add_mapping(e.start,e.key.name)}),h(lt,function(e,t){t.add_mapping(e.start,e.key.name)}),h(at,function(e,t){t.add_mapping(e.start,e.key)})}(),$.prototype=new R,u($.prototype,{option:function(e){return this.options[e]},exposed:function(e){if(e.global)for(var t=0,n=e.orig.length;t<n;t++)if(!this.toplevel[e.orig[t]instanceof gt?"funcs":"vars"])return!0;return!1},compress:function(e){this.option("expression")&&e.process_expression(!0);for(var t=+this.options.passes||1,n=1/0,r={ie8:this.option("ie8")},i=0;i<t;i++)if(e.figure_out_scope(r),(i>0||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),t>1){var o=0;if(e.walk(new S(function(){o++})),this.info("pass "+i+": last_count: "+n+", count: "+o),o>=n)break;n=o}return this.option("expression")&&e.process_expression(!1),e},info:function(){"verbose"==this.options.warnings&&oe.warn.apply(oe,arguments)},warn:function(e,t){if(this.options.warnings){var n=g(e,t);n in this.warnings_produced||(this.warnings_produced[n]=!0,oe.warn.apply(oe,arguments))}},clear_warnings:function(){this.warnings_produced={}},before:function(e,t,n){if(e._squeezed)return e;var r=!1;e instanceof _e&&(e=e.hoist_properties(this),e=e.hoist_declarations(this),r=!0),t(e,this),t(e,this);var i=e.optimize(this);return r&&i instanceof _e&&(i.drop_unused(this),t(i,this)),i===e&&(i._squeezed=!0),i}}),function(){function e(e,t){e.DEFMETHOD("optimize",function(e){var n=this;if(n._optimized)return n
;if(e.has_directive("use asm"))return n;var r=t(n,e);return r._optimized=!0,r})}function t(e){if(e instanceof wt)return!0;if(e instanceof bt)return e.definition().orig[0]instanceof vt;if(e instanceof Ye){if((e=e.expression)instanceof bt){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||!(e instanceof St)&&(e instanceof _t||t(e))}return!1}function i(e,t){for(var n,r=0;(n=e.parent(r++))&&!(n instanceof _e);)if(n instanceof He){n=n.argname.definition().scope;break}return n.find_variable(t)}function o(e,t,n){return n||(n={}),t&&(n.start||(n.start=t.start),n.end||(n.end=t.end)),new e(n)}function a(e,t){return 1==t.length?t[0]:o(Ge,e,{expressions:t})}function s(e,t){switch(typeof e){case"string":return o(Ct,t,{value:e});case"number":return isNaN(e)?o(Dt,t):isFinite(e)?1/e<0?o(Qe,t,{operator:"-",expression:o(kt,t,{value:-e})}):o(kt,t,{value:e}):e<0?o(Qe,t,{operator:"-",expression:o(Nt,t)}):o(Nt,t);case"boolean":return o(e?Ot:Ft,t);case"undefined":return o(Et,t);default:if(null===e)return o(At,t,{value:null});if(e instanceof RegExp)return o(St,t,{value:e});throw new Error(g("Can't handle constant of type: {type}",{type:typeof e}))}}function u(e,t,n){return e instanceof Qe&&"delete"==e.operator||e instanceof $e&&e.expression===t&&(n instanceof Ye||n instanceof bt&&"eval"==n.name)?a(t,[o(kt,t,{value:0}),n]):n}function d(e,t){t instanceof Ge?e.push.apply(e,t.expressions):e.push(t)}function m(e){if(null===e)return[];if(e instanceof fe)return e.body;if(e instanceof pe)return[];if(e instanceof ae)return[e];throw new Error("Can't convert thing to statement array")}function C(e){return null===e||(e instanceof pe||e instanceof fe&&0==e.body.length)}function M(e){return e instanceof Pe?e:(e instanceof be||e instanceof xe||e instanceof ve)&&e.body instanceof fe?e.body:e}function A(e){return e instanceof $e&&!(e instanceof Je)&&(e.expression instanceof Me||A(e.expression))}function D(e){return e instanceof bt&&e.definition().undeclared}function E(e){e.eliminated++,e.orig.length==e.eliminated&&(e.scope.functions.del(e.name),e.scope.variables.del(e.name))}function T(e,r){function i(e){for(var t=[],n=0;n<e.length;){var r=e[n];r instanceof fe?(l=!0,i(r.body),[].splice.apply(e,[n,1].concat(r.body)),n+=r.body.length):r instanceof pe?(l=!0,e.splice(n,1)):r instanceof ue?t.indexOf(r.value)<0?(n++,t.push(r.value)):(l=!0,e.splice(n,1)):n++}}function s(e,t){function n(e){i--;var n=r.body;return n instanceof Ge||(n=o(Ge,n,{expressions:[n]})),d(n.expressions,e),n.transform(t)}for(var r,i=0,a=0,s=e.length;a<s;a++){var u=e[a];if(r)if(u instanceof be&&!(u.init instanceof Ve)){var l=!1;r.body.walk(new S(function(e){return!!(l||e instanceof _e)||(e instanceof tt&&"in"==e.operator?(l=!0,!0):void 0)})),l||(u.init?u.init=n(u.init):(u.init=r.body.drop_side_effect_free(t),i--))}else u instanceof Be?u.condition=n(u.condition):u instanceof we?u.expression=n(u.expression):u instanceof Ee&&u.value?u.value=n(u.value):u instanceof Ee?u.value=n(o(Et,u).transform(t)):u instanceof Pe&&(u.expression=n(u.expression));e[i++]=u,r=u instanceof le?u:null}e.length=i}var l,c=10;do{l=!1,i(e),r.option("dead_code")&&function(e,t){for(var n,r=t.self(),i=0,o=0,a=e.length;i<a;i++){var s=e[i];if(s instanceof Le){var u=t.loopcontrol_target(s);s instanceof Fe&&!(u instanceof ge)&&M(u)===r||s instanceof Oe&&M(u)===r?s.label&&v(s.label.thedef.references,s):e[o++]=s}else e[o++]=s;if(z(s)){n=e.slice(i+1);break}}e.length=o,l=o!=a,n&&n.forEach(function(n){N(t,n,e)})}(e,r),r.option("if_return")&&function(e,t){function n(e){return!e||e instanceof Qe&&"void"==e.operator}function r(e){if(!e)return!1;var r=e instanceof Le?t.loopcontrol_target(e):null;return e instanceof Te&&c&&n(e.value)||e instanceof Oe&&s===M(r)||e instanceof Fe&&r instanceof fe&&s===r}function i(){var t=e.slice(f+1);return e.length=f+1,t.filter(function(t){return!(t instanceof Ae&&(e.push(t),1))})}function a(e,t){var n=m(e).slice(0,-1);return t.value&&n.push(o(le,t.value,{body:t.value.expression})),n}for(var s=t.self(),u=function(e){for(var t=0,n=e.length;--n>=0;){var r=e[n];if(r instanceof Be&&r.body instanceof Te&&++t>1)return!0}return!1}(e),c=s instanceof ke,f=e.length;--f>=0;){var p=e[f],h=e[f+1];if(c&&p instanceof Te&&!p.value&&!h)l=!0,e.length--;else{if(p instanceof Be){var d=z(p.body);if(r(d)){d.label&&v(d.label.thedef.references,d),l=!0,p=p.clone(),p.condition=p.condition.negate(t);var g=a(p.body,d);p.body=o(fe,p,{body:m(p.alternative).concat(i())}),p.alternative=o(fe,p,{body:g}),e[f]=p.transform(t);continue}var d=z(p.alternative);if(r(d)){d.label&&v(d.label.thedef.references,d),l=!0,p=p.clone(),p.body=o(fe,p.body,{body:m(p.body).concat(i())});var g=a(p.alternative,d);p.alternative=o(fe,p.alternative,{body:g}),e[f]=p.transform(t);continue}}if(p instanceof Be&&p.body instanceof Te){var y=p.body.value;if(!y&&!p.alternative&&(c&&!h||h instanceof Te&&!h.value)){l=!0,e[f]=o(le,p.condition,{body:p.condition});continue}if(y&&!p.alternative&&h instanceof Te&&h.value){l=!0,p=p.clone(),p.alternative=h,e.splice(f,2,p.transform(t));continue}if(u&&c&&y&&!p.alternative&&(!h||h instanceof Te)){l=!0,p=p.clone(),p.alternative=h||o(Te,p,{value:null}),e.splice(f,h?2:1,p.transform(t));continue}var b=e[f-1];if(t.option("sequences")&&c&&!p.alternative&&b instanceof Be&&b.body instanceof Te&&f+2==e.length&&h instanceof le){l=!0,e.push(o(Te,h,{value:null}).transform(t));continue}}}}}(e,r),r.sequences_limit>0&&function(e,t){function n(){if(r.length){var t=a(r[0],r);e[i++]=o(le,t,{body:t}),r=[]}}if(!(e.length<2)){for(var r=[],i=0,u=0,c=e.length;u<c;u++){var f=e[u];if(f instanceof le){r.length>=t.sequences_limit&&n();var p=f.body;r.length>0&&(p=p.drop_side_effect_free(t)),p&&d(r,p)}else n(),e[i++]=f}n(),e.length=i,s(e,t),l=e.length!=c}}(e,r),r.option("join_vars")&&function(e,t){for(var n=0,r=-1,i=e.length;n<i;n++){var o=e[n],a=e[r];o instanceof Ve&&a&&a.TYPE==o.TYPE?(a.definitions=a.definitions.concat(o.definitions),l=!0):o instanceof be&&a instanceof We&&(!o.init||o.init.TYPE==a.TYPE)?(l=!0,o.init?o.init.definitions=a.definitions.concat(o.init.definitions):o.init=a,e[r]=o):e[++r]=o}e.length=r+1}(e),r.option("collapse_vars")&&function(e,r){function i(e){e instanceof rt&&!e.left.has_side_effects(r)||e instanceof Ze&&("++"==e.operator||"--"==e.operator)?d.push(e):e instanceof Ge?e.expressions.forEach(i):e instanceof Ve?e.definitions.forEach(function(e){e.value&&d.push(e)}):e instanceof le?i(e.body):e instanceof be&&e.init&&i(e.init)}function a(e){var t=e.value;return t instanceof bt&&"arguments"!=t.name&&!t.definition().undeclared&&(e.multiple=!0,!0)}function s(e){return e[e instanceof rt?"right":"value"]}function c(e){return e instanceof Ue?e.value&&e.name:F(e.left,e)}function f(e){return 1==e.orig.length&&e.orig[0]instanceof gt||e.scope===p&&e.references.every(function(e){return e.scope===p})}var p=r.find_parent(_e);if(p.uses_eval||p.uses_with)return e;for(var h,d=[],g=e.length,v=(new R(function(e,t){if(M)return e;if(k){var n=v.parent();if(e instanceof rt&&"="!=e.operator&&b.equivalent_to(e.left)||e instanceof $e&&b instanceof Ye&&b.equivalent_to(e.expression)||e instanceof se||e instanceof ge&&!(e instanceof be)||e instanceof bt&&!e.is_declared(r)||e instanceof qe||e instanceof we||n instanceof be&&e!==n.init)return M=!0,e;if(D&&!(e instanceof pt)&&b.equivalent_to(e)){if(F(e,n))return y.multiple&&A++,e;if(l=M=!0,A++,r.info("Collapsing {name} [{file}:{line},{col}]",{name:e.print_to_string(),file:e.start.file,line:e.start.line,col:e.start.col}),y instanceof et)return o(Qe,y,y);if(y instanceof Ue){if(y.multiple)return M=!1,e;var i=y.name.definition();return i.references.length-i.replaced!=1||r.exposed(i)?o(rt,y,{operator:"=",left:o(bt,y.name,y.name),right:y.value}):(i.replaced++,u(n,e,y.value))}return y.write_only=!1,y}var a;return e instanceof $e||e instanceof Ee||e instanceof Ye&&(C||e.expression.may_throw_on_access(r))||e instanceof bt&&(x[e.name]||C&&!f(e.definition()))||(a=c(e))&&(a instanceof Ye||a.name in x)||(C||!w)&&(n instanceof tt&&X(n.operator)||n instanceof ze||n instanceof nt||n instanceof Be)?(e instanceof _e||t(e,v),M=!0,e):e instanceof Ie||e instanceof _e?e:void 0}return e===y?(k=!0,e):void 0})),m=new R(function(e){return M?e:k?e instanceof bt&&e.name==_.name?(--A||(M=!0),F(e,m.parent())?e:(_.replaced++,L.replaced--,y.value)):e instanceof Ie||e instanceof _e?e:void 0:e===y?(k=!0,e):void 0});--g>=0;){0==g&&r.option("unused")&&function(){var e,t=r.self();if(t instanceof Me&&!t.name&&!t.uses_arguments&&!t.uses_eval&&(e=r.parent())instanceof $e&&e.expression===t){var i=r.has_directive("use strict");i&&!n(i,t.body)&&(i=!1);var a=t.argnames.length;h=e.args.slice(a);for(var s=Object.create(null),u=a;--u>=0;){var l=t.argnames[u],c=e.args[u];if(h.unshift(o(Ue,l,{name:l,value:c})),!(l.name in s)){if(s[l.name]=!0,c){var f=new S(function(e){if(!c)return!0;if(e instanceof bt&&t.variables.has(e.name)){var n=e.definition().scope;if(n!==p)for(;n=n.parent_scope;)if(n===p)return!0;c=null}return e instanceof wt&&(i||!f.find_parent(_e))?(c=null,!0):void 0});c.walk(f)}else c=o(Et,l).transform(r);c&&d.unshift(o(Ue,l,{name:l,value:c}))}}}}(),i(e[g]);for(;d.length>0;){var y=d.pop(),b=function(e){if(!(e instanceof Ue))return e[e instanceof rt?"left":"expression"];var t=e.name.definition(),n=t.orig.length-t.eliminated,i=t.references.length-t.replaced;return n>1&&!(e.name instanceof dt)||(i>1?a(e):!r.exposed(t))?o(bt,e.name,e.name):void 0}(y);if(b&&!t(b)&&!b.has_side_effects(r)){var x=function(e){var t=Object.create(null);if(e instanceof Ze)return t;var n=new S(function(e,r){for(var i=e;i instanceof Ye;)i=i.expression;(i instanceof bt||i instanceof wt)&&(t[i.name]=t[i.name]||F(e,n.parent()))});return s(e).walk(n),t}(y);b instanceof bt&&(x[b.name]=!1);var w=y.multiple;if(!w&&b instanceof bt){var _=b.definition();w=_.references.length-_.replaced==1}var C=function(e){return!(e instanceof Ze)&&s(e).has_side_effects(r)}(y),k=y.name instanceof dt,M=!1,A=0,D=!h||!k;if(!D){for(var T=r.self().argnames.lastIndexOf(y.name)+1;!M&&T<h.length;T++)h[T].transform(v);D=!0}for(var N=g;!M&&N<e.length;N++)e[N].transform(v);if(y.multiple){var _=y.name.definition();if(M&&_.references.length-_.replaced>A)A=!1;else{M=!1,k=y.name instanceof dt;for(var L=y.value.definition(),N=g;!M&&N<e.length;N++)e[N].transform(m)}}A&&!function(t){if(t.name instanceof dt){var n=r.self().argnames.indexOf(t.name),i=r.parent().args;return i[n]&&(i[n]=o(kt,i[n],{value:0})),!0}var a=!1;return e[g].transform(new R(function(e,n,r){return a?e:e===t||e.body===t?(a=!0,e instanceof Ue?(E(e.name.definition()),e.value=null,e):r?re.skip:null):void 0},function(e){if(e instanceof Ge)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}))}(y)&&e.splice(g,1)}}}}(e,r)}while(l&&c-- >0)}function N(e,t,n){t instanceof Ae||e.warn("Dropping unreachable code [{file}:{line},{col}]",t.start),t.walk(new S(function(r){return r instanceof Ve?(e.warn("Declarations in unreachable code! [{file}:{line},{col}]",r.start),r.remove_initializers(),n.push(r),!0):r instanceof Ae&&(r===t||!e.has_directive("use strict"))?(n.push(r),!0):r instanceof _e||void 0}))}function L(e,t){return e.is_undefined||e instanceof Et||e instanceof Qe&&"void"==e.operator&&!e.expression.has_side_effects(t)}function F(e,t){return t instanceof Ze&&K(t.operator)?t.expression:t instanceof rt&&t.left===e?e:void 0}function O(e,t){return e.print_to_string().length>t.print_to_string().length?t:e}function P(e,t){return O(o(le,e,{body:e}),o(le,t,{body:t})).body}function I(e,t,n){return(_(e)?P:O)(t,n)}function z(e){return e&&e.aborts()}function q(e,t){function n(n){n=m(n),e.body instanceof fe?(e.body=e.body.clone(),e.body.body=n.concat(e.body.body.slice(1)),e.body=e.body.transform(t)):e.body=o(fe,e.body,{body:n}).transform(t),q(e,t)}var r=e.body instanceof fe?e.body.body[0]:e.body;r instanceof Be&&(r.body instanceof Fe&&t.loopcontrol_target(r.body)===t.self()?(e.condition?e.condition=o(tt,e.condition,{left:e.condition,operator:"&&",right:r.condition.negate(t)}):e.condition=r.condition.negate(t),n(r.alternative)):r.alternative instanceof Fe&&t.loopcontrol_target(r.alternative)===t.self()&&(e.condition?e.condition=o(tt,e.condition,{left:e.condition,operator:"&&",right:r.condition}):e.condition=r.condition,n(r.body)))}function V(e){return e instanceof it||e instanceof ke||e instanceof ot}function W(e,t){for(var n,r=0;n=e.parent(r);r++)if(n instanceof ke){var i=n.name;if(i&&i.definition()===t)break}return n}function J(e,t){return e instanceof bt||e.TYPE===t.TYPE}function G(e,t){return t.option("booleans")&&t.in_boolean_context()?I(t,e,a(e,[e,o(Ot,e)]).optimize(t)):e}e(oe,function(e,t){return e}),oe.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),_e.DEFMETHOD("process_expression",function(e,t){var n=this,r=new R(function(i){if(e&&i instanceof le)return o(Te,i,{value:i.body});if(!e&&i instanceof Te){if(t){var a=i.value&&i.value.drop_side_effect_free(t,!0);return a?o(le,i,{body:a}):o(pe,i)}return o(le,i,{body:i.value||o(Qe,i,{operator:"void",expression:o(kt,i,{value:0})})})}if(i instanceof ke&&i!==n)return i;if(i instanceof ce){var s=i.body.length-1;s>=0&&(i.body[s]=i.body[s].transform(r))}return i instanceof Be&&(i.body=i.body.transform(r),i.alternative&&(i.alternative=i.alternative.transform(r))),i instanceof we&&(i.body=i.body.transform(r)),i});n.transform(r)}),Ce.DEFMETHOD("reset_opt_flags",function(e){function t(e,t){v[e.id]=t}function n(e){if(v[e.id]){if(null==e.fixed){var t=e.orig[0];if(t instanceof dt||"arguments"==t.name)return!1;e.fixed=o(Et,t)}return!0}return e.fixed instanceof Ae}function r(e,t){return!!w(v,e.id)&&(!!n(e)&&(!1!==e.fixed&&(!(null!=e.fixed&&(!t||e.references.length>0))&&!e.orig.some(function(e){return e instanceof gt||e instanceof vt}))))}function i(){v=Object.create(v)}function a(){v=Object.getPrototypeOf(v)}function u(t){t.direct_access=!1,t.escaped=!1,t.scope.uses_eval||t.scope.uses_with?t.fixed=!1:e.exposed(t)?t.fixed=!1:t.fixed=void 0,t.references=[],t.should_replace=void 0,t.single_use=void 0}function l(e){return g&&!e.scope.uses_eval&&!e.scope.uses_with&&1==e.references.length&&b[e.id]===y}function c(e){return!!e&&(e.is_constant()||e instanceof ke||e instanceof wt)}function f(e,t){if(t instanceof _t&&(t=t.getValue()),t instanceof oe)return null;var n;if(e instanceof it){var r=e.elements;if("length"==t)return s(r.length,e);"number"==typeof t&&t in r&&(n=r[t])}else if(e instanceof ot)for(var i=e.properties,o=i.length;--o>=0;){var a=i[o];if(!(a instanceof st))return;n||i[o].key!==t||(n=i[o].value)}return n instanceof bt&&n.fixed_value()||n}function p(e,t,n,r){var i=x.parent(n);if(F(e,i)||!r&&i instanceof $e&&i.expression===e&&(!(t instanceof Me)||t.contains_this(i)))return!0;if(i instanceof it)return p(i,i,n+1);if(i instanceof st&&e===i.value){var o=x.parent(n+1);return p(o,o,n+2)}return i instanceof Ye&&i.expression===e?!r&&p(i,f(t,i.property),n+1):void 0}function h(e,t,n,r){var i=x.parent(r);if(!(n instanceof _t||r>0&&n instanceof Me)){if(i instanceof rt&&"="==i.operator&&t===i.right||i instanceof $e&&t!==i.expression||i instanceof Te&&t===i.value&&t.scope!==e.scope||i instanceof Ue&&t===i.value)return void(e.escaped=!0);if(i instanceof it)h(e,i,i,r+1);else if(i instanceof st&&t===i.value){var o=x.parent(r+1);h(e,o,o,r+2)}else if(i instanceof Ye&&t===i.expression&&(n=f(n,i.property),h(e,i,n,r+1),n))return;0==r&&(e.direct_access=!0)}}var d=e.option("reduce_vars"),g=e.option("unused"),v=Object.create(null),m=new S(function(e){if(e instanceof ct){var t=e.definition();t&&(e instanceof bt&&t.references.push(e),t.fixed=!1)}}),y=null,b=Object.create(null),x=new S(function(s,f){if(s._squeezed=!1,s._optimized=!1,d){if(s instanceof Ce&&s.globals.each(u),s instanceof _e&&s.variables.each(u),s instanceof bt){var g=s.definition();g.references.push(s);var w;void 0!==g.fixed&&n(g)&&"m"!=g.single_use?g.fixed&&(w=s.fixed_value(),w&&l(g)?g.single_use=w instanceof ke||g.scope===s.scope&&w.is_constant_expression():g.single_use=!1,p(s,w,0,c(w))&&(g.single_use?g.single_use="m":g.fixed=!1)):g.fixed=!1,h(g,s,w,0)}if(s instanceof mt&&(s.definition().fixed=!1),s instanceof Ue){var g=s.name.definition();if(void 0===g.fixed||r(g,s.value))return s.value?(g.fixed=function(){return s.value},b[g.id]=y,t(g,!1),f()):g.fixed=null,t(g,!0),!0;s.value&&(g.fixed=!1)}if(s instanceof rt&&"="==s.operator&&s.left instanceof bt){var g=s.left.definition();if(r(g,s.right))return g.references.push(s.left),g.fixed=function(){return s.right},t(g,!1),s.right.walk(x),t(g,!0),!0}if(s instanceof Ae){s.inlined=!1;var g=s.name.definition();e.exposed(g)||n(g)?g.fixed=!1:(g.fixed=s,b[g.id]=y,t(g,!0),g.single_use=l(g));var _=v;return v=Object.create(null),f(),v=_,!0}if(s instanceof Me){s.inlined=!1,i();var C;return!s.name&&(C=x.parent())instanceof $e&&C.expression===s&&s.argnames.forEach(function(e,n){var r=e.definition();s.uses_arguments||void 0!==r.fixed?r.fixed=!1:(r.fixed=function(){return C.args[n]||o(Et,C)},b[r.id]=y,t(r,!0))}),f(),a(),!0}if(s instanceof Se)return i(),f(),a(),!0;if(s instanceof tt&&X(s.operator))return s.left.walk(x),i(),s.right.walk(x),a(),!0;if(s instanceof nt)return s.condition.walk(x),i(),s.consequent.walk(x),a(),i(),s.alternative.walk(x),a(),!0;if(s instanceof Be)return s.condition.walk(x),i(),s.body.walk(x),a(),s.alternative&&(i(),s.alternative.walk(x),a()),!0;if(s instanceof ve){var S=y;return y=s,i(),s.condition.walk(x),s.body.walk(x),a(),y=S,!0}if(s instanceof de)return i(),s.body.walk(x),a(),!0;if(s instanceof be){s.init&&s.init.walk(x);var S=y;return y=s,s.condition&&(i(),s.condition.walk(x),a()),i(),s.body.walk(x),a(),s.step&&(i(),s.step.walk(x),a()),y=S,!0}if(s instanceof xe){s.init.walk(m),s.object.walk(x);var S=y;return y=s,i(),s.body.walk(x),a(),y=S,!0}if(s instanceof qe)return i(),k(s,x),a(),s.bcatch&&(i(),s.bcatch.walk(x),a()),s.bfinally&&s.bfinally.walk(x),!0;if(s instanceof je)return i(),f(),a(),!0}});this.walk(x)}),ct.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return!e||e instanceof oe?e:e()}),bt.DEFMETHOD("is_immutable",function(){var e=this.definition().orig;return 1==e.length&&e[0]instanceof vt});var Y=y("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");bt.DEFMETHOD("is_declared",function(e){return!this.definition().undeclared||e.option("unsafe")&&Y(this.name)}),function(e){function t(e){return/strict/.test(e.option("pure_getters"))}oe.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),e(oe,t),e(At,f),e(Et,f),e(_t,c),e(it,c),e(ot,function(e){if(!t(e))return!1;for(var n=this.properties.length;--n>=0;)if(this.properties[n].value instanceof Se)return!0;return!1}),e(Me,c),e(et,c),e(Qe,function(){return"void"==this.operator}),e(tt,function(e){switch(this.operator){case"&&":return this.left._dot_throw(e);case"||":return this.left._dot_throw(e)&&this.right._dot_throw(e);default:return!1}}),e(rt,function(e){return"="==this.operator&&this.right._dot_throw(e)}),e(nt,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),e(Ge,function(e){return this.expressions[this.expressions.length-1]._dot_throw(e)}),e(bt,function(e){if(this.is_undefined)return!0;if(!t(e))return!1;if(D(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var n=this.fixed_value();return!n||n._dot_throw(e)})}(function(e,t){e.DEFMETHOD("_dot_throw",t)}),function(e){var t=["!","delete"],r=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];e(oe,c),e(Qe,function(){return n(this.operator,t)}),e(tt,function(){return n(this.operator,r)||X(this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),e(nt,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),e(rt,function(){return"="==this.operator&&this.right.is_boolean()}),e(Ge,function(){return this.expressions[this.expressions.length-1].is_boolean()}),e(Ot,f),e(Ft,f)}(function(e,t){e.DEFMETHOD("is_boolean",t)}),function(e){e(oe,c),e(kt,f);var t=y("+ - ~ ++ --");e(Ze,function(){return t(this.operator)});var n=y("- * / % & | ^ << >> >>>");e(tt,function(e){return n(this.operator)||"+"==this.operator&&this.left.is_number(e)&&this.right.is_number(e)}),e(rt,function(e){return n(this.operator.slice(0,-1))||"="==this.operator&&this.right.is_number(e)}),e(Ge,function(e){return this.expressions[this.expressions.length-1].is_number(e)}),e(nt,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})}(function(e,t){e.DEFMETHOD("is_number",t)}),function(e){e(oe,c),e(Ct,f),e(Qe,function(){return"typeof"==this.operator}),e(tt,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),e(rt,function(e){return("="==this.operator||"+="==this.operator)&&this.right.is_string(e)}),e(Ge,function(e){return this.expressions[this.expressions.length-1].is_string(e)}),e(nt,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)})}(function(e,t){e.DEFMETHOD("is_string",t)});var X=y("&& ||"),K=y("delete ++ --");!function(e){function t(e,n){if(e instanceof oe)return o(e.CTOR,n,e);if(Array.isArray(e))return o(it,n,{elements:e.map(function(e){return t(e,n)})});if(e&&"object"==typeof e){var r=[];for(var i in e)w(e,i)&&r.push(o(st,n,{key:i,value:t(e[i],n)}));return o(ot,n,{properties:r})}return s(e,n)}oe.DEFMETHOD("resolve_defines",function(e){if(e.option("global_defs")){var t=this._find_defs(e,"");if(t){var n,r=this,i=0;do{n=r,r=e.parent(i++)}while(r instanceof Ye&&r.expression===n);if(!F(n,r))return t;e.warn("global_defs "+this.print_to_string()+" redefined [{file}:{line},{col}]",this.start)}}}),e(oe,l),e(Xe,function(e,t){return this.expression._find_defs(e,"."+this.property+t)}),e(bt,function(e,n){if(this.global()){var r,i=e.option("global_defs");if(i&&w(i,r=this.name+n)){var o=t(i[r],this),a=e.find_parent(Ce);return o.walk(new S(function(e){e instanceof bt&&(e.scope=a,e.thedef=a.def_global(e))})),o}}})}(function(e,t){e.DEFMETHOD("_find_defs",t)}),function(e){function t(e,t){if(!t)throw new Error("Compressor must be passed");return e._eval(t)}function n(e){for(var t in e)e[t]=y(e[t])}oe.DEFMETHOD("evaluate",function(e){if(!e.option("evaluate"))return this;var t=this._eval(e);return!t||t instanceof RegExp||"object"!=typeof t?t:this});var r=y("! ~ - + void");oe.DEFMETHOD("is_constant",function(){return this instanceof _t?!(this instanceof St):this instanceof Qe&&this.expression instanceof _t&&r(this.operator)}),e(ae,function(){throw new Error(g("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(ke,p),e(oe,p),e(_t,function(){return this.getValue()}),e(it,function(e){if(e.option("unsafe")){for(var n=[],r=0,i=this.elements.length;r<i;r++){var o=this.elements[r];if(!(o instanceof Me)){var a=t(o,e);if(o===a)return this;n.push(a)}}return n}return this}),e(ot,function(e){if(e.option("unsafe")){for(var n={},r=0,i=this.properties.length;r<i;r++){var o=this.properties[r],a=o.key;if(a instanceof ct)a=a.name;else if(a instanceof oe&&(a=t(a,e))===o.key)return this;if("function"==typeof Object.prototype[a])return this;if(!(o.value instanceof Me)&&(n[a]=t(o.value,e),n[a]===o.value))return this}return n}return this}),e(Qe,function(e){if("typeof"==this.operator&&this.expression instanceof Me)return"function";var n=t(this.expression,e);if(n===this.expression)return this;switch(this.operator){case"!":return!n;case"typeof":return n instanceof RegExp?this:typeof n;case"void":return;case"~":return~n;case"-":return-n;case"+":return+n}return this}),e(tt,function(e){var n=t(this.left,e);if(n===this.left)return this;var r=t(this.right,e);if(r===this.right)return this;var i;switch(this.operator){case"&&":i=n&&r;break;case"||":i=n||r;break;case"|":i=n|r;break;case"&":i=n&r;break;case"^":i=n^r;break;case"+":i=n+r;break;case"*":i=n*r;break;case"/":i=n/r;break;case"%":i=n%r;break;case"-":i=n-r;break;case"<<":i=n<<r;break;case">>":i=n>>r;break;case">>>":i=n>>>r;break;case"==":i=n==r;break;case"===":i=n===r;break;case"!=":i=n!=r;break;case"!==":i=n!==r;break;case"<":i=n<r;break;case"<=":i=n<=r;break;case">":i=n>r;break;case">=":i=n>=r;break;default:return this}return isNaN(i)&&e.find_parent(we)?this:i}),e(nt,function(e){var n=t(this.condition,e);if(n===this.condition)return this;var r=n?this.consequent:this.alternative,i=t(r,e);return i===r?this:i}),e(bt,function(e){if(!e.option("reduce_vars"))return this;var n=this.fixed_value();if(!n)return this;this._eval=p;var r=t(n,e);return r===n?(delete this._eval,this):(w(n,"_eval")||(n._eval=function(){return r}),r&&"object"==typeof r&&this.definition().escaped?(delete this._eval,this):(this._eval=n._eval,r))});var i={Array:Array,Math:Math,Number:Number,String:String},o={Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]};n(o),e(Ye,function(e){if(e.option("unsafe")){var n=this.property;if(n instanceof oe&&(n=t(n,e))===this.property)return this;var r,a=this.expression;if(D(a)){if(!(o[a.name]||c)(n))return this;r=i[a.name]}else if(!(r=t(a,e))||r===a||!w(r,n))return this;return r[n]}return this});var a=["constructor","toString","valueOf"],s={Array:["indexOf","join","lastIndexOf","slice"].concat(a),Boolean:a,Number:["toExponential","toFixed","toPrecision"].concat(a),RegExp:["test"].concat(a),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","trim"].concat(a)};n(s);var u={Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],String:["fromCharCode"]};n(u),e($e,function(e){var n=this.expression;if(e.option("unsafe")&&n instanceof Ye){var r=n.property;if(r instanceof oe&&(r=t(r,e))===n.property)return this;var o,a=n.expression;if(D(a)){if(!(u[a.name]||c)(r))return this;o=i[a.name]}else if((o=t(a,e))===a||!(o&&s[o.constructor.name]||c)(r))return this;for(var l=[],f=0,p=this.args.length;f<p;f++){var h=this.args[f],d=t(h,e);if(h===d)return this;l.push(d)}return o[r].apply(o,l)}return this}),e(Je,p)}(function(e,t){e.DEFMETHOD("_eval",t)}),function(e){function t(e){return o(Qe,e,{operator:"!",expression:e})}function n(e,n,r){var i=t(e);if(r){var a=o(le,n,{body:n});return O(i,a)===a?n:i}return O(i,n)}e(oe,function(){return t(this)}),e(ae,function(){throw new Error("Cannot negate a statement")}),e(Me,function(){return t(this)}),e(Qe,function(){return"!"==this.operator?this.expression:t(this)}),e(Ge,function(e){var t=this.expressions.slice();return t.push(t.pop().negate(e)),a(this,t)}),e(nt,function(e,t){var r=this.clone();return r.consequent=r.consequent.negate(e),r.alternative=r.alternative.negate(e),n(this,r,t)}),e(tt,function(e,r){var i=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return i.operator=">",i;case"<":return i.operator=">=",i;case">=":return i.operator="<",i;case">":return i.operator="<=",i}switch(o){case"==":return i.operator="!=",i;case"!=":return i.operator="==",i;case"===":return i.operator="!==",i;case"!==":return i.operator="===",i;case"&&":return i.operator="||",i.left=i.left.negate(e,r),i.right=i.right.negate(e),n(this,i,r);case"||":return i.operator="&&",i.left=i.left.negate(e,r),i.right=i.right.negate(e),n(this,i,r)}return t(this)})}(function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})}),$e.DEFMETHOD("has_pure_annotation",function(e){if(!e.option("side_effects"))return!1;if(void 0!==this.pure)return this.pure;var t,n,i=!1;return this.start&&(t=this.start.comments_before)&&t.length&&(n=r(function(e){return/[@#]__PURE__/.test(e.value)},t))&&(i=n),this.pure=i});var Z=y("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");$e.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var t=this.expression;if(D(t)&&Z(t.name))return!0}return this.has_pure_annotation(e)||!e.pure_funcs(this)}),function(e){function t(e,t){for(var n=e.length;--n>=0;)if(e[n].has_side_effects(t))return!0;return!1}e(oe,f),e(pe,c),e(_t,c),e(wt,c),e($e,function(e){if(!this.is_expr_pure(e))return!0;for(var t=this.args.length;--t>=0;)if(this.args[t].has_side_effects(e))return!0;return!1}),e(ce,function(e){return t(this.body,e)}),e(Pe,function(e){return this.expression.has_side_effects(e)||t(this.body,e)}),e(ze,function(e){return this.expression.has_side_effects(e)||t(this.body,e)}),e(qe,function(e){return t(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),e(Be,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),e(de,function(e){return this.body.has_side_effects(e)}),e(le,function(e){return this.body.has_side_effects(e)}),e(Ae,f),e(Me,c),e(tt,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(rt,f),e(nt,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(Ze,function(e){return K(this.operator)||this.expression.has_side_effects(e)}),e(bt,function(e){return!this.is_declared(e)}),e(pt,c),e(ot,function(e){return t(this.properties,e)}),e(at,function(e){return this.value.has_side_effects(e)}),e(it,function(e){return t(this.elements,e)}),e(Xe,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),e(Ke,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),e(Ge,function(e){return this.expressions.some(function(t,n){return t.has_side_effects(e)})})}(function(e,t){e.DEFMETHOD("has_side_effects",t)}),function(e){function t(e){for(var t=e.length;--t>=0;)if(!e[t].is_constant_expression())return!1;return!0}e(oe,c),e(_t,f),e(ke,function(e){var t=this,r=!0;return t.walk(new S(function(i){if(!r)return!0;if(i instanceof bt){var o=i.definition();if(n(o,t.enclosed)&&!t.variables.has(o.name)){if(e){var a=e.find_variable(i);if(o.undeclared?!a:a===o)return r="f",!0}r=!1}return!0}})),r}),e(Ze,function(){return this.expression.is_constant_expression()}),e(tt,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()}),e(it,function(){return t(this.elements)}),e(ot,function(){return t(this.properties)}),e(at,function(){return this.value.is_constant_expression()})}(function(e,t){e.DEFMETHOD("is_constant_expression",t)}),function(e){function t(){var e=this.body.length;return e>0&&z(this.body[e-1])}e(ae,h),e(De,p),e(fe,t),e(je,t),e(Be,function(){return this.alternative&&z(this.body)&&z(this.alternative)&&this})}(function(e,t){e.DEFMETHOD("aborts",t)}),e(ue,function(e,t){return t.has_directive(e.value)!==e?o(pe,e):e}),e(se,function(e,t){return t.option("drop_debugger")?o(pe,e):e}),e(de,function(e,t){return e.body instanceof Fe&&t.loopcontrol_target(e.body)===e.body?o(pe,e):0==e.label.references.length?e.body:e}),e(ce,function(e,t){return T(e.body,t),e}),e(fe,function(e,t){switch(T(e.body,t),e.body.length){case 1:return e.body[0];case 0:return o(pe,e)}return e}),_e.DEFMETHOD("drop_unused",function(e){if(e.option("unused")&&!e.has_directive("use asm")){var t=this;if(!t.uses_eval&&!t.uses_with){var n=!(t instanceof Ce)||e.toplevel.funcs,r=!(t instanceof Ce)||e.toplevel.vars,i=/keep_assign/.test(e.option("unused"))?c:function(e){return e instanceof rt&&(e.write_only||"="==e.operator)?e.left:e instanceof Ze&&e.write_only?e.expression:void 0},s=[],l=Object.create(null);t instanceof Ce&&e.top_retain&&t.variables.each(function(t){!e.top_retain(t)||t.id in l||(l[t.id]=!0,s.push(t))})
;var f=new x,p=new x,h=this,g=new S(function(o,a){if(o!==t){if(o instanceof Ae){if(!n&&h===t){var u=o.name.definition();u.id in l||(l[u.id]=!0,s.push(u))}return p.add(o.name.name,o),!0}if(o instanceof dt&&h===t&&f.add(o.definition().id,o),o instanceof Ve&&h===t)return o.definitions.forEach(function(t){var n=t.name.definition();t.name instanceof ht&&f.add(n.id,t),r||n.id in l||(l[n.id]=!0,s.push(n)),t.value&&(p.add(t.name.name,t.value),t.value.has_side_effects(e)&&t.value.walk(g))}),!0;var c;if(h===t&&(c=i(o))instanceof bt&&t.variables.get(c.name)===c.definition())return o instanceof rt&&o.right.walk(g),!0;if(o instanceof bt){var u=o.definition();return u.id in l||(l[u.id]=!0,s.push(u)),!0}if(o instanceof _e){var d=h;return h=o,a(),h=d,!0}}});t.walk(g);for(var m=0;m<s.length;++m)s[m].orig.forEach(function(e){var t=p.get(e.name);t&&t.forEach(function(e){var t=new S(function(e){if(e instanceof bt){var t=e.definition();t.id in l||(l[t.id]=!0,s.push(t))}});e.walk(t)})});var y=new R(function(s,c,p){function h(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}if(s instanceof Me&&s.name&&!e.option("keep_fnames")){var g=s.name.definition();g.id in l&&!(g.orig.length>1)||(s.name=null)}if(s instanceof ke&&!(s instanceof Se))for(var m=!e.option("keep_fargs"),b=s.argnames,x=b.length;--x>=0;){var w=b[x];w.definition().id in l?m=!1:(w.__unused=!0,m&&(b.pop(),e[w.unreferenced()?"warn":"info"]("Dropping unused function argument {name} [{file}:{line},{col}]",h(w))))}if(n&&s instanceof Ae&&s!==t){var g=s.name.definition();return g.id in l?s:(e[s.name.unreferenced()?"warn":"info"]("Dropping unused function {name} [{file}:{line},{col}]",h(s.name)),E(g),o(pe,s))}var _=y.parent();if(s instanceof Ve&&!(_ instanceof xe&&_.init===s)){var k=[],S=[],M=[],A=[];if(s.definitions.forEach(function(t){t.value&&(t.value=t.value.transform(y));var n=t.name.definition();if(!r||n.id in l){if(t.name instanceof ht){var i=f.get(n.id);if(i.length>1&&!t.value)return e.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",h(t.name)),v(i,t),void E(n)}t.value?(A.length>0&&(M.length>0?(d(A,t.value),t.value=a(t.value,A)):k.push(o(le,s,{body:a(s,A)})),A=[]),M.push(t)):S.push(t)}else if(n.orig[0]instanceof mt){var u=t.value&&t.value.drop_side_effect_free(e);u&&d(A,u),t.value=null,S.push(t)}else{var u=t.value&&t.value.drop_side_effect_free(e);u?(e.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",h(t.name)),d(A,u)):e[t.name.unreferenced()?"warn":"info"]("Dropping unused variable {name} [{file}:{line},{col}]",h(t.name)),E(n)}}),0==S.length&&1==M.length&&M[0].name instanceof ht){var D=f.get(M[0].name.definition().id);if(D.length>1){var g=M.pop();e.warn("Converting duplicated definition of variable {name} to assignment [{file}:{line},{col}]",h(g.name)),v(D,g),A.unshift(o(rt,g,{operator:"=",left:o(bt,g.name,g.name),right:g.value})),g=g.name.definition(),E(g),g.replaced--}}switch((S.length>0||M.length>0)&&(s.definitions=S.concat(M),k.push(s)),A.length>0&&k.push(o(le,s,{body:a(s,A)})),k.length){case 0:return p?re.skip:o(pe,s);case 1:return k[0];default:return p?re.splice(k):o(fe,s,{body:k})}}if(r){var w=i(s);if(w instanceof bt&&!(w.definition().id in l))return s instanceof rt?u(_,s,s.right.transform(y)):o(kt,s,{value:0})}if(s instanceof be){c(s,this);var T;return s.init instanceof fe&&(T=s.init,s.init=T.body.pop(),T.body.push(s)),s.init instanceof le?s.init=s.init.body:C(s.init)&&(s.init=null),T?p?re.splice(T.body):T:s}if(s instanceof de&&s.body instanceof be){if(c(s,this),s.body instanceof fe){var T=s.body;return s.body=T.body.pop(),T.body.push(s),p?re.splice(T.body):T}return s}if(s instanceof _e&&s!==t)return s});t.transform(y)}}}),_e.DEFMETHOD("hoist_declarations",function(e){var t=this;if(e.has_directive("use asm"))return t;var n=e.option("hoist_funs"),i=e.option("hoist_vars");if(n||i){var s=[],u=[],l=new x,c=0,f=0;t.walk(new S(function(e){return e instanceof _e&&e!==t||(e instanceof We?(++f,!0):void 0)})),i=i&&f>1;var p=new R(function(r){if(r!==t){if(r instanceof ue)return s.push(r),o(pe,r);if(n&&r instanceof Ae&&(p.parent()===t||!e.has_directive("use strict")))return u.push(r),o(pe,r);if(i&&r instanceof We){r.definitions.forEach(function(e){l.set(e.name.name,e),++c});var a=r.to_assignments(e),f=p.parent();if(f instanceof xe&&f.init===r){if(null==a){var h=r.definitions[0].name;return o(bt,h,h)}return a}return f instanceof be&&f.init===r?a:a?o(le,r,{body:a}):o(pe,r)}if(r instanceof _e)return r}});if(t=t.transform(p),c>0){var h=[];if(l.each(function(e,n){t instanceof ke&&r(function(t){return t.name==e.name.name},t.argnames)?l.del(n):(e=e.clone(),e.value=null,h.push(e),l.set(n,e))}),h.length>0){for(;0<t.body.length;){if(t.body[0]instanceof le){var d,g,m=t.body[0].body;if(m instanceof rt&&"="==m.operator&&(d=m.left)instanceof ct&&l.has(d.name)){var y=l.get(d.name);if(y.value)break;y.value=m.right,v(h,y),h.push(y),t.body.splice(0,1);continue}if(m instanceof Ge&&(g=m.expressions[0])instanceof rt&&"="==g.operator&&(d=g.left)instanceof ct&&l.has(d.name)){var y=l.get(d.name);if(y.value)break;y.value=g.right,v(h,y),h.push(y),t.body[0].body=a(m,m.expressions.slice(1));continue}}if(t.body[0]instanceof pe)t.body.splice(0,1);else{if(!(t.body[0]instanceof fe))break;var b=[0,1].concat(t.body[0].body);t.body.splice.apply(t.body,b)}}h=o(We,t,{definitions:h}),u.push(h)}}t.body=s.concat(u,t.body)}return t}),_e.DEFMETHOD("make_var_name",function(e){var t=this.var_names;t||(this.var_names=t=Object.create(null),this.enclosed.forEach(function(e){t[e.name]=!0}),this.variables.each(function(e,n){t[n]=!0})),e=e.replace(/[^a-z_$]+/gi,"_");for(var n=e,r=0;t[n];r++)n=e+"$"+r;return t[n]=!0,n}),_e.DEFMETHOD("hoist_properties",function(e){var t=this;if(!e.option("hoist_props")||e.has_directive("use asm"))return t;var n=t instanceof Ce&&e.top_retain||c,r=Object.create(null);return t.transform(new R(function(e){function i(e){var n=o(u.CTOR,u,{name:t.make_var_name(u.name+"_"+e),scope:t}),r=t.def_variable(n);return l.set(e,r),t.enclosed.push(r),n}if(e instanceof Ue){var a,s,u=e.name;if(u.scope===t&&!(a=u.definition()).escaped&&!a.single_use&&!a.direct_access&&!n(a)&&(s=u.fixed_value())===e.value&&s instanceof ot){var l=new x,c=[];return s.properties.forEach(function(t){c.push(o(Ue,e,{name:i(t.key),value:t.value}))}),r[a.id]=l,re.splice(c)}}if(e instanceof Ye&&e.expression instanceof bt){var l=r[e.expression.definition().id];if(l){var f=e.property;f instanceof oe&&(f=f.getValue());var a=l.get(f),u=o(bt,e,{name:a.name,scope:e.expression.scope,thedef:a});return u.reference({}),u}}}))}),function(e){function t(e,t,n){var r=e.length;if(!r)return null;for(var i=[],o=!1,a=0;a<r;a++){var s=e[a].drop_side_effect_free(t,n);o|=s!==e[a],s&&(d(i,s),n=!1)}return o?i.length?i:null:e}e(oe,p),e(_t,h),e(wt,h),e($e,function(e,n){if(!this.is_expr_pure(e)){if(this.expression instanceof Me&&(!this.expression.name||!this.expression.name.definition().references.length)){var r=this.clone();return r.expression.process_expression(!1,e),r}return this}this.pure&&(e.warn("Dropping __PURE__ call [{file}:{line},{col}]",this.start),this.pure.value=this.pure.value.replace(/[@#]__PURE__/g," "));var i=t(this.args,e,n);return i&&a(this,i)}),e(Se,h),e(Me,h),e(tt,function(e,t){var n=this.right.drop_side_effect_free(e);if(!n)return this.left.drop_side_effect_free(e,t);if(X(this.operator)){if(n===this.right)return this;var r=this.clone();return r.right=n,r}var i=this.left.drop_side_effect_free(e,t);return i?a(this,[i,n]):this.right.drop_side_effect_free(e,t)}),e(rt,function(e){return this.write_only=!this.left.has_side_effects(e),this}),e(nt,function(e){var t=this.consequent.drop_side_effect_free(e),n=this.alternative.drop_side_effect_free(e);if(t===this.consequent&&n===this.alternative)return this;if(!t)return n?o(tt,this,{operator:"||",left:this.condition,right:n}):this.condition.drop_side_effect_free(e);if(!n)return o(tt,this,{operator:"&&",left:this.condition,right:t});var r=this.clone();return r.consequent=t,r.alternative=n,r}),e(Ze,function(e,t){if(K(this.operator))return this.write_only=!this.expression.has_side_effects(e),this;if("typeof"==this.operator&&this.expression instanceof bt)return null;var n=this.expression.drop_side_effect_free(e,t);return t&&this instanceof Qe&&A(n)?n===this.expression&&1===this.operator.length?this:o(Qe,this,{operator:1===this.operator.length?this.operator:"!",expression:n}):n}),e(bt,function(e){return this.is_declared(e)?null:this}),e(ot,function(e,n){var r=t(this.properties,e,n);return r&&a(this,r)}),e(at,function(e,t){return this.value.drop_side_effect_free(e,t)}),e(it,function(e,n){var r=t(this.elements,e,n);return r&&a(this,r)}),e(Xe,function(e,t){return this.expression.may_throw_on_access(e)?this:this.expression.drop_side_effect_free(e,t)}),e(Ke,function(e,t){if(this.expression.may_throw_on_access(e))return this;var n=this.expression.drop_side_effect_free(e,t);if(!n)return this.property.drop_side_effect_free(e,t);var r=this.property.drop_side_effect_free(e);return r?a(this,[n,r]):n}),e(Ge,function(e){var t=this.expressions[this.expressions.length-1],n=t.drop_side_effect_free(e);if(n===t)return this;var r=this.expressions.slice(0,-1);return n&&d(r,n),a(this,r)})}(function(e,t){e.DEFMETHOD("drop_side_effect_free",t)}),e(le,function(e,t){if(t.option("side_effects")){var n=e.body,r=n.drop_side_effect_free(t,!0);if(!r)return t.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),o(pe,e);if(r!==n)return o(le,e,{body:r})}return e}),e(ve,function(e,t){if(!t.option("loops"))return e;var n=e.condition.evaluate(t);if(n!==e.condition){if(n)return o(be,e,{body:e.body});if(t.option("dead_code")&&e instanceof ye){var r=[];return N(t,e.body,r),o(fe,e,{body:r}).optimize(t)}if(e instanceof me){var i=!1,a=new S(function(t){return!!(t instanceof _e||i)||(t instanceof Le&&a.loopcontrol_target(t)===e?i=!0:void 0)}),s=t.parent();if((s instanceof de?s:e).walk(a),!i)return e.body}}return e instanceof ye?o(be,e,e).optimize(t):e}),e(be,function(e,t){if(!t.option("loops"))return e;if(e.condition){var n=e.condition.evaluate(t);if(t.option("dead_code")&&!n){var r=[];return e.init instanceof ae?r.push(e.init):e.init&&r.push(o(le,e.init,{body:e.init})),N(t,e.body,r),o(fe,e,{body:r}).optimize(t)}n!==e.condition&&(n=s(n,e.condition).transform(t),e.condition=O(n,e.condition))}return q(e,t),e}),e(Be,function(e,t){if(C(e.alternative)&&(e.alternative=null),!t.option("conditionals"))return e;var n=e.condition.evaluate(t);if(n!==e.condition){if(n){if(t.warn("Condition always true [{file}:{line},{col}]",e.condition.start),t.option("dead_code")){var r=[];return e.alternative&&N(t,e.alternative,r),r.push(e.body),o(fe,e,{body:r}).optimize(t)}}else if(t.warn("Condition always false [{file}:{line},{col}]",e.condition.start),t.option("dead_code")){var r=[];return N(t,e.body,r),e.alternative&&r.push(e.alternative),o(fe,e,{body:r}).optimize(t)}n=s(n,e.condition).transform(t),e.condition=O(n,e.condition)}var i=e.condition.negate(t),a=e.condition.print_to_string().length,u=i.print_to_string().length,l=u<a;if(e.alternative&&l){l=!1,e.condition=i;var c=e.body;e.body=e.alternative||o(pe,e),e.alternative=c}if(C(e.body)&&C(e.alternative))return o(le,e.condition,{body:e.condition.clone()}).optimize(t);if(e.body instanceof le&&e.alternative instanceof le)return o(le,e,{body:o(nt,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).optimize(t);if(C(e.alternative)&&e.body instanceof le)return a===u&&!l&&e.condition instanceof tt&&"||"==e.condition.operator&&(l=!0),l?o(le,e,{body:o(tt,e,{operator:"||",left:i,right:e.body.body})}).optimize(t):o(le,e,{body:o(tt,e,{operator:"&&",left:e.condition,right:e.body.body})}).optimize(t);if(e.body instanceof pe&&e.alternative instanceof le)return o(le,e,{body:o(tt,e,{operator:"||",left:e.condition,right:e.alternative.body})}).optimize(t);if(e.body instanceof Ee&&e.alternative instanceof Ee&&e.body.TYPE==e.alternative.TYPE)return o(e.body.CTOR,e,{value:o(nt,e,{condition:e.condition,consequent:e.body.value||o(Et,e.body),alternative:e.alternative.value||o(Et,e.alternative)}).transform(t)}).optimize(t);if(e.body instanceof Be&&!e.body.alternative&&!e.alternative&&(e=o(Be,e,{condition:o(tt,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),z(e.body)&&e.alternative){var f=e.alternative;return e.alternative=null,o(fe,e,{body:[e,f]}).optimize(t)}if(z(e.alternative)){var p=e.body;return e.body=e.alternative,e.condition=l?i:e.condition.negate(t),e.alternative=null,o(fe,e,{body:[e,p]}).optimize(t)}return e}),e(Pe,function(e,t){function n(e,n){n&&!z(n)?n.body=n.body.concat(e.body):N(t,e,c)}if(!t.option("switches"))return e;var r,i=e.expression.evaluate(t);if(i!==e.expression){var a=s(i,e.expression).transform(t);e.expression=O(a,e.expression)}if(!t.option("dead_code"))return e;for(var u,l,c=[],f=[],p=0,h=e.body.length;p<h&&!l;p++){if((r=e.body[p])instanceof Ie)u?n(r,f[f.length-1]):u=r;else if(i!==e.expression){var d=r.expression.evaluate(t);if(d===i){if(l=r,u){var g=f.indexOf(u);f.splice(g,1),n(u,f[g-1]),u=null}}else if(d!==r.expression){n(r,f[f.length-1]);continue}}if(z(r)){var v=f[f.length-1];z(v)&&v.body.length==r.body.length&&o(fe,v,v).equivalent_to(o(fe,r,r))&&(v.body=[])}f.push(r)}for(;p<h;)n(e.body[p++],f[f.length-1]);for(f.length>0&&(f[0].body=c.concat(f[0].body)),e.body=f;r=f[f.length-1];){var m=r.body[r.body.length-1];if(m instanceof Fe&&t.loopcontrol_target(m)===e&&r.body.pop(),r.body.length||r instanceof ze&&(u||r.expression.has_side_effects(t)))break;f.pop()===u&&(u=null)}if(0==f.length)return o(fe,e,{body:c.concat(o(le,e.expression,{body:e.expression}))}).optimize(t);if(1==f.length&&(f[0]===l||f[0]===u)){var y=!1,b=new S(function(t){if(y||t instanceof ke||t instanceof le)return!0;t instanceof Fe&&b.loopcontrol_target(t)===e&&(y=!0)});if(e.walk(b),!y)return f=f[0].body.slice(),f.unshift(o(le,e.expression,{body:e.expression})),o(fe,e,{body:f}).optimize(t)}return e}),e(qe,function(e,t){if(T(e.body,t),e.bcatch&&e.bfinally&&b(e.bfinally.body,C)&&(e.bfinally=null),b(e.body,C)){var n=[];return e.bcatch&&N(t,e.bcatch,n),e.bfinally&&(n=n.concat(e.bfinally.body)),o(fe,e,{body:n}).optimize(t)}return e}),Ve.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(e){e.value=null})}),Ve.DEFMETHOD("to_assignments",function(e){var t=e.option("reduce_vars"),n=this.definitions.reduce(function(e,n){if(n.value){var r=o(bt,n.name,n.name);e.push(o(rt,n,{operator:"=",left:r,right:n.value})),t&&(r.definition().fixed=!1)}return E(n.name.definition()),e},[]);return 0==n.length?null:a(this,n)}),e(Ve,function(e,t){return 0==e.definitions.length?o(pe,e):e}),e($e,function(e,t){var n=e.expression,r=n;if(t.option("unused")&&(r instanceof Me||t.option("reduce_vars")&&r instanceof bt&&(r=r.fixed_value())instanceof Me)&&!r.uses_arguments&&!r.uses_eval){for(var i=0,u=0,l=0,c=e.args.length;l<c;l++){var f=l>=r.argnames.length;if(f||r.argnames[l].__unused){var p=e.args[l].drop_side_effect_free(t);if(p)e.args[i++]=p;else if(!f){e.args[i++]=o(kt,e.args[l],{value:0});continue}}else e.args[i++]=e.args[l];u=i}e.args.length=u}if(t.option("unsafe"))if(D(n))switch(n.name){case"Array":if(1!=e.args.length)return o(it,e,{elements:e.args}).optimize(t);break;case"Object":if(0==e.args.length)return o(ot,e,{properties:[]});break;case"String":if(0==e.args.length)return o(Ct,e,{value:""});if(e.args.length<=1)return o(tt,e,{left:e.args[0],operator:"+",right:o(Ct,e,{value:""})}).optimize(t);break;case"Number":if(0==e.args.length)return o(kt,e,{value:0});if(1==e.args.length)return o(Qe,e,{expression:e.args[0],operator:"+"}).optimize(t);case"Boolean":if(0==e.args.length)return o(Ft,e);if(1==e.args.length)return o(Qe,e,{expression:o(Qe,e,{expression:e.args[0],operator:"!"}),operator:"!"}).optimize(t)}else if(n instanceof Xe)switch(n.property){case"toString":if(0==e.args.length)return o(tt,e,{left:o(Ct,e,{value:""}),operator:"+",right:n.expression}).optimize(t);break;case"join":if(n.expression instanceof it){var h;if(!(e.args.length>0&&(h=e.args[0].evaluate(t))===e.args[0])){var d=[],g=[];if(n.expression.elements.forEach(function(n){var r=n.evaluate(t);r!==n?g.push(r):(g.length>0&&(d.push(o(Ct,e,{value:g.join(h)})),g.length=0),d.push(n))}),g.length>0&&d.push(o(Ct,e,{value:g.join(h)})),0==d.length)return o(Ct,e,{value:""});if(1==d.length)return d[0].is_string(t)?d[0]:o(tt,d[0],{operator:"+",left:o(Ct,e,{value:""}),right:d[0]});if(""==h){var v;return v=d[0].is_string(t)||d[1].is_string(t)?d.shift():o(Ct,e,{value:""}),d.reduce(function(e,t){return o(tt,t,{operator:"+",left:e,right:t})},v).optimize(t)}var p=e.clone();return p.expression=p.expression.clone(),p.expression.expression=p.expression.expression.clone(),p.expression.expression.elements=d,I(t,e,p)}}break;case"charAt":if(n.expression.is_string(t)){var m=e.args[0],y=m?m.evaluate(t):0;if(y!==m)return o(Ke,n,{expression:n.expression,property:s(0|y,m||n)}).optimize(t)}}if(t.option("unsafe_Func")&&D(n)&&"Function"==n.name){if(0==e.args.length)return o(Me,e,{argnames:[],body:[]});if(b(e.args,function(e){return e instanceof Ct}))try{var x="n(function("+e.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+e.args[e.args.length-1].value+"})",w=H(x),_={ie8:t.option("ie8")};w.figure_out_scope(_);var k=new $(t.options);w=w.transform(k),w.figure_out_scope(_),en.reset(),w.compute_char_frequency(_),w.mangle_names(_);var M;w.walk(new S(function(e){return!!M||(e instanceof ke?(M=e,!0):void 0)}));var x=U();return fe.prototype._codegen.call(M,M,x),e.args=[o(Ct,e,{value:M.argnames.map(function(e){return e.print_to_string()}).join(",")}),o(Ct,e.args[e.args.length-1],{value:x.get().replace(/^\{|\}$/g,"")})],e}catch(n){if(!(n instanceof j))throw n;t.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),t.warn(n.toString())}}var E=r instanceof Me&&r.body[0];if(t.option("inline")&&E instanceof Te){var T=E.value;if(!T||T.is_constant_expression()){var N=e.args.concat(T||o(Et,e));return a(e,N).optimize(t)}}if(n instanceof Me){if(t.option("inline")&&!n.name&&!n.uses_arguments&&!n.uses_eval&&1==n.body.length&&!n.contains_this()&&b(n.argnames,function(e){return e.__unused})&&!e.has_pure_annotation(t)){var T;if(E instanceof Te?T=E.value:E instanceof le&&(T=o(Qe,E,{operator:"void",expression:E.body})),T){var N=e.args.concat(T);return a(e,N).optimize(t)}}if(t.option("side_effects")&&b(n.body,C)){var N=e.args.concat(o(Et,e));return a(e,N).optimize(t)}}if(t.option("drop_console")&&n instanceof Ye){for(var L=n.expression;L.expression;)L=L.expression;if(D(L)&&"console"==L.name)return o(Et,e).optimize(t)}if(t.option("negate_iife")&&t.parent()instanceof le&&A(e))return e.negate(t,!0);var F=e.evaluate(t);return F!==e?(F=s(F,e).optimize(t),I(t,F,e)):e}),e(Je,function(e,t){if(t.option("unsafe")){var n=e.expression;if(D(n))switch(n.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return o($e,e,e).transform(t)}}return e}),e(Ge,function(e,n){if(!n.option("side_effects"))return e;var r=[];!function(){var t=_(n),i=e.expressions.length-1;e.expressions.forEach(function(e,o){o<i&&(e=e.drop_side_effect_free(n,t)),e&&(d(r,e),t=!1)})}();var i=r.length-1;return function(){for(;i>0&&L(r[i],n);)i--;i<r.length-1&&(r[i]=o(Qe,e,{operator:"void",expression:r[i]}),r.length=i+1)}(),i>0&&n.option("cascade")&&function(){for(var e=0,a=1;a<=i;a++){var s=r[e],u=r[a];if(!(s=s instanceof rt&&!s.left.has_side_effects(n)?s.left:s instanceof Ze&&("++"==s.operator||"--"==s.operator)?s.expression:null)||t(s)||s.has_side_effects(n))r[++e]=u;else{var l,c=null;for(r[a]=u=u.clone();;){if(u.equivalent_to(s)){var f=r[e];f instanceof et?f=o(Qe,f,{operator:f.operator,expression:s}):f.write_only=!1,c?(c[l]=f,r[e]=r[a]):r[e]=f;break}if(u instanceof tt&&!(u instanceof rt))if(u.left.is_constant()){if(X(u.operator)){r[++e]=r[a];break}l="right"}else l="left";else if(u instanceof $e&&!(s instanceof Ye&&u.expression.equivalent_to(s))||u instanceof Ye||u instanceof Ze&&!K(u.operator))l="expression";else{if(!(u instanceof nt)){r[++e]=r[a];break}l="condition"}c=u,u=u[l]=u[l].clone()}}}i=e,r.length=i+1}(),0==i?(e=u(n.parent(),e,r[0]),e instanceof Ge||(e=e.optimize(n)),e):(e.expressions=r,e)}),Ze.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof Ge){var t=this.expression.expressions.slice(),n=this.clone();return n.expression=t.pop(),t.push(n),a(this,t).optimize(e)}return this}),e(et,function(e,t){return e.lift_sequences(t)}),e(Qe,function(e,t){var n=e.expression;if("delete"==e.operator&&!(n instanceof bt||n instanceof Ye||n instanceof Dt||n instanceof Nt||n instanceof Et))return n instanceof Ge?(n=n.expressions.slice(),n.push(o(Ot,e)),a(e,n).optimize(t)):a(e,[n,o(Ot,e)]).optimize(t);var r=e.lift_sequences(t);if(r!==e)return r;if(t.option("side_effects")&&"void"==e.operator)return n=n.drop_side_effect_free(t),n?(e.expression=n,e):o(Et,e).optimize(t);if(t.option("booleans")&&t.in_boolean_context())switch(e.operator){case"!":if(n instanceof Qe&&"!"==n.operator)return n.expression;n instanceof tt&&(e=I(t,e,n.negate(t,_(t))));break;case"typeof":return t.warn("Boolean expression always true [{file}:{line},{col}]",e.start),(n instanceof bt?o(Ot,e):a(e,[n,o(Ot,e)])).optimize(t)}if("-"==e.operator&&n instanceof Nt&&(n=n.transform(t)),n instanceof tt&&("+"==e.operator||"-"==e.operator)&&("*"==n.operator||"/"==n.operator||"%"==n.operator))return o(tt,e,{operator:n.operator,left:o(Qe,n.left,{operator:e.operator,expression:n.left}),right:n.right});if("-"!=e.operator||!(n instanceof kt||n instanceof Nt)){var i=e.evaluate(t);if(i!==e)return i=s(i,e).optimize(t),I(t,i,e)}return e}),tt.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")){if(this.left instanceof Ge){var t=this.left.expressions.slice(),n=this.clone();return n.left=t.pop(),t.push(n),a(this,t).optimize(e)}if(this.right instanceof Ge&&!this.left.has_side_effects(e)){for(var r="="==this.operator&&this.left instanceof bt,t=this.right.expressions,i=t.length-1,o=0;o<i&&(r||!t[o].has_side_effects(e));o++);if(o==i){t=t.slice();var n=this.clone();return n.right=t.pop(),t.push(n),a(this,t).optimize(e)}if(o>0){var n=this.clone();return n.right=a(this.right,t.slice(o)),t=t.slice(0,o),t.push(n),a(this,t).optimize(e)}}}return this});var Q=y("== === != !== * & | ^");e(tt,function(e,t){function n(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(t)&&!e.right.has_side_effects(t)}function r(t){if(n()){t&&(e.operator=t);var r=e.left;e.left=e.right,e.right=r}}if(Q(e.operator)&&e.right.is_constant()&&!e.left.is_constant()&&(e.left instanceof tt&&Zt[e.left.operator]>=Zt[e.operator]||r()),e=e.lift_sequences(t),t.option("comparisons"))switch(e.operator){case"===":case"!==":(e.left.is_string(t)&&e.right.is_string(t)||e.left.is_number(t)&&e.right.is_number(t)||e.left.is_boolean()&&e.right.is_boolean()||e.left.equivalent_to(e.right))&&(e.operator=e.operator.substr(0,2));case"==":case"!=":if(t.option("typeofs")&&e.left instanceof Ct&&"undefined"==e.left.value&&e.right instanceof Qe&&"typeof"==e.right.operator){var i=e.right.expression;(i instanceof bt?!i.is_declared(t):i instanceof Ye&&t.option("ie8"))||(e.right=i,e.left=o(Et,e.left).optimize(t),2==e.operator.length&&(e.operator+="="))}else if(e.left instanceof bt&&e.right instanceof bt&&e.left.definition()===e.right.definition()&&V(e.left.fixed_value()))return o("="==e.operator[0]?Ot:Ft,e)}if(t.option("booleans")&&"+"==e.operator&&t.in_boolean_context()){var l=e.left.evaluate(t),c=e.right.evaluate(t);if(l&&"string"==typeof l)return t.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),a(e,[e.right,o(Ot,e)]).optimize(t);if(c&&"string"==typeof c)return t.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),a(e,[e.left,o(Ot,e)]).optimize(t)}if(t.option("comparisons")&&e.is_boolean()){if(!(t.parent()instanceof tt)||t.parent()instanceof rt){var f=o(Qe,e,{operator:"!",expression:e.negate(t,_(t))});e=I(t,e,f)}if(t.option("unsafe_comps"))switch(e.operator){case"<":r(">");break;case"<=":r(">=")}}if("+"==e.operator){if(e.right instanceof Ct&&""==e.right.getValue()&&e.left.is_string(t))return e.left;if(e.left instanceof Ct&&""==e.left.getValue()&&e.right.is_string(t))return e.right;if(e.left instanceof tt&&"+"==e.left.operator&&e.left.left instanceof Ct&&""==e.left.left.getValue()&&e.right.is_string(t))return e.left=e.left.right,e.transform(t)}if(t.option("evaluate")){switch(e.operator){case"&&":var l=e.left.evaluate(t);if(!l)return t.warn("Condition left of && always false [{file}:{line},{col}]",e.start),u(t.parent(),e,e.left).optimize(t);if(l!==e.left)return t.warn("Condition left of && always true [{file}:{line},{col}]",e.start),u(t.parent(),e,e.right).optimize(t);if(t.option("booleans")&&t.in_boolean_context()){var c=e.right.evaluate(t);if(!c)return t.warn("Boolean && always false [{file}:{line},{col}]",e.start),a(e,[e.left,o(Ft,e)]).optimize(t);if(c!==e.right)return t.warn("Dropping side-effect-free && in boolean context [{file}:{line},{col}]",e.start),e.left.optimize(t)}break;case"||":var l=e.left.evaluate(t);if(!l)return t.warn("Condition left of || always false [{file}:{line},{col}]",e.start),u(t.parent(),e,e.right).optimize(t);if(l!==e.left)return t.warn("Condition left of || always true [{file}:{line},{col}]",e.start),u(t.parent(),e,e.left).optimize(t);if(t.option("booleans")&&t.in_boolean_context()){var c=e.right.evaluate(t);if(!c)return t.warn("Dropping side-effect-free || in boolean context [{file}:{line},{col}]",e.start),e.left.optimize(t);if(c!==e.right)return t.warn("Boolean || always true [{file}:{line},{col}]",e.start),a(e,[e.left,o(Ot,e)]).optimize(t)}}var p=!0;switch(e.operator){case"+":if(e.left instanceof _t&&e.right instanceof tt&&"+"==e.right.operator&&e.right.left instanceof _t&&e.right.is_string(t)&&(e=o(tt,e,{operator:"+",left:o(Ct,e.left,{value:""+e.left.getValue()+e.right.left.getValue(),start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof _t&&e.left instanceof tt&&"+"==e.left.operator&&e.left.right instanceof _t&&e.left.is_string(t)&&(e=o(tt,e,{operator:"+",left:e.left.left,right:o(Ct,e.right,{value:""+e.left.right.getValue()+e.right.getValue(),start:e.left.right.start,end:e.right.end})})),e.left instanceof tt&&"+"==e.left.operator&&e.left.is_string(t)&&e.left.right instanceof _t&&e.right instanceof tt&&"+"==e.right.operator&&e.right.left instanceof _t&&e.right.is_string(t)&&(e=o(tt,e,{operator:"+",left:o(tt,e.left,{operator:"+",left:e.left.left,right:o(Ct,e.left.right,{value:""+e.left.right.getValue()+e.right.left.getValue(),start:e.left.right.start,end:e.right.left.end})}),right:e.right.right})),e.right instanceof Qe&&"-"==e.right.operator&&e.left.is_number(t)){e=o(tt,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof Qe&&"-"==e.left.operator&&n()&&e.right.is_number(t)){e=o(tt,e,{operator:"-",left:e.right,right:e.left.expression});break}case"*":p=t.option("unsafe_math");case"&":case"|":case"^":if(e.left.is_number(t)&&e.right.is_number(t)&&n()&&!(e.left instanceof tt&&e.left.operator!=e.operator&&Zt[e.left.operator]>=Zt[e.operator])){var h=o(tt,e,{operator:e.operator,left:e.right,right:e.left});e=e.right instanceof _t&&!(e.left instanceof _t)?I(t,h,e):I(t,e,h)}p&&e.is_number(t)&&(e.right instanceof tt&&e.right.operator==e.operator&&(e=o(tt,e,{operator:e.operator,left:o(tt,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof _t&&e.left instanceof tt&&e.left.operator==e.operator&&(e.left.left instanceof _t?e=o(tt,e,{operator:e.operator,left:o(tt,e.left,{operator:e.operator,left:e.left.left,right:e.right,start:e.left.left.start,end:e.right.end}),right:e.left.right}):e.left.right instanceof _t&&(e=o(tt,e,{operator:e.operator,left:o(tt,e.left,{operator:e.operator,left:e.left.right,right:e.right,start:e.left.right.start,end:e.right.end}),right:e.left.left}))),e.left instanceof tt&&e.left.operator==e.operator&&e.left.right instanceof _t&&e.right instanceof tt&&e.right.operator==e.operator&&e.right.left instanceof _t&&(e=o(tt,e,{operator:e.operator,left:o(tt,e.left,{operator:e.operator,left:o(tt,e.left.left,{operator:e.operator,left:e.left.right,right:e.right.left,start:e.left.right.start,end:e.right.left.end}),right:e.left.left}),right:e.right.right})))}}if(e.right instanceof tt&&e.right.operator==e.operator&&(X(e.operator)||"+"==e.operator&&(e.right.left.is_string(t)||e.left.is_string(t)&&e.right.right.is_string(t))))return e.left=o(tt,e.left,{operator:e.operator,left:e.left,right:e.right.left}),e.right=e.right.right,e.transform(t);var d=e.evaluate(t);return d!==e?(d=s(d,e).optimize(t),I(t,d,e)):e}),e(bt,function(e,t){var n=e.resolve_defines(t);if(n)return n.optimize(t);if(!t.option("ie8")&&D(e)&&(!e.scope.uses_with||!t.find_parent(we)))switch(e.name){case"undefined":return o(Et,e).optimize(t);case"NaN":return o(Dt,e).optimize(t);case"Infinity":return o(Nt,e).optimize(t)}if(t.option("reduce_vars")&&F(e,t.parent())!==e){var r=e.definition(),i=e.fixed_value();if(i instanceof Ae&&(r.fixed=i=o(Me,i,i)),r.single_use&&i instanceof Me)if(r.scope===e.scope||t.option("reduce_funcs")&&!r.escaped&&!i.inlined){if(W(t,r))r.single_use=!1;else if((r.scope!==e.scope||r.orig[0]instanceof dt)&&(r.single_use=i.is_constant_expression(e.scope),"f"==r.single_use)){var a=e.scope;do{(a instanceof Ae||a instanceof Me)&&(a.inlined=!0)}while(a=a.parent_scope)}}else r.single_use=!1;if(r.single_use&&i){var u=i.optimize(t);return u===i?i.clone(!0):u}if(i&&void 0===r.should_replace){var l;if(i instanceof wt)r.orig[0]instanceof dt||!b(r.references,function(e){return r.scope===e.scope})||(l=i);else{var c=i.evaluate(t);c===i||!t.option("unsafe_regexp")&&c instanceof RegExp||(l=s(c,i))}if(l){var f,p=l.optimize(t).print_to_string().length;!function(e){var t;return e.walk(new S(function(e){if(e instanceof bt&&(t=!0),t)return!0})),t}(i)?(p=Math.min(p,i.print_to_string().length),f=function(){var e=O(l.optimize(t),i);return e===l||e===i?e.clone(!0):e}):f=function(){var e=l.optimize(t);return e===l?e.clone(!0):e};var h=r.name.length,d=0;t.option("unused")&&!t.exposed(r)&&(d=(h+2+p)/r.references.length),r.should_replace=p<=h+d&&f}else r.should_replace=!1}if(r.should_replace)return r.should_replace()}return e}),e(Et,function(e,t){if(t.option("unsafe")){var n=i(t,"undefined");if(n){var r=o(bt,e,{name:"undefined",scope:n.scope,thedef:n});return r.is_undefined=!0,r}}var a=F(t.self(),t.parent());return a&&J(a,e)?e:o(Qe,e,{operator:"void",expression:o(kt,e,{value:0})})}),e(Nt,function(e,t){var n=F(t.self(),t.parent());return n&&J(n,e)?e:!t.option("keep_infinity")||n&&!J(n,e)||i(t,"Infinity")?o(tt,e,{operator:"/",left:o(kt,e,{value:1}),right:o(kt,e,{value:0})}):e}),e(Dt,function(e,t){var n=F(t.self(),t.parent());return n&&!J(n,e)||i(t,"NaN")?o(tt,e,{operator:"/",left:o(kt,e,{value:0}),right:o(kt,e,{value:0})}):e});var ee=["+","-","/","*","%",">>","<<",">>>","|","^","&"],te=["*","|","^","&"];e(rt,function(e,t){return e=e.lift_sequences(t),"="==e.operator&&e.left instanceof bt&&e.right instanceof tt&&(e.right.left instanceof bt&&e.right.left.name==e.left.name&&n(e.right.operator,ee)?(e.operator=e.right.operator+"=",e.right=e.right.right):e.right.right instanceof bt&&e.right.right.name==e.left.name&&n(e.right.operator,te)&&!e.right.left.has_side_effects(t)&&(e.operator=e.right.operator+"=",e.right=e.right.left)),e}),e(nt,function(e,t){function n(e){return e.is_boolean()?e:o(Qe,e,{operator:"!",expression:e.negate(t)})}function r(e){return e instanceof Ot||e instanceof Qe&&"!"==e.operator&&e.expression instanceof _t&&!e.expression.value}function i(e){return e instanceof Ft||e instanceof Qe&&"!"==e.operator&&e.expression instanceof _t&&!!e.expression.value}if(!t.option("conditionals"))return e;if(e.condition instanceof Ge){var s=e.condition.expressions.slice();return e.condition=s.pop(),s.push(e),
a(e,s)}var l=e.condition.evaluate(t);if(l!==e.condition)return l?(t.warn("Condition always true [{file}:{line},{col}]",e.start),u(t.parent(),e,e.consequent)):(t.warn("Condition always false [{file}:{line},{col}]",e.start),u(t.parent(),e,e.alternative));var c=l.negate(t,_(t));I(t,l,c)===c&&(e=o(nt,e,{condition:c,consequent:e.alternative,alternative:e.consequent}));var f=e.condition,p=e.consequent,h=e.alternative;return f instanceof bt&&p instanceof bt&&f.definition()===p.definition()?o(tt,e,{operator:"||",left:f,right:h}):p instanceof rt&&h instanceof rt&&p.operator==h.operator&&p.left.equivalent_to(h.left)&&(!e.condition.has_side_effects(t)||"="==p.operator&&!p.left.has_side_effects(t))?o(rt,e,{operator:p.operator,left:p.left,right:o(nt,e,{condition:e.condition,consequent:p.right,alternative:h.right})}):p instanceof $e&&h.TYPE===p.TYPE&&1==p.args.length&&1==h.args.length&&p.expression.equivalent_to(h.expression)&&!p.expression.has_side_effects(t)?(p.args[0]=o(nt,e,{condition:e.condition,consequent:p.args[0],alternative:h.args[0]}),p):p instanceof nt&&p.alternative.equivalent_to(h)?o(nt,e,{condition:o(tt,e,{left:e.condition,operator:"&&",right:p.condition}),consequent:p.consequent,alternative:h}):p.equivalent_to(h)?a(e,[e.condition,p]).optimize(t):r(e.consequent)?i(e.alternative)?n(e.condition):o(tt,e,{operator:"||",left:n(e.condition),right:e.alternative}):i(e.consequent)?r(e.alternative)?n(e.condition.negate(t)):o(tt,e,{operator:"&&",left:n(e.condition.negate(t)),right:e.alternative}):r(e.alternative)?o(tt,e,{operator:"||",left:n(e.condition.negate(t)),right:e.consequent}):i(e.alternative)?o(tt,e,{operator:"&&",left:n(e.condition),right:e.consequent}):e}),e(Lt,function(e,t){if(t.option("booleans")){var n=t.parent();return n instanceof tt&&("=="==n.operator||"!="==n.operator)?(t.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:n.operator,value:e.value,file:n.start.file,line:n.start.line,col:n.start.col}),o(kt,e,{value:+e.value})):o(Qe,e,{operator:"!",expression:o(kt,e,{value:1-e.value})})}return e}),e(Ke,function(e,t){var n=e.expression,r=e.property;if(t.option("properties")){var i=r.evaluate(t);if(i!==r){var u=""+i;if(B(u)&&u.length<=r.print_to_string().length+1)return o(Xe,e,{expression:n,property:u}).optimize(t);if(!(r instanceof kt)){var l=parseFloat(u);l.toString()==u&&(r=e.property=o(kt,r,{value:l}))}}}if(F(e,t.parent()))return e;if(i!==r){var c=e.flatten_object(u,t);c&&(n=e.expression=c.expression,r=e.property=c.property)}if(t.option("properties")&&t.option("side_effects")&&r instanceof kt&&n instanceof it){var f=r.getValue(),p=n.elements;if(f in p){for(var h=!0,d=[],g=p.length;--g>f;){var l=p[g].drop_side_effect_free(t);l&&(d.unshift(l),h&&l.has_side_effects(t)&&(h=!1))}var v=p[f];for(v=v instanceof Tt?o(Et,v):v,h||d.unshift(v);--g>=0;){var l=p[g].drop_side_effect_free(t);l?d.unshift(l):f--}return h?(d.push(v),a(e,d).optimize(t)):o(Ke,e,{expression:o(it,n,{elements:d}),property:o(kt,r,{value:f})})}}var m=e.evaluate(t);return m!==e?(m=s(m,e).optimize(t),I(t,m,e)):e}),ke.DEFMETHOD("contains_this",function(e){if(e instanceof Je)return!1;var t,n=this;return n.walk(new S(function(e){return!!t||(e instanceof wt?t=!0:e!==n&&e instanceof _e||void 0)})),t}),Ye.DEFMETHOD("flatten_object",function(e,t){if(t.option("properties")){var n=this.expression;if(n instanceof ot)for(var r=n.properties,i=r.length;--i>=0;){var a=r[i];if(""+a.key==e){if(!b(r,function(e){return e instanceof st}))break;var s=a.value;if(s instanceof Me&&s.contains_this(t.parent()))break;return o(Ke,this,{expression:o(it,n,{elements:r.map(function(e){return e.value})}),property:o(kt,this,{value:i})})}}}}),e(Xe,function(e,t){var n=e.resolve_defines(t);if(n)return n.optimize(t);if(t.option("unsafe_proto")&&e.expression instanceof Xe&&"prototype"==e.expression.property){var r=e.expression.expression;if(D(r))switch(r.name){case"Array":e.expression=o(it,e.expression,{elements:[]});break;case"Object":e.expression=o(ot,e.expression,{properties:[]});break;case"String":e.expression=o(Ct,e.expression,{value:""})}}if(F(e,t.parent()))return e;var i=e.flatten_object(e.property,t);if(i)return i.optimize(t);var a=e.evaluate(t);return a!==e?(a=s(a,e).optimize(t),I(t,a,e)):e}),e(it,G),e(ot,G),e(St,G),e(Te,function(e,t){return e.value&&L(e.value,t)&&(e.value=null),e}),e(Ue,function(e,t){var n=t.option("global_defs");return n&&w(n,e.name.name)&&t.warn("global_defs "+e.name.name+" redefined [{file}:{line},{col}]",e.start),e})}(),function(){function t(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function n(e){var n=e.loc,r=n&&n.start,i=e.range;return new ie({file:n&&n.source,line:r&&r.line,col:r&&r.column,pos:i?i[0]:e.start,endline:r&&r.line,endcol:r&&r.column,endpos:i?i[0]:e.start,raw:t(e)})}function r(e){var n=e.loc,r=n&&n.end,i=e.range;return new ie({file:n&&n.source,line:r&&r.line,col:r&&r.column,pos:i?i[1]:e.end,endline:r&&r.line,endcol:r&&r.column,endpos:i?i[1]:e.end,raw:t(e)})}function i(t,i,a){var f="function From_Moz_"+t+"(M){\n";f+="return new U2."+i.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var h="function To_Moz_"+t+"(M){\n";h+="return {\ntype: "+JSON.stringify(t),a&&a.split(/\s*,\s*/).forEach(function(e){var t=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!t)throw new Error("Can't understand property map: "+e);var n=t[1],r=t[2],i=t[3];switch(f+=",\n"+i+": ",h+=",\n"+n+": ",r){case"@":f+="M."+n+".map(from_moz)",h+="M."+i+".map(to_moz)";break;case">":f+="from_moz(M."+n+")",h+="to_moz(M."+i+")";break;case"=":f+="M."+n,h+="M."+i;break;case"%":f+="from_moz(M."+n+").body",h+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),f+="\n})\n}",h+="\n}\n}",f=new Function("U2","my_start_token","my_end_token","from_moz","return("+f+")")(e,n,r,o),h=new Function("to_moz","to_moz_block","to_moz_scope","return("+h+")")(u,l,c),p[t]=f,s(i,h)}function o(e){h.push(e);var t=null!=e?p[e.type](e):null;return h.pop(),t}function a(e,t,n){var r=e.start,i=e.end;return null!=r.pos&&null!=i.endpos&&(t.range=[r.pos,i.endpos]),r.line&&(t.loc={start:{line:r.line,column:r.col},end:i.endline?{line:i.endline,column:i.endcol}:null},r.file&&(t.loc.source=r.file)),t}function s(e,t){e.DEFMETHOD("to_mozilla_ast",function(){return a(this,t(this))})}function u(e){return null!=e?e.to_mozilla_ast():null}function l(e){return{type:"BlockStatement",body:e.body.map(u)}}function c(e,t){var n=t.body.map(u);return t.body[0]instanceof le&&t.body[0].body instanceof Ct&&n.unshift(u(new pe(t.body[0]))),{type:e,body:n}}var f=function(e){for(var t=!0,n=0;n<e.length;n++)t&&e[n]instanceof ae&&e[n].body instanceof Ct?e[n]=new ue({start:e[n].start,end:e[n].end,value:e[n].body.value}):!t||e[n]instanceof ae&&e[n].body instanceof Ct||(t=!1);return e},p={Program:function(e){return new Ce({start:n(e),end:r(e),body:f(e.body.map(o))})},FunctionDeclaration:function(e){return new Ae({start:n(e),end:r(e),name:o(e.id),argnames:e.params.map(o),body:f(o(e.body).body)})},FunctionExpression:function(e){return new Me({start:n(e),end:r(e),name:o(e.id),argnames:e.params.map(o),body:f(o(e.body).body)})},ExpressionStatement:function(e){return new le({start:n(e),end:r(e),body:o(e.expression)})},TryStatement:function(e){var t=e.handlers||[e.handler];if(t.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new qe({start:n(e),end:r(e),body:o(e.block).body,bcatch:o(t[0]),bfinally:e.finalizer?new Re(o(e.finalizer)):null})},Property:function(e){var t=e.key,i={start:n(t),end:r(e.value),key:"Identifier"==t.type?t.name:t.value,value:o(e.value)};return"init"==e.kind?new st(i):(i.key=new ft({name:i.key}),i.value=new Se(i.value),"get"==e.kind?new lt(i):"set"==e.kind?new ut(i):void 0)},ArrayExpression:function(e){return new it({start:n(e),end:r(e),elements:e.elements.map(function(e){return null===e?new Tt:o(e)})})},ObjectExpression:function(e){return new ot({start:n(e),end:r(e),properties:e.properties.map(function(e){return e.type="Property",o(e)})})},SequenceExpression:function(e){return new Ge({start:n(e),end:r(e),expressions:e.expressions.map(o)})},MemberExpression:function(e){return new(e.computed?Ke:Xe)({start:n(e),end:r(e),property:e.computed?o(e.property):e.property.name,expression:o(e.object)})},SwitchCase:function(e){return new(e.test?ze:Ie)({start:n(e),end:r(e),expression:o(e.test),body:e.consequent.map(o)})},VariableDeclaration:function(e){return new We({start:n(e),end:r(e),definitions:e.declarations.map(o)})},Literal:function(e){var t=e.value,i={start:n(e),end:r(e)};if(null===t)return new At(i);switch(typeof t){case"string":return i.value=t,new Ct(i);case"number":return i.value=t,new kt(i);case"boolean":return new(t?Ot:Ft)(i);default:var o=e.regex;return o&&o.pattern?i.value=new RegExp(o.pattern,o.flags).toString():i.value=e.regex&&e.raw?e.raw:t,new St(i)}},Identifier:function(e){var t=h[h.length-2];return new("LabeledStatement"==t.type?yt:"VariableDeclarator"==t.type&&t.id===e?ht:"FunctionExpression"==t.type?t.id===e?vt:dt:"FunctionDeclaration"==t.type?t.id===e?gt:dt:"CatchClause"==t.type?mt:"BreakStatement"==t.type||"ContinueStatement"==t.type?xt:bt)({start:n(e),end:r(e),name:e.name})}};p.UpdateExpression=p.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?Qe:et)({start:n(e),end:r(e),operator:e.operator,expression:o(e.argument)})},i("EmptyStatement",pe),i("BlockStatement",fe,"body@body"),i("IfStatement",Be,"test>condition, consequent>body, alternate>alternative"),i("LabeledStatement",de,"label>label, body>body"),i("BreakStatement",Fe,"label>label"),i("ContinueStatement",Oe,"label>label"),i("WithStatement",we,"object>expression, body>body"),i("SwitchStatement",Pe,"discriminant>expression, cases@body"),i("ReturnStatement",Te,"argument>value"),i("ThrowStatement",Ne,"argument>value"),i("WhileStatement",ye,"test>condition, body>body"),i("DoWhileStatement",me,"test>condition, body>body"),i("ForStatement",be,"init>init, test>condition, update>step, body>body"),i("ForInStatement",xe,"left>init, right>object, body>body"),i("DebuggerStatement",se),i("VariableDeclarator",Ue,"id>name, init>value"),i("CatchClause",He,"param>argname, body%body"),i("ThisExpression",wt),i("BinaryExpression",tt,"operator=operator, left>left, right>right"),i("LogicalExpression",tt,"operator=operator, left>left, right>right"),i("AssignmentExpression",rt,"operator=operator, left>left, right>right"),i("ConditionalExpression",nt,"test>condition, consequent>consequent, alternate>alternative"),i("NewExpression",Je,"callee>expression, arguments@args"),i("CallExpression",$e,"callee>expression, arguments@args"),s(Ce,function(e){return c("Program",e)}),s(Ae,function(e){return{type:"FunctionDeclaration",id:u(e.name),params:e.argnames.map(u),body:c("BlockStatement",e)}}),s(Me,function(e){return{type:"FunctionExpression",id:u(e.name),params:e.argnames.map(u),body:c("BlockStatement",e)}}),s(ue,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),s(le,function(e){return{type:"ExpressionStatement",expression:u(e.body)}}),s(je,function(e){return{type:"SwitchCase",test:u(e.expression),consequent:e.body.map(u)}}),s(qe,function(e){return{type:"TryStatement",block:l(e),handler:u(e.bcatch),guardedHandlers:[],finalizer:u(e.bfinally)}}),s(He,function(e){return{type:"CatchClause",param:u(e.argname),guard:null,body:l(e)}}),s(Ve,function(e){return{type:"VariableDeclaration",kind:"var",declarations:e.definitions.map(u)}}),s(Ge,function(e){return{type:"SequenceExpression",expressions:e.expressions.map(u)}}),s(Ye,function(e){var t=e instanceof Ke;return{type:"MemberExpression",object:u(e.expression),computed:t,property:t?u(e.property):{type:"Identifier",name:e.property}}}),s(Ze,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof Qe,argument:u(e.expression)}}),s(tt,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:u(e.left),operator:e.operator,right:u(e.right)}}),s(it,function(e){return{type:"ArrayExpression",elements:e.elements.map(u)}}),s(ot,function(e){return{type:"ObjectExpression",properties:e.properties.map(u)}}),s(at,function(e){var t,n={type:"Literal",value:e.key instanceof ft?e.key.name:e.key};return e instanceof st?t="init":e instanceof lt?t="get":e instanceof ut&&(t="set"),{type:"Property",kind:t,key:n,value:u(e.value)}}),s(ct,function(e){var t=e.definition();return{type:"Identifier",name:t?t.mangled_name||t.name:e.name}}),s(St,function(e){var t=e.value;return{type:"Literal",value:t,raw:t.toString(),regex:{pattern:t.source,flags:t.toString().match(/[gimuy]*$/)[0]}}}),s(_t,function(e){var t=e.value;return"number"==typeof t&&(t<0||0===t&&1/t<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-t,raw:e.start.raw}}:{type:"Literal",value:t,raw:e.start.raw}}),s(Mt,function(e){return{type:"Identifier",name:String(e.value)}}),Lt.DEFMETHOD("to_mozilla_ast",_t.prototype.to_mozilla_ast),At.DEFMETHOD("to_mozilla_ast",_t.prototype.to_mozilla_ast),Tt.DEFMETHOD("to_mozilla_ast",function(){return null}),ce.DEFMETHOD("to_mozilla_ast",fe.prototype.to_mozilla_ast),ke.DEFMETHOD("to_mozilla_ast",Me.prototype.to_mozilla_ast);var h=null;oe.from_mozilla_ast=function(e){var t=h;h=[];var n=o(e);return h=t,n}}();var nn="undefined"==typeof atob?function(e){return new Buffer(e,"base64").toString()}:atob,rn="undefined"==typeof btoa?function(e){return new Buffer(e).toString("base64")}:btoa;e.Dictionary=x,e.TreeWalker=S,e.TreeTransformer=R,e.minify=ne,e._push_uniq=d}("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS);var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t,r){void 0===e&&(e=[]);var i=e;return n(i),t&&(i.identityFields=t),r&&(i.source=r),i}function n(e,t){e.grouped=t?function(){return t}:function(){return r(e)}}function r(e){for(var t,n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(!t||t.identity!==o.identity){if(t={values:[]},o.identity){t.identity=o.identity;var a=o.source;void 0!==a.groupName?t.name=a.groupName:a.displayName&&(t.name=a.displayName)}n.push(t)}t.values.push(o)}return n}e.createValueColumns=t,e.setGrouped=n,e.groupValues=r}(e.DataViewTransform||(e.DataViewTransform={}))}(e.dataview||(e.dataview={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t){if(!e||!e.length)return-1;var n=e[0];if(n.values&&n.values.length>0)for(var i=0,o=n.values.length;i<o;++i){var a=n.values[i];if(a&&a.source&&r(a.source,t))return i}return-1}function n(e,t){if(e&&e.length)for(var n=0,i=e.length;n<i;n++)if(r(e[n].source,t))return n;return-1}function r(e,t){var n=e.roles;return n&&n[t]}function i(e,t){return null!=e&&null!=e.metadata&&e.metadata.columns&&e.metadata.columns.some(function(e){return e.roles&&void 0!==e.roles[t]})}function o(e,t){return e&&e.source&&e.source.roles&&!0===e.source.roles[t]}e.getMeasureIndexOfRole=t,e.getCategoryIndexOfRole=n,e.hasRole=r,e.hasRoleInDataView=i,e.hasRoleInValueColumn=o}(e.DataRoleHelper||(e.DataRoleHelper={}))}(e.dataview||(e.dataview={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t,n){if(!e)return n;var r=e[t];return void 0===r?n:r}function n(e,n,r){var i=t(e,n);return i&&i.solid?i.solid.color:r}e.getValue=t,e.getFillColorByPropertyName=n}(e.DataViewObject||(e.DataViewObject={}))}(e.dataview||(e.dataview={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(t){function n(t,n,r){return t?e.DataViewObject.getValue(t[n.objectName],n.propertyName,r):r}function r(e,t,n){return e&&e[t]?e[t]:n}function i(e,t,r){var i=n(e,t);return i&&i.solid?i.solid.color:r}function o(e,t,r){var i=n(e,t,r);return i&&i.solid?i.solid.color:void 0===i||null===i||"object"==typeof i&&!i.solid?r:i}t.getValue=n,t.getObject=r,t.getFillColor=i,t.getCommonValue=o}(e.DataViewObjects||(e.DataViewObjects={}))}(e.dataview||(e.dataview={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){var n=e.extensibility.utils.dataview.DataRoleHelper;!function(e){function t(e,t,r){if(e.categories&&e.categories.length>0){var i=e.categories[0];return i.source&&n.hasRole(i.source,t)&&n.hasRole(i.source,r)}return!1}function r(e){return void 0!==e.groupName?e.groupName:e.queryName}function i(e){var t=a(e);return null!=t&&!0===t.imageUrl}function o(e){var t=a(e);return null!=t&&!0===t.webUrl}function a(e){return e&&e.type&&e.type.misc}function s(e){return!!(e&&e.metadata&&e.metadata.columns&&e.metadata.columns.length)&&e.metadata.columns.some(function(e){return!0===i(e)})}e.categoryIsAlsoSeriesRole=t,e.getSeriesName=r,e.isImageUrlColumn=i,e.isWebUrlColumn=o,e.getMiscellaneousTypeDescriptor=a,e.hasImageUrlColumn=s}(t.converterHelper||(t.converterHelper={}))}(t.dataview||(t.dataview={}))}(t.utils||(t.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){var t=function(){function t(){}return t.getDefault=function(){return new this},t.createPropertyIdentifier=function(e,t){return{objectName:e,propertyName:t}},t.parse=function(t){var n,r=this.getDefault();if(!t||!t.metadata||!t.metadata.objects)return r;n=r.getProperties();for(var i in n)for(var o in n[i]){var a=r[i][o];r[i][o]=e.DataViewObjects.getCommonValue(t.metadata.objects,n[i][o],a)}return r},t.isPropertyEnumerable=function(e){return!t.InnumerablePropertyPrefix.test(e)},t.enumerateObjectInstances=function(e,t){var n=e&&e[t.objectName];if(!n)return[];var r={objectName:t.objectName,selector:null,properties:{}};for(var i in n)n.hasOwnProperty(i)&&(r.properties[i]=n[i]);return{instances:[r]}},t.prototype.getProperties=function(){var e=this,n={};return Object.keys(this).forEach(function(r){if(t.isPropertyEnumerable(r)){var i=Object.keys(e[r]);n[r]={},i.forEach(function(e){t.isPropertyEnumerable(r)&&(n[r][e]=t.createPropertyIdentifier(r,e))})}}),n},t}();t.InnumerablePropertyPrefix=/^_/,e.DataViewObjectsParser=t}(e.dataview||(e.dataview={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(t){return t>=0?t<e.POSITIVE_POWERS.length?e.POSITIVE_POWERS[t]:1/0:(t=-t,t>0&&t<e.NEGATIVE_POWERS.length?e.NEGATIVE_POWERS[t]:0)}function n(t){if(t>1&&t<1e16)return t<1e8?t<1e4?t<100?t<10?0:1:t<1e3?2:3:t<1e6?t<1e5?4:5:t<1e7?6:7:t<1e12?t<1e10?t<1e9?8:9:t<1e11?10:11:t<1e14?t<1e13?12:13:t<1e15?14:15;if(t>1e-16&&t<1)return t<1e-8?t<1e-12?t<1e-14?t<1e-15?-16:-15:t<1e-13?-14:-13:t<1e-10?t<1e-11?-12:-11:t<1e-9?-10:-9:t<1e-4?t<1e-6?t<1e-7?-8:-7:t<1e-5?-6:-5:t<.01?t<.001?-4:-3:t<.1?-2:-1;var n=Math.log(t)/e.LOG_E_10;return e.floorWithPrecision(n)}function r(t,n){if(void 0===n&&(n=e.DEFAULT_PRECISION_IN_DECIMAL_DIGITS),t&&isFinite(t)){var r=e.log10(Math.abs(t));if(r<e.MIN_EXP)return 0;var i=Math.max(r-n,1-e.NEGATIVE_POWERS.length);return e.pow10(i)}}function i(e,t,n){return n=x(n,e,t),e===t||Math.abs(e-t)<n}function o(e,t,n){return n=x(n,e,t),e<t&&Math.abs(e-t)>n}function a(e,t,n){return n=x(n,e,t),e<t||Math.abs(e-t)<n}function s(e,t,n){return n=x(n,e,t),e>t&&Math.abs(e-t)>n}function u(e,t,n){return n=x(n,e,t),e>t||Math.abs(e-t)<n}function l(t,n){n=null!=n?n:e.DEFAULT_PRECISION;var r=Math.round(t);return Math.abs(t-r)<n?r:Math.floor(t)}function c(t,n){n=x(n,e.DEFAULT_PRECISION);var r=Math.round(t);return Math.abs(t-r)<n?r:Math.ceil(t)}function f(t,n){return n=x(n,e.DEFAULT_PRECISION),0===n||0===t?t:Math.floor(t/n)*n}function p(t,n){return n=x(n,e.DEFAULT_PRECISION),0===n||0===t?t:Math.ceil(t/n)*n}function h(t,n){if(0===(n=x(n,e.DEFAULT_PRECISION))||0===t)return t;var r=Math.round(t/n)*n,i=Math.round(e.log10(Math.abs(t))-e.log10(n))+1;return i>0&&i<16&&(r=parseFloat(r.toPrecision(i))),r}function d(e,t,n){return void 0===e||null===e?e:e<t?t:e>n?n:e}function g(e){return.5+e<<0}function v(e,t,n,r,i){return 0===n||0===i?t<=e&&e<=t+n?r:NaN:r+(e-t)/n*i}function m(e){return h(e,r(e))}function y(e){return null!==e&&e%1==0}function b(e,t){return Math.round(e/t)*t}function x(t,n,r){if(void 0!==t)return t;return(r?n?e.getPrecision(Math.min(Math.abs(n),Math.abs(r))):e.getPrecision(r):e.getPrecision(n))||e.DEFAULT_PRECISION}e.MIN_VALUE=-Number.MAX_VALUE,e.MAX_VALUE=Number.MAX_VALUE,e.MIN_EXP=-308,e.MAX_EXP=308,e.EPSILON=1e-323,e.DEFAULT_PRECISION=1e-4,e.DEFAULT_PRECISION_IN_DECIMAL_DIGITS=12,e.LOG_E_10=Math.log(10),e.POSITIVE_POWERS=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],e.NEGATIVE_POWERS=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0],e.pow10=t,e.log10=n,e.getPrecision=r,e.equalWithPrecision=i,e.lessWithPrecision=o,e.lessOrEqualWithPrecision=a,e.greaterWithPrecision=s,e.greaterOrEqualWithPrecision=u,e.floorWithPrecision=l,e.ceilWithPrecision=c,e.floorToPrecision=f,e.ceilToPrecision=p,e.roundToPrecision=h,e.ensureInRange=d,e.round=g,e.project=v,e.removeDecimalNoise=m,e.isInteger=y,e.toIncrement=b,e.detectPrecision=x}(e.Double||(e.Double={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t){function n(){}n.prototype=e;var r=new n;return t&&t(r),r}function n(e){var n=Object.getPrototypeOf(e);return n!==Object.prototype&&n!==Array.prototype||(e=t(e)),e}function r(e,n){if(e){for(var r,i=0,o=e.length;i<o;i++){var a=n(e[i]);a&&(r||(r=t(e)),r[i]=a)}return r}}e.inherit=t,e.inheritSingle=n,e.overrideArray=r}(e.Prototype||(e.Prototype={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t){for(var n=[],r=e.length-1;r>=0;--r)-1!==t.indexOf(e[r])&&n.push(e[r]);return n}function n(e,t){for(var n=[],r=e.length-1;r>=0;--r){var i=e[r];-1===t.indexOf(i)&&n.push(i)}return n}function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];-1===t.indexOf(i)&&t.push(i)}return t}function i(e,t){for(var n=0,r=t.length;n<r;++n)o(e,t[n])}function o(e,t){e.indexOf(t)<0&&e.push(t)}function a(e,t,n){for(var r=[],i=t;i<=n;++i)r.push(e[i]);return r}function s(e,t){for(var n=[],r=0;r<t;++r)n.push(e[r]);return n}function u(e){return s(e,e.length)}function l(e,t,n){if(e||(e=null),t||(t=null),e===t)return!0;if(!!e!=!!t)return!1;var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r&&n(e[i],t[i]);)++i;return i===r}function c(e){return e&&0===e.length?null:e}function f(e,t){for(var n=0,r=e.length;n<r;++n)if(t(e[n]))return n;return-1}function p(e,t){if(0===t)return e.slice();var n=e.slice(t);return Array.prototype.push.apply(n,e.slice(0,t)),n}function h(){return d([])}function d(e){var t=e;return t.withId=v,t}function g(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i.id===t)return i}}function v(t){return e.findWithId(this,t)}function m(){return y([])}function y(e){var t=e;return t.withName=C,t}function b(e,t){var n=x(e,t);if(n>=0)return e[n]}function x(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n].name===t)return n}return-1}function w(e,t){for(var n=e.length,r=n-1;r>=0;r--){var i=e[r]-t;if(0===i)return!1;if(!(i>0))return e.splice(r+1,0,t),!0}return e.unshift(t),!0}function _(e,t){var n=e.indexOf(t);return!(n<0)&&(e.splice(n,1),!0)}function C(e){return b(this,e)}function k(e){if(e)for(;e.length>0;)e.pop()}function S(e){return!e||0===e.length}function M(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function A(e,t,n){return e.some(function(e){return n(e,t)})}function D(e){for(var t=e;null!=t;){if(Array.isArray(t))return!0;t=Object.getPrototypeOf(t)}return!1}function E(e,t){var n=e.length;if(n>=2)for(var r=1;r<n;r++)if(t(e[r-1],e[r])>0)return!1;return!0}function T(e,t){return E(e,t?function(e,t){return t-e}:function(e,t){return e-t})}function N(e){return Array.isArray(e)?e:[e]}e.intersect=t,e.diff=n,e.distinct=r,e.union=i,e.unionSingle=o,e.range=a,e.take=s,e.copy=u,e.sequenceEqual=l,e.emptyToNull=c,e.indexOf=f,e.rotate=p,e.createWithId=h,e.extendWithId=d,e.findWithId=g,e.createWithName=m,e.extendWithName=y,e.findItemWithName=b,e.indexWithName=x,e.insertSorted=w,e.removeFirst=_,e.clear=k,e.isUndefinedOrEmpty=S,e.swap=M,e.isInArray=A,e.isArrayOrInheritedArray=D,e.isSorted=E,e.isSortedNumeric=T,e.ensureArray=N}(e.ArrayExtensions||(e.ArrayExtensions={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){var n=e.extensibility.utils.type.Double;!function(e){function t(e,t){return(e&t)===t}function r(e,t){return e|=t}function i(e,t){return e&=~t}function o(e,t){return e[t]}function a(e){if(!n.isInteger(e))return 0;for(var t=0,r=e;0!==r;)1==(1&r)&&t++,r>>>=1;return t}e.hasFlag=t,e.setFlag=r,e.resetFlag=i,e.toString=o,e.getBitCount=a}(t.EnumExtensions||(t.EnumExtensions={}))}(t.type||(t.type={}))}(t.utils||(t.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){var n=e.extensibility.utils.type.Double,r=function(){function e(){}return e.prototype._ensureIncludeZero=function(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))},e.prototype._ensureNotEmpty=function(){if(this.min===this.max)if(this.min){var t=this.min,r=n.log10(Math.abs(t)),i=void 0;r>=0&&r<4?(i=.5,this.forcedSingleStop=t):(i=n.pow10(r)/2,this.forcedSingleStop=null),this.min=t-i,this.max=t+i}else this.min=0,this.max=e.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0},e.prototype._ensureDirection=function(){if(this.min>this.max){var e=this.min;this.min=this.max,this.max=e}},e.prototype.getSize=function(){return this.max-this.min},e.prototype.shrinkByStep=function(e,t){var n=this.min/t,r=e.min/t,i=Math.floor(r-n);this.min+=i*t,n=this.max/t,r=e.max/t,i=Math.ceil(r-n),this.max+=i*t},e.calculate=function(t,r,o,a,s){var u=new e;return u.includeZero=!!s,u.hasDataRange=i.hasValue(t)&&i.hasValue(r),u.hasFixedMin=i.hasValue(o),u.hasFixedMax=i.hasValue(a),t=n.ensureInRange(t,e.MIN_SUPPORTED_DOUBLE,e.MAX_SUPPORTED_DOUBLE),r=n.ensureInRange(r,e.MIN_SUPPORTED_DOUBLE,e.MAX_SUPPORTED_DOUBLE),u.hasFixedMin&&u.hasFixedMax?(u.min=o,u.max=a):u.hasFixedMin?(u.min=o,u.max=r>o?r:o):u.hasFixedMax?(u.min=t<a?t:a,u.max=a):u.hasDataRange?(u.min=t,u.max=r):(u.min=0,u.max=0),u._ensureIncludeZero(),u._ensureNotEmpty(),u._ensureDirection(),0===u.min?u.hasFixedMin=!0:0===u.max&&(u.hasFixedMax=!0),u},e.calculateDataRange=function(t,n,r){return i.hasValue(t)&&i.hasValue(n)?e.calculate(t,n,null,null,r):e.calculateFixedRange(0,e.DEFAULT_MAX)},e.calculateFixedRange=function(t,n,r){var i=new e;return i.hasDataRange=!1,i.includeZero=r,i.min=t,i.max=n,i._ensureIncludeZero(),i._ensureNotEmpty(),i._ensureDirection(),i.hasFixedMin=!0,i.hasFixedMax=!0,i},e}();r.DEFAULT_MAX=10,r.MIN_SUPPORTED_DOUBLE=-1e307,r.MAX_SUPPORTED_DOUBLE=1e307,t.NumericSequenceRange=r;var i;!function(e){function t(e){return void 0!==e&&null!==e}e.hasValue=t}(i=t.ValueUtil||(t.ValueUtil={}))}(t.type||(t.type={}))}(t.utils||(t.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){var n=e.extensibility.utils.type.Double,r=e.extensibility.utils.type.NumericSequenceRange,i=function(){function e(){}return e.calculate=function(t,i,o,a,s,u){var l=new e;if(i=void 0===i?10:n.ensureInRange(i,e.MIN_COUNT,e.MAX_COUNT),void 0===a&&(a=n.MIN_EXP),void 0===s&&(s=!1),void 0===o&&(o=1),void 0===u&&(u=[1,2,5]),t.forcedSingleStop)return l.interval=t.getSize(),l.intervalOffset=l.interval-(t.forcedSingleStop-t.min),l.min=t.min,l.max=t.max,l.sequence=[t.forcedSingleStop],l
;var c=0,f=0,p=9,h=o>0&&!t.hasFixedMin,d=o>0&&!t.hasFixedMax,g=t.getSize(),v=n.log10(g),m=n.log10(u[0]);v-=m,v-=n.log10(i),v=Math.max(v,a-m+1);var y=void 0;if(0!==c){var b=n.pow10(v),x=n.floorToPrecision(t.min,b),w=n.ceilToPrecision(t.max,b),_=r.calculateFixedRange(x,w);_.shrinkByStep(t,c),f=_.min,p=_.max,y=Math.floor(_.getSize()/c)}else{var C=void 0;for(C=0;C<3;C++){for(var k=v+C,b=n.pow10(k),x=n.floorToPrecision(t.min,b),w=n.ceilToPrecision(t.max,b),S=u.length,M=n.pow10(k-1),A=0;A<S;A++){var D=u[A]*M,_=r.calculateFixedRange(x,w,s);if(_.shrinkByStep(t,D),h&&t.min===_.min&&o>=1&&(_.min-=D),d&&t.max===_.max&&o>=1&&(_.max+=D),(y=n.ceilWithPrecision(_.getSize()/D,n.DEFAULT_PRECISION))<=i||2===C&&A===S-1||1===i&&2===y&&(D>t.getSize()||t.min<0&&t.max>0&&2*D>=t.getSize())){c=D,f=_.min,p=_.max;break}}if(0!==c)break}}(y>32*i||y>e.MAX_COUNT)&&(y=Math.min(32*i,e.MAX_COUNT),c=(p-f)/y),l.min=f,l.max=p,l.interval=c,l.intervalOffset=f-t.min,l.maxAllowedMargin=o,l.canExtendMin=h,l.canExtendMax=d;var E=n.getPrecision(c,0);l.precision=E;var T=[],N=n.roundToPrecision(f,E);T.push(N);for(var A=0;A<y;A++)N=n.roundToPrecision(N+c,E),T.push(N);return l.sequence=T,l.trimMinMax(t.min,t.max),l},e.calculateUnits=function(t,r,i,o){i=n.ensureInRange(i,e.MIN_COUNT,e.MAX_COUNT),t===r&&(r=t+1);for(var a=0,s=0;s<o.length;s++){a=o[s];if(n.ceilWithPrecision(r/a)-n.floorWithPrecision(t/a)<=i)break}var u=-t;u%=a;var l=new e;l.sequence=[];for(var c=t+u;l.sequence.push(c),!(c>=r);c+=a);return l.interval=a,l.intervalOffset=u,l.min=l.sequence[0],l.max=l.sequence[l.sequence.length-1],l},e.prototype.trimMinMax=function(e,t){var n=(e-this.min)/this.interval,r=(this.max-t)/this.interval;(!this.canExtendMin||n>this.maxAllowedMargin&&n>.001)&&(this.min=e),(!this.canExtendMax||r>this.maxAllowedMargin&&r>.001)&&(this.max=t)},e}();i.MIN_COUNT=1,i.MAX_COUNT=1e3,t.NumericSequence=i}(t.type||(t.type={}))}(t.utils||(t.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e){return e+a}function n(e){return t(r(e))}function r(e){return o*e}function i(e){return e/o}var o=4/3,a="px";e.toString=t,e.fromPoint=n,e.fromPointToPixel=r,e.toPoint=i}(e.PixelConverter||(e.PixelConverter={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t,n){return e.lastIndex=n||0,e.exec(t)}e.run=t}(e.RegExpExtensions||(e.RegExpExtensions={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t){return-1!==e.indexOf(t,e.length-t.length)}e.endsWith=t}(e.StringExtensions||(e.StringExtensions={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t){return(e||t)&&!(e&&t)}e.XOR=t}(e.LogicExtensions||(e.LogicExtensions={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}e.equals=t}(e.JsonComparer||(e.JsonComparer={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(t){return(t-e.TextSizeMin)/n}e.TextSizeMin=8,e.TextSizeMax=40;var n=e.TextSizeMax-e.TextSizeMin;e.getScale=t}(e.TextSizeDefaults||(e.TextSizeDefaults={}))}(e.type||(e.type={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){function n(e){return e&y}function r(e){return(e&b)===e}function i(e){if(r(e))return null;var t=m[e];if(t){var n=t.lastIndexOf("_");if(n>0){var i=t.slice(0,n);m[i]&&(t=i)}}return t||null}function o(e,t){var r=g[e],i=m[r];if(null==i&&(i=v.Null),e&&t){var o=m[t];if(o){var a=n(o);a===d.Null?(o|=i,m[o]&&(i=o)):a===e&&(i=o)}}return i}function a(e,t){return(e&x)==(t&x)}var s=e.extensibility.utils.type.EnumExtensions,u=function(){function e(e,t,n,r){this.underlyingType=e,this.category=t,s.hasFlag(e,v.Temporal)&&(this.temporalType=new c(e)),s.hasFlag(e,v.Geography)&&(this.geographyType=new f(e)),s.hasFlag(e,v.Miscellaneous)&&(this.miscType=new p(e)),s.hasFlag(e,v.Formatting)&&(this.formattingType=new h(e)),s.hasFlag(e,v.Enumeration)&&(this.enumType=n),s.hasFlag(e,v.Scripting)&&(this.scriptingType=new l(e)),s.hasFlag(e,v.Variant)&&(this.variationTypes=r)}return e.fromDescriptor=function(t){if(t=t||{},t.text)return e.fromExtendedType(v.Text);if(t.integer)return e.fromExtendedType(v.Integer);if(t.numeric)return e.fromExtendedType(v.Double);if(t.bool)return e.fromExtendedType(v.Boolean);if(t.dateTime)return e.fromExtendedType(v.DateTime);if(t.duration)return e.fromExtendedType(v.Duration);if(t.binary)return e.fromExtendedType(v.Binary);if(t.none)return e.fromExtendedType(v.None);if(t.scripting&&t.scripting.source)return e.fromExtendedType(v.ScriptSource);if(t.enumeration)return e.fromEnum(t.enumeration);if(t.temporal){if(t.temporal.year)return e.fromExtendedType(v.Years_Integer);if(t.temporal.quarter)return e.fromExtendedType(v.Quarters_Integer);if(t.temporal.month)return e.fromExtendedType(v.Months_Integer);if(t.temporal.day)return e.fromExtendedType(v.DayOfMonth_Integer);if(t.temporal.paddedDateTableDate)return e.fromExtendedType(v.PaddedDateTableDates)}if(t.geography){if(t.geography.address)return e.fromExtendedType(v.Address);if(t.geography.city)return e.fromExtendedType(v.City);if(t.geography.continent)return e.fromExtendedType(v.Continent);if(t.geography.country)return e.fromExtendedType(v.Country);if(t.geography.county)return e.fromExtendedType(v.County);if(t.geography.region)return e.fromExtendedType(v.Region);if(t.geography.postalCode)return e.fromExtendedType(v.PostalCode_Text);if(t.geography.stateOrProvince)return e.fromExtendedType(v.StateOrProvince);if(t.geography.place)return e.fromExtendedType(v.Place);if(t.geography.latitude)return e.fromExtendedType(v.Latitude_Double);if(t.geography.longitude)return e.fromExtendedType(v.Longitude_Double)}if(t.misc){if(t.misc.image)return e.fromExtendedType(v.Image);if(t.misc.imageUrl)return e.fromExtendedType(v.ImageUrl);if(t.misc.webUrl)return e.fromExtendedType(v.WebUrl);if(t.misc.barcode)return e.fromExtendedType(v.Barcode_Text)}if(t.formatting){if(t.formatting.color)return e.fromExtendedType(v.Color);if(t.formatting.formatString)return e.fromExtendedType(v.FormatString);if(t.formatting.alignment)return e.fromExtendedType(v.Alignment);if(t.formatting.labelDisplayUnits)return e.fromExtendedType(v.LabelDisplayUnits);if(t.formatting.fontSize)return e.fromExtendedType(v.FontSize);if(t.formatting.labelDensity)return e.fromExtendedType(v.LabelDensity)}if(t.extendedType)return e.fromExtendedType(t.extendedType);if(t.operations&&t.operations.searchEnabled)return e.fromExtendedType(v.SearchEnabled);if(t.variant){var n=t.variant.map(function(t){return e.fromDescriptor(t)});return e.fromVariant(n)}return e.fromExtendedType(v.Null)},e.fromExtendedType=function(t){t=t||v.Null;var r=n(t),o=i(t);return e.fromPrimitiveTypeAndCategory(r,o)},e.fromPrimitiveTypeAndCategory=function(t,n){t=t||d.Null,n=n||null;var r=t.toString();return n&&(r+="|"+n),e.typeCache[r]||(e.typeCache[r]=new e(o(t,n),n))},e.fromEnum=function(t){return new e(v.Enumeration,null,t)},e.fromVariant=function(t){return new e(v.Variant,null,null,t)},e.isCompatibleTo=function(t,n){for(var r=e.fromDescriptor(t),i=0,o=n;i<o.length;i++){var a=o[i];if(e.fromDescriptor(a).isCompatibleFrom(r))return!0}return!1},e.prototype.isCompatibleFrom=function(e){var t=e.primitiveType;return!!(this===e||this.primitiveType===t||t===d.Null||this.numeric&&e.numeric)},e.prototype.equals=function(e){return t.JsonComparer.equals(this,e)},Object.defineProperty(e.prototype,"primitiveType",{get:function(){return n(this.underlyingType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendedType",{get:function(){return this.underlyingType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryString",{get:function(){return this.category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.primitiveType===d.Text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numeric",{get:function(){return s.hasFlag(this.underlyingType,v.Numeric)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"integer",{get:function(){return this.primitiveType===d.Integer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bool",{get:function(){return this.primitiveType===d.Boolean},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateTime",{get:function(){return this.primitiveType===d.DateTime||this.primitiveType===d.Date||this.primitiveType===d.Time},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.primitiveType===d.Duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binary",{get:function(){return this.primitiveType===d.Binary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this.primitiveType===d.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"temporal",{get:function(){return this.temporalType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geography",{get:function(){return this.geographyType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"misc",{get:function(){return this.miscType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatting",{get:function(){return this.formattingType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enumeration",{get:function(){return this.enumType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scripting",{get:function(){return this.scriptingType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"variant",{get:function(){return this.variationTypes},enumerable:!0,configurable:!0}),e}();u.typeCache={},t.ValueType=u;var l=function(){function e(e){this.underlyingType=e}return Object.defineProperty(e.prototype,"source",{get:function(){return a(this.underlyingType,v.ScriptSource)},enumerable:!0,configurable:!0}),e}();t.ScriptType=l;var c=function(){function e(e){this.underlyingType=e}return Object.defineProperty(e.prototype,"year",{get:function(){return a(this.underlyingType,v.Years)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quarter",{get:function(){return a(this.underlyingType,v.Quarters)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"month",{get:function(){return a(this.underlyingType,v.Months)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"day",{get:function(){return a(this.underlyingType,v.DayOfMonth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddedDateTableDate",{get:function(){return a(this.underlyingType,v.PaddedDateTableDates)},enumerable:!0,configurable:!0}),e}();t.TemporalType=c;var f=function(){function e(e){this.underlyingType=e}return Object.defineProperty(e.prototype,"address",{get:function(){return a(this.underlyingType,v.Address)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"city",{get:function(){return a(this.underlyingType,v.City)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"continent",{get:function(){return a(this.underlyingType,v.Continent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"country",{get:function(){return a(this.underlyingType,v.Country)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"county",{get:function(){return a(this.underlyingType,v.County)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"region",{get:function(){return a(this.underlyingType,v.Region)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"postalCode",{get:function(){return a(this.underlyingType,v.PostalCode)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateOrProvince",{get:function(){return a(this.underlyingType,v.StateOrProvince)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"place",{get:function(){return a(this.underlyingType,v.Place)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latitude",{get:function(){return a(this.underlyingType,v.Latitude)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return a(this.underlyingType,v.Longitude)},enumerable:!0,configurable:!0}),e}();t.GeographyType=f;var p=function(){function e(e){this.underlyingType=e}return Object.defineProperty(e.prototype,"image",{get:function(){return a(this.underlyingType,v.Image)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageUrl",{get:function(){return a(this.underlyingType,v.ImageUrl)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"webUrl",{get:function(){return a(this.underlyingType,v.WebUrl)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcode",{get:function(){return a(this.underlyingType,v.Barcode)},enumerable:!0,configurable:!0}),e}();t.MiscellaneousType=p;var h=function(){function e(e){this.underlyingType=e}return Object.defineProperty(e.prototype,"color",{get:function(){return a(this.underlyingType,v.Color)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatString",{get:function(){return a(this.underlyingType,v.FormatString)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return a(this.underlyingType,v.Alignment)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelDisplayUnits",{get:function(){return a(this.underlyingType,v.LabelDisplayUnits)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return a(this.underlyingType,v.FontSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelDensity",{get:function(){return a(this.underlyingType,v.LabelDensity)},enumerable:!0,configurable:!0}),e}();t.FormattingType=h;var d;!function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(d=t.PrimitiveType||(t.PrimitiveType={}));var g;!function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(g||(g={}));var v;!function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(v=t.ExtendedType||(t.ExtendedType={}));var m;!function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(m||(m={}));var y=255,b=65535,x=4294901760}(t.type||(t.type={}))}(t.utils||(t.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},powerbi;!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,n,r){this.left=e||0,this.top=t||0,this.width=n||0,this.height=r||0}return e}();e.Rect=t}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){var n=e.extensibility.utils.type.Double;!function(e){!function(e){function t(e){return{x:e.left,y:e.top}}function r(e){return{width:e.width,height:e.height}}function i(e,t){e.width=t.width,e.height=t.height}function o(e){return e.left+e.width}function a(e){return e.top+e.height}function s(e){return{x:e.left,y:e.top}}function u(e){return{x:e.left+e.width,y:e.top}}function l(e){return{x:e.left,y:e.top+e.height}}function c(e){return{x:e.left+e.width,y:e.top+e.height}}function f(e,t){return void 0!==t&&null!==t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function p(e){return null!==e?{left:e.left,top:e.top,width:e.width,height:e.height}:null}function h(e){return"{left:"+e.left+", top:"+e.top+", width:"+e.width+", height:"+e.height+"}"}function d(e,t,n){return{left:e.left+t>=0?e.left+t:0,top:e.top+n>=0?e.top+n:0,width:e.width,height:e.height}}function g(e,t){return{left:e.left+t.left,top:e.top+t.top,height:e.height+t.height,width:e.width+t.width}}function v(e,t){return{left:e.left-t.left,top:e.top-t.top,height:e.height-t.height,width:e.width-t.width}}function m(e,t){var n=p(e);return t&&(n.left-=t.left,n.top-=t.top,n.width+=t.left+t.right,n.height+=t.top+t.bottom),n}function y(e,t){var n=p(e);return t&&(n.left+=t.left,n.top+=t.top,n.width-=t.left+t.right,n.height-=t.top+t.bottom),n}function b(e,t){return{left:e.left-t,top:e.top-t,width:e.width+t+t,height:e.height+t+t}}function x(e,t){return{left:e.left+t,top:e.top+t,width:e.width-t-t,height:e.height-t-t}}function w(e,t,n){return{x:Math.min(Math.max(e.left,t),e.left+e.width),y:Math.min(Math.max(e.top,n),e.top+e.height)}}function _(e,t){return e===t||void 0!==e&&void 0!==t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function C(e,t){return e===t||void 0!==e&&void 0!==t&&n.equalWithPrecision(e.left,t.left)&&n.equalWithPrecision(e.top,t.top)&&n.equalWithPrecision(e.width,t.width)&&n.equalWithPrecision(e.height,t.height)}function k(e){return void 0===e||null===e||0===e.width&&0===e.height}function S(e,t){return null!==e&&null!==t&&(n.lessOrEqualWithPrecision(e.left,t.x)&&n.lessOrEqualWithPrecision(t.x,e.left+e.width)&&n.lessOrEqualWithPrecision(e.top,t.y)&&n.lessOrEqualWithPrecision(t.y,e.top+e.height))}function M(e,t){return!(!e||!t)&&(!(Math.max(e.left,t.left)>Math.min(e.left+e.width,t.left+t.width))&&Math.max(e.top,t.top)<=Math.min(e.top+e.height,t.top+t.height))}function A(e,t){if(!e)return t;if(!t)return e;var n=Math.max(e.left,t.left),r=Math.max(e.top,t.top),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height);return n<=i&&r<=o?{left:n,top:r,width:i-n,height:o-r}:{left:0,top:0,width:0,height:0}}function D(e,t){if(!e)return t;if(!t)return e;var n=Math.min(e.left,t.left),r=Math.min(e.top,t.top);return{left:n,top:r,width:Math.max(e.left+e.width,t.left+t.width)-n,height:Math.max(e.top+e.height,t.top+t.height)-r}}function E(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}e.getOffset=t,e.getSize=r,e.setSize=i,e.right=o,e.bottom=a,e.topLeft=s,e.topRight=u,e.bottomLeft=l,e.bottomRight=c,e.equals=f,e.clone=p,e.toString=h,e.offset=d,e.add=g,e.subtract=v,e.inflate=m,e.deflate=y,e.inflateBy=b,e.deflateBy=x,e.getClosestPoint=w,e.equal=_,e.equalWithPrecision=C,e.isEmpty=k,e.containsPoint=S,e.isIntersecting=M,e.intersect=A,e.combine=D,e.getCentroid=E}(e.Rect||(e.Rect={}))}(t.shapes||(t.shapes={}))}(t.svg||(t.svg={}))}(t.utils||(t.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t){this.x=e||0,this.y=t||0}return e}();e.Point=t}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(e){return{className:e,selectorName:"."+e}}e.createClassAndSelector=t,e.styleAttribute="style",e.pixelUnits="px",e.heightProperty="height",e.widthProperty="width",e.topProperty="top",e.bottomProperty="bottom",e.leftProperty="left",e.rightProperty="right",e.marginTopProperty="margin-top",e.marginLeftProperty="margin-left",e.displayProperty="display",e.backgroundProperty="background",e.backgroundColorProperty="background-color",e.backgroundRepeatProperty="background-repeat",e.backgroundSizeProperty="background-size",e.backgroundImageProperty="background-image",e.textShadowProperty="text-shadow",e.textAlignProperty="text-align",e.borderProperty="border",e.borderTopWidthProperty="border-top-width",e.borderBottomWidthProperty="border-bottom-width",e.borderLeftWidthProperty="border-left-width",e.borderRightWidthProperty="border-right-width",e.fontSizeProperty="font-size",e.fontWeightProperty="font-weight",e.colorProperty="color",e.opacityProperty="opacity",e.paddingLeftProperty="padding-left",e.paddingRightProperty="padding-right",e.positionProperty="position",e.maxWidthProperty="max-width",e.minWidthProperty="min-width",e.overflowProperty="overflow",e.overflowXProperty="overflow-x",e.overflowYProperty="overflow-y",e.transformProperty="transform",e.webkitTransformProperty="-webkit-transform",e.cursorProperty="cursor",e.visibilityProperty="visibility",e.absoluteValue="absolute",e.zeroPixelValue="0px",e.autoValue="auto",e.hiddenValue="hidden",e.noneValue="none",e.blockValue="block",e.inlineBlockValue="inline-block",e.transparentValue="transparent",e.boldValue="bold",e.visibleValue="visible",e.tableRowValue="table-row",e.coverValue="cover",e.pointerValue="pointer",e.scrollValue="scroll"}(e.CssConstants||(e.CssConstants={}))}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.offset=function(e,t){this.x+=e,this.y+=t},e}();e.Point=t;var n=function(e){function n(t,n,r,i){var o=e.call(this,t,n)||this;return o.width=r||0,o.height=i||0,o}return __extends(n,e),Object.defineProperty(n.prototype,"point",{get:function(){return new t(this.x,this.y)},enumerable:!0,configurable:!0}),n.prototype.contains=function(e){return n.contains(this,e)},n.contains=function(e,t){return!(!t||n.isEmpty(e))&&(e.x<=t.x&&t.x<e.x+e.width&&e.y<=t.y&&t.y<e.y+e.height)},n.isEmpty=function(e){return!(void 0!==e&&e.width>=0&&e.height>=0)},n}(t);e.Rectangle=n}(e.touch||(e.touch={}))}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(){var e="touchstart";return window.PointerEvent&&(e="pointerdown"),e}function n(){var e="touchmove";return window.PointerEvent&&(e="pointermove"),e}function r(){var e="touchend";return window.PointerEvent&&(e="pointerup"),e}function i(){var e=t();return"pointerdown"===e||"MSPointerDown"===e}e.touchStartEventName=t,e.touchMoveEventName=n,e.touchEndEventName=r,e.usePointerEvents=i}(e.touch||(e.touch={}))}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){function t(e,t){var n;if(t){for(var r=d3.event,i=void 0;i=r.sourceEvent;)r=i;var o=e.getBoundingClientRect();n=[r.clientX-o.left-e.clientLeft,r.clientY-o.top-e.clientTop]}else{var a=d3.touches(e);a&&a.length>0&&(n=a[0])}return n}e.getCoordinates=t}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){function t(e,t){return"translate("+e+","+t+")"}function n(e){return"translateX("+e+"px)"}function r(e,t){return"translate("+e+"px,"+t+"px)"}function i(e,t,n,r,i){return"translate("+e+","+t+") rotate("+i+","+n+","+r+")"}function o(e){return"scale("+e+")"}function a(e,t,n){return"translate("+e+","+t+") scale("+n+")"}function s(e,t){return e+" "+t}function u(){var e=Date.now;Date.now=function(){return 1/0},d3.timer.flush(),Date.now=e}function l(e){if(e){var t=e;t&&t.transitionImmediate&&u()}}function c(e){e.getAttribute("d")||e.setAttribute("d","")}function f(e){isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0)}function p(e){if(!e||0===e.length)return{x:"0",y:"0"};var t,n=e.split(/[\s,]+/),r="0",i=n[0];if(1===n.length)t=i.substring(10,i.length-1);else{var o=n[1];r=o.substring(0,o.length-1),t=i.substring(10,i.length)}return{x:t,y:r}}function h(e,t,n){var r="rotate("+n+" "+e/2+" "+t/2+")",i="M0 0";return i+="L0 "+t,i+="L"+e+" "+t/2+" Z",{path:i,transform:r}}function d(e){if(null!=e){var t=e.getBoundingClientRect(),n=e.getBBox();if(n.height>0&&n.width>0)return{x:t.width/n.width,y:t.height/n.height}}return{x:1,y:1}}e.AlmostZero=1e-6,e.translate=t,e.translateXWithPixels=n,e.translateWithPixels=r,e.translateAndRotate=i,e.scale=o,e.translateAndScale=a,e.transformOrigin=s,e.flushAllD3Transitions=u,e.flushAllD3TransitionsIfNeeded=l,e.ensureDAttribute=c,e.ensureValidSVGPoint=f,e.parseTranslateTransform=p,e.createArrow=h,e.getTransformScaleRatios=d}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e){this.scaleDetectorElement=e.append("rect").classed("scale-detector",!0).attr({width:1,height:1,"stroke-width":"0px",fill:"none"}).node()}return e.prototype.getScale=function(){var e=this.scaleDetectorElement.getBoundingClientRect(),t=this.scaleDetectorElement.getBBox();return t.height>0&&t.width>0?{x:e.width/t.width,y:e.height/t.height}:{x:1,y:1}},e}();e.SVGScaleDetector=t}(e.svg||(e.svg={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){function n(e){return new a(e)}function r(e){return e.append("rect").classed("clearCatcher",!0).attr({width:"100%",height:"100%"})}function i(e){for(var t=0,n=e.length;t<n;t++)if(e[t].selected)return!0;return!1}var o=e.extensibility.utils.type.ArrayExtensions;t.createInteractivityService=n,t.appendClearCatcher=r,t.dataHasSelection=i;var a=function(){function e(e){this.renderSelectionInVisual=function(){},this.renderSelectionInLegend=function(){},this.renderSelectionInLabels=function(){},this.selectedIds=[],this.isInvertedSelectionMode=!1,this.dataPointObjectName="dataPoint",this.hostService=e,this.selectionManager=e.createSelectionManager()}return e.prototype.bind=function(e,t,n,r){var i=this,o=this.selectedIds.length>0
;r&&r.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(e),r?(r.isLegend?(this.selectableLegendDataPoints=e,this.renderSelectionInLegend=function(){return t.renderSelection(i.legendHasSelection())}):r.isLabels?(this.selectableLabelsDataPoints=e,this.renderSelectionInLabels=function(){return t.renderSelection(i.labelsHasSelection())}):(this.selectableDataPoints=e,this.renderSelectionInVisual=function(){return t.renderSelection(i.hasSelection())}),null!=r.hasSelectionOverride&&(this.hasSelectionOverride=r.hasSelectionOverride)):(this.selectableDataPoints=e,this.renderSelectionInVisual=function(){return t.renderSelection(i.hasSelection())}),this.behavior=t,t.bindEvents(n,this),this.syncSelectionState(o)},e.prototype.clearSelection=function(){this.hasSelectionOverride=void 0,o.clear(this.selectedIds),this.applyToAllSelectableDataPoints(function(e){return e.selected=!1}),this.renderAll()},e.prototype.applySelectionStateToData=function(t,n){if(n&&this.hasSelection()){var r=this.selectionManager.getSelectionIds()||[];o.clear(this.selectedIds),o.clear(r)}for(var i=0,a=t;i<a.length;i++){var s=a[i];s.selected=e.checkDatapointAgainstSelectedIds(s,this.selectedIds)}return this.hasSelection()},e.prototype.hasSelection=function(){return this.selectedIds.length>0},e.prototype.legendHasSelection=function(){return!!this.selectableLegendDataPoints&&i(this.selectableLegendDataPoints)},e.prototype.labelsHasSelection=function(){return!!this.selectableLabelsDataPoints&&i(this.selectableLabelsDataPoints)},e.prototype.isSelectionModeInverted=function(){return this.isInvertedSelectionMode},e.prototype.applySelectionFilter=function(){this.selectionManager&&this.selectionManager.applySelectionFilter()},e.prototype.handleSelection=function(e,t){e&&(e.identity?(this.select(e,t),this.sendSelectionToHost(e,t),this.renderAll()):this.handleClearSelection())},e.prototype.handleClearSelection=function(){this.clearSelection(),this.sendSelectionToHost()},e.prototype.renderAll=function(){this.renderSelectionInVisual(),this.renderSelectionInLegend(),this.renderSelectionInLabels()},e.prototype.select=function(e,t){var n=e.identity;if(n){var r=!e.selected||!t&&this.selectedIds.length>1;t&&(r?(e.selected=!0,this.selectedIds.push(n),n.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()):(e.selected=!1,this.removeId(n))),t||(this.clearSelection(),r&&(e.selected=!0,this.selectedIds.push(n))),this.syncSelectionState()}},e.prototype.removeId=function(e){for(var t=this.selectedIds,n=t.length-1;n>-1;n--){var r=t[n];e.includes(r)&&t.splice(n,1)}},e.prototype.sendSelectionToHost=function(e,t){this.selectionManager&&(e&&e.identity?this.selectionManager.select(e.identity,t):this.selectionManager.clear())},e.prototype.takeSelectionStateFromDataPoints=function(e){var t=this.selectedIds;o.clear(t);for(var n=0,r=e;n<r.length;n++){var i=r[n];i.selected&&t.push(i.identity)}},e.prototype.syncSelectionState=function(t){void 0===t&&(t=!1);var n=this.selectedIds,r=this.selectableDataPoints,i=this.selectableLegendDataPoints,o=this.selectableLabelsDataPoints,a=!1;if(r||i){if(r&&e.updateSelectableDataPointsBySelectedIds(r,n)&&(a=!0),i&&e.updateSelectableDataPointsBySelectedIds(i,n)&&(a=!0),o)for(var s,u=0,l=o.length;u<l;u++)s=o[u],n.some(function(e){return e.includes(s.identity)})?s.selected=!0:s.selected=!1;!a&&(n.length>0||t)&&(this.clearSelection(),this.sendSelectionToHost())}},e.prototype.applyToAllSelectableDataPoints=function(e){var t=this.selectableDataPoints,n=this.selectableLegendDataPoints,r=this.selectableLabelsDataPoints;if(t)for(var i=0,o=t;i<o.length;i++){var a=o[i];e(a)}if(n)for(var s=0,u=n;s<u.length;s++){var a=u[s];e(a)}if(r)for(var l=0,c=r;l<c.length;l++){var a=c[l];e(a)}},e.updateSelectableDataPointsBySelectedIds=function(t,n){for(var r=!1,i=0,o=t;i<o.length;i++){var a=o[i];a.selected=e.checkDatapointAgainstSelectedIds(a,n),a.selected&&(r=!0)}return r},e.checkDatapointAgainstSelectedIds=function(e,t){return t.some(function(t){return t.includes(e.identity)})},e.prototype.removeSelectionIdsWithOnlyMeasures=function(){this.selectedIds=this.selectedIds.filter(function(e){return e.hasIdentity()})},e.prototype.removeSelectionIdsExceptOnlyMeasures=function(){this.selectedIds=this.selectedIds.filter(function(e){return!e.hasIdentity()})},e}();t.InteractivityService=a}(t.interactivity||(t.interactivity={}))}(t.utils||(t.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){!function(e){function t(){return{x:d3.event.clientX,y:d3.event.clientY}}function n(e,t){e.on("click",function(e){return i(e,t)})}function r(e,t){e.on("click",function(){var e=d3.event.target;i(d3.select(e).datum(),t)})}function i(e,t){t.handleSelection(e,d3.event.ctrlKey)}e.getPositionOfLastInputEvent=t,e.registerStandardSelectionHandler=n,e.registerGroupSelectionHandler=r}(e.interactivityUtils||(e.interactivityUtils={}))}(e.interactivity||(e.interactivity={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},powerbi;!function(e){!function(e){!function(e){!function(e){var t;!function(e){e[e.None=0]="None",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(t=e.MessageBoxType||(e.MessageBoxType={}));var n=function(){function e(){}return e.setMessageBox=function(e){e.base.style("display",e.type===t.None?"none":"inline-block").classed("info",e.type===t.Info).classed("warning",e.type===t.Warning).classed("error",e.type===t.Error).text(e.text),e.label1&&e.base.append("div").classed("inlineBtn",!0).text(e.label1).on("click",e.callback1?e.callback1:function(){return e.base.style("display","none")}),e.label2&&e.base.append("div").classed("inlineBtn",!0).text(e.label2).on("click",e.callback2?e.callback2:function(){return e.base.style("display","none")}),e.label3&&e.base.append("div").classed("inlineBtn",!0).text(e.label3).on("click",e.callback3?e.callback3:function(){return e.base.style("display","none")})},e}();n.yesno="<div id='yesbtn'>yes</div>&nbsp;<div id='nobtn'>no</div>",e.MessageBox=n}(e.MessageBox||(e.MessageBox={}))}(e.utils||(e.utils={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){"use strict";var n=e.extensibility.utils.dataview.DataViewObjectsParser,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.general=new i,t.margin=new o,t.colors=new a,t}return __extends(t,e),t}(n);t.Settings=r;var i=function(){function e(){this.js="",this.css="",this.iFrame='<iframe id="d3js-sandbox" class="d3js-sandbox" width="#width" height="#height" style="width:#widthpx;height:#heightpx;margin-top:#toppx;margin-left:#leftpx" src="data:text/html,#src" sandbox="allow-scripts"></iframe>',this.d3Document="<html><head><script src='https://d3js.org/d3.v3.min.js'><\/script><style id='d3js-css'>#style</style><script>window.addEventListener('message', function (e) {var mainWindow=e.source;try {document.getElementById('chart').innerHTML=\"\";eval(e.data);} catch (ex) {console.log('D3js code threw an exception: ' + ex);} mainWindow.postMessage(\"\",e.origin);});<\/script></head><body style=\"margin:0px;\"><svg class=\"chart\" id=\"chart\"></svg></body></html>",this.d3SVG='<svg class="chart" id="chart" width="#width" height="#height"></svg>',this.d3CSS="<style>#style</style>",this.d3jsError='<div class="d3jsError">#error</div>',this.helpUrl="https://azurebi.jppp.org/power-bi-d3js-visual/"}return e}();t.GeneralSettings=i;var o=function(){function e(){this.top=2,this.bottom=2,this.left=2,this.right=2}return e}();t.MarginSettings=o;var a=function(){function e(){this.color1="",this.color2="",this.color3="",this.color4="",this.color5="",this.color6="",this.color7="",this.color8=""}return e}();t.ColorSettings=a}(t.D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490||(t.D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490={}))}(t.visual||(t.visual={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(powerbi){var extensibility;!function(extensibility){var visual;!function(visual){var D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490;!function(D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490){"use strict";var createInteractivityService=powerbi.extensibility.utils.interactivity.createInteractivityService,createClassAndSelector=powerbi.extensibility.utils.svg.CssConstants.createClassAndSelector,PixelConverter=powerbi.extensibility.utils.type.PixelConverter,MessageBoxType=powerbi.extensibility.utils.MessageBox.MessageBoxType,MessageBox=powerbi.extensibility.utils.MessageBox,visualProperties={d3jsJs:{objectName:"general",propertyName:"js"},d3jsCss:{objectName:"general",propertyName:"css"}},D3JSVisualType;!function(e){e[e.Js=0]="Js",e[e.Css=1]="Css",e[e.Object=2]="Object"}(D3JSVisualType=D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490.D3JSVisualType||(D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490.D3JSVisualType={}));var D3JSVisual=function(){function D3JSVisual(e){this.isSaved=!0,this.reload=!1,this.traceEvents={init:"Init method",update:"Update method",render:"Render method"},this.IconSet={new:'<svg viewBox="0 0 16 16"><path d="M14 10.5v2h2v1h-2v2h-1v-2h-2v-1h2v-2h1zM10 11.5v2h-2v-13h3v11h-1zM4 13.5v-9h3v9h-3zM0 13.5v-5h3v5h-3zM12 9.5v-5h3v5h-3z"></path></svg>',save:'<svg viewBox="0 0 16 16"><path d="M1.992 1h12q0.406 0 0.711 0.289 0.289 0.305 0.289 0.711v13h-12.211l-1.789-1.797v-11.203q-0.008-0.406 0.289-0.703t0.711-0.297zM10.992 14h3v-12h-1v6h-10v-6h-1v10.789l1.203 1.211h0.797v-4h7v4zM11.992 2h-8v5h8v-5zM6.992 14h3v-3h-5v3h1v-2h1v2z"></path></svg>',reload:'<svg viewBox="0 0 16 16"><path d="M16 7.875q0 2.281-1.078 4.133t-2.914 2.922-4.008 1.070-4.016-1.070-2.914-2.914-1.070-4.023 1.109-4.055 3.031-2.938h-2.141v-1h4v4h-1v-2.32q-1.844 0.891-2.922 2.602t-1.078 3.656q0 1.938 0.938 3.547t2.547 2.563 3.508 0.953 3.523-0.961 2.547-2.539q0.938-1.578 0.938-3.5 0-2.344-1.438-4.234t-3.695-2.508l0.266-0.961q1.273 0.344 2.359 1.086t1.867 1.773 1.211 2.273 0.43 2.445z"></path></svg>',js:'<svg viewBox="0 0 16 16"><path d="M16 4.422q0 1.953-1.328 3.266t-3.172 1.313q-0.336 0-0.727-0.063l-6.297 6.297q-0.766 0.766-1.859 0.766t-1.844-0.773q-0.773-0.758-0.773-1.852t0.766-1.852l6.297-6.297q-0.063-0.398-0.063-0.867 0-1.070 0.617-2.125 0.961-1.609 2.117-1.922t1.844-0.313 1.289 0.219 1.414 0.703l-3.078 3.078 0.797 0.797 3.078-3.078q0.484 0.813 0.703 1.414t0.219 1.289zM11.641 8q0.563 0 1.203-0.273t1.125-0.758q1.031-1.031 1.031-2.469 0-0.578-0.188-1.102l-2.813 2.805-2.203-2.203 2.805-2.813q-0.531-0.188-1.172-0.188-0.633 0-1.273 0.273t-1.125 0.758q-1.031 1.031-1.031 2.469 0 0.422 0.156 1.047l-6.68 6.688q-0.477 0.469-0.477 1.141t0.477 1.148 1.148 0.477 1.141-0.477l6.688-6.68q0.625 0.156 1.188 0.156z"></path></svg>',css:'<svg viewBox="0 0 16 16"><path d="M4.5 3q1.359 0 2.5 0.758v-2.758h9v9h-3.273l2.891 5h-10.969l2.086-3.617q-1.063 0.617-2.109 0.617t-1.859-0.344-1.445-0.977q-0.633-0.625-0.977-1.445-0.344-0.813-0.344-2.203t1.32-2.711 3.18-1.32zM15 9v-7h-7v2.711q0.984 1.211 1 2.758l1.133-1.969 2.016 3.5h2.852zM8 7.5q0-1.43-1.023-2.469-1.039-1.031-2.477-1.031t-2.469 1.031-1.031 2.477 1.023 2.469 2.477 1.023 2.477-1.031q1.023-1.039 1.023-2.469zM8.258 10.75q-1.055 1.836-1.875 3.25h7.5q-0.82-1.414-1.875-3.25t-1.875-3.25q-0.82 1.414-1.875 3.25z"></path></svg>',help:'<svg viewBox="0 0 16 16"><path d="M7.492 0q1.867 0 3.18 1.313t1.32 3.055q0.008 1.734-0.758 2.563t-1.242 1.273l-0.164 0.148q-0.875 0.828-1.195 1.266-0.641 0.883-0.641 1.883v1.5h-1v-1.5q0-1.617 0.758-2.43t1.242-1.266l0.117-0.109q0.922-0.859 1.242-1.305 0.641-0.898 0.641-1.75-0.008-0.852-0.273-1.492-0.266-0.648-1.016-1.398t-2.203-0.75-2.484 1.031-1.023 2.469h-1q0.008-1.844 1.32-3.172t3.18-1.328zM7.992 16h-1v-1h1v1z"></path></svg>',space:'<svg viewBox="0 0 4 16"><path d="M3.429 11.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-1.714q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h1.714q0.357 0 0.607 0.25t0.25 0.607zM3.429 6.571v1.714q0 0.357-0.25 0.607t-0.607 0.25h-1.714q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h1.714q0.357 0 0.607 0.25t0.25 0.607zM3.429 2v1.714q0 0.357-0.25 0.607t-0.607 0.25h-1.714q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h1.714q0.357 0 0.607 0.25t0.25 0.607z"></path></svg>',object:'<svg viewBox="0 0 16 16"><path d="M12 13.93l2.992-1.5v-4.375l-2.992 1.492v4.383zM8.008 8.055l-0.008 4.383 3 1.492v-4.383zM5 10.43l2.008-0.992v-2.5l0.992-0.492-0.008-1.891-2.992 1.492v4.383zM1.008 4.555l-0.008 4.383 3 1.492v-4.383zM7.375 3.742l-2.875-1.43-2.875 1.43 2.875 1.438zM14.375 7.242l-2.875-1.43-2.875 1.43 2.875 1.438zM11.5 4.688l4.492 2.25v6.109l-4.492 2.25-4.5-2.234v-2.508l-2.5 1.242-4.5-2.234 0.008-6.125 4.492-2.25 4.492 2.25 0.008 2.508z"></path></svg>',parse:'<svg viewBox="0 0 16 16"><path d="M5 2.922v10.156l7.258-5.078zM4 1l10 7-10 7v-14z"></path></svg>',d3js:'<svg width="#widthpx" viewBox="0 0 256 243" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet">\n            <defs>\n                <linearGradient x1="-82.6367258%" y1="-92.819878%" x2="103.767353%" y2="106.041826%" id="linearGradient-1">\n                    <stop stop-color="#F9A03C" offset="0%"></stop>\n                    <stop stop-color="#F7974E" offset="100%"></stop>\n                </linearGradient>\n                <linearGradient x1="-258.923825%" y1="-248.970263%" x2="97.6202479%" y2="98.7684937%" id="linearGradient-2">\n                    <stop stop-color="#F9A03C" offset="0%"></stop>\n                    <stop stop-color="#F7974E" offset="100%"></stop>\n                </linearGradient>\n                <linearGradient x1="-223.162629%" y1="-261.967947%" x2="94.0283377%" y2="101.690818%" id="linearGradient-3">\n                    <stop stop-color="#F9A03C" offset="0%"></stop>\n                    <stop stop-color="#F7974E" offset="100%"></stop>\n                </linearGradient>\n                <linearGradient x1="11.3387123%" y1="-1.82169774%" x2="82.496193%" y2="92.1067478%" id="linearGradient-4">\n                    <stop stop-color="#F26D58" offset="0%"></stop>\n                    <stop stop-color="#F9A03C" offset="100%"></stop>\n                </linearGradient>\n                <linearGradient x1="15.8436473%" y1="3.85803114%" x2="120.126091%" y2="72.3802579%" id="linearGradient-5">\n                    <stop stop-color="#B84E51" offset="0%"></stop>\n                    <stop stop-color="#F68E48" offset="100%"></stop>\n                </linearGradient>\n                <linearGradient x1="46.9841705%" y1="23.4664325%" x2="51.881003%" y2="147.391179%" id="linearGradient-6">\n                    <stop stop-color="#F9A03C" offset="0%"></stop>\n                    <stop stop-color="#F7974E" offset="100%"></stop>\n                </linearGradient>\n            </defs>\n            <g>\n                <path d="M255.52,175.618667 C255.634667,174.504 255.717333,173.378667 255.781333,172.248 C255.858667,170.909333 175.218667,94.3973333 175.218667,94.3973333 L173.290667,94.3973333 C173.290667,94.3973333 255.026667,180.613333 255.52,175.618667 L255.52,175.618667 L255.52,175.618667 Z" fill="url(#linearGradient-1)"></path>\n                <path d="M83.472,149.077333 C83.3653333,149.312 83.2586667,149.546667 83.1493333,149.781333 C83.0346667,150.026667 82.9173333,150.272 82.8,150.514667 C80.2293333,155.874667 118.786667,193.568 121.888,188.989333 C122.029333,188.786667 122.170667,188.573333 122.312,188.370667 C122.469333,188.130667 122.624,187.901333 122.778667,187.661333 C125.258667,183.896 84.5733333,146.629333 83.472,149.077333 L83.472,149.077333 L83.472,149.077333 Z" fill="url(#linearGradient-2)"></path>\n                <path d="M137.957333,202.082667 C137.848,202.322667 137.072,203.634667 136.362667,204.328 C136.242667,204.568 174.002667,242.016 174.002667,242.016 L177.402667,242.016 C177.405333,242.016 141.957333,203.666667 137.957333,202.082667 L137.957333,202.082667 L137.957333,202.082667 Z" fill="url(#linearGradient-3)"></path>\n                <path d="M255.834667,171.568 C254.069333,210.714667 221.682667,242.016 182.114667,242.016 L176.765333,242.016 L137.250667,203.088 C140.501333,198.504 143.522667,193.754667 146.213333,188.802667 L182.114667,188.802667 C193.469333,188.802667 202.709333,179.568 202.709333,168.208 C202.709333,156.853333 193.469333,147.613333 182.114667,147.613333 L160.869333,147.613333 C162.488,139.056 163.373333,130.232 163.373333,121.205333 C163.373333,112.04 162.472,103.090667 160.794667,94.3973333 L173.992,94.3973333 L255.602667,174.810667 C255.698667,173.733333 255.776,172.656 255.834667,171.568 L255.834667,171.568 L255.834667,171.568 Z M21.4666667,0 L0,0 L0,53.2133333 L21.4666667,53.2133333 C58.96,53.2133333 89.4666667,83.712 89.4666667,121.205333 C89.4666667,131.405333 87.192,141.088 83.1493333,149.781333 L122.312,188.370667 C135.170667,169.130667 142.688,146.032 142.688,121.205333 C142.688,54.3733333 88.3066667,0 21.4666667,0 L21.4666667,0 L21.4666667,0 Z" fill="url(#linearGradient-4)"></path>\n                <path d="M182.114667,0 L95.1866667,0 C116.418667,12.9626667 134,31.344 145.978667,53.2133333 L182.114667,53.2133333 C193.469333,53.2133333 202.709333,62.448 202.709333,73.808 C202.709333,85.1653333 193.469333,94.4 182.114667,94.4 L173.994667,94.4 L255.605333,174.813333 C255.797333,172.632 255.917333,170.437333 255.917333,168.208 C255.917333,150.269333 249.48,133.813333 238.792,121.005333 C249.48,108.202667 255.917333,91.744 255.917333,73.808 C255.917333,33.112 222.813333,0 182.114667,0 L182.114667,0 L182.114667,0 Z" fill="url(#linearGradient-5)"></path>\n                <path d="M176.765333,242.016 L95.808,242.016 C112.104,231.952 126.192,218.666667 137.250667,203.088 L176.765333,242.016 L176.765333,242.016 Z M122.312,188.370667 L83.152,149.781333 C72.3333333,173.032 48.7573333,189.202667 21.4666667,189.202667 L0,189.202667 L0,242.410667 L21.4666667,242.410667 C63.4773333,242.410667 100.557333,220.922667 122.312,188.370667 L122.312,188.370667 L122.312,188.370667 Z" fill="url(#linearGradient-6)"></path>\n            </g>\n        </svg>'},this.target=e.element,this.host=e.host,this.telemetry=e.host.telemetry,this.interactivityService=createInteractivityService(e.host),this.colorPalette=e.host.colorPalette}return D3JSVisual.prototype.init=function(e){this.telemetry.trace(2,this.traceEvents.init);var t=[{title:"New",class:D3JSVisual.New.className,icon:this.IconSet.new,selected:!1},{title:"Save",class:D3JSVisual.Save.className,icon:this.IconSet.save,selected:!1},{title:"Reload",class:D3JSVisual.Reload.className,icon:this.IconSet.reload,selected:!1},{title:"",class:D3JSVisual.Space.className,icon:this.IconSet.space,selected:!1},{title:"JavaScript",class:D3JSVisual.Js.className,icon:this.IconSet.js,selected:!0},{title:"Style",class:D3JSVisual.Css.className,icon:this.IconSet.css,selected:!1},{title:"PBI object",class:D3JSVisual.Object.className,icon:this.IconSet.object,selected:!1},{title:"",class:D3JSVisual.Space.className,icon:this.IconSet.space,selected:!1},{title:"Parse",class:D3JSVisual.Parse.className,icon:this.IconSet.parse,selected:!1},{title:"Help",class:D3JSVisual.Help.className,icon:this.IconSet.help,selected:!1}];this.viewport=e.viewport,this.editContainer=d3.select(this.target).append("div").classed(D3JSVisual.EditContainer.className,!0);var n=this.editContainer.append("div").classed(D3JSVisual.EditorHeader.className,!0);n.selectAll(D3JSVisual.Icon.selectorName).data(t).enter().append("div").classed(D3JSVisual.Icon.className,!0).classed("selected",function(e){return e.selected}).attr("tooltip",function(e){return e.title}).each(function(e){this.classList.add(e.class)}).on("mouseover",function(e){d3.select(this).style("color","#a6a6a6")}).on("mouseout",function(e){d3.select(this).style("color","#4a4a4a")}).html(function(e){return e.icon}),this.messageBox=n.append("div").classed(D3JSVisual.MessageBox.className,!0).style("display","none");this.editContainer.append("textarea").classed(D3JSVisual.EditorTextArea.className,!0);this.d3Container=d3.select(this.target).append("div").classed(D3JSVisual.D3Container.className,!0),this.d3jsFrame=this.d3Container.append("div").classed(D3JSVisual.D3jsFrame.className,!0),this.open=D3JSVisualType.Js,this.hideMessageBox={type:MessageBoxType.None,base:this.messageBox},this.saveWarning={type:MessageBoxType.Warning,base:this.messageBox,text:"Warning: File is not saved. Save now?",label1:"Yes",label2:"No",label3:"Cancel"},this.overwriteWarning={type:MessageBoxType.Warning,base:this.messageBox,text:"Warning: Remove current content?",label1:"Yes",label2:"No"},this.telemetry.trace(2,this.traceEvents.init)},D3JSVisual.prototype.update=function(e){this.telemetry.trace(2,this.traceEvents.update),this.viewport||(this.viewport=e.viewport,this.init(e)),this.viewport=e.viewport,this.editContainer.style("display",1===e.editMode?"inline":"none"),this.d3Container.style("display",1===e.editMode?"none":"inline");this.settings=D3JSVisual.parseSettings(e&&e.dataViews&&e.dataViews[0]);if(this.parseColors(),1===e.editMode)this.renderEdit();else{var t=[{title:"D3.js logo: (c) Mike Bostock",class:D3JSVisual.D3jsLogo.className,icon:this.IconSet.d3js}];this.D3jswidth=this.viewport.width-this.settings.margin.left-this.settings.margin.right,this.D3jsheight=this.viewport.height-this.settings.margin.top-this.settings.margin.bottom;var n=this.D3jswidth>100?100:this.D3jswidth;this.d3Container.selectAll(D3JSVisual.D3jsLogo.selectorName).remove();var r=this.d3Container.selectAll(D3JSVisual.D3jsLogo.selectorName).data(t);r.enter().append("div").attr("tooltip",function(e){return e.title}).each(function(e){this.classList.add(e.class)}).style("top",PixelConverter.toString((this.D3jsheight-n/2)/2)).style("left",PixelConverter.toString((this.D3jswidth-n/2)/2)).html(function(e){return e.icon.replace(/#width/g,n.toString())}),r.exit().remove(),""!==this.settings.general.js&&(r.classed("fading",!0),this.renderD3js(e,this.D3jsheight,this.D3jswidth))}this.telemetry.trace(2,this.traceEvents.update)},D3JSVisual.prototype.renderEdit=function(){var e=this.viewport,t=this.editContainer.select("textarea"),n=void 0;this.open=this.getSelectedIcons(),n=$(D3JSVisual.EditorTextArea.selectorName)[0],$(".CodeMirror").remove(),this.editor=CodeMirror.fromTextArea(n,{lineNumbers:!0}),this.switchContext(this,t,this.open);var r=this;this.editor.setSize(e.width,e.height-24),this.editor.on("change",function(){MessageBox.MessageBox.setMessageBox(r.hideMessageBox),r.reload?(r.isSaved=!0,r.reload=!1):r.isSaved=!1,r.editor.save()}),this.registerEvents(t)},D3JSVisual.prototype.renderD3js=function(options,height,width){this.telemetry.trace(2,this.traceEvents.render);var __this=this,data=this.data=this.convert(options.dataViews[0]),d3jsCode=this.createHeader(data,height,width);d3jsCode+=this.settings.general.js,this.d3jsFrame.style("heigth",PixelConverter.toString(height)).style("width",PixelConverter.toString(width)).style("padding-top",PixelConverter.toString(this.settings.margin.top)).style("padding-left",PixelConverter.toString(this.settings.margin.left));var iHtml=this.settings.general.d3CSS;iHtml=iHtml.replace("#style",this.settings.general.css);var svg=this.settings.general.d3SVG.replace(/#height/g,PixelConverter.toString(height)).replace(/#width/g,PixelConverter.toString(width));iHtml+=svg,$(D3JSVisual.D3jsFrame.selectorName).html(iHtml);try{eval(d3jsCode)}catch(e){console.log("Error during D3js code evauation: "+e.description)}var logo=$(D3JSVisual.D3jsLogo.selectorName).remove()},D3JSVisual.prototype.createHeader=function(e,t,n){return this.createHeaderBase(e,t,n,!0)},D3JSVisual.prototype.createHeaderView=function(e,t,n){return this.createHeaderBase(e,t,n,!1)},D3JSVisual.prototype.createHeaderBase=function(e,t,n,r){var i="var pbi = {";if(i+=(r?"":"\n\t")+"width:"+n+",",i+=(r?"":"\n\t")+"height:"+t+",",i+=(r?"":"\n\t")+"colors:["+(r?'"':'\n\t\t"')+this.settings.colors.color1+'",'+(r?'"':'\n\t\t"')+this.settings.colors.color2+'",'+(r?'"':'\n\t\t"')+this.settings.colors.color3+'",'+(r?'"':'\n\t\t"')+this.settings.colors.color4+'",'+(r?'"':'\n\t\t"')+this.settings.colors.color5+'",'+(r?'"':'\n\t\t"')+this.settings.colors.color6+'",'+(r?'"':'\n\t\t"')+this.settings.colors.color7+'",'+(r?'"':'\n\t\t"')+this.settings.colors.color8+(r?'"':'"\n\t')+"],",i+=(r?"":"\n\t")+"dsv:function(accessor,callback){"+(r?"":"\n\t\t")+"data=[",e&&e.dataObjects&&e.dataObjects.length>0)for(var o=0;o<e.dataObjects[0].values.length;o++){i+=(r?"":"\n\t\t\t")+"{";for(var a=0;a<e.dataObjects.length;a++){var s=e.dataObjects[a].columnName,u=e.dataObjects[a].values[o];i+=s+":'"+u+"',"}i+="},"}return i+=(r?"":"\n\t\t")+"];",i+=(r?"":"\n\t\t")+"if (arguments.length<2) {",i+=(r?"":"\n\t\t\t")+"callback=accessor,accessor=null;",i+=(r?"":"\n\t\t")+"} else {",i+=(r?"":"\n\t\t\t")+"data = data.map(function(d) { return accessor(d) });",i+=(r?"":"\n\t\t")+"}",i+=(r?"":"\n\t\t")+"callback(data);",i+=(r?"":"\n\t")+"}"+(r?"":"\n")+"};"},D3JSVisual.prototype.convert=function(e){if(!e||!e.table||!e.table.columns)return{dataObjects:[]};for(var t=e.table.columns,n=e.table.rows,r=[],i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<n.length;s++)a.push(n[s][i]);var u={columnName:o.displayName.replace(/\s+/g,"").toLowerCase(),values:a};r.push(u)}return{dataObjects:r}},D3JSVisual.prototype.parseColors=function(){""===this.settings.colors.color1&&(this.settings.colors.color1=this.colorPalette.getColor("1").value),""===this.settings.colors.color2&&(this.settings.colors.color2=this.colorPalette.getColor("2").value),""===this.settings.colors.color3&&(this.settings.colors.color3=this.colorPalette.getColor("3").value),""===this.settings.colors.color4&&(this.settings.colors.color4=this.colorPalette.getColor("4").value),""===this.settings.colors.color5&&(this.settings.colors.color5=this.colorPalette.getColor("5").value),""===this.settings.colors.color6&&(this.settings.colors.color6=this.colorPalette.getColor("6").value),""===this.settings.colors.color7&&(this.settings.colors.color7=this.colorPalette.getColor("7").value),""===this.settings.colors.color8&&(this.settings.colors.color8=this.colorPalette.getColor("8").value)},D3JSVisual.prototype.persist=function(e,t){var n={},r="";switch(t){case D3JSVisualType.Object:return;case D3JSVisualType.Css:r=visualProperties.d3jsCss.objectName,n[visualProperties.d3jsCss.propertyName]=e;break;case D3JSVisualType.Js:default:r=visualProperties.d3jsJs.objectName,n[visualProperties.d3jsJs.propertyName]=e}var i={merge:[{objectName:r,selector:null,properties:n}]};this.host.persistProperties(i)},D3JSVisual.prototype.registerEvents=function(e){var t=this;this.editContainer.select(D3JSVisual.New.selectorName).on("click",function(){var e=t;t.overwriteWarning.callback1=function(){e.reload=!0,e.persist("",e.open),e.editor.setValue(""),e.editor.refresh()},MessageBox.MessageBox.setMessageBox(t.overwriteWarning)}),this.editContainer.select(D3JSVisual.Save.selectorName).on("click",function(){MessageBox.MessageBox.setMessageBox(t.hideMessageBox),t.parseCode(t.editor,t.open)&&(t.isSaved=!0,t.persist(t.editor.getValue(),t.open))}),this.editContainer.select(D3JSVisual.Js.selectorName).on("click",function(){if(MessageBox.MessageBox.setMessageBox(t.hideMessageBox),t.parseCode(t.editor,t.open)){var n=t;t.isSaved?n.switchContext(n,e,D3JSVisualType.Js):(t.saveWarning.callback1=function(){n.isSaved=!0,n.persist(n.editor.getValue(),n.open),n.switchContext(n,e,D3JSVisualType.Js)},t.saveWarning.callback2=function(){n.switchContext(n,e,D3JSVisualType.Js)},MessageBox.MessageBox.setMessageBox(t.saveWarning))}}),this.editContainer.select(D3JSVisual.Css.selectorName).on("click",function(){if(MessageBox.MessageBox.setMessageBox(t.hideMessageBox),t.parseCode(t.editor,t.open)){var n=t;t.isSaved?n.switchContext(n,e,D3JSVisualType.Css):(t.saveWarning.callback1=function(){n.isSaved=!0,n.persist(n.editor.getValue(),n.open),n.switchContext(n,e,D3JSVisualType.Css)},t.saveWarning.callback2=function(){n.switchContext(n,e,D3JSVisualType.Css)},MessageBox.MessageBox.setMessageBox(t.saveWarning))}}),this.editContainer.select(D3JSVisual.Object.selectorName).on("click",function(){if(MessageBox.MessageBox.setMessageBox(t.hideMessageBox),t.parseCode(t.editor,t.open)){var n=t;t.isSaved?n.switchContext(n,e,D3JSVisualType.Object):(t.saveWarning.callback1=function(){n.isSaved=!0,n.persist(n.editor.getValue(),n.open),n.switchContext(n,e,D3JSVisualType.Object)},t.saveWarning.callback2=function(){n.switchContext(n,e,D3JSVisualType.Object)},MessageBox.MessageBox.setMessageBox(t.saveWarning))}}),this.editContainer.select(D3JSVisual.Parse.selectorName).on("click",function(){MessageBox.MessageBox.setMessageBox(t.hideMessageBox),t.parseCode(t.editor,t.open)}),this.editContainer.select(D3JSVisual.Reload.selectorName).on("click",function(){switch(t.open){case D3JSVisualType.Js:t.reload=!0,e.text(t.settings.general.js),t.editor.setValue(t.settings.general.js),t.editor.refresh();break;case D3JSVisualType.Css:t.reload=!0,e.text(t.settings.general.css),t.editor.setValue(t.settings.general.css),t.editor.refresh()}}),this.editContainer.select(D3JSVisual.Help.selectorName).on("click",function(){t.host.launchUrl(t.settings.general.helpUrl)})},D3JSVisual.prototype.switchContext=function(e,t,n){var r,i,o,a=n;switch(n){case D3JSVisualType.Js:i="javascript",o=!1,r=e.settings.general.js;break;case D3JSVisualType.Css:i="css",o=!1,r=e.settings.general.css;break;case D3JSVisualType.Object:i="javascript",o="nocursor",a=D3JSVisualType.Js,r=e.createHeaderView(e.data,e.D3jsheight,e.D3jswidth)}e.open=a,e.reload=!0,e.switchIcons(n),t.text(r),e.editor.setValue(r),e.editor.setOption("mode",i),e.editor.setOption("readOnly",o),e.editor.refresh()},D3JSVisual.prototype.parseCode=function(e,t){var n=1,r={compress:!1,mangle:!1};if(t!==D3JSVisualType.Js)return!0;var i=UglifyJS.minify(e.getValue(),r),o=e.getDoc().getSearchCursor('d3.select("svg")');if(o.findNext()&&(i.error={message:"Replace 'd3.select(\"svg\")' with 'd3.select(\"#chart\")'",line:o.from().line+1,col:o.from().ch,pos:0,filename:"",stack:""},n=o.to().ch-o.from().ch),void 0!==i.error){var a=i.error.message,s=i.error.line,u=i.error.col,l={type:MessageBoxType.Error,base:this.messageBox,text:"Parse error: "+a+" at ("+s+":"+u+")"};return MessageBox.MessageBox.setMessageBox(l),e.getDoc().setSelection({line:s-1,ch:u},{line:s-1,ch:u+n}),e.focus(),!1}return!0},D3JSVisual.prototype.switchIcons=function(e){this.editContainer.select(D3JSVisual.Js.selectorName).classed("selected",e===D3JSVisualType.Js),this.editContainer.select(D3JSVisual.Css.selectorName).classed("selected",e===D3JSVisualType.Css),this.editContainer.select(D3JSVisual.Object.selectorName).classed("selected",e===D3JSVisualType.Object)},D3JSVisual.prototype.getSelectedIcons=function(){return this.editContainer.select(D3JSVisual.Js.selectorName).classed("selected")?D3JSVisualType.Js:this.editContainer.select(D3JSVisual.Css.selectorName).classed("selected")?D3JSVisualType.Css:this.editContainer.select(D3JSVisual.Object.selectorName).classed("selected")?D3JSVisualType.Object:void 0},D3JSVisual.parseSettings=function(e){return D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490.Settings.parse(e)},D3JSVisual.prototype.enumerateObjectInstances=function(e){var t=this.settings||D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490.Settings.getDefault(),n=D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490.Settings.enumerateObjectInstances(t,e);switch(e.objectName){case"general":return}return n},D3JSVisual}();D3JSVisual.EditContainer=createClassAndSelector("editContainer"),D3JSVisual.D3Container=createClassAndSelector("d3Container"),D3JSVisual.EditorHeader=createClassAndSelector("editorHeader"),
D3JSVisual.EditorTextArea=createClassAndSelector("editorTextArea"),D3JSVisual.MessageBox=createClassAndSelector("messageBox"),D3JSVisual.Icon=createClassAndSelector("icon"),D3JSVisual.New=createClassAndSelector("new"),D3JSVisual.Save=createClassAndSelector("save"),D3JSVisual.Reload=createClassAndSelector("reload"),D3JSVisual.Js=createClassAndSelector("js"),D3JSVisual.Css=createClassAndSelector("css"),D3JSVisual.Object=createClassAndSelector("object"),D3JSVisual.Space=createClassAndSelector("space"),D3JSVisual.Parse=createClassAndSelector("parse"),D3JSVisual.Help=createClassAndSelector("help"),D3JSVisual.D3jsLogo=createClassAndSelector("d3jslogo"),D3JSVisual.D3jsFrame=createClassAndSelector("d3jsframe"),D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490.D3JSVisual=D3JSVisual}(D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490=visual.D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490||(visual.D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490={}))}(visual=extensibility.visual||(extensibility.visual={}))}(extensibility=powerbi.extensibility||(powerbi.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){t.D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490={name:"D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490",displayName:"D3JSVisual",class:"D3JSVisual",version:"1.2.0",apiVersion:"1.9.0",create:function(t){return new e.extensibility.visual.D3JSVisual_PBI_CV_CDD143DEC3A145E7A507B562AF6CF490.D3JSVisual(t)},custom:!0}}(t.plugins||(t.plugins={}))}(e.visuals||(e.visuals={}))}(powerbi||(powerbi={}));