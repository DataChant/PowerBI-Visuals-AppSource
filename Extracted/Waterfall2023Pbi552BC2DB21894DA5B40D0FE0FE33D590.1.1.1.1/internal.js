var Waterfall2023Pbi552BC2DB21894DA5B40D0FE0FE33D590;(()=>{"use strict";var e={2880:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.locales=void 0,t.locales={"en-US":["en-US","default",{englishName:"English (United States)"}]}},889:(e,t,i)=>{function a(e){return null==e&&(e=0),{data:[{dataViewWildcard:{matchingOption:e}}]}}i.d(t,{Z:()=>a})},9754:(e,t,i)=>{i.d(t,{Ap:()=>g,Cx:()=>p,Kx:()=>s,PA:()=>m,St:()=>l,Tn:()=>o,iB:()=>d,jF:()=>c,ks:()=>f,sk:()=>h,uI:()=>v});var a=i(8639);class n{}class r extends n{}class s{}class l extends n{}class o extends r{}class u extends n{constructor(e){super(),Object.assign(this,e)}getFormattingSlice(e,t){const i=this.type,a=this.name,n={displayName:t&&this.displayNameKey?t.getDisplayName(this.displayNameKey):this.displayName,description:t&&this.descriptionKey?t.getDisplayName(this.descriptionKey):this.description,uid:e+"-"+a};return Object.assign(Object.assign({},n),{control:{type:i,properties:this.getFormattingComponent(e,t)}})}getFormattingComponent(e,t){return{descriptor:a.y(e,this),value:this.value}}getRevertToDefaultDescriptor(e){return[{objectName:e,propertyName:this.name}]}setPropertiesValues(e,t){var i;let n=null===(i=null==e?void 0:e[t])||void 0===i?void 0:i[this.name];this.value=a.D(this,n,this.value)}}class c extends u{constructor(e){super(e),this.type="ToggleSwitch"}}class h extends u{constructor(e){super(e),this.type="ColorPicker"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}class d extends u{constructor(e){super(e),this.type="NumUpDown"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{options:this.options})}}class g extends d{constructor(){super(...arguments),this.type="Slider"}}class m extends u{constructor(e){super(e),this.type="Dropdown"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{items:this.items})}}class f extends u{constructor(e){super(e),this.type="TextInput"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{placeholder:this.placeholder})}}class p extends u{constructor(){super(...arguments),this.type="FontPicker"}}class v extends u{constructor(){super(...arguments),this.type="ReadOnlyText"}}},6667:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(9754);const n=class{constructor(e){this.localizationManager=e}populateFormattingSettingsModel(e,t){var i,n;let r=new e,s=null===(i=null==t?void 0:t.metadata)||void 0===i?void 0:i.objects;return s&&(null===(n=r.cards)||void 0===n||n.forEach((e=>{var t;e instanceof a.St&&(null===(t=e.topLevelSlice)||void 0===t||t.setPropertiesValues(s,e.name)),(e instanceof a.Tn?[e]:e.groups).forEach((t=>{var i,a,n,r;null===(i=t.topLevelSlice)||void 0===i||i.setPropertiesValues(s,e.name),null===(a=null==t?void 0:t.slices)||void 0===a||a.forEach((t=>{null==t||t.setPropertiesValues(s,e.name)})),null===(r=null===(n=null==t?void 0:t.container)||void 0===n?void 0:n.containerItems)||void 0===r||r.forEach((t=>{var i;null===(i=null==t?void 0:t.slices)||void 0===i||i.forEach((t=>{null==t||t.setPropertiesValues(s,e.name)}))}))}))}))),r}buildFormattingModel(e){let t={cards:[]};return e.cards.filter((({visible:e=!0})=>e)).forEach((e=>{var i;let n={displayName:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,description:this.localizationManager&&e.descriptionKey?this.localizationManager.getDisplayName(e.descriptionKey):e.description,groups:[],uid:e.name+"-card",analyticsPane:e.analyticsPane};const r=e.name;if(e.topLevelSlice){let t=e.topLevelSlice.getFormattingSlice(r,this.localizationManager);t.suppressDisplayName=!0,n.topLevelToggle=t}null===(i=e.onPreProcess)||void 0===i||i.call(e);const s=e instanceof a.Tn;(s?[e].filter((({visible:e=!0})=>e)):e.groups.filter((({visible:e=!0})=>e))).forEach((e=>{const t=e.name+"-group",i={displayName:s?void 0:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,description:s?void 0:this.localizationManager&&e.descriptionKey?this.localizationManager.getDisplayName(e.descriptionKey):e.description,slices:[],uid:t,collapsible:e.collapsible,delaySaveSlices:e.delaySaveSlices,disabled:e.disabled,disabledReason:e.disabledReason};n.groups.push(i);const a={};if(e.container){const n=e.container,s=t+"-container",l={displayName:this.localizationManager&&n.displayNameKey?this.localizationManager.getDisplayName(n.displayNameKey):n.displayName,description:this.localizationManager&&n.descriptionKey?this.localizationManager.getDisplayName(n.descriptionKey):n.description,containerItems:[],uid:s};n.containerItems.forEach((e=>{const t=e.displayNameKey?e.displayNameKey:e.displayName,i=s+t;let n={displayName:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,slices:[],uid:i};this.buildFormattingSlices({slices:e.slices,objectName:r,sliceNames:a,formattingSlices:n.slices}),l.containerItems.push(n)})),i.container=l}if(e.slices){if(e.topLevelSlice){let t=e.topLevelSlice.getFormattingSlice(r,this.localizationManager);t.suppressDisplayName=!0,(null==i.displayName?n:i).topLevelToggle=t}this.buildFormattingSlices({slices:e.slices,objectName:r,sliceNames:a,formattingSlices:i.slices})}})),n.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(e),t.cards.push(n)})),t}buildFormattingSlices({slices:e,objectName:t,sliceNames:i,formattingSlices:a}){null==e||e.filter((({visible:e=!0})=>e)).forEach((e=>{let n=null==e?void 0:e.getFormattingSlice(t,this.localizationManager);n&&(void 0===i[e.name]?i[e.name]=0:(i[e.name]++,n.uid=`${n.uid}-${i[e.name]}`),a.push(n))}))}getRevertToDefaultDescriptor(e){var t;const i={};let n,r=[],s=[];return e instanceof a.St&&e.topLevelSlice&&r.push(...null===(t=e.topLevelSlice)||void 0===t?void 0:t.getRevertToDefaultDescriptor(e.name)),(e instanceof a.Tn?[e].filter((({visible:e=!0})=>e)):e.groups.filter((({visible:e=!0})=>e))).forEach((t=>{var a,l;n=this.getSlicesRevertToDefaultDescriptor(e.name,t.slices,i,t.topLevelSlice),null===(l=null===(a=t.container)||void 0===a?void 0:a.containerItems)||void 0===l||l.forEach((t=>{s=s.concat(this.getSlicesRevertToDefaultDescriptor(e.name,t.slices,i))})),r.push(...n.concat(s))})),r}getSlicesRevertToDefaultDescriptor(e,t,i,a){let n=[];return a&&(i[a.name]=!0,n=n.concat(a.getRevertToDefaultDescriptor(e))),null==t||t.forEach((t=>{t&&!i[t.name]&&(i[t.name]=!0,n=n.concat(t.getRevertToDefaultDescriptor(e)))})),n}}},7674:(e,t,i)=>{i.d(t,{O:()=>n.A,z:()=>a});var a=i(9754),n=i(6667)},8639:(e,t,i)=>{function a(e,t){return{objectName:e,propertyName:t.name,selector:t.selector,altConstantValueSelector:t.altConstantSelector,instanceKind:t.instanceKind}}function n(e,t,i){return null==t||"object"==typeof t&&!t.solid?i:t.solid?{value:null==t?void 0:t.solid.color}:(null==e?void 0:e.items)?e.items.find((e=>e.value==t)):t}i.d(t,{D:()=>n,y:()=>a})},8599:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=i(2880);t.default=function(e){Object.keys(a.locales).forEach((function(t){return e.addCultureInfo.apply(e,a.locales[t])}))}},7717:(e,t)=>{var i,a,n,r,s,l,o,u;Object.defineProperty(t,"__esModule",{value:!0}),t.parseNegativePattern=t.parseExact=t.getEraYear=t.getEra=t.getTokenRegExp=t.formatNumber=t.formatDate=t.expandFormat=t.appendPreOrPostMatch=t.zeroPad=t.trim=t.startsWith=t.isObject=t.isFunction=t.isArray=t.extend=t.endsWith=t.arrayIndexOf=t.regexTrim=t.regexParseFloat=t.regexInfinity=t.regexHex=t.Globalize=void 0,t.Globalize=function(e){return new t.Globalize.prototype.init(e)},t.Globalize.cultures={},t.Globalize.prototype={constructor:t.Globalize,init:function(e){return this.cultures=t.Globalize.cultures,this.cultureSelector=e,this}},t.Globalize.prototype.init.prototype=t.Globalize.prototype,t.Globalize.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},t.Globalize.cultures.default.calendar=t.Globalize.cultures.default.calendars.standard,t.Globalize.cultures.en=t.Globalize.cultures.default,t.Globalize.cultureSelector="en",t.regexHex=/^0x[a-f0-9]+$/i,t.regexInfinity=/^[+-]?infinity$/i,t.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,t.regexTrim=/^\s+|\s+$/g,t.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,a=e.length;i<a;i++)if(e[i]===t)return i;return-1},t.endsWith=function(e,t){return e.substring(e.length-t.length)===t},t.extend=function(e){var i,a,n,r,s,l,o=arguments[0]||{},u=1,c=arguments.length;for(e=!1,"boolean"==typeof o&&(e=o,o=arguments[1]||{},u=2),"object"==typeof o||(0,t.isFunction)(o)||(o={});u<c;u++)if(null!=(i=arguments[u]))for(a in i)n=o[a],o!==(r=i[a])&&(e&&r&&((0,t.isObject)(r)||(s=(0,t.isArray)(r)))?(s?(s=!1,l=n&&(0,t.isArray)(n)?n:[]):l=n&&(0,t.isObject)(n)?n:{},o[a]=(0,t.extend)(e,l,r)):void 0!==r&&(o[a]=r));return o},t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.trim=function(e){return(e+"").replace(t.regexTrim,"")},t.zeroPad=function(e,t,i){var a;for(a=e.length;a<t;a+=1)e=i?"0"+e:e+"0";return e},t.appendPreOrPostMatch=function(e,t){for(var i=0,a=!1,n=0,r=e.length;n<r;n++){var s=e.charAt(n);switch(s){case"'":a?t.push("'"):i++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(s),a=!1}}return i},t.expandFormat=function(e,t){t=t||"F";var i,a=e.patterns,n=t.length;if(1===n){if(!(i=a[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},t.formatDate=function(e,i,a){var n=a.calendar,r=n.convert;if(!i||!i.length||"i"===i){var s;if(a&&a.name.length)if(r)s=(0,t.formatDate)(e,n.patterns.F,a);else{var l=new Date(e.getTime()),o=(0,t.getEra)(e,n.eras);l.setFullYear((0,t.getEraYear)(e,n,o)),s=l.toLocaleString()}else s=e.toString();return s}var u=n.eras,c="s"===i;i=(0,t.expandFormat)(n,i),s=[];var h,d,g,m,f=["0","00","000"],p=/([^d]|^)(d|dd)([^d]|$)/g,v=0,y=(0,t.getTokenRegExp)();function b(e,t){var i,a=e+"";return t>1&&a.length<t?(i=f[t-2]+a).substring(i.length-t,i.length):i=a}function S(e,t){if(m)return m[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(!c&&r&&(m=r.fromGregorian(e));;){var x=y.lastIndex,A=y.exec(i),w=i.slice(x,A?A.index:i.length);if(v+=(0,t.appendPreOrPostMatch)(w,s),!A)break;if(v%2)s.push(A[0]);else{var T=A[0],N=T.length;switch(T){case"ddd":case"dddd":var C=3===N?n.days.namesAbbr:n.days.names;s.push(C[e.getDay()]);break;case"d":case"dd":d=!0,s.push(b(S(e,2),N));break;case"MMM":case"MMMM":var D=S(e,1);s.push(n.monthsGenitive&&(d||g||(d=p.test(i),g=!0),d)?n.monthsGenitive[3===N?"namesAbbr":"names"][D]:n.months[3===N?"namesAbbr":"names"][D]);break;case"M":case"MM":s.push(b(S(e,1)+1,N));break;case"y":case"yy":case"yyyy":D=m?m[0]:(0,t.getEraYear)(e,n,(0,t.getEra)(e,u),c),N<4&&(D%=100),s.push(b(D,N));break;case"h":case"hh":0==(h=e.getHours()%12)&&(h=12),s.push(b(h,N));break;case"H":case"HH":s.push(b(e.getHours(),N));break;case"m":case"mm":s.push(b(e.getMinutes(),N));break;case"s":case"ss":s.push(b(e.getSeconds(),N));break;case"t":case"tt":D=e.getHours()<12?n.AM?n.AM[0]:" ":n.PM?n.PM[0]:" ",s.push(1===N?D.charAt(0):D);break;case"f":case"ff":case"fff":s.push(b(e.getMilliseconds(),3).substring(0,N));break;case"z":case"zz":h=e.getTimezoneOffset()/60,s.push((h<=0?"+":"-")+b(Math.floor(Math.abs(h)),N));break;case"zzz":h=e.getTimezoneOffset()/60,s.push((h<=0?"+":"-")+b(Math.floor(Math.abs(h)),2)+":"+b(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":n.eras&&s.push(n.eras[(0,t.getEra)(e,u)].name);break;case"/":s.push(n["/"]);break;default:throw"Invalid date format pattern '"+T+"'."}}}return s.join("")},i=function(e,i,a){var n=a.groupSizes,r=n[0],s=1,l=Math.pow(10,i),o=Math.round(e*l)/l;isFinite(o)||(o=e);var u=(e=o)+"",c="",h=u.split(/e/i),d=h.length>1?parseInt(h[1],10):0;h=(u=h[0]).split("."),u=h[0],c=h.length>1?h[1]:"",d>0?(u+=(c=(0,t.zeroPad)(c,d,!1)).slice(0,d),c=c.substring(d)):d<0&&(d=-d,c=(u=(0,t.zeroPad)(u,d+1)).slice(-d,u.length)+c,u=u.slice(0,-d)),c=i>0?a["."]+(c.length>i?c.slice(0,i):(0,t.zeroPad)(c,i)):"";for(var g=u.length-1,m=a[","],f="";g>=0;){if(0===r||r>g)return u.slice(0,g+1)+(f.length?m+f+c:c);f=u.slice(g-r+1,g+1)+(f.length?m+f:""),g-=r,s<n.length&&(r=n[s],s++)}return u.slice(0,g+1)+m+f+c},t.formatNumber=function(e,a,n){if(!a||"i"===a)return n.name.length?e.toLocaleString():e.toString();a=a||"D";var r,s=n.numberFormat,l=Math.abs(e),o=-1;a.length>1&&(o=parseInt(a.slice(1),10));var u,c=a.charAt(0).toUpperCase();switch(c){case"D":r="n",-1!==o&&(l=(0,t.zeroPad)(""+l,o,!0)),e<0&&(l=-l);break;case"N":u=s;case"C":u=u||s.currency;case"P":u=u||s.percent,r=e<0?u.pattern[0]:u.pattern[1]||"n",-1===o&&(o=u.decimals),l=i(l*("P"===c?100:1),o,u);break;default:throw"Bad number format specifier: "+c}for(var h=/n|\$|-|%/g,d="";;){var g=h.lastIndex,m=h.exec(r);if(d+=r.slice(g,m?m.index:r.length),!m)break;switch(m[0]){case"n":d+=l;break;case"$":d+=s.currency.symbol;break;case"-":/[1-9]/.test(l.toString())&&(d+=s["-"]);break;case"%":d+=s.percent.symbol}}return d},t.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},t.getEra=function(e,t){if(!t)return 0;for(var i,a=e.getTime(),n=0,r=t.length;n<r;n++)if(null===(i=t[n].start)||a>=i)return n;return 0},t.getEraYear=function(e,t,i,a){var n=e.getFullYear();return!a&&t.eras&&(n-=t.eras[i].offset),n},a=function(e,i){var a=new Date,n=(0,t.getEra)(a);if(i<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var s=(0,t.getEraYear)(a,e,n);(i+=s-s%100)>r&&(i-=100)}return i},n=function(e,i,a){var n,r=e.days,s=e._upperDays;return s||(e._upperDays=s=[u(r.names),u(r.namesAbbr),u(r.namesShort)]),i=o(i),a?-1===(n=(0,t.arrayIndexOf)(s[1],i))&&(n=(0,t.arrayIndexOf)(s[2],i)):n=(0,t.arrayIndexOf)(s[0],i),n},r=function(e,i,a){var n=e.months,r=e.monthsGenitive||e.months,s=e._upperMonths,l=e._upperMonthsGen;s||(e._upperMonths=s=[u(n.names),u(n.namesAbbr)],e._upperMonthsGen=l=[u(r.names),u(r.namesAbbr)]),i=o(i);var c=(0,t.arrayIndexOf)(a?s[1]:s[0],i);return c<0&&(c=(0,t.arrayIndexOf)(a?l[1]:l[0],i)),c},s=function(e,i){var a=e._parseRegExp;if(a){var n=a[i];if(n)return n}else e._parseRegExp=a={};for(var r,s=(0,t.expandFormat)(e,i).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),l=["^"],o=[],u=0,c=0,h=(0,t.getTokenRegExp)();null!==(r=h.exec(s));){var d=s.slice(u,r.index);if(u=h.lastIndex,(c+=(0,t.appendPreOrPostMatch)(d,l))%2)l.push(r[0]);else{var g,m=r[0],f=m.length;switch(m){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":g="(\\D+)";break;case"tt":case"t":g="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":g="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":g="(\\d\\d?)";break;case"zzz":g="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":g="([+-]?\\d\\d?)";break;case"/":g="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+m+"'."}g&&l.push(g),o.push(r[0])}}(0,t.appendPreOrPostMatch)(s.slice(u),l),l.push("$");var p={regExp:l.join("").replace(/\s+/g,"\\s+"),groups:o};return a[i]=p},l=function(e,t,i){return e<t||e>i},o=function(e){return e.split(" ").join(" ").toUpperCase()},u=function(e){for(var t=[],i=0,a=e.length;i<a;i++)t[i]=o(e[i]);return t},t.parseExact=function(e,i,o){e=(0,t.trim)(e);var u=o.calendar,c=s(u,i),h=new RegExp(c.regExp).exec(e);if(null===h)return null;for(var d,g=c.groups,m=null,f=null,p=null,v=null,y=null,b=0,S=0,x=0,A=0,w=null,T=!1,N=0,C=g.length;N<C;N++){var D=h[N+1];if(D){var M=g[N],_=M.length,k=parseInt(D,10);switch(M){case"dd":case"d":if(l(v=k,1,31))return null;break;case"MMM":case"MMMM":if(p=r(u,D,3===_),l(p,0,11))return null;break;case"M":case"MM":if(l(p=k-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(f=_<4?a(u,k):k,l(f,0,9999))return null;break;case"h":case"hh":if(12===(b=k)&&(b=0),l(b,0,11))return null;break;case"H":case"HH":if(l(b=k,0,23))return null;break;case"m":case"mm":if(l(S=k,0,59))return null;break;case"s":case"ss":if(l(x=k,0,59))return null;break;case"tt":case"t":if(!(T=u.PM&&(D===u.PM[0]||D===u.PM[1]||D===u.PM[2]))&&(!u.AM||D!==u.AM[0]&&D!==u.AM[1]&&D!==u.AM[2]))return null;break;case"f":case"ff":case"fff":if(A=k*Math.pow(10,3-_),l(A,0,999))return null;break;case"ddd":case"dddd":if(y=n(u,D,3===_),l(y,0,6))return null;break;case"zzz":var F=D.split(/:/);if(2!==F.length)return null;if(d=parseInt(F[0],10),l(d,-12,13))return null;var z=parseInt(F[1],10);if(l(z,0,59))return null;w=60*d+((0,t.startsWith)(D,"-")?-z:z);break;case"z":case"zz":if(l(d=k,-12,13))return null;w=60*d;break;case"g":case"gg":var E=D;if(!E||!u.eras)return null;E=(0,t.trim)(E.toLowerCase());for(var O=0,L=u.eras.length;O<L;O++)if(E===u.eras[O].name.toLowerCase()){m=O;break}if(null===m)return null}}}var B,P=new Date,V=u.convert;if(B=V?V.fromGregorian(P)[0]:P.getFullYear(),null===f?f=B:u.eras&&(f+=u.eras[m||0].offset),null===p&&(p=0),null===v&&(v=1),V){if(null===(P=V.toGregorian(f,p,v)))return null}else{if(P.setFullYear(f,p,v),P.getDate()!==v)return null;if(null!==y&&P.getDay()!==y)return null}if(T&&b<12&&(b+=12),P.setHours(b,S,x,A),null!==w){var I=P.getMinutes()-(w+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt((I/60).toString(),10),I%60)}return P},t.parseNegativePattern=function(e,i,a){var n,r=i["-"],s=i["+"];switch(a){case"n -":r=" "+r,s=" "+s;case"n-":(0,t.endsWith)(e,r)?n=["-",e.substring(0,e.length-r.length)]:(0,t.endsWith)(e,s)&&(n=["+",e.substring(0,e.length-s.length)]);break;case"- n":r+=" ",s+=" ";case"-n":(0,t.startsWith)(e,r)?n=["-",e.substring(r.length)]:(0,t.startsWith)(e,s)&&(n=["+",e.substring(s.length)]);break;case"(n)":(0,t.startsWith)(e,"(")&&(0,t.endsWith)(e,")")&&(n=["-",e.substring(1,e.length-1)])}return n||["",e]},t.Globalize.prototype.findClosestCulture=function(e){return t.Globalize.findClosestCulture.call(this,e)},t.Globalize.prototype.format=function(e,i,a){return t.Globalize.format.call(this,e,i,a)},t.Globalize.prototype.localize=function(e,i){return t.Globalize.localize.call(this,e,i)},t.Globalize.prototype.parseInt=function(e,i,a){return t.Globalize.parseInt.call(this,e,i,a)},t.Globalize.prototype.parseFloat=function(e,i,a){return t.Globalize.parseFloat.call(this,e,i,a)},t.Globalize.prototype.culture=function(e){return t.Globalize.culture.call(this,e)},t.Globalize.addCultureInfo=function(e,i,a){var n={},r=!1;"string"!=typeof e?(a=e,e=this.culture().name,n=this.cultures[e]):"string"!=typeof i?(a=i,r=null==this.cultures[e],n=this.cultures[e]||this.cultures.default):(r=!0,n=this.cultures[i]),this.cultures[e]=(0,t.extend)(!0,{},n,a),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},t.Globalize.findClosestCulture=function(e){var i;if(!e)return this.cultures[this.cultureSelector]||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),(0,t.isArray)(e)){var a,n,r=this.cultures,s=e,l=s.length,o=[];for(n=0;n<l;n++){var u,c=(e=(0,t.trim)(s[n])).split(";");a=(0,t.trim)(c[0]),1===c.length?u=1:0===(e=(0,t.trim)(c[1])).indexOf("q=")?(e=e.substring(2),u=parseFloat(e),u=isNaN(u)?0:u):u=1,o.push({lang:a,pri:u})}for(o.sort((function(e,t){return e.pri<t.pri?1:-1})),n=0;n<l;n++)if(i=r[a=o[n].lang])return i;for(n=0;n<l;n++)for(a=o[n].lang;;){var h=a.lastIndexOf("-");if(-1===h)break;if(i=r[a=a.substring(0,h)])return i}for(n=0;n<l;n++)for(var d in a=o[n].lang,r){var g=r[d];if(g.language==a)return g}}else if("object"==typeof e)return e;return i||null},t.Globalize.format=function(e,i,a){var n=this.findClosestCulture(a);return e instanceof Date?e=(0,t.formatDate)(e,i,n):"number"==typeof e&&(e=(0,t.formatNumber)(e,i,n)),e},t.Globalize.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages.key},t.Globalize.parseDate=function(e,i,a){var n,r,s;if(a=this.findClosestCulture(a),i){if("string"==typeof i&&(i=[i]),i.length)for(var l=0,o=i.length;l<o;l++){var u=i[l];if(u&&(n=(0,t.parseExact)(e,u,a)))break}}else for(r in s=a.calendar.patterns)if(n=(0,t.parseExact)(e,s[r],a))break;return n||null},t.Globalize.parseInt=function(e,i,a){return Math.floor(t.Globalize.parseFloat(e,i,a))},t.Globalize.parseFloat=function(e,i,a){"number"!=typeof i&&(a=i,i=10);var n=this.findClosestCulture(a),r=NaN,s=n.numberFormat;if(e.indexOf(n.numberFormat.currency.symbol)>-1&&(e=(e=e.replace(n.numberFormat.currency.symbol,"")).replace(n.numberFormat.currency["."],n.numberFormat["."])),e=(0,t.trim)(e),t.regexInfinity.test(e))r=parseFloat(e);else if(!i&&t.regexHex.test(e))r=parseInt(e,16);else{var l=(0,t.parseNegativePattern)(e,s,s.pattern[0]),o=l[0],u=l[1];""===o&&"-n"!==s.pattern[0]&&(o=(l=(0,t.parseNegativePattern)(e,s,"-n"))[0],u=l[1]),o=o||"+";var c,h,d=u.indexOf("e");d<0&&(d=u.indexOf("E")),d<0?(h=u,c=null):(h=u.substring(0,d),c=u.substring(d+1));var g,m,f=s["."],p=h.indexOf(f);p<0?(g=h,m=null):(g=h.substring(0,p),m=h.substring(p+f.length));var v=s[","];g=g.split(v).join("");var y=v.replace(/\u00A0/g," ");v!==y&&(g=g.split(y).join(""));var b=o+g;if(null!==m&&(b+="."+m),null!==c){var S=(0,t.parseNegativePattern)(c,s,"-n");b+="e"+(S[0]||"+")+S[1]}t.regexParseFloat.test(b)&&(r=parseFloat(b))}return r},t.Globalize.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.culture.default}},7630:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeSequence=void 0;var a=i(7925),n=i(2087),r=n.numericSequence.NumericSequence,s=n.numericSequenceRange.NumericSequenceRange,l=i(3351),o=function(){function e(e){this.unit=e,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999"),this.max=new Date("0001-01-01T00:00:00.000")}return e.prototype.add=function(e){e<this.min&&(this.min=e),e>this.max&&(this.max=e),this.sequence.push(e)},e.prototype.extendToCover=function(t,i){for(var a=this.min;t<a;)a=e.ADD_INTERVAL(a,-this.interval,this.unit),this.sequence.splice(0,0,a);for(this.min=a,a=this.max;a<i;)a=e.ADD_INTERVAL(a,this.interval,this.unit),this.sequence.push(a);this.max=a},e.prototype.moveToCover=function(t,i){var a=e.getDelta(t,i,this.unit),n=Math.floor(a/this.interval);for(this.min=e.ADD_INTERVAL(this.min,n*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<i;)this.max=e.ADD_INTERVAL(this.max,this.interval,this.unit),this.sequence.push(this.max)},e.CALCULATE=function(t,i,a,n){switch(n||(n=e.GET_INTERVAL_UNIT(t,i,a)),n){case l.DateTimeUnit.Year:return e.CALCULATE_YEARS(t,i,a);case l.DateTimeUnit.Month:return e.CALCULATE_MONTHS(t,i,a);case l.DateTimeUnit.Week:return e.CALCULATE_WEEKS(t,i,a);case l.DateTimeUnit.Day:return e.CALCULATE_DAYS(t,i,a);case l.DateTimeUnit.Hour:return e.CALCULATE_HOURS(t,i,a);case l.DateTimeUnit.Minute:return e.CALCULATE_MINUTES(t,i,a);case l.DateTimeUnit.Second:return e.CALCULATE_SECONDS(t,i,a);case l.DateTimeUnit.Millisecond:return e.CALCULATE_MILLISECONDS(t,i,a)}},e.CALCULATE_YEARS=function(t,i,a){var n=s.calculateDataRange(t.getFullYear(),i.getFullYear(),!1),o=r.calculate(s.calculate(0,n.max-n.min),a,0,null,null,[1,2,5]),u=Math.floor(n.min/o.interval)*o.interval,c=new Date(u,0,1);return e.fromNumericSequence(c,o,l.DateTimeUnit.Year)},e.CALCULATE_MONTHS=function(t,i,a){var n=t.getFullYear(),s=i.getFullYear(),o=t.getMonth(),u=12*(s-n)+i.getMonth(),c=new Date(n,0,1),h=r.calculateUnits(o,u,a,[1,2,3,6,12]);return e.fromNumericSequence(c,h,l.DateTimeUnit.Month)},e.CALCULATE_WEEKS=function(t,i,a){var s=(t.getDay()-0+7)%7,o=t.getDate()-s,u=new Date(t.getFullYear(),t.getMonth(),o),c=n.double.ceilWithPrecision(e.getDelta(u,i,l.DateTimeUnit.Week)),h=r.calculateUnits(0,c,a,[1,2,4,8]);return e.fromNumericSequence(u,h,l.DateTimeUnit.Week)},e.CALCULATE_DAYS=function(t,i,a){var s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=n.double.ceilWithPrecision(e.getDelta(t,i,l.DateTimeUnit.Day)),u=r.calculateUnits(0,o,a,[1,2,7,14]);return e.fromNumericSequence(s,u,l.DateTimeUnit.Day)},e.CALCULATE_HOURS=function(t,i,a){var s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=n.double.floorWithPrecision(e.getDelta(s,t,l.DateTimeUnit.Hour)),u=n.double.ceilWithPrecision(e.getDelta(s,i,l.DateTimeUnit.Hour)),c=r.calculateUnits(o,u,a,[1,2,3,6,12,24]);return e.fromNumericSequence(s,c,l.DateTimeUnit.Hour)},e.CALCULATE_MINUTES=function(t,i,a){var s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),o=n.double.floorWithPrecision(e.getDelta(s,t,l.DateTimeUnit.Minute)),u=n.double.ceilWithPrecision(e.getDelta(s,i,l.DateTimeUnit.Minute)),c=r.calculateUnits(o,u,a,[1,2,5,10,15,30,60,120,180,360,720,1440]);return e.fromNumericSequence(s,c,l.DateTimeUnit.Minute)},e.CALCULATE_SECONDS=function(t,i,a){var s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),o=n.double.floorWithPrecision(e.getDelta(s,t,l.DateTimeUnit.Second)),u=n.double.ceilWithPrecision(e.getDelta(s,i,l.DateTimeUnit.Second)),c=r.calculateUnits(o,u,a,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return e.fromNumericSequence(s,c,l.DateTimeUnit.Second)},e.CALCULATE_MILLISECONDS=function(t,i,a){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),o=e.getDelta(n,t,l.DateTimeUnit.Millisecond),u=e.getDelta(n,i,l.DateTimeUnit.Millisecond),c=r.calculate(s.calculate(o,u),a,0);return e.fromNumericSequence(n,c,l.DateTimeUnit.Millisecond)},e.ADD_INTERVAL=function(e,t,i){switch(t=Math.round(t),i){case l.DateTimeUnit.Year:return a.addYears(e,t);case l.DateTimeUnit.Month:return a.addMonths(e,t);case l.DateTimeUnit.Week:return a.addWeeks(e,t);case l.DateTimeUnit.Day:return a.addDays(e,t);case l.DateTimeUnit.Hour:return a.addHours(e,t);case l.DateTimeUnit.Minute:return a.addMinutes(e,t);case l.DateTimeUnit.Second:return a.addSeconds(e,t);case l.DateTimeUnit.Millisecond:return a.addMilliseconds(e,t)}},e.fromNumericSequence=function(t,i,a){for(var n=new e(a),r=0;r<i.sequence.length;r++){var s=i.sequence[r],l=e.ADD_INTERVAL(t,s,a);n.add(l)}return n.interval=i.interval,n.intervalOffset=i.intervalOffset,n},e.getDelta=function(e,t,i){var a=0;switch(i){case l.DateTimeUnit.Year:a=t.getFullYear()-e.getFullYear();break;case l.DateTimeUnit.Month:a=12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth();break;case l.DateTimeUnit.Week:a=(t.getTime()-e.getTime())/6048e5;break;case l.DateTimeUnit.Day:a=(t.getTime()-e.getTime())/864e5;break;case l.DateTimeUnit.Hour:a=(t.getTime()-e.getTime())/36e5;break;case l.DateTimeUnit.Minute:a=(t.getTime()-e.getTime())/6e4;break;case l.DateTimeUnit.Second:a=(t.getTime()-e.getTime())/1e3;break;case l.DateTimeUnit.Millisecond:a=t.getTime()-e.getTime()}return a},e.GET_INTERVAL_UNIT=function(t,i,a){a=Math.max(a,2);var n=e.getDelta(t,i,l.DateTimeUnit.Day);if(n>356&&n>=180*a)return l.DateTimeUnit.Year;if(n>60&&n>7*a)return l.DateTimeUnit.Month;if(n>14&&n>2*a)return l.DateTimeUnit.Week;var r=e.getDelta(t,i,l.DateTimeUnit.Hour);if(n>2&&r>12*a)return l.DateTimeUnit.Day;if(r>=24&&r>=a)return l.DateTimeUnit.Hour;var s=e.getDelta(t,i,l.DateTimeUnit.Minute);if(s>2&&s>=a)return l.DateTimeUnit.Minute;var o=e.getDelta(t,i,l.DateTimeUnit.Second);if(o>2&&o>=.8*a)return l.DateTimeUnit.Second;if(e.getDelta(t,i,l.DateTimeUnit.Millisecond)>0)return l.DateTimeUnit.Millisecond;var u=t;return 0!==u.getMilliseconds()?l.DateTimeUnit.Millisecond:0!==u.getSeconds()?l.DateTimeUnit.Second:0!==u.getMinutes()?l.DateTimeUnit.Minute:0!==u.getHours()?l.DateTimeUnit.Hour:1!==u.getDate()?l.DateTimeUnit.Day:0!==u.getMonth()?l.DateTimeUnit.Month:l.DateTimeUnit.Year},e.MIN_COUNT=1,e.MAX_COUNT=1e3,e}();t.DateTimeSequence=o},7925:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addMilliseconds=t.addSeconds=t.addMinutes=t.addHours=t.addDays=t.addWeeks=t.addMonths=t.addYears=void 0;var i=[31,28,31,30,31,30,31,31,30,31,30,31],a=[31,29,31,30,31,30,31,31,30,31,30,31];function n(e){return e%4==0&&e%100!=0||e%400==0}function r(e,t){var i=e.getFullYear(),a=e.getMonth(),n=e.getDate(),r=new Date(e.getTime());return r.setFullYear(i,a,n+t),r}t.addYears=function(e,t){var i=e.getFullYear(),a=e.getMonth(),r=e.getDate(),s=2===a&&29===r,l=new Date(e.getTime());return i+=t,s&&!n(i)&&(r=28),l.setFullYear(i,a,r),l},t.addMonths=function(e,t){var r=e.getFullYear(),s=e.getMonth(),l=e.getDate(),o=new Date(e.getTime());return r+=(t-t%12)/12,(s+=t%12)>11&&(s%=12,r++),l=Math.min(l,function(e,t){return n(e)?a[t]:i[t]}(r,s)),o.setFullYear(r,s,l),o},t.addWeeks=function(e,t){return r(e,7*t)},t.addDays=r,t.addHours=function(e,t){return new Date(e.getTime()+36e5*t)},t.addMinutes=function(e,t){return new Date(e.getTime()+6e4*t)},t.addSeconds=function(e,t){return new Date(e.getTime()+1e3*t)},t.addMilliseconds=function(e,t){return new Date(e.getTime()+t)}},3224:function(e,t,i){var a,n=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.DataLabelsDisplayUnitSystem=t.WholeUnitsDisplayUnitSystem=t.DefaultDisplayUnitSystem=t.NoDisplayUnitSystem=t.DisplayUnitSystem=t.DisplayUnit=void 0;var r=i(3100),s=i(2087),l=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,o=function(){function e(){}return e.prototype.project=function(e){return this.value?s.double.removeDecimalNoise(e/this.value):e},e.prototype.reverseProject=function(e){return this.value?e*this.value:e},e.prototype.isApplicableTo=function(e){e=Math.abs(e);var t=s.double.getPrecision(e,3);return s.double.greaterOrEqualWithPrecision(e,this.applicableRangeMin,t)&&s.double.lessWithPrecision(e,this.applicableRangeMax,t)},e.prototype.isScaling=function(){return this.value>1},e}();t.DisplayUnit=o;var u=function(){function e(e){this.units=e||[]}return Object.defineProperty(e.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),e.prototype.update=function(e){void 0!==e&&(this.unitBaseValue=e,this.displayUnit=this.findApplicableDisplayUnit(e))},e.prototype.findApplicableDisplayUnit=function(e){for(var t=0,i=this.units;t<i.length;t++){var a=i[t];if(a.isApplicableTo(e))return a}},e.prototype.format=function(e,t,i,a,n){i=this.getNumberOfDecimalsForFormatting(t,i);var r="";return this.isFormatSupported(t)&&!this.hasScientitifcFormat(t)&&this.isScalingUnit()&&this.shouldRespectScalingUnit(t)&&(e=this.displayUnit.project(e),r=this.displayUnit.labelFormat),this.formatHelper({value:e,nonScientificFormat:r,format:t,decimals:i,trailingZeros:a,cultureSelector:n})},e.prototype.isFormatSupported=function(t){return!e.UNSUPPORTED_FORMATS.test(t)},e.prototype.isPercentageFormat=function(e){return e&&e.indexOf("%")>=0},e.prototype.shouldRespectScalingUnit=function(e){return!0},e.prototype.getNumberOfDecimalsForFormatting=function(e,t){return t},e.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},e.prototype.formatHelper=function(e){var t=e.value,i=e.cultureSelector,a=e.decimals,n=e.trailingZeros,s=e.nonScientificFormat,l=e.format;if("g"!==l&&"G"!==l||null==a||(l="#,0.00"),(l=r.numberFormat.addDecimalsToFormat(l,a,n))&&!r.formattingService.isStandardNumberFormat(l))return r.formattingService.formatNumberWithCustomOverride(t,l,s,i);l||(l="G"),s||(s="{0}");var o=r.formattingService.formatValue(t,l,i);return r.formattingService.format(s,[o])},e.prototype.formatSingleValue=function(e,t,i,a,n){return this.update(this.shouldUseValuePrecision(e)?s.double.getPrecision(e,8):e),this.format(e,t,i,a,n)},e.prototype.shouldUseValuePrecision=function(e){if(0===this.units.length)return!0;for(var t=0,i=0;i<this.units.length;i++)if(this.units[i].isScaling()){t=this.units[i].applicableRangeMin;break}return Math.abs(e)<t},e.prototype.isScientific=function(e){return e<-1e15||e>1e15||-1e-4<e&&e<1e-4&&0!==e},e.prototype.hasScientitifcFormat=function(e){return e&&-1!==e.toUpperCase().indexOf("E")},e.prototype.supportsScientificFormat=function(e){return!e||l.test(e)},e.prototype.shouldFallbackToScientific=function(e,t){return!this.hasScientitifcFormat(t)&&this.supportsScientificFormat(t)&&this.isScientific(e)},e.prototype.getScientificFormat=function(e,t,i,a){if(this.isFormatSupported(t)&&this.shouldFallbackToScientific(e,t)){var n=r.numberFormat.getNumericFormat(e,t);return i&&(n=r.numberFormat.addDecimalsToFormat(n||"0",Math.abs(i),a)),n?n+"E+0":"0.##E+0"}return t},e.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,e}();t.DisplayUnitSystem=u;var c=function(e){function t(){return e.call(this,[])||this}return n(t,e),t}(u);t.NoDisplayUnitSystem=c;var h=function(e){function t(i){return e.call(this,t.getUnits(i))||this}return n(t,e),t.prototype.format=function(t,i,a,n,r){return i=this.getScientificFormat(t,i,a,n),e.prototype.format.call(this,t,i,a,n,r)},t.RESET=function(){t.units=null},t.getUnits=function(e){return t.units||(t.units=m(e,(function(e,t,i){return e-t>=1e3?e/10:i})),t.units[t.units.length-1].applicableRangeMax=1/0),t.units},t}(u);t.DefaultDisplayUnitSystem=h;var d=function(e){function t(i){return e.call(this,t.getUnits(i))||this}return n(t,e),t.RESET=function(){t.units=null},t.getUnits=function(e){return t.units||(t.units=m(e),t.units[t.units.length-1].applicableRangeMax=1/0),t.units},t.prototype.format=function(t,i,a,n,r){return i=this.getScientificFormat(t,i,a,n),e.prototype.format.call(this,t,i,a,n,r)},t}(u);t.WholeUnitsDisplayUnitSystem=d;var g=function(e){function t(i){return e.call(this,t.getUnits(i))||this}return n(t,e),t.prototype.isFormatSupported=function(e){return!t.UNSUPPORTED_FORMATS.test(e)},t.getUnits=function(e){if(!t.units){var i=[],a=function(e,t,i){return-1===e&&e-t>=1e3?e/10:i},n=e(-1);f(i,t.AUTO_DISPLAYUNIT_VALUE,n.title,n.format,a),n=e(0),f(i,t.NONE_DISPLAYUNIT_VALUE,n.title,n.format,a),t.units=i.concat(m(e,a)),t.units[t.units.length-1].applicableRangeMax=1/0}return t.units},t.prototype.format=function(t,i,a,n,r){return i=this.getScientificFormat(t,i,a,n),e.prototype.format.call(this,t,i,a,n,r)},t.AUTO_DISPLAYUNIT_VALUE=0,t.NONE_DISPLAYUNIT_VALUE=1,t.UNSUPPORTED_FORMATS=/^(e\d*)$/i,t}(u);function m(e,t){for(var i=[],a=3;a<24;a++){var n=e(a);n&&f(i,s.double.pow10(a),n.title,n.format,t)}return i}function f(e,t,i,a,n){if(i||a){var r=t;if(e.length>0){var s=e[e.length-1];n&&(r=n(t,s.value,r)),s.applicableRangeMax=r}var l=new o;l.value=t,l.applicableRangeMin=r,l.applicableRangeMax=1e3*r,l.title=i,l.labelFormat=a,e.push(l)}}t.DataLabelsDisplayUnitSystem=g},1520:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayUnitSystemType=void 0,(i=t.DisplayUnitSystemType||(t.DisplayUnitSystemType={}))[i.Default=0]="Default",i[i.Verbose=1]="Verbose",i[i.WholeUnits=2]="WholeUnits",i[i.DataLabels=3]="DataLabels"},3801:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Family=t.fallbackFonts=void 0;var a=i(6721);t.fallbackFonts=["helvetica","arial","sans-serif"],t.Family={light:new a.FamilyInfo(t.fallbackFonts),semilight:new a.FamilyInfo(t.fallbackFonts),regular:new a.FamilyInfo(t.fallbackFonts),semibold:new a.FamilyInfo(t.fallbackFonts),bold:new a.FamilyInfo(t.fallbackFonts),lightSecondary:new a.FamilyInfo(t.fallbackFonts),regularSecondary:new a.FamilyInfo(t.fallbackFonts),boldSecondary:new a.FamilyInfo(t.fallbackFonts)}},6721:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FamilyInfo=void 0;var i=function(){function e(e){this.families=e}return Object.defineProperty(e.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),e.prototype.getFamily=function(e){if(void 0===e&&(e=/^wf_/),!this.families)return null;if(e)for(var t=0,i=this.families;t<i.length;t++){var a=i[t];if(e.test(a))return a}return this.families[0]},Object.defineProperty(e.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),e.prototype.getCSS=function(){return this.families?this.families.map((function(e){return e.indexOf(" ")>0?"'"+e+"'":e})).join(", "):null},e}();t.FamilyInfo=i},4932:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.fixDateTimeFormat=t.findDateFormat=void 0,t.findDateFormat=function(e,t,i){switch(t){case"m":t="M";break;case"O":case"o":t="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":t="S";break;case"u":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="F";break;case"y":case"Y":switch(i){case"default":case"en":case"en-US":t="MMMM, yyyy";break;default:t="Y"}}return{value:e,format:t}},t.fixDateTimeFormat=function(e){if(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),i||(i=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map((function(e){return{r:new RegExp("%"+e+"(?!"+e+")","g"),s:e}}))),-1!==e.indexOf("%")&&e.length>2)for(var t=0;t<i.length;t++)e=e.replace(i[t].r,i[t].s);return e}},6394:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.format=t.canFormat=void 0;var a,n,r=i(4932),s=i(6459),l=i(1248),o=i(7717);function u(e,t,i){var a=i.calendar.patterns;!function(e){var t=e.patterns;void 0===t.g&&(t.g=t.f.replace(t.D,t.d),t.G=t.F.replace(t.D,t.d))}(i.calendar);var n=(0,r.findDateFormat)(e,t,i.name);return t=1===n.format.length?a[n.format]:n.format,i||(i=this.getCurrentCulture()),o.Globalize.format(n.value,t,i)}t.canFormat=function(e){return e instanceof Date},t.format=function(e,t,i){var c=1===(t=t||"G").length;try{return c?u(e,t,i):function(e,t,i){var u,c=[];if((t=s.preserveLiterals(t,c)).indexOf("F")>-1){t=l.replaceAll(t,"FFFF","FFF");var h=e.getMilliseconds();if(h%10>=1&&(t=l.replaceAll(t,"FFF","fff")),t=l.replaceAll(t,"FFF","FF"),h%100/10>=1&&(t=l.replaceAll(t,"FF","ff")),t=l.replaceAll(t,"FF","F"),h%1e3/100>=1&&(t=l.replaceAll(t,"F","f")),""===(t=l.replaceAll(t,"F",""))||"%"===t)return""}return t=function(e){return e===a?n:(a=e,e=(0,r.fixDateTimeFormat)(e),n=e,e)}(t),u=function(e,t){var i=t[":"];if(":"===i)return e;for(var a="",n=e.length,r=0;r<n;r++){var s=e.charAt(r);a+=":"===s?i:s}return a}(u=o.Globalize.format(e,t,i),i.calendar),s.restoreLiterals(u,c,!1)}(e,t,i)}catch(t){return u(e,"G",i)}}},6459:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.restoreLiterals=t.preserveLiterals=t.removeLiterals=void 0;var i=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");t.removeLiterals=function(e){return i.lastIndex=0,e.replace(i,"")},t.preserveLiterals=function(e,t){for(i.lastIndex=0;;){var a=i.exec(e);if(!a)break;var n=a[0],r=i.lastIndex-n.length,s=String.fromCharCode(57600+t.length);t.push(n),e=e.substring(0,r)+s+e.substring(i.lastIndex),i.lastIndex=r+1}return e},t.restoreLiterals=function(e,t,i){void 0===i&&(i=!0);for(var a=t.length,n=0;n<a;n++){var r=String.fromCharCode(57600+n),s=t[n];if(!i){var l=s[0];s="\\"===l||1===s.length||s[s.length-1]!==l?s.substring(1):s.substring(1,s.length-1)}e=e.replace(r,s)}return e}},3100:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formattingEncoder=t.dateTimeFormat=t.numberFormat=t.formattingService=t.FormattingService=void 0;var a=i(7717);(0,i(8599).default)(a.Globalize);var n=i(6394);t.dateTimeFormat=n;var r=i(7534);t.numberFormat=r;var s=i(6459);t.formattingEncoder=s;var l=i(3351),o=/({{)|(}})|{(\d+[^}]*)}/g,u=function(){function e(){}return e.prototype.formatValue=function(e,t,i){if(null==e)return"";var a=this.getCulture(i);return n.canFormat(e)?n.format(e,t,a):r.canFormat(e)?r.format(e,t,a):e.toString()},e.prototype.format=function(e,t,i){var a=this;return e?e.replace(o,(function(e,n,r,s){if(n)return"{";if(r)return"}";var l=s.split(":"),o=parseInt(l[0],10),u=l[1];return a.formatValue(t[o],u,i)})):""},e.prototype.isStandardNumberFormat=function(e){return r.isStandardFormat(e)},e.prototype.formatNumberWithCustomOverride=function(e,t,i,a){var n=this.getCulture(a);return r.formatWithCustomOverride(e,t,i,n)},e.prototype.dateFormatString=function(e){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(e)},e.prototype.setCurrentCulture=function(e){this._currentCultureSelector!==e&&(this._currentCulture=this.getCulture(e),this._currentCultureSelector=e,this._dateTimeScaleFormatInfo=new c(this._currentCulture))},e.prototype.getCulture=function(e){if(null==e)return null==this._currentCulture&&this.initialize(),this._currentCulture;var t=a.Globalize.findClosestCulture(e);return t||(t=a.Globalize.culture("en-US")),t},e.prototype.initialize=function(){var e=this.getCurrentCulture();this.setCurrentCulture(e);var t=this.getUrlParam("calendar");if(t){var i=this._currentCulture,a=i.calendars[t];a&&(i.calendar=a)}},e.prototype.getCurrentCulture=function(){return(null===window||void 0===window?void 0:window.navigator)?window.navigator.userLanguage||window.navigator.language:"en-US"},e.prototype.getUrlParam=function(e){var t=window.location.search.match(RegExp("[?&]"+e+"=([^&]*)"));return t?t[1]:void 0},e}();t.FormattingService=u;var c=function(){function e(e){var t=e.calendar,i=t.patterns,a=t.months.namesAbbr,n=a&&a[0],r=i.Y,s=i.M,l=i.f,o=i.T,u=i.t,c=l.indexOf(",")>-1?", ":" ",h=0===r.indexOf("yyyy'")&&r.length>6&&"'"===r[6];this.YearPattern=h?r.substring(0,7):"yyyy";var d=l.indexOf("yy"),g=l.indexOf("MMMM");this.MonthPattern=n&&g>-1?d>g?"MMM yyyy":"yyyy MMM":r,this.DayPattern=n?s.replace("MMMM","MMM"):s;var m=l.indexOf("mm"),f=l.indexOf("tt")>-1?u.replace(":mm ",""):u;this.HourPattern=d<m?this.DayPattern+c+f:f+c+this.DayPattern,this.MinutePattern=u,this.SecondPattern=o,this.MillisecondPattern=o.replace("ss","ss.fff"),"fi-FI"===e.name&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return e.prototype.getFormatString=function(e){switch(e){case l.DateTimeUnit.Year:return this.YearPattern;case l.DateTimeUnit.Month:return this.MonthPattern;case l.DateTimeUnit.Week:case l.DateTimeUnit.Day:return this.DayPattern;case l.DateTimeUnit.Hour:return this.HourPattern;case l.DateTimeUnit.Minute:return this.MinutePattern;case l.DateTimeUnit.Second:return this.SecondPattern;case l.DateTimeUnit.Millisecond:return this.MillisecondPattern}},e}(),h=new u;t.formattingService=h},3351:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeUnit=void 0,(i=t.DateTimeUnit||(t.DateTimeUnit={}))[i.Year=0]="Year",i[i.Month=1]="Month",i[i.Week=2]="Week",i[i.Day=3]="Day",i[i.Hour=4]="Hour",i[i.Minute=5]="Minute",i[i.Second=6]="Second",i[i.Millisecond=7]="Millisecond"},7534:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFormatMetadata=t.formatWithCustomOverride=t.format=t.isStandardFormat=t.canFormat=t.getComponents=t.hasFormatComponents=t.addDecimalsToFormat=t.getNumericFormat=t.NumberFormatComponentsDelimeter=void 0;var a,n=i(7717),r=i(2087),s=i(1248),l=i(6459),o=i(3100),u=/\{.+\}/,c=/e[+-]*[0#]+/i,h=/^[a-z]\d{0,2}$/i,d=/0+$/,g=/\.([0#]*)/g,m=/[0#,\.]+[0,#]*/g,f=/([0#])(?=[^0#]*$)/,p="0",v="#",y=new RegExp([p,v].join("|"),"g");function b(e,t){if(null==t)return t;if(A(t)){var i=w(t),a=i.positive,n=i.negative,r=i.zero;return S(0,e>0?a:0===e?r:n)}return S(0,t)}function S(e,t){var i=r.regExpExtensions.run(m,t);return i?i[0]:t}function x(e,t,i){if((t=Math.abs(t))>=0){var a=[];e=l.preserveLiterals(e,a);var n=i?p:v,o=s.repeat(n,Math.abs(t)),u=r.regExpExtensions.run(g,e);if(u){var c=e.substring(0,u.index),h=e.substring(u.index+1,u[1].length+u.index+1),d=e.substring(u.index+u[0].length);if(i)h=o;else{var m=o.length-h.length;m>0?h+=o.slice(-m):m<0&&(h=h.slice(0,m))}h.length>0&&(h="."+h),e=c+h+d}else o.length>0&&(e=e.replace(f,"$1."+o));0!==a.length&&(e=l.restoreLiterals(e,a))}return e}function A(e){return-1!==l.removeLiterals(e).indexOf(t.NumberFormatComponentsDelimeter)}function w(e){var i={hasNegative:!1,positive:e,negative:e,zero:e},a=[],n=(e=l.preserveLiterals(e,a)).split(t.NumberFormatComponentsDelimeter),r=n.length;return r>1&&(0!==a.length&&(n=n.map((function(e){return l.restoreLiterals(e,a)}))),i.hasNegative=!0,i.positive=i.zero=n[0],i.negative=n[1],r>2&&(i.zero=n[2])),i}function T(e){return h.test(e)}function N(e,t,i,s){var u,h=i.numberFormat;if(!isFinite(e))return n.Globalize.format(e,void 0);var d=w(t);t=e>0?d.positive:0===e?d.zero:d.negative,d.hasNegative&&(e=Math.abs(e));var g=D(t,!0),m=[];if(g.hasLiterals&&(t=l.preserveLiterals(t,m)),g.hasE&&!s){var f=r.regExpExtensions.run(c,t);if(f){var p=t.substring(0,f.index),v=t.substring(f.index+2),y=M(p,g);if(1!==(z=k(p,g))&&(e*=z),"number"!=typeof e)return String(e);var S=e.toExponential(y),x=S.indexOf("e"),A=S.substring(0,x),T=S.substring(x+1),N=F(A,p,h),_=F(T,v,h);"+"===_.charAt(0)&&"+"!==f[0].charAt(1)&&(_=_.substring(1)),u=N+f[0].charAt(0)+_}}if(void 0===u){var z,E=void 0,O=!1;if(y=M(t,g),1!==(z=k(t,g))&&(e*=z),e=parseFloat(C(e,y)),!isFinite(e))return n.Globalize.format(e,void 0);s?(s=function(e,t){if(!t||void 0===e)return e;var i="{0:"+t+"}";return e.replace("{0}",i)}(s,b(e,t)),E=o.formattingService.format(s,[e],i.name),O=!0):E=C(e,y),u=F(E,t,h,s,O)}return g.hasLiterals&&(u=l.restoreLiterals(u,m,!1)),a=g,u}function C(e,t){var i="",a=0;t>16&&(a=t-16,t=16);var n=r.double.log10(Math.abs(e));if(n<16){if(n>0){var l=16-n;t>l&&(a+=t-l,t=l)}i=e.toFixed(t)}else if(16===n)i=e.toFixed(0),(a+=t)>0&&(i+=".");else{if("number"!=typeof e)return String(e);var o=(i=e.toExponential(15)).indexOf("e");if(o>0){var u=i.indexOf("."),c=i.substring(0,o),h=i.substring(o+1),d=parseInt(h,10)-(c.length-u-1);i=c.replace(".","")+s.repeat("0",d),t>0&&(i=i+"."+s.repeat("0",t))}}return a>0&&(i+=s.repeat("0",a)),i}function D(e,t,i,n){if(void 0!==a&&e===a.format)return a;for(var r=[],s=l.preserveLiterals(e,r),o={format:e,hasLiterals:0!==r.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,scale:void 0,partsPerScale:void 0},u=0,c=s.length;u<c;u++)switch(s.charAt(u)){case"e":case"E":o.hasE=!0;break;case",":o.hasCommas=!0;break;case".":o.hasDots=!0;break;case"%":o.hasPercent=!0;break;case"‰":o.hasPermile=!0}var h=w(e);return t&&(o.precision=M(h.positive,o)),n&&(o.partsPerScale=_(h.positive,o)),i&&(o.scale=k(h.positive,o)),o}function M(e,t){if(t.precision>-1)return t.precision;var i=0;if(t.hasDots){t.hasLiterals&&(e=l.removeLiterals(e));var a=e.indexOf(".");if(a>-1){for(var n=e.length,r=a;r<n;r++){var s=e.charAt(r);if(s.match(y)&&i++,"E"===s)break}i=Math.min(19,i)}}return t.precision=i,i}function _(e,t){if(null!=t.partsPerScale)return t.partsPerScale;var i=1;return t.hasPercent&&e.indexOf("%")>-1&&(i*=100),t.hasPermile&&e.indexOf("‰")>-1&&(i*=1e3),t.partsPerScale=i,i}function k(e,t){if(t.scale>-1)return t.scale;var i=_(e,t);if(t.hasCommas){var a=e.indexOf(".");-1===a&&(a=e.length);for(var n=a-1;n>-1&&","===e.charAt(n);n--)i/=1e3}return t.scale=i,i}function F(e,t,i,a,n){var r=!!a,s=t.split(".",2);if(2===s.length){var l=s[0],o=s[1],c="";a&&(c=a.replace(u,""),e=e.replace(c,""));var h=i["."],g=n?h:".",m=e.split(g,2),f=1===m.length?m[0]+c:m[0],b=2===m.length?m[1]+c:"";b=b.replace(d,"");var S=z(f,l,i,r),x=function(e,t,i){var a=t.length,n=e.length;if(i){var r=t.charAt(a-1);return r.match(y)?{value:e,fmtOnly:""===e}:{value:e+r,fmtOnly:""===e}}for(var s="",l=!0,o=0,u=0;u<a;u++){var c=t.charAt(u);if(o<n)switch(c){case p:case v:s+=e[o++],l=!1;break;default:s+=c}else c!==v&&(s+=c,l=l&&c!==p)}return{value:s,fmtOnly:l}}(b,o,r);return x.fmtOnly||""===x.value?S+x.value:S+h+x.value}return z(e,t,i,r)}function z(e,t,i,a){var n=t.indexOf(","),r=n>-1&&n<Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"))&&i[","],s=0,l=0,o=i.groupSizes||[3],u=o[0],c=i[","],h="",d=e.charAt(0);"+"!==d&&"-"!==d||(h=i[d],e=e.substring(1));for(var g="0"===e,m="",f="",y=e.length-1,b=!0,S=t.length-1;S>-1;S--){var x=t.charAt(S);switch(x){case p:case v:b=!1,""!==f&&(m=f+m,f=""),a||((y>-1||x===p)&&r&&(s===u?(m=c+m,++l<o.length&&(u=o[l]),s=1):s++),y>-1?(g&&x===v||(m=e.charAt(y)+m),y--):x!==v&&(m=x+m));break;case",":break;default:f=x+f}}if(!a){if(y>-1&&""!==m)if(r)for(;y>-1;)s===u?(m=c+m,++l<o.length&&(u=o[l]),s=1):s++,m=e.charAt(y)+m,y--;else m=e.substring(0,y+1)+m;return h+f+m}return b?h+f+m:h+f+e+m}function E(e,t){var i=t["+"],a=t["-"],n=t["."],r=t[","];if("+"===i&&"-"===a&&"."===n&&","===r)return e;for(var s=e.length,l="",o=0;o<s;o++){var u=e.charAt(o);switch(u){case"+":l+=i;break;case"-":l+=a;break;case".":l+=n;break;case",":l+=r;break;default:l+=u}}return l}t.NumberFormatComponentsDelimeter=";",t.getNumericFormat=b,t.addDecimalsToFormat=function(e,i,a){if(null==i)return e;if(null==e&&(e=p),A(e)){for(var n=w(e),r=[n.positive,n.negative,n.zero],s=0;s<r.length;s++)r[s]=x(r[s],i,a);return r.join(t.NumberFormatComponentsDelimeter)}return x(e,i,a)},t.hasFormatComponents=A,t.getComponents=w,t.canFormat=function(e){return"number"==typeof e},t.isStandardFormat=T,t.format=function(e,t,i){t=t||"G";try{return T(t)?function(e,t,i){var a,r=t.length>1?parseInt(t.substring(1,t.length),10):void 0,l=i.numberFormat,o=t.charAt(0),u=Math.abs(e);switch(o){case"e":case"E":void 0===r&&(r=6),a=N(e,t="0."+s.repeat("0",r)+o+"+000",i);break;case"f":case"F":a=E(a=void 0!==r?e.toFixed(r):e.toFixed(l.decimals),l);break;case"g":case"G":if(0===u||1e-4<=u&&u<1e15)a=void 0!==r?e.toPrecision(r):e.toString();else{if("number"!=typeof e)return String(e);a=(a=void 0!==r?e.toExponential(r):e.toExponential()).replace("e","E")}a=E(a,l);break;case"r":case"R":a=E(a=e.toString(),l);break;case"x":case"X":if(a=e.toString(16),"X"===o&&(a=a.toUpperCase()),void 0!==r){var c=a.length,h=e<0;h&&c--;var d=r-c,g=void 0;d>0&&(g=s.repeat("0",d)),a=h?"-"+g+a.substring(1):g+a}a=E(a,l);break;default:a=n.Globalize.format(e,t,i)}return a}(e,t,i):N(e,t,i)}catch(t){return n.Globalize.format(e,void 0,i)}},t.formatWithCustomOverride=function(e,t,i,a){return N(e,t,a,i)},t.getCustomFormatMetadata=D},1847:(e,t,i)=>{t.Tf=t.G2=void 0,i(4932);var a=i(5062);t.G2=a,i(1248);var n=i(2391);t.Tf=n,i(1107),i(3801),i(6721),i(604),i(7925),i(7630),i(3224),i(1520),i(3100),i(5807)},1107:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},167:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralStorageService=t.EphemeralStorageService=void 0;var i=function(){function e(t){this.cache={},this.clearCacheInterval=null!=t?t:e.defaultClearCacheInterval,this.clearCache()}return e.prototype.getData=function(e){return this.cache[e]},e.prototype.setData=function(e,t){var i=this;this.cache[e]=t,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout((function(){return i.clearCache()}),this.clearCacheInterval))},e.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},e.defaultClearCacheInterval=864e5,e}();t.EphemeralStorageService=i,t.ephemeralStorageService=new i},1248:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stripTagDelimiters=t.deriveClsCompliantName=t.stringifyAsPrettyJSON=t.normalizeFileName=t.escapeStringForRegex=t.constructNameFromList=t.findUniqueName=t.ensureUniqueNames=t.replaceAll=t.repeat=t.getLengthDifference=t.trimWhitespace=t.trimTrailingWhitespace=t.isWhitespace=t.containsWhitespace=t.isNullOrUndefinedOrWhiteSpaceString=t.isNullOrEmpty=t.stringToArrayBuffer=t.normalizeCase=t.containsIgnoreCase=t.contains=t.startsWith=t.startsWithIgnoreCase=t.equalIgnoreCase=t.format=t.endsWith=void 0;var i=new RegExp("[<>]","g");function a(e,t){return null!=e&&-1!==e.indexOf(t)}function n(e){return e.toUpperCase()}function r(e){return null==e||0===e.length}function s(e){return r(e)||r(e.trim())}function l(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}t.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},t.format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0];if(s(i))return i;for(var a=0;a<e.length-1;a++){var n=new RegExp("\\{"+a+"\\}","gm");i=i.replace(n,e[a+1])}return i},t.equalIgnoreCase=function(e,t){return n(e)===n(t)},t.startsWithIgnoreCase=function(e,t){var i=n(t);return 0===n(e).indexOf(i)},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.contains=a,t.containsIgnoreCase=function(e,t){return null!=e&&a(n(e),n(t))},t.normalizeCase=n,t.stringToArrayBuffer=function(e){if(r(e))return null;for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),a=0,n=e.length;a<n;a++)i[a]=e.charCodeAt(a);return i},t.isNullOrEmpty=r,t.isNullOrUndefinedOrWhiteSpaceString=s,t.containsWhitespace=function(e){return/\s/.test(e)},t.isWhitespace=function(e){return""===e.trim()},t.trimTrailingWhitespace=function(e){return e.replace(/\s+$/,"")},t.trimWhitespace=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},t.getLengthDifference=function(e,t){return Math.abs(e.length-t.length)},t.repeat=function(e,t){for(var i="",a=0;a<t;a++)i+=e;return i},t.replaceAll=function(e,t,i){if(!t)return e;var a=l(t);return e.replace(new RegExp(a,"gi"),i)},t.ensureUniqueNames=function(e){for(var t={},i=0,a=e;i<a.length;i++)t[a[i]]=!1;for(var n=[],r=0,s=e;r<s.length;r++){var l=s[r],o=l;if(t[o])for(var u=0;void 0!==t[o];)o=l+"."+ ++u;n.push(o),t[o]=!0}return n},t.findUniqueName=function(e,t){for(var i=0,a=t;e[a];)a=t+ ++i;return a},t.constructNameFromList=function(e,t,i){for(var a,n=[],r=0,s=0,l=e;s<l.length;s++){var o=l[s];if(r+o.length>i&&n.length>0){a=!0;break}n.push(o),r+=o.length}var u=" "+t+" ",c=n.join(u);return a&&(c+=u+"..."),c},t.escapeStringForRegex=l,t.normalizeFileName=function(e){return e.replace(/[\<\>\:"\/\\\|\?*]/g,"")},t.stringifyAsPrettyJSON=function(e){return JSON.stringify(e)},t.deriveClsCompliantName=function(e,t){var i=e.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return i.length>0?i:t},t.stripTagDelimiters=function(e){return e.replace(i,"")}},2391:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wordBreakOverflowingText=t.wordBreak=t.svgEllipsis=t.getTailoredTextOrDefault=t.getDivElementWidth=t.getSvgMeasurementProperties=t.getMeasurementProperties=t.measureSvgTextElementWidth=t.estimateSvgTextHeight=t.estimateSvgTextBaselineDelta=t.measureSvgTextHeight=t.measureSvgTextRect=t.measureSvgTextWidth=t.removeSpanElement=void 0;var a,n,r,s,l=i(2087),o=i(5807),u=i(167),c="...";function h(){if(!a){a=document.createElement("span"),document.body.appendChild(a);var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("height","0"),e.setAttribute("width","0"),e.setAttribute("position","absolute"),e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.height="0px",e.style.width="0px",n=document.createElementNS("http://www.w3.org/2000/svg","text"),e.appendChild(n),document.body.appendChild(e);var t=document.createElement("canvas");r=t.getContext("2d");var i=window.getComputedStyle(n);s=i?i.fontFamily:""}}function d(e,t){return h(),r.font=(e.fontStyle||"")+" "+(e.fontVariant||"")+" "+(e.fontWeight||"")+" "+e.fontSize+" "+(e.fontFamily||s),r.measureText(t||e.text).width}function g(e,t){for(h();n.firstChild;)n.removeChild(n.firstChild);return n.setAttribute("style",null),n.style.visibility="hidden",n.style.fontFamily=e.fontFamily||s,n.style.fontVariant=e.fontVariant,n.style.fontSize=e.fontSize,n.style.fontWeight=e.fontWeight,n.style.fontStyle=e.fontStyle,n.style.whiteSpace=e.whiteSpace||"nowrap",n.appendChild(document.createTextNode(t||e.text)),n.getBBox()}function m(e){var i=e.fontFamily+e.fontSize,a=u.ephemeralStorageService.getData(i);if(null==a){var n={fontFamily:e.fontFamily,fontSize:e.fontSize,text:"M"};(a=t.measureSvgTextRect(n)).height>0&&u.ephemeralStorageService.setData(i,a)}return a}function f(e,t){void 0===t&&(t=!1);var i=m(e).height;return t&&(i*=.7),i}function p(e){var t=window.getComputedStyle(e);return t?{text:e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}:{text:e.textContent,fontFamily:"",fontSize:"0"}}function v(e,t){if(h(),0===e.text.length)return e.text;var i=d(e);if(i<t)return e.text;if(d(e,c)>=i)return e.text;for(var a=l.prototype.inherit(e),n=a.text=c+a.text,r=1,s=n.length,o=3;r<=s;)if(o=(r+s)/2|0,a.text=n.substring(0,o),t>(i=d(a)))r=o+1;else{if(!(t<i))break;s=o-1}return a.text=n.substring(0,o),(i=d(a))>t&&o--,e.text.substring(0,o-3)+c}t.removeSpanElement=function(){a&&a.remove&&a.remove(),a=null},t.measureSvgTextWidth=d,t.measureSvgTextRect=g,t.measureSvgTextHeight=function(e,t){return g(e,t).height},t.estimateSvgTextBaselineDelta=function(e){var t=m(e);return t.y+t.height},t.estimateSvgTextHeight=f,t.measureSvgTextElementWidth=function(e){return d(p(e))},t.getMeasurementProperties=function(e){var t=window.getComputedStyle(e);return{text:e.value||e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}},t.getSvgMeasurementProperties=p,t.getDivElementWidth=function(e){var t=window.getComputedStyle(e);return t?t.width:"0"},t.getTailoredTextOrDefault=v,t.svgEllipsis=function(e,t){var i=p(e),a=i.text,n=v(i,t);a!==n&&(e.textContent=n)},t.wordBreak=function(e,t,i,a){void 0===a&&(a=0);var n=p(e),r=f(n)+a,s=Math.max(1,Math.floor(i/r)),l=e?e.getAttribute("y"):null,u=e?e.textContent:null;e.textContent=null;for(var c=o.splitByWidth(u,n,d,t,s),h=document.createDocumentFragment(),g=0,m=c.length;g<m;g++){var y=0===g?l:r;n.text=c[g];var b=document.createElementNS("http://www.w3.org/2000/svg","tspan");b.setAttribute("x","0"),b.setAttribute("dy",y?y.toString():null),b.appendChild(document.createTextNode(v(n,t))),h.appendChild(b)}e.appendChild(h)},t.wordBreakOverflowingText=function(e,t,i,a){void 0===a&&(a=0);var n=p(e),r=f(n)+a,s=Math.max(1,Math.floor(i/r)),u=e.textContent;e.textContent=null;for(var c=o.splitByWidth(u,n,d,t,s),h=document.createDocumentFragment(),g=0;g<c.length;g++){var m=document.createElement("span");m.style.overflow="hidden",m.style.whiteSpace="nowrap",m.style.textOverflow="ellipsis",m.style.display="block",m.style.width=l.pixelConverter.toString(t),m.appendChild(document.createTextNode(c[g])),m.appendChild(document.createTextNode(v(n,t))),h.appendChild(m)}e.appendChild(h)}},604:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceSpaceWithNBSP=t.removeEllipses=t.removeBreakingSpaces=void 0,t.removeBreakingSpaces=function(e){return e.toString().replace(new RegExp(" ","g"),"&nbsp")},t.removeEllipses=function(e){return e.replace(/(…)|(\.\.\.)/g,"")},t.replaceSpaceWithNBSP=function(e){if(null!=e)return e.replace(/ /g," ")}},5062:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calculateExactDigitsPrecision=t.getDisplayUnits=t.formatListOr=t.formatListAnd=t.getFormatStringByColumn=t.getFormatString=t.createDisplayUnitSystem=t.formatVariantMeasureValue=t.format=t.create=t.checkValueInBounds=t.createDefaultFormatter=t.setLocaleOptions=t.getFormatMetadata=t.getLocalizedString=t.DefaultDateFormat=t.DefaultNumericFormat=t.DefaultIntegerFormat=void 0;var a=i(3224),n=i(1520),r=i(1248),s=i(3100),l=i(7630),o=i(2087),u=i(9933),c=o.valueType.ValueType,h=o.valueType.PrimitiveType,d=r,g={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};t.DefaultIntegerFormat="g",t.DefaultNumericFormat="#,0.00",t.DefaultDateFormat="d";var m={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};t.getLocalizedString=function(e){return m[e]};var f={nullValue:m.NullValue,trueValue:m.BooleanTrue,falseValue:m.BooleanFalse,NaN:m.NaNValue,infinity:m.InfinityValue,negativeInfinity:m.NegativeInfinityValue,beautify:function(e){return function(e){var t=g[e];return t&&m[t]||e}(e)},describe:function(e){return function(e){var t=-1===e?"Auto":e.toString(),i=m["DisplayUnitSystem_E"+t+"_Title"],a=e<=0?"{0}":m["DisplayUnitSystem_E"+t+"_LabelFormat"];if(i||a)return{title:i,format:a}}(e)},restatementComma:m.RestatementComma,restatementCompoundAnd:m.RestatementCompoundAnd,restatementCompoundOr:m.RestatementCompoundOr},p={displayName:"",type:c.fromPrimitiveTypeAndCategory(h.DateTime)};function v(e,t,i){var a=t?f.beautify(e):e;return{format:function(e){return null==e?f.nullValue:x({value:e,cultureSelector:i,format:a})}}}function y(e){if(null==e)return new a.DefaultDisplayUnitSystem(f.describe);switch(e){case n.DisplayUnitSystemType.Default:return new a.DefaultDisplayUnitSystem(f.describe);case n.DisplayUnitSystemType.WholeUnits:return new a.WholeUnitsDisplayUnitSystem(f.describe);case n.DisplayUnitSystemType.Verbose:return new a.NoDisplayUnitSystem;case n.DisplayUnitSystemType.DataLabels:return new a.DataLabelsDisplayUnitSystem(f.describe);default:return new a.DefaultDisplayUnitSystem(f.describe)}}function b(e,i,a){if(e){if(i){var n=u.dataViewObjects.getValue(e.objects,i);if(n)return n}if(!a){var r=e.type;if(r){if(r.dateTime)return t.DefaultDateFormat;if(r.integer)return r.temporal&&r.temporal.year?"0":t.DefaultIntegerFormat;if(r.numeric)return t.DefaultNumericFormat}}}}function S(e,t){var i;if(!e)return null;var a=e.length;if(a>0){i=e[0];for(var n=a-1,r=1,s=n;r<s;r++){var l=e[r];i=d.format(f.restatementComma,i,l)}a>1&&(l=e[n],i=d.format(t,i,l))}else i=null;return i}function x(e){var t=e.value,i=e.format,a=e.nullsAreBlank,n=e.cultureSelector,r=A(t,a||!1);return d.isNullOrUndefinedOrWhiteSpaceString(r)?s.formattingService.formatValue(t,i,n):r}function A(e,t){return null==e&&t?f.nullValue:!0===e?f.trueValue:!1===e?f.falseValue:"number"==typeof e&&isNaN(e)?f.NaN:e===Number.NEGATIVE_INFINITY?f.negativeInfinity:e===Number.POSITIVE_INFINITY?f.infinity:""}t.getFormatMetadata=function(e){return s.numberFormat.getCustomFormatMetadata(e)},t.setLocaleOptions=function(e){f=e,a.DefaultDisplayUnitSystem.RESET(),a.WholeUnitsDisplayUnitSystem.RESET()},t.createDefaultFormatter=v,t.checkValueInBounds=function(e,t,i,a,n){return void 0===a&&(a=t),void 0===n&&(n=i),null!=i&&(e=e<=i?e:n),null!=t&&(e=e>t?e:a),e},t.create=function(e){var t,i,a,n=e.allowFormatBeautification?f.beautify(e.format):e.format,r=e.cultureSelector;if(function(e){var t=e.value,i=e.value2,a=e.format;if(e.formatSingleValues&&a&&Math.abs(t)<1e4)if(s.numberFormat.isStandardFormat(a)){if(o.double.isInteger(t))return!1}else if(s.numberFormat.getCustomFormatMetadata(a,!0).precision<2)return!1;if("number"==typeof t||"number"==typeof i)return!0}(e)){var u=y(e.displayUnitSystemType),c=!!e.formatSingleValues;u.update(Math.max(Math.abs(e.value||0),Math.abs(e.value2||0)));var h,g=null!=e.precision;return g?h=-e.precision:u.displayUnit&&u.displayUnit.value>1&&(h=-2),{format:function(e){var t=A(e,!0);return d.isNullOrUndefinedOrWhiteSpaceString(t)?(e&&!u.isScalingUnit()&&Math.abs(e)<1e3&&!g&&(e=o.double.roundToPrecision(e)),c?u.formatSingleValue(e,n,h,g,r):u.format(e,n,h,g,r)):t},displayUnit:u.displayUnit,options:e}}if(t=e.value,i=e.value2,a=e.tickCount,t instanceof Date&&i instanceof Date&&null!=a){var m=l.DateTimeSequence.GET_INTERVAL_UNIT(e.value,e.value2,e.tickCount);return{format:function(e){if(null==e)return f.nullValue;var t=s.formattingService.dateFormatString(m);return x({value:e,cultureSelector:r,format:t})},options:e}}return v(n,!1,r)},t.format=function(e,t,i,a){return null==e?f.nullValue:x({value:e,cultureSelector:a,format:i?f.beautify(t):t})},t.formatVariantMeasureValue=function(e,t,i,a,n){return!(t&&t.type&&t.type.dateTime)&&e instanceof Date?x({value:e,nullsAreBlank:a,cultureSelector:n,format:b(p,null,!1)}):x({value:e,nullsAreBlank:a,cultureSelector:n,format:b(t,i)})},t.createDisplayUnitSystem=y,t.getFormatString=b,t.getFormatStringByColumn=function(e,i){if(e){if(e.format)return e.format;if(!i){var a=e.type;if(a){if(a.dateTime)return t.DefaultDateFormat;if(a.integer)return a.temporal&&a.temporal.year?"0":t.DefaultIntegerFormat;if(a.numeric)return t.DefaultNumericFormat}}}},t.formatListAnd=function(e){return S(e,f.restatementCompoundAnd)},t.formatListOr=function(e){return S(e,f.restatementCompoundOr)},t.getDisplayUnits=function(e){return y(e).units},t.calculateExactDigitsPrecision=function(e,t,i,a){if(!e&&0!==e)return 0;var n=t&&-1!==t.indexOf("%"),r=n?100*e:e;r=i>0?r/i:r;var s=parseInt(r).toString().length;if((n||i>0)&&s>=a)return 0;if(0===i){var l=Math.floor(s/3);l=s%3==0?l-1:l;var o=Math.pow(1e3,l);o>0&&(r/=o)}var u=(s=parseInt(r).toString().length)%a;return 0===u?0:a-u}},5807:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.splitByWidth=t.getMaxWordWidth=t.wordCount=t.hasBreakers=t.find=void 0;var i=/[\s\n]+/g;function a(e,t,i){if(i){for(var a=e-1;a>-1;a--)if(n(t[a]))return a+1}else{a=e;for(var r=t.length;a<r;a++)if(n(t[a]))return a}return i?0:t.length}function n(e){return i.lastIndex=0,i.test(e)}function r(e){return e.split(i)}function s(e,t,i){return t.text=e,i(t)}function l(e,t,i,a){return t.text=e,i(t,a)}t.find=function(e,t){var i={start:0,end:0};return 0===t.length||(i.start=a(e,t,!0),i.end=a(e,t,!1)),i},t.hasBreakers=n,t.wordCount=function(e){var t=1;for(i.lastIndex=0,i.exec(e);0!==i.lastIndex;)t++,i.exec(e);return t},t.getMaxWordWidth=function(e,t,i){for(var a=0,n=0,s=r(e);n<s.length;n++){var l=s[n];i.text=l,a=Math.max(a,t(i))}return a},t.splitByWidth=function(e,t,i,a,n,o){o=o||function(e,t){return e.text};for(var u=[],c=0,h=[],d=0,g=r(e);d<g.length;d++){var m=g[d];if(n>0&&u.length>=n-1)h.push(m);else{var f=0===h.length?s(m,t,i):s(" "+m,t,i);if(c+f>a){if(0===h.length){u.push(l(m,t,o,a)),c=0,h=[];continue}u.push(l(h.join(" "),t,o,a)),c=0,h=[]}h.push(m),c+=f}}return h&&h.length&&u.push(l(h.join(" "),t,o,a)),u}},9397:(e,t,i)=>{i.r(t),i.d(t,{categoryIsAlsoSeriesRole:()=>n,getMiscellaneousTypeDescriptor:()=>o,getSeriesName:()=>r,hasImageUrlColumn:()=>u,isImageUrlColumn:()=>s,isWebUrlColumn:()=>l});var a=i(5165);function n(e,t,i){if(e.categories&&e.categories.length>0){const n=e.categories[0];return n.source&&a.hasRole(n.source,t)&&a.hasRole(n.source,i)}return!1}function r(e){return void 0!==e.groupName?e.groupName:e.queryName}function s(e){const t=o(e);return null!=t&&!0===t.imageUrl}function l(e){const t=o(e);return null!=t&&!0===t.webUrl}function o(e){return e&&e.type&&e.type.misc}function u(e){return!!(e&&e.metadata&&e.metadata.columns&&e.metadata.columns.length)&&e.metadata.columns.some((e=>!0===s(e)))}},5165:(e,t,i)=>{function a(e,t){if(!e||!e.length)return-1;const i=e[0];if(i.values&&i.values.length>0)for(let e=0,a=i.values.length;e<a;++e){const a=i.values[e];if(a&&a.source&&r(a.source,t))return e}return-1}function n(e,t){if(e&&e.length)for(let i=0,a=e.length;i<a;i++)if(r(e[i].source,t))return i;return-1}function r(e,t){const i=e.roles;return i&&i[t]}function s(e,t){return null!=e&&null!=e.metadata&&e.metadata.columns&&e.metadata.columns.some((e=>e.roles&&void 0!==e.roles[t]))}function l(e,t){return e&&e.source&&e.source.roles&&!0===e.source.roles[t]}i.r(t),i.d(t,{getCategoryIndexOfRole:()=>n,getMeasureIndexOfRole:()=>a,hasRole:()=>r,hasRoleInDataView:()=>s,hasRoleInValueColumn:()=>l})},7963:(e,t,i)=>{function a(e,t,i){if(!e)return i;const a=e[t];return void 0===a?i:a}function n(e,t,i){const n=a(e,t);return n&&n.solid?n.solid.color:i}i.r(t),i.d(t,{getFillColorByPropertyName:()=>n,getValue:()=>a})},8862:(e,t,i)=>{i.r(t),i.d(t,{getCommonValue:()=>l,getFillColor:()=>s,getObject:()=>r,getValue:()=>n});var a=i(7963);function n(e,t,i){return e?a.getValue(e[t.objectName],t.propertyName,i):i}function r(e,t,i){return e&&e[t]?e[t]:i}function s(e,t,i){const a=n(e,t);return a&&a.solid?a.solid.color:i}function l(e,t,i){const a=n(e,t,i);return a&&a.solid?a.solid.color:null==a||"object"==typeof a&&!a.solid?i:a}},6573:(e,t,i)=>{i.r(t),i.d(t,{DataViewObjectsParser:()=>n});var a=i(8862);class n{static getDefault(){return new this}static createPropertyIdentifier(e,t){return{objectName:e,propertyName:t}}static parse(e){const t=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return t;const i=t.getProperties();for(const n in i)for(const r in i[n]){const s=t[n][r];t[n][r]=a.getCommonValue(e.metadata.objects,i[n][r],s)}return t}static isPropertyEnumerable(e){return!n.InnumerablePropertyPrefix.test(e)}static enumerateObjectInstances(e,t){const i=e&&e[t.objectName];if(!i)return[];const a={objectName:t.objectName,selector:null,properties:{}};for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(a.properties[e]=i[e]);return{instances:[a]}}getProperties(){const e={};return Object.keys(this).forEach((t=>{if(n.isPropertyEnumerable(t)){const i=Object.keys(this[t]);e[t]={},i.forEach((i=>{n.isPropertyEnumerable(t)&&(e[t][i]=n.createPropertyIdentifier(t,i))}))}})),e}}n.InnumerablePropertyPrefix=/^_/},9098:(e,t,i)=>{function a(e=[],t,i){const a=e;return n(a),t&&(a.identityFields=t),i&&(a.source=i),a}function n(e,t){e.grouped=t?()=>t:()=>r(e)}function r(e){const t=[];let i;for(let a=0,n=e.length;a<n;a++){const n=e[a];if(!i||i.identity!==n.identity){if(i={values:[]},n.identity){i.identity=n.identity;const e=n.source;void 0!==e.groupName?i.name=e.groupName:e.displayName&&(i.name=e.displayName)}t.push(i)}i.values.push(n)}return t}i.r(t),i.d(t,{createValueColumns:()=>a,groupValues:()=>r,setGrouped:()=>n})},686:(e,t,i)=>{function a(e){return null==e&&(e=0),{data:[{dataViewWildcard:{matchingOption:e}}]}}i.r(t),i.d(t,{createDataViewWildcardSelector:()=>a})},9933:(e,t,i)=>{i.r(t),i.d(t,{converterHelper:()=>a,dataRoleHelper:()=>n,dataViewObject:()=>r,dataViewObjects:()=>s,dataViewObjectsParser:()=>l,dataViewTransform:()=>o,dataViewWildcard:()=>u});var a=i(9397),n=i(5165),r=i(7963),s=i(8862),l=i(6573),o=i(9098),u=i(686)},5053:(e,t,i)=>{var a;function n(e){for(let t=0,i=e.length;t<i;t++)if(e[t].selected)return!0;return!1}i.d(t,{s7:()=>r}),function(e){e[e.merge=0]="merge",e[e.remove=1]="remove"}(a||(a={}));class r{constructor(){this.renderSelectionInVisual=()=>{},this.renderSelectionInLegend=()=>{},this.renderSelectionInLabels=()=>{},this.isInvertedSelectionMode=!1}bind(e){e.interactivityServiceOptions&&e.interactivityServiceOptions.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(e.dataPoints),e.interactivityServiceOptions?e.interactivityServiceOptions.isLegend?(this.selectableLegendDataPoints=e.dataPoints,this.renderSelectionInLegend=()=>e.behavior.renderSelection(this.legendHasSelection())):e.interactivityServiceOptions.isLabels?(this.selectableLabelsDataPoints=e.dataPoints,this.renderSelectionInLabels=()=>e.behavior.renderSelection(this.labelsHasSelection())):(this.selectableDataPoints=e.dataPoints,this.renderSelectionInVisual=()=>e.behavior.renderSelection(this.hasSelection())):(this.selectableDataPoints=e.dataPoints,this.renderSelectionInVisual=()=>e.behavior.renderSelection(this.hasSelection())),e.behavior.bindEvents(e,this),this.syncSelectionState()}clearSelection(){this.applyToAllSelectableDataPoints((e=>e.selected=!1)),this.renderAll()}legendHasSelection(){return!!this.selectableLegendDataPoints&&n(this.selectableLegendDataPoints)}labelsHasSelection(){return!!this.selectableLabelsDataPoints&&n(this.selectableLabelsDataPoints)}isSelectionModeInverted(){return this.isInvertedSelectionMode}handleSelection(e,t){e&&(this.select(e,t),this.sendSelectionToHost(),this.renderAll())}handleContextMenu(e,t){}handleClearSelection(){this.clearSelection(),this.sendSelectionToHost()}renderAll(){this.renderSelectionInVisual(),this.renderSelectionInLegend(),this.renderSelectionInLabels()}applyToAllSelectableDataPoints(e){const t=this.selectableDataPoints,i=this.selectableLegendDataPoints,a=this.selectableLabelsDataPoints;if(t)for(const i of t)e(i);if(i)for(const t of i)e(t);if(a)for(const t of a)e(t)}}},8444:(e,t,i)=>{i.d(t,{d:()=>s});var a=i(4341),n=i(5053);class r extends n.s7{constructor(e){super(),this.selectionManager=e.createSelectionManager(),this.selectionManager.registerOnSelectCallback&&this.selectionManager.registerOnSelectCallback((()=>{this.restoreSelection()}))}clearSelection(){this.selectionManager.clear(),super.clearSelection()}handleContextMenu(e,t){this.selectionManager.showContextMenu(e&&e.identity?e.identity:{},t)}applySelectionStateToData(e,t){t&&this.hasSelection()&&this.selectionManager.clear();const i=this.selectionManager.getSelectionIds();for(const t of e)t.selected=this.isDataPointSelected(t,i);return this.hasSelection()}restoreSelection(){this.syncSelectionState(),this.renderAll()}hasSelection(){return this.selectionManager.getSelectionIds().length>0}syncSelectionState(){if(this.isInvertedSelectionMode)return this.syncSelectionStateInverted();if(!this.selectableDataPoints&&!this.selectableLegendDataPoints)return;const e=this.selectionManager.getSelectionIds();if(this.selectableDataPoints&&this.updateSelectableDataPointsBySelectedIds(this.selectableDataPoints,e),this.selectableLegendDataPoints&&this.updateSelectableDataPointsBySelectedIds(this.selectableLegendDataPoints,e),this.selectableLabelsDataPoints)for(const t of this.selectableLabelsDataPoints)t.selected=e.some((e=>e.includes(t.identity)))}select(e,t){const i=[].concat(e),a=[...this.selectionManager.getSelectionIds()];t&&i.length||this.selectionManager.clear();const n=[];i.forEach((e=>{e&&e.identity&&(this.isDataPointSelected(e,a)?(e.selected=!1,t&&n.push(e.identity)):(e.selected=!0,n.push(e.identity)))})),this.selectionManager.select(n,t),this.syncSelectionState()}takeSelectionStateFromDataPoints(e){const t=this.selectionManager.getSelectionIds();a.clear(t);for(const i of e)i.selected&&t.push(i.identity)}sendSelectionToHost(){}syncSelectionStateInverted(){const e=this.selectionManager.getSelectionIds(),t=this.selectableDataPoints;if(t)if(0===e.length)for(const e of t)e.selected=!1;else for(const i of t)e.some((e=>e.includes(i.identity)))?i.selected=!0:i.selected&&(i.selected=!1)}updateSelectableDataPointsBySelectedIds(e,t){let i=!1;for(const a of e)a.selected=this.isDataPointSelected(a,t),a.selected&&(i=!0);return i}isDataPointSelected(e,t){return t.some((t=>t.includes(e.identity)))}}function s(e){return new r(e)}},9334:(e,t,i)=>{i.d(t,{C:()=>l});var a=i(3802),n=i(8871),r=i(9994);const s=500;function l(e,t,i=s){return new o({tooltipService:e,rootElement:t,handleTouchDelay:i})}class o{constructor(e){this.visualHostTooltipService=e.tooltipService,this.rootElement=e.rootElement,this.handleTouchDelay=e.handleTouchDelay}addTooltip(e,t,i,n){if(!e||!this.visualHostTooltipService.enabled())return;let s=this.rootElement,l=(0,a.A)(e.nodes());l.on("mouseover.tooltip",((e,a)=>{if(!this.canDisplayTooltip(e))return;let n=this.getCoordinates(e,s,!0),r=t(a);if(null==r)return;let l=i?[i(a)]:[];this.visualHostTooltipService.show({coordinates:n,isTouchEvent:!1,dataItems:r,identities:l})})),l.on("mouseout.tooltip",((e,t)=>{this.visualHostTooltipService.hide({isTouchEvent:!1,immediately:!1})})),l.on("mousemove.tooltip",((e,a)=>{if(!this.canDisplayTooltip(e))return;let r,l=this.getCoordinates(e,s,!0);if(n&&(r=t(a),null==r))return;let o=i?[i(a)]:[];this.visualHostTooltipService.move({coordinates:l,isTouchEvent:!1,dataItems:r,identities:o})}));let o=r.ZR(),u=r.Ef();r.yQ(),l.on(o+".tooltip",((e,a)=>{let n=this.getCoordinates(e,s,!0),r=t(a),l=i?[i(a)]:[];this.handleTouchTimeoutId=window.setTimeout((()=>{this.visualHostTooltipService.show({coordinates:n,isTouchEvent:!0,dataItems:r,identities:l}),this.handleTouchTimeoutId=void 0}),this.handleTouchDelay)})),l.on(u+".tooltip",(()=>{this.cancelTouchTimeoutEvents()}))}cancelTouchTimeoutEvents(){this.handleTouchTimeoutId&&clearTimeout(this.handleTouchTimeoutId)}hide(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})}canDisplayTooltip(e){let t=!0;const i=e;return void 0!==i.buttons&&(t=!(0!==i.buttons)),t=t&&null==this.handleTouchTimeoutId,t}getCoordinates(e,t,i){let a;if(i){let i,n=e;for(;i=n.sourceEvent;)n=i;let r=t.getBoundingClientRect();a=[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]}else{let t=(0,n.A)(e);t&&t.length>0&&(a=t[0])}return a}}},9994:(e,t,i)=>{function a(){return"touchstart"}function n(){return"touchend"}function r(){return!1}i.d(t,{Ef:()=>n,ZR:()=>a,yQ:()=>r})},3256:(e,t,i)=>{function a(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}i.d(t,{A:()=>a})},1461:(e,t,i)=>{function a(e){return function(){return e}}i.d(t,{A:()=>a})},1489:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(7282),n=i(9921);function r(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===n.g&&t.documentElement.namespaceURI===n.g?t.createElement(e):t.createElementNS(i,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l(e){var t=(0,a.A)(e);return(t.local?s:r)(t)}},2071:(e,t,i)=>{function a(e){return function(){return this.matches(e)}}function n(e){return function(t){return t.matches(e)}}i.d(t,{A:()=>a,j:()=>n})},7282:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(9921);function n(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),a.A.hasOwnProperty(t)?{space:a.A[t],local:e}:e}},9921:(e,t,i)=>{i.d(t,{A:()=>n,g:()=>a});var a="http://www.w3.org/1999/xhtml";const n={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},3432:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(4686);function n(e,t){if(e=(0,a.A)(e),void 0===t&&(t=e.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}},8871:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(3432),n=i(4686);function r(e,t){return e.target&&(e=(0,n.A)(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>(0,a.A)(e,t)))}},3802:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(3256),n=i(1204);function r(e){return"string"==typeof e?new n.LN([document.querySelectorAll(e)],[document.documentElement]):new n.LN([null==e?[]:(0,a.A)(e)],n.zr)}},6222:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(1489);function n(e){var t="function"==typeof e?e:(0,a.A)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}},5449:(e,t,i)=>{i.d(t,{A:()=>c});var a=i(7282);function n(e){return function(){this.removeAttribute(e)}}function r(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s(e,t){return function(){this.setAttribute(e,t)}}function l(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function o(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function u(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function c(e,t){var i=(0,a.A)(e);if(arguments.length<2){var c=this.node();return i.local?c.getAttributeNS(i.space,i.local):c.getAttribute(i)}return this.each((null==t?i.local?r:n:"function"==typeof t?i.local?u:o:i.local?l:s)(i,t))}},2438:(e,t,i)=>{function a(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}i.d(t,{A:()=>a})},3869:(e,t,i)=>{function a(e){return e.trim().split(/^|\s+/)}function n(e){return e.classList||new r(e)}function r(e){this._node=e,this._names=a(e.getAttribute("class")||"")}function s(e,t){for(var i=n(e),a=-1,r=t.length;++a<r;)i.add(t[a])}function l(e,t){for(var i=n(e),a=-1,r=t.length;++a<r;)i.remove(t[a])}function o(e){return function(){s(this,e)}}function u(e){return function(){l(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?s:l)(this,e)}}function h(e,t){var i=a(e+"");if(arguments.length<2){for(var r=n(this.node()),s=-1,l=i.length;++s<l;)if(!r.contains(i[s]))return!1;return!0}return this.each(("function"==typeof t?c:t?o:u)(i,t))}i.d(t,{A:()=>h}),r.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},8233:(e,t,i)=>{function a(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r(e){return this.select(e?n:a)}i.d(t,{A:()=>r})},7194:(e,t,i)=>{i.d(t,{A:()=>c});var a=i(1204),n=i(6226),r=i(3256),s=i(1461);function l(e,t,i,a,r,s){for(var l,o=0,u=t.length,c=s.length;o<c;++o)(l=t[o])?(l.__data__=s[o],a[o]=l):i[o]=new n.L(e,s[o]);for(;o<u;++o)(l=t[o])&&(r[o]=l)}function o(e,t,i,a,r,s,l){var o,u,c,h=new Map,d=t.length,g=s.length,m=new Array(d);for(o=0;o<d;++o)(u=t[o])&&(m[o]=c=l.call(u,u.__data__,o,t)+"",h.has(c)?r[o]=u:h.set(c,u));for(o=0;o<g;++o)c=l.call(e,s[o],o,s)+"",(u=h.get(c))?(a[o]=u,u.__data__=s[o],h.delete(c)):i[o]=new n.L(e,s[o]);for(o=0;o<d;++o)(u=t[o])&&h.get(m[o])===u&&(r[o]=u)}function u(e){return e.__data__}function c(e,t){if(!arguments.length)return Array.from(this,u);var i=t?o:l,n=this._parents,c=this._groups;"function"!=typeof e&&(e=(0,s.A)(e));for(var h=c.length,d=new Array(h),g=new Array(h),m=new Array(h),f=0;f<h;++f){var p=n[f],v=c[f],y=v.length,b=(0,r.A)(e.call(p,p&&p.__data__,f,n)),S=b.length,x=g[f]=new Array(S),A=d[f]=new Array(S);i(p,v,x,A,m[f]=new Array(y),b,t);for(var w,T,N=0,C=0;N<S;++N)if(w=x[N]){for(N>=C&&(C=N+1);!(T=A[C])&&++C<S;);w._next=T||null}}return(d=new a.LN(d,n))._enter=g,d._exit=m,d}},7383:(e,t,i)=>{function a(e){return arguments.length?this.property("__data__",e):this.node().__data__}i.d(t,{A:()=>a})},1348:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(7865);function n(e,t,i){var n=(0,a.A)(e),r=n.CustomEvent;"function"==typeof r?r=new r(t,i):(r=n.document.createEvent("Event"),i?(r.initEvent(t,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function r(e,t){return function(){return n(this,e,t)}}function s(e,t){return function(){return n(this,e,t.apply(this,arguments))}}function l(e,t){return this.each(("function"==typeof t?s:r)(e,t))}},1803:(e,t,i)=>{function a(e){for(var t=this._groups,i=0,a=t.length;i<a;++i)for(var n,r=t[i],s=0,l=r.length;s<l;++s)(n=r[s])&&e.call(n,n.__data__,s,r);return this}i.d(t,{A:()=>a})},2157:(e,t,i)=>{function a(){return!this.node()}i.d(t,{A:()=>a})},6226:(e,t,i)=>{i.d(t,{A:()=>r,L:()=>s});var a=i(9962),n=i(1204);function r(){return new n.LN(this._enter||this._groups.map(a.A),this._parents)}function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},4218:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(9962),n=i(1204);function r(){return new n.LN(this._exit||this._groups.map(a.A),this._parents)}},6168:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(1204),n=i(2071);function r(e){"function"!=typeof e&&(e=(0,n.A)(e));for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s)for(var l,o=t[s],u=o.length,c=r[s]=[],h=0;h<u;++h)(l=o[h])&&e.call(l,l.__data__,h,o)&&c.push(l);return new a.LN(r,this._parents)}},1587:(e,t,i)=>{function a(){this.innerHTML=""}function n(e){return function(){this.innerHTML=e}}function r(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function s(e){return arguments.length?this.each(null==e?a:("function"==typeof e?r:n)(e)):this.node().innerHTML}i.d(t,{A:()=>s})},1204:(e,t,i)=>{i.d(t,{LN:()=>V,zr:()=>P});var a=i(1874),n=i(5911),r=i(1066),s=i(9393),l=i(6168),o=i(7194),u=i(6226),c=i(4218),h=i(9926),d=i(5240),g=i(6584),m=i(6158),f=i(2438),p=i(849),v=i(2402),y=i(7767),b=i(2157),S=i(1803),x=i(5449),A=i(5061),w=i(203),T=i(3869),N=i(2077),C=i(1587),D=i(1228),M=i(8449),_=i(6222),k=i(8619),F=i(9154),z=i(8233),E=i(7383),O=i(611),L=i(1348),B=i(7424),P=[null];function V(e,t){this._groups=e,this._parents=t}V.prototype=function(){return new V([[document.documentElement]],P)}.prototype={constructor:V,select:a.A,selectAll:n.A,selectChild:r.A,selectChildren:s.A,filter:l.A,data:o.A,enter:u.A,exit:c.A,join:h.A,merge:d.A,selection:function(){return this},order:g.A,sort:m.A,call:f.A,nodes:p.A,node:v.A,size:y.A,empty:b.A,each:S.A,attr:x.A,style:A.A,property:w.A,classed:T.A,text:N.A,html:C.A,raise:D.A,lower:M.A,append:_.A,insert:k.A,remove:F.A,clone:z.A,datum:E.A,on:O.A,dispatch:L.A,[Symbol.iterator]:B.A}},8619:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(1489),n=i(4612);function r(){return null}function s(e,t){var i="function"==typeof e?e:(0,a.A)(e),s=null==t?r:"function"==typeof t?t:(0,n.A)(t);return this.select((function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)}))}},7424:(e,t,i)=>{function*a(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a,n=e[t],r=0,s=n.length;r<s;++r)(a=n[r])&&(yield a)}i.d(t,{A:()=>a})},9926:(e,t,i)=>{function a(e,t,i){var a=this.enter(),n=this,r=this.exit();return a="function"==typeof e?e(a):a.append(e+""),null!=t&&(n=t(n)),null==i?r.remove():i(r),a&&n?a.merge(n).order():n}i.d(t,{A:()=>a})},8449:(e,t,i)=>{function a(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function n(){return this.each(a)}i.d(t,{A:()=>n})},5240:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(1204);function n(e){if(!(e instanceof a.LN))throw new Error("invalid merge");for(var t=this._groups,i=e._groups,n=t.length,r=i.length,s=Math.min(n,r),l=new Array(n),o=0;o<s;++o)for(var u,c=t[o],h=i[o],d=c.length,g=l[o]=new Array(d),m=0;m<d;++m)(u=c[m]||h[m])&&(g[m]=u);for(;o<n;++o)l[o]=t[o];return new a.LN(l,this._parents)}},2402:(e,t,i)=>{function a(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a=e[t],n=0,r=a.length;n<r;++n){var s=a[n];if(s)return s}return null}i.d(t,{A:()=>a})},849:(e,t,i)=>{function a(){return Array.from(this)}i.d(t,{A:()=>a})},611:(e,t,i)=>{function a(e){return function(){var t=this.__on;if(t){for(var i,a=0,n=-1,r=t.length;a<r;++a)i=t[a],e.type&&i.type!==e.type||i.name!==e.name?t[++n]=i:this.removeEventListener(i.type,i.listener,i.options);++n?t.length=n:delete this.__on}}}function n(e,t,i){return function(){var a,n=this.__on,r=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(n)for(var s=0,l=n.length;s<l;++s)if((a=n[s]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=r,a.options=i),void(a.value=t);this.addEventListener(e.type,r,i),a={type:e.type,name:e.name,value:t,listener:r,options:i},n?n.push(a):this.__on=[a]}}function r(e,t,i){var r,s,l=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}}))}(e+""),o=l.length;if(!(arguments.length<2)){for(u=t?n:a,r=0;r<o;++r)this.each(u(l[r],t,i));return this}var u=this.node().__on;if(u)for(var c,h=0,d=u.length;h<d;++h)for(r=0,c=u[h];r<o;++r)if((s=l[r]).type===c.type&&s.name===c.name)return c.value}i.d(t,{A:()=>r})},6584:(e,t,i)=>{function a(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var a,n=e[t],r=n.length-1,s=n[r];--r>=0;)(a=n[r])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this}i.d(t,{A:()=>a})},203:(e,t,i)=>{function a(e){return function(){delete this[e]}}function n(e,t){return function(){this[e]=t}}function r(e,t){return function(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function s(e,t){return arguments.length>1?this.each((null==t?a:"function"==typeof t?r:n)(e,t)):this.node()[e]}i.d(t,{A:()=>s})},1228:(e,t,i)=>{function a(){this.nextSibling&&this.parentNode.appendChild(this)}function n(){return this.each(a)}i.d(t,{A:()=>n})},9154:(e,t,i)=>{function a(){var e=this.parentNode;e&&e.removeChild(this)}function n(){return this.each(a)}i.d(t,{A:()=>n})},1874:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(1204),n=i(4612);function r(e){"function"!=typeof e&&(e=(0,n.A)(e));for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s)for(var l,o,u=t[s],c=u.length,h=r[s]=new Array(c),d=0;d<c;++d)(l=u[d])&&(o=e.call(l,l.__data__,d,u))&&("__data__"in l&&(o.__data__=l.__data__),h[d]=o);return new a.LN(r,this._parents)}},5911:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(1204),n=i(3256),r=i(2842);function s(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:(0,n.A)(t)}}(e):(0,r.A)(e);for(var t=this._groups,i=t.length,s=[],l=[],o=0;o<i;++o)for(var u,c=t[o],h=c.length,d=0;d<h;++d)(u=c[d])&&(s.push(e.call(u,u.__data__,d,c)),l.push(u));return new a.LN(s,l)}},1066:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(2071),n=Array.prototype.find;function r(){return this.firstElementChild}function s(e){return this.select(null==e?r:function(e){return function(){return n.call(this.children,e)}}("function"==typeof e?e:(0,a.j)(e)))}},9393:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(2071),n=Array.prototype.filter;function r(){return this.children}function s(e){return this.selectAll(null==e?r:function(e){return function(){return n.call(this.children,e)}}("function"==typeof e?e:(0,a.j)(e)))}},7767:(e,t,i)=>{function a(){let e=0;for(const t of this)++e;return e}i.d(t,{A:()=>a})},6158:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(1204);function n(e){function t(t,i){return t&&i?e(t.__data__,i.__data__):!t-!i}e||(e=r);for(var i=this._groups,n=i.length,s=new Array(n),l=0;l<n;++l){for(var o,u=i[l],c=u.length,h=s[l]=new Array(c),d=0;d<c;++d)(o=u[d])&&(h[d]=o);h.sort(t)}return new a.LN(s,this._parents).order()}function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},9962:(e,t,i)=>{function a(e){return new Array(e.length)}i.d(t,{A:()=>a})},5061:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(7865);function n(e){return function(){this.style.removeProperty(e)}}function r(e,t,i){return function(){this.style.setProperty(e,t,i)}}function s(e,t,i){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,i)}}function l(e,t,i){return arguments.length>1?this.each((null==t?n:"function"==typeof t?s:r)(e,t,null==i?"":i)):function(e,t){return e.style.getPropertyValue(t)||(0,a.A)(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)}},2077:(e,t,i)=>{function a(){this.textContent=""}function n(e){return function(){this.textContent=e}}function r(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function s(e){return arguments.length?this.each(null==e?a:("function"==typeof e?r:n)(e)):this.node().textContent}i.d(t,{A:()=>s})},4612:(e,t,i)=>{function a(){}function n(e){return null==e?a:function(){return this.querySelector(e)}}i.d(t,{A:()=>n})},2842:(e,t,i)=>{function a(){return[]}function n(e){return null==e?a:function(){return this.querySelectorAll(e)}}i.d(t,{A:()=>n})},4686:(e,t,i)=>{function a(e){let t;for(;t=e.sourceEvent;)e=t;return e}i.d(t,{A:()=>a})},7865:(e,t,i)=>{function a(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}i.d(t,{A:()=>a})},5442:(e,t,i)=>{i.r(t),i.d(t,{DEFAULT_PRECISION:()=>o,DEFAULT_PRECISION_IN_DECIMAL_DIGITS:()=>u,EPSILON:()=>l,LOG_E_10:()=>c,MAX_EXP:()=>s,MAX_VALUE:()=>n,MIN_EXP:()=>r,MIN_VALUE:()=>a,NEGATIVE_POWERS:()=>d,POSITIVE_POWERS:()=>h,ceilToPrecision:()=>T,ceilWithPrecision:()=>A,detectPrecision:()=>z,ensureInRange:()=>C,equalWithPrecision:()=>p,floorToPrecision:()=>w,floorWithPrecision:()=>x,getPrecision:()=>f,greaterOrEqualWithPrecision:()=>S,greaterWithPrecision:()=>b,isInteger:()=>k,lessOrEqualWithPrecision:()=>y,lessWithPrecision:()=>v,log10:()=>m,pow10:()=>g,project:()=>M,removeDecimalNoise:()=>_,round:()=>D,roundToPrecision:()=>N,toIncrement:()=>F});const a=-Number.MAX_VALUE,n=Number.MAX_VALUE,r=-308,s=308,l=1e-323,o=1e-4,u=12,c=Math.log(10),h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],d=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function g(e){return e>=0?e<h.length?h[e]:1/0:(e=-e)>0&&e<d.length?d[e]:0}function m(e){return e>1&&e<1e16?e<1e8?e<1e4?e<100?e<10?0:1:e<1e3?2:3:e<1e6?e<1e5?4:5:e<1e7?6:7:e<1e12?e<1e10?e<1e9?8:9:e<1e11?10:11:e<1e14?e<1e13?12:13:e<1e15?14:15:e>1e-16&&e<1?e<1e-8?e<1e-12?e<1e-14?e<1e-15?-16:-15:e<1e-13?-14:-13:e<1e-10?e<1e-11?-12:-11:e<1e-9?-10:-9:e<1e-4?e<1e-6?e<1e-7?-8:-7:e<1e-5?-6:-5:e<.01?e<.001?-4:-3:e<.1?-2:-1:x(Math.log(e)/c)}function f(e,t){if(void 0===t&&(t=u),!e||!isFinite(e))return;const i=m(Math.abs(e));return i<r?0:g(Math.max(i-t,1-d.length))}function p(e,t,i){return i=z(i,e,t),e===t||Math.abs(e-t)<i}function v(e,t,i){return i=z(i,e,t),e<t&&Math.abs(e-t)>i}function y(e,t,i){return i=z(i,e,t),e<t||Math.abs(e-t)<i}function b(e,t,i){return i=z(i,e,t),e>t&&Math.abs(e-t)>i}function S(e,t,i){return i=z(i,e,t),e>t||Math.abs(e-t)<i}function x(e,t){t=null!=t?t:o;const i=Math.round(e);return Math.abs(e-i)<t?i:Math.floor(e)}function A(e,t){t=z(t,o);const i=Math.round(e);return Math.abs(e-i)<t?i:Math.ceil(e)}function w(e,t){return 0===(t=z(t,o))||0===e?e:Math.floor(e/t)*t}function T(e,t){return 0===(t=z(t,o))||0===e?e:Math.ceil(e/t)*t}function N(e,t){if(0===(t=z(t,o))||0===e)return e;let i=Math.round(e/t)*t;const a=Math.round(m(Math.abs(e))-m(t))+1;return a>0&&a<16&&(i=parseFloat(i.toPrecision(a))),i}function C(e,t,i){return null==e?e:e<t?t:e>i?i:e}function D(e){return.5+e|0}function M(e,t,i,a,n){return 0===i||0===n?t<=e&&e<=t+i?a:NaN:a+(e-t)/i*n}function _(e){return N(e,f(e))}function k(e){return null!==e&&e%1==0}function F(e,t){return Math.round(e/t)*t}function z(e,t,i){if(void 0!==e)return e;let a;return a=f(i?t?Math.min(Math.abs(t),Math.abs(i)):i:t),a||o}},4341:(e,t,i)=>{function a(e,t){const i=[];for(let a=e.length-1;a>=0;--a)-1!==t.indexOf(e[a])&&i.push(e[a]);return i}function n(e,t){const i=[];for(let a=e.length-1;a>=0;--a){const n=e[a];-1===t.indexOf(n)&&i.push(n)}return i}function r(e){const t=[];for(let i=0,a=e.length;i<a;i++){const a=e[i];-1===t.indexOf(a)&&t.push(a)}return t}function s(e,t){for(let i=0,a=t.length;i<a;++i)l(e,t[i])}function l(e,t){e.indexOf(t)<0&&e.push(t)}function o(e,t,i){const a=[];for(let n=t;n<=i;++n)a.push(e[n]);return a}function u(e,t){const i=[];for(let a=0;a<t;++a)i.push(e[a]);return i}function c(e){return u(e,e.length)}function h(e,t,i){if(e||(e=null),t||(t=null),e===t)return!0;if(!!e!=!!t)return!1;const a=e.length;if(a!==t.length)return!1;let n=0;for(;n<a&&i(e[n],t[n]);)++n;return n===a}function d(e){return e&&0===e.length?null:e}function g(e,t){for(let i=0,a=e.length;i<a;++i)if(t(e[i]))return i;return-1}function m(e,t){if(0===t)return e.slice();const i=e.slice(t);return Array.prototype.push.apply(i,e.slice(0,t)),i}function f(){return p([])}function p(e){const t=e;return t.withId=y,t}function v(e,t){for(let i=0,a=e.length;i<a;i++){const a=e[i];if(a.id===t)return a}}function y(e){return v(this,e)}function b(){return S([])}function S(e){const t=e;return t.withName=N,t}function x(e,t){const i=A(e,t);if(i>=0)return e[i]}function A(e,t){for(let i=0,a=e.length;i<a;i++)if(e[i].name===t)return i;return-1}function w(e,t){for(let i=e.length-1;i>=0;i--){const a=e[i]-t;if(0===a)return!1;if(!(a>0))return e.splice(i+1,0,t),!0}return e.unshift(t),!0}function T(e,t){const i=e.indexOf(t);return!(i<0||(e.splice(i,1),0))}function N(e){return x(this,e)}function C(e){if(e)for(;e.length>0;)e.pop()}function D(e){return!e||0===e.length}function M(e,t,i){const a=e[t];e[t]=e[i],e[i]=a}function _(e,t,i){return e.some((e=>i(e,t)))}function k(e){let t=e;for(;null!=t;){if(Array.isArray(t))return!0;t=Object.getPrototypeOf(t)}return!1}function F(e,t){const i=e.length;if(i>=2)for(let a=1;a<i;a++)if(t(e[a-1],e[a])>0)return!1;return!0}function z(e,t){return F(e,t?(e,t)=>t-e:(e,t)=>e-t)}function E(e){return Array.isArray(e)?e:[e]}i.r(t),i.d(t,{clear:()=>C,copy:()=>c,createWithId:()=>f,createWithName:()=>b,diff:()=>n,distinct:()=>r,emptyToNull:()=>d,ensureArray:()=>E,extendWithId:()=>p,extendWithName:()=>S,findItemWithName:()=>x,findWithId:()=>v,indexOf:()=>g,indexWithName:()=>A,insertSorted:()=>w,intersect:()=>a,isArrayOrInheritedArray:()=>k,isInArray:()=>_,isSorted:()=>F,isSortedNumeric:()=>z,isUndefinedOrEmpty:()=>D,range:()=>o,removeFirst:()=>T,rotate:()=>m,sequenceEqual:()=>h,swap:()=>M,take:()=>u,union:()=>s,unionSingle:()=>l})},2879:(e,t,i)=>{i.r(t),i.d(t,{getBitCount:()=>o,hasFlag:()=>n,resetFlag:()=>s,setFlag:()=>r,toString:()=>l});var a=i(5442);function n(e,t){return(e&t)===t}function r(e,t){return e|t}function s(e,t){return e&~t}function l(e,t){return e[t]}function o(e){if(!(0,a.isInteger)(e))return 0;let t=0,i=e;for(;0!==i;)1&~i||t++,i>>>=1;return t}},4298:(e,t,i)=>{function a(e,t){return(e||t)&&!(e&&t)}i.r(t),i.d(t,{XOR:()=>a})},3051:(e,t,i)=>{function a(e,t,i){return e.lastIndex=i||0,e.exec(t)}i.r(t),i.d(t,{run:()=>a})},539:(e,t,i)=>{function a(e,t){return-1!==e.indexOf(t,e.length-t.length)}i.r(t),i.d(t,{endsWith:()=>a})},2087:(e,t,i)=>{i.r(t),i.d(t,{arrayExtensions:()=>a,double:()=>c,enumExtensions:()=>n,jsonComparer:()=>h,logicExtensions:()=>r,numericSequence:()=>o,numericSequenceRange:()=>u,pixelConverter:()=>d,prototype:()=>g,regExpExtensions:()=>s,stringExtensions:()=>l,textSizeDefaults:()=>m,valueType:()=>f});var a=i(4341),n=i(2879),r=i(4298),s=i(3051),l=i(539),o=i(372),u=i(67),c=i(5442),h=i(5038),d=i(5079),g=i(421),m=i(5939),f=i(4182)},5038:(e,t,i)=>{function a(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}i.r(t),i.d(t,{equals:()=>a})},372:(e,t,i)=>{i.r(t),i.d(t,{NumericSequence:()=>r});var a=i(5442),n=i(67);class r{static calculate(e,t,i,s,l,o){const u=new r;if(t=void 0===t?10:a.ensureInRange(t,r.MIN_COUNT,r.MAX_COUNT),void 0===s&&(s=a.MIN_EXP),void 0===l&&(l=!1),void 0===i&&(i=1),void 0===o&&(o=[1,2,5]),e.forcedSingleStop)return u.interval=e.getSize(),u.intervalOffset=u.interval-(e.forcedSingleStop-e.min),u.min=e.min,u.max=e.max,u.sequence=[e.forcedSingleStop],u;let c=0,h=0,d=9;const g=i>0&&!e.hasFixedMin,m=i>0&&!e.hasFixedMax,f=e.getSize();let p=a.log10(f);const v=a.log10(o[0]);let y;if(p-=v,p-=a.log10(t),p=Math.max(p,s-v+1),0!==c){const t=a.pow10(p),i=a.floorToPrecision(e.min,t),r=a.ceilToPrecision(e.max,t),s=n.NumericSequenceRange.calculateFixedRange(i,r);s.shrinkByStep(e,c),h=s.min,d=s.max,y=Math.floor(s.getSize()/c)}else{let r;for(r=0;r<3;r++){const s=p+r,u=a.pow10(s),f=a.floorToPrecision(e.min,u),v=a.ceilToPrecision(e.max,u),b=o.length,S=a.pow10(s-1);for(let s=0;s<b;s++){const u=o[s]*S,p=n.NumericSequenceRange.calculateFixedRange(f,v,l);if(p.shrinkByStep(e,u),g&&e.min===p.min&&i>=1&&(p.min-=u),m&&e.max===p.max&&i>=1&&(p.max+=u),y=a.ceilWithPrecision(p.getSize()/u,a.DEFAULT_PRECISION),y<=t||2===r&&s===b-1||1===t&&2===y&&(u>e.getSize()||e.min<0&&e.max>0&&2*u>=e.getSize())){c=u,h=p.min,d=p.max;break}}if(0!==c)break}}(y>32*t||y>r.MAX_COUNT)&&(y=Math.min(32*t,r.MAX_COUNT),c=(d-h)/y),u.min=h,u.max=d,u.interval=c,u.intervalOffset=h-e.min,u.maxAllowedMargin=i,u.canExtendMin=g,u.canExtendMax=m;const b=a.getPrecision(c,0);u.precision=b;const S=[];let x=a.roundToPrecision(h,b);S.push(x);for(let e=0;e<y;e++)x=a.roundToPrecision(x+c,b),S.push(x);return u.sequence=S,u.trimMinMax(e.min,e.max),u}static calculateUnits(e,t,i,n){i=a.ensureInRange(i,r.MIN_COUNT,r.MAX_COUNT),e===t&&(t=e+1);let s=0,l=0;for(let r=0;r<n.length&&(l=n[r],s=a.ceilWithPrecision(t/l)-a.floorWithPrecision(e/l),!(s<=i));r++);let o=-e;o%=l;const u=new r;u.sequence=[];for(let i=e+o;u.sequence.push(i),!(i>=t);i+=l);return u.interval=l,u.intervalOffset=o,u.min=u.sequence[0],u.max=u.sequence[u.sequence.length-1],u}trimMinMax(e,t){const i=(e-this.min)/this.interval,a=(this.max-t)/this.interval;(!this.canExtendMin||i>this.maxAllowedMargin&&i>.001)&&(this.min=e),(!this.canExtendMax||a>this.maxAllowedMargin&&a>.001)&&(this.max=t)}}r.MIN_COUNT=1,r.MAX_COUNT=1e3},67:(e,t,i)=>{i.r(t),i.d(t,{NumericSequenceRange:()=>n,hasValue:()=>r});var a=i(5442);class n{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){const e=this.min,t=a.log10(Math.abs(e));let i;t>=0&&t<4?(i=.5,this.forcedSingleStop=e):(i=a.pow10(t)/2,this.forcedSingleStop=null),this.min=e-i,this.max=e+i}else this.min=0,this.max=n.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){const e=this.min;this.min=this.max,this.max=e}}getSize(){return this.max-this.min}shrinkByStep(e,t){let i=this.min/t,a=e.min/t,n=Math.floor(a-i);this.min+=n*t,i=this.max/t,a=e.max/t,n=Math.ceil(a-i),this.max+=n*t}static calculate(e,t,i,s,l){const o=new n;return o.includeZero=!!l,o.hasDataRange=r(e)&&r(t),o.hasFixedMin=r(i),o.hasFixedMax=r(s),e=a.ensureInRange(e,n.MIN_SUPPORTED_DOUBLE,n.MAX_SUPPORTED_DOUBLE),t=a.ensureInRange(t,n.MIN_SUPPORTED_DOUBLE,n.MAX_SUPPORTED_DOUBLE),o.hasFixedMin&&o.hasFixedMax?(o.min=i,o.max=s):o.hasFixedMin?(o.min=i,o.max=t>i?t:i):o.hasFixedMax?(o.min=e<s?e:s,o.max=s):o.hasDataRange?(o.min=e,o.max=t):(o.min=0,o.max=0),o._ensureIncludeZero(),o._ensureNotEmpty(),o._ensureDirection(),0===o.min?o.hasFixedMin=!0:0===o.max&&(o.hasFixedMax=!0),o}static calculateDataRange(e,t,i){return r(e)&&r(t)?n.calculate(e,t,null,null,i):n.calculateFixedRange(0,n.DEFAULT_MAX)}static calculateFixedRange(e,t,i){const a=new n;return a.hasDataRange=!1,a.includeZero=i,a.min=e,a.max=t,a._ensureIncludeZero(),a._ensureNotEmpty(),a._ensureDirection(),a.hasFixedMin=!0,a.hasFixedMax=!0,a}}function r(e){return null!=e}n.DEFAULT_MAX=10,n.MIN_SUPPORTED_DOUBLE=-1e307,n.MAX_SUPPORTED_DOUBLE=1e307},5079:(e,t,i)=>{i.r(t),i.d(t,{fromPoint:()=>s,fromPointToPixel:()=>l,toPoint:()=>o,toString:()=>r});const a=4/3,n="px";function r(e){return e+n}function s(e){return r(l(e))}function l(e){return a*e}function o(e){return e/a}},421:(e,t,i)=>{function a(e,t){function i(){}i.prototype=e;const a=new i;return t&&t(a),a}function n(e){const t=Object.getPrototypeOf(e);return t!==Object.prototype&&t!==Array.prototype||(e=a(e)),e}function r(e,t){if(!e)return;let i;for(let n=0,r=e.length;n<r;n++){const r=t(e[n]);r&&(i||(i=a(e)),i[n]=r)}return i}i.r(t),i.d(t,{inherit:()=>a,inheritSingle:()=>n,overrideArray:()=>r})},5939:(e,t,i)=>{i.r(t),i.d(t,{TextSizeMax:()=>n,TextSizeMin:()=>a,getScale:()=>s});const a=8,n=40,r=n-a;function s(e){return(e-a)/r}},4182:(e,t,i)=>{i.r(t),i.d(t,{ExtendedType:()=>r,FormattingType:()=>m,GeographyType:()=>d,MiscellaneousType:()=>g,PrimitiveType:()=>a,ScriptType:()=>c,TemporalType:()=>h,ValueType:()=>u});var a,n,r,s,l=i(2879),o=i(5038);class u{constructor(e,t,i,a){this.underlyingType=e,this.category=t,l.hasFlag(e,r.Temporal)&&(this.temporalType=new h(e)),l.hasFlag(e,r.Geography)&&(this.geographyType=new d(e)),l.hasFlag(e,r.Miscellaneous)&&(this.miscType=new g(e)),l.hasFlag(e,r.Formatting)&&(this.formattingType=new m(e)),l.hasFlag(e,r.Enumeration)&&(this.enumType=i),l.hasFlag(e,r.Scripting)&&(this.scriptingType=new c(e)),l.hasFlag(e,r.Variant)&&(this.variationTypes=a)}static fromDescriptor(e){if((e=e||{}).text)return u.fromExtendedType(r.Text);if(e.integer)return u.fromExtendedType(r.Integer);if(e.numeric)return u.fromExtendedType(r.Double);if(e.bool)return u.fromExtendedType(r.Boolean);if(e.dateTime)return u.fromExtendedType(r.DateTime);if(e.duration)return u.fromExtendedType(r.Duration);if(e.binary)return u.fromExtendedType(r.Binary);if(e.none)return u.fromExtendedType(r.None);if(e.scripting&&e.scripting.source)return u.fromExtendedType(r.ScriptSource);if(e.enumeration)return u.fromEnum(e.enumeration);if(e.temporal){if(e.temporal.year)return u.fromExtendedType(r.Years_Integer);if(e.temporal.quarter)return u.fromExtendedType(r.Quarters_Integer);if(e.temporal.month)return u.fromExtendedType(r.Months_Integer);if(e.temporal.day)return u.fromExtendedType(r.DayOfMonth_Integer);if(e.temporal.paddedDateTableDate)return u.fromExtendedType(r.PaddedDateTableDates)}if(e.geography){if(e.geography.address)return u.fromExtendedType(r.Address);if(e.geography.city)return u.fromExtendedType(r.City);if(e.geography.continent)return u.fromExtendedType(r.Continent);if(e.geography.country)return u.fromExtendedType(r.Country);if(e.geography.county)return u.fromExtendedType(r.County);if(e.geography.region)return u.fromExtendedType(r.Region);if(e.geography.postalCode)return u.fromExtendedType(r.PostalCode_Text);if(e.geography.stateOrProvince)return u.fromExtendedType(r.StateOrProvince);if(e.geography.place)return u.fromExtendedType(r.Place);if(e.geography.latitude)return u.fromExtendedType(r.Latitude_Double);if(e.geography.longitude)return u.fromExtendedType(r.Longitude_Double)}if(e.misc){if(e.misc.image)return u.fromExtendedType(r.Image);if(e.misc.imageUrl)return u.fromExtendedType(r.ImageUrl);if(e.misc.webUrl)return u.fromExtendedType(r.WebUrl);if(e.misc.barcode)return u.fromExtendedType(r.Barcode_Text)}if(e.formatting){if(e.formatting.color)return u.fromExtendedType(r.Color);if(e.formatting.formatString)return u.fromExtendedType(r.FormatString);if(e.formatting.alignment)return u.fromExtendedType(r.Alignment);if(e.formatting.labelDisplayUnits)return u.fromExtendedType(r.LabelDisplayUnits);if(e.formatting.fontSize)return u.fromExtendedType(r.FontSize);if(e.formatting.labelDensity)return u.fromExtendedType(r.LabelDensity)}if(e.extendedType)return u.fromExtendedType(e.extendedType);if(e.operations&&e.operations.searchEnabled)return u.fromExtendedType(r.SearchEnabled);if(e.variant){const t=e.variant.map((e=>u.fromDescriptor(e)));return u.fromVariant(t)}return u.fromExtendedType(r.Null)}static fromExtendedType(e){const t=y(e=e||r.Null),i=function(e){if(function(e){return(e&p)===e}(e))return null;let t=s[e];if(t){const e=t.lastIndexOf("_");if(e>0){const i=t.slice(0,e);s[i]&&(t=i)}}return t||null}(e);return u.fromPrimitiveTypeAndCategory(t,i)}static fromPrimitiveTypeAndCategory(e,t){t=t||null;let i=(e=e||a.Null).toString();return t&&(i+="|"+t),u.typeCache[i]||(u.typeCache[i]=new u(function(e,t){const i=n[e];let l=s[i];if(null==l&&(l=r.Null),e&&t){let i=s[t];if(i){const t=y(i);t===a.Null?(i|=l,s[i]&&(l=i)):t===e&&(l=i)}}return l}(e,t),t))}static fromEnum(e){return new u(r.Enumeration,null,e)}static fromVariant(e){return new u(r.Variant,null,null,e)}static isCompatibleTo(e,t){const i=u.fromDescriptor(e);for(const e of t)if(u.fromDescriptor(e).isCompatibleFrom(i))return!0;return!1}isCompatibleFrom(e){const t=e.primitiveType;return!!(this===e||this.primitiveType===t||t===a.Null||this.numeric&&e.numeric)}equals(e){return(0,o.equals)(this,e)}get primitiveType(){return y(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return this.primitiveType===a.Text}get numeric(){return l.hasFlag(this.underlyingType,r.Numeric)}get integer(){return this.primitiveType===a.Integer}get bool(){return this.primitiveType===a.Boolean}get dateTime(){return this.primitiveType===a.DateTime||this.primitiveType===a.Date||this.primitiveType===a.Time}get duration(){return this.primitiveType===a.Duration}get binary(){return this.primitiveType===a.Binary}get none(){return this.primitiveType===a.None}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enumeration(){return this.enumType}get scripting(){return this.scriptingType}get variant(){return this.variationTypes}}u.typeCache={};class c{constructor(e){this.underlyingType=e}get source(){return b(this.underlyingType,r.ScriptSource)}}class h{constructor(e){this.underlyingType=e}get year(){return b(this.underlyingType,r.Years)}get quarter(){return b(this.underlyingType,r.Quarters)}get month(){return b(this.underlyingType,r.Months)}get day(){return b(this.underlyingType,r.DayOfMonth)}get paddedDateTableDate(){return b(this.underlyingType,r.PaddedDateTableDates)}}class d{constructor(e){this.underlyingType=e}get address(){return b(this.underlyingType,r.Address)}get city(){return b(this.underlyingType,r.City)}get continent(){return b(this.underlyingType,r.Continent)}get country(){return b(this.underlyingType,r.Country)}get county(){return b(this.underlyingType,r.County)}get region(){return b(this.underlyingType,r.Region)}get postalCode(){return b(this.underlyingType,r.PostalCode)}get stateOrProvince(){return b(this.underlyingType,r.StateOrProvince)}get place(){return b(this.underlyingType,r.Place)}get latitude(){return b(this.underlyingType,r.Latitude)}get longitude(){return b(this.underlyingType,r.Longitude)}}class g{constructor(e){this.underlyingType=e}get image(){return b(this.underlyingType,r.Image)}get imageUrl(){return b(this.underlyingType,r.ImageUrl)}get webUrl(){return b(this.underlyingType,r.WebUrl)}get barcode(){return b(this.underlyingType,r.Barcode)}}class m{constructor(e){this.underlyingType=e}get color(){return b(this.underlyingType,r.Color)}get formatString(){return b(this.underlyingType,r.FormatString)}get alignment(){return b(this.underlyingType,r.Alignment)}get labelDisplayUnits(){return b(this.underlyingType,r.LabelDisplayUnits)}get fontSize(){return b(this.underlyingType,r.FontSize)}get labelDensity(){return b(this.underlyingType,r.LabelDensity)}}!function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(a||(a={})),function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(n||(n={})),function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(r||(r={})),function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(s||(s={}));const f=255,p=65535,v=4294901760;function y(e){return e&f}function b(e,t){return(e&v)==(t&v)}},1729:(e,t,i)=>{i.d(t,{c:()=>n});var a=i(756);class n{constructor(){this.width=0,this.height=0}start(e,t){this.parentElement=t,this.svg=null!=t?t:a.Ltv(".host-svg"),this.locale=e.host.locale,this.startView(e,t),this.updateParent()}update(e,t){try{this.updateParent(),this.updateView(e,t)}catch(e){console.log(e)}}updateParent(){this.width=+this.svg.style("width").replace("px",""),this.height=+this.svg.style("height").replace("px","")}}},8721:(e,t,i)=>{i.d(t,{H:()=>a});class a{static removeDecimal(e){return e.toString().includes(".")?+e.toString().split(".")[0]:+e}}},980:(e,t,i)=>{i.d(t,{S:()=>k});var a=i(7674),n=i(889),r=a.z.Tn,s=a.z.Kx;class l extends r{constructor(){super(...arguments),this.licenseSupport=new a.z.uI({displayName:"Support:",name:"licenseSupport",value:"https://dataviz.boutique"}),this.licenseVersion=new a.z.uI({displayName:"Version:",name:"licenseVersion",value:"1.1.1.1"}),this.licenseKey=new a.z.ks({displayName:"License Key",name:"licenseKey",value:"",placeholder:"Enter license key"}),this.decodedKey=new a.z.uI({displayName:"Info:",name:"decodedKey",value:""}),this.persistantKey=new a.z.uI({displayName:"Persistant Key",name:"persistantKey",value:""}),this.persistantDecodedKey=new a.z.uI({displayName:"Info",name:"persistantDecodedKey",value:""}),this.planExpired=new a.z.uI({displayName:"Plan Expired:",name:"planExpired",value:"Yes"}),this.planName=new a.z.uI({displayName:"Plan Name:",name:"planName",value:""}),this.name="license",this.displayName="About",this.slices=[this.licenseSupport,this.licenseVersion,this.licenseKey,this.decodedKey,this.persistantKey,this.persistantDecodedKey,this.planExpired,this.planName]}}class o extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:void 0,name:"show",value:!0}),this.labelToggle=new a.z.jF({displayName:"Show Labels",name:"labelToggle",value:!0}),this.rotateLabels=new a.z.jF({displayName:"Rotate Labels",name:"rotateLabels",value:!1}),this.labelBackgroundToggle=new a.z.jF({displayName:"Label Background",name:"labelBackgroundToggle",value:!0}),this.labelBackgroundColor=new a.z.sk({displayName:"Background Color",name:"labelBackgroundColor",value:{value:"grey"},instanceKind:3}),this.transparency=new a.z.Ap({displayName:"Background Transparency",name:"transparency",value:27,options:{minValue:{value:0,type:0},maxValue:{value:100,type:1}}}),this.signToggle=new a.z.jF({displayName:"Show '+' Sign for Positive Values",name:"signToggle",value:!0}),this.precision=new a.z.Ap({displayName:"Numerical Precision",name:"precision",value:2,options:{minValue:{value:0,type:0},maxValue:{value:10,type:1}}}),this.dataUnit=new a.z.PA({displayName:"Data Unit",name:"dataUnit",items:[{displayName:"Auto",value:"auto"},{displayName:"None",value:"none"},{displayName:"Percent",value:"percent"},{displayName:"Thousand",value:"thousand"},{displayName:"Million",value:"million"},{displayName:"Billion",value:"billion"},{displayName:"Trillion",value:"trillion"}],value:{displayName:"Auto",value:"auto"}}),this.unitVisibility=new a.z.jF({displayName:"Show Data Unit",name:"unitVisibility",value:!0}),this.fontSize=new a.z.Ap({displayName:"Text Size",name:"fontSize",value:10,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontColor=new a.z.sk({displayName:"Text Color",name:"fontColor",value:{value:"black"},instanceKind:3}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:"wf_standard-font, helvetica, arial, sans-serif",instanceKind:3}),this.totalBar=new a.z.jF({displayName:"Total Bar",name:"totalBar",value:!0}),this.totalBarColor=new a.z.sk({displayName:"Total Bar Color",name:"totalBarColor",value:{value:"black"},instanceKind:3}),this.customBarColor=new a.z.sk({displayName:"Custom Bar Color",name:"customBarColor",value:{value:""},instanceKind:3}),this.customBarColorIndices=new a.z.ks({displayName:"Custom Bar Color Indices (e.g. 1,2,3...)",name:"customBarColorIndices",value:"",placeholder:"Enter custom bar color indices",instanceKind:3}),this.customBarColorToggle=new a.z.jF({displayName:"Show Custom Color for All Bars",name:"customBarColorToggle",value:!1}),this.name="bar",this.displayName="Bars",this.topLevelSlice=this.show,this.slices=[this.labelToggle,this.rotateLabels,this.labelBackgroundToggle,this.labelBackgroundColor,this.transparency,this.signToggle,this.precision,this.dataUnit,this.unitVisibility,this.fontSize,this.fontColor,this.fontFamily,this.totalBar,this.totalBarColor,this.customBarColor,this.customBarColorIndices,this.customBarColorToggle]}}class u extends r{constructor(){super(...arguments),this.color=new a.z.sk({displayName:"Text Color",name:"color",value:{value:"black"},instanceKind:3}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:12,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:""}),this.boldLabelToggle=new a.z.jF({displayName:"Bolden Labels",name:"boldLabelToggle",value:!1}),this.boldLabelIndices=new a.z.ks({displayName:"Bolden Labels at Indices (e.g. 1,2,3...)",name:"boldLabelIndices",value:"",placeholder:"Enter bold label indices",instanceKind:3}),this.boldAllLabels=new a.z.jF({displayName:"Bolden All Labels",name:"boldAllLabels",value:!1}),this.overlapMitigation=new a.z.jF({displayName:"Overlap Mitigation",name:"overlapMitigation",value:!1}),this.truncateLimit=new a.z.iB({displayName:"Truncate Labels",name:"truncateLimit",value:0,options:{minValue:{value:0,type:0},maxValue:{value:100,type:1}}}),this.multilineToggle=new a.z.jF({displayName:"Multiline Labels",name:"multilineToggle",value:!0}),this.rotationAngle=new a.z.iB({displayName:"Degree of Rotation",name:"rotationAngle",value:35,options:{minValue:{value:0,type:0},maxValue:{value:360,type:1}}}),this.horizontalPosition=new a.z.iB({displayName:"Horizontal Position",name:"horizontalPosition",value:-3,options:{minValue:{value:-100,type:0},maxValue:{value:100,type:1}}}),this.verticalPosition=new a.z.iB({displayName:"Vertical Position",name:"verticalPosition",value:12,options:{minValue:{value:-100,type:0},maxValue:{value:100,type:1}}}),this.name="label",this.displayName="Labels",this.slices=[this.color,this.fontSize,this.fontFamily,this.boldLabelToggle,this.boldLabelIndices,this.boldAllLabels,this.overlapMitigation,this.truncateLimit,this.multilineToggle,this.rotationAngle,this.horizontalPosition,this.verticalPosition]}}class c extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.fill=new a.z.sk({displayName:"Line Color",name:"fill",value:{value:"cornflowerblue"},instanceKind:3}),this.thickness=new a.z.iB({displayName:"Line Thickness",name:"thickness",value:2,options:{minValue:{value:0,type:0},maxValue:{value:10,type:1}}}),this.overlapColor=new a.z.PA({displayName:"Overlap Color Setting",name:"overlapColor",items:[{displayName:"Normal",value:"normal"},{displayName:"Multiply",value:"multiply"},{displayName:"Color",value:"color"},{displayName:"Screen",value:"screen"},{displayName:"Overlay",value:"overlay"},{displayName:"Darken",value:"darken"},{displayName:"Lighten",value:"lighten"},{displayName:"Color-Dodge",value:"color-dodge"},{displayName:"Color-Burn",value:"color-burn"},{displayName:"Difference",value:"difference"},{displayName:"Exclusion",value:"exclusion"},{displayName:"Hue",value:"hue"},{displayName:"Saturation",value:"saturation"},{displayName:"Luminosity",value:"luminosity"},{displayName:"Lighten-Plus",value:"plus-lighter"}],value:{displayName:"Normal",value:"normal"}}),this.lineEnding=new a.z.PA({displayName:"Line Ending Style",name:"lineEnding",items:[{displayName:"Round",value:"round"},{displayName:"Square",value:"square"}],value:{displayName:"Round",value:"round"}}),this.lineStyle=new a.z.PA({displayName:"Line Style",name:"lineStyle",items:[{displayName:"Normal",value:""},{displayName:"Dotted",value:"1, 5"},{displayName:"Dashed",value:"4, 4"}],value:{displayName:"Normal",value:""}}),this.showMarkers=new a.z.jF({displayName:"Show Markers",name:"showMarkers",value:!0}),this.markerRadius=new a.z.iB({displayName:"Marker Size",name:"markerRadius",value:2,options:{minValue:{value:0,type:0},maxValue:{value:10,type:1}}}),this.markerStrokeWidth=new a.z.iB({displayName:"Marker Outline Thickness",name:"markerStrokeWidth",value:1,options:{minValue:{value:0,type:0},maxValue:{value:10,type:1}}}),this.markerStrokeColor=new a.z.sk({displayName:"Marker Outline Color",name:"markerStrokeColor",value:{value:"black"},instanceKind:3}),this.markerFillColor=new a.z.sk({displayName:"Marker Fill Color",name:"markerFillColor",value:{value:"white"},instanceKind:3}),this.areaUnderTheGraph=new a.z.jF({displayName:"Show Area Under the Line",name:"areaUnderTheGraph",value:!1}),this.areaColor=new a.z.sk({displayName:"Area Color",name:"areaColor",value:{value:"gray"},instanceKind:3}),this.areaOpacity=new a.z.iB({displayName:"Area Opacity (0.0 - 1.0)",name:"areaOpacity",value:.4,options:{minValue:{value:0,type:0},maxValue:{value:1,type:1}}}),this.name="lineChart",this.displayName="Line Chart",this.topLevelSlice=this.show,this.slices=[this.fill,this.thickness,this.overlapColor,this.lineEnding,this.lineStyle,this.showMarkers,this.markerRadius,this.markerStrokeWidth,this.markerStrokeColor,this.markerFillColor,this.areaUnderTheGraph,this.areaColor,this.areaOpacity]}}class h extends r{constructor(){super(...arguments),this.padding=new a.z.iB({displayName:"Padding",name:"padding",value:15,options:{minValue:{value:0,type:0},maxValue:{value:40,type:1}}}),this.axisToggle=new a.z.jF({displayName:"Flip Orientation",description:"Switch between horizontal and landscape orientations",name:"axisToggle",value:!1}),this.mergeLastAndTotal=new a.z.jF({displayName:"Merge Last and Total Bars",name:"mergeLastAndTotal",value:!1}),this.yAxisToggle=new a.z.jF({displayName:"Show Y Axis",name:"yAxisToggle",value:!1}),this.originToggle=new a.z.jF({displayName:"Show Origin Line",name:"originToggle",value:!0}),this.bracesToggle=new a.z.jF({displayName:'Show brackets "()" for negative values',name:"bracesToggle",value:!1}),this.name="chart",this.displayName="Chart Render",this.slices=[this.padding,this.axisToggle,this.mergeLastAndTotal,this.yAxisToggle,this.originToggle,this.bracesToggle]}}class d extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.invert=new a.z.jF({displayName:"Negative for highlight",name:"invert",value:!1}),this.badgeType=new a.z.PA({displayName:"Badge Type",name:"badgeType",items:[{displayName:"Rectangle",value:"rectangle"},{displayName:"Bubble",value:"bubble"}],value:{displayName:"Rectangle",value:"rectangle"}}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:14,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:"DIN"}),this.fill=new a.z.sk({displayName:"Line Color",name:"fill",value:{value:"black"},instanceKind:3}),this.useSentimentColor=new a.z.jF({displayName:"Use Sentiment Color",name:"useSentimentColor",value:!0}),this.startIndices=new a.z.ks({displayName:"Starting Indices (e.g. 1,2,3...)",name:"startIndices",value:"",placeholder:"Enter starting indices",instanceKind:3}),this.endingIndices=new a.z.ks({displayName:"Ending Indices (e.g. 1,2,3...)",name:"endingIndices",value:"",placeholder:"Enter ending indices",instanceKind:3}),this.arrowSize=new a.z.iB({displayName:"Arrow Size",name:"arrowSize",value:10,options:{minValue:{value:0,type:0},maxValue:{value:100,type:1}}}),this.startArrow=new a.z.jF({displayName:"Show Starting Arrow",name:"startArrow",value:!1}),this.endingArrow=new a.z.jF({displayName:"Show Ending Arrow",name:"endingArrow",value:!0}),this.name="highlight1",this.displayName="Highlight 1",this.topLevelSlice=this.show,this.slices=[this.badgeType,this.fontSize,this.fontFamily,this.fill,this.useSentimentColor,this.invert,this.startIndices,this.endingIndices,this.arrowSize,this.startArrow,this.endingArrow]}}class g extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.invert=new a.z.jF({displayName:"Negative for highlight",name:"invert",value:!1}),this.badgeType=new a.z.PA({displayName:"Badge Type",name:"badgeType",items:[{displayName:"Rectangle",value:"rectangle"},{displayName:"Bubble",value:"bubble"}],value:{displayName:"Rectangle",value:"rectangle"}}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:14,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:"DIN"}),this.fill=new a.z.sk({displayName:"Line Color",name:"fill",value:{value:"black"},instanceKind:3}),this.useSentimentColor=new a.z.jF({displayName:"Use Sentiment Color",name:"useSentimentColor",value:!0}),this.startIndices=new a.z.ks({displayName:"Starting Indices (e.g. 1,2,3...)",name:"startIndices",value:"",placeholder:"Enter starting indices",instanceKind:3}),this.endingIndices=new a.z.ks({displayName:"Ending Indices (e.g. 1,2,3...)",name:"endingIndices",value:"",placeholder:"Enter ending indices",instanceKind:3}),this.arrowSize=new a.z.iB({displayName:"Arrow Size",name:"arrowSize",value:10,options:{minValue:{value:0,type:0},maxValue:{value:100,type:1}}}),this.startArrow=new a.z.jF({displayName:"Show Starting Arrow",name:"startArrow",value:!1}),this.endingArrow=new a.z.jF({displayName:"Show Ending Arrow",name:"endingArrow",value:!0}),this.name="highlight2",this.displayName="Highlight 2",this.topLevelSlice=this.show,this.slices=[this.badgeType,this.fontSize,this.fontFamily,this.fill,this.useSentimentColor,this.invert,this.startIndices,this.endingIndices,this.arrowSize,this.startArrow,this.endingArrow]}}class m extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.badgeType=new a.z.PA({displayName:"Badge Type",name:"badgeType",items:[{displayName:"Rectangle",value:"rectangle"},{displayName:"Bubble",value:"bubble"}],value:{displayName:"Rectangle",value:"rectangle"}}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:14,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:"DIN"}),this.invert=new a.z.jF({displayName:"Negative for highlight",name:"invert",value:!1}),this.fill=new a.z.sk({displayName:"Line Color",name:"fill",value:{value:"black"},instanceKind:3}),this.useSentimentColor=new a.z.jF({displayName:"Use Sentiment Color",name:"useSentimentColor",value:!0}),this.startIndices=new a.z.ks({displayName:"Starting Indices (e.g. 1,2,3...)",name:"startIndices",value:"",placeholder:"Enter starting indices",instanceKind:3}),this.endingIndices=new a.z.ks({displayName:"Ending Indices (e.g. 1,2,3...)",name:"endingIndices",value:"",placeholder:"Enter ending indices",instanceKind:3}),this.arrowSize=new a.z.iB({displayName:"Arrow Size",name:"arrowSize",value:10,options:{minValue:{value:0,type:0},maxValue:{value:100,type:1}}}),this.startArrow=new a.z.jF({displayName:"Show Starting Arrow",name:"startArrow",value:!1}),this.endingArrow=new a.z.jF({displayName:"Show Ending Arrow",name:"endingArrow",value:!0}),this.name="highlight3",this.displayName="Highlight 3",this.topLevelSlice=this.show,this.slices=[this.badgeType,this.fontSize,this.fontFamily,this.fill,this.useSentimentColor,this.invert,this.startIndices,this.endingIndices,this.arrowSize,this.startArrow,this.endingArrow]}}class f extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.badgeType=new a.z.PA({displayName:"Badge Type",name:"badgeType",items:[{displayName:"Rectangle",value:"rectangle"},{displayName:"Bubble",value:"bubble"}],value:{displayName:"Rectangle",value:"rectangle"}}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:14,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:"DIN"}),this.fill=new a.z.sk({displayName:"Line Color",name:"fill",value:{value:"black"},instanceKind:3}),this.invert=new a.z.jF({displayName:"Negative for highlight",name:"invert",value:!1}),this.useSentimentColor=new a.z.jF({displayName:"Use Sentiment Color",name:"useSentimentColor",value:!0}),this.arrowSize=new a.z.iB({displayName:"Arrow Size",name:"arrowSize",value:10,options:{minValue:{value:0,type:0},maxValue:{value:100,type:1}}}),this.startArrow=new a.z.jF({displayName:"Show Starting Arrow",name:"startArrow",value:!1}),this.endingArrow=new a.z.jF({displayName:"Show Ending Arrow",name:"endingArrow",value:!0}),this.name="highlight4",this.displayName="Highlight for Total and Last Bar",this.topLevelSlice=this.show,this.slices=[this.badgeType,this.fontSize,this.fontFamily,this.fill,this.useSentimentColor,this.invert,this.arrowSize,this.startArrow,this.endingArrow]}}class p extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.invert=new a.z.jF({displayName:"Negative for highlight",name:"invert",value:!1}),this.badgeType=new a.z.PA({displayName:"Badge Type",name:"badgeType",items:[{displayName:"Rectangle",value:"rectangle"},{displayName:"Bubble",value:"bubble"}],value:{displayName:"Rectangle",value:"rectangle"}}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:14,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:"DIN"}),this.fill=new a.z.sk({displayName:"Line Color",name:"fill",value:{value:"black"},instanceKind:3}),this.useSentimentColor=new a.z.jF({displayName:"Use Sentiment Color",name:"useSentimentColor",value:!0}),this.arrowSize=new a.z.iB({displayName:"Arrow Size",name:"arrowSize",value:10,options:{minValue:{value:0,type:0},maxValue:{value:100,type:1}}}),this.startArrow=new a.z.jF({displayName:"Show Starting Arrow",name:"startArrow",value:!1}),this.endingArrow=new a.z.jF({displayName:"Show Ending Arrow",name:"endingArrow",value:!0}),this.name="highlight5",this.displayName="Highlight for Last and Second Last Bar",this.topLevelSlice=this.show,this.slices=[this.badgeType,this.fontSize,this.fontFamily,this.fill,this.useSentimentColor,this.invert,this.arrowSize,this.startArrow,this.endingArrow]}}class v extends r{constructor(){super(...arguments),this.conditionalFormatting=new a.z.jF({displayName:"Use Conditional Formatting",name:"conditionalFormatting",value:!1}),this.colorToggle=new a.z.jF({displayName:"Negative is Good",name:"colorToggle",value:!1}),this.increase=new a.z.sk({displayName:"Increase",name:"increase",value:{value:"#6FD44D"}}),this.decrease=new a.z.sk({displayName:"Decrease",name:"decrease",value:{value:"#ff2800"}}),this.conditional=new a.z.sk({displayName:"Conditional Color",name:"conditional",value:{value:"#6FD44D"},selector:n.Z(0),instanceKind:2}),this.name="sentimentColor",this.displayName="Sentiment Color",this.slices=[this.conditionalFormatting,this.increase,this.decrease,this.conditional,this.colorToggle]}}class y extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!0}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:12,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:""}),this.padding=new a.z.iB({displayName:"Column Spacing",name:"padding",value:7,options:{minValue:{value:0,type:0},maxValue:{value:50,type:1}}}),this.formatToggle=new a.z.jF({displayName:"Format Values",name:"formatToggle",value:!0}),this.precision=new a.z.iB({displayName:"Formatting Precision",name:"precision",value:3,options:{minValue:{value:0,type:0},maxValue:{value:10,type:1}}}),this.header=new a.z.jF({displayName:"Table Header",name:"header",value:!0}),this.headerSymbols=new a.z.jF({displayName:"Header Grid Symbols",name:"headerSymbols",value:!0}),this.measureValues=new a.z.jF({displayName:"Measure Values",name:"measureValues",value:!0}),this.measureSymbolType=new a.z.PA({displayName:"Header Symbol Type",name:"measureSymbolType",items:[{displayName:"Line",value:"line"},{displayName:"Rectangle",value:"rectangle"},{displayName:"Hatched Rectangle",value:"hatchedRectangle"},{displayName:"Parallel Lines",value:"parallelLines"}],value:{displayName:"Hatched Rectangle",value:"hatchedRectangle"}}),this.measureSymbolColor=new a.z.sk({displayName:"Symbol Color",name:"measureSymbolColor",value:{value:"white"},instanceKind:3}),this.reference=new a.z.jF({displayName:"Reference Values",name:"reference",value:!0}),this.referenceSymbolType=new a.z.PA({displayName:"Header Symbol Type",name:"referenceSymbolType",items:[{displayName:"Line",value:"line"},{displayName:"Rectangle",value:"rectangle"},{displayName:"Hatched Rectangle",value:"hatchedRectangle"},{displayName:"Parallel Lines",value:"parallelLines"}],value:{displayName:"Rectangle",value:"rectangle"}}),this.referenceSymbolColor=new a.z.sk({displayName:"Symbol Color",name:"referenceSymbolColor",value:{value:"black"},instanceKind:3}),this.absoluteVariance=new a.z.jF({displayName:"Absolute Variance",name:"absoluteVariance",value:!0}),this.absVarSymbolType=new a.z.PA({displayName:"Header Symbol Type",name:"absVarSymbolType",items:[{displayName:"Line",value:"line"},{displayName:"Rectangle",value:"rectangle"},{displayName:"Hatched Rectangle",value:"hatchedRectangle"},{displayName:"Parallel Lines",value:"parallelLines"}],value:{displayName:"Rectangle",value:"rectangle"}}),this.absVarSymbolColor=new a.z.sk({displayName:"Symbol Color",name:"absVarSymbolColor",value:{value:"white"},instanceKind:3}),this.percentageVariance=new a.z.jF({displayName:"Variance %",name:"percentageVariance",value:!0}),this.percentVarSymbolType=new a.z.PA({displayName:"Header Symbol Type",name:"percentVarSymbolType",items:[{displayName:"Line",value:"line"},{displayName:"Rectangle",value:"rectangle"},{displayName:"Hatched Rectangle",value:"hatchedRectangle"},{displayName:"Parallel Lines",value:"parallelLines"}],value:{displayName:"Line",value:"line"}}),this.percentVarSymbolColor=new a.z.sk({displayName:"Symbol Color",name:"percentVarSymbolColor",value:{value:"black"},instanceKind:3}),this.result=new a.z.jF({displayName:"Result",name:"result",value:!0}),this.resultSymbolType=new a.z.PA({displayName:"Header Symbol Type",name:"resultSymbolType",items:[{displayName:"Line",value:"line"},{displayName:"Rectangle",value:"rectangle"},{displayName:"Hatched Rectangle",value:"hatchedRectangle"},{displayName:"Parallel Lines",value:"parallelLines"}],value:{displayName:"Line",value:"line"}}),this.resultSymbolColor=new a.z.sk({displayName:"Symbol Color",name:"resultSymbolColor",value:{value:"black"},instanceKind:3}),this.name="table",this.displayName="Table",this.topLevelSlice=this.show,this.slices=[this.fontSize,this.fontFamily,this.padding,this.formatToggle,this.precision,this.header,this.headerSymbols,this.measureValues,this.measureSymbolType,this.measureSymbolColor,this.reference,this.referenceSymbolType,this.referenceSymbolColor,this.absoluteVariance,this.absVarSymbolType,this.absVarSymbolColor,this.percentageVariance,this.percentVarSymbolType,this.percentVarSymbolColor,this.result,this.resultSymbolType,this.resultSymbolColor]}}class b extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.outlier=new a.z.iB({displayName:"Outlier Value",name:"outlier",value:1e4,options:{minValue:{value:0,type:0},maxValue:{value:1e6,type:1}}}),this.total=new a.z.jF({displayName:"Limit Total",name:"total",value:!1}),this.firstValues=new a.z.jF({displayName:"Limit First Values",name:"firstValues",value:!1}),this.secondLastValues=new a.z.jF({displayName:"Limit Second Last Values",name:"secondLastValues",value:!1}),this.lastValues=new a.z.jF({displayName:"Limit Last Values",name:"lastValues",value:!1}),this.axisBreakToggle=new a.z.jF({displayName:"Show Outlier Identifier (Axis Break)",name:"axisBreakToggle",value:!0}),this.axisBreakSize=new a.z.iB({displayName:"Identifier Size",name:"axisBreakSize",value:6,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.axisBreakColor=new a.z.sk({displayName:"Identifier Color",name:"axisBreakColor",value:{value:"#ffffff"},instanceKind:3}),this.axisBreakType=new a.z.PA({displayName:"Identifier Type",name:"axisBreakType",items:[{displayName:"Polygon",value:"polygon"},{displayName:"Gradient",value:"gradient"}],value:{displayName:"Polygon",value:"polygon"}}),this.axisBreakPosition=new a.z.iB({displayName:"Identifier Position",name:"axisBreakPosition",value:0,options:{minValue:{value:-100,type:0},maxValue:{value:100,type:1}}}),this.name="limitOutlier",this.displayName="Limit Outlier",this.topLevelSlice=this.show,this.slices=[this.outlier,this.total,this.firstValues,this.secondLastValues,this.lastValues,this.axisBreakToggle,this.axisBreakSize,this.axisBreakColor,this.axisBreakType,this.axisBreakPosition]}}class S extends r{constructor(){super(...arguments),this.customLabel=new a.z.ks({displayName:"Name",name:"customLabel",value:"",placeholder:"Enter name",instanceKind:3}),this.color=new a.z.sk({displayName:"Color",name:"color",value:{value:"#B2BEB5"},instanceKind:3}),this.borderColor=new a.z.sk({displayName:"Border Color",name:"borderColor",value:{value:""},instanceKind:3}),this.fillType=new a.z.PA({displayName:"Style",name:"fillType",items:[{displayName:"Solid",value:"solid"},{displayName:"Pattern",value:"pattern"}],value:{displayName:"Solid",value:"solid"}}),this.name="startingValue",this.displayName="Starting Value",this.slices=[this.customLabel,this.color,this.borderColor,this.fillType]}}class x extends r{constructor(){super(...arguments),this.customLabel=new a.z.ks({displayName:"Name",name:"customLabel",value:"",placeholder:"Enter name",instanceKind:3}),this.color=new a.z.sk({displayName:"Color",name:"color",value:{value:"#FF7F50"},instanceKind:3}),this.borderColor=new a.z.sk({displayName:"Border Color",name:"borderColor",value:{value:""},instanceKind:3}),this.fillType=new a.z.PA({displayName:"Style",name:"fillType",items:[{displayName:"Solid",value:"solid"},{displayName:"Pattern",value:"pattern"}],value:{displayName:"Solid",value:"solid"}}),this.name="firstValue",this.displayName="First Value",this.slices=[this.customLabel,this.color,this.borderColor,this.fillType]}}class A extends r{constructor(){super(...arguments),this.customLabel=new a.z.ks({displayName:"Name",name:"customLabel",value:"",placeholder:"Enter name",instanceKind:3}),this.color=new a.z.sk({displayName:"Color",name:"color",value:{value:"#17A589"},instanceKind:3}),this.borderColor=new a.z.sk({displayName:"Border Color",name:"borderColor",value:{value:""},instanceKind:3}),this.fillType=new a.z.PA({displayName:"Style",name:"fillType",items:[{displayName:"Solid",value:"solid"},{displayName:"Pattern",value:"pattern"}],value:{displayName:"Solid",value:"solid"}}),this.name="lastValue",this.displayName="Last Value",this.slices=[this.customLabel,this.color,this.borderColor,this.fillType]}}class w extends r{constructor(){super(...arguments),this.customLabel=new a.z.ks({displayName:"Name",name:"customLabel",value:"",placeholder:"Enter name",instanceKind:3}),this.color=new a.z.sk({displayName:"Color",name:"color",value:{value:"#F0B27A"},instanceKind:3}),this.borderColor=new a.z.sk({displayName:"Border Color",name:"borderColor",value:{value:""},instanceKind:3}),this.fillType=new a.z.PA({displayName:"Style",name:"fillType",items:[{displayName:"Solid",value:"solid"},{displayName:"Pattern",value:"pattern"}],value:{displayName:"Solid",value:"solid"}}),this.name="secondLastValue",this.displayName="Second Last Value",this.slices=[this.customLabel,this.color,this.borderColor,this.fillType]}}class T extends r{constructor(){super(...arguments),this.L1=new a.z.sk({displayName:"Level 1",name:"L1",value:{value:"#003396"},instanceKind:3}),this.L2=new a.z.sk({displayName:"Level 2",name:"L2",value:{value:"#154197"},instanceKind:3}),this.L3=new a.z.sk({displayName:"Level 3",name:"L3",value:{value:"#2e5090"},instanceKind:3}),this.L4=new a.z.sk({displayName:"Level 4",name:"L4",value:{value:"#3A5891"},instanceKind:3}),this.L5=new a.z.sk({displayName:"Level 5",name:"L5",value:{value:"#496291"},instanceKind:3}),this.L6=new a.z.sk({displayName:"Level 6",name:"L6",value:{value:"#5F7295"},instanceKind:3}),this.L7=new a.z.sk({displayName:"Level 7",name:"L7",value:{value:"#728099"},instanceKind:3}),this.L8=new a.z.sk({displayName:"Level 8",name:"L8",value:{value:"#818A9B"},instanceKind:3}),this.name="hierarchy",this.displayName="Hierarchy",this.slices=[this.L1,this.L2,this.L3,this.L4,this.L5,this.L6,this.L7,this.L8]}}class N extends r{constructor(){super(...arguments),this.show=new a.z.jF({displayName:"Show",name:"show",value:!1}),this.markerSize=new a.z.iB({displayName:"Marker Size",name:"markerSize",value:6,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.fontFamily=new a.z.Cx({displayName:"Font Family",name:"fontFamily",value:"Segoe UI"}),this.fontColor=new a.z.sk({displayName:"Text Color",name:"fontColor",value:{value:"black"},instanceKind:3}),this.fontSize=new a.z.iB({displayName:"Text Size",name:"fontSize",value:14,options:{minValue:{value:1,type:0},maxValue:{value:100,type:1}}}),this.name="legend",this.displayName="Legend",this.topLevelSlice=this.show,this.slices=[this.markerSize,this.fontFamily,this.fontColor,this.fontSize]}}class C extends r{constructor(){super(...arguments),this.invert=new a.z.jF({displayName:"Negative for Reference Label",name:"invert",value:!1}),this.showBars=new a.z.jF({displayName:"Show reference bars",name:"showBars",value:!0}),this.connectionLine=new a.z.jF({displayName:"New Connection Line",name:"connectionLine",value:!1}),this.name="reference",this.displayName="Reference",this.slices=[this.invert,this.showBars,this.connectionLine]}}class D extends r{constructor(){super(...arguments),this.subTotalToggle=new a.z.jF({displayName:void 0,name:"subTotalToggle",value:!1}),this.subTotalType=new a.z.PA({displayName:"Subtotal Type",name:"subTotalType",items:[{displayName:"Automatic",value:"automatic"},{displayName:"Manual",value:"manual"}],value:{displayName:"Manual",value:"manual"}}),this.subTotalPosition=new a.z.ks({displayName:"Subtotal Bar Indices (e.g. 1,2,3...)",name:"subTotalPosition",value:"",placeholder:"Enter subtotal bar indices",instanceKind:3}),this.name1=new a.z.ks({displayName:"Name 1",name:"n1",value:"",placeholder:"Enter name",instanceKind:3}),this.name2=new a.z.ks({displayName:"Name 2",name:"n2",value:"",placeholder:"Enter name",instanceKind:3}),this.name3=new a.z.ks({displayName:"Name 3",name:"n3",value:"",placeholder:"Enter name",instanceKind:3}),this.name4=new a.z.ks({displayName:"Name 4",name:"n4",value:"",placeholder:"Enter name",instanceKind:3}),this.name5=new a.z.ks({displayName:"Name 5",name:"n5",value:"",placeholder:"Enter name",instanceKind:3}),this.name6=new a.z.ks({displayName:"Name 6",name:"n6",value:"",placeholder:"Enter name",instanceKind:3}),this.name7=new a.z.ks({displayName:"Name 7",name:"n7",value:"",placeholder:"Enter name",instanceKind:3}),this.name8=new a.z.ks({displayName:"Name 8",name:"n8",value:"",placeholder:"Enter name",instanceKind:3}),this.color1=new a.z.sk({displayName:"Color 1",name:"c1",value:{value:"#5F5F5F"},instanceKind:3}),this.color2=new a.z.sk({displayName:"Color 2",name:"c2",value:{value:"#5F5F5F"},instanceKind:3}),this.color3=new a.z.sk({displayName:"Color 3",name:"c3",value:{value:"#5F5F5F"},instanceKind:3}),this.color4=new a.z.sk({displayName:"Color 4",name:"c4",value:{value:"#5F5F5F"},instanceKind:3}),this.color5=new a.z.sk({displayName:"Color 5",name:"c5",value:{value:"#5F5F5F"},instanceKind:3}),this.color6=new a.z.sk({displayName:"Color 6",name:"c6",value:{value:"#5F5F5F"},instanceKind:3}),this.color7=new a.z.sk({displayName:"Color 7",name:"c7",value:{value:"#5F5F5F"},instanceKind:3}),this.color8=new a.z.sk({displayName:"Color 8",name:"c8",value:{value:"#5F5F5F"},instanceKind:3}),this.name="subtotal",this.displayName="Subtotal",this.topLevelSlice=this.subTotalToggle,this.slices=[this.subTotalToggle,this.subTotalType,this.subTotalPosition,this.name1,this.color1,this.name2,this.color2,this.name3,this.color3,this.name4,this.color4,this.name5,this.color5,this.name6,this.color6,this.name7,this.color7,this.name8,this.color8]}}class M extends r{constructor(){super(...arguments),this.min=new a.z.iB({displayName:"Min",name:"min",value:void 0,instanceKind:3}),this.max=new a.z.iB({displayName:"Max",name:"max",value:void 0,instanceKind:3}),this.reset=new a.z.jF({displayName:"Reset axis range",name:"reset",value:!1}),this.name="yAxis",this.displayName="Y-axis",this.slices=[this.min,this.max,this.reset]}}class _ extends r{constructor(){super(...arguments),this.dataKey=new a.z.uI({displayName:"Data Key",name:"dataKey",value:""}),this.name="persistence",this.displayName=void 0,this.visible=!1,this.slices=[this.dataKey]}}class k extends s{constructor(){super(...arguments),this.chart=new h,this.license=new l,this.bar=new o,this.subtotal=new D,this.reference=new C,this.label=new u,this.legend=new N,this.lineChart=new c,this.highlight1=new d,this.highlight2=new g,this.highlight3=new m,this.highlight4=new f,this.highlight5=new p,this.sentimentColor=new v,this.table=new y,this.limitOutlier=new b,this.firstValue=new x,this.startingValue=new S,this.lastValue=new A,this.secondLastValue=new w,this.hierarchy=new T,this.yAxis=new M,this.persistence=new _,this.cards=[this.license,this.chart,this.bar,this.yAxis,this.subtotal,this.reference,this.label,this.legend,this.lineChart,this.highlight1,this.highlight2,this.highlight3,this.highlight4,this.highlight5,this.sentimentColor,this.table,this.limitOutlier,this.firstValue,this.startingValue,this.lastValue,this.secondLastValue,this.hierarchy,this.persistence]}}},5789:(e,t,i)=>{i.d(t,{b:()=>l});var a=i(980),n=i(756),r=i(6838),s=i(7674);class l{constructor(e){this.waterFallChart=new r.v;const t=n.Ltv(e.element).append("div");this.svg=t.append("svg").classed("host-svg",!0).attr("width",n.Ltv(e.element).attr("width")).attr("height",n.Ltv(e.element).attr("height")),this.waterFallChart.start(e,this.svg),this.events=e.host.eventService,this.formattingSettingsService=new s.O}update(e){this.events.renderingStarted(e),this.dataView=e.dataViews[0],this.visualSettings=this.formattingSettingsService.populateFormattingSettingsModel(a.S,e.dataViews[0]);const t=e.viewport.width,i=e.viewport.height;this.svg.attr("width",t).attr("height",i),this.waterFallChart.update(e,this.visualSettings),this.events.renderingFinished(e)}getFormattingModel(){const e=this.dataView&&this.dataView.metadata&&this.dataView.metadata.objects,t=e?e.license:null;return t&&t.persistantDecodedKey&&(this.visualSettings.license.licenseKey.value=t.persistantKey.toString(),this.visualSettings.license.decodedKey.value=t.persistantDecodedKey.toString()),this.visualSettings.license.slices=this.visualSettings.license.slices.filter((e=>e!==this.visualSettings.license.persistantDecodedKey)),this.visualSettings.license.slices=this.visualSettings.license.slices.filter((e=>e!==this.visualSettings.license.persistantKey)),this.visualSettings.bar.rotateLabels.value&&(this.visualSettings.bar.slices=this.visualSettings.bar.slices.filter((e=>e!==this.visualSettings.bar.labelBackgroundToggle))),this.visualSettings.bar.labelToggle.value||(this.visualSettings.bar.slices=this.visualSettings.bar.slices.filter((e=>![this.visualSettings.bar.rotateLabels,this.visualSettings.bar.unitVisibility,this.visualSettings.bar.signToggle,this.visualSettings.bar.fontSize,this.visualSettings.bar.fontColor,this.visualSettings.bar.fontFamily,this.visualSettings.bar.dataUnit,this.visualSettings.bar.precision,this.visualSettings.bar.labelBackgroundToggle,this.visualSettings.bar.labelBackgroundColor,this.visualSettings.bar.transparency].includes(e)))),this.visualSettings.bar.labelBackgroundToggle.value||(this.visualSettings.bar.slices=this.visualSettings.bar.slices.filter((e=>![this.visualSettings.bar.labelBackgroundColor,this.visualSettings.bar.transparency].includes(e)))),this.visualSettings.subtotal.subTotalToggle.value&&"automatic"===this.visualSettings.subtotal.subTotalType.value.value&&(this.visualSettings.subtotal.slices=this.visualSettings.subtotal.slices.filter((e=>e!==this.visualSettings.subtotal.subTotalPosition))),this.visualSettings.bar.totalBar.value||(this.visualSettings.bar.slices=this.visualSettings.bar.slices.filter((e=>e!==this.visualSettings.bar.totalBarColor))),""===this.visualSettings.bar.customBarColor.value.value&&(this.visualSettings.bar.slices=this.visualSettings.bar.slices.filter((e=>![this.visualSettings.bar.customBarColorIndices,this.visualSettings.bar.customBarColorToggle].includes(e)))),this.visualSettings.label.overlapMitigation.value||(this.visualSettings.label.slices=this.visualSettings.label.slices.filter((e=>![this.visualSettings.label.truncateLimit,this.visualSettings.label.rotationAngle,this.visualSettings.label.horizontalPosition,this.visualSettings.label.verticalPosition].includes(e)))),this.visualSettings.lineChart.showMarkers.value||(this.visualSettings.lineChart.slices=this.visualSettings.lineChart.slices.filter((e=>![this.visualSettings.lineChart.markerRadius,this.visualSettings.lineChart.markerStrokeWidth,this.visualSettings.lineChart.markerStrokeColor,this.visualSettings.lineChart.markerFillColor].includes(e)))),this.visualSettings.lineChart.areaUnderTheGraph.value||(this.visualSettings.lineChart.slices=this.visualSettings.lineChart.slices.filter((e=>![this.visualSettings.lineChart.areaColor,this.visualSettings.lineChart.areaOpacity].includes(e)))),this.visualSettings.label.boldLabelToggle.value||(this.visualSettings.label.slices=this.visualSettings.label.slices.filter((e=>![this.visualSettings.label.boldLabelIndices,this.visualSettings.label.boldAllLabels].includes(e)))),this.visualSettings.limitOutlier.axisBreakToggle.value||(this.visualSettings.limitOutlier.slices=this.visualSettings.limitOutlier.slices.filter((e=>![this.visualSettings.limitOutlier.axisBreakColor,this.visualSettings.limitOutlier.axisBreakSize,this.visualSettings.limitOutlier.axisBreakType,this.visualSettings.limitOutlier.axisBreakPosition].includes(e)))),this.visualSettings.table.formatToggle.value||(this.visualSettings.table.slices=this.visualSettings.table.slices.filter((e=>e!==this.visualSettings.table.precision))),this.visualSettings.table.headerSymbols.value||(this.visualSettings.table.slices=this.visualSettings.table.slices.filter((e=>![this.visualSettings.table.measureSymbolType,this.visualSettings.table.referenceSymbolType,this.visualSettings.table.absVarSymbolType,this.visualSettings.table.percentVarSymbolType,this.visualSettings.table.resultSymbolType,this.visualSettings.table.measureSymbolColor,this.visualSettings.table.referenceSymbolColor,this.visualSettings.table.absVarSymbolColor,this.visualSettings.table.percentVarSymbolColor,this.visualSettings.table.resultSymbolColor].includes(e)))),this.visualSettings.sentimentColor.conditionalFormatting.value?this.visualSettings.sentimentColor.slices=this.visualSettings.sentimentColor.slices.filter((e=>![this.visualSettings.sentimentColor.increase,this.visualSettings.sentimentColor.decrease,this.visualSettings.sentimentColor.colorToggle].includes(e))):this.visualSettings.sentimentColor.slices=this.visualSettings.sentimentColor.slices.filter((e=>e!==this.visualSettings.sentimentColor.conditional)),this.visualSettings.chart.axisToggle.value&&(this.visualSettings.bar.slices=this.visualSettings.bar.slices.filter((e=>e!==this.visualSettings.bar.rotateLabels))),this.formattingSettingsService.buildFormattingModel(this.visualSettings)}}},6838:(e,t,i)=>{i.d(t,{v:()=>u});var a=i(9334),n=i(1847),r=i(756),s=i(8721),l=i(1729),o=i(8444);class u extends l.c{constructor(){super(),this.data=[],this.referenceData=[],this.tableData=[],this.chart=[],this.dimensionsDivisionFactor=1,this.highlights=[],this.groupNames=[],this.datasetNames=[],this.tableValuesNames=[],this.categoriesArray=[],this.maxHeirarchyDepth=0,this.primaryColor="",this.secondaryColor="",this.categoryName="",this.scrollAble=!1,this.seriesConfiguration=!1,this.hierarchichalConfiguration=!1,this.heirarchichalCategories=[],this.retainHeirarchichalState=!1,this.conditionalSentimentColors=void 0,this.expandedNodeIndices=[],this.treeExpansionDepth=1,this.barLabelOverlap=!1,this.legendHeight=0,this.columnUpdateContainer=null,this.publicKey={crv:"P-384",ext:!0,key_ops:["verify"],kty:"EC",x:"Qa1OMlaAPT2HFckF-660lMVh5iD8uKOa77LSHllJHYqaLkqri9zrw_fPisiLfvAf",y:"a9U9FBeR1oHYRCq-H_yUfkXLx2cznb4nKyGxzdOfwt0-cFWsqfO2xXbrFxAtsd1i"},this.prevCode="",this.verifiedKey=""}startView(e){this.localizationManager=e.host.createLocalizationManager(),this.colorPalette=e.host.colorPalette,this.tooltipServiceWrapper=(0,a.C)(e.host.tooltipService,e.element),this.licenseManager=e.host.licenseManager,this.localVisualStorageService=e.host.storageService,this.selectionManager=e.host.createSelectionManager(),this.interactivity=o.d(e.host),this.host=e.host,this.target=e.element,this.isHighContrast=e.host.colorPalette.isHighContrast}updateView(e,t){if(!e.dataViews||!e.dataViews[0]||!e.dataViews[0].categorical.values)return void this.createLandingPage();void 0!==e.dataViews[0].categorical.categories&&void 0!==e.dataViews[0].categorical.categories[0].objects&&this.getConditionalSentimentColors(e.dataViews[0]),this.visualSettings=t,this.svg.selectAll("*").remove(),this.createWatermark(),this.handleContextMenu(),this.performLicenseEnforcement(),this.handleBreakingSettings(this.visualSettings);const i={top:50,right:30,bottom:50,left:30},a=this.visualSettings.bar.customBarColor.value.value,n=this.visualSettings.bar.customBarColorToggle.value;this.primaryColor=n?a:this.visualSettings.sentimentColor.colorToggle.value?this.visualSettings.sentimentColor.decrease.value.value:this.visualSettings.sentimentColor.increase.value.value,this.secondaryColor=n?a:this.primaryColor==this.visualSettings.sentimentColor.decrease.value.value?this.visualSettings.sentimentColor.increase.value.value:this.visualSettings.sentimentColor.decrease.value.value;const r=Object.assign({},e.dataViews[0]);this.dataView=r,this.data=[],this.referenceData=[],this.tableData=[],this.highlights=[],this.barLabelOverlap=!1,this.visualSettings.chart.axisToggle.value||(this.hierarchichalConfiguration=!1),this.legendHeight=0;const s=r.categorical.values.length;console.log(r);const l=Object.assign([],r.categorical.values),o=l.filter((e=>null!=e.source.roles.firstValues)),u=l.filter((e=>null!=e.source.roles.startingValues)),c=l.filter((e=>null!=e.source.roles.measure));if(0===c.length)return void this.createLandingPage();this.measureHighlights=c.map((e=>e.highlights)).filter((e=>void 0!==e));const h=void 0!==r.categorical.categories?r.categorical.categories.filter((e=>!0===e.source.roles.category)):[],d=l.filter((e=>null!=e.source.roles.secondLastValues)),g=l.filter((e=>null!=e.source.roles.lastValues)),m=l.filter((e=>null!=e.source.roles.reference)),f=l.filter((e=>null!=e.source.roles.tableValues)),p=l.filter((e=>null!=e.source.roles.sign)).length>0?l.filter((e=>null!=e.source.roles.sign))[0].values:null;this.measureFormat=c[0].source.format,this.referenceFormat=m.length>0?m[0].source.format:null,this.reference2Format=m.length>1?m[1].source.format:null,this.tableFormat=f.length>0?f[0].source.format:null,this.primaryDataset=c[0].source.queryName.split(".")[0],!this.hierarchichalConfiguration&&this.svg.attr("height",this.height*(c.length>4?Math.ceil(c.length/4):1)+21*Math.ceil(c.length/2)),this.categoryName=void 0!==r.categorical.categories?r.categorical.categories[0].source.displayName:"",this.datasetNames=[],this.tableValuesNames=[],this.categoriesArray=[],c.length>0&&c.forEach((e=>{void 0!==e.source.displayName&&this.datasetNames.push(e.source.displayName.toString())})),m.length>0&&(this.visualSettings.chart.mergeLastAndTotal.value=!1,this.visualSettings.limitOutlier.show.value=!1,void 0!==m[0].source.displayName&&this.datasetNames.push(m[0].source.displayName.toString())),f.length>0&&f.forEach((e=>{void 0!==e.source.displayName&&this.tableValuesNames.push(e.source.displayName.toString())})),this.groupNames=[],l.length>=1&&h.length>0&&(l.forEach((e=>{void 0!==e.source.groupName&&this.groupNames.push(null===e.source.groupName?"":e.source.groupName.toString())})),this.groupNames=[...new Set(this.groupNames)]),this.dimensionsDivisionFactor=1===c.length||0===h.length||0===this.groupNames.length?1:2,this.populateData(h,c,p,r),m.length>0&&this.populateReferenceData(m,r,c),f.length>0&&this.populateTableValues(f,r,c),this.visualSettings.subtotal.subTotalToggle.value&&"manual"===this.visualSettings.subtotal.subTotalType.value.value&&(this.data.forEach((e=>{this.insertSubtotalBars(e,this.visualSettings.subtotal.subTotalPosition.value)})),this.tableData.forEach((e=>{this.insertSubtotalBars(e,this.visualSettings.subtotal.subTotalPosition.value)}))),this.data.forEach(((e,t)=>{this.insertExtremeValues(e,s,o,u,d,g,t)})),this.tableData.forEach(((e,t)=>{this.insertExtremeValues(e,s,o,u,d,g,t)})),this.validateData(this.data)||this.validateData(this.referenceData)||this.validateData(this.tableData)?this.showError("Please insert numeric values in numeric data buckets."):(this.configureVisualDimensions(c,h),this.chart=[],this.configureGrid(l),this.data.forEach(((t,a)=>{this.constructChart(t,u,a,i,e)})))}getConditionalSentimentColors(e){const t=e.categorical.categories[0].objects;this.conditionalSentimentColors=t.map((e=>null===e?null:e.sentimentColor.conditional.valueOf().solid.color))}getDynamicFormat(e,t){return e&&0!==e.length&&e[t]&&e[t].general&&e[t].general.formatString?e[t].general.formatString.toString():null}validateData(e){return e.some((e=>e.some((e=>isNaN(e.value)))))}showError(e){const t=this.svg.append("text").text(e).attr("x",25).attr("y",this.height/2).attr("text-anchor","start").attr("fill","red");t.attr("font-size","20px"),t.attr("font-family","sans-serif");const i=t.node().getBBox().height,a=t.node().getBBox().width;a>this.width&&(this.svg.attr("width",a+50),this.target.style.overflowX="scroll"),i>this.height&&(this.svg.attr("height",i+50),this.target.style.overflowY="scroll")}constructChart(e,t,i,a,s){a.top=30;const l=this.visualSettings.bar.customBarColorIndices.value.split(","),o=this.referenceData.length>0?this.referenceData[i]:null,u=e.filter((e=>e.class.includes("centralMeasure")&&!e.class.includes("subtotal")));null!=o&&this.mutateDataForReference(u,o,e),this.visualSettings.legend.show.value&&0===this.legendHeight&&this.configureLegend(o,a,i);const c=this.svg.select(`.c${i}`).append("text").attr("id",`groupName${i}`).text(this.groupNames[i]).attr("fill","black").attr("transform",`translate(0,${-1!==[0,1].indexOf(i)?this.legendHeight:0})`);null!=c&&(a.top+=c.node().getBBox().height),this.configureHighlights(a,e),a.left=this.visualSettings.chart.yAxisToggle.value?50:16,a.right=16;const h=.01*this.visualSettings.chart.padding.value,d=this.height/this.dimensionsDivisionFactor-a.top-a.bottom,g=this.width/this.dimensionsDivisionFactor-a.left-a.right;this.visualSettings.limitOutlier.show.value&&this.handleSkewedData(e);const m=this.calculateGlobalExtrema(e,this.visualSettings.limitOutlier.show.value,o);let f=0;const p=this.data.flat().reduce(((e,t)=>(t.value||0)>(e.value||0)?t:e),{value:0,format:"",dynamicFormat:""}),v=this.referenceData.flat().reduce(((e,t)=>(t.value||0)>(e.value||0)?t:e),{value:0,format:"",dynamicFormat:""}),y=this.formatValue(p.value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),p.dynamicFormat||p.format||this.measureFormat),b=this.formatValue(v.value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),v.dynamicFormat||v.format||this.measureFormat),S=y.length>b.length?y:b,x=n.Tf.measureSvgTextWidth({text:S,fontFamily:this.visualSettings.bar.fontFamily.value,fontSize:`${this.visualSettings.bar.fontSize.value}px`}),A=f=n.Tf.measureSvgTextHeight({text:S,fontFamily:this.visualSettings.bar.fontFamily.value,fontSize:`${this.visualSettings.bar.fontSize.value}px`})+15;if(f=this.visualSettings.bar.labelToggle.value?this.visualSettings.bar.rotateLabels.value?x:A:0,this.visualSettings.chart.axisToggle.value)return void this.configureChartForHorizontalOrientation(x,e,o,i,s,a,m,g,d,h,u,l,c);const w=this.svg.select(`.c${i}`).append("g").classed("chart",!0).attr("transform",`translate(${a.left/this.dimensionsDivisionFactor},${a.top/this.dimensionsDivisionFactor})`);this.chart.push(w);const T=r.WH().rangeRound([0,g]).padding(h).domain(e.map((e=>e.name))),N=r.m4Y().range([d,f]).domain([m.globalMinimum,m.globalMaximum]),C=r.V4s(N),D=r.l78(T);w.append("g").attr("class","x-axis").style("color","black").attr("transform",`translate(0,${d})`).call(D).selectAll(".tick").select("text").style("font-size",`${this.visualSettings.label.fontSize.value}`).style("color",this.visualSettings.label.color.value.value).style("font-family",this.visualSettings.label.fontFamily.value),r.Ubm(".x-axis").select(".domain").remove(),r.Ubm(".x-axis").selectAll(".tick line").remove(),this.visualSettings.chart.yAxisToggle.value&&w.append("g").attr("class","y-axis").style("color","black").call(C),this.countOverLappingLabels(w.selectAll(".tick text"),T.bandwidth())>0&&!this.visualSettings.label.multilineToggle.value&&(this.visualSettings.label.overlapMitigation.value=!0),this.handleOverlapMitigation(w,a,N,C,d,T,f);const M="clip"+i,_=T.range(),k=N.range(),F=Math.min(..._),z=Math.min(...k)-f,E=Math.abs(_[1]-_[0]),O=Math.abs(k[1]-k[0])+f;w.append("defs").append("clipPath").attr("id",M).append("rect").attr("x",F-a.left).attr("y",z).attr("width",E+a.left+a.right).attr("height",O),this.visualSettings.chart.originToggle.value&&w.append("line").classed("axis",!0).attr("stroke","black").attr("class","axis").attr("x1",0).attr("y1",N(0)).attr("x2",g).attr("y2",N(0)).attr("transform","translate(0, 0)").attr("clip-path",`url(#${M})`),this.visualSettings.label.boldLabelToggle.value&&w.selectAll(".tick text").call(this.boldenLabels,this.visualSettings.label.boldAllLabels.value,this.visualSettings.label.boldLabelIndices.value,this.visualSettings.label.multilineToggle.value);const L=[],B=this.appendVerticalBarContainers(w,e,l,L,T);if(B.attr("clip-path",`url(#${M})`),this.svg.on("click",(e=>{e.ctrlKey||3===e.which||this.measureHighlights.length>0||(L.splice(0,L.length),this.selectionManager.clear().then((()=>{w.selectAll(".bar").attr("opacity","1"),w.selectAll(".tick text").attr("opacity","1")})))})),this.visualSettings.bar.show.value){const t=this.appendVerticalConnectingLines(B,e,T,h,u,o,N);t.empty()||t.attr("shape-rendering","crispEdges");const i=this.appendVerticalBars(B,e,o,u,T,N,l),a=this.visualSettings.reference.showBars.value;i.filter((e=>e.class.includes("centralMeasure")&&!e.class.includes("startingValue")&&!e.class.includes("total"))).attr("stroke-dasharray",(function(){const e=r.Ltv(this).attr("height");return`${null!==o&&a?T.bandwidth()/2:T.bandwidth()} ${e}`})),null!==o&&a&&this.appendVerticalReferenceBars(B,e,o,u,l,T,N).attr("stroke",(function(){return r.Ltv(this).attr("fill")})).attr("stroke-dasharray",(function(){const e=r.Ltv(this).attr("height");return`${T.bandwidth()/2} ${e}`})),this.visualSettings.bar.labelToggle.value&&this.configureVerticalBarLabels(w,B,o,T,N,u),this.visualSettings.limitOutlier.show.value&&this.visualSettings.limitOutlier.axisBreakToggle.value&&this.appendVerticalAxisBreakSymbols(w,B,T,N),null!==o&&this.visualSettings.reference.showBars.value&&this.visualSettings.reference.connectionLine.value&&this.appendVerticalReferenceConnectors(B,e,o,u,T,N)}this.visualSettings.lineChart.show.value&&this.insertLineChart(T,N,e,i),this.configureTooltipsForVerticalOrientation(w,B,e,L),0===this.groupNames.length&&this.highlights.forEach(((t,n)=>{t.startingIndices!=t.endingIndices&&t.validIndices.length>0&&this.insertHighlight(t.validIndices,t.startingIndices,t.endingIndices,T,N,a,e,i,t.settings,n)}))}appendVerticalReferenceConnectors(e,t,i,a,n,r){e.filter((e=>-1===["firstValues","lastValues","secondLastValues","total","subtotal","startingValues"].indexOf(e.class.split(" ")[0]))).filter((e=>{const i=t.filter((e=>e.class.includes("centralMeasure")));return!!this.visualSettings.bar.totalBar.value||e!=i[i.length-1]})).append("line").attr("stroke","black").attr("x1",0).attr("y1",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,s=i[a.indexOf(e)],l=e.value>=0&&s.value<0||e.value<=0&&s.value>0?s.value:0;return r((e.value<0?n:Math.max(t,n))+l)})).attr("x2",n.bandwidth()).attr("y2",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,s=i[a.indexOf(e)],l=e.value>=0&&s.value<0||e.value<=0&&s.value>0?s.value:0;return r((e.value<0?n:Math.max(t,n))+l)})).attr("stroke-width",3)}appendHorizontalReferenceConnectors(e,t,i,a,n,r){e.filter((e=>-1===["firstValues","lastValues","secondLastValues","total","subtotal","startingValues"].indexOf(e.class.split(" ")[0]))).filter((e=>{const i=t.filter((e=>e.class.includes("centralMeasure")));return!!this.visualSettings.bar.totalBar.value||e!=i[i.length-1]})).append("line").attr("stroke","black").attr("x1",(e=>{const t=i[a.indexOf(e)],n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,s=e.value>=0&&t.value<0||e.value<=0&&t.value>0?t.value:0;return r((e.value<0?n:Math.max(e.start,n))+s)})).attr("y1",(e=>n(e.name))).attr("x2",(e=>{const t=i[a.indexOf(e)],n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,s=e.value>=0&&t.value<0||e.value<=0&&t.value>0?t.value:0;return r((e.value<0?n:Math.max(e.start,n))+s)})).attr("y2",(e=>n(e.name)+n.bandwidth())).attr("stroke-width",3)}configureTooltipsForHorizontalOrientation(e,t,i){this.tooltipServiceWrapper.addTooltip(t,(e=>this.getTooltipData(e)),(e=>e.identity)),this.visualSettings.table.show.value||(e.select(".x-axis").selectAll(".tick").data(i).on("mouseover",((t,a)=>{this.measureHighlights.length>0||(e.selectAll(".bar").filter(((e,t)=>t!=i.indexOf(a))).attr("opacity","0.4"),e.select(".x-axis").selectAll(".tick text").filter(((e,t)=>t!=i.indexOf(a))).attr("opacity","0.4"))})).on("mouseout",(()=>{this.measureHighlights.length>0||(e.selectAll(".bar").attr("opacity","1"),e.selectAll(".tick text").attr("opacity","1"))})),this.tooltipServiceWrapper.addTooltip(e.select(".x-axis").selectAll(".tick"),(e=>this.getTooltipData(e)),(e=>e.identity)))}configureTooltipsForVerticalOrientation(e,t,i,a){this.tooltipServiceWrapper.addTooltip(t,(e=>this.getTooltipData(e)),(e=>e.identity),!1),e.select(".x-axis").selectAll(".tick").data(i).on("mouseover",((t,n)=>{a.length>0||this.measureHighlights.length>0||(e.selectAll(".bar").filter(((e,t)=>t!=i.indexOf(n))).attr("opacity","0.4"),e.selectAll(".tick text").filter(((e,t)=>t!=i.indexOf(n))).attr("opacity","0.4"))})).on("mouseout",(()=>{a.length>0||this.measureHighlights.length>0||(e.selectAll(".bar").attr("opacity","1"),e.selectAll(".tick text").attr("opacity","1"))})).on("click",((e,t)=>{this.host.hostCapabilities.allowInteractions&&(e.stopPropagation(),3===e.which||a.length>0||this.measureHighlights.length>0||this.selectionManager.select(t.identity))})),this.tooltipServiceWrapper.addTooltip(e.select(".x-axis").selectAll(".tick"),(e=>this.getTooltipData(e)),(e=>e.identity))}getTooltipData(e){if(null!==e.constituents&&void 0!==e.constituents){const t=[];for(const i in e.constituents)t.push({displayName:i,value:e.constituents[i],color:void 0!==e.constituents["Absolute Variance"]||e.class.includes("total")?"transparent":e.color});return e.class.includes("total")||void 0===e.constituents["Absolute Variance"]&&t.push({displayName:"Total",value:this.formatValue(e.value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat),color:"transparent"}),t}return[{displayName:e.name,value:this.formatValue(e.value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat),color:e.color}]}applyHoverEventsToColumn(e,t,i,a){e.data([null].concat(t)).filter(((e,t)=>0!==t)).on("mouseover",((e,n)=>{this.setOpacityForBars(t.indexOf(n),i,.4),a.forEach((e=>{this.setOpacityForTable(t.indexOf(n),e,.4)}))})).on("mouseout",((e,n)=>{this.setOpacityForBars(null,i,1),a.forEach((e=>{this.setOpacityForTable(t.indexOf(n),e,1)}))}))}setOpacityForBars(e,t,i){t.selectAll(".bar").filter(((t,i)=>null===e||i!==e)).attr("opacity",i),t.selectAll(".tick text").filter(((t,i)=>null===e||i!==e)).attr("opacity",i)}setOpacityForTable(e,t,i){t.filter(((t,i)=>null===e||i!==e+1&&0!==i)).attr("opacity",i)}insertSubtotalBars(e,t){const i=t.split(",");if(null!=i&&i.length>0)for(let t=0;t<e.length;t++)if(i.indexOf(t.toString())>-1){if(t>=e.length-1||t<=0)return;const a=i.indexOf(t.toString())+1,n=a<=8?this.visualSettings.subtotal["name"+a].value:"",r=a<=8?this.visualSettings.subtotal["color"+a].value.value:"";e.splice(t,0,{name:n||"SubTotal"+a,start:e[t-1].end,end:0,value:e[t-1].end,class:"subtotal centralMeasure",color:r||"#5F5F5F",selected:!1,identity:null})}}countOverLappingLabels(e,t){let i=0;return e.each((function(){this.getComputedTextLength()>t&&i++})),i}handleOverlapMitigation(e,t,i,a,n,r,s){if(this.visualSettings.label.overlapMitigation.value){e.select(".x-axis").selectAll(".tick text").attr("dx",.1*this.visualSettings.label.horizontalPosition.value+"em").attr("dy",.1*this.visualSettings.label.verticalPosition.value+"em").attr("y","0").attr("text-anchor","end").attr("transform",`rotate(-${this.visualSettings.label.rotationAngle.value})`).style("font-size",this.visualSettings.label.fontSize.value).call(this.truncateLabelsText,this.visualSettings.label.truncateLimit.value);let l=0;e.select(".x-axis").selectAll(".tick").nodes().forEach((e=>{e.getBBox().height>l&&(l=e.getBBox().height)})),t.bottom=l,n=this.height/this.dimensionsDivisionFactor-t.top-t.bottom,i.range([n,s]),e.select(".x-axis").attr("transform",`translate(0,${n})`),this.visualSettings.chart.yAxisToggle.value&&(e.select(".y-axis").remove(),e.append("g").attr("class","y-axis").style("color","black").call(a));let o=0;e.select(".x-axis").selectAll(".tick").nodes().forEach(((e,i)=>{e.getBBox().width>r.bandwidth()*(i+1)+t.left-40&&(o=-90)})),o<0&&(e.select(".x-axis").selectAll(".tick text").attr("dx","-0.7em").attr("dy","0.3em").attr("y","0").attr("text-anchor","end").attr("transform",`rotate(${o})`).style("font-size",this.visualSettings.label.fontSize.value).call(this.truncateLabelsText,this.visualSettings.label.truncateLimit.value),l=0,e.select(".x-axis").selectAll(".tick").nodes().forEach((e=>{e.getBBox().height>l&&(l=e.getBBox().height)})),t.bottom=l+(this.scrollAble?20:10),n=this.height/this.dimensionsDivisionFactor-t.top-t.bottom,i.range([n,s]),e.select(".x-axis").attr("transform",`translate(0,${n})`),this.visualSettings.chart.yAxisToggle.value&&(e.select(".y-axis").remove(),e.append("g").attr("class","y-axis").style("color","black").call(a)))}if(this.visualSettings.label.multilineToggle.value){e.selectAll(".tick text").call(this.wrap,r.bandwidth());let l=0;e.select(".x-axis").selectAll(".tick").nodes().forEach((e=>{e.getBBox().height>l&&(l=e.getBBox().height)})),t.bottom=l+(this.scrollAble?20:10),n=this.height/this.dimensionsDivisionFactor-t.top-t.bottom,i.range([n,s]),e.select(".x-axis").attr("transform",`translate(0,${n})`),this.visualSettings.chart.yAxisToggle.value&&(e.select(".y-axis").remove(),e.append("g").attr("class","y-axis").style("color","black").call(a))}}appendVerticalBarContainers(e,t,i,a,n){return e.selectAll(".bar").data(t).enter().append("g").attr("class",(e=>`bar ${e.class}`)).attr("fill",((e,a)=>void 0!==e.fillType&&null!==e.fillType&&"pattern"===e.fillType?(this.svg.append("defs").append("pattern").attr("id","hatchedPattern"+a).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).append("path").attr("d","M-2,2 l4,-4 M0,8 l8,-8 M6,10 l4,-4").attr("stroke",e.color).attr("stroke-width",1),`url(#hatchedPattern${a})`):i.indexOf((t.indexOf(e)+1).toString())>-1?this.visualSettings.bar.customBarColor.value.value:e.color)).attr("transform",(e=>`translate(${n(e.name)},0)`)).attr("opacity",(e=>e.opacity||1)).on("mouseover",((i,n)=>{a.length>0||this.measureHighlights.length>0||(e.selectAll(".bar").filter(((e,i)=>i!=t.indexOf(n))).attr("opacity","0.4"),e.select(".x-axis").selectAll(".tick text").filter(((e,i)=>i!=t.indexOf(n))).attr("opacity","0.4"))})).on("mouseout",(()=>{a.length>0||this.measureHighlights.length>0||(e.selectAll(".bar").attr("opacity","1"),e.selectAll(".tick text").attr("opacity","1"))})).on("click",((i,n)=>{if(3===i.which||this.measureHighlights.length>0)return;i.stopPropagation();const r=i.ctrlKey;return!r&&a.length>0?(this.selectionManager.clear(),a.splice(0,a.length),e.selectAll(".bar").attr("opacity","1"),e.selectAll(".tick text").attr("opacity","1"),void e.selectAll(".tableRow").attr("opacity","1")):a.indexOf(n.identity)>-1&&r?(a.splice(a.indexOf(n.identity),1),0===a.length?(e.selectAll(".bar").attr("opacity","1"),e.selectAll(".tick text").attr("opacity","1"),void this.selectionManager.clear()):(e.selectAll(".bar").filter(((e,i)=>i===t.indexOf(n))).attr("opacity","0.4"),e.selectAll(".tick text").filter(((e,i)=>i===t.indexOf(n))).attr("opacity","0.4"),this.selectionManager.clear(),void this.selectionManager.select(a,!0))):(a.push(n.identity),void this.selectionManager.select(n.identity,r).then((i=>{e.selectAll(".bar").filter((e=>i.indexOf(e.identity)>-1)).attr("opacity","1"),e.selectAll(".tick text").filter(((e,a)=>i.indexOf(t[a].identity)>-1)).attr("opacity","1")})))}))}appendVerticalConnectingLines(e,t,i,a,n,r,s){return e.filter((e=>-1===["firstValues","lastValues","secondLastValues","total"].indexOf(e.class.split(" ")[0]))).filter((e=>{const i=t.filter((e=>e.class.includes("centralMeasure")));return!!this.visualSettings.bar.totalBar.value||e!=i[i.length-1]})).append("line").classed("connector",!0).attr("stroke",this.visualSettings.bar.totalBarColor.value.value).attr("class","connector").attr("x1",i.bandwidth()).attr("y1",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,i=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;return e.class.includes("total")||e.class.includes("subtotal")?s(t):s(i)})).attr("x2",i.bandwidth()/(1-a)).attr("y2",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start;let i=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;const a=n[n.indexOf(e)+1];return this.visualSettings.limitOutlier.show.value&&"total"===a.class.split(" ")[0]&&(i=this.visualSettings.limitOutlier.total.value?a.normalizedStart:a.start),e.class.includes("total")||e.class.includes("subtotal")?s(t):s(i)})).attr("transform",(e=>{if(null===r||e.class.includes("startingValues")||e.class.includes("subtotal"))return"";const t=r[n.indexOf(e)];return`translate(0, ${Math.abs(s(e.start+(e.value-t.value))-s(e.end))*(t.value>0?1:-1)})`})).attr("stroke-width",.7)}appendVerticalBars(e,t,i,a,n,r,s){return e.append("rect").classed("bar-rect",!0).attr("y",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;if(null===i||!this.visualSettings.reference.showBars.value||!e.class.includes("centralMeasure")||e.class.includes("subtotal")||e.class.includes("total"))return r(Math.max(t,n));const s=i[a.indexOf(e)],l=e.value>=0&&s.value<0?s.value:0;return r(Math.max(t,n)+l)})).attr("height",(e=>{if(isNaN(e.value))return 0;const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;if(null===i||!this.visualSettings.reference.showBars.value||!e.class.includes("centralMeasure")||e.class.includes("subtotal")||e.class.includes("total"))return Math.abs(r(t)-r(n));const s=i[a.indexOf(e)],l=e.value>=0&&s.value<0||e.value<=0&&s.value>0?s.value:0;return Math.abs(r(t)-r(n+l))})).attr("width",(e=>null===i||e.class.includes("total")||!e.class.includes("centralMeasure")||e.class.includes("subtotal")||!this.visualSettings.reference.showBars.value?n.bandwidth():n.bandwidth()/2)).attr("stroke",(e=>void 0!==e.borderColor&&null!==e.borderColor&&""!==e.borderColor?e.borderColor:s.indexOf((t.indexOf(e)+1).toString())>-1?this.visualSettings.bar.customBarColor.value.value:e.color)).attr("shape-rendering","crispEdges")}appendVerticalReferenceBars(e,t,i,a,n,r,s){return e.filter((e=>e.class.includes("centralMeasure")&&!e.class.includes("subtotal"))).append("rect").classed("bar-rect",!0).attr("y",((e,t)=>{const a=i[t],n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,r=e.value<=0&&a.value>0?a.value:0;return s(n+r)})).attr("height",(e=>{if(e.class.includes("total"))return 0;const t=i[a.indexOf(e)],n=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,r=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,l=e.value>0&&t.value>0||e.value<0&&t.value<0?e.value-t.value:e.value;return Math.abs(s(n+l)-s(r))})).attr("transform",((e,t)=>{const a=i[t],n=a.value<0?-Math.abs(s(e.start+(e.value-a.value))-s(e.end)):0;return`translate(${r.bandwidth()/2}, ${n})`})).attr("fill",(e=>{const r=i[a.indexOf(e)];return n.indexOf(t.indexOf(e).toString())>-1?this.visualSettings.bar.customBarColor.value.value:r.value>0?this.visualSettings.sentimentColor.decrease.value.value:this.visualSettings.sentimentColor.increase.value.value})).attr("width",r.bandwidth()/2).attr("shape-rendering","crispEdges")}configureVerticalBarLabels(e,t,i,a,n,s){let l=null;const o=this.visualSettings.reference.showBars.value;if(this.visualSettings.bar.labelBackgroundToggle.value&&(l=t.append("rect").classed("bar-label-background",!0).attr("x",0).attr("y",0).attr("dy","-.5em").attr("fill",this.visualSettings.bar.labelBackgroundColor.value.value).attr("opacity",.01*this.visualSettings.bar.transparency.value).attr("rx",5).attr("ry",5)),t.append("text").classed("bar-text",!0).classed("bar-text-background",!0).attr("x",(e=>e.class.includes("total")||!e.class.includes("centralMeasure")?a.bandwidth()/2:null!==i&&o?a.bandwidth()/4:a.bandwidth()/2)).attr("y",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,a=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,r=this.visualSettings.bar.rotateLabels.value?0:10;if(null===i||!this.visualSettings.reference.showBars.value||e.class.includes("total")||!e.class.includes("centralMeasure")||e.class.includes("subtotal"))return e.class.includes("positive")||-1!==["startingValues","firstValues","lastValues","secondLastValues","total","subtotal"].indexOf(e.class.split(" ")[0])&&t<0?n(a)-r:n(t)-r;const l=i[s.indexOf(e)],o=e.value>0&&l.value<0||0===e.value?l.value:0;return e.class.includes("positive")||-1!==["startingValues","firstValues","lastValues","secondLastValues","total"].indexOf(e.class.split(" ")[0])&&t<0?n(a+o)-r:n(t+o)-r})).text((e=>"total"===e.class.split(" ")[0]&&null!==i?this.formatValue(e.value-i.filter((e=>e.class.includes("referenceTotal")))[0].value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat):null===i||o||-1===e.class.indexOf("centralMeasure")?this.formatValue(e.value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),e.dynamicFormat||e.format||this.measureFormat):e.constituents["Absolute Variance"])).attr("text-anchor","middle").style("fill",this.visualSettings.bar.fontColor.value.value).style("font-size",this.visualSettings.bar.fontSize.value).style("font-family",this.visualSettings.bar.fontFamily.value),this.visualSettings.bar.labelBackgroundToggle.value){const t=e.selectAll(".bar-text").nodes();l.attr("x",((e,i)=>t[i].getBBox().x-4)).attr("y",((e,i)=>t[i].getBBox().y-2)).attr("width",((e,i)=>t[i].getBBox().width+8)).attr("height",((e,i)=>t[i].getBBox().height+4))}this.visualSettings.bar.rotateLabels.value&&(e.selectAll(".bar-text").each((function(e){const t=r.Ltv(this);let n=0;n=e.class.includes("total")||!e.class.includes("centralMeasure")?a.bandwidth()/2:null!==i&&o?a.bandwidth()/4:a.bandwidth()/2;const s=+t.attr("y"),l=`rotate(-90, ${n}, ${s})`;t.attr("x",n+10).attr("y",s).attr("transform",l).attr("text-anchor","start").attr("dominant-baseline","middle")})),this.visualSettings.bar.labelBackgroundToggle.value&&e.selectAll(".bar-label-background").remove()),null!==i&&o&&this.configureVerticalReferenceLabels(e,t,i,this.visualSettings.bar.rotateLabels.value,a,n)}appendVerticalAxisBreakSymbols(e,t,i,a){const n=[];if(!this.visualSettings.limitOutlier.total.value&&n.push("total"),!this.visualSettings.limitOutlier.firstValues.value&&n.push("firstValues"),!this.visualSettings.limitOutlier.secondLastValues.value&&n.push("secondLastValues"),!this.visualSettings.limitOutlier.lastValues.value&&n.push("lastValues"),"gradient"===this.visualSettings.limitOutlier.axisBreakType.value.value.toString()){const r=e.append("defs").append("linearGradient").attr("id","axisBreakGradient").attr("gradientTransform","rotate(90)");r.append("stop").attr("offset","0%").attr("stop-color","white").attr("stop-opacity","0"),r.append("stop").attr("offset","50%").attr("stop-color",this.visualSettings.limitOutlier.axisBreakColor.value.value).attr("stop-opacity","1"),r.append("stop").attr("offset","100%").attr("stop-color","white").attr("stop-opacity","0"),t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("rect").classed("axisBreak",!0).attr("y",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value)).attr("height",this.visualSettings.limitOutlier.axisBreakSize.value).attr("width",i.bandwidth()).attr("stroke","").attr("fill","url(#axisBreakGradient)").attr("stroke-width","0.5")}else t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("line").classed("axisBreakTop",!0).attr("x1",(()=>-5.5)).attr("y1",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value+this.visualSettings.limitOutlier.axisBreakSize.value/2)).attr("x2",(()=>i.bandwidth()+5.5)).attr("y2",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value+7+this.visualSettings.limitOutlier.axisBreakSize.value/2)).attr("stroke","white").attr("stroke-width",this.visualSettings.limitOutlier.axisBreakSize.value).attr("transform",`translate(0 ${-this.visualSettings.limitOutlier.axisBreakSize.value/2})`),t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("line").classed("axisBreakTop",!0).attr("x1",(()=>-5.5)).attr("y1",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value)).attr("x2",(()=>i.bandwidth()+5.5)).attr("y2",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value+7)).attr("stroke","black").attr("stroke-width",1).attr("transform",`translate(0 ${-this.visualSettings.limitOutlier.axisBreakSize.value/2})`).attr("shape-rendering","optimizeQuality"),t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("line").classed("axisBreakTop",!0).attr("x1",(()=>-5.5)).attr("y1",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value+this.visualSettings.limitOutlier.axisBreakSize.value)).attr("x2",(()=>i.bandwidth()+5.5)).attr("y2",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value+7+this.visualSettings.limitOutlier.axisBreakSize.value)).attr("stroke","black").attr("stroke-width",1).attr("transform",`translate(0 ${-this.visualSettings.limitOutlier.axisBreakSize.value/2})`).attr("shape-rendering","optimizeQuality")}configureVerticalReferenceLabels(e,t,i,a,n,l){t.filter((e=>e.class.includes("centralMeasure")&&!e.class.includes("total"))).append("text").classed("bar-text-reference",!0).attr("x",.75*n.bandwidth()).attr("y",((e,t)=>{const a=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,r=i.filter((e=>!e.class.includes("referenceTotal")))[t],o=this.visualSettings.bar.rotateLabels.value?0:10,u=e.value<0&&r.value>0?s.H.removeDecimal(e.value):e.value<0&&r.value<0?s.H.removeDecimal(e.value-r.value):0===e.value&&0!==r.value?s.H.removeDecimal(r.value):0;return e.class.includes("positive")||-1!==["startingValues","firstValues","lastValues","secondLastValues","total"].indexOf(e.class.split(" ")[0])&&a<0?l(n+u)-o:l(a+u)-o})).text(((e,t)=>{let a=i[t].value;return this.visualSettings.reference.invert.value&&(a*=-1),this.formatValue(a,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),i[t].format||i[t].dynamicFormat||this.referenceFormat||this.reference2Format)})).attr("text-anchor","middle").style("fill",this.visualSettings.bar.fontColor.value.value).style("font-size",this.visualSettings.bar.fontSize.value).style("font-family",this.visualSettings.bar.fontFamily.value),a&&e.selectAll(".bar-text-reference").each((function(){const e=r.Ltv(this),t=.75*n.bandwidth(),i=+e.attr("y"),a=`rotate(-90, ${t}, ${i})`;e.attr("x",t+10).attr("y",i).attr("transform",a).attr("text-anchor","start").attr("dominant-baseline","middle")}))}insertExtremeValues(e,t,i,a,n,r,l){let o=null;if(null!==a&&0!==a.length){o=this.constructDataPoint(a,this.visualSettings.startingValue.customLabel.value,"startingValues ",this.visualSettings.startingValue.color.value.value,this.visualSettings.startingValue.borderColor.value.value,this.visualSettings.startingValue.fillType.value.value.toString(),l),o.class+=o.start>0?"positive":"negative",o.end=o.start,o.start=0;let t=o.end;e.filter((e=>e.class.includes("centralMeasure")&&!e.class.includes("total")&&!e.class.includes("subtotal"))).forEach((e=>{e.start=t,e.end=e.start+e.value,t+=e.value})),e.filter((e=>e.class.includes("subtotal")||e.class.includes("total"))).forEach((t=>{t.start=e[e.indexOf(t)-1].end,t.value=s.H.removeDecimal(e[e.indexOf(t)-1].end)})),e.splice(0,0,o)}null!==i&&0!==i.length&&(o=this.constructDataPoint(i,this.visualSettings.firstValue.customLabel.value,"firstValues",this.visualSettings.firstValue.color.value.value,this.visualSettings.firstValue.borderColor.value.value,this.visualSettings.firstValue.fillType.value.value.toString(),l),e.splice(0,0,o)),null!==n&&0!==n.length&&(o=this.constructDataPoint(n,this.visualSettings.secondLastValue.customLabel.value,"secondLastValues",this.visualSettings.secondLastValue.color.value.value,this.visualSettings.secondLastValue.borderColor.value.value,this.visualSettings.secondLastValue.fillType.value.value.toString(),l),e.push(o)),null!==r&&0!==r.length&&(o=this.constructDataPoint(r,this.visualSettings.lastValue.customLabel.value,"lastValues",this.visualSettings.lastValue.color.value.value,this.visualSettings.lastValue.borderColor.value.value,this.visualSettings.lastValue.fillType.value.value.toString(),l),e.push(o))}constructDataPoint(e,t,i,a,n,r,l){const o={},u=e.filter((e=>!(this.groupNames.length>0)||(null===e.source.groupName?"":e.source.groupName.toString())===this.groupNames[l])).map((e=>e.source.queryName.split(".")[0]!==this.primaryDataset?Number(e.values[0]||e.values.filter((e=>null!==e))[0]):Number(e.values.reduce(((e,t)=>e+Number(t)))))),c=[...new Set(e.map((e=>e.source.displayName)))];for(let e=0;e<c.length;e++)o[c[e]]=this.formatValue(+u[e],this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat);const h=u.reduce(((e,t)=>e+ +t),0);return{name:""===t?Object.keys(o).join(", "):t,start:h,end:0,value:s.H.removeDecimal(h),class:i,color:a,borderColor:n,fillType:r,constituents:o,selected:!1,identity:null}}normalizeData(e){const t=e.filter((e=>e.class.includes("centralMeasure"))),i=e.filter((e=>-1===["firstValues","lastValues","secondLastValues","total"].indexOf(e.class.split(" ")[0])));let a=0;const n=this.visualSettings.limitOutlier.outlier.value,r=i.filter((e=>Math.abs(e.value)>n)).length;i.filter((e=>Math.abs(e.value)>n)).forEach((e=>{a+=Math.abs(e.value)-n}));const s=a/r;i.forEach(((e,t)=>{Math.abs(e.value)>n&&(e.normalizedStart=0==t?0:i[t-1].class.includes("subtotal")?i[t-1].normalizedStart:i[t-1].normalizedEnd,e.normalizedEnd=e.class.includes("negative")?e.normalizedStart-n:e.normalizedStart+n),Math.abs(e.value)<=n&&(e.normalizedStart=0==t?0:i[t-1].class.includes("subtotal")?i[t-1].normalizedStart:i[t-1].normalizedEnd,e.value<0?e.normalizedEnd=0==t?e.value:e.normalizedStart+e.value-s:e.normalizedEnd=0==t?e.value+s:e.normalizedStart+e.value+s)})),e.filter((e=>-1!==["firstValues","lastValues","secondLastValues"].indexOf(e.class.split(" ")[0]))).forEach((e=>{e.normalizedStart=this.visualSettings.limitOutlier[e.class]?Math.abs(e.value)<=n?e.start+s:n:e.start,e.normalizedEnd=e.end})),this.visualSettings.bar.totalBar.value&&t.filter((e=>"total"===e.class.split(" ")[0])).forEach((t=>{const i=e[e.indexOf(t)-1];t.normalizedStart=this.visualSettings.limitOutlier.total.value?i.normalizedEnd:i.end,t.normalizedEnd=0})),(this.visualSettings.subtotal.subTotalToggle.value||this.hierarchichalConfiguration)&&e.filter((e=>e.class.includes("subtotal"))).forEach((t=>{t.normalizedStart=e[e.indexOf(t)-1].normalizedEnd,t.normalizedEnd=0})),1===this.data.indexOf(e)&&console.log(e)}insertLineChart(e,t,i,a,n){let r="";if(this.visualSettings.chart.axisToggle.value){if(i.forEach((i=>{r=r.concat((i.class.includes("total")||i.class.includes("subtotal")?t(this.visualSettings.limitOutlier.show.value?i.normalizedStart:i.start):t(this.visualSettings.limitOutlier.show.value?i.normalizedEnd:i.end))+","+(e(i.name)+e.bandwidth()/2)+" ")})),this.chart[a].append("polyline").attr("points",r).style("fill","none").style("stroke",this.visualSettings.lineChart.fill.value.value).style("stroke-width",this.visualSettings.lineChart.thickness.value).style("mix-blend-mode",this.visualSettings.lineChart.overlapColor.value.value.toString()).attr("stroke-linecap",this.visualSettings.lineChart.lineEnding.value.value.toString()).attr("stroke-dasharray",this.visualSettings.lineChart.lineStyle.value.value.toString()),this.visualSettings.lineChart.areaUnderTheGraph.value){const n=t(0)+","+(e(i[0].name)+e.bandwidth()/2)+" "+r+" "+t(0)+","+(e(i[i.length-1].name)+e.bandwidth()/2);this.chart[a].append("polygon").attr("points",n).style("fill",this.visualSettings.lineChart.areaColor.value.value).style("fill-opacity",this.visualSettings.lineChart.areaOpacity.value).style("mix-blend-mode",this.visualSettings.lineChart.overlapColor.value.value.toString())}if(this.visualSettings.lineChart.showMarkers.value&&r.trim().split(" ").forEach((e=>{this.chart[a].append("circle").attr("cx",e.split(",")[0]).attr("cy",e.split(",")[1]).attr("r",this.visualSettings.lineChart.markerRadius.value).attr("stroke",this.visualSettings.lineChart.markerStrokeColor.value.value).attr("fill",this.visualSettings.lineChart.markerFillColor.value.value).attr("stroke-width",this.visualSettings.lineChart.markerStrokeWidth.value)})),!this.visualSettings.bar.show.value){const e=r.trim().split(" ");i.forEach(((t,i)=>{this.chart[a].append("text").attr("x",e[i].split(",")[0]).attr("y",e[i].split(",")[1]).attr("dy","-0.4em").text(this.formatValue(t.class.includes("total")||t.class.includes("subtotal")?s.H.removeDecimal((this.visualSettings.limitOutlier.show.value?t.normalizedStart:t.start)-(this.visualSettings.limitOutlier.show.value?t.normalizedEnd:t.end)):s.H.removeDecimal((this.visualSettings.limitOutlier.show.value?t.normalizedEnd:t.end)-(this.visualSettings.limitOutlier.show.value?t.normalizedStart:t.start)),this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat)).attr("text-anchor","right").style("fill",this.visualSettings.bar.fontColor.value.value).style("font-size",this.visualSettings.bar.fontSize.value).attr("transform",`translate(${n.left}, 0)`)}))}}else{if(i.forEach((i=>{r=r.concat(e(i.name)+e.bandwidth()/2+","+(0===i.end?t(this.visualSettings.limitOutlier.show.value?i.normalizedStart:i.start):t(this.visualSettings.limitOutlier.show.value?i.normalizedEnd:i.end))+" ")})),this.chart[a].append("polyline").attr("points",r).style("fill","none").style("stroke",this.visualSettings.lineChart.fill.value.value).style("stroke-width",this.visualSettings.lineChart.thickness.value).style("mix-blend-mode",this.visualSettings.lineChart.overlapColor.value.value.toString()).attr("stroke-linecap",this.visualSettings.lineChart.lineEnding.value.value.toString()).attr("stroke-dasharray",this.visualSettings.lineChart.lineStyle.value.value.toString()),this.visualSettings.lineChart.areaUnderTheGraph.value){const n=e(i[0].name)+e.bandwidth()/2+","+t(0)+" "+r+" "+(e(i[i.length-1].name)+e.bandwidth()/2)+","+t(0);this.chart[a].append("polygon").attr("points",n).style("fill",this.visualSettings.lineChart.areaColor.value.value).style("fill-opacity",this.visualSettings.lineChart.areaOpacity.value).style("mix-blend-mode",this.visualSettings.lineChart.overlapColor.value.value.toString())}if(this.visualSettings.lineChart.showMarkers.value&&r.trim().split(" ").forEach((e=>{this.chart[a].append("circle").attr("cx",e.split(",")[0]).attr("cy",e.split(",")[1]).attr("r",this.visualSettings.lineChart.markerRadius.value).attr("stroke",this.visualSettings.lineChart.markerStrokeColor.value.value).attr("fill",this.visualSettings.lineChart.markerFillColor.value.value).attr("stroke-width",this.visualSettings.lineChart.markerStrokeWidth.value)})),!this.visualSettings.bar.show.value){const e=r.trim().split(" ");i.forEach(((t,i)=>{this.chart[a].append("text").attr("x",e[i].split(",")[0]).attr("y",e[i].split(",")[1]).attr("dy","-0.4em").text(this.formatValue(Math.abs(t.start-t.end),this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat)).attr("text-anchor","middle").style("fill",this.visualSettings.bar.fontColor.value.value).style("font-size",this.visualSettings.bar.fontSize.value)}))}}}configureHighlights(e,t){for(let i=1;i<=5;i++){if(4===i&&(!this.visualSettings.bar.totalBar.value||0===t.filter((e=>e.class.includes("lastValues"))).length))continue;if(5===i&&(0===t.filter((e=>e.class.includes("secondLastValues"))).length||0===t.filter((e=>e.class.includes("lastValues"))).length))continue;const a=this.visualSettings[`highlight${i}`];if(!1===a.show.value)continue;const n={validIndices:[],startingIndices:4===i?[t.indexOf(t.filter((e=>e.class.includes("total")))[0])+1]:5===i?[t.indexOf(t.filter((e=>e.class.includes("secondLastValues")))[0])+1]:a.startIndices.value.split(","),endingIndices:4===i||5===i?[t.indexOf(t.filter((e=>e.class.includes("lastValues")))[0])+1]:a.endingIndices.value.split(","),settings:a};n.startingIndices.forEach(((e,t)=>{isNaN(+e)||isNaN(+n.endingIndices[t])||+e==+n.endingIndices[t]||n.validIndices.push(t)})),n.validIndices.length>0&&(e.top+=20*(n.validIndices.length+1),this.highlights.push(n))}}insertHighlight(e,t,i,a,n,s,l,o,u,c){const h=this.visualSettings;e.forEach(((e,d)=>{const g=this.highlights.filter((e=>this.highlights.indexOf(e)<c)).map((e=>e.validIndices)).reduce(((e,t)=>e+t.length),0),m=+t[e]-1,f=+i[e]-1,p=l[m],v=l[f];if(void 0===p||void 0===v)return;const y=this.chart[o].selectAll(".bar-text").nodes(),b=y.length>0?y[m].getBBox():void 0,S=y.length>0?y[f].getBBox():void 0,x=y.length>0?y[e].getBBox().height:0,A=y.length>0?y[e].getBBox().width:0,w=a(p.name)+a.bandwidth()/2,T=a(v.name)+a.bandwidth()/2,N=u.startArrow.value?u.arrowSize.value/2:0,C=u.endingArrow.value?u.arrowSize.value/2:0;let D=(p.class.includes("positive")||(p.class.includes("subtotal")||p.class.includes("total"))&&+p.start<0?n(this.visualSettings.limitOutlier.show.value?p.normalizedEnd:p.end):n(this.visualSettings.limitOutlier.show.value?p.normalizedStart:p.start))-(this.visualSettings.chart.axisToggle.value?s.left-(b?b.width+10:0):0);this.visualSettings.chart.axisToggle.value?D+=N:D-=N,D=this.visualSettings.chart.axisToggle.value?Math.min(D,n.range()[1]):Math.max(D,n.range()[1]);let M=(v.class.includes("positive")||(v.class.includes("subtotal")||v.class.includes("total"))&&+v.start<0?n(this.visualSettings.limitOutlier.show.value?v.normalizedEnd:v.end):n(this.visualSettings.limitOutlier.show.value?v.normalizedStart:v.start))-(this.visualSettings.chart.axisToggle.value?s.left-(S?S.width+25:10):10);this.visualSettings.chart.axisToggle.value?M+=C:M-=C,M=this.visualSettings.chart.axisToggle.value?Math.min(M,n.range()[1]):Math.max(M,n.range()[1]);let _=this.visualSettings.chart.axisToggle.value?r.T9B(n.range())+s.right-50*(g+d):35*(g+d);this.visualSettings.chart.axisToggle.value||(_+=this.legendHeight-15,_=_>M+(s.top-40-x)?M+(s.top-50*c-x):_),0!==d||this.visualSettings.chart.axisToggle.value||(_+=10);const k=this.computeHighlightCoordinates(s,w,T,D,M,x,A,_),F=p.value;let z=v.value-F;u.invert.value&&(z*=-1);const E=Math.abs(z/F*100),O=this.formatValue(E,2,"percent",""),L=this.formatValue(z,2,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat),B=u.useSentimentColor.value?z>0?this.visualSettings.sentimentColor.increase.value.value:this.visualSettings.sentimentColor.decrease.value.value:u.fill.value.value;(u.startArrow.value||u.endingArrow.value)&&this.svg.append("defs").append("marker").attr("id","arrowhead"+c+d).attr("markerWidth",u.arrowSize.value).attr("markerHeight",u.arrowSize.value).attr("refX",u.arrowSize.value/2).attr("refY",u.arrowSize.value/2).attr("orient","auto-start-reverse").attr("markerUnits","userSpaceOnUse").append("path").attr("d","M0,0 L0,"+u.arrowSize.value+" L"+u.arrowSize.value+","+u.arrowSize.value/2+" z").attr("fill",B);const P=(w+T)/2,V=P-20,I=_-10,U=this.visualSettings.chart.axisToggle.value?`${s.left}, 0`:"0,"+(20-s.top);this.chart[o].append("polyline").classed("highlightBorder"+c,!0).attr("points",k).style("stroke","white").style("stroke-width","7").style("fill","none").attr("transform",`translate(${U})`),this.appendHighlightLine(o,u,c,k,B,d,U,e),this.appendHighlightBubble(o,u,h,c,e,O,L,20,40,_,P,V,I,U)}))}computeHighlightCoordinates(e,t,i,a,n,r,s,l){return this.visualSettings.chart.axisToggle.value?a+","+t+" "+l+","+t+" "+l+","+i+" "+n+","+i:t+","+(a+(e.top-40-(this.barLabelOverlap?Math.sqrt(2*Math.pow(s,2)):r)))+" "+t+","+l+" "+i+","+l+" "+i+","+(n+(e.top-40-(this.barLabelOverlap?Math.sqrt(2*Math.pow(s,2)):r)))}appendHighlightLine(e,t,i,a,n,r,s,l){this.chart[e].append("polyline").classed("highlight"+i,!0).attr("points",a).style("stroke",n).style("stroke-width","2").style("fill","none").attr("marker-end",t.endingArrow.value?`url(#arrowhead${i}${r})`:"").attr("marker-start",t.startArrow.value?`url(#arrowhead${i}${r})`:"").attr("transform",`translate(${s})`).on("mouseover",(()=>{this.chart[e].selectAll(".highlight"+i).filter(((e,t)=>l!=t)).attr("opacity","0"),this.chart[e].selectAll(".highlightBorder"+i).filter(((e,t)=>l!=t)).attr("opacity","0"),this.chart[e].selectAll(".highlightBadge"+i).filter(((e,t)=>l!=t)).attr("opacity","0")})).on("mouseout",(()=>{this.chart[e].selectAll(".highlight"+i).attr("opacity","1"),this.chart[e].selectAll(".highlightBorder"+i).attr("opacity","1"),this.chart[e].selectAll(".highlightBadge"+i).attr("opacity","1")}))}appendHighlightBubble(e,t,i,a,n,s,l,o,u,c,h,d,g,m){let f=0;const p=this.chart[e].append("g").classed("highlightBadge"+a,!0).on("mouseover",(()=>{this.chart[e].selectAll(".highlight"+a).filter(((e,t)=>n!=t)).attr("opacity","0"),this.chart[e].selectAll(".highlightBorder"+a).filter(((e,t)=>n!=t)).attr("opacity","0"),this.chart[e].selectAll(".highlightBadge"+a).filter(((e,t)=>n!=t)).attr("opacity","0")})).on("mouseout",(()=>{this.chart[e].selectAll(".highlight"+a).attr("opacity","1"),this.chart[e].selectAll(".highlightBorder"+a).attr("opacity","1"),this.chart[e].selectAll(".highlightBadge"+a).attr("opacity","1")})).on("click",(function(){++f;const e=r.Ltv(this);1===f&&e.select("text").text(s),2===f&&(e.select("rect").attr("height",2.1*o),e.select("text").text(l),e.append("text").text(s).attr("x",i.chart.axisToggle.value?c:h).attr("y",i.chart.axisToggle.value?h+o/.9:c+o/8+o).attr("text-anchor","middle").style("fill",t.fill.value.value).style("font-size",t.fontSize.value).style("font-family",t.fontFamily.value).attr("transform",`translate(${m})`),"bubble"===t.badgeType.value.value.toString()&&e.select("rect").attr("rx",u/2).attr("ry",2.1*o/2)),3===f&&(f=0,e.selectAll("text").filter(((e,t)=>0!=t)).remove(),e.select("rect").attr("height",o),e.select("text").text(l))}));p.append("rect").attr("x",this.visualSettings.chart.axisToggle.value?g:d).attr("y",this.visualSettings.chart.axisToggle.value?d:g).attr("width",u).attr("height",o).attr("stroke","black").attr("fill","white").attr("transform",`translate(${m})`),p.append("text").text(l).attr("x",this.visualSettings.chart.axisToggle.value?c:h).attr("y",this.visualSettings.chart.axisToggle.value?h:c).attr("text-anchor","middle").style("fill",t.fill.value.value).style("font-size",t.fontSize.value).style("font-family",t.fontFamily.value).attr("transform",`translate(${m})`);const v=p.select("text").node(),y=v.getBBox().width,b=v.getBBox().height;p.select("text").attr("y",v.getBBox().y+1.1*b),p.select("rect").attr("width",1.6*y).attr("height",1.1*b),o=1.1*b,u=1.6*y,p.select("rect").attr("x",this.visualSettings.chart.axisToggle.value?c-u/2:h-u/2).attr("y",this.visualSettings.chart.axisToggle.value?h-b/2:c-b/2),"bubble"===t.badgeType.value.value.toString()&&p.select("rect").attr("rx",y/2).attr("ry",b/2)}populateData(e,t,i,a){this.maxHeirarchyDepth>0&&this.maxHeirarchyDepth!==e.length&&(this.retainHeirarchichalState=!1,1===e.length&&(this.hierarchichalConfiguration=!1)),e.length>1&&this.visualSettings.chart.axisToggle.value?(this.maxHeirarchyDepth=e.length,this.populateHeirarchichalData(e,t)):t.length>0&&e.length>0&&0!==this.groupNames.length?this.populateSmallMultiplesData(a,t):t.length>0&&e.length>0&&0===this.groupNames.length?this.populateDrillableData(e,t,i):this.populateDefaultConfigurationData(t),1===e.length&&(this.hierarchichalConfiguration=!1)}populateHeirarchichalData(e,t){this.hierarchichalConfiguration=!0;const i=[];if(!this.retainHeirarchichalState){this.treeExpansionDepth=1,this.expandedNodeIndices=[];const a=e[0].values.length;for(let t=0;t<a;t++){const a=[];e.forEach((e=>{a.push(e.values[t])})),i.push(a)}this.categoriesArray=i,this.heirarchichalCategories=this.convertToHierarchy(i,t[0].values.map((e=>null===e?0:+e)),t[0].objects,t[0].source.format)}console.log(this.heirarchichalCategories);let a=0,n=0;this.data.push([]),this.getExpandableNodes(this.heirarchichalCategories).forEach(((e,t)=>{const i=this.getNodeValue(e);if(null!==e.name&&void 0!==e.name&&""!==e.name||n++,!0===e.expanded&&this.retainHeirarchichalState){const r={name:null!==e.name?e.name:"Blank"+" ".repeat(n),start:0===t?i:this.data[0][t-1].class.includes("subtotal")?this.data[0][t-1].start:this.data[0][t-1].end,end:0,value:i,class:"subtotal centralMeasure",color:this.visualSettings.hierarchy[`L${e.level}`].value.value,nodeIndex:e.id,expanded:e.expanded,hierarchyDepth:e.level,isParent:e.children.length>0,selected:!1,identity:null,format:e.format};this.data[0].push(r),a+=0===t?i:0}else{const t={name:null!==e.name?e.name:"Blank"+" ".repeat(n),start:a,end:a+i,value:i,class:"centralMeasure "+(null===i||+i>0?"positive":"negative"),color:null===i||+i>0?this.primaryColor:this.secondaryColor,nodeIndex:e.id,expanded:e.expanded,hierarchyDepth:e.level,isParent:e.children.length>0,parentIndex:null!==e.parent?e.parent.id:null,selected:!1,identity:null,format:e.format};this.data[0].push(t),a+=i}})),this.visualSettings.bar.totalBar.value&&!this.visualSettings.chart.mergeLastAndTotal.value&&this.data[0].push({name:this.datasetNames[0],start:a,end:0,value:s.H.removeDecimal(a),class:"total centralMeasure",color:this.visualSettings.bar.totalBarColor.value.value,selected:!1,identity:null,format:t[0].source.format||this.getDynamicFormat(t[0].objects,0)})}populateSmallMultiplesData(e,t){t.forEach(((t,i)=>{this.data.push([]);let a=0;if(t.values.forEach(((n,r)=>{if(void 0===n)return;const l={name:e.categorical.categories[0].values[r].toString(),start:a,end:a+(null===n?0:s.H.removeDecimal(n)),value:null===n?0:n,class:"centralMeasure "+(null===n||+n>0?"positive":"negative"),color:null===n||+n>0?this.primaryColor:this.secondaryColor,selected:!1,identity:null,opacity:0===this.measureHighlights.length||null!==this.measureHighlights[i][r]?1:.4,format:t.source.format,dynamicFormat:this.getDynamicFormat(t.objects,r)};this.data[i].push(l),a+=null===n?0:+n})),this.visualSettings.bar.totalBar.value&&!this.visualSettings.chart.mergeLastAndTotal.value)this.data[i].push({name:"Total",start:a,end:0,value:a,class:"total centralMeasure",color:this.visualSettings.bar.totalBarColor.value.value,selected:!1,identity:null,format:t.source.format||this.getDynamicFormat(t.objects,0)});else if(this.visualSettings.chart.mergeLastAndTotal.value){const e=this.data[i][this.data[i].length-1];e.name=e.name+" + Total",e.start=e.value+e.end,e.end=0,e.value=e.start,e.class="total centralMeasure totalMerged",e.color=this.visualSettings.bar.totalBarColor.value.value,this.data[i][this.data[i].length-2].end=e.start}}))}populateDrillableData(e,t,i){this.seriesConfiguration=!0;let a=0,n=0;e.forEach(((r,s)=>{this.data.push([]);const l=[];let o=0;t.forEach(((t,u)=>{if(o="automatic"===this.visualSettings.subtotal.subTotalType.value.value&&null!=i&&1==+i[0]?+t.values[0]:0,t.values.forEach(((u,c)=>{if(void 0===u)return;u=+u;const h="automatic"===this.visualSettings.subtotal.subTotalType.value.value&&null!=i&&1==+i[c];let d=null!==r.values[c]?r.values[c].toString():null;null!=d&&""!==d||(a++,d=null!==d?d:"Blank"+a),-1!==l.indexOf(d)&&(n++,d+=n),l.push(d);const g=this.host.createSelectionIdBuilder().withCategory(e[s],c).withMeasure(d).createSelectionId(),m={name:d,start:o,end:h?0:o+(null===u?0:u),value:null===u?0:u,class:h?"subtotal centralMeasure":"centralMeasure "+(null===u||+u>0?"positive":"negative"),color:h?"#5F5F5F":this.visualSettings.sentimentColor.conditionalFormatting.value&&void 0!==this.conditionalSentimentColors&&null!==this.conditionalSentimentColors[c]?this.conditionalSentimentColors[c]:null===u||+u>0?this.primaryColor:this.secondaryColor,identity:g,selected:!1,opacity:0===this.measureHighlights.length||null!==this.measureHighlights[0][c]?1:.4,format:t.source.format,dynamicFormat:this.getDynamicFormat(t.objects,c)};this.data[s].push(m),o+=null===u||h?s:+u})),this.visualSettings.bar.totalBar.value&&!this.visualSettings.chart.mergeLastAndTotal.value)this.data[s].push({name:this.datasetNames[u],start:o,end:s,value:o,class:"total centralMeasure",color:this.visualSettings.bar.totalBarColor.value.value,selected:!1,identity:null,format:t.source.format||this.getDynamicFormat(t.objects,0)});else if(this.visualSettings.chart.mergeLastAndTotal.value){const e=this.data[s][this.data[s].length-1];e.name=e.name+" + Total",e.start=e.value+e.end,e.end=s,e.value=e.start,e.class="total centralMeasure totalMerged",e.color=this.visualSettings.bar.totalBarColor.value.value,this.data[s][this.data[s].length-2].end=e.start}}))})),this.data=[this.data[this.data.length-1]]}populateDefaultConfigurationData(e){this.visualSettings.table.header.value=!1,this.visualSettings.table.headerSymbols.value=!1,this.data.push([]);let t=0;if(e.forEach(((e,i)=>{const a=this.measureHighlights.length>0&&null!==this.measureHighlights[i][0]?+this.measureHighlights[i][0]:+e.values[0];if(null==a)return;const n={name:void 0===e.source.groupName?e.source.displayName:e.source.groupName,start:t,end:t+a,value:a,class:"centralMeasure "+(a>0?"positive":"negative"),color:a>0?this.primaryColor:this.secondaryColor,selected:!1,identity:null,opacity:0===this.measureHighlights.length||null!==this.measureHighlights[i][0]?1:.4,format:e.source.format,dynamicFormat:this.getDynamicFormat(e.objects,0)};this.data[0].push(n),t+=a})),this.visualSettings.bar.totalBar.value&&!this.visualSettings.chart.mergeLastAndTotal.value)this.data[0].push({name:"Total",start:t,end:0,value:t,class:"total centralMeasure",color:this.visualSettings.bar.totalBarColor.value.value,selected:!1,identity:null,format:e[0].source.format,dynamicFormat:this.getDynamicFormat(e[0].objects,0)});else if(this.visualSettings.chart.mergeLastAndTotal.value){const e=this.data[0][this.data[0].length-1];e.name=e.name+" + Total",e.start=e.value+e.end,e.end=0,e.value=e.start,e.class="total centralMeasure totalMerged",e.color=this.visualSettings.bar.totalBarColor.value.value,this.data[0][this.data[0].length-2].end=e.start}}configureVisualDimensions(e,t){if(0!==this.groupNames.length&&e.length>4)r.Ltv(this.svg.node().parentElement).style("overflow-y","auto").style("overflow-x","hidden").style("height","100%");else if(0===this.groupNames.length&&this.countElements(e)>30&&t.length<=1)this.scrollAble=!0,this.visualSettings.chart.axisToggle.value?(this.svg.attr("height",this.height*this.countElements(e)/30),r.Ltv(this.svg.node().parentElement).style("overflow-y","auto").style("overflow-x","hidden").style("height","100%"),this.height=+this.svg.attr("height")):(this.svg.attr("width",this.width*this.countElements(e)/30),r.Ltv(this.svg.node().parentElement).style("overflow-x","auto").style("overflow-y","hidden").style("height","100%"),this.width=+this.svg.attr("width"));else if(!this.visualSettings.chart.axisToggle.value&&t.length>1&&this.countElements(e)>20)this.scrollAble=!0,this.svg.attr("width",this.width*this.countElements(e)/20),r.Ltv(this.svg.node().parentElement).style("overflow-x","auto").style("overflow-y","hidden").style("height","100%"),this.width=+this.svg.attr("width");else if(this.hierarchichalConfiguration&&this.getExpandableNodes(this.heirarchichalCategories).length>20){this.scrollAble=!0;const e=r.Ltv(this.svg.node().parentElement).node().getBoundingClientRect().height;this.svg.attr("height",e*this.getExpandableNodes(this.heirarchichalCategories).length/20),r.Ltv(this.svg.node().parentElement).style("overflow-y","auto").style("overflow-x","hidden").style("height","100%"),this.height=+this.svg.attr("height")}else if(e[0].values.length>20&&t.length<=1)this.scrollAble=!0,this.visualSettings.chart.axisToggle.value?(this.svg.attr("height",this.height*e[0].values.length/20),r.Ltv(this.svg.node().parentElement).style("overflow-y","auto").style("overflow-x","hidden").style("height","100%"),this.height=+this.svg.attr("height")):(this.svg.attr("width",this.width*e[0].values.length/20),r.Ltv(this.svg.node().parentElement).style("overflow-x","auto").style("overflow-y","hidden").style("height","100%"),this.width=+this.svg.attr("width"));else if(this.hierarchichalConfiguration){if(r.Ltv(this.svg.node().parentElement).style("overflow","hidden"),this.visualSettings.chart.axisToggle.value){const e=r.Ltv(this.svg.node().parentElement).node().getBoundingClientRect().height;console.log(e),this.svg.attr("height",e),this.height=e}else{const e=r.Ltv(this.svg.node().parentElement).node().getBoundingClientRect().width;this.svg.attr("width",e),this.width=+this.svg.attr("width")}r.Ltv(this.svg.node().parentElement).style("height",null)}else r.Ltv(this.svg.node().parentElement).style("overflow","hidden"),r.Ltv(this.svg.node().parentElement).style("height",null)}populateReferenceData(e,t,i){if(e.forEach(((e,i)=>{this.referenceData.push([]);let a=0;e.values.forEach(((n,r)=>{if(void 0===n)return;const s={name:void 0!==t.categorical.categories?t.categorical.categories[0].values[r].toString():e.source.displayName,start:a,end:a+(null===n?0:n),value:null===n?0:n,class:"centralMeasure "+(null===n||+n>0?"positive":"negative"),color:null===n||+n>0?this.primaryColor:this.secondaryColor,selected:!1,identity:null,format:e.source.format,dynamicFormat:this.getDynamicFormat(e.objects,r)};this.referenceData[i].push(s),a+=null===n?0:+n})),this.visualSettings.bar.totalBar.value&&!this.visualSettings.chart.mergeLastAndTotal.value&&this.referenceData[i].push({name:"Reference Total",start:a,end:0,value:a,class:"referenceTotal centralMeasure",color:this.visualSettings.bar.totalBarColor.value.value,selected:!1,identity:null,format:e.source.format,dynamicFormat:this.getDynamicFormat(e.objects,0)})})),void 0===t.categorical.categories){const e=this.referenceData[0].slice();for(let t=0;t<i.length-1;t++)this.referenceData[0].push(...e)}this.seriesConfiguration&&this.referenceData.forEach((e=>{const t=e.slice();for(let a=0;a<i.length-1;a++)e.push(...t)}))}populateTableValues(e,t,i){e.forEach(((e,i)=>{this.tableData.push([]);let a=0;if(e.values.forEach(((n,r)=>{if(null==n)return;const l={name:t.categorical.categories[0].values[r].toString(),start:a,end:a+s.H.removeDecimal(n),value:n,class:"centralMeasure "+(+n>0?"positive":"negative"),color:+n>0?this.secondaryColor:this.primaryColor,selected:!1,identity:null,format:e.source.format,dynamicFormat:this.getDynamicFormat(e.objects,r)};this.tableData[i].push(l),a+=null===n?0:+n})),this.visualSettings.bar.totalBar.value&&!this.visualSettings.chart.mergeLastAndTotal.value)this.tableData[i].push({name:"Table Total",start:a,end:0,value:a,class:"referenceTotal centralMeasure",color:this.visualSettings.bar.totalBarColor.value.value,selected:!1,identity:null,format:e.source.format,dynamicFormat:this.getDynamicFormat(e.objects,0)});else if(this.visualSettings.chart.mergeLastAndTotal.value){const e=this.tableData[i][this.tableData[i].length-1];e.name=e.name+" + Total",e.start=e.value+e.end,e.end=0,e.value=e.start,e.class="total centralMeasure totalMerged",e.color=this.visualSettings.bar.totalBarColor.value.value,this.tableData[i][this.tableData[i].length-2].end=e.start}})),this.seriesConfiguration&&this.tableData.forEach((e=>{const t=e.slice();for(let a=0;a<i.length-1;a++)e.push(...t)}))}configureGrid(e){let t=0;for(let i=0;i<e.length/this.dimensionsDivisionFactor;i++){const e=this.svg.append("g").classed("gridRow",!0).attr("transform",this.groupNames.length>0?`translate(0, ${15*(i+1)})`:"");for(let a=0;a<this.dimensionsDivisionFactor;a++)e.append("g").classed(`c${t}`,!0).attr("transform",`translate(${this.width/this.dimensionsDivisionFactor*a},${this.height/this.dimensionsDivisionFactor*i})`).attr("fill","none"),++t}}mutateDataForReference(e,t,i){let a=e[0].start;const n=this.visualSettings.bar.precision.value,r=this.visualSettings.bar.dataUnit.value.value.toString(),s=e.filter((e=>!e.class.includes("total"))),l=null!=t?t.filter((e=>!e.class.includes("referenceTotal"))):null;if(e.filter((e=>!e.class.includes("total"))).forEach(((e,t)=>{const i=l[t],o={};o[this.categoryName]=e.name,o[this.datasetNames[0]]=this.formatValue(e.value,n,r,e.dynamicFormat||e.format||this.measureFormat),o[this.datasetNames[this.datasetNames.length-1]]=this.formatValue(i.value,n,r,i.dynamicFormat||i.format||this.referenceFormat||this.reference2Format);const u=e.value-i.value;if(o["Absolute Variance"]=this.formatValue(u,n,r,e.dynamicFormat||e.format||this.referenceFormat||this.reference2Format),o["Variance in %"]=0!==e.value?this.formatValue((e.value-i.value)/e.value,2,"percent",""):"N/A",e.constituents=o,this.visualSettings.reference.showBars.value)i.value>0&&e.value>0||i.value<0&&e.value<0?(e.start=a,e.end=e.value+e.start,a+=e.value-i.value):i.value>0&&e.value<0||i.value<0&&e.value>0?(e.start=a,e.end=-i.value+e.value+e.start,a+=-i.value+e.value):(0===i.value&&0!==e.value||0!==i.value&&0===e.value)&&(e.start=a,e.end=e.value-i.value+e.start,a+=-i.value+e.value);else{e.start=a,e.end=e.start+u,a=e.end;const t=u>=0?"positive":"negative";e.class=e.class.replace(e.class.split(" ")[1],t),e.color=u>=0?this.primaryColor:this.secondaryColor}e.result=0===t?u:s[t-1].result+u,e.constituents.Result=this.formatValue(e.result,n,r,e.dynamicFormat||e.format||this.measureFormat)})),this.visualSettings.bar.totalBar.value&&!this.seriesConfiguration){const i=e[e.length-2],a=t[t.length-2],s=this.compressionCheck(i,a),l=e[e.length-1],o=t[t.length-1];this.visualSettings.reference.showBars.value?l.start=i.end-(s?a.value:0):l.start=i.end;const u={};u[this.categoryName]="Net Result",u[`Total(${this.datasetNames[0]})`]=this.formatValue(l.value,n,r,l.dynamicFormat||l.format||this.measureFormat),u[`Total(${this.datasetNames[1]})`]=this.formatValue(o.value,n,r,o.dynamicFormat||o.format||this.referenceFormat||this.reference2Format),u["Absolute Variance"]=this.formatValue(l.value-o.value,n,r,l.dynamicFormat||l.format||this.measureFormat),u["Variance in %"]=this.formatValue((l.value-o.value)/l.value,2,"percent",""),u.Result=this.formatValue(l.value-o.value,n,r,l.dynamicFormat||l.format||this.measureFormat),l.constituents=u}else if(this.visualSettings.bar.totalBar.value&&this.seriesConfiguration){const e=t[t.length-1],a=t[t.length-2],s=i.filter((e=>e.class.includes("total"))).map((e=>e.name));i.filter((e=>e.class.includes("total"))).forEach((t=>{const l=i[i.indexOf(t)-1],o=this.compressionCheck(l,a);this.visualSettings.reference.showBars.value?t.start=l.end-(o?a.value:0):t.start=l.end;const u={};u[this.categoryName]="Net Result",u[`${t.name}`]=this.formatValue(t.value,n,r,t.dynamicFormat||t.format||this.measureFormat),u[`${this.datasetNames.filter((e=>-1===s.indexOf(e)))[0]}`]=this.formatValue(e.value,n,r,e.dynamicFormat||e.format||this.referenceFormat||this.reference2Format),u["Absolute Variance"]=this.formatValue(t.value-e.value,n,r,t.dynamicFormat||t.format||this.measureFormat),u["Variance in %"]=this.formatValue((t.value-e.value)/t.value,2,"percent",""),u.Result=this.formatValue(t.value-e.value,n,r,t.dynamicFormat||t.format||this.measureFormat),t.constituents=u}))}this.visualSettings.subtotal.subTotalToggle.value&&i.filter((e=>e.class.includes("subtotal"))).forEach((a=>{const n=i[i.indexOf(a)-1],r=t[e.indexOf(n)];this.visualSettings.reference.showBars.value?a.start=n.end-(this.compressionCheck(n,r)?r.value:0):a.start=n.end,a.value=+n.end,a.constituents["Absolute Variance"]=n.constituents["Absolute Variance"]}))}configureLegend(e,t,i){const a=this.visualSettings.legend.markerSize.value,n=2*a+5,r=[[...new Set(this.datasetNames.slice(0,this.datasetNames.length-(null!=e?1:0)))].join(", ")];null!=e&&r.push(this.datasetNames[this.datasetNames.length-1]);const s=[this.visualSettings.sentimentColor.increase.value.value,this.visualSettings.sentimentColor.decrease.value.value],l=this.svg.append("g").attr("class","legend").attr("transform","translate(10, 10)"),o=l.selectAll(".legend-item").data(r).enter().append("g").attr("class","legend-item");o.append("circle").attr("cx",a).attr("cy",a).attr("r",a).style("fill",((e,t)=>s[t])),o.append("text").attr("x",n).attr("y",a).attr("alignment-baseline","middle").text((e=>e)).style("font-size",this.visualSettings.legend.fontSize.value).style("font-family",this.visualSettings.legend.fontFamily.value).attr("fill",this.visualSettings.legend.fontColor.value.value).attr("transform",`translate(0, ${a/4})`),o.attr("transform",((e,t)=>{let i=0;return o.nodes().slice(0,t).forEach((e=>{i+=e.getBBox().width})),`translate(${i+10*t}, 0)`})),this.legendHeight=l.node().getBBox().height+10,-1!==[0,1].indexOf(i)&&(t.top+=this.legendHeight+(null!=e?30*this.visualSettings.bar.fontSize.value/12:0))}handleSkewedData(e){const t=r.jkA(e,(e=>e.start)),i=r.jkA(e,(e=>e.end)),a=r.T9B(e,(e=>e.start)),n=r.T9B(e,(e=>e.end)),s=r.jkA([i,t]),l=r.T9B([a,n]);this.visualSettings.limitOutlier.outlier.value<s||this.visualSettings.limitOutlier.outlier.value>l?this.visualSettings.limitOutlier.show.value=!1:(this.visualSettings.chart.yAxisToggle.value=!1,this.normalizeData(e))}configureChartForHorizontalOrientation(e,t,i,a,n,s,l,o,u,c,h,d,g){s.left=this.visualSettings.table.show.value?20:50;const m=this.highlights.map((e=>e.validIndices)).reduce(((e,t)=>e+t.length),0);s.right=(this.visualSettings.table.show.value?50:100)+(m>0?45*m:0),s.top=25+this.legendHeight,s.bottom=25,this.hierarchichalConfiguration&&this.configureHierarchichalConfigurationElements(a,s,n),null!=g&&(s.top+=g.node().getBBox().height+(this.visualSettings.table.show.value&&this.visualSettings.table.header.value&&this.visualSettings.table.headerSymbols.value?35:0)),u=this.height/this.dimensionsDivisionFactor-s.top-s.bottom-(null!=g?15:0);const f=r.WH().rangeRound([0,u]).padding(c).domain(t.map((e=>e.name)));let p=0;const v=[];this.columnUpdateContainer=null,this.visualSettings.table.show.value&&(p=this.configureTable(t,i,f,a,s,n,null,null,null,v,null,null,null)),o=this.width/this.dimensionsDivisionFactor-s.left-s.right-p;const y=r.m4Y().range([0,o-e]).domain([l.globalMinimum,l.globalMaximum]),b=this.svg.select(`.c${a}`).append("g").classed("chart",!0).attr("transform",`translate(${s.left/this.dimensionsDivisionFactor+p},${s.top/this.dimensionsDivisionFactor})`);this.chart.push(b);const S=r.V4s(f);if(this.visualSettings.table.show.value&&S.tickFormat((()=>"")),b.append("g").attr("class","x-axis").style("color","black").call(S).selectAll(".tick").select("text").style("font-size",this.visualSettings.label.fontSize.value).style("color",this.visualSettings.label.color.value.value).style("font-family",this.visualSettings.label.fontFamily.value),r.Ubm(".x-axis").select(".domain").remove(),r.Ubm(".x-axis").selectAll(".tick line").remove(),this.visualSettings.chart.yAxisToggle.value&&b.append("g").attr("class","y-axis").style("color","black").call(r.l78(y)).attr("transform",`translate(0, ${u})`),!this.visualSettings.table.show.value){let e=0;b.select(".x-axis").selectAll(".tick").nodes().forEach((t=>{t.getBBox().width>e&&(e=t.getBBox().width)})),e>s.left&&(s.left=e,o=this.width/this.dimensionsDivisionFactor-s.left-s.right,y.range([0,o]),b.select(".y-axis").remove(),b.attr("transform",`translate(${s.left/this.dimensionsDivisionFactor+11},${s.top/this.dimensionsDivisionFactor})`),this.visualSettings.chart.yAxisToggle.value&&b.append("g").attr("class","y-axis").style("color","black").call(r.l78(y)).attr("transform",`translate(0, ${u})`))}this.visualSettings.label.overlapMitigation.value&&(this.visualSettings.label.horizontalPosition.value=-3,this.visualSettings.label.verticalPosition.value=2,b.select(".x-axis").selectAll(".tick text").attr("dy",.1*this.visualSettings.label.horizontalPosition.value+"em").attr("dx",.1*this.visualSettings.label.verticalPosition.value+"em").attr("y","0").attr("text-anchor","end").attr("transform",`rotate(-${this.visualSettings.label.rotationAngle.value})`).style("font-size",this.visualSettings.label.fontSize.value).call(this.truncateLabelsText,this.visualSettings.label.truncateLimit.value)),this.visualSettings.label.boldLabelToggle.value&&b.selectAll(".tick text").call(this.boldenLabels,this.visualSettings.label.boldAllLabels.value,this.visualSettings.label.boldLabelIndices.value,this.visualSettings.label.multilineToggle.value);let x=[];const A="clip"+a,w=f.range(),T=y.range(),N=Math.min(...w),C=Math.min(...T),D=Math.abs(T[1]-T[0])+e+10,M=Math.abs(w[1]-w[0]);b.append("defs").append("clipPath").attr("id",A).append("rect").attr("x",N).attr("y",C).attr("width",D).attr("height",M),this.visualSettings.chart.originToggle.value&&b.append("line").classed("axis",!0).attr("stroke","black").attr("class","axis").attr("y1",0).attr("x1",y(0)).attr("y2",u).attr("x2",y(0)).attr("clip-path",`url(#${A})`);const _=this.configureHorizontalBarContainers(b,t,d,i,null,null,null,null,null,v,null,x);if(_.attr("clip-path",`url(#${A})`),this.svg.on("click",(e=>{e.ctrlKey||3===e.which||this.measureHighlights.length>0||(x=[],this.selectionManager.clear().then((()=>{b.selectAll(".bar").attr("opacity","1"),b.selectAll(".tick text").attr("opacity","1"),b.selectAll(".tableRow").attr("opacity","1")})))})),this.visualSettings.table.show.value){let e=[];v.length>0&&(e=e.concat(v)),e.forEach((i=>{this.applyHoverEventsToColumn(i,t,b,e),this.tooltipServiceWrapper.addTooltip(i,(e=>this.getTooltipData(e)),(e=>e.identity))}))}this.visualSettings.lineChart.show.value&&this.insertLineChart(f,y,t,a,s),this.visualSettings.bar.show.value&&(this.appendHorizontalConnectingLines(_,t,f,y,h,i,c),this.appendHorizontalBars(_,t,i,h,f,y,d),null!==i&&this.visualSettings.reference.showBars.value&&this.appendHorizontalReferenceBars(_,t,i,d,f,y,h).attr("stroke",(function(){return r.Ltv(this).attr("fill")})),this.visualSettings.bar.labelToggle.value&&this.configureHorizontalBarLabels(b,_,i,f,y,h),this.visualSettings.limitOutlier.show.value&&this.visualSettings.limitOutlier.axisBreakToggle.value&&this.appendHorizontalAxisBreakSymbols(b,_,f,y),null!==i&&this.visualSettings.reference.showBars.value&&this.visualSettings.reference.connectionLine.value&&this.appendHorizontalReferenceConnectors(_,t,i,h,f,y)),this.configureTooltipsForHorizontalOrientation(b,_,t),0===this.groupNames.length&&this.highlights.forEach(((e,i)=>{e.startingIndices!=e.endingIndices&&e.validIndices.length>0&&this.insertHighlight(e.validIndices,e.startingIndices,e.endingIndices,f,y,s,t,a,e.settings,i)}))}configureHierarchichalConfigurationElements(e,t,i){const a=this.svg.select(`.c${e}`).append("g").append("text").attr("id",`expandAllButton${e}`).text("+").attr("fill","black").attr("x",0).attr("y",0).attr("font-size","20px").attr("font-weight","bold").attr("cursor","pointer").attr("transform",`translate(${t.left/this.dimensionsDivisionFactor}, ${t.top/this.dimensionsDivisionFactor})`).on("click",(()=>{this.treeExpansionDepth!==this.maxHeirarchyDepth&&(this.expandAllNodes(this.heirarchichalCategories),this.retainHeirarchichalState=!0,++this.treeExpansionDepth,this.updateView(i,this.visualSettings))})).on("mouseover",(()=>{a.attr("fill","blue"),a.attr("font-size","25px")})).on("mouseout",(()=>{a.attr("fill","black"),a.attr("font-size","20px")}));this.treeExpansionDepth===this.maxHeirarchyDepth&&a.attr("pointer-events","none");const n=this.svg.select(`.c${e}`).append("g").append("text").attr("id",`collapseAllButtom${e}`).text("−").attr("fill","black").attr("x",0).attr("y",0).attr("font-size","20px").attr("font-weight","bold").attr("cursor","pointer").attr("transform",`translate(${t.left/this.dimensionsDivisionFactor+20}, ${t.top/this.dimensionsDivisionFactor})`).on("click",(()=>{this.retainHeirarchichalState=!1,this.updateView(i,this.visualSettings)})).on("mouseover",(()=>{n.attr("fill","blue"),n.attr("font-size","25px")})).on("mouseout",(()=>{n.attr("fill","black"),n.attr("font-size","20px")}));0===this.expandedNodeIndices.length&&n.attr("pointer-events","none"),t.top+=a.node().getBBox().height}configureTable(e,t,i,a,n,r,s,l,o,u,c,h,d){let g=0,m=1;const f=[];f.push([]),e.forEach((e=>{f.push(e.class.includes("centralMeasure")?[e.name]:[Object.keys(e.constituents).join(", ")])}));const p=this.svg.select(`.c${a}`).selectAll(".tableRows").data(f).enter().append("g").classed("tableRow",!0);if(this.hierarchichalConfiguration&&(m=this.configureHierarchichalView(p,e,i,n,r)),m=this.insertTableColumn(p,s,m,e,i,n.top,f,this.categoryName,g),u.push(this.columnUpdateContainer),this.visualSettings.table.measureValues.value&&(++g,f.filter(((e,t)=>0!==t)).forEach(((t,i)=>{const a=e[i],n=(a.class.includes("centralMeasure"),a.value);this.visualSettings.table.formatToggle.value?t.push(this.formatValue(n,this.visualSettings.table.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),a.dynamicFormat||a.format||this.measureFormat)):t.push(n.toString())})),m=this.insertTableColumn(p,l,m,e,i,n.top,f,this.datasetNames[0],g,this.visualSettings.table.measureSymbolType.value.value.toString(),this.visualSettings.table.measureSymbolColor.value.value),u.push(this.columnUpdateContainer)),this.tableData.length>0&&this.tableData.forEach(((t,a)=>{++g,f.filter(((e,t)=>0!==t)).forEach(((e,i)=>{i>=t.length||(t[i].class.includes("centralMeasure")||t[i].class.includes("startingValues")?this.visualSettings.table.formatToggle.value?e.push(this.formatValue(t[i].value,this.visualSettings.table.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),t[i].dynamicFormat||t[i].format||this.measureFormat)):e.push(t[i].value.toString()):e.push(""))})),m=this.insertTableColumn(p,null,m,e,i,n.top,f,this.tableValuesNames[a],g,"line","black"),u.push(this.columnUpdateContainer)})),null!==t){const t=this.visualSettings.table;t.reference.value&&(++g,f.filter(((e,t)=>0!==t)).forEach(((t,i)=>{t.push(e[i].class.includes("centralMeasure")?e[i].constituents[this.datasetNames[this.datasetNames.length-1]]:"")})),m=this.insertTableColumn(p,o,m,e,i,n.top,f,this.datasetNames[this.datasetNames.length-1],g,this.visualSettings.table.referenceSymbolType.value.value.toString(),t.referenceSymbolColor.value.value),u.push(this.columnUpdateContainer)),t.absoluteVariance.value&&(++g,f.filter(((e,t)=>0!==t)).forEach(((t,i)=>{t.push(!e[i].class.includes("centralMeasure")||e[i].class.includes("startingValue")?"":e[i].constituents["Absolute Variance"])})),m=this.insertTableColumn(p,c,m,e,i,n.top,f,"Δabs",g,this.visualSettings.table.absVarSymbolType.value.value.toString(),t.absVarSymbolColor.value.value),u.push(this.columnUpdateContainer)),t.percentageVariance.value&&(++g,f.filter(((e,t)=>0!==t)).forEach(((t,i)=>{t.push(!e[i].class.includes("centralMeasure")||e[i].class.includes("startingValue")?"":e[i].constituents["Variance in %"])})),m=this.insertTableColumn(p,h,m,e,i,n.top,f,"Δ%",g,this.visualSettings.table.percentVarSymbolType.value.value.toString(),t.percentVarSymbolColor.value.value),u.push(this.columnUpdateContainer)),t.result.value&&(++g,f.filter(((e,t)=>0!==t)).forEach(((t,i)=>{t.push(e[i].class.includes("centralMeasure")?e[i].constituents.Result:"")})),m=this.insertTableColumn(p,d,m,e,i,n.top,f,"Result",g,this.visualSettings.table.resultSymbolType.value.value.toString(),t.resultSymbolColor.value.value),u.push(this.columnUpdateContainer))}return m}configureHorizontalBarContainers(e,t,i,a,n,r,s,l,o,u,c,h){const d=e.selectAll(".bar").data(t).enter().append("g").attr("class",(e=>`bar ${e.class}`)).attr("opacity",(e=>e.opacity||1)).attr("fill",((e,a)=>void 0!==e.fillType&&null!==e.fillType&&"pattern"===e.fillType?(this.svg.append("defs").append("pattern").attr("id","hatchedPattern"+a).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).append("path").attr("d","M-2,2 l4,-4 M0,8 l8,-8 M6,10 l4,-4").attr("stroke",e.color).attr("stroke-width",1),`url(#hatchedPattern${a})`):i.indexOf((t.indexOf(e)+1).toString())>-1?this.visualSettings.bar.customBarColor.value.value:e.color));return this.handleClickOnHorizontalBarContainers(d,h,e,t),this.handleHoverForHorizontalBarContainers(d,e,t,a,n,r,s,l,o,u,c,h),d}handleHoverForHorizontalBarContainers(e,t,i,a,n,r,s,l,o,u,c,h){e.on("mouseover",((e,a)=>{h.length>0||this.measureHighlights.length>0||(t.selectAll(".bar").filter(((e,t)=>t!=i.indexOf(a))).attr("opacity","0.4"),t.selectAll(".tick text").filter(((e,t)=>t!=i.indexOf(a))).attr("opacity","0.4"),this.visualSettings.table.show.value&&this.svg.selectAll(".tableRow").filter(((e,t)=>0!==t&&t-1!==i.indexOf(a))).attr("opacity","0.4"))})).on("mouseout",(()=>{h.length>0||this.measureHighlights.length>0||(t.selectAll(".bar").attr("opacity","1"),t.selectAll(".tick text").attr("opacity","1"),this.visualSettings.table.show.value&&this.svg.selectAll(".tableRow").attr("opacity","1"))}))}handleClickOnHorizontalBarContainers(e,t,i,a){e.on("click",((e,n)=>{if(3===e.which||this.measureHighlights.length>0)return;e.stopPropagation();const r=e.ctrlKey;return!r&&t.length>0?(this.selectionManager.clear(),t=[],i.selectAll(".bar").attr("opacity","1"),i.selectAll(".tick text").attr("opacity","1"),void i.selectAll(".tableRow").attr("opacity","1")):t.indexOf(n.identity)>-1?(t.splice(t.indexOf(n.identity),1),0===t.length?(i.selectAll(".bar").attr("opacity","1"),i.selectAll(".tick text").attr("opacity","1"),i.selectAll(".tableRow").attr("opacity","1"),void this.selectionManager.clear()):(i.selectAll(".bar").filter(((e,t)=>t===a.indexOf(n))).attr("opacity","0.4"),i.selectAll(".tick text").filter(((e,t)=>t===a.indexOf(n))).attr("opacity","0.4"),this.svg.selectAll(".tableRow").filter(((e,t)=>0!==t&&t-1===a.indexOf(n))).attr("opacity","0.4"),void this.selectionManager.clear().then((()=>{this.selectionManager.select(t,!0)})))):(t.push(n.identity),void this.selectionManager.select(n.identity,r).then((e=>{i.selectAll(".bar").filter((t=>-1===e.indexOf(t.identity))).attr("opacity","0.4"),i.select(".x-axis").selectAll(".tick text").filter(((t,i)=>-1===e.indexOf(a[i].identity))).attr("opacity","0.4"),console.log(a),this.svg.selectAll(".tableRow").filter(((t,i)=>0!==i&&-1===e.indexOf(a[i-1].identity))).attr("opacity","0.4"),i.selectAll(".bar").filter((t=>e.indexOf(t.identity)>-1)).attr("opacity","1"),i.selectAll(".tick text").filter(((t,i)=>e.indexOf(a[i].identity)>-1)).attr("opacity","1"),this.svg.selectAll(".tableRow").filter(((t,i)=>0!==i&&e.indexOf(a[i-1].identity)>-1)).attr("opacity","1")})))}))}appendHorizontalConnectingLines(e,t,i,a,n,r,s){return e.filter((e=>-1===["firstValues","lastValues","secondLastValues","total"].indexOf(e.class.split(" ")[0]))).filter((e=>!!this.visualSettings.bar.totalBar.value||e!=t.filter((e=>e.class.includes("centralMeasure"))).pop())).append("line").classed("connector",!0).attr("stroke",this.visualSettings.bar.totalBarColor.value.value).attr("class","connector").attr("x1",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,i=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;return e.class.includes("total")||e.class.includes("subtotal")?a(t):a(i)})).attr("y1",(e=>i(e.name)+i.bandwidth())).attr("x2",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start;let i=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;const r=n[n.indexOf(e)+1];return this.visualSettings.limitOutlier.show.value&&"total"===r.class.split(" ")[0]&&(i=this.visualSettings.limitOutlier.total.value?r.normalizedStart:r.start),e.class.includes("total")||e.class.includes("subtotal")?a(t):a(i)})).attr("y2",(e=>i(e.name)+i.bandwidth()/(1-s))).attr("transform",(e=>{if(null===r||e.class.includes("startingValues")||e.class.includes("subtotal"))return"";const t=r[n.indexOf(e)];return`translate(${Math.abs(a(e.start+(e.value-t.value))-a(e.end))*(t.value>0?-1:1)}, 0)`})).attr("stroke-width",.7)}appendHorizontalBars(e,t,i,a,n,r,s){const l=this.visualSettings.reference.showBars.value;e.append("rect").classed("bar-rect",!0).attr("x",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;if(null===i||!this.visualSettings.reference.showBars.value||!e.class.includes("centralMeasure")||e.class.includes("subtotal")||e.class.includes("total"))return r(Math.min(t,n));const s=i[a.indexOf(e)],l=e.value<=0&&s.value>0?s.value:0;return r(Math.min(t,n)+l)})).attr("y",(e=>n(e.name))).attr("width",(e=>{if(isNaN(e.value))return 0;const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;if(null===i||!l||!e.class.includes("centralMeasure")||e.class.includes("subtotal")||e.class.includes("total"))return Math.abs(r(t)-r(n));const s=i[a.indexOf(e)],o=e.value>0&&s.value<0||e.value<0&&s.value>0||0===e.value?s.value:0;return Math.abs(r(t)-r(n+o))})).attr("height",(e=>null===i||!l||e.class.includes("total")||!e.class.includes("centralMeasure")||e.class.includes("subtotal")?n.bandwidth():n.bandwidth()/2)).attr("stroke",(e=>void 0!==e.borderColor&&null!==e.borderColor&&""!==e.borderColor?e.borderColor:s.indexOf((t.indexOf(e)+1).toString())>-1?this.visualSettings.bar.customBarColor.value.value:e.color)).attr("shape-rendering","crispEdges")}appendHorizontalReferenceBars(e,t,i,a,n,r,s){return e.filter((e=>e.class.includes("centralMeasure")&&!e.class.includes("subtotal"))).append("rect").classed("bar-rect",!0).attr("x",((e,t)=>{const a=i[t],n=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,s=e.value>0&&a.value<0?a.value:0;return r(n+s)})).attr("y",(e=>n(e.name))).attr("width",((e,t)=>{if(e.class.includes("total"))return 0;const a=i[t],n=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,s=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,l=e.value>0&&a.value>0||e.value<0&&a.value<0?e.value-a.value:e.value;return Math.abs(r(n+l)-r(s))})).attr("transform",((e,t)=>{const a=i[t];return`translate(${e.value>0&&0!=a.value?-Math.abs(r(e.start+(e.value-a.value))-r(e.end)):0}, ${n.bandwidth()/2})`})).attr("fill",(e=>{const n=i[s.indexOf(e)];return a.indexOf((t.indexOf(e)+1).toString())>-1?this.visualSettings.bar.customBarColor.value.value:n.value>0?this.visualSettings.sentimentColor.decrease.value.value:this.visualSettings.sentimentColor.increase.value.value})).attr("height",n.bandwidth()/2).attr("stroke",(e=>i[s.indexOf(e)].color)).attr("shape-rendering","crispEdges")}configureHorizontalBarLabels(e,t,i,a,n,r){let l=null;if(this.visualSettings.bar.labelBackgroundToggle.value&&(l=t.append("rect").classed("bar-label-background",!0).attr("x",0).attr("y",0).attr("dy","-.5em").attr("fill",this.visualSettings.bar.labelBackgroundColor.value.value).attr("opacity",.01*this.visualSettings.bar.transparency.value).attr("rx",5).attr("ry",5)),t.append("text").classed("bar-text",!0).attr("y",(e=>a(e.name))).attr("x",(e=>{const t=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,a=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end;if(null===i||!this.visualSettings.reference.showBars.value||e.class.includes("total")||e.class.includes("subtotal")||!e.class.includes("centralMeasure"))return e.class.includes("positive")||-1!==["startingValues","firstValues","lastValues","secondLastValues","total","subtotal"].indexOf(e.class.split(" ")[0])&&t<0?n(a):n(t);const s=i[r.indexOf(e)],l=e.value>0&&s.value<0||0===e.value?s.value:0;return e.class.includes("positive")||-1!==["startingValues","firstValues","lastValues","secondLastValues","total"].indexOf(e.class.split(" ")[0])&&t<0?n(a+l):n(t+l)})).attr("dy",(e=>a.bandwidth()/2)).attr("dx",5).attr("text-anchor","start").attr("dominant-baseline","middle").text((e=>"total"===e.class.split(" ")[0]&&null!==i?this.formatValue(e.value-i.filter((e=>e.class.includes("referenceTotal")))[0].value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),this.measureFormat):null===i||this.visualSettings.reference.showBars.value||-1===e.class.indexOf("centralMeasure")?this.formatValue(e.value,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),e.format||e.dynamicFormat||this.measureFormat):e.constituents["Absolute Variance"])).style("fill",this.visualSettings.bar.fontColor.value.value).style("font-size",this.visualSettings.bar.fontSize.value).style("font-family",this.visualSettings.bar.fontFamily.value),this.visualSettings.bar.labelBackgroundToggle.value){const t=e.selectAll(".bar-text").nodes();l.attr("x",((e,i)=>t[i].getBBox().x-4)).attr("y",((e,i)=>t[i].getBBox().y-2)).attr("width",((e,i)=>t[i].getBBox().width+8)).attr("height",((e,i)=>t[i].getBBox().height+4))}null!==i&&this.visualSettings.reference.showBars.value&&t.filter((e=>e.class.includes("centralMeasure")&&!e.class.includes("total"))).append("text").classed("bar-text-reference",!0).attr("y",(e=>a(e.name))).attr("x",((e,t)=>{const a=this.visualSettings.limitOutlier.show.value?e.normalizedStart:e.start,r=this.visualSettings.limitOutlier.show.value?e.normalizedEnd:e.end,l=i.filter((e=>!e.class.includes("referenceTotal")))[t],o=e.value<0&&l.value>0?s.H.removeDecimal(e.value):e.value<0&&l.value<0?s.H.removeDecimal(e.value-l.value):0===e.value?l.value:0;return e.class.includes("positive")||-1!==["startingValues","firstValues","lastValues","secondLastValues","total"].indexOf(e.class.split(" ")[0])&&a<0?n(r+o):n(a+o)})).attr("dy",a.bandwidth()/1.22).attr("dx","0.5em").text(((e,t)=>{let a=i[t].value;return this.visualSettings.reference.invert.value&&(a*=-1),this.formatValue(a,this.visualSettings.bar.precision.value,this.visualSettings.bar.dataUnit.value.value.toString(),i[t].format||i[t].dynamicFormat||this.referenceFormat||this.reference2Format)})).style("fill",this.visualSettings.bar.fontColor.value.value).style("font-size",this.visualSettings.bar.fontSize.value).style("font-family",this.visualSettings.bar.fontFamily.value)}appendHorizontalAxisBreakSymbols(e,t,i,a){const n=[];if(!this.visualSettings.limitOutlier.total.value&&n.push("total"),!this.visualSettings.limitOutlier.firstValues.value&&n.push("firstValues"),!this.visualSettings.limitOutlier.secondLastValues.value&&n.push("secondLastValues"),!this.visualSettings.limitOutlier.lastValues.value&&n.push("lastValues"),"gradient"===this.visualSettings.limitOutlier.axisBreakType.value.value.toString()){const r=e.append("defs").append("linearGradient").attr("id","axisBreakGradient");r.append("stop").attr("offset","0%").attr("stop-color","white").attr("stop-opacity","0"),r.append("stop").attr("offset","50%").attr("stop-color",this.visualSettings.limitOutlier.axisBreakColor.value.value).attr("stop-opacity","1"),r.append("stop").attr("offset","100%").attr("stop-color","white").attr("stop-opacity","0"),t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("rect").classed("axisBreak",!0).attr("y",(e=>i(e.name)-1)).attr("x",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value)).attr("width",this.visualSettings.limitOutlier.axisBreakSize.value).attr("height",1.08*i.bandwidth()).attr("stroke","").attr("fill","url(#axisBreakGradient)").attr("stroke-width","0.5")}else t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("line").classed("axisBreakTop",!0).attr("y1",(e=>i(e.name)-4.5)).attr("x1",(e=>a((e.normalizedStart+e.normalizedEnd)/2)+this.visualSettings.limitOutlier.axisBreakPosition.value+this.visualSettings.limitOutlier.axisBreakSize.value/2)).attr("y2",(e=>i(e.name)+i.bandwidth()/.95)).attr("x2",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value-7+this.visualSettings.limitOutlier.axisBreakSize.value/2)).attr("stroke","white").attr("stroke-width",this.visualSettings.limitOutlier.axisBreakSize.value),t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("line").classed("axisBreakTop",!0).attr("y1",(e=>i(e.name)-4.5)).attr("x1",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value)).attr("y2",(e=>i(e.name)+i.bandwidth()/.95)).attr("x2",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value-7)).attr("stroke","black").attr("stroke-width",1).attr("shape-rendering","optimizeQuality"),t.filter((e=>Math.abs(e.value)>this.visualSettings.limitOutlier.outlier.value&&-1===n.indexOf(e.class.split(" ")[0]))).append("line").classed("axisBreakTop",!0).attr("y1",(e=>i(e.name)-4.5)).attr("x1",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value+this.visualSettings.limitOutlier.axisBreakSize.value)).attr("y2",(e=>i(e.name)+i.bandwidth()/.95)).attr("x2",(e=>a((e.normalizedStart+e.normalizedEnd)/2)-this.visualSettings.limitOutlier.axisBreakPosition.value-7+this.visualSettings.limitOutlier.axisBreakSize.value)).attr("stroke","black").attr("stroke-width",1).attr("shape-rendering","optimizeQuality");t.selectAll(".axisBreak").attr("stroke-dasharray",`${i.bandwidth()} ${this.visualSettings.limitOutlier.axisBreakSize.value}`).attr("stroke-dashoffset",i.bandwidth())}configureHierarchichalView(e,t,i,a,n){const s=e.filter(((e,i)=>0!==i&&void 0!==t[i])).append("text").classed("hierarchyButton",!0).attr("x",5).attr("y",((e,a)=>i(t[a].name))).attr("dy",i.bandwidth()/1.8).attr("font-size",15).attr("font-weight","bold").attr("font-family","sans-serif").attr("fill","blue").attr("text-anchor","start").text(((e,i)=>" ".repeat(4*(t[i].hierarchyDepth-1))+(t[i].isParent?t[i].expanded?"−":"+":""))).attr("id",((e,i)=>t[i].nodeIndex)).attr("transform",`translate(0,${a.top/this.dimensionsDivisionFactor})`).on("mouseover",(function(){r.Ltv(this).attr("fill","black").attr("cursor","pointer")})).on("mouseout",(function(){r.Ltv(this).attr("fill","blue").attr("cursor","default")})).on("click",(e=>{const t=+r.Ltv(e.target).attr("id"),i=this.findCategoryById(this.heirarchichalCategories,t);null!==i.children&&0!==i.children.length&&("+"===r.Ltv(e.target).text().trim()?(i.expanded=!0,i.children.forEach((e=>{e.expanded=!1})),this.treeExpansionDepth=i.level>this.treeExpansionDepth?i.level:this.treeExpansionDepth,this.expandedNodeIndices.push(t)):(i.expanded=!1,this.updateExpansionState(i),this.expandedNodeIndices.splice(this.expandedNodeIndices.indexOf(t),1),this.collapseNode(i),this.treeExpansionDepth=this.calculateTreeExpansionDepth(this.heirarchichalCategories)),this.retainHeirarchichalState=!0,this.updateView(n,this.visualSettings))}));return this.expandedNodeIndices.length>0&&this.expandedNodeIndices.forEach((i=>{const n=this.findCategoryById(this.heirarchichalCategories,i);if(!n.expanded||0===n.children.length)return;const r=t.filter((e=>e.nodeIndex===i))[0],l=s.nodes().filter((e=>e.id===i.toString()))[0].getComputedTextLength(),o=s.nodes().filter((e=>e.id===i.toString()))[0].getBBox().height,u=s.nodes().filter((e=>e.id===i.toString()))[0].getBBox().y,c=s.nodes().filter((e=>e.id===n.children[0].id.toString()))[0].getBBox().y;e.filter(((e,t)=>0!==t)).filter((e=>e[0]===r.name)).append("line").attr("x1",l+5).attr("y1",u).attr("x2",l+5).attr("y2",c+o/2).attr("stroke","black").attr("stroke-width",1).attr("transform",`translate(0,${a.top/this.dimensionsDivisionFactor})`)})),r.T9B(s.nodes(),(e=>e.getComputedTextLength()))+7}truncateLabelsText(e,t){t>0&&e.each((function(){const e=r.Ltv(this);e.text(e.text().slice(0,t)+(e.text().length>t?"...":""))}))}wrap(e,t){e.each((function(){const e=r.Ltv(this),i=e.text().split(" "),a=e.attr("y"),n=parseFloat(e.attr("dy"));let s=[],l=0,o=e.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",n+"em");i.forEach((i=>{s.push(i),o.text(s.join(" ")),e.node().getBBox().width>t&&s.length>1&&(s.pop(),o.text(s.join(" ")),s=[i],o=e.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++l+n+"em").text(i))}))}));let i=!1;e.each((function(){const a=r.Ltv(this),n=r.Ltv(e.nodes()[e.nodes().indexOf(this)-1]).selectAll("tspan").nodes(),s=[];a.selectAll("tspan").nodes().filter(((e,i)=>{if(e.getComputedTextLength()>t)return s.push(n[i]),!0})).forEach(((e,a)=>{const n=s[a];if(!n)return;const r=e.getBoundingClientRect(),l=n.getBoundingClientRect();r.width+l.width>2*t&&" "!==n.textContent&&(i=!0)}))})),i&&e.each((function(i,a){const n=r.Ltv(this);if(n.node().getBBox().width<t)return;let s=0;(a%3==1||a%3==2)&&(s=r.Ltv(e.nodes()[a-1]).selectAll("tspan").size());for(let e=0;e<s;e++)n.insert("tspan",":first-child").text(" ").attr("x",0).attr("y",+n.attr("y"));n.selectAll("tspan").attr("dy",((e,t)=>1.1*t+"em"))}))}boldenLabels(e,t,i,a){if(t)a?e.each((function(){r.Ltv(this).selectAll("tspan").style("font-weight","bold")})):e.each((function(){r.Ltv(this).style("font-weight","bold")}));else{const t=i.split(",");t.length>0&&e.each((function(e,i){t.indexOf((i+1).toString())>-1&&(a?r.Ltv(this).selectAll("tspan").style("font-weight","bold"):r.Ltv(this).style("font-weight","bold"))}))}}calculateGlobalExtrema(e,t,i){e=this.data.flat();let a=[];if(null!==i&&!this.visualSettings.bar.totalBar.value){const t=e.filter((e=>e.class.includes("centralMeasure")));a=[t[t.length-1].start+(t[t.length-1].value-i[i.length-1].value)]}const n=r.jkA(e,(e=>t?e.normalizedStart:e.start)),s=r.jkA(e,(e=>t?e.normalizedEnd:e.end)),l=r.T9B(e,(e=>t?e.normalizedStart:e.start)),o=r.T9B(e,(e=>t?e.normalizedEnd:e.end));let u=r.jkA([s,n]),c=r.T9B([l,o]);r.T9B(a)>c&&(c=r.T9B(a)),r.jkA(a)<u&&(u=r.jkA(a));const h={},d=this.configureYDomain(u,c);return h.globalMinimum=d.min,h.globalMaximum=d.max,h}configureYDomain(e,t){const i=this.dataView.metadata.columns.filter((e=>e.roles&&Object.keys(e.roles).length>0)).sort(((e,t)=>e.index-t.index)).map((e=>e.displayName)).join("");if(this.dataView.metadata.objects&&this.dataView.metadata.objects.persistence){const a=this.dataView.metadata.objects.persistence.dataKey,n=this.dataView.metadata.objects.chart&&this.dataView.metadata.objects.chart.mergeLastAndTotal;(void 0!==a&&a!==i||this.visualSettings.chart.mergeLastAndTotal.value===n)&&this.resetYDomain(e,t,i)}else this.resetYDomain(e,t,i);return this.visualSettings.yAxis.reset.value&&this.resetYDomain(e,t,i),void 0!==this.visualSettings.yAxis.min.value&&this.visualSettings.yAxis.min.value>this.visualSettings.yAxis.max.value&&(this.visualSettings.yAxis.min.value=this.visualSettings.yAxis.max.value),void 0!==this.visualSettings.yAxis.max.value&&this.visualSettings.yAxis.max.value<this.visualSettings.yAxis.min.value&&(this.visualSettings.yAxis.max.value=this.visualSettings.yAxis.min.value),void 0===this.visualSettings.yAxis.max.value?this.visualSettings.yAxis.max.value=t:t=this.visualSettings.yAxis.max.value,void 0===this.visualSettings.yAxis.min.value?this.visualSettings.yAxis.min.value=e:e=this.visualSettings.yAxis.min.value,{min:e,max:t}}resetYDomain(e,t,i){this.host.persistProperties({merge:[{objectName:"yAxis",selector:null,properties:{min:e,max:t,reset:!1}},{objectName:"persistence",selector:null,properties:{dataKey:i}}]})}compressionCheck(e,t){return t.value>0&&e.value>0||t.value<0&&e.value<0}insertTableColumn(e,t,i,a,n,s,l,o,u,c,h){l[0].push(o),t=e.append("text").attr("x",o!==this.categoryName?i+this.visualSettings.table.padding.value:i).attr("y",((e,t)=>0===t?-10:n(a[t-1].name))).text(((e,t)=>0===t||0===u?e[u]:isNaN(+e[u])||!e[u]?e[u]||"-":e[u])).attr("fill",((e,t)=>0===t?"black":o.includes("abs")&&+e[u]>0||o.includes("%")&&+e[u].split("%")[0]>0?this.primaryColor:(o.includes("abs")||o.includes("%"))&&e[u]?this.secondaryColor:"black")).attr("transform",`translate(0,${s/this.dimensionsDivisionFactor})`).attr("dy",((e,t)=>0===t?"":n.bandwidth()/1.8)).style("font-size",this.visualSettings.table.fontSize.value).style("font-family",this.visualSettings.table.fontFamily.value),this.visualSettings.table.header.value?t.filter(((e,t)=>0===t)).attr("font-weight","bold"):t.filter(((e,t)=>0===t)).attr("fill","none");const d=r.T9B(t.nodes(),(e=>e.getComputedTextLength()));return o===this.categoryName&&t.filter(((e,t)=>0!==t)).nodes().forEach((e=>{const t=r.Ltv(e);for(;e.getComputedTextLength()<d-1;)t.text(t.text()+" ")})),o!==this.categoryName&&this.visualSettings.table.headerSymbols.value&&(e.filter(((e,t)=>0===t)).append("rect").attr("x",i+this.visualSettings.table.padding.value).attr("y",(()=>-7)).attr("fill",h).attr("height","line"===c||"parallelLines"===c?1:4).attr("width",d).attr("transform",`translate(0,${s/this.dimensionsDivisionFactor})`).attr("stroke","black").attr("dy",(()=>e.filter(((e,t)=>0===t)).select("text").nodes()[0].getBBox().height)),"hatchedRectangle"===c&&this.svg.append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("path").attr("d","M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2").attr("stroke","#000000").attr("stroke-width",1),("parallelLines"===c||"hatchedRectangle"===c)&&e.filter(((e,t)=>0===t)).append("rect").attr("x",i+this.visualSettings.table.padding.value).attr("y",(()=>("parallelLines"===c?4:0)-7)).attr("fill","hatchedRectangle"===c?"url(#diagonalHatch)":h).attr("height","parallelLines"===c?1:4).attr("width",d).attr("transform",`translate(0,${s/this.dimensionsDivisionFactor})`).attr("stroke","hatchedRectangle"===c?"":"black").attr("stroke-width","0.7").attr("dy",(()=>e.filter(((e,t)=>0===t)).select("text").nodes()[0].getBBox().height))),t.filter(((e,t)=>0!==t)).each((function(){this.setAttribute("dx",(d-this.getComputedTextLength()).toString())})),i+=d+(o!==this.categoryName?this.visualSettings.table.padding.value:0),this.columnUpdateContainer=t,i}countElements(e){let t=0;for(let i=0;i<e.length;i++)e[i]instanceof Array?t+=this.countElements(e[i]):e[i]instanceof Object?Object.prototype.hasOwnProperty.call(e[i],"values")&&(t+=this.countElements(e[i].values)):t++;return t}convertToHierarchy(e,t,i,a){const n={name:"",children:[],id:0,level:0},r={id:1};for(let s=0;s<e.length;s++){let l=n;for(let t=0;t<e[s].length;t++){const n=e[s][t],o=null!==l.children&&l.children.find((e=>e.name===n));if(o)l=o;else{const e={name:n,id:r.id++,expanded:0!==t&&null,children:[],level:t+1,parent:l,format:a||this.getDynamicFormat(i,s)};null!==l.children&&l.children.push(e),l=e}}l.value=t[s],l.format=a||this.getDynamicFormat(i,s)}return null!==n.children||void 0!==n.children?n.children:[]}getNodeValue(e){return e.children&&0!==e.children.length?e.children.reduce(((e,t)=>e+this.getNodeValue(t)),0):null!==e.value&&void 0!==e.value?e.value:0}getExpandableNodes(e){const t=[];for(const i of e){if(i.children){const e=this.getExpandableNodes(i.children);t.push(...e)}1!==i.level&&!0!==i.expanded&&!1!==i.expanded||t.push(i)}return t}collapseNode(e){e.children&&e.children.forEach((e=>{delete e.expanded,this.collapseNode(e)}))}findCategoryById(e,t){for(const i of e){if(i.id===t)return i;const e=this.findCategoryById(i.children||[],t);if(e)return e}}calculateTreeExpansionDepth(e){let t=1;for(const i of e){if(i.children.length>0){const e=this.calculateTreeExpansionDepth(i.children.filter((e=>!0===e.expanded)));t=e>t?e:t}t=i.level>t?i.level:t}return t}updateExpansionState(e){e.children&&e.children.forEach((e=>{!0===e.expanded&&this.expandedNodeIndices.splice(this.expandedNodeIndices.indexOf(e.id),1),this.updateExpansionState(e)}))}expandAllNodes(e){const t=this.getExpandableNodes(e);for(const e of t)e.expanded=!0,this.expandedNodeIndices.push(e.id),this.expandNode(e)}expandNode(e){e.children.length>0&&e.children.forEach((e=>{e.level<=this.treeExpansionDepth?(e.expanded=!0,this.expandedNodeIndices.push(e.id),this.expandNode(e)):e.expanded=!1}))}formatValue(e,t,i,a){const r=this.visualSettings.bar.signToggle.value&&e>0?"+":"";let s;const l=this.visualSettings.bar.unitVisibility.value,o=e=>{const i=Math.pow(10,t),a=Number((e*i).toFixed(8));return(Math.round(a)/i).toFixed(t)};if("auto"===i&&(s=r+n.G2.format(e,a),!l)){const e=s.slice(-1);isNaN(+e)&&(s=s.slice(0,-1))}return"none"===i?r+o(e):("percent"===i&&(s=r+o(100*e),l&&(s+="%")),"thousand"===i&&(s=`${r}${o(e/1e3)}`,l&&(s+="K")),"million"===i&&(s=`${r}${o(e/1e6)}`,l&&(s+="M")),"billion"===i&&(s=`${r}${o(e/1e9)}`,l&&(s+="B")),"trillion"===i&&(s=`${r}${o(e/1e12)}`,l&&(s+="T")),!this.visualSettings.chart.bracesToggle.value||e>0||Object.is(e,0)?s:s.replace("−","(").replace("-","(").concat(")"))}handleBreakingSettings(e){this.target.style.overflowX="hidden",this.target.style.overflowY="hidden",e.bar.precision.value<0&&(e.bar.precision.value=0),this.groupNames.length>0&&(this.visualSettings.highlight1.show.value=!1,this.visualSettings.highlight2.show.value=!1,this.visualSettings.highlight3.show.value=!1,this.visualSettings.highlight4.show.value=!1,this.visualSettings.highlight5.show.value=!1)}createWatermark(){r.Ltv(".watermark").remove();const e=this.svg.append("g").classed("watermark",!0).attr("opacity",.1);e.attr("display","none"),[{x:-50,y:-50},{x:-50,y:100},{x:-50,y:250},{x:-50,y:400},{x:-50,y:550},{x:-50,y:700},{x:-50,y:850},{x:-50,y:1e3},{x:-50,y:1150},{x:250,y:-50},{x:500,y:150},{x:500,y:300},{x:500,y:450},{x:500,y:600},{x:500,y:750},{x:500,y:900},{x:500,y:1050},{x:500,y:1200},{x:1050,y:50},{x:1050,y:200},{x:1050,y:350},{x:1050,y:500},{x:1050,y:650},{x:1050,y:800},{x:1050,y:950},{x:1050,y:1100},{x:1600,y:-50},{x:1600,y:100},{x:1600,y:250},{x:1600,y:400},{x:1600,y:550},{x:1600,y:700},{x:1600,y:850},{x:1600,y:1e3}].forEach((({x:t,y:i})=>{const a="#"+Array.from(window.crypto.getRandomValues(new Uint8Array(3))).map((e=>e.toString(16).padStart(2,"0"))).join("");e.append("text").attr("class","watermark-text").attr("font-size",100).attr("x",t).attr("y",i).text("DataViz.Boutique").attr("fill",a)})),r.Ubm(".watermark-text").each((function(){const e=r.Ltv(this),t=e.node().getBBox(),i=t.x,a=t.y;e.attr("transform",`rotate(-45, ${i}, ${a})`)}))}handleContextMenu(){this.svg.on("contextmenu",(e=>{const t=e.target,i=r.Ltv(t).datum();this.selectionManager.showContextMenu(i?i.identity:{},{x:e.clientX,y:e.clientY}),e.preventDefault()}))}DECODEANDVERIFYSIGNATURE(e,t,i){if(!window.crypto||!window.crypto.subtle)return()=>Promise.resolve(null);const a=window.crypto.subtle.importKey("jwk",e,t,!1,["verify"]);return e=>{try{if(!e.includes("$"))return Promise.resolve(null);const t=atob(e.slice(0,e.indexOf("$"))),n=new Uint8Array(Array.from(atob(e.slice(e.indexOf("$")+1))).map((e=>e.charCodeAt(0)))),r=(new TextEncoder).encode(t);return Promise.resolve(a.then((e=>window.crypto.subtle.verify(i,e,n,r))).then((e=>e?t:null))).catch((e=>e))}catch(e){return Promise.resolve(null)}}}DECODEANDVERIFYECDSASIGNATURE(e){return this.DECODEANDVERIFYSIGNATURE(e,{name:"ECDSA",namedCurve:"P-384"},{name:"ECDSA",hash:{name:"SHA-384"}})}peristLicenseData(e,t,i){const a={merge:[{objectName:"license",selector:void 0,properties:{persistantKey:e,persistantDecodedKey:t,planExpired:i}}]};this.host.persistProperties(a)}persistPlanData(e,t){const i={merge:[{objectName:"license",selector:void 0,properties:{planName:e,planExpired:t}}]};this.host.persistProperties(i)}performLicenseEnforcement(){this.licenseManager.getAvailableServicePlans().then((e=>{const t=e.isLicenseUnsupportedEnv?1:0,i=e.plans&&e.plans.length&&e.plans.filter((e=>e.spIdentifier.includes("ultimate_waterfall_api")&&(1===e.state||2===e.state))),a=i&&i.length>0;if(a){const e=i[0].spIdentifier.split(".").slice(1).join(".");this.persistPlanData(e,"No"),this.peristLicenseData("","","No")}if(a)r.Ltv(".watermark").remove();else{const e=this.visualSettings.license.licenseKey.value;e?this.DECODEANDVERIFYECDSASIGNATURE(this.publicKey)(e).then((i=>{if(console.log("Inside license enforcement",i),i){if(this.verifiedKey=i,!this.validateLicenseInfo(i))return r.Ubm(".watermark").attr("display","block"),this.peristLicenseData("",`License Key Expired on ${i.split(" ")[0]}`,"Yes"),this.persistPlanData("","Yes"),void this.displayUpgradeNotification(t);this.peristLicenseData(this.visualSettings.license.licenseKey.value,i,"No"),this.persistPlanData("","No"),r.Ltv(".watermark").remove(),this.licenseManager.clearLicenseNotification()}else this.verifiedKey="",this.peristLicenseData("","Invalid License Key","Yes"),this.persistPlanData("","Yes"),this.displayUpgradeNotification(t),r.Ltv(".watermark").attr("display","block");this.prevCode=e})):(this.peristLicenseData("","No License Key","Yes"),this.displayUpgradeNotification(t),r.Ltv(".watermark").attr("display","block"))}})).catch((e=>{console.log(e)}))}validateLicenseInfo(e){const t=e.split(" ")[0].split("."),i=new Date(+t[2],+t[1]-1,+t[0]);return new Date<i}displayUpgradeNotification(e){this.licenseManager.notifyLicenseRequired(e).then((e=>{e&&console.log("License Plan Missing")})).catch((e=>{console.log("ERROR",e)}))}createLandingPage(){this.svg.selectAll("*").remove(),this.svg.append("image").attr("id","image0").attr("width",200).attr("height",200).attr("x",0).attr("y",0).attr("xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAflBMVEUAAAD////////+/v7+/v7vAAB5yRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////wQfMzMwAAABAg3HFAAAAJnRSTlMAP1++ntWlL39PH28/X56+xme29hcPV+YndzcHR4au3u6mltbOjtrdk0wAAAABYktHRAH/Ai3eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4wMUESEigMTk1AAABL1JREFUeNrt3NuWojgUBuDM0YDBoKAoqKCFM5P3f8HZB9QqdWnZ09Odqvr/m0INSb6wE1bftDEIgiAIgnzK/PLXh8uvnx3y288uiufyOyCRBZDYAkhsASS2ABJbAIktgMQWQGILILEFkNgCSGwBJLYAElsAiS2AxBZA/lP+vgoggAACCCCAAAIIIIAAAgggN/PHVQAB5GdA/rkMIIAAAggggAACCCCARAj58zKAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAgggPxjyA4P/BCm2ABJbAIktgMQWQGILILEFkNgCSGwBJLZ8LcjI2uTJftOxu/Gltdkznbhx+n0hWQiTJyE+hOtJuBD8M4sRQv7/Q6b27mrNQlF+MySxI/5TPuP+VkhZBGfuZL644XwvpApagcvF/PtBRlPHE1CIS8ZOF3oVwtg5HmfuFlO5GDn9LXVuaWrnGr6SjF5DysX6+KxGyUIvG+dqaeB4dRYhbJxLqefhTpc5/i2VvnmBSh5CxzpO6AFkvg0htIlCbEcfQrGhr3dBQv1PCr7opsZsQtjzPbQ9FqblPWK11ekxMGTMXcjRscz5txeeK+2Glr+iz9IPxx4fYNrTp77mb7hHey6RZi9jZ++A6IQLvY/m0NIEw5SHOEIONEhFl7VZhlAZqeyueQuZnSGFfkOzLyu97EYXkHAB6bXZDQitcsGrsXgIoZ0QbFO/DAswLaWrrS677pEyo7KaUDEYk8t3xD0YhcgzbUNRnyFhn5Y0s50xtJqztNkI4Q2Ee8vOW4rKoXDz1Q3ImtawNCNdv/sQqtZO/5w2+1LHPEEka2mQSW3lst4nCK3a2LyCpNKu5R0duM6p4fwuxMrC8Ka8hOy1a5pK+Qiy0uUfKaSeSFW/hax3+uipQVPQ2tCcenOGjM+FJTNrtbtg5rpGDF3fhQyfkmvILBxTP4IMq5HKfTXXt8/fQqa8hXyvUhrTrXSZBgjdU5WvIS/H+ZZnSHaENHcg7hriTxD3CDLV7VbLfVtZ3IvSaqVnLS0ebDO8CRVCG+R1BTot56UYKilBbihPpNMfriEHPl2kvBUyHDuTczvJfQgfM3Ppi+6jLZ9IVwyZ6VnBi6ubfaKsWSfFOEC2uoC85+thj6yli15+m8rDpob8KJbyA0M2w10KWWmtalcLGb3RClgdD/bmIYQn39s8HJ/kLNl3CiFbZSdrXtddMhnOZ+q6kKkOEFq4wlLGZl7wbOTUnpGaq88VoZhsKn35UPPqwO+soHXQbfarAcIn59a+yIEs26u3/bAn6eZ+nNl88hiykHN/L/ct9OXmTxuWn+xKd3qlECp8KZ4BcizilouzaHhmubxU80YLXa5Lc+y73wqkLPT0GN4jMkSx08e01fE6GW89vIreATFu1s4yc/Arvs933jZrvzPDhz0V+cpXPjOZNKAH5b0etjvvS/4koRu2Ha+n96N01+a2kTb1Jm/9VMdbUze2SbzUynLb9ruEmx9kNX21dcM25/FoQhsdb2591frD8h2QaGJP2+12AAHkq0OctXf/JfdhII8CSGwBJLYAElsAiS2AxJYvAPlw+eQQBEEQBEE+fP4F9XsrDn6n8IIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDMtMjBUMTc6MzM6MzQrMDM6MDBZpL1TAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAzLTIwVDE3OjMzOjM0KzAzOjAwKPkF7wAAAABJRU5ErkJggg==");const e=this.svg.append("text").attr("font-size",15).attr("x",210).attr("y",30).style("transform","translate(210px,0)");e.append("tspan").attr("x",0).attr("dy","0em").text("The free features without watermark are: "),e.append("tspan").attr("x",20).attr("dy","1.2em").text("• 2 major chart options without watermark"),e.append("tspan").attr("x",20).attr("dy","1.2em").text("• Category, Value field"),e.append("tspan").attr("x",20).attr("dy","1.2em").text("• Category, Value field and 1 Reference Field"),e.append("tspan").attr("x",0).attr("dy","1.2em").text("Basic features are free and do not have a watermark. Once an"),e.append("tspan").attr("x",0).attr("dy","1.2em").text(" advanced Feature was used, a watermark appear. Change the "),e.append("tspan").attr("x",0).attr("dy","1.2em").text('setting back and use in same setting pane "Revert to default" in'),e.append("tspan").attr("x",0).attr("dy","1.2em").text("order to remove the watermark again if no advanced setting is used."),e.append("tspan").attr("x",0).attr("dy","1.2em").text("Order your full trial license here:"),e.append("tspan").attr("x",0).attr("dy","1.2em").text("license@dataviz.boutique")}}},2902:(e,t,i)=>{function a(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}i.d(t,{A:()=>a})},2016:(e,t,i)=>{i.d(t,{Ay:()=>o});var a=i(2902),n=i(6037),r=i(3131);const s=(0,n.A)(a.A),l=s.right,o=(s.left,(0,n.A)(r.A).center,l)},6037:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(2902),n=i(1180);function r(e){let t,i,r;function l(e,a,n=0,r=e.length){if(n<r){if(0!==t(a,a))return r;do{const t=n+r>>>1;i(e[t],a)<0?n=t+1:r=t}while(n<r)}return n}return 2!==e.length?(t=a.A,i=(t,i)=>(0,a.A)(e(t),i),r=(t,i)=>e(t)-i):(t=e===a.A||e===n.A?e:s,i=e,r=e),{left:l,center:function(e,t,i=0,a=e.length){const n=l(e,t,i,a-1);return n>i&&r(e[n-1],t)>-r(e[n],t)?n-1:n},right:function(e,a,n=0,r=e.length){if(n<r){if(0!==t(a,a))return r;do{const t=n+r>>>1;i(e[t],a)<=0?n=t+1:r=t}while(n<r)}return n}}}function s(){return 0}},1180:(e,t,i)=>{function a(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}i.d(t,{A:()=>a})},1388:(e,t,i)=>{i.d(t,{T9:()=>a.A,jk:()=>n.A});var a=i(846),n=i(9216)},846:(e,t,i)=>{function a(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i<t||void 0===i&&t>=t)&&(i=t);else{let a=-1;for(let n of e)null!=(n=t(n,++a,e))&&(i<n||void 0===i&&n>=n)&&(i=n)}return i}i.d(t,{A:()=>a})},9216:(e,t,i)=>{function a(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i>t||void 0===i&&t>=t)&&(i=t);else{let a=-1;for(let n of e)null!=(n=t(n,++a,e))&&(i>n||void 0===i&&n>=n)&&(i=n)}return i}i.d(t,{A:()=>a})},3131:(e,t,i)=>{function a(e){return null===e?NaN:+e}i.d(t,{A:()=>a})},6561:(e,t,i)=>{function a(e,t,i){e=+e,t=+t,i=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+i;for(var a=-1,n=0|Math.max(0,Math.ceil((t-e)/i)),r=new Array(n);++a<n;)r[a]=e+a*i;return r}i.d(t,{A:()=>a})},6946:(e,t,i)=>{i.d(t,{Ay:()=>l,lq:()=>o,sG:()=>u});const a=Math.sqrt(50),n=Math.sqrt(10),r=Math.sqrt(2);function s(e,t,i){const l=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(l)),u=l/Math.pow(10,o),c=u>=a?10:u>=n?5:u>=r?2:1;let h,d,g;return o<0?(g=Math.pow(10,-o)/c,h=Math.round(e*g),d=Math.round(t*g),h/g<e&&++h,d/g>t&&--d,g=-g):(g=Math.pow(10,o)*c,h=Math.round(e/g),d=Math.round(t/g),h*g<e&&++h,d*g>t&&--d),d<h&&.5<=i&&i<2?s(e,t,2*i):[h,d,g]}function l(e,t,i){if(!((i=+i)>0))return[];if((e=+e)==(t=+t))return[e];const a=t<e,[n,r,l]=a?s(t,e,i):s(e,t,i);if(!(r>=n))return[];const o=r-n+1,u=new Array(o);if(a)if(l<0)for(let e=0;e<o;++e)u[e]=(r-e)/-l;else for(let e=0;e<o;++e)u[e]=(r-e)*l;else if(l<0)for(let e=0;e<o;++e)u[e]=(n+e)/-l;else for(let e=0;e<o;++e)u[e]=(n+e)*l;return u}function o(e,t,i){return s(e=+e,t=+t,i=+i)[2]}function u(e,t,i){i=+i;const a=(t=+t)<(e=+e),n=a?o(t,e,i):o(e,t,i);return(a?-1:1)*(n<0?1/-n:n)}},5267:(e,t,i)=>{i.d(t,{V4:()=>p,l7:()=>f});var a=i(2752),n=1,r=2,s=3,l=4,o=1e-6;function u(e){return"translate("+e+",0)"}function c(e){return"translate(0,"+e+")"}function h(e){return t=>+e(t)}function d(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),i=>+e(i)+t}function g(){return!this.__axis}function m(e,t){var i=[],m=null,f=null,p=6,v=6,y=3,b="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,S=e===n||e===l?-1:1,x=e===l||e===r?"x":"y",A=e===n||e===s?u:c;function w(u){var c=null==m?t.ticks?t.ticks.apply(t,i):t.domain():m,w=null==f?t.tickFormat?t.tickFormat.apply(t,i):a.A:f,T=Math.max(p,0)+y,N=t.range(),C=+N[0]+b,D=+N[N.length-1]+b,M=(t.bandwidth?d:h)(t.copy(),b),_=u.selection?u.selection():u,k=_.selectAll(".domain").data([null]),F=_.selectAll(".tick").data(c,t).order(),z=F.exit(),E=F.enter().append("g").attr("class","tick"),O=F.select("line"),L=F.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(E),O=O.merge(E.append("line").attr("stroke","currentColor").attr(x+"2",S*p)),L=L.merge(E.append("text").attr("fill","currentColor").attr(x,S*T).attr("dy",e===n?"0em":e===s?"0.71em":"0.32em")),u!==_&&(k=k.transition(u),F=F.transition(u),O=O.transition(u),L=L.transition(u),z=z.transition(u).attr("opacity",o).attr("transform",(function(e){return isFinite(e=M(e))?A(e+b):this.getAttribute("transform")})),E.attr("opacity",o).attr("transform",(function(e){var t=this.parentNode.__axis;return A((t&&isFinite(t=t(e))?t:M(e))+b)}))),z.remove(),k.attr("d",e===l||e===r?v?"M"+S*v+","+C+"H"+b+"V"+D+"H"+S*v:"M"+b+","+C+"V"+D:v?"M"+C+","+S*v+"V"+b+"H"+D+"V"+S*v:"M"+C+","+b+"H"+D),F.attr("opacity",1).attr("transform",(function(e){return A(M(e)+b)})),O.attr(x+"2",S*p),L.attr(x,S*T).text(w),_.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===r?"start":e===l?"end":"middle"),_.each((function(){this.__axis=M}))}return w.scale=function(e){return arguments.length?(t=e,w):t},w.ticks=function(){return i=Array.from(arguments),w},w.tickArguments=function(e){return arguments.length?(i=null==e?[]:Array.from(e),w):i.slice()},w.tickValues=function(e){return arguments.length?(m=null==e?null:Array.from(e),w):m&&m.slice()},w.tickFormat=function(e){return arguments.length?(f=e,w):f},w.tickSize=function(e){return arguments.length?(p=v=+e,w):p},w.tickSizeInner=function(e){return arguments.length?(p=+e,w):p},w.tickSizeOuter=function(e){return arguments.length?(v=+e,w):v},w.tickPadding=function(e){return arguments.length?(y=+e,w):y},w.offset=function(e){return arguments.length?(b=+e,w):b},w}function f(e){return m(s,e)}function p(e){return m(l,e)}},2752:(e,t,i)=>{function a(e){return e}i.d(t,{A:()=>a})},312:(e,t,i)=>{i.d(t,{V4:()=>a.V4,l7:()=>a.l7});var a=i(5267)},8965:(e,t,i)=>{i(9902);const{abs:a,max:n,min:r}=Math;function s(e){return{type:e}}["w","e"].map(s),["n","s"].map(s),["n","w","e","s","nw","ne","sw","se"].map(s)},3537:(e,t,i)=>{i(8965)},6957:(e,t,i)=>{i.d(t,{Ay:()=>S,Qh:()=>w});var a=i(871);function n(){}var r=.7,s=1/r,l="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=new RegExp(`^rgb\\(${l},${l},${l}\\)$`),d=new RegExp(`^rgb\\(${u},${u},${u}\\)$`),g=new RegExp(`^rgba\\(${l},${l},${l},${o}\\)$`),m=new RegExp(`^rgba\\(${u},${u},${u},${o}\\)$`),f=new RegExp(`^hsl\\(${o},${u},${u}\\)$`),p=new RegExp(`^hsla\\(${o},${u},${u},${o}\\)$`),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function S(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?x(t):3===i?new T(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?A(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?A(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new T(t[1],t[2],t[3],1):(t=d.exec(e))?new T(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=g.exec(e))?A(t[1],t[2],t[3],t[4]):(t=m.exec(e))?A(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?k(t[1],t[2]/100,t[3]/100,1):(t=p.exec(e))?k(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?x(v[e]):"transparent"===e?new T(NaN,NaN,NaN,0):null}function x(e){return new T(e>>16&255,e>>8&255,255&e,1)}function A(e,t,i,a){return a<=0&&(e=t=i=NaN),new T(e,t,i,a)}function w(e,t,i,a){return 1===arguments.length?((r=e)instanceof n||(r=S(r)),r?new T((r=r.rgb()).r,r.g,r.b,r.opacity):new T):new T(e,t,i,null==a?1:a);var r}function T(e,t,i,a){this.r=+e,this.g=+t,this.b=+i,this.opacity=+a}function N(){return`#${_(this.r)}${_(this.g)}${_(this.b)}`}function C(){const e=D(this.opacity);return`${1===e?"rgb(":"rgba("}${M(this.r)}, ${M(this.g)}, ${M(this.b)}${1===e?")":`, ${e})`}`}function D(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function M(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _(e){return((e=M(e))<16?"0":"")+e.toString(16)}function k(e,t,i,a){return a<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new z(e,t,i,a)}function F(e){if(e instanceof z)return new z(e.h,e.s,e.l,e.opacity);if(e instanceof n||(e=S(e)),!e)return new z;if(e instanceof z)return e;var t=(e=e.rgb()).r/255,i=e.g/255,a=e.b/255,r=Math.min(t,i,a),s=Math.max(t,i,a),l=NaN,o=s-r,u=(s+r)/2;return o?(l=t===s?(i-a)/o+6*(i<a):i===s?(a-t)/o+2:(t-i)/o+4,o/=u<.5?s+r:2-s-r,l*=60):o=u>0&&u<1?0:l,new z(l,o,u,e.opacity)}function z(e,t,i,a){this.h=+e,this.s=+t,this.l=+i,this.opacity=+a}function E(e){return(e=(e||0)%360)<0?e+360:e}function O(e){return Math.max(0,Math.min(1,e||0))}function L(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}(0,a.A)(n,S,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return F(this).formatHsl()},formatRgb:b,toString:b}),(0,a.A)(T,w,(0,a.X)(n,{brighter(e){return e=null==e?s:Math.pow(s,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?r:Math.pow(r,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new T(M(this.r),M(this.g),M(this.b),D(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N,formatHex:N,formatHex8:function(){return`#${_(this.r)}${_(this.g)}${_(this.b)}${_(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:C,toString:C})),(0,a.A)(z,(function(e,t,i,a){return 1===arguments.length?F(e):new z(e,t,i,null==a?1:a)}),(0,a.X)(n,{brighter(e){return e=null==e?s:Math.pow(s,e),new z(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?r:Math.pow(r,e),new z(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*t,n=2*i-a;return new T(L(e>=240?e-240:e+120,n,a),L(e,n,a),L(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new z(E(this.h),O(this.s),O(this.l),D(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=D(this.opacity);return`${1===e?"hsl(":"hsla("}${E(this.h)}, ${100*O(this.s)}%, ${100*O(this.l)}%${1===e?")":`, ${e})`}`}}))},871:(e,t,i)=>{function a(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function n(e,t){var i=Object.create(e.prototype);for(var a in t)i[a]=t[a];return i}i.d(t,{A:()=>a,X:()=>n})},1089:(e,t,i)=>{i.d(t,{A:()=>o});var a={value:()=>{}};function n(){for(var e,t=0,i=arguments.length,a={};t<i;++t){if(!(e=arguments[t]+"")||e in a||/[\s.]/.test(e))throw new Error("illegal type: "+e);a[e]=[]}return new r(a)}function r(e){this._=e}function s(e,t){for(var i,a=0,n=e.length;a<n;++a)if((i=e[a]).name===t)return i.value}function l(e,t,i){for(var n=0,r=e.length;n<r;++n)if(e[n].name===t){e[n]=a,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=i&&e.push({name:t,value:i}),e}r.prototype=n.prototype={constructor:r,on:function(e,t){var i,a,n=this._,r=(a=n,(e+"").trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");if(i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),e&&!a.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,u=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(i=(e=r[o]).type)n[i]=l(n[i],e.name,t);else if(null==t)for(i in n)n[i]=l(n[i],e.name,null);return this}for(;++o<u;)if((i=(e=r[o]).type)&&(i=s(n[i],e.name)))return i},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new r(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,a,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(a=this._[e]).length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],n=0,r=a.length;n<r;++n)a[n].value.apply(t,i)}};const o=n},2101:(e,t,i)=>{function a(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}i.d(t,{wq:()=>a})},8701:(e,t,i)=>{var a,n,r,s;i.d(t,{GP:()=>n,s:()=>r}),s={thousands:",",grouping:[3],currency:["$",""]},a=(0,i(6410).A)(s),n=a.format,r=a.formatPrefix},7235:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(5204);function n(e){return(e=(0,a.f)(Math.abs(e)))?e[1]:NaN}},5204:(e,t,i)=>{function a(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function n(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,a=e.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+e.slice(i+1)]}i.d(t,{A:()=>a,f:()=>n})},7168:(e,t,i)=>{function a(e,t){return function(i,a){for(var n=i.length,r=[],s=0,l=e[0],o=0;n>0&&l>0&&(o+l+1>a&&(l=Math.max(1,a-o)),r.push(i.substring(n-=l,n+l)),!((o+=l+1)>a));)l=e[s=(s+1)%e.length];return r.reverse().join(t)}}i.d(t,{A:()=>a})},1728:(e,t,i)=>{function a(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}i.d(t,{A:()=>a})},3520:(e,t,i)=>{i.d(t,{A:()=>r,u:()=>a});var a,n=i(5204);function r(e,t){var i=(0,n.f)(e,t);if(!i)return e+"";var r=i[0],s=i[1],l=s-(a=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,o=r.length;return l===o?r:l>o?r+new Array(l-o+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+(0,n.f)(e,Math.max(0,t+l-1))[0]}},3554:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(5204);function n(e,t){var i=(0,a.f)(e,t);if(!i)return e+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}},1631:(e,t,i)=>{i.d(t,{A:()=>n});var a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n(e){if(!(t=a.exec(e)))throw new Error("invalid format: "+e);var t;return new r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function r(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}n.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},6715:(e,t,i)=>{function a(e){e:for(var t,i=e.length,a=1,n=-1;a<i;++a)switch(e[a]){case".":n=t=a;break;case"0":0===n&&(n=a),t=a;break;default:if(!+e[a])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}i.d(t,{A:()=>a})},1866:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(5204),n=i(3520),r=i(3554);const s={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a.A,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>(0,r.A)(100*e,t),r:r.A,s:n.A,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}},9986:(e,t,i)=>{function a(e){return e}i.d(t,{A:()=>a})},6410:(e,t,i)=>{i.d(t,{A:()=>g});var a=i(7235),n=i(7168),r=i(1728),s=i(1631),l=i(6715),o=i(1866),u=i(3520),c=i(9986),h=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function g(e){var t=void 0===e.grouping||void 0===e.thousands?c.A:(0,n.A)(h.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",g=void 0===e.currency?"":e.currency[1]+"",m=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?c.A:(0,r.A)(h.call(e.numerals,String)),p=void 0===e.percent?"%":e.percent+"",v=void 0===e.minus?"−":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function b(e){var a=(e=(0,s.A)(e)).fill,n=e.align,r=e.sign,c=e.symbol,h=e.zero,b=e.width,S=e.comma,x=e.precision,A=e.trim,w=e.type;"n"===w?(S=!0,w="g"):o.A[w]||(void 0===x&&(x=12),A=!0,w="g"),(h||"0"===a&&"="===n)&&(h=!0,a="0",n="=");var T="$"===c?i:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",N="$"===c?g:/[%p]/.test(w)?p:"",C=o.A[w],D=/[defgprs%]/.test(w);function M(e){var i,s,o,c=T,g=N;if("c"===w)g=C(e)+g,e="";else{var p=(e=+e)<0||1/e<0;if(e=isNaN(e)?y:C(Math.abs(e),x),A&&(e=(0,l.A)(e)),p&&0==+e&&"+"!==r&&(p=!1),c=(p?"("===r?r:v:"-"===r||"("===r?"":r)+c,g=("s"===w?d[8+u.u/3]:"")+g+(p&&"("===r?")":""),D)for(i=-1,s=e.length;++i<s;)if(48>(o=e.charCodeAt(i))||o>57){g=(46===o?m+e.slice(i+1):e.slice(i))+g,e=e.slice(0,i);break}}S&&!h&&(e=t(e,1/0));var M=c.length+e.length+g.length,_=M<b?new Array(b-M+1).join(a):"";switch(S&&h&&(e=t(_+e,_.length?b-g.length:1/0),_=""),n){case"<":e=c+e+g+_;break;case"=":e=c+_+e+g;break;case"^":e=_.slice(0,M=_.length>>1)+c+e+g+_.slice(M);break;default:e=_+c+e+g}return f(e)}return x=void 0===x?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),M.toString=function(){return e+""},M}return{format:b,formatPrefix:function(e,t){var i=b(((e=(0,s.A)(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor((0,a.A)(t)/3))),r=Math.pow(10,-n),l=d[8+n/3];return function(e){return i(r*e)+l}}}}},1734:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(7235);function n(e){return Math.max(0,-(0,a.A)(Math.abs(e)))}},7590:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(7235);function n(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,a.A)(t)/3)))-(0,a.A)(Math.abs(e)))}},9460:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(7235);function n(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,a.A)(t)-(0,a.A)(e))+1}},8079:(e,t,i)=>{i.d(t,{$:()=>n});var a=i(8503);function n(e,t){var i,n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),l=new Array(n);for(i=0;i<r;++i)s[i]=(0,a.A)(e[i],t[i]);for(;i<n;++i)l[i]=t[i];return function(e){for(i=0;i<r;++i)l[i]=s[i](e);return l}}},6160:(e,t,i)=>{function a(e,t,i,a,n){var r=e*e,s=r*e;return((1-3*e+3*r-s)*t+(4-6*r+3*s)*i+(1+3*e+3*r-3*s)*a+s*n)/6}function n(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),r=e[n],s=e[n+1],l=n>0?e[n-1]:2*r-s,o=n<t-1?e[n+2]:2*s-r;return a((i-n/t)*t,l,r,s,o)}}i.d(t,{A:()=>n,H:()=>a})},9804:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(6160);function n(e){var t=e.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*t),r=e[(n+t-1)%t],s=e[n%t],l=e[(n+1)%t],o=e[(n+2)%t];return(0,a.H)((i-n/t)*t,r,s,l,o)}}},4709:(e,t,i)=>{i.d(t,{Ay:()=>r,uN:()=>n});var a=i(3116);function n(e){return 1==(e=+e)?r:function(t,i){return i-t?function(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(a){return Math.pow(e+a*t,i)}}(t,i,e):(0,a.A)(isNaN(t)?i:t)}}function r(e,t){var i=t-e;return i?function(e,t){return function(i){return e+i*t}}(e,i):(0,a.A)(isNaN(e)?t:e)}},3116:(e,t,i)=>{i.d(t,{A:()=>a});const a=e=>()=>e},8172:(e,t,i)=>{function a(e,t){var i=new Date;return e=+e,t=+t,function(a){return i.setTime(e*(1-a)+t*a),i}}i.d(t,{A:()=>a})},8981:(e,t,i)=>{function a(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}i.d(t,{A:()=>a})},128:(e,t,i)=>{function a(e,t){t||(t=[]);var i,a=e?Math.min(t.length,e.length):0,n=t.slice();return function(r){for(i=0;i<a;++i)n[i]=e[i]*(1-r)+t[i]*r;return n}}function n(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}i.d(t,{A:()=>a,p:()=>n})},4287:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(8503);function n(e,t){var i,n={},r={};for(i in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)i in e?n[i]=(0,a.A)(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}},1197:(e,t,i)=>{i.d(t,{Ay:()=>l});var a=i(6957),n=i(6160),r=i(9804),s=i(4709);const l=function e(t){var i=(0,s.uN)(t);function n(e,t){var n=i((e=(0,a.Qh)(e)).r,(t=(0,a.Qh)(t)).r),r=i(e.g,t.g),l=i(e.b,t.b),o=(0,s.Ay)(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=l(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function o(e){return function(t){var i,n,r=t.length,s=new Array(r),l=new Array(r),o=new Array(r);for(i=0;i<r;++i)n=(0,a.Qh)(t[i]),s[i]=n.r||0,l[i]=n.g||0,o[i]=n.b||0;return s=e(s),l=e(l),o=e(o),n.opacity=1,function(e){return n.r=s(e),n.g=l(e),n.b=o(e),n+""}}}o(n.A),o(r.A)},9770:(e,t,i)=>{function a(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}i.d(t,{A:()=>a})},7737:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(8981),n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(n.source,"g");function s(e,t){var i,s,l,o=n.lastIndex=r.lastIndex=0,u=-1,c=[],h=[];for(e+="",t+="";(i=n.exec(e))&&(s=r.exec(t));)(l=s.index)>o&&(l=t.slice(o,l),c[u]?c[u]+=l:c[++u]=l),(i=i[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,h.push({i:u,x:(0,a.A)(i,s)})),o=r.lastIndex;return o<t.length&&(l=t.slice(o),c[u]?c[u]+=l:c[++u]=l),c.length<2?h[0]?function(e){return function(t){return e(t)+""}}(h[0].x):function(e){return function(){return e}}(t):(t=h.length,function(e){for(var i,a=0;a<t;++a)c[(i=h[a]).i]=i.x(e);return c.join("")})}},1852:(e,t,i)=>{i.d(t,{A:()=>r,D:()=>n});var a=180/Math.PI,n={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function r(e,t,i,n,r,s){var l,o,u;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(u=e*i+t*n)&&(i-=e*u,n-=t*u),(o=Math.sqrt(i*i+n*n))&&(i/=o,n/=o,u/=o),e*n<t*i&&(e=-e,t=-t,u=-u,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*a,skewX:Math.atan(u)*a,scaleX:l,scaleY:o}}},1957:(e,t,i)=>{i.d(t,{I:()=>l,T:()=>s});var a=i(8981),n=i(1226);function r(e,t,i,n){function r(e){return e.length?e.pop()+" ":""}return function(s,l){var o=[],u=[];return s=e(s),l=e(l),function(e,n,r,s,l,o){if(e!==r||n!==s){var u=l.push("translate(",null,t,null,i);o.push({i:u-4,x:(0,a.A)(e,r)},{i:u-2,x:(0,a.A)(n,s)})}else(r||s)&&l.push("translate("+r+t+s+i)}(s.translateX,s.translateY,l.translateX,l.translateY,o,u),function(e,t,i,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:i.push(r(i)+"rotate(",null,n)-2,x:(0,a.A)(e,t)})):t&&i.push(r(i)+"rotate("+t+n)}(s.rotate,l.rotate,o,u),function(e,t,i,s){e!==t?s.push({i:i.push(r(i)+"skewX(",null,n)-2,x:(0,a.A)(e,t)}):t&&i.push(r(i)+"skewX("+t+n)}(s.skewX,l.skewX,o,u),function(e,t,i,n,s,l){if(e!==i||t!==n){var o=s.push(r(s)+"scale(",null,",",null,")");l.push({i:o-4,x:(0,a.A)(e,i)},{i:o-2,x:(0,a.A)(t,n)})}else 1===i&&1===n||s.push(r(s)+"scale("+i+","+n+")")}(s.scaleX,s.scaleY,l.scaleX,l.scaleY,o,u),s=l=null,function(e){for(var t,i=-1,a=u.length;++i<a;)o[(t=u[i]).i]=t.x(e);return o.join("")}}}var s=r(n.P,"px, ","px)","deg)"),l=r(n.i,", ",")",")")},1226:(e,t,i)=>{i.d(t,{P:()=>r,i:()=>s});var a,n=i(1852);function r(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?n.D:(0,n.A)(t.a,t.b,t.c,t.d,t.e,t.f)}function s(e){return null==e?n.D:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",e),(e=a.transform.baseVal.consolidate())?(e=e.matrix,(0,n.A)(e.a,e.b,e.c,e.d,e.e,e.f)):n.D)}},8503:(e,t,i)=>{i.d(t,{A:()=>d});var a=i(6957),n=i(1197),r=i(8079),s=i(8172),l=i(8981),o=i(4287),u=i(7737),c=i(3116),h=i(128);function d(e,t){var i,d=typeof t;return null==t||"boolean"===d?(0,c.A)(t):("number"===d?l.A:"string"===d?(i=(0,a.Ay)(t))?(t=i,n.Ay):u.A:t instanceof a.Ay?n.Ay:t instanceof Date?s.A:(0,h.p)(t)?h.A:Array.isArray(t)?r.$:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?o.A:l.A)(e,t)}},1392:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(6561),n=i(9065),r=i(106);function s(){var e,t,i=(0,r.A)().unknown(void 0),l=i.domain,o=i.range,u=0,c=1,h=!1,d=0,g=0,m=.5;function f(){var i=l().length,n=c<u,r=n?c:u,s=n?u:c;e=(s-r)/Math.max(1,i-d+2*g),h&&(e=Math.floor(e)),r+=(s-r-e*(i-d))*m,t=e*(1-d),h&&(r=Math.round(r),t=Math.round(t));var f=(0,a.A)(i).map((function(t){return r+e*t}));return o(n?f.reverse():f)}return delete i.unknown,i.domain=function(e){return arguments.length?(l(e),f()):l()},i.range=function(e){return arguments.length?([u,c]=e,u=+u,c=+c,f()):[u,c]},i.rangeRound=function(e){return[u,c]=e,u=+u,c=+c,h=!0,f()},i.bandwidth=function(){return t},i.step=function(){return e},i.round=function(e){return arguments.length?(h=!!e,f()):h},i.padding=function(e){return arguments.length?(d=Math.min(1,g=+e),f()):d},i.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),f()):d},i.paddingOuter=function(e){return arguments.length?(g=+e,f()):g},i.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),f()):m},i.copy=function(){return s(l(),[u,c]).round(h).paddingInner(d).paddingOuter(g).align(m)},n.C.apply(f(),arguments)}},9279:(e,t,i)=>{function a(e){return function(){return e}}i.d(t,{A:()=>a})},1052:(e,t,i)=>{i.d(t,{Ay:()=>f,C:()=>m});var a=i(2016),n=i(8503),r=i(8981),s=i(9770),l=i(9279),o=i(414),u=[0,1];function c(e){return e}function h(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:(0,l.A)(isNaN(t)?NaN:.5)}function d(e,t,i){var a=e[0],n=e[1],r=t[0],s=t[1];return n<a?(a=h(n,a),r=i(s,r)):(a=h(a,n),r=i(r,s)),function(e){return r(a(e))}}function g(e,t,i){var n=Math.min(e.length,t.length)-1,r=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)r[l]=h(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(t){var i=(0,a.Ay)(e,t,1,n)-1;return s[i](r[i](t))}}function m(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function f(){return function(){var e,t,i,a,l,h,m=u,f=u,p=n.A,v=c;function y(){var e,t,i,n=Math.min(m.length,f.length);return v!==c&&(e=m[0],t=m[n-1],e>t&&(i=e,e=t,t=i),v=function(i){return Math.max(e,Math.min(t,i))}),a=n>2?g:d,l=h=null,b}function b(t){return null==t||isNaN(t=+t)?i:(l||(l=a(m.map(e),f,p)))(e(v(t)))}return b.invert=function(i){return v(t((h||(h=a(f,m.map(e),r.A)))(i)))},b.domain=function(e){return arguments.length?(m=Array.from(e,o.A),y()):m.slice()},b.range=function(e){return arguments.length?(f=Array.from(e),y()):f.slice()},b.rangeRound=function(e){return f=Array.from(e),p=s.A,y()},b.clamp=function(e){return arguments.length?(v=!!e||c,y()):v!==c},b.interpolate=function(e){return arguments.length?(p=e,y()):p},b.unknown=function(e){return arguments.length?(i=e,b):i},function(i,a){return e=i,t=a,y()}}()(c,c)}},1303:(e,t,i)=>{i.d(t,{WH:()=>a.A,m4:()=>n.A});var a=i(1392),n=i(6502)},9065:(e,t,i)=>{function a(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}i.d(t,{C:()=>a})},6502:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(6946),n=i(1052),r=i(9065),s=i(8993);function l(){var e=(0,n.Ay)();return e.copy=function(){return(0,n.C)(e,l())},r.C.apply(e,arguments),function(e){var t=e.domain;return e.ticks=function(e){var i=t();return(0,a.Ay)(i[0],i[i.length-1],null==e?10:e)},e.tickFormat=function(e,i){var a=t();return(0,s.A)(a[0],a[a.length-1],null==e?10:e,i)},e.nice=function(i){null==i&&(i=10);var n,r,s=t(),l=0,o=s.length-1,u=s[l],c=s[o],h=10;for(c<u&&(r=u,u=c,c=r,r=l,l=o,o=r);h-- >0;){if((r=(0,a.lq)(u,c,i))===n)return s[l]=u,s[o]=c,t(s);if(r>0)u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r}n=r}return e},e}(e)}},414:(e,t,i)=>{function a(e){return+e}i.d(t,{A:()=>a})},106:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(4119),n=i(9065);const r=Symbol("implicit");function s(){var e=new a.B,t=[],i=[],l=r;function o(a){let n=e.get(a);if(void 0===n){if(l!==r)return l;e.set(a,n=t.push(a)-1)}return i[n%i.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new a.B;for(const a of i)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(e){return arguments.length?(i=Array.from(e),o):i.slice()},o.unknown=function(e){return arguments.length?(l=e,o):l},o.copy=function(){return s(t,i).unknown(l)},n.C.apply(o,arguments),o}},8993:(e,t,i)=>{i.d(t,{A:()=>u});var a=i(6946),n=i(1631),r=i(7590),s=i(8701),l=i(9460),o=i(1734);function u(e,t,i,u){var c,h=(0,a.sG)(e,t,i);switch((u=(0,n.A)(null==u?",f":u)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(t));return null!=u.precision||isNaN(c=(0,r.A)(h,d))||(u.precision=c),(0,s.s)(u,d);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(c=(0,l.A)(h,Math.max(Math.abs(e),Math.abs(t))))||(u.precision=c-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(c=(0,o.A)(h))||(u.precision=c-2*("%"===u.type))}return(0,s.GP)(u)}},5478:(e,t,i)=>{function a(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}i.d(t,{A:()=>a})},9731:(e,t,i)=>{function a(e){return function(){return e}}i.d(t,{A:()=>a})},3663:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(7268),n=i(7947);function r(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===n.g&&t.documentElement.namespaceURI===n.g?t.createElement(e):t.createElementNS(i,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l(e){var t=(0,a.A)(e);return(t.local?s:r)(t)}},7875:(e,t,i)=>{i.d(t,{Lt:()=>a.A,Ub:()=>n.A});var a=i(183),n=i(4984)},6541:(e,t,i)=>{function a(e){return function(){return this.matches(e)}}function n(e){return function(t){return t.matches(e)}}i.d(t,{A:()=>a,j:()=>n})},7268:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(7947);function n(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),a.A.hasOwnProperty(t)?{space:a.A[t],local:e}:e}},7947:(e,t,i)=>{i.d(t,{A:()=>n,g:()=>a});var a="http://www.w3.org/1999/xhtml";const n={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},183:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(1882);function n(e){return"string"==typeof e?new a.LN([[document.querySelector(e)]],[document.documentElement]):new a.LN([[e]],a.zr)}},4984:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(5478),n=i(1882);function r(e){return"string"==typeof e?new n.LN([document.querySelectorAll(e)],[document.documentElement]):new n.LN([(0,a.A)(e)],n.zr)}},8072:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(3663);function n(e){var t="function"==typeof e?e:(0,a.A)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}},7339:(e,t,i)=>{i.d(t,{A:()=>c});var a=i(7268);function n(e){return function(){this.removeAttribute(e)}}function r(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s(e,t){return function(){this.setAttribute(e,t)}}function l(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function o(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function u(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function c(e,t){var i=(0,a.A)(e);if(arguments.length<2){var c=this.node();return i.local?c.getAttributeNS(i.space,i.local):c.getAttribute(i)}return this.each((null==t?i.local?r:n:"function"==typeof t?i.local?u:o:i.local?l:s)(i,t))}},5152:(e,t,i)=>{function a(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}i.d(t,{A:()=>a})},8235:(e,t,i)=>{function a(e){return e.trim().split(/^|\s+/)}function n(e){return e.classList||new r(e)}function r(e){this._node=e,this._names=a(e.getAttribute("class")||"")}function s(e,t){for(var i=n(e),a=-1,r=t.length;++a<r;)i.add(t[a])}function l(e,t){for(var i=n(e),a=-1,r=t.length;++a<r;)i.remove(t[a])}function o(e){return function(){s(this,e)}}function u(e){return function(){l(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?s:l)(this,e)}}function h(e,t){var i=a(e+"");if(arguments.length<2){for(var r=n(this.node()),s=-1,l=i.length;++s<l;)if(!r.contains(i[s]))return!1;return!0}return this.each(("function"==typeof t?c:t?o:u)(i,t))}i.d(t,{A:()=>h}),r.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},9063:(e,t,i)=>{function a(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r(e){return this.select(e?n:a)}i.d(t,{A:()=>r})},8664:(e,t,i)=>{i.d(t,{A:()=>u});var a=i(1882),n=i(4916),r=i(9731);function s(e,t,i,a,r,s){for(var l,o=0,u=t.length,c=s.length;o<c;++o)(l=t[o])?(l.__data__=s[o],a[o]=l):i[o]=new n.L(e,s[o]);for(;o<u;++o)(l=t[o])&&(r[o]=l)}function l(e,t,i,a,r,s,l){var o,u,c,h=new Map,d=t.length,g=s.length,m=new Array(d);for(o=0;o<d;++o)(u=t[o])&&(m[o]=c=l.call(u,u.__data__,o,t)+"",h.has(c)?r[o]=u:h.set(c,u));for(o=0;o<g;++o)c=l.call(e,s[o],o,s)+"",(u=h.get(c))?(a[o]=u,u.__data__=s[o],h.delete(c)):i[o]=new n.L(e,s[o]);for(o=0;o<d;++o)(u=t[o])&&h.get(m[o])===u&&(r[o]=u)}function o(e){return e.__data__}function u(e,t){if(!arguments.length)return Array.from(this,o);var i=t?l:s,n=this._parents,u=this._groups;"function"!=typeof e&&(e=(0,r.A)(e));for(var h=u.length,d=new Array(h),g=new Array(h),m=new Array(h),f=0;f<h;++f){var p=n[f],v=u[f],y=v.length,b=c(e.call(p,p&&p.__data__,f,n)),S=b.length,x=g[f]=new Array(S),A=d[f]=new Array(S);i(p,v,x,A,m[f]=new Array(y),b,t);for(var w,T,N=0,C=0;N<S;++N)if(w=x[N]){for(N>=C&&(C=N+1);!(T=A[C])&&++C<S;);w._next=T||null}}return(d=new a.LN(d,n))._enter=g,d._exit=m,d}function c(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}},9433:(e,t,i)=>{function a(e){return arguments.length?this.property("__data__",e):this.node().__data__}i.d(t,{A:()=>a})},202:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(6747);function n(e,t,i){var n=(0,a.A)(e),r=n.CustomEvent;"function"==typeof r?r=new r(t,i):(r=n.document.createEvent("Event"),i?(r.initEvent(t,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function r(e,t){return function(){return n(this,e,t)}}function s(e,t){return function(){return n(this,e,t.apply(this,arguments))}}function l(e,t){return this.each(("function"==typeof t?s:r)(e,t))}},2901:(e,t,i)=>{function a(e){for(var t=this._groups,i=0,a=t.length;i<a;++i)for(var n,r=t[i],s=0,l=r.length;s<l;++s)(n=r[s])&&e.call(n,n.__data__,s,r);return this}i.d(t,{A:()=>a})},807:(e,t,i)=>{function a(){return!this.node()}i.d(t,{A:()=>a})},4916:(e,t,i)=>{i.d(t,{A:()=>r,L:()=>s});var a=i(6732),n=i(1882);function r(){return new n.LN(this._enter||this._groups.map(a.A),this._parents)}function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},2672:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(6732),n=i(1882);function r(){return new n.LN(this._exit||this._groups.map(a.A),this._parents)}},9734:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(1882),n=i(6541);function r(e){"function"!=typeof e&&(e=(0,n.A)(e));for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s)for(var l,o=t[s],u=o.length,c=r[s]=[],h=0;h<u;++h)(l=o[h])&&e.call(l,l.__data__,h,o)&&c.push(l);return new a.LN(r,this._parents)}},697:(e,t,i)=>{function a(){this.innerHTML=""}function n(e){return function(){this.innerHTML=e}}function r(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function s(e){return arguments.length?this.each(null==e?a:("function"==typeof e?r:n)(e)):this.node().innerHTML}i.d(t,{A:()=>s})},1882:(e,t,i)=>{i.d(t,{Ay:()=>U,LN:()=>V,zr:()=>P});var a=i(7952),n=i(9713),r=i(7408),s=i(7867),l=i(9734),o=i(8664),u=i(4916),c=i(2672),h=i(5232),d=i(7610),g=i(4510),m=i(2920),f=i(5152),p=i(3455),v=i(4784),y=i(165),b=i(807),S=i(2901),x=i(7339),A=i(3683),w=i(461),T=i(8235),N=i(7499),C=i(697),D=i(2582),M=i(9215),_=i(8072),k=i(1429),F=i(3900),z=i(9063),E=i(9433),O=i(5233),L=i(202),B=i(1322),P=[null];function V(e,t){this._groups=e,this._parents=t}function I(){return new V([[document.documentElement]],P)}V.prototype=I.prototype={constructor:V,select:a.A,selectAll:n.A,selectChild:r.A,selectChildren:s.A,filter:l.A,data:o.A,enter:u.A,exit:c.A,join:h.A,merge:d.A,selection:function(){return this},order:g.A,sort:m.A,call:f.A,nodes:p.A,node:v.A,size:y.A,empty:b.A,each:S.A,attr:x.A,style:A.A,property:w.A,classed:T.A,text:N.A,html:C.A,raise:D.A,lower:M.A,append:_.A,insert:k.A,remove:F.A,clone:z.A,datum:E.A,on:O.A,dispatch:L.A,[Symbol.iterator]:B.A};const U=I},1429:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(3663),n=i(574);function r(){return null}function s(e,t){var i="function"==typeof e?e:(0,a.A)(e),s=null==t?r:"function"==typeof t?t:(0,n.A)(t);return this.select((function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)}))}},1322:(e,t,i)=>{function*a(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a,n=e[t],r=0,s=n.length;r<s;++r)(a=n[r])&&(yield a)}i.d(t,{A:()=>a})},5232:(e,t,i)=>{function a(e,t,i){var a=this.enter(),n=this,r=this.exit();return"function"==typeof e?(a=e(a))&&(a=a.selection()):a=a.append(e+""),null!=t&&(n=t(n))&&(n=n.selection()),null==i?r.remove():i(r),a&&n?a.merge(n).order():n}i.d(t,{A:()=>a})},9215:(e,t,i)=>{function a(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function n(){return this.each(a)}i.d(t,{A:()=>n})},7610:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(1882);function n(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,r=i.length,s=n.length,l=Math.min(r,s),o=new Array(r),u=0;u<l;++u)for(var c,h=i[u],d=n[u],g=h.length,m=o[u]=new Array(g),f=0;f<g;++f)(c=h[f]||d[f])&&(m[f]=c);for(;u<r;++u)o[u]=i[u];return new a.LN(o,this._parents)}},4784:(e,t,i)=>{function a(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a=e[t],n=0,r=a.length;n<r;++n){var s=a[n];if(s)return s}return null}i.d(t,{A:()=>a})},3455:(e,t,i)=>{function a(){return Array.from(this)}i.d(t,{A:()=>a})},5233:(e,t,i)=>{function a(e){return function(){var t=this.__on;if(t){for(var i,a=0,n=-1,r=t.length;a<r;++a)i=t[a],e.type&&i.type!==e.type||i.name!==e.name?t[++n]=i:this.removeEventListener(i.type,i.listener,i.options);++n?t.length=n:delete this.__on}}}function n(e,t,i){return function(){var a,n=this.__on,r=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(n)for(var s=0,l=n.length;s<l;++s)if((a=n[s]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=r,a.options=i),void(a.value=t);this.addEventListener(e.type,r,i),a={type:e.type,name:e.name,value:t,listener:r,options:i},n?n.push(a):this.__on=[a]}}function r(e,t,i){var r,s,l=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}}))}(e+""),o=l.length;if(!(arguments.length<2)){for(u=t?n:a,r=0;r<o;++r)this.each(u(l[r],t,i));return this}var u=this.node().__on;if(u)for(var c,h=0,d=u.length;h<d;++h)for(r=0,c=u[h];r<o;++r)if((s=l[r]).type===c.type&&s.name===c.name)return c.value}i.d(t,{A:()=>r})},4510:(e,t,i)=>{function a(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var a,n=e[t],r=n.length-1,s=n[r];--r>=0;)(a=n[r])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this}i.d(t,{A:()=>a})},461:(e,t,i)=>{function a(e){return function(){delete this[e]}}function n(e,t){return function(){this[e]=t}}function r(e,t){return function(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function s(e,t){return arguments.length>1?this.each((null==t?a:"function"==typeof t?r:n)(e,t)):this.node()[e]}i.d(t,{A:()=>s})},2582:(e,t,i)=>{function a(){this.nextSibling&&this.parentNode.appendChild(this)}function n(){return this.each(a)}i.d(t,{A:()=>n})},3900:(e,t,i)=>{function a(){var e=this.parentNode;e&&e.removeChild(this)}function n(){return this.each(a)}i.d(t,{A:()=>n})},7952:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(1882),n=i(574);function r(e){"function"!=typeof e&&(e=(0,n.A)(e));for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s)for(var l,o,u=t[s],c=u.length,h=r[s]=new Array(c),d=0;d<c;++d)(l=u[d])&&(o=e.call(l,l.__data__,d,u))&&("__data__"in l&&(o.__data__=l.__data__),h[d]=o);return new a.LN(r,this._parents)}},9713:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(1882),n=i(5478),r=i(747);function s(e){e="function"==typeof e?function(e){return function(){return(0,n.A)(e.apply(this,arguments))}}(e):(0,r.A)(e);for(var t=this._groups,i=t.length,s=[],l=[],o=0;o<i;++o)for(var u,c=t[o],h=c.length,d=0;d<h;++d)(u=c[d])&&(s.push(e.call(u,u.__data__,d,c)),l.push(u));return new a.LN(s,l)}},7408:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(6541),n=Array.prototype.find;function r(){return this.firstElementChild}function s(e){return this.select(null==e?r:function(e){return function(){return n.call(this.children,e)}}("function"==typeof e?e:(0,a.j)(e)))}},7867:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(6541),n=Array.prototype.filter;function r(){return Array.from(this.children)}function s(e){return this.selectAll(null==e?r:function(e){return function(){return n.call(this.children,e)}}("function"==typeof e?e:(0,a.j)(e)))}},165:(e,t,i)=>{function a(){let e=0;for(const t of this)++e;return e}i.d(t,{A:()=>a})},2920:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(1882);function n(e){function t(t,i){return t&&i?e(t.__data__,i.__data__):!t-!i}e||(e=r);for(var i=this._groups,n=i.length,s=new Array(n),l=0;l<n;++l){for(var o,u=i[l],c=u.length,h=s[l]=new Array(c),d=0;d<c;++d)(o=u[d])&&(h[d]=o);h.sort(t)}return new a.LN(s,this._parents).order()}function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},6732:(e,t,i)=>{function a(e){return new Array(e.length)}i.d(t,{A:()=>a})},3683:(e,t,i)=>{i.d(t,{A:()=>l,j:()=>o});var a=i(6747);function n(e){return function(){this.style.removeProperty(e)}}function r(e,t,i){return function(){this.style.setProperty(e,t,i)}}function s(e,t,i){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,i)}}function l(e,t,i){return arguments.length>1?this.each((null==t?n:"function"==typeof t?s:r)(e,t,null==i?"":i)):o(this.node(),e)}function o(e,t){return e.style.getPropertyValue(t)||(0,a.A)(e).getComputedStyle(e,null).getPropertyValue(t)}},7499:(e,t,i)=>{function a(){this.textContent=""}function n(e){return function(){this.textContent=e}}function r(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function s(e){return arguments.length?this.each(null==e?a:("function"==typeof e?r:n)(e)):this.node().textContent}i.d(t,{A:()=>s})},574:(e,t,i)=>{function a(){}function n(e){return null==e?a:function(){return this.querySelector(e)}}i.d(t,{A:()=>n})},747:(e,t,i)=>{function a(){return[]}function n(e){return null==e?a:function(){return this.querySelectorAll(e)}}i.d(t,{A:()=>n})},6747:(e,t,i)=>{function a(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}i.d(t,{A:()=>a})},1463:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(29);function n(e,t,i){var n=new a.M4;return t=null==t?0:+t,n.restart((i=>{n.stop(),e(i+t)}),t,i),n}},29:(e,t,i)=>{i.d(t,{M4:()=>f,O1:()=>p,tB:()=>g});var a,n,r=0,s=0,l=0,o=0,u=0,c=0,h="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function g(){return u||(d(m),u=h.now()+c)}function m(){u=0}function f(){this._call=this._time=this._next=null}function p(e,t,i){var a=new f;return a.restart(e,t,i),a}function v(){u=(o=h.now())+c,r=s=0;try{!function(){g(),++r;for(var e,t=a;t;)(e=u-t._time)>=0&&t._call.call(void 0,e),t=t._next;--r}()}finally{r=0,function(){for(var e,t,i=a,r=1/0;i;)i._call?(r>i._time&&(r=i._time),e=i,i=i._next):(t=i._next,i._next=null,i=e?e._next=t:a=t);n=e,b(r)}(),u=0}}function y(){var e=h.now(),t=e-o;t>1e3&&(c-=t,o=e)}function b(e){r||(s&&(s=clearTimeout(s)),e-u>24?(e<1/0&&(s=setTimeout(v,e-h.now()-c)),l&&(l=clearInterval(l))):(l||(o=h.now(),l=setInterval(y,1e3)),r=1,d(v)))}f.prototype=p.prototype={constructor:f,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?g():+i)+(null==t?0:+t),this._next||n===this||(n?n._next=this:a=this,n=this),this._call=e,this._time=i,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},9902:(e,t,i)=>{i(7111)},7045:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(3363);function n(e,t){var i,n,r,s=e.__transition,l=!0;if(s){for(r in t=null==t?null:t+"",s)(i=s[r]).name===t?(n=i.state>a.xo&&i.state<a.Op,i.state=a.hV,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete s[r]):l=!1;l&&delete e.__transition}}},7111:(e,t,i)=>{var a=i(1882),n=i(5868),r=i(4620);a.Ay.prototype.interrupt=n.A,a.Ay.prototype.transition=r.A},5868:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(7045);function n(e){return this.each((function(){(0,a.A)(this,e)}))}},4620:(e,t,i)=>{i.d(t,{A:()=>u});var a=i(9064),n=i(3363),r=i(2101),s=i(29),l={time:null,delay:0,duration:250,ease:r.wq};function o(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function u(e){var t,i;e instanceof a.eB?(t=e._id,e=e._name):(t=(0,a.Si)(),(i=l).time=(0,s.tB)(),e=null==e?null:e+"");for(var r=this._groups,u=r.length,c=0;c<u;++c)for(var h,d=r[c],g=d.length,m=0;m<g;++m)(h=d[m])&&(0,n.Ay)(h,e,t,m,d,i||o(h,t));return new a.eB(r,this._parents,e,t)}},7949:(e,t,i)=>{i.d(t,{A:()=>g});var a=i(1957),n=i(7268),r=i(123),s=i(7479);function l(e){return function(){this.removeAttribute(e)}}function o(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u(e,t,i){var a,n,r=i+"";return function(){var s=this.getAttribute(e);return s===r?null:s===a?n:n=t(a=s,i)}}function c(e,t,i){var a,n,r=i+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===a?n:n=t(a=s,i)}}function h(e,t,i){var a,n,r;return function(){var s,l,o=i(this);if(null!=o)return(s=this.getAttribute(e))===(l=o+"")?null:s===a&&l===n?r:(n=l,r=t(a=s,o));this.removeAttribute(e)}}function d(e,t,i){var a,n,r;return function(){var s,l,o=i(this);if(null!=o)return(s=this.getAttributeNS(e.space,e.local))===(l=o+"")?null:s===a&&l===n?r:(n=l,r=t(a=s,o));this.removeAttributeNS(e.space,e.local)}}function g(e,t){var i=(0,n.A)(e),g="transform"===i?a.I:s.A;return this.attrTween(e,"function"==typeof t?(i.local?d:h)(i,g,(0,r.J)(this,"attr."+e,t)):null==t?(i.local?o:l)(i):(i.local?c:u)(i,g,t))}},3446:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(7268);function n(e,t){var i,a;function n(){var n=t.apply(this,arguments);return n!==a&&(i=(a=n)&&function(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}(e,n)),i}return n._value=t,n}function r(e,t){var i,a;function n(){var n=t.apply(this,arguments);return n!==a&&(i=(a=n)&&function(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}(e,n)),i}return n._value=t,n}function s(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;var s=(0,a.A)(e);return this.tween(i,(s.local?n:r)(s,t))}},1375:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(3363);function n(e,t){return function(){(0,a.Ts)(this,e).delay=+t.apply(this,arguments)}}function r(e,t){return t=+t,function(){(0,a.Ts)(this,e).delay=t}}function s(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?n:r)(t,e)):(0,a.Jt)(this.node(),t).delay}},6558:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(3363);function n(e,t){return function(){(0,a.hZ)(this,e).duration=+t.apply(this,arguments)}}function r(e,t){return t=+t,function(){(0,a.hZ)(this,e).duration=t}}function s(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?n:r)(t,e)):(0,a.Jt)(this.node(),t).duration}},4228:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(3363);function n(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){(0,a.hZ)(this,e).ease=t}}(t,e)):(0,a.Jt)(this.node(),t).ease}},6066:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(3363);function n(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var i=t.apply(this,arguments);if("function"!=typeof i)throw new Error;(0,a.hZ)(this,e).ease=i}}(this._id,e))}},3589:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(3363);function n(){var e,t,i=this,n=i._id,r=i.size();return new Promise((function(s,l){var o={value:l},u={value:function(){0==--r&&s()}};i.each((function(){var i=(0,a.hZ)(this,n),r=i.on;r!==e&&((t=(e=r).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),i.on=t})),0===r&&s()}))}},4876:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(6541),n=i(9064);function r(e){"function"!=typeof e&&(e=(0,a.A)(e));for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s)for(var l,o=t[s],u=o.length,c=r[s]=[],h=0;h<u;++h)(l=o[h])&&e.call(l,l.__data__,h,o)&&c.push(l);return new n.eB(r,this._parents,this._name,this._id)}},9064:(e,t,i)=>{i.d(t,{Si:()=>C,eB:()=>N});var a=i(1882),n=i(7949),r=i(3446),s=i(1375),l=i(6558),o=i(4228),u=i(6066),c=i(4876),h=i(5636),d=i(5207),g=i(5182),m=i(3206),f=i(1683),p=i(7270),v=i(9353),y=i(8674),b=i(137),S=i(7890),x=i(5509),A=i(123),w=i(3589),T=0;function N(e,t,i,a){this._groups=e,this._parents=t,this._name=i,this._id=a}function C(){return++T}var D=a.Ay.prototype;N.prototype=function(e){return(0,a.Ay)().transition(e)}.prototype={constructor:N,select:m.A,selectAll:f.A,selectChild:D.selectChild,selectChildren:D.selectChildren,filter:c.A,merge:h.A,selection:p.A,transition:x.A,call:D.call,nodes:D.nodes,node:D.node,size:D.size,empty:D.empty,each:D.each,on:d.A,attr:n.A,attrTween:r.A,style:v.A,styleTween:y.A,text:b.A,textTween:S.A,remove:g.A,tween:A.A,delay:s.A,duration:l.A,ease:o.A,easeVarying:u.A,end:w.A,[Symbol.iterator]:D[Symbol.iterator]}},7479:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(6957),n=i(8981),r=i(1197),s=i(7737);function l(e,t){var i;return("number"==typeof t?n.A:t instanceof a.Ay?r.Ay:(i=(0,a.Ay)(t))?(t=i,r.Ay):s.A)(e,t)}},5636:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(9064);function n(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,r=i.length,s=Math.min(n,r),l=new Array(n),o=0;o<s;++o)for(var u,c=t[o],h=i[o],d=c.length,g=l[o]=new Array(d),m=0;m<d;++m)(u=c[m]||h[m])&&(g[m]=u);for(;o<n;++o)l[o]=t[o];return new a.eB(l,this._parents,this._name,this._id)}},5207:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(3363);function n(e,t){var i=this._id;return arguments.length<2?(0,a.Jt)(this.node(),i).on.on(e):this.each(function(e,t,i){var n,r,s=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?a.Ts:a.hZ;return function(){var a=s(this,e),l=a.on;l!==n&&(r=(n=l).copy()).on(t,i),a.on=r}}(i,e,t))}},5182:(e,t,i)=>{function a(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}));var e}i.d(t,{A:()=>a})},3363:(e,t,i)=>{i.d(t,{Ay:()=>f,Jt:()=>y,Op:()=>g,Ts:()=>p,hV:()=>m,hZ:()=>v,xo:()=>c});var a=i(1089),n=i(29),r=i(1463),s=(0,a.A)("start","end","cancel","interrupt"),l=[],o=0,u=1,c=2,h=3,d=4,g=5,m=6;function f(e,t,i,a,f,p){var v=e.__transition;if(v){if(i in v)return}else e.__transition={};!function(e,t,i){var a,s=e.__transition;function l(n){var g,p,v,y;if(i.state!==u)return f();for(g in s)if((y=s[g]).name===i.name){if(y.state===h)return(0,r.A)(l);y.state===d?(y.state=m,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete s[g]):+g<t&&(y.state=m,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete s[g])}if((0,r.A)((function(){i.state===h&&(i.state=d,i.timer.restart(o,i.delay,i.time),o(n))})),i.state=c,i.on.call("start",e,e.__data__,i.index,i.group),i.state===c){for(i.state=h,a=new Array(v=i.tween.length),g=0,p=-1;g<v;++g)(y=i.tween[g].value.call(e,e.__data__,i.index,i.group))&&(a[++p]=y);a.length=p+1}}function o(t){for(var n=t<i.duration?i.ease.call(null,t/i.duration):(i.timer.restart(f),i.state=g,1),r=-1,s=a.length;++r<s;)a[r].call(e,n);i.state===g&&(i.on.call("end",e,e.__data__,i.index,i.group),f())}function f(){for(var a in i.state=m,i.timer.stop(),delete s[t],s)return;delete e.__transition}s[t]=i,i.timer=(0,n.O1)((function(e){i.state=u,i.timer.restart(l,i.delay,i.time),i.delay<=e&&l(e-i.delay)}),0,i.time)}(e,i,{name:t,index:a,group:f,on:s,tween:l,time:p.time,delay:p.delay,duration:p.duration,ease:p.ease,timer:null,state:o})}function p(e,t){var i=y(e,t);if(i.state>o)throw new Error("too late; already scheduled");return i}function v(e,t){var i=y(e,t);if(i.state>h)throw new Error("too late; already running");return i}function y(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}},3206:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(574),n=i(9064),r=i(3363);function s(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=(0,a.A)(e));for(var s=this._groups,l=s.length,o=new Array(l),u=0;u<l;++u)for(var c,h,d=s[u],g=d.length,m=o[u]=new Array(g),f=0;f<g;++f)(c=d[f])&&(h=e.call(c,c.__data__,f,d))&&("__data__"in c&&(h.__data__=c.__data__),m[f]=h,(0,r.Ay)(m[f],t,i,f,m,(0,r.Jt)(c,i)));return new n.eB(o,this._parents,t,i)}},1683:(e,t,i)=>{i.d(t,{A:()=>s});var a=i(747),n=i(9064),r=i(3363);function s(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=(0,a.A)(e));for(var s=this._groups,l=s.length,o=[],u=[],c=0;c<l;++c)for(var h,d=s[c],g=d.length,m=0;m<g;++m)if(h=d[m]){for(var f,p=e.call(h,h.__data__,m,d),v=(0,r.Jt)(h,i),y=0,b=p.length;y<b;++y)(f=p[y])&&(0,r.Ay)(f,t,i,y,p,v);o.push(p),u.push(h)}return new n.eB(o,u,t,i)}},7270:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(1882).Ay.prototype.constructor;function n(){return new a(this._groups,this._parents)}},9353:(e,t,i)=>{i.d(t,{A:()=>u});var a=i(1957),n=i(3683),r=i(3363),s=i(123),l=i(7479);function o(e){return function(){this.style.removeProperty(e)}}function u(e,t,i){var u="transform"==(e+="")?a.T:l.A;return null==t?this.styleTween(e,function(e,t){var i,a,r;return function(){var s=(0,n.j)(this,e),l=(this.style.removeProperty(e),(0,n.j)(this,e));return s===l?null:s===i&&l===a?r:r=t(i=s,a=l)}}(e,u)).on("end.style."+e,o(e)):"function"==typeof t?this.styleTween(e,function(e,t,i){var a,r,s;return function(){var l=(0,n.j)(this,e),o=i(this),u=o+"";return null==o&&(this.style.removeProperty(e),u=o=(0,n.j)(this,e)),l===u?null:l===a&&u===r?s:(r=u,s=t(a=l,o))}}(e,u,(0,s.J)(this,"style."+e,t))).each(function(e,t){var i,a,n,s,l="style."+t,u="end."+l;return function(){var c=(0,r.hZ)(this,e),h=c.on,d=null==c.value[l]?s||(s=o(t)):void 0;h===i&&n===d||(a=(i=h).copy()).on(u,n=d),c.on=a}}(this._id,e)):this.styleTween(e,function(e,t,i){var a,r,s=i+"";return function(){var l=(0,n.j)(this,e);return l===s?null:l===a?r:r=t(a=l,i)}}(e,u,t),i).on("end.style."+e,null)}},8674:(e,t,i)=>{function a(e,t,i){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw new Error;return this.tween(a,function(e,t,i){var a,n;function r(){var r=t.apply(this,arguments);return r!==n&&(a=(n=r)&&function(e,t,i){return function(a){this.style.setProperty(e,t.call(this,a),i)}}(e,r,i)),a}return r._value=t,r}(e,t,null==i?"":i))}i.d(t,{A:()=>a})},137:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(123);function n(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}((0,a.J)(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))}},7890:(e,t,i)=>{function a(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,i;function a(){var a=e.apply(this,arguments);return a!==i&&(t=(i=a)&&function(e){return function(t){this.textContent=e.call(this,t)}}(a)),t}return a._value=e,a}(e))}i.d(t,{A:()=>a})},5509:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(9064),n=i(3363);function r(){for(var e=this._name,t=this._id,i=(0,a.Si)(),r=this._groups,s=r.length,l=0;l<s;++l)for(var o,u=r[l],c=u.length,h=0;h<c;++h)if(o=u[h]){var d=(0,n.Jt)(o,t);(0,n.Ay)(o,e,i,h,u,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new a.eB(r,this._parents,e,i)}},123:(e,t,i)=>{i.d(t,{A:()=>s,J:()=>l});var a=i(3363);function n(e,t){var i,n;return function(){var r=(0,a.hZ)(this,e),s=r.tween;if(s!==i)for(var l=0,o=(n=i=s).length;l<o;++l)if(n[l].name===t){(n=n.slice()).splice(l,1);break}r.tween=n}}function r(e,t,i){var n,r;if("function"!=typeof i)throw new Error;return function(){var s=(0,a.hZ)(this,e),l=s.tween;if(l!==n){r=(n=l).slice();for(var o={name:t,value:i},u=0,c=r.length;u<c;++u)if(r[u].name===t){r[u]=o;break}u===c&&r.push(o)}s.tween=r}}function s(e,t){var i=this._id;if(e+="",arguments.length<2){for(var s,l=(0,a.Jt)(this.node(),i).tween,o=0,u=l.length;o<u;++o)if((s=l[o]).name===e)return s.value;return null}return this.each((null==t?n:r)(i,e,t))}function l(e,t,i){var n=e._id;return e.each((function(){var e=(0,a.hZ)(this,n);(e.value||(e.value={}))[t]=i.apply(this,arguments)})),function(e){return(0,a.Jt)(e,n).value[t]}}},6470:(e,t,i)=>{i(1943),i(3578)},3578:(e,t,i)=>{function a(e,t,i){this.k=e,this.x=t,this.y=i}a.prototype={constructor:a,scale:function(e){return 1===e?this:new a(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new a(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new a(1,0,0),a.prototype},1943:(e,t,i)=>{i(9902),i(3578)},756:(e,t,i)=>{i.d(t,{Ltv:()=>s.Lt,T9B:()=>a.T9,Ubm:()=>s.Ub,V4s:()=>n.V4,WH:()=>r.WH,jkA:()=>a.jk,l78:()=>n.l7,m4Y:()=>r.m4});var a=i(1388),n=i(312),r=(i(3537),i(1303)),s=i(7875);i(9902),i(6470)},4119:(e,t,i)=>{i.d(t,{B:()=>a});class a extends Map{constructor(e,t=r){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,i]of e)this.set(t,i)}get(e){return super.get(n(this,e))}has(e){return super.has(n(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},i){const a=t(i);return e.has(a)?e.get(a):(e.set(a,i),i)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},i){const a=t(i);return e.has(a)&&(i=e.get(a),e.delete(a)),i}(this,e))}}function n({_intern:e,_key:t},i){const a=t(i);return e.has(a)?e.get(a):i}function r(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,i),r.exports}i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{i.r(a),i.d(a,{default:()=>r});var e=i(5789),t=window.powerbi,n={name:"Waterfall2023Pbi552BC2DB21894DA5B40D0FE0FE33D590",displayName:"Ultimate Waterfall (API)",class:"Visual",apiVersion:"5.10.0",create:t=>{if(e.b)return new e.b(t);throw"Visual instance not found"},createModalDialog:(e,t,i)=>{const a=globalThis.dialogRegistry;e in a&&new a[e](t,i)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.Waterfall2023Pbi552BC2DB21894DA5B40D0FE0FE33D590=n);const r=n})(),Waterfall2023Pbi552BC2DB21894DA5B40D0FE0FE33D590=a})();