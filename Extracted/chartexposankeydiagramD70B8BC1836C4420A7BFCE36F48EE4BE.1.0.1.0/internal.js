/*! For license information please see visual.js.LICENSE.txt */
var chartexposankeydiagramD70B8BC1836C4420A7BFCE36F48EE4BE;(()=>{var e,t,n={9417:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9755),i=n(6738);class a{constructor(){this.baseURL="http://localhost:4445/"}logUserActivity(e){var t=this.baseURL+"Home/LogMessage";r.ajax({url:t,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e),async:!0,success:function(e){},error:function(e,t,n){}})}getLanguage(){return navigator.language}getDeviceType(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}getIPAddress(e){var t=void 0;return e.ajax({url:"https://api.ipify.org",success:function(e){t=e},error:function(e,n,r){t=r},async:!1}),t}getBrowserInfo(){navigator.appVersion;var e,t,n,r=navigator.userAgent,i=navigator.appName,a=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return-1!=(t=r.indexOf("OPR/"))?(i="Opera",a=r.substring(t+4)):-1!=(t=r.indexOf("Opera"))?(i="Opera",a=r.substring(t+6),-1!=(t=r.indexOf("Version"))&&(a=r.substring(t+8))):-1!=(t=r.indexOf("MSIE"))?(i="Microsoft Internet Explorer",a=r.substring(t+5)):-1!=(t=r.indexOf("Chrome"))?(i="Chrome",a=r.substring(t+7)):-1!=(t=r.indexOf("Safari"))?(i="Safari",a=r.substring(t+7),-1!=(t=r.indexOf("Version"))&&(a=r.substring(t+8))):-1!=(t=r.indexOf("Firefox"))?(i="Firefox",a=r.substring(t+8)):(e=r.lastIndexOf(" ")+1)<(t=r.lastIndexOf("/"))&&(i=r.substring(e,t),a=r.substring(t+1),i.toLowerCase()==i.toUpperCase()&&(i=navigator.appName)),-1!=(n=a.indexOf(";"))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(" "))&&(a=a.substring(0,n)),o=parseInt(""+a,10),isNaN(o)&&(a=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),i}getOSName(){var e="Unknown";return-1!=i.navigator.userAgent.indexOf("Windows NT 10.0")&&(e="Windows 10"),-1!=i.navigator.userAgent.indexOf("Windows NT 6.3")&&(e="Windows 8.1"),-1!=i.navigator.userAgent.indexOf("Windows NT 6.2")&&(e="Windows 8"),-1!=i.navigator.userAgent.indexOf("Windows NT 6.1")&&(e="Windows 7"),-1!=i.navigator.userAgent.indexOf("Windows NT 6.0")&&(e="Windows Vista"),-1!=i.navigator.userAgent.indexOf("Windows NT 5.1")&&(e="Windows XP"),-1!=i.navigator.userAgent.indexOf("Windows NT 5.0")&&(e="Windows 2000"),-1!=i.navigator.userAgent.indexOf("Mac")&&(e="Mac/iOS"),-1!=i.navigator.userAgent.indexOf("X11")&&(e="UNIX"),-1!=i.navigator.userAgent.indexOf("Linux")&&(e="Linux"),e}}},2359:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});class r{constructor(){this.drilleCategorySankeyNode=void 0}bindDrillDownContextMenu(e,t){if(null!=e.drilleCategorySankeyNode){console.log("Drilling Manager:",e);var n=e.drillSankeyDataForCategory(e.sankeyData,e.drilleCategorySankeyNode);e.drilleCategorySankeyNode=void 0,e.DrawSankey(e,e.options,e.isWatermarkEnabled,n)}t(".nodeMoveAble").each((function(n){t(this).on("click",(function(n){if(n.shiftKey||n.altKey)return;var r=JSON.parse(t(this).attr("for_powerBI")),i=r.nodeLevel-1,a=r.name;let o=e.chartDataPoints.filter((function(e){return e.levelIndex==i&&e.category==a}));e.options.dataViews[0].categorical.categories[i].source.roles.category?e.options.dataViews[0].metadata.dataRoles.drillableRoles.drillingdata.indexOf(2)>=0&&(e.drillSankeyDataForCategory(e.sankeyData,r),e.selectionManager.select(o[0].selectionId,!0)):e.options.dataViews[0].metadata.dataRoles.drillableRoles.drillingdata.indexOf(2)>=0&&e.selectionManager.select(o[0].selectionId,!0)}))})),t(".nodeMoveAble").on("contextmenu",(function(n){n.stopPropagation();var r=JSON.parse(t(this).attr("for_powerBI")),i=r.nodeLevel-1,a=r.name;let o=e.chartDataPoints.filter((function(e){return e.levelIndex==i&&e.category==a}));e.options.dataViews[0].categorical.categories[i].source.roles.category?(e.selectionManager.showContextMenu(null,{x:n.clientX,y:n.clientY}),n.preventDefault()):(e.selectionManager.showContextMenu(o[0].selectionId,{x:n.clientX,y:n.clientY}),n.preventDefault())}))}drillSankeyDataForCategory(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.nodeLevel;i++)e[r][i]!=t.name&&i<=t.nodeLevel-1?e[r][i]=null:n.push(e[r]);return n}}},274:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(4264),i=n(6738);function a(e,t,n=500){return new o({tooltipService:e,handleTouchDelay:n})}class o{constructor(e){this.visualHostTooltipService=e.tooltipService,this.handleTouchDelay=e.handleTouchDelay}addTooltip(e,t,n,a){if(!e||!this.visualHostTooltipService.enabled())return;const o=(0,r.Z)(e),s=(e,t,n,r)=>{const i=[t.clientX,t.clientY];e.call(this.visualHostTooltipService,{coordinates:i,isTouchEvent:"touch"===t.pointerType,dataItems:n,identities:r})};o.on("pointerover",((e,r)=>{const a=t(r);if(null==a)return;const o=n?[n(r)]:[];"mouse"===e.pointerType&&s(this.visualHostTooltipService.show,e,a,o),"touch"===e.pointerType&&(this.handleTouchTimeoutId=i.setTimeout((()=>{s(this.visualHostTooltipService.show,e,a,o),this.handleTouchTimeoutId=void 0}),this.handleTouchDelay))})),o.on("pointerout",(e=>{"mouse"===e.pointerType&&this.visualHostTooltipService.hide({isTouchEvent:!1,immediately:!1}),"touch"===e.pointerType&&this.cancelTouchTimeoutEvents()})),o.on("pointermove",((e,r)=>{if("mouse"===e.pointerType){let i;if(a&&(i=t(r),null==i))return;const o=n?[n(r)]:[];s(this.visualHostTooltipService.move,e,i,o)}}))}cancelTouchTimeoutEvents(){this.handleTouchTimeoutId&&clearTimeout(this.handleTouchTimeoutId)}hide(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})}}},6269:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>i});var r=n(4554).U;class i extends r{constructor(){super(...arguments),this.trialMode=new a,this.levelsHeader=new p,this.sankeyFirstLevelStats=new h,this.sankeySecondLevelStats=new h,this.sankeyThirdLevelStats=new h,this.sankeyFourLevelStats=new h,this.sankeyFiveLevelStats=new h,this.sankeySixLevelStats=new h,this.sankeySevenLevelStats=new h,this.sankeyEightLevelStats=new h,this.sankeyFirstLabels=new g,this.sankeySecondLabels=new g,this.sankeyThirdLabels=new g,this.sankeyFourLabels=new g,this.sankeyFiveLabels=new g,this.sankeySixLabels=new g,this.sankeySevenLabels=new g,this.sankeyEigthLabels=new g,this.drawingMode=new o,this.sankeyFirstLevel=new s,this.licenseSettings=new l,this.unSubscribeLinkSetting=new u,this.sankeyStats=new c,this.sankeyFontStyle=new d,this.levelsFontStyle=new f,this.ValuesToPersist=new v,this.nodeComplexSettings=new y}}class a{constructor(){this.email="",this.enableTrial=!1}}class o{constructor(){this.enableMissingData=!0,this.enableFormat=!0,this.formatType="Number Format",this.numberFormatOverride="k:k,M:M,G:G,T:T,P:P,E:E,Z:Z,Y:Y",this.currencyFormatOverride="k:k,M:M,bn:bn,t:t,q:q,Q:Q,s:s,S:S",this.numberSeparator="",this.percentageSeparator=".",this.showOutline=!0,this.showNumberBracket=!0,this.manualSorting=!1,this.showTooltip=!0}}class s{constructor(){this.markasDropOffNode=!1}}class l{constructor(){this.key="",this.enableLicense=!1}}class u{constructor(){this.showUnSubscribeLink=!1}}class c{constructor(){this.showZero=!1,this.enableMissingData=!0,this.percentage=!0,this.percentagePrecision=0,this.enforcePercentPercision=!1,this.number=!0,this.numberPrecision=0,this.text=!0,this.showlabel=!0,this.labelOrietationChart="default",this.nodeText="",this.linkOpacity=4,this.chartSorting="default",this.prefix="",this.postfix=""}}class h{constructor(){this.percentage=!0,this.percentagePrecision=1,this.number=!0,this.numberPrecision=1,this.text=!0,this.nodeText="",this.labelOrietationLabel="default",this.levelSorting="default"}}class p{constructor(){this.levelHeader=[],this.levelPosition="Bottom"}}class d{constructor(){this.fontColor="#000000",this.bold=!1,this.fontSize=10,this.fontFamily="Arial"}}class f{constructor(){this.fontColor="#000000",this.bold=!1,this.fontSize=10,this.fontFamily="Arial"}}class g{constructor(){this.nodeTextLabel=""}}class v{constructor(){this.objValues=""}}class y{constructor(){this.nodePositions="{}",this.nodeIncomingLinksSortOverride="{}",this.nodeOutgoingLinksSortOverride="{}"}}},7584:(e,t,n)=>{"use strict";var r;n.d(t,{u:()=>m}),n(8594);var i=n(274),a=n(982),o=n(2581),s=n(9755),l=n(5078),u=n(3133),c=n(5354),h=n(6269),p=n(2359),d=n(9417),f=n(3838),g=n(6738);const v="https://chartexpo.com/ChartExpoForPowerBI/",y="https://chartexpo.com/";class m{constructor(e){if(this.resetIncomingLinks=!1,this.resetOutgoingLinks=!1,this.margin={top:20,right:20,bottom:200,left:70},this.nodeDefaultColor="#828282",this.linksDefaultColor="#B1CEEE",this.nodeIncomingLinksSortOverride_Sankey={},this.nodeOutgoingLinksSortOverride_Sankey={},this.nodeNameLevelKey_Sankey="",this.localStorageLicenseKey="chartexpo_licensekey",this.localStorageEmailKey="chartexpo_email",this.localStorageNodePositions="chartexpo_nodePositions",this.ctrlKeyPressed=!1,this.chartDataPoints=[],this.nodeFontSizeDataPoints=[],this.chartColorDirectionDataPoints=[],this.chartDropoffNodeDataPoints=[],this.chartLabelNodeDataPoints=[],this.chartPercentageDataPoints=[],this._nodesCustomLocations={},this.blnIsNodePositionChanged=!1,this.selectedColors="",this.selectedColorsLevelArray=["","","","","","","","",""],this.isWaterMarkEnabled=!0,this.categories=[],this.metaDataColumns=[null,null,null,null,null,null,null,null],this.smartLinkingSelectedPoints=[],this.activateTrialURL="",this.subscriptionURL=y+"Tools/PowerBISubscribe",this.unsubscriptionURL=y+"Tools/PowerBIUnSubscribe",this.contactUsURL=y+"home/contact",this.sankeyProperties=[],this.settingsObj={},this.sankeyData=[],this.dataPoints=[],this.initialSortingSettings="default",this.defaultChartLevelOrientation="Right",this.bIsNonAdminKeyUsed=!1,this.email_empty="EMAIL_EMPTY",this.invalid_email_format="INVALID_EMAIL_FORMAT",this.selectionIds=[],this.IS_DEVELOPER_MODE=!1,this.DEVELOPER_MODE_LICENSE_KEY="",this.DEVELOPER_MODE_EMAIL="",this.target=e.element,this.host=e.host,this.storage=e.host.storageService,this.sankeyDrillingManager=new p.V,this.clientInfoManager=new d.w,this.settings=h.Jx.getDefault(),this.old_settings=h.Jx.getDefault(),this.selectionManager=e.host.createSelectionManager(),this.tooltipServiceWrapper=(0,i.p)(this.host.tooltipService,e.element),"undefined"!=typeof document){const e=document.createElement("div");e.setAttribute("class","dvChartContainer"),e.setAttribute("style","width:100%; height:100%;cursor:default");const t=document.createElement("div");t.setAttribute("id","powerbiHeader"),t.setAttribute("style","text-align:center;width:100%;height:0px;opacity:8px;");const n=document.createElement("div");n.setAttribute("id","dvChart");const r=document.createElement("div");r.setAttribute("id","powerbiThumbnail"),r.setAttribute("style","width:100%;height:100%;"),e.appendChild(t),e.appendChild(n),e.appendChild(r),this.target.appendChild(e),this.handleContextMenu(),s("#powerbiThumbnail").html(""),this.activateTrialElement=this.createActivateTrialElement(),this.validLicenseKeyElement=this.createValidLicenseKeyElement(),this.expiredLicenseKeyElement=this.createLicenseKeyExpiredMessageElement(),this.expiredTrialElement=this.createTrialExpiredMessageElement(),this.enableTrialElement=this.createTrialEnableElement(),this.trialOrLicenseMessageElement=this.createTrialOrLicenseMessageElement(),this.selectDimensionMetricElement=this.createDimensionMetricMessageElement(),this.keepDimensionInOneSection=this.createSingleRoleMessageElement(),this.duplicateDimensionNotAllowedSection=this.createDuplicateDimensionMessageElement(),this.enableLicenseElement=this.createLicenseEnableElement(),this.internetConnectivityElement=this.createInternetConnectivityMessageElement(),this.subscribeElement=this.createSubscribeElement(),this.headerSubscribeElement=this.createHeaderSubscribeElement(),this.unsubscribeElement=this.createUnsubscribeElement(),this.saveNodePositionElement=this.createSavePositionButton(),this.subscriptionCancelledElement=this.createSubscriptionCancelledElement(),this.invalidMachineorKeyElement=this.createInvalidMachineOrKeyElement(),this.keyMessageElement=this.createKeyMessageElement(),this.IS_DEVELOPER_MODE?s("#powerbiThumbnail").append("<img src='"+v+"Content/Images/Application/PurchasedActivationHelp.png' style= 'height:100%;width:100%;' />"):this.storage.get(this.localStorageLicenseKey).then((e=>{this.settings.licenseSettings.enableLicense||s("#powerbiThumbnail").append("<img src='"+v+"Content/Images/Application/PurchasedActivationHelp.png' style= 'height:100%;width:100%;' />")})).catch((()=>{this.bIsNonAdminKeyUsed=!0,this.storage.get(this.localStorageEmailKey).then((e=>{this.settings.trialMode.enableTrial?s("#powerbiThumbnail").append("<img src='"+v+"Content/Images/Application/PurchasedActivationHelp.png' style= 'height:100%;width:100%;' />"):s("#powerbiThumbnail").append("<img src='"+v+"Content/Images/Application/TrialActivationHelp.png' style= 'width:100%;height:85%' />")})).catch((()=>{s("#powerbiThumbnail").append("<img src='"+v+"Content/Images/Application/TrialActivationHelp.png' style= 'width:100%;height:85%' />"),s("#powerbiThumbnail").append(this.createSubscribeElement()),s(".subscribe").css("margin-left","0px")}))}))}}handleContextMenu(){s(".dvChartContainer").on("contextmenu",(e=>{const t=e.originalEvent,n=t.target;let r=(0,f.Z)(n).datum();this.selectionManager.showContextMenu(r?r.selectionId:{},{x:t.clientX,y:t.clientY}),t.preventDefault()}))}OverrideChartPropertiesIfRequired(e){var t=e.dataViews[0].metadata.objects;null!=t&&null!=t.sankeyFirstLevelStats&&null!=t.sankeyFirstLevelStats.percentage||(this.settings.sankeyFirstLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeySecondLevelStats&&null!=t.sankeySecondLevelStats.percentage||(this.settings.sankeySecondLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeyThirdLevelStats&&null!=t.sankeyThirdLevelStats.percentage||(this.settings.sankeyThirdLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeyFourLevelStats&&null!=t.sankeyFourLevelStats.percentage||(this.settings.sankeyFourLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeyFiveLevelStats&&null!=t.sankeyFiveLevelStats.percentage||(this.settings.sankeyFiveLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeySixLevelStats&&null!=t.sankeySixLevelStats.percentage||(this.settings.sankeySixLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeySevenLevelStats&&null!=t.sankeySevenLevelStats.percentage||(this.settings.sankeySevenLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeyEightLevelStats&&null!=t.sankeyEightLevelStats.percentage||(this.settings.sankeyEightLevelStats.percentage=this.settings.sankeyStats.percentage),null!=t&&null!=t.sankeyFirstLevelStats&&null!=t.sankeyFirstLevelStats.number||(this.settings.sankeyFirstLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeySecondLevelStats&&null!=t.sankeySecondLevelStats.number||(this.settings.sankeySecondLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeyThirdLevelStats&&null!=t.sankeyThirdLevelStats.number||(this.settings.sankeyThirdLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeyFourLevelStats&&null!=t.sankeyFourLevelStats.number||(this.settings.sankeyFourLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeyFiveLevelStats&&null!=t.sankeyFiveLevelStats.number||(this.settings.sankeyFiveLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeySixLevelStats&&null!=t.sankeySixLevelStats.number||(this.settings.sankeySixLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeySevenLevelStats&&null!=t.sankeySevenLevelStats.number||(this.settings.sankeySevenLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeyEightLevelStats&&null!=t.sankeyEightLevelStats.number||(this.settings.sankeyEightLevelStats.number=this.settings.sankeyStats.number),null!=t&&null!=t.sankeyFirstLevelStats&&null!=t.sankeyFirstLevelStats.text||(this.settings.sankeyFirstLevelStats.text=this.settings.sankeyStats.text),null!=t&&null!=t.sankeySecondLevelStats&&null!=t.sankeySecondLevelStats.text||(this.settings.sankeySecondLevelStats.text=this.settings.sankeyStats.text),null!=t&&null!=t.sankeyThirdLevelStats&&null!=t.sankeyThirdLevelStats.text||(this.settings.sankeyThirdLevelStats.text=this.settings.sankeyStats.text),null!=t&&null!=t.sankeyFourLevelStats&&null!=t.sankeyFourLevelStats.text||(this.settings.sankeyFourLevelStats.text=this.settings.sankeyStats.text),null!=t&&null!=t.sankeyFiveLevelStats&&null!=t.sankeyFiveLevelStats.text||(this.settings.sankeyFiveLevelStats.text=this.settings.sankeyStats.text),null!=t&&null!=t.sankeySixLevelStats&&null!=t.sankeySixLevelStats.text||(this.settings.sankeySixLevelStats.text=this.settings.sankeyStats.text),null!=t&&null!=t.sankeySevenLevelStats&&null!=t.sankeySevenLevelStats.text||(this.settings.sankeySevenLevelStats.text=this.settings.sankeyStats.text),null!=t&&null!=t.sankeyEightLevelStats&&null!=t.sankeyEightLevelStats.text||(this.settings.sankeyEightLevelStats.text=this.settings.sankeyStats.text)}hasDuplicateColumns(){let e=this.options.dataViews[0].metadata.columns;for(var t=this.options.dataViews[0].categorical.categories,n=0;n<e.length;n++)if(t.filter((function(t){return t.source.displayName==e[n].displayName})).length>1)return!0;return!1}setMetaDataColumnsWithProperSequence(e){var t=e.dataViews[0].categorical.categories,n=e.dataViews[0].metadata.columns;let r=n.filter((function(e){return 1==e.roles.category}));var i=n.filter((function(e){return e.roles.measure})),a=n.filter((function(e){return 1==e.roles.drillingdata}));this.metaDataColumns=JSON.parse(JSON.stringify(r));let o=t.filter((function(e){return 1==e.source.roles.category})),s=t.filter((function(e){return 1==e.source.roles.drillingdata}));for(var l=0;l<o.length;l++){var u=o[l];let e=n.filter((function(e){return e.displayName==u.source.displayName}));null!=e[0]&&(this.metaDataColumns[l]=e[0])}for(l=0;l<s.length;l++){var c=s[l];let e=a.filter((function(e){return e.displayName==c.source.displayName}));null!=e[0]&&this.metaDataColumns.push(e[0])}null!=i[0]&&this.metaDataColumns.push(i[0])}update(e){if(this.options=e,this.settings=m.parseSettings(e&&e.dataViews&&e.dataViews[0]),this.dataView=e.dataViews[0],this.setMetaDataColumnsWithProperSequence(e),this.OverrideChartPropertiesIfRequired(e),this.getSankeyLevelsObjectModelForPropertyPane(e),this.IS_DEVELOPER_MODE)""==this.DEVELOPER_MODE_LICENSE_KEY?(this.settings.trialMode.enableTrial=!0,this.settings.trialMode.email=this.DEVELOPER_MODE_EMAIL):(this.settings.licenseSettings.enableLicense=!0,this.settings.licenseSettings.key=this.DEVELOPER_MODE_LICENSE_KEY),this.updateExecution();else{if(null!=this.dataView.metadata.objects){null!=this.dataView.metadata.objects.trialMode&&this.settings.trialMode.enableTrial&&(this.settings.trialMode.enableTrial=this.dataView.metadata.objects.trialMode.enableTrial,this.settings.trialMode.email=this.dataView.metadata.objects.trialMode.email),null!=this.dataView.metadata.objects.licenseSettings&&this.settings.licenseSettings.enableLicense&&(this.settings.licenseSettings.enableLicense=this.dataView.metadata.objects.licenseSettings.enableLicense,this.settings.licenseSettings.key=this.dataView.metadata.objects.licenseSettings.key),null!=this.dataView.metadata.objects.unSubscribeLinkSetting&&(this.settings.unSubscribeLinkSetting.showUnSubscribeLink=this.dataView.metadata.objects.unSubscribeLinkSetting.showUnSubscribeLink),null!=this.dataView.metadata.objects.nodeComplexSettings&&null!=this.dataView.metadata.objects.nodeComplexSettings&&(null!=this.dataView.metadata.objects.nodeComplexSettings.nodePositions&&null!=this.settings.nodeComplexSettings.nodePositions&&(this.settings.nodeComplexSettings.nodePositions=this.dataView.metadata.objects.nodeComplexSettings.nodePositions),null!=this.dataView.metadata.objects.nodeComplexSettings.nodeIncomingLinksSortOverride&&null!=this.settings.nodeComplexSettings.nodeIncomingLinksSortOverride&&(this.settings.nodeComplexSettings.nodeIncomingLinksSortOverride=this.dataView.metadata.objects.nodeComplexSettings.nodeIncomingLinksSortOverride,this.nodeIncomingLinksSortOverride_Sankey=JSON.parse(this.settings.nodeComplexSettings.nodeIncomingLinksSortOverride)),null!=this.dataView.metadata.objects.nodeComplexSettings.nodeOutgoingLinksSortOverride&&null!=this.settings.nodeComplexSettings.nodeOutgoingLinksSortOverride&&(this.settings.nodeComplexSettings.nodeOutgoingLinksSortOverride=this.dataView.metadata.objects.nodeComplexSettings.nodeOutgoingLinksSortOverride,this.nodeOutgoingLinksSortOverride_Sankey=JSON.parse(this.settings.nodeComplexSettings.nodeOutgoingLinksSortOverride)));let e=JSON.stringify(this._nodesCustomLocations);"{}"!=e&&e!=this.settings.nodeComplexSettings.nodePositions&&(this.settings.nodeComplexSettings.nodePositions=e)}if(this.settings.licenseSettings.enableLicense&&""!=this.settings.licenseSettings.key)this.storage.set(this.localStorageLicenseKey,this.settings.licenseSettings.key.trim());else if(this.settings.trialMode.enableTrial&&""!=this.settings.trialMode.email){if(!/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(this.settings.trialMode.email))return s("#dvChart").css({color:"red","font-size":"20px"}),void s("#dvChart").text("Please enter a valid email address.");this.storage.set(this.localStorageEmailKey,this.settings.trialMode.email.trim())}this.storage.get(this.localStorageLicenseKey).then((e=>{this.settings.licenseSettings.enableLicense=!0,this.settings.licenseSettings.key=e,this.updateExecution()})).catch((()=>{this.storage.get(this.localStorageEmailKey).then((e=>{this.settings.trialMode.enableTrial=!0,this.settings.trialMode.email=e,this.updateExecution()})).catch((()=>{this.updateExecution()}))}))}}updateExecution(){this.dataView=this.options.dataViews[0];let e=this.options.dataViews[0].categorical.categories;s("#powerbiThumbnail").css("height","0px"),s("#dvChart").html(""),s("#powerbiHeader").html("").css("height","0px"),s("#powerbiThumbnail").html("");let t=this.hasDuplicateColumns();if(e.filter((function(e){return 1==e.source.roles.category&&1==e.source.roles.drillingdata})).length>0)this.showMessageInsidePowerBIVisual(this.keepDimensionInOneSection),s("#dvChart").css("width","");else if(1==t)this.showMessageInsidePowerBIVisual(this.duplicateDimensionNotAllowedSection),s("#dvChart").css("width","");else if(null==this.options.dataViews[0].categorical.values||null==this.options.dataViews[0].categorical.categories||this.options.dataViews[0].categorical.categories.length<2)this.showMessageInsidePowerBIVisual(this.selectDimensionMetricElement),s("#dvChart").css("width","");else if(""==this.settings.trialMode.email&&""==this.settings.licenseSettings.key)this.showMessageInsidePowerBIVisual(this.trialOrLicenseMessageElement);else if(0==this.settings.licenseSettings.enableLicense&&""!=this.settings.licenseSettings.key)this.showMessageInsidePowerBIVisual(this.enableLicenseElement);else if(0==this.settings.trialMode.enableTrial&&""!=this.settings.trialMode.email)this.showMessageInsidePowerBIVisual(this.enableTrialElement);else{this.settings.unSubscribeLinkSetting.showUnSubscribeLink?this.unsubscribeElement.textContent="Unsubscribe":this.unsubscribeElement.textContent="",1==this.settings.drawingMode.manualSorting&&this.saveNodePositionsEvent();let e={merge:[{objectName:"trialMode",selector:void 0,properties:{email:this.settings.trialMode.email,enableTrial:this.settings.trialMode.enableTrial}},{objectName:"licenseSettings",selector:void 0,properties:{key:this.settings.licenseSettings.key,enableLicense:this.settings.licenseSettings.enableLicense}},{objectName:"unSubscribeLinkSetting",selector:void 0,properties:{showUnSubscribeLink:this.settings.unSubscribeLinkSetting.showUnSubscribeLink}},{objectName:"nodeComplexSettings",selector:void 0,properties:{nodeIncomingLinksSortOverride:this.settings.nodeComplexSettings.nodeIncomingLinksSortOverride,nodeOutgoingLinksSortOverride:this.settings.nodeComplexSettings.nodeOutgoingLinksSortOverride}}]};this.host.persistProperties(e),c.T.getUserPackageDetail(this,this.settings.licenseSettings.key,this.settings.trialMode.email,this.options,this.getUserPackageDetailSussessCallback,this.getUserPackageDetailErrorCallback,s)}}getUserPackageDetailSussessCallback(e,t,n,r){if(""!=n.packageStatus&&"INVALID_REQUEST"!=n.packageStatus)if("INVALID_KEY"==n.packageStatus&&""!=e.settings.licenseSettings.key&&e.settings.licenseSettings.key!=n.Key&&e.settings.licenseSettings.key!=n.NonAdminKey)s("#powerbiHeader").html(""),s("#dvChart").html(""),s("#powerbiHeader").css("height","40px"),s("#powerbiHeader").css("background","orange"),s("#powerbiHeader").append("<img src='"+v+"Content/Images/Application/logo-chartexpo.png' style= 'height:25px;margin-top:5px;' />"),s("#dvChart").append(e.validLicenseKeyElement),s("#dvChart").append("<div><img src='"+v+"Content/Images/Application/licensesettings.png' style= 'margin-top:5px; width:85%;' /></div>"),s("#dvChart").append(e.keyMessageElement),s("#dvChart").css("text-align","center");else if("INVALID_KEY"==n.packageStatus&&""==e.settings.licenseSettings.key){var i={Name:e.settings.trialMode.email,Email:e.settings.trialMode.email};c.T.saveUserDetail(e,i,r,e.saveUserDetailSuccessCallback,e.saveUserDetailErrorCalback,s)}else if("TrialExpired"==n.packageStatus)e.showMessageInsidePowerBIVisual(e.createTrialExpiredMessageElement());else if("Cancelled"==n.packageStatus)s("#powerbiHeader").remove(),s("#dvChart").html(""),s("#dvChart").append(e.subscriptionCancelledElement),s("#dvChart").append("<br/>"),s("#dvChart").css("text-align","center"),s(".subscribe").css("margin-left","0px");else if(!e.bIsNonAdminKeyUsed||0!=n.IsAdminKey||"Purchased"!=n.packageStatus&&"SubscriptionCancelled"!=n.packageStatus||null==n.NoOfUsers||n.NoOfUsers!=n.NoOfUsedKeys){s("#powerbiHeader").css("background","none"),s("#powerbiHeader").css("height","0px"),s("#powerbiHeader").html(""),s("#powerbiThumbnail").html("");var a=!0;"Trial"==n.packageStatus?(s('<div id="divSubscribe"></div>').insertAfter(s("#dvChart")),s("#divSubscribe").append(e.subscribeElement)):"Purchased"==n.packageStatus&&""==e.settings.licenseSettings.key?s('<div id="divSubscribe"></div>').insertAfter(s("#dvChart")):(a=!1,s("#divSubscribe").remove(),n.IsAdminKey?"Purchased"!=n.packageStatus&&(s("#powerbiHeader").append('<div id="divUnsubscribe" style="float:right;margin:4px 5px 0 0;"></div>'),s("#divUnsubscribe").append(e.unsubscribeElement)):e.bIsNonAdminKeyUsed&&c.T.updateNoOfUsedLicenses(n.NonAdminKey,s)),1==e.settings.unSubscribeLinkSetting.showUnSubscribeLink&&n.IsAdminKey&&(s("#powerbiHeader").append('<div id="divUnsubscribe" style="float:right;margin:4px 5px 0 0;"></div>'),s("#divUnsubscribe").append(e.unsubscribeElement)),e.settingsObj={height:r.viewport.height,width:r.viewport.width,customInformation:"customInformation",renderTo:"dvChart",data:e.sankeyData,lib:"D3"},e.isWaterMarkEnabled=a,e.DrawSankey(e,r,a)}else s("#powerbiThumbnail").css("height","0px"),s("#powerbiThumbnail").html(""),s("#dvChart").css({color:"red","font-size":"25px"}),s("#dvChart").text("You have consumed all the allowed licenses available with this key!"),e.storage.remove(e.localStorageLicenseKey)}GetPointIndex(e){if(1==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0])return t}else if(2==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1])return t}else if(3==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2])return t}else if(4==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3])return t}else if(5==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4])return t}else if(6==e.length){for(let t=0;t<this.dataPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4]&&e[5]==this.smartLinkingSelectedPoints[t][5])return t}else if(7==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4]&&e[5]==this.smartLinkingSelectedPoints[t][5]&&e[6]==this.smartLinkingSelectedPoints[t][6])return t}else if(8==e.length)for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4]&&e[5]==this.smartLinkingSelectedPoints[t][5]&&e[6]==this.smartLinkingSelectedPoints[t][6]&&e[7]==this.smartLinkingSelectedPoints[t][7])return t;return-1}IsThisPointSelected(e){if(1==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0])return!0}else if(2==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1])return!0}else if(3==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2])return!0}else if(4==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3])return!0}else if(5==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4])return!0}else if(6==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4]&&e[5]==this.smartLinkingSelectedPoints[t][5])return!0}else if(7==e.length){for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4]&&e[5]==this.smartLinkingSelectedPoints[t][5]&&e[6]==this.smartLinkingSelectedPoints[t][6])return!0}else if(8==e.length)for(let t=0;t<this.smartLinkingSelectedPoints.length;t++)if(e[0]==this.smartLinkingSelectedPoints[t][0]&&e[1]==this.smartLinkingSelectedPoints[t][1]&&e[2]==this.smartLinkingSelectedPoints[t][2]&&e[3]==this.smartLinkingSelectedPoints[t][3]&&e[4]==this.smartLinkingSelectedPoints[t][4]&&e[5]==this.smartLinkingSelectedPoints[t][5]&&e[6]==this.smartLinkingSelectedPoints[t][6]&&e[7]==this.smartLinkingSelectedPoints[t][7])return!0;return!1}GetCategorySelectionId(e){var t=null;if(1==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&(t=this.dataPoints[n][0].selection);else if(2==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&e[1]==this.dataPoints[n][1].value&&(t=this.dataPoints[n][1].selection);else if(3==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&e[1]==this.dataPoints[n][1].value&&e[2]==this.dataPoints[n][2].value&&(t=this.dataPoints[n][2].selection);else if(4==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&e[1]==this.dataPoints[n][1].value&&e[2]==this.dataPoints[n][2].value&&e[3]==this.dataPoints[n][3].value&&(t=this.dataPoints[n][3].selection);else if(5==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&e[1]==this.dataPoints[n][1].value&&e[2]==this.dataPoints[n][2].value&&e[3]==this.dataPoints[n][3].value&&e[4]==this.dataPoints[n][4].value&&(t=this.dataPoints[n][4].selection);else if(6==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&e[1]==this.dataPoints[n][1].value&&e[2]==this.dataPoints[n][2].value&&e[3]==this.dataPoints[n][3].value&&e[4]==this.dataPoints[n][4].value&&e[5]==this.dataPoints[n][5].value&&(t=this.dataPoints[n][5].selection);else if(7==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&e[1]==this.dataPoints[n][1].value&&e[2]==this.dataPoints[n][2].value&&e[3]==this.dataPoints[n][3].value&&e[4]==this.dataPoints[n][4].value&&e[5]==this.dataPoints[n][5].value&&e[6]==this.dataPoints[n][6].value&&(t=this.dataPoints[n][6].selection);else if(8==e.length)for(let n=0;n<this.dataPoints.length;n++)e[0]==this.dataPoints[n][0].value&&e[1]==this.dataPoints[n][1].value&&e[2]==this.dataPoints[n][2].value&&e[3]==this.dataPoints[n][3].value&&e[4]==this.dataPoints[n][4].value&&e[5]==this.dataPoints[n][5].value&&e[6]==this.dataPoints[n][6].value&&e[7]==this.dataPoints[n][7].value&&(t=this.dataPoints[n][7].selection);return t}PopulatePointsOnMenu(e){this.smartLinkingPoints=e,s("#propertyContentDiv").html("");let t="";t+="<ul>";for(var n=0;n<e.length;n++){for(var r="",i=0;i<e[n].length;i++)""==r&&null!=e[n][i]&&"null"!=e[n][i].toLowerCase()&&""!=e[n][i].toLowerCase()?r=e[n][i]:null!=e[n][i]&&"null"!=e[n][i].toLowerCase()&&""!=e[n][i].toLowerCase()&&(r=r+" > "+e[n][i]);e[n].checked?t+='<li title="'+r+'" style="text-align: left; margin-left: -30px; overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"><input type="checkbox" id="checkbox'+n.toString()+'" name="checkbox'+n.toString()+'" class="smartlinkingoption" value="'+n.toString()+'" sl-pointindex="'+n.toString()+'" checked><label for="checkbox'+n.toString()+'" class="lblsmartlinkingoption">'+r+"</label></li>":t+='<li title="'+r+'" style="text-align: left; margin-left: -30px; overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"><input type="checkbox" id="checkbox'+n.toString()+'" name="checkbox'+n.toString()+'" class="smartlinkingoption" value="'+n.toString()+'" sl-pointindex="'+n.toString()+'"><label for="checkbox'+n.toString()+'" class="lblsmartlinkingoption">'+r+"</label></li>"}t+="</ul>",s("#propertyContentDiv").append(t)}GetBackLinks(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=e[i],o="_"+(t.nodeLevel-1),s=t.name.replace(o,"");if(a[t.nodeLevel-1]==s){var l=a.slice(0,a.length-1);delete l.checked;var u=n.IsThisPointSelected(l);l.checked=!!u,r.push(l)}}return r}SetSmartlinkMenuDiv(e,t,n){s("#Propertytitle").html("Smartlinking Points");var r=e.GetBackLinks(e.sankeyData,t,e);if(e.PopulatePointsOnMenu(r),s(".lblsmartlinkingoption").off("click"),s(".lblsmartlinkingoption").on("click",(e=>{s("#ApplyDiv").removeClass("disabledElement")})),s(".smartlinkingoption").off("change"),s(".smartlinkingoption").on("change",(e=>{s("#ApplyDiv").removeClass("disabledElement")})),e.ctrlKeyPressed=n.ctrlKey,s("#PropertyWindow").hide(),1!=n.altKey&&1==n.shiftKey){s("#PropertyWindow").show(),this.controlEventBinding(e);var i=n.clientX+s("#PropertyWindow").width(),a=n.clientY+s("#PropertyWindow").height(),o=s("#dvChart").width(),l=s("#dvChart").height(),u=0,c=0;i>o&&(u=-1*s("#PropertyWindow").width()),a>l&&(c=-1*s("#PropertyWindow").height()),s("#PropertyWindow").css("left",(n.clientX+u).toString()+"px"),s("#PropertyWindow").css("top",(n.clientY+c).toString()+"px")}}getUserPackageDetailErrorCallback(e,t){t.showInternetConnectivityErrorMessage(t)}saveUserDetailSuccessCallback(e,t,n){c.T.getUserPackageDetail(e,"",e.settings.trialMode.email,n,e.getUserPackageDetailSussessCallback,e.getUserPackageDetailErrorCallback,s)}saveUserDetailErrorCalback(e,t){this.showInternetConnectivityErrorMessage(t)}createSingleRoleMessageElement(){let e=document.createElement("a");return e.textContent="The dimension in category data can't be part of the drilling data section.",e.setAttribute("title","The dimension in category data can't be part of the drilling data section."),e.setAttribute("class","activateTrial"),e}createDuplicateDimensionMessageElement(){let e=document.createElement("a");return e.textContent="The duplicate dimension is not allowed in category data and drilling data section.",e.setAttribute("title","The duplicate dimension is not allowed in category data and drilling data section."),e.setAttribute("class","activateTrial"),e}createDimensionMetricMessageElement(){let e=document.createElement("a");return e.textContent="Please select minimum 2 and maximum 8 dimensions (text fields) and 1 metric (numeric field).",e.setAttribute("title","Please select minimum 2 and maximum 8 dimensions (text fields) and 1 metric (numeric field)."),e.setAttribute("class","activateTrial"),e}getFormattingModel(){return null}enumerateObjectInstances(e){let t=e.objectName;var n=this.options.dataViews[0].categorical.categories;let r=[];if("sankeyFirstLevelStats"==t){if(n.length>=1){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("sankeySecondLevelStats"==t){if(n.length>=2){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("sankeyThirdLevelStats"==t){if(n.length>=3){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("sankeyFourLevelStats"==t){if(n.length>=4){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("sankeyFiveLevelStats"==t){if(n.length>=5){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("sankeySixLevelStats"==t){if(n.length>=6){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("sankeySevenLevelStats"==t){if(n.length>=7){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("sankeyEightLevelStats"==t){if(n.length>=8){const t=this.settings||h.Jx.getDefault();return h.Jx.enumerateObjectInstances(t,e)}return r}if("dataPoint"==t||"sankeyFontStyle"==t||"sankeyStats"==t||"levelsFontStyle"==t||"licenseSettings"==t||"trialMode"==t||"unSubscribeLinkSetting"==t||"drawingMode"==t||"nodeComplexSettings"==t){const n=this.settings||h.Jx.getDefault();var i;return"sankeyStats"==t?((i=h.Jx.enumerateObjectInstances(n,e)).instances[0].validValues={linkOpacity:{numberRange:{min:1,max:10}},percentagePrecision:{numberRange:{min:0,max:3}},numberPrecision:{numberRange:{min:0,max:3}}},i.instances.push({objectName:t,displayName:"Link Color",properties:{fill:{solid:{color:this.linksDefaultColor}}},propertyInstanceKind:{fill:3},selector:o.p(0)}),i):"nodeComplexSettings"==t?null:h.Jx.enumerateObjectInstances(n,e)}{let e=[];var a=this.metaDataColumns;switch(t){case"levelsHeader":for(var s=1,l=0;l<a.length;l++)if(0==(c=a[l]).type.numeric){var u=c.displayName;null!=this.settings.levelsHeader.levelHeader&&this.settings.levelsHeader.levelHeader.length>0&&null!=this.settings.levelsHeader.levelHeader[s-1]&&(u=this.settings.levelsHeader.levelHeader[s-1]),e.push({objectName:t,displayName:"Level "+s,properties:{levelHeader:u},selector:{metadata:c.queryName}}),s+=1}e.push({objectName:t,displayName:"Level Position",properties:{levelPosition:this.settings.levelsHeader.levelPosition},selector:""});break;case"levelsPercentage":for(l=0;l<a.length;l++)0==(c=a[l]).type.numeric&&e.push({objectName:t,displayName:c.displayName,properties:{levelPercentage:this.getValue(c.objects,t,"levelPercentage",!1)},selector:{metadata:c.queryName}});break;case"levelsNumber":for(l=0;l<a.length;l++){var c;0==(c=a[l]).type.numeric&&e.push({objectName:t,displayName:c.displayName,properties:{levelNumber:this.getValue(c.objects,t,"levelNumber",!1)},selector:{metadata:c.queryName}})}break;case"sankeyFirstDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)0==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeySecondDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)1==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeyThirdDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)2==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeyFourDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)3==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeyFiveDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)4==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeySixDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)5==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeySevenDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)6==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeyEightDropOffLevel":for(let n of this.chartDropoffNodeDataPoints)7==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Drop "+n.category,properties:{markasDropOffNode:n.checked},selector:n.selectionId.getSelector()}));break;case"sankeyFirstLabels":for(let n of this.chartLabelNodeDataPoints)0==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeySecondLabels":for(let n of this.chartLabelNodeDataPoints)1==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeyThirdLabels":for(let n of this.chartLabelNodeDataPoints)2==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeyFourLabels":for(let n of this.chartLabelNodeDataPoints)3==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeyFiveLabels":for(let n of this.chartLabelNodeDataPoints)4==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeySixLabels":for(let n of this.chartLabelNodeDataPoints)5==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeySevenLabels":for(let n of this.chartLabelNodeDataPoints)6==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeyEigthLabels":for(let n of this.chartLabelNodeDataPoints)7==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:"Label",properties:{nodeTextLabel:""==n.nodeText?n.displayName:n.nodeText},selector:n.selectionId.getSelector()}));break;case"sankeyFirstLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,0==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},propertyInstanceKind:{fill:1},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0)}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},propertyInstanceKind:{fill:1},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0)}))}break;case"sankeySecondLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,1==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},propertyInstanceKind:{fill:1},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0)}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},propertyInstanceKind:{fill:1},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0)}))}break;case"sankeyThirdLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,2==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}))}break;case"sankeyFourthLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,3==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}))}break;case"sankeyFifthLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,4==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}))}break;case"sankeySixthLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,5==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}))}break;case"sankeySeventhLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,6==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}))}break;case"sankeyEightLevel":for(let n of this.chartDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,7==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{fill:{solid:{color:n.color}}},altConstantValueSelector:n.selectionId.getSelector(),selector:o.p(0),propertyInstanceKind:{fill:1}}))}break;case"sankeyFirstLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,0==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}break;case"sankeySecondLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,1==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}break;case"sankeyThirdLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,2==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}break;case"sankeyFourthLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,3==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}break;case"sankeyFifthLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,4==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}break;case"sankeySixthLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,5==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}break;case"sankeySeventhLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,6==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}break;case"sankeyEightLevelColorDirection":for(let n of this.chartColorDirectionDataPoints){let r=e.filter((function(e){return e.displayName==n.category}));null==r||r.length,7==n.levelIndex&&(this.settings.drawingMode.enableMissingData&&n.category&&"null"!=n.category.toLowerCase()?e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}):this.settings.sankeyStats.enableMissingData||e.push({objectName:t,displayName:n.category,properties:{direction:n.direction},selector:n.selectionId.getSelector()}))}}return e}}getValue(e,t,n,r){if(e){let r=e[t];if(r){let e=r[n];if(void 0!==e)return e}}return r}showInternetConnectivityErrorMessage(e){s("#dvChart").html(""),s("#powerbiHeader").html(""),s("#powerbiHeader").css("background","orange"),s("#powerbiHeader").css("height","40px"),s("#powerbiHeader").append("<img src='"+v+"Content/Images/Application/logo-chartexpo.png' style= 'height:25px;margin-top:5px;' />"),s("#dvChart").append(e.internetConnectivityElement),s("#dvChart").css("text-align","center")}showMessageInsidePowerBIVisual(e){s("#dvChart").html(""),s("#powerbiHeader").html(""),s("#powerbiHeader").css("background","orange"),s("#powerbiHeader").css("height","40px"),s("#powerbiHeader").append("<img src='"+v+"Content/Images/Application/logo-chartexpo.png' style='height:25px;margin-top:5px;' />"),s("#dvChart").append(e),s("#dvChart").append("<br/>"),s("#dvChart").css("text-align","center"),s(".subscribe").css("margin-left","0px")}getToggleSwitch_off_html(){return'<div class="GeneralSettings_txtlabel" style="display: none;"><span class="GeneralSettings_switch_span">Off</span><label class="GeneralSettings_switch"><input type="checkbox"><span class="GeneralSettings_sliderbtn round"></span></label></div>'}getToggleSwitch_on_html(){return'<div class="GeneralSettings_txtlabel" style="display: none;"><span class="GeneralSettings_switch_span">On</span><label class="GeneralSettings_switch"><input type="checkbox" checked><span class="GeneralSettings_sliderbtn round"></span></label></div>'}generatePropertyWindowForIncomingAndOutGoingLinkSettings(){s("#dvChart").append('<div id="PropertyWindow" style="display: none; left: 244px; top: 146px;"><div id="propertytitleDiv"><img id="general_properties_icon" src="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v3/general_properties.png" height="20" width="20" style="margin-left: 15px; float: left; margin-top: 5px; display: none;"><span id="Propertytitle">Sort Node Link Properties</span></div><div style="clear: both;"></div><div id="propertyContentDiv" style="max-height: 227px;"><div class="nav nav-pills nav-stacked" id="sidebar"><div class="accordion" sectionguid="27959c97-44e7-439e-ba13-374e6692ae25"><div class="btnSectionReset" sankeyresetnodeincomingsorting="27959c97-44e7-439e-ba13-374e6692ae25" title="Reset property" style="float: right;margin-right: 12px;"><img style="width:12px;height:12px;margin-top:12px;margin-right:3px;float: left;" src="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/reset_all.svg"><span style="font-size: 14px;margin-top: 9px;float: right;">Reset</span></div><div class="navSection" id="SentimentAnalysis"><div class="accordionIcon collaspeIcon" title="Expand"></div><span id="navsec2" class="navsubsection">Incoming Links:</span><div class="GeneralSettings_txtlabel" style="display: none;"><span class="GeneralSettings_switch_span">On</span><label class="GeneralSettings_switch"><input type="checkbox" checked=""><span class="GeneralSettings_sliderbtn round"></span></label></div></div><div id="UlSentimentAnalysis" class="catogoryChart" style=" display: none;"><div style="padding-left: 4px; font-size: 14px;padding-top: 4px;padding-right: 4px;padding-bottom: 15px"><div id="incomingLinks" guid="27959c97-44e7-439e-ba13-374e6692ae25" class="chartLinkedProperty propertyContentDiv" style="" type="linkSortOrder" componenttype="chart" data-listidx="0"><div class="linksIncomingOutgoingProperty" dataset="Tablet(1200)" style="cursor: move;">Tablet(1200)</div><div class="linksIncomingOutgoingProperty" dataset="Tablet(1023)" style="cursor: move;">Tablet(1023)</div><div class="linksIncomingOutgoingProperty" dataset="Mobile(2031)" style="cursor: move;">Mobile(2031)</div><div class="linksIncomingOutgoingProperty" dataset="Mobile(1031)" style="cursor: move;">Mobile(1031)</div><div class="linksIncomingOutgoingProperty" dataset="Mobile(150)" style="cursor: move;">Mobile(150)</div><div class="linksIncomingOutgoingProperty" dataset="Desktop(804)" style="cursor: move;">Desktop(804)</div><div class="linksIncomingOutgoingProperty" dataset="Smart TV(900)" style="cursor: move;">Smart TV(900)</div></div></div></div><div style="height: 2px; background-color: #ffffff;"></div></div><div class="accordion" sectionguid="455810ed-4a1e-4155-89b1-492b2d473dea"><div class="btnSectionReset" sankeyresetnodeoutgoingsorting="455810ed-4a1e-4155-89b1-492b2d473dea" title="Reset property" style="float: right;margin-right: 12px;"><img style="width:12px;height:12px;margin-top:12px;margin-right:3px;float: left;" src="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/reset_all.svg"><span style="font-size: 14px;margin-top: 9px;float: right;">Reset</span></div><div class="navSection" id="StatComparitiveAnalysis"><div class="accordionIcon collaspeIcon" title="Expand"></div><span id="navsec3" class="navsubsection">Outgoing Links:</span><div class="GeneralSettings_txtlabel" style="display: none;"><span class="GeneralSettings_switch_span">On</span><label class="GeneralSettings_switch"><input type="checkbox" checked=""><span class="GeneralSettings_sliderbtn round"></span></label></div></div><div id="StatUlComparitiveAnalysis" class="catogoryChart" style="display: none;"><div style="padding-left: 4px; font-size: 14px;padding-top: 4px;padding-right: 4px;"><div id="outgoingLinks" guid="455810ed-4a1e-4155-89b1-492b2d473dea" class="chartLinkedProperty propertyContentDiv" style="" type="linkSortOrder" componenttype="chart" data-listidx="0"><div class="linksIncomingOutgoingProperty" dataset="Cost(1200)" style="cursor: move;">Cost(1200)</div><div class="linksIncomingOutgoingProperty" dataset="Cost(1023)" style="cursor: move;">Cost(1023)</div><div class="linksIncomingOutgoingProperty" dataset="Cost(2031)" style="cursor: move;">Cost(2031)</div><div class="linksIncomingOutgoingProperty" dataset="Cost(1031)" style="cursor: move;">Cost(1031)</div><div class="linksIncomingOutgoingProperty" dataset="Cost(150)" style="cursor: move;">Cost(150)</div><div class="linksIncomingOutgoingProperty" dataset="Cost(804)" style="cursor: move;">Cost(804)</div><div class="linksIncomingOutgoingProperty" dataset="Cost(900)" style="cursor: move;">Cost(900)</div></div></div></div><div style="height: 2px; background-color: #ffffff;"></div></div></div></div><div style="clear: both;"></div><div id="controlButtons"><div id="ApplyDiv" class="disabledElement" style="display: block;">Apply</div><div id="CancelDiv"><span class="setCancelpadding " id="cancelPropertyWindow" style="float: left;text-align: center;margin-top: 0.09em;">Cancel</span></div></div></div>'),s("#dvChart").append('<div class="error_dialog" style="display: none; left: 511px; top: 194px; width: 215px; z-index: 1000000000;"><div class="error_dialog_icon" style="display: none;"><img src="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/errordialog/warning.png" class="error_dialog_image"></div><div class="error_dialog_content"><span class="error_dialog_title error_title" style="color: rgb(252, 176, 64);">Reset Properties</span><div style="clear:both;height:10px;"></div><span class="error_dialog_message_detail error_message">Are you sure to reset group properties</span><div style="clear:both;height:10px;"></div><div class="error_dialog_buttons" style="display: block;"><input type="button" class="error_dialog_button_view" value="Yes"><input type="button" class="error_dialog_button_cancel" value="Cancel"></div></div><div class="error_dialog_close_icon" style="display: block;"><img src="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/errordialog/close.png" class="error_dialog_closeButton" title="Close"></div></div>')}getChartNodeIncomingOutgoingLinkSortProperties(e,t,n){var r,i,a=t.componentType,o=t.isLastLevel,l=t.dataPointName,u=t.dataPointLevel,c="",h="",p="",d=!1,f=!1;this.nodeNameLevelKey_Sankey=l+"_"+u;for(var g=0;g<e.length;g++)if(e[g],"node"===e[g].group&&"incominglinkssortoverride"===e[g].name.toLowerCase()){a=e[g].componentType||t.componentType;var v=e[g].value;e[g].value!==e[g].defaults&&(d=!0);var y=JSON.parse(v);this.nodeIncomingLinksSortOverride_Sankey=y;for(var m=[],b=0;b<e.length;b++)if("node"==e[b].group&&"incomingLinksSortOverrideInformation"==e[b].name){m=JSON.parse(e[b].value);break}r='<div id="incomingLinks" guid="'+e[g]._guid+'" class="chartLinkedProperty propertyContentDiv" style="" type="linkSortOrder" componentType="'+a+'">';for(var x=0;x<m.length;x++)r+='<div class="linksIncomingOutgoingProperty" dataSet="'+m[x].name+'" title="'+m[x].tooltip+'">'+m[x].displayName+"</div>";r+="</div>"}else if("node"===e[g].group&&"outgoinglinkssortoverride"===e[g].name.toLowerCase()){a=e[g].componentType||t.componentType,v=e[g].value,e[g].value!==e[g].defaults&&(f=!0),y=JSON.parse(v),this.nodeOutgoingLinksSortOverride_Sankey=y;var S=[];for(b=0;b<e.length;b++)if("node"==e[b].group&&"outgoingLinksSortOverrideInformation"==e[b].name){S=JSON.parse(e[b].value);break}i='<div id="outgoingLinks" guid="'+e[g]._guid+'" class="chartLinkedProperty propertyContentDiv" style="" type="linkSortOrder" componentType="'+a+'">';for(var k=0;k<S.length;k++)i+='<div class="linksIncomingOutgoingProperty" dataSet="'+S[k].name+'" title="'+S[k].tooltip+'">'+S[k].displayName+"</div>";i+="</div>"}var w=this.getToggleSwitch_off_html(),L=this.getToggleSwitch_on_html(),C={nodeAccordianHeight:75,statsAccordianHeight:75,symbolAccordianHeight:55,fontStyleAccordianHeight:105},_=0;for(var P in C)C.hasOwnProperty(P)&&C[P]>_&&(_=C[P]);c+='<div class="nav nav-pills nav-stacked" id="sidebar">',h+='<div class="accordion" sectionGuid="27959c97-44e7-439e-ba13-374e6692ae25">',h+='<div class="btnSectionReset" sankeyResetNodeIncomingSorting="27959c97-44e7-439e-ba13-374e6692ae25" title="Reset property" style="float: right;margin-right: 12px;"><img style="width:12px;height:12px;margin-top:12px;margin-right:3px;float: left;" src="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/reset_all.svg"><span style="font-size: 14px;margin-top: 9px;float: right;">Reset</span></div>',h+='<div class="navSection" id="SentimentAnalysis">',h+='<div class="accordionIcon collaspeIcon" title="Expand"></div>',h+='<span id="navsec2" class="navsubsection">Incoming Links:</span>',h+=d?L:w,h+="</div>",h+='<div id="UlSentimentAnalysis" class="catogoryChart" style=" display: none;">',h+='<div style="padding-left: 4px; font-size: 14px;padding-top: 4px;padding-right: 4px;padding-bottom: 15px">',h+=r,h+="</div>",h+="</div>",h+='<div style="height: 2px; background-color: #ffffff;"></div>',h+="</div>",p+='<div class="accordion" sectionGuid="455810ed-4a1e-4155-89b1-492b2d473dea">',p+='<div class="btnSectionReset" sankeyResetNodeOutgoingSorting="455810ed-4a1e-4155-89b1-492b2d473dea" title="Reset property" style="float: right;margin-right: 12px;"><img style="width:12px;height:12px;margin-top:12px;margin-right:3px;float: left;" src="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/reset_all.svg"><span style="font-size: 14px;margin-top: 9px;float: right;">Reset</span></div>',p+='<div class="navSection" id="StatComparitiveAnalysis">',p+='<div class="accordionIcon collaspeIcon" title="Expand"></div>',p+='<span id="navsec3" class="navsubsection">Outgoing Links:</span>',p+=f?L:w,p+="</div>",p+='<div id="StatUlComparitiveAnalysis" class="catogoryChart" style="display: none;">',p+='<div style="padding-left: 4px; font-size: 14px;padding-top: 4px;padding-right: 4px;">',p+=i,p+="</div>",p+="</div>",p+='<div style="height: 2px; background-color: #ffffff;"></div>',p+="</div>",1==u||0==m.length?h="":c+=h,1==o||0==S.length?p="":c+=p,s("#propertyContentDiv").html(""),s("#propertyContentDiv").html(c),s("#Propertytitle").html("Sort Node Link Properties"),s("#PropertyWindow").show(),this.dragEventBinding(),this.controlEventBinding(n)}hasSelectionId(e,t=null){var n=t;null!=n&&null!=n||(n=this.selectionManager.getSelectionIds());var r=n.filter((function(t){return JSON.stringify(t)==JSON.stringify(e)}));return null!=r&&0!=r.length}markSelectionsInArray(){var e=this;s(".smartlinkingoption").each((function(t){var n=s(this).attr("SL-PointIndex");e.smartLinkingPoints[n].checked=s(this).prop("checked")}))}clearAllSelectionsOfVisualIfControlKeyNotPressed(){this.ctrlKeyPressed||(this.selectionManager.clear(),this.smartLinkingSelectedPoints=[])}markNewSelectionsInSelectionManager(){for(var e=this.smartLinkingPoints.filter((function(e){return 0==e.checked})),t=0;t<e.length;t++){var n=e[t],r=this.GetCategorySelectionId(n),i=this.hasSelectionId(r);delete n.checked;var a=this.GetPointIndex(n);a>=0&&this.smartLinkingSelectedPoints.splice(a,1),1==i&&this.selectionManager.select(r,!0)}var o=this.smartLinkingPoints.filter((function(e){return 1==e.checked}));for(t=0;t<o.length;t++)n=o[t],r=this.GetCategorySelectionId(n),0==(i=this.hasSelectionId(r))&&(this.smartLinkingSelectedPoints.push(n),this.selectionManager.select(r,!0))}controlEventBinding(e){s("#ApplyDiv").off("click"),s("#ApplyDiv").on("click",(function(t){if("Smartlinking Points"==s("#Propertytitle").text())e.markSelectionsInArray(),e.clearAllSelectionsOfVisualIfControlKeyNotPressed(),e.markNewSelectionsInSelectionManager();else{1==e.resetIncomingLinks&&(e.resetIncomingLinks=!1,delete e.nodeIncomingLinksSortOverride_Sankey[e.nodeNameLevelKey_Sankey]),1==e.resetOutgoingLinks&&(e.resetOutgoingLinks=!1,delete e.nodeOutgoingLinksSortOverride_Sankey[e.nodeNameLevelKey_Sankey]),e.nodeIncomingLinksSortOverride=JSON.stringify(this.nodeIncomingLinksSortOverride_Sankey),e.nodeOutgoingLinksSortOverride=JSON.stringify(this.nodeOutgoingLinksSortOverride_Sankey);const t={objectName:"nodeComplexSettings",selector:void 0,properties:{nodeIncomingLinksSortOverride:JSON.stringify(e.nodeIncomingLinksSortOverride_Sankey),nodeOutgoingLinksSortOverride:JSON.stringify(e.nodeOutgoingLinksSortOverride_Sankey)}};e.host.persistProperties({merge:[t]}),e.DrawSankey(e,e.options,e.isWaterMarkEnabled)}s("#propertyContentDiv").html(""),s("#PropertyWindow").css("display","none")})),s("#CancelDiv").on("click",(function(t){e.resetIncomingLinks=!1,e.resetOutgoingLinks=!1,s("#propertyContentDiv").html(""),s("#ApplyDiv").css("display","block"),s("#PropertyWindow").css("display","none"),s("#ApplyDiv").addClass("disabledElement")})),s(".chartLinkedProperty").on("input change",(function(){s("#ApplyDiv").removeClass("disabledElement")})),s(".txtBox_multiLine").on("input",(function(){s("#ApplyDiv").removeClass("disabledElement")})),s(".validateFloat").on("input",(function(){var e=s(this).val().replace(/[^0-9.-]/g,"").replace(/(\..*)\./g,"$1").replace(/(\-.*)\-/g,"$1");s(this).val(e),s("#ApplyDiv").removeClass("disabledElement")})),s(".txtBox_multiLine").on("change",(function(){var e="";s(".txtBox_multiLine").each((function(t){e+=s(this).val(),t<s(".txtBox_multiLine").length-1&&(e+="<br>")})),""==e.split("<br>").splice(-1,1)[0]&&(e=e.replace("<br>","")),s("#txtBox").val(e),s("#ApplyDiv").removeClass("disabledElement"),e.length>0&&!s('.chartLinkedProperty[guid="51416d2f-048e-4fcf-a3b2-6e94662fec07"]').is(":checked")?s('.chartLinkedProperty[guid="51416d2f-048e-4fcf-a3b2-6e94662fec07"]').prop("checked",!0):0===e.length&&s('.chartLinkedProperty[guid="51416d2f-048e-4fcf-a3b2-6e94662fec07"]').is(":checked")&&s('.chartLinkedProperty[guid="51416d2f-048e-4fcf-a3b2-6e94662fec07"]').prop("checked",!1)})),s(".FontSizeDropDown").on("change",(function(){s(".fontSizebtn").css("background-color","white"),s(".fontSizebtn").find("span").attr("isSelected","false"),s("#ApplyDiv").removeClass("disabledElement")})),s(".fontSizebtn").on("click",(function(){s(".fontSizebtn").not(this).css("background-color","white"),s(".fontSizebtn").not(this).find("span").attr("isSelected","false"),"false"==s(this).find("span").attr("isSelected")?(s(this).css("background-color","#C2D5F2"),s(this).find("span").attr("isSelected","true"),s(this).siblings().find(".FontSizeDropDown").val(s(this).find("span").attr("font-size"))):(s(this).css("background-color","white"),s(this).find("span").attr("isSelected","false"),s(".FontSizeDropDown").val(s(".FontSizeDropDown").attr("defaultselectedvalue"))),s("#ApplyDiv").removeClass("disabledElement")})),s(".DropDownOverride").on("change",(function(){var e=s(this).val();if(s(this).attr("override-value")){var t=s(this).attr("override-value"),n=s(this).attr("data-point"),r=n.split(":")[0]+":"+e;t=t.split(",").map((function(e){return e==n?e.replace(n,r):e})).join(","),s(this).attr("data-point",r),s(this).attr("override-value",t)}s("#ApplyDiv").removeClass("disabledElement")})),s(".InputTextOverride").on("change",(function(){var e=s(this).val();if(s(this).attr("override-value")){var t=s(this).attr("override-value"),n=s(this).attr("data-point"),r=n.split(":")[0]+":"+e;t=t.replace(n,r),s(this).attr("data-point",r),s(this).attr("override-value",t)}s("#ApplyDiv").removeClass("disabledElement")})),s(".InputTextOverrideCommaSeparated").on("change",(function(){var e=s(this).val();if(s(this).attr("override-value")){var t=s(this).attr("override-value"),n=s(this).attr("data-point"),r=n.split(":")[0]+":"+e.replace(/,/g,"|");t=t.replace(n,r),s(this).attr("data-point",r),s(this).attr("override-value",t)}s("#ApplyDiv").removeClass("disabledElement")})),s(".slider_GeneralSettings").on("input change",(function(){var e=+s(this).val();if(s(this).attr("override-value")){var t=s(this).attr("override-value"),n=s(this).attr("data-point"),r=n.split(":")[0]+":"+e;t=t.replace(n,r),s(this).attr("data-point",r),s(this).attr("override-value",t),s(this).parent().siblings(".GeneralSettings_input_number").attr("data-point",r),s(this).parent().siblings(".GeneralSettings_input_number").attr("override-value",t)}s(this).parent().siblings(".GeneralSettings_input_number").val(s(this).val()),s("#ApplyDiv").removeClass("disabledElement")})),s(".GeneralSettings_input_number").on("input change",(function(){var e=parseInt(s(this).attr("max")),t=parseInt(s(this).attr("min")),n=+s(this).val();if(n>e?(s(this).val(e),n=e):n<t&&(s(this).val(t),n=t),s(this).attr("override-value")){var r=s(this).attr("override-value"),i=s(this).attr("data-point"),a=i.split(":")[0]+":"+n;r=r.replace(i,a),s(this).attr("override-value",r),s(this).attr("data-point",a),s(this).siblings().find(".slider_GeneralSettings").attr("data-point",a),s(this).siblings().find(".slider_GeneralSettings").attr("override-value",r)}s(this).siblings().find(".slider_GeneralSettings").val(s(this).val()),s("#ApplyDiv").removeClass("disabledElement")})),s(".GeneralSettings_txt").on("change",(function(){var e=parseInt(s(this).attr("max")),t=parseInt(s(this).attr("min"));+s(this).val()>e?s(this).val(e):+s(this).val()<t&&s(this).val(t),s("#ApplyDiv").removeClass("disabledElement")})),s(".GeneralSettings_switch input").on("change",(function(){s(this).is(":checked")?s(this).parent().siblings(".GeneralSettings_switch_span").text("On"):s(this).parent().siblings(".GeneralSettings_switch_span").text("Off"),s("#ApplyDiv").removeClass("disabledElement")})),s(".ToggleButtonOverrideControl input").on("change",(function(){var e,t=s(this).attr("override-value"),n=s(this).attr("data-point");"true"==s(this).attr("emptyPropertyCheck")?s(this).is(":checked")?(e=t.split(",").indexOf(n))>-1&&((t=t.split(",")).splice(e,1),t=t.join(",")):-1==(e=t.split(",").indexOf(n))&&(t+=""==t?n:","+n):s(this).is(":checked")?-1==(e=t.split(",").indexOf(n))&&(t+=""==t?n:","+n):(e=t.split(",").indexOf(n))>-1&&((t=t.split(",")).splice(e,1),t=t.join(",")),s(this).attr("override-value",t),s("#ApplyDiv").removeClass("disabledElement")})),s(".navSection").on("click",(function(e){var t=s(this),n=s(this).siblings(".catogoryChart").css("display");if(s(".catogoryChart").slideUp(),s(".accordionIcon").removeClass("expandIcon").addClass("collaspeIcon"),s(".accordionIcon").attr("title","Expand"),"none"===n){s(this).siblings(".catogoryChart").slideDown(),s(this).find(".accordionIcon").removeClass("collaspeIcon").addClass("expandIcon"),s(this).find(".accordionIcon").attr("title","Collapse");var r=s(t).position();s("#propertyContentDiv").animate({scrollTop:r.top-30},500)}}))}dragEventBinding(){s.fn.dragsort=function(e){if("destroy"!==e){var t=s.extend({},s.fn.dragsort.defaults,e),n=[],r=null,i=null;return this.each((function(a,o){s(o).is("table")&&1===s(o).children().length&&s(o).children().is("tbody")&&(o=s(o).children().get(0));var l={draggedItem:null,placeHolderItem:null,pos:null,offset:null,offsetLimit:null,scroll:null,container:o,init:function(){t.tagName=0===s(this.container).children().length?"li":s(this.container).children().get(0).tagName.toLowerCase(),t.itemSelector||(t.itemSelector=t.tagName),t.dragSelector||(t.dragSelector=t.tagName),t.placeHolderTemplate||(t.placeHolderTemplate="<"+t.tagName+">&nbsp;</"+t.tagName+">"),s(this.container).attr("data-listidx",a).bind("mousedown touchstart",this.grabItem).bind("dragsort-uninit",this.uninit),this.styleDragHandlers(!0)},uninit:function(){var e=n[s(this).attr("data-listidx")];s(e.container).unbind("mousedown touchstart",e.grabItem).unbind("dragsort-uninit"),e.styleDragHandlers(!1)},getItems:function(){return s(this.container).children(t.itemSelector)},styleDragHandlers:function(e){this.getItems().map((function(){return s(this).is(t.dragSelector)?this:s(this).find(t.dragSelector).get()})).css("cursor",e?t.cursor:"default")},grabItem:function(e){var r=n[s(this).attr("data-listidx")],i=s(e.target).closest("[data-listidx] > "+t.tagName).get(0),a=r.getItems().filter((function(){return this==i})).length>0;if(!(1!==e.which&&0!==e.which||s(e.target).is(t.dragSelectorExclude)||s(e.target).closest(t.dragSelectorExclude).length>0)&&a){e.preventDefault();for(var o=e.target;!s(o).is(t.dragSelector);){if(o==this)return;o=o.parentNode}s(o).attr("data-cursor",s(o).css("cursor")),s(o).css("cursor","move");var l=this,u=function(){r.dragStart.call(l,e),s(r.container).unbind("mousemove touchmove",u)};s(r.container).bind("mousemove touchmove",u).bind("mouseup touchend",(function(){s(r.container).unbind("mousemove touchmove",u),s(o).css("cursor",s(o).attr("data-cursor"))}))}},dragStart:function(e){null!=r&&null!=r.draggedItem&&r.dropItem(),e.changedTouches&&e.changedTouches[0]&&(e.pageX=e.changedTouches[0].pageX,e.pageY=e.changedTouches[0].pageY),(r=n[s(this).attr("data-listidx")]).draggedItem=s(e.target).closest("[data-listidx] > "+t.tagName),r.draggedItem.attr("data-origpos",s(this).attr("data-listidx")+"-"+s(r.container).children().index(r.draggedItem));var i=parseInt(r.draggedItem.css("marginTop")),a=parseInt(r.draggedItem.css("marginLeft"));if(r.offset=r.draggedItem.offset(),r.offset.top=e.pageY-r.offset.top+(isNaN(i)?0:i)-1,r.offset.left=e.pageX-r.offset.left+(isNaN(a)?0:a)-1,!t.dragBetween){var o=0==s(r.container).outerHeight()?Math.max(1,Math.round(.5+r.getItems().length*r.draggedItem.outerWidth()/s(r.container).outerWidth()))*r.draggedItem.outerHeight():s(r.container).outerHeight();r.offsetLimit=s(r.container).offset(),r.offsetLimit.right=r.offsetLimit.left+s(r.container).outerWidth()-r.draggedItem.outerWidth(),r.offsetLimit.bottom=r.offsetLimit.top+o-r.draggedItem.outerHeight()}var l=r.draggedItem.height(),u=r.draggedItem.width();if("tr"===t.tagName?(r.draggedItem.children().each((function(){s(this).width(s(this).width())})),r.placeHolderItem=r.draggedItem.clone().attr("data-placeholder",!0),r.draggedItem.after(r.placeHolderItem),r.placeHolderItem.children().each((function(){s(this).css({borderWidth:0,width:s(this).width()+1,height:s(this).height()+1}).html("&nbsp;")}))):(r.draggedItem.after(t.placeHolderTemplate),r.placeHolderItem=r.draggedItem.next().css({height:l,width:u}).attr("data-placeholder",!0)),"td"===t.tagName){var c=r.draggedItem.closest("table").get(0);s('<table id="'+c.id+'" style="border-width: 0px;" class="dragSortItem '+c.className+'"><tr></tr></table>').appendTo("body").children().append(r.draggedItem)}var h=r.draggedItem.attr("style");r.draggedItem.attr("data-origstyle",h||""),r.draggedItem.css({position:"absolute",opacity:.8,"z-index":999,height:l,width:u}),r.scroll={moveX:0,moveY:0,maxX:s(document).width()-s(g).width(),maxY:s(document).height()-s(g).height()},r.scroll.scrollY=g.setInterval((function(){if(t.scrollContainer==g){var e=s(t.scrollContainer).scrollTop();(r.scroll.moveY>0&&e<r.scroll.maxY||r.scroll.moveY<0&&e>0)&&(s(t.scrollContainer).scrollTop(e+r.scroll.moveY),r.draggedItem.css("top",r.draggedItem.offset().top+r.scroll.moveY+1))}else s(t.scrollContainer).scrollTop(s(t.scrollContainer).scrollTop()+r.scroll.moveY)}),10),r.scroll.scrollX=g.setInterval((function(){if(t.scrollContainer==g){var e=s(t.scrollContainer).scrollLeft();(r.scroll.moveX>0&&e<r.scroll.maxX||r.scroll.moveX<0&&e>0)&&(s(t.scrollContainer).scrollLeft(e+r.scroll.moveX),r.draggedItem.css("left",r.draggedItem.offset().left+r.scroll.moveX+1))}else s(t.scrollContainer).scrollLeft(s(t.scrollContainer).scrollLeft()+r.scroll.moveX)}),10),s(n).each((function(e,t){t.createDropTargets(),t.buildPositionTable()})),r.setPos(e.pageX,e.pageY),s(document).bind("mousemove touchmove",r.swapItems),s(document).bind("mouseup touchend",r.dropItem),t.scrollContainer!=g&&s(g).bind("wheel",r.wheel)},setPos:function(e,n){var i=n-this.offset.top,a=e-this.offset.left;t.dragBetween||(i=Math.min(this.offsetLimit.bottom,Math.max(i,this.offsetLimit.top)),a=Math.min(this.offsetLimit.right,Math.max(a,this.offsetLimit.left)));var o=this.draggedItem.offsetParent().not("body").offset();if(null!=o&&(i-=o.top,a-=o.left),t.scrollContainer==g)n-=s(g).scrollTop(),e-=s(g).scrollLeft(),n=Math.max(0,n-s(g).height()+5)+Math.min(0,n-5),e=Math.max(0,e-s(g).width()+5)+Math.min(0,e-5);else{var l=s(t.scrollContainer),u=l.offset();n=Math.max(0,n-l.height()-u.top)+Math.min(0,n-u.top),e=Math.max(0,e-l.width()-u.left)+Math.min(0,e-u.left)}r.scroll.moveX=0===e?0:e*t.scrollSpeed/Math.abs(e),r.scroll.moveY=0===n?0:n*t.scrollSpeed/Math.abs(n),this.draggedItem.css({top:i,left:a})},wheel:function(e){if(r&&t.scrollContainer!=g){var n=s(t.scrollContainer),i=n.offset();if((e=e.originalEvent).clientX>i.left&&e.clientX<i.left+n.width()&&e.clientY>i.top&&e.clientY<i.top+n.height()){var a=(0===e.deltaMode?1:10)*e.deltaY;n.scrollTop(n.scrollTop()+a),e.preventDefault()}}},buildPositionTable:function(){var e=[];this.getItems().not([r.draggedItem[0],r.placeHolderItem[0]]).each((function(t){var n=s(this).offset();n.right=n.left+s(this).outerWidth(),n.bottom=n.top+s(this).outerHeight(),n.elm=this,e[t]=n})),this.pos=e},dropItem:function(){if(null!=r.draggedItem){var i=r.draggedItem.attr("data-origstyle");if(r.draggedItem.attr("style",i),""==i&&r.draggedItem.removeAttr("style"),r.draggedItem.removeAttr("data-origstyle"),r.styleDragHandlers(!0),r.placeHolderItem.before(r.draggedItem),r.placeHolderItem.remove(),s("[data-droptarget], .dragSortItem").remove(),g.clearInterval(r.scroll.scrollY),g.clearInterval(r.scroll.scrollX),r.draggedItem.attr("data-origpos")!=s(n).index(r)+"-"+s(r.container).children().index(r.draggedItem)&&0==t.dragEnd.call(r.draggedItem,e.VisualObject)){var a=r.draggedItem.attr("data-origpos").split("-"),o=s(n[a[0]].container).children().not(r.draggedItem).eq(a[1]);o.length>0?o.before(r.draggedItem):0==a[1]?s(n[a[0]].container).prepend(r.draggedItem):s(n[a[0]].container).append(r.draggedItem)}return r.draggedItem.removeAttr("data-origpos"),r.draggedItem=null,s(document).unbind("mousemove touchmove",r.swapItems),s(document).unbind("mouseup touchend",r.dropItem),t.scrollContainer!=g&&s(g).unbind("wheel",r.wheel),!1}},swapItems:function(e){if(null==r.draggedItem)return!1;e.changedTouches&&e.changedTouches[0]&&(e.pageX=e.changedTouches[0].pageX,e.pageY=e.changedTouches[0].pageY),r.setPos(e.pageX,e.pageY);for(var a=r.findPos(e.pageX,e.pageY),o=r,l=0;-1==a&&t.dragBetween&&l<n.length;l++)a=n[l].findPos(e.pageX,e.pageY),o=n[l];if(-1==a)return!1;var u=function(){return s(o.container).children().not(o.draggedItem)},c=u().not(t.itemSelector).each((function(e){this.idx=u().index(this)}));return null==i||i.top>r.draggedItem.offset().top||i.left>r.draggedItem.offset().left?s(o.pos[a].elm).before(r.placeHolderItem):s(o.pos[a].elm).after(r.placeHolderItem),c.each((function(){var e=u().eq(this.idx).get(0);this!=e&&u().index(this)<this.idx?s(this).insertAfter(e):this!=e&&s(this).insertBefore(e)})),s(n).each((function(e,t){t.createDropTargets(),t.buildPositionTable()})),i=r.draggedItem.offset(),!1},findPos:function(e,t){for(var n=0;n<this.pos.length;n++)if(this.pos[n].left<e&&this.pos[n].right>e&&this.pos[n].top<t&&this.pos[n].bottom>t)return n;return-1},createDropTargets:function(){t.dragBetween&&s(n).each((function(){var e=s(this.container).find("[data-placeholder]"),n=s(this.container).find("[data-droptarget]");e.length>0&&n.length>0?n.remove():0===e.length&&0===n.length&&("td"===t.tagName?s(t.placeHolderTemplate).attr("data-droptarget",!0).appendTo(this.container):s(this.container).append(r.placeHolderItem.removeAttr("data-placeholder").clone().attr("data-droptarget",!0)),r.placeHolderItem.attr("data-placeholder",!0))}))}};l.init(),n.push(l)})),this}s(this).trigger("dragsort-uninit")},s.fn.dragsort.defaults={itemSelector:"",dragSelector:"",VisualObject:null,dragSelectorExclude:"input, textarea",dragEnd:function(){},dragBetween:!1,placeHolderTemplate:"",scrollContainer:g,scrollSpeed:5,cursor:"pointer"},s("#incomingLinks").dragsort({dragSelector:"div",dragBetween:!0,VisualObject:this,dragEnd:this.saveOrder_IncomingLinks,placeHolderTemplate:"<div class='placeHolder'></div>",cursor:"move"}),s("#outgoingLinks").dragsort({dragSelector:"div",dragBetween:!0,VisualObject:this,dragEnd:this.saveOrder_OutgoingLinks,placeHolderTemplate:"<div class='placeHolder'></div>",cursor:"move"})}saveOrder_OutgoingLinks(e){var t=s("#outgoingLinks div").map((function(){return s(this).attr("dataSet")})).get();s("#ApplyDiv").removeClass("disabledElement"),e.nodeOutgoingLinksSortOverride_Sankey[e.nodeNameLevelKey_Sankey]=t}saveOrder_IncomingLinks(e){var t=s("#incomingLinks div").map((function(){return s(this).attr("dataSet")})).get();e.nodeIncomingLinksSortOverride_Sankey[e.nodeNameLevelKey_Sankey]=t,s("#ApplyDiv").removeClass("disabledElement")}showMessageDialog(e,t,n,r,i,a,o){r=r||!1,s(".error_title").html(e),s(".error_message").html(t),r?(s(".error_dialog_buttons").css("display","block"),s(".error_dialog_button_view").val(i[0]),s(".error_dialog_button_cancel").val(i[1])):s(".error_dialog_buttons").css("display","none"),"error"===n?(s(".error_title").css("color","#ED1C24"),s(".error_dialog_image").attr("src","https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/errordialog/delete.png")):"information"===n?(s(".error_title").css("color","#0A9446"),s(".error_dialog_image").attr("src","https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/errordialog/success.png")):"confirmation"===n&&(s(".error_title").css("color","#FCB040"),s(".error_dialog_image").attr("src","https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/errordialog/warning.png")),s(".error_dialog_close_icon").css("display","block"),void 0!==o&&!1===o?s(".error-overlay").fadeOut("slow"):s(".error-overlay").fadeIn("slow"),s(".error_dialog").fadeIn("slow")}hideMessageDialog(){s(".error-overlay").fadeOut("slow"),s(".error_dialog").fadeOut("slow")}DrawSankey(e,t,i,a){null==a&&(this.PrepareData(e),a=this.sankeyData),this.PrepareProperties(e);let o=0;o=s("#divSubscribe").length>0&&0==this.settings.drawingMode.manualSorting||s("#divSubscribe").length>0&&s("#divSubscribe").children().length>0&&s("#powerbiHeader").children().length>0?50:s("#divSubscribe").length>0&&s("#divSubscribe").children().length>0||s("#powerbiHeader").children().length>0?30:1==this.settings.drawingMode.manualSorting?10:30,this.settingsObj={height:t.viewport.height-o,width:t.viewport.width,customInformation:"customInformation",renderTo:"dvChart",data:a,lib:"D3"},s("#dvChart").html(""),this.sankeyProperties[5].isWatermarkEnabled=i;let l=e.options.dataViews[0].categorical.categories,h=(this.getLevelSortingString(l),{nodesCustomLocations:JSON.parse("{}")});try{h={nodesCustomLocations:JSON.parse(this.settings.nodeComplexSettings.nodePositions)}}catch(e){h={nodesCustomLocations:JSON.parse("{}")}}this.sankeyProperties[10]=h,console.log("Chart Properties:",this.sankeyProperties);var p=c.T.SankeyGraph(this.settingsObj,this.sankeyProperties,r||(r=n.t(u,2)),"dvChartContainer",e.host,s,e.tooltipServiceWrapper);p.onDragNode=this.onDragNode,p.VisualObject=this,this.generatePropertyWindowForIncomingAndOutGoingLinkSettings(),p.nodeInfoCallback=function(t,n){e.SetSmartlinkMenuDiv(p.VisualObject,t,n)},e.sankeyDrillingManager.bindDrillDownContextMenu(e,s),e.bindOnEditEvent(p),e.sankeyChartRef=p,e.showNodePositionsDiv(),e.settings.drawingMode.showTooltip&&(this.tooltipServiceWrapper.addTooltip(".nodeMoveAble",(t=>e.getTooltipData(t)),(e=>null)),this.tooltipServiceWrapper.addTooltip(".link",(t=>e.getLinkToolTipData(t)),(e=>null)),this.tooltipServiceWrapper.addTooltip(".lableText",(t=>e.getTooltipDataForLabels(t)),(e=>null)))}getTooltipData(e){return[{displayName:e.ToolTipLabel.replace(/_[0-9]+/g,""),value:e.tooltipStats,color:"",header:""}]}getLinkToolTipData(e){let t=this.dataView.categorical.categories[e.source.nodeLevel-1].source.displayName,n=this.dataView.categorical.categories[e.target.nodeLevel-1].source.displayName,r=this.dataView.categorical.values[0].source.displayName,i=(e.source.ToolTipLabel,e.target.ToolTipLabel,this.getSumAndPercentValues(e.source.ToolTipLabel,e.target.ToolTipLabel,e.source,e.nodeLevel));return[{displayName:t,value:e.source.ToolTipLabel,color:"",header:""},{displayName:n,value:e.target.ToolTipLabel,color:"",header:""},{displayName:r,value:i.FinalFormattedNumber.toString(),color:"",header:""}]}getTooltipDataForLabels(e){return[{displayName:e.name,value:"",color:"",header:""}]}getSumAndPercentValues(e,t,n,r){let i=0,a=0;for(let r=0;r<n.sourceLinks.length;r++){let o=n.sourceLinks[r],s=e.replace(":","|").replace(",","|"),l=t.replace(":","|").replace(",","|"),u=!1,c=!1,h=o.path.split(",").length-1;null!=o.newRightPath&&(null!=o.newRightPath[h]&&(o.newRightPath[h].replace(/_[0-9]+/g,"")!=e&&o.newRightPath[h].replace(/_[0-9]+/g,"")!=s||(u=!0)),null!=o.newRightPath[h+1]&&(o.newRightPath[h+1].replace(/_[0-9]+/g,"")!=t&&o.newRightPath[h+1].replace(/_[0-9]+/g,"")!=l||(c=!0))),1==u&&1==c&&(i+=o.value),a+=o.value}let o=!1,s=!1;"Number Format"==this.settings.drawingMode.formatType?o=!1:"Currency Format"==this.settings.drawingMode.formatType&&(o=!1,o=!0);let l=this.applyNumberFormat(i,o),u=i/a*100;return u.toFixed(this.settings.sankeyStats.percentagePrecision).toString(),{SumValue:i,TotalValue:a,PercentValue:u,AppliedFormatNumber:l,FinalFormattedNumber:l}}applyNumberFormat(e,t){if((e=+e)>0&&e<1&&0==+e.toFixed(2))return this.applyZeroThreshold(e);var n;if(e%1!=0&&(e=+e.toFixed(2)),n=l.format(".8s"),e<0)return(e*=-1)<1e3?-1*e:(r=n(e),"-"+this.removeTrailingZerosFormattedNumber(r,t));if(e<1e3)return e;var r=n(e);return r=n(e),this.removeTrailingZerosFormattedNumber(r,t)}removeTrailingZerosFormattedNumber(e,t){var n=e.replace(/[yzafpnmkMGTPEZY]/g,""),r=e.replace(/\d*\.?\d*/g,""),i=["k","M","G","T","P","E","Z","Y"].indexOf(r);if(t&&i>-1){r=["k","M","bn","t","q","Q","s","S"][i];let e=this.getCurrencyOverrideFormat(r,!0);""!=e&&(r=e)}else{let e=this.getCurrencyOverrideFormat(r,!1);""!=e&&(r=e)}return+(+n).toFixed(2)+r}getCurrencyOverrideFormat(e,t){let n,r="";n=1==t?this.settings.drawingMode.currencyFormatOverride.split(","):this.settings.drawingMode.numberFormatOverride.split(",");for(let t=0;t<n.length;t++){let i=n[t].split(":");if(i[0].trim()==e){r=i[1].trim();break}}return r}applyZeroThreshold(e){for(var t="0.",n=(e=+e).toString().replace("0.",""),r=0;r<n.length;r++){if(r>=3)return 0;if(+n[r]>0)return t+=n[r],r+1<n.length&&0!=+n[r+1]&&(t+=n[r+1]),t;t+=n[r]}return 0}bindOnEditEvent(e){e.onEdit=function(t,n,r){if("sortByNodeIncomingOutgoingLinks"==n.dataPointType){if(s("#PropertyWindow").hide(),1==r.shiftKey)return;if(1==r.altKey){this.VisualObject.getChartNodeIncomingOutgoingLinkSortProperties(t,n,this.VisualObject),s(".error_dialog_closeButton").off("click"),s(".error_dialog_closeButton").on("click",(function(){e.VisualObject.hideMessageDialog()})),s(".error_dialog_button_cancel").off("click"),s(".error_dialog_button_cancel").on("click",(function(){e.VisualObject.hideMessageDialog()})),s(".error_dialog_button_view").off("click"),s(".error_dialog_button_view").on("click",(function(){"Yes"===s(this).val()?(e.VisualObject.hideMessageDialog(),s("#ApplyDiv").removeClass("disabledElement")):(e.VisualObject.resetIncomingLinks=!1,e.VisualObject.resetOutgoingLinks=!1,e.VisualObject.hideMessageDialog())})),s(".btnSectionReset").off("click"),s(".btnSectionReset").on("click",(function(t){var n=s(this).attr("sankeyresetnodeincomingsorting"),r=s(this).attr("sankeyresetnodeoutgoingsorting");null!=n&&0!=n&&(e.VisualObject.resetIncomingLinks=!0),null!=r&&0!=r&&(e.VisualObject.resetOutgoingLinks=!0),s(this).parent(),e.VisualObject.showMessageDialog("Reset Properties","Are you sure to reset group properties","confirmation",!0,["Yes","Cancel"],!1,!0);var i=s("#PropertyWindow").css("left");i=+i.split("px")[0]+6,s(".error_dialog_icon").css("display","none"),s(".error_dialog").css({left:i,top:t.clientY+22,width:"215px","z-index":1e9})}));var i=r.clientX+s("#PropertyWindow").width(),a=r.clientY+s("#PropertyWindow").height(),o=s("#dvChart").width(),l=s("#dvChart").height(),u=0,c=0;i>o&&(u=-1*s("#PropertyWindow").width()),a>l&&(c=-1*s("#PropertyWindow").height()),s("#PropertyWindow").css("left",(r.clientX+u).toString()+"px"),s("#PropertyWindow").css("top",(r.clientY+c).toString()+"px")}}}}onDragNode(e){if(0==this.VisualObject.settings.drawingMode.manualSorting){var t=this.VisualObject;t._nodesCustomLocations=e,t.createSavePositionDiv(),t.blnIsNodePositionChanged=!0}}createSavePositionDiv(){s("#powerbiHeader").append('<div id="divSaveNodePosition" style="float:right;margin:4px 5px 0 0;"></div>'),s("#divSaveNodePosition").append(this.saveNodePositionElement)}saveNodePositions(e){const t={objectName:"nodeComplexSettings",selector:void 0,properties:{nodePositions:JSON.stringify(e)}};this.host.persistProperties({merge:[t]})}PrepareData(e){e.sankeyData=[];var t=[];s("#dvChart").html("");let n=e.dataView.categorical.categories;if(null==e.dataView.categorical.values)return this.showMessageInsidePowerBIVisual(this.selectDimensionMetricElement),void s("#dvChart").css("width","");if(n.filter((function(e){return 1==e.source.roles.category&&1==e.source.roles.drillingdata})).length>0)return this.showMessageInsidePowerBIVisual(this.keepDimensionInOneSection),void s("#dvChart").css("width","");if(1==this.hasDuplicateColumns())return this.showMessageInsidePowerBIVisual(this.duplicateDimensionNotAllowedSection),void s("#dvChart").css("width","");if(null!=e.dataView.categorical.categories){for(let n=0;n<e.dataView.categorical.categories[0].values.length;n++){var r={value:null==e.dataView.categorical.categories[0].values[n]?"":e.dataView.categorical.categories[0].values[n].toString(),selection:this.host.createSelectionIdBuilder().withCategory(e.dataView.categorical.categories[0].toString(),n).createSelectionId()},i=[];i.push(r);var a=[];a.push(null==e.dataView.categorical.categories[0].values[n]?"":e.dataView.categorical.categories[0].values[n].toString()),this.sankeyData.push(a),t.push(i)}for(let n=1;n<e.dataView.categorical.categories.length;n++)for(let i=0;i<e.dataView.categorical.categories[n].values.length;i++)null==e.dataView.categorical.categories[n].values[i]||null==e.dataView.categorical.categories[n].values[i]?this.sankeyData[i].push(""):(this.sankeyData[i].push(e.dataView.categorical.categories[n].values[i].toString()),r={value:e.dataView.categorical.categories[n].values[i].toString(),selection:this.host.createSelectionIdBuilder().withCategory(e.dataView.categorical.categories[n],i).createSelectionId()},t[i].push(r))}if(null!=e.dataView.categorical.values&&e.dataView.categorical.values.length>0)for(let n=0;n<e.dataView.categorical.values[0].values.length;n++)this.sankeyData.length>n&&(this.sankeyData[n].push(e.dataView.categorical.values[0].values[n]),r={value:e.dataView.categorical.values[0].values[n],selection:this.host.createSelectionIdBuilder().withCategory(e.dataView.categorical.values[0],n).createSelectionId()},t[n].push(r));var o=JSON.stringify(this.sankeyData);this.old_data!=o&&null!=this.old_data&&o.length<this.old_data.length&&(this.selectionIds=[],this.smartLinkingSelectedPoints=[]),this.dataPoints=t}removePreviousCategory(e){var t=this.selectedColors.indexOf(e)-1,n=this.selectedColors.indexOf(e)+e.length+7,r=this.selectedColors.substring(0,t),i=this.selectedColors.substring(n);""==r&&(i=this.selectedColors.substring(n+1)),this.selectedColors=(r+i).trim()}getSelectedLevelColors(){let e="";for(var t=0;t<this.chartDataPoints.length;t++){var n=this;if(this.chartDataPoints[t].color!=this.nodeDefaultColor){let r=this.chartDataPoints.filter((function(e){return e.category==n.chartDataPoints[t].category}));e=null==this.chartDataPoints[t].category||""==this.chartDataPoints[t].category?""==e?"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:e+",_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:r.length>1&&r[0].levelIndex!=this.chartDataPoints[t].levelIndex?""==e?this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:e+","+this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:""==e?this.chartDataPoints[t].category+":"+this.chartDataPoints[t].color:e+","+this.chartDataPoints[t].category+":"+this.chartDataPoints[t].color}}return e}getSelectedLevelColorsWithLevel(){let e="";for(var t=0;t<this.chartDataPoints.length;t++){var n=this;if(this.chartDataPoints[t].color!=this.nodeDefaultColor){let r=this.chartDataPoints.filter((function(e){return e.category==n.chartDataPoints[t].category}));e=null==this.chartDataPoints[t].category||""==this.chartDataPoints[t].category?""==e?"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:e+",_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:r.length>1&&r[0].levelIndex!=this.chartDataPoints[t].levelIndex?""==e?this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:e+","+this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color:""==e?this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].category+":"+this.chartDataPoints[t].color:e+","+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].category+":"+this.chartDataPoints[t].color}}return e}getSelectedLevelColorDirections(){let e="";for(var t=0;t<this.chartColorDirectionDataPoints.length;t++){var n=this;{let r=this.chartColorDirectionDataPoints.filter((function(e){return e.category==n.chartColorDirectionDataPoints[t].category}));e=null==this.chartColorDirectionDataPoints[t].category||""==this.chartColorDirectionDataPoints[t].category?""==e?"_"+this.chartColorDirectionDataPoints[t].levelIndex+":"+this.chartColorDirectionDataPoints[t].direction:e+",_"+this.chartColorDirectionDataPoints[t].levelIndex+":"+this.chartColorDirectionDataPoints[t].direction:r.length>1&&r[0].levelIndex!=this.chartColorDirectionDataPoints[t].levelIndex?""==e?this.chartColorDirectionDataPoints[t].category+"_"+this.chartColorDirectionDataPoints[t].levelIndex+":"+this.chartColorDirectionDataPoints[t].direction:e+","+this.chartColorDirectionDataPoints[t].category+"_"+this.chartColorDirectionDataPoints[t].levelIndex+":"+this.chartColorDirectionDataPoints[t].direction:""==e?this.chartColorDirectionDataPoints[t].category+":"+this.chartColorDirectionDataPoints[t].direction:e+","+this.chartColorDirectionDataPoints[t].category+":"+this.chartColorDirectionDataPoints[t].direction}}return e}getSelectedLevelDropOffNodes(){let e=[];for(var t={},n=0;n<this.chartDropoffNodeDataPoints.length;n++){var r=this;let i=this.chartDropoffNodeDataPoints.filter((function(e){return e.category==r.chartDropoffNodeDataPoints[n].category}));t=null==this.chartDropoffNodeDataPoints[n].category||""==this.chartDropoffNodeDataPoints[n].category?{nodeName:"_"+this.chartDropoffNodeDataPoints[n].levelIndex,nodeLevel:this.chartDropoffNodeDataPoints[n].levelIndex+1,isExit:this.chartDropoffNodeDataPoints[n].checked.toString()}:i.length>1&&i[0].levelIndex!=this.chartDropoffNodeDataPoints[n].levelIndex?{nodeName:this.chartDropoffNodeDataPoints[n].category+"_"+this.chartDropoffNodeDataPoints[n].levelIndex,nodeLevel:this.chartDropoffNodeDataPoints[n].levelIndex+1,isExit:this.chartDropoffNodeDataPoints[n].checked.toString()}:{nodeName:this.chartDropoffNodeDataPoints[n].category,nodeLevel:this.chartDropoffNodeDataPoints[n].levelIndex+1,isExit:this.chartDropoffNodeDataPoints[n].checked.toString()},e.push(t)}return e}getNodeOverrideTexts(){for(var e={},t=0;t<this.chartLabelNodeDataPoints.length;t++){var n=this;let r=this.chartLabelNodeDataPoints.filter((function(e){return e.category==n.chartLabelNodeDataPoints[t].category}));null==this.chartLabelNodeDataPoints[t].category||""==this.chartLabelNodeDataPoints[t].category||r.length>1&&(r[0].levelIndex,this.chartLabelNodeDataPoints[t].levelIndex),e[this.chartLabelNodeDataPoints[t].category+"_"+(this.chartLabelNodeDataPoints[t].levelIndex+1)]=this.chartLabelNodeDataPoints[t].nodeText}return e}setSelectedLevelColors(){let e="";for(var t=0;t<this.chartDataPoints.length;t++){var n=this;if(this.chartDataPoints[t].color!=this.nodeDefaultColor){let a=this.chartDataPoints.filter((function(e){return e.category==n.chartDataPoints[t].category}));if(null==this.chartDataPoints[t].category||""==this.chartDataPoints[t].category)if(""==this.selectedColors){if(e="_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color,null!=this.selectedColors&&!this.selectedColors.includes(e)){var r="_"+this.chartDataPoints[t].levelIndex+":",i=this.selectedColors.indexOf(r);!this.selectedColors.includes(r)||0!=i&&","!=this.selectedColors[i-1]||this.removePreviousCategory(r),this.selectedColors=e}}else e="_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color,null==this.selectedColors||this.selectedColors.includes(e)||(r="_"+this.chartDataPoints[t].levelIndex+":",i=this.selectedColors.indexOf(r),!this.selectedColors.includes(r)||0!=i&&","!=this.selectedColors[i-1]||this.removePreviousCategory(r),""==this.selectedColors?this.selectedColors=e:this.selectedColors=this.selectedColors+","+e);else a.length>1&&a[0].levelIndex!=this.chartDataPoints[t].levelIndex?""==this.selectedColors?(e=this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color,null==this.selectedColors||this.selectedColors.includes(e)||(r=this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":",i=this.selectedColors.indexOf(r),!this.selectedColors.includes(r)||0!=i&&","!=this.selectedColors[i-1]||this.removePreviousCategory(r),this.selectedColors=e)):(e=this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":"+this.chartDataPoints[t].color,null==this.selectedColors||this.selectedColors.includes(e)||(r=this.chartDataPoints[t].category+"_"+this.chartDataPoints[t].levelIndex+":",i=this.selectedColors.indexOf(r),!this.selectedColors.includes(r)||0!=i&&","!=this.selectedColors[i-1]||this.removePreviousCategory(r),""==this.selectedColors?this.selectedColors=e:this.selectedColors=this.selectedColors+","+e)):""==this.selectedColors?(e=this.chartDataPoints[t].category+":"+this.chartDataPoints[t].color,null==this.selectedColors||this.selectedColors.includes(e)||(r=this.chartDataPoints[t].category+":",i=this.selectedColors.indexOf(r),!this.selectedColors.includes(r)||0!=i&&","!=this.selectedColors[i-1]||this.removePreviousCategory(r),this.selectedColors=e)):(e=this.chartDataPoints[t].category+":"+this.chartDataPoints[t].color,null==this.selectedColors||this.selectedColors.includes(e)||(r=this.chartDataPoints[t].category+":",i=this.selectedColors.indexOf(r),!this.selectedColors.includes(r)||0!=i&&","!=this.selectedColors[i-1]||this.removePreviousCategory(r),""==this.selectedColors?this.selectedColors=e:this.selectedColors=this.selectedColors+","+e))}}}getColorsAfterReset(e,t){null==t&&(t=""),null==e&&(e="");for(var n=e.split(","),r=t.split(","),i=[],a=0;a<r.length;a++)n.indexOf(r[a])>=0&&i.push(r[a]);return i.toString()}getLinkColorsWithRespectToValue(e,t,n,r){for(var i=[],o=0;o<n.length;o++){var s=t&&t[o]&&a.W7(t[o],{objectName:"sankeyStats",propertyName:"fill"},null);if(null!=s){let e=this.getValueCommaSepartedPath(o,r);var l=[n[o].toString(),s,e];i.push(l)}}return i}getValueCommaSepartedPath(e,t){let n="";for(let r=0;r<t.length;r++)n+=t[r].values[e]+":";return n}PrepareProperties(e){var t,n=e.options,r=e.metaDataColumns,i=e.options.dataViews[0].categorical.categories,a=i[0].objects,o=e.options.dataViews[0].categorical.values[0].values;e.dataView.categorical.values.filter((e=>1==e.source.roles.sotring)),t=e.getLinkColorsWithRespectToValue(e,a,o,i),this.sankeyProperties=[];let s=this.settings.sankeyFontStyle.bold,l=this.settings.sankeyFontStyle.fontFamily,u=this.settings.sankeyFontStyle.fontSize,c=this.settings.sankeyFontStyle.fontColor;var h={nodesStyle:{isNodeBold:s.toString(),nodeFontFamily:l,nodeFontSize:u,nodeTextColor:c}};this.sankeyProperties.push(h);var p=this.getSelectedLevelColorDirections(),d=this.getSelectedLevelDropOffNodes(),f=this.getNodeOverrideTexts(),g=JSON.stringify(this.sankeyData);this.old_data!=g&&(this.old_data=g,this.selectedColors=this.selectedColorsLevelArray[r.length-1]),this.setSelectedLevelColors();var v=this.getSelectedLevelColors();this.selectedColors=this.getColorsAfterReset(v,this.selectedColors),this.selectedColorsLevelArray[r.length-1]=this.selectedColors;let y=this.getSelectedLevelColorsWithLevel();this.sankeyProperties.push({levelsColor:y});for(var m="",b="Chart:false",x="Chart:false",S=0;S<r.length;S++)r[S].type.numeric&&1==!r[S].roles.category||(m=null!=r[S].objects&&null!=r[S].objects.levelsHeader?m+r[S].objects.levelsHeader.levelHeader+",":m+r[S].displayName+",",null!=r[S].objects&&null!=r[S].objects.levelsPercentage&&r[S].objects.levelsPercentage.levelPercentage&&(b=b+","+this.getCategoryIndexOfDrawnChart(n,r[S].displayName)+":"+r[S].objects.levelsPercentage.levelPercentage),null!=r[S].objects&&null!=r[S].objects.levelsNumber&&r[S].objects.levelsNumber.levelNumber&&(x=x+","+this.getCategoryIndexOfDrawnChart(n,r[S].displayName)+":"+r[S].objects.levelsNumber.levelNumber));"Chart:false"==b&&(b=""),"Chart:false"==x&&(x=""),-1!=m.indexOf(",")&&(m=m.substring(0,m.length-1)),this.sankeyProperties.push({levelsHeader:m});let k=this.settings.levelsFontStyle.bold,w=this.settings.levelsFontStyle.fontFamily,L=this.settings.levelsFontStyle.fontSize,C=this.settings.levelsFontStyle.fontColor;var _={levelsStyle:{isLevelBold:k.toString(),levelFontFamily:w,levelFontSize:L,levelTextColor:C}};this.sankeyProperties.push(_);let P=this.settings.sankeyStats.percentage,N=this.settings.sankeyStats.number,T=this.settings.sankeyStats.prefix,D=this.settings.sankeyStats.postfix;var M={percentage:P.toString(),number:N.toString(),prefix:T,postfix:D};this.sankeyProperties.push({stats:M}),this.sankeyProperties.push({isWatermarkEnabled:!1}),this.sankeyProperties.push({levelsPercentage:b}),this.sankeyProperties.push({levelsNumber:x}),this.sankeyProperties.push({overrideLinkLevelDirection:p});var O={isMissingData_SankeyGraph:this.settings.sankeyStats.enableMissingData.toString()};this.sankeyProperties.push(O),g=JSON.stringify(this.sankeyData);var E={nodesCustomLocations:JSON.parse(this.settings.nodeComplexSettings.nodePositions)};this.sankeyProperties.push(E);var A={chartSorting:this.settings.sankeyStats.chartSorting};this.sankeyProperties.push(A);var I={showLinksWithZeroValue:this.settings.sankeyStats.showZero.toString()};this.sankeyProperties.push(I);var F={chartPercentagePrecision:this.settings.sankeyStats.percentagePrecision.toString()};this.sankeyProperties.push(F);var G={chartNumberPrecision:this.settings.sankeyStats.numberPrecision};this.sankeyProperties.push(G);var B={chartLinkOpacity:this.settings.sankeyStats.linkOpacity/10};this.sankeyProperties.push(B);var j={levelSortingString:this.getLevelSortingString(i)};this.sankeyProperties.push(j);var R={showNumberString:this.getLevelShowNumberString(i)};this.sankeyProperties.push(R);var H=this.getLevelShowPercentageString(i),W={showPercentageString:H};this.sankeyProperties.push(W);var V="Chart";H.includes(",")&&(V="Level");var z={numberScope:V};this.sankeyProperties.push(z);var U="Chart";H.includes(",")&&(U="Level");var q={percentAgeScope:U};this.sankeyProperties.push(q);var Z={sankeyDropoffNodesForSankey:d};this.sankeyProperties.push(Z);var Y={nodeIncomingLinksSortOverride:this.settings.nodeComplexSettings.nodeIncomingLinksSortOverride};this.sankeyProperties.push(Y);var J={nodeOutgoingLinksSortOverride:this.settings.nodeComplexSettings.nodeOutgoingLinksSortOverride};this.sankeyProperties.push(J);var X={linkColorValues:JSON.stringify(t)};this.sankeyProperties.push(X);var K={showLabels:this.settings.sankeyStats.showlabel.toString()};this.sankeyProperties.push(K);var $={enableFormat:this.settings.drawingMode.enableFormat.toString()};this.sankeyProperties.push($);var Q={formatType:this.settings.drawingMode.formatType.toString()};this.sankeyProperties.push(Q);var ee={numberSeperator:this.settings.drawingMode.numberSeparator.toString()};this.sankeyProperties.push(ee);var te={percentageSeperator:this.settings.drawingMode.percentageSeparator.toString()};this.sankeyProperties.push(te);var ne={showTextString:this.getLevelShowTextString(i)};this.sankeyProperties.push(ne);var re={nodeShowOutline:this.settings.drawingMode.showOutline.toString()};this.sankeyProperties.push(re);var ie={showNumberBracket:this.settings.drawingMode.showNumberBracket.toString()};this.sankeyProperties.push(ie);var ae={enableSorting:(!this.settings.drawingMode.manualSorting).toString()};this.sankeyProperties.push(ae);var oe={levelPosition:this.settings.levelsHeader.levelPosition};this.sankeyProperties.push(oe);var se={labelOrietationChart:this.getLevelTextOrientation(i)};this.sankeyProperties.push(se);var le={nodesOverrideText:f};this.sankeyProperties.push(le);var ue={enforcePercentPercision:this.settings.sankeyStats.enforcePercentPercision};this.sankeyProperties.push(ue);var ce={numberFormatOverride:this.settings.drawingMode.numberFormatOverride};this.sankeyProperties.push(ce);var he={currencyFormatOverride:this.settings.drawingMode.currencyFormatOverride};this.sankeyProperties.push(he)}getLevelShowPercentageString(e){for(var t="Chart:"+this.settings.sankeyStats.percentage,n=1;n<=e.length;n++)1==n&&(t=t+",1:"+this.settings.sankeyFirstLevelStats.percentage),2==n&&(t=t+",2:"+this.settings.sankeySecondLevelStats.percentage),3==n&&(t=t+",3:"+this.settings.sankeyThirdLevelStats.percentage),4==n&&(t=t+",4:"+this.settings.sankeyFourLevelStats.percentage),5==n&&(t=t+",5:"+this.settings.sankeyFiveLevelStats.percentage),6==n&&(t=t+",6:"+this.settings.sankeySixLevelStats.percentage),7==n&&(t=t+",7:"+this.settings.sankeySevenLevelStats.percentage),8==n&&(t=t+",8:"+this.settings.sankeyEightLevelStats.percentage);return t}getLevelShowNumberString(e){for(var t="Chart:"+this.settings.sankeyStats.number,n=1;n<=e.length;n++)1==n&&(t=t+",1:"+this.settings.sankeyFirstLevelStats.number),2==n&&(t=t+",2:"+this.settings.sankeySecondLevelStats.number),3==n&&(t=t+",3:"+this.settings.sankeyThirdLevelStats.number),4==n&&(t=t+",4:"+this.settings.sankeyFourLevelStats.number),5==n&&(t=t+",5:"+this.settings.sankeyFiveLevelStats.number),6==n&&(t=t+",6:"+this.settings.sankeySixLevelStats.number),7==n&&(t=t+",7:"+this.settings.sankeySevenLevelStats.number),8==n&&(t=t+",8:"+this.settings.sankeyEightLevelStats.number);return t}getLevelSortingString(e){for(var t="",n=1;n<=e.length;n++)1==n&&"default"!=this.settings.sankeyFirstLevelStats.levelSorting&&(t=t+this.settings.sankeyFirstLevelStats.levelSorting+";"),2==n&&"default"!=this.settings.sankeySecondLevelStats.levelSorting&&(t=t+this.settings.sankeySecondLevelStats.levelSorting+";"),3==n&&"default"!=this.settings.sankeyThirdLevelStats.levelSorting&&(t=t+this.settings.sankeyThirdLevelStats.levelSorting+";"),4==n&&"default"!=this.settings.sankeyFourLevelStats.levelSorting&&(t=t+this.settings.sankeyFourLevelStats.levelSorting+";"),5==n&&"default"!=this.settings.sankeyFiveLevelStats.levelSorting&&(t=t+this.settings.sankeyFiveLevelStats.levelSorting+";"),6==n&&"default"!=this.settings.sankeySixLevelStats.levelSorting&&(t=t+this.settings.sankeySixLevelStats.levelSorting+";"),7==n&&"default"!=this.settings.sankeySevenLevelStats.levelSorting&&(t=t+this.settings.sankeySevenLevelStats.levelSorting+";"),8==n&&"default"!=this.settings.sankeyEightLevelStats.levelSorting&&(t=t+this.settings.sankeyEightLevelStats.levelSorting+";");return""==t?"default":t.substring(0,t.length-1)}getLevelTextOrientation(e){for(var t="",n=1;n<=e.length;n++)1==n&&"default"!=this.settings.sankeyFirstLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeyFirstLevelStats.labelOrietationLabel+";"),2==n&&"default"!=this.settings.sankeySecondLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeySecondLevelStats.labelOrietationLabel+";"),3==n&&"default"!=this.settings.sankeyThirdLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeyThirdLevelStats.labelOrietationLabel+";"),4==n&&"default"!=this.settings.sankeyFourLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeyFourLevelStats.labelOrietationLabel+";"),5==n&&"default"!=this.settings.sankeyFiveLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeyFiveLevelStats.labelOrietationLabel+";"),6==n&&"default"!=this.settings.sankeySixLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeySixLevelStats.labelOrietationLabel+";"),7==n&&"default"!=this.settings.sankeySevenLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeySevenLevelStats.labelOrietationLabel+";"),8==n&&"default"!=this.settings.sankeyEightLevelStats.labelOrietationLabel&&(t=t+n.toString()+":"+this.settings.sankeyEightLevelStats.labelOrietationLabel+";");return"default"!=this.settings.sankeyStats.labelOrietationChart&&(t=t+"Chart:"+this.settings.sankeyStats.labelOrietationChart),""==t&&(t="Chart:Right"),t}getLevelShowTextString(e){for(var t="Chart:"+this.settings.sankeyStats.text,n=1;n<=e.length;n++)1==n&&(t=t+",1:"+this.settings.sankeyFirstLevelStats.text),2==n&&(t=t+",2:"+this.settings.sankeySecondLevelStats.text),3==n&&(t=t+",3:"+this.settings.sankeyThirdLevelStats.text),4==n&&(t=t+",4:"+this.settings.sankeyFourLevelStats.text),5==n&&(t=t+",5:"+this.settings.sankeyFiveLevelStats.text),6==n&&(t=t+",6:"+this.settings.sankeySixLevelStats.text),7==n&&(t=t+",7:"+this.settings.sankeySevenLevelStats.text),8==n&&(t=t+",8:"+this.settings.sankeyEightLevelStats.text);return t}checkNonEmptyParentExistsForNode(e,t,n){for(let r=0;r<n.length;r++){if(t==r)continue;let i=n[r];if(null!=i.values[e]&&i.values[e]&&"null"!=i.values[e].toString().toLowerCase())return!0}return!1}getSankeyLevelsObjectModelForPropertyPane(e){let t=e.dataViews,n=[],r=[],i=[],o=[],s=[];""==this.settings.drawingMode.percentageSeparator&&(this.settings.drawingMode.percentageSeparator=".");let l=t[0].categorical;for(var u=["sankeyFirstLevel","sankeySecondLevel","sankeyThirdLevel","sankeyFourthLevel","sankeyFifthLevel","sankeySixthLevel","sankeySeventhLevel","sankeyEightLevel"],c=["sankeyFirstLevelColorDirection","sankeySecondLevelColorDirection","sankeyThirdLevelColorDirection","sankeyFourthLevelColorDirection","sankeyFifthLevelColorDirection","sankeySixthLevelColorDirection","sankeySeventhLevelColorDirection","sankeyEightLevelColorDirection"],h=["sankeyFirstDropOffLevel","sankeySecondDropOffLevel","sankeyThirdDropOffLevel","sankeyFourDropOffLevel","sankeyFiveDropOffLevel","sankeySixDropOffLevel","sankeySevenDropOffLevel","sankeyEightDropOffLevel"],p=["sankeyFirstLabels","sankeySecondLabels","sankeyThirdLabels","sankeyFourLabels","sankeyFiveLabels","sankeySixLabels","sankeySevenLabels","sankeyEigthLabels"],d=this.metaDataColumns,f=0;f<d.length;f++)d[f].type.numeric||(null!=d[f].objects&&null!=d[f].objects.levelsHeader?this.settings.levelsHeader.levelHeader.push(d[f].objects.levelsHeader.levelHeader):this.settings.levelsHeader.levelHeader.push(d[f].displayName));if(null!=l.categories){this.linksDefaultColor="#B1CEEE";for(let e=0;e<l.categories.length;e++){let t=l.categories[e],r=t.objects;var g=r&&r[0]&&a.W7(r[0],{objectName:"sankeyStats",propertyName:"fill"},null);null!=g&&(this.linksDefaultColor=g);for(let d=0;d<t.values.length;d++){let f=n.filter((function(n){return n.category==(null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"")&&n.levelIndex==e}));var v=!0;if(e>0&&this.settings.drawingMode.enableMissingData&&(v=this.checkNonEmptyParentExistsForNode(d,e,l.categories)),(null==f||0==f.length)&&v){var y={levelIndex:e,valueIndex:d,displayName:null!=t.values[d]?t.values[d]:"",category:null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"",color:r&&r[d]&&a.W7(r[d],{objectName:u[e],propertyName:"fill"},null)||this.nodeDefaultColor,duplicate:!1,selectionId:this.host.createSelectionIdBuilder().withCategory(t,d).createSelectionId()};n.push(y)}f=i.filter((function(n){return n.category==(null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"")&&n.levelIndex==e})),null!=f&&0!=f.length||!v||i.push({levelIndex:e,displayName:null!=t.values[d]?t.values[d]:"",category:null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"",direction:null!=(r&&r[d])&&null!=(r&&r[d])[c[e]]?(r&&r[d])[c[e]].direction:"All",selectionId:this.host.createSelectionIdBuilder().withCategory(t,d).createSelectionId()}),f=o.filter((function(n){return n.category==(null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"")&&n.levelIndex==e})),null!=f&&0!=f.length||!v||o.push({levelIndex:e,displayName:null!=t.values[d]?t.values[d]:"",category:null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"",checked:r&&r[d]&&a.NA(r[d],{objectName:h[e],propertyName:"markasDropOffNode"},null)||!1,selectionId:this.host.createSelectionIdBuilder().withCategory(t,d).createSelectionId()}),f=s.filter((function(n){return n.category==(null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"")&&n.levelIndex==e})),null!=f&&0!=f.length||!v||s.push({levelIndex:e,displayName:null!=t.values[d]?t.values[d]:"",category:null!=t.values[d]?String(t.values[d]).replace(/,/g,"|").replace(/:/g,"|"):"",nodeText:r&&r[d]&&a.NA(r[d],{objectName:p[e],propertyName:"nodeTextLabel"},null)||"",selectionId:this.host.createSelectionIdBuilder().withCategory(t,d).createSelectionId()})}}this.chartDataPoints=n,this.nodeFontSizeDataPoints=r,this.chartColorDirectionDataPoints=i,this.chartDropoffNodeDataPoints=o,this.chartLabelNodeDataPoints=s}}showNodePositionsDiv(){1==this.blnIsNodePositionChanged&&this.createSavePositionDiv()}getCategoryIndexOfDrawnChart(e,t){var n=e.dataViews[0].categorical.categories;for(let e=0;e<n.length;e++)if(n[e].source.displayName==t)return e+1;return-1}static parseSettings(e){return h.Jx.parse(e)}createActivateTrialElement(){let e=document.createElement("a");return e.textContent="Activate 7 days trial ",e.setAttribute("title","Activate free trial with watermark!"),e.setAttribute("class","activateTrial"),e.addEventListener("click",(()=>{this.host.launchUrl(this.activateTrialURL)})),e}createValidLicenseKeyElement(){let e=document.createElement("a");return e.textContent="Note: You need to provide valid license key to run subscription. ",e.setAttribute("title","Provide valid license key!"),e.setAttribute("class","licenseKey"),e}createLicenseKeyExpiredMessageElement(){let e=document.createElement("a");return e.textContent="License key is expired.",e.setAttribute("title","License key is expired!"),e.setAttribute("class","licenseKey"),e}createTrialExpiredMessageElement(){let e=document.createElement("div");e.style.height="100%",e.style.width="100%",e.style.textAlign="left";let t=document.createElement("br");e.append(t);let n=document.createElement("img");n.src=v+"Content/Images/Application/expired-cancel-subscription.svg",n.style.height="100%",n.style.width="100%",n.style.marginTop="10px",e.append(t);let r=document.createElement("TextBox");r.style.fontWeight="bold",r.innerText="Your trial has been expired.",r.style.fontSize="30px",e.append(r);let i=document.createElement("a");return i.textContent="Buy Now",i.style.color="blue",i.style.fontWeight="bold",i.style.marginLeft="60px",i.style.fontSize="20px",i.setAttribute("title","Buy now"),i.addEventListener("click",(()=>{this.host.launchUrl(this.subscriptionURL)})),i.style.cursor="pointer",e.appendChild(i),e.append(" ( $10/user/month ) "),e.append(t),e.append(t),e.append(n),e}createTrialEnableElement(){let e=document.createElement("a");return e.textContent="Please switch on 'Enable Trial' option inside 'Trial Mode'.",e.setAttribute("title","Enable trial"),e.setAttribute("class","activateTrial"),e}createLicenseEnableElement(){let e=document.createElement("a");return e.textContent="Please switch on 'Enable License' option inside 'License Settings'.",e.setAttribute("title","Enable license"),e.setAttribute("class","activateTrial"),e}createTrialOrLicenseMessageElement(){let e=document.createElement("a");return e.textContent="Under 'Format your visual' settings, please enter valid 'Email' inside 'Trial Mode' or provide 'ChartExpo License Key' inside 'License Settings'.",e.setAttribute("title","Enter valid email"),e.setAttribute("class","activateTrial"),e}createInternetConnectivityMessageElement(){let e=document.createElement("a");return e.textContent="Please check internet connectivity!",e.setAttribute("title",""),e.setAttribute("class","licenseKey"),e}createHeaderSubscribeElement(){let e=document.createElement("a");return e.textContent="Subscribe ",e.setAttribute("title","Subscribe to create Sankey diagram without interruption!"),e.setAttribute("class","subscribeheader"),e.addEventListener("click",(()=>{this.host.launchUrl(this.subscriptionURL)})),e}createSubscribeElement(){let e=document.createElement("div"),t=document.createElement("TextBox");t.style.fontWeight="bold",t.innerText="Purchase Subscription",e.append(t),e.append(" $10/user/month ");let n=document.createElement("a");return n.textContent="Buy now",n.style.color="blue",n.style.fontWeight="bold",n.style.marginLeft="20px",n.style.cursor="pointer",n.setAttribute("title","Buy now"),n.addEventListener("click",(()=>{this.host.launchUrl(this.subscriptionURL)})),e.appendChild(n),e}createUnsubscribeElement(){let e=document.createElement("a");return e.textContent="",e.setAttribute("title","Click for unsubscription!"),e.setAttribute("class","unsubscribe"),e.addEventListener("click",(()=>{this.host.launchUrl(this.unsubscriptionURL)})),e}createSavePositionButton(){let e=document.createElement("a");return e.textContent="Save Node Positions",e.title="Please click this button to persist the node positions.\nIt is required only once when all your node positions\nare arranged as per your need.\nThis button will hide as soon as you click it.",e.setAttribute("class","unsubscribe"),e.addEventListener("click",(()=>{this.saveNodePositionsEvent()})),e}saveNodePositionsEvent(){1==this.blnIsNodePositionChanged&&(this.blnIsNodePositionChanged=!1,this.saveNodePositions(this._nodesCustomLocations))}createSubscriptionCancelledElement(){let e=document.createElement("div");e.style.height="100%",e.style.width="100%",e.style.textAlign="left";let t=document.createElement("br");e.append(t);let n=document.createElement("img");n.src=v+"Content/Images/Application/expired-cancel-subscription.svg",n.style.height="100%",n.style.width="100%",n.style.marginTop="10px",e.append(t);let r=document.createElement("TextBox");r.style.fontWeight="bold",r.innerText="Your subscription has been cancelled.",r.style.fontSize="30px",e.append(r);let i=document.createElement("a");return i.textContent="Renew",i.style.color="blue",i.style.fontWeight="bold",i.style.marginLeft="60px",i.style.fontSize="20px",i.setAttribute("title","Renew"),i.addEventListener("click",(()=>{this.host.launchUrl(this.subscriptionURL)})),i.style.cursor="pointer",e.appendChild(i),e.append(" ( $10/user/month ) "),e.append(t),e.append(t),e.append(n),e}createInvalidMachineOrKeyElement(){let e=document.createElement("a");return e.textContent="Note: You need to provide valid license key to run subscription. ",e.setAttribute("title","Provide valid license key"),e.setAttribute("class","licenseKey"),e}createKeyMessageElement(){let e=document.createElement("a");return e.innerHTML="<div>Enter the key here once you </div><div>receive it in your provided email. </div>",e.setAttribute("title","Enter the key"),e.setAttribute("class","licenseKeyMessage"),e}}},3133:function(e,t,n){var r=n(5078);n(6738);const{post:i}=n(9755);this.ChartExpo={},this.ChartExpo.Widgets={},this.ChartExpo.Widgets.BaseClasses={},this.ChartExpo.Widgets.Components={},this.ChartExpo.Widgets.Properties={},this.ChartExpo.UIFabricHelper={};var a=!0,o="There is no data for this view.!",s="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/edit_gray.svg",l="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/edit_orange.svg",u="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/icon-default-sort.png",c="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/icon-ascending-sort.png",h="https://chartexpo.com/ChartExpoForGoogleSheetAddin/Images/v41/icon-descending-sort.png",p="canvas",d="chartLabelTop",f="chartLabelBottom",g="_chartArea",v="_plotArea",y="_chartDiv",m="_legendDivBottom",b="_chartLableDivCenter",S="_chartLableDivTop",k="_chartLableDivBottom",w="dataPoint",L="frame",C="label",_="misc",P="margin",N="padding",T="style",D="behaviour",M="headerTop",O="headerBottom",E="headerLeft",A="headerLabel",I="horizontal",F=["Arial","Calibri","American Typewriter, Courier New, Courier, Monaco, mono","Arial Rounded MT Bold, Helvetica, Arial, sans-serif","Baskerville, Georgia, Garamond, Times New Roman, Times, serif","Book Antiqua, Georgia, Garamond, Times New Roman, Times, serif","Bookman Old Style, Georgia, Garamond, Times New Roman, Times, serif","Brush Script MT, Comic Sans, sans-serif","Chalkboard, Comic Sans, sans-serif","Didot, Georgia, Garamond, Times New Roman, Times, serif","Futura, Impact, Helvetica, Arial, sans-serif","Gill Sans, Lucida Grande, Lucida Sans Unicode, Verdana, Helvetica, Arial, sans-serif","Helvetica Neue, Helvetica, Arial, sans-serif","Hoefler Text, Garamond, Georgia, Times New Roman, Times, serif","Lucida Grande, Lucida Sans Unicode, Lucida, Verdana, Helvetica, Arial, sans-serif","Marker Felt, Comic Sans sans-serif","Myriad, Helvetica, Arial, sans-serif","Optima, Lucida Grande, Lucida Sans Unicode, Verdana, Helvetica, Arial, sans-serif","Palatino, Book Antiqua, Georgia, Garamond, Times New Roman, Times, serif","Cochin, Georgia, Garamond, Times New Roman, Times, serif","Goudy Old Style,garamond, book antiqua, Times New Roman, Times, serif sequence"],G=["xx-small","x-small","small","medium","large","x-large","xx-large"],B=["normal","italic"],j=["normal","small-caps"],R=["normal","bold","lighter"],H=["none","capitalize","uppercase","lowercase","inherit"],W=["true","false"],V=["top","right","bottom","left"],z=["horizontal","vertical"],U=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset","inherit"],q=["left","right","all"],Z=["start","middle","end"],Y=["NONE","ASC","DESC"];this.ChartExpo.Widgets.BaseClass=function(e){},this.ChartExpo.Widgets.Components.ComponentsBase=function(){function e(e,t){var n=e.replace(/[yzafpnmkMGTPEZY]/g,""),r=e.replace(/\d*\.?\d*/g,""),i=["k","M","G","T","P","E","Z","Y"].indexOf(r);return t&&i>-1&&(r=["k","m","b","t","q","Q","s","S"][i]),+(+n).toFixed(2)+r}this.properties={},this.updateChild=function(e,t,n){},this.update=function(e,t,n){var i=this,a=e[0];if(t=e[1],"style"==(n=e[2]).propertyType)if(n.isContainer)r.select(n.propertySelector).style(n.name,a);else if(null!=i.svgsCollection&&i.svgsCollection.length>0)for(var o=0;o<i.svgsCollection.length;o++)i.svgsCollection[o].selectAll(n.propertySelector).style(n.name,n.value);else i.svg.selectAll(n.propertySelector).style(n.name,n.value);i.updateChild(e,t,n)},this.generateProperties=function(){},this.behaviourPropertyDelegate=function(e,t,n,r,i){},this.draw=function(){},this.getProperties=function(){},this.applyDefaults=function(e){var t=this;if(e.length>0){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].properties.length;i++)if("style"==(o=e[n].properties[i]).propertyType)if(o.isContainer)r.select(o.propertySelector).style(o.name,o.value);else if(null!=t.svgsCollection&&t.svgsCollection.length>0)for(var a=0;a<t.svgsCollection.length;a++)t.svgsCollection[a].selectAll(o.propertySelector).style(o.name,o.value);else t.svg.selectAll(o.propertySelector).style(o.name,o.value)}else for(i=0;i<e.properties.length;i++){var o;if("style"==(o=e.properties[i]).propertyType)if(o.isContainer)r.select(o.propertySelector).style(o.name,o.value);else if(null!=t.svgsCollection&&t.svgsCollection.length>0)for(a=0;a<t.svgsCollection.length;a++)t.svgsCollection[a].selectAll(o.propertySelector).style(o.name,o.value);else t.svg.selectAll(o.propertySelector).style(o.name,o.value)}},this.trimText=function(e,t){if(t>0&&e.length>t)return e.substring(0,t)+"...";if(t>0)for(var n=0;n<e.length-t;n++)e+=".";return e},this.parentDelegate=function(e,t,n){},this.reset=function(){var e,t=this;if(r.select((e=t._settings.renderTo+v,"#"+e)).html(""),null!=t.svgsCollection&&t.svgsCollection.length>0){for(var n=0;n<t.svgsCollection.length;n++)r.select(t.svgsCollection[n]).remove(),t.svgsCollection[n]=null;t.svgsCollection.splice(0,t.svgsCollection.length),t.svgsCollection=new Array}else null==t.svg&&null==t.svg||(r.select(t.svg).remove(),t.svg=null)},this.getPropertyIndexByGUID=function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r]._guid==t){n=r;break}return n},this.getPropertyIndexByKeyTitle=function(e,t,n){for(var r=-1,i=0;i<e.length;i++)if(e[i].name==t&&e[i].title==n){r=i;break}return r},this.getPropertyIndex=function(e,t,n,r){for(var i=-1,a=0;a<e.length;a++)if(e[a].name==t&&e[a].group==n&&e[a].title==r){i=a;break}return i},this.mapOldProperties=function(e,t){var n=this;if(t.length>0){for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].title==t[i].title)for(var a=0;a<e[r].properties.length;a++){var o=-1;-1!=(o=null!=e[r].properties[a]._guid?n.getPropertyIndexByGUID(t[i].properties,e[r].properties[a]._guid):n.getPropertyIndexByKeyTitle(t[i].properties,e[r].properties[a].name,e[r].properties[a].title))&&t[i].properties[o].value(e[r].properties[a]._value,!0)}}else for(r=0;r<e.length;r++)if(e[r].title==t.title){for(a=0;a<e[r].properties.length;a++)o=-1,-1!=(o=null!=e[r].properties[a]._guid?n.getPropertyIndexByGUID(t.properties,e[r].properties[a]._guid):n.getPropertyIndexByKeyTitle(t.properties,e[r].properties[a].name,e[r].properties[a].title))&&t.properties[o].value(e[r].properties[a]._value,!0);break}},this.mapOldPropertiesWithNewGrouping=function(e,t){var n=this;if(t.length>0){for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].title==t[i].title&&e[r].name==t[i].name&&e[r].type==t[i].type)for(var a=0;a<e[r].childGroups.length;a++){var o=n.getChildIndexProp(e[r].childGroups[a].title,t[i].childGroups);if(-1!=o&&e[r].childGroups[a].title==t[i].childGroups[o].title&&e[r].childGroups[a].name==t[i].childGroups[o].name&&e[r].childGroups[a].type==t[i].childGroups[o].type)for(var s=0;s<e[r].childGroups[a].properties.length;s++)-1==(l=n.getPropertyIndex(t[i].childGroups[o].properties,e[r].childGroups[a].properties[s].name,e[r].childGroups[a].properties[s].group,e[r].childGroups[a].properties[s].title))&&(l=n.getPropertyIndexByGUID(t[i].childGroups[o].properties,e[r].childGroups[a].properties[s]._guid)),-1!=l&&t[i].childGroups[o].properties[l].value(e[r].childGroups[a].properties[s]._value,!0)}}else for(r=0;r<e.length;r++)if(e[r].title==t.title&&e[r].name==t.name&&e[r].type==t.type)for(s=0;s<e[r].childGroups.length;s++)if(e[r].childGroups[s].title==t.childGroups[s].title&&e[r].childGroups[s].name==t.childGroups[s].name&&e[r].childGroups[s].type==t.childGroups[s].type)for(a=0;a<e[r].childGroups[s].properties.length;a++){var l;-1==(l=n.getPropertyIndex(t.childGroups[s].properties,e[r].childGroups[s].properties[a].name,e[r].childGroups[s].properties[a].group,e[r].childGroups[s].properties[a].title))&&(l=n.getPropertyIndexByGUID(t.childGroups[s].properties,e[r].childGroups[s].properties[a]._guid)),-1!=l&&t.childGroups[s].properties[l].value(e[r].childGroups[s].properties[a]._value,!0)}},this.getChildIndexProp=function(e,t){if(!(null!=t&&null!=t&&t.length>0))return-1;for(var n=0;n<t.length;n++)if(t[n].title==e)return n;return-1},this.getRenderedContentSize=function(e){var t={Width:0,Height:0};return 0==e.offsetWidth&&null==e.getClientRects()[0]?t.Width=e.getBBox().width:t.Width=e.offsetWidth?e.offsetWidth:e.getClientRects()[0].width,0==e.offsetHeight&&null==e.getClientRects()[0]?t.Height=e.getBBox().height:t.Height=e.offsetHeight?e.offsetHeight:e.getClientRects()[0].height,t},this.getTitleCase=function(e){return(e=e.toLowerCase()).replace(/\b[a-z]/g,(function(e){return e.toUpperCase()}))},this.applyNumberFormat=function(t,n){return(t=+t)>0&&t<1&&0==+t.toFixed(2)?applyZeroThreshold(t):(t%1!=0&&(t=+t.toFixed(2)),i=r.format(".8s"),t<0?(t*=-1)<1e3?-1*t:"-"+e(i(t),n):t<1e3?t:(i(t),e(i(t),n)));var i},this.applyCommaBasedNumberFormat=function(e){var t;return(e=+e)>0&&e<1&&0==+e.toFixed(2)?applyZeroThreshold(e):(t=r.format("0,000"),e<1e3?e:t(e))},this.getNumberFormat=function(e){return(e=+e)>100?r.format(".3s"):e%1!=0||e%1!=0?r.format(".2f"):r.format(".0f")},this.getAlternativeAxisLableHideNumber=function(e){var t=e.rangeBand(),n=0,r=e.rangeBand();if(null!=e&&1==e.domain().length)return n;if(0==r&&(r=Math.abs(e(e.domain()[0])-e(e.domain()[1]))),0==t&&(t=Math.abs(e(e.domain()[0])-e(e.domain()[1]))),0!=t&&0!=r&&t<=9)for(;t<=9;)t+=r,n++;return n},this.mediator=null,this.send=function(e,t,n){null!=this.mediator&&this.mediator.send(e,t,n)},this.receive=function(e,t,n){},this.returnElipsis=function(e,t){if(e>0&&t.length>e)return t.substring(0,e)+"...";if(e>0)for(var n=0;n<t.length-e;n++)t+=".";return t},this.getSize=function(e,t,n,r){var i={minWidth:1e3,maxWidth:0,minHeight:1e3,maxHeight:0};return e.selectAll("textTests").data(t).enter().append("text").attr("class","dummyLabels_Size_Labels").text((function(e){return e[r]})).style("font-size",n.fontSize).style("font-family",n.fontFamily).style("font-weight",n.fontWeight).style("font-style",n.fontStyle).style("font-varient",n.fontVarient).style("text-transform",n.textTransform),e.selectAll(".dummyLabels_Size_Labels").style("opacity",(function(e){var t=this.getBBox().width,n=this.getBBox().height;return i.minWidth>t&&(i.minWidth=t),i.minHeight>n&&(i.minHeight=n),i.maxWidth<t&&(i.maxWidth=t),i.maxHeight<n&&(i.maxHeight=n),1})),e.selectAll(".dummyLabels_Size_Labels").remove(),i}},this.ChartExpo.Widgets.Components.ChartComponentBaseClass=function(){var e,t=this;this.svg=null,this.svgsCollection=[],this.props=null,this.chartMinHeight=150,this.chartMinWidth=150,this.drawingMinWidth=75,this.drawingMinHeight=75,this.previousAdjustedChartMargins={top:1,right:1,bottom:1,left:1},this.previousAdjustedDrawingMargins={top:1,right:1,bottom:1,left:1},this.backButtonPosX=5,this.backButtonPosY=0,this.drilledObject={dataPoint:{lable:"Charger Gold",val:45e5,drill:!0,toolTip:"A"},customInformation:"",level:-1},this.backButtonGenerated=!1,this.destroy=function(){var e=this;r.select(e.svg).remove(),e.svg=null,e.drillData=[],e.reInit()},this.setAntler=function(t,n,i,a,o,s){if(this.myScale(n,i),s){this.sample();var l=this.getHive().split(" "),u=t.svg.append("g").append("text");u.append("tspan").attr("font-size",e(i)).attr("font-family","calibri").text(l[0]).style("pointer-events","none").attr("fill","black").attr("opacity","20%"),u.append("tspan").attr("font-size",.4*e(i)).attr("font-family","calibri").attr("baseline-shift","super").text("").style("pointer-events","none").attr("fill","black").attr("opacity","20%"),u.append("tspan").attr("font-size",e(i)).attr("font-family","calibri").text("").style("pointer-events","none").attr("fill","black").attr("opacity","20%"),4!=t._settings.type&&8!=t._settings.type&&22!=t._settings.type&&86!=t._settings.type&&69!=t._settings.type&&73!=t._settings.type&&35!=t._settings.type?31==t._settings.type||104==t._settings.type?(u.attr("x",(function(e){return this.getBBox().width,0})),u.attr("y",(function(e){var t=this.getBBox().height;return n/2-t/2+o}))):90==t._settings.type?(u.attr("x",(function(e){return-this.getBBox().width/2})),u.attr("y",(function(e){var t=this.getBBox().height/2;return-n/2+o+t}))):97==t._settings.type?(u.attr("x",(function(e){return this.getBBox().width,0})),u.attr("y",(function(e){var t=this.getBBox().height/2;return n/2+o-t}))):52==t._settings.type?(u.attr("x",(function(e){return this.getBBox().width,0})),u.attr("y",(function(e){var t=this.getBBox().height/2;return n/2+o+t}))):(u.attr("x",(function(e){var t=this.getBBox().width/2;return i/2-t-a})),u.attr("y",n/2-o)):(u.attr("x",(function(e){return 0-this.getBBox().width/2-a})),u.attr("y",0))}else{var c=t._settings.renderTo+v+"_rootDiv";119==t._settings.type&&(c=t._settings.renderTo+"_chartDiv"),o=n/2,69==t._settings.type&&(c=t._settings.renderTo+v,o=-n/2),l=this.getHive2().split(" "),r.select("#"+c).style("display","table").style("#position","relative").style("overflow","hidden").append("div").style("width",i-7+"px").style("display","table-cell").html(l[0]+"<sup style='font-size: "+.5*e(i)+"px;font-weight: bold;'>TM</sup>"+l[1]).style("text-align","center").style("margin-top",o+"px").style("color","#979797").style("font-family","calibri").style("position","absolute").style("opacity","25%").style("font-size",e(i)+"px").style("margin-top",(function(e){var t=this.getBBox().height;return o-t/2+"px"}))}},this.sample=function(){for(var e="ChartExpo",t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n)},this.getHive=function(){for(var e=[67,104,97,114,116,69,120,112,111,8482],t="",n=0;n<=e.length-1;n++)t+=String.fromCharCode(e[n]);return t},this.getHive2=function(){for(var e=[67,104,97,114,116,69,120,112,111,32],t="",n=0;n<=e.length-1;n++)t+=String.fromCharCode(e[n]);return t},this.myScale=function(t,n){e=r.scale.linear().range([22,90]).domain([0,800])},this.drillEventCallback=function(e,t){},this.smartLinkingCallback=function(e,t){},this.generateToolTipDiv=function(){null==document.getElementById("pvToolTip")&&r.select(this.properties.renderTo.value).append("div").style("z-index","999999").attr("id","dvTTC").html('<div id="pvToolTip" class="hidden"><p class="pvToolTipP"><span id="value">100</span></p></div>')},this.generateTempSVG=function(e){this.reset(),this.svg=r.select(e.renderTo.value).append("svg").attr("width",300).attr("height",300).append("g").attr("transform","translate(0,0)")},this.dataPointClick=function(e,t,n){n.onDataPointClick(e,t,n)},this.processDrillOperation=function(e,t,n,r,i){var a=this;e.drill&&(i?(a.drilledObject.dataPoint=e,a.drilledObject.dataPoint.lable=e.name,a.drilledObject.dataPoint.parent=r,void 0!==t.drillData&&t.drillData.length>0&&(a.drilledObject.level=t.drillData.length)):(a.drilledObject.dataPoint=e,a.drilledObject.level=t.drillData.length),a.drilledObject.customInformation=n._settings.customInformation,t.onDrill(a.drilledObject,t.drillCallBack,t),void 0!==t.drillData&&t.drillData.length>0&&a.showBackButton(t))},this.showBackButton=function(e){var t=this;t.backButtonGenerated=!0,null==e.chartName?t.svg.append("path").attr("d","M10,0L5,5 10,10M5,5L20,5").attr("transform","translate("+this.backButtonPosX+","+this.backButtonPosY+")").attr("class","backArrow").style("fill","none").style("stroke","blue").style("stroke-width","3px").style("cursor","pointer").style("opacity","0.4").style("display",(function(){return t.backButtonGenerated&&void 0!==e.drillData&&e.drillData.length>0?"block":"none"})).on("click",(function(){t.handlebackButtonClick(e),t.showBackButton(e)})).append("title").text("Back"):null!=e.chartName&&"TreeMap"==e.chartName&&t.svg.append("img").attr("width",22).attr("height",14).attr("id","backLinkImage").attr("src",SmartView_Host+"//Content/Images/back.png").attr("alt","Back").style("cursor","pointer").style("position","relative").style("top","10px").style("left","10px").style("display",(function(){return t.backButtonGenerated&&void 0!==e.drillData&&e.drillData.length>0?"block":"none"})).on("click",(function(){t.handlebackButtonClick(e),t.showBackButton(e)}))},this.handlebackButtonClick=function(e){var t=this;null!=e.settings.backButtonDataCallBack&&"true"==e.settings.backButtonDataCallBack?e.onBackLinkClicked(t.drilledObject):e.drillData.length>0&&(e.data=e.drillData.pop(),e.settings.tooltipData=e.drillTooltipData.pop(),e.setComponentsDataSource(e),e.draw(),t.drilledObject.dataPoint=null,t.drilledObject.level=t.drilledObject.level-1,e.onBackLinkClicked(t.drilledObject))},this.getMarginGroup=function(e,t){var n=new ChartExpo.UIFabricHelper.Contracts.ChildGroup;n.name=P,n.type=P,n.settings.sortOrder=1;var r=[];return void 0===t&&(t={}),t.top=void 0===t.top?"0":t.top,t.left=void 0===t.left?"0":t.left,t.bottom=void 0===t.bottom?"0":t.bottom,t.right=void 0===t.right?"0":t.right,r.push(new this.createProperties("Top","top","txt",t.top,t.top,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),r.push(new this.createProperties("Left","left","txt",t.left,t.left,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),r.push(new this.createProperties("Bottom","bottom","txt",t.bottom,t.bottom,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),r.push(new this.createProperties("Right","right","txt",t.right,t.right,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),n.properties=r,n},this.getPaddingGroup=function(e,t){var n=new ChartExpo.UIFabricHelper.Contracts.ChildGroup;n.name=N,n.type=N,n.settings.sortOrder=2;var r=[];return t.top=void 0===t.top?"0":t.top,t.left=void 0===t.left?"0":t.left,t.bottom=void 0===t.bottom?"0":t.bottom,t.right=void 0===t.right?"0":t.right,r.push(new this.createProperties("Top","top","txt",t.top,t.top,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),r.push(new this.createProperties("Left","left","txt",t.left,t.left,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),r.push(new this.createProperties("Bottom","bottom","txt",t.bottom,t.bottom,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),r.push(new this.createProperties("Right","right","txt",t.right,t.right,"",ChartExpo.Widgets.Properties.GroupNames.Margin,D,"","true",e)),n.properties=r,n},this.getFrameGroup=function(e,t,n){var r=new ChartExpo.UIFabricHelper.Contracts.ChildGroup;r.name=L,r.type=L,r.settings.sortOrder=3;var i=[];return i.push(new this.createProperties("Border Color","border-color","color","transparent","transparent","",ChartExpo.Widgets.Properties.GroupNames.Frame,T,e,"false",this,null,!0)),i.push(new this.createProperties("Border Width","border-width","txt","0","0","",ChartExpo.Widgets.Properties.GroupNames.Frame,T,e,"false",this,null,!0)),i.push(new this.createProperties("Border Style","border-style","ddl","none","none",ChartExpo_UIFabricHelper_ChartExpo_UIFabricHelper_borderStyle,ChartExpo.Widgets.Properties.GroupNames.Frame,T,e,"false",this,null,!0)),i.push(new this.createProperties("Border Radius","border-radius","txt","0","0","",ChartExpo.Widgets.Properties.GroupNames.Frame,T,e,"false",this,null,!0)),i.push(new this.createProperties("Background Color","background-color","color","transparent","transparent","",ChartExpo.Widgets.Properties.GroupNames.Frame,T,e,"false",this,null,!0)),r.properties=i,r},this.getLabelGroup=function(e,t,n){var r=new ChartExpo.UIFabricHelper.Contracts.ChildGroup;r.name=C,r.type=C,r.settings.sortOrder=4;var i=[];return void 0===n&&(n={}),n.font_family=void 0===n.font_family?"Arial":n.font_family,n.font_size=void 0===n.font_size?"10px":n.font_size,n.font_style=void 0===n.font_style?"normal":n.font_style,n.font_variant=void 0===n.font_variant?"normal":n.font_variant,n.font_weight=void 0===n.font_weight?"normal":n.font_weight,n.font_family=void 0===n.font_family?"Arial":n.font_family,i.push(new this.createProperties("Font Family","font-family","ddl",n.font_family,n.font_family,F,ChartExpo.Widgets.Properties.GroupNames.Label,T,e,"false",t)),i.push(new this.createProperties("Font Size","font-size","txt",n.font_size,n.font_size,G,ChartExpo.Widgets.Properties.GroupNames.Label,T,e,"false",t)),i.push(new this.createProperties("Font Style","font-style","ddl",n.font_style,n.font_style,B,ChartExpo.Widgets.Properties.GroupNames.Label,T,t,"false",t)),i.push(new this.createProperties("Font Variant","font-variant","ddl",n.font_variant,n.font_variant,j,ChartExpo.Widgets.Properties.GroupNames.Label,T,t,"false",t)),i.push(new this.createProperties("Font Weight","font-weight","ddl",n.font_weight,n.font_weight,R,ChartExpo.Widgets.Properties.GroupNames.Label,T,t,"false",t)),r.properties=i,r},this.getWithinRangeChartMargin=function(e,t,n,r,i,a,o){var s=0,l=t,u=n;if("top"==e){var c=+a;if((p=+r)>=75||p<0)return l.previousAdjustedChartMargins.top;if((d=(d=+u.sectionsDetail.settings.actualHeight-l.chartMinHeight)-c-p)<0)return l.previousAdjustedChartMargins.top;if(d<0&&(d*=-1),s=p>d?d:p,p>=75||p<0)return l.previousAdjustedChartMargins.top;l.previousAdjustedChartMargins.top=s}else if("right"==e){var h=+o;if((f=+i)>=75||f<0)return l.previousAdjustedChartMargins.right;if((d=(d=+u.sectionsDetail.settings.actualHeight-l.chartMinWidth)-h-f)<0)return l.previousAdjustedChartMargins.right;if(d<0&&(d*=-1),s=f>d?d:f,f>=75||f<0)return l.previousAdjustedChartMargins.right;l.previousAdjustedChartMargins.right=s}else if("bottom"==e){var p=+r;if((c=+a)>=75||c<0)return l.previousAdjustedChartMargins.bottom;if((d=(d=+u.sectionsDetail.settings.actualHeight-l.chartMinHeight)-p-c)<0)return l.previousAdjustedChartMargins.bottom;if(d<0&&(d*=-1),s=c>d?d:c,c>=75||c<0)return l.previousAdjustedChartMargins.bottom;l.previousAdjustedChartMargins.bottom=s}else if("left"==e){var d,f=+i;if((h=+o)>=75||h<0)return l.previousAdjustedChartMargins.left;if((d=(d=+u.sectionsDetail.settings.actualHeight-l.chartMinWidth)-f-h)<0)return l.previousAdjustedChartMargins.left;if(d<0&&(d*=-1),s=h>d?d:h,h>=75||h<0)return l.previousAdjustedChartMargins.left;l.previousAdjustedChartMargins.left=s}return s},this.getWithinRangeDrawingMargin=function(e,t,n,r,i,a,o,s,l){var u=0,c=t,h=0,p=0,d=0,f=0,g=0;if("top"==e){if(p=a,(d=r)>=75||d<0)return c.previousAdjustedDrawingMargins.top;if((h=(h=+s-c.drawingMinHeight)-p-d)<0)return c.previousAdjustedDrawingMargins.top;if(h<0&&(h*=-1),u=d>h?h:d,d>=75||d<0)return c.previousAdjustedDrawingMargins.top;c.previousAdjustedDrawingMargins.top=u}else if("right"==e){if(g=o,(f=i)>=75||f<0)return c.previousAdjustedDrawingMargins.right;if((h=(h=+l-c.drawingMinWidth)-g-f)<0)return c.previousAdjustedDrawingMargins.right;if(h<0&&(h*=-1),u=f>h?h:f,f>=75||f<0)return c.previousAdjustedDrawingMargins.right;c.previousAdjustedDrawingMargins.right=u}else if("bottom"==e){if(d=r,(p=a)>=75||p<0)return c.previousAdjustedDrawingMargins.bottom;if((h=(h=+s-c.drawingMinHeight)-d-p)<0)return c.previousAdjustedDrawingMargins.bottom;if(h<0&&(h*=-1),u=p>h?h:p,p>=75||p<0)return c.previousAdjustedDrawingMargins.bottom;c.previousAdjustedDrawingMargins.bottom=u}else if("left"==e){if(f=i,(g=o)>=75||g<0)return c.previousAdjustedDrawingMargins.left;if((h=(h=+l-c.drawingMinWidth)-f-g)<0)return c.previousAdjustedDrawingMargins.left;if(h<0&&(h*=-1),u=g>h?h:g,g>=75||g<0)return c.previousAdjustedDrawingMargins.left;c.previousAdjustedDrawingMargins.left=u}return u},this.addSettingsMenu=function(e,n,i,a,o,s){t.props=i,t.chartWidth=a,t.parent=n,r.select(t.props.renderTo.value).append("div").style("width","20px").style("height","20px").style("margin-left",a-2*+s.replace("px","")-35+"px").style("margin-top","2px").style("border","1px solid grey").attr("title","Settings").attr("id",t.props.renderTo.value.replace("#","","gi")+"settingsDiv").style("position","absolute").style("opacity",.5).style("cursor","pointer").attr("class","runtimesettings").on("click",(function(){n.showHideSettings=!n.showHideSettings,t.showHideMenuDiv(n._settings.renderTo,n.showHideSettings,o)})),t.displayMenuItems(n,2*+s.replace("px",""))},this.showHideMenuDiv=function(e,t,n){var i=r.select("#"+e+"_plotAreamenuDiv");t?(i.style("display","block"),i.style("opacity",1)):i.style("display","none")},this.hideOnClick=function(e){r.selectAll(e).on("click",(function(){t.showHideMenuDiv(!1,e)}))},this.displayMenuItems=function(e,n){var i=r.select(t.props.renderTo.value).append("div").style("width","165px").style("margin-left",t.chartWidth-200-n+"px").style("margin-top","2px").style("position","fixed").attr("id",t.props.renderTo.value.replace("#","","gi")+"menuDiv").style("display","none").style("opacity",0).append("ul").style("list-style-type","none").style("padding","0").style("margin","0").append("table").style("background-color","#E6E6E6").style("padding","0").style("margin","0").style("border","1px solid #B7B7B7");for(var a in t.props){var o=t.props[a];if(1==o.runtime){var s=i.append("tr");if(s.append("td").style("width","93px").append("li").attr("class","rtPropText").style("text-align","left").style("padding-left","5px").html((function(){return null!=t.props["text_"+a]&&"/"!=t.props["text_"+a].value&&""!=t.props["text_"+a].value?t.props["text_"+a].value:t.props[a].title})),"ddl"==o.controlType){var l=s.append("td").append("select").style("padding","5px 3px").attr("class","rtPropInput").on("change",(function(){e.updateRuntimeValue(this),e.draw(),e.showHideSettings=!1})).attr("id",o.title).selectAll("option").data(o.options);l.enter().append("option").text((function(e){return e==o._value&&r.select(this).attr("selected",!0),e})),l.selectAll("text").style("font-family","Arial"),l.selectAll("text").style("font-size","12px")}else"txt"==o.controlType?s.append("td").append("input").attr("type","text").attr("class","rtPropInput").style("width","57px").attr("value",o._value).on("change",(function(){e.updateRuntimeValue(this),e.draw(),e.showHideSettings=!1})).attr("id",o.title):"color"==o.controlType&&s.append("td").append("input").attr("class","rtPropInput").attr("type","color").attr("value",o._value).style("width","50px").on("change",(function(){e.updateRuntimeValue(this),e.draw(),e.showHideSettings=!1})).attr("id",o.title)}}},this.styleTween=function(e,t,n){e.styleTween(t,(function(){return r.interpolate(this.style[t],n)}))},this.drawAverageLineOnCalculatedData=function(e,t,n,i,a,o,s,l,u,c,h,p){if(t.length>0){var d=r.svg.line().x((function(e,t){return e[0]})).y((function(e){return 1*e[1]}));e.svg.append("path").attr("d",d(t)).attr("class","averageLine").attr("stroke",i).attr("stroke-width",a).attr("opacity",o).attr("fill","none"),"true"==h&&e.svg.append("text").text((function(e){return"["+p+" = "+n.toFixed(2)+"]"})).attr("class","averageLineText").style("font-size",c).style("font-family",u).style("color",s).style("font-weight",l).attr("x",(function(e){return 10})).attr("y",(function(e){return t[0][1]-4}))}},this.calculateAndDrawAverageLine=function(e,t,n,i,a,o,s,l,u,c,h,p){var d=0,f=0,g=e.data;if(g.length>0){for(var v=0;v<g.length;v++)f+=g[v].val;for(d=f/g.length,v=0;v<g.length;v++)g[v].averageVal=d;var y=r.svg.line().x((function(t,n){return null!=e.properties.orientation_BarChart&&e.properties.orientation_BarChart.value==ChartExpo.UIFabricHelper.Orientation.leftToRight?1*e._xScale(t.averageVal):n==g.length-1?u:e._xScale(t.lable)})).y((function(t,n){return null!=e.properties.orientation_BarChart&&e.properties.orientation_BarChart.value==ChartExpo.UIFabricHelper.Orientation.leftToRight?n==g.length-1?c:e._yScale(t.lable):1*e._yScale(t.averageVal)}));e.svg.append("path").attr("d",y(g)).attr("class","averageLine").attr("stroke",t).attr("stroke-width",n).attr("opacity",i).attr("fill","none"),"true"==h&&e.svg.append("text").text((function(e){return"["+p+" = "+d.toFixed(2)+"]"})).attr("class","averageLineText").style("font-size",l).style("font-family",s).style("color",a).style("font-weight",o).attr("x",(function(t){return null!=e.properties.orientation_BarChart&&e.properties.orientation_BarChart.value==ChartExpo.UIFabricHelper.Orientation.leftToRight?1*e._xScale(d)+5:10})).attr("y",(function(t){return null!=e.properties.orientation_BarChart&&e.properties.orientation_BarChart.value==ChartExpo.UIFabricHelper.Orientation.leftToRight?10:1*e._yScale(d)-4}))}},this.calculateAndDrawAverageLineForMultiseriesData=function(e,t,n,i,a,o,s,l,u,c,h,p){var d=i.toLowerCase().split(","),f=e.data;if(f.length>0){for(var g=f[0].subCategory.length,v=f.length,y=0;y<g;y++)f[0].subCategory[y].averageVal=f[0].subCategory[y].subCatTotal/v;for(y=0;y<g;y++){var m=f[0].subCategory[y].name.toString(),b=this.getLineOverrideColor(n,m);if(null==i||""==i||"/"==i||-1!==d.indexOf(m.toLowerCase())){var x=r.svg.line().x((function(t,n){return e._xScale(t.category)})).y((function(t){return 1*e._yScale(f[0].subCategory[y].averageVal)}));e.svg.append("path").attr("d",x(f)).attr("class","averageLine").attr("stroke",(function(e){return null==b?t(m):b})).attr("stroke-width",a).attr("opacity",o).attr("fill","none"),"true"==h&&e.svg.append("text").text((function(e){return"["+p+" = "+f[0].subCategory[y].averageVal.toFixed(2)+"]"})).attr("class","averageLineText").style("font-size",c).style("font-family",u).style("color",s).style("font-weight",l).attr("x",(function(e){return 10})).attr("y",(function(t){return 1*e._yScale(f[0].subCategory[y].averageVal)-4}))}}}},this.getLineOverrideColor=function(e,t){var n=e.toLowerCase().split(",");if(null==e||""==e||"/"==e)return null;for(var r=0;r<n.length;r++){var i=n[r].split(":");if(i[0].toLowerCase()==t.toLowerCase())return i[1]}return null},this.getRectBounds=function(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,w:t.right-t.left,h:t.bottom-t.top}},this.getGeneralProperties_forAddon=function(){return[]},this.getProperties_forYAxisLeft_forAddon=function(){return[]},this.getProperties_forYAxisRight_forAddon=function(){return[]},this.getProperties_forXAxisBottom_forAddon=function(){return[]},this.getProperties_forXAxisTop_forAddon=function(){return[]},this.getFlatData=function(e){return[]}},this.ChartExpo.Widgets.Components.ChartComponentBaseClass.prototype=new this.ChartExpo.Widgets.Components.ComponentsBase,this.ChartExpo.Widgets.Components.ChartComponentBaseClass.prototype.constructor=this.ChartExpo.Widgets.Components.ChartComponentBaseClass,this.ChartExpo.Widgets.Components.ChartLableComponent=function(e,t,n){var i={};this.properties={};var a=this;this.data=e.data,this._objWidget=e,this.orient=null,this.linkedDataSource="",this.className="ChartLableComponent",this.orientation=n,this.settings=t,this.paddingFactor=0,this.AllignAxisPaddingFactor={left:0,top:0,right:0},this.lableCalculatedHeight=0;function o(e){return"#"+e}this.getMargins=function(){null!=i&&("horizontal"==i.orientation_ChartLable.value?{top:8,right:+i.marginRight_ChartLable.value,bottom:8,left:+i.marginLeft_ChartLable.value}:{top:+i.marginTop_ChartLable.value,right:8,bottom:i.marginBottom_ChartLable.value,left:8},i.width_ChartLable.value,i.height_ChartLable.value)},this.getDivNameWithParent=function(){return a.settings.renderTo+"_divLable_"},this.generateDivs=function(){a.svg=r.select(i.renderTo.value),r.select("#"+a.getDivNameWithParent()+a.orientation).remove(),r.select(i.renderTo.value).append("div").attr("id",a.getDivNameWithParent()+a.orientation).attr("class",(function(){if("Left"==a.orientation)return"divLable_Left"})).style("height",(function(){if("Left"==a.orientation||"Right"==a.orientation)return+i.height_ChartLable.value+"px"})).style("width",(function(e){return"Bottom"==a.orientation?"true"==i.alignAxis_Label.value?null!=a.AllignAxisPaddingFactor.right&&a.AllignAxisPaddingFactor.right>=0?+i.width_ChartLable.value+17-a.AllignAxisPaddingFactor.left-a.AllignAxisPaddingFactor.right+"px":+i.width_ChartLable.value+10-a.AllignAxisPaddingFactor.left+"px":+i.width_ChartLable.value-a.paddingFactor+"px":"true"==i.alignAxis_Label.value?null!=a.AllignAxisPaddingFactor.right&&a.AllignAxisPaddingFactor.right>=0?+i.width_ChartLable.value+7-a.AllignAxisPaddingFactor.left-a.AllignAxisPaddingFactor.right+"px":+i.width_ChartLable.value-a.AllignAxisPaddingFactor.left+"px":+i.width_ChartLable.value+"px"})).style("padding",(function(e){return"Top"==a.orientation?"true"==i.alignAxis_Label.value?"0px 0px 0px "+a.AllignAxisPaddingFactor.left+"px":"0px 0px 0px "+(a.paddingFactor+8)+"px":"Right"==a.orientation?a.paddingFactor+"px 0px 0px 0px":"Bottom"==a.orientation?"true"==i.alignAxis_Label.value?"0px 0px 0px "+a.AllignAxisPaddingFactor.left+"px":"0px 0px 0px "+(a.paddingFactor+8)+"px":"Left"==a.orientation?a.paddingFactor+"px 0px 0px 0px":void 0})).style("text-align",(function(e){var t=i.alignment_Label.value;return"start"==t?t="left":"middle"==t?t="center":"end"==t&&(t="right"),t})).style("display",(function(e){return"Left"==a.orientation||"Right"==a.orientation?"inline-block":"table-cell"})).style("overflow-y","hidden").style("vertical-align","middle").text((function(e){return"Top"==a.orientation?"Header Top":"Right"==a.orientation?"Header Right":"Bottom"==a.orientation?"Header Bottom":"Left"==a.orientation?"Header Left":void 0}))},this.generateProperties(),this.createProperties=function(e,t,n,r,i,a,o,s,l,u,c,h,p,d,f){s=void 0===s?"":s,this.title=t,this.name=n,this.controlType=r,this.defaults=i,this.value=a,this.options=o,this._group="string"==typeof s?{}:s,this.group="string"==typeof s?s:s.name,this.propertyType=l,this.propertySelector=u,this.parentNotifyAble=null!=c&&"false"!==c&&!1!==c,this.expose=null==p||p,this.isContainer=null!=d&&d,this._guid=e,this.runtime=f,this.toJSON=function(e){return{title:this.title,name:this.name,controlType:this.controlType,defaults:this.defaults,_value:this._value,options:""==this.options?[]:this.options,_group:this._group,group:this.group,propertyType:this.propertyType,propertySelector:this.propertySelector,parentNotifyAble:this.parentNotifyAble,expose:this.expose,isContainer:this.isContainer,_guid:this._guid,runtime:this.runtime}},this.addPropertyToParent=function(){var e=(this._group.name+this.title.charAt(0).toUpperCase()+this.title.slice(1)).replace(new RegExp("\\.","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("-","g"),"").replace(new RegExp("_","g"),"");void 0===h.attributes&&(h.attributes={}),void 0===h.attributes[e]&&(h.attributes[e]=this)},this.expose&&this.addPropertyToParent()},this.generateProperties=function(){var t="color";"Left"!=a.orientation&&"Right"!=a.orientation||(t="fill");var n={name:"misc",title:"Misc"};n.type=_,n.componentType=A,i.renderTo=new this.createProperties("c884432f-8c72-4ff1-af95-06cb85b82a15","Render To","renderTo","txt","","",V,n,D,"","false",a,!1),i.marginX_ChartLable=new this.createProperties("8f3937ed-7161-416b-a749-50cfc4a7e449","Margin X","marginX","txt","0","0","",n,D,"","false",a,!1),i.marginY_ChartLable=new this.createProperties("f0ea7314-1b01-48c2-8778-b42f8822bc8b","Margin Y","marginY","txt","0","0","",n,D,"","false",a,!1),i.height_ChartLable=new this.createProperties("81ca91e5-c010-4400-a75d-cce82f16c130","Height","height","txt","0","0","",n,D,"","true",a,!1),i.width_ChartLable=new this.createProperties("9a53b297-2d31-41c4-8643-bf06c2d5b9ff","Width","width","txt","0","0","",n,D,"","true",a,!1),i.orientation_ChartLable=new this.createProperties("48232059-944a-40d9-a05d-c3ba4ffd229b","Orientation","orientation","ddl","horizontal","horizontal",z,n,D,"","true",a,!1),a.properties.viewChartInEditMode_ChartLable=new this.createProperties("59980958-27ee-4b34-8e54-d2c4bc4c9688","Edit Mode","editMode","ddl","false","false",W,n,D,"","false",this,!0);var r={name:"margin",title:"Margin"};r.type=P,r.componentType=A,i.marginTop_ChartLable=new this.createProperties("516b37e7-4ef3-43ea-bd06-984e9cddde43","Top","top","txt","2","2","",r,D,"","false",a,!1),i.marginLeft_ChartLable=new this.createProperties("1936408b-35b8-4595-baa5-d43a6dc8e905","Left","left","txt","2","2","",r,D,"","false",a,!1),i.marginRight_ChartLable=new this.createProperties("769f7993-e58b-44c7-9094-e34759ed8d23","Right","right","txt","2","2","",r,D,"","false",a,!1),i.marginBottom_ChartLable=new this.createProperties("d0461082-a1c4-4a18-ab44-cee00afa13e7","Bottom","Bottom","txt","2","2","",r,D,"","false",a,!1),i.rotate_ChartLable=new this.createProperties("d82cb77e-83f1-4045-bed7-824bdf4fe6ca","Rotate Lable","RotateLable","txt","1","1","",r,D,"","false",a,!1);var s={name:"label",title:"Label"};if(s.type=C,s.componentType=A,i.displayText_ChartLable=new this.createProperties("afc9c1eb-fea0-4e7f-8125-8b0c104bc58a","Text","lableText","txt","[Chart Header]","[Chart Header]","",s,D,"","false",a),i.showHide_ChartLable=new this.createProperties("51416d2f-048e-4fcf-a3b2-6e94662fec07","Show","show","ddl","false","false",W,s,D,"","true",a),i.alignAxis_Label=new this.createProperties("cec90377-d972-4da4-ab3c-943fb4275f50","Align Axis","Align Axis","ddl","false","false",W,s,D,"","true",a),i.alignment_Label=new this.createProperties("ee4d9837-cc48-44c0-bdef-e00ba3cae44a","Alignment","alignment","ddl","middle","middle",Z,s,D,"","true",a),i.fontFamily_Vertical_Lable_SMGraph=new this.createProperties("17f43d12-8b0c-4b0c-9dda-c1d8ac745cdc","Font Family","font-family","ddl","Arial","Arial",F,s,T,o(a.getDivNameWithParent()+a.orientation),"false",a),i.fontSize_Vertical_Lable_SMGraph=new this.createProperties("e660b40a-07da-4b06-8066-d03b72b45324","Font Size","font-size","txt","8px","8px",G,s,D,o(a.getDivNameWithParent()+a.orientation),"true",a),i.ChartExpo_UIFabricHelper_fontStyle_Vertical_Lable_SMGraph=new this.createProperties("aa6b8b32-8f3b-4adc-bd6d-7f3e0094648f","Font Style","font-style","ddl","normal","normal",B,s,T,o(a.getDivNameWithParent()+a.orientation),"false",a),i.fontVariant_Vertical_Lable_SMGraph=new this.createProperties("f909fdb3-9076-45b0-8f8a-b09f96d76d5a","Font Variant","font-variant","ddl","normal","normal",j,s,T,o(a.getDivNameWithParent()+a.orientation),"false",a),i.fontWeight_Vertical_Lable_SMGraph=new this.createProperties("ffbc1a1d-d36a-44f4-ba39-8b7889d5967f","Font Weight","font-weight","ddl","normal","normal",R,s,T,o(a.getDivNameWithParent()+a.orientation),"false",a),i.textTransform_Vertical_Lable_SMGraph=new this.createProperties("0231416e-fbba-447f-af9e-d2e716d36ca1","Text Transform","text-transform","ddl","none","none",H,s,T,o(a.getDivNameWithParent()+a.orientation),"false",a),i.color_Vertical_Lable_SMGraph=new this.createProperties("c7c5f0b0-9e2e-452d-8f78-feddcf8b4c8f","Color","color","color","#000000","#000000","",s,T,o(a.getDivNameWithParent()+a.orientation),"false",a),i.rotateLabel=new this.createProperties("7qd9s78a-80q0-3339-zd47-f59wd21xfe59","rotation","rotation","ddl","bottomToTop","bottomToTop",["default","bottomToTop","topToBottom"],s,D,"","false",this),i.showOnNDF_ChartLable=new this.createProperties("86fb7de8-b2b0-48be-9f8c-85713d68ec8d","ShowOnNDF","showOnNDF","ddl","true","true",W,s,D,"","true",a),"Left"==a.orientation||"Right"==a.orientation){var l={name:"box",title:"Box"};l.type=_,l.componentType=A,i.showBox_ChartLable=new this.createProperties("6ae33877-7ee2-4dd9-a7ae-6bb0be966c25","Show","show","ddl","false","false",W,l,D,"","false",a),i.boxWidth_ChartLable=new this.createProperties("38d8f013-1ed8-45cf-93b8-e84ad51b2c00","Width","width","txt","10","10","",l,D,"","false",a),i.boxHeight_ChartLable=new this.createProperties("9c72970b-8743-4c75-9a45-fe034bd7882f","Height","height","txt","20","20","",l,D,"","false",a),i.boxColor_ChartLable=new this.createProperties("a42cbe08-f619-41c2-be88-efc69d6e1f96","Color","fill","color","blue","blue","",l,T,".rect","false",a)}a.initDefaults(),i.color_Vertical_Lable_SMGraph.name=t,null!=e._passedProperties&&null!=e._passedProperties&&(e._passedProperties.length>0&&null!=e._passedProperties[0].childGroups&&e._passedProperties[0].childGroups.length>0?this.mapOldPropertiesWithNewGrouping(e._passedProperties,this.getNewProperties()):this.mapOldProperties(e._passedProperties,this.getProperties()))},this.initDefaults=function(){"Left"==a.orientation||"Right"==a.orientation?(i.rotateLabel.expose=!0,i.showOnNDF_ChartLable.expose=!1):"Bottom"==a.orientation?i.showOnNDF_ChartLable.expose=!1:i.rotateLabel.expose=!1},this.generateProps=function(){var t=new ChartExpo.UIFabricHelper.Contracts.ChildGroup;t.name=_,t.type=_,t.settings.sortOrder=6;var n=[];n.push(),t.properties=n,groups.push(t),i.renderTo=new this.createProperties("Render To","renderTo","txt","","",V,ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1),i.marginX_ChartLable=new this.createProperties("Margin X","marginX","txt","0","0","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1),i.marginY_ChartLable=new this.createProperties("Margin Y","marginY","txt","0","0","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1),i.showHide_ChartLable=new this.createProperties("Show","show","ddl","false","false",W,ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","true",a),i.height_ChartLable=new this.createProperties("Height","height","txt","0","0","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","true",a,!1),i.width_ChartLable=new this.createProperties("Width","width","txt","0","0","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","true",a,!1),i.orientation_ChartLable=new this.createProperties("Orientation","orientation","ddl","horizontal","horizontal",z,ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","true",a,!1),i.marginTop_ChartLable=new this.createProperties("Margin Top","marginTop","txt","2","2","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1),i.marginLeft_ChartLable=new this.createProperties("Margin Left","marginLeft","txt","2","2","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1),i.marginRight_ChartLable=new this.createProperties("Margin Right","marginRight","txt","2","2","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1),i.marginBottom_ChartLable=new this.createProperties("Margin Bottom","marginBottom","txt","2","2","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1),i.rotate_ChartLable=new this.createProperties("Rotate Lable","RotateLable","txt","1","1","",ChartExpo.Widgets.Properties.GroupNames.ChartLable,D,"","false",a,!1);var r={name:"label",title:"Label"};r.type=C,r.componentType=A,i.displayText_ChartLable=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb68952","Lable Text","lableText","txt"," "," ","",r,D,"","false",a),i.fontFamily_Vertical_Lable_SMGraph=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb689521","Font Family","font-family","ddl","Arial","Arial",F,r,T,o(a.getDivNameWithParent()+a.orientation),"false",a,null,!0),i.fontSize_Vertical_Lable_SMGraph=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb689522","Font Size","font-size","txt","8px","8px",G,r,T,o(a.getDivNameWithParent()+a.orientation),"false",a,null,!0),i.ChartExpo_UIFabricHelper_fontStyle_Vertical_Lable_SMGraph=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb689523","Font Style","font-style","ddl","normal","normal",B,r,T,o(a.getDivNameWithParent()+a.orientation),"false",a,null,!0),i.fontVariant_Vertical_Lable_SMGraph=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb689524","Font Variant","font-variant","ddl","normal","normal",j,r,T,o(a.getDivNameWithParent()+a.orientation),"false",a,null,!0),i.fontWeight_Vertical_Lable_SMGraph=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb689525","Font Weight","font-weight","ddl","normal","normal",R,r,T,o("divLable_"+a.orientation),"false",a,null,!0),i.textTransform_Vertical_Lable_SMGraph=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb689526","Text Transform","text-transform","ddl","none","none",H,r,T,o(a.getDivNameWithParent()+a.orientation),"false",a,null,!0),i.color_Vertical_Lable_SMGraph=new this.createProperties("e65300d0-12ff-4679-8796-6a619eb689527","Color","color","color","#000000","#000000","",r,T,o(a.getDivNameWithParent()+a.orientation),"false",a,null,!0),null!=e._passedProperties&&null!=e._passedProperties&&this.mapOldProperties(e._passedProperties,this.getProperties())},this.getProperties=function(e){if(null!=e&&null!=e&&e)return i;var t=new Array;for(var n in i)i[n].expose&&t.push(i[n]);return{name:"ChartLable "+a.orientation,title:"Chart Label "+a.orientation,properties:t}},this.getNewProperties=function(){null==i.marginTop_ChartLable&&a.getProperties();var e=new Array;for(var t in i)i[t].expose&&e.push(i[t]);var n=[],r="",o="";return"left"==a.orientation.toLowerCase()?(r=E,o="Header Left"):"right"==a.orientation.toLowerCase()?(r="headerRight",o="Header Right"):"top"==a.orientation.toLowerCase()?(r=M,o="Header Top"):"bottom"==a.orientation.toLowerCase()&&(r=O,o="Header Bottom"),n.push(getNewGrouping(e,r,o,r)),n},this.generateProperties(),this.updateChild=function(e,t,n){"behaviour"==n.propertyType?n.parentNotifyAble?this.parentDelegate(e,t,n):"lableText"==n.name?("/"==n._value&&(n._value=""),"Left"==a.orientation||"Right"==a.orientation?"true"==i.showHide_ChartLable.value&&a.draw():0==r.select("#"+a.getDivNameWithParent()+a.orientation).empty()&&r.select("#"+a.getDivNameWithParent()+a.orientation).html(n.value)):a.draw():"style"==n.propertyType&&"fill"==n.name&&a.svg.select("."+(a.getDivNameWithParent()+a.orientation)).style("fill",(function(e){return r.hsl(i.color_Vertical_Lable_SMGraph.value).darker(.1)}))},this.draw=function(e){null!=e&&(a.paddingFactor=e),a.setProperties_for_viewChartInEditMode(),a.getMargins(),"Left"==a.orientation||"Right"==a.orientation?"default"==i.rotateLabel.value?(a.generateDivs(),a.applyBehaviourProperties(),a.rotateLable()):(i.rotateLabel.value,a.generateLabelUsingSvg()):(a.generateDivs(),a.applyBehaviourProperties()),a.applyDefaults(a.getProperties()),null!=a.settings.editMode&&a.settings.editMode&&a.generateEditMode()},this.generateLabelUsingSvg=function(){a.calculateLabelSpace();var e=+i.width_ChartLable.value,t=0,n=+i.height_ChartLable.value;"true"==i.alignAxis_Label.value&&null!=a.AllignAxisPaddingFactor&&null!=a.AllignAxisPaddingFactor&&null!=a.AllignAxisPaddingFactor.drawingHeight&&(n=a.AllignAxisPaddingFactor.drawingHeight),"Left"!=a.orientation&&"Right"!=a.orientation||"true"==i.showBox_ChartLable.value&&(t=+i.boxHeight_ChartLable.value+5),a.svg=r.select(i.renderTo.value),r.select("#"+a.getDivNameWithParent()+a.orientation).remove(),a.svg=r.select(i.renderTo.value).append("div").attr("id",a.getDivNameWithParent()+a.orientation).attr("class",(function(){if("Left"==a.orientation)return"divLable_Left"})).style("height",(function(){if("Left"==a.orientation||"Right"==a.orientation)return+i.height_ChartLable.value+"px"})).style("width",(function(e){if("Left"==a.orientation||"Right"==a.orientation)return+i.width_ChartLable.value+"px"})).style("padding",(function(e){return"Top"==a.orientation?"0px 0px 0px "+(a.paddingFactor+8)+"px":"Right"==a.orientation?a.paddingFactor+"px 0px 0px 0px":"Bottom"==a.orientation?"0px 0px 0px "+(a.paddingFactor+8)+"px":"Left"==a.orientation?a.paddingFactor+"px 0px 0px 0px":void 0})).style("text-align",(function(e){var t=i.alignment_Label.value;return"start"==t?t="left":"middle"==t?t="center":"end"==t&&(t="right"),t})).style("display",(function(e){return"Left"==a.orientation||"Right"==a.orientation?"inline-block":"table-cell"})).style("overflow-y","hidden").style("vertical-align","middle").append("svg").attr("id","ChartLabelComponentSVG").attr("width",e).attr("height",n).append("g").attr("transform",(function(e){if("topToBottom"==i.rotateLabel.value){if("middle"==i.alignment_Label.value)return"translate(0,"+(n/2-a.lableCalculatedWidth/2+t)+")";if("start"==i.alignment_Label.value)return"translate(0,0)";if("end"==i.alignment_Label.value)return"translate(0,"+(n-a.lableCalculatedWidth+t)+")"}else{var r=0;if("true"==i.showBox_ChartLable.value&&("Left"==a.orientation&&(r=2),"Right"==a.orientation&&(r=-2)),"middle"==i.alignment_Label.value)return"translate("+r+","+(n/2+a.lableCalculatedWidth/2-t)+")";if("start"==i.alignment_Label.value)return"translate("+r+","+(a.lableCalculatedWidth-t)+")";if("end"==i.alignment_Label.value)return"translate("+r+","+(n-t)+")"}})),"Left"!=a.orientation&&"Right"!=a.orientation||"true"==i.showBox_ChartLable.value&&a.svg.append("rect").attr("height",i.boxHeight_ChartLable.value).attr("width",i.boxWidth_ChartLable.value).attr("x",(function(){return e/2-i.boxWidth_ChartLable.value/2})).attr("y",(function(){return"bottomToTop"==i.rotateLabel.value?"5":"topToBottom"==i.rotateLabel.value?-(+i.boxHeight_ChartLable.value+5):void 0})).attr("class","rect"),a.svg.append("text").attr("id",a.getDivNameWithParent()+a.orientation).attr("class",a.getDivNameWithParent()+a.orientation+" chartLabel divLable_Left").text(""==i.displayText_ChartLable.value?"Label":i.displayText_ChartLable.value).style("font-size",i.fontSize_Vertical_Lable_SMGraph.value.replace("px","")+"px").attr("y",(function(){if("Left"==a.orientation||"Right"==a.orientation){if("bottomToTop"==i.rotateLabel.value)return e/2;if("topToBottom"==i.rotateLabel.value)return-e/2}return"0"})).attr("dy","0.35em").style("opacity",(function(e){return 1})).attr("transform",(function(e){return"topToBottom"==i.rotateLabel.value?(null==ChartExpo.UIFabricHelper.BrowserType.GC||ChartExpo.UIFabricHelper.BrowserType.IE,"rotate(90)"):"rotate(270)"}))},this.receive=function(e,t,n){null!=n.paddingFactor&&(a.AllignAxisPaddingFactor=n.paddingFactor)},this.rotateLable=function(){for(var e='<div id="heightcontainer"><span>'+r.select("#"+a.getDivNameWithParent()+a.orientation).html().split("").join("</span><span>")+"</span></div>";e.indexOf("<span> </span>")>-1;)e=e.replace("<span> </span>","<span><br /></span>");r.select("#"+a.getDivNameWithParent()+a.orientation).html(e),this.applyMarginTopOnLeftLable()},this.applyMarginTopOnLeftLable=function(){var e=document.getElementById(a.getDivNameWithParent()+a.orientation),t=r.select("#"+a.getDivNameWithParent()+a.orientation).select("#heightcontainer")[0][0],n=e.clientHeight,i=t.clientHeight;if((n/=2)>(i/=2)){var o=n-i,s=e.clientHeight-o;r.select("#"+a.getDivNameWithParent()+a.orientation).style("height",s+"px").style("padding-top",o+"px")}else r.select("#"+a.getDivNameWithParent()+a.orientation).style("height",e.clientHeight+"px").style("padding-top","0px")},this.applyBehaviourProperties=function(){r.select("#"+a.getDivNameWithParent()+a.orientation).html(i.displayText_ChartLable.value).style("font-size",(function(e){return i.fontSize_Vertical_Lable_SMGraph.value.replace("px","")+"px"}))},this.lableCalculatedWidth=0,this.calculateLabelSpace=function(){if("Left"==a.orientation||"Right"==a.orientation){var e=0;return a.svg=r.select("#"+a.settings.renderTo).append("svg").attr("id",a.settings.renderTo+"_tempLabel"),a.svg.append("g").append("text").attr("class",o(a.getDivNameWithParent()+a.orientation)).text(""==i.displayText_ChartLable.value?"WWW":i.displayText_ChartLable.value).style("font-size",i.fontSize_Vertical_Lable_SMGraph.value.replace("px","")+"px").style("font-style",i.ChartExpo_UIFabricHelper_fontStyle_Vertical_Lable_SMGraph.value).style("font-variant",i.fontVariant_Vertical_Lable_SMGraph.value).style("font-weight",i.fontWeight_Vertical_Lable_SMGraph.value).style("font-family",i.fontFamily_Vertical_Lable_SMGraph.value).style("opacity",(function(t){a.applyDefaults(a.getProperties());var n=this.getBBox().height;return e=n,a.lableCalculatedWidth=this.getBBox().width,1})),a.svg=null,r.select("#"+a.settings.renderTo+"_tempLabel").remove(),"Left"!=a.orientation&&"Right"!=a.orientation||"true"==i.showBox_ChartLable.value&&(+i.boxWidth_ChartLable.value>e&&(e=+i.boxWidth_ChartLable.value),a.lableCalculatedWidth+=+i.boxHeight_ChartLable.value+5,e<20?(e=20,a.lableCalculatedHeight=e):a.lableCalculatedHeight=e),13>e&&(e=13),e}var t=i.displayText_ChartLable.value;return(a.settings.editMode=a.settings.editMode)&&(t+='<img src="'+s+'" title="Edit" width="13" height="13" style="margin-left: 10px; cursor: pointer;">'),e=0,a.svg=r.select("#"+a.settings.renderTo),a.svg.append("div").attr("id",a.settings.renderTo+"_tempLabel").attr("class",o(a.getDivNameWithParent()+a.orientation)).html(t).style("padding",(function(){return"0px 0px 0px 8px"})).style("font-size",i.fontSize_Vertical_Lable_SMGraph.value.replace("px","")+"px").style("font-style",i.ChartExpo_UIFabricHelper_fontStyle_Vertical_Lable_SMGraph.value).style("font-variant",i.fontVariant_Vertical_Lable_SMGraph.value).style("font-weight",i.fontWeight_Vertical_Lable_SMGraph.value).style("font-family",i.fontFamily_Vertical_Lable_SMGraph.value).style("opacity",(function(t){a.applyDefaults(a.getProperties());var n=this.getBoundingClientRect().height;return e=n,a.lableCalculatedWidth=this.getBoundingClientRect().width,1})),a.svg=null,r.select("#"+a.settings.renderTo+"_tempLabel").remove(),18>e&&(e=18),e},this.generateEditMode=function(){var t;"Top"!=a.orientation&&"Bottom"!=a.orientation||(t=r.select("#"+a.getDivNameWithParent()+a.orientation).append("img").attr("src",s).attr("title",editAbleIconToolTip).style("margin-left","10px").on("mouseover",(function(){r.select(this).attr("src",l)})).on("mouseleave",(function(){r.select(this).attr("src",s)}))),"Left"!=a.orientation&&"Right"!=a.orientation||(t=r.select("#"+a.getDivNameWithParent()+a.orientation).select("#ChartLabelComponentSVG").select("g").append("svg:image").attr("x",(function(){return"true"==i.showBox_ChartLable.value?5:0})).attr("y",(function(){return"true"==i.showBox_ChartLable.value?+i.boxHeight_ChartLable.value+10:5})).attr("xlink:href",s).on("mouseover",(function(){r.select(this).attr("xlink:href",l)})).on("mouseleave",(function(){r.select(this).attr("xlink:href",s)}))),t.style("cursor","pointer").attr("width","13").attr("height","13").on("click",(function(){var t=[];t.push(i.displayText_ChartLable),t.push(i.showHide_ChartLable),t.push(i.fontFamily_Vertical_Lable_SMGraph),t.push(i.fontSize_Vertical_Lable_SMGraph),t.push(i.ChartExpo_UIFabricHelper_fontStyle_Vertical_Lable_SMGraph),t.push(i.fontVariant_Vertical_Lable_SMGraph),t.push(i.fontWeight_Vertical_Lable_SMGraph),t.push(i.textTransform_Vertical_Lable_SMGraph),t.push(i.color_Vertical_Lable_SMGraph);var n={};switch(n.x=r.event.pageX,n.y=r.event.pageY,n.dataPointType="label",a.orientation){case"Top":n.componentType="headerTop";break;case"Bottom":n.componentType="headerBottom";break;case"Left":n.componentType="headerLeft";break;case"Right":n.componentType="headerRight"}n.dataPointName="",e.onEdit(t,n)})).append("title").text(editAbleIconToolTip)},this.setProperties_for_viewChartInEditMode=function(){"true"==a.properties.viewChartInEditMode_ChartLable.value&&(""!=i.displayText_ChartLable.value&&"/"!=i.displayText_ChartLable.value||i.displayText_ChartLable.value("[Chart Header]",!0),i.showHide_ChartLable.value("true",!0))}},this.ChartExpo.Widgets.Components.ChartLableComponent.prototype=new this.ChartExpo.Widgets.Components.ComponentsBase,this.ChartExpo.Widgets.Components.ChartLableComponent.prototype.constructor=this.ChartExpo.Widgets.Components.ChartLableComponent,this.createPropertiesGroup=function(){this.name="",this.path="",this.properties=[],this.group=[]},this.ChartExpo.Widgets.Components.SankeyGraphAdvanceComponent=function(e,t,n,i){var o=e;this.properties={};var p,d=this;this.data=t.data;var f,g,m,b,S,k,M=700,O=470,E=-1,A=0;this._settings=t;var I=0,j=!1,H=(o.data,0),V=-1,z="",Z="sankyLabelClass",J=0,X=0;r.hsl("#b1c9ee").darker(1),this.tooltipDataInfo=t.tooltipData;var K=0,$=!1,Q=JSON.parse(JSON.stringify(d.data)),ee={},te={},ne=0,re=0,ie=[],ae=[];this.flag=!0;var oe={},se={},le=[],ue={},ce={},he=!1,pe={},de=[],fe="";function ge(e){if(-1!=(e=e.trim()).indexOf("p")){var t=e.indexOf("p");return+e.substring(0,t)}return-1!=e.indexOf("P")?(t=e.indexOf("P"),+e.substring(0,t)):+e}this.calculateMargins=function(){this.generateMargins(),this.generateSVG(),d.svg=null},this.generateMargins=function(){lastNodeXPosition=0,isLastLevelLabelOrientationRight&&(lastNodeXPosition=X),p={top:d.properties.paddingTop.value,right:d.properties.paddingRight.value,bottom:d.properties.paddingBottom.value,left:d.properties.paddingLeft.value},M=+d.properties.width_SankeyGraph.value-p.left-p.right-lastNodeXPosition,O=+d.properties.height_SankeyGraph.value-p.top-p.bottom},this.generateScales=function(){r.format(",.0f"),r.scale.category20()},this.generateCustomToolTip=function(e){},this.generateCustomToolTipimMoveable=function(){"true"==d.properties.showToolTip_SankeyGraph.value&&d.svg.selectAll("rect").on("mouseover",(function(e,t){selectedPoint=this,d.selectedDataPoint=e,(void 0).showTooltip(this,e,this,M,O,mouseCoordinates,o,"0",d.properties.renderTo.value)}))},this.generateSankey=function(){var e;e="true"==d.properties.ascendingSankey_SankeyGraph.value,f=r.sankey().sortMode(e).normalMode(!1).sortx(-1).nodeWidth(d.properties.NodeWidth_SankeyGraph.value).nodePadding(d.properties.NodePadding_SankeyGraph.value).size([M-firstNodeXPosition,O-15-re-K-15-+d.properties.headerChartGap_Header_SankeyGraph.value]).nodes(d.data.nodes).links(d.data.links).layout(32),Ve(),f.relayout()},r.sankey=function(){var e={},t=!1,n=0,i=24,a=8,o=[1,1],s=[],l=[],u=!0,c=null;function h(){s.forEach((function(e){var t=0,n=0;e.sourceLinks.forEach((function(e){e.sy=t,t+=e.dy})),e.targetLinks.forEach((function(e){e.ty=n,n+=e.dy}))}))}function p(e){return e.y+e.dy/2}function d(e){return e.value}return e.normalMode=function(t){return arguments.length?(u=t,e):u},e.sortMode=function(n){return arguments.length?(t=+n,e):t},e.sortx=function(t){return arguments.length?(n=+t,e):n},e.nodeWidth=function(t){return arguments.length?(i=+t,e):i},e.nodePadding=function(t){return arguments.length?(a=+t,e):a},e.nodes=function(t){return arguments.length?(s=t,e):s},e.links=function(t){return arguments.length?(l=t,e):l},e.size=function(t){return arguments.length?(o=t,e):o},e.linkSortOrder=function(t){return arguments.length?(c=t,e):c},e.layout=function(n){return s.forEach((function(e){e.sourceLinks=[],e.targetLinks=[]})),l.forEach((function(e,t){var n=e.source,r=e.target;if("number"==typeof n){for(var i={},a=0;a<s.length;a++)if(s[a].nodeId==e.source){i=s[a];break}n=e.source=i}if("number"==typeof r){for(i={},a=0;a<s.length;a++)if(s[a].nodeId==e.target){i=s[a];break}r=e.target=i}e.sIndex=n.sourceLinks.length+1,e.tIndex=r.targetLinks.length+1,n.sourceLinks.push(e),r.targetLinks.push(e)})),s.forEach((function(e){e.value=Math.max(r.sum(e.sourceLinks,d),r.sum(e.targetLinks,d))})),function(){for(var e,t,n=s;n.length;)e=[],n.forEach((function(t){t.x=t.nodeLevel-1,t.dx=i,t.sourceLinks.forEach((function(n){for(var r=!0,i=0;i<e.length;i++)if(e[i].name==n.target.name){r=!1;break}t.nodeLevel<n.target.nodeLevel&&r&&e.push(n.target)}))})),n=e;x=r.max(s.map((function(e){return e.x}))),t=(o[0]-i)/x,s.forEach((function(e){e.x*=t}))}(),function(e){var t=r.nest().key((function(e){return e.x})).sortKeys(r.ascending).entries(s).map((function(e){return e.values}));(function(){for(var e=r.min(t,(function(e){return(o[1]-(e.length-1)*a)/r.sum(e,d)}));e<0&&a>0;)a--,e=r.min(t,(function(e){return(o[1]-(e.length-1)*a)/r.sum(e,d)}));t.forEach((function(t){t.forEach((function(t,n){t.y=n,t.dy=t.value*e}))})),l.forEach((function(t){t.dy=t.value*e}))})(),h();for(var n=1;e>0;--e)c(n*=.99),h(),i(n),h();function i(e){function n(e){return p(e.source)*e.value}t.forEach((function(t,i){t.forEach((function(t){if(t.targetLinks.length){var i=r.sum(t.targetLinks,n)/r.sum(t.targetLinks,d);t.y+=(i-p(t))*e}}))}))}function c(e){function n(e){return p(e.target)*e.value}t.slice().reverse().forEach((function(t){t.forEach((function(t){if(t.sourceLinks.length){var i=r.sum(t.sourceLinks,n)/r.sum(t.sourceLinks,d);t.y+=(i-p(t))*e}}))}))}function h(){t.forEach((function(e){var t,n,r,i=0,s=e.length;for(u&&e.sort(f),r=0;r<s;++r)(n=i-(t=e[r]).y)>0&&(t.y+=n),i=t.y+t.dy+a;if((n=i-a-o[1])>0)for(i=t.y-=n,r=s-2;r>=0;--r)(n=(t=e[r]).y+t.dy+a-i)>0&&(t.y-=n),i=t.y}))}function f(e,t){if(e.parentID==t.parentID)return t.y-e.y}}(n),function(){function e(e,t){return e.source.y-t.source.y}function n(e,t){return e.target.y-t.target.y}function r(e,t){return t.source.y-e.source.y}function i(e,t){return t.target.y-e.target.y}t&&s.forEach((function(t){"asc"==c?(t.sourceLinks.sort(e),t.targetLinks.sort(n)):"desc"==c&&(t.sourceLinks.sort(r),t.targetLinks.sort(i))}))}(),h(),e},e.relayout=function(){return h(),e},e.link=function(){var e=.5;function t(t){var n=t.source.x+t.source.dx,i=t.target.x,a=r.interpolateNumber(n,i),o=a(e),s=a(1-e),l=t.source.y+t.sy+t.dy/2,u=t.target.y+t.ty+t.dy/2;return"M"+n+","+l+"C"+o+","+l+" "+s+","+u+" "+i+","+u}return t.curvature=function(n){return arguments.length?(e=+n,t):e},t},e},String.prototype.applyEllipsis=function(e){return this.length>=3?e?this.replace(this.substring(this.length-3,this.length),"..."):this+"...":"..."},this.generatePathSankey=function(){g=f.link()},this.applyLinkStroke=function(){this.style("stroke",(function(e){if(null!=e.hideableLink)return"transparent";if(ae.indexOf(e.source.name.toLowerCase())>=0||ae.indexOf(e.target.name.toLowerCase())>=0)return e.customColor="transparent",e.customColor;if(1e-6==e.value&&"false"==d.properties.showZeroValueNodesLinks_SankeyGraph.value)return e.customColor="transparent",e.customColor;if(null!=e.customColor)return e.customColor;if(null==d.properties.Link_Level_Color_SankeyGraph||""==d.properties.Link_Level_Color_SankeyGraph.value||"/"==d.properties.Link_Level_Color_SankeyGraph.value)return d.properties.Link_Color_SankeyGraph.value;var t=d.properties.Link_Level_Color_SankeyGraph.value;if(null!=t&&""!=t)for(var n=t.split(","),r=0;r<n.length;r++)if(e.source.nodeLevel-1==r)return n[r]})),this.style("stroke-opacity",(function(e){if(null!=e.colorOpacity)return e.colorOpacity;if(null!=d.properties.Link_Level_Opacity_SankeyGraph&&""!=d.properties.Link_Level_Opacity_SankeyGraph.value&&"/"!=d.properties.Link_Level_Opacity_SankeyGraph.value){var t=d.properties.Link_Level_Opacity_SankeyGraph.value;if(null!=t&&""!=t)for(var n=t.split(","),r=0;r<n.length;r++)if(e.source.nodeLevel-1==r)return n[r]}return d.properties.OpacityMin_SankeyGraph.value}))},this.applyCustomLinkStyle=function(){m=d.svg.append("g").attr("transform",(function(e){return"translate("+firstNodeXPosition+",0)"})).selectAll(".link").data(d.data.links).enter().append("path").attr("class","link").attr("d",g).call(d.applyLinkStroke).style("stroke-width",(function(e){return Math.max(1,e.dy)}))},this.applyLinkColorsSource=function(e,t){if(null!=e.sourceLinks&&null!=e.sourceLinks)for(var n=0;n<e.sourceLinks.length&&(e.sourceLinks[n].customColor=t,null!=e.sourceLinks[n].target&&null!=e.sourceLinks[n].target&&null!=e.sourceLinks[n].target.sourceLinks&&null!=e.sourceLinks[n].target.sourceLinks);n++)d.properties.applyColorOnAllLevelsLinks.value==ChartExpo.UIFabricHelper.Booleans.True&&d.applyLinkColorsSource(e.sourceLinks[n].target,t)},this.applyLinkColorsSource=function(e,t,n,r,i){var a=i.name;if(n?te[a]=n:d.generateNodeOpacityOverride(),null!=e.sourceLinks&&null!=e.sourceLinks){0==r&&(t=d.getLinkLevelColor(e,e.nodeLevel-1,t));for(var o=0;o<e.sourceLinks.length;o++){var s=e.sourceLinks[o].path.split(",").map((function(e){return e.toLowerCase()}));if(s.indexOf(i.name.toLowerCase())>-1&&(e.sourceLinks[o].colorOpacity=te[a],e.sourceLinks[o].customColor=ee[a]),null==e.sourceLinks[o].target||null==e.sourceLinks[o].target||null==e.sourceLinks[o].target.sourceLinks||null==e.sourceLinks[o].target.sourceLinks)break;d.properties.applyColorOnAllLevelsLinks.value==ChartExpo.UIFabricHelper.Booleans.True&&d.applyLinkColorsSource(e.sourceLinks[o].target,t,n,r,i)}}},this.applyLinkColorsTarget=function(e,t){if(null!=e.targetLinks&&null!=e.targetLinks)for(var n=0;n<e.targetLinks.length&&(e.targetLinks[n].customColor=t,null!=e.targetLinks[n].source&&null!=e.targetLinks[n].source&&null!=e.targetLinks[n].source.targetLinks&&null!=e.targetLinks[n].source.targetLinks);n++)d.properties.applyColorOnAllLevelsLinks.value==ChartExpo.UIFabricHelper.Booleans.True&&d.applyLinkColorsTarget(e.targetLinks[n].source,t)},this.applyLinkColorsTarget=function(e,t,n,r,i){},this.getLinkLevelColor=function(e,t,n){var r=!1;if(null!=d.properties.Link_Hover_Level_Color_SankeyGraph&&""!=d.properties.Link_Hover_Level_Color_SankeyGraph.value&&"/"!=d.properties.Link_Hover_Level_Color_SankeyGraph.value){var i=d.properties.Link_Hover_Level_Color_SankeyGraph.value;if(null!=i&&""!=i)for(var a=i.split(","),o=0;o<a.length;o++)t==o&&(n=a[o],r=!0)}return 0==r&&null!=d.properties.Link_Hover_Color_SankeyGraph&&""!=d.properties.Link_Hover_Color_SankeyGraph.value&&"/"!=d.properties.Link_Hover_Color_SankeyGraph.value?(n=d.properties.Link_Hover_Color_SankeyGraph.value,r=!0):0==r&&(n=e.customColor),n},this.applyHideLinkStyle=function(){m=d.svg.append("g").selectAll(".link").data(d.data.links).enter().append("path").attr("class","linkHide").attr("d",g).style("stroke",(function(e){return"red"}))},this.generateDummyGroup=function(){d.svg.append("g").attr("class","dump").selectAll(".yyy").data(d.data.nodes).enter().append("rect").call(d.applyBoxFill),d.svg.selectAll(".dump").remove()};var ve={};this.applyCustomNodeStyle=function(){var t=d.__svg.selectAll("defs").append("filter").attr("id","shadow").attr("color-interpolation-filters","sRGB").attr("filterUnits","userSpaceOnUse"),n=t.append("feComponentTransfer").attr("in","SourceAlpha");n.append("feFuncR").attr("type","table").attr("tableValues","0.75 0.75 0.75 0.75"),n.append("feFuncG").attr("type","table").attr("tableValues","0.75 0.75 0.75 0.75"),n.append("feFuncB").attr("type","table").attr("tableValues","0.75 0.75 0.75 0.75"),t.append("feGaussianBlur").attr("result","result91").attr("stdDeviation","1.9"),t.append("feOffset").attr("result","offOut").attr("in","result91").attr("dx","2").attr("dy","2"),t.append("feComposite").attr("in","SourceGraphic").attr("in2","offOut").attr("operator","over"),(b=d.svg.append("g").selectAll(".node").data(d.data.nodes).enter().append("g").attr("class",(function(){return"true"==d.properties.isMoveable_SankeyGraph.value?"nodeMoveAble":"node"})).attr("transform",(function(e){return"translate("+(e.x+firstNodeXPosition)+","+e.y+")"})).on("mouseover",(function(e,t,n,r,i){"true"==d.properties.isMoveable_SankeyGraph.value?d.svg.selectAll(".nodeMoveAble rect").style("cursor","pointer"):d.svg.selectAll(".node rect").style("cursor",(function(e){return e.drill?drillIconPath:"default"})).on("dblclick",(function(e,t,n){d.processDrillOperation(e,o,d,null!=e.parent?e.parent:"",!0)}));var a={};null==ee[e.name]?a[e.name]=d.properties.Link_Color_SankeyGraph.value:a[e.name]=ee[e.name],d.applyNodeOverrideColorOnAllLinksOnMouseOver(a)})).on("mouseout",(function(e){var t={};null==ee[e.name]?t[e.name]=d.properties.Link_Color_SankeyGraph.value:t[e.name]=ee[e.name],d.applyNodeOverrideColorOnAllLinksOnMouseOut(t),d.applyNodeOverrideColorOnAllLinks()})).on("click",(function(e){d.nodeInfoCallback(e,r.select(this)),d.dataPointClick(r.select(this).select("rect")[0][0],e,o)})).on("dblclick",(function(e){d.nodeDoubleClick(e)}))).call(r.behavior.drag().origin((function(e){return e})).on("dragstart",(function(){})).on("drag",(function(e){if("false"!=d.properties.enable_manual_sorting.value&&"true"==d.properties.isMoveable_SankeyGraph.value){var t=O-15-re-K-15-+d.properties.headerChartGap_Header_SankeyGraph.value,n=e.y=Math.max(0,Math.min(O-e.dy,r.event.y)-10)+3;n>=t-5&&(n=t-e.dy,e.y=n,console.log("drag y:",e.y));let a=r.select(this);var i=r.transform(a.attr("transform")).translate[0];r.select(this).attr("transform","translate("+i+","+n+")"),f.relayout(),m.attr("d",g)}})).on("dragend",(function(t){d.dataPointClick(r.select(this).select("rect")[0][0],t,o);var n=O-15-re-K-15-+d.properties.headerChartGap_Header_SankeyGraph.value;t.y>=n-5&&(t.y=n-t.dy);for(var i=0;i<d.data.links.length;i++)1==t.nodeLevel?t.name.toLowerCase()==d.data.links[i].source.name.toLowerCase()&&(ve[t.name]={},ve[t.name].nodeLevel=t.nodeLevel,ve[t.name].y=t.y/n*100):t.name.toLowerCase()==d.data.links[i].target.name.toLowerCase()&&(ve[t.name]={},ve[t.name].x=t.x,ve[t.name].nodeLevel=t.nodeLevel,ve[t.name].y=t.y/n*100);d.properties.nodesCustomLocation._value=JSON.stringify(ve),e.syncChartState(),e.onDragNode(ve),d.addSortIconLevelWise()}))),d.findOverriddenLevelDirection(),b.append("rect").attr("height",(function(e){if(Math.ceil(e.dy)<0)return 1;var t=Math.ceil(e.dy);return t<2&&(t=2),t})).attr("width",f.nodeWidth()).attr("rx",(function(e){return null!=d.properties.boxBorderRadius_Sankey&&d.properties.boxBorderRadius_Sankey.value>0?e.dy>20?d.properties.boxBorderRadius_Sankey.value:e.dy>10?3:.5:d.properties.boxBorderRadius_Sankey.value})).call(d.applyBoxFill).style("stroke",(function(e){if("false"==d.properties.showNodeOutline_Sankey.value)return"none";var t="",n=d.properties.Box_Border_Color_Override_Sankey.value;if(null!=n&&""!=n){for(var i=n.split(","),a=0;a<i.length;a++){var o=i[a].split(":");if(o[0],o[1],e.name.toLowerCase()==o[0].toLowerCase()){t=o[1];break}}return""!=t?t:d.properties.Box_Border_Color_SankeyGraph.value}if(null==d.properties.Box_Level_Border_Color_SankeyGraph||""==d.properties.Box_Level_Border_Color_SankeyGraph.value||"/"==d.properties.Box_Level_Border_Color_SankeyGraph.value)return null!=d.properties.Box_Border_Color_SankeyGraph&&""!=d.properties.Box_Border_Color_SankeyGraph.value&&"/"!=d.properties.Box_Border_Color_SankeyGraph.value?d.properties.Box_Border_Color_SankeyGraph.value:r.hsl(e.color.toLowerCase()).darker(1);var s=d.properties.Box_Level_Border_Color_SankeyGraph.value;if(null!=s&&""!=s&&"/"!=s){var l=s.split(",");for(a=0;a<l.length;a++)if(e.nodeLevel-1==a)return l[a]}})).style("stroke-width",(function(){return"false"==d.properties.showNodeOutline_Sankey.value?"0px":d.properties.Box_Border_Width_SankeyGraph.value})).style("fill-opacity",(function(e){if(null!=d.properties.Box_Level_Opacity_SankeyGraph&&""!=d.properties.Box_Level_Opacity_SankeyGraph.value&&"/"!=d.properties.Box_Level_Opacity_SankeyGraph.value){var t=d.properties.Box_Level_Opacity_SankeyGraph.value;if(null!=t&&""!=t)for(var n=t.split(","),r=0;r<t.length;r++)if(e.nodeLevel-1==r)return n[r]}return d.properties.Box_Opacity_SankeyGraph.value})).style("stroke-opacity",(function(e){if("false"==d.properties.showNodeOutline_Sankey.value)return"0";var t=d.properties.Box_Level_Border_Opacity_SankeyGraph.value;if(null!=t&&""!=t&&"/"!=t)for(var n=t.split(","),r=0;r<t.length;r++)if(e.nodeLevel-1==r)return n[r];return d.properties.Box_Border_Opacity_SankeyGraph.value})),b.append("text").attr("y",(function(e){return e.dy/2})).attr("dy",".32em").attr("text-anchor",(function(e){return"Left"==d.getOrientationLevelWise(e.nodeLevel)?"end":"start"})).attr("transform",null).style("font-family",(function(e){var t;return null!=(t=He(d.properties.Combine_Node_Level_ViseFontValue_SankeyGraph.value,"font-family",e))?t:d.properties.fontFamily_Node_Text_SankeyGraph.value})).style("font-size",(function(e){var t;return null!=(t=He(d.properties.Combine_Node_Level_ViseFontValue_SankeyGraph.value,"font-size",e))?t:d.properties.fontSize_Node_Text_SankeyGraph.value})).style("font-style",(function(e){var t;return null!=(t=He(d.properties.Combine_Node_Level_ViseFontValue_SankeyGraph.value,"font-style",e))?t:d.properties.ChartExpo_UIFabricHelper_fontStyle_Node_Text_SankeyGraph.value})).style("font-weight",(function(e){var t;return null!=(t=He(d.properties.Combine_Node_Level_ViseFontValue_SankeyGraph.value,"font-weight",e))?t:d.properties.fontWeight_Node_Text_SankeyGraph.value})).style("fill",(function(e){var t;return null!=(t=He(d.properties.Combine_Node_Level_ViseFontValue_SankeyGraph.value,"fill",e))?t:d.properties.color_Node_Text_SankeyGraph.value})).text((function(e){var t=t=e.name,n=d.properties.memberOverride_Sankey.value;if(null!=n&&""!=n&&"/"!=n)for(var r=n.split(","),i=0;i<r.length;i++){var a=r[i].split(":");if(e.name.toLowerCase()==a[0].toLowerCase()){t=a[1];break}}if(d.properties.showLabelsFrequency){for(i=0;i<d.properties.configSubCategory.configNode.length;i++)if(e.name==d.properties.configSubCategory.configNode[i].name)return(t=t.substr(0,20)+"...")+" ("+d.properties.configSubCategory.configNode[i].minVal+"-"+d.properties.configSubCategory.configNode[i].maxVal+") ";return t}return-1==E?t:d.properties.ascendingSankey?e.dy==E&&e.name==k?t+" ":t:e.dy==E&&e.name==k?t+" ":t})).attr("nodeLevel",(function(e){return e.nodeLevel})).attr("class",Z).attr("x",(function(e){return e.nodeLevel>A&&(A=e.nodeLevel),"Left"==d.getOrientationLevelWise(e.nodeLevel)?e.dx-f.nodeWidth()-5:e.dx+5}));var i=d.svg.selectAll("."+Z).text((function(e){var t=e.name;if(null!=d.properties.memberOverride_Sankey.value&&""!=d.properties.memberOverride_Sankey.value&&"/"!=d.properties.memberOverride_Sankey.value){var n=d.properties.memberOverride_Sankey.value;if(null!=n&&""!=n)for(var r=n.split(","),i=0;i<r.length;i++){var a=r[i].split(":");if(e.name==a[0]){t=a[1];break}}}return e.updatedText=t,""})),a={};i.each((function(e,t){for(var n=0,i=0,o=0;o<e.sourceLinks.length;o++){if(e.sourceLinks[o].hasOwnProperty("hideableLink")&&"true"==e.sourceLinks[o].hideableLink){n=+e.value;break}n+=+e.sourceLinks[o].value}0==e.sourceLinks.length&&(n=+e.value),""!=d.properties.Stats_precisionSecondLevelPercentage.value&&"/"!=d.properties.Stats_precisionSecondLevelPercentage.value&&(i=d.properties.Stats_precisionSecondLevelPercentage.value);var s=r.format("."+i+"%"),l=d.getPercentNodeValue(n,e);null==a[e.nodeLevel]?(a[e.nodeLevel]=0,a[e.nodeLevel]=+d.getNumericPartOnly(s(l))):a[e.nodeLevel]=+a[e.nodeLevel]+ +d.getNumericPartOnly(s(l))}));var s=0;""!=d.properties.Stats_precisionSecondLevelNumber.value&&"/"!=d.properties.Stats_precisionSecondLevelNumber.value&&(s=+d.properties.Stats_precisionSecondLevelNumber.value),i.each((function(e,t){var n=0,i="",o=+e.value.toFixed(5),l="",u="",c=0,h="",p="",f=!1,g=!1,v="",y="";""!=d.properties.Stats_Prefix.value&&"/"!=d.properties.Stats_Prefix.value&&(l=d.properties.Stats_Prefix.value),""!=d.properties.Stats_Postfix.value&&"/"!=d.properties.Stats_Postfix.value&&(u=d.properties.Stats_Postfix.value),"false"==d.properties.showSymbols_SankeyGraph.value&&(l="",u="");for(var m=0;m<e.sourceLinks.length;m++){if(e.sourceLinks[m].hasOwnProperty("hideableLink")&&"true"==e.sourceLinks[m].hideableLink){n=+e.value;break}n+=+e.sourceLinks[m].value}if(0==e.sourceLinks.length&&(n=+e.value),d.getShowLevelWisePercentageState(e.nodeLevel)){""!=d.properties.Stats_precisionSecondLevelPercentage.value&&"/"!=d.properties.Stats_precisionSecondLevelPercentage.value&&(c=d.properties.Stats_precisionSecondLevelPercentage.value,(a[e.nodeLevel]<100||a[e.nodeLevel]>100)&&0!=a[e.nodeLevel]&&3!=c&&0==d.properties.forcePercentagePrecision_SankeyGraph.value&&(c=2)),h=r.format("."+c+"%")(h=d.getPercentNodeValue(n,e));var b=d.properties.percentageSeparator_SankeyGraph.value;h=h.replace(".",b)}else h="";if(d.getShowLevelWiseStatsState(e.nodeLevel))if("false"==d.properties.isNumberFormat_SankeyGraph.value){var x=d.properties.numberSeparator_SankeyGraph.value;"true"==d.properties.showNumberBracket_SankeyGraph.value?(y=")",p=(v="(")+l+d.applySeparatorBasedNumberFormat(+o.toFixed(s),x)+u+y):p=v+l+d.applySeparatorBasedNumberFormat(+o.toFixed(s),x)+u+y}else"Number Format"==d.properties.enableFormatType_SankeyGraph.value?(f=!1,g=!1):"Currency Format"==d.properties.enableFormatType_SankeyGraph.value&&(f=!1,f=!0),"true"==d.properties.showNumberBracket_SankeyGraph.value?(y=")",p=(v="(")+l+d.applyPrecisionOnNumber(o,s,d.applyNumberFormat,f,g)+u+y):p=v+l+d.applyPrecisionOnNumber(o,s,d.applyNumberFormat,f,g)+u+y;else p="";let S,k=function(e,t,n){let i,a=0;""!=d.properties.Stats_precisionSecondLevelPercentage.value&&"/"!=d.properties.Stats_precisionSecondLevelPercentage.value&&(a=d.properties.Stats_precisionSecondLevelPercentage.value,(e[n.nodeLevel]<100||e[n.nodeLevel]>100)&&0!=e[n.nodeLevel]&&3!=a&&0==d.properties.forcePercentagePrecision_SankeyGraph.value&&(a=2)),formatter=r.format("."+a+"%"),i=d.getPercentNodeValue(t,n),i=formatter(i);var o=d.properties.percentageSeparator_SankeyGraph.value;return i=i.replace(".",o),i}(a,n,e),w=me(l,u,o,s);"leftToRight"==We(oe[e.updatedText])?(i=h+" "+p,S=k+" "+w):(i=p+" "+h,S=w+" "+k);var L=" "+i;e.stats=L,e.tooltipStats=" "+S,0!=+e.value&&0!=+e.value&&0!=e.value.toString().indexOf("0.0000")||(L="");var C,_=oe[e.updatedText].trim();d.getShowLevelWiseNodeLevel(e.nodeLevel)||(_=""),C=""==_?"_"+e.nodeLevel:e.name+"_"+e.nodeLevel,d.properties.nodeTextOverride_Sankey.value.hasOwnProperty(C)&&""!=d.properties.nodeTextOverride_Sankey.value[C]&&null!=d.properties.nodeTextOverride_Sankey.value[C]&&(_=d.properties.nodeTextOverride_Sankey.value[C]),"leftToRight"==We(oe[e.updatedText])?(r.select(this).text(_+L),e.ToolTipLabel=_):(r.select(this).text(L+" "+_),e.ToolTipLabel=_)})),d.svg.selectAll("."+Z),"true"==d.properties.isMoveable_SankeyGraph.value?d.svg.selectAll("rect").attr("class","orgRects"):d.svg.selectAll("rect").attr("class","orgRectsNode")},this.getNumericPartOnly=function(e){return e.split("%")[0]},this.resetNodesPositionAsPerUserSetCustomPosition=function(){for(var e=O-15-re-K-15-+d.properties.headerChartGap_Header_SankeyGraph.value,t=0;t<d.data.links.length;t++)null!=ve[d.data.links[t].target.name]&&(d.data.links[t].target.y=ve[d.data.links[t].target.name].y/100*e),null!=ve[d.data.links[t].source.name]&&(d.data.links[t].source.y=ve[d.data.links[t].source.name].y/100*e)},this.findAllSankeyLevels=function(){ye=[];for(var e=0;e<d.data.links.length;e++)(0===ye.length||-1===ye.indexOf(d.data.links[e].source.nodeLevel))&&ye.push(d.data.links[e].source.nodeLevel)};var ye=[];function me(e,t,n,r){let i,a,o,s=!1;if("false"==d.properties.isNumberFormat_SankeyGraph.value){var l=d.properties.numberSeparator_SankeyGraph.value;a="(",o=")",i=a+e+d.applySeparatorBasedNumberFormat(+n.toFixed(r),l)+t+o}else"Number Format"==d.properties.enableFormatType_SankeyGraph.value?(enableCurrencyFormat=!1,s=!1):"Currency Format"==d.properties.enableFormatType_SankeyGraph.value&&(enableCurrencyFormat=!1,enableCurrencyFormat=!0),a="(",o=")",i=a+e+d.applyPrecisionOnNumber(n,r,d.applyNumberFormat,enableCurrencyFormat,s)+t+o;return i}function be(e,t){var n=e.replace(/[yzafpnmkMGTPEZY]/g,""),r=e.replace(/\d*\.?\d*/g,""),i=["k","M","G","T","P","E","Z","Y"].indexOf(r);if(t&&i>-1){let e=xe(r=["k","M","bn","t","q","Q","s","S"][i],!0);""!=e&&(r=e)}else{let e=xe(r,!1);""!=e&&(r=e)}return+(+n).toFixed(2)+r}function xe(e,t){let n,r="";n=1==t?d.properties.currencyFormatOverride_SankeyGraph.value.split(","):d.properties.numberFormatOverride_SankeyGraph.value.split(",");for(let t=0;t<n.length;t++){let i=n[t].split(":");if(i[0].trim()==e){r=i[1].trim();break}}return r}function Se(e){for(var t="0.",n=(e=+e).toString().replace("0.",""),r=0;r<n.length;r++){if(r>=3)return 0;if(+n[r]>0)return t+=n[r],r+1<n.length&&0!=+n[r+1]&&(t+=n[r+1]),t;t+=n[r]}return 0}this.applyCustomSorting=function(){function e(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function t(e,t){return e.value>t.value?-1:e.value<t.value?1:0}function n(e,t){return e.sourceLinks.length<t.sourceLinks.length?-1:e.sourceLinks.length>t.sourceLinks.length?1:0}function r(e,t){return e.sourceLinks.length>t.sourceLinks.length?-1:e.sourceLinks.length<t.sourceLinks.length?1:0}function i(e,t){if(e=e.name.toLowerCase(),t=t.name.toLowerCase(),e.split(".").length>1&&t.split(".").length>1){var n=e.split(".")[0],r=t.split(".")[0];isNaN(n)||isNaN(r)||(e=parseInt(n),t=parseInt(r))}return e<t?-1:e>t?1:0}function a(e,t){if(e=e.name.toLowerCase(),t=t.name.toLowerCase(),e.split(".").length>1&&t.split(".").length>1){var n=e.split(".")[0],r=t.split(".")[0];isNaN(n)||isNaN(r)||(e=parseInt(n),t=parseInt(r))}return e>t?-1:e<t?1:0}if(ye.push(+ye[ye.length-1]+1),"default"!==d.properties.sortByChart_Sankey.value||"default"!==d.properties.sortByLevel_Sankey.value){var o={};if("default"!=d.properties.sortByChart_Sankey.value)for(var s=d.properties.sortByChart_Sankey.value.split(","),l=0;l<ye.length;l++)o[l+1]={sortby:s[0],order:s[1]};if("default"!=d.properties.sortByLevel_Sankey.value)for(var u=d.properties.sortByLevel_Sankey.value.split(";"),c=0;c<u.length;c++){var h=u[c].split(":")[0];s=u[c].split(":")[1].split(","),o[h]={sortby:s[0],order:s[1]}}for(l=0;l<ye.length;l++){for(var p=[],g=0,v=0;v<d.data.nodes.length;v++)0==l||ye.length,d.data.nodes[v].nodeLevel==l+1&&(p.length>0?-1==p.map((function(e){return e.name})).indexOf(d.data.nodes[v].name)&&p.push(d.data.nodes[v]):p.push(d.data.nodes[v]),(1==p.length||g>=d.data.nodes[v].y)&&(g=d.data.nodes[v].y));if(null!=o[l+1]){if("measure"==o[l+1].sortby)"asc"==o[l+1].order?p.sort(e):p.sort(t);else if("name"==o[l+1].sortby)"asc"==o[l+1].order?p.sort(i):p.sort(a);else if("linkscount"==o[l+1].sortby){if(!(0==l||l<ye.length-1))continue;"asc"==o[l+1].order?p.sort(n):p.sort(r)}for(var y=f.nodePadding(),m=0;m<p.length;m++)p[m].y=g,g=g+p[m].dy+y;for(v=0;v<d.data.links.length;v++)l<ye.length-1?d.data.links[v].source.nodeLevel==l+1&&(d.data.links[v].source.y=b(p,d.data.links[v].source.name)):d.data.links[v].target.nodeLevel==l+1&&(d.data.links[v].target.y=b(p,d.data.links[v].target.name))}}}function b(e,t){for(var n=0;n<e.length;n++)if(e[n].name==t)return e[n].y}},this.applyNumberFormat=function(e,t){return(e=+e)>0&&e<1&&0==+e.toFixed(2)?Se(e):(e%1!=0&&(e=+e.toFixed(2)),n=r.format(".8s"),e<0?(e*=-1)<1e3?-1*e:"-"+be(n(e),t):e<1e3?e:(n(e),be(n(e),t)));var n},this.getFormattedValue=function(e){let t,n,r,i="",a="",o=0;if(""!=d.properties.Stats_precisionSecondLevelNumber.value&&"/"!=d.properties.Stats_precisionSecondLevelNumber.value&&(o=+d.properties.Stats_precisionSecondLevelNumber.value),""!=d.properties.Stats_Prefix.value&&"/"!=d.properties.Stats_Prefix.value&&(i=d.properties.Stats_Prefix.value),""!=d.properties.Stats_Postfix.value&&"/"!=d.properties.Stats_Postfix.value&&(a=d.properties.Stats_Postfix.value),"false"==d.properties.showSymbols_SankeyGraph.value&&(i="",a=""),"false"==d.properties.isNumberFormat_SankeyGraph.value){var s=d.properties.numberSeparator_SankeyGraph.value;n="",r="",t=n+i+d.applySeparatorBasedNumberFormat(+e.toFixed(o),s)+a+r}else"Number Format"==d.properties.enableFormatType_SankeyGraph.value?(enableCurrencyFormat=!1,showWholeNumber=!1):"Currency Format"==d.properties.enableFormatType_SankeyGraph.value&&(enableCurrencyFormat=!1,enableCurrencyFormat=!0),n="",r="",t=n+i+d.applyPrecisionOnNumber(e,o,d.applyNumberFormat,enableCurrencyFormat,showWholeNumber)+a+r;return t},this.wrapText=function(e,t,n,i){var a=-1;null!=t[0]&&(a=t[0].indexOf("..."));var o=n.dy,s=1,l=J/7;t.forEach((function(t){var n;r.select(e).each((function(e){var t=this.getBoundingClientRect();n=t.height})),1==s?(r.select(e).append("tspan").text((function(e){return t})).attr("font-weight","normal !important").attr("class","tspanClassT").attr("x",6+f.nodeWidth()).attr("dy","5px"),s+=1):o>n+10&&r.select(e).append("tspan").text((function(e){return s+=1,t})).attr("font-weight","normal !important").attr("class","tspanClassT").attr("x",6+f.nodeWidth()).attr("dy","10px")}));var u=!1,c=!1,h=r.select(e).append("tspan").text((function(n){for(var i=0,h="("+d.properties.Stats_Prefix.value,p=!1,f=0;f<n.targetLinks.length;f++)i+=+n.targetLinks[f].value,n.targetLinks[f].source.value,p=!0;if(1==p&&(h+=d.applyNumberFormat(i)+d.properties.Stats_Postfix.value+")"),n.nodeLevel<=A){var g=0;""!=d.properties.Stats_precisionSecondLevelPercentage.value&&"/"!=d.properties.Stats_precisionSecondLevelPercentage.value&&(g=d.properties.Stats_precisionSecondLevelPercentage.value);var v=r.format("."+g+"%"),y=i/ne;d.getShowLevelWisePercentageState(n.nodeLevel)&&(h=v(y)+" "+h)}1==n.nodeLevel&&(h="("+d.properties.Stats_Prefix.value+d.applyNumberFormat(n.value)+d.properties.Stats_Postfix.value+")");var m,b=" "+h;return n.nodeLevel==A&&n.name.length>z.length&&(z=n.name),c=!1,(0==t.length||(t.join(" ")+b).length>l)&&(r.select(e).each((function(e){var t=this.getBoundingClientRect();m=t.height})),o>m+10?u=!0:0==t.length?b=h:-1!=t.indexOf("...")||(b="..."+b,c=!0)),0==c&&t.length+1>s&&(b="..."+b),-1!=a&&(b=" "+b.trim().replace("...","").trim()),b})).attr("font-weight","normal !important").attr("class","tspanClass");1==u&&h.attr("x",6+f.nodeWidth()).attr("dy",(function(){return 0==c?"10px":"5px"})),0==t.length?r.select(e).attr("y",n.dy/2-5*(s-2)-7):r.select(e).attr("y",n.dy/2-5*(s-2))},this.splitString=function(e,t){var n=new RegExp("(.{1,"+t+"})","g");return e.match(n)},this.applyWordWrap=function(e){var t=new Array,n=0,r="",i="",a=J/7;return e.forEach((function(e){i=r,0==r.length?r=e:r+=" "+e,r.length>a&&i.length<a&&i.length>0&&(t[n]=i,r=e,n++)})),parseInt(r.length)<=parseInt(a)&&(t[n]=r),t};var ke={};this.findOverriddenLevelDirection=function(){ke={};var e=d.properties.overrideLinkLevelDirection_Sankey.value;if(""!=e&&"/"!=e)for(var t=e.split(","),n=0;n<t.length;n++){var r=t[n].split(":");levelNo=r[0],direction=r[1],ke["Level"+levelNo]={direction}}},this.applyBoxFill=function(){this.style("fill",(function(e){if("true"==d.properties.ColorLinks_SankeyGraph.value){var t="",n=d.properties.colorOverride_Sankey.value;if(null!=n&&""!=n&&"/"!=n){for(var r=n.split(",").reverse(),i=0;i<r.length;i++){var a=r[i].split(":");if(2==a.length){let n=-1;n=parseInt(a[0].substring(a[0].lastIndexOf("_")+1));let r=a[0].replace(/,/g,"|").replace(/:/g,"|"),i=a[1];if(e.name.replace(/,/g,"|").replace(/:/g,"|").toLowerCase()==r.toLowerCase()&&e.nodeLevel==n+1){t=i;break}}else if(a.length>2&&(a[1],a[2],e.name.toLowerCase().replaceAll(",","|").replace(/_[0-9]+/g,"")==a[1].toLowerCase().replace(/_[0-9]+/g,"")&&e.nodeLevel==parseInt(a[0])+1)){t=a[2];break}}if(d.findOverriddenLevelDirection(),""!=t)return e.color=t}}if(!$&&""!=d.properties.Box_Level_Color_SankeyGraph.value&&null!=d.properties.Box_Level_Color_SankeyGraph&&"/"!=d.properties.Box_Level_Color_SankeyGraph.value&&"#fffffe"!=d.properties.Box_Level_Color_SankeyGraph.value){var o=d.properties.Box_Level_Color_SankeyGraph.value;if(null!=o&&""!=o){var s=o.split(",");for(i=0;i<s.length;i++)if(e.nodeLevel-1==i)return e.color=s[i]}}return e.color=d.properties.Box_Color_SankeyGraph.value}))},this.characterWrapZeroRotation=function(e,t,n,i,a,o){var s=this;null!=i&&null!=i&&""!=i||(i=""),e.each((function(e){var a,l,u=r.select(this),c=(u.text().split("").length,u.text().split("").reverse()),h=[],p=[],d=0,f=o||1.1,g=parseFloat(null==u.attr("x")||null==u.attr("x")||""==u.attr("x")?0:u.attr("x")),v=parseFloat(null==u.attr("y")||null==u.attr("y")||""==u.attr("y")?0:u.attr("y")),y=parseFloat(null==u.attr("dy")||null==u.attr("dy")||""==u.attr("dy")?0:u.attr("dy")),m=u.text(null).append("tspan").attr("x",g).attr("y",v).attr("dy",y+"em").text("M");for(l=0,l+=s.getTspanHeight(m),m.text(null);a=c.pop();)if(h.push(a),m.text(h.join("")),s.getTspanWidth(m)>t){if(l+=s.getTspanHeight(m),h.pop(),p=JSON.parse(JSON.stringify(h)),m.text(h.join("")),h=[a],!(0==n||l<=n)){var b=p.join("");b=b.substring(0,b.length-i.length),b=p.length>1?b.applyEllipsis(!0):b.applyEllipsis(!1),b+=i,m.text(null),m.text(b);break}""==u.text()?(++d,m.text(a)):m=u.append("tspan").attr("x",g).attr("y",v).attr("dy",++d*f+y+"em").text(a)}})),null!=a&&null!=a&&""!=a&&e.style("text-anchor",a)},this.generateSVG=function(){var e,t;e=d.properties.width_SankeyGraph.value,t=d.properties.height_SankeyGraph.value,d.properties.headerNamesPosition_SankeyGraph.value,d.dvParent=r.select(Ne(d._settings.renderTo+y)).style("border-width",d.properties.borderWidth_Border_Sankey.value),d.__svg=r.select(d.properties.renderTo.value).append("svg").attr("width",e).attr("height",t).attr("class",".mainSVG"),d.__svg.append("defs"),d.svg=d.__svg.append("g").attr("class","mainG").attr("transform","translate("+d.properties.paddingLeft.value+","+(+d.properties.paddingTop.value+K+15)+")")};var we=function(e){return""!=e&&null!=e&&null!=e||(e=" "),(e=d.getTitleCase(e)).trim()};function Le(e,t,n){for(var r=0;r<e.length;r++)if(e[r].name==t&&e[r].nodeLevel==n)return e[r].nodeId;return-1}function Ce(e,t,n){for(var r=0;r<e.length;r++)if(e[r].source==t&&e[r].target==n)return r;return-1}function _e(e,t,n,r,i,a){if(0!=n&&-1==Ce(e,n,t)){var o=Ce(e,t,n);-1!=o?e[o].value+=r:e.push({source:t,target:n,value:r,parentID:i,customColor:a})}}this.generateSankeyData=function(){Pe();var e=d.data;if(null!=e&&null!=e&&e.length>0)for(var t=0;t<e.length;t++)null!=e[t].subCategory&&e[t].subCategory.sort((function(e,t){return e.val-t.val}));S={configNode:[]},V=-1;var n={nodes:[],links:[]};ne=0;for(var r=0;r<e.length;r++)if(d.isExist(n.nodes,e[r].name,1)||(V++,e[r].id=V,e[r].name=we(e[r].name),n.nodes.push({name:we(e[r].name),nodeId:e[r].id,parentID:-1,nodeLevel:1,customInfo:Ge(e[r])})),null!=e[r].subCategory)for(var i=0;i<e[r].subCategory.length;i++){if(e[r].subCategory[i].name=we(e[r].subCategory[i].name),ne+=e[r].subCategory[i].val,d.isExist(n.nodes,e[r].subCategory[i].name,2)){var a=d.getID(e,e[r].subCategory[i].name);e[r].subCategory[i].id=0==a?V-1:a,n.links,e[r].subCategory[i].id,_e(n.links,e[r].id,a,e[r].subCategory[i].val,e[r].id,void 0)}else V++,e[r].subCategory[i].id=V,n.nodes.push({name:we(e[r].subCategory[i].name),nodeId:V,parentID:e[r].id,nodeLevel:2,customInfo:Ge(e[r].subCategory[i])}),S.configNode.push({ID:i,name:e[r].subCategory[i].name,minVal:-1,maxVal:-1}),_e(n.links,e[r].id,V,e[r].subCategory[i].val,e[r].id,void 0);if(null!=e[r].subCategory[i].subCategory){var o=e[r].subCategory[i].subCategory,s=0;o.forEach((function(t){if(o[s].name=we(o[s].name),d.isExist(n.nodes,o[s].name,3)){var a=d.getID(e,o[s].name);if(0==a){var l=Le(n.nodes,we(o[s].name),3);-1==l?(n.nodes.push({name:we(o[s].name),nodeId:V,parentID:e[r].subCategory[i].id,nodeLevel:3,customInfo:Ge(o[s])}),a=V):a=l,n.links,e[r].subCategory[i].id,_e(n.links,e[r].subCategory[i].id,a,o[s].val,e[r].subCategory[i].id,void 0)}if(0==a);else{for(var u=0;u<n.nodes.length;u++)if(n.nodes[u].name==o[s].name){a=n.nodes[u].nodeId;break}null!=o[s].subCategory&&(_e(n.links,e[r].subCategory[i].id,a,o[s].val,e[r].subCategory[i].id,void 0),d.getSubCategory(o[s].subCategory,n,d.properties.configSubCategory,a,e[r],4))}}else V++,o[s].id=V,d.horizontalHeirarchyLevel++,n.nodes.push({name:we(o[s].name),nodeId:V,parentID:e[r].subCategory[i].id,nodeLevel:3,customInfo:Ge(o[s])}),n.links,e[r].subCategory[i].id,_e(n.links,e[r].subCategory[i].id,V,o[s].val,e[r].subCategory[i].id,void 0),null!=o[s].subCategory&&d.getSubCategory(o[s].subCategory,n,d.properties.configSubCategory,o[s].id,e[r],4),null==o[s].subCategory||d.isExist(n.nodes,o[s].subCategory[0].name)||(V=V+o[s].subCategory.length+I,I=0);s++}))}}n.nodes.length>0&&(d.data=n)};var Pe=function(){d.data};function Ne(e){return"#"+e}this.isExist=function(e,t,n){for(var r=!1,i=0;i<e.length;i++)if(null!=n&&null!=n){if(e[i].name.toLowerCase()==t.toLowerCase()&&e[i].nodeLevel==n){r=!0;break}}else if(e[i].name.toLowerCase()==t.toLowerCase()){r=!0;break}return r},this.getIDFromNodes=function(e,t){for(var n=0,r=0;r<e.length;r++)if(e[r].name.toLowerCase()==t.toLowerCase()){n=e[r].nodeId;break}return n},this.getID=function(e,t){for(var n=0,r=0;r<e.length;r++){for(var i=0;i<e[r].subCategory.length;i++){if(e[r].subCategory[i].name.toLowerCase()==t.toLowerCase()){n=e[r].subCategory[i].id;break}if(null!=e[r].subCategory[i].subCategory)for(var a=0;a<e[r].subCategory[i].subCategory.length;a++)if(e[r].subCategory[i].subCategory[a].name.toLowerCase()==t.toLowerCase()){n=e[r].subCategory[i].subCategory[a].id;break}if(n>0)break}if(n>0)break}return n},this.getConfigNodeIndex=function(e,t){for(var n=0,r=0;r<e.configNode.length;r++)if(e.configNode[r].name.toLowerCase()==t.toLowerCase()){n=r;break}return n},this.getSubCategory=function(e,t,n,r,i,a){var o=0,s=e,l=e.length;if(null!=e)for(;l>0;){if(d.isExist(t.nodes,s[o].name)){var u=d.getIDFromNodes(t.nodes,s[o].name);_e(t.links,r,u,s[o].val,r,void 0),null!=s[o].subCategory&&(I++,d.getSubCategory(s[o].subCategory,t,n,u,i,a+1))}else V++,s.id=V,d.horizontalHeirarchyLevel++,t.nodes.push({name:we(s[o].name),nodeId:V,parentID:r,nodeLevel:a,customInfo:Ge(s[o])}),_e(t.links,r,V,s[o].val,r,void 0),null!=s[o].subCategory&&(I++,d.getSubCategory(s[o].subCategory,t,n,s.id,i,a+1)),s[o].subCategory;o++,l--}},this.adjustSvg=function(){for(var e=[],t=0;t<d.data.nodes.length;t++)e.push(d.data.nodes[t].name);d.svg.selectAll("textTests").data(e).enter().append("text").text((function(e){return e})),d.svg.selectAll("text").each((function(e,t){var n=this.getBBox().width/2;n>H&&(H=n)})),d.reset(),d.svg=null},this.reAdgustSvg=function(){},this.sortSpecificNode=function(){var e,t=d.properties.sortBy_Sankey.value;e="true"==d.properties.isMoveable_SankeyGraph.value?".nodeMoveAble":".node",null!=t&&""!=t&&"/"!=t&&d.svg.selectAll(e).each((function(e){if(e.name.toLowerCase()==t.toLowerCase()){var n,i,a,o=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;E=e.dy,k=e.name,n=o?this.childNodes[1].textContent:this.children[1].textContent,"true"==d.properties.ascendingSankey_SankeyGraph.value?(d.properties.ascendingSankey_SankeyGraph.value("false",!0),o?this.childNodes[1].textContent=n+" ":this.children[1].textContent=n+" "):(d.properties.ascendingSankey_SankeyGraph.value("true",!0),o?this.childNodes[1].textContent=n+" ":this.children[1].textContent=n+" "),i=0==e.x?e.dy:e.x,a="true"==d.properties.ascendingSankey_SankeyGraph.value,f=r.sankey().sortMode(a).sortx(i).nodeWidth(d.properties.NodeWidth_SankeyGraph.value).nodePadding(d.properties.NodePadding_SankeyGraph.value).size([M-10,O-12]).nodes(d.data.nodes).links(d.data.links).layout(32),Ve(),f.relayout(),d.reset(),d.generateSVG(),d.generateDummyGroup(),d.applyCustomLinkStyle(),d.applyCustomNodeStyle(),d.applyDefaults(d.getProperties()),d.applyAntiClutteringAlgo()}}))},this.initDefaults=function(){d.properties.isMoveable_SankeyGraph.expose=!1,d.properties.OpacityMax_SankeyGraph.expose=!1,d.properties.Link_Hover_Color_SankeyGraph.expose=!1,d.properties.Link_Hover_Level_Color_SankeyGraph.expose=!1,d.properties.showToolTip_SankeyGraph.expose=!1,d.properties.toolTipDelay.expose=!1,d.properties.Drilling_SankeyGraph.expose=!1,d.properties.customData.expose=!0,d.properties.metaName.expose=!0,20==t.type||48==t.type&&d.properties.colorOverride_Sankey.value("/",!0)},this.generateProperties=function(){var t={name:"margin",title:"Margin"};t.type=P,d.properties.marginTop=new this.createProperties("be953f5b-bf4f-40a4-8d55-f274cacfd81d","Top","top","txt","0","0","",t,D,"","true",this),d.properties.marginLeft=new this.createProperties("01c31bfb-ba48-4d27-84dc-6772a3fbfb46","Left","left","txt","0","0","",t,D,"","true",this),d.properties.marginBottom=new this.createProperties("4a153b11-2dd3-442d-ac00-c6babbbb0e99","Bottom","bottom","txt","0","0","",t,D,"","true",this),d.properties.marginRight=new this.createProperties("05b5c443-f096-42bf-ab83-2dbeb41d4575","Right","right","txt","0","0","",t,D,"","true",this);var n={name:"padding",title:"Padding"};n.type=N,d.properties.paddingTop=new this.createProperties("2edb6904-720a-4f04-a1f6-75232a3e0014","Top","top","txt","5","5","",n,D,"","false",this),d.properties.paddingLeft=new this.createProperties("e19332c2-668d-4288-a3f5-2d61cc69eb75","Left","left","txt","5","5","",n,D,"","false",this),d.properties.paddingBottom=new this.createProperties("70c87ae2-e42c-4cf2-98ce-024cb25e4b55","Bottom","bottom","txt","0","0","",n,D,"","false",this),d.properties.paddingRight=new this.createProperties("2c671637-f1d7-43c8-9128-18dafc710e52","Right","right","txt","0","0","",n,D,"","false",this);var r={name:"canvas",title:"Canvas"};r.type=L,d.properties.borderColor_Border_Sankey=new this.createProperties("0989420b-ae56-4db5-a775-318f6aa9acef","Border Color","border-color","color","transparent","transparent","",r,T,Ne(d._settings.renderTo+y),"false",this,null,!0),d.properties.borderWidth_Border_Sankey=new this.createProperties("d95688ab-809e-49c0-a020-32046f89a4d4","Border Width","border-width","txt","0px","0px","",r,D,Ne(d._settings.renderTo+y),"true",this,null,!0),d.properties.borderStyle_Border_Sankey=new this.createProperties("b87fb1f0-62b7-4dfe-94ef-b4f2f2bd219f","Border Style","border-style","ddl","solid","solid",U,r,T,Ne(d._settings.renderTo+y),"false",this,null,!0),d.properties.borderRadius_Border_Sankey=new this.createProperties("3a110e2a-e917-421b-85d4-8cc5dcc0e94a","Border Radius","border-radius","txt","0px","0px","",r,T,Ne(d._settings.renderTo+y),"false",this,null,!0),d.properties.backgroundColor_Border_Sankey=new this.createProperties("015bd174-0603-4c81-8d74-12435a83b388","Background Color","background-color","color","transparent","transparent","",r,T,Ne(d._settings.renderTo+y),"false",this,null,!0),d.properties.customData=new this.createProperties("e79b5632-d0a3-4082-8bda-b7b8009267c0","Custom Data","customData","txt","","","",r,D,"","false",this),d.properties.nodesCustomLocation=new this.createProperties("e72b5632-z0a3-1282-8bda-b783009267c0","Custom Location","customLocation","txt","","","",r,D,"","false",this),d.properties.metaName=new this.createProperties("e79b5632-d0a3-4082-8bda-b7b8009267b0","Meta Name","metaName","txt","","","",r,D,"","false",this);var i={name:"node",title:"Node"};i.type=w,d.properties.sortBy_Sankey=new this.createProperties("93fbcfb4-a242-4435-8220-b4c7001e7334","Sort By","sortBy","txt","","","",i,D,"","false",this,!0),d.properties.ascendingSankey_SankeyGraph=new this.createProperties("b3ea2eb9-892f-48cb-a6a0-3de7e291c971","Sort","sort","ddl","true","true",W,i,D,"","false",this),d.properties.memberOverride_Sankey=new this.createProperties("06b0c457-dcd7-4f09-984a-e5bc6b648411","Text Override","textOverride","txt","","","",i,D,"","false",this,!0),d.properties.colorOverride_Sankey=new this.createProperties("8e80304f-00f1-4959-8d12-36dcf9f243bb","Color Override","colorOverride","txt","Positive:#bcfabc,Negative:#fdb6ae","Positive:#bcfabc,Negative:#fdb6ae","",i,D,"","false",this,!0),d.properties.Box_Color_SankeyGraph=new this.createProperties("10c635c2-daa4-4631-aeff-49fd4e7c5587","Color","color","color","#bababa","#bababa","",i,D,"","false",this),d.properties.Box_Opacity_SankeyGraph=new this.createProperties("7cf6311e-173c-400c-8bee-8446200ff47f","Opacity","opacity","txt","1","1","",i,D,"","false",this,!0),d.properties.Box_Level_Color_SankeyGraph=new this.createProperties("6dd518e4-cce7-4504-a28a-faa73218bd54","Level Color","levelColor","txt","","","",i,D,"","false",this,!0),d.properties.Box_Level_Opacity_SankeyGraph=new this.createProperties("22680587-c6c7-43a3-9b88-926a76f36957","Level Opacity","levelOpacity","txt","","","",i,D,"","false",this,!0),d.properties.isMoveable_SankeyGraph=new this.createProperties("4f7c9532-9ae3-4993-841f-ba2a12df86b8","Moveable","moveable","ddl","true","true",W,i,D,"","false",this),d.properties.Drilling_SankeyGraph=new this.createProperties("e87b8614-ac2b-42a9-8353-9487bc6b55df","Drilling","drilling","ddl","false","false",W,i,D,"","false",this),d.properties.NodePadding_SankeyGraph=new this.createProperties("f8550eec-d957-448a-ac46-17a6b2a369d2","Padding","padding","txt","15","15","",i,D,"","false",this,!0),d.properties.shadowLimit_SankeyGraph=new this.createProperties("6ad05045-702a-4ccf-bd01-b6a2917997ef","Shadow Limit[0-100]","shadowLimit","txt","5","5","",i,D,"","false",this),d.properties.showZeroValueNodes_SankeyGraph=new this.createProperties("23bdbe5b-05a2-4ec2-zc32-11c9ffc2q5e2","Show Zero Value Nodes","showZeroValueNodes","ddl","false","false",W,i,D,".tspanClass","false",this),d.properties.sortByChart_Sankey=new this.createProperties("c662f791-b781-49f7-8b67-f8ee88eb2495","Sort Chart By","sortChartBy","txt","default","default","",i,D,"","false",this),d.properties.sortByLevel_Sankey=new this.createProperties("c8a9fd9f-94aa-41e7-96ae-62b6c61b0c87","Sort Level By","sortLevelBy","txt","default","default","",i,D,"","false",this),d.properties.exitNode_Sankey=new this.createProperties("1b802ffa-087c-44f8-a31d-315cbbbdc832","Exit Node","exitNode","ddl","false","false","",i,D,"","false",this),d.properties.showNodeOutline_Sankey=new this.createProperties("01555244-8644-4bbc-8111-839c57cc050f","Show Outline","showOutline","ddl","true","true","",i,D,"","false",this),d.properties.exitNodeInformation_Sankey=new this.createProperties("a44ead5d-c908-492f-9c72-538bc6d47875","Exit Node Information","exitNodeInformation","txt","","","",i,D,"","false",this),d.properties.nodeIncomingLinksSortOverride_Sankey=new this.createProperties("27959c97-44e7-439e-ba13-374e6692ae25","Incoming Links Sort Override","incomingLinksSortOverride","txt","","","",i,D,"","false",this,!0),d.properties.nodeOutgoingLinksSortOverride_Sankey=new this.createProperties("455810ed-4a1e-4155-89b1-492b2d473dea","Outgoing Links Sort Override","outgoingLinksSortOverride","txt","","","",i,D,"","false",this,!0),d.properties.nodeIncomingLinksSortOverrideInformation_Sankey=new this.createProperties("fc7d32a5-e2a4-4971-ac15-2e92138144d9","Incoming Links Sort Override Information","incomingLinksSortOverrideInformation","txt","","","",i,D,"","false",this,!0),d.properties.nodeOutgoingLinksSortOverrideInformation_Sankey=new this.createProperties("1d869383-01a1-4487-a070-51cb23e8807f","Outgoing Links Sort Override Information","outgoingLinksSortOverrideInformation","txt","","","",i,D,"","false",this,!0);var a={name:"nodeBorder",title:"Node Border"};a.type=w,d.properties.Box_Border_Color_SankeyGraph=new this.createProperties("ea9f12c2-53b9-4f5a-9292-8e5db1cffab3","Color","color","color","white","white","",a,D,"","false",this,!0),d.properties.Box_Border_Width_SankeyGraph=new this.createProperties("d3e95b58-5110-4220-b960-695729b83c3b","Width","width","txt","1.5px","1.5px","",a,D,"","false",this,!0),d.properties.Box_Border_Opacity_SankeyGraph=new this.createProperties("97c61ef0-b697-4b7d-8b65-9da4d3c8d9f3","Opacity","opacity","txt","1","1","",a,D,"","false",this,!0),d.properties.boxBorderRadius_Sankey=new this.createProperties("2bf88a09-5278-4820-8120-3ec0d61fb19e","Radius","radius","txt","0px","0px","",a,D,Ne(d._settings.renderTo+v),"false",this,null,!0),d.properties.Box_Level_Border_Color_SankeyGraph=new this.createProperties("4c4d4a31-a58e-4c84-aedb-1ae293e73c41","Level Color","levelColor","txt","","","",a,D,"","false",this,!0),d.properties.Box_Level_Border_Opacity_SankeyGraph=new this.createProperties("2588dca1-7167-47e0-8a5b-f5a367657bcc","Level Opacity","levelOpacity","txt","","","",a,D,"","false",this,!0),d.properties.Box_Border_Color_Override_Sankey=new this.createProperties("2b748e6c-3bc2-43e1-bcea-48ebb6f95d61","Color Override","colorOverride","txt","","","",a,D,"","false",this,!0);var o={name:"link",title:"Link"};o.type=w,d.properties.applyColorOnAllLevelsLinks=new this.createProperties("3a53fc07-5eaa-4b60-be5f-bbb2706eb30a","Apply All Levels","applyAllLevels","ddl","true","true",W,o,D,"","false",this),d.properties.overrideLinkLevelDirection_Sankey=new this.createProperties("63d52064-c23c-418b-a913-1665cf08e1da","Override Link Direction","overrideLinkDirection","txt","/","/","",o,D,"","false",this),d.properties.highlightDirection_Sankey=new this.createProperties("22850531-cafd-4356-96f0-9a9b678fac48","Highlight Direction","highlightDirection","ddl","all","all",q,o,D,"","false",this,!1),d.properties.highlightDirection_NewOptions_Sankey=new this.createProperties("addf3e47-0787-4026-bec0-0bdb4532aa2d","Direction","direction","ddl","All","All",["All","None","Node Links Left","Node Links Right","Node Links Left One Level","Node Links Right One Level"],o,D,"","false",this,!0),d.properties.highlightDepth_Sankey=new this.createProperties("604e5ad4-6d42-452a-b61a-c57414a63db3","Highlight Depth","highlightDepth","txt","","","",o,D,"","false",this,!0),d.properties.OpacityMin_SankeyGraph=new this.createProperties("3a93a186-bccd-40a6-b199-6ab25fa671c5","Opacity","opacity","txt","0.3","0.3","",o,D,"","false",this,!0),d.properties.OpacityMax_SankeyGraph=new this.createProperties("94edfa47-53db-462c-90c6-04fe2766d57d","Hover Opacity","hoverOpacity","txt","0.6","0.6","",o,D,"","false",this,!0),d.properties.Link_Color_SankeyGraph=new this.createProperties("af1ede52-0d4a-4f4b-9b64-d0794c208af5","Color","color","color","#B1CEEE","#B1CEEE","",o,D,"","false",this,!0),d.properties.Link_Level_Color_SankeyGraph=new this.createProperties("721c7a25-f7e1-48b5-ba9e-e53135af0859","Levels Color","levelsColor","txt","","","",o,D,"","false",this,!0),d.properties.Link_Level_Opacity_SankeyGraph=new this.createProperties("a6454897-34a6-4db0-ba3b-f8ce44ba9ad8","Levels Opacity","levelOpacity","txt","","","",o,D,"","false",this,!0),d.properties.Link_Hover_Color_SankeyGraph=new this.createProperties("da53d84b-0725-49f8-8163-bfcd010623cb","Hover Color","hoverColor","color","","","",o,D,"","false",this,!0),d.properties.Link_Hover_Level_Color_SankeyGraph=new this.createProperties("ed9d0972-4032-45bf-837f-e52d07edeabb","Hover Levels Color","hoverLevelsColor","txt","","","",o,D,"","false",this,!0),d.properties.hideInOutLinksOfNodes_SankeyGraph=new this.createProperties("d206a544-9f13-4f1f-ab24-eb436de41cde","Hide Links Nodes","hideLinksNodes","txt","/","/","",o,D,"","false",this,!0),d.properties.showZeroValueNodesLinks_SankeyGraph=new this.createProperties("23bdbe5b-05a2-4ec2-bc31-61c7ffc2b592","Show Zero Value Links","showZeroValueLinks","ddl","true","true",W,o,D,".tspanClass","false",this),d.properties.overrideLinkSort_SankeyGraph=new this.createProperties("59764342-b881-4311-b372-5a8efd1acdd0","Sort Override","sortOverride","txt","","","",o,D,"","false",this,!0),d.properties.sortOrderLink_SankeyGraph=new this.createProperties("09f429a1-03a5-4ad3-9254-3f6fda329cb0","Sort Order","sortOrder","ddl","NONE","NONE",Y,o,D,"","false",this,!0),d.properties.valueBaseColorLink_SankeyGraph=new this.createProperties("994c0abb-aaee-4624-94ef-608cd8224e20","Value Base Color","valueBaseColor","txt","","","",o,D,"","false",this,!0),d.properties.whenToApplyColorOnNode_SankeyGraph=new this.createProperties("1ab0a776-11af-4a6d-a783-58e094ba3ed6","Node Value Base Color","nodeValueBaseColor","ddl","All outgoing Links","All outgoing Links",["None","All incoming Links","All outgoing Links","Both"],o,D,"","false",this,!0),d.properties.showNumberBracket_SankeyGraph=new this.createProperties("84b30e03-3929-48e5-8867-a107eb5576c0","Show Bracket","showBracket","ddl","true","true",W,u,D,"","false",this),d.properties.numberSeparator_SankeyGraph=new this.createProperties("2d02aa6a-178a-4f6a-9f86-b009b85d9ec3","Number Separator","numberSeparator","txt","","","",p,D,"","false",this),d.properties.percentageSeparator_SankeyGraph=new this.createProperties("1a13f2c6-f4d8-4e33-a851-0db840e2ceac","Percentage Separator","percentageSeparator","txt",".",".","",p,D,"","false",this),d.properties.enable_manual_sorting=new this.createProperties("1a13f2c6-f4d8-4e33-a851-0db840e3ceac","Percentage Separator","percentageSeparator","txt",".",".","",p,D,"","false",this);var s={name:"nodeTitles",title:"Node Titles"};s.type=C,d.properties.fontFamily_Node_Text_SankeyGraph=new this.createProperties("cbdf77d2-3da3-4a64-aff8-5c30e1fd72ec","Font Family","font-family","ddl","Arial","Arial",F,s,D,".tspanClassT","false",this),d.properties.fontSize_Node_Text_SankeyGraph=new this.createProperties("5f378c73-b739-426b-b976-acbd342c9d7b","Font Size","font-size","txt","10px","10px",G,s,D,".tspanClassT","false",this),d.properties.ChartExpo_UIFabricHelper_fontStyle_Node_Text_SankeyGraph=new this.createProperties("ea2dc8de-d555-499e-88e6-de20de3ceabc","Font Style","font-style","ddl","normal","normal",B,s,D,".tspanClassT","false",this),d.properties.fontWeight_Node_Text_SankeyGraph=new this.createProperties("60c34fb4-dcbf-465d-9d1e-86840888117c","Font Weight","font-weight","ddl","normal","normal",R,s,D,".tspanClassT","false",this),d.properties.color_Node_Text_SankeyGraph=new this.createProperties("3fa59e39-46a3-441e-9c60-247fc8ffeda3","Text color","fill","color","#000000","#000000","",s,D,".tspanClassT","false",this),d.properties.Label_Trim_Length_SankeyGraph=new this.createProperties("0c38125a-1ed1-49ee-a9a5-99eb2cc810fd","Trim Length","trimlength","txt","20","20","",s,D,"","false",this,!1),d.properties.fontScope_SankeyGraph=new this.createProperties("7ed65eff-c7e4-47e5-bba2-e57cccdba98f","Font Scope","fontScope","ddl","Chart","Chart",["Chart","Level","Node"],s,D,"","false",this),d.properties.NodeViseFontValue_SankeyGraph=new this.createProperties("e0018dc8-0abd-4117-b063-bdaf307ce2e9","Node Vise Font Value","nodeViseFontValue","txt","","","",s,D,"","false",this),d.properties.LevelViseFontValue_SankeyGraph=new this.createProperties("ff1e8ba7-73e8-440c-adff-faa69151c9d5","Level Vise FontValue","levelViseFontValue","txt","","","",s,D,"","false",this),d.properties.Combine_Node_Level_ViseFontValue_SankeyGraph=new this.createProperties("7e94a86b-9bf4-498e-9dd2-931a68827433","Combine Node Level Vise Font Value","combineNodeLevelViseFontValue","txt","","","",s,D,"","false",this);var l={name:"label",title:"Label"};l.type=C,d.properties.showLabel_SankeyGraph=new this.createProperties("3548b1a4-ab2d-4f17-83de-bdbca8a22d77","Show","show","ddl","true","true",W,l,D,"","false",this),d.properties.showLabelScope_SankeyGraph=new this.createProperties("834072ff-9113-4a8d-adfc-3fab74d53145","Scope","scope","ddl","Chart","Chart",["Chart","Level"],l,D,"","false",this);var u={name:"stats",title:"Stats"};u.type=C,d.properties.showStats_SankeyGraph=new this.createProperties("b2eccc81-772e-4ffe-aa3f-004d5a51e674","Show","show","ddl","true","true",W,u,D,"","false",this),d.properties.showNumber_SankeyGraph=new this.createProperties("e49cf168-f841-4f8a-9c9c-550927d4f443","Show Number","showNumber","ddl","true","true",W,u,D,"","false",this),d.properties.ShowNumberLevelWise_Sankey=new this.createProperties("1e26ad81-1ecb-4374-affb-294fd1dcf275","Level Wise Number","levelWiseNumber","txt","Chart:true","Chart:true","",u,D,".tspanClass","false",this),d.properties.showNumberScope_SankeyGraph=new this.createProperties("2d699d94-c910-4048-ae55-3f04003131eb","Number Scope","numberScope","ddl","Chart","Chart",["Chart","Level"],u,D,"","false",this),d.properties.Stats_precisionSecondLevelNumber=new this.createProperties("41abcd9c-e5a3-4ad4-bca3-2f22269f82b0","Number Precision","numberPrecision","txt","0","0","",u,D,".tspanClass","false",this),d.properties.showSymbols_SankeyGraph=new this.createProperties("a41fd3ef-72b6-49f3-b0d6-76227926f012","Show Symbols","showSymbols","ddl","true","true",W,u,D,"","false",this),d.properties.fontFamily_Node_Text_Stats_SankeyGraph=new this.createProperties("6ea8eba8-b0bb-48ab-86e6-47f60fa24f3f","Font Family","font-family","ddl","Arial","Arial",F,u,T,".tspanClass","false",this),d.properties.fontSize_Node_Text_Stats_SankeyGraph=new this.createProperties("bd6bc6e5-419d-4512-b543-d65b470f36be","Font Size","font-size","txt","10px","10px",G,u,T,".tspanClass","false",this),d.properties.ChartExpo_UIFabricHelper_fontStyle_Node_Text_Stats_SankeyGraph=new this.createProperties("d3d4021f-3f96-4d51-910a-4e8b2b9d6425","Font Style","font-style","ddl","normal","normal",B,u,T,".tspanClass","false",this),d.properties.fontWeight_Node_Text_Stats_SankeyGraph=new this.createProperties("9f8ec935-6ce6-404b-93cb-6132102e2023","Font Weight","font-weight","ddl","normal","normal",R,u,T,".tspanClass","false",this),d.properties.fontColor_Node_Text_Stats_SankeyGraph=new this.createProperties("79781539-62a0-41af-99aa-1219c8edc59c","Color","fill","color","#000000","#000000",R,u,T,".tspanClass","false",this),d.properties.Stats_Prefix=new this.createProperties("cf727697-fa2d-4772-ad98-7d2d12a79798","Prefix","Prefix","txt","","","",u,D,".tspanClass","false",this),d.properties.Stats_Postfix=new this.createProperties("1f192ee2-b51b-484f-8c11-b6b425430059","Postfix","Postfix","txt","","","",u,D,".tspanClass","false",this),d.properties.Stats_ShowSecondLevelPercentage=new this.createProperties("c4ac8df4-7e5f-4441-a2c0-80aaf9a09dfb","Show Percentage","Show Percentage","ddl","true","true",W,u,D,".tspanClass","false",this),d.properties.Stats_precisionSecondLevelPercentage=new this.createProperties("c9a59cff-0972-47e2-90ee-aa223cc9d893","Percentage Precision","percentagePrecision","txt","0","0","",u,D,".tspanClass","false",this),d.properties.ShowPercentageLevelWise_Sankey=new this.createProperties("056b60db-2157-46d0-86fb-bf099582e539","Level Wise Percentage","levelWisePerecentage","txt","Chart:true","Chart:true","",u,D,".tspanClass","false",this),d.properties.showPercentageScope_SankeyGraph=new this.createProperties("c6f0db3a-200d-4c7d-a27e-4ed0044a258e","Percentage Scope","percentageScope","ddl","Chart","Chart",["Chart","Level"],u,D,"","false",this);var c={name:"header",title:"Header"};c.type=C,d.properties.showHeader_SankeyGraph=new this.createProperties("46f69ff7-21a1-42cd-8cfe-318c6eb3fdc5","Show","show","ddl","false","false",W,c,D,"","false",this),d.properties.fontFamily_Header_SankeyGraph=new this.createProperties("33038399-ca5c-4109-8309-c10d9a0d97de","Font Family","font-family","ddl","Arial","Arial",F,c,D,"","false",this),d.properties.fontSize_Header_SankeyGraph=new this.createProperties("4c531b67-c9a3-4756-8696-53404c969de0","Font Size","font-size","txt","10px","10px",G,c,D,"","false",this),d.properties.ChartExpo_UIFabricHelper_fontStyle_Header_SankeyGraph=new this.createProperties("28b6b2c6-abc1-4fbc-8fd3-7bb1f8f9c437","Font Style","font-style","ddl","normal","normal",B,c,D,"","false",this),d.properties.fontWeight_Header_SankeyGraph=new this.createProperties("92972d8a-db51-4691-9207-e9797f45bac7","Font Weight","font-weight","ddl","normal","normal",R,c,D,"","false",this),d.properties.fontColor_Header_LevelText_SankeyGraph=new this.createProperties("2e24baf7-d115-4044-8eb3-b27ac0562e6d","Text Color","textColor","color","#000000","#000000","",c,D,"","false",this),d.properties.headerNames_SankeyGraph=new this.createProperties("7091a9b7-2027-4d02-8305-eebec150c539","Names","Names","txt","","",W,c,D,"","false",this),d.properties.backgroundColor_Header_SankeyGraph=new this.createProperties("7c0f852b-7d6e-4bad-8364-d648ec1216ba","Background Color","fill","color","transparent","transparent","",c,D,"","false",this),d.properties.borderColor_Header_SankeyGraph=new this.createProperties("036a177c-ed62-4494-aeec-44068bdb5cc9","Border Color","stroke","color","transparent","transparent","",c,D,"","false",this),d.properties.headerChartGap_Header_SankeyGraph=new this.createProperties("036a177c-3333-2222-1111-44068bdb5cc9","Header Chart Gap","HeaderChartGap","txt","0","0","",c,D,"","false",this),d.properties.headerNamesPosition_SankeyGraph=new this.createProperties("75576334-aed2-4001-b447-53c77e87e068","Position","position","ddl","Bottom","Bottom",["Top","Bottom"],c,D,"","false",this),d.properties.forcePercentagePrecision_SankeyGraph=new this.createProperties("4a4e64f1-16d8-4ddf-ae48-fe4449da5de5","Force Percentage Precision","forcePercentagePrecision","ddl","false","false",W,u,D,"","false",this),d.properties.numberFormatOverride_SankeyGraph=new this.createProperties("4a4e64f1-16d8-4ddf-ae48-fe4449da1234","Force Percentage Precision","forcePercentagePrecision","ddl","false","false","",u,D,"","false",this),d.properties.currencyFormatOverride_SankeyGraph=new this.createProperties("4a4e64f1-16d8-4ddf-ae48-fe4449da4321","Force Percentage Precision","forcePercentagePrecision","ddl","false","false","",u,D,"","false",this);var h={name:"toolTip",title:"ToolTip"};h.type=_,d.properties.showToolTip_SankeyGraph=new this.createProperties("719c9ab5-bf88-4770-950f-cbd61d863c50","Show ToolTip","showToolTip","ddl","false","false",W,h,D,".link title","false",this,!0),d.properties.toolTipDelay=new this.createProperties("6ac9e2e0-63cc-4411-a800-d6943eeee0dc","Tool Tip Delay","toolTipDelay","txt","200","200","",h,D,"","false",this);var p={name:"misc",title:"Misc"};p.type=_,d.properties.renderTo=new this.createProperties("5a1cad79-a1a9-4dbd-812f-c84926b47b7a","Render To","renderTo","txt","","","",p,D,"","false",this,!1),d.properties.width_SankeyGraph=new this.createProperties("3181fd67-96bc-4cb6-8b9a-918f6783c6ca","Width","width","txt","720","720","",p,D,"","false",this,!1),d.properties.height_SankeyGraph=new this.createProperties("729c0c9e-4bc0-4871-b18b-b5f39f23fcd2","Height","height","txt","470","470","",p,D,"","false",this,!1),d.properties.NodeWidth_SankeyGraph=new this.createProperties("13e0133d-2b6a-4329-b9be-73e7a60677b2","Node Width","nodeWidth","txt","25","25","",p,D,"","false",this,!1),d.properties.ColorLinks_SankeyGraph=new this.createProperties("7275dbc2-2b91-40f5-bb33-725480fcd0f4","Color Links","colorLinks","ddl","true","true",W,p,D,"","false",this,!1),d.properties.viewChartInEditMode_SankeyGraph=new this.createProperties("c2f4b067-c4af-43e8-ab44-38958df105d3","Edit Mode","editMode","ddl","false","false",W,p,D,"","false",this,!0),d.properties.chartOldDataMetricsCount_SankeyGraph=new this.createProperties("2f0f07da-9af5-478b-980f-c5e00bf7bd29","Old Metrics Count","oldMetricsCount","txt","","","",p,D,"","false",this),d.properties.isMissingData_SankeyGraph=new this.createProperties("0b82f56c-60d5-4d22-991a-33418e7237ea","Missing Data","missingData","ddl","true","true",W,p,D,"","false",this),d.properties.isNumberFormat_SankeyGraph=new this.createProperties("82bf61ec-cc73-48b8-98f5-8672ed64b119","Number Format","numberFormat","ddl","true","true",W,p,D,"","false",this),d.properties.enableFormatType_SankeyGraph=new this.createProperties("8462631d-378c-4081-b6cd-c653d19e3e9d","Format Type","formatType","ddl","Number Format","Number Format",["Number Format","Currency Format"],p,D,"","false",this),d.properties.orientationLabelOverride_SankeyGraph=new this.createProperties("258aa0e2fc464370a406338d01b89730","Orientation","orientation","ddl","","",["Left","Right"],l,D,"","false",this),d.properties.orientationLabelScopeOverride_SankeyGraph=new this.createProperties("f5c16e0a-b08a-4bb9-a9c4-796f0db2b240","Orientation Scope","orientationScope","ddl","","",["Chart","Level"],l,D,"","false",this),d.properties.nodeTextOverride_Sankey=new this.createProperties("8ca52659-ad74-46dc-a0d2-b218a5f97ef5","Node Text Override","nodeTextOverride","txt","","","",i,D,"","false",this,!0),d.initDefaults(),null!=e._passedProperties&&null!=e._passedProperties&&(e._passedProperties.length>0&&null!=e._passedProperties[0].childGroups&&e._passedProperties[0].childGroups.length>0?this.mapOldPropertiesWithNewGrouping(e._passedProperties,this.getNewProperties()):this.mapOldProperties(e._passedProperties,this.getProperties())),d.initializeCustomPositionOfNodes()},this.initializeCustomPositionOfNodes=function(){ve=null!=d.properties.nodesCustomLocation._value&&""!=d.properties.nodesCustomLocation._value?JSON.parse(d.properties.nodesCustomLocation._value):{}},this.createProperties=function(e,t,n,r,i,a,o,s,l,u,c,h,p,d,f){s=void 0===s?"":s,this.title=t,this.name=n,this.controlType=r,this.defaults=i,this.value=a,this.options=o,this._group="string"==typeof s?{}:s,this.group="string"==typeof s?s:s.name,this.propertyType=l,this.propertySelector=u,this.parentNotifyAble=null!=c&&"false"!==c&&!1!==c,this.expose=null==p||p,this.isContainer=null!=d&&d,this._guid=e,this.runtime=f,this.toJSON=function(e){return{title:this.title,name:this.name,controlType:this.controlType,defaults:this.defaults,_value:this._value,options:""==this.options?[]:this.options,_group:this._group,group:this.group,propertyType:this.propertyType,propertySelector:this.propertySelector,parentNotifyAble:this.parentNotifyAble,expose:this.expose,isContainer:this.isContainer,_guid:this._guid,runtime:this.runtime}},this.addPropertyToParent=function(){var e=(this._group.name+this.title.charAt(0).toUpperCase()+this.title.slice(1)).replace(new RegExp("\\.","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("-","g"),"").replace(new RegExp("_","g"),"");void 0===h.attributes&&(h.attributes={}),void 0===h.attributes[e]&&(h.attributes[e]=this)},this.expose&&this.addPropertyToParent()},this.getProperties=function(e){var t=new Array;for(var n in d.properties)d.properties[n].expose&&t.push(d.properties[n]);return null!=e&&null!=e&&e?d.properties:{name:"SankeyGraphAdvance",title:"SankeyGraphAdvance",properties:t}},this.getNewProperties=function(e){var t=new Array;for(var n in d.properties)d.properties[n].expose&&t.push(d.properties[n]);var r=[];return r.push(getNewGrouping(t,"chart","Chart","chart")),r};var Te=[],De=[];this.findNodesHideLinks=function(){if(ae=[],Te=[],De=[],"/"!=d.properties.hideInOutLinksOfNodes_SankeyGraph.value&&""!=d.properties.hideInOutLinksOfNodes_SankeyGraph.value)for(var e=d.properties.hideInOutLinksOfNodes_SankeyGraph.value.trim().split(","),t=0;t<e.length;t++){var n=e[t].trim().toLowerCase().split(":");n.length>1&&("in"==n[1]?Te.push(n[0]):"out"==n[1]?De.push(n[0]):"both"==n[1]&&ae.push(n[0]))}};var Me=!1,Oe=[];function Ee(e){e.forEach((function(e){if(null!=e.subCategory&&Array.isArray(e.subCategory)&&e.subCategory.length>0)Ee(e.subCategory);else if(0==e.val){e.val=1e-6;var t=ie.indexOf(e.name.toLowerCase()),n=Oe.indexOf(e.name.toLowerCase());-1==t&&-1==n&&ie.push(e.name.toLowerCase())}else-1!=(t=ie.indexOf(e.name.toLowerCase()))&&ie.splice(t,1),-1==(n=Oe.indexOf(e.name.toLowerCase()))&&Oe.push(e.name.toLowerCase())}))}function Ae(e,t,n){return e.source.name.split("|").join(","),e.target.name.split("|").join(","),function(e,t,n){var i=[];for(let n=0;n<e.length;n++)e[n][0]==t.value&&i.push(e[n]);t.source.name.split("|").join(","),t.target.name.split("|").join(",");let a,o=t.newRightPath.join(":").split("|").join(",").replace(/_[0-9]+/g,""),s=!1;for(let e=0;e<i.length;e++)if(i[e][2].replace(/:+/g,"").replace(/,+/g,"").indexOf(o.replace(/:+/g,"").replace(/,+/g,""))>-1){s=!0,a=i[e][1];break}return 1==s?a:r.select(n).style("stroke")}(de,e,t)}this.findZeroValueNodes=function(){0==Me&&(Ee(this.data),Me=!0)},this.draw=function(e,n){d.properties.width_SankeyGraph.value=d._settings.width,d.properties.height_SankeyGraph.value=d._settings.height;var i=e[0].nodesStyle;d.properties.fontFamily_Node_Text_SankeyGraph.value=i.nodeFontFamily,d.properties.fontSize_Node_Text_SankeyGraph.value=i.nodeFontSize+"px",d.properties.fontWeight_Node_Text_SankeyGraph.value="true"==i.isNodeBold?"bold":"normal",d.properties.color_Node_Text_SankeyGraph.value=i.nodeTextColor,d.properties.colorOverride_Sankey.value=e[1].levelsColor;var s=e[2].levelsHeader;""!=s&&(d.properties.showHeader_SankeyGraph.value="true",d.properties.headerNames_SankeyGraph.value=s);var l=e[3].levelsStyle;d.properties.fontFamily_Header_SankeyGraph.value=l.levelFontFamily,d.properties.fontSize_Header_SankeyGraph.value=l.levelFontSize+"px",d.properties.fontWeight_Header_SankeyGraph.value="true"==l.isLevelBold?"bold":"normal",d.properties.fontColor_Header_LevelText_SankeyGraph.value=l.levelTextColor;var u=e[4].stats;d.properties.showStats_SankeyGraph.value="true",d.properties.Stats_Prefix.value=u.prefix,d.properties.Stats_Postfix.value=u.postfix,a=e[5].isWatermarkEnabled;var c=e[6].levelsPercentage,h=e[7].levelsNumber;""==c&&(c="true"==u.percentage?"chart:true":"chart:false"),""==h&&(h="true"==u.number?"chart:true":"chart:false"),d.properties.ShowPercentageLevelWise_Sankey.value=c,d.properties.ShowNumberLevelWise_Sankey.value=h;var g=e[8].overrideLinkLevelDirection;d.properties.overrideLinkLevelDirection_Sankey.value=g;var v=e[9].isMissingData_SankeyGraph;d.properties.isMissingData_SankeyGraph.value=v;var y=e[10].nodesCustomLocations;d.properties.nodesCustomLocation._value=JSON.stringify(y);var m=e[11].chartSorting;d.properties.sortByChart_Sankey.value=m;var b=e[12].showLinksWithZeroValue;d.properties.showZeroValueNodesLinks_SankeyGraph.value=b;var x=e[13].chartPercentagePrecision;d.properties.Stats_precisionSecondLevelPercentage.value=x;var S=e[14].chartNumberPrecision;d.properties.Stats_precisionSecondLevelNumber.value=S;var k=e[15].chartLinkOpacity;d.properties.OpacityMin_SankeyGraph.value=k;var w=e[16].levelSortingString;d.properties.sortByLevel_Sankey.value=w;var L=e[17].showNumberString;d.properties.ShowNumberLevelWise_Sankey.value=L;var C=e[18].showPercentageString;d.properties.ShowPercentageLevelWise_Sankey.value=C;var _=e[19].numberScope;d.properties.showNumberScope_SankeyGraph.value=_;var P=e[20].percentAgeScope;d.properties.showPercentageScope_SankeyGraph.value=P;var N=e[21].sankeyDropoffNodesForSankey;d.properties.exitNodeInformation_Sankey.value=JSON.stringify(N);var T=e[22].nodeIncomingLinksSortOverride;d.properties.nodeIncomingLinksSortOverride_Sankey.value=T;var D=e[23].nodeOutgoingLinksSortOverride;d.properties.nodeOutgoingLinksSortOverride_Sankey.value=D;var M=e[24].linkColorValues;d.properties.valueBaseColorLink_SankeyGraph.value=M;var E=e[30].showTextString;d.properties.showLabel_SankeyGraph.value=E,d.properties.whenToApplyColorOnNode_SankeyGraph="All incoming Links";var I=e[26].enableFormat;d.properties.isNumberFormat_SankeyGraph.value=I;var F=e[27].formatType;d.properties.enableFormatType_SankeyGraph.value=F;var G=e[28].numberSeperator;d.properties.numberSeparator_SankeyGraph.value=G;var B=e[29].percentageSeperator;d.properties.percentageSeparator_SankeyGraph.value=B;var j=e[31].nodeShowOutline;d.properties.showNodeOutline_Sankey.value=j;var R=e[32].showNumberBracket;d.properties.showNumberBracket_SankeyGraph.value=R;var H=e[33].enableSorting;d.properties.enable_manual_sorting.value=H;var W=e[34].levelPosition;d.properties.headerNamesPosition_SankeyGraph.value=W;var V=e[35].labelOrietationChart;d.properties.orientationLabelOverride_SankeyGraph.value=V,d.properties.nodeTextOverride_Sankey.value=e[36].nodesOverrideText,d.properties.forcePercentagePrecision_SankeyGraph.value=e[37].enforcePercentPercision,d.properties.numberFormatOverride_SankeyGraph.value=e[38].numberFormatOverride,d.properties.currencyFormatOverride_SankeyGraph.value=e[39].currencyFormatOverride,N.length>0?d.properties.exitNode_Sankey.value=!0:d.properties.exitNode_Sankey.value=!1,d.initializeCustomPositionOfNodes(),d.data=t.data,oe={},se={},firstNodeXPosition=0,J=0,X=0,K=0;var z=this;z.getMaxNodeDepth(),z.setProperties_for_viewChartInEditMode(),o.settings.editMode&&(K=13),z.findZeroValueNodes(),z.findNodesHideLinks(),z.getFirstLevelLabelOrientation(),z.getLastLevelLabelOrientation(),function(){if(re=0,d.getHeaderShowState()&&null!=d.properties.headerNames_SankeyGraph.value&&null!=d.properties.headerNames_SankeyGraph.value&&""!=d.properties.headerNames_SankeyGraph.value){var e=d.properties.headerNames_SankeyGraph.value;e=e.split(",");var t=r.select(d.properties.renderTo.value).append("svg");t.append("g").selectAll(".dummy").data(e).enter().append("text").style("font-size",d.properties.fontSize_Header_SankeyGraph.value).style("font-family",d.properties.fontFamily_Header_SankeyGraph.value).style("font-weight",d.properties.fontWeight_Header_SankeyGraph.value).style("font-style",d.properties.ChartExpo_UIFabricHelper_fontStyle_Header_SankeyGraph.value).text((function(e){return e})).each((function(e,t){var n=this.getBBox().height;n>re&&(re=n)})),r.select(t).remove(),t=null}}(),z.reset(),$=z.isSentimentData(),z.generateSVG();var U,q,Z=function(){if(null!=d.data&&null!=d.data&&d.data.length>0)for(var e=0;e<d.data.length;e++)null!=d.data[e].subCategory&&d.data[e].subCategory.sort((function(e,t){return e.val-t.val}));ne=0;var t=[];!function e(n,r){r=r||[],n.forEach((function(n){if(n.hasOwnProperty("name"))var i=r.concat(n.name);Array.isArray(n.subCategory)?e(n.subCategory,i):t.push(i.concat(+n.val))}))}(d.data);for(var n=[],r=0;r<t[0].length-1;r++){n[r]=[];for(var i=0;i<t.length;i++)-1==n[r].indexOf(t[i][r])&&n[r].push(t[i][r])}var a,o,s=[],l=[],u=[],c={};for(i=0;i<n.length;i++)for(u[i]={},r=0;r<n[i].length;r++)-1==s.indexOf(n[i][r])?(""==n[i][r]?(a=n[i][r]+"_"+i,l.push([i,n[i][r]])):n[i][r].indexOf(",")>-1||n[i][r].indexOf(":")>-1?(a=n[i][r].replace(/,/g,"|").replace(/:/g,"|"),l.push([i,n[i][r]])):a=n[i][r],u[i][n[i][r]]=a,oe[a]=n[i][r],se[a]=i+1,s.push(n[i][r])):(l.push([i,n[i][r]]),a=n[i][r]+"_"+i,u[i][n[i][r]]=a,oe[a]=n[i][r],se[a]=i+1);if(l.length>0)for(r=0;r<t[0].length-1;r++)for(i=0;i<t.length;i++)o=t[i][r],t[i][r]=u[r][o];var h=[],p=[],f=[],g=[];for(i=0;i<t.length;i++)h=h.concat(t[i].slice(0,-1));for(i=0;i<h.length;i++)-1==p.indexOf(h[i])&&p.push(h[i]);var v=JSON.parse(JSON.stringify(t));if(he=!1,"true"==d.properties.isMissingData_SankeyGraph.value){var y=/^_\d+$|^$|^null_*\d*$/i;for(i=0;i<t.length;i++)t[i]=t[i].filter((function(e){return!y.test(e)}));p=p.filter((function(e){var t=y.test(e);return!he&&t&&(he=!0),!t}))}for(var m=0;m<t.length;m++){var b=[],x=[],S=t[m],k=S[S.length-1],w="";for(i=0;i<S.length-2;i++){c={customColor:void 0,parentID:null,source:null,target:null,value:null,path:null,newRightPath:null,nodeName:null,nodeLevel:null};var L=p.indexOf(S[i]),C=p.indexOf(S[i+1]);b.push(S[i]),x.push(S[i]),w+=S[i],c.parentID=L,c.source=L,c.target=C,c.value=k,c.path=w,c.newRightPath=x,c.nodeName=S[i],c.nodeLevel=v[m].indexOf(S[i])+1,f.push(c),w+=","}for(x.push(S[i]),i=0;i<S.length-1;i++){var _={customInfo:"",name:"",nodeId:0,nodeLevel:1,parentID:-1},P=(L=p.indexOf(S[i]),0==i?-1:p.indexOf(S[i-1])),N=v[m].indexOf(S[i])+1;_.name=S[i],_.nodeId=L,_.nodeLevel=N,_.parentID=P,g=Re(g,_)}}le=[],ue={};var T=[];return""!=d.properties.exitNodeInformation_Sankey.value&&"/"!=d.properties.exitNodeInformation_Sankey.value&&(T=JSON.parse(d.properties.exitNodeInformation_Sankey.value)),T.length>0&&(T.forEach((function(e){"true"==e.isExit&&(f=f.map((function(t){var n=t.newRightPath.indexOf(e.nodeName);return t.nodeLevel===e.nodeLevel&&e.nodeName===t.nodeName&&(t.oldValue=t.value,n>-1&&t.newRightPath.splice(n+1),le.push(t)),t.nodeLevel>0&&t.nodeLevel>=e.nodeLevel&&n>-1&&(t.value=1e-9,t.hideableLink="true"),t})))})),le.forEach((function(e){ue.hasOwnProperty(e.nodeLevel)?ue[e.nodeLevel]=ue[e.nodeLevel]+e.oldValue:ue[e.nodeLevel]=e.oldValue}))),{links:f,nodes:g}}();d.data.nodes=Z.nodes,d.data.links=Z.links,z.generateMargins(),J=(+d.properties.width_SankeyGraph.value-A*+d.properties.NodeWidth_SankeyGraph.value)/A-(+d.properties.paddingLeft.value+ +d.properties.paddingRight.value),z.calculateTextVals(),isFirstLevelLabelOrientationLeft&&(firstNodeXPosition=Be(J,1)),X=J,z.reset(),z.svg=null,z.generateMargins(),z.generateScales(),z.generateValueBaseLinkColor(),z.generateSVG(),z.generateSankey(),z.generateLevelWiseSum(),z.generatePathSankey(),z.generateNodeColorOverride(),z.generateNodeOpacityOverride(),z.generateDummyGroup(),z.findAllSankeyLevels(),z.applyCustomSorting(),z.updateOldDataMetricsCount(),z.resetNodesPositionAsPerUserSetCustomPosition(),z.applyCustomLinkStyle(),z.applyCustomNodeStyle(),z.appendExtraRects(),z.sortSpecificNode(),Ie(),r.selectAll("#dvChart_chartDiv").style("float","left"),z.generateCustomToolTip(n),z.applyDefaults(z.getProperties()),z.wrap(d.svg.selectAll(".sankyLabelClass"),0,0,"",""),z.wrap(r.selectAll(".lableText"),0,0,"","",!0),z.applyAntiClutteringAlgo(),"true"==d.properties.showNodeOutline_Sankey.value&&z.settleShadow(),null!=o.drillData&&o.drillData.length>0&&z.showBackButton(o),z.svg.selectAll(".link").attr("clip-path",(function(e,t){var n=e.source.x+e.source.dx,r=e.target.x;return d.__svg.selectAll("defs").append("clipPath").attr("id",(function(e){return"cut-off-"+t})).append("rect").attr("x",n-f.nodeWidth()).attr("y",0).attr("height",O).attr("width",r-n+2*+f.nodeWidth()),"url(#cut-off-"+t+")"})),d.applyNodeOverrideColorOnAllLinks(),U=d.properties.Stats_Prefix.value,q=d.properties.Stats_Postfix.value,r.selectAll(".tspanClass").attr("cust",(function(e){var t=+this.textContent.substring(this.textContent.indexOf("(")+1+U.trim().length,this.textContent.indexOf(")")-q.trim().length);return t%1!=0?this.textContent=this.textContent.replace(t,t.toFixed(0)):" (0.00)"!=this.textContent&&" (0.0)"!=this.textContent&&" (0.000)"!=this.textContent&&" (0.0000)"!=this.textContent&&" (0.00000)"!=this.textContent||(this.textContent=" (0)"),""})),z.removeZeroValueNodes(),o.settings.editMode&&z.generateEditMode(),z.addSortIconLevelWise(),1==a&&z.setAntler(z,+t.height,+t.width,p.left,p.top,!0),z.svg.selectAll(".nodeMoveAble").each((function(e){0==+e.value.toFixed(3)&&"false"==d.properties.showZeroValueNodesLinks_SankeyGraph.value&&r.select(this).remove(),e.nodeLevel>1&&+e.value>=1e-9&&+e.value<=19e-9&&r.select(this).remove();var t={},n=e.targetLinks.map((function(e){return e.newRightPath.map((function(e){return oe[e]+"|"+se[e]}))}));t.name=e.name,t.nodeLevel=e.nodeLevel,t.value=+e.value.toFixed(5),t.links=n,r.select(this).attr("for_powerBI",JSON.stringify(t)),e.for_powerBI=t,z.isAllLinksValBaseColor(e)&&r.select(this).selectAll(".orgRects").style("fill",fe)})),de.length>0&&z.svg.selectAll(".link").style("stroke",(function(e){return pe.hasOwnProperty(e.value)?Ae(e,this):r.select(this).style("stroke")}))},this.updateOldDataMetricsCount=function(){if(""!=d.properties.chartOldDataMetricsCount_SankeyGraph.value){var e=d.properties.chartOldDataMetricsCount_SankeyGraph.value.split(","),t=+e[0].split(":")[1],n=+e[1].split(":")[1];t==ye.length&&n==ne||(d.properties.nodesCustomLocation._value="",ve={})}d.properties.chartOldDataMetricsCount_SankeyGraph._value="LevelsCount:"+ye.length+",ValuesTotal:"+ne},this.applyNodeOverrideColorOnAllLinks=function(){var e=!1;for(var t in ee)e=!0;e&&d.svg.selectAll(".link").style("stroke",(function(e,t){if(1e-6==e.value&&"false"==d.properties.showZeroValueNodesLinks_SankeyGraph.value||null!=e.hideableLink)return"transparent";if(pe.hasOwnProperty(e.value))return console.log("applyNodeOverrideColorOnAllLinks",pe[e.value]),pe[e.value];var n=r.select(this).style("stroke"),i="all";for(var a in ee)if(ke.hasOwnProperty("Level"+a)&&(i=ke["Level"+a].direction.toLowerCase()),i=="Node Links Right".toLowerCase()){var o=e.path.split(",");if(e.newRightPath.indexOf(a.toString())>=0&&o.indexOf(a)>=0)return ee[a.toString()];n=r.select(this).style("stroke")}else if(i=="Node Links Left".toLowerCase())if((l=e.newRightPath.indexOf(a.toString()))>=0){if((o=e.path.split(",")).length<=l)return ee[a.toString()];n=r.select(this).style("stroke")}else n=r.select(this).style("stroke");else if(i=="All".toLowerCase()){if(e.newRightPath.indexOf(a.toString())>=0)return ee[a.toString()];n=r.select(this).style("stroke")}else if(i=="Node Links Right One Level".toLowerCase()){var s=(o=e.path.split(",")).indexOf(a);if(e.newRightPath.indexOf(a.toString())>=0&&o.indexOf(a)>=0&&s+1==o.length)return ee[a.toString()];n=r.select(this).style("stroke")}else if(i=="Node Links Left One Level".toLowerCase()){var l;if((l=e.newRightPath.indexOf(a.toString()))>=0){if((o=e.path.split(",")).length==l)return ee[a.toString()];n=r.select(this).style("stroke")}else n=r.select(this).style("stroke")}return n})).style("stroke-opacity",d.properties.OpacityMin_SankeyGraph.value)},this.applyNodeOverrideColorOnAllLinksOnMouseOver=function(e){var t=!1;for(var n in e)t=!0;null!=le&&le.length>0&&(t=!0),t&&d.svg.selectAll(".link").style("stroke",(function(t,n){if(1e-6==t.value&&"false"==d.properties.showZeroValueNodesLinks_SankeyGraph.value||void 0!==t.hideableLink)return"transparent";if(pe.hasOwnProperty(t.value))return t.hovered=!0,Ae(t,this);var i=r.select(this).style("stroke"),a="all";for(var o in e)if(ke.hasOwnProperty("Level"+o)&&(a=ke["Level"+o].direction.toLowerCase()),a=="Node Links Right".toLowerCase()){var s=t.path.split(",");if(t.newRightPath.indexOf(o.toString())>=0&&s.indexOf(o)>=0)return i=e[o.toString()],t.hovered=!0,i;i=r.select(this).style("stroke")}else if(a=="Node Links Left".toLowerCase())if((u=t.newRightPath.indexOf(o.toString()))>=0){if((s=t.path.split(",")).length<=u)return i=e[o.toString()],t.hovered=!0,i;i=r.select(this).style("stroke")}else i=r.select(this).style("stroke");else if(a=="All".toLowerCase()){if(t.newRightPath.indexOf(o.toString())>=0)return i=e[o.toString()],t.hovered=!0,i;i=r.select(this).style("stroke")}else if(a=="Node Links Right One Level".toLowerCase()){var l=(s=t.path.split(",")).indexOf(o);if(t.newRightPath.indexOf(o.toString())>=0&&s.indexOf(o)>=0&&l+1==s.length)return i=ee[o.toString()],t.hovered=!0,i;i=r.select(this).style("stroke")}else if(a=="Node Links Left One Level".toLowerCase()){var u;if((u=t.newRightPath.indexOf(o.toString()))>=0){if((s=t.path.split(",")).length==u)return i=ee[o.toString()],t.hovered=!0,i;i=r.select(this).style("stroke")}else i=r.select(this).style("stroke")}return i})).style("stroke-opacity",(function(e){return null!=e.hovered&&e.hovered?(e.hovered=!1,d.properties.OpacityMax_SankeyGraph.value):d.properties.OpacityMin_SankeyGraph.value}))},this.applyNodeOverrideColorOnAllLinksOnMouseOut=function(e){var t=!1;for(var n in e)t=!0;null!=le&&le.length>0&&(t=!0),t&&d.svg.selectAll(".link").style("stroke",(function(t,n){if(1e-6==t.value&&"false"==d.properties.showZeroValueNodesLinks_SankeyGraph.value||void 0!==t.hideableLink)return"transparent";if(pe.hasOwnProperty(t.value))return Ae(t,this);var i=r.select(this).style("stroke"),a="all";for(var o in e)if(ke.hasOwnProperty("Level"+o)&&(a=ke["Level"+o].direction.toLowerCase()),a=="Node Links Right".toLowerCase()){var s=t.path.split(",");if(t.newRightPath.indexOf(o.toString())>=0&&s.indexOf(o)>=0)return e[o.toString()];i=r.select(this).style("stroke")}else if(a=="Node Links Left".toLowerCase())if((u=t.newRightPath.indexOf(o.toString()))>=0){if((s=t.path.split(",")).length<=u)return e[o.toString()];i=r.select(this).style("stroke")}else i=r.select(this).style("stroke");else if(a=="All".toLowerCase()){if(t.newRightPath.indexOf(o.toString())>=0)return e[o.toString()];if(t.newRightPath.indexOf(o.toString())>=0)return e[o.toString()];i=r.select(this).style("stroke")}else if(a=="Node Links Right One Level".toLowerCase()){var l=(s=t.path.split(",")).indexOf(o);if(t.newRightPath.indexOf(o.toString())>=0&&s.indexOf(o)>=0&&l+1==s.length)return ee[o.toString()];i=r.select(this).style("stroke")}else if(a=="Node Links Left One Level".toLowerCase()){var u;if((u=t.newRightPath.indexOf(o.toString()))>=0){if((s=t.path.split(",")).length==u)return ee[o.toString()];i=r.select(this).style("stroke")}else i=r.select(this).style("stroke")}return i})).style("stroke-opacity",d.properties.OpacityMin_SankeyGraph.value)},this.removeZeroValueNodes=function(){"false"==d.properties.showZeroValueNodes_SankeyGraph.value&&(d.svg.selectAll(".nodeMoveAble").selectAll("rect").style("opacity",(function(e,t){return ie.indexOf(e.name.toLowerCase()),r.select(this).style("opacity")})),d.svg.selectAll(".nodeMoveAble").selectAll("text").style("opacity",(function(e,t){return ie.indexOf(e.name.toLowerCase()),r.select(this).style("opacity")})))},this.updateChild=function(e,t,n){if("behaviour"==n.propertyType)if(1==n.parentNotifyAble)"top"==n.name?(d.properties.marginTop.value(d.getWithinRangeChartMargin("top",d,o,d.properties.marginTop.value,d.properties.marginRight.value,d.properties.marginBottom.value,d.properties.marginLeft.value),!0),r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-top",d.properties.marginTop.value+"px"),d.resizeWidgetOnMarginsApplying()):"bottom"==n.name?(d.properties.marginBottom.value(d.getWithinRangeChartMargin("bottom",d,o,d.properties.marginTop.value,d.properties.marginRight.value,d.properties.marginBottom.value,d.properties.marginLeft.value),!0),r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-bottom",d.properties.marginBottom.value+"px"),d.resizeWidgetOnMarginsApplying()):"right"==n.name?(d.properties.marginRight.value(d.getWithinRangeChartMargin("right",d,o,d.properties.marginTop.value,d.properties.marginRight.value,d.properties.marginBottom.value,d.properties.marginLeft.value),!0),r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-right",d.properties.marginRight.value+"px"),d.resizeWidgetOnMarginsApplying()):"left"==n.name?(d.properties.marginLeft.value(d.getWithinRangeChartMargin("left",d,o,d.properties.marginTop.value,d.properties.marginRight.value,d.properties.marginBottom.value,d.properties.marginLeft.value),!0),r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-left",d.properties.marginLeft.value+"px"),d.resizeWidgetOnMarginsApplying()):"border-width"==n.name?d.resizeWidgetOnMarginsApplying():this.behaviourPropertyDelegate(value,t,propertyObject);else{var i,a=this;"ascendingsankey"==n.name.toLowerCase()?(i="true"==d.properties.ascendingSankey_SankeyGraph.value,f=r.sankey().sortMode(i).sortx(-1).nodeWidth(d.properties.NodeWidth_SankeyGraph.value).nodePadding(d.properties.NodePadding_SankeyGraph.value).size([M,O]).nodes(a.data.nodes).links(a.data.links).layout(32),Ve(),f.relayout()):"top"==n.name.toLowerCase()?d.properties.paddingTop.value(d.getWithinRangeDrawingMargin("top",a,o,d.properties.paddingTop.value,d.properties.paddingRight.value,d.properties.paddingBottom.value,d.properties.paddingLeft.value,d.properties.height_SankeyGraph.value,d.properties.width_SankeyGraph.value),!0):"bottom"==n.name.toLowerCase()?d.properties.paddingBottom.value(d.getWithinRangeDrawingMargin("bottom",a,o,d.properties.paddingTop.value,d.properties.paddingRight.value,d.properties.paddingBottom.value,d.properties.paddingLeft.value,d.properties.height_SankeyGraph.value,d.properties.width_SankeyGraph.value),!0):"right"==n.name.toLowerCase()?d.properties.paddingRight.value(d.getWithinRangeDrawingMargin("right",a,o,d.properties.paddingTop.value,d.properties.paddingRight.value,d.properties.paddingBottom.value,d.properties.paddingLeft.value,d.properties.height_SankeyGraph.value,d.properties.width_SankeyGraph.value),!0):"left"==n.name.toLowerCase()?d.properties.paddingLeft.value(d.getWithinRangeDrawingMargin("left",a,o,d.properties.paddingTop.value,d.properties.paddingRight.value,d.properties.paddingBottom.value,d.properties.paddingLeft.value,d.properties.height_SankeyGraph.value,d.properties.width_SankeyGraph.value),!0):"drilling"==n.name&&("true"==d.properties.Drilling_SankeyGraph.value?d.properties.isMoveable_SankeyGraph.value("false",!0):d.properties.isMoveable_SankeyGraph.value("true",!0)),a.draw()}},this.generateProperties(),this.resizeWidgetOnMarginsApplying=function(){var e=+r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-bottom").split("px")[0]+ +r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-top").split("px")[0],t=+r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-left").split("px")[0]+ +r.select("#"+o.sectionsDetail.settings.renderTo).style("padding-right").split("px")[0];r.select("#"+o.sectionsDetail.settings.renderTo).style("height",o.sectionsDetail.settings.actualHeight-e+"px"),r.select("#"+o.sectionsDetail.settings.renderTo).style("width",o.sectionsDetail.settings.actualWidth-t+"px");var n=2*+d.properties.borderWidth_Border_Sankey.value.split("px")[0];o.resizeOnMarginApplying(o.sectionsDetail.settings.actualHeight-e-n,o.sectionsDetail.settings.actualWidth-t-n)},this.getLeveledData=function(e,t){o.data},this.formatData=function(){if(0==j){if(null!=d._settings.data||null!=d._settings.data)for(var e=0;e<d._settings.data.length;e++)d._settings.data[e].name=d._settings.data[e].category;j=!0}},this.getHeaderShowState=function(){o.settings.editMode=o.settings.editMode||!1;var e=!1;return(o.settings.editMode||0==o.settings.editMode&&"true"==d.properties.showHeader_SankeyGraph.value)&&(e=!0),e};var Ie=function(e){if(d.getHeaderShowState()&&null!=d.properties.headerNames_SankeyGraph.value&&null!=d.properties.headerNames_SankeyGraph.value&&""!=d.properties.headerNames_SankeyGraph.value){var t,n=d.properties.headerNames_SankeyGraph.value;null!=n&&""!=n&&"/"!=n&&(t=n.split(","));var i=new Array,a=new Array;d.svg.selectAll(".nodeMoveAble").each((function(e,n){var o=r.select(this).select("rect").attr("width");if(-1==i.indexOf(e.nodeLevel)){i.push(e.nodeLevel);var s={name:null!=t[e.nodeLevel-1]?t[e.nodeLevel-1]:"Level"+e.nodeLevel,val:e.x,width:o,nodeLevel:e.nodeLevel,dx:e.dx,dy:e.dy};a.push(s)}})),a.sort((function(e,t){return e.nodeLevel-t.nodeLevel})),a[1].val,a[0].val;var o=a.map((function(e){return e.name})).join();d.properties.headerNames_SankeyGraph.value=o,d.__svg.append("g").attr("class","headerText").selectAll(".sankeydummy").data(a).enter().append("text").attr("y",(function(){return"Bottom"==d.properties.headerNamesPosition_SankeyGraph.value?O:re+K})).attr("x",(function(e){return+e.val+parseFloat(p.left)+firstNodeXPosition})).attr("class","lableText").style("font-family",d.properties.fontFamily_Header_SankeyGraph.value).style("font-size",d.properties.fontSize_Header_SankeyGraph.value).style("font-weight",d.properties.fontWeight_Header_SankeyGraph.value).style("font-style",d.properties.ChartExpo_UIFabricHelper_fontStyle_Header_SankeyGraph.value).style("fill",d.properties.fontColor_Header_LevelText_SankeyGraph.value).text((function(e){return e.name})),d.__svg.selectAll(".lableText").attr("x",(function(e){let t=r.select(this).attr("x");if("Left"==d.getOrientationLevelWise(e.nodeLevel)){let n=t;return n=n-this.getBBox().width+parseFloat(e.width),n}return t}))}};this.update=function(e,t,n){var i=e[0];t=e[1],"style"==(n=e[2]).propertyType&&(n.isContainer?r.select(n.propertySelector).style(n.name,i):-1==n.title.indexOf("Header")&&this.svg.selectAll(n.propertySelector).style(n.name,i)),this.updateChild(e,t,n)},this.applyDefaults=function(e){if(e.length>0)for(var t=0;t<e.length;t++)for(var n=0;n<e[t]._me.properties.length;n++)"style"==(i=e[t]._me.properties[n]).propertyType&&(i.isContainer?r.select(i.propertySelector).style(i.name,i.value):-1==i.title.indexOf("Header")?this.svg.selectAll(i.propertySelector).style(i.name,i.value):undefined.selectAll(i.propertySelector).style(i.name,i.value));else for(n=0;n<e.properties.length;n++){var i;"style"==(i=e.properties[n]).propertyType&&(i.isContainer?r.select(i.propertySelector).style(i.name,i.value):-1==i.title.indexOf("Header")&&this.svg.selectAll(i.propertySelector).style(i.name,i.value))}},this.calculateTextVals=function(){var e=d.svg.append("g").attr("class","dumps").selectAll(".node").data(d.data.nodes).enter().append("g").append("text").text((function(e){return e.nodeLevel==A?e.name+"... (888)":"... (888)"})).attr("class",Z);d.applyDefaults(d.getProperties());var t=0;e.each((function(){var e=this.getBBox().width;e>t&&(t=e)})),t<J&&(J=t),d.svg.selectAll("."+Z).remove()},this.getMaxNodeDepth=function(){var e=1;A=1;for(var n=0;n<t.data.length;n++){for(var r=t.data[n].subCategory;null!=r&&r.length>0;)e++,r=r[n].subCategory;e>A&&(A=e);break}},this.reApplyStyles=function(){b.call(d.applyBoxFill),m.call(d.applyLinkStroke)},this.applyAntiClutteringAlgo=function(){var e=new Object;d.svg.selectAll("."+Z).each((function(t){void 0===e[t.nodeLevel.toString()]?(e[t.nodeLevel.toString()]={level:t.nodeLevel,items:new Array},e[t.nodeLevel.toString()].items.push(this)):e[t.nodeLevel.toString()].items.push(this)})),d.sortAllTexts(e)},this.sortAllTexts=function(e,t){if(null!=e&&Object.keys(e).length>0)for(var n in e)null!=e[n].items&&e[n].items.sort((function(e,t){return+r.select(e).data()[0].y-+r.select(t).data()[0].y}));if(null==t)for(var n in e)null!=e[n].items&&Fe(e[n].items)};var Fe=function(e){for(var t=0;t<e.length;t++)if(""!=e[t].textContent)for(var n=t;n<e.length;n++)if(t!=n&&""!=e[n].textContent){var r=d.getRectBounds(e[t]),i=d.getRectBounds(e[n]);if(!(r.bottom+0>=i.top&&n>t))break;e[n].textContent=""}};function Ge(e){return null!=e.customInfo?e.customInfo:""}function Be(e,t){return 1==t&&e>170&&(e=170),e}function je(e,t){for(var n=e.properties.sortByLevel_Sankey.value.split(";"),r=0;r<n.length;r++){var i=n[r].split(":")[0],a=n[r].split(":")[1].split(",");if(t==i)return"asc"==a[1]?c:h}return u}function Re(e,t){var n=function(e,t){for(var n=0;n<e.length;n++)if(e[n].name==t.name)return n;return-1}(e,t);return-1==n&&e.push(t),e}function He(e,t,n){var r=null;if(""!=e&&"/"!=e){e=JSON.parse(e);for(var i=0;i<e.length;i++){if(e[i].dataPointLevel==n.nodeLevel&&e[i].dataPointName==n.name&&"Node"==e[i].scope){r=e[i][t];break}if(e[i].dataPointLevel==n.nodeLevel&&"Level"==e[i].scope){r=e[i][t];break}}}return r}function We(e){var t="english";e=e.replace(/\s/g);var n={arabic:/[\u0600-\u06FF]/,persian:/[\u0750-\u077F]/,hebrew:/[\u0590-\u05FF]/,syriac:/[\u0700-\u074F]/,bengali:/[\u0980-\u09FF]/,ethiopic:/[\u1200-\u137F]/,"greek and coptic":/[\u0370-\u03FF]/,georgian:/[\u10A0-\u10FF]/,thai:/[\u0E00-\u0E7F]/,english:/^[a-zA-Z]+$/};return Object.entries(n),Object.entries(n).forEach((function(n){var r=n[0];1==n[1].test(e)&&(t=r)})),"arabic"==t||"persian"==t||"hebrew"==t?"rightToLeft":"leftToRight"}function Ve(){if(""!=d.properties.overrideLinkSort_SankeyGraph.value&&"/"!=d.properties.overrideLinkSort_SankeyGraph.value){var e=f.nodes(),t=function(){var e=[];if(""!=d.properties.overrideLinkSort_SankeyGraph.value&&"/"!=d.properties.overrideLinkSort_SankeyGraph.value)for(var t=d.properties.overrideLinkSort_SankeyGraph.value.split(","),n=0;n<t.length;n++){var r=t[n].split(":");"none"!=r[1].toLowerCase()&&e.push({nodeName:r[0],sortOrder:r[1],sourceLinks:[]})}return e}(),n=t.map((function(e){return e.nodeName})),r=[];e.forEach((function(e){var i=n.indexOf(e.name);-1==i?r.push(e):t[i].node=e})),t.forEach((function(e){e.hasOwnProperty("node")&&("asc"==e.sortOrder.toLowerCase()?(e.node.sourceLinks.sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})),e.node.targetLinks.sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0}))):(e.node.sourceLinks.sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0})),e.node.targetLinks.sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0}))),r=r.concat(e.node))})),f.nodes(r)}if(""!=d.properties.nodeIncomingLinksSortOverride_Sankey.value&&"/"!=d.properties.nodeIncomingLinksSortOverride_Sankey.value&&"{}"!=d.properties.nodeIncomingLinksSortOverride_Sankey.value){var i=JSON.parse(d.properties.nodeIncomingLinksSortOverride_Sankey.value),a=(e=f.nodes()).map((function(e){return e.name+"_"+e.nodeLevel}));for(var o in i)if(i.hasOwnProperty(o)){var s=[],l=i[o];if((h=a.indexOf(o))>-1){var u=[];e[h].targetLinks.forEach((function(e){var t=e.newRightPath.join("_")+"("+Math.ceil(e.value)+")",n=l.indexOf(t);n>-1?(l[n]=l[n]+"_"+n,u[n]=e):s.push(e)})),u=(u=u.filter((function(e){return!(null==e||null==e)}))).concat(s),e[h].targetLinks=u}}f.nodes(e)}if(""!=d.properties.nodeOutgoingLinksSortOverride_Sankey.value&&"/"!=d.properties.nodeOutgoingLinksSortOverride_Sankey.value&&"{}"!=d.properties.nodeOutgoingLinksSortOverride_Sankey.value){var c=JSON.parse(d.properties.nodeOutgoingLinksSortOverride_Sankey.value);for(var o in a=(e=f.nodes()).map((function(e){return e.name+"_"+e.nodeLevel})),c)if(c.hasOwnProperty(o)){var h;if(s=[],l=c[o],(h=a.indexOf(o))>-1){var p=[];e[h].sourceLinks.forEach((function(e){var t=e.newRightPath.join("_")+"("+Math.ceil(e.value)+")",n=l.indexOf(t);n>-1?(l[n]=l[n]+"_"+n,p[n]=e):s.push(e)})),p=(p=p.filter((function(e){return!(null==e||null==e)}))).concat(s),e[h].sourceLinks=p}}f.nodes(e)}}this.settleShadow=function(){var e=".orgRects";"false"==d.properties.isMoveable_SankeyGraph.value&&(e=".orgRectsNode"),b.selectAll(e).attr("filter",(function(e){if(+r.select(this).attr("height")>+d.properties.shadowLimit_SankeyGraph.value)return"url(#shadow)"})).style("stroke-width",(function(e){return+r.select(this).attr("height")>+d.properties.shadowLimit_SankeyGraph.value?r.select(this).style("stroke-width"):"0px"}))},this.correctData=function(){},this.appendExtraRects=function(){var e=".orgRects";"false"==d.properties.isMoveable_SankeyGraph.value&&(e=".orgRectsNode"),d.svg.selectAll(".nodeMoveAble").append("rect").attr("fill","transparent").attr("stroke-width","0.5").attr("rx",0).attr("class","appendedRect").attr("opacity","0.1").attr("stroke",(function(t,n){var i=r.select(this.parentNode).select(e).style("fill");return r.hsl(i).darker(1)})).attr("height",(function(t,n){var i=r.select(this.parentNode).select(e).attr("height")-2*ge(d.properties.Box_Border_Width_SankeyGraph.value);return i<0&&(i=1),i})).attr("width",(function(t,n){return r.select(this.parentNode).select(e).attr("width")-2*ge(d.properties.Box_Border_Width_SankeyGraph.value)})).attr("x",(function(e,t){return ge(d.properties.Box_Border_Width_SankeyGraph.value)})).attr("y",(function(e,t){return ge(d.properties.Box_Border_Width_SankeyGraph.value)}))},this.isSentimentData=function(){var e=!0;return null==Q||(e=null!=Q[0].subCategory[0]&&("positive"==Q[0].subCategory[0].name.toLowerCase()||"negative"==Q[0].subCategory[0].name.toLowerCase()),null!=Q[0].subCategory[1]&&(e=null!=Q[0].subCategory[1]&&("positive"==Q[0].subCategory[1].name.toLowerCase()||"negative"==Q[0].subCategory[1].name.toLowerCase())),e)},this.wrap=function(e,t,n,i,a,o){i="";var s=[];d.svg.selectAll(".nodeMoveAble").each((function(e){-1==s.indexOf(e.x)&&s.push(e.x)})),s.sort((function(e,t){return e-t})),null!=i&&null!=i&&""!=i||(i=""),e.each((function(e){if(n=1!=o?e.dy:20,A==e.nodeLevel)t=J-e.dx,1==o&&(t=J+e.dx);else{t=s[e.nodeLevel]-s[e.nodeLevel-1]-6-e.dx;let n=Be(J,e.nodeLevel);t>n&&1!=o&&(t=n)}var a,l,u,c=r.select(this),h=c.attr("x"),p=c.text().split(/\s+/).filter((function(e){return""!=e})).length,d=c.text().split(/\s+/).filter((function(e){return""!=e})).reverse(),f=[],g=[],v=0,y=1.1,m=c.attr("y"),b=parseFloat(null==c.attr("dy")||null==c.attr("dy")||""==c.attr("dy")?0:c.attr("dy")),x=c.text(null).append("tspan").attr("x",h).attr("y",m).attr("dy",b+"em").text("M");for(u=0,l=0,l=r.select(c).node()[0][0].getBBox().height,x.text(null);a=d.pop();){if(u++,f.push(a),x.text(f.join(" ")),x.node().getComputedTextLength()>t){if(l=r.select(c).node()[0][0].getBBox().height,f.pop(),g=JSON.parse(JSON.stringify(f)),x.text(f.join(" ")),f=[a],1==o||!(0==n||l<=n)){S=(S=(S=g.join(" ")).substring(0,S.length-i.length)).applyEllipsis(!1),S+=i,x.text(null),x.text(S);break}x=c.append("tspan").attr("x",h).attr("y",m).attr("dy",1*++v+y+"em").text(a)}if(u==p){var S,k=S=f.join(" ");if(x.text(null),0==n||l<=n){x.text(k);var w=c.append("tspan").attr("y",m).attr("dy",1*v+y+"em").text((function(){return i}));w.node().getComputedTextLength()>t&&(i=i.substring(0,i.indexOf("%")+2).applyEllipsis(!1),w.text(null),w.text(i))}else x.text(S+" "+i),x.node().getComputedTextLength()>t&&(S=(S=c.text().substring(0,S.length)).applyEllipsis(!1)),S+=" "+i,x.text(null),x.text(S),x.node().getComputedTextLength()>t&&(x.text(k),0==n||l<=n?c.append("tspan").attr("x",h).attr("y",m).attr("dy",1*++v+y+"em").text((function(){return i})):x.text(S.replace(k,"")))}}var L=[];if(c.selectAll("tspan").each((function(e,t){""!==r.select(this).text()&&L.push(t)})),L.length>1){var C=c.node().getBBox().height;c.node().removeAttribute("y"),c.node().removeAttribute("dy"),c.selectAll("tspan").each((function(e,t){""==r.select(this).text()&&r.select(this).remove()})),1!=o&&c.selectAll("tspan").each((function(e,t){r.select(this).attr("dy",1*t+y+"em"),r.select(this).attr("y",n/2-C/2)}))}})),null!=a&&""!==a&&e.style("text-anchor",a)},this.applyCharWrapping=function(e,t,n,r,i){var a,o=t.text().split(""),s="";for(t.text("");d.getTspanWidth(t)<=n&&o.length>0;)t.text(""),s+=o.shift(),t.text(s);return d.getTspanWidth(t)>n&&(a=s.slice(0,s.length-1),o.unshift(s.slice(s.length-1,s.length))),o.length>0&&r.push(o.join("")),a},this.getTspanWidth=function(e){return e.node().getBoundingClientRect().width},this.getTspanHeight=function(e){return e.node().getBoundingClientRect().height},this.getStats=function(e){for(var t=0,n=0,i="(",a=!1,o=0,s=0;s<e.targetLinks.length;s++)t+=+e.targetLinks[s].value,n+=+e.targetLinks[s].source.value,a=!0,o++;if(1==a&&(i+=d.applyNumberFormat(t)+")"),1==o&&e.nodeLevel<=A){var l=0;""!=d.properties.Stats_precisionSecondLevelPercentage.value&&"/"!=d.properties.Stats_precisionSecondLevelPercentage.value&&(l=d.properties.Stats_precisionSecondLevelPercentage.value),i=r.format("."+l+"%")(t/n)+" "+i}return 1==e.nodeLevel&&(i="("+d.applyNumberFormat(e.value)+")"),i},this.getBounds=function(){var e=[];return d.svg.selectAll("text").each((function(t){if(null!=t){var n,i,a,o,s=r.select(r.select(this).node().parentNode).attr("transform").split(","),l=s[0].split("translate("),u=+l[1],c=+s[1].replace(")","")+30,h=+l[1],p=+s[1].replace(")","")+30;r.select(r.select(this).node().parentNode).selectAll(".orgRects").each((function(e){a=this.getBBox().height,o=this.getBBox().width,n=+r.select(this).attr("x")+h+13,i=+r.select(this).attr("y")+p}));var d={bounds:{text:{height:this.getBBox().height,width:this.getBBox().width,x:+r.select(this).attr("x")+u+13,y:+r.select(this).attr("y")+c},rect:{height:a,width:o,x:n,y:i}},data:{name:t.name,id:t.nodeId,parentID:t.parentID}};e.push(d)}})),e},this.generateEditMode=function(){d.svg.selectAll(".nodeMoveAble").each((function(e){void 0!==e&&r.select(this).append("svg:image").attr("xlink:href",s).style("cursor","pointer").attr("x",15).attr("y",-15).attr("width","13").attr("height","13").on("mouseover",(function(){r.select(this).attr("xlink:href",l)})).on("mouseout",(function(){r.select(this).attr("xlink:href",s)})).on("click",(function(){var t="",n=d.properties.orientationLabelOverride_SankeyGraph.value,i=e.nodeLevel;-1==n.indexOf(i)&&(n.length>0&&(t+=","),t+="level"+i+":Right"),n+=t,d.properties.orientationLabelOverride_SankeyGraph.value=n,t="",n=d.properties.orientationLabelScopeOverride_SankeyGraph.value,i=e.nodeLevel,-1==n.indexOf(i)&&(n.length>0&&(t+=","),t+="level"+i+":Chart"),n+=t,d.properties.orientationLabelScopeOverride_SankeyGraph.value=n;var a=[];a.push(d.properties.showLabelScope_SankeyGraph),a.push(d.properties.showLabel_SankeyGraph),a.push(d.properties.orientationLabelOverride_SankeyGraph),a.push(d.properties.orientationLabelScopeOverride_SankeyGraph),a.push(d.properties.exitNode_Sankey),a.push(d.properties.showNodeOutline_Sankey),a.push(d.properties.memberOverride_Sankey),a.push(d.properties.colorOverride_Sankey),a.push(d.properties.Box_Color_SankeyGraph),a.push(d.properties.highlightDirection_NewOptions_Sankey),a.push(d.properties.fontFamily_Node_Text_SankeyGraph),a.push(d.properties.fontSize_Node_Text_SankeyGraph),a.push(d.properties.ChartExpo_UIFabricHelper_fontStyle_Node_Text_SankeyGraph),a.push(d.properties.fontWeight_Node_Text_SankeyGraph),a.push(d.properties.color_Node_Text_SankeyGraph),a.push(d.properties.Label_Trim_Length_SankeyGraph),a.push(d.properties.sortOrderLink_SankeyGraph),a.push(d.properties.showNumber_SankeyGraph),a.push(d.properties.ShowNumberLevelWise_Sankey),a.push(d.properties.showNumberScope_SankeyGraph),a.push(d.properties.Stats_precisionSecondLevelNumber),a.push(d.properties.showSymbols_SankeyGraph),a.push(d.properties.showNumberBracket_SankeyGraph),a.push(d.properties.fontFamily_Node_Text_Stats_SankeyGraph),a.push(d.properties.fontSize_Node_Text_Stats_SankeyGraph),a.push(d.properties.ChartExpo_UIFabricHelper_fontStyle_Node_Text_Stats_SankeyGraph),a.push(d.properties.fontWeight_Node_Text_Stats_SankeyGraph),a.push(d.properties.fontColor_Node_Text_Stats_SankeyGraph),a.push(d.properties.Stats_Prefix),a.push(d.properties.Stats_Postfix),a.push(d.properties.Stats_ShowSecondLevelPercentage),a.push(d.properties.showPercentageScope_SankeyGraph),a.push(d.properties.Stats_precisionSecondLevelPercentage),a.push(d.properties.fontScope_SankeyGraph),a.push(d.properties.OpacityMin_SankeyGraph),a.push(d.properties.showZeroValueNodesLinks_SankeyGraph),a.push(d.properties.nodeIncomingLinksSortOverride_Sankey),a.push(d.properties.nodeOutgoingLinksSortOverride_Sankey),a.push(d.properties.nodeIncomingLinksSortOverrideInformation_Sankey),a.push(d.properties.nodeOutgoingLinksSortOverrideInformation_Sankey),a.push(d.properties.orientationLabelOverride_SankeyGraph),a.push(d.properties.orientationLabelScopeOverride_SankeyGraph);var s={};s.x=r.event.pageX,s.y=r.event.pageY,s.dataPointType="node",s.componentType="chart",s.dataPointName=e.name,s.dataPointLevel=e.nodeLevel,s.dataPointNodeID=e.nodeId,o.onEdit(a,s)}))})),d.__svg.selectAll(".headerText text").each((function(e){null!=e&&(r.select(this).node().getBBox(),d.__svg.append("svg:image").attr("xlink:href",s).style("cursor","pointer").attr("x",+r.select(this).attr("x")).attr("y",+r.select(this).attr("y")-20).attr("width","13").attr("height","13").on("mouseover",(function(){r.select(this).attr("xlink:href",l)})).on("mouseout",(function(){r.select(this).attr("xlink:href",s)})).on("click",(function(){var t=[];t.push(d.properties.showHeader_SankeyGraph),t.push(d.properties.fontFamily_Header_SankeyGraph),t.push(d.properties.fontSize_Header_SankeyGraph),t.push(d.properties.ChartExpo_UIFabricHelper_fontStyle_Header_SankeyGraph),t.push(d.properties.fontWeight_Header_SankeyGraph),t.push(d.properties.headerNames_SankeyGraph),t.push(d.properties.headerNamesPosition_SankeyGraph),t.push(d.properties.fontColor_Header_LevelText_SankeyGraph),t.push(d.properties.backgroundColor_Header_SankeyGraph),t.push(d.properties.borderColor_Header_SankeyGraph),t.push(d.properties.headerChartGap_Header_SankeyGraph);var n={};n.x=r.event.pageX,n.y=r.event.pageY,n.dataPointType="header",n.componentType="chart",n.dataPointName=e.name,o.onEdit(t,n)})).append("title").text(ChartEditIconHoverToolTipTextObject[selectedChart].header))}))},this.getGeneralProperties_forAddon=function(){var e=[];e.push(d.properties.isMissingData_SankeyGraph),e.push(d.properties.isNumberFormat_SankeyGraph),e.push(d.properties.enableFormatType_SankeyGraph),e.push(d.properties.numberSeparator_SankeyGraph),e.push(d.properties.percentageSeparator_SankeyGraph);return[e,{dataPointType:"general",componentType:"chart"}]},this.getSortIcon=function(e){if("default"===d.properties.sortByChart_Sankey.value&&"default"===d.properties.sortByLevel_Sankey.value)return u;if("default"!=d.properties.sortByChart_Sankey.value){var t=d.properties.sortByChart_Sankey.value.split(",");return"default"!=d.properties.sortByLevel_Sankey.value&&d.properties.sortByLevel_Sankey.value.indexOf(e+":")>=0?je(d,e):"asc"==t[1]?c:h}return"default"!=d.properties.sortByLevel_Sankey.value?je(d,e):u},this.addSortIconLevelWise=function(){},this.getChartGeneralProperties=function(){var e=[];return e.push(d.properties.marginTop),e.push(d.properties.marginLeft),e.push(d.properties.marginBottom),e.push(d.properties.marginRight),e.push(d.properties.paddingTop),e.push(d.properties.paddingLeft),e.push(d.properties.paddingBottom),e.push(d.properties.paddingRight),e.push(d.properties.borderColor_Border_Sankey),e.push(d.properties.borderWidth_Border_Sankey),e.push(d.properties.borderStyle_Border_Sankey),e.push(d.properties.borderRadius_Border_Sankey),e.push(d.properties.backgroundColor_Border_Sankey),e},this.setProperties_for_viewChartInEditMode=function(){if(o.settings.editMode){for(var e="",t=1;t<=A;t++)e+="[Level"+t+"],";e=e.slice(0,-1),""!=d.properties.headerNames_SankeyGraph.value&&"/"!=d.properties.headerNames_SankeyGraph.value||(d.properties.headerNames_SankeyGraph.value=e)}},this.generateNodeColorOverride=function(){ee={};var e=d.properties.colorOverride_Sankey.value;if(null!=e&&""!=e&&"/"!=e)for(var t=e.split(",").reverse(),n=0;n<t.length;n++){var r=t[n].split(":");let e=0;3==r.length?(overrideNode=r[1],overideColor=r[2],e=r[0]):2==r.length&&(overrideNode=r[0].replace(/,/g,"|").replace(/:/g,"|"),overideColor=r[1],e=r[0].substring(r[0].lastIndexOf("_")+1));var i=d.data.nodes.filter((function(t){return t.name.replace(/,/g,"|").replace(/:/g,"|").toLowerCase()==overrideNode.toLowerCase()&&t.nodeLevel==parseInt(e)+1}));i.length>0&&(ee[i[0].name]=overideColor)}},this.generateNodeOpacityOverride=function(){te={};var e=d.properties.colorOverride_Sankey.value;if(null!=e&&""!=e&&"/"!=e)for(var t=e.split(",").reverse(),n=0;n<t.length;n++){var r=t[n].split(":");let e=0;3==r.length?(overrideNode=r[1],overideColor=r[2],e=r[0]):2==r.length&&(overrideNode=r[0].replace(/,/g,"|").replace(/:/g,"|"),overideColor=r[1],e=r[0].substring(r[0].lastIndexOf("_")+1));var i=d.data.nodes.filter((function(t){return t.name.replace(/,/g,"|").replace(/:/g,"|").toLowerCase()==overrideNode.toLowerCase()&&t.nodeLevel==parseInt(e)+1}));i.length>0&&(te[i[0].name]=d.properties.OpacityMin_SankeyGraph.value)}},this.getShowLevelWisePercentageState=function(e){for(var t=d.properties.ShowPercentageLevelWise_Sankey.value.split(","),n=0;n<t.length;n++)if(t[n].split(":")[0]==e)return"true"==t[n].split(":")[1];return d.properties.ShowPercentageLevelWise_Sankey.value.toLowerCase().indexOf("chart:true")>=0||""==d.properties.ShowPercentageLevelWise_Sankey.value||"/"==d.properties.ShowPercentageLevelWise_Sankey.value||!(d.properties.ShowPercentageLevelWise_Sankey.value.toLowerCase().indexOf("chart:false")>=0)},this.getDecimalPointNumber=function(e){return"/"!=e&&"-1"!=e?+e:"-1"==e?2:void 0},this.applyPrecisionOnNumber=function(e,t,n,r){r=r||!1,e=+e;var i=d.getDecimalPointNumber(t);return 0==e?e:Math.abs(e)>0&&Math.abs(e)<1&&0==+e.toFixed(i)?Se(e):Math.abs(e)>=1e3&&null!=n?n(e,r):e.toFixed(i)},this.applySeparatorBasedNumberFormat=function(e,t){return t=t||"",(e=+e)>0&&e<1&&0==+e.toFixed(2)?Se(e):e<1e3?e:r.format("0,000")(e).replace(/,/g,t)},this.getShowLevelWiseStatsState=function(e){for(var t=d.properties.ShowNumberLevelWise_Sankey.value.split(","),n=0;n<t.length;n++)if(t[n].split(":")[0]==e)return"true"==t[n].split(":")[1];return d.properties.ShowNumberLevelWise_Sankey.value.toLowerCase().indexOf("chart:true")>=0||""==d.properties.ShowNumberLevelWise_Sankey.value||"/"==d.properties.ShowNumberLevelWise_Sankey.value||!(d.properties.ShowNumberLevelWise_Sankey.value.toLowerCase().indexOf("chart:false")>=0)},this.getOrientationLevelWise=function(e){for(var t=d.properties.orientationLabelOverride_SankeyGraph.value.split(";"),n=0;n<t.length;n++)if(t[n].split(":")[0]==e)return t[n].split(":")[1];if(""==d.properties.orientationLabelOverride_SankeyGraph.value||-1==d.properties.orientationLabelOverride_SankeyGraph.value.indexOf("Chart:"))return"Right";if(d.properties.orientationLabelOverride_SankeyGraph.value.indexOf("Chart:")>=0){var r=d.properties.orientationLabelOverride_SankeyGraph.value.split(";");for(n=0;n<r.length;n++){var i=r[n].split(":");if("Chart"==i[0])return i[1]}}return"Right"},this.getFirstLevelLabelOrientation=function(){isFirstLevelLabelOrientationLeft=!1;for(var e=d.properties.orientationLabelOverride_SankeyGraph.value.split(";"),t=0;t<e.length;t++)if("1"==e[t].split(":")[0])return"Left"==e[t].split(":")[1]?void(isFirstLevelLabelOrientationLeft=!0):void(isFirstLevelLabelOrientationLeft=!1);if(""!=d.properties.orientationLabelOverride_SankeyGraph.value&&-1!=d.properties.orientationLabelOverride_SankeyGraph.value.indexOf("Chart:")){if(d.properties.orientationLabelOverride_SankeyGraph.value.indexOf("Chart:")>=0){var n=d.properties.orientationLabelOverride_SankeyGraph.value.split(";");for(t=0;t<n.length;t++){var r=n[t].split(":");if("Chart"==r[0]){if("Left"==r[1]){isFirstLevelLabelOrientationLeft=!0;break}}else isFirstLevelLabelOrientationLeft=!1}}}else isFirstLevelLabelOrientationLeft=!1},this.getLastLevelLabelOrientation=function(){isLastLevelLabelOrientationRight=!1;for(var e=d.properties.orientationLabelOverride_SankeyGraph.value.split(";"),t=0;t<e.length;t++)if(e[t].split(":")[0]==A)return"Right"==e[t].split(":")[1]?void(isLastLevelLabelOrientationRight=!0):void(isLastLevelLabelOrientationRight=!1);if(""!=d.properties.orientationLabelOverride_SankeyGraph.value&&-1!=d.properties.orientationLabelOverride_SankeyGraph.value.indexOf("Chart:")){if(d.properties.orientationLabelOverride_SankeyGraph.value.indexOf("Chart:")>=0){var n=d.properties.orientationLabelOverride_SankeyGraph.value.split(";");for(t=0;t<n.length;t++){var r=n[t].split(":");if("Chart"==r[0]){if("Right"==r[1]){isLastLevelLabelOrientationRight=!0;break}}else isLastLevelLabelOrientationRight=!1}}}else isLastLevelLabelOrientationRight=!0},this.calulateLabelOrietation=function(){d.svg.selectAll(".nodeMoveAble").each((function(e){if(void 0!==e){var t="",n=d.properties.orientationLabelOverride_SankeyGraph.value,r=e.nodeLevel;-1==n.indexOf(r)&&(n.length>0&&(t+=","),t+="level"+r+":Right"),n+=t,d.properties.orientationLabelOverride_SankeyGraph.value=n,t="",n=d.properties.orientationLabelScopeOverride_SankeyGraph.value,r=e.nodeLevel,-1==n.indexOf(r)&&(n.length>0&&(t+=","),t+="level"+r+":Chart"),n+=t,d.properties.orientationLabelScopeOverride_SankeyGraph.value=n}}))},this.getShowLevelWiseNodeLevel=function(e){for(var t=d.properties.showLabel_SankeyGraph.value.split(","),n=0;n<t.length;n++)if(t[n].split(":")[0]==e)return"true"==t[n].split(":")[1];return d.properties.showLabel_SankeyGraph.value.toLowerCase().indexOf("chart:true")>=0||""==d.properties.showLabel_SankeyGraph.value||"/"==d.properties.showLabel_SankeyGraph.value||!(d.properties.showLabel_SankeyGraph.value.toLowerCase().indexOf("chart:false")>=0)},this.getPercentNodeValue=function(e,t){var n=t.nodeLevel;if(1==n){var i=le.filter((function(e){return e.nodeName==t.name}));i.length>0&&(e=r.sum(i,(function(e){return e.value})),t.value=e)}return 0==+e.toFixed(5)?0:e/(ce[n]-0)},this.generateNodeLinkSortOverride=function(){te={};var e=d.properties.colorOverride_Sankey.value;if(null!=e&&""!=e&&"/"!=e)for(var t=e.split(",").reverse(),n=0;n<t.length;n++){var r=t[n].split(":");overrideNode=r[0],overideColor=r[1];var i=d.data.nodes.filter((function(e){return e.name.toLowerCase()==overrideNode.toLowerCase()}));i.length>0&&(te[i[0].name]=d.properties.OpacityMin_SankeyGraph.value)}},this.setDefaultsOnNewChart=function(e,t){"headerNames"==e?d.properties.headerNames_SankeyGraph.value=t:"showHeader"==e?d.properties.showHeader_SankeyGraph.value=t:"fontWeight_Header"==e&&d.properties.fontWeight_Header_SankeyGraph.value(t,!0)},this.nodeDoubleClick=function(e){var t=[],n=e.targetLinks.map((function(n,r){var i="Link"+n.tIndex+"("+Math.ceil(n.value)+")",a=n.newRightPath.join("_")+"("+Math.ceil(n.value)+")",o=oe[n.nodeName]+" >> "+oe[e.name]+" ("+Math.ceil(n.value)+")";return t.push({name:a,displayName:i,tooltip:o}),a}));d.properties.nodeIncomingLinksSortOverrideInformation_Sankey.value=JSON.stringify(t),t=[];var i,a=e.sourceLinks.map((function(e,n){var r=e.newRightPath.indexOf(e.nodeName),i="Link"+e.sIndex+"("+Math.ceil(e.value)+")",a=e.newRightPath.join("_")+"("+Math.ceil(e.value)+")",o=oe[e.nodeName]+" >> "+oe[e.newRightPath[r+1]]+" ("+Math.ceil(e.value)+")";return t.push({name:a,displayName:i,tooltip:o}),a}));d.properties.nodeOutgoingLinksSortOverrideInformation_Sankey.value=JSON.stringify(t),""==d.properties.nodeIncomingLinksSortOverride_Sankey.value||"/"==d.properties.nodeIncomingLinksSortOverride_Sankey.value||"{}"==d.properties.nodeIncomingLinksSortOverride_Sankey.value?((i={})[e.name+"_"+e.nodeLevel]=n,d.properties.nodeIncomingLinksSortOverride_Sankey.value=JSON.stringify(i)):((i=JSON.parse(d.properties.nodeIncomingLinksSortOverride_Sankey.value))[e.name+"_"+e.nodeLevel]=n,d.properties.nodeIncomingLinksSortOverride_Sankey.value=JSON.stringify(i)),""==d.properties.nodeOutgoingLinksSortOverride_Sankey.value||"/"==d.properties.nodeOutgoingLinksSortOverride_Sankey.value||"{}"==d.properties.nodeOutgoingLinksSortOverride_Sankey.value?((i={})[e.name+"_"+e.nodeLevel]=a,d.properties.nodeOutgoingLinksSortOverride_Sankey.value=JSON.stringify(i)):((i=JSON.parse(d.properties.nodeOutgoingLinksSortOverride_Sankey.value))[e.name+"_"+e.nodeLevel]=a,d.properties.nodeOutgoingLinksSortOverride_Sankey.value=JSON.stringify(i));var s=[];s.push(d.properties.nodeIncomingLinksSortOverride_Sankey),s.push(d.properties.nodeOutgoingLinksSortOverride_Sankey),s.push(d.properties.nodeIncomingLinksSortOverrideInformation_Sankey),s.push(d.properties.nodeOutgoingLinksSortOverrideInformation_Sankey);var l={};l.x=r.event.pageX,l.y=r.event.pageY,l.dataPointType="sortByNodeIncomingOutgoingLinks",l.componentType="chart",l.dataPointName=e.name,l.dataPointLevel=e.nodeLevel,l.isLastLevel=e.nodeLevel==A,l.dataPointNodeID=e.nodeId,o.onEdit(s,l,r.event)},this.generateLevelWiseSum=function(){ce={};for(var e=f.nodes(),t=1;t<=A;t++){var n=e.filter((function(e){return e.nodeLevel==t})),i=r.sum(n,(function(e){return+e.value}));ce[t]=i}},this.nodeInfoCallback=function(e,t){var n=e.for_powerBI;n.htmlNodeElement=t,o.nodeInfoCallback(n,r.event)},this.generateValueBaseLinkColor=function(){pe={},de=[],""!=d.properties.valueBaseColorLink_SankeyGraph.value&&"/"!=d.properties.valueBaseColorLink_SankeyGraph.value&&"{}"!=d.properties.valueBaseColorLink_SankeyGraph.value&&(de=JSON.parse(d.properties.valueBaseColorLink_SankeyGraph.value)),de.forEach((function(e){pe[e[0]]=[e[1],e[2]]}))},this.isAllLinksValBaseColor=function(e){var t=!1;if(de.length>0){var n=!1,r=!1,i=[];"All incoming Links"==d.properties.whenToApplyColorOnNode_SankeyGraph.value?(e.targetLinks.length>0&&(n=e.targetLinks.every((function(e){return i.push(e.value),pe.hasOwnProperty(e.value)}))),(t=n)&&(fe=d.getValueBaseNodeColor(i))):"All outgoing Links"==d.properties.whenToApplyColorOnNode_SankeyGraph.value?(e.sourceLinks.length>0&&(r=e.sourceLinks.every((function(e){return i.push(e.value),pe.hasOwnProperty(e.value)}))),(t=r)&&(fe=d.getValueBaseNodeColor(i))):"Both"==d.properties.whenToApplyColorOnNode_SankeyGraph.value&&(e.targetLinks.length>0&&(n=e.targetLinks.every((function(e){return i.push(e.value),pe.hasOwnProperty(e.value)}))),e.sourceLinks.length>0&&(r=e.sourceLinks.every((function(e){return i.push(e.value),pe.hasOwnProperty(e.value)}))),(t=n&&r)&&(fe=d.getValueBaseNodeColor(i)))}return t},this.getValueBaseNodeColor=function(e){for(var t=e,n=pe,i={},a=[],o=0;o<t.length;o++)void 0===i[s=n[t[o]]]?i[s]=[t[o]]:i[s].push(t[o]);for(var s in i)a.push([s,r.sum(i[s])]);return a.sort((function(e,t){return t[1]-e[1]})),a[0][0]}},this.ChartExpo.Widgets.Components.SankeyGraphAdvanceComponent.prototype=new this.ChartExpo.Widgets.Components.ChartComponentBaseClass,this.ChartExpo.Widgets.Components.SankeyGraphAdvanceComponent.prototype.constructor=this.ChartExpo.Widgets.Components.SankeyGraphAdvanceComponent,this.ChartExpo.Widgets.SankeyGraphAdvance=function(e,t,n,i){var a=this,s=e;stickyTooltip=!1,this.settings=e;var l=JSON.parse(JSON.stringify(e.height));JSON.parse(JSON.stringify(e.width)),a.settings.actualHeight=e.height,a.settings.actualWidth=e.width;var u,c,h,x=e.dimensions||[];function w(e){return"#"+e}return this._allProperties=[],this.drillData=[],this._passedProperties=t,this.dataPointSelectionSupport=!1,this.orientataionSupport=!1,this.data=e.data,this.getChartProperties=function(){return u.properties},this.init=function(){u=new this.Components.SankeyGraphAdvanceComponent(this,s,n,i),new this.Components.ChartLableComponent(this,s,"Left"),c=new this.Components.ChartLableComponent(this,s,"Bottom"),h=new this.Components.ChartLableComponent(this,s,"Top"),c.parentDelegate=this.broadCastEventToBase,h.parentDelegate=this.broadCastEventToBase,a.getProperties(),a[p]=u.attributes,a.sectionsDetail={settings:s,plotArea:{show:!0,height:0,width:0},verticalPager:{show:!1,height:0,width:0},horizontalPager:{show:!1,height:0,width:0},legend:{show:!1,height:0,width:0,dock:"bottom"},chartLableLeft:{show:!1,height:0,width:0},chartLableBottom:{show:!1,height:0,width:0},chartLableTop:{show:!1,height:0,width:0,showOnNDF:!1},showHeader:!1},a.generateAssociativeProps(),a.setDefaultsOnNewChart(),a.initializeSectionsDetail(a.sectionsDetail),a.setPaddingOnRenderToDiv(a,a.sectionsDetail,u.getProperties(!0).marginTop.value,u.getProperties(!0).marginRight.value,u.getProperties(!0).marginBottom.value,u.getProperties(!0).marginLeft.value,2*+u.getProperties(!0).borderWidth_Border_Sankey.value.split("px")[0]),a.createSections(a.sectionsDetail),a.customizeProperties(),a.draw(t,n)},this.createLableDiv=function(e){r.select("#"+e.settings.renderTo+v+"_LableDiv").remove(),r.select(w(e.settings.renderTo)).append("div").style("clear","both").attr("id",e.settings.renderTo+v+"_LableDiv").style("width",e.settings.width+"px").style("height","35px").style("margin-top","-10px").style("overflow","auto").style("display","inline-block").style("float","left")},this.broadCastEventToBase=function(e,t,n){a.initializeSectionsDetail(a.sectionsDetail),a.parentDelegate(e,t,n,a)},this.getProperties=function(e){if(void 0===e||!1===e)return a._allProperties.splice(0,a._allProperties.length),a._allProperties.push(u.getProperties()),a._allProperties.push(h.getProperties()),a._allProperties.push(c.getProperties()),a._allProperties;for(var t=[],n=u.getNewProperties(),r=0;r<n.length;r++)t.push(n[r]);return t.push(h.getNewProperties()[0]),t.push(c.getNewProperties()[0]),t},this.setDefaultsOnNewChart=function(){null!=a.data&&null!=a.data&&0!=a.data.length&&(null==t&&(u.setDefaultsOnNewChart("headerNames",x.join()),u.setDefaultsOnNewChart("showHeader","true"),u.setDefaultsOnNewChart("fontWeight_Header","bold")),""!=u.getProperties(!0).customData.value&&"/"!=u.getProperties(!0).customData.value||u.setDefaultsOnNewChart("headerNames",x.join()),a.setPropsDefaultsOnNewChart())},this.initializeSectionsDetail=function(e){e.chartLableTop.show=null!=a[d]&&"true"==a[d].labelShow.value,e.chartLableTop.showOnNDF=null!=a[d]&&"true"==a[d].labelShowOnNDF.value,e.chartLableBottom.show=null!=a[f]&&"true"==a[f].labelShow.value,null!=e.settings&&null!=e.settings.editMode&&e.settings.editMode&&(e.chartLableTop.show=!0,e.chartLableBottom.show=!0),e.chartLableBottom.show&&(e.chartLableBottom.height=c.calculateLabelSpace()),e.chartLableTop.show&&(e.chartLableTop.height=h.calculateLabelSpace())},this.setComponentsSize=function(){var e=this;e.sectionsDetail.chartLableBottom.show&&(c.getProperties(!0).renderTo.value=w(s.renderTo+k),c.getProperties(!0).height_ChartLable.value=e.sectionsDetail.chartLableBottom.height.toString(),c.getProperties(!0).width_ChartLable.value=e.sectionsDetail.chartLableBottom.width.toString(),c.getProperties(!0).orientation_ChartLable.value=I),e.sectionsDetail.chartLableTop.show&&(h.getProperties(!0).renderTo.value=w(s.renderTo+S),h.getProperties(!0).height_ChartLable.value=e.sectionsDetail.chartLableTop.height.toString(),h.getProperties(!0).width_ChartLable.value=e.sectionsDetail.chartLableTop.width.toString(),h.getProperties(!0).orientation_ChartLable.value=I),u.getProperties(!0).renderTo.value=w(s.renderTo+v),u.getProperties(!0).height_SankeyGraph.value=e.sectionsDetail.plotArea.height.toString(),u.getProperties(!0).width_SankeyGraph.value=e.sectionsDetail.plotArea.width.toString()},this.generateAssociativeProps=function(){a[d]=h.attributes,a[f]=c.attributes,a[p]=u.attributes},this.draw=function(e,t){var n=this;n.removeToolTipOnDraw(),null==a.settings.data||null==a.settings.data||a.settings.data.length<=0?a.sectionsDetail.chartLableTop.showOnNDF?(a.sectionsDetail.chartLableLeft.show=!1,a.sectionsDetail.chartLableBottom.show=!1,a.sectionsDetail.verticalPager.show=!1,a.sectionsDetail.horizontalPager.show=!1,a.sectionsDetail.legend.show=!1,a.sectionsDetail.chartLableTop.show&&(n.setComponentsSize(),h.draw()),n.noDataFoundPlotArea(this,u.drilledObject,"SankeyChart")):n.noDataFound(this,u.drilledObject,"SankeyChart"):(a.setComponentsSize(),u.formatData(),a.sectionsDetail.chartLableBottom.show&&c.draw(),a.sectionsDetail.chartLableTop.show&&h.draw(),a.sectionsDetail.showHeader&&a.createLableDiv(this.sectionsDetail),u._settings.width=n.sectionsDetail.plotArea.width,u._settings.height=n.sectionsDetail.plotArea.height,u.draw(e,t),a.svg=u.svg)},this.setDrillLevel=function(e){},this.getDrillLevel=function(){},this.drillCallBack=function(t,n,r,i){t.removeToolTipOnDraw(),null!=i&&null!=a.settings.backButtonDataCallBack&&"true"==a.settings.backButtonDataCallBack?(t.drillData=[],t.drillTooltipData=[],t.drillData=i.drilledData,t.drillTooltipData=i.tooltipData):null!=n&&n&&"true"!=a.settings.backButtonDataCallBack&&(t.drillData.push(t.data),t.drillTooltipData.push(JSON.stringify(e.tooltipData))),e.data=r,t.data=r,t.sectionsDetail.showHeader&&(t.sectionsDetail.settings.height=l-35),t.createSections(t.sectionsDetail),t.sectionsDetail.showHeader&&t.createLableDiv(t.sectionsDetail),t.draw()},this.reDraw=function(t){null!=t&&(e.data=t,a.data=t,a.setComponentsDataSource(a)),a.createSections(a.sectionsDetail),a.draw()},this.setComponentsDataSource=function(e){u.data=e.data},this.onContextMenu=function(e,t){},this.send=function(e,t,n){for(var r=this,i=0;i<r.components.length;i++)if(r.components[i].name==e){r.components[i].instance.receive(e,t,n);break}},this.onDragNode=function(e){},this.receive=function(e,t,n){this[n]()},this.onDrilling=function(e){},this.onSmartLinking=function(e){},this.getGeneralProperties_forAddon=function(){return u.getGeneralProperties_forAddon()},this.getBounds=function(){return u.getBounds()},this.customizeProperties=function(){c.getProperties(!0).alignAxis_Label.expose=!1,h.getProperties(!0).alignAxis_Label.expose=!1},this.onEdit=function(e,t){},this.nodeInfoCallback=function(){},this.setPropsDefaultsOnNewChart=function(){var e=x;0==x.length&&(e=["[Level1]","[Level2]","[Level3]","[Level4]","[Level5]","[Level6]","[Level7]","[Level8]"]);var t=u.getProperties(!0);t.headerNames_SankeyGraph.defaults=e.join(),t.showHeader_SankeyGraph.defaults="true",t.fontWeight_Header_SankeyGraph.defaults="bold"},s=e,a=this,this.dataPointLocation=new Array,this.brush=null,this.data=null,this.svg=null,this.margin=null,this.horizontalPager=!0,this.verticalPager=!1,this.sectionsDetail=null,this.backButtonGenerated=!1,this.tooltipData=null==s?"":s.tooltipData,this.setProperties=function(e){this.properties=e},this.getProperties=function(){},this.generateProperties=function(){},this.getPaddingPropOfDiv=function(e){var t={top:0,right:0,bottom:0,left:0};return t.top=r.select("#"+e).style("padding-top").split("px")[0],t.right=r.select("#"+e).style("padding-right").split("px")[0],t.bottom=r.select("#"+e).style("padding-bottom").split("px")[0],t.right=r.select("#"+e).style("padding-left").split("px")[0],t},this.setPaddingOnRenderToDiv=function(e,t,n,i,a,o,s){s=s||0,r.select("#"+t.settings.renderTo).style("padding-top",+n+"px").style("padding-bottom",+a+"px").style("padding-left",+o+"px").style("padding-right",+i+"px");var l=+n+ +a,u=+i+ +o;r.select("#"+e.sectionsDetail.settings.renderTo).attr("_height",e.sectionsDetail.settings.actualHeight).attr("_width",e.sectionsDetail.settings.actualWidth),r.select("#"+e.sectionsDetail.settings.renderTo).style("height",e.sectionsDetail.settings.actualHeight-l+"px"),r.select("#"+e.sectionsDetail.settings.renderTo).style("width",e.sectionsDetail.settings.actualWidth-u+"px"),e.sectionsDetail.settings.actualHeight=e.sectionsDetail.settings.height,e.sectionsDetail.settings.actualWidth=e.sectionsDetail.settings.width,e.sectionsDetail.settings.height=e.sectionsDetail.settings.actualHeight-l-s,e.sectionsDetail.settings.width=e.sectionsDetail.settings.actualWidth-u-s},this.createSections=function(e,t){if(this.getProperties(),this.resetChart(),r.select(w(e.settings.renderTo)).append("div").style("clear","both").attr("id",e.settings.renderTo+y).style("width",e.settings.width+"px").style("height",+e.settings.height+"px").style("overflow","hidden").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+S).style("clear","both"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div0").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_legendDivTop").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_chartTileComponentDivTop").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div2").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div3").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_legendDivLeft").style("clear","both").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_chartFilterComDivTop").style("float","left").style("overflow","hidden").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+g).style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).select(w(e.settings.renderTo+g)).append("div").attr("id",e.settings.renderTo+"_chartLableDivLeft").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).select(w(e.settings.renderTo+g)).append("div").attr("id",e.settings.renderTo+b).style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).select(w(e.settings.renderTo+b)).append("div").attr("id",e.settings.renderTo+v).style("float","left").style("overflow","hidden").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).select(w(e.settings.renderTo+b)).append("div").attr("id",e.settings.renderTo+"_chartFilterComDivBottom").style("float","left").style("overflow","hidden").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).select(w(e.settings.renderTo+b)).append("div").attr("id",e.settings.renderTo+k).style("clear","both"),r.select(w(e.settings.renderTo+y)).select(w(e.settings.renderTo+g)).append("div").attr("id",e.settings.renderTo+"_chartLableDivRight").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_pagerDivVertical").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_legendDivRight").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div6").style("clear","both").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_pagerDivHorizontal").style("float","left").style("display","inline-block"),r.select("#"+e.settings.renderTo+y).append("div").attr("id",e.settings.renderTo+"div8").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div9").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div10").style("clear","both").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"_chartTileComponentDivBottom").style("display","inline-block").style("float","left"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+m).style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div11").style("float","left").style("display","inline-block"),r.select(w(e.settings.renderTo+y)).append("div").attr("id",e.settings.renderTo+"div12").style("float","left").style("display","inline-block"),null!=e||null!=e){var n=e.settings.height,i=e.settings.width;if(null!=e.verticalPager&&e.verticalPager.show&&(e.verticalPager.width=36,i-=41,e.verticalPager.height=e.settings.height),null!=e.horizontalPager&&e.horizontalPager.show&&(e.horizontalPager.width=e.settings.width,e.horizontalPager.height=36,n-=41),null!=e.legend&&e.legend.show&&("left"==e.legend.dock||"right"==e.legend.dock?(e.legend.width=+e.legend.width,i-=+e.legend.width+2,e.legend.height=+e.settings.height):(e.legend.width=e.settings.width,e.legend.height=e.legend.height>0?e.legend.height:40,n-=e.legend.height>0?e.legend.height:40)),null!=e.tileComponent&&e.tileComponent.show&&(e.legend.width=e.tileComponent.width>0?e.tileComponent.width:e.settings.width,e.tileComponent.height=e.tileComponent.height>0?e.tileComponent.height:40,n-=e.tileComponent.height>0?e.tileComponent.height:40),null!=e.chartLableTop&&e.chartLableTop.show){e.chartLableTop.width=e.settings.width-5;var a=0!=e.chartLableTop.height?e.chartLableTop.height:20;e.chartLableTop.height=a,n-=a,r.select(w(e.settings.renderTo+S)).style("width",e.chartLableTop.width+"px")}if(null!=e.chartLableLeft&&e.chartLableLeft.show){var o=0!=e.chartLableLeft.width?e.chartLableLeft.width:20;e.chartLableLeft.width=o,e.chartLableLeft.height=n,i-=o}if(null!=e.chartLableRight&&e.chartLableRight.show&&(o=0!=e.chartLableRight.width?e.chartLableRight.width:20,e.chartLableRight.width=o,e.chartLableRight.height=n,i-=o),null!=e.chartLableBottom&&e.chartLableBottom.show){e.chartLableBottom.width=i-10-5;var s=0!=e.chartLableBottom.height?e.chartLableBottom.height:20;e.chartLableBottom.height=s,n-=s}null!=e.chartDataFilterTop&&e.chartDataFilterTop.show&&(e.chartDataFilterTop.width=e.settings.width-5,e.chartDataFilterTop.height=20,n-=20),null!=e.chartDataFilterBottom&&e.chartDataFilterBottom.show&&(e.chartDataFilterBottom.width=e.settings.width-5,e.chartDataFilterBottom.height=20,n-=20),e.plotArea.width=i,e.plotArea.height=n,e.verticalPager.show&&(e.verticalPager.height=n),e.horizontalPager.show&&(e.horizontalPager.width=i),e.legend.show&&("left"==e.legend.dock||"right"==e.legend.dock?e.legend.height=n:e.legend.width=i)}r.select("#"+e.settings.renderTo+v).style("height",n+"px")},this.reInit=function(e){null==e?r.select(this.properties.renderTo).html(""):r.select(e).html("")},this.trimText=function(e,t){if(t>0&&e.length>t)return e.substring(0,t)+"...";if(t>0)for(var n=0;n<e.length-t;n++)e+=".";return e},this.parentDelegate=function(e,t,n,i){var a;(a=null!=n._group&&null!=n._group.componentType?n._group.componentType:n.group)==ChartExpo.Widgets.Properties.GroupNames.Legend?"show"==n.name&&"false"==n._value?i.sectionsDetail.legend.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.legend.show=!0):a==ChartExpo.Widgets.Properties.GroupNames.DataPager?"horizontal"==n.observers.observerList[0].orient?"show"==n.name&&"false"==n._value?(i.sectionsDetail.horizontalPager.show=!1,r.select(w(i.sectionsDetail.settings.renderTo+m)).style("padding-top","1px")):"show"==n.name&&"true"==n._value&&(i.sectionsDetail.horizontalPager.show=!0):"vertical"==n.observers.observerList[0].orient&&("show"==n.name&&"false"==n._value?i.sectionsDetail.verticalPager.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.verticalPager.show=!0)):a==ChartExpo.Widgets.Properties.GroupNames.Pager?"horizontal"==n.observers.observerList[0].orient?("show"==n.name&&"false"==n._value?(i.sectionsDetail.horizontalPager.show=!1,r.select(w(i.sectionsDetail.settings.renderTo+m)).style("padding-top","1px")):"show"==n.name&&"true"==n._value&&(i.sectionsDetail.horizontalPager.show=!0),null!=i.sectionsDetail.horizontalPager.percentageBased&&"measuretypes"==n.name&&(n._value==ChartExpo.Widgets.MeasureFilters.PercentageBased?i.sectionsDetail.horizontalPager.percentageBased=!0:i.sectionsDetail.horizontalPager.percentageBased=!1)):"vertical"==n.observers.observerList[0].orient&&("show"==n.name&&"false"==n._value?i.sectionsDetail.verticalPager.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.verticalPager.show=!0)):a==ChartExpo.Widgets.Properties.GroupNames.ChartLable||a==A?"Top"==n.observers.observerList[0].orientation?"show"==n.name&&"false"==n._value?i.sectionsDetail.chartLableTop.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.chartLableTop.show=!0):"Left"==n.observers.observerList[0].orientation?"show"==n.name&&"false"==n._value?i.sectionsDetail.chartLableLeft.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.chartLableLeft.show=!0):"Bottom"==n.observers.observerList[0].orientation?"show"==n.name&&"false"==n._value?i.sectionsDetail.chartLableBottom.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.chartLableBottom.show=!0):"Right"==n.observers.observerList[0].orientation&&("show"==n.name&&"false"==n._value?i.sectionsDetail.chartLableRight.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.chartLableRight.show=!0)):a==ChartExpo.Widgets.Properties.GroupNames.DataFilter&&("Top"==n.observers.observerList[0].orientation?"show"==n.name&&"false"==n._value?i.sectionsDetail.chartDataFilterTop.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.chartDataFilterTop.show=!0):"Bottom"==n.observers.observerList[0].orientation&&("show"==n.name&&"false"==n._value?i.sectionsDetail.chartDataFilterBottom.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.chartDataFilterBottom.show=!0))),"dock"==n.name&&a==ChartExpo.Widgets.Properties.GroupNames.Legend?"right"==n._value?i.sectionsDetail.legend.dock="right":"left"==n._value?i.sectionsDetail.legend.dock="left":"top"==n._value?i.sectionsDetail.legend.dock="top":"bottom"==n._value&&(i.sectionsDetail.legend.dock="bottom"):a==ChartExpo.Widgets.Properties.GroupNames.Tile&&("dock"==n.name&&"top"==n._value?i.sectionsDetail.tileComponent.dock="top":"dock"==n.name&&"bottom"==n._value?i.sectionsDetail.tileComponent.dock="bottom":"show"==n.name&&"false"==n._value?i.sectionsDetail.tileComponent.show=!1:"show"==n.name&&"true"==n._value&&(i.sectionsDetail.tileComponent.show=!0)),"Orientation"==n.title&&("horizontal"==n._value?(i.sectionsDetail.legend.show&&(i.sectionsDetail.legend.show=!0),i.sectionsDetail.verticalPager.show&&(i.sectionsDetail.verticalPager.show=!1,i.sectionsDetail.horizontalPager.show=!0),i.sectionsDetail.legend.dock="bottom"):"vertical"==n._value&&(i.sectionsDetail.legend.show&&(i.sectionsDetail.legend.show=!0),i.sectionsDetail.horizontalPager.show&&(i.sectionsDetail.verticalPager.show=!0,i.sectionsDetail.horizontalPager.show=!1),i.sectionsDetail.legend.dock="right")),document.getElementById(i.sectionsDetail.settings.renderTo.replace("#","")).innerHTML="",i.createSections(i.sectionsDetail),i.draw()},this.resize=function(e,t){var n=this;stickyTooltip=!1,n.removeToolTipOnDraw(),n.sectionsDetail.settings.height=e,n.sectionsDetail.settings.width=t,n.sectionsDetail.settings.actualHeight=e,n.sectionsDetail.settings.actualWidth=t,n.destroy();var r=n.getPaddingPropOfDiv(n.sectionsDetail.settings.renderTo);n.setPaddingOnRenderToDiv(n,n.sectionsDetail,r.top,r.right,r.bottom,r.left),n.createSections(n.sectionsDetail),n.draw()},this.resizeOnMarginApplying=function(e,t){var n=this;n.sectionsDetail.settings.height=e,n.sectionsDetail.settings.width=t,n.destroy(),n.createSections(n.sectionsDetail),n.draw()},this.destroy=function(){r.select(w(this.sectionsDetail.settings.renderTo)).selectAll("svg").remove(),r.select(w(this.sectionsDetail.settings.renderTo)).html("")},this.onDrill=function(e,t,n){},this.onFetchNewData=function(e,t,n,r,i,a,o,s,l){},this.onBackLinkClicked=function(e){},this.onMultiPointSelection=function(e){null!=e.selected?alert(JSON.stringify(e.selectedDataPoints)+"\n\n"+e.customInformation+"\n\n"+e.selected):alert(JSON.stringify(e.selectedDataPoints)+"\n\n"+e.customInformation)},this.resetChart=function(){this.destroy()},this.correctDataSurveryCharts=function(e,t){var n=new Array;if(null!=e&&e.length>0&&null!=e[0].subCategory){if(t==ChartExpo.UIFabricHelper.WidgetType.likertSummaryChart)n=["1","2","3","4","5"];else if(t==ChartExpo.UIFabricHelper.WidgetType.scoreViz)for(var r=0;r<e.length;r++)for(var i=0;i<e[r].subCategory.length;i++)-1==this.customIndexOf(n,e[r].subCategory[i].name)&&n.push(e[r].subCategory[i].name);else t==ChartExpo.UIFabricHelper.WidgetType.scoreSummaryChart&&(n=["detractors","promoters"]);new Object;var a=0,o=new Object;for(r=0;r<e.length;r++){for(var s=0;s<n.length;s++){var l=!1;for(i=0;i<e[r].subCategory.length;i++)if(e[r].subCategory[i].name==n[s]){e[r].subCategory[i],l=!0;break}if(0==l){var u={name:n[s],val:0,val1:0,toolTip:"default tooltip",drill:!1};0!=a?e[r].subCategory.splice(this.customIndexOfSubCat(o.subCategory,u.name),0,u):e[r].subCategory.splice(s,0,u)}}0==r&&(o=e[r],a=1)}return e}return e},this.correctData=function(e,t,n){var r=this,i=[],a=[],o=[],s=[];if(null!=e&&e.length>0&&null!=e[0].subCategory){for(var l=0;l<e.length;l++)for(var u=0;u<e[l].subCategory.length;u++)if(e[l].subCategory[u].parent=e[l].category,-1==r.customIndexOf(i,e[l].subCategory[u].name)&&(i.push(e[l].subCategory[u].name),null!=e[l].subCategory[u].customBinding&&a.push(e[l].subCategory[u].customBinding)),null!=n&&n)for(var c=0;c<e[l].subCategory[u].subCategory.length;c++)-1==r.customIndexOf(o,e[l].subCategory[u].subCategory[c].name)&&(o.push(e[l].subCategory[u].subCategory[c].name),null!=e[l].subCategory[u].subCategory[c].customBinding&&s.push(e[l].subCategory[u].subCategory[c].customBinding));var h=0,p={};for(l=0;l<e.length;l++){for(c=0;c<i.length;c++){var d=!1;for(u=0;u<e[l].subCategory.length;u++)if(e[l].subCategory[u].name==i[c]){e[l].subCategory[u],d=!0;break}if(0==d&&null==n){var f={name:i[c],val:0,stackId:0,val1:0,toolTip:"default tooltip",drill:!1,autoCompleted:!0,customBinding:a[c]};0!=h?e[l].subCategory.splice(r.customIndexOfSubCat(p.subCategory,f.name),0,f):e[l].subCategory.push(f)}else if(0==d&&null!=n&&n){f={name:i[c],parent:e[l].category,subCategory:[],customBinding:a[c]};for(var g=0;g<o.length;g++){var v={name:o[g],val:0,stackId:0,val1:0,toolTip:"default tooltip",drill:!1,customBinding:s[g]};f.subCategory.push(v)}0!=h?e[l].subCategory.splice(r.customIndexOfSubCat(p.subCategory,f.name),0,f):e[l].subCategory.push(f)}if(null!=n&&n&&d)for(g=0;g<e[l].subCategory.length;g++){for(var y=0;y<o.length;y++){for(var m=!1,b=0;b<e[l].subCategory[g].subCategory.length;b++)if(e[l].subCategory[g].subCategory[b].name==o[y]){m=!0;break}0==m&&(v={name:o[y],val:0,val1:0,toolTip:"default tooltip",drill:!1,stackId:0,customBinding:s[y]},e[l].subCategory[g].subCategory.push(v))}r.sortStringData(e[l].subCategory[g].subCategory)}}0==l&&(p=e[l],h=1),null!=t&&null!=t&&0!=t||r.sortStringData(e[l].subCategory)}return null!=t&&null!=t&&0!=t||r.sortStringDataCat(e),e}return e},this.correctDataForBarStackedComparison=function(e,t){var n=this,r=[],i=[],a=[];if(null!=e&&e.length>0&&null!=e[0].subCategory){for(var o=0;o<e.length;o++)for(var s=0;s<e[o].subCategory.length;s++)if(e[o].subCategory[s].parent=e[o].category,-1==n.customIndexOf(r,e[o].subCategory[s].name)&&r.push(e[o].subCategory[s].name),null!=t&&t)for(var l=0;l<e[o].subCategory[s].subCategory.length;l++)-1==n.customIndexOf(i,e[o].subCategory[s].subCategory[l].name)&&i.push(e[o].subCategory[s].subCategory[l].name),-1==n.getSubSubCategoryGroupIndex(a,e[o].subCategory[s].name,e[o].subCategory[s].subCategory[l].name)&&a.push({groupName:e[o].subCategory[s].name,subSubCatName:e[o].subCategory[s].subCategory[l].name});for(o=0;o<e.length;o++)for(l=0;l<r.length;l++){var u=r[l],c=!1;for(s=0;s<e[o].subCategory.length;s++)if(e[o].subCategory[s].name==r[l]){e[o].subCategory[s],c=!0;break}if(0==c&&null==t){var h={name:r[l],val:0,stackId:0,val1:0,toolTip:"default tooltip",drill:!1};e[o].subCategory.push(h)}else if(0==c&&null!=t&&t){h={name:r[l],parent:e[o].category,subCategory:[]};for(var p=0;p<i.length;p++)if(n.getSubSubCategoryGroup(a,i[p],u)==u){var d={name:i[p],val:0,stackId:0,val1:0,toolTip:"default tooltip",drill:!1};h.subCategory.push(d)}e[o].subCategory.push(h)}}return n.sortBarStackedComparisonSubCategories(e,r)}return e},this.getSubSubCategoryGroup=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r].subSubCatName==t&&e[r].groupName==n)return e[r].groupName;return""},this.getSubSubCategoryGroupIndex=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r].subSubCatName==n&&e[r].groupName==t)return r;return-1},this.sortBarStackedComparisonSubCategories=function(e,t){for(var n=0;n<e.length;n++){for(var r=[],i=0;i<t.length;i++)for(var a=0;a<e[n].subCategory.length;a++)if(e[n].subCategory[a].name.toLowerCase()==t[i].toLowerCase()){r.push(e[n].subCategory[a]);break}e[n].subCategory=r}return e},this.getSubCategoryIndexInData=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r].subCategory.length==t)for(var i=0;i<e[r].subCategory.length;i++)if(e[r].subCategory[i].name==n)return i;return 0},this.correctDataLineComparisonChart=function(e,t){if(null!=e&&e.length>0){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<e[r].subCategory.length;i++)-1==this.customIndexOf(n,e[r].subCategory[i].name)&&n.push(e[r].subCategory[i].name);if(null!=t&&n.length<2)for(var a=0;a<t.length;a++)-1==this.customIndexOf(n,t[a])&&n.push(t[a]);for(r=0;r<e.length;r++)for(a=0;a<n.length;a++){var o=!1;for(i=0;i<e[r].subCategory.length;i++)if(n[a]==e[r].subCategory[i].name){o=!0;break}if(0==o){var s={name:n[a],val:0,val1:0,val2:0,subCategory:[],toolTip:"default tooltip",drill:!1};e[r].subCategory.push(s)}}for(r=0;r<e.length;r++){var l=e[r].category;for(i=0;i<e[r].subCategory.length;i++){var u=e[r].subCategory[i].name;for(a=0;a<e[r].subCategory[i].subCategory.length;a++)e[r].subCategory[i].subCategory[a].lable=e[r].subCategory[i].subCategory[a].name,e[r].subCategory[i].subCategory[a].parentCategory=l,e[r].subCategory[i].subCategory[a].series=u}}}return e},this.correctDataExactlyTwoSubCategories=function(e,t){if(null!=e&&e.length>0){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<e[r].subCategory.length;i++)-1==this.customIndexOf(n,e[r].subCategory[i].name)&&n.push(e[r].subCategory[i].name);if(null!=t&&n.length<2)for(var a=0;a<t.length;a++)-1==this.customIndexOf(n,t[a])&&n.length<2&&n.push(t[a]);for(r=0;r<e.length;r++)for(a=0;a<n.length;a++){var o=!1;for(i=0;i<e[r].subCategory.length;i++)if(n[a]==e[r].subCategory[i].name){o=!0;break}if(0==o){var s={name:n[a],val:0,val1:0,val2:0,subCategory:[],toolTip:"default tooltip",drill:!1};e[r].subCategory.push(s)}}}return e},this.sortStringDataCat=function(e){e.sort((function(e,t){var n=e.category.toLowerCase(),r=t.category.toLowerCase();return n>r?-1:n<r?1:0}))},this.sortStringData=function(e){e.sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n>r?-1:n<r?1:0}))},this.customIndexOf=function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r]==t){n=r;break}return n},this.customIndexOfSubCat=function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].name==t){n=r;break}return n},this.validateData=function(e,t){var n=this;return null==t||null==t?e==ChartExpo.Widgets.DataType.Hierarchical?null!=n.data&&null!=n.data&&n.data.length>0&&null!=n.data[0].subCategory:null!=n.data&&null!=n.data&&n.data.length>0:e==ChartExpo.Widgets.DataType.Hierarchical?null!=t&&null!=t&&t.length>0&&null!=t[0].subCategory:null!=t&&null!=t&&t.length>0},this.noDataFound=function(e,t,n,i,a){var s,l,u,c=this;null==a||null==a?(s="none",l="none",u="none"):(s=a.bGColor,l=a.borderWidth+" "+a.borderStyle+" "+a.borderColor,u=a.borderRadius);var h=r.select(w(e.sectionsDetail.settings.renderTo+y));if(h.selectAll(".divNoData").remove(),null!=e.drillData&&e.drillData.length>0&&h.append("svg").style("height","120px").append("path").attr("d","M10,0L5,5 10,10M5,5L20,5").attr("transform","translate(15,15)").attr("class","backArrow").style("fill","none").style("stroke","blue").style("stroke-width","3px").style("cursor","pointer").style("opacity","0.4").on("click",(function(){c.backButtonHandler(e,t)})).append("title").text("Back"),null!=n&&"BidChart"==n){var p=h.append("div").attr("class","divNoData").style("margin","auto").style("display","inline-block").style("height",e.sectionsDetail.plotArea.height+"px").style("width",e.sectionsDetail.plotArea.width+"px");p.append("div").style("float","left").style("text-align","center").style("background-color","#C8DAF2").style("height","100%").style("width","33%"),p.append("div").style("float","left").style("text-align","center").style("background-color","#A2C3E4").style("height","100%").style("width","33%"),p.append("div").style("float","left").style("text-align","center").style("background-color","#82B5E2").style("height","100%").style("width","33%"),p.append("div").style("position","absolute").style("text-align","center").style("background-color","transparent").style("height",e.sectionsDetail.plotArea.height+"px").style("width",e.sectionsDetail.plotArea.width+"px").style("opacity","1").append("p").style("height",e.sectionsDetail.plotArea.height+"px").style("display","table-cell").style("vertical-align","middle").style("width",e.sectionsDetail.plotArea.width+"px").style("font-family","Calibri").style("font-style","normal").style("font-size","14px").style("display","table-cell").style("color","#000000").html(o)}else"false"==i&&"LineComparisonChart"==n&&(o=""),r.select(w(e.sectionsDetail.settings.renderTo)).style("height").split("px")[0],h.append("div").attr("class","divNoData").style("margin","auto").style("height",e.sectionsDetail.plotArea.height+"px").style("width",e.sectionsDetail.plotArea.width+"px").style("text-align","center").style("display","table-cell").style("vertical-align","middle").style("border",l).style("background-color",s).style("border-radius",u),h.select(".divNoData").html(getNDFChartSVG(n)),h.select(".divNoData").select("svg").attr("width",50).attr("height",50),h.select(".divNoData").append("p").style("margin","0px").style("padding","0px").append("h1").text(o).style("margin","0px").style("padding","0px").style("font-family","Calibri").style("font-size","14px").style("color","#cccccc"),null!=e.drillData&&e.drillData.length>0&&h.selectAll(".divNoData").style("height",.4*e.sectionsDetail.plotArea.height+"px")},this.noDataFoundPlotArea=function(e,t,n,i,a){var s,l,u,c=this;null==a||null==a?(s="none",l="none",u="none"):(s=a.bGColor,l=a.borderWidth+" "+a.borderStyle+" "+a.borderColor,u=a.borderRadius);var h=r.select(w(e.sectionsDetail.settings.renderTo+v));null!=e.drillData&&e.drillData.length>0&&h.append("svg").style("height","120px").append("path").attr("d","M10,0L5,5 10,10M5,5L20,5").attr("transform","translate(15,15)").attr("class","backArrow").style("fill","none").style("stroke","blue").style("stroke-width","3px").style("cursor","pointer").style("opacity","0.4").on("click",(function(){c.backButtonHandler(e,t)})).append("title").text("Back"),"false"==i&&"LineComparisonChart"==n&&(o=""),r.select(w(e.sectionsDetail.settings.renderTo)).style("height").split("px")[0],h.append("div").attr("class","divNoData").style("margin","auto").style("height",e.sectionsDetail.plotArea.height+"px").style("width",e.sectionsDetail.plotArea.width+"px").style("text-align","center").style("display","table-cell").style("vertical-align","middle").style("border",l).style("background-color",s).style("border-radius",u),h.select(".divNoData").html(getNDFChartSVG(n)),h.select(".divNoData").select("svg").attr("width",50).attr("height",50);var p=15;if(h.select(".divNoData").append("p").style("margin","0px").style("padding","0px").append("h1").text(o).style("margin","0px").style("padding","0px").style("font-family","Calibri").style("font-size","14px").style("color","#cccccc").style("opacity",(function(){return null!=this.offsetHeight&&(p=this.offsetHeight),1})),e.sectionsDetail.plotArea.height<70){var d=e.sectionsDetail.plotArea.height-(p+3),f=r.scale.linear().domain([0,55]).range([0,d])(d);h.select(".divNoData").select("svg").attr("width",50).attr("height",f)}null!=e.drillData&&e.drillData.length>0&&h.selectAll(".divNoData").style("height",.4*e.sectionsDetail.plotArea.height+"px")},this.backButtonHandler=function(e,t){null!=e.settings.backButtonDataCallBack&&"true"==e.settings.backButtonDataCallBack?e.onBackLinkClicked(t):e.drillData.length>0&&(e.data=e.drillData.pop(),e.settings.tooltipData=e.drillTooltipData.pop(),e.setComponentsDataSource(e),e.draw(),null!=t&&(t.dataPoint=null,t.level=t.level-1),e.onBackLinkClicked(t))},this.getAccrossCatDataOfSubCat=function(e,t,n){for(var r=new Array,i=0;i<e.length;i++)r.push({name:e[i].category,val:e[i].subCategory[n].val,toolTip:e[i].subCategory[n].toolTip,drill:e[i].subCategory[n].drill});return r},this.formatData=function(e){for(var t=new Array,n=0;n<e[0].subCategory.length;n++){var r=this.getAccrossCatDataOfSubCat(e,e[0].subCategory[n].name,n),i={category:e[0].subCategory[n].name,subCategory:r};t.push(i)}return t},this.getFormattedValue=function(e){return u.getFormattedValue(e)},this.register=function(e){var t=this;null!=t.components&&null!=t.components||(t.components=[]),t.components.push(e),e.instance.mediator=this},this.send=function(e,t,n){for(var r=this,i=0;i<r.components.length;i++)if(r.components[i].name==e){r.components[i].instance.receive(e,t,n);break}},this.onDataPointClick=function(e,t,n){},this.initializeSectionsDetailsNew=function(e,t){if(null!=t&&null!=t&&""!=t){var n="";t.forEach((function(t){null!=t&&(t.name==M?(n=a.getProperty(t,"show","show"),e.chartLableTop.show="true"==n._value):t.name==E?(n=a.getProperty(t,"show","show"),e.chartLableLeft.show="true"==n._value):t.name==O?(n=a.getProperty(t,"show","show"),e.chartLableBottom.show="true"==n._value):"datapagerveritcal"==t.name?(n=a.getProperty(t,"show","show"),e.verticalPager.show="true"==n._value):"datapagerhorizontal"==t.name?(n=a.getProperty(t,"show","show"),e.horizontalPager.show="true"==n._value):"legend"==t.name&&(n=a.getProperty(t,"show","show"),e.legend.show="true"==n._value,n=a.getProperty(t,"dock","dock"),e.legend.dock=n._value))}))}null!=e.settings.editMode&&e.settings.editMode&&(e.chartLableTop.show=!0,e.chartLableLeft.show=!0,e.chartLableBottom.show=!0,e.chartLableRight.show=!0)},this.getProperty=function(e,t,n){for(var r=0,i=e.childGroups.length;r<i;r++)for(var a=e.childGroups[r],o=0,s=a.properties.length;o<s;o++){var l=a.properties[o];if(l.name.toLowerCase()===t&&l.title.toLowerCase()===n)return l}return""},this.getSettings=function(){return this.settings},this.setSettings=function(e){this.settings=e},this.removeToolTipOnDraw=function(){stickyTooltip||(r.select("#pvToolTip").classed("pvToolTip",!1).classed("hidden",!0),r.select("#dvTTC").remove())},this.linkingTipCallback=function(e){},this.drillTipCallBack=function(e){},this.getSelectorsObj=function(){return{}},this.setDefaultSortColumnName=function(e,t){},this.onEdit=function(e,t){},this.saveAs=function(e,t){var n=this.getSettings().renderTo;UrlExists(getExportPath()+"widgets.css")&&UrlExists(getExportPath()+"Rasterize.min.js")&&UrlExists(getExportPath()+"canvas-toBlob.js")&&UrlExists(getExportPath()+"FileSaver.js")&&UrlExists(getExportPath()+"pdfmake.min.js")&&UrlExists(getExportPath()+"vfs_fonts.js")?exportObj.exportChart(this,e,t,n):alert("Export functionality files are missing at given path. Please place reference files")},this.getGeneralProperties_forAddon=function(){return[]},this.getGeneralProperties_forAddon=function(){return[]},this.getProperties_forYAxisLeft_forAddon=function(){return[]},this.getProperties_forYAxisRight_forAddon=function(){return[]},this.getProperties_forXAxisBottom_forAddon=function(){return[]},this.getProperties_forXAxisTop_forAddon=function(){return[]},this.syncChartState=function(){},this.init(),this},this.ChartExpo.Widgets.SankeyGraphAdvance.prototype=new this.ChartExpo.Widgets.BaseClass,this.ChartExpo.Widgets.SankeyGraphAdvance.prototype.constructor=this.ChartExpo.Widgets.SankeyGraphAdvance},5354:function(){this.T={};var e="wGTiSUSAX3NmSUFUTnNvdmdo[[*]]06042021",t="https://chartexpo.com/ChartExpoForPowerBI/",n=t+"Home/GetPowerBIUserPackageDetail?",r=t+"Home/ActivateTrial?",i=t+"Home/UpdateNoOfUsedKeys";function a(e){for(var t=0;t<e.length;t++)null==e[t]&&(e[t]="");return e}function o(e){var t=e.replace(/[^0-9.,-]/g,""),n=t.replace(/[^0-9.,]/g,"");if(t.length>0&&"-"==t[0]&&!0,0==n.length)return 0;for(;"."==n[n.length-1];)n=n.substring(0,n.length-2);for(;"."==n[0];)n=n.substring(1);for(var r=[],i=[],a=0;a<n.length;a++)","==n[a]&&i.push(a),"."==n[a]&&r.push(a);var o=n;if(i.length>0&&0==r.length){if(i.length>1){var s=/[^0-9]/g;o=n.replace(s,"")}else if(1==i.length){n.length;var l=n.length-+i[0],u=n.length-+i[0];o=l<4||l>4||4==l&&u<4?n.replace(",","."):n.replace(",","")}}else if(0==i.length&&r.length>0)r.length>1?(s=/[^0-9]/g,o=n.replace(s,"")):1==r.length&&(n.length,l=n.length-+r[0],u=n.length-+r[0],l<4||l>4||(o=4==l&&u<4?n.replace(".",""):n.replace(".",".")));else if(i.length>0&&r.length>0){var c;if("."==(c=+i[i.length-1]>+r[r.length-1]?n[+i[i.length-1]]:n[+r[r.length-1]])){var h=/[^0-9.]/g;o=n.replace(h,"")}else","==c&&(h=/[^0-9,]/g,o=(o=n.replace(h,"")).replace(",","."))}return isNaN(o)?0:o}this.T.SankeyGraph=function(e,t,n,r,i,s,l){return e.type=127,e.lib="D3",function(e,t,n,r,i){!function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=n.length,i=0;i<1;i++){var a=r-(i+1),s=n[a];null!=s&&(s=(s=s.toString()).trim()),s=null==s||null==s||""==s?"0":"true"==s.toLowerCase()?"1":"false"==s.toLowerCase()?"0":o(s),n[a]=s}}(e.data);var s=function(e){var t=function(e){var t=0;function n(e){e.forEach((function(e){if(!e.hasOwnProperty("val"))if(e.subCategory[0].hasOwnProperty("val")){for(var t=0,r=0;r<e.subCategory.length;r++)t+=+e.subCategory[r].val;e.val=t}else n(e.subCategory)}))}!function e(n){n.forEach((function(n){Array.isArray(n.subCategory)&&(t++,e(n.subCategory))}))}(e);for(var r=t;r>1;r--)n(e);return e}(function(e){var t=[];function n(e,t){if(e.name===t.name&&Array.isArray(t.subCategory))return t.subCategory.forEach((function(r){e.subCategory.some((function(e){return n(e,r)}))||(e.subCategory=e.subCategory.concat(t.subCategory))})),!0}for(var r=function(e){for(var t={},n=[],r=0;r<e.length;r++)e[r].index=r,t[e[r].name]=e[r];for(var i in t)n.push(t[i]);return n}(e),i=0;i<r.length;i++){var a=JSON.parse(JSON.stringify(e));a.splice(r[i].index,1);var o=r[i];a.forEach((function(e,t){var r=a[t];n(o,r)})),t.push(o)}return t}(function(e){var t=[];function n(e){if(e.length<=2)return{name:e[0],lable:e[0],category:e[0],subCategory:null,val:+e[1]};var t=e.shift();return{name:t,category:t,subCategory:[n(e)]}}return e.forEach((function(e,r){t.push(n(e))})),t}(JSON.parse(JSON.stringify(function(e){for(var t=JSON.parse(JSON.stringify(e)),n=[],r=0;r<t.length;r++){var i=t[r];if(i=a(i),0!=r){if(2==t[r].length){for(var o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()){n[s][1]=+n[s][1]+ +i[1],o=!0;break}o||n.push(i)}else if(3==t[r].length){for(o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()&&i[1].toString().toLowerCase()==n[s][1].toString().toLowerCase()){n[s][2]=+n[s][2]+ +i[2],o=!0;break}o||n.push(i)}else if(4==t[r].length){for(o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()&&i[1].toString().toLowerCase()==n[s][1].toString().toLowerCase()&&i[2].toString().toLowerCase()==n[s][2].toString().toLowerCase()){n[s][3]=+n[s][3]+ +i[3],o=!0;break}o||n.push(i)}else if(5==t[r].length){for(o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()&&i[1].toString().toLowerCase()==n[s][1].toString().toLowerCase()&&i[2].toString().toLowerCase()==n[s][2].toString().toLowerCase()&&i[3].toString().toLowerCase()==n[s][3].toString().toLowerCase()){n[s][4]=+n[s][4]+ +i[4],o=!0;break}o||n.push(i)}else if(6==t[r].length){for(o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()&&i[1].toString().toLowerCase()==n[s][1].toString().toLowerCase()&&i[2].toString().toLowerCase()==n[s][2].toString().toLowerCase()&&i[3].toString().toLowerCase()==n[s][3].toString().toLowerCase()&&i[4].toString().toLowerCase()==n[s][4].toString().toLowerCase()){n[s][5]=+n[s][5]+ +i[5],o=!0;break}o||n.push(i)}else if(7==t[r].length){for(o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()&&i[1].toString().toLowerCase()==n[s][1].toString().toLowerCase()&&i[2].toString().toLowerCase()==n[s][2].toString().toLowerCase()&&i[3].toString().toLowerCase()==n[s][3].toString().toLowerCase()&&i[4].toString().toLowerCase()==n[s][4].toString().toLowerCase()&&i[5].toString().toLowerCase()==n[s][5].toString().toLowerCase()){n[s][6]=+n[s][6]+ +i[6],o=!0;break}o||n.push(i)}else if(8==t[r].length){for(o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()&&i[1].toString().toLowerCase()==n[s][1].toString().toLowerCase()&&i[2].toString().toLowerCase()==n[s][2].toString().toLowerCase()&&i[3].toString().toLowerCase()==n[s][3].toString().toLowerCase()&&i[4].toString().toLowerCase()==n[s][4].toString().toLowerCase()&&i[5].toString().toLowerCase()==n[s][5].toString().toLowerCase()&&i[6].toString().toLowerCase()==n[s][6].toString().toLowerCase()){n[s][7]=+n[s][7]+ +i[7],o=!0;break}o||n.push(i)}else if(9==t[r].length){for(o=!1,s=0;s<n.length;s++)if(i[0].toString().toLowerCase()==n[s][0].toString().toLowerCase()&&i[1].toString().toLowerCase()==n[s][1].toString().toLowerCase()&&i[2].toString().toLowerCase()==n[s][2].toString().toLowerCase()&&i[3].toString().toLowerCase()==n[s][3].toString().toLowerCase()&&i[4].toString().toLowerCase()==n[s][4].toString().toLowerCase()&&i[5].toString().toLowerCase()==n[s][5].toString().toLowerCase()&&i[6].toString().toLowerCase()==n[s][6].toString().toLowerCase()&&i[7].toString().toLowerCase()==n[s][7].toString().toLowerCase()){n[s][8]=+n[s][8]+ +i[8],o=!0;break}o||n.push(i)}}else n.push(i)}return n}(e))))));return t}(e.data);return e.data=s,n.ChartExpo.Widgets.SankeyGraphAdvance(e,t,r,i)}(e,t,n,l,i)},this.T.getUserPackageDetail=function(t,r,i,a,o,s,l){var u="";u=""==r?"key":"key="+r,""==i?u+="&email":u=u+"&email="+i,l.ajax({url:n+u+"&token="+e,type:"GET",dataType:"json",success:function(e){o(t,r,e,a)},error:function(e,n,r){null!=s&&s(r,t)}})},this.T.saveUserDetail=function(t,n,i,a,o,s){s.ajax({url:r+"token="+e+"&Email="+n.Email+"&Name="+n.Name,type:"GET",dataType:"json",success:function(e){a(t,e,i)},error:function(e,n,r){null!=o&&o(r,t)}})},this.T.updateNoOfUsedLicenses=function(t,n){n.ajax({url:i+"?token="+e+"&NonAdminKey="+t,type:"GET",dataType:"json",success:function(e){console.log("ChartExpo.updateNoOfUsedLicenses SUCCESS")},error:function(e,t,n){console.log("ChartExpo.updateNoOfUsedLicenses FAILURE")}})}},1926:(e,t,n)=>{n(2526),n(2443),n(1817),n(2401),n(8722),n(2165),n(9007),n(6066),n(3510),n(1840),n(6982),n(2159),n(6649),n(9341),n(543),n(9601),n(8011),n(9070),n(3321),n(9720),n(3371),n(8559),n(8880),n(9337),n(6210),n(489),n(3304),n(1825),n(8410),n(2200),n(7941),n(7227),n(514),n(8304),n(6833),n(1539),n(9595),n(5500),n(4869),n(3952),n(4812),n(8309),n(4855),n(1038),n(9753),n(6572),n(2222),n(545),n(6541),n(3290),n(7327),n(9826),n(4553),n(4944),n(6535),n(9554),n(6699),n(2772),n(9600),n(4986),n(1249),n(5827),n(6644),n(5069),n(7042),n(5212),n(2707),n(561),n(8706),n(3792),n(9244),n(6992),n(4953),n(8992),n(9841),n(7852),n(2023),n(4723),n(6373),n(6528),n(3112),n(2481),n(5306),n(4765),n(3123),n(6755),n(3210),n(5674),n(8702),n(8783),n(5218),n(4475),n(7929),n(915),n(9253),n(2125),n(8830),n(8734),n(9254),n(7268),n(7397),n(86),n(623),n(4603),n(4916),n(2087),n(9714),n(1058),n(4678),n(9653),n(3299),n(5192),n(3161),n(4048),n(8285),n(4363),n(5994),n(1874),n(9494),n(6977),n(5147),n(9752),n(2376),n(3181),n(3484),n(2388),n(8621),n(403),n(4755),n(5438),n(332),n(658),n(197),n(4914),n(2420),n(160),n(970),n(2703),n(3689),n(3843),n(5735),n(5268),n(3710),n(6078),n(3706),n(8674),n(7922),n(7727),n(1532),n(189),n(4129),n(8478),n(8264),n(6938),n(9575),n(6716),n(7145),n(2472),n(9743),n(5109),n(8255),n(5125),n(9135),n(4197),n(6495),n(8145),n(5206),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(224),n(2419),n(9596),n(2586),n(4819),n(5683),n(9361),n(1037),n(5898),n(7556),n(4361),n(3593),n(9532),e.exports=n(857)},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,n)=>{var r=n(5112),i=n(30),a=n(5185),o=r("unscopables"),s=Array.prototype;null==s[o]&&a(s,o,i(null)),e.exports=function(e){s[o][e]=!0}},1530:(e,t,n)=>{"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},260:(e,t,n)=>{"use strict";var r,i=n(9781),a=n(7854),o=n(111),s=n(6656),l=n(648),u=n(5185),c=n(1320),h=n(3070).f,p=n(9518),d=n(7674),f=n(5112),g=n(9711),v=a.DataView,y=v&&v.prototype,m=a.Int8Array,b=m&&m.prototype,x=a.Uint8ClampedArray,S=x&&x.prototype,k=m&&p(m),w=b&&p(b),L=Object.prototype,C=L.isPrototypeOf,_=f("toStringTag"),P=g("TYPED_ARRAY_TAG"),N=!(!a.ArrayBuffer||!v),T=N&&!!d&&"Opera"!==l(a.opera),D=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O=function(e){return o(e)&&s(M,l(e))};for(r in M)a[r]||(T=!1);if((!T||"function"!=typeof k||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},T))for(r in M)a[r]&&d(a[r],k);if((!T||!w||w===L)&&(w=k.prototype,T))for(r in M)a[r]&&d(a[r].prototype,w);if(T&&p(S)!==w&&d(S,w),i&&!s(w,_))for(r in D=!0,h(w,_,{get:function(){return o(this)?this[P]:void 0}}),M)a[r]&&u(a[r],P,r);N&&d&&p(y)!==L&&d(y,L),e.exports={NATIVE_ARRAY_BUFFER:N,NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:D&&P,aTypedArray:function(e){if(O(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(d){if(C.call(k,e))return e}else for(var t in M)if(s(M,r)){var n=a[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportProto:function(e,t,n){if(i){if(n)for(var r in M){var o=a[r];o&&s(o.prototype,e)&&delete o.prototype[e]}w[e]&&!n||c(w,e,n?t:T&&b[e]||t)}},exportStatic:function(e,t,n){var r,o;if(i){if(d){if(n)for(r in M)(o=a[r])&&s(o,e)&&delete o[e];if(k[e]&&!n)return;try{return c(k,e,n?t:T&&m[e]||t)}catch(e){}}for(r in M)!(o=a[r])||o[e]&&!n||c(o,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||s(M,t)},isTypedArray:O,TypedArray:k,TypedArrayPrototype:w}},3331:(e,t,n)=>{"use strict";var r=n(7854),i=n(9781),a=n(260).NATIVE_ARRAY_BUFFER,o=n(5185),s=n(2248),l=n(7293),u=n(5787),c=n(9958),h=n(7466),p=n(7067),d=n(8006).f,f=n(3070).f,g=n(1285),v=n(8003),y=n(9909),m=y.get,b=y.set,x="ArrayBuffer",S="DataView",k="prototype",w="Wrong index",L=r[x],C=L,_=r[S],P=r.Math,N=r.RangeError,T=1/0,D=P.abs,M=P.pow,O=P.floor,E=P.log,A=P.LN2,I=function(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,l=(1<<s)-1,u=l>>1,c=23===t?M(2,-24)-M(2,-77):0,h=e<0||0===e&&1/e<0?1:0,p=0;for((e=D(e))!=e||e===T?(i=e!=e?1:0,r=l):(r=O(E(e)/A),e*(a=M(2,-r))<1&&(r--,a*=2),(e+=r+u>=1?c/a:c*M(2,1-u))*a>=2&&(r++,a/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(e*a-1)*M(2,t),r+=u):(i=e*M(2,u-1)*M(2,t),r=0));t>=8;o[p++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[p++]=255&r,r/=256,s-=8);return o[--p]|=128*h,o},F=function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,o=a>>1,s=i-7,l=r-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===c)c=1-o;else{if(c===a)return n?NaN:u?-1/0:T;n+=M(2,t),c-=o}return(u?-1:1)*n*M(2,c-t)},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return[255&e]},j=function(e){return[255&e,e>>8&255]},R=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},H=function(e){return I(e,23,4)},W=function(e){return I(e,52,8)},V=function(e,t){f(e[k],t,{get:function(){return m(this)[t]}})},z=function(e,t,n,r){var i=p(+n),a=m(e);if(i+t>a.byteLength)throw N(w);var o=m(a.buffer).bytes,s=i+a.byteOffset,l=o.slice(s,s+t);return r?l:l.reverse()},U=function(e,t,n,r,i,a){var o=p(+n),s=m(e);if(o+t>s.byteLength)throw N(w);for(var l=m(s.buffer).bytes,u=o+s.byteOffset,c=r(+i),h=0;h<t;h++)l[u+h]=c[a?h:t-h-1]};if(a){if(!l((function(){L(1)}))||!l((function(){new L(-1)}))||l((function(){return new L,new L(1.5),new L(NaN),L.name!=x}))){for(var q,Z=(C=function(e){return u(this,C),new L(p(e))})[k]=L[k],Y=d(L),J=0;Y.length>J;)(q=Y[J++])in C||o(C,q,L[q]);Z.constructor=C}var X=new _(new C(2)),K=_[k].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(_[k],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else C=function(e){u(this,C,x);var t=p(e);b(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},_=function(e,t,n){u(this,_,S),u(e,C,S);var r=m(e).byteLength,a=c(t);if(a<0||a>r)throw N("Wrong offset");if(a+(n=void 0===n?r-a:h(n))>r)throw N("Wrong length");b(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(V(C,"byteLength"),V(_,"buffer"),V(_,"byteLength"),V(_,"byteOffset")),s(_[k],{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){var t=z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return F(z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return F(z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){U(this,1,e,B,t)},setUint8:function(e,t){U(this,1,e,B,t)},setInt16:function(e,t){U(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){U(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){U(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){U(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){U(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){U(this,8,e,W,t,arguments.length>2?arguments[2]:void 0)}});v(C,x),v(_,S),t[x]=C,t[S]=_},1048:(e,t,n)=>{"use strict";var r=n(7908),i=n(1400),a=n(7466),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n.length),l=i(e,s),u=i(t,s),c=arguments.length>2?arguments[2]:void 0,h=o((void 0===c?s:i(c,s))-u,s-l),p=1;for(u<l&&l<u+h&&(p=-1,u+=h-1,l+=h-1);h-- >0;)u in n?n[l]=n[u]:delete n[l],l+=p,u+=p;return n}},1285:(e,t,n)=>{"use strict";var r=n(7908),i=n(1400),a=n(7466);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},8533:(e,t,n)=>{"use strict";var r=n(2092).forEach,i=n(6637);e.exports=i("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},8457:(e,t,n)=>{"use strict";var r=n(244),i=n(7908),a=n(3411),o=n(7659),s=n(7466),l=n(6135),u=n(1246);e.exports=function(e){var t,n,c,h,p=i(e),d="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,y=0,m=u(p);if(v&&(g=r(g,f>2?arguments[2]:void 0,2)),null==m||d==Array&&o(m))for(n=new d(t=s(p.length));t>y;y++)l(n,y,v?g(p[y],y):p[y]);else for(h=m.call(p),n=new d;!(c=h.next()).done;y++)l(n,y,v?a(h,g,[c.value,y],!0):c.value);return n.length=y,n}},1318:(e,t,n)=>{var r=n(5656),i=n(7466),a=n(1400),o=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:(e,t,n)=>{var r=n(244),i=n(8361),a=n(7908),o=n(7466),s=n(5417),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,h=6==e,p=5==e||h;return function(d,f,g,v){for(var y,m,b=a(d),x=i(b),S=r(f,g,3),k=o(x.length),w=0,L=v||s,C=t?L(d,k):n?L(d,0):void 0;k>w;w++)if((p||w in x)&&(m=S(y=x[w],w,b),e))if(t)C[w]=m;else if(m)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:l.call(C,y)}else if(c)return!1;return h?-1:u||c?c:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},6583:(e,t,n)=>{"use strict";var r=n(5656),i=n(9958),a=n(7466),o=n(6637),s=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,c=o("lastIndexOf");e.exports=u||c?function(e){if(u)return l.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=s(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},1194:(e,t,n)=>{var r=n(7293),i=n(5112)("species");e.exports=function(e){return!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},3671:(e,t,n)=>{var r=n(3099),i=n(7908),a=n(8361),o=n(7466),s=function(e){return function(t,n,s,l){r(n);var u=i(t),c=a(u),h=o(u.length),p=e?h-1:0,d=e?-1:1;if(s<2)for(;;){if(p in c){l=c[p],p+=d;break}if(p+=d,e?p<0:h<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=d)p in c&&(l=n(l,c[p],p,u));return l}};e.exports={left:s(!1),right:s(!0)}},5417:(e,t,n)=>{var r=n(111),i=n(3157),a=n(5112)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},244:(e,t,n)=>{var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},3411:(e,t,n)=>{var r=n(9670);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},7072:(e,t,n)=>{var r=n(5112)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,n)=>{var r=n(4326),i=n(5112)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},5631:(e,t,n)=>{"use strict";var r=n(3070).f,i=n(30),a=n(2248),o=n(244),s=n(5787),l=n(408),u=n(654),c=n(6340),h=n(9781),p=n(2423).fastKey,d=n(9909),f=d.set,g=d.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t),f(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=r&&l(r,e[u],e,n)})),d=g(t),v=function(e,t,n){var r,i,a=d(e),o=y(e,t);return o?o.value=n:(a.last=o={index:i=p(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),h?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},y=function(e,t){var n,r=d(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(c.prototype,{clear:function(){for(var e=d(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=this,n=d(t),r=y(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),h?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=d(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),a(c.prototype,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);u(e,t,(function(e,t){f(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},9320:(e,t,n)=>{"use strict";var r=n(2248),i=n(2423).getWeakData,a=n(9670),o=n(111),s=n(5787),l=n(408),u=n(2092),c=n(6656),h=n(9909),p=h.set,d=h.getterFor,f=u.find,g=u.findIndex,v=0,y=function(e){return e.frozen||(e.frozen=new m)},m=function(){this.entries=[]},b=function(e,t){return f(e.entries,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,u){var h=e((function(e,r){s(e,h,t),p(e,{type:t,id:v++,frozen:void 0}),null!=r&&l(r,e[u],e,n)})),f=d(t),g=function(e,t,n){var r=f(e),o=i(a(t),!0);return!0===o?y(r).set(t,n):o[r.id]=n,e};return r(h.prototype,{delete:function(e){var t=f(this);if(!o(e))return!1;var n=i(e);return!0===n?y(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=f(this);if(!o(e))return!1;var n=i(e);return!0===n?y(t).has(e):n&&c(n,t.id)}}),r(h.prototype,n?{get:function(e){var t=f(this);if(o(e)){var n=i(e);return!0===n?y(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),h}}},7710:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(4705),o=n(1320),s=n(2423),l=n(408),u=n(5787),c=n(111),h=n(7293),p=n(7072),d=n(8003),f=n(9587);e.exports=function(e,t,n,g,v){var y=i[e],m=y&&y.prototype,b=y,x=g?"set":"add",S={},k=function(e){var t=m[e];o(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof y||!(v||m.forEach&&!h((function(){(new y).entries().next()})))))b=n.getConstructor(t,e,g,x),s.REQUIRED=!0;else if(a(e,!0)){var w=new b,L=w[x](v?{}:-0,1)!=w,C=h((function(){w.has(1)})),_=p((function(e){new y(e)})),P=!v&&h((function(){for(var e=new y,t=5;t--;)e[x](t,t);return!e.has(-0)}));_||((b=t((function(t,n){u(t,b,e);var r=f(new y,t,b);return null!=n&&l(n,r[x],r,g),r}))).prototype=m,m.constructor=b),(C||P)&&(k("delete"),k("has"),g&&k("get")),(P||L)&&k(x),v&&m.clear&&delete m.clear}return S[e]=b,r({global:!0,forced:b!=y},S),d(b,e),v||n.setStrong(b,e,g),b}},9920:(e,t,n)=>{var r=n(6656),i=n(3887),a=n(1236),o=n(3070);e.exports=function(e,t){for(var n=i(t),s=o.f,l=a.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},4964:(e,t,n)=>{var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:(e,t,n)=>{var r=n(4488),i=/"/g;e.exports=function(e,t,n,a){var o=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(a).replace(i,"&quot;")+'"'),s+">"+o+"</"+t+">"}},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),a=n(9114),o=n(8003),s=n(7497),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,u,!1,!0),s[u]=l,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(7593),i=n(3070),a=n(9114);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},5573:(e,t,n)=>{"use strict";var r=n(7293),i=n(6650).start,a=Math.abs,o=Date.prototype,s=o.getTime,l=o.toISOString;e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!r((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+i(a(t),r?6:4,0)+"-"+i(e.getUTCMonth()+1,2,0)+"-"+i(e.getUTCDate(),2,0)+"T"+i(e.getUTCHours(),2,0)+":"+i(e.getUTCMinutes(),2,0)+":"+i(e.getUTCSeconds(),2,0)+"."+i(n,3,0)+"Z"}:l},8709:(e,t,n)=>{"use strict";var r=n(9670),i=n(7593);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},654:(e,t,n)=>{"use strict";var r=n(2109),i=n(4994),a=n(9518),o=n(7674),s=n(8003),l=n(5185),u=n(1320),c=n(5112),h=n(1913),p=n(7497),d=n(3383),f=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,v=c("iterator"),y="keys",m="values",b="entries",x=function(){return this};e.exports=function(e,t,n,c,d,S,k){i(n,t,c);var w,L,C,_=function(e){if(e===d&&M)return M;if(!g&&e in T)return T[e];switch(e){case y:case m:case b:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",N=!1,T=e.prototype,D=T[v]||T["@@iterator"]||d&&T[d],M=!g&&D||_(d),O="Array"==t&&T.entries||D;if(O&&(w=a(O.call(new e)),f!==Object.prototype&&w.next&&(h||a(w)===f||(o?o(w,f):"function"!=typeof w[v]&&l(w,v,x)),s(w,P,!0,!0),h&&(p[P]=x))),d==m&&D&&D.name!==m&&(N=!0,M=function(){return D.call(this)}),h&&!k||T[v]===M||l(T,v,M),p[t]=M,d)if(L={values:_(m),keys:S?M:_(y),entries:_(b)},k)for(C in L)(g||N||!(C in T))&&u(T,C,L[C]);else r({target:t,proto:!0,forced:g||N},L);return L}},7235:(e,t,n)=>{var r=n(857),i=n(6656),a=n(6805),o=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},317:(e,t,n)=>{var r=n(7854),i=n(111),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,a=n(5185),o=n(1320),s=n(3505),l=n(9920),u=n(4705);e.exports=function(e,t){var n,c,h,p,d,f=e.target,g=e.global,v=e.stat;if(n=g?r:v?r[f]||s(f,{}):(r[f]||{}).prototype)for(c in t){if(p=t[c],h=e.noTargetGet?(d=i(n,c))&&d.value:n[c],!u(g?c:f+(v?".":"#")+c,e.forced)&&void 0!==h){if(typeof p==typeof h)continue;l(p,h)}(e.sham||h&&h.sham)&&a(p,"sham",!0),o(n,c,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";var r=n(5185),i=n(1320),a=n(7293),o=n(5112),s=n(2261),l=o("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var p=o(e),d=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=d&&!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!t}));if(!d||!f||"replace"===e&&!u||"split"===e&&!c){var g=/./[p],v=n(p,""[e],(function(e,t,n,r,i){return t.exec===s?d&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=v[0],m=v[1];i(String.prototype,e,y),i(RegExp.prototype,p,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)}),h&&r(RegExp.prototype[p],"sham",!0)}}},6790:(e,t,n)=>{"use strict";var r=n(3157),i=n(7466),a=n(244),o=function(e,t,n,s,l,u,c,h){for(var p,d=l,f=0,g=!!c&&a(c,h,3);f<s;){if(f in n){if(p=g?g(n[f],f,t):n[f],u>0&&r(p))d=o(e,t,p,i(p.length),d,u-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=p}d++}f++}return d};e.exports=o},1301:(e,t,n)=>{"use strict";var r=n(1913),i=n(7854),a=n(7293);e.exports=r||!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},2098:(e,t,n)=>{var r=n(7293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8711:(e,t,n)=>{var r=n(7293),i=n(1361);e.exports=function(e){return r((function(){return!!i[e]()||""!=""[e]()||i[e].name!==e}))}},6677:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},7065:(e,t,n)=>{"use strict";var r=n(3099),i=n(111),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(o.prototype=t.prototype),o}},2521:(e,t,n)=>{var r=n(2309);e.exports=r("native-function-to-string",Function.toString)},5005:(e,t,n)=>{var r=n(857),i=n(7854),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},1246:(e,t,n)=>{var r=n(648),i=n(7497),a=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},8554:(e,t,n)=>{var r=n(9670),i=n(1246);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},7854:(e,t,n)=>{var r=n(6738),i="object",a=function(e){return e&&e.Math==Math&&e};e.exports=a(typeof globalThis==i&&globalThis)||a(typeof r==i&&r)||a(typeof self==i&&self)||a(typeof n.g==i&&n.g)||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:e=>{e.exports={}},5185:(e,t,n)=>{var r=n(9781),i=n(3070),a=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),a=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7293),i=n(4326),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},9587:(e,t,n)=>{var r=n(111),i=n(7674);e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},2423:(e,t,n)=>{var r=n(3501),i=n(111),a=n(6656),o=n(3070).f,s=n(9711),l=n(6677),u=s("meta"),c=0,h=Object.isExtensible||function(){return!0},p=function(e){o(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!h(e))return"F";if(!t)return"E";p(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!h(e))return!0;if(!t)return!1;p(e)}return e[u].weakData},onFreeze:function(e){return l&&d.REQUIRED&&h(e)&&!a(e,u)&&p(e),e}};r[u]=!0},9909:(e,t,n)=>{var r,i,a,o=n(8536),s=n(7854),l=n(111),u=n(5185),c=n(6656),h=n(6200),p=n(3501),d=s.WeakMap;if(o){var f=new d,g=f.get,v=f.has,y=f.set;r=function(e,t){return y.call(f,e,t),t},i=function(e){return g.call(f,e)||{}},a=function(e){return v.call(f,e)}}else{var m=h("state");p[m]=!0,r=function(e,t){return u(e,m,t),t},i=function(e){return c(e,m)?e[m]:{}},a=function(e){return c(e,m)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var r=n(5112),i=n(7497),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:(e,t,n)=>{var r=n(7293),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8730:(e,t,n)=>{var r=n(111),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var r=n(111),i=n(4326),a=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},408:(e,t,n)=>{var r=n(9670),i=n(7659),a=n(7466),o=n(244),s=n(1246),l=n(3411),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,h){var p,d,f,g,v,y,m=o(t,n,c?2:1);if(h)p=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(f=0,g=a(e.length);g>f;f++)if((v=c?m(r(y=e[f])[0],y[1]):m(e[f]))&&v instanceof u)return v;return new u(!1)}p=d.call(e)}for(;!(y=p.next()).done;)if((v=l(p,m,y.value,c))&&v instanceof u)return v;return new u(!1)}).stop=function(e){return new u(!0,e)}},3383:(e,t,n)=>{"use strict";var r,i,a,o=n(9518),s=n(5185),l=n(6656),u=n(5112),c=n(1913),h=u("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):p=!0),null==r&&(r={}),c||l(r,h)||s(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7497:e=>{e.exports={}},6736:e=>{var t=Math.expm1,n=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:n(e)-1}:t},6130:(e,t,n)=>{var r=n(4310),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),l=a(2,127)*(2-s),u=a(2,-126);e.exports=Math.fround||function(e){var t,n,a=i(e),c=r(e);return a<u?c*(a/u/s+1/o-1/o)*u*s:(n=(t=(1+s/o)*a)-(t-a))>l||n!=n?c*(1/0):c*n}},6513:e=>{var t=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:t(1+e)}},4310:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},5948:(e,t,n)=>{var r,i,a,o,s,l,u,c,h=n(7854),p=n(1236).f,d=n(4326),f=n(261).set,g=n(227),v=h.MutationObserver||h.WebKitMutationObserver,y=h.process,m=h.Promise,b="process"==d(y),x=p(h,"queueMicrotask"),S=x&&x.value;S||(r=function(){var e,t;for(b&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},b?o=function(){y.nextTick(r)}:v&&!/(iphone|ipod|ipad).*applewebkit/i.test(g)?(s=!0,l=document.createTextNode(""),new v(r).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):m&&m.resolve?(u=m.resolve(void 0),c=u.then,o=function(){c.call(u,r)}):o=function(){f.call(h,r)}),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},3366:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},133:(e,t,n)=>{var r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},590:(e,t,n)=>{var r=n(7293),i=n(5112),a=n(1913),o=i("iterator");e.exports=!r((function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",a&&!e.toJSON||!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash}))},8536:(e,t,n)=>{var r=n(7854),i=n(2521),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i.call(a))},8523:(e,t,n)=>{"use strict";var r=n(3099),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},3929:(e,t,n)=>{var r=n(7850);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},7023:(e,t,n)=>{var r=n(7854).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},1574:(e,t,n)=>{"use strict";var r=n(9781),i=n(7293),a=n(1956),o=n(5181),s=n(5296),l=n(7908),u=n(8361),c=Object.assign;e.exports=!c||i((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||a(c({},t)).join("")!=r}))?function(e,t){for(var n=l(e),i=arguments.length,c=1,h=o.f,p=s.f;i>c;)for(var d,f=u(arguments[c++]),g=h?a(f).concat(h(f)):a(f),v=g.length,y=0;v>y;)d=g[y++],r&&!p.call(f,d)||(n[d]=f[d]);return n}:c},30:(e,t,n)=>{var r=n(9670),i=n(6048),a=n(748),o=n(3501),s=n(490),l=n(317),u=n(6200)("IE_PROTO"),c="prototype",h=function(){},p=function(){var e,t=l("iframe"),n=a.length,r="script",i="java"+r+":";for(t.style.display="none",s.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write("<"+r+">document.F=Object</"+r+">"),e.close(),p=e.F;n--;)delete p[c][a[n]];return p()};e.exports=Object.create||function(e,t){var n;return null!==e?(h[c]=r(e),n=new h,h[c]=null,n[u]=e):n=p(),void 0===t?n:i(n,t)},o[u]=!0},6048:(e,t,n)=>{var r=n(9781),i=n(3070),a=n(9670),o=n(1956);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},3070:(e,t,n)=>{var r=n(9781),i=n(4664),a=n(9670),o=n(7593),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(5296),a=n(9114),o=n(5656),s=n(7593),l=n(6656),u=n(4664),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},1156:(e,t,n)=>{var r=n(6738),i=n(5656),a=n(8006).f,o={}.toString,s="object"==typeof r&&r&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(r):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return a(e)}catch(e){return s.slice()}}(e):a(i(e))}},8006:(e,t,n)=>{var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(6656),i=n(7908),a=n(6200),o=n(8544),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},6324:(e,t,n)=>{var r=n(6656),i=n(5656),a=n(1318).indexOf,o=n(3501);e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(o,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},4699:(e,t,n)=>{var r=n(9781),i=n(1956),a=n(5656),o=n(5296).f,s=function(e){return function(t){for(var n,s=a(t),l=i(s),u=l.length,c=0,h=[];u>c;)n=l[c++],r&&!o.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}};e.exports={entries:s(!0),values:s(!1)}},288:(e,t,n)=>{"use strict";var r=n(648),i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},3887:(e,t,n)=>{var r=n(5005),i=n(8006),a=n(5181),o=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},3677:(e,t,n)=>{var r=n(7854),i=n(3111).trim,a=n(1361),o=r.parseFloat,s=1/o(a+"-0")!=-1/0;e.exports=s?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},8620:(e,t,n)=>{var r=n(7854),i=n(3111).trim,a=n(1361),o=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==o(a+"08")||22!==o(a+"0x16");e.exports=l?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},857:(e,t,n)=>{e.exports=n(7854)},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var r=n(9670),i=n(111),a=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},3611:e=>{"use strict";var t=2147483647,n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,o=String.fromCharCode,s=function(e){return e+22+75*(e<26)},l=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},u=function(e){var n=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);var r,u,c=e.length,h=128,p=0,d=72;for(r=0;r<e.length;r++)(u=e[r])<128&&n.push(o(u));var f=n.length,g=f;for(f&&n.push("-");g<c;){var v=t;for(r=0;r<e.length;r++)(u=e[r])>=h&&u<v&&(v=u);var y=g+1;if(v-h>a((t-p)/y))throw RangeError(i);for(p+=(v-h)*y,h=v,r=0;r<e.length;r++){if((u=e[r])<h&&++p>t)throw RangeError(i);if(u==h){for(var m=p,b=36;;b+=36){var x=b<=d?1:b>=d+26?26:b-d;if(m<x)break;var S=m-x,k=36-x;n.push(o(s(x+S%k))),m=a(S/k)}n.push(o(s(m))),d=l(p,y,g==f),p=0,++g}}++p,++h}return n.join("")};e.exports=function(e){var t,i,a=[],o=e.toLowerCase().replace(r,".").split(".");for(t=0;t<o.length;t++)i=o[t],a.push(n.test(i)?"xn--"+u(i):i);return a.join(".")}},2248:(e,t,n)=>{var r=n(1320);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1320:(e,t,n)=>{var r=n(7854),i=n(2309),a=n(5185),o=n(6656),s=n(3505),l=n(2521),u=n(9909),c=u.get,h=u.enforce,p=String(l).split("toString");i("inspectSource",(function(e){return l.call(e)})),(e.exports=function(e,t,n,i){var l=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||a(n,"name",t),h(n).source=p.join("string"==typeof t?t:"")),e!==r?(l?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=n:a(e,t,n)):u?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l.call(this)}))},7651:(e,t,n)=>{var r=n(4326),i=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},2261:(e,t,n)=>{"use strict";var r,i,a=n(7066),o=RegExp.prototype.exec,s=String.prototype.replace,l=o,u=(r=/a/,i=/b*/g,o.call(r,"a"),o.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(l=function(e){var t,n,r,i,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),u&&(t=l.lastIndex),r=o.call(l,e),u&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),c&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=l},7066:(e,t,n)=>{"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},3505:(e,t,n)=>{var r=n(7854),i=n(5185);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},6340:(e,t,n)=>{"use strict";var r=n(5005),i=n(3070),a=n(5112),o=n(9781),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,i=n(6656),a=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},2309:(e,t,n)=>{var r=n(7854),i=n(3505),a=n(1913),o="__core-js_shared__",s=r[o]||i(o,{});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.2.1",mode:a?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},6637:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!n||!r((function(){n.call(null,t||function(){throw 1},1)}))}},6707:(e,t,n)=>{var r=n(9670),i=n(3099),a=n(5112)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},8710:(e,t,n)=>{var r=n(9958),i=n(4488),a=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},6650:(e,t,n)=>{var r=n(7466),i=n(8415),a=n(4488),o=Math.ceil,s=function(e){return function(t,n,s){var l,u,c=String(a(t)),h=c.length,p=void 0===s?" ":String(s),d=r(n);return d<=h||""==p?c:(l=d-h,(u=i.call(p,o(l/p.length))).length>l&&(u=u.slice(0,l)),e?c+u:u+c)}};e.exports={start:s(!1),end:s(!0)}},8415:(e,t,n)=>{"use strict";var r=n(9958),i=n(4488);e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},3111:(e,t,n)=>{var r=n(4488),i="["+n(1361)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},261:(e,t,n)=>{var r,i,a,o=n(7854),s=n(7293),l=n(4326),u=n(244),c=n(490),h=n(317),p=o.location,d=o.setImmediate,f=o.clearImmediate,g=o.process,v=o.MessageChannel,y=o.Dispatch,m=0,b={},x="onreadystatechange",S=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},k=function(e){return function(){S(e)}},w=function(e){S(e.data)},L=function(e){o.postMessage(e+"",p.protocol+"//"+p.host)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++m]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(m),m},f=function(e){delete b[e]},"process"==l(g)?r=function(e){g.nextTick(k(e))}:y&&y.now?r=function(e){y.now(k(e))}:v?(a=(i=new v).port2,i.port1.onmessage=w,r=u(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(L)?r=x in h("script")?function(e){c.appendChild(h("script"))[x]=function(){c.removeChild(this),S(e)}}:function(e){setTimeout(k(e),0)}:(r=L,o.addEventListener("message",w,!1))),e.exports={set:d,clear:f}},863:(e,t,n)=>{var r=n(4326);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},1400:(e,t,n)=>{var r=n(9958),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},7067:(e,t,n)=>{var r=n(9958),i=n(7466);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var r=n(9958),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488);e.exports=function(e){return Object(r(e))}},4590:(e,t,n)=>{var r=n(9958);e.exports=function(e,t){var n=r(e);if(n<0||n%t)throw RangeError("Wrong offset");return n}},7593:(e,t,n)=>{var r=n(111);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},9843:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(9781),o=n(6500),s=n(260),l=n(3331),u=n(5787),c=n(9114),h=n(5185),p=n(7466),d=n(7067),f=n(4590),g=n(7593),v=n(6656),y=n(648),m=n(111),b=n(30),x=n(7674),S=n(8006).f,k=n(7321),w=n(2092).forEach,L=n(6340),C=n(3070),_=n(1236),P=n(9909),N=P.get,T=P.set,D=C.f,M=_.f,O=Math.round,E=i.RangeError,A=l.ArrayBuffer,I=l.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,G=s.TYPED_ARRAY_TAG,B=s.TypedArray,j=s.TypedArrayPrototype,R=s.aTypedArrayConstructor,H=s.isTypedArray,W="BYTES_PER_ELEMENT",V="Wrong length",z=function(e,t){for(var n=0,r=t.length,i=new(R(e))(r);r>n;)i[n]=t[n++];return i},U=function(e,t){D(e,t,{get:function(){return N(this)[t]}})},q=function(e){var t;return e instanceof A||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},Z=function(e,t){return H(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return Z(e,t=g(t,!0))?c(2,e[t]):M(e,t)},J=function(e,t,n){return!(Z(e,t=g(t,!0))&&m(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?D(e,t,n):(e[t]=n.value,e)};a?(F||(_.f=Y,C.f=J,U(j,"buffer"),U(j,"byteOffset"),U(j,"byteLength"),U(j,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Y,defineProperty:J}),e.exports=function(e,t,n,a){var s=e+(a?"Clamped":"")+"Array",l="get"+e,c="set"+e,g=i[s],v=g,y=v&&v.prototype,C={},_=function(e,n){D(e,n,{get:function(){return function(e,n){var r=N(e);return r.view[l](n*t+r.byteOffset,!0)}(this,n)},set:function(e){return function(e,n,r){var i=N(e);a&&(r=(r=O(r))<0?0:r>255?255:255&r),i.view[c](n*t+i.byteOffset,r,!0)}(this,n,e)},enumerable:!0})};F?o&&(v=n((function(e,n,r,i){return u(e,v,s),m(n)?q(n)?void 0!==i?new g(n,f(r,t),i):void 0!==r?new g(n,f(r,t)):new g(n):H(n)?z(v,n):k.call(v,n):new g(d(n))})),x&&x(v,B),w(S(g),(function(e){e in v||h(v,e,g[e])})),v.prototype=y):(v=n((function(e,n,r,i){u(e,v,s);var a,o,l,c=0,h=0;if(m(n)){if(!q(n))return H(n)?z(v,n):k.call(v,n);a=n,h=f(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw E(V);if((o=g-h)<0)throw E(V)}else if((o=p(i)*t)+h>g)throw E(V);l=o/t}else l=d(n),a=new A(o=l*t);for(T(e,{buffer:a,byteOffset:h,byteLength:o,length:l,view:new I(a)});c<l;)_(e,c++)})),x&&x(v,B),y=v.prototype=b(j)),y.constructor!==v&&h(y,"constructor",v),G&&h(y,G,s),C[s]=v,r({global:!0,forced:v!=g,sham:!F},C),W in v||h(v,W,t),W in y||h(y,W,t),L(s)}):e.exports=function(){}},7321:(e,t,n)=>{var r=n(7908),i=n(7466),a=n(1246),o=n(7659),s=n(244),l=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,u,c,h,p=r(e),d=arguments.length,f=d>1?arguments[1]:void 0,g=void 0!==f,v=a(p);if(null!=v&&!o(v))for(h=v.call(p),p=[];!(c=h.next()).done;)p.push(c.value);for(g&&d>2&&(f=s(f,arguments[2],2)),n=i(p.length),u=new(l(this))(n),t=0;n>t;t++)u[t]=g?f(p[t],t):p[t];return u}},6500:(e,t,n)=>{var r=n(7854),i=n(7293),a=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},227:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7428:(e,t,n)=>{var r=n(227);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},5112:(e,t,n)=>{var r=n(7854),i=n(2309),a=n(9711),o=n(133),s=r.Symbol,l=i("wks");e.exports=function(e){return l[e]||(l[e]=o&&s[e]||(o?s:a)("Symbol."+e))}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},6805:(e,t,n)=>{t.f=n(5112)},8264:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(3331),o=n(6340),s="ArrayBuffer",l=a[s];r({global:!0,forced:i[s]!==l},{ArrayBuffer:l}),o(s)},6938:(e,t,n)=>{var r=n(2109),i=n(260);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},9575:(e,t,n)=>{"use strict";var r=n(2109),i=n(7293),a=n(3331),o=n(9670),s=n(1400),l=n(7466),u=n(6707),c=a.ArrayBuffer,h=a.DataView,p=c.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(u(this,c))(l(i-r)),d=new h(this),f=new h(a),g=0;r<i;)f.setUint8(g++,d.getUint8(r++));return a}})},2222:(e,t,n)=>{"use strict";var r=n(2109),i=n(7293),a=n(3157),o=n(111),s=n(7908),l=n(7466),u=n(6135),c=n(5417),h=n(1194),p=n(5112)("isConcatSpreadable"),d=9007199254740991,f="Maximum allowed index exceeded",g=!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=h("concat"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!g||!v},{concat:function(e){var t,n,r,i,a,o=s(this),h=c(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(y(a=-1===t?o:arguments[t])){if(p+(i=l(a.length))>d)throw TypeError(f);for(n=0;n<i;n++,p++)n in a&&u(h,p,a[n])}else{if(p>=d)throw TypeError(f);u(h,p++,a)}return h.length=p,h}})},545:(e,t,n)=>{var r=n(2109),i=n(1048),a=n(1223);r({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},6541:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).every;r({target:"Array",proto:!0,forced:n(6637)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},3290:(e,t,n)=>{var r=n(2109),i=n(1285),a=n(1223);r({target:"Array",proto:!0},{fill:i}),a("fill")},7327:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).findIndex,a=n(1223),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9826:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).find,a=n(1223),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},6535:(e,t,n)=>{"use strict";var r=n(2109),i=n(6790),a=n(7908),o=n(7466),s=n(3099),l=n(5417);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=o(n.length);return s(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},4944:(e,t,n)=>{"use strict";var r=n(2109),i=n(6790),a=n(7908),o=n(7466),s=n(9958),l=n(5417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t.length),r=l(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},9554:(e,t,n)=>{"use strict";var r=n(2109),i=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},1038:(e,t,n)=>{var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:i})},6699:(e,t,n)=>{"use strict";var r=n(2109),i=n(1318).includes,a=n(1223);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:(e,t,n)=>{"use strict";var r=n(2109),i=n(1318).indexOf,a=n(6637),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},9753:(e,t,n)=>{n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:(e,t,n)=>{"use strict";var r=n(5656),i=n(1223),a=n(7497),o=n(9909),s=n(654),l="Array Iterator",u=o.set,c=o.getterFor(l);e.exports=s(Array,"Array",(function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},9600:(e,t,n)=>{"use strict";var r=n(2109),i=n(8361),a=n(5656),o=n(6637),s=[].join,l=i!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:l||u},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},4986:(e,t,n)=>{var r=n(2109),i=n(6583);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},1249:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},6572:(e,t,n)=>{"use strict";var r=n(2109),i=n(7293),a=n(6135);r({target:"Array",stat:!0,forced:i((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)a(n,e,arguments[e++]);return n.length=t,n}})},6644:(e,t,n)=>{"use strict";var r=n(2109),i=n(3671).right;r({target:"Array",proto:!0,forced:n(6637)("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var r=n(2109),i=n(3671).left;r({target:"Array",proto:!0,forced:n(6637)("reduce")},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5069:(e,t,n)=>{"use strict";var r=n(2109),i=n(3157),a=[].reverse,o=[1,2];r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},7042:(e,t,n)=>{"use strict";var r=n(2109),i=n(111),a=n(3157),o=n(1400),s=n(7466),l=n(5656),u=n(6135),c=n(1194),h=n(5112)("species"),p=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!c("slice")},{slice:function(e,t){var n,r,c,f=l(this),g=s(f.length),v=o(e,g),y=o(void 0===t?g:t,g);if(a(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(f,v,y);for(r=new(void 0===n?Array:n)(d(y-v,0)),c=0;v<y;v++,c++)v in f&&u(r,c,f[v]);return r.length=c,r}})},5212:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).some;r({target:"Array",proto:!0,forced:n(6637)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,n)=>{"use strict";var r=n(2109),i=n(3099),a=n(7908),o=n(7293),s=n(6637),l=[].sort,u=[1,2,3],c=o((function(){u.sort(void 0)})),h=o((function(){u.sort(null)})),p=s("sort");r({target:"Array",proto:!0,forced:c||!h||p},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),i(e))}})},8706:(e,t,n)=>{n(6340)("Array")},561:(e,t,n)=>{"use strict";var r=n(2109),i=n(1400),a=n(9958),o=n(7466),s=n(7908),l=n(5417),u=n(6135),c=n(1194),h=Math.max,p=Math.min,d=9007199254740991,f="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!c("splice")},{splice:function(e,t){var n,r,c,g,v,y,m=s(this),b=o(m.length),x=i(e,b),S=arguments.length;if(0===S?n=r=0:1===S?(n=0,r=b-x):(n=S-2,r=p(h(a(t),0),b-x)),b+n-r>d)throw TypeError(f);for(c=l(m,r),g=0;g<r;g++)(v=x+g)in m&&u(c,g,m[v]);if(c.length=r,n<r){for(g=x;g<b-r;g++)y=g+n,(v=g+r)in m?m[y]=m[v]:delete m[y];for(g=b;g>b-r+n;g--)delete m[g-1]}else if(n>r)for(g=b-r;g>x;g--)y=g+n-1,(v=g+r-1)in m?m[y]=m[v]:delete m[y];for(g=0;g<n;g++)m[g+x]=arguments[g+2];return m.length=b-r+n,c}})},9244:(e,t,n)=>{n(1223)("flatMap")},3792:(e,t,n)=>{n(1223)("flat")},6716:(e,t,n)=>{var r=n(2109),i=n(3331);r({global:!0,forced:!n(260).NATIVE_ARRAY_BUFFER},{DataView:i.DataView})},3843:(e,t,n)=>{n(2109)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},5268:(e,t,n)=>{var r=n(2109),i=n(5573);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},5735:(e,t,n)=>{"use strict";var r=n(2109),i=n(7293),a=n(7908),o=n(7593);r({target:"Date",proto:!0,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},6078:(e,t,n)=>{var r=n(5185),i=n(8709),a=n(5112)("toPrimitive"),o=Date.prototype;a in o||r(o,a,i)},3710:(e,t,n)=>{var r=n(1320),i=Date.prototype,a="Invalid Date",o="toString",s=i[o],l=i.getTime;new Date(NaN)+""!=a&&r(i,o,(function(){var e=l.call(this);return e==e?s.call(this):a}))},4812:(e,t,n)=>{n(2109)({target:"Function",proto:!0},{bind:n(7065)})},4855:(e,t,n)=>{"use strict";var r=n(111),i=n(3070),a=n(9518),o=n(5112)("hasInstance"),s=Function.prototype;o in s||i.f(s,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},8309:(e,t,n)=>{var r=n(9781),i=n(3070).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,l="name";r&&!(l in a)&&i(a,l,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},3706:(e,t,n)=>{var r=n(7854);n(8003)(r.JSON,"JSON",!0)},1532:(e,t,n)=>{"use strict";var r=n(7710),i=n(5631);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i,!0)},9752:(e,t,n)=>{var r=n(2109),i=n(6513),a=Math.acosh,o=Math.log,s=Math.sqrt,l=Math.LN2;r({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?o(e)+l:i(e-1+s(e-1)*s(e+1))}})},2376:(e,t,n)=>{var r=n(2109),i=Math.asinh,a=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):a(t+o(t*t+1)):t}})},3181:(e,t,n)=>{var r=n(2109),i=Math.atanh,a=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:a((1+e)/(1-e))/2}})},3484:(e,t,n)=>{var r=n(2109),i=n(4310),a=Math.abs,o=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){return i(e=+e)*o(a(e),1/3)}})},2388:(e,t,n)=>{var r=n(2109),i=Math.floor,a=Math.log,o=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-i(a(e+.5)*o):32}})},8621:(e,t,n)=>{var r=n(2109),i=n(6736),a=Math.cosh,o=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(o(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},403:(e,t,n)=>{var r=n(2109),i=n(6736);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},4755:(e,t,n)=>{n(2109)({target:"Math",stat:!0},{fround:n(6130)})},5438:(e,t,n)=>{var r=n(2109),i=Math.hypot,a=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,s=0,l=arguments.length,u=0;s<l;)u<(n=a(arguments[s++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*o(i)}})},332:(e,t,n)=>{var r=n(2109),i=n(7293),a=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!=a(4294967295,5)||2!=a.length}))},{imul:function(e,t){var n=65535,r=+e,i=+t,a=n&r,o=n&i;return 0|a*o+((n&r>>>16)*o+a*(n&i>>>16)<<16>>>0)}})},658:(e,t,n)=>{var r=n(2109),i=Math.log,a=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(e){return i(e)*a}})},197:(e,t,n)=>{n(2109)({target:"Math",stat:!0},{log1p:n(6513)})},4914:(e,t,n)=>{var r=n(2109),i=Math.log,a=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},2420:(e,t,n)=>{n(2109)({target:"Math",stat:!0},{sign:n(4310)})},160:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(6736),o=Math.abs,s=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){return o(e=+e)<1?(a(e)-a(-e))/2:(s(e-1)-s(-e-1))*(l/2)}})},970:(e,t,n)=>{var r=n(2109),i=n(6736),a=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},2703:(e,t,n)=>{n(8003)(Math,"Math",!0)},3689:(e,t,n)=>{var r=n(2109),i=Math.ceil,a=Math.floor;r({target:"Math",stat:!0},{trunc:function(e){return(e>0?a:i)(e)}})},9653:(e,t,n)=>{"use strict";var r=n(9781),i=n(7854),a=n(4705),o=n(1320),s=n(6656),l=n(4326),u=n(9587),c=n(7593),h=n(7293),p=n(30),d=n(8006).f,f=n(1236).f,g=n(3070).f,v=n(3111).trim,y="Number",m=i[y],b=m.prototype,x=l(p(b))==y,S=function(e){var t,n,r,i,a,o,s,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=v(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=(a=u.slice(2)).length,s=0;s<o;s++)if((l=a.charCodeAt(s))<48||l>i)return NaN;return parseInt(a,r)}return+u};if(a(y,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var k,w=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof w&&(x?h((function(){b.valueOf.call(n)})):l(n)!=y)?u(new m(S(t)),n,w):S(t)},L=r?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;L.length>C;C++)s(m,k=L[C])&&!s(w,k)&&g(w,k,f(m,k));w.prototype=b,b.constructor=w,o(i,y,w)}},3299:(e,t,n)=>{n(2109)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},5192:(e,t,n)=>{n(2109)({target:"Number",stat:!0},{isFinite:n(7023)})},3161:(e,t,n)=>{n(2109)({target:"Number",stat:!0},{isInteger:n(8730)})},4048:(e,t,n)=>{n(2109)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},8285:(e,t,n)=>{var r=n(2109),i=n(8730),a=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},4363:(e,t,n)=>{n(2109)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},5994:(e,t,n)=>{n(2109)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},1874:(e,t,n)=>{var r=n(2109),i=n(3677);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},9494:(e,t,n)=>{var r=n(2109),i=n(8620);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},6977:(e,t,n)=>{"use strict";var r=n(2109),i=n(9958),a=n(863),o=n(8415),s=n(7293),l=1..toFixed,u=Math.floor,c=function(e,t,n){return 0===t?n:t%2==1?c(e,t-1,n*e):c(e*e,t/2,n)};r({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(e){var t,n,r,s,l=a(this),h=i(e),p=[0,0,0,0,0,0],d="",f="0",g=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*p[n],p[n]=r%1e7,r=u(r/1e7)},v=function(e){for(var t=6,n=0;--t>=0;)n+=p[t],p[t]=u(n/e),n=n%e*1e7},y=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==p[e]){var n=String(p[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(d="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*c(2,69,1))-69)<0?l*c(2,-t,1):l/c(2,t,1),n*=4503599627370496,(t=52-t)>0){for(g(0,n),r=h;r>=7;)g(1e7,0),r-=7;for(g(c(10,r,1),0),r=t-1;r>=23;)v(1<<23),r-=23;v(1<<r),g(1,1),v(2),f=y()}else g(0,n),g(1<<-t,0),f=y()+o.call("0",h);return h>0?d+((s=f.length)<=h?"0."+o.call("0",h-s)+f:f.slice(0,s-h)+"."+f.slice(s-h)):d+f}})},5147:(e,t,n)=>{"use strict";var r=n(2109),i=n(7293),a=n(863),o=1..toPrecision;r({target:"Number",proto:!0,forced:i((function(){return"1"!==o.call(1,void 0)}))||!i((function(){o.call({})}))},{toPrecision:function(e){return void 0===e?o.call(a(this)):o.call(a(this),e)}})},9601:(e,t,n)=>{var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},8011:(e,t,n)=>{n(2109)({target:"Object",stat:!0,sham:!n(9781)},{create:n(30)})},9595:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),a=n(1301),o=n(7908),s=n(3099),l=n(3070);i&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){l.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},3321:(e,t,n)=>{var r=n(2109),i=n(9781);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(6048)})},9070:(e,t,n)=>{var r=n(2109),i=n(9781);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(3070).f})},5500:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),a=n(1301),o=n(7908),s=n(3099),l=n(3070);i&&r({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){l.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},9720:(e,t,n)=>{var r=n(2109),i=n(4699).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},3371:(e,t,n)=>{var r=n(2109),i=n(6677),a=n(7293),o=n(111),s=n(2423).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!i},{freeze:function(e){return l&&o(e)?l(s(e)):e}})},8559:(e,t,n)=>{var r=n(2109),i=n(408),a=n(6135);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){a(t,e,n)}),void 0,!0),t}})},8880:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(5656),o=n(1236).f,s=n(9781),l=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},9337:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(3887),o=n(5656),s=n(1236),l=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,u=a(r),c={},h=0;u.length>h;)void 0!==(n=i(r,t=u[h++]))&&l(c,t,n);return c}})},6210:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(1156).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},489:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(7908),o=n(9518),s=n(8544);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},1825:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(111),o=Object.isExtensible;r({target:"Object",stat:!0,forced:i((function(){o(1)}))},{isExtensible:function(e){return!!a(e)&&(!o||o(e))}})},8410:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(111),o=Object.isFrozen;r({target:"Object",stat:!0,forced:i((function(){o(1)}))},{isFrozen:function(e){return!a(e)||!!o&&o(e)}})},2200:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(111),o=Object.isSealed;r({target:"Object",stat:!0,forced:i((function(){o(1)}))},{isSealed:function(e){return!a(e)||!!o&&o(e)}})},3304:(e,t,n)=>{n(2109)({target:"Object",stat:!0},{is:n(1150)})},7941:(e,t,n)=>{var r=n(2109),i=n(7908),a=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},4869:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),a=n(1301),o=n(7908),s=n(7593),l=n(9518),u=n(1236).f;i&&r({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,n=o(this),r=s(e,!0);do{if(t=u(n,r))return t.get}while(n=l(n))}})},3952:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),a=n(1301),o=n(7908),s=n(7593),l=n(9518),u=n(1236).f;i&&r({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,n=o(this),r=s(e,!0);do{if(t=u(n,r))return t.set}while(n=l(n))}})},7227:(e,t,n)=>{var r=n(2109),i=n(111),a=n(2423).onFreeze,o=n(6677),s=n(7293),l=Object.preventExtensions;r({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!o},{preventExtensions:function(e){return l&&i(e)?l(a(e)):e}})},514:(e,t,n)=>{var r=n(2109),i=n(111),a=n(2423).onFreeze,o=n(6677),s=n(7293),l=Object.seal;r({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!o},{seal:function(e){return l&&i(e)?l(a(e)):e}})},8304:(e,t,n)=>{n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},1539:(e,t,n)=>{var r=n(1320),i=n(288),a=Object.prototype;i!==a.toString&&r(a,"toString",i,{unsafe:!0})},6833:(e,t,n)=>{var r=n(2109),i=n(4699).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},4678:(e,t,n)=>{var r=n(2109),i=n(3677);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},1058:(e,t,n)=>{var r=n(2109),i=n(8620);r({global:!0,forced:parseInt!=i},{parseInt:i})},7922:(e,t,n)=>{"use strict";var r=n(2109),i=n(3099),a=n(8523),o=n(2534),s=n(408);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,u=o((function(){var n=i(t.resolve),a=[],o=0,l=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),l++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--l||r(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--l||r(a))}))})),--l||r(a)}));return u.error&&l(u.value),n.promise}})},7727:(e,t,n)=>{"use strict";var r=n(2109),i=n(1913),a=n(3366),o=n(5005),s=n(6707),l=n(9478),u=n(1320);r({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=s(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype.finally||u(a.prototype,"finally",o("Promise").prototype.finally)},8674:(e,t,n)=>{"use strict";var r,i,a,o,s=n(2109),l=n(1913),u=n(7854),c=n(857),h=n(3366),p=n(1320),d=n(2248),f=n(8003),g=n(6340),v=n(111),y=n(3099),m=n(5787),b=n(4326),x=n(408),S=n(7072),k=n(6707),w=n(261).set,L=n(5948),C=n(9478),_=n(842),P=n(8523),N=n(2534),T=n(227),D=n(9909),M=n(4705),O=n(5112)("species"),E="Promise",A=D.get,I=D.set,F=D.getterFor(E),G=h,B=u.TypeError,j=u.document,R=u.process,H=u.fetch,W=R&&R.versions,V=W&&W.v8||"",z=P.f,U=z,q="process"==b(R),Z=!!(j&&j.createEvent&&u.dispatchEvent),Y="unhandledrejection",J=M(E,(function(){var e=G.resolve(1),t=function(){},n=(e.constructor={})[O]=function(e){e(t,t)};return!((q||"function"==typeof PromiseRejectionEvent)&&(!l||e.finally)&&e.then(t)instanceof n&&0!==V.indexOf("6.6")&&-1===T.indexOf("Chrome/66"))})),X=J||!S((function(e){G.all(e).catch((function(){}))})),K=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;L((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,l,u,c=r[o++],h=a?c.ok:c.fail,p=c.resolve,d=c.reject,f=c.domain;try{h?(a||(2===t.rejection&&ne(e,t),t.rejection=1),!0===h?s=i:(f&&f.enter(),s=h(i),f&&(f.exit(),u=!0)),s===c.promise?d(B("Promise-chain cycle")):(l=K(s))?l.call(s,p,d):p(s)):d(i)}catch(e){f&&!u&&f.exit(),d(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ee(e,t)}))}},Q=function(e,t,n){var r,i;Z?((r=j.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):e===Y&&_("Unhandled promise rejection",n)},ee=function(e,t){w.call(u,(function(){var n,r=t.value;if(te(t)&&(n=N((function(){q?R.emit("unhandledRejection",r,e):Q(Y,e,r)})),t.rejection=q||te(t)?2:1,n.error))throw n.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){w.call(u,(function(){q?R.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},re=function(e,t,n,r){return function(i){e(t,n,i,r)}},ie=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,$(e,t,!0))},ae=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw B("Promise can't be resolved itself");var i=K(n);i?L((function(){var r={done:!1};try{i.call(n,re(ae,e,r,t),re(ie,e,r,t))}catch(n){ie(e,r,n,t)}})):(t.value=n,t.state=1,$(e,t,!1))}catch(n){ie(e,{done:!1},n,t)}}};J&&(G=function(e){m(this,G,E),y(e),r.call(this);var t=A(this);try{e(re(ae,this,t),re(ie,this,t))}catch(e){ie(this,t,e)}},(r=function(e){I(this,{type:E,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(G.prototype,{then:function(e,t){var n=F(this),r=z(k(this,G));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=q?R.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=A(e);this.promise=e,this.resolve=re(ae,e,t),this.reject=re(ie,e,t)},P.f=z=function(e){return e===G||e===a?new i(e):U(e)},l||"function"!=typeof h||(o=h.prototype.then,p(h.prototype,"then",(function(e,t){var n=this;return new G((function(e,t){o.call(n,e,t)})).then(e,t)})),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(G,H.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:J},{Promise:G}),f(G,E,!1,!0),g(E),a=c[E],s({target:E,stat:!0,forced:J},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),s({target:E,stat:!0,forced:l||J},{resolve:function(e){return C(l&&this===a?G:this,e)}}),s({target:E,stat:!0,forced:X},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,a=N((function(){var n=y(t.resolve),a=[],o=0,s=1;x(e,(function(e){var l=o++,u=!1;a.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,a[l]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=N((function(){var i=y(t.resolve);x(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},224:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(3099),o=n(9670),s=n(7293),l=i("Reflect","apply"),u=Function.apply;r({target:"Reflect",stat:!0,forced:!s((function(){l((function(){}))}))},{apply:function(e,t,n){return a(e),o(n),l?l(e,t,n):u.call(e,t,n)}})},2419:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(3099),o=n(9670),s=n(111),l=n(30),u=n(7065),c=n(7293),h=i("Reflect","construct"),p=c((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),d=!c((function(){h((function(){}))})),f=p||d;r({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!p)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var i=n.prototype,c=l(s(i)?i:Object.prototype),f=Function.apply.call(e,c,t);return s(f)?f:c}})},9596:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(9670),o=n(7593),s=n(3070);r({target:"Reflect",stat:!0,forced:n(7293)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,n){a(e);var r=o(t,!0);a(n);try{return s.f(e,r,n),!0}catch(e){return!1}}})},2586:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(1236).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},5683:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(9670),o=n(1236);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o.f(a(e),t)}})},9361:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(9518);r({target:"Reflect",stat:!0,sham:!n(8544)},{getPrototypeOf:function(e){return a(i(e))}})},4819:(e,t,n)=>{var r=n(2109),i=n(111),a=n(9670),o=n(6656),s=n(1236),l=n(9518);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,u,c=arguments.length<3?t:arguments[2];return a(t)===c?t[n]:(r=s.f(t,n))?o(r,"value")?r.value:void 0===r.get?void 0:r.get.call(c):i(u=l(t))?e(u,n,c):void 0}})},1037:(e,t,n)=>{n(2109)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},5898:(e,t,n)=>{var r=n(2109),i=n(9670),a=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),!a||a(e)}})},7556:(e,t,n)=>{n(2109)({target:"Reflect",stat:!0},{ownKeys:n(3887)})},4361:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(9670);r({target:"Reflect",stat:!0,sham:!n(6677)},{preventExtensions:function(e){a(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},9532:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(6077),o=n(7674);o&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),a(t);try{return o(e,t),!0}catch(e){return!1}}})},3593:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(111),o=n(6656),s=n(3070),l=n(1236),u=n(9518),c=n(9114);r({target:"Reflect",stat:!0},{set:function e(t,n,r){var h,p,d=arguments.length<4?t:arguments[3],f=l.f(i(t),n);if(!f){if(a(p=u(t)))return e(p,n,r,d);f=c(0)}if(o(f,"value")){if(!1===f.writable||!a(d))return!1;if(h=l.f(d,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=r,s.f(d,n,h)}else s.f(d,n,c(0,r));return!0}return void 0!==f.set&&(f.set.call(d,r),!0)}})},4603:(e,t,n)=>{var r=n(9781),i=n(7854),a=n(4705),o=n(9587),s=n(3070).f,l=n(8006).f,u=n(7850),c=n(7066),h=n(1320),p=n(7293),d=n(6340),f=n(5112)("match"),g=i.RegExp,v=g.prototype,y=/a/g,m=/a/g,b=new g(y)!==y;if(r&&a("RegExp",!b||p((function(){return m[f]=!1,g(y)!=y||g(m)==m||"/a/i"!=g(y,"i")})))){for(var x=function(e,t){var n=this instanceof x,r=u(e),i=void 0===t;return!n&&r&&e.constructor===x&&i?e:o(b?new g(r&&!i?e.source:e,t):g((r=e instanceof x)?e.source:e,r&&i?c.call(e):t),n?this:v,x)},S=function(e){e in x||s(x,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},k=l(g),w=0;k.length>w;)S(k[w++]);v.constructor=x,x.prototype=v,h(i,"RegExp",x)}d("RegExp")},4916:(e,t,n)=>{"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},2087:(e,t,n)=>{var r=n(9781),i=n(3070),a=n(7066);r&&"g"!=/./g.flags&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},9714:(e,t,n)=>{"use strict";var r=n(1320),i=n(9670),a=n(7293),o=n(7066),s="toString",l=RegExp.prototype,u=l[s],c=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=s;(c||h)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n)}),{unsafe:!0})},189:(e,t,n)=>{"use strict";var r=n(7710),i=n(5631);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},5218:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},4475:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("big")},{big:function(){return i(this,"big","","")}})},7929:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("blink")},{blink:function(){return i(this,"blink","","")}})},915:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("bold")},{bold:function(){return i(this,"b","","")}})},9841:(e,t,n)=>{"use strict";var r=n(2109),i=n(8710).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},7852:(e,t,n)=>{"use strict";var r=n(2109),i=n(7466),a=n(3929),o=n(4488),s=n(4964),l="".endsWith,u=Math.min;r({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(e){var t=String(o(this));a(e);var n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:u(i(n),r),c=String(e);return l?l.call(t,c,s):t.slice(s-c.length,s)===c}})},9253:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("fixed")},{fixed:function(){return i(this,"tt","","")}})},2125:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},8830:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},4953:(e,t,n)=>{var r=n(2109),i=n(1400),a=String.fromCharCode,o=String.fromCodePoint;r({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},2023:(e,t,n)=>{"use strict";var r=n(2109),i=n(3929),a=n(4488);r({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},8734:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("italics")},{italics:function(){return i(this,"i","","")}})},8783:(e,t,n)=>{"use strict";var r=n(8710).charAt,i=n(9909),a=n(654),o="String Iterator",s=i.set,l=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},9254:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("link")},{link:function(e){return i(this,"a","href",e)}})},6373:(e,t,n)=>{"use strict";var r=n(2109),i=n(4994),a=n(4488),o=n(7466),s=n(3099),l=n(9670),u=n(648),c=n(7066),h=n(5185),p=n(5112),d=n(6707),f=n(1530),g=n(9909),v=n(1913),y=p("matchAll"),m="RegExp String",b=m+" Iterator",x=g.set,S=g.getterFor(b),k=RegExp.prototype,w=k.exec,L=i((function(e,t,n,r){x(this,{type:b,regexp:e,string:t,global:n,unicode:r,done:!1})}),m,(function(){var e=S(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,r=e.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(e,t)))throw TypeError("Incorrect exec result");return n}return w.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=f(n,o(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),C=function(e){var t,n,r,i,a,s,u=l(this),h=String(e);return t=d(u,RegExp),void 0===(n=u.flags)&&u instanceof RegExp&&!("flags"in k)&&(n=c.call(u)),r=void 0===n?"":String(n),i=new t(t===RegExp?u.source:u,r),a=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=o(u.lastIndex),new L(i,h,a,s)};r({target:"String",proto:!0},{matchAll:function(e){var t,n,r,i=a(this);return null!=e&&(void 0===(n=e[y])&&v&&"RegExp"==u(e)&&(n=C),null!=n)?s(n).call(e,i):(t=String(i),r=new RegExp(e,"g"),v?C.call(r,t):r[y](t))}}),v||y in k||h(k,y,C)},4723:(e,t,n)=>{"use strict";var r=n(7007),i=n(9670),a=n(7466),o=n(4488),s=n(1530),l=n(7651);r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),u=String(this);if(!o.global)return l(o,u);var c=o.unicode;o.lastIndex=0;for(var h,p=[],d=0;null!==(h=l(o,u));){var f=String(h[0]);p[d]=f,""===f&&(o.lastIndex=s(u,a(o.lastIndex),c)),d++}return 0===d?null:p}]}))},6528:(e,t,n)=>{"use strict";var r=n(2109),i=n(6650).end;r({target:"String",proto:!0,forced:n(7428)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},3112:(e,t,n)=>{"use strict";var r=n(2109),i=n(6650).start;r({target:"String",proto:!0,forced:n(7428)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},8992:(e,t,n)=>{var r=n(2109),i=n(5656),a=n(7466);r({target:"String",stat:!0},{raw:function(e){for(var t=i(e.raw),n=a(t.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})},2481:(e,t,n)=>{n(2109)({target:"String",proto:!0},{repeat:n(8415)})},5306:(e,t,n)=>{"use strict";var r=n(7007),i=n(9670),a=n(7908),o=n(7466),s=n(9958),l=n(4488),u=n(1530),c=n(7651),h=Math.max,p=Math.min,d=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n){return[function(n,r){var i=l(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,a){var l=n(t,e,this,a);if(l.done)return l.value;var d=i(e),f=String(this),g="function"==typeof a;g||(a=String(a));var v=d.global;if(v){var y=d.unicode;d.lastIndex=0}for(var m=[];;){var b=c(d,f);if(null===b)break;if(m.push(b),!v)break;""===String(b[0])&&(d.lastIndex=u(f,o(d.lastIndex),y))}for(var x,S="",k=0,w=0;w<m.length;w++){b=m[w];for(var L=String(b[0]),C=h(p(s(b.index),f.length),0),_=[],P=1;P<b.length;P++)_.push(void 0===(x=b[P])?x:String(x));var N=b.groups;if(g){var T=[L].concat(_,C,f);void 0!==N&&T.push(N);var D=String(a.apply(void 0,T))}else D=r(L,f,C,_,N,a);C>=k&&(S+=f.slice(k,C)+D,k=C+L.length)}return S+f.slice(k)}];function r(e,n,r,i,o,s){var l=r+e.length,u=i.length,c=g;return void 0!==o&&(o=a(o),c=f),t.call(s,c,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>u){var h=d(c/10);return 0===h?t:h<=u?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):t}s=i[c-1]}return void 0===s?"":s}))}}))},4765:(e,t,n)=>{"use strict";var r=n(7007),i=n(9670),a=n(4488),o=n(1150),s=n(7651);r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),l=String(this),u=a.lastIndex;o(u,0)||(a.lastIndex=0);var c=s(a,l);return o(a.lastIndex,u)||(a.lastIndex=u),null===c?-1:c.index}]}))},7268:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("small")},{small:function(){return i(this,"small","","")}})},3123:(e,t,n)=>{"use strict";var r=n(7007),i=n(7850),a=n(9670),o=n(4488),s=n(6707),l=n(1530),u=n(7466),c=n(7651),h=n(2261),p=n(7293),d=[].push,f=Math.min,g=4294967295,v=!p((function(){return!RegExp(g,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);for(var s,l,u,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,v=new RegExp(e.source,p+"g");(s=h.call(v,r))&&!((l=v.lastIndex)>f&&(c.push(r.slice(f,s.index)),s.length>1&&s.index<r.length&&d.apply(c,s.slice(1)),u=s[0].length,f=l,c.length>=a));)v.lastIndex===s.index&&v.lastIndex++;return f===r.length?!u&&v.test("")||c.push(""):c.push(r.slice(f)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var h=a(e),p=String(this),d=s(h,RegExp),y=h.unicode,m=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),b=new d(v?h:"^(?:"+h.source+")",m),x=void 0===i?g:i>>>0;if(0===x)return[];if(0===p.length)return null===c(b,p)?[p]:[];for(var S=0,k=0,w=[];k<p.length;){b.lastIndex=v?k:0;var L,C=c(b,v?p:p.slice(k));if(null===C||(L=f(u(b.lastIndex+(v?0:k)),p.length))===S)k=l(p,k,y);else{if(w.push(p.slice(S,k)),w.length===x)return w;for(var _=1;_<=C.length-1;_++)if(w.push(C[_]),w.length===x)return w;k=S=L}}return w.push(p.slice(S)),w}]}),!v)},6755:(e,t,n)=>{"use strict";var r=n(2109),i=n(7466),a=n(3929),o=n(4488),s=n(4964),l="".startsWith,u=Math.min;r({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(e){var t=String(o(this));a(e);var n=i(u(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},7397:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("strike")},{strike:function(){return i(this,"strike","","")}})},86:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("sub")},{sub:function(){return i(this,"sub","","")}})},623:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(2098)("sup")},{sup:function(){return i(this,"sup","","")}})},8702:(e,t,n)=>{"use strict";var r=n(2109),i=n(3111).end,a=n(8711)("trimEnd"),o=a?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},5674:(e,t,n)=>{"use strict";var r=n(2109),i=n(3111).start,a=n(8711)("trimStart"),o=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},3210:(e,t,n)=>{"use strict";var r=n(2109),i=n(3111).trim;r({target:"String",proto:!0,forced:n(8711)("trim")},{trim:function(){return i(this)}})},2443:(e,t,n)=>{n(7235)("asyncIterator")},1817:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),a=n(7854),o=n(6656),s=n(111),l=n(3070).f,u=n(9920),c=a.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};u(p,c);var d=p.prototype=c.prototype;d.constructor=p;var f=d.toString,g="Symbol(test)"==String(c("test")),v=/^Symbol\((.*)\)[^)]+$/;l(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(o(h,e))return"";var n=g?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},2401:(e,t,n)=>{n(7235)("hasInstance")},8722:(e,t,n)=>{n(7235)("isConcatSpreadable")},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(1913),o=n(9781),s=n(133),l=n(7293),u=n(6656),c=n(3157),h=n(111),p=n(9670),d=n(7908),f=n(5656),g=n(7593),v=n(9114),y=n(30),m=n(1956),b=n(8006),x=n(1156),S=n(5181),k=n(1236),w=n(3070),L=n(5296),C=n(5185),_=n(1320),P=n(2309),N=n(6200),T=n(3501),D=n(9711),M=n(5112),O=n(6805),E=n(7235),A=n(8003),I=n(9909),F=n(2092).forEach,G=N("hidden"),B="Symbol",j="prototype",R=M("toPrimitive"),H=I.set,W=I.getterFor(B),V=Object[j],z=i.Symbol,U=i.JSON,q=U&&U.stringify,Z=k.f,Y=w.f,J=x.f,X=L.f,K=P("symbols"),$=P("op-symbols"),Q=P("string-to-symbol-registry"),ee=P("symbol-to-string-registry"),te=P("wks"),ne=i.QObject,re=!ne||!ne[j]||!ne[j].findChild,ie=o&&l((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Z(V,t);r&&delete V[t],Y(e,t,n),r&&e!==V&&Y(V,t,r)}:Y,ae=function(e,t){var n=K[e]=y(z[j]);return H(n,{type:B,tag:e,description:t}),o||(n.description=t),n},oe=s&&"symbol"==typeof z.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},se=function(e,t,n){e===V&&se($,t,n),p(e);var r=g(t,!0);return p(n),u(K,r)?(n.enumerable?(u(e,G)&&e[G][r]&&(e[G][r]=!1),n=y(n,{enumerable:v(0,!1)})):(u(e,G)||Y(e,G,v(1,{})),e[G][r]=!0),ie(e,r,n)):Y(e,r,n)},le=function(e,t){p(e);var n=f(t),r=m(n).concat(pe(n));return F(r,(function(t){o&&!ue.call(n,t)||se(e,t,n[t])})),e},ue=function(e){var t=g(e,!0),n=X.call(this,t);return!(this===V&&u(K,t)&&!u($,t))&&(!(n||!u(this,t)||!u(K,t)||u(this,G)&&this[G][t])||n)},ce=function(e,t){var n=f(e),r=g(t,!0);if(n!==V||!u(K,r)||u($,r)){var i=Z(n,r);return!i||!u(K,r)||u(n,G)&&n[G][r]||(i.enumerable=!0),i}},he=function(e){var t=J(f(e)),n=[];return F(t,(function(e){u(K,e)||u(T,e)||n.push(e)})),n},pe=function(e){var t=e===V,n=J(t?$:f(e)),r=[];return F(n,(function(e){!u(K,e)||t&&!u(V,e)||r.push(K[e])})),r};s||(_((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===V&&n.call($,e),u(this,G)&&u(this[G],t)&&(this[G][t]=!1),ie(this,t,v(1,e))};return o&&re&&ie(V,t,{configurable:!0,set:n}),ae(t,e)})[j],"toString",(function(){return W(this).tag})),L.f=ue,w.f=se,k.f=ce,b.f=x.f=he,S.f=pe,o&&(Y(z[j],"description",{configurable:!0,get:function(){return W(this).description}}),a||_(V,"propertyIsEnumerable",ue,{unsafe:!0})),O.f=function(e){return ae(M(e),e)}),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:z}),F(m(te),(function(e){E(e)})),r({target:B,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(Q,t))return Q[t];var n=z(t);return Q[t]=n,ee[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(u(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!o},{create:function(e,t){return void 0===t?y(e):le(y(e),t)},defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(d(e))}}),U&&r({target:"JSON",stat:!0,forced:!s||l((function(){var e=z();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(h(t)||void 0!==e)&&!oe(e))return c(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!oe(t))return t}),r[1]=t,q.apply(U,r)}}),z[j][R]||C(z[j],R,z[j].valueOf),A(z,B),T[G]=!0},6066:(e,t,n)=>{n(7235)("matchAll")},9007:(e,t,n)=>{n(7235)("match")},3510:(e,t,n)=>{n(7235)("replace")},1840:(e,t,n)=>{n(7235)("search")},6982:(e,t,n)=>{n(7235)("species")},2159:(e,t,n)=>{n(7235)("split")},6649:(e,t,n)=>{n(7235)("toPrimitive")},9341:(e,t,n)=>{n(7235)("toStringTag")},543:(e,t,n)=>{n(7235)("unscopables")},2990:(e,t,n)=>{"use strict";var r=n(260),i=n(1048),a=r.aTypedArray;r.exportProto("copyWithin",(function(e,t){return i.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).every,a=r.aTypedArray;r.exportProto("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:(e,t,n)=>{"use strict";var r=n(260),i=n(1285),a=r.aTypedArray;r.exportProto("fill",(function(e){return i.apply(a(this),arguments)}))},5035:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).filter,a=n(6707),o=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("filter",(function(e){for(var t=i(o(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),r=0,l=t.length,u=new(s(n))(l);l>r;)u[r]=t[r++];return u}))},7174:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).findIndex,a=r.aTypedArray;r.exportProto("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).find,a=r.aTypedArray;r.exportProto("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4197:(e,t,n)=>{n(9843)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},6495:(e,t,n)=>{n(9843)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},2846:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).forEach,a=r.aTypedArray;r.exportProto("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},8145:(e,t,n)=>{"use strict";var r=n(6500),i=n(260),a=n(7321);i.exportStatic("from",a,r)},4731:(e,t,n)=>{"use strict";var r=n(260),i=n(1318).includes,a=r.aTypedArray;r.exportProto("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:(e,t,n)=>{"use strict";var r=n(260),i=n(1318).indexOf,a=r.aTypedArray;r.exportProto("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},5109:(e,t,n)=>{n(9843)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},5125:(e,t,n)=>{n(9843)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},7145:(e,t,n)=>{n(9843)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},6319:(e,t,n)=>{"use strict";var r=n(7854),i=n(260),a=n(6992),o=n(5112)("iterator"),s=r.Uint8Array,l=a.values,u=a.keys,c=a.entries,h=i.aTypedArray,p=i.exportProto,d=s&&s.prototype[o],f=!!d&&("values"==d.name||null==d.name),g=function(){return l.call(h(this))};p("entries",(function(){return c.call(h(this))})),p("keys",(function(){return u.call(h(this))})),p("values",g,!f),p(o,g,!f)},8867:(e,t,n)=>{"use strict";var r=n(260),i=r.aTypedArray,a=[].join;r.exportProto("join",(function(e){return a.apply(i(this),arguments)}))},7789:(e,t,n)=>{"use strict";var r=n(260),i=n(6583),a=r.aTypedArray;r.exportProto("lastIndexOf",(function(e){return i.apply(a(this),arguments)}))},3739:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).map,a=n(6707),o=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},5206:(e,t,n)=>{"use strict";var r=n(260),i=n(6500),a=r.aTypedArrayConstructor;r.exportStatic("of",(function(){for(var e=0,t=arguments.length,n=new(a(this))(t);t>e;)n[e]=arguments[e++];return n}),i)},4483:(e,t,n)=>{"use strict";var r=n(260),i=n(3671).right,a=r.aTypedArray;r.exportProto("reduceRight",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:(e,t,n)=>{"use strict";var r=n(260),i=n(3671).left,a=r.aTypedArray;r.exportProto("reduce",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:(e,t,n)=>{"use strict";var r=n(260),i=r.aTypedArray,a=Math.floor;r.exportProto("reverse",(function(){for(var e,t=this,n=i(t).length,r=a(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},3462:(e,t,n)=>{"use strict";var r=n(260),i=n(7466),a=n(4590),o=n(7908),s=n(7293),l=r.aTypedArray,u=s((function(){new Int8Array(1).set({})}));r.exportProto("set",(function(e){l(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=o(e),s=i(r.length),u=0;if(s+t>n)throw RangeError("Wrong length");for(;u<s;)this[t+u]=r[u++]}),u)},678:(e,t,n)=>{"use strict";var r=n(260),i=n(6707),a=n(7293),o=r.aTypedArray,s=r.aTypedArrayConstructor,l=[].slice,u=a((function(){new Int8Array(1).slice()}));r.exportProto("slice",(function(e,t){for(var n=l.call(o(this),e,t),r=i(this,this.constructor),a=0,u=n.length,c=new(s(r))(u);u>a;)c[a]=n[a++];return c}),u)},7462:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).some,a=r.aTypedArray;r.exportProto("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:(e,t,n)=>{"use strict";var r=n(260),i=r.aTypedArray,a=[].sort;r.exportProto("sort",(function(e){return a.call(i(this),e)}))},5021:(e,t,n)=>{"use strict";var r=n(260),i=n(7466),a=n(1400),o=n(6707),s=r.aTypedArray;r.exportProto("subarray",(function(e,t){var n=s(this),r=n.length,l=a(e,r);return new(o(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-l))}))},2974:(e,t,n)=>{"use strict";var r=n(7854),i=n(260),a=n(7293),o=r.Int8Array,s=i.aTypedArray,l=[].toLocaleString,u=[].slice,c=!!o&&a((function(){l.call(new o(1))})),h=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));i.exportProto("toLocaleString",(function(){return l.apply(c?u.call(s(this)):s(this),arguments)}),h)},5016:(e,t,n)=>{"use strict";var r=n(7854),i=n(260),a=n(7293),o=r.Uint8Array,s=o&&o.prototype,l=[].toString,u=[].join;a((function(){l.call({})}))&&(l=function(){return u.call(this)}),i.exportProto("toString",l,(s||{}).toString!=l)},8255:(e,t,n)=>{n(9843)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},9135:(e,t,n)=>{n(9843)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},2472:(e,t,n)=>{n(9843)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},9743:(e,t,n)=>{n(9843)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},4129:(e,t,n)=>{"use strict";var r,i=n(7854),a=n(2248),o=n(2423),s=n(7710),l=n(9320),u=n(111),c=n(9909).enforce,h=n(8536),p=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,f=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=s("WeakMap",f,l,!0,!0);if(h&&p){r=l.getConstructor(f,"WeakMap",!0),o.REQUIRED=!0;var v=g.prototype,y=v.delete,m=v.has,b=v.get,x=v.set;a(v,{delete:function(e){if(u(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.delete(e)}return y.call(this,e)},has:function(e){if(u(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),m.call(this,e)||t.frozen.has(e)}return m.call(this,e)},get:function(e){if(u(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),m.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(u(e)&&!d(e)){var n=c(this);n.frozen||(n.frozen=new r),m.call(this,e)?x.call(this,e,t):n.frozen.set(e,t)}else x.call(this,e,t);return this}})}},8478:(e,t,n)=>{"use strict";n(7710)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(9320),!1,!0)},4747:(e,t,n)=>{var r=n(7854),i=n(8324),a=n(8533),o=n(5185);for(var s in i){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==a)try{o(u,"forEach",a)}catch(e){u.forEach=a}}},3948:(e,t,n)=>{var r=n(7854),i=n(8324),a=n(6992),o=n(5185),s=n(5112),l=s("iterator"),u=s("toStringTag"),c=a.values;for(var h in i){var p=r[h],d=p&&p.prototype;if(d){if(d[l]!==c)try{o(d,l,c)}catch(e){d[l]=c}if(d[u]||o(d,u,h),i[h])for(var f in a)if(d[f]!==a[f])try{o(d,f,a[f])}catch(e){d[f]=a[f]}}}},4633:(e,t,n)=>{var r=n(7854),i=n(261),a=!r.setImmediate||!r.clearImmediate;n(2109)({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:i.set,clearImmediate:i.clear})},5844:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(5948),o=n(4326),s=i.process,l="process"==o(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&s.domain;a(t?t.bind(e):e)}})},2564:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(227),o=[].slice,s=function(e){return function(t,n){var r=arguments.length>2,i=r?o.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},1637:(e,t,n)=>{"use strict";n(6992);var r=n(2109),i=n(590),a=n(1320),o=n(2248),s=n(8003),l=n(4994),u=n(9909),c=n(5787),h=n(6656),p=n(244),d=n(9670),f=n(111),g=n(8554),v=n(1246),y=n(5112)("iterator"),m="URLSearchParams",b=m+"Iterator",x=u.set,S=u.getterFor(m),k=u.getterFor(b),w=/\+/g,L=Array(4),C=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},_=function(e){try{return decodeURIComponent(e)}catch(t){return e}},P=function(e){var t=e.replace(w," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(C(n--),_);return t}},N=/[!'()~]|%20/g,T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return T[e]},M=function(e){return encodeURIComponent(e).replace(N,D)},O=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:P(r.shift()),value:P(r.join("="))}))},E=function(e){this.entries.length=0,O(this.entries,e)},A=function(e,t){if(e<t)throw TypeError("Not enough arguments")},I=l((function(e,t){x(this,{type:b,iterator:g(S(e).entries),kind:t})}),"Iterator",(function(){var e=k(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),F=function(){c(this,F,m);var e,t,n,r,i,a,o,s=arguments.length>0?arguments[0]:void 0,l=this,u=[];if(x(l,{type:m,entries:u,updateURL:function(){},updateSearchParams:E}),void 0!==s)if(f(s))if("function"==typeof(e=v(s)))for(t=e.call(s);!(n=t.next()).done;){if((i=(r=g(d(n.value))).next()).done||(a=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");u.push({key:i.value+"",value:a.value+""})}else for(o in s)h(s,o)&&u.push({key:o,value:s[o]+""});else O(u,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},G=F.prototype;o(G,{append:function(e,t){A(arguments.length,2);var n=S(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){A(arguments.length,1);for(var t=S(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){A(arguments.length,1);for(var t=S(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){A(arguments.length,1);for(var t=S(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){A(arguments.length,1);for(var t=S(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){A(arguments.length,1);for(var n,r=S(this),i=r.entries,a=!1,o=e+"",s=t+"",l=0;l<i.length;l++)(n=i[l]).key===o&&(a?i.splice(l--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=S(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=S(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new I(this,"keys")},values:function(){return new I(this,"values")},entries:function(){return new I(this,"entries")}},{enumerable:!0}),a(G,y,G.entries),a(G,"toString",(function(){for(var e,t=S(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(M(e.key)+"="+M(e.value));return n.join("&")}),{enumerable:!0}),s(F,m),r({global:!0,forced:!i},{URLSearchParams:F}),e.exports={URLSearchParams:F,getState:S}},285:(e,t,n)=>{"use strict";n(8783);var r,i=n(2109),a=n(9781),o=n(590),s=n(7854),l=n(6048),u=n(1320),c=n(5787),h=n(6656),p=n(1574),d=n(8457),f=n(8710).codeAt,g=n(3611),v=n(8003),y=n(1637),m=n(9909),b=s.URL,x=y.URLSearchParams,S=y.getState,k=m.set,w=m.getterFor("URL"),L=Math.floor,C=Math.pow,_="Invalid scheme",P="Invalid host",N="Invalid port",T=/[A-Za-z]/,D=/[\d+\-.A-Za-z]/,M=/\d/,O=/^(0x|0X)/,E=/^[0-7]+$/,A=/^\d+$/,I=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,G=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,j=/[\u0009\u000A\u000D]/g,R=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return P;if(!(n=W(t.slice(1,-1))))return P;e.host=n}else if(X(e)){if(t=g(t),F.test(t))return P;if(null===(n=H(t)))return P;e.host=n}else{if(G.test(t))return P;for(n="",r=d(t),i=0;i<r.length;i++)n+=Y(r[i],z);e.host=n}},H=function(e){var t,n,r,i,a,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=O.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?A:8==a?E:I).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=C(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*C(256,3-r);return s},W=function(e){var t,n,r,i,a,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,p=function(){return e.charAt(h)};if(":"==p()){if(":"!=e.charAt(1))return;h+=2,c=++u}for(;p();){if(8==u)return;if(":"!=p()){for(t=n=0;n<4&&I.test(p());)t=16*t+parseInt(p(),16),h++,n++;if("."==p()){if(0==n)return;if(h-=n,u>6)return;for(r=0;p();){if(i=null,r>0){if(!("."==p()&&r<4))return;h++}if(!M.test(p()))return;for(;M.test(p());){if(a=parseInt(p(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(h++,!p())return}else if(p())return;l[u++]=t}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s;else if(8!=u)return;return l},V=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=L(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},z={},U=p({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),q=p({},U,{"#":1,"?":1,"{":1,"}":1}),Z=p({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var n=f(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},J={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},X=function(e){return h(J,e.scheme)},K=function(e){return""!=e.username||""!=e.password},$=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&T.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},re={},ie={},ae={},oe={},se={},le={},ue={},ce={},he={},pe={},de={},fe={},ge={},ve={},ye={},me={},be={},xe={},Se={},ke={},we={},Le=function(e,t,n,i){var a,o,s,l,u,c=n||re,p=0,f="",g=!1,v=!1,y=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(B,"")),t=t.replace(j,""),a=d(t);p<=a.length;){switch(o=a[p],c){case re:if(!o||!T.test(o)){if(n)return _;c=ae;continue}f+=o.toLowerCase(),c=ie;break;case ie:if(o&&(D.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return _;f="",c=ae,p=0;continue}if(n&&(X(e)!=h(J,f)||"file"==f&&(K(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(X(e)&&J[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=ve:X(e)&&i&&i.scheme==e.scheme?c=oe:X(e)?c=ce:"/"==a[p+1]?(c=se,p++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Se)}break;case ae:if(!i||i.cannotBeABaseURL&&"#"!=o)return _;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=we;break}c="file"==i.scheme?ve:le;continue;case oe:if("/"!=o||"/"!=a[p+1]){c=le;continue}c=he,p++;break;case se:if("/"==o){c=pe;break}c=xe;continue;case le:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&X(e))c=ue;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=xe;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=we}break;case ue:if(!X(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=xe;continue}c=pe}else c=he;break;case ce:if(c=he,"/"!=o||"/"!=f.charAt(p+1))continue;p++;break;case he:if("/"!=o&&"\\"!=o){c=pe;continue}break;case pe:if("@"==o){g&&(f="%40"+f),g=!0,s=d(f);for(var m=0;m<s.length;m++){var b=s[m];if(":"!=b||y){var x=Y(b,Z);y?e.password+=x:e.username+=x}else y=!0}f=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(g&&""==f)return"Invalid authority";p-=d(f).length+1,f="",c=de}else f+=o;break;case de:case fe:if(n&&"file"==e.scheme){c=me;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(X(e)&&""==f)return P;if(n&&""==f&&(K(e)||null!==e.port))return;if(l=R(e,f))return l;if(f="",c=be,n)return;continue}"["==o?v=!0:"]"==o&&(v=!1),f+=o}else{if(""==f)return P;if(l=R(e,f))return l;if(f="",c=ge,n==fe)return}break;case ge:if(!M.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)||n){if(""!=f){var S=parseInt(f,10);if(S>65535)return N;e.port=X(e)&&S===J[e.scheme]?null:S,f=""}if(n)return;c=be;continue}return N}f+=o;break;case ve:if(e.scheme="file","/"==o||"\\"==o)c=ye;else{if(!i||"file"!=i.scheme){c=xe;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){ee(a.slice(p).join(""))||(e.host=i.host,e.path=i.path.slice(),te(e)),c=xe;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=we}}break;case ye:if("/"==o||"\\"==o){c=me;break}i&&"file"==i.scheme&&!ee(a.slice(p).join(""))&&(Q(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=xe;continue;case me:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Q(f))c=xe;else if(""==f){if(e.host="",n)return;c=be}else{if(l=R(e,f))return l;if("localhost"==e.host&&(e.host=""),n)return;f="",c=be}continue}f+=o;break;case be:if(X(e)){if(c=xe,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(c=xe,"/"!=o))continue}else e.fragment="",c=we;else e.query="",c=ke;break;case xe:if(o==r||"/"==o||"\\"==o&&X(e)||!n&&("?"==o||"#"==o)){if(".."===(u=(u=f).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(te(e),"/"==o||"\\"==o&&X(e)||e.path.push("")):ne(f)?"/"==o||"\\"==o&&X(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==r||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=ke):"#"==o&&(e.fragment="",c=we)}else f+=Y(o,q);break;case Se:"?"==o?(e.query="",c=ke):"#"==o?(e.fragment="",c=we):o!=r&&(e.path[0]+=Y(o,z));break;case ke:n||"#"!=o?o!=r&&("'"==o&&X(e)?e.query+="%27":e.query+="#"==o?"%23":Y(o,z)):(e.fragment="",c=we);break;case we:o!=r&&(e.fragment+=Y(o,U))}p++}},Ce=function(e){var t,n,r=c(this,Ce,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=k(r,{type:"URL"});if(void 0!==i)if(i instanceof Ce)t=w(i);else if(n=Le(t={},String(i)))throw TypeError(n);if(n=Le(s,o,null,t))throw TypeError(n);var l=s.searchParams=new x,u=S(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},a||(r.href=Pe.call(r),r.origin=Ne.call(r),r.protocol=Te.call(r),r.username=De.call(r),r.password=Me.call(r),r.host=Oe.call(r),r.hostname=Ee.call(r),r.port=Ae.call(r),r.pathname=Ie.call(r),r.search=Fe.call(r),r.searchParams=Ge.call(r),r.hash=Be.call(r))},_e=Ce.prototype,Pe=function(){var e=w(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",K(e)&&(u+=n+(r?":"+r:"")+"@"),u+=V(i),null!==a&&(u+=":"+a)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},Ne=function(){var e=w(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&X(e)?t+"://"+V(e.host)+(null!==n?":"+n:""):"null"},Te=function(){return w(this).scheme+":"},De=function(){return w(this).username},Me=function(){return w(this).password},Oe=function(){var e=w(this),t=e.host,n=e.port;return null===t?"":null===n?V(t):V(t)+":"+n},Ee=function(){var e=w(this).host;return null===e?"":V(e)},Ae=function(){var e=w(this).port;return null===e?"":String(e)},Ie=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=w(this).query;return e?"?"+e:""},Ge=function(){return w(this).searchParams},Be=function(){var e=w(this).fragment;return e?"#"+e:""},je=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&l(_e,{href:je(Pe,(function(e){var t=w(this),n=String(e),r=Le(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:je(Ne),protocol:je(Te,(function(e){var t=w(this);Le(t,String(e)+":",re)})),username:je(De,(function(e){var t=w(this),n=d(String(e));if(!$(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Y(n[r],Z)}})),password:je(Me,(function(e){var t=w(this),n=d(String(e));if(!$(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Y(n[r],Z)}})),host:je(Oe,(function(e){var t=w(this);t.cannotBeABaseURL||Le(t,String(e),de)})),hostname:je(Ee,(function(e){var t=w(this);t.cannotBeABaseURL||Le(t,String(e),fe)})),port:je(Ae,(function(e){var t=w(this);$(t)||(""==(e=String(e))?t.port=null:Le(t,e,ge))})),pathname:je(Ie,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Le(t,e+"",be))})),search:je(Fe,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Le(t,e,ke)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:je(Ge),hash:je(Be,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Le(t,e,we)):t.fragment=null}))}),u(_e,"toJSON",(function(){return Pe.call(this)}),{enumerable:!0}),u(_e,"toString",(function(){return Pe.call(this)}),{enumerable:!0}),b){var Re=b.createObjectURL,He=b.revokeObjectURL;Re&&u(Ce,"createObjectURL",(function(e){return Re.apply(b,arguments)})),He&&u(Ce,"revokeObjectURL",(function(e){return He.apply(b,arguments)}))}v(Ce,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Ce})},3753:(e,t,n)=>{"use strict";n(2109)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},8594:(e,t,n)=>{n(1926),n(6337),n(857)},6337:(e,t,n)=>{n(4747),n(3948),n(4633),n(5844),n(2564),n(285),n(3753),n(1637),e.exports=n(857)},5078:(e,t,n)=>{var r=n(6544);!function(){var t={version:"3.5.17"},n=[].slice,i=function(e){return n.call(e)},a=this.document;function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function s(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(a)try{i(a.documentElement.childNodes)[0].nodeType}catch(e){i=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),a)try{a.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var l=this.Element.prototype,u=l.setAttribute,c=l.setAttributeNS,h=this.CSSStyleDeclaration.prototype,p=h.setProperty;l.setAttribute=function(e,t){u.call(this,e,t+"")},l.setAttributeNS=function(e,t,n){c.call(this,e,t,n+"")},h.setProperty=function(e,t,n){p.call(this,e,t+"",n)}}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function f(e){return null===e?NaN:+e}function g(e){return!isNaN(e)}function v(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}t.ascending=d,t.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},t.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},t.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},t.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},t.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)g(n=+e[a])&&(r+=n);else for(;++a<i;)g(n=+t.call(e,e[a],a))&&(r+=n);return r},t.mean=function(e,t){var n,r=0,i=e.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)g(n=f(e[a]))?r+=n:--o;else for(;++a<i;)g(n=f(t.call(e,e[a],a)))?r+=n:--o;if(o)return r/o},t.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},t.median=function(e,n){var r,i=[],a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)g(r=f(e[o]))&&i.push(r);else for(;++o<a;)g(r=f(n.call(e,e[o],o)))&&i.push(r);if(i.length)return t.quantile(i.sort(d),.5)},t.variance=function(e,t){var n,r,i=e.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)g(n=f(e[s]))&&(o+=(r=n-a)*(n-(a+=r/++l)));else for(;++s<i;)g(n=f(t.call(e,e[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++l)));if(l>1)return o/(l-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e?Math.sqrt(e):e};var y=v(d);function m(e){return e.length}t.bisectLeft=y.left,t.bisect=t.bisectRight=y.right,t.bisector=function(e){return v(1===e.length?function(t,n){return d(e(t),n)}:e)},t.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var r,i,a=n-t;a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},t.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},t.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},t.transpose=function(e){if(!(a=e.length))return[];for(var n=-1,r=t.min(e,m),i=new Array(r);++n<r;)for(var a,o=-1,s=i[n]=new Array(a);++o<a;)s[o]=e[o][n];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(e){var t=[];for(var n in e)t.push(n);return t},t.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},t.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},t.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n};var b=Math.abs;function x(e){for(var t=1;e*t%1;)t*=10;return t}function S(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function k(){this._=Object.create(null)}function w(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function L(e){return"\0"===(e+="")[0]?e.slice(1):e}function C(e){return w(e)in this._}function _(e){return(e=w(e))in this._&&delete this._[e]}function P(){var e=[];for(var t in this._)e.push(L(t));return e}function N(){var e=0;for(var t in this._)++e;return e}function T(){for(var e in this._)return!1;return!0}function D(){this._=Object.create(null)}function M(e){return e}function O(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function E(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=A.length;n<r;++n){var i=A[n]+t;if(i in e)return i}}t.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],a=x(b(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},t.map=function(e,t){var n=new k;if(e instanceof k)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(1===arguments.length)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n},S(k,{has:C,get:function(e){return this._[w(e)]},set:function(e,t){return this._[w(e)]=t},remove:_,keys:P,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:L(t),value:this._[t]});return e},size:N,empty:T,forEach:function(e){for(var t in this._)e.call(this,L(t),this._[t])}}),t.nest=function(){var e,n,r={},i=[],a=[];function o(t,a,s){if(s>=i.length)return n?n.call(r,a):e?a.sort(e):a;for(var l,u,c,h,p=-1,d=a.length,f=i[s++],g=new k;++p<d;)(h=g.get(l=f(u=a[p])))?h.push(u):g.set(l,[u]);return t?(u=t(),c=function(e,n){u.set(e,o(t,n,s))}):(u={},c=function(e,n){u[e]=o(t,n,s)}),g.forEach(c),u}function s(e,t){if(t>=i.length)return e;var n=[],r=a[t++];return e.forEach((function(e,r){n.push({key:e,values:s(r,t)})})),r?n.sort((function(e,t){return r(e.key,t.key)})):n}return r.map=function(e,t){return o(t,e,0)},r.entries=function(e){return s(o(t.map,e,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return a[i.length-1]=e,r},r.sortValues=function(t){return e=t,r},r.rollup=function(e){return n=e,r},r},t.set=function(e){var t=new D;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},S(D,{has:C,add:function(e){return this._[w(e+="")]=!0,e},remove:_,values:P,size:N,empty:T,forEach:function(e){for(var t in this._)e.call(this,L(t))}}),t.behavior={},t.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=O(e,t,t[n]);return e};var A=["webkit","ms","moz","Moz","o","O"];function I(){}function F(){}function G(e){var t=[],n=new k;function r(){for(var n,r=t,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,t=t.slice(0,a=t.indexOf(o)).concat(t.slice(a+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function B(){t.event.preventDefault()}function j(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function R(e){for(var n=new F,r=0,i=arguments.length;++r<i;)n[arguments[r]]=G(n);return n.of=function(r,i){return function(a){try{var o=a.sourceEvent=t.event;a.target=e,t.event=a,n[a.type].apply(r,i)}finally{t.event=o}}},n}t.dispatch=function(){for(var e=new F,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=G(e);return e},F.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},t.event=null,t.requote=function(e){return e.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,W={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function V(e){return W(e,Z),e}var z=function(e,t){return t.querySelector(e)},U=function(e,t){return t.querySelectorAll(e)},q=function(e,t){var n=e.matches||e[E(e,"matchesSelector")];return q=function(e,t){return n.call(e,t)},q(e,t)};"function"==typeof Sizzle&&(z=function(e,t){return Sizzle(e,t)[0]||null},U=Sizzle,q=Sizzle.matchesSelector),t.selection=function(){return t.select(a.documentElement)};var Z=t.selection.prototype=[];function Y(e){return"function"==typeof e?e:function(){return z(e,this)}}function J(e){return"function"==typeof e?e:function(){return U(e,this)}}Z.select=function(e){var t,n,r,i,a=[];e=Y(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return V(a)},Z.selectAll=function(e){var t,n,r=[];e=J(e);for(var a=-1,o=this.length;++a<o;)for(var s=this[a],l=-1,u=s.length;++l<u;)(n=s[l])&&(r.push(t=i(e.call(n,n.__data__,l,a))),t.parentNode=n);return V(r)};var X="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e,n){return e=t.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function Q(e){return e.trim().replace(/\s+/g," ")}function ee(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function te(e){return(e+"").trim().split(/^|\s+/)}function ne(e,t){var n=(e=te(e).map(re)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function re(e){var t=ee(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",Q(i+" "+e))):n.setAttribute("class",Q(i.replace(t," ")))}}function ie(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function ae(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function oe(e){return"function"==typeof e?e:(e=t.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===X&&t.documentElement.namespaceURI===X?t.createElement(e):t.createElementNS(n,e)}}function se(){var e=this.parentNode;e&&e.removeChild(this)}function le(e){return{__data__:e}}function ue(e){return function(){return q(this,e)}}function ce(e){return arguments.length||(e=d),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function he(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,a=e[n],o=0,s=a.length;o<s;o++)(i=a[o])&&t(i,o,n);return e}function pe(e){return W(e,de),e}t.ns={prefix:K,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),K.hasOwnProperty(n)?{space:K[n],local:e}:e}},Z.attr=function(e,n){if(arguments.length<2){if("string"==typeof e){var r=this.node();return(e=t.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each($(n,e[n]));return this}return this.each($(e,n))},Z.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=te(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!ee(e[i]).test(t))return!1;return!0}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))},Z.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(ie(n,e[n],t));return this}if(r<2){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(ie(e,t,n))},Z.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ae(t,e[t]));return this}return this.each(ae(e,t))},Z.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Z.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Z.append=function(e){return e=oe(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},Z.insert=function(e,t){return e=oe(e),t=Y(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},Z.remove=function(){return this.each(se)},Z.data=function(e,t){var n,r,i=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(e[i]=r.__data__);return e}function o(e,n){var r,i,a,o=e.length,c=n.length,h=Math.min(o,c),p=new Array(c),d=new Array(c),f=new Array(o);if(t){var g,v=new k,y=new Array(o);for(r=-1;++r<o;)(i=e[r])&&(v.has(g=t.call(i,i.__data__,r))?f[r]=i:v.set(g,i),y[r]=g);for(r=-1;++r<c;)(i=v.get(g=t.call(n,a=n[r],r)))?!0!==i&&(p[r]=i,i.__data__=a):d[r]=le(a),v.set(g,!0);for(r=-1;++r<o;)r in y&&!0!==v.get(y[r])&&(f[r]=e[r])}else{for(r=-1;++r<h;)i=e[r],a=n[r],i?(i.__data__=a,p[r]=i):d[r]=le(a);for(;r<c;++r)d[r]=le(n[r]);for(;r<o;++r)f[r]=e[r]}d.update=p,d.parentNode=p.parentNode=f.parentNode=e.parentNode,s.push(d),l.push(p),u.push(f)}var s=pe([]),l=V([]),u=V([]);if("function"==typeof e)for(;++i<a;)o(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<a;)o(n=this[i],e);return l.enter=function(){return s},l.exit=function(){return u},l},Z.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Z.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=ue(e));for(var a=0,o=this.length;a<o;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return V(i)},Z.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Z.sort=function(e){e=ce.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Z.each=function(e){return he(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},Z.call=function(e){var t=i(arguments);return e.apply(t[0]=this,t),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},Z.size=function(){var e=0;return he(this,(function(){++e})),e};var de=[];function fe(e){var t,n;return function(r,i,a){var o,s=e[a].update,l=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<l;);return o}}function ge(e,n,r){var a="__on"+e,o=e.indexOf("."),s=ye;o>0&&(e=e.slice(0,o));var l=ve.get(e);function u(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}return l&&(e=l,s=me),o?n?function(){var t=s(n,i(arguments));u.call(this),this.addEventListener(e,this[a]=t,t.$=r),t._=n}:u:n?I:function(){var n,r=new RegExp("^__on([^.]+)"+t.requote(e)+"$");for(var i in this)if(n=i.match(r)){var a=this[i];this.removeEventListener(n[1],a,a.$),delete this[i]}}}t.selection.enter=pe,t.selection.enter.prototype=de,de.append=Z.append,de.empty=Z.empty,de.node=Z.node,de.call=Z.call,de.size=Z.size,de.select=function(e){for(var t,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(t.push(r[u]=n=e.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):t.push(null)}return V(o)},de.insert=function(e,t){return arguments.length<2&&(t=fe(this)),Z.insert.call(this,e,t)},t.select=function(e){var t;return"string"==typeof e?(t=[z(e,a)]).parentNode=a.documentElement:(t=[e]).parentNode=o(e),V([t])},t.selectAll=function(e){var t;return"string"==typeof e?(t=i(U(e,a))).parentNode=a.documentElement:(t=i(e)).parentNode=null,V([t])},Z.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(ge(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(ge(e,t,n))};var ve=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ye(e,n){return function(r){var i=t.event;t.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{t.event=i}}}function me(e,t){var n=ye(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}a&&ve.forEach((function(e){"on"+e in a&&ve.remove(e)}));var be,xe=0;function Se(e){var n=".dragsuppress-"+ ++xe,r="click"+n,i=t.select(s(e)).on("touchmove"+n,B).on("dragstart"+n,B).on("selectstart"+n,B);if(null==be&&(be=!("onselectstart"in e)&&E(e.style,"userSelect")),be){var a=o(e).style,l=a[be];a[be]="none"}return function(e){if(i.on(n,null),be&&(a[be]=l),e){var t=function(){i.on(r,null)};i.on(r,(function(){B(),t()}),!0),setTimeout(t,0)}}}t.mouse=function(e){return we(e,j())};var ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function we(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(ke<0){var a=s(e);if(a.scrollX||a.scrollY){var o=(r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ke=!(o.f||o.e),r.remove()}}return ke?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var l=e.getBoundingClientRect();return[n.clientX-l.left-e.clientLeft,n.clientY-l.top-e.clientTop]}function Le(){return t.event.changedTouches[0].identifier}t.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=j().changedTouches),t)for(var r,i=0,a=t.length;i<a;++i)if((r=t[i]).identifier===n)return we(e,r)},t.behavior.drag=function(){var e=R(a,"drag","dragstart","dragend"),n=null,r=o(I,t.mouse,s,"mousemove","mouseup"),i=o(Le,t.touch,M,"touchmove","touchend");function a(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,a,o,s){return function(){var l,u=this,c=t.event.target.correspondingElement||t.event.target,h=u.parentNode,p=e.of(u,arguments),d=0,f=r(),g=".drag"+(null==f?"":"-"+f),v=t.select(a(c)).on(o+g,b).on(s+g,x),y=Se(c),m=i(h,f);function b(){var e,t,n=i(h,f);n&&(e=n[0]-m[0],t=n[1]-m[1],d|=e|t,m=n,p({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}function x(){i(h,f)&&(v.on(o+g,null).on(s+g,null),y(d),p({type:"dragend"}))}l=n?[(l=n.apply(u,arguments)).x-m[0],l.y-m[1]]:[0,0],p({type:"dragstart"})}}return a.origin=function(e){return arguments.length?(n=e,a):n},t.rebind(a,e,"on")},t.touches=function(e,t){return arguments.length<2&&(t=j().touches),t?i(t).map((function(t){var n=we(e,t);return n.identifier=t.identifier,n})):[]};var Ce=1e-6,_e=Ce*Ce,Pe=Math.PI,Ne=2*Pe,Te=Ne-Ce,De=Pe/2,Me=Pe/180,Oe=180/Pe;function Ee(e){return e>0?1:e<0?-1:0}function Ae(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ie(e){return e>1?0:e<-1?Pe:Math.acos(e)}function Fe(e){return e>1?De:e<-1?-De:Math.asin(e)}function Ge(e){return((e=Math.exp(e))+1/e)/2}function Be(e){return(e=Math.sin(e/2))*e}var je=Math.SQRT2;t.interpolateZoom=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],u=t[2],c=s-i,h=l-a,p=c*c+h*h;if(p<_e)r=Math.log(u/o)/je,n=function(e){return[i+e*c,a+e*h,o*Math.exp(je*e*r)]};else{var d=Math.sqrt(p),f=(u*u-o*o+4*p)/(2*o*2*d),g=(u*u-o*o-4*p)/(2*u*2*d),v=Math.log(Math.sqrt(f*f+1)-f),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/je,n=function(e){var t=e*r,n=Ge(v),s=o/(2*d)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(je*t+v)-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+s*c,a+s*h,o*n/Ge(je*t+v)]}}return n.duration=1e3*r,n},t.behavior.zoom=function(){var e,n,r,i,o,l,u,c,h,p={x:0,y:0,k:1},d=[960,500],f=We,g=250,v=0,y="mousedown.zoom",m="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",S=R(k,"zoomstart","zoom","zoomend");function k(e){e.on(y,M).on(He+".zoom",E).on("dblclick.zoom",A).on(x,O)}function w(e){return[(e[0]-p.x)/p.k,(e[1]-p.y)/p.k]}function L(e){p.k=Math.max(f[0],Math.min(f[1],e))}function C(e,t){t=function(e){return[e[0]*p.k+p.x,e[1]*p.k+p.y]}(t),p.x+=e[0]-t[0],p.y+=e[1]-t[1]}function _(e,r,i,a){e.__chart__={x:p.x,y:p.y,k:p.k},L(Math.pow(2,a)),C(n=r,i),e=t.select(e),g>0&&(e=e.transition().duration(g)),e.call(k.event)}function P(){u&&u.domain(l.range().map((function(e){return(e-p.x)/p.k})).map(l.invert)),h&&h.domain(c.range().map((function(e){return(e-p.y)/p.k})).map(c.invert))}function N(e){v++||e({type:"zoomstart"})}function T(e){P(),e({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function D(e){--v||(e({type:"zoomend"}),n=null)}function M(){var e=this,n=S.of(e,arguments),r=0,i=t.select(s(e)).on(m,l).on(b,u),a=w(t.mouse(e)),o=Se(e);function l(){r=1,C(t.mouse(e),a),T(n)}function u(){i.on(m,null).on(b,null),o(r),D(n)}Os.call(e),N(n)}function O(){var e,n=this,r=S.of(n,arguments),i={},a=0,s=".zoom-"+t.event.changedTouches[0].identifier,l="touchmove"+s,u="touchend"+s,c=[],h=t.select(n),d=Se(n);function f(){var r=t.touches(n);return e=p.k,r.forEach((function(e){e.identifier in i&&(i[e.identifier]=w(e))})),r}function g(){var e=t.event.target;t.select(e).on(l,v).on(u,m),c.push(e);for(var r=t.event.changedTouches,s=0,h=r.length;s<h;++s)i[r[s].identifier]=null;var d=f(),g=Date.now();if(1===d.length){if(g-o<500){var y=d[0];_(n,y,i[y.identifier],Math.floor(Math.log(p.k)/Math.LN2)+1),B()}o=g}else if(d.length>1){y=d[0];var b=d[1],x=y[0]-b[0],S=y[1]-b[1];a=x*x+S*S}}function v(){var s,l,u,c,h=t.touches(n);Os.call(n);for(var p=0,d=h.length;p<d;++p,c=null)if(u=h[p],c=i[u.identifier]){if(l)break;s=u,l=c}if(c){var f=(f=u[0]-s[0])*f+(f=u[1]-s[1])*f,g=a&&Math.sqrt(f/a);s=[(s[0]+u[0])/2,(s[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],L(g*e)}o=null,C(s,l),T(r)}function m(){if(t.event.touches.length){for(var e=t.event.changedTouches,n=0,a=e.length;n<a;++n)delete i[e[n].identifier];for(var o in i)return void f()}t.selectAll(c).on(s,null),h.on(y,M).on(x,O),d(),D(r)}g(),N(r),h.on(y,null).on(x,g)}function E(){var a=S.of(this,arguments);i?clearTimeout(i):(Os.call(this),e=w(n=r||t.mouse(this)),N(a)),i=setTimeout((function(){i=null,D(a)}),50),B(),L(Math.pow(2,.002*Re())*p.k),C(n,e),T(a)}function A(){var e=t.mouse(this),n=Math.log(p.k)/Math.LN2;_(this,e,w(e),t.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return He||(He="onwheel"in a?(Re=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in a?(Re=function(){return t.event.wheelDelta},"mousewheel"):(Re=function(){return-t.event.detail},"MozMousePixelScroll")),k.event=function(e){e.each((function(){var e=S.of(this,arguments),r=p;Is?t.select(this).transition().each("start.zoom",(function(){p=this.__chart__||{x:0,y:0,k:1},N(e)})).tween("zoom:zoom",(function(){var i=d[0],a=d[1],o=n?n[0]:i/2,s=n?n[1]:a/2,l=t.interpolateZoom([(o-p.x)/p.k,(s-p.y)/p.k,i/p.k],[(o-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=p={x:o-n[0]*r,y:s-n[1]*r,k:r},T(e)}})).each("interrupt.zoom",(function(){D(e)})).each("end.zoom",(function(){D(e)})):(this.__chart__=p,N(e),T(e),D(e))}))},k.translate=function(e){return arguments.length?(p={x:+e[0],y:+e[1],k:p.k},P(),k):[p.x,p.y]},k.scale=function(e){return arguments.length?(p={x:p.x,y:p.y,k:null},L(+e),P(),k):p.k},k.scaleExtent=function(e){return arguments.length?(f=null==e?We:[+e[0],+e[1]],k):f},k.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],k):r},k.size=function(e){return arguments.length?(d=e&&[+e[0],+e[1]],k):d},k.duration=function(e){return arguments.length?(g=+e,k):g},k.x=function(e){return arguments.length?(u=e,l=e.copy(),p={x:0,y:0,k:1},k):u},k.y=function(e){return arguments.length?(h=e,c=e.copy(),p={x:0,y:0,k:1},k):h},t.rebind(k,S,"on")};var Re,He,We=[0,1/0];function Ve(){}function ze(e,t,n){return this instanceof ze?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ze?new ze(e.h,e.s,e.l):ht(""+e,pt,ze):new ze(e,t,n)}t.color=Ve,Ve.prototype.toString=function(){return this.rgb()+""},t.hsl=ze;var Ue=ze.prototype=new Ve;function qe(e,t,n){var r,i;function a(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+t):n+t-n*t),new ot(a(e+120),a(e),a(e-120))}function Ze(e,n,r){return this instanceof Ze?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof Ze?new Ze(e.h,e.c,e.l):nt(e instanceof Xe?e.l:(e=dt((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ze(e,n,r)}Ue.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ze(this.h,this.s,this.l/e)},Ue.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ze(this.h,this.s,e*this.l)},Ue.rgb=function(){return qe(this.h,this.s,this.l)},t.hcl=Ze;var Ye=Ze.prototype=new Ve;function Je(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Xe(n,Math.cos(e*=Me)*t,Math.sin(e)*t)}function Xe(e,t,n){return this instanceof Xe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Xe?new Xe(e.l,e.a,e.b):e instanceof Ze?Je(e.h,e.c,e.l):dt((e=ot(e)).r,e.g,e.b):new Xe(e,t,n)}Ye.brighter=function(e){return new Ze(this.h,this.c,Math.min(100,this.l+Ke*(arguments.length?e:1)))},Ye.darker=function(e){return new Ze(this.h,this.c,Math.max(0,this.l-Ke*(arguments.length?e:1)))},Ye.rgb=function(){return Je(this.h,this.c,this.l).rgb()},t.lab=Xe;var Ke=18,$e=.95047,Qe=1.08883,et=Xe.prototype=new Ve;function tt(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return new ot(at(3.2404542*(i=rt(i)*$e)-1.5371385*(r=1*rt(r))-.4985314*(a=rt(a)*Qe)),at(-.969266*i+1.8760108*r+.041556*a),at(.0556434*i-.2040259*r+1.0572252*a))}function nt(e,t,n){return e>0?new Ze(Math.atan2(n,t)*Oe,Math.sqrt(t*t+n*n),e):new Ze(NaN,NaN,e)}function rt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function it(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function at(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ot(e,t,n){return this instanceof ot?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ot?new ot(e.r,e.g,e.b):ht(""+e,ot,qe):new ot(e,t,n)}function st(e){return new ot(e>>16,e>>8&255,255&e)}function lt(e){return st(e)+""}et.brighter=function(e){return new Xe(Math.min(100,this.l+Ke*(arguments.length?e:1)),this.a,this.b)},et.darker=function(e){return new Xe(Math.max(0,this.l-Ke*(arguments.length?e:1)),this.a,this.b)},et.rgb=function(){return tt(this.l,this.a,this.b)},t.rgb=ot;var ut=ot.prototype=new Ve;function ct(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ht(e,t,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(gt(i[0]),gt(i[1]),gt(i[2]))}return(a=vt.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),t(o,s,l))}function pt(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new ze(r,i,l)}function dt(e,t,n){var r=it((.4124564*(e=ft(e))+.3575761*(t=ft(t))+.1804375*(n=ft(n)))/$e),i=it((.2126729*e+.7151522*t+.072175*n)/1);return Xe(116*i-16,500*(r-i),200*(i-it((.0193339*e+.119192*t+.9503041*n)/Qe)))}function ft(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function gt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}ut.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ot(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ot(i,i,i)},ut.darker=function(e){return new ot((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ut.hsl=function(){return pt(this.r,this.g,this.b)},ut.toString=function(){return"#"+ct(this.r)+ct(this.g)+ct(this.b)};var vt=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function yt(e){return"function"==typeof e?e:function(){return e}}function mt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),bt(t,n,e,r)}}function bt(e,n,r,a){var o={},s=t.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function h(){var e,t=u.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||t>=200&&t<300||304===t){try{e=r.call(o,u)}catch(e){return void s.error.call(o,e)}s.load.call(o,e)}else s.error.call(o,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(e)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=h:u.onreadystatechange=function(){u.readyState>3&&h()},u.onprogress=function(e){var n=t.event;t.event=e;try{s.progress.call(o,u)}finally{t.event=n}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",o):n},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return r=e,o},["get","post"].forEach((function(e){o[e]=function(){return o.send.apply(o,[e].concat(i(arguments)))}})),o.send=function(t,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(t,e,!0),null==n||"accept"in l||(l.accept=n+",*/*"),u.setRequestHeader)for(var a in l)u.setRequestHeader(a,l[a]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",(function(e){i(null,e)})),s.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},t.rebind(o,s,"on"),null==a?o:o.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(a))}vt.forEach((function(e,t){vt.set(e,st(t))})),t.functor=yt,t.xhr=mt(M),t.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=bt(e,t,null==n?a:o(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?a:o(e)):n},i}function a(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i.parse=function(e,t){var n;return i.parseRows(e,(function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i}))},i.parseRows=function(e,t){var n,i,a={},o={},s=[],l=e.length,u=0,c=0;function h(){if(u>=l)return o;if(i)return i=!1,a;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return u=n+2,13===(s=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var s,c=1;if(10===(s=e.charCodeAt(u++)))i=!0;else if(13===s)i=!0,10===e.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return e.slice(t,u-c)}return e.slice(t)}for(;(n=h())!==o;){for(var p=[];n!==a&&n!==o;)p.push(n),n=h();t&&null==(p=t(p,c++))||s.push(p)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new D,r=[];return t.forEach((function(e){for(var t in e)n.has(t)||r.push(n.add(t))})),[r.map(l).join(e)].concat(t.map((function(t){return r.map((function(e){return l(t[e])})).join(e)}))).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var xt,St,kt,wt,Lt=this[E(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Ct(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,a={c:e,t:i,n:null};return St?St.n=a:xt=a,St=a,kt||(wt=clearTimeout(wt),kt=1,Lt(_t)),a}function _t(){var e=Pt(),t=Nt()-e;t>24?(isFinite(t)&&(clearTimeout(wt),wt=setTimeout(_t,t)),kt=0):(kt=1,Lt(_t))}function Pt(){for(var e=Date.now(),t=xt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Nt(){for(var e,t=xt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:xt=t.n;return St=e,n}function Tt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}t.timer=function(){Ct.apply(this,arguments)},t.timer.flush=function(){Pt(),Nt()},t.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Dt=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*b(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));function Mt(e){var n=e.decimal,r=e.thousands,i=e.grouping,a=e.currency,o=i&&r?function(e,t){for(var n=e.length,a=[],o=0,s=i[0],l=0;n>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),a.push(e.substring(n-=s,n+s)),!((l+=s+1)>t));)s=i[o=(o+1)%i.length];return a.reverse().join(r)}:M;return function(e){var r=Ot.exec(e),i=r[1]||" ",s=r[2]||">",l=r[3]||"-",u=r[4]||"",c=r[5],h=+r[6],p=r[7],d=r[8],f=r[9],g=1,v="",y="",m=!1,b=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),f){case"n":p=!0,f="g";break;case"%":g=100,y="%",f="f";break;case"p":g=100,y="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(v="0"+f.toLowerCase());case"c":b=!1;case"d":m=!0,d=0;break;case"s":g=-1,f="r"}"$"===u&&(v=a[0],y=a[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):"e"!=f&&"f"!=f||(d=Math.max(0,Math.min(20,d)))),f=Et.get(f)||At;var x=c&&p;return function(e){var r=y;if(m&&e%1)return"";var a=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(g<0){var u=t.formatPrefix(e,d);e=u.scale(e),r=u.symbol+y}else e*=g;var S,k,w=(e=f(e,d)).lastIndexOf(".");if(w<0){var L=b?e.lastIndexOf("e"):-1;L<0?(S=e,k=""):(S=e.substring(0,L),k=e.substring(L))}else S=e.substring(0,w),k=n+e.substring(w+1);!c&&p&&(S=o(S,1/0));var C=v.length+S.length+k.length+(x?0:a.length),_=C<h?new Array(C=h-C+1).join(i):"";return x&&(S=o(_+S,_.length?h-k.length:1/0)),a+=v,e=S+k,("<"===s?a+e+_:">"===s?_+a+e:"^"===s?_.substring(0,C>>=1)+a+e+_.substring(C):a+(x?e:_+e))+r}}}t.formatPrefix=function(e,n){var r=0;return(e=+e)&&(e<0&&(e*=-1),n&&(e=t.round(e,Tt(e,n))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Dt[8+r/3]};var Ot=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Et=t.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,n){return(e=t.round(e,Tt(e,n))).toFixed(Math.max(0,Math.min(20,Tt(e*(1+1e-15),n))))}});function At(e){return e+""}var It=t.time={},Ft=Date;function Gt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Gt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Bt.setUTCDate.apply(this._,arguments)},setDay:function(){Bt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Bt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Bt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Bt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Bt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Bt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Bt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Bt.setTime.apply(this._,arguments)}};var Bt=Date.prototype;function jt(e,t,n){function r(t){var n=e(t),r=a(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Ft(n-1)),1),n}function a(e,n){return t(e=new Ft(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;o<r;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;o<r;)s.push(new Date(+o)),t(o,1);return s}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var s=e.utc=Rt(e);return s.floor=s,s.round=Rt(r),s.ceil=Rt(i),s.offset=Rt(a),s.range=function(e,t,n){try{Ft=Gt;var r=new Gt;return r._=e,o(r,t,n)}finally{Ft=Date}},e}function Rt(e){return function(t,n){try{Ft=Gt;var r=new Gt;return r._=t,e(r,n)._}finally{Ft=Date}}}function Ht(e){var n=e.dateTime,r=e.date,i=e.time,a=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths;function c(e){var t=e.length;function n(n){for(var r,i,a,o=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Wt[r=e.charAt(++s)])&&(r=e.charAt(++s)),(a=S[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Ft!==Gt,i=new(r?Gt:Ft);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return e},n}function h(e,t,n,r){for(var i,a,o,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=k[o in Wt?t.charAt(s++):o])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(Ft=Gt);return n._=e,t(n)}finally{Ft=Date}}return n.parse=function(e){try{Ft=Gt;var n=t.parse(e);return n&&n._}finally{Ft=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=cn;var p=t.map(),d=qt(o),f=Zt(o),g=qt(s),v=Zt(s),y=qt(l),m=Zt(l),b=qt(u),x=Zt(u);a.forEach((function(e,t){p.set(e.toLowerCase(),t)}));var S={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:c(n),d:function(e,t){return Ut(e.getDate(),t,2)},e:function(e,t){return Ut(e.getDate(),t,2)},H:function(e,t){return Ut(e.getHours(),t,2)},I:function(e,t){return Ut(e.getHours()%12||12,t,2)},j:function(e,t){return Ut(1+It.dayOfYear(e),t,3)},L:function(e,t){return Ut(e.getMilliseconds(),t,3)},m:function(e,t){return Ut(e.getMonth()+1,t,2)},M:function(e,t){return Ut(e.getMinutes(),t,2)},p:function(e){return a[+(e.getHours()>=12)]},S:function(e,t){return Ut(e.getSeconds(),t,2)},U:function(e,t){return Ut(It.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ut(It.mondayOfYear(e),t,2)},x:c(r),X:c(i),y:function(e,t){return Ut(e.getFullYear()%100,t,2)},Y:function(e,t){return Ut(e.getFullYear()%1e4,t,4)},Z:ln,"%":function(){return"%"}},k={a:function(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){d.lastIndex=0;var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){y.lastIndex=0;var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,n){return h(e,S.c.toString(),t,n)},d:tn,e:tn,H:rn,I:rn,j:nn,L:sn,m:en,M:an,p:function(e,t,n){var r=p.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:on,U:Jt,w:Yt,W:Xt,x:function(e,t,n){return h(e,S.x.toString(),t,n)},X:function(e,t,n){return h(e,S.X.toString(),t,n)},y:$t,Y:Kt,Z:Qt,"%":un};return c}It.year=jt((function(e){return(e=It.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),It.years=It.year.range,It.years.utc=It.year.utc.range,It.day=jt((function(e){var t=new Ft(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),It.days=It.day.range,It.days.utc=It.day.utc.range,It.dayOfYear=function(e){var t=It.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=It[e]=jt((function(e){return(e=It.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=It.year(e).getDay();return Math.floor((It.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));It[e+"s"]=n.range,It[e+"s"].utc=n.utc.range,It[e+"OfYear"]=function(e){var n=It.year(e).getDay();return Math.floor((It.dayOfYear(e)+(n+t)%7)/7)}})),It.week=It.sunday,It.weeks=It.sunday.range,It.weeks.utc=It.sunday.utc.range,It.weekOfYear=It.sundayOfYear;var Wt={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,zt=/^%/;function Ut(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function qt(e){return new RegExp("^(?:"+e.map(t.requote).join("|")+")","i")}function Zt(e){for(var t=new k,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Yt(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Jt(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Xt(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Kt(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $t(e,t,n){Vt.lastIndex=0;var r,i=Vt.exec(t.slice(n,n+2));return i?(e.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function Qt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function en(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tn(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function nn(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function rn(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function an(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function on(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function sn(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ln(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=b(t)/60|0,i=b(t)%60;return n+Ut(r,"0",2)+Ut(i,"0",2)}function un(e,t,n){zt.lastIndex=0;var r=zt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}t.locale=function(e){return{numberFormat:Mt(e),timeFormat:Ht(e)}};var hn=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pn(){}t.format=hn.numberFormat,t.geo={},pn.prototype={s:0,t:0,add:function(e){fn(e,this.t,dn),fn(dn.s,this.s,this),this.s?this.t+=dn.t:this.s=dn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var dn=new pn;function fn(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function gn(e,t){e&&yn.hasOwnProperty(e.type)&&yn[e.type](e,t)}t.geo.stream=function(e,t){e&&vn.hasOwnProperty(e.type)?vn[e.type](e,t):gn(e,t)};var vn={Feature:function(e,t){gn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)gn(n[r].geometry,t)}},yn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){mn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)mn(n[r],t,0)},Polygon:function(e,t){bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)gn(n[r],t)}};function mn(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function bn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)mn(e[n],t,1);t.polygonEnd()}t.geo.area=function(e){return xn=0,t.geo.stream(e,En),xn};var xn,Sn,kn,wn,Ln,Cn,_n,Pn,Nn,Tn,Dn,Mn,On=new pn,En={sphere:function(){xn+=4*Pe},point:I,lineStart:I,lineEnd:I,polygonStart:function(){On.reset(),En.lineStart=An},polygonEnd:function(){var e=2*On;xn+=e<0?4*Pe+e:e,En.lineStart=En.lineEnd=En.point=I}};function An(){var e,t,n,r,i;function a(e,t){t=t*Me/2+Pe/4;var a=(e*=Me)-n,o=a>=0?1:-1,s=o*a,l=Math.cos(t),u=Math.sin(t),c=i*u,h=r*l+c*Math.cos(s),p=c*o*Math.sin(s);On.add(Math.atan2(p,h)),n=e,r=l,i=u}En.point=function(o,s){En.point=a,n=(e=o)*Me,r=Math.cos(s=(t=s)*Me/2+Pe/4),i=Math.sin(s)},En.lineEnd=function(){a(e,t)}}function In(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Fn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Gn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Bn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function jn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Rn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Hn(e){return[Math.atan2(e[1],e[0]),Fe(e[2])]}function Wn(e,t){return b(e[0]-t[0])<Ce&&b(e[1]-t[1])<Ce}t.geo.bounds=function(){var e,n,r,i,a,o,s,l,u,c,h,p={point:d,lineStart:g,lineEnd:v,polygonStart:function(){p.point=y,p.lineStart=m,p.lineEnd=x,u=0,En.polygonStart()},polygonEnd:function(){En.polygonEnd(),p.point=d,p.lineStart=g,p.lineEnd=v,On<0?(e=-(r=180),n=-(i=90)):u>Ce?i=90:u<-Ce&&(n=-90),h[0]=e,h[1]=r}};function d(t,a){c.push(h=[e=t,r=t]),a<n&&(n=a),a>i&&(i=a)}function f(t,o){var s=In([t*Me,o*Me]);if(l){var u=Gn(l,s),c=Gn([u[1],-u[0],0],u);Rn(c),c=Hn(c);var h=t-a,p=h>0?1:-1,f=c[0]*Oe*p,g=b(h)>180;if(g^(p*a<f&&f<p*t))(v=c[1]*Oe)>i&&(i=v);else if(g^(p*a<(f=(f+360)%360-180)&&f<p*t)){var v;(v=-c[1]*Oe)<n&&(n=v)}else o<n&&(n=o),o>i&&(i=o);g?t<a?S(e,t)>S(e,r)&&(r=t):S(t,r)>S(e,r)&&(e=t):r>=e?(t<e&&(e=t),t>r&&(r=t)):t>a?S(e,t)>S(e,r)&&(r=t):S(t,r)>S(e,r)&&(e=t)}else d(t,o);l=s,a=t}function g(){p.point=f}function v(){h[0]=e,h[1]=r,p.point=d,l=null}function y(e,t){if(l){var n=e-a;u+=b(n)>180?n+(n>0?360:-360):n}else o=e,s=t;En.point(e,t),f(e,t)}function m(){En.lineStart()}function x(){y(o,s),En.lineEnd(),b(u)>Ce&&(e=-(r=180)),h[0]=e,h[1]=r,l=null}function S(e,t){return(t-=e)<0?t+360:t}function k(e,t){return e[0]-t[0]}function w(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(a){if(i=r=-(e=n=1/0),c=[],t.geo.stream(a,p),u=c.length){c.sort(k);for(var o=1,s=[g=c[0]];o<u;++o)w((d=c[o])[0],g)||w(d[1],g)?(S(g[0],d[1])>S(g[0],g[1])&&(g[1]=d[1]),S(d[0],g[1])>S(g[0],g[1])&&(g[0]=d[0])):s.push(g=d);for(var l,u,d,f=-1/0,g=(o=0,s[u=s.length-1]);o<=u;g=d,++o)d=s[o],(l=S(g[1],d[0]))>f&&(f=l,e=d[0],r=g[1])}return c=h=null,e===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,n],[r,i]]}}(),t.geo.centroid=function(e){Sn=kn=wn=Ln=Cn=_n=Pn=Nn=Tn=Dn=Mn=0,t.geo.stream(e,Vn);var n=Tn,r=Dn,i=Mn,a=n*n+r*r+i*i;return a<_e&&(n=_n,r=Pn,i=Nn,kn<Ce&&(n=wn,r=Ln,i=Cn),(a=n*n+r*r+i*i)<_e)?[NaN,NaN]:[Math.atan2(r,n)*Oe,Fe(i/Math.sqrt(a))*Oe]};var Vn={sphere:I,point:zn,lineStart:qn,lineEnd:Zn,polygonStart:function(){Vn.lineStart=Yn},polygonEnd:function(){Vn.lineStart=qn}};function zn(e,t){e*=Me;var n=Math.cos(t*=Me);Un(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Un(e,t,n){++Sn,wn+=(e-wn)/Sn,Ln+=(t-Ln)/Sn,Cn+=(n-Cn)/Sn}function qn(){var e,t,n;function r(r,i){r*=Me;var a=Math.cos(i*=Me),o=a*Math.cos(r),s=a*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=t*l-n*s)*u+(u=n*o-e*l)*u+(u=e*s-t*o)*u),e*o+t*s+n*l);kn+=u,_n+=u*(e+(e=o)),Pn+=u*(t+(t=s)),Nn+=u*(n+(n=l)),Un(e,t,n)}Vn.point=function(i,a){i*=Me;var o=Math.cos(a*=Me);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(a),Vn.point=r,Un(e,t,n)}}function Zn(){Vn.point=zn}function Yn(){var e,t,n,r,i;function a(e,t){e*=Me;var a=Math.cos(t*=Me),o=a*Math.cos(e),s=a*Math.sin(e),l=Math.sin(t),u=r*l-i*s,c=i*o-n*l,h=n*s-r*o,p=Math.sqrt(u*u+c*c+h*h),d=n*o+r*s+i*l,f=p&&-Ie(d)/p,g=Math.atan2(p,d);Tn+=f*u,Dn+=f*c,Mn+=f*h,kn+=g,_n+=g*(n+(n=o)),Pn+=g*(r+(r=s)),Nn+=g*(i+(i=l)),Un(n,r,i)}Vn.point=function(o,s){e=o,t=s,Vn.point=a,o*=Me;var l=Math.cos(s*=Me);n=l*Math.cos(o),r=l*Math.sin(o),i=Math.sin(s),Un(n,r,i)},Vn.lineEnd=function(){a(e,t),Vn.lineEnd=Zn,Vn.point=zn}}function Jn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Xn(){return!0}function Kn(e,t,n,r,i){var a=[],o=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Wn(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var l=new Qn(n,e,null,!0),u=new Qn(n,null,l,!1);l.o=u,a.push(l),o.push(u),l=new Qn(r,e,null,!1),u=new Qn(r,null,l,!0),l.o=u,a.push(l),o.push(u)}}})),o.sort(t),$n(a),$n(o),a.length){for(var s=0,l=n,u=o.length;s<u;++s)o[s].e=l=!l;for(var c,h,p=a[0];;){for(var d=p,f=!0;d.v;)if((d=d.n)===p)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(s=0,u=c.length;s<u;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(s=(c=d.p.z).length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}}function $n(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Qn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function er(e,n,r,i){return function(a,o){var s,l=n(o),u=a.invert(i[0],i[1]),c={point:h,lineStart:d,lineEnd:f,polygonStart:function(){c.point=x,c.lineStart=S,c.lineEnd=k,s=[],g=[]},polygonEnd:function(){c.point=h,c.lineStart=d,c.lineEnd=f,s=t.merge(s);var e=function(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;On.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var h=u[0],p=h[0],d=h[1]/2+Pe/4,f=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var y=(e=u[v])[0],m=e[1]/2+Pe/4,b=Math.sin(m),x=Math.cos(m),S=y-p,k=S>=0?1:-1,w=k*S,L=w>Pe,C=f*b;if(On.add(Math.atan2(C*k*Math.sin(w),g*x+C*Math.cos(w))),a+=L?S+k*Ne:S,L^p>=n^y>=n){var _=Gn(In(h),In(e));Rn(_);var P=Gn(i,_);Rn(P);var N=(L^S>=0?-1:1)*Fe(P[2]);(r>N||r===N&&(_[0]||_[1]))&&(o+=L^S>=0?1:-1)}if(!v++)break;p=y,f=b,g=x,h=e}}return(a<-Ce||a<Ce&&On<-Ce)^1&o}(u,g);s.length?(b||(o.polygonStart(),b=!0),Kn(s,rr,e,r,o)):e&&(b||(o.polygonStart(),b=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),s=g=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(t,n){var r=a(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function p(e,t){var n=a(e,t);l.point(n[0],n[1])}function d(){c.point=p,l.lineStart()}function f(){c.point=h,l.lineEnd()}var g,v,y=nr(),m=n(y),b=!1;function x(e,t){v.push([e,t]);var n=a(e,t);m.point(n[0],n[1])}function S(){m.lineStart(),v=[]}function k(){x(v[0][0],v[0][1]),m.lineEnd();var e,t=m.clean(),n=y.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&t){var i,a=-1;if((r=(e=n[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(tr))}return c}}function tr(e){return e.length>1}function nr(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:I,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function rr(e,t){return((e=e.x)[0]<0?e[1]-De-Ce:De-e[1])-((t=t.x)[0]<0?t[1]-De-Ce:De-t[1])}var ir=er(Xn,(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Pe:-Pe,l=b(a-n);b(l-Pe)<Ce?(e.point(n,r=(r+o)/2>0?De:-De),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=Pe&&(b(n-i)<Ce&&(n-=i*Ce),b(a-s)<Ce&&(a-=s*Ce),r=function(e,t,n,r){var i,a,o=Math.sin(e-n);return b(o)>Ce?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*De,r.point(-Pe,i),r.point(0,i),r.point(Pe,i),r.point(Pe,0),r.point(Pe,-i),r.point(0,-i),r.point(-Pe,-i),r.point(-Pe,0),r.point(-Pe,i);else if(b(e[0]-t[0])>Ce){var a=e[0]<t[0]?Pe:-Pe;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-Pe,-Pe/2]);function ar(e){var t=Math.cos(e),n=t>0,r=b(t)>Ce;return er(i,(function(e){var t,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,p){var d,f=[h,p],g=i(h,p),v=n?g?0:o(h,p):g?o(h+(h<0?Pe:-Pe),p):0;if(!t&&(u=l=g)&&e.lineStart(),g!==l&&(d=a(t,f),(Wn(t,d)||Wn(f,d))&&(f[0]+=Ce,f[1]+=Ce,g=i(f[0],f[1]))),g!==l)c=0,g?(e.lineStart(),d=a(f,t),e.point(d[0],d[1])):(d=a(t,f),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(r&&t&&n^g){var y;v&s||!(y=a(f,t,!0))||(c=0,n?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!g||t&&Wn(t,f)||e.point(f[0],f[1]),t=f,l=g,s=v},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),Wr(e,6*Me),n?[0,-e]:[-Pe,e-Pe]);function i(e,n){return Math.cos(e)*Math.cos(n)>t}function a(e,n,r){var i=[1,0,0],a=Gn(In(e),In(n)),o=Fn(a,a),s=a[0],l=o-s*s;if(!l)return!r&&e;var u=t*o/l,c=-t*s/l,h=Gn(i,a),p=jn(i,u);Bn(p,jn(a,c));var d=h,f=Fn(p,d),g=Fn(d,d),v=f*f-g*(Fn(p,p)-1);if(!(v<0)){var y=Math.sqrt(v),m=jn(d,(-f-y)/g);if(Bn(m,p),m=Hn(m),!r)return m;var x,S=e[0],k=n[0],w=e[1],L=n[1];k<S&&(x=S,S=k,k=x);var C=k-S,_=b(C-Pe)<Ce;if(!_&&L<w&&(x=w,w=L,L=x),_||C<Ce?_?w+L>0^m[1]<(b(m[0]-S)<Ce?w:L):w<=m[1]&&m[1]<=L:C>Pe^(S<=m[0]&&m[0]<=k)){var P=jn(d,(-f+y)/g);return Bn(P,p),[m,Hn(P)]}}}function o(t,r){var i=n?e:Pe-e,a=0;return t<-i?a|=1:t>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}}function or(e,t,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,u=o.y,c=0,h=1,p=s.x-l,d=s.y-u;if(a=e-l,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>c&&(c=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<h&&(h=a)}if(a=t-u,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>c&&(c=a)}if(a=r-u,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<h&&(h=a)}return c>0&&(i.a={x:l+c*p,y:u+c*d}),h<1&&(i.b={x:l+h*p,y:u+h*d}),i}}}}}}var sr=1e9;function lr(e,n,r,i){return function(l){var u,c,h,p,d,f,g,v,y,m,b,x=l,S=nr(),k=or(e,n,r,i),w={point:_,lineStart:function(){w.point=P,c&&c.push(h=[]),m=!0,y=!1,g=v=NaN},lineEnd:function(){u&&(P(p,d),f&&y&&S.rejoin(),u.push(S.buffer())),w.point=_,y&&l.lineEnd()},polygonStart:function(){l=S,u=[],c=[],b=!0},polygonEnd:function(){l=x,u=t.merge(u);var n=function(e){for(var t=0,n=c.length,r=e[1],i=0;i<n;++i)for(var a,o=1,s=c[i],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=r?a[1]>r&&Ae(u,a,e)>0&&++t:a[1]<=r&&Ae(u,a,e)<0&&--t,u=a;return 0!==t}([e,i]),r=b&&n,a=u.length;(r||a)&&(l.polygonStart(),r&&(l.lineStart(),L(null,null,1,l),l.lineEnd()),a&&Kn(u,o,n,L,l),l.polygonEnd()),u=c=h=null}};function L(t,o,l,u){var c=0,h=0;if(null==t||(c=a(t,l))!==(h=a(o,l))||s(t,o)<0^l>0)do{u.point(0===c||3===c?e:r,c>1?i:n)}while((c=(c+l+4)%4)!==h);else u.point(o[0],o[1])}function C(t,a){return e<=t&&t<=r&&n<=a&&a<=i}function _(e,t){C(e,t)&&l.point(e,t)}function P(e,t){var n=C(e=Math.max(-1e9,Math.min(sr,e)),t=Math.max(-1e9,Math.min(sr,t)));if(c&&h.push([e,t]),m)p=e,d=t,f=n,m=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&y)l.point(e,t);else{var r={a:{x:g,y:v},b:{x:e,y:t}};k(r)?(y||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(e,t),b=!1)}g=e,v=t,y=n}return w};function a(t,i){return b(t[0]-e)<Ce?i>0?0:3:b(t[0]-r)<Ce?i>0?2:1:b(t[1]-n)<Ce?i>0?1:0:i>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ur(e){var t=0,n=Pe/3,r=Ar(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Pe/180,n=e[1]*Pe/180):[t/Pe*180,n/Pe*180]},i}function cr(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),a-n*Math.cos(e)]}return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,Fe((i-(e*e+n*n)*r*r)/(2*r))]},o}t.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),(i=a(e)).valid=!0,i},extent:function(s){return arguments.length?(a=lr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(t.geo.conicEqualArea=function(){return ur(cr)}).raw=cr,t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},t.geo.albersUsa=function(){var e,n,r,i,a=t.geo.albers(),o=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};function u(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(r(a,o),e)||i(a,o),e}return u.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(e)},u.stream=function(e){var t=a.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),u):a.precision()},u.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),u.translate(a.translate())):a.scale()},u.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),c=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[c-.455*t,h-.238*t],[c+.455*t,h+.238*t]]).stream(l).point,r=o.translate([c-.307*t,h+.201*t]).clipExtent([[c-.425*t+Ce,h+.12*t+Ce],[c-.214*t-Ce,h+.234*t-Ce]]).stream(l).point,i=s.translate([c-.205*t,h+.212*t]).clipExtent([[c-.214*t+Ce,h+.166*t+Ce],[c-.115*t-Ce,h+.234*t-Ce]]).stream(l).point,u},u.scale(1070)};var hr,pr,dr,fr,gr,vr,yr={point:I,lineStart:I,lineEnd:I,polygonStart:function(){pr=0,yr.lineStart=mr},polygonEnd:function(){yr.lineStart=yr.lineEnd=yr.point=I,hr+=b(pr/2)}};function mr(){var e,t,n,r;function i(e,t){pr+=r*e-n*t,n=e,r=t}yr.point=function(a,o){yr.point=i,e=n=a,t=r=o},yr.lineEnd=function(){i(e,t)}}var br={point:function(e,t){e<dr&&(dr=e),e>gr&&(gr=e),t<fr&&(fr=t),t>vr&&(vr=t)},lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I};function xr(){var e=Sr(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=Sr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=a}function a(e,n){t.push("L",e,",",n)}function o(){n.point=r}function s(){t.push("Z")}return n}function Sr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var kr,wr={point:Lr,lineStart:Cr,lineEnd:_r,polygonStart:function(){wr.lineStart=Pr},polygonEnd:function(){wr.point=Lr,wr.lineStart=Cr,wr.lineEnd=_r}};function Lr(e,t){wn+=e,Ln+=t,++Cn}function Cr(){var e,t;function n(n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a);_n+=o*(e+n)/2,Pn+=o*(t+r)/2,Nn+=o,Lr(e=n,t=r)}wr.point=function(r,i){wr.point=n,Lr(e=r,t=i)}}function _r(){wr.point=Lr}function Pr(){var e,t,n,r;function i(e,t){var i=e-n,a=t-r,o=Math.sqrt(i*i+a*a);_n+=o*(n+e)/2,Pn+=o*(r+t)/2,Nn+=o,Tn+=(o=r*e-n*t)*(n+e),Dn+=o*(r+t),Mn+=3*o,Lr(n=e,r=t)}wr.point=function(a,o){wr.point=i,Lr(e=n=a,t=r=o)},wr.lineEnd=function(){i(e,t)}}function Nr(e){var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:I};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Ne)}function i(t,r){e.moveTo(t,r),n.point=a}function a(t,n){e.lineTo(t,n)}function o(){n.point=r}function s(){e.closePath()}return n}function Tr(e){var t=.5,n=Math.cos(30*Me),r=16;function i(e){return(r?o:a)(e)}function a(t){return Or(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function o(t){var n,i,a,o,l,u,c,h,p,d,f,g,v={point:y,lineStart:m,lineEnd:x,polygonStart:function(){t.polygonStart(),v.lineStart=S},polygonEnd:function(){t.polygonEnd(),v.lineStart=m}};function y(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){h=NaN,v.point=b,t.lineStart()}function b(n,i){var a=In([n,i]),o=e(n,i);s(h,p,c,d,f,g,h=o[0],p=o[1],c=n,d=a[0],f=a[1],g=a[2],r,t),t.point(h,p)}function x(){v.point=y,t.lineEnd()}function S(){m(),v.point=k,v.lineEnd=w}function k(e,t){b(n=e,t),i=h,a=p,o=d,l=f,u=g,v.point=b}function w(){s(h,p,c,d,f,g,i,a,n,o,l,u,r,t),v.lineEnd=x,x()}return v}function s(r,i,a,o,l,u,c,h,p,d,f,g,v,y){var m=c-r,x=h-i,S=m*m+x*x;if(S>4*t&&v--){var k=o+d,w=l+f,L=u+g,C=Math.sqrt(k*k+w*w+L*L),_=Math.asin(L/=C),P=b(b(L)-1)<Ce||b(a-p)<Ce?(a+p)/2:Math.atan2(w,k),N=e(P,_),T=N[0],D=N[1],M=T-r,O=D-i,E=x*M-m*O;(E*E/S>t||b((m*M+x*O)/S-.5)>.3||o*d+l*f+u*g<n)&&(s(r,i,a,o,l,u,T,D,P,k/=C,w/=C,L,v,y),y.point(T,D),s(T,D,P,k,w,L,c,h,p,d,f,g,v,y))}}return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Dr(e){var t=Tr((function(t,n){return e([t*Oe,n*Oe])}));return function(e){return Ir(t(e))}}function Mr(e){this.stream=e}function Or(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Er(e){return Ar((function(){return e}))()}function Ar(e){var n,r,i,a,o,s,l=Tr((function(e,t){return[(e=n(e,t))[0]*u+a,o-e[1]*u]})),u=150,c=480,h=250,p=0,d=0,f=0,g=0,v=0,y=ir,m=M,b=null,x=null;function S(e){return[(e=i(e[0]*Me,e[1]*Me))[0]*u+a,o-e[1]*u]}function k(e){return(e=i.invert((e[0]-a)/u,(o-e[1])/u))&&[e[0]*Oe,e[1]*Oe]}function w(){i=Jn(r=Br(f,g,v),n);var e=n(p,d);return a=c-e[0]*u,o=h+e[1]*u,L()}function L(){return s&&(s.valid=!1,s=null),S}return S.stream=function(e){return s&&(s.valid=!1),(s=Ir(y(r,l(m(e))))).valid=!0,s},S.clipAngle=function(e){return arguments.length?(y=null==e?(b=e,ir):ar((b=+e)*Me),L()):b},S.clipExtent=function(e){return arguments.length?(x=e,m=e?lr(e[0][0],e[0][1],e[1][0],e[1][1]):M,L()):x},S.scale=function(e){return arguments.length?(u=+e,w()):u},S.translate=function(e){return arguments.length?(c=+e[0],h=+e[1],w()):[c,h]},S.center=function(e){return arguments.length?(p=e[0]%360*Me,d=e[1]%360*Me,w()):[p*Oe,d*Oe]},S.rotate=function(e){return arguments.length?(f=e[0]%360*Me,g=e[1]%360*Me,v=e.length>2?e[2]%360*Me:0,w()):[f*Oe,g*Oe,v*Oe]},t.rebind(S,l,"precision"),function(){return n=e.apply(this,arguments),S.invert=n.invert&&k,w()}}function Ir(e){return Or(e,(function(t,n){e.point(t*Me,n*Me)}))}function Fr(e,t){return[e,t]}function Gr(e,t){return[e>Pe?e-Ne:e<-Pe?e+Ne:e,t]}function Br(e,t,n){return e?t||n?Jn(Rr(e),Hr(t,n)):Rr(e):t||n?Hr(t,n):Gr}function jr(e){return function(t,n){return[(t+=e)>Pe?t-Ne:t<-Pe?t+Ne:t,n]}}function Rr(e){var t=jr(e);return t.invert=jr(-e),t}function Hr(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),a=Math.sin(t);function o(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,u=Math.sin(t),c=u*n+s*r;return[Math.atan2(l*i-c*a,s*n-u*r),Fe(c*i+l*a)]}return o.invert=function(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,u=Math.sin(t),c=u*i-l*a;return[Math.atan2(l*i+u*a,s*n+c*r),Fe(c*n-s*r)]},o}function Wr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var l=o*t;null!=i?(i=Vr(n,i),a=Vr(n,a),(o>0?i<a:i>a)&&(i+=o*Ne)):(i=e+o*Ne,a=e-.5*l);for(var u,c=i;o>0?c>a:c<a;c-=l)s.point((u=Hn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Vr(e,t){var n=In(t);n[0]-=e,Rn(n);var r=Ie(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ce)%(2*Math.PI)}function zr(e,n,r){var i=t.range(e,n-Ce,r).concat(n);return function(e){return i.map((function(t){return[e,t]}))}}function Ur(e,n,r){var i=t.range(e,n-Ce,r).concat(n);return function(e){return i.map((function(t){return[t,e]}))}}function qr(e){return e.source}function Zr(e){return e.target}t.geo.path=function(){var e,n,r,i,a,o=4.5;function s(e){return e&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=r(i)),t.geo.stream(e,a)),i.result()}function l(){return a=null,s}return s.area=function(e){return hr=0,t.geo.stream(e,r(yr)),hr},s.centroid=function(e){return wn=Ln=Cn=_n=Pn=Nn=Tn=Dn=Mn=0,t.geo.stream(e,r(wr)),Mn?[Tn/Mn,Dn/Mn]:Nn?[_n/Nn,Pn/Nn]:Cn?[wn/Cn,Ln/Cn]:[NaN,NaN]},s.bounds=function(e){return gr=vr=-(dr=fr=1/0),t.geo.stream(e,r(br)),[[dr,fr],[gr,vr]]},s.projection=function(t){return arguments.length?(r=(e=t)?t.stream||Dr(t):M,l()):e},s.context=function(e){return arguments.length?(i=null==(n=e)?new xr:new Nr(e),"function"!=typeof o&&i.pointRadius(o),l()):n},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(i.pointRadius(+e),+e),s):o},s.projection(t.geo.albersUsa()).context(null)},t.geo.transform=function(e){return{stream:function(t){var n=new Mr(t);for(var r in e)n[r]=e[r];return n}}},Mr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},t.geo.projection=Er,t.geo.projectionMutator=Ar,(t.geo.equirectangular=function(){return Er(Fr)}).raw=Fr.invert=Fr,t.geo.rotation=function(e){function t(t){return(t=e(t[0]*Me,t[1]*Me))[0]*=Oe,t[1]*=Oe,t}return e=Br(e[0]%360*Me,e[1]*Me,e.length>2?e[2]*Me:0),t.invert=function(t){return(t=e.invert(t[0]*Me,t[1]*Me))[0]*=Oe,t[1]*=Oe,t},t},Gr.invert=Fr,t.geo.circle=function(){var e,t,n=[0,0],r=6;function i(){var e="function"==typeof n?n.apply(this,arguments):n,r=Br(-e[0]*Me,-e[1]*Me,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=Oe,e[1]*=Oe}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(n=e,i):n},i.angle=function(n){return arguments.length?(t=Wr((e=+n)*Me,r*Me),i):e},i.precision=function(n){return arguments.length?(t=Wr(e*Me,(r=+n)*Me),i):r},i.angle(90)},t.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Me,i=e[1]*Me,a=t[1]*Me,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},t.geo.graticule=function(){var e,n,r,i,a,o,s,l,u,c,h,p,d=10,f=d,g=90,v=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:x()}}function x(){return t.range(Math.ceil(i/g)*g,r,g).map(h).concat(t.range(Math.ceil(l/v)*v,s,v).map(p)).concat(t.range(Math.ceil(n/d)*d,e,d).filter((function(e){return b(e%g)>Ce})).map(u)).concat(t.range(Math.ceil(o/f)*f,a,f).filter((function(e){return b(e%v)>Ce})).map(c))}return m.lines=function(){return x().map((function(e){return{type:"LineString",coordinates:e}}))},m.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(p(s).slice(1),h(r).reverse().slice(1),p(l).reverse().slice(1))]}},m.extent=function(e){return arguments.length?m.majorExtent(e).minorExtent(e):m.minorExtent()},m.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),l>s&&(e=l,l=s,s=e),m.precision(y)):[[i,l],[r,s]]},m.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],n>e&&(t=n,n=e,e=t),o>a&&(t=o,o=a,a=t),m.precision(y)):[[n,o],[e,a]]},m.step=function(e){return arguments.length?m.majorStep(e).minorStep(e):m.minorStep()},m.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],m):[g,v]},m.minorStep=function(e){return arguments.length?(d=+e[0],f=+e[1],m):[d,f]},m.precision=function(t){return arguments.length?(y=+t,u=zr(o,a,90),c=Ur(n,e,y),h=zr(l,s,90),p=Ur(i,r,y),m):y},m.majorExtent([[-180,-90+Ce],[180,90-Ce]]).minorExtent([[-180,-80-Ce],[180,80+Ce]])},t.geo.greatArc=function(){var e,n,r=qr,i=Zr;function a(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}return a.distance=function(){return t.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},a.source=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,a):r},a.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,a):i},a.precision=function(){return arguments.length?a:0},a},t.geo.interpolate=function(e,t){return n=e[0]*Me,r=e[1]*Me,i=t[0]*Me,a=t[1]*Me,o=Math.cos(r),s=Math.sin(r),l=Math.cos(a),u=Math.sin(a),c=o*Math.cos(n),h=o*Math.sin(n),p=l*Math.cos(i),d=l*Math.sin(i),f=2*Math.asin(Math.sqrt(Be(a-r)+o*l*Be(i-n))),g=1/Math.sin(f),(v=f?function(e){var t=Math.sin(e*=f)*g,n=Math.sin(f-e)*g,r=n*c+t*p,i=n*h+t*d,a=n*s+t*u;return[Math.atan2(i,r)*Oe,Math.atan2(a,Math.sqrt(r*r+i*i))*Oe]}:function(){return[n*Oe,r*Oe]}).distance=f,v;var n,r,i,a,o,s,l,u,c,h,p,d,f,g,v},t.geo.length=function(e){return kr=0,t.geo.stream(e,Yr),kr};var Yr={sphere:I,point:I,lineStart:function(){var e,t,n;function r(r,i){var a=Math.sin(i*=Me),o=Math.cos(i),s=b((r*=Me)-e),l=Math.cos(s);kr+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-t*o*l)*s),t*a+n*o*l),e=r,t=a,n=o}Yr.point=function(i,a){e=i*Me,t=Math.sin(a*=Me),n=Math.cos(a),Yr.point=r},Yr.lineEnd=function(){Yr.point=Yr.lineEnd=I}},lineEnd:I,polygonStart:I,polygonEnd:I};function Jr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}var Xr=Jr((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(t.geo.azimuthalEqualArea=function(){return Er(Xr)}).raw=Xr;var Kr=Jr((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),M);function $r(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Pe/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),a=n*Math.pow(r(e),i)/i;if(!i)return ti;function o(e,t){a>0?t<-De+Ce&&(t=-De+Ce):t>De-Ce&&(t=De-Ce);var n=a/Math.pow(r(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=a-t,r=Ee(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-De]},o}function Qr(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(b(r)<Ce)return Fr;function a(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-Ee(r)*Math.sqrt(e*e+n*n)]},a}(t.geo.azimuthalEquidistant=function(){return Er(Kr)}).raw=Kr,(t.geo.conicConformal=function(){return ur($r)}).raw=$r,(t.geo.conicEquidistant=function(){return ur(Qr)}).raw=Qr;var ei=Jr((function(e){return 1/e}),Math.atan);function ti(e,t){return[e,Math.log(Math.tan(Pe/4+t/2))]}function ni(e){var t,n=Er(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=Pe*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}(t.geo.gnomonic=function(){return Er(ei)}).raw=ei,ti.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-De]},(t.geo.mercator=function(){return ni(ti)}).raw=ti;var ri=Jr((function(){return 1}),Math.asin);(t.geo.orthographic=function(){return Er(ri)}).raw=ri;var ii=Jr((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function ai(e,t){return[Math.log(Math.tan(Pe/4+t/2)),-e]}function oi(e){return e[0]}function si(e){return e[1]}function li(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Ae(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ui(e,t){return e[0]-t[0]||e[1]-t[1]}(t.geo.stereographic=function(){return Er(ii)}).raw=ii,ai.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-De]},(t.geo.transverseMercator=function(){var e=ni(ai),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=ai,t.geom={},t.geom.hull=function(e){var t=oi,n=si;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,i=yt(t),a=yt(n),o=e.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,e[r],r),+a.call(this,e[r],r),r]);for(s.sort(ui),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var u=li(s),c=li(l),h=c[0]===u[0],p=c[c.length-1]===u[u.length-1],d=[];for(r=u.length-1;r>=0;--r)d.push(e[s[u[r]][2]]);for(r=+h;r<c.length-p;++r)d.push(e[s[c[r]][2]]);return d}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},t.geom.polygon=function(e){return W(e,ci),e};var ci=t.geom.polygon.prototype=[];function hi(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function pi(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,l=e[1],u=n[1],c=t[1]-l,h=r[1]-u,p=(s*(l-u)-h*(i-a))/(h*o-s*c);return[i+p*o,l+p*c]}function di(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}ci.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},ci.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},ci.clip=function(e){for(var t,n,r,i,a,o,s=di(e),l=-1,u=this.length-di(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],a=t[(r=t.length-s)-1],n=-1;++n<r;)hi(o=t[n],c,i)?(hi(a,c,i)||e.push(pi(a,o,c,i)),e.push(o)):hi(a,c,i)&&e.push(pi(a,o,c,i)),a=o;s&&e.push(e[0]),c=i}return e};var fi,gi,vi,yi,mi,bi=[],xi=[];function Si(){ji(this),this.edge=this.site=this.circle=null}function ki(e){var t=bi.pop()||new Si;return t.site=e,t}function wi(e){Oi(e),vi.remove(e),bi.push(e),ji(e)}function Li(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];wi(e);for(var l=a;l.circle&&b(n-l.circle.x)<Ce&&b(r-l.circle.cy)<Ce;)a=l.P,s.unshift(l),wi(l),l=a;s.unshift(l),Oi(l);for(var u=o;u.circle&&b(n-u.circle.x)<Ce&&b(r-u.circle.cy)<Ce;)o=u.N,s.push(u),wi(u),u=o;s.push(u),Oi(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],Fi(u.edge,l.site,u.site,i);l=s[0],(u=s[h-1]).edge=Ii(l.site,u.site,null,i),Mi(l),Mi(u)}function Ci(e){for(var t,n,r,i,a=e.x,o=e.y,s=vi._;s;)if((r=_i(s,o)-a)>Ce)s=s.L;else{if(!((i=a-Pi(s,o))>Ce)){r>-Ce?(t=s.P,n=s):i>-Ce?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=ki(e);if(vi.insert(t,l),t||n){if(t===n)return Oi(t),n=ki(t.site),vi.insert(l,n),l.edge=n.edge=Ii(t.site,l.site),Mi(t),void Mi(n);if(n){Oi(t),Oi(n);var u=t.site,c=u.x,h=u.y,p=e.x-c,d=e.y-h,f=n.site,g=f.x-c,v=f.y-h,y=2*(p*v-d*g),m=p*p+d*d,b=g*g+v*v,x={x:(v*m-d*b)/y+c,y:(p*b-g*m)/y+h};Fi(n.edge,u,f,x),l.edge=Ii(u,e,null,x),n.edge=Ii(e,f,null,x),Mi(t),Mi(n)}else l.edge=Ii(t.site,l.site)}}function _i(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,h=1/a-1/u,p=c/u;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*u)-l+u/2+i-a/2)))/h+r:(r+s)/2}function Pi(e,t){var n=e.N;if(n)return _i(n,t);var r=e.site;return r.y===t?r.x:1/0}function Ni(e){this.site=e,this.edges=[]}function Ti(e,t){return t.angle-e.angle}function Di(){ji(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mi(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,h=2*(l*(v=a.y-s)-u*c);if(!(h>=-_e)){var p=l*l+u*u,d=c*c+v*v,f=(v*p-u*d)/h,g=(l*d-c*p)/h,v=g+s,y=xi.pop()||new Di;y.arc=e,y.site=i,y.x=f+o,y.y=v+Math.sqrt(f*f+g*g),y.cy=v,e.circle=y;for(var m=null,b=mi._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}mi.insert(m,y),m||(yi=y)}}}}function Oi(e){var t=e.circle;t&&(t.P||(yi=t.N),mi.remove(t),xi.push(t),ji(t),e.circle=null)}function Ei(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,h=e.r,p=c.x,d=c.y,f=h.x,g=h.y,v=(p+f)/2,y=(d+g)/2;if(g===d){if(v<o||v>=s)return;if(p>f){if(a){if(a.y>=u)return}else a={x:v,y:l};n={x:v,y:u}}else{if(a){if(a.y<l)return}else a={x:v,y:u};n={x:v,y:l}}}else if(i=y-(r=(p-f)/(g-d))*v,r<-1||r>1)if(p>f){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(d<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}function Ai(e,t){this.l=e,this.r=t,this.a=this.b=null}function Ii(e,t,n,r){var i=new Ai(e,t);return fi.push(i),n&&Fi(i,e,t,n),r&&Fi(i,t,e,r),gi[e.i].edges.push(new Gi(i,e,t)),gi[t.i].edges.push(new Gi(i,t,e)),i}function Fi(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Gi(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Bi(){this._=null}function ji(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Ri(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Hi(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Wi(e){for(;e.L;)e=e.L;return e}function Vi(e,t){var n,r,i,a=e.sort(zi).pop();for(fi=[],gi=new Array(e.length),vi=new Bi,mi=new Bi;;)if(i=yi,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(gi[a.i]=new Ni(a),Ci(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;Li(i.arc)}t&&(function(e){for(var t,n=fi,r=or(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Ei(t=n[i],e)||!r(t)||b(t.a.x-t.b.x)<Ce&&b(t.a.y-t.b.y)<Ce)&&(t.a=t.b=null,n.splice(i,1))}(t),function(e){for(var t,n,r,i,a,o,s,l,u,c,h=e[0][0],p=e[1][0],d=e[0][1],f=e[1][1],g=gi,v=g.length;v--;)if((a=g[v])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)r=(c=s[o].end()).x,i=c.y,t=(u=s[++o%l].start()).x,n=u.y,(b(r-t)>Ce||b(i-n)>Ce)&&(s.splice(o,0,new Gi((y=a.site,m=c,x=b(r-h)<Ce&&f-i>Ce?{x:h,y:b(t-h)<Ce?n:f}:b(i-f)<Ce&&p-r>Ce?{x:b(n-f)<Ce?t:p,y:f}:b(r-p)<Ce&&i-d>Ce?{x:p,y:b(t-p)<Ce?n:d}:b(i-d)<Ce&&r-h>Ce?{x:b(n-d)<Ce?t:h,y:d}:null,S=void 0,(S=new Ai(y,null)).a=m,S.b=x,fi.push(S),S),a.site,null)),++l);var y,m,x,S}(t));var o={cells:gi,edges:fi};return vi=mi=fi=gi=null,o}function zi(e,t){return t.y-e.y||t.x-e.x}Ni.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Ti),t.length},Gi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Bi.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Wi(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Ri(this,n),n=(e=n).U),n.C=!1,r.C=!0,Hi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Hi(this,n),n=(e=n).U),n.C=!1,r.C=!0,Ri(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?Wi(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Ri(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Hi(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Ri(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Hi(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Ri(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Hi(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},t.geom.voronoi=function(e){var t=oi,n=si,r=t,i=n,a=Ui;if(e)return o(e);function o(e){var t=new Array(e.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return Vi(s(e),a).cells.forEach((function(a,s){var l=a.edges,u=a.site;(t[s]=l.length?l.map((function(e){var t=e.start();return[t.x,t.y]})):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(r(e,t)/Ce)*Ce,y:Math.round(i(e,t)/Ce)*Ce,i:t}}))}return o.links=function(e){return Vi(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},o.triangles=function(e){var t=[];return Vi(s(e)).cells.forEach((function(n,r){for(var i,a,o,s,l=n.site,u=n.edges.sort(Ti),c=-1,h=u.length,p=u[h-1].edge,d=p.l===l?p.r:p.l;++c<h;)i=d,d=(p=u[c].edge).l===l?p.r:p.l,r<i.i&&r<d.i&&(o=i,s=d,((a=l).x-s.x)*(o.y-a.y)-(a.x-o.x)*(s.y-a.y)<0)&&t.push([e[r],e[i.i],e[d.i]])})),t},o.x=function(e){return arguments.length?(r=yt(t=e),o):t},o.y=function(e){return arguments.length?(i=yt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(a=null==e?Ui:e,o):a===Ui?null:a},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):a===Ui?null:a&&a[1]},o};var Ui=[[-1e6,-1e6],[1e6,1e6]];function qi(e){return e.x}function Zi(e){return e.y}function Yi(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=t.nodes;l[0]&&Yi(e,l[0],n,r,o,s),l[1]&&Yi(e,l[1],o,r,i,s),l[2]&&Yi(e,l[2],n,s,o,a),l[3]&&Yi(e,l[3],o,s,i,a)}}function Ji(e,t,n,r,i,a,o){var s,l=1/0;return function e(u,c,h,p,d){if(!(c>a||h>o||p<r||d<i)){if(f=u.point){var f,g=t-u.x,v=n-u.y,y=g*g+v*v;if(y<l){var m=Math.sqrt(l=y);r=t-m,i=n-m,a=t+m,o=n+m,s=f}}for(var b=u.nodes,x=.5*(c+p),S=.5*(h+d),k=(n>=S)<<1|t>=x,w=k+4;k<w;++k)if(u=b[3&k])switch(3&k){case 0:e(u,c,h,x,S);break;case 1:e(u,x,h,p,S);break;case 2:e(u,c,S,x,d);break;case 3:e(u,x,S,p,d)}}}(e,r,i,a,o),s}function Xi(e,n){e=t.rgb(e),n=t.rgb(n);var r=e.r,i=e.g,a=e.b,o=n.r-r,s=n.g-i,l=n.b-a;return function(e){return"#"+ct(Math.round(r+o*e))+ct(Math.round(i+s*e))+ct(Math.round(a+l*e))}}function Ki(e,t){var n,r={},i={};for(n in e)n in t?r[n]=na(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function $i(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Qi(e,t){var n,r,i,a=ea.lastIndex=ta.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=ea.exec(e))&&(r=ta.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:$i(n,r)})),a=ta.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(e,t,n,r,i){var a,o=oi,s=si;if(a=arguments.length)return o=qi,s=Zi,3===a&&(i=n,r=t,n=t=0),l(e);function l(e){var l,u,c,h,p,d,f,g,v,y=yt(o),m=yt(s);if(null!=t)d=t,f=n,g=r,v=i;else if(g=v=-(d=f=1/0),u=[],c=[],p=e.length,a)for(h=0;h<p;++h)(l=e[h]).x<d&&(d=l.x),l.y<f&&(f=l.y),l.x>g&&(g=l.x),l.y>v&&(v=l.y),u.push(l.x),c.push(l.y);else for(h=0;h<p;++h){var x=+y(l=e[h],h),S=+m(l,h);x<d&&(d=x),S<f&&(f=S),x>g&&(g=x),S>v&&(v=S),u.push(x),c.push(S)}var k=g-d,w=v-f;function L(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(b(l-n)+b(u-r)<.01)C(e,t,n,r,i,a,o,s);else{var c=e.point;e.x=e.y=e.point=null,C(e,c,l,u,i,a,o,s),C(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else C(e,t,n,r,i,a,o,s)}function C(e,t,n,r,i,a,o,s){var l=.5*(i+o),u=.5*(a+s),c=n>=l,h=r>=u,p=h<<1|c;e.leaf=!1,c?i=l:o=l,h?a=u:s=u,L(e=e.nodes[p]||(e.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,r,i,a,o,s)}k>w?v=f+k:g=d+w;var _={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){L(_,e,+y(e,++h),+m(e,h),d,f,g,v)},visit:function(e){Yi(e,_,d,f,g,v)},find:function(e){return Ji(_,e[0],e[1],d,f,g,v)}};if(h=-1,null==t){for(;++h<p;)L(_,e[h],u[h],c[h],d,f,g,v);--h}else e.forEach(_.add);return u=c=e=l=null,_}return l.x=function(e){return arguments.length?(o=e,l):o},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),l):null==t?null:[[t,n],[r,i]]},l.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),l):null==t?null:[r-t,i-n]},l},t.interpolateRgb=Xi,t.interpolateObject=Ki,t.interpolateNumber=$i,t.interpolateString=Qi;var ea=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ta=new RegExp(ea.source,"g");function na(e,n){for(var r,i=t.interpolators.length;--i>=0&&!(r=t.interpolators[i](e,n)););return r}function ra(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(na(e[n],t[n]));for(;n<a;++n)i[n]=e[n];for(;n<o;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}t.interpolate=na,t.interpolators=[function(e,t){var n=typeof t;return("string"===n?vt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Xi:Qi:t instanceof Ve?Xi:Array.isArray(t)?ra:"object"===n&&isNaN(t)?Ki:$i)(e,t)}],t.interpolateArray=ra;var ia=function(){return M},aa=t.map({linear:ia,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return ca},cubic:function(){return ha},sin:function(){return da},exp:function(){return fa},circle:function(){return ga},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ne*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ne/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return va}}),oa=t.map({in:M,out:la,"in-out":ua,"out-in":function(e){return ua(la(e))}});function sa(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function la(e){return function(t){return 1-e(1-t)}}function ua(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function ca(e){return e*e}function ha(e){return e*e*e}function pa(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function da(e){return 1-Math.cos(e*De)}function fa(e){return Math.pow(2,10*(e-1))}function ga(e){return 1-Math.sqrt(1-e*e)}function va(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ya(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function ma(e){var t,n,r,i=[e.a,e.b],a=[e.c,e.d],o=xa(i),s=ba(i,a),l=xa(((t=a)[0]+=(r=-s)*(n=i)[0],t[1]+=r*n[1],t))||0;i[0]*a[1]<a[0]*i[1]&&(i[0]*=-1,i[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(i[1],i[0]):Math.atan2(-a[0],a[1]))*Oe,this.translate=[e.e,e.f],this.scale=[o,l],this.skew=l?Math.atan2(s,l)*Oe:0}function ba(e,t){return e[0]*t[0]+e[1]*t[1]}function xa(e){var t=Math.sqrt(ba(e,e));return t&&(e[0]/=t,e[1]/=t),t}t.ease=function(e){var t=e.indexOf("-"),r=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return r=aa.get(r)||ia,sa((i=oa.get(i)||M)(r.apply(null,n.call(arguments,1))))},t.interpolateHcl=function(e,n){e=t.hcl(e),n=t.hcl(n);var r=e.h,i=e.c,a=e.l,o=n.h-r,s=n.c-i,l=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return Je(r+o*e,i+s*e,a+l*e)+""}},t.interpolateHsl=function(e,n){e=t.hsl(e),n=t.hsl(n);var r=e.h,i=e.s,a=e.l,o=n.h-r,s=n.s-i,l=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return qe(r+o*e,i+s*e,a+l*e)+""}},t.interpolateLab=function(e,n){e=t.lab(e),n=t.lab(n);var r=e.l,i=e.a,a=e.b,o=n.l-r,s=n.a-i,l=n.b-a;return function(e){return tt(r+o*e,i+s*e,a+l*e)+""}},t.interpolateRound=ya,t.transform=function(e){var n=a.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new ma(t?t.matrix:Sa)})(e)},ma.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Sa={a:1,b:0,c:0,d:1,e:0,f:0};function ka(e){return e.length?e.pop()+",":""}function wa(e,n){var r=[],i=[];return e=t.transform(e),n=t.transform(n),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:$i(e[0],t[0])},{i:i-2,x:$i(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,n.translate,r,i),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(ka(n)+"rotate(",null,")")-2,x:$i(e,t)})):t&&n.push(ka(n)+"rotate("+t+")")}(e.rotate,n.rotate,r,i),function(e,t,n,r){e!==t?r.push({i:n.push(ka(n)+"skewX(",null,")")-2,x:$i(e,t)}):t&&n.push(ka(n)+"skewX("+t+")")}(e.skew,n.skew,r,i),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(ka(n)+"scale(",null,",",null,")");r.push({i:i-4,x:$i(e[0],t[0])},{i:i-2,x:$i(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(ka(n)+"scale("+t+")")}(e.scale,n.scale,r,i),e=n=null,function(e){for(var t,n=-1,a=i.length;++n<a;)r[(t=i[n]).i]=t.x(e);return r.join("")}}function La(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Ca(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function _a(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=Pa(e),r=Pa(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Pa(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Na(e){e.fixed|=2}function Ta(e){e.fixed&=-7}function Da(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ma(e){e.fixed&=-5}function Oa(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(Oa(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}t.interpolateTransform=wa,t.layout={},t.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(_a(e[n]));return t}},t.layout.chord=function(){var e,n,r,i,a,o,s,l={},u=0;function c(){var l,c,p,d,f,g={},v=[],y=t.range(i),m=[];for(e=[],n=[],l=0,d=-1;++d<i;){for(c=0,f=-1;++f<i;)c+=r[d][f];v.push(c),m.push(t.range(i)),l+=c}for(a&&y.sort((function(e,t){return a(v[e],v[t])})),o&&m.forEach((function(e,t){e.sort((function(e,n){return o(r[t][e],r[t][n])}))})),l=(Ne-u*i)/l,c=0,d=-1;++d<i;){for(p=c,f=-1;++f<i;){var b=y[d],x=m[b][f],S=r[b][x],k=c,w=c+=S*l;g[b+"-"+x]={index:b,subindex:x,startAngle:k,endAngle:w,value:S}}n[b]={index:b,startAngle:p,endAngle:c,value:v[b]},c+=u}for(d=-1;++d<i;)for(f=d-1;++f<i;){var L=g[d+"-"+f],C=g[f+"-"+d];(L.value||C.value)&&e.push(L.value<C.value?{source:C,target:L}:{source:L,target:C})}s&&h()}function h(){e.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return l.matrix=function(t){return arguments.length?(i=(r=t)&&r.length,e=n=null,l):r},l.padding=function(t){return arguments.length?(u=t,e=n=null,l):u},l.sortGroups=function(t){return arguments.length?(a=t,e=n=null,l):a},l.sortSubgroups=function(t){return arguments.length?(o=t,e=null,l):o},l.sortChords=function(t){return arguments.length?(s=t,e&&h(),l):s},l.chords=function(){return e||c(),e},l.groups=function(){return n||c(),n},l},t.layout.force=function(){var e,n,r,i,a,o,s={},l=t.dispatch("start","tick","end"),u=[1,1],c=.9,h=Ea,p=Aa,d=-30,f=Ia,g=.1,v=.64,y=[],m=[];function b(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,l=a*a+o*o;if(s*s/v<l){if(l<f){var u=t.charge/l;e.px-=a*u,e.py-=o*u}return!0}t.point&&l&&l<f&&(u=t.pointCharge/l,e.px-=a*u,e.py-=o*u)}return!t.charge}}function x(e){e.px=t.event.x,e.py=t.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return e=null,l.end({type:"end",alpha:r=0}),!0;var n,s,h,p,f,v,x,S,k,w=y.length,L=m.length;for(s=0;s<L;++s)p=(h=m[s]).source,(v=(S=(f=h.target).x-p.x)*S+(k=f.y-p.y)*k)&&(S*=v=r*a[s]*((v=Math.sqrt(v))-i[s])/v,k*=v,f.x-=S*(x=p.weight+f.weight?p.weight/(p.weight+f.weight):.5),f.y-=k*x,p.x+=S*(x=1-x),p.y+=k*x);if((x=r*g)&&(S=u[0]/2,k=u[1]/2,s=-1,x))for(;++s<w;)(h=y[s]).x+=(S-h.x)*x,h.y+=(k-h.y)*x;if(d)for(Oa(n=t.geom.quadtree(y),r,o),s=-1;++s<w;)(h=y[s]).fixed||n.visit(b(h));for(s=-1;++s<w;)(h=y[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(y=e,s):y},s.links=function(e){return arguments.length?(m=e,s):m},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.chargeDistance=function(e){return arguments.length?(f=e*e,s):Math.sqrt(f)},s.gravity=function(e){return arguments.length?(g=+e,s):g},s.theta=function(e){return arguments.length?(v=e*e,s):Math.sqrt(v)},s.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:r=0})):t>0&&(l.start({type:"start",alpha:r=t}),e=Ct(s.tick)),s):r},s.start=function(){var e,t,n,r=y.length,l=m.length,c=u[0],f=u[1];for(e=0;e<r;++e)(n=y[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=m[e]).source&&(n.source=y[n.source]),"number"==typeof n.target&&(n.target=y[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=y[e],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",f)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof h)for(e=0;e<l;++e)i[e]=+h.call(this,m[e],e);else for(e=0;e<l;++e)i[e]=h;if(a=[],"function"==typeof p)for(e=0;e<l;++e)a[e]=+p.call(this,m[e],e);else for(e=0;e<l;++e)a[e]=p;if(o=[],"function"==typeof d)for(e=0;e<r;++e)o[e]=+d.call(this,y[e],e);else for(e=0;e<r;++e)o[e]=d;function g(n,i){if(!t){for(t=new Array(r),u=0;u<r;++u)t[u]=[];for(u=0;u<l;++u){var a=m[u];t[a.source.index].push(a.target),t[a.target.index].push(a.source)}}for(var o,s=t[e],u=-1,c=s.length;++u<c;)if(!isNaN(o=s[u][n]))return o;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=t.behavior.drag().origin(M).on("dragstart.force",Na).on("drag.force",x).on("dragend.force",Ta)),!arguments.length)return n;this.on("mouseover.force",Da).on("mouseout.force",Ma).call(n)},t.rebind(s,l,"on")};var Ea=20,Aa=1,Ia=1/0;function Fa(e,n){return t.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=Wa,e}function Ga(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Ba(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function ja(e){return e.children}function Ra(e){return e.value}function Ha(e,t){return t.value-e.value}function Wa(e){return t.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}t.layout.hierarchy=function(){var e=Ha,t=ja,n=Ra;function r(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(u=t.call(r,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=u}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return Ba(i,(function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)})),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(Ga(e,(function(e){e.children&&(e.value=0)})),Ba(e,(function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},r},t.layout.partition=function(){var e=t.layout.hierarchy(),n=[1,1];function r(e,t,n,i){var a=e.children;if(e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i,a&&(o=a.length)){var o,s,l,u=-1;for(n=e.value?n/e.value:0;++u<o;)r(s=a[u],t,l=s.value*n,i),t+=l}}function i(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,a=-1;++a<r;)n=Math.max(n,i(t[a]));return 1+n}function a(t,a){var o=e.call(this,t,a);return r(o[0],0,n[0],n[1]/i(o[0])),o}return a.size=function(e){return arguments.length?(n=e,a):n},Fa(a,e)},t.layout.pie=function(){var e=Number,n=Va,r=0,i=Ne,a=0;function o(s){var l,u=s.length,c=s.map((function(t,n){return+e.call(o,t,n)})),h=+("function"==typeof r?r.apply(this,arguments):r),p=("function"==typeof i?i.apply(this,arguments):i)-h,d=Math.min(Math.abs(p)/u,+("function"==typeof a?a.apply(this,arguments):a)),f=d*(p<0?-1:1),g=t.sum(c),v=g?(p-u*f)/g:0,y=t.range(u),m=[];return null!=n&&y.sort(n===Va?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),y.forEach((function(e){m[e]={data:s[e],value:l=c[e],startAngle:h,endAngle:h+=l*v+f,padAngle:d}})),m}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(e){return arguments.length?(n=e,o):n},o.startAngle=function(e){return arguments.length?(r=e,o):r},o.endAngle=function(e){return arguments.length?(i=e,o):i},o.padAngle=function(e){return arguments.length?(a=e,o):a},o};var Va={};function za(e){return e.x}function Ua(e){return e.y}function qa(e,t,n){e.y0=t,e.y=n}t.layout.stack=function(){var e=M,n=Ja,r=Xa,i=qa,a=za,o=Ua;function s(l,u){if(!(d=l.length))return l;var c=l.map((function(t,n){return e.call(s,t,n)})),h=c.map((function(e){return e.map((function(e,t){return[a.call(s,e,t),o.call(s,e,t)]}))})),p=n.call(s,h,u);c=t.permute(c,p),h=t.permute(h,p);var d,f,g,v,y=r.call(s,h,u),m=c[0].length;for(g=0;g<m;++g)for(i.call(s,c[0][g],v=y[g],h[0][g][1]),f=1;f<d;++f)i.call(s,c[f][g],v+=h[f-1][g][1],h[f][g][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(n="function"==typeof e?e:Za.get(e)||Ja,s):n},s.offset=function(e){return arguments.length?(r="function"==typeof e?e:Ya.get(e)||Xa,s):r},s.x=function(e){return arguments.length?(a=e,s):a},s.y=function(e){return arguments.length?(o=e,s):o},s.out=function(e){return arguments.length?(i=e,s):i},s};var Za=t.map({"inside-out":function(e){var n,r,i=e.length,a=e.map(Ka),o=e.map($a),s=t.range(i).sort((function(e,t){return a[e]-a[t]})),l=0,u=0,c=[],h=[];for(n=0;n<i;++n)r=s[n],l<u?(l+=o[r],c.push(r)):(u+=o[r],h.push(r));return h.reverse().concat(c)},reverse:function(e){return t.range(e.length).reverse()},default:Ja}),Ya=t.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,r,i,a,o,s,l,u,c=e.length,h=e[0],p=h.length,d=[];for(d[0]=l=u=0,n=1;n<p;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,a=0,s=h[n][0]-h[n-1][0];t<c;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}d[n]=l-=i?a/i*s:0,l<u&&(u=l)}for(n=0;n<p;++n)d[n]-=u;return d},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:Xa});function Ja(e){return t.range(e.length)}function Xa(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Ka(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function $a(e){return e.reduce(Qa,0)}function Qa(e,t){return e+t[1]}function eo(e,t){return to(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function to(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function no(e){return[t.min(e),t.max(e)]}function ro(e,t){return e.value-t.value}function io(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function ao(e,t){e._pack_next=t,t._pack_prev=e}function oo(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function so(e){if((t=e.children)&&(l=t.length)){var t,n,r,i,a,o,s,l,u=1/0,c=-1/0,h=1/0,p=-1/0;if(t.forEach(lo),(n=t[0]).x=-n.r,n.y=0,b(n),l>1&&((r=t[1]).x=r.r,r.y=0,b(r),l>2))for(ho(n,r,i=t[2]),b(i),io(n,i),n._pack_prev=i,io(i,r),r=n._pack_next,a=3;a<l;a++){ho(n,r,i=t[a]);var d=0,f=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,f++)if(oo(o,i)){d=1;break}if(1==d)for(s=n._pack_prev;s!==o._pack_prev&&!oo(s,i);s=s._pack_prev,g++);d?(f<g||f==g&&r.r<n.r?ao(n,r=o):ao(n=s,r),a--):(io(n,i),r=i,b(i))}var v=(u+c)/2,y=(h+p)/2,m=0;for(a=0;a<l;a++)(i=t[a]).x-=v,i.y-=y,m=Math.max(m,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=m,t.forEach(uo)}function b(e){u=Math.min(e.x-e.r,u),c=Math.max(e.x+e.r,c),h=Math.min(e.y-e.r,h),p=Math.max(e.y+e.r,p)}}function lo(e){e._pack_next=e._pack_prev=e}function uo(e){delete e._pack_next,delete e._pack_prev}function co(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)co(i[a],t,n,r)}function ho(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a,l=.5+((r*=r)-(o*=o))/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+l*i+u*a,n.y=e.y+l*a-u*i}else n.x=e.x+r,n.y=e.y}function po(e,t){return e.parent==t.parent?1:2}function fo(e){var t=e.children;return t.length?t[0]:e.t}function go(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function vo(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function yo(e,t,n){return e.a.parent===t.parent?e.a:n}function mo(e){var t=e.children;return t&&t.length?mo(t[0]):e}function bo(e){var t,n=e.children;return n&&(t=n.length)?bo(n[t-1]):e}function xo(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function So(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function ko(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function wo(e){return e.rangeExtent?e.rangeExtent():ko(e.range())}function Lo(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function Co(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function _o(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Po}t.layout.histogram=function(){var e=!0,n=Number,r=no,i=eo;function a(a,o){for(var s,l,u=[],c=a.map(n,this),h=r.call(this,c,o),p=i.call(this,h,c,o),d=(o=-1,c.length),f=p.length-1,g=e?1:1/d;++o<f;)(s=u[o]=[]).dx=p[o+1]-(s.x=p[o]),s.y=0;if(f>0)for(o=-1;++o<d;)(l=c[o])>=h[0]&&l<=h[1]&&((s=u[t.bisect(p,l,1,f)-1]).y+=g,s.push(a[o]));return u}return a.value=function(e){return arguments.length?(n=e,a):n},a.range=function(e){return arguments.length?(r=yt(e),a):r},a.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return to(t,e)}:yt(e),a):i},a.frequency=function(t){return arguments.length?(e=!!t,a):e},a},t.layout.pack=function(){var e,n=t.layout.hierarchy().sort(ro),r=0,i=[1,1];function a(t,a){var o=n.call(this,t,a),s=o[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Ba(s,(function(e){e.r=+c(e.value)})),Ba(s,so),r){var h=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;Ba(s,(function(e){e.r+=h})),Ba(s,so),Ba(s,(function(e){e.r-=h}))}return co(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}return a.size=function(e){return arguments.length?(i=e,a):i},a.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,a):e},a.padding=function(e){return arguments.length?(r=+e,a):r},Fa(a,n)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),n=po,r=[1,1],i=null;function a(t,a){var u=e.call(this,t,a),c=u[0],h=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}(c);if(Ba(h,o),h.parent.m=-h.z,Ga(h,s),i)Ga(c,l);else{var p=c,d=c,f=c;Ga(c,(function(e){e.x<p.x&&(p=e),e.x>d.x&&(d=e),e.depth>f.depth&&(f=e)}));var g=n(p,d)/2-p.x,v=r[0]/(d.x+n(d,p)/2+g),y=r[1]/(f.depth||1);Ga(c,(function(e){e.x=(e.x+g)*v,e.y=e.depth*y}))}return u}function o(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var a=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+n(e._,i._));e.parent.A=function(e,t,r){if(t){for(var i,a=e,o=e,s=t,l=a.parent.children[0],u=a.m,c=o.m,h=s.m,p=l.m;s=go(s),a=fo(a),s&&a;)l=fo(l),(o=go(o)).a=e,(i=s.z+h-a.z-u+n(s._,a._))>0&&(vo(yo(s,e,r),e,i),u+=i,c+=i),h+=s.m,u+=a.m,p+=l.m,c+=o.m;s&&!go(o)&&(o.t=s,o.m+=h-c),a&&!fo(l)&&(l.t=a,l.m+=u-p,r=e)}return r}(e,i,e.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=r[0],e.y=e.depth*r[1]}return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e)?l:null,a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null==(r=e)?null:l,a):i?r:null},Fa(a,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),n=po,r=[1,1],i=!1;function a(a,o){var s,l=e.call(this,a,o),u=l[0],c=0;Ba(u,(function(e){var r=e.children;r&&r.length?(e.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(r),e.y=function(e){return 1+t.max(e,(function(e){return e.y}))}(r)):(e.x=s?c+=n(e,s):0,e.y=0,s=e)}));var h=mo(u),p=bo(u),d=h.x-n(h,p)/2,f=p.x+n(p,h)/2;return Ba(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-d)/(f-d)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),l}return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e),a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null!=(r=e),a):i?r:null},Fa(a,e)},t.layout.treemap=function(){var e,n=t.layout.hierarchy(),r=Math.round,i=[1,1],a=null,o=xo,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function h(e){var t=e.children;if(t&&t.length){var n,r,i,a=o(e),s=[],u=t.slice(),p=1/0,g="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&e.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(u,a.dx*a.dy/e.value),s.area=0;(i=u.length)>0;)s.push(n=u[i-1]),s.area+=n.area,"squarify"!==l||(r=d(s,g))<=p?(u.pop(),p=r):(s.area-=s.pop().area,f(s,g,a,!1),g=Math.min(a.dx,a.dy),s.length=s.area=0,p=1/0);s.length&&(f(s,g,a,!0),s.length=s.area=0),t.forEach(h)}}function p(e){var t=e.children;if(t&&t.length){var n,r=o(e),i=t.slice(),a=[];for(c(i,r.dx*r.dy/e.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(f(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);t.forEach(p)}}function d(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(n<a&&(a=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*u/r,r/(t*a*u)):1/0}function f(e,t,n,i){var a,o=-1,s=e.length,l=n.x,u=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<s;)(a=e[o]).x=l,a.y=u,a.dy=c,l+=a.dx=Math.min(n.x+n.dx-l,c?r(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<s;)(a=e[o]).x=l,a.y=u,a.dx=c,u+=a.dy=Math.min(n.y+n.dy-u,c?r(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function g(t){var r=e||n(t),a=r[0];return a.x=a.y=0,a.value?(a.dx=i[0],a.dy=i[1]):a.dx=a.dy=0,e&&n.revalue(a),c([a],a.dx*a.dy/a.value),(e?p:h)(a),s&&(e=r),r}return g.size=function(e){return arguments.length?(i=e,g):i},g.padding=function(e){if(!arguments.length)return a;function t(t){var n=e.call(g,t,t.depth);return null==n?xo(t):So(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return So(t,e)}var r;return o=null==(a=e)?xo:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,g},g.round=function(e){return arguments.length?(r=e?Math.round:Number,g):r!=Number},g.sticky=function(t){return arguments.length?(s=t,e=null,g):s},g.ratio=function(e){return arguments.length?(u=e,g):u},g.mode=function(e){return arguments.length?(l=e+"",g):l},Fa(g,n)},t.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=t.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},t.scale={};var Po={floor:M,ceil:M};function No(e,n,r,i){var a=[],o=[],s=0,l=Math.min(e.length,n.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<=l;)a.push(r(e[s-1],e[s])),o.push(i(n[s-1],n[s]));return function(n){var r=t.bisect(e,n,1,l)-1;return o[r](a[r](n))}}function To(e,t,n,r){var i,a;function o(){var o=Math.min(e.length,t.length)>2?No:Lo,l=r?Ca:La;return i=o(e,t,l,n),a=o(t,e,l,na),s}function s(e){return i(e)}return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},s.range=function(e){return arguments.length?(t=e,o()):t},s.rangeRound=function(e){return s.range(e).interpolate(ya)},s.clamp=function(e){return arguments.length?(r=e,o()):r},s.interpolate=function(e){return arguments.length?(n=e,o()):n},s.ticks=function(t){return Eo(e,t)},s.tickFormat=function(t,n){return Ao(e,t,n)},s.nice=function(t){return Mo(e,t),o()},s.copy=function(){return To(e,t,n,r)},o()}function Do(e,n){return t.rebind(e,n,"range","rangeRound","interpolate","clamp")}function Mo(e,t){return Co(e,_o(Oo(e,t)[2])),Co(e,_o(Oo(e,t)[2])),e}function Oo(e,t){null==t&&(t=10);var n=ko(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Eo(e,n){return t.range.apply(t,Oo(e,n))}function Ao(e,n,r){var i=Oo(e,n);if(r){var a=Ot.exec(r);if(a.shift(),"s"===a[8]){var o=t.formatPrefix(Math.max(b(i[0]),b(i[1])));return a[7]||(a[7]="."+Fo(o.scale(i[2]))),a[8]="f",r=t.format(a.join("")),function(e){return r(o.scale(e))+o.symbol}}a[7]||(a[7]="."+function(e,t){var n=Fo(t[2]);return e in Io?Math.abs(n-Fo(Math.max(b(t[0]),b(t[1]))))+ +("e"!==e):n-2*("%"===e)}(a[8],i)),r=a.join("")}else r=",."+Fo(i[2])+"f";return t.format(r)}t.scale.linear=function(){return To([0,1],[0,1],na,!1)};var Io={s:1,g:1,p:1,r:1,e:1};function Fo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Go(e,n,r,i){function a(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function o(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function s(t){return e(a(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),s):i},s.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),s):n},s.nice=function(){var t=Co(i.map(a),r?Math:jo);return e.domain(t),i=t.map(o),s},s.ticks=function(){var e=ko(i),t=[],s=e[0],l=e[1],u=Math.floor(a(s)),c=Math.ceil(a(l)),h=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var p=1;p<h;p++)t.push(o(u)*p);t.push(o(u))}else for(t.push(o(u));u++<c;)for(p=h-1;p>0;p--)t.push(o(u)*p);for(u=0;t[u]<s;u++);for(c=t.length;t[c-1]>l;c--);t=t.slice(u,c)}return t},s.tickFormat=function(e,r){if(!arguments.length)return Bo;arguments.length<2?r=Bo:"function"!=typeof r&&(r=t.format(r));var i=Math.max(1,n*e/s.ticks().length);return function(e){var t=e/o(Math.round(a(e)));return t*n<n-.5&&(t*=n),t<=i?r(e):""}},s.copy=function(){return Go(e.copy(),n,r,i)},Do(s,e)}t.scale.log=function(){return Go(t.scale.linear().domain([0,1]),10,!0,[1,10])};var Bo=t.format(".0e"),jo={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ro(e,t,n){var r=Ho(t),i=Ho(1/t);function a(t){return e(r(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),a):n},a.ticks=function(e){return Eo(n,e)},a.tickFormat=function(e,t){return Ao(n,e,t)},a.nice=function(e){return a.domain(Mo(n,e))},a.exponent=function(o){return arguments.length?(r=Ho(t=o),i=Ho(1/t),e.domain(n.map(r)),a):t},a.copy=function(){return Ro(e.copy(),t,n)},Do(a,e)}function Ho(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Wo(e,n){var r,i,a;function o(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function s(n,r){return t.range(e.length).map((function(e){return n+r*e}))}return o.domain=function(t){if(!arguments.length)return e;e=[],r=new k;for(var i,a=-1,s=t.length;++a<s;)r.has(i=t[a])||r.set(i,e.push(i));return o[n.t].apply(o,n.a)},o.range=function(e){return arguments.length?(i=e,a=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],u=t[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+r);return i=s(l+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],u=t[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(e.length-1+r)|0;return i=s(l+Math.round(c*r/2+(u-l-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var u=t[1]<t[0],c=t[u-0],h=t[1-u],p=(h-c)/(e.length-r+2*l);return i=s(c+p*l,p),u&&i.reverse(),a=p*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var u=t[1]<t[0],c=t[u-0],h=t[1-u],p=Math.floor((h-c)/(e.length-r+2*l));return i=s(c+Math.round((h-c-(e.length-r)*p)/2),p),u&&i.reverse(),a=Math.round(p*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return ko(n.a[0])},o.copy=function(){return Wo(e,n)},o.domain(e)}t.scale.pow=function(){return Ro(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return Wo([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Vo)},t.scale.category20=function(){return t.scale.ordinal().range(zo)},t.scale.category20b=function(){return t.scale.ordinal().range(Uo)},t.scale.category20c=function(){return t.scale.ordinal().range(qo)};var Vo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(lt),zo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(lt),Uo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(lt),qo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(lt);function Zo(e,n){var r;function i(){var i=0,o=n.length;for(r=[];++i<o;)r[i-1]=t.quantile(e,i/o);return a}function a(e){if(!isNaN(e=+e))return n[t.bisect(r,e)]}return a.domain=function(t){return arguments.length?(e=t.map(f).filter(g).sort(d),i()):e},a.range=function(e){return arguments.length?(n=e,i()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return Zo(e,n)},i()}function Yo(e,t,n){var r,i;function a(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},a.range=function(e){return arguments.length?(n=e,o()):n},a.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/r+e,t+1/r]},a.copy=function(){return Yo(e,t,n)},o()}function Jo(e,n){function r(r){if(r<=r)return n[t.bisect(e,r)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return Jo(e,n)},r}function Xo(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Eo(e,t)},t.tickFormat=function(t,n){return Ao(e,t,n)},t.copy=function(){return Xo(e)},t}function Ko(){return 0}t.scale.quantile=function(){return Zo([],[])},t.scale.quantize=function(){return Yo(0,1,[0,1])},t.scale.threshold=function(){return Jo([.5],[0,1])},t.scale.identity=function(){return Xo([0,1])},t.svg={},t.svg.arc=function(){var e=Qo,t=es,n=Ko,r=$o,i=ts,a=ns,o=rs;function s(){var s=Math.max(0,+e.apply(this,arguments)),u=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-De,h=a.apply(this,arguments)-De,p=Math.abs(h-c),d=c>h?0:1;if(u<s&&(f=u,u=s,s=f),p>=Te)return l(u,d)+(s?l(s,1-d):"")+"Z";var f,g,v,y,m,b,x,S,k,w,L,C,_=0,P=0,N=[];if((y=(+o.apply(this,arguments)||0)/2)&&(v=r===$o?Math.sqrt(s*s+u*u):+r.apply(this,arguments),d||(P*=-1),u&&(P=Fe(v/u*Math.sin(y))),s&&(_=Fe(v/s*Math.sin(y)))),u){m=u*Math.cos(c+P),b=u*Math.sin(c+P),x=u*Math.cos(h-P),S=u*Math.sin(h-P);var T=Math.abs(h-c-2*P)<=Pe?0:1;if(P&&is(m,b,x,S)===d^T){var D=(c+h)/2;m=u*Math.cos(D),b=u*Math.sin(D),x=S=null}}else m=b=0;if(s){k=s*Math.cos(h-_),w=s*Math.sin(h-_),L=s*Math.cos(c+_),C=s*Math.sin(c+_);var M=Math.abs(c-h+2*_)<=Pe?0:1;if(_&&is(k,w,L,C)===1-d^M){var O=(c+h)/2;k=s*Math.cos(O),w=s*Math.sin(O),L=C=null}}else k=w=0;if(p>Ce&&(f=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){g=s<u^d?0:1;var E=f,A=f;if(p<Pe){var I=null==L?[k,w]:null==x?[m,b]:pi([m,b],[L,C],[x,S],[k,w]),F=m-I[0],G=b-I[1],B=x-I[0],j=S-I[1],R=1/Math.sin(Math.acos((F*B+G*j)/(Math.sqrt(F*F+G*G)*Math.sqrt(B*B+j*j)))/2),H=Math.sqrt(I[0]*I[0]+I[1]*I[1]);A=Math.min(f,(s-H)/(R-1)),E=Math.min(f,(u-H)/(R+1))}if(null!=x){var W=as(null==L?[k,w]:[L,C],[m,b],u,E,d),V=as([x,S],[k,w],u,E,d);f===E?N.push("M",W[0],"A",E,",",E," 0 0,",g," ",W[1],"A",u,",",u," 0 ",1-d^is(W[1][0],W[1][1],V[1][0],V[1][1]),",",d," ",V[1],"A",E,",",E," 0 0,",g," ",V[0]):N.push("M",W[0],"A",E,",",E," 0 1,",g," ",V[0])}else N.push("M",m,",",b);if(null!=L){var z=as([m,b],[L,C],s,-A,d),U=as([k,w],null==x?[m,b]:[x,S],s,-A,d);f===A?N.push("L",U[0],"A",A,",",A," 0 0,",g," ",U[1],"A",s,",",s," 0 ",d^is(U[1][0],U[1][1],z[1][0],z[1][1]),",",1-d," ",z[1],"A",A,",",A," 0 0,",g," ",z[0]):N.push("L",U[0],"A",A,",",A," 0 0,",g," ",z[0])}else N.push("L",k,",",w)}else N.push("M",m,",",b),null!=x&&N.push("A",u,",",u," 0 ",T,",",d," ",x,",",S),N.push("L",k,",",w),null!=L&&N.push("A",s,",",s," 0 ",M,",",1-d," ",L,",",C);return N.push("Z"),N.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=yt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=yt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=yt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==$o?$o:yt(e),s):r},s.startAngle=function(e){return arguments.length?(i=yt(e),s):i},s.endAngle=function(e){return arguments.length?(a=yt(e),s):a},s.padAngle=function(e){return arguments.length?(o=yt(e),s):o},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-De;return[Math.cos(r)*n,Math.sin(r)*n]},s};var $o="auto";function Qo(e){return e.innerRadius}function es(e){return e.outerRadius}function ts(e){return e.startAngle}function ns(e){return e.endAngle}function rs(e){return e&&e.padAngle}function is(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function as(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=e[0]+l,h=e[1]+u,p=t[0]+l,d=t[1]+u,f=(c+p)/2,g=(h+d)/2,v=p-c,y=d-h,m=v*v+y*y,b=n-r,x=c*d-p*h,S=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-x*x)),k=(x*y-v*S)/m,w=(-x*v-y*S)/m,L=(x*y+v*S)/m,C=(-x*v+y*S)/m,_=k-f,P=w-g,N=L-f,T=C-g;return _*_+P*P>N*N+T*T&&(k=L,w=C),[[k-l,w-u],[k*n/b,w*n/b]]}function os(e){var t=oi,n=si,r=Xn,i=ls,a=i.key,o=.7;function s(a){var s,l=[],u=[],c=-1,h=a.length,p=yt(t),d=yt(n);function f(){l.push("M",i(e(u),o))}for(;++c<h;)r.call(this,s=a[c],c)?u.push([+p.call(this,s,c),+d.call(this,s,c)]):u.length&&(f(),u=[]);return u.length&&f(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(a="function"==typeof e?i=e:(i=ss.get(e)||ls).key,s):a},s.tension=function(e){return arguments.length?(o=e,s):o},s}t.svg.line=function(){return os(M)};var ss=t.map({linear:ls,"linear-closed":us,step:function(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":cs,"step-after":hs,basis:fs,"basis-open":function(e){if(e.length<4)return ls(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(gs(ms,a)+","+gs(ms,o)),--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),bs(n,a,o);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);for(t=[gs(ms,o),",",gs(ms,s)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),bs(t,o,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,l=e[n][1]-o,u=-1;++u<=n;)i=u/n,(r=e[u])[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*l);return fs(e)},cardinal:function(e,t){return e.length<3?ls(e):e[0]+ps(e,ds(e,t))},"cardinal-open":function(e,t){return e.length<4?ls(e):e[1]+ps(e.slice(1,-1),ds(e,t))},"cardinal-closed":function(e,t){return e.length<3?us(e):e[0]+ps((e.push(e[0]),e),ds([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?ls(e):e[0]+ps(e,function(e){for(var t,n,r,i,a=[],o=function(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=xs(i,a);++t<n;)r[t]=(o+(o=xs(i=a,a=e[t+1])))/2;return r[t]=o,r}(e),s=-1,l=e.length-1;++s<l;)t=xs(e[s],e[s+1]),b(t)<Ce?o[s]=o[s+1]=0:(i=(n=o[s]/t)*n+(r=o[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}(e))}});function ls(e){return e.length>1?e.join("L"):e+"Z"}function us(e){return e.join("L")+"Z"}function cs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function hs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function ps(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ls(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){s=t[1],a=e[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<t.length;u++,l++)a=e[l],s=t[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ds(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,l=e.length;++s<l;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function fs(e){if(e.length<3)return ls(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",gs(ms,o),",",gs(ms,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),bs(l,o,s);return e.pop(),l.push("L",r),l.join("")}function gs(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}ss.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var vs=[0,2/3,1/3,0],ys=[0,1/3,2/3,0],ms=[0,1/6,2/3,1/6];function bs(e,t,n){e.push("C",gs(vs,t),",",gs(vs,n),",",gs(ys,t),",",gs(ys,n),",",gs(ms,t),",",gs(ms,n))}function xs(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ss(e){for(var t,n,r,i=-1,a=e.length;++i<a;)n=(t=e[i])[0],r=t[1]-De,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function ks(e){var t=oi,n=oi,r=0,i=si,a=Xn,o=ls,s=o.key,l=o,u="L",c=.7;function h(s){var h,p,d,f=[],g=[],v=[],y=-1,m=s.length,b=yt(t),x=yt(r),S=t===n?function(){return p}:yt(n),k=r===i?function(){return d}:yt(i);function w(){f.push("M",o(e(v),c),u,l(e(g.reverse()),c),"Z")}for(;++y<m;)a.call(this,h=s[y],y)?(g.push([p=+b.call(this,h,y),d=+x.call(this,h,y)]),v.push([+S.call(this,h,y),+k.call(this,h,y)])):g.length&&(w(),g=[],v=[]);return g.length&&w(),f.length?f.join(""):null}return h.x=function(e){return arguments.length?(t=n=e,h):n},h.x0=function(e){return arguments.length?(t=e,h):t},h.x1=function(e){return arguments.length?(n=e,h):n},h.y=function(e){return arguments.length?(r=i=e,h):i},h.y0=function(e){return arguments.length?(r=e,h):r},h.y1=function(e){return arguments.length?(i=e,h):i},h.defined=function(e){return arguments.length?(a=e,h):a},h.interpolate=function(e){return arguments.length?(s="function"==typeof e?o=e:(o=ss.get(e)||ls).key,l=o.reverse||o,u=o.closed?"M":"L",h):s},h.tension=function(e){return arguments.length?(c=e,h):c},h}function ws(e){return e.radius}function Ls(e){return[e.x,e.y]}function Cs(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-De;return[n*Math.cos(r),n*Math.sin(r)]}}function _s(){return 64}function Ps(){return"circle"}function Ns(e){var t=Math.sqrt(e/Pe);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}t.svg.line.radial=function(){var e=os(Ss);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},cs.reverse=hs,hs.reverse=cs,t.svg.area=function(){return ks(M)},t.svg.area.radial=function(){var e=ks(Ss);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},t.svg.chord=function(){var e=qr,t=Zr,n=ws,r=ts,i=ns;function a(n,r){var i,a,u=o(this,e,n,r),c=o(this,t,n,r);return"M"+u.p0+s(u.r,u.p1,u.a1-u.a0)+(a=c,((i=u).a0==a.a0&&i.a1==a.a1?l(u.r,u.p1,u.r,u.p0):l(u.r,u.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,u.r,u.p0))+"Z")}function o(e,t,a,o){var s=t.call(e,a,o),l=n.call(e,s,o),u=r.call(e,s,o)-De,c=i.call(e,s,o)-De;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Pe)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return a.radius=function(e){return arguments.length?(n=yt(e),a):n},a.source=function(t){return arguments.length?(e=yt(t),a):e},a.target=function(e){return arguments.length?(t=yt(e),a):t},a.startAngle=function(e){return arguments.length?(r=yt(e),a):r},a.endAngle=function(e){return arguments.length?(i=yt(e),a):i},a},t.svg.diagonal=function(){var e=qr,t=Zr,n=Ls;function r(r,i){var a=e.call(this,r,i),o=t.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(e=yt(t),r):e},r.target=function(e){return arguments.length?(t=yt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),n=Ls,r=e.projection;return e.projection=function(e){return arguments.length?r(Cs(n=e)):n},e},t.svg.symbol=function(){var e=Ps,t=_s;function n(n,r){return(Ts.get(e.call(this,n,r))||Ns)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=yt(t),n):e},n.size=function(e){return arguments.length?(t=yt(e),n):t},n};var Ts=t.map({circle:Ns,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ms)),n=t*Ms;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ds),n=t*Ds/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ds),n=t*Ds/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});t.svg.symbolTypes=Ts.keys();var Ds=Math.sqrt(3),Ms=Math.tan(30*Me);Z.transition=function(e){for(var t,n,r=Is||++Bs,i=Hs(e),a=[],o=Fs||{time:Date.now(),ease:pa,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&Ws(n,c,i,r,o),t.push(n)}return As(a,i,r)},Z.interrupt=function(e){return this.each(null==e?Os:Es(Hs(e)))};var Os=Es(Hs());function Es(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function As(e,t,n){return W(e,Gs),e.namespace=t,e.id=n,e}var Is,Fs,Gs=[],Bs=0;function js(e,t,n,r){var i=e.id,a=e.namespace;return he(e,"function"==typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function Rs(e){return null==e&&(e=""),function(){this.textContent=e}}function Hs(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ws(e,t,n,r,i){var a,o,s,l,u,c=e[n]||(e[n]={active:0,count:0}),h=c[r];function p(n){var i=c.active,p=c[i];for(var f in p&&(p.timer.c=null,p.timer.t=NaN,--c.count,delete c[i],p.event&&p.event.interrupt.call(e,e.__data__,p.index)),c)if(+f<r){var g=c[f];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[f]}o.c=d,Ct((function(){return o.c&&d(n||1)&&(o.c=null,o.t=NaN),1}),0,a),c.active=r,h.event&&h.event.start.call(e,e.__data__,t),u=[],h.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)})),l=h.ease,s=h.duration}function d(i){for(var a=i/s,o=l(a),p=u.length;p>0;)u[--p].call(e,o);if(a>=1)return h.event&&h.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}h||(a=i.time,o=Ct((function(e){var t=h.delay;if(o.t=t+a,t<=e)return p(e-t);o.c=p}),0,a),h=c[r]={tween:new k,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++c.count)}Gs.call=Z.call,Gs.empty=Z.empty,Gs.node=Z.node,Gs.size=Z.size,t.transition=function(e,n){return e&&e.transition?Is?e.transition(n):e:t.selection().transition(e)},t.transition.prototype=Gs,Gs.select=function(e){var t,n,r,i=this.id,a=this.namespace,o=[];e=Y(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ws(n,c,a,i,r[a][i]),t.push(n)):t.push(null)}return As(o,a,i)},Gs.selectAll=function(e){var t,n,r,i,a,o=this.id,s=this.namespace,l=[];e=J(e);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],p=-1,d=h.length;++p<d;)if(r=h[p]){a=r[s][o],n=e.call(r,r.__data__,p,u),l.push(t=[]);for(var f=-1,g=n.length;++f<g;)(i=n[f])&&Ws(i,f,s,o,a),t.push(i)}return As(l,s,o)},Gs.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=ue(e));for(var i=0,a=this.length;i<a;i++){r.push(t=[]);for(var o,s=0,l=(o=this[i]).length;s<l;s++)(n=o[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return As(r,this.namespace,this.id)},Gs.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):he(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Gs.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?wa:na,i=t.ns.qualify(e);function a(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function s(e){return null==e?a:(e+="",function(){var t,n=this.getAttribute(i);return n!==e&&(t=r(n,e),function(e){this.setAttribute(i,t(e))})})}function l(e){return null==e?o:(e+="",function(){var t,n=this.getAttributeNS(i.space,i.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}return js(this,"attr."+e,n,i.local?l:s)},Gs.attrTween=function(e,n){var r=t.ns.qualify(e);return this.tween("attr."+e,r.local?function(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}:function(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}})},Gs.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}function a(t){return null==t?i:(t+="",function(){var r,i=s(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=na(i,t),function(t){this.style.setProperty(e,r(t),n)})})}return js(this,"style."+e,t,a)},Gs.styleTween=function(e,t,n){function r(r,i){var a=t.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Gs.text=function(e){return js(this,"text",e,Rs)},Gs.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Gs.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=t.ease.apply(t,arguments)),he(this,(function(t){t[r][n].ease=e})))},Gs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:he(this,"function"==typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Gs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:he(this,"function"==typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Gs.each=function(e,n){var r=this.id,i=this.namespace;if(arguments.length<2){var a=Fs,o=Is;try{Is=r,he(this,(function(t,n,a){Fs=t[i][r],e.call(t,t.__data__,n,a)}))}finally{Fs=a,Is=o}}else he(this,(function(a){var o=a[i][r];(o.event||(o.event=t.dispatch("start","end","interrupt"))).on(e,n)}));return this},Gs.transition=function(){for(var e,t,n,r=this.id,i=++Bs,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(e=[]);for(var u,c=0,h=(u=this[s]).length;c<h;c++)(t=u[c])&&Ws(t,c,a,i,{time:(n=t[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return As(o,a,i)},t.svg.axis=function(){var e,n=t.scale.linear(),r=Vs,a=6,o=6,s=3,l=[10],u=null;function c(i){i.each((function(){var i,c=t.select(this),h=this.__chart__||n,p=this.__chart__=n.copy(),d=null==u?p.ticks?p.ticks.apply(p,l):p.domain():u,f=null==e?p.tickFormat?p.tickFormat.apply(p,l):M:e,g=c.selectAll(".tick").data(d,p),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ce),y=t.transition(g.exit()).style("opacity",Ce).remove(),m=t.transition(g.order()).style("opacity",1),b=Math.max(a,0)+s,x=wo(p),S=c.selectAll(".domain").data([0]),k=(S.enter().append("path").attr("class","domain"),t.transition(S));v.append("line"),v.append("text");var w,L,C,_,P=v.select("line"),N=m.select("line"),T=g.select("text").text(f),D=v.select("text"),O=m.select("text"),E="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(i=Us,w="x",C="y",L="x2",_="y2",T.attr("dy",E<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+x[0]+","+E*o+"V0H"+x[1]+"V"+E*o)):(i=qs,w="y",C="x",L="y2",_="x2",T.attr("dy",".32em").style("text-anchor",E<0?"end":"start"),k.attr("d","M"+E*o+","+x[0]+"H0V"+x[1]+"H"+E*o)),P.attr(_,E*a),D.attr(C,E*b),N.attr(L,0).attr(_,E*a),O.attr(w,0).attr(C,E*b),p.rangeBand){var A=p,I=A.rangeBand()/2;h=p=function(e){return A(e)+I}}else h.rangeBand?h=p:y.call(i,p,h);v.call(i,h,p),m.call(i,p,p)}))}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(r=e in zs?e+"":Vs,c):r},c.ticks=function(){return arguments.length?(l=i(arguments),c):l},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(t){return arguments.length?(e=t,c):e},c.tickSize=function(e){var t=arguments.length;return t?(a=+e,o=+arguments[t-1],c):a},c.innerTickSize=function(e){return arguments.length?(a=+e,c):a},c.outerTickSize=function(e){return arguments.length?(o=+e,c):o},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Vs="bottom",zs={top:1,right:1,bottom:1,left:1};function Us(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function qs(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}t.svg.brush=function(){var e,n,r=R(p,"brushstart","brush","brushend"),i=null,a=null,o=[0,0],l=[0,0],u=!0,c=!0,h=Ys[0];function p(e){e.each((function(){var e=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(h,M);r.exit().remove(),r.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Zs[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",p.empty()?"none":null);var o,s=t.transition(e),l=t.transition(n);i&&(o=wo(i),l.attr("x",o[0]).attr("width",o[1]-o[0]),f(s)),a&&(o=wo(a),l.attr("y",o[0]).attr("height",o[1]-o[0]),g(s)),d(s)}))}function d(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+o[+/e$/.test(e)]+","+l[+/^s/.test(e)]+")"}))}function f(e){e.select(".extent").attr("x",o[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function g(e){e.select(".extent").attr("y",l[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function v(){var h,v,y=this,m=t.select(t.event.target),b=r.of(y,arguments),x=t.select(y),S=m.datum(),k=!/^(n|s)$/.test(S)&&i,w=!/^(e|w)$/.test(S)&&a,L=m.classed("extent"),C=Se(y),_=t.mouse(y),P=t.select(s(y)).on("keydown.brush",D).on("keyup.brush",M);if(t.event.changedTouches?P.on("touchmove.brush",O).on("touchend.brush",A):P.on("mousemove.brush",O).on("mouseup.brush",A),x.interrupt().selectAll("*").interrupt(),L)_[0]=o[0]-_[0],_[1]=l[0]-_[1];else if(S){var N=+/w$/.test(S),T=+/^n/.test(S);v=[o[1-N]-_[0],l[1-T]-_[1]],_[0]=o[N],_[1]=l[T]}else t.event.altKey&&(h=_.slice());function D(){32==t.event.keyCode&&(L||(h=null,_[0]-=o[1],_[1]-=l[1],L=2),B())}function M(){32==t.event.keyCode&&2==L&&(_[0]+=o[1],_[1]+=l[1],L=0,B())}function O(){var e=t.mouse(y),n=!1;v&&(e[0]+=v[0],e[1]+=v[1]),L||(t.event.altKey?(h||(h=[(o[0]+o[1])/2,(l[0]+l[1])/2]),_[0]=o[+(e[0]<h[0])],_[1]=l[+(e[1]<h[1])]):h=null),k&&E(e,i,0)&&(f(x),n=!0),w&&E(e,a,1)&&(g(x),n=!0),n&&(d(x),b({type:"brush",mode:L?"move":"resize"}))}function E(t,r,i){var a,s,p=wo(r),d=p[0],f=p[1],g=_[i],v=i?l:o,y=v[1]-v[0];if(L&&(d-=g,f-=y+g),a=(i?c:u)?Math.max(d,Math.min(f,t[i])):t[i],L?s=(a+=g)+y:(h&&(g=Math.max(d,Math.min(f,2*h[i]-a))),g<a?(s=a,a=g):s=g),v[0]!=a||v[1]!=s)return i?n=null:e=null,v[0]=a,v[1]=s,!0}function A(){O(),x.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),t.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",m.style("cursor")),b({type:"brushstart"}),O()}return p.event=function(i){i.each((function(){var i=r.of(this,arguments),a={x:o,y:l,i:e,j:n},s=this.__chart__||a;this.__chart__=a,Is?t.select(this).transition().each("start.brush",(function(){e=s.i,n=s.j,o=s.x,l=s.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var t=ra(o,a.x),r=ra(l,a.y);return e=n=null,function(e){o=a.x=t(e),l=a.y=r(e),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=a.i,n=a.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},p.x=function(e){return arguments.length?(h=Ys[!(i=e)<<1|!a],p):i},p.y=function(e){return arguments.length?(h=Ys[!i<<1|!(a=e)],p):a},p.clamp=function(e){return arguments.length?(i&&a?(u=!!e[0],c=!!e[1]):i?u=!!e:a&&(c=!!e),p):i&&a?[u,c]:i?u:a?c:null},p.extent=function(t){var r,s,u,c,h;return arguments.length?(i&&(r=t[0],s=t[1],a&&(r=r[0],s=s[0]),e=[r,s],i.invert&&(r=i(r),s=i(s)),s<r&&(h=r,r=s,s=h),r==o[0]&&s==o[1]||(o=[r,s])),a&&(u=t[0],c=t[1],i&&(u=u[1],c=c[1]),n=[u,c],a.invert&&(u=a(u),c=a(c)),c<u&&(h=u,u=c,c=h),u==l[0]&&c==l[1]||(l=[u,c])),p):(i&&(e?(r=e[0],s=e[1]):(r=o[0],s=o[1],i.invert&&(r=i.invert(r),s=i.invert(s)),s<r&&(h=r,r=s,s=h))),a&&(n?(u=n[0],c=n[1]):(u=l[0],c=l[1],a.invert&&(u=a.invert(u),c=a.invert(c)),c<u&&(h=u,u=c,c=h))),i&&a?[[r,u],[s,c]]:i?[r,s]:a&&[u,c])},p.clear=function(){return p.empty()||(o=[0,0],l=[0,0],e=n=null),p},p.empty=function(){return!!i&&o[0]==o[1]||!!a&&l[0]==l[1]},t.rebind(p,r,"on")};var Zs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ys=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Js=It.format=hn.timeFormat,Xs=Js.utc,Ks=Xs("%Y-%m-%dT%H:%M:%S.%LZ");function $s(e){return e.toISOString()}function Qs(e,n,r){function i(t){return e(t)}function a(e,r){var i=(e[1]-e[0])/r,a=t.bisect(tl,i);return a==tl.length?[n.year,Oo(e.map((function(e){return e/31536e6})),r)[2]]:a?n[i/tl[a-1]<tl[a]/i?a-1:a]:[il,Oo(e,r)[2]]}return i.invert=function(t){return el(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(el)},i.nice=function(e,t){var n=i.domain(),r=ko(n),o=null==e?a(r,10):"number"==typeof e&&a(r,e);function s(n){return!isNaN(n)&&!e.range(n,el(+n+1),t).length}return o&&(e=o[0],t=o[1]),i.domain(Co(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=el(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=el(+t+1);return t}}:e))},i.ticks=function(e,t){var n=ko(i.domain()),r=null==e?a(n,10):"number"==typeof e?a(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],el(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Qs(e.copy(),n,r)},Do(i,e)}function el(e){return new Date(e)}Js.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?$s:Ks,$s.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},$s.toString=Ks.toString,It.second=jt((function(e){return new Ft(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),It.seconds=It.second.range,It.seconds.utc=It.second.utc.range,It.minute=jt((function(e){return new Ft(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),It.minutes=It.minute.range,It.minutes.utc=It.minute.utc.range,It.hour=jt((function(e){var t=e.getTimezoneOffset()/60;return new Ft(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),It.hours=It.hour.range,It.hours.utc=It.hour.utc.range,It.month=jt((function(e){return(e=It.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),It.months=It.month.range,It.months.utc=It.month.utc.range;var tl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],nl=[[It.second,1],[It.second,5],[It.second,15],[It.second,30],[It.minute,1],[It.minute,5],[It.minute,15],[It.minute,30],[It.hour,1],[It.hour,3],[It.hour,6],[It.hour,12],[It.day,1],[It.day,2],[It.week,1],[It.month,1],[It.month,3],[It.year,1]],rl=Js.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Xn]]),il={range:function(e,n,r){return t.range(Math.ceil(e/r)*r,+n,r).map(el)},floor:M,ceil:M};nl.year=It.year,It.scale=function(){return Qs(t.scale.linear(),nl,rl)};var al=nl.map((function(e){return[e[0].utc,e[1]]})),ol=Xs.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Xn]]);function sl(e){return JSON.parse(e.responseText)}function ll(e){var t=a.createRange();return t.selectNode(a.body),t.createContextualFragment(e.responseText)}al.year=It.year.utc,It.scale.utc=function(){return Qs(t.scale.linear(),al,ol)},t.text=mt((function(e){return e.responseText})),t.json=function(e,t){return bt(e,"application/json",sl,t)},t.html=function(e,t){return bt(e,"text/html",ll,t)},t.xml=mt((function(e){return e.responseXML})),"function"==typeof r&&r.amd?(this.d3=t,r(t)):e.exports?e.exports=t:this.d3=t}()},9755:function(e,t,n){var r=n(6738),i=n(6544);!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}(void 0!==r?r:this,(function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,a=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,l=n.indexOf,u={},c=u.toString,h=u.hasOwnProperty,p=h.toString,d=p.call(Object),f={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},y=e.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,a=(n=n||y).createElement("script");if(a.text=e,t)for(r in m)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,i);n.head.appendChild(a).parentNode.removeChild(a)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e}var S="3.6.0",k=function(e,t){return new k.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:S,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||g(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&o!==r&&(u&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=o[t],a=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,o[t]=k.extend(u,a,r)):void 0!==r&&(o[t]=r));return o},k.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=r(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||p.call(n)!==d))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?k.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,o=!n;i<a;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(w(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o(s)},guid:1,support:f}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=n[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var L=function(e){var t,n,r,i,a,o,s,l,u,c,h,p,d,f,g,v,y,m,b,x="sizzle"+1*new Date,S=e.document,k=0,w=0,L=le(),C=le(),_=le(),P=le(),N=function(e,t){return e===t&&(h=!0),0},T={}.hasOwnProperty,D=[],M=D.pop,O=D.push,E=D.push,A=D.slice,I=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",G="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+G+"*("+B+")(?:"+G+"*([*^$|!~]?=)"+G+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+G+"*\\]",R=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",H=new RegExp(G+"+","g"),W=new RegExp("^"+G+"+|((?:^|[^\\\\])(?:\\\\.)*)"+G+"+$","g"),V=new RegExp("^"+G+"*,"+G+"*"),z=new RegExp("^"+G+"*([>+~]|"+G+")"+G+"*"),U=new RegExp(G+"|>"),q=new RegExp(R),Z=new RegExp("^"+B+"$"),Y={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+G+"*(even|odd|(([+-]|)(\\d*)n|)"+G+"*(?:([+-]|)"+G+"*(\\d+)|))"+G+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+G+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+G+"*((?:-\\d)?\\d*)"+G+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=function(){p()},oe=xe((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{E.apply(D=A.call(S.childNodes),S.childNodes),D[S.childNodes.length].nodeType}catch(e){E={apply:D.length?function(e,t){O.apply(e,A.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var a,s,u,c,h,f,y,m=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!i&&(p(t),t=t||d,g)){if(11!==S&&(h=Q.exec(e)))if(a=h[1]){if(9===S){if(!(u=t.getElementById(a)))return r;if(u.id===a)return r.push(u),r}else if(m&&(u=m.getElementById(a))&&b(t,u)&&u.id===a)return r.push(u),r}else{if(h[2])return E.apply(r,t.getElementsByTagName(e)),r;if((a=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return E.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&!P[e+" "]&&(!v||!v.test(e))&&(1!==S||"object"!==t.nodeName.toLowerCase())){if(y=e,m=t,1===S&&(U.test(e)||z.test(e))){for((m=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(re,ie):t.setAttribute("id",c=x)),s=(f=o(e)).length;s--;)f[s]=(c?"#"+c:":scope")+" "+be(f[s]);y=f.join(",")}try{return E.apply(r,m.querySelectorAll(y)),r}catch(t){P(e,!0)}finally{c===x&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ue(e){return e[x]=!0,e}function ce(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ue((function(t){return t=+t,ue((function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},a=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!J.test(t||n&&n.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:S;return o!=d&&9===o.nodeType&&o.documentElement?(f=(d=o).documentElement,g=!a(d),S!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ae,!1):i.attachEvent&&i.attachEvent("onunload",ae)),n.scope=ce((function(e){return f.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=$.test(d.getElementsByClassName),n.getById=ce((function(e){return f.appendChild(e).id=x,!d.getElementsByName||!d.getElementsByName(x).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=$.test(d.querySelectorAll))&&(ce((function(e){var t;f.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+G+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+G+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+x+"-]").length||v.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+G+"*name"+G+"*="+G+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+G+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=$.test(m=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",R)})),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=$.test(f.compareDocumentPosition),b=t||$.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==S&&b(S,e)?-1:t==d||t.ownerDocument==S&&b(S,t)?1:c?I(c,e)-I(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e==d?-1:t==d?1:i?-1:a?1:c?I(c,e)-I(c,t):0;if(i===a)return pe(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?pe(o[r],s[r]):o[r]==S?-1:s[r]==S?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&g&&!P[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){P(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&&p(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&&p(e);var i=r.attrHandle[t.toLowerCase()],a=i&&T.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==a?a:n.attributes||!g?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,a=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(N),h){for(;t=e[a++];)t===e[a]&&(i=r.push(a));for(;i--;)e.splice(r[i],1)}return c=null,e},i=se.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=se.selectors={cacheLength:50,createPseudo:ue,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|"+G+")"+e+"("+G+"|$)"))&&L(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,p,d,f,g=a!==o?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!l&&!s,b=!1;if(v){if(a){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&m){for(b=(d=(u=(c=(h=(p=v)[x]||(p[x]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===k&&u[1])&&u[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(b=d=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[k,d,b];break}}else if(m&&(b=d=(u=(c=(h=(p=t)[x]||(p[x]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===k&&u[1]),!1===b)for(;(p=++d&&p&&p[g]||(b=d=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(m&&((c=(h=p[x]||(p[x]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]=[k,b]),p!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var r,a=i(e,t),o=a.length;o--;)e[r=I(e,a[o])]=!(n[r]=a[o])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ue((function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ue((function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ue((function(e){return Z.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function me(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function xe(e,t,n){var r=t.dir,i=t.next,a=i||r,o=n&&"parentNode"===a,s=w++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,l){var u,c,h,p=[k,s];if(l){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(c=(h=t[x]||(t[x]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[a])&&u[0]===k&&u[1]===s)return p[2]=u[2];if(c[a]=p,p[2]=e(t,n,l))return!0}return!1}}function Se(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ke(e,t,n,r,i){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,r,i)||(o.push(a),u&&t.push(s)));return o}function we(e,t,n,r,i,a){return r&&!r[x]&&(r=we(r)),i&&!i[x]&&(i=we(i,a)),ue((function(a,o,s,l){var u,c,h,p=[],d=[],f=o.length,g=a||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!a&&t?g:ke(g,p,e,s,l),y=n?i||(a?e:f||r)?[]:o:v;if(n&&n(v,y,s,l),r)for(u=ke(y,d),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(y[d[c]]=!(v[d[c]]=h));if(a){if(i||e){if(i){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(v[c]=h);i(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=i?I(a,h):p[c])>-1&&(a[u]=!(o[u]=h))}}else y=ke(y===o?y.splice(f,y.length):y),i?i(null,o,y,l):E.apply(o,y)}))}function Le(e){for(var t,n,i,a=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],l=o?1:0,c=xe((function(e){return e===t}),s,!0),h=xe((function(e){return I(t,e)>-1}),s,!0),p=[function(e,n,r){var i=!o&&(r||n!==u)||((t=n).nodeType?c(e,n,r):h(e,n,r));return t=null,i}];l<a;l++)if(n=r.relative[e[l].type])p=[xe(Se(p),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[x]){for(i=++l;i<a&&!r.relative[e[i].type];i++);return we(l>1&&Se(p),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),n,l<i&&Le(e.slice(l,i)),i<a&&Le(e=e.slice(i)),i<a&&be(e))}p.push(n)}return Se(p)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,o=se.tokenize=function(e,t){var n,i,a,o,s,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=r.preFilter;s;){for(o in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),n=!1,(i=z.exec(s))&&(n=i.shift(),a.push({value:n,type:i[0].replace(W," ")}),s=s.slice(n.length)),r.filter)!(i=Y[o].exec(s))||u[o]&&!(i=u[o](i))||(n=i.shift(),a.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,l).slice(0)},s=se.compile=function(e,t){var n,i=[],a=[],s=_[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=Le(t[n]))[x]?i.push(s):a.push(s);s=_(e,function(e,t){var n=t.length>0,i=e.length>0,a=function(a,o,s,l,c){var h,f,v,y=0,m="0",b=a&&[],x=[],S=u,w=a||i&&r.find.TAG("*",c),L=k+=null==S?1:Math.random()||.1,C=w.length;for(c&&(u=o==d||o||c);m!==C&&null!=(h=w[m]);m++){if(i&&h){for(f=0,o||h.ownerDocument==d||(p(h),s=!g);v=e[f++];)if(v(h,o||d,s)){l.push(h);break}c&&(k=L)}n&&((h=!v&&h)&&y--,a&&b.push(h))}if(y+=m,n&&m!==y){for(f=0;v=t[f++];)v(b,x,o,s);if(a){if(y>0)for(;m--;)b[m]||x[m]||(x[m]=M.call(l));x=ke(x)}E.apply(l,x),c&&!a&&x.length>0&&y+t.length>1&&se.uniqueSort(l)}return c&&(k=L,u=S),b};return n?ue(a):a}(a,i)),s.selector=e}return s},l=se.select=function(e,t,n,i){var a,l,u,c,h,p="function"==typeof e&&e,d=!i&&o(e=p.selector||e);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=Y.needsContext.test(e)?0:l.length;a--&&(u=l[a],!r.relative[c=u.type]);)if((h=r.find[c])&&(i=h(u.matches[0].replace(te,ne),ee.test(l[0].type)&&ye(t.parentNode)||t))){if(l.splice(a,1),!(e=i.length&&be(l)))return E.apply(n,i),n;break}}return(p||s(e,d))(i,t,!g,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=x.split("").sort(N).join("")===x,n.detectDuplicates=!!h,p(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||he(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(e);k.find=L,k.expr=L.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=L.uniqueSort,k.text=L.getText,k.isXMLDoc=L.isXML,k.contains=L.contains,k.escapeSelector=L.escape;var C=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},_=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},P=k.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return g(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return l.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&P.test(e)?k(e):e||[],!1).length}});var M,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||M,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),T.test(r[1])&&k.isPlainObject(t))for(r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=y.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,M=k(y);var E=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,a=[],o="string"!=typeof e&&k(e);if(!P.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?k.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?l.call(k(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(N(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=k.filter(r,i)),this.length>1&&(A[e]||k.uniqueSort(i),E.test(e)&&i.reverse()),this.pushStack(i)}}));var F=/[^\x20\t\r\n\f]+/g;function G(e){return e}function B(e){throw e}function j(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,i,a=[],o=[],s=-1,l=function(){for(i=i||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(s=a.length-1,o.push(n)),function t(n){k.each(n,(function(n,r){g(r)?e.unique&&u.has(r)||a.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(e){return e?k.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=o=[],n||t||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},k.extend({Deferred:function(t){var n=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(t){k.each(n,(function(n,r){var i=g(e[r[4]])&&e[r[4]];a[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,i){var a=0;function o(t,n,r,i){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<a)){if((e=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(u)?i?u.call(e,o(a,n,G,i),o(a,n,B,i)):(a++,u.call(e,o(a,n,G,i),o(a,n,B,i),o(a,n,G,n.notifyWith))):(r!==G&&(s=void 0,l=[e]),(i||n.resolveWith)(s,l))}},c=i?u:function(){try{u()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,c.stackTrace),t+1>=a&&(r!==B&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),e.setTimeout(c))}}return k.Deferred((function(e){n[0][3].add(o(0,e,g(i)?i:G,e.notifyWith)),n[1][3].add(o(0,e,g(t)?t:G)),n[2][3].add(o(0,e,g(r)?r:B))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},a={};return k.each(n,(function(e,t){var o=t[2],s=t[5];i[t[1]]=o.add,s&&o.add((function(){r=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith})),i.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=k.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(j(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||g(i[n]&&i[n].then)))return o.then();for(;n--;)j(i[n],s(n),o.reject);return o.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&R.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},k.readyException=function(t){e.setTimeout((function(){throw t}))};var H=k.Deferred();function W(){y.removeEventListener("DOMContentLoaded",W),e.removeEventListener("load",W),k.ready()}k.fn.ready=function(e){return H.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||H.resolveWith(y,[k]))}}),k.ready.then=H.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?e.setTimeout(k.ready):(y.addEventListener("DOMContentLoaded",W),e.addEventListener("load",W));var V=function(e,t,n,r,i,a,o){var s=0,l=e.length,u=null==n;if("object"===x(n))for(s in i=!0,n)V(e,t,s,n[s],!0,a,o);else if(void 0!==r&&(i=!0,g(r)||(o=!0),u&&(o?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(k(e),n)})),t))for(;s<l;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):a},z=/^-ms-/,U=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function Z(e){return e.replace(z,"ms-").replace(U,q)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=k.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Z(t)]=n;else for(r in t)i[Z(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Z):(t=Z(t))in r?[t]:t.match(F)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var X=new J,K=new J,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function ee(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:$.test(e)?JSON.parse(e):e)}(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return K.hasData(e)||X.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=K.get(a),1===a.nodeType&&!X.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=Z(r.slice(5)),ee(a,r,i[r]));X.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){K.set(this,e)})):V(this,(function(t){var n;if(a&&void 0===t)return void 0!==(n=K.get(a,e))||void 0!==(n=ee(a,e))?n:void 0;this.each((function(){K.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){K.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),a=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,(function(){k.dequeue(e,t)}),a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:k.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=X.get(a[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=y.documentElement,ae=function(e){return k.contains(e.ownerDocument,e)},oe={composed:!0};ie.getRootNode&&(ae=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===k.css(e,"display")};function le(e,t,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=s(),u=n&&n[3]||(k.cssNumber[t]?"":"px"),c=e.nodeType&&(k.cssNumber[t]||"px"!==u&&+l)&&ne.exec(k.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)k.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;c*=2,k.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var ue={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=ue[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ue[r]=i,i)}function he(e,t){for(var n,r,i=[],a=0,o=e.length;a<o;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(i[a]=X.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&se(r)&&(i[a]=ce(r))):"none"!==n&&(i[a]="none",X.set(r,"display",n)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}k.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){se(this)?k(this).show():k(this).hide()}))}});var pe,de,fe=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;pe=y.createDocumentFragment().appendChild(y.createElement("div")),(de=y.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),pe.appendChild(de),f.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",f.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?k.merge([e],n):n}function be(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,f.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var xe=/<|&#?\w+;/;function Se(e,t,n,r,i){for(var a,o,s,l,u,c,h=t.createDocumentFragment(),p=[],d=0,f=e.length;d<f;d++)if((a=e[d])||0===a)if("object"===x(a))k.merge(p,a.nodeType?[a]:a);else if(xe.test(a)){for(o=o||h.appendChild(t.createElement("div")),s=(ge.exec(a)||["",""])[1].toLowerCase(),l=ye[s]||ye._default,o.innerHTML=l[1]+k.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;k.merge(p,o.childNodes),(o=h.firstChild).textContent=""}else p.push(t.createTextNode(a));for(h.textContent="",d=0;a=p[d++];)if(r&&k.inArray(a,r)>-1)i&&i.push(a);else if(u=ae(a),o=me(h.appendChild(a),"script"),u&&be(o),n)for(c=0;a=o[c++];)ve.test(a.type||"")&&n.push(a);return h}var ke=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Le(){return!1}function Ce(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function _e(e,t,n,r,i,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)_e(e,s,n,r,t[s],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Le;else if(!i)return e;return 1===a&&(o=i,i=function(e){return k().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,r,n)}))}function Pe(e,t,n){n?(X.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=X.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),X.set(this,t,o),r=n(this,t),this[t](),o!==(i=X.get(this,t))||r?X.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(X.set(this,t,{value:k.event.trigger(k.extend(o[0],k.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&k.event.add(e,t,we)}k.event={global:{},add:function(e,t,n,r,i){var a,o,s,l,u,c,h,p,d,f,g,v=X.get(e);if(Y(e))for(n.handler&&(n=(a=n).handler,i=a.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(l=v.events)||(l=v.events=Object.create(null)),(o=v.handle)||(o=v.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(F)||[""]).length;u--;)d=g=(s=ke.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),d&&(h=k.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:f.join(".")},a),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,f,o)||e.addEventListener&&e.addEventListener(d,o)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)},remove:function(e,t,n,r,i){var a,o,s,l,u,c,h,p,d,f,g,v=X.hasData(e)&&X.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(F)||[""]).length;u--;)if(d=g=(s=ke.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),d){for(h=k.event.special[d]||{},p=l[d=(r?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)c=p[a],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(a,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));o&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||k.removeEvent(e,d,v.handle),delete l[d])}else for(d in l)k.event.remove(e,d+t[u],n,r,!0);k.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,a,o,s=new Array(arguments.length),l=k.event.fix(e),u=(X.get(this,"events")||Object.create(null))[l.type]||[],c=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=k.event.handlers.call(this,l,u),t=0;(i=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(r=((k.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[i=(r=t[n]).selector+" "]&&(o[i]=r.needsContext?k(i,this).index(u)>-1:k.find(i,this,null,[u]).length),o[i]&&a.push(r);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&N(t,"input")&&Pe(t,"click",we),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&N(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&N(t,"input")&&X.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Pe(this,e,Ce),!1},trigger:function(){return Pe(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===r||k.contains(r,i))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return _e(this,e,t,n,r)},one:function(e,t,n,r){return _e(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Le),this.each((function(){k.event.remove(this,e,n,t)}))}});var Ne=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ee(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ae(e,t){var n,r,i,a,o,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(i in X.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)k.event.add(t,i,s[i][n]);K.hasData(e)&&(a=K.access(e),o=k.extend({},a),K.set(t,o))}}function Ie(e,t){var n=t.nodeName.toLowerCase();"input"===n&&fe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=o(t);var i,a,s,l,u,c,h=0,p=e.length,d=p-1,v=t[0],y=g(v);if(y||p>1&&"string"==typeof v&&!f.checkClone&&Te.test(v))return e.each((function(i){var a=e.eq(i);y&&(t[0]=v.call(this,i,a.html())),Fe(a,t,n,r)}));if(p&&(a=(i=Se(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(l=(s=k.map(me(i,"script"),Oe)).length;h<p;h++)u=i,h!==d&&(u=k.clone(u,!0,!0),l&&k.merge(s,me(u,"script"))),n.call(e[h],u,h);if(l)for(c=s[s.length-1].ownerDocument,k.map(s,Ee),h=0;h<l;h++)u=s[h],ve.test(u.type||"")&&!X.access(u,"globalEval")&&k.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):b(u.textContent.replace(De,""),u,c))}return e}function Ge(e,t,n){for(var r,i=t?k.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||k.cleanData(me(r)),r.parentNode&&(n&&ae(r)&&be(me(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,a,o,s=e.cloneNode(!0),l=ae(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(o=me(s),r=0,i=(a=me(e)).length;r<i;r++)Ie(a[r],o[r]);if(t)if(n)for(a=a||me(e),o=o||me(s),r=0,i=a.length;r<i;r++)Ae(a[r],o[r]);else Ae(e,s);return(o=me(s,"script")).length>0&&be(o,!l&&me(e,"script")),s},cleanData:function(e){for(var t,n,r,i=k.event.special,a=0;void 0!==(n=e[a]);a++)if(Y(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Ge(this,e,!0)},remove:function(e){return Ge(this,e)},text:function(e){return V(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return V(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ye[(ge.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(me(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),k(i[o])[t](n),s.apply(r,n.get());return this.pushStack(r)}}));var Be=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),je=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Re=function(e,t,n){var r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=a[i];return r},He=new RegExp(re.join("|"),"i");function We(e,t,n){var r,i,a,o,s=e.style;return(n=n||je(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||ae(e)||(o=k.style(e,t)),!f.pixelBoxStyles()&&Be.test(o)&&He.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",o=36===n(t.right),i=36===n(t.width),c.style.position="absolute",a=12===n(c.offsetWidth/3),ie.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var r,i,a,o,s,l,u=y.createElement("div"),c=y.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(f,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,n,r,i;return null==s&&(t=y.createElement("table"),n=y.createElement("tr"),r=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",ie.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,ie.removeChild(t)),s}}))}();var ze=["Webkit","Moz","ms"],Ue=y.createElement("div").style,qe={};function Ze(e){return k.cssProps[e]||qe[e]||(e in Ue?e:qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Je=/^--/,Xe={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function $e(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,a){var o="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=k.css(e,n+re[o],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+re[o],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+re[o]+"Width",!0,i))):(l+=k.css(e,"padding"+re[o],!0,i),"padding"!==n?l+=k.css(e,"border"+re[o]+"Width",!0,i):s+=k.css(e,"border"+re[o]+"Width",!0,i));return!r&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function et(e,t,n){var r=je(e),i=(!f.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),a=i,o=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(o)){if(!n)return o;o="auto"}return(!f.boxSizingReliable()&&i||!f.reliableTrDimensions()&&N(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(a=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Qe(e,t,n||(i?"border":"content"),a,r,o)+"px"}function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=Z(t),l=Je.test(t),u=e.style;if(l||(t=Ze(s)),o=k.cssHooks[t]||k.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:u[t];"string"==(a=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,a,o,s=Z(t);return Je.test(t)||(t=Ze(s)),(o=k.cssHooks[t]||k.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!Ye.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):Re(e,Xe,(function(){return et(e,t,r)}))},set:function(e,n,r){var i,a=je(e),o=!f.scrollboxSize()&&"absolute"===a.position,s=(o||r)&&"border-box"===k.css(e,"boxSizing",!1,a),l=r?Qe(e,t,r,s,a):0;return s&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-Qe(e,t,"border",!1,a)-.5)),l&&(i=ne.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),$e(0,n,l)}}})),k.cssHooks.marginLeft=Ve(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Re(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+re[r]+t]=a[r]||a[r-2]||a[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=$e)})),k.fn.extend({css:function(e,t){return V(this,(function(e,t,n){var r,i,a={},o=0;if(Array.isArray(t)){for(r=je(e),i=t.length;o<i;o++)a[t[o]]=k.css(e,t[o],!1,r);return a}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(k.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=tt.prototype.init,k.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function ot(){rt&&(!1===y.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ot):e.setTimeout(ot,k.fx.interval),k.fx.tick())}function st(){return e.setTimeout((function(){nt=void 0})),nt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,t,e))return r}function ct(e,t,n){var r,i,a=0,o=ct.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),a=0,o=u.tweens.length;a<o;a++)u.tweens[a].run(r);return s.notifyWith(e,[u,r,n]),r<1&&o?n:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,r,i,a,o;for(n in e)if(i=t[r=Z(n)],a=e[n],Array.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(o=k.cssHooks[r])&&"expand"in o)for(n in a=o.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=i);else t[r]=i}(c,u.opts.specialEasing);a<o;a++)if(r=ct.prefilters[a].call(u,e,c,u.opts))return g(r.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return k.map(c,ut,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,a,o,s,l,u,c,h="width"in t||"height"in t,p=this,d={},f=e.style,g=e.nodeType&&se(e),v=X.get(e,"fxshow");for(r in n.queue||(null==(o=k._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,p.always((function(){p.always((function(){o.unqueued--,k.queue(e,"fx").length||o.empty.fire()}))}))),t)if(i=t[r],it.test(i)){if(delete t[r],a=a||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=v&&v.display)&&(u=X.get(e,"display")),"none"===(c=k.css(e,"display"))&&(u?c=u:(he([e],!0),u=e.style.display||u,c=k.css(e,"display"),he([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===k.css(e,"float")&&(l||(p.done((function(){f.display=u})),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,d)l||(v?"hidden"in v&&(g=v.hidden):v=X.access(e,"fxshow",{display:u}),a&&(v.hidden=!g),g&&he([e],!0),p.done((function(){for(r in g||he([e]),X.remove(e,"fxshow"),d)k.style(e,r,d[r])}))),l=ut(g?v[r]:0,r,p),r in v||(v[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),a=k.speed(t,n,r),o=function(){var t=ct(this,k.extend({},e),a);(i||X.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",a=k.timers,o=X.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&at.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=k.timers,o=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,i)}})),k.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),nt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){rt||(rt=!0,ot())},k.fx.stop=function(){rt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,n){return t=k.fx&&k.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var ht,pt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return V(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?k.prop(e,t,n):(1===a&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(F);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||k.find.attr;pt[t]=function(e,t,r){var i,a,o=t.toLowerCase();return r||(a=pt[o],pt[o]=i,i=null!=n(e,t,r)?o:null,pt[o]=a),i}}));var dt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function gt(e){return(e.match(F)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}k.fn.extend({prop:function(e,t){return V(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,i,a,o,s,l=0;if(g(e))return this.each((function(t){k(this).addClass(e.call(this,t,vt(this)))}));if((t=yt(e)).length)for(;n=this[l++];)if(i=vt(n),r=1===n.nodeType&&" "+gt(i)+" "){for(o=0;a=t[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");i!==(s=gt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,a,o,s,l=0;if(g(e))return this.each((function(t){k(this).removeClass(e.call(this,t,vt(this)))}));if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[l++];)if(i=vt(n),r=1===n.nodeType&&" "+gt(i)+" "){for(o=0;a=t[o++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");i!==(s=gt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,vt(this),t),t)})):this.each((function(){var t,i,a,o;if(r)for(i=0,a=k(this),o=yt(e);t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+gt(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var mt=/\r/g;k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=g(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(mt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:gt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:i.length;for(r=a<0?l:o?a:0;r<l;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=k(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,a=k.makeArray(t),o=i.length;o--;)((r=i[o]).selected=k.inArray(k.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},f.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),f.focusin="onfocusin"in e;var bt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(t,n,r,i){var a,o,s,l,u,c,p,d,f=[r||y],m=h.call(t,"type")?t.type:t,b=h.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=r=r||y,3!==r.nodeType&&8!==r.nodeType&&!bt.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(b=m.split("."),m=b.shift(),b.sort()),u=m.indexOf(":")<0&&"on"+m,(t=t[k.expando]?t:new k.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:k.makeArray(n,[t]),p=k.event.special[m]||{},i||!p.trigger||!1!==p.trigger.apply(r,n))){if(!i&&!p.noBubble&&!v(r)){for(l=p.delegateType||m,bt.test(l+m)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(r.ownerDocument||y)&&f.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=f[a++])&&!t.isPropagationStopped();)d=o,t.type=a>1?l:p.bindType||m,(c=(X.get(o,"events")||Object.create(null))[t.type]&&X.get(o,"handle"))&&c.apply(o,n),(c=u&&o[u])&&c.apply&&Y(o)&&(t.result=c.apply(o,n),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(f.pop(),n)||!Y(r)||u&&g(r[m])&&!v(r)&&((s=r[u])&&(r[u]=null),k.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,xt),r[m](),t.isPropagationStopped()&&d.removeEventListener(m,xt),k.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),f.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=X.access(r,t);i||r.addEventListener(e,n,!0),X.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=X.access(r,t)-1;i?X.access(r,t,i):(r.removeEventListener(e,n,!0),X.remove(r,t))}}}));var St=e.location,kt={guid:Date.now()},wt=/\?/;k.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||k.error("Invalid XML: "+(r?k.map(r.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Lt=/\[\]$/,Ct=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,n,r){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||Lt.test(e)?r(e,i):Nt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(i in t)Nt(e+"["+i+"]",t[i],n,r)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)Nt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Pt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}})):{name:t.name,value:n.replace(Ct,"\r\n")}})).get()}});var Tt=/%20/g,Dt=/#.*$/,Mt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:GET|HEAD)$/,At=/^\/\//,It={},Ft={},Gt="*/".concat("*"),Bt=y.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(F)||[];if(g(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Rt(e,t,n,r){var i={},a=e===Ft;function o(s){var l;return i[s]=!0,k.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)})),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function Ht(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Bt.href=St.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,k.ajaxSettings),t):Ht(k.ajaxSettings,e)},ajaxPrefilter:jt(It),ajaxTransport:jt(Ft),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,a,o,s,l,u,c,h,p,d=k.ajaxSetup({},n),f=d.context||d,g=d.context&&(f.nodeType||f.jquery)?k(f):k.event,v=k.Deferred(),m=k.Callbacks("once memory"),b=d.statusCode||{},x={},S={},w="canceled",L={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=Ot.exec(a);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)L.always(e[L.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||w;return r&&r.abort(t),C(0,t),this}};if(v.promise(L),d.url=((t||d.url||St.href)+"").replace(At,St.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){l=y.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=k.param(d.data,d.traditional)),Rt(It,d,n,L),u)return L;for(h in(c=k.event&&d.global)&&0==k.active++&&k.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Et.test(d.type),i=d.url.replace(Dt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Tt,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(wt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Mt,"$1"),p=(wt.test(i)?"&":"?")+"_="+kt.guid+++p),d.url=i+p),d.ifModified&&(k.lastModified[i]&&L.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&L.setRequestHeader("If-None-Match",k.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&L.setRequestHeader("Content-Type",d.contentType),L.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Gt+"; q=0.01":""):d.accepts["*"]),d.headers)L.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,L,d)||u))return L.abort();if(w="abort",m.add(d.complete),L.done(d.success),L.fail(d.error),r=Rt(Ft,d,n,L)){if(L.readyState=1,c&&g.trigger("ajaxSend",[L,d]),u)return L;d.async&&d.timeout>0&&(s=e.setTimeout((function(){L.abort("timeout")}),d.timeout));try{u=!1,r.send(x,C)}catch(e){if(u)throw e;C(-1,e)}}else C(-1,"No Transport");function C(t,n,o,l){var h,p,y,x,S,w=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,a=l||"",L.readyState=t>0?4:0,h=t>=200&&t<300||304===t,o&&(x=function(e,t,n){for(var r,i,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(d,L,o)),!h&&k.inArray("script",d.dataTypes)>-1&&k.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),x=function(e,t,n,r){var i,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(i in u)if((s=i.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[i]:!0!==u[i]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(d,x,L,h),h?(d.ifModified&&((S=L.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=S),(S=L.getResponseHeader("etag"))&&(k.etag[i]=S)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=x.state,p=x.data,h=!(y=x.error))):(y=w,!t&&w||(w="error",t<0&&(t=0))),L.status=t,L.statusText=(n||w)+"",h?v.resolveWith(f,[p,w,L]):v.rejectWith(f,[L,w,y]),L.statusCode(b),b=void 0,c&&g.trigger(h?"ajaxSuccess":"ajaxError",[L,d,h?p:y]),m.fireWith(f,[L,w]),c&&(g.trigger("ajaxComplete",[L,d]),--k.active||k.event.trigger("ajaxStop")))}return L},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Vt=k.ajaxSettings.xhr();f.cors=!!Vt&&"withCredentials"in Vt,f.ajax=Vt=!!Vt,k.ajaxTransport((function(t){var n,r;if(f.cors||Vt&&!t.crossDomain)return{send:function(i,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(o,i[o]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Wt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&r()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var zt,Ut=[],qt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||k.expando+"_"+kt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(t,n,r){var i,a,o,s=!1!==t.jsonp&&(qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qt,"$1"+i):!1!==t.jsonp&&(t.url+=(wt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||k.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},r.always((function(){void 0===a?k(e).removeProp(i):e[i]=a,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ut.push(i)),o&&g(a)&&a(o[0]),o=a=void 0})),"script"})),f.createHTMLDocument=((zt=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((r=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(r)):t=y),a=!n&&[],(i=T.exec(e))?[t.createElement(i[1])]:(i=Se([e],t,a),a&&a.length&&k(a).remove(),k.merge([],i.childNodes)));var r,i,a},k.fn.load=function(e,t,n){var r,i,a,o=this,s=e.indexOf(" ");return s>-1&&(r=gt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,a||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,i,a,o,s,l,u=k.css(e,"position"),c=k(e),h={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=k.css(e,"top"),l=k.css(e,"left"),("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1?(o=(r=c.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),g(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):c.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ie}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return V(this,(function(e,r,i){var a;if(v(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[r]=i}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=Ve(f.pixelPosition,(function(e,n){if(n)return n=We(e,t),Be.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===a?"margin":"border");return V(this,(function(t,n,i){var a;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?k.css(t,n,s):k.style(t,n,i,s)}),t,o?i:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Zt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=N,k.isFunction=g,k.isWindow=v,k.camelCase=Z,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Zt,"")},"function"==typeof i&&i.amd&&i("jquery",[],(function(){return k}));var Yt=e.jQuery,Jt=e.$;return k.noConflict=function(t){return e.$===k&&(e.$=Jt),t&&e.jQuery===k&&(e.jQuery=Yt),k},void 0===t&&(e.jQuery=e.$=k),k}))},9567:(e,t,n)=>{"use strict";function r(e,t,n){if(!e)return n;let r=e[t];return void 0===r?n:r}n.d(t,{N:()=>r})},982:(e,t,n)=>{"use strict";n.d(t,{NA:()=>i,W7:()=>a,d9:()=>o});var r=n(9567);function i(e,t,n){return e?r.N(e[t.objectName],t.propertyName,n):n}function a(e,t,n){const r=i(e,t);return r&&r.solid?r.solid.color:n}function o(e,t,n){const r=i(e,t,n);return r&&r.solid?r.solid.color:null==r||"object"==typeof r&&!r.solid?n:r}},4554:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(982);class i{static getDefault(){return new this}static createPropertyIdentifier(e,t){return{objectName:e,propertyName:t}}static parse(e){let t,n=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return n;t=n.getProperties();for(let i in t)for(let a in t[i]){const o=n[i][a];n[i][a]=r.d9(e.metadata.objects,t[i][a],o)}return n}static isPropertyEnumerable(e){return!i.InnumerablePropertyPrefix.test(e)}static enumerateObjectInstances(e,t){let n=e&&e[t.objectName];if(!n)return[];let r={objectName:t.objectName,selector:null,properties:{}};for(let e in n)n.hasOwnProperty(e)&&(r.properties[e]=n[e]);return{instances:[r]}}getProperties(){let e={};return Object.keys(this).forEach((t=>{if(i.isPropertyEnumerable(t)){let n=Object.keys(this[t]);e[t]={},n.forEach((n=>{i.isPropertyEnumerable(t)&&(e[t][n]=i.createPropertyIdentifier(t,n))}))}})),e}}i.InnumerablePropertyPrefix=/^_/},2581:(e,t,n)=>{"use strict";function r(e){return null==e&&(e=0),{data:[{dataViewWildcard:{matchingOption:e}}]}}n.d(t,{p:()=>r})},6738:e=>{"use strict";e.exports=Function("return this")()},6544:e=>{"use strict";e.exports=!1},9898:(e,t,n)=>{"use strict";function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}n.d(t,{Z:()=>r})},364:(e,t,n)=>{"use strict";function r(e){return function(){return e}}n.d(t,{Z:()=>r})},4708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(1663),i=n(1226);function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===i.P&&t.documentElement.namespaceURI===i.P?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function s(e){var t=(0,r.Z)(e);return(t.local?o:a)(t)}},4421:(e,t,n)=>{"use strict";function r(e){return function(){return this.matches(e)}}function i(e){return function(t){return t.matches(e)}}n.d(t,{P:()=>i,Z:()=>r})},1663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1226);function i(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.Z.hasOwnProperty(t)?{space:r.Z[t],local:e}:e}},1226:(e,t,n)=>{"use strict";n.d(t,{P:()=>r,Z:()=>i});var r="http://www.w3.org/1999/xhtml";const i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},3838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8390);function i(e){return"string"==typeof e?new r.Y1([[document.querySelector(e)]],[document.documentElement]):new r.Y1([[e]],r.Jz)}},4264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9898),i=n(8390);function a(e){return"string"==typeof e?new i.Y1([document.querySelectorAll(e)],[document.documentElement]):new i.Y1([(0,r.Z)(e)],i.Jz)}},7911:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4708);function i(e){var t="function"==typeof e?e:(0,r.Z)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}},7405:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(1663);function i(e){return function(){this.removeAttribute(e)}}function a(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function s(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function l(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function u(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function c(e,t){var n=(0,r.Z)(e);if(arguments.length<2){var c=this.node();return n.local?c.getAttributeNS(n.space,n.local):c.getAttribute(n)}return this.each((null==t?n.local?a:i:"function"==typeof t?n.local?u:l:n.local?s:o)(n,t))}},5772:(e,t,n)=>{"use strict";function r(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}n.d(t,{Z:()=>r})},7774:(e,t,n)=>{"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new a(e)}function a(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function o(e,t){for(var n=i(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function s(e,t){for(var n=i(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function l(e){return function(){o(this,e)}}function u(e){return function(){s(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?o:s)(this,e)}}function h(e,t){var n=r(e+"");if(arguments.length<2){for(var a=i(this.node()),o=-1,s=n.length;++o<s;)if(!a.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?c:t?l:u)(n,t))}n.d(t,{Z:()=>h}),a.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},5122:(e,t,n)=>{"use strict";function r(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function a(e){return this.select(e?i:r)}n.d(t,{Z:()=>a})},4764:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(8390),i=n(2270),a=n(364);function o(e,t,n,r,a,o){for(var s,l=0,u=t.length,c=o.length;l<c;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new i.F(e,o[l]);for(;l<u;++l)(s=t[l])&&(a[l]=s)}function s(e,t,n,r,a,o,s){var l,u,c,h=new Map,p=t.length,d=o.length,f=new Array(p);for(l=0;l<p;++l)(u=t[l])&&(f[l]=c=s.call(u,u.__data__,l,t)+"",h.has(c)?a[l]=u:h.set(c,u));for(l=0;l<d;++l)c=s.call(e,o[l],l,o)+"",(u=h.get(c))?(r[l]=u,u.__data__=o[l],h.delete(c)):n[l]=new i.F(e,o[l]);for(l=0;l<p;++l)(u=t[l])&&h.get(f[l])===u&&(a[l]=u)}function l(e){return e.__data__}function u(e,t){if(!arguments.length)return Array.from(this,l);var n=t?s:o,i=this._parents,u=this._groups;"function"!=typeof e&&(e=(0,a.Z)(e));for(var h=u.length,p=new Array(h),d=new Array(h),f=new Array(h),g=0;g<h;++g){var v=i[g],y=u[g],m=y.length,b=c(e.call(v,v&&v.__data__,g,i)),x=b.length,S=d[g]=new Array(x),k=p[g]=new Array(x),w=f[g]=new Array(m);n(v,y,S,k,w,b,t);for(var L,C,_=0,P=0;_<x;++_)if(L=S[_]){for(_>=P&&(P=_+1);!(C=k[P])&&++P<x;);L._next=C||null}}return(p=new r.Y1(p,i))._enter=d,p._exit=f,p}function c(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}},5667:(e,t,n)=>{"use strict";function r(e){return arguments.length?this.property("__data__",e):this.node().__data__}n.d(t,{Z:()=>r})},3790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4701);function i(e,t,n){var i=(0,r.Z)(e),a=i.CustomEvent;"function"==typeof a?a=new a(t,n):(a=i.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function a(e,t){return function(){return i(this,e,t)}}function o(e,t){return function(){return i(this,e,t.apply(this,arguments))}}function s(e,t){return this.each(("function"==typeof t?o:a)(e,t))}},6347:(e,t,n)=>{"use strict";function r(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}n.d(t,{Z:()=>r})},7844:(e,t,n)=>{"use strict";function r(){return!this.node()}n.d(t,{Z:()=>r})},2270:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,Z:()=>a});var r=n(1586),i=n(8390);function a(){return new i.Y1(this._enter||this._groups.map(r.Z),this._parents)}function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},9312:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(1586),i=n(8390);function a(){return new i.Y1(this._exit||this._groups.map(r.Z),this._parents)}},5777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8390),i=n(4421);function a(e){"function"!=typeof e&&(e=(0,i.Z)(e));for(var t=this._groups,n=t.length,a=new Array(n),o=0;o<n;++o)for(var s,l=t[o],u=l.length,c=a[o]=[],h=0;h<u;++h)(s=l[h])&&e.call(s,s.__data__,h,l)&&c.push(s);return new r.Y1(a,this._parents)}},655:(e,t,n)=>{"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function a(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:i)(e)):this.node().innerHTML}n.d(t,{Z:()=>o})},8390:(e,t,n)=>{"use strict";n.d(t,{Jz:()=>G,Y1:()=>B});var r=n(486),i=n(6932),a=n(4735),o=n(467),s=n(5777),l=n(4764),u=n(2270),c=n(9312),h=n(1474),p=n(6359),d=n(4729),f=n(9548),g=n(5772),v=n(426),y=n(838),m=n(6909),b=n(7844),x=n(6347),S=n(7405),k=n(2627),w=n(8836),L=n(7774),C=n(8386),_=n(655),P=n(1903),N=n(6017),T=n(7911),D=n(2504),M=n(8349),O=n(5122),E=n(5667),A=n(2017),I=n(3790),F=n(3536),G=[null];function B(e,t){this._groups=e,this._parents=t}B.prototype=function(){return new B([[document.documentElement]],G)}.prototype={constructor:B,select:r.Z,selectAll:i.Z,selectChild:a.Z,selectChildren:o.Z,filter:s.Z,data:l.Z,enter:u.Z,exit:c.Z,join:h.Z,merge:p.Z,selection:function(){return this},order:d.Z,sort:f.Z,call:g.Z,nodes:v.Z,node:y.Z,size:m.Z,empty:b.Z,each:x.Z,attr:S.Z,style:k.Z,property:w.Z,classed:L.Z,text:C.Z,html:_.Z,raise:P.Z,lower:N.Z,append:T.Z,insert:D.Z,remove:M.Z,clone:O.Z,datum:E.Z,on:A.Z,dispatch:I.Z,[Symbol.iterator]:F.Z}},2504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4708),i=n(3010);function a(){return null}function o(e,t){var n="function"==typeof e?e:(0,r.Z)(e),o=null==t?a:"function"==typeof t?t:(0,i.Z)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))}},3536:(e,t,n)=>{"use strict";function*r(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}n.d(t,{Z:()=>r})},1474:(e,t,n)=>{"use strict";function r(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}n.d(t,{Z:()=>r})},6017:(e,t,n)=>{"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function i(){return this.each(r)}n.d(t,{Z:()=>i})},6359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8390);function i(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,a=n.length,o=i.length,s=Math.min(a,o),l=new Array(a),u=0;u<s;++u)for(var c,h=n[u],p=i[u],d=h.length,f=l[u]=new Array(d),g=0;g<d;++g)(c=h[g]||p[g])&&(f[g]=c);for(;u<a;++u)l[u]=n[u];return new r.Y1(l,this._parents)}},838:(e,t,n)=>{"use strict";function r(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}n.d(t,{Z:()=>r})},426:(e,t,n)=>{"use strict";function r(){return Array.from(this)}n.d(t,{Z:()=>r})},2017:(e,t,n)=>{"use strict";function r(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function i(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function a(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function o(e,t,n){var o,s,l=r(e+""),u=l.length;if(!(arguments.length<2)){for(c=t?a:i,o=0;o<u;++o)this.each(c(l[o],t,n));return this}var c=this.node().__on;if(c)for(var h,p=0,d=c.length;p<d;++p)for(o=0,h=c[p];o<u;++o)if((s=l[o]).type===h.type&&s.name===h.name)return h.value}n.d(t,{Z:()=>o})},4729:(e,t,n)=>{"use strict";function r(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}n.d(t,{Z:()=>r})},8836:(e,t,n)=>{"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function a(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function o(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?a:i)(e,t)):this.node()[e]}n.d(t,{Z:()=>o})},1903:(e,t,n)=>{"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}function i(){return this.each(r)}n.d(t,{Z:()=>i})},8349:(e,t,n)=>{"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}function i(){return this.each(r)}n.d(t,{Z:()=>i})},486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8390),i=n(3010);function a(e){"function"!=typeof e&&(e=(0,i.Z)(e));for(var t=this._groups,n=t.length,a=new Array(n),o=0;o<n;++o)for(var s,l,u=t[o],c=u.length,h=a[o]=new Array(c),p=0;p<c;++p)(s=u[p])&&(l=e.call(s,s.__data__,p,u))&&("__data__"in s&&(l.__data__=s.__data__),h[p]=l);return new r.Y1(a,this._parents)}},6932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8390),i=n(9898),a=n(9701);function o(e){e="function"==typeof e?function(e){return function(){return(0,i.Z)(e.apply(this,arguments))}}(e):(0,a.Z)(e);for(var t=this._groups,n=t.length,o=[],s=[],l=0;l<n;++l)for(var u,c=t[l],h=c.length,p=0;p<h;++p)(u=c[p])&&(o.push(e.call(u,u.__data__,p,c)),s.push(u));return new r.Y1(o,s)}},4735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4421),i=Array.prototype.find;function a(){return this.firstElementChild}function o(e){return this.select(null==e?a:function(e){return function(){return i.call(this.children,e)}}("function"==typeof e?e:(0,r.P)(e)))}},467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4421),i=Array.prototype.filter;function a(){return Array.from(this.children)}function o(e){return this.selectAll(null==e?a:function(e){return function(){return i.call(this.children,e)}}("function"==typeof e?e:(0,r.P)(e)))}},6909:(e,t,n)=>{"use strict";function r(){let e=0;for(const t of this)++e;return e}n.d(t,{Z:()=>r})},9548:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8390);function i(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=a);for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var l,u=n[s],c=u.length,h=o[s]=new Array(c),p=0;p<c;++p)(l=u[p])&&(h[p]=l);h.sort(t)}return new r.Y1(o,this._parents).order()}function a(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},1586:(e,t,n)=>{"use strict";function r(e){return new Array(e.length)}n.d(t,{Z:()=>r})},2627:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4701);function i(e){return function(){this.style.removeProperty(e)}}function a(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function s(e,t,n){return arguments.length>1?this.each((null==t?i:"function"==typeof t?o:a)(e,t,null==n?"":n)):l(this.node(),e)}function l(e,t){return e.style.getPropertyValue(t)||(0,r.Z)(e).getComputedStyle(e,null).getPropertyValue(t)}},8386:(e,t,n)=>{"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function a(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:i)(e)):this.node().textContent}n.d(t,{Z:()=>o})},3010:(e,t,n)=>{"use strict";function r(){}function i(e){return null==e?r:function(){return this.querySelector(e)}}n.d(t,{Z:()=>i})},9701:(e,t,n)=>{"use strict";function r(){return[]}function i(e){return null==e?r:function(){return this.querySelectorAll(e)}}n.d(t,{Z:()=>i})},4701:(e,t,n)=>{"use strict";function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{Z:()=>r})}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(a,o),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";i.r(a),i.d(a,{default:()=>r});var e=i(7584),t=i(6738).powerbi,n={name:"chartexposankeydiagramD70B8BC1836C4420A7BFCE36F48EE4BE",displayName:"ChartExpo Sankey Diagram",class:"Visual",apiVersion:"5.2.0",create:t=>{if(e.u)return new e.u(t);throw"Visual instance not found"},createModalDialog:(e,t,n)=>{const r=globalThis.dialogRegistry;e in r&&new r[e](t,n)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.chartexposankeydiagramD70B8BC1836C4420A7BFCE36F48EE4BE=n);const r=n})(),chartexposankeydiagramD70B8BC1836C4420A7BFCE36F48EE4BE=a})();