var SVGReader1234567890ABCDEF;(()=>{"use strict";var t={848:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Visual=void 0;class s{constructor(t){this.defaultColorIndex=0,this.isFirstLoad=!0,this.highlightDataPoints=new Set,this.lastPageContext="",this.restorationTimer=null,this.svgPersistenceSystem={content:null,lastSaveTime:0,saveInterval:null,backupRotationIndex:0,isLoaded:!1},this.host=t.host,this.target=t.element,this.selectionManager=this.host.createSelectionManager(),this.colorPalette=this.host.colorPalette,this.svgElements=new Map,this.dataPoints=new Map,this.categoryColorMap=new Map,this.highlightDataPoints=new Set,this.zoom=1,this.pan={x:0,y:0},this.isDragging=!1,this.isFirstLoad=!0,this.settings=this.getDefaultSettings(),this.initializeVisual(),this.initializeEnhancedPersistence(),this.handleContextMenu()}initializeEnhancedPersistence(){this.svgPersistenceSystem.saveInterval=setInterval(()=>{this.continuousSave()},5e3),this.startMultipleRestorationTimers(),window.addEventListener("focus",()=>this.emergencyRestore()),window.addEventListener("visibilitychange",()=>{document.hidden||this.emergencyRestore()}),window.addEventListener("beforeunload",()=>this.emergencySave())}startMultipleRestorationTimers(){setInterval(()=>this.quickRestore(),1e3),setInterval(()=>this.mediumRestore(),5e3),setInterval(()=>this.deepRestore(),15e3)}quickRestore(){if(!this.svgElement&&this.svgPersistenceSystem.content)try{this.loadSvg(this.svgPersistenceSystem.content)}catch(t){console.error("Quick restore failed:",t)}}mediumRestore(){var t,e;if(!this.svgElement&&(null===(e=null===(t=this.settings)||void 0===t?void 0:t.svg)||void 0===e?void 0:e.svgUrl))try{this.loadSvg(this.settings.svg.svgUrl),this.svgPersistenceSystem.content=this.settings.svg.svgUrl}catch(t){console.error("Medium restore failed:",t)}}deepRestore(){var t,e,s,i,o,n;if(!this.svgElement){const l=[null===(e=null===(t=this.settings)||void 0===t?void 0:t.svg)||void 0===e?void 0:e.svgBackup1,null===(i=null===(s=this.settings)||void 0===s?void 0:s.svg)||void 0===i?void 0:i.svgBackup2,null===(n=null===(o=this.settings)||void 0===o?void 0:o.svg)||void 0===n?void 0:n.svgBackup3];for(const t of l)if(t&&t.startsWith("<svg"))try{this.loadSvg(t),this.svgPersistenceSystem.content=t;break}catch(t){console.error("Deep restore attempt failed:",t)}}}emergencyRestore(){this.svgElement||(this.quickRestore(),setTimeout(()=>this.mediumRestore(),100),setTimeout(()=>this.deepRestore(),200))}continuousSave(){if(this.svgPersistenceSystem.content&&this.svgPersistenceSystem.isLoaded){const t=Date.now();t-this.svgPersistenceSystem.lastSaveTime>4e3&&(this.saveToAllBackups(this.svgPersistenceSystem.content),this.svgPersistenceSystem.lastSaveTime=t)}}emergencySave(){this.svgPersistenceSystem.content&&this.saveToAllBackups(this.svgPersistenceSystem.content)}saveToAllBackups(t){if(t&&t.startsWith("<svg"))try{this.svgPersistenceSystem.backupRotationIndex=(this.svgPersistenceSystem.backupRotationIndex+1)%3;const e=0===this.svgPersistenceSystem.backupRotationIndex?"svgBackup1":1===this.svgPersistenceSystem.backupRotationIndex?"svgBackup2":"svgBackup3";this.settings.svg.svgUrl=t,this.settings.svg[e]=t;const s={svg:{svgUrl:t,[e]:t}};this.host.persistProperties({merge:[{objectName:"svg",properties:s.svg,selector:null}]}),console.log(`SVG saved to primary and backup ${this.svgPersistenceSystem.backupRotationIndex+1}`)}catch(t){console.error("Failed to save SVG to backups:",t)}}handleContextMenu(){this.target.addEventListener("contextmenu",t=>{const e=t.target.closest("[id]");if(e&&this.dataPoints.has(e.id)){const s=this.dataPoints.get(e.id);return this.selectionManager.showContextMenu(s?s.selectionId:{},{x:t.clientX,y:t.clientY}),void t.preventDefault()}t.preventDefault(),this.showCustomContextMenu(t.clientX,t.clientY)})}showCustomContextMenu(t,e){const s=document.getElementById("synoptic-context-menu");s&&s.remove();const i=document.createElement("div");i.id="synoptic-context-menu",i.style.cssText=`\n            position: fixed;\n            top: ${e}px;\n            left: ${t}px;\n            background: white;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n            z-index: 10000;\n            min-width: 150px;\n            padding: 5px 0;\n        `,[{text:"Load SVG",action:()=>this.fileInput.click()},{text:"Emergency Restore",action:()=>this.emergencyRestore()},{text:"Reset View",action:()=>this.resetView()},{text:"Fit to View",action:()=>this.fitToView()},{text:"Force Save",action:()=>this.forceSave()}].forEach(t=>{const e=document.createElement("div");e.style.cssText="\n                padding: 8px 16px;\n                cursor: pointer;\n                transition: background 0.2s;\n            ",e.textContent=t.text,e.onmouseover=()=>e.style.background="#f0f0f0",e.onmouseout=()=>e.style.background="",e.onclick=()=>{t.action(),i.remove()},i.appendChild(e)}),document.body.appendChild(i);const o=t=>{i.contains(t.target)||(i.remove(),document.removeEventListener("click",o))};setTimeout(()=>document.addEventListener("click",o),100)}forceSave(){this.svgPersistenceSystem.content?(this.saveToAllBackups(this.svgPersistenceSystem.content),this.showNotification("SVG force saved to all backups","#4CAF50","ðŸ’¾")):this.showNotification("No SVG content to save","#FF9800","âš ï¸")}initializeVisual(){this.container=document.createElement("div"),this.container.style.cssText="\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            position: relative;\n            display: flex;\n            flex-direction: column;\n        ",this.target.appendChild(this.container),this.createControlPanel(),this.createMainContent()}createMainContent(){const t=document.createElement("div");t.style.cssText="\n            flex: 1;\n            display: flex;\n            position: relative;\n            overflow: hidden;\n        ",this.createLegend(),t.appendChild(this.legendContainer),this.svgContainer=document.createElement("div"),this.svgContainer.style.cssText="\n            flex: 1;\n            position: relative;\n            overflow: hidden;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        ",t.appendChild(this.svgContainer),this.container.appendChild(t),this.createSignature(),this.setupInteractionListeners()}createLegend(){this.legendContainer=document.createElement("div"),this.legendContainer.style.cssText=`\n            background: white;\n            border-right: 1px solid #ddd;\n            padding: 10px;\n            min-width: ${this.settings.legend.width}px;\n            max-width: ${this.settings.legend.width}px;\n            width: ${this.settings.legend.width}px;\n            overflow-y: auto;\n            display: none;\n            flex-shrink: 0;\n        `}updateLegend(){if(this.settings.legend.show&&0!==this.categoryColorMap.size){if(this.legendContainer.style.minWidth=`${this.settings.legend.width}px`,this.legendContainer.style.maxWidth=`${this.settings.legend.width}px`,this.legendContainer.style.width=`${this.settings.legend.width}px`,this.legendContainer.style.display="block",this.legendContainer.innerHTML="",this.settings.legend.title){const t=document.createElement("div");t.style.cssText=`\n                font-weight: bold;\n                margin-bottom: 10px;\n                font-size: ${this.settings.legend.fontSize+2}px;\n                color: ${this.settings.legend.fontColor};\n            `,t.textContent="Categories",this.legendContainer.appendChild(t)}this.categoryColorMap.forEach((t,e)=>{const s=document.createElement("div");s.style.cssText="\n                display: flex;\n                align-items: center;\n                margin: 5px 0;\n                cursor: pointer;\n                padding: 3px;\n                border-radius: 3px;\n                transition: background 0.2s;\n            ";const i=document.createElement("div");i.style.cssText=`\n                width: 16px;\n                height: 16px;\n                background: ${t};\n                border: 1px solid #999;\n                margin-right: 8px;\n                border-radius: 2px;\n                flex-shrink: 0;\n            `;const o=document.createElement("span");o.style.fontSize=`${this.settings.legend.fontSize}px`,o.style.color=this.settings.legend.fontColor,o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.style.whiteSpace="nowrap",o.textContent=e,s.appendChild(i),s.appendChild(o),s.onmouseover=()=>{s.style.background="#f0f0f0",this.highlightCategory(e)},s.onmouseout=()=>{s.style.background="",this.clearCategoryHighlight()},s.onclick=()=>{this.selectCategory(e)},this.legendContainer.appendChild(s)}),this.legendContainer.style.background=this.settings.legend.backgroundColor}else this.legendContainer.style.display="none"}highlightCategory(t){this.svgElements.forEach(e=>{const s=this.dataPoints.get(e.id);s&&(s.category===t?(e.element.style.opacity="1",e.element.style.filter="brightness(1.2)"):e.element.style.opacity="0.3")})}clearCategoryHighlight(){this.svgElements.forEach(t=>{t.element.style.opacity="1",t.element.style.filter=""})}selectCategory(t){const e=[];this.dataPoints.forEach(s=>{s.category===t&&e.push(s.selectionId)}),e.length>0&&this.selectionManager.select(e)}createSignature(){this.signatureElement=document.createElement("div"),this.signatureElement.style.cssText="\n            position: absolute;\n            bottom: 10px;\n            right: 10px;\n            background: rgba(255, 255, 255, 0.9);\n            padding: 5px 10px;\n            border-radius: 4px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            display: none;\n        ",this.container.appendChild(this.signatureElement)}updateSignature(){this.settings.signature.showSignature?(this.signatureElement.style.display="block",this.signatureElement.style.fontSize=`${this.settings.signature.fontSize}px`,this.signatureElement.textContent=this.settings.signature.signatureText||"Developed by Abdalla Dabes, P.E, PSP, PMP"):this.signatureElement.style.display="none"}getDefaultSettings(){return{svg:{showLoadButton:!0,fitToViewport:!0,maintainAspectRatio:!0,backgroundColor:"#ffffff",persistSvg:!0,autoLoad:!1,svgUrl:"",svgBackup1:"",svgBackup2:"",svgBackup3:""},defaultColors:{defaultColor1:"#CCCCCC",defaultColor2:"#ED7D31",defaultColor3:"#A5A5A5",defaultColor4:"#FFC000",defaultColor5:"#5B9BD5",defaultColor6:"#70AD47",defaultColor7:"#FF5252",defaultColor8:"#9C27B0",defaultColor9:"#00BCD4",defaultColor10:"#8BC34A",colorSelectionMode:"sequential"},categoryColors:{enableCategoryColors:!0,unmatchedColor:"#CCCCCC",unmatchedOpacity:.5},outline:{showOutline:!0,outlineColor:"#333333",outlineWidth:2,outlineStyle:"solid",outlineOnHover:!0,hoverOutlineColor:"#000000",hoverOutlineWidth:3,selectedOutlineColor:"#FF0000",selectedOutlineWidth:4},valueText:{showText:!0,fontSize:12,fontFamily:"Segoe UI",fontColor:"#000000",textPosition:"center",bold:!1,italic:!1,textBackground:!1,textBackgroundColor:"#FFFFFF",numberFormat:"auto",decimalPlaces:0,prefix:"",suffix:""},signature:{showSignature:!0,signatureText:"Developed by Abdalla Dabes, P.E, PSP, PMP",fontSize:10},interaction:{enableSelection:!0,multiSelect:!1,enableHover:!0,enableZoom:!0,enablePan:!0,enableDrill:!1,showZoomControls:!0,doubleClickReset:!0},tooltips:{enabled:!0,showId:!0,showValue:!0,showCategory:!0,fontSize:12,backgroundColor:"#000000",textColor:"#FFFFFF"},animation:{enabled:!0,easing:"ease-in-out",animateOnLoad:!0,animateOnUpdate:!0,pulseOnUpdate:!0,hoverAnimation:"scale"},legend:{show:!0,fontSize:11,fontColor:"#000000",backgroundColor:"#FFFFFF",title:!0,width:150},performance:{hardwareAcceleration:!0,throttleUpdates:!1,renderQuality:"high",cacheData:!0},accessibility:{enableAccessibility:!0,highContrast:!1,keyboardNavigation:!0}}}createControlPanel(){this.controlPanel=document.createElement("div"),this.controlPanel.style.cssText="\n            padding: 10px;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        ",this.createLoadButton(),this.createZoomControls(),this.createClearButton(),this.container.appendChild(this.controlPanel)}createLoadButton(){const t=document.createElement("div");t.style.cssText="display: flex; gap: 5px;",this.loadButton=document.createElement("button"),this.loadButton.innerHTML="ðŸ“ Load SVG",this.loadButton.style.cssText="\n            padding: 8px 16px;\n            background: white;\n            color: #764ba2;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-weight: 600;\n            transition: all 0.3s;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n        ",this.loadButton.onmouseover=()=>{this.loadButton.style.transform="translateY(-2px)",this.loadButton.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},this.loadButton.onmouseout=()=>{this.loadButton.style.transform="translateY(0)",this.loadButton.style.boxShadow="0 2px 5px rgba(0,0,0,0.1)"},this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.accept=".svg,image/svg+xml",this.fileInput.style.display="none",this.fileInput.onchange=t=>this.handleFileLoad(t),this.loadButton.onclick=()=>this.fileInput.click(),t.appendChild(this.loadButton),this.controlPanel.appendChild(t)}createZoomControls(){if(!this.settings.interaction.showZoomControls)return;const t=document.createElement("div");t.style.cssText="\n            display: flex;\n            gap: 5px;\n            margin-left: auto;\n        ";const e=(t,e,s)=>{const i=document.createElement("button");return i.innerHTML=t,i.title=e,i.style.cssText="\n                width: 32px;\n                height: 32px;\n                background: white;\n                border: none;\n                border-radius: 6px;\n                cursor: pointer;\n                transition: all 0.3s;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 16px;\n                box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n            ",i.onmouseover=()=>{i.style.transform="scale(1.1)",i.style.background="#f0f0f0"},i.onmouseout=()=>{i.style.transform="scale(1)",i.style.background="white"},i.onclick=s,i};t.appendChild(e("âž•","Zoom In",()=>this.zoomIn())),t.appendChild(e("âž–","Zoom Out",()=>this.zoomOut())),t.appendChild(e("ðŸŽ¯","Reset View",()=>this.resetView())),t.appendChild(e("â›¶","Fit to View",()=>this.fitToView())),this.controlPanel.appendChild(t)}createClearButton(){const t=document.createElement("button");t.innerHTML="ðŸ—‘ï¸ Clear",t.title="Clear loaded SVG",t.style.cssText="\n            padding: 8px 16px;\n            background: #ff4444;\n            color: white;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-weight: 600;\n            transition: all 0.3s;\n            margin-left: 10px;\n        ",t.onclick=()=>{this.clearSvg(),this.showNotification("SVG cleared","#ff4444","ðŸ—‘ï¸")},this.controlPanel.appendChild(t)}setupInteractionListeners(){(this.settings.interaction.enablePan||this.settings.interaction.enableZoom)&&(this.svgContainer.onmousedown=t=>{this.settings.interaction.enablePan&&0===t.button&&(this.isDragging=!0,this.dragStart={x:t.clientX-this.pan.x,y:t.clientY-this.pan.y},this.svgContainer.style.cursor="grabbing",t.preventDefault())},this.svgContainer.onmousemove=t=>{this.isDragging&&(this.pan.x=t.clientX-this.dragStart.x,this.pan.y=t.clientY-this.dragStart.y,this.applyTransform())},this.svgContainer.onmouseup=()=>{this.isDragging=!1,this.svgContainer.style.cursor=""},this.svgContainer.onmouseleave=()=>{this.isDragging=!1,this.svgContainer.style.cursor=""},this.svgContainer.onwheel=t=>{if(this.settings.interaction.enableZoom){t.preventDefault();const e=t.deltaY>0?.9:1.1;this.zoom*=e,this.zoom=Math.max(.1,Math.min(10,this.zoom)),this.applyTransform()}},this.settings.interaction.doubleClickReset&&(this.svgContainer.ondblclick=()=>this.resetView()))}zoomIn(){this.zoom*=1.2,this.zoom=Math.min(10,this.zoom),this.applyTransform()}zoomOut(){this.zoom*=.8,this.zoom=Math.max(.1,this.zoom),this.applyTransform()}resetView(){this.zoom=1,this.pan={x:0,y:0},this.applyTransform()}fitToView(){if(!this.svgElement)return;const t=this.svgElement.getBoundingClientRect(),e=this.svgContainer.getBoundingClientRect(),s=e.width/t.width,i=e.height/t.height;this.zoom=.9*Math.min(s,i),this.pan={x:0,y:0},this.applyTransform()}applyTransform(){this.svgElement&&(this.svgElement.style.transform=`translate(${this.pan.x}px, ${this.pan.y}px) scale(${this.zoom})`,this.svgElement.style.transformOrigin="center center")}handleFileLoad(t){var e;const s=t.target,i=null===(e=s.files)||void 0===e?void 0:e[0];if(i&&"image/svg+xml"===i.type){const t=new FileReader;t.onload=t=>{var e;const s=null===(e=t.target)||void 0===e?void 0:e.result;this.loadSvg(s),this.svgPersistenceSystem.content=s,this.svgPersistenceSystem.isLoaded=!0,this.saveToAllBackups(s)},t.onerror=()=>{this.showNotification("Failed to read SVG file","#E74C3C","âŒ")},t.readAsText(i)}else this.showNotification("Please select a valid SVG file","#E74C3C","âš ï¸");s.value=""}loadSvg(t){try{this.clearSvg();const e=(new DOMParser).parseFromString(t,"image/svg+xml");if(e.querySelector("parsererror"))throw new Error("Invalid SVG format");const s=e.querySelector("svg");if(!s)throw new Error("No SVG element found");this.svgElement=s.cloneNode(!0),this.svgElement.style.cssText="\n                max-width: 100%;\n                max-height: 100%;\n                transition: transform 0.3s ease;\n                cursor: grab;\n            ",this.settings.svg.maintainAspectRatio&&this.svgElement.setAttribute("preserveAspectRatio","xMidYMid meet"),this.svgContainer.style.backgroundColor=this.settings.svg.backgroundColor,this.svgContainer.appendChild(this.svgElement),this.indexSvgElements(),this.applySettings(),this.bindData(),this.svgPersistenceSystem.content=t,this.svgPersistenceSystem.isLoaded=!0,this.showNotification(`SVG loaded! Found ${this.svgElements.size} elements`,"#4CAF50","âœ…"),this.settings.animation.enabled&&this.settings.animation.animateOnLoad&&this.animateLoad()}catch(t){this.showNotification(`Failed to load SVG: ${t.message}`,"#E74C3C","âŒ")}}clearSvg(){this.svgElement&&this.svgContainer.contains(this.svgElement)&&(this.svgContainer.removeChild(this.svgElement),this.svgElement=null),this.svgElements.clear(),this.resetView(),this.svgPersistenceSystem.content=null,this.svgPersistenceSystem.isLoaded=!1}indexSvgElements(){this.svgElement&&this.svgElement.querySelectorAll("[id]").forEach(t=>{const e=t,s=e.id;if(s&&""!==s.trim()){const t={id:s,element:e,originalFill:this.getComputedStyleValue(e,"fill"),originalStroke:this.getComputedStyleValue(e,"stroke")};this.svgElements.set(s,t),this.addElementInteraction(t)}})}getComputedStyleValue(t,e){const s=window.getComputedStyle(t).getPropertyValue(e);return t.getAttribute(e)||s||""}addElementInteraction(t){const e=t.element;e.style.cursor="pointer",e.style.transition="all 300ms ease",this.settings.interaction.enableHover&&(e.addEventListener("mouseenter",s=>{t.isSelected||("scale"===this.settings.animation.hoverAnimation&&(e.style.transform="scale(1.02)"),"glow"===this.settings.animation.hoverAnimation&&(e.style.filter="brightness(1.2) drop-shadow(0 0 10px rgba(0,0,0,0.3))"),this.settings.outline.outlineOnHover&&(e.style.stroke=this.settings.outline.hoverOutlineColor,e.style.strokeWidth=`${this.settings.outline.hoverOutlineWidth}px`)),this.settings.tooltips.enabled&&this.showTooltip(t,s)}),e.addEventListener("mouseleave",()=>{t.isSelected||(e.style.filter="",e.style.transform="",this.settings.outline.outlineOnHover&&(e.style.stroke=this.settings.outline.showOutline?this.settings.outline.outlineColor:"",e.style.strokeWidth=this.settings.outline.showOutline?`${this.settings.outline.outlineWidth}px`:"")),this.hideTooltip()})),this.settings.interaction.enableSelection&&e.addEventListener("click",e=>{this.isDragging||(e.stopPropagation(),this.handleElementSelection(t))})}handleElementSelection(t){const e=this.dataPoints.get(t.id);e&&(t.isSelected=!t.isSelected,t.isSelected?(this.selectionManager.select(e.selectionId),t.element.style.stroke=this.settings.outline.selectedOutlineColor,t.element.style.strokeWidth=`${this.settings.outline.selectedOutlineWidth}px`,this.settings.animation.enabled&&this.settings.animation.pulseOnUpdate&&this.pulseElement(t.element)):(this.selectionManager.clear(),t.element.style.stroke=this.settings.outline.showOutline?this.settings.outline.outlineColor:"",t.element.style.strokeWidth=this.settings.outline.showOutline?`${this.settings.outline.outlineWidth}px`:""),this.settings.interaction.multiSelect||this.svgElements.forEach((e,s)=>{s!==t.id&&e.isSelected&&(e.isSelected=!1,e.element.style.stroke=this.settings.outline.showOutline?this.settings.outline.outlineColor:"",e.element.style.strokeWidth=this.settings.outline.showOutline?`${this.settings.outline.outlineWidth}px`:"")}))}pulseElement(t){t.animate([{transform:"scale(1)"},{transform:"scale(1.1)"},{transform:"scale(1)"}],{duration:300,easing:"ease-in-out"})}applySettings(){this.svgElements.forEach(t=>{const e=t.element;this.settings.outline.showOutline?(e.style.stroke=this.settings.outline.outlineColor,e.style.strokeWidth=`${this.settings.outline.outlineWidth}px`,e.style.strokeDasharray="dashed"===this.settings.outline.outlineStyle?"5,5":"dotted"===this.settings.outline.outlineStyle?"2,2":""):(e.style.stroke="",e.style.strokeWidth="",e.style.strokeDasharray="")}),this.svgContainer.style.backgroundColor=this.settings.svg.backgroundColor,this.controlPanel.style.display=this.settings.svg.showLoadButton?"flex":"none"}bindData(){if(!this.svgElement)return;this.svgElements.forEach(t=>{t.textLabel&&t.textLabel.parentNode&&t.textLabel.parentNode.removeChild(t.textLabel)}),this.categoryColorMap.clear(),this.defaultColorIndex=0;const t=this.settings.defaultColors.defaultColor1,e=[this.settings.defaultColors.defaultColor2,this.settings.defaultColors.defaultColor3,this.settings.defaultColors.defaultColor4,this.settings.defaultColors.defaultColor5,this.settings.defaultColors.defaultColor6,this.settings.defaultColors.defaultColor7,this.settings.defaultColors.defaultColor8,this.settings.defaultColors.defaultColor9,this.settings.defaultColors.defaultColor10];this.dataPoints.forEach((s,i)=>{const o=this.svgElements.get(i);if(o){o.dataValue=s.value;const n=0===this.highlightDataPoints.size||this.highlightDataPoints.has(i);let l;n?s.category&&this.settings.categoryColors.enableCategoryColors?this.categoryColorMap.has(s.category)?l=this.categoryColorMap.get(s.category):(l=e[this.defaultColorIndex%e.length],this.categoryColorMap.set(s.category,l),this.defaultColorIndex++):l=e[0]:l=t,o.element.style.fill=l,o.element.style.opacity=n?"1":"0.3",this.settings.valueText.showText&&(s.displayText||void 0!==s.value)&&this.addTextLabel(o,s)}}),this.svgElements.forEach((e,s)=>{this.dataPoints.has(s)||(e.element.style.fill=t,e.element.style.opacity="0.5")}),this.updateLegend()}addTextLabel(t,e){var s;const i=t.element;if(!i.getBBox)return void console.warn(`Element ${t.id} doesn't support getBBox`);const o=i.getBBox(),n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("id",`text-${t.id}`),n.style.cssText=`\n            font-size: ${this.settings.valueText.fontSize}px;\n            font-family: ${this.settings.valueText.fontFamily};\n            fill: ${this.settings.valueText.fontColor};\n            font-weight: ${this.settings.valueText.bold?"bold":"normal"};\n            font-style: ${this.settings.valueText.italic?"italic":"normal"};\n            pointer-events: none;\n            user-select: none;\n        `;let l=o.x+o.width/2,a=o.y+o.height/2,r="middle",h="middle";switch(this.settings.valueText.textPosition){case"top":a=o.y-5,h="bottom";break;case"bottom":a=o.y+o.height+15,h="top";break;case"left":l=o.x-5,r="end";break;case"right":l=o.x+o.width+5,r="start"}n.setAttribute("x",l.toString()),n.setAttribute("y",a.toString()),n.setAttribute("text-anchor",r),n.setAttribute("dominant-baseline",h);let d=e.displayText||(null===(s=e.value)||void 0===s?void 0:s.toString())||"";if(void 0===e.value||e.displayText||(d=this.formatNumber(e.value)),n.textContent=`${this.settings.valueText.prefix}${d}${this.settings.valueText.suffix}`,this.settings.valueText.textBackground){const t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.style.fill=this.settings.valueText.textBackgroundColor,t.style.opacity="0.8",t.setAttribute("rx","3"),this.svgElement.appendChild(n);const e=n.getBBox();t.setAttribute("x",(e.x-3).toString()),t.setAttribute("y",(e.y-2).toString()),t.setAttribute("width",(e.width+6).toString()),t.setAttribute("height",(e.height+4).toString()),this.svgElement.insertBefore(t,n)}else this.svgElement.appendChild(n);t.textLabel=n}formatNumber(t,e){if(e)switch(e.toLowerCase()){case"percentage":return(100*t).toFixed(this.settings.valueText.decimalPlaces)+"%";case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:this.settings.valueText.decimalPlaces,maximumFractionDigits:this.settings.valueText.decimalPlaces}).format(t)}switch(this.settings.valueText.numberFormat){case"decimal":return t.toFixed(this.settings.valueText.decimalPlaces);case"percentage":return(100*t).toFixed(this.settings.valueText.decimalPlaces)+"%";case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:this.settings.valueText.decimalPlaces,maximumFractionDigits:this.settings.valueText.decimalPlaces}).format(t);default:return t>=0&&t<=1&&t.toString().includes(".")?(100*t).toFixed(this.settings.valueText.decimalPlaces)+"%":t.toString()}}showTooltip(t,e){let s=document.getElementById("svg-synoptic-tooltip");s||(s=document.createElement("div"),s.id="svg-synoptic-tooltip",document.body.appendChild(s)),s.style.cssText=`\n            position: fixed;\n            background: ${this.settings.tooltips.backgroundColor};\n            color: ${this.settings.tooltips.textColor};\n            padding: 8px 12px;\n            border-radius: 6px;\n            font-size: ${this.settings.tooltips.fontSize}px;\n            pointer-events: none;\n            z-index: 10000;\n            box-shadow: 0 4px 6px rgba(0,0,0,0.2);\n            max-width: 300px;\n            opacity: 0.9;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        `;let i='<div style="line-height: 1.4;">';const o=this.dataPoints.get(t.id);if(this.settings.tooltips.showId&&(i+=`<div style="margin-bottom: 4px;"><strong>ID:</strong> ${t.id}</div>`),o&&(this.settings.tooltips.showCategory&&o.category&&(i+=`<div style="margin-bottom: 4px;"><strong>Category:</strong> ${o.category}</div>`),this.settings.tooltips.showValue&&void 0!==o.value&&(i+=`<div style="margin-bottom: 4px;"><strong>Value:</strong> ${this.formatNumber(o.value)}</div>`),o.tooltipData&&Object.keys(o.tooltipData).length>0)){const t=Object.keys(o.tooltipData);for(let e=0;e<t.length;e++){const s=t[e],n=o.tooltipData[s];if(null!=n){let t=n;"number"==typeof n&&(t=n>=0&&n<=1&&n.toString().includes(".")?(100*n).toFixed(2)+"%":this.formatNumber(n)),i+=`<div style="margin-bottom: 4px;"><strong>${s}:</strong> ${t}</div>`}}}'<div style="line-height: 1.4;">'===i&&(i+="<div>No data available</div>"),i+="</div>",s.innerHTML=i,s.style.display="block";const n=e.clientX+10,l=e.clientY+10,a=s.getBoundingClientRect(),r=window.innerWidth-a.width-20,h=window.innerHeight-a.height-20;s.style.left=`${Math.min(n,r)}px`,s.style.top=`${Math.min(l,h)}px`}hideTooltip(){const t=document.getElementById("svg-synoptic-tooltip");t&&(t.style.display="none")}animateLoad(){let t=0;this.svgElements.forEach(e=>{e.element.style.opacity="0",e.element.style.transform="scale(0.8)",setTimeout(()=>{e.element.style.transition=`all 300ms ${this.settings.animation.easing}`,e.element.style.opacity="1",e.element.style.transform="scale(1)"},10*t),t++})}showNotification(t,e,s){const i=document.createElement("div");i.style.cssText=`\n            position: fixed;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background: ${e};\n            color: white;\n            padding: 12px 20px;\n            border-radius: 8px;\n            z-index: 10000;\n            font-weight: 500;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n            animation: slideDown 0.3s ease;\n        `,i.innerHTML=`${s} ${t}`;const o=document.createElement("style");o.textContent="\n            @keyframes slideDown {\n                from { transform: translateX(-50%) translateY(-100%); opacity: 0; }\n                to { transform: translateX(-50%) translateY(0); opacity: 1; }\n            }\n        ",document.head.appendChild(o),document.body.appendChild(i),setTimeout(()=>{i.style.transition="all 0.5s ease",i.style.opacity="0",i.style.transform="translateX(-50%) translateY(-20px)",setTimeout(()=>{i.parentElement&&document.body.removeChild(i),o.parentElement&&document.head.removeChild(o)},500)},3e3)}update(t){try{const e=this.getCurrentPageContext(t);if(""!==this.lastPageContext&&this.lastPageContext,this.lastPageContext=e,this.svgElement||this.emergencyRestore(),!t||!t.dataViews||0===t.dataViews.length)return void(this.svgElement||this.emergencyRestore());const s=t.dataViews[0];this.updateSettings(s),this.processData(s),this.svgElement||this.emergencyRestore(),this.svgElement&&!this.svgContainer.contains(this.svgElement)&&(this.svgContainer.appendChild(this.svgElement),this.indexSvgElements()),this.svgElement&&(this.applySettings(),this.bindData()),this.updateSignature(),this.updateLegend(),this.settings.animation.enabled&&this.settings.animation.pulseOnUpdate&&!this.isFirstLoad&&this.svgElements.forEach(t=>{this.dataPoints.has(t.id)&&this.pulseElement(t.element)}),this.isFirstLoad=!1}catch(t){console.error("Update error:",t),this.showNotification("Error updating visual","#E74C3C","âš ï¸"),this.svgElement||this.emergencyRestore()}}getCurrentPageContext(t){var e,s,i,o,n,l;return`${t.viewport?`${t.viewport.width}x${t.viewport.height}`:""}_${(null===(l=null===(n=null===(o=null===(i=null===(s=null===(e=t.dataViews)||void 0===e?void 0:e[0])||void 0===s?void 0:s.categorical)||void 0===i?void 0:i.categories)||void 0===o?void 0:o[0])||void 0===n?void 0:n.values)||void 0===l?void 0:l.length)||0}`}parseColorValue(t){return"string"==typeof t?t:t&&t.solid&&t.solid.color?t.solid.color:"#000000"}updateSettings(t){var e;const s=null===(e=t.metadata)||void 0===e?void 0:e.objects;if(s){if(s.svg&&(this.settings.svg.showLoadButton=void 0!==s.svg.showLoadButton?s.svg.showLoadButton:this.settings.svg.showLoadButton,this.settings.svg.fitToViewport=void 0!==s.svg.fitToViewport?s.svg.fitToViewport:this.settings.svg.fitToViewport,this.settings.svg.maintainAspectRatio=void 0!==s.svg.maintainAspectRatio?s.svg.maintainAspectRatio:this.settings.svg.maintainAspectRatio,this.settings.svg.backgroundColor=s.svg.backgroundColor?this.parseColorValue(s.svg.backgroundColor):this.settings.svg.backgroundColor,this.settings.svg.persistSvg=void 0!==s.svg.persistSvg?s.svg.persistSvg:this.settings.svg.persistSvg,this.settings.svg.autoLoad=void 0!==s.svg.autoLoad?s.svg.autoLoad:this.settings.svg.autoLoad,this.settings.svg.svgUrl=void 0!==s.svg.svgUrl?s.svg.svgUrl:this.settings.svg.svgUrl,this.settings.svg.svgBackup1=void 0!==s.svg.svgBackup1?s.svg.svgBackup1:this.settings.svg.svgBackup1,this.settings.svg.svgBackup2=void 0!==s.svg.svgBackup2?s.svg.svgBackup2:this.settings.svg.svgBackup2,this.settings.svg.svgBackup3=void 0!==s.svg.svgBackup3?s.svg.svgBackup3:this.settings.svg.svgBackup3),s.defaultColors){const t=s.defaultColors;this.settings.defaultColors.defaultColor1=t.defaultColor1?this.parseColorValue(t.defaultColor1):this.settings.defaultColors.defaultColor1,this.settings.defaultColors.defaultColor2=t.defaultColor2?this.parseColorValue(t.defaultColor2):this.settings.defaultColors.defaultColor2,this.settings.defaultColors.defaultColor3=t.defaultColor3?this.parseColorValue(t.defaultColor3):this.settings.defaultColors.defaultColor3,this.settings.defaultColors.defaultColor4=t.defaultColor4?this.parseColorValue(t.defaultColor4):this.settings.defaultColors.defaultColor4,this.settings.defaultColors.defaultColor5=t.defaultColor5?this.parseColorValue(t.defaultColor5):this.settings.defaultColors.defaultColor5,this.settings.defaultColors.defaultColor6=t.defaultColor6?this.parseColorValue(t.defaultColor6):this.settings.defaultColors.defaultColor6,this.settings.defaultColors.defaultColor7=t.defaultColor7?this.parseColorValue(t.defaultColor7):this.settings.defaultColors.defaultColor7,this.settings.defaultColors.defaultColor8=t.defaultColor8?this.parseColorValue(t.defaultColor8):this.settings.defaultColors.defaultColor8,this.settings.defaultColors.defaultColor9=t.defaultColor9?this.parseColorValue(t.defaultColor9):this.settings.defaultColors.defaultColor9,this.settings.defaultColors.defaultColor10=t.defaultColor10?this.parseColorValue(t.defaultColor10):this.settings.defaultColors.defaultColor10,this.settings.defaultColors.colorSelectionMode=void 0!==t.colorSelectionMode?t.colorSelectionMode:this.settings.defaultColors.colorSelectionMode}if(s.categoryColors){const t=s.categoryColors;this.settings.categoryColors.enableCategoryColors=void 0!==t.enableCategoryColors?t.enableCategoryColors:this.settings.categoryColors.enableCategoryColors,this.settings.categoryColors.unmatchedColor=t.unmatchedColor?this.parseColorValue(t.unmatchedColor):this.settings.categoryColors.unmatchedColor,this.settings.categoryColors.unmatchedOpacity=void 0!==t.unmatchedOpacity?t.unmatchedOpacity:this.settings.categoryColors.unmatchedOpacity}if(s.outline){const t=s.outline;this.settings.outline.showOutline=void 0!==t.showOutline?t.showOutline:this.settings.outline.showOutline,this.settings.outline.outlineColor=t.outlineColor?this.parseColorValue(t.outlineColor):this.settings.outline.outlineColor,this.settings.outline.outlineWidth=void 0!==t.outlineWidth?t.outlineWidth:this.settings.outline.outlineWidth,this.settings.outline.outlineStyle=void 0!==t.outlineStyle?t.outlineStyle:this.settings.outline.outlineStyle,this.settings.outline.outlineOnHover=void 0!==t.outlineOnHover?t.outlineOnHover:this.settings.outline.outlineOnHover,this.settings.outline.hoverOutlineColor=t.hoverOutlineColor?this.parseColorValue(t.hoverOutlineColor):this.settings.outline.hoverOutlineColor,this.settings.outline.hoverOutlineWidth=void 0!==t.hoverOutlineWidth?t.hoverOutlineWidth:this.settings.outline.hoverOutlineWidth,this.settings.outline.selectedOutlineColor=t.selectedOutlineColor?this.parseColorValue(t.selectedOutlineColor):this.settings.outline.selectedOutlineColor,this.settings.outline.selectedOutlineWidth=void 0!==t.selectedOutlineWidth?t.selectedOutlineWidth:this.settings.outline.selectedOutlineWidth}if(s.valueText){const t=s.valueText;this.settings.valueText.showText=void 0!==t.showText?t.showText:this.settings.valueText.showText,this.settings.valueText.fontSize=void 0!==t.fontSize?t.fontSize:this.settings.valueText.fontSize,this.settings.valueText.fontFamily=void 0!==t.fontFamily?t.fontFamily:this.settings.valueText.fontFamily,this.settings.valueText.fontColor=t.fontColor?this.parseColorValue(t.fontColor):this.settings.valueText.fontColor,this.settings.valueText.textPosition=void 0!==t.textPosition?t.textPosition:this.settings.valueText.textPosition,this.settings.valueText.bold=void 0!==t.bold?t.bold:this.settings.valueText.bold,this.settings.valueText.italic=void 0!==t.italic?t.italic:this.settings.valueText.italic,this.settings.valueText.textBackground=void 0!==t.textBackground?t.textBackground:this.settings.valueText.textBackground,this.settings.valueText.textBackgroundColor=t.textBackgroundColor?this.parseColorValue(t.textBackgroundColor):this.settings.valueText.textBackgroundColor,this.settings.valueText.numberFormat=void 0!==t.numberFormat?t.numberFormat:this.settings.valueText.numberFormat,this.settings.valueText.decimalPlaces=void 0!==t.decimalPlaces?t.decimalPlaces:this.settings.valueText.decimalPlaces,this.settings.valueText.prefix=void 0!==t.prefix?t.prefix:this.settings.valueText.prefix,this.settings.valueText.suffix=void 0!==t.suffix?t.suffix:this.settings.valueText.suffix}if(s.signature){const t=s.signature;this.settings.signature.showSignature=void 0!==t.showSignature?t.showSignature:this.settings.signature.showSignature,this.settings.signature.fontSize=void 0!==t.fontSize?t.fontSize:this.settings.signature.fontSize}if(s.interaction){const t=s.interaction;this.settings.interaction.enableSelection=void 0!==t.enableSelection?t.enableSelection:this.settings.interaction.enableSelection,this.settings.interaction.multiSelect=void 0!==t.multiSelect?t.multiSelect:this.settings.interaction.multiSelect,this.settings.interaction.enableHover=void 0!==t.enableHover?t.enableHover:this.settings.interaction.enableHover,this.settings.interaction.enableZoom=void 0!==t.enableZoom?t.enableZoom:this.settings.interaction.enableZoom,this.settings.interaction.enablePan=void 0!==t.enablePan?t.enablePan:this.settings.interaction.enablePan,this.settings.interaction.enableDrill=void 0!==t.enableDrill?t.enableDrill:this.settings.interaction.enableDrill,this.settings.interaction.showZoomControls=void 0!==t.showZoomControls?t.showZoomControls:this.settings.interaction.showZoomControls,this.settings.interaction.doubleClickReset=void 0!==t.doubleClickReset?t.doubleClickReset:this.settings.interaction.doubleClickReset}if(s.tooltips){const t=s.tooltips;this.settings.tooltips.enabled=void 0!==t.enabled?t.enabled:this.settings.tooltips.enabled,this.settings.tooltips.showId=void 0!==t.showId?t.showId:this.settings.tooltips.showId,this.settings.tooltips.showValue=void 0!==t.showValue?t.showValue:this.settings.tooltips.showValue,this.settings.tooltips.showCategory=void 0!==t.showCategory?t.showCategory:this.settings.tooltips.showCategory,this.settings.tooltips.fontSize=void 0!==t.fontSize?t.fontSize:this.settings.tooltips.fontSize,this.settings.tooltips.backgroundColor=t.backgroundColor?this.parseColorValue(t.backgroundColor):this.settings.tooltips.backgroundColor,this.settings.tooltips.textColor=t.textColor?this.parseColorValue(t.textColor):this.settings.tooltips.textColor}if(s.animation){const t=s.animation;this.settings.animation.enabled=void 0!==t.enabled?t.enabled:this.settings.animation.enabled,this.settings.animation.easing=void 0!==t.easing?t.easing:this.settings.animation.easing,this.settings.animation.animateOnLoad=void 0!==t.animateOnLoad?t.animateOnLoad:this.settings.animation.animateOnLoad,this.settings.animation.animateOnUpdate=void 0!==t.animateOnUpdate?t.animateOnUpdate:this.settings.animation.animateOnUpdate,this.settings.animation.pulseOnUpdate=void 0!==t.pulseOnUpdate?t.pulseOnUpdate:this.settings.animation.pulseOnUpdate,this.settings.animation.hoverAnimation=void 0!==t.hoverAnimation?t.hoverAnimation:this.settings.animation.hoverAnimation}if(s.legend){const t=s.legend;this.settings.legend.show=void 0!==t.show?t.show:this.settings.legend.show,this.settings.legend.fontSize=void 0!==t.fontSize?t.fontSize:this.settings.legend.fontSize,this.settings.legend.fontColor=t.fontColor?this.parseColorValue(t.fontColor):this.settings.legend.fontColor,this.settings.legend.backgroundColor=t.backgroundColor?this.parseColorValue(t.backgroundColor):this.settings.legend.backgroundColor,this.settings.legend.title=void 0!==t.title?t.title:this.settings.legend.title,this.settings.legend.width=void 0!==t.width?t.width:this.settings.legend.width}if(s.performance){const t=s.performance;this.settings.performance.hardwareAcceleration=void 0!==t.hardwareAcceleration?t.hardwareAcceleration:this.settings.performance.hardwareAcceleration,this.settings.performance.throttleUpdates=void 0!==t.throttleUpdates?t.throttleUpdates:this.settings.performance.throttleUpdates,this.settings.performance.renderQuality=void 0!==t.renderQuality?t.renderQuality:this.settings.performance.renderQuality,this.settings.performance.cacheData=void 0!==t.cacheData?t.cacheData:this.settings.performance.cacheData}if(s.accessibility){const t=s.accessibility;this.settings.accessibility.enableAccessibility=void 0!==t.enableAccessibility?t.enableAccessibility:this.settings.accessibility.enableAccessibility,this.settings.accessibility.highContrast=void 0!==t.highContrast?t.highContrast:this.settings.accessibility.highContrast,this.settings.accessibility.keyboardNavigation=void 0!==t.keyboardNavigation?t.keyboardNavigation:this.settings.accessibility.keyboardNavigation}}}processData(t){var e,s,i,o,n,l,a,r,h,d;if(this.dataPoints.clear(),this.highlightDataPoints.clear(),!t.categorical)return;const g=t.categorical,c=null===(e=g.categories)||void 0===e?void 0:e.find(t=>{var e;return null===(e=t.source.roles)||void 0===e?void 0:e.id}),u=null===(s=g.values)||void 0===s?void 0:s.find(t=>{var e;return null===(e=t.source.roles)||void 0===e?void 0:e.value}),v=null===(i=g.categories)||void 0===i?void 0:i.find(t=>{var e,s;return(null===(e=t.source.roles)||void 0===e?void 0:e.category)&&!(null===(s=t.source.roles)||void 0===s?void 0:s.tooltips)}),p=null===(o=g.values)||void 0===o?void 0:o.find(t=>{var e;return null===(e=t.source.roles)||void 0===e?void 0:e.displayText}),m=(null===(n=g.values)||void 0===n?void 0:n.filter(t=>{var e;return null===(e=t.source.roles)||void 0===e?void 0:e.tooltips}))||[],C=(null===(l=g.categories)||void 0===l?void 0:l.filter(t=>{var e;return null===(e=t.source.roles)||void 0===e?void 0:e.tooltips}))||[];if(!c)return;const f=(null==u?void 0:u.highlights)&&u.highlights.some(t=>null!==t);for(let t=0;t<c.values.length;t++){const e=null===(a=c.values[t])||void 0===a?void 0:a.toString();if(!e)continue;const s=u?u.values[t]:void 0,i=v?null===(r=v.values[t])||void 0===r?void 0:r.toString():void 0,o=p?null===(h=p.values[t])||void 0===h?void 0:h.toString():void 0,n=!f||null!==(null===(d=null==u?void 0:u.highlights)||void 0===d?void 0:d[t]),l={};m.forEach((e,s)=>{if(null!==e.values[t]&&void 0!==e.values[t]){const i=e.source.displayName||`Tooltip ${s+1}`;l[i]=e.values[t]}}),C.forEach((e,s)=>{if(null!==e.values[t]&&void 0!==e.values[t]){const i=e.source.displayName||`Category Tooltip ${s+1}`;l[i]=e.values[t]}}),n&&this.highlightDataPoints.add(e);const g={id:e,value:s||0,displayText:o,category:i,selectionId:this.host.createSelectionIdBuilder().withCategory(c,t).createSelectionId(),tooltipData:l};this.dataPoints.set(e,g)}}destroy(){const t=document.getElementById("svg-synoptic-tooltip");t&&t.parentElement&&t.parentElement.removeChild(t);const e=document.getElementById("synoptic-context-menu");e&&e.parentElement&&e.parentElement.removeChild(e),this.svgElements.forEach(t=>{t.element.style.transition=""}),this.svgPersistenceSystem.saveInterval&&(clearInterval(this.svgPersistenceSystem.saveInterval),this.svgPersistenceSystem.saveInterval=null),this.restorationTimer&&(clearInterval(this.restorationTimer),this.restorationTimer=null),window.removeEventListener("focus",this.emergencyRestore),window.removeEventListener("visibilitychange",this.emergencyRestore),window.removeEventListener("beforeunload",this.emergencySave)}enumerateObjectInstances(t){const e=[],s=t.objectName;switch(s){case"svg":e.push({objectName:s,selector:null,properties:{showLoadButton:this.settings.svg.showLoadButton,fitToViewport:this.settings.svg.fitToViewport,maintainAspectRatio:this.settings.svg.maintainAspectRatio,backgroundColor:{solid:{color:this.settings.svg.backgroundColor}},persistSvg:this.settings.svg.persistSvg,autoLoad:this.settings.svg.autoLoad,svgUrl:this.settings.svg.svgUrl,svgBackup1:this.settings.svg.svgBackup1,svgBackup2:this.settings.svg.svgBackup2,svgBackup3:this.settings.svg.svgBackup3}});break;case"defaultColors":e.push({objectName:s,selector:null,properties:{defaultColor1:{solid:{color:this.settings.defaultColors.defaultColor1}},defaultColor2:{solid:{color:this.settings.defaultColors.defaultColor2}},defaultColor3:{solid:{color:this.settings.defaultColors.defaultColor3}},defaultColor4:{solid:{color:this.settings.defaultColors.defaultColor4}},defaultColor5:{solid:{color:this.settings.defaultColors.defaultColor5}},defaultColor6:{solid:{color:this.settings.defaultColors.defaultColor6}},defaultColor7:{solid:{color:this.settings.defaultColors.defaultColor7}},defaultColor8:{solid:{color:this.settings.defaultColors.defaultColor8}},defaultColor9:{solid:{color:this.settings.defaultColors.defaultColor9}},defaultColor10:{solid:{color:this.settings.defaultColors.defaultColor10}},colorSelectionMode:this.settings.defaultColors.colorSelectionMode}});break;case"categoryColors":e.push({objectName:s,selector:null,properties:{enableCategoryColors:this.settings.categoryColors.enableCategoryColors,unmatchedColor:{solid:{color:this.settings.categoryColors.unmatchedColor}},unmatchedOpacity:this.settings.categoryColors.unmatchedOpacity}});break;case"outline":e.push({objectName:s,selector:null,properties:{showOutline:this.settings.outline.showOutline,outlineColor:{solid:{color:this.settings.outline.outlineColor}},outlineWidth:this.settings.outline.outlineWidth,outlineStyle:this.settings.outline.outlineStyle,outlineOnHover:this.settings.outline.outlineOnHover,hoverOutlineColor:{solid:{color:this.settings.outline.hoverOutlineColor}},hoverOutlineWidth:this.settings.outline.hoverOutlineWidth,selectedOutlineColor:{solid:{color:this.settings.outline.selectedOutlineColor}},selectedOutlineWidth:this.settings.outline.selectedOutlineWidth}});break;case"valueText":e.push({objectName:s,selector:null,properties:{showText:this.settings.valueText.showText,fontSize:this.settings.valueText.fontSize,fontFamily:this.settings.valueText.fontFamily,fontColor:{solid:{color:this.settings.valueText.fontColor}},textPosition:this.settings.valueText.textPosition,bold:this.settings.valueText.bold,italic:this.settings.valueText.italic,textBackground:this.settings.valueText.textBackground,textBackgroundColor:{solid:{color:this.settings.valueText.textBackgroundColor}},numberFormat:this.settings.valueText.numberFormat,decimalPlaces:this.settings.valueText.decimalPlaces,prefix:this.settings.valueText.prefix,suffix:this.settings.valueText.suffix}});break;case"signature":e.push({objectName:s,selector:null,properties:{showSignature:this.settings.signature.showSignature,fontSize:this.settings.signature.fontSize}});break;case"interaction":e.push({objectName:s,selector:null,properties:{enableSelection:this.settings.interaction.enableSelection,multiSelect:this.settings.interaction.multiSelect,enableHover:this.settings.interaction.enableHover,enableZoom:this.settings.interaction.enableZoom,enablePan:this.settings.interaction.enablePan,enableDrill:this.settings.interaction.enableDrill,showZoomControls:this.settings.interaction.showZoomControls,doubleClickReset:this.settings.interaction.doubleClickReset}});break;case"tooltips":e.push({objectName:s,selector:null,properties:{enabled:this.settings.tooltips.enabled,showId:this.settings.tooltips.showId,showValue:this.settings.tooltips.showValue,showCategory:this.settings.tooltips.showCategory,fontSize:this.settings.tooltips.fontSize,backgroundColor:{solid:{color:this.settings.tooltips.backgroundColor}},textColor:{solid:{color:this.settings.tooltips.textColor}}}});break;case"animation":e.push({objectName:s,selector:null,properties:{enabled:this.settings.animation.enabled,easing:this.settings.animation.easing,animateOnLoad:this.settings.animation.animateOnLoad,animateOnUpdate:this.settings.animation.animateOnUpdate,pulseOnUpdate:this.settings.animation.pulseOnUpdate,hoverAnimation:this.settings.animation.hoverAnimation}});break;case"legend":e.push({objectName:s,selector:null,properties:{show:this.settings.legend.show,fontSize:this.settings.legend.fontSize,fontColor:{solid:{color:this.settings.legend.fontColor}},backgroundColor:{solid:{color:this.settings.legend.backgroundColor}},title:this.settings.legend.title,width:this.settings.legend.width}});break;case"performance":e.push({objectName:s,selector:null,properties:{hardwareAcceleration:this.settings.performance.hardwareAcceleration,throttleUpdates:this.settings.performance.throttleUpdates,renderQuality:this.settings.performance.renderQuality,cacheData:this.settings.performance.cacheData}});break;case"accessibility":e.push({objectName:s,selector:null,properties:{enableAccessibility:this.settings.accessibility.enableAccessibility,highContrast:this.settings.accessibility.highContrast,keyboardNavigation:this.settings.accessibility.keyboardNavigation}})}return e}}e.Visual=s,s.DEFAULT_COLORS=["#4472C4","#ED7D31","#A5A5A5","#FFC000","#5B9BD5","#70AD47","#FF5252","#9C27B0","#00BCD4","#8BC34A"],s.DEFAULT_COLOR="#CCCCCC"}},e={};function s(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}var i={};(()=>{var t=i;Object.defineProperty(t,"__esModule",{value:!0});const e=s(848);var o=window.powerbi,n={name:"SVGReader1234567890ABCDEF",displayName:"SVG Reader",class:"Visual",apiVersion:"5.11.0",create:t=>{if(e.Visual)return new e.Visual(t);throw"Visual instance not found"},createModalDialog:(t,e,s)=>{const i=globalThis.dialogRegistry;t in i&&new i[t](e,s)},custom:!0};void 0!==o&&(o.visuals=o.visuals||{},o.visuals.plugins=o.visuals.plugins||{},o.visuals.plugins.SVGReader1234567890ABCDEF=n),t.default=n})(),SVGReader1234567890ABCDEF=i})();