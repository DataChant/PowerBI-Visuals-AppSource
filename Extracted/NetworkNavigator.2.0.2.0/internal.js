/*!
 * Copyright (c) Microsoft
 * All rights reserved.
 * MIT License
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:false};e[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=e;n.c=t;n.p="";return n(0)})([function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a;return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:true});n(1);var i=n(38);var a=n(9);var o=n(76);var s=n(78);var u=n(79);var l=n(29);var c=n(13);var f=n(6);var d=n(53);var p="mousedown mouseup click focus blur input pointerdown pointerup touchstart touchmove touchdown";var h=n(35);var m=function(){function e(e,t){if(t===void 0){t=false}var n=this;this.onNodeSelected=c(function(e){n.persistNodeSelection(e)},100);this.noCss=t;this.host=e.host;this.element=l('<div style="height: 100%;"></div>');this.selectionManager=e.host.createSelectionManager();e.element.appendChild(this.element[0]);this.selectionManager=this.host.createSelectionManager();var r=d&&d.locals&&d.locals.className;if(r){l(e.element).append(l("<st"+"yle>"+d+"</st"+"yle>"));this.element.addClass(r)}this._internalState=u.default.create();this.myNetworkNavigator=new i.default(this.element,500,500);this.attachEvents()}e.prototype.update=function(e,t,n){var r=this;var i=n!==undefined?n:a.calcUpdateType(this.prevUpdateOptions,e);this.prevUpdateOptions=e;var o=e.dataViews&&e.dataViews.length&&e.dataViews[0];this._dataView=o;var u=o&&o.table;var l=false;if((i&a.UpdateType.Settings)===a.UpdateType.Settings){l=this.loadSettingsFromPowerBI(o)}if((i&a.UpdateType.Data)===a.UpdateType.Data||l){if(u){var c=o.metadata.columns.filter(function(e){return e.roles[h.DATA_ROLES.filterField.name]})[0];var f=s.default(o,this._internalState,c,function(){return r.host.createSelectionIdBuilder()});this.myNetworkNavigator.setData(f)}else{this.myNetworkNavigator.setData({links:[],nodes:[]})}}this.loadSelectionFromPowerBI();this.myNetworkNavigator.redrawLabels()};e.prototype.setDimensions=function(e){if(this.myNetworkNavigator){this.myNetworkNavigator.dimensions={width:e.width,height:e.height}}if(this.element){this.element.css({width:e.width,height:e.height})}};e.prototype.destroy=function(){this.element.empty()};e.prototype.enumerateObjectInstances=function(e){return this._internalState.buildEnumerationObjects(e.objectName,this._dataView,false)};e.prototype.persistNodeSelection=function(e){var t=e&&e.filter;var n=false;if(t&&t["values"]){n=t["values"].length>0}else if(t&&t["conditions"]){n=t["conditions"].length>0}var r=n?0:1;this.host.applyJsonFilter(t,"general","filter",r)};e.prototype.loadSelectionFromPowerBI=function(){var e=this.myNetworkNavigator.getData();var t=e&&e.nodes;if(t&&t.length){this._nodes=t;var n=g(this._dataView,"general.filter");var r=(n||[]).reduce(function(e,t){e[t]=1;return e},{});var i;t.forEach(function(e){var t=!!r[y(e.name)];e.selected=t;if(t){i=e}});this.myNetworkNavigator.selectedNode=i}};e.prototype.setSelectionOnSelectionManager=function(e,t){var n=this;if(t===void 0){t=false}var r=function(){if(e.length>0&&n.selectionManager.select){n.selectionManager.select(e)}else if(n.selectionManager.clear){n.selectionManager.clear()}};if(!t&&this.selectionManager["setSelectionIds"]){this.selectionManager["setSelectionIds"](e)}else if(!t&&this.selectionManager["selectedIds"]){this.selectionManager["selectedIds"]=e}else{r()}};e.prototype.loadSettingsFromPowerBI=function(e){var t=this._internalState;this._internalState=this._internalState.receiveFromPBI(e);this.myNetworkNavigator.configuration=this._internalState;return t.maxNodeCount!==this._internalState.maxNodeCount||t.labels!==this._internalState.labels};e.prototype.attachEvents=function(){var e=this;if(this.myNetworkNavigator){if(this.selectionChangedListener){this.selectionChangedListener.destroy()}var t=this.myNetworkNavigator.events;this.selectionChangedListener=t.on("selectionChanged",function(t){return e.onNodeSelected(t)});t.on("zoomed",function(t){var n=t.scale,r=t.translate;e._internalState=e._internalState.receive({scale:n,translate:r})});t.on("textFilter",function(t){e._internalState=e._internalState.receive({textFilter:t});var n=t&&t!==""?"Filtered "+t:"Cleared text filter"});this.element.find(".filter-box input").on(p,function(e){return e.stopPropagation()})}};return e}();m=r([a.receiveDimensions],m);t.default=m;function g(e,t){var n=f(e,"metadata.objects."+t);if(n){var r=o.filter.FilterManager.restoreFilter(n);if(r){var i=f(r,"conditions",f(r,"values",[]));return i.map(function(e){var t=y(e);if(e&&e.splice){t=y(e[0].value)}else if(e&&(e.value!==undefined&&e.value!==null)){t=y(e.value)}return t})}}return[]}function y(e){if(e===null||e===undefined){return""}return e+""}(function(e){var t;(function(t){var n;(function(t){var n=function(t){if(t.objects){var n=t.objects;for(var r in n){if(n.hasOwnProperty(r)){var i=n[r].properties;if(i){for(var a in i){if(i.hasOwnProperty(a)){var o=i[a];if(o.type&&o.type.enumeration){o.type.enumeration=e.createEnumType(o.type.enumeration)}}}}}}}return t};t["NetworkNavigator1550434005853"]={name:"NetworkNavigator1550434005853",displayName:"NetworkNavigator",class:"NetworkNavigator",version:"2.1.0",apiVersion:"1.11.0",capabilities:{},create:function(){var e=Object.create(m.prototype);m.apply(e,arguments);return e},custom:true};m.__essex_build_info__="2.1.0 1536265734491 [0b7c4e4b6858935eb5f399a515172006]";Object.defineProperty(m.prototype,"__essex_build_info__",{get:function(){return m.__essex_build_info__}});m.prototype.__essex_visual__=true;(function(t){var n="0.0.1";var r="__essex_patcher__";var i=function(t){var n=e.extensibility.visualApiVersions;for(var r=0,i=n.length;r<i;++r){if(n[r].version===t){return n[r]}}return null};var a=function(e){return!!(e.overloads&&e.overloads[r])};var o=function(e){return!!e.__essex_visual__};var s=function(e){var t=e.overloads;e.overloads=function(e,n){if(!o(e)){return t?t(e,n):e}var r={update:function(){var t=Array.prototype.slice.call(arguments);if(r.options){var n=t[0];for(var i in r.options){if(r.options.hasOwnProperty(i)&&!n.hasOwnProperty(i)){n[i]=r.options[i]}}r.options=null}e.update.apply(e,t)},options:null};var i=t?t(r,n):r;return{update:function(t){if(e.update){r.options=t;i.update(t)}}}};e.overloads[r]=n;return e};var u=i(t);if(u&&!a(u)){s(u)}})("1.11.0")})(n=t.plugins||(t.plugins={}))})(t=e.visuals||(e.visuals={}))})(window["powerbi"]||(window["powerbi"]={}))},function(e,t){(function(e){e.noop=function(){}})(typeof e==="object"&&typeof e.exports==="object"?e.exports:window)},function(e,t){e.exports=function(e){function t(e){typeof console!=="undefined"&&(console.error||console.log)("[Script Loader]",e)}function n(){return typeof attachEvent!=="undefined"&&typeof addEventListener==="undefined"}try{if(typeof execScript!=="undefined"&&n()){execScript(e)}else if(typeof eval!=="undefined"){eval.call(null,e)}else{t("EvalError: No eval function available")}}catch(e){t(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(9);var i=n(6);var a=n(30);var o=n(5);var s=n(58);t.METADATA_KEY="__settings__";function u(e,t,n,r,i){"use strict";if(n===void 0){n={}}if(r===void 0){r=true}if(i===void 0){i=true}var a=g(e);var s=new e;o(s,n);if(a){Object.keys(a).forEach(function(e){var o=a[e];var l=o.propertyName;var c=n[l];var f;if(o.isChildSettings){f=u(o.childClassType,t,c,r)}else{if(r&&(c||n.hasOwnProperty(l))){f=i&&c===null?undefined:c}else{var d=x(o,t);f=d.adaptedValue}}s[l]=f})}return s}t.parseSettingsFromPBI=u;function l(e,t,n,i){"use strict";if(i===void 0){i=true}if(t){t=u(e,undefined,t);var a=g(e);if(a){var o=r.createPersistObjectBuilder();Object.keys(a).forEach(function(e){var r=a[e];var s=r.descriptor,u=s.readOnly,f=s.persist;if(r.isChildSettings){var d=t[r.propertyName];if(d&&f!==false&&u!==true){var p=l(r.childClassType,t[r.propertyName],n,i);o.mergePersistObjects(p)}}else{c(r,t,n,i,o)}});return o.build()}}}t.buildPersistObjects=l;function c(e,t,n,r,i){"use strict";if(r===void 0){r=true}var a=e.descriptor,o=a.readOnly,s=a.persist;if(s!==false&&o!==true){var u=b(t,e,n,r);if(u){var l=v(e),c=l.objName,f=l.propName;var d=u.adaptedValue;d=d&&d.forEach?d:[d];d.forEach(function(e){var t=!!(e&&e.properties);var n=e;i.persist(c,f,e,undefined,n&&n.selector,n&&n.displayName,t)})}}}function f(e,t,n,r,i){"use strict";if(i===void 0){i=false}var a=[{selector:null,objectName:n,properties:{}}];if(t){t=u(e,undefined,t);var o=g(e);if(o){Object.keys(o).forEach(function(e){var s=o[e];if(s.isChildSettings){var u=t[s.propertyName];if(u&&E(t,s.descriptor,r)){a=a.concat(f(s.childClassType,u,n,r,i))}}else{var l=v(s).objName;var c=l===n;if(c){d(s,t,r,i,a)}}})}}a=a.filter(function(e){return Object.keys(e.properties).length>0});return a}t.buildEnumerationObjects=f;function d(e,t,n,r,i){"use strict";if(r===void 0){r=false}var o=e.descriptor,s=o.readOnly,u=o.enumerable;if(s!==true&&u!==false){var l=b(t,e,n,r);if(l){var c=v(e),f=c.objName,d=c.propName;var p=l.adaptedValue;p=p&&p.forEach?p:[p];p.forEach(function(e){var t=!!(e&&e.properties);var n=e;if(t){n=a(n,{objectName:f});if(typeof n.displayName==="undefined"||n.displayName===null){n.displayName="(Blank)"}n.displayName=n.displayName+"";i.push(n)}else{i[0].properties[d]=l.adaptedValue}})}}}function p(e){"use strict";var t;if(e){var n=g(e);if(n){t={};Object.keys(n).map(function(e){var r=n[e];var i=r.isChildSettings,s=r.childClassType;if(i){if(r.descriptor.readOnly!==true){a(t,p(s))}}else{var u=h(r);if(u){var l=u.objectName;var c=t[l]||u;o(c.properties,u.properties);t[l]=c}}})}}return t}t.buildCapabilitiesObjects=p;function h(e){"use strict";var t=v(e),n=t.objName,r=t.propName;var i=e.descriptor,a=i.category,o=i.displayName,s=i.defaultValue,u=i.description,l=i.readOnly;var c=e.descriptor.config;var f="General";if(l!==true){var d={objectName:n,displayName:a||f,properties:{}};var p=void 0;if(typeof s==="number"){p={numeric:true}}else if(typeof s==="boolean"){p={bool:true}}else if(typeof s==="string"){p={text:{}}}c=c||{};var h={displayName:c.displayName||o||r,description:c.description||u,type:c.type||p};if(c.rule){h.rule=c.rule}d.properties[r]=h;return d}}function m(e,t){"use strict";var n=JSON.parse(s(t,function(e,t){return t===undefined?null:t}));return n}t.toJSON=m;function g(e){"use strict";var n;if(e){n=i(e,t.METADATA_KEY+".settings");if(!n&&e.constructor){n=i(e.constructor,t.METADATA_KEY+".settings")}}return n}function y(e,t){"use strict";var n=g(e);if(n&&n[t]){return n[t].descriptor}}t.getSetting=y;function v(e){"use strict";var t=e.propertyName,n=e.descriptor,r=n.name,i=n.category;return{objName:T(i||"General"),propName:(r||t).replace(/\s/g,"_")}}t.getPBIObjectNameAndPropertyName=v;function b(e,t,n,r){"use strict";if(r===void 0){r=false}var i=t.descriptor,a=t.propertyName;var o=i.compose,s=i.readOnly;var u=E(e,i,n);if((r||u)&&s!==true){var l=e[a];if(o){l=o(l,i,n,t)}return{adaptedValue:l}}}t.convertValueToPBI=b;function x(e,t){"use strict";var n=i(t,"metadata.objects");var r=e.descriptor,a=e.descriptor,o=a.defaultValue,s=a.parse,u=a.min,l=a.max;var c=v(e),f=c.objName,d=c.propName;var p=i(n,f+"."+d);var h=typeof o!=="undefined"||r.hasOwnProperty("defaultValue");p=s?s(p,r,t,e):p;if(h&&(p===null||typeof p==="undefined")){p=o}if(typeof u!=="undefined"){p=Math.max(u,p)}if(typeof l!=="undefined"){p=Math.min(l,p)}return{adaptedValue:p}}t.convertValueFromPBI=x;function T(e){"use strict";return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return t===0?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")}function E(e,t,n){"use strict";var r=t.hidden,i=t.enumerable,a=t.readOnly;if(a===true){return false}if(typeof i!=="undefined"){return!!(typeof i==="function"?i(e,n):i)}return!(typeof r==="function"?r(e,n):r)}function S(e,t,n,r){"use strict";var i=v(e),a=i.objName,o=i.propName;return{objectName:a,selector:t,displayName:n,properties:(s={},s[o]=r,s)};var s}t.composeInstance=S;function w(e,t,n){"use strict";var r=v(t),a=r.objName,o=r.propName;var s=i(e,"objects."+a);if(n){return i(s,"$instances."+n+"."+o)}else{return i(s,""+o)}}t.getObjectsForColumn=w;function O(e,t){"use strict";return{metadata:e.queryName,id:t}}t.createObjectSelectorForColumn=O},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:true});var i=n(3);var a=n(5);function o(e){"use strict";return function(t,n){var r={propertyName:n,descriptor:e,isChildSettings:false,classType:t};if(Object.freeze){r=Object.freeze(r)}d(t,n,r);Object.defineProperty(t,n,{writable:true,enumerable:true});return t}}t.setting=o;function s(e,t){"use strict";return function(n,i){var a=e;var o=function(e){r(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(a);var s=c(a);t=t||{};var u={propertyName:i,descriptor:t,isChildSettings:true,childClassType:o,classType:n};c(o,Object.create(s));l(u);if(!e){throw new Error("Could not find config for setting: "+i)}if(Object.freeze){u=Object.freeze(u)}d(n,i,u);Object.defineProperty(n,i,{writable:true,enumerable:true});return n}}t.settings=s;function u(e,t){"use strict";var n=Object.create(a({},t),{descriptor:{value:Object.create({category:e.descriptor.category},Object.keys(t.descriptor).reduce(function(e,n){e[n]={enumerable:true,value:t.descriptor[n]};return e},{}))}});n.parentSetting=e;n.classType=e.childClassType;l(n);return n}function l(e){"use strict";if(e.isChildSettings){var t=c(e.childClassType);t.settings=Object.keys(t.settings).reduce(function(n,r){n[r]=u(e,t.settings[r]);return n},{})}}function c(e,t){"use strict";var n=e.constructor===Function?e:e.constructor;return n[i.METADATA_KEY]=t||n[i.METADATA_KEY]||{}}function f(e){"use strict";var t=c(e);return t.settings=t.settings||{}}function d(e,t,n){"use strict";f(e)[t]=n}t.defineSetting=d},function(e,t){var n=9007199254740991;var r="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]";var o=/^(?:0|[1-9]\d*)$/;function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}var l=Object.prototype;var c=l.hasOwnProperty;var f=l.toString;var d=l.propertyIsEnumerable;var p=Math.max;function h(e,t){var n=I(e)||O(e)?u(e.length,String):[];var r=n.length,i=!!r;for(var a in e){if((t||c.call(e,a))&&!(i&&(a=="length"||x(a,r)))){n.push(a)}}return n}function m(e,t,n){var r=e[t];if(!(c.call(e,t)&&w(r,n))||n===undefined&&!(t in e)){e[t]=n}}function g(e){if(!M(e)){return S(e)}var t=E(e),n=[];for(var r in e){if(!(r=="constructor"&&(t||!c.call(e,r)))){n.push(r)}}return n}function y(e,t){t=p(t===undefined?e.length-1:t,0);return function(){var n=arguments,r=-1,i=p(n.length-t,0),a=Array(i);while(++r<i){a[r]=n[t+r]}r=-1;var o=Array(t+1);while(++r<t){o[r]=n[r]}o[t]=a;return s(e,this,o)}}function v(e,t,n,r){n||(n={});var i=-1,a=t.length;while(++i<a){var o=t[i];var s=r?r(n[o],e[o],o,n,e):undefined;m(n,o,s===undefined?e[o]:s)}return n}function b(e){return y(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:undefined,o=i>2?n[2]:undefined;a=e.length>3&&typeof a=="function"?(i--,a):undefined;if(o&&T(n[0],n[1],o)){a=i<3?undefined:a;i=1}t=Object(t);while(++r<i){var s=n[r];if(s){e(t,s,r,a)}}return t})}function x(e,t){t=t==null?n:t;return!!t&&(typeof e=="number"||o.test(e))&&(e>-1&&e%1==0&&e<t)}function T(e,t,n){if(!M(n)){return false}var r=typeof t;if(r=="number"?N(n)&&x(t,n.length):r=="string"&&t in n){return w(n[t],e)}return false}function E(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||l;return e===n}function S(e){var t=[];if(e!=null){for(var n in Object(e)){t.push(n)}}return t}function w(e,t){return e===t||e!==e&&t!==t}function O(e){return A(e)&&c.call(e,"callee")&&(!d.call(e,"callee")||f.call(e)==r)}var I=Array.isArray;function N(e){return e!=null&&C(e.length)&&!R(e)}function A(e){return D(e)&&N(e)}function R(e){var t=M(e)?f.call(e):"";return t==i||t==a}function C(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}function M(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function D(e){return!!e&&typeof e=="object"}var P=b(function(e,t){v(t,_(t),e)});function _(e){return N(e)?h(e,true):g(e)}e.exports=P},function(e,t){(function(t){var n="Expected a function";var r="__lodash_hash_undefined__";var i=1/0;var a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]";var u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,c=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var d=/[\\^$.*+?()[\]{}|]/g;var p=/\\(\\)?/g;var h=/^\[object .+?Constructor\]$/;var m=typeof t=="object"&&t&&t.Object===Object&&t;var g=typeof self=="object"&&self&&self.Object===Object&&self;var y=m||g||Function("return this")();function v(e,t){return e==null?undefined:e[t]}function b(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}var x=Array.prototype,T=Function.prototype,E=Object.prototype;var S=y["__core-js_shared__"];var w=function(){var e=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var O=T.toString;var I=E.hasOwnProperty;var N=E.toString;var A=RegExp("^"+O.call(I).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var R=y.Symbol,C=x.splice;var M=ae(y,"Map"),D=ae(Object,"create");var P=R?R.prototype:undefined,_=P?P.toString:undefined;function F(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function L(){this.__data__=D?D(null):{}}function k(e){return this.has(e)&&delete this.__data__[e]}function H(e){var t=this.__data__;if(D){var n=t[e];return n===r?undefined:n}return I.call(t,e)?t[e]:undefined}function U(e){var t=this.__data__;return D?t[e]!==undefined:I.call(t,e)}function j(e,t){var n=this.__data__;n[e]=D&&t===undefined?r:t;return this}F.prototype.clear=L;F.prototype["delete"]=k;F.prototype.get=H;F.prototype.has=U;F.prototype.set=j;function W(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function V(){this.__data__=[]}function q(e){var t=this.__data__,n=J(t,e);if(n<0){return false}var r=t.length-1;if(n==r){t.pop()}else{C.call(t,n,1)}return true}function B(e){var t=this.__data__,n=J(t,e);return n<0?undefined:t[n][1]}function z(e){return J(this.__data__,e)>-1}function G(e,t){var n=this.__data__,r=J(n,e);if(r<0){n.push([e,t])}else{n[r][1]=t}return this}W.prototype.clear=V;W.prototype["delete"]=q;W.prototype.get=B;W.prototype.has=z;W.prototype.set=G;function Y(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function K(){this.__data__={hash:new F,map:new(M||W),string:new F}}function $(e){return ie(this,e)["delete"](e)}function Q(e){return ie(this,e).get(e)}function Z(e){return ie(this,e).has(e)}function X(e,t){ie(this,e).set(e,t);return this}Y.prototype.clear=K;Y.prototype["delete"]=$;Y.prototype.get=Q;Y.prototype.has=Z;Y.prototype.set=X;function J(e,t){var n=e.length;while(n--){if(pe(e[n][0],t)){return n}}return-1}function ee(e,t){t=oe(t,e)?[t]:re(t);var n=0,r=t.length;while(e!=null&&n<r){e=e[ce(t[n++])]}return n&&n==r?e:undefined}function te(e){if(!ge(e)||ue(e)){return false}var t=me(e)||b(e)?A:h;return t.test(fe(e))}function ne(e){if(typeof e=="string"){return e}if(ve(e)){return _?_.call(e):""}var t=e+"";return t=="0"&&1/e==-i?"-0":t}function re(e){return he(e)?e:le(e)}function ie(e,t){var n=e.__data__;return se(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ae(e,t){var n=v(e,t);return te(n)?n:undefined}function oe(e,t){if(he(e)){return false}var n=typeof e;if(n=="number"||n=="symbol"||n=="boolean"||e==null||ve(e)){return true}return l.test(e)||!u.test(e)||t!=null&&e in Object(t)}function se(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ue(e){return!!w&&w in e}var le=de(function(e){e=be(e);var t=[];if(c.test(e)){t.push("")}e.replace(f,function(e,n,r,i){t.push(r?i.replace(p,"$1"):n||e)});return t});function ce(e){if(typeof e=="string"||ve(e)){return e}var t=e+"";return t=="0"&&1/e==-i?"-0":t}function fe(e){if(e!=null){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function de(e,t){if(typeof e!="function"||t&&typeof t!="function"){throw new TypeError(n)}var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i)){return a.get(i)}var o=e.apply(this,n);r.cache=a.set(i,o);return o};r.cache=new(de.Cache||Y);return r}de.Cache=Y;function pe(e,t){return e===t||e!==e&&t!==t}var he=Array.isArray;function me(e){var t=ge(e)?N.call(e):"";return t==a||t==o}function ge(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ye(e){return!!e&&typeof e=="object"}function ve(e){return typeof e=="symbol"||ye(e)&&N.call(e)==s}function be(e){return e==null?"":ne(e)}function xe(e,t,n){var r=e==null?undefined:ee(e,t);return r===undefined?n:r}e.exports=xe}).call(t,function(){return this}())},function(e,t,n){"use strict";n(1);n(73);e.exports=powerbi.extensibility.utils.type},function(e,t,n){var r=n(44);t.fullColors=r.fullColors;t.default=r.default},function(e,t,n){"use strict";function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}Object.defineProperty(t,"__esModule",{value:true});var i=n(27);i.save=function(){};if(false){i.enable(process.env.DEBUG)}var a=n(46);t.calcUpdateType=a.default;var o=n(48);t.createPropertyPersister=o.default;r(n(50));var s=n(20);t.PropertyPersister=s.default;r(n(52));var u=n(21);t.UpdateType=u.default;var l=n(45);t.buildContainsFilter=l.default;var c=n(51);t.createPersistObjectBuilder=c.default;var f=n(25);t.get=f.default;r(n(47));r(n(24));var d=n(23);t.calculateSegments=d.default;var p=n(49);t.listDiff=p.default;var h=n(22);t.buildColumnTarget=h.default},function(e,t,n){"use strict";n(7);n(1);n(72);e.exports=powerbi.extensibility.utils.svg},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(3);var i=n(5);var a=function(){function e(){}e.create=function(e){return r.parseSettingsFromPBI(this,undefined,e,true)};e.createFromPBI=function(e,t){return r.parseSettingsFromPBI(this,e,t,false)};e.buildCapabilitiesObjects=function(){return r.buildCapabilitiesObjects(this)};e.prototype.receive=function(e){return this.constructor.create(i(this.toJSONObject(),e))};e.prototype.receiveFromPBI=function(e){return this.constructor.createFromPBI(e,this.toJSONObject())};e.prototype.buildEnumerationObjects=function(e,t,n){if(n===void 0){n=false}return r.buildEnumerationObjects(this.constructor,this,e,t,n)};e.prototype.buildPersistObjects=function(e,t){if(t===void 0){t=false}return r.buildPersistObjects(this.constructor,this,e,t)};e.prototype.toJSONObject=function(){return r.toJSON(this.constructor,this)};return e}();t.HasSettings=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(4);var i=n(19);var a=n(16);var o=n(30);var s={fill:{solid:{color:true}}};function u(e){"use strict";return g({text:{}},e)}t.textSetting=u;function l(e){"use strict";return g({bool:true},e)}t.boolSetting=l;function c(e){"use strict";return g({numeric:true},e)}t.numberSetting=c;function f(e){"use strict";e=o({},{config:{type:{text:true}},compose:function(e){return e&&JSON.stringify(e)},parse:function(e){return e&&JSON.parse(e)}},e);return r.setting(e)}t.jsonSetting=f;function d(e){"use strict";return f(e)}t.selectionSetting=d;function p(e){"use strict";e=o({},{config:{type:s},compose:a.colorComposer(e?e.defaultValue:"#ccc"),parse:i.colorParser(e?e.defaultValue:"#ccc")},e);return r.setting(e)}t.colorSetting=p;function h(e){"use strict";e=o({},{config:{type:s},compose:a.coloredObjectInstanceComposer(e?e.defaultValue:"#ccc"),parse:i.colorCategoricalInstanceObjectParser(e?e.defaultValue:"#ccc")},e);return r.setting(e)}t.instanceColorSetting=h;function m(e,t){"use strict";return g({enumeration:{members:function(t){var n=Object.keys(e).map(function(t){return e[t]});var r=n.filter(function(e){return typeof e==="string"});return r.map(function(t){return{value:e[t],displayName:t}})}}},t)}t.enumSetting=m;function g(e,t){"use strict";t=o({},{config:{type:e}},t);return r.setting(t)}},function(e,t){(function(t){var n="Expected a function";var r=0/0;var i="[object Symbol]";var a=/^\s+|\s+$/g;var o=/^[-+]0x[0-9a-f]+$/i;var s=/^0b[01]+$/i;var u=/^0o[0-7]+$/i;var l=parseInt;var c=typeof t=="object"&&t&&t.Object===Object&&t;var f=typeof self=="object"&&self&&self.Object===Object&&self;var d=c||f||Function("return this")();var p=Object.prototype;var h=p.toString;var m=Math.max,g=Math.min;var y=function(){return d.Date.now()};function v(e,t,r){var i,a,o,s,u,l,c=0,f=false,d=false,p=true;if(typeof e!="function"){throw new TypeError(n)}t=E(t)||0;if(b(r)){f=!!r.leading;d="maxWait"in r;o=d?m(E(r.maxWait)||0,t):o;p="trailing"in r?!!r.trailing:p}function h(t){var n=i,r=a;i=a=undefined;c=t;s=e.apply(r,n);return s}function v(e){c=e;u=setTimeout(S,t);return f?h(e):s}function x(e){var n=e-l,r=e-c,i=t-n;return d?g(i,o-r):i}function T(e){var n=e-l,r=e-c;return l===undefined||n>=t||n<0||d&&r>=o}function S(){var e=y();if(T(e)){return w(e)}u=setTimeout(S,x(e))}function w(e){u=undefined;if(p&&i){return h(e)}i=a=undefined;return s}function O(){if(u!==undefined){clearTimeout(u)}c=0;i=l=a=u=undefined}function I(){return u===undefined?s:w(y())}function N(){var e=y(),n=T(e);i=arguments;a=this;l=e;if(n){if(u===undefined){return v(l)}if(d){u=setTimeout(S,t);return h(l)}}if(u===undefined){u=setTimeout(S,t)}return s}N.cancel=O;N.flush=I;return N}function b(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function x(e){return!!e&&typeof e=="object"}function T(e){return typeof e=="symbol"||x(e)&&h.call(e)==i}function E(e){if(typeof e=="number"){return e}if(T(e)){return r}if(b(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=b(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=v}).call(t,function(){return this}())},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];e.children=[];e.webpackPolyfill=1}return e}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a;return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:true});var a=n(9);var o=n(8);var s=n(12);var u=n(4);var l=n(11);var c=n(18);var f=function(e){r(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.equals=function(e){if(e){var t=e.gradient||undefined;var n=this.gradient||undefined;if(n&&!t||t&&!n){return false}var r=e.instanceColors||[];var i=this.instanceColors||[];if(r.length!==i.length){return false}var a=i.some(function(e,t){var n=r[t];return n.name!==e.name||n.color!==e.color});return!a&&(n===t||n.equals(t))&&this.reverseOrder===e.reverseOrder&&this.colorMode===e.colorMode}return false};i([s.instanceColorSetting({name:"fill",defaultValue:function(e){return o.fullColors[e]||"#ccc"},enumerable:function(e,t){return a.dataSupportsColorizedInstances(t)&&!(e.colorMode===a.ColorMode.Gradient)}})],t.prototype,"instanceColors",void 0);i([s.enumSetting(a.ColorMode,{displayName:"Color Mode",defaultValue:a.ColorMode.Instance,description:"Determines how the individual bars within the time brush are colored"})],t.prototype,"colorMode",void 0);i([c.gradientSetting({enumerable:function(e,t){return a.dataSupportsGradients(t)&&e.colorMode===a.ColorMode.Gradient}})],t.prototype,"gradient",void 0);i([u.setting({displayName:"Reverse Order",description:"If enabled, the order of the bars will be reversed",defaultValue:false,hidden:function(e,t){return!a.dataSupportsValueSegments(t)}})],t.prototype,"reverseOrder",void 0);return t}(l.HasSettings);t.ColoredObjectsSettings=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(3);var i=n(61);function a(e){"use strict";if(e===void 0){e="#ccc"}return function(t,n,i,a,o){if(t){var s=r.getPBIObjectNameAndPropertyName(a).propName;return(t.forEach?t:[t]).map(function(t,n){var r=typeof e==="function"?e(n,i,t.identity):e;var a=t.color||r;return{displayName:t.name,selector:{data:[t.identity]},properties:(o={},o[s]=a,o)};var o})}}}t.coloredObjectInstanceComposer=a;function o(e,t){"use strict";return function(n,r,a,o){t=typeof t==="function"?t():t;if(n){if(e){var s={};i(s,e,n||t);return s}return n||t}}}t.basicObjectComposer=o;function s(e){"use strict";if(e===void 0){e="#ccc"}return o(undefined,e)}t.colorComposer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a;return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:true});var a=n(12);var o=n(11);var s=function(e){r(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.equals=function(e){if(e){return(this.startColor||undefined)===(e.startColor||undefined)&&(this.endColor||undefined)===(e.endColor||undefined)&&(this.endValue||undefined)===(e.endValue||undefined)&&(this.startValue||undefined)===(e.startValue||undefined)}return false};i([a.colorSetting({displayName:"Start color",description:"The start color of the gradient",defaultValue:"#bac2ff"})],t.prototype,"startColor",void 0);i([a.colorSetting({displayName:"End color",description:"The end color of the gradient",defaultValue:"#0229bf"})],t.prototype,"endColor",void 0);i([a.numberSetting({displayName:"Start Value",description:"The value to use as the start value"})],t.prototype,"startValue",void 0);i([a.numberSetting({displayName:"End Value",description:"The value to use as the end value"})],t.prototype,"endValue",void 0);return t}(o.HasSettings);t.GradientSettings=s},function(e,t,n){"use strict";function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}Object.defineProperty(t,"__esModule",{value:true});r(n(17));r(n(42))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(9);var i=n(3);var a=n(6);function o(e){"use strict";if(e===void 0){e="#ccc"}return s(e,function(e){var t=r.get(e,function(e){return e.categorical.values},[]);return t&&t.grouped&&t.grouped()||[]})}t.colorCategoricalInstanceObjectParser=o;function s(e,t){"use strict";if(e===void 0){e="#ccc"}return function(n,a,o,s){var u=t(o);var l=i.getPBIObjectNameAndPropertyName(s),c=l.objName,f=l.propName;if(u&&u.forEach){
return u.map(function(t,n){var i=t.objects;var a=i&&i[c];var o=a&&a[f];var s=typeof e==="function"?e(n):e;return{name:t.name,color:r.get(o,function(e){return e.solid.color},s),identity:t.identity}})}}}t.coloredInstanceObjectParser=s;function u(e,t){"use strict";return function(n){var r=a(n,e);if((typeof r==="undefined"||r===null)&&t){r=typeof t==="function"?t():t}return r}}t.basicParser=u;function l(e){"use strict";return u("solid.color",e)}t.colorParser=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var i=function(){function e(e,t){if(t===void 0){t=100}var n=this;this.host=e;this.delay=t;this.propsToUpdate=[];this.propUpdater=r(function(){if(n.propsToUpdate&&n.propsToUpdate.length){var e=n.propsToUpdate.slice(0);n.propsToUpdate.length=0;var t={};var r;e.forEach(function(e){e.changes.forEach(function(e){Object.keys(e).forEach(function(n){if(!t[n]){t[n]=[]}(r=t[n]).push.apply(r,e[n]);var r})});if(e.selection){r=true}});n.host.persistProperties(t)}},this.delay)}e.prototype.persist=function(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}this.propsToUpdate.push({changes:t,selection:e});this.propUpdater()};return e}();t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["Unknown"]=0]="Unknown";e[e["Data"]=1]="Data";e[e["Resize"]=2]="Resize";e[e["Settings"]=4]="Settings";e[e["Initial"]=8]="Initial";e[e["DataAndResize"]=3]="DataAndResize";e[e["DataAndSettings"]=5]="DataAndSettings";e[e["SettingsAndResize"]=6]="SettingsAndResize";e[e["All"]=7]="All"})(n||(n={}));t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){"use strict";if(e){var t=e&&e.expr?e.expr:null;var n=t&&t.arg&&t.arg.arg;var r=n&&n.entity;var i=n&&n.property;var a=t||{},o=a.level,s=a.ref;var u=t&&t.source&&t.source.entity;var l=e.queryName.substring(0,e.queryName.indexOf("."));var c=r||u||l;var f=i||s||o||e.displayName;return{table:c,column:f}}}t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(26);var i=n(8);function a(e,t,n,a){"use strict";var o=[];if(e&&e.length){var s=!!(e.source&&e.source.roles["Series"]);o=s?e.grouped():e.map(function(e,t){return{name:t+1+"",identity:e.identity}})}var u;if(n){var l=n.startValue,c=n.endValue,f=n.startColor,d=n.endColor;var p=typeof l!=="undefined"?l:r.min(o.map(function(e){return e.name}));var h=typeof c!=="undefined"?c:r.max(o.map(function(e){return e.name}));u=r.scale.linear().domain([isNaN(p)?0:p,isNaN(h)?o.length-1:h]).interpolate(r.interpolateRgb).range([f,d])}return o.sort(function(e,t){if(!e&&t||e.name<t.name){return-1}else if(e&&!t||e.name>t.name){return 1}return 0}).map(function(e,n){var r=e.name,o=e.identity;var s=i.fullColors[n];if(a&&a[n]){s=a[n].color}else if(u){s=u(isNaN(r)?n:r)}else{s=t||i.fullColors[n]}s=s||"#ccc";return{name:r,identity:o,color:s}})}t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["Gradient"]=0]="Gradient";e[e["Instance"]=1]="Instance"})(n=t.ColorMode||(t.ColorMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(6);var i=/return\s+([^\;\}]+)/;function a(e,t,n){"use strict";var a=i.exec(t.toString())[1];return r(e,a.split(".").slice(1).join("."),n)}t.default=a},function(e,t,n){var r,i;!function(){var a={version:"3.5.12"};var o=[].slice,s=function(e){return o.call(e)};var u=this.document;function l(e){return e&&(e.ownerDocument||e.document||e).documentElement}function c(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(u){try{s(u.documentElement.childNodes)[0].nodeType}catch(e){s=function(e){var t=e.length,n=new Array(t);while(t--)n[t]=e[t];return n}}}if(!Date.now)Date.now=function(){return+new Date};if(u){try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var f=this.Element.prototype,d=f.setAttribute,p=f.setAttributeNS,h=this.CSSStyleDeclaration.prototype,m=h.setProperty;f.setAttribute=function(e,t){d.call(this,e,t+"")};f.setAttributeNS=function(e,t,n){p.call(this,e,t,n+"")};h.setProperty=function(e,t,n){m.call(this,e,t+"",n)}}}a.ascending=g;function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};a.min=function(e,t){var n=-1,r=e.length,i,a;if(arguments.length===1){while(++n<r)if((a=e[n])!=null&&a>=a){i=a;break}while(++n<r)if((a=e[n])!=null&&i>a)i=a}else{while(++n<r)if((a=t.call(e,e[n],n))!=null&&a>=a){i=a;break}while(++n<r)if((a=t.call(e,e[n],n))!=null&&i>a)i=a}return i};a.max=function(e,t){var n=-1,r=e.length,i,a;if(arguments.length===1){while(++n<r)if((a=e[n])!=null&&a>=a){i=a;break}while(++n<r)if((a=e[n])!=null&&a>i)i=a}else{while(++n<r)if((a=t.call(e,e[n],n))!=null&&a>=a){i=a;break}while(++n<r)if((a=t.call(e,e[n],n))!=null&&a>i)i=a}return i};a.extent=function(e,t){var n=-1,r=e.length,i,a,o;if(arguments.length===1){while(++n<r)if((a=e[n])!=null&&a>=a){i=o=a;break}while(++n<r)if((a=e[n])!=null){if(i>a)i=a;if(o<a)o=a}}else{while(++n<r)if((a=t.call(e,e[n],n))!=null&&a>=a){i=o=a;break}while(++n<r)if((a=t.call(e,e[n],n))!=null){if(i>a)i=a;if(o<a)o=a}}return[i,o]};function y(e){return e===null?NaN:+e}function v(e){return!isNaN(e)}a.sum=function(e,t){var n=0,r=e.length,i,a=-1;if(arguments.length===1){while(++a<r)if(v(i=+e[a]))n+=i}else{while(++a<r)if(v(i=+t.call(e,e[a],a)))n+=i}return n};a.mean=function(e,t){var n=0,r=e.length,i,a=-1,o=r;if(arguments.length===1){while(++a<r)if(v(i=y(e[a])))n+=i;else--o}else{while(++a<r)if(v(i=y(t.call(e,e[a],a))))n+=i;else--o}if(o)return n/o};a.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i};a.median=function(e,t){var n=[],r=e.length,i,o=-1;if(arguments.length===1){while(++o<r)if(v(i=y(e[o])))n.push(i)}else{while(++o<r)if(v(i=y(t.call(e,e[o],o))))n.push(i)}if(n.length)return a.quantile(n.sort(g),.5)};a.variance=function(e,t){var n=e.length,r=0,i,a,o=0,s=-1,u=0;if(arguments.length===1){while(++s<n){if(v(i=y(e[s]))){a=i-r;r+=a/++u;o+=a*(i-r)}}}else{while(++s<n){if(v(i=y(t.call(e,e[s],s)))){a=i-r;r+=a/++u;o+=a*(i-r)}}}if(u>1)return o/(u-1)};a.deviation=function(){var e=a.variance.apply(this,arguments);return e?Math.sqrt(e):e};function b(e){return{left:function(t,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var a=r+i>>>1;if(e(t[a],n)<0)r=a+1;else i=a}return r},right:function(t,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var a=r+i>>>1;if(e(t[a],n)>0)i=a;else r=a+1}return r}}}var x=b(g);a.bisectLeft=x.left;a.bisect=a.bisectRight=x.right;a.bisector=function(e){return b(e.length===1?function(t,n){return g(e(t),n)}:e)};a.shuffle=function(e,t,n){if((r=arguments.length)<3){n=e.length;if(r<2)t=0}var r=n-t,i,a;while(r){a=Math.random()*r--|0;i=e[r+t],e[r+t]=e[a+t],e[a+t]=i}return e};a.permute=function(e,t){var n=t.length,r=new Array(n);while(n--)r[n]=e[t[n]];return r};a.pairs=function(e){var t=0,n=e.length-1,r,i=e[0],a=new Array(n<0?0:n);while(t<n)a[t]=[r=i,i=e[++t]];return a};a.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=a.min(arguments,T),n=new Array(t);++e<t;){for(var r=-1,i,o=n[e]=new Array(i);++r<i;){o[r]=arguments[r][e]}}return n};function T(e){return e.length}a.transpose=function(e){return a.zip.apply(a,e)};a.keys=function(e){var t=[];for(var n in e)t.push(n);return t};a.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t};a.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};a.merge=function(e){var t=e.length,n,r=-1,i=0,a,o;while(++r<t)i+=e[r].length;a=new Array(i);while(--t>=0){o=e[t];n=o.length;while(--n>=0){a[--i]=o[n]}}return a};var E=Math.abs;a.range=function(e,t,n){if(arguments.length<3){n=1;if(arguments.length<2){t=e;e=0}}if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=S(E(n)),a=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++a)>t)r.push(o/i);else while((o=e+n*++a)<t)r.push(o/i);return r};function S(e){var t=1;while(e*t%1)t*=10;return t}function w(e,t){for(var n in t){Object.defineProperty(e.prototype,n,{value:t[n],enumerable:false})}}a.map=function(e,t){var n=new O;if(e instanceof O){e.forEach(function(e,t){n.set(e,t)})}else if(Array.isArray(e)){var r=-1,i=e.length,a;if(arguments.length===1)while(++r<i)n.set(r,e[r]);else while(++r<i)n.set(t.call(e,a=e[r],r),a)}else{for(var o in e)n.set(o,e[o])}return n};function O(){this._=Object.create(null)}var I="__proto__",N="\0";w(O,{has:C,get:function(e){return this._[A(e)]},set:function(e,t){return this._[A(e)]=t},remove:M,keys:D,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:R(t),value:this._[t]});return e},size:P,empty:_,forEach:function(e){for(var t in this._)e.call(this,R(t),this._[t])}});function A(e){return(e+="")===I||e[0]===N?N+e:e}function R(e){return(e+="")[0]===N?e.slice(1):e}function C(e){return A(e)in this._}function M(e){return(e=A(e))in this._&&delete this._[e]}function D(){var e=[];for(var t in this._)e.push(R(t));return e}function P(){var e=0;for(var t in this._)++e;return e}function _(){for(var e in this._)return false;return true}a.nest=function(){var e={},t=[],n=[],r,i;function o(n,a,s){if(s>=t.length)return i?i.call(e,a):r?a.sort(r):a;var u=-1,l=a.length,c=t[s++],f,d,p,h=new O,m;while(++u<l){if(m=h.get(f=c(d=a[u]))){m.push(d)}else{h.set(f,[d])}}if(n){d=n();p=function(e,t){d.set(e,o(n,t,s))}}else{d={};p=function(e,t){d[e]=o(n,t,s)}}h.forEach(p);return d}function s(e,r){if(r>=t.length)return e;var i=[],a=n[r++];e.forEach(function(e,t){i.push({key:e,values:s(t,r)})});return a?i.sort(function(e,t){return a(e.key,t.key)}):i}e.map=function(e,t){return o(t,e,0)};e.entries=function(e){return s(o(a.map,e,0),0)};e.key=function(n){t.push(n);return e};e.sortKeys=function(r){n[t.length-1]=r;return e};e.sortValues=function(t){r=t;return e};e.rollup=function(t){i=t;return e};return e};a.set=function(e){var t=new F;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t};function F(){this._=Object.create(null)}w(F,{has:C,add:function(e){this._[A(e+="")]=true;return e},remove:M,values:D,size:P,empty:_,forEach:function(e){for(var t in this._)e.call(this,R(t))}});a.behavior={};function L(e){return e}a.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=k(e,t,t[i]);return e};function k(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function H(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=U.length;n<r;++n){var i=U[n]+t;if(i in e)return i}}var U=["webkit","ms","moz","Moz","o","O"];function j(){}a.dispatch=function(){var e=new W,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=V(e);return e};function W(){}W.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0){r=e.slice(n+1);e=e.slice(0,n)}if(e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(arguments.length===2){if(t==null)for(e in this){if(this.hasOwnProperty(e))this[e].on(r,null)}return this}};function V(e){var t=[],n=new O;function r(){var n=t,r=-1,i=n.length,a;while(++r<i)if(a=n[r].on)a.apply(this,arguments);return e}r.on=function(r,i){var a=n.get(r),o;if(arguments.length<2)return a&&a.on;if(a){a.on=null;t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1));n.remove(r)}if(i)t.push(n.set(r,{on:i}));return e};return r}a.event=null;function q(){a.event.preventDefault()}function B(){var e=a.event,t;while(t=e.sourceEvent)e=t;return e}function z(e){var t=new W,n=0,r=arguments.length;while(++n<r)t[arguments[n]]=V(t);t.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=e;a.event=i;t[i.type].apply(n,r)}finally{a.event=o}}};return t}a.requote=function(e){return e.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var Y={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function K(e){Y(e,X);return e}var $=function(e,t){return t.querySelector(e)},Q=function(e,t){return t.querySelectorAll(e)},Z=function(e,t){var n=e.matches||e[H(e,"matchesSelector")];Z=function(e,t){return n.call(e,t)};return Z(e,t)};if(typeof Sizzle==="function"){$=function(e,t){return Sizzle(e,t)[0]||null};Q=Sizzle;Z=Sizzle.matchesSelector}a.selection=function(){return a.select(u.documentElement)};var X=a.selection.prototype=[];X.select=function(e){var t=[],n,r,i,a;e=J(e);for(var o=-1,s=this.length;++o<s;){t.push(n=[]);n.parentNode=(i=this[o]).parentNode;for(var u=-1,l=i.length;++u<l;){if(a=i[u]){n.push(r=e.call(a,a.__data__,u,o));if(r&&"__data__"in a)r.__data__=a.__data__}else{n.push(null)}}}return K(t)};function J(e){return typeof e==="function"?e:function(){return $(e,this)}}X.selectAll=function(e){var t=[],n,r;e=ee(e);for(var i=-1,a=this.length;++i<a;){for(var o=this[i],u=-1,l=o.length;++u<l;){if(r=o[u]){t.push(n=s(e.call(r,r.__data__,u,i)));n.parentNode=r}}}return K(t)};function ee(e){return typeof e==="function"?e:function(){return Q(e,this)}}var te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:te,qualify:function(e){var t=e.indexOf(":"),n=e;if(t>=0&&(n=e.slice(0,t))!=="xmlns")e=e.slice(t+1);return te.hasOwnProperty(n)?{space:te[n],local:e}:e}};X.attr=function(e,t){if(arguments.length<2){if(typeof e==="string"){var n=this.node();e=a.ns.qualify(e);return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))};function ne(e,t){e=a.ns.qualify(e);function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);if(n==null)this.removeAttribute(e);else this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);if(n==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,n)}return t==null?e.local?r:n:typeof t==="function"?e.local?u:s:e.local?o:i}function re(e){return e.trim().replace(/\s+/g," ")}X.classed=function(e,t){if(arguments.length<2){if(typeof e==="string"){var n=this.node(),r=(e=ae(e)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return false}else{t=n.getAttribute("class");while(++i<r)if(!ie(e[i]).test(t))return false}return true}for(t in e)this.each(oe(t,e[t]));return this}return this.each(oe(e,t))};function ie(e){return new RegExp("(?:^|\\s+)"+a.requote(e)+"(?:\\s+|$)","g")}function ae(e){return(e+"").trim().split(/^|\s+/)}function oe(e,t){e=ae(e).map(se);var n=e.length;function r(){var r=-1;while(++r<n)e[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<n)e[r](this,i)}return typeof t==="function"?i:r}function se(e){var t=ie(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";if(r){t.lastIndex=0;if(!t.test(i))n.setAttribute("class",re(i+" "+e))}else{n.setAttribute("class",re(i.replace(t," ")))}}}X.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t="";for(n in e)this.each(ue(n,e[n],t));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(ue(e,t,n))};function ue(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);if(r==null)this.style.removeProperty(e);else this.style.setProperty(e,r,n)}return t==null?r:typeof t==="function"?a:i}X.property=function(e,t){if(arguments.length<2){if(typeof e==="string")return this.node()[e];for(t in e)this.each(le(t,e[t]));return this}return this.each(le(e,t))};function le(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);if(n==null)delete this[e];else this[e]=n}return t==null?n:typeof t==="function"?i:r}X.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};X.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};X.append=function(e){e=ce(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function ce(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return typeof e==="function"?e:(e=a.ns.qualify(e)).local?n:t}X.insert=function(e,t){e=ce(e);t=J(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})};X.remove=function(){return this.each(fe)};function fe(){var e=this.parentNode;if(e)e.removeChild(this)}X.data=function(e,t){var n=-1,r=this.length,i,a;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r){if(a=i[n]){e[n]=a.__data__}}return e}function o(e,n){var r,i=e.length,a=n.length,o=Math.min(i,a),c=new Array(a),f=new Array(a),d=new Array(i),p,h;if(t){var m=new O,g=new Array(i),y;for(r=-1;++r<i;){if(p=e[r]){if(m.has(y=t.call(p,p.__data__,r))){d[r]=p}else{m.set(y,p)}g[r]=y}}for(r=-1;++r<a;){if(!(p=m.get(y=t.call(n,h=n[r],r)))){f[r]=de(h)}else if(p!==true){c[r]=p;p.__data__=h}m.set(y,true)}for(r=-1;++r<i;){if(r in g&&m.get(g[r])!==true){d[r]=e[r]}}}else{for(r=-1;++r<o;){p=e[r];h=n[r];if(p){p.__data__=h;c[r]=p}else{f[r]=de(h)}}for(;r<a;++r){f[r]=de(n[r])}for(;r<i;++r){d[r]=e[r]}}f.update=c;f.parentNode=c.parentNode=d.parentNode=e.parentNode;s.push(f);u.push(c);l.push(d)}var s=ge([]),u=K([]),l=K([]);if(typeof e==="function"){while(++n<r){o(i=this[n],e.call(i,i.parentNode.__data__,n))}}else{while(++n<r){o(i=this[n],e)}}u.enter=function(){return s};u.exit=function(){return l};return u};function de(e){return{__data__:e}}X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};X.filter=function(e){var t=[],n,r,i;if(typeof e!=="function")e=pe(e);for(var a=0,o=this.length;a<o;a++){t.push(n=[]);n.parentNode=(r=this[a]).parentNode;for(var s=0,u=r.length;s<u;s++){if((i=r[s])&&e.call(i,i.__data__,s,a)){n.push(i)}}}return K(t)};function pe(e){return function(){return Z(this,e)}}X.order=function(){for(var e=-1,t=this.length;++e<t;){for(var n=this[e],r=n.length-1,i=n[r],a;--r>=0;){if(a=n[r]){if(i&&i!==a.nextSibling)i.parentNode.insertBefore(a,i);i=a}}}return this};X.sort=function(e){e=he.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()};function he(e){if(!arguments.length)e=g;return function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}X.each=function(e){return me(this,function(t,n,r){e.call(t,t.__data__,n,r)})};function me(e,t){for(var n=0,r=e.length;n<r;n++){for(var i=e[n],a=0,o=i.length,s;a<o;a++){if(s=i[a])t(s,a,n)}}return e}X.call=function(e){var t=s(arguments);e.apply(t[0]=this,t);return this};X.empty=function(){return!this.node()};X.node=function(){for(var e=0,t=this.length;e<t;e++){for(var n=this[e],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}}return null};X.size=function(){var e=0;me(this,function(){++e});return e};function ge(e){Y(e,ye);return e}var ye=[];a.selection.enter=ge;a.selection.enter.prototype=ye;ye.append=X.append;ye.empty=X.empty;ye.node=X.node;ye.call=X.call;ye.size=X.size;ye.select=function(e){var t=[],n,r,i,a,o;for(var s=-1,u=this.length;++s<u;){i=(a=this[s]).update;t.push(n=[]);n.parentNode=a.parentNode;for(var l=-1,c=a.length;++l<c;){if(o=a[l]){n.push(i[l]=r=e.call(a.parentNode,o.__data__,l,s));r.__data__=o.__data__}else{n.push(null)}}}return K(t)};ye.insert=function(e,t){if(arguments.length<2)t=ve(this);return X.insert.call(this,e,t)};function ve(e){var t,n;return function(r,i,a){var o=e[a].update,s=o.length,u;if(a!=n)n=a,t=0;if(i>=t)t=i+1;while(!(u=o[t])&&++t<s);return u}}a.select=function(e){var t;if(typeof e==="string"){t=[$(e,u)];t.parentNode=u.documentElement}else{t=[e];t.parentNode=l(e)}return K([t])};a.selectAll=function(e){var t;if(typeof e==="string"){t=s(Q(e,u));t.parentNode=u.documentElement}else{t=s(e);t.parentNode=null}return K([t])};X.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t=false;for(n in e)this.each(be(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=false}return this.each(be(e,t,n))};function be(e,t,n){var r="__on"+e,i=e.indexOf("."),o=Te;if(i>0)e=e.slice(0,i);var u=xe.get(e);if(u)e=u,o=Ee;function l(){var t=this[r];if(t){this.removeEventListener(e,t,t.$);delete this[r]}}function c(){var i=o(t,s(arguments));l.call(this);this.addEventListener(e,this[r]=i,i.$=n);i._=t}function f(){var t=new RegExp("^__on([^.]+)"+a.requote(e)+"$"),n;for(var r in this){if(n=r.match(t)){var i=this[r];this.removeEventListener(n[1],i,i.$);delete this[r]}}}return i?t?c:l:t?j:f}var xe=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(u){xe.forEach(function(e){if("on"+e in u)xe.remove(e)})}function Te(e,t){return function(n){var r=a.event;a.event=n;t[0]=this.__data__;try{e.apply(this,t)}finally{a.event=r}}}function Ee(e,t){var n=Te(e,t);return function(e){var t=this,r=e.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){n.call(t,e)}}}var Se,we=0;function Oe(e){var t=".dragsuppress-"+ ++we,n="click"+t,r=a.select(c(e)).on("touchmove"+t,q).on("dragstart"+t,q).on("selectstart"+t,q);if(Se==null){Se="onselectstart"in e?false:H(e.style,"userSelect")}if(Se){var i=l(e).style,o=i[Se];i[Se]="none"}return function(e){r.on(t,null);if(Se)i[Se]=o;if(e){var a=function(){r.on(n,null)};r.on(n,function(){q();a()},true);setTimeout(a,0)}}}a.mouse=function(e){return Ne(e,B())};var Ie=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ne(e,t){if(t.changedTouches)t=t.changedTouches[0];var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ie<0){var i=c(e);if(i.scrollX||i.scrollY){n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Ie=!(o.f||o.e);n.remove()}}if(Ie)r.x=t.pageX,r.y=t.pageY;else r.x=t.clientX,r.y=t.clientY;r=r.matrixTransform(e.getScreenCTM().inverse());return[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}a.touch=function(e,t,n){if(arguments.length<3)n=t,t=B().changedTouches;if(t)for(var r=0,i=t.length,a;r<i;++r){if((a=t[r]).identifier===n){return Ne(e,a)}}};a.behavior.drag=function(){var e=z(i,"drag","dragstart","dragend"),t=null,n=o(j,a.mouse,c,"mousemove","mouseup"),r=o(Ae,a.touch,L,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(n,r,i,o,s){return function(){var u=this,l=a.event.target,c=u.parentNode,f=e.of(u,arguments),d=0,p=n(),h=".drag"+(p==null?"":"-"+p),m,g=a.select(i(l)).on(o+h,b).on(s+h,x),y=Oe(l),v=r(c,p);if(t){m=t.apply(u,arguments);m=[m.x-v[0],m.y-v[1]]}else{m=[0,0]}f({type:"dragstart"});function b(){var e=r(c,p),t,n;if(!e)return;t=e[0]-v[0];n=e[1]-v[1];d|=t|n;v=e;f({type:"drag",x:e[0]+m[0],y:e[1]+m[1],dx:t,dy:n})}function x(){if(!r(c,p))return;g.on(o+h,null).on(s+h,null);y(d);f({type:"dragend"})}}}i.origin=function(e){if(!arguments.length)return t;t=e;return i};return a.rebind(i,e,"on")};function Ae(){return a.event.changedTouches[0].identifier}a.touches=function(e,t){if(arguments.length<2)t=B().touches;return t?s(t).map(function(t){var n=Ne(e,t);n.identifier=t.identifier;return n}):[]};var Re=1e-6,Ce=Re*Re,Me=Math.PI,De=2*Me,Pe=De-Re,_e=Me/2,Fe=Me/180,Le=180/Me;function ke(e){return e>0?1:e<0?-1:0}function He(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ue(e){return e>1?0:e<-1?Me:Math.acos(e)}function je(e){return e>1?_e:e<-1?-_e:Math.asin(e)}function We(e){return((e=Math.exp(e))-1/e)/2}function Ve(e){return((e=Math.exp(e))+1/e)/2}function qe(e){return((e=Math.exp(2*e))-1)/(e+1)}function Be(e){return(e=Math.sin(e/2))*e}var ze=Math.SQRT2,Ge=2,Ye=4;a.interpolateZoom=function(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2],u=a-n,l=o-r,c=u*u+l*l,f,d;if(c<Ce){d=Math.log(s/i)/ze;f=function(e){return[n+e*u,r+e*l,i*Math.exp(ze*e*d)]}}else{var p=Math.sqrt(c),h=(s*s-i*i+Ye*c)/(2*i*Ge*p),m=(s*s-i*i-Ye*c)/(2*s*Ge*p),g=Math.log(Math.sqrt(h*h+1)-h),y=Math.log(Math.sqrt(m*m+1)-m);d=(y-g)/ze;f=function(e){var t=e*d,a=Ve(g),o=i/(Ge*p)*(a*qe(ze*t+g)-We(g));return[n+o*u,r+o*l,i*a/Ve(ze*t+g)]}}f.duration=d*1e3;return f};a.behavior.zoom=function(){var e={x:0,y:0,k:1},t,n,r,i=[960,500],o=Ke,s=250,l=0,f="mousedown.zoom",d="mousemove.zoom",p="mouseup.zoom",h,m="touchstart.zoom",g,y=z(E,"zoomstart","zoom","zoomend"),v,b,x,T;if(!Qe){Qe="onwheel"in u?($e=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?($e=function(){return a.event.wheelDelta},"mousewheel"):($e=function(){return-a.event.detail},"MozMousePixelScroll")}function E(e){e.on(f,D).on(Qe+".zoom",_).on("dblclick.zoom",F).on(m,P)}E.event=function(t){t.each(function(){var t=y.of(this,arguments),r=e;if(_u){a.select(this).transition().each("start.zoom",function(){e=this.__chart__||{x:0,y:0,k:1};R(t)}).tween("zoom:zoom",function(){var o=i[0],s=i[1],u=n?n[0]:o/2,l=n?n[1]:s/2,c=a.interpolateZoom([(u-e.x)/e.k,(l-e.y)/e.k,o/e.k],[(u-r.x)/r.k,(l-r.y)/r.k,o/r.k]);return function(n){var r=c(n),i=o/r[2];this.__chart__=e={x:u-r[0]*i,y:l-r[1]*i,k:i};C(t)}}).each("interrupt.zoom",function(){M(t)}).each("end.zoom",function(){M(t)})}else{this.__chart__=e;R(t);C(t);M(t)}})};E.translate=function(t){if(!arguments.length)return[e.x,e.y];e={x:+t[0],y:+t[1],k:e.k};A();return E};E.scale=function(t){if(!arguments.length)return e.k;e={x:e.x,y:e.y,k:null};O(+t);A();return E};E.scaleExtent=function(e){if(!arguments.length)return o;o=e==null?Ke:[+e[0],+e[1]];return E};E.center=function(e){if(!arguments.length)return r;r=e&&[+e[0],+e[1]];return E};E.size=function(e){if(!arguments.length)return i;i=e&&[+e[0],+e[1]];return E};E.duration=function(e){if(!arguments.length)return s;s=+e;return E};E.x=function(t){if(!arguments.length)return b;b=t;v=t.copy();e={x:0,y:0,k:1};return E};E.y=function(t){if(!arguments.length)return T;T=t;x=t.copy();e={x:0,y:0,k:1};return E};function S(t){return[(t[0]-e.x)/e.k,(t[1]-e.y)/e.k]}function w(t){return[t[0]*e.k+e.x,t[1]*e.k+e.y]}function O(t){e.k=Math.max(o[0],Math.min(o[1],t))}function I(t,n){n=w(n);e.x+=t[0]-n[0];e.y+=t[1]-n[1]}function N(t,r,i,o){t.__chart__={x:e.x,y:e.y,k:e.k};O(Math.pow(2,o));I(n=r,i);t=a.select(t);if(s>0)t=t.transition().duration(s);t.call(E.event)}function A(){if(b)b.domain(v.range().map(function(t){return(t-e.x)/e.k}).map(v.invert));if(T)T.domain(x.range().map(function(t){return(t-e.y)/e.k}).map(x.invert))}function R(e){if(!l++)e({type:"zoomstart"})}function C(t){A();t({type:"zoom",scale:e.k,translate:[e.x,e.y]})}function M(e){if(!--l)e({type:"zoomend"}),n=null}function D(){var e=this,t=y.of(e,arguments),n=0,r=a.select(c(e)).on(d,s).on(p,u),i=S(a.mouse(e)),o=Oe(e);Ru.call(e);R(t);function s(){n=1;I(a.mouse(e),i);C(t)}function u(){r.on(d,null).on(p,null);o(n);M(t)}}function P(){var t=this,n=y.of(t,arguments),r={},i=0,o,s=".zoom-"+a.event.changedTouches[0].identifier,u="touchmove"+s,l="touchend"+s,c=[],d=a.select(t),p=Oe(t);v();R(n);d.on(f,null).on(m,v);function h(){var n=a.touches(t);o=e.k;n.forEach(function(e){if(e.identifier in r)r[e.identifier]=S(e)});return n}function v(){var n=a.event.target;a.select(n).on(u,b).on(l,x);c.push(n);var o=a.event.changedTouches;for(var s=0,f=o.length;s<f;++s){r[o[s].identifier]=null}var d=h(),p=Date.now();if(d.length===1){if(p-g<500){var m=d[0];N(t,m,r[m.identifier],Math.floor(Math.log(e.k)/Math.LN2)+1);q()}g=p}else if(d.length>1){var m=d[0],y=d[1],v=m[0]-y[0],T=m[1]-y[1];i=v*v+T*T}}function b(){var e=a.touches(t),s,u,l,c;Ru.call(t);for(var f=0,d=e.length;f<d;++f,c=null){l=e[f];if(c=r[l.identifier]){if(u)break;s=l,u=c}}if(c){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,h=i&&Math.sqrt(p/i);s=[(s[0]+l[0])/2,(s[1]+l[1])/2];u=[(u[0]+c[0])/2,(u[1]+c[1])/2];O(h*o)}g=null;I(s,u);C(n)}function x(){if(a.event.touches.length){var e=a.event.changedTouches;for(var t=0,i=e.length;t<i;++t){delete r[e[t].identifier]}for(var o in r){return void h()}}a.selectAll(c).on(s,null);d.on(f,D).on(m,P);p();M(n)}}function _(){var i=y.of(this,arguments);if(h)clearTimeout(h);else Ru.call(this),t=S(n=r||a.mouse(this)),R(i);h=setTimeout(function(){h=null;M(i)},50);q();O(Math.pow(2,$e()*.002)*e.k);I(n,t);C(i)}function F(){var t=a.mouse(this),n=Math.log(e.k)/Math.LN2;N(this,t,S(t),a.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return a.rebind(E,y,"on")};var Ke=[0,Infinity],$e,Qe;a.color=Ze;function Ze(){}Ze.prototype.toString=function(){return this.rgb()+""};a.hsl=Xe;function Xe(e,t,n){return this instanceof Xe?void(this.h=+e,this.s=+t,this.l=+n):arguments.length<2?e instanceof Xe?new Xe(e.h,e.s,e.l):xt(""+e,Tt,Xe):new Xe(e,t,n)}var Je=Xe.prototype=new Ze;Je.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);return new Xe(this.h,this.s,this.l/e)};Je.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return new Xe(this.h,this.s,e*this.l)};Je.rgb=function(){return et(this.h,this.s,this.l)};function et(e,t,n){var r,i;e=isNaN(e)?0:(e%=360)<0?e+360:e;t=isNaN(t)?0:t<0?0:t>1?1:t;n=n<0?0:n>1?1:n;i=n<=.5?n*(1+t):n+t-n*t;r=2*n-i;function a(e){if(e>360)e-=360;else if(e<0)e+=360;if(e<60)return r+(i-r)*e/60;if(e<180)return i;if(e<240)return r+(i-r)*(240-e)/60;return r}function o(e){return Math.round(a(e)*255)}return new mt(o(e+120),o(e),o(e-120))}a.hcl=tt;function tt(e,t,n){return this instanceof tt?void(this.h=+e,this.c=+t,this.l=+n):arguments.length<2?e instanceof tt?new tt(e.h,e.c,e.l):e instanceof it?ft(e.l,e.a,e.b):ft((e=Et((e=a.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new tt(e,t,n)}var nt=tt.prototype=new Ze;nt.brighter=function(e){return new tt(this.h,this.c,Math.min(100,this.l+at*(arguments.length?e:1)))};nt.darker=function(e){return new tt(this.h,this.c,Math.max(0,this.l-at*(arguments.length?e:1)))};nt.rgb=function(){return rt(this.h,this.c,this.l).rgb()};function rt(e,t,n){if(isNaN(e))e=0;if(isNaN(t))t=0;return new it(n,Math.cos(e*=Fe)*t,Math.sin(e)*t)}a.lab=it;function it(e,t,n){return this instanceof it?void(this.l=+e,this.a=+t,this.b=+n):arguments.length<2?e instanceof it?new it(e.l,e.a,e.b):e instanceof tt?rt(e.h,e.c,e.l):Et((e=mt(e)).r,e.g,e.b):new it(e,t,n)}var at=18;var ot=.95047,st=1,ut=1.08883;var lt=it.prototype=new Ze;lt.brighter=function(e){return new it(Math.min(100,this.l+at*(arguments.length?e:1)),this.a,this.b)};lt.darker=function(e){return new it(Math.max(0,this.l-at*(arguments.length?e:1)),this.a,this.b)};lt.rgb=function(){return ct(this.l,this.a,this.b)};function ct(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;i=dt(i)*ot;r=dt(r)*st;a=dt(a)*ut;return new mt(ht(3.2404542*i-1.5371385*r-.4985314*a),ht(-.969266*i+1.8760108*r+.041556*a),ht(.0556434*i-.2040259*r+1.0572252*a))}function ft(e,t,n){return e>0?new tt(Math.atan2(n,t)*Le,Math.sqrt(t*t+n*n),e):new tt(NaN,NaN,e)}function dt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function pt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ht(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}a.rgb=mt;function mt(e,t,n){return this instanceof mt?void(this.r=~~e,this.g=~~t,this.b=~~n):arguments.length<2?e instanceof mt?new mt(e.r,e.g,e.b):xt(""+e,mt,et):new mt(e,t,n)}function gt(e){return new mt(e>>16,e>>8&255,e&255)}function yt(e){return gt(e)+""}var vt=mt.prototype=new Ze;vt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;if(!t&&!n&&!r)return new mt(i,i,i);if(t&&t<i)t=i;if(n&&n<i)n=i;if(r&&r<i)r=i;return new mt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))};vt.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return new mt(e*this.r,e*this.g,e*this.b);
};vt.hsl=function(){return Tt(this.r,this.g,this.b)};vt.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};function bt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function xt(e,t,n){var r=0,i=0,a=0,o,s,u;o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase());if(o){s=o[2].split(",");switch(o[1]){case"hsl":{return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100)}case"rgb":{return t(wt(s[0]),wt(s[1]),wt(s[2]))}}}if(u=Ot.get(e)){return t(u.r,u.g,u.b)}if(e!=null&&e.charAt(0)==="#"&&!isNaN(u=parseInt(e.slice(1),16))){if(e.length===4){r=(u&3840)>>4;r=r>>4|r;i=u&240;i=i>>4|i;a=u&15;a=a<<4|a}else if(e.length===7){r=(u&16711680)>>16;i=(u&65280)>>8;a=u&255}}return t(r,i,a)}function Tt(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),a=i-r,o,s,u=(i+r)/2;if(a){s=u<.5?a/(i+r):a/(2-i-r);if(e==i)o=(t-n)/a+(t<n?6:0);else if(t==i)o=(n-e)/a+2;else o=(e-t)/a+4;o*=60}else{o=NaN;s=u>0&&u<1?0:o}return new Xe(o,s,u)}function Et(e,t,n){e=St(e);t=St(t);n=St(n);var r=pt((.4124564*e+.3575761*t+.1804375*n)/ot),i=pt((.2126729*e+.7151522*t+.072175*n)/st),a=pt((.0193339*e+.119192*t+.9503041*n)/ut);return it(116*i-16,500*(r-i),200*(i-a))}function St(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function wt(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}var Ot=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ot.forEach(function(e,t){Ot.set(e,gt(t))});function It(e){return typeof e==="function"?e:function(){return e}}a.functor=It;a.xhr=Nt(L);function Nt(e){return function(t,n,r){if(arguments.length===2&&typeof n==="function")r=n,n=null;return At(t,n,e,r)}}function At(e,t,n,r){var i={},o=a.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;if(this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(e))l=new XDomainRequest;"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()};function f(){var e=l.status,t;if(!e&&Ct(l)||e>=200&&e<300||e===304){try{t=n.call(i,l)}catch(e){o.error.call(i,e);return}o.load.call(i,t)}else{o.error.call(i,l)}}l.onprogress=function(e){var t=a.event;a.event=e;try{o.progress.call(i,l)}finally{a.event=t}};i.header=function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return u[e];if(t==null)delete u[e];else u[e]=t+"";return i};i.mimeType=function(e){if(!arguments.length)return t;t=e==null?null:e+"";return i};i.responseType=function(e){if(!arguments.length)return c;c=e;return i};i.response=function(e){n=e;return i};["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(s(arguments)))}});i.send=function(n,r,a){if(arguments.length===2&&typeof r==="function")a=r,r=null;l.open(n,e,true);if(t!=null&&!("accept"in u))u["accept"]=t+",*/*";if(l.setRequestHeader)for(var s in u)l.setRequestHeader(s,u[s]);if(t!=null&&l.overrideMimeType)l.overrideMimeType(t);if(c!=null)l.responseType=c;if(a!=null)i.on("error",a).on("load",function(e){a(null,e)});o.beforesend.call(i,l);l.send(r==null?null:r);return i};i.abort=function(){l.abort();return i};a.rebind(i,o,"on");return r==null?i:i.get(Rt(r))}function Rt(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function Ct(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}a.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){if(arguments.length<3)r=n,n=null;var i=At(e,t,n==null?a:o(n),r);i.row=function(e){return arguments.length?i.response((n=e)==null?a:o(e)):n};return i}function a(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}i.parse=function(e,t){var n;return i.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i})};i.parseRows=function(e,t){var n={},i={},a=[],o=e.length,s=0,u=0,l,c;function f(){if(s>=o)return i;if(c)return c=false,n;var t=s;if(e.charCodeAt(t)===34){var a=t;while(a++<o){if(e.charCodeAt(a)===34){if(e.charCodeAt(a+1)!==34)break;++a}}s=a+2;var u=e.charCodeAt(a+1);if(u===13){c=true;if(e.charCodeAt(a+2)===10)++s}else if(u===10){c=true}return e.slice(t+1,a).replace(/""/g,'"')}while(s<o){var u=e.charCodeAt(s++),l=1;if(u===10)c=true;else if(u===13){c=true;if(e.charCodeAt(s)===10)++s,++l}else if(u!==r)continue;return e.slice(t,s-l)}return e.slice(t)}while((l=f())!==i){var d=[];while(l!==n&&l!==i){d.push(l);l=f()}if(t&&(d=t(d,u++))==null)continue;a.push(d)}return a};i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new F,r=[];t.forEach(function(e){for(var t in e){if(!n.has(t)){r.push(n.add(t))}}});return[r.map(u).join(e)].concat(t.map(function(t){return r.map(function(e){return u(t[e])}).join(e)})).join("\n")};i.formatRows=function(e){return e.map(s).join("\n")};function s(t){return t.map(u).join(e)}function u(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i};a.csv=a.dsv(",","text/csv");a.tsv=a.dsv("\t","text/tab-separated-values");var Mt,Dt,Pt,_t,Ft=this[H(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};a.timer=function(){Lt.apply(this,arguments)};function Lt(e,t,n){var r=arguments.length;if(r<2)t=0;if(r<3)n=Date.now();var i=n+t,a={c:e,t:i,n:null};if(Dt)Dt.n=a;else Mt=a;Dt=a;if(!Pt){_t=clearTimeout(_t);Pt=1;Ft(kt)}return a}function kt(){var e=Ht(),t=Ut()-e;if(t>24){if(isFinite(t)){clearTimeout(_t);_t=setTimeout(kt,t)}Pt=0}else{Pt=1;Ft(kt)}}a.timer.flush=function(){Ht();Ut()};function Ht(){var e=Date.now(),t=Mt;while(t){if(e>=t.t&&t.c(e-t.t))t.c=null;t=t.n}return e}function Ut(){var e,t=Mt,n=Infinity;while(t){if(t.c){if(t.t<n)n=t.t;t=(e=t).n}else{t=e?e.n=t.n:Mt=t.n}}Dt=e;return n}function jt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}a.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Wt=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Vt);a.formatPrefix=function(e,t){var n=0;if(e=+e){if(e<0)e*=-1;if(t)e=a.round(e,jt(e,t));n=1+Math.floor(1e-12+Math.log(e)/Math.LN10);n=Math.max(-24,Math.min(24,Math.floor((n-1)/3)*3))}return Wt[8+n/3]};function Vt(e,t){var n=Math.pow(10,E(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function qt(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){var i=e.length,a=[],o=0,s=r[0],u=0;while(i>0&&s>0){if(u+s+1>t)s=Math.max(1,t-u);a.push(e.substring(i-=s,i+s));if((u+=s+1)>t)break;s=r[o=(o+1)%r.length]}return a.reverse().join(n)}:L;return function(e){var n=Bt.exec(e),r=n[1]||" ",s=n[2]||">",u=n[3]||"-",l=n[4]||"",c=n[5],f=+n[6],d=n[7],p=n[8],h=n[9],m=1,g="",y="",v=false,b=true;if(p)p=+p.substring(1);if(c||r==="0"&&s==="="){c=r="0";s="="}switch(h){case"n":d=true;h="g";break;case"%":m=100;y="%";h="f";break;case"p":m=100;y="%";h="r";break;case"b":case"o":case"x":case"X":if(l==="#")g="0"+h.toLowerCase();case"c":b=false;case"d":v=true;p=0;break;case"s":m=-1;h="r";break}if(l==="$")g=i[0],y=i[1];if(h=="r"&&!p)h="g";if(p!=null){if(h=="g")p=Math.max(1,Math.min(21,p));else if(h=="e"||h=="f")p=Math.max(0,Math.min(20,p))}h=zt.get(h)||Gt;var x=c&&d;return function(e){var n=y;if(v&&e%1)return"";var i=e<0||e===0&&1/e<0?(e=-e,"-"):u==="-"?"":u;if(m<0){var l=a.formatPrefix(e,p);e=l.scale(e);n=l.symbol+y}else{e*=m}e=h(e,p);var T=e.lastIndexOf("."),E,S;if(T<0){var w=b?e.lastIndexOf("e"):-1;if(w<0)E=e,S="";else E=e.substring(0,w),S=e.substring(w)}else{E=e.substring(0,T);S=t+e.substring(T+1)}if(!c&&d)E=o(E,Infinity);var O=g.length+E.length+S.length+(x?0:i.length),I=O<f?new Array(O=f-O+1).join(r):"";if(x)E=o(I+E,I.length?f-S.length:Infinity);i+=g;e=E+S;return(s==="<"?i+e+I:s===">"?I+i+e:s==="^"?I.substring(0,O>>=1)+i+e+I.substring(O):i+(x?e:I+e))+n}}}var Bt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var zt=a.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=a.round(e,jt(e,t))).toFixed(Math.max(0,Math.min(20,jt(e*(1+1e-15),t))))}});function Gt(e){return e+""}var Yt=a.time={},Kt=Date;function $t(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}$t.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Qt.setUTCDate.apply(this._,arguments)},setDay:function(){Qt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Qt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Qt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Qt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Qt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Qt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Qt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Qt.setTime.apply(this._,arguments)}};var Qt=Date.prototype;function Zt(e,t,n){function r(t){var n=e(t),r=a(n,1);return t-n<r-t?n:r}function i(n){t(n=e(new Kt(n-1)),1);return n}function a(e,n){t(e=new Kt(+e),n);return e}function o(e,r,a){var o=i(e),s=[];if(a>1){while(o<r){if(!(n(o)%a))s.push(new Date(+o));t(o,1)}}else{while(o<r)s.push(new Date(+o)),t(o,1)}return s}function s(e,t,n){try{Kt=$t;var r=new $t;r._=e;return o(r,t,n)}finally{Kt=Date}}e.floor=e;e.round=r;e.ceil=i;e.offset=a;e.range=o;var u=e.utc=Xt(e);u.floor=u;u.round=Xt(r);u.ceil=Xt(i);u.offset=Xt(a);u.range=s;return e}function Xt(e){return function(t,n){try{Kt=$t;var r=new $t;r._=t;return e(r,n)._}finally{Kt=Date}}}Yt.year=Zt(function(e){e=Yt.day(e);e.setMonth(0,1);return e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()});Yt.years=Yt.year.range;Yt.years.utc=Yt.year.utc.range;Yt.day=Zt(function(e){var t=new Kt(2e3,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate());return t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1});Yt.days=Yt.day.range;Yt.days.utc=Yt.day.utc.range;Yt.dayOfYear=function(e){var t=Yt.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=Yt[e]=Zt(function(e){(e=Yt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7);return e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=Yt.year(e).getDay();return Math.floor((Yt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Yt[e+"s"]=n.range;Yt[e+"s"].utc=n.utc.range;Yt[e+"OfYear"]=function(e){var n=Yt.year(e).getDay();return Math.floor((Yt.dayOfYear(e)+(n+t)%7)/7)}});Yt.week=Yt.sunday;Yt.weeks=Yt.sunday.range;Yt.weeks.utc=Yt.sunday.utc.range;Yt.weekOfYear=Yt.sundayOfYear;function Jt(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,u=e.months,l=e.shortMonths;function c(e){var t=e.length;function n(n){var r=[],i=-1,a=0,o,s,u;while(++i<t){if(e.charCodeAt(i)===37){r.push(e.slice(a,i));if((s=en[o=e.charAt(++i)])!=null)o=e.charAt(++i);if(u=T[o])o=u(n,s==null?o==="e"?" ":"0":s);r.push(o);a=i+1}}r.push(e.slice(a,i));return r.join("")}n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=f(n,e,t,0);if(r!=t.length)return null;if("p"in n)n.H=n.H%12+n.p*12;var i=n.Z!=null&&Kt!==$t,a=new(i?$t:Kt);if("j"in n)a.setFullYear(n.y,0,n.j);else if("W"in n||"U"in n){if(!("w"in n))n.w="W"in n?1:0;a.setFullYear(n.y,0,1);a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+n.W*7-(a.getDay()+5)%7:n.w+n.U*7-(a.getDay()+6)%7)}else a.setFullYear(n.y,n.m,n.d);a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L);return i?a._:a};n.toString=function(){return e};return n}function f(e,t,n,r){var i,a,o,s=0,u=t.length,l=n.length;while(s<u){if(r>=l)return-1;i=t.charCodeAt(s++);if(i===37){o=t.charAt(s++);a=E[o in en?t.charAt(s++):o];if(!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++)){return-1}}return r}c.utc=function(e){var t=c(e);function n(e){try{Kt=$t;var n=new Kt;n._=e;return t(n)}finally{Kt=Date}}n.parse=function(e){try{Kt=$t;var n=t.parse(e);return n&&n._}finally{Kt=Date}};n.toString=t.toString;return n};c.multi=c.utc.multi=Sn;var d=a.map(),p=an(o),h=on(o),m=an(s),g=on(s),y=an(u),v=on(u),b=an(l),x=on(l);i.forEach(function(e,t){d.set(e.toLowerCase(),t)});var T={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:c(t),d:function(e,t){return rn(e.getDate(),t,2)},e:function(e,t){return rn(e.getDate(),t,2)},H:function(e,t){return rn(e.getHours(),t,2)},I:function(e,t){return rn(e.getHours()%12||12,t,2)},j:function(e,t){return rn(1+Yt.dayOfYear(e),t,3)},L:function(e,t){return rn(e.getMilliseconds(),t,3)},m:function(e,t){return rn(e.getMonth()+1,t,2)},M:function(e,t){return rn(e.getMinutes(),t,2)},p:function(e){return i[+(e.getHours()>=12)]},S:function(e,t){return rn(e.getSeconds(),t,2)},U:function(e,t){return rn(Yt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return rn(Yt.mondayOfYear(e),t,2)},x:c(n),X:c(r),y:function(e,t){return rn(e.getFullYear()%100,t,2)},Y:function(e,t){return rn(e.getFullYear()%1e4,t,4)},Z:Tn,"%":function(){return"%"}};var E={a:S,A:w,b:O,B:I,c:N,d:mn,e:mn,H:yn,I:yn,j:gn,L:xn,m:hn,M:vn,p:C,S:bn,U:un,w:sn,W:ln,x:A,X:R,y:fn,Y:cn,Z:dn,"%":En};function S(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1}function w(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function O(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1}function I(e,t,n){y.lastIndex=0;var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1}function N(e,t,n){return f(e,T.c.toString(),t,n)}function A(e,t,n){return f(e,T.x.toString(),t,n)}function R(e,t,n){return f(e,T.X.toString(),t,n)}function C(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}return c}var en={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,nn=/^%/;function rn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function an(e){return new RegExp("^(?:"+e.map(a.requote).join("|")+")","i")}function on(e){var t=new O,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function sn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function un(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function ln(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function cn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+2));return r?(e.y=pn(+r[0]),n+r[0].length):-1}function dn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function pn(e){return e+(e>68?1900:2e3)}function hn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function gn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function yn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function bn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xn(e,t,n){tn.lastIndex=0;var r=tn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Tn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=E(t)/60|0,i=E(t)%60;return n+rn(r,"0",2)+rn(i,"0",2)}function En(e,t,n){nn.lastIndex=0;var r=nn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Sn(e){var t=e.length,n=-1;while(++n<t)e[n][0]=this(e[n][0]);return function(t){var n=0,r=e[n];while(!r[1](t))r=e[++n];return r[0](t)}}a.locale=function(e){return{numberFormat:qt(e),timeFormat:Jt(e)}};var wn=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=wn.numberFormat;a.geo={};function On(){}On.prototype={s:0,t:0,add:function(e){Nn(e,this.t,In);Nn(In.s,this.s,this);if(this.s)this.t+=In.t;else this.s=In.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var In=new On;function Nn(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}a.geo.stream=function(e,t){if(e&&Rn.hasOwnProperty(e.type)){Rn[e.type](e,t)}else{An(e,t)}};function An(e,t){if(e&&Cn.hasOwnProperty(e.type)){Cn[e.type](e,t)}}var Rn={Feature:function(e,t){An(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,i=n.length;while(++r<i)An(n[r].geometry,t)}};var Cn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates;t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Mn(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Mn(n[r],t,0)},Polygon:function(e,t){Dn(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Dn(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,i=n.length;while(++r<i)An(n[r],t)}};function Mn(e,t,n){var r=-1,i=e.length-n,a;t.lineStart();while(++r<i)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Dn(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)Mn(e[n],t,1);t.polygonEnd()}a.geo.area=function(e){Pn=0;a.geo.stream(e,Fn);return Pn};var Pn,_n=new On;var Fn={sphere:function(){Pn+=4*Me},point:j,lineStart:j,lineEnd:j,polygonStart:function(){_n.reset();Fn.lineStart=Ln},polygonEnd:function(){var e=2*_n;Pn+=e<0?4*Me+e:e;Fn.lineStart=Fn.lineEnd=Fn.point=j}};function Ln(){var e,t,n,r,i;Fn.point=function(o,s){Fn.point=a;n=(e=o)*Fe,r=Math.cos(s=(t=s)*Fe/2+Me/4),i=Math.sin(s)};function a(e,t){e*=Fe;t=t*Fe/2+Me/4;var a=e-n,o=a>=0?1:-1,s=o*a,u=Math.cos(t),l=Math.sin(t),c=i*l,f=r*u+c*Math.cos(s),d=c*o*Math.sin(s);_n.add(Math.atan2(d,f));n=e,r=u,i=l}Fn.lineEnd=function(){a(e,t)}}function kn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Hn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Un(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function jn(e,t){e[0]+=t[0];e[1]+=t[1];e[2]+=t[2]}function Wn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Vn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t;e[1]/=t;e[2]/=t}function qn(e){return[Math.atan2(e[1],e[0]),je(e[2])]}function Bn(e,t){return E(e[0]-t[0])<Re&&E(e[1]-t[1])<Re}a.geo.bounds=function(){var e,t,n,r,i,o,s,u,l,c,f;var d={point:p,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y;d.lineStart=v;d.lineEnd=b;l=0;Fn.polygonStart()},polygonEnd:function(){Fn.polygonEnd();d.point=p;d.lineStart=m;d.lineEnd=g;if(_n<0)e=-(n=180),t=-(r=90);else if(l>Re)r=90;else if(l<-Re)t=-90;f[0]=e,f[1]=n}};function p(i,a){c.push(f=[e=i,n=i]);if(a<t)t=a;if(a>r)r=a}function h(a,o){var s=kn([a*Fe,o*Fe]);if(u){var l=Un(u,s),c=[l[1],-l[0],0],f=Un(c,l);Vn(f);f=qn(f);var d=a-i,h=d>0?1:-1,m=f[0]*Le*h,g=E(d)>180;if(g^(h*i<m&&m<h*a)){var y=f[1]*Le;if(y>r)r=y}else if(m=(m+360)%360-180,g^(h*i<m&&m<h*a)){var y=-f[1]*Le;if(y<t)t=y}else{if(o<t)t=o;if(o>r)r=o}if(g){if(a<i){if(x(e,a)>x(e,n))n=a}else{if(x(a,n)>x(e,n))e=a}}else{if(n>=e){if(a<e)e=a;if(a>n)n=a}else{if(a>i){if(x(e,a)>x(e,n))n=a}else{if(x(a,n)>x(e,n))e=a}}}}else{p(a,o)}u=s,i=a}function m(){d.point=h}function g(){f[0]=e,f[1]=n;d.point=p;u=null}function y(e,t){if(u){var n=e-i;l+=E(n)>180?n+(n>0?360:-360):n}else o=e,s=t;Fn.point(e,t);h(e,t)}function v(){Fn.lineStart()}function b(){y(o,s);Fn.lineEnd();if(E(l)>Re)e=-(n=180);f[0]=e,f[1]=n;u=null}function x(e,t){return(t-=e)<0?t+360:t}function T(e,t){return e[0]-t[0]}function S(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(i){r=n=-(e=t=Infinity);c=[];a.geo.stream(i,d);var o=c.length;if(o){c.sort(T);for(var s=1,u=c[0],l,p=[u];s<o;++s){l=c[s];if(S(l[0],u)||S(l[1],u)){if(x(u[0],l[1])>x(u[0],u[1]))u[1]=l[1];if(x(l[0],u[1])>x(u[0],u[1]))u[0]=l[0]}else{p.push(u=l)}}var h=-Infinity,m;for(var o=p.length-1,s=0,u=p[o],l;s<=o;u=l,++s){l=p[s];if((m=x(u[1],l[0]))>h)h=m,e=l[0],n=u[1]}}c=f=null;return e===Infinity||t===Infinity?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,r]]}}();a.geo.centroid=function(e){zn=Gn=Yn=Kn=$n=Qn=Zn=Xn=Jn=er=tr=0;a.geo.stream(e,nr);var t=Jn,n=er,r=tr,i=t*t+n*n+r*r;if(i<Ce){t=Qn,n=Zn,r=Xn;if(Gn<Re)t=Yn,n=Kn,r=$n;i=t*t+n*n+r*r;if(i<Ce)return[NaN,NaN]}return[Math.atan2(n,t)*Le,je(r/Math.sqrt(i))*Le]};var zn,Gn,Yn,Kn,$n,Qn,Zn,Xn,Jn,er,tr;var nr={sphere:j,point:rr,lineStart:ar,lineEnd:or,polygonStart:function(){nr.lineStart=sr},polygonEnd:function(){nr.lineStart=ar}};function rr(e,t){e*=Fe;var n=Math.cos(t*=Fe);ir(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function ir(e,t,n){++zn;Yn+=(e-Yn)/zn;Kn+=(t-Kn)/zn;$n+=(n-$n)/zn}function ar(){var e,t,n;nr.point=function(i,a){i*=Fe;var o=Math.cos(a*=Fe);e=o*Math.cos(i);t=o*Math.sin(i);n=Math.sin(a);nr.point=r;ir(e,t,n)};function r(r,i){r*=Fe;var a=Math.cos(i*=Fe),o=a*Math.cos(r),s=a*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=t*u-n*s)*l+(l=n*o-e*u)*l+(l=e*s-t*o)*l),e*o+t*s+n*u);Gn+=l;Qn+=l*(e+(e=o));Zn+=l*(t+(t=s));Xn+=l*(n+(n=u));ir(e,t,n)}}function or(){nr.point=rr}function sr(){var e,t,n,r,i;nr.point=function(o,s){e=o,t=s;nr.point=a;o*=Fe;var u=Math.cos(s*=Fe);n=u*Math.cos(o);r=u*Math.sin(o);i=Math.sin(s);ir(n,r,i)};nr.lineEnd=function(){a(e,t);nr.lineEnd=or;nr.point=rr};function a(e,t){e*=Fe;var a=Math.cos(t*=Fe),o=a*Math.cos(e),s=a*Math.sin(e),u=Math.sin(t),l=r*u-i*s,c=i*o-n*u,f=n*s-r*o,d=Math.sqrt(l*l+c*c+f*f),p=n*o+r*s+i*u,h=d&&-Ue(p)/d,m=Math.atan2(d,p);Jn+=h*l;er+=h*c;tr+=h*f;Gn+=m;Qn+=m*(n+(n=o));Zn+=m*(r+(r=s));Xn+=m*(i+(i=u));ir(n,r,i)}}function ur(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}if(e.invert&&t.invert)n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])};return n}function lr(){return true}function cr(e,t,n,r,i){var a=[],o=[];e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],r=e[t];if(Bn(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd();return}var u=new dr(n,e,null,true),l=new dr(n,null,u,false);u.o=l;a.push(u);o.push(l);u=new dr(r,e,null,false);l=new dr(r,null,u,true);u.o=l;a.push(u);o.push(l)});o.sort(t);fr(a);fr(o);if(!a.length)return;for(var s=0,u=n,l=o.length;s<l;++s){o[s].e=u=!u}var c=a[0],f,d;while(1){var p=c,h=true;while(p.v)if((p=p.n)===c)return;f=p.z;i.lineStart();do{p.v=p.o.v=true;if(p.e){if(h){for(var s=0,l=f.length;s<l;++s)i.point((d=f[s])[0],d[1])}else{r(p.x,p.n.x,1,i)}p=p.n}else{if(h){f=p.p.z;for(var s=f.length-1;s>=0;--s)i.point((d=f[s])[0],d[1])}else{r(p.x,p.p.x,-1,i)}p=p.p}p=p.o;f=p.z;h=!h}while(!p.v);i.lineEnd()}}function fr(e){if(!(t=e.length))return;var t,n=0,r=e[0],i;while(++n<t){r.n=i=e[n];i.p=r;r=i}r.n=i=e[0];i.p=r}function dr(e,t,n,r){this.x=e;this.z=t;this.o=n;this.e=r;this.v=false;this.n=this.p=null}function pr(e,t,n,r){return function(i,o){var s=t(o),u=i.invert(r[0],r[1]);var l={point:c,lineStart:d,lineEnd:p,polygonStart:function(){l.point=x;l.lineStart=T;l.lineEnd=E;h=[];v=[]},polygonEnd:function(){l.point=c;l.lineStart=d;l.lineEnd=p;h=a.merge(h);var e=Tr(u,v);if(h.length){if(!y)o.polygonStart(),y=true;cr(h,gr,e,n,o)}else if(e){if(!y)o.polygonStart(),y=true;o.lineStart();n(null,null,1,o);o.lineEnd()}if(y)o.polygonEnd(),y=false;h=v=null},sphere:function(){o.polygonStart();o.lineStart();n(null,null,1,o);o.lineEnd();o.polygonEnd()}};function c(t,n){var r=i(t,n);if(e(t=r[0],n=r[1]))o.point(t,n)}function f(e,t){var n=i(e,t);s.point(n[0],n[1])}function d(){l.point=f;s.lineStart()}function p(){l.point=c;s.lineEnd()}var h;var m=mr(),g=t(m),y=false,v,b;function x(e,t){b.push([e,t]);var n=i(e,t);g.point(n[0],n[1])}function T(){g.lineStart();b=[]}function E(){x(b[0][0],b[0][1]);g.lineEnd();var e=g.clean(),t=m.buffer(),n,r=t.length;b.pop();v.push(b);b=null;if(!r)return;if(e&1){n=t[0];var r=n.length-1,i=-1,a;if(r>0){if(!y)o.polygonStart(),y=true;o.lineStart();while(++i<r)o.point((a=n[i])[0],a[1]);o.lineEnd()}return}if(r>1&&e&2)t.push(t.pop().concat(t.shift()));h.push(t.filter(hr))}return l}}function hr(e){return e.length>1}function mr(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:j,buffer:function(){var n=e;e=[];t=null;return n},rejoin:function(){if(e.length>1)e.push(e.pop().concat(e.shift()))}}}function gr(e,t){return((e=e.x)[0]<0?e[1]-_e-Re:_e-e[1])-((t=t.x)[0]<0?t[1]-_e-Re:_e-t[1])}var yr=pr(lr,vr,xr,[-Me,-Me/2]);function vr(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart();i=1},point:function(a,o){var s=a>0?Me:-Me,u=E(a-t);if(E(u-Me)<Re){e.point(t,n=(n+o)/2>0?_e:-_e);e.point(r,n);e.lineEnd();e.lineStart();e.point(s,n);e.point(a,n);i=0}else if(r!==s&&u>=Me){if(E(t-r)<Re)t-=r*Re;if(E(a-s)<Re)a-=s*Re;n=br(t,n,a,o);e.point(r,n);e.lineEnd();e.lineStart();e.point(s,n);i=0}e.point(t=a,n=o);r=s},lineEnd:function(){e.lineEnd();t=n=NaN},clean:function(){return 2-i}}}function br(e,t,n,r){var i,a,o=Math.sin(e-n);return E(o)>Re?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}function xr(e,t,n,r){var i;if(e==null){i=n*_e;r.point(-Me,i);r.point(0,i);r.point(Me,i);r.point(Me,0);r.point(Me,-i);r.point(0,-i);r.point(-Me,-i);r.point(-Me,0);r.point(-Me,i)}else if(E(e[0]-t[0])>Re){var a=e[0]<t[0]?Me:-Me;i=n*a/2;r.point(-a,i);r.point(0,i);r.point(a,i)}else{r.point(t[0],t[1])}}function Tr(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;_n.reset();for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.length;if(!c)continue;var f=l[0],d=f[0],p=f[1]/2+Me/4,h=Math.sin(p),m=Math.cos(p),g=1;while(true){if(g===c)g=0;e=l[g];var y=e[0],v=e[1]/2+Me/4,b=Math.sin(v),x=Math.cos(v),T=y-d,E=T>=0?1:-1,S=E*T,w=S>Me,O=h*b;_n.add(Math.atan2(O*E*Math.sin(S),m*x+O*Math.cos(S)));a+=w?T+E*De:T;if(w^d>=n^y>=n){var I=Un(kn(f),kn(e));Vn(I);var N=Un(i,I);Vn(N);var A=(w^T>=0?-1:1)*je(N[2]);if(r>A||r===A&&(I[0]||I[1])){o+=w^T>=0?1:-1}}if(!g++)break;d=y,h=b,m=x,f=e}}return(a<-Re||a<Re&&_n<0)^o&1}function Er(e){var t=Math.cos(e),n=t>0,r=E(t)>Re,i=ai(e,6*Fe);return pr(a,o,i,n?[0,-e]:[-Me,e-Me]);function a(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e){var t,i,o,l,c;return{lineStart:function(){l=o=false;c=1},point:function(f,d){var p=[f,d],h,m=a(f,d),g=n?m?0:u(f,d):m?u(f+(f<0?Me:-Me),d):0;if(!t&&(l=o=m))e.lineStart();if(m!==o){h=s(t,p);if(Bn(t,h)||Bn(p,h)){p[0]+=Re;p[1]+=Re;m=a(p[0],p[1])}}if(m!==o){c=0;if(m){e.lineStart();h=s(p,t);e.point(h[0],h[1])}else{h=s(t,p);e.point(h[0],h[1]);e.lineEnd()}t=h}else if(r&&t&&n^m){var y;if(!(g&i)&&(y=s(p,t,true))){c=0;if(n){e.lineStart();e.point(y[0][0],y[0][1]);e.point(y[1][0],y[1][1]);e.lineEnd()}else{e.point(y[1][0],y[1][1]);e.lineEnd();e.lineStart();e.point(y[0][0],y[0][1])}}}if(m&&(!t||!Bn(t,p))){e.point(p[0],p[1])}t=p,o=m,i=g},lineEnd:function(){if(o)e.lineEnd();t=null},clean:function(){return c|(l&&o)<<1}}}function s(e,n,r){var i=kn(e),a=kn(n);var o=[1,0,0],s=Un(i,a),u=Hn(s,s),l=s[0],c=u-l*l;if(!c)return!r&&e;var f=t*u/c,d=-t*l/c,p=Un(o,s),h=Wn(o,f),m=Wn(s,d);jn(h,m);var g=p,y=Hn(h,g),v=Hn(g,g),b=y*y-v*(Hn(h,h)-1);if(b<0)return;var x=Math.sqrt(b),T=Wn(g,(-y-x)/v);jn(T,h);T=qn(T);if(!r)return T;var S=e[0],w=n[0],O=e[1],I=n[1],N;if(w<S)N=S,S=w,w=N;var A=w-S,R=E(A-Me)<Re,C=R||A<Re;if(!R&&I<O)N=O,O=I,I=N;if(C?R?O+I>0^T[1]<(E(T[0]-S)<Re?O:I):O<=T[1]&&T[1]<=I:A>Me^(S<=T[0]&&T[0]<=w)){var M=Wn(g,(-y+x)/v);jn(M,h);return[T,qn(M)]}}function u(t,r){var i=n?e:Me-e,a=0;if(t<-i)a|=1;else if(t>i)a|=2;if(r<-i)a|=4;else if(r>i)a|=8;return a}}function Sr(e,t,n,r){return function(i){var a=i.a,o=i.b,s=a.x,u=a.y,l=o.x,c=o.y,f=0,d=1,p=l-s,h=c-u,m;m=e-s;if(!p&&m>0)return;m/=p;if(p<0){if(m<f)return;if(m<d)d=m}else if(p>0){if(m>d)return;if(m>f)f=m}m=n-s;if(!p&&m<0)return;m/=p;if(p<0){if(m>d)return;if(m>f)f=m}else if(p>0){if(m<f)return;if(m<d)d=m}m=t-u;if(!h&&m>0)return;m/=h;if(h<0){if(m<f)return;if(m<d)d=m}else if(h>0){if(m>d)return;if(m>f)f=m}m=r-u;if(!h&&m<0)return;m/=h;if(h<0){if(m>d)return;if(m>f)f=m}else if(h>0){if(m<f)return;if(m<d)d=m}if(f>0)i.a={x:s+f*p,y:u+f*h};if(d<1)i.b={x:s+d*p,y:u+d*h};return i}}var wr=1e9;a.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){if(i)i.valid=false;i=a(e);
i.valid=true;return i},extent:function(s){if(!arguments.length)return[[e,t],[n,r]];a=Or(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]);if(i)i.valid=false,i=null;return o}};return o.extent([[0,0],[960,500]])};function Or(e,t,n,r){return function(u){var l=u,c=mr(),f=Sr(e,t,n,r),d,p,h;var m={point:b,lineStart:A,lineEnd:R,polygonStart:function(){u=c;d=[];p=[];N=true},polygonEnd:function(){u=l;d=a.merge(d);var t=g([e,r]),n=N&&t,i=d.length;if(n||i){u.polygonStart();if(n){u.lineStart();y(null,null,1,u);u.lineEnd()}if(i){cr(d,o,t,y,u)}u.polygonEnd()}d=p=h=null}};function g(e){var t=0,n=p.length,r=e[1];for(var i=0;i<n;++i){for(var a=1,o=p[i],s=o.length,u=o[0],l;a<s;++a){l=o[a];if(u[1]<=r){if(l[1]>r&&He(u,l,e)>0)++t}else{if(l[1]<=r&&He(u,l,e)<0)--t}u=l}}return t!==0}function y(a,o,u,l){var c=0,f=0;if(a==null||(c=i(a,u))!==(f=i(o,u))||s(a,o)<0^u>0){do{l.point(c===0||c===3?e:n,c>1?r:t)}while((c=(c+u+4)%4)!==f)}else{l.point(o[0],o[1])}}function v(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function b(e,t){if(v(e,t))u.point(e,t)}var x,T,E,S,w,O,I,N;function A(){m.point=C;if(p)p.push(h=[]);I=true;O=false;S=w=NaN}function R(){if(d){C(x,T);if(E&&O)c.rejoin();d.push(c.buffer())}m.point=b;if(O)u.lineEnd()}function C(e,t){e=Math.max(-wr,Math.min(wr,e));t=Math.max(-wr,Math.min(wr,t));var n=v(e,t);if(p)h.push([e,t]);if(I){x=e,T=t,E=n;I=false;if(n){u.lineStart();u.point(e,t)}}else{if(n&&O)u.point(e,t);else{var r={a:{x:S,y:w},b:{x:e,y:t}};if(f(r)){if(!O){u.lineStart();u.point(r.a.x,r.a.y)}u.point(r.b.x,r.b.y);if(!n)u.lineEnd();N=false}else if(n){u.lineStart();u.point(e,t);N=false}}}S=e,w=t,O=n}return m};function i(r,i){return E(r[0]-e)<Re?i>0?0:3:E(r[0]-n)<Re?i>0?2:1:E(r[1]-t)<Re?i>0?1:0:i>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:n===0?t[1]-e[1]:n===1?e[0]-t[0]:n===2?e[1]-t[1]:t[0]-e[0]}}function Ir(e){var t=0,n=Me/3,r=Zr(e),i=r(t,n);i.parallels=function(e){if(!arguments.length)return[t/Me*180,n/Me*180];return r(t=e[0]*Me/180,n=e[1]*Me/180)};return i}function Nr(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),a-n*Math.cos(e)]}o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,je((i-(e*e+n*n)*r*r)/(2*r))]};return o}(a.geo.conicEqualArea=function(){return Ir(Nr)}).raw=Nr;a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};a.geo.albersUsa=function(){var e=a.geo.albers();var t=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var n=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var r,i={point:function(e,t){r=[e,t]}},o,s,u;function l(e){var t=e[0],n=e[1];r=null;(o(t,n),r)||(s(t,n),r)||u(t,n);return r}l.invert=function(r){var i=e.scale(),a=e.translate(),o=(r[0]-a[0])/i,s=(r[1]-a[1])/i;return(s>=.12&&s<.234&&o>=-.425&&o<-.214?t:s>=.166&&s<.234&&o>=-.214&&o<-.115?n:e).invert(r)};l.stream=function(r){var i=e.stream(r),a=t.stream(r),o=n.stream(r);return{point:function(e,t){i.point(e,t);a.point(e,t);o.point(e,t)},sphere:function(){i.sphere();a.sphere();o.sphere()},lineStart:function(){i.lineStart();a.lineStart();o.lineStart()},lineEnd:function(){i.lineEnd();a.lineEnd();o.lineEnd()},polygonStart:function(){i.polygonStart();a.polygonStart();o.polygonStart()},polygonEnd:function(){i.polygonEnd();a.polygonEnd();o.polygonEnd()}}};l.precision=function(r){if(!arguments.length)return e.precision();e.precision(r);t.precision(r);n.precision(r);return l};l.scale=function(r){if(!arguments.length)return e.scale();e.scale(r);t.scale(r*.35);n.scale(r);return l.translate(e.translate())};l.translate=function(r){if(!arguments.length)return e.translate();var a=e.scale(),c=+r[0],f=+r[1];o=e.translate(r).clipExtent([[c-.455*a,f-.238*a],[c+.455*a,f+.238*a]]).stream(i).point;s=t.translate([c-.307*a,f+.201*a]).clipExtent([[c-.425*a+Re,f+.12*a+Re],[c-.214*a-Re,f+.234*a-Re]]).stream(i).point;u=n.translate([c-.205*a,f+.212*a]).clipExtent([[c-.214*a+Re,f+.166*a+Re],[c-.115*a-Re,f+.234*a-Re]]).stream(i).point;return l};return l.scale(1070)};var Ar,Rr,Cr={point:j,lineStart:j,lineEnd:j,polygonStart:function(){Rr=0;Cr.lineStart=Mr},polygonEnd:function(){Cr.lineStart=Cr.lineEnd=Cr.point=j;Ar+=E(Rr/2)}};function Mr(){var e,t,n,r;Cr.point=function(a,o){Cr.point=i;e=n=a,t=r=o};function i(e,t){Rr+=r*e-n*t;n=e,r=t}Cr.lineEnd=function(){i(e,t)}}var Dr,Pr,_r,Fr;var Lr={point:kr,lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j};function kr(e,t){if(e<Dr)Dr=e;if(e>_r)_r=e;if(t<Pr)Pr=t;if(t>Fr)Fr=t}function Hr(){var e=Ur(4.5),t=[];var n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o;n.point=r},pointRadius:function(t){e=Ur(t);return n},result:function(){if(t.length){var e=t.join("");t=[];return e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r);n.point=a}function a(e,n){t.push("L",e,",",n)}function o(){n.point=r}function s(){t.push("Z")}return n}function Ur(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var jr={point:Wr,lineStart:Vr,lineEnd:qr,polygonStart:function(){jr.lineStart=Br},polygonEnd:function(){jr.point=Wr;jr.lineStart=Vr;jr.lineEnd=qr}};function Wr(e,t){Yn+=e;Kn+=t;++$n}function Vr(){var e,t;jr.point=function(r,i){jr.point=n;Wr(e=r,t=i)};function n(n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a);Qn+=o*(e+n)/2;Zn+=o*(t+r)/2;Xn+=o;Wr(e=n,t=r)}}function qr(){jr.point=Wr}function Br(){var e,t,n,r;jr.point=function(a,o){jr.point=i;Wr(e=n=a,t=r=o)};function i(e,t){var i=e-n,a=t-r,o=Math.sqrt(i*i+a*a);Qn+=o*(n+e)/2;Zn+=o*(r+t)/2;Xn+=o;o=r*e-n*t;Jn+=o*(n+e);er+=o*(r+t);tr+=o*3;Wr(n=e,r=t)}jr.lineEnd=function(){i(e,t)}}function zr(e){var t=4.5;var n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o;n.point=r},pointRadius:function(e){t=e;return n},result:j};function r(n,r){e.moveTo(n+t,r);e.arc(n,r,t,0,De)}function i(t,r){e.moveTo(t,r);n.point=a}function a(t,n){e.lineTo(t,n)}function o(){n.point=r}function s(){e.closePath()}return n}function Gr(e){var t=.5,n=Math.cos(30*Fe),r=16;function i(e){return(r?o:a)(e)}function a(t){return $r(t,function(n,r){n=e(n,r);t.point(n[0],n[1])})}function o(t){var n,i,a,o,u,l,c,f,d,p,h,m,g;var y={point:v,lineStart:b,lineEnd:T,polygonStart:function(){t.polygonStart();y.lineStart=E},polygonEnd:function(){t.polygonEnd();y.lineStart=b}};function v(n,r){n=e(n,r);t.point(n[0],n[1])}function b(){d=NaN;y.point=x;t.lineStart()}function x(n,i){var a=kn([n,i]),o=e(n,i);s(d,p,f,h,m,g,d=o[0],p=o[1],f=n,h=a[0],m=a[1],g=a[2],r,t);t.point(d,p)}function T(){y.point=v;t.lineEnd()}function E(){b();y.point=S;y.lineEnd=w}function S(e,t){x(n=e,i=t),a=d,o=p,u=h,l=m,c=g;y.point=x}function w(){s(d,p,f,h,m,g,a,o,n,u,l,c,r,t);y.lineEnd=T;T()}return y}function s(r,i,a,o,u,l,c,f,d,p,h,m,g,y){var v=c-r,b=f-i,x=v*v+b*b;if(x>4*t&&g--){var T=o+p,S=u+h,w=l+m,O=Math.sqrt(T*T+S*S+w*w),I=Math.asin(w/=O),N=E(E(w)-1)<Re||E(a-d)<Re?(a+d)/2:Math.atan2(S,T),A=e(N,I),R=A[0],C=A[1],M=R-r,D=C-i,P=b*M-v*D;if(P*P/x>t||E((v*M+b*D)/x-.5)>.3||o*p+u*h+l*m<n){s(r,i,a,o,u,l,R,C,N,T/=O,S/=O,w,g,y);y.point(R,C);s(R,C,N,T,S,w,c,f,d,p,h,m,g,y)}}}i.precision=function(e){if(!arguments.length)return Math.sqrt(t);r=(t=e*e)>0&&16;return i};return i}a.geo.path=function(){var e=4.5,t,n,r,i,o;function s(t){if(t){if(typeof e==="function")i.pointRadius(+e.apply(this,arguments));if(!o||!o.valid)o=r(i);a.geo.stream(t,o)}return i.result()}s.area=function(e){Ar=0;a.geo.stream(e,r(Cr));return Ar};s.centroid=function(e){Yn=Kn=$n=Qn=Zn=Xn=Jn=er=tr=0;a.geo.stream(e,r(jr));return tr?[Jn/tr,er/tr]:Xn?[Qn/Xn,Zn/Xn]:$n?[Yn/$n,Kn/$n]:[NaN,NaN]};s.bounds=function(e){_r=Fr=-(Dr=Pr=Infinity);a.geo.stream(e,r(Lr));return[[Dr,Pr],[_r,Fr]]};s.projection=function(e){if(!arguments.length)return t;r=(t=e)?e.stream||Yr(e):L;return u()};s.context=function(t){if(!arguments.length)return n;i=(n=t)==null?new Hr:new zr(t);if(typeof e!=="function")i.pointRadius(e);return u()};s.pointRadius=function(t){if(!arguments.length)return e;e=typeof t==="function"?t:(i.pointRadius(+t),+t);return s};function u(){o=null;return s}return s.projection(a.geo.albersUsa()).context(null)};function Yr(e){var t=Gr(function(t,n){return e([t*Le,n*Le])});return function(e){return Xr(t(e))}}a.geo.transform=function(e){return{stream:function(t){var n=new Kr(t);for(var r in e)n[r]=e[r];return n}}};function Kr(e){this.stream=e}Kr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function $r(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}a.geo.projection=Qr;a.geo.projectionMutator=Zr;function Qr(e){return Zr(function(){return e})()}function Zr(e){var t,n,r,i=Gr(function(e,n){e=t(e,n);return[e[0]*o+h,m-e[1]*o]}),o=150,s=480,u=250,l=0,c=0,f=0,d=0,p=0,h,m,g=yr,y=L,v=null,b=null,x;function T(e){e=r(e[0]*Fe,e[1]*Fe);return[e[0]*o+h,m-e[1]*o]}function E(e){e=r.invert((e[0]-h)/o,(m-e[1])/o);return e&&[e[0]*Le,e[1]*Le]}T.stream=function(e){if(x)x.valid=false;x=Xr(g(n,i(y(e))));x.valid=true;return x};T.clipAngle=function(e){if(!arguments.length)return v;g=e==null?(v=e,yr):Er((v=+e)*Fe);return w()};T.clipExtent=function(e){if(!arguments.length)return b;b=e;y=e?Or(e[0][0],e[0][1],e[1][0],e[1][1]):L;return w()};T.scale=function(e){if(!arguments.length)return o;o=+e;return S()};T.translate=function(e){if(!arguments.length)return[s,u];s=+e[0];u=+e[1];return S()};T.center=function(e){if(!arguments.length)return[l*Le,c*Le];l=e[0]%360*Fe;c=e[1]%360*Fe;return S()};T.rotate=function(e){if(!arguments.length)return[f*Le,d*Le,p*Le];f=e[0]%360*Fe;d=e[1]%360*Fe;p=e.length>2?e[2]%360*Fe:0;return S()};a.rebind(T,i,"precision");function S(){r=ur(n=ti(f,d,p),t);var e=t(l,c);h=s-e[0]*o;m=u+e[1]*o;return w()}function w(){if(x)x.valid=false,x=null;return T}return function(){t=e.apply(this,arguments);T.invert=t.invert&&E;return S()}}function Xr(e){return $r(e,function(t,n){e.point(t*Fe,n*Fe)})}function Jr(e,t){return[e,t]}(a.geo.equirectangular=function(){return Qr(Jr)}).raw=Jr.invert=Jr;a.geo.rotation=function(e){e=ti(e[0]%360*Fe,e[1]*Fe,e.length>2?e[2]*Fe:0);function t(t){t=e(t[0]*Fe,t[1]*Fe);return t[0]*=Le,t[1]*=Le,t}t.invert=function(t){t=e.invert(t[0]*Fe,t[1]*Fe);return t[0]*=Le,t[1]*=Le,t};return t};function ei(e,t){return[e>Me?e-De:e<-Me?e+De:e,t]}ei.invert=Jr;function ti(e,t,n){return e?t||n?ur(ri(e),ii(t,n)):ri(e):t||n?ii(t,n):ei}function ni(e){return function(t,n){return t+=e,[t>Me?t-De:t<-Me?t+De:t,n]}}function ri(e){var t=ni(e);t.invert=ni(-e);return t}function ii(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),a=Math.sin(t);function o(e,t){var o=Math.cos(t),s=Math.cos(e)*o,u=Math.sin(e)*o,l=Math.sin(t),c=l*n+s*r;return[Math.atan2(u*i-c*a,s*n-l*r),je(c*i+u*a)]}o.invert=function(e,t){var o=Math.cos(t),s=Math.cos(e)*o,u=Math.sin(e)*o,l=Math.sin(t),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*n+c*r),je(c*n-s*r)]};return o}a.geo.circle=function(){var e=[0,0],t,n=6,r;function i(){var t=typeof e==="function"?e.apply(this,arguments):e,n=ti(-t[0]*Fe,-t[1]*Fe,0).invert,i=[];r(null,null,1,{point:function(e,t){i.push(e=n(e,t));e[0]*=Le,e[1]*=Le}});return{type:"Polygon",coordinates:[i]}}i.origin=function(t){if(!arguments.length)return e;e=t;return i};i.angle=function(e){if(!arguments.length)return t;r=ai((t=+e)*Fe,n*Fe);return i};i.precision=function(e){if(!arguments.length)return n;r=ai(t*Fe,(n=+e)*Fe);return i};return i.angle(90)};function ai(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var u=o*t;if(i!=null){i=oi(n,i);a=oi(n,a);if(o>0?i<a:i>a)i+=o*De}else{i=e+o*De;a=e-.5*u}for(var l,c=i;o>0?c>a:c<a;c-=u){s.point((l=qn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}}function oi(e,t){var n=kn(t);n[0]-=e;Vn(n);var r=Ue(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Re)%(2*Math.PI)}a.geo.distance=function(e,t){var n=(t[0]-e[0])*Fe,r=e[1]*Fe,i=t[1]*Fe,a=Math.sin(n),o=Math.cos(n),s=Math.sin(r),u=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f;return Math.atan2(Math.sqrt((f=c*a)*f+(f=u*l-s*c*o)*f),s*l+u*c*o)};a.geo.graticule=function(){var e,t,n,r,i,o,s,u,l=10,c=l,f=90,d=360,p,h,m,g,y=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return a.range(Math.ceil(r/f)*f,n,f).map(m).concat(a.range(Math.ceil(u/d)*d,s,d).map(g)).concat(a.range(Math.ceil(t/l)*l,e,l).filter(function(e){return E(e%f)>Re}).map(p)).concat(a.range(Math.ceil(o/c)*c,i,c).filter(function(e){return E(e%d)>Re}).map(h))}v.lines=function(){return b().map(function(e){return{type:"LineString",coordinates:e}})};v.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(s).slice(1),m(n).reverse().slice(1),g(u).reverse().slice(1))]}};v.extent=function(e){if(!arguments.length)return v.minorExtent();return v.majorExtent(e).minorExtent(e)};v.majorExtent=function(e){if(!arguments.length)return[[r,u],[n,s]];r=+e[0][0],n=+e[1][0];u=+e[0][1],s=+e[1][1];if(r>n)e=r,r=n,n=e;if(u>s)e=u,u=s,s=e;return v.precision(y)};v.minorExtent=function(n){if(!arguments.length)return[[t,o],[e,i]];t=+n[0][0],e=+n[1][0];o=+n[0][1],i=+n[1][1];if(t>e)n=t,t=e,e=n;if(o>i)n=o,o=i,i=n;return v.precision(y)};v.step=function(e){if(!arguments.length)return v.minorStep();return v.majorStep(e).minorStep(e)};v.majorStep=function(e){if(!arguments.length)return[f,d];f=+e[0],d=+e[1];return v};v.minorStep=function(e){if(!arguments.length)return[l,c];l=+e[0],c=+e[1];return v};v.precision=function(a){if(!arguments.length)return y;y=+a;p=si(o,i,90);h=ui(t,e,y);m=si(u,s,90);g=ui(r,n,y);return v};return v.majorExtent([[-180,-90+Re],[180,90-Re]]).minorExtent([[-180,-80-Re],[180,80+Re]])};function si(e,t,n){var r=a.range(e,t-Re,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function ui(e,t,n){var r=a.range(e,t-Re,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function li(e){return e.source}function ci(e){return e.target}a.geo.greatArc=function(){var e=li,t,n=ci,r;function i(){return{type:"LineString",coordinates:[t||e.apply(this,arguments),r||n.apply(this,arguments)]}}i.distance=function(){return a.geo.distance(t||e.apply(this,arguments),r||n.apply(this,arguments))};i.source=function(n){if(!arguments.length)return e;e=n,t=typeof n==="function"?null:n;return i};i.target=function(e){if(!arguments.length)return n;n=e,r=typeof e==="function"?null:e;return i};i.precision=function(){return arguments.length?i:0};return i};a.geo.interpolate=function(e,t){return fi(e[0]*Fe,e[1]*Fe,t[0]*Fe,t[1]*Fe)};function fi(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=o*Math.cos(n),f=o*Math.sin(n),d=2*Math.asin(Math.sqrt(Be(r-t)+i*o*Be(n-e))),p=1/Math.sin(d);var h=d?function(e){var t=Math.sin(e*=d)*p,n=Math.sin(d-e)*p,r=n*u+t*c,i=n*l+t*f,o=n*a+t*s;return[Math.atan2(i,r)*Le,Math.atan2(o,Math.sqrt(r*r+i*i))*Le]}:function(){return[e*Le,t*Le]};h.distance=d;return h}a.geo.length=function(e){di=0;a.geo.stream(e,pi);return di};var di;var pi={sphere:j,point:j,lineStart:hi,lineEnd:j,polygonStart:j,polygonEnd:j};function hi(){var e,t,n;pi.point=function(i,a){e=i*Fe,t=Math.sin(a*=Fe),n=Math.cos(a);pi.point=r};pi.lineEnd=function(){pi.point=pi.lineEnd=j};function r(r,i){var a=Math.sin(i*=Fe),o=Math.cos(i),s=E((r*=Fe)-e),u=Math.cos(s);di+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-t*o*u)*s),t*a+n*o*u);e=r,t=a,n=o}}function mi(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]};return n}var gi=mi(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(a.geo.azimuthalEqualArea=function(){return Qr(gi)}).raw=gi;var yi=mi(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},L);(a.geo.azimuthalEquidistant=function(){return Qr(yi)}).raw=yi;function vi(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Me/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),a=n*Math.pow(r(e),i)/i;if(!i)return Ti;function o(e,t){if(a>0){if(t<-_e+Re)t=-_e+Re}else{if(t>_e-Re)t=_e-Re}var n=a/Math.pow(r(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}o.invert=function(e,t){var n=a-t,r=ke(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-_e]};return o}(a.geo.conicConformal=function(){return Ir(vi)}).raw=vi;function bi(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(E(r)<Re)return Jr;function a(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}a.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-ke(r)*Math.sqrt(e*e+n*n)]};return a}(a.geo.conicEquidistant=function(){return Ir(bi)}).raw=bi;var xi=mi(function(e){return 1/e},Math.atan);(a.geo.gnomonic=function(){return Qr(xi)}).raw=xi;function Ti(e,t){return[e,Math.log(Math.tan(Me/4+t/2))]}Ti.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-_e]};function Ei(e){var t=Qr(e),n=t.scale,r=t.translate,i=t.clipExtent,a;t.scale=function(){var e=n.apply(t,arguments);return e===t?a?t.clipExtent(null):t:e};t.translate=function(){var e=r.apply(t,arguments);return e===t?a?t.clipExtent(null):t:e};t.clipExtent=function(e){var o=i.apply(t,arguments);if(o===t){if(a=e==null){var s=Me*n(),u=r();i([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else if(a){o=null}return o};return t.clipExtent(null)}(a.geo.mercator=function(){return Ei(Ti)}).raw=Ti;var Si=mi(function(){return 1},Math.asin);(a.geo.orthographic=function(){return Qr(Si)}).raw=Si;var wi=mi(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(a.geo.stereographic=function(){return Qr(wi)}).raw=wi;function Oi(e,t){return[Math.log(Math.tan(Me/4+t/2)),-e]}Oi.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-_e]};(a.geo.transverseMercator=function(){var e=Ei(Oi),t=e.center,n=e.rotate;e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])};e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])};return n([0,0,90])}).raw=Oi;a.geom={};function Ii(e){return e[0]}function Ni(e){return e[1]}a.geom.hull=function(e){var t=Ii,n=Ni;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r=It(t),i=It(n),a,o=e.length,s=[],u=[];for(a=0;a<o;a++){s.push([+r.call(this,e[a],a),+i.call(this,e[a],a),a])}s.sort(Ri);for(a=0;a<o;a++)u.push([s[a][0],-s[a][1]]);var l=Ai(s),c=Ai(u);var f=c[0]===l[0],d=c[c.length-1]===l[l.length-1],p=[];for(a=l.length-1;a>=0;--a)p.push(e[s[l[a]][2]]);for(a=+f;a<c.length-d;++a)p.push(e[s[c[a]][2]]);return p}r.x=function(e){return arguments.length?(t=e,r):t};r.y=function(e){return arguments.length?(n=e,r):n};return r};function Ai(e){var t=e.length,n=[0,1],r=2;for(var i=2;i<t;i++){while(r>1&&He(e[n[r-2]],e[n[r-1]],e[i])<=0)--r;n[r++]=i}return n.slice(0,r)}function Ri(e,t){return e[0]-t[0]||e[1]-t[1]}a.geom.polygon=function(e){Y(e,Ci);return e};var Ci=a.geom.polygon.prototype=[];Ci.area=function(){var e=-1,t=this.length,n,r=this[t-1],i=0;while(++e<t){n=r;r=this[e];i+=n[1]*r[0]-n[0]*r[1]}return i*.5};Ci.centroid=function(e){var t=-1,n=this.length,r=0,i=0,a,o=this[n-1],s;if(!arguments.length)e=-1/(6*this.area());while(++t<n){a=o;o=this[t];s=a[0]*o[1]-o[0]*a[1];r+=(a[0]+o[0])*s;i+=(a[1]+o[1])*s}return[r*e,i*e]};Ci.clip=function(e){var t,n=Pi(e),r=-1,i=this.length-Pi(this),a,o,s=this[i-1],u,l,c;while(++r<i){t=e.slice();e.length=0;u=this[r];l=t[(o=t.length-n)-1];a=-1;while(++a<o){c=t[a];if(Mi(c,s,u)){if(!Mi(l,s,u)){e.push(Di(l,c,s,u))}e.push(c)}else if(Mi(l,s,u)){e.push(Di(l,c,s,u))}l=c}if(n)e.push(e[0]);s=u}return e};function Mi(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Di(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,d=(s*(u-l)-f*(i-a))/(f*o-s*c);return[i+d*o,u+d*c]}function Pi(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}var _i,Fi,Li,ki=[],Hi,Ui,ji=[];function Wi(){ua(this);this.edge=this.site=this.circle=null}function Vi(e){var t=ki.pop()||new Wi;t.site=e;return t}function qi(e){Ji(e);Li.remove(e);ki.push(e);ua(e)}function Bi(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];qi(e);var u=a;while(u.circle&&E(n-u.circle.x)<Re&&E(r-u.circle.cy)<Re){a=u.P;s.unshift(u);qi(u);u=a}s.unshift(u);Ji(u);var l=o;while(l.circle&&E(n-l.circle.x)<Re&&E(r-l.circle.cy)<Re){o=l.N;s.push(l);qi(l);l=o}s.push(l);Ji(l);var c=s.length,f;for(f=1;f<c;++f){l=s[f];u=s[f-1];aa(l.edge,u.site,l.site,i)}u=s[0];l=s[c-1];l.edge=ra(u.site,l.site,null,i);Xi(u);Xi(l)}function zi(e){var t=e.x,n=e.y,r,i,a,o,s=Li._;while(s){a=Gi(s,n)-t;if(a>Re)s=s.L;else{o=t-Yi(s,n);if(o>Re){if(!s.R){r=s;break}s=s.R}else{if(a>-Re){r=s.P;i=s}else if(o>-Re){r=s;i=s.N}else{r=i=s}break}}}var u=Vi(e);Li.insert(r,u);if(!r&&!i)return;if(r===i){Ji(r);i=Vi(r.site);Li.insert(u,i);u.edge=i.edge=ra(r.site,u.site);Xi(r);Xi(i);return}if(!i){u.edge=ra(r.site,u.site);return}Ji(r);Ji(i);var l=r.site,c=l.x,f=l.y,d=e.x-c,p=e.y-f,h=i.site,m=h.x-c,g=h.y-f,y=2*(d*g-p*m),v=d*d+p*p,b=m*m+g*g,x={x:(g*v-p*b)/y+c,y:(d*b-m*v)/y+f};aa(i.edge,l,h,x);u.edge=ra(l,e,null,x);i.edge=ra(e,h,null,x);Xi(r);Xi(i)}function Gi(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-Infinity;n=o.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/a-1/l,d=c/l;if(f)return(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r;return(r+s)/2}function Yi(e,t){var n=e.N;if(n)return Gi(n,t);var r=e.site;return r.y===t?r.x:Infinity}function Ki(e){this.site=e;this.edges=[]}Ki.prototype.prepare=function(){var e=this.edges,t=e.length,n;while(t--){n=e[t].edge;if(!n.b||!n.a)e.splice(t,1)}e.sort(Qi);return e.length};function $i(e){var t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],a,o,s,u,l=Fi,c=l.length,f,d,p,h,m,g;while(c--){f=l[c];if(!f||!f.prepare())continue;p=f.edges;h=p.length;d=0;while(d<h){g=p[d].end(),s=g.x,u=g.y;m=p[++d%h].start(),a=m.x,o=m.y;if(E(s-a)>Re||E(u-o)>Re){p.splice(d,0,new oa(ia(f.site,g,E(s-t)<Re&&i-u>Re?{x:t,y:E(a-t)<Re?o:i}:E(u-i)<Re&&n-s>Re?{x:E(o-i)<Re?a:n,y:i}:E(s-n)<Re&&u-r>Re?{x:n,y:E(a-n)<Re?o:r}:E(u-r)<Re&&s-t>Re?{x:E(o-r)<Re?a:t,y:r}:null),f.site,null));++h}}}}function Qi(e,t){return t.angle-e.angle}function Zi(){ua(this);this.x=this.y=this.arc=this.site=this.cy=null}function Xi(e){var t=e.P,n=e.N;if(!t||!n)return;var r=t.site,i=e.site,a=n.site;if(r===a)return;var o=i.x,s=i.y,u=r.x-o,l=r.y-s,c=a.x-o,f=a.y-s;var d=2*(u*f-l*c);if(d>=-Ce)return;var p=u*u+l*l,h=c*c+f*f,m=(f*p-l*h)/d,g=(u*h-c*p)/d,f=g+s;var y=ji.pop()||new Zi;y.arc=e;y.site=i;y.x=m+o;y.y=f+Math.sqrt(m*m+g*g);y.cy=f;e.circle=y;var v=null,b=Ui._;while(b){if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(b.L)b=b.L;else{v=b.P;break}}else{if(b.R)b=b.R;else{v=b;break}}}Ui.insert(v,y);if(!v)Hi=y}function Ji(e){var t=e.circle;if(t){if(!t.P)Hi=t.N;Ui.remove(t);ji.push(t);ua(t);e.circle=null}}function ea(e){var t=_i,n=Sr(e[0][0],e[0][1],e[1][0],e[1][1]),r=t.length,i;while(r--){i=t[r];if(!ta(i,e)||!n(i)||E(i.a.x-i.b.x)<Re&&E(i.a.y-i.b.y)<Re){i.a=i.b=null;t.splice(r,1)}}}function ta(e,t){var n=e.b;if(n)return true;var r=e.a,i=t[0][0],a=t[1][0],o=t[0][1],s=t[1][1],u=e.l,l=e.r,c=u.x,f=u.y,d=l.x,p=l.y,h=(c+d)/2,m=(f+p)/2,g,y;if(p===f){if(h<i||h>=a)return;if(c>d){if(!r)r={x:h,y:o};else if(r.y>=s)return;n={x:h,y:s}}else{if(!r)r={x:h,y:s};else if(r.y<o)return;n={x:h,y:o}}}else{g=(c-d)/(p-f);y=m-g*h;if(g<-1||g>1){if(c>d){if(!r)r={x:(o-y)/g,y:o};else if(r.y>=s)return;n={x:(s-y)/g,y:s}}else{if(!r)r={x:(s-y)/g,y:s};else if(r.y<o)return;n={x:(o-y)/g,y:o}}}else{if(f<p){if(!r)r={x:i,y:g*i+y};else if(r.x>=a)return;n={x:a,y:g*a+y}}else{if(!r)r={x:a,y:g*a+y};else if(r.x<i)return;n={x:i,y:g*i+y}}}}e.a=r;e.b=n;return true}function na(e,t){this.l=e;this.r=t;this.a=this.b=null}function ra(e,t,n,r){var i=new na(e,t);_i.push(i);if(n)aa(i,e,t,n);if(r)aa(i,t,e,r);Fi[e.i].edges.push(new oa(i,e,t));Fi[t.i].edges.push(new oa(i,t,e));return i}function ia(e,t,n){var r=new na(e,null);r.a=t;r.b=n;_i.push(r);return r}function aa(e,t,n,r){if(!e.a&&!e.b){e.a=r;e.l=t;e.r=n}else if(e.l===n){e.b=r}else{e.a=r}}function oa(e,t,n){var r=e.a,i=e.b;this.edge=e;this.site=t;this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}oa.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function sa(){this._=null}function ua(e){e.U=e.C=e.L=e.R=e.P=e.N=null}sa.prototype={insert:function(e,t){var n,r,i;if(e){t.P=e;t.N=e.N;if(e.N)e.N.P=t;e.N=t;if(e.R){e=e.R;while(e.L)e=e.L;e.L=t}else{e.R=t}n=e}else if(this._){e=fa(this._);t.P=null;t.N=e;e.P=e.L=t;n=e}else{t.P=t.N=null;this._=t;n=null}t.L=t.R=null;t.U=n;t.C=true;e=t;while(n&&n.C){r=n.U;if(n===r.L){i=r.R;if(i&&i.C){n.C=i.C=false;r.C=true;e=r}else{if(e===n.R){la(this,n);e=n;n=e.U}n.C=false;r.C=true;ca(this,r)}}else{i=r.L;if(i&&i.C){n.C=i.C=false;r.C=true;e=r}else{if(e===n.L){ca(this,n);e=n;n=e.U}n.C=false;r.C=true;la(this,r)}}n=e.U}this._.C=false},remove:function(e){if(e.N)e.N.P=e.P;if(e.P)e.P.N=e.N;e.N=e.P=null;var t=e.U,n,r=e.L,i=e.R,a,o;if(!r)a=i;else if(!i)a=r;else a=fa(i);if(t){if(t.L===e)t.L=a;else t.R=a}else{this._=a}if(r&&i){o=a.C;a.C=e.C;a.L=r;r.U=a;if(a!==i){t=a.U;a.U=e.U;e=a.R;t.L=e;a.R=i;i.U=a}else{a.U=t;t=a;e=a.R}}else{o=e.C;e=a}if(e)e.U=t;if(o)return;if(e&&e.C){e.C=false;return}do{if(e===this._)break;if(e===t.L){n=t.R;if(n.C){n.C=false;t.C=true;la(this,t);n=t.R}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C){n.L.C=false;n.C=true;ca(this,n);n=t.R}n.C=t.C;t.C=n.R.C=false;la(this,t);e=this._;break}}else{n=t.L;if(n.C){n.C=false;t.C=true;ca(this,t);n=t.L}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C){n.R.C=false;n.C=true;la(this,n);n=t.L}n.C=t.C;t.C=n.L.C=false;ca(this,t);e=this._;break}}n.C=true;e=t;t=t.U}while(!e.C);if(e)e.C=false}};function la(e,t){var n=t,r=t.R,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{e._=r}r.U=i;n.U=r;n.R=r.L;if(n.R)n.R.U=n;r.L=n}function ca(e,t){var n=t,r=t.L,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{e._=r}r.U=i;n.U=r;n.L=r.R;if(n.L)n.L.U=n;r.R=n}function fa(e){while(e.L)e=e.L;return e}function da(e,t){var n=e.sort(pa).pop(),r,i,a;_i=[];Fi=new Array(e.length);Li=new sa;Ui=new sa;while(true){a=Hi;if(n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x)){if(n.x!==r||n.y!==i){Fi[n.i]=new Ki(n);zi(n);r=n.x,i=n.y}n=e.pop()}else if(a){Bi(a.arc)}else{break}}if(t)ea(t),$i(t);var o={cells:Fi,edges:_i};Li=Ui=_i=Fi=null;return o}function pa(e,t){return t.y-e.y||t.x-e.x}a.geom.voronoi=function(e){var t=Ii,n=Ni,r=t,i=n,a=ha;if(e)return o(e);function o(e){var t=new Array(e.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];da(s(e),a).cells.forEach(function(a,s){var u=a.edges,l=a.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];c.point=e[s]});return t}function s(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/Re)*Re,y:Math.round(i(e,t)/Re)*Re,i:t}})}o.links=function(e){return da(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})};o.triangles=function(e){var t=[];da(s(e)).cells.forEach(function(n,r){var i=n.site,a=n.edges.sort(Qi),o=-1,s=a.length,u,l,c=a[s-1].edge,f=c.l===i?c.r:c.l;while(++o<s){u=c;l=f;c=a[o].edge;f=c.l===i?c.r:c.l;if(r<l.i&&r<f.i&&ma(i,l,f)<0){t.push([e[r],e[l.i],e[f.i]])}}});return t};o.x=function(e){return arguments.length?(r=It(t=e),o):t};o.y=function(e){return arguments.length?(i=It(n=e),o):n};o.clipExtent=function(e){if(!arguments.length)return a===ha?null:a;a=e==null?ha:e;return o};o.size=function(e){if(!arguments.length)return a===ha?null:a&&a[1];return o.clipExtent(e&&[[0,0],e])};return o};var ha=[[-1e6,-1e6],[1e6,1e6]];function ma(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}a.geom.delaunay=function(e){return a.geom.voronoi().triangles(e)};a.geom.quadtree=function(e,t,n,r,i){var a=Ii,o=Ni,s;if(s=arguments.length){a=ga;o=ya;if(s===3){i=n;r=t;n=t=0}return u(e)}function u(e){var u,l=It(a),c=It(o),f,d,p,h,m,g,y,v;if(t!=null){m=t,g=n,y=r,v=i}else{y=v=-(m=g=Infinity);f=[],d=[];h=e.length;if(s)for(p=0;p<h;++p){u=e[p];if(u.x<m)m=u.x;if(u.y<g)g=u.y;if(u.x>y)y=u.x;if(u.y>v)v=u.y;f.push(u.x);d.push(u.y)}else for(p=0;p<h;++p){var b=+l(u=e[p],p),x=+c(u,p);if(b<m)m=b;if(x<g)g=x;if(b>y)y=b;if(x>v)v=x;f.push(b);d.push(x)}}var T=y-m,S=v-g;if(T>S)v=g+T;else y=m+S;function w(e,t,n,r,i,a,o,s){if(isNaN(n)||isNaN(r))return;if(e.leaf){var u=e.x,l=e.y;if(u!=null){if(E(u-n)+E(l-r)<.01){O(e,t,n,r,i,a,o,s)}else{var c=e.point;e.x=e.y=e.point=null;O(e,c,u,l,i,a,o,s);O(e,t,n,r,i,a,o,s)}}else{e.x=n,e.y=r,e.point=t}}else{O(e,t,n,r,i,a,o,s)}}function O(e,t,n,r,i,a,o,s){var u=(i+o)*.5,l=(a+s)*.5,c=n>=u,f=r>=l,d=f<<1|c;e.leaf=false;e=e.nodes[d]||(e.nodes[d]=va());if(c)i=u;else o=u;if(f)a=l;else s=l;w(e,t,n,r,i,a,o,s)}var I=va();I.add=function(e){w(I,e,+l(e,++p),+c(e,p),m,g,y,v)};I.visit=function(e){ba(e,I,m,g,y,v)};I.find=function(e){return xa(I,e[0],e[1],m,g,y,v)};p=-1;if(t==null){while(++p<h){w(I,e[p],f[p],d[p],m,g,y,v)}--p}else e.forEach(I.add);f=d=e=u=null;return I}u.x=function(e){return arguments.length?(a=e,u):a};u.y=function(e){return arguments.length?(o=e,u):o};u.extent=function(e){if(!arguments.length)return t==null?null:[[t,n],[r,i]];if(e==null)t=n=r=i=null;else t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1];return u};u.size=function(e){if(!arguments.length)return t==null?null:[r-t,i-n];if(e==null)t=n=r=i=null;else t=n=0,r=+e[0],i=+e[1];return u};return u};function ga(e){return e.x}function ya(e){return e.y}function va(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function ba(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=(n+i)*.5,s=(r+a)*.5,u=t.nodes;if(u[0])ba(e,u[0],n,r,o,s);if(u[1])ba(e,u[1],o,r,i,s);if(u[2])ba(e,u[2],n,s,o,a);if(u[3])ba(e,u[3],o,s,i,a)}}function xa(e,t,n,r,i,a,o){var s=Infinity,u;(function e(l,c,f,d,p){if(c>a||f>o||d<r||p<i)return;if(h=l.point){var h,m=t-l.x,g=n-l.y,y=m*m+g*g;if(y<s){var v=Math.sqrt(s=y);r=t-v,i=n-v;a=t+v,o=n+v;u=h}}var b=l.nodes,x=(c+d)*.5,T=(f+p)*.5,E=t>=x,S=n>=T;for(var w=S<<1|E,O=w+4;w<O;++w){if(l=b[w&3])switch(w&3){case 0:e(l,c,f,x,T);break;case 1:e(l,x,f,d,T);break;case 2:e(l,c,T,x,p);break;case 3:e(l,x,T,d,p);break}}})(e,r,i,a,o);return u}a.interpolateRgb=Ta;function Ta(e,t){e=a.rgb(e);t=a.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,s=t.g-r,u=t.b-i;return function(e){return"#"+bt(Math.round(n+o*e))+bt(Math.round(r+s*e))+bt(Math.round(i+u*e))}}a.interpolateObject=Ea;function Ea(e,t){var n={},r={},i;for(i in e){if(i in t){n[i]=Na(e[i],t[i])}else{r[i]=e[i]}}for(i in t){if(!(i in e)){r[i]=t[i]}}return function(e){for(i in n)r[i]=n[i](e);return r}}a.interpolateNumber=Sa;function Sa(e,t){e=+e,t=+t;return function(n){return e*(1-n)+t*n}}a.interpolateString=wa;function wa(e,t){var n=Oa.lastIndex=Ia.lastIndex=0,r,i,a,o=-1,s=[],u=[];e=e+"",t=t+"";while((r=Oa.exec(e))&&(i=Ia.exec(t))){if((a=i.index)>n){a=t.slice(n,a);if(s[o])s[o]+=a;else s[++o]=a}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:Sa(r,i)})}n=Ia.lastIndex}if(n<t.length){a=t.slice(n);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n=0,r;n<t;++n)s[(r=u[n]).i]=r.x(e);return s.join("")})}var Oa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ia=new RegExp(Oa.source,"g");a.interpolate=Na;function Na(e,t){var n=a.interpolators.length,r;while(--n>=0&&!(r=a.interpolators[n](e,t)));return r}a.interpolators=[function(e,t){var n=typeof t;return(n==="string"?Ot.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Ta:wa:t instanceof Ze?Ta:Array.isArray(t)?Aa:n==="object"&&isNaN(t)?Ea:Sa)(e,t)}];a.interpolateArray=Aa;function Aa(e,t){var n=[],r=[],i=e.length,a=t.length,o=Math.min(e.length,t.length),s;for(s=0;s<o;++s)n.push(Na(e[s],t[s]));for(;s<i;++s)r[s]=e[s];
for(;s<a;++s)r[s]=t[s];return function(e){for(s=0;s<o;++s)r[s]=n[s](e);return r}}var Ra=function(){return L};var Ca=a.map({linear:Ra,poly:Ha,quad:function(){return Fa},cubic:function(){return La},sin:function(){return Ua},exp:function(){return ja},circle:function(){return Wa},elastic:Va,back:qa,bounce:function(){return Ba}});var Ma=a.map({in:L,out:Pa,"in-out":_a,"out-in":function(e){return _a(Pa(e))}});a.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";n=Ca.get(n)||Ra;r=Ma.get(r)||L;return Da(r(n.apply(null,o.call(arguments,1))))};function Da(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Pa(e){return function(t){return 1-e(1-t)}}function _a(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Fa(e){return e*e}function La(e){return e*e*e}function ka(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Ha(e){return function(t){return Math.pow(t,e)}}function Ua(e){return 1-Math.cos(e*_e)}function ja(e){return Math.pow(2,10*(e-1))}function Wa(e){return 1-Math.sqrt(1-e*e)}function Va(e,t){var n;if(arguments.length<2)t=.45;if(arguments.length)n=t/De*Math.asin(1/e);else e=1,n=t/4;return function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*De/t)}}function qa(e){if(!e)e=1.70158;return function(t){return t*t*((e+1)*t-e)}}function Ba(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}a.interpolateHcl=za;function za(e,t){e=a.hcl(e);t=a.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,s=t.c-r,u=t.l-i;if(isNaN(s))s=0,r=isNaN(r)?t.c:r;if(isNaN(o))o=0,n=isNaN(n)?t.h:n;else if(o>180)o-=360;else if(o<-180)o+=360;return function(e){return rt(n+o*e,r+s*e,i+u*e)+""}}a.interpolateHsl=Ga;function Ga(e,t){e=a.hsl(e);t=a.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,s=t.s-r,u=t.l-i;if(isNaN(s))s=0,r=isNaN(r)?t.s:r;if(isNaN(o))o=0,n=isNaN(n)?t.h:n;else if(o>180)o-=360;else if(o<-180)o+=360;return function(e){return et(n+o*e,r+s*e,i+u*e)+""}}a.interpolateLab=Ya;function Ya(e,t){e=a.lab(e);t=a.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,s=t.a-r,u=t.b-i;return function(e){return ct(n+o*e,r+s*e,i+u*e)+""}}a.interpolateRound=Ka;function Ka(e,t){t-=e;return function(n){return Math.round(e+t*n)}}a.transform=function(e){var t=u.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(e){if(e!=null){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new $a(n?n.matrix:Ja)})(e)};function $a(e){var t=[e.a,e.b],n=[e.c,e.d],r=Za(t),i=Qa(t,n),a=Za(Xa(n,t,-i))||0;if(t[0]*n[1]<n[0]*t[1]){t[0]*=-1;t[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Le;this.translate=[e.e,e.f];this.scale=[r,a];this.skew=a?Math.atan2(i,a)*Le:0}$a.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Qa(e,t){return e[0]*t[0]+e[1]*t[1]}function Za(e){var t=Math.sqrt(Qa(e,e));if(t){e[0]/=t;e[1]/=t}return t}function Xa(e,t,n){e[0]+=n*t[0];e[1]+=n*t[1];return e}var Ja={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=ao;function eo(e){return e.length?e.pop()+",":""}function to(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Sa(e[0],t[0])},{i:i-2,x:Sa(e[1],t[1])})}else if(t[0]||t[1]){n.push("translate("+t+")")}}function no(e,t,n,r){if(e!==t){if(e-t>180)t+=360;else if(t-e>180)e+=360;r.push({i:n.push(eo(n)+"rotate(",null,")")-2,x:Sa(e,t)})}else if(t){n.push(eo(n)+"rotate("+t+")")}}function ro(e,t,n,r){if(e!==t){r.push({i:n.push(eo(n)+"skewX(",null,")")-2,x:Sa(e,t)})}else if(t){n.push(eo(n)+"skewX("+t+")")}}function io(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(eo(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Sa(e[0],t[0])},{i:i-2,x:Sa(e[1],t[1])})}else if(t[0]!==1||t[1]!==1){n.push(eo(n)+"scale("+t+")")}}function ao(e,t){var n=[],r=[];e=a.transform(e),t=a.transform(t);to(e.translate,t.translate,n,r);no(e.rotate,t.rotate,n,r);ro(e.skew,t.skew,n,r);io(e.scale,t.scale,n,r);e=t=null;return function(e){var t=-1,i=r.length,a;while(++t<i)n[(a=r[t]).i]=a.x(e);return n.join("")}}function oo(e,t){t=(t-=e=+e)||1/t;return function(n){return(n-e)/t}}function so(e,t){t=(t-=e=+e)||1/t;return function(n){return Math.max(0,Math.min(1,(n-e)/t))}}a.layout={};a.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(uo(e[n]));return t}};function uo(e){var t=e.source,n=e.target,r=co(t,n),i=[t];while(t!==r){t=t.parent;i.push(t)}var a=i.length;while(n!==r){i.splice(a,0,n);n=n.parent}return i}function lo(e){var t=[],n=e.parent;while(n!=null){t.push(e);e=n;n=n.parent}t.push(e);return t}function co(e,t){if(e===t)return e;var n=lo(e),r=lo(t),i=n.pop(),a=r.pop(),o=null;while(i===a){o=i;i=n.pop();a=r.pop()}return o}a.layout.chord=function(){var e={},t,n,r,i,o=0,s,u,l;function c(){var e={},c=[],d=a.range(i),p=[],h,m,g,y,v;t=[];n=[];h=0,y=-1;while(++y<i){m=0,v=-1;while(++v<i){m+=r[y][v]}c.push(m);p.push(a.range(i));h+=m}if(s){d.sort(function(e,t){return s(c[e],c[t])})}if(u){p.forEach(function(e,t){e.sort(function(e,n){return u(r[t][e],r[t][n])})})}h=(De-o*i)/h;m=0,y=-1;while(++y<i){g=m,v=-1;while(++v<i){var b=d[y],x=p[b][v],T=r[b][x],E=m,S=m+=T*h;e[b+"-"+x]={index:b,subindex:x,startAngle:E,endAngle:S,value:T}}n[b]={index:b,startAngle:g,endAngle:m,value:c[b]};m+=o}y=-1;while(++y<i){v=y-1;while(++v<i){var w=e[y+"-"+v],O=e[v+"-"+y];if(w.value||O.value){t.push(w.value<O.value?{source:O,target:w}:{source:w,target:O})}}}if(l)f()}function f(){t.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}e.matrix=function(a){if(!arguments.length)return r;i=(r=a)&&r.length;t=n=null;return e};e.padding=function(r){if(!arguments.length)return o;o=r;t=n=null;return e};e.sortGroups=function(r){if(!arguments.length)return s;s=r;t=n=null;return e};e.sortSubgroups=function(n){if(!arguments.length)return u;u=n;t=null;return e};e.sortChords=function(n){if(!arguments.length)return l;l=n;if(t)f();return e};e.chords=function(){if(!t)c();return t};e.groups=function(){if(!n)c();return n};return e};a.layout.force=function(){var e={},t=a.dispatch("start","tick","end"),n,r=[1,1],i,o,s=.9,u=yo,l=vo,c=-30,f=bo,d=.1,p=.64,h=[],m=[],g,y,v;function b(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,u=a*a+o*o;if(s*s/p<u){if(u<f){var l=t.charge/u;e.px-=a*l;e.py-=o*l}return true}if(t.point&&u&&u<f){var l=t.pointCharge/u;e.px-=a*l;e.py-=o*l}}return!t.charge}}e.tick=function(){if((o*=.99)<.005){n=null;t.end({type:"end",alpha:o=0});return true}var e=h.length,i=m.length,u,l,f,p,x,T,E,S,w;for(l=0;l<i;++l){f=m[l];p=f.source;x=f.target;S=x.x-p.x;w=x.y-p.y;if(T=S*S+w*w){T=o*y[l]*((T=Math.sqrt(T))-g[l])/T;S*=T;w*=T;x.x-=S*(E=p.weight+x.weight?p.weight/(p.weight+x.weight):.5);x.y-=w*E;p.x+=S*(E=1-E);p.y+=w*E}}if(E=o*d){S=r[0]/2;w=r[1]/2;l=-1;if(E)while(++l<e){f=h[l];f.x+=(S-f.x)*E;f.y+=(w-f.y)*E}}if(c){go(u=a.geom.quadtree(h),o,v);l=-1;while(++l<e){if(!(f=h[l]).fixed){u.visit(b(f))}}}l=-1;while(++l<e){f=h[l];if(f.fixed){f.x=f.px;f.y=f.py}else{f.x-=(f.px-(f.px=f.x))*s;f.y-=(f.py-(f.py=f.y))*s}}t.tick({type:"tick",alpha:o})};e.nodes=function(t){if(!arguments.length)return h;h=t;return e};e.links=function(t){if(!arguments.length)return m;m=t;return e};e.size=function(t){if(!arguments.length)return r;r=t;return e};e.linkDistance=function(t){if(!arguments.length)return u;u=typeof t==="function"?t:+t;return e};e.distance=e.linkDistance;e.linkStrength=function(t){if(!arguments.length)return l;l=typeof t==="function"?t:+t;return e};e.friction=function(t){if(!arguments.length)return s;s=+t;return e};e.charge=function(t){if(!arguments.length)return c;c=typeof t==="function"?t:+t;return e};e.chargeDistance=function(t){if(!arguments.length)return Math.sqrt(f);f=t*t;return e};e.gravity=function(t){if(!arguments.length)return d;d=+t;return e};e.theta=function(t){if(!arguments.length)return Math.sqrt(p);p=t*t;return e};e.alpha=function(r){if(!arguments.length)return o;r=+r;if(o){if(r>0){o=r}else{n.c=null,n.t=NaN,n=null;t.end({type:"end",alpha:o=0})}}else if(r>0){t.start({type:"start",alpha:o=r});n=Lt(e.tick)}return e};e.start=function(){var t,n=h.length,i=m.length,a=r[0],o=r[1],s,f;for(t=0;t<n;++t){(f=h[t]).index=t;f.weight=0}for(t=0;t<i;++t){f=m[t];if(typeof f.source=="number")f.source=h[f.source];if(typeof f.target=="number")f.target=h[f.target];++f.source.weight;++f.target.weight}for(t=0;t<n;++t){f=h[t];if(isNaN(f.x))f.x=d("x",a);if(isNaN(f.y))f.y=d("y",o);if(isNaN(f.px))f.px=f.x;if(isNaN(f.py))f.py=f.y}g=[];if(typeof u==="function")for(t=0;t<i;++t)g[t]=+u.call(this,m[t],t);else for(t=0;t<i;++t)g[t]=u;y=[];if(typeof l==="function")for(t=0;t<i;++t)y[t]=+l.call(this,m[t],t);else for(t=0;t<i;++t)y[t]=l;v=[];if(typeof c==="function")for(t=0;t<n;++t)v[t]=+c.call(this,h[t],t);else for(t=0;t<n;++t)v[t]=c;function d(e,r){if(!s){s=new Array(n);for(u=0;u<n;++u){s[u]=[]}for(u=0;u<i;++u){var a=m[u];s[a.source.index].push(a.target);s[a.target.index].push(a.source)}}var o=s[t],u=-1,l=o.length,c;while(++u<l)if(!isNaN(c=o[u][e]))return c;return Math.random()*r}return e.resume()};e.resume=function(){return e.alpha(.1)};e.stop=function(){return e.alpha(0)};e.drag=function(){if(!i)i=a.behavior.drag().origin(L).on("dragstart.force",fo).on("drag.force",x).on("dragend.force",po);if(!arguments.length)return i;this.on("mouseover.force",ho).on("mouseout.force",mo).call(i)};function x(t){t.px=a.event.x,t.py=a.event.y;e.resume()}return a.rebind(e,t,"on")};function fo(e){e.fixed|=2}function po(e){e.fixed&=~6}function ho(e){e.fixed|=4;e.px=e.x,e.py=e.y}function mo(e){e.fixed&=~4}function go(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var a=e.nodes,o=a.length,s=-1,u;while(++s<o){u=a[s];if(u==null)continue;go(u,t,n);e.charge+=u.charge;r+=u.charge*u.cx;i+=u.charge*u.cy}}if(e.point){if(!e.leaf){e.point.x+=Math.random()-.5;e.point.y+=Math.random()-.5}var l=t*n[e.point.index];e.charge+=e.pointCharge=l;r+=l*e.point.x;i+=l*e.point.y}e.cx=r/e.charge;e.cy=i/e.charge}var yo=20,vo=1,bo=Infinity;a.layout.hierarchy=function(){var e=Oo,t=So,n=wo;function r(i){var a=[i],o=[],s;i.depth=0;while((s=a.pop())!=null){o.push(s);if((l=t.call(r,s,s.depth))&&(u=l.length)){var u,l,c;while(--u>=0){a.push(c=l[u]);c.parent=s;c.depth=s.depth+1}if(n)s.value=0;s.children=l}else{if(n)s.value=+n.call(r,s,s.depth)||0;delete s.children}}Eo(i,function(t){var r,i;if(e&&(r=t.children))r.sort(e);if(n&&(i=t.parent))i.value+=t.value});return o}r.sort=function(t){if(!arguments.length)return e;e=t;return r};r.children=function(e){if(!arguments.length)return t;t=e;return r};r.value=function(e){if(!arguments.length)return n;n=e;return r};r.revalue=function(e){if(n){To(e,function(e){if(e.children)e.value=0});Eo(e,function(e){var t;if(!e.children)e.value=+n.call(r,e,e.depth)||0;if(t=e.parent)t.value+=e.value})}return e};return r};function xo(e,t){a.rebind(e,t,"sort","children","value");e.nodes=e;e.links=Io;return e}function To(e,t){var n=[e];while((e=n.pop())!=null){t(e);if((i=e.children)&&(r=i.length)){var r,i;while(--r>=0)n.push(i[r])}}}function Eo(e,t){var n=[e],r=[];while((e=n.pop())!=null){r.push(e);if((o=e.children)&&(a=o.length)){var i=-1,a,o;while(++i<a)n.push(o[i])}}while((e=r.pop())!=null){t(e)}}function So(e){return e.children}function wo(e){return e.value}function Oo(e,t){return t.value-e.value}function Io(e){return a.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}a.layout.partition=function(){var e=a.layout.hierarchy(),t=[1,1];function n(e,t,r,i){var a=e.children;e.x=t;e.y=e.depth*i;e.dx=r;e.dy=i;if(a&&(s=a.length)){var o=-1,s,u,l;r=e.value?r/e.value:0;while(++o<s){n(u=a[o],t,l=u.value*r,i);t+=l}}}function r(e){var t=e.children,n=0;if(t&&(a=t.length)){var i=-1,a;while(++i<a)n=Math.max(n,r(t[i]))}return 1+n}function i(i,a){var o=e.call(this,i,a);n(o[0],0,t[0],t[1]/r(o[0]));return o}i.size=function(e){if(!arguments.length)return t;t=e;return i};return xo(i,e)};a.layout.pie=function(){var e=Number,t=No,n=0,r=De,i=0;function o(s){var u=s.length,l=s.map(function(t,n){return+e.call(o,t,n)}),c=+(typeof n==="function"?n.apply(this,arguments):n),f=(typeof r==="function"?r.apply(this,arguments):r)-c,d=Math.min(Math.abs(f)/u,+(typeof i==="function"?i.apply(this,arguments):i)),p=d*(f<0?-1:1),h=a.sum(l),m=h?(f-u*p)/h:0,g=a.range(u),y=[],v;if(t!=null)g.sort(t===No?function(e,t){return l[t]-l[e]}:function(e,n){return t(s[e],s[n])});g.forEach(function(e){y[e]={data:s[e],value:v=l[e],startAngle:c,endAngle:c+=v*m+p,padAngle:d}});return y}o.value=function(t){if(!arguments.length)return e;e=t;return o};o.sort=function(e){if(!arguments.length)return t;t=e;return o};o.startAngle=function(e){if(!arguments.length)return n;n=e;return o};o.endAngle=function(e){if(!arguments.length)return r;r=e;return o};o.padAngle=function(e){if(!arguments.length)return i;i=e;return o};return o};var No={};a.layout.stack=function(){var e=L,t=Po,n=_o,r=Co,i=Ao,o=Ro;function s(u,l){if(!(m=u.length))return u;var c=u.map(function(t,n){return e.call(s,t,n)});var f=c.map(function(e){return e.map(function(e,t){return[i.call(s,e,t),o.call(s,e,t)]})});var d=t.call(s,f,l);c=a.permute(c,d);f=a.permute(f,d);var p=n.call(s,f,l);var h=c[0].length,m,g,y,v;for(y=0;y<h;++y){r.call(s,c[0][y],v=p[y],f[0][y][1]);for(g=1;g<m;++g){r.call(s,c[g][y],v+=f[g-1][y][1],f[g][y][1])}}return u}s.values=function(t){if(!arguments.length)return e;e=t;return s};s.order=function(e){if(!arguments.length)return t;t=typeof e==="function"?e:Mo.get(e)||Po;return s};s.offset=function(e){if(!arguments.length)return n;n=typeof e==="function"?e:Do.get(e)||_o;return s};s.x=function(e){if(!arguments.length)return i;i=e;return s};s.y=function(e){if(!arguments.length)return o;o=e;return s};s.out=function(e){if(!arguments.length)return r;r=e;return s};return s};function Ao(e){return e.x}function Ro(e){return e.y}function Co(e,t,n){e.y0=t;e.y=n}var Mo=a.map({"inside-out":function(e){var t=e.length,n,r,i=e.map(Fo),o=e.map(Lo),s=a.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,l=0,c=[],f=[];for(n=0;n<t;++n){r=s[n];if(u<l){u+=o[r];c.push(r)}else{l+=o[r];f.push(r)}}return f.reverse().concat(c)},reverse:function(e){return a.range(e.length).reverse()},default:Po});var Do=a.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,a,o,s,u=[];for(o=0;o<n;++o){for(a=0,s=0;a<t;a++)s+=e[a][o][1];if(s>i)i=s;r.push(s)}for(o=0;o<n;++o){u[o]=(i-r[o])/2}return u},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,a,o,s,u,l,c,f,d,p=[];p[0]=f=d=0;for(a=1;a<r;++a){for(i=0,s=0;i<t;++i)s+=e[i][a][1];for(i=0,u=0,c=n[a][0]-n[a-1][0];i<t;++i){for(o=0,l=(e[i][a][1]-e[i][a-1][1])/(2*c);o<i;++o){l+=(e[o][a][1]-e[o][a-1][1])/c}u+=l*e[i][a][1]}p[a]=f-=s?u/s*c:0;if(f<d)d=f}for(a=0;a<r;++a)p[a]-=d;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,a,o,s=[];for(a=0;a<n;++a){for(i=0,o=0;i<t;i++)o+=e[i][a][1];if(o)for(i=0;i<t;i++)e[i][a][1]/=o;else for(i=0;i<t;i++)e[i][a][1]=r}for(a=0;a<n;++a)s[a]=0;return s},zero:_o});function Po(e){return a.range(e.length)}function _o(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Fo(e){var t=1,n=0,r=e[0][1],i,a=e.length;for(;t<a;++t){if((i=e[t][1])>r){n=t;r=i}}return n}function Lo(e){return e.reduce(ko,0)}function ko(e,t){return e+t[1]}a.layout.histogram=function(){var e=true,t=Number,n=jo,r=Ho;function i(i,o){var s=[],u=i.map(t,this),l=n.call(this,u,o),c=r.call(this,l,u,o),f,o=-1,d=u.length,p=c.length-1,h=e?1:1/d,m;while(++o<p){f=s[o]=[];f.dx=c[o+1]-(f.x=c[o]);f.y=0}if(p>0){o=-1;while(++o<d){m=u[o];if(m>=l[0]&&m<=l[1]){f=s[a.bisect(c,m,1,p)-1];f.y+=h;f.push(i[o])}}}return s}i.value=function(e){if(!arguments.length)return t;t=e;return i};i.range=function(e){if(!arguments.length)return n;n=It(e);return i};i.bins=function(e){if(!arguments.length)return r;r=typeof e==="number"?function(t){return Uo(t,e)}:It(e);return i};i.frequency=function(t){if(!arguments.length)return e;e=!!t;return i};return i};function Ho(e,t){return Uo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Uo(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];while(++n<=t)a[n]=i*n+r;return a}function jo(e){return[a.min(e),a.max(e)]}a.layout.pack=function(){var e=a.layout.hierarchy().sort(Wo),t=0,n=[1,1],r;function i(i,a){var o=e.call(this,i,a),s=o[0],u=n[0],l=n[1],c=r==null?Math.sqrt:typeof r==="function"?r:function(){return r};s.x=s.y=0;Eo(s,function(e){e.r=+c(e.value)});Eo(s,zo);if(t){var f=t*(r?1:Math.max(2*s.r/u,2*s.r/l))/2;Eo(s,function(e){e.r+=f});Eo(s,zo);Eo(s,function(e){e.r-=f})}Ko(s,u/2,l/2,r?1:1/Math.max(2*s.r/u,2*s.r/l));return o}i.size=function(e){if(!arguments.length)return n;n=e;return i};i.radius=function(e){if(!arguments.length)return r;r=e==null||typeof e==="function"?e:+e;return i};i.padding=function(e){if(!arguments.length)return t;t=+e;return i};return xo(i,e)};function Wo(e,t){return e.value-t.value}function Vo(e,t){var n=e._pack_next;e._pack_next=t;t._pack_prev=e;t._pack_next=n;n._pack_prev=t}function qo(e,t){e._pack_next=t;t._pack_prev=e}function Bo(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function zo(e){if(!(t=e.children)||!(d=t.length))return;var t,n=Infinity,r=-Infinity,i=Infinity,a=-Infinity,o,s,u,l,c,f,d;function p(e){n=Math.min(e.x-e.r,n);r=Math.max(e.x+e.r,r);i=Math.min(e.y-e.r,i);a=Math.max(e.y+e.r,a)}t.forEach(Go);o=t[0];o.x=-o.r;o.y=0;p(o);if(d>1){s=t[1];s.x=s.r;s.y=0;p(s);if(d>2){u=t[2];$o(o,s,u);p(u);Vo(o,u);o._pack_prev=u;Vo(u,s);s=o._pack_next;for(l=3;l<d;l++){$o(o,s,u=t[l]);var h=0,m=1,g=1;for(c=s._pack_next;c!==s;c=c._pack_next,m++){if(Bo(c,u)){h=1;break}}if(h==1){for(f=o._pack_prev;f!==c._pack_prev;f=f._pack_prev,g++){if(Bo(f,u)){break}}}if(h){if(m<g||m==g&&s.r<o.r)qo(o,s=c);else qo(o=f,s);l--}else{Vo(o,u);s=u;p(u)}}}}var y=(n+r)/2,v=(i+a)/2,b=0;for(l=0;l<d;l++){u=t[l];u.x-=y;u.y-=v;b=Math.max(b,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}e.r=b;t.forEach(Yo)}function Go(e){e._pack_next=e._pack_prev=e}function Yo(e){delete e._pack_next;delete e._pack_prev}function Ko(e,t,n,r){var i=e.children;e.x=t+=r*e.x;e.y=n+=r*e.y;e.r*=r;if(i){var a=-1,o=i.length;while(++a<o)Ko(i[a],t,n,r)}}function $o(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a;o*=o;r*=r;var u=.5+(r-o)/(2*s),l=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+u*i+l*a;n.y=e.y+u*a-l*i}else{n.x=e.x+r;n.y=e.y}}a.layout.tree=function(){var e=a.layout.hierarchy().sort(null).value(null),t=Qo,n=[1,1],r=null;function i(i,a){var l=e.call(this,i,a),f=l[0],d=o(f);Eo(d,s),d.parent.m=-d.z;To(d,u);if(r)To(f,c);else{var p=f,h=f,m=f;To(f,function(e){if(e.x<p.x)p=e;if(e.x>h.x)h=e;if(e.depth>m.depth)m=e});var g=t(p,h)/2-p.x,y=n[0]/(h.x+t(h,p)/2+g),v=n[1]/(m.depth||1);To(f,function(e){e.x=(e.x+g)*y;e.y=e.depth*v})}return l}function o(e){var t={A:null,children:[e]},n=[t],r;while((r=n.pop())!=null){for(var i=r.children,a,o=0,s=i.length;o<s;++o){n.push((i[o]=a={_:i[o],parent:r,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a)}}return t.children[0]}function s(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n.length){es(e);var a=(n[0].z+n[n.length-1].z)/2;if(i){e.z=i.z+t(e._,i._);e.m=e.z-a}else{e.z=a}}else if(i){e.z=i.z+t(e._,i._)}e.parent.A=l(e,i,e.parent.A||r[0])}function u(e){e._.x=e.z+e.parent.m;e.m+=e.parent.m}function l(e,n,r){if(n){var i=e,a=e,o=n,s=i.parent.children[0],u=i.m,l=a.m,c=o.m,f=s.m,d;while(o=Xo(o),i=Zo(i),o&&i){s=Zo(s);a=Xo(a);a.a=e;d=o.z+c-i.z-u+t(o._,i._);if(d>0){Jo(ts(o,e,r),e,d);u+=d;l+=d}c+=o.m;u+=i.m;f+=s.m;l+=a.m}if(o&&!Xo(a)){a.t=o;a.m+=c-l}if(i&&!Zo(s)){s.t=i;s.m+=u-f;r=e}}return r}function c(e){e.x*=n[0];e.y=e.depth*n[1]}i.separation=function(e){if(!arguments.length)return t;t=e;return i};i.size=function(e){if(!arguments.length)return r?null:n;r=(n=e)==null?c:null;return i};i.nodeSize=function(e){if(!arguments.length)return r?n:null;r=(n=e)==null?null:c;return i};return xo(i,e)};function Qo(e,t){return e.parent==t.parent?1:2}function Zo(e){var t=e.children;return t.length?t[0]:e.t}function Xo(e){var t=e.children,n;return(n=t.length)?t[n-1]:e.t}function Jo(e,t,n){var r=n/(t.i-e.i);t.c-=r;t.s+=n;e.c+=r;t.z+=n;t.m+=n}function es(e){var t=0,n=0,r=e.children,i=r.length,a;while(--i>=0){a=r[i];a.z+=t;a.m+=t;t+=a.s+(n+=a.c)}}function ts(e,t,n){return e.a.parent===t.parent?e.a:n}a.layout.cluster=function(){var e=a.layout.hierarchy().sort(null).value(null),t=Qo,n=[1,1],r=false;function i(i,a){var o=e.call(this,i,a),s=o[0],u,l=0;Eo(s,function(e){var n=e.children;if(n&&n.length){e.x=rs(n);e.y=ns(n)}else{e.x=u?l+=t(e,u):0;e.y=0;u=e}});var c=is(s),f=as(s),d=c.x-t(c,f)/2,p=f.x+t(f,c)/2;Eo(s,r?function(e){e.x=(e.x-s.x)*n[0];e.y=(s.y-e.y)*n[1]}:function(e){e.x=(e.x-d)/(p-d)*n[0];e.y=(1-(s.y?e.y/s.y:1))*n[1]});return o}i.separation=function(e){if(!arguments.length)return t;t=e;return i};i.size=function(e){if(!arguments.length)return r?null:n;r=(n=e)==null;return i};i.nodeSize=function(e){if(!arguments.length)return r?n:null;r=(n=e)!=null;return i};return xo(i,e)};function ns(e){return 1+a.max(e,function(e){return e.y})}function rs(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function is(e){var t=e.children;return t&&t.length?is(t[0]):e}function as(e){var t=e.children,n;return t&&(n=t.length)?as(t[n-1]):e}a.layout.treemap=function(){var e=a.layout.hierarchy(),t=Math.round,n=[1,1],r=null,i=os,o=false,s,u="squarify",l=.5*(1+Math.sqrt(5));function c(e,t){var n=-1,r=e.length,i,a;while(++n<r){a=(i=e[n]).value*(t<0?0:t);i.area=isNaN(a)||a<=0?0:a}}function f(e){var t=e.children;if(t&&t.length){var n=i(e),r=[],a=t.slice(),o,s=Infinity,l,d=u==="slice"?n.dx:u==="dice"?n.dy:u==="slice-dice"?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),m;c(a,n.dx*n.dy/e.value);r.area=0;while((m=a.length)>0){r.push(o=a[m-1]);r.area+=o.area;if(u!=="squarify"||(l=p(r,d))<=s){a.pop();s=l}else{r.area-=r.pop().area;h(r,d,n,false);d=Math.min(n.dx,n.dy);r.length=r.area=0;s=Infinity}}if(r.length){h(r,d,n,true);r.length=r.area=0}t.forEach(f)}}function d(e){var t=e.children;if(t&&t.length){var n=i(e),r=t.slice(),a,o=[];c(r,n.dx*n.dy/e.value);o.area=0;while(a=r.pop()){o.push(a);o.area+=a.area;if(a.z!=null){h(o,a.z?n.dx:n.dy,n,!r.length);o.length=o.area=0}}t.forEach(d)}}function p(e,t){var n=e.area,r,i=0,a=Infinity,o=-1,s=e.length;while(++o<s){if(!(r=e[o].area))continue;if(r<a)a=r;if(r>i)i=r}n*=n;t*=t;return n?Math.max(t*i*l/n,n/(t*a*l)):Infinity}function h(e,n,r,i){var a=-1,o=e.length,s=r.x,u=r.y,l=n?t(e.area/n):0,c;if(n==r.dx){if(i||l>r.dy)l=r.dy;while(++a<o){c=e[a];c.x=s;c.y=u;c.dy=l;s+=c.dx=Math.min(r.x+r.dx-s,l?t(c.area/l):0)}c.z=true;c.dx+=r.x+r.dx-s;r.y+=l;r.dy-=l}else{if(i||l>r.dx)l=r.dx;while(++a<o){c=e[a];c.x=s;c.y=u;c.dx=l;u+=c.dy=Math.min(r.y+r.dy-u,l?t(c.area/l):0)}c.z=false;c.dy+=r.y+r.dy-u;r.x+=l;r.dx-=l}}function m(t){var r=s||e(t),i=r[0];i.x=i.y=0;if(i.value)i.dx=n[0],i.dy=n[1];else i.dx=i.dy=0;if(s)e.revalue(i);c([i],i.dx*i.dy/i.value);(s?d:f)(i);if(o)s=r;return r}m.size=function(e){if(!arguments.length)return n;n=e;return m};m.padding=function(e){if(!arguments.length)return r;function t(t){var n=e.call(m,t,t.depth);return n==null?os(t):ss(t,typeof n==="number"?[n,n,n,n]:n)}function n(t){return ss(t,e)}var a;i=(r=e)==null?os:(a=typeof e)==="function"?t:a==="number"?(e=[e,e,e,e],n):n;return m};m.round=function(e){if(!arguments.length)return t!=Number;t=e?Math.round:Number;return m};m.sticky=function(e){if(!arguments.length)return o;o=e;s=null;return m};m.ratio=function(e){if(!arguments.length)return l;l=e;return m};m.mode=function(e){if(!arguments.length)return u;u=e+"";return m};return xo(m,e)};function os(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ss(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];if(i<0){n+=i/2;i=0}if(a<0){r+=a/2;a=0}return{x:n,y:r,dx:i,dy:a}}a.random={normal:function(e,t){var n=arguments.length;if(n<2)t=1;if(n<1)e=0;return function(){var n,r,i;do{n=Math.random()*2-1;r=Math.random()*2-1;i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=a.random.normal.apply(a,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=a.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}};a.scale={};function us(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ls(e){return e.rangeExtent?e.rangeExtent():us(e.range())}function cs(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function fs(e,t){var n=0,r=e.length-1,i=e[n],a=e[r],o;if(a<i){o=n,n=r,r=o;o=i,i=a,a=o}e[n]=t.floor(i);e[r]=t.ceil(a);return e}function ds(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:ps}var ps={floor:L,ceil:L};function hs(e,t,n,r){var i=[],o=[],s=0,u=Math.min(e.length,t.length)-1;if(e[u]<e[0]){e=e.slice().reverse();t=t.slice().reverse()}while(++s<=u){i.push(n(e[s-1],e[s]));o.push(r(t[s-1],t[s]))}return function(t){var n=a.bisect(e,t,1,u)-1;return o[n](i[n](t))}}a.scale.linear=function(){return ms([0,1],[0,1],Na,false)};function ms(e,t,n,r){var i,a;function o(){var o=Math.min(e.length,t.length)>2?hs:cs,u=r?so:oo;i=o(e,t,u,n);a=o(t,e,u,Na);return s}function s(e){return i(e)}s.invert=function(e){return a(e)};s.domain=function(t){if(!arguments.length)return e;e=t.map(Number);return o()};s.range=function(e){if(!arguments.length)return t;t=e;return o()};s.rangeRound=function(e){return s.range(e).interpolate(Ka)};s.clamp=function(e){if(!arguments.length)return r;r=e;return o()};s.interpolate=function(e){if(!arguments.length)return n;n=e;return o()};s.ticks=function(t){return bs(e,t)};s.tickFormat=function(t,n){return xs(e,t,n)};s.nice=function(t){ys(e,t);return o()};s.copy=function(){return ms(e,t,n,r)};return o()}function gs(e,t){return a.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ys(e,t){fs(e,ds(vs(e,t)[2]));fs(e,ds(vs(e,t)[2]));return e}function vs(e,t){if(t==null)t=10;var n=us(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;if(a<=.15)i*=10;else if(a<=.35)i*=5;else if(a<=.75)i*=2;n[0]=Math.ceil(n[0]/i)*i;n[1]=Math.floor(n[1]/i)*i+i*.5;n[2]=i;return n}function bs(e,t){return a.range.apply(a,vs(e,t))}function xs(e,t,n){var r=vs(e,t);if(n){var i=Bt.exec(n);i.shift();if(i[8]==="s"){var o=a.formatPrefix(Math.max(E(r[0]),E(r[1])));if(!i[7])i[7]="."+Es(o.scale(r[2]));i[8]="f";n=a.format(i.join(""));return function(e){return n(o.scale(e))+o.symbol}}if(!i[7])i[7]="."+Ss(i[8],r);n=i.join("")}else{n=",."+Es(r[2])+"f"}return a.format(n)}var Ts={s:1,g:1,p:1,r:1,e:1};function Es(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ss(e,t){var n=Es(t[2]);return e in Ts?Math.abs(n-Es(Math.max(E(t[0]),E(t[1]))))+ +(e!=="e"):n-(e==="%")*2}a.scale.log=function(){return ws(a.scale.linear().domain([0,1]),10,true,[1,10])};function ws(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(i(t))}s.invert=function(t){return o(e.invert(t))};s.domain=function(t){if(!arguments.length)return r;n=t[0]>=0;e.domain((r=t.map(Number)).map(i));return s};s.base=function(n){if(!arguments.length)return t;t=+n;e.domain(r.map(i));return s};s.nice=function(){var t=fs(r.map(i),n?Math:Is);e.domain(t);r=t.map(o);return s};s.ticks=function(){var e=us(r),a=[],s=e[0],u=e[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=t%1?2:t;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var d=1;d<f;d++)a.push(o(l)*d);a.push(o(l))}else{a.push(o(l));for(;l++<c;)for(var d=f-1;d>0;d--)a.push(o(l)*d)}for(l=0;a[l]<s;l++){}for(c=a.length;a[c-1]>u;c--){}a=a.slice(l,c)}return a};s.tickFormat=function(e,n){if(!arguments.length)return Os;if(arguments.length<2)n=Os;else if(typeof n!=="function")n=a.format(n);var r=Math.max(1,t*e/s.ticks().length);return function(e){var a=e/o(Math.round(i(e)));if(a*t<t-.5)a*=t;return a<=r?n(e):""}};s.copy=function(){return ws(e.copy(),t,n,r)};return gs(s,e)}var Os=a.format(".0e"),Is={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};a.scale.pow=function(){return Ns(a.scale.linear(),1,[0,1])};function Ns(e,t,n){var r=As(t),i=As(1/t);function a(t){return e(r(t))}a.invert=function(t){return i(e.invert(t))};a.domain=function(t){if(!arguments.length)return n;e.domain((n=t.map(Number)).map(r));return a};a.ticks=function(e){return bs(n,e)};a.tickFormat=function(e,t){return xs(n,e,t)};a.nice=function(e){return a.domain(ys(n,e))};a.exponent=function(o){if(!arguments.length)return t;r=As(t=o);i=As(1/t);e.domain(n.map(r));return a};a.copy=function(){return Ns(e.copy(),t,n)};return gs(a,e)}function As(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)};a.scale.ordinal=function(){return Rs([],{t:"range",a:[[]]})};function Rs(e,t){var n,r,i;function o(i){return r[((n.get(i)||(t.t==="range"?n.set(i,e.push(i)):NaN))-1)%r.length]}function s(t,n){return a.range(e.length).map(function(e){return t+n*e})}o.domain=function(r){if(!arguments.length)return e;e=[];n=new O;var i=-1,a=r.length,s;while(++i<a)if(!n.has(s=r[i]))n.set(s,e.push(s));return o[t.t].apply(o,t.a)};o.range=function(e){if(!arguments.length)return r;r=e;i=0;t={t:"range",a:arguments};return o};o.rangePoints=function(n,a){if(arguments.length<2)a=0;var u=n[0],l=n[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+a);r=s(u+c*a/2,c);i=0;t={t:"rangePoints",a:arguments};return o};o.rangeRoundPoints=function(n,a){if(arguments.length<2)a=0;var u=n[0],l=n[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+a)|0;r=s(u+Math.round(c*a/2+(l-u-(e.length-1+a)*c)/2),c);i=0;t={t:"rangeRoundPoints",a:arguments};return o};o.rangeBands=function(n,a,u){if(arguments.length<2)a=0;if(arguments.length<3)u=a;var l=n[1]<n[0],c=n[l-0],f=n[1-l],d=(f-c)/(e.length-a+2*u);r=s(c+d*u,d);if(l)r.reverse();i=d*(1-a);t={t:"rangeBands",a:arguments};return o};o.rangeRoundBands=function(n,a,u){if(arguments.length<2)a=0;if(arguments.length<3)u=a;var l=n[1]<n[0],c=n[l-0],f=n[1-l],d=Math.floor((f-c)/(e.length-a+2*u));r=s(c+Math.round((f-c-(e.length-a)*d)/2),d);if(l)r.reverse();i=Math.round(d*(1-a));t={t:"rangeRoundBands",a:arguments};return o};o.rangeBand=function(){return i};o.rangeExtent=function(){return us(t.a[0])};o.copy=function(){return Rs(e,t)};return o.domain(e)}a.scale.category10=function(){return a.scale.ordinal().range(Cs)};a.scale.category20=function(){return a.scale.ordinal().range(Ms)};a.scale.category20b=function(){return a.scale.ordinal().range(Ds)};a.scale.category20c=function(){return a.scale.ordinal().range(Ps)};var Cs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt);var Ms=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt);var Ds=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt);var Ps=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);a.scale.quantile=function(){return _s([],[])};function _s(e,t){var n;function r(){var r=0,o=t.length;n=[];while(++r<o)n[r-1]=a.quantile(e,r/o);return i}function i(e){if(!isNaN(e=+e))return t[a.bisect(n,e)]}i.domain=function(t){if(!arguments.length)return e;e=t.map(y).filter(v).sort(g);return r()};i.range=function(e){if(!arguments.length)return t;t=e;return r()};i.quantiles=function(){return n};i.invertExtent=function(r){r=t.indexOf(r);return r<0?[NaN,NaN]:[r>0?n[r-1]:e[0],r<n.length?n[r]:e[e.length-1]]};i.copy=function(){return _s(e,t)};return r()}a.scale.quantize=function(){return Fs(0,1,[0,1])};function Fs(e,t,n){var r,i;function a(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){r=n.length/(t-e);i=n.length-1;return a}a.domain=function(n){if(!arguments.length)return[e,t];
e=+n[0];t=+n[n.length-1];return o()};a.range=function(e){if(!arguments.length)return n;n=e;return o()};a.invertExtent=function(t){t=n.indexOf(t);t=t<0?NaN:t/r+e;return[t,t+1/r]};a.copy=function(){return Fs(e,t,n)};return o()}a.scale.threshold=function(){return Ls([.5],[0,1])};function Ls(e,t){function n(n){if(n<=n)return t[a.bisect(e,n)]}n.domain=function(t){if(!arguments.length)return e;e=t;return n};n.range=function(e){if(!arguments.length)return t;t=e;return n};n.invertExtent=function(n){n=t.indexOf(n);return[e[n-1],e[n]]};n.copy=function(){return Ls(e,t)};return n}a.scale.identity=function(){return ks([0,1])};function ks(e){function t(e){return+e}t.invert=t;t.domain=t.range=function(n){if(!arguments.length)return e;e=n.map(t);return t};t.ticks=function(t){return bs(e,t)};t.tickFormat=function(t,n){return xs(e,t,n)};t.copy=function(){return ks(e)};return t}a.svg={};function Hs(){return 0}a.svg.arc=function(){var e=js,t=Ws,n=Hs,r=Us,i=Vs,a=qs,o=Bs;function s(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-_e,f=a.apply(this,arguments)-_e,d=Math.abs(f-c),p=c>f?0:1;if(l<s)h=l,l=s,s=h;if(d>=Pe)return u(l,p)+(s?u(s,1-p):"")+"Z";var h,m,g,y,v=0,b=0,x,T,E,S,w,O,I,N,A=[];if(y=(+o.apply(this,arguments)||0)/2){g=r===Us?Math.sqrt(s*s+l*l):+r.apply(this,arguments);if(!p)b*=-1;if(l)b=je(g/l*Math.sin(y));if(s)v=je(g/s*Math.sin(y))}if(l){x=l*Math.cos(c+b);T=l*Math.sin(c+b);E=l*Math.cos(f-b);S=l*Math.sin(f-b);var R=Math.abs(f-c-2*b)<=Me?0:1;if(b&&zs(x,T,E,S)===p^R){var C=(c+f)/2;x=l*Math.cos(C);T=l*Math.sin(C);E=S=null}}else{x=T=0}if(s){w=s*Math.cos(f-v);O=s*Math.sin(f-v);I=s*Math.cos(c+v);N=s*Math.sin(c+v);var M=Math.abs(c-f+2*v)<=Me?0:1;if(v&&zs(w,O,I,N)===1-p^M){var D=(c+f)/2;w=s*Math.cos(D);O=s*Math.sin(D);I=N=null}}else{w=O=0}if(d>Re&&(h=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){m=s<l^p?0:1;var P=h,_=h;if(d<Me){var F=I==null?[w,O]:E==null?[x,T]:Di([x,T],[I,N],[E,S],[w,O]),L=x-F[0],k=T-F[1],H=E-F[0],U=S-F[1],j=1/Math.sin(Math.acos((L*H+k*U)/(Math.sqrt(L*L+k*k)*Math.sqrt(H*H+U*U)))/2),W=Math.sqrt(F[0]*F[0]+F[1]*F[1]);_=Math.min(h,(s-W)/(j-1));P=Math.min(h,(l-W)/(j+1))}if(E!=null){var V=Gs(I==null?[w,O]:[I,N],[x,T],l,P,p),q=Gs([E,S],[w,O],l,P,p);if(h===P){A.push("M",V[0],"A",P,",",P," 0 0,",m," ",V[1],"A",l,",",l," 0 ",1-p^zs(V[1][0],V[1][1],q[1][0],q[1][1]),",",p," ",q[1],"A",P,",",P," 0 0,",m," ",q[0])}else{A.push("M",V[0],"A",P,",",P," 0 1,",m," ",q[0])}}else{A.push("M",x,",",T)}if(I!=null){var B=Gs([x,T],[I,N],s,-_,p),z=Gs([w,O],E==null?[x,T]:[E,S],s,-_,p);if(h===_){A.push("L",z[0],"A",_,",",_," 0 0,",m," ",z[1],"A",s,",",s," 0 ",p^zs(z[1][0],z[1][1],B[1][0],B[1][1]),",",1-p," ",B[1],"A",_,",",_," 0 0,",m," ",B[0])}else{A.push("L",z[0],"A",_,",",_," 0 0,",m," ",B[0])}}else{A.push("L",w,",",O)}}else{A.push("M",x,",",T);if(E!=null)A.push("A",l,",",l," 0 ",R,",",p," ",E,",",S);A.push("L",w,",",O);if(I!=null)A.push("A",s,",",s," 0 ",M,",",1-p," ",I,",",N)}A.push("Z");return A.join("")}function u(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}s.innerRadius=function(t){if(!arguments.length)return e;e=It(t);return s};s.outerRadius=function(e){if(!arguments.length)return t;t=It(e);return s};s.cornerRadius=function(e){if(!arguments.length)return n;n=It(e);return s};s.padRadius=function(e){if(!arguments.length)return r;r=e==Us?Us:It(e);return s};s.startAngle=function(e){if(!arguments.length)return i;i=It(e);return s};s.endAngle=function(e){if(!arguments.length)return a;a=It(e);return s};s.padAngle=function(e){if(!arguments.length)return o;o=It(e);return s};s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-_e;return[Math.cos(r)*n,Math.sin(r)*n]};return s};var Us="auto";function js(e){return e.innerRadius}function Ws(e){return e.outerRadius}function Vs(e){return e.startAngle}function qs(e){return e.endAngle}function Bs(e){return e&&e.padAngle}function zs(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Gs(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=e[0]+u,f=e[1]+l,d=t[0]+u,p=t[1]+l,h=(c+d)/2,m=(f+p)/2,g=d-c,y=p-f,v=g*g+y*y,b=n-r,x=c*p-d*f,T=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*v-x*x)),E=(x*y-g*T)/v,S=(-x*g-y*T)/v,w=(x*y+g*T)/v,O=(-x*g+y*T)/v,I=E-h,N=S-m,A=w-h,R=O-m;if(I*I+N*N>A*A+R*R)E=w,S=O;return[[E-u,S-l],[E*n/b,S*n/b]]}function Ys(e){var t=Ii,n=Ni,r=lr,i=$s,a=i.key,o=.7;function s(a){var s=[],u=[],l=-1,c=a.length,f,d=It(t),p=It(n);function h(){s.push("M",i(e(u),o))}while(++l<c){if(r.call(this,f=a[l],l)){u.push([+d.call(this,f,l),+p.call(this,f,l)])}else if(u.length){h();u=[]}}if(u.length)h();return s.length?s.join(""):null}s.x=function(e){if(!arguments.length)return t;t=e;return s};s.y=function(e){if(!arguments.length)return n;n=e;return s};s.defined=function(e){if(!arguments.length)return r;r=e;return s};s.interpolate=function(e){if(!arguments.length)return a;if(typeof e==="function")a=i=e;else a=(i=Ks.get(e)||$s).key;return s};s.tension=function(e){if(!arguments.length)return o;o=e;return s};return s}a.svg.line=function(){return Ys(L)};var Ks=a.map({linear:$s,"linear-closed":Qs,step:Zs,"step-before":Xs,"step-after":Js,basis:au,"basis-open":ou,"basis-closed":su,bundle:uu,cardinal:nu,"cardinal-open":eu,"cardinal-closed":tu,monotone:yu});Ks.forEach(function(e,t){t.key=e;t.closed=/-closed$/.test(e)});function $s(e){return e.length>1?e.join("L"):e+"Z"}function Qs(e){return e.join("L")+"Z"}function Zs(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);if(n>1)i.push("H",r[0]);return i.join("")}function Xs(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Js(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function eu(e,t){return e.length<4?$s(e):e[1]+ru(e.slice(1,-1),iu(e,t))}function tu(e,t){return e.length<3?Qs(e):e[0]+ru((e.push(e[0]),e),iu([e[e.length-2]].concat(e,[e[1]]),t))}function nu(e,t){return e.length<3?$s(e):e[0]+ru(e,iu(e,t))}function ru(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2){return $s(e)}var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,u=1;if(n){r+="Q"+(a[0]-o[0]*2/3)+","+(a[1]-o[1]*2/3)+","+a[0]+","+a[1];i=e[1];u=2}if(t.length>1){s=t[1];a=e[u];u++;r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<t.length;l++,u++){a=e[u];s=t[l];r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}}if(n){var c=e[u];r+="Q"+(a[0]+s[0]*2/3)+","+(a[1]+s[1]*2/3)+","+c[0]+","+c[1]}return r}function iu(e,t){var n=[],r=(1-t)/2,i,a=e[0],o=e[1],s=1,u=e.length;while(++s<u){i=a;a=o;o=e[s];n.push([r*(o[0]-i[0]),r*(o[1]-i[1])])}return n}function au(e){if(e.length<3)return $s(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",lu(du,o),",",lu(du,s)];e.push(e[n-1]);while(++t<=n){r=e[t];o.shift();o.push(r[0]);s.shift();s.push(r[1]);pu(u,o,s)}e.pop();u.push("L",r);return u.join("")}function ou(e){if(e.length<4)return $s(e);var t=[],n=-1,r=e.length,i,a=[0],o=[0];while(++n<3){i=e[n];a.push(i[0]);o.push(i[1])}t.push(lu(du,a)+","+lu(du,o));--n;while(++n<r){i=e[n];a.shift();a.push(i[0]);o.shift();o.push(i[1]);pu(t,a,o)}return t.join("")}function su(e){var t,n=-1,r=e.length,i=r+4,a,o=[],s=[];while(++n<4){a=e[n%r];o.push(a[0]);s.push(a[1])}t=[lu(du,o),",",lu(du,s)];--n;while(++n<i){a=e[n%r];o.shift();o.push(a[0]);s.shift();s.push(a[1]);pu(t,o,s)}return t.join("")}function uu(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],a=e[n][0]-r,o=e[n][1]-i,s=-1,u,l;while(++s<=n){u=e[s];l=s/n;u[0]=t*u[0]+(1-t)*(r+l*a);u[1]=t*u[1]+(1-t)*(i+l*o)}}return au(e)}function lu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}var cu=[0,2/3,1/3,0],fu=[0,1/3,2/3,0],du=[0,1/6,2/3,1/6];function pu(e,t,n){e.push("C",lu(cu,t),",",lu(cu,n),",",lu(fu,t),",",lu(fu,n),",",lu(du,t),",",lu(du,n))}function hu(e,t){return(t[1]-e[1])/(t[0]-e[0])}function mu(e){var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=hu(i,a);while(++t<n){r[t]=(o+(o=hu(i=a,a=e[t+1])))/2}r[t]=o;return r}function gu(e){var t=[],n,r,i,a,o=mu(e),s=-1,u=e.length-1;while(++s<u){n=hu(e[s],e[s+1]);if(E(n)<Re){o[s]=o[s+1]=0}else{r=o[s]/n;i=o[s+1]/n;a=r*r+i*i;if(a>9){a=n*3/Math.sqrt(a);o[s]=a*r;o[s+1]=a*i}}}s=-1;while(++s<=u){a=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s]));t.push([a||0,o[s]*a||0])}return t}function yu(e){return e.length<3?$s(e):e[0]+ru(e,gu(e))}a.svg.line.radial=function(){var e=Ys(vu);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function vu(e){var t,n=-1,r=e.length,i,a;while(++n<r){t=e[n];i=t[0];a=t[1]-_e;t[0]=i*Math.cos(a);t[1]=i*Math.sin(a)}return e}function bu(e){var t=Ii,n=Ii,r=0,i=Ni,a=lr,o=$s,s=o.key,u=o,l="L",c=.7;function f(s){var f=[],d=[],p=[],h=-1,m=s.length,g,y=It(t),v=It(r),b=t===n?function(){return T}:It(n),x=r===i?function(){return E}:It(i),T,E;function S(){f.push("M",o(e(p),c),l,u(e(d.reverse()),c),"Z")}while(++h<m){if(a.call(this,g=s[h],h)){d.push([T=+y.call(this,g,h),E=+v.call(this,g,h)]);p.push([+b.call(this,g,h),+x.call(this,g,h)])}else if(d.length){S();d=[];p=[]}}if(d.length)S();return f.length?f.join(""):null}f.x=function(e){if(!arguments.length)return n;t=n=e;return f};f.x0=function(e){if(!arguments.length)return t;t=e;return f};f.x1=function(e){if(!arguments.length)return n;n=e;return f};f.y=function(e){if(!arguments.length)return i;r=i=e;return f};f.y0=function(e){if(!arguments.length)return r;r=e;return f};f.y1=function(e){if(!arguments.length)return i;i=e;return f};f.defined=function(e){if(!arguments.length)return a;a=e;return f};f.interpolate=function(e){if(!arguments.length)return s;if(typeof e==="function")s=o=e;else s=(o=Ks.get(e)||$s).key;u=o.reverse||o;l=o.closed?"M":"L";return f};f.tension=function(e){if(!arguments.length)return c;c=e;return f};return f}Xs.reverse=Js;Js.reverse=Xs;a.svg.area=function(){return bu(L)};a.svg.area.radial=function(){var e=bu(vu);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};a.svg.chord=function(){var e=li,t=ci,n=xu,r=Vs,i=qs;function a(n,r){var i=o(this,e,n,r),a=o(this,t,n,r);return"M"+i.p0+u(i.r,i.p1,i.a1-i.a0)+(s(i,a)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,a.r,a.p0)+u(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,i.r,i.p0))+"Z"}function o(e,t,a,o){var s=t.call(e,a,o),u=n.call(e,s,o),l=r.call(e,s,o)-_e,c=i.call(e,s,o)-_e;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(e,t){return e.a0==t.a0&&e.a1==t.a1}function u(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Me)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}a.radius=function(e){if(!arguments.length)return n;n=It(e);return a};a.source=function(t){if(!arguments.length)return e;e=It(t);return a};a.target=function(e){if(!arguments.length)return t;t=It(e);return a};a.startAngle=function(e){if(!arguments.length)return r;r=It(e);return a};a.endAngle=function(e){if(!arguments.length)return i;i=It(e);return a};return a};function xu(e){return e.radius}a.svg.diagonal=function(){var e=li,t=ci,n=Tu;function r(r,i){var a=e.call(this,r,i),o=t.call(this,r,i),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];u=u.map(n);return"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}r.source=function(t){if(!arguments.length)return e;e=It(t);return r};r.target=function(e){if(!arguments.length)return t;t=It(e);return r};r.projection=function(e){if(!arguments.length)return n;n=e;return r};return r};function Tu(e){return[e.x,e.y]}a.svg.diagonal.radial=function(){var e=a.svg.diagonal(),t=Tu,n=e.projection;e.projection=function(e){return arguments.length?n(Eu(t=e)):t};return e};function Eu(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-_e;return[n*Math.cos(r),n*Math.sin(r)]}}a.svg.symbol=function(){var e=wu,t=Su;function n(n,r){return(Iu.get(e.call(this,n,r))||Ou)(t.call(this,n,r))}n.type=function(t){if(!arguments.length)return e;e=It(t);return n};n.size=function(e){if(!arguments.length)return t;t=It(e);return n};return n};function Su(){return 64}function wu(){return"circle"}function Ou(e){var t=Math.sqrt(e/Me);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}var Iu=a.map({circle:Ou,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Au)),n=t*Au;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Nu),n=t*Nu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Nu),n=t*Nu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});a.svg.symbolTypes=Iu.keys();var Nu=Math.sqrt(3),Au=Math.tan(30*Fe);X.transition=function(e){var t=_u||++Pu,n=Hu(e),r=[],i,a,o=Fu||{time:Date.now(),ease:ka,delay:0,duration:250};for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var l=this[s],c=-1,f=l.length;++c<f;){if(a=l[c])Uu(a,c,n,t,o);i.push(a)}}return Mu(r,n,t)};X.interrupt=function(e){return this.each(e==null?Ru:Cu(Hu(e)))};var Ru=Cu(Hu());function Cu(e){return function(){var t,n,r;if((t=this[e])&&(r=t[n=t.active])){r.timer.c=null;r.timer.t=NaN;if(--t.count)delete t[n];else delete this[e];t.active+=.5;r.event&&r.event.interrupt.call(this,this.__data__,r.index)}}}function Mu(e,t,n){Y(e,Du);e.namespace=t;e.id=n;return e}var Du=[],Pu=0,_u,Fu;Du.call=X.call;Du.empty=X.empty;Du.node=X.node;Du.size=X.size;a.transition=function(e,t){return e&&e.transition?_u?e.transition(t):e:a.selection().transition(e)};a.transition.prototype=Du;Du.select=function(e){var t=this.id,n=this.namespace,r=[],i,a,o;e=J(e);for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var l=this[s],c=-1,f=l.length;++c<f;){if((o=l[c])&&(a=e.call(o,o.__data__,c,s))){if("__data__"in o)a.__data__=o.__data__;Uu(a,c,n,t,o[n][t]);i.push(a)}else{i.push(null)}}}return Mu(r,n,t)};Du.selectAll=function(e){var t=this.id,n=this.namespace,r=[],i,a,o,s,u;e=ee(e);for(var l=-1,c=this.length;++l<c;){for(var f=this[l],d=-1,p=f.length;++d<p;){if(o=f[d]){u=o[n][t];a=e.call(o,o.__data__,d,l);r.push(i=[]);for(var h=-1,m=a.length;++h<m;){if(s=a[h])Uu(s,h,n,t,u);i.push(s)}}}}return Mu(r,n,t)};Du.filter=function(e){var t=[],n,r,i;if(typeof e!=="function")e=pe(e);for(var a=0,o=this.length;a<o;a++){t.push(n=[]);for(var r=this[a],s=0,u=r.length;s<u;s++){if((i=r[s])&&e.call(i,i.__data__,s,a)){n.push(i)}}}return Mu(t,this.namespace,this.id)};Du.tween=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2)return this.node()[r][n].tween.get(e);return me(this,t==null?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})};function Lu(e,t,n,r){var i=e.id,a=e.namespace;return me(e,typeof n==="function"?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}Du.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n=e=="transform"?ao:Na,r=a.ns.qualify(e);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function s(e){return e==null?i:(e+="",function(){var t=this.getAttribute(r),i;return t!==e&&(i=n(t,e),function(e){this.setAttribute(r,i(e))})})}function u(e){return e==null?o:(e+="",function(){var t=this.getAttributeNS(r.space,r.local),i;return t!==e&&(i=n(t,e),function(e){this.setAttributeNS(r.space,r.local,i(e))})})}return Lu(this,"attr."+e,t,r.local?u:s)};Du.attrTween=function(e,t){var n=a.ns.qualify(e);function r(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}}function i(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}return this.tween("attr."+e,n.local?i:r)};Du.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t="";for(n in e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}function a(t){return t==null?i:(t+="",function(){var r=c(this).getComputedStyle(this,null).getPropertyValue(e),i;return r!==t&&(i=Na(r,t),function(t){this.style.setProperty(e,i(t),n)})})}return Lu(this,"style."+e,t,a)};Du.styleTween=function(e,t,n){if(arguments.length<3)n="";function r(r,i){var a=t.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return this.tween("style."+e,r)};Du.text=function(e){return Lu(this,"text",e,ku)};function ku(e){if(e==null)e="";return function(){this.textContent=e}}Du.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;if(this[e].count<2&&(t=this.parentNode))t.removeChild(this)})};Du.ease=function(e){var t=this.id,n=this.namespace;if(arguments.length<1)return this.node()[n][t].ease;if(typeof e!=="function")e=a.ease.apply(a,arguments);return me(this,function(r){r[n][t].ease=e})};Du.delay=function(e){var t=this.id,n=this.namespace;if(arguments.length<1)return this.node()[n][t].delay;return me(this,typeof e==="function"?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))};Du.duration=function(e){var t=this.id,n=this.namespace;if(arguments.length<1)return this.node()[n][t].duration;return me(this,typeof e==="function"?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))};Du.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Fu,o=_u;try{_u=n;me(this,function(t,i,a){Fu=t[r][n];e.call(t,t.__data__,i,a)})}finally{Fu=i;_u=o}}else{me(this,function(i){var o=i[r][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(e,t)})}return this};Du.transition=function(){var e=this.id,t=++Pu,n=this.namespace,r=[],i,a,o,s;for(var u=0,l=this.length;u<l;u++){r.push(i=[]);for(var a=this[u],c=0,f=a.length;c<f;c++){if(o=a[c]){s=o[n][e];Uu(o,c,n,t,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})}i.push(o)}}return Mu(r,n,t)};function Hu(e){return e==null?"__transition__":"__transition_"+e+"__"}function Uu(e,t,n,r,i){var a=e[n]||(e[n]={active:0,count:0}),o=a[r],s,u,l,c,f;function d(e){var t=o.delay;u.t=t+s;if(t<=e)return p(e-t);u.c=p}function p(n){var i=a.active,d=a[i];if(d){d.timer.c=null;d.timer.t=NaN;--a.count;delete a[i];d.event&&d.event.interrupt.call(e,e.__data__,d.index)}for(var p in a){if(+p<r){var m=a[p];m.timer.c=null;m.timer.t=NaN;--a.count;delete a[p]}}u.c=h;Lt(function(){if(u.c&&h(n||1)){u.c=null;u.t=NaN}return 1},0,s);a.active=r;o.event&&o.event.start.call(e,e.__data__,t);f=[];o.tween.forEach(function(n,r){if(r=r.call(e,e.__data__,t)){f.push(r)}});c=o.ease;l=o.duration}function h(i){var s=i/l,u=c(s),d=f.length;while(d>0){f[--d].call(e,u)}if(s>=1){o.event&&o.event.end.call(e,e.__data__,t);if(--a.count)delete a[r];else delete e[n];return 1}}if(!o){s=i.time;u=Lt(d,0,s);o=a[r]={tween:new O,time:s,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:t};i=null;++a.count}}a.svg.axis=function(){var e=a.scale.linear(),t=ju,n=6,r=6,i=3,o=[10],u=null,l;function c(s){s.each(function(){var s=a.select(this);var c=this.__chart__||e,f=this.__chart__=e.copy();var d=u==null?f.ticks?f.ticks.apply(f,o):f.domain():u,p=l==null?f.tickFormat?f.tickFormat.apply(f,o):L:l,h=s.selectAll(".tick").data(d,f),m=h.enter().insert("g",".domain").attr("class","tick").style("opacity",Re),g=a.transition(h.exit()).style("opacity",Re).remove(),y=a.transition(h.order()).style("opacity",1),v=Math.max(n,0)+i,b;var x=ls(f),T=s.selectAll(".domain").data([0]),E=(T.enter().append("path").attr("class","domain"),a.transition(T));m.append("line");m.append("text");var S=m.select("line"),w=y.select("line"),O=h.select("text").text(p),I=m.select("text"),N=y.select("text"),A=t==="top"||t==="left"?-1:1,R,C,M,D;if(t==="bottom"||t==="top"){b=Vu,R="x",M="y",C="x2",D="y2";O.attr("dy",A<0?"0em":".71em").style("text-anchor","middle");E.attr("d","M"+x[0]+","+A*r+"V0H"+x[1]+"V"+A*r)}else{b=qu,R="y",M="x",C="y2",D="x2";O.attr("dy",".32em").style("text-anchor",A<0?"end":"start");E.attr("d","M"+A*r+","+x[0]+"H0V"+x[1]+"H"+A*r)}S.attr(D,A*n);I.attr(M,A*v);w.attr(C,0).attr(D,A*n);N.attr(R,0).attr(M,A*v);if(f.rangeBand){var P=f,_=P.rangeBand()/2;c=f=function(e){return P(e)+_}}else if(c.rangeBand){c=f}else{g.call(b,f,c)}m.call(b,c,f);y.call(b,f,f)})}c.scale=function(t){if(!arguments.length)return e;e=t;return c};c.orient=function(e){if(!arguments.length)return t;t=e in Wu?e+"":ju;return c};c.ticks=function(){if(!arguments.length)return o;o=s(arguments);return c};c.tickValues=function(e){if(!arguments.length)return u;u=e;return c};c.tickFormat=function(e){if(!arguments.length)return l;l=e;return c};c.tickSize=function(e){var t=arguments.length;if(!t)return n;n=+e;r=+arguments[t-1];return c};c.innerTickSize=function(e){if(!arguments.length)return n;n=+e;return c};c.outerTickSize=function(e){if(!arguments.length)return r;r=+e;return c};c.tickPadding=function(e){if(!arguments.length)return i;i=+e;return c};c.tickSubdivide=function(){return arguments.length&&c};return c};var ju="bottom",Wu={top:1,right:1,bottom:1,left:1};function Vu(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function qu(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}a.svg.brush=function(){var e=z(d,"brushstart","brush","brushend"),t=null,n=null,r=[0,0],i=[0,0],o,s,u=true,l=true,f=zu[0];function d(e){e.each(function(){var e=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g);var r=e.selectAll(".background").data([0]);r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var i=e.selectAll(".resize").data(f,L);i.exit().remove();i.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Bu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");i.style("display",d.empty()?"none":null);var o=a.transition(e),s=a.transition(r),u;if(t){u=ls(t);s.attr("x",u[0]).attr("width",u[1]-u[0]);h(o)}if(n){u=ls(n);s.attr("y",u[0]).attr("height",u[1]-u[0]);m(o)}p(o)})}d.event=function(t){t.each(function(){var t=e.of(this,arguments),n={x:r,y:i,i:o,j:s},u=this.__chart__||n;this.__chart__=n;if(_u){a.select(this).transition().each("start.brush",function(){o=u.i;s=u.j;r=u.x;i=u.y;t({type:"brushstart"})}).tween("brush:brush",function(){var e=Aa(r,n.x),a=Aa(i,n.y);o=s=null;return function(o){r=n.x=e(o);i=n.y=a(o);t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=n.i;s=n.j;t({type:"brush",mode:"resize"});t({type:"brushend"})})}else{t({type:"brushstart"});t({type:"brush",mode:"resize"});t({type:"brushend"})}})};function p(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+r[+/e$/.test(e)]+","+i[+/^s/.test(e)]+")"})}function h(e){e.select(".extent").attr("x",r[0]);e.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function m(e){e.select(".extent").attr("y",i[0]);e.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function g(){var f=this,g=a.select(a.event.target),y=e.of(f,arguments),v=a.select(f),b=g.datum(),x=!/^(n|s)$/.test(b)&&t,T=!/^(e|w)$/.test(b)&&n,E=g.classed("extent"),S=Oe(f),w,O=a.mouse(f),I;var N=a.select(c(f)).on("keydown.brush",C).on("keyup.brush",M);if(a.event.changedTouches){N.on("touchmove.brush",D).on("touchend.brush",_)}else{N.on("mousemove.brush",D).on("mouseup.brush",_)}v.interrupt().selectAll("*").interrupt();if(E){O[0]=r[0]-O[0];O[1]=i[0]-O[1]}else if(b){var A=+/w$/.test(b),R=+/^n/.test(b);I=[r[1-A]-O[0],i[1-R]-O[1]];O[0]=r[A];O[1]=i[R]}else if(a.event.altKey)w=O.slice();v.style("pointer-events","none").selectAll(".resize").style("display",null);a.select("body").style("cursor",g.style("cursor"));y({type:"brushstart"});D();function C(){if(a.event.keyCode==32){if(!E){w=null;O[0]-=r[1];O[1]-=i[1];E=2}q()}}function M(){if(a.event.keyCode==32&&E==2){O[0]+=r[1];O[1]+=i[1];E=0;q()}}function D(){var e=a.mouse(f),o=false;if(I){e[0]+=I[0];e[1]+=I[1]}if(!E){if(a.event.altKey){if(!w)w=[(r[0]+r[1])/2,(i[0]+i[1])/2];O[0]=r[+(e[0]<w[0])];O[1]=i[+(e[1]<w[1])]}else w=null}if(x&&P(e,t,0)){h(v);o=true}if(T&&P(e,n,1)){m(v);o=true}if(o){p(v);y({type:"brush",mode:E?"move":"resize"})}}function P(e,t,n){var a=ls(t),c=a[0],f=a[1],d=O[n],p=n?i:r,h=p[1]-p[0],m,g;if(E){c-=d;f-=h+d}m=(n?l:u)?Math.max(c,Math.min(f,e[n])):e[n];if(E){g=(m+=d)+h}else{if(w)d=Math.max(c,Math.min(f,2*w[n]-m));if(d<m){g=m;m=d}else{g=d}}if(p[0]!=m||p[1]!=g){if(n)s=null;else o=null;p[0]=m;p[1]=g;return true}}function _(){D();v.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null);a.select("body").style("cursor",null);N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);S();y({type:"brushend"})}}d.x=function(e){if(!arguments.length)return t;t=e;f=zu[!t<<1|!n];return d};d.y=function(e){if(!arguments.length)return n;n=e;f=zu[!t<<1|!n];return d};d.clamp=function(e){if(!arguments.length)return t&&n?[u,l]:t?u:n?l:null;if(t&&n)u=!!e[0],l=!!e[1];else if(t)u=!!e;else if(n)l=!!e;return d};d.extent=function(e){var a,u,l,c,f;if(!arguments.length){if(t){if(o){a=o[0],u=o[1]}else{a=r[0],u=r[1];if(t.invert)a=t.invert(a),u=t.invert(u);if(u<a)f=a,a=u,u=f}}if(n){if(s){l=s[0],c=s[1]}else{l=i[0],c=i[1];if(n.invert)l=n.invert(l),c=n.invert(c);if(c<l)f=l,l=c,c=f}}return t&&n?[[a,l],[u,c]]:t?[a,u]:n&&[l,c]}if(t){a=e[0],u=e[1];if(n)a=a[0],u=u[0];o=[a,u];if(t.invert)a=t(a),u=t(u);if(u<a)f=a,a=u,u=f;if(a!=r[0]||u!=r[1])r=[a,u]}if(n){l=e[0],c=e[1];if(t)l=l[1],c=c[1];s=[l,c];if(n.invert)l=n(l),c=n(c);if(c<l)f=l,l=c,c=f;if(l!=i[0]||c!=i[1])i=[l,c]}return d};d.clear=function(){if(!d.empty()){r=[0,0],i=[0,0];o=s=null}return d};d.empty=function(){return!!t&&r[0]==r[1]||!!n&&i[0]==i[1]};return a.rebind(d,e,"on")};var Bu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var zu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var Gu=Yt.format=wn.timeFormat;var Yu=Gu.utc;var Ku=Yu("%Y-%m-%dT%H:%M:%S.%LZ");Gu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?$u:Ku;function $u(e){return e.toISOString()}$u.parse=function(e){var t=new Date(e);return isNaN(t)?null:t};$u.toString=Ku.toString;Yt.second=Zt(function(e){return new Kt(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()});Yt.seconds=Yt.second.range;Yt.seconds.utc=Yt.second.utc.range;Yt.minute=Zt(function(e){return new Kt(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()});Yt.minutes=Yt.minute.range;Yt.minutes.utc=Yt.minute.utc.range;Yt.hour=Zt(function(e){var t=e.getTimezoneOffset()/60;return new Kt((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()});Yt.hours=Yt.hour.range;Yt.hours.utc=Yt.hour.utc.range;Yt.month=Zt(function(e){e=Yt.day(e);e.setDate(1);return e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()});Yt.months=Yt.month.range;Yt.months.utc=Yt.month.utc.range;function Qu(e,t,n){function r(t){return e(t)}r.invert=function(t){return Zu(e.invert(t))};r.domain=function(t){if(!arguments.length)return e.domain().map(Zu);e.domain(t);return r};function i(e,n){var r=e[1]-e[0],i=r/n,o=a.bisect(Xu,i);return o==Xu.length?[t.year,vs(e.map(function(e){return e/31536e6}),n)[2]]:!o?[tl,vs(e,n)[2]]:t[i/Xu[o-1]<Xu[o]/i?o-1:o]}r.nice=function(e,t){var n=r.domain(),a=us(n),o=e==null?i(a,10):typeof e==="number"&&i(a,e);if(o)e=o[0],t=o[1];function s(n){return!isNaN(n)&&!e.range(n,Zu(+n+1),t).length}return r.domain(fs(n,t>1?{floor:function(t){while(s(t=e.floor(t)))t=Zu(t-1);return t},ceil:function(t){while(s(t=e.ceil(t)))t=Zu(+t+1);return t}}:e))};r.ticks=function(e,t){var n=us(r.domain()),a=e==null?i(n,10):typeof e==="number"?i(n,e):!e.range&&[{range:e},t];if(a)e=a[0],t=a[1];return e.range(n[0],Zu(+n[1]+1),t<1?1:t)};r.tickFormat=function(){return n};r.copy=function(){return Qu(e.copy(),t,n)};return gs(r,e)}function Zu(e){return new Date(e)}var Xu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var Ju=[[Yt.second,1],[Yt.second,5],[Yt.second,15],[Yt.second,30],[Yt.minute,1],[Yt.minute,5],[Yt.minute,15],[Yt.minute,30],[Yt.hour,1],[Yt.hour,3],[Yt.hour,6],[Yt.hour,12],[Yt.day,1],[Yt.day,2],[Yt.week,1],[Yt.month,1],[Yt.month,3],[Yt.year,1]];var el=Gu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&e.getDate()!=1}],["%b %d",function(e){return e.getDate()!=1}],["%B",function(e){return e.getMonth()}],["%Y",lr]]);var tl={range:function(e,t,n){return a.range(Math.ceil(e/n)*n,+t,n).map(Zu)},floor:L,ceil:L};Ju.year=Yt.year;Yt.scale=function(){return Qu(a.scale.linear(),Ju,el)};var nl=Ju.map(function(e){return[e[0].utc,e[1]]});var rl=Yu.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],["%b %d",function(e){return e.getUTCDate()!=1}],["%B",function(e){return e.getUTCMonth()}],["%Y",lr]]);nl.year=Yt.year.utc;Yt.scale.utc=function(){return Qu(a.scale.linear(),nl,rl)};a.text=Nt(function(e){return e.responseText});a.json=function(e,t){return At(e,"application/json",il,t)};function il(e){return JSON.parse(e.responseText)}a.html=function(e,t){return At(e,"text/html",al,t)};function al(e){var t=u.createRange();t.selectNode(u.body);return t.createContextualFragment(e.responseText)}a.xml=Nt(function(e){return e.responseXML});if(true)this.d3=a,!(r=a,i=typeof r==="function"?r.call(t,n,t,e):r,i!==undefined&&(e.exports=i));else if(typeof e==="object"&&e.exports)e.exports=a;else this.d3=a}()},function(e,t,n){(function(r){t=e.exports=n(55);t.log=o;t.formatArgs=a;t.save=s;t.load=u;t.useColors=i;t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l();t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function a(e){var n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff);if(!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0;var a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){if("%%"===e)return;i++;if("%c"===e){a=i}});e.splice(a,0,r)}function o(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments);
}function s(e){try{if(null==e){t.storage.removeItem("debug")}else{t.storage.debug=e}}catch(e){}}function u(){var e;try{e=t.storage.debug}catch(e){}if(!e&&typeof r!=="undefined"&&"env"in r){e=""}return e}t.enable(u());function l(){try{return window.localStorage}catch(e){}}}).call(t,n(32))},function(e,t,n){(function(t,n){var r,i,a,o,s,u,l,c,f,d,p,h,m,g,y,v,b,x,T,E,S,w,O;r=function(e){return new r.prototype.init(e)};if(true){e.exports=r}else{t.Globalize=r}r.cultures={};r.prototype={constructor:r,init:function(e){this.cultures=r.cultures;this.cultureSelector=e;return this}};r.prototype.init.prototype=r.prototype;r.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};r.cultures["default"].calendar=r.cultures["default"].calendars.standard;r.cultures["en"]=r.cultures["default"];r.cultureSelector="en";i=/^0x[a-f0-9]+$/i;a=/^[+-]?infinity$/i;o=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;s=/^\s+|\s+$/g;u=function(e,t){if(e.indexOf){return e.indexOf(t)}for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1};l=function(e,t){return e.substr(e.length-t.length)===t};c=function(e){var t,r,i,a,o,s,u=arguments[0]||{},l=1,h=arguments.length,e=false;if(typeof u==="boolean"){e=u;u=arguments[1]||{};l=2}if(typeof u!=="object"&&!d(u)){u={}}for(;l<h;l++){if((t=arguments[l])!=null){for(r in t){i=u[r];a=t[r];if(u===a){continue}if(e&&a&&(p(a)||(o=f(a)))){if(o){o=false;s=i&&f(i)?i:[]}else{s=i&&p(i)?i:{}}u[r]=c(e,s,a)}else if(a!==n){u[r]=a}}}}return u};f=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};d=function(e){return Object.prototype.toString.call(e)==="[object Function]"};p=function(e){return Object.prototype.toString.call(e)==="[object Object]"};h=function(e,t){return e.indexOf(t)===0};m=function(e){return(e+"").replace(s,"")};g=function(e,t,n){var r;for(r=e.length;r<t;r+=1){e=n?"0"+e:e+"0"}return e};y=function(e,t){var n=0,r=false;for(var i=0,a=e.length;i<a;i++){var o=e.charAt(i);switch(o){case"'":if(r){t.push("'")}else{n++}r=false;break;case"\\":if(r){t.push("\\")}r=!r;break;default:t.push(o);r=false;break}}return n};v=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(i===1){n=r[t];if(!n){throw"Invalid date format string '"+t+"'."}t=n}else if(i===2&&t.charAt(0)==="%"){t=t.charAt(1)}return t};b=function(e,t,n){var r=n.calendar,i=r.convert;if(!t||!t.length||t==="i"){var a;if(n&&n.name.length){if(i){a=b(e,r.patterns.F,n)}else{var o=new Date(e.getTime()),s=E(e,r.eras);o.setFullYear(S(e,r,s));a=o.toLocaleString()}}else{a=e.toString()}return a}var u=r.eras,l=t==="s";t=v(r,t);a=[];var c,f=["0","00","000"],d,p,h=/([^d]|^)(d|dd)([^d]|$)/g,m=0,g=T(),x;function w(e,t){var n,r=e+"";if(t>1&&r.length<t){n=f[t-2]+r;return n.substr(n.length-t,t)}else{n=r}return n}function O(){if(d||p){return d}d=h.test(t);p=true;return d}function I(e,t){if(x){return x[t]}switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(!l&&i){x=i.fromGregorian(e)}for(;;){var N=g.lastIndex,A=g.exec(t);var R=t.slice(N,A?A.index:t.length);m+=y(R,a);if(!A){break}if(m%2){a.push(A[0]);continue}var C=A[0],M=C.length;switch(C){case"ddd":case"dddd":var D=M===3?r.days.namesAbbr:r.days.names;a.push(D[e.getDay()]);break;case"d":case"dd":d=true;a.push(w(I(e,2),M));break;case"MMM":case"MMMM":var P=I(e,1);a.push(r.monthsGenitive&&O()?r.monthsGenitive[M===3?"namesAbbr":"names"][P]:r.months[M===3?"namesAbbr":"names"][P]);break;case"M":case"MM":a.push(w(I(e,1)+1,M));break;case"y":case"yy":case"yyyy":P=x?x[0]:S(e,r,E(e,u),l);if(M<4){P=P%100}a.push(w(P,M));break;case"h":case"hh":c=e.getHours()%12;if(c===0)c=12;a.push(w(c,M));break;case"H":case"HH":a.push(w(e.getHours(),M));break;case"m":case"mm":a.push(w(e.getMinutes(),M));break;case"s":case"ss":a.push(w(e.getSeconds(),M));break;case"t":case"tt":P=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ";a.push(M===1?P.charAt(0):P);break;case"f":case"ff":case"fff":a.push(w(e.getMilliseconds(),3).substr(0,M));break;case"z":case"zz":c=e.getTimezoneOffset()/60;a.push((c<=0?"+":"-")+w(Math.floor(Math.abs(c)),M));break;case"zzz":c=e.getTimezoneOffset()/60;a.push((c<=0?"+":"-")+w(Math.floor(Math.abs(c)),2)+":"+w(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":if(r.eras){a.push(r.eras[E(e,u)].name)}break;case"/":a.push(r["/"]);break;default:throw"Invalid date format pattern '"+C+"'.";break}}return a.join("")};(function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],a=1,o=Math.pow(10,t),s=Math.round(e*o)/o;if(!isFinite(s)){s=e}e=s;var u=e+"",l="",c=u.split(/e/i),f=c.length>1?parseInt(c[1],10):0;u=c[0];c=u.split(".");u=c[0];l=c.length>1?c[1]:"";var d;if(f>0){l=g(l,f,false);u+=l.slice(0,f);l=l.substr(f)}else if(f<0){f=-f;u=g(u,f+1);l=u.slice(-f,u.length)+l;u=u.slice(0,-f)}if(t>0){l=n["."]+(l.length>t?l.slice(0,t):g(l,t))}else{l=""}var p=u.length-1,h=n[","],m="";while(p>=0){if(i===0||i>p){return u.slice(0,p+1)+(m.length?h+m+l:l)}m=u.slice(p-i+1,p+1)+(m.length?h+m:"");p-=i;if(a<r.length){i=r[a];a++}}return u.slice(0,p+1)+h+m+l};x=function(t,n,r){if(!n||n==="i"){return r.name.length?t.toLocaleString():t.toString()}n=n||"D";var i=r.numberFormat,a=Math.abs(t),o=-1,s;if(n.length>1)o=parseInt(n.slice(1),10);var u=n.charAt(0).toUpperCase(),l;switch(u){case"D":s="n";if(o!==-1){a=g(""+a,o,true)}if(t<0)a=-a;break;case"N":l=i;case"C":l=l||i.currency;case"P":l=l||i.percent;s=t<0?l.pattern[0]:l.pattern[1]||"n";if(o===-1)o=l.decimals;a=e(a*(u==="P"?100:1),o,l);break;default:throw"Bad number format specifier: "+u}var c=/n|\$|-|%/g,f="";for(;;){var d=c.lastIndex,p=c.exec(s);f+=s.slice(d,p?p.index:s.length);if(!p){break}switch(p[0]){case"n":f+=a;break;case"$":f+=i.currency.symbol;break;case"-":if(/[1-9]/.test(a)){f+=i["-"]}break;case"%":f+=i.percent.symbol;break}}return f}})();T=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};E=function(e,t){if(!t)return 0;var n,r=e.getTime();for(var i=0,a=t.length;i<a;i++){n=t[i].start;if(n===null||r>=n){return i}}return 0};S=function(e,t,n,r){var i=e.getFullYear();if(!r&&t.eras){i-=t.eras[n].offset}return i};(function(){var e,t,n,r,i,a,o;e=function(e,t){var n=new Date,r=E(n);if(t<100){var i=e.twoDigitYearMax;i=typeof i==="string"?(new Date).getFullYear()%100+parseInt(i,10):i;var a=S(n,e,r);t+=a-a%100;if(t>i){t-=100}}return t};t=function(e,t,n){var r,i=e.days,s=e._upperDays;if(!s){e._upperDays=s=[o(i.names),o(i.namesAbbr),o(i.namesShort)]}t=a(t);if(n){r=u(s[1],t);if(r===-1){r=u(s[2],t)}}else{r=u(s[0],t)}return r};n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,s=e._upperMonths,l=e._upperMonthsGen;if(!s){e._upperMonths=s=[o(r.names),o(r.namesAbbr)];e._upperMonthsGen=l=[o(i.names),o(i.namesAbbr)]}t=a(t);var c=u(n?s[1]:s[0],t);if(c<0){c=u(n?l[1]:l[0],t)}return c};r=function(e,t){var n=e._parseRegExp;if(!n){e._parseRegExp=n={}}else{var r=n[t];if(r){return r}}var i=v(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],o=[],s=0,u=0,l=T(),c;while((c=l.exec(i))!==null){var f=i.slice(s,c.index);s=l.lastIndex;u+=y(f,a);if(u%2){a.push(c[0]);continue}var d=c[0],p=d.length,h;switch(d){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+d+"'.";break}if(h){a.push(h)}o.push(c[0])}y(i.slice(s),a);a.push("$");var m=a.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:o};return n[t]=g};i=function(e,t,n){return e<t||e>n};a=function(e){return e.split("\xa0").join(" ").toUpperCase()};o=function(e){var t=[];for(var n=0,r=e.length;n<r;n++){t[n]=a(e[n])}return t};w=function(a,o,s){a=m(a);var u=s.calendar,l=r(u,o),c=new RegExp(l.regExp).exec(a);if(c===null){return null}var f=l.groups,d=null,p=null,g=null,y=null,v=null,b=0,x,T=0,E=0,S=0,w=null,O=false;for(var I=0,N=f.length;I<N;I++){var A=c[I+1];if(A){var R=f[I],C=R.length,M=parseInt(A,10);switch(R){case"dd":case"d":y=M;if(i(y,1,31))return null;break;case"MMM":case"MMMM":g=n(u,A,C===3);if(i(g,0,11))return null;break;case"M":case"MM":g=M-1;if(i(g,0,11))return null;break;case"y":case"yy":case"yyyy":p=C<4?e(u,M):M;if(i(p,0,9999))return null;break;case"h":case"hh":b=M;if(b===12)b=0;if(i(b,0,11))return null;break;case"H":case"HH":b=M;if(i(b,0,23))return null;break;case"m":case"mm":T=M;if(i(T,0,59))return null;break;case"s":case"ss":E=M;if(i(E,0,59))return null;break;case"tt":case"t":O=u.PM&&(A===u.PM[0]||A===u.PM[1]||A===u.PM[2]);if(!O&&(!u.AM||A!==u.AM[0]&&A!==u.AM[1]&&A!==u.AM[2]))return null;break;case"f":case"ff":case"fff":S=M*Math.pow(10,3-C);if(i(S,0,999))return null;break;case"ddd":case"dddd":v=t(u,A,C===3);if(i(v,0,6))return null;break;case"zzz":var D=A.split(/:/);if(D.length!==2)return null;x=parseInt(D[0],10);if(i(x,-12,13))return null;var P=parseInt(D[1],10);if(i(P,0,59))return null;w=x*60+(h(A,"-")?-P:P);break;case"z":case"zz":x=M;if(i(x,-12,13))return null;w=x*60;break;case"g":case"gg":var _=A;if(!_||!u.eras)return null;_=m(_.toLowerCase());for(var F=0,L=u.eras.length;F<L;F++){if(_===u.eras[F].name.toLowerCase()){d=F;break}}if(d===null)return null;break}}}var k=new Date,H,U=u.convert;H=U?U.fromGregorian(k)[0]:k.getFullYear();if(p===null){p=H}else if(u.eras){p+=u.eras[d||0].offset}if(g===null){g=0}if(y===null){y=1}if(U){k=U.toGregorian(p,g,y);if(k===null)return null}else{k.setFullYear(p,g,y);if(k.getDate()!==y)return null;if(v!==null&&k.getDay()!==v){return null}}if(O&&b<12){b+=12}k.setHours(b,T,E,S);if(w!==null){var j=k.getMinutes()-(w+k.getTimezoneOffset());k.setHours(k.getHours()+parseInt(j/60,10),j%60)}return k}})();O=function(e,t,n){var r=t["-"],i=t["+"],a;switch(n){case"n -":r=" "+r;i=" "+i;case"n-":if(l(e,r)){a=["-",e.substr(0,e.length-r.length)]}else if(l(e,i)){a=["+",e.substr(0,e.length-i.length)]}break;case"- n":r+=" ";i+=" ";case"-n":if(h(e,r)){a=["-",e.substr(r.length)]}else if(h(e,i)){a=["+",e.substr(i.length)]}break;case"(n)":if(h(e,"(")&&l(e,")")){a=["-",e.substr(1,e.length-2)]}break}return a||["",e]};r.prototype.findClosestCulture=function(e){return r.findClosestCulture.call(this,e)};r.prototype.format=function(e,t,n){return r.format.call(this,e,t,n)};r.prototype.localize=function(e,t){return r.localize.call(this,e,t)};r.prototype.parseInt=function(e,t,n){return r.parseInt.call(this,e,t,n)};r.prototype.parseFloat=function(e,t,n){return r.parseFloat.call(this,e,t,n)};r.prototype.culture=function(e){return r.culture.call(this,e)};r.addCultureInfo=function(e,t,n){var r={},i=false;if(typeof e!=="string"){n=e;e=this.culture().name;r=this.cultures[e]}else if(typeof t!=="string"){n=t;i=this.cultures[e]==null;r=this.cultures[e]||this.cultures["default"]}else{i=true;r=this.cultures[t]}this.cultures[e]=c(true,{},r,n);if(i){this.cultures[e].calendar=this.cultures[e].calendars.standard}};r.findClosestCulture=function(e){var t;if(!e){return this.cultures[this.cultureSelector]||this.cultures["default"]}if(typeof e==="string"){e=e.split(",")}if(f(e)){var n,r=this.cultures,i=e,a,o=i.length,s=[];for(a=0;a<o;a++){e=m(i[a]);var u,l=e.split(";");n=m(l[0]);if(l.length===1){u=1}else{e=m(l[1]);if(e.indexOf("q=")===0){e=e.substr(2);u=parseFloat(e);u=isNaN(u)?0:u}else{u=1}}s.push({lang:n,pri:u})}s.sort(function(e,t){return e.pri<t.pri?1:-1});for(a=0;a<o;a++){n=s[a].lang;t=r[n];if(t){return t}}for(a=0;a<o;a++){n=s[a].lang;do{var c=n.lastIndexOf("-");if(c===-1){break}n=n.substr(0,c);t=r[n];if(t){return t}}while(1)}for(a=0;a<o;a++){n=s[a].lang;for(var d in r){var p=r[d];if(p.language==n){return p}}}}else if(typeof e==="object"){return e}return t||null};r.format=function(e,t,n){culture=this.findClosestCulture(n);if(e instanceof Date){e=b(e,t,culture)}else if(typeof e==="number"){e=x(e,t,culture)}return e};r.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages["key"]};r.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,a;if(t){if(typeof t==="string"){t=[t]}if(t.length){for(var o=0,s=t.length;o<s;o++){var u=t[o];if(u){r=w(e,u,n);if(r){break}}}}}else{a=n.calendar.patterns;for(i in a){r=w(e,a[i],n);if(r){break}}}return r||null};r.parseInt=function(e,t,n){return Math.floor(r.parseFloat(e,t,n))};r.parseFloat=function(e,t,n){if(typeof t!=="number"){n=t;t=10}var r=this.findClosestCulture(n);var s=NaN,u=r.numberFormat;if(e.indexOf(r.numberFormat.currency.symbol)>-1){e=e.replace(r.numberFormat.currency.symbol,"");e=e.replace(r.numberFormat.currency["."],r.numberFormat["."])}e=m(e);if(a.test(e)){s=parseFloat(e)}else if(!t&&i.test(e)){s=parseInt(e,16)}else{var l=O(e,u,u.pattern[0]),c=l[0],f=l[1];if(c===""&&u.pattern[0]!=="-n"){l=O(e,u,"-n");c=l[0];f=l[1]}c=c||"+";var d,p,h=f.indexOf("e");if(h<0)h=f.indexOf("E");if(h<0){p=f;d=null}else{p=f.substr(0,h);d=f.substr(h+1)}var g,y,v=u["."],b=p.indexOf(v);if(b<0){g=p;y=null}else{g=p.substr(0,b);y=p.substr(b+v.length)}var x=u[","];g=g.split(x).join("");var T=x.replace(/\u00A0/g," ");if(x!==T){g=g.split(T).join("")}var E=c+g;if(y!==null){E+="."+y}if(d!==null){var S=O(d,u,"-n");E+="e"+(S[0]||"+")+S[1]}if(o.test(E)){s=parseFloat(E)}}return s};r.culture=function(e){if(typeof e!=="undefined"){this.cultureSelector=e}return this.findClosestCulture(e)||this.culture["default"]}})(this)},function(e,t,n){var r,i;(function(t,n){"use strict";if(typeof e==="object"&&typeof e.exports==="object"){e.exports=t.document?n(t,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return n(e)}}else{n(t)}})(typeof window!=="undefined"?window:this,function(n,a){"use strict";var o=[];var s=n.document;var u=Object.getPrototypeOf;var l=o.slice;var c=o.concat;var f=o.push;var d=o.indexOf;var p={};var h=p.toString;var m=p.hasOwnProperty;var g=m.toString;var y=g.call(Object);var v={};var b=function e(t){return typeof t==="function"&&typeof t.nodeType!=="number"};var x=function e(t){return t!=null&&t===t.window};var T={type:true,src:true,noModule:true};function E(e,t,n){t=t||s;var r,i=t.createElement("script");i.text=e;if(n){for(r in T){if(n[r]){i[r]=n[r]}}}t.head.appendChild(i).parentNode.removeChild(i)}function S(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?p[h.call(e)]||"object":typeof e}var w="3.3.1",O=function(e,t){return new O.fn.init(e,t)},I=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;O.fn=O.prototype={jquery:w,constructor:O,length:0,toArray:function(){return l.call(this)},get:function(e){if(e==null){return l.call(this)}return e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=O.merge(this.constructor(),e);t.prevObject=this;return t},each:function(e){return O.each(this,e)},map:function(e){return this.pushStack(O.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:o.sort,splice:o.splice};O.extend=O.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,u=arguments.length,l=false;if(typeof o==="boolean"){l=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&!b(o)){o={}}if(s===u){o=this;s--}for(;s<u;s++){if((e=arguments[s])!=null){for(t in e){n=o[t];r=e[t];if(o===r){continue}if(l&&r&&(O.isPlainObject(r)||(i=Array.isArray(r)))){if(i){i=false;a=n&&Array.isArray(n)?n:[]}else{a=n&&O.isPlainObject(n)?n:{}}o[t]=O.extend(l,a,r)}else if(r!==undefined){o[t]=r}}}}return o};O.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;if(!e||h.call(e)!=="[object Object]"){return false}t=u(e);if(!t){return true}n=m.call(t,"constructor")&&t.constructor;return typeof n==="function"&&g.call(n)===y},isEmptyObject:function(e){var t;for(t in e){return false}return true},globalEval:function(e){E(e)},each:function(e,t){var n,r=0;if(N(e)){n=e.length;for(;r<n;r++){if(t.call(e[r],r,e[r])===false){break}}}else{for(r in e){if(t.call(e[r],r,e[r])===false){break}}}return e},trim:function(e){return e==null?"":(e+"").replace(I,"")},makeArray:function(e,t){var n=t||[];if(e!=null){if(N(Object(e))){O.merge(n,typeof e==="string"?[e]:e)}else{f.call(n,e)}}return n},inArray:function(e,t,n){return t==null?-1:d.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++){e[i++]=t[r]}e.length=i;return e},grep:function(e,t,n){var r,i=[],a=0,o=e.length,s=!n;for(;a<o;a++){r=!t(e[a],a);if(r!==s){i.push(e[a])}}return i},map:function(e,t,n){var r,i,a=0,o=[];if(N(e)){r=e.length;for(;a<r;a++){i=t(e[a],a,n);if(i!=null){o.push(i)}}}else{for(a in e){i=t(e[a],a,n);if(i!=null){o.push(i)}}}return c.apply([],o)},guid:1,support:v});if(typeof Symbol==="function"){O.fn[Symbol.iterator]=o[Symbol.iterator]}O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});function N(e){var t=!!e&&"length"in e&&e.length,n=S(e);if(b(e)||x(e)){return false}return n==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}var A=function(e){var t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,g,y,v,b,x="sizzle"+1*new Date,T=e.document,E=0,S=0,w=oe(),O=oe(),I=oe(),N=function(e,t){if(e===t){f=true}return 0},A={}.hasOwnProperty,R=[],C=R.pop,M=R.push,D=R.push,P=R.slice,_=function(e,t){var n=0,r=e.length;for(;n<r;n++){if(e[n]===t){return n}}return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",k="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+L+"*("+k+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+k+"))|)"+L+"*\\]",U=":("+k+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|"+".*"+")\\)|)",j=new RegExp(L+"+","g"),W=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),V=new RegExp("^"+L+"*,"+L+"*"),q=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),B=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),z=new RegExp(U),G=new RegExp("^"+k+"$"),Y={ID:new RegExp("^#("+k+")"),CLASS:new RegExp("^\\.("+k+")"),TAG:new RegExp("^("+k+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){if(t){if(e==="\0"){return"\ufffd"}return e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" "}return"\\"+e},re=function(){d()},ie=ve(function(e){return e.disabled===true&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{D.apply(R=P.call(T.childNodes),T.childNodes);R[T.childNodes.length].nodeType}catch(e){D={apply:R.length?function(e,t){M.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}function ae(e,t,r,i){var a,s,l,c,f,h,y,v=t&&t.ownerDocument,E=t?t.nodeType:9;r=r||[];if(typeof e!=="string"||!e||E!==1&&E!==9&&E!==11){return r}if(!i){if((t?t.ownerDocument||t:T)!==p){d(t)}t=t||p;if(m){if(E!==11&&(f=Z.exec(e))){if(a=f[1]){if(E===9){if(l=t.getElementById(a)){if(l.id===a){r.push(l);return r}}else{return r}}else{if(v&&(l=v.getElementById(a))&&b(t,l)&&l.id===a){r.push(l);return r}}}else if(f[2]){D.apply(r,t.getElementsByTagName(e));return r}else if((a=f[3])&&n.getElementsByClassName&&t.getElementsByClassName){D.apply(r,t.getElementsByClassName(a));return r}}if(n.qsa&&!I[e+" "]&&(!g||!g.test(e))){if(E!==1){v=t;y=e}else if(t.nodeName.toLowerCase()!=="object"){if(c=t.getAttribute("id")){c=c.replace(te,ne)}else{t.setAttribute("id",c=x)}h=o(e);s=h.length;while(s--){h[s]="#"+c+" "+ye(h[s])}y=h.join(",");v=X.test(e)&&me(t.parentNode)||t}if(y){try{D.apply(r,v.querySelectorAll(y));return r}catch(e){}finally{if(c===x){t.removeAttribute("id")}}}}}}return u(e.replace(W,"$1"),t,r,i)}function oe(){var e=[];function t(n,i){if(e.push(n+" ")>r.cacheLength){delete t[e.shift()]}return t[n+" "]=i}return t}function se(e){e[x]=true;return e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--){r.attrHandle[n[i]]=t}}function ce(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&e.sourceIndex-t.sourceIndex;if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return-1}}}return e?1:-1}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pe(e){return function(t){if("form"in t){if(t.parentNode&&t.disabled===false){if("label"in t){if("label"in t.parentNode){return t.parentNode.disabled===e}else{return t.disabled===e}}return t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e}return t.disabled===e}else if("label"in t){return t.disabled===e}return false}}function he(e){return se(function(t){t=+t;return se(function(n,r){var i,a=e([],n.length,t),o=a.length;while(o--){if(n[i=a[o]]){n[i]=!(r[i]=n[i])}}})})}function me(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}n=ae.support={};a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};d=ae.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:T;if(o===p||o.nodeType!==9||!o.documentElement){return p}p=o;h=p.documentElement;m=!a(p);if(T!==p&&(i=p.defaultView)&&i.top!==i){if(i.addEventListener){i.addEventListener("unload",re,false)}else if(i.attachEvent){i.attachEvent("onunload",re)}}n.attributes=ue(function(e){e.className="i";return!e.getAttribute("className")});n.getElementsByTagName=ue(function(e){e.appendChild(p.createComment(""));return!e.getElementsByTagName("*").length});n.getElementsByClassName=Q.test(p.getElementsByClassName);n.getById=ue(function(e){h.appendChild(e).id=x;return!p.getElementsByName||!p.getElementsByName(x).length});if(n.getById){r.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}};r.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&m){var n=t.getElementById(e);return n?[n]:[]}}}else{r.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){var n=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return n&&n.value===t}};r.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&m){var n,r,i,a=t.getElementById(e);if(a){n=a.getAttributeNode("id");if(n&&n.value===e){return[a]}i=t.getElementsByName(e);r=0;while(a=i[r++]){n=a.getAttributeNode("id");if(n&&n.value===e){return[a]}}}return[]}}}r.find["TAG"]=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else if(n.qsa){return t.querySelectorAll(e)}}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if(e==="*"){while(n=a[i++]){if(n.nodeType===1){r.push(n)}}return r}return a};r.find["CLASS"]=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!=="undefined"&&m){return t.getElementsByClassName(e)}};y=[];g=[];if(n.qsa=Q.test(p.querySelectorAll)){ue(function(e){h.appendChild(e).innerHTML="<a id='"+x+"'></a>"+"<select id='"+x+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){g.push("[*^$]="+L+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){g.push("\\["+L+"*(?:value|"+F+")")}if(!e.querySelectorAll("[id~="+x+"-]").length){g.push("~=")}if(!e.querySelectorAll(":checked").length){g.push(":checked")}if(!e.querySelectorAll("a#"+x+"+*").length){g.push(".#.+[+~]")}});ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){g.push("name"+L+"*[*^$|!~]?=")}if(e.querySelectorAll(":enabled").length!==2){g.push(":enabled",":disabled")}h.appendChild(e).disabled=true;if(e.querySelectorAll(":disabled").length!==2){g.push(":enabled",":disabled")}e.querySelectorAll("*,:x");g.push(",.*:")})}if(n.matchesSelector=Q.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector)){ue(function(e){n.disconnectedMatch=v.call(e,"*");v.call(e,"[s!='']:x");y.push("!=",U)})}g=g.length&&new RegExp(g.join("|"));y=y.length&&new RegExp(y.join("|"));t=Q.test(h.compareDocumentPosition);b=t||Q.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};N=t?function(e,t){if(e===t){f=true;return 0}var r=!e.compareDocumentPosition-!t.compareDocumentPosition;if(r){return r}r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r){if(e===p||e.ownerDocument===T&&b(T,e)){return-1}if(t===p||t.ownerDocument===T&&b(T,t)){return 1}return c?_(c,e)-_(c,t):0}return r&4?-1:1}:function(e,t){if(e===t){f=true;return 0}var n,r=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a){return e===p?-1:t===p?1:i?-1:a?1:c?_(c,e)-_(c,t):0}else if(i===a){return ce(e,t)}n=e;while(n=n.parentNode){o.unshift(n)}n=t;while(n=n.parentNode){s.unshift(n)}while(o[r]===s[r]){r++}return r?ce(o[r],s[r]):o[r]===T?-1:s[r]===T?1:0};return p};ae.matches=function(e,t){return ae(e,null,null,t)};ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p){d(e)}t=t.replace(B,"='$1']");if(n.matchesSelector&&m&&!I[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t))){try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11){return r}}catch(e){}}return ae(t,p,null,[e]).length>0};ae.contains=function(e,t){if((e.ownerDocument||e)!==p){d(e)}return b(e,t)};ae.attr=function(e,t){if((e.ownerDocument||e)!==p){d(e)}var i=r.attrHandle[t.toLowerCase()],a=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):undefined;return a!==undefined?a:n.attributes||!m?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null};ae.escape=function(e){return(e+"").replace(te,ne)};ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};ae.uniqueSort=function(e){var t,r=[],i=0,a=0;f=!n.detectDuplicates;c=!n.sortStable&&e.slice(0);e.sort(N);if(f){while(t=e[a++]){if(t===e[a]){i=r.push(a)}}while(i--){e.splice(r[i],1)}}c=null;return e};i=ae.getText=function(e){var t,n="",r=0,a=e.nodeType;if(!a){while(t=e[r++]){n+=i(t)}}else if(a===1||a===9||a===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=i(e)}}}else if(a===3||a===4){return e.nodeValue}return n};r=ae.selectors={cacheLength:50,createPseudo:se,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(J,ee);e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){ae.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){ae.error(e[0])}return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(Y["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(n&&z.test(n)&&(t=o(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&w(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);if(i==null){return t==="!="}if(!t){return true}i+="";return t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i.replace(j," ")+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":false}},CHILD:function(e,t,n,r,i){var a=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",s=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s,b=false;if(g){if(a){while(m){d=t;while(d=d[m]){if(s?d.nodeName.toLowerCase()===y:d.nodeType===1){return false}}h=m=e==="only"&&!h&&"nextSibling"}return true}h=[o?g.firstChild:g.lastChild];if(o&&v){d=g;f=d[x]||(d[x]={});c=f[d.uniqueID]||(f[d.uniqueID]={});l=c[e]||[];p=l[0]===E&&l[1];b=p&&l[2];d=p&&g.childNodes[p];while(d=++p&&d&&d[m]||(b=p=0)||h.pop()){if(d.nodeType===1&&++b&&d===t){c[e]=[E,p,b];break}}}else{if(v){d=t;f=d[x]||(d[x]={});c=f[d.uniqueID]||(f[d.uniqueID]={});l=c[e]||[];p=l[0]===E&&l[1];b=p}if(b===false){while(d=++p&&d&&d[m]||(b=p=0)||h.pop()){if((s?d.nodeName.toLowerCase()===y:d.nodeType===1)&&++b){if(v){f=d[x]||(d[x]={});c=f[d.uniqueID]||(f[d.uniqueID]={});c[e]=[E,b]}if(d===t){break}}}}}b-=i;return b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);if(i[x]){return i(t)}if(i.length>1){n=[e,e,"",t];return r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,a=i(e,t),o=a.length;while(o--){r=_(e,a[o]);e[r]=!(n[r]=a[o])}}):function(e){return i(e,0,n)}}return i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?se(function(e,t,n,i){var a,o=r(e,null,i,[]),s=e.length;while(s--){if(a=o[s]){e[s]=!(t[s]=a)}}}):function(e,i,a){t[0]=e;r(t,null,a,n);t[0]=null;return!n.pop()}}),has:se(function(e){return function(t){return ae(e,t).length>0}}),contains:se(function(e){e=e.replace(J,ee);return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1;
}}),lang:se(function(e){if(!G.test(e||"")){ae.error("unsupported lang: "+e)}e=e.replace(J,ee).toLowerCase();return function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||n.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(false),disabled:pe(true),checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!r.pseudos["empty"](e)},header:function(e){return $.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e}),odd:he(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e}),lt:he(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:he(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;){e.push(r)}return e})}};r.pseudos["nth"]=r.pseudos["eq"];for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){r.pseudos[t]=fe(t)}for(t in{submit:true,reset:true}){r.pseudos[t]=de(t)}function ge(){}ge.prototype=r.filters=r.pseudos;r.setFilters=new ge;o=ae.tokenize=function(e,t){var n,i,a,o,s,u,l,c=O[e+" "];if(c){return t?0:c.slice(0)}s=e;u=[];l=r.preFilter;while(s){if(!n||(i=V.exec(s))){if(i){s=s.slice(i[0].length)||s}u.push(a=[])}n=false;if(i=q.exec(s)){n=i.shift();a.push({value:n,type:i[0].replace(W," ")});s=s.slice(n.length)}for(o in r.filter){if((i=Y[o].exec(s))&&(!l[o]||(i=l[o](i)))){n=i.shift();a.push({value:n,type:o,matches:i});s=s.slice(n.length)}}if(!n){break}}return t?s.length:s?ae.error(e):O(e,u).slice(0)};function ye(e){var t=0,n=e.length,r="";for(;t<n;t++){r+=e[t].value}return r}function ve(e,t,n){var r=t.dir,i=t.next,a=i||r,o=n&&a==="parentNode",s=S++;return t.first?function(t,n,i){while(t=t[r]){if(t.nodeType===1||o){return e(t,n,i)}}return false}:function(t,n,u){var l,c,f,d=[E,s];if(u){while(t=t[r]){if(t.nodeType===1||o){if(e(t,n,u)){return true}}}}else{while(t=t[r]){if(t.nodeType===1||o){f=t[x]||(t[x]={});c=f[t.uniqueID]||(f[t.uniqueID]={});if(i&&i===t.nodeName.toLowerCase()){t=t[r]||t}else if((l=c[a])&&l[0]===E&&l[1]===s){return d[2]=l[2]}else{c[a]=d;if(d[2]=e(t,n,u)){return true}}}}}return false}}function be(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return false}}return true}:e[0]}function xe(e,t,n){var r=0,i=t.length;for(;r<i;r++){ae(e,t[r],n)}return n}function Te(e,t,n,r,i){var a,o=[],s=0,u=e.length,l=t!=null;for(;s<u;s++){if(a=e[s]){if(!n||n(a,r,i)){o.push(a);if(l){t.push(s)}}}}return o}function Ee(e,t,n,r,i,a){if(r&&!r[x]){r=Ee(r)}if(i&&!i[x]){i=Ee(i,a)}return se(function(a,o,s,u){var l,c,f,d=[],p=[],h=o.length,m=a||xe(t||"*",s.nodeType?[s]:s,[]),g=e&&(a||!t)?Te(m,d,e,s,u):m,y=n?i||(a?e:h||r)?[]:o:g;if(n){n(g,y,s,u)}if(r){l=Te(y,p);r(l,[],s,u);c=l.length;while(c--){if(f=l[c]){y[p[c]]=!(g[p[c]]=f)}}}if(a){if(i||e){if(i){l=[];c=y.length;while(c--){if(f=y[c]){l.push(g[c]=f)}}i(null,y=[],l,u)}c=y.length;while(c--){if((f=y[c])&&(l=i?_(a,f):d[c])>-1){a[l]=!(o[l]=f)}}}}else{y=Te(y===o?y.splice(h,y.length):y);if(i){i(null,o,y,u)}else{D.apply(o,y)}}})}function Se(e){var t,n,i,a=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],u=o?1:0,c=ve(function(e){return e===t},s,true),f=ve(function(e){return _(t,e)>-1},s,true),d=[function(e,n,r){var i=!o&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));t=null;return i}];for(;u<a;u++){if(n=r.relative[e[u].type]){d=[ve(be(d),n)]}else{n=r.filter[e[u].type].apply(null,e[u].matches);if(n[x]){i=++u;for(;i<a;i++){if(r.relative[e[i].type]){break}}return Ee(u>1&&be(d),u>1&&ye(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(W,"$1"),n,u<i&&Se(e.slice(u,i)),i<a&&Se(e=e.slice(i)),i<a&&ye(e))}d.push(n)}}return be(d)}function we(e,t){var n=t.length>0,i=e.length>0,a=function(a,o,s,u,c){var f,h,g,y=0,v="0",b=a&&[],x=[],T=l,S=a||i&&r.find["TAG"]("*",c),w=E+=T==null?1:Math.random()||.1,O=S.length;if(c){l=o===p||o||c}for(;v!==O&&(f=S[v])!=null;v++){if(i&&f){h=0;if(!o&&f.ownerDocument!==p){d(f);s=!m}while(g=e[h++]){if(g(f,o||p,s)){u.push(f);break}}if(c){E=w}}if(n){if(f=!g&&f){y--}if(a){b.push(f)}}}y+=v;if(n&&v!==y){h=0;while(g=t[h++]){g(b,x,o,s)}if(a){if(y>0){while(v--){if(!(b[v]||x[v])){x[v]=C.call(u)}}}x=Te(x)}D.apply(u,x);if(c&&!a&&x.length>0&&y+t.length>1){ae.uniqueSort(u)}}if(c){E=w;l=T}return b};return n?se(a):a}s=ae.compile=function(e,t){var n,r=[],i=[],a=I[e+" "];if(!a){if(!t){t=o(e)}n=t.length;while(n--){a=Se(t[n]);if(a[x]){r.push(a)}else{i.push(a)}}a=I(e,we(i,r));a.selector=e}return a};u=ae.select=function(e,t,n,i){var a,u,l,c,f,d=typeof e==="function"&&e,p=!i&&o(e=d.selector||e);n=n||[];if(p.length===1){u=p[0]=p[0].slice(0);if(u.length>2&&(l=u[0]).type==="ID"&&t.nodeType===9&&m&&r.relative[u[1].type]){t=(r.find["ID"](l.matches[0].replace(J,ee),t)||[])[0];if(!t){return n}else if(d){t=t.parentNode}e=e.slice(u.shift().value.length)}a=Y["needsContext"].test(e)?0:u.length;while(a--){l=u[a];if(r.relative[c=l.type]){break}if(f=r.find[c]){if(i=f(l.matches[0].replace(J,ee),X.test(u[0].type)&&me(t.parentNode)||t)){u.splice(a,1);e=i.length&&ye(u);if(!e){D.apply(n,i);return n}break}}}}(d||s(e,p))(i,t,!m,n,!t||X.test(e)&&me(t.parentNode)||t);return n};n.sortStable=x.split("").sort(N).join("")===x;n.detectDuplicates=!!f;d();n.sortDetached=ue(function(e){return e.compareDocumentPosition(p.createElement("fieldset"))&1});if(!ue(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){le("type|href|height|width",function(e,t,n){if(!n){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!n.attributes||!ue(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){le("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!ue(function(e){return e.getAttribute("disabled")==null})){le(F,function(e,t,n){var r;if(!n){return e[t]===true?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}})}return ae}(n);O.find=A;O.expr=A.selectors;O.expr[":"]=O.expr.pseudos;O.uniqueSort=O.unique=A.uniqueSort;O.text=A.getText;O.isXMLDoc=A.isXML;O.contains=A.contains;O.escapeSelector=A.escape;var R=function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(i&&O(e).is(n)){break}r.push(e)}}return r};var C=function(e,t){var n=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){n.push(e)}}return n};var M=O.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(e,t,n){if(b(t)){return O.grep(e,function(e,r){return!!t.call(e,r,e)!==n})}if(t.nodeType){return O.grep(e,function(e){return e===t!==n})}if(typeof t!=="string"){return O.grep(e,function(e){return d.call(t,e)>-1!==n})}return O.filter(t,e,n)}O.filter=function(e,t,n){var r=t[0];if(n){e=":not("+e+")"}if(t.length===1&&r.nodeType===1){return O.find.matchesSelector(r,e)?[r]:[]}return O.find.matches(e,O.grep(t,function(e){return e.nodeType===1}))};O.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(typeof e!=="string"){return this.pushStack(O(e).filter(function(){for(t=0;t<r;t++){if(O.contains(i[t],this)){return true}}}))}n=this.pushStack([]);for(t=0;t<r;t++){O.find(e,i[t],n)}return r>1?O.uniqueSort(n):n},filter:function(e){return this.pushStack(_(this,e||[],false))},not:function(e){return this.pushStack(_(this,e||[],true))},is:function(e){return!!_(this,typeof e==="string"&&M.test(e)?O(e):e||[],false).length}});var F,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,k=O.fn.init=function(e,t,n){var r,i;if(!e){return this}n=n||F;if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){r=[null,e,null]}else{r=L.exec(e)}if(r&&(r[1]||!t)){if(r[1]){t=t instanceof O?t[0]:t;O.merge(this,O.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:s,true));if(P.test(r[1])&&O.isPlainObject(t)){for(r in t){if(b(this[r])){this[r](t[r])}else{this.attr(r,t[r])}}}return this}else{i=s.getElementById(r[2]);if(i){this[0]=i;this.length=1}return this}}else if(!t||t.jquery){return(t||n).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this[0]=e;this.length=1;return this}else if(b(e)){return n.ready!==undefined?n.ready(e):e(O)}return O.makeArray(e,this)};k.prototype=O.fn;F=O(s);var H=/^(?:parents|prev(?:Until|All))/,U={children:true,contents:true,next:true,prev:true};O.fn.extend({has:function(e){var t=O(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++){if(O.contains(this,t[e])){return true}}})},closest:function(e,t){var n,r=0,i=this.length,a=[],o=typeof e!=="string"&&O(e);if(!M.test(e)){for(;r<i;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&O.find.matchesSelector(n,e))){a.push(n);break}}}}return this.pushStack(a.length>1?O.uniqueSort(a):a)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return d.call(O(e),this[0])}return d.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function j(e,t){while((e=e[t])&&e.nodeType!==1){}return e}O.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return R(e,"parentNode")},parentsUntil:function(e,t,n){return R(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return R(e,"nextSibling")},prevAll:function(e){return R(e,"previousSibling")},nextUntil:function(e,t,n){return R(e,"nextSibling",n)},prevUntil:function(e,t,n){return R(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){if(D(e,"iframe")){return e.contentDocument}if(D(e,"template")){e=e.content||e}return O.merge([],e.childNodes)}},function(e,t){O.fn[e]=function(n,r){var i=O.map(this,t,n);if(e.slice(-5)!=="Until"){r=n}if(r&&typeof r==="string"){i=O.filter(r,i)}if(this.length>1){if(!U[e]){O.uniqueSort(i)}if(H.test(e)){i.reverse()}}return this.pushStack(i)}});var W=/[^\x20\t\r\n\f]+/g;function V(e){var t={};O.each(e.match(W)||[],function(e,n){t[n]=true});return t}O.Callbacks=function(e){e=typeof e==="string"?V(e):O.extend({},e);var t,n,r,i,a=[],o=[],s=-1,u=function(){i=i||e.once;r=t=true;for(;o.length;s=-1){n=o.shift();while(++s<a.length){if(a[s].apply(n[0],n[1])===false&&e.stopOnFalse){s=a.length;n=false}}}if(!e.memory){n=false}t=false;if(i){if(n){a=[]}else{a=""}}},l={add:function(){if(a){if(n&&!t){s=a.length-1;o.push(n)}(function t(n){O.each(n,function(n,r){if(b(r)){if(!e.unique||!l.has(r)){a.push(r)}}else if(r&&r.length&&S(r)!=="string"){t(r)}})})(arguments);if(n&&!t){u()}}return this},remove:function(){O.each(arguments,function(e,t){var n;while((n=O.inArray(t,a,n))>-1){a.splice(n,1);if(n<=s){s--}}});return this},has:function(e){return e?O.inArray(e,a)>-1:a.length>0},empty:function(){if(a){a=[]}return this},disable:function(){i=o=[];a=n="";return this},disabled:function(){return!a},lock:function(){i=o=[];if(!n&&!t){a=n=""}return this},locked:function(){return!!i},fireWith:function(e,n){if(!i){n=n||[];n=[e,n.slice?n.slice():n];o.push(n);if(!t){u()}}return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!r}};return l};function q(e){return e}function B(e){throw e}function z(e,t,n,r){var i;try{if(e&&b(i=e.promise)){i.call(e).done(t).fail(n)}else if(e&&b(i=e.then)){i.call(e,t,n)}else{t.apply(undefined,[e].slice(r))}}catch(e){n.apply(undefined,[e])}}O.extend({Deferred:function(e){var t=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){a.done(arguments).fail(arguments);return this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return O.Deferred(function(n){O.each(t,function(t,r){var i=b(e[r[4]])&&e[r[4]];a[r[1]](function(){var e=i&&i.apply(this,arguments);if(e&&b(e.promise)){e.promise().progress(n.notify).done(n.resolve).fail(n.reject)}else{n[r[0]+"With"](this,i?[e]:arguments)}})});e=null}).promise()},then:function(e,r,i){var a=0;function o(e,t,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(e<a){return}n=r.apply(s,u);if(n===t.promise()){throw new TypeError("Thenable self-resolution")}l=n&&(typeof n==="object"||typeof n==="function")&&n.then;if(b(l)){if(i){l.call(n,o(a,t,q,i),o(a,t,B,i))}else{a++;l.call(n,o(a,t,q,i),o(a,t,B,i),o(a,t,q,t.notifyWith))}}else{if(r!==q){s=undefined;u=[n]}(i||t.resolveWith)(s,u)}},c=i?l:function(){try{l()}catch(n){if(O.Deferred.exceptionHook){O.Deferred.exceptionHook(n,c.stackTrace)}if(e+1>=a){if(r!==B){s=undefined;u=[n]}t.rejectWith(s,u)}}};if(e){c()}else{if(O.Deferred.getStackHook){c.stackTrace=O.Deferred.getStackHook()}n.setTimeout(c)}}}return O.Deferred(function(n){t[0][3].add(o(0,n,b(i)?i:q,n.notifyWith));t[1][3].add(o(0,n,b(e)?e:q));t[2][3].add(o(0,n,b(r)?r:B))}).promise()},promise:function(e){return e!=null?O.extend(e,i):i}},a={};O.each(t,function(e,n){var o=n[2],s=n[5];i[n[1]]=o.add;if(s){o.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock)}o.add(n[3].fire);a[n[0]]=function(){a[n[0]+"With"](this===a?undefined:this,arguments);return this};a[n[0]+"With"]=o.fireWith});i.promise(a);if(e){e.call(a,a)}return a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=l.call(arguments),a=O.Deferred(),o=function(e){return function(n){r[e]=this;i[e]=arguments.length>1?l.call(arguments):n;if(!--t){a.resolveWith(r,i)}}};if(t<=1){z(e,a.done(o(n)).resolve,a.reject,!t);if(a.state()==="pending"||b(i[n]&&i[n].then)){return a.then()}}while(n--){z(i[n],o(n),a.reject)}return a.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(e,t){if(n.console&&n.console.warn&&e&&G.test(e.name)){n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)}};O.readyException=function(e){n.setTimeout(function(){throw e})};var Y=O.Deferred();O.fn.ready=function(e){Y.then(e).catch(function(e){O.readyException(e)});return this};O.extend({isReady:false,readyWait:1,ready:function(e){if(e===true?--O.readyWait:O.isReady){return}O.isReady=true;if(e!==true&&--O.readyWait>0){return}Y.resolveWith(s,[O])}});O.ready.then=Y.then;function K(){s.removeEventListener("DOMContentLoaded",K);n.removeEventListener("load",K);O.ready()}if(s.readyState==="complete"||s.readyState!=="loading"&&!s.documentElement.doScroll){n.setTimeout(O.ready)}else{s.addEventListener("DOMContentLoaded",K);n.addEventListener("load",K)}var $=function(e,t,n,r,i,a,o){var s=0,u=e.length,l=n==null;if(S(n)==="object"){i=true;for(s in n){$(e,t,s,n[s],true,a,o)}}else if(r!==undefined){i=true;if(!b(r)){o=true}if(l){if(o){t.call(e,r);t=null}else{l=t;t=function(e,t,n){return l.call(O(e),n)}}}if(t){for(;s<u;s++){t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)))}}}if(i){return e}if(l){return t.call(e)}return u?t(e[0],n):a};var Q=/^-ms-/,Z=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function J(e){return e.replace(Q,"ms-").replace(Z,X)}var ee=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function te(){this.expando=O.expando+te.uid++}te.uid=1;te.prototype={cache:function(e){var t=e[this.expando];if(!t){t={};if(ee(e)){if(e.nodeType){e[this.expando]=t}else{Object.defineProperty(e,this.expando,{value:t,configurable:true})}}}return t},set:function(e,t,n){var r,i=this.cache(e);if(typeof t==="string"){i[J(t)]=n}else{for(r in t){i[J(r)]=t[r]}}return i},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][J(t)]},access:function(e,t,n){if(t===undefined||t&&typeof t==="string"&&n===undefined){return this.get(e,t)}this.set(e,t,n);return n!==undefined?n:t},remove:function(e,t){var n,r=e[this.expando];if(r===undefined){return}if(t!==undefined){if(Array.isArray(t)){t=t.map(J)}else{t=J(t);t=t in r?[t]:t.match(W)||[]}n=t.length;while(n--){delete r[t[n]]}}if(t===undefined||O.isEmptyObject(r)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!O.isEmptyObject(t)}};var ne=new te;var re=new te;var ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ae=/[A-Z]/g;function oe(e){if(e==="true"){return true}if(e==="false"){return false}if(e==="null"){return null}if(e===+e+""){return+e}if(ie.test(e)){return JSON.parse(e)}return e}function se(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(ae,"-$&").toLowerCase();n=e.getAttribute(r);if(typeof n==="string"){try{n=oe(n)}catch(e){}re.set(e,t,n)}else{n=undefined}}return n}O.extend({hasData:function(e){return re.hasData(e)||ne.hasData(e)},data:function(e,t,n){return re.access(e,t,n)},removeData:function(e,t){re.remove(e,t)},_data:function(e,t,n){return ne.access(e,t,n)},_removeData:function(e,t){ne.remove(e,t)}});O.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(e===undefined){if(this.length){i=re.get(a);if(a.nodeType===1&&!ne.get(a,"hasDataAttrs")){n=o.length;while(n--){if(o[n]){r=o[n].name;if(r.indexOf("data-")===0){r=J(r.slice(5));se(a,r,i[r])}}}ne.set(a,"hasDataAttrs",true)}}return i}if(typeof e==="object"){return this.each(function(){re.set(this,e)})}return $(this,function(t){var n;if(a&&t===undefined){n=re.get(a,e);if(n!==undefined){return n}n=se(a,e);if(n!==undefined){return n}return}this.each(function(){re.set(this,e,t)})},null,t,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){re.remove(this,e)})}});O.extend({queue:function(e,t,n){var r;if(e){t=(t||"fx")+"queue";r=ne.get(e,t);if(n){if(!r||Array.isArray(n)){r=ne.access(e,t,O.makeArray(n))}else{r.push(n)}}return r||[]}},dequeue:function(e,t){t=t||"fx";var n=O.queue(e,t),r=n.length,i=n.shift(),a=O._queueHooks(e,t),o=function(){O.dequeue(e,t)};if(i==="inprogress"){i=n.shift();r--}if(i){if(t==="fx"){n.unshift("inprogress")}delete a.stop;i.call(e,o,a)}if(!r&&a){a.empty.fire()}},_queueHooks:function(e,t){var n=t+"queueHooks";return ne.get(e,n)||ne.access(e,n,{empty:O.Callbacks("once memory").add(function(){ne.remove(e,[t+"queue",n])})})}});O.fn.extend({queue:function(e,t){var n=2;if(typeof e!=="string"){t=e;e="fx";n--}if(arguments.length<n){return O.queue(this[0],e)}return t===undefined?this:this.each(function(){var n=O.queue(this,e,t);O._queueHooks(this,e);if(e==="fx"&&n[0]!=="inprogress"){O.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){O.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=O.Deferred(),a=this,o=this.length,s=function(){if(!--r){i.resolveWith(a,[a])}};if(typeof e!=="string"){t=e;e=undefined}e=e||"fx";while(o--){n=ne.get(a[o],e+"queueHooks");if(n&&n.empty){r++;n.empty.add(s)}}s();return i.promise(t)}});var ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var le=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i");var ce=["Top","Right","Bottom","Left"];var fe=function(e,t){e=t||e;return e.style.display==="none"||e.style.display===""&&O.contains(e.ownerDocument,e)&&O.css(e,"display")==="none"};var de=function(e,t,n,r){var i,a,o={};for(a in t){o[a]=e.style[a];e.style[a]=t[a]}i=n.apply(e,r||[]);for(a in t){e.style[a]=o[a]}return i};function pe(e,t,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return O.css(e,t,"")},u=s(),l=n&&n[3]||(O.cssNumber[t]?"":"px"),c=(O.cssNumber[t]||l!=="px"&&+u)&&le.exec(O.css(e,t));if(c&&c[3]!==l){u=u/2;l=l||c[3];c=+u||1;while(o--){O.style(e,t,c+l);if((1-a)*(1-(a=s()/u||.5))<=0){o=0}c=c/a}c=c*2;O.style(e,t,c+l);n=n||[]}if(n){c=+c||+u||0;i=n[1]?c+(n[1]+1)*n[2]:+n[2];if(r){r.unit=l;r.start=c;r.end=i}}return i}var he={};function me(e){var t,n=e.ownerDocument,r=e.nodeName,i=he[r];if(i){return i}t=n.body.appendChild(n.createElement(r));i=O.css(t,"display");t.parentNode.removeChild(t);if(i==="none"){i="block"}he[r]=i;return i}function ge(e,t){var n,r,i=[],a=0,o=e.length;for(;a<o;a++){r=e[a];if(!r.style){continue}n=r.style.display;if(t){if(n==="none"){i[a]=ne.get(r,"display")||null;if(!i[a]){r.style.display=""}}if(r.style.display===""&&fe(r)){i[a]=me(r)}}else{if(n!=="none"){i[a]="none";ne.set(r,"display",n)}}}for(a=0;a<o;a++){if(i[a]!=null){e[a].style.display=i[a]}}return e}O.fn.extend({show:function(){return ge(this,true)},hide:function(){return ge(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(fe(this)){O(this).show()}else{O(this).hide()}})}});var ye=/^(?:checkbox|radio)$/i;var ve=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var be=/^$|^module$|\/(?:java|ecma)script/i;var xe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xe.optgroup=xe.option;xe.tbody=xe.tfoot=xe.colgroup=xe.caption=xe.thead;xe.th=xe.td;function Te(e,t){var n;if(typeof e.getElementsByTagName!=="undefined"){n=e.getElementsByTagName(t||"*")}else if(typeof e.querySelectorAll!=="undefined"){n=e.querySelectorAll(t||"*")}else{n=[]}if(t===undefined||t&&D(e,t)){return O.merge([e],n)}return n}function Ee(e,t){var n=0,r=e.length;for(;n<r;n++){ne.set(e[n],"globalEval",!t||ne.get(t[n],"globalEval"))}}var Se=/<|&#?\w+;/;function we(e,t,n,r,i){var a,o,s,u,l,c,f=t.createDocumentFragment(),d=[],p=0,h=e.length;for(;p<h;p++){a=e[p];if(a||a===0){if(S(a)==="object"){O.merge(d,a.nodeType?[a]:a)}else if(!Se.test(a)){d.push(t.createTextNode(a))}else{o=o||f.appendChild(t.createElement("div"));s=(ve.exec(a)||["",""])[1].toLowerCase();u=xe[s]||xe._default;o.innerHTML=u[1]+O.htmlPrefilter(a)+u[2];c=u[0];while(c--){o=o.lastChild}O.merge(d,o.childNodes);o=f.firstChild;o.textContent=""}}}f.textContent="";p=0;while(a=d[p++]){if(r&&O.inArray(a,r)>-1){if(i){i.push(a)}continue}l=O.contains(a.ownerDocument,a);o=Te(f.appendChild(a),"script");if(l){Ee(o)}if(n){c=0;while(a=o[c++]){if(be.test(a.type||"")){n.push(a)}}}}return f}(function(){var e=s.createDocumentFragment(),t=e.appendChild(s.createElement("div")),n=s.createElement("input");n.setAttribute("type","radio");n.setAttribute("checked","checked");n.setAttribute("name","t");t.appendChild(n);v.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";v.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue})();var Oe=s.documentElement;var Ie=/^key/,Ne=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ae=/^([^.]*)(?:\.(.+)|)/;function Re(){return true}function Ce(){return false}function Me(){try{return s.activeElement}catch(e){}}function De(e,t,n,r,i,a){var o,s;if(typeof t==="object"){if(typeof n!=="string"){r=r||n;n=undefined}for(s in t){De(e,s,n,r,t[s],a)}return e}if(r==null&&i==null){i=n;r=n=undefined}else if(i==null){if(typeof n==="string"){i=r;r=undefined}else{i=r;r=n;n=undefined}}if(i===false){i=Ce}else if(!i){return e}if(a===1){o=i;i=function(e){O().off(e);return o.apply(this,arguments)};i.guid=o.guid||(o.guid=O.guid++)}return e.each(function(){O.event.add(this,t,i,r,n)})}O.event={global:{},add:function(e,t,n,r,i){var a,o,s,u,l,c,f,d,p,h,m,g=ne.get(e);if(!g){return}if(n.handler){a=n;n=a.handler;i=a.selector}if(i){O.find.matchesSelector(Oe,i)}if(!n.guid){n.guid=O.guid++}if(!(u=g.events)){u=g.events={}}if(!(o=g.handle)){o=g.handle=function(t){return typeof O!=="undefined"&&O.event.triggered!==t.type?O.event.dispatch.apply(e,arguments):undefined}}t=(t||"").match(W)||[""];l=t.length;while(l--){s=Ae.exec(t[l])||[];p=m=s[1];h=(s[2]||"").split(".").sort();if(!p){continue}f=O.event.special[p]||{};p=(i?f.delegateType:f.bindType)||p;f=O.event.special[p]||{};c=O.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&O.expr.match.needsContext.test(i),namespace:h.join(".")},a);if(!(d=u[p])){d=u[p]=[];d.delegateCount=0;if(!f.setup||f.setup.call(e,r,h,o)===false){if(e.addEventListener){e.addEventListener(p,o)}}}if(f.add){f.add.call(e,c);if(!c.handler.guid){c.handler.guid=n.guid}}if(i){d.splice(d.delegateCount++,0,c)}else{d.push(c)}O.event.global[p]=true}},remove:function(e,t,n,r,i){var a,o,s,u,l,c,f,d,p,h,m,g=ne.hasData(e)&&ne.get(e);if(!g||!(u=g.events)){return}t=(t||"").match(W)||[""];l=t.length;while(l--){s=Ae.exec(t[l])||[];p=m=s[1];h=(s[2]||"").split(".").sort();if(!p){for(p in u){O.event.remove(e,p+t[l],n,r,true)}continue}f=O.event.special[p]||{};p=(r?f.delegateType:f.bindType)||p;d=u[p]||[];s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");o=a=d.length;while(a--){c=d[a];if((i||m===c.origType)&&(!n||n.guid===c.guid)&&(!s||s.test(c.namespace))&&(!r||r===c.selector||r==="**"&&c.selector)){d.splice(a,1);if(c.selector){d.delegateCount--}if(f.remove){f.remove.call(e,c)}}}if(o&&!d.length){if(!f.teardown||f.teardown.call(e,h,g.handle)===false){O.removeEvent(e,p,g.handle)}delete u[p]}}if(O.isEmptyObject(u)){ne.remove(e,"handle events")}},dispatch:function(e){var t=O.event.fix(e);var n,r,i,a,o,s,u=new Array(arguments.length),l=(ne.get(this,"events")||{})[t.type]||[],c=O.event.special[t.type]||{};u[0]=t;for(n=1;n<arguments.length;n++){u[n]=arguments[n]}t.delegateTarget=this;if(c.preDispatch&&c.preDispatch.call(this,t)===false){return}s=O.event.handlers.call(this,t,l);n=0;while((a=s[n++])&&!t.isPropagationStopped()){t.currentTarget=a.elem;r=0;while((o=a.handlers[r++])&&!t.isImmediatePropagationStopped()){if(!t.rnamespace||t.rnamespace.test(o.namespace)){t.handleObj=o;t.data=o.data;i=((O.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,u);if(i!==undefined){if((t.result=i)===false){t.preventDefault();t.stopPropagation()}}}}}if(c.postDispatch){c.postDispatch.call(this,t)}return t.result},handlers:function(e,t){var n,r,i,a,o,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(e.type==="click"&&e.button>=1)){for(;l!==this;l=l.parentNode||this){if(l.nodeType===1&&!(e.type==="click"&&l.disabled===true)){a=[];o={};for(n=0;n<u;n++){r=t[n];i=r.selector+" ";if(o[i]===undefined){o[i]=r.needsContext?O(i,this).index(l)>-1:O.find(i,this,null,[l]).length}if(o[i]){a.push(r)}}if(a.length){s.push({elem:l,handlers:a})}}}}l=this;if(u<t.length){s.push({elem:l,handlers:t.slice(u)})}return s},addProp:function(e,t){Object.defineProperty(O.Event.prototype,e,{enumerable:true,configurable:true,get:b(t)?function(){if(this.originalEvent){return t(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[e]}},set:function(t){Object.defineProperty(this,e,{enumerable:true,configurable:true,writable:true,value:t})}})},fix:function(e){return e[O.expando]?e:new O.Event(e)},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==Me()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===Me()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&D(this,"input")){this.click();return false}},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}}};O.removeEvent=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n)}};O.Event=function(e,t){if(!(this instanceof O.Event)){return new O.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?Re:Ce;this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target;this.currentTarget=e.currentTarget;this.relatedTarget=e.relatedTarget}else{this.type=e}if(t){O.extend(this,t)}this.timeStamp=e&&e.timeStamp||Date.now();this[O.expando]=true};O.Event.prototype={constructor:O.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};O.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(e){var t=e.button;if(e.which==null&&Ie.test(e.type)){return e.charCode!=null?e.charCode:e.keyCode}if(!e.which&&t!==undefined&&Ne.test(e.type)){if(t&1){return 1}if(t&2){return 3}if(t&4){return 2}return 0}return e.which}},O.event.addProp);O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){O.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;if(!i||i!==r&&!O.contains(r,i)){e.type=a.origType;n=a.handler.apply(this,arguments);e.type=t}return n}}});O.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj){r=e.handleObj;O(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);return this}if(typeof e==="object"){for(i in e){this.off(i,t,e[i])}return this}if(t===false||typeof t==="function"){n=t;t=undefined}if(n===false){n=Ce}return this.each(function(){O.event.remove(this,e,n,t)})}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,_e=/<script|<style|<link/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ke(e,t){if(D(e,"table")&&D(t.nodeType!==11?t:t.firstChild,"tr")){return O(e).children("tbody")[0]||e}return e}function He(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function Ue(e){if((e.type||"").slice(0,5)==="true/"){e.type=e.type.slice(5)}else{e.removeAttribute("type")}return e}function je(e,t){var n,r,i,a,o,s,u,l;if(t.nodeType!==1){return}if(ne.hasData(e)){a=ne.access(e);o=ne.set(t,a);l=a.events;if(l){delete o.handle;o.events={};for(i in l){for(n=0,r=l[i].length;n<r;n++){O.event.add(t,i,l[i][n])}}}}if(re.hasData(e)){s=re.access(e);u=O.extend({},s);re.set(t,u)}}function We(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&ye.test(e.type)){t.checked=e.checked}else if(n==="input"||n==="textarea"){t.defaultValue=e.defaultValue}}function Ve(e,t,n,r){t=c.apply([],t);var i,a,o,s,u,l,f=0,d=e.length,p=d-1,h=t[0],m=b(h);if(m||d>1&&typeof h==="string"&&!v.checkClone&&Fe.test(h)){return e.each(function(i){var a=e.eq(i);if(m){t[0]=h.call(this,i,a.html())}Ve(a,t,n,r)})}if(d){i=we(t,e[0].ownerDocument,false,e,r);a=i.firstChild;if(i.childNodes.length===1){
i=a}if(a||r){o=O.map(Te(i,"script"),He);s=o.length;for(;f<d;f++){u=i;if(f!==p){u=O.clone(u,true,true);if(s){O.merge(o,Te(u,"script"))}}n.call(e[f],u,f)}if(s){l=o[o.length-1].ownerDocument;O.map(o,Ue);for(f=0;f<s;f++){u=o[f];if(be.test(u.type||"")&&!ne.access(u,"globalEval")&&O.contains(l,u)){if(u.src&&(u.type||"").toLowerCase()!=="module"){if(O._evalUrl){O._evalUrl(u.src)}}else{E(u.textContent.replace(Le,""),l,u)}}}}}}return e}function qe(e,t,n){var r,i=t?O.filter(t,e):e,a=0;for(;(r=i[a])!=null;a++){if(!n&&r.nodeType===1){O.cleanData(Te(r))}if(r.parentNode){if(n&&O.contains(r.ownerDocument,r)){Ee(Te(r,"script"))}r.parentNode.removeChild(r)}}return e}O.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var r,i,a,o,s=e.cloneNode(true),u=O.contains(e.ownerDocument,e);if(!v.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!O.isXMLDoc(e)){o=Te(s);a=Te(e);for(r=0,i=a.length;r<i;r++){We(a[r],o[r])}}if(t){if(n){a=a||Te(e);o=o||Te(s);for(r=0,i=a.length;r<i;r++){je(a[r],o[r])}}else{je(e,s)}}o=Te(s,"script");if(o.length>0){Ee(o,!u&&Te(e,"script"))}return s},cleanData:function(e){var t,n,r,i=O.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(ee(n)){if(t=n[ne.expando]){if(t.events){for(r in t.events){if(i[r]){O.event.remove(n,r)}else{O.removeEvent(n,r,t.handle)}}}n[ne.expando]=undefined}if(n[re.expando]){n[re.expando]=undefined}}}}});O.fn.extend({detach:function(e){return qe(this,e,true)},remove:function(e){return qe(this,e)},text:function(e){return $(this,function(e){return e===undefined?O.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e,arguments.length)},append:function(){return Ve(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=ke(this,e);t.appendChild(e)}})},prepend:function(){return Ve(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=ke(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ve(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return Ve(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){O.cleanData(Te(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return O.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!_e.test(e)&&!xe[(ve.exec(e)||["",""])[1].toLowerCase()]){e=O.htmlPrefilter(e);try{for(;n<r;n++){t=this[n]||{};if(t.nodeType===1){O.cleanData(Te(t,false));t.innerHTML=e}}t=0}catch(e){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,function(t){var n=this.parentNode;if(O.inArray(this,e)<0){O.cleanData(Te(this));if(n){n.replaceChild(t,this)}}},e)}});O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){O.fn[e]=function(e){var n,r=[],i=O(e),a=i.length-1,o=0;for(;o<=a;o++){n=o===a?this:this.clone(true);O(i[o])[t](n);f.apply(r,n.get())}return this.pushStack(r)}});var Be=new RegExp("^("+ue+")(?!px)[a-z%]+$","i");var ze=function(e){var t=e.ownerDocument.defaultView;if(!t||!t.opener){t=n}return t.getComputedStyle(e)};var Ge=new RegExp(ce.join("|"),"i");(function(){function e(){if(!c){return}l.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";Oe.appendChild(l).appendChild(c);var e=n.getComputedStyle(c);r=e.top!=="1%";u=t(e.marginLeft)===12;c.style.right="60%";o=t(e.right)===36;i=t(e.width)===36;c.style.position="absolute";a=c.offsetWidth===36||"absolute";Oe.removeChild(l);c=null}function t(e){return Math.round(parseFloat(e))}var r,i,a,o,u,l=s.createElement("div"),c=s.createElement("div");if(!c.style){return}c.style.backgroundClip="content-box";c.cloneNode(true).style.backgroundClip="";v.clearCloneStyle=c.style.backgroundClip==="content-box";O.extend(v,{boxSizingReliable:function(){e();return i},pixelBoxStyles:function(){e();return o},pixelPosition:function(){e();return r},reliableMarginLeft:function(){e();return u},scrollboxSize:function(){e();return a}})})();function Ye(e,t,n){var r,i,a,o,s=e.style;n=n||ze(e);if(n){o=n.getPropertyValue(t)||n[t];if(o===""&&!O.contains(e.ownerDocument,e)){o=O.style(e,t)}if(!v.pixelBoxStyles()&&Be.test(o)&&Ge.test(t)){r=s.width;i=s.minWidth;a=s.maxWidth;s.minWidth=s.maxWidth=s.width=o;o=n.width;s.width=r;s.minWidth=i;s.maxWidth=a}}return o!==undefined?o+"":o}function Ke(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var $e=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Je=["Webkit","Moz","ms"],et=s.createElement("div").style;function tt(e){if(e in et){return e}var t=e[0].toUpperCase()+e.slice(1),n=Je.length;while(n--){e=Je[n]+t;if(e in et){return e}}}function nt(e){var t=O.cssProps[e];if(!t){t=O.cssProps[e]=tt(e)||e}return t}function rt(e,t,n){var r=le.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,a){var o=t==="width"?1:0,s=0,u=0;if(n===(r?"border":"content")){return 0}for(;o<4;o+=2){if(n==="margin"){u+=O.css(e,n+ce[o],true,i)}if(!r){u+=O.css(e,"padding"+ce[o],true,i);if(n!=="padding"){u+=O.css(e,"border"+ce[o]+"Width",true,i)}else{s+=O.css(e,"border"+ce[o]+"Width",true,i)}}else{if(n==="content"){u-=O.css(e,"padding"+ce[o],true,i)}if(n!=="margin"){u-=O.css(e,"border"+ce[o]+"Width",true,i)}}}if(!r&&a>=0){u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-u-s-.5))}return u}function at(e,t,n){var r=ze(e),i=Ye(e,t,r),a=O.css(e,"boxSizing",false,r)==="border-box",o=a;if(Be.test(i)){if(!n){return i}i="auto"}o=o&&(v.boxSizingReliable()||i===e.style[t]);if(i==="auto"||!parseFloat(i)&&O.css(e,"display",false,r)==="inline"){i=e["offset"+t[0].toUpperCase()+t.slice(1)];o=true}i=parseFloat(i)||0;return i+it(e,t,n||(a?"border":"content"),o,r,i)+"px"}O.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var i,a,o,s=J(t),u=Qe.test(t),l=e.style;if(!u){t=nt(s)}o=O.cssHooks[t]||O.cssHooks[s];if(n!==undefined){a=typeof n;if(a==="string"&&(i=le.exec(n))&&i[1]){n=pe(e,t,i);a="number"}if(n==null||n!==n){return}if(a==="number"){n+=i&&i[3]||(O.cssNumber[s]?"":"px")}if(!v.clearCloneStyle&&n===""&&t.indexOf("background")===0){l[t]="inherit"}if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined){if(u){l.setProperty(t,n)}else{l[t]=n}}}else{if(o&&"get"in o&&(i=o.get(e,false,r))!==undefined){return i}return l[t]}},css:function(e,t,n,r){var i,a,o,s=J(t),u=Qe.test(t);if(!u){t=nt(s)}o=O.cssHooks[t]||O.cssHooks[s];if(o&&"get"in o){i=o.get(e,true,n)}if(i===undefined){i=Ye(e,t,r)}if(i==="normal"&&t in Xe){i=Xe[t]}if(n===""||n){a=parseFloat(i);return n===true||isFinite(a)?a||0:i}return i}});O.each(["height","width"],function(e,t){O.cssHooks[t]={get:function(e,n,r){if(n){return $e.test(O.css(e,"display"))&&(!e.getClientRects().length||!e.getBoundingClientRect().width)?de(e,Ze,function(){return at(e,t,r)}):at(e,t,r)}},set:function(e,n,r){var i,a=ze(e),o=O.css(e,"boxSizing",false,a)==="border-box",s=r&&it(e,t,r,o,a);if(o&&v.scrollboxSize()===a.position){s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-it(e,t,"border",false,a)-.5)}if(s&&(i=le.exec(n))&&(i[3]||"px")!=="px"){e.style[t]=n;n=O.css(e,t)}return rt(e,n,s)}}});O.cssHooks.marginLeft=Ke(v.reliableMarginLeft,function(e,t){if(t){return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-de(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}});O.each({margin:"",padding:"",border:"Width"},function(e,t){O.cssHooks[e+t]={expand:function(n){var r=0,i={},a=typeof n==="string"?n.split(" "):[n];for(;r<4;r++){i[e+ce[r]+t]=a[r]||a[r-2]||a[0]}return i}};if(e!=="margin"){O.cssHooks[e+t].set=rt}});O.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,a={},o=0;if(Array.isArray(t)){r=ze(e);i=t.length;for(;o<i;o++){a[t[o]]=O.css(e,t[o],false,r)}return a}return n!==undefined?O.style(e,t,n):O.css(e,t)},e,t,arguments.length>1)}});function ot(e,t,n,r,i){return new ot.prototype.init(e,t,n,r,i)}O.Tween=ot;ot.prototype={constructor:ot,init:function(e,t,n,r,i,a){this.elem=e;this.prop=n;this.easing=i||O.easing._default;this.options=t;this.start=this.now=this.cur();this.end=r;this.unit=a||(O.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];if(this.options.duration){this.pos=t=O.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(n&&n.set){n.set(this)}else{ot.propHooks._default.set(this)}return this}};ot.prototype.init.prototype=ot.prototype;ot.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=O.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(O.fx.step[e.prop]){O.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(e.elem.style[O.cssProps[e.prop]]!=null||O.cssHooks[e.prop])){O.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};ot.propHooks.scrollTop=ot.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};O.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};O.fx=ot.prototype.init;O.fx.step={};var st,ut,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ft(){if(ut){if(s.hidden===false&&n.requestAnimationFrame){n.requestAnimationFrame(ft)}else{n.setTimeout(ft,O.fx.interval)}O.fx.tick()}}function dt(){n.setTimeout(function(){st=undefined});return st=Date.now()}function pt(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t){n=ce[r];i["margin"+n]=i["padding"+n]=e}if(t){i.opacity=i.width=e}return i}function ht(e,t,n){var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),a=0,o=i.length;for(;a<o;a++){if(r=i[a].call(n,t,e)){return r}}}function mt(e,t,n){var r,i,a,o,s,u,l,c,f="width"in t||"height"in t,d=this,p={},h=e.style,m=e.nodeType&&fe(e),g=ne.get(e,"fxshow");if(!n.queue){o=O._queueHooks(e,"fx");if(o.unqueued==null){o.unqueued=0;s=o.empty.fire;o.empty.fire=function(){if(!o.unqueued){s()}}}o.unqueued++;d.always(function(){d.always(function(){o.unqueued--;if(!O.queue(e,"fx").length){o.empty.fire()}})})}for(r in t){i=t[r];if(lt.test(i)){delete t[r];a=a||i==="toggle";if(i===(m?"hide":"show")){if(i==="show"&&g&&g[r]!==undefined){m=true}else{continue}}p[r]=g&&g[r]||O.style(e,r)}}u=!O.isEmptyObject(t);if(!u&&O.isEmptyObject(p)){return}if(f&&e.nodeType===1){n.overflow=[h.overflow,h.overflowX,h.overflowY];l=g&&g.display;if(l==null){l=ne.get(e,"display")}c=O.css(e,"display");if(c==="none"){if(l){c=l}else{ge([e],true);l=e.style.display||l;c=O.css(e,"display");ge([e])}}if(c==="inline"||c==="inline-block"&&l!=null){if(O.css(e,"float")==="none"){if(!u){d.done(function(){h.display=l});if(l==null){c=h.display;l=c==="none"?"":c}}h.display="inline-block"}}}if(n.overflow){h.overflow="hidden";d.always(function(){h.overflow=n.overflow[0];h.overflowX=n.overflow[1];h.overflowY=n.overflow[2]})}u=false;for(r in p){if(!u){if(g){if("hidden"in g){m=g.hidden}}else{g=ne.access(e,"fxshow",{display:l})}if(a){g.hidden=!m}if(m){ge([e],true)}d.done(function(){if(!m){ge([e])}ne.remove(e,"fxshow");for(r in p){O.style(e,r,p[r])}})}u=ht(m?g[r]:0,r,d);if(!(r in g)){g[r]=u.start;if(m){u.end=u.start;u.start=0}}}}function gt(e,t){var n,r,i,a,o;for(n in e){r=J(n);i=t[r];a=e[n];if(Array.isArray(a)){i=a[1];a=e[n]=a[0]}if(n!==r){e[r]=a;delete e[n]}o=O.cssHooks[r];if(o&&"expand"in o){a=o.expand(a);delete e[r];for(n in a){if(!(n in e)){e[n]=a[n];t[n]=i}}}else{t[r]=i}}}function yt(e,t,n){var r,i,a=0,o=yt.prefilters.length,s=O.Deferred().always(function(){delete u.elem}),u=function(){if(i){return false}var t=st||dt(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,a=1-r,o=0,u=l.tweens.length;for(;o<u;o++){l.tweens[o].run(a)}s.notifyWith(e,[l,a,n]);if(a<1&&u){return n}if(!u){s.notifyWith(e,[l,1,0])}s.resolveWith(e,[l]);return false},l=s.promise({elem:e,props:O.extend({},t),opts:O.extend(true,{specialEasing:{},easing:O.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=O.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);l.tweens.push(r);return r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i){return this}i=true;for(;n<r;n++){l.tweens[n].run(1)}if(t){s.notifyWith(e,[l,1,0]);s.resolveWith(e,[l,t])}else{s.rejectWith(e,[l,t])}return this}}),c=l.props;gt(c,l.opts.specialEasing);for(;a<o;a++){r=yt.prefilters[a].call(l,e,c,l.opts);if(r){if(b(r.stop)){O._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)}return r}}O.map(c,ht,l);if(b(l.opts.start)){l.opts.start.call(e,l)}l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always);O.fx.timer(O.extend(u,{elem:e,anim:l,queue:l.opts.queue}));return l}O.Animation=O.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);pe(n.elem,e,le.exec(t),n);return n}]},tweener:function(e,t){if(b(e)){t=e;e=["*"]}else{e=e.match(W)}var n,r=0,i=e.length;for(;r<i;r++){n=e[r];yt.tweeners[n]=yt.tweeners[n]||[];yt.tweeners[n].unshift(t)}},prefilters:[mt],prefilter:function(e,t){if(t){yt.prefilters.unshift(e)}else{yt.prefilters.push(e)}}});O.speed=function(e,t,n){var r=e&&typeof e==="object"?O.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};if(O.fx.off){r.duration=0}else{if(typeof r.duration!=="number"){if(r.duration in O.fx.speeds){r.duration=O.fx.speeds[r.duration]}else{r.duration=O.fx.speeds._default}}}if(r.queue==null||r.queue===true){r.queue="fx"}r.old=r.complete;r.complete=function(){if(b(r.old)){r.old.call(this)}if(r.queue){O.dequeue(this,r.queue)}};return r};O.fn.extend({fadeTo:function(e,t,n,r){return this.filter(fe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=O.isEmptyObject(e),a=O.speed(t,n,r),o=function(){var t=yt(this,O.extend({},e),a);if(i||ne.get(this,"finish")){t.stop(true)}};o.finish=o;return i||a.queue===false?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop;t(n)};if(typeof e!=="string"){n=t;t=e;e=undefined}if(t&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,i=e!=null&&e+"queueHooks",a=O.timers,o=ne.get(this);if(i){if(o[i]&&o[i].stop){r(o[i])}}else{for(i in o){if(o[i]&&o[i].stop&&ct.test(i)){r(o[i])}}}for(i=a.length;i--;){if(a[i].elem===this&&(e==null||a[i].queue===e)){a[i].anim.stop(n);t=false;a.splice(i,1)}}if(t||!n){O.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,n=ne.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=O.timers,o=r?r.length:0;n.finish=true;O.queue(this,e,[]);if(i&&i.stop){i.stop.call(this,true)}for(t=a.length;t--;){if(a[t].elem===this&&a[t].queue===e){a[t].anim.stop(true);a.splice(t,1)}}for(t=0;t<o;t++){if(r[t]&&r[t].finish){r[t].finish.call(this)}}delete n.finish})}});O.each(["toggle","show","hide"],function(e,t){var n=O.fn[t];O.fn[t]=function(e,r,i){return e==null||typeof e==="boolean"?n.apply(this,arguments):this.animate(pt(t,true),e,r,i)}});O.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){O.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}});O.timers=[];O.fx.tick=function(){var e,t=0,n=O.timers;st=Date.now();for(;t<n.length;t++){e=n[t];if(!e()&&n[t]===e){n.splice(t--,1)}}if(!n.length){O.fx.stop()}st=undefined};O.fx.timer=function(e){O.timers.push(e);O.fx.start()};O.fx.interval=13;O.fx.start=function(){if(ut){return}ut=true;ft()};O.fx.stop=function(){ut=null};O.fx.speeds={slow:600,fast:200,_default:400};O.fn.delay=function(e,t){e=O.fx?O.fx.speeds[e]||e:e;t=t||"fx";return this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})};(function(){var e=s.createElement("input"),t=s.createElement("select"),n=t.appendChild(s.createElement("option"));e.type="checkbox";v.checkOn=e.value!=="";v.optSelected=n.selected;e=s.createElement("input");e.value="t";e.type="radio";v.radioValue=e.value==="t"})();var vt,bt=O.expr.attrHandle;O.fn.extend({attr:function(e,t){return $(this,O.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){O.removeAttr(this,e)})}});O.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(a===3||a===8||a===2){return}if(typeof e.getAttribute==="undefined"){return O.prop(e,t,n)}if(a!==1||!O.isXMLDoc(e)){i=O.attrHooks[t.toLowerCase()]||(O.expr.match.bool.test(t)?vt:undefined)}if(n!==undefined){if(n===null){O.removeAttr(e,t);return}if(i&&"set"in i&&(r=i.set(e,n,t))!==undefined){return r}e.setAttribute(t,n+"");return n}if(i&&"get"in i&&(r=i.get(e,t))!==null){return r}r=O.find.attr(e,t);return r==null?undefined:r},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&t==="radio"&&D(e,"input")){var n=e.value;e.setAttribute("type",t);if(n){e.value=n}return t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(W);if(i&&e.nodeType===1){while(n=i[r++]){e.removeAttribute(n)}}}});vt={set:function(e,t,n){if(t===false){O.removeAttr(e,n)}else{e.setAttribute(n,n)}return n}};O.each(O.expr.match.bool.source.match(/\w+/g),function(e,t){var n=bt[t]||O.find.attr;bt[t]=function(e,t,r){var i,a,o=t.toLowerCase();if(!r){a=bt[o];bt[o]=i;i=n(e,t,r)!=null?o:null;bt[o]=a}return i}});var xt=/^(?:input|select|textarea|button)$/i,Tt=/^(?:a|area)$/i;O.fn.extend({prop:function(e,t){return $(this,O.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[O.propFix[e]||e]})}});O.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(a===3||a===8||a===2){return}if(a!==1||!O.isXMLDoc(e)){t=O.propFix[t]||t;i=O.propHooks[t]}if(n!==undefined){if(i&&"set"in i&&(r=i.set(e,n,t))!==undefined){return r}return e[t]=n}if(i&&"get"in i&&(r=i.get(e,t))!==null){return r}return e[t]},propHooks:{tabIndex:{get:function(e){var t=O.find.attr(e,"tabindex");if(t){return parseInt(t,10)}if(xt.test(e.nodeName)||Tt.test(e.nodeName)&&e.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!v.optSelected){O.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.parentNode){t.parentNode.selectedIndex}return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}}}}O.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){O.propFix[this.toLowerCase()]=this});function Et(e){var t=e.match(W)||[];return t.join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){if(Array.isArray(e)){return e}if(typeof e==="string"){return e.match(W)||[]}return[]}O.fn.extend({addClass:function(e){var t,n,r,i,a,o,s,u=0;if(b(e)){return this.each(function(t){O(this).addClass(e.call(this,t,St(this)))})}t=wt(e);if(t.length){while(n=this[u++]){i=St(n);r=n.nodeType===1&&" "+Et(i)+" ";if(r){o=0;while(a=t[o++]){if(r.indexOf(" "+a+" ")<0){r+=a+" "}}s=Et(r);if(i!==s){n.setAttribute("class",s)}}}}return this},removeClass:function(e){var t,n,r,i,a,o,s,u=0;if(b(e)){return this.each(function(t){O(this).removeClass(e.call(this,t,St(this)))})}if(!arguments.length){return this.attr("class","")}t=wt(e);if(t.length){while(n=this[u++]){i=St(n);r=n.nodeType===1&&" "+Et(i)+" ";if(r){o=0;while(a=t[o++]){while(r.indexOf(" "+a+" ")>-1){r=r.replace(" "+a+" "," ")}}s=Et(r);if(i!==s){n.setAttribute("class",s)}}}}return this},toggleClass:function(e,t){var n=typeof e,r=n==="string"||Array.isArray(e);if(typeof t==="boolean"&&r){return t?this.addClass(e):this.removeClass(e)}if(b(e)){return this.each(function(n){O(this).toggleClass(e.call(this,n,St(this),t),t)})}return this.each(function(){var t,i,a,o;if(r){i=0;a=O(this);o=wt(e);while(t=o[i++]){if(a.hasClass(t)){a.removeClass(t)}else{a.addClass(t)}}}else if(e===undefined||n==="boolean"){t=St(this);if(t){ne.set(this,"__className__",t)}if(this.setAttribute){this.setAttribute("class",t||e===false?"":ne.get(this,"__className__")||"")}}})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++]){if(n.nodeType===1&&(" "+Et(St(n))+" ").indexOf(t)>-1){return true}}return false}});var Ot=/\r/g;O.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i){t=O.valHooks[i.type]||O.valHooks[i.nodeName.toLowerCase()];if(t&&"get"in t&&(n=t.get(i,"value"))!==undefined){return n}n=i.value;if(typeof n==="string"){return n.replace(Ot,"")}return n==null?"":n}return}r=b(e);return this.each(function(n){var i;if(this.nodeType!==1){return}if(r){i=e.call(this,n,O(this).val())}else{i=e}if(i==null){i=""}else if(typeof i==="number"){i+=""}else if(Array.isArray(i)){i=O.map(i,function(e){return e==null?"":e+""})}t=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined){this.value=i}})}});O.extend({valHooks:{option:{get:function(e){var t=O.find.attr(e,"value");return t!=null?t:Et(O.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,o=e.type==="select-one",s=o?null:[],u=o?a+1:i.length;if(a<0){r=u}else{r=o?a:0}for(;r<u;r++){n=i[r];if((n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){t=O(n).val();if(o){return t}s.push(t)}}return s},set:function(e,t){var n,r,i=e.options,a=O.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=O.inArray(O.valHooks.option.get(r),a)>-1){n=true}}if(!n){e.selectedIndex=-1}return a}}}});O.each(["radio","checkbox"],function(){O.valHooks[this]={set:function(e,t){if(Array.isArray(t)){return e.checked=O.inArray(O(e).val(),t)>-1}}};if(!v.checkOn){O.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});v.focusin="onfocusin"in n;var It=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};O.extend(O.event,{trigger:function(e,t,r,i){var a,o,u,l,c,f,d,p,h=[r||s],g=m.call(e,"type")?e.type:e,y=m.call(e,"namespace")?e.namespace.split("."):[];o=p=u=r=r||s;if(r.nodeType===3||r.nodeType===8){return}if(It.test(g+O.event.triggered)){return}if(g.indexOf(".")>-1){y=g.split(".");g=y.shift();y.sort()}c=g.indexOf(":")<0&&"on"+g;e=e[O.expando]?e:new O.Event(g,typeof e==="object"&&e);e.isTrigger=i?2:3;e.namespace=y.join(".");e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;e.result=undefined;if(!e.target){e.target=r}t=t==null?[e]:O.makeArray(t,[e]);d=O.event.special[g]||{};if(!i&&d.trigger&&d.trigger.apply(r,t)===false){return}if(!i&&!d.noBubble&&!x(r)){l=d.delegateType||g;if(!It.test(l+g)){o=o.parentNode}for(;o;o=o.parentNode){h.push(o);u=o}if(u===(r.ownerDocument||s)){h.push(u.defaultView||u.parentWindow||n)}}a=0;while((o=h[a++])&&!e.isPropagationStopped()){p=o;e.type=a>1?l:d.bindType||g;f=(ne.get(o,"events")||{})[e.type]&&ne.get(o,"handle");if(f){f.apply(o,t)}f=c&&o[c];if(f&&f.apply&&ee(o)){e.result=f.apply(o,t);if(e.result===false){e.preventDefault()}}}e.type=g;if(!i&&!e.isDefaultPrevented()){if((!d._default||d._default.apply(h.pop(),t)===false)&&ee(r)){if(c&&b(r[g])&&!x(r)){u=r[c];if(u){r[c]=null}O.event.triggered=g;if(e.isPropagationStopped()){p.addEventListener(g,Nt)}r[g]();if(e.isPropagationStopped()){p.removeEventListener(g,Nt)}O.event.triggered=undefined;if(u){r[c]=u}}}}return e.result},simulate:function(e,t,n){var r=O.extend(new O.Event,n,{type:e,isSimulated:true});O.event.trigger(r,null,t)}});O.fn.extend({trigger:function(e,t){return this.each(function(){O.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n){return O.event.trigger(e,t,n,true)}}});if(!v.focusin){O.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){O.event.simulate(t,e.target,O.event.fix(e))};O.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ne.access(r,t);if(!i){r.addEventListener(e,n,true)}ne.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ne.access(r,t)-1;if(!i){r.removeEventListener(e,n,true);ne.remove(r,t)}else{ne.access(r,t,i)}}}})}var At=n.location;var Rt=Date.now();var Ct=/\?/;O.parseXML=function(e){var t;if(!e||typeof e!=="string"){return null}try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=undefined}if(!t||t.getElementsByTagName("parsererror").length){O.error("Invalid XML: "+e)}return t};var Mt=/\[\]$/,Dt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;function Ft(e,t,n,r){var i;if(Array.isArray(t)){O.each(t,function(t,i){if(n||Mt.test(e)){r(e,i)}else{Ft(e+"["+(typeof i==="object"&&i!=null?t:"")+"]",i,n,r)}})}else if(!n&&S(t)==="object"){for(i in t){Ft(e+"["+i+"]",t[i],n,r)}}else{r(e,t)}}O.param=function(e,t){var n,r=[],i=function(e,t){var n=b(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(n==null?"":n)};if(Array.isArray(e)||e.jquery&&!O.isPlainObject(e)){O.each(e,function(){i(this.name,this.value)})}else{for(n in e){Ft(n,e[n],t,i)}}return r.join("&")};O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=O.prop(this,"elements");return e?O.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!O(this).is(":disabled")&&_t.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ye.test(e))}).map(function(e,t){var n=O(this).val();if(n==null){return null}if(Array.isArray(n)){return O.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}})}return{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Lt=/%20/g,kt=/#.*$/,Ht=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wt=/^(?:GET|HEAD)$/,Vt=/^\/\//,qt={},Bt={},zt="*/".concat("*"),Gt=s.createElement("a");Gt.href=At.href;function Yt(e){return function(t,n){if(typeof t!=="string"){n=t;t="*"}var r,i=0,a=t.toLowerCase().match(W)||[];if(b(n)){while(r=a[i++]){if(r[0]==="+"){r=r.slice(1)||"*";(e[r]=e[r]||[]).unshift(n)}else{(e[r]=e[r]||[]).push(n)}}}}}function Kt(e,t,n,r){var i={},a=e===Bt;function o(s){var u;i[s]=true;O.each(e[s]||[],function(e,s){var l=s(t,n,r);if(typeof l==="string"&&!a&&!i[l]){t.dataTypes.unshift(l);o(l);return false}else if(a){return!(u=l)}});return u}return o(t.dataTypes[0])||!i["*"]&&o("*")}function $t(e,t){var n,r,i=O.ajaxSettings.flatOptions||{};for(n in t){if(t[n]!==undefined){(i[n]?e:r||(r={}))[n]=t[n]}}if(r){O.extend(true,e,r)}return e}function Qt(e,t,n){var r,i,a,o,s=e.contents,u=e.dataTypes;while(u[0]==="*"){u.shift();if(r===undefined){r=e.mimeType||t.getResponseHeader("Content-Type")}}if(r){for(i in s){if(s[i]&&s[i].test(r)){u.unshift(i);break}}}if(u[0]in n){a=u[0]}else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){a=i;break}if(!o){o=i}}a=a||o}if(a){if(a!==u[0]){u.unshift(a)}return n[a]}}function Zt(e,t,n,r){var i,a,o,s,u,l={},c=e.dataTypes.slice();if(c[1]){for(o in e.converters){l[o.toLowerCase()]=e.converters[o]}}a=c.shift();while(a){if(e.responseFields[a]){n[e.responseFields[a]]=t}if(!u&&r&&e.dataFilter){t=e.dataFilter(t,e.dataType)}u=a;a=c.shift();if(a){if(a==="*"){a=u}else if(u!=="*"&&u!==a){o=l[u+" "+a]||l["* "+a];if(!o){for(i in l){s=i.split(" ");if(s[1]===a){o=l[u+" "+s[0]]||l["* "+s[0]];if(o){if(o===true){o=l[i]}else if(l[i]!==true){a=s[0];c.unshift(s[1])}break}}}}if(o!==true){if(o&&e.throws){t=o(t)}else{try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+a}}}}}}}return{state:"success",data:t}}O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:jt.test(At.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?$t($t(e,O.ajaxSettings),t):$t(O.ajaxSettings,e)},ajaxPrefilter:Yt(qt),ajaxTransport:Yt(Bt),ajax:function(e,t){if(typeof e==="object"){t=e;e=undefined}t=t||{};var r,i,a,o,u,l,c,f,d,p,h=O.ajaxSetup({},t),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?O(m):O.event,y=O.Deferred(),v=O.Callbacks("once memory"),b=h.statusCode||{},x={},T={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o){o={};while(t=Ut.exec(a)){o[t[1].toLowerCase()]=t[2]}}t=o[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){if(c==null){e=T[e.toLowerCase()]=T[e.toLowerCase()]||e;x[e]=t}return this},overrideMimeType:function(e){if(c==null){h.mimeType=e}return this},statusCode:function(e){var t;if(e){if(c){S.always(e[S.status])}else{for(t in e){b[t]=[b[t],e[t]]}}}return this},abort:function(e){var t=e||E;if(r){r.abort(t)}w(0,t);return this}};y.promise(S);h.url=((e||h.url||At.href)+"").replace(Vt,At.protocol+"//");h.type=t.method||t.type||h.method||h.type;h.dataTypes=(h.dataType||"*").toLowerCase().match(W)||[""];if(h.crossDomain==null){l=s.createElement("a");try{l.href=h.url;l.href=l.href;h.crossDomain=Gt.protocol+"//"+Gt.host!==l.protocol+"//"+l.host}catch(e){h.crossDomain=true}}if(h.data&&h.processData&&typeof h.data!=="string"){h.data=O.param(h.data,h.traditional)}Kt(qt,h,t,S);if(c){return S}f=O.event&&h.global;if(f&&O.active++===0){O.event.trigger("ajaxStart")}h.type=h.type.toUpperCase();h.hasContent=!Wt.test(h.type);i=h.url.replace(kt,"");if(!h.hasContent){p=h.url.slice(i.length);if(h.data&&(h.processData||typeof h.data==="string")){i+=(Ct.test(i)?"&":"?")+h.data;delete h.data}if(h.cache===false){i=i.replace(Ht,"$1");p=(Ct.test(i)?"&":"?")+"_="+Rt++ +p}h.url=i+p}else if(h.data&&h.processData&&(h.contentType||"").indexOf("application/x-www-form-urlencoded")===0){h.data=h.data.replace(Lt,"+")}if(h.ifModified){if(O.lastModified[i]){S.setRequestHeader("If-Modified-Since",O.lastModified[i])}if(O.etag[i]){S.setRequestHeader("If-None-Match",O.etag[i])}}if(h.data&&h.hasContent&&h.contentType!==false||t.contentType){S.setRequestHeader("Content-Type",h.contentType)}S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(h.dataTypes[0]!=="*"?", "+zt+"; q=0.01":""):h.accepts["*"]);for(d in h.headers){S.setRequestHeader(d,h.headers[d])}if(h.beforeSend&&(h.beforeSend.call(m,S,h)===false||c)){return S.abort()}E="abort";v.add(h.complete);S.done(h.success);S.fail(h.error);r=Kt(Bt,h,t,S);if(!r){w(-1,"No Transport")}else{S.readyState=1;if(f){g.trigger("ajaxSend",[S,h])}if(c){return S}if(h.async&&h.timeout>0){u=n.setTimeout(function(){S.abort("timeout")},h.timeout)}try{c=false;r.send(x,w)}catch(e){if(c){throw e}w(-1,e)}}function w(e,t,o,s){var l,d,p,x,T,E=t;if(c){return}c=true;if(u){n.clearTimeout(u)}r=undefined;a=s||"";S.readyState=e>0?4:0;l=e>=200&&e<300||e===304;if(o){x=Qt(h,S,o)}x=Zt(h,x,S,l);if(l){if(h.ifModified){T=S.getResponseHeader("Last-Modified");
if(T){O.lastModified[i]=T}T=S.getResponseHeader("etag");if(T){O.etag[i]=T}}if(e===204||h.type==="HEAD"){E="nocontent"}else if(e===304){E="notmodified"}else{E=x.state;d=x.data;p=x.error;l=!p}}else{p=E;if(e||!E){E="error";if(e<0){e=0}}}S.status=e;S.statusText=(t||E)+"";if(l){y.resolveWith(m,[d,E,S])}else{y.rejectWith(m,[S,E,p])}S.statusCode(b);b=undefined;if(f){g.trigger(l?"ajaxSuccess":"ajaxError",[S,h,l?d:p])}v.fireWith(m,[S,E]);if(f){g.trigger("ajaxComplete",[S,h]);if(!--O.active){O.event.trigger("ajaxStop")}}}return S},getJSON:function(e,t,n){return O.get(e,t,n,"json")},getScript:function(e,t){return O.get(e,undefined,t,"script")}});O.each(["get","post"],function(e,t){O[t]=function(e,n,r,i){if(b(n)){i=i||r;r=n;n=undefined}return O.ajax(O.extend({url:e,type:t,dataType:i,data:n,success:r},O.isPlainObject(e)&&e))}});O._evalUrl=function(e){return O.ajax({url:e,type:"GET",dataType:"script",cache:true,async:false,global:false,throws:true})};O.fn.extend({wrapAll:function(e){var t;if(this[0]){if(b(e)){e=e.call(this[0])}t=O(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(e){if(b(e)){return this.each(function(t){O(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=O(this),n=t.contents();if(n.length){n.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=b(e);return this.each(function(n){O(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){this.parent(e).not("body").each(function(){O(this).replaceWith(this.childNodes)});return this}});O.expr.pseudos.hidden=function(e){return!O.expr.pseudos.visible(e)};O.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};O.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Jt=O.ajaxSettings.xhr();v.cors=!!Jt&&"withCredentials"in Jt;v.ajax=Jt=!!Jt;O.ajaxTransport(function(e){var t,r;if(v.cors||Jt&&!e.crossDomain){return{send:function(i,a){var o,s=e.xhr();s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields){for(o in e.xhrFields){s[o]=e.xhrFields[o]}}if(e.mimeType&&s.overrideMimeType){s.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!i["X-Requested-With"]){i["X-Requested-With"]="XMLHttpRequest"}for(o in i){s.setRequestHeader(o,i[o])}t=function(e){return function(){if(t){t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null;if(e==="abort"){s.abort()}else if(e==="error"){if(typeof s.status!=="number"){a(0,"error")}else{a(s.status,s.statusText)}}else{a(Xt[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!=="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders())}}}};s.onload=t();r=s.onerror=s.ontimeout=t("error");if(s.onabort!==undefined){s.onabort=r}else{s.onreadystatechange=function(){if(s.readyState===4){n.setTimeout(function(){if(t){r()}})}}}t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t){throw e}}},abort:function(){if(t){t()}}}}});O.ajaxPrefilter(function(e){if(e.crossDomain){e.contents.script=false}});O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){O.globalEval(e);return e}}});O.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});O.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=O("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove();n=null;if(e){i(e.type==="error"?404:200,e.type)}});s.head.appendChild(t[0])},abort:function(){if(n){n()}}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||O.expando+"_"+Rt++;this[e]=true;return e}});O.ajaxPrefilter("json jsonp",function(e,t,r){var i,a,o,s=e.jsonp!==false&&(tn.test(e.url)?"url":typeof e.data==="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&tn.test(e.data)&&"data");if(s||e.dataTypes[0]==="jsonp"){i=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback;if(s){e[s]=e[s].replace(tn,"$1"+i)}else if(e.jsonp!==false){e.url+=(Ct.test(e.url)?"&":"?")+e.jsonp+"="+i}e.converters["script json"]=function(){if(!o){O.error(i+" was not called")}return o[0]};e.dataTypes[0]="json";a=n[i];n[i]=function(){o=arguments};r.always(function(){if(a===undefined){O(n).removeProp(i)}else{n[i]=a}if(e[i]){e.jsonpCallback=t.jsonpCallback;en.push(i)}if(o&&b(a)){a(o[0])}o=a=undefined});return"script"}});v.createHTMLDocument=function(){var e=s.implementation.createHTMLDocument("").body;e.innerHTML="<form></form><form></form>";return e.childNodes.length===2}();O.parseHTML=function(e,t,n){if(typeof e!=="string"){return[]}if(typeof t==="boolean"){n=t;t=false}var r,i,a;if(!t){if(v.createHTMLDocument){t=s.implementation.createHTMLDocument("");r=t.createElement("base");r.href=s.location.href;t.head.appendChild(r)}else{t=s}}i=P.exec(e);a=!n&&[];if(i){return[t.createElement(i[1])]}i=we([e],t,a);if(a&&a.length){O(a).remove()}return O.merge([],i.childNodes)};O.fn.load=function(e,t,n){var r,i,a,o=this,s=e.indexOf(" ");if(s>-1){r=Et(e.slice(s));e=e.slice(0,s)}if(b(t)){n=t;t=undefined}else if(t&&typeof t==="object"){i="POST"}if(o.length>0){O.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){a=arguments;o.html(r?O("<div>").append(O.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})})}return this};O.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){O.fn[t]=function(e){return this.on(t,e)}});O.expr.pseudos.animated=function(e){return O.grep(O.timers,function(t){return e===t.elem}).length};O.offset={setOffset:function(e,t,n){var r,i,a,o,s,u,l,c=O.css(e,"position"),f=O(e),d={};if(c==="static"){e.style.position="relative"}s=f.offset();a=O.css(e,"top");u=O.css(e,"left");l=(c==="absolute"||c==="fixed")&&(a+u).indexOf("auto")>-1;if(l){r=f.position();o=r.top;i=r.left}else{o=parseFloat(a)||0;i=parseFloat(u)||0}if(b(t)){t=t.call(e,n,O.extend({},s))}if(t.top!=null){d.top=t.top-s.top+o}if(t.left!=null){d.left=t.left-s.left+i}if("using"in t){t.using.call(e,d)}else{f.css(d)}}};O.fn.extend({offset:function(e){if(arguments.length){return e===undefined?this:this.each(function(t){O.offset.setOffset(this,e,t)})}var t,n,r=this[0];if(!r){return}if(!r.getClientRects().length){return{top:0,left:0}}t=r.getBoundingClientRect();n=r.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}},position:function(){if(!this[0]){return}var e,t,n,r=this[0],i={top:0,left:0};if(O.css(r,"position")==="fixed"){t=r.getBoundingClientRect()}else{t=this.offset();n=r.ownerDocument;e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&O.css(e,"position")==="static"){e=e.parentNode}if(e&&e!==r&&e.nodeType===1){i=O(e).offset();i.top+=O.css(e,"borderTopWidth",true);i.left+=O.css(e,"borderLeftWidth",true)}}return{top:t.top-i.top-O.css(r,"marginTop",true),left:t.left-i.left-O.css(r,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&O.css(e,"position")==="static"){e=e.offsetParent}return e||Oe})}});O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;O.fn[e]=function(r){return $(this,function(e,r,i){var a;if(x(e)){a=e}else if(e.nodeType===9){a=e.defaultView}if(i===undefined){return a?a[t]:e[r]}if(a){a.scrollTo(!n?i:a.pageXOffset,n?i:a.pageYOffset)}else{e[r]=i}},e,r,arguments.length)}});O.each(["top","left"],function(e,t){O.cssHooks[t]=Ke(v.pixelPosition,function(e,n){if(n){n=Ye(e,t);return Be.test(n)?O(e).position()[t]+"px":n}})});O.each({Height:"height",Width:"width"},function(e,t){O.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){O.fn[r]=function(i,a){var o=arguments.length&&(n||typeof i!=="boolean"),s=n||(i===true||a===true?"margin":"border");return $(this,function(t,n,i){var a;if(x(t)){return r.indexOf("outer")===0?t["inner"+e]:t.document.documentElement["client"+e]}if(t.nodeType===9){a=t.documentElement;return Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])}return i===undefined?O.css(t,n,s):O.style(t,n,i,s)},t,o?i:undefined,o)}})});O.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(e,t){O.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});O.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});O.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});O.proxy=function(e,t){var n,r,i;if(typeof t==="string"){n=e[t];t=e;e=n}if(!b(e)){return undefined}r=l.call(arguments,2);i=function(){return e.apply(t||this,r.concat(l.call(arguments)))};i.guid=e.guid=e.guid||O.guid++;return i};O.holdReady=function(e){if(e){O.readyWait++}else{O.ready(true)}};O.isArray=Array.isArray;O.parseJSON=JSON.parse;O.nodeName=D;O.isFunction=b;O.isWindow=x;O.camelCase=J;O.type=S;O.now=Date.now;O.isNumeric=function(e){var t=O.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))};if(true){!(r=[],i=function(){return O}.apply(t,r),i!==undefined&&(e.exports=i))}var nn=n.jQuery,rn=n.$;O.noConflict=function(e){if(n.$===O){n.$=rn}if(e&&n.jQuery===O){n.jQuery=nn}return O};if(!a){n.jQuery=n.$=O}return O})},function(e,t,n){(function(e,n){var r=200;var i="__lodash_hash_undefined__";var a=9007199254740991;var o="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",h="[object Number]",m="[object Object]",g="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",T="[object WeakMap]";var E="[object ArrayBuffer]",S="[object DataView]",w="[object Float32Array]",O="[object Float64Array]",I="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]";var P=/[\\^$.*+?()[\]{}|]/g;var _=/\w*$/;var F=/^\[object .+?Constructor\]$/;var L=/^(?:0|[1-9]\d*)$/;var k={};k[w]=k[O]=k[I]=k[N]=k[A]=k[R]=k[C]=k[M]=k[D]=true;k[o]=k[s]=k[E]=k[u]=k[S]=k[l]=k[c]=k[f]=k[p]=k[h]=k[m]=k[y]=k[v]=k[b]=k[T]=false;var H={};H[o]=H[s]=H[E]=H[S]=H[u]=H[l]=H[w]=H[O]=H[I]=H[N]=H[A]=H[p]=H[h]=H[m]=H[y]=H[v]=H[b]=H[x]=H[R]=H[C]=H[M]=H[D]=true;H[c]=H[f]=H[T]=false;var U=typeof e=="object"&&e&&e.Object===Object&&e;var j=typeof self=="object"&&self&&self.Object===Object&&self;var W=U||j||Function("return this")();var V=typeof t=="object"&&t&&!t.nodeType&&t;var q=V&&typeof n=="object"&&n&&!n.nodeType&&n;var B=q&&q.exports===V;var z=B&&U.process;var G=function(){try{return z&&z.binding("util")}catch(e){}}();var Y=G&&G.isTypedArray;function K(e,t){e.set(t[0],t[1]);return e}function $(e,t){e.add(t);return e}function Q(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Z(e,t){var n=-1,r=e?e.length:0;while(++n<r){if(t(e[n],n,e)===false){break}}return e}function X(e,t){var n=-1,r=t.length,i=e.length;while(++n<r){e[i+n]=t[n]}return e}function J(e,t,n,r){var i=-1,a=e?e.length:0;if(r&&a){n=e[++i]}while(++i<a){n=t(n,e[i],i,e)}return n}function ee(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}function te(e){return function(t){return e(t)}}function ne(e,t){return e==null?undefined:e[t]}function re(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}function ie(e){var t=-1,n=Array(e.size);e.forEach(function(e,r){n[++t]=[r,e]});return n}function ae(e,t){return function(n){return e(t(n))}}function oe(e){var t=-1,n=Array(e.size);e.forEach(function(e){n[++t]=e});return n}var se=Array.prototype,ue=Function.prototype,le=Object.prototype;var ce=W["__core-js_shared__"];var fe=function(){var e=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var de=ue.toString;var pe=le.hasOwnProperty;var he=de.call(Object);var me=le.toString;var ge=RegExp("^"+de.call(pe).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ye=B?W.Buffer:undefined,ve=W.Symbol,be=W.Uint8Array,xe=ae(Object.getPrototypeOf,Object),Te=Object.create,Ee=le.propertyIsEnumerable,Se=se.splice;var we=Object.getOwnPropertySymbols,Oe=ye?ye.isBuffer:undefined,Ie=ae(Object.keys,Object),Ne=Math.max;var Ae=Wt(W,"DataView"),Re=Wt(W,"Map"),Ce=Wt(W,"Promise"),Me=Wt(W,"Set"),De=Wt(W,"WeakMap"),Pe=Wt(Object,"create");var _e=Jt(Ae),Fe=Jt(Re),Le=Jt(Ce),ke=Jt(Me),He=Jt(De);var Ue=ve?ve.prototype:undefined,je=Ue?Ue.valueOf:undefined;function We(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ve(){this.__data__=Pe?Pe(null):{}}function qe(e){return this.has(e)&&delete this.__data__[e]}function Be(e){var t=this.__data__;if(Pe){var n=t[e];return n===i?undefined:n}return pe.call(t,e)?t[e]:undefined}function ze(e){var t=this.__data__;return Pe?t[e]!==undefined:pe.call(t,e)}function Ge(e,t){var n=this.__data__;n[e]=Pe&&t===undefined?i:t;return this}We.prototype.clear=Ve;We.prototype["delete"]=qe;We.prototype.get=Be;We.prototype.has=ze;We.prototype.set=Ge;function Ye(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ke(){this.__data__=[]}function $e(e){var t=this.__data__,n=ht(t,e);if(n<0){return false}var r=t.length-1;if(n==r){t.pop()}else{Se.call(t,n,1)}return true}function Qe(e){var t=this.__data__,n=ht(t,e);return n<0?undefined:t[n][1]}function Ze(e){return ht(this.__data__,e)>-1}function Xe(e,t){var n=this.__data__,r=ht(n,e);if(r<0){n.push([e,t])}else{n[r][1]=t}return this}Ye.prototype.clear=Ke;Ye.prototype["delete"]=$e;Ye.prototype.get=Qe;Ye.prototype.has=Ze;Ye.prototype.set=Xe;function Je(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function et(){this.__data__={hash:new We,map:new(Re||Ye),string:new We}}function tt(e){return jt(this,e)["delete"](e)}function nt(e){return jt(this,e).get(e)}function rt(e){return jt(this,e).has(e)}function it(e,t){jt(this,e).set(e,t);return this}Je.prototype.clear=et;Je.prototype["delete"]=tt;Je.prototype.get=nt;Je.prototype.has=rt;Je.prototype.set=it;function at(e){this.__data__=new Ye(e)}function ot(){this.__data__=new Ye}function st(e){return this.__data__["delete"](e)}function ut(e){return this.__data__.get(e)}function lt(e){return this.__data__.has(e)}function ct(e,t){var n=this.__data__;if(n instanceof Ye){var i=n.__data__;if(!Re||i.length<r-1){i.push([e,t]);return this}n=this.__data__=new Je(i)}n.set(e,t);return this}at.prototype.clear=ot;at.prototype["delete"]=st;at.prototype.get=ut;at.prototype.has=lt;at.prototype.set=ct;function ft(e,t){var n=nn(e)||tn(e)?ee(e.length,String):[];var r=n.length,i=!!r;for(var a in e){if((t||pe.call(e,a))&&!(i&&(a=="length"||Yt(a,r)))){n.push(a)}}return n}function dt(e,t,n){if(n!==undefined&&!en(e[t],n)||typeof t=="number"&&n===undefined&&!(t in e)){e[t]=n}}function pt(e,t,n){var r=e[t];if(!(pe.call(e,t)&&en(r,n))||n===undefined&&!(t in e)){e[t]=n}}function ht(e,t){var n=e.length;while(n--){if(en(e[n][0],t)){return n}}return-1}function mt(e,t){return e&&Lt(t,hn(t),e)}function gt(e,t,n,r,i,a,s){var u;if(r){u=a?r(e,i,a,s):r(e)}if(u!==undefined){return u}if(!ln(e)){return e}var l=nn(e);if(l){u=Bt(e);if(!t){return Ft(e,u)}}else{var c=qt(e),p=c==f||c==d;if(on(e)){return Nt(e,t)}if(c==m||c==o||p&&!a){if(re(e)){return a?e:{}}u=zt(p?{}:e);if(!t){return kt(e,mt(u,e))}}else{if(!H[c]){return a?e:{}}u=Gt(e,c,gt,t)}}s||(s=new at);var h=s.get(e);if(h){return h}s.set(e,u);if(!l){var g=n?Ut(e):hn(e)}Z(g||e,function(i,a){if(g){a=i;i=e[a]}pt(u,a,gt(i,t,n,r,a,e,s))});return u}function yt(e){return ln(e)?Te(e):{}}function vt(e,t,n){var r=t(e);return nn(e)?r:X(r,n(e))}function bt(e){return me.call(e)}function xt(e){if(!ln(e)||Qt(e)){return false}var t=sn(e)||re(e)?ge:F;return t.test(Jt(e))}function Tt(e){return cn(e)&&un(e.length)&&!!k[me.call(e)]}function Et(e){if(!Zt(e)){return Ie(e)}var t=[];for(var n in Object(e)){if(pe.call(e,n)&&n!="constructor"){t.push(n)}}return t}function St(e){if(!ln(e)){return Xt(e)}var t=Zt(e),n=[];for(var r in e){if(!(r=="constructor"&&(t||!pe.call(e,r)))){n.push(r)}}return n}function wt(e,t,n,r,i){if(e===t){return}if(!(nn(t)||dn(t))){var a=St(t)}Z(a||t,function(o,s){if(a){s=o;o=t[s]}if(ln(o)){i||(i=new at);Ot(e,t,s,n,wt,r,i)}else{var u=r?r(e[s],o,s+"",e,t,i):undefined;if(u===undefined){u=o}dt(e,s,u)}})}function Ot(e,t,n,r,i,a,o){var s=e[n],u=t[n],l=o.get(u);if(l){dt(e,n,l);return}var c=a?a(s,u,n+"",e,t,o):undefined;var f=c===undefined;if(f){c=u;if(nn(u)||dn(u)){if(nn(s)){c=s}else if(an(s)){c=Ft(s)}else{f=false;c=gt(u,true)}}else if(fn(u)||tn(u)){if(tn(s)){c=pn(s)}else if(!ln(s)||r&&sn(s)){f=false;c=gt(u,true)}else{c=s}}else{f=false}}if(f){o.set(u,c);i(c,u,r,a,o);o["delete"](u)}dt(e,n,c)}function It(e,t){t=Ne(t===undefined?e.length-1:t,0);return function(){var n=arguments,r=-1,i=Ne(n.length-t,0),a=Array(i);while(++r<i){a[r]=n[t+r]}r=-1;var o=Array(t+1);while(++r<t){o[r]=n[r]}o[t]=a;return Q(e,this,o)}}function Nt(e,t){if(t){return e.slice()}var n=new e.constructor(e.length);e.copy(n);return n}function At(e){var t=new e.constructor(e.byteLength);new be(t).set(new be(e));return t}function Rt(e,t){var n=t?At(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ct(e,t,n){var r=t?n(ie(e),true):ie(e);return J(r,K,new e.constructor)}function Mt(e){var t=new e.constructor(e.source,_.exec(e));t.lastIndex=e.lastIndex;return t}function Dt(e,t,n){var r=t?n(oe(e),true):oe(e);return J(r,$,new e.constructor)}function Pt(e){return je?Object(je.call(e)):{}}function _t(e,t){var n=t?At(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ft(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r){t[n]=e[n]}return t}function Lt(e,t,n,r){n||(n={});var i=-1,a=t.length;while(++i<a){var o=t[i];var s=r?r(n[o],e[o],o,n,e):undefined;pt(n,o,s===undefined?e[o]:s)}return n}function kt(e,t){return Lt(e,Vt(e),t)}function Ht(e){return It(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:undefined,o=i>2?n[2]:undefined;a=e.length>3&&typeof a=="function"?(i--,a):undefined;if(o&&Kt(n[0],n[1],o)){a=i<3?undefined:a;i=1}t=Object(t);while(++r<i){var s=n[r];if(s){e(t,s,r,a)}}return t})}function Ut(e){return vt(e,hn,Vt)}function jt(e,t){var n=e.__data__;return $t(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Wt(e,t){var n=ne(e,t);return xt(n)?n:undefined}var Vt=we?ae(we,Object):yn;var qt=bt;if(Ae&&qt(new Ae(new ArrayBuffer(1)))!=S||Re&&qt(new Re)!=p||Ce&&qt(Ce.resolve())!=g||Me&&qt(new Me)!=v||De&&qt(new De)!=T){qt=function(e){var t=me.call(e),n=t==m?e.constructor:undefined,r=n?Jt(n):undefined;if(r){switch(r){case _e:return S;case Fe:return p;case Le:return g;case ke:return v;case He:return T}}return t}}function Bt(e){var t=e.length,n=e.constructor(t);if(t&&typeof e[0]=="string"&&pe.call(e,"index")){n.index=e.index;n.input=e.input}return n}function zt(e){return typeof e.constructor=="function"&&!Zt(e)?yt(xe(e)):{}}function Gt(e,t,n,r){var i=e.constructor;switch(t){case E:return At(e);case u:case l:return new i(+e);case S:return Rt(e,r);case w:case O:case I:case N:case A:case R:case C:case M:case D:return _t(e,r);case p:return Ct(e,r,n);case h:case b:return new i(e);case y:return Mt(e);case v:return Dt(e,r,n);case x:return Pt(e)}}function Yt(e,t){t=t==null?a:t;return!!t&&(typeof e=="number"||L.test(e))&&(e>-1&&e%1==0&&e<t)}function Kt(e,t,n){if(!ln(n)){return false}var r=typeof t;if(r=="number"?rn(n)&&Yt(t,n.length):r=="string"&&t in n){return en(n[t],e)}return false}function $t(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Qt(e){return!!fe&&fe in e}function Zt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||le;return e===n}function Xt(e){var t=[];if(e!=null){for(var n in Object(e)){t.push(n)}}return t}function Jt(e){if(e!=null){try{return de.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function en(e,t){return e===t||e!==e&&t!==t}function tn(e){return an(e)&&pe.call(e,"callee")&&(!Ee.call(e,"callee")||me.call(e)==o)}var nn=Array.isArray;function rn(e){return e!=null&&un(e.length)&&!sn(e)}function an(e){return cn(e)&&rn(e)}var on=Oe||vn;function sn(e){var t=ln(e)?me.call(e):"";return t==f||t==d}function un(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=a}function ln(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function cn(e){return!!e&&typeof e=="object"}function fn(e){if(!cn(e)||me.call(e)!=m||re(e)){return false}var t=xe(e);if(t===null){return true}var n=pe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&de.call(n)==he}var dn=Y?te(Y):Tt;function pn(e){return Lt(e,mn(e))}function hn(e){return rn(e)?ft(e):Et(e)}function mn(e){return rn(e)?ft(e,true):St(e)}var gn=Ht(function(e,t,n){wt(e,t,n)});function yn(){return[]}function vn(){return false}n.exports=gn}).call(t,function(){return this}(),n(14)(e))},function(e,t){var n=1e3;var r=n*60;var i=r*60;var a=i*24;var o=a*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0){return s(e)}else if(n==="number"&&isNaN(e)===false){return t.long?l(e):u(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function s(e){e=String(e);if(e.length>100){return}var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t){return}var s=parseFloat(t[1]);var u=(t[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return undefined}}function u(e){if(e>=a){return Math.round(e/a)+"d"}if(e>=i){return Math.round(e/i)+"h"}if(e>=r){return Math.round(e/r)+"m"}if(e>=n){return Math.round(e/n)+"s"}return e+"ms"}function l(e){return c(e,a,"day")||c(e,i,"hour")||c(e,r,"minute")||c(e,n,"second")||e+" ms"}function c(e,t,n){if(e<t){return}if(e<t*1.5){return Math.floor(e/t)+" "+n}return Math.ceil(e/t)+" "+n+"s"}},function(e,t){var n=e.exports={};var r;var i;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=a}}catch(e){r=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=o}}catch(e){i=o}})();function s(e){if(r===setTimeout){return setTimeout(e,0)}if((r===a||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===o||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var c=false;var f;var d=-1;function p(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{d=-1}if(l.length){h()}}function h(){if(c){return}var e=s(p);c=true;var t=l.length;while(t){f=l;l=[];while(++d<t){if(f){f[d].run()}}d=-1;t=l.length}f=null;c=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new m(e,t));if(l.length===1&&!c){s(h)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function g(){}n.on=g;n.addListener=g;n.once=g;n.off=g;n.removeListener=g;n.removeAllListeners=g;n.emit=g;n.prependListener=g;n.prependOnceListener=g;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,t,n){(function n(r,i){if(true)e.exports=i();else if(typeof define==="function"&&define.amd)define([],i);else if(typeof t==="object")t["powerbi-models"]=i();else r["powerbi-models"]=i()})(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:false};e[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:true});t.advancedFilterSchema=n(1);t.filterSchema=n(2);t.loadSchema=n(3);t.dashboardLoadSchema=n(4);t.pageSchema=n(5);t.settingsSchema=n(6);t.basicFilterSchema=n(7);t.createReportSchema=n(8);t.saveAsParametersSchema=n(9);var i=n(10);function a(e){var t=e.message;if(!t){t=e.path+" is invalid. Not meeting "+e.keyword+" constraint"}return{message:t}}function o(e,t){return function(n){var r=i(e,t);var o=r(n);if(o){return undefined}else{return r.errors.map(a)}}}t.validateSettings=o(t.settingsSchema,{schemas:{basicFilter:t.basicFilterSchema,advancedFilter:t.advancedFilterSchema}});t.validateReportLoad=o(t.loadSchema,{schemas:{settings:t.settingsSchema,basicFilter:t.basicFilterSchema,advancedFilter:t.advancedFilterSchema}});t.validateCreateReport=o(t.createReportSchema);t.validateDashboardLoad=o(t.dashboardLoadSchema);t.validatePage=o(t.pageSchema);t.validateFilter=o(t.filterSchema,{schemas:{basicFilter:t.basicFilterSchema,advancedFilter:t.advancedFilterSchema}});var s;(function(e){e[e["Advanced"]=0]="Advanced";e[e["Basic"]=1]="Basic";e[e["Unknown"]=2]="Unknown"})(s=t.FilterType||(t.FilterType={}));function u(e){return d(e)&&!!e.keys}t.isFilterKeyColumnsTarget=u;function l(e){return c(e)===s.Basic&&!!e.keyValues}t.isBasicFilterWithKeys=l;function c(e){var t=e;var n=e;if(typeof t.operator==="string"&&Array.isArray(t.values)){return s.Basic}else if(typeof n.logicalOperator==="string"&&Array.isArray(n.conditions)){return s.Advanced}else{return s.Unknown}}t.getFilterType=c;function f(e){return e.table!==undefined&&e.measure!==undefined}t.isMeasure=f;function d(e){return e.table!==undefined&&e.column!==undefined}t.isColumn=d;function p(e){return e.table!==undefined&&e.hierarchy!==undefined&&e.hierarchyLevel!==undefined}t.isHierarchy=p;var h=function(){function e(e){this.target=e}e.prototype.toJSON=function(){return{$schema:this.schemaUrl,target:this.target}};return e}();t.Filter=h;var m=function(e){r(t,e);function t(n,r){var i=[];for(var a=2;a<arguments.length;a++){i[a-2]=arguments[a]}var o=e.call(this,n)||this;o.operator=r;o.schemaUrl=t.schemaUrl;if(i.length===0&&r!=="All"){throw new Error('values must be a non-empty array unless your operator is "All".')}if(Array.isArray(i[0])){o.values=i[0]}else{o.values=i}return o}t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);t.operator=this.operator;t.values=this.values;return t};return t}(h);m.schemaUrl="http://powerbi.com/product/schema#basic";t.BasicFilter=m;var g=function(e){r(t,e);function t(t,n,r,i){var a=e.call(this,t,n,r)||this;a.keyValues=i;a.target=t;var o=t.keys?t.keys.length:0;if(o>0&&!i){throw new Error("You shold pass the values to be filtered for each key. You passed: no values and "+o+" keys")}if(o===0&&i&&i.length>0){throw new Error("You passed key values but your target object doesn't contain the keys to be filtered")}for(var s=0;s<a.keyValues.length;s++){if(a.keyValues[s]){var u=a.keyValues[s].length;if(u!==o){throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: "+u+" values and "+o+" keys")}}}return a}t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);t.keyValues=this.keyValues;return t};return t}(m);t.BasicFilterWithKeys=g;var y=function(e){r(t,e);function t(n,r){var i=[];for(var a=2;a<arguments.length;a++){i[a-2]=arguments[a]}var o=e.call(this,n)||this;o.schemaUrl=t.schemaUrl;if(typeof r!=="string"||r.length===0){throw new Error("logicalOperator must be a valid operator, You passed: "+r)}o.logicalOperator=r;var s;if(Array.isArray(i[0])){s=i[0]}else{s=i}if(s.length===0){throw new Error("conditions must be a non-empty array. You passed: "+i)}if(s.length>2){throw new Error("AdvancedFilters may not have more than two conditions. You passed: "+i.length)}if(s.length===1&&r!=="And"){throw new Error('Logical Operator must be "And" when there is only one condition provided')}o.conditions=s;return o}t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);t.logicalOperator=this.logicalOperator;t.conditions=this.conditions;return t};return t}(h);y.schemaUrl="http://powerbi.com/product/schema#advanced";t.AdvancedFilter=y;var v;(function(e){e[e["Read"]=0]="Read";e[e["ReadWrite"]=1]="ReadWrite";e[e["Copy"]=2]="Copy";e[e["Create"]=4]="Create";e[e["All"]=7]="All"})(v=t.Permissions||(t.Permissions={}));var b;(function(e){e[e["View"]=0]="View";e[e["Edit"]=1]="Edit"})(b=t.ViewMode||(t.ViewMode={}));var x;(function(e){e[e["Aad"]=0]="Aad";e[e["Embed"]=1]="Embed"})(x=t.TokenType||(t.TokenType={}));t.validateSaveAsParameters=o(t.saveAsParametersSchema)},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{target:{oneOf:[{type:"object",properties:{table:{type:"string"},column:{type:"string"}},required:["table","column"]},{type:"object",properties:{table:{type:"string"},hierarchy:{type:"string"},hierarchyLevel:{type:"string"}},required:["table","hierarchy","hierarchyLevel"]},{type:"object",properties:{table:{type:"string"},measure:{type:"string"}},required:["table","measure"]}]},logicalOperator:{type:"string"},conditions:{type:"array",items:{type:"object",properties:{value:{type:["string","boolean","number"]},operator:{type:"string"}},required:["value","operator"]}}},required:["target","logicalOperator","conditions"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",oneOf:[{$ref:"#basicFilter"},{$ref:"#advancedFilter"}],invalidMessage:"filter is invalid"}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}},settings:{$ref:"#settings"},pageName:{type:"string",messages:{type:"pageName must be a string"}},filters:{type:"array",items:{type:"object",oneOf:[{$ref:"#basicFilter"},{$ref:"#advancedFilter"}]},invalidMessage:"filters property is invalid"},permissions:{type:"number",enum:[0,1,2,4,7],default:0,invalidMessage:"permissions property is invalid"},viewMode:{type:"number",enum:[0,1],default:0,invalidMessage:"viewMode property is invalid"},tokenType:{type:"number",enum:[0,1],default:0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","id"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{
type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}},pageView:{type:"string",messages:{type:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}},tokenType:{type:"number",enum:[0,1],default:0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","id"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{name:{type:"string",messages:{type:"name must be a string",required:"name is required"}}},required:["name"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{filterPaneEnabled:{type:"boolean",messages:{type:"filterPaneEnabled must be a boolean"}},navContentPaneEnabled:{type:"boolean",messages:{type:"navContentPaneEnabled must be a boolean"}},useCustomSaveAsDialog:{type:"boolean",messages:{type:"useCustomSaveAsDialog must be a boolean"}}}}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{target:{type:"object",properties:{table:{type:"string"},column:{type:"string"},hierarchy:{type:"string"},hierarchyLevel:{type:"string"},measure:{type:"string"}},required:["table"]},operator:{type:"string"},values:{type:"array",items:{type:["string","boolean","number"]}}},required:["target","operator","values"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},datasetId:{type:"string",messages:{type:"datasetId must be a string",required:"datasetId is required"}},tokenType:{type:"number",enum:[0,1],default:0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","datasetId"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{name:{type:"string",messages:{type:"name must be a string",required:"name is required"}}},required:["name"]}},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";var r=/[\/]/g,i=/(")/gim,a=/^[a-z_$][0-9a-z]*$/gi,o="jsen: invalid schema object",s=typeof window==="object"&&!!window.navigator,u=new RegExp("/").source!=="/",l=n(12),c=n(13),f=n(14),d=n(15),p=n(24),h=n(25),m={},g={};function y(e){e=e instanceof RegExp?e:new RegExp(e);return u?e.toString():"/"+e.source.replace(r,"\\$&")+"/"}function v(e){return'"'+e.replace(i,"\\$1")+'"'}function b(e,t){a.lastIndex=0;return a.test(t)?e+"."+t:e+"["+v(t)+"]"}function x(e){if(e===undefined){return"undefined"}var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function T(e){return(e|0)===e}m["null"]=function(e){return e+" === null"};m.boolean=function(e){return"typeof "+e+' === "boolean"'};m.string=function(e){return"typeof "+e+' === "string"'};m.number=function(e){return"typeof "+e+' === "number"'};m.integer=function(e){return"typeof "+e+' === "number" && !('+e+" % 1)"};m.array=function(e){return"Array.isArray("+e+")"};m.object=function(e){return"typeof "+e+' === "object" && '+e+" !== null && !Array.isArray("+e+")"};m.date=function(e){return e+" instanceof Date"};g.enum=function(e){var t=e.schema["enum"];e.code("if (!equalAny("+e.path+", "+JSON.stringify(t)+")) {");e.error("enum");e.code("}")};g.minimum=function(e){if(typeof e.schema.minimum==="number"){e.code("if ("+e.path+" < "+e.schema.minimum+") {");e.error("minimum");e.code("}")}};g.exclusiveMinimum=function(e){if(e.schema.exclusiveMinimum===true&&typeof e.schema.minimum==="number"){e.code("if ("+e.path+" === "+e.schema.minimum+") {");e.error("exclusiveMinimum");e.code("}")}};g.maximum=function(e){if(typeof e.schema.maximum==="number"){e.code("if ("+e.path+" > "+e.schema.maximum+") {");e.error("maximum");e.code("}")}};g.exclusiveMaximum=function(e){if(e.schema.exclusiveMaximum===true&&typeof e.schema.maximum==="number"){e.code("if ("+e.path+" === "+e.schema.maximum+") {");e.error("exclusiveMaximum");e.code("}")}};g.multipleOf=function(e){if(typeof e.schema.multipleOf==="number"){var t=e.schema.multipleOf,n=t.toString().length-t.toFixed(0).length-1,r=n>0?Math.pow(10,n):1,i=e.path;if(n>0){e.code("if (+(Math.round(("+i+" * "+r+') + "e+" + '+n+') + "e-" + '+n+") % "+t*r+" !== 0) {")}else{e.code("if ((("+i+" * "+r+") % "+t*r+") !== 0) {")}e.error("multipleOf");e.code("}")}};g.minLength=function(e){if(T(e.schema.minLength)){e.code("if (ucs2length("+e.path+") < "+e.schema.minLength+") {");e.error("minLength");e.code("}")}};g.maxLength=function(e){if(T(e.schema.maxLength)){e.code("if (ucs2length("+e.path+") > "+e.schema.maxLength+") {");e.error("maxLength");e.code("}")}};g.pattern=function(e){var t=e.schema.pattern;if(typeof t==="string"||t instanceof RegExp){e.code("if (!("+y(t)+").test("+e.path+")) {");e.error("pattern");e.code("}")}};g.format=function(e){if(typeof e.schema.format!=="string"||!p[e.schema.format]){return}e.code("if (!("+p[e.schema.format]+").test("+e.path+")) {");e.error("format");e.code("}")};g.minItems=function(e){if(T(e.schema.minItems)){e.code("if ("+e.path+".length < "+e.schema.minItems+") {");e.error("minItems");e.code("}")}};g.maxItems=function(e){if(T(e.schema.maxItems)){e.code("if ("+e.path+".length > "+e.schema.maxItems+") {");e.error("maxItems");e.code("}")}};g.additionalItems=function(e){if(e.schema.additionalItems===false&&Array.isArray(e.schema.items)){e.code("if ("+e.path+".length > "+e.schema.items.length+") {");e.error("additionalItems");e.code("}")}};g.uniqueItems=function(e){if(e.schema.uniqueItems){e.code("if (unique("+e.path+").length !== "+e.path+".length) {");e.error("uniqueItems");e.code("}")}};g.items=function(e){var t=e.declare(0),n=0;if(x(e.schema.items)==="object"){e.code("for ("+t+" = 0; "+t+" < "+e.path+".length; "+t+"++) {");e.descend(e.path+"["+t+"]",e.schema.items);e.code("}")}else if(Array.isArray(e.schema.items)){for(;n<e.schema.items.length;n++){e.code("if ("+e.path+".length - 1 >= "+n+") {");e.descend(e.path+"["+n+"]",e.schema.items[n]);e.code("}")}if(x(e.schema.additionalItems)==="object"){e.code("for ("+t+" = "+n+"; "+t+" < "+e.path+".length; "+t+"++) {");e.descend(e.path+"["+t+"]",e.schema.additionalItems);e.code("}")}}};g.maxProperties=function(e){if(T(e.schema.maxProperties)){e.code("if (Object.keys("+e.path+").length > "+e.schema.maxProperties+") {");e.error("maxProperties");e.code("}")}};g.minProperties=function(e){if(T(e.schema.minProperties)){e.code("if (Object.keys("+e.path+").length < "+e.schema.minProperties+") {");e.error("minProperties");e.code("}")}};g.required=function(e){if(!Array.isArray(e.schema.required)){return}for(var t=0;t<e.schema.required.length;t++){e.code("if ("+b(e.path,e.schema.required[t])+" === undefined) {");e.error("required",e.schema.required[t]);e.code("}")}};g.properties=function(e){var t=e.schema.properties,n=x(t)==="object"?Object.keys(t):[],r=Array.isArray(e.schema.required)?e.schema.required:[],i,a,o;if(!n.length){return}for(a=0;a<n.length;a++){i=n[a];o=b(e.path,i);e.code("if ("+o+" !== undefined) {");e.descend(o,t[i]);e.code("}");if(r.indexOf(i)>-1){e.code("else {");e.error("required",i);e.code("}")}}};g.patternProperties=g.additionalProperties=function(e){var t=x(e.schema.properties)==="object"?Object.keys(e.schema.properties):[],n=e.schema.patternProperties,r=x(n)==="object"?Object.keys(n):[],i=e.schema.additionalProperties,a=i===false||x(i)==="object",o,s,u,l,c,f,d;if(!r.length&&!a){return}s=e.declare("[]");u=e.declare('""');l=e.declare(0);if(a){c=e.declare(false)}e.code(s+" = Object.keys("+e.path+")");e.code("for ("+l+" = 0; "+l+" < "+s+".length; "+l+"++) {")(u+" = "+s+"["+l+"]")("if ("+e.path+"["+u+"] === undefined) {")("continue")("}");if(a){e.code(c+" = false")}for(d=0;d<r.length;d++){f=r[d];e.code("if (("+y(f)+").test("+u+")) {");e.descend(e.path+"["+u+"]",n[f]);if(a){e.code(c+" = true")}e.code("}")}if(a){if(t.length){o=e.declare(JSON.stringify(t));e.code("if ("+o+".indexOf("+u+") > -1) {")("continue")("}")}e.code("if (!"+c+") {");if(i===false){e.error("additionalProperties",undefined,u)}else{e.descend(e.path+"["+u+"]",i)}e.code("}")}e.code("}")};g.dependencies=function(e){if(x(e.schema.dependencies)!=="object"){return}var t=Object.keys(e.schema.dependencies),n=t.length,r,i,a=0,o=0;for(;o<n;o++){r=t[o];i=e.schema.dependencies[r];e.code("if ("+b(e.path,r)+" !== undefined) {");if(x(i)==="object"){e.descend(e.path,i)}else{for(a;a<i.length;a++){e.code("if ("+b(e.path,i[a])+" === undefined) {");e.error("dependencies",i[a]);e.code("}")}}e.code("}")}};g.allOf=function(e){if(!Array.isArray(e.schema.allOf)){return}for(var t=0;t<e.schema.allOf.length;t++){e.descend(e.path,e.schema.allOf[t])}};g.anyOf=function(e){if(!Array.isArray(e.schema.anyOf)){return}var t=e.greedy,n=e.declare(0),r=e.declare(0),i=e.declare(false),a=0;e.code(r+" = errors.length");for(;a<e.schema.anyOf.length;a++){e.code("if (!"+i+") {");e.code(n+" = errors.length");e.greedy=true;e.descend(e.path,e.schema.anyOf[a]);e.code(i+" = errors.length === "+n)("}")}e.greedy=t;e.code("if (!"+i+") {");e.error("anyOf");e.code("} else {")("errors.length = "+r)("}")};g.oneOf=function(e){if(!Array.isArray(e.schema.oneOf)){return}var t=e.greedy,n=e.declare(0),r=e.declare(0),i=e.declare(0),a=0;e.code(r+" = errors.length");e.code(n+" = 0");for(;a<e.schema.oneOf.length;a++){e.code(i+" = errors.length");e.greedy=true;e.descend(e.path,e.schema.oneOf[a]);e.code("if (errors.length === "+i+") {")(n+"++")("}")}e.greedy=t;e.code("if ("+n+" !== 1) {");e.error("oneOf");e.code("} else {")("errors.length = "+r)("}")};g.not=function(e){if(x(e.schema.not)!=="object"){return}var t=e.greedy,n=e.declare(0);e.code(n+" = errors.length");e.greedy=true;e.descend(e.path,e.schema.not);e.greedy=t;e.code("if (errors.length === "+n+") {");e.error("not");e.code("} else {")("errors.length = "+n)("}")};function E(e,t){g[t].type=e;g[t].keyword=t}["minimum","exclusiveMinimum","maximum","exclusiveMaximum","multipleOf"].forEach(E.bind(null,"number"));["minLength","maxLength","pattern","format"].forEach(E.bind(null,"string"));["minItems","maxItems","additionalItems","uniqueItems","items"].forEach(E.bind(null,"array"));["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"].forEach(E.bind(null,"object"));["enum","allOf","anyOf","oneOf","not"].forEach(E.bind(null,null));function S(e){var t=Object.keys(e),n=t.indexOf("properties"),r=t.indexOf("patternProperties"),i={enum:Array.isArray(e.enum)&&e.enum.length>0,type:null,allType:[],perType:{}},a,o,s;if(e.type){if(typeof e.type==="string"){i.type=[e.type]}else if(Array.isArray(e.type)&&e.type.length){i.type=e.type.slice(0)}}for(s=0;s<t.length;s++){a=t[s];if(a==="enum"||a==="type"){continue}o=g[a];if(!o){continue}if(o.type){if(!i.perType[o.type]){i.perType[o.type]=[]}if(!(n>-1&&a==="required")&&!(r>-1&&a==="additionalProperties")){i.perType[o.type].push(a)}}else{i.allType.push(a)}}return i}function w(e,t){var n=e.substr(4),r=n.length,i=[],a="",o=false,s,u;for(u=0;u<r;u++){s=n[u];switch(s){case".":if(a){a+=s}break;case"[":if(isNaN(+n[u+1])){o=true;if(a){i.push('"'+a+'"');a=""}}else{o=false;if(a){a+="."}}break;case"]":i.push(o?a:'"'+a+'"');a="";break;default:a+=s}}if(a){i.push('"'+a+'"')}if(t){i.push('"'+t+'"')}if(i.length===1&&o){return'"" + '+i[0]+' + ""'}return i.join(' + "." + ')||'""'}function O(e){var t=e,n=x(e),r,i,a,o;if(n==="object"){t={};r=Object.keys(e);for(o=0,i=r.length;o<i;o++){a=r[o];t[a]=O(e[a])}}else if(n==="array"){t=[];for(o=0,i=e.length;o<i;o++){t[o]=O(e[o])}}else if(n==="regexp"){return new RegExp(e)}else if(n==="date"){return new Date(e.toJSON())}return t}function I(e,t){for(var n=0,r=t.length;n<r;n++){if(c(e,t[n])){return true}}return false}function N(){this.objects=[];this.properties=[]}N.prototype.mark=function(e,t){var n=this.objects.indexOf(e),r;if(n<0){this.objects.push(e);r={};r[t]=1;this.properties.push(r);return}r=this.properties[n];r[t]=r[t]?r[t]+1:1};N.prototype.deleteDuplicates=function(){var e,t,n,r,i;for(r=0;r<this.properties.length;r++){e=this.properties[r];t=Object.keys(e);for(i=0;i<t.length;i++){n=t[i];if(e[n]>1){delete this.objects[r][n]}}}};N.prototype.dispose=function(){this.objects.length=0;this.properties.length=0};function A(e,t,n,r,i){var a,o,s,u,l,c,f;if(x(e)!=="object"){return t}e=r.resolve(e);if(t===undefined&&e.hasOwnProperty("default")){t=O(e["default"])}a=x(t);if(a==="object"&&x(e.properties)==="object"){c=Object.keys(e.properties);for(u=0;u<c.length;u++){s=c[u];o=A(e.properties[s],t[s],n,r);if(o!==undefined){t[s]=o}}if(n!=="always"){f=Object.keys(t);for(u=0;u<f.length;u++){s=f[u];if(c.indexOf(s)<0&&(e.additionalProperties===false||n===false&&!e.additionalProperties)){if(i){i.mark(t,s)}else{delete t[s]}}}}}else if(a==="array"&&e.items){if(x(e.items)==="array"){for(u=0;u<e.items.length;u++){o=A(e.items[u],t[u],n,r);if(o!==undefined||u<t.length){t[u]=o}}}else if(t.length){for(u=0;u<t.length;u++){t[u]=A(e.items,t[u],n,r)}}}else if(x(e.allOf)==="array"&&e.allOf.length){l=new N;for(u=0;u<e.allOf.length;u++){t=A(e.allOf[u],t,n,r,l)}l.deleteDuplicates();l.dispose()}return t}function R(e){this.path="data";this.schema=e.schema;this.formats=e.formats;this.greedy=e.greedy;this.resolver=e.resolver;this.id=e.id;this.funcache=e.funcache||{};this.scope=e.scope||{equalAny:I,unique:f,ucs2length:h,refs:{}}}R.prototype.clone=function(e){var t=new R({schema:e,formats:this.formats,greedy:this.greedy,resolver:this.resolver,id:this.id,funcache:this.funcache,scope:this.scope});return t};R.prototype.declare=function(e){var t=this.id();this.code.def(t,e);return t};R.prototype.cache=function(e,t){var n=this.funcache[e],r;if(!n){n=this.funcache[e]={key:this.id()};r=this.clone(t);n.func=r.compile(n.key);this.scope.refs[n.key]=n.func;r.dispose()}return"refs."+n.key};R.prototype.error=function(e,t,n){var r=this.schema,i=this.path,a=i!=="data"||t?'(path ? path + "." : "") + '+w(i,t)+",":"path,",o=t&&r.properties&&r.properties[t]?this.resolver.resolve(r.properties[t]):null,s=o?o.requiredMessage:r.invalidMessage;if(!s){s=o&&o.messages&&o.messages[e]||r.messages&&r.messages[e]}this.code("errors.push({");if(s){this.code("message: "+v(s)+",")}if(n){this.code("additionalProperties: "+n+",")}this.code("path: "+a)("keyword: "+v(e))("})");if(!this.greedy){this.code("return")}};R.prototype.refactor=function(e,t,n){var r=e!=="data"?'(path ? path + "." : "") + '+w(e):"path",i=this.cache(n,t),a=this.declare();this.code(a+" = "+i+"("+e+", "+r+", errors)");if(!this.greedy){this.code("if (errors.length) { return }")}};R.prototype.descend=function(e,t){var n=this.path,r=this.schema;this.path=e;this.schema=t;this.generate();this.path=n;this.schema=r};R.prototype.generate=function(){var e=this.path,t=this.schema,n=this,r=this.scope,i,a,o,s,u,l,c;if(x(t)!=="object"){return}if(t.$ref!==undefined){t=this.resolver.resolve(t);if(this.resolver.hasRef(t)){this.refactor(e,t,this.resolver.getNormalizedRef(this.schema)||this.schema.$ref);return}else{this.schema=t}}o=S(t);if(o.enum){g.enum(n);return}s=Object.keys(o.perType);function f(e){g[e](n)}for(c=0;c<s.length;c++){l=s[c];this.code((c?"else ":"")+"if ("+m[l](e)+") {");o.perType[l].forEach(f);this.code("}");if(o.type){u=o.type.indexOf(l);if(u>-1){o.type.splice(u,1)}}}if(o.type){if(o.type.length){this.code((s.length?"else ":"")+"if (!("+o.type.map(function(t){return m[t]?m[t](e):"true"}).join(" || ")+")) {");this.error("type");this.code("}")}else{this.code("else {");this.error("type");this.code("}")}}o.allType.forEach(function(e){g[e](n)});if(t.format&&this.formats){a=this.formats[t.format];if(a){if(typeof a==="string"||a instanceof RegExp){this.code("if (!("+y(a)+").test("+e+")) {");this.error("format");this.code("}")}else if(typeof a==="function"){(r.formats||(r.formats={}))[t.format]=a;(r.schemas||(r.schemas={}))[t.format]=t;i=v(t.format);this.code("if (!formats["+i+"]("+e+", schemas["+i+"])) {");this.error("format");this.code("}")}}}};R.prototype.compile=function(e){this.code=l("jsen_compiled"+(e?"_"+e:""),"data","path","errors");this.generate();return this.code.compile(this.scope)};R.prototype.dispose=function(){for(var e in this){this[e]=undefined}};function C(e,t){if(x(e)!=="object"){throw new Error(o)}t=t||{};var n=0,r=function(){return"i"+n++},i=new d(e,t.schemas,t.missing$Ref||false),a=new R({schema:e,resolver:i,id:r,schemas:t.schemas,formats:t.formats,greedy:t.greedy||false}),s=l("validate","data")("validate.errors = []")('gen(data, "", validate.errors)')("return validate.errors.length === 0").compile({gen:a.compile()});a.dispose();a=null;s.errors=[];s.build=function(t,n){return A(e,n&&n.copy===false?t:O(t),n&&n.additionalProperties,i)};return s}C.browser=s;C.clone=O;C.equal=c;C.unique=f;C.ucs2length=h;C.SchemaResolver=d;C.resolve=d.resolvePointer;e.exports=C},function(e,t){"use strict";e.exports=function e(){var t=Array.apply(null,arguments),n=t.shift(),r="  ",i="",a="",o=1,s="{[",u="}]",l=function(){var e=r,t=0;while(t++<o-1){e+=r}return e},c=function(e){i+=l()+e+"\n"},f=function(e){var t=e[0],n=e[e.length-1];if(u.indexOf(t)>-1&&s.indexOf(n)>-1){o--;c(e);o++}else if(s.indexOf(n)>-1){c(e);o++}else if(u.indexOf(t)>-1){o--;c(e)}else{c(e)}return f};f.def=function(e,t){a+=(a?",\n"+r+"    ":"")+e+(t!==undefined?" = "+t:"");return f};f.toSource=function(){return"function "+n+"("+t.join(", ")+") {\n"+r+'"use strict"'+"\n"+(a?r+"var "+a+";\n":"")+i+"}"};f.compile=function(e){var t="return ("+f.toSource()+")",n=e||{},r=Object.keys(n),i=r.map(function(e){return n[e]});return Function.apply(null,r.concat(t)).apply(null,i)};return f}},function(e,t){"use strict";function n(e){var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function r(e,t){var n=Object.keys(e).sort(),r=Object.keys(t).sort(),a,o;if(!i(n,r)){return false}for(a=0;a<n.length;a++){o=n[a];if(!i(e[o],t[o])){return false}}return true}function i(e,t){var a=typeof e,o=typeof t,s;if(a==="object"){a=n(e)}if(o==="object"){o=n(t)}if(a!==o){return false}if(a==="object"){return r(e,t)}if(a==="regexp"){return e.toString()===t.toString()}if(a==="array"){if(e.length!==t.length){return false}for(s=0;s<e.length;s++){if(!i(e[s],t[s])){return false}}return true}return e===t}e.exports=i},function(e,t,n){"use strict";var r=n(13);function i(e,t,n){for(var r=0,i=e.length;r<i;r++){if(n(e[r],t)){return r}}return-1}e.exports=function e(t){return t.filter(function e(t,n,a){return i(a,t,r)===n})};e.exports.findIndex=i},function(e,t,n){"use strict";var r=n(16),i=n(23),a="jsen: invalid schema reference",o="jsen: duplicate schema id",s="jsen: circular schema reference";function u(e,t){if(!t.length){return e}var n=t.shift(),r;if(e&&typeof e==="object"&&e.hasOwnProperty(n)){r=e[n]}if(t.length){if(r&&typeof r==="object"){return u(r,t)}return undefined}return r}function l(e){var t=e.indexOf("#"),n={base:e.substr(0,t),path:[]};if(t<0){n.base=e;return n}e=e.substr(t+1);if(!e){return n}n.path=e.split("/").map(function(e){return decodeURIComponent(e).replace(/~1/g,"/").replace(/~0/g,"~")});if(e[0]==="/"){n.path.shift()}return n}function c(e,t,n,r){this.rootSchema=e;this.resolvers=null;this.resolvedRootSchema=null;this.cache={};this.idCache={};this.refCache={refs:[],schemas:[]};this.missing$Ref=n;this.refStack=[];r=r||"";this._buildIdCache(e,r);r=this.refCache.refs[this.refCache.schemas.indexOf(this.rootSchema)]||r;this._buildResolvers(t,r)}c.prototype._cacheId=function(e,t,n){if(this.idCache[e]){throw new Error(o+" "+e)}this.idCache[e]={resolver:n,schema:t}};c.prototype._buildIdCache=function(e,t){var n=t,i,a,o;if(!e||typeof e!=="object"){return}if(typeof e.id==="string"&&e.id){n=r.resolve(t,e.id);this._cacheId(n,e,this)}else if(e===this.rootSchema&&t){this._cacheId(t,e,this)}if(e.$ref&&typeof e.$ref==="string"){i=r.resolve(n,e.$ref);this.refCache.schemas.push(e);this.refCache.refs.push(i)}a=Object.keys(e);for(o=0;o<a.length;o++){this._buildIdCache(e[a[o]],n)}};c.prototype._buildResolvers=function(e,t){if(!e||typeof e!=="object"){return}var n=this,i={};Object.keys(e).forEach(function(a){var o=r.resolve(t,a),s=new c(e[a],null,n.missing$Ref,o);n._cacheId(o,s.rootSchema,s);Object.keys(s.idCache).forEach(function(e){n.idCache[e]=s.idCache[e]});i[a]=s});this.resolvers=i};c.prototype.getNormalizedRef=function(e){var t=this.refCache.schemas.indexOf(e);return this.refCache.refs[t]};c.prototype._resolveRef=function(e){var t=new Error(a+" "+e),n=this.idCache,r,o,s,c,f;if(!e||typeof e!=="string"){throw t}if(e===i.id){f=i}o=n[e];if(o){f=o.resolver.resolve(o.schema)}if(f===undefined){s=l(e);c=s.path;if(s.base){o=n[s.base]||n[s.base+"#"];if(o){f=o.resolver.resolve(u(o.schema,c.slice(0)))}else{c.unshift(s.base)}}}if(f===undefined&&this.resolvedRootSchema){f=u(this.resolvedRootSchema,c.slice(0))}if(f===undefined){f=u(this.rootSchema,c.slice(0))}if(f===undefined&&c.length&&this.resolvers){r=u(this.resolvers,c);if(r){f=r.resolve(r.rootSchema)}}if(f===undefined||typeof f!=="object"){if(this.missing$Ref){f={}}else{throw t}}if(this.cache[e]===f){return f}this.cache[e]=f;if(f.$ref!==undefined){f=this.resolve(f)}return f};c.prototype.resolve=function(e){if(!e||typeof e!=="object"||e.$ref===undefined){return e}var t=this.getNormalizedRef(e)||e.$ref,n=this.cache[t];if(n!==undefined){return n}if(this.refStack.indexOf(t)>-1){throw new Error(s+" "+t)}this.refStack.push(t);n=this._resolveRef(t);this.refStack.pop();if(e===this.rootSchema){this.resolvedRootSchema=n}return n};c.prototype.hasRef=function(e){var t=Object.keys(e),n,r,i,a;if(t.indexOf("$ref")>-1){return true}for(i=0,n=t.length;i<n;i++){r=t[i];if(e[r]&&typeof e[r]==="object"&&!Array.isArray(e[r])){a=this.hasRef(e[r]);if(a){return true}}}return false};c.resolvePointer=function(e,t){var n=l(t),r=n.path;if(n.base){r=[n.base].concat(r)}return u(e,r)};e.exports=c},function(e,t,n){"use strict";var r=n(17);var i=n(19);t.parse=T;t.resolve=S;t.resolveObject=w;t.format=E;t.Url=a;function a(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(l),f=["'"].concat(c),d=["%","/","?",";","#"].concat(f),p=["/","?","#"],h=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:true,"javascript:":true},v={javascript:true,"javascript:":true},b={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},x=n(20);function T(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;r.parse(e,t,n);return r}a.prototype.parse=function(e,t,n){if(!i.isString(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var a=e.indexOf("?"),s=a!==-1&&a<e.indexOf("#")?"?":"#",l=e.split(s),c=/\\/g;l[0]=l[0].replace(c,"/");e=l.join(s);var T=e;T=T.trim();if(!n&&e.split("#").length===1){var E=u.exec(T);if(E){this.path=T;this.href=T;this.pathname=E[1];if(E[2]){this.search=E[2];if(t){this.query=x.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var S=o.exec(T);if(S){S=S[0];var w=S.toLowerCase();this.protocol=w;T=T.substr(S.length)}if(n||S||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var O=T.substr(0,2)==="//";if(O&&!(S&&v[S])){T=T.substr(2);this.slashes=true}}if(!v[S]&&(O||S&&!b[S])){var I=-1;for(var N=0;N<p.length;N++){var A=T.indexOf(p[N]);if(A!==-1&&(I===-1||A<I))I=A}var R,C;if(I===-1){C=T.lastIndexOf("@")}else{C=T.lastIndexOf("@",I)}if(C!==-1){R=T.slice(0,C);T=T.slice(C+1);this.auth=decodeURIComponent(R)}I=-1;for(var N=0;N<d.length;N++){var A=T.indexOf(d[N]);if(A!==-1&&(I===-1||A<I))I=A}if(I===-1)I=T.length;this.host=T.slice(0,I);T=T.slice(I);this.parseHost();this.hostname=this.hostname||"";var M=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!M){var D=this.hostname.split(/\./);for(var N=0,P=D.length;N<P;N++){var _=D[N];if(!_)continue;if(!_.match(m)){var F="";for(var L=0,k=_.length;L<k;L++){if(_.charCodeAt(L)>127){F+="x"}else{F+=_[L]}}if(!F.match(m)){var H=D.slice(0,N);var U=D.slice(N+1);var j=_.match(g);if(j){H.push(j[1]);U.unshift(j[2])}if(U.length){T="/"+U.join(".")+T}this.hostname=H.join(".");break}}}}if(this.hostname.length>h){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!M){this.hostname=r.toASCII(this.hostname)}var W=this.port?":"+this.port:"";var V=this.hostname||"";this.host=V+W;this.href+=this.host;if(M){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(T[0]!=="/"){T="/"+T}}}if(!y[w]){for(var N=0,P=f.length;N<P;N++){var q=f[N];if(T.indexOf(q)===-1)continue;var B=encodeURIComponent(q);if(B===q){B=escape(q)}T=T.split(q).join(B)}}var z=T.indexOf("#");if(z!==-1){this.hash=T.substr(z);T=T.slice(0,z)}var G=T.indexOf("?");if(G!==-1){this.search=T.substr(G);this.query=T.substr(G+1);if(t){this.query=x.parse(this.query)}T=T.slice(0,G)}else if(t){this.search="";this.query={}}if(T)this.pathname=T;if(b[w]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var W=this.pathname||"";var Y=this.search||"";this.path=W+Y}this.href=this.format();return this};function E(e){if(i.isString(e))e=T(e);if(!(e instanceof a))return a.prototype.format.call(e);return e.format()}a.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=false,o="";if(this.host){a=e+this.host}else if(this.hostname){a=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){a+=":"+this.port}}if(this.query&&i.isObject(this.query)&&Object.keys(this.query).length){o=x.stringify(this.query)}var s=this.search||o&&"?"+o||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||b[t])&&a!==false){a="//"+(a||"");if(n&&n.charAt(0)!=="/")n="/"+n}else if(!a){a=""}if(r&&r.charAt(0)!=="#")r="#"+r;if(s&&s.charAt(0)!=="?")s="?"+s;n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)});s=s.replace("#","%23");return t+a+n+s+r};function S(e,t){return T(e,false,true).resolve(t)}a.prototype.resolve=function(e){return this.resolveObject(T(e,false,true)).format()};function w(e,t){if(!e)return t;return T(e,false,true).resolveObject(t)}a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,false,true);e=t}var n=new a;var r=Object.keys(this);for(var o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}n.hash=e.hash;if(e.href===""){n.href=n.format();return n}if(e.slashes&&!e.protocol){var u=Object.keys(e);for(var l=0;l<u.length;l++){var c=u[l];if(c!=="protocol")n[c]=e[c]}if(b[n.protocol]&&n.hostname&&!n.pathname){n.path=n.pathname="/"}n.href=n.format();return n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){var f=Object.keys(e);for(var d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}n.href=n.format();return n}n.protocol=e.protocol;if(!e.host&&!v[e.protocol]){var h=(e.pathname||"").split("/");while(h.length&&!(e.host=h.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(h[0]!=="")h.unshift("");if(h.length<2)h.unshift("");n.pathname=h.join("/")}else{n.pathname=e.pathname}n.search=e.search;n.query=e.query;n.host=e.host||"";n.auth=e.auth;n.hostname=e.hostname||e.host;n.port=e.port;if(n.pathname||n.search){var m=n.pathname||"";var g=n.search||"";n.path=m+g}n.slashes=n.slashes||e.slashes;n.href=n.format();return n}var y=n.pathname&&n.pathname.charAt(0)==="/",x=e.host||e.pathname&&e.pathname.charAt(0)==="/",T=x||y||n.host&&e.pathname,E=T,S=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],w=n.protocol&&!b[n.protocol];if(w){n.hostname="";n.port=null;if(n.host){if(S[0]==="")S[0]=n.host;else S.unshift(n.host)}n.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(h[0]==="")h[0]=e.host;else h.unshift(e.host)}e.host=null}T=T&&(h[0]===""||S[0]==="")}if(x){n.host=e.host||e.host===""?e.host:n.host;n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname;n.search=e.search;n.query=e.query;S=h}else if(h.length){if(!S)S=[];S.pop();S=S.concat(h);n.search=e.search;n.query=e.query}else if(!i.isNullOrUndefined(e.search)){if(w){n.hostname=n.host=S.shift();var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(O){n.auth=O.shift();n.host=n.hostname=O.shift()}}n.search=e.search;n.query=e.query;if(!i.isNull(n.pathname)||!i.isNull(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.href=n.format();return n}if(!S.length){n.pathname=null;if(n.search){n.path="/"+n.search}else{n.path=null}n.href=n.format();return n}var I=S.slice(-1)[0];var N=(n.host||e.host||S.length>1)&&(I==="."||I==="..")||I==="";var A=0;for(var R=S.length;R>=0;R--){I=S[R];if(I==="."){S.splice(R,1)}else if(I===".."){S.splice(R,1);A++}else if(A){S.splice(R,1);A--}}if(!T&&!E){for(;A--;A){S.unshift("..")}}if(T&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")){S.unshift("")}if(N&&S.join("/").substr(-1)!=="/"){S.push("")}var C=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(w){n.hostname=n.host=C?"":S.length?S.shift():"";var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(O){n.auth=O.shift();n.host=n.hostname=O.shift()}}T=T||n.host&&S.length;if(T&&!C){S.unshift("")}if(!S.length){n.pathname=null;n.path=null}else{n.pathname=S.join("/")}if(!i.isNull(n.pathname)||!i.isNull(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.auth=e.auth||n.auth;n.slashes=n.slashes||e.slashes;n.href=n.format();return n};a.prototype.parseHost=function(){var e=this.host;var t=s.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},function(e,t,n){var r;(function(e,i){(function(a){var o=typeof t=="object"&&t&&!t.nodeType&&t;var s=typeof e=="object"&&e&&!e.nodeType&&e;var u=typeof i=="object"&&i;if(u.global===u||u.window===u||u.self===u){a=u}var l,c=2147483647,f=36,d=1,p=26,h=38,m=700,g=72,y=128,v="-",b=/^xn--/,x=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=f-d,w=Math.floor,O=String.fromCharCode,I;function N(e){throw RangeError(E[e])}function A(e,t){var n=e.length;var r=[];while(n--){r[n]=t(e[n])}return r}function R(e,t){var n=e.split("@");var r="";if(n.length>1){r=n[0]+"@";e=n[1]}e=e.replace(T,".");var i=e.split(".");var a=A(i,t).join(".");return r+a}function C(e){var t=[],n=0,r=e.length,i,a;while(n<r){i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){a=e.charCodeAt(n++);if((a&64512)==56320){t.push(((i&1023)<<10)+(a&1023)+65536)}else{t.push(i);n--}}else{t.push(i)}}return t}function M(e){return A(e,function(e){var t="";if(e>65535){e-=65536;t+=O(e>>>10&1023|55296);e=56320|e&1023}t+=O(e);return t}).join("")}function D(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return f}function P(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function _(e,t,n){var r=0;e=n?w(e/m):e>>1;e+=w(e/t);for(;e>S*p>>1;r+=f){e=w(e/S)}return w(r+(S+1)*e/(e+h))}function F(e){var t=[],n=e.length,r,i=0,a=y,o=g,s,u,l,h,m,b,x,T,E;s=e.lastIndexOf(v);if(s<0){s=0}for(u=0;u<s;++u){if(e.charCodeAt(u)>=128){N("not-basic")}t.push(e.charCodeAt(u))}for(l=s>0?s+1:0;l<n;){for(h=i,m=1,b=f;;b+=f){if(l>=n){N("invalid-input")}x=D(e.charCodeAt(l++));if(x>=f||x>w((c-i)/m)){N("overflow")}i+=x*m;T=b<=o?d:b>=o+p?p:b-o;if(x<T){break}E=f-T;if(m>w(c/E)){N("overflow")}m*=E}r=t.length+1;o=_(i-h,r,h==0);if(w(i/r)>c-a){N("overflow")}a+=w(i/r);i%=r;t.splice(i++,0,a)}return M(t)}function L(e){var t,n,r,i,a,o,s,u,l,h,m,b=[],x,T,E,S;e=C(e);x=e.length;t=y;n=0;a=g;for(o=0;o<x;++o){m=e[o];if(m<128){b.push(O(m))}}r=i=b.length;if(i){b.push(v)}while(r<x){for(s=c,o=0;o<x;++o){m=e[o];if(m>=t&&m<s){s=m}}T=r+1;if(s-t>w((c-n)/T)){N("overflow")}n+=(s-t)*T;t=s;for(o=0;o<x;++o){m=e[o];if(m<t&&++n>c){N("overflow")}if(m==t){for(u=n,l=f;;l+=f){h=l<=a?d:l>=a+p?p:l-a;if(u<h){break}S=u-h;
E=f-h;b.push(O(P(h+S%E,0)));u=w(S/E)}b.push(O(P(u,0)));a=_(n,T,r==i);n=0;++r}}++n;++t}return b.join("")}function k(e){return R(e,function(e){return b.test(e)?F(e.slice(4).toLowerCase()):e})}function H(e){return R(e,function(e){return x.test(e)?"xn--"+L(e):e})}l={version:"1.3.2",ucs2:{decode:C,encode:M},decode:F,encode:L,toASCII:H,toUnicode:k};if(true){!(r=function(){return l}.call(t,n,t,e),r!==undefined&&(e.exports=r))}else if(o&&s){if(e.exports==o){s.exports=l}else{for(I in l){l.hasOwnProperty(I)&&(o[I]=l[I])}}}else{a.punycode=l}})(this)}).call(t,n(18)(e),function(){return this}())},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];e.children=[];e.webpackPolyfill=1}return e}},function(e,t){"use strict";e.exports={isString:function(e){return typeof e==="string"},isObject:function(e){return typeof e==="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(e,t,n){"use strict";t.decode=t.parse=n(21);t.encode=t.stringify=n(22)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&";r=r||"=";var a={};if(typeof e!=="string"||e.length===0){return a}var o=/\+/g;e=e.split(t);var s=1e3;if(i&&typeof i.maxKeys==="number"){s=i.maxKeys}var u=e.length;if(s>0&&u>s){u=s}for(var l=0;l<u;++l){var c=e[l].replace(o,"%20"),f=c.indexOf(r),d,p,h,m;if(f>=0){d=c.substr(0,f);p=c.substr(f+1)}else{d=c;p=""}h=decodeURIComponent(d);m=decodeURIComponent(p);if(!n(a,h)){a[h]=m}else if(Array.isArray(a[h])){a[h].push(m)}else{a[h]=[a[h],m]}}return a}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return Object.keys(e).map(function(i){var a=encodeURIComponent(n(i))+r;if(Array.isArray(e[i])){return e[i].map(function(e){return a+encodeURIComponent(n(e))}).join(t)}else{return a+encodeURIComponent(n(e[i]))}}).join(t)}if(!i)return"";return encodeURIComponent(n(i))+r+encodeURIComponent(n(e))}},function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:true},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:false},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:false},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:false},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},function(e,t){"use strict";var n={};n["date-time"]=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/;n.uri=/^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\/\/[^\s]*$/;n.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;n.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;n.ipv6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;n.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/;e.exports=n},function(e,t){"use strict";function n(e){var t=0,n=0,r=e.length,i,a;while(n<r){t++;i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){a=e.charCodeAt(n++);if((a&64512)!==56320){n--}}}return t}e.exports=n}])})},function(e,t,n){"use strict";n(7);n(10);n(1);n(74);e.exports=powerbi.extensibility.utils.dataview},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DATA_ROLES={source:{displayName:"Source Node",name:"SOURCE_NODE"},target:{displayName:"Target Node",name:"TARGET_NODE"},edgeValue:{displayName:"Edge Weight",name:"EDGE_VALUE"},edgeColorValue:{displayName:"Edge Color Weight",name:"EDGE_COLOR_VALUE"},sourceNodeWeight:{displayName:"Source Node Weight",name:"SOURCE_NODE_WEIGHT"},sourceColor:{displayName:"Source Node Color",name:"SOURCE_NODE_COLOR"},sourceLabelColor:{displayName:"Source Node Label Color",name:"SOURCE_LABEL_COLOR"},targetNodeWeight:{displayName:"Target Node Weight",name:"TARGET_NODE_WEIGHT"},targetColor:{displayName:"Target Node Color",name:"TARGET_NODE_COLOR"},targetLabelColor:{displayName:"Target Node Label Color",name:"TARGET_LABEL_COLOR"},filterField:{displayName:"Filter",name:"FILTER_FIELD"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.charge={min:-1e5,max:10,default:-120};t.linkDistance={min:1,max:30,default:10};t.linkStrength={min:1,max:20,default:2};t.gravity={min:.1,max:10,default:.1};t.minZoom={min:1e-4,max:1e5,default:.1};t.maxZoom={min:1e-4,max:1e5,default:100};t.fontSizePT={min:6,max:40,defaultValue:8};t.edgeStartColor={defaultValue:"#FDFEFE"};t.edgeEndColor={defaultValue:"#273746"};t.edgeMinWidth={defaultValue:1,min:0,max:15};t.edgeMaxWidth={defaultValue:5,min:1,max:15}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DEFAULT_NODE_SIZE=10;t.DEFAULT_EDGE_SIZE=1;t.DEFAULT_CONFIGURATION={animate:true,linkDistance:10,linkStrength:2,charge:-120,gravity:.1,labels:false,minZoom:.1,maxZoom:100,caseInsensitive:true,defaultLabelColor:"blue",fontSizePT:8}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(80);var i=n(36);t.constants=i;var a=n(37);t.defaults=a;var o=n(39);t.templates=o;t.default=r.NetworkNavigator},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(){"use strict";return'\n        <div class="graph-container">\n            <div class="button-bar">\n                <ul>\n                    <li class="filter-box" title="Filter Nodes">\n                        <input type="text" placeholder="Enter text filter" class="search-filter-box"/>\n                    </li>\n                    <li class="clear-selection" title="Clear filter and selection">\n                        <a>\n                            <span class="clear-selection-button"></span>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <div class="svg-container">\n            </div>\n        </div>\n    '.trim().replace(/[\r\n]/g,"")}t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(4);var i=n(15);function a(e){"use strict";return r.settings(i.ColoredObjectsSettings,e)}t.coloredObjectsSettings=a},function(e,t,n){"use strict";function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}Object.defineProperty(t,"__esModule",{value:true});r(n(15));r(n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(4);var i=n(17);function a(e){"use strict";return r.settings(i.GradientSettings,e)}t.gradientSetting=a},function(e,t,n){"use strict";function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}Object.defineProperty(t,"__esModule",{value:true});r(n(3));r(n(4));r(n(11));r(n(16));r(n(19));r(n(12));r(n(18));r(n(41))},function(e,t){var n=["#01B8AA","#FD625E","#F2C80F","#8AD4EB","#FE9666","#A66999","#3599B8","#DFBFBF"];n.primary=n.slice(0);n.full=["#01B8AA","#FD625E","#F2C80F","#8AD4EB","#FE9666","#A66999","#3599B8","#DFBFBF","#4AC5BB","#5F6B6D","#FB8281","#F4D25A","#7F898A","#A4DDEE","#FDAB89","#B687AC","#28738A","#A78F8F","#168980","#293537","#BB4A4A","#B59525","#475052","#6A9FB0","#BD7150","#7B4F71","#1B4D5C","#706060","#0F5C55","#1C2325","#7D3231","#796419","#303637","#476A75","#7E4B36","#52354C","#0D262E","#544848"];t.default=n;t.fullColors=n.full},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(33);var i=n(22);function a(e,t){"use strict";var n;if(e){var a=e.type;var o=i.default(e);if(t){if(a.text){n=new r.AdvancedFilter(o,"And",{operator:"Contains",value:t})}else{if(a.numeric){n=new r.AdvancedFilter(o,"And",{operator:"Is",value:t})}else if(a.bool){n=new r.AdvancedFilter(o,"Or",[{operator:"Is",value:"1"},{operator:"Is",value:"true"}])}}}}return n}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(21);var i=n(5);var a=n(59);var o=n(60);var s=n(62);t.DEFAULT_CALCULATE_SETTINGS={checkHighlights:false,defaultUnkownToData:false,ignoreCategoryOrder:true};Object.freeze(t.DEFAULT_CALCULATE_SETTINGS);function u(e,n,a){"use strict";var o=r.default.Unknown;var s=i({},t.DEFAULT_CALCULATE_SETTINGS,typeof a==="boolean"?{defaultUnkownToData:a}:a||{});if(f(e,n,s)){o^=r.default.Resize}if(l(e,n,s)){o^=r.default.Data}if(c(e,n,s)){o^=r.default.Settings}if(!e){o^=r.default.Initial}if(s.defaultUnkownToData&&o===r.default.Unknown){o=r.default.Data}return o}t.default=u;function l(e,t,n){"use strict";var r=e&&e.dataViews||[];var i=t.dataViews||[];if(r.length!==i.length){i.forEach(function(e){return d(e)});return true}for(var a=0;a<r.length;a++){if(g(r[a],i[a],n)){i.forEach(function(e){return d(e)});return true}}i.forEach(function(e){return d(e)});return false}function c(e,t,n){"use strict";var r=e&&e.dataViews||[];var i=t.dataViews||[];if(r.length!==i.length){return true}for(var o=0;o<r.length;o++){var s=r[o].metadata||{};var u=i[o].metadata||{};if(!a(s.objects,u.objects)){return true}}}function f(e,t,n){"use strict";return!e||t.viewport.height!==e.viewport.height||t.viewport.width!==e.viewport.width}function d(e){"use strict";if(e){var t=e.categorical&&e.categorical.categories||[];t.forEach(function(e){if(e.identity){e.identity["$prevLength"]=e.identity.length}})}}var p=["queryName","roles","sort","aggregates"];function h(e,t,n){"use strict";if(e===t){return false}else if(!e||!t){return true}if(e.length!==t.length){return true}if(e.length>0){var r=e.length-1;return!n(e[0],t[0])||!n(e[r],t[r])||s(e,function(e,r){return!n(e,t[r])})}return false}function m(e,t){"use strict";var n=h(e.identity,t.identity,function(e,t){return e.key===t.key});if(e.identity&&t.identity&&e.identity===t.identity){var r=e.identity["$prevLength"];var i=e.identity.length;e.identity["$prevLength"]=i;return r!==i}return n}function g(e,t,n){"use strict";var r=e.categorical&&e.categorical.categories||[];var i=t.categorical&&t.categorical.categories||[];var s=e.categorical&&e.categorical.values||[];var u=t.categorical&&t.categorical.values||[];var l=e.metadata&&e.metadata.columns||[];var c=t.metadata&&t.metadata.columns||[];if(r.length!==i.length||l.length!==c.length||s.length!==u.length){return true}if(n.ignoreCategoryOrder){l=l.sort(function(e,t){return e.queryName.localeCompare(t.queryName)});c=c.sort(function(e,t){return e.queryName.localeCompare(t.queryName)})}for(var f=0;f<l.length;f++){if(!a(o(l[f],p),o(c[f],p))){return true}}for(var f=0;f<r.length;f++){if(m(r[f],i[f])){return true}}if(n.checkHighlights){for(var f=0;f<s.length;f++){if(y(s[f],u[f])){return true}}}return false}function y(e,t){"use strict";if(e&&t){var n=e.highlights||[];var r=t.highlights||[];if(n===r){var i=n["$prevLength"];var a=n.length;n["$prevLength"]=a;return i!==a}if(n.length!==r.length){return true}return n.some(function(e,t){return e!==r[t]})}return false}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(25);var i=n(8);var a=n(23);var o=n(24);var s=n(6);function u(e,t,n,s){"use strict";var u;var c=r.default(e,function(e){return e.categorical.categories});var f=r.default(e,function(e){return e.categorical.categories[0].values});var g=r.default(e,function(e){return e.categorical.values});if(f){n=n||{};var y=n.colorMode===o.ColorMode.Gradient;var v=p(e)&&y;var b=d(e)?i.fullColors[0]:undefined;var x=h(e)&&!y;var T=a.default(g,b,v?n.gradient:undefined,x?n.instanceColors:undefined);u=f.map(function(e,r){var i=s?s().withCategory(c[0],r).createSelectionId():r;var a=0;var o;if(g){var u=m(g,T,r);o=u.segments;a=u.total;if(n&&n.reverseOrder){o.reverse()}}var l=t(c,r,a,i,o);l.valueSegments=o;return l});l(u);return{items:u,segmentInfo:T}}}t.convertItemsWithSegments=u;function l(e){"use strict";if(e&&e.length){var t=c(e);var n=0;e.forEach(function(e){var r=e.valueSegments||[];var i=0;r.forEach(function(e,n){e.width=Math.abs(e.value)/t.max/r.length*100;i+=e.width});if(i>n){n=i}});if(n>0){e.forEach(function(e){e.renderedValue=100*(100/n)})}}}t.computeRenderedValues=l;function c(e){"use strict";var t=0;if(e&&e.length){e.forEach(function(e){(e.valueSegments||[]).forEach(function(e,n){var r=e.value;if(typeof r==="number"){var i=Math.abs(r);if(i>t){t=i}}})})}return{min:0,max:t}}function f(e){"use strict";return s(e,"categorical.values.length",0)>0}t.dataSupportsValueSegments=f;function d(e){"use strict";if(f(e)){return r.default(e,function(e){return e.categorical.values.length},0)===1}return false}t.dataSupportsDefaultColor=d;function p(e){"use strict";if(f(e)){return r.default(e,function(e){return e.categorical.values.length},0)>0}return false}t.dataSupportsGradients=p;function h(e){"use strict";if(f(e)&&e.categorical.values.grouped){var t=e.categorical.values.grouped();return t.filter(function(e){return!!e.identity}).length>0}return false}t.dataSupportsColorizedInstances=h;function m(e,t,n){"use strict";var r=0;var i=t.map(function(t,i){var a=e[i].highlights||[];var o=a[n];var s=e[i].values[n];if(typeof s==="number"){r+=s}var u=t.color,l=t.name;var c={name:l,color:u,value:s,displayValue:s,width:0};if(a&&a.length){var f=0;if(s&&typeof s==="number"&&o){f=o/s*100}c.highlightWidth=f}return c});return{segments:i,total:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(20);function i(e,t){"use strict";return new r.default(e,t)}t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t,n){"use strict";e=e||[];t=t||[];var r;var i=false;var a;var o;for(var s=e.length-1;s>=0;s--){r=e[s];i=false;for(var u=0;u<t.length;u++){a=t[u];if(n.equals(a,r)){i=true}}if(!i){e.splice(s,1);if(n.onRemove){n.onRemove(r)}}}r=undefined;for(var s=0;s<t.length;s++){a=t[s];o=undefined;for(var u=0;u<e.length;u++){r=e[u];if(n.equals(a,r)){o=r}}if(!o){e.push(a);if(n.onAdd){n.onAdd(a)}}else if(n.onUpdate){n.onUpdate(o,a)}}}t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(27);var i=[a()];t.logger=function(e){var t=r(e);t.log=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}i.forEach(function(t){t.apply(this,e)})};return t};t.logger.addWriter=function(e){i.push(e)};function a(){"use strict";return function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}console.log.apply(console,e)}}t.consoleLogWriter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(5);function i(){"use strict";var e={};var t={merge:{},remove:{}};var n={persist:function i(a,o,s,u,l,c,f){"use strict";u=u||(typeof s==="undefined"?"remove":"merge");var d=t[u][a];if(f||!d){d={objectName:a,selector:l,properties:{}};if(!f){t[u][a]=d}e[u]=e[u]||[];e[u].push(d);if(c){d["displayName"]=c}}if(s&&s.hasOwnProperty("properties")){r(d,s)}else{d.properties[o]=s}return n},mergePersistObjects:function(e){if(e){var t=["merge","remove"];t.forEach(function(t){(e[t]||[]).forEach(function(e){var r=Object.keys(e.properties);r.forEach(function(i){n.persist(e.objectName,i,e.properties[i],t,e.selector,e.displayName,r.length<=1)})})})}},build:function(){return e}};return n}t.default=i},function(e,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:true});function r(e){"use strict";var t=function(e){n(t,e);function t(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}var r=this;t=t||[];r=e.apply(this,t)||this;return r}t.prototype.update=function(t){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}var i=t.viewport,a=i.width,o=i.height;this.setDimensions({width:a,height:o});if(e.prototype.update){return e.prototype.update.apply(this,[t].concat(n))}};return t}(e);return t}t.receiveDimensions=r},function(e,t,n){t=e.exports=n(54)();t.push([e.id,'._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar,._2dl7bzuC-5LeeIuMmQbkJ_ svg text{font-family:Segoe UI,wf_segoe-ui_normal,helvetica,arial,sans-serif}._2dl7bzuC-5LeeIuMmQbkJ_ ::-webkit-scrollbar{width:8px;height:8px;background-color:transparent}._2dl7bzuC-5LeeIuMmQbkJ_ ::-webkit-scrollbar-thumb,._2dl7bzuC-5LeeIuMmQbkJ_ ::-webkit-scrollbar-track{background:transparent}._2dl7bzuC-5LeeIuMmQbkJ_ :hover::-webkit-scrollbar-thumb{background:#c8c8c8}._2dl7bzuC-5LeeIuMmQbkJ_ :hover::-webkit-scrollbar-track{background:transparent}._2dl7bzuC-5LeeIuMmQbkJ_ ::-webkit-scrollbar-track-piece{background:0 0}._2dl7bzuC-5LeeIuMmQbkJ_ *{-ms-overflow-style:-ms-autohiding-scrollbar;-ms-scrollbar-track-color:transparent;-ms-scrollbar-arrow-color:#c8c8c8;-ms-scrollbar-face-color:#c8c8c8}._2dl7bzuC-5LeeIuMmQbkJ_ * body{scrollbar-face-color:#c8c8c8;scrollbar-track-color:transparent}._2dl7bzuC-5LeeIuMmQbkJ_ .logArea{position:absolute;left:0;right:0;bottom:0;height:200px;overflow:auto;background-color:#fff;border-top:1px solid gray;display:none;z-index:1000}._2dl7bzuC-5LeeIuMmQbkJ_ body,._2dl7bzuC-5LeeIuMmQbkJ_ html{margin:0;padding:0;overflow:hidden}._2dl7bzuC-5LeeIuMmQbkJ_ .node{cursor:pointer}@keyframes networknavfadein{0%{opacity:0}to{opacity:1}}@keyframes networknavfadeout{0%{opacity:1}to{opacity:0}}._2dl7bzuC-5LeeIuMmQbkJ_ .graph-container{font-size:12px;position:relative}._2dl7bzuC-5LeeIuMmQbkJ_ .graph-container .button-bar{position:absolute;right:0;top:0;margin:5px;opacity:0;animation-duration:.5s;animation-name:networknavfadeout}._2dl7bzuC-5LeeIuMmQbkJ_ .graph-container:hover .button-bar{animation-duration:.5s;animation-name:networknavfadein;opacity:1}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar ul{list-style:none;padding:0;margin:0;color:#aaa;height:2em}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li{font-family:Oswald,sans-serif;border-bottom:1px solid #888}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li:first-of-type a,._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li:first-of-type input{border-top-left-radius:.2em;border-bottom-left-radius:.2em}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li:last-of-type a,._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li:last-of-type input{border-top-right-radius:.2em;border-bottom-right-radius:.2em}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar a{text-decoration:none;color:#888;display:inline-block;transition:color .3s;cursor:pointer;border:1px solid #ccc;padding:.2em;background-color:#fff;overflow:hidden;height:100%;box-sizing:border-box;vertical-align:middle}._2dl7bzuC-5LeeIuMmQbkJ_ .clear-selection-button{margin:.5em}._2dl7bzuC-5LeeIuMmQbkJ_ .clear-selection-button:before{content:"\\D7"}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar a:hover{color:#444}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar a.active{background-color:#444;cursor:default}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li{box-sizing:border-box;border-bottom:none;margin-right:-.25em;display:inline-block;height:100%}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li a{height:100%}._2dl7bzuC-5LeeIuMmQbkJ_ .button-bar li:last-child{margin-right:0}._2dl7bzuC-5LeeIuMmQbkJ_ .filter-box .search-filter-box{color:#333;vertical-align:middle;border:1px solid #ccc;height:100%;box-sizing:border-box;padding:0;margin:0;font-size:1em}',""]);t.locals={className:"_2dl7bzuC-5LeeIuMmQbkJ_"}},function(e,t){e.exports=function(){var e=[];e.toString=function e(){var t=[];for(var n=0;n<this.length;n++){var r=this[n];if(r[2]){t.push("@media "+r[2]+"{"+r[1]+"}")}else{t.push(r[1])}}return t.join("")};e.i=function(t,n){if(typeof t==="string")t=[[null,t,""]];var r={};for(var i=0;i<this.length;i++){var a=this[i][0];if(typeof a==="number")r[a]=true}for(i=0;i<t.length;i++){var o=t[i];if(typeof o[0]!=="number"||!r[o[0]]){if(n&&!o[2]){o[2]=n}else if(n){o[2]="("+o[2]+") and ("+n+")"}e.push(o)}}};return e}},function(e,t,n){t=e.exports=a.debug=a["default"]=a;t.coerce=l;t.disable=s;t.enable=o;t.enabled=u;t.humanize=n(31);t.names=[];t.skips=[];t.formatters={};var r;function i(e){var n=0,r;for(r in e){n=(n<<5)-n+e.charCodeAt(r);n|=0}return t.colors[Math.abs(n)%t.colors.length]}function a(e){function n(){if(!n.enabled)return;var e=n;var i=+new Date;var a=i-(r||i);e.diff=a;e.prev=r;e.curr=i;r=i;var o=new Array(arguments.length);for(var s=0;s<o.length;s++){o[s]=arguments[s]}o[0]=t.coerce(o[0]);if("string"!==typeof o[0]){o.unshift("%O")}var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if(n==="%%")return n;u++;var i=t.formatters[r];if("function"===typeof i){var a=o[u];n=i.call(e,a);o.splice(u,1);u--}return n});t.formatArgs.call(e,o);var l=n.log||t.log||console.log.bind(console);l.apply(e,o)}n.namespace=e;n.enabled=t.enabled(e);n.useColors=t.useColors();n.color=i(e);if("function"===typeof t.init){t.init(n)}return n}function o(e){t.save(e);t.names=[];t.skips=[];var n=(typeof e==="string"?e:"").split(/[\s,]+/);var r=n.length;for(var i=0;i<r;i++){if(!n[i])continue;e=n[i].replace(/\*/g,".*?");if(e[0]==="-"){t.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{t.names.push(new RegExp("^"+e+"$"))}}}function s(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++){if(t.skips[n].test(e)){return false}}for(n=0,r=t.names.length;n<r;n++){if(t.names[n].test(e)){return true}}return false}function l(e){if(e instanceof Error)return e.stack||e.message;return e}},function(e,t,n){(function(t){e.exports=t["Globalize"]=n(28)}).call(t,function(){return this}())},function(e,t,n){(function(e,t){var r;if(true){r=n(28)}else{r=e.Globalize}r.addCultureInfo("en-US","default",{englishName:"English (United States)"})})(this)},function(e,t){t=e.exports=n;t.getSerialize=r;function n(e,t,n,i){return JSON.stringify(e,r(t,i),n)}function r(e,t){var n=[],r=[];if(t==null)t=function(e,t){if(n[0]===t)return"[Circular ~]";return"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"};return function(i,a){if(n.length>0){var o=n.indexOf(this);~o?n.splice(o+1):n.push(this);~o?r.splice(o,Infinity,i):r.push(i);if(~n.indexOf(a))a=t.call(this,i,a)}else n.push(a);return e==null?a:e.call(this,i,a)}}},function(e,t,n){(function(e,n){var r=200;var i="__lodash_hash_undefined__";var a=1,o=2;var s=9007199254740991;var u="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",m="[object GeneratorFunction]",g="[object Map]",y="[object Number]",v="[object Null]",b="[object Object]",x="[object Promise]",T="[object Proxy]",E="[object RegExp]",S="[object Set]",w="[object String]",O="[object Symbol]",I="[object Undefined]",N="[object WeakMap]";var A="[object ArrayBuffer]",R="[object DataView]",C="[object Float32Array]",M="[object Float64Array]",D="[object Int8Array]",P="[object Int16Array]",_="[object Int32Array]",F="[object Uint8Array]",L="[object Uint8ClampedArray]",k="[object Uint16Array]",H="[object Uint32Array]";var U=/[\\^$.*+?()[\]{}|]/g;var j=/^\[object .+?Constructor\]$/;var W=/^(?:0|[1-9]\d*)$/;var V={};V[C]=V[M]=V[D]=V[P]=V[_]=V[F]=V[L]=V[k]=V[H]=true;V[u]=V[l]=V[A]=V[f]=V[R]=V[d]=V[p]=V[h]=V[g]=V[y]=V[b]=V[E]=V[S]=V[w]=V[N]=false;var q=typeof e=="object"&&e&&e.Object===Object&&e;var B=typeof self=="object"&&self&&self.Object===Object&&self;var z=q||B||Function("return this")();var G=typeof t=="object"&&t&&!t.nodeType&&t;var Y=G&&typeof n=="object"&&n&&!n.nodeType&&n;var K=Y&&Y.exports===G;var $=K&&q.process;var Q=function(){try{return $&&$.binding&&$.binding("util")}catch(e){}}();var Z=Q&&Q.isTypedArray;function X(e,t){var n=-1,r=e==null?0:e.length,i=0,a=[];while(++n<r){var o=e[n];if(t(o,n,e)){a[i++]=o}}return a}function J(e,t){var n=-1,r=t.length,i=e.length;while(++n<r){e[i+n]=t[n]}return e}function ee(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(t(e[n],n,e)){return true}}return false}function te(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}function ne(e){return function(t){return e(t)}}function re(e,t){return e.has(t)}function ie(e,t){return e==null?undefined:e[t]}function ae(e){var t=-1,n=Array(e.size);e.forEach(function(e,r){n[++t]=[r,e]});return n}function oe(e,t){return function(n){return e(t(n))}}function se(e){var t=-1,n=Array(e.size);e.forEach(function(e){n[++t]=e});return n}var ue=Array.prototype,le=Function.prototype,ce=Object.prototype;var fe=z["__core-js_shared__"];var de=le.toString;var pe=ce.hasOwnProperty;var he=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var me=ce.toString;var ge=RegExp("^"+de.call(pe).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ye=K?z.Buffer:undefined,ve=z.Symbol,be=z.Uint8Array,xe=ce.propertyIsEnumerable,Te=ue.splice,Ee=ve?ve.toStringTag:undefined;var Se=Object.getOwnPropertySymbols,we=ye?ye.isBuffer:undefined,Oe=oe(Object.keys,Object);var Ie=Nt(z,"DataView"),Ne=Nt(z,"Map"),Ae=Nt(z,"Promise"),Re=Nt(z,"Set"),Ce=Nt(z,"WeakMap"),Me=Nt(Object,"create");var De=Lt(Ie),Pe=Lt(Ne),_e=Lt(Ae),Fe=Lt(Re),Le=Lt(Ce);var ke=ve?ve.prototype:undefined,He=ke?ke.valueOf:undefined;function Ue(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function je(){this.__data__=Me?Me(null):{};this.size=0}function We(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}function Ve(e){var t=this.__data__;if(Me){var n=t[e];return n===i?undefined:n}return pe.call(t,e)?t[e]:undefined}function qe(e){var t=this.__data__;return Me?t[e]!==undefined:pe.call(t,e)}function Be(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=Me&&t===undefined?i:t;return this}Ue.prototype.clear=je;Ue.prototype["delete"]=We;Ue.prototype.get=Ve;Ue.prototype.has=qe;Ue.prototype.set=Be;function ze(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ge(){this.__data__=[];this.size=0}function Ye(e){var t=this.__data__,n=pt(t,e);if(n<0){return false}var r=t.length-1;if(n==r){t.pop()}else{Te.call(t,n,1)}--this.size;return true}function Ke(e){var t=this.__data__,n=pt(t,e);return n<0?undefined:t[n][1]}function $e(e){return pt(this.__data__,e)>-1}function Qe(e,t){var n=this.__data__,r=pt(n,e);if(r<0){++this.size;n.push([e,t])}else{n[r][1]=t}return this}ze.prototype.clear=Ge;ze.prototype["delete"]=Ye;ze.prototype.get=Ke;ze.prototype.has=$e;ze.prototype.set=Qe;function Ze(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Xe(){this.size=0;this.__data__={hash:new Ue,map:new(Ne||ze),string:new Ue}}function Je(e){var t=It(this,e)["delete"](e);this.size-=t?1:0;return t}function et(e){return It(this,e).get(e)}function tt(e){return It(this,e).has(e)}function nt(e,t){var n=It(this,e),r=n.size;n.set(e,t);this.size+=n.size==r?0:1;return this}Ze.prototype.clear=Xe;Ze.prototype["delete"]=Je;Ze.prototype.get=et;Ze.prototype.has=tt;Ze.prototype.set=nt;function rt(e){var t=-1,n=e==null?0:e.length;this.__data__=new Ze;while(++t<n){this.add(e[t])}}function it(e){this.__data__.set(e,i);return this}function at(e){return this.__data__.has(e)}rt.prototype.add=rt.prototype.push=it;rt.prototype.has=at;function ot(e){var t=this.__data__=new ze(e);this.size=t.size}function st(){this.__data__=new ze;this.size=0}function ut(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}function lt(e){return this.__data__.get(e)}function ct(e){return this.__data__.has(e)}function ft(e,t){var n=this.__data__;if(n instanceof ze){var i=n.__data__;if(!Ne||i.length<r-1){i.push([e,t]);this.size=++n.size;return this}n=this.__data__=new Ze(i)}n.set(e,t);this.size=n.size;return this}ot.prototype.clear=st;ot.prototype["delete"]=ut;ot.prototype.get=lt;ot.prototype.has=ct;ot.prototype.set=ft;function dt(e,t){var n=Ut(e),r=!n&&Ht(e),i=!n&&!r&&Wt(e),a=!n&&!r&&!i&&Yt(e),o=n||r||i||a,s=o?te(e.length,String):[],u=s.length;for(var l in e){if((t||pe.call(e,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Mt(l,u)))){s.push(l)}}return s}function pt(e,t){var n=e.length;while(n--){if(kt(e[n][0],t)){return n}}return-1}function ht(e,t,n){var r=t(e);return Ut(e)?r:J(r,n(e))}function mt(e){if(e==null){return e===undefined?I:v}return Ee&&Ee in Object(e)?At(e):Ft(e)}function gt(e){return Gt(e)&&mt(e)==u}function yt(e,t,n,r,i){if(e===t){return true}if(e==null||t==null||!Gt(e)&&!Gt(t)){return e!==e&&t!==t}return vt(e,t,n,r,yt,i)}function vt(e,t,n,r,i,o){var s=Ut(e),c=Ut(t),f=s?l:Ct(e),d=c?l:Ct(t);f=f==u?b:f;d=d==u?b:d;var p=f==b,h=d==b,m=f==d;if(m&&Wt(e)){if(!Wt(t)){return false}s=true;p=false}if(m&&!p){o||(o=new ot);return s||Yt(e)?Et(e,t,n,r,i,o):St(e,t,f,n,r,i,o)}if(!(n&a)){var g=p&&pe.call(e,"__wrapped__"),y=h&&pe.call(t,"__wrapped__");if(g||y){var v=g?e.value():e,x=y?t.value():t;o||(o=new ot);return i(v,x,n,r,o)}}if(!m){return false}o||(o=new ot);return wt(e,t,n,r,i,o)}function bt(e){if(!zt(e)||Pt(e)){return false}var t=qt(e)?ge:j;return t.test(Lt(e))}function xt(e){return Gt(e)&&Bt(e.length)&&!!V[mt(e)]}function Tt(e){if(!_t(e)){return Oe(e)}var t=[];for(var n in Object(e)){if(pe.call(e,n)&&n!="constructor"){t.push(n)}}return t}function Et(e,t,n,r,i,s){var u=n&a,l=e.length,c=t.length;if(l!=c&&!(u&&c>l)){return false}var f=s.get(e);if(f&&s.get(t)){return f==t}var d=-1,p=true,h=n&o?new rt:undefined;s.set(e,t);s.set(t,e);while(++d<l){var m=e[d],g=t[d];if(r){var y=u?r(g,m,d,t,e,s):r(m,g,d,e,t,s)}if(y!==undefined){if(y){continue}p=false;break}if(h){if(!ee(t,function(e,t){
if(!re(h,t)&&(m===e||i(m,e,n,r,s))){return h.push(t)}})){p=false;break}}else if(!(m===g||i(m,g,n,r,s))){p=false;break}}s["delete"](e);s["delete"](t);return p}function St(e,t,n,r,i,s,u){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case A:if(e.byteLength!=t.byteLength||!s(new be(e),new be(t))){return false}return true;case f:case d:case y:return kt(+e,+t);case p:return e.name==t.name&&e.message==t.message;case E:case w:return e==t+"";case g:var l=ae;case S:var c=r&a;l||(l=se);if(e.size!=t.size&&!c){return false}var h=u.get(e);if(h){return h==t}r|=o;u.set(e,t);var m=Et(l(e),l(t),r,i,s,u);u["delete"](e);return m;case O:if(He){return He.call(e)==He.call(t)}}return false}function wt(e,t,n,r,i,o){var s=n&a,u=Ot(e),l=u.length,c=Ot(t),f=c.length;if(l!=f&&!s){return false}var d=l;while(d--){var p=u[d];if(!(s?p in t:pe.call(t,p))){return false}}var h=o.get(e);if(h&&o.get(t)){return h==t}var m=true;o.set(e,t);o.set(t,e);var g=s;while(++d<l){p=u[d];var y=e[p],v=t[p];if(r){var b=s?r(v,y,p,t,e,o):r(y,v,p,e,t,o)}if(!(b===undefined?y===v||i(y,v,n,r,o):b)){m=false;break}g||(g=p=="constructor")}if(m&&!g){var x=e.constructor,T=t.constructor;if(x!=T&&("constructor"in e&&"constructor"in t)&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)){m=false}}o["delete"](e);o["delete"](t);return m}function Ot(e){return ht(e,Kt,Rt)}function It(e,t){var n=e.__data__;return Dt(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Nt(e,t){var n=ie(e,t);return bt(n)?n:undefined}function At(e){var t=pe.call(e,Ee),n=e[Ee];try{e[Ee]=undefined;var r=true}catch(e){}var i=me.call(e);if(r){if(t){e[Ee]=n}else{delete e[Ee]}}return i}var Rt=!Se?$t:function(e){if(e==null){return[]}e=Object(e);return X(Se(e),function(t){return xe.call(e,t)})};var Ct=mt;if(Ie&&Ct(new Ie(new ArrayBuffer(1)))!=R||Ne&&Ct(new Ne)!=g||Ae&&Ct(Ae.resolve())!=x||Re&&Ct(new Re)!=S||Ce&&Ct(new Ce)!=N){Ct=function(e){var t=mt(e),n=t==b?e.constructor:undefined,r=n?Lt(n):"";if(r){switch(r){case De:return R;case Pe:return g;case _e:return x;case Fe:return S;case Le:return N}}return t}}function Mt(e,t){t=t==null?s:t;return!!t&&(typeof e=="number"||W.test(e))&&(e>-1&&e%1==0&&e<t)}function Dt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Pt(e){return!!he&&he in e}function _t(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ce;return e===n}function Ft(e){return me.call(e)}function Lt(e){if(e!=null){try{return de.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function kt(e,t){return e===t||e!==e&&t!==t}var Ht=gt(function(){return arguments}())?gt:function(e){return Gt(e)&&pe.call(e,"callee")&&!xe.call(e,"callee")};var Ut=Array.isArray;function jt(e){return e!=null&&Bt(e.length)&&!qt(e)}var Wt=we||Qt;function Vt(e,t){return yt(e,t)}function qt(e){if(!zt(e)){return false}var t=mt(e);return t==h||t==m||t==c||t==T}function Bt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=s}function zt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Gt(e){return e!=null&&typeof e=="object"}var Yt=Z?ne(Z):xt;function Kt(e){return jt(e)?dt(e):Tt(e)}function $t(){return[]}function Qt(){return false}n.exports=Vt}).call(t,function(){return this}(),n(14)(e))},function(e,t){(function(t){var n=1/0,r=9007199254740991;var i="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]";var u=typeof t=="object"&&t&&t.Object===Object&&t;var l=typeof self=="object"&&self&&self.Object===Object&&self;var c=u||l||Function("return this")();function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){var n=-1,r=e?e.length:0,i=Array(r);while(++n<r){i[n]=t(e[n],n,e)}return i}function p(e,t){var n=-1,r=t.length,i=e.length;while(++n<r){e[i+n]=t[n]}return e}var h=Object.prototype;var m=h.hasOwnProperty;var g=h.toString;var y=c.Symbol,v=h.propertyIsEnumerable,b=y?y.isConcatSpreadable:undefined;var x=Math.max;function T(e,t,n,r,i){var a=-1,o=e.length;n||(n=O);i||(i=[]);while(++a<o){var s=e[a];if(t>0&&n(s)){if(t>1){T(s,t-1,n,r,i)}else{p(i,s)}}else if(!r){i[i.length]=s}}return i}function E(e,t){e=Object(e);return S(e,t,function(t,n){return n in e})}function S(e,t,n){var r=-1,i=t.length,a={};while(++r<i){var o=t[r],s=e[o];if(n(s,o)){a[o]=s}}return a}function w(e,t){t=x(t===undefined?e.length-1:t,0);return function(){var n=arguments,r=-1,i=x(n.length-t,0),a=Array(i);while(++r<i){a[r]=n[t+r]}r=-1;var o=Array(t+1);while(++r<t){o[r]=n[r]}o[t]=a;return f(e,this,o)}}function O(e){return A(e)||N(e)||!!(b&&e&&e[b])}function I(e){if(typeof e=="string"||F(e)){return e}var t=e+"";return t=="0"&&1/e==-n?"-0":t}function N(e){return C(e)&&m.call(e,"callee")&&(!v.call(e,"callee")||g.call(e)==i)}var A=Array.isArray;function R(e){return e!=null&&D(e.length)&&!M(e)}function C(e){return _(e)&&R(e)}function M(e){var t=P(e)?g.call(e):"";return t==a||t==o}function D(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}function P(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function _(e){return!!e&&typeof e=="object"}function F(e){return typeof e=="symbol"||_(e)&&g.call(e)==s}var L=w(function(e,t){return e==null?{}:E(e,d(T(t,1),I))});e.exports=L}).call(t,function(){return this}())},function(e,t){(function(t){var n="Expected a function";var r="__lodash_hash_undefined__";var i=1/0,a=9007199254740991;var o="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]";var l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var p=/[\\^$.*+?()[\]{}|]/g;var h=/\\(\\)?/g;var m=/^\[object .+?Constructor\]$/;var g=/^(?:0|[1-9]\d*)$/;var y=typeof t=="object"&&t&&t.Object===Object&&t;var v=typeof self=="object"&&self&&self.Object===Object&&self;var b=y||v||Function("return this")();function x(e,t){return e==null?undefined:e[t]}function T(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}var E=Array.prototype,S=Function.prototype,w=Object.prototype;var O=b["__core-js_shared__"];var I=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var N=S.toString;var A=w.hasOwnProperty;var R=w.toString;var C=RegExp("^"+N.call(A).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var M=b.Symbol,D=E.splice;var P=ue(b,"Map"),_=ue(Object,"create");var F=M?M.prototype:undefined,L=F?F.toString:undefined;function k(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function H(){this.__data__=_?_(null):{}}function U(e){return this.has(e)&&delete this.__data__[e]}function j(e){var t=this.__data__;if(_){var n=t[e];return n===r?undefined:n}return A.call(t,e)?t[e]:undefined}function W(e){var t=this.__data__;return _?t[e]!==undefined:A.call(t,e)}function V(e,t){var n=this.__data__;n[e]=_&&t===undefined?r:t;return this}k.prototype.clear=H;k.prototype["delete"]=U;k.prototype.get=j;k.prototype.has=W;k.prototype.set=V;function q(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function B(){this.__data__=[]}function z(e){var t=this.__data__,n=ne(t,e);if(n<0){return false}var r=t.length-1;if(n==r){t.pop()}else{D.call(t,n,1)}return true}function G(e){var t=this.__data__,n=ne(t,e);return n<0?undefined:t[n][1]}function Y(e){return ne(this.__data__,e)>-1}function K(e,t){var n=this.__data__,r=ne(n,e);if(r<0){n.push([e,t])}else{n[r][1]=t}return this}q.prototype.clear=B;q.prototype["delete"]=z;q.prototype.get=G;q.prototype.has=Y;q.prototype.set=K;function $(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Q(){this.__data__={hash:new k,map:new(P||q),string:new k}}function Z(e){return se(this,e)["delete"](e)}function X(e){return se(this,e).get(e)}function J(e){return se(this,e).has(e)}function ee(e,t){se(this,e).set(e,t);return this}$.prototype.clear=Q;$.prototype["delete"]=Z;$.prototype.get=X;$.prototype.has=J;$.prototype.set=ee;function te(e,t,n){var r=e[t];if(!(A.call(e,t)&&ye(r,n))||n===undefined&&!(t in e)){e[t]=n}}function ne(e,t){var n=e.length;while(n--){if(ye(e[n][0],t)){return n}}return-1}function re(e){if(!xe(e)||de(e)){return false}var t=be(e)||T(e)?C:m;return t.test(me(e))}function ie(e,t,n,r){if(!xe(e)){return e}t=ce(t,e)?[t]:oe(t);var i=-1,a=t.length,o=a-1,s=e;while(s!=null&&++i<a){var u=he(t[i]),l=n;if(i!=o){var c=s[u];l=r?r(c,u,s):undefined;if(l===undefined){l=xe(c)?c:le(t[i+1])?[]:{}}}te(s,u,l);s=s[u]}return e}function ae(e){if(typeof e=="string"){return e}if(Ee(e)){return L?L.call(e):""}var t=e+"";return t=="0"&&1/e==-i?"-0":t}function oe(e){return ve(e)?e:pe(e)}function se(e,t){var n=e.__data__;return fe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ue(e,t){var n=x(e,t);return re(n)?n:undefined}function le(e,t){t=t==null?a:t;return!!t&&(typeof e=="number"||g.test(e))&&(e>-1&&e%1==0&&e<t)}function ce(e,t){if(ve(e)){return false}var n=typeof e;if(n=="number"||n=="symbol"||n=="boolean"||e==null||Ee(e)){return true}return c.test(e)||!l.test(e)||t!=null&&e in Object(t)}function fe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function de(e){return!!I&&I in e}var pe=ge(function(e){e=Se(e);var t=[];if(f.test(e)){t.push("")}e.replace(d,function(e,n,r,i){t.push(r?i.replace(h,"$1"):n||e)});return t});function he(e){if(typeof e=="string"||Ee(e)){return e}var t=e+"";return t=="0"&&1/e==-i?"-0":t}function me(e){if(e!=null){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ge(e,t){if(typeof e!="function"||t&&typeof t!="function"){throw new TypeError(n)}var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i)){return a.get(i)}var o=e.apply(this,n);r.cache=a.set(i,o);return o};r.cache=new(ge.Cache||$);return r}ge.Cache=$;function ye(e,t){return e===t||e!==e&&t!==t}var ve=Array.isArray;function be(e){var t=xe(e)?R.call(e):"";return t==o||t==s}function xe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Te(e){return!!e&&typeof e=="object"}function Ee(e){return typeof e=="symbol"||Te(e)&&R.call(e)==u}function Se(e){return e==null?"":ae(e)}function we(e,t,n){return e==null?e:ie(e,t,n)}e.exports=we}).call(t,function(){return this}())},function(e,t,n){(function(e,n){var r=200;var i="Expected a function";var a="__lodash_hash_undefined__";var o=1,s=2;var u=1/0,l=9007199254740991;var c="[object Arguments]",f="[object Array]",d="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Function]",g="[object GeneratorFunction]",y="[object Map]",v="[object Number]",b="[object Object]",x="[object Promise]",T="[object RegExp]",E="[object Set]",S="[object String]",w="[object Symbol]",O="[object WeakMap]";var I="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",R="[object Float64Array]",C="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",P="[object Uint8Array]",_="[object Uint8ClampedArray]",F="[object Uint16Array]",L="[object Uint32Array]";var k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,U=/^\./,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var W=/[\\^$.*+?()[\]{}|]/g;var V=/\\(\\)?/g;var q=/^\[object .+?Constructor\]$/;var B=/^(?:0|[1-9]\d*)$/;var z={};z[A]=z[R]=z[C]=z[M]=z[D]=z[P]=z[_]=z[F]=z[L]=true;z[c]=z[f]=z[I]=z[d]=z[N]=z[p]=z[h]=z[m]=z[y]=z[v]=z[b]=z[T]=z[E]=z[S]=z[O]=false;var G=typeof e=="object"&&e&&e.Object===Object&&e;var Y=typeof self=="object"&&self&&self.Object===Object&&self;var K=G||Y||Function("return this")();var $=typeof t=="object"&&t&&!t.nodeType&&t;var Q=$&&typeof n=="object"&&n&&!n.nodeType&&n;var Z=Q&&Q.exports===$;var X=Z&&G.process;var J=function(){try{return X&&X.binding("util")}catch(e){}}();var ee=J&&J.isTypedArray;function te(e,t){var n=-1,r=e?e.length:0;while(++n<r){if(t(e[n],n,e)){return true}}return false}function ne(e){return function(t){return t==null?undefined:t[e]}}function re(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}function ie(e){return function(t){return e(t)}}function ae(e,t){return e==null?undefined:e[t]}function oe(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}function se(e){var t=-1,n=Array(e.size);e.forEach(function(e,r){n[++t]=[r,e]});return n}function ue(e,t){return function(n){return e(t(n))}}function le(e){var t=-1,n=Array(e.size);e.forEach(function(e){n[++t]=e});return n}var ce=Array.prototype,fe=Function.prototype,de=Object.prototype;var pe=K["__core-js_shared__"];var he=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var me=fe.toString;var ge=de.hasOwnProperty;var ye=de.toString;var ve=RegExp("^"+me.call(ge).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var be=K.Symbol,xe=K.Uint8Array,Te=de.propertyIsEnumerable,Ee=ce.splice;var Se=ue(Object.keys,Object);var we=Ut(K,"DataView"),Oe=Ut(K,"Map"),Ie=Ut(K,"Promise"),Ne=Ut(K,"Set"),Ae=Ut(K,"WeakMap"),Re=Ut(Object,"create");var Ce=Xt(we),Me=Xt(Oe),De=Xt(Ie),Pe=Xt(Ne),_e=Xt(Ae);var Fe=be?be.prototype:undefined,Le=Fe?Fe.valueOf:undefined,ke=Fe?Fe.toString:undefined;function He(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ue(){this.__data__=Re?Re(null):{}}function je(e){return this.has(e)&&delete this.__data__[e]}function We(e){var t=this.__data__;if(Re){var n=t[e];return n===a?undefined:n}return ge.call(t,e)?t[e]:undefined}function Ve(e){var t=this.__data__;return Re?t[e]!==undefined:ge.call(t,e)}function qe(e,t){var n=this.__data__;n[e]=Re&&t===undefined?a:t;return this}He.prototype.clear=Ue;He.prototype["delete"]=je;He.prototype.get=We;He.prototype.has=Ve;He.prototype.set=qe;function Be(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function ze(){this.__data__=[]}function Ge(e){var t=this.__data__,n=dt(t,e);if(n<0){return false}var r=t.length-1;if(n==r){t.pop()}else{Ee.call(t,n,1)}return true}function Ye(e){var t=this.__data__,n=dt(t,e);return n<0?undefined:t[n][1]}function Ke(e){return dt(this.__data__,e)>-1}function $e(e,t){var n=this.__data__,r=dt(n,e);if(r<0){n.push([e,t])}else{n[r][1]=t}return this}Be.prototype.clear=ze;Be.prototype["delete"]=Ge;Be.prototype.get=Ye;Be.prototype.has=Ke;Be.prototype.set=$e;function Qe(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ze(){this.__data__={hash:new He,map:new(Oe||Be),string:new He}}function Xe(e){return kt(this,e)["delete"](e)}function Je(e){return kt(this,e).get(e)}function et(e){return kt(this,e).has(e)}function tt(e,t){kt(this,e).set(e,t);return this}Qe.prototype.clear=Ze;Qe.prototype["delete"]=Xe;Qe.prototype.get=Je;Qe.prototype.has=et;Qe.prototype.set=tt;function nt(e){var t=-1,n=e?e.length:0;this.__data__=new Qe;while(++t<n){this.add(e[t])}}function rt(e){this.__data__.set(e,a);return this}function it(e){return this.__data__.has(e)}nt.prototype.add=nt.prototype.push=rt;nt.prototype.has=it;function at(e){this.__data__=new Be(e)}function ot(){this.__data__=new Be}function st(e){return this.__data__["delete"](e)}function ut(e){return this.__data__.get(e)}function lt(e){return this.__data__.has(e)}function ct(e,t){var n=this.__data__;if(n instanceof Be){var i=n.__data__;if(!Oe||i.length<r-1){i.push([e,t]);return this}n=this.__data__=new Qe(i)}n.set(e,t);return this}at.prototype.clear=ot;at.prototype["delete"]=st;at.prototype.get=ut;at.prototype.has=lt;at.prototype.set=ct;function ft(e,t){var n=rn(e)||nn(e)?re(e.length,String):[];var r=n.length,i=!!r;for(var a in e){if((t||ge.call(e,a))&&!(i&&(a=="length"||Vt(a,r)))){n.push(a)}}return n}function dt(e,t){var n=e.length;while(n--){if(tn(e[n][0],t)){return n}}return-1}var pt=Dt(mt);var ht=Pt();function mt(e,t){return e&&ht(e,t,gn)}function gt(e,t){t=Bt(t,e)?[t]:Mt(t);var n=0,r=t.length;while(e!=null&&n<r){e=e[Zt(t[n++])]}return n&&n==r?e:undefined}function yt(e){return ye.call(e)}function vt(e,t){return e!=null&&t in Object(e)}function bt(e,t,n,r,i){if(e===t){return true}if(e==null||t==null||!ln(e)&&!cn(t)){return e!==e&&t!==t}return xt(e,t,bt,n,r,i)}function xt(e,t,n,r,i,a){var o=rn(e),u=rn(t),l=f,d=f;if(!o){l=jt(e);l=l==c?b:l}if(!u){d=jt(t);d=d==c?b:d}var p=l==b&&!oe(e),h=d==b&&!oe(t),m=l==d;if(m&&!p){a||(a=new at);return o||dn(e)?_t(e,t,n,r,i,a):Ft(e,t,l,n,r,i,a)}if(!(i&s)){var g=p&&ge.call(e,"__wrapped__"),y=h&&ge.call(t,"__wrapped__");if(g||y){var v=g?e.value():e,x=y?t.value():t;a||(a=new at);return n(v,x,r,i,a)}}if(!m){return false}a||(a=new at);return Lt(e,t,n,r,i,a)}function Tt(e,t,n,r){var i=n.length,a=i,u=!r;if(e==null){return!a}e=Object(e);while(i--){var l=n[i];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e)){return false}}while(++i<a){l=n[i];var c=l[0],f=e[c],d=l[1];if(u&&l[2]){if(f===undefined&&!(c in e)){return false}}else{var p=new at;if(r){var h=r(f,d,c,e,t,p)}if(!(h===undefined?bt(d,f,r,o|s,p):h)){return false}}}return true}function Et(e){if(!ln(e)||Gt(e)){return false}var t=sn(e)||oe(e)?ve:q;return t.test(Xt(e))}function St(e){return cn(e)&&un(e.length)&&!!z[ye.call(e)]}function wt(e){if(typeof e=="function"){return e}if(e==null){return yn}if(typeof e=="object"){return rn(e)?Nt(e[0],e[1]):It(e)}return vn(e)}function Ot(e){if(!Yt(e)){return Se(e)}var t=[];for(var n in Object(e)){if(ge.call(e,n)&&n!="constructor"){t.push(n)}}return t}function It(e){var t=Ht(e);if(t.length==1&&t[0][2]){return $t(t[0][0],t[0][1])}return function(n){return n===e||Tt(n,e,t)}}function Nt(e,t){if(Bt(e)&&Kt(t)){return $t(Zt(e),t)}return function(n){var r=hn(n,e);return r===undefined&&r===t?mn(n,e):bt(t,r,undefined,o|s)}}function At(e){return function(t){return gt(t,e)}}function Rt(e,t){var n;pt(e,function(e,r,i){n=t(e,r,i);return!n});return!!n}function Ct(e){if(typeof e=="string"){return e}if(fn(e)){return ke?ke.call(e):""}var t=e+"";return t=="0"&&1/e==-u?"-0":t}function Mt(e){return rn(e)?e:Qt(e)}function Dt(e,t){return function(n,r){if(n==null){return n}if(!an(n)){return e(n,r)}var i=n.length,a=t?i:-1,o=Object(n);while(t?a--:++a<i){if(r(o[a],a,o)===false){break}}return n}}function Pt(e){return function(t,n,r){var i=-1,a=Object(t),o=r(t),s=o.length;while(s--){var u=o[e?s:++i];if(n(a[u],u,a)===false){break}}return t}}function _t(e,t,n,r,i,a){var u=i&s,l=e.length,c=t.length;if(l!=c&&!(u&&c>l)){return false}var f=a.get(e);if(f&&a.get(t)){return f==t}var d=-1,p=true,h=i&o?new nt:undefined;a.set(e,t);a.set(t,e);while(++d<l){var m=e[d],g=t[d];if(r){var y=u?r(g,m,d,t,e,a):r(m,g,d,e,t,a)}if(y!==undefined){if(y){continue}p=false;break}if(h){if(!te(t,function(e,t){if(!h.has(t)&&(m===e||n(m,e,r,i,a))){return h.add(t)}})){p=false;break}}else if(!(m===g||n(m,g,r,i,a))){p=false;break}}a["delete"](e);a["delete"](t);return p}function Ft(e,t,n,r,i,a,u){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case I:if(e.byteLength!=t.byteLength||!r(new xe(e),new xe(t))){return false}return true;case d:case p:case v:return tn(+e,+t);case h:return e.name==t.name&&e.message==t.message;case T:case S:return e==t+"";case y:var l=se;case E:var c=a&s;l||(l=le);if(e.size!=t.size&&!c){return false}var f=u.get(e);if(f){return f==t}a|=o;u.set(e,t);var m=_t(l(e),l(t),r,i,a,u);u["delete"](e);return m;case w:if(Le){return Le.call(e)==Le.call(t)}}return false}function Lt(e,t,n,r,i,a){var o=i&s,u=gn(e),l=u.length,c=gn(t),f=c.length;if(l!=f&&!o){return false}var d=l;while(d--){var p=u[d];if(!(o?p in t:ge.call(t,p))){return false}}var h=a.get(e);if(h&&a.get(t)){return h==t}var m=true;a.set(e,t);a.set(t,e);var g=o;while(++d<l){p=u[d];var y=e[p],v=t[p];if(r){var b=o?r(v,y,p,t,e,a):r(y,v,p,e,t,a)}if(!(b===undefined?y===v||n(y,v,r,i,a):b)){m=false;break}g||(g=p=="constructor")}if(m&&!g){var x=e.constructor,T=t.constructor;if(x!=T&&("constructor"in e&&"constructor"in t)&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)){m=false}}a["delete"](e);a["delete"](t);return m}function kt(e,t){var n=e.__data__;return zt(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ht(e){var t=gn(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,Kt(i)]}return t}function Ut(e,t){var n=ae(e,t);return Et(n)?n:undefined}var jt=yt;if(we&&jt(new we(new ArrayBuffer(1)))!=N||Oe&&jt(new Oe)!=y||Ie&&jt(Ie.resolve())!=x||Ne&&jt(new Ne)!=E||Ae&&jt(new Ae)!=O){jt=function(e){var t=ye.call(e),n=t==b?e.constructor:undefined,r=n?Xt(n):undefined;if(r){switch(r){case Ce:return N;case Me:return y;case De:return x;case Pe:return E;case _e:return O}}return t}}function Wt(e,t,n){t=Bt(t,e)?[t]:Mt(t);var r,i=-1,a=t.length;while(++i<a){var o=Zt(t[i]);if(!(r=e!=null&&n(e,o))){break}e=e[o]}if(r){return r}var a=e?e.length:0;return!!a&&un(a)&&Vt(o,a)&&(rn(e)||nn(e))}function Vt(e,t){t=t==null?l:t;return!!t&&(typeof e=="number"||B.test(e))&&(e>-1&&e%1==0&&e<t)}function qt(e,t,n){if(!ln(n)){return false}var r=typeof t;if(r=="number"?an(n)&&Vt(t,n.length):r=="string"&&t in n){return tn(n[t],e)}return false}function Bt(e,t){if(rn(e)){return false}var n=typeof e;if(n=="number"||n=="symbol"||n=="boolean"||e==null||fn(e)){return true}return H.test(e)||!k.test(e)||t!=null&&e in Object(t)}function zt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Gt(e){return!!he&&he in e}function Yt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||de;return e===n}function Kt(e){return e===e&&!ln(e)}function $t(e,t){return function(n){if(n==null){return false}return n[e]===t&&(t!==undefined||e in Object(n))}}var Qt=en(function(e){e=pn(e);var t=[];if(U.test(e)){t.push("")}e.replace(j,function(e,n,r,i){t.push(r?i.replace(V,"$1"):n||e)});return t});function Zt(e){if(typeof e=="string"||fn(e)){return e}var t=e+"";return t=="0"&&1/e==-u?"-0":t}function Xt(e){if(e!=null){try{return me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Jt(e,t,n){var r=rn(e)?te:Rt;if(n&&qt(e,t,n)){t=undefined}return r(e,wt(t,3))}function en(e,t){if(typeof e!="function"||t&&typeof t!="function"){throw new TypeError(i)}var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i)){return a.get(i)}var o=e.apply(this,r);n.cache=a.set(i,o);return o};n.cache=new(en.Cache||Qe);return n}en.Cache=Qe;function tn(e,t){return e===t||e!==e&&t!==t}function nn(e){return on(e)&&ge.call(e,"callee")&&(!Te.call(e,"callee")||ye.call(e)==c)}var rn=Array.isArray;function an(e){return e!=null&&un(e.length)&&!sn(e)}function on(e){return cn(e)&&an(e)}function sn(e){var t=ln(e)?ye.call(e):"";return t==m||t==g}function un(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=l}function ln(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function cn(e){return!!e&&typeof e=="object"}function fn(e){return typeof e=="symbol"||cn(e)&&ye.call(e)==w}var dn=ee?ie(ee):St;function pn(e){return e==null?"":Ct(e)}function hn(e,t,n){var r=e==null?undefined:gt(e,t);return r===undefined?n:r}function mn(e,t){return e!=null&&Wt(e,t,vt)}function gn(e){return an(e)?ft(e):Ot(e)}function yn(e){return e}function vn(e){return Bt(e)?ne(Zt(e)):At(e)}n.exports=Jt}).call(t,function(){return this}(),n(14)(e))},function(e,t){e.exports="/*! powerbi-models v0.11.3 | (c) 2016 Microsoft Corporation MIT */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"powerbi-models\"] = factory();\n\telse\n\t\troot[\"powerbi-models\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t/* tslint:disable:no-var-requires */\n\texports.advancedFilterSchema = __webpack_require__(1);\n\texports.filterSchema = __webpack_require__(2);\n\texports.loadSchema = __webpack_require__(3);\n\texports.dashboardLoadSchema = __webpack_require__(4);\n\texports.pageSchema = __webpack_require__(5);\n\texports.settingsSchema = __webpack_require__(6);\n\texports.basicFilterSchema = __webpack_require__(7);\n\texports.createReportSchema = __webpack_require__(8);\n\texports.saveAsParametersSchema = __webpack_require__(9);\n\t/* tslint:enable:no-var-requires */\n\tvar jsen = __webpack_require__(10);\n\tfunction normalizeError(error) {\n\t    var message = error.message;\n\t    if (!message) {\n\t        message = error.path + \" is invalid. Not meeting \" + error.keyword + \" constraint\";\n\t    }\n\t    return {\n\t        message: message\n\t    };\n\t}\n\t/**\n\t * Takes in schema and returns function which can be used to validate the schema with better semantics around exposing errors\n\t */\n\tfunction validate(schema, options) {\n\t    return function (x) {\n\t        var validate = jsen(schema, options);\n\t        var isValid = validate(x);\n\t        if (isValid) {\n\t            return undefined;\n\t        }\n\t        else {\n\t            return validate.errors\n\t                .map(normalizeError);\n\t        }\n\t    };\n\t}\n\texports.validateSettings = validate(exports.settingsSchema, {\n\t    schemas: {\n\t        basicFilter: exports.basicFilterSchema,\n\t        advancedFilter: exports.advancedFilterSchema\n\t    }\n\t});\n\texports.validateReportLoad = validate(exports.loadSchema, {\n\t    schemas: {\n\t        settings: exports.settingsSchema,\n\t        basicFilter: exports.basicFilterSchema,\n\t        advancedFilter: exports.advancedFilterSchema\n\t    }\n\t});\n\texports.validateCreateReport = validate(exports.createReportSchema);\n\texports.validateDashboardLoad = validate(exports.dashboardLoadSchema);\n\texports.validatePage = validate(exports.pageSchema);\n\texports.validateFilter = validate(exports.filterSchema, {\n\t    schemas: {\n\t        basicFilter: exports.basicFilterSchema,\n\t        advancedFilter: exports.advancedFilterSchema\n\t    }\n\t});\n\tvar FilterType;\n\t(function (FilterType) {\n\t    FilterType[FilterType[\"Advanced\"] = 0] = \"Advanced\";\n\t    FilterType[FilterType[\"Basic\"] = 1] = \"Basic\";\n\t    FilterType[FilterType[\"Unknown\"] = 2] = \"Unknown\";\n\t})(FilterType = exports.FilterType || (exports.FilterType = {}));\n\tfunction isFilterKeyColumnsTarget(target) {\n\t    return isColumn(target) && !!target.keys;\n\t}\n\texports.isFilterKeyColumnsTarget = isFilterKeyColumnsTarget;\n\tfunction isBasicFilterWithKeys(filter) {\n\t    return getFilterType(filter) === FilterType.Basic && !!filter.keyValues;\n\t}\n\texports.isBasicFilterWithKeys = isBasicFilterWithKeys;\n\tfunction getFilterType(filter) {\n\t    var basicFilter = filter;\n\t    var advancedFilter = filter;\n\t    if ((typeof basicFilter.operator === \"string\")\n\t        && (Array.isArray(basicFilter.values))) {\n\t        return FilterType.Basic;\n\t    }\n\t    else if ((typeof advancedFilter.logicalOperator === \"string\")\n\t        && (Array.isArray(advancedFilter.conditions))) {\n\t        return FilterType.Advanced;\n\t    }\n\t    else {\n\t        return FilterType.Unknown;\n\t    }\n\t}\n\texports.getFilterType = getFilterType;\n\tfunction isMeasure(arg) {\n\t    return arg.table !== undefined && arg.measure !== undefined;\n\t}\n\texports.isMeasure = isMeasure;\n\tfunction isColumn(arg) {\n\t    return arg.table !== undefined && arg.column !== undefined;\n\t}\n\texports.isColumn = isColumn;\n\tfunction isHierarchy(arg) {\n\t    return arg.table !== undefined && arg.hierarchy !== undefined && arg.hierarchyLevel !== undefined;\n\t}\n\texports.isHierarchy = isHierarchy;\n\tvar Filter = (function () {\n\t    function Filter(target) {\n\t        this.target = target;\n\t    }\n\t    Filter.prototype.toJSON = function () {\n\t        return {\n\t            $schema: this.schemaUrl,\n\t            target: this.target\n\t        };\n\t    };\n\t    ;\n\t    return Filter;\n\t}());\n\texports.Filter = Filter;\n\tvar BasicFilter = (function (_super) {\n\t    __extends(BasicFilter, _super);\n\t    function BasicFilter(target, operator) {\n\t        var values = [];\n\t        for (var _i = 2; _i < arguments.length; _i++) {\n\t            values[_i - 2] = arguments[_i];\n\t        }\n\t        var _this = _super.call(this, target) || this;\n\t        _this.operator = operator;\n\t        _this.schemaUrl = BasicFilter.schemaUrl;\n\t        if (values.length === 0 && operator !== \"All\") {\n\t            throw new Error(\"values must be a non-empty array unless your operator is \\\"All\\\".\");\n\t        }\n\t        /**\n\t         * Accept values as array instead of as individual arguments\n\t         * new BasicFilter('a', 'b', 1, 2);\n\t         * new BasicFilter('a', 'b', [1,2]);\n\t         */\n\t        if (Array.isArray(values[0])) {\n\t            _this.values = values[0];\n\t        }\n\t        else {\n\t            _this.values = values;\n\t        }\n\t        return _this;\n\t    }\n\t    BasicFilter.prototype.toJSON = function () {\n\t        var filter = _super.prototype.toJSON.call(this);\n\t        filter.operator = this.operator;\n\t        filter.values = this.values;\n\t        return filter;\n\t    };\n\t    return BasicFilter;\n\t}(Filter));\n\tBasicFilter.schemaUrl = \"http://powerbi.com/product/schema#basic\";\n\texports.BasicFilter = BasicFilter;\n\tvar BasicFilterWithKeys = (function (_super) {\n\t    __extends(BasicFilterWithKeys, _super);\n\t    function BasicFilterWithKeys(target, operator, values, keyValues) {\n\t        var _this = _super.call(this, target, operator, values) || this;\n\t        _this.keyValues = keyValues;\n\t        _this.target = target;\n\t        var numberOfKeys = target.keys ? target.keys.length : 0;\n\t        if (numberOfKeys > 0 && !keyValues) {\n\t            throw new Error(\"You shold pass the values to be filtered for each key. You passed: no values and \" + numberOfKeys + \" keys\");\n\t        }\n\t        if (numberOfKeys === 0 && keyValues && keyValues.length > 0) {\n\t            throw new Error(\"You passed key values but your target object doesn't contain the keys to be filtered\");\n\t        }\n\t        for (var i = 0; i < _this.keyValues.length; i++) {\n\t            if (_this.keyValues[i]) {\n\t                var lengthOfArray = _this.keyValues[i].length;\n\t                if (lengthOfArray !== numberOfKeys) {\n\t                    throw new Error(\"Each tuple of key values should contain a value for each of the keys. You passed: \" + lengthOfArray + \" values and \" + numberOfKeys + \" keys\");\n\t                }\n\t            }\n\t        }\n\t        return _this;\n\t    }\n\t    BasicFilterWithKeys.prototype.toJSON = function () {\n\t        var filter = _super.prototype.toJSON.call(this);\n\t        filter.keyValues = this.keyValues;\n\t        return filter;\n\t    };\n\t    return BasicFilterWithKeys;\n\t}(BasicFilter));\n\texports.BasicFilterWithKeys = BasicFilterWithKeys;\n\tvar AdvancedFilter = (function (_super) {\n\t    __extends(AdvancedFilter, _super);\n\t    function AdvancedFilter(target, logicalOperator) {\n\t        var conditions = [];\n\t        for (var _i = 2; _i < arguments.length; _i++) {\n\t            conditions[_i - 2] = arguments[_i];\n\t        }\n\t        var _this = _super.call(this, target) || this;\n\t        _this.schemaUrl = AdvancedFilter.schemaUrl;\n\t        // Guard statements\n\t        if (typeof logicalOperator !== \"string\" || logicalOperator.length === 0) {\n\t            // TODO: It would be nicer to list out the possible logical operators.\n\t            throw new Error(\"logicalOperator must be a valid operator, You passed: \" + logicalOperator);\n\t        }\n\t        _this.logicalOperator = logicalOperator;\n\t        var extractedConditions;\n\t        /**\n\t         * Accept conditions as array instead of as individual arguments\n\t         * new AdvancedFilter('a', 'b', \"And\", { value: 1, operator: \"Equals\" }, { value: 2, operator: \"IsGreaterThan\" });\n\t         * new AdvancedFilter('a', 'b', \"And\", [{ value: 1, operator: \"Equals\" }, { value: 2, operator: \"IsGreaterThan\" }]);\n\t         */\n\t        if (Array.isArray(conditions[0])) {\n\t            extractedConditions = conditions[0];\n\t        }\n\t        else {\n\t            extractedConditions = conditions;\n\t        }\n\t        if (extractedConditions.length === 0) {\n\t            throw new Error(\"conditions must be a non-empty array. You passed: \" + conditions);\n\t        }\n\t        if (extractedConditions.length > 2) {\n\t            throw new Error(\"AdvancedFilters may not have more than two conditions. You passed: \" + conditions.length);\n\t        }\n\t        if (extractedConditions.length === 1 && logicalOperator !== \"And\") {\n\t            throw new Error(\"Logical Operator must be \\\"And\\\" when there is only one condition provided\");\n\t        }\n\t        _this.conditions = extractedConditions;\n\t        return _this;\n\t    }\n\t    AdvancedFilter.prototype.toJSON = function () {\n\t        var filter = _super.prototype.toJSON.call(this);\n\t        filter.logicalOperator = this.logicalOperator;\n\t        filter.conditions = this.conditions;\n\t        return filter;\n\t    };\n\t    return AdvancedFilter;\n\t}(Filter));\n\tAdvancedFilter.schemaUrl = \"http://powerbi.com/product/schema#advanced\";\n\texports.AdvancedFilter = AdvancedFilter;\n\tvar Permissions;\n\t(function (Permissions) {\n\t    Permissions[Permissions[\"Read\"] = 0] = \"Read\";\n\t    Permissions[Permissions[\"ReadWrite\"] = 1] = \"ReadWrite\";\n\t    Permissions[Permissions[\"Copy\"] = 2] = \"Copy\";\n\t    Permissions[Permissions[\"Create\"] = 4] = \"Create\";\n\t    Permissions[Permissions[\"All\"] = 7] = \"All\";\n\t})(Permissions = exports.Permissions || (exports.Permissions = {}));\n\tvar ViewMode;\n\t(function (ViewMode) {\n\t    ViewMode[ViewMode[\"View\"] = 0] = \"View\";\n\t    ViewMode[ViewMode[\"Edit\"] = 1] = \"Edit\";\n\t})(ViewMode = exports.ViewMode || (exports.ViewMode = {}));\n\tvar TokenType;\n\t(function (TokenType) {\n\t    TokenType[TokenType[\"Aad\"] = 0] = \"Aad\";\n\t    TokenType[TokenType[\"Embed\"] = 1] = \"Embed\";\n\t})(TokenType = exports.TokenType || (exports.TokenType = {}));\n\texports.validateSaveAsParameters = validate(exports.saveAsParametersSchema);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"target\": {\n\t\t\t\t\"oneOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"column\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"table\",\n\t\t\t\t\t\t\t\"column\"\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"hierarchy\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"hierarchyLevel\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"table\",\n\t\t\t\t\t\t\t\"hierarchy\",\n\t\t\t\t\t\t\t\"hierarchyLevel\"\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"measure\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"table\",\n\t\t\t\t\t\t\t\"measure\"\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"logicalOperator\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"conditions\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\"value\": {\n\t\t\t\t\t\t\t\"type\": [\n\t\t\t\t\t\t\t\t\"string\",\n\t\t\t\t\t\t\t\t\"boolean\",\n\t\t\t\t\t\t\t\t\"number\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"operator\": {\n\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\"value\",\n\t\t\t\t\t\t\"operator\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"target\",\n\t\t\t\"logicalOperator\",\n\t\t\t\"conditions\"\n\t\t]\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"oneOf\": [\n\t\t\t{\n\t\t\t\t\"$ref\": \"#basicFilter\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"$ref\": \"#advancedFilter\"\n\t\t\t}\n\t\t],\n\t\t\"invalidMessage\": \"filter is invalid\"\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"accessToken\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"accessToken must be a string\",\n\t\t\t\t\t\"required\": \"accessToken is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"id\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"id must be a string\",\n\t\t\t\t\t\"required\": \"id is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"settings\": {\n\t\t\t\t\"$ref\": \"#settings\"\n\t\t\t},\n\t\t\t\"pageName\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"pageName must be a string\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"filters\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\"oneOf\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#basicFilter\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#advancedFilter\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"invalidMessage\": \"filters property is invalid\"\n\t\t\t},\n\t\t\t\"permissions\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1,\n\t\t\t\t\t2,\n\t\t\t\t\t4,\n\t\t\t\t\t7\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"permissions property is invalid\"\n\t\t\t},\n\t\t\t\"viewMode\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"viewMode property is invalid\"\n\t\t\t},\n\t\t\t\"tokenType\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"tokenType property is invalid\"\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"accessToken\",\n\t\t\t\"id\"\n\t\t]\n\t};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"accessToken\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"accessToken must be a string\",\n\t\t\t\t\t\"required\": \"accessToken is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"id\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"id must be a string\",\n\t\t\t\t\t\"required\": \"id is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"pageView\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"pageView must be a string with one of the following values: \\\"actualSize\\\", \\\"fitToWidth\\\", \\\"oneColumn\\\"\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"tokenType\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"tokenType property is invalid\"\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"accessToken\",\n\t\t\t\"id\"\n\t\t]\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"name\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"name must be a string\",\n\t\t\t\t\t\"required\": \"name is required\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"name\"\n\t\t]\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"filterPaneEnabled\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"filterPaneEnabled must be a boolean\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"navContentPaneEnabled\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"navContentPaneEnabled must be a boolean\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"useCustomSaveAsDialog\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"useCustomSaveAsDialog must be a boolean\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"target\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"column\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"hierarchy\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"hierarchyLevel\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"measure\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"table\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"operator\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"values\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": [\n\t\t\t\t\t\t\"string\",\n\t\t\t\t\t\t\"boolean\",\n\t\t\t\t\t\t\"number\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"target\",\n\t\t\t\"operator\",\n\t\t\t\"values\"\n\t\t]\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"accessToken\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"accessToken must be a string\",\n\t\t\t\t\t\"required\": \"accessToken is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"datasetId\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"datasetId must be a string\",\n\t\t\t\t\t\"required\": \"datasetId is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"tokenType\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"tokenType property is invalid\"\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"accessToken\",\n\t\t\t\"datasetId\"\n\t\t]\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"name\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"name must be a string\",\n\t\t\t\t\t\"required\": \"name is required\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"name\"\n\t\t]\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(11);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar REGEX_ESCAPE_EXPR = /[\\/]/g,\n\t    STR_ESCAPE_EXPR = /(\")/gim,\n\t    VALID_IDENTIFIER_EXPR = /^[a-z_$][0-9a-z]*$/gi,\n\t    INVALID_SCHEMA = 'jsen: invalid schema object',\n\t    browser = typeof window === 'object' && !!window.navigator,   // jshint ignore: line\n\t    regescape = new RegExp('/').source !== '/', // node v0.x does not properly escape '/'s in inline regex\n\t    func = __webpack_require__(12),\n\t    equal = __webpack_require__(13),\n\t    unique = __webpack_require__(14),\n\t    SchemaResolver = __webpack_require__(15),\n\t    formats = __webpack_require__(24),\n\t    ucs2length = __webpack_require__(25),\n\t    types = {},\n\t    keywords = {};\n\t\n\tfunction inlineRegex(regex) {\n\t    regex = regex instanceof RegExp ? regex : new RegExp(regex);\n\t\n\t    return regescape ?\n\t        regex.toString() :\n\t        '/' + regex.source.replace(REGEX_ESCAPE_EXPR, '\\\\$&') + '/';\n\t}\n\t\n\tfunction encodeStr(str) {\n\t    return '\"' + str.replace(STR_ESCAPE_EXPR, '\\\\$1') + '\"';\n\t}\n\t\n\tfunction appendToPath(path, key) {\n\t    VALID_IDENTIFIER_EXPR.lastIndex = 0;\n\t\n\t    return VALID_IDENTIFIER_EXPR.test(key) ?\n\t        path + '.' + key :\n\t        path + '[' + encodeStr(key) + ']';\n\t}\n\t\n\tfunction type(obj) {\n\t    if (obj === undefined) {\n\t        return 'undefined';\n\t    }\n\t\n\t    var str = Object.prototype.toString.call(obj);\n\t    return str.substr(8, str.length - 9).toLowerCase();\n\t}\n\t\n\tfunction isInteger(obj) {\n\t    return (obj | 0) === obj;   // jshint ignore: line\n\t}\n\t\n\ttypes['null'] = function (path) {\n\t    return path + ' === null';\n\t};\n\t\n\ttypes.boolean = function (path) {\n\t    return 'typeof ' + path + ' === \"boolean\"';\n\t};\n\t\n\ttypes.string = function (path) {\n\t    return 'typeof ' + path + ' === \"string\"';\n\t};\n\t\n\ttypes.number = function (path) {\n\t    return 'typeof ' + path + ' === \"number\"';\n\t};\n\t\n\ttypes.integer = function (path) {\n\t    return 'typeof ' + path + ' === \"number\" && !(' + path + ' % 1)';\n\t};\n\t\n\ttypes.array = function (path) {\n\t    return 'Array.isArray(' + path + ')';\n\t};\n\t\n\ttypes.object = function (path) {\n\t    return 'typeof ' + path + ' === \"object\" && ' + path + ' !== null && !Array.isArray(' + path + ')';\n\t};\n\t\n\ttypes.date = function (path) {\n\t    return path + ' instanceof Date';\n\t};\n\t\n\tkeywords.enum = function (context) {\n\t    var arr = context.schema['enum'];\n\t\n\t    context.code('if (!equalAny(' + context.path + ', ' + JSON.stringify(arr) + ')) {');\n\t    context.error('enum');\n\t    context.code('}');\n\t};\n\t\n\tkeywords.minimum = function (context) {\n\t    if (typeof context.schema.minimum === 'number') {\n\t        context.code('if (' + context.path + ' < ' + context.schema.minimum + ') {');\n\t        context.error('minimum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.exclusiveMinimum = function (context) {\n\t    if (context.schema.exclusiveMinimum === true && typeof context.schema.minimum === 'number') {\n\t        context.code('if (' + context.path + ' === ' + context.schema.minimum + ') {');\n\t        context.error('exclusiveMinimum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.maximum = function (context) {\n\t    if (typeof context.schema.maximum === 'number') {\n\t        context.code('if (' + context.path + ' > ' + context.schema.maximum + ') {');\n\t        context.error('maximum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.exclusiveMaximum = function (context) {\n\t    if (context.schema.exclusiveMaximum === true && typeof context.schema.maximum === 'number') {\n\t        context.code('if (' + context.path + ' === ' + context.schema.maximum + ') {');\n\t        context.error('exclusiveMaximum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.multipleOf = function (context) {\n\t    if (typeof context.schema.multipleOf === 'number') {\n\t        var mul = context.schema.multipleOf,\n\t            decimals = mul.toString().length - mul.toFixed(0).length - 1,\n\t            pow = decimals > 0 ? Math.pow(10, decimals) : 1,\n\t            path = context.path;\n\t\n\t        if (decimals > 0) {\n\t            context.code('if (+(Math.round((' + path + ' * ' + pow + ') + \"e+\" + ' + decimals + ') + \"e-\" + ' + decimals + ') % ' + (mul * pow) + ' !== 0) {');\n\t        } else {\n\t            context.code('if (((' + path + ' * ' + pow + ') % ' + (mul * pow) + ') !== 0) {');\n\t        }\n\t\n\t        context.error('multipleOf');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.minLength = function (context) {\n\t    if (isInteger(context.schema.minLength)) {\n\t        context.code('if (ucs2length(' + context.path + ') < ' + context.schema.minLength + ') {');\n\t        context.error('minLength');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.maxLength = function (context) {\n\t    if (isInteger(context.schema.maxLength)) {\n\t        context.code('if (ucs2length(' + context.path + ') > ' + context.schema.maxLength + ') {');\n\t        context.error('maxLength');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.pattern = function (context) {\n\t    var pattern = context.schema.pattern;\n\t\n\t    if (typeof pattern === 'string' || pattern instanceof RegExp) {\n\t        context.code('if (!(' + inlineRegex(pattern) + ').test(' + context.path + ')) {');\n\t        context.error('pattern');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.format = function (context) {\n\t    if (typeof context.schema.format !== 'string' || !formats[context.schema.format]) {\n\t        return;\n\t    }\n\t\n\t    context.code('if (!(' + formats[context.schema.format] + ').test(' + context.path + ')) {');\n\t    context.error('format');\n\t    context.code('}');\n\t};\n\t\n\tkeywords.minItems = function (context) {\n\t    if (isInteger(context.schema.minItems)) {\n\t        context.code('if (' + context.path + '.length < ' + context.schema.minItems + ') {');\n\t        context.error('minItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.maxItems = function (context) {\n\t    if (isInteger(context.schema.maxItems)) {\n\t        context.code('if (' + context.path + '.length > ' + context.schema.maxItems + ') {');\n\t        context.error('maxItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.additionalItems = function (context) {\n\t    if (context.schema.additionalItems === false && Array.isArray(context.schema.items)) {\n\t        context.code('if (' + context.path + '.length > ' + context.schema.items.length + ') {');\n\t        context.error('additionalItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.uniqueItems = function (context) {\n\t    if (context.schema.uniqueItems) {\n\t        context.code('if (unique(' + context.path + ').length !== ' + context.path + '.length) {');\n\t        context.error('uniqueItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.items = function (context) {\n\t    var index = context.declare(0),\n\t        i = 0;\n\t\n\t    if (type(context.schema.items) === 'object') {\n\t        context.code('for (' + index + ' = 0; ' + index + ' < ' + context.path + '.length; ' + index + '++) {');\n\t\n\t        context.descend(context.path + '[' + index + ']', context.schema.items);\n\t\n\t        context.code('}');\n\t    }\n\t    else if (Array.isArray(context.schema.items)) {\n\t        for (; i < context.schema.items.length; i++) {\n\t            context.code('if (' + context.path + '.length - 1 >= ' + i + ') {');\n\t\n\t            context.descend(context.path + '[' + i + ']', context.schema.items[i]);\n\t\n\t            context.code('}');\n\t        }\n\t\n\t        if (type(context.schema.additionalItems) === 'object') {\n\t            context.code('for (' + index + ' = ' + i + '; ' + index + ' < ' + context.path + '.length; ' + index + '++) {');\n\t\n\t            context.descend(context.path + '[' + index + ']', context.schema.additionalItems);\n\t\n\t            context.code('}');\n\t        }\n\t    }\n\t};\n\t\n\tkeywords.maxProperties = function (context) {\n\t    if (isInteger(context.schema.maxProperties)) {\n\t        context.code('if (Object.keys(' + context.path + ').length > ' + context.schema.maxProperties + ') {');\n\t        context.error('maxProperties');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.minProperties = function (context) {\n\t    if (isInteger(context.schema.minProperties)) {\n\t        context.code('if (Object.keys(' + context.path + ').length < ' + context.schema.minProperties + ') {');\n\t        context.error('minProperties');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.required = function (context) {\n\t    if (!Array.isArray(context.schema.required)) {\n\t        return;\n\t    }\n\t\n\t    for (var i = 0; i < context.schema.required.length; i++) {\n\t        context.code('if (' + appendToPath(context.path, context.schema.required[i]) + ' === undefined) {');\n\t        context.error('required', context.schema.required[i]);\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.properties = function (context) {\n\t    var props = context.schema.properties,\n\t        propKeys = type(props) === 'object' ? Object.keys(props) : [],\n\t        required = Array.isArray(context.schema.required) ? context.schema.required : [],\n\t        prop, i, nestedPath;\n\t\n\t    if (!propKeys.length) {\n\t        return;\n\t    }\n\t\n\t    for (i = 0; i < propKeys.length; i++) {\n\t        prop = propKeys[i];\n\t        nestedPath = appendToPath(context.path, prop);\n\t\n\t        context.code('if (' + nestedPath + ' !== undefined) {');\n\t\n\t        context.descend(nestedPath, props[prop]);\n\t\n\t        context.code('}');\n\t\n\t        if (required.indexOf(prop) > -1) {\n\t            context.code('else {');\n\t            context.error('required', prop);\n\t            context.code('}');\n\t        }\n\t    }\n\t};\n\t\n\tkeywords.patternProperties = keywords.additionalProperties = function (context) {\n\t    var propKeys = type(context.schema.properties) === 'object' ?\n\t            Object.keys(context.schema.properties) : [],\n\t        patProps = context.schema.patternProperties,\n\t        patterns = type(patProps) === 'object' ? Object.keys(patProps) : [],\n\t        addProps = context.schema.additionalProperties,\n\t        addPropsCheck = addProps === false || type(addProps) === 'object',\n\t        props, keys, key, n, found, pattern, i;\n\t\n\t    if (!patterns.length && !addPropsCheck) {\n\t        return;\n\t    }\n\t\n\t    keys = context.declare('[]');\n\t    key = context.declare('\"\"');\n\t    n = context.declare(0);\n\t\n\t    if (addPropsCheck) {\n\t        found = context.declare(false);\n\t    }\n\t\n\t    context.code(keys + ' = Object.keys(' + context.path + ')');\n\t\n\t    context.code('for (' + n + ' = 0; ' + n + ' < ' + keys + '.length; ' + n + '++) {')\n\t        (key + ' = ' + keys + '[' + n + ']')\n\t\n\t        ('if (' + context.path + '[' + key + '] === undefined) {')\n\t            ('continue')\n\t        ('}');\n\t\n\t    if (addPropsCheck) {\n\t        context.code(found + ' = false');\n\t    }\n\t\n\t    // validate pattern properties\n\t    for (i = 0; i < patterns.length; i++) {\n\t        pattern = patterns[i];\n\t\n\t        context.code('if ((' + inlineRegex(pattern) + ').test(' + key + ')) {');\n\t\n\t        context.descend(context.path + '[' + key + ']', patProps[pattern]);\n\t\n\t        if (addPropsCheck) {\n\t            context.code(found + ' = true');\n\t        }\n\t\n\t        context.code('}');\n\t    }\n\t\n\t    // validate additional properties\n\t    if (addPropsCheck) {\n\t        if (propKeys.length) {\n\t            props = context.declare(JSON.stringify(propKeys));\n\t\n\t            // do not validate regular properties\n\t            context.code('if (' + props + '.indexOf(' + key + ') > -1) {')\n\t                ('continue')\n\t            ('}');\n\t        }\n\t\n\t        context.code('if (!' + found + ') {');\n\t\n\t        if (addProps === false) {\n\t            // do not allow additional properties\n\t            context.error('additionalProperties', undefined, key);\n\t        }\n\t        else {\n\t            // validate additional properties\n\t            context.descend(context.path + '[' + key + ']', addProps);\n\t        }\n\t\n\t        context.code('}');\n\t    }\n\t\n\t    context.code('}');\n\t};\n\t\n\tkeywords.dependencies = function (context) {\n\t    if (type(context.schema.dependencies) !== 'object') {\n\t        return;\n\t    }\n\t\n\t    var depKeys = Object.keys(context.schema.dependencies),\n\t        len = depKeys.length,\n\t        key, dep, i = 0, k = 0;\n\t\n\t    for (; k < len; k++) {\n\t        key = depKeys[k];\n\t        dep = context.schema.dependencies[key];\n\t\n\t        context.code('if (' + appendToPath(context.path, key) + ' !== undefined) {');\n\t\n\t        if (type(dep) === 'object') {\n\t            //schema dependency\n\t            context.descend(context.path, dep);\n\t        }\n\t        else {\n\t            // property dependency\n\t            for (i; i < dep.length; i++) {\n\t                context.code('if (' + appendToPath(context.path, dep[i]) + ' === undefined) {');\n\t                context.error('dependencies', dep[i]);\n\t                context.code('}');\n\t            }\n\t        }\n\t\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.allOf = function (context) {\n\t    if (!Array.isArray(context.schema.allOf)) {\n\t        return;\n\t    }\n\t\n\t    for (var i = 0; i < context.schema.allOf.length; i++) {\n\t        context.descend(context.path, context.schema.allOf[i]);\n\t    }\n\t};\n\t\n\tkeywords.anyOf = function (context) {\n\t    if (!Array.isArray(context.schema.anyOf)) {\n\t        return;\n\t    }\n\t\n\t    var greedy = context.greedy,\n\t        errCount = context.declare(0),\n\t        initialCount = context.declare(0),\n\t        found = context.declare(false),\n\t        i = 0;\n\t\n\t    context.code(initialCount + ' = errors.length');\n\t\n\t    for (; i < context.schema.anyOf.length; i++) {\n\t        context.code('if (!' + found + ') {');\n\t\n\t        context.code(errCount + ' = errors.length');\n\t\n\t        context.greedy = true;\n\t\n\t        context.descend(context.path, context.schema.anyOf[i]);\n\t\n\t        context.code(found + ' = errors.length === ' + errCount)\n\t        ('}');\n\t    }\n\t\n\t    context.greedy = greedy;\n\t\n\t    context.code('if (!' + found + ') {');\n\t\n\t    context.error('anyOf');\n\t\n\t    context.code('} else {')\n\t        ('errors.length = ' + initialCount)\n\t    ('}');\n\t};\n\t\n\tkeywords.oneOf = function (context) {\n\t    if (!Array.isArray(context.schema.oneOf)) {\n\t        return;\n\t    }\n\t\n\t    var greedy = context.greedy,\n\t        matching = context.declare(0),\n\t        initialCount = context.declare(0),\n\t        errCount = context.declare(0),\n\t        i = 0;\n\t\n\t    context.code(initialCount + ' = errors.length');\n\t    context.code(matching + ' = 0');\n\t\n\t    for (; i < context.schema.oneOf.length; i++) {\n\t        context.code(errCount + ' = errors.length');\n\t\n\t        context.greedy = true;\n\t\n\t        context.descend(context.path, context.schema.oneOf[i]);\n\t\n\t        context.code('if (errors.length === ' + errCount + ') {')\n\t            (matching + '++')\n\t        ('}');\n\t    }\n\t\n\t    context.greedy = greedy;\n\t\n\t    context.code('if (' + matching + ' !== 1) {');\n\t\n\t    context.error('oneOf');\n\t\n\t    context.code('} else {')\n\t        ('errors.length = ' + initialCount)\n\t    ('}');\n\t};\n\t\n\tkeywords.not = function (context) {\n\t    if (type(context.schema.not) !== 'object') {\n\t        return;\n\t    }\n\t\n\t    var greedy = context.greedy,\n\t        errCount = context.declare(0);\n\t\n\t    context.code(errCount + ' = errors.length');\n\t\n\t    context.greedy = true;\n\t\n\t    context.descend(context.path, context.schema.not);\n\t\n\t    context.greedy = greedy;\n\t\n\t    context.code('if (errors.length === ' + errCount + ') {');\n\t\n\t    context.error('not');\n\t\n\t    context.code('} else {')\n\t        ('errors.length = ' + errCount)\n\t    ('}');\n\t};\n\t\n\tfunction decorateGenerator(type, keyword) {\n\t    keywords[keyword].type = type;\n\t    keywords[keyword].keyword = keyword;\n\t}\n\t\n\t['minimum', 'exclusiveMinimum', 'maximum', 'exclusiveMaximum', 'multipleOf']\n\t    .forEach(decorateGenerator.bind(null, 'number'));\n\t\n\t['minLength', 'maxLength', 'pattern', 'format']\n\t    .forEach(decorateGenerator.bind(null, 'string'));\n\t\n\t['minItems', 'maxItems', 'additionalItems', 'uniqueItems', 'items']\n\t    .forEach(decorateGenerator.bind(null, 'array'));\n\t\n\t['maxProperties', 'minProperties', 'required', 'properties', 'patternProperties', 'additionalProperties', 'dependencies']\n\t    .forEach(decorateGenerator.bind(null, 'object'));\n\t\n\t['enum', 'allOf', 'anyOf', 'oneOf', 'not']\n\t    .forEach(decorateGenerator.bind(null, null));\n\t\n\tfunction groupKeywords(schema) {\n\t    var keys = Object.keys(schema),\n\t        propIndex = keys.indexOf('properties'),\n\t        patIndex = keys.indexOf('patternProperties'),\n\t        ret = {\n\t            enum: Array.isArray(schema.enum) && schema.enum.length > 0,\n\t            type: null,\n\t            allType: [],\n\t            perType: {}\n\t        },\n\t        key, gen, i;\n\t\n\t    if (schema.type) {\n\t        if (typeof schema.type === 'string') {\n\t            ret.type = [schema.type];\n\t        }\n\t        else if (Array.isArray(schema.type) && schema.type.length) {\n\t            ret.type = schema.type.slice(0);\n\t        }\n\t    }\n\t\n\t    for (i = 0; i < keys.length; i++) {\n\t        key = keys[i];\n\t\n\t        if (key === 'enum' || key === 'type') {\n\t            continue;\n\t        }\n\t\n\t        gen = keywords[key];\n\t\n\t        if (!gen) {\n\t            continue;\n\t        }\n\t\n\t        if (gen.type) {\n\t            if (!ret.perType[gen.type]) {\n\t                ret.perType[gen.type] = [];\n\t            }\n\t\n\t            if (!(propIndex > -1 && key === 'required') &&\n\t                !(patIndex > -1 && key === 'additionalProperties')) {\n\t                ret.perType[gen.type].push(key);\n\t            }\n\t        }\n\t        else {\n\t            ret.allType.push(key);\n\t        }\n\t    }\n\t\n\t    return ret;\n\t}\n\t\n\tfunction getPathExpression(path, key) {\n\t    var path_ = path.substr(4),\n\t        len = path_.length,\n\t        tokens = [],\n\t        token = '',\n\t        isvar = false,\n\t        char, i;\n\t\n\t    for (i = 0; i < len; i++) {\n\t        char = path_[i];\n\t\n\t        switch (char) {\n\t            case '.':\n\t                if (token) {\n\t                    token += char;\n\t                }\n\t                break;\n\t            case '[':\n\t                if (isNaN(+path_[i + 1])) {\n\t                    isvar = true;\n\t\n\t                    if (token) {\n\t                        tokens.push('\"' + token + '\"');\n\t                        token = '';\n\t                    }\n\t                }\n\t                else {\n\t                    isvar = false;\n\t\n\t                    if (token) {\n\t                        token += '.';\n\t                    }\n\t                }\n\t                break;\n\t            case ']':\n\t                tokens.push(isvar ? token : '\"' + token + '\"');\n\t                token = '';\n\t                break;\n\t            default:\n\t                token += char;\n\t        }\n\t    }\n\t\n\t    if (token) {\n\t        tokens.push('\"' + token + '\"');\n\t    }\n\t\n\t    if (key) {\n\t        tokens.push('\"' + key + '\"');\n\t    }\n\t\n\t    if (tokens.length === 1 && isvar) {\n\t        return '\"\" + ' + tokens[0] + ' + \"\"';\n\t    }\n\t\n\t    return tokens.join(' + \".\" + ') || '\"\"';\n\t}\n\t\n\tfunction clone(obj) {\n\t    var cloned = obj,\n\t        objType = type(obj),\n\t        keys, len, key, i;\n\t\n\t    if (objType === 'object') {\n\t        cloned = {};\n\t        keys = Object.keys(obj);\n\t\n\t        for (i = 0, len = keys.length; i < len; i++) {\n\t            key = keys[i];\n\t            cloned[key] = clone(obj[key]);\n\t        }\n\t    }\n\t    else if (objType === 'array') {\n\t        cloned = [];\n\t\n\t        for (i = 0, len = obj.length; i < len; i++) {\n\t            cloned[i] = clone(obj[i]);\n\t        }\n\t    }\n\t    else if (objType === 'regexp') {\n\t        return new RegExp(obj);\n\t    }\n\t    else if (objType === 'date') {\n\t        return new Date(obj.toJSON());\n\t    }\n\t\n\t    return cloned;\n\t}\n\t\n\tfunction equalAny(obj, options) {\n\t    for (var i = 0, len = options.length; i < len; i++) {\n\t        if (equal(obj, options[i])) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction PropertyMarker() {\n\t    this.objects = [];\n\t    this.properties = [];\n\t}\n\t\n\tPropertyMarker.prototype.mark = function (obj, key) {\n\t    var index = this.objects.indexOf(obj),\n\t        prop;\n\t\n\t    if (index < 0) {\n\t        this.objects.push(obj);\n\t\n\t        prop = {};\n\t        prop[key] = 1;\n\t\n\t        this.properties.push(prop);\n\t\n\t        return;\n\t    }\n\t\n\t    prop = this.properties[index];\n\t\n\t    prop[key] = prop[key] ? prop[key] + 1 : 1;\n\t};\n\t\n\tPropertyMarker.prototype.deleteDuplicates = function () {\n\t    var props, keys, key, i, j;\n\t\n\t    for (i = 0; i < this.properties.length; i++) {\n\t        props = this.properties[i];\n\t        keys = Object.keys(props);\n\t\n\t        for (j = 0; j < keys.length; j++) {\n\t            key = keys[j];\n\t\n\t            if (props[key] > 1) {\n\t                delete this.objects[i][key];\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\tPropertyMarker.prototype.dispose = function () {\n\t    this.objects.length = 0;\n\t    this.properties.length = 0;\n\t};\n\t\n\tfunction build(schema, def, additional, resolver, parentMarker) {\n\t    var defType, defValue, key, i, propertyMarker, props, defProps;\n\t\n\t    if (type(schema) !== 'object') {\n\t        return def;\n\t    }\n\t\n\t    schema = resolver.resolve(schema);\n\t\n\t    if (def === undefined && schema.hasOwnProperty('default')) {\n\t        def = clone(schema['default']);\n\t    }\n\t\n\t    defType = type(def);\n\t\n\t    if (defType === 'object' && type(schema.properties) === 'object') {\n\t        props = Object.keys(schema.properties);\n\t\n\t        for (i = 0; i < props.length; i++) {\n\t            key = props[i];\n\t            defValue = build(schema.properties[key], def[key], additional, resolver);\n\t\n\t            if (defValue !== undefined) {\n\t                def[key] = defValue;\n\t            }\n\t        }\n\t\n\t        if (additional !== 'always') {\n\t            defProps = Object.keys(def);\n\t\n\t            for (i = 0; i < defProps.length; i++) {\n\t                key = defProps[i];\n\t\n\t                if (props.indexOf(key) < 0 &&\n\t                    (schema.additionalProperties === false ||\n\t                    (additional === false && !schema.additionalProperties))) {\n\t\n\t                    if (parentMarker) {\n\t                        parentMarker.mark(def, key);\n\t                    }\n\t                    else {\n\t                        delete def[key];\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }\n\t    else if (defType === 'array' && schema.items) {\n\t        if (type(schema.items) === 'array') {\n\t            for (i = 0; i < schema.items.length; i++) {\n\t                defValue = build(schema.items[i], def[i], additional, resolver);\n\t\n\t                if (defValue !== undefined || i < def.length) {\n\t                    def[i] = defValue;\n\t                }\n\t            }\n\t        }\n\t        else if (def.length) {\n\t            for (i = 0; i < def.length; i++) {\n\t                def[i] = build(schema.items, def[i], additional, resolver);\n\t            }\n\t        }\n\t    }\n\t    else if (type(schema.allOf) === 'array' && schema.allOf.length) {\n\t        propertyMarker = new PropertyMarker();\n\t\n\t        for (i = 0; i < schema.allOf.length; i++) {\n\t            def = build(schema.allOf[i], def, additional, resolver, propertyMarker);\n\t        }\n\t\n\t        propertyMarker.deleteDuplicates();\n\t        propertyMarker.dispose();\n\t    }\n\t\n\t    return def;\n\t}\n\t\n\tfunction ValidationContext(options) {\n\t    this.path = 'data';\n\t    this.schema = options.schema;\n\t    this.formats = options.formats;\n\t    this.greedy = options.greedy;\n\t    this.resolver = options.resolver;\n\t    this.id = options.id;\n\t    this.funcache = options.funcache || {};\n\t    this.scope = options.scope || {\n\t        equalAny: equalAny,\n\t        unique: unique,\n\t        ucs2length: ucs2length,\n\t        refs: {}\n\t    };\n\t}\n\t\n\tValidationContext.prototype.clone = function (schema) {\n\t    var ctx = new ValidationContext({\n\t        schema: schema,\n\t        formats: this.formats,\n\t        greedy: this.greedy,\n\t        resolver: this.resolver,\n\t        id: this.id,\n\t        funcache: this.funcache,\n\t        scope: this.scope\n\t    });\n\t\n\t    return ctx;\n\t};\n\t\n\tValidationContext.prototype.declare = function (def) {\n\t    var variname = this.id();\n\t    this.code.def(variname, def);\n\t    return variname;\n\t};\n\t\n\tValidationContext.prototype.cache = function (cacheKey, schema) {\n\t    var cached = this.funcache[cacheKey],\n\t        context;\n\t\n\t    if (!cached) {\n\t        cached = this.funcache[cacheKey] = {\n\t            key: this.id()\n\t        };\n\t\n\t        context = this.clone(schema);\n\t\n\t        cached.func = context.compile(cached.key);\n\t\n\t        this.scope.refs[cached.key] = cached.func;\n\t\n\t        context.dispose();\n\t    }\n\t\n\t    return 'refs.' + cached.key;\n\t};\n\t\n\tValidationContext.prototype.error = function (keyword, key, additional) {\n\t    var schema = this.schema,\n\t        path = this.path,\n\t        errorPath = path !== 'data' || key ?\n\t            '(path ? path + \".\" : \"\") + ' + getPathExpression(path, key) + ',' :\n\t            'path,',\n\t        res = key && schema.properties && schema.properties[key] ?\n\t            this.resolver.resolve(schema.properties[key]) : null,\n\t        message = res ? res.requiredMessage : schema.invalidMessage;\n\t\n\t    if (!message) {\n\t        message = (res && res.messages && res.messages[keyword]) ||\n\t            (schema.messages && schema.messages[keyword]);\n\t    }\n\t\n\t    this.code('errors.push({');\n\t\n\t    if (message) {\n\t        this.code('message: ' + encodeStr(message) + ',');\n\t    }\n\t\n\t    if (additional) {\n\t        this.code('additionalProperties: ' + additional + ',');\n\t    }\n\t\n\t    this.code('path: ' + errorPath)\n\t        ('keyword: ' + encodeStr(keyword))\n\t    ('})');\n\t\n\t    if (!this.greedy) {\n\t        this.code('return');\n\t    }\n\t};\n\t\n\tValidationContext.prototype.refactor = function (path, schema, cacheKey) {\n\t    var parentPathExp = path !== 'data' ?\n\t            '(path ? path + \".\" : \"\") + ' + getPathExpression(path) :\n\t            'path',\n\t        cachedRef = this.cache(cacheKey, schema),\n\t        refErrors = this.declare();\n\t\n\t    this.code(refErrors + ' = ' + cachedRef + '(' + path + ', ' + parentPathExp + ', errors)');\n\t\n\t    if (!this.greedy) {\n\t        this.code('if (errors.length) { return }');\n\t    }\n\t};\n\t\n\tValidationContext.prototype.descend = function (path, schema) {\n\t    var origPath = this.path,\n\t        origSchema = this.schema;\n\t\n\t    this.path = path;\n\t    this.schema = schema;\n\t\n\t    this.generate();\n\t\n\t    this.path = origPath;\n\t    this.schema = origSchema;\n\t};\n\t\n\tValidationContext.prototype.generate = function () {\n\t    var path = this.path,\n\t        schema = this.schema,\n\t        context = this,\n\t        scope = this.scope,\n\t        encodedFormat,\n\t        format,\n\t        schemaKeys,\n\t        typeKeys,\n\t        typeIndex,\n\t        validatedType,\n\t        i;\n\t\n\t    if (type(schema) !== 'object') {\n\t        return;\n\t    }\n\t\n\t    if (schema.$ref !== undefined) {\n\t        schema = this.resolver.resolve(schema);\n\t\n\t        if (this.resolver.hasRef(schema)) {\n\t            this.refactor(path, schema,\n\t                this.resolver.getNormalizedRef(this.schema) || this.schema.$ref);\n\t\n\t            return;\n\t        }\n\t        else {\n\t            // substitute $ref schema with the resolved instance\n\t            this.schema = schema;\n\t        }\n\t    }\n\t\n\t    schemaKeys = groupKeywords(schema);\n\t\n\t    if (schemaKeys.enum) {\n\t        keywords.enum(context);\n\t\n\t        return; // do not process the schema further\n\t    }\n\t\n\t    typeKeys = Object.keys(schemaKeys.perType);\n\t\n\t    function generateForKeyword(keyword) {\n\t        keywords[keyword](context);    // jshint ignore: line\n\t    }\n\t\n\t    for (i = 0; i < typeKeys.length; i++) {\n\t        validatedType = typeKeys[i];\n\t\n\t        this.code((i ? 'else ' : '') + 'if (' + types[validatedType](path) + ') {');\n\t\n\t        schemaKeys.perType[validatedType].forEach(generateForKeyword);\n\t\n\t        this.code('}');\n\t\n\t        if (schemaKeys.type) {\n\t            typeIndex = schemaKeys.type.indexOf(validatedType);\n\t\n\t            if (typeIndex > -1) {\n\t                schemaKeys.type.splice(typeIndex, 1);\n\t            }\n\t        }\n\t    }\n\t\n\t    if (schemaKeys.type) {              // we have types in the schema\n\t        if (schemaKeys.type.length) {   // case 1: we still have some left to check\n\t            this.code((typeKeys.length ? 'else ' : '') + 'if (!(' + schemaKeys.type.map(function (type) {\n\t                return types[type] ? types[type](path) : 'true';\n\t            }).join(' || ') + ')) {');\n\t            this.error('type');\n\t            this.code('}');\n\t        }\n\t        else {\n\t            this.code('else {');             // case 2: we don't have any left to check\n\t            this.error('type');\n\t            this.code('}');\n\t        }\n\t    }\n\t\n\t    schemaKeys.allType.forEach(function (keyword) {\n\t        keywords[keyword](context);\n\t    });\n\t\n\t    if (schema.format && this.formats) {\n\t        format = this.formats[schema.format];\n\t\n\t        if (format) {\n\t            if (typeof format === 'string' || format instanceof RegExp) {\n\t                this.code('if (!(' + inlineRegex(format) + ').test(' + path + ')) {');\n\t                this.error('format');\n\t                this.code('}');\n\t            }\n\t            else if (typeof format === 'function') {\n\t                (scope.formats || (scope.formats = {}))[schema.format] = format;\n\t                (scope.schemas || (scope.schemas = {}))[schema.format] = schema;\n\t\n\t                encodedFormat = encodeStr(schema.format);\n\t\n\t                this.code('if (!formats[' + encodedFormat + '](' + path + ', schemas[' + encodedFormat + '])) {');\n\t                this.error('format');\n\t                this.code('}');\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\tValidationContext.prototype.compile = function (id) {\n\t    this.code = func('jsen_compiled' + (id ? '_' + id : ''), 'data', 'path', 'errors');\n\t    this.generate();\n\t\n\t    return this.code.compile(this.scope);\n\t};\n\t\n\tValidationContext.prototype.dispose = function () {\n\t    for (var key in this) {\n\t        this[key] = undefined;\n\t    }\n\t};\n\t\n\tfunction jsen(schema, options) {\n\t    if (type(schema) !== 'object') {\n\t        throw new Error(INVALID_SCHEMA);\n\t    }\n\t\n\t    options = options || {};\n\t\n\t    var counter = 0,\n\t        id = function () { return 'i' + (counter++); },\n\t        resolver = new SchemaResolver(schema, options.schemas, options.missing$Ref || false),\n\t        context = new ValidationContext({\n\t            schema: schema,\n\t            resolver: resolver,\n\t            id: id,\n\t            schemas: options.schemas,\n\t            formats: options.formats,\n\t            greedy: options.greedy || false\n\t        }),\n\t        compiled = func('validate', 'data')\n\t            ('validate.errors = []')\n\t            ('gen(data, \"\", validate.errors)')\n\t            ('return validate.errors.length === 0')\n\t            .compile({ gen: context.compile() });\n\t\n\t    context.dispose();\n\t    context = null;\n\t\n\t    compiled.errors = [];\n\t\n\t    compiled.build = function (initial, options) {\n\t        return build(\n\t            schema,\n\t            (options && options.copy === false ? initial : clone(initial)),\n\t            options && options.additionalProperties,\n\t            resolver);\n\t    };\n\t\n\t    return compiled;\n\t}\n\t\n\tjsen.browser = browser;\n\tjsen.clone = clone;\n\tjsen.equal = equal;\n\tjsen.unique = unique;\n\tjsen.ucs2length = ucs2length;\n\tjsen.SchemaResolver = SchemaResolver;\n\tjsen.resolve = SchemaResolver.resolvePointer;\n\t\n\tmodule.exports = jsen;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function func() {\n\t    var args = Array.apply(null, arguments),\n\t        name = args.shift(),\n\t        tab = '  ',\n\t        lines = '',\n\t        vars = '',\n\t        ind = 1,    // indentation\n\t        bs = '{[',  // block start\n\t        be = '}]',  // block end\n\t        space = function () {\n\t            var sp = tab, i = 0;\n\t            while (i++ < ind - 1) { sp += tab; }\n\t            return sp;\n\t        },\n\t        add = function (line) {\n\t            lines += space() + line + '\\n';\n\t        },\n\t        builder = function (line) {\n\t            var first = line[0],\n\t                last = line[line.length - 1];\n\t\n\t            if (be.indexOf(first) > -1 && bs.indexOf(last) > -1) {\n\t                ind--;\n\t                add(line);\n\t                ind++;\n\t            }\n\t            else if (bs.indexOf(last) > -1) {\n\t                add(line);\n\t                ind++;\n\t            }\n\t            else if (be.indexOf(first) > -1) {\n\t                ind--;\n\t                add(line);\n\t            }\n\t            else {\n\t                add(line);\n\t            }\n\t\n\t            return builder;\n\t        };\n\t\n\t    builder.def = function (id, def) {\n\t        vars += (vars ? ',\\n' + tab + '    ' : '') + id + (def !== undefined ? ' = ' + def : '');\n\t        return builder;\n\t    };\n\t\n\t    builder.toSource = function () {\n\t        return 'function ' + name + '(' + args.join(', ') + ') {\\n' +\n\t            tab + '\"use strict\"' + '\\n' +\n\t            (vars ? tab + 'var ' + vars + ';\\n' : '') +\n\t            lines + '}';\n\t    };\n\t\n\t    builder.compile = function (scope) {\n\t        var src = 'return (' + builder.toSource() + ')',\n\t            scp = scope || {},\n\t            keys = Object.keys(scp),\n\t            vals = keys.map(function (key) { return scp[key]; });\n\t\n\t        return Function.apply(null, keys.concat(src)).apply(null, vals);\n\t    };\n\t\n\t    return builder;\n\t};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction type(obj) {\n\t    var str = Object.prototype.toString.call(obj);\n\t    return str.substr(8, str.length - 9).toLowerCase();\n\t}\n\t\n\tfunction deepEqual(a, b) {\n\t    var keysA = Object.keys(a).sort(),\n\t        keysB = Object.keys(b).sort(),\n\t        i, key;\n\t\n\t    if (!equal(keysA, keysB)) {\n\t        return false;\n\t    }\n\t\n\t    for (i = 0; i < keysA.length; i++) {\n\t        key = keysA[i];\n\t\n\t        if (!equal(a[key], b[key])) {\n\t            return false;\n\t        }\n\t    }\n\t\n\t    return true;\n\t}\n\t\n\tfunction equal(a, b) {  // jshint ignore: line\n\t    var typeA = typeof a,\n\t        typeB = typeof b,\n\t        i;\n\t\n\t    // get detailed object type\n\t    if (typeA === 'object') {\n\t        typeA = type(a);\n\t    }\n\t\n\t    // get detailed object type\n\t    if (typeB === 'object') {\n\t        typeB = type(b);\n\t    }\n\t\n\t    if (typeA !== typeB) {\n\t        return false;\n\t    }\n\t\n\t    if (typeA === 'object') {\n\t        return deepEqual(a, b);\n\t    }\n\t\n\t    if (typeA === 'regexp') {\n\t        return a.toString() === b.toString();\n\t    }\n\t\n\t    if (typeA === 'array') {\n\t        if (a.length !== b.length) {\n\t            return false;\n\t        }\n\t\n\t        for (i = 0; i < a.length; i++) {\n\t            if (!equal(a[i], b[i])) {\n\t                return false;\n\t            }\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    return a === b;\n\t}\n\t\n\tmodule.exports = equal;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar equal = __webpack_require__(13);\n\t\n\tfunction findIndex(arr, value, comparator) {\n\t    for (var i = 0, len = arr.length; i < len; i++) {\n\t        if (comparator(arr[i], value)) {\n\t            return i;\n\t        }\n\t    }\n\t\n\t    return -1;\n\t}\n\t\n\tmodule.exports = function unique(arr) {\n\t    return arr.filter(function uniqueOnly(value, index, self) {\n\t        return findIndex(self, value, equal) === index;\n\t    });\n\t};\n\t\n\tmodule.exports.findIndex = findIndex;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar url = __webpack_require__(16),\n\t    metaschema = __webpack_require__(23),\n\t    INVALID_SCHEMA_REFERENCE = 'jsen: invalid schema reference',\n\t    DUPLICATE_SCHEMA_ID = 'jsen: duplicate schema id',\n\t    CIRCULAR_SCHEMA_REFERENCE = 'jsen: circular schema reference';\n\t\n\tfunction get(obj, path) {\n\t    if (!path.length) {\n\t        return obj;\n\t    }\n\t\n\t    var key = path.shift(),\n\t        val;\n\t\n\t    if (obj && typeof obj === 'object' && obj.hasOwnProperty(key)) {\n\t        val = obj[key];\n\t    }\n\t\n\t    if (path.length) {\n\t        if (val && typeof val === 'object') {\n\t            return get(val, path);\n\t        }\n\t\n\t        return undefined;\n\t    }\n\t\n\t    return val;\n\t}\n\t\n\tfunction refToObj(ref) {\n\t    var index = ref.indexOf('#'),\n\t        ret = {\n\t            base: ref.substr(0, index),\n\t            path: []\n\t        };\n\t\n\t    if (index < 0) {\n\t        ret.base = ref;\n\t        return ret;\n\t    }\n\t\n\t    ref = ref.substr(index + 1);\n\t\n\t    if (!ref) {\n\t        return ret;\n\t    }\n\t\n\t    ret.path = ref.split('/').map(function (segment) {\n\t        // Reference: http://tools.ietf.org/html/draft-ietf-appsawg-json-pointer-08#section-3\n\t        return decodeURIComponent(segment)\n\t            .replace(/~1/g, '/')\n\t            .replace(/~0/g, '~');\n\t    });\n\t\n\t    if (ref[0] === '/') {\n\t        ret.path.shift();\n\t    }\n\t\n\t    return ret;\n\t}\n\t\n\t// TODO: Can we prevent nested resolvers and combine schemas instead?\n\tfunction SchemaResolver(rootSchema, external, missing$Ref, baseId) {  // jshint ignore: line\n\t    this.rootSchema = rootSchema;\n\t    this.resolvers = null;\n\t    this.resolvedRootSchema = null;\n\t    this.cache = {};\n\t    this.idCache = {};\n\t    this.refCache = { refs: [], schemas: [] };\n\t    this.missing$Ref = missing$Ref;\n\t    this.refStack = [];\n\t\n\t    baseId = baseId || '';\n\t\n\t    this._buildIdCache(rootSchema, baseId);\n\t\n\t    // get updated base id after normalizing root schema id\n\t    baseId = this.refCache.refs[this.refCache.schemas.indexOf(this.rootSchema)] || baseId;\n\t\n\t    this._buildResolvers(external, baseId);\n\t}\n\t\n\tSchemaResolver.prototype._cacheId = function (id, schema, resolver) {\n\t    if (this.idCache[id]) {\n\t        throw new Error(DUPLICATE_SCHEMA_ID + ' ' + id);\n\t    }\n\t\n\t    this.idCache[id] = { resolver: resolver, schema: schema };\n\t};\n\t\n\tSchemaResolver.prototype._buildIdCache = function (schema, baseId) {\n\t    var id = baseId,\n\t        ref, keys, i;\n\t\n\t    if (!schema || typeof schema !== 'object') {\n\t        return;\n\t    }\n\t\n\t    if (typeof schema.id === 'string' && schema.id) {\n\t        id = url.resolve(baseId, schema.id);\n\t\n\t        this._cacheId(id, schema, this);\n\t    }\n\t    else if (schema === this.rootSchema && baseId) {\n\t        this._cacheId(baseId, schema, this);\n\t    }\n\t\n\t    if (schema.$ref && typeof schema.$ref === 'string') {\n\t        ref = url.resolve(id, schema.$ref);\n\t\n\t        this.refCache.schemas.push(schema);\n\t        this.refCache.refs.push(ref);\n\t    }\n\t\n\t    keys = Object.keys(schema);\n\t\n\t    for (i = 0; i < keys.length; i++) {\n\t        this._buildIdCache(schema[keys[i]], id);\n\t    }\n\t};\n\t\n\tSchemaResolver.prototype._buildResolvers = function (schemas, baseId) {\n\t    if (!schemas || typeof schemas !== 'object') {\n\t        return;\n\t    }\n\t\n\t    var that = this,\n\t        resolvers = {};\n\t\n\t    Object.keys(schemas).forEach(function (key) {\n\t        var id = url.resolve(baseId, key),\n\t            resolver = new SchemaResolver(schemas[key], null, that.missing$Ref, id);\n\t\n\t        that._cacheId(id, resolver.rootSchema, resolver);\n\t\n\t        Object.keys(resolver.idCache).forEach(function (idKey) {\n\t            that.idCache[idKey] = resolver.idCache[idKey];\n\t        });\n\t\n\t        resolvers[key] = resolver;\n\t    });\n\t\n\t    this.resolvers = resolvers;\n\t};\n\t\n\tSchemaResolver.prototype.getNormalizedRef = function (schema) {\n\t    var index = this.refCache.schemas.indexOf(schema);\n\t    return this.refCache.refs[index];\n\t};\n\t\n\tSchemaResolver.prototype._resolveRef = function (ref) {\n\t    var err = new Error(INVALID_SCHEMA_REFERENCE + ' ' + ref),\n\t        idCache = this.idCache,\n\t        externalResolver, cached, descriptor, path, dest;\n\t\n\t    if (!ref || typeof ref !== 'string') {\n\t        throw err;\n\t    }\n\t\n\t    if (ref === metaschema.id) {\n\t        dest = metaschema;\n\t    }\n\t\n\t    cached = idCache[ref];\n\t\n\t    if (cached) {\n\t        dest = cached.resolver.resolve(cached.schema);\n\t    }\n\t\n\t    if (dest === undefined) {\n\t        descriptor = refToObj(ref);\n\t        path = descriptor.path;\n\t\n\t        if (descriptor.base) {\n\t            cached = idCache[descriptor.base] || idCache[descriptor.base + '#'];\n\t\n\t            if (cached) {\n\t                dest = cached.resolver.resolve(get(cached.schema, path.slice(0)));\n\t            }\n\t            else {\n\t                path.unshift(descriptor.base);\n\t            }\n\t        }\n\t    }\n\t\n\t    if (dest === undefined && this.resolvedRootSchema) {\n\t        dest = get(this.resolvedRootSchema, path.slice(0));\n\t    }\n\t\n\t    if (dest === undefined) {\n\t        dest = get(this.rootSchema, path.slice(0));\n\t    }\n\t\n\t    if (dest === undefined && path.length && this.resolvers) {\n\t        externalResolver = get(this.resolvers, path);\n\t\n\t        if (externalResolver) {\n\t            dest = externalResolver.resolve(externalResolver.rootSchema);\n\t        }\n\t    }\n\t\n\t    if (dest === undefined || typeof dest !== 'object') {\n\t        if (this.missing$Ref) {\n\t            dest = {};\n\t        } else {\n\t            throw err;\n\t        }\n\t    }\n\t\n\t    if (this.cache[ref] === dest) {\n\t        return dest;\n\t    }\n\t\n\t    this.cache[ref] = dest;\n\t\n\t    if (dest.$ref !== undefined) {\n\t        dest = this.resolve(dest);\n\t    }\n\t\n\t    return dest;\n\t};\n\t\n\tSchemaResolver.prototype.resolve = function (schema) {\n\t    if (!schema || typeof schema !== 'object' || schema.$ref === undefined) {\n\t        return schema;\n\t    }\n\t\n\t    var ref = this.getNormalizedRef(schema) || schema.$ref,\n\t        resolved = this.cache[ref];\n\t\n\t    if (resolved !== undefined) {\n\t        return resolved;\n\t    }\n\t\n\t    if (this.refStack.indexOf(ref) > -1) {\n\t        throw new Error(CIRCULAR_SCHEMA_REFERENCE + ' ' + ref);\n\t    }\n\t\n\t    this.refStack.push(ref);\n\t\n\t    resolved = this._resolveRef(ref);\n\t\n\t    this.refStack.pop();\n\t\n\t    if (schema === this.rootSchema) {\n\t        // cache the resolved root schema\n\t        this.resolvedRootSchema = resolved;\n\t    }\n\t\n\t    return resolved;\n\t};\n\t\n\tSchemaResolver.prototype.hasRef = function (schema) {\n\t    var keys = Object.keys(schema),\n\t        len, key, i, hasChildRef;\n\t\n\t    if (keys.indexOf('$ref') > -1) {\n\t        return true;\n\t    }\n\t\n\t    for (i = 0, len = keys.length; i < len; i++) {\n\t        key = keys[i];\n\t\n\t        if (schema[key] && typeof schema[key] === 'object' && !Array.isArray(schema[key])) {\n\t            hasChildRef = this.hasRef(schema[key]);\n\t\n\t            if (hasChildRef) {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t\n\t    return false;\n\t};\n\t\n\tSchemaResolver.resolvePointer = function (obj, pointer) {\n\t    var descriptor = refToObj(pointer),\n\t        path = descriptor.path;\n\t\n\t    if (descriptor.base) {\n\t        path = [descriptor.base].concat(path);\n\t    }\n\t\n\t    return get(obj, path);\n\t};\n\t\n\tmodule.exports = SchemaResolver;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\tvar punycode = __webpack_require__(17);\n\tvar util = __webpack_require__(19);\n\t\n\texports.parse = urlParse;\n\texports.resolve = urlResolve;\n\texports.resolveObject = urlResolveObject;\n\texports.format = urlFormat;\n\t\n\texports.Url = Url;\n\t\n\tfunction Url() {\n\t  this.protocol = null;\n\t  this.slashes = null;\n\t  this.auth = null;\n\t  this.host = null;\n\t  this.port = null;\n\t  this.hostname = null;\n\t  this.hash = null;\n\t  this.search = null;\n\t  this.query = null;\n\t  this.pathname = null;\n\t  this.path = null;\n\t  this.href = null;\n\t}\n\t\n\t// Reference: RFC 3986, RFC 1808, RFC 2396\n\t\n\t// define these here so at least they only have to be\n\t// compiled once on the first module load.\n\tvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n\t    portPattern = /:[0-9]*$/,\n\t\n\t    // Special case for a simple path URL\n\t    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\t\n\t    // RFC 2396: characters reserved for delimiting URLs.\n\t    // We actually just auto-escape these.\n\t    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\t\n\t    // RFC 2396: characters not allowed for various reasons.\n\t    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\t\n\t    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n\t    autoEscape = ['\\''].concat(unwise),\n\t    // Characters that are never ever allowed in a hostname.\n\t    // Note that any invalid chars are also handled, but these\n\t    // are the ones that are *expected* to be seen, so we fast-path\n\t    // them.\n\t    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n\t    hostEndingChars = ['/', '?', '#'],\n\t    hostnameMaxLen = 255,\n\t    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n\t    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n\t    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n\t    unsafeProtocol = {\n\t      'javascript': true,\n\t      'javascript:': true\n\t    },\n\t    // protocols that never have a hostname.\n\t    hostlessProtocol = {\n\t      'javascript': true,\n\t      'javascript:': true\n\t    },\n\t    // protocols that always contain a // bit.\n\t    slashedProtocol = {\n\t      'http': true,\n\t      'https': true,\n\t      'ftp': true,\n\t      'gopher': true,\n\t      'file': true,\n\t      'http:': true,\n\t      'https:': true,\n\t      'ftp:': true,\n\t      'gopher:': true,\n\t      'file:': true\n\t    },\n\t    querystring = __webpack_require__(20);\n\t\n\tfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n\t  if (url && util.isObject(url) && url instanceof Url) return url;\n\t\n\t  var u = new Url;\n\t  u.parse(url, parseQueryString, slashesDenoteHost);\n\t  return u;\n\t}\n\t\n\tUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n\t  if (!util.isString(url)) {\n\t    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n\t  }\n\t\n\t  // Copy chrome, IE, opera backslash-handling behavior.\n\t  // Back slashes before the query string get converted to forward slashes\n\t  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n\t  var queryIndex = url.indexOf('?'),\n\t      splitter =\n\t          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n\t      uSplit = url.split(splitter),\n\t      slashRegex = /\\\\/g;\n\t  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n\t  url = uSplit.join(splitter);\n\t\n\t  var rest = url;\n\t\n\t  // trim before proceeding.\n\t  // This is to support parse stuff like \"  http://foo.com  \\n\"\n\t  rest = rest.trim();\n\t\n\t  if (!slashesDenoteHost && url.split('#').length === 1) {\n\t    // Try fast path regexp\n\t    var simplePath = simplePathPattern.exec(rest);\n\t    if (simplePath) {\n\t      this.path = rest;\n\t      this.href = rest;\n\t      this.pathname = simplePath[1];\n\t      if (simplePath[2]) {\n\t        this.search = simplePath[2];\n\t        if (parseQueryString) {\n\t          this.query = querystring.parse(this.search.substr(1));\n\t        } else {\n\t          this.query = this.search.substr(1);\n\t        }\n\t      } else if (parseQueryString) {\n\t        this.search = '';\n\t        this.query = {};\n\t      }\n\t      return this;\n\t    }\n\t  }\n\t\n\t  var proto = protocolPattern.exec(rest);\n\t  if (proto) {\n\t    proto = proto[0];\n\t    var lowerProto = proto.toLowerCase();\n\t    this.protocol = lowerProto;\n\t    rest = rest.substr(proto.length);\n\t  }\n\t\n\t  // figure out if it's got a host\n\t  // user@server is *always* interpreted as a hostname, and url\n\t  // resolution will treat //foo/bar as host=foo,path=bar because that's\n\t  // how the browser resolves relative URLs.\n\t  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n\t    var slashes = rest.substr(0, 2) === '//';\n\t    if (slashes && !(proto && hostlessProtocol[proto])) {\n\t      rest = rest.substr(2);\n\t      this.slashes = true;\n\t    }\n\t  }\n\t\n\t  if (!hostlessProtocol[proto] &&\n\t      (slashes || (proto && !slashedProtocol[proto]))) {\n\t\n\t    // there's a hostname.\n\t    // the first instance of /, ?, ;, or # ends the host.\n\t    //\n\t    // If there is an @ in the hostname, then non-host chars *are* allowed\n\t    // to the left of the last @ sign, unless some host-ending character\n\t    // comes *before* the @-sign.\n\t    // URLs are obnoxious.\n\t    //\n\t    // ex:\n\t    // http://a@b@c/ => user:a@b host:c\n\t    // http://a@b?@c => user:a host:c path:/?@c\n\t\n\t    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n\t    // Review our test case against browsers more comprehensively.\n\t\n\t    // find the first instance of any hostEndingChars\n\t    var hostEnd = -1;\n\t    for (var i = 0; i < hostEndingChars.length; i++) {\n\t      var hec = rest.indexOf(hostEndingChars[i]);\n\t      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n\t        hostEnd = hec;\n\t    }\n\t\n\t    // at this point, either we have an explicit point where the\n\t    // auth portion cannot go past, or the last @ char is the decider.\n\t    var auth, atSign;\n\t    if (hostEnd === -1) {\n\t      // atSign can be anywhere.\n\t      atSign = rest.lastIndexOf('@');\n\t    } else {\n\t      // atSign must be in auth portion.\n\t      // http://a@b/c@d => host:b auth:a path:/c@d\n\t      atSign = rest.lastIndexOf('@', hostEnd);\n\t    }\n\t\n\t    // Now we have a portion which is definitely the auth.\n\t    // Pull that off.\n\t    if (atSign !== -1) {\n\t      auth = rest.slice(0, atSign);\n\t      rest = rest.slice(atSign + 1);\n\t      this.auth = decodeURIComponent(auth);\n\t    }\n\t\n\t    // the host is the remaining to the left of the first non-host char\n\t    hostEnd = -1;\n\t    for (var i = 0; i < nonHostChars.length; i++) {\n\t      var hec = rest.indexOf(nonHostChars[i]);\n\t      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n\t        hostEnd = hec;\n\t    }\n\t    // if we still have not hit it, then the entire thing is a host.\n\t    if (hostEnd === -1)\n\t      hostEnd = rest.length;\n\t\n\t    this.host = rest.slice(0, hostEnd);\n\t    rest = rest.slice(hostEnd);\n\t\n\t    // pull out port.\n\t    this.parseHost();\n\t\n\t    // we've indicated that there is a hostname,\n\t    // so even if it's empty, it has to be present.\n\t    this.hostname = this.hostname || '';\n\t\n\t    // if hostname begins with [ and ends with ]\n\t    // assume that it's an IPv6 address.\n\t    var ipv6Hostname = this.hostname[0] === '[' &&\n\t        this.hostname[this.hostname.length - 1] === ']';\n\t\n\t    // validate a little.\n\t    if (!ipv6Hostname) {\n\t      var hostparts = this.hostname.split(/\\./);\n\t      for (var i = 0, l = hostparts.length; i < l; i++) {\n\t        var part = hostparts[i];\n\t        if (!part) continue;\n\t        if (!part.match(hostnamePartPattern)) {\n\t          var newpart = '';\n\t          for (var j = 0, k = part.length; j < k; j++) {\n\t            if (part.charCodeAt(j) > 127) {\n\t              // we replace non-ASCII char with a temporary placeholder\n\t              // we need this to make sure size of hostname is not\n\t              // broken by replacing non-ASCII by nothing\n\t              newpart += 'x';\n\t            } else {\n\t              newpart += part[j];\n\t            }\n\t          }\n\t          // we test again with ASCII char only\n\t          if (!newpart.match(hostnamePartPattern)) {\n\t            var validParts = hostparts.slice(0, i);\n\t            var notHost = hostparts.slice(i + 1);\n\t            var bit = part.match(hostnamePartStart);\n\t            if (bit) {\n\t              validParts.push(bit[1]);\n\t              notHost.unshift(bit[2]);\n\t            }\n\t            if (notHost.length) {\n\t              rest = '/' + notHost.join('.') + rest;\n\t            }\n\t            this.hostname = validParts.join('.');\n\t            break;\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    if (this.hostname.length > hostnameMaxLen) {\n\t      this.hostname = '';\n\t    } else {\n\t      // hostnames are always lower case.\n\t      this.hostname = this.hostname.toLowerCase();\n\t    }\n\t\n\t    if (!ipv6Hostname) {\n\t      // IDNA Support: Returns a punycoded representation of \"domain\".\n\t      // It only converts parts of the domain name that\n\t      // have non-ASCII characters, i.e. it doesn't matter if\n\t      // you call it with a domain that already is ASCII-only.\n\t      this.hostname = punycode.toASCII(this.hostname);\n\t    }\n\t\n\t    var p = this.port ? ':' + this.port : '';\n\t    var h = this.hostname || '';\n\t    this.host = h + p;\n\t    this.href += this.host;\n\t\n\t    // strip [ and ] from the hostname\n\t    // the host field still retains them, though\n\t    if (ipv6Hostname) {\n\t      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n\t      if (rest[0] !== '/') {\n\t        rest = '/' + rest;\n\t      }\n\t    }\n\t  }\n\t\n\t  // now rest is set to the post-host stuff.\n\t  // chop off any delim chars.\n\t  if (!unsafeProtocol[lowerProto]) {\n\t\n\t    // First, make 100% sure that any \"autoEscape\" chars get\n\t    // escaped, even if encodeURIComponent doesn't think they\n\t    // need to be.\n\t    for (var i = 0, l = autoEscape.length; i < l; i++) {\n\t      var ae = autoEscape[i];\n\t      if (rest.indexOf(ae) === -1)\n\t        continue;\n\t      var esc = encodeURIComponent(ae);\n\t      if (esc === ae) {\n\t        esc = escape(ae);\n\t      }\n\t      rest = rest.split(ae).join(esc);\n\t    }\n\t  }\n\t\n\t\n\t  // chop off from the tail first.\n\t  var hash = rest.indexOf('#');\n\t  if (hash !== -1) {\n\t    // got a fragment string.\n\t    this.hash = rest.substr(hash);\n\t    rest = rest.slice(0, hash);\n\t  }\n\t  var qm = rest.indexOf('?');\n\t  if (qm !== -1) {\n\t    this.search = rest.substr(qm);\n\t    this.query = rest.substr(qm + 1);\n\t    if (parseQueryString) {\n\t      this.query = querystring.parse(this.query);\n\t    }\n\t    rest = rest.slice(0, qm);\n\t  } else if (parseQueryString) {\n\t    // no query string, but parseQueryString still requested\n\t    this.search = '';\n\t    this.query = {};\n\t  }\n\t  if (rest) this.pathname = rest;\n\t  if (slashedProtocol[lowerProto] &&\n\t      this.hostname && !this.pathname) {\n\t    this.pathname = '/';\n\t  }\n\t\n\t  //to support http.request\n\t  if (this.pathname || this.search) {\n\t    var p = this.pathname || '';\n\t    var s = this.search || '';\n\t    this.path = p + s;\n\t  }\n\t\n\t  // finally, reconstruct the href based on what has been validated.\n\t  this.href = this.format();\n\t  return this;\n\t};\n\t\n\t// format a parsed object into a url string\n\tfunction urlFormat(obj) {\n\t  // ensure it's an object, and not a string url.\n\t  // If it's an obj, this is a no-op.\n\t  // this way, you can call url_format() on strings\n\t  // to clean up potentially wonky urls.\n\t  if (util.isString(obj)) obj = urlParse(obj);\n\t  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n\t  return obj.format();\n\t}\n\t\n\tUrl.prototype.format = function() {\n\t  var auth = this.auth || '';\n\t  if (auth) {\n\t    auth = encodeURIComponent(auth);\n\t    auth = auth.replace(/%3A/i, ':');\n\t    auth += '@';\n\t  }\n\t\n\t  var protocol = this.protocol || '',\n\t      pathname = this.pathname || '',\n\t      hash = this.hash || '',\n\t      host = false,\n\t      query = '';\n\t\n\t  if (this.host) {\n\t    host = auth + this.host;\n\t  } else if (this.hostname) {\n\t    host = auth + (this.hostname.indexOf(':') === -1 ?\n\t        this.hostname :\n\t        '[' + this.hostname + ']');\n\t    if (this.port) {\n\t      host += ':' + this.port;\n\t    }\n\t  }\n\t\n\t  if (this.query &&\n\t      util.isObject(this.query) &&\n\t      Object.keys(this.query).length) {\n\t    query = querystring.stringify(this.query);\n\t  }\n\t\n\t  var search = this.search || (query && ('?' + query)) || '';\n\t\n\t  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\t\n\t  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n\t  // unless they had them to begin with.\n\t  if (this.slashes ||\n\t      (!protocol || slashedProtocol[protocol]) && host !== false) {\n\t    host = '//' + (host || '');\n\t    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n\t  } else if (!host) {\n\t    host = '';\n\t  }\n\t\n\t  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n\t  if (search && search.charAt(0) !== '?') search = '?' + search;\n\t\n\t  pathname = pathname.replace(/[?#]/g, function(match) {\n\t    return encodeURIComponent(match);\n\t  });\n\t  search = search.replace('#', '%23');\n\t\n\t  return protocol + host + pathname + search + hash;\n\t};\n\t\n\tfunction urlResolve(source, relative) {\n\t  return urlParse(source, false, true).resolve(relative);\n\t}\n\t\n\tUrl.prototype.resolve = function(relative) {\n\t  return this.resolveObject(urlParse(relative, false, true)).format();\n\t};\n\t\n\tfunction urlResolveObject(source, relative) {\n\t  if (!source) return relative;\n\t  return urlParse(source, false, true).resolveObject(relative);\n\t}\n\t\n\tUrl.prototype.resolveObject = function(relative) {\n\t  if (util.isString(relative)) {\n\t    var rel = new Url();\n\t    rel.parse(relative, false, true);\n\t    relative = rel;\n\t  }\n\t\n\t  var result = new Url();\n\t  var tkeys = Object.keys(this);\n\t  for (var tk = 0; tk < tkeys.length; tk++) {\n\t    var tkey = tkeys[tk];\n\t    result[tkey] = this[tkey];\n\t  }\n\t\n\t  // hash is always overridden, no matter what.\n\t  // even href=\"\" will remove it.\n\t  result.hash = relative.hash;\n\t\n\t  // if the relative url is empty, then there's nothing left to do here.\n\t  if (relative.href === '') {\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  // hrefs like //foo/bar always cut to the protocol.\n\t  if (relative.slashes && !relative.protocol) {\n\t    // take everything except the protocol from relative\n\t    var rkeys = Object.keys(relative);\n\t    for (var rk = 0; rk < rkeys.length; rk++) {\n\t      var rkey = rkeys[rk];\n\t      if (rkey !== 'protocol')\n\t        result[rkey] = relative[rkey];\n\t    }\n\t\n\t    //urlParse appends trailing / to urls like http://www.example.com\n\t    if (slashedProtocol[result.protocol] &&\n\t        result.hostname && !result.pathname) {\n\t      result.path = result.pathname = '/';\n\t    }\n\t\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  if (relative.protocol && relative.protocol !== result.protocol) {\n\t    // if it's a known url protocol, then changing\n\t    // the protocol does weird things\n\t    // first, if it's not file:, then we MUST have a host,\n\t    // and if there was a path\n\t    // to begin with, then we MUST have a path.\n\t    // if it is file:, then the host is dropped,\n\t    // because that's known to be hostless.\n\t    // anything else is assumed to be absolute.\n\t    if (!slashedProtocol[relative.protocol]) {\n\t      var keys = Object.keys(relative);\n\t      for (var v = 0; v < keys.length; v++) {\n\t        var k = keys[v];\n\t        result[k] = relative[k];\n\t      }\n\t      result.href = result.format();\n\t      return result;\n\t    }\n\t\n\t    result.protocol = relative.protocol;\n\t    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n\t      var relPath = (relative.pathname || '').split('/');\n\t      while (relPath.length && !(relative.host = relPath.shift()));\n\t      if (!relative.host) relative.host = '';\n\t      if (!relative.hostname) relative.hostname = '';\n\t      if (relPath[0] !== '') relPath.unshift('');\n\t      if (relPath.length < 2) relPath.unshift('');\n\t      result.pathname = relPath.join('/');\n\t    } else {\n\t      result.pathname = relative.pathname;\n\t    }\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t    result.host = relative.host || '';\n\t    result.auth = relative.auth;\n\t    result.hostname = relative.hostname || relative.host;\n\t    result.port = relative.port;\n\t    // to support http.request\n\t    if (result.pathname || result.search) {\n\t      var p = result.pathname || '';\n\t      var s = result.search || '';\n\t      result.path = p + s;\n\t    }\n\t    result.slashes = result.slashes || relative.slashes;\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n\t      isRelAbs = (\n\t          relative.host ||\n\t          relative.pathname && relative.pathname.charAt(0) === '/'\n\t      ),\n\t      mustEndAbs = (isRelAbs || isSourceAbs ||\n\t                    (result.host && relative.pathname)),\n\t      removeAllDots = mustEndAbs,\n\t      srcPath = result.pathname && result.pathname.split('/') || [],\n\t      relPath = relative.pathname && relative.pathname.split('/') || [],\n\t      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\t\n\t  // if the url is a non-slashed url, then relative\n\t  // links like ../.. should be able\n\t  // to crawl up to the hostname, as well.  This is strange.\n\t  // result.protocol has already been set by now.\n\t  // Later on, put the first path part into the host field.\n\t  if (psychotic) {\n\t    result.hostname = '';\n\t    result.port = null;\n\t    if (result.host) {\n\t      if (srcPath[0] === '') srcPath[0] = result.host;\n\t      else srcPath.unshift(result.host);\n\t    }\n\t    result.host = '';\n\t    if (relative.protocol) {\n\t      relative.hostname = null;\n\t      relative.port = null;\n\t      if (relative.host) {\n\t        if (relPath[0] === '') relPath[0] = relative.host;\n\t        else relPath.unshift(relative.host);\n\t      }\n\t      relative.host = null;\n\t    }\n\t    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n\t  }\n\t\n\t  if (isRelAbs) {\n\t    // it's absolute.\n\t    result.host = (relative.host || relative.host === '') ?\n\t                  relative.host : result.host;\n\t    result.hostname = (relative.hostname || relative.hostname === '') ?\n\t                      relative.hostname : result.hostname;\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t    srcPath = relPath;\n\t    // fall through to the dot-handling below.\n\t  } else if (relPath.length) {\n\t    // it's relative\n\t    // throw away the existing file, and take the new path instead.\n\t    if (!srcPath) srcPath = [];\n\t    srcPath.pop();\n\t    srcPath = srcPath.concat(relPath);\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t  } else if (!util.isNullOrUndefined(relative.search)) {\n\t    // just pull out the search.\n\t    // like href='?foo'.\n\t    // Put this after the other two cases because it simplifies the booleans\n\t    if (psychotic) {\n\t      result.hostname = result.host = srcPath.shift();\n\t      //occationaly the auth can get stuck only in host\n\t      //this especially happens in cases like\n\t      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n\t      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n\t                       result.host.split('@') : false;\n\t      if (authInHost) {\n\t        result.auth = authInHost.shift();\n\t        result.host = result.hostname = authInHost.shift();\n\t      }\n\t    }\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t    //to support http.request\n\t    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n\t      result.path = (result.pathname ? result.pathname : '') +\n\t                    (result.search ? result.search : '');\n\t    }\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  if (!srcPath.length) {\n\t    // no path at all.  easy.\n\t    // we've already handled the other stuff above.\n\t    result.pathname = null;\n\t    //to support http.request\n\t    if (result.search) {\n\t      result.path = '/' + result.search;\n\t    } else {\n\t      result.path = null;\n\t    }\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  // if a url ENDs in . or .., then it must get a trailing slash.\n\t  // however, if it ends in anything else non-slashy,\n\t  // then it must NOT get a trailing slash.\n\t  var last = srcPath.slice(-1)[0];\n\t  var hasTrailingSlash = (\n\t      (result.host || relative.host || srcPath.length > 1) &&\n\t      (last === '.' || last === '..') || last === '');\n\t\n\t  // strip single dots, resolve double dots to parent dir\n\t  // if the path tries to go above the root, `up` ends up > 0\n\t  var up = 0;\n\t  for (var i = srcPath.length; i >= 0; i--) {\n\t    last = srcPath[i];\n\t    if (last === '.') {\n\t      srcPath.splice(i, 1);\n\t    } else if (last === '..') {\n\t      srcPath.splice(i, 1);\n\t      up++;\n\t    } else if (up) {\n\t      srcPath.splice(i, 1);\n\t      up--;\n\t    }\n\t  }\n\t\n\t  // if the path is allowed to go above the root, restore leading ..s\n\t  if (!mustEndAbs && !removeAllDots) {\n\t    for (; up--; up) {\n\t      srcPath.unshift('..');\n\t    }\n\t  }\n\t\n\t  if (mustEndAbs && srcPath[0] !== '' &&\n\t      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n\t    srcPath.unshift('');\n\t  }\n\t\n\t  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n\t    srcPath.push('');\n\t  }\n\t\n\t  var isAbsolute = srcPath[0] === '' ||\n\t      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\t\n\t  // put the host back\n\t  if (psychotic) {\n\t    result.hostname = result.host = isAbsolute ? '' :\n\t                                    srcPath.length ? srcPath.shift() : '';\n\t    //occationaly the auth can get stuck only in host\n\t    //this especially happens in cases like\n\t    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n\t    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n\t                     result.host.split('@') : false;\n\t    if (authInHost) {\n\t      result.auth = authInHost.shift();\n\t      result.host = result.hostname = authInHost.shift();\n\t    }\n\t  }\n\t\n\t  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\t\n\t  if (mustEndAbs && !isAbsolute) {\n\t    srcPath.unshift('');\n\t  }\n\t\n\t  if (!srcPath.length) {\n\t    result.pathname = null;\n\t    result.path = null;\n\t  } else {\n\t    result.pathname = srcPath.join('/');\n\t  }\n\t\n\t  //to support request.http\n\t  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n\t    result.path = (result.pathname ? result.pathname : '') +\n\t                  (result.search ? result.search : '');\n\t  }\n\t  result.auth = relative.auth || result.auth;\n\t  result.slashes = result.slashes || relative.slashes;\n\t  result.href = result.format();\n\t  return result;\n\t};\n\t\n\tUrl.prototype.parseHost = function() {\n\t  var host = this.host;\n\t  var port = portPattern.exec(host);\n\t  if (port) {\n\t    port = port[0];\n\t    if (port !== ':') {\n\t      this.port = port.substr(1);\n\t    }\n\t    host = host.substr(0, host.length - port.length);\n\t  }\n\t  if (host) this.hostname = host;\n\t};\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! https://mths.be/punycode v1.3.2 by @mathias */\n\t;(function(root) {\n\t\n\t\t/** Detect free variables */\n\t\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t\t!exports.nodeType && exports;\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\t!module.nodeType && module;\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (\n\t\t\tfreeGlobal.global === freeGlobal ||\n\t\t\tfreeGlobal.window === freeGlobal ||\n\t\t\tfreeGlobal.self === freeGlobal\n\t\t) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/**\n\t\t * The `punycode` object.\n\t\t * @name punycode\n\t\t * @type Object\n\t\t */\n\t\tvar punycode,\n\t\n\t\t/** Highest positive signed 32-bit float value */\n\t\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\t\n\t\t/** Bootstring parameters */\n\t\tbase = 36,\n\t\ttMin = 1,\n\t\ttMax = 26,\n\t\tskew = 38,\n\t\tdamp = 700,\n\t\tinitialBias = 72,\n\t\tinitialN = 128, // 0x80\n\t\tdelimiter = '-', // '\\x2D'\n\t\n\t\t/** Regular expressions */\n\t\tregexPunycode = /^xn--/,\n\t\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\t\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\t\n\t\t/** Error messages */\n\t\terrors = {\n\t\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t\t'invalid-input': 'Invalid input'\n\t\t},\n\t\n\t\t/** Convenience shortcuts */\n\t\tbaseMinusTMin = base - tMin,\n\t\tfloor = Math.floor,\n\t\tstringFromCharCode = String.fromCharCode,\n\t\n\t\t/** Temporary variable */\n\t\tkey;\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\t/**\n\t\t * A generic error utility function.\n\t\t * @private\n\t\t * @param {String} type The error type.\n\t\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t\t */\n\t\tfunction error(type) {\n\t\t\tthrow RangeError(errors[type]);\n\t\t}\n\t\n\t\t/**\n\t\t * A generic `Array#map` utility function.\n\t\t * @private\n\t\t * @param {Array} array The array to iterate over.\n\t\t * @param {Function} callback The function that gets called for every array\n\t\t * item.\n\t\t * @returns {Array} A new array of values returned by the callback function.\n\t\t */\n\t\tfunction map(array, fn) {\n\t\t\tvar length = array.length;\n\t\t\tvar result = [];\n\t\t\twhile (length--) {\n\t\t\t\tresult[length] = fn(array[length]);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\n\t\t/**\n\t\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t\t * addresses.\n\t\t * @private\n\t\t * @param {String} domain The domain name or email address.\n\t\t * @param {Function} callback The function that gets called for every\n\t\t * character.\n\t\t * @returns {Array} A new string of characters returned by the callback\n\t\t * function.\n\t\t */\n\t\tfunction mapDomain(string, fn) {\n\t\t\tvar parts = string.split('@');\n\t\t\tvar result = '';\n\t\t\tif (parts.length > 1) {\n\t\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\t\tresult = parts[0] + '@';\n\t\t\t\tstring = parts[1];\n\t\t\t}\n\t\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\t\tvar labels = string.split('.');\n\t\t\tvar encoded = map(labels, fn).join('.');\n\t\t\treturn result + encoded;\n\t\t}\n\t\n\t\t/**\n\t\t * Creates an array containing the numeric code points of each Unicode\n\t\t * character in the string. While JavaScript uses UCS-2 internally,\n\t\t * this function will convert a pair of surrogate halves (each of which\n\t\t * UCS-2 exposes as separate characters) into a single code point,\n\t\t * matching UTF-16.\n\t\t * @see `punycode.ucs2.encode`\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode.ucs2\n\t\t * @name decode\n\t\t * @param {String} string The Unicode input string (UCS-2).\n\t\t * @returns {Array} The new array of code points.\n\t\t */\n\t\tfunction ucs2decode(string) {\n\t\t\tvar output = [],\n\t\t\t    counter = 0,\n\t\t\t    length = string.length,\n\t\t\t    value,\n\t\t\t    extra;\n\t\t\twhile (counter < length) {\n\t\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\t\toutput.push(value);\n\t\t\t\t\t\tcounter--;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\t/**\n\t\t * Creates a string based on an array of numeric code points.\n\t\t * @see `punycode.ucs2.decode`\n\t\t * @memberOf punycode.ucs2\n\t\t * @name encode\n\t\t * @param {Array} codePoints The array of numeric code points.\n\t\t * @returns {String} The new Unicode string (UCS-2).\n\t\t */\n\t\tfunction ucs2encode(array) {\n\t\t\treturn map(array, function(value) {\n\t\t\t\tvar output = '';\n\t\t\t\tif (value > 0xFFFF) {\n\t\t\t\t\tvalue -= 0x10000;\n\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t\t}\n\t\t\t\toutput += stringFromCharCode(value);\n\t\t\t\treturn output;\n\t\t\t}).join('');\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a basic code point into a digit/integer.\n\t\t * @see `digitToBasic()`\n\t\t * @private\n\t\t * @param {Number} codePoint The basic numeric code point value.\n\t\t * @returns {Number} The numeric value of a basic code point (for use in\n\t\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t\t * the code point does not represent a value.\n\t\t */\n\t\tfunction basicToDigit(codePoint) {\n\t\t\tif (codePoint - 48 < 10) {\n\t\t\t\treturn codePoint - 22;\n\t\t\t}\n\t\t\tif (codePoint - 65 < 26) {\n\t\t\t\treturn codePoint - 65;\n\t\t\t}\n\t\t\tif (codePoint - 97 < 26) {\n\t\t\t\treturn codePoint - 97;\n\t\t\t}\n\t\t\treturn base;\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a digit/integer into a basic code point.\n\t\t * @see `basicToDigit()`\n\t\t * @private\n\t\t * @param {Number} digit The numeric value of a basic code point.\n\t\t * @returns {Number} The basic code point whose value (when used for\n\t\t * representing integers) is `digit`, which needs to be in the range\n\t\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t\t * used; else, the lowercase form is used. The behavior is undefined\n\t\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t\t */\n\t\tfunction digitToBasic(digit, flag) {\n\t\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t\t// 26..35 map to ASCII 0..9\n\t\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t\t}\n\t\n\t\t/**\n\t\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t\t * @private\n\t\t */\n\t\tfunction adapt(delta, numPoints, firstTime) {\n\t\t\tvar k = 0;\n\t\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\t\tdelta += floor(delta / numPoints);\n\t\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t\t}\n\t\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t\t * symbols.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t\t * @returns {String} The resulting string of Unicode symbols.\n\t\t */\n\t\tfunction decode(input) {\n\t\t\t// Don't use UCS-2\n\t\t\tvar output = [],\n\t\t\t    inputLength = input.length,\n\t\t\t    out,\n\t\t\t    i = 0,\n\t\t\t    n = initialN,\n\t\t\t    bias = initialBias,\n\t\t\t    basic,\n\t\t\t    j,\n\t\t\t    index,\n\t\t\t    oldi,\n\t\t\t    w,\n\t\t\t    k,\n\t\t\t    digit,\n\t\t\t    t,\n\t\t\t    /** Cached calculation results */\n\t\t\t    baseMinusT;\n\t\n\t\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t\t// the first basic code points to the output.\n\t\n\t\t\tbasic = input.lastIndexOf(delimiter);\n\t\t\tif (basic < 0) {\n\t\t\t\tbasic = 0;\n\t\t\t}\n\t\n\t\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t\t// if it's not a basic code point\n\t\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\t\terror('not-basic');\n\t\t\t\t}\n\t\t\t\toutput.push(input.charCodeAt(j));\n\t\t\t}\n\t\n\t\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t\t// points were copied; start at the beginning otherwise.\n\t\n\t\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\t\n\t\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t\t// value at the end to obtain `delta`.\n\t\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\t\n\t\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\t\terror('invalid-input');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\t\n\t\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\t\terror('overflow');\n\t\t\t\t\t}\n\t\n\t\t\t\t\ti += digit * w;\n\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\n\t\t\t\t\tif (digit < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\t\terror('overflow');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tw *= baseMinusT;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tout = output.length + 1;\n\t\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\t\n\t\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\t\n\t\t\t\tn += floor(i / out);\n\t\t\t\ti %= out;\n\t\n\t\t\t\t// Insert `n` at position `i` of the output\n\t\t\t\toutput.splice(i++, 0, n);\n\t\n\t\t\t}\n\t\n\t\t\treturn ucs2encode(output);\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t\t * Punycode string of ASCII-only symbols.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The string of Unicode symbols.\n\t\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t\t */\n\t\tfunction encode(input) {\n\t\t\tvar n,\n\t\t\t    delta,\n\t\t\t    handledCPCount,\n\t\t\t    basicLength,\n\t\t\t    bias,\n\t\t\t    j,\n\t\t\t    m,\n\t\t\t    q,\n\t\t\t    k,\n\t\t\t    t,\n\t\t\t    currentValue,\n\t\t\t    output = [],\n\t\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t\t    inputLength,\n\t\t\t    /** Cached calculation results */\n\t\t\t    handledCPCountPlusOne,\n\t\t\t    baseMinusT,\n\t\t\t    qMinusT;\n\t\n\t\t\t// Convert the input in UCS-2 to Unicode\n\t\t\tinput = ucs2decode(input);\n\t\n\t\t\t// Cache the length\n\t\t\tinputLength = input.length;\n\t\n\t\t\t// Initialize the state\n\t\t\tn = initialN;\n\t\t\tdelta = 0;\n\t\t\tbias = initialBias;\n\t\n\t\t\t// Handle the basic code points\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue < 0x80) {\n\t\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\thandledCPCount = basicLength = output.length;\n\t\n\t\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t\t// `basicLength` is the number of basic code points.\n\t\n\t\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\t\tif (basicLength) {\n\t\t\t\toutput.push(delimiter);\n\t\t\t}\n\t\n\t\t\t// Main encoding loop:\n\t\t\twhile (handledCPCount < inputLength) {\n\t\n\t\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t\t// larger one:\n\t\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\t\tcurrentValue = input[j];\n\t\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\t\tm = currentValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t\t// but guard against overflow\n\t\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\t\n\t\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\t\tn = m;\n\t\n\t\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\t\tcurrentValue = input[j];\n\t\n\t\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\t\terror('overflow');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\t\tdelta = 0;\n\t\t\t\t\t\t++handledCPCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t++delta;\n\t\t\t\t++n;\n\t\n\t\t\t}\n\t\t\treturn output.join('');\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a Punycode string representing a domain name or an email address\n\t\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t\t * it doesn't matter if you call it on a string that has already been\n\t\t * converted to Unicode.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The Punycoded domain name or email address to\n\t\t * convert to Unicode.\n\t\t * @returns {String} The Unicode representation of the given Punycode\n\t\t * string.\n\t\t */\n\t\tfunction toUnicode(input) {\n\t\t\treturn mapDomain(input, function(string) {\n\t\t\t\treturn regexPunycode.test(string)\n\t\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t\t: string;\n\t\t\t});\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a Unicode string representing a domain name or an email address to\n\t\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t\t * ASCII.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The domain name or email address to convert, as a\n\t\t * Unicode string.\n\t\t * @returns {String} The Punycode representation of the given domain name or\n\t\t * email address.\n\t\t */\n\t\tfunction toASCII(input) {\n\t\t\treturn mapDomain(input, function(string) {\n\t\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t\t: string;\n\t\t\t});\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\t/** Define the public API */\n\t\tpunycode = {\n\t\t\t/**\n\t\t\t * A string representing the current Punycode.js version number.\n\t\t\t * @memberOf punycode\n\t\t\t * @type String\n\t\t\t */\n\t\t\t'version': '1.3.2',\n\t\t\t/**\n\t\t\t * An object of methods to convert from JavaScript's internal character\n\t\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t\t * @memberOf punycode\n\t\t\t * @type Object\n\t\t\t */\n\t\t\t'ucs2': {\n\t\t\t\t'decode': ucs2decode,\n\t\t\t\t'encode': ucs2encode\n\t\t\t},\n\t\t\t'decode': decode,\n\t\t\t'encode': encode,\n\t\t\t'toASCII': toASCII,\n\t\t\t'toUnicode': toUnicode\n\t\t};\n\t\n\t\t/** Expose `punycode` */\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn punycode;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (freeExports && freeModule) {\n\t\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = punycode;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tfor (key in punycode) {\n\t\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.punycode = punycode;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(18)(module), (function() { return this; }())))\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t  isString: function(arg) {\n\t    return typeof(arg) === 'string';\n\t  },\n\t  isObject: function(arg) {\n\t    return typeof(arg) === 'object' && arg !== null;\n\t  },\n\t  isNull: function(arg) {\n\t    return arg === null;\n\t  },\n\t  isNullOrUndefined: function(arg) {\n\t    return arg == null;\n\t  }\n\t};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.decode = exports.parse = __webpack_require__(21);\n\texports.encode = exports.stringify = __webpack_require__(22);\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\t// If obj.hasOwnProperty has been overridden, then calling\n\t// obj.hasOwnProperty(prop) will break.\n\t// See: https://github.com/joyent/node/issues/1707\n\tfunction hasOwnProperty(obj, prop) {\n\t  return Object.prototype.hasOwnProperty.call(obj, prop);\n\t}\n\t\n\tmodule.exports = function(qs, sep, eq, options) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  var obj = {};\n\t\n\t  if (typeof qs !== 'string' || qs.length === 0) {\n\t    return obj;\n\t  }\n\t\n\t  var regexp = /\\+/g;\n\t  qs = qs.split(sep);\n\t\n\t  var maxKeys = 1000;\n\t  if (options && typeof options.maxKeys === 'number') {\n\t    maxKeys = options.maxKeys;\n\t  }\n\t\n\t  var len = qs.length;\n\t  // maxKeys <= 0 means that we should not limit keys count\n\t  if (maxKeys > 0 && len > maxKeys) {\n\t    len = maxKeys;\n\t  }\n\t\n\t  for (var i = 0; i < len; ++i) {\n\t    var x = qs[i].replace(regexp, '%20'),\n\t        idx = x.indexOf(eq),\n\t        kstr, vstr, k, v;\n\t\n\t    if (idx >= 0) {\n\t      kstr = x.substr(0, idx);\n\t      vstr = x.substr(idx + 1);\n\t    } else {\n\t      kstr = x;\n\t      vstr = '';\n\t    }\n\t\n\t    k = decodeURIComponent(kstr);\n\t    v = decodeURIComponent(vstr);\n\t\n\t    if (!hasOwnProperty(obj, k)) {\n\t      obj[k] = v;\n\t    } else if (Array.isArray(obj[k])) {\n\t      obj[k].push(v);\n\t    } else {\n\t      obj[k] = [obj[k], v];\n\t    }\n\t  }\n\t\n\t  return obj;\n\t};\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\tvar stringifyPrimitive = function(v) {\n\t  switch (typeof v) {\n\t    case 'string':\n\t      return v;\n\t\n\t    case 'boolean':\n\t      return v ? 'true' : 'false';\n\t\n\t    case 'number':\n\t      return isFinite(v) ? v : '';\n\t\n\t    default:\n\t      return '';\n\t  }\n\t};\n\t\n\tmodule.exports = function(obj, sep, eq, name) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  if (obj === null) {\n\t    obj = undefined;\n\t  }\n\t\n\t  if (typeof obj === 'object') {\n\t    return Object.keys(obj).map(function(k) {\n\t      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\t      if (Array.isArray(obj[k])) {\n\t        return obj[k].map(function(v) {\n\t          return ks + encodeURIComponent(stringifyPrimitive(v));\n\t        }).join(sep);\n\t      } else {\n\t        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n\t      }\n\t    }).join(sep);\n\t\n\t  }\n\t\n\t  if (!name) return '';\n\t  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n\t         encodeURIComponent(stringifyPrimitive(obj));\n\t};\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"id\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"description\": \"Core schema meta-schema\",\n\t\t\"definitions\": {\n\t\t\t\"schemaArray\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"minItems\": 1,\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"positiveInteger\": {\n\t\t\t\t\"type\": \"integer\",\n\t\t\t\t\"minimum\": 0\n\t\t\t},\n\t\t\t\"positiveIntegerDefault0\": {\n\t\t\t\t\"allOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"default\": 0\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"simpleTypes\": {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"array\",\n\t\t\t\t\t\"boolean\",\n\t\t\t\t\t\"integer\",\n\t\t\t\t\t\"null\",\n\t\t\t\t\t\"number\",\n\t\t\t\t\t\"object\",\n\t\t\t\t\t\"string\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"stringArray\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t},\n\t\t\t\t\"minItems\": 1,\n\t\t\t\t\"uniqueItems\": true\n\t\t\t}\n\t\t},\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"id\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"format\": \"uri\"\n\t\t\t},\n\t\t\t\"$schema\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"format\": \"uri\"\n\t\t\t},\n\t\t\t\"title\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"description\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"default\": {},\n\t\t\t\"multipleOf\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"minimum\": 0,\n\t\t\t\t\"exclusiveMinimum\": true\n\t\t\t},\n\t\t\t\"maximum\": {\n\t\t\t\t\"type\": \"number\"\n\t\t\t},\n\t\t\t\"exclusiveMaximum\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"default\": false\n\t\t\t},\n\t\t\t\"minimum\": {\n\t\t\t\t\"type\": \"number\"\n\t\t\t},\n\t\t\t\"exclusiveMinimum\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"default\": false\n\t\t\t},\n\t\t\t\"maxLength\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t},\n\t\t\t\"minLength\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveIntegerDefault0\"\n\t\t\t},\n\t\t\t\"pattern\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"format\": \"regex\"\n\t\t\t},\n\t\t\t\"additionalItems\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"boolean\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"items\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"maxItems\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t},\n\t\t\t\"minItems\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveIntegerDefault0\"\n\t\t\t},\n\t\t\t\"uniqueItems\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"default\": false\n\t\t\t},\n\t\t\t\"maxProperties\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t},\n\t\t\t\"minProperties\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveIntegerDefault0\"\n\t\t\t},\n\t\t\t\"required\": {\n\t\t\t\t\"$ref\": \"#/definitions/stringArray\"\n\t\t\t},\n\t\t\t\"additionalProperties\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"boolean\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"definitions\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t},\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"properties\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t},\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"patternProperties\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t},\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"dependencies\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"anyOf\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#/definitions/stringArray\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"enum\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"minItems\": 1,\n\t\t\t\t\"uniqueItems\": true\n\t\t\t},\n\t\t\t\"type\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#/definitions/simpleTypes\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"array\",\n\t\t\t\t\t\t\"items\": {\n\t\t\t\t\t\t\t\"$ref\": \"#/definitions/simpleTypes\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"minItems\": 1,\n\t\t\t\t\t\t\"uniqueItems\": true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"allOf\": {\n\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t},\n\t\t\t\"anyOf\": {\n\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t},\n\t\t\t\"oneOf\": {\n\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t},\n\t\t\t\"not\": {\n\t\t\t\t\"$ref\": \"#\"\n\t\t\t}\n\t\t},\n\t\t\"dependencies\": {\n\t\t\t\"exclusiveMaximum\": [\n\t\t\t\t\"maximum\"\n\t\t\t],\n\t\t\t\"exclusiveMinimum\": [\n\t\t\t\t\"minimum\"\n\t\t\t]\n\t\t},\n\t\t\"default\": {}\n\t};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar formats = {};\n\t\n\t// reference: http://dansnetwork.com/javascript-iso8601rfc3339-date-parser/\n\tformats['date-time'] = /(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))/;\n\t// reference: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js#L7\n\tformats.uri = /^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\\/\\/[^\\s]*$/;\n\t// reference: http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n\t//            http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n\tformats.email = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\t// reference: https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n\tformats.ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n\t// reference: http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n\tformats.ipv6 = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\n\t// reference: http://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address#answer-3824105\n\tformats.hostname = /^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/;\n\t\n\tmodule.exports = formats;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\t// Reference: https://github.com/bestiejs/punycode.js/blob/master/punycode.js#L101`\n\t// Info: https://mathiasbynens.be/notes/javascript-unicode\n\tfunction ucs2length(string) {\n\t    var ucs2len = 0,\n\t        counter = 0,\n\t        length = string.length,\n\t        value, extra;\n\t\n\t    while (counter < length) {\n\t        ucs2len++;\n\t        value = string.charCodeAt(counter++);\n\t\n\t        if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t            // It's a high surrogate, and there is a next character.\n\t            extra = string.charCodeAt(counter++);\n\t\n\t            if ((extra & 0xFC00) !== 0xDC00) { /* Low surrogate. */                 // jshint ignore: line\n\t                counter--;\n\t            }\n\t        }\n\t    }\n\t\n\t    return ucs2len;\n\t}\n\t\n\tmodule.exports = ucs2length;\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=models.js.map";
},function(e,t){e.exports='var __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n// Custom implementation of Globalize from PowerView team\r\n// The public implementation from https://github.com/borisyankov/DefinitelyTyped/tree/master/globalize doesn\'t work\r\n"use strict";\r\n/* tslint:disable:no-var-keyword */\r\nvar Globalize = Globalize || window["Globalize"];\r\n/* tslint:enable */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var LocalStorageService = (function () {\r\n                    function LocalStorageService() {\r\n                    }\r\n                    LocalStorageService.prototype.getData = function (key) {\r\n                        try {\r\n                            if (localStorage) {\r\n                                var value = localStorage[key];\r\n                                if (value) {\r\n                                    return JSON.parse(value);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (exception) { }\r\n                        return null;\r\n                    };\r\n                    LocalStorageService.prototype.setData = function (key, data) {\r\n                        try {\r\n                            if (localStorage) {\r\n                                localStorage[key] = JSON.stringify(data);\r\n                            }\r\n                        }\r\n                        catch (e) { }\r\n                    };\r\n                    return LocalStorageService;\r\n                }());\r\n                formatting.LocalStorageService = LocalStorageService;\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var EphemeralStorageService = (function () {\r\n                    function EphemeralStorageService(clearCacheInterval) {\r\n                        this.cache = {};\r\n                        this.clearCacheInterval = (clearCacheInterval != null)\r\n                            ? clearCacheInterval\r\n                            : EphemeralStorageService.defaultClearCacheInterval;\r\n                        this.clearCache();\r\n                    }\r\n                    EphemeralStorageService.prototype.getData = function (key) {\r\n                        return this.cache[key];\r\n                    };\r\n                    EphemeralStorageService.prototype.setData = function (key, data) {\r\n                        var _this = this;\r\n                        this.cache[key] = data;\r\n                        if (this.clearCacheTimerId == null) {\r\n                            this.clearCacheTimerId = setTimeout(function () { return _this.clearCache(); }, this.clearCacheInterval);\r\n                        }\r\n                    };\r\n                    EphemeralStorageService.prototype.clearCache = function () {\r\n                        this.cache = {};\r\n                        this.clearCacheTimerId = undefined;\r\n                    };\r\n                    return EphemeralStorageService;\r\n                }());\r\n                EphemeralStorageService.defaultClearCacheInterval = (1000 * 60 * 60 * 24); // 1 day\r\n                formatting.EphemeralStorageService = EphemeralStorageService;\r\n                formatting.ephemeralStorageService = new EphemeralStorageService();\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /**\r\n                 * Extensions to String class.\r\n                 */\r\n                var stringExtensions;\r\n                (function (stringExtensions) {\r\n                    var HtmlTagRegex = new RegExp("[<>]", "g");\r\n                    /**\r\n                     * Checks if a string ends with a sub-string.\r\n                     */\r\n                    function endsWith(str, suffix) {\r\n                        return str.indexOf(suffix, str.length - suffix.length) !== -1;\r\n                    }\r\n                    stringExtensions.endsWith = endsWith;\r\n                    function format() {\r\n                        var args = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            args[_i] = arguments[_i];\r\n                        }\r\n                        var s = args[0];\r\n                        if (isNullOrUndefinedOrWhiteSpaceString(s))\r\n                            return s;\r\n                        for (var i = 0; i < args.length - 1; i++) {\r\n                            var reg = new RegExp("\\\\{" + i + "\\\\}", "gm");\r\n                            s = s.replace(reg, args[i + 1]);\r\n                        }\r\n                        return s;\r\n                    }\r\n                    stringExtensions.format = format;\r\n                    /**\r\n                     * Compares two strings for equality, ignoring case.\r\n                     */\r\n                    function equalIgnoreCase(a, b) {\r\n                        return stringExtensions.normalizeCase(a) === stringExtensions.normalizeCase(b);\r\n                    }\r\n                    stringExtensions.equalIgnoreCase = equalIgnoreCase;\r\n                    function startsWithIgnoreCase(a, b) {\r\n                        var normalizedSearchString = stringExtensions.normalizeCase(b);\r\n                        return stringExtensions.normalizeCase(a).indexOf(normalizedSearchString) === 0;\r\n                    }\r\n                    stringExtensions.startsWithIgnoreCase = startsWithIgnoreCase;\r\n                    function startsWith(a, b) {\r\n                        return a.indexOf(b) === 0;\r\n                    }\r\n                    stringExtensions.startsWith = startsWith;\r\n                    /** Determines whether a string contains a specified substring (by case-sensitive comparison). */\r\n                    function contains(source, substring) {\r\n                        if (source == null)\r\n                            return false;\r\n                        return source.indexOf(substring) !== -1;\r\n                    }\r\n                    stringExtensions.contains = contains;\r\n                    /** Determines whether a string contains a specified substring (while ignoring case). */\r\n                    function containsIgnoreCase(source, substring) {\r\n                        if (source == null)\r\n                            return false;\r\n                        return contains(normalizeCase(source), normalizeCase(substring));\r\n                    }\r\n                    stringExtensions.containsIgnoreCase = containsIgnoreCase;\r\n                    /**\r\n                     * Normalizes case for a string.\r\n                     * Used by equalIgnoreCase method.\r\n                     */\r\n                    function normalizeCase(value) {\r\n                        return value.toUpperCase();\r\n                    }\r\n                    stringExtensions.normalizeCase = normalizeCase;\r\n                    /**\r\n                     * Receives a string and returns an ArrayBuffer of its characters.\r\n                     * @return An ArrayBuffer of the string\'s characters.\r\n                     * If the string is empty or null or undefined - returns null.\r\n                     */\r\n                    function stringToArrayBuffer(str) {\r\n                        if (isNullOrEmpty(str)) {\r\n                            return null;\r\n                        }\r\n                        var buffer = new ArrayBuffer(str.length);\r\n                        var bufferView = new Uint8Array(buffer);\r\n                        for (var i = 0, strLen = str.length; i < strLen; i++) {\r\n                            bufferView[i] = str.charCodeAt(i);\r\n                        }\r\n                        return bufferView;\r\n                    }\r\n                    stringExtensions.stringToArrayBuffer = stringToArrayBuffer;\r\n                    /**\r\n                     * Is string null or empty or undefined?\r\n                     * @return True if the value is null or undefined or empty string,\r\n                     * otherwise false.\r\n                     */\r\n                    function isNullOrEmpty(value) {\r\n                        return (value == null) || (value.length === 0);\r\n                    }\r\n                    stringExtensions.isNullOrEmpty = isNullOrEmpty;\r\n                    /**\r\n                     * Returns true if the string is null, undefined, empty, or only includes white spaces.\r\n                     * @return True if the str is null, undefined, empty, or only includes white spaces,\r\n                     * otherwise false.\r\n                     */\r\n                    function isNullOrUndefinedOrWhiteSpaceString(str) {\r\n                        return stringExtensions.isNullOrEmpty(str) || stringExtensions.isNullOrEmpty(str.trim());\r\n                    }\r\n                    stringExtensions.isNullOrUndefinedOrWhiteSpaceString = isNullOrUndefinedOrWhiteSpaceString;\r\n                    /**\r\n                     * Returns a value indicating whether the str contains any whitespace.\r\n                     */\r\n                    function containsWhitespace(str) {\r\n                        var expr = /\\s/;\r\n                        return expr.test(str);\r\n                    }\r\n                    stringExtensions.containsWhitespace = containsWhitespace;\r\n                    /**\r\n                     * Returns a value indicating whether the str is a whitespace string.\r\n                     */\r\n                    function isWhitespace(str) {\r\n                        return str.trim() === "";\r\n                    }\r\n                    stringExtensions.isWhitespace = isWhitespace;\r\n                    /**\r\n                     * Returns the string with any trailing whitespace from str removed.\r\n                     */\r\n                    function trimTrailingWhitespace(str) {\r\n                        return str.replace(/\\s+$/, "");\r\n                    }\r\n                    stringExtensions.trimTrailingWhitespace = trimTrailingWhitespace;\r\n                    /**\r\n                     * Returns the string with any leading and trailing whitespace from str removed.\r\n                     */\r\n                    function trimWhitespace(str) {\r\n                        return str.replace(/^\\s+/, "").replace(/\\s+$/, "");\r\n                    }\r\n                    stringExtensions.trimWhitespace = trimWhitespace;\r\n                    /**\r\n                     * Returns length difference between the two provided strings.\r\n                     */\r\n                    function getLengthDifference(left, right) {\r\n                        return Math.abs(left.length - right.length);\r\n                    }\r\n                    stringExtensions.getLengthDifference = getLengthDifference;\r\n                    /**\r\n                     * Repeat char or string several times.\r\n                     * @param char The string to repeat.\r\n                     * @param count How many times to repeat the string.\r\n                     */\r\n                    function repeat(char, count) {\r\n                        var result = "";\r\n                        for (var i = 0; i < count; i++) {\r\n                            result += char;\r\n                        }\r\n                        return result;\r\n                    }\r\n                    stringExtensions.repeat = repeat;\r\n                    /**\r\n                     * Replace all the occurrences of the textToFind in the text with the textToReplace.\r\n                     * @param text The original string.\r\n                     * @param textToFind Text to find in the original string.\r\n                     * @param textToReplace New text replacing the textToFind.\r\n                     */\r\n                    function replaceAll(text, textToFind, textToReplace) {\r\n                        if (!textToFind)\r\n                            return text;\r\n                        var pattern = escapeStringForRegex(textToFind);\r\n                        return text.replace(new RegExp(pattern, "gi"), textToReplace);\r\n                    }\r\n                    stringExtensions.replaceAll = replaceAll;\r\n                    function ensureUniqueNames(names) {\r\n                        var usedNames = {};\r\n                        // Make sure we are giving fair chance for all columns to stay with their original name\r\n                        // First we fill the used names map to contain all the original unique names from the list.\r\n                        for (var _i = 0, names_1 = names; _i < names_1.length; _i++) {\r\n                            var name_1 = names_1[_i];\r\n                            usedNames[name_1] = false;\r\n                        }\r\n                        var uniqueNames = [];\r\n                        // Now we go over all names and find a unique name for each\r\n                        for (var _a = 0, names_2 = names; _a < names_2.length; _a++) {\r\n                            var name_2 = names_2[_a];\r\n                            var uniqueName = name_2;\r\n                            // If the (original) column name is already taken lets try to find another name\r\n                            if (usedNames[uniqueName]) {\r\n                                var counter = 0;\r\n                                // Find a name that is not already in the map\r\n                                while (usedNames[uniqueName] !== undefined) {\r\n                                    uniqueName = name_2 + "." + (++counter);\r\n                                }\r\n                            }\r\n                            uniqueNames.push(uniqueName);\r\n                            usedNames[uniqueName] = true;\r\n                        }\r\n                        return uniqueNames;\r\n                    }\r\n                    stringExtensions.ensureUniqueNames = ensureUniqueNames;\r\n                    /**\r\n                     * Returns a name that is not specified in the values.\r\n                     */\r\n                    function findUniqueName(usedNames, baseName) {\r\n                        // Find a unique name\r\n                        var i = 0, uniqueName = baseName;\r\n                        while (usedNames[uniqueName]) {\r\n                            uniqueName = baseName + (++i);\r\n                        }\r\n                        return uniqueName;\r\n                    }\r\n                    stringExtensions.findUniqueName = findUniqueName;\r\n                    function constructNameFromList(list, separator, maxCharacter) {\r\n                        var labels = [];\r\n                        var exceeded;\r\n                        var length = 0;\r\n                        for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\r\n                            var item = list_1[_i];\r\n                            if (length + item.length > maxCharacter && labels.length > 0) {\r\n                                exceeded = true;\r\n                                break;\r\n                            }\r\n                            labels.push(item);\r\n                            length += item.length;\r\n                        }\r\n                        var separatorWithSpace = " " + separator + " ";\r\n                        var name = labels.join(separatorWithSpace);\r\n                        if (exceeded)\r\n                            name += separatorWithSpace + "...";\r\n                        return name;\r\n                    }\r\n                    stringExtensions.constructNameFromList = constructNameFromList;\r\n                    function escapeStringForRegex(s) {\r\n                        return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, "\\\\$1");\r\n                    }\r\n                    stringExtensions.escapeStringForRegex = escapeStringForRegex;\r\n                    /**\r\n                     * Remove file name reserved characters <>:"/\\|?* from input string.\r\n                     */\r\n                    function normalizeFileName(fileName) {\r\n                        return fileName.replace(/[\\<\\>\\:"\\/\\\\\\|\\?*]/g, "");\r\n                    }\r\n                    stringExtensions.normalizeFileName = normalizeFileName;\r\n                    /**\r\n                     * Similar to JSON.stringify, but strips away escape sequences so that the resulting\r\n                     * string is human-readable (and parsable by JSON formatting/validating tools).\r\n                     */\r\n                    function stringifyAsPrettyJSON(object) {\r\n                        // let specialCharacterRemover = (key: string, value: string) => value.replace(/[^\\w\\s]/gi, "");\r\n                        return JSON.stringify(object /*, specialCharacterRemover*/);\r\n                    }\r\n                    stringExtensions.stringifyAsPrettyJSON = stringifyAsPrettyJSON;\r\n                    /**\r\n                     * Derive a CLS-compliant name from a specified string.  If no allowed characters are present, return a fallback string instead.\r\n                     * TODO (6708134): this should have a fully Unicode-aware implementation\r\n                     */\r\n                    function deriveClsCompliantName(input, fallback) {\r\n                        var result = input.replace(/^[^A-Za-z]*/g, "").replace(/[ :\\.\\/\\\\\\-\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]/g, "_").replace(/[\\W]/g, "");\r\n                        return result.length > 0 ? result : fallback;\r\n                    }\r\n                    stringExtensions.deriveClsCompliantName = deriveClsCompliantName;\r\n                    /** Performs cheap sanitization by stripping away HTML tag (<>) characters. */\r\n                    function stripTagDelimiters(s) {\r\n                        return s.replace(HtmlTagRegex, "");\r\n                    }\r\n                    stringExtensions.stripTagDelimiters = stripTagDelimiters;\r\n                })(stringExtensions = formatting.stringExtensions || (formatting.stringExtensions = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var wordBreaker;\r\n                (function (wordBreaker) {\r\n                    var SPACE = " ";\r\n                    var BREAKERS_REGEX = /[\\s\\n]+/g;\r\n                    function search(index, content, backward) {\r\n                        if (backward) {\r\n                            for (var i = index - 1; i > -1; i--) {\r\n                                if (hasBreakers(content[i]))\r\n                                    return i + 1;\r\n                            }\r\n                        }\r\n                        else {\r\n                            for (var i = index, ilen = content.length; i < ilen; i++) {\r\n                                if (hasBreakers(content[i]))\r\n                                    return i;\r\n                            }\r\n                        }\r\n                        return backward ? 0 : content.length;\r\n                    }\r\n                    /**\r\n                     * Find the word nearest the cursor specified within content\r\n                     * @param index - point within content to search forward/backward from\r\n                     * @param content - string to search\r\n                    */\r\n                    function find(index, content) {\r\n                        var result = { start: 0, end: 0 };\r\n                        if (content.length === 0) {\r\n                            return result;\r\n                        }\r\n                        result.start = search(index, content, true);\r\n                        result.end = search(index, content, false);\r\n                        return result;\r\n                    }\r\n                    wordBreaker.find = find;\r\n                    /**\r\n                     * Test for presence of breakers within content\r\n                     * @param content - string to test\r\n                    */\r\n                    function hasBreakers(content) {\r\n                        BREAKERS_REGEX.lastIndex = 0;\r\n                        return BREAKERS_REGEX.test(content);\r\n                    }\r\n                    wordBreaker.hasBreakers = hasBreakers;\r\n                    /**\r\n                     * Count the number of pieces when broken by BREAKERS_REGEX\r\n                     * ~2.7x faster than WordBreaker.split(content).length\r\n                     * @param content - string to break and count\r\n                    */\r\n                    function wordCount(content) {\r\n                        var count = 1;\r\n                        BREAKERS_REGEX.lastIndex = 0;\r\n                        BREAKERS_REGEX.exec(content);\r\n                        while (BREAKERS_REGEX.lastIndex !== 0) {\r\n                            count++;\r\n                            BREAKERS_REGEX.exec(content);\r\n                        }\r\n                        return count;\r\n                    }\r\n                    wordBreaker.wordCount = wordCount;\r\n                    function getMaxWordWidth(content, textWidthMeasurer, properties) {\r\n                        var words = split(content);\r\n                        var maxWidth = 0;\r\n                        for (var _i = 0, words_1 = words; _i < words_1.length; _i++) {\r\n                            var w = words_1[_i];\r\n                            properties.text = w;\r\n                            maxWidth = Math.max(maxWidth, textWidthMeasurer(properties));\r\n                        }\r\n                        return maxWidth;\r\n                    }\r\n                    wordBreaker.getMaxWordWidth = getMaxWordWidth;\r\n                    function split(content) {\r\n                        return content.split(BREAKERS_REGEX);\r\n                    }\r\n                    function getWidth(content, properties, textWidthMeasurer) {\r\n                        properties.text = content;\r\n                        return textWidthMeasurer(properties);\r\n                    }\r\n                    function truncate(content, properties, truncator, maxWidth) {\r\n                        properties.text = content;\r\n                        return truncator(properties, maxWidth);\r\n                    }\r\n                    /**\r\n                     * Split content by breakers (words) and greedy fit as many words\r\n                     * into each index in the result based on max width and number of lines\r\n                     * e.g. Each index in result corresponds to a line of content\r\n                     *      when used by AxisHelper.LabelLayoutStrategy.wordBreak\r\n                     * @param content - string to split\r\n                     * @param properties - text properties to be used by @param:textWidthMeasurer\r\n                     * @param textWidthMeasurer - function to calculate width of given text content\r\n                     * @param maxWidth - maximum allowed width of text content in each result\r\n                     * @param maxNumLines - maximum number of results we will allow, valid values must be greater than 0\r\n                     * @param truncator - (optional) if specified, used as a function to truncate content to a given width\r\n                    */\r\n                    function splitByWidth(content, properties, textWidthMeasurer, maxWidth, maxNumLines, truncator) {\r\n                        // Default truncator returns string as-is\r\n                        truncator = truncator ? truncator : function (properties, maxWidth) { return properties.text; };\r\n                        var result = [];\r\n                        var words = split(content);\r\n                        var usedWidth = 0;\r\n                        var wordsInLine = [];\r\n                        for (var _i = 0, words_2 = words; _i < words_2.length; _i++) {\r\n                            var word = words_2[_i];\r\n                            // Last line? Just add whatever is left\r\n                            if ((maxNumLines > 0) && (result.length >= maxNumLines - 1)) {\r\n                                wordsInLine.push(word);\r\n                                continue;\r\n                            }\r\n                            // Determine width if we add this word\r\n                            // Account for SPACE we will add when joining...\r\n                            var wordWidth = wordsInLine.length === 0\r\n                                ? getWidth(word, properties, textWidthMeasurer)\r\n                                : getWidth(SPACE + word, properties, textWidthMeasurer);\r\n                            // If width would exceed max width,\r\n                            // then push used words and start new split result\r\n                            if (usedWidth + wordWidth > maxWidth) {\r\n                                // Word alone exceeds max width, just add it.\r\n                                if (wordsInLine.length === 0) {\r\n                                    result.push(truncate(word, properties, truncator, maxWidth));\r\n                                    usedWidth = 0;\r\n                                    wordsInLine = [];\r\n                                    continue;\r\n                                }\r\n                                result.push(truncate(wordsInLine.join(SPACE), properties, truncator, maxWidth));\r\n                                usedWidth = 0;\r\n                                wordsInLine = [];\r\n                            }\r\n                            // ...otherwise, add word and continue\r\n                            wordsInLine.push(word);\r\n                            usedWidth += wordWidth;\r\n                        }\r\n                        // Push remaining words onto result (if any)\r\n                        if (wordsInLine && wordsInLine.length) {\r\n                            result.push(truncate(wordsInLine.join(SPACE), properties, truncator, maxWidth));\r\n                        }\r\n                        return result;\r\n                    }\r\n                    wordBreaker.splitByWidth = splitByWidth;\r\n                })(wordBreaker = formatting.wordBreaker || (formatting.wordBreaker = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /** Enumeration of DateTimeUnits */\r\n                var DateTimeUnit;\r\n                (function (DateTimeUnit) {\r\n                    DateTimeUnit[DateTimeUnit["Year"] = 0] = "Year";\r\n                    DateTimeUnit[DateTimeUnit["Month"] = 1] = "Month";\r\n                    DateTimeUnit[DateTimeUnit["Week"] = 2] = "Week";\r\n                    DateTimeUnit[DateTimeUnit["Day"] = 3] = "Day";\r\n                    DateTimeUnit[DateTimeUnit["Hour"] = 4] = "Hour";\r\n                    DateTimeUnit[DateTimeUnit["Minute"] = 5] = "Minute";\r\n                    DateTimeUnit[DateTimeUnit["Second"] = 6] = "Second";\r\n                    DateTimeUnit[DateTimeUnit["Millisecond"] = 7] = "Millisecond";\r\n                })(DateTimeUnit = formatting.DateTimeUnit || (formatting.DateTimeUnit = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var PixelConverter = powerbi.extensibility.utils.type.PixelConverter;\r\n                var Prototype = powerbi.extensibility.utils.type.Prototype;\r\n                // powerbi.extensibility.utils.formatting\r\n                var wordBreaker = powerbi.extensibility.utils.formatting.wordBreaker;\r\n                var textMeasurementService;\r\n                (function (textMeasurementService) {\r\n                    var ellipsis = "...";\r\n                    var spanElement;\r\n                    var svgTextElement;\r\n                    var canvasCtx;\r\n                    var fallbackFontFamily;\r\n                    /**\r\n                     * Idempotent function for adding the elements to the DOM.\r\n                     */\r\n                    function ensureDOM() {\r\n                        if (spanElement) {\r\n                            return;\r\n                        }\r\n                        spanElement = document.createElement("span");\r\n                        document.body.appendChild(spanElement);\r\n                        // The style hides the svg element from the canvas, preventing canvas from scrolling down to show svg black square.\r\n                        var svgElement = document.createElementNS("http://www.w3.org/2000/svg", "svg");\r\n                        svgElement.setAttribute("height", "0");\r\n                        svgElement.setAttribute("width", "0");\r\n                        svgElement.setAttribute("position", "absolute");\r\n                        svgTextElement = document.createElementNS("http://www.w3.org/2000/svg", "text");\r\n                        svgElement.appendChild(svgTextElement);\r\n                        document.body.appendChild(svgElement);\r\n                        var canvasElement = document.createElement("canvas");\r\n                        canvasCtx = canvasElement.getContext("2d");\r\n                        var style = window.getComputedStyle(svgTextElement);\r\n                        if (style) {\r\n                            fallbackFontFamily = style.fontFamily;\r\n                        }\r\n                        else {\r\n                            fallbackFontFamily = "";\r\n                        }\r\n                    }\r\n                    /**\r\n                     * Removes spanElement from DOM.\r\n                     */\r\n                    function removeSpanElement() {\r\n                        if (spanElement && spanElement.remove) {\r\n                            spanElement.remove();\r\n                        }\r\n                        spanElement = null;\r\n                    }\r\n                    textMeasurementService.removeSpanElement = removeSpanElement;\r\n                    /**\r\n                     * This method measures the width of the text with the given SVG text properties.\r\n                     * @param textProperties The text properties to use for text measurement.\r\n                     * @param text The text to measure.\r\n                     */\r\n                    function measureSvgTextWidth(textProperties, text) {\r\n                        ensureDOM();\r\n                        canvasCtx.font =\r\n                            (textProperties.fontStyle || "") + " " +\r\n                                (textProperties.fontVariant || "") + " " +\r\n                                (textProperties.fontWeight || "") + " " +\r\n                                textProperties.fontSize + " " +\r\n                                (textProperties.fontFamily || fallbackFontFamily);\r\n                        return canvasCtx.measureText(text || textProperties.text).width;\r\n                    }\r\n                    textMeasurementService.measureSvgTextWidth = measureSvgTextWidth;\r\n                    /**\r\n                     * This method return the rect with the given SVG text properties.\r\n                     * @param textProperties The text properties to use for text measurement.\r\n                     * @param text The text to measure.\r\n                     */\r\n                    function measureSvgTextRect(textProperties, text) {\r\n                        ensureDOM();\r\n                        svgTextElement.setAttribute("style", null);\r\n                        svgTextElement.style.visibility = "hidden";\r\n                        svgTextElement.style.fontFamily = textProperties.fontFamily || fallbackFontFamily;\r\n                        svgTextElement.style.fontVariant = textProperties.fontVariant;\r\n                        svgTextElement.style.fontSize = textProperties.fontSize;\r\n                        svgTextElement.style.fontWeight = textProperties.fontWeight;\r\n                        svgTextElement.style.fontStyle = textProperties.fontStyle;\r\n                        svgTextElement.style.whiteSpace = textProperties.whiteSpace || "nowrap";\r\n                        svgTextElement.appendChild(document.createTextNode(text || textProperties.text));\r\n                        // We\'re expecting the browser to give a synchronous measurement here\r\n                        // We\'re using SVGTextElement because it works across all browsers\r\n                        return svgTextElement.getBBox();\r\n                    }\r\n                    textMeasurementService.measureSvgTextRect = measureSvgTextRect;\r\n                    /**\r\n                     * This method measures the height of the text with the given SVG text properties.\r\n                     * @param textProperties The text properties to use for text measurement.\r\n                     * @param text The text to measure.\r\n                     */\r\n                    function measureSvgTextHeight(textProperties, text) {\r\n                        return measureSvgTextRect(textProperties, text).height;\r\n                    }\r\n                    textMeasurementService.measureSvgTextHeight = measureSvgTextHeight;\r\n                    /**\r\n                     * This method returns the text Rect with the given SVG text properties.\r\n                     * Does NOT return text width; obliterates text value\r\n                     * @param {TextProperties} textProperties - The text properties to use for text measurement\r\n                     */\r\n                    function estimateSvgTextRect(textProperties) {\r\n                        var propertiesKey = textProperties.fontFamily + textProperties.fontSize;\r\n                        var rect = formatting.ephemeralStorageService.getData(propertiesKey);\r\n                        if (rect == null) {\r\n                            // To estimate we check the height of a particular character, once it is cached, subsequent\r\n                            // calls should always get the height from the cache (regardless of the text).\r\n                            var estimatedTextProperties = {\r\n                                fontFamily: textProperties.fontFamily,\r\n                                fontSize: textProperties.fontSize,\r\n                                text: "M",\r\n                            };\r\n                            rect = textMeasurementService.measureSvgTextRect(estimatedTextProperties);\r\n                            // NOTE: In some cases (disconnected/hidden DOM) we may provide incorrect measurement results (zero sized bounding-box), so\r\n                            // we only store values in the cache if we are confident they are correct.\r\n                            if (rect.height > 0)\r\n                                formatting.ephemeralStorageService.setData(propertiesKey, rect);\r\n                        }\r\n                        return rect;\r\n                    }\r\n                    /**\r\n                     * This method returns the text Rect with the given SVG text properties.\r\n                     * @param {TextProperties} textProperties - The text properties to use for text measurement\r\n                     */\r\n                    function estimateSvgTextBaselineDelta(textProperties) {\r\n                        var rect = estimateSvgTextRect(textProperties);\r\n                        return rect.y + rect.height;\r\n                    }\r\n                    textMeasurementService.estimateSvgTextBaselineDelta = estimateSvgTextBaselineDelta;\r\n                    /**\r\n                     * This method estimates the height of the text with the given SVG text properties.\r\n                     * @param {TextProperties} textProperties - The text properties to use for text measurement\r\n                     */\r\n                    function estimateSvgTextHeight(textProperties, tightFightForNumeric) {\r\n                        if (tightFightForNumeric === void 0) { tightFightForNumeric = false; }\r\n                        var height = estimateSvgTextRect(textProperties).height;\r\n                        // TODO: replace it with new baseline calculation\r\n                        if (tightFightForNumeric)\r\n                            height *= 0.7;\r\n                        return height;\r\n                    }\r\n                    textMeasurementService.estimateSvgTextHeight = estimateSvgTextHeight;\r\n                    /**\r\n                     * This method measures the width of the svgElement.\r\n                     * @param svgElement The SVGTextElement to be measured.\r\n                     */\r\n                    function measureSvgTextElementWidth(svgElement) {\r\n                        return measureSvgTextWidth(getSvgMeasurementProperties(svgElement));\r\n                    }\r\n                    textMeasurementService.measureSvgTextElementWidth = measureSvgTextElementWidth;\r\n                    /**\r\n                     * This method fetches the text measurement properties of the given DOM element.\r\n                     * @param element The selector for the DOM Element.\r\n                     */\r\n                    function getMeasurementProperties(element) {\r\n                        var style = window.getComputedStyle(element);\r\n                        return {\r\n                            text: element.value || element.textContent,\r\n                            fontFamily: style.fontFamily,\r\n                            fontSize: style.fontSize,\r\n                            fontWeight: style.fontWeight,\r\n                            fontStyle: style.fontStyle,\r\n                            fontVariant: style.fontVariant,\r\n                            whiteSpace: style.whiteSpace\r\n                        };\r\n                    }\r\n                    textMeasurementService.getMeasurementProperties = getMeasurementProperties;\r\n                    /**\r\n                     * This method fetches the text measurement properties of the given SVG text element.\r\n                     * @param element The SVGTextElement to be measured.\r\n                     */\r\n                    function getSvgMeasurementProperties(element) {\r\n                        var style = window.getComputedStyle(element);\r\n                        if (style) {\r\n                            return {\r\n                                text: element.textContent,\r\n                                fontFamily: style.fontFamily,\r\n                                fontSize: style.fontSize,\r\n                                fontWeight: style.fontWeight,\r\n                                fontStyle: style.fontStyle,\r\n                                fontVariant: style.fontVariant,\r\n                                whiteSpace: style.whiteSpace\r\n                            };\r\n                        }\r\n                        else {\r\n                            return {\r\n                                text: element.textContent,\r\n                                fontFamily: "",\r\n                                fontSize: "0",\r\n                            };\r\n                        }\r\n                    }\r\n                    textMeasurementService.getSvgMeasurementProperties = getSvgMeasurementProperties;\r\n                    /**\r\n                     * This method returns the width of a div element.\r\n                     * @param element The div element.\r\n                     */\r\n                    function getDivElementWidth(element) {\r\n                        var style = window.getComputedStyle(element);\r\n                        if (style)\r\n                            return style.width;\r\n                        else\r\n                            return "0";\r\n                    }\r\n                    textMeasurementService.getDivElementWidth = getDivElementWidth;\r\n                    /**\r\n                     * Compares labels text size to the available size and renders ellipses when the available size is smaller.\r\n                     * @param textProperties The text properties (including text content) to use for text measurement.\r\n                     * @param maxWidth The maximum width available for rendering the text.\r\n                     */\r\n                    function getTailoredTextOrDefault(textProperties, maxWidth) {\r\n                        ensureDOM();\r\n                        var strLength = textProperties.text.length;\r\n                        if (strLength === 0) {\r\n                            return textProperties.text;\r\n                        }\r\n                        var width = measureSvgTextWidth(textProperties);\r\n                        if (width < maxWidth) {\r\n                            return textProperties.text;\r\n                        }\r\n                        // Create a copy of the textProperties so we don\'t modify the one that\'s passed in.\r\n                        var copiedTextProperties = Prototype.inherit(textProperties);\r\n                        // Take the properties and apply them to svgTextElement\r\n                        // Then, do the binary search to figure out the substring we want\r\n                        // Set the substring on textElement argument\r\n                        var text = copiedTextProperties.text = ellipsis + copiedTextProperties.text;\r\n                        var min = 1;\r\n                        var max = text.length;\r\n                        var i = ellipsis.length;\r\n                        while (min <= max) {\r\n                            // num | 0 prefered to Math.floor(num) for performance benefits\r\n                            i = (min + max) / 2 | 0;\r\n                            copiedTextProperties.text = text.substr(0, i);\r\n                            width = measureSvgTextWidth(copiedTextProperties);\r\n                            if (maxWidth > width) {\r\n                                min = i + 1;\r\n                            }\r\n                            else if (maxWidth < width) {\r\n                                max = i - 1;\r\n                            }\r\n                            else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        // Since the search algorithm almost never finds an exact match,\r\n                        // it will pick one of the closest two, which could result in a\r\n                        // value bigger with than \'maxWidth\' thus we need to go back by\r\n                        // one to guarantee a smaller width than \'maxWidth\'.\r\n                        copiedTextProperties.text = text.substr(0, i);\r\n                        width = measureSvgTextWidth(copiedTextProperties);\r\n                        if (width > maxWidth) {\r\n                            i--;\r\n                        }\r\n                        return text.substr(ellipsis.length, i - ellipsis.length) + ellipsis;\r\n                    }\r\n                    textMeasurementService.getTailoredTextOrDefault = getTailoredTextOrDefault;\r\n                    /**\r\n                     * Compares labels text size to the available size and renders ellipses when the available size is smaller.\r\n                     * @param textElement The SVGTextElement containing the text to render.\r\n                     * @param maxWidth The maximum width available for rendering the text.\r\n                     */\r\n                    function svgEllipsis(textElement, maxWidth) {\r\n                        var properties = getSvgMeasurementProperties(textElement);\r\n                        var originalText = properties.text;\r\n                        var tailoredText = getTailoredTextOrDefault(properties, maxWidth);\r\n                        if (originalText !== tailoredText) {\r\n                            textElement.textContent = tailoredText;\r\n                        }\r\n                    }\r\n                    textMeasurementService.svgEllipsis = svgEllipsis;\r\n                    /**\r\n                     * Word break textContent of <text> SVG element into <tspan>s\r\n                     * Each tspan will be the height of a single line of text\r\n                     * @param textElement - the SVGTextElement containing the text to wrap\r\n                     * @param maxWidth - the maximum width available\r\n                     * @param maxHeight - the maximum height available (defaults to single line)\r\n                     * @param linePadding - (optional) padding to add to line height\r\n                     */\r\n                    function wordBreak(textElement, maxWidth, maxHeight, linePadding) {\r\n                        if (linePadding === void 0) { linePadding = 0; }\r\n                        var properties = getSvgMeasurementProperties(textElement);\r\n                        var height = estimateSvgTextHeight(properties) + linePadding;\r\n                        var maxNumLines = Math.max(1, Math.floor(maxHeight / height));\r\n                        // Save y of parent textElement to apply as first tspan dy\r\n                        var firstDY = textElement ? textElement.getAttribute("y") : null;\r\n                        // Store and clear text content\r\n                        var labelText = textElement ? textElement.textContent : null;\r\n                        textElement.textContent = null;\r\n                        // Append a tspan for each word broken section\r\n                        var words = wordBreaker.splitByWidth(labelText, properties, measureSvgTextWidth, maxWidth, maxNumLines);\r\n                        var fragment = document.createDocumentFragment();\r\n                        for (var i = 0, ilen = words.length; i < ilen; i++) {\r\n                            var dy = i === 0 ? firstDY : height;\r\n                            properties.text = words[i];\r\n                            var textElement_1 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");\r\n                            textElement_1.setAttribute("x", "0");\r\n                            textElement_1.setAttribute("dy", dy ? dy.toString() : null);\r\n                            textElement_1.appendChild(document.createTextNode(getTailoredTextOrDefault(properties, maxWidth)));\r\n                            fragment.appendChild(textElement_1);\r\n                        }\r\n                        textElement.appendChild(fragment);\r\n                    }\r\n                    textMeasurementService.wordBreak = wordBreak;\r\n                    /**\r\n                     * Word break textContent of span element into <span>s\r\n                     * Each span will be the height of a single line of text\r\n                     * @param textElement - the element containing the text to wrap\r\n                     * @param maxWidth - the maximum width available\r\n                     * @param maxHeight - the maximum height available (defaults to single line)\r\n                     * @param linePadding - (optional) padding to add to line height\r\n                     */\r\n                    function wordBreakOverflowingText(textElement, maxWidth, maxHeight, linePadding) {\r\n                        if (linePadding === void 0) { linePadding = 0; }\r\n                        var properties = getSvgMeasurementProperties(textElement);\r\n                        var height = estimateSvgTextHeight(properties) + linePadding;\r\n                        var maxNumLines = Math.max(1, Math.floor(maxHeight / height));\r\n                        // Store and clear text content\r\n                        var labelText = textElement.textContent;\r\n                        textElement.textContent = null;\r\n                        // Append a span for each word broken section\r\n                        var words = wordBreaker.splitByWidth(labelText, properties, measureSvgTextWidth, maxWidth, maxNumLines);\r\n                        var fragment = document.createDocumentFragment();\r\n                        for (var i = 0; i < words.length; i++) {\r\n                            var span = document.createElement("span");\r\n                            span.classList.add("overflowingText");\r\n                            span.style.width = PixelConverter.toString(maxWidth);\r\n                            span.appendChild(document.createTextNode(words[i]));\r\n                            span.appendChild(document.createTextNode(getTailoredTextOrDefault(properties, maxWidth)));\r\n                            fragment.appendChild(span);\r\n                        }\r\n                        textElement.appendChild(fragment);\r\n                    }\r\n                    textMeasurementService.wordBreakOverflowingText = wordBreakOverflowingText;\r\n                })(textMeasurementService = formatting.textMeasurementService || (formatting.textMeasurementService = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /** dateUtils module provides DateTimeSequence with set of additional date manipulation routines */\r\n                var dateUtils;\r\n                (function (dateUtils) {\r\n                    var MonthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n                    var MonthDaysLeap = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n                    /**\r\n                     * Returns bool indicating weither the provided year is a leap year.\r\n                     * @param year - year value\r\n                     */\r\n                    function isLeap(year) {\r\n                        return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\r\n                    }\r\n                    /**\r\n                     * Returns number of days in the provided year/month.\r\n                     * @param year - year value\r\n                     * @param month - month value\r\n                     */\r\n                    function getMonthDays(year, month) {\r\n                        return isLeap(year) ? MonthDaysLeap[month] : MonthDays[month];\r\n                    }\r\n                    /**\r\n                     * Adds a specified number of years to the provided date.\r\n                     * @param date - date value\r\n                     * @param yearDelta - number of years to add\r\n                     */\r\n                    function addYears(date, yearDelta) {\r\n                        var year = date.getFullYear();\r\n                        var month = date.getMonth();\r\n                        var day = date.getDate();\r\n                        var isLeapDay = month === 2 && day === 29;\r\n                        var result = new Date(date.getTime());\r\n                        year = year + yearDelta;\r\n                        if (isLeapDay && !isLeap(year)) {\r\n                            day = 28;\r\n                        }\r\n                        result.setFullYear(year, month, day);\r\n                        return result;\r\n                    }\r\n                    dateUtils.addYears = addYears;\r\n                    /**\r\n                     * Adds a specified number of months to the provided date.\r\n                     * @param date - date value\r\n                     * @param monthDelta - number of months to add\r\n                     */\r\n                    function addMonths(date, monthDelta) {\r\n                        var year = date.getFullYear();\r\n                        var month = date.getMonth();\r\n                        var day = date.getDate();\r\n                        var result = new Date(date.getTime());\r\n                        year += (monthDelta - (monthDelta % 12)) / 12;\r\n                        month += monthDelta % 12;\r\n                        // VSTS 1325771: Certain column charts don\'t display any data\r\n                        // Wrap arround the month if is after december (value 11)\r\n                        if (month > 11) {\r\n                            month = month % 12;\r\n                            year++;\r\n                        }\r\n                        day = Math.min(day, getMonthDays(year, month));\r\n                        result.setFullYear(year, month, day);\r\n                        return result;\r\n                    }\r\n                    dateUtils.addMonths = addMonths;\r\n                    /**\r\n                     * Adds a specified number of weeks to the provided date.\r\n                     * @param date - date value\r\n                     * @param weeks - number of weeks to add\r\n                     */\r\n                    function addWeeks(date, weeks) {\r\n                        return addDays(date, weeks * 7);\r\n                    }\r\n                    dateUtils.addWeeks = addWeeks;\r\n                    /**\r\n                     * Adds a specified number of days to the provided date.\r\n                     * @param date - date value\r\n                     * @param days - number of days to add\r\n                     */\r\n                    function addDays(date, days) {\r\n                        var year = date.getFullYear();\r\n                        var month = date.getMonth();\r\n                        var day = date.getDate();\r\n                        var result = new Date(date.getTime());\r\n                        result.setFullYear(year, month, day + days);\r\n                        return result;\r\n                    }\r\n                    dateUtils.addDays = addDays;\r\n                    /**\r\n                     * Adds a specified number of hours to the provided date.\r\n                     * @param date - date value\r\n                     * @param hours - number of hours to add\r\n                     */\r\n                    function addHours(date, hours) {\r\n                        return new Date(date.getTime() + hours * 3600000);\r\n                    }\r\n                    dateUtils.addHours = addHours;\r\n                    /**\r\n                     * Adds a specified number of minutes to the provided date.\r\n                     * @param date - date value\r\n                     * @param minutes - number of minutes to add\r\n                     */\r\n                    function addMinutes(date, minutes) {\r\n                        return new Date(date.getTime() + minutes * 60000);\r\n                    }\r\n                    dateUtils.addMinutes = addMinutes;\r\n                    /**\r\n                     * Adds a specified number of seconds to the provided date.\r\n                     * @param date - date value\r\n                     * @param seconds - number of seconds to add\r\n                     */\r\n                    function addSeconds(date, seconds) {\r\n                        return new Date(date.getTime() + seconds * 1000);\r\n                    }\r\n                    dateUtils.addSeconds = addSeconds;\r\n                    /**\r\n                     * Adds a specified number of milliseconds to the provided date.\r\n                     * @param date - date value\r\n                     * @param milliseconds - number of milliseconds to add\r\n                     */\r\n                    function addMilliseconds(date, milliseconds) {\r\n                        return new Date(date.getTime() + milliseconds);\r\n                    }\r\n                    dateUtils.addMilliseconds = addMilliseconds;\r\n                })(dateUtils = formatting.dateUtils || (formatting.dateUtils = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var NumericSequenceRange = powerbi.extensibility.utils.type.NumericSequenceRange;\r\n                var NumericSequence = powerbi.extensibility.utils.type.NumericSequence;\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                // powerbi.extensibility.utils.formatting\r\n                var DateTimeUnit = powerbi.extensibility.utils.formatting.DateTimeUnit;\r\n                /** Repreasents the sequence of the dates/times */\r\n                var DateTimeSequence = (function () {\r\n                    // Constructors\r\n                    /** Creates new instance of the DateTimeSequence */\r\n                    function DateTimeSequence(unit) {\r\n                        this.unit = unit;\r\n                        this.sequence = [];\r\n                        this.min = new Date("9999-12-31T23:59:59.999");\r\n                        this.max = new Date("0001-01-01T00:00:00.000");\r\n                    }\r\n                    // Methods\r\n                    /**\r\n                     * Add a new Date to a sequence.\r\n                     * @param date - date to add\r\n                     */\r\n                    DateTimeSequence.prototype.add = function (date) {\r\n                        if (date < this.min) {\r\n                            this.min = date;\r\n                        }\r\n                        if (date > this.max) {\r\n                            this.max = date;\r\n                        }\r\n                        this.sequence.push(date);\r\n                    };\r\n                    // Methods\r\n                    /**\r\n                     * Extends the sequence to cover new date range\r\n                     * @param min - new min to be covered by sequence\r\n                     * @param max - new max to be covered by sequence\r\n                     */\r\n                    DateTimeSequence.prototype.extendToCover = function (min, max) {\r\n                        var x = this.min;\r\n                        while (min < x) {\r\n                            x = DateTimeSequence.addInterval(x, -this.interval, this.unit);\r\n                            this.sequence.splice(0, 0, x);\r\n                        }\r\n                        this.min = x;\r\n                        x = this.max;\r\n                        while (x < max) {\r\n                            x = DateTimeSequence.addInterval(x, this.interval, this.unit);\r\n                            this.sequence.push(x);\r\n                        }\r\n                        this.max = x;\r\n                    };\r\n                    /**\r\n                     * Move the sequence to cover new date range\r\n                     * @param min - new min to be covered by sequence\r\n                     * @param max - new max to be covered by sequence\r\n                     */\r\n                    DateTimeSequence.prototype.moveToCover = function (min, max) {\r\n                        var delta = DateTimeSequence.getDelta(min, max, this.unit);\r\n                        var count = Math.floor(delta / this.interval);\r\n                        this.min = DateTimeSequence.addInterval(this.min, count * this.interval, this.unit);\r\n                        this.sequence = [];\r\n                        this.sequence.push(this.min);\r\n                        this.max = this.min;\r\n                        while (this.max < max) {\r\n                            this.max = DateTimeSequence.addInterval(this.max, this.interval, this.unit);\r\n                            this.sequence.push(this.max);\r\n                        }\r\n                    };\r\n                    // Static\r\n                    /**\r\n                     * Calculate a new DateTimeSequence\r\n                     * @param dataMin - Date representing min of the data range\r\n                     * @param dataMax - Date representing max of the data range\r\n                     * @param expectedCount - expected number of intervals in the sequence\r\n                     * @param unit - of the intervals in the sequence\r\n                     */\r\n                    DateTimeSequence.calculate = function (dataMin, dataMax, expectedCount, unit) {\r\n                        if (!unit) {\r\n                            unit = DateTimeSequence.getIntervalUnit(dataMin, dataMax, expectedCount);\r\n                        }\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                return DateTimeSequence.calculateYears(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Month:\r\n                                return DateTimeSequence.calculateMonths(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Week:\r\n                                return DateTimeSequence.calculateWeeks(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Day:\r\n                                return DateTimeSequence.calculateDays(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Hour:\r\n                                return DateTimeSequence.calculateHours(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Minute:\r\n                                return DateTimeSequence.calculateMinutes(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Second:\r\n                                return DateTimeSequence.calculateSeconds(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Millisecond:\r\n                                return DateTimeSequence.calculateMilliseconds(dataMin, dataMax, expectedCount);\r\n                        }\r\n                    };\r\n                    DateTimeSequence.calculateYears = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range and sequence\r\n                        var yearsRange = NumericSequenceRange.calculateDataRange(dataMin.getFullYear(), dataMax.getFullYear(), false);\r\n                        // Calculate year sequence\r\n                        var sequence = NumericSequence.calculate(NumericSequenceRange.calculate(0, yearsRange.max - yearsRange.min), expectedCount, 0, null, null, [1, 2, 5]);\r\n                        var newMinYear = Math.floor(yearsRange.min / sequence.interval) * sequence.interval;\r\n                        var date = new Date(newMinYear, 0, 1);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Year);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateMonths = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var minYear = dataMin.getFullYear();\r\n                        var maxYear = dataMax.getFullYear();\r\n                        var minMonth = dataMin.getMonth();\r\n                        var maxMonth = (maxYear - minYear) * 12 + dataMax.getMonth();\r\n                        var date = new Date(minYear, 0, 1);\r\n                        // Calculate month sequence\r\n                        var sequence = NumericSequence.calculateUnits(minMonth, maxMonth, expectedCount, [1, 2, 3, 6, 12]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Month);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateWeeks = function (dataMin, dataMax, expectedCount) {\r\n                        var firstDayOfWeek = 0;\r\n                        var minDayOfWeek = dataMin.getDay();\r\n                        var dayOffset = (minDayOfWeek - firstDayOfWeek + 7) % 7;\r\n                        var minDay = dataMin.getDate() - dayOffset;\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), minDay);\r\n                        var min = 0;\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Week));\r\n                        // Calculate week sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 4, 8]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Week);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateDays = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate());\r\n                        var min = 0;\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(dataMin, dataMax, DateTimeUnit.Day));\r\n                        // Calculate day sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 7, 14]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Day);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateHours = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate());\r\n                        var min = Double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Hour));\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Hour));\r\n                        // Calculate hour sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 3, 6, 12, 24]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Hour);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateMinutes = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours());\r\n                        var min = Double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Minute));\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Minute));\r\n                        // Calculate minutes numeric sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 5, 10, 15, 30, 60, 60 * 2, 60 * 3, 60 * 6, 60 * 12, 60 * 24]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Minute);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateSeconds = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours(), dataMin.getMinutes());\r\n                        var min = Double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Second));\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Second));\r\n                        // Calculate minutes numeric sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 5, 10, 15, 30, 60, 60 * 2, 60 * 5, 60 * 10, 60 * 15, 60 * 30, 60 * 60]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Second);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateMilliseconds = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours(), dataMin.getMinutes(), dataMin.getSeconds());\r\n                        var min = DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Millisecond);\r\n                        var max = DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Millisecond);\r\n                        // Calculate milliseconds numeric sequence\r\n                        var sequence = NumericSequence.calculate(NumericSequenceRange.calculate(min, max), expectedCount, 0);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Millisecond);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.addInterval = function (value, interval, unit) {\r\n                        interval = Math.round(interval);\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                return formatting.dateUtils.addYears(value, interval);\r\n                            case DateTimeUnit.Month:\r\n                                return formatting.dateUtils.addMonths(value, interval);\r\n                            case DateTimeUnit.Week:\r\n                                return formatting.dateUtils.addWeeks(value, interval);\r\n                            case DateTimeUnit.Day:\r\n                                return formatting.dateUtils.addDays(value, interval);\r\n                            case DateTimeUnit.Hour:\r\n                                return formatting.dateUtils.addHours(value, interval);\r\n                            case DateTimeUnit.Minute:\r\n                                return formatting.dateUtils.addMinutes(value, interval);\r\n                            case DateTimeUnit.Second:\r\n                                return formatting.dateUtils.addSeconds(value, interval);\r\n                            case DateTimeUnit.Millisecond:\r\n                                return formatting.dateUtils.addMilliseconds(value, interval);\r\n                        }\r\n                    };\r\n                    DateTimeSequence.fromNumericSequence = function (date, sequence, unit) {\r\n                        var result = new DateTimeSequence(unit);\r\n                        for (var i = 0; i < sequence.sequence.length; i++) {\r\n                            var x = sequence.sequence[i];\r\n                            var d = DateTimeSequence.addInterval(date, x, unit);\r\n                            result.add(d);\r\n                        }\r\n                        result.interval = sequence.interval;\r\n                        result.intervalOffset = sequence.intervalOffset;\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.getDelta = function (min, max, unit) {\r\n                        var delta = 0;\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                delta = max.getFullYear() - min.getFullYear();\r\n                                break;\r\n                            case DateTimeUnit.Month:\r\n                                delta = (max.getFullYear() - min.getFullYear()) * 12 + max.getMonth() - min.getMonth();\r\n                                break;\r\n                            case DateTimeUnit.Week:\r\n                                delta = (max.getTime() - min.getTime()) / (7 * 24 * 3600000);\r\n                                break;\r\n                            case DateTimeUnit.Day:\r\n                                delta = (max.getTime() - min.getTime()) / (24 * 3600000);\r\n                                break;\r\n                            case DateTimeUnit.Hour:\r\n                                delta = (max.getTime() - min.getTime()) / 3600000;\r\n                                break;\r\n                            case DateTimeUnit.Minute:\r\n                                delta = (max.getTime() - min.getTime()) / 60000;\r\n                                break;\r\n                            case DateTimeUnit.Second:\r\n                                delta = (max.getTime() - min.getTime()) / 1000;\r\n                                break;\r\n                            case DateTimeUnit.Millisecond:\r\n                                delta = max.getTime() - min.getTime();\r\n                                break;\r\n                        }\r\n                        return delta;\r\n                    };\r\n                    DateTimeSequence.getIntervalUnit = function (min, max, maxCount) {\r\n                        maxCount = Math.max(maxCount, 2);\r\n                        var totalDays = DateTimeSequence.getDelta(min, max, DateTimeUnit.Day);\r\n                        if (totalDays > 356 && totalDays >= 30 * 6 * maxCount)\r\n                            return DateTimeUnit.Year;\r\n                        if (totalDays > 60 && totalDays > 7 * maxCount)\r\n                            return DateTimeUnit.Month;\r\n                        if (totalDays > 14 && totalDays > 2 * maxCount)\r\n                            return DateTimeUnit.Week;\r\n                        var totalHours = DateTimeSequence.getDelta(min, max, DateTimeUnit.Hour);\r\n                        if (totalDays > 2 && totalHours > 12 * maxCount)\r\n                            return DateTimeUnit.Day;\r\n                        if (totalHours >= 24 && totalHours >= maxCount)\r\n                            return DateTimeUnit.Hour;\r\n                        var totalMinutes = DateTimeSequence.getDelta(min, max, DateTimeUnit.Minute);\r\n                        if (totalMinutes > 2 && totalMinutes >= maxCount)\r\n                            return DateTimeUnit.Minute;\r\n                        var totalSeconds = DateTimeSequence.getDelta(min, max, DateTimeUnit.Second);\r\n                        if (totalSeconds > 2 && totalSeconds >= 0.8 * maxCount)\r\n                            return DateTimeUnit.Second;\r\n                        var totalMilliseconds = DateTimeSequence.getDelta(min, max, DateTimeUnit.Millisecond);\r\n                        if (totalMilliseconds > 0)\r\n                            return DateTimeUnit.Millisecond;\r\n                        // If the size of the range is 0 we need to guess the unit based on the date\'s non-zero values starting with milliseconds\r\n                        var date = min;\r\n                        if (date.getMilliseconds() !== 0)\r\n                            return DateTimeUnit.Millisecond;\r\n                        if (date.getSeconds() !== 0)\r\n                            return DateTimeUnit.Second;\r\n                        if (date.getMinutes() !== 0)\r\n                            return DateTimeUnit.Minute;\r\n                        if (date.getHours() !== 0)\r\n                            return DateTimeUnit.Hour;\r\n                        if (date.getDate() !== 1)\r\n                            return DateTimeUnit.Day;\r\n                        if (date.getMonth() !== 0)\r\n                            return DateTimeUnit.Month;\r\n                        return DateTimeUnit.Year;\r\n                    };\r\n                    return DateTimeSequence;\r\n                }());\r\n                // Constants\r\n                DateTimeSequence.MIN_COUNT = 1;\r\n                DateTimeSequence.MAX_COUNT = 1000;\r\n                formatting.DateTimeSequence = DateTimeSequence;\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var regexCache;\r\n                /**\r\n                 * Translate .NET format into something supported by jQuery.Globalize.\r\n                 */\r\n                function findDateFormat(value, format, cultureName) {\r\n                    switch (format) {\r\n                        case "m":\r\n                            // Month + day\r\n                            format = "M";\r\n                            break;\r\n                        case "O":\r\n                        case "o":\r\n                            // Roundtrip\r\n                            format = "yyyy\'-\'MM\'-\'dd\'T\'HH\':\'mm\':\'ss\'.\'fff\'0000\'";\r\n                            break;\r\n                        case "R":\r\n                        case "r":\r\n                            // RFC1123 pattern - - time must be converted to UTC before formatting\r\n                            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\r\n                            format = "ddd, dd MMM yyyy HH\':\'mm\':\'ss \'GMT\'";\r\n                            break;\r\n                        case "s":\r\n                            // Sortable - should use invariant culture\r\n                            format = "S";\r\n                            break;\r\n                        case "u":\r\n                            // Universal sortable - should convert to UTC before applying the "yyyy\'-\'MM\'-\'dd HH\':\'mm\':\'ss\'Z\' format.\r\n                            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\r\n                            format = "yyyy\'-\'MM\'-\'dd HH\':\'mm\':\'ss\'Z\'";\r\n                            break;\r\n                        case "U":\r\n                            // Universal full - the pattern is same as F but the time must be converted to UTC before formatting\r\n                            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\r\n                            format = "F";\r\n                            break;\r\n                        case "y":\r\n                        case "Y":\r\n                            // Year and month\r\n                            switch (cultureName) {\r\n                                case "default":\r\n                                case "en":\r\n                                case "en-US":\r\n                                    format = "MMMM, yyyy"; // Fix the default year-month pattern for english\r\n                                    break;\r\n                                default:\r\n                                    format = "Y"; // For other cultures - use the localized pattern\r\n                            }\r\n                            break;\r\n                    }\r\n                    return { value: value, format: format };\r\n                }\r\n                formatting.findDateFormat = findDateFormat;\r\n                /**\r\n                 * Translates unsupported .NET custom format expressions to the custom expressions supported by JQuery.Globalize.\r\n                 */\r\n                function fixDateTimeFormat(format) {\r\n                    // Fix for the "K" format (timezone):\r\n                    // T he js dates don\'t have a kind property so we\'ll support only local kind which is equavalent to zzz format.\r\n                    format = format.replace(/%K/g, "zzz");\r\n                    format = format.replace(/K/g, "zzz");\r\n                    format = format.replace(/fffffff/g, "fff0000");\r\n                    format = format.replace(/ffffff/g, "fff000");\r\n                    format = format.replace(/fffff/g, "fff00");\r\n                    format = format.replace(/ffff/g, "fff0");\r\n                    // Fix for the 5 digit year: "yyyyy" format.\r\n                    // The Globalize doesn\'t support dates greater than 9999 so we replace the "yyyyy" with "0yyyy".\r\n                    format = format.replace(/yyyyy/g, "0yyyy");\r\n                    // Fix for the 3 digit year: "yyy" format.\r\n                    // The Globalize doesn\'t support this formatting so we need to replace it with the 4 digit year "yyyy" format.\r\n                    format = format.replace(/(^y|^)yyy(^y|$)/g, "yyyy");\r\n                    if (!regexCache) {\r\n                        // Creating Regexes for cases "Using single format specifier"\r\n                        // - http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx#UsingSingleSpecifiers\r\n                        // This is not supported from The Globalize.\r\n                        // The case covers all single "%" lead specifier (like "%d" but not %dd)\r\n                        // The cases as single "%d" are filtered in if the bellow.\r\n                        // (?!S) where S is the specifier make sure that we only one symbol for specifier.\r\n                        regexCache = ["d", "f", "F", "g", "h", "H", "K", "m", "M", "s", "t", "y", "z", ":", "/"].map(function (s) {\r\n                            return { r: new RegExp("\\%" + s + "(?!" + s + ")", "g"), s: s };\r\n                        });\r\n                    }\r\n                    if (format.indexOf("%") !== -1 && format.length > 2) {\r\n                        for (var i = 0; i < regexCache.length; i++) {\r\n                            format = format.replace(regexCache[i].r, regexCache[i].s);\r\n                        }\r\n                    }\r\n                    return format;\r\n                }\r\n                formatting.fixDateTimeFormat = fixDateTimeFormat;\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var font;\r\n                (function (font_1) {\r\n                    var FamilyInfo = (function () {\r\n                        function FamilyInfo(families) {\r\n                            this.families = families;\r\n                        }\r\n                        Object.defineProperty(FamilyInfo.prototype, "family", {\r\n                            /**\r\n                             * Gets the first font "wf_" font family since it will always be loaded.\r\n                             */\r\n                            get: function () {\r\n                                return this.getFamily();\r\n                            },\r\n                            enumerable: true,\r\n                            configurable: true\r\n                        });\r\n                        /**\r\n                        * Gets the first font family that matches regex (if provided).\r\n                        * Default regex looks for "wf_" fonts which are always loaded.\r\n                        */\r\n                        FamilyInfo.prototype.getFamily = function (regex) {\r\n                            if (regex === void 0) { regex = /^wf_/; }\r\n                            if (!this.families) {\r\n                                return null;\r\n                            }\r\n                            if (regex) {\r\n                                for (var _i = 0, _a = this.families; _i < _a.length; _i++) {\r\n                                    var fontFamily = _a[_i];\r\n                                    if (regex.test(fontFamily)) {\r\n                                        return fontFamily;\r\n                                    }\r\n                                }\r\n                            }\r\n                            return this.families[0];\r\n                        };\r\n                        Object.defineProperty(FamilyInfo.prototype, "css", {\r\n                            /**\r\n                             * Gets the CSS string for the "font-family" CSS attribute.\r\n                             */\r\n                            get: function () {\r\n                                return this.getCSS();\r\n                            },\r\n                            enumerable: true,\r\n                            configurable: true\r\n                        });\r\n                        /**\r\n                         * Gets the CSS string for the "font-family" CSS attribute.\r\n                         */\r\n                        FamilyInfo.prototype.getCSS = function () {\r\n                            return this.families ? this.families.map((function (font) { return font.indexOf(" ") > 0 ? "\'" + font + "\'" : font; })).join(", ") : null;\r\n                        };\r\n                        return FamilyInfo;\r\n                    }());\r\n                    font_1.FamilyInfo = FamilyInfo;\r\n                })(font = formatting.font || (formatting.font = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var font;\r\n                (function (font) {\r\n                    font.fallbackFonts = ["helvetica", "arial", "sans-serif"];\r\n                    font.Family = {\r\n                        light: new font.FamilyInfo(font.fallbackFonts),\r\n                        semilight: new font.FamilyInfo(font.fallbackFonts),\r\n                        regular: new font.FamilyInfo(font.fallbackFonts),\r\n                        semibold: new font.FamilyInfo(font.fallbackFonts),\r\n                        bold: new font.FamilyInfo(font.fallbackFonts),\r\n                        lightSecondary: new font.FamilyInfo(font.fallbackFonts),\r\n                        regularSecondary: new font.FamilyInfo(font.fallbackFonts),\r\n                        boldSecondary: new font.FamilyInfo(font.fallbackFonts)\r\n                    };\r\n                })(font = formatting.font || (formatting.font = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var RegExpExtensions = powerbi.extensibility.utils.type.RegExpExtensions;\r\n                // powerbi.extensibility.utils.formatting\r\n                var stringExtensions = powerbi.extensibility.utils.formatting.stringExtensions;\r\n                var findDateFormat = powerbi.extensibility.utils.formatting.findDateFormat;\r\n                var fixDateTimeFormat = powerbi.extensibility.utils.formatting.fixDateTimeFormat;\r\n                var DateTimeUnit = powerbi.extensibility.utils.formatting.DateTimeUnit;\r\n                /** Formatting Encoder */\r\n                var formattingEncoder;\r\n                (function (formattingEncoder) {\r\n                    // quoted and escaped literal patterns\r\n                    // NOTE: the final three cases match .NET behavior\r\n                    var literalPatterns = [\r\n                        "\'[^\']*\'",\r\n                        "\\"[^\\"]*\\"",\r\n                        "\\\\\\\\.",\r\n                        "\'[^\']*$",\r\n                        "\\"[^\\"]*$",\r\n                        "\\\\\\\\$",\r\n                    ];\r\n                    var literalMatcher = new RegExp(literalPatterns.join("|"), "g");\r\n                    // Unicode U+E000 - U+F8FF is a private area and so we can use the chars from the range to encode the escaped sequences\r\n                    function removeLiterals(format) {\r\n                        literalMatcher.lastIndex = 0;\r\n                        // just in case consecutive non-literals have some meaning\r\n                        return format.replace(literalMatcher, "\\uE100");\r\n                    }\r\n                    formattingEncoder.removeLiterals = removeLiterals;\r\n                    function preserveLiterals(format, literals) {\r\n                        literalMatcher.lastIndex = 0;\r\n                        for (;;) {\r\n                            var match = literalMatcher.exec(format);\r\n                            if (!match)\r\n                                break;\r\n                            var literal = match[0];\r\n                            var literalOffset = literalMatcher.lastIndex - literal.length;\r\n                            var token = String.fromCharCode(0xE100 + literals.length);\r\n                            literals.push(literal);\r\n                            format = format.substr(0, literalOffset) + token + format.substr(literalMatcher.lastIndex);\r\n                            // back to avoid skipping due to removed literal substring\r\n                            literalMatcher.lastIndex = literalOffset + 1;\r\n                        }\r\n                        return format;\r\n                    }\r\n                    formattingEncoder.preserveLiterals = preserveLiterals;\r\n                    function restoreLiterals(format, literals, quoted) {\r\n                        if (quoted === void 0) { quoted = true; }\r\n                        var count = literals.length;\r\n                        for (var i = 0; i < count; i++) {\r\n                            var token = String.fromCharCode(0xE100 + i);\r\n                            var literal = literals[i];\r\n                            if (!quoted) {\r\n                                // caller wants literals to be re-inserted without escaping\r\n                                var firstChar = literal[0];\r\n                                if (firstChar === "\\\\" || literal.length === 1 || literal[literal.length - 1] !== firstChar) {\r\n                                    // either escaped literal OR quoted literal that\'s missing the trailing quote\r\n                                    // in either case we only remove the leading character\r\n                                    literal = literal.substring(1);\r\n                                }\r\n                                else {\r\n                                    // so must be a quoted literal with both starting and ending quote\r\n                                    literal = literal.substring(1, literal.length - 1);\r\n                                }\r\n                            }\r\n                            format = format.replace(token, literal);\r\n                        }\r\n                        return format;\r\n                    }\r\n                    formattingEncoder.restoreLiterals = restoreLiterals;\r\n                })(formattingEncoder || (formattingEncoder = {}));\r\n                var IndexedTokensRegex = /({{)|(}})|{(\\d+[^}]*)}/g;\r\n                var ZeroPlaceholder = "0";\r\n                var DigitPlaceholder = "#";\r\n                var ExponentialFormatChar = "E";\r\n                var NumericPlaceholders = [ZeroPlaceholder, DigitPlaceholder];\r\n                var NumericPlaceholderRegex = new RegExp(NumericPlaceholders.join("|"), "g");\r\n                /** Formatting Service */\r\n                var FormattingService = (function () {\r\n                    function FormattingService() {\r\n                    }\r\n                    FormattingService.prototype.formatValue = function (value, format, cultureSelector) {\r\n                        // Handle special cases\r\n                        if (value === undefined || value === null) {\r\n                            return "";\r\n                        }\r\n                        var gculture = this.getCulture(cultureSelector);\r\n                        if (dateTimeFormat.canFormat(value)) {\r\n                            // Dates\r\n                            return dateTimeFormat.format(value, format, gculture);\r\n                        }\r\n                        else if (numberFormat.canFormat(value)) {\r\n                            // Numbers\r\n                            return numberFormat.format(value, format, gculture);\r\n                        }\r\n                        // Other data types - return as string\r\n                        return value.toString();\r\n                    };\r\n                    FormattingService.prototype.format = function (formatWithIndexedTokens, args, culture) {\r\n                        var _this = this;\r\n                        if (!formatWithIndexedTokens) {\r\n                            return "";\r\n                        }\r\n                        var result = formatWithIndexedTokens.replace(IndexedTokensRegex, function (match, left, right, argToken) {\r\n                            if (left) {\r\n                                return "{";\r\n                            }\r\n                            else if (right) {\r\n                                return "}";\r\n                            }\r\n                            else {\r\n                                var parts = argToken.split(":");\r\n                                var argIndex = parseInt(parts[0], 10);\r\n                                var argFormat = parts[1];\r\n                                return _this.formatValue(args[argIndex], argFormat, culture);\r\n                            }\r\n                        });\r\n                        return result;\r\n                    };\r\n                    FormattingService.prototype.isStandardNumberFormat = function (format) {\r\n                        return numberFormat.isStandardFormat(format);\r\n                    };\r\n                    FormattingService.prototype.formatNumberWithCustomOverride = function (value, format, nonScientificOverrideFormat, culture) {\r\n                        var gculture = this.getCulture(culture);\r\n                        return numberFormat.formatWithCustomOverride(value, format, nonScientificOverrideFormat, gculture);\r\n                    };\r\n                    FormattingService.prototype.dateFormatString = function (unit) {\r\n                        if (!this._dateTimeScaleFormatInfo)\r\n                            this.initialize();\r\n                        return this._dateTimeScaleFormatInfo.getFormatString(unit);\r\n                    };\r\n                    /**\r\n                     * Sets the current localization culture\r\n                     * @param cultureSelector - name of a culture: "en", "en-UK", "fr-FR" etc. (See National Language Support (NLS) for full lists. Use "default" for invariant culture).\r\n                     */\r\n                    FormattingService.prototype.setCurrentCulture = function (cultureSelector) {\r\n                        if (this._currentCultureSelector !== cultureSelector) {\r\n                            this._currentCulture = this.getCulture(cultureSelector);\r\n                            this._currentCultureSelector = cultureSelector;\r\n                            this._dateTimeScaleFormatInfo = new DateTimeScaleFormatInfo(this._currentCulture);\r\n                        }\r\n                    };\r\n                    /**\r\n                     * Gets the culture assotiated with the specified cultureSelector ("en", "en-US", "fr-FR" etc).\r\n                     * @param cultureSelector - name of a culture: "en", "en-UK", "fr-FR" etc. (See National Language Support (NLS) for full lists. Use "default" for invariant culture).\r\n                     * Exposing this function for testability of unsupported cultures\r\n                     */\r\n                    FormattingService.prototype.getCulture = function (cultureSelector) {\r\n                        if (cultureSelector == null) {\r\n                            if (this._currentCulture == null) {\r\n                                this.initialize();\r\n                            }\r\n                            return this._currentCulture;\r\n                        }\r\n                        else {\r\n                            var culture = Globalize.findClosestCulture(cultureSelector);\r\n                            if (!culture)\r\n                                culture = Globalize.culture("en-US");\r\n                            return culture;\r\n                        }\r\n                    };\r\n                    /** By default the Globalization module initializes to the culture/calendar provided in the language/culture URL params */\r\n                    FormattingService.prototype.initialize = function () {\r\n                        var cultureName = this.getCurrentCulture();\r\n                        this.setCurrentCulture(cultureName);\r\n                        var calendarName = this.getUrlParam("calendar");\r\n                        if (calendarName) {\r\n                            var culture = this._currentCulture;\r\n                            var c = culture.calendars[calendarName];\r\n                            if (c) {\r\n                                culture.calendar = c;\r\n                            }\r\n                        }\r\n                    };\r\n                    /**\r\n                     *  Exposing this function for testability\r\n                     */\r\n                    FormattingService.prototype.getCurrentCulture = function () {\r\n                        var urlParam = this.getUrlParam("language");\r\n                        if (urlParam) {\r\n                            return urlParam;\r\n                        }\r\n                        if (powerbi && powerbi.common && powerbi.common.cultureInfo) {\r\n                            // Get cultureInfo set in powerbi\r\n                            return powerbi.common.cultureInfo;\r\n                        }\r\n                        return window.navigator.userLanguage || window.navigator["language"] || Globalize.culture().name;\r\n                    };\r\n                    /**\r\n                     *  Exposing this function for testability\r\n                     *  @param name: queryString name\r\n                     */\r\n                    FormattingService.prototype.getUrlParam = function (name) {\r\n                        var param = window.location.search.match(RegExp("[?&]" + name + "=([^&]*)"));\r\n                        return param ? param[1] : undefined;\r\n                    };\r\n                    return FormattingService;\r\n                }());\r\n                formatting.FormattingService = FormattingService;\r\n                /**\r\n                 * DateTimeFormat module contains the static methods for formatting the DateTimes.\r\n                 * It extends the JQuery.Globalize functionality to support complete set of .NET\r\n                 * formatting expressions for dates.\r\n                 */\r\n                var dateTimeFormat;\r\n                (function (dateTimeFormat) {\r\n                    var _currentCachedFormat;\r\n                    var _currentCachedProcessedFormat;\r\n                    /** Evaluates if the value can be formatted using the NumberFormat */\r\n                    function canFormat(value) {\r\n                        var result = value instanceof Date;\r\n                        return result;\r\n                    }\r\n                    dateTimeFormat.canFormat = canFormat;\r\n                    /** Formats the date using provided format and culture */\r\n                    function format(value, format, culture) {\r\n                        format = format || "G";\r\n                        var isStandard = format.length === 1;\r\n                        try {\r\n                            if (isStandard) {\r\n                                return formatDateStandard(value, format, culture);\r\n                            }\r\n                            else {\r\n                                return formatDateCustom(value, format, culture);\r\n                            }\r\n                        }\r\n                        catch (e) {\r\n                            return formatDateStandard(value, "G", culture);\r\n                        }\r\n                    }\r\n                    dateTimeFormat.format = format;\r\n                    /** Formats the date using standard format expression */\r\n                    function formatDateStandard(value, format, culture) {\r\n                        // In order to provide parity with .NET we have to support additional set of DateTime patterns.\r\n                        var patterns = culture.calendar.patterns;\r\n                        // Extend supported set of patterns\r\n                        ensurePatterns(culture.calendar);\r\n                        // Handle extended set of formats\r\n                        var output = findDateFormat(value, format, culture.name);\r\n                        if (output.format.length === 1)\r\n                            format = patterns[output.format];\r\n                        else\r\n                            format = output.format;\r\n                        // need to revisit when globalization is enabled\r\n                        if (!culture) {\r\n                            culture = Globalize.culture("en-US");\r\n                        }\r\n                        return Globalize.format(output.value, format, culture);\r\n                    }\r\n                    /** Formats the date using custom format expression */\r\n                    function formatDateCustom(value, format, culture) {\r\n                        var result;\r\n                        var literals = [];\r\n                        format = formattingEncoder.preserveLiterals(format, literals);\r\n                        if (format.indexOf("F") > -1) {\r\n                            // F is not supported so we need to replace the F with f based on the milliseconds\r\n                            // Replace all sequences of F longer than 3 with "FFF"\r\n                            format = stringExtensions.replaceAll(format, "FFFF", "FFF");\r\n                            // Based on milliseconds update the format to use fff\r\n                            var milliseconds = value.getMilliseconds();\r\n                            if (milliseconds % 10 >= 1) {\r\n                                format = stringExtensions.replaceAll(format, "FFF", "fff");\r\n                            }\r\n                            format = stringExtensions.replaceAll(format, "FFF", "FF");\r\n                            if ((milliseconds % 100) / 10 >= 1) {\r\n                                format = stringExtensions.replaceAll(format, "FF", "ff");\r\n                            }\r\n                            format = stringExtensions.replaceAll(format, "FF", "F");\r\n                            if ((milliseconds % 1000) / 100 >= 1) {\r\n                                format = stringExtensions.replaceAll(format, "F", "f");\r\n                            }\r\n                            format = stringExtensions.replaceAll(format, "F", "");\r\n                            if (format === "" || format === "%")\r\n                                return "";\r\n                        }\r\n                        format = processCustomDateTimeFormat(format);\r\n                        result = Globalize.format(value, format, culture);\r\n                        result = localize(result, culture.calendar);\r\n                        result = formattingEncoder.restoreLiterals(result, literals, false);\r\n                        return result;\r\n                    }\r\n                    /** Translates unsupported .NET custom format expressions to the custom expressions supported by JQuery.Globalize */\r\n                    function processCustomDateTimeFormat(format) {\r\n                        if (format === _currentCachedFormat) {\r\n                            return _currentCachedProcessedFormat;\r\n                        }\r\n                        _currentCachedFormat = format;\r\n                        format = fixDateTimeFormat(format);\r\n                        _currentCachedProcessedFormat = format;\r\n                        return format;\r\n                    }\r\n                    /** Localizes the time separator symbol */\r\n                    function localize(value, dictionary) {\r\n                        var timeSeparator = dictionary[":"];\r\n                        if (timeSeparator === ":") {\r\n                            return value;\r\n                        }\r\n                        var result = "";\r\n                        var count = value.length;\r\n                        for (var i = 0; i < count; i++) {\r\n                            var char = value.charAt(i);\r\n                            switch (char) {\r\n                                case ":":\r\n                                    result += timeSeparator;\r\n                                    break;\r\n                                default:\r\n                                    result += char;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    function ensurePatterns(calendar) {\r\n                        var patterns = calendar.patterns;\r\n                        if (patterns["g"] === undefined) {\r\n                            patterns["g"] = patterns["f"].replace(patterns["D"], patterns["d"]); // Generic: Short date, short time\r\n                            patterns["G"] = patterns["F"].replace(patterns["D"], patterns["d"]); // Generic: Short date, long time\r\n                        }\r\n                    }\r\n                })(dateTimeFormat || (dateTimeFormat = {}));\r\n                /**\r\n                 * NumberFormat module contains the static methods for formatting the numbers.\r\n                 * It extends the JQuery.Globalize functionality to support complete set of .NET\r\n                 * formatting expressions for numeric types including custom formats.\r\n                 */\r\n                var numberFormat;\r\n                (function (numberFormat) {\r\n                    var NonScientificFormatRegex = /^\\{.+\\}.*/;\r\n                    var NumericalPlaceHolderRegex = /\\{.+\\}/;\r\n                    var ScientificFormatRegex = /e[+-]*[0#]+/i;\r\n                    var StandardFormatRegex = /^[a-z]\\d{0,2}$/i; // a letter + up to 2 digits for precision specifier\r\n                    var TrailingZerosRegex = /0+$/;\r\n                    var DecimalFormatRegex = /\\.([0#]*)/g;\r\n                    var NumericFormatRegex = /[0#,\\.]+[0,#]*/g;\r\n                    // (?=...) is a positive lookahead assertion. The RE is asking for the last digit placeholder, [0#],\r\n                    // which is followed by non-digit placeholders and the end of string, [^0#]*$. But it only matches\r\n                    // the last digit placeholder, not anything that follows because the positive lookahead isn"t included\r\n                    // in the match - it is only a condition.\r\n                    var LastNumericPlaceholderRegex = /([0#])(?=[^0#]*$)/;\r\n                    var DecimalFormatCharacter = ".";\r\n                    numberFormat.NumberFormatComponentsDelimeter = ";";\r\n                    function getNonScientificFormatWithPrecision(baseFormat, numericFormat) {\r\n                        if (!numericFormat || baseFormat === undefined)\r\n                            return baseFormat;\r\n                        var newFormat = "{0:" + numericFormat + "}";\r\n                        return baseFormat.replace("{0}", newFormat);\r\n                    }\r\n                    function getNumericFormat(value, baseFormat) {\r\n                        if (baseFormat == null)\r\n                            return baseFormat;\r\n                        if (hasFormatComponents(baseFormat)) {\r\n                            var _a = numberFormat.getComponents(baseFormat), positive = _a.positive, negative = _a.negative, zero = _a.zero;\r\n                            if (value > 0)\r\n                                return getNumericFormatFromComponent(value, positive);\r\n                            else if (value === 0)\r\n                                return getNumericFormatFromComponent(value, zero);\r\n                            return getNumericFormatFromComponent(value, negative);\r\n                        }\r\n                        return getNumericFormatFromComponent(value, baseFormat);\r\n                    }\r\n                    numberFormat.getNumericFormat = getNumericFormat;\r\n                    function getNumericFormatFromComponent(value, format) {\r\n                        var match = RegExpExtensions.run(NumericFormatRegex, format);\r\n                        if (match)\r\n                            return match[0];\r\n                        return format;\r\n                    }\r\n                    function addDecimalsToFormat(baseFormat, decimals, trailingZeros) {\r\n                        if (decimals == null)\r\n                            return baseFormat;\r\n                        // Default format string\r\n                        if (baseFormat == null)\r\n                            baseFormat = ZeroPlaceholder;\r\n                        if (hasFormatComponents(baseFormat)) {\r\n                            var _a = numberFormat.getComponents(baseFormat), positive = _a.positive, negative = _a.negative, zero = _a.zero;\r\n                            var formats = [positive, negative, zero];\r\n                            for (var i = 0; i < formats.length; i++) {\r\n                                // Update format in formats array\r\n                                formats[i] = addDecimalsToFormatComponent(formats[i], decimals, trailingZeros);\r\n                            }\r\n                            return formats.join(numberFormat.NumberFormatComponentsDelimeter);\r\n                        }\r\n                        return addDecimalsToFormatComponent(baseFormat, decimals, trailingZeros);\r\n                    }\r\n                    numberFormat.addDecimalsToFormat = addDecimalsToFormat;\r\n                    function addDecimalsToFormatComponent(format, decimals, trailingZeros) {\r\n                        decimals = Math.abs(decimals);\r\n                        if (decimals >= 0) {\r\n                            var literals = [];\r\n                            format = formattingEncoder.preserveLiterals(format, literals);\r\n                            var placeholder = trailingZeros ? ZeroPlaceholder : DigitPlaceholder;\r\n                            var decimalPlaceholders = stringExtensions.repeat(placeholder, Math.abs(decimals));\r\n                            var match = RegExpExtensions.run(DecimalFormatRegex, format);\r\n                            if (match) {\r\n                                var beforeDecimal = format.substr(0, match.index);\r\n                                var formatDecimal = format.substr(match.index + 1, match[1].length);\r\n                                var afterDecimal = format.substr(match.index + match[0].length);\r\n                                if (trailingZeros)\r\n                                    // Use explicit decimals argument as placeholders\r\n                                    formatDecimal = decimalPlaceholders;\r\n                                else {\r\n                                    var decimalChange = decimalPlaceholders.length - formatDecimal.length;\r\n                                    if (decimalChange > 0)\r\n                                        // Append decimalPlaceholders to existing decimal portion of format string\r\n                                        formatDecimal = formatDecimal + decimalPlaceholders.slice(-decimalChange);\r\n                                    else if (decimalChange < 0)\r\n                                        // Remove decimals from formatDecimal\r\n                                        formatDecimal = formatDecimal.slice(0, decimalChange);\r\n                                }\r\n                                if (formatDecimal.length > 0)\r\n                                    formatDecimal = DecimalFormatCharacter + formatDecimal;\r\n                                format = beforeDecimal + formatDecimal + afterDecimal;\r\n                            }\r\n                            else if (decimalPlaceholders.length > 0) {\r\n                                // Replace last numeric placeholder with decimal portion\r\n                                format = format.replace(LastNumericPlaceholderRegex, "$1" + DecimalFormatCharacter + decimalPlaceholders);\r\n                            }\r\n                            if (literals.length !== 0)\r\n                                format = formattingEncoder.restoreLiterals(format, literals);\r\n                        }\r\n                        return format;\r\n                    }\r\n                    function hasFormatComponents(format) {\r\n                        return formattingEncoder.removeLiterals(format).indexOf(numberFormat.NumberFormatComponentsDelimeter) !== -1;\r\n                    }\r\n                    numberFormat.hasFormatComponents = hasFormatComponents;\r\n                    function getComponents(format) {\r\n                        var signFormat = {\r\n                            hasNegative: false,\r\n                            positive: format,\r\n                            negative: format,\r\n                            zero: format,\r\n                        };\r\n                        // escape literals so semi-colon in a literal isn\'t interpreted as a delimiter\r\n                        // NOTE: OK to use the literals extracted here for all three components before since the literals are indexed.\r\n                        // For example, "\'pos-lit\';\'neg-lit\'" will get preserved as "\\uE000;\\uE001" and the literal array will be\r\n                        // [\'pos-lit\', \'neg-lit\']. When the negative components is restored, its \\uE001 will select the second\r\n                        // literal.\r\n                        var literals = [];\r\n                        format = formattingEncoder.preserveLiterals(format, literals);\r\n                        var signSpecificFormats = format.split(numberFormat.NumberFormatComponentsDelimeter);\r\n                        var formatCount = signSpecificFormats.length;\r\n                        if (formatCount > 1) {\r\n                            if (literals.length !== 0)\r\n                                signSpecificFormats = signSpecificFormats.map(function (signSpecificFormat) { return formattingEncoder.restoreLiterals(signSpecificFormat, literals); });\r\n                            signFormat.hasNegative = true;\r\n                            signFormat.positive = signFormat.zero = signSpecificFormats[0];\r\n                            signFormat.negative = signSpecificFormats[1];\r\n                            if (formatCount > 2)\r\n                                signFormat.zero = signSpecificFormats[2];\r\n                        }\r\n                        return signFormat;\r\n                    }\r\n                    numberFormat.getComponents = getComponents;\r\n                    var _lastCustomFormatMeta;\r\n                    /** Evaluates if the value can be formatted using the NumberFormat */\r\n                    function canFormat(value) {\r\n                        var result = typeof (value) === "number";\r\n                        return result;\r\n                    }\r\n                    numberFormat.canFormat = canFormat;\r\n                    function isStandardFormat(format) {\r\n                        return StandardFormatRegex.test(format);\r\n                    }\r\n                    numberFormat.isStandardFormat = isStandardFormat;\r\n                    /** Formats the number using specified format expression and culture */\r\n                    function format(value, format, culture) {\r\n                        format = format || "G";\r\n                        try {\r\n                            if (isStandardFormat(format))\r\n                                return formatNumberStandard(value, format, culture);\r\n                            return formatNumberCustom(value, format, culture);\r\n                        }\r\n                        catch (e) {\r\n                            return Globalize.format(value, undefined, culture);\r\n                        }\r\n                    }\r\n                    numberFormat.format = format;\r\n                    /** Performs a custom format with a value override.  Typically used for custom formats showing scaled values. */\r\n                    function formatWithCustomOverride(value, format, nonScientificOverrideFormat, culture) {\r\n                        return formatNumberCustom(value, format, culture, nonScientificOverrideFormat);\r\n                    }\r\n                    numberFormat.formatWithCustomOverride = formatWithCustomOverride;\r\n                    /** Formats the number using standard format expression */\r\n                    function formatNumberStandard(value, format, culture) {\r\n                        var result;\r\n                        var precision = (format.length > 1 ? parseInt(format.substr(1, format.length - 1), 10) : undefined);\r\n                        var numberFormatInfo = culture.numberFormat;\r\n                        var formatChar = format.charAt(0);\r\n                        switch (formatChar) {\r\n                            case "e":\r\n                            case "E":\r\n                                if (precision === undefined) {\r\n                                    precision = 6;\r\n                                }\r\n                                var mantissaDecimalDigits = stringExtensions.repeat("0", precision);\r\n                                format = "0." + mantissaDecimalDigits + formatChar + "+000";\r\n                                result = formatNumberCustom(value, format, culture);\r\n                                break;\r\n                            case "f":\r\n                            case "F":\r\n                                result = precision !== undefined ? value.toFixed(precision) : value.toFixed(numberFormatInfo.decimals);\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            case "g":\r\n                            case "G":\r\n                                var abs = Math.abs(value);\r\n                                if (abs === 0 || (1E-4 <= abs && abs < 1E15)) {\r\n                                    // For the range of 0.0001 to 1,000,000,000,000,000 - use the normal form\r\n                                    result = precision !== undefined ? value.toPrecision(precision) : value.toString();\r\n                                }\r\n                                else {\r\n                                    // Otherwise use exponential\r\n                                    // Assert that value is a number and fall back on returning value if it is not\r\n                                    if (typeof (value) !== "number")\r\n                                        return String(value);\r\n                                    result = precision !== undefined ? value.toExponential(precision) : value.toExponential();\r\n                                    result = result.replace("e", "E");\r\n                                }\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            case "r":\r\n                            case "R":\r\n                                result = value.toString();\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            case "x":\r\n                            case "X":\r\n                                result = value.toString(16);\r\n                                if (formatChar === "X") {\r\n                                    result = result.toUpperCase();\r\n                                }\r\n                                if (precision !== undefined) {\r\n                                    var actualPrecision = result.length;\r\n                                    var isNegative = value < 0;\r\n                                    if (isNegative) {\r\n                                        actualPrecision--;\r\n                                    }\r\n                                    var paddingZerosCount = precision - actualPrecision;\r\n                                    var paddingZeros = undefined;\r\n                                    if (paddingZerosCount > 0) {\r\n                                        paddingZeros = stringExtensions.repeat("0", paddingZerosCount);\r\n                                    }\r\n                                    if (isNegative) {\r\n                                        result = "-" + paddingZeros + result.substr(1);\r\n                                    }\r\n                                    else {\r\n                                        result = paddingZeros + result;\r\n                                    }\r\n                                }\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            default:\r\n                                result = Globalize.format(value, format, culture);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /** Formats the number using custom format expression */\r\n                    function formatNumberCustom(value, format, culture, nonScientificOverrideFormat) {\r\n                        var result;\r\n                        var numberFormatInfo = culture.numberFormat;\r\n                        if (isFinite(value)) {\r\n                            // Split format by positive[;negative;zero] pattern\r\n                            var formatComponents = getComponents(format);\r\n                            // Pick a format based on the sign of value\r\n                            if (value > 0) {\r\n                                format = formatComponents.positive;\r\n                            }\r\n                            else if (value === 0) {\r\n                                format = formatComponents.zero;\r\n                            }\r\n                            else {\r\n                                format = formatComponents.negative;\r\n                            }\r\n                            // Normalize value if we have an explicit negative format\r\n                            if (formatComponents.hasNegative)\r\n                                value = Math.abs(value);\r\n                            // Get format metadata\r\n                            var formatMeta = getCustomFormatMetadata(format, true /*calculatePrecision*/);\r\n                            // Preserve literals and escaped chars\r\n                            var literals = [];\r\n                            if (formatMeta.hasLiterals) {\r\n                                format = formattingEncoder.preserveLiterals(format, literals);\r\n                            }\r\n                            // Scientific format\r\n                            if (formatMeta.hasE && !nonScientificOverrideFormat) {\r\n                                var scientificMatch = RegExpExtensions.run(ScientificFormatRegex, format);\r\n                                if (scientificMatch) {\r\n                                    // Case 2.1. Scientific custom format\r\n                                    var formatM = format.substr(0, scientificMatch.index);\r\n                                    var formatE = format.substr(scientificMatch.index + 2); // E(+|-)\r\n                                    var precision = getCustomFormatPrecision(formatM, formatMeta);\r\n                                    var scale = getCustomFormatScale(formatM, formatMeta);\r\n                                    if (scale !== 1) {\r\n                                        value = value * scale;\r\n                                    }\r\n                                    // Assert that value is a number and fall back on returning value if it is not\r\n                                    if (typeof (value) !== "number")\r\n                                        return String(value);\r\n                                    var s = value.toExponential(precision);\r\n                                    var indexOfE = s.indexOf("e");\r\n                                    var mantissa = s.substr(0, indexOfE);\r\n                                    var exp = s.substr(indexOfE + 1);\r\n                                    var resultM = fuseNumberWithCustomFormat(mantissa, formatM, numberFormatInfo);\r\n                                    var resultE = fuseNumberWithCustomFormat(exp, formatE, numberFormatInfo);\r\n                                    if (resultE.charAt(0) === "+" && scientificMatch[0].charAt(1) !== "+") {\r\n                                        resultE = resultE.substr(1);\r\n                                    }\r\n                                    var e = scientificMatch[0].charAt(0);\r\n                                    result = resultM + e + resultE;\r\n                                }\r\n                            }\r\n                            // Non scientific format\r\n                            if (result === undefined) {\r\n                                var valueFormatted = void 0;\r\n                                var isValueGlobalized = false;\r\n                                var precision = getCustomFormatPrecision(format, formatMeta);\r\n                                var scale = getCustomFormatScale(format, formatMeta);\r\n                                if (scale !== 1)\r\n                                    value = value * scale;\r\n                                // Rounding\r\n                                value = parseFloat(toNonScientific(value, precision));\r\n                                if (!isFinite(value)) {\r\n                                    // very large and small finite values can become infinite by parseFloat(toNonScientific())\r\n                                    return Globalize.format(value, undefined);\r\n                                }\r\n                                if (nonScientificOverrideFormat) {\r\n                                    // Get numeric format from format string\r\n                                    var numericFormat = numberFormat.getNumericFormat(value, format);\r\n                                    // Add separators and decimalFormat to nonScientificFormat\r\n                                    nonScientificOverrideFormat = getNonScientificFormatWithPrecision(nonScientificOverrideFormat, numericFormat);\r\n                                    // Format the value\r\n                                    valueFormatted = formatting.formattingService.format(nonScientificOverrideFormat, [value], culture.name);\r\n                                    isValueGlobalized = true;\r\n                                }\r\n                                else\r\n                                    valueFormatted = toNonScientific(value, precision);\r\n                                result = fuseNumberWithCustomFormat(valueFormatted, format, numberFormatInfo, nonScientificOverrideFormat, isValueGlobalized);\r\n                            }\r\n                            if (formatMeta.hasLiterals) {\r\n                                result = formattingEncoder.restoreLiterals(result, literals, false);\r\n                            }\r\n                            _lastCustomFormatMeta = formatMeta;\r\n                        }\r\n                        else {\r\n                            return Globalize.format(value, undefined);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /** Returns string with the fixed point respresentation of the number */\r\n                    function toNonScientific(value, precision) {\r\n                        var result = "";\r\n                        var precisionZeros = 0;\r\n                        // Double precision numbers support actual 15-16 decimal digits of precision.\r\n                        if (precision > 16) {\r\n                            precisionZeros = precision - 16;\r\n                            precision = 16;\r\n                        }\r\n                        var digitsBeforeDecimalPoint = Double.log10(Math.abs(value));\r\n                        if (digitsBeforeDecimalPoint < 16) {\r\n                            if (digitsBeforeDecimalPoint > 0) {\r\n                                var maxPrecision = 16 - digitsBeforeDecimalPoint;\r\n                                if (precision > maxPrecision) {\r\n                                    precisionZeros += precision - maxPrecision;\r\n                                    precision = maxPrecision;\r\n                                }\r\n                            }\r\n                            result = value.toFixed(precision);\r\n                        }\r\n                        else if (digitsBeforeDecimalPoint === 16) {\r\n                            result = value.toFixed(0);\r\n                            precisionZeros += precision;\r\n                            if (precisionZeros > 0) {\r\n                                result += ".";\r\n                            }\r\n                        }\r\n                        else {\r\n                            // Different browsers have different implementations of the toFixed().\r\n                            // In IE it returns fixed format no matter what\'s the number. In FF and Chrome the method returns exponential format for numbers greater than 1E21.\r\n                            // So we need to check for range and convert the to exponential with the max precision.\r\n                            // Then we convert exponential string to fixed by removing the dot and padding with "power" zeros.\r\n                            // Assert that value is a number and fall back on returning value if it is not\r\n                            if (typeof (value) !== "number")\r\n                                return String(value);\r\n                            result = value.toExponential(15);\r\n                            var indexOfE = result.indexOf("e");\r\n                            if (indexOfE > 0) {\r\n                                var indexOfDot = result.indexOf(".");\r\n                                var mantissa = result.substr(0, indexOfE);\r\n                                var exp = result.substr(indexOfE + 1);\r\n                                var powerZeros = parseInt(exp, 10) - (mantissa.length - indexOfDot - 1);\r\n                                result = mantissa.replace(".", "") + stringExtensions.repeat("0", powerZeros);\r\n                                if (precision > 0) {\r\n                                    result = result + "." + stringExtensions.repeat("0", precision);\r\n                                }\r\n                            }\r\n                        }\r\n                        if (precisionZeros > 0) {\r\n                            result = result + stringExtensions.repeat("0", precisionZeros);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /**\r\n                     * Returns the formatMetadata of the format\r\n                     * When calculating precision and scale, if format string of\r\n                     * positive[;negative;zero] => positive format will be used\r\n                     * @param (required) format - format string\r\n                     * @param (optional) calculatePrecision - calculate precision of positive format\r\n                     * @param (optional) calculateScale - calculate scale of positive format\r\n                     */\r\n                    function getCustomFormatMetadata(format, calculatePrecision, calculateScale, calculatePartsPerScale) {\r\n                        if (_lastCustomFormatMeta !== undefined && format === _lastCustomFormatMeta.format) {\r\n                            return _lastCustomFormatMeta;\r\n                        }\r\n                        var literals = [];\r\n                        var escaped = formattingEncoder.preserveLiterals(format, literals);\r\n                        var result = {\r\n                            format: format,\r\n                            hasLiterals: literals.length !== 0,\r\n                            hasE: false,\r\n                            hasCommas: false,\r\n                            hasDots: false,\r\n                            hasPercent: false,\r\n                            hasPermile: false,\r\n                            precision: undefined,\r\n                            scale: undefined,\r\n                            partsPerScale: undefined,\r\n                        };\r\n                        for (var i = 0, length_1 = escaped.length; i < length_1; i++) {\r\n                            var c = escaped.charAt(i);\r\n                            switch (c) {\r\n                                case "e":\r\n                                case "E":\r\n                                    result.hasE = true;\r\n                                    break;\r\n                                case ",":\r\n                                    result.hasCommas = true;\r\n                                    break;\r\n                                case ".":\r\n                                    result.hasDots = true;\r\n                                    break;\r\n                                case "%":\r\n                                    result.hasPercent = true;\r\n                                    break;\r\n                                case "\\u2030":\r\n                                    result.hasPermile = true;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        // Use positive format for calculating these values\r\n                        var formatComponents = getComponents(format);\r\n                        if (calculatePrecision)\r\n                            result.precision = getCustomFormatPrecision(formatComponents.positive, result);\r\n                        if (calculatePartsPerScale)\r\n                            result.partsPerScale = getCustomFormatPartsPerScale(formatComponents.positive, result);\r\n                        if (calculateScale)\r\n                            result.scale = getCustomFormatScale(formatComponents.positive, result);\r\n                        return result;\r\n                    }\r\n                    numberFormat.getCustomFormatMetadata = getCustomFormatMetadata;\r\n                    /** Returns the decimal precision of format based on the number of # and 0 chars after the decimal point\r\n                      * Important: The input format string needs to be split to the appropriate pos/neg/zero portion to work correctly */\r\n                    function getCustomFormatPrecision(format, formatMeta) {\r\n                        if (formatMeta.precision > -1) {\r\n                            return formatMeta.precision;\r\n                        }\r\n                        var result = 0;\r\n                        if (formatMeta.hasDots) {\r\n                            if (formatMeta.hasLiterals) {\r\n                                format = formattingEncoder.removeLiterals(format);\r\n                            }\r\n                            var dotIndex = format.indexOf(".");\r\n                            if (dotIndex > -1) {\r\n                                var count = format.length;\r\n                                for (var i = dotIndex; i < count; i++) {\r\n                                    var char = format.charAt(i);\r\n                                    if (char.match(NumericPlaceholderRegex))\r\n                                        result++;\r\n                                    // 0.00E+0 :: Break before counting 0 in\r\n                                    // exponential portion of format string\r\n                                    if (char === ExponentialFormatChar)\r\n                                        break;\r\n                                }\r\n                                result = Math.min(19, result);\r\n                            }\r\n                        }\r\n                        formatMeta.precision = result;\r\n                        return result;\r\n                    }\r\n                    function getCustomFormatPartsPerScale(format, formatMeta) {\r\n                        if (formatMeta.partsPerScale != null)\r\n                            return formatMeta.partsPerScale;\r\n                        var result = 1;\r\n                        if (formatMeta.hasPercent && format.indexOf("%") > -1) {\r\n                            result = result * 100;\r\n                        }\r\n                        if (formatMeta.hasPermile && format.indexOf(/* \u2030 */ "\\u2030") > -1) {\r\n                            result = result * 1000;\r\n                        }\r\n                        formatMeta.partsPerScale = result;\r\n                        return result;\r\n                    }\r\n                    /** Returns the scale factor of the format based on the "%" and scaling "," chars in the format */\r\n                    function getCustomFormatScale(format, formatMeta) {\r\n                        if (formatMeta.scale > -1) {\r\n                            return formatMeta.scale;\r\n                        }\r\n                        var result = getCustomFormatPartsPerScale(format, formatMeta);\r\n                        if (formatMeta.hasCommas) {\r\n                            var dotIndex = format.indexOf(".");\r\n                            if (dotIndex === -1) {\r\n                                dotIndex = format.length;\r\n                            }\r\n                            for (var i = dotIndex - 1; i > -1; i--) {\r\n                                var char = format.charAt(i);\r\n                                if (char === ",") {\r\n                                    result = result / 1000;\r\n                                }\r\n                                else {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        formatMeta.scale = result;\r\n                        return result;\r\n                    }\r\n                    function fuseNumberWithCustomFormat(value, format, numberFormatInfo, nonScientificOverrideFormat, isValueGlobalized) {\r\n                        var suppressModifyValue = !!nonScientificOverrideFormat;\r\n                        var formatParts = format.split(".", 2);\r\n                        if (formatParts.length === 2) {\r\n                            var wholeFormat = formatParts[0];\r\n                            var fractionFormat = formatParts[1];\r\n                            var displayUnit = "";\r\n                            // Remove display unit from value before splitting on "." as localized display units sometimes end with "."\r\n                            if (nonScientificOverrideFormat) {\r\n                                displayUnit = nonScientificOverrideFormat.replace(NumericalPlaceHolderRegex, "");\r\n                                value = value.replace(displayUnit, "");\r\n                            }\r\n                            var globalizedDecimalSeparator = numberFormatInfo["."];\r\n                            var decimalSeparator = isValueGlobalized ? globalizedDecimalSeparator : ".";\r\n                            var valueParts = value.split(decimalSeparator, 2);\r\n                            var wholeValue = valueParts.length === 1 ? valueParts[0] + displayUnit : valueParts[0];\r\n                            var fractionValue = valueParts.length === 2 ? valueParts[1] + displayUnit : "";\r\n                            fractionValue = fractionValue.replace(TrailingZerosRegex, "");\r\n                            var wholeFormattedValue = fuseNumberWithCustomFormatLeft(wholeValue, wholeFormat, numberFormatInfo, suppressModifyValue);\r\n                            var fractionFormattedValue = fuseNumberWithCustomFormatRight(fractionValue, fractionFormat, suppressModifyValue);\r\n                            if (fractionFormattedValue.fmtOnly || fractionFormattedValue.value === "")\r\n                                return wholeFormattedValue + fractionFormattedValue.value;\r\n                            return wholeFormattedValue + globalizedDecimalSeparator + fractionFormattedValue.value;\r\n                        }\r\n                        return fuseNumberWithCustomFormatLeft(value, format, numberFormatInfo, suppressModifyValue);\r\n                    }\r\n                    function fuseNumberWithCustomFormatLeft(value, format, numberFormatInfo, suppressModifyValue) {\r\n                        var groupSymbolIndex = format.indexOf(",");\r\n                        var enableGroups = groupSymbolIndex > -1 && groupSymbolIndex < Math.max(format.lastIndexOf("0"), format.lastIndexOf("#")) && numberFormatInfo[","];\r\n                        var groupDigitCount = 0;\r\n                        var groupIndex = 0;\r\n                        var groupSizes = numberFormatInfo.groupSizes || [3];\r\n                        var groupSize = groupSizes[0];\r\n                        var groupSeparator = numberFormatInfo[","];\r\n                        var sign = "";\r\n                        var firstChar = value.charAt(0);\r\n                        if (firstChar === "+" || firstChar === "-") {\r\n                            sign = numberFormatInfo[firstChar];\r\n                            value = value.substr(1);\r\n                        }\r\n                        var isZero = value === "0";\r\n                        var result = "";\r\n                        var leftBuffer = "";\r\n                        var vi = value.length - 1;\r\n                        var fmtOnly = true;\r\n                        // Iterate through format chars and replace 0 and # with the digits from the value string\r\n                        for (var fi = format.length - 1; fi > -1; fi--) {\r\n                            var formatChar = format.charAt(fi);\r\n                            switch (formatChar) {\r\n                                case ZeroPlaceholder:\r\n                                case DigitPlaceholder:\r\n                                    fmtOnly = false;\r\n                                    if (leftBuffer !== "") {\r\n                                        result = leftBuffer + result;\r\n                                        leftBuffer = "";\r\n                                    }\r\n                                    if (!suppressModifyValue) {\r\n                                        if (vi > -1 || formatChar === ZeroPlaceholder) {\r\n                                            if (enableGroups) {\r\n                                                // If the groups are enabled we\'ll need to keep track of the current group index and periodically insert group separator,\r\n                                                if (groupDigitCount === groupSize) {\r\n                                                    result = groupSeparator + result;\r\n                                                    groupIndex++;\r\n                                                    if (groupIndex < groupSizes.length) {\r\n                                                        groupSize = groupSizes[groupIndex];\r\n                                                    }\r\n                                                    groupDigitCount = 1;\r\n                                                }\r\n                                                else {\r\n                                                    groupDigitCount++;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        if (vi > -1) {\r\n                                            if (isZero && formatChar === DigitPlaceholder) {\r\n                                            }\r\n                                            else {\r\n                                                result = value.charAt(vi) + result;\r\n                                            }\r\n                                            vi--;\r\n                                        }\r\n                                        else if (formatChar !== DigitPlaceholder) {\r\n                                            result = formatChar + result;\r\n                                        }\r\n                                    }\r\n                                    break;\r\n                                case ",":\r\n                                    // We should skip all the , chars\r\n                                    break;\r\n                                default:\r\n                                    leftBuffer = formatChar + leftBuffer;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        // If the value didn\'t fit into the number of zeros provided in the format then we should insert the missing part of the value into the result\r\n                        if (!suppressModifyValue) {\r\n                            if (vi > -1 && result !== "") {\r\n                                if (enableGroups) {\r\n                                    while (vi > -1) {\r\n                                        if (groupDigitCount === groupSize) {\r\n                                            result = groupSeparator + result;\r\n                                            groupIndex++;\r\n                                            if (groupIndex < groupSizes.length) {\r\n                                                groupSize = groupSizes[groupIndex];\r\n                                            }\r\n                                            groupDigitCount = 1;\r\n                                        }\r\n                                        else {\r\n                                            groupDigitCount++;\r\n                                        }\r\n                                        result = value.charAt(vi) + result;\r\n                                        vi--;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    result = value.substr(0, vi + 1) + result;\r\n                                }\r\n                            }\r\n                            // Insert sign in front of the leftBuffer and result\r\n                            return sign + leftBuffer + result;\r\n                        }\r\n                        if (fmtOnly)\r\n                            // If the format doesn\'t specify any digits to be displayed, then just return the format we\'ve parsed up until now.\r\n                            return sign + leftBuffer + result;\r\n                        return sign + leftBuffer + value + result;\r\n                    }\r\n                    function fuseNumberWithCustomFormatRight(value, format, suppressModifyValue) {\r\n                        var vi = 0;\r\n                        var fCount = format.length;\r\n                        var vCount = value.length;\r\n                        if (suppressModifyValue) {\r\n                            var lastChar = format.charAt(fCount - 1);\r\n                            if (!lastChar.match(NumericPlaceholderRegex))\r\n                                return {\r\n                                    value: value + lastChar,\r\n                                    fmtOnly: value === "",\r\n                                };\r\n                            return {\r\n                                value: value,\r\n                                fmtOnly: value === "",\r\n                            };\r\n                        }\r\n                        var result = "", fmtOnly = true;\r\n                        for (var fi = 0; fi < fCount; fi++) {\r\n                            var formatChar = format.charAt(fi);\r\n                            if (vi < vCount) {\r\n                                switch (formatChar) {\r\n                                    case ZeroPlaceholder:\r\n                                    case DigitPlaceholder:\r\n                                        result += value[vi++];\r\n                                        fmtOnly = false;\r\n                                        break;\r\n                                    default:\r\n                                        result += formatChar;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (formatChar !== DigitPlaceholder) {\r\n                                    result += formatChar;\r\n                                    fmtOnly = fmtOnly && (formatChar !== ZeroPlaceholder);\r\n                                }\r\n                            }\r\n                        }\r\n                        return {\r\n                            value: result,\r\n                            fmtOnly: fmtOnly,\r\n                        };\r\n                    }\r\n                    function localize(value, dictionary) {\r\n                        var plus = dictionary["+"];\r\n                        var minus = dictionary["-"];\r\n                        var dot = dictionary["."];\r\n                        var comma = dictionary[","];\r\n                        if (plus === "+" && minus === "-" && dot === "." && comma === ",") {\r\n                            return value;\r\n                        }\r\n                        var count = value.length;\r\n                        var result = "";\r\n                        for (var i = 0; i < count; i++) {\r\n                            var char = value.charAt(i);\r\n                            switch (char) {\r\n                                case "+":\r\n                                    result = result + plus;\r\n                                    break;\r\n                                case "-":\r\n                                    result = result + minus;\r\n                                    break;\r\n                                case ".":\r\n                                    result = result + dot;\r\n                                    break;\r\n                                case ",":\r\n                                    result = result + comma;\r\n                                    break;\r\n                                default:\r\n                                    result = result + char;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                })(numberFormat = formatting.numberFormat || (formatting.numberFormat = {}));\r\n                /** DateTimeScaleFormatInfo is used to calculate and keep the Date formats used for different units supported by the DateTimeScaleModel */\r\n                var DateTimeScaleFormatInfo = (function () {\r\n                    // Constructor\r\n                    /**\r\n                     * Creates new instance of the DateTimeScaleFormatInfo class.\r\n                     * @param culture - culture which calendar info is going to be used to derive the formats.\r\n                     */\r\n                    function DateTimeScaleFormatInfo(culture) {\r\n                        var calendar = culture.calendar;\r\n                        var patterns = calendar.patterns;\r\n                        var monthAbbreviations = calendar["months"]["namesAbbr"];\r\n                        var cultureHasMonthAbbr = monthAbbreviations && monthAbbreviations[0];\r\n                        var yearMonthPattern = patterns["Y"];\r\n                        var monthDayPattern = patterns["M"];\r\n                        var fullPattern = patterns["f"];\r\n                        var longTimePattern = patterns["T"];\r\n                        var shortTimePattern = patterns["t"];\r\n                        var separator = fullPattern.indexOf(",") > -1 ? ", " : " ";\r\n                        var hasYearSymbol = yearMonthPattern.indexOf("yyyy\'") === 0 && yearMonthPattern.length > 6 && yearMonthPattern[6] === "\\\'";\r\n                        this.YearPattern = hasYearSymbol ? yearMonthPattern.substr(0, 7) : "yyyy";\r\n                        var yearPos = fullPattern.indexOf("yy");\r\n                        var monthPos = fullPattern.indexOf("MMMM");\r\n                        this.MonthPattern = cultureHasMonthAbbr && monthPos > -1 ? (yearPos > monthPos ? "MMM yyyy" : "yyyy MMM") : yearMonthPattern;\r\n                        this.DayPattern = cultureHasMonthAbbr ? monthDayPattern.replace("MMMM", "MMM") : monthDayPattern;\r\n                        var minutePos = fullPattern.indexOf("mm");\r\n                        var pmPos = fullPattern.indexOf("tt");\r\n                        var shortHourPattern = pmPos > -1 ? shortTimePattern.replace(":mm ", "") : shortTimePattern;\r\n                        this.HourPattern = yearPos < minutePos ? this.DayPattern + separator + shortHourPattern : shortHourPattern + separator + this.DayPattern;\r\n                        this.MinutePattern = shortTimePattern;\r\n                        this.SecondPattern = longTimePattern;\r\n                        this.MillisecondPattern = longTimePattern.replace("ss", "ss.fff");\r\n                        // Special cases\r\n                        switch (culture.name) {\r\n                            case "fi-FI":\r\n                                this.DayPattern = this.DayPattern.replace("\'ta\'", ""); // Fix for finish \'ta\' suffix for month names.\r\n                                this.HourPattern = this.HourPattern.replace("\'ta\'", "");\r\n                                break;\r\n                        }\r\n                    }\r\n                    // Methods\r\n                    /**\r\n                     * Returns the format string of the provided DateTimeUnit.\r\n                     * @param unit - date or time unit\r\n                     */\r\n                    DateTimeScaleFormatInfo.prototype.getFormatString = function (unit) {\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                return this.YearPattern;\r\n                            case DateTimeUnit.Month:\r\n                                return this.MonthPattern;\r\n                            case DateTimeUnit.Week:\r\n                            case DateTimeUnit.Day:\r\n                                return this.DayPattern;\r\n                            case DateTimeUnit.Hour:\r\n                                return this.HourPattern;\r\n                            case DateTimeUnit.Minute:\r\n                                return this.MinutePattern;\r\n                            case DateTimeUnit.Second:\r\n                                return this.SecondPattern;\r\n                            case DateTimeUnit.Millisecond:\r\n                                return this.MillisecondPattern;\r\n                        }\r\n                    };\r\n                    return DateTimeScaleFormatInfo;\r\n                }());\r\n                formatting.formattingService = new FormattingService();\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /** The system used to determine display units used during formatting */\r\n                var DisplayUnitSystemType;\r\n                (function (DisplayUnitSystemType) {\r\n                    /** Default display unit system, which saves space by using units such as K, M, bn with PowerView rules for when to pick a unit. Suitable for chart axes. */\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["Default"] = 0] = "Default";\r\n                    /** A verbose display unit system that will only respect the formatting defined in the model. Suitable for explore mode single-value cards. */\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["Verbose"] = 1] = "Verbose";\r\n                    /**\r\n                     * A display unit system that uses units such as K, M, bn if we have at least one of those units (e.g. 0.9M is not valid as it\'s less than 1 million).\r\n                     * Suitable for dashboard tile cards\r\n                     */\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["WholeUnits"] = 2] = "WholeUnits";\r\n                    /**A display unit system that also contains Auto and None units for data labels*/\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["DataLabels"] = 3] = "DataLabels";\r\n                })(DisplayUnitSystemType = formatting.DisplayUnitSystemType || (formatting.DisplayUnitSystemType = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var NumberFormat = powerbi.extensibility.utils.formatting.numberFormat;\r\n                var formattingService = powerbi.extensibility.utils.formatting.formattingService;\r\n                // Constants\r\n                var maxExponent = 24;\r\n                var defaultScientificBigNumbersBoundary = 1E15;\r\n                var scientificSmallNumbersBoundary = 1E-4;\r\n                var PERCENTAGE_FORMAT = "%";\r\n                var SCIENTIFIC_FORMAT = "E+0";\r\n                var DEFAULT_SCIENTIFIC_FORMAT = "0.##" + SCIENTIFIC_FORMAT;\r\n                // Regular expressions\r\n                /**\r\n                 * This regex looks for strings that match one of the following conditions:\r\n                 *   - Optionally contain "0", "#", followed by a period, followed by at least one "0" or "#" (Ex. ###,000.###)\r\n                 *   - Contains at least one of "0", "#", or "," (Ex. ###,000)\r\n                 *   - Contain a "g" (indicates to use the general .NET numeric format string)\r\n                 * The entire string (start to end) must match, and the match is not case-sensitive.\r\n                 */\r\n                var SUPPORTED_SCIENTIFIC_FORMATS = /^([0\\#,]*\\.[0\\#]+|[0\\#,]+|g)$/i;\r\n                var DisplayUnit = (function () {\r\n                    function DisplayUnit() {\r\n                    }\r\n                    // Methods\r\n                    DisplayUnit.prototype.project = function (value) {\r\n                        if (this.value) {\r\n                            return Double.removeDecimalNoise(value / this.value);\r\n                        }\r\n                        else {\r\n                            return value;\r\n                        }\r\n                    };\r\n                    DisplayUnit.prototype.reverseProject = function (value) {\r\n                        if (this.value) {\r\n                            return value * this.value;\r\n                        }\r\n                        else {\r\n                            return value;\r\n                        }\r\n                    };\r\n                    DisplayUnit.prototype.isApplicableTo = function (value) {\r\n                        value = Math.abs(value);\r\n                        var precision = Double.getPrecision(value, 3);\r\n                        return Double.greaterOrEqualWithPrecision(value, this.applicableRangeMin, precision) && Double.lessWithPrecision(value, this.applicableRangeMax, precision);\r\n                    };\r\n                    DisplayUnit.prototype.isScaling = function () {\r\n                        return this.value > 1;\r\n                    };\r\n                    return DisplayUnit;\r\n                }());\r\n                formatting.DisplayUnit = DisplayUnit;\r\n                var DisplayUnitSystem = (function () {\r\n                    // Constructor\r\n                    function DisplayUnitSystem(units) {\r\n                        this.units = units ? units : [];\r\n                    }\r\n                    Object.defineProperty(DisplayUnitSystem.prototype, "title", {\r\n                        // Properties\r\n                        get: function () {\r\n                            return this.displayUnit ? this.displayUnit.title : undefined;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    // Methods\r\n                    DisplayUnitSystem.prototype.update = function (value) {\r\n                        if (value === undefined)\r\n                            return;\r\n                        this.unitBaseValue = value;\r\n                        this.displayUnit = this.findApplicableDisplayUnit(value);\r\n                    };\r\n                    DisplayUnitSystem.prototype.findApplicableDisplayUnit = function (value) {\r\n                        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {\r\n                            var unit = _a[_i];\r\n                            if (unit.isApplicableTo(value))\r\n                                return unit;\r\n                        }\r\n                        return undefined;\r\n                    };\r\n                    DisplayUnitSystem.prototype.format = function (value, format, decimals, trailingZeros, cultureSelector) {\r\n                        decimals = this.getNumberOfDecimalsForFormatting(format, decimals);\r\n                        var nonScientificFormat = "";\r\n                        if (this.isFormatSupported(format)\r\n                            && !this.hasScientitifcFormat(format)\r\n                            && this.isScalingUnit()\r\n                            && this.shouldRespectScalingUnit(format)) {\r\n                            value = this.displayUnit.project(value);\r\n                            nonScientificFormat = this.displayUnit.labelFormat;\r\n                        }\r\n                        return this.formatHelper({\r\n                            value: value,\r\n                            nonScientificFormat: nonScientificFormat,\r\n                            format: format,\r\n                            decimals: decimals,\r\n                            trailingZeros: trailingZeros,\r\n                            cultureSelector: cultureSelector\r\n                        });\r\n                    };\r\n                    DisplayUnitSystem.prototype.isFormatSupported = function (format) {\r\n                        return !DisplayUnitSystem.UNSUPPORTED_FORMATS.test(format);\r\n                    };\r\n                    DisplayUnitSystem.prototype.isPercentageFormat = function (format) {\r\n                        return format && format.indexOf(PERCENTAGE_FORMAT) >= 0;\r\n                    };\r\n                    DisplayUnitSystem.prototype.shouldRespectScalingUnit = function (format) {\r\n                        return true;\r\n                    };\r\n                    DisplayUnitSystem.prototype.getNumberOfDecimalsForFormatting = function (format, decimals) {\r\n                        return decimals;\r\n                    };\r\n                    DisplayUnitSystem.prototype.isScalingUnit = function () {\r\n                        return this.displayUnit && this.displayUnit.isScaling();\r\n                    };\r\n                    DisplayUnitSystem.prototype.formatHelper = function (options) {\r\n                        var value = options.value, nonScientificFormat = options.nonScientificFormat, cultureSelector = options.cultureSelector, format = options.format, decimals = options.decimals, trailingZeros = options.trailingZeros;\r\n                        // If the format is "general" and we want to override the number of decimal places then use the default numeric format string.\r\n                        if ((format === "g" || format === "G") && decimals != null) {\r\n                            format = "#,0.00";\r\n                        }\r\n                        format = NumberFormat.addDecimalsToFormat(format, decimals, trailingZeros);\r\n                        if (format && !formattingService.isStandardNumberFormat(format))\r\n                            return formattingService.formatNumberWithCustomOverride(value, format, nonScientificFormat, cultureSelector);\r\n                        if (!format) {\r\n                            format = "G";\r\n                        }\r\n                        if (!nonScientificFormat) {\r\n                            nonScientificFormat = "{0}";\r\n                        }\r\n                        var text = formattingService.formatValue(value, format, cultureSelector);\r\n                        return formattingService.format(nonScientificFormat, [text]);\r\n                    };\r\n                    /** Formats a single value by choosing an appropriate base for the DisplayUnitSystem before formatting. */\r\n                    DisplayUnitSystem.prototype.formatSingleValue = function (value, format, decimals, trailingZeros, cultureSelector) {\r\n                        // Change unit base to a value appropriate for this value\r\n                        this.update(this.shouldUseValuePrecision(value) ? Double.getPrecision(value, 8) : value);\r\n                        return this.format(value, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    DisplayUnitSystem.prototype.shouldUseValuePrecision = function (value) {\r\n                        if (this.units.length === 0)\r\n                            return true;\r\n                        // Check if the value is big enough to have a valid unit by checking against the smallest unit (that it\'s value bigger than 1).\r\n                        var applicableRangeMin = 0;\r\n                        for (var i = 0; i < this.units.length; i++) {\r\n                            if (this.units[i].isScaling()) {\r\n                                applicableRangeMin = this.units[i].applicableRangeMin;\r\n                                break;\r\n                            }\r\n                        }\r\n                        return Math.abs(value) < applicableRangeMin;\r\n                    };\r\n                    DisplayUnitSystem.prototype.isScientific = function (value) {\r\n                        return value < -defaultScientificBigNumbersBoundary || value > defaultScientificBigNumbersBoundary ||\r\n                            (-scientificSmallNumbersBoundary < value && value < scientificSmallNumbersBoundary && value !== 0);\r\n                    };\r\n                    DisplayUnitSystem.prototype.hasScientitifcFormat = function (format) {\r\n                        return format && format.toUpperCase().indexOf("E") !== -1;\r\n                    };\r\n                    DisplayUnitSystem.prototype.supportsScientificFormat = function (format) {\r\n                        if (format)\r\n                            return SUPPORTED_SCIENTIFIC_FORMATS.test(format);\r\n                        return true;\r\n                    };\r\n                    DisplayUnitSystem.prototype.shouldFallbackToScientific = function (value, format) {\r\n                        return !this.hasScientitifcFormat(format)\r\n                            && this.supportsScientificFormat(format)\r\n                            && this.isScientific(value);\r\n                    };\r\n                    DisplayUnitSystem.prototype.getScientificFormat = function (data, format, decimals, trailingZeros) {\r\n                        // Use scientific format outside of the range\r\n                        if (this.isFormatSupported(format) && this.shouldFallbackToScientific(data, format)) {\r\n                            var numericFormat = NumberFormat.getNumericFormat(data, format);\r\n                            if (decimals)\r\n                                numericFormat = NumberFormat.addDecimalsToFormat(numericFormat ? numericFormat : "0", Math.abs(decimals), trailingZeros);\r\n                            if (numericFormat)\r\n                                return numericFormat + SCIENTIFIC_FORMAT;\r\n                            else\r\n                                return DEFAULT_SCIENTIFIC_FORMAT;\r\n                        }\r\n                        return format;\r\n                    };\r\n                    return DisplayUnitSystem;\r\n                }());\r\n                DisplayUnitSystem.UNSUPPORTED_FORMATS = /^(p\\d*)|(e\\d*)$/i;\r\n                formatting.DisplayUnitSystem = DisplayUnitSystem;\r\n                /** Provides a unit system that is defined by formatting in the model, and is suitable for visualizations shown in single number visuals in explore mode. */\r\n                var NoDisplayUnitSystem = (function (_super) {\r\n                    __extends(NoDisplayUnitSystem, _super);\r\n                    // Constructor\r\n                    function NoDisplayUnitSystem() {\r\n                        return _super.call(this, []) || this;\r\n                    }\r\n                    return NoDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                formatting.NoDisplayUnitSystem = NoDisplayUnitSystem;\r\n                /** Provides a unit system that creates a more concise format for displaying values. This is suitable for most of the cases where\r\n                    we are showing values (chart axes) and as such it is the default unit system. */\r\n                var DefaultDisplayUnitSystem = (function (_super) {\r\n                    __extends(DefaultDisplayUnitSystem, _super);\r\n                    // Constructor\r\n                    function DefaultDisplayUnitSystem(unitLookup) {\r\n                        return _super.call(this, DefaultDisplayUnitSystem.getUnits(unitLookup)) || this;\r\n                    }\r\n                    // Methods\r\n                    DefaultDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\r\n                        format = this.getScientificFormat(data, format, decimals, trailingZeros);\r\n                        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    DefaultDisplayUnitSystem.reset = function () {\r\n                        DefaultDisplayUnitSystem.units = null;\r\n                    };\r\n                    DefaultDisplayUnitSystem.getUnits = function (unitLookup) {\r\n                        if (!DefaultDisplayUnitSystem.units) {\r\n                            DefaultDisplayUnitSystem.units = createDisplayUnits(unitLookup, function (value, previousUnitValue, min) {\r\n                                // When dealing with millions/billions/trillions we need to switch to millions earlier: for example instead of showing 100K 200K 300K we should show 0.1M 0.2M 0.3M etc\r\n                                if (value - previousUnitValue >= 1000) {\r\n                                    return value / 10;\r\n                                }\r\n                                return min;\r\n                            });\r\n                            // Ensure last unit has max of infinity\r\n                            DefaultDisplayUnitSystem.units[DefaultDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\r\n                        }\r\n                        return DefaultDisplayUnitSystem.units;\r\n                    };\r\n                    return DefaultDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                formatting.DefaultDisplayUnitSystem = DefaultDisplayUnitSystem;\r\n                /** Provides a unit system that creates a more concise format for displaying values, but only allows showing a unit if we have at least\r\n                    one of those units (e.g. 0.9M is not allowed since it\'s less than 1 million). This is suitable for cases such as dashboard tiles\r\n                    where we have restricted space but do not want to show partial units. */\r\n                var WholeUnitsDisplayUnitSystem = (function (_super) {\r\n                    __extends(WholeUnitsDisplayUnitSystem, _super);\r\n                    // Constructor\r\n                    function WholeUnitsDisplayUnitSystem(unitLookup) {\r\n                        return _super.call(this, WholeUnitsDisplayUnitSystem.getUnits(unitLookup)) || this;\r\n                    }\r\n                    WholeUnitsDisplayUnitSystem.reset = function () {\r\n                        WholeUnitsDisplayUnitSystem.units = null;\r\n                    };\r\n                    WholeUnitsDisplayUnitSystem.getUnits = function (unitLookup) {\r\n                        if (!WholeUnitsDisplayUnitSystem.units) {\r\n                            WholeUnitsDisplayUnitSystem.units = createDisplayUnits(unitLookup);\r\n                            // Ensure last unit has max of infinity\r\n                            WholeUnitsDisplayUnitSystem.units[WholeUnitsDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\r\n                        }\r\n                        return WholeUnitsDisplayUnitSystem.units;\r\n                    };\r\n                    WholeUnitsDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\r\n                        format = this.getScientificFormat(data, format, decimals, trailingZeros);\r\n                        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    return WholeUnitsDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                formatting.WholeUnitsDisplayUnitSystem = WholeUnitsDisplayUnitSystem;\r\n                var DataLabelsDisplayUnitSystem = (function (_super) {\r\n                    __extends(DataLabelsDisplayUnitSystem, _super);\r\n                    function DataLabelsDisplayUnitSystem(unitLookup) {\r\n                        return _super.call(this, DataLabelsDisplayUnitSystem.getUnits(unitLookup)) || this;\r\n                    }\r\n                    DataLabelsDisplayUnitSystem.prototype.isFormatSupported = function (format) {\r\n                        return !DataLabelsDisplayUnitSystem.UNSUPPORTED_FORMATS.test(format);\r\n                    };\r\n                    DataLabelsDisplayUnitSystem.getUnits = function (unitLookup) {\r\n                        if (!DataLabelsDisplayUnitSystem.units) {\r\n                            var units = [];\r\n                            var adjustMinBasedOnPreviousUnit = function (value, previousUnitValue, min) {\r\n                                // Never returns true, we are always ignoring\r\n                                // We do not early switch (e.g. 100K instead of 0.1M)\r\n                                // Intended? If so, remove this function, otherwise, remove if statement\r\n                                if (value === -1)\r\n                                    if (value - previousUnitValue >= 1000) {\r\n                                        return value / 10;\r\n                                    }\r\n                                return min;\r\n                            };\r\n                            // Add Auto & None\r\n                            var names = unitLookup(-1);\r\n                            addUnitIfNonEmpty(units, DataLabelsDisplayUnitSystem.AUTO_DISPLAYUNIT_VALUE, names.title, names.format, adjustMinBasedOnPreviousUnit);\r\n                            names = unitLookup(0);\r\n                            addUnitIfNonEmpty(units, DataLabelsDisplayUnitSystem.NONE_DISPLAYUNIT_VALUE, names.title, names.format, adjustMinBasedOnPreviousUnit);\r\n                            // Add normal units\r\n                            DataLabelsDisplayUnitSystem.units = units.concat(createDisplayUnits(unitLookup, adjustMinBasedOnPreviousUnit));\r\n                            // Ensure last unit has max of infinity\r\n                            DataLabelsDisplayUnitSystem.units[DataLabelsDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\r\n                        }\r\n                        return DataLabelsDisplayUnitSystem.units;\r\n                    };\r\n                    DataLabelsDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\r\n                        format = this.getScientificFormat(data, format, decimals, trailingZeros);\r\n                        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    return DataLabelsDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                // Constants\r\n                DataLabelsDisplayUnitSystem.AUTO_DISPLAYUNIT_VALUE = 0;\r\n                DataLabelsDisplayUnitSystem.NONE_DISPLAYUNIT_VALUE = 1;\r\n                DataLabelsDisplayUnitSystem.UNSUPPORTED_FORMATS = /^(e\\d*)$/i;\r\n                formatting.DataLabelsDisplayUnitSystem = DataLabelsDisplayUnitSystem;\r\n                function createDisplayUnits(unitLookup, adjustMinBasedOnPreviousUnit) {\r\n                    var units = [];\r\n                    for (var i = 3; i < maxExponent; i++) {\r\n                        var names = unitLookup(i);\r\n                        if (names)\r\n                            addUnitIfNonEmpty(units, Double.pow10(i), names.title, names.format, adjustMinBasedOnPreviousUnit);\r\n                    }\r\n                    return units;\r\n                }\r\n                function addUnitIfNonEmpty(units, value, title, labelFormat, adjustMinBasedOnPreviousUnit) {\r\n                    if (title || labelFormat) {\r\n                        var min = value;\r\n                        if (units.length > 0) {\r\n                            var previousUnit = units[units.length - 1];\r\n                            if (adjustMinBasedOnPreviousUnit)\r\n                                min = adjustMinBasedOnPreviousUnit(value, previousUnit.value, min);\r\n                            previousUnit.applicableRangeMax = min;\r\n                        }\r\n                        var unit = new DisplayUnit();\r\n                        unit.value = value;\r\n                        unit.applicableRangeMin = min;\r\n                        unit.applicableRangeMax = min * 1000;\r\n                        unit.title = title;\r\n                        unit.labelFormat = labelFormat;\r\n                        units.push(unit);\r\n                    }\r\n                }\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\n/**\r\n * Contains functions/constants to aid in text manupilation.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var textUtil;\r\n                (function (textUtil) {\r\n                    /**\r\n                     * Remove breaking spaces from given string and replace by none breaking space (&nbsp).\r\n                     */\r\n                    function removeBreakingSpaces(str) {\r\n                        return str.toString().replace(new RegExp(" ", "g"), "&nbsp");\r\n                    }\r\n                    textUtil.removeBreakingSpaces = removeBreakingSpaces;\r\n                    /**\r\n                     * Remove ellipses from a given string\r\n                     */\r\n                    function removeEllipses(str) {\r\n                        return str.replace(/(\u2026)|(\\.\\.\\.)/g, "");\r\n                    }\r\n                    textUtil.removeEllipses = removeEllipses;\r\n                    /**\r\n                    * Replace every whitespace (0x20) with Non-Breaking Space (0xA0)\r\n                     * @param {string} txt String to replace White spaces\r\n                     * @returns Text after replcing white spaces\r\n                     */\r\n                    function replaceSpaceWithNBSP(txt) {\r\n                        if (txt != null) {\r\n                            return txt.replace(/ /g, "\\xA0");\r\n                        }\r\n                    }\r\n                    textUtil.replaceSpaceWithNBSP = replaceSpaceWithNBSP;\r\n                })(textUtil = formatting.textUtil || (formatting.textUtil = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var ValueType = powerbi.extensibility.utils.type.ValueType;\r\n                var PrimitiveType = powerbi.extensibility.utils.type.PrimitiveType;\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                // powerbi.extensibility.utils.formatting\r\n                var stringExtensions = powerbi.extensibility.utils.formatting.stringExtensions;\r\n                var DisplayUnitSystemType = powerbi.extensibility.utils.formatting.DisplayUnitSystemType;\r\n                var DefaultDisplayUnitSystem = powerbi.extensibility.utils.formatting.DefaultDisplayUnitSystem;\r\n                var NumberFormat = powerbi.extensibility.utils.formatting.numberFormat;\r\n                var WholeUnitsDisplayUnitSystem = powerbi.extensibility.utils.formatting.WholeUnitsDisplayUnitSystem;\r\n                var DateTimeSequence = powerbi.extensibility.utils.formatting.DateTimeSequence;\r\n                var NoDisplayUnitSystem = powerbi.extensibility.utils.formatting.NoDisplayUnitSystem;\r\n                var DataLabelsDisplayUnitSystem = powerbi.extensibility.utils.formatting.DataLabelsDisplayUnitSystem;\r\n                var formattingService = powerbi.extensibility.utils.formatting.formattingService;\r\n                // powerbi.extensibility.utils.dataview\r\n                var DataViewObjects = powerbi.extensibility.utils.dataview.DataViewObjects;\r\n                var valueFormatter;\r\n                (function (valueFormatter) {\r\n                    var StringExtensions = stringExtensions;\r\n                    var BeautifiedFormat = {\r\n                        "0.00 %;-0.00 %;0.00 %": "Percentage",\r\n                        "0.0 %;-0.0 %;0.0 %": "Percentage1",\r\n                    };\r\n                    valueFormatter.DefaultIntegerFormat = "g";\r\n                    valueFormatter.DefaultNumericFormat = "#,0.00";\r\n                    valueFormatter.DefaultDateFormat = "d";\r\n                    var defaultLocalizedStrings = {\r\n                        "NullValue": "(Blank)",\r\n                        "BooleanTrue": "True",\r\n                        "BooleanFalse": "False",\r\n                        "NaNValue": "NaN",\r\n                        "InfinityValue": "+Infinity",\r\n                        "NegativeInfinityValue": "-Infinity",\r\n                        "RestatementComma": "{0}, {1}",\r\n                        "RestatementCompoundAnd": "{0} and {1}",\r\n                        "RestatementCompoundOr": "{0} or {1}",\r\n                        "DisplayUnitSystem_EAuto_Title": "Auto",\r\n                        "DisplayUnitSystem_E0_Title": "None",\r\n                        "DisplayUnitSystem_E3_LabelFormat": "{0}K",\r\n                        "DisplayUnitSystem_E3_Title": "Thousands",\r\n                        "DisplayUnitSystem_E6_LabelFormat": "{0}M",\r\n                        "DisplayUnitSystem_E6_Title": "Millions",\r\n                        "DisplayUnitSystem_E9_LabelFormat": "{0}bn",\r\n                        "DisplayUnitSystem_E9_Title": "Billions",\r\n                        "DisplayUnitSystem_E12_LabelFormat": "{0}T",\r\n                        "DisplayUnitSystem_E12_Title": "Trillions",\r\n                        "Percentage": "#,0.##%",\r\n                        "Percentage1": "#,0.#%",\r\n                        "TableTotalLabel": "Total",\r\n                        "Tooltip_HighlightedValueDisplayName": "Highlighted",\r\n                        "Funnel_PercentOfFirst": "Percent of first",\r\n                        "Funnel_PercentOfPrevious": "Percent of previous",\r\n                        "Funnel_PercentOfFirst_Highlight": "Percent of first (highlighted)",\r\n                        "Funnel_PercentOfPrevious_Highlight": "Percent of previous (highlighted)",\r\n                        // Geotagging strings\r\n                        "GeotaggingString_Continent": "continent",\r\n                        "GeotaggingString_Continents": "continents",\r\n                        "GeotaggingString_Country": "country",\r\n                        "GeotaggingString_Countries": "countries",\r\n                        "GeotaggingString_State": "state",\r\n                        "GeotaggingString_States": "states",\r\n                        "GeotaggingString_City": "city",\r\n                        "GeotaggingString_Cities": "cities",\r\n                        "GeotaggingString_Town": "town",\r\n                        "GeotaggingString_Towns": "towns",\r\n                        "GeotaggingString_Province": "province",\r\n                        "GeotaggingString_Provinces": "provinces",\r\n                        "GeotaggingString_County": "county",\r\n                        "GeotaggingString_Counties": "counties",\r\n                        "GeotaggingString_Village": "village",\r\n                        "GeotaggingString_Villages": "villages",\r\n                        "GeotaggingString_Post": "post",\r\n                        "GeotaggingString_Zip": "zip",\r\n                        "GeotaggingString_Code": "code",\r\n                        "GeotaggingString_Place": "place",\r\n                        "GeotaggingString_Places": "places",\r\n                        "GeotaggingString_Address": "address",\r\n                        "GeotaggingString_Addresses": "addresses",\r\n                        "GeotaggingString_Street": "street",\r\n                        "GeotaggingString_Streets": "streets",\r\n                        "GeotaggingString_Longitude": "longitude",\r\n                        "GeotaggingString_Longitude_Short": "lon",\r\n                        "GeotaggingString_Longitude_Short2": "long",\r\n                        "GeotaggingString_Latitude": "latitude",\r\n                        "GeotaggingString_Latitude_Short": "lat",\r\n                        "GeotaggingString_PostalCode": "postal code",\r\n                        "GeotaggingString_PostalCodes": "postal codes",\r\n                        "GeotaggingString_ZipCode": "zip code",\r\n                        "GeotaggingString_ZipCodes": "zip codes",\r\n                        "GeotaggingString_Territory": "territory",\r\n                        "GeotaggingString_Territories": "territories",\r\n                    };\r\n                    function beautify(format) {\r\n                        var key = BeautifiedFormat[format];\r\n                        if (key)\r\n                            return defaultLocalizedStrings[key] || format;\r\n                        return format;\r\n                    }\r\n                    function describeUnit(exponent) {\r\n                        var exponentLookup = (exponent === -1) ? "Auto" : exponent.toString();\r\n                        var title = defaultLocalizedStrings["DisplayUnitSystem_E" + exponentLookup + "_Title"];\r\n                        var format = (exponent <= 0) ? "{0}" : defaultLocalizedStrings["DisplayUnitSystem_E" + exponentLookup + "_LabelFormat"];\r\n                        if (title || format)\r\n                            return { title: title, format: format };\r\n                    }\r\n                    function getLocalizedString(stringId) {\r\n                        return defaultLocalizedStrings[stringId];\r\n                    }\r\n                    valueFormatter.getLocalizedString = getLocalizedString;\r\n                    // NOTE: Define default locale options, but these can be overriden by setLocaleOptions.\r\n                    var localizationOptions = {\r\n                        nullValue: defaultLocalizedStrings["NullValue"],\r\n                        trueValue: defaultLocalizedStrings["BooleanTrue"],\r\n                        falseValue: defaultLocalizedStrings["BooleanFalse"],\r\n                        NaN: defaultLocalizedStrings["NaNValue"],\r\n                        infinity: defaultLocalizedStrings["InfinityValue"],\r\n                        negativeInfinity: defaultLocalizedStrings["NegativeInfinityValue"],\r\n                        beautify: function (format) { return beautify(format); },\r\n                        describe: function (exponent) { return describeUnit(exponent); },\r\n                        restatementComma: defaultLocalizedStrings["RestatementComma"],\r\n                        restatementCompoundAnd: defaultLocalizedStrings["RestatementCompoundAnd"],\r\n                        restatementCompoundOr: defaultLocalizedStrings["RestatementCompoundOr"],\r\n                    };\r\n                    var MaxScaledDecimalPlaces = 2;\r\n                    var MaxValueForDisplayUnitRounding = 1000;\r\n                    var MinIntegerValueForDisplayUnits = 10000;\r\n                    var MinPrecisionForDisplayUnits = 2;\r\n                    var DateTimeMetadataColumn = {\r\n                        displayName: "",\r\n                        type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.DateTime),\r\n                    };\r\n                    function getFormatMetadata(format) {\r\n                        return NumberFormat.getCustomFormatMetadata(format);\r\n                    }\r\n                    valueFormatter.getFormatMetadata = getFormatMetadata;\r\n                    function setLocaleOptions(options) {\r\n                        localizationOptions = options;\r\n                        DefaultDisplayUnitSystem.reset();\r\n                        WholeUnitsDisplayUnitSystem.reset();\r\n                    }\r\n                    valueFormatter.setLocaleOptions = setLocaleOptions;\r\n                    function createDefaultFormatter(formatString, allowFormatBeautification, cultureSelector) {\r\n                        var formatBeautified = allowFormatBeautification\r\n                            ? localizationOptions.beautify(formatString)\r\n                            : formatString;\r\n                        return {\r\n                            format: function (value) {\r\n                                if (value == null) {\r\n                                    return localizationOptions.nullValue;\r\n                                }\r\n                                return formatCore({\r\n                                    value: value,\r\n                                    cultureSelector: cultureSelector,\r\n                                    format: formatBeautified\r\n                                });\r\n                            }\r\n                        };\r\n                    }\r\n                    valueFormatter.createDefaultFormatter = createDefaultFormatter;\r\n                    /** Creates an IValueFormatter to be used for a range of values. */\r\n                    function create(options) {\r\n                        var format = !!options.allowFormatBeautification\r\n                            ? localizationOptions.beautify(options.format)\r\n                            : options.format;\r\n                        var cultureSelector = options.cultureSelector;\r\n                        if (shouldUseNumericDisplayUnits(options)) {\r\n                            var displayUnitSystem_1 = createDisplayUnitSystem(options.displayUnitSystemType);\r\n                            var singleValueFormattingMode_1 = !!options.formatSingleValues;\r\n                            displayUnitSystem_1.update(Math.max(Math.abs(options.value || 0), Math.abs(options.value2 || 0)));\r\n                            var forcePrecision_1 = options.precision != null;\r\n                            var decimals_1;\r\n                            if (forcePrecision_1)\r\n                                decimals_1 = -options.precision;\r\n                            else if (displayUnitSystem_1.displayUnit && displayUnitSystem_1.displayUnit.value > 1)\r\n                                decimals_1 = -MaxScaledDecimalPlaces;\r\n                            return {\r\n                                format: function (value) {\r\n                                    var formattedValue = getStringFormat(value, true /*nullsAreBlank*/);\r\n                                    if (!StringExtensions.isNullOrUndefinedOrWhiteSpaceString(formattedValue)) {\r\n                                        return formattedValue;\r\n                                    }\r\n                                    // Round to Double.DEFAULT_PRECISION\r\n                                    if (value\r\n                                        && !displayUnitSystem_1.isScalingUnit()\r\n                                        && Math.abs(value) < MaxValueForDisplayUnitRounding\r\n                                        && !forcePrecision_1) {\r\n                                        value = Double.roundToPrecision(value);\r\n                                    }\r\n                                    return singleValueFormattingMode_1\r\n                                        ? displayUnitSystem_1.formatSingleValue(value, format, decimals_1, forcePrecision_1, cultureSelector)\r\n                                        : displayUnitSystem_1.format(value, format, decimals_1, forcePrecision_1, cultureSelector);\r\n                                },\r\n                                displayUnit: displayUnitSystem_1.displayUnit,\r\n                                options: options\r\n                            };\r\n                        }\r\n                        if (shouldUseDateUnits(options.value, options.value2, options.tickCount)) {\r\n                            var unit_1 = DateTimeSequence.getIntervalUnit(options.value /* minDate */, options.value2 /* maxDate */, options.tickCount);\r\n                            return {\r\n                                format: function (value) {\r\n                                    if (value == null) {\r\n                                        return localizationOptions.nullValue;\r\n                                    }\r\n                                    var formatString = formattingService.dateFormatString(unit_1);\r\n                                    return formatCore({\r\n                                        value: value,\r\n                                        cultureSelector: cultureSelector,\r\n                                        format: formatString,\r\n                                    });\r\n                                },\r\n                                options: options\r\n                            };\r\n                        }\r\n                        return createDefaultFormatter(format, false, cultureSelector);\r\n                    }\r\n                    valueFormatter.create = create;\r\n                    function format(value, format, allowFormatBeautification, cultureSelector) {\r\n                        if (value == null) {\r\n                            return localizationOptions.nullValue;\r\n                        }\r\n                        var formatString = !!allowFormatBeautification\r\n                            ? localizationOptions.beautify(format)\r\n                            : format;\r\n                        return formatCore({\r\n                            value: value,\r\n                            cultureSelector: cultureSelector,\r\n                            format: formatString\r\n                        });\r\n                    }\r\n                    valueFormatter.format = format;\r\n                    /**\r\n                     * Value formatting function to handle variant measures.\r\n                     * For a Date/Time value within a non-date/time field, it\'s formatted with the default date/time formatString instead of as a number\r\n                     * @param {any} value Value to be formatted\r\n                     * @param {DataViewMetadataColumn} column Field which the value belongs to\r\n                     * @param {DataViewObjectPropertyIdentifier} formatStringProp formatString Property ID\r\n                     * @param {boolean} nullsAreBlank? Whether to show "(Blank)" instead of empty string for null values\r\n                     * @returns Formatted value\r\n                     */\r\n                    function formatVariantMeasureValue(value, column, formatStringProp, nullsAreBlank, cultureSelector) {\r\n                        // If column type is not datetime, but the value is of time datetime,\r\n                        // then use the default date format string\r\n                        if (!(column && column.type && column.type.dateTime) && value instanceof Date) {\r\n                            var valueFormat = getFormatString(DateTimeMetadataColumn, null, false);\r\n                            return formatCore({\r\n                                value: value,\r\n                                nullsAreBlank: nullsAreBlank,\r\n                                cultureSelector: cultureSelector,\r\n                                format: valueFormat\r\n                            });\r\n                        }\r\n                        else {\r\n                            var valueFormat = getFormatString(column, formatStringProp);\r\n                            return formatCore({\r\n                                value: value,\r\n                                nullsAreBlank: nullsAreBlank,\r\n                                cultureSelector: cultureSelector,\r\n                                format: valueFormat\r\n                            });\r\n                        }\r\n                    }\r\n                    valueFormatter.formatVariantMeasureValue = formatVariantMeasureValue;\r\n                    function createDisplayUnitSystem(displayUnitSystemType) {\r\n                        if (displayUnitSystemType == null)\r\n                            return new DefaultDisplayUnitSystem(localizationOptions.describe);\r\n                        switch (displayUnitSystemType) {\r\n                            case DisplayUnitSystemType.Default:\r\n                                return new DefaultDisplayUnitSystem(localizationOptions.describe);\r\n                            case DisplayUnitSystemType.WholeUnits:\r\n                                return new WholeUnitsDisplayUnitSystem(localizationOptions.describe);\r\n                            case DisplayUnitSystemType.Verbose:\r\n                                return new NoDisplayUnitSystem();\r\n                            case DisplayUnitSystemType.DataLabels:\r\n                                return new DataLabelsDisplayUnitSystem(localizationOptions.describe);\r\n                            default:\r\n                                return new DefaultDisplayUnitSystem(localizationOptions.describe);\r\n                        }\r\n                    }\r\n                    valueFormatter.createDisplayUnitSystem = createDisplayUnitSystem;\r\n                    function shouldUseNumericDisplayUnits(options) {\r\n                        var value = options.value;\r\n                        var value2 = options.value2;\r\n                        var format = options.format;\r\n                        // For singleValue visuals like card, gauge we don\'t want to roundoff data to the nearest thousands so format the whole number / integers below 10K to not use display units\r\n                        if (options.formatSingleValues && format) {\r\n                            if (Math.abs(value) < MinIntegerValueForDisplayUnits) {\r\n                                var isCustomFormat = !NumberFormat.isStandardFormat(format);\r\n                                if (isCustomFormat) {\r\n                                    var precision = NumberFormat.getCustomFormatMetadata(format, true /*calculatePrecision*/).precision;\r\n                                    if (precision < MinPrecisionForDisplayUnits)\r\n                                        return false;\r\n                                }\r\n                                else if (Double.isInteger(value))\r\n                                    return false;\r\n                            }\r\n                        }\r\n                        if ((typeof value === "number") || (typeof value2 === "number")) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    function shouldUseDateUnits(value, value2, tickCount) {\r\n                        // must check both value and value2 because we\'ll need to get an interval for date units\r\n                        return (value instanceof Date) && (value2 instanceof Date) && (tickCount !== undefined && tickCount !== null);\r\n                    }\r\n                    /*\r\n                     * Get the column format. Order of precendence is:\r\n                     *  1. Column format\r\n                     *  2. Default PowerView policy for column type\r\n                     */\r\n                    function getFormatString(column, formatStringProperty, suppressTypeFallback) {\r\n                        if (column) {\r\n                            if (formatStringProperty) {\r\n                                var propertyValue = DataViewObjects.getValue(column.objects, formatStringProperty);\r\n                                if (propertyValue)\r\n                                    return propertyValue;\r\n                            }\r\n                            if (!suppressTypeFallback) {\r\n                                var columnType = column.type;\r\n                                if (columnType) {\r\n                                    if (columnType.dateTime)\r\n                                        return valueFormatter.DefaultDateFormat;\r\n                                    if (columnType.integer) {\r\n                                        if (columnType.temporal && columnType.temporal.year)\r\n                                            return "0";\r\n                                        return valueFormatter.DefaultIntegerFormat;\r\n                                    }\r\n                                    if (columnType.numeric)\r\n                                        return valueFormatter.DefaultNumericFormat;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    valueFormatter.getFormatString = getFormatString;\r\n                    function getFormatStringByColumn(column, suppressTypeFallback) {\r\n                        if (column) {\r\n                            if (column.format) {\r\n                                return column.format;\r\n                            }\r\n                            if (!suppressTypeFallback) {\r\n                                var columnType = column.type;\r\n                                if (columnType) {\r\n                                    if (columnType.dateTime) {\r\n                                        return valueFormatter.DefaultDateFormat;\r\n                                    }\r\n                                    if (columnType.integer) {\r\n                                        if (columnType.temporal && columnType.temporal.year) {\r\n                                            return "0";\r\n                                        }\r\n                                        return valueFormatter.DefaultIntegerFormat;\r\n                                    }\r\n                                    if (columnType.numeric) {\r\n                                        return valueFormatter.DefaultNumericFormat;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        return undefined;\r\n                    }\r\n                    valueFormatter.getFormatStringByColumn = getFormatStringByColumn;\r\n                    function formatListCompound(strings, conjunction) {\r\n                        var result;\r\n                        if (!strings) {\r\n                            return null;\r\n                        }\r\n                        var length = strings.length;\r\n                        if (length > 0) {\r\n                            result = strings[0];\r\n                            var lastIndex = length - 1;\r\n                            for (var i = 1, len = lastIndex; i < len; i++) {\r\n                                var value = strings[i];\r\n                                result = StringExtensions.format(localizationOptions.restatementComma, result, value);\r\n                            }\r\n                            if (length > 1) {\r\n                                var value = strings[lastIndex];\r\n                                result = StringExtensions.format(conjunction, result, value);\r\n                            }\r\n                        }\r\n                        else {\r\n                            result = null;\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /** The returned string will look like \'A, B, ..., and C\'  */\r\n                    function formatListAnd(strings) {\r\n                        return formatListCompound(strings, localizationOptions.restatementCompoundAnd);\r\n                    }\r\n                    valueFormatter.formatListAnd = formatListAnd;\r\n                    /** The returned string will look like \'A, B, ..., or C\' */\r\n                    function formatListOr(strings) {\r\n                        return formatListCompound(strings, localizationOptions.restatementCompoundOr);\r\n                    }\r\n                    valueFormatter.formatListOr = formatListOr;\r\n                    function formatCore(options) {\r\n                        var value = options.value, format = options.format, nullsAreBlank = options.nullsAreBlank, cultureSelector = options.cultureSelector;\r\n                        var formattedValue = getStringFormat(value, nullsAreBlank ? nullsAreBlank : false);\r\n                        if (!StringExtensions.isNullOrUndefinedOrWhiteSpaceString(formattedValue)) {\r\n                            return formattedValue;\r\n                        }\r\n                        return formattingService.formatValue(value, format, cultureSelector);\r\n                    }\r\n                    function getStringFormat(value, nullsAreBlank) {\r\n                        if (value == null && nullsAreBlank) {\r\n                            return localizationOptions.nullValue;\r\n                        }\r\n                        if (value === true) {\r\n                            return localizationOptions.trueValue;\r\n                        }\r\n                        if (value === false) {\r\n                            return localizationOptions.falseValue;\r\n                        }\r\n                        if (typeof value === "number" && isNaN(value)) {\r\n                            return localizationOptions.NaN;\r\n                        }\r\n                        if (value === Number.NEGATIVE_INFINITY) {\r\n                            return localizationOptions.negativeInfinity;\r\n                        }\r\n                        if (value === Number.POSITIVE_INFINITY) {\r\n                            return localizationOptions.infinity;\r\n                        }\r\n                        return "";\r\n                    }\r\n                    function getDisplayUnits(displayUnitSystemType) {\r\n                        var displayUnitSystem = createDisplayUnitSystem(displayUnitSystemType);\r\n                        return displayUnitSystem.units;\r\n                    }\r\n                    valueFormatter.getDisplayUnits = getDisplayUnits;\r\n                })(valueFormatter = formatting.valueFormatter || (formatting.valueFormatter = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));';
},function(e,t){e.exports='var powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var filter;\r\n            (function (filter) {\r\n                var SQExprKind;\r\n                (function (SQExprKind) {\r\n                    SQExprKind[SQExprKind["Entity"] = 0] = "Entity";\r\n                    SQExprKind[SQExprKind["SubqueryRef"] = 1] = "SubqueryRef";\r\n                    SQExprKind[SQExprKind["ColumnRef"] = 2] = "ColumnRef";\r\n                    SQExprKind[SQExprKind["MeasureRef"] = 3] = "MeasureRef";\r\n                    SQExprKind[SQExprKind["Aggregation"] = 4] = "Aggregation";\r\n                    SQExprKind[SQExprKind["PropertyVariationSource"] = 5] = "PropertyVariationSource";\r\n                    SQExprKind[SQExprKind["Hierarchy"] = 6] = "Hierarchy";\r\n                    SQExprKind[SQExprKind["HierarchyLevel"] = 7] = "HierarchyLevel";\r\n                    SQExprKind[SQExprKind["And"] = 8] = "And";\r\n                    SQExprKind[SQExprKind["Between"] = 9] = "Between";\r\n                    SQExprKind[SQExprKind["In"] = 10] = "In";\r\n                    SQExprKind[SQExprKind["Or"] = 11] = "Or";\r\n                    SQExprKind[SQExprKind["Contains"] = 12] = "Contains";\r\n                    SQExprKind[SQExprKind["Compare"] = 13] = "Compare";\r\n                    SQExprKind[SQExprKind["StartsWith"] = 14] = "StartsWith";\r\n                    SQExprKind[SQExprKind["Exists"] = 15] = "Exists";\r\n                    SQExprKind[SQExprKind["Not"] = 16] = "Not";\r\n                    SQExprKind[SQExprKind["Constant"] = 17] = "Constant";\r\n                    SQExprKind[SQExprKind["DateSpan"] = 18] = "DateSpan";\r\n                    SQExprKind[SQExprKind["DateAdd"] = 19] = "DateAdd";\r\n                    SQExprKind[SQExprKind["Now"] = 20] = "Now";\r\n                    SQExprKind[SQExprKind["AnyValue"] = 21] = "AnyValue";\r\n                    SQExprKind[SQExprKind["DefaultValue"] = 22] = "DefaultValue";\r\n                    SQExprKind[SQExprKind["Arithmetic"] = 23] = "Arithmetic";\r\n                    SQExprKind[SQExprKind["FillRule"] = 24] = "FillRule";\r\n                    SQExprKind[SQExprKind["ResourcePackageItem"] = 25] = "ResourcePackageItem";\r\n                    SQExprKind[SQExprKind["ScopedEval"] = 26] = "ScopedEval";\r\n                    SQExprKind[SQExprKind["WithRef"] = 27] = "WithRef";\r\n                    SQExprKind[SQExprKind["Percentile"] = 28] = "Percentile";\r\n                    SQExprKind[SQExprKind["SelectRef"] = 29] = "SelectRef";\r\n                    SQExprKind[SQExprKind["TransformTableRef"] = 30] = "TransformTableRef";\r\n                    SQExprKind[SQExprKind["TransformOutputRoleRef"] = 31] = "TransformOutputRoleRef";\r\n                    SQExprKind[SQExprKind["ThemeDataColor"] = 32] = "ThemeDataColor";\r\n                    SQExprKind[SQExprKind["GroupRef"] = 33] = "GroupRef";\r\n                    SQExprKind[SQExprKind["Floor"] = 34] = "Floor";\r\n                    SQExprKind[SQExprKind["RoleRef"] = 35] = "RoleRef";\r\n                    SQExprKind[SQExprKind["Discretize"] = 36] = "Discretize";\r\n                    SQExprKind[SQExprKind["NamedQueryRef"] = 37] = "NamedQueryRef";\r\n                    SQExprKind[SQExprKind["Member"] = 38] = "Member";\r\n                    SQExprKind[SQExprKind["FilteredEval"] = 39] = "FilteredEval";\r\n                    SQExprKind[SQExprKind["Conditional"] = 40] = "Conditional";\r\n                })(SQExprKind = filter.SQExprKind || (filter.SQExprKind = {}));\r\n                var QueryComparisonKind;\r\n                (function (QueryComparisonKind) {\r\n                    QueryComparisonKind[QueryComparisonKind["Equal"] = 0] = "Equal";\r\n                    QueryComparisonKind[QueryComparisonKind["GreaterThan"] = 1] = "GreaterThan";\r\n                    QueryComparisonKind[QueryComparisonKind["GreaterThanOrEqual"] = 2] = "GreaterThanOrEqual";\r\n                    QueryComparisonKind[QueryComparisonKind["LessThan"] = 3] = "LessThan";\r\n                    QueryComparisonKind[QueryComparisonKind["LessThanOrEqual"] = 4] = "LessThanOrEqual";\r\n                    QueryComparisonKind[QueryComparisonKind["Contains"] = 12] = "Contains";\r\n                    QueryComparisonKind[QueryComparisonKind["Is"] = 13] = "Is";\r\n                    QueryComparisonKind[QueryComparisonKind["StartsWith"] = 14] = "StartsWith";\r\n                    QueryComparisonKind[QueryComparisonKind["DoesNotContain"] = 16] = "DoesNotContain";\r\n                })(QueryComparisonKind = filter.QueryComparisonKind || (filter.QueryComparisonKind = {}));\r\n            })(filter = utils.filter || (utils.filter = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var filter;\r\n            (function (filter_1) {\r\n                var FilterManager = (function () {\r\n                    function FilterManager() {\r\n                    }\r\n                    /*\r\n                        Restore SelectionID\'s from filter\r\n                    */\r\n                    FilterManager.restoreSelectionIds = function (filter) {\r\n                        var selectionIds = [];\r\n                        try {\r\n                            if (filter\r\n                                && filter.whereItems\r\n                                && filter.whereItems.length > 0\r\n                                && filter.whereItems[0]\r\n                                && filter.whereItems[0].condition\r\n                                && filter.whereItems[0].condition.values) {\r\n                                filter.whereItems.forEach(function (whereItem) {\r\n                                    if (!whereItem.condition || !whereItem.condition.values) {\r\n                                        return;\r\n                                    }\r\n                                    var condition = whereItem.condition;\r\n                                    var selectionId = condition.values.map(function (valueArray) {\r\n                                        var sqlExpr = condition.args\r\n                                            .map(function (arg, argIndex) {\r\n                                            return new powerbi["data"].SQCompareExpr(filter_1.QueryComparisonKind.Equal, arg, valueArray[argIndex]);\r\n                                        })\r\n                                            .reduce(function (prExp, curExpr) {\r\n                                            if (!prExp) {\r\n                                                return curExpr;\r\n                                            }\r\n                                            return powerbi["data"].SQExprBuilder.and(prExp, curExpr);\r\n                                        }, undefined);\r\n                                        var identity = powerbi["data"].createDataViewScopeIdentity(sqlExpr);\r\n                                        return powerbi["visuals"].SelectionId.createWithId(identity);\r\n                                    });\r\n                                    selectionIds = selectionIds.concat(selectionId);\r\n                                });\r\n                            }\r\n                        }\r\n                        catch (ex) { }\r\n                        return selectionIds;\r\n                    };\r\n                    FilterManager.restoreFilter = function (filter) {\r\n                        if (!filter\r\n                            || !filter.whereItems\r\n                            || !filter.whereItems[0]\r\n                            || !filter.whereItems[0].condition) {\r\n                            return undefined;\r\n                        }\r\n                        var expr = filter.whereItems[0].condition;\r\n                        var basicFilterOperator = FilterManager.getBasicFilterOperator(expr._kind);\r\n                        if ((expr.values || expr.arg && expr.arg.values) &&\r\n                            (basicFilterOperator === "In" ||\r\n                                basicFilterOperator === "All" ||\r\n                                basicFilterOperator === "NotIn")) {\r\n                            return FilterManager.restoreBasicFilter(expr);\r\n                        }\r\n                        return FilterManager.restoreAdvancedFilter(expr);\r\n                    };\r\n                    /*\r\n                        Restores AdvancedFilter instance from filter\r\n                    */\r\n                    FilterManager.restoreAdvancedFilter = function (expr) {\r\n                        var logicalOperator = FilterManager.getLogicalOperatorNameByKind(expr._kind);\r\n                        var conditions;\r\n                        if (logicalOperator === "And" || logicalOperator === "Or") {\r\n                            conditions = FilterManager.getConditions([expr.left, expr.right]);\r\n                        }\r\n                        else {\r\n                            logicalOperator = "And";\r\n                            conditions = FilterManager.getConditions([expr]);\r\n                        }\r\n                        var advancedFilter = new window["powerbi-models"].AdvancedFilter(null, logicalOperator, conditions);\r\n                        return advancedFilter.toJSON();\r\n                    };\r\n                    /*\r\n                        Restores BasicFilter instance from filter\r\n                    */\r\n                    FilterManager.restoreBasicFilter = function (expr) {\r\n                        var basicFilterOperator = FilterManager.getBasicFilterOperator(expr._kind);\r\n                        var basicFilter = new window["powerbi-models"].BasicFilter(null, basicFilterOperator, expr.values || expr.arg && expr.arg.values);\r\n                        return basicFilter.toJSON();\r\n                    };\r\n                    FilterManager.getConditions = function (exprs) {\r\n                        var conditions = [];\r\n                        exprs.forEach(function (expr) {\r\n                            if (expr) {\r\n                                if ((expr.left && expr.right || expr.arg) &&\r\n                                    typeof expr.comparison === "undefined" &&\r\n                                    (expr._kind === filter_1.QueryComparisonKind.Contains ||\r\n                                        expr._kind === filter_1.QueryComparisonKind.Is ||\r\n                                        expr._kind === filter_1.QueryComparisonKind.DoesNotContain ||\r\n                                        expr._kind === filter_1.QueryComparisonKind.StartsWith)) {\r\n                                    var internal = FilterManager\r\n                                        .getConditions([expr.left, expr.right, expr.arg]\r\n                                        .filter(function (expr) { return expr; }))\r\n                                        .filter(function (con) { return typeof con.value !== "undefined"; }); // null must be considered as value\r\n                                    internal.forEach(function (con) {\r\n                                        if (con.operator === "None") {\r\n                                            con.operator = FilterManager.getCondictionOperatorByComparison(expr._kind);\r\n                                        }\r\n                                        // IsBlank stores inside semantic filter as "value is null"\r\n                                        if (con.value === null && con.operator === "Is") {\r\n                                            con.operator = "IsBlank";\r\n                                        }\r\n                                        if (con.value === null && con.operator === "DoesNotContain") {\r\n                                            con.operator = "IsNotBlank";\r\n                                        }\r\n                                    });\r\n                                    // check DoesNotStartsWith as  DoesNotContain values as StartsWith value\r\n                                    if (internal.every(function (con) { return con.operator === "StartsWith"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "DoesNotStartWith";\r\n                                        });\r\n                                    }\r\n                                    if (internal.every(function (con) { return con.operator === "Contains"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "DoesNotContain";\r\n                                        });\r\n                                    }\r\n                                    if (internal.every(function (con) { return con.operator === "Is"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "IsNot";\r\n                                        });\r\n                                    }\r\n                                    if (internal.every(function (con) { return con.operator === "IsBlank"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "IsNotBlank";\r\n                                        });\r\n                                    }\r\n                                    conditions = conditions.concat(internal);\r\n                                    return;\r\n                                }\r\n                                conditions.push(FilterManager.getCondition(expr));\r\n                            }\r\n                        });\r\n                        return conditions;\r\n                    };\r\n                    FilterManager.getValue = function (expr) {\r\n                        if (!expr) {\r\n                            return undefined;\r\n                        }\r\n                        if (expr._kind === filter_1.SQExprKind.Constant) {\r\n                            return expr.value;\r\n                        }\r\n                        if (expr._kind === filter_1.SQExprKind.Contains) {\r\n                            return expr.value;\r\n                        }\r\n                        var exprs = [\r\n                            expr.left,\r\n                            expr.right,\r\n                            expr.arg,\r\n                        ];\r\n                        for (var _i = 0, exprs_1 = exprs; _i < exprs_1.length; _i++) {\r\n                            var currentExpr = exprs_1[_i];\r\n                            var value = FilterManager.getValue(currentExpr);\r\n                            if (value !== undefined) {\r\n                                return value;\r\n                            }\r\n                        }\r\n                    };\r\n                    FilterManager.getCondition = function (expr) {\r\n                        return {\r\n                            value: FilterManager.getValue(expr),\r\n                            operator: FilterManager.getCondictionOperatorByComparison(expr.comparison),\r\n                        };\r\n                    };\r\n                    FilterManager.getBasicFilterOperator = function (kind) {\r\n                        switch (kind) {\r\n                            case filter_1.SQExprKind.In: {\r\n                                return "In";\r\n                            }\r\n                            case filter_1.SQExprKind.And: {\r\n                                return "All";\r\n                            }\r\n                            case filter_1.SQExprKind.Not: {\r\n                                return "NotIn";\r\n                            }\r\n                            default:\r\n                                return null;\r\n                        }\r\n                    };\r\n                    FilterManager.getLogicalOperatorNameByKind = function (kind) {\r\n                        switch (kind) {\r\n                            case filter_1.SQExprKind.And: {\r\n                                return "And";\r\n                            }\r\n                            case filter_1.SQExprKind.Or: {\r\n                                return "Or";\r\n                            }\r\n                            default:\r\n                                return null;\r\n                        }\r\n                    };\r\n                    FilterManager.getCondictionOperatorByComparison = function (comparison) {\r\n                        switch (comparison) {\r\n                            case filter_1.QueryComparisonKind.Equal: {\r\n                                return "Is";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.Is: {\r\n                                return "Is";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.GreaterThan: {\r\n                                return "GreaterThan";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.GreaterThanOrEqual: {\r\n                                return "GreaterThanOrEqual";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.LessThan: {\r\n                                return "LessThan";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.LessThanOrEqual: {\r\n                                return "LessThanOrEqual";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.Contains: {\r\n                                return "Contains";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.DoesNotContain: {\r\n                                return "DoesNotContain";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.StartsWith: {\r\n                                return "StartsWith";\r\n                            }\r\n                        }\r\n                        return "None";\r\n                    };\r\n                    return FilterManager;\r\n                }());\r\n                filter_1.FilterManager = FilterManager;\r\n            })(filter = utils.filter || (utils.filter = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var interactivity;\r\n            (function (interactivity) {\r\n                // powerbi.extensibility.utils.type\r\n                var ArrayExtensions = powerbi.extensibility.utils.type.ArrayExtensions;\r\n                /**\r\n                 * Factory method to create an IInteractivityService instance.\r\n                 */\r\n                function createInteractivityService(hostServices) {\r\n                    return new InteractivityService(hostServices);\r\n                }\r\n                interactivity.createInteractivityService = createInteractivityService;\r\n                /**\r\n                * Creates a clear an svg rect to catch clear clicks.\r\n                */\r\n                function appendClearCatcher(selection) {\r\n                    return selection\r\n                        .append("rect")\r\n                        .classed("clearCatcher", true)\r\n                        .attr({ width: "100%", height: "100%" });\r\n                }\r\n                interactivity.appendClearCatcher = appendClearCatcher;\r\n                function dataHasSelection(data) {\r\n                    for (var i = 0, ilen = data.length; i < ilen; i++) {\r\n                        if (data[i].selected)\r\n                            return true;\r\n                    }\r\n                    return false;\r\n                }\r\n                interactivity.dataHasSelection = dataHasSelection;\r\n                var InteractivityService = (function () {\r\n                    function InteractivityService(hostServices) {\r\n                        var _this = this;\r\n                        // References\r\n                        this.renderSelectionInVisual = function () { };\r\n                        this.renderSelectionInLegend = function () { };\r\n                        this.renderSelectionInLabels = function () { };\r\n                        // Selection state\r\n                        this.selectedIds = [];\r\n                        this.isInvertedSelectionMode = false;\r\n                        this.selectionManager = hostServices.createSelectionManager();\r\n                        if (this.selectionManager.registerOnSelectCallback) {\r\n                            this.selectionManager.registerOnSelectCallback(function () {\r\n                                _this.restoreSelection(_this.selectionManager.getSelectionIds().slice());\r\n                            });\r\n                        }\r\n                    }\r\n                    // IInteractivityService Implementation\r\n                    /** Binds the visual to the interactivityService */\r\n                    InteractivityService.prototype.bind = function (dataPoints, behavior, behaviorOptions, options) {\r\n                        var _this = this;\r\n                        // Bind the data\r\n                        if (options && options.overrideSelectionFromData) {\r\n                            // Override selection state from data points if needed\r\n                            this.takeSelectionStateFromDataPoints(dataPoints);\r\n                        }\r\n                        if (options) {\r\n                            if (options.isLegend) {\r\n                                // Bind to legend data instead of normal data if isLegend\r\n                                this.selectableLegendDataPoints = dataPoints;\r\n                                this.renderSelectionInLegend = function () { return behavior.renderSelection(_this.legendHasSelection()); };\r\n                            }\r\n                            else if (options.isLabels) {\r\n                                // Bind to label data instead of normal data if isLabels\r\n                                this.selectableLabelsDataPoints = dataPoints;\r\n                                this.renderSelectionInLabels = function () { return behavior.renderSelection(_this.labelsHasSelection()); };\r\n                            }\r\n                            else {\r\n                                this.selectableDataPoints = dataPoints;\r\n                                this.renderSelectionInVisual = function () { return behavior.renderSelection(_this.hasSelection()); };\r\n                            }\r\n                            if (options.hasSelectionOverride != null) {\r\n                                this.hasSelectionOverride = options.hasSelectionOverride;\r\n                            }\r\n                        }\r\n                        else {\r\n                            this.selectableDataPoints = dataPoints;\r\n                            this.renderSelectionInVisual = function () { return behavior.renderSelection(_this.hasSelection()); };\r\n                        }\r\n                        // Bind to the behavior\r\n                        this.behavior = behavior;\r\n                        behavior.bindEvents(behaviorOptions, this);\r\n                        // Sync data points with current selection state\r\n                        this.syncSelectionState();\r\n                    };\r\n                    InteractivityService.prototype.clearSelectedIds = function () {\r\n                        this.hasSelectionOverride = undefined;\r\n                        ArrayExtensions.clear(this.selectedIds);\r\n                    };\r\n                    /**\r\n                     * Sets the selected state of all selectable data points to false and invokes the behavior\'s select command.\r\n                     */\r\n                    InteractivityService.prototype.clearSelection = function () {\r\n                        this.clearSelectedIds();\r\n                        this.applyToAllSelectableDataPoints(function (dataPoint) { return dataPoint.selected = false; });\r\n                        this.renderAll();\r\n                    };\r\n                    InteractivityService.prototype.applySelectionStateToData = function (dataPoints, hasHighlights) {\r\n                        if (hasHighlights && this.hasSelection()) {\r\n                            var selectionIds = (this.selectionManager.getSelectionIds() || []);\r\n                            ArrayExtensions.clear(this.selectedIds);\r\n                            ArrayExtensions.clear(selectionIds);\r\n                        }\r\n                        for (var _i = 0, dataPoints_1 = dataPoints; _i < dataPoints_1.length; _i++) {\r\n                            var dataPoint = dataPoints_1[_i];\r\n                            dataPoint.selected = InteractivityService.isDataPointSelected(dataPoint, this.selectedIds);\r\n                        }\r\n                        return this.hasSelection();\r\n                    };\r\n                    /**\r\n                     * Apply new selections to change internal state of interactivity service from filter\r\n                     */\r\n                    InteractivityService.prototype.applySelectionFromFilter = function (appliedFilter) {\r\n                        this.restoreSelection(utils.filter.FilterManager.restoreSelectionIds(appliedFilter));\r\n                    };\r\n                    /**\r\n                     * Apply new selections to change internal state of interactivity service\r\n                     */\r\n                    InteractivityService.prototype.restoreSelection = function (selectionIds) {\r\n                        this.clearSelection();\r\n                        this.selectedIds = selectionIds;\r\n                        this.syncSelectionState();\r\n                        this.renderAll();\r\n                    };\r\n                    /**\r\n                     * Checks whether there is at least one item selected.\r\n                     */\r\n                    InteractivityService.prototype.hasSelection = function () {\r\n                        return this.selectedIds.length > 0;\r\n                    };\r\n                    InteractivityService.prototype.legendHasSelection = function () {\r\n                        return this.selectableLegendDataPoints ? dataHasSelection(this.selectableLegendDataPoints) : false;\r\n                    };\r\n                    InteractivityService.prototype.labelsHasSelection = function () {\r\n                        return this.selectableLabelsDataPoints ? dataHasSelection(this.selectableLabelsDataPoints) : false;\r\n                    };\r\n                    InteractivityService.prototype.isSelectionModeInverted = function () {\r\n                        return this.isInvertedSelectionMode;\r\n                    };\r\n                    // ISelectionHandler Implementation\r\n                    InteractivityService.prototype.applySelectionFilter = function () {\r\n                        if (!this.selectionManager) {\r\n                            return;\r\n                        }\r\n                        this.selectionManager.applySelectionFilter();\r\n                    };\r\n                    InteractivityService.prototype.handleSelection = function (dataPoints, multiSelect) {\r\n                        // defect 7067397: should not happen so assert but also don\'t continue as it\'s\r\n                        // causing a lot of error telemetry in desktop.\r\n                        if (!dataPoints) {\r\n                            return;\r\n                        }\r\n                        this.select(dataPoints, multiSelect);\r\n                        this.sendSelectionToHost();\r\n                        this.renderAll();\r\n                    };\r\n                    InteractivityService.prototype.handleClearSelection = function () {\r\n                        this.clearSelection();\r\n                        this.sendSelectionToHost();\r\n                    };\r\n                    /**\r\n                     * Syncs the selection state for all data points that have the same category. Returns\r\n                     * true if the selection state was out of sync and corrections were made; false if\r\n                     * the data is already in sync with the service.\r\n                     *\r\n                     * If the data is not compatible with the current service\'s current selection state,\r\n                     * the state is cleared and the cleared selection is sent to the host.\r\n                     *\r\n                     * Ignores series for now, since we don\'t support series selection at the moment.\r\n                     */\r\n                    InteractivityService.prototype.syncSelectionState = function () {\r\n                        if (this.isInvertedSelectionMode) {\r\n                            return this.syncSelectionStateInverted();\r\n                        }\r\n                        if (!this.selectableDataPoints && !this.selectableLegendDataPoints) {\r\n                            return;\r\n                        }\r\n                        if (this.selectableDataPoints) {\r\n                            InteractivityService.updateSelectableDataPointsBySelectedIds(this.selectableDataPoints, this.selectedIds);\r\n                        }\r\n                        if (this.selectableLegendDataPoints) {\r\n                            InteractivityService.updateSelectableDataPointsBySelectedIds(this.selectableLegendDataPoints, this.selectedIds);\r\n                        }\r\n                        if (this.selectableLabelsDataPoints) {\r\n                            var _loop_1 = function (labelsDataPoint) {\r\n                                labelsDataPoint.selected = this_1.selectedIds.some(function (value) {\r\n                                    return value.includes(labelsDataPoint.identity);\r\n                                });\r\n                            };\r\n                            var this_1 = this;\r\n                            for (var _i = 0, _a = this.selectableLabelsDataPoints; _i < _a.length; _i++) {\r\n                                var labelsDataPoint = _a[_i];\r\n                                _loop_1(labelsDataPoint);\r\n                            }\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.syncSelectionStateInverted = function () {\r\n                        var selectedIds = this.selectedIds;\r\n                        var selectableDataPoints = this.selectableDataPoints;\r\n                        if (!selectableDataPoints)\r\n                            return;\r\n                        if (selectedIds.length === 0) {\r\n                            for (var _i = 0, selectableDataPoints_1 = selectableDataPoints; _i < selectableDataPoints_1.length; _i++) {\r\n                                var dataPoint = selectableDataPoints_1[_i];\r\n                                dataPoint.selected = false;\r\n                            }\r\n                        }\r\n                        else {\r\n                            var _loop_2 = function (dataPoint) {\r\n                                if (selectedIds.some(function (value) { return value.includes(dataPoint.identity); })) {\r\n                                    dataPoint.selected = true;\r\n                                }\r\n                                else if (dataPoint.selected) {\r\n                                    dataPoint.selected = false;\r\n                                }\r\n                            };\r\n                            for (var _a = 0, selectableDataPoints_2 = selectableDataPoints; _a < selectableDataPoints_2.length; _a++) {\r\n                                var dataPoint = selectableDataPoints_2[_a];\r\n                                _loop_2(dataPoint);\r\n                            }\r\n                        }\r\n                    };\r\n                    // Private utility methods\r\n                    InteractivityService.prototype.renderAll = function () {\r\n                        this.renderSelectionInVisual();\r\n                        this.renderSelectionInLegend();\r\n                        this.renderSelectionInLabels();\r\n                    };\r\n                    /** Marks a data point as selected and syncs selection with the host. */\r\n                    InteractivityService.prototype.select = function (dataPoints, multiSelect) {\r\n                        var _this = this;\r\n                        var selectableDataPoints = [].concat(dataPoints);\r\n                        var originalSelectedIds = this.selectedIds.slice();\r\n                        if (!multiSelect || !selectableDataPoints.length) {\r\n                            this.clearSelectedIds();\r\n                        }\r\n                        selectableDataPoints.forEach(function (dataPoint) {\r\n                            var shouldDataPointBeSelected = !InteractivityService.isDataPointSelected(dataPoint, originalSelectedIds);\r\n                            _this.selectSingleDataPoint(dataPoint, shouldDataPointBeSelected);\r\n                        });\r\n                        this.syncSelectionState();\r\n                    };\r\n                    InteractivityService.prototype.selectSingleDataPoint = function (dataPoint, shouldDataPointBeSelected) {\r\n                        if (!dataPoint || !dataPoint.identity) {\r\n                            return;\r\n                        }\r\n                        var identity = dataPoint.identity;\r\n                        if (shouldDataPointBeSelected) {\r\n                            dataPoint.selected = true;\r\n                            this.selectedIds.push(identity);\r\n                            if (identity.hasIdentity()) {\r\n                                this.removeSelectionIdsWithOnlyMeasures();\r\n                            }\r\n                            else {\r\n                                this.removeSelectionIdsExceptOnlyMeasures();\r\n                            }\r\n                        }\r\n                        else {\r\n                            dataPoint.selected = false;\r\n                            this.removeId(identity);\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.removeId = function (toRemove) {\r\n                        var selectedIds = this.selectedIds;\r\n                        for (var i = selectedIds.length - 1; i > -1; i--) {\r\n                            var currentId = selectedIds[i];\r\n                            if (toRemove.includes(currentId))\r\n                                selectedIds.splice(i, 1);\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.sendSelectionToHost = function () {\r\n                        if (!this.selectionManager) {\r\n                            return;\r\n                        }\r\n                        if (this.selectedIds && this.selectedIds.length) {\r\n                            this.selectionManager.select(this.selectedIds.slice());\r\n                        }\r\n                        else {\r\n                            this.selectionManager.clear();\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.takeSelectionStateFromDataPoints = function (dataPoints) {\r\n                        var selectedIds = this.selectedIds;\r\n                        // Replace the existing selectedIds rather than merging.\r\n                        ArrayExtensions.clear(selectedIds);\r\n                        for (var _i = 0, dataPoints_2 = dataPoints; _i < dataPoints_2.length; _i++) {\r\n                            var dataPoint = dataPoints_2[_i];\r\n                            if (dataPoint.selected) {\r\n                                selectedIds.push(dataPoint.identity);\r\n                            }\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.applyToAllSelectableDataPoints = function (action) {\r\n                        var selectableDataPoints = this.selectableDataPoints;\r\n                        var selectableLegendDataPoints = this.selectableLegendDataPoints;\r\n                        var selectableLabelsDataPoints = this.selectableLabelsDataPoints;\r\n                        if (selectableDataPoints) {\r\n                            for (var _i = 0, selectableDataPoints_3 = selectableDataPoints; _i < selectableDataPoints_3.length; _i++) {\r\n                                var dataPoint = selectableDataPoints_3[_i];\r\n                                action(dataPoint);\r\n                            }\r\n                        }\r\n                        if (selectableLegendDataPoints) {\r\n                            for (var _a = 0, selectableLegendDataPoints_1 = selectableLegendDataPoints; _a < selectableLegendDataPoints_1.length; _a++) {\r\n                                var dataPoint = selectableLegendDataPoints_1[_a];\r\n                                action(dataPoint);\r\n                            }\r\n                        }\r\n                        if (selectableLabelsDataPoints) {\r\n                            for (var _b = 0, selectableLabelsDataPoints_1 = selectableLabelsDataPoints; _b < selectableLabelsDataPoints_1.length; _b++) {\r\n                                var dataPoint = selectableLabelsDataPoints_1[_b];\r\n                                action(dataPoint);\r\n                            }\r\n                        }\r\n                    };\r\n                    InteractivityService.updateSelectableDataPointsBySelectedIds = function (selectableDataPoints, selectedIds) {\r\n                        var foundMatchingId = false;\r\n                        for (var _i = 0, selectableDataPoints_4 = selectableDataPoints; _i < selectableDataPoints_4.length; _i++) {\r\n                            var dataPoint = selectableDataPoints_4[_i];\r\n                            dataPoint.selected = InteractivityService.isDataPointSelected(dataPoint, selectedIds);\r\n                            if (dataPoint.selected)\r\n                                foundMatchingId = true;\r\n                        }\r\n                        return foundMatchingId;\r\n                    };\r\n                    InteractivityService.isDataPointSelected = function (dataPoint, selectedIds) {\r\n                        return selectedIds.some(function (value) { return value.includes(dataPoint.identity); });\r\n                    };\r\n                    InteractivityService.prototype.removeSelectionIdsWithOnlyMeasures = function () {\r\n                        this.selectedIds = this.selectedIds.filter(function (identity) { return identity.hasIdentity(); });\r\n                    };\r\n                    InteractivityService.prototype.removeSelectionIdsExceptOnlyMeasures = function () {\r\n                        this.selectedIds = this.selectedIds.filter(function (identity) { return !identity.hasIdentity(); });\r\n                    };\r\n                    return InteractivityService;\r\n                }());\r\n                interactivity.InteractivityService = InteractivityService;\r\n            })(interactivity = utils.interactivity || (utils.interactivity = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var interactivity;\r\n            (function (interactivity) {\r\n                var interactivityUtils;\r\n                (function (interactivityUtils) {\r\n                    function getPositionOfLastInputEvent() {\r\n                        return {\r\n                            x: d3.event.clientX,\r\n                            y: d3.event.clientY\r\n                        };\r\n                    }\r\n                    interactivityUtils.getPositionOfLastInputEvent = getPositionOfLastInputEvent;\r\n                    function registerStandardSelectionHandler(selection, selectionHandler) {\r\n                        selection.on("click", function (d) { return handleSelection(d, selectionHandler); });\r\n                    }\r\n                    interactivityUtils.registerStandardSelectionHandler = registerStandardSelectionHandler;\r\n                    function registerGroupSelectionHandler(group, selectionHandler) {\r\n                        group.on("click", function () {\r\n                            var target = d3.event.target, d = d3.select(target).datum();\r\n                            handleSelection(d, selectionHandler);\r\n                        });\r\n                    }\r\n                    interactivityUtils.registerGroupSelectionHandler = registerGroupSelectionHandler;\r\n                    function handleSelection(d, selectionHandler) {\r\n                        selectionHandler.handleSelection(d, d3.event.ctrlKey);\r\n                    }\r\n                })(interactivityUtils = interactivity.interactivityUtils || (interactivity.interactivityUtils = {}));\r\n            })(interactivity = utils.interactivity || (utils.interactivity = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n';
},function(e,t){e.exports='var __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var Rect = (function () {\r\n                    // Constructor\r\n                    function Rect(left, top, width, height) {\r\n                        this.left = left || 0;\r\n                        this.top = top || 0;\r\n                        this.width = width || 0;\r\n                        this.height = height || 0;\r\n                    }\r\n                    return Rect;\r\n                }());\r\n                svg.Rect = Rect;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var shapes;\r\n                (function (shapes) {\r\n                    var Rect;\r\n                    (function (Rect) {\r\n                        function getOffset(rect) {\r\n                            return { x: rect.left, y: rect.top };\r\n                        }\r\n                        Rect.getOffset = getOffset;\r\n                        function getSize(rect) {\r\n                            return { width: rect.width, height: rect.height };\r\n                        }\r\n                        Rect.getSize = getSize;\r\n                        function setSize(rect, value) {\r\n                            rect.width = value.width;\r\n                            rect.height = value.height;\r\n                        }\r\n                        Rect.setSize = setSize;\r\n                        function right(rect) {\r\n                            return rect.left + rect.width;\r\n                        }\r\n                        Rect.right = right;\r\n                        function bottom(rect) {\r\n                            return rect.top + rect.height;\r\n                        }\r\n                        Rect.bottom = bottom;\r\n                        function topLeft(rect) {\r\n                            return { x: rect.left, y: rect.top };\r\n                        }\r\n                        Rect.topLeft = topLeft;\r\n                        function topRight(rect) {\r\n                            return { x: rect.left + rect.width, y: rect.top };\r\n                        }\r\n                        Rect.topRight = topRight;\r\n                        function bottomLeft(rect) {\r\n                            return { x: rect.left, y: rect.top + rect.height };\r\n                        }\r\n                        Rect.bottomLeft = bottomLeft;\r\n                        function bottomRight(rect) {\r\n                            return { x: rect.left + rect.width, y: rect.top + rect.height };\r\n                        }\r\n                        Rect.bottomRight = bottomRight;\r\n                        function equals(rect, other) {\r\n                            return other !== undefined && other !== null &&\r\n                                rect.left === other.left && rect.top === other.top && rect.width === other.width && rect.height === other.height;\r\n                        }\r\n                        Rect.equals = equals;\r\n                        function clone(rect) {\r\n                            return (rect !== null) ? { left: rect.left, top: rect.top, width: rect.width, height: rect.height } : null;\r\n                        }\r\n                        Rect.clone = clone;\r\n                        function toString(rect) {\r\n                            return "{left:" + rect.left + ", top:" + rect.top + ", width:" + rect.width + ", height:" + rect.height + "}";\r\n                        }\r\n                        Rect.toString = toString;\r\n                        function offset(rect, offsetX, offsetY) {\r\n                            var newLeft = ((rect.left + offsetX) >= 0) ? rect.left + offsetX : 0;\r\n                            var newTop = ((rect.top + offsetY) >= 0) ? rect.top + offsetY : 0;\r\n                            return { left: newLeft, top: newTop, width: rect.width, height: rect.height };\r\n                        }\r\n                        Rect.offset = offset;\r\n                        function add(rect, rect2) {\r\n                            return {\r\n                                left: rect.left + rect2.left,\r\n                                top: rect.top + rect2.top,\r\n                                height: rect.height + rect2.height,\r\n                                width: rect.width + rect2.width\r\n                            };\r\n                        }\r\n                        Rect.add = add;\r\n                        function subtract(rect, rect2) {\r\n                            return {\r\n                                left: rect.left - rect2.left,\r\n                                top: rect.top - rect2.top,\r\n                                height: rect.height - rect2.height,\r\n                                width: rect.width - rect2.width\r\n                            };\r\n                        }\r\n                        Rect.subtract = subtract;\r\n                        function inflate(rect, padding) {\r\n                            var result = clone(rect);\r\n                            if (padding) {\r\n                                result.left -= padding.left;\r\n                                result.top -= padding.top;\r\n                                result.width += padding.left + padding.right;\r\n                                result.height += padding.top + padding.bottom;\r\n                            }\r\n                            return result;\r\n                        }\r\n                        Rect.inflate = inflate;\r\n                        function deflate(rect, padding) {\r\n                            var result = clone(rect);\r\n                            if (padding) {\r\n                                result.left += padding.left;\r\n                                result.top += padding.top;\r\n                                result.width -= padding.left + padding.right;\r\n                                result.height -= padding.top + padding.bottom;\r\n                            }\r\n                            return result;\r\n                        }\r\n                        Rect.deflate = deflate;\r\n                        function inflateBy(rect, padding) {\r\n                            return { left: rect.left - padding, top: rect.top - padding, width: rect.width + padding + padding, height: rect.height + padding + padding };\r\n                        }\r\n                        Rect.inflateBy = inflateBy;\r\n                        function deflateBy(rect, padding) {\r\n                            return { left: rect.left + padding, top: rect.top + padding, width: rect.width - padding - padding, height: rect.height - padding - padding };\r\n                        }\r\n                        Rect.deflateBy = deflateBy;\r\n                        /**\r\n                         * Get closest point.\r\n                         *\r\n                         * @return the closest point on the rect to the (x,y) point given.\r\n                         * In case the (x,y) given is inside the rect, (x,y) will be returned.\r\n                         * Otherwise, a point on a border will be returned.\r\n                         */\r\n                        function getClosestPoint(rect, x, y) {\r\n                            return {\r\n                                x: Math.min(Math.max(rect.left, x), rect.left + rect.width),\r\n                                y: Math.min(Math.max(rect.top, y), rect.top + rect.height)\r\n                            };\r\n                        }\r\n                        Rect.getClosestPoint = getClosestPoint;\r\n                        function equal(rect1, rect2) {\r\n                            return rect1 === rect2 ||\r\n                                (rect1 !== undefined && rect2 !== undefined && rect1.left === rect2.left && rect1.top === rect2.top && rect1.width === rect2.width && rect1.height === rect2.height);\r\n                        }\r\n                        Rect.equal = equal;\r\n                        function equalWithPrecision(rect1, rect2) {\r\n                            return rect1 === rect2 ||\r\n                                (rect1 !== undefined && rect2 !== undefined &&\r\n                                    Double.equalWithPrecision(rect1.left, rect2.left) && Double.equalWithPrecision(rect1.top, rect2.top) &&\r\n                                    Double.equalWithPrecision(rect1.width, rect2.width) && Double.equalWithPrecision(rect1.height, rect2.height));\r\n                        }\r\n                        Rect.equalWithPrecision = equalWithPrecision;\r\n                        function isEmpty(rect) {\r\n                            return rect === undefined || rect === null || (rect.width === 0 && rect.height === 0);\r\n                        }\r\n                        Rect.isEmpty = isEmpty;\r\n                        function containsPoint(rect, point) {\r\n                            if ((rect === null) || (point === null)) {\r\n                                return false;\r\n                            }\r\n                            return Double.lessOrEqualWithPrecision(rect.left, point.x) &&\r\n                                Double.lessOrEqualWithPrecision(point.x, rect.left + rect.width) &&\r\n                                Double.lessOrEqualWithPrecision(rect.top, point.y) &&\r\n                                Double.lessOrEqualWithPrecision(point.y, rect.top + rect.height);\r\n                        }\r\n                        Rect.containsPoint = containsPoint;\r\n                        function isIntersecting(rect1, rect2) {\r\n                            if (!rect1 || !rect2) {\r\n                                return false;\r\n                            }\r\n                            var left = Math.max(rect1.left, rect2.left);\r\n                            var right = Math.min(rect1.left + rect1.width, rect2.left + rect2.width);\r\n                            if (left > right) {\r\n                                return false;\r\n                            }\r\n                            var top = Math.max(rect1.top, rect2.top);\r\n                            var bottom = Math.min(rect1.top + rect1.height, rect2.top + rect2.height);\r\n                            return top <= bottom;\r\n                        }\r\n                        Rect.isIntersecting = isIntersecting;\r\n                        function intersect(rect1, rect2) {\r\n                            if (!rect1) {\r\n                                return rect2;\r\n                            }\r\n                            if (!rect2) {\r\n                                return rect1;\r\n                            }\r\n                            var left = Math.max(rect1.left, rect2.left);\r\n                            var top = Math.max(rect1.top, rect2.top);\r\n                            var right = Math.min(rect1.left + rect1.width, rect2.left + rect2.width);\r\n                            var bottom = Math.min(rect1.top + rect1.height, rect2.top + rect2.height);\r\n                            if (left <= right && top <= bottom) {\r\n                                return { left: left, top: top, width: right - left, height: bottom - top };\r\n                            }\r\n                            else {\r\n                                return { left: 0, top: 0, width: 0, height: 0 };\r\n                            }\r\n                        }\r\n                        Rect.intersect = intersect;\r\n                        function combine(rect1, rect2) {\r\n                            if (!rect1) {\r\n                                return rect2;\r\n                            }\r\n                            if (!rect2) {\r\n                                return rect1;\r\n                            }\r\n                            var left = Math.min(rect1.left, rect2.left);\r\n                            var top = Math.min(rect1.top, rect2.top);\r\n                            var right = Math.max(rect1.left + rect1.width, rect2.left + rect2.width);\r\n                            var bottom = Math.max(rect1.top + rect1.height, rect2.top + rect2.height);\r\n                            return { left: left, top: top, width: right - left, height: bottom - top };\r\n                        }\r\n                        Rect.combine = combine;\r\n                        function getCentroid(rect) {\r\n                            return {\r\n                                x: rect.left + (rect.width / 2),\r\n                                y: rect.top + (rect.height / 2)\r\n                            };\r\n                        }\r\n                        Rect.getCentroid = getCentroid;\r\n                    })(Rect = shapes.Rect || (shapes.Rect = {}));\r\n                })(shapes = svg.shapes || (svg.shapes = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var Point = (function () {\r\n                    function Point(x, y) {\r\n                        this.x = x || 0;\r\n                        this.y = y || 0;\r\n                    }\r\n                    return Point;\r\n                }());\r\n                svg.Point = Point;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                /**\r\n                 * CSS constants.\r\n                 */\r\n                var CssConstants;\r\n                (function (CssConstants) {\r\n                    function createClassAndSelector(className) {\r\n                        return {\r\n                            className: className,\r\n                            selectorName: "." + className,\r\n                        };\r\n                    }\r\n                    CssConstants.createClassAndSelector = createClassAndSelector;\r\n                    CssConstants.styleAttribute = "style";\r\n                    CssConstants.pixelUnits = "px";\r\n                    CssConstants.heightProperty = "height";\r\n                    CssConstants.widthProperty = "width";\r\n                    CssConstants.topProperty = "top";\r\n                    CssConstants.bottomProperty = "bottom";\r\n                    CssConstants.leftProperty = "left";\r\n                    CssConstants.rightProperty = "right";\r\n                    CssConstants.marginTopProperty = "margin-top";\r\n                    CssConstants.marginLeftProperty = "margin-left";\r\n                    CssConstants.displayProperty = "display";\r\n                    CssConstants.backgroundProperty = "background";\r\n                    CssConstants.backgroundColorProperty = "background-color";\r\n                    CssConstants.backgroundRepeatProperty = "background-repeat";\r\n                    CssConstants.backgroundSizeProperty = "background-size";\r\n                    CssConstants.backgroundImageProperty = "background-image";\r\n                    CssConstants.textShadowProperty = "text-shadow";\r\n                    CssConstants.textAlignProperty = "text-align";\r\n                    CssConstants.borderProperty = "border";\r\n                    CssConstants.borderTopWidthProperty = "border-top-width";\r\n                    CssConstants.borderBottomWidthProperty = "border-bottom-width";\r\n                    CssConstants.borderLeftWidthProperty = "border-left-width";\r\n                    CssConstants.borderRightWidthProperty = "border-right-width";\r\n                    CssConstants.fontSizeProperty = "font-size";\r\n                    CssConstants.fontWeightProperty = "font-weight";\r\n                    CssConstants.colorProperty = "color";\r\n                    CssConstants.opacityProperty = "opacity";\r\n                    CssConstants.paddingLeftProperty = "padding-left";\r\n                    CssConstants.paddingRightProperty = "padding-right";\r\n                    CssConstants.positionProperty = "position";\r\n                    CssConstants.maxWidthProperty = "max-width";\r\n                    CssConstants.minWidthProperty = "min-width";\r\n                    CssConstants.overflowProperty = "overflow";\r\n                    CssConstants.overflowXProperty = "overflow-x";\r\n                    CssConstants.overflowYProperty = "overflow-y";\r\n                    CssConstants.transformProperty = "transform";\r\n                    CssConstants.webkitTransformProperty = "-webkit-transform";\r\n                    CssConstants.cursorProperty = "cursor";\r\n                    CssConstants.visibilityProperty = "visibility";\r\n                    CssConstants.absoluteValue = "absolute";\r\n                    CssConstants.zeroPixelValue = "0px";\r\n                    CssConstants.autoValue = "auto";\r\n                    CssConstants.hiddenValue = "hidden";\r\n                    CssConstants.noneValue = "none";\r\n                    CssConstants.blockValue = "block";\r\n                    CssConstants.inlineBlockValue = "inline-block";\r\n                    CssConstants.transparentValue = "transparent";\r\n                    CssConstants.boldValue = "bold";\r\n                    CssConstants.visibleValue = "visible";\r\n                    CssConstants.tableRowValue = "table-row";\r\n                    CssConstants.coverValue = "cover";\r\n                    CssConstants.pointerValue = "pointer";\r\n                    CssConstants.scrollValue = "scroll";\r\n                })(CssConstants = svg.CssConstants || (svg.CssConstants = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var touch;\r\n                (function (touch) {\r\n                    var Point = (function () {\r\n                        function Point(x, y) {\r\n                            this.x = x || 0;\r\n                            this.y = y || 0;\r\n                        }\r\n                        Point.prototype.offset = function (offsetX, offsetY) {\r\n                            this.x += offsetX;\r\n                            this.y += offsetY;\r\n                        };\r\n                        return Point;\r\n                    }());\r\n                    touch.Point = Point;\r\n                    var Rectangle = (function (_super) {\r\n                        __extends(Rectangle, _super);\r\n                        function Rectangle(x, y, width, height) {\r\n                            var _this = _super.call(this, x, y) || this;\r\n                            _this.width = width || 0;\r\n                            _this.height = height || 0;\r\n                            return _this;\r\n                        }\r\n                        Object.defineProperty(Rectangle.prototype, "point", {\r\n                            get: function () {\r\n                                return new Point(this.x, this.y);\r\n                            },\r\n                            enumerable: true,\r\n                            configurable: true\r\n                        });\r\n                        Rectangle.prototype.contains = function (p) {\r\n                            return Rectangle.contains(this, p);\r\n                        };\r\n                        Rectangle.contains = function (rect, p) {\r\n                            if (p && !Rectangle.isEmpty(rect)) {\r\n                                return rect.x <= p.x && p.x < rect.x + rect.width && rect.y <= p.y && p.y < rect.y + rect.height;\r\n                            }\r\n                            return false;\r\n                        };\r\n                        Rectangle.isEmpty = function (rect) {\r\n                            return !(rect !== undefined && rect.width >= 0 && rect.height >= 0);\r\n                        };\r\n                        return Rectangle;\r\n                    }(Point));\r\n                    touch.Rectangle = Rectangle;\r\n                })(touch = svg.touch || (svg.touch = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var touch;\r\n                (function (touch) {\r\n                    function touchStartEventName() {\r\n                        var eventName = "touchstart";\r\n                        if (window["PointerEvent"]) {\r\n                            // IE11\r\n                            eventName = "pointerdown";\r\n                        }\r\n                        return eventName;\r\n                    }\r\n                    touch.touchStartEventName = touchStartEventName;\r\n                    function touchMoveEventName() {\r\n                        var eventName = "touchmove";\r\n                        if (window["PointerEvent"]) {\r\n                            // IE11\r\n                            eventName = "pointermove";\r\n                        }\r\n                        return eventName;\r\n                    }\r\n                    touch.touchMoveEventName = touchMoveEventName;\r\n                    function touchEndEventName() {\r\n                        var eventName = "touchend";\r\n                        if (window["PointerEvent"]) {\r\n                            // IE11\r\n                            eventName = "pointerup";\r\n                        }\r\n                        return eventName;\r\n                    }\r\n                    touch.touchEndEventName = touchEndEventName;\r\n                    function usePointerEvents() {\r\n                        var eventName = touchStartEventName();\r\n                        return eventName === "pointerdown" || eventName === "MSPointerDown";\r\n                    }\r\n                    touch.usePointerEvents = usePointerEvents;\r\n                })(touch = svg.touch || (svg.touch = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                function getCoordinates(rootNode, isPointerEvent) {\r\n                    var coordinates;\r\n                    if (isPointerEvent) {\r\n                        // DO NOT USE - WebKit bug in getScreenCTM with nested SVG results in slight negative coordinate shift\r\n                        // Also, IE will incorporate transform scale but WebKit does not, forcing us to detect browser and adjust appropriately.\r\n                        // Just use non-scaled coordinates for all browsers, and adjust for the transform scale later (see lineChart.findIndex)\r\n                        // coordinates = d3.mouse(rootNode);\r\n                        // copied from d3_eventSource (which is not exposed)\r\n                        var e = d3.event, s = void 0;\r\n                        while (s = e.sourceEvent)\r\n                            e = s;\r\n                        var rect = rootNode.getBoundingClientRect();\r\n                        coordinates = [e.clientX - rect.left - rootNode.clientLeft, e.clientY - rect.top - rootNode.clientTop];\r\n                    }\r\n                    else {\r\n                        var touchCoordinates = d3.touches(rootNode);\r\n                        if (touchCoordinates && touchCoordinates.length > 0) {\r\n                            coordinates = touchCoordinates[0];\r\n                        }\r\n                    }\r\n                    return coordinates;\r\n                }\r\n                svg.getCoordinates = getCoordinates;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                /**\r\n                 * Very small values, when stringified, may be converted to scientific notation and cause a temporarily\r\n                 * invalid attribute or style property value.\r\n                 * For example, the number 0.0000001 is converted to the string "1e-7".\r\n                 * This is particularly noticeable when interpolating opacity values.\r\n                 * To avoid scientific notation, start or end the transition at 1e-6,\r\n                 * which is the smallest value that is not stringified in exponential notation.\r\n                 */\r\n                svg.AlmostZero = 1e-6;\r\n                /**\r\n                     * Creates a translate string for use with the SVG transform call.\r\n                     */\r\n                function translate(x, y) {\r\n                    return "translate(" + x + "," + y + ")";\r\n                }\r\n                svg.translate = translate;\r\n                /**\r\n                 * Creates a translateX string for use with the SVG transform call.\r\n                 */\r\n                function translateXWithPixels(x) {\r\n                    return "translateX(" + x + "px)";\r\n                }\r\n                svg.translateXWithPixels = translateXWithPixels;\r\n                function translateWithPixels(x, y) {\r\n                    return "translate(" + x + "px," + y + "px)";\r\n                }\r\n                svg.translateWithPixels = translateWithPixels;\r\n                /**\r\n                 * Creates a translate + rotate string for use with the SVG transform call.\r\n                 */\r\n                function translateAndRotate(x, y, px, py, angle) {\r\n                    return "translate("\r\n                        + x + "," + y + ")"\r\n                        + " rotate(" + angle + "," + px + "," + py + ")";\r\n                }\r\n                svg.translateAndRotate = translateAndRotate;\r\n                /**\r\n                 * Creates a scale string for use in a CSS transform property.\r\n                 */\r\n                function scale(scale) {\r\n                    return "scale(" + scale + ")";\r\n                }\r\n                svg.scale = scale;\r\n                /**\r\n                 * Creates a translate + scale string for use with the SVG transform call.\r\n                 */\r\n                function translateAndScale(x, y, ratio) {\r\n                    return "translate("\r\n                        + x + "," + y + ")"\r\n                        + " scale(" + ratio + ")";\r\n                }\r\n                svg.translateAndScale = translateAndScale;\r\n                /**\r\n                 * Creates a transform origin string for use in a CSS transform-origin property.\r\n                 */\r\n                function transformOrigin(xOffset, yOffset) {\r\n                    return xOffset + " " + yOffset;\r\n                }\r\n                svg.transformOrigin = transformOrigin;\r\n                /**\r\n                 * Forces all D3 transitions to complete.\r\n                 * Normally, zero-delay transitions are executed after an instantaneous delay (<10ms).\r\n                 * This can cause a brief flicker if the browser renders the page twice: once at the end of the first event loop,\r\n                 * then again immediately on the first timer callback. By flushing the timer queue at the end of the first event loop,\r\n                 * you can run any zero-delay transitions immediately and avoid the flicker.\r\n                 *\r\n                 * These flickers are noticable on IE, and with a large number of webviews(not recommend you ever do this) on iOS.\r\n                 */\r\n                function flushAllD3Transitions() {\r\n                    var now = Date.now;\r\n                    Date.now = function () { return Infinity; };\r\n                    d3.timer.flush();\r\n                    Date.now = now;\r\n                }\r\n                svg.flushAllD3Transitions = flushAllD3Transitions;\r\n                /**\r\n                 * Wrapper for flushAllD3Transitions.\r\n                 */\r\n                function flushAllD3TransitionsIfNeeded(options) {\r\n                    if (!options)\r\n                        return;\r\n                    var animationOptions = options;\r\n                    if (animationOptions && animationOptions.transitionImmediate) {\r\n                        flushAllD3Transitions();\r\n                    }\r\n                }\r\n                svg.flushAllD3TransitionsIfNeeded = flushAllD3TransitionsIfNeeded;\r\n                /**\r\n                 * There is a known bug in IE10 that causes cryptic crashes for SVG elements with a null "d" attribute:\r\n                 * https://github.com/mbostock/d3/issues/1737\r\n                 */\r\n                function ensureDAttribute(pathElement) {\r\n                    if (!pathElement.getAttribute("d")) {\r\n                        pathElement.setAttribute("d", "");\r\n                    }\r\n                }\r\n                svg.ensureDAttribute = ensureDAttribute;\r\n                /**\r\n                 * In IE10, it is possible to return SVGPoints with NaN members.\r\n                 */\r\n                function ensureValidSVGPoint(point) {\r\n                    if (isNaN(point.x)) {\r\n                        point.x = 0;\r\n                    }\r\n                    if (isNaN(point.y)) {\r\n                        point.y = 0;\r\n                    }\r\n                }\r\n                svg.ensureValidSVGPoint = ensureValidSVGPoint;\r\n                /**\r\n                 * Parse the Transform string with value "translate(x,y)".\r\n                 * In Chrome for the translate(position) string the delimiter\r\n                 * is a comma and in IE it is a spaceso checking for both.\r\n                 */\r\n                function parseTranslateTransform(input) {\r\n                    if (!input || input.length === 0) {\r\n                        return {\r\n                            x: "0",\r\n                            y: "0",\r\n                        };\r\n                    }\r\n                    var translateCoordinates = input.split(/[\\s,]+/);\r\n                    var yValue = "0";\r\n                    var xValue;\r\n                    var xCoord = translateCoordinates[0];\r\n                    // Y coordinate is ommited in I.E if it is 0, so need to check against that\r\n                    if (translateCoordinates.length === 1) {\r\n                        // 10 refers to the length of "translate("\r\n                        xValue = xCoord.substring(10, xCoord.length - 1);\r\n                    }\r\n                    else {\r\n                        var yCoord = translateCoordinates[1];\r\n                        yValue = yCoord.substring(0, yCoord.length - 1);\r\n                        // 10 refers to the length of "translate("\r\n                        xValue = xCoord.substring(10, xCoord.length);\r\n                    }\r\n                    return {\r\n                        x: xValue,\r\n                        y: yValue\r\n                    };\r\n                }\r\n                svg.parseTranslateTransform = parseTranslateTransform;\r\n                /**\r\n                 * Create an arrow.\r\n                 */\r\n                function createArrow(width, height, rotate) {\r\n                    var transform = "rotate(" + rotate + " " + width / 2 + " " + height / 2 + ")";\r\n                    var path = "M0 0";\r\n                    path += "L0 " + height;\r\n                    path += "L" + width + " " + height / 2 + " Z";\r\n                    return {\r\n                        path: path,\r\n                        transform: transform\r\n                    };\r\n                }\r\n                svg.createArrow = createArrow;\r\n                /**\r\n                 * Use the ratio of the scaled bounding rect and the SVG DOM bounding box to get the x and y transform scale values\r\n                 * @deprecated This function is unreliable across browser implementations, prefer to use SVGScaleDetector if needed.\r\n                 */\r\n                function getTransformScaleRatios(svgElement) {\r\n                    if (svgElement != null) {\r\n                        var scaledRect = svgElement.getBoundingClientRect();\r\n                        var domRect = svgElement.getBBox();\r\n                        if (domRect.height > 0 && domRect.width > 0) {\r\n                            return {\r\n                                x: scaledRect.width / domRect.width,\r\n                                y: scaledRect.height / domRect.height\r\n                            };\r\n                        }\r\n                    }\r\n                    return { x: 1, y: 1 };\r\n                }\r\n                svg.getTransformScaleRatios = getTransformScaleRatios;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var SVGScaleDetector = (function () {\r\n                    function SVGScaleDetector(svgElement) {\r\n                        this.scaleDetectorElement = svgElement\r\n                            .append("rect") // Using a <rect> which should have a reliable bounding box across browser implementations.\r\n                            .classed("scale-detector", true)\r\n                            .attr({\r\n                            width: 1,\r\n                            height: 1,\r\n                            "stroke-width": "0px",\r\n                            fill: "none",\r\n                        })\r\n                            .node();\r\n                    }\r\n                    SVGScaleDetector.prototype.getScale = function () {\r\n                        var scaledRect = this.scaleDetectorElement.getBoundingClientRect();\r\n                        var domRect = this.scaleDetectorElement.getBBox();\r\n                        if (domRect.height > 0 && domRect.width > 0) {\r\n                            return {\r\n                                x: scaledRect.width / domRect.width,\r\n                                y: scaledRect.height / domRect.height\r\n                            };\r\n                        }\r\n                        return {\r\n                            x: 1,\r\n                            y: 1\r\n                        };\r\n                    };\r\n                    return SVGScaleDetector;\r\n                }());\r\n                svg.SVGScaleDetector = SVGScaleDetector;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n';
},function(e,t){e.exports='/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                /**\r\n                 * Module Double contains a set of constants and precision based utility methods\r\n                 * for dealing with doubles and their decimal garbage in the javascript.\r\n                 */\r\n                var Double;\r\n                (function (Double) {\r\n                    // Constants.\r\n                    Double.MIN_VALUE = -Number.MAX_VALUE;\r\n                    Double.MAX_VALUE = Number.MAX_VALUE;\r\n                    Double.MIN_EXP = -308;\r\n                    Double.MAX_EXP = 308;\r\n                    Double.EPSILON = 1E-323;\r\n                    Double.DEFAULT_PRECISION = 0.0001;\r\n                    Double.DEFAULT_PRECISION_IN_DECIMAL_DIGITS = 12;\r\n                    Double.LOG_E_10 = Math.log(10);\r\n                    Double.POSITIVE_POWERS = [\r\n                        1E0, 1E1, 1E2, 1E3, 1E4, 1E5, 1E6, 1E7, 1E8, 1E9, 1E10, 1E11, 1E12, 1E13, 1E14, 1E15, 1E16, 1E17, 1E18, 1E19, 1E20, 1E21, 1E22, 1E23, 1E24, 1E25, 1E26, 1E27, 1E28, 1E29, 1E30, 1E31, 1E32, 1E33, 1E34, 1E35, 1E36, 1E37, 1E38, 1E39, 1E40, 1E41, 1E42, 1E43, 1E44, 1E45, 1E46, 1E47, 1E48, 1E49, 1E50, 1E51, 1E52, 1E53, 1E54, 1E55, 1E56, 1E57, 1E58, 1E59, 1E60, 1E61, 1E62, 1E63, 1E64, 1E65, 1E66, 1E67, 1E68, 1E69, 1E70, 1E71, 1E72, 1E73, 1E74, 1E75, 1E76, 1E77, 1E78, 1E79, 1E80, 1E81, 1E82, 1E83, 1E84, 1E85, 1E86, 1E87, 1E88, 1E89, 1E90, 1E91, 1E92, 1E93, 1E94, 1E95, 1E96, 1E97, 1E98, 1E99,\r\n                        1E100, 1E101, 1E102, 1E103, 1E104, 1E105, 1E106, 1E107, 1E108, 1E109, 1E110, 1E111, 1E112, 1E113, 1E114, 1E115, 1E116, 1E117, 1E118, 1E119, 1E120, 1E121, 1E122, 1E123, 1E124, 1E125, 1E126, 1E127, 1E128, 1E129, 1E130, 1E131, 1E132, 1E133, 1E134, 1E135, 1E136, 1E137, 1E138, 1E139, 1E140, 1E141, 1E142, 1E143, 1E144, 1E145, 1E146, 1E147, 1E148, 1E149, 1E150, 1E151, 1E152, 1E153, 1E154, 1E155, 1E156, 1E157, 1E158, 1E159, 1E160, 1E161, 1E162, 1E163, 1E164, 1E165, 1E166, 1E167, 1E168, 1E169, 1E170, 1E171, 1E172, 1E173, 1E174, 1E175, 1E176, 1E177, 1E178, 1E179, 1E180, 1E181, 1E182, 1E183, 1E184, 1E185, 1E186, 1E187, 1E188, 1E189, 1E190, 1E191, 1E192, 1E193, 1E194, 1E195, 1E196, 1E197, 1E198, 1E199,\r\n                        1E200, 1E201, 1E202, 1E203, 1E204, 1E205, 1E206, 1E207, 1E208, 1E209, 1E210, 1E211, 1E212, 1E213, 1E214, 1E215, 1E216, 1E217, 1E218, 1E219, 1E220, 1E221, 1E222, 1E223, 1E224, 1E225, 1E226, 1E227, 1E228, 1E229, 1E230, 1E231, 1E232, 1E233, 1E234, 1E235, 1E236, 1E237, 1E238, 1E239, 1E240, 1E241, 1E242, 1E243, 1E244, 1E245, 1E246, 1E247, 1E248, 1E249, 1E250, 1E251, 1E252, 1E253, 1E254, 1E255, 1E256, 1E257, 1E258, 1E259, 1E260, 1E261, 1E262, 1E263, 1E264, 1E265, 1E266, 1E267, 1E268, 1E269, 1E270, 1E271, 1E272, 1E273, 1E274, 1E275, 1E276, 1E277, 1E278, 1E279, 1E280, 1E281, 1E282, 1E283, 1E284, 1E285, 1E286, 1E287, 1E288, 1E289, 1E290, 1E291, 1E292, 1E293, 1E294, 1E295, 1E296, 1E297, 1E298, 1E299,\r\n                        1E300, 1E301, 1E302, 1E303, 1E304, 1E305, 1E306, 1E307, 1E308\r\n                    ];\r\n                    Double.NEGATIVE_POWERS = [\r\n                        1E0, 1E-1, 1E-2, 1E-3, 1E-4, 1E-5, 1E-6, 1E-7, 1E-8, 1E-9, 1E-10, 1E-11, 1E-12, 1E-13, 1E-14, 1E-15, 1E-16, 1E-17, 1E-18, 1E-19, 1E-20, 1E-21, 1E-22, 1E-23, 1E-24, 1E-25, 1E-26, 1E-27, 1E-28, 1E-29, 1E-30, 1E-31, 1E-32, 1E-33, 1E-34, 1E-35, 1E-36, 1E-37, 1E-38, 1E-39, 1E-40, 1E-41, 1E-42, 1E-43, 1E-44, 1E-45, 1E-46, 1E-47, 1E-48, 1E-49, 1E-50, 1E-51, 1E-52, 1E-53, 1E-54, 1E-55, 1E-56, 1E-57, 1E-58, 1E-59, 1E-60, 1E-61, 1E-62, 1E-63, 1E-64, 1E-65, 1E-66, 1E-67, 1E-68, 1E-69, 1E-70, 1E-71, 1E-72, 1E-73, 1E-74, 1E-75, 1E-76, 1E-77, 1E-78, 1E-79, 1E-80, 1E-81, 1E-82, 1E-83, 1E-84, 1E-85, 1E-86, 1E-87, 1E-88, 1E-89, 1E-90, 1E-91, 1E-92, 1E-93, 1E-94, 1E-95, 1E-96, 1E-97, 1E-98, 1E-99,\r\n                        1E-100, 1E-101, 1E-102, 1E-103, 1E-104, 1E-105, 1E-106, 1E-107, 1E-108, 1E-109, 1E-110, 1E-111, 1E-112, 1E-113, 1E-114, 1E-115, 1E-116, 1E-117, 1E-118, 1E-119, 1E-120, 1E-121, 1E-122, 1E-123, 1E-124, 1E-125, 1E-126, 1E-127, 1E-128, 1E-129, 1E-130, 1E-131, 1E-132, 1E-133, 1E-134, 1E-135, 1E-136, 1E-137, 1E-138, 1E-139, 1E-140, 1E-141, 1E-142, 1E-143, 1E-144, 1E-145, 1E-146, 1E-147, 1E-148, 1E-149, 1E-150, 1E-151, 1E-152, 1E-153, 1E-154, 1E-155, 1E-156, 1E-157, 1E-158, 1E-159, 1E-160, 1E-161, 1E-162, 1E-163, 1E-164, 1E-165, 1E-166, 1E-167, 1E-168, 1E-169, 1E-170, 1E-171, 1E-172, 1E-173, 1E-174, 1E-175, 1E-176, 1E-177, 1E-178, 1E-179, 1E-180, 1E-181, 1E-182, 1E-183, 1E-184, 1E-185, 1E-186, 1E-187, 1E-188, 1E-189, 1E-190, 1E-191, 1E-192, 1E-193, 1E-194, 1E-195, 1E-196, 1E-197, 1E-198, 1E-199,\r\n                        1E-200, 1E-201, 1E-202, 1E-203, 1E-204, 1E-205, 1E-206, 1E-207, 1E-208, 1E-209, 1E-210, 1E-211, 1E-212, 1E-213, 1E-214, 1E-215, 1E-216, 1E-217, 1E-218, 1E-219, 1E-220, 1E-221, 1E-222, 1E-223, 1E-224, 1E-225, 1E-226, 1E-227, 1E-228, 1E-229, 1E-230, 1E-231, 1E-232, 1E-233, 1E-234, 1E-235, 1E-236, 1E-237, 1E-238, 1E-239, 1E-240, 1E-241, 1E-242, 1E-243, 1E-244, 1E-245, 1E-246, 1E-247, 1E-248, 1E-249, 1E-250, 1E-251, 1E-252, 1E-253, 1E-254, 1E-255, 1E-256, 1E-257, 1E-258, 1E-259, 1E-260, 1E-261, 1E-262, 1E-263, 1E-264, 1E-265, 1E-266, 1E-267, 1E-268, 1E-269, 1E-270, 1E-271, 1E-272, 1E-273, 1E-274, 1E-275, 1E-276, 1E-277, 1E-278, 1E-279, 1E-280, 1E-281, 1E-282, 1E-283, 1E-284, 1E-285, 1E-286, 1E-287, 1E-288, 1E-289, 1E-290, 1E-291, 1E-292, 1E-293, 1E-294, 1E-295, 1E-296, 1E-297, 1E-298, 1E-299,\r\n                        1E-300, 1E-301, 1E-302, 1E-303, 1E-304, 1E-305, 1E-306, 1E-307, 1E-308, 1E-309, 1E-310, 1E-311, 1E-312, 1E-313, 1E-314, 1E-315, 1E-316, 1E-317, 1E-318, 1E-319, 1E-320, 1E-321, 1E-322, 1E-323, 1E-324\r\n                    ];\r\n                    /**\r\n                     * Returns powers of 10.\r\n                     * Unlike the Math.pow this function produces no decimal garbage.\r\n                     * @param exp Exponent.\r\n                     */\r\n                    function pow10(exp) {\r\n                        // Positive & zero\r\n                        if (exp >= 0) {\r\n                            if (exp < Double.POSITIVE_POWERS.length) {\r\n                                return Double.POSITIVE_POWERS[exp];\r\n                            }\r\n                            else {\r\n                                return Infinity;\r\n                            }\r\n                        }\r\n                        // Negative\r\n                        exp = -exp;\r\n                        if (exp > 0 && exp < Double.NEGATIVE_POWERS.length) {\r\n                            return Double.NEGATIVE_POWERS[exp];\r\n                        }\r\n                        else {\r\n                            return 0;\r\n                        }\r\n                    }\r\n                    Double.pow10 = pow10;\r\n                    /**\r\n                     * Returns the 10 base logarithm of the number.\r\n                     * Unlike Math.log function this produces integer results with no decimal garbage.\r\n                     * @param val Positive value or zero.\r\n                     */\r\n                    function log10(val) {\r\n                        // Fast Log10() algorithm\r\n                        if (val > 1 && val < 1E16) {\r\n                            if (val < 1E8) {\r\n                                if (val < 1E4) {\r\n                                    if (val < 1E2) {\r\n                                        if (val < 1E1) {\r\n                                            return 0;\r\n                                        }\r\n                                        else {\r\n                                            return 1;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E3) {\r\n                                            return 2;\r\n                                        }\r\n                                        else {\r\n                                            return 3;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E6) {\r\n                                        if (val < 1E5) {\r\n                                            return 4;\r\n                                        }\r\n                                        else {\r\n                                            return 5;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E7) {\r\n                                            return 6;\r\n                                        }\r\n                                        else {\r\n                                            return 7;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (val < 1E12) {\r\n                                    if (val < 1E10) {\r\n                                        if (val < 1E9) {\r\n                                            return 8;\r\n                                        }\r\n                                        else {\r\n                                            return 9;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E11) {\r\n                                            return 10;\r\n                                        }\r\n                                        else {\r\n                                            return 11;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E14) {\r\n                                        if (val < 1E13) {\r\n                                            return 12;\r\n                                        }\r\n                                        else {\r\n                                            return 13;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E15) {\r\n                                            return 14;\r\n                                        }\r\n                                        else {\r\n                                            return 15;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (val > 1E-16 && val < 1) {\r\n                            if (val < 1E-8) {\r\n                                if (val < 1E-12) {\r\n                                    if (val < 1E-14) {\r\n                                        if (val < 1E-15) {\r\n                                            return -16;\r\n                                        }\r\n                                        else {\r\n                                            return -15;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-13) {\r\n                                            return -14;\r\n                                        }\r\n                                        else {\r\n                                            return -13;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E-10) {\r\n                                        if (val < 1E-11) {\r\n                                            return -12;\r\n                                        }\r\n                                        else {\r\n                                            return -11;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-9) {\r\n                                            return -10;\r\n                                        }\r\n                                        else {\r\n                                            return -9;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (val < 1E-4) {\r\n                                    if (val < 1E-6) {\r\n                                        if (val < 1E-7) {\r\n                                            return -8;\r\n                                        }\r\n                                        else {\r\n                                            return -7;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-5) {\r\n                                            return -6;\r\n                                        }\r\n                                        else {\r\n                                            return -5;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E-2) {\r\n                                        if (val < 1E-3) {\r\n                                            return -4;\r\n                                        }\r\n                                        else {\r\n                                            return -3;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-1) {\r\n                                            return -2;\r\n                                        }\r\n                                        else {\r\n                                            return -1;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        // JS Math provides only natural log function so we need to calc the 10 base logarithm:\r\n                        // logb(x) = logk(x)/logk(b);\r\n                        var log10 = Math.log(val) / Double.LOG_E_10;\r\n                        return Double.floorWithPrecision(log10);\r\n                    }\r\n                    Double.log10 = log10;\r\n                    /**\r\n                     * Returns a power of 10 representing precision of the number based on the number of meaningful decimal digits.\r\n                     * For example the precision of 56,263.3767 with the 6 meaningful decimal digit is 0.1.\r\n                     * @param x Value.\r\n                     * @param decimalDigits How many decimal digits are meaningfull.\r\n                     */\r\n                    function getPrecision(x, decimalDigits) {\r\n                        if (decimalDigits === undefined) {\r\n                            decimalDigits = Double.DEFAULT_PRECISION_IN_DECIMAL_DIGITS;\r\n                        }\r\n                        if (!x || !isFinite(x)) {\r\n                            return undefined;\r\n                        }\r\n                        var exp = Double.log10(Math.abs(x));\r\n                        if (exp < Double.MIN_EXP) {\r\n                            return 0;\r\n                        }\r\n                        var precisionExp = Math.max(exp - decimalDigits, -Double.NEGATIVE_POWERS.length + 1);\r\n                        return Double.pow10(precisionExp);\r\n                    }\r\n                    Double.getPrecision = getPrecision;\r\n                    /**\r\n                     * Checks if a delta between 2 numbers is less than provided precision.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function equalWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x === y || Math.abs(x - y) < precision;\r\n                    }\r\n                    Double.equalWithPrecision = equalWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is less than another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function lessWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x < y && Math.abs(x - y) > precision;\r\n                    }\r\n                    Double.lessWithPrecision = lessWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is less or equal than another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function lessOrEqualWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x < y || Math.abs(x - y) < precision;\r\n                    }\r\n                    Double.lessOrEqualWithPrecision = lessOrEqualWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is greater than another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function greaterWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x > y && Math.abs(x - y) > precision;\r\n                    }\r\n                    Double.greaterWithPrecision = greaterWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is greater or equal to another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function greaterOrEqualWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x > y || Math.abs(x - y) < precision;\r\n                    }\r\n                    Double.greaterOrEqualWithPrecision = greaterOrEqualWithPrecision;\r\n                    /**\r\n                     * Floors the number unless it\'s withing the precision distance from the higher int.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function floorWithPrecision(x, precision) {\r\n                        precision = precision != null ? precision : Double.DEFAULT_PRECISION;\r\n                        var roundX = Math.round(x);\r\n                        if (Math.abs(x - roundX) < precision) {\r\n                            return roundX;\r\n                        }\r\n                        else {\r\n                            return Math.floor(x);\r\n                        }\r\n                    }\r\n                    Double.floorWithPrecision = floorWithPrecision;\r\n                    /**\r\n                     * Ceils the number unless it\'s withing the precision distance from the lower int.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function ceilWithPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        var roundX = Math.round(x);\r\n                        if (Math.abs(x - roundX) < precision) {\r\n                            return roundX;\r\n                        }\r\n                        else {\r\n                            return Math.ceil(x);\r\n                        }\r\n                    }\r\n                    Double.ceilWithPrecision = ceilWithPrecision;\r\n                    /**\r\n                     * Floors the number to the provided precision.\r\n                     * For example 234,578 floored to 1,000 precision is 234,000.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function floorToPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        if (precision === 0 || x === 0) {\r\n                            return x;\r\n                        }\r\n                        // Precision must be a Power of 10\r\n                        return Math.floor(x / precision) * precision;\r\n                    }\r\n                    Double.floorToPrecision = floorToPrecision;\r\n                    /**\r\n                     * Ceils the number to the provided precision.\r\n                     * For example 234,578 floored to 1,000 precision is 235,000.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function ceilToPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        if (precision === 0 || x === 0) {\r\n                            return x;\r\n                        }\r\n                        // Precision must be a Power of 10\r\n                        return Math.ceil(x / precision) * precision;\r\n                    }\r\n                    Double.ceilToPrecision = ceilToPrecision;\r\n                    /**\r\n                     * Rounds the number to the provided precision.\r\n                     * For example 234,578 floored to 1,000 precision is 235,000.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function roundToPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        if (precision === 0 || x === 0) {\r\n                            return x;\r\n                        }\r\n                        // Precision must be a Power of 10\r\n                        var result = Math.round(x / precision) * precision;\r\n                        var decimalDigits = Math.round(Double.log10(Math.abs(x)) - Double.log10(precision)) + 1;\r\n                        if (decimalDigits > 0 && decimalDigits < 16) {\r\n                            result = parseFloat(result.toPrecision(decimalDigits));\r\n                        }\r\n                        return result;\r\n                    }\r\n                    Double.roundToPrecision = roundToPrecision;\r\n                    /**\r\n                     * Returns the value making sure that it\'s restricted to the provided range.\r\n                     * @param x One value.\r\n                     * @param min Range min boundary.\r\n                     * @param max Range max boundary.\r\n                     */\r\n                    function ensureInRange(x, min, max) {\r\n                        if (x === undefined || x === null) {\r\n                            return x;\r\n                        }\r\n                        if (x < min) {\r\n                            return min;\r\n                        }\r\n                        if (x > max) {\r\n                            return max;\r\n                        }\r\n                        return x;\r\n                    }\r\n                    Double.ensureInRange = ensureInRange;\r\n                    /**\r\n                     * Rounds the value - this method is actually faster than Math.round - used in the graphics utils.\r\n                     * @param x Value to round.\r\n                     */\r\n                    function round(x) {\r\n                        return (0.5 + x) << 0;\r\n                    }\r\n                    Double.round = round;\r\n                    /**\r\n                     * Projects the value from the source range into the target range.\r\n                     * @param value Value to project.\r\n                     * @param fromMin Minimum of the source range.\r\n                     * @param toMin Minimum of the target range.\r\n                     * @param toMax Maximum of the target range.\r\n                     */\r\n                    function project(value, fromMin, fromSize, toMin, toSize) {\r\n                        if (fromSize === 0 || toSize === 0) {\r\n                            if (fromMin <= value && value <= fromMin + fromSize) {\r\n                                return toMin;\r\n                            }\r\n                            else {\r\n                                return NaN;\r\n                            }\r\n                        }\r\n                        var relativeX = (value - fromMin) / fromSize;\r\n                        var projectedX = toMin + relativeX * toSize;\r\n                        return projectedX;\r\n                    }\r\n                    Double.project = project;\r\n                    /**\r\n                     * Removes decimal noise.\r\n                     * @param value Value to be processed.\r\n                     */\r\n                    function removeDecimalNoise(value) {\r\n                        return roundToPrecision(value, getPrecision(value));\r\n                    }\r\n                    Double.removeDecimalNoise = removeDecimalNoise;\r\n                    /**\r\n                     * Checks whether the number is integer.\r\n                     * @param value Value to be checked.\r\n                     */\r\n                    function isInteger(value) {\r\n                        return value !== null && value % 1 === 0;\r\n                    }\r\n                    Double.isInteger = isInteger;\r\n                    /**\r\n                     * Dividing by increment will give us count of increments\r\n                     * Round out the rough edges into even integer\r\n                     * Multiply back by increment to get rounded value\r\n                     * e.g. Rounder.toIncrement(0.647291, 0.05) => 0.65\r\n                     * @param value - value to round to nearest increment\r\n                     * @param increment - smallest increment to round toward\r\n                     */\r\n                    function toIncrement(value, increment) {\r\n                        return Math.round(value / increment) * increment;\r\n                    }\r\n                    Double.toIncrement = toIncrement;\r\n                    /**\r\n                     * Overrides the given precision with defaults if necessary. Exported only for tests\r\n                     *\r\n                     * precision defined returns precision\r\n                     * x defined with y undefined returns twelve digits of precision based on x\r\n                     * x defined but zero with y defined; returns twelve digits of precision based on y\r\n                     * x and y defined retursn twelve digits of precision based on the minimum of the two\r\n                     * if no applicable precision is found based on those (such as x and y being zero), the default precision is used\r\n                     */\r\n                    function detectPrecision(precision, x, y) {\r\n                        if (precision !== undefined) {\r\n                            return precision;\r\n                        }\r\n                        var calculatedPrecision;\r\n                        if (!y) {\r\n                            calculatedPrecision = Double.getPrecision(x);\r\n                        }\r\n                        else if (!x) {\r\n                            calculatedPrecision = Double.getPrecision(y);\r\n                        }\r\n                        else {\r\n                            calculatedPrecision = Double.getPrecision(Math.min(Math.abs(x), Math.abs(y)));\r\n                        }\r\n                        return calculatedPrecision || Double.DEFAULT_PRECISION;\r\n                    }\r\n                    Double.detectPrecision = detectPrecision;\r\n                })(Double = type.Double || (type.Double = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var Prototype;\r\n                (function (Prototype) {\r\n                    /**\r\n                     * Returns a new object with the provided obj as its prototype.\r\n                     */\r\n                    function inherit(obj, extension) {\r\n                        function wrapCtor() { }\r\n                        wrapCtor.prototype = obj;\r\n                        var inherited = new wrapCtor();\r\n                        if (extension)\r\n                            extension(inherited);\r\n                        return inherited;\r\n                    }\r\n                    Prototype.inherit = inherit;\r\n                    /**\r\n                     * Returns a new object with the provided obj as its prototype\r\n                     * if, and only if, the prototype has not been previously set\r\n                     */\r\n                    function inheritSingle(obj) {\r\n                        var proto = Object.getPrototypeOf(obj);\r\n                        if (proto === Object.prototype || proto === Array.prototype)\r\n                            obj = inherit(obj);\r\n                        return obj;\r\n                    }\r\n                    Prototype.inheritSingle = inheritSingle;\r\n                    /**\r\n                     * Uses the provided callback function to selectively replace contents in the provided array.\r\n                     * @return A new array with those values overriden\r\n                     * or undefined if no overrides are necessary.\r\n                     */\r\n                    function overrideArray(prototype, override) {\r\n                        if (!prototype)\r\n                            return;\r\n                        var overwritten;\r\n                        for (var i = 0, len = prototype.length; i < len; i++) {\r\n                            var value = override(prototype[i]);\r\n                            if (value) {\r\n                                if (!overwritten)\r\n                                    overwritten = inherit(prototype);\r\n                                overwritten[i] = value;\r\n                            }\r\n                        }\r\n                        return overwritten;\r\n                    }\r\n                    Prototype.overrideArray = overrideArray;\r\n                })(Prototype = type.Prototype || (type.Prototype = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var ArrayExtensions;\r\n                (function (ArrayExtensions) {\r\n                    /**\r\n                     * Returns items that exist in target and other.\r\n                     */\r\n                    function intersect(target, other) {\r\n                        var result = [];\r\n                        for (var i = target.length - 1; i >= 0; --i) {\r\n                            if (other.indexOf(target[i]) !== -1) {\r\n                                result.push(target[i]);\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.intersect = intersect;\r\n                    /**\r\n                     * Return elements exists in target but not exists in other.\r\n                     */\r\n                    function diff(target, other) {\r\n                        var result = [];\r\n                        for (var i = target.length - 1; i >= 0; --i) {\r\n                            var value = target[i];\r\n                            if (other.indexOf(value) === -1) {\r\n                                result.push(value);\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.diff = diff;\r\n                    /**\r\n                     * Return an array with only the distinct items in the source.\r\n                     */\r\n                    function distinct(source) {\r\n                        var result = [];\r\n                        for (var i = 0, len = source.length; i < len; i++) {\r\n                            var value = source[i];\r\n                            if (result.indexOf(value) === -1) {\r\n                                result.push(value);\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.distinct = distinct;\r\n                    /**\r\n                     * Pushes content of source onto target,\r\n                     * for parts of course that do not already exist in target.\r\n                     */\r\n                    function union(target, source) {\r\n                        for (var i = 0, len = source.length; i < len; ++i) {\r\n                            unionSingle(target, source[i]);\r\n                        }\r\n                    }\r\n                    ArrayExtensions.union = union;\r\n                    /**\r\n                     * Pushes value onto target, if value does not already exist in target.\r\n                     */\r\n                    function unionSingle(target, value) {\r\n                        if (target.indexOf(value) < 0) {\r\n                            target.push(value);\r\n                        }\r\n                    }\r\n                    ArrayExtensions.unionSingle = unionSingle;\r\n                    /**\r\n                     * Returns an array with a range of items from source,\r\n                     * including the startIndex & endIndex.\r\n                     */\r\n                    function range(source, startIndex, endIndex) {\r\n                        var result = [];\r\n                        for (var i = startIndex; i <= endIndex; ++i) {\r\n                            result.push(source[i]);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.range = range;\r\n                    /**\r\n                     * Returns an array that includes items from source, up to the specified count.\r\n                     */\r\n                    function take(source, count) {\r\n                        var result = [];\r\n                        for (var i = 0; i < count; ++i) {\r\n                            result.push(source[i]);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.take = take;\r\n                    function copy(source) {\r\n                        return take(source, source.length);\r\n                    }\r\n                    ArrayExtensions.copy = copy;\r\n                    /**\r\n                      * Returns a value indicating whether the arrays have the same values in the same sequence.\r\n                      */\r\n                    function sequenceEqual(left, right, comparison) {\r\n                        // Normalize falsy to null\r\n                        if (!left) {\r\n                            left = null;\r\n                        }\r\n                        if (!right) {\r\n                            right = null;\r\n                        }\r\n                        // T can be same as U, and it is possible for left and right to be the same array object...\r\n                        if (left === right) {\r\n                            return true;\r\n                        }\r\n                        if (!!left !== !!right) {\r\n                            return false;\r\n                        }\r\n                        var len = left.length;\r\n                        if (len !== right.length) {\r\n                            return false;\r\n                        }\r\n                        var i = 0;\r\n                        while (i < len && comparison(left[i], right[i])) {\r\n                            ++i;\r\n                        }\r\n                        return i === len;\r\n                    }\r\n                    ArrayExtensions.sequenceEqual = sequenceEqual;\r\n                    /**\r\n                     * Returns null if the specified array is empty.\r\n                     * Otherwise returns the specified array.\r\n                     */\r\n                    function emptyToNull(array) {\r\n                        if (array && array.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return array;\r\n                    }\r\n                    ArrayExtensions.emptyToNull = emptyToNull;\r\n                    function indexOf(array, predicate) {\r\n                        for (var i = 0, len = array.length; i < len; ++i) {\r\n                            if (predicate(array[i])) {\r\n                                return i;\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    ArrayExtensions.indexOf = indexOf;\r\n                    /**\r\n                     * Returns a copy of the array rotated by the specified offset.\r\n                     */\r\n                    function rotate(array, offset) {\r\n                        if (offset === 0)\r\n                            return array.slice();\r\n                        var rotated = array.slice(offset);\r\n                        Array.prototype.push.apply(rotated, array.slice(0, offset));\r\n                        return rotated;\r\n                    }\r\n                    ArrayExtensions.rotate = rotate;\r\n                    function createWithId() {\r\n                        return extendWithId([]);\r\n                    }\r\n                    ArrayExtensions.createWithId = createWithId;\r\n                    function extendWithId(array) {\r\n                        var extended = array;\r\n                        extended.withId = withId;\r\n                        return extended;\r\n                    }\r\n                    ArrayExtensions.extendWithId = extendWithId;\r\n                    /**\r\n                     * Finds and returns the first item with a matching ID.\r\n                     */\r\n                    function findWithId(array, id) {\r\n                        for (var i = 0, len = array.length; i < len; i++) {\r\n                            var item = array[i];\r\n                            if (item.id === id)\r\n                                return item;\r\n                        }\r\n                    }\r\n                    ArrayExtensions.findWithId = findWithId;\r\n                    function withId(id) {\r\n                        return ArrayExtensions.findWithId(this, id);\r\n                    }\r\n                    function createWithName() {\r\n                        return extendWithName([]);\r\n                    }\r\n                    ArrayExtensions.createWithName = createWithName;\r\n                    function extendWithName(array) {\r\n                        var extended = array;\r\n                        extended.withName = withName;\r\n                        return extended;\r\n                    }\r\n                    ArrayExtensions.extendWithName = extendWithName;\r\n                    function findItemWithName(array, name) {\r\n                        var index = indexWithName(array, name);\r\n                        if (index >= 0)\r\n                            return array[index];\r\n                    }\r\n                    ArrayExtensions.findItemWithName = findItemWithName;\r\n                    function indexWithName(array, name) {\r\n                        for (var i = 0, len = array.length; i < len; i++) {\r\n                            var item = array[i];\r\n                            if (item.name === name)\r\n                                return i;\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    ArrayExtensions.indexWithName = indexWithName;\r\n                    /**\r\n                     * Inserts a number in sorted order into a list of numbers already in sorted order.\r\n                     * @returns True if the item was added, false if it already existed.\r\n                     */\r\n                    function insertSorted(list, value) {\r\n                        var len = list.length;\r\n                        // NOTE: iterate backwards because incoming values tend to be sorted already.\r\n                        for (var i = len - 1; i >= 0; i--) {\r\n                            var diff_1 = list[i] - value;\r\n                            if (diff_1 === 0)\r\n                                return false;\r\n                            if (diff_1 > 0)\r\n                                continue;\r\n                            // diff < 0\r\n                            list.splice(i + 1, 0, value);\r\n                            return true;\r\n                        }\r\n                        list.unshift(value);\r\n                        return true;\r\n                    }\r\n                    ArrayExtensions.insertSorted = insertSorted;\r\n                    /**\r\n                     * Removes the first occurrence of a value from a list if it exists.\r\n                     * @returns True if the value was removed, false if it did not exist in the list.\r\n                     */\r\n                    function removeFirst(list, value) {\r\n                        var index = list.indexOf(value);\r\n                        if (index < 0)\r\n                            return false;\r\n                        list.splice(index, 1);\r\n                        return true;\r\n                    }\r\n                    ArrayExtensions.removeFirst = removeFirst;\r\n                    /**\r\n                     * Finds and returns the first item with a matching name.\r\n                     */\r\n                    function withName(name) {\r\n                        var array = this;\r\n                        return findItemWithName(array, name);\r\n                    }\r\n                    /**\r\n                     * Deletes all items from the array.\r\n                     */\r\n                    function clear(array) {\r\n                        if (!array)\r\n                            return;\r\n                        while (array.length > 0)\r\n                            array.pop();\r\n                    }\r\n                    ArrayExtensions.clear = clear;\r\n                    function isUndefinedOrEmpty(array) {\r\n                        if (!array || array.length === 0) {\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    }\r\n                    ArrayExtensions.isUndefinedOrEmpty = isUndefinedOrEmpty;\r\n                    function swap(array, firstIndex, secondIndex) {\r\n                        var temp = array[firstIndex];\r\n                        array[firstIndex] = array[secondIndex];\r\n                        array[secondIndex] = temp;\r\n                    }\r\n                    ArrayExtensions.swap = swap;\r\n                    function isInArray(array, lookupItem, compareCallback) {\r\n                        return array.some(function (item) { return compareCallback(item, lookupItem); });\r\n                    }\r\n                    ArrayExtensions.isInArray = isInArray;\r\n                    /** Checks if the given object is an Array, and looking all the way up the prototype chain. */\r\n                    function isArrayOrInheritedArray(obj) {\r\n                        var nextPrototype = obj;\r\n                        while (nextPrototype != null) {\r\n                            if (Array.isArray(nextPrototype))\r\n                                return true;\r\n                            nextPrototype = Object.getPrototypeOf(nextPrototype);\r\n                        }\r\n                        return false;\r\n                    }\r\n                    ArrayExtensions.isArrayOrInheritedArray = isArrayOrInheritedArray;\r\n                    /**\r\n                     * Returns true if the specified values array is sorted in an order as determined by the specified compareFunction.\r\n                     */\r\n                    function isSorted(values, compareFunction) {\r\n                        var ilen = values.length;\r\n                        if (ilen >= 2) {\r\n                            for (var i = 1; i < ilen; i++) {\r\n                                if (compareFunction(values[i - 1], values[i]) > 0) {\r\n                                    return false;\r\n                                }\r\n                            }\r\n                        }\r\n                        return true;\r\n                    }\r\n                    ArrayExtensions.isSorted = isSorted;\r\n                    /**\r\n                     * Returns true if the specified number values array is sorted in ascending order\r\n                     * (or descending order if the specified descendingOrder is truthy).\r\n                     */\r\n                    function isSortedNumeric(values, descendingOrder) {\r\n                        var compareFunction = descendingOrder ?\r\n                            function (a, b) { return b - a; } :\r\n                            function (a, b) { return a - b; };\r\n                        return isSorted(values, compareFunction);\r\n                    }\r\n                    ArrayExtensions.isSortedNumeric = isSortedNumeric;\r\n                    /**\r\n                     * Ensures that the given T || T[] is in array form, either returning the array or\r\n                     * converting single items into an array of length one.\r\n                     */\r\n                    function ensureArray(value) {\r\n                        if (Array.isArray(value)) {\r\n                            return value;\r\n                        }\r\n                        return [value];\r\n                    }\r\n                    ArrayExtensions.ensureArray = ensureArray;\r\n                })(ArrayExtensions = type.ArrayExtensions || (type.ArrayExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                /**\r\n                 * Extensions for Enumerations.\r\n                 */\r\n                var EnumExtensions;\r\n                (function (EnumExtensions) {\r\n                    /**\r\n                     * Gets a value indicating whether the value has the bit flags set.\r\n                     */\r\n                    function hasFlag(value, flag) {\r\n                        return (value & flag) === flag;\r\n                    }\r\n                    EnumExtensions.hasFlag = hasFlag;\r\n                    /**\r\n                     * Sets a value of a flag without modifying any other flags.\r\n                     */\r\n                    function setFlag(value, flag) {\r\n                        return value |= flag;\r\n                    }\r\n                    EnumExtensions.setFlag = setFlag;\r\n                    /**\r\n                     * Resets a value of a flag without modifying any other flags.\r\n                     */\r\n                    function resetFlag(value, flag) {\r\n                        return value &= ~flag;\r\n                    }\r\n                    EnumExtensions.resetFlag = resetFlag;\r\n                    /**\r\n                     * According to the TypeScript Handbook, this is safe to do.\r\n                     */\r\n                    function toString(enumType, value) {\r\n                        return enumType[value];\r\n                    }\r\n                    EnumExtensions.toString = toString;\r\n                    /**\r\n                     * Returns the number of 1\'s in the specified value that is a set of binary bit flags.\r\n                     */\r\n                    function getBitCount(value) {\r\n                        if (!Double.isInteger(value))\r\n                            return 0;\r\n                        var bitCount = 0;\r\n                        var shiftingValue = value;\r\n                        while (shiftingValue !== 0) {\r\n                            if ((shiftingValue & 1) === 1) {\r\n                                bitCount++;\r\n                            }\r\n                            shiftingValue = shiftingValue >>> 1;\r\n                        }\r\n                        return bitCount;\r\n                    }\r\n                    EnumExtensions.getBitCount = getBitCount;\r\n                })(EnumExtensions = type.EnumExtensions || (type.EnumExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var NumericSequenceRange = (function () {\r\n                    function NumericSequenceRange() {\r\n                    }\r\n                    NumericSequenceRange.prototype._ensureIncludeZero = function () {\r\n                        if (this.includeZero) {\r\n                            // fixed min and max has higher priority than includeZero\r\n                            if (this.min > 0 && !this.hasFixedMin) {\r\n                                this.min = 0;\r\n                            }\r\n                            if (this.max < 0 && !this.hasFixedMax) {\r\n                                this.max = 0;\r\n                            }\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.prototype._ensureNotEmpty = function () {\r\n                        if (this.min === this.max) {\r\n                            if (!this.min) {\r\n                                this.min = 0;\r\n                                this.max = NumericSequenceRange.DEFAULT_MAX;\r\n                                this.hasFixedMin = true;\r\n                                this.hasFixedMax = true;\r\n                            }\r\n                            else {\r\n                                // We are dealing with a single data value (includeZero is not set)\r\n                                // In order to fix the range we need to extend it in both directions by half of the interval.\r\n                                // Interval is calculated based on the number:\r\n                                // 1. Integers below 10,000 are extended by 0.5: so the [2006-2006] empty range is extended to [2005.5-2006.5] range and the ForsedSingleStop=2006\r\n                                // 2. Other numbers are extended by half of their power: [700,001-700,001] => [650,001-750,001] and the ForsedSingleStop=null as we want the intervals to be calculated to cover the range.\r\n                                var value = this.min;\r\n                                var exp = Double.log10(Math.abs(value));\r\n                                var step = void 0;\r\n                                if (exp >= 0 && exp < 4) {\r\n                                    step = 0.5;\r\n                                    this.forcedSingleStop = value;\r\n                                }\r\n                                else {\r\n                                    step = Double.pow10(exp) / 2;\r\n                                    this.forcedSingleStop = null;\r\n                                }\r\n                                this.min = value - step;\r\n                                this.max = value + step;\r\n                            }\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.prototype._ensureDirection = function () {\r\n                        if (this.min > this.max) {\r\n                            var temp = this.min;\r\n                            this.min = this.max;\r\n                            this.max = temp;\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.prototype.getSize = function () {\r\n                        return this.max - this.min;\r\n                    };\r\n                    NumericSequenceRange.prototype.shrinkByStep = function (range, step) {\r\n                        var oldCount = this.min / step;\r\n                        var newCount = range.min / step;\r\n                        var deltaCount = Math.floor(newCount - oldCount);\r\n                        this.min += deltaCount * step;\r\n                        oldCount = this.max / step;\r\n                        newCount = range.max / step;\r\n                        deltaCount = Math.ceil(newCount - oldCount);\r\n                        this.max += deltaCount * step;\r\n                    };\r\n                    NumericSequenceRange.calculate = function (dataMin, dataMax, fixedMin, fixedMax, includeZero) {\r\n                        var result = new NumericSequenceRange();\r\n                        result.includeZero = includeZero ? true : false;\r\n                        result.hasDataRange = ValueUtil.hasValue(dataMin) && ValueUtil.hasValue(dataMax);\r\n                        result.hasFixedMin = ValueUtil.hasValue(fixedMin);\r\n                        result.hasFixedMax = ValueUtil.hasValue(fixedMax);\r\n                        dataMin = Double.ensureInRange(dataMin, NumericSequenceRange.MIN_SUPPORTED_DOUBLE, NumericSequenceRange.MAX_SUPPORTED_DOUBLE);\r\n                        dataMax = Double.ensureInRange(dataMax, NumericSequenceRange.MIN_SUPPORTED_DOUBLE, NumericSequenceRange.MAX_SUPPORTED_DOUBLE);\r\n                        // Calculate the range using the min, max, dataRange\r\n                        if (result.hasFixedMin && result.hasFixedMax) {\r\n                            result.min = fixedMin;\r\n                            result.max = fixedMax;\r\n                        }\r\n                        else if (result.hasFixedMin) {\r\n                            result.min = fixedMin;\r\n                            result.max = dataMax > fixedMin ? dataMax : fixedMin;\r\n                        }\r\n                        else if (result.hasFixedMax) {\r\n                            result.min = dataMin < fixedMax ? dataMin : fixedMax;\r\n                            result.max = fixedMax;\r\n                        }\r\n                        else if (result.hasDataRange) {\r\n                            result.min = dataMin;\r\n                            result.max = dataMax;\r\n                        }\r\n                        else {\r\n                            result.min = 0;\r\n                            result.max = 0;\r\n                        }\r\n                        result._ensureIncludeZero();\r\n                        result._ensureNotEmpty();\r\n                        result._ensureDirection();\r\n                        if (result.min === 0) {\r\n                            result.hasFixedMin = true; // If the range starts from zero we should prevent extending the intervals into the negative range\r\n                        }\r\n                        else if (result.max === 0) {\r\n                            result.hasFixedMax = true; // If the range ends at zero we should prevent extending the intervals into the positive range\r\n                        }\r\n                        return result;\r\n                    };\r\n                    NumericSequenceRange.calculateDataRange = function (dataMin, dataMax, includeZero) {\r\n                        if (!ValueUtil.hasValue(dataMin) || !ValueUtil.hasValue(dataMax)) {\r\n                            return NumericSequenceRange.calculateFixedRange(0, NumericSequenceRange.DEFAULT_MAX);\r\n                        }\r\n                        else {\r\n                            return NumericSequenceRange.calculate(dataMin, dataMax, null, null, includeZero);\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.calculateFixedRange = function (fixedMin, fixedMax, includeZero) {\r\n                        var result = new NumericSequenceRange();\r\n                        result.hasDataRange = false;\r\n                        result.includeZero = includeZero;\r\n                        result.min = fixedMin;\r\n                        result.max = fixedMax;\r\n                        result._ensureIncludeZero();\r\n                        result._ensureNotEmpty();\r\n                        result._ensureDirection();\r\n                        result.hasFixedMin = true;\r\n                        result.hasFixedMax = true;\r\n                        return result;\r\n                    };\r\n                    return NumericSequenceRange;\r\n                }());\r\n                NumericSequenceRange.DEFAULT_MAX = 10;\r\n                NumericSequenceRange.MIN_SUPPORTED_DOUBLE = -1E307;\r\n                NumericSequenceRange.MAX_SUPPORTED_DOUBLE = 1E307;\r\n                type.NumericSequenceRange = NumericSequenceRange;\r\n                /** Note: Exported for testability */\r\n                var ValueUtil;\r\n                (function (ValueUtil) {\r\n                    function hasValue(value) {\r\n                        return value !== undefined && value !== null;\r\n                    }\r\n                    ValueUtil.hasValue = hasValue;\r\n                })(ValueUtil = type.ValueUtil || (type.ValueUtil = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var NumericSequenceRange = powerbi.extensibility.utils.type.NumericSequenceRange;\r\n                var NumericSequence = (function () {\r\n                    function NumericSequence() {\r\n                    }\r\n                    NumericSequence.calculate = function (range, expectedCount, maxAllowedMargin, minPower, useZeroRefPoint, steps) {\r\n                        var result = new NumericSequence();\r\n                        if (expectedCount === undefined)\r\n                            expectedCount = 10;\r\n                        else\r\n                            expectedCount = Double.ensureInRange(expectedCount, NumericSequence.MIN_COUNT, NumericSequence.MAX_COUNT);\r\n                        if (minPower === undefined)\r\n                            minPower = Double.MIN_EXP;\r\n                        if (useZeroRefPoint === undefined)\r\n                            useZeroRefPoint = false;\r\n                        if (maxAllowedMargin === undefined)\r\n                            maxAllowedMargin = 1;\r\n                        if (steps === undefined)\r\n                            steps = [1, 2, 5];\r\n                        // Handle single stop case\r\n                        if (range.forcedSingleStop) {\r\n                            result.interval = range.getSize();\r\n                            result.intervalOffset = result.interval - (range.forcedSingleStop - range.min);\r\n                            result.min = range.min;\r\n                            result.max = range.max;\r\n                            result.sequence = [range.forcedSingleStop];\r\n                            return result;\r\n                        }\r\n                        var interval = 0;\r\n                        var min = 0;\r\n                        var max = 9;\r\n                        var canExtendMin = maxAllowedMargin > 0 && !range.hasFixedMin;\r\n                        var canExtendMax = maxAllowedMargin > 0 && !range.hasFixedMax;\r\n                        var size = range.getSize();\r\n                        var exp = Double.log10(size);\r\n                        // Account for Exp of steps\r\n                        var stepExp = Double.log10(steps[0]);\r\n                        exp = exp - stepExp;\r\n                        // Account for MaxCount\r\n                        var expectedCountExp = Double.log10(expectedCount);\r\n                        exp = exp - expectedCountExp;\r\n                        // Account for MinPower\r\n                        exp = Math.max(exp, minPower - stepExp + 1);\r\n                        var count = undefined;\r\n                        // Create array of "good looking" numbers\r\n                        if (interval !== 0) {\r\n                            // If explicit interval is defined - use it instead of the steps array.\r\n                            var power = Double.pow10(exp);\r\n                            var roundMin = Double.floorToPrecision(range.min, power);\r\n                            var roundMax = Double.ceilToPrecision(range.max, power);\r\n                            var roundRange = NumericSequenceRange.calculateFixedRange(roundMin, roundMax);\r\n                            roundRange.shrinkByStep(range, interval);\r\n                            min = roundRange.min;\r\n                            max = roundRange.max;\r\n                            count = Math.floor(roundRange.getSize() / interval);\r\n                        }\r\n                        else {\r\n                            // No interval defined -> find optimal interval\r\n                            var dexp = void 0;\r\n                            for (dexp = 0; dexp < 3; dexp++) {\r\n                                var e = exp + dexp;\r\n                                var power = Double.pow10(e);\r\n                                var roundMin = Double.floorToPrecision(range.min, power);\r\n                                var roundMax = Double.ceilToPrecision(range.max, power);\r\n                                // Go throught the steps array looking for the smallest step that produces the right interval count.\r\n                                var stepsCount = steps.length;\r\n                                var stepPower = Double.pow10(e - 1);\r\n                                for (var i = 0; i < stepsCount; i++) {\r\n                                    var step = steps[i] * stepPower;\r\n                                    var roundRange = NumericSequenceRange.calculateFixedRange(roundMin, roundMax, useZeroRefPoint);\r\n                                    roundRange.shrinkByStep(range, step);\r\n                                    // If the range is based on Data we might need to extend it to provide nice data margins.\r\n                                    if (canExtendMin && range.min === roundRange.min && maxAllowedMargin >= 1)\r\n                                        roundRange.min -= step;\r\n                                    if (canExtendMax && range.max === roundRange.max && maxAllowedMargin >= 1)\r\n                                        roundRange.max += step;\r\n                                    // Count the intervals\r\n                                    count = Double.ceilWithPrecision(roundRange.getSize() / step, Double.DEFAULT_PRECISION);\r\n                                    if (count <= expectedCount || (dexp === 2 && i === stepsCount - 1) || (expectedCount === 1 && count === 2 && (step > range.getSize() || (range.min < 0 && range.max > 0 && step * 2 >= range.getSize())))) {\r\n                                        interval = step;\r\n                                        min = roundRange.min;\r\n                                        max = roundRange.max;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                // Increase the scale power until the interval is found\r\n                                if (interval !== 0)\r\n                                    break;\r\n                            }\r\n                        }\r\n                        // Avoid extreme count cases (>1000 ticks)\r\n                        if (count > expectedCount * 32 || count > NumericSequence.MAX_COUNT) {\r\n                            count = Math.min(expectedCount * 32, NumericSequence.MAX_COUNT);\r\n                            interval = (max - min) / count;\r\n                        }\r\n                        result.min = min;\r\n                        result.max = max;\r\n                        result.interval = interval;\r\n                        result.intervalOffset = min - range.min;\r\n                        result.maxAllowedMargin = maxAllowedMargin;\r\n                        result.canExtendMin = canExtendMin;\r\n                        result.canExtendMax = canExtendMax;\r\n                        // Fill in the Sequence\r\n                        var precision = Double.getPrecision(interval, 0);\r\n                        result.precision = precision;\r\n                        var sequence = [];\r\n                        var x = Double.roundToPrecision(min, precision);\r\n                        sequence.push(x);\r\n                        for (var i = 0; i < count; i++) {\r\n                            x = Double.roundToPrecision(x + interval, precision);\r\n                            sequence.push(x);\r\n                        }\r\n                        result.sequence = sequence;\r\n                        result.trimMinMax(range.min, range.max);\r\n                        return result;\r\n                    };\r\n                    /**\r\n                     * Calculates the sequence of int numbers which are mapped to the multiples of the units grid.\r\n                     * @min - The minimum of the range.\r\n                     * @max - The maximum of the range.\r\n                     * @maxCount - The max count of intervals.\r\n                     * @steps - array of intervals.\r\n                     */\r\n                    NumericSequence.calculateUnits = function (min, max, maxCount, steps) {\r\n                        // Initialization actions\r\n                        maxCount = Double.ensureInRange(maxCount, NumericSequence.MIN_COUNT, NumericSequence.MAX_COUNT);\r\n                        if (min === max) {\r\n                            max = min + 1;\r\n                        }\r\n                        var stepCount = 0;\r\n                        var step = 0;\r\n                        // Calculate step\r\n                        for (var i = 0; i < steps.length; i++) {\r\n                            step = steps[i];\r\n                            var maxStepCount = Double.ceilWithPrecision(max / step);\r\n                            var minStepCount = Double.floorWithPrecision(min / step);\r\n                            stepCount = maxStepCount - minStepCount;\r\n                            if (stepCount <= maxCount) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        // Calculate the offset\r\n                        var offset = -min;\r\n                        offset = offset % step;\r\n                        // Create sequence\r\n                        var result = new NumericSequence();\r\n                        result.sequence = [];\r\n                        for (var x = min + offset;; x += step) {\r\n                            result.sequence.push(x);\r\n                            if (x >= max)\r\n                                break;\r\n                        }\r\n                        result.interval = step;\r\n                        result.intervalOffset = offset;\r\n                        result.min = result.sequence[0];\r\n                        result.max = result.sequence[result.sequence.length - 1];\r\n                        return result;\r\n                    };\r\n                    NumericSequence.prototype.trimMinMax = function (min, max) {\r\n                        var minMargin = (min - this.min) / this.interval;\r\n                        var maxMargin = (this.max - max) / this.interval;\r\n                        var marginPrecision = 0.001;\r\n                        if (!this.canExtendMin || (minMargin > this.maxAllowedMargin && minMargin > marginPrecision)) {\r\n                            this.min = min;\r\n                        }\r\n                        if (!this.canExtendMax || (maxMargin > this.maxAllowedMargin && maxMargin > marginPrecision)) {\r\n                            this.max = max;\r\n                        }\r\n                    };\r\n                    return NumericSequence;\r\n                }());\r\n                NumericSequence.MIN_COUNT = 1;\r\n                NumericSequence.MAX_COUNT = 1000;\r\n                type.NumericSequence = NumericSequence;\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var PixelConverter;\r\n                (function (PixelConverter) {\r\n                    var PxPtRatio = 4 / 3;\r\n                    var PixelString = "px";\r\n                    /**\r\n                     * Appends \'px\' to the end of number value for use as pixel string in styles\r\n                     */\r\n                    function toString(px) {\r\n                        return px + PixelString;\r\n                    }\r\n                    PixelConverter.toString = toString;\r\n                    /**\r\n                     * Converts point value (pt) to pixels\r\n                     * Returns a string for font-size property\r\n                     * e.g. fromPoint(8) => \'24px\'\r\n                     */\r\n                    function fromPoint(pt) {\r\n                        return toString(fromPointToPixel(pt));\r\n                    }\r\n                    PixelConverter.fromPoint = fromPoint;\r\n                    /**\r\n                     * Converts point value (pt) to pixels\r\n                     * Returns a number for font-size property\r\n                     * e.g. fromPoint(8) => 24px\r\n                     */\r\n                    function fromPointToPixel(pt) {\r\n                        return (PxPtRatio * pt);\r\n                    }\r\n                    PixelConverter.fromPointToPixel = fromPointToPixel;\r\n                    /**\r\n                     * Converts pixel value (px) to pt\r\n                     * e.g. toPoint(24) => 8\r\n                     */\r\n                    function toPoint(px) {\r\n                        return px / PxPtRatio;\r\n                    }\r\n                    PixelConverter.toPoint = toPoint;\r\n                })(PixelConverter = type.PixelConverter || (type.PixelConverter = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var RegExpExtensions;\r\n                (function (RegExpExtensions) {\r\n                    /**\r\n                     * Runs exec on regex starting from 0 index\r\n                     * This is the expected behavior but RegExp actually remember\r\n                     * the last index they stopped at (found match at) and will\r\n                     * return unexpected results when run in sequence.\r\n                     * @param regex - regular expression object\r\n                     * @param value - string to search wiht regex\r\n                     * @param start - index within value to start regex\r\n                     */\r\n                    function run(regex, value, start) {\r\n                        regex.lastIndex = start || 0;\r\n                        return regex.exec(value);\r\n                    }\r\n                    RegExpExtensions.run = run;\r\n                })(RegExpExtensions = type.RegExpExtensions || (type.RegExpExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                /**\r\n                 * Extensions to String class.\r\n                 */\r\n                var StringExtensions;\r\n                (function (StringExtensions) {\r\n                    /**\r\n                     * Checks if a string ends with a sub-string.\r\n                     */\r\n                    function endsWith(str, suffix) {\r\n                        return str.indexOf(suffix, str.length - suffix.length) !== -1;\r\n                    }\r\n                    StringExtensions.endsWith = endsWith;\r\n                })(StringExtensions = type.StringExtensions || (type.StringExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var LogicExtensions;\r\n                (function (LogicExtensions) {\r\n                    function XOR(a, b) {\r\n                        return (a || b) && !(a && b);\r\n                    }\r\n                    LogicExtensions.XOR = XOR;\r\n                })(LogicExtensions = type.LogicExtensions || (type.LogicExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var JsonComparer;\r\n                (function (JsonComparer) {\r\n                    /**\r\n                     * Performs JSON-style comparison of two objects.\r\n                     */\r\n                    function equals(x, y) {\r\n                        if (x === y)\r\n                            return true;\r\n                        return JSON.stringify(x) === JSON.stringify(y);\r\n                    }\r\n                    JsonComparer.equals = equals;\r\n                })(JsonComparer = type.JsonComparer || (type.JsonComparer = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                /**\r\n                 * Values are in terms of \'pt\'\r\n                 * Convert to pixels using PixelConverter.fromPoint\r\n                 */\r\n                var TextSizeDefaults;\r\n                (function (TextSizeDefaults) {\r\n                    /**\r\n                     * Stored in terms of \'pt\'\r\n                     * Convert to pixels using PixelConverter.fromPoint\r\n                     */\r\n                    TextSizeDefaults.TextSizeMin = 8;\r\n                    /**\r\n                     * Stored in terms of \'pt\'\r\n                     * Convert to pixels using PixelConverter.fromPoint\r\n                     */\r\n                    TextSizeDefaults.TextSizeMax = 40;\r\n                    var TextSizeRange = TextSizeDefaults.TextSizeMax - TextSizeDefaults.TextSizeMin;\r\n                    /**\r\n                     * Returns the percentage of this value relative to the TextSizeMax\r\n                     * @param textSize - should be given in terms of \'pt\'\r\n                     */\r\n                    function getScale(textSize) {\r\n                        return (textSize - TextSizeDefaults.TextSizeMin) / TextSizeRange;\r\n                    }\r\n                    TextSizeDefaults.getScale = getScale;\r\n                })(TextSizeDefaults = type.TextSizeDefaults || (type.TextSizeDefaults = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // powerbi.extensibility.utils.type\r\n                var EnumExtensions = powerbi.extensibility.utils.type.EnumExtensions;\r\n                /** Describes a data value type, including a primitive type and extended type if any (derived from data category). */\r\n                var ValueType = (function () {\r\n                    /** Do not call the ValueType constructor directly. Use the ValueType.fromXXX methods. */\r\n                    function ValueType(underlyingType, category, enumType, variantTypes) {\r\n                        this.underlyingType = underlyingType;\r\n                        this.category = category;\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Temporal)) {\r\n                            this.temporalType = new TemporalType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Geography)) {\r\n                            this.geographyType = new GeographyType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Miscellaneous)) {\r\n                            this.miscType = new MiscellaneousType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Formatting)) {\r\n                            this.formattingType = new FormattingType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Enumeration)) {\r\n                            this.enumType = enumType;\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Scripting)) {\r\n                            this.scriptingType = new ScriptType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Variant)) {\r\n                            this.variationTypes = variantTypes;\r\n                        }\r\n                    }\r\n                    /** Creates or retrieves a ValueType object based on the specified ValueTypeDescriptor. */\r\n                    ValueType.fromDescriptor = function (descriptor) {\r\n                        descriptor = descriptor || {};\r\n                        // Simplified primitive types\r\n                        if (descriptor.text)\r\n                            return ValueType.fromExtendedType(ExtendedType.Text);\r\n                        if (descriptor.integer)\r\n                            return ValueType.fromExtendedType(ExtendedType.Integer);\r\n                        if (descriptor.numeric)\r\n                            return ValueType.fromExtendedType(ExtendedType.Double);\r\n                        if (descriptor.bool)\r\n                            return ValueType.fromExtendedType(ExtendedType.Boolean);\r\n                        if (descriptor.dateTime)\r\n                            return ValueType.fromExtendedType(ExtendedType.DateTime);\r\n                        if (descriptor.duration)\r\n                            return ValueType.fromExtendedType(ExtendedType.Duration);\r\n                        if (descriptor.binary)\r\n                            return ValueType.fromExtendedType(ExtendedType.Binary);\r\n                        if (descriptor.none)\r\n                            return ValueType.fromExtendedType(ExtendedType.None);\r\n                        // Extended types\r\n                        if (descriptor.scripting) {\r\n                            if (descriptor.scripting.source)\r\n                                return ValueType.fromExtendedType(ExtendedType.ScriptSource);\r\n                        }\r\n                        if (descriptor.enumeration)\r\n                            return ValueType.fromEnum(descriptor.enumeration);\r\n                        if (descriptor.temporal) {\r\n                            if (descriptor.temporal.year)\r\n                                return ValueType.fromExtendedType(ExtendedType.Years_Integer);\r\n                            if (descriptor.temporal.quarter)\r\n                                return ValueType.fromExtendedType(ExtendedType.Quarters_Integer);\r\n                            if (descriptor.temporal.month)\r\n                                return ValueType.fromExtendedType(ExtendedType.Months_Integer);\r\n                            if (descriptor.temporal.day)\r\n                                return ValueType.fromExtendedType(ExtendedType.DayOfMonth_Integer);\r\n                            if (descriptor.temporal.paddedDateTableDate)\r\n                                return ValueType.fromExtendedType(ExtendedType.PaddedDateTableDates);\r\n                        }\r\n                        if (descriptor.geography) {\r\n                            if (descriptor.geography.address)\r\n                                return ValueType.fromExtendedType(ExtendedType.Address);\r\n                            if (descriptor.geography.city)\r\n                                return ValueType.fromExtendedType(ExtendedType.City);\r\n                            if (descriptor.geography.continent)\r\n                                return ValueType.fromExtendedType(ExtendedType.Continent);\r\n                            if (descriptor.geography.country)\r\n                                return ValueType.fromExtendedType(ExtendedType.Country);\r\n                            if (descriptor.geography.county)\r\n                                return ValueType.fromExtendedType(ExtendedType.County);\r\n                            if (descriptor.geography.region)\r\n                                return ValueType.fromExtendedType(ExtendedType.Region);\r\n                            if (descriptor.geography.postalCode)\r\n                                return ValueType.fromExtendedType(ExtendedType.PostalCode_Text);\r\n                            if (descriptor.geography.stateOrProvince)\r\n                                return ValueType.fromExtendedType(ExtendedType.StateOrProvince);\r\n                            if (descriptor.geography.place)\r\n                                return ValueType.fromExtendedType(ExtendedType.Place);\r\n                            if (descriptor.geography.latitude)\r\n                                return ValueType.fromExtendedType(ExtendedType.Latitude_Double);\r\n                            if (descriptor.geography.longitude)\r\n                                return ValueType.fromExtendedType(ExtendedType.Longitude_Double);\r\n                        }\r\n                        if (descriptor.misc) {\r\n                            if (descriptor.misc.image)\r\n                                return ValueType.fromExtendedType(ExtendedType.Image);\r\n                            if (descriptor.misc.imageUrl)\r\n                                return ValueType.fromExtendedType(ExtendedType.ImageUrl);\r\n                            if (descriptor.misc.webUrl)\r\n                                return ValueType.fromExtendedType(ExtendedType.WebUrl);\r\n                            if (descriptor.misc.barcode)\r\n                                return ValueType.fromExtendedType(ExtendedType.Barcode_Text);\r\n                        }\r\n                        if (descriptor.formatting) {\r\n                            if (descriptor.formatting.color)\r\n                                return ValueType.fromExtendedType(ExtendedType.Color);\r\n                            if (descriptor.formatting.formatString)\r\n                                return ValueType.fromExtendedType(ExtendedType.FormatString);\r\n                            if (descriptor.formatting.alignment)\r\n                                return ValueType.fromExtendedType(ExtendedType.Alignment);\r\n                            if (descriptor.formatting.labelDisplayUnits)\r\n                                return ValueType.fromExtendedType(ExtendedType.LabelDisplayUnits);\r\n                            if (descriptor.formatting.fontSize)\r\n                                return ValueType.fromExtendedType(ExtendedType.FontSize);\r\n                            if (descriptor.formatting.labelDensity)\r\n                                return ValueType.fromExtendedType(ExtendedType.LabelDensity);\r\n                        }\r\n                        if (descriptor.extendedType) {\r\n                            return ValueType.fromExtendedType(descriptor.extendedType);\r\n                        }\r\n                        if (descriptor.operations) {\r\n                            if (descriptor.operations.searchEnabled)\r\n                                return ValueType.fromExtendedType(ExtendedType.SearchEnabled);\r\n                        }\r\n                        if (descriptor.variant) {\r\n                            var variantTypes = descriptor.variant.map(function (variantType) { return ValueType.fromDescriptor(variantType); });\r\n                            return ValueType.fromVariant(variantTypes);\r\n                        }\r\n                        return ValueType.fromExtendedType(ExtendedType.Null);\r\n                    };\r\n                    /** Advanced: Generally use fromDescriptor instead. Creates or retrieves a ValueType object for the specified ExtendedType. */\r\n                    ValueType.fromExtendedType = function (extendedType) {\r\n                        extendedType = extendedType || ExtendedType.Null;\r\n                        var primitiveType = getPrimitiveType(extendedType), category = getCategoryFromExtendedType(extendedType);\r\n                        return ValueType.fromPrimitiveTypeAndCategory(primitiveType, category);\r\n                    };\r\n                    /** Creates or retrieves a ValueType object for the specified PrimitiveType and data category. */\r\n                    ValueType.fromPrimitiveTypeAndCategory = function (primitiveType, category) {\r\n                        primitiveType = primitiveType || PrimitiveType.Null;\r\n                        category = category || null;\r\n                        var id = primitiveType.toString();\r\n                        if (category)\r\n                            id += "|" + category;\r\n                        return ValueType.typeCache[id] || (ValueType.typeCache[id] = new ValueType(toExtendedType(primitiveType, category), category));\r\n                    };\r\n                    /** Creates a ValueType to describe the given IEnumType. */\r\n                    ValueType.fromEnum = function (enumType) {\r\n                        return new ValueType(ExtendedType.Enumeration, null, enumType);\r\n                    };\r\n                    /** Creates a ValueType to describe the given Variant type. */\r\n                    ValueType.fromVariant = function (variantTypes) {\r\n                        return new ValueType(ExtendedType.Variant, /* category */ null, /* enumType */ null, variantTypes);\r\n                    };\r\n                    /** Determines if the specified type is compatible from at least one of the otherTypes. */\r\n                    ValueType.isCompatibleTo = function (typeDescriptor, otherTypes) {\r\n                        var valueType = ValueType.fromDescriptor(typeDescriptor);\r\n                        for (var _i = 0, otherTypes_1 = otherTypes; _i < otherTypes_1.length; _i++) {\r\n                            var otherType = otherTypes_1[_i];\r\n                            var otherValueType = ValueType.fromDescriptor(otherType);\r\n                            if (otherValueType.isCompatibleFrom(valueType))\r\n                                return true;\r\n                        }\r\n                        return false;\r\n                    };\r\n                    /** Determines if the instance ValueType is convertable from the \'other\' ValueType. */\r\n                    ValueType.prototype.isCompatibleFrom = function (other) {\r\n                        var otherPrimitiveType = other.primitiveType;\r\n                        if (this === other ||\r\n                            this.primitiveType === otherPrimitiveType ||\r\n                            otherPrimitiveType === PrimitiveType.Null ||\r\n                            // Return true if both types are numbers\r\n                            (this.numeric && other.numeric))\r\n                            return true;\r\n                        return false;\r\n                    };\r\n                    /**\r\n                     * Determines if the instance ValueType is equal to the \'other\' ValueType\r\n                     * @param {ValueType} other the other ValueType to check equality against\r\n                     * @returns True if the instance ValueType is equal to the \'other\' ValueType\r\n                     */\r\n                    ValueType.prototype.equals = function (other) {\r\n                        return type.JsonComparer.equals(this, other);\r\n                    };\r\n                    Object.defineProperty(ValueType.prototype, "primitiveType", {\r\n                        /** Gets the exact primitive type of this ValueType. */\r\n                        get: function () {\r\n                            return getPrimitiveType(this.underlyingType);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "extendedType", {\r\n                        /** Gets the exact extended type of this ValueType. */\r\n                        get: function () {\r\n                            return this.underlyingType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "categoryString", {\r\n                        /** Gets the data category string (if any) for this ValueType. */\r\n                        get: function () {\r\n                            return this.category;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "text", {\r\n                        // Simplified primitive types\r\n                        /** Indicates whether the type represents text values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Text;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "numeric", {\r\n                        /** Indicates whether the type represents any numeric value. */\r\n                        get: function () {\r\n                            return EnumExtensions.hasFlag(this.underlyingType, ExtendedType.Numeric);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "integer", {\r\n                        /** Indicates whether the type represents integer numeric values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Integer;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "bool", {\r\n                        /** Indicates whether the type represents Boolean values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Boolean;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "dateTime", {\r\n                        /** Indicates whether the type represents any date/time values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.DateTime ||\r\n                                this.primitiveType === PrimitiveType.Date ||\r\n                                this.primitiveType === PrimitiveType.Time;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "duration", {\r\n                        /** Indicates whether the type represents duration values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Duration;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "binary", {\r\n                        /** Indicates whether the type represents binary values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Binary;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "none", {\r\n                        /** Indicates whether the type represents none values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.None;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "temporal", {\r\n                        // Extended types\r\n                        /** Returns an object describing temporal values represented by the type, if it represents a temporal type. */\r\n                        get: function () {\r\n                            return this.temporalType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "geography", {\r\n                        /** Returns an object describing geographic values represented by the type, if it represents a geographic type. */\r\n                        get: function () {\r\n                            return this.geographyType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "misc", {\r\n                        /** Returns an object describing the specific values represented by the type, if it represents a miscellaneous extended type. */\r\n                        get: function () {\r\n                            return this.miscType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "formatting", {\r\n                        /** Returns an object describing the formatting values represented by the type, if it represents a formatting type. */\r\n                        get: function () {\r\n                            return this.formattingType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "enumeration", {\r\n                        /** Returns an object describing the enum values represented by the type, if it represents an enumeration type. */\r\n                        get: function () {\r\n                            return this.enumType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "scripting", {\r\n                        get: function () {\r\n                            return this.scriptingType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "variant", {\r\n                        /** Returns an array describing the variant values represented by the type, if it represents an Variant type. */\r\n                        get: function () {\r\n                            return this.variationTypes;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return ValueType;\r\n                }());\r\n                ValueType.typeCache = {};\r\n                type.ValueType = ValueType;\r\n                var ScriptType = (function () {\r\n                    function ScriptType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(ScriptType.prototype, "source", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.ScriptSource);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return ScriptType;\r\n                }());\r\n                type.ScriptType = ScriptType;\r\n                var TemporalType = (function () {\r\n                    function TemporalType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(TemporalType.prototype, "year", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Years);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "quarter", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Quarters);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "month", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Months);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "day", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.DayOfMonth);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "paddedDateTableDate", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.PaddedDateTableDates);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return TemporalType;\r\n                }());\r\n                type.TemporalType = TemporalType;\r\n                var GeographyType = (function () {\r\n                    function GeographyType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(GeographyType.prototype, "address", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Address);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "city", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.City);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "continent", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Continent);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "country", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Country);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "county", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.County);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "region", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Region);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "postalCode", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.PostalCode);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "stateOrProvince", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.StateOrProvince);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "place", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Place);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "latitude", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Latitude);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "longitude", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Longitude);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return GeographyType;\r\n                }());\r\n                type.GeographyType = GeographyType;\r\n                var MiscellaneousType = (function () {\r\n                    function MiscellaneousType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(MiscellaneousType.prototype, "image", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Image);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(MiscellaneousType.prototype, "imageUrl", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.ImageUrl);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(MiscellaneousType.prototype, "webUrl", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.WebUrl);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(MiscellaneousType.prototype, "barcode", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Barcode);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return MiscellaneousType;\r\n                }());\r\n                type.MiscellaneousType = MiscellaneousType;\r\n                var FormattingType = (function () {\r\n                    function FormattingType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(FormattingType.prototype, "color", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Color);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "formatString", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.FormatString);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "alignment", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Alignment);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "labelDisplayUnits", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.LabelDisplayUnits);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "fontSize", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.FontSize);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "labelDensity", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.LabelDensity);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return FormattingType;\r\n                }());\r\n                type.FormattingType = FormattingType;\r\n                /** Defines primitive value types. Must be consistent with types defined by server conceptual schema. */\r\n                var PrimitiveType;\r\n                (function (PrimitiveType) {\r\n                    PrimitiveType[PrimitiveType["Null"] = 0] = "Null";\r\n                    PrimitiveType[PrimitiveType["Text"] = 1] = "Text";\r\n                    PrimitiveType[PrimitiveType["Decimal"] = 2] = "Decimal";\r\n                    PrimitiveType[PrimitiveType["Double"] = 3] = "Double";\r\n                    PrimitiveType[PrimitiveType["Integer"] = 4] = "Integer";\r\n                    PrimitiveType[PrimitiveType["Boolean"] = 5] = "Boolean";\r\n                    PrimitiveType[PrimitiveType["Date"] = 6] = "Date";\r\n                    PrimitiveType[PrimitiveType["DateTime"] = 7] = "DateTime";\r\n                    PrimitiveType[PrimitiveType["DateTimeZone"] = 8] = "DateTimeZone";\r\n                    PrimitiveType[PrimitiveType["Time"] = 9] = "Time";\r\n                    PrimitiveType[PrimitiveType["Duration"] = 10] = "Duration";\r\n                    PrimitiveType[PrimitiveType["Binary"] = 11] = "Binary";\r\n                    PrimitiveType[PrimitiveType["None"] = 12] = "None";\r\n                    PrimitiveType[PrimitiveType["Variant"] = 13] = "Variant";\r\n                })(PrimitiveType = type.PrimitiveType || (type.PrimitiveType = {}));\r\n                var PrimitiveTypeStrings;\r\n                (function (PrimitiveTypeStrings) {\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Null"] = 0] = "Null";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Text"] = 1] = "Text";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Decimal"] = 2] = "Decimal";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Double"] = 3] = "Double";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Integer"] = 4] = "Integer";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Boolean"] = 5] = "Boolean";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Date"] = 6] = "Date";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["DateTime"] = 7] = "DateTime";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["DateTimeZone"] = 8] = "DateTimeZone";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Time"] = 9] = "Time";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Duration"] = 10] = "Duration";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Binary"] = 11] = "Binary";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["None"] = 12] = "None";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Variant"] = 13] = "Variant";\r\n                })(PrimitiveTypeStrings || (PrimitiveTypeStrings = {}));\r\n                /** Defines extended value types, which include primitive types and known data categories constrained to expected primitive types. */\r\n                var ExtendedType;\r\n                (function (ExtendedType) {\r\n                    // Flags (1 << 8-15 range [0xFF00])\r\n                    // Important: Enum members must be declared before they are used in TypeScript.\r\n                    ExtendedType[ExtendedType["Numeric"] = 256] = "Numeric";\r\n                    ExtendedType[ExtendedType["Temporal"] = 512] = "Temporal";\r\n                    ExtendedType[ExtendedType["Geography"] = 1024] = "Geography";\r\n                    ExtendedType[ExtendedType["Miscellaneous"] = 2048] = "Miscellaneous";\r\n                    ExtendedType[ExtendedType["Formatting"] = 4096] = "Formatting";\r\n                    ExtendedType[ExtendedType["Scripting"] = 8192] = "Scripting";\r\n                    // Primitive types (0-255 range [0xFF] | flags)\r\n                    // The member names and base values must match those in PrimitiveType.\r\n                    ExtendedType[ExtendedType["Null"] = 0] = "Null";\r\n                    ExtendedType[ExtendedType["Text"] = 1] = "Text";\r\n                    ExtendedType[ExtendedType["Decimal"] = 258] = "Decimal";\r\n                    ExtendedType[ExtendedType["Double"] = 259] = "Double";\r\n                    ExtendedType[ExtendedType["Integer"] = 260] = "Integer";\r\n                    ExtendedType[ExtendedType["Boolean"] = 5] = "Boolean";\r\n                    ExtendedType[ExtendedType["Date"] = 518] = "Date";\r\n                    ExtendedType[ExtendedType["DateTime"] = 519] = "DateTime";\r\n                    ExtendedType[ExtendedType["DateTimeZone"] = 520] = "DateTimeZone";\r\n                    ExtendedType[ExtendedType["Time"] = 521] = "Time";\r\n                    ExtendedType[ExtendedType["Duration"] = 10] = "Duration";\r\n                    ExtendedType[ExtendedType["Binary"] = 11] = "Binary";\r\n                    ExtendedType[ExtendedType["None"] = 12] = "None";\r\n                    ExtendedType[ExtendedType["Variant"] = 13] = "Variant";\r\n                    // Extended types (0-32767 << 16 range [0xFFFF0000] | corresponding primitive type | flags)\r\n                    // Temporal\r\n                    ExtendedType[ExtendedType["Years"] = 66048] = "Years";\r\n                    ExtendedType[ExtendedType["Years_Text"] = 66049] = "Years_Text";\r\n                    ExtendedType[ExtendedType["Years_Integer"] = 66308] = "Years_Integer";\r\n                    ExtendedType[ExtendedType["Years_Date"] = 66054] = "Years_Date";\r\n                    ExtendedType[ExtendedType["Years_DateTime"] = 66055] = "Years_DateTime";\r\n                    ExtendedType[ExtendedType["Months"] = 131584] = "Months";\r\n                    ExtendedType[ExtendedType["Months_Text"] = 131585] = "Months_Text";\r\n                    ExtendedType[ExtendedType["Months_Integer"] = 131844] = "Months_Integer";\r\n                    ExtendedType[ExtendedType["Months_Date"] = 131590] = "Months_Date";\r\n                    ExtendedType[ExtendedType["Months_DateTime"] = 131591] = "Months_DateTime";\r\n                    ExtendedType[ExtendedType["PaddedDateTableDates"] = 197127] = "PaddedDateTableDates";\r\n                    ExtendedType[ExtendedType["Quarters"] = 262656] = "Quarters";\r\n                    ExtendedType[ExtendedType["Quarters_Text"] = 262657] = "Quarters_Text";\r\n                    ExtendedType[ExtendedType["Quarters_Integer"] = 262916] = "Quarters_Integer";\r\n                    ExtendedType[ExtendedType["Quarters_Date"] = 262662] = "Quarters_Date";\r\n                    ExtendedType[ExtendedType["Quarters_DateTime"] = 262663] = "Quarters_DateTime";\r\n                    ExtendedType[ExtendedType["DayOfMonth"] = 328192] = "DayOfMonth";\r\n                    ExtendedType[ExtendedType["DayOfMonth_Text"] = 328193] = "DayOfMonth_Text";\r\n                    ExtendedType[ExtendedType["DayOfMonth_Integer"] = 328452] = "DayOfMonth_Integer";\r\n                    ExtendedType[ExtendedType["DayOfMonth_Date"] = 328198] = "DayOfMonth_Date";\r\n                    ExtendedType[ExtendedType["DayOfMonth_DateTime"] = 328199] = "DayOfMonth_DateTime";\r\n                    // Geography\r\n                    ExtendedType[ExtendedType["Address"] = 6554625] = "Address";\r\n                    ExtendedType[ExtendedType["City"] = 6620161] = "City";\r\n                    ExtendedType[ExtendedType["Continent"] = 6685697] = "Continent";\r\n                    ExtendedType[ExtendedType["Country"] = 6751233] = "Country";\r\n                    ExtendedType[ExtendedType["County"] = 6816769] = "County";\r\n                    ExtendedType[ExtendedType["Region"] = 6882305] = "Region";\r\n                    ExtendedType[ExtendedType["PostalCode"] = 6947840] = "PostalCode";\r\n                    ExtendedType[ExtendedType["PostalCode_Text"] = 6947841] = "PostalCode_Text";\r\n                    ExtendedType[ExtendedType["PostalCode_Integer"] = 6948100] = "PostalCode_Integer";\r\n                    ExtendedType[ExtendedType["StateOrProvince"] = 7013377] = "StateOrProvince";\r\n                    ExtendedType[ExtendedType["Place"] = 7078913] = "Place";\r\n                    ExtendedType[ExtendedType["Latitude"] = 7144448] = "Latitude";\r\n                    ExtendedType[ExtendedType["Latitude_Decimal"] = 7144706] = "Latitude_Decimal";\r\n                    ExtendedType[ExtendedType["Latitude_Double"] = 7144707] = "Latitude_Double";\r\n                    ExtendedType[ExtendedType["Longitude"] = 7209984] = "Longitude";\r\n                    ExtendedType[ExtendedType["Longitude_Decimal"] = 7210242] = "Longitude_Decimal";\r\n                    ExtendedType[ExtendedType["Longitude_Double"] = 7210243] = "Longitude_Double";\r\n                    // Miscellaneous\r\n                    ExtendedType[ExtendedType["Image"] = 13109259] = "Image";\r\n                    ExtendedType[ExtendedType["ImageUrl"] = 13174785] = "ImageUrl";\r\n                    ExtendedType[ExtendedType["WebUrl"] = 13240321] = "WebUrl";\r\n                    ExtendedType[ExtendedType["Barcode"] = 13305856] = "Barcode";\r\n                    ExtendedType[ExtendedType["Barcode_Text"] = 13305857] = "Barcode_Text";\r\n                    ExtendedType[ExtendedType["Barcode_Integer"] = 13306116] = "Barcode_Integer";\r\n                    // Formatting\r\n                    ExtendedType[ExtendedType["Color"] = 19664897] = "Color";\r\n                    ExtendedType[ExtendedType["FormatString"] = 19730433] = "FormatString";\r\n                    ExtendedType[ExtendedType["Alignment"] = 20058113] = "Alignment";\r\n                    ExtendedType[ExtendedType["LabelDisplayUnits"] = 20123649] = "LabelDisplayUnits";\r\n                    ExtendedType[ExtendedType["FontSize"] = 20189443] = "FontSize";\r\n                    ExtendedType[ExtendedType["LabelDensity"] = 20254979] = "LabelDensity";\r\n                    // Enumeration\r\n                    ExtendedType[ExtendedType["Enumeration"] = 26214401] = "Enumeration";\r\n                    // Scripting\r\n                    ExtendedType[ExtendedType["ScriptSource"] = 32776193] = "ScriptSource";\r\n                    // NOTE: To avoid confusion, underscores should be used only to delimit primitive type variants of an extended type\r\n                    // (e.g. Year_Integer or Latitude_Double above)\r\n                    // Operations\r\n                    ExtendedType[ExtendedType["SearchEnabled"] = 65541] = "SearchEnabled";\r\n                })(ExtendedType = type.ExtendedType || (type.ExtendedType = {}));\r\n                var ExtendedTypeStrings;\r\n                (function (ExtendedTypeStrings) {\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Numeric"] = 256] = "Numeric";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Temporal"] = 512] = "Temporal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Geography"] = 1024] = "Geography";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Miscellaneous"] = 2048] = "Miscellaneous";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Formatting"] = 4096] = "Formatting";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Scripting"] = 8192] = "Scripting";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Null"] = 0] = "Null";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Text"] = 1] = "Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Decimal"] = 258] = "Decimal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Double"] = 259] = "Double";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Integer"] = 260] = "Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Boolean"] = 5] = "Boolean";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Date"] = 518] = "Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DateTime"] = 519] = "DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DateTimeZone"] = 520] = "DateTimeZone";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Time"] = 521] = "Time";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Duration"] = 10] = "Duration";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Binary"] = 11] = "Binary";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["None"] = 12] = "None";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Variant"] = 13] = "Variant";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years"] = 66048] = "Years";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_Text"] = 66049] = "Years_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_Integer"] = 66308] = "Years_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_Date"] = 66054] = "Years_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_DateTime"] = 66055] = "Years_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months"] = 131584] = "Months";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_Text"] = 131585] = "Months_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_Integer"] = 131844] = "Months_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_Date"] = 131590] = "Months_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_DateTime"] = 131591] = "Months_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PaddedDateTableDates"] = 197127] = "PaddedDateTableDates";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters"] = 262656] = "Quarters";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_Text"] = 262657] = "Quarters_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_Integer"] = 262916] = "Quarters_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_Date"] = 262662] = "Quarters_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_DateTime"] = 262663] = "Quarters_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth"] = 328192] = "DayOfMonth";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_Text"] = 328193] = "DayOfMonth_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_Integer"] = 328452] = "DayOfMonth_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_Date"] = 328198] = "DayOfMonth_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_DateTime"] = 328199] = "DayOfMonth_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Address"] = 6554625] = "Address";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["City"] = 6620161] = "City";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Continent"] = 6685697] = "Continent";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Country"] = 6751233] = "Country";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["County"] = 6816769] = "County";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Region"] = 6882305] = "Region";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PostalCode"] = 6947840] = "PostalCode";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PostalCode_Text"] = 6947841] = "PostalCode_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PostalCode_Integer"] = 6948100] = "PostalCode_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["StateOrProvince"] = 7013377] = "StateOrProvince";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Place"] = 7078913] = "Place";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Latitude"] = 7144448] = "Latitude";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Latitude_Decimal"] = 7144706] = "Latitude_Decimal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Latitude_Double"] = 7144707] = "Latitude_Double";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Longitude"] = 7209984] = "Longitude";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Longitude_Decimal"] = 7210242] = "Longitude_Decimal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Longitude_Double"] = 7210243] = "Longitude_Double";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Image"] = 13109259] = "Image";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["ImageUrl"] = 13174785] = "ImageUrl";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["WebUrl"] = 13240321] = "WebUrl";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Barcode"] = 13305856] = "Barcode";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Barcode_Text"] = 13305857] = "Barcode_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Barcode_Integer"] = 13306116] = "Barcode_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Color"] = 19664897] = "Color";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["FormatString"] = 19730433] = "FormatString";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Alignment"] = 20058113] = "Alignment";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["LabelDisplayUnits"] = 20123649] = "LabelDisplayUnits";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["FontSize"] = 20189443] = "FontSize";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["LabelDensity"] = 20254979] = "LabelDensity";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Enumeration"] = 26214401] = "Enumeration";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["ScriptSource"] = 32776193] = "ScriptSource";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["SearchEnabled"] = 65541] = "SearchEnabled";\r\n                })(ExtendedTypeStrings || (ExtendedTypeStrings = {}));\r\n                var PrimitiveTypeMask = 0xFF;\r\n                var PrimitiveTypeWithFlagsMask = 0xFFFF;\r\n                var PrimitiveTypeFlagsExcludedMask = 0xFFFF0000;\r\n                function getPrimitiveType(extendedType) {\r\n                    return extendedType & PrimitiveTypeMask;\r\n                }\r\n                function isPrimitiveType(extendedType) {\r\n                    return (extendedType & PrimitiveTypeWithFlagsMask) === extendedType;\r\n                }\r\n                function getCategoryFromExtendedType(extendedType) {\r\n                    if (isPrimitiveType(extendedType))\r\n                        return null;\r\n                    var category = ExtendedTypeStrings[extendedType];\r\n                    if (category) {\r\n                        // Check for ExtendedType declaration without a primitive type.\r\n                        // If exists, use it as category (e.g. Longitude rather than Longitude_Double)\r\n                        // Otherwise use the ExtendedType declaration with a primitive type (e.g. Address)\r\n                        var delimIdx = category.lastIndexOf("_");\r\n                        if (delimIdx > 0) {\r\n                            var baseCategory = category.slice(0, delimIdx);\r\n                            if (ExtendedTypeStrings[baseCategory]) {\r\n                                category = baseCategory;\r\n                            }\r\n                        }\r\n                    }\r\n                    return category || null;\r\n                }\r\n                function toExtendedType(primitiveType, category) {\r\n                    var primitiveString = PrimitiveTypeStrings[primitiveType];\r\n                    var t = ExtendedTypeStrings[primitiveString];\r\n                    if (t == null) {\r\n                        t = ExtendedType.Null;\r\n                    }\r\n                    if (primitiveType && category) {\r\n                        var categoryType = ExtendedTypeStrings[category];\r\n                        if (categoryType) {\r\n                            var categoryPrimitiveType = getPrimitiveType(categoryType);\r\n                            if (categoryPrimitiveType === PrimitiveType.Null) {\r\n                                // Category supports multiple primitive types, check if requested primitive type is supported\r\n                                // (note: important to use t here rather than primitiveType as it may include primitive type flags)\r\n                                categoryType = t | categoryType;\r\n                                if (ExtendedTypeStrings[categoryType]) {\r\n                                    t = categoryType;\r\n                                }\r\n                            }\r\n                            else if (categoryPrimitiveType === primitiveType) {\r\n                                // Primitive type matches the single supported type for the category\r\n                                t = categoryType;\r\n                            }\r\n                        }\r\n                    }\r\n                    return t;\r\n                }\r\n                function matchesExtendedTypeWithAnyPrimitive(a, b) {\r\n                    return (a & PrimitiveTypeFlagsExcludedMask) === (b & PrimitiveTypeFlagsExcludedMask);\r\n                }\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n';
},function(e,t){e.exports='/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                // TODO: refactor & focus DataViewTransform into a service with well-defined dependencies.\r\n                var DataViewTransform;\r\n                (function (DataViewTransform) {\r\n                    // TODO: refactor this, setGrouped, and groupValues to a test helper to stop using it in the product\r\n                    function createValueColumns(values, valueIdentityFields, source) {\r\n                        if (values === void 0) { values = []; }\r\n                        var result = values;\r\n                        setGrouped(result);\r\n                        if (valueIdentityFields) {\r\n                            result.identityFields = valueIdentityFields;\r\n                        }\r\n                        if (source) {\r\n                            result.source = source;\r\n                        }\r\n                        return result;\r\n                    }\r\n                    DataViewTransform.createValueColumns = createValueColumns;\r\n                    function setGrouped(values, groupedResult) {\r\n                        values.grouped = groupedResult\r\n                            ? function () { return groupedResult; }\r\n                            : function () { return groupValues(values); };\r\n                    }\r\n                    DataViewTransform.setGrouped = setGrouped;\r\n                    /** Group together the values with a common identity. */\r\n                    function groupValues(values) {\r\n                        var groups = [], currentGroup;\r\n                        for (var i = 0, len = values.length; i < len; i++) {\r\n                            var value = values[i];\r\n                            if (!currentGroup || currentGroup.identity !== value.identity) {\r\n                                currentGroup = {\r\n                                    values: []\r\n                                };\r\n                                if (value.identity) {\r\n                                    currentGroup.identity = value.identity;\r\n                                    var source = value.source;\r\n                                    // allow null, which will be formatted as (Blank).\r\n                                    if (source.groupName !== undefined) {\r\n                                        currentGroup.name = source.groupName;\r\n                                    }\r\n                                    else if (source.displayName) {\r\n                                        currentGroup.name = source.displayName;\r\n                                    }\r\n                                }\r\n                                groups.push(currentGroup);\r\n                            }\r\n                            currentGroup.values.push(value);\r\n                        }\r\n                        return groups;\r\n                    }\r\n                    DataViewTransform.groupValues = groupValues;\r\n                })(DataViewTransform = dataview.DataViewTransform || (dataview.DataViewTransform = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataRoleHelper;\r\n                (function (DataRoleHelper) {\r\n                    function getMeasureIndexOfRole(grouped, roleName) {\r\n                        if (!grouped || !grouped.length) {\r\n                            return -1;\r\n                        }\r\n                        var firstGroup = grouped[0];\r\n                        if (firstGroup.values && firstGroup.values.length > 0) {\r\n                            for (var i = 0, len = firstGroup.values.length; i < len; ++i) {\r\n                                var value = firstGroup.values[i];\r\n                                if (value && value.source) {\r\n                                    if (hasRole(value.source, roleName)) {\r\n                                        return i;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    DataRoleHelper.getMeasureIndexOfRole = getMeasureIndexOfRole;\r\n                    function getCategoryIndexOfRole(categories, roleName) {\r\n                        if (categories && categories.length) {\r\n                            for (var i = 0, ilen = categories.length; i < ilen; i++) {\r\n                                if (hasRole(categories[i].source, roleName)) {\r\n                                    return i;\r\n                                }\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    DataRoleHelper.getCategoryIndexOfRole = getCategoryIndexOfRole;\r\n                    function hasRole(column, name) {\r\n                        var roles = column.roles;\r\n                        return roles && roles[name];\r\n                    }\r\n                    DataRoleHelper.hasRole = hasRole;\r\n                    function hasRoleInDataView(dataView, name) {\r\n                        return dataView != null\r\n                            && dataView.metadata != null\r\n                            && dataView.metadata.columns\r\n                            && dataView.metadata.columns.some(function (c) { return c.roles && c.roles[name] !== undefined; }); // any is an alias of some\r\n                    }\r\n                    DataRoleHelper.hasRoleInDataView = hasRoleInDataView;\r\n                    function hasRoleInValueColumn(valueColumn, name) {\r\n                        return valueColumn\r\n                            && valueColumn.source\r\n                            && valueColumn.source.roles\r\n                            && (valueColumn.source.roles[name] === true);\r\n                    }\r\n                    DataRoleHelper.hasRoleInValueColumn = hasRoleInValueColumn;\r\n                })(DataRoleHelper = dataview.DataRoleHelper || (dataview.DataRoleHelper = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataViewObject;\r\n                (function (DataViewObject) {\r\n                    function getValue(object, propertyName, defaultValue) {\r\n                        if (!object) {\r\n                            return defaultValue;\r\n                        }\r\n                        var propertyValue = object[propertyName];\r\n                        if (propertyValue === undefined) {\r\n                            return defaultValue;\r\n                        }\r\n                        return propertyValue;\r\n                    }\r\n                    DataViewObject.getValue = getValue;\r\n                    /** Gets the solid color from a fill property using only a propertyName */\r\n                    function getFillColorByPropertyName(object, propertyName, defaultColor) {\r\n                        var value = getValue(object, propertyName);\r\n                        if (!value || !value.solid) {\r\n                            return defaultColor;\r\n                        }\r\n                        return value.solid.color;\r\n                    }\r\n                    DataViewObject.getFillColorByPropertyName = getFillColorByPropertyName;\r\n                })(DataViewObject = dataview.DataViewObject || (dataview.DataViewObject = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataViewObjects;\r\n                (function (DataViewObjects) {\r\n                    /** Gets the value of the given object/property pair. */\r\n                    function getValue(objects, propertyId, defaultValue) {\r\n                        if (!objects) {\r\n                            return defaultValue;\r\n                        }\r\n                        return dataview.DataViewObject.getValue(objects[propertyId.objectName], propertyId.propertyName, defaultValue);\r\n                    }\r\n                    DataViewObjects.getValue = getValue;\r\n                    /** Gets an object from objects. */\r\n                    function getObject(objects, objectName, defaultValue) {\r\n                        if (objects && objects[objectName]) {\r\n                            return objects[objectName];\r\n                        }\r\n                        return defaultValue;\r\n                    }\r\n                    DataViewObjects.getObject = getObject;\r\n                    /** Gets the solid color from a fill property. */\r\n                    function getFillColor(objects, propertyId, defaultColor) {\r\n                        var value = getValue(objects, propertyId);\r\n                        if (!value || !value.solid) {\r\n                            return defaultColor;\r\n                        }\r\n                        return value.solid.color;\r\n                    }\r\n                    DataViewObjects.getFillColor = getFillColor;\r\n                    function getCommonValue(objects, propertyId, defaultValue) {\r\n                        var value = getValue(objects, propertyId, defaultValue);\r\n                        if (value && value.solid) {\r\n                            return value.solid.color;\r\n                        }\r\n                        if (value === undefined\r\n                            || value === null\r\n                            || (typeof value === "object" && !value.solid)) {\r\n                            return defaultValue;\r\n                        }\r\n                        return value;\r\n                    }\r\n                    DataViewObjects.getCommonValue = getCommonValue;\r\n                })(DataViewObjects = dataview.DataViewObjects || (dataview.DataViewObjects = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                // powerbi.extensibility.utils.dataview\r\n                var DataRoleHelper = powerbi.extensibility.utils.dataview.DataRoleHelper;\r\n                var converterHelper;\r\n                (function (converterHelper) {\r\n                    function categoryIsAlsoSeriesRole(dataView, seriesRoleName, categoryRoleName) {\r\n                        if (dataView.categories && dataView.categories.length > 0) {\r\n                            // Need to pivot data if our category soure is a series role\r\n                            var category = dataView.categories[0];\r\n                            return category.source &&\r\n                                DataRoleHelper.hasRole(category.source, seriesRoleName) &&\r\n                                DataRoleHelper.hasRole(category.source, categoryRoleName);\r\n                        }\r\n                        return false;\r\n                    }\r\n                    converterHelper.categoryIsAlsoSeriesRole = categoryIsAlsoSeriesRole;\r\n                    function getSeriesName(source) {\r\n                        return (source.groupName !== undefined)\r\n                            ? source.groupName\r\n                            : source.queryName;\r\n                    }\r\n                    converterHelper.getSeriesName = getSeriesName;\r\n                    function isImageUrlColumn(column) {\r\n                        var misc = getMiscellaneousTypeDescriptor(column);\r\n                        return misc != null && misc.imageUrl === true;\r\n                    }\r\n                    converterHelper.isImageUrlColumn = isImageUrlColumn;\r\n                    function isWebUrlColumn(column) {\r\n                        var misc = getMiscellaneousTypeDescriptor(column);\r\n                        return misc != null && misc.webUrl === true;\r\n                    }\r\n                    converterHelper.isWebUrlColumn = isWebUrlColumn;\r\n                    function getMiscellaneousTypeDescriptor(column) {\r\n                        return column\r\n                            && column.type\r\n                            && column.type.misc;\r\n                    }\r\n                    converterHelper.getMiscellaneousTypeDescriptor = getMiscellaneousTypeDescriptor;\r\n                    function hasImageUrlColumn(dataView) {\r\n                        if (!dataView || !dataView.metadata || !dataView.metadata.columns || !dataView.metadata.columns.length) {\r\n                            return false;\r\n                        }\r\n                        return dataView.metadata.columns.some(function (column) { return isImageUrlColumn(column) === true; });\r\n                    }\r\n                    converterHelper.hasImageUrlColumn = hasImageUrlColumn;\r\n                })(converterHelper = dataview.converterHelper || (dataview.converterHelper = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var validationHelper;\r\n                (function (validationHelper) {\r\n                    function isImageUrlAllowed(url) {\r\n                        // Excludes all URLs that don\'t contain .gif .jpg .png or .svg extensions and don\'t start from "http(s)://".\r\n                        // Base64 incoded images are allowable too.\r\n                        return (/^https?:\\/\\/.+\\.(gif|jpg|png|svg)$/i).test(url) || (/^data:image\\/(gif|jpeg|png|svg\\+xml);base64,/i).test(url);\r\n                    }\r\n                    validationHelper.isImageUrlAllowed = isImageUrlAllowed;\r\n                    function isFileImage(url, imageCheckResultCallBack) {\r\n                        var request = new XMLHttpRequest();\r\n                        request.onreadystatechange = function () {\r\n                            if (request.readyState !== this.HEADERS_RECEIVED) {\r\n                                return;\r\n                            }\r\n                            var contentType = request.getResponseHeader("Content-Type"), supportedTypes = ["image/png", "image/jpeg", "image/gif", "image/svg+xml"];\r\n                            if (supportedTypes.indexOf(contentType) > -1) {\r\n                                return imageCheckResultCallBack(true, contentType);\r\n                            }\r\n                            return imageCheckResultCallBack(false, contentType);\r\n                        };\r\n                        request.open("HEAD", url, true);\r\n                        request.send();\r\n                    }\r\n                    validationHelper.isFileImage = isFileImage;\r\n                })(validationHelper = dataview.validationHelper || (dataview.validationHelper = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataViewObjectsParser = (function () {\r\n                    function DataViewObjectsParser() {\r\n                    }\r\n                    DataViewObjectsParser.getDefault = function () {\r\n                        return new this();\r\n                    };\r\n                    DataViewObjectsParser.createPropertyIdentifier = function (objectName, propertyName) {\r\n                        return {\r\n                            objectName: objectName,\r\n                            propertyName: propertyName\r\n                        };\r\n                    };\r\n                    DataViewObjectsParser.parse = function (dataView) {\r\n                        var dataViewObjectParser = this.getDefault(), properties;\r\n                        if (!dataView || !dataView.metadata || !dataView.metadata.objects) {\r\n                            return dataViewObjectParser;\r\n                        }\r\n                        properties = dataViewObjectParser.getProperties();\r\n                        for (var objectName in properties) {\r\n                            for (var propertyName in properties[objectName]) {\r\n                                var defaultValue = dataViewObjectParser[objectName][propertyName];\r\n                                dataViewObjectParser[objectName][propertyName] = dataview.DataViewObjects.getCommonValue(dataView.metadata.objects, properties[objectName][propertyName], defaultValue);\r\n                            }\r\n                        }\r\n                        return dataViewObjectParser;\r\n                    };\r\n                    DataViewObjectsParser.isPropertyEnumerable = function (propertyName) {\r\n                        return !DataViewObjectsParser.InnumerablePropertyPrefix.test(propertyName);\r\n                    };\r\n                    DataViewObjectsParser.enumerateObjectInstances = function (dataViewObjectParser, options) {\r\n                        var dataViewProperties = dataViewObjectParser && dataViewObjectParser[options.objectName];\r\n                        if (!dataViewProperties) {\r\n                            return [];\r\n                        }\r\n                        var instance = {\r\n                            objectName: options.objectName,\r\n                            selector: null,\r\n                            properties: {}\r\n                        };\r\n                        for (var key in dataViewProperties) {\r\n                            if (dataViewProperties.hasOwnProperty(key)) {\r\n                                instance.properties[key] = dataViewProperties[key];\r\n                            }\r\n                        }\r\n                        return {\r\n                            instances: [instance]\r\n                        };\r\n                    };\r\n                    DataViewObjectsParser.prototype.getProperties = function () {\r\n                        var _this = this;\r\n                        var properties = {}, objectNames = Object.keys(this);\r\n                        objectNames.forEach(function (objectName) {\r\n                            if (DataViewObjectsParser.isPropertyEnumerable(objectName)) {\r\n                                var propertyNames = Object.keys(_this[objectName]);\r\n                                properties[objectName] = {};\r\n                                propertyNames.forEach(function (propertyName) {\r\n                                    if (DataViewObjectsParser.isPropertyEnumerable(objectName)) {\r\n                                        properties[objectName][propertyName] =\r\n                                            DataViewObjectsParser.createPropertyIdentifier(objectName, propertyName);\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                        return properties;\r\n                    };\r\n                    return DataViewObjectsParser;\r\n                }());\r\n                DataViewObjectsParser.InnumerablePropertyPrefix = /^_/;\r\n                dataview.DataViewObjectsParser = DataViewObjectsParser;\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));'},function(e,t,n){n(2)(n(63))},function(e,t,n){n(2)(n(64))},function(e,t,n){n(2)(n(65))},function(e,t,n){n(2)(n(66))},function(e,t,n){n(2)(n(67))},function(e,t,n){n(2)(n(68))},function(e,t,n){"use strict";n(7);n(10);n(34);var r=n(56);n(57);n(1);n(70);e.exports=powerbi.extensibility.utils.formatting},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(7);t.type=r;var i=n(75);t.formatting=i;var a=n(34);t.dataview=a;var o=n(10);t.svg=o;var s=n(77);t.interactivity=s.interactivity;t.filter=s.filter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});n(7);n(10);n(1);n(69);n(71);var r=powerbi.extensibility.utils,i=r.interactivity,a=r.filter;t.interactivity=i;t.filter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});n(1);var r=n(35);var i=n(33);function a(e,t,n,a){"use strict";var o=[];var s={};var u=[];var l=e.table;var c={};var f={};l.columns.forEach(function(e,t){Object.keys(e.roles).forEach(function(n){
c[n]=t;f[n]=e})});var d=r.DATA_ROLES;var p=c[d.source.name];var h=c[d.sourceColor.name];var m=c[d.sourceLabelColor.name];var g=c[d.targetColor.name];var y=c[d.targetLabelColor.name];var v=c[d.target.name];var b=c[d.edgeValue.name];var x=c[d.edgeColorValue.name];var T=c[d.sourceNodeWeight.name];var E=c[d.targetNodeWeight.name];function S(t,r,u,c,f,d,h){if(f===void 0){f="gray"}if(h===void 0){h=0}var m=l.columns[u?p:v];var g=s[t];if(!s[t]){var y=a();var b=e.metadata.columns.filter(function(e){return e.queryName===m.queryName})[0];var x=n||b;var T={table:x.queryName.substr(0,x.queryName.indexOf(".")),column:x.displayName};var E=new i.AdvancedFilter(T,"And",{operator:"Is",value:t});g=s[t]={name:t,color:f||"gray",labelColor:d,index:o.length,filter:E,value:c,neighbors:1,selected:false,identity:y?y.withCategory({source:b,values:null,identity:[r]},0).createSelectionId():-1};o.push(g)}return g}if(p!==undefined&&v!==undefined){l.rows.forEach(function(e,t){var n=l.identity[t];if(e[p]&&e[v]){var r=e[p]+"";var i=e[v]+"";var a={source:S(r,n,true,e[T],e[h],e[m]).index,target:S(i,n,false,e[E],e[g],e[y]).index,value:e[b],colorValue:e[x]};o[a.source].neighbors+=1;o[a.target].neighbors+=1;u.push(a)}});var w=t.maxNodeCount;if(typeof w==="number"&&w>0){o=o.slice(0,w);u=u.filter(function(e){return e.source<w&&e.target<w})}}return{nodes:o,links:u}}t.converter=a;t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a;return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:true});var a=n(43);var o=n(8);var s=n(38);var u="Search";var l="Layout";var c=function(e){r(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.caseInsensitive=true;t.animate=true;t.maxNodeCount=0;t.maxNodeSize=500;t.minNodeSize=1;t.linkDistance=s.constants.linkDistance.default;t.linkStrength=s.constants.linkStrength.default;t.gravity=s.constants.gravity.default;t.charge=s.constants.charge.default;t.labels=false;t.minZoom=s.constants.minZoom.default;t.maxZoom=s.constants.maxZoom.default;t.defaultLabelColor=o.default[0];t.fontSizePT=s.constants.fontSizePT.defaultValue;t.minEdgeWeight=undefined;t.maxEdgeWeight=undefined;t.minEdgeColorWeight=undefined;t.maxEdgeColorWeight=undefined;t.edgeMinWidth=s.constants.edgeMinWidth.defaultValue;t.edgeMaxWidth=s.constants.edgeMaxWidth.defaultValue;t.edgeStartColor=s.constants.edgeStartColor.defaultValue;t.edgeEndColor=s.constants.edgeEndColor.defaultValue;t.scale=1;t.translate=[0,0];t.textFilter="";return t}return t}(a.HasSettings);i([a.textSetting({persist:false,category:"General",displayName:"Version",description:"The version of Network Navigator",compose:function(){return"2.1.0+250"}})],c.prototype,"version",void 0);i([a.boolSetting({category:u,displayName:"Case Insensitive",description:"Case Insensitive Filtering",defaultValue:true})],c.prototype,"caseInsensitive",void 0);i([a.boolSetting({category:l,displayName:"Animate",description:"Should the graph be animated",defaultValue:true})],c.prototype,"animate",void 0);i([a.numberSetting({category:l,displayName:"Max nodes",description:"The maximum number of nodes to render",defaultValue:0})],c.prototype,"maxNodeCount",void 0);i([a.numberSetting({category:l,displayName:"Max node size",description:"The maximum size to render a vertex",defaultValue:500})],c.prototype,"maxNodeSize",void 0);i([a.numberSetting({category:l,displayName:"Min node size",description:"The minimum size to render a vertex",defaultValue:1})],c.prototype,"minNodeSize",void 0);i([a.numberSetting({category:l,displayName:"Link Distance",description:"Link Distance",min:s.constants.linkDistance.min,max:s.constants.linkDistance.max,defaultValue:s.constants.linkDistance.default})],c.prototype,"linkDistance",void 0);i([a.numberSetting({category:l,displayName:"Link Strength",description:"Link Strength",min:s.constants.linkStrength.min,max:s.constants.linkStrength.max,defaultValue:s.constants.linkStrength.default})],c.prototype,"linkStrength",void 0);i([a.numberSetting({category:l,displayName:"Gravity",description:"Gravity parameter used in force-directed layout",min:s.constants.gravity.min,max:s.constants.gravity.max,defaultValue:s.constants.gravity.default})],c.prototype,"gravity",void 0);i([a.numberSetting({category:l,displayName:"Charge",description:"Charge parameter used in force-directed layout",min:s.constants.charge.min,max:s.constants.charge.max,defaultValue:s.constants.charge.default})],c.prototype,"charge",void 0);i([a.boolSetting({category:l,displayName:"Labels",description:"If labels on the nodes should be shown",defaultValue:false})],c.prototype,"labels",void 0);i([a.numberSetting({category:l,displayName:"Min Zoom",description:"Minimum zoom scale",min:s.constants.minZoom.min,max:s.constants.minZoom.max,defaultValue:s.constants.minZoom.default})],c.prototype,"minZoom",void 0);i([a.numberSetting({category:l,displayName:"Max Zoom",description:"Maximum zoom scale",min:s.constants.maxZoom.min,max:s.constants.maxZoom.max,defaultValue:s.constants.maxZoom.default})],c.prototype,"maxZoom",void 0);i([a.colorSetting({category:l,displayName:"Default Label Color",description:"The default color to use for labels",defaultValue:o.default[0]})],c.prototype,"defaultLabelColor",void 0);i([a.numberSetting({category:l,displayName:"Font Size",description:"The font size (pts) to use for labels",name:"textSize",min:s.constants.fontSizePT.min,max:s.constants.fontSizePT.max,defaultValue:s.constants.fontSizePT.defaultValue})],c.prototype,"fontSizePT",void 0);i([a.numberSetting({category:l,displayName:"Min Edge Weight",description:"The minimum value of the edge weight data",defaultValue:undefined})],c.prototype,"minEdgeWeight",void 0);i([a.numberSetting({category:l,displayName:"Max Edge Weight",description:"The maximum value of the edge weight data",defaultValue:undefined})],c.prototype,"maxEdgeWeight",void 0);i([a.numberSetting({category:l,displayName:"Min Edge Color Weight",description:"The minimum value of the edge color weight data",defaultValue:undefined})],c.prototype,"minEdgeColorWeight",void 0);i([a.numberSetting({category:l,displayName:"Max Edge Color Weight",description:"The maximum value of the edge color weight data",defaultValue:undefined})],c.prototype,"maxEdgeColorWeight",void 0);i([a.numberSetting({category:l,displayName:"Min Edge Width",description:"The minimum edge width to render",min:s.constants.edgeMinWidth.min,max:s.constants.edgeMinWidth.max,defaultValue:s.constants.edgeMinWidth.defaultValue})],c.prototype,"edgeMinWidth",void 0);i([a.numberSetting({category:l,displayName:"Max Edge width",description:"The maximum edge width to render",min:s.constants.edgeMaxWidth.min,max:s.constants.edgeMaxWidth.max,defaultValue:s.constants.edgeMaxWidth.defaultValue})],c.prototype,"edgeMaxWidth",void 0);i([a.colorSetting({category:l,displayName:"Edge Start Color",description:"Edge Start Color",defaultValue:s.constants.edgeStartColor.defaultValue})],c.prototype,"edgeStartColor",void 0);i([a.colorSetting({category:l,displayName:"Edge End Color",description:"Edge End Color",defaultValue:s.constants.edgeEndColor.defaultValue})],c.prototype,"edgeEndColor",void 0);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(81);var i=n(29);var a=n(26);var o=n(36);var s=n(37);var u=n(39);var l=n(13);var c=n(82)("NetworkNavigator");var f=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var d=function(){function e(e,t,n){if(t===void 0){t=500}if(n===void 0){n=500}var o=this;this.events=new r.default;this.translate=[0,0];this.scale=1;this._configuration=i.extend(true,{},s.DEFAULT_CONFIGURATION);this.element=i(u.default());e.append(this.element);this.svgContainer=this.element.find(".svg-container");this.element.find(".clear-selection").on("click",function(){o.textFilter="";o.updateSelection(undefined);o.events.raiseEvent("textFilter","")});var c=l(function(){o.filterNodes(o.textFilter);o.events.raiseEvent("textFilter",o.textFilter)},500);this.filterBox.on("input",c);this.dimensions={width:t,height:n};this.svg=a.select(this.svgContainer[0]).append("svg").attr("width",t).attr("height",n);this.force=a.layout.force().linkDistance(10).linkStrength(2).gravity(.1).charge(-120).size([t,n]);this.vis=this.svg.append("svg:g");this.redraw()}Object.defineProperty(e.prototype,"filterBox",{get:function(){return this.element.find(".search-filter-box")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"textFilter",{get:function(){return this.filterBox.val()},set:function(e){if(e!==this.textFilter){this.filterBox.val(e);this.filterNodes(e)}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dimensions",{get:function(){return this._dimensions},set:function(e){this._dimensions={width:e.width||this.dimensions.width,height:e.height||this.dimensions.height};if(this.force){this.force.size([this.dimensions.width,this.dimensions.height]);this.force.resume();this.element.css({width:this.dimensions.width,height:this.dimensions.height});this.svgContainer.css({width:this.dimensions.width,height:this.dimensions.height});this.svg.attr({width:this.dimensions.width,height:this.dimensions.height})}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},set:function(e){var t=this;e=i.extend(true,{},this._configuration,e);if(this.force){var n=void 0;var r=function(n,r){var i=r.default,a=r.min,o=r.max;if(e[n]!==t._configuration[n]){var s=o?Math.min(e[n],o):e[n];s=a?Math.max(s,a):s;t.force[n](s||i);return true}};var a=o.charge,s=o.linkDistance,u=o.linkStrength,l=o.gravity;n=r("linkDistance",s)||n;n=r("linkStrength",u)||n;n=r("charge",a)||n;n=r("gravity",l)||n;if((e.minZoom!==this._configuration.minZoom||e.maxZoom!==this._configuration.maxZoom)&&this.zoom){this.zoom.scaleExtent([e.minZoom,e.maxZoom])}if(e.animate){if(n||!this.configuration.animate){this.force.start()}}else{this.force.stop();if(n){this.reflow(this.vis.selectAll(".link"),this.vis.selectAll(".node"))}}if(e.labels!==this._configuration.labels){this.vis.selectAll(".node text").style("display",e.labels?null:"none")}if(e.caseInsensitive!==this._configuration.caseInsensitive){this.filterNodes(this.element.find(".search-filter-box").val())}if(e.fontSizePT!==this._configuration.fontSizePT){e.fontSizePT=e.fontSizePT||8;this.vis.selectAll(".node text").attr("font-size",function(){return e.fontSizePT+"pt"})}}this._configuration=e;this.redraw()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"data",{get:function(){return this.getData()},set:function(e){this.setData(e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"selectedNode",{get:function(){return this._selectedNode},set:function(e){if(this._selectedNode!==e){if(this._selectedNode){this._selectedNode.selected=false}this._selectedNode=e;if(e){e.selected=true}this.redrawSelection()}},enumerable:true,configurable:true});e.prototype.redraw=function(){this.renderGraph();this.zoomToViewport()};e.prototype.renderGraph=function(){var e=this;if(this.graph){var t=this.graph;var n=this;this.zoom=a.behavior.zoom().scaleExtent([this._configuration.minZoom,this._configuration.maxZoom]).on("zoom",function(){var t=a.event;e.scale=t.scale;e.translate=t.translate;e.zoomToViewport();e.events.raiseEvent("zoomed",{scale:e.scale,translate:e.translate})});var r=a.behavior.drag().origin(function(e){return e}).on("dragstart",function(e){a.event.sourceEvent.stopPropagation();a.select(this).classed("dragging",true);n.force.stop()}).on("drag",function(e){var t=a.event;e.px=e.x=t.x;e.py=e.y=t.y;v()}).on("dragend",function(e){a.select(this).classed("dragging",false);if(n.configuration.animate){n.force.resume()}});this.svg.remove();this.svg=a.select(this.svgContainer[0]).append("svg").attr("width",this.dimensions.width).attr("height",this.dimensions.height).attr("preserveAspectRatio","xMidYMid meet").attr("pointer-events","all").call(this.zoom);this.vis=this.svg.append("svg:g");var i=t.nodes.slice();var o=[];var u=[];t.links.forEach(function(e){var t=i[e.source];var n=i[e.target];var r=e.value;var a=e.colorValue;var s={};i.push(s);o.push({source:t,target:s},{source:s,target:n});u.push([t,s,n,r,a])});this.force.nodes(i).links(o);if(this.configuration.animate){this.force.start()}var l=function(e,t,n){if(e!==undefined&&t!==undefined){return[e,t]}else{var r;var i;var a=u.map(n);a.forEach(function(e){if(r===undefined||e<r){r=e}if(i===undefined||e>i){i=e}});return[r,i]}};var c=l(this.configuration.minEdgeColorWeight,this.configuration.maxEdgeColorWeight,function(e){return e[4]});var f=l(this.configuration.minEdgeWeight,this.configuration.maxEdgeWeight,function(e){return e[3]});var d=a.scale.linear().domain(c).interpolate(a.interpolateRgb).range([this.configuration.edgeStartColor,this.configuration.edgeEndColor]);var p=a.scale.linear().domain(f).interpolate(a.interpolateNumber).range([this.configuration.edgeMinWidth,this.configuration.edgeMaxWidth]);var h=function(e,t){return Math.min(t[1],Math.max(t[0],e))};var m=function(e,t,n,r){var i=e!==undefined;var a=i?h(e,n):e;var o=i?t(a):r;return o};this.vis.append("svg:defs").selectAll("marker").data(["end"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",0).attr("markerWidth",7).attr("markerHeight",7).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5");var g=this.vis.selectAll(".link").data(u).enter().append("line").attr("class","link").style("stroke",function(e){return m(e[4],d,c,"gray")}).style("stroke-width",function(e){return m(e[3],p,f,s.DEFAULT_EDGE_SIZE)}).attr("id",function(e){return e[0].name.replace(/\./g,"_").replace(/@/g,"_")+"_"+e[2].name.replace(/\./g,"_").replace(/@/g,"_")});var y=this.vis.selectAll(".node").data(t.nodes).enter().append("g").call(r).attr("class","node");y.append("svg:circle").attr("r",function(t){var n=t.value;if(typeof n==="undefined"||n===null){n=s.DEFAULT_NODE_SIZE}var r=e._configuration.maxNodeSize;var i=e._configuration.minNodeSize;n=r&&n>r?r:n;n=i&&n<i?i:n;return n>0?n:0}).style("fill",function(e){return e.color}).style("stroke","red").style("stroke-width",function(e){return e.selected?1:0});y.on("click",function(t){return e.onNodeClicked(t)});y.on("mouseover",function(){a.select(e.svgContainer.find("svg text")[0]).style("display",null)});y.on("mouseout",function(){if(!e._configuration.labels){a.select(e.svgContainer.find("svg text")[0]).style("display","none")}});g.append("svg:text").text(function(e){return"yes"}).attr("fill","black").attr("stroke","black").attr("font-size",function(){return e.configuration.fontSizePT+"pt"}).attr("stroke-width","0.5px").attr("class","linklabel").attr("text-anchor","middle");y.append("svg:text").attr("class","node-label").text(function(e){return e.name}).attr("fill",function(t){return t.labelColor||e.configuration.defaultLabelColor}).attr("stroke",function(t){return t.labelColor||e.configuration.defaultLabelColor}).attr("font-size",function(){return e.configuration.fontSizePT+"pt"}).attr("stroke-width","0.5px").style("display",this._configuration.labels?null:"none");if(!this.configuration.animate){this.reflow(g,y)}var v=function(){if(e.configuration.animate){g.attr("x1",function(e){return e[0].x}).attr("y1",function(e){return e[0].y}).attr("x2",function(e){return e[2].x}).attr("y2",function(e){return e[2].y});y.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}};this.force.on("tick",v)}};e.prototype.zoomToViewport=function(){if(this.zoom&&this.vis){this.vis.attr("transform","translate("+this.translate+") scale("+this.scale+")");this.zoom.scale(this.scale);this.zoom.translate(this.translate)}};e.prototype.getData=function(){return this.graph};e.prototype.setData=function(e){this.graph=e;this.redraw()};e.prototype.redrawSelection=function(){this.vis.selectAll(".node circle").style("stroke-width",function(e){return e.selected?1:0})};e.prototype.redrawLabels=function(){var e=this;this.vis.selectAll(".node .node-label").attr("fill",function(t){return t.labelColor||e.configuration.defaultLabelColor}).attr("stroke",function(t){return t.labelColor||e.configuration.defaultLabelColor})};e.prototype.filterNodes=function(e,t){var n=this;if(t===void 0){t=true}var r=this.vis.selectAll(".node circle");if(t){r=r.transition().duration(500).delay(100)}var i=function(e){return(e||"")+""};r.attr("transform",function(t){var r=1;var a=t.name||"";var o=n.configuration.caseInsensitive?"i":"";var s=new RegExp(f(e),o);if(e&&s.test(i(a))){r=3}return"scale("+r+")"})};e.prototype.onNodeClicked=function(e){this.events.raiseEvent("nodeClicked",e);this.updateSelection(e)};e.prototype.updateSelection=function(e){var t=e;if(e!==this._selectedNode){if(this._selectedNode){this._selectedNode.selected=false}if(e){e.selected=true}}else{if(this._selectedNode){this._selectedNode.selected=false}t=undefined}c("raise selectionChanged",this._selectedNode);this.selectedNode=t;this.events.raiseEvent("selectionChanged",this._selectedNode)};e.prototype.reflow=function(e,t){var n=0;this.force.start();while(this.force.alpha()>.01&&n<150){this.force["tick"]();n=n+1}this.force.stop();e.attr("x1",function(e){return e[0].x}).attr("y1",function(e){return e[0].y}).attr("x2",function(e){return e[2].x}).attr("y2",function(e){return e[2].y});t.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})};return e}();t.NetworkNavigator=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){this.listeners={}}e.prototype.on=function(e,t){var n=this;var r=this.listeners[e]=this.listeners[e]||[];r.push(t);return{destroy:function(){n.off(e,t)}}};e.prototype.off=function(e,t){var n=this.listeners[e];if(n){var r=n.indexOf(t);if(r>=0){n.splice(r,1)}}};e.prototype.raiseEvent=function(e){var t=this;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}var i=this.listeners[e];if(i){i.forEach(function(e){e.apply(t,n)})}};return e}();t.default=n},function(e,t,n){(function(r){t=e.exports=n(83);t.log=o;t.formatArgs=a;t.save=s;t.load=u;t.useColors=i;t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l();t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function a(e){var n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff);if(!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0;var a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){if("%%"===e)return;i++;if("%c"===e){a=i}});e.splice(a,0,r)}function o(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{if(null==e){t.storage.removeItem("debug")}else{t.storage.debug=e}}catch(e){}}function u(){var e;try{e=t.storage.debug}catch(e){}if(!e&&typeof r!=="undefined"&&"env"in r){e=""}return e}t.enable(u());function l(){try{return window.localStorage}catch(e){}}}).call(t,n(32))},function(e,t,n){t=e.exports=a.debug=a["default"]=a;t.coerce=l;t.disable=s;t.enable=o;t.enabled=u;t.humanize=n(31);t.names=[];t.skips=[];t.formatters={};var r;function i(e){var n=0,r;for(r in e){n=(n<<5)-n+e.charCodeAt(r);n|=0}return t.colors[Math.abs(n)%t.colors.length]}function a(e){function n(){if(!n.enabled)return;var e=n;var i=+new Date;var a=i-(r||i);e.diff=a;e.prev=r;e.curr=i;r=i;var o=new Array(arguments.length);for(var s=0;s<o.length;s++){o[s]=arguments[s]}o[0]=t.coerce(o[0]);if("string"!==typeof o[0]){o.unshift("%O")}var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if(n==="%%")return n;u++;var i=t.formatters[r];if("function"===typeof i){var a=o[u];n=i.call(e,a);o.splice(u,1);u--}return n});t.formatArgs.call(e,o);var l=n.log||t.log||console.log.bind(console);l.apply(e,o)}n.namespace=e;n.enabled=t.enabled(e);n.useColors=t.useColors();n.color=i(e);if("function"===typeof t.init){t.init(n)}return n}function o(e){t.save(e);t.names=[];t.skips=[];var n=(typeof e==="string"?e:"").split(/[\s,]+/);var r=n.length;for(var i=0;i<r;i++){if(!n[i])continue;e=n[i].replace(/\*/g,".*?");if(e[0]==="-"){t.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{t.names.push(new RegExp("^"+e+"$"))}}}function s(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++){if(t.skips[n].test(e)){return false}}for(n=0,r=t.names.length;n<r;n++){if(t.names[n].test(e)){return true}}return false}function l(e){if(e instanceof Error)return e.stack||e.message;return e}}]);