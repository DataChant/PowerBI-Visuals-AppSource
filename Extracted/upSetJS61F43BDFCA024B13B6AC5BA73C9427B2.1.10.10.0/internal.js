/*! For license information please see visual.js.LICENSE.txt */
var upSetJS61F43BDFCA024B13B6AC5BA73C9427B2;(()=>{"use strict";var e={421:(e,t,n)=>{n.d(t,{ZP:()=>v,zj:()=>g});var r=n(835),o=n(479),a=n(867),i=n(106),c=n(331),l=n(560);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var y=(0,a.EL)([(0,i.Z)(l.Z.key),(0,a.ER)(l.Z.ecdsa.public)]),v=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).license=new o.Z(y,"https://dataviz.boutique"),e.theme=new g,e.fonts=new c.Ze,e.combinations=new c.LW,e.sets=new _,e.style=new b,e}return n}(r.U),g=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).alternatingBackgroundColor=c.ce.alternatingBackgroundColor,e.hoverHintColor=c.ce.hoverHintColor,e.notMemberColor=c.ce.notMemberColor,e}return n}(c.dJ),b=function e(){u(this,e),this.setName=c.ce.setName,this.setLabelAlignment=c.ce.setLabelAlignment,this.combinationName=c.ce.combinationName,this.numericScale=c.ce.numericScale,this.setNameAxisOffset=c.ce.setNameAxisOffset,this.setMaxScale=c.ce.setMaxScale,this.combinationNameAxisOffset=c.ce.combinationNameAxisOffset,this.combinationMaxScale=c.ce.combinationMaxScale},_=function e(){u(this,e),this.show=!0,this.displayName="Sets",this.order="inherit",this.limit=10}},106:(e,t,n)=>{function r(e){return function(t){return Promise.resolve(function(t){return t&&0!==t.trim().length&&t.includes(":")?t.split(":").map((function(t){return function(e,t){var n="",r=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");r<e.length;){var o=t.indexOf(e.charAt(r++)),a=t.indexOf(e.charAt(r++)),i=t.indexOf(e.charAt(r++)),c=t.indexOf(e.charAt(r++)),l=o<<2|a>>4,s=(15&a)<<4|i>>2,u=(3&i)<<6|c;n+=String.fromCharCode(l),64!==i&&(n+=String.fromCharCode(s)),64!==c&&(n+=String.fromCharCode(u))}return n=function(e){for(var t="",n=0;n<e.length;){var r=e.charCodeAt(n++);if(r<128)t+=String.fromCharCode(r);else if(r>191&&r<224){var o=e.charCodeAt(n++);t+=String.fromCharCode((31&r)<<6|63&o)}else{var a=e.charCodeAt(n++),i=e.charCodeAt(n++);t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i)}}return t}(n),n}(t,e)})).join(":"):null}(t))}}n.d(t,{Z:()=>r})},560:(e,t,n)=>{n.d(t,{Z:()=>r});const r={key:"UVWXYZ01234tuvwxyzABCDEFGHIJKLMhijklmnopqrsNOPQRST56789+/=abcdefg",ecdsa:{public:{crv:"P-384",ext:!0,key_ops:["verify"],kty:"EC",x:"Qbra8UXndJxyBqfhbEyGz695POqZ-JCJzqxMSHR_9MYc6DA7Imi293qdqWBznwqi",y:"kCSUToEbt7hD7_GnmB1_Thg0Ddi46dZt6DZCEbpEBAKT67IDPbkHuCAt2YCktU-h"}}}},479:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>a});var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code="",this.info="",this.contact="",this._decoder=t,this._url=n,this.contact=n}var t,n;return t=e,(n=[{key:"updateInfo",value:function(e,t){this.info!==t&&e.persistProperties({merge:[{objectName:"license",selector:"",properties:{info:t}}]})}},{key:"deriveLicenseState",value:function(e,t){if(!e||0===e.trim().length)return this.updateInfo(t,""),"no-license";if(!e.includes(":"))return this.updateInfo(t,"invalid license code"),"invalid";var n,o,a=(n=e.split(":"),o=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(n,o)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1],l=function(e){if(!/^(\d\d)\.(\d\d)\.(\d\d\d\d)$/gm.test(e))return null;var t=e.split("."),n=Number.parseInt(t[0],10),r=Number.parseInt(t[1],10),o=Number.parseInt(t[2],10);return new Date(o,r-1,n)}(i);if(!l)return this.updateInfo(t,"invalid license code"),"invalid";if(new Date<=l){var s=l.toDateString();return this.updateInfo(t,"".concat(c," (valid until ").concat(s,")")),"valid"}return this.updateInfo(t,"".concat(c," (license expired)")),"expired"}},{key:"updateLicenseState",value:function(e,t,n){var r=this;return this._decoder(this.code).then((function(o){"valid"!==r.deriveLicenseState(o,t)&&n()?function(e,t){var n=110,r=110,o="<text transform='translate(".concat(n,",").concat(r,") rotate(-45)'>").concat(t,"</text>"),a="<text transform='translate(".concat(220,",").concat(r,") rotate(-45)' fill='rgb(190, 227, 190)'>").concat(t,"</text>"),i="<text transform='translate(".concat(330,",").concat(r,") rotate(-45)' fill='white'>").concat(t,"</text>"),c="<text transform='translate(".concat(0,",").concat(r,") rotate(-45)' fill='white'>").concat(t,"</text>"),l="fill: black; font-size: ".concat(30,"; text-anchor: middle; dominant-baseline: central; fill-opacity: ").concat(.2),s="".concat("url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1'"," height='").concat(220,"px' width='").concat(330,"px'><g style='").concat(l,"'>").concat(i).concat(o).concat(a).concat(c,'</g></svg>")');e.style.background=s}(e,r._url):r.resetWatermark(e)}))}},{key:"resetWatermark",value:function(e){e.style.background=""}}])&&o(t.prototype,n),e}()},312:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{G:()=>o});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.base=t,this.map=new Map,this.set=new Set}var t,n;return t=e,(n=[{key:"getColor",value:function(e){if(this.map.has(e))return this.map.get(e);for(var t=this.base.getColor(e),n=0;this.set.has(t.value);)t=this.base.getColor("".concat(e).concat(n++));return this.set.add(t.value),this.map.set(e,t),t}},{key:"clear",value:function(){this.map.clear(),this.set.clear()}}])&&r(t.prototype,n),e}()},9:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e){var t=e.source;return Boolean(null!=t.type&&(t.type.integer||t.type.numeric||t.type.duration))}n.d(t,{kE:()=>i,LM:()=>c,o8:()=>l});var c=function(){function e(t){r(this,e),this.data=t}return a(e,[{key:"displayName",get:function(){return this.data.source.displayName}}]),e}(),l=function(){function e(t,n,o,a){r(this,e),this.data=t;var i=Array.from(new Set(t.values.map((function(e){return e.toString()})))).sort(),c=function(t,r){if(n.objects&&n.objects[t]){var a=n.objects[t][e.OBJECT_NAME].fill.solid.color;if(a)return a}return o.colorPalette.getColor(r).value};this.categories=i.map((function(e,t){var r=a+t;return{value:e,color:c(r,e),index:r,selector:o.createSelectionIdBuilder().withCategory(n,r).createSelectionId().getSelector()}}))}return a(e,[{key:"displayName",get:function(){return this.data.source.displayName}},{key:"asPropertyInstance",value:function(){var t=this;return this.categories.map((function(n){var r;return{objectName:e.OBJECT_NAME,displayName:"".concat(t.displayName," - ").concat(null!==(r=n.label)&&void 0!==r?r:n.value),selector:n.selector,properties:{fill:{solid:{color:n.color}}}}}))}}]),e}();l.OBJECT_NAME="attributeColors"},867:(e,t,n)=>{function r(e){return function(e,t,n){if(!self.crypto||!self.crypto.subtle)return function(){return Promise.resolve(null)};var r=self.crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-384"},!1,["verify"]);return function(e){try{if(!e.includes("$"))return Promise.resolve(null);var t=atob(e.slice(0,e.indexOf("$"))),o=new Uint8Array(Array.from(atob(e.slice(e.indexOf("$")+1))).map((function(e){return e.charCodeAt(0)}))),a=(new TextEncoder).encode(t);return Promise.resolve(r.then((function(e){return self.crypto.subtle.verify(n,e,o,a)})).then((function(e){return e?t:null}))).catch((function(e){return null}))}catch(e){return Promise.resolve(null)}}}(e,0,{name:"ECDSA",hash:{name:"SHA-384"}})}function o(e){return function(t){if(1===e.length)return e[0](t);if(0===e.length)return Promise.resolve(null);var n=e.slice();return function e(r){return null!=r||0===n.length?Promise.resolve(r):n.shift()(t).then(e)}(null)}}n.d(t,{ER:()=>r,EL:()=>o})},97:(e,t,n)=>{n.d(t,{Rs:()=>i,RA:()=>c,x7:()=>s});var r=n(133);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(t,n){if(n.preventDefault(),t){var r=t.elems[0],o=r&&null!=r.s?r.s:{};e.showContextMenu(o,{x:n.clientX,y:n.clientY})}}}function c(e,t){return function(n){if(n){var r=n.elems.map((function(e){return e.s})),o=e.getSelectionIds();i=o,(a=r).length===i.length&&a.every((function(e,t){return e===i[t]}))?e.clear().then((function(){t(null)})):e.select(r).then((function(){t(n)}))}else e.clear().then((function(){t(null)}));var a,i}}function l(e){if(!e)return[];if("categorical"===e.id){var t=Object.keys(e.value).filter((function(e){return"toString"!==e})).map((function(t){return e.value[t]}));return[{displayName:"Attribute",value:e.name}].concat(t.map((function(e){return{displayName:e.label,color:e.color,value:"".concat(e.count.toLocaleString()," (").concat(Math.round(100*e.percentage),"%)")}})))}if("boxplot"===e.id){var n=e.value,r=[n.min,n.q1,n.median,n.q3,n.max];return[{displayName:"Attribute",value:e.name}].concat(["Minimum","25% Quantile","Median","75% Quantile","Maximum"].map((function(e,t){return{displayName:e,value:r[t].toFixed(2)}})))}return[]}function s(e,t){if(!t.tooltipService.enabled())return[void 0,void 0];var n=function(t,n,a){var i,c=e.getBoundingClientRect(),s=[n.clientX-c.left-e.clientLeft,n.clientY-c.top-e.clientTop],u=t.elems.map((function(e){return e.s}));return{isTouchEvent:!1,coordinates:s,dataItems:[{header:t.name,displayName:"Size",value:t.cardinality.toLocaleString()}].concat(o((0,r.sm)(t)&&t.degree>1?Array.from(t.sets).map((function(e){return{displayName:e.name,value:e.cardinality.toLocaleString()}})):[]),o((i=[]).concat.apply(i,o(a.map(l))))),identities:[u]}},a=!1,i=-1,c=function(e,r,o){if(i>=0&&(clearTimeout(i),i=-1),t.tooltipService.enabled())return e?void(i=self.setTimeout((function(){var i=n(e,r,o);a=!0,t.tooltipService.show(i)}),250)):(a=!1,void t.tooltipService.hide({immediately:!1,isTouchEvent:!1}))};return[c,function(e,r,o){if(!a)return c(e,r,o);if(t.tooltipService.enabled()&&e){var i=n(e,r,o);t.tooltipService.move(i)}}]}},717:(e,t,n)=>{n.d(t,{_r:()=>a,jx:()=>i,bU:()=>c,xr:()=>l,yG:()=>f});var r=n(133);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return 0===e.length?null:t.filter((function(t){return e.some((function(e){return t===e||t.s&&function(e){return null!=e&&"function"==typeof e.includes}(e)&&e.includes(t.s)}))}))}function i(e,t,n,r,o,i){var c=function(e,t){if(t.values&&0!==t.values.length&&null!=t.values[0].highlights)return t.values[0].highlights.map((function(t,n){return null===t?null:e[n]})).filter((function(e){return null!==e}))}(e,r);return c?function(e,t,n){if(e&&0!==e.length){var r=new Set(e);return t.find((function(t){return t.cardinality===e.length&&t.elems.every((function(e){return r.has(e)}))}))||n.find((function(t){return t.cardinality===e.length&&t.elems.every((function(e){return r.has(e)}))}))||e}}(c,t,n):i?a(o.getSelectionIds(),e):null}function c(e,t){var n,r,o,a=null!==(r=null===(n=e.values)||void 0===n?void 0:n.filter((function(e){var t,n;return null===(n=null===(t=e.source)||void 0===t?void 0:t.roles)||void 0===n?void 0:n.attributes})))&&void 0!==r?r:[],i=null===(o=e.values)||void 0===o?void 0:o.find((function(e){var t,n;return null===(n=null===(t=e.source)||void 0===t?void 0:t.roles)||void 0===n?void 0:n.counts}));if(!e.categories||0===e.categories.length)return e.values?e.values.map((function(e,t){return{v:t,i:t,attrs:a.map((function(e){return e.values[t]})),count:i?i.values[t]:1}})):[];var c=e.categories[0];return t.hostCapabilities.allowInteractions?c.values.map((function(e,n){return{s:t.createSelectionIdBuilder().withCategory(c,n).createSelectionId(),v:e,cat:c,i:n,attrs:a.map((function(e){return e.values[n]})),count:i?i.values[n]:1}})):c.values.map((function(e,t){return{v:e,i:t,attrs:a.map((function(e){return e.values[t]})),count:i?i.values[t]:1}}))}function l(e,t){return function(n){if(t){var r=e.getColor(n.source.queryName).value;return n.source.objects&&n.source.objects[t]?n.source.objects[t].fill.solid.color:r}}}function s(e){return!(!e||String(e).toLowerCase().startsWith("f"))}function u(e,t){var n=function(e,t){return e.name.localeCompare(t.name)};return"cardinality:desc"===e.order?t.sort((function(e,t){return e.cardinality===t.cardinality?n(e,t):t.cardinality-e.cardinality})):"cardinality"===e.order?t.sort((function(e,t){return e.cardinality===t.cardinality?n(e,t):e.cardinality-t.cardinality})):"name"===e.order?t.sort(n):"inherit"===e.order&&t.sort((function(e,t){return e.index-t.index})),t.length>e.limit&&t.splice(e.limit,t.length-e.limit),t.reverse(),t}function f(e,t,n,a,i){var c,l=function(e,t){return(e.values?e.values.filter((function(e){var t,n;return null===(n=null===(t=e.source)||void 0===t?void 0:t.roles)||void 0===n?void 0:n.sets})):[]).map((function(e,n){return{value:e,index:n,values:e.values,name:e.source.displayName,color:t(e)}}))}(t,a);if(null==(null===(c=t.values)||void 0===c?void 0:c.find((function(e){var t,n;return null===(n=null===(t=e.source)||void 0===t?void 0:t.roles)||void 0===n?void 0:n.counts})))){var f=function(e,t,n){return u(n,(0,r.Yb)(t.map((function(t){var n=e.filter((function(e,n){return s(t.values[n])}));return Object.assign(Object.assign({},t),{elems:n,cardinality:n.reduce((function(e,t){return e+t.count}),0)})}))))}(e,l,n);return 0===f.length?{sets:f,combinations:[]}:{sets:f,combinations:(0,r.Qv)(f,i)}}return function(e,t,n,a){var i,c=null!==(i=a.type)&&void 0!==i?i:"distinctIntersection",l=(0,r.M0)(e.map((function(e,t){return{index:t,elems:[e],cardinality:e.count}})),(function(e){return t.filter((function(t){return s(t.values[e.index])})).map((function(e){return e.name}))}),{setOrder:n.order,combinationOrder:a.order,type:c}),f=l.sets,d=l.combinations,m=new Map(t.map((function(e){return[e.name,e]}))),h=d;return{sets:u(n,f.map((function(e){var t=m.get(e.name);return t&&Object.assign(e,t),"distinctIntersection"===c&&Object.assign(e,{elems:d.filter((function(t){return t.sets.has(e)})).reduce((function(e,t){return e.push.apply(e,function(e){if(Array.isArray(e))return o(e)}(n=t.elems)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e;var n}),[])}),e}))),combinations:h}}(e,l,n,i)}},331:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,{ce:()=>i,dJ:()=>c,Ze:()=>l,LW:()=>s});var i=(0,n(133).K1)({sets:[],width:100,height:100}),c=function(){function e(){r(this,e),this.theme="light",this.color=i.color,this.opacity=i.opacity,this.hasSelectionColor=i.hasSelectionColor,this.hasSelectionOpacity=i.hasSelectionOpacity,this.textColor=i.textColor,this.selectionColor=i.selectionColor}return a(e,[{key:"generate",value:function(t,n){var r=this,o=Object.keys(this).filter((function(e){return"string"==typeof r[e]||"number"==typeof r[e]})),a={};return this.supportIndividualColors()?Object.assign(a,function(e){return{color:e.base.foreground.value,textColor:e.base.foregroundButton.value,selectionColor:"",opacity:1,hasSelectionOpacity:.4,filled:!0}}(t)):this.theme===e.POWERBI_AUTO_THEME?Object.assign(a,function(e,t){if(!t.categories||0===t.categories.length)return{};var n=t.categories[0].source,r=e.getColor(n.queryName||n.displayName).value;return{color:r,textColor:e.base.foregroundButton.value,selectionColor:r,opacity:1,hasSelectionOpacity:.4,filled:!0}}(t,n)):a.theme=this.theme,o.forEach((function(e){var t=i[e],n=r[e];n!==t&&(a[e]=n)})),a}},{key:"supportIndividualColors",value:function(){return this.theme===e.POWERBI_THEME||this.theme===e.POWERBI_SET_COLORS_THEME}},{key:"deriveCombinationColor",get:function(){return this.theme!==e.POWERBI_SET_COLORS_THEME}},{key:"enumerateSetColors",value:function(t){return this.supportIndividualColors()?{instances:t.slice().reverse().map((function(t){return function(e,t){return{objectName:t,displayName:e.name,selector:{metadata:e.value.source.queryName},properties:{fill:{solid:{color:e.color}}}}}(t,e.SET_COLORS_OBJECT_NAME)}))}:{instances:[]}}}]),e}();c.SET_COLORS_OBJECT_NAME="setColors",c.POWERBI_THEME="powerbi",c.POWERBI_SET_COLORS_THEME="powerbi-set",c.POWERBI_AUTO_THEME="auto";var l=function(){function e(){r(this,e),this.fontFamily="Segoe UI",this.barLabel=7,this.chartLabel=12,this.setLabel=12,this.valueLabel=10}return a(e,[{key:"generate",value:function(){return{fontFamily:this.fontFamily,fontSizes:{barLabel:"".concat(this.barLabel,"pt"),chartLabel:"".concat(this.chartLabel,"pt"),setLabel:"".concat(this.setLabel,"pt"),valueLabel:"".concat(this.valueLabel,"pt")}}}}]),e}(),s=function(){function e(){r(this,e),this.show=!0,this.displayName="Intersections",this.mode="intersection",this.min=0,this.max=6,this.empty=!1,this.order="cardinality,name",this.limit=100}return a(e,[{key:"generate",value:function(){return{type:this.mode,min:this.min,max:this.max,empty:this.empty,limit:this.limit,order:(e=this.order,e.includes(",")?e.split(","):e)};var e}}]),e}()},783:(e,t,n)=>{n.d(t,{u:()=>m});var r=n(133),o=n(717),a=n(97),i=n(9),c=n(421),l=n(312);function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=[],m=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=c.ZP.getDefault(),this.attributes=[],this.rows=[],this.props={sets:[],width:100,height:100},this.target=t.element,this.selectionManager=t.host.createSelectionManager(),this.colorPalette=new l.G(t.host.colorPalette),this.host=t.host,this.renderPlaceholder();var r,i,u=(r=(0,a.x7)(this.target,this.host),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(r,i)||s(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());this.onHover=u[0],this.onMouseMove=u[1],this.onContextMenu=(0,a.Rs)(this.selectionManager),this.target.addEventListener("contextmenu",(function(e){e.preventDefault(),n.selectionManager.showContextMenu({},{x:e.clientX,y:e.clientY})})),this.setSelection=(0,a.RA)(this.selectionManager,(function(e){n.props.selection=e,n.render()})),this.selectionManager.registerOnSelectCallback((function(e){n.props.selection=(0,o._r)(e,n.rows),n.render()}))}var t,n;return t=e,(n=[{key:"render",value:function(){(0,r.sY)(this.target,this.props)}},{key:"update",value:function(e){try{this.host.eventService.renderingStarted(e),this.renderImpl(e)||this.renderPlaceholder(),this.host.eventService.renderingFinished(e)}catch(t){this.host.eventService.renderingFailed(e,String(t))}}},{key:"renderPlaceholder",value:function(){this.target.textContent="",this.target.style.position="relative",(0,r.O2)(this.target,{width:"100%",height:"100%"})}},{key:"renderImpl",value:function(e){var t=this;if(this.settings.license.resetWatermark(this.target),!e.dataViews||0===e.dataViews.length)return this.colorPalette.clear(),!1;var n=e.dataViews[0];if(this.settings=c.ZP.parse(n),!n.categorical||!n.categorical.categories)return this.colorPalette.clear(),!1;var r=0===n.categorical.categories.length;if(this.rows=(0,o.bU)(n.categorical,this.host),this.attributes=this.generateAttributes(n),!n.categorical.values)return this.colorPalette.clear(),!1;Boolean(n.metadata.segment)&&requestAnimationFrame((function(){return t.host.fetchMoreData()}));var a=this.generateSetsAndCombinations(n),i=a.sets,l=a.combinations;if(this.verifyLicense(i.length,n.categorical.values.reduce((function(e,t){var n,r;return e+((null===(r=null===(n=t.source)||void 0===n?void 0:n.roles)||void 0===r?void 0:r.attributes)?1:0)}),0)),0===i.length||0===l.length)return this.colorPalette.clear(),!1;var s=(0,o.jx)(this.rows,i,l,n.categorical,this.selectionManager,!r&&!0===this.host.hostCapabilities.allowInteractions);return this.props=Object.assign({sets:i,width:e.viewport.width,height:e.viewport.height,combinations:l,selection:s,exportButtons:!1},this.settings.fonts.generate(),this.settings.theme.generate(this.colorPalette,n.categorical),this.settings.style),0===this.attributes.length?(this.props.setAddons=d,this.props.combinationAddons=d):(this.props.setAddons=this.attributes.map((function(e,t){return h(e,t,!1)})),this.props.combinationAddons=this.attributes.map((function(e,t){return h(e,t,!0)}))),!r&&this.host.hostCapabilities.allowInteractions&&(this.props.onClick=this.setSelection,this.props.onContextMenu=this.onContextMenu,this.props.onHover=this.onHover,this.props.onMouseMove=this.onMouseMove,this.props.tooltips=!1),this.render(),!0}},{key:"generateSetsAndCombinations",value:function(e){var t=this.rows,n=this.settings;if(0===t.length)return{sets:[],combinations:[]};var r=(0,o.xr)(this.colorPalette,n.theme.supportIndividualColors()?c.zj.SET_COLORS_OBJECT_NAME:void 0);return(0,o.yG)(t,e.categorical,this.settings.sets,r,this.deriveOptions())}},{key:"deriveOptions",value:function(){var e=this.settings.combinations.generate();return e.elems=this.rows,this.settings.theme.deriveCombinationColor||(e.mergeColors=function(){}),e}},{key:"generateAttributes",value:function(e){var t=this,n=e.categorical.categories[0],r=0;return e.categorical.values?e.categorical.values.filter((function(e){var t,n;return null===(n=null===(t=e.source)||void 0===t?void 0:t.roles)||void 0===n?void 0:n.attributes})).map((function(e){if((0,i.kE)(e))return new i.LM(e);var o=new i.o8(e,n,t.host,r);return r+=o.categories.length,o})):[]}},{key:"verifyLicense",value:function(e,t){var n=this;this.settings.license.updateLicenseState(this.target,this.host,(function(){return function(e,t,n){return e>4||t>0||"light"!==n.theme.theme||"cardinality,name"!==n.combinations.order||"linear"!==n.style.numericScale}(e,t,n.settings)}))}},{key:"enumerateObjectInstances",value:function(e){if(e.objectName===c.zj.SET_COLORS_OBJECT_NAME)return this.settings.theme.enumerateSetColors(this.props.sets);if(e.objectName===i.o8.OBJECT_NAME){var t,n=this.attributes.filter((function(e){return e instanceof i.o8}));return{instances:(t=[]).concat.apply(t,(r=n.map((function(e){return e.asPropertyInstance()})),function(e){if(Array.isArray(e))return u(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||s(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}}var r;return c.ZP.enumerateObjectInstances(this.settings,e)}}])&&f(t.prototype,n),e}();function h(e,t,n){return e instanceof i.LM?(0,r.js)((function(e){return e.attrs[t]}),{min:e.data.minLocal,max:e.data.maxLocal},{name:e.displayName,orient:n?"vertical":"horizontal"}):(0,r.NZ)((function(e){return String(e.attrs[t])}),{categories:e.categories},{name:e.displayName,orient:n?"vertical":"horizontal"})}},133:(e,t,n)=>{n.d(t,{Yb:()=>Et,js:()=>Gr,NZ:()=>Qr,M0:()=>kt,K1:()=>Yr,Qv:()=>xt,sm:()=>nt,sY:()=>Xr,O2:()=>eo});var r,o,a,i,c,l,s,u=n(738),f={},d=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(e,t){for(var n in t)e[n]=t[n];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var o,a,i,c={};for(i in t)"key"==i?o=t[i]:"ref"==i?a=t[i]:c[i]=t[i];if(arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===c[i]&&(c[i]=e.defaultProps[i]);return v(e,c,o,a,null)}function v(e,t,n,r,i){var c={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++a:i};return null==i&&null!=o.vnode&&o.vnode(c),c}function g(e){return e.children}function b(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?_(e):null}function x(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return x(e)}}function S(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!w.__r++||l!==o.debounceRendering)&&((l=o.debounceRendering)||c)(w)}function w(){for(var e;w.__r=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,r,o,a,i;e.__d&&(a=(o=(t=e).__v).__e,(i=t.__P)&&(n=[],(r=h({},o)).__v=o.__v+1,j(i,o,r,t.__n,void 0!==i.ownerSVGElement,null!=o.__h?[a]:null,n,null==a?_(o):a,o.__h),I(n,o),o.__e!=a&&x(o)))}))}function C(e,t,n,r,o,a,i,c,l,s){var u,m,h,p,y,b,x,S=r&&r.__k||d,w=S.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(p=n.__k[u]=null==(p=t[u])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?v(null,p,null,null,p):Array.isArray(p)?v(g,{children:p},null,null,null):p.__b>0?v(p.type,p.props,p.key,null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(h=S[u])||h&&p.key==h.key&&p.type===h.type)S[u]=void 0;else for(m=0;m<w;m++){if((h=S[m])&&p.key==h.key&&p.type===h.type){S[m]=void 0;break}h=null}j(e,p,h=h||f,o,a,i,c,l,s),y=p.__e,(m=p.ref)&&h.ref!=m&&(x||(x=[]),h.ref&&x.push(h.ref,null,p),x.push(m,p.__c||y,p)),null!=y?(null==b&&(b=y),"function"==typeof p.type&&p.__k===h.__k?p.__d=l=E(p,l,e):l=A(e,p,h,S,y,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=_(h))}for(n.__e=b,u=w;u--;)null!=S[u]&&("function"==typeof n.type&&null!=S[u].__e&&S[u].__e==n.__d&&(n.__d=_(r,u+1)),q(S[u],S[u]));if(x)for(u=0;u<x.length;u++)T(x[u],x[++u],x[++u])}function E(e,t,n){for(var r,o=e.__k,a=0;o&&a<o.length;a++)(r=o[a])&&(r.__=e,t="function"==typeof r.type?E(r,t,n):A(n,r,r,o,r.__e,t));return t}function k(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){k(e,t)})):t.push(e)),t}function A(e,t,n,r,o,a){var i,c,l;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==n||o!=a||null==o.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(o),i=null;else{for(c=a,l=0;(c=c.nextSibling)&&l<r.length;l+=2)if(c==o)break e;e.insertBefore(o,a),i=a}return void 0!==i?i:o.nextSibling}function N(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||m.test(t)?n:n+"px"}function O(e,t,n,r,o){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||N(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||N(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?L:M,a):e.removeEventListener(t,a?L:M,a);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function M(e){this.l[e.type+!1](o.event?o.event(e):e)}function L(e){this.l[e.type+!0](o.event?o.event(e):e)}function j(e,t,n,r,a,i,c,l,s){var u,f,d,m,p,y,v,_,x,S,w,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,l=t.__e=n.__e,t.__h=null,i=[l]),(u=o.__b)&&u(t);try{e:if("function"==typeof E){if(_=t.props,x=(u=E.contextType)&&r[u.__c],S=u?x?x.props.value:u.__:r,n.__c?v=(f=t.__c=n.__c).__=f.__E:("prototype"in E&&E.prototype.render?t.__c=f=new E(_,S):(t.__c=f=new b(_,S),f.constructor=E,f.render=z),x&&x.sub(f),f.props=_,f.state||(f.state={}),f.context=S,f.__n=r,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=E.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=h({},f.__s)),h(f.__s,E.getDerivedStateFromProps(_,f.__s))),m=f.props,p=f.state,d)null==E.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==E.getDerivedStateFromProps&&_!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,S),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,S)||t.__v===n.__v){f.props=_,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&c.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,S),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(m,p,y)}))}f.context=S,f.props=_,f.state=f.__s,(u=o.__r)&&u(t),f.__d=!1,f.__v=t,f.__P=e,u=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=h(h({},r),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(m,p)),w=null!=u&&u.type===g&&null==u.key?u.props.children:u,C(e,Array.isArray(w)?w:[w],t,n,r,a,i,c,l,s),f.base=t.__e,t.__h=null,f.__h.length&&c.push(f),v&&(f.__E=f.__=null),f.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=P(n.__e,t,n,r,a,i,c,s);(u=o.diffed)&&u(t)}catch(e){t.__v=null,(s||null!=i)&&(t.__e=l,t.__h=!!s,i[i.indexOf(l)]=null),o.__e(e,t,n)}}function I(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function P(e,t,n,o,a,i,c,l){var s,u,d,m=n.props,h=t.props,y=t.type,v=0;if("svg"===y&&(a=!0),null!=i)for(;v<i.length;v++)if((s=i[v])&&"setAttribute"in s==!!y&&(y?s.localName===y:3===s.nodeType)){e=s,i[v]=null;break}if(null==e){if(null===y)return document.createTextNode(h);e=a?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,h.is&&h),i=null,l=!1}if(null===y)m===h||l&&e.data===h||(e.data=h);else{if(i=i&&r.call(e.childNodes),u=(m=n.props||f).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!l){if(null!=i)for(m={},v=0;v<e.attributes.length;v++)m[e.attributes[v].name]=e.attributes[v].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,r,o){var a;for(a in n)"children"===a||"key"===a||a in t||O(e,a,null,n[a],r);for(a in t)o&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||O(e,a,t[a],n[a],r)}(e,h,m,a,l),d)t.__k=[];else if(v=t.props.children,C(e,Array.isArray(v)?v:[v],t,n,o,a&&"foreignObject"!==y,i,c,i?i[0]:n.__k&&_(n,0),l),null!=i)for(v=i.length;v--;)null!=i[v]&&p(i[v]);l||("value"in h&&void 0!==(v=h.value)&&(v!==m.value||v!==e.value||"progress"===y&&!v)&&O(e,"value",v,m.value,!1),"checked"in h&&void 0!==(v=h.checked)&&v!==e.checked&&O(e,"checked",v,m.checked,!1))}return e}function T(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function q(e,t,n){var r,a;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||T(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&q(r[a],t,"function"!=typeof e.type);n||null==e.__e||p(e.__e),e.__e=e.__d=void 0}function z(e,t,n){return this.constructor(e,n)}function B(e,t,n){var a,i,c;o.__&&o.__(e,t),i=(a="function"==typeof n)?null:n&&n.__k||t.__k,c=[],j(t,e=(!a&&n||t).__k=y(g,null,[e]),i||f,f,void 0!==t.ownerSVGElement,!a&&n?[n]:i?null:t.firstChild?r.call(t.childNodes):null,c,!a&&n?n:i?i.__e:t.firstChild,a),I(c,e)}function R(e,t){B(e,t,R)}function H(e,t,n){var o,a,i,c=h({},e.props);for(i in t)"key"==i?o=t[i]:"ref"==i?a=t[i]:c[i]=t[i];return arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),v(e.type,c,o||e.key,a||e.ref,null)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}r=d.slice,o={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},a=0,b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},n),this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),S(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},b.prototype.render=g,i=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,s=0;var $,Z,G,Q=0,Y=[],X=o.__b,ee=o.__r,te=o.diffed,ne=o.__c,re=o.unmount;function oe(e,t){o.__h&&o.__h(Z,e,Q||t),Q=0;var n=Z.__H||(Z.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ae(e){return Q=1,ie(ye,e)}function ie(e,t,n){var r=oe($++,2);return r.t=e,r.__c||(r.__=[n?n(t):ye(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=Z),r.__}function ce(e,t){var n=oe($++,4);!o.__s&&pe(n.__H,t)&&(n.__=e,n.__H=t,Z.__h.push(n))}function le(e){return Q=5,se((function(){return{current:e}}),[])}function se(e,t){var n=oe($++,7);return pe(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ue(e,t){return Q=8,se((function(){return e}),t)}function fe(){var e;for(Y.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=Y.pop();)if(e.__P)try{e.__H.__h.forEach(me),e.__H.__h.forEach(he),e.__H.__h=[]}catch(t){e.__H.__h=[],o.__e(t,e.__v)}}o.__b=function(e){Z=null,X&&X(e)},o.__r=function(e){ee&&ee(e),$=0;var t=(Z=e.__c).__H;t&&(t.__h.forEach(me),t.__h.forEach(he),t.__h=[])},o.diffed=function(e){te&&te(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Y.push(t)&&G===o.requestAnimationFrame||((G=o.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),de&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);de&&(t=requestAnimationFrame(n))})(fe)),Z=null},o.__c=function(e,t){t.some((function(e){try{e.__h.forEach(me),e.__h=e.__h.filter((function(e){return!e.__||he(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.__e(n,e.__v)}})),ne&&ne(e,t)},o.unmount=function(e){re&&re(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{me(e)}catch(e){t=e}})),t&&o.__e(t,n.__v))};var de="function"==typeof requestAnimationFrame;function me(e){var t=Z,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Z=t}function he(e){var t=Z;e.__c=e.__(),Z=t}function pe(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function ye(e,t){return"function"==typeof t?t(e):t}function ve(e,t){for(var n in t)e[n]=t[n];return e}function ge(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function be(e){this.props=e}(be.prototype=new b).isPureReactComponent=!0,be.prototype.shouldComponentUpdate=function(e,t){return ge(this.props,e)||ge(this.state,t)};var _e=o.__b;o.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),_e&&_e(e)};var xe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,Se=function(e,t){return null==e?null:k(k(e).map(t))},we={map:Se,forEach:Se,count:function(e){return e?k(e).length:0},only:function(e){var t=k(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:k},Ce=o.__e;o.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);Ce(e,t,n)};var Ee=o.unmount;function ke(){this.__u=0,this.t=null,this.__b=null}function Ae(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function Ne(){this.u=null,this.o=null}o.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Ee&&Ee(e)},(ke.prototype=new b).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=Ae(r.__v),a=!1,i=function(){a||(a=!0,n.__R=null,o?o(c):c())};n.__R=i;var c=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(i,i)},ke.prototype.componentWillUnmount=function(){this.t=[]},ke.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=ve({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&y(g,null,e.fallback);return o&&(o.__h=null),[y(g,null,t.__e?null:e.children),o]};var Oe=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Me(e){return this.getChildContext=function(){return e.context},e.children}function Le(e){var t=this,n=e.i;t.componentWillUnmount=function(){B(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),B(y(Me,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(Ne.prototype=new b).__e=function(e){var t=this,n=Ae(t.__v),r=t.o.get(e);return r[0]++,function(o){var a=function(){t.props.revealOrder?(r.push(o),Oe(t,e,r)):o()};n?n(a):a()}},Ne.prototype.render=function(e){this.u=null,this.o=new Map;var t=k(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Ne.prototype.componentDidUpdate=Ne.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Oe(e,n,t)}))};var je="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Ie=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Pe="undefined"!=typeof document,Te=function(e){return("undefined"!=typeof Symbol&&"symbol"==W(Symbol())?/fil|che|rad/i:/fil|che|ra/i).test(e)};b.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(b.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var qe=o.event;function ze(){}function Be(){return this.cancelBubble}function Re(){return this.defaultPrevented}o.event=function(e){return qe&&(e=qe(e)),e.persist=ze,e.isPropagationStopped=Be,e.isDefaultPrevented=Re,e.nativeEvent=e};var He,Fe={configurable:!0,get:function(){return this.class}},Ue=o.vnode;o.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var a in r={},n){var i=n[a];Pe&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in n&&null==i||("defaultValue"===a&&"value"in n&&null==n.value?a="value":"download"===a&&!0===i?i="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!Te(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(a)?a=a.toLowerCase():o&&Ie.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[a]=i)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=k(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=k(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(Fe.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Fe))}e.$$typeof=je,Ue&&Ue(e)};var We=o.__r;o.__r=function(e){We&&We(e),He=e.__c};var De={ReactCurrentDispatcher:{current:{readContext:function(e){return He.__n[e.__c].props.value}}}};function Ke(e){return!!e&&e.$$typeof===je}var Ve={useState:ae,useReducer:ie,useEffect:function(e,t){var n=oe($++,3);!o.__s&&pe(n.__H,t)&&(n.__=e,n.__H=t,Z.__H.__h.push(n))},useLayoutEffect:ce,useRef:le,useImperativeHandle:function(e,t,n){Q=6,ce((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:se,useCallback:ue,useContext:function(e){var t=Z.context[e.__c],n=oe($++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Z)),t.props.value):e.__},useDebugValue:function(e,t){o.useDebugValue&&o.useDebugValue(t?t(e):e)},version:"17.0.2",Children:we,render:function(e,t,n){return null==t.__k&&(t.textContent=""),B(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return R(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(B(null,e),!0)},createPortal:function(e,t){return y(Le,{__v:e,i:t})},createElement:y,createContext:function(e,t){var n={__c:t="__cC"+s++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(S)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(e){return y.bind(null,e)},cloneElement:function(e){return Ke(e)?H.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:g,isValidElement:Ke,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:b,PureComponent:be,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:ge(this.props,e)}function r(t){return this.shouldComponentUpdate=n,y(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:function(e){function t(t,n){var r=ve({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=W(n)||"current"in n)?n:null)}return t.$$typeof=xe,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:g,Suspense:ke,SuspenseList:Ne,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return y(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:De};function Je(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=n.size,o={setA:r,setB:r,union:r,intersection:r};return function(a){if(a===e)return o;var i=0;a.forEach((function(e){(t&&n.has(t(e))||!t&&n.has(e))&&i++}));var c=function(e){return e instanceof Set?e.size:e.length}(a);return{setA:r,setB:c,intersection:i,union:r+c-i}}}function $e(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=Array.isArray(e)?e:Array.from(e),o={setA:r,setB:r,union:r,intersection:r};return function(a){if(a===e)return o;var i=[],c=r.slice();return a.forEach((function(e){t&&n.has(t(e))||!t&&n.has(e)?i.push(e):c.push(e)})),{setA:r,setB:Array.isArray(a)?a:Array.from(a),intersection:i,union:c}}}function Ze(e){return Array.isArray(e.elems)}function Ge(e){return"function"==typeof e.overlap}function Qe(e){return null!=e.set}function Ye(e,t,n){if(Ge(e))return e.overlap;if(Qe(e)&&e.set.overlap)return e.set.overlap;var r=Je(Ze(e)?e.elems:e.set.elems,n);return function(n){return n.overlap&&Ze(e)&&Array.isArray(e.elems)?n.overlap(e.elems):n.overlap&&Qe(e)?n.overlap(e.set):r(n.elems)[t]}}function Xe(e,t,n){if(Ge(e))return function(){return null};if("intersection"===t){var r=function(e,t){var n=e instanceof Set?Array.from(e):e,r=t?new Set(n.map(t)):e instanceof Set?e:new Set(e);return function(o){if(o===e)return n;var a=[];return o.forEach((function(e){(t&&r.has(t(e))||!t&&r.has(e))&&a.push(e)})),a}}(Ze(e)?e.elems:e.set.elems,n);return function(e){return r(e.elems)}}var o=$e(Ze(e)?e.elems:e.set.elems,n);return function(e){return o(e.elems)[t]}}function et(e){return null!=e&&"number"==typeof e.cardinality&&"string"==typeof e.name&&Array.isArray(e.elems)}function tt(e){return et(e)&&"set"===e.type}function nt(e){var t=e;return et(e)&&["composite","union","intersection","distinctIntersection"].includes(t.type)&&t.sets instanceof Set&&"number"==typeof t.degree}function rt(e){return tt(e)||nt(e)}function ot(e){var t=e;return null!=e&&"string"==typeof t.name&&"string"==typeof t.color&&(Ze(t)||Qe(t)||Ge(t))}function at(e,t){return e.name.localeCompare(t.name)}function it(e,t){return t.cardinality-e.cardinality}function ct(e,t){return e.degree-t.degree}function lt(e){return function(t,n){return e.reduce((function(e,r){return 0===e?r(t,n):e}),0)}}function st(e){return function(t,n){return-e(t,n)}}function ut(e){return function(t,n){var r=function(e){return e<0?Number.POSITIVE_INFINITY:e},o=r(e.findIndex((function(e){return t.sets.has(e)}))),a=r(e.findIndex((function(e){return n.sets.has(e)})));return o-a}}function ft(e,t){if(!t)return at;var n=Array.isArray(t)?t:[t];return 0===n.length?at:lt(n.map((function(t){switch(t){case"cardinality":case"cardinality:desc":return it;case"cardinality:asc":return st(it);case"name:desc":return st(at);case"degree":case"degree:asc":return ct;case"degree:desc":return st(ct);case"group":case"group:asc":return ut(e);case"group:desc":return st(ut(e));default:return at}})))}function dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;return n.order&&(r=r.sort(ft(e,n.order))),null!=n.limit?r.slice(0,n.limit):r}var mt={distinctIntersection:"  ",intersection:"  ",union:"  ",composite:","};function ht(e){if(!e)return[255,255,255];var t=e.match(/#([\da-f]{2})([\da-f]{2})([\da-f]{2})/i);if(t)return[Number.parseInt(t[1],16),Number.parseInt(t[2],16),Number.parseInt(t[3],16)];var n=e.match(/\(([\d]+)[, ]([\d]+)[, ]([\d]+)\)/i);return n?[Number.parseInt(n[1],10),Number.parseInt(n[2],10),Number.parseInt(n[3],10)]:[255,255,255]}function pt(e){if(1===e.length)return e[0];if(!e.every((function(e){return null==e}))){var t=e.map(ht),n=Math.floor(t.reduce((function(e,t){return e+t[0]}),0)/t.length),r=Math.floor(t.reduce((function(e,t){return e+t[1]}),0)/t.length),o=Math.floor(t.reduce((function(e,t){return e+t[2]}),0)/t.length);return"#".concat(n.toString(16)).concat(r.toString(16)).concat(o.toString(16))}}function yt(e,t,n){var r=Array.from(e).sort((function(e,n){return t.get(e)-t.get(n)}));return 1===r.length?r[0].name:"(".concat(r.map((function(e){return e.name})).join(n),")")}function vt(e,t,n,r,o){return{type:0===n.size?"composite":e,elems:r,color:o(Array.from(n).map((function(e){return e.color}))),sets:n,name:t,cardinality:r.length,degree:n.size}}function gt(e,t,n,r,o,a,i){var c=new Set(e.sets);t.sets.forEach((function(e){return c.add(e)}));var l=yt(c,o,mt[a]);if(0===e.cardinality||0===t.cardinality)return vt(a,l,c,[],i);var s=e,u=t;e.cardinality>t.cardinality&&(s=t,u=e);for(var f=new Set,d=n.get(u),m=[],h=s.elems.length,p=0;p<h;p++){var y=s.elems[p],v=r(y);d.has(v)&&(f.add(v),m.push(y))}var g=vt(a,l,c,m,i);return n.set(g,f),g}function bt(e,t,n,r,o,a,i){var c=new Set(e.sets);t.sets.forEach((function(e){return c.add(e)}));var l=yt(c,o,mt[a]);if(0===e.cardinality){var s=vt(a,l,c,t.elems,i);return n.set(s,n.get(t)),s}if(0===t.cardinality){var u=vt(a,l,c,e.elems,i);return n.set(u,n.get(e)),u}var f=e,d=t;e.cardinality>t.cardinality&&(f=t,d=e);var m=new Set(n.get(d)),h=n.get(d),p=d.elems.slice();f.elems.forEach((function(e){var t=r(e);h.has(t)||(m.add(t),p.push(e))}));var y=vt(a,l,c,p,i);return n.set(y,m),y}function _t(e,t,n,r,o,a){if("number"==typeof t)return{type:"composite",elems:[],color:a?a([]):void 0,sets:new Set,name:"()",cardinality:t,overlap:function(e){return e===this||rt(e)&&e.name===this.name&&e.cardinality===this.cardinality?this.cardinality:0},degree:0};if(Array.isArray(t))return vt(e,"()",new Set,t,a);var i=Array.from(r.values()),c=n.filter((function(e){var t=o(e);return i.every((function(e){return!e.has(t)}))}));return vt(e,"()",new Set,c,a)}function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=void 0===n?"intersection":n,o=t.min,a=void 0===o?0:o,i=t.max,c=void 0===i?Number.POSITIVE_INFINITY:i,l=t.empty,s=void 0!==l&&l,u=t.elems,f=void 0===u?[]:u,d=t.notPartOfAnySet,m=t.toElemKey,h=t.mergeColors,p=void 0===h?pt:h,y=[],v=new Map(e.map((function(e,t){return[e,t]}))),g=new Map(e.map((function(e){return[e,m?new Set(e.elems.map(m)):new Set(e.elems)]}))),b=m?null:g,_=m?g:null,x="union"===r?bt:gt;function S(t){if(!(t.degree<a||t.degree>c||0===t.cardinality&&!s))if("distinctIntersection"===r){var n=e.filter((function(e){return!t.sets.has(e)})),o=[];if(m){var i=n.map((function(e){return _.get(e)}));o=t.elems.filter((function(e){var t=m(e);return i.every((function(e){return!e.has(t)}))}))}else{var l=n.map((function(e){return b.get(e)}));o=t.elems.filter((function(e){return l.every((function(t){return!t.has(e)}))}))}if(o.length!==t.cardinality){var u=vt(r,t.name,t.sets,o,p);(0!==u.cardinality||s)&&y.push(u)}else y.push(t)}else y.push(t)}function w(e,t,n,o){if(!(t>c))for(var a=e.length,i=0;i<a;i++){for(var l=e[i],u=[],f=i+1;f<a;f++){var d=e[f],m=x(l,d,n,o,v,r,p);S(m),("union"===r||m.cardinality>0||s)&&u.push(m)}u.length>1&&w(u,t+1,n,o)}}a<=0&&S(m?_t(r,d,f,_,m,p):_t(r,d,f,b,(function(e){return e}),p));var C=e.map((function(e){var t=vt(r,e.name,new Set([e]),e.elems,p);return g.set(t,g.get(e)),S(t),t}));return m?w(C,2,_,m):w(C,2,b,(function(e){return e})),dt(e,y,t)}function St(e){return Object.assign({type:"set",cardinality:e.elems.length},e)}function wt(e){if(!e)return at;switch(e){case"cardinality":case"cardinality:desc":return lt([it,at]);case"cardinality:asc":return lt([st(it),at]);case"name:desc":return st(at);default:return at}}function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(t.order){var r=wt(t.order);n=n.slice().sort(r)}return null!=t.limit?n.slice(0,t.limit):n}function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ct(e.map(St),t)}function kt(e,t){var n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="function"==typeof t?t:function(e){return e.sets},c=null!==(n="function"!=typeof t?t:a)&&void 0!==n?n:{},l=null!==(r=c.type)&&void 0!==r?r:"intersection",s=null!==(o=c.joiner)&&void 0!==o?o:mt[l],u=[],f=new Map,d=e.map((function(e){var t=i(e),n=t.map((function(e){if(f.has(e))return f.get(e);var t={cardinality:0,elems:[],name:e,type:"set"};return u.push(t),f.set(t.name,t),t}));if("distinctIntersection"===l){var r,o=J(n);try{for(o.s();!(r=o.n()).done;)r.value.cardinality+=e.cardinality}catch(e){o.e(e)}finally{o.f()}}else if(1===t.length)Object.assign(n[0],{cardinality:e.cardinality},e);else if("intersection"===l){var a,c=J(n);try{for(c.s();!(a=c.n()).done;){var d=a.value;d.cardinality=Math.max(d.cardinality,e.cardinality)}}catch(e){c.e(e)}finally{c.f()}}else if("union"===l){var m,h=J(n);try{for(h.s();!(m=h.n()).done;){var p=m.value;p.cardinality=Math.min(p.cardinality,e.cardinality)}}catch(e){h.e(e)}finally{h.f()}}var y=t.join(s);return Object.assign({type:l,elems:[],name:y},e,{cardinality:e.cardinality,degree:t.length,sets:new Set(n)})})),m=Ct(u,{order:c.setOrder}),h=dt(m,d,{order:c.combinationOrder});return{sets:m,combinations:h}}function At(e){return"".concat(e.name,":").concat(e.type,"#").concat(e.cardinality)}function Nt(e){return 0===e.sets.size}function Ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At,r={done:null,aKey:"",bKey:"",aIsSet:!1,bIsSet:!1,toKey:n};return e===t?(r.done=e.cardinality,r):0===e.cardinality||0===t.cardinality?(r.done=0,r):(r.aKey=n(e),r.bKey=n(t),r.aKey===r.bKey?(r.done=e.cardinality,r):(r.aIsSet=tt(e),r.bIsSet=tt(t),!r.aIsSet&&Nt(e)||!r.bIsSet&&Nt(t)?(r.done=0,r):r))}function Mt(e,t){return!(t.bIsSet||!t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.aKey)}function Lt(e,t){return!(!t.bIsSet||t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.bKey)}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At;return e.map((function(e){var n=Array.from(e.sets).map(t).sort();return{key:n.join("&"),s:n,sets:new Set(n),degree:e.degree,cardinality:e.cardinality}}))}function It(e,t,n){var r=new Set;if(n.aIsSet)r.add(n.aKey);else for(var o=0,a=Array.from(e.sets);o<a.length;o++){var i=a[o];r.add(n.toKey(i))}if(n.bIsSet)r.add(n.bKey);else for(var c=0,l=Array.from(t.sets);c<l.length;c++){var s=l[c];r.add(n.toKey(s))}return Array.from(r).sort().join("&")}function Pt(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At,o=new Map,a=J(jt(e,r));try{for(a.s();!(n=a.n()).done;){var i,c=n.value,l=J(c.s);try{for(l.s();!(i=l.n()).done;){var s=i.value;o.has(s)?o.get(s).push(c):o.set(s,[c])}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}return function(e,n){var a=Ot(e,n,r);if(null!=a.done)return a.done;if(!a.aIsSet&&!a.bIsSet)return 0;if(a.aIsSet&&!a.bIsSet)return Mt(n,a)?n.cardinality:0;if(!a.aIsSet&&a.bIsSet)return Lt(e,a)?e.cardinality:0;var i=o.get(a.aKey),c=o.get(a.bKey);return i&&c?i.length<c.length?i.reduce((function(e,t){return e+(t.sets.has(a.bKey)?t.cardinality:0)}),0):c.reduce((function(e,t){return e+(t.sets.has(a.aKey)?t.cardinality:0)}),0):t(e,n)}}function Tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At,r=new Map(jt(e,n).map((function(e){return[e.key,e.cardinality]})));return function(e,o){var a=Ot(e,o,n);if(null!=a.done)return a.done;if(a.aIsSet&&!a.bIsSet&&Mt(o,a))return o.cardinality;if(!a.aIsSet&&a.bIsSet&&Lt(e,a))return e.cardinality;var i=It(e,o,a);return r.has(i)?r.get(i):t(e,o)}}function qt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At,r=new Map(jt(e,n).map((function(e){return[e.key,e.cardinality]})));return function(e,o){var a=Ot(e,o,n);if(null!=a.done)return a.done;if(a.aIsSet&&!a.bIsSet&&Mt(o,a))return e.cardinality;if(!a.aIsSet&&a.bIsSet&&Lt(e,a))return o.cardinality;var i=It(e,o,a);return r.has(i)?e.cardinality+o.cardinality-r.get(i):t(e,o)}}function zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At;if(0===e.length)return t;var r=e[0].type;if(e.some((function(e){return e.type!==r})))return t;switch(r){case"union":return qt(e,t,n);case"intersection":return Tt(e,t,n);case"distinctIntersection":return Pt(e,t,n)}return t}function Bt(e){if(0===e.length)return"";var t=e.length,n=e.flat();return"".concat(t,";").concat(function(e){if(0===e.length)return"";for(var t=[],n=e[0],r=1,o=1;o<e.length;o++){var a=e[o];a===n?r++:(r>1?t.push("".concat(n,"=").concat(r-1)):0===n?t.push(""):t.push(n.toString()),n=a,r=1)}return r>1?t.push("".concat(n,"=").concat(r)):0===n?t.push(""):t.push(n.toString()),t.join(",")}(n))}function Rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.toElemKey,o=n.what,a=void 0===o?"intersection":o,i=n.compress,c=void 0===i?"auto":i,l=e.concat(t);function s(e){if(e.overlap)return e.overlap;var t=Je(e.elems,r);return function(n){return n.overlap?n.overlap(e):t(n.elems)[a]}}var u=l.map((function(e,t){for(var n=s(e),r=[],o=t+1;o<l.length;o++)r.push(n(l[o]));return r}));if(u.pop(),"no"===c)return u;var f=Bt(u);if("yes"===c)return f;var d=JSON.stringify(u).length,m=f.length+2;return m<.6*d?f:u}var Ht=function(e,t,n){var r=e.length+n,o=t/Math.max(1,r),a=t-o*e.length,i=new Map(e.map((function(e,t){return[e,t]}))),c=o/(1+n),l=function(e){var t=i.get(e);if(null!=t)return a+o*t};return l.bandwidth=function(){return c},l};function Ft(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=0;r<e.length-n;r+=n){var o=e[r],a=e[r+1];if(o<a){var i=o+t[r]/2,c=a-t[r+1]/2;if(i>c)return!0}else{var l=o-t[r]/2,s=a+t[r+1]/2;if(s>l)return!0}}return!1}function Ut(e,t,n,r,o){var a=e[e.length-1];if(!a.label)for(var i=e.length-2;i>0;--i)if(e[i].label){a=e[i];break}if(a.value<t){var c=n(a.value),l=n(t);if(c<l)c+r(a.value)/2<l-r(t)/2&&e.push({value:t,label:o(t)});else{var s=c-r(a.value)/2;l+r(t)/2<s&&e.push({value:t,label:o(t)})}}return e}function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.map((function(e,r){return{value:e,label:1===n||r%n==0?t(e):void 0}}))}function Dt(e,t,n,r,o){var a=e.map((function(e){return t(e)})),i=e.map((function(e){return n(e)}));return Ft(a,i)&&Ft(a,i,2)?null:Ut(Wt(e,o),r,t,n,o)}function Kt(e){return e.toLocaleString()}function Vt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=0;r<=e;r+=t)n.push(r);return n}function Jt(e,t,n,r){if(t<=0)return[];for(var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=Math.max(0,Math.floor(Math.log10(e)-.5)),r=Math.pow(10,n),o=[1,2,5],a=o.map((function(e){return e*r}));n>0&&a.unshift(o[o.length-1]*Math.pow(10,n-1)),a.push(o[0]*Math.pow(10,n+1));var i=Math.ceil(e/t);return a.filter((function(t){return t>=i&&t<=e}))}(e,t),a=0;a<o.length;a++){var i=Dt(Vt(e,o[a]),n,r,e,Kt);if(i)return i}return Wt([0,e],Kt)}var $t=function(e,t,n){var r=t[1]-t[0],o=e,a=function(e){var n=Math.max(0,Math.min(e,o))/o;return t[0]+n*r};return a.ticks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if("vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return Jt(e,t+1,a,(function(){return r}))}var o=n.fontSizeHint/1.4;return Jt(e,t+1,a,(function(e){return Math.ceil(Kt(e).length*o)}))},a.tickFormat=function(){return Kt},a};function Zt(e){var t=["","k","M","G"],n=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),t.length-1)),r=Math.round(e/Math.pow(10,3*n-1))/10;return"".concat(r.toLocaleString()).concat(t[n])}function Gt(e,t){for(var n=[],r=Math.pow(10,t),o=1;o<=e;o*=r)n.push(o);return n}function Qt(e,t){for(var n=[],r=1,o=0;r<=e;r*=10,o++){n.push({value:r,label:1===t||o%t==0?Zt(r):void 0});for(var a=r+r;a<10*r&&a<e;a+=r*t)n.push({value:a})}return n}function Yt(e,t,n,r){if(t<=0)return[];for(var o=0,a=[1,2,5];o<a.length;o++){var i=a[o];if(Dt(Gt(e,i),n,r,e,Zt))return Ut(Qt(e,i),e,n,r,Zt)}return Wt([0,e],Zt)}var Xt=function(e,t,n){var r=t[1]-t[0],o=e<1?1:Math.log10(e),a=function(e){var n=Math.max(0,Math.min(e,o)),a=n<=1?0:Math.log10(n)/o;return t[0]+a*r};return a.ticks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if("vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return Yt(e,t+1,a,(function(){return r}))}var o=n.fontSizeHint/1.4;return Yt(e,t+1,a,(function(e){return Math.ceil(Zt(e).length*o)}))},a.tickFormat=function(){return Zt},a};function en(e){if(0===e.length)return"";for(var t=[],n=0,r=function(r){return r===n+1?t.push(e[n].toString()):r===n+2&&r<10?t.push("".concat(e[n],",").concat(e[n+1])):t.push("".concat(e[n],"+").concat(r-n-1)),r},o=1;o<e.length;o++){var a=e[o-1]+1;e[o]!==a&&(n=r(o),n=o)}return r(e.length),t.join(",")}function tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sortAble,o=n.compress,a=void 0===o?"auto":o;if(0===e.length)return[];var i=e.map((function(e){return t(e)}));if("no"===a)return i;r&&i.sort((function(e,t){return e-t}));var c=en(i),l=JSON.stringify(i).length,s=c.length+2;return s<.6*l||l-s>50||"yes"===a&&s<l?c:i}function nn(e,t){return t.color&&(e.color=t.color),e}function rn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({sortAble:!0},n),o=null!==(t=n.toKey)&&void 0!==t?t:At,a=new Map(e.sets.map((function(e,t){return[o(e),t]}))),i=new Map(e.combinations.map((function(e,t){return[o(e),t]}))),c=function(t){if("set"===t.type)return{type:t.type,index:a.get(o(t))};var n=i.get(o(t));return null==n||n<0?tn(t.elems,e.toElemIndex,r):{type:t.type,index:n}},l=e.sets.map((function(e,t){return{key:o(e),i:t}}));return{sets:e.sets.map((function(t){return nn({name:t.name,cardinality:t.cardinality,elems:tn(t.elems,e.toElemIndex,r)},t)})),combinations:"no"===n.compress?e.combinations.map((function(t){var n=new Set(Array.from(t.sets).map(o));return nn({name:t.name,type:t.type,cardinality:t.cardinality,degree:t.degree,sets:l.filter((function(e){var t=e.key;return n.has(t)})).map((function(e){return e.i})),elems:tn(t.elems,e.toElemIndex,r)},t)})):void 0,combinationOptions:e.combinationOptions,selection:e.selection?Array.isArray(e.selection)?tn(e.selection,e.toElemIndex,r):c(e.selection):void 0,queries:e.queries.map((function(t){var n=Qe(t)?c(t.set):tn(Array.from(t.elems),e.toElemIndex,r);return{name:t.name,color:t.color,set:"string"==typeof n||Array.isArray(n)?void 0:n,elems:"string"==typeof n||Array.isArray(n)?n:void 0}}))}}function on(e,t){return 1===e.length?e[0].name:"(".concat(e.map((function(e){return e.name})).join(mt[t]),")")}function an(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!==(t=n.toKey)&&void 0!==t?t:At,o=new Map(e.sets.map((function(e,t){return[r(e),t]}))),a=new Map(e.combinations.map((function(e,t){return[r(e),t]}))),i=function(t){if(rt(t)){if("set"===t.type)return{type:t.type,index:o.get(r(t))};var n=a.get(r(t));if(null!=n&&n>=0)return{type:t.type,index:n}}var i=Je(rt(t)?t.elems:t);return e.sets.map((function(e){return i(e.elems).intersection})).concat(e.combinations.map((function(e){return i(e.elems).intersection})))},c=new Map(e.sets.map((function(e,t){return[r(e),t]}))),l=Rt(e.sets,e.combinations,n),s="yes"===n.compress,u=function(t){var n=Array.from(t.sets).map((function(e){return c.get(r(e))})).sort((function(e,t){return e-t})),o={c:t.cardinality,s:n.reduce((function(e,t){return e+Math.pow(2,t)}),0)};return t.name!==on(n.map((function(t){return e.sets[t]})),t.type)&&(o.n=t.name),"intersection"!==t.type&&(o.type=t.type[0]),t.color&&(o.cc=t.color),o};return{sets:s?e.sets.map((function(e){return{n:e.name,cc:e.color,c:e.cardinality}})):e.sets.map((function(e){return nn({name:e.name,cardinality:e.cardinality},e)})),combinations:s?e.combinations.map(u):e.combinations.map((function(e){return nn({name:e.name,cardinality:e.cardinality,type:e.type,sets:Array.from(e.sets).map((function(e){return c.get(r(e))})).sort((function(e,t){return e-t}))},e)})),overlaps:l,selection:e.selection?i(e.selection):void 0,queries:e.queries.map((function(t){if(Qe(t)){var n=i(t.set);return Array.isArray(n)?{name:t.name,color:t.color,overlaps:n}:{name:t.name,color:t.color,set:n}}var r=Je(t.elems),o=e.sets.map((function(e){return r(e.elems).intersection})).concat(e.combinations.map((function(e){return r(e.elems).intersection})));return{name:t.name,color:t.color,overlaps:o}}))}}var cn={exports:{}};!function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var i=[];return n.forEach((function(t){i.push(e(t))})),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,a,i={},c={},l="",s="",u="",f=2,d=3,m=2,h=[],p=0,y=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(i,l)||(i[l]=d++,c[l]=!0),s=u+l,Object.prototype.hasOwnProperty.call(i,s))u=s;else{if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(r=0;r<m;r++)p<<=1,y==t-1?(y=0,h.push(n(p)),p=0):y++;for(o=u.charCodeAt(0),r=0;r<8;r++)p=p<<1|1&o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o>>=1}else{for(o=1,r=0;r<m;r++)p=p<<1|o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)p=p<<1|1&o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete c[u]}else for(o=i[u],r=0;r<m;r++)p=p<<1|1&o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o>>=1;0==--f&&(f=Math.pow(2,m),m++),i[s]=d++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(r=0;r<m;r++)p<<=1,y==t-1?(y=0,h.push(n(p)),p=0):y++;for(o=u.charCodeAt(0),r=0;r<8;r++)p=p<<1|1&o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o>>=1}else{for(o=1,r=0;r<m;r++)p=p<<1|o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)p=p<<1|1&o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete c[u]}else for(o=i[u],r=0;r<m;r++)p=p<<1|1&o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o>>=1;0==--f&&(f=Math.pow(2,m),m++)}for(o=2,r=0;r<m;r++)p=p<<1|1&o,y==t-1?(y=0,h.push(n(p)),p=0):y++,o>>=1;for(;;){if(p<<=1,y==t-1){h.push(n(p));break}y++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,a,i,c,l,s,u,f=[],d=4,m=4,h=3,p="",y=[],v={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(i=0,l=Math.pow(2,2),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;switch(i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;u=e(i);break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;u=e(i);break;case 2:return""}for(f[3]=u,a=u,y.push(u);;){if(v.index>t)return"";for(i=0,l=Math.pow(2,h),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;switch(u=i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;f[m++]=e(i),u=m-1,d--;break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;f[m++]=e(i),u=m-1,d--;break;case 2:return y.join("")}if(0==d&&(d=Math.pow(2,h),h++),f[u])p=f[u];else{if(u!==m)return null;p=a+a.charAt(0)}y.push(p),f[m++]=a+p.charAt(0),a=p,0==--d&&(d=Math.pow(2,h),h++)}}};return a}();null!=e&&(e.exports=t)}(cn);var ln=cn.exports;function sn(e){return Array.from(e.classList).find((function(e){return e.startsWith("root-")})).slice("root-".length)}function un(e,t){var n,r;return null!==(r=null===(n=e.querySelector("titleTextStyle-".concat(t)))||void 0===n?void 0:n.textContent)&&void 0!==r?r:"UpSetJS"}function fn(e,t){var n,r;return null!==(r=null===(n=e.querySelector("descTextStyle-".concat(t)))||void 0===n?void 0:n.textContent)&&void 0!==r?r:""}var dn={},mn=[],hn={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px",description:"16px",title:"24px",valueLabel:"12px",exportLabel:"10px"},pn=[.18,.12,.7],yn=[.6,.4],vn={type:"intersection",order:["cardinality:desc","name:asc"]},gn=Object.keys(hn),bn=["axisTick","bar","barLabel","chartLabel","dot","legend","title","description","setLabel","set","valueLabel"],_n=["dump","png","share","svg","vega"],xn=[.7,.4],Sn=[.15,.3],wn={selectionColor:"#ffa500",color:"#000000",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!1},Cn={selectionColor:"#ffa500",color:"#cccccc",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"rgba(255, 255, 255, 0.2)",valueTextColor:"#ffffff",strokeColor:"#ffffff",backgroundColor:"#303030",filled:!1},En={selectionColor:"#4c78a8",color:"#4c78a8",hasSelectionColor:"#c9d6e5",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!0};function kn(e){return"vega"===e?En:"dark"===e?Cn:wn}function An(e){return function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=kn(t.theme);return Object.assign(e,{queryLegend:null!=t.queries&&t.queries.length>0,theme:"light",padding:20,selection:null,title:"",description:"",fontFamily:"sans-serif",queries:mn,exportButtons:!0,className:"",fontSizes:hn,classNames:dn,style:dn,styles:dn,toKey:At,tooltips:!0},r,t,n,t.fontSizes?{fontSizes:Object.assign({},hn,t.fontSizes)}:dn)}({barPadding:.3,dotPadding:.7,combinations:vn,combinationName:null==e.combinations||(t=e.combinations,Array.isArray(t))||"union"!==e.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:"auto",combinationNameAxisOffset:"auto",setName:"Set Size",widthRatios:pn,heightRatios:yn,setLabelAlignment:"center",numericScale:"linear",bandScale:"band",childrenFactories:dn,setAddons:mn,combinationAddons:mn,setAddonPadding:1,combinationAddonPadding:1,emptySelection:!0},e);var t}(e)}function Nn(e,t){var n=e.cloneNode(!0);return n.style.backgroundColor=kn(e.dataset.theme).backgroundColor,t&&Array.from(n.querySelectorAll(t)).forEach((function(e){return e.remove()})),(new XMLSerializer).serializeToString(n)}function On(e,t,n){var r=n.createElement("a");r.href=e,r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.download=t,n.body.appendChild(r),r.click(),r.remove()}function Mn(e,t){var n,r,o,a,i,c=null!==(o=e.getComputedStyle||(null===(r=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.getComputedStyle))&&void 0!==o?o:u.getComputedStyle,l=sn(e),s=null!=t?t:un(e,l),f=Array.from(e.querySelectorAll("[data-upset=sets] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.setTextStyle-".concat(l)).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10)}})).reverse(),d=-Number.parseFloat(e.querySelector(".sBarTextStyle-".concat(l)).getAttribute("dx")),m=c(e.querySelector(".fillPrimary-".concat(l))).fill,h=c(e.querySelector(".fillNotMember-".concat(l))).fill,p=c(e.querySelector("text")).fill,y=e.querySelector(".cChartTextStyle-".concat(l)).textContent,v=e.querySelector(".sChartTextStyle-".concat(l)).textContent,g=Array.from(e.querySelectorAll("[data-upset=cs] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.hoverBarTextStyle-".concat(l)).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10),sets:Array.from(e.querySelectorAll(".fillPrimary-".concat(l," > title"))).map((function(e){return e.textContent}))}})),b=function(e){return Number.parseFloat(e.getAttribute("transform").match(/([\d.]+),/)[1])},_=e.querySelector("[data-upset=base]"),x=b(_),S=b(e.querySelector("[data-upset=csaxis]")),w=Number.parseFloat(_.querySelector("g").firstElementChild.children[1].getAttribute("x2")),C=function(e){return Number.parseFloat(e.getAttribute("transform").match(/,([\d.]+)/)[1])}(e.querySelector("[data-upset=setaxis]")),E=Number.parseFloat(e.querySelector("defs rect").getAttribute("width")),k=Number.parseFloat(e.querySelector("defs rect").getAttribute("height")),A=Number.parseFloat(e.querySelector("[data-cardinality] circle.fillPrimary-".concat(l)).getAttribute("r")),N=null!=e.querySelector("[data-upset=sets-s] [data-cardinality]"),O=null!=e.querySelector("[data-upset=sets-q] [data-cardinality]"),M=N||O,L="orange";M&&(Array.from(e.querySelectorAll("[data-upset=sets-".concat(N?"s]":"q]:first-of-type"," [data-cardinality]"))).forEach((function(e){var t=f.length-Number.parseInt(e.dataset.i,10)-1;f[t].selection=Number.parseInt(e.dataset.cardinality,10)})),Array.from(e.querySelectorAll("[data-upset=cs-".concat(N?"s]":"q]:first-of-type"," [data-cardinality]"))).forEach((function(e){var t=Number.parseInt(e.dataset.i,10);g[t].selection=Number.parseInt(e.dataset.cardinality,10)})),L=c(e.querySelector("[data-upset=sets-".concat(N?"s":"q","] [data-cardinality]"))).fill);var j=Number.parseInt(null!==(i=null===(a=e.querySelector("[data-upset=cs-ss]"))||void 0===a?void 0:a.dataset.i)&&void 0!==i?i:"-1",10),I=j>=0?{field:"partOf",oneOf:[1,2]}:{field:"partOf",equal:1};return{$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:s,description:fn(e,l),datasets:{sets:f,combinations:g.map((function(e,t){return Object.assign({},e,{partOf:j===t?2:1,nsets:[""]})})).concat(g.map((function(e){return{name:e.name,cardinality:e.cardinality,partOf:0,sets:[""],nsets:f.filter((function(t){return!e.sets.includes(t.name)})).map((function(e){return e.name}))}})))},vconcat:[{hconcat:[{mark:"bar",width:S+E-40,height:C},{width:w,height:C,data:{name:"combinations"},transform:[{filter:I}],layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"center",baseline:"bottom",dy:-d},encoding:{text:{field:"cardinality",type:"quantitative"}}},M&&{mark:{type:"bar",fill:L,tooltip:!0},encoding:{y:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null},y:{field:"cardinality",type:"quantitative",axis:{grid:!1},title:y}}}]},{hconcat:[{width:S,height:k,data:{name:"sets"},layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"right",baseline:"middle",dx:-d},encoding:{text:{field:"cardinality",type:"quantitative"}}},M&&{mark:{type:"bar",fill:L,tooltip:!0},encoding:{x:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},x:{field:"cardinality",type:"quantitative",title:v,sort:"descending",axis:{grid:!1}}}},{data:{name:"sets"},width:E,height:k,mark:{type:"text",align:"center",baseline:"middle",fontSize:Number.parseInt(c(e.querySelector(".setTextStyle-".concat(l))).fontSize,10)},encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},text:{field:"name",type:"ordinal"}}},{width:w,height:k,data:{name:"combinations"},transform:[{flatten:["sets"],as:["has_set"]},{flatten:["nsets"],as:["has_not_set"]},{calculate:"datum.has_set+datum.has_not_set",as:"set"}],layer:[{mark:{type:"circle",size:A*A*Math.PI,tooltip:!0},encoding:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[h,m].concat(j>=0?[L]:[])}},y:{field:"set",type:"ordinal",axis:null,sort:null,scale:{domain:f.map((function(e){return e.name}))}}}},{mark:"rule",transform:[{filter:I},{calculate:"datum.sets[datum.sets.length -1]",as:"set_end"}],encoding:Object.assign({y:{field:"sets[0]",type:"ordinal",axis:null,sort:null},y2:{field:"set_end"}},j<0?{}:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[m,L]}}})}],encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null}}}]}],config:{padding:x,background:kn(e.dataset.theme).backgroundColor,concat:{spacing:0},view:{stroke:null},bar:{fill:m},circle:{opacity:1},rule:{stroke:m,strokeWidth:Number.parseInt(c(e.querySelector("[data-upset=cs] [data-cardinality] line")).strokeWidth,10)},axis:{labelColor:p,labelFontSize:Number.parseInt(c(e.querySelector(".axisTextStyle-".concat(l))).fontSize,10),titleColor:p,titleFontSize:Number.parseInt(c(e.querySelector(".cChartTextStyle-".concat(l))).fontSize,10)},title:{color:p},text:{fill:p,fontSize:Number.parseInt(c(e.querySelector(".sBarTextStyle-".concat(l))).fontSize,10)}}}}var Ln=["bandScale","numericScale"].concat(["selectionColor","color","textColor","hoverHintColor","notMemberColor","alternatingBackgroundColor","hasSelectionColor","hasSelectionOpacity","opacity","strokeColor","valueTextColor"],["padding","barPadding","dotPadding","widthRatios","heightRatios"],["fontSizes","combinationName","setName","barLabelOffset","setNameAxisOffset","combinationNameAxisOffset","theme","fontFamily","emptySelection","exportButtons","queryLegend"]);function jn(e){var t,n=An({width:0,height:0,sets:null!==(t=e.sets)&&void 0!==t?t:[],combinations:e.combinations,theme:e.theme}),r={};return Ln.forEach((function(t){var o=e[t],a=n[t];if("theme"!==t||"light"===o){if(null!=o&&o!==a)if("fontSizes"===t){var i=!0,c={};gn.forEach((function(e){var t=o[e];t!==a[e]&&(c[e]=t,i=!1)})),i||(r[t]=c)}else r[t]=o}else r[t]=o})),r}function In(e,t,n,r,o){return Object.assign({$schema:"https://upset.js.org/schema.1.0.0.json",name:"string"==typeof n.title?n.title:"UpSetJS",description:"string"==typeof n.description?n.description:"",mode:o,author:r,elements:t,attrs:[],props:jn(n)},e)}function Pn(e,t,n,r){return Object.assign({$schema:"https://upset.js.org/schema-static.1.0.0.json",name:"string"==typeof t.title?t.title:"UpSetJS",description:"string"==typeof t.description?t.description:"",mode:r,author:n,props:jn(t)},e)}function Tn(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,i=[],c=new Map,l=function(e){return c.has(e)?c.get(e):(c.set(e,i.length),i.push(e),i.length-1)},s=rn({sets:e.sets,queries:null!==(r=null===(n=e.queries)||void 0===n?void 0:n.filter((function(e){return Ze(e)||Qe(e)})))&&void 0!==r?r:[],toElemIndex:l,selection:e.selection&&rt(e.selection)?e.selection:void 0,combinations:t.cs.v,combinationOptions:Array.isArray(e.combinations)?{}:e.combinations},{compress:o?"yes":"no"});return In(s,i,e,void 0,a)}function qn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function zn(e){return"upset-".concat(Math.random().toString(36).slice(4))}function Bn(e){return null!=e&&!Array.isArray(e)}function Rn(e,t){var n=Je(e,t);return function(e){return n(e.elems).intersection}}function Hn(){return-1}function Fn(e){var t;return Array.isArray(e)?"Array(".concat(e.length,")"):"function"==typeof e?"?":null===(t=e)||void 0===t?void 0:t.name}function Un(){return 0}function Wn(e){return null==e?10:e.endsWith("pt")?Math.floor(4/3*Number.parseInt(e,10)):Number.parseInt(e,10)}function Dn(e,t,n,r,o,a,i,c,l,s,u,f,d,m,h){var p,y,v,g=function(e){return"linear"===e?$t:"log"===e?Xt:e}(r),b="band"===(y=o)?Ht:y,_=function(e){return Array.isArray(e)}(t)?t:xt(e,Object.assign({toElemKey:f},vn,t)),x=b(_.map(u),n.cs.w,n.padding),S=_.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),w=null!=h?h:S,C=w>S?0:a,E=g(w,[n.cs.h,C],{orientation:"vertical",fontSizeHint:l}),k=function(e){return Math.floor(a/1.4*.7*e.length)},A=function(e){return k(E.tickFormat()(e))},N=e.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),O=null!=m?m:N,M=A(O),L=A(w),j=J(s);try{for(j.s();!(v=j.n()).done;){var I=v.value;if(I.scale){var P,T=I.scale.ticks(3),q=I.scale.tickFormat(),z=J(T);try{for(z.s();!(P=z.n()).done;){var B=P.value,R="number"==typeof B?q(B):null!==(p=B.label)&&void 0!==p?p:q(B.value),H=k(R);H>L&&(L=H)}}catch(e){z.e(e)}finally{z.f()}}}}catch(e){j.e(e)}finally{j.f()}var F=O>N?0:M,U=g(O,[n.sets.w,F],{orientation:"horizontal",fontSizeHint:l}),W=e.map(u),D=b(W.slice().reverse(),n.sets.h,n.padding),K=Math.min(D.bandwidth(),x.bandwidth())/2*i,V=Math.max(2,Math.min(D.bandwidth(),x.bandwidth())/2*c);return{id:d||zn(),r:K,triangleSize:V,sets:{v:e,keys:W,rv:e.slice().reverse(),x:U,xAxisWidth:n.sets.w-F,y:function(e){return D(u(e))},max:O,bandWidth:D.bandwidth(),cy:D.bandwidth()/2+n.cs.h,format:U.tickFormat(),labelOffset:a+9+2},cs:{v:_,keys:_.map(u),x:function(e){return x(u(e))},max:w,y:E,yAxisWidth:n.cs.h-C,cx:x.bandwidth()/2,bandWidth:x.bandwidth(),format:E.tickFormat(),has:function(e,t){var n=u(t);return Array.from(e.sets).some((function(e){return u(e)===n}))},labelOffset:L+9+6},toKey:u,toElemKey:f,overlapGuesser:zt(_,Hn,u)}}function Kn(e){var t=e.transform,n=e.styleId,r=e.exportButtons,o=e.exportChart;if(!r)return null;var a=0,i=[];return!0!==r&&!1===r.svg||(a+=26,i.push(Ve.createElement("g",{key:"svg",className:"exportButton-".concat(n),onClick:o,"data-type":"svg",transform:"translate(-".concat(a,", 0)")},Ve.createElement("title",null,"Download SVG Image"),Ve.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),Ve.createElement("text",{className:"exportTextStyle-".concat(n),x:13},"SVG"))),a+=2),!0!==r&&!1===r.png||(a+=26,i.push(Ve.createElement("g",{key:"png",className:"exportButton-".concat(n),onClick:o,"data-type":"png",transform:"translate(-".concat(a,", 0)")},Ve.createElement("title",null,"Download PNG Image"),Ve.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),Ve.createElement("text",{className:"exportTextStyle-".concat(n),x:13},"PNG"))),a+=2),!0!==r&&!1===r.vega||(a+=34,i.push(Ve.createElement("g",{key:"vega",className:"exportButton-".concat(n),onClick:o,"data-type":"vega",transform:"translate(-".concat(a,", 0)")},Ve.createElement("title",null,"Download VEGA-Lite Specification"),Ve.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),Ve.createElement("text",{className:"exportTextStyle-".concat(n),x:17},"VEGA"))),a+=2),!0!==r&&!1===r.dump||(a+=34,i.push(Ve.createElement("g",{key:"dump",className:"exportButton-".concat(n),onClick:o,"data-type":"dump",transform:"translate(-".concat(a,", 0)")},Ve.createElement("title",null,"Download UpSet.js JSON Dump"),Ve.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),Ve.createElement("text",{className:"exportTextStyle-".concat(n),x:17},"DUMP"))),a+=2),!0!==r&&!1===r.share||(a+=42,i.push(Ve.createElement("g",{key:"share",className:"exportButton-".concat(n),onClick:o,"data-type":"share",transform:"translate(-".concat(a,", 0)")},Ve.createElement("title",null,"Open a shareable URL"),Ve.createElement("rect",{y:-9,width:42,height:11,rx:2,ry:2}),Ve.createElement("text",{className:"exportTextStyle-".concat(n),x:21},"SHARE"))),a+=2),Ve.createElement("g",{className:"exportButtons-".concat(n),transform:t},i)}var Vn=Ve.memo((function(e){var t=e.queries,n=e.x,r=e.style,o=e.data;return Ve.createElement("text",{transform:"translate(".concat(n,",4)"),style:r.styles.legend,className:qn("legendTextStyle-".concat(r.id),r.classNames.legend)},t.map((function(e,t){var n=null;return Qe(e)?n=e.set.cardinality:Ze(e)&&(n=e.elems instanceof Set?e.elems.size:e.elems.length),Ve.createElement(Ve.Fragment,{key:e.name},Ve.createElement("tspan",{className:"fillQ".concat(t,"-").concat(o.id)},"   "),Ve.createElement("tspan",null,e.name,null!=n?": ".concat(o.sets.format(n)):""))})))})),Jn=Ve.memo((function(e){var t=e.pos,n=e.spacing,r=e.tickSizeInner,o=e.orient,a=e.name,i=e.style,c="top"===o||"left"===o?-1:1;return Ve.createElement("g",{transform:"translate(0, ".concat(t+.5,")")},a&&Ve.createElement("text",{x:c*n,dy:"0.32em",className:qn("axisTextStyle-".concat(i.id),"right"===o?"startText-".concat(i.id):"endText-".concat(i.id),i.classNames.axisTick),style:i.styles.axisTick},a),Ve.createElement("line",{x2:c*r,className:"axisLine-".concat(i.id)}))})),$n=Ve.memo((function(e){var t=e.pos,n=e.name,r=e.spacing,o=e.orient,a=e.tickSizeInner,i=e.style,c="top"===o||"left"===o?-1:1;return Ve.createElement("g",{transform:"translate(".concat(t+.5,", 0)")},n&&Ve.createElement("text",{y:c*r,dy:"top"===o?"0em":"0.71em",className:qn("axisTextStyle-".concat(i.id),i.classNames.axisTick),style:i.styles.axisTick},n),Ve.createElement("line",{y2:c*a,className:"axisLine-".concat(i.id)}))}));function Zn(e){var t=e.scale,n=e.orient,r=e.tickSizeInner,o=void 0===r?6:r,a=e.tickSizeOuter,i=void 0===a?6:a,c=e.tickPadding,l=void 0===c?3:c,s=e.size,u=e.start,f=e.style,d=e.transform,m=Math.max(o,0)+l,h=u,p=s,y="top"===n||"left"===n?-1:1,v="left"===n||"right"===n?Jn:$n,g=t.ticks().map((function(e){return"number"==typeof e?{value:e,label:e.toLocaleString()}:e}));return Ve.createElement("g",{transform:d},g.map((function(e){return Ve.createElement(v,{key:e.value,pos:t(e.value),name:e.label,spacing:m,tickSizeInner:o,orient:n,style:f})})),Ve.createElement("path",{className:"axisLine-".concat(f.id),d:"left"===n||"right"===n?i?"M".concat(y*i,",").concat(h,"H0.5V").concat(p,"H").concat(y*i):"M0.5,".concat(h,"V").concat(p):i?"M".concat(h,",").concat(y*i,"V0.5H").concat(p,"V").concat(y*i):"M".concat(h,",0.5H").concat(p)}))}var Gn=Ve.memo((function(e){var t=e.width,n=e.text,r=e.dy,o=e.x,a=e.style,i=e.className,c=le(null),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ae("string"==typeof n?[n]:[]),2),s=l[0],u=l[1];return ce((function(){u("string"==typeof n?[n]:[])}),[n]),ce((function(){if(c.current&&!(c.current.childElementCount>0)&&"string"==typeof n&&"function"==typeof c.current.getComputedTextLength){for(var e=c.current.getComputedTextLength(),r=[],o=t,a=0,i=c.current.getStartPositionOfChar(0);e>o;){i.x=o;var l=c.current.getCharNumAtPosition(i),s=n.lastIndexOf(" ",l);if(s<a)break;r.push(n.slice(a,s+1)),a=s+1,o=c.current.getEndPositionOfChar(s+1).x+t}r.push(n.slice(a)),u(r)}}),[c,n,t]),n?Ve.createElement("tspan",{ref:c,dy:r,style:a,x:o,className:i},s.length>1?s.map((function(e,t){return Ve.createElement("tspan",{key:e,x:0,dy:t>0?"1.2em":r},e)})):n):null})),Qn=Ve.memo((function(e){var t=e.width,n=e.descriptionWidth,r=void 0===n?t:n,o=e.style;return o.title||o.description?Ve.createElement("text",null,Ve.createElement(Gn,{text:o.title,width:t,dy:"10px",className:qn("titleTextStyle-".concat(o.id),o.classNames.title),style:o.styles.title}),Ve.createElement(Gn,{x:0,width:r,dy:o.title?"2em":"10px",text:o.description,className:qn("descTextStyle-".concat(o.id),o.classNames.description),style:o.styles.description})):null}));function Yn(){}function Xn(e){return e?function(t,n){return function(r){return e.call(this,t,r.nativeEvent,n.map((function(e){return e.createOnHandlerData?e.createOnHandlerData(t):null})))}}:Yn}function er(e,t){var n=0,r=0;return function(o){var a=0;return"before"===o.position?a=-(n+=o.size+t):(a=e+r+t,r+=o.size+t),a}}function tr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fill";return t?e?Object.assign(D({},n,t),e):t?D({},n,t):void 0:e}var nr=Ve.memo((function(e){var t=e.size,n=e.style,r=e.data,o=er(t.sets.w+t.labels.w+t.cs.w,t.sets.addonPadding),a=er(t.cs.h+t.sets.h,t.cs.addonPadding),i="auto"===n.cs.offset?r.cs.labelOffset:n.cs.offset,c="auto"===n.sets.offset?r.sets.labelOffset:n.sets.offset;return Ve.createElement("g",null,Ve.createElement(Qn,{style:n,width:t.cs.x-i-20}),Ve.createElement("g",{transform:"translate(".concat(t.cs.x,",").concat(t.cs.y,")"),"data-upset":"csaxis"},Ve.createElement(Zn,{scale:r.cs.y,orient:"left",size:t.cs.h,start:t.cs.h-r.cs.yAxisWidth,style:n}),Ve.createElement("line",{x1:0,x2:t.cs.w,y1:t.cs.h+1,y2:t.cs.h+1,className:"axisLine-".concat(n.id)}),Ve.createElement("text",{className:qn("cChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(-i,", ").concat(t.cs.h/2,")rotate(-90)")},n.cs.name),t.cs.addons.map((function(e){var t=a(e),r=Ve.createElement("text",{key:e.name,className:qn("cChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(-i,", ").concat(t+e.size/2,")rotate(-90)")},e.name);return e.scale?Ve.createElement(Ve.Fragment,{key:e.name},Ve.createElement(Zn,{scale:e.scale,orient:"left",size:e.size,start:0,style:n,transform:"translate(0,".concat(t,")")}),r):r}))),Ve.createElement("g",{transform:"translate(".concat(t.sets.x,",").concat(t.sets.y,")"),"data-upset":"setaxis"},Ve.createElement(Zn,{scale:r.sets.x,orient:"bottom",size:t.sets.w,start:t.sets.w-r.sets.xAxisWidth,transform:"translate(0, ".concat(t.sets.h,")"),style:n}),Ve.createElement("text",{className:qn("sChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(t.sets.w/2,", ").concat(t.sets.h+c,")")},n.sets.name),t.sets.addons.map((function(e){var r=o(e),a=Ve.createElement("text",{key:e.name,className:qn("sChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(r+e.size/2,", ").concat(t.sets.h+c,")")},e.name);return e.scale?Ve.createElement(Ve.Fragment,{key:e.name},Ve.createElement(Zn,{scale:e.scale,orient:"bottom",size:e.size,start:0,transform:"translate(".concat(r,", ").concat(t.sets.h,")"),style:n}),a):a}))))})),rr=Ve.memo((function(e){var t=e.cx,n=e.r,r=e.cy,o=e.name,a=e.className,i=e.style,c=e.fill;return Ve.createElement("circle",{r:n,cx:t,cy:r,className:a,style:tr(i,c)},o&&Ve.createElement("title",null,o))}));function or(e,t,n){for(var r=[n(e)],o=0;o<Sn.length&&e>t;o++)e-=t,r.push(n(e));return r}var ar=Ve.memo((function(e){var t=e.d,n=e.h,r=e.className,o=e.data,a=e.size,i=e.style,c=e.children,l=or(t.cardinality,o.cs.max,o.cs.y),s=er(a.cs.h+a.sets.h,a.cs.addonPadding);return Ve.createElement("g",{transform:"translate(".concat(o.cs.x(t),", 0)"),onMouseEnter:n.onMouseEnter(t,a.cs.addons),onMouseLeave:n.onMouseLeave,onClick:n.onClick(t,a.cs.addons),onContextMenu:n.onContextMenu(t,a.cs.addons),onMouseMove:n.onMouseMove(t,a.cs.addons),className:r,"data-cardinality":t.cardinality},i.tooltips&&Ve.createElement("title",null,t.name,": ",o.cs.format(t.cardinality)),Ve.createElement("rect",{y:-a.cs.before,width:o.cs.bandWidth,height:a.sets.h+a.cs.h+a.cs.before+a.cs.after,className:"hoverBar-".concat(i.id)}),l.map((function(e,n){var r=n>0?Math.floor(o.cs.bandWidth*Sn[n-1]):0;return Ve.createElement("rect",{key:n,x:r,y:e,height:a.cs.h-e,width:o.cs.bandWidth-2*r,className:qn("fillPrimary-".concat(i.id),n<l.length-1&&"fillOverflow".concat(l.length-1-n,"-").concat(i.id),i.classNames.bar),style:tr(i.styles.bar,t.color)})})),Ve.createElement("text",{y:l[0]-i.barLabelOffset,x:o.cs.bandWidth/2,style:i.styles.barLabel,className:qn("cBarTextStyle-".concat(i.id),i.classNames.barLabel)},o.cs.format(t.cardinality)),Ve.createElement("text",{y:-i.barLabelOffset-a.cs.before,x:o.cs.bandWidth/2,style:i.styles.barLabel,className:qn("hoverBarTextStyle-".concat(i.id),i.classNames.barLabel)},t.name),o.sets.v.map((function(e,n){return o.cs.has(t,e)?null:Ve.createElement(rr,{key:o.sets.keys[n],r:o.r,cx:o.cs.cx,cy:o.sets.y(e)+o.sets.cy,name:i.tooltips?t.name:"",style:i.styles.dot,fill:void 0,className:qn("fillNotMember-".concat(i.id),i.classNames.dot)})})),t.sets.size>1&&Ve.createElement("line",{x1:o.cs.cx,y1:o.sets.y(o.sets.v.find((function(e){return o.cs.has(t,e)})))+o.sets.cy-(o.r-1),x2:o.cs.cx,y2:o.sets.y(o.sets.rv.find((function(e){return o.cs.has(t,e)})))+o.sets.cy+(o.r-1),style:t.color?{stroke:t.color}:void 0,className:"upsetLine-".concat(o.id)}),o.sets.v.map((function(e,n){var r;return o.cs.has(t,e)?Ve.createElement(rr,{key:o.sets.keys[n],r:o.r,cx:o.cs.cx,cy:o.sets.y(e)+o.sets.cy,name:i.tooltips?e.name:"",style:i.styles.dot,fill:null!==(r=e.color)&&void 0!==r?r:t.color,className:qn("fillPrimary-".concat(i.id),i.classNames.dot)}):null})),a.cs.addons.map((function(e){return Ve.createElement("g",{key:e.name,transform:"translate(0,".concat(s(e),")")},e.render({set:t,width:o.cs.bandWidth,height:e.size,theme:i.theme}))})),c)})),ir=Ve.memo((function(e){var t=e.d,n=e.i,r=e.h,o=e.className,a=e.size,i=e.data,c=e.style,l=e.children,s=or(t.cardinality,i.sets.max,i.sets.x),u=er(a.sets.w+a.labels.w+a.cs.w,a.sets.addonPadding),f="center"===c.setLabelAlignment?a.labels.w/2:"left"===c.setLabelAlignment?2:a.labels.w-2;return Ve.createElement("g",{transform:"translate(0, ".concat(i.sets.y(t),")"),onMouseEnter:r.onMouseEnter(t,a.sets.addons),onMouseLeave:r.onMouseLeave,onClick:r.onClick(t,a.sets.addons),onContextMenu:r.onContextMenu(t,a.sets.addons),onMouseMove:r.onMouseMove(t,a.sets.addons),className:o,"data-cardinality":t.cardinality},c.tooltips&&Ve.createElement("title",null,t.name,": ",i.sets.format(t.cardinality)),Ve.createElement("rect",{x:-a.sets.before,width:a.sets.w+a.labels.w+a.cs.w+a.sets.after,height:i.sets.bandWidth,className:"hoverBar-".concat(c.id)}),n%2==1&&Ve.createElement("rect",{x:a.sets.w,width:a.labels.w+a.cs.w+a.sets.after,height:i.sets.bandWidth,className:"fillAlternating-".concat(c.id)}),s.map((function(e,n){var r=n>0?Math.floor(i.sets.bandWidth*Sn[n-1]):0;return Ve.createElement("rect",{key:n,x:e,y:r,width:a.sets.w-e,height:i.sets.bandWidth-2*r,className:qn("fillPrimary-".concat(c.id),n<s.length-1&&"fillOverflow".concat(s.length-1-n,"-").concat(c.id),c.classNames.bar),style:tr(c.styles.bar,t.color)})})),Ve.createElement("text",{x:s[0],dx:-c.barLabelOffset,y:i.sets.bandWidth/2,style:c.styles.barLabel,className:qn("sBarTextStyle-".concat(c.id),c.classNames.barLabel)},i.sets.format(t.cardinality)),Ve.createElement("text",{x:a.sets.w+f,y:i.sets.bandWidth/2,className:qn("setTextStyle-".concat(c.id),c.classNames.setLabel),style:c.styles.setLabel,clipPath:"url(#clip-".concat(a.id,")")},t.name),a.sets.addons.map((function(e){return Ve.createElement("g",{key:e.name,transform:"translate(".concat(u(e),",0)")},e.render({set:t,width:e.size,height:i.sets.bandWidth,theme:c.theme}))})),l)})),cr=Ve.memo((function(e){var t=e.data,n=e.size,r=e.style,o=e.h,a=e.setChildrenFactory,i=e.combinationChildrenFactory;return Ve.createElement("g",{className:o.hasClick?"clickAble-".concat(r.id):void 0},Ve.createElement("g",{transform:"translate(".concat(n.sets.x,",").concat(n.sets.y,")"),"data-upset":"sets"},t.sets.v.map((function(e,i){return Ve.createElement(ir,{key:t.sets.keys[i],d:e,i,h:o,className:o.hasClick||o.hasHover?"interactive-".concat(r.id):void 0,data:t,style:r,size:n},a&&a(e))}))),Ve.createElement("g",{transform:"translate(".concat(n.cs.x,",").concat(n.cs.y,")"),"data-upset":"cs"},t.cs.v.map((function(e,a){return Ve.createElement(ar,{key:t.cs.keys[a],d:e,h:o,className:o.hasClick||o.hasHover?"interactive-".concat(r.id):void 0,data:t,style:r,size:n},i&&i(e))}))))}));function lr(e){var t=e.data,n=e.size,r=e.style,o=e.elemOverlap,a=e.secondary,i=e.tooltip,c=e.suffix,l=e.transform,s=e.empty,u=e.combinationAddons,f=t.cs.bandWidth,d=n.cs.h+n.sets.h,m=n.cs.h,h=qn("fill".concat(c),!i&&"pnone-".concat(r.id),r.classNames.bar);return Ve.createElement("g",{transform:l,"data-upset":a?"cs-q":"cs-s"},t.cs.v.map((function(e,c){var l=t.cs.x(e),p=t.cs.keys[c];if(s&&!a)return Ve.createElement("rect",{key:p,x:l,y:m,height:0,width:f,className:h,style:tr(r.styles.bar,r.selectionColor?void 0:e.color)},i&&Ve.createElement("title",null));var y=o(e);if(0===y)return null;var v=or(y,t.cs.max,t.cs.y),g=i&&Ve.createElement("title",null,"".concat(e.name,"  ").concat(i,": ").concat(y)),b=a?Ve.createElement("path",{key:p,transform:"translate(".concat(l,", ").concat(v[0],")"),d:"M0,-1 l".concat(f,",0 l0,2 l").concat(-f,",0 L-").concat(t.triangleSize,",-").concat(t.triangleSize," L-").concat(t.triangleSize,",").concat(t.triangleSize," Z"),className:h,"data-i":c,"data-cardinality":y,style:tr(void 0,r.selectionColor?void 0:e.color)},g):v.map((function(n,o){var a=o>0?Math.floor(t.cs.bandWidth*Sn[o-1]):0;return Ve.createElement("rect",{key:o,x:l+a,y:n,height:m-n,width:f-2*a,"data-i":o>0?null:c,"data-cardinality":o>0?null:y,className:qn(h,o<v.length-1&&"fillOverflow".concat(v.length-1-o,"-").concat(r.id)),style:tr(r.styles.bar,r.selectionColor?void 0:e.color)},g)})),_=er(d,n.cs.addonPadding),x=u.map((function(t){var n=_(t),o=t.render({set:e,width:f,height:t.size,theme:r.theme});return o?Ve.createElement("g",{key:t.name,transform:"translate(".concat(l,",").concat(n,")")},o):null})).filter(Boolean);return 0===x.length?b:Ve.createElement("g",{key:p},b,x)})))}function sr(e){var t=e.data,n=e.size,r=e.style,o=e.elemOverlap,a=e.suffix,i=e.secondary,c=e.empty,l=e.tooltip,s=e.setAddons,u=e.transform,f=n.sets.w,d=n.sets.w+n.labels.w+n.cs.w,m=t.sets.bandWidth,h=qn("fill".concat(a),!l&&" pnone-".concat(r.id),r.classNames.bar);return Ve.createElement("g",{transform:u,"data-upset":i?"sets-q":"sets-s"},t.sets.v.map((function(e,a){var u=t.sets.y(e),p=t.sets.keys[a];if(c&&!i)return Ve.createElement("rect",{key:p,x:f,y:u,width:0,height:m,className:h,style:tr(r.styles.bar,r.selectionColor?void 0:e.color)},r.tooltips&&l&&Ve.createElement("title",null));var y=o(e);if(0===y)return null;var v=or(y,t.sets.max,t.sets.x),g=r.tooltips&&l&&Ve.createElement("title",null,"".concat(e.name,"  ").concat(l,": ").concat(y)),b=i?Ve.createElement("path",{key:p,transform:"translate(".concat(v[0],", ").concat(u+m,")"),d:"M1,0 l0,".concat(-m," l-2,0 l0,").concat(m," L-").concat(t.triangleSize,",").concat(t.triangleSize," L").concat(t.triangleSize,",").concat(t.triangleSize," Z"),"data-i":a,"data-cardinality":y,className:h,style:tr(void 0,r.selectionColor?void 0:e.color)},g):v.map((function(n,o){var i=o>0?Math.floor(t.sets.bandWidth*Sn[o-1]):0;return Ve.createElement("rect",{key:o,"data-i":o>0?null:a,"data-cardinality":o>0?null:y,x:n,y:u+i,width:f-n,height:m-2*i,className:qn(h,o<v.length-1&&"fillOverflow".concat(v.length-1-o,"-").concat(r.id)),style:tr(r.styles.bar,r.selectionColor?void 0:e.color)},g)})),_=er(d,n.sets.addonPadding),x=s.map((function(t){var n=_(t),o=t.render({set:e,width:t.size,height:m,theme:r.theme});return o?Ve.createElement("g",{key:t.name,transform:"translate(".concat(n,",").concat(u,")")},o):null})).filter(Boolean);return 0===x.length?b:Ve.createElement("g",{key:p},b,x)})))}var ur=[],fr=Ve.memo((function(e){var t=e.size,n=e.data,r=e.style,o=e.hasHover,a=e.secondary,i=e.queries,c=t.sets.addons.some((function(e){return null!=e.renderQuery}))||t.cs.addons.some((function(e){return null!=e.renderQuery})),l=se((function(){return i.map((function(e){return Object.assign(Object.assign({},e),{overlap:Ye(e,"intersection",n.toElemKey),elemOverlap:c?Xe(e,"intersection",n.toElemKey):null})}))}),[i,c,n.toElemKey]);function s(e,t,n,r,o){return Object.assign(Object.assign({},e),{render:function(a){var i=r(a.set);return e.renderQuery?e.renderQuery(Object.assign({query:t,overlap:i,index:n,secondary:o},a)):null}})}return Ve.createElement("g",{className:o&&!a?"pnone-".concat(r.id):void 0},Ve.createElement("g",{transform:"translate(".concat(t.sets.x,",").concat(t.sets.y,")")},l.map((function(e,i){return Ve.createElement(sr,{key:e.name,data:n,size:t,style:r,elemOverlap:e.overlap,suffix:"Q".concat(i,"-").concat(n.id),secondary:a||i>0,tooltip:o&&!(a||i>0)?void 0:e.name,setAddons:0===t.sets.addons.length?ur:t.sets.addons.map((function(t,n){return s(t,e,n,e.elemOverlap,a||n>0)}))})}))),Ve.createElement("g",{transform:"translate(".concat(t.cs.x,",").concat(t.cs.y,")")},l.map((function(e,i){return Ve.createElement(lr,{key:e.name,data:n,size:t,style:r,elemOverlap:e.overlap,suffix:"Q".concat(i,"-").concat(n.id),secondary:a||i>0,tooltip:o&&!(a||i>0)?void 0:e.name,combinationAddons:0===t.cs.addons.length?ur:t.cs.addons.map((function(t,n){return s(t,e,n,e.elemOverlap,a||n>0)}))})}))))}));function dr(e){var t=e.data,n=e.size,r=e.style,o=e.selection;if(!o||"set"!==o.type||!t.sets.keys.includes(t.toKey(o)))return null;var a=o;return Ve.createElement("rect",{y:t.sets.y(a),width:n.labels.w+n.cs.w+n.sets.after,height:t.sets.bandWidth,className:"selectionHint-".concat(r.id)})}function mr(e){var t=e.data,n=e.size,r=e.style,o=e.selection,a=t.sets.bandWidth/2,i=t.cs.cx,c=t.r,l=n.sets.h+n.sets.after,s=t.cs.bandWidth;if(!o||"set"===o.type||!t.cs)return null;var u=o,f=t.cs.keys.indexOf(t.toKey(u));return f<0?null:Ve.createElement("g",{transform:"translate(".concat(n.labels.w+t.cs.x(u),", 0)"),"data-upset":"cs-ss","data-i":f},Ve.createElement("rect",{width:s,height:l,className:"selectionHint-".concat(r.id)}),u.sets.size>1&&Ve.createElement("line",{x1:i,y1:t.sets.y(t.sets.v.find((function(e){return t.cs.has(u,e)})))+a-(t.r-1),x2:i,y2:t.sets.y(t.sets.rv.find((function(e){return t.cs.has(u,e)})))+a+(t.r-1),className:"upsetSelectionLine-".concat(t.id),style:tr(void 0,r.selectionColor?void 0:u.color,"stroke")}),t.sets.v.filter((function(e){return t.cs.has(u,e)})).map((function(e){return Ve.createElement(rr,{key:t.toKey(e),r:1.1*c,cx:i,cy:t.sets.y(e)+a,name:r.tooltips?e.name:"",className:qn("fillSelection-".concat(r.id),"pnone-".concat(r.id),r.classNames.dot),style:tr(r.styles.dot,r.selectionColor?void 0:e.color)})})))}var hr=[];function pr(e){var t=e.size,n=e.data,r=e.style,o=e.selection,a=e.hasHover,i=r.emptySelection,c=function(e,t,n){if(!e)return Un;if("function"==typeof e)return e;if(Array.isArray(e))return Rn(e,n);var r=e;if(r.overlap)return r.overlap.bind(r);var o=null;return function(e){if(e.overlap)return e.overlap(r);var a=t(e,r);return a>=0?a:(o||(o=Rn(r.elems,n)),o(e))}}(o,n.overlapGuesser,n.toElemKey),l=Fn(o),s=t.sets.addons.some((function(e){return null!=e.renderSelection}))||t.cs.addons.some((function(e){return null!=e.renderSelection})),u=o&&"function"!=typeof o&&s?function(e,t){var n=$e(e,t);return function(e){return n(e.elems).intersection}}(Array.isArray(o)?o:o.elems,n.toElemKey):null;function f(e){return Object.assign(Object.assign({},e),{render:function(t){var n=u?u(t.set):null;return e.renderSelection?e.renderSelection(Object.assign({selection:o,selectionColor:r.selectionColor||t.set.color||"orange",overlap:n},t)):null}})}return Ve.createElement("g",{className:a?"pnone-".concat(r.id):void 0},(o||i)&&Ve.createElement(lr,{data:n,size:t,style:r,transform:"translate(".concat(t.cs.x,",").concat(t.cs.y,")"),empty:i&&!o,elemOverlap:c,suffix:"Selection-".concat(r.id),tooltip:a?void 0:l,combinationAddons:0===t.cs.addons.length?hr:t.cs.addons.map(f)}),(o||i)&&Ve.createElement(sr,{data:n,size:t,style:r,transform:"translate(".concat(t.sets.x,",").concat(t.sets.y,")"),empty:i&&!o,elemOverlap:c,suffix:"Selection-".concat(r.id),tooltip:a?void 0:l,setAddons:0===t.sets.addons.length?hr:t.sets.addons.map(f)}),Ve.createElement("g",{transform:"translate(".concat(t.labels.x,",").concat(t.labels.y,")")},Bn(o)&&Ve.createElement(dr,{data:n,size:t,style:r,selection:o}),Bn(o)&&Ve.createElement(mr,{data:n,size:t,style:r,selection:o})))}function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"font-size";return e?"".concat(t,": ").concat(e,";"):""}var vr=Ve.forwardRef((function(e,t){var n,r=An(e),o=r.selection,a=void 0===o?null:o,i=r.queries,c=void 0===i?[]:i,l=r.fontSizes,s=se((function(){return r.id?r.id:zn((r.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,r.textColor,r.hoverHintColor,r.color,r.hasSelectionColor,r.selectionColor,r.notMemberColor,r.alternatingBackgroundColor,r.opacity,r.hasSelectionOpacity))}),[r.id,r.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,r.textColor,r.hoverHintColor,r.color,r.hasSelectionColor,r.selectionColor,r.notMemberColor,r.alternatingBackgroundColor,r.opacity,r.hasSelectionOpacity]),f=se((function(){return function(e,t,n,r,o,a,i,c,l,s,u,f,d,m,h){return{theme:e,styles:t,classNames:n,cs:{name:r,offset:o},sets:{name:a,offset:i},emptySelection:u,id:c,barLabelOffset:l,selectionColor:s,title:f,description:d,tooltips:m,setLabelAlignment:h}}(r.theme,r.styles,r.classNames,r.combinationName,r.combinationNameAxisOffset,r.setName,r.setNameAxisOffset,s,r.barLabelOffset,r.selectionColor,r.emptySelection,r.title,r.description,r.tooltips,r.setLabelAlignment)}),[r.theme,r.styles,r.classNames,r.barLabelOffset,r.combinationName,r.combinationNameAxisOffset,r.setName,r.setNameAxisOffset,s,r.selectionColor,r.emptySelection,r.title,r.description,r.tooltips,r.setLabelAlignment]),d=se((function(){return function(e,t,n,r,o,a,i,c,l,s,u){var f=i.reduce((function(e,t){return e+("before"===t.position?t.size+s:0)}),0),d=i.reduce((function(e,t){return e+("before"!==t.position?t.size+s:0)}),0),m=c.reduce((function(e,t){return e+("before"===t.position?t.size+s:0)}),0),h=c.reduce((function(e,t){return e+("before"!==t.position?t.size+s:0)}),0),p=t-2*n-20-h-m,y=e-2*n-f-d,v=o[0]>1?o[0]:y*o[0],g=o[1]>1?o[1]:y*o[1],b=a[0]>1?a[0]:p*a[0];return{id:l||zn(),cs:{before:m,after:h,x:f+v+g,y:m,w:y-v-g,h:b,addons:c,addonPadding:u},labels:{x:f+v,y:m+b,w:g,h:p-b},sets:{before:f,after:d,x:f,y:m+b,w:v,h:p-b,addons:i,addonPadding:s},padding:r,legend:{x:e/2},margin:n,w:e,h:t}}(r.width,r.height,r.padding,r.barPadding,r.widthRatios,r.heightRatios,r.setAddons,r.combinationAddons,r.id,r.setAddonPadding,r.combinationAddonPadding)}),[r.width,r.height,r.padding,r.barPadding,r.widthRatios,r.heightRatios,r.setAddons,r.combinationAddons,r.id,r.setAddonPadding,r.combinationAddonPadding]),m=se((function(){return Dn(r.sets,r.combinations,d,r.numericScale,r.bandScale,r.barLabelOffset+Wn(l.barLabel),r.dotPadding,r.barPadding,Wn(l.axisTick),r.combinationAddons,r.toKey,r.toElemKey,r.id,r.setMaxScale,r.combinationMaxScale)}),[r.sets,r.combinations,d,r.numericScale,r.bandScale,r.barLabelOffset,l.barLabel,r.dotPadding,r.barPadding,l.axisTick,r.combinationAddons,r.toKey,r.toElemKey,r.id,r.setMaxScale,r.combinationMaxScale]),h=function(e,t,n,r){var o=[];t.hasSelectionColor&&o.push("fill: ".concat(t.hasSelectionColor,";"));var a=null!=t.hasSelectionOpacity&&t.hasSelectionOpacity>=0;return a&&o.push("fill-opacity: ".concat(t.hasSelectionOpacity,";")),{p:yr,root:"\n  .root-".concat(e," {\n    ").concat(yr(n,"font-family"),"\n  }\n  "),text:"\n  .titleTextStyle-".concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(yr(r.title),"\n  }\n  .descTextStyle-").concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(yr(r.description),"\n  }\n\n  .legendTextStyle-").concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(yr(r.legend),"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  "),hasSFill:o.join(" "),hasSStroke:o.join(" ").replace("fill:","stroke:").replace("fill-","stroke-"),fill:"\n  .fillPrimary-".concat(e," { fill: ").concat(t.color,"; fill-opacity: ").concat(t.opacity,"; }\n  .fillOverflow1-").concat(e," { fill-opacity: ").concat(t.opacity*xn[0],"; }\n  .fillOverflow2-").concat(e," { fill-opacity: ").concat(t.opacity*xn[1],"; }\n  ").concat(o.length>0?".root-".concat(e,"[data-selection] .fillPrimary-").concat(e," { ").concat(o.join(" ")," }"):"","\n  ").concat(a?"\n      .root-".concat(e,"[data-selection] .fillOverflow1-").concat(e," { fill-opacity: ").concat(t.opacity*xn[0],"; }\n      .root-").concat(e,"[data-selection] .fillOverflow2-").concat(e," { fill-opacity: ").concat(t.opacity*xn[1],"; }"):"","\n  ").concat(t.selectionColor?".fillSelection-".concat(e," { fill: ").concat(t.selectionColor,"; }"):"","\n  .fillTransparent-").concat(e," { fill: transparent; }\n\n  .selectionHint-").concat(e," {\n    fill: transparent;\n    pointer-events: none;\n    ").concat(yr(t.selectionColor,"stroke"),"\n  }\n  .clickAble-").concat(e," {\n    cursor: pointer;\n  }\n\n  .startText-").concat(e," {\n    text-anchor: start;\n  }\n  .endText-").concat(e," {\n    text-anchor: end;\n  }\n  .pnone-").concat(e," {\n    pointer-events: none;\n  }"),export:"\n  .exportTextStyle-".concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(yr(r.exportLabel),"\n  }\n  .exportButtons-").concat(e," {\n    text-anchor: middle;\n  }\n  .exportButton-").concat(e," {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-").concat(e,":hover {\n    opacity: 1;\n  }\n  .exportButton-").concat(e," > rect {\n    fill: none;\n    stroke: ").concat(t.textColor,";\n  }\n  ")}}(s,r,r.fontFamily,l),p=function(e){var t=e.onClick;return se((function(){return{hasClick:null!=t,hasHover:null!=e.onHover,onClick:Xn(t),onMouseEnter:Xn(e.onHover),onContextMenu:Xn(e.onContextMenu),onMouseLeave:e.onHover?function(t){return e.onHover(null,t.nativeEvent,[])}:void 0,onMouseMove:Xn(e.onMouseMove),reset:function(e){return t?t(null,e.nativeEvent,[]):null}}}),[t,e.onHover,e.onContextMenu,e.onMouseMove])}(r),y="\n  ".concat(h.root,"\n  ").concat(h.text,"\n\n  .axisTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(h.p(l.axisTick),"\n    text-anchor: middle;\n  }\n  .barTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(h.p(l.barLabel),"\n  }\n  .cBarTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(h.p(l.barLabel),"\n    text-anchor: middle;\n  }\n  .sBarTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(h.p(l.barLabel),"\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-").concat(s," {\n    ").concat(h.p(l.barLabel),"\n    fill: ").concat(r.hoverHintColor,";\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(h.p(l.setLabel),"\n    text-anchor: ").concat(function(e){var t;return null!==(t={left:"start",center:"middle",right:"end"}[e])&&void 0!==t?t:"middle"}(r.setLabelAlignment),";\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(h.p(l.chartLabel),"\n    text-anchor: middle;\n  }\n  .sChartTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(h.p(l.chartLabel),"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n\n  ").concat(h.fill,"\n  .fillNotMember-").concat(s," { fill: ").concat(r.notMemberColor,"; }\n  .fillAlternating-").concat(s," { fill: ").concat(r.alternatingBackgroundColor||"transparent","; }\n\n  .axisLine-").concat(s," {\n    fill: none;\n    stroke: ").concat(r.textColor,";\n  }\n  .hoverBar-").concat(s," {\n    fill: transparent;\n  }\n\n  .interactive-").concat(s,":hover > .hoverBar-").concat(s," {\n    stroke: ").concat(r.hoverHintColor,";\n  }\n  .interactive-").concat(s,":hover > .hoverBarTextStyle-").concat(s," {\n    display: unset;\n  }\n\n  ").concat(h.export,"\n\n  .upsetLine-").concat(m.id," {\n    stroke-width: ").concat(.6*m.r,";\n    stroke: ").concat(r.color,";\n    stroke-opacity: ").concat(r.opacity,";\n  }\n  ").concat(h.hasSStroke?".root-".concat(s,"[data-selection] .upsetLine-").concat(m.id," { ").concat(h.hasSStroke," }"):"","\n\n  .upsetSelectionLine-").concat(m.id," {\n    stroke-width: ").concat(.6*m.r*1.1,";\n    ").concat(h.p(r.selectionColor,"stroke"),"\n    pointer-events: none;\n  }\n\n  ").concat(c.map((function(e,t){return".fillQ".concat(t,"-").concat(m.id," {\n    fill: ").concat(e.color,";\n  }")})).join("\n"),"\n  "),v=ue((function(t){var n=t.currentTarget.closest("svg"),r=t.currentTarget.dataset.type||"png";switch(r){case"vega":!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).title,n=Mn(e,t),r=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"application/json"}));On(r,"".concat(n.title,".json"),e.ownerDocument),URL.revokeObjectURL(r)}(n);break;case"dump":!function(e,t,n,r){var o=Tn(t,n,!1,r),a=URL.createObjectURL(new Blob([JSON.stringify(o,null,2)],{type:"application/json"}));On(a,"".concat(o.name,".json"),e.ownerDocument),URL.revokeObjectURL(a)}(n,e,m);break;case"share":!function(e,t,n){var r=Tn(e,t,!0,n);delete r.$schema;var o=ln.compressToEncodedURIComponent(JSON.stringify(r)),a=new URL("https://upset.js.org/app/embed.html");if(a.searchParams.set("p",o),a.toString().length<4096)return u.open(a.toString(),"_blank"),!0;var i=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,i=an({sets:e.sets,queries:null!==(r=null===(n=e.queries)||void 0===n?void 0:n.filter((function(e){return Ze(e)||Qe(e)})))&&void 0!==r?r:[],selection:e.selection&&rt(e.selection)?e.selection:void 0,combinations:t.cs.v},{compress:o?"yes":"no"});return Pn(i,e,void 0,a)}(e,t,!0,n);delete i.$schema;var c=ln.compressToEncodedURIComponent(JSON.stringify(i));if(a.searchParams.set("p",c),a.toString().length<4096)return u.open(a.toString(),"_blank"),!0;a.searchParams.delete("p");var l=u.open(a.toString(),"_blank");null==l||l.addEventListener("load",(function(){null==l||l.postMessage(r,a.origin)}))}(e,m);break;case"svg":case"png":!function(e,t){var n=t.type,r=void 0===n?"png":n,o=t.title,a=t.toRemove,i=new Blob([Nn(e,a)],{type:"image/svg+xml;charset=utf-8"}),c=sn(e),l=null!=o?o:un(e,c),s=URL.createObjectURL(i);"svg"===r?(On(s,"".concat(l,".").concat(r),e.ownerDocument),URL.revokeObjectURL(s),Promise.resolve()):function(e,t){var n=t.ownerDocument.createElement("canvas"),r=t.getBoundingClientRect();n.width=r.width,n.height=r.height;var o=n.getContext("2d"),a=new Image(n.width,n.height);return new Promise((function(t){a.onload=function(){o.drawImage(a,0,0);var e=n.toDataURL("image/png");t(e)},a.src=e}))}(s,e).then((function(t){On(t,"".concat(l,".").concat(r),e.ownerDocument),URL.revokeObjectURL(s)}))}(n,{type:r,toRemove:".".concat(t.currentTarget.getAttribute("class"))})}}),[m,e]),g=Fn(a);return Ve.createElement("svg",{id:r.id,className:qn("root-".concat(s),r.className),style:r.style,width:r.width,height:r.height,ref:t,viewBox:"0 0 ".concat(r.width," ").concat(r.height),"data-theme":null!==(n=r.theme)&&void 0!==n?n:"light","data-selection":g||void 0},Ve.createElement("style",null,y),Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"clip-".concat(d.id)},Ve.createElement("rect",{x:d.sets.w,y:0,width:d.labels.w,height:d.sets.h}))),r.queryLegend&&Ve.createElement(Vn,{queries:c,x:d.legend.x,style:f,data:m}),Ve.createElement(Kn,{transform:"translate(".concat(d.w-2,",").concat(d.h-3,")"),styleId:s,exportButtons:r.exportButtons,exportChart:v}),Ve.createElement("g",{transform:"translate(".concat(r.padding,",").concat(r.padding,")"),"data-upset":"base"},r.onClick&&Ve.createElement("rect",{width:d.cs.x,height:d.sets.y,onClick:p.reset,className:"fillTransparent-".concat(s)}),Ve.createElement(nr,{size:d,style:f,data:m}),Ve.createElement(cr,{size:d,style:f,data:m,h:p,setChildrenFactory:r.setChildrenFactory,combinationChildrenFactory:r.combinationChildrenFactory}),Ve.createElement(pr,{size:d,style:f,data:m,hasHover:p.hasHover,selection:a}),Ve.createElement(fr,{size:d,style:f,data:m,hasHover:p.hasHover,queries:c,secondary:null!=r.onHover||null!=a})),e.children)}));var gr=Ve.memo(Ve.forwardRef((function(e,t){var n=function(e){var t,n,r,o,a=null!==(t=e.color)&&void 0!==t?t:"#A6A8AB",i=null!==(n=e.secondaryColor)&&void 0!==n?n:"#E1E2E3",c=Object.assign({},e),l=null!==(r=e.background)&&void 0!==r?r:"#F4F4F4";return delete c.color,delete c.secondaryColor,delete c.background,l&&(c.style=Object.assign({background:l},null!==(o=c.style)&&void 0!==o?o:{})),{color:a,secondary:i,rest:c}}(e),r=n.color,o=n.secondary,a=n.rest,i=[10,20,35,60,65,80,90],c=[50,30,15];return Ve.createElement("svg",Object.assign({viewBox:"0 0 300 200",ref:t},a),i.map((function(e,t){return Ve.createElement("rect",{key:t,x:85+30*t,y:e,width:20,height:100-e,fill:r})})),c.map((function(e,t){return Ve.createElement("rect",{key:t,x:e,y:110+30*t,width:75-e,height:20,fill:r})})),i.map((function(e,t){return c.map((function(e,n){var a=n===2-t||3===t&&n>0||4===t&&1!==n||5===t&&n<2||6===t;return Ve.createElement("circle",{key:"".concat(t,"x").concat(n),cx:85+30*t+10,cy:110+30*n+10,r:10,fill:a?r:o})}))})),Ve.createElement("rect",{x:"182",y:"150",width:"6",height:"30",fill:r}),Ve.createElement("rect",{x:"212",y:"120",width:"6",height:"60",fill:r}),Ve.createElement("rect",{x:"242",y:"120",width:"6",height:"30",fill:r}),Ve.createElement("rect",{x:"272",y:"120",width:"6",height:"60",fill:r}))})));Math.PI,Object.freeze({__proto__:null,widthRatios:function(e){return null==e||Array.isArray(e)&&e.length>=2&&e.every((function(e){return"number"==typeof e}))},heightRatios:function(e){return null==e||Array.isArray(e)&&e.length>=1&&e.every((function(e){return"number"==typeof e}))},setLabelAlignment:function(e){return null==e||"left"===e||"center"===e||"right"===e},sets:function(e){return Array.isArray(e)&&e.every(tt)},combinations:function(e){return null==e||Array.isArray(e)&&e.every(nt)||function(e){var t=e;return null!=e&&(null==t.type||["intersection","union"].includes(t.type))}(e)},selection:function(e){return null==e||Array.isArray(e)||rt(e)},onHover:function(e){return null==e||"function"==typeof e},onClick:function(e){return null==e||"function"==typeof e},onContextMenu:function(e){return null==e||"function"==typeof e},onMouseMove:function(e){return null==e||"function"==typeof e},queries:function(e){return!e||Array.isArray(e)&&e.every(ot)},stringOrFalse:function(e){return null==e||"string"==typeof e||!1===e},theme:function(e){return null==e||"light"===e||"dark"===e||"vega"===e},classNames:function(e){return null==e||Object.keys(e).every((function(t){return bn.includes(t)&&"string"==typeof e[t]}))},fontSizes:function(e){return null==e||Object.keys(e).every((function(t){return gn.includes(t)&&"string"==typeof e[t]}))},numericScale:function(e){return null==e||"linear"===e||"log"===e||"function"==typeof e},bandScale:function(e){return null==e||"band"===e||"function"==typeof e},axisOffset:function(e){return null==e||"auto"===e||"number"==typeof e},style:function(e){return null==e||"object"===W(e)},styles:function(e){return null==e||Object.keys(e).every((function(e){return bn.includes(e)}))},exportButtons:function(e){return null==e||"boolean"==typeof e||Object.keys(e).every((function(t){return _n.includes(t)&&"boolean"==typeof e[t]}))}});var br=Math.sqrt(2*Math.PI);function _r(e){return Math.exp(-.5*e*e)/br}function xr(e){var t=e.items.length,n=function(e,t,n){var r=Math.sqrt(function(e,t){return e*t/(t-1)}(t,n));return"number"==typeof e&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(n,-.2)}(e.iqr,e.variance,t);return function(r){var o=0,a=0;for(o=0;o<t;o++)a+=_r((r-e.items[o])/n);return a/n/t}}function Sr(e,t,n){var r=t-1,o=function(t){var o=t*r,a=Math.floor(o),i=o-a,c=e[a];return 0===i?c:n(c,e[Math.min(a+1,r)],i)};return{q1:o(.25),median:o(.5),q3:o(.75)}}function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Sr(e,t,(function(e,t,n){return e+n*(t-e)}))}function Cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=t,r=Math.floor((n+3)/2)/2,o=function(t){return.5*(e[Math.floor(t)-1]+e[Math.ceil(t)-1])};return{q1:o(r),median:o((n+1)/2),q3:o(n+1-r)}}function Er(e){for(var t=0,n=e.length,r=e instanceof Float64Array?new Float64Array(n):new Float32Array(n),o=0;o<n;o+=1){var a=e[o];null==a||Number.isNaN(a)||(r[t]=a,t+=1)}var i=n-t;if(0===t)return{min:Number.NaN,max:Number.NaN,missing:i,s:[]};var c=t===n?r:r.subarray(0,t);return c.sort((function(e,t){return e===t?0:e<t?-1:1})),{min:c[0],max:c[c.length-1],missing:i,s:c}}function kr(e){return 0===e.length?{min:Number.NaN,max:Number.NaN,missing:0,s:[]}:{min:e[0],max:e[e.length-1],missing:0,s:e}}function Ar(e,t,n,r,o){for(var a=o.eps,i=o.quantiles,c=o.coef,l=o.whiskersMode,s=function(e,t){return Math.abs(e-t)<a},u=i(e,t),f=u.median,d=u.q1,m=u.q3,h=m-d,p="number"==typeof c&&c>0,y=p?Math.max(n,d-c*h):n,v=p?Math.min(r,m+c*h):r,g=[],b=0;b<t;b+=1){var _=e[b];if(_>=y||s(_,y)){"nearest"===l&&(y=_);break}0!==g.length&&s(g[g.length-1],_)||g.push(_)}for(var x=[],S=t-1;S>=0;S-=1){var w=e[S];if(w<=v||s(w,v)){"nearest"===l&&(v=w);break}0!==x.length&&s(x[x.length-1],w)||0!==g.length&&s(g[g.length-1],w)||x.push(w)}return{median:f,q1:d,q3:m,iqr:h,outlier:g.concat(x.reverse()),whiskerHigh:v,whiskerLow:y}}function Nr(e,t){for(var n=0,r=0;r<t;r++)n+=e[r];n/=t;for(var o=0,a=0;a<t;a++){var i=e[a];o+=(i-n)*(i-n)}return{mean:n,variance:o/=t}}function Or(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=U({coef:1.5,eps:.01,quantiles:wr,validAndSorted:!1,whiskersMode:"nearest"},t),r=n.validAndSorted?kr(e):Er(e),o=r.missing,a=r.s,i=r.min,c=r.max,l={min:Number.NaN,max:Number.NaN,mean:Number.NaN,missing:o,iqr:Number.NaN,count:e.length,whiskerHigh:Number.NaN,whiskerLow:Number.NaN,outlier:[],median:Number.NaN,q1:Number.NaN,q3:Number.NaN,variance:0,items:[],kde:function(){return 0}},s=e.length-o;if(0===s)return l;var u=U(U({min:i,max:c,count:e.length,missing:o,items:a},Nr(a,s)),Ar(a,s,i,c,n));return U(U({},u),{},{kde:xr(u)})}var Mr={hinges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Cr(e,t)},fivenum:Cr,type7:wr,quantiles:wr,linear:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Sr(e,t,(function(e,t,n){return e+(t-e)*n}))},lower:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Sr(e,t,(function(e){return e}))},higher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Sr(e,t,(function(e,t){return t}))},nearest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Sr(e,t,(function(e,t,n){return n<.5?e:t}))},midpoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Sr(e,t,(function(e,t){return.5*(e+t)}))}};function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t,{quantiles:"function"==typeof t.quantiles||null==t.quantiles?t.quantiles:Mr[t.quantiles]});return null==n.quantiles&&delete n.quantiles,Or(e,n)}function jr(e){var t=e[1]-e[0];return function(n){return n*t+e[0]}}function Ir(e){var t=e[1]-e[0];return function(n){return(n-e[0])/t}}function Pr(e){var t=["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],n=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],r=e?t.concat(n):n.concat(t),o=0;return function(){return r[o++%r.length]}}function Tr(e,t){var n=new Map(e.map((function(e){return[e.value,0]})));return t.forEach((function(e){if(null!=e){var t=e.toString();n.has(t)&&n.set(t,n.get(t)+1)}})),n}function qr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Pr(r),a=function(e){return{value:e,label:e.length>0?"".concat(e[0].toUpperCase()).concat(e.slice(1)):e,color:o()}},i=t.map((function(e){return Object.assign({count:0,acc:0,percentage:0},a("string"==typeof e?e:e.value),"string"==typeof e?{}:e)})),c=Tr(i,e),l=n?Tr(i,n):null,s=Array.from(c.values()).reduce((function(e,t){return e+t}),0),u=0;return i.forEach((function(e){e.acc=u,e.count=c.get(e.value),e.percentage=e.count/s,u+=l?l.get(e.value):e.count})),i}function zr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Br(e){return Math.round(100*e)/100}function Rr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",r=Ir(e),o=jr(e),a=jr(t),i=function(e){return a(r(e))},c="horizontal"===n?5:7;return i.ticks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return Array(e).fill(0).map((function(t,n){var r=o(n/(e-1));return{value:r,label:r.toLocaleString(void 0,{maximumFractionDigits:2})}}))},i.tickFormat=function(){return function(e){return e.toFixed(2)}},i}var Hr=function(e){return e.toFixed(2)};function Fr(e,t){return"Min: ".concat(t(e.min),", 25% Quantile: ").concat(t(e.q1),", Median: ").concat(t(e.median),", 75% Quantile: ").concat(t(e.q3),", Max: ").concat(t(e.max))}var Ur=function(e){var t=e.theme,n=void 0===t?"light":t,r=e.mode,o=void 0===r?"normal":r,a=e.boxStyle,i=e.lineStyle,c=e.outlierStyle,l=e.margin,s=void 0===l?0:l,u=e.boxPadding,f=void 0===u?.1:u,d=e.outlierRadius,m=void 0===d?3:d,h=e.numberFormat,p=void 0===h?Hr:h,y=zr(e,["theme","mode","boxStyle","lineStyle","outlierStyle","margin","boxPadding","outlierRadius","numberFormat"]),v=Array.isArray(e.values)?Lr(e.values,y):e.values;if(Number.isNaN(v.median))return Ve.createElement("g",null);var g="vertical"!==e.orient,b=Ir([e.min,e.max]),_=jr([0,g?e.width:e.height]),x=function(e){return Br(_(b(e)))},S={max:x(v.max),avg:x(v.mean),med:x(v.median),min:x(v.min),q1:x(v.q1),q3:x(v.q3),wh:x(v.whiskerHigh),wl:x(v.whiskerLow)},w=!1!==e.tooltips&&Ve.createElement("title",null,Fr(v,p)),C=kn(n).notMemberColor,E={box:Object.assign({fill:C},a),line:Object.assign({fill:"none",stroke:"light"===n?"black":"#cccccc"},i),outlier:Object.assign({fill:C},c)};if(g){var k=e.height/2,A=Br(e.height*f)+s,N=e.height-A,O="M".concat(S.wl,",").concat(s," l0,").concat(e.height-2*s," M").concat(S.wl,",").concat(k," L").concat(S.q1,",").concat(k),M="M".concat(S.q3,",").concat(k," L").concat(S.wh,",").concat(k," M").concat(S.wh,",").concat(s," L").concat(S.wh,",").concat(e.height-s),L="M".concat(S.q1,",").concat(A," L").concat(S.q3,",").concat(A," L").concat(S.q3,",").concat(N," L").concat(S.q1,",").concat(N," L").concat(S.q1,",").concat(A," M").concat(S.med,",").concat(A," l0,").concat(N-A),j=Ve.createElement("path",{d:"".concat(O," ").concat(M," ").concat(L),style:E.line});return"indicator"===o?j:Ve.createElement("g",null,w,"normal"===o&&Ve.createElement("rect",{x:S.q1,y:A,width:S.q3-S.q1,height:e.height-2*A,style:E.box}),j,v.outlier.map((function(e){return Ve.createElement("circle",{key:e,r:m,cy:k,cx:x(e),style:E.outlier},Ve.createElement("title",null,"$",p(e)))})))}var I=e.width/2,P=Br(e.width*f)+s,T=e.width-P,q="M".concat(s,",").concat(S.wl," l").concat(e.width-2*s,",0 M").concat(I,",").concat(S.wl," L").concat(I,",").concat(S.q1),z="M".concat(I,",").concat(S.q3," L").concat(I,",").concat(S.wh," M").concat(s,",").concat(S.wh," L").concat(e.width-s,",").concat(S.wh),B="M".concat(P,",").concat(S.q1," L").concat(P,",").concat(S.q3," l").concat(T-P,",0 L").concat(T,",").concat(S.q1," L").concat(P,",").concat(S.q1," M").concat(P,",").concat(S.med," l").concat(T-P,",0"),R=Ve.createElement("path",{d:"".concat(q," ").concat(z," ").concat(B),style:E.line});return"indicator"===o?R:Ve.createElement("g",null,w,"normal"===o&&Ve.createElement("rect",{y:S.q1,x:P,height:S.q3-S.q1,width:e.width-2*P,style:E.box}),R,v.outlier.map((function(e){return Ve.createElement("circle",{key:e,r:m,cx:I,cy:x(e),style:E.outlier},Ve.createElement("title",null,"$",p(e)))})))},Wr=Ve.memo(Ur);function Dr(e){return Array.isArray(e.bins)}function Kr(e){return e.map((function(e){return"".concat(e.label,": ").concat(e.count)})).join(", ")}var Vr=function(e){var t,n,r=e.margin,o=void 0===r?0:r,a=e.rectStyle,i=void 0===a?{}:a,c=Dr(e)?e.bins:qr(e.values,e.categories,e.base,"dark"===e.theme),l=Ir([0,Dr(e)?e.bins.reduce((function(e,t){return e+t.count}),0):null!==(n=null===(t=e.base)||void 0===t?void 0:t.length)&&void 0!==n?n:e.values.length]),s="vertical"!==e.orient,u=jr([0,s?e.width:e.height]),f=function(e){return u(l(e))};return s?Ve.createElement("g",null,c.map((function(t){return Ve.createElement("rect",{key:t.value,x:f(t.acc),width:f(t.count),y:o,height:e.height-2*o,style:Object.assign({fill:t.color},i)},!1!==e.tooltips&&Ve.createElement("title",null,"".concat(t.label,": ").concat(t.count)))}))):Ve.createElement("g",null,c.map((function(t){return Ve.createElement("rect",{key:t.value,y:f(t.acc),height:f(t.count),x:o,width:e.width-2*o,style:Object.assign({fill:t.color},i)},!1!==e.tooltips&&Ve.createElement("title",null,"".concat(t.label,": ").concat(t.count)))})))},Jr=Ve.memo(Vr),$r="rgba(255,255,255,0.2)",Zr="rgba(0,0,0,0.1)";function Gr(e,t,n){return void 0===n&&(n={}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.size,o=void 0===r?100:r,a=n.position,i=n.name,c=void 0===i?e.toString():i,l=zr(n,["size","position","name"]),s="function"==typeof e?e:function(t){return t[e]},u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;if(Array.isArray(t))t.forEach((function(e){var t=s(e);null==t||Number.isNaN(t)||(t<u&&(u=t),t>f&&(f=t))}));else{var d=t;u=d.min,f=d.max}var m=Rr([u,f],[0,o],l.orient);return{name:c,position:a,size:o,scale:m,createOnHandlerData:function(e){var t=Lr(e.elems.map(s),l);return{id:"boxplot",name:c,value:Object.assign(Object.assign(Object.assign({},t),{toString:function(){var e;return Fr(this,null!==(e=l.numberFormat)&&void 0!==e?e:Hr)}}),t)}},render:function(e){var t=e.width,n=e.height,r=e.set,o=e.theme,a=r.elems.map(s);return Ve.createElement(Wr,Object.assign({values:a,width:t,height:n,min:u,max:f,theme:o},l))},renderSelection:function(e){var t=e.width,n=e.height,r=e.overlap,o=e.selectionColor,a=e.theme;if(null==r||0===r.length)return null;var i=r.map(s);return Ve.createElement(Wr,Object.assign({values:i,width:t,height:n,min:u,max:f,mode:"box",lineStyle:{stroke:o,strokeWidth:2},outlierStyle:{fill:o},theme:a},l))},renderQuery:function(e){var t=e.width,n=e.height,r=e.overlap,o=e.query,a=e.secondary,i=e.index,c=e.theme;if(null==r||0===r.length)return null;var d=r.map(s);return Ve.createElement(Wr,Object.assign({values:d,width:t,height:n,min:u,max:f,mode:a?"indicator":"box",margin:a?i+2:0,lineStyle:{stroke:o.color,strokeWidth:a?1:2},outlierStyle:{fill:o.color},theme:c},l))}}}(e,t,n)}function Qr(e,t,n){return void 0===n&&(n={}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.size,o=void 0===r?100:r,a=n.position,i=n.name,c=void 0===i?e.toString():i,l=zr(n,["size","position","name"]),s="function"==typeof e?e:function(t){return t[e]},u=[];if(Array.isArray(t)){var f=new Set;t.forEach((function(e){var t=s(e);null!=t&&f.add(t.toString())})),u=Array.from(f).sort()}else u=t.categories;return{name:c,position:a,size:o,createOnHandlerData:function(e){var t=qr(e.elems.map(s),u,void 0,"dark"===l.theme);return t.toString=function(){return Kr(this)},{id:"categorical",name:c,value:t}},render:function(e){var t=e.width,n=e.height,r=e.set,o=e.theme,a=r.elems.map(s);return Ve.createElement(Jr,Object.assign({values:a,categories:u,width:t,height:n,theme:o},l))},renderSelection:function(e){var t=e.width,n=e.height,r=e.set,o=e.theme,a=e.overlap,i=e.selectionColor;if(null==a||0===a.length)return null;var c=r.elems.map(s),f=a.map(s);return Ve.createElement(Jr,Object.assign({values:f,base:c,categories:u,width:t,height:n,theme:o,rectStyle:{stroke:i,strokeWidth:2,fill:"light"===o?Zr:$r}},l))},renderQuery:function(e){var t=e.width,n=e.height,r=e.overlap,o=e.set,a=e.query,i=e.secondary,c=e.index,f=e.theme;if(null==r||0===r.length)return null;var d=o.elems.map(s),m=r.map(s);return Ve.createElement(Jr,Object.assign({values:m,base:d,categories:u,width:t,height:n,margin:i?c+2:0,rectStyle:{stroke:a.color,fill:"light"===f?Zr:$r},theme:f},l))}}}(e,t,n)}function Yr(e){return An(e)}function Xr(e,t){B(y(vr,t),e)}function eo(e,t){B(y(gr,t),e)}},693:(e,t,n)=>{function r(e,t,n){if(!e)return n;var r=e[t];return void 0===r?n:r}n.d(t,{N:()=>r})},858:(e,t,n)=>{n.d(t,{d9:()=>a});var r=n(693);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n){var a=function(e,t,n){return e?r.N(e[t.objectName],t.propertyName,n):n}(e,t,n);return a&&a.solid?a.solid.color:null==a||"object"===o(a)&&!a.solid?n:a}},835:(e,t,n)=>{n.d(t,{U:()=>a});var r=n(858);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getDefault",value:function(){return new this}},{key:"createPropertyIdentifier",value:function(e,t){return{objectName:e,propertyName:t}}},{key:"parse",value:function(e){var t,n=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return n;for(var o in t=n.getProperties())for(var a in t[o]){var i=n[o][a];n[o][a]=r.d9(e.metadata.objects,t[o][a],i)}return n}},{key:"isPropertyEnumerable",value:function(t){return!e.InnumerablePropertyPrefix.test(t)}},{key:"enumerateObjectInstances",value:function(e,t){var n=e&&e[t.objectName];if(!n)return[];var r={objectName:t.objectName,selector:null,properties:{}};for(var o in n)n.hasOwnProperty(o)&&(r.properties[o]=n[o]);return{instances:[r]}}}],(n=[{key:"getProperties",value:function(){var t=this,n={};return Object.keys(this).forEach((function(r){if(e.isPropertyEnumerable(r)){var o=Object.keys(t[r]);n[r]={},o.forEach((function(t){e.isPropertyEnumerable(r)&&(n[r][t]=e.createPropertyIdentifier(r,t))}))}})),n}}])&&o(t.prototype,n),a&&o(t,a),e}();a.InnumerablePropertyPrefix=/^_/},738:e=>{e.exports=Function("return this")()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{default:()=>a});var e=n(783),t=n(738).powerbi,o={name:"upSetJS61F43BDFCA024B13B6AC5BA73C9427B2",displayName:"Ultimate UpSet Plot",class:"Visual",apiVersion:"4.0.0",create:function(t){if(e.u)return new e.u(t);throw"Visual instance not found"},createModalDialog:function(e,t,n){var r=globalThis.dialogRegistry;e in r&&new r[e](t,n)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.upSetJS61F43BDFCA024B13B6AC5BA73C9427B2=o);const a=o})(),upSetJS61F43BDFCA024B13B6AC5BA73C9427B2=r})();